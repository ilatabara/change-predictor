id,project,branch,change_id,subject,status,created,updated,submitted,reviewers,revisions,total_comment_count,number,current_revision,discussion_messages_count,reviewers_count,revisions_count,owner_account_id,owner_name,owner_username,is_owner_bot,commit_message,git_command,changed_files,files_count,commit_id,topic,added_lines,deleted_lines,insertions,deletions
openstack%2Ffuel-web~master~I2125a59e24874d96093fea455fe626a686560cf4,openstack/fuel-web,master,I2125a59e24874d96093fea455fe626a686560cf4,Add RAID specific default volume configuration,ABANDONED,2014-06-20 13:19:33.000000000,2015-05-14 04:59:24.000000000,,"[{'_account_id': 3}, {'_account_id': 6509}, {'_account_id': 8054}, {'_account_id': 8971}]","[{'number': 1, 'created': '2014-06-20 13:19:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/137e534b1820fb6e0ec2985c20738c71802ddb64', 'message': 'Add RAID specific default volume configuration\n\nChange-Id: I2125a59e24874d96093fea455fe626a686560cf4\n'}, {'number': 2, 'created': '2014-06-25 14:39:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/2c0f5ccbee97cad2d431923930ac978c4ba21be6', 'message': 'Add RAID specific default volume configuration\n\nChange-Id: I2125a59e24874d96093fea455fe626a686560cf4\n'}, {'number': 3, 'created': '2014-06-30 08:40:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/92c1b91283d8fe5df0d3843e53796858202cb2b1', 'message': 'Add RAID specific default volume configuration\n\nChange-Id: I2125a59e24874d96093fea455fe626a686560cf4\n'}, {'number': 4, 'created': '2014-06-30 08:41:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/67c0361546f2761ecef3302340199b8b1049bbf6', 'message': 'Add RAID specific default volume configuration\n\nChange-Id: I2125a59e24874d96093fea455fe626a686560cf4\n'}, {'number': 5, 'created': '2014-06-30 09:38:39.000000000', 'files': ['nailgun/nailgun/volumes/manager.py', 'nailgun/nailgun/db/sqlalchemy/models/node.py'], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/89b5f1dc560421faa9a657e49171f601c0f6f0d2', 'message': 'Add RAID specific default volume configuration\n\nChange-Id: I2125a59e24874d96093fea455fe626a686560cf4\n'}]",0,101546,89b5f1dc560421faa9a657e49171f601c0f6f0d2,31,4,5,6509,,,0,"Add RAID specific default volume configuration

Change-Id: I2125a59e24874d96093fea455fe626a686560cf4
",git fetch https://review.opendev.org/openstack/fuel-web refs/changes/46/101546/5 && git format-patch -1 --stdout FETCH_HEAD,['nailgun/nailgun/volumes/manager.py'],1,137e534b1820fb6e0ec2985c20738c71802ddb64,raid," self.node = node self.__logger('Allowed volumes: %s' % self.allowed_volumes) if self.node.raids is not None and self.node.raids.config != {}: self.volumes = self.raidify_volumes(self.volumes, self.node.raids.config) def raidify_volumes(self, volumes, raid_config): simple_volumes = DisksFormatConvertor.format_disks_to_simple( volumes) """""" sorted_disks = sorted(self.node.meta[""disks""], key=lambda k: k[""name""]) """""" # as we need to map block devices to raid configuration, # we need to drop raid config actions that don't create # usable block devices _dev_action = (""create"", ""create_nwd"") config = [] for conf in self.node.raids.config[""raids""]: if conf[""action""] in _dev_action: config.append(conf) sorted_config = sorted(config, key=lambda k: k[""raid_idx""]) new_volumes = [] for i, volume_config in enumerate(simple_volumes): raid_conf = sorted_config[i] raid_role = raid_conf.get(""raid_role"", None) if not raid_role: # if 'raid_role' field is missing it means # that we're not dealing with the default configuration # and user didn't provide 'raid_role' in theirs custom # config, so fall back to the default volume configuration self.__logger('Missing ""raid_role"" field, fall back ' 'to the default configuration') return volumes volumes = volume_config[""volumes""] volume_names = [v[""name""] for v in volumes] if raid_role not in volume_names: continue for volume in volumes: if volume[""name""] == raid_role: volume[""size""] = volume_config[""size""] else: volume[""size""] = 0 new_volumes = self.set_volume_size(volume_config['id'], volume['name'], volume['size']) return new_volumes ",,50,0
openstack%2Fneutron~master~I5b4b8a67b24595568ea13bc400c1f5fce6d40f28,openstack/neutron,master,I5b4b8a67b24595568ea13bc400c1f5fce6d40f28,Remove skip of service-type management API test,MERGED,2015-04-20 19:14:32.000000000,2015-05-14 04:55:12.000000000,2015-05-14 04:55:10.000000000,"[{'_account_id': 3}, {'_account_id': 5170}, {'_account_id': 7448}, {'_account_id': 8124}, {'_account_id': 8645}, {'_account_id': 9008}, {'_account_id': 9681}, {'_account_id': 9682}, {'_account_id': 9732}, {'_account_id': 9787}, {'_account_id': 9845}, {'_account_id': 10116}, {'_account_id': 10117}, {'_account_id': 10121}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10387}, {'_account_id': 10980}, {'_account_id': 12040}, {'_account_id': 14208}, {'_account_id': 14212}, {'_account_id': 14213}, {'_account_id': 14214}, {'_account_id': 14215}, {'_account_id': 14216}, {'_account_id': 14323}, {'_account_id': 14571}, {'_account_id': 14807}, {'_account_id': 15444}, {'_account_id': 15752}]","[{'number': 1, 'created': '2015-04-20 19:14:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8e1e3acea77bc4f2d50677bf723b47f3841f318a', 'message': ""Remove skip of service-type management API test\n\nAdvanced services split is complete so remove the skip\nfor the service-type management API test.\n\n(Yes, there is only one placeholder test. More tests\nneed to be developed.)\n\nAlso remove the obsolete 'JSON' suffix from the test\nclass.\n\nCloses-bug: 1400370\n\nChange-Id: I5b4b8a67b24595568ea13bc400c1f5fce6d40f28\n""}, {'number': 2, 'created': '2015-05-10 13:22:24.000000000', 'files': ['neutron/tests/api/test_service_type_management.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/c9284827eeec90a253157286214bc1d17771db24', 'message': ""Remove skip of service-type management API test\n\nAdvanced services split is complete so remove the skip\nfor the service-type management API test.\n\n(Yes, there is only one placeholder test. More tests\nneed to be developed.)\n\nAlso remove the obsolete 'JSON' suffix from the test\nclass.\n\nCloses-bug: 1400370\n\nChange-Id: I5b4b8a67b24595568ea13bc400c1f5fce6d40f28\n""}]",0,175546,c9284827eeec90a253157286214bc1d17771db24,57,30,2,6524,,,0,"Remove skip of service-type management API test

Advanced services split is complete so remove the skip
for the service-type management API test.

(Yes, there is only one placeholder test. More tests
need to be developed.)

Also remove the obsolete 'JSON' suffix from the test
class.

Closes-bug: 1400370

Change-Id: I5b4b8a67b24595568ea13bc400c1f5fce6d40f28
",git fetch https://review.opendev.org/openstack/neutron refs/changes/46/175546/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/api/test_service_type_management.py'],1,8e1e3acea77bc4f2d50677bf723b47f3841f318a,bug/1400370,"class ServiceTypeManagementTest(base.BaseNetworkTest): super(ServiceTypeManagementTest, cls).resource_setup()","from tempest_lib import decorators class ServiceTypeManagementTestJSON(base.BaseNetworkTest): super(ServiceTypeManagementTestJSON, cls).resource_setup() @decorators.skip_because(bug=""1400370"")",2,5
openstack%2Fpython-keystoneclient~master~I4f05379df41a3f6ca24ce8eb6911144a381f058e,openstack/python-keystoneclient,master,I4f05379df41a3f6ca24ce8eb6911144a381f058e,Pass OS_* env vars fix for tox 2.0,MERGED,2015-05-14 00:33:32.000000000,2015-05-14 04:38:03.000000000,2015-05-14 04:38:02.000000000,"[{'_account_id': 3}, {'_account_id': 2218}, {'_account_id': 6486}, {'_account_id': 7191}]","[{'number': 1, 'created': '2015-05-14 00:33:32.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/26f8e3ff3dc251d9d90e85a32f064b0794c79057', 'message': 'Pass OS_* env vars fix for tox 2.0\n\nTox 2.0 stopped passing environment variables from the parent to\nthe tests, so the functional tests were failing since they rely\non keystone CLI getting the OS_* environment variables.\n\nChange-Id: I4f05379df41a3f6ca24ce8eb6911144a381f058e\n'}]",0,182900,26f8e3ff3dc251d9d90e85a32f064b0794c79057,10,4,1,6486,,,0,"Pass OS_* env vars fix for tox 2.0

Tox 2.0 stopped passing environment variables from the parent to
the tests, so the functional tests were failing since they rely
on keystone CLI getting the OS_* environment variables.

Change-Id: I4f05379df41a3f6ca24ce8eb6911144a381f058e
",git fetch https://review.opendev.org/openstack/python-keystoneclient refs/changes/00/182900/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,26f8e3ff3dc251d9d90e85a32f064b0794c79057,tox2,passenv = OS_*,,1,0
openstack%2Ftempest~master~I4a38bd16b5568ce508623170eea186a3c53f1c89,openstack/tempest,master,I4a38bd16b5568ce508623170eea186a3c53f1c89,Remove common/ssh.py due to migration to tempest_lib,MERGED,2015-04-21 19:46:02.000000000,2015-05-14 04:06:15.000000000,2015-05-08 20:07:20.000000000,"[{'_account_id': 3}, {'_account_id': 1921}, {'_account_id': 5196}, {'_account_id': 8871}, {'_account_id': 10234}, {'_account_id': 10385}]","[{'number': 1, 'created': '2015-04-21 19:46:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/9144652af6df41ca65cb949e89cbb5fa780c2760', 'message': 'Remove common/ssh.py due to migration to tempest_lib\n\ncommon ssh.py module and it tests was migrated to tempest_lib.\nSo we can remove it here.\n\nNow this review depends on review with addition ssh to tempest_lib.\nWhen requirements will be new then this dependency can be removed.\n\nChange-Id: I4a38bd16b5568ce508623170eea186a3c53f1c89\nDepends-On: Iad5ffbfe18690f1b6f178dde31a8ec0d0666c815\n'}, {'number': 2, 'created': '2015-04-22 05:12:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/1a082b5264f4197bd35a09419f2f2a1a3399a2f2', 'message': 'Remove common/ssh.py due to migration to tempest_lib\n\ncommon ssh.py module and it tests was migrated to tempest_lib.\nreview is here - https://review.openstack.org/#/c/166518/\nSo we can remove it here.\n\nNow this review fails because tempest-lib is not updated yet and has old code.\n\nChange-Id: I4a38bd16b5568ce508623170eea186a3c53f1c89\n'}, {'number': 3, 'created': '2015-04-27 07:33:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/d5f360725a0fbaba2bfae4b079cbd93a34eb6b6b', 'message': 'Remove common/ssh.py due to migration to tempest_lib\n\ncommon ssh.py module and it tests was migrated to tempest_lib.\nreview is here - https://review.openstack.org/#/c/166518/\nSo we can remove it here.\n\nNow this review fails because tempest-lib is not updated yet and has old code.\n\nChange-Id: I4a38bd16b5568ce508623170eea186a3c53f1c89\n'}, {'number': 4, 'created': '2015-04-29 03:25:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/71e4549ba0160189963429ac8354e3233598c915', 'message': 'Remove common/ssh.py due to migration to tempest_lib\n\ncommon ssh.py module and it tests was migrated to tempest_lib.\nreview is here - https://review.openstack.org/#/c/166518/\nSo we can remove it here.\n\nNow this review fails because tempest-lib is not updated yet and has old code.\n\nChange-Id: I4a38bd16b5568ce508623170eea186a3c53f1c89\n'}, {'number': 5, 'created': '2015-04-29 09:12:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/ef2d017639698e3ccb56874779e1405719c6a723', 'message': 'Remove common/ssh.py due to migration to tempest_lib\n\ncommon ssh.py module and it tests was migrated to tempest_lib.\nreview is here - https://review.openstack.org/#/c/166518/\nSo we can remove it here.\n\nNow this review fails because tempest-lib is not updated yet and has old code.\n\nDepends-on: Ie6435b4f3a367b0a8cec68f21c0b4f5f61d6b688\nChange-Id: I4a38bd16b5568ce508623170eea186a3c53f1c89\n'}, {'number': 6, 'created': '2015-04-29 10:13:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/4aa200f1b8a6e805cb4492885e814ef4eafcfed3', 'message': 'Remove common/ssh.py due to migration to tempest_lib\n\ncommon ssh.py module and it tests was migrated to tempest_lib.\nreview is here - https://review.openstack.org/#/c/166518/\nSo we can remove it here.\n\nNow this review fails because tempest-lib is not updated yet and has old code.\n\nChange-Id: I4a38bd16b5568ce508623170eea186a3c53f1c89\n'}, {'number': 7, 'created': '2015-04-30 03:14:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/20e74351ca18dcbc292934ae6c34622ad6b95652', 'message': 'Remove common/ssh.py due to migration to tempest_lib\n\ncommon ssh.py module and it tests was migrated to tempest_lib.\nreview is here - https://review.openstack.org/#/c/166518/\nSo we can remove it here.\n\nNow this review fails because tempest-lib is not updated yet and has old code.\n\nChange-Id: I4a38bd16b5568ce508623170eea186a3c53f1c89\n'}, {'number': 8, 'created': '2015-05-02 11:10:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/b1425250c4087e9a6ba1fe66170ef4b005520749', 'message': 'Remove common/ssh.py due to migration to tempest_lib\n\ncommon ssh.py module and it tests was migrated to tempest_lib.\nreview is here - https://review.openstack.org/#/c/166518/\nSo we can remove it here.\n\nNow this review fails because tempest-lib is not updated yet and has old code.\n\nChange-Id: I4a38bd16b5568ce508623170eea186a3c53f1c89\n'}, {'number': 9, 'created': '2015-05-08 17:42:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/f9d25e2b0741a21ffeae589c5efe12d6503cb2fa', 'message': 'Remove common/ssh.py due to migration to tempest_lib\n\ncommon ssh.py module and it tests was migrated to tempest_lib.\nreview is here - https://review.openstack.org/#/c/166518/\nSo we can remove it here.\n\nNow this review fails because tempest-lib is not updated yet and has old code.\n\nChange-Id: I4a38bd16b5568ce508623170eea186a3c53f1c89\n'}, {'number': 10, 'created': '2015-05-08 17:43:26.000000000', 'files': ['tempest/common/ssh.py', 'tempest/scenario/manager.py', 'tempest/common/utils/linux/remote_client.py', 'tempest/exceptions.py', 'tempest/tests/test_ssh.py', 'tempest/stress/driver.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/64723767529044e2062f4317c4d8cc36916eff89', 'message': 'Remove common/ssh.py due to migration to tempest_lib\n\ncommon ssh.py module and it tests was migrated to tempest_lib.\nand included in tempest-lib release 0.5.0. This commit removes\nthe tempest copies of this module and switches over to using\nthe tempest-lib copy.\n\nChange-Id: I4a38bd16b5568ce508623170eea186a3c53f1c89\n'}]",0,176039,64723767529044e2062f4317c4d8cc36916eff89,48,6,10,10234,,,0,"Remove common/ssh.py due to migration to tempest_lib

common ssh.py module and it tests was migrated to tempest_lib.
and included in tempest-lib release 0.5.0. This commit removes
the tempest copies of this module and switches over to using
the tempest-lib copy.

Change-Id: I4a38bd16b5568ce508623170eea186a3c53f1c89
",git fetch https://review.opendev.org/openstack/tempest refs/changes/39/176039/3 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/common/ssh.py', 'tempest/common/utils/linux/remote_client.py', 'tempest/scenario/manager.py', 'tempest/exceptions.py', 'tempest/tests/test_ssh.py', 'tempest/stress/driver.py']",6,9144652af6df41ca65cb949e89cbb5fa780c2760,,from tempest_lib.common import ssh,from tempest.common import ssh,4,356
openstack%2Fneutron~master~I2fa51e3f55847f7b5062bec0c1c666f5c11364d5,openstack/neutron,master,I2fa51e3f55847f7b5062bec0c1c666f5c11364d5,Add capability to wait for IPv6 address in ip_lib,MERGED,2015-05-06 00:45:24.000000000,2015-05-14 03:26:08.000000000,2015-05-14 03:26:06.000000000,"[{'_account_id': 3}, {'_account_id': 1131}, {'_account_id': 4656}, {'_account_id': 5170}, {'_account_id': 6524}, {'_account_id': 6854}, {'_account_id': 7448}, {'_account_id': 7715}, {'_account_id': 7787}, {'_account_id': 8124}, {'_account_id': 8645}, {'_account_id': 8873}, {'_account_id': 9008}, {'_account_id': 9681}, {'_account_id': 9682}, {'_account_id': 9732}, {'_account_id': 9787}, {'_account_id': 9845}, {'_account_id': 10116}, {'_account_id': 10117}, {'_account_id': 10121}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10386}, {'_account_id': 10387}, {'_account_id': 10692}, {'_account_id': 11279}, {'_account_id': 11343}, {'_account_id': 14208}, {'_account_id': 14212}, {'_account_id': 14213}, {'_account_id': 14214}, {'_account_id': 14215}, {'_account_id': 14216}, {'_account_id': 14323}, {'_account_id': 14571}, {'_account_id': 15296}, {'_account_id': 15444}, {'_account_id': 15752}]","[{'number': 1, 'created': '2015-05-06 00:45:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ca3a0b4479a4a09f5f6c6e955e5c8f602a90f2cf', 'message': 'Add capability to wait for IPv6 address in ip_lib\n\nWhen an IPv6 address is added to an interface, it\ngoes into a tentative state for a couple of seconds\nfor duplicate address detection. During this time,\nuse of the address will fail. This is an issue for\nfunctional tests where they may add an address to\nan interface and then immediately run a ping and\nexpect success.\n\nThis patch adds a new wait_until_address_ready function\nto ip_lib that will poll the interface every 200 ms until\nthe status transitions off of tentative or until a time limit\nis exceeded. If the time limit is exceeded, it will raise an\nexception.\n\nIt also adds unit tests and updates a functional test to\nmake use of the new feature.\n\nChange-Id: I2fa51e3f55847f7b5062bec0c1c666f5c11364d5\n'}, {'number': 2, 'created': '2015-05-06 01:02:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ba561b80161a7d2efd6855449257338488cc1ff8', 'message': 'Add capability to wait for IPv6 address in ip_lib\n\nWhen an IPv6 address is added to an interface, it\ngoes into a tentative state for a couple of seconds\nfor duplicate address detection. During this time,\nuse of the address will fail. This is an issue for\nfunctional tests where they may add an address to\nan interface and then immediately run a ping and\nexpect success.\n\nThis patch adds a new wait_until_address_ready function\nto ip_lib that will poll the interface every 200 ms until\nthe status transitions off of tentative or until a time limit\nis exceeded. If the time limit is exceeded, it will raise an\nexception.\n\nIt also adds unit tests and updates a functional test to\nmake use of the new feature.\n\nChange-Id: I2fa51e3f55847f7b5062bec0c1c666f5c11364d5\n'}, {'number': 3, 'created': '2015-05-06 07:06:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4aab0d767d886870521c53577bf9c2de49298145', 'message': 'Add capability to wait for IPv6 address in ip_lib\n\nWhen an IPv6 address is added to an interface, it\ngoes into a tentative state for a couple of seconds\nfor duplicate address detection. During this time,\nuse of the address will fail. This is an issue for\nfunctional tests where they may add an address to\nan interface and then immediately run a ping and\nexpect success.\n\nThis patch adds a new wait_until_address_ready function\nto ip_lib that will poll the interface every 200 ms until\nthe status transitions off of tentative or until a time limit\nis exceeded. If the time limit is exceeded, it will raise an\nexception.\n\nIt also adds unit tests and updates a functional test to\nmake use of the new feature.\n\nChange-Id: I2fa51e3f55847f7b5062bec0c1c666f5c11364d5\n'}, {'number': 4, 'created': '2015-05-06 22:22:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/79e640f242e65655728973d123912138f0ff6310', 'message': 'Add capability to wait for IPv6 address in ip_lib\n\nWhen an IPv6 address is added to an interface, it\ngoes into a tentative state for a couple of seconds\nfor duplicate address detection. During this time,\nuse of the address will fail. This is an issue for\nfunctional tests where they may add an address to\nan interface and then immediately run a ping and\nexpect success.\n\nThis patch adds a new wait_until_address_ready function\nto ip_lib that will poll the interface every 200 ms until\nthe status transitions off of tentative or until a time limit\nis exceeded. If the time limit is exceeded, it will raise an\nexception.\n\nIt also adds unit tests and updates a functional test to\nmake use of the new feature.\n\nChange-Id: I2fa51e3f55847f7b5062bec0c1c666f5c11364d5\n'}, {'number': 5, 'created': '2015-05-07 01:42:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ee63d1cea4ee6b2db4db7f4b4d9b9482cee27944', 'message': 'Add capability to wait for IPv6 address in ip_lib\n\nWhen an IPv6 address is added to an interface, it\ngoes into a tentative state for a couple of seconds\nfor duplicate address detection. During this time,\nuse of the address will fail. This is an issue for\nfunctional tests where they may add an address to\nan interface and then immediately run a ping and\nexpect success.\n\nThis patch adds a new wait_until_address_ready function\nto ip_lib that will poll the interface every 200 ms until\nthe status transitions off of tentative or until a time limit\nis exceeded. If the time limit is exceeded, it will raise an\nexception.\n\nIt also adds unit tests and updates a functional test to\nmake use of the new feature.\n\nChange-Id: I2fa51e3f55847f7b5062bec0c1c666f5c11364d5\n'}, {'number': 6, 'created': '2015-05-07 21:14:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/48190cfb3503bde924dec905aff166811d4341c7', 'message': 'Add capability to wait for IPv6 address in ip_lib\n\nWhen an IPv6 address is added to an interface, it\ngoes into a tentative state for a couple of seconds\nfor duplicate address detection. During this time,\nuse of the address will fail. This is an issue for\nfunctional tests where they may add an address to\nan interface and then immediately run a ping and\nexpect success.\n\nThis patch adds a new wait_until_address_ready function\nto ip_lib that will poll the interface every 200 ms until\nthe status transitions off of tentative or until a time limit\nis exceeded. If the time limit is exceeded, it will raise an\nexception.\n\nIt also adds unit tests and updates a functional test to\nmake use of the new feature.\n\nChange-Id: I2fa51e3f55847f7b5062bec0c1c666f5c11364d5\n'}, {'number': 7, 'created': '2015-05-07 21:17:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8313c89404afd97dfe32018d4737f9f737c5e32c', 'message': 'Add capability to wait for IPv6 address in ip_lib\n\nWhen an IPv6 address is added to an interface, it\ngoes into a tentative state for a couple of seconds\nfor duplicate address detection. During this time,\nuse of the address will fail. This is an issue for\nfunctional tests where they may add an address to\nan interface and then immediately run a ping and\nexpect success.\n\nThis patch adds a new wait_until_address_ready function\nto ip_lib that will poll the interface every 200 ms until\nthe status transitions off of tentative or until a time limit\nis exceeded. If the time limit is exceeded, it will raise an\nexception.\n\nIt also adds unit tests and updates a functional test to\nmake use of the new feature.\n\nChange-Id: I2fa51e3f55847f7b5062bec0c1c666f5c11364d5\n'}, {'number': 8, 'created': '2015-05-08 23:13:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/db8f1fe6e18a1310b95b5739ac80a57f7dd65a2e', 'message': 'Add capability to wait for IPv6 address in ip_lib\n\nWhen an IPv6 address is added to an interface, it\ngoes into a tentative state for a couple of seconds\nfor duplicate address detection. During this time,\nuse of the address will fail. This is an issue for\nfunctional tests where they may add an address to\nan interface and then immediately run a ping and\nexpect success.\n\nThis patch adds a new wait_until_address_ready function\nto ip_lib that will poll the interface every 200 ms until\nthe status transitions off of tentative or until a time limit\nis exceeded. If the time limit is exceeded, it will raise an\nexception.\n\nIt also adds unit tests and updates a functional test to\nmake use of the new feature.\n\nChange-Id: I2fa51e3f55847f7b5062bec0c1c666f5c11364d5\n'}, {'number': 9, 'created': '2015-05-09 04:06:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7a6f46e34afa6d952dd5491cef96d234c86227de', 'message': 'Add capability to wait for IPv6 address in ip_lib\n\nWhen an IPv6 address is added to an interface, it\ngoes into a tentative state for a couple of seconds\nfor duplicate address detection. During this time,\nuse of the address will fail. This is an issue for\nfunctional tests where they may add an address to\nan interface and then immediately run a ping and\nexpect success.\n\nThis patch adds a new wait_until_address_ready function\nto ip_lib that will poll the interface every 200 ms until\nthe status transitions off of tentative or until a time limit\nis exceeded. If the time limit is exceeded, it will raise an\nexception.\n\nIt also adds unit tests and updates a functional test to\nmake use of the new feature.\n\nChange-Id: I2fa51e3f55847f7b5062bec0c1c666f5c11364d5\n'}, {'number': 10, 'created': '2015-05-12 20:35:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/36f4cf1e4d1c56e042a05a78a0a33d89a24c282a', 'message': 'Add capability to wait for IPv6 address in ip_lib\n\nWhen an IPv6 address is added to an interface, it\ngoes into a tentative state for a couple of seconds\nfor duplicate address detection. During this time,\nuse of the address will fail. This is an issue for\nfunctional tests where they may add an address to\nan interface and then immediately run a ping and\nexpect success.\n\nThis patch adds a new wait_until_address_ready function\nto ip_lib that will poll the interface every 200 ms until\nthe status transitions off of tentative or until a time limit\nis exceeded. If the time limit is exceeded, it will raise an\nexception.\n\nIt also adds unit tests and updates a functional test to\nmake use of the new feature.\n\nChange-Id: I2fa51e3f55847f7b5062bec0c1c666f5c11364d5\n'}, {'number': 11, 'created': '2015-05-12 20:37:29.000000000', 'files': ['neutron/tests/functional/agent/test_ovs_flows.py', 'neutron/agent/linux/ip_lib.py', 'neutron/tests/unit/agent/linux/test_ip_lib.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/e833d33db199b6e8ca9f1877b2fd7914f376b433', 'message': 'Add capability to wait for IPv6 address in ip_lib\n\nWhen an IPv6 address is added to an interface, it\ngoes into a tentative state for a couple of seconds\nfor duplicate address detection. During this time,\nuse of the address will fail. This is an issue for\nfunctional tests where they may add an address to\nan interface and then immediately run a ping and\nexpect success.\n\nThis patch adds a new wait_until_address_ready function\nto ip_lib that will poll the interface every 200 ms until\nthe status transitions off of tentative or until a time limit\nis exceeded. If the time limit is exceeded, it will raise an\nexception.\n\nIt also adds unit tests and updates a functional test to\nmake use of the new feature.\n\nChange-Id: I2fa51e3f55847f7b5062bec0c1c666f5c11364d5\n'}]",32,180367,e833d33db199b6e8ca9f1877b2fd7914f376b433,276,39,11,7787,,,0,"Add capability to wait for IPv6 address in ip_lib

When an IPv6 address is added to an interface, it
goes into a tentative state for a couple of seconds
for duplicate address detection. During this time,
use of the address will fail. This is an issue for
functional tests where they may add an address to
an interface and then immediately run a ping and
expect success.

This patch adds a new wait_until_address_ready function
to ip_lib that will poll the interface every 200 ms until
the status transitions off of tentative or until a time limit
is exceeded. If the time limit is exceeded, it will raise an
exception.

It also adds unit tests and updates a functional test to
make use of the new feature.

Change-Id: I2fa51e3f55847f7b5062bec0c1c666f5c11364d5
",git fetch https://review.opendev.org/openstack/neutron refs/changes/67/180367/3 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/functional/agent/test_ovs_flows.py', 'neutron/agent/linux/ip_lib.py', 'neutron/tests/unit/agent/linux/test_ip_lib.py']",3,ca3a0b4479a4a09f5f6c6e955e5c8f602a90f2cf,,"import testtools inet6 fe80::3023:39ff:febc:22ae/64 scope link tentative valid_lft forever preferred_lft forever inet6 fe80::3023:39ff:febc:22af/64 scope link tentative dadfailed valid_lft forever preferred_lft forever inet6 fe80::3023:39ff:febc:22ae/64 scope link tentative valid_lft forever preferred_lft forever inet6 fe80::3023:39ff:febc:22af/64 scope link tentative dadfailed valid_lft forever preferred_lft forever dict(scope='global', addr_status='', dict(scope='global', addr_status='dynamic', dict(scope='link', addr_status='tentative', dynamic=False, cidr='fe80::3023:39ff:febc:22ae/64'), dict(scope='link', addr_status='dadfailed', dynamic=False, cidr='fe80::3023:39ff:febc:22af/64'), dict(scope='global', addr_status='dynamic', dict(scope='global', addr_status='dynamic', dict(scope='global', addr_status='dynamic', dict(scope='link', addr_status='', self.assertEqual(expected, self.addr_cmd.list()) def test_wait_until_address_ready(self): self.parent._run.return_value = ADDR_SAMPLE # this address is not tentative or failed so it should return self.assertIsNone(self.addr_cmd.wait_until_address_ready( '2001:470:9:1224:fd91:272:581e:3a32/64')) def test_wait_until_address_ready_non_existent_address(self): self.parent._run.return_value = ADDR_SAMPLE with testtools.ExpectedException(ip_lib.AddressNotReady): self.addr_cmd.wait_until_address_ready('abcd::123/64') def test_wait_until_address_ready_timeout(self): self.parent._run.return_value = ADDR_SAMPLE tentative_address = 'fe80::3023:39ff:febc:22ae/64' with testtools.ExpectedException(ip_lib.AddressNotReady): self.addr_cmd.wait_until_address_ready(tentative_address, wait_time=1) dict(scope='global', addr_status='',"," dict(scope='global', dict(scope='global', dict(scope='global', dict(scope='global', dict(scope='global', dict(scope='link', self.assertEqual(self.addr_cmd.list(), expected) dict(scope='global',",84,13
openstack%2Fheat~stable%2Fkilo~Idff342b3aecc2d145dfbc7c0f610ad0ca8e52c8b,openstack/heat,stable/kilo,Idff342b3aecc2d145dfbc7c0f610ad0ca8e52c8b,Generate stack events for stack state transitions,MERGED,2015-05-11 19:06:42.000000000,2015-05-14 03:25:58.000000000,2015-05-14 03:25:57.000000000,"[{'_account_id': 3}, {'_account_id': 4328}, {'_account_id': 4571}, {'_account_id': 6577}, {'_account_id': 10487}, {'_account_id': 12321}]","[{'number': 1, 'created': '2015-05-11 19:06:42.000000000', 'files': ['heat/tests/test_engine_service.py', 'heat/tests/db/test_sqlalchemy_api.py', 'heat/engine/stack.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/06a5c0e56fc76a62f7c41c6e81ec1b59710ffb05', 'message': ""Generate stack events for stack state transitions\n\nCurrently, the event-list output is very resource-centric, despite\nbeing scoped to the stack from an API path perspective.\n\nThis, combined with the fact that the stack updated_at timestamp\nis only updated after a succesful update (ref bug #1193269) makes\nit impossible to derive the time when an update started via any API.\n\nThis is a problem when trying to use the new hook/breakpoint API,\nbecause it's necessary to poll for all events since the most recent\nupdate started, disregarding any stale hook events from previous\nupdates (which may have failed or timed out without the hooks getting\ncleared).\n\nTo work around this, add an event for each stack state transition,\nsuch that you can detect the transition to UPDATE_IN_PROGRESS,\nthen use that event as a marker to get post-update-started events.\n\nWithout this (or some other way to determine when the stack update\nstarted), the hooks pre-update functionality landed for kilo is\nnot really usable (particularly mechanically via scripts).\n\nChange-Id: Idff342b3aecc2d145dfbc7c0f610ad0ca8e52c8b\nPartial-Bug: #1448155\n""}]",0,182020,06a5c0e56fc76a62f7c41c6e81ec1b59710ffb05,13,6,1,12321,,,0,"Generate stack events for stack state transitions

Currently, the event-list output is very resource-centric, despite
being scoped to the stack from an API path perspective.

This, combined with the fact that the stack updated_at timestamp
is only updated after a succesful update (ref bug #1193269) makes
it impossible to derive the time when an update started via any API.

This is a problem when trying to use the new hook/breakpoint API,
because it's necessary to poll for all events since the most recent
update started, disregarding any stale hook events from previous
updates (which may have failed or timed out without the hooks getting
cleared).

To work around this, add an event for each stack state transition,
such that you can detect the transition to UPDATE_IN_PROGRESS,
then use that event as a marker to get post-update-started events.

Without this (or some other way to determine when the stack update
started), the hooks pre-update functionality landed for kilo is
not really usable (particularly mechanically via scripts).

Change-Id: Idff342b3aecc2d145dfbc7c0f610ad0ca8e52c8b
Partial-Bug: #1448155
",git fetch https://review.opendev.org/openstack/heat refs/changes/20/182020/1 && git format-patch -1 --stdout FETCH_HEAD,"['heat/tests/test_engine_service.py', 'heat/tests/db/test_sqlalchemy_api.py', 'heat/engine/stack.py']",3,06a5c0e56fc76a62f7c41c6e81ec1b59710ffb05,bug/1193269,"from heat.engine import event def _add_event(self, action, status, reason): '''Add a state change event to the database.''' ev = event.Event(self.context, self, action, status, reason, self.id, {}, self.name, 'OS::Heat::Stack') ev.store() self._add_event(action, status, reason)",,65,34
openstack%2Fdevstack~master~I9809d2b2e796ff1a5ea7e4f25bbeb21bd4817a72,openstack/devstack,master,I9809d2b2e796ff1a5ea7e4f25bbeb21bd4817a72,Prevent setting tempest fixed_network_name for cells,MERGED,2015-04-10 22:25:04.000000000,2015-05-14 03:23:18.000000000,2015-05-14 03:23:17.000000000,"[{'_account_id': 3}, {'_account_id': 970}, {'_account_id': 1653}, {'_account_id': 4690}, {'_account_id': 5441}, {'_account_id': 7166}, {'_account_id': 7715}]","[{'number': 1, 'created': '2015-04-10 22:25:04.000000000', 'files': ['lib/tempest', 'stack.sh'], 'web_link': 'https://opendev.org/openstack/devstack/commit/f5b550ee2959a30f7e07271e596cee1d7346aa50', 'message': 'Prevent setting tempest fixed_network_name for cells\n\nInstead of creating a network in both the API cell and child cell,\nlet tempest use the old behavior of not querying networks from the\nAPI for testing server create.\n\nChange-Id: I9809d2b2e796ff1a5ea7e4f25bbeb21bd4817a72\n'}]",0,172583,f5b550ee2959a30f7e07271e596cee1d7346aa50,27,7,1,4690,,,0,"Prevent setting tempest fixed_network_name for cells

Instead of creating a network in both the API cell and child cell,
let tempest use the old behavior of not querying networks from the
API for testing server create.

Change-Id: I9809d2b2e796ff1a5ea7e4f25bbeb21bd4817a72
",git fetch https://review.opendev.org/openstack/devstack refs/changes/83/172583/1 && git format-patch -1 --stdout FETCH_HEAD,"['lib/tempest', 'stack.sh']",2,f5b550ee2959a30f7e07271e596cee1d7346aa50,cells-fixed-network-name,," # Both cells should have the same network uuid for server create if [[ ! ""$NETWORK_CREATE_ARGS"" =~ ""--uuid"" ]]; then NETWORK_CREATE_ARGS=""$NETWORK_CREATE_ARGS --uuid $(uuidgen)"" fi # Create a small network in the API cell $NOVA_BIN_DIR/nova-manage --config-file $NM_CONF network create ""$PRIVATE_NETWORK_NAME"" $FIXED_RANGE 1 $FIXED_NETWORK_SIZE $NETWORK_CREATE_ARGS # Everything else should go in the child cell",3,8
openstack%2Fheat~master~I9aa71a57232b05d00a780dba38ef1e1ccfe9dc03,openstack/heat,master,I9aa71a57232b05d00a780dba38ef1e1ccfe9dc03,Support multiple software config within one deployment,ABANDONED,2015-03-30 09:03:38.000000000,2015-05-14 03:15:28.000000000,,"[{'_account_id': 3}, {'_account_id': 6348}]","[{'number': 1, 'created': '2015-03-30 09:03:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/ab9976c7cdfac2807499618f580763f18aebd101', 'message': ""Support multiple software config within one deployment\n\nChange software deployment resource's config type to 'list',\nand make one deployment support multiple software configs.\n\nChange-Id: I9aa71a57232b05d00a780dba38ef1e1ccfe9dc03\nImplements blueprint multi-software-config\n""}, {'number': 2, 'created': '2015-03-30 10:01:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/9f224b02ac166ca20ee4d2c8993f84759a1329fb', 'message': ""Support multiple software config within one deployment\n\nChange software deployment resource's config type to 'list',\nand make one deployment support multiple software configs.\n\nChange-Id: I9aa71a57232b05d00a780dba38ef1e1ccfe9dc03\nImplements blueprint multi-software-config\n""}, {'number': 3, 'created': '2015-04-28 08:49:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/673106dc9beece582b87a83f8bb83dcdd0ce9e94', 'message': ""Support multiple software config within one deployment\n\nChange software deployment resource's config type to 'list',\nand make one deployment support multiple software configs.\n\nChange-Id: I9aa71a57232b05d00a780dba38ef1e1ccfe9dc03\nImplements blueprint multi-software-config\n""}, {'number': 4, 'created': '2015-05-07 06:21:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/ef8411affb2f5ffa6687a4d4b811e36f21b2599b', 'message': ""Support multiple software config within one deployment\n\nChange software deployment resource's config type to 'list',\nand make one deployment support multiple software configs.\n\nChange-Id: I9aa71a57232b05d00a780dba38ef1e1ccfe9dc03\nImplements blueprint multi-software-config\n""}, {'number': 5, 'created': '2015-05-07 06:24:32.000000000', 'files': ['heat/db/sqlalchemy/migrate_repo/versions/063_software_config.py', 'heat/engine/resources/openstack/heat/software_deployment.py', 'heat/db/sqlalchemy/models.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/d38750b013d2a3cd4963990489b32dd46686eb06', 'message': ""Support multiple software config within one deployment\n\nChange software deployment resource's config type to 'list',\nand make one deployment support multiple software configs.\n\nChange-Id: I9aa71a57232b05d00a780dba38ef1e1ccfe9dc03\nImplements blueprint multi-software-config\n""}]",0,168824,d38750b013d2a3cd4963990489b32dd46686eb06,15,2,5,6348,,,0,"Support multiple software config within one deployment

Change software deployment resource's config type to 'list',
and make one deployment support multiple software configs.

Change-Id: I9aa71a57232b05d00a780dba38ef1e1ccfe9dc03
Implements blueprint multi-software-config
",git fetch https://review.opendev.org/openstack/heat refs/changes/24/168824/1 && git format-patch -1 --stdout FETCH_HEAD,['heat/engine/resources/openstack/heat/software_deployment.py'],1,ab9976c7cdfac2807499618f580763f18aebd101,bp/multi-software-config," properties.Schema.LIST, configs = [] if self.properties.get(self.CONFIG): config_id = self.properties.get(self.CONFIG) for id in config_id: configs.append(self.rpc_client().show_software_config( self.context, id)) for config in configs: if (action not in self.properties[self.DEPLOY_ACTIONS] and not config.get( rpc_api.SOFTWARE_CONFIG_GROUP) == 'component'): return props = self._build_properties( self.properties, self._get_derived_config(action, config), action) if action == self.CREATE: sd = self.rpc_client().create_software_deployment( self.context, server_id=self.properties[SoftwareDeployment.SERVER], stack_user_project_id=self.stack.stack_user_project_id, **props) self.resource_id_set(sd[rpc_api.SOFTWARE_DEPLOYMENT_ID]) elif self.resource_id is None: sd = None else: sd = self.rpc_client().show_software_deployment( self.context, self.resource_id) prev_derived_config = sd[rpc_api.SOFTWARE_DEPLOYMENT_CONFIG_ID] sd = self.rpc_client().update_software_deployment( self.context, deployment_id=self.resource_id, **props) if prev_derived_config: self._delete_derived_config(prev_derived_config)"," properties.Schema.STRING, if self.properties.get(self.CONFIG): config = self.rpc_client().show_software_config( self.context, self.properties.get(self.CONFIG)) else: config = {} if (action not in self.properties[self.DEPLOY_ACTIONS] and not config.get( rpc_api.SOFTWARE_CONFIG_GROUP) == 'component'): return props = self._build_properties( self.properties, self._get_derived_config(action, config), action) if action == self.CREATE: sd = self.rpc_client().create_software_deployment( self.context, server_id=self.properties[SoftwareDeployment.SERVER], stack_user_project_id=self.stack.stack_user_project_id, **props) self.resource_id_set(sd[rpc_api.SOFTWARE_DEPLOYMENT_ID]) elif self.resource_id is None: sd = None else: sd = self.rpc_client().show_software_deployment( self.context, self.resource_id) prev_derived_config = sd[rpc_api.SOFTWARE_DEPLOYMENT_CONFIG_ID] sd = self.rpc_client().update_software_deployment( self.context, deployment_id=self.resource_id, **props) if prev_derived_config: self._delete_derived_config(prev_derived_config)",34,32
openstack%2Fmagnum~master~I99067af163b51ef4ee279498d85c6bd223210e7a,openstack/magnum,master,I99067af163b51ef4ee279498d85c6bd223210e7a,Update docs and some files to remove kubectl.,MERGED,2015-05-14 01:55:25.000000000,2015-05-14 03:01:11.000000000,2015-05-14 03:01:10.000000000,"[{'_account_id': 3}, {'_account_id': 2834}, {'_account_id': 7494}]","[{'number': 1, 'created': '2015-05-14 01:55:25.000000000', 'files': ['doc/source/dev/dev-manual-devstack.rst', 'doc/source/dev/dev-quickstart.rst', 'magnum/conductor/api.py', 'magnum/conductor/handlers/kube.py'], 'web_link': 'https://opendev.org/openstack/magnum/commit/ed5b34a1a938f0b71a55dd7e9f1b41bbfc3310f2', 'message': 'Update docs and some files to remove kubectl.\n\nNow that kubectl is not used in magnum, we need to update the docs.\nThis patch does the necessary changes.\n\nChange-Id: I99067af163b51ef4ee279498d85c6bd223210e7a\nImplements: blueprint python-k8sclient\n'}]",0,182916,ed5b34a1a938f0b71a55dd7e9f1b41bbfc3310f2,7,3,1,10206,,,0,"Update docs and some files to remove kubectl.

Now that kubectl is not used in magnum, we need to update the docs.
This patch does the necessary changes.

Change-Id: I99067af163b51ef4ee279498d85c6bd223210e7a
Implements: blueprint python-k8sclient
",git fetch https://review.opendev.org/openstack/magnum refs/changes/16/182916/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/dev/dev-manual-devstack.rst', 'doc/source/dev/dev-quickstart.rst', 'magnum/conductor/api.py', 'magnum/conductor/handlers/kube.py']",4,ed5b34a1a938f0b71a55dd7e9f1b41bbfc3310f2,bp/python-k8sclient,, This handler acts as an interface to executes kubectl command line services. # trigger a kubectl command,20,34
openstack%2Ftempest~master~I3e1e7a31ea4c1c8b25e821df545c8674a8de38da,openstack/tempest,master,I3e1e7a31ea4c1c8b25e821df545c8674a8de38da,Fix doc issue of lock test accounts,MERGED,2015-05-12 01:03:26.000000000,2015-05-14 02:33:29.000000000,2015-05-14 02:33:28.000000000,"[{'_account_id': 3}, {'_account_id': 5196}, {'_account_id': 6484}, {'_account_id': 8556}]","[{'number': 1, 'created': '2015-05-12 01:03:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/d21331685974f666aed9646d89aaa4bdde4ab74c', 'message': ""Fix doc issue of lock test accounts\n\nWhen using the lock testing accounts, allow_tenant_isolation\nshould be set as False. Now it's missing in the document.\nThis patch will add it.\n\nCloses-Bug: #1454001\n\nChange-Id: I3e1e7a31ea4c1c8b25e821df545c8674a8de38da\n""}, {'number': 2, 'created': '2015-05-13 04:28:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/8194911c786af677feceb81c6ae49b0d3787ea3a', 'message': ""Fix doc issue of lock test accounts\n\nWhen using the lock testing accounts, allow_tenant_isolation\nshould be set as False. Now it's missing in the document.\nThis patch will add it.\n\nCloses-Bug: #1454001\n\nChange-Id: I3e1e7a31ea4c1c8b25e821df545c8674a8de38da\n""}, {'number': 3, 'created': '2015-05-13 21:14:15.000000000', 'files': ['doc/source/configuration.rst'], 'web_link': 'https://opendev.org/openstack/tempest/commit/7fee78771a4492794dbf14dd7786ebc37c2abef8', 'message': ""Fix doc issue of lock test accounts\n\nWhen using the lock testing accounts, allow_tenant_isolation\nshould be set as False. Now it's missing in the document.\nThis patch will add it.\n\nCloses-Bug: #1454001\n\nChange-Id: I3e1e7a31ea4c1c8b25e821df545c8674a8de38da\n""}]",6,182131,7fee78771a4492794dbf14dd7786ebc37c2abef8,16,4,3,6484,,,0,"Fix doc issue of lock test accounts

When using the lock testing accounts, allow_tenant_isolation
should be set as False. Now it's missing in the document.
This patch will add it.

Closes-Bug: #1454001

Change-Id: I3e1e7a31ea4c1c8b25e821df545c8674a8de38da
",git fetch https://review.opendev.org/openstack/tempest refs/changes/31/182131/3 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/configuration.rst'],1,d21331685974f666aed9646d89aaa4bdde4ab74c,doc_lock_test_accounts, #. Set allow_tenant_isolation = False ,,2,0
openstack%2Fneutron~master~Idb1577128be5d8812024467f599166bc131d57ea,openstack/neutron,master,Idb1577128be5d8812024467f599166bc131d57ea,setup port filters when sg rules change,MERGED,2015-05-08 01:49:04.000000000,2015-05-14 02:33:05.000000000,2015-05-14 02:33:03.000000000,"[{'_account_id': 3}, {'_account_id': 261}, {'_account_id': 5170}, {'_account_id': 7448}, {'_account_id': 7787}, {'_account_id': 8645}, {'_account_id': 8788}, {'_account_id': 8976}, {'_account_id': 9681}, {'_account_id': 9682}, {'_account_id': 9751}, {'_account_id': 9787}, {'_account_id': 9820}, {'_account_id': 9845}, {'_account_id': 10116}, {'_account_id': 10117}, {'_account_id': 10121}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10387}, {'_account_id': 10692}, {'_account_id': 14208}, {'_account_id': 14212}, {'_account_id': 14213}, {'_account_id': 14214}, {'_account_id': 14215}, {'_account_id': 14216}, {'_account_id': 14323}, {'_account_id': 14571}, {'_account_id': 15296}, {'_account_id': 15444}, {'_account_id': 15752}]","[{'number': 1, 'created': '2015-05-08 01:49:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1019ebaf0c0f815420d622fc700d4e6f22bc456a', 'message': 'setup port filters when sg rules change\n\nwhen security group rules change, the l2 agents which have the\nports in this security group should reload iptables, this bug\nwas introduced by patch#118274.\n\nCloses-bug: #1452718\nChange-Id: Idb1577128be5d8812024467f599166bc131d57ea\n'}, {'number': 2, 'created': '2015-05-08 06:59:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e720a7e41af982f8ca19976f165ebb9221712e45', 'message': 'setup port filters when sg rules change\n\nwhen security group rules change, the l2 agents which have the\nports in this security group should reload iptables, this bug\nwas introduced by patch#118274.\n\nCloses-bug: #1452718\nChange-Id: Idb1577128be5d8812024467f599166bc131d57ea\n'}, {'number': 3, 'created': '2015-05-11 04:14:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c552a51f38e03a3e57a619d715eb1fb46196e422', 'message': 'setup port filters when sg rules change\n\nwhen security group rules change, the l2 agents which have the\nports in this security group should reload iptables, this bug\nwas introduced by patch#118274.\n\nCloses-bug: #1452718\nChange-Id: Idb1577128be5d8812024467f599166bc131d57ea\n'}, {'number': 4, 'created': '2015-05-12 12:08:09.000000000', 'files': ['neutron/tests/unit/plugins/openvswitch/agent/test_ovs_neutron_agent.py', 'neutron/plugins/openvswitch/agent/ovs_neutron_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/39af7fb15ef5abe9402d80da207c2c43ca905d23', 'message': 'setup port filters when sg rules change\n\nwhen security group rules change, the l2 agents which have the\nports in this security group should reload iptables, this bug\nwas introduced by patch#118274.\n\nCloses-bug: #1452718\nChange-Id: Idb1577128be5d8812024467f599166bc131d57ea\n'}]",14,181272,39af7fb15ef5abe9402d80da207c2c43ca905d23,118,32,4,8976,,,0,"setup port filters when sg rules change

when security group rules change, the l2 agents which have the
ports in this security group should reload iptables, this bug
was introduced by patch#118274.

Closes-bug: #1452718
Change-Id: Idb1577128be5d8812024467f599166bc131d57ea
",git fetch https://review.opendev.org/openstack/neutron refs/changes/72/181272/4 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/plugins/openvswitch/agent/test_ovs_neutron_agent.py', 'neutron/plugins/openvswitch/agent/ovs_neutron_agent.py', 'neutron/agent/securitygroups_rpc.py']",3,1019ebaf0c0f815420d622fc700d4e6f22bc456a,bug/1452718," def setup_port_filters(self, new_devices=set(), updated_devices=set()):"," def setup_port_filters(self, new_devices, updated_devices):",17,6
openstack%2Frequirements~master~Ib1afd306f5a999dac12ab17c1ec7e3fd03ce5f02,openstack/requirements,master,Ib1afd306f5a999dac12ab17c1ec7e3fd03ce5f02,Removing unused irdragdrop from requirements,MERGED,2015-04-23 01:11:40.000000000,2015-05-14 02:25:19.000000000,2015-05-14 02:25:17.000000000,"[{'_account_id': 2}, {'_account_id': 3}, {'_account_id': 6786}, {'_account_id': 7473}, {'_account_id': 7665}, {'_account_id': 9622}]","[{'number': 1, 'created': '2015-04-23 01:11:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/20b34fee31adbe23beb30fe55bd5dda5a3285478', 'message': 'Removing unused irdragdrop from requirements\n\nThe irdragndrop was replaced with lrdragndrop. It is no longer needed.\n\nChange-Id: Ib1afd306f5a999dac12ab17c1ec7e3fd03ce5f02\n'}, {'number': 2, 'created': '2015-04-23 17:18:44.000000000', 'files': ['global-requirements.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/9d0086797a142112b0a35964d7d8797ab399793e', 'message': 'Removing unused irdragdrop from requirements\n\nThe irdragndrop was replaced with lrdragndrop. It is no longer needed.\n\nChange-Id: Ib1afd306f5a999dac12ab17c1ec7e3fd03ce5f02\n'}]",0,176568,9d0086797a142112b0a35964d7d8797ab399793e,16,6,2,9576,,,0,"Removing unused irdragdrop from requirements

The irdragndrop was replaced with lrdragndrop. It is no longer needed.

Change-Id: Ib1afd306f5a999dac12ab17c1ec7e3fd03ce5f02
",git fetch https://review.opendev.org/openstack/requirements refs/changes/68/176568/1 && git format-patch -1 --stdout FETCH_HEAD,['global-requirements.txt'],1,20b34fee31adbe23beb30fe55bd5dda5a3285478,remove-irdragndrop,,XStatic-Angular-irdragndrop>=1.0.2.2 # MIT License,0,1
openstack%2Fdevstack-gate~master~I7dc829fb0382c65b926b90f3a88843dd6495bb63,openstack/devstack-gate,master,I7dc829fb0382c65b926b90f3a88843dd6495bb63,Remove sahara from the default configuration,MERGED,2015-05-07 23:36:59.000000000,2015-05-14 02:24:59.000000000,2015-05-14 02:24:58.000000000,"[{'_account_id': 2}, {'_account_id': 3}, {'_account_id': 4}, {'_account_id': 1849}, {'_account_id': 2750}, {'_account_id': 6172}, {'_account_id': 6786}, {'_account_id': 7125}, {'_account_id': 7555}, {'_account_id': 7710}, {'_account_id': 8091}, {'_account_id': 8304}, {'_account_id': 8411}, {'_account_id': 10670}]","[{'number': 1, 'created': '2015-05-07 23:36:59.000000000', 'files': ['features.yaml', 'test-features.sh'], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/8c98d92de391dff089376bbe704d7fdcfb4b6fd6', 'message': 'Remove sahara from the default configuration\n\nThere is now a sahara specific tempest job. So sahara is no longer needed in\nthe default configuration of the integrated gate.\n\nChange-Id: I7dc829fb0382c65b926b90f3a88843dd6495bb63\nDepends-On: I1f89a4e6aa40250f5d036dcc98b59c0526e80995\n'}]",0,181230,8c98d92de391dff089376bbe704d7fdcfb4b6fd6,21,14,1,1849,,,0,"Remove sahara from the default configuration

There is now a sahara specific tempest job. So sahara is no longer needed in
the default configuration of the integrated gate.

Change-Id: I7dc829fb0382c65b926b90f3a88843dd6495bb63
Depends-On: I1f89a4e6aa40250f5d036dcc98b59c0526e80995
",git fetch https://review.opendev.org/openstack/devstack-gate refs/changes/30/181230/1 && git format-patch -1 --stdout FETCH_HEAD,"['features.yaml', 'test-features.sh']",2,8c98d92de391dff089376bbe704d7fdcfb4b6fd6,sahara,"TEMPEST_FULL_MASTER=""n-api,n-crt,n-obj,n-cpu,n-sch,n-cond,g-api,g-reg,key,horizon,c-api,c-vol,c-sch,c-bak,cinder,s-proxy,s-account,s-container,s-object,mysql,rabbit,dstat,tempest,ceilometer-acompute,ceilometer-acentral,ceilometer-collector,ceilometer-api,ceilometer-alarm-notifier,ceilometer-alarm-evaluator,ceilometer-anotification,n-net"" TEMPEST_NEUTRON_MASTER=""n-api,n-crt,n-obj,n-cpu,n-sch,n-cond,g-api,g-reg,key,horizon,c-api,c-vol,c-sch,c-bak,cinder,s-proxy,s-account,s-container,s-object,mysql,rabbit,dstat,tempest,ceilometer-acompute,ceilometer-acentral,ceilometer-collector,ceilometer-api,ceilometer-alarm-notifier,ceilometer-alarm-evaluator,ceilometer-anotification,quantum,q-svc,q-agt,q-dhcp,q-l3,q-meta,q-lbaas,q-vpn,q-fwaas,q-metering"" TEMPEST_HEAT_SLOW_MASTER=""n-api,n-crt,n-obj,n-cpu,n-sch,n-cond,g-api,g-reg,key,horizon,c-api,c-vol,c-sch,c-bak,cinder,s-proxy,s-account,s-container,s-object,mysql,rabbit,dstat,tempest,ceilometer-acompute,ceilometer-acentral,ceilometer-collector,ceilometer-api,ceilometer-alarm-notifier,ceilometer-alarm-evaluator,ceilometer-anotification,quantum,q-svc,q-agt,q-dhcp,q-l3,q-meta,q-lbaas,q-vpn,q-fwaas,q-metering""TEMPEST_FULL_JUNO=""n-api,n-crt,n-obj,n-cpu,n-sch,n-cond,g-api,g-reg,key,horizon,c-api,c-vol,c-sch,c-bak,cinder,s-proxy,s-account,s-container,s-object,mysql,rabbit,dstat,tempest,ceilometer-acompute,ceilometer-acentral,ceilometer-collector,ceilometer-api,ceilometer-alarm-notifier,ceilometer-alarm-evaluator,ceilometer-anotification,n-net""","TEMPEST_FULL_MASTER=""n-api,n-crt,n-obj,n-cpu,n-sch,n-cond,g-api,g-reg,key,horizon,c-api,c-vol,c-sch,c-bak,cinder,s-proxy,s-account,s-container,s-object,mysql,rabbit,dstat,tempest,ceilometer-acompute,ceilometer-acentral,ceilometer-collector,ceilometer-api,ceilometer-alarm-notifier,ceilometer-alarm-evaluator,ceilometer-anotification,n-net,sahara"" TEMPEST_NEUTRON_MASTER=""n-api,n-crt,n-obj,n-cpu,n-sch,n-cond,g-api,g-reg,key,horizon,c-api,c-vol,c-sch,c-bak,cinder,s-proxy,s-account,s-container,s-object,mysql,rabbit,dstat,tempest,ceilometer-acompute,ceilometer-acentral,ceilometer-collector,ceilometer-api,ceilometer-alarm-notifier,ceilometer-alarm-evaluator,ceilometer-anotification,quantum,q-svc,q-agt,q-dhcp,q-l3,q-meta,q-lbaas,q-vpn,q-fwaas,q-metering,sahara"" TEMPEST_HEAT_SLOW_MASTER=""n-api,n-crt,n-obj,n-cpu,n-sch,n-cond,g-api,g-reg,key,horizon,c-api,c-vol,c-sch,c-bak,cinder,s-proxy,s-account,s-container,s-object,mysql,rabbit,dstat,tempest,ceilometer-acompute,ceilometer-acentral,ceilometer-collector,ceilometer-api,ceilometer-alarm-notifier,ceilometer-alarm-evaluator,ceilometer-anotification,quantum,q-svc,q-agt,q-dhcp,q-l3,q-meta,q-lbaas,q-vpn,q-fwaas,q-metering,sahara""TEMPEST_FULL_JUNO=""n-api,n-crt,n-obj,n-cpu,n-sch,n-cond,g-api,g-reg,key,horizon,c-api,c-vol,c-sch,c-bak,cinder,s-proxy,s-account,s-container,s-object,mysql,rabbit,dstat,tempest,ceilometer-acompute,ceilometer-acentral,ceilometer-collector,ceilometer-api,ceilometer-alarm-notifier,ceilometer-alarm-evaluator,ceilometer-anotification,n-net,sahara""",8,8
openstack%2Fdevstack~master~I9e3ed53f4e1349d57a0c33518445f54ac63e36ec,openstack/devstack,master,I9e3ed53f4e1349d57a0c33518445f54ac63e36ec,Cinder: Set os_privileged_user credentials (for os-assisted-snapshots),MERGED,2015-05-11 14:55:21.000000000,2015-05-14 02:24:50.000000000,2015-05-14 02:24:49.000000000,"[{'_account_id': 3}, {'_account_id': 970}, {'_account_id': 7118}, {'_account_id': 7350}, {'_account_id': 7715}]","[{'number': 1, 'created': '2015-05-11 14:55:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/ba72a74069722d17a2d045f5754e769f8fa0cc49', 'message': 'Cinder: Set os_privileged_user credentials (for os-assisted-snapshots)\n\nChange-Id: I9e3ed53f4e1349d57a0c33518445f54ac63e36ec\nRelated-Bug: #1308736\n'}, {'number': 2, 'created': '2015-05-12 08:35:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/26bfbd6effebf02c778c968d2d87c5360a87e139', 'message': 'Cinder: Set os_privileged_user credentials (for os-assisted-snapshots)\n\nChange-Id: I9e3ed53f4e1349d57a0c33518445f54ac63e36ec\nRelated-Bug: #1308736\n'}, {'number': 3, 'created': '2015-05-13 07:15:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/2968583d3c9d8cc67573d8679a8db1c4d9e91472', 'message': 'Cinder: Set os_privileged_user credentials (for os-assisted-snapshots)\n\nWhen calling os-assisted-snapshots APIs, Cinder often (by default) needs to pass an admin token to Nova. Currently it uses the credentials of the current user.\n\nThis will cause calls to Nova APIs for assisted volume snapshots to fail.\n\nConfiguration options should be added to specify different credentials for talking to Nova.\n\nChange-Id: I9e3ed53f4e1349d57a0c33518445f54ac63e36ec\nRelated-Bug: #1308736'}, {'number': 4, 'created': '2015-05-13 07:15:40.000000000', 'files': ['lib/cinder'], 'web_link': 'https://opendev.org/openstack/devstack/commit/38bee18a2c440b01bd1c2187cb2a62a841e3b7ae', 'message': 'Cinder: Set os_privileged_user credentials (for os-assisted-snapshots)\n\nWhen calling os-assisted-snapshots APIs, Cinder often (by default) needs\n to pass an admin token to Nova. Currently it uses the credentials of\n the current user.\n\nThis will cause calls to Nova APIs for assisted volume snapshots to fail.\n\nConfiguration options should be added to specify different credentials\nfor talking to Nova.\n\nChange-Id: I9e3ed53f4e1349d57a0c33518445f54ac63e36ec\nRelated-Bug: #1308736'}]",2,181927,38bee18a2c440b01bd1c2187cb2a62a841e3b7ae,17,5,4,7350,,,0,"Cinder: Set os_privileged_user credentials (for os-assisted-snapshots)

When calling os-assisted-snapshots APIs, Cinder often (by default) needs
 to pass an admin token to Nova. Currently it uses the credentials of
 the current user.

This will cause calls to Nova APIs for assisted volume snapshots to fail.

Configuration options should be added to specify different credentials
for talking to Nova.

Change-Id: I9e3ed53f4e1349d57a0c33518445f54ac63e36ec
Related-Bug: #1308736",git fetch https://review.opendev.org/openstack/devstack refs/changes/27/181927/4 && git format-patch -1 --stdout FETCH_HEAD,['lib/cinder'],1,ba72a74069722d17a2d045f5754e769f8fa0cc49,bug/1308736," # Set os_privileged_user credentials (used for os-assisted-snapshots) # See LP #1308736 iniset $CINDER_CONF DEFAULT os_privileged_user_name nova iniset $CINDER_CONF DEFAULT os_privileged_user_password ""$SERVICE_PASSWORD"" iniset $CINDER_CONF DEFAULT os_privileged_user_tenant ""$SERVICE_TENANT_NAME"" ",,6,0
openstack%2Fheat~master~I5f00a96fc70613ca7014370ec826d0a6a6199fde,openstack/heat,master,I5f00a96fc70613ca7014370ec826d0a6a6199fde,Add a py34 env,MERGED,2015-04-23 14:23:12.000000000,2015-05-14 02:24:42.000000000,2015-05-14 02:24:40.000000000,"[{'_account_id': 3}, {'_account_id': 4715}, {'_account_id': 6577}, {'_account_id': 6899}, {'_account_id': 7385}, {'_account_id': 7491}]","[{'number': 1, 'created': '2015-04-23 14:23:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/f032b8887c834eb9792b34863289f9ff86a20cc7', 'message': 'Add a py34 env\n\nAdds a new py34 environment in tox.ini which builds off of separate\n(test-)requirements-py3.txt files that will just run flake8 for now\nand an empty test-file.\n\npartial blueprint heat-python34-support\n\nChange-Id: I5f00a96fc70613ca7014370ec826d0a6a6199fde\n'}, {'number': 2, 'created': '2015-05-12 13:59:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/43fd1fe7fca176b87a9776c49e73dd1abe096f2e', 'message': 'Add a py34 env\n\nAdds a new py34 environment in tox.ini which builds off of separate\n(test-)requirements-py3.txt files that will just run flake8 for now\nand an empty test-file.\n\npartial blueprint heat-python34-support\n\nChange-Id: I5f00a96fc70613ca7014370ec826d0a6a6199fde\n'}, {'number': 3, 'created': '2015-05-12 14:57:26.000000000', 'files': ['py3-testlist', 'requirements-py3.txt', 'test-requirements-py3.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/heat/commit/ddfa6363208afa3e5e256e538247996ca4d212e3', 'message': 'Add a py34 env\n\nAdds a new py34 environment in tox.ini which builds off of separate\n(test-)requirements-py3.txt files that will just run flake8 for now\nand an empty test-file.\n\npartial blueprint heat-python34-support\n\nChange-Id: I5f00a96fc70613ca7014370ec826d0a6a6199fde\n'}]",8,176767,ddfa6363208afa3e5e256e538247996ca4d212e3,24,6,3,6899,,,0,"Add a py34 env

Adds a new py34 environment in tox.ini which builds off of separate
(test-)requirements-py3.txt files that will just run flake8 for now
and an empty test-file.

partial blueprint heat-python34-support

Change-Id: I5f00a96fc70613ca7014370ec826d0a6a6199fde
",git fetch https://review.opendev.org/openstack/heat refs/changes/67/176767/3 && git format-patch -1 --stdout FETCH_HEAD,"['py3-testlist', 'requirements-py3.txt', 'test-requirements-py3.txt', 'tox.ini']",4,f032b8887c834eb9792b34863289f9ff86a20cc7,bp/heat-python34-support,"envlist = py27,pep8,py34# FIXME(sirushtim): Sneak in flake8 here for now. This env will also be used # to run the tests in the near future. [testenv:py34] deps = -r{toxinidir}/requirements-py3.txt -r{toxinidir}/test-requirements-py3.txt commands = flake8 heat bin/heat-api bin/heat-api-cfn bin/heat-api-cloudwatch bin/heat-engine bin/heat-manage contrib heat_integrationtests find {toxinidir} -not -path '{toxinidir}/.tox/*' -name '*.pyc' -delete python setup.py testr --slowest --testr-args='--load-list py3-testlist' ","envlist = py27,pep8",78,1
openstack%2Fheat~master~I98f93c1895789c9d83c35c44f1166ce4c88891da,openstack/heat,master,I98f93c1895789c9d83c35c44f1166ce4c88891da,Import python modules instead of objects,MERGED,2015-05-12 13:34:18.000000000,2015-05-14 02:24:32.000000000,2015-05-14 02:24:30.000000000,"[{'_account_id': 3}, {'_account_id': 4715}, {'_account_id': 6577}, {'_account_id': 7404}, {'_account_id': 8833}, {'_account_id': 9751}, {'_account_id': 10487}, {'_account_id': 12321}, {'_account_id': 13009}, {'_account_id': 13323}, {'_account_id': 14676}]","[{'number': 1, 'created': '2015-05-12 13:34:18.000000000', 'files': ['contrib/heat_keystone/heat_keystone/tests/test_role.py', 'contrib/heat_keystone/heat_keystone/tests/test_role_assignments.py', 'contrib/heat_keystone/heat_keystone/tests/test_user.py', 'contrib/heat_keystone/heat_keystone/tests/test_group.py', 'contrib/heat_keystone/heat_keystone/tests/test_project.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/38f75683193badb47d5a2d46bc857249738038c8', 'message': 'Import python modules instead of objects\n\nChange-Id: I98f93c1895789c9d83c35c44f1166ce4c88891da\n'}]",0,182291,38f75683193badb47d5a2d46bc857249738038c8,18,11,1,13323,,,0,"Import python modules instead of objects

Change-Id: I98f93c1895789c9d83c35c44f1166ce4c88891da
",git fetch https://review.opendev.org/openstack/heat refs/changes/91/182291/1 && git format-patch -1 --stdout FETCH_HEAD,"['contrib/heat_keystone/heat_keystone/tests/test_role.py', 'contrib/heat_keystone/heat_keystone/tests/test_role_assignments.py', 'contrib/heat_keystone/heat_keystone/tests/test_user.py', 'contrib/heat_keystone/heat_keystone/tests/test_group.py', 'contrib/heat_keystone/heat_keystone/tests/test_project.py']",5,38f75683193badb47d5a2d46bc857249738038c8,import-module-instead-of-object,"from ..resources import project # noqa resource._register_class(RESOURCE_TYPE, project.KeystoneProject) mapping = project.resource_mapping() self.assertEqual(project.KeystoneProject, mapping[RESOURCE_TYPE]) self.assertIsInstance(self.test_project, project.KeystoneProject) self.test_project.properties.get(project.KeystoneProject.NAME)) self.test_project.properties.get( project.KeystoneProject.DESCRIPTION)) self.test_project.properties.get(project.KeystoneProject.DOMAIN)) self.test_project.properties.get(project.KeystoneProject.ENABLED)) project.KeystoneProject.NAME: 'name', project.KeystoneProject.DESCRIPTION: 'description', project.KeystoneProject.DOMAIN: 'domain', project.KeystoneProject.ENABLED: 'enabled' schema = project.KeystoneProject.properties_schema[ project.KeystoneProject.NAME] project.KeystoneProject.NAME) project.KeystoneProject.NAME) project.KeystoneProject.NAME) schema = project.KeystoneProject.properties_schema[ project.KeystoneProject.DESCRIPTION] project.KeystoneProject.DESCRIPTION) project.KeystoneProject.DESCRIPTION) project.KeystoneProject.DESCRIPTION) project.KeystoneProject.DESCRIPTION) schema = project.KeystoneProject.properties_schema[ project.KeystoneProject.DOMAIN] project.KeystoneProject.DOMAIN) project.KeystoneProject.DOMAIN) project.KeystoneProject.DOMAIN) project.KeystoneProject.DOMAIN) project.KeystoneProject.DOMAIN) schema = project.KeystoneProject.properties_schema[ project.KeystoneProject.ENABLED] project.KeystoneProject.DOMAIN) project.KeystoneProject.ENABLED) project.KeystoneProject.ENABLED) project.KeystoneProject.ENABLED) schema = project.KeystoneProject.properties_schema[name] project.KeystoneProject.NAME: None, project.KeystoneProject.DESCRIPTION: project.KeystoneProject.DESCRIPTION)), project.KeystoneProject.DOMAIN: project.KeystoneProject.DOMAIN)), project.KeystoneProject.ENABLED: project.KeystoneProject.ENABLED)) self.test_project.properties.get(project.KeystoneProject.NAME)) self.test_project.properties.get( project.KeystoneProject.DESCRIPTION)) self.test_project.properties.get(project.KeystoneProject.DOMAIN)) self.test_project.properties.get(project.KeystoneProject.ENABLED)) prop_diff = {project.KeystoneProject.NAME: 'test_project_1_updated', project.KeystoneProject.DESCRIPTION: 'Test Project updated', project.KeystoneProject.ENABLED: False, project.KeystoneProject.DOMAIN: 'test_domain'} name=prop_diff[project.KeystoneProject.NAME], description=prop_diff[project.KeystoneProject.DESCRIPTION], enabled=prop_diff[project.KeystoneProject.ENABLED], prop_diff = {project.KeystoneProject.DESCRIPTION: 'Test Project updated', project.KeystoneProject.ENABLED: False} description=prop_diff[project.KeystoneProject.DESCRIPTION], enabled=prop_diff[project.KeystoneProject.ENABLED],","from ..resources.project import KeystoneProject # noqa from ..resources.project import resource_mapping # noqa resource._register_class(RESOURCE_TYPE, KeystoneProject) mapping = resource_mapping() self.assertEqual(KeystoneProject, mapping[RESOURCE_TYPE]) self.assertIsInstance(self.test_project, KeystoneProject) self.test_project.properties.get(KeystoneProject.NAME)) self.test_project.properties.get(KeystoneProject.DESCRIPTION)) self.test_project.properties.get(KeystoneProject.DOMAIN)) self.test_project.properties.get(KeystoneProject.ENABLED)) KeystoneProject.NAME: 'name', KeystoneProject.DESCRIPTION: 'description', KeystoneProject.DOMAIN: 'domain', KeystoneProject.ENABLED: 'enabled' schema = KeystoneProject.properties_schema[KeystoneProject.NAME] KeystoneProject.NAME) KeystoneProject.NAME) KeystoneProject.NAME) schema = KeystoneProject.properties_schema[KeystoneProject.DESCRIPTION] KeystoneProject.DESCRIPTION) KeystoneProject.DESCRIPTION) KeystoneProject.DESCRIPTION) KeystoneProject.DESCRIPTION) schema = KeystoneProject.properties_schema[KeystoneProject.DOMAIN] KeystoneProject.DOMAIN) KeystoneProject.DOMAIN) KeystoneProject.DOMAIN) KeystoneProject.DOMAIN) KeystoneProject.DOMAIN) schema = KeystoneProject.properties_schema[KeystoneProject.ENABLED] KeystoneProject.DOMAIN) KeystoneProject.ENABLED) KeystoneProject.ENABLED) KeystoneProject.ENABLED) schema = KeystoneProject.properties_schema[name] KeystoneProject.NAME: None, KeystoneProject.DESCRIPTION: KeystoneProject.DESCRIPTION)), KeystoneProject.DOMAIN: KeystoneProject.DOMAIN)), KeystoneProject.ENABLED: KeystoneProject.ENABLED)) self.test_project.properties.get(KeystoneProject.NAME)) self.test_project.properties.get(KeystoneProject.DESCRIPTION)) self.test_project.properties.get(KeystoneProject.DOMAIN)) self.test_project.properties.get(KeystoneProject.ENABLED)) prop_diff = {KeystoneProject.NAME: 'test_project_1_updated', KeystoneProject.DESCRIPTION: 'Test Project updated', KeystoneProject.ENABLED: False, KeystoneProject.DOMAIN: 'test_domain'} name=prop_diff[KeystoneProject.NAME], description=prop_diff[KeystoneProject.DESCRIPTION], enabled=prop_diff[KeystoneProject.ENABLED], prop_diff = {KeystoneProject.DESCRIPTION: 'Test Project updated', KeystoneProject.ENABLED: False} description=prop_diff[KeystoneProject.DESCRIPTION], enabled=prop_diff[KeystoneProject.ENABLED],",173,163
openstack%2Fhorizon~master~Ia0d9e7ccc19e51597cec17c5a962eb0f0c0f430c,openstack/horizon,master,Ia0d9e7ccc19e51597cec17c5a962eb0f0c0f430c,Add support for cinder pools,MERGED,2015-01-15 20:24:43.000000000,2015-05-14 02:20:27.000000000,2015-05-14 02:20:26.000000000,"[{'_account_id': 3}, {'_account_id': 1736}, {'_account_id': 1941}, {'_account_id': 5623}, {'_account_id': 6610}, {'_account_id': 6825}, {'_account_id': 8040}, {'_account_id': 8871}, {'_account_id': 11592}, {'_account_id': 11941}, {'_account_id': 12952}, {'_account_id': 14151}]","[{'number': 1, 'created': '2015-01-15 20:24:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/ac9ca770f18a1d829054f4b05a9ab21e08787aeb', 'message': 'Add support for cinder pools\n\nPartially-Implements: blueprint vol-type-extra-specs-describe\nChange-Id: Ia0d9e7ccc19e51597cec17c5a962eb0f0c0f430c\n'}, {'number': 2, 'created': '2015-01-21 22:13:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/0012a6980ce77c49dd2db87e7f657ebbc6b77302', 'message': 'Add support for cinder pools\n\nPartially-Implements: blueprint vol-type-extra-specs-describe\nChange-Id: Ia0d9e7ccc19e51597cec17c5a962eb0f0c0f430c\n'}, {'number': 3, 'created': '2015-01-28 22:09:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/251170390492c37bcfc43f8a2bd1744921068cc0', 'message': 'Add support for cinder pools\n\nPartially-Implements: blueprint vol-type-extra-specs-describe\nChange-Id: Ia0d9e7ccc19e51597cec17c5a962eb0f0c0f430c\n'}, {'number': 4, 'created': '2015-01-31 00:06:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/6124f4539584be3f7035342d5131fc4136316da4', 'message': 'Add support for cinder pools\n\nPartially-Implements: blueprint vol-type-extra-specs-describe\nChange-Id: Ia0d9e7ccc19e51597cec17c5a962eb0f0c0f430c\n'}, {'number': 5, 'created': '2015-02-04 23:42:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/3876fbe01d091c1e089485b8cb2347a3d848a503', 'message': 'Add support for cinder pools\n\nPartially-Implements: blueprint vol-type-extra-specs-describe\nChange-Id: Ia0d9e7ccc19e51597cec17c5a962eb0f0c0f430c\n'}, {'number': 6, 'created': '2015-04-13 17:27:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/f8b4d8626a0117437be50f00f9a46290a42d2cf0', 'message': 'Add support for cinder pools\n\nPartially-Implements: blueprint vol-type-extra-specs-describe\nChange-Id: Ia0d9e7ccc19e51597cec17c5a962eb0f0c0f430c\n'}, {'number': 7, 'created': '2015-04-28 22:31:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/aef50e8ccd7370f0ac6a8e7ed70b05be42927153', 'message': 'Add support for cinder pools\n\nPartially-Implements: blueprint vol-type-extra-specs-describe\nChange-Id: Ia0d9e7ccc19e51597cec17c5a962eb0f0c0f430c\n'}, {'number': 8, 'created': '2015-05-07 14:56:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/0633885a56939fe3ca4cc3eed9094bb5970ca3d8', 'message': 'Add support for cinder pools\n\nPartially-Implements: blueprint vol-type-extra-specs-describe\nChange-Id: Ia0d9e7ccc19e51597cec17c5a962eb0f0c0f430c\n'}, {'number': 9, 'created': '2015-05-08 15:45:16.000000000', 'files': ['openstack_dashboard/test/test_data/cinder_data.py', 'openstack_dashboard/api/cinder.py', 'openstack_dashboard/test/api_tests/cinder_tests.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/9e08138acbe6e74a42db0811cebb116635e9acf6', 'message': 'Add support for cinder pools\n\nPartially-Implements: blueprint vol-type-extra-specs-describe\nChange-Id: Ia0d9e7ccc19e51597cec17c5a962eb0f0c0f430c\n'}]",5,147647,9e08138acbe6e74a42db0811cebb116635e9acf6,54,12,9,6825,,,0,"Add support for cinder pools

Partially-Implements: blueprint vol-type-extra-specs-describe
Change-Id: Ia0d9e7ccc19e51597cec17c5a962eb0f0c0f430c
",git fetch https://review.opendev.org/openstack/horizon refs/changes/47/147647/4 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_dashboard/test/test_data/cinder_data.py', 'openstack_dashboard/api/cinder.py', 'openstack_dashboard/test/api_tests/cinder_tests.py']",3,ac9ca770f18a1d829054f4b05a9ab21e08787aeb,bp/vol-type-set-backend-name," def test_pool_list(self): pools = self.cinder_pools.list() cinderclient = self.stub_cinderclient() cinderclient.pools = self.mox.CreateMockAnything() cinderclient.pools.list(detailed=True).AndReturn(pools) self.mox.ReplayAll() # No assertions are necessary. Verification is handled by mox. api.cinder.pool_list(self.request, detailed=True) ",,47,0
openstack%2Fneutron~master~Id118a64012ad10b197ba681ce5f1b2742eb135b4,openstack/neutron,master,Id118a64012ad10b197ba681ce5f1b2742eb135b4,Refactor checks for device existence,MERGED,2015-01-15 15:29:17.000000000,2015-05-14 02:17:32.000000000,2015-05-14 02:17:29.000000000,"[{'_account_id': 3}, {'_account_id': 261}, {'_account_id': 1131}, {'_account_id': 5170}, {'_account_id': 5948}, {'_account_id': 6072}, {'_account_id': 6524}, {'_account_id': 6659}, {'_account_id': 6788}, {'_account_id': 6854}, {'_account_id': 7249}, {'_account_id': 7448}, {'_account_id': 7715}, {'_account_id': 8124}, {'_account_id': 8645}, {'_account_id': 9681}, {'_account_id': 9682}, {'_account_id': 9732}, {'_account_id': 9787}, {'_account_id': 9845}, {'_account_id': 9925}, {'_account_id': 10116}, {'_account_id': 10117}, {'_account_id': 10121}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10387}, {'_account_id': 10692}, {'_account_id': 12040}, {'_account_id': 14208}, {'_account_id': 14212}, {'_account_id': 14214}, {'_account_id': 14215}, {'_account_id': 14216}, {'_account_id': 14323}, {'_account_id': 14571}, {'_account_id': 14615}, {'_account_id': 14956}, {'_account_id': 15443}, {'_account_id': 15444}, {'_account_id': 15752}]","[{'number': 1, 'created': '2015-01-15 15:29:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/deda689a152575cd2e4e19bbb1d10780707c2002', 'message': ""Removes duplicate checks for device existence and adds additional checks for plug method in MetaInterfaceDriver\n\nClasses derived from LinuxInterfaceDriver already check for\nthe device existence in the method plug().\nThe code calling driver.plug() shouldn't check for the device existence,\nit's a duplicate and it's an expensive call.\n\nChange-Id: Id118a64012ad10b197ba681ce5f1b2742eb135b4\nCloses-Bug:1348703\n""}, {'number': 2, 'created': '2015-01-15 15:35:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2f73a9e81968f7e8da108abb50b49d73b190a081', 'message': ""Refactor checks for device existence\n\nClasses derived from LinuxInterfaceDriver already check for\nthe device existence in the method plug().\nThe code calling driver.plug() shouldn't check for the device existence,\nit's a duplicate and it's an expensive call.\n\nCloses-Bug:1348703\n\nChange-Id: Id118a64012ad10b197ba681ce5f1b2742eb135b4\n""}, {'number': 3, 'created': '2015-01-16 09:12:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1a29bd7953781bcdc12a0e1456d1594adc39c50d', 'message': ""Refactor checks for device existence\n\nClasses derived from LinuxInterfaceDriver already check for\nthe device existence in the method plug().\nThe code calling driver.plug() shouldn't check for the device existence,\nit's a duplicate and it's an expensive call.\n\nChange-Id: Id118a64012ad10b197ba681ce5f1b2742eb135b4\nCloses-Bug:1348703\n""}, {'number': 4, 'created': '2015-01-20 10:06:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7e43f0981af7e1575ba9db4e7193ccc883443995', 'message': ""Refactor checks for device existence\n\nClasses derived from LinuxInterfaceDriver already check for\nthe device existence in the method plug().\nThe code calling driver.plug() shouldn't check for the device existence,\nit's a duplicate and it's an expensive call.\n\nChange-Id: Id118a64012ad10b197ba681ce5f1b2742eb135b4\nCloses-Bug:1348703\n""}, {'number': 5, 'created': '2015-01-20 10:33:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3e85cc8e2423485b7cc7e8d7775ae71447619e55', 'message': ""Refactor checks for device existence\n\nThe code calling driver.plug() shouldn't check for the device existence,\nit's a duplicate and it's an expensive call.\nMove check for device existence to base LinuxInterfaceDriver.plug() to remove code duplication. Make _plug() abstract instead.\n\nChange-Id: Id118a64012ad10b197ba681ce5f1b2742eb135b4\nCloses-Bug:1348703\n""}, {'number': 6, 'created': '2015-01-20 10:39:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4f21187484dbd8fb3386d329bf3d9717ffdefcfd', 'message': ""Refactor checks for device existence\n\nThe code calling driver.plug() shouldn't check for the device existence,\nit's a duplicate and it's an expensive call.\nMove check for device existence to base LinuxInterfaceDriver.plug()\nto remove code duplication. Make _plug() abstract instead.\n\nChange-Id: Id118a64012ad10b197ba681ce5f1b2742eb135b4\nCloses-Bug:1348703\n""}, {'number': 7, 'created': '2015-01-26 16:41:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0e3a454eabd02f82820031498503c44c2cadf842', 'message': ""Refactor checks for device existence\n\nThe code calling driver.plug() shouldn't check for the device existence,\nit's a duplicate and it's an expensive call.\nMove check for device existence to base LinuxInterfaceDriver.plug()\nto remove code duplication. Make plug_existing() abstract instead.\n\nChange-Id: Id118a64012ad10b197ba681ce5f1b2742eb135b4\nCloses-Bug:1348703\n""}, {'number': 8, 'created': '2015-01-27 09:30:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/bdcd15b092d843edf184a7ac2c54040cae1fcd91', 'message': ""Refactor checks for device existence\n\nThe code calling driver.plug() shouldn't check for the device existence,\nit's a duplicate and it's an expensive call.\nMove check for device existence to base LinuxInterfaceDriver.plug()\nto remove code duplication. Make plug_existing() abstract instead.\n\nChange-Id: Id118a64012ad10b197ba681ce5f1b2742eb135b4\nCloses-Bug:1348703\n""}, {'number': 9, 'created': '2015-01-27 10:12:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/fcf0f2a8d76126faacd6fbe71a9483d3c48ef49b', 'message': ""Refactor checks for device existence\n\nThe code calling driver.plug() shouldn't check for the device existence,\nit's a duplicate and it's an expensive call.\nMove check for device existence to base LinuxInterfaceDriver.plug()\nto remove code duplication. Make plug_new() abstract instead.\n\nChange-Id: Id118a64012ad10b197ba681ce5f1b2742eb135b4\nCloses-Bug:1348703\n""}, {'number': 10, 'created': '2015-03-20 13:32:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/fa652abd7ca4ca47c5521eacbb9179d9eba3a5a1', 'message': ""Refactor checks for device existence\n\nThe code calling driver.plug() shouldn't check for the device existence,\nit's a duplicate and it's an expensive call.\nMove check for device existence to base LinuxInterfaceDriver.plug()\nto remove code duplication. Make plug_new() abstract instead.\n\nChange-Id: Id118a64012ad10b197ba681ce5f1b2742eb135b4\nCloses-Bug:1348703\n""}, {'number': 11, 'created': '2015-05-08 11:26:57.000000000', 'files': ['neutron/agent/l3/dvr_fip_ns.py', 'neutron/agent/linux/interface.py', 'neutron/agent/l3/ha_router.py', 'neutron/agent/l3/router_info.py', 'neutron/tests/unit/agent/l3/test_agent.py', 'neutron/tests/unit/agent/linux/test_interface.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/6b4d006344e38dcbbc0048b17ca41af16e13e5a2', 'message': ""Refactor checks for device existence\n\nThe code calling driver.plug() shouldn't check for the device existence,\nit's a duplicate and it's an expensive call.\nMove check for device existence to base LinuxInterfaceDriver.plug()\nto remove code duplication. Make plug_new() abstract instead.\n\nChange-Id: Id118a64012ad10b197ba681ce5f1b2742eb135b4\nCloses-Bug:1348703\n""}]",20,147554,6b4d006344e38dcbbc0048b17ca41af16e13e5a2,254,41,11,14615,,,0,"Refactor checks for device existence

The code calling driver.plug() shouldn't check for the device existence,
it's a duplicate and it's an expensive call.
Move check for device existence to base LinuxInterfaceDriver.plug()
to remove code duplication. Make plug_new() abstract instead.

Change-Id: Id118a64012ad10b197ba681ce5f1b2742eb135b4
Closes-Bug:1348703
",git fetch https://review.opendev.org/openstack/neutron refs/changes/54/147554/8 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/l3/agent.py', 'neutron/agent/linux/interface.py', 'neutron/agent/l3/dvr.py']",3,deda689a152575cd2e4e19bbb1d10780707c2002,bug/1348703," self.driver.plug(ex_gw_port['network_id'], ex_gw_port['id'], interface_name, ex_gw_port['mac_address'], bridge=self.conf.external_network_bridge, namespace=ns_name, prefix=FIP_EXT_DEV_PREFIX)"," if not ip_lib.device_exists(interface_name, root_helper=self.root_helper, namespace=ns_name): self.driver.plug(ex_gw_port['network_id'], ex_gw_port['id'], interface_name, ex_gw_port['mac_address'], bridge=self.conf.external_network_bridge, namespace=ns_name, prefix=FIP_EXT_DEV_PREFIX)",24,28
openstack%2Fnova~master~Ifeccc8216e19a2234cd0be983f289fb7a2a0573f,openstack/nova,master,Ifeccc8216e19a2234cd0be983f289fb7a2a0573f,Imported Translations from Transifex,MERGED,2015-04-28 06:18:25.000000000,2015-05-14 02:09:01.000000000,2015-05-03 03:46:21.000000000,"[{'_account_id': 3}, {'_account_id': 1849}, {'_account_id': 5170}, {'_account_id': 5441}, {'_account_id': 6547}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 15286}, {'_account_id': 15751}]","[{'number': 1, 'created': '2015-04-28 06:18:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d300f3c6d9b8b4d3d3051bb42fbc0d105566580e', 'message': 'Imported Translations from Transifex\n\nFor more information about this automatic import see:\nhttps://wiki.openstack.org/wiki/Translations/Infrastructure\n\nChange-Id: Ifeccc8216e19a2234cd0be983f289fb7a2a0573f\n'}, {'number': 2, 'created': '2015-04-29 06:18:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c3da86619e8fe61758331cbebf5e0deac045b696', 'message': 'Imported Translations from Transifex\n\nFor more information about this automatic import see:\nhttps://wiki.openstack.org/wiki/Translations/Infrastructure\n\nChange-Id: Ifeccc8216e19a2234cd0be983f289fb7a2a0573f\n'}, {'number': 3, 'created': '2015-04-30 06:18:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2c96ab72a59bc5874794540df5aa0e1639d0381b', 'message': 'Imported Translations from Transifex\n\nFor more information about this automatic import see:\nhttps://wiki.openstack.org/wiki/Translations/Infrastructure\n\nChange-Id: Ifeccc8216e19a2234cd0be983f289fb7a2a0573f\n'}, {'number': 4, 'created': '2015-05-01 06:19:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/80072d8c3a0f33e53cb5b2635c09a25744055b83', 'message': 'Imported Translations from Transifex\n\nFor more information about this automatic import see:\nhttps://wiki.openstack.org/wiki/Translations/Infrastructure\n\nChange-Id: Ifeccc8216e19a2234cd0be983f289fb7a2a0573f\n'}, {'number': 5, 'created': '2015-05-02 06:19:11.000000000', 'files': ['nova/locale/fr/LC_MESSAGES/nova-log-critical.po', 'nova/locale/es/LC_MESSAGES/nova-log-info.po', 'nova/locale/zh_TW/LC_MESSAGES/nova-log-info.po', 'nova/locale/fr/LC_MESSAGES/nova-log-warning.po', 'nova/locale/zh_CN/LC_MESSAGES/nova-log-critical.po', 'nova/locale/es/LC_MESSAGES/nova-log-warning.po', 'nova/locale/en_GB/LC_MESSAGES/nova-log-info.po', 'nova/locale/fr/LC_MESSAGES/nova.po', 'nova/locale/fr/LC_MESSAGES/nova-log-info.po', 'nova/locale/nova-log-info.pot', 'nova/locale/it/LC_MESSAGES/nova-log-error.po', 'nova/locale/fr/LC_MESSAGES/nova-log-error.po', 'nova/locale/nova.pot', 'nova/locale/nova-log-critical.pot', 'nova/locale/zh_CN/LC_MESSAGES/nova-log-info.po', 'nova/locale/nova-log-error.pot', 'nova/locale/es/LC_MESSAGES/nova.po', 'nova/locale/it/LC_MESSAGES/nova-log-info.po', 'nova/locale/ja/LC_MESSAGES/nova-log-info.po', 'nova/locale/nova-log-warning.pot', 'nova/locale/es/LC_MESSAGES/nova-log-critical.po', 'nova/locale/ko_KR/LC_MESSAGES/nova-log-info.po', 'nova/locale/pt_BR/LC_MESSAGES/nova-log-info.po', 'nova/locale/es/LC_MESSAGES/nova-log-error.po'], 'web_link': 'https://opendev.org/openstack/nova/commit/39bbc0d84624d95f13e3d911f38b7ae483c4505e', 'message': 'Imported Translations from Transifex\n\nFor more information about this automatic import see:\nhttps://wiki.openstack.org/wiki/Translations/Infrastructure\n\nChange-Id: Ifeccc8216e19a2234cd0be983f289fb7a2a0573f\n'}]",0,178055,39bbc0d84624d95f13e3d911f38b7ae483c4505e,47,11,5,11131,,,0,"Imported Translations from Transifex

For more information about this automatic import see:
https://wiki.openstack.org/wiki/Translations/Infrastructure

Change-Id: Ifeccc8216e19a2234cd0be983f289fb7a2a0573f
",git fetch https://review.opendev.org/openstack/nova refs/changes/55/178055/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/locale/fr/LC_MESSAGES/nova.po', 'nova/locale/nova.pot', 'nova/locale/nova-log-warning.pot', 'nova/locale/fr/LC_MESSAGES/nova-log-warning.po', 'nova/locale/es/LC_MESSAGES/nova-log-warning.po', 'nova/locale/es/LC_MESSAGES/nova.po']",6,d300f3c6d9b8b4d3d3051bb42fbc0d105566580e,transifex/translations,"""POT-Creation-Date: 2015-04-28 06:17+0000\n"" ""PO-Revision-Date: 2015-04-27 23:59+0000\n""#: nova/exception.py:884 nova/api/openstack/compute/contrib/floating_ips.py:73 #: nova/api/openstack/compute/contrib/floating_ips.py:154 #: nova/api/openstack/compute/plugins/v3/floating_ips.py:83 #: nova/api/openstack/compute/plugins/v3/floating_ips.py:174#: nova/api/openstack/compute/contrib/floating_ips.py:93 #: nova/api/openstack/compute/contrib/floating_ips.py:142 #: nova/api/openstack/compute/plugins/v3/floating_ips.py:104 #: nova/api/openstack/compute/plugins/v3/floating_ips.py:159#: nova/api/openstack/compute/contrib/floating_ips.py:119 #: nova/api/openstack/compute/plugins/v3/floating_ips.py:134#: nova/api/openstack/compute/contrib/floating_ips.py:121 #: nova/api/openstack/compute/plugins/v3/floating_ips.py:136#: nova/api/openstack/compute/contrib/floating_ips.py:125 #: nova/api/openstack/compute/plugins/v3/floating_ips.py:140#: nova/api/openstack/compute/contrib/floating_ips.py:127 #: nova/api/openstack/compute/plugins/v3/floating_ips.py:142#: nova/api/openstack/compute/contrib/floating_ips.py:175 #: nova/api/openstack/compute/contrib/floating_ips.py:253#: nova/api/openstack/compute/contrib/floating_ips.py:178 #: nova/api/openstack/compute/contrib/floating_ips.py:256#: nova/api/openstack/compute/contrib/floating_ips.py:184 #: nova/api/openstack/compute/plugins/v3/floating_ips.py:197#: nova/api/openstack/compute/contrib/floating_ips.py:189 #: nova/api/openstack/compute/plugins/v3/floating_ips.py:202#: nova/api/openstack/compute/contrib/floating_ips.py:200 #: nova/api/openstack/compute/plugins/v3/floating_ips.py:212#: nova/api/openstack/compute/contrib/floating_ips.py:208 #: nova/api/openstack/compute/plugins/v3/floating_ips.py:220 #, python-format msgid """" ""Unable to associate floating ip %(address)s to any fixed IPs for instance"" "" %(id)s. Instance has no fixed IPv4 addresses to associate."" msgstr """" #: nova/api/openstack/compute/contrib/floating_ips.py:223 #: nova/api/openstack/compute/plugins/v3/floating_ips.py:235#: nova/api/openstack/compute/contrib/floating_ips.py:226 #: nova/api/openstack/compute/plugins/v3/floating_ips.py:238#: nova/api/openstack/compute/contrib/floating_ips.py:229 #: nova/api/openstack/compute/contrib/floating_ips.py:264 #: nova/api/openstack/compute/plugins/v3/floating_ips.py:241 #: nova/api/openstack/compute/plugins/v3/floating_ips.py:271#: nova/api/openstack/compute/contrib/floating_ips.py:234 #: nova/api/openstack/compute/plugins/v3/floating_ips.py:246#: nova/api/openstack/compute/contrib/floating_ips.py:279 #: nova/api/openstack/compute/plugins/v3/floating_ips.py:286#: nova/api/openstack/compute/contrib/floating_ips.py:283 #: nova/api/openstack/compute/plugins/v3/floating_ips.py:290#: nova/virt/libvirt/driver.py:462#: nova/virt/libvirt/driver.py:546#: nova/virt/libvirt/driver.py:552#: nova/virt/libvirt/driver.py:661#: nova/virt/libvirt/driver.py:1023#: nova/virt/libvirt/driver.py:1030#: nova/virt/libvirt/driver.py:1128#: nova/virt/libvirt/driver.py:1428#: nova/virt/libvirt/driver.py:1445#: nova/virt/libvirt/driver.py:1449#: nova/virt/libvirt/driver.py:1455#: nova/virt/libvirt/driver.py:1473#: nova/virt/libvirt/driver.py:1628#: nova/virt/libvirt/driver.py:1722#: nova/virt/libvirt/driver.py:1727#: nova/virt/libvirt/driver.py:1784#: nova/virt/libvirt/driver.py:1791#: nova/virt/libvirt/driver.py:1827#: nova/virt/libvirt/driver.py:1836#: nova/virt/libvirt/driver.py:1865#: nova/virt/libvirt/driver.py:1922#: nova/virt/libvirt/driver.py:2439 nova/virt/xenapi/vmops.py:1760#: nova/virt/libvirt/driver.py:2774#: nova/virt/libvirt/driver.py:2881#: nova/virt/libvirt/driver.py:2968#: nova/virt/libvirt/driver.py:3049#: nova/virt/libvirt/driver.py:3055#: nova/virt/libvirt/driver.py:3059#: nova/virt/libvirt/driver.py:3095#: nova/virt/libvirt/driver.py:3404#: nova/virt/libvirt/driver.py:4200#: nova/virt/libvirt/driver.py:4490#: nova/virt/libvirt/driver.py:4497#: nova/virt/libvirt/driver.py:5056#: nova/virt/libvirt/driver.py:5066#: nova/virt/libvirt/driver.py:5149#: nova/virt/libvirt/driver.py:5194#: nova/virt/libvirt/driver.py:5257#: nova/virt/libvirt/driver.py:5376#: nova/virt/libvirt/driver.py:5855#: nova/virt/libvirt/driver.py:6112#: nova/virt/libvirt/driver.py:6256#: nova/virt/libvirt/driver.py:6264#: nova/virt/libvirt/driver.py:6282#: nova/virt/vmwareapi/driver.py:137#: nova/virt/vmwareapi/driver.py:146#: nova/virt/vmwareapi/driver.py:170#: nova/virt/vmwareapi/driver.py:425#: nova/virt/vmwareapi/driver.py:632","""POT-Creation-Date: 2015-04-27 06:17+0000\n"" ""PO-Revision-Date: 2015-04-24 14:03+0000\n""#: nova/exception.py:884 nova/api/openstack/compute/contrib/floating_ips.py:72 #: nova/api/openstack/compute/contrib/floating_ips.py:153 #: nova/api/openstack/compute/plugins/v3/floating_ips.py:82 #: nova/api/openstack/compute/plugins/v3/floating_ips.py:173#: nova/api/openstack/compute/contrib/floating_ips.py:92 #: nova/api/openstack/compute/contrib/floating_ips.py:141 #: nova/api/openstack/compute/plugins/v3/floating_ips.py:103 #: nova/api/openstack/compute/plugins/v3/floating_ips.py:158#: nova/api/openstack/compute/contrib/floating_ips.py:118 #: nova/api/openstack/compute/plugins/v3/floating_ips.py:133#: nova/api/openstack/compute/contrib/floating_ips.py:120 #: nova/api/openstack/compute/plugins/v3/floating_ips.py:135#: nova/api/openstack/compute/contrib/floating_ips.py:124 #: nova/api/openstack/compute/plugins/v3/floating_ips.py:139#: nova/api/openstack/compute/contrib/floating_ips.py:126 #: nova/api/openstack/compute/plugins/v3/floating_ips.py:141#: nova/api/openstack/compute/contrib/floating_ips.py:174 #: nova/api/openstack/compute/contrib/floating_ips.py:243#: nova/api/openstack/compute/contrib/floating_ips.py:177 #: nova/api/openstack/compute/contrib/floating_ips.py:246#: nova/api/openstack/compute/contrib/floating_ips.py:183 #: nova/api/openstack/compute/plugins/v3/floating_ips.py:196#: nova/api/openstack/compute/contrib/floating_ips.py:188 #: nova/api/openstack/compute/plugins/v3/floating_ips.py:201#: nova/api/openstack/compute/contrib/floating_ips.py:199 #: nova/api/openstack/compute/plugins/v3/floating_ips.py:211#: nova/api/openstack/compute/contrib/floating_ips.py:213 #: nova/api/openstack/compute/plugins/v3/floating_ips.py:225#: nova/api/openstack/compute/contrib/floating_ips.py:216 #: nova/api/openstack/compute/plugins/v3/floating_ips.py:228#: nova/api/openstack/compute/contrib/floating_ips.py:219 #: nova/api/openstack/compute/contrib/floating_ips.py:254 #: nova/api/openstack/compute/plugins/v3/floating_ips.py:231 #: nova/api/openstack/compute/plugins/v3/floating_ips.py:261#: nova/api/openstack/compute/contrib/floating_ips.py:224 #: nova/api/openstack/compute/plugins/v3/floating_ips.py:236#: nova/api/openstack/compute/contrib/floating_ips.py:269 #: nova/api/openstack/compute/plugins/v3/floating_ips.py:276#: nova/api/openstack/compute/contrib/floating_ips.py:273 #: nova/api/openstack/compute/plugins/v3/floating_ips.py:280#: nova/virt/libvirt/driver.py:463#: nova/virt/libvirt/driver.py:547#: nova/virt/libvirt/driver.py:553#: nova/virt/libvirt/driver.py:662#: nova/virt/libvirt/driver.py:1024#: nova/virt/libvirt/driver.py:1031#: nova/virt/libvirt/driver.py:1129#: nova/virt/libvirt/driver.py:1429#: nova/virt/libvirt/driver.py:1446#: nova/virt/libvirt/driver.py:1450#: nova/virt/libvirt/driver.py:1456#: nova/virt/libvirt/driver.py:1474#: nova/virt/libvirt/driver.py:1629#: nova/virt/libvirt/driver.py:1723#: nova/virt/libvirt/driver.py:1728#: nova/virt/libvirt/driver.py:1785#: nova/virt/libvirt/driver.py:1792#: nova/virt/libvirt/driver.py:1828#: nova/virt/libvirt/driver.py:1837#: nova/virt/libvirt/driver.py:1866#: nova/virt/libvirt/driver.py:1923#: nova/virt/libvirt/driver.py:2440 nova/virt/xenapi/vmops.py:1760#: nova/virt/libvirt/driver.py:2775#: nova/virt/libvirt/driver.py:2882#: nova/virt/libvirt/driver.py:2969#: nova/virt/libvirt/driver.py:3050#: nova/virt/libvirt/driver.py:3056#: nova/virt/libvirt/driver.py:3060#: nova/virt/libvirt/driver.py:3096#: nova/virt/libvirt/driver.py:3405#: nova/virt/libvirt/driver.py:4201#: nova/virt/libvirt/driver.py:4491#: nova/virt/libvirt/driver.py:4498#: nova/virt/libvirt/driver.py:5057#: nova/virt/libvirt/driver.py:5067#: nova/virt/libvirt/driver.py:5150#: nova/virt/libvirt/driver.py:5195#: nova/virt/libvirt/driver.py:5258#: nova/virt/libvirt/driver.py:5377#: nova/virt/libvirt/driver.py:5856#: nova/virt/libvirt/driver.py:6113#: nova/virt/libvirt/driver.py:6257#: nova/virt/libvirt/driver.py:6265#: nova/virt/libvirt/driver.py:6283#: nova/virt/vmwareapi/driver.py:129#: nova/virt/vmwareapi/driver.py:138#: nova/virt/vmwareapi/driver.py:162#: nova/virt/vmwareapi/driver.py:384#: nova/virt/vmwareapi/driver.py:601",435,399
openstack%2Ftacker~master~Id5b11643bf28e977c52caccadd5d574132d72c24,openstack/tacker,master,Id5b11643bf28e977c52caccadd5d574132d72c24,vnf-update: update attributes,MERGED,2015-05-14 01:57:45.000000000,2015-05-14 02:01:14.000000000,2015-05-14 02:01:13.000000000,"[{'_account_id': 3}, {'_account_id': 333}]","[{'number': 1, 'created': '2015-05-14 01:57:45.000000000', 'files': ['tacker/db/vm/vm_db.py', 'tacker/tests/unit/services/vm/drivers/noop.py', 'tacker/vm/plugin.py', 'tacker/vm/drivers/heat/heat.py', 'tacker/vm/drivers/nova/nova.py', 'tacker/vm/drivers/abstract_driver.py'], 'web_link': 'https://opendev.org/openstack/tacker/commit/af4cf6c6e5b6b28139e30f55d1a78d84cb760544', 'message': 'vnf-update: update attributes\n\nChange-Id: Id5b11643bf28e977c52caccadd5d574132d72c24\n'}]",0,182918,af4cf6c6e5b6b28139e30f55d1a78d84cb760544,6,2,1,333,,,0,"vnf-update: update attributes

Change-Id: Id5b11643bf28e977c52caccadd5d574132d72c24
",git fetch https://review.opendev.org/openstack/tacker refs/changes/18/182918/1 && git format-patch -1 --stdout FETCH_HEAD,"['tacker/db/vm/vm_db.py', 'tacker/tests/unit/services/vm/drivers/noop.py', 'tacker/vm/plugin.py', 'tacker/vm/drivers/heat/heat.py', 'tacker/vm/drivers/nova/nova.py', 'tacker/vm/drivers/abstract_driver.py']",6,af4cf6c6e5b6b28139e30f55d1a78d84cb760544,refresh," def update(self, plugin, context, device_id, device_dict, device): # device_dict: old device_dict to be updated # device: update with device dict"," def update(self, plugin, context, device):",65,18
openstack%2Fdevstack~stable%2Fkilo~Ie48a859476faff22a4dfef466516e2d7d62ef0c0,openstack/devstack,stable/kilo,Ie48a859476faff22a4dfef466516e2d7d62ef0c0,Fix function and test for 'trueorfalse'.,MERGED,2015-05-13 02:07:17.000000000,2015-05-14 01:56:53.000000000,2015-05-14 01:56:52.000000000,"[{'_account_id': 3}, {'_account_id': 970}, {'_account_id': 6854}, {'_account_id': 7118}]","[{'number': 1, 'created': '2015-05-13 02:07:17.000000000', 'files': ['functions-common', 'tests/test_truefalse.sh'], 'web_link': 'https://opendev.org/openstack/devstack/commit/24cc0023ddca09bbbf44b70f9b4f61b500a1c0fd', 'message': 'Fix function and test for \'trueorfalse\'.\n\nThe function\'s comment is written as follow, however the function accepts\nother values (ex. ""e"", ""t"", ""T"", ""f"", ""F"", etc...).\n\n---\nAccepts as False: 0 no No NO false False FALSE\nAccepts as True: 1 yes Yes YES true True TRUE\n---\n\nMoreover if testval mach True or False, the function exits without resetting\nxtrace.\n\nBackported from https://review.openstack.org/#/c/181833/\n\nThis patch fixes the issue and add test patterns.\n\nChange-Id: Ie48a859476faff22a4dfef466516e2d7d62ef0c0\nCloses-bug: #1453687\n'}]",1,182521,24cc0023ddca09bbbf44b70f9b4f61b500a1c0fd,8,4,1,14257,,,0,"Fix function and test for 'trueorfalse'.

The function's comment is written as follow, however the function accepts
other values (ex. ""e"", ""t"", ""T"", ""f"", ""F"", etc...).

---
Accepts as False: 0 no No NO false False FALSE
Accepts as True: 1 yes Yes YES true True TRUE
---

Moreover if testval mach True or False, the function exits without resetting
xtrace.

Backported from https://review.openstack.org/#/c/181833/

This patch fixes the issue and add test patterns.

Change-Id: Ie48a859476faff22a4dfef466516e2d7d62ef0c0
Closes-bug: #1453687
",git fetch https://review.opendev.org/openstack/devstack refs/changes/21/182521/1 && git format-patch -1 --stdout FETCH_HEAD,"['functions-common', 'tests/test_truefalse.sh']",2,24cc0023ddca09bbbf44b70f9b4f61b500a1c0fd,bug/1453687,"function test_trueorfalse { local uppertrue=TRUE local capyes=Yes local lowyes=yes local upperyes=YES for default in True False; do for name in one captrue lowtrue uppertrue capyes lowyes upperyes; do assert_equal ""True"" $(trueorfalse $default $name) ""\$(trueorfalse $default $name)"" done done local upperfalse=FALSE local capno=No local lowno=no local upperno=NO for default in True False; do for name in zero capfalse lowfalse upperfalse capno lowno upperno; do assert_equal ""False"" $(trueorfalse $default $name) ""\$(trueorfalse $default $name)""test_trueorfalse","function test_truefalse { local abrevtrue=t local abrevfalse=f for against in True False; do for name in one captrue lowtrue abrevtrue; do assert_equal ""True"" $(trueorfalse $against $name) ""\$(trueorfalse $against $name)"" done done for against in True False; do for name in zero capfalse lowfalse abrevfalse; do assert_equal ""False"" $(trueorfalse $against $name) ""\$(trueorfalse $against $name)""test_truefalse",30,19
openstack%2Fheat~stable%2Fjuno~I81eaffda9bf3463b9216430b38df1abf63ae1a9f,openstack/heat,stable/juno,I81eaffda9bf3463b9216430b38df1abf63ae1a9f,Updated from global requirements,MERGED,2015-04-13 23:31:38.000000000,2015-05-14 01:55:07.000000000,2015-05-14 01:55:05.000000000,"[{'_account_id': 3}, {'_account_id': 1955}, {'_account_id': 2750}, {'_account_id': 4571}, {'_account_id': 6577}, {'_account_id': 7404}, {'_account_id': 8289}, {'_account_id': 9542}, {'_account_id': 9751}, {'_account_id': 12259}]","[{'number': 1, 'created': '2015-04-13 23:31:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/e4e1c517f722afcb22108078de76fa9427336fa0', 'message': 'Updated from global requirements\n\nChange-Id: I81eaffda9bf3463b9216430b38df1abf63ae1a9f\n'}, {'number': 2, 'created': '2015-04-22 12:40:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/4367846ab0fd9aa7c797d7cd49dbd699fbe2d8ae', 'message': 'Updated from global requirements\n\nChange-Id: I81eaffda9bf3463b9216430b38df1abf63ae1a9f\n'}, {'number': 3, 'created': '2015-04-24 12:34:33.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/heat/commit/10c1a994a9789ca782dc4446ae8a8403fad56c9d', 'message': 'Updated from global requirements\n\nChange-Id: I81eaffda9bf3463b9216430b38df1abf63ae1a9f\n'}]",0,173119,10c1a994a9789ca782dc4446ae8a8403fad56c9d,27,10,3,11131,,,0,"Updated from global requirements

Change-Id: I81eaffda9bf3463b9216430b38df1abf63ae1a9f
",git fetch https://review.opendev.org/openstack/heat refs/changes/19/173119/3 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,e4e1c517f722afcb22108078de76fa9427336fa0,openstack/requirements,"python-keystoneclient>=0.10.0,<1.2.0","python-keystoneclient>=0.10.0,<=1.1.0",1,1
openstack%2Fmagnum~master~Ibe7354abba962dde6855225471f468f6a19a41ff,openstack/magnum,master,Ibe7354abba962dde6855225471f468f6a19a41ff,Added support of Kubernetes API in magnum.,MERGED,2015-04-03 10:01:44.000000000,2015-05-14 01:05:56.000000000,2015-05-14 01:05:55.000000000,"[{'_account_id': 3}, {'_account_id': 668}, {'_account_id': 2834}, {'_account_id': 5638}, {'_account_id': 7494}, {'_account_id': 10206}, {'_account_id': 11536}, {'_account_id': 12385}, {'_account_id': 15697}]","[{'number': 1, 'created': '2015-04-03 10:01:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/12a52c5f7757cf08229578d9d92e7e2afda01676', 'message': '[WIP]Example of k8sclient code in magnum.\n\nThis patch shows basic usage of k8s client code generated by swagger.\nExample used is for pod_create.\n\nNote: This patch needs modification like the authentication and adding\ntest cases also.\n\nChange-Id: Ibe7354abba962dde6855225471f468f6a19a41ff\n'}, {'number': 2, 'created': '2015-04-10 04:52:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/156f23b5d31c3d6ad09f072530e663177cf823af', 'message': '[WIP]Example of k8sclient code in magnum.\n\nThis patch shows basic usage of k8s client code generated by swagger.\nExample used is for pod_create.\n\nNote: This patch needs modification like the authentication and adding\ntest cases also.\n\nChange-Id: Ibe7354abba962dde6855225471f468f6a19a41ff\n'}, {'number': 3, 'created': '2015-05-12 10:30:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/711e2cdd4d13e9f82a96b977171ea7fd2df02c83', 'message': 'Added support of Kubernetes API in magnum.\n\nThis patch removes the use of Kubernetes CLI i.e kubectl\nfrom magnum and adds the support of Kubernetes API.\n\nChange-Id: Ibe7354abba962dde6855225471f468f6a19a41ff\nPartially-Implements: blueprint python-k8sclient\n'}, {'number': 4, 'created': '2015-05-13 07:50:21.000000000', 'files': ['magnum/tests/unit/conductor/handlers/test_kube.py', 'magnum/common/pythonk8sclient/client/swagger.py', 'magnum/common/exception.py', 'magnum/conductor/handlers/kube.py'], 'web_link': 'https://opendev.org/openstack/magnum/commit/52c532560a61694fdfd97c5c11efaa7fe3329071', 'message': 'Added support of Kubernetes API in magnum.\n\nThis patch removes the use of Kubernetes CLI i.e kubectl\nfrom magnum and adds the support of Kubernetes API.\n\nChange-Id: Ibe7354abba962dde6855225471f468f6a19a41ff\nPartially-Implements: blueprint python-k8sclient\n'}]",33,170414,52c532560a61694fdfd97c5c11efaa7fe3329071,43,9,4,10206,,,0,"Added support of Kubernetes API in magnum.

This patch removes the use of Kubernetes CLI i.e kubectl
from magnum and adds the support of Kubernetes API.

Change-Id: Ibe7354abba962dde6855225471f468f6a19a41ff
Partially-Implements: blueprint python-k8sclient
",git fetch https://review.opendev.org/openstack/magnum refs/changes/14/170414/4 && git format-patch -1 --stdout FETCH_HEAD,['magnum/conductor/handlers/kube.py'],1,12a52c5f7757cf08229578d9d92e7e2afda01676,bp/python-k8sclient,from magnum.common import k8s_manifest from magnum.common.pythonk8sclient.client import ApivbetaApi from magnum.common.pythonk8sclient.client import swagger # build a client connection. client = swagger.ApiClient(k8s_master_url) # create the Api class with the client we just created api = ApivbetaApi.ApivbetaApi(client) manifest = k8s_manifest.parse(pod.manifest) # TODO(madhuri): Handle all possible exceptions # call the API to create a Pod status = api.createPod(body=manifest) ," # trigger a kubectl command status = self.kube_cli.pod_create(k8s_master_url, pod)",14,2
openstack%2Fcinder-specs~master~Icfb51747dea1043a1714ae05961b180f6d55a95b,openstack/cinder-specs,master,Icfb51747dea1043a1714ae05961b180f6d55a95b,Support to import image to an existed volume,ABANDONED,2015-05-08 09:27:22.000000000,2015-05-14 01:05:23.000000000,,"[{'_account_id': 3}, {'_account_id': 170}, {'_account_id': 1207}, {'_account_id': 8846}]","[{'number': 1, 'created': '2015-05-08 09:27:22.000000000', 'files': ['specs/liberty/support-import-image-to-existed-volume.rst'], 'web_link': 'https://opendev.org/openstack/cinder-specs/commit/58b2cfcea877b30f568c57c98bc45d87dbd1b7ac', 'message': 'Support to import image to an existed volume\n\nThe purpose of this feature is to make user to quickly change\ntheir operation system in the rootable volume.\nNo need to create a new volume from image and attach again\nto vm.\n\nblueprint support-to-import-image-to-an-existed-volume\n\nChange-Id: Icfb51747dea1043a1714ae05961b180f6d55a95b\n'}]",0,181339,58b2cfcea877b30f568c57c98bc45d87dbd1b7ac,7,4,1,8846,,,0,"Support to import image to an existed volume

The purpose of this feature is to make user to quickly change
their operation system in the rootable volume.
No need to create a new volume from image and attach again
to vm.

blueprint support-to-import-image-to-an-existed-volume

Change-Id: Icfb51747dea1043a1714ae05961b180f6d55a95b
",git fetch https://review.opendev.org/openstack/cinder-specs refs/changes/39/181339/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/liberty/support-import-image-to-existed-volume.rst'],1,58b2cfcea877b30f568c57c98bc45d87dbd1b7ac,bp/support-to-import-image-to-an-existed-volume,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ============================== Import image to existed volume ============================== https://blueprints.launchpad.net/cinder/+spec/support-to-import-image-to-an-existed-volume Provide an ability about importing image to an existed volume. Problem description =================== Now cinder allow to create a new volume by importing image. If a volume has been created(even attached) and we just want to change the operation system inside, it will need to create a new volume from image and then change the root volume that has attached to vm up to now. It is a tiring routine to user. So we wish to introduce a function to support importing image to an existed volume. Use Cases ========= User can quickly change their operation system in the existed rootable volume. Even if this volume has been attached to the vm, it will not need to detach old volume and create new volume from image. Save user's time to focus their business. Proposed change =============== A new API function and corresponding cinder command will be added to import image to existed volume. The proposal is to provide a method for user to quickly change the operation system in their rootable volume. Alternatives ------------ We propose to implement this function in some steps below: 1. Define a new API like ""cinder import-image volume_id image_id"" 2. As a import process, clean up original OS in existed volume. 3. Import the new OS to this volume. It has same part of creating volume from image. 4. Update the glance_image_metadata that has stored in DB. *If the existed volume' size is smaller than image's require, it will be fail. Data model impact ----------------- None REST API impact --------------- Add a new REST API to import image to existed volume in v2:: *POST /v2/{tenant_id}/volumes/{id}/action { ""os-import-image"": {'image_id': 'xxx-xxxx-xxx'} } Normal http response code: 202 Expected error http response code: 404 Security impact --------------- None Notifications impact -------------------- Import notification should be added. Other end user impact --------------------- A new command, import-image, will be added to python-cinderclient. This command mirrors the underlying API function. Import image to existed volume item can be performed by: $ cinder import-image <volume_id> <image_id> Performance Impact ------------------ If the image's size is large, it will take more time to import. Other deployer impact --------------------- None Developer impact ---------------- None Implementation ============== Assignee(s) ----------- Primary assignee: wanghao<wanghao749@huawei.com> Work Items ---------- * Implement REST API * Implement cinder client functions * Implement cinder command Dependencies ============ None Testing ======= Need ut test for function. Documentation Impact ==================== The cinder client documentation will need to be updated to reflect the new command. http://docs.openstack.org/admin-guide-cloud/content/managing-volumes.html The cinder API documentation will need to be updated to reflect the REST API changes. References ========== None ",,145,0
openstack%2Fdevstack~master~Ib253537a54a1b9d83a930bbefa4512e039575fd1,openstack/devstack,master,Ib253537a54a1b9d83a930bbefa4512e039575fd1,dump compute consoles on fail as well,MERGED,2015-05-12 23:52:01.000000000,2015-05-14 00:55:56.000000000,2015-05-14 00:55:55.000000000,"[{'_account_id': 3}, {'_account_id': 970}, {'_account_id': 2750}, {'_account_id': 5196}]","[{'number': 1, 'created': '2015-05-12 23:52:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/5bdd1744f98228af32d524301f001ac28e0554ee', 'message': 'dump compute consoles on fail as well\n\nThis provides a dump of the compute consoles as well on failure.\n\nChange-Id: Ib253537a54a1b9d83a930bbefa4512e039575fd1\n'}, {'number': 2, 'created': '2015-05-13 09:58:48.000000000', 'files': ['tools/worlddump.py'], 'web_link': 'https://opendev.org/openstack/devstack/commit/737e94202fe635b7bd9ad59195352bb5dfe54817', 'message': 'dump compute consoles on fail as well\n\nThis provides a dump of the compute consoles as well on failure.\n\nChange-Id: Ib253537a54a1b9d83a930bbefa4512e039575fd1\n'}]",4,182502,737e94202fe635b7bd9ad59195352bb5dfe54817,13,4,2,2750,,,0,"dump compute consoles on fail as well

This provides a dump of the compute consoles as well on failure.

Change-Id: Ib253537a54a1b9d83a930bbefa4512e039575fd1
",git fetch https://review.opendev.org/openstack/devstack refs/changes/02/182502/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/worlddump.py'],1,5bdd1744f98228af32d524301f001ac28e0554ee,dump,"import fnmatchdef compute_consoles(): _header(""Compute consoles"") for root, dirnames, filenames in os.walk('/opt/stack'): for filename in fnmatch.filter(filenames, 'console.log'): fullpath = os.path.join(root, filename) _dump_cmd(""sudo cat %s"" % fullpath) ",,9,0
openstack%2Fglance~master~I3a9e0c7bfa4a9f38b41e93dce9652c4cc4811a9b,openstack/glance,master,I3a9e0c7bfa4a9f38b41e93dce9652c4cc4811a9b,Set filesystem_store_datadir in tests,MERGED,2015-05-12 21:47:00.000000000,2015-05-14 00:54:32.000000000,2015-05-14 00:54:31.000000000,"[{'_account_id': 3}, {'_account_id': 455}, {'_account_id': 2537}, {'_account_id': 6159}, {'_account_id': 7575}, {'_account_id': 9535}, {'_account_id': 11356}, {'_account_id': 12000}, {'_account_id': 13161}]","[{'number': 1, 'created': '2015-05-12 21:47:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/e06996f128b40fe8d1b0e2289fc3834d567af18f', 'message': 'Set filesystem_store_datadir in unit tests\n\nThe new release of glance_store (0.5.0) included\nI1d4f95cba47d21f1eb7e580314d01ac8d3481586, which raises errors if\nfilesystem_store_datadir or filesystem_store_datadirs is not set. This\npatch aims to unblock the gate by overriding the CONF option.\n\nChange-Id: I3a9e0c7bfa4a9f38b41e93dce9652c4cc4811a9b\nCloses-Bug: #1454384\n'}, {'number': 2, 'created': '2015-05-12 23:37:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/c25044e5ddf891e9a68820d76391fbd751fee98d', 'message': 'Set filesystem_store_datadir in unit tests\n\nThe new release of glance_store (0.5.0) included\nI1d4f95cba47d21f1eb7e580314d01ac8d3481586, which raises errors if\nfilesystem_store_datadir or filesystem_store_datadirs is not set. This\npatch aims to unblock the gate by overriding the CONF option.\n\nChange-Id: I3a9e0c7bfa4a9f38b41e93dce9652c4cc4811a9b\nCloses-Bug: #1454384\n'}, {'number': 3, 'created': '2015-05-13 09:44:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/60cbeca1a78d6e71bc40210d1d56d6ffb899caf9', 'message': 'Set filesystem_store_datadir in unit tests\n\nThe new release of glance_store (0.5.0) included\nI1d4f95cba47d21f1eb7e580314d01ac8d3481586, which raises errors if\nfilesystem_store_datadir or filesystem_store_datadirs is not set. This\npatch aims to unblock the gate by overriding the CONF option.\n\nChange-Id: I3a9e0c7bfa4a9f38b41e93dce9652c4cc4811a9b\nCloses-Bug: #1454384\n'}, {'number': 4, 'created': '2015-05-13 09:47:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/3e3a33dbafe333d68cd3a7f072316faa4d0d0ec2', 'message': 'Set filesystem_store_datadir in unit tests\n\nThe new release of glance_store (0.5.0) included\nI1d4f95cba47d21f1eb7e580314d01ac8d3481586, which raises errors if\nfilesystem_store_datadir or filesystem_store_datadirs is not set. Glance\ncurrently is not correctly populating either of those options in certain\nunit or functional tests, causing a lot of test failures. This patch\naims to unblock the gate by overriding the CONF option.\n\nChange-Id: I3a9e0c7bfa4a9f38b41e93dce9652c4cc4811a9b\nCloses-Bug: #1454384\n'}, {'number': 5, 'created': '2015-05-13 09:48:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/65bc20fe0550c5fad4ff63e9d393daca40be07cc', 'message': 'Set filesystem_store_datadir in unit tests\n\nThe new release of glance_store (0.5.0) included\nI1d4f95cba47d21f1eb7e580314d01ac8d3481586, which raises errors if\nfilesystem_store_datadir or filesystem_store_datadirs is not set. Glance\ncurrently is not correctly populating either of those options in certain\nunit or functional tests, causing a lot of test failures. This patch\naims to unblock the gate by overriding the CONF option.\n\nChange-Id: I3a9e0c7bfa4a9f38b41e93dce9652c4cc4811a9b\nCloses-Bug: #1454384\n'}, {'number': 6, 'created': '2015-05-13 10:04:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/aab21125d591533005af42fa3accf614bdaf3bcc', 'message': 'Set filesystem_store_datadir in unit tests\n\nThe new release of glance_store (0.5.0) included\nI1d4f95cba47d21f1eb7e580314d01ac8d3481586, which raises errors if\nfilesystem_store_datadir or filesystem_store_datadirs is not set. Glance\ncurrently is not correctly populating either of those options in certain\nunit or functional tests, causing a lot of test failures. This patch\naims to unblock the gate by overriding the CONF option.\n\nChange-Id: I3a9e0c7bfa4a9f38b41e93dce9652c4cc4811a9b\nCloses-Bug: #1454384\n'}, {'number': 7, 'created': '2015-05-13 10:07:56.000000000', 'files': ['glance/tests/unit/v2/test_image_members_resource.py', 'glance/tests/functional/test_bin_glance_cache_manage.py', 'glance/tests/functional/test_cache_middleware.py', 'glance/tests/unit/base.py', 'glance/tests/unit/test_scrubber.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/2278bcff3b98c41d3cd67f7b34fc7ca93bd9066e', 'message': 'Set filesystem_store_datadir in tests\n\nThe new release of glance_store (0.5.0) included\nI1d4f95cba47d21f1eb7e580314d01ac8d3481586, which raises errors if\nfilesystem_store_datadir or filesystem_store_datadirs is not set. Glance\ncurrently is not correctly populating either of those options in certain\nunit or functional tests, causing a lot of test failures. This patch\naims to unblock the gate by overriding the CONF option.\n\nChange-Id: I3a9e0c7bfa4a9f38b41e93dce9652c4cc4811a9b\nCloses-Bug: #1454384\n'}]",11,182469,2278bcff3b98c41d3cd67f7b34fc7ca93bd9066e,31,9,7,11356,,,0,"Set filesystem_store_datadir in tests

The new release of glance_store (0.5.0) included
I1d4f95cba47d21f1eb7e580314d01ac8d3481586, which raises errors if
filesystem_store_datadir or filesystem_store_datadirs is not set. Glance
currently is not correctly populating either of those options in certain
unit or functional tests, causing a lot of test failures. This patch
aims to unblock the gate by overriding the CONF option.

Change-Id: I3a9e0c7bfa4a9f38b41e93dce9652c4cc4811a9b
Closes-Bug: #1454384
",git fetch https://review.opendev.org/openstack/glance refs/changes/69/182469/7 && git format-patch -1 --stdout FETCH_HEAD,"['glance/tests/unit/v2/test_image_members_resource.py', 'glance/tests/unit/base.py']",2,e06996f128b40fe8d1b0e2289fc3834d567af18f,bug/1454384," self.config(default_store='filesystem', filesystem_store_datadir=os.path.join(self.test_dir), group=""glance_store"") ",,12,0
openstack%2Fcinder~master~If58a29c179e79e0b99e9da1d9a2ff1bc9c7b09e1,openstack/cinder,master,If58a29c179e79e0b99e9da1d9a2ff1bc9c7b09e1,Logging not using oslo.i18n guidelines (openstack),MERGED,2015-05-12 13:56:05.000000000,2015-05-14 00:45:02.000000000,2015-05-13 13:12:12.000000000,"[{'_account_id': 3}, {'_account_id': 170}, {'_account_id': 2243}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 10485}, {'_account_id': 10621}, {'_account_id': 10622}, {'_account_id': 11611}, {'_account_id': 11811}, {'_account_id': 12017}, {'_account_id': 12202}, {'_account_id': 12369}, {'_account_id': 12493}, {'_account_id': 12778}, {'_account_id': 12780}, {'_account_id': 13394}, {'_account_id': 14259}, {'_account_id': 14969}, {'_account_id': 15249}, {'_account_id': 15374}, {'_account_id': 15386}, {'_account_id': 16269}]","[{'number': 1, 'created': '2015-05-12 13:56:05.000000000', 'files': ['cinder/volume/drivers/eqlx.py', 'cinder/hacking/checks.py', 'cinder/volume/drivers/netapp/eseries/host_mapper.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/4f52027f7f5abc493742821ade935e2949269f9d', 'message': 'Logging not using oslo.i18n guidelines (openstack)\n\nMulti-patch set for easier chunks. This one addresses\nthe openstack cinder directory. That directory is synced\nfrom oslo, so no changes made. Translation markers are\nbeing used, so this just removes the hacking check\nexclusion of that directory.\n\nSome cleanup of a couple files are also included in this\npatch for other directories that had been previously\ncovered.\n\nThere have been quite a few instances found where the\ni18n guidelines are not being followed. I believe this\nhas helped lead to some of the confusion around how to\ncorrectly do this. Other developers see this code and\nassume it is an example of the correct usage.\n\nThis patch attempts to clean up most of those violations\nin the existing codebase to hopefully help avoid some of\nthat confusion in reviews.\n\nSome issues address:\n* Correct log translation markers for different log levels\n* Passing format values as arguments to call, not preformatting\n* Not forcing translation via six.text_type and others\n\nGuidelines can be found here:\nhttp://docs.openstack.org/developer/oslo.i18n/guidelines.html\n\nHacking checks will not be able to identify all violations of\nthe guidelines, but it could be useful for catching obvious\none such as LOG.info(""No markers!"").\n\nChange-Id: If58a29c179e79e0b99e9da1d9a2ff1bc9c7b09e1\nCloses-bug: 1433216\nCloses-bug: 1431256\n'}]",0,182299,4f52027f7f5abc493742821ade935e2949269f9d,37,23,1,11904,,,0,"Logging not using oslo.i18n guidelines (openstack)

Multi-patch set for easier chunks. This one addresses
the openstack cinder directory. That directory is synced
from oslo, so no changes made. Translation markers are
being used, so this just removes the hacking check
exclusion of that directory.

Some cleanup of a couple files are also included in this
patch for other directories that had been previously
covered.

There have been quite a few instances found where the
i18n guidelines are not being followed. I believe this
has helped lead to some of the confusion around how to
correctly do this. Other developers see this code and
assume it is an example of the correct usage.

This patch attempts to clean up most of those violations
in the existing codebase to hopefully help avoid some of
that confusion in reviews.

Some issues address:
* Correct log translation markers for different log levels
* Passing format values as arguments to call, not preformatting
* Not forcing translation via six.text_type and others

Guidelines can be found here:
http://docs.openstack.org/developer/oslo.i18n/guidelines.html

Hacking checks will not be able to identify all violations of
the guidelines, but it could be useful for catching obvious
one such as LOG.info(""No markers!"").

Change-Id: If58a29c179e79e0b99e9da1d9a2ff1bc9c7b09e1
Closes-bug: 1433216
Closes-bug: 1431256
",git fetch https://review.opendev.org/openstack/cinder refs/changes/99/182299/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/eqlx.py', 'cinder/hacking/checks.py', 'cinder/volume/drivers/netapp/eseries/host_mapper.py']",3,4f52027f7f5abc493742821ade935e2949269f9d,bug/1433216," LOG.debug(""Attempting to map volume %s to single host."", volume['id']) LOG.debug(""Volume %s is mapped to multiattach host group."", volume['id']) LOG.debug(""Attempting to map volume %s to multiple hosts."", volume['id'])"," LOG.debug(""Attempting to map volume %s to single host."" % volume['id']) LOG.debug(""Volume %s is mapped to multiattach host group."" % volume['id']) LOG.debug(""Attempting to map volume %s to multiple hosts."" % volume['id'])",6,14
openstack%2Fpython-keystoneclient~master~Ib0e91ebfe4234bc3332b7c3051dba98248312a34,openstack/python-keystoneclient,master,Ib0e91ebfe4234bc3332b7c3051dba98248312a34,Don't autodoc the test suite,MERGED,2015-05-07 16:33:42.000000000,2015-05-14 00:44:08.000000000,2015-05-14 00:44:06.000000000,"[{'_account_id': 3}, {'_account_id': 6486}, {'_account_id': 7191}]","[{'number': 1, 'created': '2015-05-07 16:33:42.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/d0ca84c16e98ae763dbf3028ceb4a2754471c679', 'message': ""Don't autodoc the test suite\n\nDon't build API documentation for the keystoneclient tests.\nThese are not public functions, pollute the existing docs, and extend\nthe time required to build docs.\n\nA re-implementation of be1e94f\n\nChange-Id: Ib0e91ebfe4234bc3332b7c3051dba98248312a34\n""}]",0,181064,d0ca84c16e98ae763dbf3028ceb4a2754471c679,7,3,1,7725,,,0,"Don't autodoc the test suite

Don't build API documentation for the keystoneclient tests.
These are not public functions, pollute the existing docs, and extend
the time required to build docs.

A re-implementation of be1e94f

Change-Id: Ib0e91ebfe4234bc3332b7c3051dba98248312a34
",git fetch https://review.opendev.org/openstack/python-keystoneclient refs/changes/64/181064/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,d0ca84c16e98ae763dbf3028ceb4a2754471c679,bug/1260495,autodoc_tree_excludes = setup.py keystoneclient/tests/,,3,0
openstack%2Fpython-magnumclient~master~I02c15e5d61135c24cab5a4179962136b85c4eba0,openstack/python-magnumclient,master,I02c15e5d61135c24cab5a4179962136b85c4eba0,Add support for container status,MERGED,2015-05-11 02:59:49.000000000,2015-05-14 00:32:31.000000000,2015-05-14 00:32:31.000000000,"[{'_account_id': 3}, {'_account_id': 7494}, {'_account_id': 10206}, {'_account_id': 11650}, {'_account_id': 12927}]","[{'number': 1, 'created': '2015-05-11 02:59:49.000000000', 'files': ['magnumclient/v1/shell.py'], 'web_link': 'https://opendev.org/openstack/python-magnumclient/commit/fedff8248e8252ccd132c3301597501c8833cead', 'message': 'Add support for container status\n\nChange-Id: I02c15e5d61135c24cab5a4179962136b85c4eba0\nImplements: blueprint container-status\n'}]",0,181787,fedff8248e8252ccd132c3301597501c8833cead,11,5,1,12927,,,0,"Add support for container status

Change-Id: I02c15e5d61135c24cab5a4179962136b85c4eba0
Implements: blueprint container-status
",git fetch https://review.opendev.org/openstack/python-magnumclient refs/changes/87/181787/1 && git format-patch -1 --stdout FETCH_HEAD,['magnumclient/v1/shell.py'],1,fedff8248e8252ccd132c3301597501c8833cead,bp/container-status," columns = ('uuid', 'name', 'status')"," columns = ('uuid', 'name')",1,1
openstack%2Fnova~master~Ia564a7cacdac0ddab913464ca1c7f9fefb0ee0b5,openstack/nova,master,Ia564a7cacdac0ddab913464ca1c7f9fefb0ee0b5,Cleanup docs landing page,MERGED,2015-05-02 02:35:50.000000000,2015-05-14 00:20:29.000000000,2015-05-07 12:22:20.000000000,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 6167}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 15286}, {'_account_id': 15751}]","[{'number': 1, 'created': '2015-05-02 02:35:50.000000000', 'files': ['doc/source/index.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/57423c9788c747a56208e6af22ce2afb35acc632', 'message': ""Cleanup docs landing page\n\nOur docs our wildly out of date and pretty bad, this is a first step at\nbeginning to clean them up and make them more useful.\n\n* remove the guidelines section. 2 of them are explicitly wrong (API\n  Compatibility and Open Standards), and no one actually uses these\n  guidelines during development. Yes we want high availability and fault\n  tolerance, but listing these design guidelines here is misleading at\n  best.\n* Don't explain how this document is built, don't need to explain that\n  so prominently\n* Update the intro based on Nova's mission statement\n\nChange-Id: Ia564a7cacdac0ddab913464ca1c7f9fefb0ee0b5\n""}]",2,179553,57423c9788c747a56208e6af22ce2afb35acc632,13,9,1,1849,,,0,"Cleanup docs landing page

Our docs our wildly out of date and pretty bad, this is a first step at
beginning to clean them up and make them more useful.

* remove the guidelines section. 2 of them are explicitly wrong (API
  Compatibility and Open Standards), and no one actually uses these
  guidelines during development. Yes we want high availability and fault
  tolerance, but listing these design guidelines here is misleading at
  best.
* Don't explain how this document is built, don't need to explain that
  so prominently
* Update the intro based on Nova's mission statement

Change-Id: Ia564a7cacdac0ddab913464ca1c7f9fefb0ee0b5
",git fetch https://review.opendev.org/openstack/nova refs/changes/53/179553/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/index.rst'],1,57423c9788c747a56208e6af22ce2afb35acc632,cleanup,"Nova is an OpenStack project designed to provide power massively scalable, on demand, self service access to compute resources.","Nova is the project name for OpenStack Compute, a cloud computing fabric controller, the main part of an IaaS system. Individuals and organizations can use Nova to host and manage their own cloud computing systems. Nova originated as a project out of NASA Ames Research Laboratory. Nova is written with the following design guidelines in mind: * **Component based architecture**: Quickly add new behaviors * **Highly available**: Scale to very serious workloads * **Fault-Tolerant**: Isolated processes avoid cascading failures * **Recoverable**: Failures should be easy to diagnose, debug, and rectify * **Open Standards**: Be a reference implementation for a community-driven api * **API Compatibility**: Nova strives to provide API-compatible with popular systems like Amazon EC2 This documentation is generated by the Sphinx toolkit and lives in the source tree. Additional draft and project documentation on Nova and other components of OpenStack can be found on the `OpenStack wiki`_. Cloud administrators, refer to `docs.openstack.org`_. .. _`OpenStack wiki`: http://wiki.openstack.org .. _`docs.openstack.org`: http://docs.openstack.org",2,20
openstack%2Frequirements~master~I9767ff2129e85e4c94a079f4f8f981f4cdfa9b5b,openstack/requirements,master,I9767ff2129e85e4c94a079f4f8f981f4cdfa9b5b,Use httpretty < 0.8.7 to avoid broken unittests,MERGED,2015-05-12 15:14:50.000000000,2015-05-14 00:04:50.000000000,2015-05-14 00:04:49.000000000,"[{'_account_id': 3}, {'_account_id': 2472}, {'_account_id': 2750}, {'_account_id': 4146}, {'_account_id': 6618}, {'_account_id': 8736}, {'_account_id': 12807}, {'_account_id': 14760}, {'_account_id': 14810}]","[{'number': 1, 'created': '2015-05-12 15:14:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/07fcfe9b3e09e5aff8e740a7a07b8825d6ba2e37', 'message': 'Avoid httpretty 0.8.9 as it breaks unittests\n\nA hanging issue occurs with httpretty 0.8.9 (occurring since\n0.8.7) when testing openstack/python-ironicclient. This adds\n0.8.9 to the blacklist.\n\nThe underlying issue appears to be tracked in this bug:\n    https://github.com/gabrielfalcao/HTTPretty/issues/221\n\nThere is a proposed fix at:\n    https://github.com/gabrielfalcao/HTTPretty/pull/193\n\nChange-Id: I9767ff2129e85e4c94a079f4f8f981f4cdfa9b5b\nPartial-Bug: #1454051\n'}, {'number': 2, 'created': '2015-05-12 19:43:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/70845a7493482b65f649d357f6dd7a1ee6b97e33', 'message': 'Avoid httpretty 0.8.9 as it breaks unittests\n\nA hanging issue occurs with httpretty 0.8.9 (occurring since\n0.8.7) when testing openstack/python-ironicclient. This adds\n0.8.9 to the blacklist.\n\nThe underlying issue appears to be tracked in this bug:\n    https://github.com/gabrielfalcao/HTTPretty/issues/221\n\nThere is a proposed fix at:\n    https://github.com/gabrielfalcao/HTTPretty/pull/193\n\nDepends-on: I5e754b496a197ed8bb654c7d630871abc96119f7\n\nChange-Id: I9767ff2129e85e4c94a079f4f8f981f4cdfa9b5b\nPartial-Bug: #1454051'}, {'number': 3, 'created': '2015-05-13 14:13:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/2916b78bd80c98d5143806cffac18551d0bb64e3', 'message': 'Avoid httpretty 0.8.9 as it breaks unittests\n\nA hanging issue occurs with httpretty 0.8.9 (occurring since\n0.8.7) when testing openstack/python-ironicclient. This adds\n0.8.9 to the blacklist.\n\nThe underlying issue appears to be tracked in this bug:\n    https://github.com/gabrielfalcao/HTTPretty/issues/221\n\nThere is a proposed fix at:\n    https://github.com/gabrielfalcao/HTTPretty/pull/193\n\nChange-Id: I9767ff2129e85e4c94a079f4f8f981f4cdfa9b5b\nPartial-Bug: #1454051\n'}, {'number': 4, 'created': '2015-05-13 17:50:10.000000000', 'files': ['global-requirements.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/7bbb4a5ecd3166a67e568c293b49b62e4fb8eeea', 'message': ""Use httpretty < 0.8.7 to avoid broken unittests\n\nA hanging issue occurs with httpretty 0.8.7, 0.8.8 and 0.8.9\n(so far) when running the units tests for\n openstack/python-ironicclient. This clamps the version to\n< 0.8.7 since we don't know when/if this issue will be\naddressed by httpretty.\n\nThe underlying issue appears to be tracked in this bug:\n    https://github.com/gabrielfalcao/HTTPretty/issues/221\n\nThere is a proposed fix at:\n    https://github.com/gabrielfalcao/HTTPretty/pull/193\n\nChange-Id: I9767ff2129e85e4c94a079f4f8f981f4cdfa9b5b\nPartial-Bug: #1454051\n""}]",0,182340,7bbb4a5ecd3166a67e568c293b49b62e4fb8eeea,34,9,4,6618,,,0,"Use httpretty < 0.8.7 to avoid broken unittests

A hanging issue occurs with httpretty 0.8.7, 0.8.8 and 0.8.9
(so far) when running the units tests for
 openstack/python-ironicclient. This clamps the version to
< 0.8.7 since we don't know when/if this issue will be
addressed by httpretty.

The underlying issue appears to be tracked in this bug:
    https://github.com/gabrielfalcao/HTTPretty/issues/221

There is a proposed fix at:
    https://github.com/gabrielfalcao/HTTPretty/pull/193

Change-Id: I9767ff2129e85e4c94a079f4f8f981f4cdfa9b5b
Partial-Bug: #1454051
",git fetch https://review.opendev.org/openstack/requirements refs/changes/40/182340/3 && git format-patch -1 --stdout FETCH_HEAD,['global-requirements.txt'],1,07fcfe9b3e09e5aff8e740a7a07b8825d6ba2e37,bug/1454051,"httpretty>=0.8.4,!=0.8.7,!=0.8.8,!=0.8.9","httpretty>=0.8.4,!=0.8.7,!=0.8.8",1,1
openstack%2Fnova~master~I82dff302cd9dead06fc27d145ee32b267984d323,openstack/nova,master,I82dff302cd9dead06fc27d145ee32b267984d323,libvirt: deprecate the remove_unused_kernels config option,MERGED,2015-05-12 14:26:28.000000000,2015-05-13 23:55:48.000000000,2015-05-12 17:22:34.000000000,"[{'_account_id': 3}, {'_account_id': 642}, {'_account_id': 1063}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 9420}, {'_account_id': 10118}, {'_account_id': 15286}, {'_account_id': 15751}]","[{'number': 1, 'created': '2015-05-12 14:26:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/06c4ecc31a94cf1382f68088438e269bd283c130', 'message': 'libvirt: deprecate the remove_unused_kernels config option\n\nCommit 38997fc916904e47dcb847e1737eb26cbd38f6e1 added the option back in\ngrizzly with a note that it would be changed to the default behavior (or\nremoved) in the future.\n\nThe future is now!\n\nChange-Id: I82dff302cd9dead06fc27d145ee32b267984d323\n'}, {'number': 2, 'created': '2015-05-12 14:28:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/22b2ffb4df06cde9cbab3a036e27f9b2f652ee42', 'message': 'libvirt: deprecate the remove_unused_kernels config option\n\nCommit 38997fc916904e47dcb847e1737eb26cbd38f6e1 added the option back in\ngrizzly with a note that it would be changed to the default behavior (or\nremoved) in the future.\n\nThe future is now!\n\nChange-Id: I82dff302cd9dead06fc27d145ee32b267984d323\n'}, {'number': 3, 'created': '2015-05-12 14:51:46.000000000', 'files': ['nova/virt/libvirt/imagecache.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/5c521e7a374ddd58219e3f937e0dfabc73153a86', 'message': 'libvirt: deprecate the remove_unused_kernels config option\n\nCommit 38997fc916904e47dcb847e1737eb26cbd38f6e1 added the option back in\ngrizzly with a note that it would be changed to the default behavior (or\nremoved) in the future.\n\nThe future is now!\n\nDocImpact: The libvirt.remove_unused_kernels config option now defaults\n           to True and is deprecated for removal in the 2016.1 release.\n\nChange-Id: I82dff302cd9dead06fc27d145ee32b267984d323\n'}]",1,182315,5c521e7a374ddd58219e3f937e0dfabc73153a86,17,9,3,6873,,,0,"libvirt: deprecate the remove_unused_kernels config option

Commit 38997fc916904e47dcb847e1737eb26cbd38f6e1 added the option back in
grizzly with a note that it would be changed to the default behavior (or
removed) in the future.

The future is now!

DocImpact: The libvirt.remove_unused_kernels config option now defaults
           to True and is deprecated for removal in the 2016.1 release.

Change-Id: I82dff302cd9dead06fc27d145ee32b267984d323
",git fetch https://review.opendev.org/openstack/nova refs/changes/15/182315/3 && git format-patch -1 --stdout FETCH_HEAD,['nova/virt/libvirt/imagecache.py'],1,06c4ecc31a94cf1382f68088438e269bd283c130,remove-unused-kernels," deprecated_for_removal=True, help='DEPRECATED: Should unused kernel images be removed? ' 'This is only safe to enable if all compute nodes have ' 'been updated to support this option. This will be ' 'enabled by default in the 2016.1 release.'),"," help='Should unused kernel images be removed? This is only ' 'safe to enable if all compute nodes have been updated ' 'to support this option. This will be enabled by default ' 'in future.'),",5,4
openstack%2Fcookbook-openstack-network~master~I3d9ae89994770846094e24b3355ffad1a4e0d9ef,openstack/cookbook-openstack-network,master,I3d9ae89994770846094e24b3355ffad1a4e0d9ef,Restart neutron-vpn-agent in l3_agent recipe when vpn is enabled,MERGED,2015-05-06 09:24:45.000000000,2015-05-13 23:55:00.000000000,2015-05-13 23:54:59.000000000,"[{'_account_id': 3}, {'_account_id': 7128}, {'_account_id': 7515}, {'_account_id': 8112}, {'_account_id': 10486}, {'_account_id': 11915}, {'_account_id': 12323}]","[{'number': 1, 'created': '2015-05-06 09:24:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-network/commit/55617f68c1eb8d996298d0437947956bbbfd5ed7', 'message': 'Restart neutron-vpn-agent in l3_agent recipe when vpn is enabled\n\nAs there are some potential problems when neutron-l3-agent and\nneutron-vpn-agent services are both running in the network node,\nwe should disable and stop neutron-l3-agent service.\n\nThe l3_agent recipe will be executed when running vpn_agent recipe,\nso when firewall is enabled, restart neutron-vpn-agent service\ninstead of neutron-l3-agent service.\n\nChange-Id: I3d9ae89994770846094e24b3355ffad1a4e0d9ef\n'}, {'number': 2, 'created': '2015-05-06 09:26:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-network/commit/4ddbabe015f6eb973865533b7a6f6aea2d643ed0', 'message': 'Restart neutron-vpn-agent in l3_agent recipe when vpn is enabled\n\nAs there are some potential problems when neutron-l3-agent and\nneutron-vpn-agent services are both running in the network node,\nwe should disable and stop neutron-l3-agent service.\n\nThe l3_agent recipe will be executed when running vpn_agent recipe,\nso when firewall is enabled, restart neutron-vpn-agent service\ninstead of neutron-l3-agent service.\n\nCloses-Bug: #1452121\nChange-Id: I3d9ae89994770846094e24b3355ffad1a4e0d9ef\n'}, {'number': 3, 'created': '2015-05-06 14:12:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-network/commit/b70d1d0d970c80f30fe0c09d77dee7c8f320ea3e', 'message': 'Restart neutron-vpn-agent in l3_agent recipe when vpn is enabled\n\nAs there are some potential problems when neutron-l3-agent and\nneutron-vpn-agent services are both running in the network node,\nwe should disable and stop neutron-l3-agent service.\n\nThe l3_agent recipe will be executed when running vpn_agent recipe,\nso when firewall is enabled, restart neutron-vpn-agent service\ninstead of neutron-l3-agent service.\n\nCloses-Bug: #1452121\nChange-Id: I3d9ae89994770846094e24b3355ffad1a4e0d9ef\n'}, {'number': 4, 'created': '2015-05-07 08:37:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-network/commit/f114c42cbd8284c0375e4c4399e5fcc4c13e84cb', 'message': 'Restart neutron-vpn-agent in l3_agent recipe when vpn is enabled\n\nAs there are some potential problems when neutron-l3-agent and\nneutron-vpn-agent services are both running in the network node,\nwe should disable and stop neutron-l3-agent service.\n\nThe l3_agent recipe will be executed when running vpn_agent recipe,\nso when firewall is enabled, restart neutron-vpn-agent service\ninstead of neutron-l3-agent service.\n\nCloses-Bug: #1452121\nChange-Id: I3d9ae89994770846094e24b3355ffad1a4e0d9ef\n'}, {'number': 5, 'created': '2015-05-08 11:57:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-network/commit/4aa0894207da5014662c781a571f5e297c05b862', 'message': 'Restart neutron-vpn-agent in l3_agent recipe when vpn is enabled\n\nAs there are some potential problems when neutron-l3-agent and\nneutron-vpn-agent services are both running in the network node,\nwe should disable and stop neutron-l3-agent service.\n\nThe l3_agent recipe will be executed when running vpn_agent recipe,\nso when firewall is enabled, restart neutron-vpn-agent service\ninstead of neutron-l3-agent service.\n\nCloses-Bug: #1452121\nChange-Id: I3d9ae89994770846094e24b3355ffad1a4e0d9ef\n'}, {'number': 6, 'created': '2015-05-09 10:07:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-network/commit/e95e24989215012d18170700d1267a42fd0ecade', 'message': 'Restart neutron-vpn-agent in l3_agent recipe when vpn is enabled\n\nAs there are some potential problems when neutron-l3-agent and\nneutron-vpn-agent services are both running in the network node,\nwe should disable and stop neutron-l3-agent service.\n\nThe l3_agent recipe will be executed when running vpn_agent recipe,\nso when firewall is enabled, restart neutron-vpn-agent service\ninstead of neutron-l3-agent service.\n\nCloses-Bug: #1452121\nChange-Id: I3d9ae89994770846094e24b3355ffad1a4e0d9ef\n'}, {'number': 7, 'created': '2015-05-09 12:45:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-network/commit/cbc880e69117c60924fd8b8cd2b668ab43763d43', 'message': 'Restart neutron-vpn-agent in l3_agent recipe when vpn is enabled\n\nAs there are some potential problems when neutron-l3-agent and\nneutron-vpn-agent services are both running in the network node,\nwe should disable and stop neutron-l3-agent service.\n\nThe l3_agent recipe will be executed when running vpn_agent recipe,\nso when firewall is enabled, restart neutron-vpn-agent service\ninstead of neutron-l3-agent service.\n\nCloses-Bug: #1452121\nChange-Id: I3d9ae89994770846094e24b3355ffad1a4e0d9ef\n'}, {'number': 8, 'created': '2015-05-12 02:45:21.000000000', 'files': ['spec/l3_agent_spec.rb', 'recipes/l3_agent.rb'], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-network/commit/f1850995811d27fdf0807b1ce62a2a59a7cd5761', 'message': 'Restart neutron-vpn-agent in l3_agent recipe when vpn is enabled\n\nAs there are some potential problems when neutron-l3-agent and\nneutron-vpn-agent services are both running in the network node,\nwe should disable and stop neutron-l3-agent service.\n\nThe l3_agent recipe will be executed when running vpn_agent recipe,\nso when firewall is enabled, restart neutron-vpn-agent service\ninstead of neutron-l3-agent service.\n\nCloses-Bug: #1452121\nChange-Id: I3d9ae89994770846094e24b3355ffad1a4e0d9ef\n'}]",10,180458,f1850995811d27fdf0807b1ce62a2a59a7cd5761,32,7,8,10486,,,0,"Restart neutron-vpn-agent in l3_agent recipe when vpn is enabled

As there are some potential problems when neutron-l3-agent and
neutron-vpn-agent services are both running in the network node,
we should disable and stop neutron-l3-agent service.

The l3_agent recipe will be executed when running vpn_agent recipe,
so when firewall is enabled, restart neutron-vpn-agent service
instead of neutron-l3-agent service.

Closes-Bug: #1452121
Change-Id: I3d9ae89994770846094e24b3355ffad1a4e0d9ef
",git fetch https://review.opendev.org/openstack/cookbook-openstack-network refs/changes/58/180458/4 && git format-patch -1 --stdout FETCH_HEAD,['recipes/l3_agent.rb'],1,55617f68c1eb8d996298d0437947956bbbfd5ed7,bug/1452121," if node['openstack']['network']['enable_vpn'] notifies :restart, 'service[neutron-vpn-agent]', :delayed else notifies :restart, 'service[neutron-l3-agent]', :immediately end"," notifies :restart, 'service[neutron-l3-agent]', :immediately",5,1
openstack%2Fironic~master~I6db5208985424697d0ec258f12dcbebb6c938e65,openstack/ironic,master,I6db5208985424697d0ec258f12dcbebb6c938e65,test post please ignore,ABANDONED,2015-05-13 23:50:43.000000000,2015-05-13 23:50:53.000000000,,[{'_account_id': 12081}],"[{'number': 1, 'created': '2015-05-13 23:50:43.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/ironic/commit/74eed06a1e9e69b4eac57a65de6d9b079601d68a', 'message': 'test post please ignore\n\nChange-Id: I6db5208985424697d0ec258f12dcbebb6c938e65\n'}]",0,182893,74eed06a1e9e69b4eac57a65de6d9b079601d68a,3,1,1,10342,,,0,"test post please ignore

Change-Id: I6db5208985424697d0ec258f12dcbebb6c938e65
",git fetch https://review.opendev.org/openstack/ironic refs/changes/93/182893/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,74eed06a1e9e69b4eac57a65de6d9b079601d68a,,Test post please ignore ,,2,0
openstack%2Fmagnum~master~Ie357cc81e62d4016f009031114af5debff0dbc3b,openstack/magnum,master,Ie357cc81e62d4016f009031114af5debff0dbc3b,Create container json file under home directory,MERGED,2015-05-12 21:46:48.000000000,2015-05-13 23:45:01.000000000,2015-05-13 23:44:59.000000000,"[{'_account_id': 3}, {'_account_id': 7049}, {'_account_id': 7494}, {'_account_id': 10206}]","[{'number': 1, 'created': '2015-05-12 21:46:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/6dced895a7ca5aeb9cbfb91774ad2fe410bfde35', 'message': 'Create temporary file under /tmp folder\n\nThe current quickstart guide instructs user to create container.json\nunder current directory, which creates garbage. Better to place\nthe file to /tmp folder.\n\nChange-Id: Ie357cc81e62d4016f009031114af5debff0dbc3b\nCloses-Bug: 1454415\n'}, {'number': 2, 'created': '2015-05-13 17:52:41.000000000', 'files': ['doc/source/dev/dev-quickstart.rst'], 'web_link': 'https://opendev.org/openstack/magnum/commit/865a544b60ef6d0654685ecd0995708966661e8c', 'message': 'Create container json file under home directory\n\nThe current quickstart guide instructs user to create container.json\nunder current directory, which is not desired. Better to place\nthe file to home directory.\n\nChange-Id: Ie357cc81e62d4016f009031114af5debff0dbc3b\nCloses-Bug: 1454415\n'}]",0,182467,865a544b60ef6d0654685ecd0995708966661e8c,17,4,2,11536,,,0,"Create container json file under home directory

The current quickstart guide instructs user to create container.json
under current directory, which is not desired. Better to place
the file to home directory.

Change-Id: Ie357cc81e62d4016f009031114af5debff0dbc3b
Closes-Bug: 1454415
",git fetch https://review.opendev.org/openstack/magnum refs/changes/67/182467/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/dev/dev-quickstart.rst'],1,6dced895a7ca5aeb9cbfb91774ad2fe410bfde35,bug/1454415," ""command"": ""ping -c 4 8.8.8.8""}' > /tmp/container.json $ magnum container-create < /tmp/container.json"," ""command"": ""ping -c 4 8.8.8.8""}' > container.json $ magnum container-create < container.json",2,2
openstack%2Fhorizon~master~I8b50460cb447b624520d7bb626c734cf9c34beb2,openstack/horizon,master,I8b50460cb447b624520d7bb626c734cf9c34beb2,Make directory structure match Angular modules,ABANDONED,2015-04-22 01:24:16.000000000,2015-05-13 23:39:09.000000000,,"[{'_account_id': 3}, {'_account_id': 1941}, {'_account_id': 7665}, {'_account_id': 8871}, {'_account_id': 9576}, {'_account_id': 12071}, {'_account_id': 12826}, {'_account_id': 13805}, {'_account_id': 14124}, {'_account_id': 14307}]","[{'number': 1, 'created': '2015-04-22 01:24:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/2e9eee01125b6f486911c84edca2ff2bd6b4d3ac', 'message': 'Make directory structure match Angular modules\n\nWork in progress...\n\nChange-Id: I8b50460cb447b624520d7bb626c734cf9c34beb2\n'}, {'number': 2, 'created': '2015-04-22 15:50:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/014e74f6fc230d95c5c63e64ac323a1d5eb59c6e', 'message': 'Make directory structure match Angular modules\n\nWork in progress...\n\nChange-Id: I8b50460cb447b624520d7bb626c734cf9c34beb2\n'}, {'number': 3, 'created': '2015-04-22 16:14:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/52a27d66d79fdb009d62df1ba01cba9d0425ca59', 'message': 'Make directory structure match Angular modules\n\nWork in progress...\n\nOther changes:\n- Lists of module dependencies are now sorted alphabetically.\n- Lists of file includes for tests are now sorted alphabetically.\n\nChange-Id: I8b50460cb447b624520d7bb626c734cf9c34beb2\n'}, {'number': 4, 'created': '2015-04-22 18:37:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/40dae41470dfe94fb757eb133a0d5ab159436d2e', 'message': 'Make directory structure match Angular modules\n\nRefactor horizon Angular modules to have a consistent naming\nscheme and a matching directory structure.\n\nChange Summary:\n- change /horizon/static/angular to /horizon/static/framework\n- move hz.framework.* modules to hz.framework.service.*\n- move hz.widget.* modules to hz.framework.widget.*\n- Lists of module dependencies are now sorted alphabetically.\n- Lists of file includes for tests are now sorted alphabetically.\n- changed basePath to be hz.framework.*.basePath\n- SCSS files are now hierarchical like modules\n- change all module and constant names to include package\n- unit tests added to check that new constant names correctly defined\n- remove unneeded module injections from tests\n\nChange-Id: I8b50460cb447b624520d7bb626c734cf9c34beb2\n'}, {'number': 5, 'created': '2015-04-22 18:47:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/7765e564f93cd8cf35cfc204353f9c4f9954224c', 'message': 'Make directory structure match Angular modules\n\nRefactor horizon Angular modules to have a consistent naming\nscheme and a matching directory structure.\n\nChange Summary:\n- change /horizon/static/angular to /horizon/static/framework\n  - ""angular"" is a technology. ""framework"" better reflects the\n    conceptual structure of the code\n- move hz.framework.* modules to hz.framework.service.*\n  - ""framework"" now means things that support the UI\n  - ""framework.service"" are things that are general helpers\n    for other components like framework.widget.*\n- move hz.widget.* modules to hz.framework.widget.*\n- Lists of module dependencies are now sorted alphabetically.\n  - order doesn\'t matter for dependency injection. Alpha sort\n    makes it easier to find missing items\n- Lists of file includes for tests are now sorted alphabetically.\n- changed basePath to be hz.framework.*.basePath\n  - ""basePath"" is too generic, and depends on the module. Fully\n    qualifying the name allows nested modules to refine the basePath\n- SCSS files are now hierarchical like modules\n- change all module and constant names to include package\n  - constants live in a global namespace. When constants have a generic\n    name like ""helpText"" it is easy to accidentally get the wrong version\n    injected, depending on the order that .js files are parsed. Eliminate\n    this source of run-time bugs by explicitly naming constants with the\n    module that contains them (hz.framework.widget.transfer-table.helpText)\n- unit tests added to check that new constant names correctly defined\n- remove unneeded module injections from tests\n  - .hz is needed to get the non-standard interpolater ""{$"". Otherwise\n    parent modules do not need to be injected by default unless the test\n    directly uses something (like basePath) from that module\n\nChange-Id: I8b50460cb447b624520d7bb626c734cf9c34beb2\n'}, {'number': 6, 'created': '2015-04-22 21:24:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/b7c01956373502217817f73fc8e8302b632a07c0', 'message': 'Make directory structure match Angular modules\n\nRefactor horizon Angular modules to have a consistent naming\nscheme and a matching directory structure.\n\nChange Summary:\n- change /horizon/static/angular to /horizon/static/framework\n  - ""angular"" is a technology. ""framework"" better reflects the\n    conceptual structure of the code\n- move hz.framework.* modules to hz.framework.service.*\n  - ""framework"" now means things that support the UI\n  - ""framework.service"" are things that are general helpers\n    for other components like framework.widget.*\n- move hz.widget.* modules to hz.framework.widget.*\n- Lists of module dependencies are now sorted alphabetically.\n  - order doesn\'t matter for dependency injection. Alpha sort\n    makes it easier to find missing items\n- Lists of file includes for tests are now sorted alphabetically.\n- changed basePath to be hz.framework.*.basePath\n  - ""basePath"" is too generic, and depends on the module. Fully\n    qualifying the name allows nested modules to refine the basePath\n- SCSS files are now hierarchical like modules\n- change all module and constant names to include package\n  - constants live in a global namespace. When constants have a generic\n    name like ""helpText"" it is easy to accidentally get the wrong version\n    injected, depending on the order that .js files are parsed. Eliminate\n    this source of run-time bugs by explicitly naming constants with the\n    module that contains them (hz.framework.widget.transfer-table.helpText)\n- unit tests added to check that new constant names correctly defined\n- remove unneeded module injections from tests\n  - .hz is needed to get the non-standard interpolater ""{$"". Otherwise\n    parent modules do not need to be injected by default unless the test\n    directly uses something (like basePath) from that module\n- Move static/horizon/js/angular/service/*api files into /static/framework/api/\n\nChange-Id: I8b50460cb447b624520d7bb626c734cf9c34beb2\n'}, {'number': 7, 'created': '2015-04-22 21:33:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/abbae5e5e21405733f24b2385e24efaa2fe46fcd', 'message': 'Make directory structure match Angular modules\n\nRefactor horizon Angular modules to have a consistent naming\nscheme and a matching directory structure.\n\nChange Summary:\n- change /horizon/static/angular to /horizon/static/framework\n  - ""angular"" is a technology. ""framework"" better reflects the\n    conceptual structure of the code\n- move hz.framework.* modules to hz.framework.service.*\n  - ""framework"" now means things that support the UI\n  - ""framework.service"" are things that are general helpers\n    for other components like framework.widget.*\n- move hz.widget.* modules to hz.framework.widget.*\n- Lists of module dependencies are now sorted alphabetically.\n  - order doesn\'t matter for dependency injection. Alpha sort\n    makes it easier to find missing items\n- Lists of file includes for tests are now sorted alphabetically.\n- changed basePath to be hz.framework.*.basePath\n  - ""basePath"" is too generic, and depends on the module. Fully\n    qualifying the name allows nested modules to refine the basePath\n- SCSS files are now hierarchical like modules\n- change all module and constant names to include package\n  - constants live in a global namespace. When constants have a generic\n    name like ""helpText"" it is easy to accidentally get the wrong version\n    injected, depending on the order that .js files are parsed. Eliminate\n    this source of run-time bugs by explicitly naming constants with the\n    module that contains them (hz.framework.widget.transfer-table.helpText)\n- unit tests added to check that new constant names correctly defined\n- remove unneeded module injections from tests\n  - .hz is needed to get the non-standard interpolater ""{$"". Otherwise\n    parent modules do not need to be injected by default unless the test\n    directly uses something (like basePath) from that module\n- Move static/horizon/js/angular/service/*api files into /static/framework/api/\n\nChange-Id: I8b50460cb447b624520d7bb626c734cf9c34beb2\n'}, {'number': 8, 'created': '2015-04-22 21:45:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/d00a2b43a639c0dc2d19327517a69388b5d6a42b', 'message': 'Make directory structure match Angular modules\n\nRefactor horizon Angular modules to have a consistent naming\nscheme and a matching directory structure.\n\nChange Summary:\n- change /horizon/static/angular to /horizon/static/framework\n  - ""angular"" is a technology. ""framework"" better reflects the\n    conceptual structure of the code\n- move hz.framework.* modules to hz.framework.service.*\n  - ""framework"" now means things that support the UI\n  - ""framework.service"" are things that are general helpers\n    for other components like framework.widget.*\n- move hz.widget.* modules to hz.framework.widget.*\n- Lists of module dependencies are now sorted alphabetically.\n  - order doesn\'t matter for dependency injection. Alpha sort\n    makes it easier to find missing items\n- Lists of file includes for tests are now sorted alphabetically.\n- changed basePath to be hz.framework.*.basePath\n  - ""basePath"" is too generic, and depends on the module. Fully\n    qualifying the name allows nested modules to refine the basePath\n- SCSS files are now hierarchical like modules\n- change all module and constant names to include package\n  - constants live in a global namespace. When constants have a generic\n    name like ""helpText"" it is easy to accidentally get the wrong version\n    injected, depending on the order that .js files are parsed. Eliminate\n    this source of run-time bugs by explicitly naming constants with the\n    module that contains them (hz.framework.widget.transfer-table.helpText)\n- unit tests added to check that new constant names correctly defined\n- remove unneeded module injections from tests\n  - .hz is needed to get the non-standard interpolater ""{$"". Otherwise\n    parent modules do not need to be injected by default unless the test\n    directly uses something (like basePath) from that module\n- Move static/horizon/js/angular/service/*api files into /static/framework/api/\n- Move static/horizon/js/angular/filters to /static/framework/filter\n\nChange-Id: I8b50460cb447b624520d7bb626c734cf9c34beb2\n'}, {'number': 9, 'created': '2015-04-22 22:59:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/0051c739274be42a0dfe69d9acdd2932f614dd55', 'message': 'Make directory structure match Angular modules\n\nRefactor horizon Angular modules to have a consistent naming\nscheme and a matching directory structure.\n\nChange Summary:\n- change /horizon/static/angular to /horizon/static/framework\n  - ""angular"" is a technology. ""framework"" better reflects the\n    conceptual structure of the code\n- move hz.framework.* modules to hz.framework.service.*\n  - ""framework"" now means things that support the UI\n  - ""framework.service"" are things that are general helpers\n    for other components like framework.widget.*\n- move hz.widget.* modules to hz.framework.widget.*\n- Lists of module dependencies are now sorted alphabetically.\n  - order doesn\'t matter for dependency injection. Alpha sort\n    makes it easier to find missing items\n- Lists of file includes for tests are now sorted alphabetically.\n- changed basePath to be hz.framework.*.basePath\n  - ""basePath"" is too generic, and depends on the module. Fully\n    qualifying the name allows nested modules to refine the basePath\n- SCSS files are now hierarchical like modules\n- change all module and constant names to include package\n  - constants live in a global namespace. When constants have a generic\n    name like ""helpText"" it is easy to accidentally get the wrong version\n    injected, depending on the order that .js files are parsed. Eliminate\n    this source of run-time bugs by explicitly naming constants with the\n    module that contains them (hz.framework.widget.transfer-table.helpText)\n- unit tests added to check that new constant names correctly defined\n- remove unneeded module injections from tests\n  - .hz is needed to get the non-standard interpolater ""{$"". Otherwise\n    parent modules do not need to be injected by default unless the test\n    directly uses something (like basePath) from that module\n- Move static/horizon/js/angular/service/*api files into /static/framework/api/\n- Move static/horizon/js/angular/filters to /static/framework/filter\n\nChange-Id: I8b50460cb447b624520d7bb626c734cf9c34beb2\n'}, {'number': 10, 'created': '2015-04-22 23:12:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/d3a4392d96684195c47778a82582623d591c42ee', 'message': 'Make directory structure match Angular modules\n\nRefactor horizon Angular modules to have a consistent naming\nscheme and a matching directory structure.\n\nChange Summary:\n- change /horizon/static/angular to /horizon/static/framework\n  - ""angular"" is a technology. ""framework"" better reflects the\n    conceptual structure of the code\n- move hz.framework.* modules to hz.framework.service.*\n  - ""framework"" now means things that support the UI\n  - ""framework.service"" are things that are general helpers\n    for other components like framework.widget.*\n- move hz.widget.* modules to hz.framework.widget.*\n- Lists of module dependencies are now sorted alphabetically.\n  - order doesn\'t matter for dependency injection. Alpha sort\n    makes it easier to find missing items\n- Lists of file includes for tests are now sorted alphabetically.\n- changed basePath to be hz.framework.*.basePath\n  - ""basePath"" is too generic, and depends on the module. Fully\n    qualifying the name allows nested modules to refine the basePath\n- SCSS files are now hierarchical like modules\n- change all module and constant names to include package\n  - constants live in a global namespace. When constants have a generic\n    name like ""helpText"" it is easy to accidentally get the wrong version\n    injected, depending on the order that .js files are parsed. Eliminate\n    this source of run-time bugs by explicitly naming constants with the\n    module that contains them (hz.framework.widget.transfer-table.helpText)\n- unit tests added to check that new constant names correctly defined\n- remove unneeded module injections from tests\n  - .hz is needed to get the non-standard interpolater ""{$"". Otherwise\n    parent modules do not need to be injected by default unless the test\n    directly uses something (like basePath) from that module\n- Move static/horizon/js/angular/service/*api files into /static/framework/api/\n- Move static/horizon/js/angular/filters to /static/framework/filter\n- Move static/horizon/js/angular/directives/serialConsole to /static/framework/widget/\n\nChange-Id: I8b50460cb447b624520d7bb626c734cf9c34beb2\n'}, {'number': 11, 'created': '2015-04-23 00:02:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/8f874ab1a7aedd1a7326b210bf8f26f5f0d922c2', 'message': 'Make directory structure match Angular modules\n\nRefactor horizon Angular modules to have a consistent naming\nscheme and a matching directory structure.\n\nChange Summary:\n- change /horizon/static/angular to /horizon/static/framework\n  - ""angular"" is a technology. ""framework"" better reflects the\n    conceptual structure of the code\n- move hz.framework.* modules to hz.framework.service.*\n  - ""framework"" now means things that support the UI\n  - ""framework.service"" are things that are general helpers\n    for other components like framework.widget.*\n- move hz.widget.* modules to hz.framework.widget.*\n- Lists of module dependencies are now sorted alphabetically.\n  - order doesn\'t matter for dependency injection. Alpha sort\n    makes it easier to find missing items\n- Lists of file includes for tests are now sorted alphabetically.\n- changed basePath to be hz.framework.*.basePath\n  - ""basePath"" is too generic, and depends on the module. Fully\n    qualifying the name allows nested modules to refine the basePath\n- SCSS files are now hierarchical like modules\n- change all module and constant names to include package\n  - constants live in a global namespace. When constants have a generic\n    name like ""helpText"" it is easy to accidentally get the wrong version\n    injected, depending on the order that .js files are parsed. Eliminate\n    this source of run-time bugs by explicitly naming constants with the\n    module that contains them (hz.framework.widget.transfer-table.helpText)\n- unit tests added to check that new constant names correctly defined\n- remove unneeded module injections from tests\n  - .hz is needed to get the non-standard interpolater ""{$"". Otherwise\n    parent modules do not need to be injected by default unless the test\n    directly uses something (like basePath) from that module\n- Move static/horizon/js/angular/service/*api files into /static/framework/api/\n- Move static/horizon/js/angular/filters to /static/framework/filter\n- Move static/horizon/js/angular/directives/serialConsole to /static/framework/widget/\n- Move forms.js notBlank directive into static/framework/validators\n\nChange-Id: I8b50460cb447b624520d7bb626c734cf9c34beb2\n'}, {'number': 12, 'created': '2015-04-23 16:29:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/9936b83da77aba884d7d37ef51dd08d506acd574', 'message': 'Make directory structure match Angular modules\n\nRefactor horizon Angular modules to have a consistent naming\nscheme and a matching directory structure.\n\nChange Summary:\n- change /horizon/static/angular to /horizon/static/framework\n  - ""angular"" is a technology. ""framework"" better reflects the\n    conceptual structure of the code\n- move hz.framework.* modules to hz.framework.service.*\n  - ""framework"" now means things that support the UI\n  - ""framework.service"" are things that are general helpers\n    for other components like framework.widget.*\n- move hz.widget.* modules to hz.framework.widget.*\n- Lists of module dependencies are now sorted alphabetically.\n  - order doesn\'t matter for dependency injection. Alpha sort\n    makes it easier to find missing items\n- Lists of file includes for tests are now sorted alphabetically.\n- changed basePath to be hz.framework.*.basePath\n  - ""basePath"" is too generic, and depends on the module. Fully\n    qualifying the name allows nested modules to refine the basePath\n- SCSS files are now hierarchical like modules\n- change all module and constant names to include package\n  - constants live in a global namespace. When constants have a generic\n    name like ""helpText"" it is easy to accidentally get the wrong version\n    injected, depending on the order that .js files are parsed. Eliminate\n    this source of run-time bugs by explicitly naming constants with the\n    module that contains them (hz.framework.widget.transfer-table.helpText)\n- unit tests added to check that new constant names correctly defined\n- remove unneeded module injections from tests\n  - .hz is needed to get the non-standard interpolater ""{$"". Otherwise\n    parent modules do not need to be injected by default unless the test\n    directly uses something (like basePath) from that module\n- Move static/horizon/js/angular/service/*api files into /static/framework/api/\n- Move static/horizon/js/angular/filters to /static/framework/filter\n- Move static/horizon/js/angular/directives/serialConsole to /static/framework/widget/\n- Move forms.js notBlank directive into static/framework/validators\n- Move angular/horizon.js and horizon.conf.js to /static and into hz.module.js\n\nChange-Id: I8b50460cb447b624520d7bb626c734cf9c34beb2\n'}, {'number': 13, 'created': '2015-04-23 16:55:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/1b709dff9ebd72ff8badf78e611539ec8773bb47', 'message': 'Make directory structure match Angular modules\n\nRefactor horizon Angular modules to have a consistent naming\nscheme and a matching directory structure.\n\nChange Summary:\n- change /horizon/static/angular to /horizon/static/framework\n  - ""angular"" is a technology. ""framework"" better reflects the\n    conceptual structure of the code\n- move hz.framework.* modules to hz.framework.service.*\n  - ""framework"" now means things that support the UI\n  - ""framework.service"" are things that are general helpers\n    for other components like framework.widget.*\n- move hz.widget.* modules to hz.framework.widget.*\n- Lists of module dependencies are now sorted alphabetically.\n  - order doesn\'t matter for dependency injection. Alpha sort\n    makes it easier to find missing items\n- Lists of file includes for tests are now sorted alphabetically.\n- changed basePath to be hz.framework.*.basePath\n  - ""basePath"" is too generic, and depends on the module. Fully\n    qualifying the name allows nested modules to refine the basePath\n- SCSS files are now hierarchical like modules\n- change all module and constant names to include package\n  - constants live in a global namespace. When constants have a generic\n    name like ""helpText"" it is easy to accidentally get the wrong version\n    injected, depending on the order that .js files are parsed. Eliminate\n    this source of run-time bugs by explicitly naming constants with the\n    module that contains them (hz.framework.widget.transfer-table.helpText)\n- unit tests added to check that new constant names correctly defined\n- remove unneeded module injections from tests\n  - .hz is needed to get the non-standard interpolater ""{$"". Otherwise\n    parent modules do not need to be injected by default unless the test\n    directly uses something (like basePath) from that module\n- Move static/horizon/js/angular/service/*api files into /static/framework/api/\n- Move static/horizon/js/angular/filters to /static/framework/filter\n- Move static/horizon/js/angular/directives/serialConsole to /static/framework/widget/\n- Move forms.js notBlank directive into static/framework/validators\n- Move angular/horizon.js and horizon.conf.js to /static and into hz.module.js\n\nChange-Id: I8b50460cb447b624520d7bb626c734cf9c34beb2\n'}, {'number': 14, 'created': '2015-04-23 17:41:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/e1511bbaae95d280b127543c89637c378a82d630', 'message': 'Make directory structure match Angular modules\n\nRefactor horizon Angular modules to have a consistent naming\nscheme and a matching directory structure.\n\nChange Summary:\n- change /horizon/static/angular to /horizon/static/framework\n  - ""angular"" is a technology. ""framework"" better reflects the\n    conceptual structure of the code\n- move hz.framework.* modules to hz.framework.service.*\n  - ""framework"" now means things that support the UI\n  - ""framework.service"" are things that are general helpers\n    for other components like framework.widget.*\n- move hz.widget.* modules to hz.framework.widget.*\n- Lists of module dependencies are now sorted alphabetically.\n  - order doesn\'t matter for dependency injection. Alpha sort\n    makes it easier to find missing items\n- Lists of file includes for tests are now sorted alphabetically.\n- changed basePath to be hz.framework.*.basePath\n  - ""basePath"" is too generic, and depends on the module. Fully\n    qualifying the name allows nested modules to refine the basePath\n- SCSS files are now hierarchical like modules\n- change all module and constant names to include package\n  - constants live in a global namespace. When constants have a generic\n    name like ""helpText"" it is easy to accidentally get the wrong version\n    injected, depending on the order that .js files are parsed. Eliminate\n    this source of run-time bugs by explicitly naming constants with the\n    module that contains them (hz.framework.widget.transfer-table.helpText)\n- unit tests added to check that new constant names correctly defined\n- remove unneeded module injections from tests\n  - .hz is needed to get the non-standard interpolater ""{$"". Otherwise\n    parent modules do not need to be injected by default unless the test\n    directly uses something (like basePath) from that module\n- Move static/horizon/js/angular/service/*api files into /static/framework/api/\n- Move static/horizon/js/angular/filters to /static/framework/filter\n- Move static/horizon/js/angular/directives/serialConsole to /static/framework/widget/\n- Move forms.js notBlank directive into static/framework/validators\n- Move angular/horizon.js and horizon.conf.js to /static and into hz.module.js\n- Moved static/horizon/js/angular/controllers to /static/framework/controllers\n\nChange-Id: I8b50460cb447b624520d7bb626c734cf9c34beb2\n'}, {'number': 15, 'created': '2015-04-23 17:49:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/9c83d60df432518d3ab4ef849e8e3b1902385fa2', 'message': 'Make directory structure match Angular modules\n\nRefactor horizon Angular modules to have a consistent naming\nscheme and a matching directory structure.\n\nChange Summary:\n- change /horizon/static/angular to /horizon/static/framework\n  - ""angular"" is a technology. ""framework"" better reflects the\n    conceptual structure of the code\n- move hz.framework.* modules to hz.framework.service.*\n  - ""framework"" now means things that support the UI\n  - ""framework.service"" are things that are general helpers\n    for other components like framework.widget.*\n- move hz.widget.* modules to hz.framework.widget.*\n- Lists of module dependencies are now sorted alphabetically.\n  - order doesn\'t matter for dependency injection. Alpha sort\n    makes it easier to find missing items\n- Lists of file includes for tests are now sorted alphabetically.\n- changed basePath to be hz.framework.*.basePath\n  - ""basePath"" is too generic, and depends on the module. Fully\n    qualifying the name allows nested modules to refine the basePath\n- SCSS files are now hierarchical like modules\n- change all module and constant names to include package\n  - constants live in a global namespace. When constants have a generic\n    name like ""helpText"" it is easy to accidentally get the wrong version\n    injected, depending on the order that .js files are parsed. Eliminate\n    this source of run-time bugs by explicitly naming constants with the\n    module that contains them (hz.framework.widget.transfer-table.helpText)\n- unit tests added to check that new constant names correctly defined\n- remove unneeded module injections from tests\n  - .hz is needed to get the non-standard interpolater ""{$"". Otherwise\n    parent modules do not need to be injected by default unless the test\n    directly uses something (like basePath) from that module\n- Move static/horizon/js/angular/service/*api files into /static/framework/api/\n- Move static/horizon/js/angular/filters to /static/framework/filter\n- Move static/horizon/js/angular/directives/serialConsole to /static/framework/widget/\n- Move forms.js notBlank directive into static/framework/validators\n- Move angular/horizon.js and horizon.conf.js to /static and into hz.module.js\n- Moved static/horizon/js/angular/controllers to /static/framework/controllers\n- Renamed framwork/service to framework/util\n\nChange-Id: I8b50460cb447b624520d7bb626c734cf9c34beb2\n'}, {'number': 16, 'created': '2015-04-23 17:56:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/0a6c82f2eeb7b4e82e2d927c55598f2f31d56c86', 'message': 'Make directory structure match Angular modules\n\nRefactor horizon Angular modules to have a consistent naming\nscheme and a matching directory structure.\n\nBasic theory:\n1) /static contains the root ""hz"" module\n   and files specific to bootstraping angular in Horizon\n2) /static/conf contains ""hz.conf"" module and any settings\n   needed to configure the root ""hz"" module or general\n   angular settings\n3) /static/framework contains almost everything else that provides\n   components or services that can be used to build horizon UIs\n   (like horizon_dashboard).\n4) Directory structure is based on module hierarchy. Code that lives\n   in the module ""hz.framework.api.cinder"" (like \'cinderAPI\') is placed\n   in the directory static/framework/api/\n\nChange Summary:\n- change /horizon/static/angular to /horizon/static/framework\n  - ""angular"" is a technology. ""framework"" better reflects the\n    conceptual structure of the code\n- move hz.framework.* modules to hz.framework.service.*\n  - ""framework"" now means things that support the UI\n  - ""framework.service"" are things that are general helpers\n    for other components like framework.widget.*\n- move hz.widget.* modules to hz.framework.widget.*\n- Lists of module dependencies are now sorted alphabetically.\n  - order doesn\'t matter for dependency injection. Alpha sort\n    makes it easier to find missing items\n- Lists of file includes for tests are now sorted alphabetically.\n- changed basePath to be hz.framework.*.basePath\n  - ""basePath"" is too generic, and depends on the module. Fully\n    qualifying the name allows nested modules to refine the basePath\n- SCSS files are now hierarchical like modules\n- change all module and constant names to include package\n  - constants live in a global namespace. When constants have a generic\n    name like ""helpText"" it is easy to accidentally get the wrong version\n    injected, depending on the order that .js files are parsed. Eliminate\n    this source of run-time bugs by explicitly naming constants with the\n    module that contains them (hz.framework.widget.transfer-table.helpText)\n- unit tests added to check that new constant names correctly defined\n- remove unneeded module injections from tests\n  - .hz is needed to get the non-standard interpolater ""{$"". Otherwise\n    parent modules do not need to be injected by default unless the test\n    directly uses something (like basePath) from that module\n- Move static/horizon/js/angular/service/*api files into /static/framework/api/\n- Move static/horizon/js/angular/filters to /static/framework/filter\n- Move static/horizon/js/angular/directives/serialConsole to /static/framework/widget/\n- Move forms.js notBlank directive into static/framework/validators\n- Move angular/horizon.js and horizon.conf.js to /static and into hz.module.js\n- Moved static/horizon/js/angular/controllers to /static/framework/controllers\n- Renamed framwork/service to framework/util\n\nChange-Id: I8b50460cb447b624520d7bb626c734cf9c34beb2\n'}, {'number': 17, 'created': '2015-04-23 19:20:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/e8d26df1adcda598d9a6f11201516b84279d73f4', 'message': 'Make directory structure match Angular modules\n\nRefactor horizon Angular modules to have a consistent naming\nscheme and a matching directory structure.\n\nBasic theory:\n1) /static contains the root ""hz"" module\n   and files specific to bootstraping angular in Horizon\n2) /static/conf contains ""hz.conf"" module and any settings\n   needed to configure the root ""hz"" module or general\n   angular settings\n3) /static/framework contains almost everything else that provides\n   components or services that can be used to build horizon UIs\n   (like horizon_dashboard).\n4) Directory structure is based on module hierarchy. Code that lives\n   in the module ""hz.framework.api.cinder"" (like \'cinderAPI\') is placed\n   in the directory static/framework/api/\n\nChange Summary:\n- change /horizon/static/angular to /horizon/static/framework\n  - ""angular"" is a technology. ""framework"" better reflects the\n    conceptual structure of the code\n- move hz.framework.* modules to hz.framework.service.*\n  - ""framework"" now means things that support the UI\n  - ""framework.service"" are things that are general helpers\n    for other components like framework.widget.*\n- move hz.widget.* modules to hz.framework.widget.*\n- Lists of module dependencies are now sorted alphabetically.\n  - order doesn\'t matter for dependency injection. Alpha sort\n    makes it easier to find missing items\n- Lists of file includes for tests are now sorted alphabetically.\n- changed basePath to be hz.framework.*.basePath\n  - ""basePath"" is too generic, and depends on the module. Fully\n    qualifying the name allows nested modules to refine the basePath\n- SCSS files are now hierarchical like modules\n- change all module and constant names to include package\n  - constants live in a global namespace. When constants have a generic\n    name like ""helpText"" it is easy to accidentally get the wrong version\n    injected, depending on the order that .js files are parsed. Eliminate\n    this source of run-time bugs by explicitly naming constants with the\n    module that contains them (hz.framework.widget.transfer-table.helpText)\n- unit tests added to check that new constant names correctly defined\n- remove unneeded module injections from tests\n  - .hz is needed to get the non-standard interpolater ""{$"". Otherwise\n    parent modules do not need to be injected by default unless the test\n    directly uses something (like basePath) from that module\n- Move static/horizon/js/angular/service/*api files into /static/framework/api/\n- Move static/horizon/js/angular/filters to /static/framework/filter\n- Move static/horizon/js/angular/directives/serialConsole to /static/framework/widget/\n- Move forms.js notBlank directive into static/framework/validators\n- Move angular/horizon.js and horizon.conf.js to /static and into hz.module.js\n- Moved static/horizon/js/angular/controllers to /static/framework/controllers\n- Renamed framwork/service to framework/util\n\nChange-Id: I8b50460cb447b624520d7bb626c734cf9c34beb2\n'}, {'number': 18, 'created': '2015-04-23 19:34:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/96c775ec48cd201ba12f9339a0b28d89b97380af', 'message': 'Make directory structure match Angular modules\n\nRefactor horizon Angular modules to have a consistent naming\nscheme and a matching directory structure.\n\nBasic theory:\n1) /static contains the root ""hz"" module\n   and files specific to bootstraping angular in Horizon\n2) /static/conf contains ""hz.conf"" module and any settings\n   needed to configure the root ""hz"" module or general\n   angular settings\n3) /static/framework contains almost everything else that provides\n   components or services that can be used to build horizon UIs\n   (like horizon_dashboard).\n4) Directory structure is based on module hierarchy. Code that lives\n   in the module ""hz.framework.api.cinder"" (like \'cinderAPI\') is placed\n   in the directory static/framework/api/\n\nChange Summary:\n- change /horizon/static/angular to /horizon/static/framework\n  - ""angular"" is a technology. ""framework"" better reflects the\n    conceptual structure of the code\n- move hz.framework.* modules to hz.framework.service.*\n  - ""framework"" now means things that support the UI\n  - ""framework.service"" are things that are general helpers\n    for other components like framework.widget.*\n- move hz.widget.* modules to hz.framework.widget.*\n- Lists of module dependencies are now sorted alphabetically.\n  - order doesn\'t matter for dependency injection. Alpha sort\n    makes it easier to find missing items\n- Lists of file includes for tests are now sorted alphabetically.\n- changed basePath to be hz.framework.*.basePath\n  - ""basePath"" is too generic, and depends on the module. Fully\n    qualifying the name allows nested modules to refine the basePath\n- SCSS files are now hierarchical like modules\n- change all module and constant names to include package\n  - constants live in a global namespace. When constants have a generic\n    name like ""helpText"" it is easy to accidentally get the wrong version\n    injected, depending on the order that .js files are parsed. Eliminate\n    this source of run-time bugs by explicitly naming constants with the\n    module that contains them (hz.framework.widget.transfer-table.helpText)\n- unit tests added to check that new constant names correctly defined\n- remove unneeded module injections from tests\n  - .hz is needed to get the non-standard interpolater ""{$"". Otherwise\n    parent modules do not need to be injected by default unless the test\n    directly uses something (like basePath) from that module\n- Move static/horizon/js/angular/service/*api files into /static/framework/api/\n- Move static/horizon/js/angular/filters to /static/framework/filter\n- Move static/horizon/js/angular/directives/serialConsole to /static/framework/widget/\n- Move forms.js notBlank directive into static/framework/validators\n- Move angular/horizon.js and horizon.conf.js to /static and into hz.module.js\n- Moved static/horizon/js/angular/controllers to /static/framework/controllers\n- Renamed framwork/service to framework/util\n\nChange-Id: I8b50460cb447b624520d7bb626c734cf9c34beb2\n'}, {'number': 19, 'created': '2015-04-23 22:04:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/e0dc5a4b4939d315c31f72a093605e56c69cddbb', 'message': 'Make directory structure match Angular modules\n\nRefactor horizon Angular modules to have a consistent naming\nscheme and a matching directory structure.\n\nBasic theory:\n1) /static contains the root ""hz"" module\n   and files specific to bootstraping angular in Horizon\n2) /static/conf contains ""hz.conf"" module and any settings\n   needed to configure the root ""hz"" module or general\n   angular settings\n3) /static/framework contains almost everything else that provides\n   components or services that can be used to build horizon UIs\n   (like horizon_dashboard).\n4) Directory structure is based on module hierarchy. Code that lives\n   in the module ""hz.framework.api.cinder"" (like \'cinderAPI\') is placed\n   in the directory static/framework/api/\n\nChange Summary:\n- change /horizon/static/angular to /horizon/static/framework\n  - ""angular"" is a technology. ""framework"" better reflects the\n    conceptual structure of the code\n- move hz.framework.* modules to hz.framework.service.*\n  - ""framework"" now means things that support the UI\n  - ""framework.service"" are things that are general helpers\n    for other components like framework.widget.*\n- move hz.widget.* modules to hz.framework.widget.*\n- Lists of module dependencies are now sorted alphabetically.\n  - order doesn\'t matter for dependency injection. Alpha sort\n    makes it easier to find missing items\n- Lists of file includes for tests are now sorted alphabetically.\n- changed basePath to be hz.framework.*.basePath\n  - ""basePath"" is too generic, and depends on the module. Fully\n    qualifying the name allows nested modules to refine the basePath\n- SCSS files are now hierarchical like modules\n- change all module and constant names to include package\n  - constants live in a global namespace. When constants have a generic\n    name like ""helpText"" it is easy to accidentally get the wrong version\n    injected, depending on the order that .js files are parsed. Eliminate\n    this source of run-time bugs by explicitly naming constants with the\n    module that contains them (hz.framework.widget.transfer-table.helpText)\n- unit tests added to check that new constant names correctly defined\n- remove unneeded module injections from tests\n  - .hz is needed to get the non-standard interpolater ""{$"". Otherwise\n    parent modules do not need to be injected by default unless the test\n    directly uses something (like basePath) from that module\n- Move static/horizon/js/angular/service/*api files into /static/framework/api/\n- Move static/horizon/js/angular/filters to /static/framework/filter\n- Move static/horizon/js/angular/directives/serialConsole to /static/framework/widget/\n- Move forms.js notBlank directive into static/framework/validators\n- Move angular/horizon.js and horizon.conf.js to /static and into hz.module.js\n- Moved static/horizon/js/angular/controllers to /static/framework/controllers\n- Renamed framwork/service to framework/util\n\nChange-Id: I8b50460cb447b624520d7bb626c734cf9c34beb2\n'}, {'number': 20, 'created': '2015-04-24 16:05:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/a638dfa0573b183d6cf2ee2607ec5ade98be20e0', 'message': 'Make directory structure match Angular modules\n\nRefactor horizon Angular modules to have a consistent naming\nscheme and a matching directory structure.\n\nBasic theory:\n1) /static contains the root ""hz"" module\n   and files specific to bootstraping angular in Horizon\n2) /static/conf contains ""hz.conf"" module and any settings\n   needed to configure the root ""hz"" module or general\n   angular settings\n3) /static/framework contains almost everything else that provides\n   components or services that can be used to build horizon UIs\n   (like horizon_dashboard).\n4) Directory structure is based on module hierarchy. Code that lives\n   in the module ""hz.framework.api.cinder"" (like \'cinderAPI\') is placed\n   in the directory static/framework/api/\n\nChange Summary:\n- change /horizon/static/angular to /horizon/static/framework\n  - ""angular"" is a technology. ""framework"" better reflects the\n    conceptual structure of the code\n- move hz.framework.* modules to hz.framework.service.*\n  - ""framework"" now means things that support the UI\n  - ""framework.service"" are things that are general helpers\n    for other components like framework.widget.*\n- move hz.widget.* modules to hz.framework.widget.*\n- Lists of module dependencies are now sorted alphabetically.\n  - order doesn\'t matter for dependency injection. Alpha sort\n    makes it easier to find missing items\n- Lists of file includes for tests are now sorted alphabetically.\n- changed basePath to be hz.framework.*.basePath\n  - ""basePath"" is too generic, and depends on the module. Fully\n    qualifying the name allows nested modules to refine the basePath\n- SCSS files are now hierarchical like modules\n- change all module and constant names to include package\n  - constants live in a global namespace. When constants have a generic\n    name like ""helpText"" it is easy to accidentally get the wrong version\n    injected, depending on the order that .js files are parsed. Eliminate\n    this source of run-time bugs by explicitly naming constants with the\n    module that contains them (hz.framework.widget.transfer-table.helpText)\n- unit tests added to check that new constant names correctly defined\n- remove unneeded module injections from tests\n  - .hz is needed to get the non-standard interpolater ""{$"". Otherwise\n    parent modules do not need to be injected by default unless the test\n    directly uses something (like basePath) from that module\n- Move static/horizon/js/angular/service/*api files into /static/framework/api/\n- Move static/horizon/js/angular/filters to /static/framework/filter\n- Move static/horizon/js/angular/directives/serialConsole to /static/framework/widget/\n- Move forms.js notBlank directive into static/framework/validators\n- Move angular/horizon.js and horizon.conf.js to /static and into hz.module.js\n- Moved static/horizon/js/angular/controllers to /static/framework/controllers\n- Renamed framwork/service to framework/util\n\nChange-Id: I8b50460cb447b624520d7bb626c734cf9c34beb2\n'}, {'number': 21, 'created': '2015-04-27 22:13:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/70da1b95b4afe9320e1ae132907f5f61c5bebb38', 'message': 'Make directory structure match Angular modules\n\nRefactor horizon Angular modules to have a consistent naming\nscheme and a matching directory structure.\n\nBasic theory:\n1) /static/hz contains the root ""hz"" module\n   and files specific to bootstraping angular in Horizon\n3) /static/hz contains almost everything else that provides\n   components or services that can be used to build horizon UIs\n   (like horizon_dashboard).\n4) Directory structure is based on module hierarchy. Code that lives\n   in the module ""hz.api.cinder"" (like \'cinderAPI\') is placed\n   in the directory static/hz/api/\n\nChange Summary:\n- change /horizon/static/angular to /horizon/static/hz\n  - ""angular"" is a technology. ""hz"" better reflects the\n    conceptual structure of the code\n- Lists of module dependencies are now sorted alphabetically.\n  - order doesn\'t matter for dependency injection. Alpha sort\n    makes it easier to find missing items\n- Lists of file includes for tests are now sorted alphabetically.\n- changed basePath to be hz.*.basePath\n  - ""basePath"" is too generic, and depends on the module. Fully\n    qualifying the name allows nested modules to refine the basePath\n- SCSS files are now hierarchical like modules\n- change all module and constant names to include package\n  - constants live in a global namespace. When constants have a generic\n    name like ""helpText"" it is easy to accidentally get the wrong version\n    injected, depending on the order that .js files are parsed. Eliminate\n    this source of run-time bugs by explicitly naming constants with the\n    module that contains them (hz.framework.widget.transfer-table.helpText)\n- unit tests added to check that new constant names correctly defined\n- remove unneeded module injections from tests\n  - .hz is needed to get the non-standard interpolater ""{$"". Otherwise\n    parent modules do not need to be injected by default unless the test\n    directly uses something (like basePath) from that module\n- Move forms.js notBlank directive into static/hz/validation\n- Move angular/horizon.js and horizon.conf.js to /static/hz/hz.js and into hz.module.js\n- Moved static/horizon/js/angular/controllers to /static/hz/legacy-angular\n- Renamed framwork/service to hz/util\n\nChange-Id: I8b50460cb447b624520d7bb626c734cf9c34beb2\n'}, {'number': 22, 'created': '2015-04-27 22:18:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/e3cae66e26af60e3f20e9d65bc841bad87163480', 'message': 'Make directory structure match Angular modules\n\nRefactor horizon Angular modules to have a consistent naming\nscheme and a matching directory structure.\n\nBasic theory:\n1) /static/hz contains the root ""hz"" module\n   and files specific to bootstraping angular in Horizon\n3) /static/hz contains almost everything else that provides\n   components or services that can be used to build horizon UIs\n   (like horizon_dashboard).\n4) Directory structure is based on module hierarchy. Code that lives\n   in the module ""hz.api.cinder"" (like \'cinderAPI\') is placed\n   in the directory static/hz/api/\n\nChange Summary:\n- change /horizon/static/angular to /horizon/static/hz\n  - ""angular"" is a technology. ""hz"" better reflects the\n    conceptual structure of the code\n- Lists of module dependencies are now sorted alphabetically.\n  - order doesn\'t matter for dependency injection. Alpha sort\n    makes it easier to find missing items\n- Lists of file includes for tests are now sorted alphabetically.\n- changed basePath to be hz.*.basePath\n  - ""basePath"" is too generic, and depends on the module. Fully\n    qualifying the name allows nested modules to refine the basePath\n- SCSS files are now hierarchical like modules\n- change all module and constant names to include package\n  - constants live in a global namespace. When constants have a generic\n    name like ""helpText"" it is easy to accidentally get the wrong version\n    injected, depending on the order that .js files are parsed. Eliminate\n    this source of run-time bugs by explicitly naming constants with the\n    module that contains them (hz.framework.widget.transfer-table.helpText)\n- unit tests added to check that new constant names correctly defined\n- remove unneeded module injections from tests\n  - .hz is needed to get the non-standard interpolater ""{$"". Otherwise\n    parent modules do not need to be injected by default unless the test\n    directly uses something (like basePath) from that module\n- Move forms.js notBlank directive into static/hz/validation\n- Move angular/horizon.js and horizon.conf.js to /static/hz/hz.js and into hz.module.js\n- Moved static/horizon/js/angular/controllers to /static/hz/legacy-angular\n- Renamed framwork/service to hz/util\n\nChange-Id: I8b50460cb447b624520d7bb626c734cf9c34beb2\n'}, {'number': 23, 'created': '2015-04-28 21:49:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/50d90b4bb1d651955552d593eaa37438f113ed33', 'message': 'Make directory structure match Angular modules\n\nRefactor horizon Angular modules to have a consistent naming\nscheme and a matching directory structure.\n\nBasic theory:\n1) /horizon/static/horizon contains the root ""hz"" module\n   and files specific to bootstraping angular in Horizon\n3) /horizon/static/horizon contains almost everything else that provides\n   components or services that can be used to build horizon UIs\n   (like horizon_dashboard).\n4) Directory structure is based on module hierarchy. Code that lives\n   in the module ""hz.widget.wizard"" is placedin the directory\n   static/horizon/widget/\n5) API code move to openstack_dashboard/static/dashboard/api to better\n   match the location of API support in the Python code\n\nChange Summary:\n- move files from /horizon/static/angular to /horizon/static/horizon/\n  - ""angular"" is a technology. ""horizon"" better reflects the\n    conceptual structure of the code\n- Lists of module dependencies are now sorted alphabetically.\n  - order doesn\'t matter for dependency injection. Alpha sort\n    makes it easier to find missing items\n- Lists of file includes for tests are now sorted alphabetically.\n- changed basePath to be hz.*.basePath\n  - ""basePath"" is too generic, and depends on the module. Fully\n    qualifying the name allows nested modules to refine the basePath\n- SCSS files are now hierarchical like modules\n- change all module and constant names to include package\n  - constants live in a global namespace. When constants have a generic\n    name like ""helpText"" it is easy to accidentally get the wrong version\n    injected, depending on the order that .js files are parsed. Eliminate\n    this source of run-time bugs by explicitly naming constants with the\n    module that contains them (hz.framework.widget.transfer-table.helpText)\n- unit tests added to check that new constant names correctly defined\n- remove unneeded module injections from tests\n  - .hz is needed to get the non-standard interpolater ""{$"". Otherwise\n    parent modules do not need to be injected by default unless the test\n    directly uses something (like basePath) from that module\n- Move forms.js notBlank directive into static/hz/validation\n- Move angular/horizon.js and horizon.conf.js to /static/horizon/horizon.js and into hz.module.js\n- Moved static/horizon/js/angular/controllers to /static/horizon/legacy-angular\n- Renamed framwork/service to horizon/util\n\nChange-Id: I8b50460cb447b624520d7bb626c734cf9c34beb2\n'}, {'number': 24, 'created': '2015-04-29 18:07:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/0ff0653afb43ab5ee5e7e74d37225b05ef98e467', 'message': 'Make directory structure match Angular modules\n\nRefactor horizon Angular modules to have a consistent naming\nscheme and a matching directory structure.\n\nBasic theory:\n1) /horizon/static/horizon contains the root ""hz"" module\n   and files specific to bootstraping angular in Horizon\n2) /horizon/static/horizon contains almost everything else that provides\n   components or services that can be used to build horizon UIs\n   (like horizon_dashboard).\n3) Directory structure is based on module hierarchy. Code that lives\n   in the module ""hz.widget.wizard"" is placedin the directory\n   static/horizon/widget/\n4) API code move to openstack_dashboard/static/dashboard/api to better\n   match the location of API support in the Python code\n\nChange Summary:\n- move files from /horizon/static/angular to /horizon/static/horizon/\n  - ""angular"" is a technology. ""horizon"" better reflects the\n    conceptual structure of the code\n- Lists of module dependencies are now sorted alphabetically.\n  - order doesn\'t matter for dependency injection. Alpha sort\n    makes it easier to find missing items\n- Lists of file includes for tests are now sorted alphabetically.\n- changed basePath to be hz.*.basePath\n  - ""basePath"" is too generic, and depends on the module. Fully\n    qualifying the name allows nested modules to refine the basePath\n- SCSS files are now hierarchical like modules\n- change all module and constant names to include package\n  - constants live in a global namespace. When constants have a generic\n    name like ""helpText"" it is easy to accidentally get the wrong version\n    injected, depending on the order that .js files are parsed. Eliminate\n    this source of run-time bugs by explicitly naming constants with the\n    module that contains them (hz.framework.widget.transfer-table.helpText)\n- unit tests added to check that new constant names correctly defined\n- remove unneeded module injections from tests\n  - .hz is needed to get the non-standard interpolater ""{$"". Otherwise\n    parent modules do not need to be injected by default unless the test\n    directly uses something (like basePath) from that module\n- Move forms.js notBlank directive into static/hz/validation\n- Move angular/horizon.js and horizon.conf.js to /static/horizon/horizon.js and into hz.module.js\n- Moved static/horizon/js/angular/controllers to /static/horizon/legacy-angular\n- Renamed framwork/service to horizon/util\n\nChange-Id: I8b50460cb447b624520d7bb626c734cf9c34beb2\n'}, {'number': 25, 'created': '2015-04-29 18:09:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/c326ce926db8e754b7b060e24d4ced85be99172b', 'message': 'Make directory structure match Angular modules\n\nRefactor horizon Angular modules to have a consistent naming\nscheme and a matching directory structure.\n\nBasic theory:\n1) /horizon/static/horizon contains the root ""hz"" module\n   and files specific to bootstraping angular in Horizon\n2) /horizon/static/horizon contains almost everything else that provides\n   components or services that can be used to build horizon UIs\n   (like horizon_dashboard).\n3) Directory structure is based on module hierarchy. Code that lives\n   in the module ""hz.widget.wizard"" is placedin the directory\n   static/horizon/widget/\n4) API code move to openstack_dashboard/static/dashboard/api to better\n   match the location of API support in the Python code\n\nChange Summary:\n- move files from /horizon/static/angular to /horizon/static/horizon/\n  - ""angular"" is a technology. ""horizon"" better reflects the\n    conceptual structure of the code\n- Lists of module dependencies are now sorted alphabetically.\n  - order doesn\'t matter for dependency injection. Alpha sort\n    makes it easier to find missing items\n- Lists of file includes for tests are now sorted alphabetically.\n- changed basePath to be hz.*.basePath\n  - ""basePath"" is too generic, and depends on the module. Fully\n    qualifying the name allows nested modules to refine the basePath\n- SCSS files are now hierarchical like modules\n- change all module and constant names to include package\n  - constants live in a global namespace. When constants have a generic\n    name like ""helpText"" it is easy to accidentally get the wrong version\n    injected, depending on the order that .js files are parsed. Eliminate\n    this source of run-time bugs by explicitly naming constants with the\n    module that contains them (hz.framework.widget.transfer-table.helpText)\n- unit tests added to check that new constant names correctly defined\n- remove unneeded module injections from tests\n  - .hz is needed to get the non-standard interpolater ""{$"". Otherwise\n    parent modules do not need to be injected by default unless the test\n    directly uses something (like basePath) from that module\n- Move forms.js notBlank directive into static/hz/validation\n- Move angular/horizon.js and horizon.conf.js to /static/horizon/horizon.js and into hz.module.js\n- Moved static/horizon/js/angular/controllers to /static/horizon/legacy-angular\n- Renamed framwork/service to horizon/util\n\nChange-Id: I8b50460cb447b624520d7bb626c734cf9c34beb2\n'}, {'number': 26, 'created': '2015-04-29 19:56:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/bd35d54195e693e1039b94ec0bf7882d41cbb05f', 'message': 'Make directory structure match Angular modules\n\nRefactor horizon Angular modules to have a consistent naming\nscheme and a matching directory structure.\n\nBasic theory:\n1) /horizon/static/horizon contains the root ""hz"" module\n   and files specific to bootstraping angular in Horizon\n2) /horizon/static/horizon contains almost everything else that provides\n   components or services that can be used to build horizon UIs\n   (like horizon_dashboard).\n3) Directory structure is based on module hierarchy. Code that lives\n   in the module ""hz.widget.wizard"" is placedin the directory\n   static/horizon/widget/\n4) API code move to openstack_dashboard/static/dashboard/api to better\n   match the location of API support in the Python code\n\nChange Summary:\n- move files from /horizon/static/angular to /horizon/static/horizon/\n  - ""angular"" is a technology. ""horizon"" better reflects the\n    conceptual structure of the code\n- Lists of module dependencies are now sorted alphabetically.\n  - order doesn\'t matter for dependency injection. Alpha sort\n    makes it easier to find missing items\n- Lists of file includes for tests are now sorted alphabetically.\n- changed basePath to be hz.*.basePath\n  - ""basePath"" is too generic, and depends on the module. Fully\n    qualifying the name allows nested modules to refine the basePath\n- SCSS files are now hierarchical like modules\n- change all module and constant names to include package\n  - constants live in a global namespace. When constants have a generic\n    name like ""helpText"" it is easy to accidentally get the wrong version\n    injected, depending on the order that .js files are parsed. Eliminate\n    this source of run-time bugs by explicitly naming constants with the\n    module that contains them (hz.framework.widget.transfer-table.helpText)\n- unit tests added to check that new constant names correctly defined\n- remove unneeded module injections from tests\n  - .hz is needed to get the non-standard interpolater ""{$"". Otherwise\n    parent modules do not need to be injected by default unless the test\n    directly uses something (like basePath) from that module\n- Move forms.js notBlank directive into static/hz/validation\n- Move angular/horizon.js and horizon.conf.js to /static/horizon/horizon.js and into hz.module.js\n- Moved static/horizon/js/angular/controllers to /static/horizon/legacy-angular\n- Renamed framwork/service to horizon/util\n\nChange-Id: I8b50460cb447b624520d7bb626c734cf9c34beb2\n'}, {'number': 27, 'created': '2015-05-01 23:36:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/7b811558d6830ce3109c2ed3ac4122066318bf93', 'message': 'Make directory structure match Angular modules\n\nRefactor horizon Angular modules to have a consistent naming\nscheme and a matching directory structure.\n\nBasic theory:\n1) /horizon/static/horizon contains the root ""hz"" module\n   and files specific to bootstraping angular in Horizon\n2) /horizon/static/horizon contains almost everything else that provides\n   components or services that can be used to build horizon UIs\n   (like horizon_dashboard).\n3) Directory structure is based on module hierarchy. Code that lives\n   in the module ""hz.widget.wizard"" is placedin the directory\n   static/horizon/widget/\n4) API code move to openstack_dashboard/static/dashboard/api to better\n   match the location of API support in the Python code\n\nChange Summary:\n- move files from /horizon/static/angular to /horizon/static/horizon/\n  - ""angular"" is a technology. ""horizon"" better reflects the\n    conceptual structure of the code\n- Lists of module dependencies are now sorted alphabetically.\n  - order doesn\'t matter for dependency injection. Alpha sort\n    makes it easier to find missing items\n- Lists of file includes for tests are now sorted alphabetically.\n- changed basePath to be hz.*.basePath\n  - ""basePath"" is too generic, and depends on the module. Fully\n    qualifying the name allows nested modules to refine the basePath\n- SCSS files are now hierarchical like modules\n- change all module and constant names to include package\n  - constants live in a global namespace. When constants have a generic\n    name like ""helpText"" it is easy to accidentally get the wrong version\n    injected, depending on the order that .js files are parsed. Eliminate\n    this source of run-time bugs by explicitly naming constants with the\n    module that contains them (hz.framework.widget.transfer-table.helpText)\n- unit tests added to check that new constant names correctly defined\n- remove unneeded module injections from tests\n  - .hz is needed to get the non-standard interpolater ""{$"". Otherwise\n    parent modules do not need to be injected by default unless the test\n    directly uses something (like basePath) from that module\n- Move forms.js notBlank directive into static/hz/validation\n- Move angular/horizon.js and horizon.conf.js to /static/horizon/horizon.js and into hz.module.js\n- Moved static/horizon/js/angular/controllers to /static/horizon/legacy-angular\n- Renamed framwork/service to horizon/util\n\nChange-Id: I8b50460cb447b624520d7bb626c734cf9c34beb2\n'}, {'number': 28, 'created': '2015-05-04 17:02:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/f8ca15e0928f61299e7ba01198533c18490691ef', 'message': 'Make directory structure match Angular modules\n\nRefactor horizon Angular modules to have a consistent naming\nscheme and a matching directory structure.\n\nBasic theory:\n1) /horizon/static/horizon contains the root ""hz"" module\n   and files specific to bootstraping angular in Horizon\n2) /horizon/static/horizon contains almost everything else that provides\n   components or services that can be used to build horizon UIs\n   (like horizon_dashboard).\n3) Directory structure is based on module hierarchy. Code that lives\n   in the module ""hz.widget.wizard"" is placedin the directory\n   static/horizon/widget/\n4) API code move to openstack_dashboard/static/dashboard/api to better\n   match the location of API support in the Python code\n\nChange Summary:\n- move files from /horizon/static/angular to /horizon/static/horizon/\n  - ""angular"" is a technology. ""horizon"" better reflects the\n    conceptual structure of the code\n- Lists of module dependencies are now sorted alphabetically.\n  - order doesn\'t matter for dependency injection. Alpha sort\n    makes it easier to find missing items\n- Lists of file includes for tests are now sorted alphabetically.\n- changed basePath to be hz.*.basePath\n  - ""basePath"" is too generic, and depends on the module. Fully\n    qualifying the name allows nested modules to refine the basePath\n- SCSS files are now hierarchical like modules\n- change all module and constant names to include package\n  - constants live in a global namespace. When constants have a generic\n    name like ""helpText"" it is easy to accidentally get the wrong version\n    injected, depending on the order that .js files are parsed. Eliminate\n    this source of run-time bugs by explicitly naming constants with the\n    module that contains them (hz.framework.widget.transfer-table.helpText)\n- unit tests added to check that new constant names correctly defined\n- remove unneeded module injections from tests\n  - .hz is needed to get the non-standard interpolater ""{$"". Otherwise\n    parent modules do not need to be injected by default unless the test\n    directly uses something (like basePath) from that module\n- Move forms.js notBlank directive into static/hz/validation\n- Move angular/horizon.js and horizon.conf.js to /static/horizon/horizon.js and into hz.module.js\n- Moved static/horizon/js/angular/controllers to /static/horizon/legacy-angular\n- Renamed framwork/service to horizon/util\n\nChange-Id: I8b50460cb447b624520d7bb626c734cf9c34beb2\n'}, {'number': 29, 'created': '2015-05-04 22:09:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/1250b943335da4b42d8466bf280e0c19ff6f9431', 'message': 'Make directory structure match Angular modules\n\nRefactor horizon Angular modules to have a consistent naming\nscheme and a matching directory structure.\n\nBasic theory:\n1) /horizon/static/horizon contains the root ""hz"" module\n   and files specific to bootstraping angular in Horizon\n2) /horizon/static/horizon contains almost everything else that provides\n   components or services that can be used to build horizon UIs\n   (like horizon_dashboard).\n3) Directory structure is based on module hierarchy. Code that lives\n   in the module ""hz.widget.wizard"" is placedin the directory\n   static/horizon/widget/\n4) API code move to openstack_dashboard/static/dashboard/api to better\n   match the location of API support in the Python code\n\nChange Summary:\n- move files from /horizon/static/angular to /horizon/static/horizon/\n  - ""angular"" is a technology. ""horizon"" better reflects the\n    conceptual structure of the code\n- Lists of module dependencies are now sorted alphabetically.\n  - order doesn\'t matter for dependency injection. Alpha sort\n    makes it easier to find missing items\n- Lists of file includes for tests are now sorted alphabetically.\n- changed basePath to be hz.*.basePath\n  - ""basePath"" is too generic, and depends on the module. Fully\n    qualifying the name allows nested modules to refine the basePath\n- SCSS files are now hierarchical like modules\n- change all module and constant names to include package\n  - constants live in a global namespace. When constants have a generic\n    name like ""helpText"" it is easy to accidentally get the wrong version\n    injected, depending on the order that .js files are parsed. Eliminate\n    this source of run-time bugs by explicitly naming constants with the\n    module that contains them (hz.framework.widget.transfer-table.helpText)\n- unit tests added to check that new constant names correctly defined\n- remove unneeded module injections from tests\n  - .hz is needed to get the non-standard interpolater ""{$"". Otherwise\n    parent modules do not need to be injected by default unless the test\n    directly uses something (like basePath) from that module\n- Move forms.js notBlank directive into static/hz/validation\n- Move angular/horizon.js and horizon.conf.js to /static/horizon/horizon.js and into hz.module.js\n- Moved static/horizon/js/angular/controllers to /static/horizon/legacy-angular\n- Renamed framwork/service to horizon/util\n\nChange-Id: I8b50460cb447b624520d7bb626c734cf9c34beb2\n'}, {'number': 30, 'created': '2015-05-12 17:15:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/cdbd137b278bd41be236ddae2d839dc7e417e45c', 'message': 'Make directory structure match Angular modules\n\nRefactor horizon Angular modules to have a consistent naming\nscheme and a matching directory structure.\n\nBasic theory:\n1) /horizon/static/horizon contains the root ""hz"" module\n   and files specific to bootstraping angular in Horizon\n2) /horizon/static/horizon contains almost everything else that provides\n   components or services that can be used to build horizon UIs\n   (like horizon_dashboard).\n3) Directory structure is based on module hierarchy. Code that lives\n   in the module ""hz.widget.wizard"" is placedin the directory\n   static/horizon/widget/\n4) API code move to openstack_dashboard/static/dashboard/api to better\n   match the location of API support in the Python code\n\nChange Summary:\n- move files from /horizon/static/angular to /horizon/static/horizon/\n  - ""angular"" is a technology. ""horizon"" better reflects the\n    conceptual structure of the code\n- Lists of module dependencies are now sorted alphabetically.\n  - order doesn\'t matter for dependency injection. Alpha sort\n    makes it easier to find missing items\n- Lists of file includes for tests are now sorted alphabetically.\n- changed basePath to be hz.*.basePath\n  - ""basePath"" is too generic, and depends on the module. Fully\n    qualifying the name allows nested modules to refine the basePath\n- SCSS files are now hierarchical like modules\n- change all module and constant names to include package\n  - constants live in a global namespace. When constants have a generic\n    name like ""helpText"" it is easy to accidentally get the wrong version\n    injected, depending on the order that .js files are parsed. Eliminate\n    this source of run-time bugs by explicitly naming constants with the\n    module that contains them (hz.framework.widget.transfer-table.helpText)\n- unit tests added to check that new constant names correctly defined\n- remove unneeded module injections from tests\n  - .hz is needed to get the non-standard interpolater ""{$"". Otherwise\n    parent modules do not need to be injected by default unless the test\n    directly uses something (like basePath) from that module\n- Move forms.js notBlank directive into static/hz/validation\n- Move angular/horizon.js and horizon.conf.js to /static/horizon/horizon.js and into hz.module.js\n- Moved static/horizon/js/angular/controllers to /static/horizon/legacy-angular\n- Renamed framwork/service to horizon/util\n\nChange-Id: I8b50460cb447b624520d7bb626c734cf9c34beb2\n'}, {'number': 31, 'created': '2015-05-12 18:13:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/8d7414ae3000c0a71e07dcdcc029328903aa3208', 'message': 'Make directory structure match Angular modules\n\nRefactor horizon Angular modules to have a consistent naming\nscheme and a matching directory structure.\n\nBasic theory:\n1) /horizon/static/horizon contains the root ""hz"" module\n   and files specific to bootstraping angular in Horizon\n2) /horizon/static/horizon contains almost everything else that provides\n   components or services that can be used to build horizon UIs\n   (like horizon_dashboard).\n3) Directory structure is based on module hierarchy. Code that lives\n   in the module ""hz.widget.wizard"" is placedin the directory\n   static/horizon/widget/\n4) API code move to openstack_dashboard/static/dashboard/api to better\n   match the location of API support in the Python code\n\nChange Summary:\n- move files from /horizon/static/angular to /horizon/static/horizon/\n  - ""angular"" is a technology. ""horizon"" better reflects the\n    conceptual structure of the code\n- Lists of module dependencies are now sorted alphabetically.\n  - order doesn\'t matter for dependency injection. Alpha sort\n    makes it easier to find missing items\n- Lists of file includes for tests are now sorted alphabetically.\n- changed basePath to be hz.*.basePath\n  - ""basePath"" is too generic, and depends on the module. Fully\n    qualifying the name allows nested modules to refine the basePath\n- SCSS files are now hierarchical like modules\n- change all module and constant names to include package\n  - constants live in a global namespace. When constants have a generic\n    name like ""helpText"" it is easy to accidentally get the wrong version\n    injected, depending on the order that .js files are parsed. Eliminate\n    this source of run-time bugs by explicitly naming constants with the\n    module that contains them (hz.framework.widget.transfer-table.helpText)\n- unit tests added to check that new constant names correctly defined\n- remove unneeded module injections from tests\n  - .hz is needed to get the non-standard interpolater ""{$"". Otherwise\n    parent modules do not need to be injected by default unless the test\n    directly uses something (like basePath) from that module\n- Move forms.js notBlank directive into static/hz/validation\n- Move angular/horizon.js and horizon.conf.js to /static/horizon/horizon.js and into hz.module.js\n- Moved static/horizon/js/angular/controllers to /static/horizon/legacy-angular\n- Renamed framwork/service to horizon/util\n\nChange-Id: I8b50460cb447b624520d7bb626c734cf9c34beb2\n'}, {'number': 32, 'created': '2015-05-12 19:29:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/428326be0335c308a4d92a3efa37f013663374f0', 'message': 'Make directory structure match Angular modules\n\nRefactor horizon Angular modules to have a consistent naming\nscheme and a matching directory structure.\n\nBasic theory:\n1) /horizon is the root ""horizon"" module\n2) /horizon/horizon/static/framework contains the reusable Angular components\n   in the ""horizon.framework"" module (no specific business logic). These\n   components are used to build horizon-based UIs (like openstack_dashboard).\n3) /horizon/openstack_dashboard/static/dashboard contains the ""core"" logic\n   for the openstack_dashboard UI in the ""horizon.dashboard"" module.\n4) /horizon/openstack_dashboard/static/hz-app contains the ""bootstrap"" logic\n   for the openstack_dashboard UI, bringing in all required modules for the\n   application (namely ""horizon.framework"" and ""horizon.dashboard"". In the\n   future, this ""application"" module will likely move out of openstack_dashboard\n   and into its own application directory\n5) openstack_dashboard/enabled/_10_project.py brings in all the source (other\n   than framework) needed by the hz-app application.\n6) Directory structure is based on module hierarchy. Code that lives\n   in the module ""horizon.framework.widget.wizard"" is placed in the directory\n   horizon/horizon/static/framework/widget/\n7) API code move to openstack_dashboard/static/dashboard/api to better\n   match the location of API support in the Python code\n\nChange-Id: I8b50460cb447b624520d7bb626c734cf9c34beb2\n'}, {'number': 33, 'created': '2015-05-12 20:46:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/89479b7bcba1e7c7825f41cdb57adf14504ae463', 'message': 'Make directory structure match Angular modules\n\nRefactor horizon Angular modules to have a consistent naming\nscheme and a matching directory structure.\n\nBasic theory:\n1) /horizon is the root ""horizon"" module\n2) /horizon/horizon/static/framework contains the reusable Angular components\n   in the ""horizon.framework"" module (no specific business logic). These\n   components are used to build horizon-based UIs (like openstack_dashboard).\n3) /horizon/openstack_dashboard/static/dashboard contains the ""core"" logic\n   for the openstack_dashboard UI in the ""horizon.dashboard"" module.\n4) /horizon/openstack_dashboard/static/hz-app contains the ""bootstrap"" logic\n   for the openstack_dashboard UI, bringing in all required modules for the\n   application (namely ""horizon.framework"" and ""horizon.dashboard"". In the\n   future, this ""application"" module will likely move out of openstack_dashboard\n   and into its own application directory\n5) openstack_dashboard/enabled/_10_project.py brings in all the source (other\n   than framework) needed by the hz-app application.\n6) Directory structure is based on module hierarchy. Code that lives\n   in the module ""horizon.framework.widget.wizard"" is placed in the directory\n   horizon/horizon/static/framework/widget/\n7) API code moved to openstack_dashboard/static/dashboard/api to better\n   match the location of API support in the Python code\n\nChange-Id: I8b50460cb447b624520d7bb626c734cf9c34beb2\n'}, {'number': 34, 'created': '2015-05-13 01:33:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/9625a0f62b66d87fec515bfaf29f92a9cf45f088', 'message': 'Make directory structure match Angular modules\n\nRefactor horizon Angular modules to have a consistent naming\nscheme and a matching directory structure.\n\nBasic theory:\n1) /horizon is the root ""horizon"" module\n2) /horizon/horizon/static/framework contains the reusable Angular components\n   in the ""horizon.framework"" module (no specific business logic). These\n   components are used to build horizon-based UIs (like openstack_dashboard).\n3) /horizon/horizon/static/hz-app contains the ""bootstrap"" logic\n   for the openstack_dashboard UI, bringing in all required modules for the\n   application (namely ""horizon.framework"" and ""horizon.dashboard"". In the\n   future, this ""application"" module will likely move out of horizon/horizon\n   and into its own application directory\n4) /horizon/openstack_dashboard/static/dashboard contains the ""core"" logic\n   for the openstack_dashboard UI in the ""horizon.dashboard"" module.\n5) openstack_dashboard/local/local_settings.py brings in the modules and source\n   needed by the hz-app application. Individual dashboards bring in additional\n   source as needed.\n6) Directory structure is based on module hierarchy. Code that lives\n   in the module ""horizon.framework.widget.wizard"" is placed in the directory\n   horizon/horizon/static/framework/widget/\n7) API code moved to openstack_dashboard/static/dashboard/api to better\n   match the location of API support in the Python code\n\nChange-Id: I8b50460cb447b624520d7bb626c734cf9c34beb2\n'}, {'number': 35, 'created': '2015-05-13 01:50:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/faeaa2fce26ac27f5c20ce3884cc382bf2171be9', 'message': 'Make directory structure match Angular modules\n\nRefactor horizon Angular modules to have a consistent naming\nscheme and a matching directory structure.\n\nBasic theory:\n1) /horizon is the root ""horizon"" module\n2) /horizon/horizon/static/framework contains the reusable Angular components\n   in the ""horizon.framework"" module (no specific business logic). These\n   components are used to build horizon-based UIs (like openstack_dashboard).\n3) /horizon/horizon/static/hz-app contains the ""bootstrap"" logic\n   for the openstack_dashboard UI, bringing in all required modules for the\n   application (namely ""horizon.framework"" and ""horizon.dashboard"". In the\n   future, this ""application"" module will likely move out of horizon/horizon\n   and into its own application directory\n4) /horizon/openstack_dashboard/static/dashboard contains the ""core"" logic\n   for the openstack_dashboard UI in the ""horizon.dashboard"" module.\n5) openstack_dashboard/local/local_settings.py brings in the modules and source\n   needed by the hz-app application. Individual dashboards bring in additional\n   source as needed.\n6) Directory structure is based on module hierarchy. Code that lives\n   in the module ""horizon.framework.widget.wizard"" is placed in the directory\n   horizon/horizon/static/framework/widget/\n7) API code moved to openstack_dashboard/static/dashboard/api to better\n   match the location of API support in the Python code\n\nChange-Id: I8b50460cb447b624520d7bb626c734cf9c34beb2\n'}, {'number': 36, 'created': '2015-05-13 19:02:13.000000000', 'files': ['openstack_dashboard/static/dashboard/launch-instance/flavor/flavor.js', 'horizon/static/framework/widget/serial-console/serial-console.js', 'horizon/static/framework/widget/table/table.spec.js', 'horizon/static/hz-app/hz-app.js', 'horizon/static/framework/widget/toast/toast.spec.js', 'openstack_dashboard/static/dashboard/workflow/workflow.spec.js', 'horizon/static/framework/widget/magic-search/magic-search.scss', 'horizon/static/framework/widget/login/login.js', 'horizon/static/hz-app/hz-util.spec.js', 'horizon/static/framework/widget/modal/modal.js', 'openstack_dashboard/static/dashboard/api/cinder.js', 'openstack_dashboard/static/dashboard/api/nova.js', 'horizon/static/framework/widget/magic-search/magic-search.html', 'openstack_dashboard/static/dashboard/dashboard.module.spec.js', 'openstack_dashboard/static/dashboard/launch-instance/security-groups/security-groups.spec.js', 'horizon/static/framework/widget/charts/chart-tooltip.js', 'openstack_dashboard/static/dashboard/api/policy.js', 'openstack_dashboard/static/dashboard/api/common.js', 'horizon/static/framework/util/filters/filters.spec.js', 'horizon/static/framework/widget/metadata-display/metadata-display.js', 'horizon/static/hz-app/namespace-controller.js', 'horizon/static/framework/util/validation/validation.spec.js', 'horizon/static/framework/widget/metadata-tree/metadata-tree-item.html', 'run_tests.sh', 'horizon/static/framework/util/bind-scope/bind-scope.js', 'horizon/static/framework/widget/table/table.js', 'openstack_dashboard/static/dashboard/cloud-services/cloud-services.spec.js', 'horizon/static/framework/conf/conf.js', 'horizon/static/framework/widget/modal/modal-wait-spinner.spec.js', 'horizon/static/framework/widget/charts/chart-tooltip.scss', 'horizon/static/framework/widget/charts/chart-tooltip.html', 'horizon/static/framework/widget/table/search-bar.html', 'openstack_dashboard/static/dashboard/launch-instance/keypair/keypair.spec.js', 'horizon/static/framework/widget/help-panel/help-panel.html', 'horizon/static/framework/widget/modal/modal-wait-spinner.js', 'horizon/static/framework/widget/table/table.scss', 'horizon/static/framework/util/workflow/workflow.spec.js', 'horizon/static/framework/widget/help-panel/help-panel.scss', 'horizon/static/framework/widget/action-list/menu.html', 'horizon/static/framework/framework.js', 'horizon/templates/base.html', 'openstack_dashboard/static/dashboard/api/glance.js', 'openstack_dashboard/static/dashboard/launch-instance/network/network.js', 'horizon/static/framework/widget/toast/toast.html', 'openstack_dashboard/static/dashboard/launch-instance/keypair/keypair.js', 'openstack_dashboard/static/dashboard/launch-instance/flavor/select-flavor-table.js', 'horizon/static/framework/widget/toast/toast.js', 'horizon/static/framework/widget/table/basic-table.spec.js', 'horizon/static/framework/widget/wizard/wizard.scss', 'horizon/static/hz-app/dummy.js', 'horizon/static/framework/widget/wizard/wizard.js', 'openstack_dashboard/static/dashboard/launch-instance/source/source.js', 'horizon/static/framework/widget/modal/simple-modal.html', 'horizon/static/horizon/js/angular/horizon.js', 'openstack_dashboard/enabled/_10_project.py', 'horizon/templates/horizon/_scripts.html', 'horizon/static/framework/widget/transfer-table/available.html.example', 'horizon/static/framework/widget/transfer-table/allocated.html.example', 'horizon/static/framework/widget/action-list/action-list.js', 'horizon/static/framework/framework.module.js', 'horizon/static/framework/widget/form/form.js', 'openstack_dashboard/static/dashboard/api/keystone.js', 'horizon/static/framework/widget/transfer-table/transfer-table.scss', 'openstack_dashboard/static/dashboard/api/common.spec.js', 'horizon/static/framework/widget/transfer-table/transfer-table.spec.js', 'horizon/static/framework/widget/wizard/wizard.spec.js', 'horizon/static/framework/widget/action-list/split-button.html', 'horizon/static/framework/widget/modal/modal.spec.js', 'horizon/static/framework/widget/charts/pie-chart.spec.js', 'horizon/static/framework/widget/widget.module.js', 'openstack_dashboard/static/dashboard/api/neutron.js', 'horizon/static/framework/widget/charts/charts.js', 'horizon/static/framework/widget/transfer-table/transfer-table.html', 'openstack_dashboard/static/dashboard/launch-instance/launch-instance.model.js', 'openstack_dashboard/static/dashboard/launch-instance/security-groups/security-groups.js', 'horizon/static/framework/util/workflow/workflow.js', 'horizon/static/framework/widget/modal/modal-wait-spinner.scss', 'horizon/static/horizon/js/horizon.images.js', 'openstack_dashboard/static/dashboard/launch-instance/configuration/load-edit.js', 'horizon/static/framework/widget/action-list/button-tooltip.js', 'horizon/static/framework/widget/metadata-tree/metadata-tree.scss', 'horizon/static/framework/widget/action-list/action.html', 'horizon/static/framework/framework.styles.scss', 'openstack_dashboard/static/dashboard/scss/horizon.scss', 'horizon/static/horizon/tests/jasmine/utils.spec.js', 'horizon/static/framework/util/i18n/i18n.js', 'openstack_dashboard/static/dashboard/cloud-services/cloud-services.js', 'horizon/templates/horizon/_conf.html', 'horizon/static/framework/widget/magic-search/magic-search.js', 'horizon/static/framework/widget/metadata-tree/metadata-tree.spec.js', 'openstack_dashboard/static/dashboard/launch-instance/configuration/configuration.js', 'horizon/static/framework/widget/action-list/single-button.html', 'horizon/static/framework/widget/wizard/wizard.html', 'openstack_dashboard/dashboards/project/instances/templates/instances/serial_console.html', 'openstack_dashboard/static/dashboard/api/config.spec.js', 'openstack_dashboard/static/dashboard/launch-instance/launch-instance.js', 'openstack_dashboard/static/dashboard/api/config.js', 'horizon/static/framework/util/validation/validation.js', 'openstack_dashboard/static/dashboard/launch-instance/configuration/configuration.spec.js', 'horizon/static/framework/util/util.module.js', 'horizon/static/hz-app/modal-form-update-metadata-ctrl.js', 'horizon/static/framework/util/filters/filters.js', 'horizon/static/hz-app/hz-app.module.js', 'horizon/templates/horizon/jasmine/jasmine.html', 'horizon/static/framework/widget/transfer-table/transfer-table.js', 'horizon/static/framework/widget/help-panel/help-panel.spec.js', 'horizon/static/framework/util/bind-scope/bind-scope.spec.js', 'horizon/static/framework/widget/metadata-tree/metadata-tree-service.js', 'openstack_dashboard/static/dashboard/launch-instance/network/network.spec.js', 'horizon/static/framework/util/i18n/i18n.spec.js', 'openstack_dashboard/static/dashboard/api/api.module.js', 'horizon/static/framework/widget/charts/pie-chart.html', 'horizon/static/horizon/js/angular/directives/forms.js', 'horizon/static/framework/widget/charts/pie-chart.scss', 'openstack_dashboard/static/dashboard/api/security-group.js', 'openstack_dashboard/static/dashboard/launch-instance/source/source.spec.js', 'horizon/static/framework/widget/form/form.spec.js', 'horizon/static/framework/widget/login/login.spec.js', 'horizon/static/framework/widget/action-list/action-list.scss', 'horizon/static/framework/widget/action-list/menu-item.html', 'horizon/static/framework/widget/metadata-tree/metadata-tree.js', 'horizon/static/framework/widget/metadata-display/metadata-display.html', 'horizon/static/angular/widget.module.js', 'horizon/static/framework/widget/table/basic-table.js', 'horizon/static/hz-app/hz-util.js', 'horizon/test/jasmine/jasmine_tests.py', 'horizon/static/framework/widget/metadata-display/metadata-display.scss', 'openstack_dashboard/static/dashboard/workflow/workflow.js', 'horizon/static/framework/widget/metadata-tree/metadata-tree.html', 'openstack_dashboard/static/dashboard/dashboard.module.js', 'horizon/static/framework/widget/action-list/warning-tooltip.html', 'openstack_dashboard/templates/jasmine/jasmine.html', 'horizon/static/framework/widget/help-panel/help-panel.js', 'horizon/static/angular/validators/validators.spec.js', 'horizon/static/framework/widget/charts/pie-chart.js', 'horizon/static/framework/widget/action-list/action-list.spec.js', 'horizon/static/framework/widget/metadata-display/metadata-display.spec.js', 'horizon/static/framework/widget/widget.styles.scss'], 'web_link': 'https://opendev.org/openstack/horizon/commit/d4ad73b53ae99baa1d556a8992394a9d978cc21b', 'message': 'Make directory structure match Angular modules\n\nRefactor horizon Angular modules to have a consistent naming\nscheme and a matching directory structure.\n\nBasic theory:\n1) /horizon is the root ""horizon"" module\n2) /horizon/horizon/static/framework contains the reusable Angular components\n   in the ""horizon.framework"" module (no specific business logic). These\n   components are used to build horizon-based UIs (like openstack_dashboard).\n3) /horizon/horizon/static/hz-app contains the ""bootstrap"" logic\n   for the openstack_dashboard UI, bringing in all required modules for the\n   application (namely ""horizon.framework"". In the future, this ""application""\n   module will likely move out of horizon and into its own application directory\n3) /horizon/openstack_dashboard/static/dashboard contains the ""core"" logic\n   for the openstack_dashboard UI in the ""horizon.dashboard"" module.\n5) openstack_dashboard/enabled/_10_project.py brings in all the source\n   needed by that specific project dashboard. Source that is used by multiple\n   dashboards is currently included using horizon/_scripts.html.\n6) Directory structure is based on module hierarchy. Code that lives\n   in the module ""horizon.framework.widget.wizard"" is placed in the directory\n   horizon/horizon/static/framework/widget/\n7) API code move to openstack_dashboard/static/dashboard/api to better\n   match the location of API support in the Python code\n\nChange-Id: I8b50460cb447b624520d7bb626c734cf9c34beb2\n'}]",82,176152,d4ad73b53ae99baa1d556a8992394a9d978cc21b,126,10,36,14307,,,0,"Make directory structure match Angular modules

Refactor horizon Angular modules to have a consistent naming
scheme and a matching directory structure.

Basic theory:
1) /horizon is the root ""horizon"" module
2) /horizon/horizon/static/framework contains the reusable Angular components
   in the ""horizon.framework"" module (no specific business logic). These
   components are used to build horizon-based UIs (like openstack_dashboard).
3) /horizon/horizon/static/hz-app contains the ""bootstrap"" logic
   for the openstack_dashboard UI, bringing in all required modules for the
   application (namely ""horizon.framework"". In the future, this ""application""
   module will likely move out of horizon and into its own application directory
3) /horizon/openstack_dashboard/static/dashboard contains the ""core"" logic
   for the openstack_dashboard UI in the ""horizon.dashboard"" module.
5) openstack_dashboard/enabled/_10_project.py brings in all the source
   needed by that specific project dashboard. Source that is used by multiple
   dashboards is currently included using horizon/_scripts.html.
6) Directory structure is based on module hierarchy. Code that lives
   in the module ""horizon.framework.widget.wizard"" is placed in the directory
   horizon/horizon/static/framework/widget/
7) API code move to openstack_dashboard/static/dashboard/api to better
   match the location of API support in the Python code

Change-Id: I8b50460cb447b624520d7bb626c734cf9c34beb2
",git fetch https://review.opendev.org/openstack/horizon refs/changes/52/176152/10 && git format-patch -1 --stdout FETCH_HEAD,"['horizon/static/framework/widget/action-list/split-button.html', 'horizon/static/framework/widget/modal/modal.spec.js', 'horizon/static/framework/widget/charts/pie-chart.spec.js', 'horizon/static/framework/widget/widget.module.js', 'horizon/static/framework/widget/charts/charts.js', 'horizon/static/framework/widget/table/table.spec.js', 'horizon/static/framework/widget/toast/toast.spec.js', 'horizon/static/framework/widget/transfer-table/transfer-table.html', 'horizon/static/framework/widget/modal/modal-wait-spinner.scss', 'horizon/static/framework/login/login.spec.js', 'horizon/static/framework/widget/action-list/button-tooltip.js', 'horizon/static/framework/login/login.js', 'horizon/static/framework/widget/metadata-tree/metadata-tree.scss', 'horizon/static/framework/widget/action-list/action.html', 'horizon/static/framework/framework.styles.scss', 'horizon/static/framework/widget/modal/modal.js', 'openstack_dashboard/static/dashboard/scss/horizon.scss', 'horizon/static/framework/magic-search/magic-search.js', 'horizon/static/framework/widget/charts/chart-tooltip.js', 'horizon/static/framework/widget/metadata-tree/metadata-tree.spec.js', 'horizon/static/framework/widget/action-list/single-button.html', 'horizon/static/framework/widget/metadata-display/metadata-display.js', 'horizon/static/framework/widget/wizard/wizard.html', 'horizon/static/framework/widget/metadata-tree/metadata-tree-item.html', 'run_tests.sh', 'horizon/static/framework/service/validators/validators.js', 'horizon/static/framework/widget/table/table.js', 'horizon/static/framework/widget/modal/modal-wait-spinner.spec.js', 'horizon/static/framework/widget/charts/chart-tooltip.scss', 'horizon/static/framework/service/workflow/workflow.js', 'horizon/static/framework/widget/charts/chart-tooltip.html', 'horizon/static/framework/widget/transfer-table/transfer-table.js', 'horizon/static/framework/widget/help-panel/help-panel.spec.js', 'horizon/static/framework/widget/table/search-bar.html', 'horizon/static/framework/widget/help-panel/help-panel.html', 'horizon/static/framework/widget/metadata-tree/metadata-tree-service.js', 'horizon/static/framework/widget/modal/modal-wait-spinner.js', 'horizon/static/framework/widget/table/table.scss', 'horizon/static/framework/widget/help-panel/help-panel.scss', 'horizon/static/framework/widget/action-list/menu.html', 'horizon/static/framework/widget/charts/pie-chart.html', 'horizon/static/framework/widget/toast/toast.html', 'horizon/static/framework/service/bind-scope/bind-scope.js', 'horizon/static/framework/widget/charts/pie-chart.scss', 'horizon/static/framework/widget/toast/toast.js', 'horizon/static/framework/widget/table/basic-table.spec.js', 'horizon/static/framework/service/validators/validators.spec.js', 'horizon/static/framework/widget/wizard/wizard.scss', 'horizon/static/framework/magic-search/magic-search.html', 'horizon/static/framework/widget/wizard/wizard.js', 'horizon/static/framework/magic-search/magic-search.scss', 'horizon/static/framework/service/workflow/workflow.spec.js', 'horizon/static/framework/widget/form/form.spec.js', 'horizon/static/framework/widget/modal/simple-modal.html', 'horizon/static/framework/widget/action-list/action-list.scss', 'horizon/static/framework/widget/action-list/menu-item.html', 'horizon/static/framework/widget/metadata-tree/metadata-tree.js', 'horizon/static/framework/widget/metadata-display/metadata-display.html', 'horizon/static/angular/widget.module.js', 'horizon/static/horizon/js/angular/horizon.js', 'horizon/static/framework/service/service.module.js', 'horizon/static/framework/widget/table/basic-table.js', 'horizon/templates/horizon/_scripts.html', 'horizon/test/jasmine/jasmine_tests.py', 'horizon/static/framework/widget/metadata-display/metadata-display.scss', 'horizon/static/framework/widget/transfer-table/available.html.example', 'horizon/static/framework/widget/transfer-table/allocated.html.example', 'horizon/static/framework/widget/metadata-tree/metadata-tree.html', 'horizon/static/framework/widget/action-list/action-list.js', 'horizon/static/framework/framework.module.js', 'horizon/static/framework/widget/action-list/warning-tooltip.html', 'horizon/static/framework/widget/form/form.js', 'horizon/static/framework/service/bind-scope/bind-scope.spec.js', 'horizon/static/framework/widget/help-panel/help-panel.js', 'horizon/static/framework/widget/charts/pie-chart.js', 'horizon/static/framework/widget/transfer-table/transfer-table.scss', 'horizon/static/framework/widget/action-list/action-list.spec.js', 'horizon/static/framework/widget/metadata-display/metadata-display.spec.js', 'horizon/static/framework/widget/transfer-table/transfer-table.spec.js', 'horizon/static/framework/widget/widget.styles.scss', 'horizon/static/framework/widget/wizard/wizard.spec.js']",81,2e9eee01125b6f486911c84edca2ff2bd6b4d3ac,reorg32,"describe('hz.framework.widget.wizard module', function () { it('should have been defined', function () { expect(angular.module('hz.framework.widget.wizard')).toBeDefined(); beforeEach(module('hz.framework.widget')); beforeEach(module('hz.framework.widget.wizard'));","describe('hz.widget.wizard module', function () { it('should have been defined', function () { expect(angular.module('hz.widget.wizard')).toBeDefined(); beforeEach(module('hz.widgets')); beforeEach(module('hz.widget.wizard'));",327,306
openstack%2Fnova~master~I47f556b98a153cc8f265a240125d0b617739fe71,openstack/nova,master,I47f556b98a153cc8f265a240125d0b617739fe71,Updated from global requirements,MERGED,2015-05-11 14:28:44.000000000,2015-05-13 23:32:31.000000000,2015-05-12 16:54:58.000000000,"[{'_account_id': 3}, {'_account_id': 679}, {'_account_id': 5170}, {'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 15286}, {'_account_id': 15751}]","[{'number': 1, 'created': '2015-05-11 14:28:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/384621fa6a93c863d24b1e95feda1e88fab558bc', 'message': 'Updated from global requirements\n\nChange-Id: I47f556b98a153cc8f265a240125d0b617739fe71\n'}, {'number': 2, 'created': '2015-05-12 14:34:40.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/nova/commit/d1ac9eb1408edf149253930015c07b89b3109087', 'message': 'Updated from global requirements\n\nChange-Id: I47f556b98a153cc8f265a240125d0b617739fe71\n'}]",0,181913,d1ac9eb1408edf149253930015c07b89b3109087,21,8,2,11131,,,0,"Updated from global requirements

Change-Id: I47f556b98a153cc8f265a240125d0b617739fe71
",git fetch https://review.opendev.org/openstack/nova refs/changes/13/181913/2 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,384621fa6a93c863d24b1e95feda1e88fab558bc,openstack/requirements,python-glanceclient>=0.17.1,python-glanceclient>=0.15.0,1,1
openstack%2Fmagnum~master~Iafd87a3aa1ecb1f6c27e36f7b7d40f4c6e168287,openstack/magnum,master,Iafd87a3aa1ecb1f6c27e36f7b7d40f4c6e168287,Updated from global requirements,MERGED,2015-05-13 20:54:12.000000000,2015-05-13 23:24:20.000000000,2015-05-13 23:24:19.000000000,"[{'_account_id': 3}, {'_account_id': 668}, {'_account_id': 7494}]","[{'number': 1, 'created': '2015-05-13 20:54:12.000000000', 'files': ['requirements.txt', 'test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/magnum/commit/a5d31977d54b1992d4f3b093eba92c4a2b41573b', 'message': 'Updated from global requirements\n\nChange-Id: Iafd87a3aa1ecb1f6c27e36f7b7d40f4c6e168287\n'}]",0,182836,a5d31977d54b1992d4f3b093eba92c4a2b41573b,7,3,1,11131,,,0,"Updated from global requirements

Change-Id: Iafd87a3aa1ecb1f6c27e36f7b7d40f4c6e168287
",git fetch https://review.opendev.org/openstack/magnum refs/changes/36/182836/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'test-requirements.txt']",2,a5d31977d54b1992d4f3b093eba92c4a2b41573b,openstack/requirements,oslosphinx>=2.5.0 # Apache-2.0 oslotest>=1.5.1 # Apache-2.0,"oslosphinx>=2.5.0,<2.6.0 # Apache-2.0 oslotest>=1.5.1,<1.6.0 # Apache-2.0",16,16
openstack%2Fapi-site~master~Ia3cacb7d7d8e1e1425b8f75270cd6d4ee5d0ef0d,openstack/api-site,master,Ia3cacb7d7d8e1e1425b8f75270cd6d4ee5d0ef0d,Add documentation for Glance Metadata Definitions Catalog - Tags,MERGED,2015-05-11 19:40:41.000000000,2015-05-13 23:21:22.000000000,2015-05-13 23:21:20.000000000,"[{'_account_id': 3}, {'_account_id': 612}, {'_account_id': 964}, {'_account_id': 2448}, {'_account_id': 7665}, {'_account_id': 10383}]","[{'number': 1, 'created': '2015-05-11 19:40:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/api-site/commit/67c30c8acc12a3da8a138448bd75ea5f7e1e0eea', 'message': 'Add documentation for Glance Metadata Definitions Catalog - Tags\n\nChange-Id: Ia3cacb7d7d8e1e1425b8f75270cd6d4ee5d0ef0d\nImplements: blueprint metadefs-tags-cli\n'}, {'number': 2, 'created': '2015-05-11 22:55:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/api-site/commit/e9a77e10f71d12793e898bc67cf91bcdbbfb292c', 'message': 'Add documentation for Glance Metadata Definitions Catalog - Tags\n\nChange-Id: Ia3cacb7d7d8e1e1425b8f75270cd6d4ee5d0ef0d\nImplements: blueprint metadefs-tags-cli\n'}, {'number': 3, 'created': '2015-05-11 23:53:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/api-site/commit/35631f7e130df8bf1313a21685272f5705d7e21b', 'message': 'Add documentation for Glance Metadata Definitions Catalog - Tags\n\nChange-Id: Ia3cacb7d7d8e1e1425b8f75270cd6d4ee5d0ef0d\nImplements: blueprint metadefs-tags-cli\n'}, {'number': 4, 'created': '2015-05-12 23:43:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/api-site/commit/2b84dba4687cc35ba5bbda0a59703a488ca4b514', 'message': 'Add documentation for Glance Metadata Definitions Catalog - Tags\n\nChange-Id: Ia3cacb7d7d8e1e1425b8f75270cd6d4ee5d0ef0d\nImplements: blueprint metadefs-tags-cli\n'}, {'number': 5, 'created': '2015-05-13 17:06:56.000000000', 'files': ['api-ref/src/wadls/image-api/src/v2/os-metadef-tag-v2.wadl', 'api-ref/src/wadls/image-api/src/v2/samples/schema-metadef-tags-get-response.json', 'api-ref/src/wadls/image-api/src/v2/samples/metadef-tag-create-response.json', 'api-ref/src/wadls/image-api/src/v2/samples/schema-metadef-tag-get-response.json', 'api-ref/src/wadls/image-api/src/v2/samples/metadef-tag-update-response.json', 'api-ref/src/wadls/image-api/src/v2/samples/metadef-tag-add-response.json', 'api-ref/src/wadls/image-api/src/v2/samples/metadef-tag-create-req.json', 'api-ref/src/wadls/image-api/src/v2/samples/metadef-tag-update-req.json', 'api-ref/src/wadls/image-api/src/v2/samples/metadef-tag-details-response.json', 'api-ref/src/wadls/image-api/src/v2/os-metadef-schemas-v2.wadl', 'api-ref/src/wadls/image-api/src/v2/samples/metadef-tag-list-response.json', 'api-ref/src/docbkx/ch_images-v2.xml', 'api-ref/src/wadls/image-api/src/v2/common.ent'], 'web_link': 'https://opendev.org/openstack/api-site/commit/d649d131cdb373253214d910384780c326de03d5', 'message': 'Add documentation for Glance Metadata Definitions Catalog - Tags\n\nChange-Id: Ia3cacb7d7d8e1e1425b8f75270cd6d4ee5d0ef0d\nImplements: blueprint metadefs-tags-cli\n'}]",44,182037,d649d131cdb373253214d910384780c326de03d5,23,6,5,10383,,,0,"Add documentation for Glance Metadata Definitions Catalog - Tags

Change-Id: Ia3cacb7d7d8e1e1425b8f75270cd6d4ee5d0ef0d
Implements: blueprint metadefs-tags-cli
",git fetch https://review.opendev.org/openstack/api-site refs/changes/37/182037/5 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/src/wadls/image-api/src/v2/os-metadef-tag-v2.wadl', 'api-ref/src/wadls/image-api/src/v2/samples/schema-metadef-tags-get-response.json', 'api-ref/src/wadls/image-api/src/v2/samples/metadef-tag-create-response.json', 'api-ref/src/wadls/image-api/src/v2/samples/schema-metadef-tag-get-response.json', 'api-ref/src/wadls/image-api/src/v2/samples/metadef-tag-update-response.json', 'api-ref/src/wadls/image-api/src/v2/samples/metadef-tag-add-response.json', 'api-ref/src/wadls/image-api/src/v2/samples/metadef-tag-create-req.json', 'api-ref/src/wadls/image-api/src/v2/samples/metadef-tag-update-req.json', 'api-ref/src/wadls/image-api/src/v2/samples/metadef-tag-details-response.json', 'api-ref/src/wadls/image-api/src/v2/os-metadef-schemas-v2.wadl', 'api-ref/src/wadls/image-api/src/v2/samples/metadef-tag-list-response.json', 'api-ref/src/docbkx/ch_images-v2.xml', 'api-ref/src/wadls/image-api/src/v2/common.ent']",13,67c30c8acc12a3da8a138448bd75ea5f7e1e0eea,bp/metadefs-tags-cli,"</param>'> <!ENTITY metadefTagsParameter ' <param xmlns=""http://wadl.dev.java.net/2009/02"" name=""tags"" style=""plain"" required=""true"" type=""xsd:string""> <wadl:doc xmlns=""http://docbook.org/ns/docbook"" xmlns:wadl=""http://wadl.dev.java.net/2009/02"" xml:lang=""EN""> <para>A list of <code>tag</code> dictionary objects.</para> </wadl:doc> </param>'> <!ENTITY metadefTagNameParameter ' <param xmlns=""http://wadl.dev.java.net/2009/02"" name=""name"" style=""plain"" required=""true"" type=""xsd:string""> <wadl:doc xmlns=""http://docbook.org/ns/docbook"" xmlns:wadl=""http://wadl.dev.java.net/2009/02"" xml:lang=""EN""> <para>Name of the <code>tag</code>.</para> </wadl:doc> </param>'> <!ENTITY metadefTagListSortParameters ' <param xmlns=""http://wadl.dev.java.net/2009/02"" name=""sort_key"" style=""query"" required=""false"" type=""xsd:string"" default=""ALL""> <wadl:doc xmlns=""http://docbook.org/ns/docbook"" xmlns:wadl=""http://wadl.dev.java.net/2009/02"" xml:lang=""EN""> <para>Sort key. Use attributes like <code>name</code> for sorting. Default is <code>created_at</code>. </para> </wadl:doc> </param> <param xmlns=""http://wadl.dev.java.net/2009/02"" name=""sort_dir"" style=""query"" required=""false"" type=""xsd:string"" default=""ALL""> <wadl:doc xmlns=""http://docbook.org/ns/docbook"" xmlns:wadl=""http://wadl.dev.java.net/2009/02"" xml:lang=""EN""> <para>Sort direction. Valid values are <code>asc</code> (ascending) and <code>desc</code> (descending). Default is <code>desc</code>. </para> </wadl:doc>",,438,0
openstack%2Fcinder~master~Icec6775ca54b47bd0aa7796d5656a0f42a599f51,openstack/cinder,master,Icec6775ca54b47bd0aa7796d5656a0f42a599f51,Fix missing translations for log messages,MERGED,2015-03-16 13:27:40.000000000,2015-05-13 23:17:35.000000000,2015-05-08 18:35:12.000000000,"[{'_account_id': 3}, {'_account_id': 1207}, {'_account_id': 1736}, {'_account_id': 2243}, {'_account_id': 2759}, {'_account_id': 5997}, {'_account_id': 7111}, {'_account_id': 7198}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 9382}, {'_account_id': 9466}, {'_account_id': 9535}, {'_account_id': 9751}, {'_account_id': 10263}, {'_account_id': 10327}, {'_account_id': 10485}, {'_account_id': 10621}, {'_account_id': 10622}, {'_account_id': 11343}, {'_account_id': 11600}, {'_account_id': 11611}, {'_account_id': 11751}, {'_account_id': 11811}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12202}, {'_account_id': 12249}, {'_account_id': 12369}, {'_account_id': 12491}, {'_account_id': 12492}, {'_account_id': 12493}, {'_account_id': 12540}, {'_account_id': 12778}, {'_account_id': 12780}, {'_account_id': 13144}, {'_account_id': 13203}, {'_account_id': 13394}, {'_account_id': 13628}, {'_account_id': 13900}, {'_account_id': 14206}, {'_account_id': 14242}, {'_account_id': 14259}, {'_account_id': 14271}, {'_account_id': 14305}, {'_account_id': 14384}, {'_account_id': 14587}, {'_account_id': 14797}, {'_account_id': 14969}, {'_account_id': 15249}, {'_account_id': 15374}, {'_account_id': 15556}, {'_account_id': 15764}, {'_account_id': 15882}]","[{'number': 1, 'created': '2015-03-16 13:27:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/2ade26334c1e1aedcb0d7ae97062c27e70a98635', 'message': 'Fix missing translations for log messages\n\nFixed log translations in sqlalchemy module for error, info and\nwarning messages according to the standards.\n\nhttp://docs.openstack.org/developer/oslo.i18n/guidelines.html\n\nPartial-Bug: 1431256\nChange-Id: Icec6775ca54b47bd0aa7796d5656a0f42a599f51\n'}, {'number': 2, 'created': '2015-03-18 12:26:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/17a64ea26967e4a3f6e95f143bcaaf24e0e91689', 'message': 'Fix missing translations for log messages\n\nFixed log translations in sqlalchemy module for error, info and warning\nmessages with appropriate marker function according to the marker\nfunction standards [1].\n\nAs LOG.warn has deprecated [2] so I have changed LOG.warn to\nLOG.warning.\n\n[1] http://docs.openstack.org/developer/oslo.i18n/guidelines.html#choosing-a-marker-function\n[2] http://bugs.python.org/issue13235\n\nPartial-Bug: 1431256\nChange-Id: Icec6775ca54b47bd0aa7796d5656a0f42a599f51\n'}, {'number': 3, 'created': '2015-03-22 20:15:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c9e90f0f0708f6ad55e6071b99d2110f16e6dbcd', 'message': 'Fix missing translations for log messages\n\nFixed log translations in sqlalchemy module for error, info and warning\nmessages with appropriate marker function according to the logging\nstandards [1].\n\nAs LOG.warn has deprecated [2] so I have changed LOG.warn to\nLOG.warning.\n\n[1] http://docs.openstack.org/developer/oslo.i18n/guidelines.html\n[2] http://bugs.python.org/issue13235\n\nPartial-Bug: 1431256\nChange-Id: Icec6775ca54b47bd0aa7796d5656a0f42a599f51\n'}, {'number': 4, 'created': '2015-04-03 09:31:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/e9d074db7e3e06c3fc75671a98eeb670436cc55f', 'message': 'Fix missing translations for log messages\n\nFixed log translations in sqlalchemy module for error, info and warning\nmessages with appropriate marker function according to the logging\nstandards [1].\n\nAs LOG.warn has deprecated [2] so I have changed LOG.warn to\nLOG.warning.\n\n[1] http://docs.openstack.org/developer/oslo.i18n/guidelines.html\n[2] http://bugs.python.org/issue13235\n\nPartial-Bug: 1431256\nChange-Id: Icec6775ca54b47bd0aa7796d5656a0f42a599f51\n'}, {'number': 5, 'created': '2015-04-08 09:20:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/4cab6f9066b71a119a27d75ea5bcbf0b2e7697b5', 'message': 'Fix missing translations for log messages\n\nFixed log translations in sqlalchemy module for error, info and warning\nmessages with appropriate marker function according to the logging\nstandards [1].\n\nAs LOG.warn has deprecated [2] so I have changed LOG.warn to\nLOG.warning.\n\n[1] http://docs.openstack.org/developer/oslo.i18n/guidelines.html\n[2] http://bugs.python.org/issue13235\n\nPartial-Bug: 1431256\nChange-Id: Icec6775ca54b47bd0aa7796d5656a0f42a599f51\n'}, {'number': 6, 'created': '2015-04-08 13:09:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c49899220e9a32230ec36a568fc9465f43f9fb0e', 'message': 'Fix missing translations for log messages\n\nFixed log translations in sqlalchemy module for error, info and warning\nmessages with appropriate marker function according to the logging\nstandards [1].\n\nAs LOG.warn has deprecated [2] so I have changed LOG.warn to\nLOG.warning.\n\n[1] http://docs.openstack.org/developer/oslo.i18n/guidelines.html\n[2] http://bugs.python.org/issue13235\n\nPartial-Bug: 1431256\nChange-Id: Icec6775ca54b47bd0aa7796d5656a0f42a599f51\n'}, {'number': 7, 'created': '2015-05-07 11:25:21.000000000', 'files': ['cinder/db/sqlalchemy/migrate_repo/versions/023_add_expire_reservations_index.py', 'cinder/db/sqlalchemy/migrate_repo/versions/017_add_encryption_information.py', 'cinder/db/sqlalchemy/migrate_repo/versions/026_add_consistencygroup_quota_class.py', 'cinder/hacking/checks.py', 'cinder/db/sqlalchemy/api.py', 'cinder/db/sqlalchemy/migrate_repo/versions/002_quota_class.py', 'cinder/db/sqlalchemy/migrate_repo/versions/010_add_transfers_table.py', 'cinder/db/sqlalchemy/migrate_repo/versions/001_cinder_init.py', 'cinder/db/sqlalchemy/migrate_repo/versions/018_add_qos_specs.py', 'cinder/db/sqlalchemy/migrate_repo/versions/003_glance_metadata.py', 'cinder/db/sqlalchemy/migrate_repo/versions/004_volume_type_to_uuid.py', 'cinder/db/sqlalchemy/migrate_repo/versions/020_add_volume_admin_metadata_table.py', 'cinder/db/sqlalchemy/migrate_repo/versions/032_add_volume_type_projects.py', 'cinder/db/sqlalchemy/migrate_repo/versions/009_add_snapshot_metadata_table.py', 'cinder/db/sqlalchemy/migrate_repo/versions/016_drop_sm_tables.py', 'cinder/db/sqlalchemy/migrate_repo/versions/025_add_consistencygroup.py', 'cinder/db/sqlalchemy/migrate_repo/versions/008_add_backup.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/1adb8f575ec41edcade5ad10aad2c98ecd7bcc20', 'message': 'Fix missing translations for log messages\n\nFixed log translations in sqlalchemy module for error, info and warning\nmessages with appropriate marker function according to the logging\nstandards [1].\n\nAs LOG.warn has deprecated [2] so I have changed LOG.warn to\nLOG.warning.\n\n[1] http://docs.openstack.org/developer/oslo.i18n/guidelines.html\n[2] http://bugs.python.org/issue13235\n\nPartial-Bug: 1431256\nChange-Id: Icec6775ca54b47bd0aa7796d5656a0f42a599f51\n'}]",8,164692,1adb8f575ec41edcade5ad10aad2c98ecd7bcc20,244,57,7,10485,,,0,"Fix missing translations for log messages

Fixed log translations in sqlalchemy module for error, info and warning
messages with appropriate marker function according to the logging
standards [1].

As LOG.warn has deprecated [2] so I have changed LOG.warn to
LOG.warning.

[1] http://docs.openstack.org/developer/oslo.i18n/guidelines.html
[2] http://bugs.python.org/issue13235

Partial-Bug: 1431256
Change-Id: Icec6775ca54b47bd0aa7796d5656a0f42a599f51
",git fetch https://review.opendev.org/openstack/cinder refs/changes/92/164692/4 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/db/sqlalchemy/migrate_repo/versions/023_add_expire_reservations_index.py', 'cinder/db/sqlalchemy/migrate_repo/versions/017_add_encryption_information.py', 'cinder/db/sqlalchemy/migrate_repo/versions/026_add_consistencygroup_quota_class.py', 'cinder/db/sqlalchemy/api.py', 'cinder/db/sqlalchemy/migrate_repo/versions/010_add_transfers_table.py', 'cinder/db/sqlalchemy/migrate_repo/versions/001_cinder_init.py', 'cinder/db/sqlalchemy/migrate_repo/versions/018_add_qos_specs.py', 'cinder/db/sqlalchemy/migrate_repo/versions/003_glance_metadata.py', 'cinder/db/sqlalchemy/migrate_repo/versions/004_volume_type_to_uuid.py', 'cinder/db/sqlalchemy/migrate_repo/versions/020_add_volume_admin_metadata_table.py', 'cinder/db/sqlalchemy/migrate_repo/versions/032_add_volume_type_projects.py', 'cinder/db/sqlalchemy/migrate_repo/versions/009_add_snapshot_metadata_table.py', 'cinder/db/sqlalchemy/migrate_repo/versions/016_drop_sm_tables.py', 'cinder/db/sqlalchemy/migrate_repo/versions/025_add_consistencygroup.py', 'cinder/db/sqlalchemy/migrate_repo/versions/008_add_backup.py']",15,2ade26334c1e1aedcb0d7ae97062c27e70a98635,bug/1431256,"from cinder.i18n import _LE LOG.error(_LE(""Table |%s| not created!""), repr(backups)) LOG.error(_LE(""backups table not dropped""))","from cinder.i18n import _ LOG.error(_(""Table |%s| not created!""), repr(backups)) LOG.error(_(""backups table not dropped""))",77,74
openstack%2Fpycadf~stable%2Ficehouse~Ie7fa5555d475b37ad7783ac40f91c6196668c3d5,openstack/pycadf,stable/icehouse,Ie7fa5555d475b37ad7783ac40f91c6196668c3d5,Update .gitreview for stable/icehouse,MERGED,2015-05-13 20:05:07.000000000,2015-05-13 21:57:13.000000000,2015-05-13 21:57:12.000000000,"[{'_account_id': 3}, {'_account_id': 6537}]","[{'number': 1, 'created': '2015-05-13 20:05:07.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/pycadf/commit/b494bb0e89abfa61ae8de3e694a9e8b1073ad68b', 'message': 'Update .gitreview for stable/icehouse\n\nChange-Id: Ie7fa5555d475b37ad7783ac40f91c6196668c3d5\n'}]",0,182816,b494bb0e89abfa61ae8de3e694a9e8b1073ad68b,6,2,1,2472,,,0,"Update .gitreview for stable/icehouse

Change-Id: Ie7fa5555d475b37ad7783ac40f91c6196668c3d5
",git fetch https://review.opendev.org/openstack/pycadf refs/changes/16/182816/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,b494bb0e89abfa61ae8de3e694a9e8b1073ad68b,,defaultbranch=stable/icehouse,,1,0
openstack%2Foslo.versionedobjects~master~I4c52d44c7ba49f98b1bbd123209fce7b70ade98d,openstack/oslo.versionedobjects,master,I4c52d44c7ba49f98b1bbd123209fce7b70ade98d,Enhance dict compat of VersionedObjectDictCompat,MERGED,2015-05-13 14:33:47.000000000,2015-05-13 21:55:07.000000000,2015-05-13 21:55:07.000000000,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 4393}, {'_account_id': 9107}]","[{'number': 1, 'created': '2015-05-13 14:33:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.versionedobjects/commit/e5557dc4883f39d60dd66adcc74d29f40d53a156', 'message': ""Enhance dict compat of VersionedObjectDictCompat\n\nAdd more dictionary methods to VersionedObjectDictCompat:\n\n* __iter__()\n* __len__()\n* keys(), iterkeys()\n* values(), itervalues()\n\nThanks to new methods, dict constructor now accepts\nVersionedObjectDictCompat: it's possible to write directly dict(obj)\ninstead of having to write dict(obj.iteritems()).\n\nOn Python 3, items() now returns an iterator instead of a list, to\nrespect Python 3 dictionary API, as the new keys() and values() methods.\n\nKeep iterkeys(), itervalues() and iteritems() on Python 3, even if\nPython 3 dictionaries don't have these methods, just to ease the\ntransition from Python 2 to Python 3 in Nova.\n\nChange-Id: I4c52d44c7ba49f98b1bbd123209fce7b70ade98d\n""}, {'number': 2, 'created': '2015-05-13 20:23:42.000000000', 'files': ['oslo_versionedobjects/base.py', 'oslo_versionedobjects/tests/test_objects.py'], 'web_link': 'https://opendev.org/openstack/oslo.versionedobjects/commit/3ae09aebff156c165e346304476804aa1f3b4172', 'message': ""Enhance dict compat of VersionedObjectDictCompat\n\nAdd more dictionary methods to VersionedObjectDictCompat:\n\n * __iter__()\n * keys(), iterkeys()\n * values(), itervalues()\n\nThanks to new methods, dict constructor now accepts\nVersionedObjectDictCompat: it's possible to write directly dict(obj)\ninstead of having to write dict(obj.iteritems()).\n\nOn Python 3, items() now returns an iterator instead of a list, to\nrespect Python 3 dictionary API, as the new keys() and values() methods.\n\nKeep iterkeys(), itervalues() and iteritems() on Python 3, even if\nPython 3 dictionaries don't have these methods, just to ease the\ntransition from Python 2 to Python 3 in Nova.\n\nChange-Id: I4c52d44c7ba49f98b1bbd123209fce7b70ade98d\n""}]",7,182699,3ae09aebff156c165e346304476804aa1f3b4172,13,4,2,9107,,,0,"Enhance dict compat of VersionedObjectDictCompat

Add more dictionary methods to VersionedObjectDictCompat:

 * __iter__()
 * keys(), iterkeys()
 * values(), itervalues()

Thanks to new methods, dict constructor now accepts
VersionedObjectDictCompat: it's possible to write directly dict(obj)
instead of having to write dict(obj.iteritems()).

On Python 3, items() now returns an iterator instead of a list, to
respect Python 3 dictionary API, as the new keys() and values() methods.

Keep iterkeys(), itervalues() and iteritems() on Python 3, even if
Python 3 dictionaries don't have these methods, just to ease the
transition from Python 2 to Python 3 in Nova.

Change-Id: I4c52d44c7ba49f98b1bbd123209fce7b70ade98d
",git fetch https://review.opendev.org/openstack/oslo.versionedobjects refs/changes/99/182699/1 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_versionedobjects/base.py', 'oslo_versionedobjects/tests/test_objects.py']",2,e5557dc4883f39d60dd66adcc74d29f40d53a156,dict_compat," obj = MyObj(foo=123, bar=u'text') self.assertIn('bar', obj) self.assertNotIn('missing', obj) self.assertEqual(sorted(iter(obj)), ['bar', 'foo']) self.assertEqual(sorted(obj.keys()), ['bar', 'foo']) self.assertEqual(sorted(obj.iterkeys()), ['bar', 'foo']) self.assertEqual(sorted(obj.values(), key=str), [123, u'text']) self.assertEqual(sorted(obj.itervalues(), key=str), [123, u'text']) self.assertEqual(sorted(obj.items()), [('bar', u'text'), ('foo', 123)]) self.assertEqual(sorted(list(obj.iteritems())), [('bar', u'text'), ('foo', 123)]) self.assertEqual(len(obj), 2) self.assertEqual(dict(obj), {'foo': 123, 'bar': u'text'})"," obj = MyObj(foo=123, bar='bar') self.assertEqual(sorted(obj.items(), key=lambda x: x[0]), [('bar', 'bar'), ('foo', 123)]) self.assertEqual(sorted(list(obj.iteritems()), key=lambda x: x[0]), [('bar', 'bar'), ('foo', 123)])",55,8
openstack%2Fkolla~master~Iff6dfdca43f0c44d471e7540a7836e56a0de4507,openstack/kolla,master,Iff6dfdca43f0c44d471e7540a7836e56a0de4507,Add functional tests to tox,MERGED,2015-03-28 17:08:55.000000000,2015-05-13 21:54:53.000000000,2015-05-13 21:54:51.000000000,"[{'_account_id': 3}, {'_account_id': 2834}, {'_account_id': 3098}, {'_account_id': 10419}, {'_account_id': 13039}, {'_account_id': 15697}, {'_account_id': 16110}]","[{'number': 1, 'created': '2015-03-28 17:08:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/8e50e92a8eabf8849db6c43146d442caebe76ff2', 'message': 'WIP functional test of start\n\nChange-Id: Iff6dfdca43f0c44d471e7540a7836e56a0de4507\n'}, {'number': 2, 'created': '2015-03-28 17:23:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/709d1e8cb2d0babc36920c9b7edf9341364f43c2', 'message': 'WIP functional test of start\n\nChange-Id: Iff6dfdca43f0c44d471e7540a7836e56a0de4507\n'}, {'number': 3, 'created': '2015-03-28 23:20:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/125896a9cc5a3de6821e7145dc68281025ef8d62', 'message': 'WIP Add functional tests to tox\n\nThis adds functional tests to tox.  First we install docker from\nbinary, then docker-compose from source.  Next an environment is\ncreated via genenv.\n\nChange-Id: Iff6dfdca43f0c44d471e7540a7836e56a0de4507\n'}, {'number': 4, 'created': '2015-03-29 00:12:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/759e7336a330289f0f1c22b9a28fd0b9e06ec437', 'message': 'WIP Add functional tests to tox\n\nThis adds functional tests to tox.  First we install docker from\nbinary, then docker-compose from source.  Next an environment is\ncreated via genenv.\n\nChange-Id: Iff6dfdca43f0c44d471e7540a7836e56a0de4507\n'}, {'number': 5, 'created': '2015-04-02 20:20:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/5faeacbbdc85417ac4c3ff011feeda4648d34c2c', 'message': 'WIP Add functional tests to tox\n\nThis adds functional tests to tox.  First we install docker from\nbinary, then docker-compose from source.  Next an environment is\ncreated via genenv.\n\nChange-Id: Iff6dfdca43f0c44d471e7540a7836e56a0de4507\n'}, {'number': 6, 'created': '2015-04-29 21:07:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/5489d04582232040563d8c0d996e92269918f6f7', 'message': ""WIP Add functional tests to tox\n\nThis adds functional tests to tox (via the functional virtual environment).\nSince this is primarily a bash project, pbr usage has been avoided. Tests\nthough are to be written in python and put in the tests directory.\n\nA script has been provided to ensure docker is installed or upgraded to\nthe correct required version for RPM based systems.\n\nTODO:\nI'm sure there's still some glue missing to have jenkins set up an\nenvironment and run the tests.\n\nBefore this goes in it would be beneficial to have a clients library\nthat authenticates the clients for all the tests to use.\n\nBashate has not been tested extensively, but perhaps is worth\nconsidering usage in the gate as well.\n\nChange-Id: Iff6dfdca43f0c44d471e7540a7836e56a0de4507\n""}, {'number': 7, 'created': '2015-04-30 22:07:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/b2117a7044ba9583981f7b25cea538a39bb7d9a0', 'message': ""WIP Add functional tests to tox\n\nThis adds functional tests to tox (via the functional virtual environment).\nSince this is primarily a bash project, pbr usage has been avoided. Tests\nthough are to be written in python and put in the tests directory.\n\nA script has been provided to ensure docker is installed or upgraded to\nthe correct required version for RPM based systems.\n\nTODO:\nI'm sure there's still some glue missing to have jenkins set up an\nenvironment and run the tests.\n\nBefore this goes in it would be beneficial to have a clients library\nthat authenticates the clients for all the tests to use.\n\nChange-Id: Iff6dfdca43f0c44d471e7540a7836e56a0de4507\n""}, {'number': 8, 'created': '2015-05-01 22:13:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/cffe08495b9443aa18603e0ed79869cda5ce8dbd', 'message': ""WIP Add functional tests to tox\n\nThis adds functional tests to tox (via the functional virtual environment).\nSince this is primarily a bash project, pbr usage has been avoided. Tests\nthough are to be written in python and put in the tests directory.\n\nA script has been provided to ensure docker is installed or upgraded to\nthe correct required version for RPM based systems.\n\nTODO:\nI'm sure there's still some glue missing to have jenkins set up an\nenvironment and run the tests.\n\nChange-Id: Iff6dfdca43f0c44d471e7540a7836e56a0de4507\n""}, {'number': 9, 'created': '2015-05-10 03:24:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/21c5ff14e8734461676f98c2ec60d47a57ecbc5a', 'message': ""WIP Add functional tests to tox\n\nThis adds functional tests to tox (via the functional virtual environment).\nSince this is primarily a bash project, pbr usage has been avoided. Tests\nthough are to be written in python and put in the tests directory.\n\nRunning tox -e setupenv will execute a setup script\n(tests/setup_docker.sh) to ensure the running instance of docker is\ncorrect.\n\nRunning tox -e images will execute tools/build-all-docker-images and\nwill parse the resulting output to report failures.\n\nTODO:\nI'm sure there's still some glue missing to have jenkins set up an\nenvironment and run the tests.\n\nChange-Id: Iff6dfdca43f0c44d471e7540a7836e56a0de4507\n""}, {'number': 10, 'created': '2015-05-11 20:21:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/5e12a403b68a28bc9b5621698032c1a8608916da', 'message': 'WIP Add functional tests to tox\n\nThis adds functional tests to tox (via the functional virtual environment).\nSince this is primarily a bash project, pbr usage has been avoided. Tests\nthough are to be written in python and put in the tests directory.\n\nRunning tox -e setupenv will execute a setup script\n(tests/setup_docker.sh) to ensure the running instance of docker is\ncorrect.\n\nRunning tox -e images will execute tools/build-all-docker-images and\nwill parse the resulting output to report failures.\n\nChange-Id: Iff6dfdca43f0c44d471e7540a7836e56a0de4507\n'}, {'number': 11, 'created': '2015-05-12 19:59:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/6ff88cda6350dbe217d588f7645c4de40ba962d1', 'message': 'Add functional tests to tox\n\nThis adds functional tests to tox, along with a number of prerequisite\nsteps. Since this is primarily a bash project, pbr usage has been avoided.\nTests are to be written in python and put in the tests directory.\n\nRunning tox -e setupenv will execute a setup script\n(tests/setup_docker.sh) to ensure the running instance of docker meets\nthe minimum version requirement.\n\nRunning tox -e images will execute the image building script\n(tools/build-all-docker-images) and will parse the resulting output to report\nfailures.\n\nRunning tox -e startenv will generate the environment file, run\n""tools/kolla start"", and run first time initialization (eventually).\n\nRunning tox -e functional is for actually testing the deployed OpenStack\nenvironment via a series of tests utilizing the client APIs.\n\nChange-Id: Iff6dfdca43f0c44d471e7540a7836e56a0de4507\n'}, {'number': 12, 'created': '2015-05-12 20:05:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/b1298dcafde77511563a9f81815a1de79d963bd3', 'message': 'Add functional tests to tox\n\nThis adds functional tests to tox, along with a number of prerequisite\nsteps. Since this is primarily a bash project, pbr usage has been avoided.\nTests are to be written in python and put in the tests directory.\n\nRunning tox -e setupenv will execute a setup script\n(tests/setup_docker.sh) to ensure the running instance of docker meets\nthe minimum version requirement.\n\nRunning tox -e images will execute the image building script\n(tools/build-all-docker-images) and will parse the resulting output to report\nfailures.\n\nRunning tox -e startenv will generate the environment file, run\n""tools/kolla start"", and run first time initialization (eventually).\n\nRunning tox -e functional is for actually testing the deployed OpenStack\nenvironment via a series of tests utilizing the client APIs.\n\nChange-Id: Iff6dfdca43f0c44d471e7540a7836e56a0de4507\n'}, {'number': 13, 'created': '2015-05-13 19:44:54.000000000', 'files': ['requirements.txt', 'tests/test_keystone.py', 'tests/test_images.py', 'test-requirements.txt', 'tests/setup_docker.sh', '.testr.conf', 'tests/clients.py', 'tools/build-all-docker-images', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/kolla/commit/21cd478cbd0bf14f9522e088c99399886a8fcf28', 'message': 'Add functional tests to tox\n\nThis adds functional tests to tox, along with a number of prerequisite\nsteps. Since this is primarily a bash project, pbr usage has been avoided.\nTests are to be written in python and put in the tests directory.\n\nRunning tox -e setupenv will execute a setup script\n(tests/setup_docker.sh) to ensure the running instance of docker meets\nthe minimum version requirement.\n\nRunning tox -e images will execute the image building script\n(tools/build-all-docker-images) and will parse the resulting output to report\nfailures.\n\nRunning tox -e startenv will generate the environment file, run\n""tools/kolla start"", and run first time initialization (eventually).\n\nRunning tox -e functional is for actually testing the deployed OpenStack\nenvironment via a series of tests utilizing the client APIs.\n\nChange-Id: Iff6dfdca43f0c44d471e7540a7836e56a0de4507\n'}]",11,168598,21cd478cbd0bf14f9522e088c99399886a8fcf28,40,7,13,2834,,,0,"Add functional tests to tox

This adds functional tests to tox, along with a number of prerequisite
steps. Since this is primarily a bash project, pbr usage has been avoided.
Tests are to be written in python and put in the tests directory.

Running tox -e setupenv will execute a setup script
(tests/setup_docker.sh) to ensure the running instance of docker meets
the minimum version requirement.

Running tox -e images will execute the image building script
(tools/build-all-docker-images) and will parse the resulting output to report
failures.

Running tox -e startenv will generate the environment file, run
""tools/kolla start"", and run first time initialization (eventually).

Running tox -e functional is for actually testing the deployed OpenStack
environment via a series of tests utilizing the client APIs.

Change-Id: Iff6dfdca43f0c44d471e7540a7836e56a0de4507
",git fetch https://review.opendev.org/openstack/kolla refs/changes/98/168598/3 && git format-patch -1 --stdout FETCH_HEAD,['tools/pre-commit-hook'],1,8e50e92a8eabf8849db6c43146d442caebe76ff2,functional,"echo ""=== genenv checks ==="" ${TOPLEVEL}/tools/genenv || RES=1 echo ""=== start checks ==="" ${TOPLEVEL}/tools/start || RES=1 ",,8,0
openstack%2Foslo.versionedobjects~master~Ie42e9ef68f3acd657521454ff3cb5fbdc42ad416,openstack/oslo.versionedobjects,master,Ie42e9ef68f3acd657521454ff3cb5fbdc42ad416,Drop outdated notes and docstrings,MERGED,2015-05-13 14:33:47.000000000,2015-05-13 21:52:21.000000000,2015-05-13 21:52:20.000000000,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 4393}]","[{'number': 1, 'created': '2015-05-13 14:33:47.000000000', 'files': ['oslo_versionedobjects/base.py'], 'web_link': 'https://opendev.org/openstack/oslo.versionedobjects/commit/1ff9ef63a9a37e5b47fd7f939fe83df9568bb017', 'message': 'Drop outdated notes and docstrings\n\nVersionedObjectDictCompat code come from Nova. While Nova may drop the\ndictionary compatibility, dropping a class in a library requires a\ndeprecation process, so notes are not really usefull.\n\nRemove also useless docstrings: in oslo_versionedobjects, there is no\nreally ""backward compatibility"" issue since it\'s a new library. Again,\ndocstrings came from Nova, but I consider them useless in this library.\n\nReplace also ""compat"" with ""compatibility"" in VersionedObjectDictCompat\ndocstring.\n\nChange-Id: Ie42e9ef68f3acd657521454ff3cb5fbdc42ad416\n'}]",0,182698,1ff9ef63a9a37e5b47fd7f939fe83df9568bb017,7,3,1,9107,,,0,"Drop outdated notes and docstrings

VersionedObjectDictCompat code come from Nova. While Nova may drop the
dictionary compatibility, dropping a class in a library requires a
deprecation process, so notes are not really usefull.

Remove also useless docstrings: in oslo_versionedobjects, there is no
really ""backward compatibility"" issue since it's a new library. Again,
docstrings came from Nova, but I consider them useless in this library.

Replace also ""compat"" with ""compatibility"" in VersionedObjectDictCompat
docstring.

Change-Id: Ie42e9ef68f3acd657521454ff3cb5fbdc42ad416
",git fetch https://review.opendev.org/openstack/oslo.versionedobjects refs/changes/98/182698/1 && git format-patch -1 --stdout FETCH_HEAD,['oslo_versionedobjects/base.py'],1,1ff9ef63a9a37e5b47fd7f939fe83df9568bb017,dict_compat," """"""Mix-in to provide dictionary key access compatibility def iteritems(self):"," """"""Mix-in to provide dictionary key access compat NOTE(berrange) This class will eventually be deleted. # dictish syntactic sugar def iteritems(self): """"""For backwards-compatibility with dict-based objects. NOTE(danms): May be removed in the future. """""" """"""For backwards-compatibility with dict-based objects. NOTE(danms): May be removed in the future. """""" """"""For backwards-compatibility with dict-based objects. NOTE(danms): May be removed in the future. """""" """"""For backwards-compatibility with dict-based objects. NOTE(danms): May be removed in the future. """""" """"""For backwards-compatibility with dict-based objects. NOTE(danms): May be removed in the future. """""" """"""For backwards-compatibility with dict-base objects. NOTE(danms): May be removed in the future. """"""",1,28
openstack%2Fnova~master~Ia79b34aa9e6aad5cabe63bb7545c545b952b2b3a,openstack/nova,master,Ia79b34aa9e6aad5cabe63bb7545c545b952b2b3a,Use compute_node consistently in ResourceTracker,MERGED,2015-02-27 09:39:58.000000000,2015-05-13 21:39:56.000000000,2015-05-12 12:16:37.000000000,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 1063}, {'_account_id': 2750}, {'_account_id': 4393}, {'_account_id': 5170}, {'_account_id': 5511}, {'_account_id': 5754}, {'_account_id': 6450}, {'_account_id': 7166}, {'_account_id': 7461}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11103}, {'_account_id': 15286}, {'_account_id': 15751}]","[{'number': 1, 'created': '2015-02-27 09:39:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8800393b60c22d6be6ef9fd0242c9e02c1d8cd24', 'message': 'Use compute_node consistently in ResourceTracker\n\nThis is the second step to convert the ResourceTracker compute\nnode property to be a ComputeNode object.\n\nThe methods that calculate resource usage in the ResourceTracker\nsometimes work on a dict data structure obtained from the virt\ndriver by the get_available_resources() method and sometimes\non the compute_node data structure itself, depending on which is\npassed in as a parameter. The result of the changes are always\ncopied into the compute_node.\n\nThis mixing of data structures wont work if compute_node is\nconverted to be a ComputeNode object. The previous patch in this\nseries created a compute_node at the start of\nupdate_available_resources() so it exists at the outset. This\npatch copies the resources data into compute_node and passes that\nsingle data structure to the update methods consistently.\n\nThis step will allow us, in following patches, to convert the code\nin the update methods to work on the ComputeNode object instead\nof an arbitrary dict.\n\nMinor changes included are removal the final copy into\ncompute_node and moving initialisation of the stats plugin\ninto _update_available_resource() along side initialistion\nof the pci_tracker.\n\nChange-Id: Ia79b34aa9e6aad5cabe63bb7545c545b952b2b3a\n'}, {'number': 2, 'created': '2015-03-06 16:04:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b8253be6a589674dff8aa4e1416d42a15075e3a0', 'message': 'Use compute_node consistently in ResourceTracker\n\nThis is the second step to convert the ResourceTracker compute\nnode property to be a ComputeNode object.\n\nThe methods that calculate resource usage in the ResourceTracker\nsometimes work on a dict data structure obtained from the virt\ndriver by the get_available_resources() method and sometimes\non the compute_node data structure itself, depending on which is\npassed in as a parameter. The result of the changes are always\ncopied into the compute_node.\n\nThis mixing of data structures wont work if compute_node is\nconverted to be a ComputeNode object. The previous patch in this\nseries created a compute_node at the start of\nupdate_available_resources() so it exists at the outset. This\npatch copies the resources data into compute_node and passes that\nsingle data structure to the update methods consistently.\n\nThis step will allow us, in following patches, to convert the code\nin the update methods to work on the ComputeNode object instead\nof an arbitrary dict.\n\nMinor changes included are removal the final copy into\ncompute_node and moving initialisation of the stats plugin\ninto _update_available_resource() along side initialistion\nof the pci_tracker.\n\nChange-Id: Ia79b34aa9e6aad5cabe63bb7545c545b952b2b3a\n'}, {'number': 3, 'created': '2015-03-11 17:08:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bcea0c26b3cfaa251bdc1ef369810e8f521722f5', 'message': 'Use compute_node consistently in ResourceTracker\n\nThis is the second patch set in a series refactoring code that\nuses ResourceTracker.compute_node so that it can later be changed\nto be a ComputeNode object. Note that in this patch compute_node\nis still a dict.\n\nThe methods that calculate resource usage in the ResourceTracker\ntake a parameter called (variously) resources, values or stats.\nSometimes these are called passing self.compute_node as the value\nfor this parameter and sometimes a dict data structure obtained\nfrom the virt driver by the get_available_resources() method.\nThe result of the changes are always copied into the\nself.compute_node.\n\nThis mixing of data structures wont work if self.compute_node is\nconverted to be a ComputeNode object instead of a dict. The\nprevious patch in this series initialises self.compute_node at\nthe start of _update_available_resources() so it has a value at\nthe outset. This patch copies the resources data into\nself.compute_node and uses only that data structure in the methods\nthat calculate resource usage. As a consequence it is no longer\nnecessary to pass this in as a parameter in those methods or to\ncopy the result into self.compute_node at the end of the\ncalculations.\n\nThis step will allow us, in following patches, to convert the code\nin the update methods to object notiation when self.compute_node\nis changed to be an object instread of a dict.\n\nMinor changes included are removal the final copy into\ncompute_node and moving initialisation of the stats plugin\ninto _update_available_resource() along side initialistion\nof the pci_tracker.\n\nChange-Id: Ia79b34aa9e6aad5cabe63bb7545c545b952b2b3a\n'}, {'number': 4, 'created': '2015-03-13 16:28:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/380118001e9189d486dc6ba81a78e8badef92869', 'message': 'Use compute_node consistently in ResourceTracker\n\nThis is the second patch set in a series refactoring code that\nuses ResourceTracker.compute_node so that it can later be changed\nto be a ComputeNode object. Note that in this patch compute_node\nis still a dict.\n\nThe methods that calculate resource usage in the ResourceTracker\ntake a parameter called (variously) resources, values or stats.\nSometimes these are called passing self.compute_node as the value\nfor this parameter and sometimes a dict data structure obtained\nfrom the virt driver by the get_available_resources() method.\nThe result of the changes are always copied into the\nself.compute_node.\n\nThis mixing of data structures wont work if self.compute_node is\nconverted to be a ComputeNode object instead of a dict. The\nprevious patch in this series initialises self.compute_node at\nthe start of _update_available_resources() so it has a value at\nthe outset. This patch copies the resources data into\nself.compute_node and uses only that data structure in the methods\nthat calculate resource usage. As a consequence it is no longer\nnecessary to pass this in as a parameter in those methods or to\ncopy the result into self.compute_node at the end of the\ncalculations.\n\nThis step will allow us, in following patches, to convert the code\nin the update methods to object notiation when self.compute_node\nis changed to be an object instread of a dict.\n\nMinor changes included are removal the final copy into\ncompute_node and moving initialisation of the stats plugin\ninto _init_compute_node().\n\nChange-Id: Ia79b34aa9e6aad5cabe63bb7545c545b952b2b3a\n'}, {'number': 5, 'created': '2015-03-17 16:23:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2c246dda689b6b579d4a4e0048395b70699f254b', 'message': 'Use compute_node consistently in ResourceTracker\n\nThis is the second patch set in a series refactoring code that\nuses ResourceTracker.compute_node so that it can later be changed\nto be a ComputeNode object. Note that in this patch compute_node\nis still a dict.\n\nThe methods that calculate resource usage in the ResourceTracker\ntake a parameter called (variously) resources, values or stats.\nSometimes these are called passing self.compute_node as the value\nfor this parameter and sometimes a dict data structure obtained\nfrom the virt driver by the get_available_resources() method.\nThe result of the changes are always copied into the\nself.compute_node.\n\nThis mixing of data structures wont work if self.compute_node is\nconverted to be a ComputeNode object instead of a dict. The\nprevious patch in this series initialises self.compute_node at\nthe start of _update_available_resources() so it has a value at\nthe outset. This patch copies the resources data into\nself.compute_node and uses only that data structure in the methods\nthat calculate resource usage. As a consequence it is no longer\nnecessary to pass this in as a parameter in those methods or to\ncopy the result into self.compute_node at the end of the\ncalculations.\n\nThis step will allow us, in following patches, to convert the code\nin the update methods to object notiation when self.compute_node\nis changed to be an object instread of a dict.\n\nMinor changes included are removal the final copy into\ncompute_node and moving initialisation of the stats plugin\ninto _init_compute_node().\n\nChange-Id: Ia79b34aa9e6aad5cabe63bb7545c545b952b2b3a\n'}, {'number': 6, 'created': '2015-03-19 11:44:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f06ff00f384e4401b71d352da979c70514840903', 'message': 'Use compute_node consistently in ResourceTracker\n\nThis is the second patch set in a series refactoring code that\nuses ResourceTracker.compute_node so that it can later be changed\nto be a ComputeNode object. Note that in this patch compute_node\nis still a dict.\n\nThe methods that calculate resource usage in the ResourceTracker\ntake a parameter called (variously) resources, values or stats.\nSometimes these are called passing self.compute_node as the value\nfor this parameter and sometimes a dict data structure obtained\nfrom the virt driver by the get_available_resources() method.\nThe result of the changes are always copied into the\nself.compute_node.\n\nThis mixing of data structures wont work if self.compute_node is\nconverted to be a ComputeNode object instead of a dict. The\nprevious patch in this series initialises self.compute_node at\nthe start of _update_available_resources() so it has a value at\nthe outset. This patch copies the resources data into\nself.compute_node and uses only that data structure in the methods\nthat calculate resource usage. As a consequence it is no longer\nnecessary to pass this in as a parameter in those methods or to\ncopy the result into self.compute_node at the end of the\ncalculations.\n\nThis step will allow us, in following patches, to convert the code\nin the update methods to object notiation when self.compute_node\nis changed to be an object instread of a dict.\n\nMinor changes included are removal the final copy into\ncompute_node and moving initialisation of the stats plugin\ninto _init_compute_node().\n\nChange-Id: Ia79b34aa9e6aad5cabe63bb7545c545b952b2b3a\n'}, {'number': 7, 'created': '2015-03-19 17:51:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1912e82d6d35732612b8095491c2d13bd1b1e11c', 'message': 'Use compute_node consistently in ResourceTracker\n\nThis is the second patch set in a series refactoring code that\nuses ResourceTracker.compute_node so that it can later be changed\nto be a ComputeNode object. Note that in this patch compute_node\nis still a dict.\n\nThe methods that calculate resource usage in the ResourceTracker\ntake a parameter called (variously) resources, values or stats.\nSometimes these are called passing self.compute_node as the value\nfor this parameter and sometimes a dict data structure obtained\nfrom the virt driver by the get_available_resources() method.\nThe result of the changes are always copied into the\nself.compute_node.\n\nThis mixing of data structures wont work if self.compute_node is\nconverted to be a ComputeNode object instead of a dict. The\nprevious patch in this series initialises self.compute_node at\nthe start of _update_available_resources() so it has a value at\nthe outset. This patch copies the resources data into\nself.compute_node and uses only that data structure in the methods\nthat calculate resource usage. As a consequence it is no longer\nnecessary to pass this in as a parameter in those methods or to\ncopy the result into self.compute_node at the end of the\ncalculations.\n\nThis step will allow us, in following patches, to convert the code\nin the update methods to object notiation when self.compute_node\nis changed to be an object instread of a dict.\n\nMinor changes included are removal the final copy into\ncompute_node and moving initialisation of the stats plugin\ninto _init_compute_node().\n\nChange-Id: Ia79b34aa9e6aad5cabe63bb7545c545b952b2b3a\n'}, {'number': 8, 'created': '2015-03-19 18:02:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/408aade4ac74f47a74fc2f3b7fe933b1ed1cbf5c', 'message': 'Use compute_node consistently in ResourceTracker\n\nThis is the second patch set in a series refactoring code that\nuses ResourceTracker.compute_node so that it can later be changed\nto be a ComputeNode object. Note that in this patch compute_node\nis still a dict.\n\nThe methods that calculate resource usage in the ResourceTracker\ntake a parameter called (variously) resources, values or stats.\nSometimes these are called passing self.compute_node as the value\nfor this parameter and sometimes a dict data structure obtained\nfrom the virt driver by the get_available_resources() method.\nThe result of the changes are always copied into the\nself.compute_node.\n\nThis mixing of data structures wont work if self.compute_node is\nconverted to be a ComputeNode object instead of a dict. The\nprevious patch in this series initialises self.compute_node at\nthe start of _update_available_resources() so it has a value at\nthe outset. This patch copies the resources data into\nself.compute_node and uses only that data structure in the methods\nthat calculate resource usage. As a consequence it is no longer\nnecessary to pass this in as a parameter in those methods or to\ncopy the result into self.compute_node at the end of the\ncalculations.\n\nThis step will allow us, in following patches, to convert the code\nin the update methods to object notiation when self.compute_node\nis changed to be an object instread of a dict.\n\nMinor changes included are removal the final copy into\ncompute_node and moving initialisation of the stats plugin\ninto _init_compute_node().\n\nChange-Id: Ia79b34aa9e6aad5cabe63bb7545c545b952b2b3a\n'}, {'number': 9, 'created': '2015-03-25 19:38:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7e3f92b99d75a4d326a367c99cea268e0a0052c9', 'message': 'Use compute_node consistently in ResourceTracker\n\nThis is the second patch set in a series refactoring code that\nuses ResourceTracker.compute_node so that it can later be changed\nto be a ComputeNode object. Note that in this patch compute_node\nis still a dict.\n\nThe methods that calculate resource usage in the ResourceTracker\ntake a parameter called (variously) resources, values or stats.\nSometimes these are called passing self.compute_node as the value\nfor this parameter and sometimes a dict data structure obtained\nfrom the virt driver by the get_available_resources() method.\nThe result of the changes are always copied into the\nself.compute_node.\n\nThis mixing of data structures wont work if self.compute_node is\nconverted to be a ComputeNode object instead of a dict. The\nprevious patch in this series initialises self.compute_node at\nthe start of _update_available_resources() so it has a value at\nthe outset. This patch copies the resources data into\nself.compute_node and uses only that data structure in the methods\nthat calculate resource usage. As a consequence it is no longer\nnecessary to pass this in as a parameter in those methods or to\ncopy the result into self.compute_node at the end of the\ncalculations.\n\nThis step will allow us, in following patches, to convert the code\nin the update methods to object notiation when self.compute_node\nis changed to be an object instread of a dict.\n\nMinor changes included are removal the final copy into\ncompute_node and moving initialisation of the stats plugin\ninto _init_compute_node().\n\nChange-Id: Ia79b34aa9e6aad5cabe63bb7545c545b952b2b3a\n'}, {'number': 10, 'created': '2015-04-07 13:15:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/66fcfec50ca1d7c60efa85833439617d1bead5b5', 'message': 'Use compute_node consistently in ResourceTracker\n\nThis is the second patch set in a series refactoring code that\nuses ResourceTracker.compute_node so that it can later be changed\nto be a ComputeNode object. Note that in this patch compute_node\nis still a dict.\n\nThe methods that calculate resource usage in the ResourceTracker\ntake a parameter called (variously) resources, values or stats.\nSometimes these are called passing self.compute_node as the value\nfor this parameter and sometimes a dict data structure obtained\nfrom the virt driver by the get_available_resources() method.\nThe result of the changes are always copied into the\nself.compute_node.\n\nThis mixing of data structures wont work if self.compute_node is\nconverted to be a ComputeNode object instead of a dict. The\nprevious patch in this series initialises self.compute_node at\nthe start of _update_available_resources() so it has a value at\nthe outset. This patch copies the resources data into\nself.compute_node and uses only that data structure in the methods\nthat calculate resource usage. As a consequence it is no longer\nnecessary to pass this in as a parameter in those methods or to\ncopy the result into self.compute_node at the end of the\ncalculations.\n\nThis step will allow us, in following patches, to convert the code\nin the update methods to object notiation when self.compute_node\nis changed to be an object instread of a dict.\n\nMinor changes included are removal the final copy into\ncompute_node and moving initialisation of the stats plugin\ninto _init_compute_node().\n\nChange-Id: Ia79b34aa9e6aad5cabe63bb7545c545b952b2b3a\n'}, {'number': 11, 'created': '2015-05-07 00:47:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3cb5398a2209948685c226ec4f1124d5d48fa86d', 'message': ""Use compute_node consistently in ResourceTracker\n\nThis is the second patch set in a series refactoring code that\nuses ResourceTracker.compute_node so that it can later be changed\nto be a ComputeNode object. Note that in this patch compute_node\nis still a dict.\n\nThe methods that calculate resource usage in the ResourceTracker\ntake a parameter called (variously) resources, values or stats.\nSometimes these are called passing self.compute_node as the value\nfor this parameter and sometimes a dict data structure obtained\nfrom the virt driver by the get_available_resources() method.\nThe result of the changes are always copied into the\nself.compute_node.\n\nThis mixing of data structures won't work if self.compute_node is\nconverted to be a ComputeNode object instead of a dict. The\nprevious patch in this series initialises self.compute_node at\nthe start of _update_available_resources() so it has a value at\nthe outset. This patch copies the resources data into\nself.compute_node and uses only that data structure in the methods\nthat calculate resource usage. As a consequence it is no longer\nnecessary to pass this in as a parameter in those methods or to\ncopy the result into self.compute_node at the end of the\ncalculations.\n\nThis step will allow us, in following patches, to convert the code\nin the update methods to object notiation when self.compute_node\nis changed to be an object instread of a dict.\n\nMinor changes included are removal the final copy into\ncompute_node and moving initialisation of the stats plugin\ninto _init_compute_node().\n\nChange-Id: Ia79b34aa9e6aad5cabe63bb7545c545b952b2b3a\n""}, {'number': 12, 'created': '2015-05-12 10:09:55.000000000', 'files': ['nova/tests/unit/compute/test_resource_tracker.py', 'nova/tests/unit/compute/fake_resource_tracker.py', 'nova/tests/unit/compute/test_tracker.py', 'nova/compute/resource_tracker.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/414bdd21cd7131c24dae97b9cc5ed057728c42c8', 'message': ""Use compute_node consistently in ResourceTracker\n\nThis is the second patch set in a series refactoring code that\nuses ResourceTracker.compute_node so that it can later be changed\nto be a ComputeNode object. Note that in this patch compute_node\nis still a dict.\n\nThe methods that calculate resource usage in the ResourceTracker\ntake a parameter called (variously) resources, values or stats.\nSometimes these are called passing self.compute_node as the value\nfor this parameter and sometimes a dict data structure obtained\nfrom the virt driver by the get_available_resources() method.\nThe result of the changes are always copied into the\nself.compute_node.\n\nThis mixing of data structures won't work if self.compute_node is\nconverted to be a ComputeNode object instead of a dict. The\nprevious patch in this series initialises self.compute_node at\nthe start of _update_available_resources() so it has a value at\nthe outset. This patch copies the resources data into\nself.compute_node and uses only that data structure in the methods\nthat calculate resource usage. As a consequence it is no longer\nnecessary to pass this in as a parameter in those methods or to\ncopy the result into self.compute_node at the end of the\ncalculations.\n\nThis step will allow us, in following patches, to convert the code\nin the update methods to object notiation when self.compute_node\nis changed to be an object instread of a dict.\n\nMinor changes included are removal the final copy into\ncompute_node and moving initialisation of the stats plugin\ninto _init_compute_node().\n\nChange-Id: Ia79b34aa9e6aad5cabe63bb7545c545b952b2b3a\n""}]",29,159765,414bdd21cd7131c24dae97b9cc5ed057728c42c8,120,19,12,7461,,,0,"Use compute_node consistently in ResourceTracker

This is the second patch set in a series refactoring code that
uses ResourceTracker.compute_node so that it can later be changed
to be a ComputeNode object. Note that in this patch compute_node
is still a dict.

The methods that calculate resource usage in the ResourceTracker
take a parameter called (variously) resources, values or stats.
Sometimes these are called passing self.compute_node as the value
for this parameter and sometimes a dict data structure obtained
from the virt driver by the get_available_resources() method.
The result of the changes are always copied into the
self.compute_node.

This mixing of data structures won't work if self.compute_node is
converted to be a ComputeNode object instead of a dict. The
previous patch in this series initialises self.compute_node at
the start of _update_available_resources() so it has a value at
the outset. This patch copies the resources data into
self.compute_node and uses only that data structure in the methods
that calculate resource usage. As a consequence it is no longer
necessary to pass this in as a parameter in those methods or to
copy the result into self.compute_node at the end of the
calculations.

This step will allow us, in following patches, to convert the code
in the update methods to object notiation when self.compute_node
is changed to be an object instread of a dict.

Minor changes included are removal the final copy into
compute_node and moving initialisation of the stats plugin
into _init_compute_node().

Change-Id: Ia79b34aa9e6aad5cabe63bb7545c545b952b2b3a
",git fetch https://review.opendev.org/openstack/nova refs/changes/65/159765/12 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_tracker.py', 'nova/compute/resource_tracker.py']",2,8800393b60c22d6be6ef9fd0242c9e02c1d8cd24,bp/make-resource-tracker-use-objects," # purge old stats and init with anything passed in by the driver self.stats.clear() self.stats.digest_stats(resources.get('stats')) # now copy resources to compute node self.compute_node.update(resources) self._update_usage_from_instances(context, self.compute_node, instances) self._update_usage_from_migrations(context, self.compute_node, migrations) self._update_usage_from_orphans(context, self.compute_node, orphans) self.compute_node['pci_stats'] = jsonutils.dumps( self.pci_tracker.stats) else: self.compute_node['pci_stats'] = jsonutils.dumps([]) self._report_final_resource_view(self.compute_node) self.compute_node['metrics'] = jsonutils.dumps(metrics) self._sync_compute_node(context, self.compute_node)"," self._update_usage_from_instances(context, resources, instances) self._update_usage_from_migrations(context, resources, migrations) self._update_usage_from_orphans(context, resources, orphans) resources['pci_stats'] = jsonutils.dumps(self.pci_tracker.stats) else: resources['pci_stats'] = jsonutils.dumps([]) self._report_final_resource_view(resources) resources['metrics'] = jsonutils.dumps(metrics) self._sync_compute_node(context, resources) # NOTE(sbauza): Now the DB update is asynchronous, we need to locally # update the values self.compute_node.update(values) # purge old stats and init with anything passed in by the driver self.stats.clear() self.stats.digest_stats(resources.get('stats')) ",39,29
openstack%2Fcloudkitty~master~I97fcfe6f0f5a9a7a7859058eae93b926579f3328,openstack/cloudkitty,master,I97fcfe6f0f5a9a7a7859058eae93b926579f3328,Changed network bandwidth from B to MB,MERGED,2015-05-13 21:29:47.000000000,2015-05-13 21:35:57.000000000,2015-05-13 21:35:55.000000000,"[{'_account_id': 3}, {'_account_id': 7042}]","[{'number': 1, 'created': '2015-05-13 21:29:47.000000000', 'files': ['contrib/ci/csv_writer.py', 'cloudkitty/collector/ceilometer.py'], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/979113593920d4af34e57b61ddd428678da38c19', 'message': 'Changed network bandwidth from B to MB\n\nChange-Id: I97fcfe6f0f5a9a7a7859058eae93b926579f3328\n'}]",0,182855,979113593920d4af34e57b61ddd428678da38c19,6,2,1,7042,,,0,"Changed network bandwidth from B to MB

Change-Id: I97fcfe6f0f5a9a7a7859058eae93b926579f3328
",git fetch https://review.opendev.org/openstack/cloudkitty refs/changes/55/182855/1 && git format-patch -1 --stdout FETCH_HEAD,"['contrib/ci/csv_writer.py', 'cloudkitty/collector/ceilometer.py']",2,979113593920d4af34e57b61ddd428678da38c19,tweaking/ceilometer/network_as_mb," tap_bw_mb = tap_stat.max / 1048576.0 'MB', tap_bw_mb))"," 'B', tap_stat.max))",75,74
openstack%2Fcloudkitty~master~I75b721f99f3c3394ba0b8ec8efef137864faf1f9,openstack/cloudkitty,master,I75b721f99f3c3394ba0b8ec8efef137864faf1f9,Fixed error when no field mapping was created,MERGED,2015-05-13 21:21:47.000000000,2015-05-13 21:33:26.000000000,2015-05-13 21:33:26.000000000,"[{'_account_id': 3}, {'_account_id': 7042}]","[{'number': 1, 'created': '2015-05-13 21:21:47.000000000', 'files': ['cloudkitty/rating/hash/__init__.py'], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/a892c7892b65fb0926afb8fd2a0ebe72326ea1f7', 'message': 'Fixed error when no field mapping was created\n\nChange-Id: I75b721f99f3c3394ba0b8ec8efef137864faf1f9\n'}]",0,182850,a892c7892b65fb0926afb8fd2a0ebe72326ea1f7,6,2,1,7042,,,0,"Fixed error when no field mapping was created

Change-Id: I75b721f99f3c3394ba0b8ec8efef137864faf1f9
",git fetch https://review.opendev.org/openstack/cloudkitty refs/changes/50/182850/1 && git format-patch -1 --stdout FETCH_HEAD,['cloudkitty/rating/hash/__init__.py'],1,a892c7892b65fb0926afb8fd2a0ebe72326ea1f7,fix/hashmap_fields_mapping_error, if 'fields' not in self._entries[service_name]: return,,2,0
openstack%2Fpython-novaclient~master~Idc67471a32e6a5c3c83154066c6695cd47a2f588,openstack/python-novaclient,master,Idc67471a32e6a5c3c83154066c6695cd47a2f588,Proof of Concept: read/write functional tests,ABANDONED,2015-02-20 22:16:27.000000000,2015-05-13 21:28:43.000000000,,"[{'_account_id': 3}, {'_account_id': 679}, {'_account_id': 1849}, {'_account_id': 2750}]","[{'number': 1, 'created': '2015-02-20 22:16:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/9486977e3389309514143258fcaf437b915ffa4c', 'message': ""Proof of Concept: read/write functional tests\n\nFully nova CLI based read/write functional tests. Before this lands\nwe need to add '--poll' support to several CLI commands (and python\nclient side) to make things not suck.\n\nNote: I started writing this before\nIaf474298be135843bff0114cf211bee19762f3ad\nand wanted to post it, so we can discuss how the functional tests should\nlook going forward.\n\nChange-Id: Idc67471a32e6a5c3c83154066c6695cd47a2f588\nRelated-Bug: #1423695\n""}, {'number': 2, 'created': '2015-02-20 23:42:49.000000000', 'files': ['novaclient/tests/functional/test_volumes.py'], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/6a6f345ebf8eba73664ebcd8cad8702c224ed9a9', 'message': ""Proof of Concept: read/write functional tests\n\nFully nova CLI based read/write functional tests. Before this lands\nwe need to add '--poll' support to several CLI commands (and python\nclient side) to make things not suck.\n\nNote: I started writing this before\nIaf474298be135843bff0114cf211bee19762f3ad\nand wanted to post it, so we can discuss how the functional tests should\nlook going forward.\n\nChange-Id: Idc67471a32e6a5c3c83154066c6695cd47a2f588\nRelated-Bug: #1423695\n""}]",0,157974,6a6f345ebf8eba73664ebcd8cad8702c224ed9a9,10,4,2,1849,,,0,"Proof of Concept: read/write functional tests

Fully nova CLI based read/write functional tests. Before this lands
we need to add '--poll' support to several CLI commands (and python
client side) to make things not suck.

Note: I started writing this before
Iaf474298be135843bff0114cf211bee19762f3ad
and wanted to post it, so we can discuss how the functional tests should
look going forward.

Change-Id: Idc67471a32e6a5c3c83154066c6695cd47a2f588
Related-Bug: #1423695
",git fetch https://review.opendev.org/openstack/python-novaclient refs/changes/74/157974/1 && git format-patch -1 --stdout FETCH_HEAD,['novaclient/tests/functional/test_volumes.py'],1,9486977e3389309514143258fcaf437b915ffa4c,bug/1423695,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import time from novaclient.tests.functional import base class TestVolumesNovaClientTest(base.ClientTestBase): """""" read/write volume related tests """""" #TODO(jogo): extract some of the unprettytable helpers out into own module def get_id(self, output): """"""return the id from nova client output of a create command format: | id | c85f3ba7-463c-4a76-9a3c-9b95d2ac6a4d | """""" id_line = [line for line in output.split('\n') if ' id ' in line][0] return id_line.split('|')[2].strip() def get_smallest_flavor(self): """"""Get smallest flavor by memory."""""" output = self.nova('flavor-list') lines = output.split('\n') # find which column is the memory memory_column = None for column, name in enumerate(lines[1].split('|')): if ""Memory_MB"" in name: memory_column = column break # create list of id, memory_size sizes = [] # ignore headers and footers for line in lines[3:-2]: split = line.split('|') sizes.append((split[1], split[memory_column])) smallest_id = sorted(sizes, key=lambda x: x[1])[0] return smallest_id[0] def create_volume(self): output = self.nova('volume-create', params='1') volume_id = self.get_id(output) # Wait for volume to be ready time.sleep(4) #TODO(jogo): this should be a poll. But novaclient doesn't support that for volumes return volume_id def test_volume_create_delete(self): volume_id = self.create_volume() self.nova('volume-delete', params=volume_id) def test_boot_and_attach_volume(self): name = 'test' flavor = self.get_smallest_flavor() volume1_id = self.create_volume() output = self.nova( 'boot', params=('--block-device-mapping vda=%s:::1 --flavor %s %s --poll' % (volume1_id, flavor, name))) self.addCleanup(self.nova, 'delete', params=name) volume2_id = self.create_volume() self.addCleanup(self.nova, 'volume-delete', params=volume2_id) # Note this won't work and we leak a volume. This won't work until # volume-attach has a poll option to make sure it finishes #self.addCleanup(self.nova, 'volume-detach', params=""%s %s"" % (name, volume2_id)) output = self.nova( 'volume-attach', params=('%s %s' % (name, volume2_id))) ",,81,0
openstack%2Ftrove~master~I34267b1b7e9ea101c20b6e34ec2fcbc743148f36,openstack/trove,master,I34267b1b7e9ea101c20b6e34ec2fcbc743148f36,Added more unit-tests to taskmanager,MERGED,2015-05-01 11:31:10.000000000,2015-05-13 21:23:04.000000000,2015-05-13 21:23:03.000000000,"[{'_account_id': 3}, {'_account_id': 1870}, {'_account_id': 6413}, {'_account_id': 7806}, {'_account_id': 9782}, {'_account_id': 10215}, {'_account_id': 10295}, {'_account_id': 11783}, {'_account_id': 13355}, {'_account_id': 14576}]","[{'number': 1, 'created': '2015-05-01 11:31:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/b0e65e9ada9472b1fa20827f403e33c5bc1bcbc3', 'message': 'Added more unit-tests to taskmanager\n\nMore tests have been added to improve code-coverage\nof following code-files:\n\n- trove/taskmanager/api.py\n- trove/taskmanager/manager.py\n- trove/taskmanager/service.py\n\nChange-Id: I34267b1b7e9ea101c20b6e34ec2fcbc743148f36\n'}, {'number': 2, 'created': '2015-05-04 08:14:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/28c956657f8d10f7368a9fa5d69518882a697bbd', 'message': 'Added more unit-tests to taskmanager\n\nMore tests have been added to improve code-coverage\nof following code-files:\n\n- trove/taskmanager/api.py\n- trove/taskmanager/manager.py\n- trove/taskmanager/service.py\n\nChange-Id: I34267b1b7e9ea101c20b6e34ec2fcbc743148f36\n'}, {'number': 3, 'created': '2015-05-05 10:14:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/bdddfd9e9762e757f5d9743197137b87d6926d76', 'message': 'Added more unit-tests to taskmanager\n\nMore tests have been added to improve code-coverage\nof following code-files:\n\n- trove/taskmanager/api.py\n- trove/taskmanager/manager.py\n- trove/taskmanager/service.py\n\nChange-Id: I34267b1b7e9ea101c20b6e34ec2fcbc743148f36\n'}, {'number': 4, 'created': '2015-05-06 11:59:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/bd82960664f4eedd2de8a3c945652f77762a1edc', 'message': 'Added more unit-tests to taskmanager\n\nMore tests have been added to improve code-coverage\nof following code-files:\n\n- trove/taskmanager/api.py\n- trove/taskmanager/manager.py\n- trove/taskmanager/service.py\n- trove/taskmanager/models.py\n\nChange-Id: I34267b1b7e9ea101c20b6e34ec2fcbc743148f36\n'}, {'number': 5, 'created': '2015-05-08 10:08:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/36088366aa27cdfd1a7ebcbfc9dc983c49ec132a', 'message': 'Added more unit-tests to taskmanager\n\nMore tests have been added to improve code-coverage\nof following code-files:\n\n- trove/taskmanager/api.py\n- trove/taskmanager/manager.py\n- trove/taskmanager/service.py\n- trove/taskmanager/models.py\n\nChange-Id: I34267b1b7e9ea101c20b6e34ec2fcbc743148f36\n'}, {'number': 6, 'created': '2015-05-08 16:44:09.000000000', 'files': ['trove/tests/unittests/taskmanager/test_api.py', 'trove/tests/unittests/taskmanager/test_models.py', 'trove/tests/unittests/taskmanager/test_manager.py'], 'web_link': 'https://opendev.org/openstack/trove/commit/5567d117c09633c93d20e64224329e9326370726', 'message': 'Added more unit-tests to taskmanager\n\nMore tests have been added to improve code-coverage\nof following code-files:\n\n- trove/taskmanager/api.py\n- trove/taskmanager/manager.py\n- trove/taskmanager/service.py\n- trove/taskmanager/models.py\n\nChange-Id: I34267b1b7e9ea101c20b6e34ec2fcbc743148f36\n'}]",29,179355,5567d117c09633c93d20e64224329e9326370726,46,10,6,7806,,,0,"Added more unit-tests to taskmanager

More tests have been added to improve code-coverage
of following code-files:

- trove/taskmanager/api.py
- trove/taskmanager/manager.py
- trove/taskmanager/service.py
- trove/taskmanager/models.py

Change-Id: I34267b1b7e9ea101c20b6e34ec2fcbc743148f36
",git fetch https://review.opendev.org/openstack/trove refs/changes/55/179355/5 && git format-patch -1 --stdout FETCH_HEAD,"['trove/tests/unittests/taskmanager/test_api.py', 'trove/tests/unittests/taskmanager/test_manager.py']",2,b0e65e9ada9472b1fa20827f403e33c5bc1bcbc3,master,"from trove.backup.models import Backup from trove.common.context import TroveContextfrom trove.taskmanager import models from trove.taskmanager import service from trove.common.exception import TroveError, ReplicationSlaveAttachError self.context = TroveContext() @patch.object(models.BuiltInstanceTasks, 'load') def test_detach_replica(self, *args): try: self.manager.detach_replica(self.context, 'some-instance-id') except Exception: self.fail(""detach_replica raised unexpected exception."") def test_promote_to_replica_source(self, *args): mock_old_master = Mock() mock_slave1 = Mock() type(mock_slave1).id = 'some-instance-id' mock_slave2 = Mock() type(mock_slave2).id = 'inst1' type(mock_old_master).slaves = [mock_slave1, mock_slave2] try: with patch.object(models.BuiltInstanceTasks, 'load', side_effect=[mock_slave1, mock_old_master, mock_slave2]): self.manager.promote_to_replica_source(self.context, 'some-instance-id') except Exception: self.fail(""promote_to_replica_source raised unexpected exception."") @patch.object(Manager, '_most_current_replica') def test_eject_replica_source(self, *args): mock_master = Mock() mock_slave1 = Mock() type(mock_slave1).id = 'some-instance-id' mock_slave2 = Mock() type(mock_slave2).id = 'inst1' type(mock_master).slaves = [mock_slave1, mock_slave2] try: with patch.object(models.BuiltInstanceTasks, 'load', side_effect=[mock_master, mock_slave1, mock_slave2]): self.manager.eject_replica_source(self.context, 'some-instance-id') except Exception: self.fail(""eject_replica_source raised unexpected exception."") @patch.object(Manager, '_set_task_status') def test_exception_TroveError_promote_to_replica_source(self, *args): mock_old_master = Mock() mock_slave1 = Mock() type(mock_slave1).id = 'some-instance-id' mock_slave2 = Mock() type(mock_slave2).id = 'inst1' type(mock_slave2).detach_replica = Mock(side_effect=TroveError) type(mock_old_master).slaves = [mock_slave1, mock_slave2] with patch.object(models.BuiltInstanceTasks, 'load', side_effect=[mock_slave1, mock_old_master, mock_slave2]): self.assertRaises(ReplicationSlaveAttachError, self.manager.promote_to_replica_source, self.context, 'some-instance-id') @patch.object(Manager, '_set_task_status') @patch.object(Manager, '_most_current_replica') def test_exception_TroveError_eject_replica_source( self, mock_most_current_replica, mock_set_tast_status): mock_master = Mock() mock_slave1 = Mock() type(mock_slave1).id = 'some-instance-id' mock_slave2 = Mock() type(mock_slave2).id = 'inst1' type(mock_slave2).detach_replica = Mock(side_effect=TroveError) type(mock_master).slaves = [mock_slave1, mock_slave2] mock_most_current_replica.return_value = mock_slave1 with patch.object(models.BuiltInstanceTasks, 'load', side_effect=[mock_master, mock_slave1, mock_slave2]): self.assertRaises(ReplicationSlaveAttachError, self.manager.eject_replica_source, self.context, 'some-instance-id') @patch.object(Manager, '_set_task_status') def test_error_promote_to_replica_source(self, *args): mock_old_master = Mock() mock_slave1 = Mock() type(mock_slave1).id = 'some-instance-id' mock_slave2 = Mock() type(mock_slave2).id = 'inst1' type(mock_slave2).detach_replica = Mock( side_effect=RuntimeError('Error')) type(mock_old_master).slaves = [mock_slave1, mock_slave2] with patch.object(models.BuiltInstanceTasks, 'load', side_effect=[mock_slave1, mock_old_master, mock_slave2]): self.assertRaisesRegexp(RuntimeError, 'Error', self.manager.promote_to_replica_source, self.context, 'some-instance-id') def test_error_demote_replication_master_promote_to_replica_source(self): mock_old_master = Mock() mock_slave1 = Mock() type(mock_slave1).id = 'some-instance-id' mock_slave2 = Mock() type(mock_slave2).id = 'inst1' type(mock_old_master).slaves = [mock_slave1, mock_slave2] type(mock_old_master).demote_replication_master = Mock( side_effect=RuntimeError('Error')) with patch.object(models.BuiltInstanceTasks, 'load', side_effect=[mock_slave1, mock_old_master, mock_slave2]): self.assertRaises(ReplicationSlaveAttachError, self.manager.promote_to_replica_source, self.context, 'some-instance-id') @patch.object(Manager, '_set_task_status') @patch.object(Manager, '_most_current_replica') def test_error_eject_replica_source(self, mock_most_current_replica, mock_set_tast_status): mock_master = Mock() mock_slave1 = Mock() type(mock_slave1).id = 'some-instance-id' mock_slave2 = Mock() type(mock_slave2).id = 'inst1' type(mock_slave2).detach_replica = Mock( side_effect=RuntimeError('Error')) type(mock_master).slaves = [mock_slave1, mock_slave2] mock_most_current_replica.return_value = mock_slave1 with patch.object(models.BuiltInstanceTasks, 'load', side_effect=[mock_master, mock_slave1, mock_slave2]): self.assertRaisesRegexp(RuntimeError, 'Error', self.manager.eject_replica_source, self.context, 'some-instance-id') @patch.object(models.FreshInstanceTasks, 'load') @patch.object(Backup, 'delete') def test__create_replication_slave(self, *args): try: self.manager.create_instance(self.context, ['id1', 'id2'], Mock(), Mock(), Mock(), None, None, 'mysql', 'mysql-server', 2, 'temp-backup-id', None, 'some_password', None, Mock(), 'some-master-id', None) except Exception: self.fail(""_create_replication_slave raised unexpected exception."") @patch.object(models.FreshInstanceTasks, 'load') @patch.object(Backup, 'delete') def test_exception__create_replication_slave(self, mock_delete, mock_load): mock_load.return_value.create_instance = Mock(side_effect=TroveError) self.assertRaises(TroveError, self.manager.create_instance, self.context, ['id1', 'id2'], Mock(), Mock(), Mock(), None, None, 'mysql', 'mysql-server', 2, 'temp-backup-id', None, 'some_password', None, Mock(), 'some-master-id', None) def test_AttributeError_create_instance(self): self.assertRaisesRegexp( AttributeError, 'Cannot create multiple non-replica instances.', self.manager.create_instance, self.context, ['id1', 'id2'], Mock(), Mock(), Mock(), None, None, 'mysql', 'mysql-server', 2, 'temp-backup-id', None, 'some_password', None, Mock(), None, None) @patch.object(models.FreshInstanceTasks, 'load') def test_create_instance(self, *args): try: self.manager.create_instance(self.context, 'id1', Mock(), Mock(), Mock(), None, None, 'mysql', 'mysql-server', 2, 'temp-backup-id', None, 'some_password', None, Mock(), None, None) except Exception: self.fail(""create_instance raised unexpected exception."") @patch.object(models, 'load_cluster_tasks') def test_create_cluster(self, *args): try: self.manager.create_cluster(self.context, 'some-cluster-id') except Exception: self.fail(""create_cluster raised unexpected exception."") @patch.object(models, 'load_cluster_tasks') def test_delete_cluster(self, *args): try: self.manager.delete_cluster(self.context, 'some-cluster-id') except Exception: self.fail(""delete_cluster raised unexpected exception."") class TestTaskManagerService(TestCase): def test_app_factory(self): try: service.app_factory(Mock()) except Exception: self.fail(""app_factory raised unexpected exception."")",from trove.common.exception import TroveError,278,3
openstack%2Ftrove~master~I8fc3c08c51b4e35a7aa47bd93a8743e22cbf8c75,openstack/trove,master,I8fc3c08c51b4e35a7aa47bd93a8743e22cbf8c75,Added unit-tests for mgmt-cluster-service,MERGED,2015-05-06 21:16:50.000000000,2015-05-13 21:22:38.000000000,2015-05-13 21:22:36.000000000,"[{'_account_id': 3}, {'_account_id': 1870}, {'_account_id': 6413}, {'_account_id': 7634}, {'_account_id': 9782}, {'_account_id': 11783}, {'_account_id': 13355}, {'_account_id': 14576}, {'_account_id': 14829}]","[{'number': 1, 'created': '2015-05-06 21:16:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/39252d53011d62967fc2bcd1fb820200b5fb000b', 'message': 'Added unit-tests for mgmt-cluster-service\n\nTests have been added to improve code-coverage for:\ntrove/extensions/mgmt/clusters/service.py\n\nThis patchset also removes some bugs:\n- trove/extensions/mgmt/clusters/service.py defined\n  management cluster controller with the same name\n  as was the name of parent class, so updated the name\n  from ClusterController to MgmtClusterController\n- ClusterController.action had some code paths which would\n  have never been executed, so removed them,\n  - It has scope of only one action but still has the code to raise exception\n    if multiple actions specified,\n    this was probably coming from copy from management-instance-controller\n    action method which has multiple actions.\n\nChange-Id: I8fc3c08c51b4e35a7aa47bd93a8743e22cbf8c75\nCloses-Bug: #1452455\n'}, {'number': 2, 'created': '2015-05-06 21:19:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/ffc9bfb30b2e7871d428f19e02ed277e6ae15b2e', 'message': 'Added unit-tests for mgmt-cluster-service\n\nTests have been added to improve code-coverage for:\ntrove/extensions/mgmt/clusters/service.py\n\nThis patchset also removes some bugs:\n- trove/extensions/mgmt/clusters/service.py defined\n  management cluster controller with the same name\n  as was the name of parent class, so updated the name\n  from ClusterController to MgmtClusterController\n- ClusterController.action had some code paths which would\n  have never been executed, so removed them,\n  - It has scope of only one action but still has the code to raise exception\n    if multiple actions specified,\n    this was probably coming from copy from management-instance-controller\n    action method which has multiple actions.\n\nChange-Id: I8fc3c08c51b4e35a7aa47bd93a8743e22cbf8c75\nCloses-Bug: #1452455\n'}, {'number': 3, 'created': '2015-05-06 21:23:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/7391d96ed35c87f8de6420d73b61471923080f6c', 'message': 'Added unit-tests for mgmt-cluster-service\n\nTests have been added to improve code-coverage for:\ntrove/extensions/mgmt/clusters/service.py\n\nThis patchset also removes some bugs:\n- trove/extensions/mgmt/clusters/service.py defined\n  management cluster controller with the same name\n  as was the name of parent class, so updated the name\n  from ClusterController to MgmtClusterController\n- ClusterController.action had some code paths which would\n  have never been executed, so removed them,\n  - It has scope of only one action but still has the code to raise exception\n    if multiple actions specified,\n    this was probably coming from copy from management-instance-controller\n    action method which has multiple actions.\n\nChange-Id: I8fc3c08c51b4e35a7aa47bd93a8743e22cbf8c75\nCloses-Bug: #1452455\n'}, {'number': 4, 'created': '2015-05-07 06:26:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/33f14874ab6e01ecf4d67d6d62b49c18df063e27', 'message': 'Added unit-tests for mgmt-cluster-service\n\nTests have been added to improve code-coverage for:\ntrove/extensions/mgmt/clusters/service.py\n\nThis patchset also removes some bugs:\n- trove/extensions/mgmt/clusters/service.py defined\n  management cluster controller with the same name\n  as was the name of parent class, so updated the name\n  from ClusterController to MgmtClusterController\n- ClusterController.action had some code paths which would\n  have never been executed, so removed them,\n  - It has scope of only one action but still has the code to raise exception\n    if multiple actions specified,\n    this was probably coming from copy from management-instance-controller\n    action method which has multiple actions.\n\nChange-Id: I8fc3c08c51b4e35a7aa47bd93a8743e22cbf8c75\nCloses-Bug: #1452455\n'}, {'number': 5, 'created': '2015-05-08 16:21:14.000000000', 'files': ['trove/extensions/routes/mgmt.py', 'trove/tests/unittests/mgmt/test_clusters.py', 'trove/extensions/mgmt/clusters/service.py'], 'web_link': 'https://opendev.org/openstack/trove/commit/8d561dfa75d6eb3e078870b326e5714c4b09e23d', 'message': 'Added unit-tests for mgmt-cluster-service\n\nTests have been added to improve code-coverage for:\ntrove/extensions/mgmt/clusters/service.py\n\nThis patchset also removes some bugs:\n- trove/extensions/mgmt/clusters/service.py defined\n  management cluster controller with the same name\n  as was the name of parent class, so updated the name\n  from ClusterController to MgmtClusterController\n- ClusterController.action had some code paths which would\n  have never been executed, so removed them,\n  - It has scope of only one action but still has the code to raise exception\n    if multiple actions specified,\n    this was probably coming from copy from management-instance-controller\n    action method which has multiple actions.\n- Rewrote the logic to find action from request body,\n  since there is only one valid action, so loop is not needed to be\n  traversed to check through the body for invalid requested action.\n\nChange-Id: I8fc3c08c51b4e35a7aa47bd93a8743e22cbf8c75\nCloses-Bug: #1452455\n'}]",2,180749,8d561dfa75d6eb3e078870b326e5714c4b09e23d,21,9,5,7806,,,0,"Added unit-tests for mgmt-cluster-service

Tests have been added to improve code-coverage for:
trove/extensions/mgmt/clusters/service.py

This patchset also removes some bugs:
- trove/extensions/mgmt/clusters/service.py defined
  management cluster controller with the same name
  as was the name of parent class, so updated the name
  from ClusterController to MgmtClusterController
- ClusterController.action had some code paths which would
  have never been executed, so removed them,
  - It has scope of only one action but still has the code to raise exception
    if multiple actions specified,
    this was probably coming from copy from management-instance-controller
    action method which has multiple actions.
- Rewrote the logic to find action from request body,
  since there is only one valid action, so loop is not needed to be
  traversed to check through the body for invalid requested action.

Change-Id: I8fc3c08c51b4e35a7aa47bd93a8743e22cbf8c75
Closes-Bug: #1452455
",git fetch https://review.opendev.org/openstack/trove refs/changes/49/180749/4 && git format-patch -1 --stdout FETCH_HEAD,"['trove/extensions/routes/mgmt.py', 'trove/tests/unittests/mgmt/test_clusters.py', 'trove/extensions/mgmt/clusters/service.py']",3,39252d53011d62967fc2bcd1fb820200b5fb000b,master,"class MgmtClusterController(ClusterController): return selected_action(context, cluster, body)","class ClusterController(ClusterController): if selected_action is not None: msg = _(""Only one action can be specified per request."") raise exception.BadRequest(msg) if selected_action: return selected_action(context, cluster, body) else: raise exception.BadRequest(_(""Invalid request body.""))",103,10
openstack%2Fnetworking-l2gw~master~Ia92432f0296152116e998ad8418c35ef014f898e,openstack/networking-l2gw,master,Ia92432f0296152116e998ad8418c35ef014f898e,Support for specifying segmentation id optional,MERGED,2015-05-08 11:03:50.000000000,2015-05-13 21:18:07.000000000,2015-05-13 21:18:06.000000000,"[{'_account_id': 3}, {'_account_id': 6558}, {'_account_id': 11614}, {'_account_id': 11670}, {'_account_id': 14323}]","[{'number': 1, 'created': '2015-05-08 11:03:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-l2gw/commit/d806479eb187f152571871691ea08da87d265185', 'message': ""Support for specifying segmentation id optional\n\nThis fix for supporting the '0' segmentation id during l2gateway connection create.\nThis is applied for the use case where some bare metal server can not handle tagged packets(connected to access ports)\n\nChange-Id: Ia92432f0296152116e998ad8418c35ef014f898e\n""}, {'number': 2, 'created': '2015-05-13 09:47:11.000000000', 'files': ['networking_l2gw/services/l2gateway/common/l2gw_validators.py'], 'web_link': 'https://opendev.org/openstack/networking-l2gw/commit/8d6cb1b3f3f3b5605a881d2b95ac4f3045109c94', 'message': ""Support for specifying segmentation id optional\n\nThis fix for supporting the '0' segmentation id during l2gateway connection create.\nThis is applied for the use case where some bare metal server can not handle tagged packets(connected to access ports)\n\nCloses-Bug:1444188\n\nChange-Id: Ia92432f0296152116e998ad8418c35ef014f898e\n""}]",0,181361,8d6cb1b3f3f3b5605a881d2b95ac4f3045109c94,17,5,2,10781,,,0,"Support for specifying segmentation id optional

This fix for supporting the '0' segmentation id during l2gateway connection create.
This is applied for the use case where some bare metal server can not handle tagged packets(connected to access ports)

Closes-Bug:1444188

Change-Id: Ia92432f0296152116e998ad8418c35ef014f898e
",git fetch https://review.opendev.org/openstack/networking-l2gw refs/changes/61/181361/2 && git format-patch -1 --stdout FETCH_HEAD,['networking_l2gw/services/l2gateway/common/l2gw_validators.py'],1,d806479eb187f152571871691ea08da87d265185,bug/1444188, if int_seg_id < 0 or int_seg_id >= 4095:, if int_seg_id <= 0 or int_seg_id >= 4095:,1,1
openstack%2Fheat~stable%2Fjuno~I86eeee07344cbe0b87bbb08faa675608b2204ab9,openstack/heat,stable/juno,I86eeee07344cbe0b87bbb08faa675608b2204ab9,Update juno requirements,ABANDONED,2015-05-12 21:46:34.000000000,2015-05-13 21:15:57.000000000,,"[{'_account_id': 3}, {'_account_id': 4571}, {'_account_id': 9751}]","[{'number': 1, 'created': '2015-05-12 21:46:34.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/heat/commit/69f144067ee4def13d2033e9073eb8fca556bbcf', 'message': 'Update juno requirements\n\nThis change syncs requirements.txt with stable/juno global-requirements.txt\n\nIt is an attempt to fix the heat stable/juno gate jobs.\n\nChange-Id: I86eeee07344cbe0b87bbb08faa675608b2204ab9\n'}]",0,182466,69f144067ee4def13d2033e9073eb8fca556bbcf,7,3,1,4571,,,0,"Update juno requirements

This change syncs requirements.txt with stable/juno global-requirements.txt

It is an attempt to fix the heat stable/juno gate jobs.

Change-Id: I86eeee07344cbe0b87bbb08faa675608b2204ab9
",git fetch https://review.opendev.org/openstack/heat refs/changes/66/182466/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,69f144067ee4def13d2033e9073eb8fca556bbcf,junoreqs,"oslo.utils>=1.4.0,<1.5.0 # Apache-2.0python-ceilometerclient>=1.0.6,<1.0.13python-keystoneclient>=0.10.0,<1.2.0stevedore>=1.0.0,<=1.3.0 # Apache-2.0","oslo.utils>=1.0.0,<=1.2.1 # Apache-2.0python-ceilometerclient>=1.0.6,<=1.0.12python-keystoneclient>=0.10.0,<=1.1.0stevedore>=1.0.0,<=1.2.0 # Apache-2.0",4,4
openstack%2Fproject-config~master~I6ce20d90ddba1b0b2f094f546a1ee7f85bcef6d1,openstack/project-config,master,I6ce20d90ddba1b0b2f094f546a1ee7f85bcef6d1,Switch tempest python 3.4 unit test job to gating,MERGED,2015-05-10 17:12:38.000000000,2015-05-13 21:13:31.000000000,2015-05-13 21:13:30.000000000,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 4146}, {'_account_id': 5196}, {'_account_id': 6547}, {'_account_id': 10035}]","[{'number': 1, 'created': '2015-05-10 17:12:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/7aea8d9ffb7939cae6c61d11ace1b340685c1a5e', 'message': 'Switch tempest python 3.4 unit test job to gating\n\nThis commit switches the tempest unit test job which was previously\nexperimental to run as gating. The unit tests are now working under\npython 3.4 so lets make this job voting to prevent that from\nregressing.\n\nChange-Id: I6ce20d90ddba1b0b2f094f546a1ee7f85bcef6d1\nDepends-On: Icf9090df83f8266a4683c88995c547e3c1bff523\n'}, {'number': 2, 'created': '2015-05-10 17:43:16.000000000', 'files': ['zuul/layout.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/c968ac6b003a12aaebeb262681370f7b248afcf0', 'message': 'Switch tempest python 3.4 unit test job to gating\n\nThis commit switches the tempest unit test job which was previously\nexperimental to run as gating. The unit tests are now working under\npython 3.4 so lets make this job voting to prevent that from\nregressing.\n\nChange-Id: I6ce20d90ddba1b0b2f094f546a1ee7f85bcef6d1\nDepends-On: Icf9090df83f8266a4683c88995c547e3c1bff523\n'}]",0,181747,c968ac6b003a12aaebeb262681370f7b248afcf0,16,6,2,5196,,,0,"Switch tempest python 3.4 unit test job to gating

This commit switches the tempest unit test job which was previously
experimental to run as gating. The unit tests are now working under
python 3.4 so lets make this job voting to prevent that from
regressing.

Change-Id: I6ce20d90ddba1b0b2f094f546a1ee7f85bcef6d1
Depends-On: Icf9090df83f8266a4683c88995c547e3c1bff523
",git fetch https://review.opendev.org/openstack/project-config refs/changes/47/181747/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul/layout.yaml'],1,7aea8d9ffb7939cae6c61d11ace1b340685c1a5e,tempest-py3, - gate-tempest-python34 - gate-tempest-python34, - gate-tempest-python34,2,1
openstack%2Fkolla~master~Ic932455fe341cdb7acfe79c53a450071d1d2b1b6,openstack/kolla,master,Ic932455fe341cdb7acfe79c53a450071d1d2b1b6,Fix image build for barbican,MERGED,2015-05-08 19:47:56.000000000,2015-05-13 21:13:13.000000000,2015-05-13 21:13:12.000000000,"[{'_account_id': 3}, {'_account_id': 2834}, {'_account_id': 3098}, {'_account_id': 13039}, {'_account_id': 15697}]","[{'number': 1, 'created': '2015-05-08 19:47:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/153ec3a2033fe41d432a2f8921300ed5f9ec1af9', 'message': 'Fix image build for barbican\n\ntar package was missing\n\nChange-Id: Ic932455fe341cdb7acfe79c53a450071d1d2b1b6\n'}, {'number': 2, 'created': '2015-05-11 19:13:00.000000000', 'files': ['docker/barbican/Dockerfile'], 'web_link': 'https://opendev.org/openstack/kolla/commit/0976ba6b21d18186f5cc6179bec94aad5d1eabe8', 'message': 'Fix image build for barbican\n\ntar package was missing\n\nChange-Id: Ic932455fe341cdb7acfe79c53a450071d1d2b1b6\n'}]",2,181521,0976ba6b21d18186f5cc6179bec94aad5d1eabe8,16,5,2,3098,,,0,"Fix image build for barbican

tar package was missing

Change-Id: Ic932455fe341cdb7acfe79c53a450071d1d2b1b6
",git fetch https://review.opendev.org/openstack/kolla refs/changes/21/181521/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/barbican/Dockerfile'],1,153ec3a2033fe41d432a2f8921300ed5f9ec1af9,imagebuilding,RUN yum install -y gcc Cython sqlite-devel mysql-devel libffi-devel tar && yum clean all,RUN yum install -y gcc Cython sqlite-devel mysql-devel libffi-devel && yum clean all,1,1
openstack%2Foctavia~master~I48fcb64839f46e4ce0754cd9b25b47cd13b7fd75,openstack/octavia,master,I48fcb64839f46e4ce0754cd9b25b47cd13b7fd75,Updating member flow,MERGED,2015-05-08 16:05:59.000000000,2015-05-13 21:11:07.000000000,2015-05-13 21:11:07.000000000,"[{'_account_id': 3}, {'_account_id': 10850}, {'_account_id': 11302}, {'_account_id': 11628}, {'_account_id': 12403}]","[{'number': 1, 'created': '2015-05-08 16:05:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/5da0534a24d9e6347ff2713454ab6f20b6724cdd', 'message': 'Updating member flow\n\nAdding ability to plug networks when creating member.\n\nChange-Id: I48fcb64839f46e4ce0754cd9b25b47cd13b7fd75\n'}, {'number': 2, 'created': '2015-05-11 01:46:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/d32aeed2212a7e64562f46cd82004a4cc3e96985', 'message': 'Updating member flow\n\nAdding ability to plug networks when creating member.\n\nChange-Id: I48fcb64839f46e4ce0754cd9b25b47cd13b7fd75\n'}, {'number': 3, 'created': '2015-05-11 04:58:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/6be4a9bbfec9187eee90e80848e07885895d6622', 'message': 'Updating member flow\n\nAdding ability to plug networks when creating member.\n\nChange-Id: I48fcb64839f46e4ce0754cd9b25b47cd13b7fd75\n'}, {'number': 4, 'created': '2015-05-11 14:51:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/fb989154513779202f558dbca8683ff6a62831a3', 'message': 'Updating member flow\n\nAdding ability to plug networks when creating member.\n\nChange-Id: I48fcb64839f46e4ce0754cd9b25b47cd13b7fd75\n'}, {'number': 5, 'created': '2015-05-11 17:10:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/a3a4caa8abd48c9e8c10d723bedcee901a40d24f', 'message': 'Updating member flow\n\nAdding ability to plug networks when creating member.\n\nChange-Id: I48fcb64839f46e4ce0754cd9b25b47cd13b7fd75\n'}, {'number': 6, 'created': '2015-05-12 02:26:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/939141202d4f19d6f9800612a94837394c71eb5b', 'message': 'Updating member flow\n\nAdding ability to plug networks when creating member.\n\nChange-Id: I48fcb64839f46e4ce0754cd9b25b47cd13b7fd75\n'}, {'number': 7, 'created': '2015-05-12 16:31:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/0a0ab510192a4463aee4c30e4e9c7d31b4f2f3a9', 'message': 'Updating member flow\n\nAdding ability to plug networks when creating member.\n\nChange-Id: I48fcb64839f46e4ce0754cd9b25b47cd13b7fd75\n'}, {'number': 8, 'created': '2015-05-12 20:59:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/3895cf977eae0b51fdc722a7a0a8162666ecdb33', 'message': 'Updating member flow\n\nAdding ability to plug networks when creating member.\n\nChange-Id: I48fcb64839f46e4ce0754cd9b25b47cd13b7fd75\n'}, {'number': 9, 'created': '2015-05-13 07:34:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/8b8943623ef90cf17753bd85a2ff063ac7ce82b5', 'message': 'Updating member flow\n\nAdding ability to plug networks when creating member.\n\nChange-Id: I48fcb64839f46e4ce0754cd9b25b47cd13b7fd75\n'}, {'number': 10, 'created': '2015-05-13 08:46:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/20993aa3a8774e81e729d102f19450d6d1ba64c3', 'message': 'Updating member flow\n\nAdding ability to plug networks when creating member.\n\nChange-Id: I48fcb64839f46e4ce0754cd9b25b47cd13b7fd75\n'}, {'number': 11, 'created': '2015-05-13 08:56:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/a387422c6222afbfea0baa85713e5ffde7a2827a', 'message': 'Updating member flow\n\nAdding ability to plug networks when creating member.\n\nChange-Id: I48fcb64839f46e4ce0754cd9b25b47cd13b7fd75\n'}, {'number': 12, 'created': '2015-05-13 15:59:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/ec600b48719e13106a3854cdfa52b643f29b11fb', 'message': 'Updating member flow\n\nAdding ability to plug networks when creating member.\n\nChange-Id: I48fcb64839f46e4ce0754cd9b25b47cd13b7fd75\n'}, {'number': 13, 'created': '2015-05-13 16:22:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/7e47a05d9814d4e185701a86bdbc33942816bdc9', 'message': 'Updating member flow\n\nAdding ability to plug networks when creating member.\n\nChange-Id: I48fcb64839f46e4ce0754cd9b25b47cd13b7fd75\n'}, {'number': 14, 'created': '2015-05-13 18:29:20.000000000', 'files': ['octavia/common/constants.py', 'octavia/tests/unit/controller/worker/flows/test_member_flows.py', 'octavia/tests/unit/controller/worker/tasks/test_amphora_driver_tasks.py', 'octavia/controller/worker/tasks/amphora_driver_tasks.py', 'octavia/controller/worker/flows/member_flows.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/8cfdb9d1167fea8566b01424caf58780e0a0dd7a', 'message': 'Updating member flow\n\nAdding ability to plug networks when creating member.\n\nChange-Id: I48fcb64839f46e4ce0754cd9b25b47cd13b7fd75\n'}]",0,181443,8cfdb9d1167fea8566b01424caf58780e0a0dd7a,39,5,14,11302,,,0,"Updating member flow

Adding ability to plug networks when creating member.

Change-Id: I48fcb64839f46e4ce0754cd9b25b47cd13b7fd75
",git fetch https://review.opendev.org/openstack/octavia refs/changes/43/181443/9 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/controller/worker/flows/member_flows.py', 'octavia/controller/worker/controller_worker.py']",2,5da0534a24d9e6347ff2713454ab6f20b6724cdd,(detached," amphora = load_balancer.amphora 'vip': vip, 'amphora': amphora})", 'vip': vip}),12,3
openstack%2Ftempest~master~Idf8c0e9858451507c9ac0cfae747f90c6feb7f1e,openstack/tempest,master,Idf8c0e9858451507c9ac0cfae747f90c6feb7f1e,Use six.moves.builtins to mock open in unit tests,MERGED,2015-04-24 20:01:52.000000000,2015-05-13 21:11:00.000000000,2015-05-12 21:36:07.000000000,"[{'_account_id': 3}, {'_account_id': 1192}, {'_account_id': 5196}, {'_account_id': 5803}, {'_account_id': 6167}, {'_account_id': 7020}, {'_account_id': 10385}]","[{'number': 1, 'created': '2015-04-24 20:01:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/a25bc85cbe08a3ef4a714b63868d2f15aa4fbc9d', 'message': 'Use six.moves.builtins to mock open in unit tests\n\nThis commit switches all the mocks for the open call to use the six\nbuiltins module instead of __builtin__. This is needed because on\npython 3 it was renamed to builtins, so to enable running the unit\ntests on either environment we need to leverage the six module.\n\nChange-Id: Idf8c0e9858451507c9ac0cfae747f90c6feb7f1e\n'}, {'number': 2, 'created': '2015-04-27 14:39:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/a980cfcf04beaf20f248da5c97d0dee54b8cc74b', 'message': 'Use six.moves.builtins to mock open in unit tests\n\nThis commit switches all the mocks for the open call to use the six\nbuiltins module instead of __builtin__. This is needed because on\npython 3 it was renamed to builtins, so to enable running the unit\ntests on either environment we need to leverage the six module.\n\nChange-Id: Idf8c0e9858451507c9ac0cfae747f90c6feb7f1e\n'}, {'number': 3, 'created': '2015-05-01 21:34:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/f09923cdbbdb2b2aa5f84451346734d83b1899b3', 'message': 'Use six.moves.builtins to mock open in unit tests\n\nThis commit switches all the mocks for the open call to use the six\nbuiltins module instead of __builtin__. This is needed because on\npython 3 it was renamed to builtins, so to enable running the unit\ntests on either environment we need to leverage the six module.\n\nChange-Id: Idf8c0e9858451507c9ac0cfae747f90c6feb7f1e\n'}, {'number': 4, 'created': '2015-05-10 17:08:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/47a875335561d7e02c4e7a544d8fa6ddf012d8a1', 'message': 'Use six.moves.builtins to mock open in unit tests\n\nThis commit switches all the mocks for the open call to use the six\nbuiltins module instead of __builtin__. This is needed because on\npython 3 it was renamed to builtins, so to enable running the unit\ntests on either environment we need to leverage the six module.\n\nChange-Id: Idf8c0e9858451507c9ac0cfae747f90c6feb7f1e\n'}, {'number': 5, 'created': '2015-05-12 18:56:38.000000000', 'files': ['tempest/tests/common/utils/test_file_utils.py', 'tempest/tests/common/test_accounts.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/53d0dc04e2bada7bb699ea9b697ec95263d85e37', 'message': 'Use six.moves.builtins to mock open in unit tests\n\nThis commit switches all the mocks for the open call to use the six\nbuiltins module instead of __builtin__. This is needed because on\npython 3 it was renamed to builtins, so to enable running the unit\ntests on either environment we need to leverage the six module.\n\nChange-Id: Idf8c0e9858451507c9ac0cfae747f90c6feb7f1e\n'}]",0,177425,53d0dc04e2bada7bb699ea9b697ec95263d85e37,26,7,5,5196,,,0,"Use six.moves.builtins to mock open in unit tests

This commit switches all the mocks for the open call to use the six
builtins module instead of __builtin__. This is needed because on
python 3 it was renamed to builtins, so to enable running the unit
tests on either environment we need to leverage the six module.

Change-Id: Idf8c0e9858451507c9ac0cfae747f90c6feb7f1e
",git fetch https://review.opendev.org/openstack/tempest refs/changes/25/177425/1 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/tests/common/utils/test_file_utils.py', 'tempest/tests/common/test_accounts.py']",2,a25bc85cbe08a3ef4a714b63868d2f15aa4fbc9d,python3-support," with mock.patch('six.moves.builtins.open', mock.mock_open(), create=True): with mock.patch('six.moves.builtins.open', mock.mock_open(), create=True): with mock.patch('six.moves.builtins.open', mock.mock_open(), with mock.patch('six.moves.builtins.open', mock.mock_open(), create=True): with mock.patch('six.moves.builtins.open', mock.mock_open(),"," with mock.patch('__builtin__.open', mock.mock_open(), create=True): with mock.patch('__builtin__.open', mock.mock_open(), create=True): with mock.patch('__builtin__.open', mock.mock_open(), with mock.patch('__builtin__.open', mock.mock_open(), create=True): with mock.patch('__builtin__.open', mock.mock_open(),",10,6
openstack%2Foctavia~master~I698625e4e2e7352cb3000e22de808c33fa7636ed,openstack/octavia,master,I698625e4e2e7352cb3000e22de808c33fa7636ed,Updates for calculate delta task,MERGED,2015-05-09 03:01:14.000000000,2015-05-13 21:10:52.000000000,2015-05-13 21:10:51.000000000,"[{'_account_id': 3}, {'_account_id': 6951}, {'_account_id': 10850}, {'_account_id': 11302}, {'_account_id': 11628}, {'_account_id': 12403}]","[{'number': 1, 'created': '2015-05-09 03:01:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/9cbb09f4c583de77215e8639ec6daea558c4530f', 'message': 'Updates for calculate delta task\n\nMember has subnet_id and we need to compare with network_id.\nIn order to do this CalculateDelta task now takes in a load balancer\nloops through the amphora, collects the plugged networks\nand gathers the network_ids from member subnet_ids and\nbuilds the list accordingly.\n\nUpdates network_tasks CalculateDelta\nUpdates driver adding method to get network\nUpdates tests and other required code\n\nChange-Id: I698625e4e2e7352cb3000e22de808c33fa7636ed\n'}, {'number': 2, 'created': '2015-05-10 07:06:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/efea081558faa989b0a8fd0ac48f938511390b36', 'message': 'Updates for calculate delta task\n\nMember has subnet_id and we need to compare with network_id.\nIn order to do this CalculateDelta task now takes in a load balancer\nloops through the amphora, collects the plugged networks\nand gathers the network_ids from member subnet_ids and\nbuilds the list accordingly.\n\nUpdates network_tasks CalculateDelta\nUpdates driver adding method to get network\nUpdates tests and other required code\n\nChange-Id: I698625e4e2e7352cb3000e22de808c33fa7636ed\n'}, {'number': 3, 'created': '2015-05-10 07:14:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/93837e58a6b7a1e0962256087c012143c9e55dff', 'message': 'Updates for calculate delta task\n\nMember has subnet_id and we need to compare with network_id.\nIn order to do this CalculateDelta task now takes in a load balancer\nloops through the amphora, collects the plugged networks\nand gathers the network_ids from member subnet_ids and\nbuilds the list accordingly.\n\nUpdates network_tasks CalculateDelta\nUpdates driver adding method to get network\nUpdates tests, spec and other required code\n\nChange-Id: I698625e4e2e7352cb3000e22de808c33fa7636ed\n'}, {'number': 4, 'created': '2015-05-11 04:53:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/6aa814cbc10621b36713993183e446651733f338', 'message': 'Updates for calculate delta task\n\nMember has subnet_id and we need to compare with network_id.\nIn order to do this CalculateDelta task now takes in a load balancer\nloops through the amphora, collects the plugged networks\nand gathers the network_ids from member subnet_ids and\nbuilds the list accordingly.\n\nUpdates network_tasks CalculateDelta\nUpdates network_tasks adding method to handle deltas\nUpdates driver adding method to get network\nUpdates tests, spec and other required code\n\nChange-Id: I698625e4e2e7352cb3000e22de808c33fa7636ed\n'}, {'number': 5, 'created': '2015-05-11 17:03:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/d5762e85fce9a934895bd8055824ed0b20a26d70', 'message': 'Updates for calculate delta task\n\nMember has subnet_id and we need to compare with network_id.\nIn order to do this CalculateDelta task now takes in a load balancer\nloops through the amphora, collects the plugged networks\nand gathers the network_ids from member subnet_ids and\nbuilds the list accordingly.\n\nUpdates network_tasks CalculateDelta\nUpdates network_tasks adding method to handle deltas\nUpdates driver adding method to get network\nUpdates tests, spec and other required code\n\nChange-Id: I698625e4e2e7352cb3000e22de808c33fa7636ed\n'}, {'number': 6, 'created': '2015-05-12 02:26:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/a4f486b5863a3ecbad894a3eb78e62ebb7f7531d', 'message': 'Updates for calculate delta task\n\nMember has subnet_id and we need to compare with network_id.\nIn order to do this CalculateDelta task now takes in a load balancer\nloops through the amphora, collects the plugged networks\nand gathers the network_ids from member subnet_ids and\nbuilds the list accordingly.\n\nUpdates network_tasks CalculateDelta\nUpdates network_tasks adding method to handle deltas\nUpdates driver adding method to get network\nUpdates tests, spec and other required code\n\nChange-Id: I698625e4e2e7352cb3000e22de808c33fa7636ed\n'}, {'number': 7, 'created': '2015-05-12 16:30:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/9f0a31a2db83fa6eca13bbdaec06641dc957822a', 'message': 'Updates for calculate delta task\n\nMember has subnet_id and we need to compare with network_id.\nIn order to do this CalculateDelta task now takes in a load balancer\nloops through the amphora, collects the plugged networks\nand gathers the network_ids from member subnet_ids and\nbuilds the list accordingly.\n\nUpdates network_tasks CalculateDelta\nUpdates network_tasks adding method to handle deltas\nUpdates driver adding method to get network\nUpdates tests, spec and other required code\n\nChange-Id: I698625e4e2e7352cb3000e22de808c33fa7636ed\n'}, {'number': 8, 'created': '2015-05-12 20:59:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/172d7653d5c5d4768d6fe085a171229c0dd23737', 'message': 'Updates for calculate delta task\n\nMember has subnet_id and we need to compare with network_id.\nIn order to do this CalculateDelta task now takes in a load balancer\nloops through the amphora, collects the plugged networks\nand gathers the network_ids from member subnet_ids and\nbuilds the list accordingly.\n\nUpdates network_tasks CalculateDelta\nUpdates network_tasks adding method to handle deltas\nUpdates driver adding method to get network\nUpdates tests, spec and other required code\n\nChange-Id: I698625e4e2e7352cb3000e22de808c33fa7636ed\n'}, {'number': 9, 'created': '2015-05-13 07:15:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/6712d1f99f1e859fb1c4499a678c19c2286a8bbf', 'message': 'Updates for calculate delta task\n\nMember has subnet_id and we need to compare with network_id.\nIn order to do this CalculateDelta task now takes in a load balancer\nloops through the amphora, collects the plugged networks\nand gathers the network_ids from member subnet_ids and\nbuilds the list accordingly.\n\nUpdates network_tasks CalculateDelta\nUpdates network_tasks adding method to handle deltas\nUpdates driver adding method to get network\nUpdates tests, spec and other required code\n\nChange-Id: I698625e4e2e7352cb3000e22de808c33fa7636ed\n'}, {'number': 10, 'created': '2015-05-13 07:16:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/1436c51bb4b87f70b4eae1eac89b43a420873a10', 'message': 'Updates for calculate delta task\n\nMember has subnet_id and we need to compare with network_id.\nIn order to do this CalculateDelta task now takes in a load balancer\nloops through the amphora, collects the plugged networks\nand gathers the network_ids from member subnet_ids and\nbuilds the list accordingly.\n\nUpdates network_tasks CalculateDelta\nUpdates network_tasks adding method to handle deltas\nUpdates driver adding method to get network\nUpdates tests, spec and other required code\n\nChange-Id: I698625e4e2e7352cb3000e22de808c33fa7636ed\n'}, {'number': 11, 'created': '2015-05-13 18:29:10.000000000', 'files': ['specs/version0.5/network-driver-interface.rst', 'octavia/common/constants.py', 'octavia/network/base.py', 'octavia/tests/unit/controller/worker/tasks/test_network_tasks.py', 'octavia/network/data_models.py', 'octavia/network/drivers/noop_driver/driver.py', 'octavia/controller/worker/tasks/network_tasks.py', 'octavia/network/drivers/neutron/allowed_address_pairs.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/a3f53841f827971e519266823c543b5398e67bab', 'message': 'Updates for calculate delta task\n\nMember has subnet_id and we need to compare with network_id.\nIn order to do this CalculateDelta task now takes in a load balancer\nloops through the amphora, collects the plugged networks\nand gathers the network_ids from member subnet_ids and\nbuilds the list accordingly.\n\nUpdates network_tasks CalculateDelta\nUpdates network_tasks adding method to handle deltas\nUpdates driver adding method to get network\nUpdates tests, spec and other required code\n\nChange-Id: I698625e4e2e7352cb3000e22de808c33fa7636ed\n'}]",4,181604,a3f53841f827971e519266823c543b5398e67bab,36,6,11,11302,,,0,"Updates for calculate delta task

Member has subnet_id and we need to compare with network_id.
In order to do this CalculateDelta task now takes in a load balancer
loops through the amphora, collects the plugged networks
and gathers the network_ids from member subnet_ids and
builds the list accordingly.

Updates network_tasks CalculateDelta
Updates network_tasks adding method to handle deltas
Updates driver adding method to get network
Updates tests, spec and other required code

Change-Id: I698625e4e2e7352cb3000e22de808c33fa7636ed
",git fetch https://review.opendev.org/openstack/octavia refs/changes/04/181604/5 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/network/base.py', 'octavia/tests/unit/controller/worker/tasks/test_network_tasks.py', 'octavia/network/drivers/noop_driver/driver.py', 'octavia/controller/worker/tasks/network_tasks.py', 'octavia/network/drivers/neutron/allowed_address_pairs.py']",5,9cbb09f4c583de77215e8639ec6daea558c4530f,(detached," def get_network(self, network_id=None, subnet_id=None): network = None try: if network_id: network = self.neutron_client.show_network(network_id) elif subnet_id: subnet = (self.neutron_client.show_subnet(subnet_id) .get('subnet').get('network_id')) network = self.neutron_client.show_network(subnet) except Exception: message = _LE('Error retrieving network ' '(network id: {network_id} ' 'and subnet id: {subnet_id}.').format( network_id=network_id, subnet_id=subnet_id) LOG.exception(message) raise base.NetworkException(message) return network",,86,33
openstack%2Fnova-powervm~master~Id8a77e20ede3ec3339ef5e5910e05943683a2b6c,openstack/nova-powervm,master,Id8a77e20ede3ec3339ef5e5910e05943683a2b6c,Sanitize config ISO name,MERGED,2015-05-08 20:52:22.000000000,2015-05-13 20:51:37.000000000,2015-05-13 20:51:36.000000000,"[{'_account_id': 3}, {'_account_id': 8190}, {'_account_id': 8662}, {'_account_id': 13883}, {'_account_id': 14070}]","[{'number': 1, 'created': '2015-05-08 20:52:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-powervm/commit/6731e809a7b8dd2aa2ccf80815b53d7bd25debf6', 'message': ""Sanitize config ISO name\n\nPreviously, we were using the instance's name to generate the name of\nits config ISO.  Since the format of the instance name is very\npermissive, this can lead to rejection of the name by the PowerVM REST\nAPI:\n\nValue 'Linux Test_0ce757b1_thorst_config.iso' is not facet-valid with\nrespect to pattern '([A-Za-z0-9_\\.]{1,79})' for type 'FileName.Pattern'.\n\nThis change set uses a substring of the instance's UUID instead, along\nwith the prefix 'config_'.  The result is guaranteed to conform to the\nregex expected by PowerVM.\n\nChange-Id: Id8a77e20ede3ec3339ef5e5910e05943683a2b6c\n""}, {'number': 2, 'created': '2015-05-12 22:46:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-powervm/commit/3f50ebfaee23cbdfe465725d186411da4e0ed1cd', 'message': ""Sanitize config ISO name\n\nPreviously, we were using the instance's name verbatim to generate the\nname of its config ISO.  Since the format of the instance name is very\npermissive, this can lead to rejection of the name by the PowerVM REST\nAPI:\n\nValue 'Linux Test_0ce757b1_thorst_config.iso' is not facet-valid with\nrespect to pattern '([A-Za-z0-9_\\.]{1,79})' for type 'FileName.Pattern'.\n\nThis change set exploits a new pypowervm utility to sanitize the\ninstance name and combine it with the desired prefix and suffix to\ngenerate a valid config ISO name.\n\nThe same is being done for an instance's boot/rescue disks and image LUs\n(for SSP).\n\nChange-Id: Id8a77e20ede3ec3339ef5e5910e05943683a2b6c\n""}, {'number': 3, 'created': '2015-05-13 19:32:08.000000000', 'files': ['nova_powervm/tests/virt/powervm/disk/test_ssp.py', 'nova_powervm/virt/powervm/media.py', 'nova_powervm/tests/virt/powervm/test_media.py', 'nova_powervm/virt/powervm/disk/driver.py'], 'web_link': 'https://opendev.org/openstack/nova-powervm/commit/a0ed70408cb0798891ace4f613cf9a58615fc3a5', 'message': ""Sanitize config ISO name\n\nPreviously, we were using the instance's name verbatim to generate the\nname of its config ISO.  Since the format of the instance name is very\npermissive, this can lead to rejection of the name by the PowerVM REST\nAPI:\n\nValue 'Linux Test_0ce757b1_thorst_config.iso' is not facet-valid with\nrespect to pattern '([A-Za-z0-9_\\.]{1,79})' for type 'FileName.Pattern'.\n\nThis change set exploits a new pypowervm utility to sanitize the\ninstance name and combine it with the desired prefix and suffix to\ngenerate a valid config ISO name.\n\nThe same is being done for an instance's boot/rescue disks and image LUs\n(for SSP).\n\nChange-Id: Id8a77e20ede3ec3339ef5e5910e05943683a2b6c\n""}]",3,181552,a0ed70408cb0798891ace4f613cf9a58615fc3a5,18,5,3,14070,,,0,"Sanitize config ISO name

Previously, we were using the instance's name verbatim to generate the
name of its config ISO.  Since the format of the instance name is very
permissive, this can lead to rejection of the name by the PowerVM REST
API:

Value 'Linux Test_0ce757b1_thorst_config.iso' is not facet-valid with
respect to pattern '([A-Za-z0-9_\.]{1,79})' for type 'FileName.Pattern'.

This change set exploits a new pypowervm utility to sanitize the
instance name and combine it with the desired prefix and suffix to
generate a valid config ISO name.

The same is being done for an instance's boot/rescue disks and image LUs
(for SSP).

Change-Id: Id8a77e20ede3ec3339ef5e5910e05943683a2b6c
",git fetch https://review.opendev.org/openstack/nova-powervm refs/changes/52/181552/3 && git format-patch -1 --stdout FETCH_HEAD,"['nova_powervm/virt/powervm/media.py', 'nova_powervm/tests/virt/powervm/test_media.py']",2,6731e809a7b8dd2aa2ccf80815b53d7bd25debf6,sanitize_config_iso_name," mock_instance.uuid = '1e46bbfd-73b6-3c2a-aeab-a1d3f065e92f' self.assertEqual('config_1e46bbfd.iso', file_name) self.assertEqual('/tmp/cfgdrv/config_1e46bbfd.iso', iso_path)"," self.assertEqual('fake_instance_config.iso', file_name) self.assertEqual('/tmp/cfgdrv/fake_instance_config.iso', iso_path)",4,3
openstack%2Fdiskimage-builder~master~I8cf274913a16404941770d0c6115bd6feec1ccb8,openstack/diskimage-builder,master,I8cf274913a16404941770d0c6115bd6feec1ccb8,Add packages required for iscsi extension in agent,MERGED,2015-04-29 02:06:12.000000000,2015-05-13 20:47:37.000000000,2015-05-13 20:47:35.000000000,"[{'_account_id': 3}, {'_account_id': 6488}, {'_account_id': 9315}, {'_account_id': 10035}]","[{'number': 1, 'created': '2015-04-29 02:06:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/081755787f9117a252ca4c4c61e8bc04a9869f0a', 'message': ""Add packages required for iscsi extension in agent\n\nIn Kilo, we added added an iscsi extension in\nironic-python-agent which requires tgtd and tgtadm.\nThis commit adds scsi-target-utils to the ramdisk for\nthis.\n\nAlso the git protocol for retrieving the source code is\nchanged to http.  Git protocol doesn't go through a proxy,\nbut http can.\n\nChange-Id: I8cf274913a16404941770d0c6115bd6feec1ccb8\n""}, {'number': 2, 'created': '2015-04-29 05:49:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/14506be16d36413d5b21716dbdd8f1e008cb9440', 'message': ""Add packages required for iscsi extension in agent\n\nIn Kilo, we added added an iscsi extension in\nironic-python-agent which requires tgtd and tgtadm.\nThis commit adds scsi-target-utils to the ramdisk for\nthis.\n\nAlso the git protocol for retrieving the source code is\nchanged to http.  Git protocol doesn't go through a proxy,\nbut http can.\n\nCloses-Bug: 1449854\nChange-Id: I8cf274913a16404941770d0c6115bd6feec1ccb8\n""}, {'number': 3, 'created': '2015-05-04 07:08:44.000000000', 'files': ['elements/ironic-agent/source-repository-ironic-agent', 'elements/ironic-agent/package-installs.yaml'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/45db8f1280a2d5f2128f75ec3192c6887837b015', 'message': ""Add packages required for iscsi extension in agent\n\nIn Kilo, we added added an iscsi extension in\nironic-python-agent which requires tgtd and tgtadm.\nThis commit adds scsi-target-utils to the ramdisk for\nthis.\n\nAlso the git protocol for retrieving the source code is\nchanged to http.  Git protocol doesn't go through a proxy,\nbut http can.\n\nCloses-Bug: 1449854\nChange-Id: I8cf274913a16404941770d0c6115bd6feec1ccb8\n""}]",2,178476,45db8f1280a2d5f2128f75ec3192c6887837b015,28,4,3,9315,,,0,"Add packages required for iscsi extension in agent

In Kilo, we added added an iscsi extension in
ironic-python-agent which requires tgtd and tgtadm.
This commit adds scsi-target-utils to the ramdisk for
this.

Also the git protocol for retrieving the source code is
changed to http.  Git protocol doesn't go through a proxy,
but http can.

Closes-Bug: 1449854
Change-Id: I8cf274913a16404941770d0c6115bd6feec1ccb8
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/76/178476/3 && git format-patch -1 --stdout FETCH_HEAD,"['elements/ironic-agent/source-repository-ironic-agent', 'elements/ironic-agent/package-installs.yaml']",2,081755787f9117a252ca4c4c61e8bc04a9869f0a,bug/1449854,scsi-target-utils: ,,2,1
openstack%2Fheat~master~Ie29a7781eb06ee58eb347c924b9110100ddd56f9,openstack/heat,master,Ie29a7781eb06ee58eb347c924b9110100ddd56f9,Sync oslo incubator,MERGED,2015-05-12 14:43:10.000000000,2015-05-13 20:47:08.000000000,2015-05-13 20:47:06.000000000,"[{'_account_id': 3}, {'_account_id': 4328}, {'_account_id': 6577}, {'_account_id': 6899}, {'_account_id': 10487}]","[{'number': 1, 'created': '2015-05-12 14:43:10.000000000', 'files': ['heat/openstack/common/service.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/c29af45c336c892a1093aa66277302706948eed5', 'message': 'Sync oslo incubator\n\nSync with oslo incubator at commit\n0fb9dcd54d4e08d9ac8f9764a38c68911b287200\nThis fixes an issue with heat engine shutdown.\n\nChange-Id: Ie29a7781eb06ee58eb347c924b9110100ddd56f9\n'}]",0,182328,c29af45c336c892a1093aa66277302706948eed5,10,5,1,7385,,,0,"Sync oslo incubator

Sync with oslo incubator at commit
0fb9dcd54d4e08d9ac8f9764a38c68911b287200
This fixes an issue with heat engine shutdown.

Change-Id: Ie29a7781eb06ee58eb347c924b9110100ddd56f9
",git fetch https://review.opendev.org/openstack/heat refs/changes/28/182328/1 && git format-patch -1 --stdout FETCH_HEAD,['heat/openstack/common/service.py'],1,c29af45c336c892a1093aa66277302706948eed5,sync-oslo,"import io except io.UnsupportedOperation: # Could not get the fileno for stdout, so we must be a daemon. is_daemon = True _signal_handlers_set = set() @classmethod def _handle_class_signals(cls, *args, **kwargs): for handler in cls._signal_handlers_set: handler(*args, **kwargs) def __init__(self, wait_interval=0.01): """"""Constructor. :param wait_interval: The interval to sleep for between checks of child process exit. """""" self.wait_interval = wait_interval self._signal_handlers_set.add(self._handle_signal) _set_signals_handler(self._handle_class_signals) self.readpipe.read(1) # Parent signals with SIGTERM when it wants us to go away. signal.signal(signal.SIGTERM, signal.SIG_DFL) # Don't block if no child processes have exited pid, status = os.waitpid(0, os.WNOHANG) # Yield to other threads if no children have exited # Sleep for a short time to avoid excessive CPU usage # (see bug #1095346) eventlet.greenthread.sleep(self.wait_interval) cfg.CONF.reload_config_files() for service in set( [wrap.service for wrap in self.children.values()]): service.reset() ","try: # Importing just the symbol here because the io module does not # exist in Python 2.6. from io import UnsupportedOperation # noqa except ImportError: # Python 2.6 UnsupportedOperation = None except UnsupportedOperation: # Could not get the fileno for stdout, so we must be a daemon. is_daemon = True def __init__(self): """"""Constructor."""""" _set_signals_handler(self._handle_signal) self.readpipe.read() def _sigterm(*args): signal.signal(signal.SIGTERM, signal.SIG_DFL) raise SignalExit(signal.SIGTERM) signal.signal(signal.SIGTERM, _sigterm) # Block while any of child processes have exited pid, status = os.waitpid(0, 0)",34,22
openstack%2Fsahara~master~Id2f00e0aadc8aac5c79ebec5e55e13c2964c7fec,openstack/sahara,master,Id2f00e0aadc8aac5c79ebec5e55e13c2964c7fec,Implementation of Storm scaling,MERGED,2015-04-29 20:42:49.000000000,2015-05-13 20:45:40.000000000,2015-05-13 20:45:39.000000000,"[{'_account_id': 3}, {'_account_id': 6786}, {'_account_id': 7213}, {'_account_id': 7535}, {'_account_id': 8090}, {'_account_id': 8091}, {'_account_id': 8411}, {'_account_id': 8932}, {'_account_id': 10670}, {'_account_id': 12038}]","[{'number': 1, 'created': '2015-04-29 20:42:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/5aa0534a46933dc3bed65319a9b49b25c6a05367', 'message': 'Implementation of Storm scaling\n\nImplementation of Storm scaling. This will allow users to quickly scale\na storm cluster.\n\nChange-Id: Id2f00e0aadc8aac5c79ebec5e55e13c2964c7fec\nImplements: bp storm-scaling\n'}, {'number': 2, 'created': '2015-05-06 13:52:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/e1d2238d7e944a5ede1dc63d7e4f6b0479b388e1', 'message': 'Implementation of Storm scaling\n\nImplementation of Storm scaling. This will allow users to quickly scale\na storm cluster.\n\nChange-Id: Id2f00e0aadc8aac5c79ebec5e55e13c2964c7fec\nImplements: bp storm-scaling\n'}, {'number': 3, 'created': '2015-05-06 16:31:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/f6b48169407e0c258c5965b2fcc7235bb4a30eb4', 'message': 'Implementation of Storm scaling\n\nImplementation of Storm scaling. This will allow users to quickly scale\na storm cluster.\n\nChange-Id: Id2f00e0aadc8aac5c79ebec5e55e13c2964c7fec\nImplements: bp storm-scaling\n'}, {'number': 4, 'created': '2015-05-08 13:12:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/9e14f08ef4b2b69457ca3b339c733e123d25c400', 'message': 'Implementation of Storm scaling\n\nImplementation of Storm scaling. This will allow users to quickly scale\na storm cluster.\n\nChange-Id: Id2f00e0aadc8aac5c79ebec5e55e13c2964c7fec\nImplements: bp storm-scaling\n'}, {'number': 5, 'created': '2015-05-11 19:36:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/207f59cc15596af1eb12ab628be005a22efabf84', 'message': 'Implementation of Storm scaling\n\nImplementation of Storm scaling. This will allow users to quickly scale\na storm cluster.\n\nChange-Id: Id2f00e0aadc8aac5c79ebec5e55e13c2964c7fec\nImplements: bp storm-scaling\n'}, {'number': 6, 'created': '2015-05-12 17:03:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/5b878e6fdbabd905d354038860b1546816551140', 'message': 'Implementation of Storm scaling\n\nImplementation of Storm scaling. This will allow users to quickly scale\na storm cluster.\n\nChange-Id: Id2f00e0aadc8aac5c79ebec5e55e13c2964c7fec\nImplements: bp storm-scaling\n'}, {'number': 7, 'created': '2015-05-13 12:52:53.000000000', 'files': ['sahara/plugins/storm/plugin.py', 'sahara/tests/unit/plugins/storm/test_plugin.py', 'sahara/tests/unit/plugins/storm/__init__.py'], 'web_link': 'https://opendev.org/openstack/sahara/commit/559f2f1e5553c941e78cf92b9faafa23d5827e21', 'message': 'Implementation of Storm scaling\n\nImplementation of Storm scaling. This will allow users to quickly scale\na storm cluster.\n\nChange-Id: Id2f00e0aadc8aac5c79ebec5e55e13c2964c7fec\nImplements: bp storm-scaling\n'}]",13,178837,559f2f1e5553c941e78cf92b9faafa23d5827e21,59,10,7,8932,,,0,"Implementation of Storm scaling

Implementation of Storm scaling. This will allow users to quickly scale
a storm cluster.

Change-Id: Id2f00e0aadc8aac5c79ebec5e55e13c2964c7fec
Implements: bp storm-scaling
",git fetch https://review.opendev.org/openstack/sahara refs/changes/37/178837/3 && git format-patch -1 --stdout FETCH_HEAD,"['sahara/service/edp/storm/engine.py', 'sahara/plugins/storm/plugin.py']",2,5aa0534a46933dc3bed65319a9b49b25c6a05367,bp/storm-scaling," #Scaling def validate_scaling(self, cluster, existing, additional): self._validate_existing_ng_scaling(cluster, existing) self._validate_additional_ng_scaling(cluster, additional) def decomission_nodes(self, cluster, instances): slaves = utils.get_instances(cluster, ""supervisor"") for i in instances: if 'supervisor' in i.node_group.node_processes: slaves.remove(i) def scale_cluster(self, cluster, instances): self._setup_instances(cluster, instances) # start storm slaves self._start_slave_processes(instances) LOG.info(_LI(""Storm supervisor has been started in the new instances"")) def _get_scalable_processes(self): return [""supervisor""] def _validate_additional_ng_scaling(self, cluster, additional): scalable_processes = self._get_scalable_processes() for ng_id in additional: ng = ug.get_by_id(cluster.node_groups, ng_id) if not set(ng.node_processes).issubset(scalable_processes): raise ex.NodeGroupCannotBeScaled( ng.name, _(""Storm plugin cannot scale nodegroup"" "" with processes: %s"") % ' '.join(ng.node_processes)) def _validate_existing_ng_scaling(self, cluster, existing): scalable_processes = self._get_scalable_processes() slave_to_delete = 0 for ng in cluster.node_groups: if ng.id in existing: if ng.count > existing[ng.id] and (""supervisor"" in ng.node_processes): slave_to_delete += ng.count - existing[ng.id] if not set(ng.node_processes).issubset(scalable_processes): raise ex.NodeGroupCannotBeScaled( ng.name, _(""Storm plugin cannot scale nodegroup"" "" with processes: %s"") % ' '.join(ng.node_processes))",,49,0
openstack%2Fsahara~master~Ic42cf5196ef2b778f28d87d6163a44d7ed42ffcc,openstack/sahara,master,Ic42cf5196ef2b778f28d87d6163a44d7ed42ffcc,Extra tests for quotas,MERGED,2015-04-30 15:02:46.000000000,2015-05-13 20:45:17.000000000,2015-05-13 20:45:15.000000000,"[{'_account_id': 3}, {'_account_id': 6116}, {'_account_id': 6786}, {'_account_id': 7213}, {'_account_id': 8411}, {'_account_id': 12038}, {'_account_id': 12039}, {'_account_id': 13919}, {'_account_id': 13953}]","[{'number': 1, 'created': '2015-04-30 15:02:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/0ba73f21b8635665d4036784a2236f9a125f6cda', 'message': 'Extra tests for quotas\n\nThis patch add new unit tests for quotas.\n\nChange-Id: Ic42cf5196ef2b778f28d87d6163a44d7ed42ffcc\n'}, {'number': 2, 'created': '2015-05-05 12:24:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/af723ed469294cc60d91cef6a3cf98453f95f8d5', 'message': 'Extra tests for quotas\n\nThis patch add new unit tests for quotas.\n\nChange-Id: Ic42cf5196ef2b778f28d87d6163a44d7ed42ffcc\n'}, {'number': 3, 'created': '2015-05-12 08:23:44.000000000', 'files': ['sahara/tests/unit/service/test_quotas.py'], 'web_link': 'https://opendev.org/openstack/sahara/commit/dd9e3e0cd7e80471fd2fc2990b8fa7402f08586b', 'message': 'Extra tests for quotas\n\nThis patch add new unit tests for quotas.\n\nChange-Id: Ic42cf5196ef2b778f28d87d6163a44d7ed42ffcc\n'}]",1,179118,dd9e3e0cd7e80471fd2fc2990b8fa7402f08586b,23,9,3,12038,,,0,"Extra tests for quotas

This patch add new unit tests for quotas.

Change-Id: Ic42cf5196ef2b778f28d87d6163a44d7ed42ffcc
",git fetch https://review.opendev.org/openstack/sahara refs/changes/18/179118/1 && git format-patch -1 --stdout FETCH_HEAD,['sahara/tests/unit/service/test_quotas.py'],1,0ba73f21b8635665d4036784a2236f9a125f6cda,quotas,"from sahara.utils.openstack import cinder from sahara.utils.openstack import neutron from sahara.utils.openstack import nova class FakeNovaClient(object): def __init__(self, lims): self.lims = lims @property def limits(self): return self def to_dict(self): return self.lims def get(self): return self class CinderLimit(object): def __init__(self, name, value): self.name = name self.value = value class FakeCinderClient(object): def __init__(self, lims): self.lims = lims @property def limits(self): return self @property def absolute(self): return self.lims def get(self): return self def to_dict(self): return self class FakeNeutronClient(object): def __init__(self, lims): self.lims = lims def show_quota(self, tenant_id): return {'quota': self.lims} def list_floatingips(self, tenant_id): return {'floatingips': [1, 2, 3, 4, 5]} def list_security_groups(self, tenant_id): return {'security_groups': [1, 2, 3, 4, 5, 6, 7]} def list_security_group_rules(self, tenant_id): return {'security_groups_rules': [1, 2, 3]} def list_ports(self, tenant_id): return {'ports': []} nova_limits = { 'absolute': { 'maxTotalRAMSize': 10, 'totalRAMUsed': 1, 'maxTotalCores': 15, 'totalCoresUsed': 5, 'maxTotalInstances': 5, 'totalInstancesUsed': 2, 'maxTotalFloatingIps': 300, 'totalFloatingIpsUsed': 100, 'maxSecurityGroups': 50, 'totalSecurityGroupsUsed': 22, 'maxSecurityGroupRules': -1, # unlimited quota test } } neutron_limits = { 'floatingip': 2345, 'security_group': 1523, 'security_group_rule': 332, 'port': -1 } cinder_limits = [ CinderLimit(name='maxTotalVolumes', value=5), CinderLimit(name='totalVolumesUsed', value=3), CinderLimit(name='maxTotalVolumeGigabytes', value=10), CinderLimit(name='totalGigabytesUsed', value=2) ] def setUp(self): super(TestQuotas, self).setUp() nova.client = mock.Mock( return_value=FakeNovaClient(self.nova_limits)) cinder.client = mock.Mock( return_value=FakeCinderClient(self.cinder_limits)) neutron.client = mock.Mock( return_value=FakeNeutronClient(self.neutron_limits)) def test_update_limits_for_ng(self): with mock.patch('sahara.utils.openstack.nova.client') as nova_mock: flavor_mock = mock.Mock() type(flavor_mock).ram = mock.PropertyMock(return_value=4) type(flavor_mock).vcpus = mock.PropertyMock(return_value=2) flavor_get_mock = mock.Mock() flavor_get_mock.get.return_value = flavor_mock type(nova_mock.return_value).flavors = mock.PropertyMock( return_value=flavor_get_mock) ng = mock.Mock() type(ng).flavor_id = mock.PropertyMock(return_value=3) type(ng).floating_ip_pool = mock.PropertyMock(return_value='pool') type(ng).volumes_per_node = mock.PropertyMock(return_value=4) type(ng).volumes_size = mock.PropertyMock(return_value=5) type(ng).auto_security_group = mock.PropertyMock(return_value=True) type(ng).open_ports = mock.PropertyMock(return_value=[1111, 2222]) limits = quotas._get_zero_limits() self.override_config('use_neutron', True) quotas._update_limits_for_ng(limits, ng, 3) self.assertEqual(3, limits['instances']) self.assertEqual(12, limits['ram']) self.assertEqual(6, limits['cpu']) self.assertEqual(3, limits['floatingips']) self.assertEqual(12, limits['volumes']) self.assertEqual(60, limits['volume_gbs']) self.assertEqual(1, limits['security_groups']) self.assertEqual(5, limits['security_group_rules']) self.assertEqual(3, limits['ports']) type(ng).open_ports = mock.PropertyMock(return_value=[1, 2, 3]) self.override_config('use_neutron', False) quotas._update_limits_for_ng(limits, ng, 3) self.assertEqual(6, limits['security_group_rules']) self.assertEqual(3, limits['ports']) def test_get_nova_limits(self): self.assertEqual( {'cpu': 10, 'floatingips': 200, 'instances': 3, 'ram': 9, 'security_group_rules': 'unlimited', 'security_groups': 28}, quotas._get_nova_limits()) self.override_config('use_floating_ips', False) self.assertEqual( {'cpu': 10, 'instances': 3, 'ram': 9, 'security_group_rules': 'unlimited', 'security_groups': 28}, quotas._get_nova_limits()) self.assertEqual( {'cpu': 10, 'instances': 3, 'ram': 9}, quotas._get_nova_limits()) def test_get_cinder_limits(self): self.assertEqual({'volumes': 2, 'volume_gbs': 8}, quotas._get_cinder_limits()) def test_neutron_limits(self): self.assertEqual({}, quotas._get_neutron_limits()) self.override_config('use_neutron', True) self.assertEqual({'floatingips': 2340, 'ports': 'unlimited', 'security_group_rules': 332, 'security_groups': 1516}, quotas._get_neutron_limits()) self.override_config('use_floating_ips', False) self.assertEqual({'ports': 'unlimited', 'security_group_rules': 332, 'security_groups': 1516}, quotas._get_neutron_limits()) def test_limits_for_cluster(self): pass"," @mock.patch('sahara.utils.openstack.nova.client') def test_update_limits_for_ng(self, nova_mock): flavor_mock = mock.Mock() type(flavor_mock).ram = mock.PropertyMock(return_value=4) type(flavor_mock).vcpus = mock.PropertyMock(return_value=2) flavor_get_mock = mock.Mock() flavor_get_mock.get.return_value = flavor_mock type(nova_mock.return_value).flavors = mock.PropertyMock( return_value=flavor_get_mock) ng = mock.Mock() type(ng).flavor_id = mock.PropertyMock(return_value=3) type(ng).floating_ip_pool = mock.PropertyMock(return_value='pool') type(ng).volumes_per_node = mock.PropertyMock(return_value=4) type(ng).volumes_size = mock.PropertyMock(return_value=5) type(ng).auto_security_group = mock.PropertyMock(return_value=True) type(ng).open_ports = mock.PropertyMock(return_value=[1111, 2222]) limits = quotas._get_zero_limits() quotas._update_limits_for_ng(limits, ng, 3) self.assertEqual(3, limits['instances']) self.assertEqual(12, limits['ram']) self.assertEqual(6, limits['cpu']) self.assertEqual(3, limits['floatingips']) self.assertEqual(12, limits['volumes']) self.assertEqual(60, limits['volume_gbs']) self.assertEqual(1, limits['security_groups']) self.assertEqual(5, limits['security_group_rules']) self.assertEqual(3, limits['ports']) type(ng).open_ports = mock.PropertyMock(return_value=[1, 2, 3]) self.override_config('use_neutron', False) quotas._update_limits_for_ng(limits, ng, 3) self.assertEqual(6, limits['security_group_rules']) self.assertEqual(3, limits['ports'])",169,33
openstack%2Frequirements~master~Ic64996120a3a108b9b6d3c8daa313ea654fedba4,openstack/requirements,master,Ic64996120a3a108b9b6d3c8daa313ea654fedba4,Allow Magnum to conform to global requirements process,MERGED,2015-04-06 12:25:32.000000000,2015-05-13 20:44:38.000000000,2015-05-13 20:44:36.000000000,"[{'_account_id': 2}, {'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 4190}, {'_account_id': 5638}, {'_account_id': 6786}, {'_account_id': 7049}, {'_account_id': 11650}]","[{'number': 1, 'created': '2015-04-06 12:25:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/8541a2a97cfba557182c015ea98a2e810bff34ec', 'message': 'Add Docker and Kubernetes requirements needed by Magnum\n\nMagnum recently entered the openstack/ namespace from\nstackforge. There are 2 libraries needed by magnum that\nwould be great to have in our global requirements.\n\nChange-Id: Ic64996120a3a108b9b6d3c8daa313ea654fedba4\n'}, {'number': 2, 'created': '2015-04-09 18:19:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/414463695486a473229f7fc395a9b9f6513c80bd', 'message': 'Allow Magnum to conform to global requirements process\n\nMagnum recently entered the openstack/ namespace from\nstackforge. So Magnum would like to conform to the\nglobal requirements process. To be able to do that,\nThere are 2 libraries (docker-py, python-kubernetes) needed\nby magnum that would be great to have in our global\nrequirements.\n\nChange-Id: Ic64996120a3a108b9b6d3c8daa313ea654fedba4\n'}, {'number': 3, 'created': '2015-04-29 14:12:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/eb54268ac4af0e891f9910b5ae023812950be988', 'message': 'Allow Magnum to conform to global requirements process\n\nMagnum recently entered the openstack/ namespace from\nstackforge. So Magnum would like to conform to the\nglobal requirements process. To be able to do that,\nThere are 2 libraries (docker-py, python-kubernetes) needed\nby magnum that would be great to have in our global\nrequirements.\n\nChange-Id: Ic64996120a3a108b9b6d3c8daa313ea654fedba4\n'}, {'number': 4, 'created': '2015-04-29 14:15:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/8161200c975dab8a8a0a5c9884804fb455cd49fa', 'message': 'Allow Magnum to conform to global requirements process\n\nMagnum recently entered the openstack/ namespace from\nstackforge. So Magnum would like to conform to the\nglobal requirements process. To be able to do that,\nThere are 2 libraries (docker-py, python-kubernetes) needed\nby magnum that would be great to have in our global\nrequirements.\n\nChange-Id: Ic64996120a3a108b9b6d3c8daa313ea654fedba4\n'}, {'number': 5, 'created': '2015-05-05 00:01:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/2ab235029cf885c979ad3e1f80477d17fc0a40a2', 'message': 'Allow Magnum to conform to global requirements process\n\nMagnum recently entered the openstack/ namespace from\nstackforge. So Magnum would like to conform to the\nglobal requirements process. To be able to do that,\nThere are 2 libraries (docker-py, python-kubernetes) needed\nby magnum that would be great to have in our global\nrequirements.\n\nChange-Id: Ic64996120a3a108b9b6d3c8daa313ea654fedba4\n'}, {'number': 6, 'created': '2015-05-08 19:21:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/02dd757504561f816438ca45878ab32cbcae87f2', 'message': 'Allow Magnum to conform to global requirements process\n\nMagnum recently entered the openstack/ namespace from\nstackforge. So Magnum would like to conform to the\nglobal requirements process. To be able to do that,\nThere are 2 libraries (docker-py, python-kubernetes) needed\nby magnum that would be great to have in our global\nrequirements.\n\nChange-Id: Ic64996120a3a108b9b6d3c8daa313ea654fedba4\n'}, {'number': 7, 'created': '2015-05-12 14:24:00.000000000', 'files': ['global-requirements.txt', 'projects.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/762ee160b1af71fdc44eaf13a360004ac534d055', 'message': 'Allow Magnum to conform to global requirements process\n\nMagnum recently entered the openstack/ namespace from\nstackforge. So Magnum would like to conform to the\nglobal requirements process. To be able to do that,\nWe need docker-py library in our global requirements.\n\ndocker-py library is actively maintained at:\nhttps://github.com/docker/docker-py/\n\ndocker-py is licensed as:\nApache License, Version 2.0\n\ndocker-py various python flavors including 3.4:\nhttps://travis-ci.org/docker/docker-py\n\nWe also do not have any other libraries in our\nglobal requirements that provide this functionality.\n\nChange-Id: Ic64996120a3a108b9b6d3c8daa313ea654fedba4\n'}]",0,170830,762ee160b1af71fdc44eaf13a360004ac534d055,48,8,7,5638,,,0,"Allow Magnum to conform to global requirements process

Magnum recently entered the openstack/ namespace from
stackforge. So Magnum would like to conform to the
global requirements process. To be able to do that,
We need docker-py library in our global requirements.

docker-py library is actively maintained at:
https://github.com/docker/docker-py/

docker-py is licensed as:
Apache License, Version 2.0

docker-py various python flavors including 3.4:
https://travis-ci.org/docker/docker-py

We also do not have any other libraries in our
global requirements that provide this functionality.

Change-Id: Ic64996120a3a108b9b6d3c8daa313ea654fedba4
",git fetch https://review.opendev.org/openstack/requirements refs/changes/30/170830/1 && git format-patch -1 --stdout FETCH_HEAD,['global-requirements.txt'],1,8541a2a97cfba557182c015ea98a2e810bff34ec,,docker-py>=0.5.1 # Apache-2.0python-kubernetes>=0.2 # Apache-2.0,,2,0
openstack%2Ftripleo-heat-templates~master~I5f2b3356378eb263d90d428cc83c7f5b141957e1,openstack/tripleo-heat-templates,master,I5f2b3356378eb263d90d428cc83c7f5b141957e1,Create split out neutron networks via Heat.,MERGED,2015-04-27 16:00:10.000000000,2015-05-13 20:43:29.000000000,2015-05-13 20:43:27.000000000,"[{'_account_id': 3}, {'_account_id': 360}, {'_account_id': 4328}, {'_account_id': 7144}, {'_account_id': 8042}, {'_account_id': 8399}, {'_account_id': 8449}, {'_account_id': 12398}]","[{'number': 1, 'created': '2015-04-27 16:00:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c12def58f4f8e7f47d82dad511943c21f6145deb', 'message': 'Create split out neutron networks via Heat.\n\nThis patch adds a new abstraction for network creation\nwithin Heat. This (optional) set of templates may be disablable\nif you wish to create Neutron networks for the undercloud\nvia Heat templates... instead of using os-cloud-config\nJSON to do so. Creating networks with Heat has the benefit\nof being parameter driven so that users can quickly\nenable networks using the resource registry and parameters.\n\nThere are 5 networks to start with which are roughly modeled\naround networks an Overcloud user might want to use to isolate\ntheir traffic.\n\nThe networks.yaml template can be used to create all of the\nnetworks using parameters in the resource registry.\n\nChange-Id: I5f2b3356378eb263d90d428cc83c7f5b141957e1\n'}, {'number': 2, 'created': '2015-04-27 16:19:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e10c01dda0f35257ee4ee5b7d2fbcc39dc84adad', 'message': 'Create split out neutron networks via Heat.\n\nThis patch adds a new abstraction for network creation\nwithin Heat. This (optional) set of templates may be disablable\nif you wish to create Neutron networks for the undercloud\nvia Heat templates... instead of using os-cloud-config\nJSON to do so. Creating networks with Heat has the benefit\nof being parameter driven so that users can quickly\nenable networks using the resource registry and parameters.\n\nThere are 5 networks to start with which are roughly modeled\naround networks an Overcloud user might want to use to isolate\ntheir traffic.\n\nThe networks.yaml template can be used to create all of the\nnetworks using parameters in the resource registry.\n\nChange-Id: I5f2b3356378eb263d90d428cc83c7f5b141957e1\n'}, {'number': 3, 'created': '2015-04-28 18:52:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a8dcc64452b120a0486a479e4e9f84835c7a19ef', 'message': 'Create split out neutron networks via Heat.\n\nThis patch adds a new abstraction for network creation\nwithin Heat. This (optional) set of templates may be disablable\nif you wish to create Neutron networks for the undercloud\nvia Heat templates... instead of using os-cloud-config\nJSON to do so. Creating networks with Heat has the benefit\nof being parameter driven so that users can quickly\nenable networks using the resource registry and parameters.\n\nThere are 6 networks to start with which are roughly modeled\naround networks an Overcloud user might want to use to isolate\ntheir traffic. The intent is to make these opt-in and\nconfigurable for end users.\n\nThe networks.yaml template can be used to create all of the\nnetworks using parameters in the resource registry.\n\nChange-Id: I5f2b3356378eb263d90d428cc83c7f5b141957e1\n'}, {'number': 4, 'created': '2015-04-29 18:30:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f9db60ee856dd6a564e79577b9461820ad4b93e9', 'message': 'Create split out neutron networks via Heat.\n\nThis patch adds a new abstraction for network creation\nwithin Heat. This (optional) set of templates may be disablable\nif you wish to create Neutron networks for the undercloud\nvia Heat templates... instead of using os-cloud-config\nJSON to do so. Creating networks with Heat has the benefit\nof being parameter driven so that users can quickly\nenable networks using the resource registry and parameters.\n\nThere are 6 networks to start with which are roughly modeled\naround networks an Overcloud user might want to use to isolate\ntheir traffic. The intent is to make these opt-in and\nconfigurable for end users.\n\nThe networks.yaml template can be used to create all of the\nnetworks using parameters in the resource registry.\n\nChange-Id: I5f2b3356378eb263d90d428cc83c7f5b141957e1\n'}, {'number': 5, 'created': '2015-04-29 19:42:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/30fad30ffea9ec1616d93e59ee6c747517d6dbf7', 'message': 'Create split out neutron networks via Heat.\n\nThis patch adds a new abstraction for network creation\nwithin Heat. This (optional) set of templates may be disablable\nif you wish to create Neutron networks for the undercloud\nvia Heat templates... instead of using os-cloud-config\nJSON to do so. Creating networks with Heat has the benefit\nof being parameter driven so that users can quickly\nenable networks using the resource registry and parameters.\n\nThere are 6 networks to start with which are roughly modeled\naround networks an Overcloud user might want to use to isolate\ntheir traffic. The intent is to make these opt-in and\nconfigurable for end users.\n\nThe networks.yaml template can be used to create all of the\nnetworks using parameters in the resource registry.\n\nChange-Id: I5f2b3356378eb263d90d428cc83c7f5b141957e1\n'}, {'number': 6, 'created': '2015-05-05 21:09:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/97f61132e06181dd3a5cdfd22186d178d617042e', 'message': 'Create split out neutron networks via Heat.\n\nThis patch adds a new abstraction for network creation\nwithin Heat. This (optional) set of templates may be disablable\nif you wish to create Neutron networks for the undercloud\nvia Heat templates... instead of using os-cloud-config\nJSON to do so. Creating networks with Heat has the benefit\nof being parameter driven so that users can quickly\nenable networks using the resource registry and parameters.\n\nThere are 6 networks to start with which are roughly modeled\naround networks an Overcloud user might want to use to isolate\ntheir traffic. The intent is to make these opt-in and\nconfigurable for end users.\n\nThe networks.yaml template can be used to create all of the\nnetworks using parameters in the resource registry.\n\nChange-Id: I5f2b3356378eb263d90d428cc83c7f5b141957e1\n'}, {'number': 7, 'created': '2015-05-07 01:49:48.000000000', 'files': ['network/internal_api.yaml', 'network/noop.yaml', 'network/storage.yaml', 'network/storage_mgmt.yaml', 'network/external.yaml', 'network/networks.yaml', 'network/tenant.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/00efb796cd3d63ecbf903c058f7647b77e6bd693', 'message': 'Create split out neutron networks via Heat.\n\nThis patch adds a new abstraction for network creation\nwithin Heat. This (optional) set of templates may be disabled\nif you wish to create Neutron networks for the undercloud\nvia Heat templates... instead of using os-cloud-config\nJSON to do so. Creating networks with Heat has the benefit\nof being parameter driven so that users can quickly\nenable networks using the resource registry and parameters.\n\nThere are 5 networks to start with which are roughly modeled\naround networks an Overcloud user might want to use to isolate\ntheir traffic. The intent is to make these opt-in and\nconfigurable for end users.\n\nThe networks.yaml template can be used to create all of the\nnetworks using parameters in the resource registry.\n\nChange-Id: I5f2b3356378eb263d90d428cc83c7f5b141957e1\n'}]",10,177843,00efb796cd3d63ecbf903c058f7647b77e6bd693,42,8,7,360,,,0,"Create split out neutron networks via Heat.

This patch adds a new abstraction for network creation
within Heat. This (optional) set of templates may be disabled
if you wish to create Neutron networks for the undercloud
via Heat templates... instead of using os-cloud-config
JSON to do so. Creating networks with Heat has the benefit
of being parameter driven so that users can quickly
enable networks using the resource registry and parameters.

There are 5 networks to start with which are roughly modeled
around networks an Overcloud user might want to use to isolate
their traffic. The intent is to make these opt-in and
configurable for end users.

The networks.yaml template can be used to create all of the
networks using parameters in the resource registry.

Change-Id: I5f2b3356378eb263d90d428cc83c7f5b141957e1
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/43/177843/5 && git format-patch -1 --stdout FETCH_HEAD,"['network/cluster_mgmt.yaml', 'network/public_api.yaml', 'network/internal_api.yaml', 'network/noop.yaml', 'network/external.yaml', 'network/networks.yaml', 'network/storage.yaml']",7,c12def58f4f8e7f47d82dad511943c21f6145deb,networks,"heat_template_version: 2014-10-16 description: > Storage network. parameters: # the defaults here work for static IP assignment (IPAM) only StorageNetCidr: default: '172.0.19.0/24' description: Cidr for the storage network. type: string StorageNetValueSpecs: default: {'provider:physical_network': 'storage', 'provider:network_type': 'flat'} description: Value specs for the storage network. type: string StorageNetAdminStateUp: default: false description: This admin state of of the network. type: boolean StorageNetEnableDHCP: default: false description: Whether to enable DHCP on the associated subnet. type: boolean resources: StorageNetwork: type: OS::Neutron::Net properties: admin_state_up: {get_param: StorageNetAdminStateUp} name: storage shared: false value_specs: {get_param: StorageNetValueSpecs} StorageSubnet: type: OS::Neutron::Subnet properties: cidr: {get_param: StorageNetCidr} enable_dhcp: {get_param: StorageNetEnableDHCP} name: storage_subnet network: {get_resource: StorageNetwork} outputs: OS::stack_id: description: Neutron storage network value: {get_resource: StorageNetwork} ",,249,0
openstack%2Fproject-config~master~I3b1277aac985f7b072f26b8c4a3e426c22325312,openstack/project-config,master,I3b1277aac985f7b072f26b8c4a3e426c22325312,Add kilo compat jobs to tempest and devstack-gate,MERGED,2015-05-11 14:13:10.000000000,2015-05-13 20:30:30.000000000,2015-05-13 20:30:28.000000000,"[{'_account_id': 1}, {'_account_id': 3}, {'_account_id': 6316}, {'_account_id': 6547}, {'_account_id': 6786}]","[{'number': 1, 'created': '2015-05-11 14:13:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/f0cee89727f6246c9206108fddfd47a9f9b0730d', 'message': 'Add kilo compat jobs to tempest\n\nSince the kilo release we need to verify that tempest master works\nagainst a stable/kilo cloud for incoming commits. This commit adds\nthe missing stable/kilo compat jobs to check this.\n\nChange-Id: I3b1277aac985f7b072f26b8c4a3e426c22325312\n'}, {'number': 2, 'created': '2015-05-12 14:28:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/934cab13f4e201ca341b80d4b7fdf7bf1e438246', 'message': 'Add kilo compat jobs to tempest\n\nSince the kilo release we need to verify that tempest master works\nagainst a stable/kilo cloud for incoming commits. This commit adds\nthe missing stable/kilo compat jobs to check this.\n\nChange-Id: I3b1277aac985f7b072f26b8c4a3e426c22325312\n'}, {'number': 3, 'created': '2015-05-12 14:44:38.000000000', 'files': ['jenkins/jobs/projects.yaml', 'zuul/layout.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/276c34a9de723e4e4cc841012c33926978f99362', 'message': 'Add kilo compat jobs to tempest and devstack-gate\n\nSince the kilo release we need to verify that tempest and devstack-gate\nmaster works with a stable/kilo cloud for incoming commits. This commit\nadds the missing stable/kilo compat jobs to check this.\n\nChange-Id: I3b1277aac985f7b072f26b8c4a3e426c22325312\n'}]",0,181907,276c34a9de723e4e4cc841012c33926978f99362,12,5,3,5196,,,0,"Add kilo compat jobs to tempest and devstack-gate

Since the kilo release we need to verify that tempest and devstack-gate
master works with a stable/kilo cloud for incoming commits. This commit
adds the missing stable/kilo compat jobs to check this.

Change-Id: I3b1277aac985f7b072f26b8c4a3e426c22325312
",git fetch https://review.opendev.org/openstack/project-config refs/changes/07/181907/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul/layout.yaml'],1,f0cee89727f6246c9206108fddfd47a9f9b0730d,(HEAD, # kilo compat jobs for tempest master - check-tempest-dsvm-full-kilo - check-tempest-dsvm-postgres-full-kilo - check-tempest-dsvm-neutron-full-kilo - gate-tempest-dsvm-large-ops-kilo - gate-tempest-dsvm-neutron-large-ops-kilo,,6,0
openstack%2Fcinder~master~I8af975f58909352a105182a59ff777affec75e35,openstack/cinder,master,I8af975f58909352a105182a59ff777affec75e35,Port block_device driver to use new driver model,MERGED,2015-03-03 07:13:22.000000000,2015-05-13 20:28:47.000000000,2015-05-13 11:05:21.000000000,"[{'_account_id': 3}, {'_account_id': 170}, {'_account_id': 2243}, {'_account_id': 7872}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9751}, {'_account_id': 10621}, {'_account_id': 10622}, {'_account_id': 11611}, {'_account_id': 11811}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12202}, {'_account_id': 12249}, {'_account_id': 12369}, {'_account_id': 12491}, {'_account_id': 12492}, {'_account_id': 12493}, {'_account_id': 12778}, {'_account_id': 12780}, {'_account_id': 13394}, {'_account_id': 14206}, {'_account_id': 14259}, {'_account_id': 14797}, {'_account_id': 14969}, {'_account_id': 15249}, {'_account_id': 15374}, {'_account_id': 15386}, {'_account_id': 15764}]","[{'number': 1, 'created': '2015-03-03 07:13:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/245dd3958d898e5af427064d338788222697c28f', 'message': 'Port block_device driver to use new driver model\n\nUse new ABCmeta driver model for block_device driver.\n\nChange-Id: I8af975f58909352a105182a59ff777affec75e35\nImplements: blueprint abc-volume-drivers\n'}, {'number': 2, 'created': '2015-04-28 11:06:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/2079147935132a426571fa79aa4d451a154b5c45', 'message': 'Port block_device driver to use new driver model\n\nUse new ABCmeta driver model for block_device driver.\n\nChange-Id: I8af975f58909352a105182a59ff777affec75e35\nImplements: blueprint abc-driver-update\n'}, {'number': 3, 'created': '2015-05-04 11:45:59.000000000', 'files': ['cinder/volume/drivers/block_device.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/e94362a5ec71a557c423126bbf75e42c26d65b12', 'message': 'Port block_device driver to use new driver model\n\nUse new ABCmeta driver model for block_device driver.\n\nChange-Id: I8af975f58909352a105182a59ff777affec75e35\nImplements: blueprint abc-driver-update\n'}]",0,160674,e94362a5ec71a557c423126bbf75e42c26d65b12,75,30,3,7872,,,0,"Port block_device driver to use new driver model

Use new ABCmeta driver model for block_device driver.

Change-Id: I8af975f58909352a105182a59ff777affec75e35
Implements: blueprint abc-driver-update
",git fetch https://review.opendev.org/openstack/cinder refs/changes/74/160674/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/drivers/block_device.py'],1,245dd3958d898e5af427064d338788222697c28f,bp/abc-driver-update,"class BlockDeviceDriver(driver.BaseVD, driver.LocalVD, driver.CloneableVD, driver.CloneableImageVD, driver.TransferVD): VERSION = '2.1.0'",class BlockDeviceDriver(driver.VolumeDriver): VERSION = '2.0.0',3,2
openstack%2Fnova~master~Ib61a565c10edfa662c15fac339b2cbd9bb673631,openstack/nova,master,Ib61a565c10edfa662c15fac339b2cbd9bb673631,Move ebrctl to compute.filter.,MERGED,2015-05-09 17:58:29.000000000,2015-05-13 20:28:08.000000000,2015-05-12 21:23:05.000000000,"[{'_account_id': 3}, {'_account_id': 782}, {'_account_id': 1849}, {'_account_id': 4727}, {'_account_id': 5170}, {'_account_id': 5638}, {'_account_id': 6598}, {'_account_id': 6873}, {'_account_id': 7166}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 11343}, {'_account_id': 12171}, {'_account_id': 15286}, {'_account_id': 15751}]","[{'number': 1, 'created': '2015-05-09 17:58:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3b817fb62dca66a83e7784f712646fac8951345c', 'message': 'Move ebrctl to compute.filter.\n\nCurrently ebrctl is network.filters, but the utility is\nused by libvirt in nova compute.\nThis patch move it to compute.filters.\n\nCloses-Bug: #1453418\n\nChange-Id: Ib61a565c10edfa662c15fac339b2cbd9bb673631\n'}, {'number': 2, 'created': '2015-05-12 09:06:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4531f7dcc28fa48aa76995907bca0492c401cdc0', 'message': 'Move ebrctl to compute.filter.\n\nCurrently ebrctl is network.filters, but the utility is\nused by libvirt in nova compute.\nThis patch move it to compute.filters.\n\nCloses-Bug: #1453418\n\nChange-Id: Ib61a565c10edfa662c15fac339b2cbd9bb673631\n'}, {'number': 3, 'created': '2015-05-12 09:08:48.000000000', 'files': ['etc/nova/rootwrap.d/network.filters', 'etc/nova/rootwrap.d/compute.filters'], 'web_link': 'https://opendev.org/openstack/nova/commit/1e4256f2d04da2984fe2e54914360bd1036fce77', 'message': 'Move ebrctl to compute.filter.\n\nCurrently ebrctl is network.filters, but the utility is\nused by libvirt in nova compute, as part of a Mellanox vif driver.\n\nThe ubuntu packages install network.filters with the nova-network package.\nBut this vif driver only works with Neutron.\n\nTo help fix that, this patch move it to compute.filters to ensure it is\nalways installed with Nova.\n\nCloses-Bug: #1453418\n\nChange-Id: Ib61a565c10edfa662c15fac339b2cbd9bb673631'}]",1,181670,1e4256f2d04da2984fe2e54914360bd1036fce77,32,15,3,12171,,,0,"Move ebrctl to compute.filter.

Currently ebrctl is network.filters, but the utility is
used by libvirt in nova compute, as part of a Mellanox vif driver.

The ubuntu packages install network.filters with the nova-network package.
But this vif driver only works with Neutron.

To help fix that, this patch move it to compute.filters to ensure it is
always installed with Nova.

Closes-Bug: #1453418

Change-Id: Ib61a565c10edfa662c15fac339b2cbd9bb673631",git fetch https://review.opendev.org/openstack/nova refs/changes/70/181670/2 && git format-patch -1 --stdout FETCH_HEAD,"['etc/nova/rootwrap.d/network.filters', 'etc/nova/rootwrap.d/compute.filters']",2,3b817fb62dca66a83e7784f712646fac8951345c,bug/1453418,"# nova/virt/libvirt/vif.py: 'ebrctl', ... ebrctl: CommandFilter, ebrctl, root ",,3,3
openstack%2Fopenstacksdk~master~Ia88422b94593b08ac2e6ba29ded078574ed3c65b,openstack/openstacksdk,master,Ia88422b94593b08ac2e6ba29ded078574ed3c65b,Changes for get calls in identity proxies,MERGED,2015-05-13 19:14:29.000000000,2015-05-13 20:23:17.000000000,2015-05-13 20:23:15.000000000,"[{'_account_id': 3}, {'_account_id': 8257}, {'_account_id': 8736}]","[{'number': 1, 'created': '2015-05-13 19:14:29.000000000', 'files': ['openstack/identity/v3/_proxy.py', 'openstack/tests/unit/identity/v2/test_proxy.py', 'openstack/identity/v2/_proxy.py', 'openstack/tests/unit/identity/v3/test_proxy.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/ec4f61e37e4865716ea0f1b27873fbf7e61ba3a4', 'message': 'Changes for get calls in identity proxies\n\nChange-Id: Ia88422b94593b08ac2e6ba29ded078574ed3c65b\n'}]",0,182797,ec4f61e37e4865716ea0f1b27873fbf7e61ba3a4,8,3,1,8257,,,0,"Changes for get calls in identity proxies

Change-Id: Ia88422b94593b08ac2e6ba29ded078574ed3c65b
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/97/182797/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/identity/v3/_proxy.py', 'openstack/tests/unit/identity/v2/test_proxy.py', 'openstack/identity/v2/_proxy.py', 'openstack/tests/unit/identity/v3/test_proxy.py']",4,ec4f61e37e4865716ea0f1b27873fbf7e61ba3a4,identity_get_changes," self.verify_get2('openstack.proxy.BaseProxy._get', self.proxy.get_credential, method_args=[""resource_or_id""], expected_args=[credential.Credential, ""resource_or_id""]) self.verify_get2('openstack.proxy.BaseProxy._get', self.proxy.get_domain, method_args=[""resource_or_id""], expected_args=[domain.Domain, ""resource_or_id""]) self.verify_get2('openstack.proxy.BaseProxy._get', self.proxy.get_endpoint, method_args=[""resource_or_id""], expected_args=[endpoint.Endpoint, ""resource_or_id""]) self.verify_get2('openstack.proxy.BaseProxy._get', self.proxy.get_group, method_args=[""resource_or_id""], expected_args=[group.Group, ""resource_or_id""]) self.verify_get2('openstack.proxy.BaseProxy._get', self.proxy.get_policy, method_args=[""resource_or_id""], expected_args=[policy.Policy, ""resource_or_id""]) self.verify_get2('openstack.proxy.BaseProxy._get', self.proxy.get_project, method_args=[""resource_or_id""], expected_args=[project.Project, ""resource_or_id""]) self.verify_get2('openstack.proxy.BaseProxy._get', self.proxy.get_service, method_args=[""resource_or_id""], expected_args=[service.Service, ""resource_or_id""]) self.verify_get2('openstack.proxy.BaseProxy._get', self.proxy.get_user, method_args=[""resource_or_id""], expected_args=[user.User, ""resource_or_id""]) self.verify_get2('openstack.proxy.BaseProxy._get', self.proxy.get_trust, method_args=[""resource_or_id""], expected_args=[trust.Trust, ""resource_or_id""])"," self.verify_get('openstack.identity.v3.credential.Credential.get', self.proxy.get_credential) self.verify_get('openstack.identity.v3.domain.Domain.get', self.proxy.get_domain) self.verify_get('openstack.identity.v3.endpoint.Endpoint.get', self.proxy.get_endpoint) self.verify_get('openstack.identity.v3.group.Group.get', self.proxy.get_group) self.verify_get('openstack.identity.v3.policy.Policy.get', self.proxy.get_policy) self.verify_get('openstack.identity.v3.project.Project.get', self.proxy.get_project) self.verify_get('openstack.identity.v3.service.Service.get', self.proxy.get_service) self.verify_get('openstack.identity.v3.user.User.get', self.proxy.get_user) self.verify_get('openstack.identity.v3.trust.Trust.get', self.proxy.get_trust)",184,48
openstack%2Fapp-catalog~master~Ib696e15b0663e11082a3363985b381484e00c50c,openstack/app-catalog,master,Ib696e15b0663e11082a3363985b381484e00c50c,"Add link to ""add new content"" to top menu bar",MERGED,2015-05-13 14:53:22.000000000,2015-05-13 20:21:47.000000000,2015-05-13 20:21:39.000000000,"[{'_account_id': 3}, {'_account_id': 7225}, {'_account_id': 8443}, {'_account_id': 9788}, {'_account_id': 16145}]","[{'number': 1, 'created': '2015-05-13 14:53:22.000000000', 'files': ['openstack_catalog/web/index.html', 'openstack_catalog/web/static/js/apps-catalog.js'], 'web_link': 'https://opendev.org/openstack/app-catalog/commit/b8aa553b91e46f201f1920337b9091a6d6d95ff5', 'message': 'Add link to ""add new content"" to top menu bar\n\nThis commit adds a link to the ""how to contribute""\nsection of the OpenStack Wiki Community Apps\nCatalog.\n\nChange-Id: Ib696e15b0663e11082a3363985b381484e00c50c\nCloses-Bug: 1454453\n'}]",0,182706,b8aa553b91e46f201f1920337b9091a6d6d95ff5,8,5,1,9788,,,0,"Add link to ""add new content"" to top menu bar

This commit adds a link to the ""how to contribute""
section of the OpenStack Wiki Community Apps
Catalog.

Change-Id: Ib696e15b0663e11082a3363985b381484e00c50c
Closes-Bug: 1454453
",git fetch https://review.opendev.org/openstack/app-catalog refs/changes/06/182706/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_catalog/web/index.html', 'openstack_catalog/web/static/js/apps-catalog.js']",2,b8aa553b91e46f201f1920337b9091a6d6d95ff5,bug/1454453," }); $( ""ul.nav > li"" ).not("":last-child"").on(""click"", function (event) { update_url ({ tab : this.children[0].hash.substring (1), asset: """" }); $( ""ul.nav > li:last-child"").on(""click"", function (event) { window.open('https://wiki.openstack.org/wiki/App-Catalog#How_to_contribute', '_blank');"," $( ""ul.nav > li"" ).on(""click"", function (event) { update_url ({ tab : this.children[0].hash.substring (1), asset: """" });",6,2
openstack%2Fheat~stable%2Fjuno~I7b2897c2be1e4ad7f55549449b1791991572a7f1,openstack/heat,stable/juno,I7b2897c2be1e4ad7f55549449b1791991572a7f1,Authenticate the domain user with id instead of username,MERGED,2015-05-12 20:35:14.000000000,2015-05-13 20:20:26.000000000,2015-05-13 20:20:24.000000000,"[{'_account_id': 3}, {'_account_id': 4257}, {'_account_id': 4571}, {'_account_id': 7404}, {'_account_id': 8745}, {'_account_id': 8833}, {'_account_id': 9751}, {'_account_id': 12606}]","[{'number': 1, 'created': '2015-05-12 20:35:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/dc6940562a14269b10864431793fcda9514cb750', 'message': 'Authenticate the domain user with id instead of username\n\nThis change makes the authentication process that requests a domain user\ntoken provide user_id and password instead of username and password.\nAuthenticating with the user_id is more reliable, as that works even when\nthe username is truncated or modified in any other way before it is passed\nto Keystone.\n\nConflicts:\n\theat/common/heat_keystoneclient.py\n\nChange-Id: I7b2897c2be1e4ad7f55549449b1791991572a7f1\nCloses-bug: 1402894\n(cherry picked from commit 0ba4dacbe292a182ac4ccd69f1133aa6cdba8045)\n'}, {'number': 2, 'created': '2015-05-13 06:35:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/cfee360cfdabe0a9abd51aaaa5503888cde0cd1d', 'message': 'Authenticate the domain user with id instead of username\n\nThis change makes the authentication process that requests a domain user\ntoken provide user_id and password instead of username and password.\nAuthenticating with the user_id is more reliable, as that works even when\nthe username is truncated or modified in any other way before it is passed\nto Keystone.\n\nConflicts:\n\theat/common/heat_keystoneclient.py\n\nChange-Id: I7b2897c2be1e4ad7f55549449b1791991572a7f1\nCloses-bug: 1402894\n(cherry picked from commit 0ba4dacbe292a182ac4ccd69f1133aa6cdba8045)\n'}, {'number': 3, 'created': '2015-05-13 08:56:58.000000000', 'files': ['heat/engine/stack_user.py', 'heat/tests/fakes.py', 'heat/common/heat_keystoneclient.py', 'heat/tests/test_stack_user.py', 'heat/tests/test_heatclient.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/85edaa45576e0b691e6593c3ffb01ca4a64b2641', 'message': 'Authenticate the domain user with id instead of username\n\nThis change makes the authentication process that requests a domain user\ntoken provide user_id and password instead of username and password.\nAuthenticating with the user_id is more reliable, as that works even when\nthe username is truncated or modified in any other way before it is passed\nto Keystone.\n\nConflicts:\n\theat/common/heat_keystoneclient.py\n\nChange-Id: I7b2897c2be1e4ad7f55549449b1791991572a7f1\nCloses-bug: 1402894\n(cherry picked from commit 0ba4dacbe292a182ac4ccd69f1133aa6cdba8045)\n'}]",0,182446,85edaa45576e0b691e6593c3ffb01ca4a64b2641,20,8,3,4328,,,0,"Authenticate the domain user with id instead of username

This change makes the authentication process that requests a domain user
token provide user_id and password instead of username and password.
Authenticating with the user_id is more reliable, as that works even when
the username is truncated or modified in any other way before it is passed
to Keystone.

Conflicts:
	heat/common/heat_keystoneclient.py

Change-Id: I7b2897c2be1e4ad7f55549449b1791991572a7f1
Closes-bug: 1402894
(cherry picked from commit 0ba4dacbe292a182ac4ccd69f1133aa6cdba8045)
",git fetch https://review.opendev.org/openstack/heat refs/changes/46/182446/3 && git format-patch -1 --stdout FETCH_HEAD,"['heat/engine/stack_user.py', 'heat/tests/fakes.py', 'heat/common/heat_keystoneclient.py', 'heat/tests/test_stack_user.py', 'heat/tests/test_heatclient.py']",5,dc6940562a14269b10864431793fcda9514cb750,bug/1402894," user_id='duser', user_id='duser', project_id='aproject', password='apassw') user_id='user', user_id='duser',"," username='duser', username='duser', project_id='aproject', password='apassw') username='user', username='duser',",11,13
openstack%2Fheat~stable%2Fjuno~Idbdbdd2548ad39325d8058eb19ee398f732c2e44,openstack/heat,stable/juno,Idbdbdd2548ad39325d8058eb19ee398f732c2e44,Tell stevedore not to force verify requirements,MERGED,2015-04-22 04:22:12.000000000,2015-05-13 20:14:00.000000000,2015-05-13 20:13:59.000000000,"[{'_account_id': 3}, {'_account_id': 2472}, {'_account_id': 4257}, {'_account_id': 4328}, {'_account_id': 8833}, {'_account_id': 9751}]","[{'number': 1, 'created': '2015-04-22 04:22:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/95932f03021482d0f3af47a977411c693e8a0e03', 'message': 'Tell stevedore not to force verify requirements\n\nDisable the strict requirements checking in pkg_resources by telling\nstevedore to bypass it. This avoids issues with devstack configurations\nwhere the ""wrong"" version of a library is installed, even though it is\nfunctional.\n\nChange-Id: Idbdbdd2548ad39325d8058eb19ee398f732c2e44\n'}, {'number': 2, 'created': '2015-05-13 08:56:58.000000000', 'files': ['heat/engine/template.py', 'heat/engine/resources/__init__.py', 'heat/engine/clients/__init__.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/46fb19bb3a505c61f77c45f4545d518d138f88a7', 'message': 'Tell stevedore not to force verify requirements\n\nDisable the strict requirements checking in pkg_resources by telling\nstevedore to bypass it. This avoids issues with devstack configurations\nwhere the ""wrong"" version of a library is installed, even though it is\nfunctional.\n\nCloses-Bug: #1454572\nChange-Id: Idbdbdd2548ad39325d8058eb19ee398f732c2e44\n'}]",0,176171,46fb19bb3a505c61f77c45f4545d518d138f88a7,20,6,2,2472,,,0,"Tell stevedore not to force verify requirements

Disable the strict requirements checking in pkg_resources by telling
stevedore to bypass it. This avoids issues with devstack configurations
where the ""wrong"" version of a library is installed, even though it is
functional.

Closes-Bug: #1454572
Change-Id: Idbdbdd2548ad39325d8058eb19ee398f732c2e44
",git fetch https://review.opendev.org/openstack/heat refs/changes/71/176171/1 && git format-patch -1 --stdout FETCH_HEAD,"['heat/engine/template.py', 'heat/engine/resources/__init__.py', 'heat/engine/clients/__init__.py']",3,95932f03021482d0f3af47a977411c693e8a0e03,bug/1402894, verify_requirements=False), verify_requirements=True),3,3
openstack%2Fneutron~stable%2Fkilo~I351c71d058170265bbb8b56e1f7a3430bd8828d5,openstack/neutron,stable/kilo,I351c71d058170265bbb8b56e1f7a3430bd8828d5,Spawn RADVD only in the master HA router,MERGED,2015-05-01 14:06:36.000000000,2015-05-13 20:13:48.000000000,2015-05-13 20:13:46.000000000,"[{'_account_id': 3}, {'_account_id': 704}, {'_account_id': 1653}, {'_account_id': 5170}, {'_account_id': 6524}, {'_account_id': 7448}, {'_account_id': 8873}, {'_account_id': 9656}, {'_account_id': 9681}, {'_account_id': 9682}, {'_account_id': 9732}, {'_account_id': 9751}, {'_account_id': 9787}, {'_account_id': 10153}, {'_account_id': 10237}, {'_account_id': 10692}, {'_account_id': 12040}, {'_account_id': 14208}, {'_account_id': 14212}, {'_account_id': 14213}, {'_account_id': 14214}, {'_account_id': 14215}, {'_account_id': 14216}, {'_account_id': 14571}, {'_account_id': 15444}]","[{'number': 1, 'created': '2015-05-01 14:06:36.000000000', 'files': ['neutron/agent/l3/ha_router.py', 'neutron/agent/l3/router_info.py', 'neutron/tests/functional/agent/test_l3_agent.py', 'neutron/agent/l3/ha.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/a625244062203efc3db6c32efa6459d79e154300', 'message': 'Spawn RADVD only in the master HA router\n\nCurrently radvd is spawned in all the HA routers irrespective of the\nstate of the router. This approach has the following issues.\n\n1. While processing the internal router ports (i.e., qr-xxx), ha_router\n   removes the LLA of the interface and adds it as a VIP to Keepalived conf.\n   Radvd daemon is spawned after this operation in the router namespace\n   (if the port is associated with any IPv6 subnets). Radvd notices that\n   qr-xxx interface does not have the LLA, so does not transmit any Router\n   Advts. In this state, VMs fail to acquire IPv6 addresses because of the\n   missing RAs. Radvd does not recover even after keepalived configures the\n   LLA of the interface. The only solution is to restart/reload radvd daemon.\n   Currently keepalived-state-change monitor does not do any radvd related\n   operations when a state transition happens. So we endup in this state\n   forever.\n2. For all the routers in Backup state, qr-xxx interface does not have LLA\n   as it is managed by keepalived and configured only on the Master HA router.\n   In such agents syslog is flooded with the messages [1] and this can cause\n   loss of other useful info.\n   [1] - resetting ipv6-allrouters membership on qr-2e373555-97\n\nThis patch implements the following.\n1. If the router is already in the Master state, we configure the LLA as a VIP\n   in keepalived conf but do not delete the LLA of the internal interface.\n2. We spawn radvd only if the router is in the Master State.\n3. Keepalived-state-change monitor takes care of enabling/disabling radvd upon\n   state transitions.\n\nCloses-Bug: #1440699\nChange-Id: I351c71d058170265bbb8b56e1f7a3430bd8828d5\n(cherry picked from commit 2f9b0ce940099bcc82d2940b99bdc387db22d6fc)\n'}]",0,179392,a625244062203efc3db6c32efa6459d79e154300,25,25,1,10257,,,0,"Spawn RADVD only in the master HA router

Currently radvd is spawned in all the HA routers irrespective of the
state of the router. This approach has the following issues.

1. While processing the internal router ports (i.e., qr-xxx), ha_router
   removes the LLA of the interface and adds it as a VIP to Keepalived conf.
   Radvd daemon is spawned after this operation in the router namespace
   (if the port is associated with any IPv6 subnets). Radvd notices that
   qr-xxx interface does not have the LLA, so does not transmit any Router
   Advts. In this state, VMs fail to acquire IPv6 addresses because of the
   missing RAs. Radvd does not recover even after keepalived configures the
   LLA of the interface. The only solution is to restart/reload radvd daemon.
   Currently keepalived-state-change monitor does not do any radvd related
   operations when a state transition happens. So we endup in this state
   forever.
2. For all the routers in Backup state, qr-xxx interface does not have LLA
   as it is managed by keepalived and configured only on the Master HA router.
   In such agents syslog is flooded with the messages [1] and this can cause
   loss of other useful info.
   [1] - resetting ipv6-allrouters membership on qr-2e373555-97

This patch implements the following.
1. If the router is already in the Master state, we configure the LLA as a VIP
   in keepalived conf but do not delete the LLA of the internal interface.
2. We spawn radvd only if the router is in the Master State.
3. Keepalived-state-change monitor takes care of enabling/disabling radvd upon
   state transitions.

Closes-Bug: #1440699
Change-Id: I351c71d058170265bbb8b56e1f7a3430bd8828d5
(cherry picked from commit 2f9b0ce940099bcc82d2940b99bdc387db22d6fc)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/92/179392/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/l3/ha_router.py', 'neutron/agent/l3/router_info.py', 'neutron/tests/functional/agent/test_l3_agent.py', 'neutron/agent/l3/ha.py']",4,a625244062203efc3db6c32efa6459d79e154300,," self._update_metadata_proxy(ri, router_id, state) self._update_radvd_daemon(ri, state) self.state_change_notifier.queue_event((router_id, state)) def _update_metadata_proxy(self, ri, router_id, state): def _update_radvd_daemon(self, ri, state): # Radvd has to be spawned only on the Master HA Router. If there are # any state transitions, we enable/disable radvd accordingly. if state == 'master': ri.enable_radvd() else: ri.disable_radvd() "," self._update_metadata_proxy(router_id, state) self.state_change_notifier.queue_event((router_id, state)) def _update_metadata_proxy(self, router_id, state):",64,10
openstack%2Ftempest~master~Icf9090df83f8266a4683c88995c547e3c1bff523,openstack/tempest,master,Icf9090df83f8266a4683c88995c547e3c1bff523,Fix last unit tests on py34,MERGED,2015-05-10 17:08:13.000000000,2015-05-13 20:13:35.000000000,2015-05-13 20:13:33.000000000,"[{'_account_id': 3}, {'_account_id': 1192}, {'_account_id': 1921}, {'_account_id': 5196}, {'_account_id': 6167}, {'_account_id': 7020}, {'_account_id': 8871}]","[{'number': 1, 'created': '2015-05-10 17:08:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/a105cff24ffeecdcb63f5b8cdc760068eedf9366', 'message': 'Fix last unit tests on py34\n\nThis commit fixes the last remaining issues in the tempest unit tests.\nThere were several failures for a couple of different issues previously\nbut after this running the tempest unit tests will pass on python 3.4.\n\nChange-Id: Icf9090df83f8266a4683c88995c547e3c1bff523\n'}, {'number': 2, 'created': '2015-05-12 18:58:00.000000000', 'files': ['tempest/cmd/verify_tempest_config.py', 'tempest/tests/test_glance_http.py', 'tempest/tests/stress/test_stress.py', 'tempest/tests/test_list_tests.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/0948724aea0fa1518fe78f65651714655a88ca62', 'message': 'Fix last unit tests on py34\n\nThis commit fixes the last remaining issues in the tempest unit tests.\nThere were several failures for a couple of different issues previously\nbut after this running the tempest unit tests will pass on python 3.4.\n\nChange-Id: Icf9090df83f8266a4683c88995c547e3c1bff523\n'}]",0,181745,0948724aea0fa1518fe78f65651714655a88ca62,29,7,2,5196,,,0,"Fix last unit tests on py34

This commit fixes the last remaining issues in the tempest unit tests.
There were several failures for a couple of different issues previously
but after this running the tempest unit tests will pass on python 3.4.

Change-Id: Icf9090df83f8266a4683c88995c547e3c1bff523
",git fetch https://review.opendev.org/openstack/tempest refs/changes/45/181745/2 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/cmd/verify_tempest_config.py', 'tempest/tests/test_glance_http.py', 'tempest/tests/stress/test_stress.py', 'tempest/tests/test_list_tests.py']",4,a105cff24ffeecdcb63f5b8cdc760068eedf9366,python3-support,import six ids = six.text_type(ids).split('\n'), ids = ids.split('\n'),6,4
openstack%2Fopenstacksdk~master~Id28c3f94632a3cff5ad7ae525248e13fb1476a2a,openstack/openstacksdk,master,Id28c3f94632a3cff5ad7ae525248e13fb1476a2a,Changes for get calls in keystore proxy,MERGED,2015-05-13 19:53:51.000000000,2015-05-13 20:10:45.000000000,2015-05-13 20:10:43.000000000,"[{'_account_id': 3}, {'_account_id': 8736}]","[{'number': 1, 'created': '2015-05-13 19:53:51.000000000', 'files': ['openstack/tests/unit/keystore/v1/test_proxy.py', 'openstack/keystore/v1/_proxy.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/28b7b92861b30c05f94c2de9e6e6211fc3bc4a62', 'message': 'Changes for get calls in keystore proxy\n\nChange-Id: Id28c3f94632a3cff5ad7ae525248e13fb1476a2a\n'}]",0,182807,28b7b92861b30c05f94c2de9e6e6211fc3bc4a62,6,2,1,8257,,,0,"Changes for get calls in keystore proxy

Change-Id: Id28c3f94632a3cff5ad7ae525248e13fb1476a2a
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/07/182807/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/tests/unit/keystore/v1/test_proxy.py', 'openstack/keystore/v1/_proxy.py']",2,28b7b92861b30c05f94c2de9e6e6211fc3bc4a62,," def get_container(self, value): """"""Get a single container :param value: The value can be the ID of a container or a :class:`~openstack.keystore.v1.container.Container` instance. :returns: One :class:`~openstack.keystore.v1.container.Container` :raises: :class:`~openstack.exceptions.ResourceNotFound` when no resource can be found for this name or id. """""" return self._get(container.Container, value) def get_order(self, value): """"""Get a single order :param value: The value can be the ID of an order or a :class:`~openstack.keystore.v1.order.Order` instance. :returns: One :class:`~openstack.keystore.v1.order.Order` :raises: :class:`~openstack.exceptions.ResourceNotFound` when no resource can be found for this name or id. """""" return self._get(order.Order, value) def get_secret(self, value): """"""Get a single secret :param value: The value can be the ID of a secret or a :class:`~openstack.keystore.v1.secret.Secret` instance. :returns: One :class:`~openstack.keystore.v1.secret.Secret` :raises: :class:`~openstack.exceptions.ResourceNotFound` when no resource can be found for this name or id. """""" return self._get(secret.Secret, value)"," def get_container(self, **data): return container.Container(data).get(self.session) def get_order(self, **data): return order.Order(data).get(self.session) def get_secret(self, **data): return secret.Secret(data).get(self.session)",48,12
openstack%2Foslo.rootwrap~master~I205e0f3029624b20447e511aa9ca2283270bc3dd,openstack/oslo.rootwrap,master,I205e0f3029624b20447e511aa9ca2283270bc3dd,Remove run_cross_tests.sh,MERGED,2015-05-01 19:39:49.000000000,2015-05-13 20:08:22.000000000,2015-05-13 20:08:21.000000000,"[{'_account_id': 3}, {'_account_id': 708}, {'_account_id': 2472}, {'_account_id': 2813}, {'_account_id': 5638}]","[{'number': 1, 'created': '2015-05-01 19:39:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.rootwrap/commit/0f1e7bd6b4ce1eb6e4e3257ae582137babc1b7de', 'message': 'Remove run_cross_tests.sh\n\nThis script is part of the oslotest package now.\n\nChange-Id: I205e0f3029624b20447e511aa9ca2283270bc3dd\n'}, {'number': 2, 'created': '2015-05-02 18:57:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.rootwrap/commit/f7bcf41276e1b61186a3ebe7be3af34dec2f0ed0', 'message': 'Remove run_cross_tests.sh\n\nThis script is part of the oslotest package now.\n\nChange-Id: I205e0f3029624b20447e511aa9ca2283270bc3dd\n'}, {'number': 3, 'created': '2015-05-04 20:41:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.rootwrap/commit/73e01a2dea7697d5e7828c1aff5dcb5eeb0d3044', 'message': 'Remove run_cross_tests.sh\n\nThis script is part of the oslotest package now.\n\nChange-Id: I205e0f3029624b20447e511aa9ca2283270bc3dd\n'}, {'number': 4, 'created': '2015-05-05 19:33:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.rootwrap/commit/2c9c0ad6ca94f574841e0f32485242237e4783b3', 'message': 'Remove run_cross_tests.sh\n\nThis script is part of the oslotest package now.\n\nChange-Id: I205e0f3029624b20447e511aa9ca2283270bc3dd\n'}, {'number': 5, 'created': '2015-05-05 19:40:20.000000000', 'files': ['tools/run_cross_tests.sh', 'openstack-common.conf'], 'web_link': 'https://opendev.org/openstack/oslo.rootwrap/commit/563291f10d397280012f456c4ab524904ed69a00', 'message': 'Remove run_cross_tests.sh\n\nThis script is part of the oslotest package now.\n\nChange-Id: I205e0f3029624b20447e511aa9ca2283270bc3dd\n'}]",1,179477,563291f10d397280012f456c4ab524904ed69a00,20,5,5,2472,,,0,"Remove run_cross_tests.sh

This script is part of the oslotest package now.

Change-Id: I205e0f3029624b20447e511aa9ca2283270bc3dd
",git fetch https://review.opendev.org/openstack/oslo.rootwrap refs/changes/77/179477/4 && git format-patch -1 --stdout FETCH_HEAD,"['tests/run_daemon.py', 'tests/test_warning.py', 'tests/test_rootwrap.py', 'oslo/rootwrap/jsonrpc.py', 'oslo/rootwrap/cmd.py', 'oslo/rootwrap/daemon.py', 'oslo/rootwrap/wrapper.py', 'oslo/rootwrap/__init__.py', 'oslo/rootwrap/client.py', 'tests/test_functional.py', 'oslo/rootwrap/filters.py', 'tools/run_cross_tests.sh', 'oslo/__init__.py', 'tests/__init__.py', 'tests/test_functional_eventlet.py']",15,0f1e7bd6b4ce1eb6e4e3257ae582137babc1b7de,remove-cross-test-script,,"# Copyright (c) 2014 Mirantis Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import os if os.environ.get('TEST_EVENTLET', False): import eventlet eventlet.monkey_patch() from tests import test_functional class RootwrapDaemonTest(test_functional.RootwrapDaemonTest): def assert_unpatched(self): # This test case is specifically for eventlet testing pass def test_graceful_death(self): # This test fails with eventlet on Python 2.6.6 on CentOS self.skip(""Eventlet doesn't like FIFOs"") ",0,1176
openstack%2Foslo.utils~master~I241b7c81c7ae3d26f81790e9180678dc9af81e22,openstack/oslo.utils,master,I241b7c81c7ae3d26f81790e9180678dc9af81e22,Add exception_to_unicode() function,MERGED,2015-03-11 16:06:47.000000000,2015-05-13 20:07:20.000000000,2015-05-13 20:07:18.000000000,"[{'_account_id': 3}, {'_account_id': 1297}, {'_account_id': 1669}, {'_account_id': 2472}, {'_account_id': 2813}, {'_account_id': 5638}, {'_account_id': 8122}, {'_account_id': 9107}]","[{'number': 1, 'created': '2015-03-11 16:06:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.utils/commit/af9042807ebc885a18c66d86ebb3388d788da611', 'message': ""Add exception_to_unicode() function\n\nThere is no simple way working on Python 2 and Python 3 to get the\nmessage of an exception as a Unicode string. This new functions uses an\nheuristic to get the encoding of the exception message. It tries UTF-8\n(which is a superset of ASCII), the locale encoding, or fallback to\nISO-8859-1 (which never fails).\n\nThis function is required to log exceptions using the logging module\nwhen the exception message contains non-ASCII characters.\n\n- logging.log() only works with non-ASCII characters on Python 2 and\n  Python 3 if the message is formatted as Unicode. For example,\n  logging.log(b'error: %s', b'\\xe9') fails in most cases.\n- unicode % bytes doesn't work with non-ASCII characters\n- logging.log(u'error: %s', exc) doesn't work if the exception message\n  contains a non-ASCII character\n\nOnly logging.log(u'error: %s', exception_to_unicode(exc)) works in all\ncases: ASCII or non-ASCII exception message, Python 2 and Python 3.\n\nChange-Id: I241b7c81c7ae3d26f81790e9180678dc9af81e22\n""}, {'number': 2, 'created': '2015-03-20 15:27:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.utils/commit/52c08d28337c1043458282acd52b9036f355149f', 'message': ""Add exception_to_unicode() function\n\nThere is no simple way working on Python 2 and Python 3 to get the\nmessage of an exception as a Unicode string. This new functions uses an\nheuristic to get the encoding of the exception message. It tries UTF-8\n(which is a superset of ASCII), the locale encoding, or fallback to\nISO-8859-1 (which never fails).\n\nThis function is required to log exceptions using the logging module\nwhen the exception message contains non-ASCII characters.\n\n- logging.log() only works with non-ASCII characters on Python 2 and\n  Python 3 if the message is formatted as Unicode. For example,\n  logging.log(b'error: %s', b'\\xe9') fails in most cases.\n- unicode % bytes doesn't work with non-ASCII characters\n- logging.log(u'error: %s', exc) doesn't work if the exception message\n  contains a non-ASCII character\n\nOnly logging.log(u'error: %s', exception_to_unicode(exc)) works in all\ncases: ASCII or non-ASCII exception message, Python 2 and Python 3.\n\nChange-Id: I241b7c81c7ae3d26f81790e9180678dc9af81e22\n""}, {'number': 3, 'created': '2015-03-26 17:00:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.utils/commit/53ee8719a9af2bb95585b9076abc1200f5f5dd16', 'message': ""Add exception_to_unicode() function\n\nThere is no simple way working on Python 2 and Python 3 to get the\nmessage of an exception as a Unicode string. This new functions uses an\nheuristic to get the encoding of the exception message. It tries UTF-8\n(which is a superset of ASCII), the locale encoding, or fallback to\nISO-8859-1 (which never fails).\n\nThis function is required to log exceptions using the logging module\nwhen the exception message contains non-ASCII characters.\n\n- logging.log() only works with non-ASCII characters on Python 2 and\n  Python 3 if the message is formatted as Unicode. For example,\n  logging.log(b'error: %s', b'\\xe9') fails in most cases.\n- unicode % bytes doesn't work with non-ASCII characters\n- logging.log(u'error: %s', exc) doesn't work if the exception message\n  contains a non-ASCII character\n\nOnly logging.log(u'error: %s', exception_to_unicode(exc)) works in all\ncases: ASCII or non-ASCII exception message, Python 2 and Python 3.\n\nChange-Id: I241b7c81c7ae3d26f81790e9180678dc9af81e22\n""}, {'number': 4, 'created': '2015-05-06 06:50:02.000000000', 'files': ['oslo_utils/encodeutils.py', 'oslo_utils/tests/tests_encodeutils.py'], 'web_link': 'https://opendev.org/openstack/oslo.utils/commit/7f2406874ec187fd65dc7aef53d184236aa7edc8', 'message': ""Add exception_to_unicode() function\n\nThere is no simple way working on Python 2 and Python 3 to get the\nmessage of an exception as a Unicode string. This new functions uses an\nheuristic to get the encoding of the exception message. It tries UTF-8\n(which is a superset of ASCII), the locale encoding, or fallback to\nISO-8859-1 (which never fails).\n\nThis function is required to log exceptions using the logging module\nwhen the exception message contains non-ASCII characters.\n\n- logging.log() only works with non-ASCII characters on Python 2 and\n  Python 3 if the message is formatted as Unicode. For example,\n  logging.log(b'error: %s', b'\\xe9') fails in most cases.\n- unicode % bytes doesn't work with non-ASCII characters\n- logging.log(u'error: %s', exc) doesn't work if the exception message\n  contains a non-ASCII character\n\nOnly logging.log(u'error: %s', exception_to_unicode(exc)) works in all\ncases: ASCII or non-ASCII exception message, Python 2 and Python 3.\n\nCo-Authored-By: Joshua Harlow <harlowja@gmail.com>\n\nChange-Id: I241b7c81c7ae3d26f81790e9180678dc9af81e22\n""}]",11,163507,7f2406874ec187fd65dc7aef53d184236aa7edc8,26,8,4,9107,,,0,"Add exception_to_unicode() function

There is no simple way working on Python 2 and Python 3 to get the
message of an exception as a Unicode string. This new functions uses an
heuristic to get the encoding of the exception message. It tries UTF-8
(which is a superset of ASCII), the locale encoding, or fallback to
ISO-8859-1 (which never fails).

This function is required to log exceptions using the logging module
when the exception message contains non-ASCII characters.

- logging.log() only works with non-ASCII characters on Python 2 and
  Python 3 if the message is formatted as Unicode. For example,
  logging.log(b'error: %s', b'\xe9') fails in most cases.
- unicode % bytes doesn't work with non-ASCII characters
- logging.log(u'error: %s', exc) doesn't work if the exception message
  contains a non-ASCII character

Only logging.log(u'error: %s', exception_to_unicode(exc)) works in all
cases: ASCII or non-ASCII exception message, Python 2 and Python 3.

Co-Authored-By: Joshua Harlow <harlowja@gmail.com>

Change-Id: I241b7c81c7ae3d26f81790e9180678dc9af81e22
",git fetch https://review.opendev.org/openstack/oslo.utils refs/changes/07/163507/4 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_utils/encodeutils.py', 'oslo_utils/tests/tests_encodeutils.py']",2,af9042807ebc885a18c66d86ebb3388d788da611,str_exc," def test_exception_to_unicode(self): # Exception cannot be used directly: Exception(u'\xe9').__str__() # raises an UnicodeEncodeError on Python 2. class StrException(Exception): def __init__(self, value): Exception.__init__(self) self.value = value def __str__(self): return self.value # Force the locale encoding to ASCII to test the fallback to ISO-8859-1 with mock.patch('sys.getfilesystemencoding', return_value='ascii'): # On Python 3, StrException(bytes) is probably a bug, but it was # not harder to support this silly case in exception_to_unicode(). exc = StrException(b'bytes ascii') # Decode from ASCII self.assertEqual(encodeutils.exception_to_unicode(exc), u'bytes ascii') exc = StrException(b'utf-8 \xc3\xa9\xe2\x82\xac') # Decode from UTF-8 self.assertEqual(encodeutils.exception_to_unicode(exc), u'utf-8 \xe9\u20ac') exc = StrException(b'rawbytes \x80\xff') # Fallback: decode from ISO-8859-1 self.assertEqual(encodeutils.exception_to_unicode(exc), u'rawbytes \x80\xff') exc = StrException(u'unicode ascii') # No conversion needed self.assertEqual(encodeutils.exception_to_unicode(exc), u'unicode ascii') exc = StrException(u'unicode \xe9\u20ac') # No conversion needed self.assertEqual(encodeutils.exception_to_unicode(exc), u'unicode \xe9\u20ac') # Test the locale encoding with mock.patch('sys.getfilesystemencoding', return_value='koi8_r'): exc = StrException(b'\xf2\xd5\xd3\xd3\xcb\xc9\xca') # Decode from the locale encoding # (the message cannot be decoded from ASCII nor UTF-8) self.assertEqual(encodeutils.exception_to_unicode(exc), u'\u0420\u0443\u0441\u0441\u043a\u0438\u0439')",,93,0
openstack%2Fnova-powervm~master~Ic8555f49f213e3e7e46a59e1518984ef5e0f431b,openstack/nova-powervm,master,Ic8555f49f213e3e7e46a59e1518984ef5e0f431b,Update vscsi mapping to not include adapter,MERGED,2015-05-13 18:40:54.000000000,2015-05-13 20:06:48.000000000,2015-05-13 20:06:46.000000000,"[{'_account_id': 3}, {'_account_id': 8190}, {'_account_id': 8662}, {'_account_id': 14070}]","[{'number': 1, 'created': '2015-05-13 18:40:54.000000000', 'files': ['nova_powervm/tests/virt/powervm/volume/test_vscsi.py', 'nova_powervm/virt/powervm/volume/vscsi.py'], 'web_link': 'https://opendev.org/openstack/nova-powervm/commit/6a56fe8146d863fea03b60562b667d458ad0a4f1', 'message': 'Update vscsi mapping to not include adapter\n\nThis change updates the vscsi.py to not send the adapter down when\nrequesting that the scsi adapter be connected.  This was due to a recent\nchange in pypowervm, and the refactor was missed in the nova-powervm\ncode.\n\nAn additional unit test was added to cover this.\n\nChange-Id: Ic8555f49f213e3e7e46a59e1518984ef5e0f431b\n'}]",0,182784,6a56fe8146d863fea03b60562b667d458ad0a4f1,8,4,1,8190,,,0,"Update vscsi mapping to not include adapter

This change updates the vscsi.py to not send the adapter down when
requesting that the scsi adapter be connected.  This was due to a recent
change in pypowervm, and the refactor was missed in the nova-powervm
code.

An additional unit test was added to cover this.

Change-Id: Ic8555f49f213e3e7e46a59e1518984ef5e0f431b
",git fetch https://review.opendev.org/openstack/nova-powervm refs/changes/84/182784/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova_powervm/tests/virt/powervm/volume/test_vscsi.py', 'nova_powervm/virt/powervm/volume/vscsi.py']",2,6a56fe8146d863fea03b60562b667d458ad0a4f1,update_scsi_mapping," tsk_map.add_vscsi_mapping(host_uuid, vios_uuid, vm_uuid, pv)"," tsk_map.add_vscsi_mapping(adapter, host_uuid, vios_uuid, vm_uuid, pv)",4,1
openstack%2Foslo.i18n~master~I84667d51a7a391264ef6559f71730aa5b15fa2fb,openstack/oslo.i18n,master,I84667d51a7a391264ef6559f71730aa5b15fa2fb,Remove run_cross_tests.sh,MERGED,2015-05-01 19:38:18.000000000,2015-05-13 20:05:59.000000000,2015-05-13 20:05:58.000000000,"[{'_account_id': 3}, {'_account_id': 2813}, {'_account_id': 5638}, {'_account_id': 11904}]","[{'number': 1, 'created': '2015-05-01 19:38:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.i18n/commit/3c15b90c15de2699dc5fd89f639e31cba580cd29', 'message': 'Remove run_cross_tests.sh\n\nThis script is part of the oslotest package now.\n\nChange-Id: I84667d51a7a391264ef6559f71730aa5b15fa2fb\n'}, {'number': 2, 'created': '2015-05-05 19:33:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.i18n/commit/ff1b98bab98a6e7ef8bc48c84134d26c45727870', 'message': 'Remove run_cross_tests.sh\n\nThis script is part of the oslotest package now.\n\nChange-Id: I84667d51a7a391264ef6559f71730aa5b15fa2fb\n'}, {'number': 3, 'created': '2015-05-05 19:40:08.000000000', 'files': ['tools/run_cross_tests.sh', 'openstack-common.conf'], 'web_link': 'https://opendev.org/openstack/oslo.i18n/commit/0613c7c239c1ba2af1920814870dc48e4836c64c', 'message': 'Remove run_cross_tests.sh\n\nThis script is part of the oslotest package now.\n\nChange-Id: I84667d51a7a391264ef6559f71730aa5b15fa2fb\n'}]",1,179474,0613c7c239c1ba2af1920814870dc48e4836c64c,13,4,3,2472,,,0,"Remove run_cross_tests.sh

This script is part of the oslotest package now.

Change-Id: I84667d51a7a391264ef6559f71730aa5b15fa2fb
",git fetch https://review.opendev.org/openstack/oslo.i18n refs/changes/74/179474/2 && git format-patch -1 --stdout FETCH_HEAD,['tools/run_cross_tests.sh'],1,3c15b90c15de2699dc5fd89f639e31cba580cd29,remove-cross-test-script,,"#!/bin/bash # # Run cross-project tests # # Usage: # # run_cross_tests.sh project_dir venv # Fail the build if any command fails set -e project_dir=""$1"" venv=""$2"" if [ -z ""$project_dir"" -o -z ""$venv"" ] then cat - <<EOF ERROR: Missing argument(s) Usage: $0 PROJECT_DIR VIRTUAL_ENV Example, run the python 2.7 tests for python-neutronclient: $0 /opt/stack/python-neutronclient py27 EOF exit 1 fi # Set up the virtualenv without running the tests (cd $project_dir && tox --notest -e $venv) tox_envbin=$project_dir/.tox/$venv/bin our_name=$(python setup.py --name) # Replace the pip-installed package with the version in our source # tree. Look to see if we are already installed before trying to # uninstall ourselves, to avoid failures from packages that do not use us # yet. if $tox_envbin/pip freeze | grep -q $our_name then $tox_envbin/pip uninstall -y $our_name fi $tox_envbin/pip install -U . # Run the tests (cd $project_dir && tox -e $venv) result=$? # The below checks are modified from # openstack-infra/config/modules/jenkins/files/slave_scripts/run-unittests.sh. # They expect to be run in the project being tested. cd $project_dir echo ""Begin pip freeze output from test virtualenv:"" echo ""======================================================================"" .tox/$venv/bin/pip freeze echo ""======================================================================"" # We only want to run the next check if the tool is installed, so look # for it before continuing. if [ -f /usr/local/jenkins/slave_scripts/subunit2html.py -a -d "".testrepository"" ] ; then if [ -f "".testrepository/0.2"" ] ; then cp .testrepository/0.2 ./subunit_log.txt elif [ -f "".testrepository/0"" ] ; then .tox/$venv/bin/subunit-1to2 < .testrepository/0 > ./subunit_log.txt fi .tox/$venv/bin/python /usr/local/jenkins/slave_scripts/subunit2html.py ./subunit_log.txt testr_results.html gzip -9 ./subunit_log.txt gzip -9 ./testr_results.html export PYTHON=.tox/$venv/bin/python set -e rancount=$(.tox/$venv/bin/testr last | sed -ne 's/Ran \([0-9]\+\).*tests in.*/\1/p') if [ ""$rancount"" -eq ""0"" ] ; then echo echo ""Zero tests were run. At least one test should have been run."" echo ""Failing this test as a result"" echo exit 1 fi fi # If we make it this far, report status based on the tests that were # run. exit $result ",0,91
openstack%2Foslo.utils~master~Iecaf256d4322c7d96348d8a4e9612d5f8e18c94e,openstack/oslo.utils,master,Iecaf256d4322c7d96348d8a4e9612d5f8e18c94e,Denote monotonic import ordering + usage,MERGED,2015-04-19 15:44:03.000000000,2015-05-13 20:05:52.000000000,2015-05-13 20:05:52.000000000,"[{'_account_id': 3}, {'_account_id': 2813}, {'_account_id': 5638}, {'_account_id': 11236}]","[{'number': 1, 'created': '2015-04-19 15:44:03.000000000', 'files': ['oslo_utils/timeutils.py'], 'web_link': 'https://opendev.org/openstack/oslo.utils/commit/8d9243ad732a9d7d9c7d00bc7c649ced843e5bf3', 'message': 'Denote monotonic import ordering + usage\n\nIn the stop watch class docstring denote which\nmonotonic functions will be imported and in what\norder and how the final fallback will use the non\nmonotonic time.time.\n\nChange-Id: Iecaf256d4322c7d96348d8a4e9612d5f8e18c94e\n'}]",0,175218,8d9243ad732a9d7d9c7d00bc7c649ced843e5bf3,8,4,1,1297,,,0,"Denote monotonic import ordering + usage

In the stop watch class docstring denote which
monotonic functions will be imported and in what
order and how the final fallback will use the non
monotonic time.time.

Change-Id: Iecaf256d4322c7d96348d8a4e9612d5f8e18c94e
",git fetch https://review.opendev.org/openstack/oslo.utils refs/changes/18/175218/1 && git format-patch -1 --stdout FETCH_HEAD,['oslo_utils/timeutils.py'],1,8d9243ad732a9d7d9c7d00bc7c649ced843e5bf3,, It will try to use ``time.monotonic`` and then attempt to use the `monotonic`_ pypi library and then fallback to using the non-monotonic ``time.time``. .. _monotonic: https://pypi.python.org/pypi/monotonic/,,6,0
openstack%2Foslo.utils~master~If8060f485d89e81bd9d9b21f0962afb2b4beaab3,openstack/oslo.utils,master,If8060f485d89e81bd9d9b21f0962afb2b4beaab3,Remove run_cross_tests.sh,MERGED,2015-05-01 19:40:01.000000000,2015-05-13 20:05:51.000000000,2015-05-13 20:05:49.000000000,"[{'_account_id': 3}, {'_account_id': 2472}, {'_account_id': 2813}, {'_account_id': 5638}]","[{'number': 1, 'created': '2015-05-01 19:40:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.utils/commit/ce22a034176fa75b8828b0c2ade322087d5daaa1', 'message': 'Remove run_cross_tests.sh\n\nThis script is part of the oslotest package now.\n\nChange-Id: If8060f485d89e81bd9d9b21f0962afb2b4beaab3\n'}, {'number': 2, 'created': '2015-05-05 18:37:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.utils/commit/1d8a536a857ed56a553fce3b08154f2b0d039035', 'message': 'Remove run_cross_tests.sh\n\nThis script is part of the oslotest package now.\n\nChange-Id: If8060f485d89e81bd9d9b21f0962afb2b4beaab3\n'}, {'number': 3, 'created': '2015-05-05 19:40:31.000000000', 'files': ['tools/run_cross_tests.sh', 'openstack-common.conf'], 'web_link': 'https://opendev.org/openstack/oslo.utils/commit/9b3763b42ba7b0b7e9b526d9919109c8f9ea6625', 'message': 'Remove run_cross_tests.sh\n\nThis script is part of the oslotest package now.\n\nChange-Id: If8060f485d89e81bd9d9b21f0962afb2b4beaab3\n'}]",1,179480,9b3763b42ba7b0b7e9b526d9919109c8f9ea6625,13,4,3,2472,,,0,"Remove run_cross_tests.sh

This script is part of the oslotest package now.

Change-Id: If8060f485d89e81bd9d9b21f0962afb2b4beaab3
",git fetch https://review.opendev.org/openstack/oslo.utils refs/changes/80/179480/3 && git format-patch -1 --stdout FETCH_HEAD,"['tests/tests_encodeutils.py', 'tests/test_warning.py', 'oslo/utils/encodeutils.py', 'oslo/utils/netutils.py', 'oslo/utils/uuidutils.py', 'oslo/utils/timeutils.py', 'oslo/utils/importutils.py', 'tools/run_cross_tests.sh', 'tests/test_reflection.py', 'tests/base.py', 'tests/test_excutils.py', 'oslo/utils/strutils.py', 'oslo/utils/excutils.py', 'tests/test_importutils.py', 'oslo/utils/reflection.py', 'tests/test_strutils.py', 'tests/test_uuidutils.py', 'tests/unit/test_versionutils.py', 'oslo/utils/units.py', 'oslo/__init__.py', 'tests/test_netutils.py', 'tests/test_timeutils.py', 'tests/__init__.py', 'oslo/utils/__init__.py']",24,ce22a034176fa75b8828b0c2ade322087d5daaa1,remove-cross-test-script,,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import warnings def deprecated(): new_name = __name__.replace('.', '_') warnings.warn( ('The oslo namespace package is deprecated. Please use %s instead.' % new_name), DeprecationWarning, stacklevel=3, ) deprecated() ",0,2574
openstack%2Fpycadf~stable%2Ficehouse~I5047b0b207cfce2ae1189273fcf544717d5a2441,openstack/pycadf,stable/icehouse,I5047b0b207cfce2ae1189273fcf544717d5a2441,Update .gitreview for stable/icehouse,ABANDONED,2015-05-13 20:03:40.000000000,2015-05-13 20:03:57.000000000,,[],"[{'number': 1, 'created': '2015-05-13 20:03:40.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/pycadf/commit/b3c8a8a1681d3a5672ed5086080e153aa4ad13a9', 'message': 'Update .gitreview for stable/icehouse\n\nChange-Id: I5047b0b207cfce2ae1189273fcf544717d5a2441\n'}]",0,182815,b3c8a8a1681d3a5672ed5086080e153aa4ad13a9,2,0,1,2472,,,0,"Update .gitreview for stable/icehouse

Change-Id: I5047b0b207cfce2ae1189273fcf544717d5a2441
",git fetch https://review.opendev.org/openstack/pycadf refs/changes/15/182815/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,b3c8a8a1681d3a5672ed5086080e153aa4ad13a9,master,defaultbranch=stable/icehouse,,1,0
openstack%2Fsecurity-doc~master~I6499448fe9abfaf3dc07f06268eb69d100498100,openstack/security-doc,master,I6499448fe9abfaf3dc07f06268eb69d100498100,Improve language in Security Guide,MERGED,2015-05-13 03:53:52.000000000,2015-05-13 20:02:05.000000000,2015-05-13 20:02:03.000000000,"[{'_account_id': 3}, {'_account_id': 6547}, {'_account_id': 10670}, {'_account_id': 12325}, {'_account_id': 12442}, {'_account_id': 14920}]","[{'number': 1, 'created': '2015-05-13 03:53:52.000000000', 'files': ['security-guide/ch_dashboard.xml'], 'web_link': 'https://opendev.org/openstack/security-doc/commit/64b221f3bdbce3908b231cf7a7242bb3c0da65c0', 'message': 'Improve language in Security Guide\n\nChange-Id: I6499448fe9abfaf3dc07f06268eb69d100498100\nCloses-Bug: #1447667\n'}]",0,182529,64b221f3bdbce3908b231cf7a7242bb3c0da65c0,8,6,1,12686,,,0,"Improve language in Security Guide

Change-Id: I6499448fe9abfaf3dc07f06268eb69d100498100
Closes-Bug: #1447667
",git fetch https://review.opendev.org/openstack/security-doc refs/changes/29/182529/1 && git format-patch -1 --stdout FETCH_HEAD,['security-guide/ch_dashboard.xml'],1,64b221f3bdbce3908b231cf7a7242bb3c0da65c0,bug/1447667," <emphasis>second-level domain</emphasis>, such as <uri>https://example.com</uri>, and advise against deploying <uri>https://horizon.openstack.example.org</uri>. We also <uri>https://horizon/</uri>. These recommendations are based on the limitations of browser same-origin-policy.</para> known attacks if you deploy the dashboard in a domain that also hosts user-generated content, even when this content resides on a separate sub-domain. User-generated content can consist of scripts, images, or uploads of any type. Most major web presences, including googleusercontent.com, fbcdn.com, github.io, and twimg.co, use this approach to segregate <para>If you do not follow this recommendation regarding second-level domains, avoid a cookie-backed session store and employ HTTP Strict Transport Security (HSTS). When deployed on a subdomain, the dashboard's security is equivalent to the least secure application deployed on the same second-level domain.</para>"," <emphasis>second-level domain</emphasis>, such as <uri>https://example.com</uri>, and advise against deploying <uri>https://horizon.openstack.example.org</uri>. We also <uri>https://horizon/</uri>. These recommendations are based on the limitations of browser same-origin-policy.</para> known attacks if the dashboard is deployed on a domain which also hosts user-generated content, even when this content is located on a separate sub-domain. User generated content can consist of scripts, images, or uploads of any type. Most major web presences inclusive of googleusercontent.com, fbcdn.com, github.io, and twimg.co, utilize this approach to segregate <para>Additionally, if you decline to follow this recommendation above about second-level domains, it is vital that you avoid the cookie backed session store and employ HTTP Strict Transport Security (HSTS). When deployed on a subdomain, the dashboard's security is only as strong as the weakest application deployed on the same second-level domain.</para>",15,16
openstack%2Foslo.log~master~I1d4919ae1bb810931ac06226165bbf1f31e25417,openstack/oslo.log,master,I1d4919ae1bb810931ac06226165bbf1f31e25417,Provide an API to let tempest control the log file,MERGED,2015-04-14 22:24:18.000000000,2015-05-13 20:01:46.000000000,2015-05-13 20:01:45.000000000,"[{'_account_id': 3}, {'_account_id': 2472}, {'_account_id': 2813}, {'_account_id': 5638}, {'_account_id': 9656}]","[{'number': 1, 'created': '2015-04-14 22:24:18.000000000', 'files': ['oslo_log/tests/unit/test_log.py', 'oslo_log/log.py'], 'web_link': 'https://opendev.org/openstack/oslo.log/commit/64727772701cc639245bc83fb5846c2dec2b55df', 'message': ""Provide an API to let tempest control the log file\n\nBy default we log to stdout, but tempest wants to provide a log\nfile. Because tempest doesn't use a configuration file, there's no easy\nway for them to give us a filename to use. We don't want most projects\nto set a programmatic default, so rather than adding this to\nset_defaults(), we define a new function and document that only tempest\nshould call it.\n\nChange-Id: I1d4919ae1bb810931ac06226165bbf1f31e25417\n""}]",3,173573,64727772701cc639245bc83fb5846c2dec2b55df,13,5,1,2472,,,0,"Provide an API to let tempest control the log file

By default we log to stdout, but tempest wants to provide a log
file. Because tempest doesn't use a configuration file, there's no easy
way for them to give us a filename to use. We don't want most projects
to set a programmatic default, so rather than adding this to
set_defaults(), we define a new function and document that only tempest
should call it.

Change-Id: I1d4919ae1bb810931ac06226165bbf1f31e25417
",git fetch https://review.opendev.org/openstack/oslo.log refs/changes/73/173573/1 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_log/tests/unit/test_log.py', 'oslo_log/log.py']",2,64727772701cc639245bc83fb5846c2dec2b55df,tempest-log-file-api,"def tempest_set_log_file(filename): """"""Provide an API for tempest to set the logging filename. .. warning:: Only Tempest should use this function. We don't want applications to set a default log file, so we don't want this in set_defaults(). Because tempest doesn't use a configuration file we don't have another convenient way to safely set the log file default. """""" cfg.set_defaults(_options.logging_cli_opts, log_file=filename) ",,26,0
openstack%2Fopenstack-doc-tools~master~Ic71711dc8f2acd3a4f8d127d1ff9de5e6d279acd,openstack/openstack-doc-tools,master,Ic71711dc8f2acd3a4f8d127d1ff9de5e6d279acd,Fix RST languages,MERGED,2015-05-12 07:25:39.000000000,2015-05-13 19:59:13.000000000,2015-05-13 19:59:13.000000000,"[{'_account_id': 3}, {'_account_id': 964}, {'_account_id': 6547}]","[{'number': 1, 'created': '2015-05-12 07:25:39.000000000', 'files': ['RELEASE_NOTES.rst', 'bin/doc-tools-check-languages'], 'web_link': 'https://opendev.org/openstack/openstack-doc-tools/commit/552c693585eee0d00a50978dea68414f07f963a2', 'message': 'Fix RST languages\n\nAdd handling of user-guide and user-guide-admin, fix wrong path for all\nRST files.\n\nChange-Id: Ic71711dc8f2acd3a4f8d127d1ff9de5e6d279acd\n'}]",0,182178,552c693585eee0d00a50978dea68414f07f963a2,8,3,1,6547,,,0,"Fix RST languages

Add handling of user-guide and user-guide-admin, fix wrong path for all
RST files.

Change-Id: Ic71711dc8f2acd3a4f8d127d1ff9de5e6d279acd
",git fetch https://review.opendev.org/openstack/openstack-doc-tools refs/changes/78/182178/1 && git format-patch -1 --stdout FETCH_HEAD,"['RELEASE_NOTES.rst', 'bin/doc-tools-check-languages']",2,552c693585eee0d00a50978dea68414f07f963a2,separate-user-guide," if [ ${book} == ""user-guide"" ] ; then TAG=""-t user_only"" fi if [ ${book} == ""user-guide-admin"" ] ; then TAG=""-t admin_only"" fi tox -evenv ""sphinx-build -W -b gettext $TAG doc/${book}/source/ doc/${book}/source/locale/"" tox -evenv ""sphinx-build $TAG -D language=${language} doc/${book}/source/ \ rsync -a doc/${book}/build/html/ publish-docs/${language}/${book}/"," # Generate glossary first tools/glossary2rst.py doc/${book}/source/glossary.rst tox -evenv ""sphinx-build -W -b gettext doc/${book}/source/ doc/${book}/source/locale/"" tox -evenv ""sphinx-build -D language=${language} doc/${book}/source/ \ rsync -a doc/${book}/build-admin/html/ publish-docs/${language}/${book}/",11,6
openstack%2Foslo.messaging~master~I20d133ac67b8a8a4c51d51b6a1b2369aa44ffe2f,openstack/oslo.messaging,master,I20d133ac67b8a8a4c51d51b6a1b2369aa44ffe2f,rabbit: smarter declaration of the notif. queue,MERGED,2015-04-30 22:19:39.000000000,2015-05-13 19:54:36.000000000,2015-05-13 19:54:35.000000000,"[{'_account_id': 3}, {'_account_id': 1297}, {'_account_id': 1669}, {'_account_id': 2472}, {'_account_id': 2813}]","[{'number': 1, 'created': '2015-04-30 22:19:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/91ef35f8d3c8f1c636804c043a0a226889e0d427', 'message': ""Smarter declaration of the notification queue\n\nThe NotifyPublisher was redeclaring again and again,\nthe same exchange and queue each times a notification is sent.\n\nThis change fixes that by caching the already declared exchange\nand queue for each channel.\n\nAlso, to make the test pass. 'Connection.ensure' have been updated\nto have the same behavior for amqp and memory driver about\nkombu recoverable_errors. And the hostname and port of the memory\ndriver are set to not fail when we print a log message.\n\nCloses bug: #1437902\n\nChange-Id: I20d133ac67b8a8a4c51d51b6a1b2369aa44ffe2f\n""}, {'number': 2, 'created': '2015-05-04 06:52:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/62e24b715c01475141a2300d05d24917c1a92c24', 'message': ""Smarter declaration of the notification queue\n\nThe NotifyPublisher was redeclaring again and again,\nthe same exchange and queue each times a notification is sent.\n\nThis change fixes that by caching the already declared exchange\nand queue for each channel.\n\nAlso, to make the test pass. 'Connection.ensure' have been updated\nto have the same behavior for amqp and memory driver about\nkombu recoverable_errors. And the hostname and port of the memory\ndriver are set to not fail when we print a log message.\n\nCloses bug: #1437902\n\nChange-Id: I20d133ac67b8a8a4c51d51b6a1b2369aa44ffe2f\n""}, {'number': 3, 'created': '2015-05-04 14:12:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/2d477dacb104ca0126e3b2357e095d9e9ae643fd', 'message': ""Smarter declaration of the notification queue\n\nThe NotifyPublisher was redeclaring again and again,\nthe same exchange and queue each times a notification is sent.\n\nThis change fixes that by caching the already declared exchange\nand queue for each channel.\n\nAlso, to make the test pass. 'Connection.ensure' have been updated\nto have the same behavior for amqp and memory driver about\nkombu recoverable_errors. And the hostname and port of the memory\ndriver are set to not fail when we print a log message.\n\nCloses bug: #1437902\n\nChange-Id: I20d133ac67b8a8a4c51d51b6a1b2369aa44ffe2f\n""}, {'number': 4, 'created': '2015-05-05 06:27:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/f837db3251b1efb72dc360552f446b5e6168efb0', 'message': ""Smarter declaration of the notification queue\n\nThe NotifyPublisher was redeclaring again and again,\nthe same exchange and queue each times a notification is sent.\n\nThis change fixes that by caching the already declared exchange\nand queue for each channel.\n\nAlso, to make the test pass. 'Connection.ensure' have been updated\nto have the same behavior for amqp and memory driver about\nkombu recoverable_errors. And the hostname and port of the memory\ndriver are set to not fail when we print a log message.\n\nCloses bug: #1437902\n\nChange-Id: I20d133ac67b8a8a4c51d51b6a1b2369aa44ffe2f\n""}, {'number': 5, 'created': '2015-05-05 08:39:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/962467d7b53be90e30c45e60ab5f2ebb66513cf5', 'message': ""rabbit: smarter declaration of the notif. queue\n\nThe NotifyPublisher was redeclaring again and again,\nthe same exchange and queue each times a notification is sent.\n\nThis change fixes that by caching the already declared exchange\nand queue for each channel.\n\nAlso, to make the test pass. 'Connection.ensure' have been updated\nto have the same behavior for amqp and memory driver about\nkombu recoverable_errors. And the hostname and port of the memory\ndriver are set to not fail when we print a log message.\n\nCloses bug: #1437902\n\nChange-Id: I20d133ac67b8a8a4c51d51b6a1b2369aa44ffe2f\n""}, {'number': 6, 'created': '2015-05-05 08:40:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/562a2ea411b8dfe40b055bfce826b463751999eb', 'message': ""rabbit: smarter declaration of the notif. queue\n\nThe NotifyPublisher was redeclaring again and again,\nthe same exchange and queue each times a notification is sent.\n\nThis change fixes that by caching the already declared exchange\nand queue for each channel.\n\nAlso, to make the test pass. 'Connection.ensure' have been updated\nto have the same behavior for amqp and memory driver about\nkombu recoverable_errors. And the hostname and port of the memory\ndriver are set to not fail when we print a log message.\n\nCloses bug: #1437902\n\nChange-Id: I20d133ac67b8a8a4c51d51b6a1b2369aa44ffe2f\n""}, {'number': 7, 'created': '2015-05-05 12:51:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/85fe521924ad0cd0db0404a90501dd89af37e59d', 'message': ""rabbit: smarter declaration of the notif. queue\n\nThe NotifyPublisher was redeclaring again and again,\nthe same exchange and queue each times a notification is sent.\n\nThis change fixes that by caching the already declared exchange\nand queue for each channel.\n\nAlso, to make the test pass. 'Connection.ensure' have been updated\nto have the same behavior for amqp and memory driver about\nkombu recoverable_errors. And the hostname and port of the memory\ndriver are set to not fail when we print a log message.\n\nCloses bug: #1437902\n\nChange-Id: I20d133ac67b8a8a4c51d51b6a1b2369aa44ffe2f\n""}, {'number': 8, 'created': '2015-05-07 08:14:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/2f2d87a4c66c35d8eadc0a74af684c992f4b6b96', 'message': ""rabbit: smarter declaration of the notif. queue\n\nThe NotifyPublisher was redeclaring again and again,\nthe same exchange and queue each times a notification is sent.\n\nThis change fixes that by caching the already declared exchange\nand queue for each channel.\n\nAlso, to make the test pass. 'Connection.ensure' have been updated\nto have the same behavior for amqp and memory driver about\nkombu recoverable_errors. And the hostname and port of the memory\ndriver are set to not fail when we print a log message.\n\nCloses bug: #1437902\n\nChange-Id: I20d133ac67b8a8a4c51d51b6a1b2369aa44ffe2f\n""}, {'number': 9, 'created': '2015-05-11 06:51:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/c3b8da1e0e323a50faf964cb089097031b08948b', 'message': ""rabbit: smarter declaration of the notif. queue\n\nThe NotifyPublisher was redeclaring again and again,\nthe same exchange and queue each times a notification is sent.\n\nThis change fixes that by caching the already declared exchange\nand queue for each channel.\n\nAlso, to make the test pass. 'Connection.ensure' have been updated\nto have the same behavior for amqp and memory driver about\nkombu recoverable_errors. And the hostname and port of the memory\ndriver are set to not fail when we print a log message.\n\nCloses bug: #1437902\n\nChange-Id: I20d133ac67b8a8a4c51d51b6a1b2369aa44ffe2f\n""}, {'number': 10, 'created': '2015-05-12 08:27:53.000000000', 'files': ['oslo_messaging/tests/drivers/test_impl_rabbit.py', 'oslo_messaging/_drivers/impl_rabbit.py'], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/1ba55c03b57acd5631652c556c2c257f9f7af6e3', 'message': ""rabbit: smarter declaration of the notif. queue\n\nThe NotifyPublisher was redeclaring again and again,\nthe same exchange and queue each times a notification is sent.\n\nThis change fixes that by caching the already declared exchange\nand queue for each channel.\n\nAlso, to make the test pass. 'Connection.ensure' have been updated\nto have the same behavior for amqp and memory driver about\nkombu recoverable_errors. And the hostname and port of the memory\ndriver are set to not fail when we print a log message.\n\nCloses bug: #1437902\n\nChange-Id: I20d133ac67b8a8a4c51d51b6a1b2369aa44ffe2f\n""}]",7,179270,1ba55c03b57acd5631652c556c2c257f9f7af6e3,31,5,10,2813,,,0,"rabbit: smarter declaration of the notif. queue

The NotifyPublisher was redeclaring again and again,
the same exchange and queue each times a notification is sent.

This change fixes that by caching the already declared exchange
and queue for each channel.

Also, to make the test pass. 'Connection.ensure' have been updated
to have the same behavior for amqp and memory driver about
kombu recoverable_errors. And the hostname and port of the memory
driver are set to not fail when we print a log message.

Closes bug: #1437902

Change-Id: I20d133ac67b8a8a4c51d51b6a1b2369aa44ffe2f
",git fetch https://review.opendev.org/openstack/oslo.messaging refs/changes/70/179270/9 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_messaging/tests/drivers/test_impl_rabbit.py', 'oslo_messaging/_drivers/impl_rabbit.py']",2,91ef35f8d3c8f1c636804c043a0a226889e0d427,sileht/refactor," DECLARED_QUEUES = {} if conn.channel not in self.DECLARED_QUEUES: self.DECLARED_QUEUES[conn.channel] = set() queue_indentifier = (self.exchange_name, self.routing_key) # NOTE(sileht): We only do it once per reconnection # the Connection._set_current_channel() is responsible to clear # this cache if queue_indentifier not in self.DECLARED_QUEUES[conn.channel]: queue = kombu.entity.Queue( channel=conn.channel, exchange=self.exchange, durable=self.durable, auto_delete=self.auto_delete, name=self.routing_key, routing_key=self.routing_key, queue_arguments=self.queue_arguments) queue.declare() self.DECLARED_QUEUES[conn.channel].add(queue_indentifier) @classmethod def reset_cache(cls, channel): cls.DECLARED_QUEUES.pop(channel, None) # Fixup logging self.connection.hostname = ""memory_driver"" self.connection.port = 1234 # NOTE(sileht): Some dummy driver like the in-memory one doesn't # have notion of recoverable connection, so we must raise the original # exception like kombu does in this case. has_modern_errors = hasattr( self.connection.transport, 'recoverable_connection_errors', ) if has_modern_errors: recoverable_errors = ( self.connection.recoverable_channel_errors + self.connection.recoverable_connection_errors) else: recoverable_errors = () DeclareQueuePublisher.reset_cache(self.channel)"," # FIXME(sileht): The side effect of this is that we declare again and # again the same queue, and generate a lot of useless rabbit traffic. # https://bugs.launchpad.net/oslo.messaging/+bug/1437902 queue = kombu.entity.Queue( channel=conn.channel, exchange=self.exchange, durable=self.durable, auto_delete=self.auto_delete, name=self.routing_key, routing_key=self.routing_key, queue_arguments=self.queue_arguments) queue.declare() recoverable_errors = (self.connection.recoverable_channel_errors + self.connection.recoverable_connection_errors)",89,14
openstack%2Fproject-config~master~Ica2f02111aa1c891461a7aca4e86cea71e583530,openstack/project-config,master,Ica2f02111aa1c891461a7aca4e86cea71e583530,Publish storyboard docs to docs.o.o,MERGED,2015-05-13 18:19:54.000000000,2015-05-13 19:53:33.000000000,2015-05-13 19:53:32.000000000,"[{'_account_id': 1}, {'_account_id': 3}, {'_account_id': 5263}, {'_account_id': 6547}]","[{'number': 1, 'created': '2015-05-13 18:19:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/e92ab9904cf414d9e37ac72bf02358abe4b1e467', 'message': 'Publish storyboard docs to docs.o.o\n\nThis is a continuation of I51a86699a39e6f8fdac91ad91f5933246681ae15\nwhich missed moving storyboard documentation.\n\nChange-Id: Ica2f02111aa1c891461a7aca4e86cea71e583530\n'}, {'number': 2, 'created': '2015-05-13 19:02:29.000000000', 'files': ['jenkins/jobs/projects.yaml', 'zuul/layout.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/68f5e3edeaaf4282937c8360f9a3fcbf425f373e', 'message': 'Publish storyboard docs to docs.o.o\n\nThis is a continuation of I51a86699a39e6f8fdac91ad91f5933246681ae15\nwhich missed moving storyboard documentation.\n\nChange-Id: Ica2f02111aa1c891461a7aca4e86cea71e583530\n'}]",0,182778,68f5e3edeaaf4282937c8360f9a3fcbf425f373e,10,4,2,5263,,,0,"Publish storyboard docs to docs.o.o

This is a continuation of I51a86699a39e6f8fdac91ad91f5933246681ae15
which missed moving storyboard documentation.

Change-Id: Ica2f02111aa1c891461a7aca4e86cea71e583530
",git fetch https://review.opendev.org/openstack/project-config refs/changes/78/182778/1 && git format-patch -1 --stdout FETCH_HEAD,"['jenkins/jobs/projects.yaml', 'zuul/layout.yaml']",2,e92ab9904cf414d9e37ac72bf02358abe4b1e467,move-infra-docs, - name: infra-publish-jobs - storyboard-infra-docs release: - storyboard-infra-docs, - gate-storyboard-docs - gate-storyboard-docs - storyboard-docs - storyboard-docs release: - storyboard-docs,5,5
openstack%2Foslo.messaging~master~I5991a4cf827411bc27c857561d97461212a17f40,openstack/oslo.messaging,master,I5991a4cf827411bc27c857561d97461212a17f40,rabbit: redeclare consumers when ack/requeue fail,MERGED,2015-05-05 08:39:07.000000000,2015-05-13 19:50:43.000000000,2015-05-13 19:50:41.000000000,"[{'_account_id': 3}, {'_account_id': 1297}, {'_account_id': 1669}, {'_account_id': 2813}, {'_account_id': 5638}, {'_account_id': 6537}]","[{'number': 1, 'created': '2015-05-05 08:39:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/50d70ceae43b4f94b379976f472625976dd07245', 'message': 'rabbit: redeclare consumers when ack/requeue fail\n\nIn case the acknowledgement or requeue of a message fail,\nthe kombu transport can be disconnected\n\nIn this case, we must redeclare our consumers.\n\nThis changes fixes that.\n\nThis have no tests because the kombu memory transport we use in our tests\ncannot be in disconnected state.\n\nCloses-bugs: #1448650\n\nChange-Id: I5991a4cf827411bc27c857561d97461212a17f40\n'}, {'number': 2, 'created': '2015-05-05 08:40:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/d766b4c2988c13b03aedd2fe41e46674b20f9abd', 'message': 'rabbit: redeclare consumers when ack/requeue fail\n\nIn case the acknowledgement or requeue of a message fail,\nthe kombu transport can be disconnected\n\nIn this case, we must redeclare our consumers.\n\nThis changes fixes that.\n\nThis have no tests because the kombu memory transport we use in our tests\ncannot be in disconnected state.\n\nCloses-bug: #1448650\n\nChange-Id: I5991a4cf827411bc27c857561d97461212a17f40\n'}, {'number': 3, 'created': '2015-05-05 12:51:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/98a8e0807462eb1ef947a643d3cef9d273cbbb1f', 'message': 'rabbit: redeclare consumers when ack/requeue fail\n\nIn case the acknowledgement or requeue of a message fail,\nthe kombu transport can be disconnected\n\nIn this case, we must redeclare our consumers.\n\nThis changes fixes that.\n\nThis have no tests because the kombu memory transport we use in our tests\ncannot be in disconnected state.\n\nCloses-bug: #1448650\n\nChange-Id: I5991a4cf827411bc27c857561d97461212a17f40\n'}, {'number': 4, 'created': '2015-05-07 08:14:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/099368f327a83538b5285fae71fe723195b59e70', 'message': 'rabbit: redeclare consumers when ack/requeue fail\n\nIn case the acknowledgement or requeue of a message fail,\nthe kombu transport can be disconnected\n\nIn this case, we must redeclare our consumers.\n\nThis changes fixes that.\n\nThis have no tests because the kombu memory transport we use in our tests\ncannot be in disconnected state.\n\nCloses-bug: #1448650\n\nChange-Id: I5991a4cf827411bc27c857561d97461212a17f40\n'}, {'number': 5, 'created': '2015-05-11 06:51:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/6885f754e3c327fd0c9dc3b34bdd2b53e3bacb5e', 'message': 'rabbit: redeclare consumers when ack/requeue fail\n\nIn case the acknowledgement or requeue of a message fail,\nthe kombu transport can be disconnected\n\nIn this case, we must redeclare our consumers.\n\nThis changes fixes that.\n\nThis have no tests because the kombu memory transport we use in our tests\ncannot be in disconnected state.\n\nCloses-bug: #1448650\n\nChange-Id: I5991a4cf827411bc27c857561d97461212a17f40\n'}, {'number': 6, 'created': '2015-05-12 08:27:53.000000000', 'files': ['oslo_messaging/tests/drivers/test_impl_rabbit.py', 'oslo_messaging/_drivers/impl_rabbit.py'], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/415db68b67368d7c8aa550e7108122200816e665', 'message': 'rabbit: redeclare consumers when ack/requeue fail\n\nIn case the acknowledgement or requeue of a message fail,\nthe kombu transport can be disconnected\n\nIn this case, we must redeclare our consumers.\n\nThis changes fixes that.\n\nThis have no tests because the kombu memory transport we use in our tests\ncannot be in disconnected state.\n\nCloses-bug: #1448650\n\nChange-Id: I5991a4cf827411bc27c857561d97461212a17f40\n'}]",2,180059,415db68b67368d7c8aa550e7108122200816e665,23,6,6,2813,,,0,"rabbit: redeclare consumers when ack/requeue fail

In case the acknowledgement or requeue of a message fail,
the kombu transport can be disconnected

In this case, we must redeclare our consumers.

This changes fixes that.

This have no tests because the kombu memory transport we use in our tests
cannot be in disconnected state.

Closes-bug: #1448650

Change-Id: I5991a4cf827411bc27c857561d97461212a17f40
",git fetch https://review.opendev.org/openstack/oslo.messaging refs/changes/59/180059/3 && git format-patch -1 --stdout FETCH_HEAD,['oslo_messaging/_drivers/impl_rabbit.py'],1,50d70ceae43b4f94b379976f472625976dd07245,sileht/refactor," # NOTE(sileht): in case the acknowledgement or requeue of a # message fail, the kombu transport can be disconnected # In this case, we must redeclare our consumers. if not self.connection.connected: self._new_consumers = self._consumers self.connection.connection ",,7,0
openstack%2Foperations-guide~master~I854a114db00ae5dd2f59b9fbf4ecb755cd609c76,openstack/operations-guide,master,I854a114db00ae5dd2f59b9fbf4ecb755cd609c76,made change to ch_ops_network_troubleshooting.xml,ABANDONED,2015-05-13 19:46:52.000000000,2015-05-13 19:49:44.000000000,,[],"[{'number': 1, 'created': '2015-05-13 19:46:52.000000000', 'files': ['doc/openstack-ops/ch_ops_network_troubleshooting.xml'], 'web_link': 'https://opendev.org/openstack/operations-guide/commit/7b610b103f5de8531af60df64b68c9bbd81cb9bb', 'message': 'made change to ch_ops_network_troubleshooting.xml\n\nper doc conventions back end was missused\nCloses-Bug: #1454816\n\nChange-Id: I854a114db00ae5dd2f59b9fbf4ecb755cd609c76\n'}]",0,182805,7b610b103f5de8531af60df64b68c9bbd81cb9bb,2,0,1,15804,,,0,"made change to ch_ops_network_troubleshooting.xml

per doc conventions back end was missused
Closes-Bug: #1454816

Change-Id: I854a114db00ae5dd2f59b9fbf4ecb755cd609c76
",git fetch https://review.opendev.org/openstack/operations-guide refs/changes/05/182805/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/openstack-ops/ch_ops_network_troubleshooting.xml'],1,7b610b103f5de8531af60df64b68c9bbd81cb9bb,bug/1454816," back end. It can be configured with open source or vendor proprietary <para>For this example, we will use the Open vSwitch (OVS) back-end. Other back end plug-ins will have very different flow paths. OVS is the most"," backend. It can be configured with open source or vendor proprietary <para>For this example, we will use the Open vSwitch (OVS) backend. Other backend plug-ins will have very different flow paths. OVS is the most",3,3
openstack%2Foslo.vmware~master~Ib7c4669efa3fddd328dae7192453c36bd23e7cd3,openstack/oslo.vmware,master,Ib7c4669efa3fddd328dae7192453c36bd23e7cd3,Add support for dynamicProperty,MERGED,2015-05-12 17:59:50.000000000,2015-05-13 19:49:27.000000000,2015-05-13 19:49:26.000000000,"[{'_account_id': 3}, {'_account_id': 5638}, {'_account_id': 7187}, {'_account_id': 9008}, {'_account_id': 9171}, {'_account_id': 9172}]","[{'number': 1, 'created': '2015-05-12 17:59:50.000000000', 'files': ['oslo_vmware/service.py'], 'web_link': 'https://opendev.org/openstack/oslo.vmware/commit/286cb9e439527868193b2d96ee432a6dbffa9b58', 'message': 'Add support for dynamicProperty\n\nWhen setting a dynamicProperty the VC would return an\nerror indicating that it ""Unable to determine type of Any"".\n\nWe need to update this to ensure that the type set is a string.\n\nChange-Id: Ib7c4669efa3fddd328dae7192453c36bd23e7cd3\nCloses-bug: #1454373\n'}]",0,182398,286cb9e439527868193b2d96ee432a6dbffa9b58,10,6,1,1653,,,0,"Add support for dynamicProperty

When setting a dynamicProperty the VC would return an
error indicating that it ""Unable to determine type of Any"".

We need to update this to ensure that the type set is a string.

Change-Id: Ib7c4669efa3fddd328dae7192453c36bd23e7cd3
Closes-bug: #1454373
",git fetch https://review.opendev.org/openstack/oslo.vmware refs/changes/98/182398/1 && git format-patch -1 --stdout FETCH_HEAD,['oslo_vmware/service.py'],1,286cb9e439527868193b2d96ee432a6dbffa9b58,val-any-type, if node.name == 'value' or node.name == 'val':, if node.name == 'value':,1,1
openstack%2Foslo.utils~master~Id63c7584bb3b6951897ca58dd0289b09b5d12f09,openstack/oslo.utils,master,Id63c7584bb3b6951897ca58dd0289b09b5d12f09,Move versionutils into place and remove deprecation tools,MERGED,2015-04-03 12:09:40.000000000,2015-05-13 19:49:10.000000000,2015-05-13 19:49:09.000000000,"[{'_account_id': 3}, {'_account_id': 5638}]","[{'number': 1, 'created': '2015-04-03 12:09:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.utils/commit/a7fbcd3ae350e56c7a1ae1de235b1f85e59cc22e', 'message': 'Move versionutils into place and remove deprecation tools\n\nWe only want the is_compatible() function in oslo.utils, so remove\neverything else from the module as we move it into place.\n\nChange-Id: Id63c7584bb3b6951897ca58dd0289b09b5d12f09\n'}, {'number': 2, 'created': '2015-04-03 12:51:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.utils/commit/8680077130f46544aa0aa8f3e31c5093f4913cc3', 'message': 'Move versionutils into place and remove deprecation tools\n\nWe only want the is_compatible() function in oslo.utils, so remove\neverything else from the module as we move it into place.\n\nChange-Id: Id63c7584bb3b6951897ca58dd0289b09b5d12f09\n'}, {'number': 3, 'created': '2015-04-23 16:26:33.000000000', 'files': ['openstack/common/versionutils.py', 'oslo_utils/versionutils.py', 'oslo_utils/tests/test_versionutils.py', 'tests/unit/test_versionutils.py'], 'web_link': 'https://opendev.org/openstack/oslo.utils/commit/528ba92551ea653cc0a339b628555a35b32808b1', 'message': 'Move versionutils into place and remove deprecation tools\n\nWe only want the is_compatible() function in oslo.utils, so remove\neverything else from the module as we move it into place.\n\nChange-Id: Id63c7584bb3b6951897ca58dd0289b09b5d12f09\n'}]",0,170469,528ba92551ea653cc0a339b628555a35b32808b1,13,2,3,2472,,,0,"Move versionutils into place and remove deprecation tools

We only want the is_compatible() function in oslo.utils, so remove
everything else from the module as we move it into place.

Change-Id: Id63c7584bb3b6951897ca58dd0289b09b5d12f09
",git fetch https://review.opendev.org/openstack/oslo.utils refs/changes/69/170469/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/common/versionutils.py', 'oslo_utils/versionutils.py', 'oslo_utils/tests/test_versionutils.py', 'tests/unit/test_versionutils.py']",4,a7fbcd3ae350e56c7a1ae1de235b1f85e59cc22e,bp/graduate-oslo-versionutils,,"# Copyright (c) 2013 OpenStack Foundation # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import mock from oslotest import base as test_base from testtools import matchers from openstack.common import versionutils class DeprecatedTestCase(test_base.BaseTestCase): def assert_deprecated(self, mock_reporter, no_removal=False, **expected_details): decorator = versionutils.deprecated if 'in_favor_of' in expected_details: if no_removal is False: expected_msg = decorator._deprecated_msg_with_alternative else: expected_msg = getattr( decorator, '_deprecated_msg_with_alternative_no_removal') else: if no_removal is False: expected_msg = decorator._deprecated_msg_no_alternative else: expected_msg = getattr( decorator, '_deprecated_msg_with_no_alternative_no_removal') # The first argument is the logger, and we don't care about # that, so ignore it with ANY. mock_reporter.assert_called_with(mock.ANY, expected_msg, expected_details) @mock.patch('openstack.common.versionutils.report_deprecated_feature') def test_deprecating_a_function_returns_correct_value(self, mock_reporter): @versionutils.deprecated(as_of=versionutils.deprecated.ICEHOUSE) def do_outdated_stuff(data): return data expected_rv = 'expected return value' retval = do_outdated_stuff(expected_rv) self.assertThat(retval, matchers.Equals(expected_rv)) @mock.patch('openstack.common.versionutils.report_deprecated_feature') def test_deprecating_a_method_returns_correct_value(self, mock_reporter): class C(object): @versionutils.deprecated(as_of=versionutils.deprecated.ICEHOUSE) def outdated_method(self, *args): return args retval = C().outdated_method(1, 'of anything') self.assertThat(retval, matchers.Equals((1, 'of anything'))) @mock.patch('openstack.common.versionutils.report_deprecated_feature') def test_deprecated_with_unknown_future_release(self, mock_reporter): @versionutils.deprecated(as_of=versionutils.deprecated.BEXAR, in_favor_of='different_stuff()') def do_outdated_stuff(): return do_outdated_stuff() self.assert_deprecated(mock_reporter, what='do_outdated_stuff()', in_favor_of='different_stuff()', as_of='Bexar', remove_in='D') @mock.patch('openstack.common.versionutils.report_deprecated_feature') def test_deprecated_with_known_future_release(self, mock_reporter): @versionutils.deprecated(as_of=versionutils.deprecated.GRIZZLY, in_favor_of='different_stuff()') def do_outdated_stuff(): return do_outdated_stuff() self.assert_deprecated(mock_reporter, what='do_outdated_stuff()', in_favor_of='different_stuff()', as_of='Grizzly', remove_in='Icehouse') @mock.patch('openstack.common.versionutils.report_deprecated_feature') def test_deprecated_without_replacement(self, mock_reporter): @versionutils.deprecated(as_of=versionutils.deprecated.GRIZZLY) def do_outdated_stuff(): return do_outdated_stuff() self.assert_deprecated(mock_reporter, what='do_outdated_stuff()', as_of='Grizzly', remove_in='Icehouse') @mock.patch('openstack.common.versionutils.report_deprecated_feature') def test_deprecated_with_custom_what(self, mock_reporter): @versionutils.deprecated(as_of=versionutils.deprecated.GRIZZLY, what='v2.0 API', in_favor_of='v3 API') def do_outdated_stuff(): return do_outdated_stuff() self.assert_deprecated(mock_reporter, what='v2.0 API', in_favor_of='v3 API', as_of='Grizzly', remove_in='Icehouse') @mock.patch('openstack.common.versionutils.report_deprecated_feature') def test_deprecated_with_removed_next_release(self, mock_reporter): @versionutils.deprecated(as_of=versionutils.deprecated.GRIZZLY, remove_in=1) def do_outdated_stuff(): return do_outdated_stuff() self.assert_deprecated(mock_reporter, what='do_outdated_stuff()', as_of='Grizzly', remove_in='Havana') @mock.patch('openstack.common.versionutils.report_deprecated_feature') def test_deprecated_with_removed_plus_3(self, mock_reporter): @versionutils.deprecated(as_of=versionutils.deprecated.GRIZZLY, remove_in=+3) def do_outdated_stuff(): return do_outdated_stuff() self.assert_deprecated(mock_reporter, what='do_outdated_stuff()', as_of='Grizzly', remove_in='Juno') @mock.patch('openstack.common.versionutils.report_deprecated_feature') def test_deprecated_with_removed_zero(self, mock_reporter): @versionutils.deprecated(as_of=versionutils.deprecated.GRIZZLY, remove_in=0) def do_outdated_stuff(): return do_outdated_stuff() self.assert_deprecated(mock_reporter, no_removal=True, what='do_outdated_stuff()', as_of='Grizzly', remove_in='Grizzly') @mock.patch('openstack.common.versionutils.report_deprecated_feature') def test_deprecated_with_removed_zero_and_alternative(self, mock_reporter): @versionutils.deprecated(as_of=versionutils.deprecated.GRIZZLY, in_favor_of='different_stuff()', remove_in=0) def do_outdated_stuff(): return do_outdated_stuff() self.assert_deprecated(mock_reporter, no_removal=True, what='do_outdated_stuff()', as_of='Grizzly', in_favor_of='different_stuff()', remove_in='Grizzly') @mock.patch('openstack.common.versionutils.report_deprecated_feature') def test_deprecated_class_without_init(self, mock_reporter): @versionutils.deprecated(as_of=versionutils.deprecated.JUNO, remove_in=+1) class OutdatedClass(object): pass obj = OutdatedClass() self.assertIsInstance(obj, OutdatedClass) self.assert_deprecated(mock_reporter, what='OutdatedClass()', as_of='Juno', remove_in='Kilo') @mock.patch('openstack.common.versionutils.report_deprecated_feature') def test_deprecated_class_with_init(self, mock_reporter): mock_arguments = mock.MagicMock() args = (1, 5, 7) kwargs = {'first': 10, 'second': 20} @versionutils.deprecated(as_of=versionutils.deprecated.JUNO, remove_in=+1) class OutdatedClass(object): def __init__(self, *args, **kwargs): """"""It is __init__ method."""""" mock_arguments.args = args mock_arguments.kwargs = kwargs super(OutdatedClass, self).__init__() obj = OutdatedClass(*args, **kwargs) self.assertIsInstance(obj, OutdatedClass) self.assertEqual('__init__', obj.__init__.__name__) self.assertEqual('It is __init__ method.', obj.__init__.__doc__) self.assertEqual(args, mock_arguments.args) self.assertEqual(kwargs, mock_arguments.kwargs) self.assert_deprecated(mock_reporter, what='OutdatedClass()', as_of='Juno', remove_in='Kilo') class IsCompatibleTestCase(test_base.BaseTestCase): def test_same_version(self): self.assertTrue(versionutils.is_compatible('1', '1')) self.assertTrue(versionutils.is_compatible('1.0', '1.0')) self.assertTrue(versionutils.is_compatible('1.0.0', '1.0.0')) def test_requested_minor_greater(self): self.assertFalse(versionutils.is_compatible('1.1', '1.0')) def test_requested_minor_less_than(self): self.assertTrue(versionutils.is_compatible('1.0', '1.1')) def test_requested_patch_greater(self): self.assertFalse(versionutils.is_compatible('1.0.1', '1.0.0')) def test_requested_patch_less_than(self): self.assertTrue(versionutils.is_compatible('1.0.0', '1.0.1')) def test_requested_patch_not_present_same(self): self.assertTrue(versionutils.is_compatible('1.0', '1.0.0')) def test_requested_patch_not_present_less_than(self): self.assertTrue(versionutils.is_compatible('1.0', '1.0.1')) def test_current_patch_not_present_same(self): self.assertTrue(versionutils.is_compatible('1.0.0', '1.0')) def test_current_patch_not_present_less_than(self): self.assertFalse(versionutils.is_compatible('1.0.1', '1.0')) def test_same_major_true(self): """"""Even though the current version is 2.0, since `same_major` defaults to `True`, 1.0 is deemed incompatible. """""" self.assertFalse(versionutils.is_compatible('2.0', '1.0')) self.assertTrue(versionutils.is_compatible('1.0', '1.0')) self.assertFalse(versionutils.is_compatible('1.0', '2.0')) def test_same_major_false(self): """"""With `same_major` set to False, then major version compatibiity rule is not enforced, so a current version of 2.0 is deemed to satisfy a requirement of 1.0. """""" self.assertFalse(versionutils.is_compatible('2.0', '1.0', same_major=False)) self.assertTrue(versionutils.is_compatible('1.0', '1.0', same_major=False)) self.assertTrue(versionutils.is_compatible('1.0', '2.0', same_major=False)) ",117,546
openstack%2Ffuel-library~master~If3611d10c41f01d639cff272499dac968e6d414e,openstack/fuel-library,master,If3611d10c41f01d639cff272499dac968e6d414e,failcount collector for DHCP OCF script,ABANDONED,2014-12-12 10:59:59.000000000,2015-05-13 19:44:42.000000000,,"[{'_account_id': 3}, {'_account_id': 8971}, {'_account_id': 11090}]","[{'number': 1, 'created': '2014-12-12 10:59:59.000000000', 'files': ['deployment/puppet/cluster/files/ocf/neutron-agent-dhcp'], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/c328045a38075481e61902d4dee42d68d4373a2d', 'message': 'failcount collector for DHCP OCF script\n\nChange-Id: If3611d10c41f01d639cff272499dac968e6d414e\n'}]",0,141328,c328045a38075481e61902d4dee42d68d4373a2d,9,3,1,7468,,,0,"failcount collector for DHCP OCF script

Change-Id: If3611d10c41f01d639cff272499dac968e6d414e
",git fetch https://review.opendev.org/openstack/fuel-library refs/changes/28/141328/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/puppet/cluster/files/ocf/neutron-agent-dhcp'],1,c328045a38075481e61902d4dee42d68d4373a2d,dhcp_agent_check,"OCF_RESKEY_failcount_report_file_default=""${HA_RSCTMP}/${__SCRIPT_NAME}/${__SCRIPT_NAME}_failcount_report.yaml""OCF_RESKEY_critical_failcount_dnsmasq_default=5: ${OCF_RESKEY_failcount_report_file=${OCF_RESKEY_failcount_report_file_default}}: ${OCF_RESKEY_critical_failcount_dnsmasq=${OCF_RESKEY_critical_failcount_dnsmasq_default}}<parameter name=""failcount_report_file"" unique=""0"" required=""0""> <longdesc lang=""en""> File for store failcount information for 2-nd level monitors </longdesc> <shortdesc lang=""en"">File for store failcount information for 2-nd level monitors</shortdesc> <content type=""string"" default=""${OCF_RESKEY_failcount_report_file_default}"" /> </parameter> <content type=""string"" default=""${OCF_RESKEY_rescheduling_tries_default}""/> <content type=""string"" default=""${OCF_RESKEY_rescheduling_interval_default}""/> </parameter> <parameter name=""critical_failcount_dnsmasq"" unique=""0"" required=""0""> <longdesc lang=""en""> Count of fails while dnsmasq count check for restart RA. </longdesc> <shortdesc lang=""en"">Count of fails while dnsmasq count check for restart RA.</shortdesc> <content type=""string"" default=""${OCF_RESKEY_critical_failcount_dnsmasq_default}""/>check_failcount_file() { if [[ ! -f $OCF_RESKEY_failcount_report_file ]] ; then echo ""failcount_dhcp: 0"" >> $OCF_RESKEY_failcount_report_file echo ""failcount_metadata: 0"" >> $OCF_RESKEY_failcount_report_file fi } monitor_dnsmasq_failcount() { local API_calls=4 local tmpdir=$(mktemp -d) #local netns_file=""$tmpdir/netns.txt"" local dnsmasq_plist_file=""$tmpdir/dnsmasqs.txt"" local net_file=""$tmpdir/networks.txt"" local subnet_file=""$tmpdir/subnets.txt"" local hostname=$(hostname -s) local API_timeout=$((($OCF_RESKEY_CRM_meta_timeout/1000)/$API_calls)) check_failcount_file source /root/openrc # get agent ID local agent_id=$(timeout -sKILL $API_timeout neutron agent-list | grep -iE 'DHCP\s+agent' | grep ""$hostname"" | awk -F\| '{print $2}' | tr -d '[:space:]') if [[ -z $agent_id ]] ; then return $OCF_SUCCESS fi # get netns list for this agent #ip netns list | grep 'qdhcp-' > $netns_file # get dnsmasq processlist ps axwww | grep -E '\s+dnsmasq\s+.*\s+--conf-file=\s+' > $dnsmasq_plist_file # get network list for this agent timeout -sKILL $API_timeout neutron net-list-on-dhcp-agent -c id -c admin_state_up $agent_id | grep -i 'true' | awk -F\| '{print $2}' | tr -d ' ' > $net_file # get subnets list (in format network_id | use_dhcp | subnet_id) timeout -sKILL $API_timeout neutron subnet-list -c network_id -c enable_dhcp -c id | grep -vE '\+|\|\s+id\s+|False' > $subnet_file # calculate dnsmasq list dnsmasq_should_be__count=0 dnsmasq_in_real__count=0 for net_id in $(cat $net_file) ; do i=$(grep -c $net_id $subnet_file) if [[ $i -gt 0 ]] ; then ((dnsmasq_should_be__count++)) grep ""dhcp/$net_id/pid"" $dnsmasq_plist_file > /dev/null ; rc=$? if [[ $rc == 0 ]] ; then ((dnsmasq_in_real__count++)) else ocf_log warn ""Dnsmasq process for network '$net_id' not running."" fi fi done if [[ $dnsmasq_should_be__count != $dnsmasq_in_real__count ]] ; then i=$(cat $OCF_RESKEY_failcount_report_file | grep 'failcount_dhcp:' | awk '{print $2}') ((i++)) ocf_run sed -i ""s/.*failcount_dhcp:.*/failcount_dhcp: $i/"" $OCF_RESKEY_failcount_report_file ocf_log warn ""Should be found $dnsmasq_should_be__count running dnsmasq processes, but running only $dnsmasq_in_real__count"" else ocf_log info ""Found $dnsmasq_should_be__count running dnsmasq processes."" ocf_run sed -i ""s/.*failcount_dhcp:.*/failcount_dhcp: 0/"" $OCF_RESKEY_failcount_report_file fi ocf_run rm -rf $tmpdir return $OCF_SUCCESS } if [[ ""${OCF_RESKEY_CRM_meta_OCF_CHECK_LEVEL}"" == ""FAILCOUNT_DHCP"" ]] ; then monitor_dnsmasq_failcount return $OCF_SUCCESS fi # check collected failcounts local dnsmasq_failcount=$(cat $OCF_RESKEY_failcount_report_file | grep 'failcount_dhcp:' | awk '{print $2}') if [[ $dnsmasq_failcount -ge $OCF_RESKEY_critical_failcount_dnsmasq ]] ; then ocf_run sed -i ""s/.*failcount_dhcp:.*/failcount_dhcp: 0/"" $OCF_RESKEY_failcount_report_file ocf_log err ""Dnsmasq failcount ($dnsmasq_failcount) is huge, need restart."" return $OCF_NOT_RUNNING fi "," <content type=""boolean"" default=""${OCF_RESKEY_rescheduling_tries_default}""/> <content type=""boolean"" default=""${OCF_RESKEY_rescheduling_interval_default}""/>",96,2
openstack%2Ffuel-specs~master~I64ff9af7e2ba077e93bf35e8a38feb44a880d9cc,openstack/fuel-specs,master,I64ff9af7e2ba077e93bf35e8a38feb44a880d9cc,virtual routers for env nodes,MERGED,2014-09-17 11:37:37.000000000,2015-05-13 19:35:55.000000000,2015-05-13 19:35:53.000000000,"[{'_account_id': 3}, {'_account_id': 7195}, {'_account_id': 7468}, {'_account_id': 8786}, {'_account_id': 9439}, {'_account_id': 11090}, {'_account_id': 11827}, {'_account_id': 13344}]","[{'number': 1, 'created': '2014-09-17 11:37:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-specs/commit/c8a9913be4314b82621a83ffd65671e113cd71e4', 'message': 'virtual routers for env nodes.\n\nNot each node in the env should be connected to the public network.\nBut some services on that nodes may require access to the external\n(public) services.\n\nChange-Id: I64ff9af7e2ba077e93bf35e8a38feb44a880d9cc\nblueprint: virtual-router-for-env-nodes\n'}, {'number': 2, 'created': '2014-09-17 12:32:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-specs/commit/340636f80d354a8dde3527e3977205985b86e913', 'message': 'virtual routers for env nodes.\n\nNot each node in the env should be connected to the public network.\nBut some services on that nodes may require access to the external\n(public) services.\n\nChange-Id: I64ff9af7e2ba077e93bf35e8a38feb44a880d9cc\nblueprint: virtual-router-for-env-nodes\n'}, {'number': 3, 'created': '2014-09-17 20:58:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-specs/commit/292a3cc682c6b24dd8fb7a060c6789e8c0d9577f', 'message': 'virtual routers for env nodes.\n\nNot each node in the env should be connected to the public network.\nBut some services on that nodes may require access to the external\n(public) services.\n\nChange-Id: I64ff9af7e2ba077e93bf35e8a38feb44a880d9cc\nblueprint: virtual-router-for-env-nodes\n'}, {'number': 4, 'created': '2014-09-17 21:03:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-specs/commit/23bff474937fc9be00f0e2bc851c5a3181874ea0', 'message': 'virtual routers for env nodes.\n\nNot each node in the env should be connected to the public network.\nBut some services on that nodes may require access to the external\n(public) services.\n\nChange-Id: I64ff9af7e2ba077e93bf35e8a38feb44a880d9cc\nblueprint: virtual-router-for-env-nodes\n'}, {'number': 5, 'created': '2014-09-18 10:04:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-specs/commit/b7aa6affeddfe73d35ad31e4f18d171f7b8eeaa4', 'message': 'virtual routers for env nodes.\n\nNot each node in the env should be connected to the public network.\nBut some services on that nodes may require access to the external\n(public) services.\n\nChange-Id: I64ff9af7e2ba077e93bf35e8a38feb44a880d9cc\nblueprint: virtual-router-for-env-nodes\n'}, {'number': 6, 'created': '2015-01-19 16:04:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-specs/commit/95159037a9922f78e33980503cd508dddfa25d16', 'message': 'virtual routers for env nodes.\n\nNot each node in the env should be connected to the public network.\nBut some services on that nodes may require access to the external\n(public) services.\n\nChange-Id: I64ff9af7e2ba077e93bf35e8a38feb44a880d9cc\nblueprint: virtual-router-for-env-nodes\n'}, {'number': 7, 'created': '2015-01-19 16:05:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-specs/commit/3137f3dfe75ddb52d6f0e7294892ee45e5ca8c88', 'message': 'virtual routers for env nodes.\n\nNot each node in the env should be connected to the public network.\nBut some services on that nodes may require access to the external\n(public) services.\n\nChange-Id: I64ff9af7e2ba077e93bf35e8a38feb44a880d9cc\nblueprint: virtual-router-for-env-nodes\n'}, {'number': 8, 'created': '2015-02-27 16:32:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-specs/commit/5541d8c2c764f8dc0ebb2fa67a1ce3ab94d7326a', 'message': 'virtual routers for env nodes.\n\nNot each node in the env should be connected to the public network.\nBut some services on that nodes may require access to the external\n(public) services.\n\nChange-Id: I64ff9af7e2ba077e93bf35e8a38feb44a880d9cc\nblueprint: virtual-router-for-env-nodes\n'}, {'number': 9, 'created': '2015-02-27 16:37:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-specs/commit/d2a4cfed35352001eeb2adade97e7e614d7e80f1', 'message': 'virtual routers for env nodes.\n\nNot each node in the env should be connected to the public network.\nBut some services on that nodes may require access to the external\n(public) services.\n\nChange-Id: I64ff9af7e2ba077e93bf35e8a38feb44a880d9cc\nblueprint: virtual-router-for-env-nodes\n'}, {'number': 10, 'created': '2015-03-13 13:36:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-specs/commit/0d66990b0bc6ecbda5d8a7ff3308ada0261690d2', 'message': 'virtual routers for env nodes.\n\nNot each node in the env should be connected to the public network.\nBut some services on that nodes may require access to the external\n(public) services.\n\nChange-Id: I64ff9af7e2ba077e93bf35e8a38feb44a880d9cc\nblueprint: virtual-router-for-env-nodes\n'}, {'number': 11, 'created': '2015-03-13 14:46:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-specs/commit/4ec6919aab1c8163a1f4e6526da43bd6c8b82193', 'message': 'virtual routers for env nodes.\n\nNot each node in the env should be connected to the public network.\nBut some services on that nodes may require access to the external\n(public) services.\n\nChange-Id: I64ff9af7e2ba077e93bf35e8a38feb44a880d9cc\nblueprint: virtual-router-for-env-nodes\n'}, {'number': 12, 'created': '2015-03-17 10:20:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-specs/commit/6839787aa1259e780276f8441f3e5fd52fe99fef', 'message': 'virtual routers for env nodes.\n\nNot each node in the env should be connected to the public network.\nBut some services on that nodes may require access to the external\n(public) services.\n\nChange-Id: I64ff9af7e2ba077e93bf35e8a38feb44a880d9cc\nblueprint: virtual-router-for-env-nodes\n'}, {'number': 13, 'created': '2015-03-26 12:00:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-specs/commit/4a7eed5368d0750de7798888560f47639e2edad5', 'message': 'virtual routers for env nodes.\n\nNot each node in the env should be connected to the public network.\nBut some services on that nodes may require access to the external\n(public) services.\n\nChange-Id: I64ff9af7e2ba077e93bf35e8a38feb44a880d9cc\nblueprint: virtual-router-for-env-nodes\n'}, {'number': 14, 'created': '2015-04-07 13:51:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-specs/commit/ff1c7307d448c2d5b101d783bebefdc623126b15', 'message': 'virtual routers for env nodes.\n\nNot each node in the env should be connected to the public network.\nBut some services on that nodes may require access to the external\n(public) services.\n\nChange-Id: I64ff9af7e2ba077e93bf35e8a38feb44a880d9cc\nblueprint: virtual-router-for-env-nodes\n'}, {'number': 15, 'created': '2015-04-07 14:09:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-specs/commit/3f93c577daac51a654a6eb5f895a428b558ad438', 'message': 'virtual routers for env nodes\n\nNot each node in the env should be connected to the public network.\nBut some services on that nodes may require access to the external\n(public) services\n\nChange-Id: I64ff9af7e2ba077e93bf35e8a38feb44a880d9cc\nblueprint: virtual-router-for-env-nodes\n'}, {'number': 16, 'created': '2015-04-07 15:19:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-specs/commit/8eba4c12354f240adf87659e66482c49cf5e0e29', 'message': 'virtual routers for env nodes\n\nNot each node in the env should be connected to the public network.\nBut some services on that nodes may require access to the external\n(public) services\n\nChange-Id: I64ff9af7e2ba077e93bf35e8a38feb44a880d9cc\nblueprint: virtual-router-for-env-nodes\n'}, {'number': 17, 'created': '2015-04-08 14:25:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-specs/commit/e799d5a52cbbf703584207ac391d5202ab2372fe', 'message': 'virtual routers for env nodes\n\nNot each node in the env should be connected to the public network.\nBut some services on that nodes may require access to the external\n(public) services\n\nChange-Id: I64ff9af7e2ba077e93bf35e8a38feb44a880d9cc\nblueprint: virtual-router-for-env-nodes\n'}, {'number': 18, 'created': '2015-04-08 14:48:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-specs/commit/6b5b07bf0aaece683fd872607219e2d64b7f97cd', 'message': 'virtual routers for env nodes\n\nNot each node in the env should be connected to the public network.\nBut some services on that nodes may require access to the external\n(public) services\n\nChange-Id: I64ff9af7e2ba077e93bf35e8a38feb44a880d9cc\nblueprint: virtual-router-for-env-nodes\n'}, {'number': 19, 'created': '2015-04-08 15:15:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-specs/commit/e556edc18abb937757a0255b1e9fb0c21108bb3f', 'message': 'virtual routers for env nodes\n\nNot each node in the env should be connected to the public network.\nBut some services on that nodes may require access to the external\n(public) services\n\nChange-Id: I64ff9af7e2ba077e93bf35e8a38feb44a880d9cc\nblueprint: virtual-router-for-env-nodes\n'}, {'number': 20, 'created': '2015-04-08 15:35:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-specs/commit/a2a0f6ed429dadb8651c51e16b68a8311416244e', 'message': 'virtual routers for env nodes\n\nNot each node in the env should be connected to the public network.\nBut some services on that nodes may require access to the external\n(public) services\n\nChange-Id: I64ff9af7e2ba077e93bf35e8a38feb44a880d9cc\nblueprint: virtual-router-for-env-nodes\n'}, {'number': 21, 'created': '2015-04-08 15:52:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-specs/commit/1eca1406ddcae657f7d128b87f20689fd68ad1e9', 'message': 'virtual routers for env nodes\n\nNot each node in the env should be connected to the public network.\nBut some services on that nodes may require access to the external\n(public) services\n\nChange-Id: I64ff9af7e2ba077e93bf35e8a38feb44a880d9cc\nblueprint: virtual-router-for-env-nodes\n'}, {'number': 22, 'created': '2015-04-08 16:33:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-specs/commit/25e2d083f9379a6b064c63715ff3788c04434c90', 'message': 'virtual routers for env nodes\n\nNot each node in the env should be connected to the public network.\nBut some services on that nodes may require access to the external\n(public) services\n\nChange-Id: I64ff9af7e2ba077e93bf35e8a38feb44a880d9cc\nblueprint: virtual-router-for-env-nodes\n'}, {'number': 23, 'created': '2015-04-08 18:35:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-specs/commit/1d183e301e4139d1859f5e4ca2db3a67dacd49e5', 'message': 'virtual routers for env nodes\n\nNot each node in the env should be connected to the public network.\nBut some services on that nodes may require access to the external\n(public) services\n\nChange-Id: I64ff9af7e2ba077e93bf35e8a38feb44a880d9cc\nblueprint: virtual-router-for-env-nodes\n'}, {'number': 24, 'created': '2015-04-08 19:13:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-specs/commit/2a69d757cc02f73d57098b773254779c75f87c8e', 'message': 'virtual routers for env nodes\n\nNot each node in the env should be connected to the public network.\nBut some services on that nodes may require access to the external\n(public) services\n\nChange-Id: I64ff9af7e2ba077e93bf35e8a38feb44a880d9cc\nblueprint: virtual-router-for-env-nodes\n'}, {'number': 25, 'created': '2015-04-08 19:38:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-specs/commit/2ea0f8b842609d6e1eafecdc508722ad051b8201', 'message': 'virtual routers for env nodes\n\nNot each node in the env should be connected to the public network.\nBut some services on that nodes may require access to the external\n(public) services\n\nChange-Id: I64ff9af7e2ba077e93bf35e8a38feb44a880d9cc\nblueprint: virtual-router-for-env-nodes\n'}, {'number': 26, 'created': '2015-04-08 19:56:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-specs/commit/3c7a7f1ae83a0a2b8afda2d11146f5ca9a0417c4', 'message': 'virtual routers for env nodes\n\nNot each node in the env should be connected to the public network.\nBut some services on that nodes may require access to the external\n(public) services\n\nChange-Id: I64ff9af7e2ba077e93bf35e8a38feb44a880d9cc\nblueprint: virtual-router-for-env-nodes\n'}, {'number': 27, 'created': '2015-04-08 20:03:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-specs/commit/dfaa61caa7122b3f95ebe16cd8497db46e7901e3', 'message': 'virtual routers for env nodes\n\nNot each node in the env should be connected to the public network.\nBut some services on that nodes may require access to the external\n(public) services\n\nChange-Id: I64ff9af7e2ba077e93bf35e8a38feb44a880d9cc\nblueprint: virtual-router-for-env-nodes\n'}, {'number': 28, 'created': '2015-04-08 20:12:37.000000000', 'files': ['specs/6.1/virtual_router_for_publicless_nodes.rst'], 'web_link': 'https://opendev.org/openstack/fuel-specs/commit/6402af69592e8da9d3b6669904e34df1674d3a2d', 'message': 'virtual routers for env nodes\n\nNot each node in the env should be connected to the public network.\nBut some services on that nodes may require access to the external\n(public) services\n\nChange-Id: I64ff9af7e2ba077e93bf35e8a38feb44a880d9cc\nblueprint: virtual-router-for-env-nodes\n'}]",27,122123,6402af69592e8da9d3b6669904e34df1674d3a2d,62,8,28,7468,,,0,"virtual routers for env nodes

Not each node in the env should be connected to the public network.
But some services on that nodes may require access to the external
(public) services

Change-Id: I64ff9af7e2ba077e93bf35e8a38feb44a880d9cc
blueprint: virtual-router-for-env-nodes
",git fetch https://review.opendev.org/openstack/fuel-specs refs/changes/23/122123/28 && git format-patch -1 --stdout FETCH_HEAD,['specs/6.1/virtual_router_for_publicless_nodes.rst'],1,c8a9913be4314b82621a83ffd65671e113cd71e4,bp/virtual-router-for-env-nodes,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode =================================== Virtual router for pulic-less nodes =================================== https://blueprints.launchpad.net/fuel/+spec/virtual-router-for-env-nodes Problem description =================== Not each node in the env should be connected to the public network. But some services on this node may require access to the external (public) services (i.e. DNS, NTP). Currently, in 5.1, as default gateway for each of this nodes specified a master node. This solution does not correspond HA principals. Actually, this problem closely intersects with `issue of DNS and NTP independency <https://blueprints.launchpad.net/fuel/+spec/external-dns-ntp-support>`_, and I propose implement both solutions in the same tack. Proposed change =============== Make virtual router namespace on the controller nodes, managed by Pacemaker. Connection states between namespaces on controllers should be synchronized by conntrackd. In that namespaces, also, should be located DNS and NTP servers (see `corresponded blueprint <https://blueprints.launchpad.net/fuel/+spec/external-dns-ntp-support>`_ for more information). This way allow us achieve maximum reliability even if customer provided services goes down. Alternatives ------------ * Leave this issue as is. * pros: * No efforts will be spend. * cons: * Master node is not obligatory part of cluster and may disappear at any moment. * Master node is not reserved. It is a SPOF for each HA-deployed env. * Allow to customer define default gateway from his own infrestructure. * pros: * Minimal efforts from fuel-library team. * cons: * Huge changes in the Network checker part of Nailgun. * We should implement some additional mechanics for network connectivity to the customer's network. * We can not be shure, that customer-provided services enough reliable. ",,68,0
openstack%2Fcongress~master~I6f8a7f05ed9f22013cf9690e89ddac1c1624d920,openstack/congress,master,I6f8a7f05ed9f22013cf9690e89ddac1c1624d920,Set unique object ids in data source tables' table,MERGED,2015-04-29 22:18:45.000000000,2015-05-13 19:35:34.000000000,2015-05-13 19:35:33.000000000,"[{'_account_id': 3}, {'_account_id': 8215}]","[{'number': 1, 'created': '2015-04-29 22:18:45.000000000', 'files': ['contrib/horizon/datasources/views.py', 'contrib/horizon/datasources/tables.py'], 'web_link': 'https://opendev.org/openstack/congress/commit/4c6823921d01b74d812f118d61e79e91a2b7e6a0', 'message': ""Set unique object ids in data source tables' table\n\nThe Horizon Column class caches objects by id. The ids of the data source\ntables are not unique across data sources. When two data sources have a table\nwith the same id, this causes the cached value of the first object to be\nused for the second object. The same value is then always shown in that column\nfor those two rows in the Data Sources page's DataTable. Fix that by setting a\nunique id for each data source table object and storing the actual table id\nunder another key. Similarly for policy tables on that page.\n\nChange-Id: I6f8a7f05ed9f22013cf9690e89ddac1c1624d920\nCloses-Bug: #1413726\n""}]",0,178861,4c6823921d01b74d812f118d61e79e91a2b7e6a0,6,2,1,7187,,,0,"Set unique object ids in data source tables' table

The Horizon Column class caches objects by id. The ids of the data source
tables are not unique across data sources. When two data sources have a table
with the same id, this causes the cached value of the first object to be
used for the second object. The same value is then always shown in that column
for those two rows in the Data Sources page's DataTable. Fix that by setting a
unique id for each data source table object and storing the actual table id
under another key. Similarly for policy tables on that page.

Change-Id: I6f8a7f05ed9f22013cf9690e89ddac1c1624d920
Closes-Bug: #1413726
",git fetch https://review.opendev.org/openstack/congress refs/changes/61/178861/1 && git format-patch -1 --stdout FETCH_HEAD,"['contrib/horizon/datasources/views.py', 'contrib/horizon/datasources/tables.py']",2,4c6823921d01b74d812f118d61e79e91a2b7e6a0,bug/1413726," args=(obj['datasource_id'], obj['table_id']))"," args=(obj['datasource_id'], obj['id']))",12,1
openstack%2Fnova~master~I6d5ba6b96772e0f17fc7484312222110ec103bbf,openstack/nova,master,I6d5ba6b96772e0f17fc7484312222110ec103bbf,Adds Compute API v2 docs,MERGED,2014-12-17 16:44:20.000000000,2015-05-13 19:30:41.000000000,2015-03-27 18:35:59.000000000,"[{'_account_id': 3}, {'_account_id': 964}, {'_account_id': 2750}, {'_account_id': 4393}, {'_account_id': 5170}, {'_account_id': 5638}, {'_account_id': 6062}, {'_account_id': 6835}, {'_account_id': 6873}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 10559}, {'_account_id': 11103}, {'_account_id': 14271}, {'_account_id': 15751}]","[{'number': 1, 'created': '2014-12-17 16:44:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8e68a82e00946b709d1bb12ff0b50543b991705a', 'message': 'Adds Compute API v2 docs\n\nChange-Id: I6d5ba6b96772e0f17fc7484312222110ec103bbf\n'}, {'number': 2, 'created': '2015-02-11 17:14:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8eb16be62423eb1cebe964b552c6604a1efe94ce', 'message': 'Adds Compute API v2 docs\n\nChange-Id: I6d5ba6b96772e0f17fc7484312222110ec103bbf\n'}, {'number': 3, 'created': '2015-02-17 20:08:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e34cc97bcdb115cfd0045c9234ff63e5a5745e95', 'message': 'Adds Compute API v2 docs\n\nChange-Id: I6d5ba6b96772e0f17fc7484312222110ec103bbf\n'}, {'number': 4, 'created': '2015-02-17 21:52:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/20bd4b3040be4a72dfcf0f59d0668ddd06db4b7d', 'message': 'Adds Compute API v2 docs\n\nChange-Id: I6d5ba6b96772e0f17fc7484312222110ec103bbf\n'}, {'number': 5, 'created': '2015-02-17 22:46:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b91329b0483ca8ace2ac867ce7df9aa410406517', 'message': 'Adds Compute API v2 docs\n\nChange-Id: I6d5ba6b96772e0f17fc7484312222110ec103bbf\n'}, {'number': 6, 'created': '2015-02-20 03:09:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7d65fec7baf77084d3343628f94d054ea49ba83d', 'message': 'Adds Compute API v2 docs\n\nChange-Id: I6d5ba6b96772e0f17fc7484312222110ec103bbf\n'}, {'number': 7, 'created': '2015-03-06 11:16:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/21db288058fe73b1cf2a22549ca77aaae32cd192', 'message': 'Adds Compute API v2 docs\n\nChange-Id: I6d5ba6b96772e0f17fc7484312222110ec103bbf\n'}, {'number': 8, 'created': '2015-03-09 13:47:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a36d779d34f328013a862ce696c7710f1ef403a1', 'message': 'Adds Compute API v2 docs\n\nChange-Id: I6d5ba6b96772e0f17fc7484312222110ec103bbf\n'}, {'number': 9, 'created': '2015-03-10 13:45:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f539230ad32dbe8db000f384e57cd5b501d5ffb8', 'message': 'Adds Compute API v2 docs\n\nChange-Id: I6d5ba6b96772e0f17fc7484312222110ec103bbf\n'}, {'number': 10, 'created': '2015-03-26 14:20:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/351759f213592aa10f1a16d4a2489530ff6ef838', 'message': 'Adds Compute API v2 docs\n\nChange-Id: I6d5ba6b96772e0f17fc7484312222110ec103bbf\n'}, {'number': 11, 'created': '2015-03-27 00:18:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/74618d3f89741be149f077dec2f5fc94898d88b8', 'message': 'Adds Compute API v2 docs\n\nChange-Id: I6d5ba6b96772e0f17fc7484312222110ec103bbf\n'}, {'number': 12, 'created': '2015-03-27 15:39:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/377e35744cfb7f3422862fb334558cce0bce8456', 'message': 'Adds Compute API v2 docs\n\nImported from public API docs plus fixes to make them more accurate.\n\nChange-Id: I6d5ba6b96772e0f17fc7484312222110ec103bbf\n'}, {'number': 13, 'created': '2015-03-27 15:53:44.000000000', 'files': ['doc/source/v2/faults.rst', 'doc/source/v2/authentication.rst', 'doc/source/v2/2.0_general_info.rst', 'doc/source/v2/paginated_collections.rst', 'doc/source/v2/versions.rst', 'doc/source/v2/links_and_references.rst', 'doc/source/index.rst', 'doc/source/v2/2.0_server_concepts.rst', 'doc/source/v2/index.rst', 'doc/source/v2/polling_changes-since_parameter.rst', 'doc/source/v2/limits.rst', 'doc/source/v2/extensions.rst', 'doc/source/v2/request_and_response_formats.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/ffc4cedb2be6eb94caa352189bbf1e747c5ed515', 'message': 'Adds Compute API v2 docs\n\nImported from public API docs plus fixes to make them more accurate.\n\nChange-Id: I6d5ba6b96772e0f17fc7484312222110ec103bbf\n'}]",29,142495,ffc4cedb2be6eb94caa352189bbf1e747c5ed515,102,16,13,964,,,0,"Adds Compute API v2 docs

Imported from public API docs plus fixes to make them more accurate.

Change-Id: I6d5ba6b96772e0f17fc7484312222110ec103bbf
",git fetch https://review.opendev.org/openstack/nova refs/changes/95/142495/12 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/v2/faults.rst', 'doc/source/v2/authentication.rst', 'doc/source/v2/2.0_general_info.rst', 'doc/source/v2/paginated_collections.rst', 'doc/source/v2/versions.rst', 'doc/source/v2/links_and_references.rst', 'doc/source/index.rst', 'doc/source/v2/2.0_server_concepts.rst', 'doc/source/v2/index.rst', 'doc/source/v2/polling_changes-since_parameter.rst', 'doc/source/v2/limits.rst', 'doc/source/v2/extensions.rst', 'doc/source/v2/request_and_response_formats.rst']",13,8e68a82e00946b709d1bb12ff0b50543b991705a,v2api,"============================ Request and response formats ============================ The OpenStack Compute API supports both JSON and XML data serialization request and response formats. Request format ~~~~~~~~~~~~~~ Use the ``Content-Type`` request header to specify the request format. This header is required for operations that have a request body. The syntax for the ``Content-Type`` header is: .. code:: Content-Type: application/FORMAT Where ``FORMAT`` is either ``json`` or ``xml``. Response format ~~~~~~~~~~~~~~~ Use one of the following methods to specify the response format: ``Accept`` header The syntax for the ``Accept`` header is: .. code:: Accept: application/FORMAT Where *``FORMAT``* is either ``json`` or ``xml``. The default format is ``json``. Query extension Add an ``.xml`` or ``.json`` extension to the request URI. For example, the ``.xml`` extension in the following list servers URI request specifies that the response body is to be returned in XMLformat: **GET** *``publicURL``*/servers.xml If you do not specify a response format, JSON is the default. If the ``Accept`` header and the query extension specify conflicting formats, the format specified in the query extension takes precedence. For example, if the query extension is ``.xml`` and the ``Accept`` header specifies ``application/json``, the response is returned in XML format. Request and response examples ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ You can serialize a response in a different format from the request format. The examples below show a request body in JSON format and a response body in XML format. Note ~~~~ Though this document shows them, XML support in requests and responses has been deprecated for the Compute API v2 (stable) and v3 (experimental). **Example 1.1. JSON request with headers** | POST /v2/010101/servers HTTP/1.1 | Host: servers.api.openstack.org | Content-Type: application/json | Accept: application/xml | X-Auth-Token: eaaafd18-0fed-4b3a-81b4-663c99ec1cbb .. code:: { ""server"": { ""name"": ""server-test-1"", ""imageRef"": ""b5660a6e-4b46-4be3-9707-6b47221b454f"", ""flavorRef"": ""2"", ""max_count"": 1, ""min_count"": 1, ""networks"": [ { ""uuid"": ""d32019d3-bc6e-4319-9c1d-6722fc136a22"" } ], ""security_groups"": [ { ""name"": ""default"" }, { ""name"": ""another-secgroup-name"" } ] } } Example 1.2, XML response with headers shows the headers and XML response returned by the JSON request: **Example 1.2. XML response with headers** | HTTP/1.1 202 Accepted | Date: Mon, 23 Jul 2014 20:24:48 GMT | Content-Length: 582 | Location: https://servers.api.openstack.org/v2/010101/servers/06dba123-2c... | Content-Type: application/xml | X-Compute-Request-Id: req-ab05045a-452f-4b46-be0d-86494da02a2b | Server: Jetty(8.0.y.z-SNAPSHOT) .. code:: <?xml version='1.0' encoding='UTF-8'?> <server xmlns:OS-DCF=""http://docs.openstack.org/compute/ext/disk_config/api/v1.1"" xmlns:atom=""http://www.w3.org/2005/Atom"" xmlns=""http://docs.openstack.org/compute/api/v1.1"" id=""9720d338-07fb-4317-9eda-a0a833226afa"" adminPass=""aabbccddeeff"" OS-DCF:diskConfig=""MANUAL""> <metadata/> <atom:link href=""http://166.78.46.130:8774/v2/4fd44f30292945e481c7b8a0c8908869/servers/9720d338-07fb-4317-9eda-a0a833226afa"" rel=""self""/> <atom:link href=""http://166.78.46.130:8774/4fd44f30292945e481c7b8a0c8908869/servers/9720d338-07fb-4317-9eda-a0a833226afa"" rel=""bookmark""/> <security_groups> <security_group name=""default""/> </security_groups> </server> | The following example shows an alternative method of achieving the same result. The following request uses an URI extension of ``.xml`` instead of an ``Accept`` header to request an XML response. Note ~~~~ The XML response is not shown. **Example 1.3. JSON request with XML query extension for the response** | POST /v2/010101/servers\ **.xml** HTTP/1.1 | Host: servers.api.openstack.org | Content-Type: application/json | X-Auth-Token: eaaafd18-0fed-4b3a-81b4-663c99ec1cbb .. code:: { ""server"": { ""name"": ""server-test-1"", ""imageRef"": ""b5660a6e-4b46-4be3-9707-6b47221b454f"", ""flavorRef"": ""2"", ""max_count"": 1, ""min_count"": 1, ""networks"": [ { ""uuid"": ""d32019d3-bc6e-4319-9c1d-6722fc136a22"" } ], ""security_groups"": [ { ""name"": ""default"" }, { ""name"": ""another-secgroup-name"" } ] } } | ",,1960,1
openstack%2Fopenstack-manuals~master~I8777feedd7a2361be222a8ad1d94efb748bf8c44,openstack/openstack-manuals,master,I8777feedd7a2361be222a8ad1d94efb748bf8c44,Update transifex config for User Guide split,MERGED,2015-05-12 18:48:47.000000000,2015-05-13 19:20:12.000000000,2015-05-13 19:20:11.000000000,"[{'_account_id': 3}, {'_account_id': 964}, {'_account_id': 6547}]","[{'number': 1, 'created': '2015-05-12 18:48:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/202a148e235b18edd30de4b6db0e3dfc91e1b06e', 'message': 'Update transifex config for User Guide split\n\nUpdate config file.\n\nChange-Id: I8777feedd7a2361be222a8ad1d94efb748bf8c44\n'}, {'number': 2, 'created': '2015-05-13 18:09:33.000000000', 'files': ['.tx/config'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/fcb9af6e1a91b1f5c81327242e86f5b4c4bf0cc7', 'message': 'Update transifex config for User Guide split\n\nUpdate config file.\n\nChange-Id: I8777feedd7a2361be222a8ad1d94efb748bf8c44\n'}]",0,182407,fcb9af6e1a91b1f5c81327242e86f5b4c4bf0cc7,12,3,2,6547,,,0,"Update transifex config for User Guide split

Update config file.

Change-Id: I8777feedd7a2361be222a8ad1d94efb748bf8c44
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/07/182407/2 && git format-patch -1 --stdout FETCH_HEAD,['.tx/config'],1,202a148e235b18edd30de4b6db0e3dfc91e1b06e,separate-user-guide,[openstack-manuals-i18n.user-guide] file_filter = doc/user-guide/source/locale/<lang>/LC_MESSAGES/user-guide.posource_file = doc/user-guide/source/locale/user-guide.pot[openstack-manuals-i18n.user-guide-admin] file_filter = doc/user-guide-admin/source/locale/<lang>/LC_MESSAGES/user-guide-admin.po minimum_perc = 75 source_file = doc/user-guide-admin/source/locale/user-guide-admin.pot source_lang = en type = PO,[openstack-manuals-i18n.user-guides] file_filter = doc/user-guides/source/locale/<lang>/LC_MESSAGES/user-guides.posource_file = doc/user-guides/source/locale/user-guides.pot,9,3
openstack%2Fopenstack-manuals~master~Id30666b87c7b0ae9fb6c2997cac62e8d52651dec,openstack/openstack-manuals,master,Id30666b87c7b0ae9fb6c2997cac62e8d52651dec,Admin User Guide: Remove admin_only,MERGED,2015-05-12 18:41:02.000000000,2015-05-13 19:20:04.000000000,2015-05-13 19:20:03.000000000,"[{'_account_id': 3}, {'_account_id': 964}, {'_account_id': 6547}, {'_account_id': 14643}]","[{'number': 1, 'created': '2015-05-12 18:41:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/cb4f0eae88f081cca14010bc1e6a8ab6aaa6ed41', 'message': ""Admin User Guide: Remove admin_only\n\nWith the split of the User Guides, there's no need anymore to have\norphan and admin_only flags, remove them from the user-guide-admin\ndirectory.\n\nChange-Id: Id30666b87c7b0ae9fb6c2997cac62e8d52651dec\n""}, {'number': 2, 'created': '2015-05-13 18:09:25.000000000', 'files': ['doc/user-guide-admin/source/dashboard_admin_manage_stacks.rst', 'doc/user-guide-admin/source/networking_advanced_quotas.rst', 'doc/user-guide-admin/source/dashboard_manage_host_aggregates.rst', 'doc/user-guide-admin/source/nova_cli_manage_projects_security.rst', 'doc/user-guide-admin/source/dashboard_manage_volumes.rst', 'doc/user-guide-admin/source/dashboard_view_cloud_resources.rst', 'doc/user-guide-admin/source/index.rst', 'doc/user-guide-admin/source/cli_nova_migrate.rst', 'doc/user-guide-admin/source/dashboard.rst', 'doc/user-guide-admin/source/dashboard_manage_resources.rst', 'doc/user-guide-admin/source/cli_manage_flavors.rst', 'doc/user-guide-admin/source/dashboard_manage_flavors.rst', 'doc/user-guide-admin/source/cli.rst', 'doc/user-guide-admin/source/cli_admin_manage_ip_addresses.rst', 'doc/user-guide-admin/source/intro-admin.rst', 'doc/user-guide-admin/source/cli_nova_manage_services.rst', 'doc/user-guide-admin/source/analyzing-log-files-with-swift-cli.rst', 'doc/user-guide-admin/source/dashboard_set_quotas.rst', 'doc/user-guide-admin/source/cli_admin_manage_stacks.rst', 'doc/user-guide-admin/source/dashboard_admin_manage_roles.rst', 'doc/user-guide-admin/source/cli_admin_manage_environment.rst', 'doc/user-guide-admin/source/cli_cinder_quotas.rst', 'doc/user-guide-admin/source/cli_nova_specify_host.rst', 'doc/user-guide-admin/source/dashboard_manage_images.rst', 'doc/user-guide-admin/source/cli_set_quotas.rst', 'doc/user-guide-admin/source/cli_manage_services.rst', 'doc/user-guide-admin/source/dashboard_manage_services.rst', 'doc/user-guide-admin/source/cli_keystone_manage_services.rst', 'doc/user-guide-admin/source/cli_nova_evacuate.rst', 'doc/user-guide-admin/source/cli_set_compute_quotas.rst', 'doc/user-guide-admin/source/dashboard_manage_instances.rst', 'doc/user-guide-admin/source/manage_projects_users_and_roles.rst'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/456869bdee6125bc3d2f1c95272dd9c6a0c7be26', 'message': ""Admin User Guide: Remove admin_only\n\nWith the split of the User Guides, there's no need anymore to have\norphan and admin_only flags, remove them from the user-guide-admin\ndirectory.\n\nChange-Id: Id30666b87c7b0ae9fb6c2997cac62e8d52651dec\n""}]",0,182406,456869bdee6125bc3d2f1c95272dd9c6a0c7be26,13,4,2,6547,,,0,"Admin User Guide: Remove admin_only

With the split of the User Guides, there's no need anymore to have
orphan and admin_only flags, remove them from the user-guide-admin
directory.

Change-Id: Id30666b87c7b0ae9fb6c2997cac62e8d52651dec
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/06/182406/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/user-guide-admin/source/dashboard_admin_manage_stacks.rst', 'doc/user-guide-admin/source/networking_advanced_quotas.rst', 'doc/user-guide-admin/source/dashboard_manage_host_aggregates.rst', 'doc/user-guide-admin/source/nova_cli_manage_projects_security.rst', 'doc/user-guide-admin/source/dashboard_manage_volumes.rst', 'doc/user-guide-admin/source/dashboard_view_cloud_resources.rst', 'doc/user-guide-admin/source/index.rst', 'doc/user-guide-admin/source/cli_nova_migrate.rst', 'doc/user-guide-admin/source/dashboard.rst', 'doc/user-guide-admin/source/dashboard_manage_resources.rst', 'doc/user-guide-admin/source/cli_manage_flavors.rst', 'doc/user-guide-admin/source/dashboard_manage_flavors.rst', 'doc/user-guide-admin/source/cli.rst', 'doc/user-guide-admin/source/cli_admin_manage_ip_addresses.rst', 'doc/user-guide-admin/source/intro-admin.rst', 'doc/user-guide-admin/source/cli_nova_manage_services.rst', 'doc/user-guide-admin/source/analyzing-log-files-with-swift-cli.rst', 'doc/user-guide-admin/source/dashboard_set_quotas.rst', 'doc/user-guide-admin/source/cli_admin_manage_stacks.rst', 'doc/user-guide-admin/source/dashboard_admin_manage_roles.rst', 'doc/user-guide-admin/source/cli_admin_manage_environment.rst', 'doc/user-guide-admin/source/cli_cinder_quotas.rst', 'doc/user-guide-admin/source/cli_nova_specify_host.rst', 'doc/user-guide-admin/source/dashboard_manage_images.rst', 'doc/user-guide-admin/source/cli_set_quotas.rst', 'doc/user-guide-admin/source/cli_manage_services.rst', 'doc/user-guide-admin/source/dashboard_manage_services.rst', 'doc/user-guide-admin/source/cli_keystone_manage_services.rst', 'doc/user-guide-admin/source/cli_nova_evacuate.rst', 'doc/user-guide-admin/source/cli_set_compute_quotas.rst', 'doc/user-guide-admin/source/dashboard_manage_instances.rst', 'doc/user-guide-admin/source/manage_projects_users_and_roles.rst']",32,cb4f0eae88f081cca14010bc1e6a8ab6aaa6ed41,separate-user-guide,,.. meta:: :scope: admin_only ,0,95
openstack%2Fopenstack-manuals~master~I1ac0356d69d8668785f8b1947e8b061731aca747,openstack/openstack-manuals,master,I1ac0356d69d8668785f8b1947e8b061731aca747,End User Guide: Remove user_only and orphan,MERGED,2015-05-12 18:34:48.000000000,2015-05-13 19:19:55.000000000,2015-05-13 19:19:55.000000000,"[{'_account_id': 3}, {'_account_id': 964}, {'_account_id': 6547}, {'_account_id': 9382}, {'_account_id': 9515}, {'_account_id': 12686}]","[{'number': 1, 'created': '2015-05-12 18:34:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/0572ca9c1697a6d6096251067d2dfcc4860633c7', 'message': 'User Guides: Remove user_only and orphan\n\nRemove user_only and orphan from nearly all files in the user-guide\ndirectory.\n\nOnly files that keep :orphan: are\ndoc/user-guide/source/hot-guide/hot_advanced_topics.rst and\nhot_existing_templates.rst since these files are not currently included.\n\nChange-Id: I1ac0356d69d8668785f8b1947e8b061731aca747\n'}, {'number': 2, 'created': '2015-05-12 18:41:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/246c362f0cceb8fe18503c8a14918373ac2c718a', 'message': ""End User Guide: Remove user_only and orphan\n\nWith the split of the User Guides, there's no need anymore to have\norphan and user_only flags, remove them from the user-guide\ndirectory.\n\nOnly files that keep :orphan: are\ndoc/user-guide/source/hot-guide/hot_advanced_topics.rst and\nhot_existing_templates.rst since these files are not currently included.\n\nChange-Id: I1ac0356d69d8668785f8b1947e8b061731aca747\n""}, {'number': 3, 'created': '2015-05-13 18:09:17.000000000', 'files': ['doc/user-guide/source/cli_reboot_an_instance.rst', 'doc/user-guide/source/cli_swift_manage_objects.rst', 'doc/user-guide/source/cli_swift_set_object_versions.rst', 'doc/user-guide/source/cli_config_drive.rst', 'doc/user-guide/source/sdk_authenticate.rst', 'doc/user-guide/source/sdk_schedule_objects_for_deletion.rst', 'doc/user-guide/source/create_db.rst', 'doc/user-guide/source/cli_search_instance_with_ip_address.rst', 'doc/user-guide/source/sdk_neutron_apis.rst', 'doc/user-guide/source/cli_swift_bulk_delete.rst', 'doc/user-guide/source/cli_swift_env_vars.rst', 'doc/user-guide/source/sdk_assign_cors_headers.rst', 'doc/user-guide/source/dashboard_manage_volumes.rst', 'doc/user-guide/source/sdk_authenticate_against_image_service_endpoint.rst', 'doc/user-guide/source/cli_swift_create_containers.rst', 'doc/user-guide/source/cli_swift_large_object_creation.rst', 'doc/user-guide/source/cli_swift_serialized_response_formats.rst', 'doc/user-guide/source/dashboard_launch_instances.rst', 'doc/user-guide/source/dashboard_stacks.rst', 'doc/user-guide/source/set_up_clustering.rst', 'doc/user-guide/source/hot-guide/hot_environment.rst', 'doc/user-guide/source/cli_access_instance_through_a_console.rst', 'doc/user-guide/source/cli_provide_user_data_to_instances.rst', 'doc/user-guide/source/cli_create_and_manage_networks.rst', 'doc/user-guide/source/hot-guide/hot.rst', 'doc/user-guide/source/cli_use_snapshots_to_migrate_instances.rst', 'doc/user-guide/source/sdk_install.rst', 'doc/user-guide/source/cli_create_and_manage_stacks.rst', 'doc/user-guide/source/configure_access_and_security_for_instances.rst', 'doc/user-guide/source/hot-guide/hot_basic_resources.rst', 'doc/user-guide/source/cli_swift_manage_access_swift.rst', 'doc/user-guide/source/cli_nova_launch_instance_from_volume.rst', 'doc/user-guide/source/hot-guide/hot_software_deployment.rst', 'doc/user-guide/source/dashboard_databases.rst', 'doc/user-guide/source/cli_swift_static_website.rst', 'doc/user-guide/source/cli_launch_instances.rst', 'doc/user-guide/source/cli_swift_archive_auto_extract.rst', 'doc/user-guide/source/managing-openstack-object-storage-with-swift-cli.rst', 'doc/user-guide/source/dashboard_manage_images.rst', 'doc/user-guide/source/cli_manage_ip_addresses.rst', 'doc/user-guide/source/set_up_replication.rst', 'doc/user-guide/source/cli_nova_show_usage_statistics_for_hosts_instances.rst', 'doc/user-guide/source/cli_delete_an_instance.rst', 'doc/user-guide/source/cli_nova_configure_access_security_for_instances.rst', 'doc/user-guide/source/cli_ceilometer.rst', 'doc/user-guide/source/cli_swift_pseudo_hierarchical_folders_directories.rst', 'doc/user-guide/source/index.rst', 'doc/user-guide/source/sdk_authenticate_against_compute_endpoint.rst', 'doc/user-guide/source/sdk_authenticate_against_networking_endpoint.rst', 'doc/user-guide/source/cli_manage_bare_metal_nodes.rst', 'doc/user-guide/source/hot-guide/hot_hello_world.rst', 'doc/user-guide/source/hot-guide/hot_spec.rst', 'doc/user-guide/source/trove-manage-db.rst', 'doc/user-guide/source/backup_db.rst', 'doc/user-guide/source/dashboard_manage_containers.rst', 'doc/user-guide/source/sdk_manage_images.rst', 'doc/user-guide/source/cli_change_the_size_of_your_server.rst', 'doc/user-guide/source/cli_swift_large_lists.rst', 'doc/user-guide/source/dashboard.rst', 'doc/user-guide/source/backup_db_incremental.rst', 'doc/user-guide/source/cli.rst', 'doc/user-guide/source/intro-user.rst', 'doc/user-guide/source/sdk_configure_access_security_instances.rst', 'doc/user-guide/source/sdk.rst', 'doc/user-guide/source/cli_manage_instances_hosts.rst', 'doc/user-guide/source/cli_cheat_sheet.rst', 'doc/user-guide/source/manage_db_config.rst', 'doc/user-guide/source/dashboard_create_networks.rst', 'doc/user-guide/source/hot-guide/hot_composition.rst', 'doc/user-guide/source/sdk_compute_apis.rst', 'doc/user-guide/source/cli_swift_discoverability.rst', 'doc/user-guide/source/cli_stop_and_start_an_instance.rst', 'doc/user-guide/source/sdk_authenticate_against_identity_endpoint.rst'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/28d95bfc6626dd46e5f039126a78b9f218d8e1fa', 'message': ""End User Guide: Remove user_only and orphan\n\nWith the split of the User Guides, there's no need anymore to have\norphan and user_only flags, remove them from the user-guide\ndirectory.\n\nOnly files that keep :orphan: are\ndoc/user-guide/source/hot-guide/hot_advanced_topics.rst and\nhot_existing_templates.rst since these files are not currently included.\n\nChange-Id: I1ac0356d69d8668785f8b1947e8b061731aca747\n""}]",0,182404,28d95bfc6626dd46e5f039126a78b9f218d8e1fa,15,6,3,6547,,,0,"End User Guide: Remove user_only and orphan

With the split of the User Guides, there's no need anymore to have
orphan and user_only flags, remove them from the user-guide
directory.

Only files that keep :orphan: are
doc/user-guide/source/hot-guide/hot_advanced_topics.rst and
hot_existing_templates.rst since these files are not currently included.

Change-Id: I1ac0356d69d8668785f8b1947e8b061731aca747
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/04/182404/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/user-guide/source/cli_reboot_an_instance.rst', 'doc/user-guide/source/cli_swift_manage_objects.rst', 'doc/user-guide/source/cli_swift_set_object_versions.rst', 'doc/user-guide/source/cli_config_drive.rst', 'doc/user-guide/source/sdk_authenticate.rst', 'doc/user-guide/source/sdk_schedule_objects_for_deletion.rst', 'doc/user-guide/source/create_db.rst', 'doc/user-guide/source/cli_search_instance_with_ip_address.rst', 'doc/user-guide/source/sdk_neutron_apis.rst', 'doc/user-guide/source/cli_swift_bulk_delete.rst', 'doc/user-guide/source/cli_swift_env_vars.rst', 'doc/user-guide/source/sdk_assign_cors_headers.rst', 'doc/user-guide/source/dashboard_manage_volumes.rst', 'doc/user-guide/source/sdk_authenticate_against_image_service_endpoint.rst', 'doc/user-guide/source/cli_swift_create_containers.rst', 'doc/user-guide/source/cli_swift_large_object_creation.rst', 'doc/user-guide/source/cli_swift_serialized_response_formats.rst', 'doc/user-guide/source/dashboard_launch_instances.rst', 'doc/user-guide/source/dashboard_stacks.rst', 'doc/user-guide/source/set_up_clustering.rst', 'doc/user-guide/source/hot-guide/hot_environment.rst', 'doc/user-guide/source/cli_access_instance_through_a_console.rst', 'doc/user-guide/source/cli_provide_user_data_to_instances.rst', 'doc/user-guide/source/cli_create_and_manage_networks.rst', 'doc/user-guide/source/hot-guide/hot.rst', 'doc/user-guide/source/cli_use_snapshots_to_migrate_instances.rst', 'doc/user-guide/source/sdk_install.rst', 'doc/user-guide/source/cli_create_and_manage_stacks.rst', 'doc/user-guide/source/configure_access_and_security_for_instances.rst', 'doc/user-guide/source/hot-guide/hot_basic_resources.rst', 'doc/user-guide/source/cli_swift_manage_access_swift.rst', 'doc/user-guide/source/cli_nova_launch_instance_from_volume.rst', 'doc/user-guide/source/hot-guide/hot_software_deployment.rst', 'doc/user-guide/source/dashboard_databases.rst', 'doc/user-guide/source/cli_swift_static_website.rst', 'doc/user-guide/source/cli_launch_instances.rst', 'doc/user-guide/source/cli_swift_archive_auto_extract.rst', 'doc/user-guide/source/managing-openstack-object-storage-with-swift-cli.rst', 'doc/user-guide/source/dashboard_manage_images.rst', 'doc/user-guide/source/cli_manage_ip_addresses.rst', 'doc/user-guide/source/set_up_replication.rst', 'doc/user-guide/source/cli_nova_show_usage_statistics_for_hosts_instances.rst', 'doc/user-guide/source/cli_delete_an_instance.rst', 'doc/user-guide/source/cli_nova_configure_access_security_for_instances.rst', 'doc/user-guide/source/cli_ceilometer.rst', 'doc/user-guide/source/cli_swift_pseudo_hierarchical_folders_directories.rst', 'doc/user-guide/source/index.rst', 'doc/user-guide/source/sdk_authenticate_against_compute_endpoint.rst', 'doc/user-guide/source/sdk_authenticate_against_networking_endpoint.rst', 'doc/user-guide/source/cli_manage_bare_metal_nodes.rst', 'doc/user-guide/source/hot-guide/hot_hello_world.rst', 'doc/user-guide/source/hot-guide/hot_spec.rst', 'doc/user-guide/source/trove-manage-db.rst', 'doc/user-guide/source/backup_db.rst', 'doc/user-guide/source/dashboard_manage_containers.rst', 'doc/user-guide/source/sdk_manage_images.rst', 'doc/user-guide/source/cli_change_the_size_of_your_server.rst', 'doc/user-guide/source/cli_swift_large_lists.rst', 'doc/user-guide/source/dashboard.rst', 'doc/user-guide/source/backup_db_incremental.rst', 'doc/user-guide/source/cli.rst', 'doc/user-guide/source/intro-user.rst', 'doc/user-guide/source/sdk_configure_access_security_instances.rst', 'doc/user-guide/source/sdk.rst', 'doc/user-guide/source/cli_manage_instances_hosts.rst', 'doc/user-guide/source/cli_cheat_sheet.rst', 'doc/user-guide/source/manage_db_config.rst', 'doc/user-guide/source/dashboard_create_networks.rst', 'doc/user-guide/source/hot-guide/hot_composition.rst', 'doc/user-guide/source/sdk_compute_apis.rst', 'doc/user-guide/source/cli_swift_discoverability.rst', 'doc/user-guide/source/cli_stop_and_start_an_instance.rst', 'doc/user-guide/source/sdk_authenticate_against_identity_endpoint.rst']",73,0572ca9c1697a6d6096251067d2dfcc4860633c7,separate-user-guide,,.. meta:: :scope: user_only :orphan: ,2,243
openstack%2Fopenstack-manuals~master~Ieba77b4e3d0bbe58db041206d9725c523b3bb43a,openstack/openstack-manuals,master,Ieba77b4e3d0bbe58db041206d9725c523b3bb43a,Unify checkbuild and publishdocs,MERGED,2015-05-10 06:51:11.000000000,2015-05-13 19:19:51.000000000,2015-05-13 19:19:50.000000000,"[{'_account_id': 3}, {'_account_id': 167}, {'_account_id': 964}, {'_account_id': 6547}, {'_account_id': 7923}, {'_account_id': 9382}, {'_account_id': 9515}]","[{'number': 1, 'created': '2015-05-10 06:51:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/393941120b6e3b600a5d150ab400005ec97ea2f3', 'message': 'Unify checkbuild and publishdocs\n\nThe two tox environments were large and mostly duplicated, use a shell\nscript instead.\n\nFor copying to /kilo, use the tools/copy-to-branch.sh script instead of\nthe simple commands since that is more robust. Merge that script into\nthis script, no need for a second script.\n\nUpdate requirements: We need 0.27 at least to not have to delete the\nDebian Install Guide, sync also pbr with global-requirements.txt.\n\nChange-Id: Ieba77b4e3d0bbe58db041206d9725c523b3bb43a\n'}, {'number': 2, 'created': '2015-05-12 05:57:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/906ea7d2e9b51ed709578185ee2a081b3a48f245', 'message': 'Unify checkbuild and publishdocs\n\nThe two tox environments were large and mostly duplicated, use a shell\nscript instead.\n\nFor copying to /kilo, use the tools/copy-to-branch.sh script instead of\nthe simple commands since that is more robust. Merge that script into\nthis script, no need for a second script.\n\nUpdate requirements: We need 0.27 at least to not have to delete the\nDebian Install Guide, sync also pbr with global-requirements.txt.\n\nChange-Id: Ieba77b4e3d0bbe58db041206d9725c523b3bb43a\n'}, {'number': 3, 'created': '2015-05-12 11:34:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/2a62f26d0fb189cce7ee44e338778ea3ff0beade', 'message': 'Unify checkbuild and publishdocs\n\nThe two tox environments were large and mostly duplicated, use a shell\nscript instead and use the build-rst.sh script to simplify building and\npublishing.\n\nFor copying to /kilo, use the tools/copy-to-branch.sh script instead of\nthe simple commands since that is more robust. Merge that script into\nthis script, no need for a second script.\n\nUpdate requirements: We need 0.27 at least to not have to delete the\nDebian Install Guide, sync also pbr with global-requirements.txt.\n\nChange-Id: Ieba77b4e3d0bbe58db041206d9725c523b3bb43a\n'}, {'number': 4, 'created': '2015-05-13 18:06:56.000000000', 'files': ['tools/publishdocs.sh', 'test-requirements.txt', 'tools/copy-to-branch.sh', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/1713dabf5670c79643a6c935f469c1b3829380a4', 'message': 'Unify checkbuild and publishdocs\n\nThe two tox environments were large and mostly duplicated, use a shell\nscript instead and use the build-rst.sh script to simplify building and\npublishing.\n\nFor copying to /kilo, use the tools/copy-to-branch.sh script instead of\nthe simple commands since that is more robust. Merge that script into\nthis script, no need for a second script.\n\nUpdate requirements: We need 0.27 at least to not have to delete the\nDebian Install Guide, sync also pbr with global-requirements.txt.\n\nChange-Id: Ieba77b4e3d0bbe58db041206d9725c523b3bb43a\n'}]",5,181717,1713dabf5670c79643a6c935f469c1b3829380a4,23,7,4,6547,,,0,"Unify checkbuild and publishdocs

The two tox environments were large and mostly duplicated, use a shell
script instead and use the build-rst.sh script to simplify building and
publishing.

For copying to /kilo, use the tools/copy-to-branch.sh script instead of
the simple commands since that is more robust. Merge that script into
this script, no need for a second script.

Update requirements: We need 0.27 at least to not have to delete the
Debian Install Guide, sync also pbr with global-requirements.txt.

Change-Id: Ieba77b4e3d0bbe58db041206d9725c523b3bb43a
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/17/181717/2 && git format-patch -1 --stdout FETCH_HEAD,"['tools/publishdocs.sh', 'test-requirements.txt', 'tools/copy-to-branch.sh', 'tox.ini']",4,393941120b6e3b600a5d150ab400005ec97ea2f3,separate-user-guide, {toxinidir}/tools/publishdocs.sh build {toxinidir}/tools/publishdocs.sh publish," # Build first the www pages so that openstack-doc-test creates a link to # www/www-index.html. mkdir -p publish-docs/www python tools/www-generator.py --source-directory www/ --output-directory publish-docs/www/ cp www/www-index.html publish-docs/ rsync -a www/static/ publish-docs/www/ # Build and copy RST Guides # Build both RST User Guides {toxinidir}/tools/build-user-guides.sh # Copy RST user-guide mkdir -p publish-docs/user-guide/ rsync -a doc/user-guides/build/html/ publish-docs/user-guide/ # Copy RST user-guide-admin mkdir -p publish-docs/user-guide-admin/ rsync -a doc/user-guides/build-admin/html/ publish-docs/user-guide-admin/ # Build RST networking guide {toxinidir}/tools/glossary2rst.py doc/networking-guide/source/glossary.rst sphinx-build -E -W doc/networking-guide/source doc/networking-guide/build/html mkdir -p publish-docs/networking-guide/ rsync -a doc/networking-guide/build/html/ publish-docs/networking-guide/ # Build DocBook Guides openstack-doc-test --check-build {posargs} # Create directory, it might not be here if openstack-doc-test does # not publish anything. mkdir -p publish-docs # We only publish changed manuals. openstack-doc-test --check-build --publish # TODO(jaegerandi): Remove the following lines before we branch off # a kilo branch. # Do not publish Debian guide rm -rf publish-docs/draft/install-guide/install/apt-debian # Publish install-guide and config-reference to /kilo bash -c ""cp -a publish-docs/draft publish-docs/kilo || true"" # Replace links to /draft with links to /kilo/ # This needs bash so that tox does not interpret the * bash -c ""sed -i -e 's|/draft/|/kilo/|g' publish-docs/kilo/*/atom.xml publish-docs/kilo/*/*/*/atom.xml publish-docs/kilo/*/*.html publish-docs/kilo/*/*/*/*/*.html publish-docs/kilo/*/*/*/*.html publish-docs/kilo/*/*/*.html publish-docs/kilo/*/*.html || true"" # END Kilo duplication. # Build both RST User Guides {toxinidir}/tools/build-user-guides.sh # Copy RST user-guide mkdir -p publish-docs/user-guide/ rsync -a doc/user-guides/build/html/ publish-docs/user-guide/ # Copy RST user-guide-admin mkdir -p publish-docs/user-guide-admin/ rsync -a doc/user-guides/build-admin/html/ publish-docs/user-guide-admin/ # Build RST Networking Guide {toxinidir}/tools/glossary2rst.py doc/networking-guide/source/glossary.rst sphinx-build -W doc/networking-guide/source doc/networking-guide/build/html # Copy RST Networking Guide mkdir -p publish-docs/networking-guide/ rsync -a doc/networking-guide/build/html/ publish-docs/networking-guide/ # Now publish www as well, we cannot do this from # openstack-doc-test. Use rsync so that .htaccess gets also # copied. python tools/www-generator.py --source-directory www/ --output-directory publish-docs/ rsync -a www/static/ publish-docs/ # Don't publish this file rm publish-docs/www-index.html",78,96
openstack%2Fcloudkitty~master~Id1fa2ab02976298c9bbf0c9cc21551e964e81804,openstack/cloudkitty,master,Id1fa2ab02976298c9bbf0c9cc21551e964e81804,Added a fake fetcher and collector,MERGED,2015-05-13 19:01:06.000000000,2015-05-13 19:19:44.000000000,2015-05-13 19:19:43.000000000,"[{'_account_id': 3}, {'_account_id': 7042}]","[{'number': 1, 'created': '2015-05-13 19:01:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/845ec10c1f0b0a9e8a56d3aed434fcc39eb39e87', 'message': 'Added a fake fetcher and collector\n\nLoads data from CSV file.\nAdded a tool to generate data to csv file.\nThese tools will be used for future CI and tests.\n\nChange-Id: Id1fa2ab02976298c9bbf0c9cc21551e964e81804\n'}, {'number': 2, 'created': '2015-05-13 19:06:34.000000000', 'files': ['contrib/ci/csv_writer.py', 'cloudkitty/collector/fake.py', 'cloudkitty/tenant_fetcher/fake.py', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/f7e9102dcb1ea584331dc9bba602033bef2dc4ff', 'message': 'Added a fake fetcher and collector\n\nLoads data from CSV file.\nAdded a tool to generate data to csv file.\nThese tools will be used for future CI and tests.\n\nChange-Id: Id1fa2ab02976298c9bbf0c9cc21551e964e81804\n'}]",0,182791,f7e9102dcb1ea584331dc9bba602033bef2dc4ff,7,2,2,7042,,,0,"Added a fake fetcher and collector

Loads data from CSV file.
Added a tool to generate data to csv file.
These tools will be used for future CI and tests.

Change-Id: Id1fa2ab02976298c9bbf0c9cc21551e964e81804
",git fetch https://review.opendev.org/openstack/cloudkitty refs/changes/91/182791/1 && git format-patch -1 --stdout FETCH_HEAD,"['contrib/ci/csv_writer.py', 'cloudkitty/collector/fake.py', 'cloudkitty/tenant_fetcher/fake.py', 'setup.cfg']",4,845ec10c1f0b0a9e8a56d3aed434fcc39eb39e87,tests/fake_collector, fake = cloudkitty.collector.fake:CSVCollector fake = cloudkitty.tenant_fetcher.fake:FakeFetcher,,788,0
openstack%2Fcloudkitty~master~I3b84ff7850156bbfad86634719cb880a64ab6d29,openstack/cloudkitty,master,I3b84ff7850156bbfad86634719cb880a64ab6d29,Fixed tenant fetcher using Keystone objects,MERGED,2015-05-13 17:24:57.000000000,2015-05-13 19:14:31.000000000,2015-05-13 19:14:30.000000000,"[{'_account_id': 3}, {'_account_id': 7042}]","[{'number': 1, 'created': '2015-05-13 17:24:57.000000000', 'files': ['cloudkitty/tenant_fetcher/keystone.py', 'cloudkitty/orchestrator.py', 'cloudkitty/tests/test_keystone_fetcher.py'], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/797a63b345328a9f3e89202a1242aff94c6f5a86', 'message': 'Fixed tenant fetcher using Keystone objects\n\nChange-Id: I3b84ff7850156bbfad86634719cb880a64ab6d29\n'}]",0,182767,797a63b345328a9f3e89202a1242aff94c6f5a86,6,2,1,7042,,,0,"Fixed tenant fetcher using Keystone objects

Change-Id: I3b84ff7850156bbfad86634719cb880a64ab6d29
",git fetch https://review.opendev.org/openstack/cloudkitty refs/changes/67/182767/1 && git format-patch -1 --stdout FETCH_HEAD,"['cloudkitty/tenant_fetcher/keystone.py', 'cloudkitty/orchestrator.py', 'cloudkitty/tests/test_keystone_fetcher.py']",3,797a63b345328a9f3e89202a1242aff94c6f5a86,fix/tenant_fetcher_use_uuid,"class FakeTenant(object): def __init__(self, id): self.id = id return [FakeTenant('f266f30b11f246b589fd266f85eeec39'), FakeTenant('4dfb25b0947c4f5481daf7b948c14187')] return cls.roles_mapping[user_id][tenant.id]"," return ['f266f30b11f246b589fd266f85eeec39', '4dfb25b0947c4f5481daf7b948c14187'] return cls.roles_mapping[user_id][tenant]",11,6
openstack%2Fpython-troveclient~master~I2a8caa859830b3416bfe54e4261dd3415ac5a76a,openstack/python-troveclient,master,I2a8caa859830b3416bfe54e4261dd3415ac5a76a,Drop use of 'oslo' namespace package,MERGED,2015-05-06 19:46:59.000000000,2015-05-13 19:12:56.000000000,2015-05-13 19:12:55.000000000,"[{'_account_id': 3}, {'_account_id': 5293}, {'_account_id': 7806}, {'_account_id': 9782}, {'_account_id': 10215}, {'_account_id': 10295}, {'_account_id': 14576}]","[{'number': 1, 'created': '2015-05-06 19:46:59.000000000', 'files': ['troveclient/utils.py', 'troveclient/client.py', 'troveclient/compat/utils.py', 'troveclient/i18n.py', 'troveclient/shell.py'], 'web_link': 'https://opendev.org/openstack/python-troveclient/commit/8612fd048d18229d2c2d2492f6815c9e5837b8a5', 'message': ""Drop use of 'oslo' namespace package\n\nThe Oslo libraries have moved all of their code out of the 'oslo'\nnamespace package into per-library packages. The namespace package was\nretained during kilo for backwards compatibility, but will be removed by\nthe liberty-2 milestone. This change removes the use of the namespace\npackage, replacing it with the new package names.\n\nThe patches in the libraries will be put on hold until application\npatches have landed, or L2, whichever comes first. At that point, new\nversions of the libraries without namespace packages will be released as\na major version update.\n\nPlease merge this patch, or an equivalent, before L2 to avoid problems\nwith those library releases.\n\nBlueprint: remove-namespace-packages\nhttps://blueprints.launchpad.net/oslo-incubator/+spec/remove-namespace-packages\n\nChange-Id: I2a8caa859830b3416bfe54e4261dd3415ac5a76a\n""}]",3,180707,8612fd048d18229d2c2d2492f6815c9e5837b8a5,11,7,1,2472,,,0,"Drop use of 'oslo' namespace package

The Oslo libraries have moved all of their code out of the 'oslo'
namespace package into per-library packages. The namespace package was
retained during kilo for backwards compatibility, but will be removed by
the liberty-2 milestone. This change removes the use of the namespace
package, replacing it with the new package names.

The patches in the libraries will be put on hold until application
patches have landed, or L2, whichever comes first. At that point, new
versions of the libraries without namespace packages will be released as
a major version update.

Please merge this patch, or an equivalent, before L2 to avoid problems
with those library releases.

Blueprint: remove-namespace-packages
https://blueprints.launchpad.net/oslo-incubator/+spec/remove-namespace-packages

Change-Id: I2a8caa859830b3416bfe54e4261dd3415ac5a76a
",git fetch https://review.opendev.org/openstack/python-troveclient refs/changes/07/180707/1 && git format-patch -1 --stdout FETCH_HEAD,"['troveclient/utils.py', 'troveclient/client.py', 'troveclient/compat/utils.py', 'troveclient/i18n.py', 'troveclient/shell.py']",5,8612fd048d18229d2c2d2492f6815c9e5837b8a5,bp/remove-namespace-packages,from oslo_utils import encodeutils from oslo_utils import importutils,from oslo.utils import encodeutils from oslo.utils import importutils,8,8
openstack%2Foslotest~master~I25e989fb14fbb00227a66f1c5832043771e7195f,openstack/oslotest,master,I25e989fb14fbb00227a66f1c5832043771e7195f,Do not sync run_cross_tests.sh,MERGED,2015-05-05 19:33:45.000000000,2015-05-13 19:08:51.000000000,2015-05-13 19:08:50.000000000,"[{'_account_id': 3}, {'_account_id': 1669}, {'_account_id': 2472}, {'_account_id': 2813}, {'_account_id': 5638}, {'_account_id': 8041}]","[{'number': 1, 'created': '2015-05-05 19:33:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslotest/commit/2e8c7dddc704b7dba04e448a264f8497bb1851ae', 'message': ""Do not sync run_cross_tests.sh\n\nThe script is part of the tools installed with this library, and\nshouldn't be synced from the incubator any more.\n\nChange-Id: I25e989fb14fbb00227a66f1c5832043771e7195f\n""}, {'number': 2, 'created': '2015-05-08 20:20:46.000000000', 'files': ['openstack-common.conf'], 'web_link': 'https://opendev.org/openstack/oslotest/commit/a063f2503bfccbf4923b35bb87154ae39efd262e', 'message': ""Do not sync run_cross_tests.sh\n\nThe script is part of the tools installed with this library, and\nshouldn't be synced from the incubator any more.\n\nSince we are no longer syncing anything into this library, remove the\nconfiguration file for the sync tool.\n\nChange-Id: I25e989fb14fbb00227a66f1c5832043771e7195f\n""}]",0,180281,a063f2503bfccbf4923b35bb87154ae39efd262e,13,6,2,2472,,,0,"Do not sync run_cross_tests.sh

The script is part of the tools installed with this library, and
shouldn't be synced from the incubator any more.

Since we are no longer syncing anything into this library, remove the
configuration file for the sync tool.

Change-Id: I25e989fb14fbb00227a66f1c5832043771e7195f
",git fetch https://review.opendev.org/openstack/oslotest refs/changes/81/180281/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack-common.conf'],1,2e8c7dddc704b7dba04e448a264f8497bb1851ae,no-sync-cross-test-script,,# The list of modules to copy from oslo-incubator.git script = tools/run_cross_tests.sh ,0,3
openstack%2Ftaskflow~master~I522ce82923837e9fd9d0dcf90e70916e85bc65ad,openstack/taskflow,master,I522ce82923837e9fd9d0dcf90e70916e85bc65ad,Remove custom py26/py27 tox venvs no longer used,MERGED,2015-05-13 00:56:54.000000000,2015-05-13 19:06:53.000000000,2015-05-13 19:06:52.000000000,"[{'_account_id': 3}, {'_account_id': 1297}]","[{'number': 1, 'created': '2015-05-13 00:56:54.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/taskflow/commit/fb2b813e38504f17b5231435e8913a69530753ad', 'message': 'Remove custom py26/py27 tox venvs no longer used\n\nChange-Id: I522ce82923837e9fd9d0dcf90e70916e85bc65ad\n'}]",0,182512,fb2b813e38504f17b5231435e8913a69530753ad,6,2,1,1297,,,0,"Remove custom py26/py27 tox venvs no longer used

Change-Id: I522ce82923837e9fd9d0dcf90e70916e85bc65ad
",git fetch https://review.opendev.org/openstack/taskflow refs/changes/12/182512/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,fb2b813e38504f17b5231435e8913a69530753ad,,," py26-sa7-mysql, py27-sa8-mysql,[testenv:py26-sa7-mysql] basepython = python2.6 deps = {[testenv]deps} SQLAlchemy>=0.7.8,<=0.7.99 MySQL-python [testenv:py27-sa8-mysql] basepython = python2.7 deps = {[testenv]deps} SQLAlchemy>=0.8,<=0.8.99 MySQL-python",0,13
openstack%2Foslo-specs~master~I89b714ce6a7378c746deae788cd53de3129e9d67,openstack/oslo-specs,master,I89b714ce6a7378c746deae788cd53de3129e9d67,Add an adopt futurist spec,MERGED,2015-05-04 19:14:40.000000000,2015-05-13 19:02:11.000000000,2015-05-13 19:02:10.000000000,"[{'_account_id': 3}, {'_account_id': 1297}, {'_account_id': 1669}, {'_account_id': 2472}, {'_account_id': 2813}, {'_account_id': 5638}, {'_account_id': 9107}]","[{'number': 1, 'created': '2015-05-04 19:14:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo-specs/commit/ff0ad7ed4fe37b38579f4cc0208ee819b5eb775e', 'message': 'Add an adopt tardis spec to adopt/create that codebase\n\nChange-Id: I89b714ce6a7378c746deae788cd53de3129e9d67\n'}, {'number': 2, 'created': '2015-05-04 19:16:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo-specs/commit/28915f96db2287cce2d07faa89d7e84c10082f01', 'message': 'Add an adopt tardis spec to adopt/create that codebase\n\nChange-Id: I89b714ce6a7378c746deae788cd53de3129e9d67\n'}, {'number': 3, 'created': '2015-05-04 22:00:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo-specs/commit/332bdcc58613a714df756882f53085e42cf7cd41', 'message': 'Add an adopt tardis spec to adopt/create that codebase\n\nChange-Id: I89b714ce6a7378c746deae788cd53de3129e9d67\n'}, {'number': 4, 'created': '2015-05-04 22:00:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo-specs/commit/aeb2d77bc78aa179554158cdfe41672afaa4e163', 'message': 'Add an adopt tardis spec to adopt/create that codebase\n\nChange-Id: I89b714ce6a7378c746deae788cd53de3129e9d67\n'}, {'number': 5, 'created': '2015-05-05 00:27:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo-specs/commit/d84948aed4073314bd54206b68dc707924869bfa', 'message': 'Add an adopt tardis spec to adopt/create that codebase\n\nChange-Id: I89b714ce6a7378c746deae788cd53de3129e9d67\n'}, {'number': 6, 'created': '2015-05-05 01:19:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo-specs/commit/368f2bdc78266fb20ee490e333c7f76ebc040d53', 'message': 'Add an adopt tardis spec to adopt/create that codebase\n\nChange-Id: I89b714ce6a7378c746deae788cd53de3129e9d67\n'}, {'number': 7, 'created': '2015-05-05 01:20:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo-specs/commit/3dec6070a436f33398ae2c480dca7aa15734f291', 'message': 'Add an adopt tardis spec to adopt/create that codebase\n\nChange-Id: I89b714ce6a7378c746deae788cd53de3129e9d67\n'}, {'number': 8, 'created': '2015-05-05 18:35:45.000000000', 'files': ['specs/liberty/adopt-futurist.rst'], 'web_link': 'https://opendev.org/openstack/oslo-specs/commit/d7140bcc08b6f276ed068a9a58841154969111f2', 'message': 'Add an adopt futurist spec\n\nChange-Id: I89b714ce6a7378c746deae788cd53de3129e9d67\n'}]",23,179890,d7140bcc08b6f276ed068a9a58841154969111f2,31,7,8,1297,,,0,"Add an adopt futurist spec

Change-Id: I89b714ce6a7378c746deae788cd53de3129e9d67
",git fetch https://review.opendev.org/openstack/oslo-specs refs/changes/90/179890/8 && git format-patch -1 --stdout FETCH_HEAD,['specs/liberty/adopt-tardis.rst'],1,ff0ad7ed4fe37b38579f4cc0208ee819b5eb775e,,".. ========================== Creating/adopting tardis ========================== https://blueprints.launchpad.net/oslo.utils/+spec/adopt-tardis The goal of this library would be to provide a well documented `futures`_ classes/utilities/additions that start of with the a basic set and can expand into a larger set as time goes on. Some of the current/planned usages for it (that are being actively pursued): * Internal usage in `taskflow`_ (when no executor object is provided by a user). * Internal usage in `oslo.messaging`_ (replacing/augmenting/unifying the executor interface inside that codebase). The code for this library was extracted from `taskflow`_ and is desired to be used by `oslo.messaging`_ (and hopefully others)? Library Name ============ *tardis* (**TBD** depending on `support request`_) Contents ======== * ``tardis/__init__.py`` * ``tardis/futures.py`` * ``tardis/utils.py`` (internal usage only) Early Adopters ============== * Taskflow * Oslo.messaging * Others? Public API ========== Currently the *public* API is the following: :: from concurrent import futures as _futures from concurrent.futures import process as _process from concurrent.futures import thread as _thread ThreadPoolExecutor(_thread.ThreadPoolExecutor) """""" Executor that uses a thread pool to execute calls asynchronously. It gathers statistics about the submissions executed for post-analysis... See: https://docs.python.org/dev/library/concurrent.futures.html """""" - statistics (read-only property) - alive (read-only property) - submit (same as parent class) - shutdown (same as parent class) ProcessPoolExecutor(_process.ProcessPoolExecutor) """""" Executor that uses a process pool to execute calls asynchronously. It gathers statistics about the submissions executed for post-analysis... See: https://docs.python.org/dev/library/concurrent.futures.html """""" - statistics (read-only property) - alive (read-only property) - submit (same as parent class) - shutdown (same as parent class) SynchronousExecutor(_futures.Executor) """"""Executor that uses the caller to execute calls synchronously. This provides an interface to a caller that looks like an executor but will execute the calls inside the caller thread instead of executing it in a external process/thread for when this type of functionality is useful to provide... It gathers statistics about the submissions executed for post-analysis... """""" - statistics (read-only property) - alive (read-only property) - submit (same as parent class) - restart (Restarts this executor (*iff* previously shutoff/shutdown)) - shutdown (same as parent class) GreenFuture(Future) """"""Future that ensures internal condition is a green(ed) condition."""""" GreenThreadPoolExecutor(_futures.Executor) """"""Executor that uses a green thread pool to execute calls asynchronously. See: https://docs.python.org/dev/library/concurrent.futures.html and http://eventlet.net/doc/modules/greenpool.html for information on how this works. It gathers statistics about the submissions executed for post-analysis... """""" - statistics (read-only property) - alive (read-only property) - submit (same as parent class) - shutdown (same as parent class) ExecutorStatistics(object) """"""Holds *immutable* information about a executors executions."""""" - failures (read-only property) - executed (read-only property) - runtime (read-only property) - cancelled (read-only property) - average_runtime (read-only property) Implementation ============== Assignee(s) ----------- Primary assignee: * Harlowja Other contributors: * You? Primary maintainer ------------------ Primary maintainer: * Harlowja (until further notice). Other contributors: * You? Security Contact ---------------- Security Contact: harlowja Milestones ---------- Target Milestone for completion: liberty-1 Work Items ---------- * Create launchpad project * Change owner of Launchpad project (make it part of the Oslo projectgroup) * Give openstackci Owner permissions on PyPI * Create Initial Repository * Make the library do something * Update the README.rst * Publish git repo * Oslo team review new repository * Infra project configuration * Update Gerrit Groups and ACLs * openstack-infra/devstack-gate adjustments * openstack/requirements projects.txt adjustments * Update project list on docs.openstack.org * Tag a release * Profit! Adoption Notes ============== N/A Dependencies ============ Requirements ------------ * python 2.6 --> 3.4 (and beyond!) * `futures backport`_ (only needed on python < 3.2) * `pbr`_ * `oslo.utils`_ * `six`_ .. note:: All of the currently planned dependencies are in the requirements repository. References ========== N/A .. note:: This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode .. _six: https://pypi.python.org/pypi/six .. _oslo.messaging: https://pypi.python.org/pypi/oslo.messaging .. _oslo.utils: https://pypi.python.org/pypi/oslo.utils .. _support request: https://sourceforge.net/p/pypi/support-requests/494/ .. _pbr: http://docs.openstack.org/developer/pbr/ .. _taskflow: http://docs.openstack.org/developer/taskflow/ .. _futures backport: https://pypi.python.org/pypi/futures .. _futures: https://docs.python.org/dev/library/concurrent.futures.html ",,215,0
openstack%2Fironic-specs~master~If8bec359034d35b4edf32f473645c1c87a9fe479,openstack/ironic-specs,master,If8bec359034d35b4edf32f473645c1c87a9fe479,Add a 'Client (CLI) impact' section to the spec,MERGED,2015-05-06 18:14:36.000000000,2015-05-13 19:01:41.000000000,2015-05-13 19:01:39.000000000,"[{'_account_id': 3}, {'_account_id': 2889}, {'_account_id': 5805}, {'_account_id': 6618}, {'_account_id': 6773}, {'_account_id': 6804}, {'_account_id': 8106}, {'_account_id': 10342}, {'_account_id': 13997}]","[{'number': 1, 'created': '2015-05-06 18:14:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/6a44413ced017946966f60dde335097c70766345', 'message': ""Add a 'Client (CLI) impact' section to the spec\n\nThis adds a 'Client (CLI) impact' section to the specification template.\nThe place to capture this information was in 'Other end user impact' but\nthat isn't explicit enough for people to know to put that information\nthere or for the reviewers to look ther for that information.\n\nHaving an explicit section will also make it easier later, to check\nthat the feature proposed in the specification has been completely\nimplemented.\n\nChange-Id: If8bec359034d35b4edf32f473645c1c87a9fe479\n""}, {'number': 2, 'created': '2015-05-13 18:53:59.000000000', 'files': ['specs/liberty/irmc-virtualmedia-deploy-driver.rst', 'specs/template.rst', 'specs/liberty/msft-ocs-power-driver.rst', 'specs/liberty/cisco-ucs-pxe-driver.rst', 'specs/liberty/override-pxe-options-via-glance-property.rst'], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/d1f4099619e83177196fb4733d3f948531343437', 'message': ""Add a 'Client (CLI) impact' section to the spec\n\nThis adds a 'Client (CLI) impact' section to the specification template.\nThe place to capture this information was in 'Other end user impact' but\nthat isn't explicit enough for people to know to put that information\nthere or for the reviewers to look there for that information.\n\nHaving an explicit section will also make it easier later, to check\nthat the feature proposed in the specification has been completely\nimplemented.\n\nChange-Id: If8bec359034d35b4edf32f473645c1c87a9fe479\n""}]",4,180662,d1f4099619e83177196fb4733d3f948531343437,19,9,2,6618,,,0,"Add a 'Client (CLI) impact' section to the spec

This adds a 'Client (CLI) impact' section to the specification template.
The place to capture this information was in 'Other end user impact' but
that isn't explicit enough for people to know to put that information
there or for the reviewers to look there for that information.

Having an explicit section will also make it easier later, to check
that the feature proposed in the specification has been completely
implemented.

Change-Id: If8bec359034d35b4edf32f473645c1c87a9fe479
",git fetch https://review.opendev.org/openstack/ironic-specs refs/changes/62/180662/1 && git format-patch -1 --stdout FETCH_HEAD,"['specs/liberty/irmc-virtualmedia-deploy-driver.rst', 'specs/template.rst', 'specs/liberty/msft-ocs-power-driver.rst', 'specs/liberty/cisco-ucs-pxe-driver.rst', 'specs/liberty/override-pxe-options-via-glance-property.rst']",5,6a44413ced017946966f60dde335097c70766345,,Client (CLI) impact ------------------- None ,,25,5
openstack%2Fmanila~master~Ida9a1939819d9b6f4bc7aed5eecd4592627c4e3a,openstack/manila,master,Ida9a1939819d9b6f4bc7aed5eecd4592627c4e3a,Improve ShareServer DB model,MERGED,2015-05-06 14:43:36.000000000,2015-05-13 18:50:53.000000000,2015-05-13 18:50:52.000000000,"[{'_account_id': 3}, {'_account_id': 2417}, {'_account_id': 6491}, {'_account_id': 7102}, {'_account_id': 7652}, {'_account_id': 8851}, {'_account_id': 11047}, {'_account_id': 11865}, {'_account_id': 14232}]","[{'number': 1, 'created': '2015-05-06 14:43:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/d56e527b61c4d7b9b36c3ba127d57d4daa00b4b2', 'message': ""Improve ShareServer DB model\n\nCurrently, some DB API methods related to share_servers\nmanually retrieve backend_details via\nshare_server_backend_details_get() method. It's bad practice\nbecause some DB API methods return share_server models with\nloaded backend_details and other models return models without\nbackend_details. It forces developers to manually check that\nshare_server model has backend_details attribute.\n\n- Automatically load read-only backend_details to ShareServer model\n- Remove redundant calls of share_server_backend_details_get() method\n- Update appropriate unit tests\n\nChange-Id: Ida9a1939819d9b6f4bc7aed5eecd4592627c4e3a\n""}, {'number': 2, 'created': '2015-05-07 10:11:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/d5837658d7a4f6ad74e06c2be289924a68e92af2', 'message': ""Improve ShareServer DB model\n\nCurrently, some DB API methods related to share_servers\nmanually retrieve backend_details via\nshare_server_backend_details_get() method. It's bad practice\nbecause some DB API methods return share_server models with\nloaded backend_details and other models return models without\nbackend_details. It forces developers to manually check that\nshare_server model has backend_details attribute.\n\n- Automatically load read-only backend_details to ShareServer model\n- Remove redundant calls of share_server_backend_details_get() method\n- Update appropriate unit tests\n\nChange-Id: Ida9a1939819d9b6f4bc7aed5eecd4592627c4e3a\n""}, {'number': 3, 'created': '2015-05-07 11:35:08.000000000', 'files': ['manila/db/api.py', 'manila/db/sqlalchemy/models.py', 'manila/db/sqlalchemy/api.py', 'manila/api/v1/share_servers.py', 'manila/tests/api/v1/test_share_servers.py', 'manila/share/manager.py', 'manila/tests/test_db.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/74d98badf3b05854ee36851d8b9e80683554ebbd', 'message': ""Improve ShareServer DB model\n\nCurrently, some DB API methods related to share_servers\nmanually retrieve backend_details via\nshare_server_backend_details_get() method. It's bad practice\nbecause some DB API methods return share_server models with\nloaded backend_details and other models return models without\nbackend_details. It forces developers to manually check that\nshare_server model has backend_details attribute.\n\n- Automatically load read-only backend_details to ShareServer model\n- Remove redundant calls of share_server_backend_details_get() method\n- Remove share_server_backend_details_get() method\n- Update appropriate unit tests\n\nChange-Id: Ida9a1939819d9b6f4bc7aed5eecd4592627c4e3a\n""}]",4,180568,74d98badf3b05854ee36851d8b9e80683554ebbd,18,9,3,14232,,,0,"Improve ShareServer DB model

Currently, some DB API methods related to share_servers
manually retrieve backend_details via
share_server_backend_details_get() method. It's bad practice
because some DB API methods return share_server models with
loaded backend_details and other models return models without
backend_details. It forces developers to manually check that
share_server model has backend_details attribute.

- Automatically load read-only backend_details to ShareServer model
- Remove redundant calls of share_server_backend_details_get() method
- Remove share_server_backend_details_get() method
- Update appropriate unit tests

Change-Id: Ida9a1939819d9b6f4bc7aed5eecd4592627c4e3a
",git fetch https://review.opendev.org/openstack/manila refs/changes/68/180568/1 && git format-patch -1 --stdout FETCH_HEAD,"['manila/db/sqlalchemy/models.py', 'manila/db/sqlalchemy/api.py', 'manila/api/v1/share_servers.py', 'manila/share/manager.py', 'manila/tests/api/v1/test_share_servers.py']",5,d56e527b61c4d7b9b36c3ba127d57d4daa00b4b2,improve_share_server_db_model,," db_api.share_server_backend_details_get.assert_called_once_with( CONTEXT, fake_share_server_get_result['share_server']['id'])",26,14
openstack%2Fkeystonemiddleware~stable%2Fjuno~Id18916953f6e1bae3688216eaf809c2086b4af13,openstack/keystonemiddleware,stable/juno,Id18916953f6e1bae3688216eaf809c2086b4af13,Updated from global requirements,MERGED,2015-04-13 23:32:28.000000000,2015-05-13 18:46:50.000000000,2015-05-13 18:46:49.000000000,"[{'_account_id': 3}, {'_account_id': 4571}, {'_account_id': 5196}, {'_account_id': 6486}, {'_account_id': 6873}]","[{'number': 1, 'created': '2015-04-13 23:32:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/368be349a6535284693a7dcdfef4df2152e187e6', 'message': 'Updated from global requirements\n\nChange-Id: Id18916953f6e1bae3688216eaf809c2086b4af13\n'}, {'number': 2, 'created': '2015-04-21 01:30:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/be36e6d6f6a55a3be576f5c404873b76aa5b5f95', 'message': 'Updated from global requirements\n\nChange-Id: Id18916953f6e1bae3688216eaf809c2086b4af13\n'}, {'number': 3, 'created': '2015-04-22 12:41:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/e40288c539ac83ba74b10d6f59b61fe8e91f00a2', 'message': 'Updated from global requirements\n\nChange-Id: Id18916953f6e1bae3688216eaf809c2086b4af13\n'}, {'number': 4, 'created': '2015-05-07 15:03:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/4ac1c5a32dbf182ffa951676aad377eb6c192216', 'message': 'Updated from global requirements\n\nChange-Id: Id18916953f6e1bae3688216eaf809c2086b4af13\n'}, {'number': 5, 'created': '2015-05-13 16:57:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/1d116ee70f3ca52e7a829bac1984cfcc603bb76d', 'message': 'Updated from global requirements\n\nTwo additional changes are needed here:\n\n1. pbr should come first in the requirements file\n   since it controls the installs for other projects.\n\n2. Babel needs to come after pycadf to avoid a version\n   conflict on pytz which is a common dependency\n   between both and is capped in pycadf but not Babel.\n\nChange-Id: Id18916953f6e1bae3688216eaf809c2086b4af13\n'}, {'number': 6, 'created': '2015-05-13 17:07:28.000000000', 'files': ['requirements.txt', 'test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/dc2d5073ec205bccb4ec63c422c7146a1c97cc30', 'message': ""Updated from global requirements\n\nTwo additional changes are needed here:\n\n1. pbr should come first in the requirements file\n   since it controls the installs for other projects.\n\n2. pycadf needs to come before Babel because pycadf\n   has a capped requirement on pytz but Babel doesn't,\n   and pycadf needs to come before oslo.config because\n   pycadf has a capped requirement on netaddr but\n   oslo.config doesn't.\n\nChange-Id: Id18916953f6e1bae3688216eaf809c2086b4af13\n""}]",1,173123,dc2d5073ec205bccb4ec63c422c7146a1c97cc30,28,5,6,11131,,,0,"Updated from global requirements

Two additional changes are needed here:

1. pbr should come first in the requirements file
   since it controls the installs for other projects.

2. pycadf needs to come before Babel because pycadf
   has a capped requirement on pytz but Babel doesn't,
   and pycadf needs to come before oslo.config because
   pycadf has a capped requirement on netaddr but
   oslo.config doesn't.

Change-Id: Id18916953f6e1bae3688216eaf809c2086b4af13
",git fetch https://review.opendev.org/openstack/keystonemiddleware refs/changes/23/173123/6 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'test-requirements.txt']",2,368be349a6535284693a7dcdfef4df2152e187e6,stable-juno-reqs-sync,"coverage>=3.6,<=3.7.1 discover<=0.4.0 fixtures>=0.3.14,<=1.0.0mock>=1.0,<=1.0.1 pycrypto>=2.6,<=2.6.1 oslosphinx>=2.2.0,<2.5.0 # Apache-2.0 oslotest>=1.1.0,<1.4.0 # Apache-2.0 oslo.messaging>=1.4.0,<1.5.0 requests-mock>=0.4.0 # Apache-2.0 sphinx>=1.1.2,!=1.2.0,<1.3 testrepository>=0.0.18,<=0.0.20 testresources>=0.2.4,<=0.2.7 testtools>=0.9.34,!=1.4.0,<=1.5.0","coverage>=3.6 discover fixtures>=0.3.14mock>=1.0 pycrypto>=2.6 oslosphinx>=2.2.0 # Apache-2.0 oslotest>=1.2.0 # Apache-2.0 oslo.messaging>=1.4.0,!=1.5.0 requests-mock>=0.5.1 # Apache-2.0 sphinx>=1.1.2,!=1.2.0,!=1.3b1,<1.3 testrepository>=0.0.18 testresources>=0.2.4 testtools>=0.9.36,!=1.2.0",24,24
openstack%2Frally~master~I574d4fd7cc7c8e71720a6a5ff8db22ee4fd4fc81,openstack/rally,master,I574d4fd7cc7c8e71720a6a5ff8db22ee4fd4fc81,Improve installation script,MERGED,2015-03-07 17:30:03.000000000,2015-05-13 18:44:42.000000000,2015-05-13 18:34:01.000000000,"[{'_account_id': 3}, {'_account_id': 4428}, {'_account_id': 6172}, {'_account_id': 6632}, {'_account_id': 7369}, {'_account_id': 8576}, {'_account_id': 9545}, {'_account_id': 9601}, {'_account_id': 10061}, {'_account_id': 10459}, {'_account_id': 10475}, {'_account_id': 11748}, {'_account_id': 13555}, {'_account_id': 14817}]","[{'number': 1, 'created': '2015-03-07 17:30:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/15fd77d24a22870f3cbcd6bdf8cf46f7fa3f1f26', 'message': 'Allow installation as unprivileged user.\n\nThis is an almost complete rewrite of the installation script, mainly\ndirected to allow installation of Rally also from unprivileged users,\nbut also adding a few more options and checks.\n\nMore in details, the script now:\n\n* can run as unprivileged user.\n* always asks confirmation before doing potentially dangerous actions\n  (removing directories or installing software)\n* automatically install needed software if run as root\n* it is self-sufficient: it automatically downloads Rally from the git\n  repository and installs all the needed software\n\nChange-Id: I574d4fd7cc7c8e71720a6a5ff8db22ee4fd4fc81\nCloses-bug: #1393887\n'}, {'number': 2, 'created': '2015-03-07 18:05:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/a97516c7d568717c5eb401abc5a1431a6958f76f', 'message': 'Allow installation as unprivileged user\n\nThis is an almost complete rewrite of the installation script, mainly\ndirected to allow installation of Rally also from unprivileged users,\nbut also adding a few more options and checks.\n\nMore in details, the script now:\n\n* can run as unprivileged user.\n* always asks confirmation before doing potentially dangerous actions\n  (removing directories or installing software)\n* automatically install needed software if run as root\n* it is self-sufficient: it automatically downloads Rally from the git\n  repository and installs all the needed software\n\nChange-Id: I574d4fd7cc7c8e71720a6a5ff8db22ee4fd4fc81\nCloses-bug: #1393887\n'}, {'number': 3, 'created': '2015-03-07 21:30:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/8107b2ae04aff3a58ec3b206d56c33df1c905ba7', 'message': 'Allow installation as unprivileged user\n\nThis is an almost complete rewrite of the installation script, mainly\ndirected to allow installation of Rally also from unprivileged users,\nbut also adding a few more options and checks.\n\nMore in details, the script now:\n\n* can run as unprivileged user.\n* always asks confirmation before doing potentially dangerous actions\n  (removing directories or installing software)\n* automatically install needed software if run as root\n* it is self-sufficient: it automatically downloads Rally from the git\n  repository and installs all the needed software\n\nChange-Id: I574d4fd7cc7c8e71720a6a5ff8db22ee4fd4fc81\nCloses-bug: #1393887\n'}, {'number': 4, 'created': '2015-03-07 23:33:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/e45e95e7606a184c3cc29dbd6c6932be8668783b', 'message': 'Allow installation as unprivileged user\n\nThis is an almost complete rewrite of the installation script, mainly\ndirected to allow installation of Rally also from unprivileged users,\nbut also adding a few more options and checks.\n\nMore in details, the script now:\n\n* can run as unprivileged user.\n* always asks confirmation before doing potentially dangerous actions\n  (removing directories or installing software)\n* automatically install needed software if run as root\n* it is self-sufficient: it automatically downloads Rally from the git\n  repository and installs all the needed software\n\nChange-Id: I574d4fd7cc7c8e71720a6a5ff8db22ee4fd4fc81\nCloses-bug: #1393887\n'}, {'number': 5, 'created': '2015-03-08 19:14:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/5f45e5bba358636413fcbc85490a5aa0fae59d85', 'message': 'Allow installation as unprivileged user\n\nThis is an almost complete rewrite of the installation script, mainly\ndirected to allow installation of Rally also from unprivileged users,\nbut also adding a few more options and checks.\n\nMore in details, the script now:\n\n* can run as unprivileged user.\n* By default uses a virtualenv.\n* supports different database types\n* allow to specify custom python binary\n* always asks confirmation before doing potentially dangerous actions\n  (removing directories or installing software)\n* automatically install needed software if run as root\n* it is self-sufficient: it automatically downloads Rally from the git\n  repository and installs all the needed software\n\nChange-Id: I574d4fd7cc7c8e71720a6a5ff8db22ee4fd4fc81\nCloses-bug: #1393887\n'}, {'number': 6, 'created': '2015-03-10 16:18:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/b88461cefaa361fa942e065c4da07d634908e423', 'message': 'Allow installation as unprivileged user\n\nThis is an almost complete rewrite of the installation script, mainly\ndirected to allow installation of Rally also from unprivileged users,\nbut also adding a few more options and checks.\n\nMore in details, the script now:\n\n* can run as unprivileged user.\n* By default uses a virtualenv.\n* supports different database types\n* allow to specify custom python binary\n* always asks confirmation before doing potentially dangerous actions\n  (removing directories or installing software)\n* automatically install needed software if run as root\n* it is self-sufficient: it automatically downloads Rally from the git\n  repository and installs all the needed software\n\nChange-Id: I574d4fd7cc7c8e71720a6a5ff8db22ee4fd4fc81\nCloses-bug: #1393887\n'}, {'number': 7, 'created': '2015-03-10 16:40:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/40aad42e579215110eac69f49634e45f3bb2caeb', 'message': 'Allow installation as unprivileged user\n\nThis is an almost complete rewrite of the installation script, mainly\ndirected to allow installation of Rally also from unprivileged users,\nbut also adding a few more options and checks.\n\nMore in details, the script now:\n\n* can run as unprivileged user.\n* By default uses a virtualenv.\n* supports different database types\n* allow to specify custom python binary\n* always asks confirmation before doing potentially dangerous actions\n  (removing directories or installing software)\n* automatically install needed software if run as root\n* it is self-sufficient: it automatically downloads Rally from the git\n  repository and installs all the needed software\n\nChange-Id: I574d4fd7cc7c8e71720a6a5ff8db22ee4fd4fc81\nCloses-bug: #1393887\n'}, {'number': 8, 'created': '2015-03-10 20:13:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/a334c7908821c7e1b40eb43980919b9b4f9a6328', 'message': 'Allow installation as unprivileged user\n\nThis is an almost complete rewrite of the installation script, mainly\ndirected to allow installation of Rally also from unprivileged users,\nbut also adding a few more options and checks.\n\nMore in details, the script now:\n\n* can run as unprivileged user.\n* By default uses a virtualenv.\n* supports different database types\n* allow to specify custom python binary\n* always asks confirmation before doing potentially dangerous actions\n  (removing directories or installing software)\n* automatically install needed software if run as root\n* it is self-sufficient: it automatically downloads Rally from the git\n  repository and installs all the needed software\n\nChange-Id: I574d4fd7cc7c8e71720a6a5ff8db22ee4fd4fc81\nCloses-bug: #1393887\n'}, {'number': 9, 'created': '2015-03-11 09:30:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/d81165a4c262b2163943fd6fad193e2234f57108', 'message': 'Allow installation as unprivileged user\n\nThis is an almost complete rewrite of the installation script, mainly\ndirected to allow installation of Rally also from unprivileged users,\nbut also adding a few more options and checks.\n\nMore in details, the script now:\n\n* can run as unprivileged user.\n* By default uses a virtualenv.\n* supports different database types\n* allow to specify custom python binary\n* always asks confirmation before doing potentially dangerous actions\n  (removing directories or installing software)\n* automatically install needed software if run as root\n* it is self-sufficient: it automatically downloads Rally from the git\n  repository and installs all the needed software\n\nChange-Id: I574d4fd7cc7c8e71720a6a5ff8db22ee4fd4fc81\nCloses-bug: #1393887\n'}, {'number': 10, 'created': '2015-03-11 15:37:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/7446ceab61c071ff4a5f100df3fd00718c736817', 'message': 'Allow installation as unprivileged user\n\nThis is an almost complete rewrite of the installation script, mainly\ndirected to allow installation of Rally also from unprivileged users,\nbut also adding a few more options and checks.\n\nMore in details, the script now:\n\n* can run as unprivileged user.\n* By default uses a virtualenv.\n* supports different database types\n* allow to specify custom python binary\n* always asks confirmation before doing potentially dangerous actions\n  (removing directories or installing software)\n* automatically install needed software if run as root\n* it is self-sufficient: it automatically downloads Rally from the git\n  repository and installs all the needed software\n\nChange-Id: I574d4fd7cc7c8e71720a6a5ff8db22ee4fd4fc81\nCloses-bug: #1393887\n'}, {'number': 11, 'created': '2015-03-11 18:08:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/384790a5f93dcee5d90863f39204b18a24ea4a35', 'message': 'Allow installation as unprivileged user\n\nThis is an almost complete rewrite of the installation script, mainly\ndirected to allow installation of Rally also from unprivileged users,\nbut also adding a few more options and checks.\n\nMore in details, the script now:\n\n* can run as unprivileged user.\n* By default uses a virtualenv.\n* supports different database types\n* allow to specify custom python binary\n* always asks confirmation before doing potentially dangerous actions\n  (removing directories or installing software)\n* automatically install needed software if run as root\n* it is self-sufficient: it automatically downloads Rally from the git\n  repository and installs all the needed software\n* if interrupted, cleans up the virtualenv and/or the downloaded repository\n\nChange-Id: I574d4fd7cc7c8e71720a6a5ff8db22ee4fd4fc81\nCloses-bug: #1393887\n'}, {'number': 12, 'created': '2015-05-05 12:44:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/beea22c5ce41cde7b25a8ec4eecbba3a5ce31ce4', 'message': 'Improve installation script\n\nThis is an almost complete rewrite of the installation script, mainly\ndirected to allow installation of Rally also from unprivileged users,\nbut also adding a few more options and checks.\n\nMore in details, the script now:\n\n* can run as unprivileged user.\n* support different database types\n* allow to specify custom python binary\n* always asks confirmation before doing potentially dangerous actions\n  (removing directories or installing software)\n* automatically install needed software if run as root\n* this script is self-sufficient: it automatically downloads Rally\n  from the git if needed\n* if interrupted, cleans up the virtualenv and/or the downloaded repository\n\nChange-Id: I574d4fd7cc7c8e71720a6a5ff8db22ee4fd4fc81\nCloses-bug: #1393887\n'}, {'number': 13, 'created': '2015-05-05 18:30:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/997bdc17221626af4255f67d7e17d3634f85dc86', 'message': 'Improve installation script\n\nThis is an almost complete rewrite of the installation script, mainly\ndirected to allow installation of Rally also from unprivileged users,\nbut also adding a few more options and checks.\n\nMore in details, the script now:\n\n* can run as unprivileged user.\n* support different database types\n* allow to specify custom python binary\n* always asks confirmation before doing potentially dangerous actions\n  (removing directories or installing software)\n* automatically install needed software if run as root\n* this script is self-sufficient: it automatically downloads Rally\n  from the git if needed\n* if interrupted, cleans up the virtualenv and/or the downloaded repository\n\nChange-Id: I574d4fd7cc7c8e71720a6a5ff8db22ee4fd4fc81\nCloses-bug: #1393887\n'}, {'number': 14, 'created': '2015-05-06 12:28:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/bf0fba97e54e741edebb4945cec7790d915ccb43', 'message': 'Improve installation script\n\nThis is an almost complete rewrite of the installation script, mainly\ndirected to allow installation of Rally also from unprivileged users,\nbut also adding a few more options and checks.\n\nMore in details, the script now:\n\n* can run as unprivileged user.\n* support different database types\n* allow to specify custom python binary\n* always asks confirmation before doing potentially dangerous actions\n  (removing directories or installing software)\n* automatically install needed software if run as root\n* this script is self-sufficient: it automatically downloads Rally\n  from the git if needed\n* if interrupted, cleans up the virtualenv and/or the downloaded repository\n\nChange-Id: I574d4fd7cc7c8e71720a6a5ff8db22ee4fd4fc81\nCloses-bug: #1393887\n'}, {'number': 15, 'created': '2015-05-06 14:08:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/e7bf370dc6ba1ce986c2c4cd256371496a45630c', 'message': 'Improve installation script\n\nThis is an almost complete rewrite of the installation script, mainly\ndirected to allow installation of Rally also from unprivileged users,\nbut also adding a few more options and checks.\n\nMore in details, the script now:\n\n* can run as unprivileged user.\n* support different database types\n* allow to specify custom python binary\n* always asks confirmation before doing potentially dangerous actions\n  (removing directories or installing software)\n* automatically install needed software if run as root\n* this script is self-sufficient: it automatically downloads Rally\n  from the git if needed\n* if interrupted, cleans up the virtualenv and/or the downloaded repository\n\nChange-Id: I574d4fd7cc7c8e71720a6a5ff8db22ee4fd4fc81\nCloses-bug: #1393887\n'}, {'number': 16, 'created': '2015-05-07 10:20:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/7d601b8bd5fc755a1cf790f89315203c01ff0e16', 'message': 'Improve installation script\n\nThis is an almost complete rewrite of the installation script, mainly\ndirected to allow installation of Rally also from unprivileged users,\nbut also adding a few more options and checks.\n\nMore in details, the script now:\n\n* can run as unprivileged user.\n* support different database types\n* allow to specify custom python binary\n* always asks confirmation before doing potentially dangerous actions\n  (removing directories or installing software)\n* automatically install needed software if run as root\n* this script is self-sufficient: it automatically downloads Rally\n  from the git if needed\n* if interrupted, cleans up the virtualenv and/or the downloaded repository\n\nChange-Id: I574d4fd7cc7c8e71720a6a5ff8db22ee4fd4fc81\nCloses-bug: #1393887\n'}, {'number': 17, 'created': '2015-05-07 10:57:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/a3c572cc764936a15b768bb53b7e910582644c87', 'message': 'Improve installation script\n\nThis is an almost complete rewrite of the installation script, mainly\ndirected to allow installation of Rally also from unprivileged users,\nbut also adding a few more options and checks.\n\nMore in details, the script now:\n\n* can run as unprivileged user.\n* support different database types\n* allow to specify custom python binary\n* always asks confirmation before doing potentially dangerous actions\n  (removing directories or installing software)\n* automatically install needed software if run as root\n* this script is self-sufficient: it automatically downloads Rally\n  from the git if needed\n* if interrupted, cleans up the virtualenv and/or the downloaded repository\n\nChange-Id: I574d4fd7cc7c8e71720a6a5ff8db22ee4fd4fc81\nCloses-bug: #1393887\n'}, {'number': 18, 'created': '2015-05-07 13:16:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/102e1800bfeebb0d459e15c2e4e25efa32dc8245', 'message': 'Improve installation script\n\nThis is an almost complete rewrite of the installation script, mainly\ndirected to allow installation of Rally also from unprivileged users,\nbut also adding a few more options and checks.\n\nMore in details, the script now:\n\n* can run as unprivileged user.\n* support different database types\n* allow to specify custom python binary\n* always asks confirmation before doing potentially dangerous actions\n  (removing directories or installing software)\n* automatically install needed software if run as root\n* this script is self-sufficient: it automatically downloads Rally\n  from the git if needed\n* if interrupted, cleans up the virtualenv and/or the downloaded repository\n\nChange-Id: I574d4fd7cc7c8e71720a6a5ff8db22ee4fd4fc81\nCloses-bug: #1393887\n'}, {'number': 19, 'created': '2015-05-07 14:22:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/61afc89fd4061220ed930936b37ec3912b32c76b', 'message': 'Improve installation script\n\nThis is an almost complete rewrite of the installation script, mainly\ndirected to allow installation of Rally also from unprivileged users,\nbut also adding a few more options and checks.\n\nMore in details, the script now:\n\n* can run as unprivileged user.\n* support different database types\n* allow to specify custom python binary\n* always asks confirmation before doing potentially dangerous actions\n  (removing directories or installing software)\n* automatically install needed software if run as root\n* this script is self-sufficient: it automatically downloads Rally\n  from the git if needed\n* if interrupted, cleans up the virtualenv and/or the downloaded repository\n\nChange-Id: I574d4fd7cc7c8e71720a6a5ff8db22ee4fd4fc81\nCloses-bug: #1393887\n'}, {'number': 20, 'created': '2015-05-07 15:16:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/b397ab94ebd90944a6ccd1ce186b50d9d9977937', 'message': 'Improve installation script\n\nThis is an almost complete rewrite of the installation script, mainly\ndirected to allow installation of Rally also from unprivileged users,\nbut also adding a few more options and checks.\n\nMore in details, the script now:\n\n* can run as unprivileged user.\n* support different database types\n* allow to specify custom python binary\n* always asks confirmation before doing potentially dangerous actions\n  (removing directories or installing software)\n* automatically install needed software if run as root\n* this script is self-sufficient: it automatically downloads Rally\n  from the git if needed\n* if interrupted, cleans up the virtualenv and/or the downloaded repository\n\nChange-Id: I574d4fd7cc7c8e71720a6a5ff8db22ee4fd4fc81\nCloses-bug: #1393887\n'}, {'number': 21, 'created': '2015-05-07 15:28:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/00af416e39042bce7d6c1bacd7f1e18e85487f6c', 'message': 'Improve installation script\n\nThis is an almost complete rewrite of the installation script, mainly\ndirected to allow installation of Rally also from unprivileged users,\nbut also adding a few more options and checks.\n\nMore in details, the script now:\n\n* can run as unprivileged user.\n* support different database types\n* allow to specify custom python binary\n* always asks confirmation before doing potentially dangerous actions\n  (removing directories or installing software)\n* automatically install needed software if run as root\n* this script is self-sufficient: it automatically downloads Rally\n  from the git if needed\n* if interrupted, cleans up the virtualenv and/or the downloaded repository\n\nChange-Id: I574d4fd7cc7c8e71720a6a5ff8db22ee4fd4fc81\nCloses-bug: #1393887\n'}, {'number': 22, 'created': '2015-05-07 15:57:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/954249788a4ab3f00a5349b289adaf80f55d7800', 'message': 'Improve installation script\n\nThis is an almost complete rewrite of the installation script, mainly\ndirected to allow installation of Rally also from unprivileged users,\nbut also adding a few more options and checks.\n\nMore in details, the script now:\n\n* can run as unprivileged user.\n* support different database types\n* allow to specify custom python binary\n* always asks confirmation before doing potentially dangerous actions\n  (removing directories or installing software)\n* automatically install needed software if run as root\n* this script is self-sufficient: it automatically downloads Rally\n  from the git if needed\n* if interrupted, cleans up the virtualenv and/or the downloaded repository\n\nChange-Id: I574d4fd7cc7c8e71720a6a5ff8db22ee4fd4fc81\nCloses-bug: #1393887\n'}, {'number': 23, 'created': '2015-05-07 17:01:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/6b1ff757a8b784da6f94ae6d8f8d20ea7d8111a6', 'message': 'Improve installation script\n\nThis is an almost complete rewrite of the installation script, mainly\ndirected to allow installation of Rally also from unprivileged users,\nbut also adding a few more options and checks.\n\nMore in details, the script now:\n\n* can run as unprivileged user.\n* support different database types\n* allow to specify custom python binary\n* always asks confirmation before doing potentially dangerous actions\n  (removing directories or installing software)\n* automatically install needed software if run as root\n* this script is self-sufficient: it automatically downloads Rally\n  from the git if needed\n* if interrupted, cleans up the virtualenv and/or the downloaded repository\n\nChange-Id: I574d4fd7cc7c8e71720a6a5ff8db22ee4fd4fc81\nCloses-bug: #1393887\n'}, {'number': 24, 'created': '2015-05-07 17:53:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/a44a06df967dc997c188008628aadd458c9497b3', 'message': 'Improve installation script\n\nThis is an almost complete rewrite of the installation script, mainly\ndirected to allow installation of Rally also from unprivileged users,\nbut also adding a few more options and checks.\n\nMore in details, the script now:\n\n* can run as unprivileged user.\n* support different database types\n* allow to specify custom python binary\n* always asks confirmation before doing potentially dangerous actions\n  (removing directories or installing software)\n* automatically install needed software if run as root\n* this script is self-sufficient: it automatically downloads Rally\n  from the git if needed\n* if interrupted, cleans up the virtualenv and/or the downloaded repository\n\nChange-Id: I574d4fd7cc7c8e71720a6a5ff8db22ee4fd4fc81\nCloses-bug: #1393887\n'}, {'number': 25, 'created': '2015-05-07 18:30:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/8587c92bd472017298ee1939518ae3fa02f7405b', 'message': 'Improve installation script\n\nThis is an almost complete rewrite of the installation script, mainly\ndirected to allow installation of Rally also from unprivileged users,\nbut also adding a few more options and checks.\n\nMore in details, the script now:\n\n* can run as unprivileged user.\n* support different database types\n* allow to specify custom python binary\n* always asks confirmation before doing potentially dangerous actions\n  (removing directories or installing software)\n* automatically install needed software if run as root\n* this script is self-sufficient: it automatically downloads Rally\n  from the git if needed\n* if interrupted, cleans up the virtualenv and/or the downloaded repository\n\nChange-Id: I574d4fd7cc7c8e71720a6a5ff8db22ee4fd4fc81\nCloses-bug: #1393887\n'}, {'number': 26, 'created': '2015-05-07 18:52:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/1083972a4cb3132db7324b73bac32ad93c376823', 'message': 'Improve installation script\n\nThis is an almost complete rewrite of the installation script, mainly\ndirected to allow installation of Rally also from unprivileged users,\nbut also adding a few more options and checks.\n\nMore in details, the script now:\n\n* can run as unprivileged user.\n* support different database types\n* allow to specify custom python binary\n* always asks confirmation before doing potentially dangerous actions\n  (removing directories or installing software)\n* automatically install needed software if run as root\n* this script is self-sufficient: it automatically downloads Rally\n  from the git if needed\n* if interrupted, cleans up the virtualenv and/or the downloaded repository\n\nChange-Id: I574d4fd7cc7c8e71720a6a5ff8db22ee4fd4fc81\nCloses-bug: #1393887\n'}, {'number': 27, 'created': '2015-05-08 08:23:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/678e09fd823e246be25e5b1a46fd864c427adbac', 'message': 'Improve installation script\n\nThis is an almost complete rewrite of the installation script, mainly\ndirected to allow installation of Rally also from unprivileged users,\nbut also adding a few more options and checks.\n\nMore in details, the script now:\n\n* can run as unprivileged user.\n* support different database types\n* allow to specify custom python binary\n* always asks confirmation before doing potentially dangerous actions\n  (removing directories or installing software)\n* automatically install needed software if run as root\n* this script is self-sufficient: it automatically downloads Rally\n  from the git if needed\n* if interrupted, cleans up the virtualenv and/or the downloaded repository\n\nChange-Id: I574d4fd7cc7c8e71720a6a5ff8db22ee4fd4fc81\nCloses-bug: #1393887\n'}, {'number': 28, 'created': '2015-05-08 11:55:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/7dbd97af059acd52a348c83dc65323cbb35413a0', 'message': 'Improve installation script\n\nThis is an almost complete rewrite of the installation script, mainly\ndirected to allow installation of Rally also from unprivileged users,\nbut also adding a few more options and checks.\n\nMore in details, the script now:\n\n* can run as unprivileged user.\n* support different database types\n* allow to specify custom python binary\n* always asks confirmation before doing potentially dangerous actions\n  (removing directories or installing software)\n* automatically install needed software if run as root\n* this script is self-sufficient: it automatically downloads Rally\n  from the git if needed\n* if interrupted, cleans up the virtualenv and/or the downloaded repository\n\nChange-Id: I574d4fd7cc7c8e71720a6a5ff8db22ee4fd4fc81\nCloses-bug: #1393887\n'}, {'number': 29, 'created': '2015-05-12 11:23:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/9eb8c05811721726c155bafdbf7e98d22bc95131', 'message': 'Improve installation script\n\nThis is an almost complete rewrite of the installation script, mainly\ndirected to allow installation of Rally also from unprivileged users,\nbut also adding a few more options and checks.\n\nMore in details, the script now:\n\n* can run as unprivileged user.\n* support different database types\n* allow to specify custom python binary\n* always asks confirmation before doing potentially dangerous actions\n  (removing directories or installing software)\n* automatically install needed software if run as root\n* this script is self-sufficient: it automatically downloads Rally\n  from the git if needed\n* if interrupted, cleans up the virtualenv and/or the downloaded repository\n\nChange-Id: I574d4fd7cc7c8e71720a6a5ff8db22ee4fd4fc81\nCloses-bug: #1393887\n'}, {'number': 30, 'created': '2015-05-12 13:13:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/59db13e525a2d349307a4f2205d783659d33fc17', 'message': 'Improve installation script\n\nThis is an almost complete rewrite of the installation script, mainly\ndirected to allow installation of Rally also from unprivileged users,\nbut also adding a few more options and checks.\n\nMore in details, the script now:\n\n* can run as unprivileged user.\n* support different database types\n* allow to specify custom python binary\n* always asks confirmation before doing potentially dangerous actions\n  (removing directories or installing software)\n* automatically install needed software if run as root\n* this script is self-sufficient: it automatically downloads Rally\n  from the git if needed\n* if interrupted, cleans up the virtualenv and/or the downloaded repository\n\nChange-Id: I574d4fd7cc7c8e71720a6a5ff8db22ee4fd4fc81\nCloses-bug: #1393887\n'}, {'number': 31, 'created': '2015-05-12 14:25:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/01cff9c92107f59f8e13fd825301c02f75ccc886', 'message': 'Improve installation script\n\nThis is an almost complete rewrite of the installation script, mainly\ndirected to allow installation of Rally also from unprivileged users,\nbut also adding a few more options and checks.\n\nMore in details, the script now:\n\n* can run as unprivileged user.\n* support different database types\n* allow to specify custom python binary\n* always asks confirmation before doing potentially dangerous actions\n  (removing directories or installing software)\n* automatically install needed software if run as root\n* this script is self-sufficient: it automatically downloads Rally\n  from the git if needed\n* if interrupted, cleans up the virtualenv and/or the downloaded repository\n\nChange-Id: I574d4fd7cc7c8e71720a6a5ff8db22ee4fd4fc81\nCloses-bug: #1393887\n'}, {'number': 32, 'created': '2015-05-12 16:10:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/ab8e6a28d9ffa4b15eca64e5c53d7981de647021', 'message': 'Improve installation script\n\nThis is an almost complete rewrite of the installation script, mainly\ndirected to allow installation of Rally also from unprivileged users,\nbut also adding a few more options and checks.\n\nMore in details, the script now:\n\n* can run as unprivileged user.\n* support different database types\n* allow to specify custom python binary\n* always asks confirmation before doing potentially dangerous actions\n  (removing directories or installing software)\n* automatically install needed software if run as root\n* this script is self-sufficient: it automatically downloads Rally\n  from the git if needed\n* if interrupted, cleans up the virtualenv and/or the downloaded repository\n\nChange-Id: I574d4fd7cc7c8e71720a6a5ff8db22ee4fd4fc81\nCloses-bug: #1393887\n'}, {'number': 33, 'created': '2015-05-13 10:45:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/0cba0c3416b247462f68a756a45978d26b26b672', 'message': 'Improve installation script\n\nThis is an almost complete rewrite of the installation script, mainly\ndirected to allow installation of Rally also from unprivileged users,\nbut also adding a few more options and checks.\n\nMore in details, the script now:\n\n* can run as unprivileged user.\n* support different database types\n* allow to specify custom python binary\n* always asks confirmation before doing potentially dangerous actions\n  (removing directories or installing software)\n* automatically install needed software if run as root\n* this script is self-sufficient: it automatically downloads Rally\n  from the git if needed\n* if interrupted, cleans up the virtualenv and/or the downloaded repository\n\nChange-Id: I574d4fd7cc7c8e71720a6a5ff8db22ee4fd4fc81\nCloses-bug: #1393887\n'}, {'number': 34, 'created': '2015-05-13 12:09:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/637fb268132560eed814f98a038146406e99e941', 'message': 'Improve installation script\n\nThis is an almost complete rewrite of the installation script, mainly\ndirected to allow installation of Rally also from unprivileged users,\nbut also adding a few more options and checks.\n\nMore in details, the script now:\n\n* can run as unprivileged user.\n* support different database types\n* allow to specify custom python binary\n* always asks confirmation before doing potentially dangerous actions\n  (removing directories or installing software)\n* automatically install needed software if run as root\n* this script is self-sufficient: it automatically downloads Rally\n  from the git if needed\n* if interrupted, cleans up the virtualenv and/or the downloaded repository\n\nCo-Authored-By: Antonio Messina <antonio.s.messina@gmail.com>\nCo-Authored-By: Sergey Skripnick <sskripnick@mirantis.com>\nChange-Id: I574d4fd7cc7c8e71720a6a5ff8db22ee4fd4fc81\nCloses-bug: #1393887\n'}, {'number': 35, 'created': '2015-05-13 12:38:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/6113da05eee40bdc69f7e85803299b0555777a98', 'message': 'Improve installation script\n\nThis is an almost complete rewrite of the installation script, mainly\ndirected to allow installation of Rally also from unprivileged users,\nbut also adding a few more options and checks.\n\nMore in details, the script now:\n\n* can run as unprivileged user.\n* support different database types\n* allow to specify custom python binary\n* always asks confirmation before doing potentially dangerous actions\n  (removing directories or installing software)\n* automatically install needed software if run as root\n* this script is self-sufficient: it automatically downloads Rally\n  from the git if needed\n* if interrupted, cleans up the virtualenv and/or the downloaded repository\n\nCo-Authored-By: Antonio Messina <antonio.s.messina@gmail.com>\nCo-Authored-By: Sergey Skripnick <sskripnick@mirantis.com>\nChange-Id: I574d4fd7cc7c8e71720a6a5ff8db22ee4fd4fc81\nCloses-bug: #1393887\n'}, {'number': 36, 'created': '2015-05-13 15:24:25.000000000', 'files': ['doc/source/install.rst', 'Dockerfile', 'install_rally.sh', 'doc/source/tutorial/step_0_installation.rst', 'tests/ci/test_install.sh', 'setup.py', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/rally/commit/1f29afc116bae28c05900bcd0b6dfa3d01aaa53b', 'message': 'Improve installation script\n\nThis is an almost complete rewrite of the installation script, mainly\ndirected to allow installation of Rally also from unprivileged users,\nbut also adding a few more options and checks.\n\nMore in details, the script now:\n\n* can run as unprivileged user.\n* support different database types\n* allow to specify custom python binary\n* always asks confirmation before doing potentially dangerous actions\n  (removing directories or installing software)\n* automatically install needed software if run as root\n* this script is self-sufficient: it automatically downloads Rally\n  from the git if needed\n* if interrupted, cleans up the virtualenv and/or the downloaded repository\n\nCo-Authored-By: Antonio Messina <antonio.s.messina@gmail.com>\nCo-Authored-By: Sergey Skripnick <sskripnick@mirantis.com>\nChange-Id: I574d4fd7cc7c8e71720a6a5ff8db22ee4fd4fc81\nCloses-bug: #1393887\n'}]",203,162418,1f29afc116bae28c05900bcd0b6dfa3d01aaa53b,175,14,36,6632,,,0,"Improve installation script

This is an almost complete rewrite of the installation script, mainly
directed to allow installation of Rally also from unprivileged users,
but also adding a few more options and checks.

More in details, the script now:

* can run as unprivileged user.
* support different database types
* allow to specify custom python binary
* always asks confirmation before doing potentially dangerous actions
  (removing directories or installing software)
* automatically install needed software if run as root
* this script is self-sufficient: it automatically downloads Rally
  from the git if needed
* if interrupted, cleans up the virtualenv and/or the downloaded repository

Co-Authored-By: Antonio Messina <antonio.s.messina@gmail.com>
Co-Authored-By: Sergey Skripnick <sskripnick@mirantis.com>
Change-Id: I574d4fd7cc7c8e71720a6a5ff8db22ee4fd4fc81
Closes-bug: #1393887
",git fetch https://review.opendev.org/openstack/rally refs/changes/18/162418/35 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/install.rst', 'install_rally.sh', 'doc/source/tutorial/step_0_installation.rst', 'setup.py', 'setup.cfg']",5,15fd77d24a22870f3cbcd6bdf8cf46f7fa3f1f26,install_rally.sh,,data_files = /etc/bash_completion.d = etc/rally.bash_completion ,644,164
openstack%2Ffuel-library~master~I6b0302ce403871384d377aceb7e94b09126b885e,openstack/fuel-library,master,I6b0302ce403871384d377aceb7e94b09126b885e,Connectivity tests for external services,MERGED,2015-05-06 13:27:00.000000000,2015-05-13 18:24:06.000000000,2015-05-13 18:23:28.000000000,"[{'_account_id': 3}, {'_account_id': 6623}, {'_account_id': 7468}, {'_account_id': 8776}, {'_account_id': 8781}, {'_account_id': 8786}, {'_account_id': 8797}, {'_account_id': 8829}, {'_account_id': 8971}, {'_account_id': 9387}, {'_account_id': 11090}, {'_account_id': 11827}, {'_account_id': 13343}, {'_account_id': 13948}, {'_account_id': 14543}, {'_account_id': 14774}, {'_account_id': 14985}]","[{'number': 1, 'created': '2015-05-06 13:27:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/c78f66d0333a1d525e9737db77083aa7a40e31c1', 'message': 'Adding connectivity tests to run after netconfig\n\nAdding a set of connectivity tests to be run after netconfig to ensure\nthat DNS, NTP and software repository access is OK before proceeding\nwith the rest of the deployment.  If any item fails to funnction\ncorrectly, the deployment should stop with an error message indicating\nwhich item has failed.\n\nWith this change, additional functions have been added to the TestCommon\nclass to perform DNS lookups (TestCommon::Network.resolve?) and an NTP\nrequest (TestCommon::Network.ntp?).\n\nChange-Id: I6b0302ce403871384d377aceb7e94b09126b885e\n'}, {'number': 2, 'created': '2015-05-06 14:02:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/40fa7060a480da13a48f5519c2423596f9dbcebb', 'message': 'Adding connectivity tests to run after netconfig\n\nAdding a set of connectivity tests to be run after netconfig to ensure\nthat DNS, NTP and software repository access is OK before proceeding\nwith the rest of the deployment.  If any item fails to funnction\ncorrectly, the deployment should stop with an error message indicating\nwhich item has failed.\n\nWith this change, additional functions have been added to the TestCommon\nclass to perform DNS lookups (TestCommon::Network.resolve?) and an NTP\nrequest (TestCommon::Network.ntp?).\n\nChange-Id: I6b0302ce403871384d377aceb7e94b09126b885e\nCloses-Bug: 1261940\n'}, {'number': 3, 'created': '2015-05-06 18:55:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/8080d7c5ad6c83d83c8f9f9d3f0872ed3a65e884', 'message': 'Connectivity tests after netconfig, ntp, dns\n\nAdding a repository connectivity tests to be run after netconfig to ensure\nthat software repository access is OK before proceeding with the rest of the\ndeployment.  Additionally, adding in post connectivity tests after the DNS\nserver and NTP server to ensure that those services will be able to\nreach the configured settings.\n\nWith this change, additional functions have been added to the TestCommon\nclass to perform DNS lookups (TestCommon::Network.resolve?) and an NTP\nrequest (TestCommon::Network.ntp?).\n\nChange-Id: I6b0302ce403871384d377aceb7e94b09126b885e\nCloses-Bug: 1261940\n'}, {'number': 4, 'created': '2015-05-07 14:28:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/6f4c2063ad7a4450115b8d9cc568705ac1c12137', 'message': 'Connectivity tests after netconfig and ntp\n\nAdding a repository connectivity tests to be run after netconfig to ensure\nthat software repository access is OK before proceeding with the rest of the\ndeployment.  Additionally, adding in post connectivity tests after NTP server\nto ensure that those services will be able to reach the configured settings.\n\nWith this change, an additional function has been added to the TestCommon\nclass to perform an NTP request (TestCommon::Network.ntp?).\n\nChange-Id: I6b0302ce403871384d377aceb7e94b09126b885e\nCloses-Bug: 1261940\n'}, {'number': 5, 'created': '2015-05-07 17:43:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/567d92409dabf301a7fa7ed4c3b9ce6cd63270a7', 'message': 'Connectivity tests after netconfig and ntp\n\nAdding a repository connectivity tests to be run after netconfig to ensure\nthat software repository access is OK before proceeding with the rest of the\ndeployment.  Additionally, adding in post connectivity tests after NTP server\nto ensure that those services will be able to reach the configured settings.\n\nWith this change, an additional function has been added to the TestCommon\nclass to perform an NTP request (TestCommon::Network.ntp?).\n\nChange-Id: I6b0302ce403871384d377aceb7e94b09126b885e\nCloses-Bug: 1261940\n'}, {'number': 6, 'created': '2015-05-08 16:16:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/82f12b248ba6111a70fac5627d4335337526a0e7', 'message': 'Connectivity tests after netconfig and ntp\n\nAdding a repository connectivity test task to be run after netconfig to ensure\nthat software repository access is OK before proceeding with the rest of the\ndeployment.  Additionally, adding in post connectivity tests after NTP server\nto ensure that those services will be able to reach the configured settings.\n\nWith this change, an additional function has been added to the TestCommon\nclass to perform an NTP request (TestCommon::Network.ntp?).\n\nChange-Id: I6b0302ce403871384d377aceb7e94b09126b885e\nCloses-Bug: 1261940\n'}, {'number': 7, 'created': '2015-05-08 17:38:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/f5c9be69a325b7bb1c0e91029c4857a7b321a3c5', 'message': 'Connectivity tests after netconfig and ntp\n\nAdding a repository connectivity test task to be run after netconfig\nto ensure that software repository access is OK before proceeding\nwith the rest of the deployment.  Additionally, adding in post\nconnectivity tests after NTP server to ensure that those services\nwill be able to reach the configured settings.\n\nWith this change, an additional function has been added to the\nTestCommon class to perform an NTP request (TestCommon::Network.ntp?)\nto assist in validating the NTP servers provided and ensure they can\nbe used.\n\nChange-Id: I6b0302ce403871384d377aceb7e94b09126b885e\nCloses-Bug: 1261940\n'}, {'number': 8, 'created': '2015-05-09 04:54:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/9dc42d508762ce04315921c5cbaa5702dfb13381', 'message': 'Connectivity tests for external services\n\nIn order to provide better error handling around configured external\nservices, we are adding additional checks to some deployment tasks\nwhere we know that there are either external services or services\nthat can be user configurable.\n\n*) Adding a repository connectivity test task to be run after\nnetconfig to ensure that software repository access is OK before\nproceeding with the rest of the deployment.\n*) Adding in post connectivity tests after NTP server to ensure that\nthose services will be able to reach the configured settings.\n\nWith this change, we are adding two custom puppet functions\n(url_available and ntp_available) to the osnailyfacter module. These\nfunctions will throw a Puppet::Error if unable to properly\ncommunicate with the services.\n\nChange-Id: I6b0302ce403871384d377aceb7e94b09126b885e\nCloses-Bug: 1261940\n'}, {'number': 9, 'created': '2015-05-11 15:09:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/f5d340a3e5b3b47982662d8ac2b6121e31159764', 'message': 'Connectivity tests for external services\n\nIn order to provide better error handling around configured external\nservices, we are adding additional checks to some deployment tasks\nwhere we know that there are either external services or services\nthat can be user configurable.\n\n*) Adding a repository connectivity test task to be run after\nnetconfig to ensure that software repository access is OK before\nproceeding with the rest of the deployment.\n*) Adding in post connectivity tests before NTP server to ensure that\nthose services will be able to reach the configured settings.\n\nWith this change, we are adding two custom puppet functions\n(url_available and ntp_available) to the osnailyfacter module. These\nfunctions will throw a Puppet::Error if unable to properly\ncommunicate with the services.\n\nChange-Id: I6b0302ce403871384d377aceb7e94b09126b885e\nCloses-Bug: 1261940\n'}, {'number': 10, 'created': '2015-05-11 15:37:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/1c673a3f887783443c7ec856c028580538251378', 'message': 'Connectivity tests for external services\n\nIn order to provide better error handling around configured external\nservices, we are adding additional checks to some deployment tasks\nwhere we know that there are either external services or services\nthat can be user configurable.\n\n*) Adding a repository connectivity test task to be run after\nnetconfig to ensure that software repository access is OK before\nproceeding with the rest of the deployment.\n*) Adding in post connectivity tests before NTP server to ensure that\nthose services will be able to reach the configured settings.\n\nWith this change, we are adding two custom puppet functions\n(url_available and ntp_available) to the osnailyfacter module. These\nfunctions will throw a Puppet::Error if unable to properly\ncommunicate with the services.\n\nChange-Id: I6b0302ce403871384d377aceb7e94b09126b885e\nCloses-Bug: 1261940\n'}, {'number': 11, 'created': '2015-05-11 18:56:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/89ea5454ea9c881a1509af4a0d384be01ea40821', 'message': 'Connectivity tests for external services\n\nIn order to provide better error handling around configured external\nservices, we are adding additional checks to some deployment tasks\nwhere we know that there are either external services or services\nthat can be user configurable.\n\n*) Adding a repository connectivity test task to be run after\nnetconfig to ensure that software repository access is OK before\nproceeding with the rest of the deployment.\n*) Adding in post connectivity tests before NTP server to ensure that\nthose services will be able to reach the configured settings.\n\nWith this change, we are adding two custom puppet functions\n(url_available and ntp_available) to the osnailyfacter module. These\nfunctions will throw a Puppet::Error if unable to properly\ncommunicate with the services.\n\nChange-Id: I6b0302ce403871384d377aceb7e94b09126b885e\nCloses-Bug: 1261940\n'}, {'number': 12, 'created': '2015-05-12 15:00:46.000000000', 'files': ['tests/noop/spec/hosts/netconfig/connectivity_tests_spec.rb', 'deployment/puppet/osnailyfacter/modular/ntp/ntp-check.pp', 'deployment/puppet/osnailyfacter/modular/ntp/tasks.yaml', 'deployment/puppet/osnailyfacter/modular/netconfig/tasks.yaml', 'tests/noop/spec/hosts/ntp/ntp-check_spec.rb', 'deployment/puppet/osnailyfacter/lib/puppet/parser/functions/url_available.rb', 'deployment/puppet/osnailyfacter/modular/netconfig/connectivity_tests.pp', 'deployment/puppet/osnailyfacter/lib/puppet/parser/functions/ntp_available.rb'], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/57752a27fe045b8edc46d04173864fa902c5d814', 'message': 'Connectivity tests for external services\n\nIn order to provide better error handling around configured external\nservices, we are adding additional checks to some deployment tasks\nwhere we know that there are either external services or services\nthat can be user configurable.\n\n*) Adding a repository connectivity test task to be run after\nnetconfig to ensure that software repository access is OK before\nproceeding with the rest of the deployment.\n*) Adding in post connectivity tests before NTP server to ensure that\nthose services will be able to reach the configured settings.\n\nWith this change, we are adding two custom puppet functions\n(url_available and ntp_available) to the osnailyfacter module. These\nfunctions will throw a Puppet::Error if unable to properly\ncommunicate with the services.\n\nChange-Id: I6b0302ce403871384d377aceb7e94b09126b885e\nCloses-Bug: 1261940\n'}]",1,180538,57752a27fe045b8edc46d04173864fa902c5d814,199,17,12,14985,,,0,"Connectivity tests for external services

In order to provide better error handling around configured external
services, we are adding additional checks to some deployment tasks
where we know that there are either external services or services
that can be user configurable.

*) Adding a repository connectivity test task to be run after
netconfig to ensure that software repository access is OK before
proceeding with the rest of the deployment.
*) Adding in post connectivity tests before NTP server to ensure that
those services will be able to reach the configured settings.

With this change, we are adding two custom puppet functions
(url_available and ntp_available) to the osnailyfacter module. These
functions will throw a Puppet::Error if unable to properly
communicate with the services.

Change-Id: I6b0302ce403871384d377aceb7e94b09126b885e
Closes-Bug: 1261940
",git fetch https://review.opendev.org/openstack/fuel-library refs/changes/38/180538/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/puppet/osnailyfacter/modular/netconfig/tasks.yaml', 'deployment/puppet/osnailyfacter/modular/test_common.rb', 'deployment/puppet/osnailyfacter/modular/netconfig/connectivity_tests.rb']",3,c78f66d0333a1d525e9737db77083aa7a40e31c1,bug/1261940,"require File.join File.dirname(__FILE__), '../test_common.rb' class ConnectivityTests < Test::Unit::TestCase def test_can_resolve_dns host = 'www.google.com' assert TestCommon::Network.resolve?(host), "" Cannot resolve host '#{host}'. Please check the DNS servers on the settings page and network connectivity."" end def test_can_communicate_with_ntp_hosts ntp_list = TestCommon::Settings.external_ntp['ntp_list'] ok = false ntp_list.split("","").each do |ntp_host| ntp_host.strip! if (TestCommon::Network.ntp?(ntp_host)) ok = true end end assert ok, "" Unable to talk to at least 1 ntp server (#{ntp_list}). Please check nodes access to all of the ntp servers on the settings page."" end def test_can_access_software_repos repos = TestCommon::Settings.repo_setup['repos'] repos.each do |repo| uri = repo['uri'].strip assert TestCommon::Network.url_accessible?(uri), "" Unable to connect to software repo '#{uri}'. Please check nodes access to all of the repos on the settings page."" end end end ",,94,0
openstack%2Foslo.vmware~master~Ibe132e54dd84e12d01e32528824e6db8ec785b52,openstack/oslo.vmware,master,Ibe132e54dd84e12d01e32528824e6db8ec785b52,Add ToolsUnavailable exception,MERGED,2015-05-13 03:37:42.000000000,2015-05-13 18:21:27.000000000,2015-05-13 18:21:27.000000000,"[{'_account_id': 3}, {'_account_id': 1653}, {'_account_id': 9008}, {'_account_id': 9172}, {'_account_id': 15424}]","[{'number': 1, 'created': '2015-05-13 03:37:42.000000000', 'files': ['oslo_vmware/tests/test_exceptions.py', 'oslo_vmware/exceptions.py'], 'web_link': 'https://opendev.org/openstack/oslo.vmware/commit/5df9daa5a3480cc8ea787882476f8112bb17ac4a', 'message': 'Add ToolsUnavailable exception\n\nSome API calls that depend on VMware Tools will return a\nToolsUnavailable fault such as ShutdownGuest. This patch adds the\nnew fault so that callers can catch this specific fault rather\nthan the general one.\n\nChange-Id: Ibe132e54dd84e12d01e32528824e6db8ec785b52\n'}]",0,182527,5df9daa5a3480cc8ea787882476f8112bb17ac4a,9,5,1,8119,,,0,"Add ToolsUnavailable exception

Some API calls that depend on VMware Tools will return a
ToolsUnavailable fault such as ShutdownGuest. This patch adds the
new fault so that callers can catch this specific fault rather
than the general one.

Change-Id: Ibe132e54dd84e12d01e32528824e6db8ec785b52
",git fetch https://review.opendev.org/openstack/oslo.vmware refs/changes/27/182527/1 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_vmware/tests/test_exceptions.py', 'oslo_vmware/exceptions.py']",2,5df9daa5a3480cc8ea787882476f8112bb17ac4a,tools_unavail,"TOOLS_UNAVAILABLE = 'ToolsUnavailable'class ToolsUnavailableException(VMwareDriverException): msg_fmt = _(""VMware Tools is not running."") TOOLS_UNAVAILABLE: ToolsUnavailableException,",,8,0
openstack%2Fopenstacksdk~master~If898ba34f3f9fafb14695f2a0cf1b3e8fa2bd9cf,openstack/openstacksdk,master,If898ba34f3f9fafb14695f2a0cf1b3e8fa2bd9cf,Get changes for compute proxy,MERGED,2015-05-13 17:28:44.000000000,2015-05-13 18:19:40.000000000,2015-05-13 18:19:39.000000000,"[{'_account_id': 3}, {'_account_id': 1112}, {'_account_id': 8257}, {'_account_id': 8736}]","[{'number': 1, 'created': '2015-05-13 17:28:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/f683ce5c79b75fa964a4b02a8f7106dca9b958e9', 'message': 'Get changes for compute proxy\n\nChange-Id: If898ba34f3f9fafb14695f2a0cf1b3e8fa2bd9cf\n'}, {'number': 2, 'created': '2015-05-13 18:05:06.000000000', 'files': ['openstack/tests/unit/compute/v2/test_proxy.py', 'openstack/compute/v2/_proxy.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/44df213e85d232e31d5813ef0a3f624197ff2ea7', 'message': 'Get changes for compute proxy\n\nChange-Id: If898ba34f3f9fafb14695f2a0cf1b3e8fa2bd9cf\n'}]",2,182768,44df213e85d232e31d5813ef0a3f624197ff2ea7,11,4,2,8257,,,0,"Get changes for compute proxy

Change-Id: If898ba34f3f9fafb14695f2a0cf1b3e8fa2bd9cf
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/68/182768/2 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/tests/unit/compute/v2/test_proxy.py', 'openstack/compute/v2/_proxy.py']",2,f683ce5c79b75fa964a4b02a8f7106dca9b958e9,compute_get_changes," def get_flavor(self, value): """"""Get a single flavor :param value: The value can be the ID of a server or a :class:`~openstack.compute.v2.flavor.Flavor` instance. :returns: One :class:`~openstack.compute.v2.flavor.Flavor` :raises: :class:`~openstack.exceptions.ResourceNotFound` when no resource can be found for this name or id. """""" return self._get(flavor.Flavor, value) def get_image(self, value): """"""Get a single image :param value: The value can be the ID of a server or a :class:`~openstack.compute.v2.image.Image` instance. :returns: One :class:`~openstack.compute.v2.image.Image` :raises: :class:`~openstack.exceptions.ResourceNotFound` when no resource can be found for this name or id. """""" return self._get(image.Image, value) def get_keypair(self, value): """"""Get a single keypair :param value: The value can be the ID of a server or a :class:`~openstack.compute.v2.keypair.Keypair` instance. :returns: One :class:`~openstack.compute.v2.keypair.Keypair` :raises: :class:`~openstack.exceptions.ResourceNotFound` when no resource can be found for this name or id. """""" return self._get(keypair.Keypair, value) def get_server_interface(self, value): """"""Get a single server interface :param value: The value can be the ID of a server or a :class:`~openstack.compute.v2.server_interface.ServerInterface` instance. :returns: One :class:`~openstack.compute.v2.server_interface.ServerInterface` :raises: :class:`~openstack.exceptions.ResourceNotFound` when no resource can be found for this name or id. """""" return self._get(server_interface.ServerInterface, value)"," def get_flavor(self, **data): return flavor.Flavor(data).get(self.session) def get_image(self, **data): return image.Image(data).get(self.session) def get_keypair(self, **data): return keypair.Keypair(data).get(self.session) def get_server_interface(self, **data): return server_interface.ServerInterface(data).get(self.session)",63,17
openstack%2Foctavia~master~Ie5765c231c6f6ba45042db9b111e6814cf50c465,openstack/octavia,master,Ie5765c231c6f6ba45042db9b111e6814cf50c465,Added update_vip method to network driver,MERGED,2015-05-13 03:05:48.000000000,2015-05-13 18:18:35.000000000,2015-05-13 18:18:33.000000000,"[{'_account_id': 3}, {'_account_id': 10850}, {'_account_id': 11628}, {'_account_id': 12403}]","[{'number': 1, 'created': '2015-05-13 03:05:48.000000000', 'files': ['specs/version0.5/network-driver-interface.rst', 'octavia/tests/unit/network/drivers/neutron/test_allowed_address_pairs.py', 'octavia/network/base.py', 'octavia/tests/unit/controller/worker/tasks/test_network_tasks.py', 'octavia/network/drivers/noop_driver/driver.py', 'octavia/controller/worker/tasks/network_tasks.py', 'octavia/network/drivers/neutron/allowed_address_pairs.py', 'octavia/controller/worker/flows/listener_flows.py', 'octavia/tests/unit/network/drivers/test_network_noop_driver.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/913b6a8514b6c01b2acd0b11ff83c4e8b80e062e', 'message': ""Added update_vip method to network driver\n\nThere needed to be a method to update the security group rules whenever\na listener is added or removed.  The update_vip method will not update those\nrules based on what listener's are present.\n\nAlso changed the allocate_vip method to take in a load_balancer instead of\nport_id, network_id, and/or ip_address.   The reason for this is some driver\nimplementations may just want the vip to be the IP directly on the amphora.\nThe previous signature did not allow this.\n\nCloses-Bug: #1453609\nCloses-Bug: #1453610\n\nChange-Id: Ie5765c231c6f6ba45042db9b111e6814cf50c465\n""}]",0,182523,913b6a8514b6c01b2acd0b11ff83c4e8b80e062e,7,4,1,6951,,,0,"Added update_vip method to network driver

There needed to be a method to update the security group rules whenever
a listener is added or removed.  The update_vip method will not update those
rules based on what listener's are present.

Also changed the allocate_vip method to take in a load_balancer instead of
port_id, network_id, and/or ip_address.   The reason for this is some driver
implementations may just want the vip to be the IP directly on the amphora.
The previous signature did not allow this.

Closes-Bug: #1453609
Closes-Bug: #1453610

Change-Id: Ie5765c231c6f6ba45042db9b111e6814cf50c465
",git fetch https://review.opendev.org/openstack/octavia refs/changes/23/182523/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/tests/unit/network/drivers/neutron/test_allowed_address_pairs.py', 'specs/version0.5/network-driver-interface.rst', 'octavia/network/base.py', 'octavia/tests/unit/controller/worker/tasks/test_network_tasks.py', 'octavia/network/drivers/noop_driver/driver.py', 'octavia/controller/worker/tasks/network_tasks.py', 'octavia/network/drivers/neutron/allowed_address_pairs.py', 'octavia/controller/worker/flows/listener_flows.py', 'octavia/tests/unit/network/drivers/test_network_noop_driver.py']",9,913b6a8514b6c01b2acd0b11ff83c4e8b80e062e,bug/1453609," self.driver.allocate_vip(self.load_balancer) self.assertEqual( (self.load_balancer, 'allocate_vip'), self.driver.driver.networkconfigconfig[self.load_balancer]) def test_update_vip(self): self.driver.update_vip(self.load_balancer) self.assertEqual((self.load_balancer, 'update_vip'), self.driver.driver.networkconfigconfig[( self.load_balancer )])"," self.driver.allocate_vip(self.port_id, self.network_id, self.ip_address) self.assertEqual((self.port_id, self.network_id, self.ip_address, 'allocate_vip'), self.driver.driver.networkconfigconfig[( self.port_id, self.network_id, self.ip_address)])",148,62
openstack%2Fapi-site~master~I03a2f6afdd2ffa7a0185f9d60943c42786f1aa26,openstack/api-site,master,I03a2f6afdd2ffa7a0185f9d60943c42786f1aa26,Fix link to fog,MERGED,2015-05-13 04:33:35.000000000,2015-05-13 18:18:13.000000000,2015-05-13 18:18:12.000000000,"[{'_account_id': 3}, {'_account_id': 167}, {'_account_id': 2448}, {'_account_id': 6547}]","[{'number': 1, 'created': '2015-05-13 04:33:35.000000000', 'files': ['firstapp/source/getting_started.rst'], 'web_link': 'https://opendev.org/openstack/api-site/commit/96177d806e5c1c162aacece08dd14b25eb27884c', 'message': 'Fix link to fog\n\nThe link for the fog SDK went to an obviously different project.\nLink instead to the OpenStack getting started guide for fog.\n\nChange-Id: I03a2f6afdd2ffa7a0185f9d60943c42786f1aa26\nPartial-Bug: 1453651\n'}]",0,182533,96177d806e5c1c162aacece08dd14b25eb27884c,7,4,1,612,,,0,"Fix link to fog

The link for the fog SDK went to an obviously different project.
Link instead to the OpenStack getting started guide for fog.

Change-Id: I03a2f6afdd2ffa7a0185f9d60943c42786f1aa26
Partial-Bug: 1453651
",git fetch https://review.opendev.org/openstack/api-site refs/changes/33/182533/1 && git format-patch -1 --stdout FETCH_HEAD,['firstapp/source/getting_started.rst'],1,96177d806e5c1c162aacece08dd14b25eb27884c,bug/1453651,Ruby fog A Ruby-based SDK for multiple clouds. https://github.com/fog/fog/blob/master/lib/fog/openstack/docs/getting_started.md,Ruby fog A Ruby-based SDK for multiple clouds. http://www.fogproject.org,1,1
openstack%2Fdevstack~master~I964be08ee91f0f17b92994487d7b875834281853,openstack/devstack,master,I964be08ee91f0f17b92994487d7b875834281853,Fix permissions for keystonemiddleware signing_dir,ABANDONED,2014-12-05 19:24:11.000000000,2015-05-13 18:12:37.000000000,,"[{'_account_id': 3}, {'_account_id': 970}, {'_account_id': 1849}, {'_account_id': 2750}, {'_account_id': 7118}, {'_account_id': 9008}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-12-05 19:24:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/6268d903e73c0610d79fa7dfb0d6873abaac66ca', 'message': 'Fix permissions for keystonemiddleware signing_dir\n\nFixes the warning:\nWARNING keystonemiddleware.auth_token [-] signing_dir mode is 0755\ninstead of 0700\n\nSimilar patch was previously added for just Sahara:\n28d4392d56c6a493dd71c4a5a5f64f6dee36dd01\n\nChange-Id: I964be08ee91f0f17b92994487d7b875834281853\n'}, {'number': 2, 'created': '2014-12-09 20:27:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/c2374fd1ebc4c0a7ba5bcd5c543a23d60c911088', 'message': 'Fix permissions for keystonemiddleware signing_dir\n\nFixes the warning:\nWARNING keystonemiddleware.auth_token [-] signing_dir mode is 0755\ninstead of 0700\n\nSimilar patch was previously added for just Sahara:\n28d4392d56c6a493dd71c4a5a5f64f6dee36dd01\n\nChange-Id: I964be08ee91f0f17b92994487d7b875834281853\n'}, {'number': 3, 'created': '2014-12-09 20:44:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/781a27f3691073ea028c61555b7515bbb20753bb', 'message': ""Fix permissions for keystonemiddleware signing_dir\n\nFixes the warning:\nWARNING keystonemiddleware.auth_token [-] signing_dir mode is 0755\ninstead of 0700\n\nSwitch over to using 'install' instead of 3 separate commands.\n\nSimilar patch was previously added for just Sahara:\n28d4392d56c6a493dd71c4a5a5f64f6dee36dd01\n\nChange-Id: I964be08ee91f0f17b92994487d7b875834281853\n""}, {'number': 4, 'created': '2014-12-09 21:11:17.000000000', 'files': ['lib/ceilometer', 'lib/ironic', 'lib/cinder', 'lib/neutron', 'lib/nova', 'lib/zaqar', 'functions-common', 'lib/heat', 'lib/swift', 'lib/glance', 'lib/sahara'], 'web_link': 'https://opendev.org/openstack/devstack/commit/3838c44940b550e228c7f6f2b2ea86307decbcd9', 'message': ""Fix permissions for keystonemiddleware signing_dir\n\nFixes the warning:\nWARNING keystonemiddleware.auth_token [-] signing_dir mode is 0755\ninstead of 0700\n\nSwitch over to using 'install' instead of 3 separate commands.\n\nSimilar patch was previously added for just Sahara:\n28d4392d56c6a493dd71c4a5a5f64f6dee36dd01\n\nChange-Id: I964be08ee91f0f17b92994487d7b875834281853\n""}]",0,139714,3838c44940b550e228c7f6f2b2ea86307decbcd9,19,7,4,1849,,,0,"Fix permissions for keystonemiddleware signing_dir

Fixes the warning:
WARNING keystonemiddleware.auth_token [-] signing_dir mode is 0755
instead of 0700

Switch over to using 'install' instead of 3 separate commands.

Similar patch was previously added for just Sahara:
28d4392d56c6a493dd71c4a5a5f64f6dee36dd01

Change-Id: I964be08ee91f0f17b92994487d7b875834281853
",git fetch https://review.opendev.org/openstack/devstack refs/changes/14/139714/4 && git format-patch -1 --stdout FETCH_HEAD,"['lib/ceilometer', 'lib/ironic', 'lib/cinder', 'lib/neutron', 'lib/nova', 'lib/zaqar', 'lib/heat', 'lib/swift', 'lib/glance']",9,6268d903e73c0610d79fa7dfb0d6873abaac66ca,700, sudo chmod 0700 $GLANCE_AUTH_CACHE_DIR/api sudo chmod 0700 $GLANCE_AUTH_CACHE_DIR/registry,,11,0
openstack%2Fnetworking-ovn~master~I48ce989b8ea2f59599bf84cf443757c028c12b71,openstack/networking-ovn,master,I48ce989b8ea2f59599bf84cf443757c028c12b71,Install neutron if not done automatically.,ABANDONED,2015-05-10 00:31:29.000000000,2015-05-13 18:12:04.000000000,,"[{'_account_id': 3}, {'_account_id': 4395}, {'_account_id': 11343}]","[{'number': 1, 'created': '2015-05-10 00:31:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/52b0a9e6b6b24852689759c10bf4385112ab7b81', 'message': 'Install neutron if not done automatically.\n\nIf you run devstack in a minimal configuration to add an additional\ncompute node to your test environment, no neutron services will be\nrunning.  Automatically install neutron in that case as networking-ovn\nexpects it to be installed.\n\nChange-Id: I48ce989b8ea2f59599bf84cf443757c028c12b71\n'}, {'number': 2, 'created': '2015-05-11 13:17:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/01f0888bc1003db4eac222220ba3a82a1c895894', 'message': 'Install neutron if not done automatically.\n\nIf you run devstack in a minimal configuration to add an additional\ncompute node to your test environment, no neutron services will be\nrunning.  Automatically install neutron in that case as networking-ovn\nexpects it to be installed.\n\nChange-Id: I48ce989b8ea2f59599bf84cf443757c028c12b71\n'}, {'number': 3, 'created': '2015-05-11 19:13:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/0486937552779e72815661dda9e22b2a680f661d', 'message': 'Install neutron if not done automatically.\n\nIf you run devstack in a minimal configuration to add an additional\ncompute node to your test environment, no neutron services will be\nrunning.  Automatically install neutron in that case as networking-ovn\nexpects it to be installed.\n\nChange-Id: I48ce989b8ea2f59599bf84cf443757c028c12b71\n'}, {'number': 4, 'created': '2015-05-12 14:17:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/786237bdd1079b1c8e860e3aab2c7a873f57558f', 'message': 'Install neutron if not done automatically.\n\nIf you run devstack in a minimal configuration to add an additional\ncompute node to your test environment, no neutron services will be\nrunning.  Automatically install neutron in that case as networking-ovn\nexpects it to be installed.\n\nChange-Id: I48ce989b8ea2f59599bf84cf443757c028c12b71\n'}, {'number': 5, 'created': '2015-05-12 17:32:29.000000000', 'files': ['devstack/plugin.sh'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/01207f8406d4b7ac8cf4346a78fe22839acfe823', 'message': 'Install neutron if not done automatically.\n\nIf you run devstack in a minimal configuration to add an additional\ncompute node to your test environment, no neutron services will be\nrunning.  Automatically install neutron in that case as networking-ovn\nexpects it to be installed.\n\nChange-Id: I48ce989b8ea2f59599bf84cf443757c028c12b71\n'}]",1,181695,01207f8406d4b7ac8cf4346a78fe22839acfe823,16,3,5,1561,,,0,"Install neutron if not done automatically.

If you run devstack in a minimal configuration to add an additional
compute node to your test environment, no neutron services will be
running.  Automatically install neutron in that case as networking-ovn
expects it to be installed.

Change-Id: I48ce989b8ea2f59599bf84cf443757c028c12b71
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/95/181695/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/plugin.sh'],1,52b0a9e6b6b24852689759c10bf4385112ab7b81,devstack," if ! is_neutron_enabled ; then # networking-ovn depends on neutron, so ensure it at least gets # installed. install_neutron fi ",,6,0
openstack%2Fnetworking-ovn~master~I6c238eb17ce49fd4ad7508c4042b6d5583bf467d,openstack/networking-ovn,master,I6c238eb17ce49fd4ad7508c4042b6d5583bf467d,devstack: Only run ./configure when needed,ABANDONED,2015-05-11 19:41:46.000000000,2015-05-13 18:11:51.000000000,,"[{'_account_id': 3}, {'_account_id': 4395}, {'_account_id': 11343}]","[{'number': 1, 'created': '2015-05-11 19:41:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/934044e0eed63b206d97aafa8250bae01b9c0c07', 'message': 'devstack: Only run ./configure when needed\n\nSpeed up repeated runs of devstack by only running the configure\nscript if it has changed since the last time it was run.  If the\nconfigure script runs, then all of the source must get rebuilt, so\nthis speeds things up a good bit by not rebuilding the source when\nnothing has changed.\n\nChange-Id: I6c238eb17ce49fd4ad7508c4042b6d5583bf467d\n'}, {'number': 2, 'created': '2015-05-12 14:17:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/046b9ab943eef93b567ee4604e6d26b1528d443e', 'message': 'devstack: Only run ./configure when needed\n\nSpeed up repeated runs of devstack by only running the configure\nscript if it has changed since the last time it was run.  If the\nconfigure script runs, then all of the source must get rebuilt, so\nthis speeds things up a good bit by not rebuilding the source when\nnothing has changed.\n\nChange-Id: I6c238eb17ce49fd4ad7508c4042b6d5583bf467d\n'}, {'number': 3, 'created': '2015-05-12 17:32:29.000000000', 'files': ['devstack/plugin.sh'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/4a91a2e61f087288c26cc77f86b4589002c9a5cb', 'message': 'devstack: Only run ./configure when needed\n\nSpeed up repeated runs of devstack by only running the configure\nscript if it has changed since the last time it was run.  If the\nconfigure script runs, then all of the source must get rebuilt, so\nthis speeds things up a good bit by not rebuilding the source when\nnothing has changed.\n\nChange-Id: I6c238eb17ce49fd4ad7508c4042b6d5583bf467d\n'}]",0,182038,4a91a2e61f087288c26cc77f86b4589002c9a5cb,10,3,3,1561,,,0,"devstack: Only run ./configure when needed

Speed up repeated runs of devstack by only running the configure
script if it has changed since the last time it was run.  If the
configure script runs, then all of the source must get rebuilt, so
this speeds things up a good bit by not rebuilding the source when
nothing has changed.

Change-Id: I6c238eb17ce49fd4ad7508c4042b6d5583bf467d
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/38/182038/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/plugin.sh'],1,934044e0eed63b206d97aafa8250bae01b9c0c07,devstack, if [ ! -f config.status ] || [ configure -nt config.status ] ; then ./configure fi, ./configure,3,1
openstack%2Fpython-saharaclient~master~I9076d081eb00213acda01f73f924b6a3ebba68a9,openstack/python-saharaclient,master,I9076d081eb00213acda01f73f924b6a3ebba68a9,Adding cluster template editing to CLI,MERGED,2015-05-11 17:44:07.000000000,2015-05-13 18:11:49.000000000,2015-05-13 18:11:48.000000000,"[{'_account_id': 3}, {'_account_id': 6786}, {'_account_id': 7213}, {'_account_id': 8090}, {'_account_id': 8091}, {'_account_id': 8411}, {'_account_id': 10670}]","[{'number': 1, 'created': '2015-05-11 17:44:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-saharaclient/commit/374c9fa3b8f75ef46a16ed1e7417a1b22fea58d7', 'message': 'Adding cluster template editing to CLI\n\nAdding the ability to edit cluster templates into the\nCLI.  Also added a unit test for update.\n\nChange-Id: I9076d081eb00213acda01f73f924b6a3ebba68a9\nImplements: bp add-template-editing-to-cli\n'}, {'number': 2, 'created': '2015-05-11 18:37:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-saharaclient/commit/349ac80adcc050d46345db0a86e77c04094214a3', 'message': 'Adding cluster template editing to CLI\n\nAdding the ability to edit cluster templates into the\nCLI.  Also added a unit test for update.\n\nChange-Id: I9076d081eb00213acda01f73f924b6a3ebba68a9\nImplements: bp add-template-editing-to-cli\n'}, {'number': 3, 'created': '2015-05-11 19:32:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-saharaclient/commit/50657a176d69d1ec80a42ddb39ecc260008d2a94', 'message': 'Adding cluster template editing to CLI\n\nAdding the ability to edit cluster templates into the\nCLI.  Also added a unit test for update.\n\nChange-Id: I9076d081eb00213acda01f73f924b6a3ebba68a9\nImplements: bp add-template-editing-to-cli\n'}, {'number': 4, 'created': '2015-05-11 20:22:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-saharaclient/commit/4c71be0e7bb5842bf54912b6b9026d912b1a4dc3', 'message': 'Adding cluster template editing to CLI\n\nAdding the ability to edit cluster templates into the\nCLI.  Also added a unit test for update.\n\nChange-Id: I9076d081eb00213acda01f73f924b6a3ebba68a9\nCloses-Bug: #1445120\nImplements: bp add-template-editing-to-cli\n'}, {'number': 5, 'created': '2015-05-12 12:19:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-saharaclient/commit/6daccf4b0aa862c64b65b2e6692274279fe87f1c', 'message': 'Adding cluster template editing to CLI\n\nAdding the ability to edit cluster templates into the\nCLI.  Also added a unit test for update.\n\nChange-Id: I9076d081eb00213acda01f73f924b6a3ebba68a9\nCloses-Bug: #1445120\nImplements: bp add-template-editing-to-cli\n'}, {'number': 6, 'created': '2015-05-12 15:26:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-saharaclient/commit/0247cef6a0a36496ed906b40dce0a990f23f7dda', 'message': 'Adding cluster template editing to CLI\n\nAdding the ability to edit cluster templates into the\nCLI.  Also added a unit test for update.\n\nChange-Id: I9076d081eb00213acda01f73f924b6a3ebba68a9\nCloses-Bug: #1445120\nImplements: bp add-template-editing-to-cli\n'}, {'number': 7, 'created': '2015-05-12 16:51:32.000000000', 'files': ['saharaclient/tests/unit/test_cluster_templates.py', 'saharaclient/api/shell.py'], 'web_link': 'https://opendev.org/openstack/python-saharaclient/commit/61f5b9982f7a1d904d6bc60e7da246549c7c57fb', 'message': 'Adding cluster template editing to CLI\n\nAdding the ability to edit cluster templates into the\nCLI.  Also added a unit test for update.\n\nChange-Id: I9076d081eb00213acda01f73f924b6a3ebba68a9\nCloses-Bug: #1445120\nImplements: bp add-template-editing-to-cli\n'}]",3,181996,61f5b9982f7a1d904d6bc60e7da246549c7c57fb,30,7,7,8090,,,0,"Adding cluster template editing to CLI

Adding the ability to edit cluster templates into the
CLI.  Also added a unit test for update.

Change-Id: I9076d081eb00213acda01f73f924b6a3ebba68a9
Closes-Bug: #1445120
Implements: bp add-template-editing-to-cli
",git fetch https://review.opendev.org/openstack/python-saharaclient refs/changes/96/181996/2 && git format-patch -1 --stdout FETCH_HEAD,"['saharaclient/tests/unit/test_cluster_templates.py', 'saharaclient/api/shell.py']",2,374c9fa3b8f75ef46a16ed1e7417a1b22fea58d7,bug/1445120,"@utils.arg('--name', help='Name of the cluster template to update.') @utils.arg('--id', metavar='<template_id>', help='Id of the cluster template to update.') @utils.arg('--name', help='Name of the cluster template to update.') @utils.arg('--json', default=sys.stdin, type=argparse.FileType('r'), help='JSON representation of cluster template update.') def do_cluster_template_update(cs, args): """"""Update a cluster template."""""" template = _get_by_id_or_name(cs.cluster_templates, name = args.name, id = args.id) update_template = json.loads(args.json.read()) for key in update_template: if getattr(template, key, None): setattr(template, key, update_template[key]) else: print('WARNING: ""%s"" is not valid for a node group ' 'template and will be discarded from the request' % key) result = cs.cluster_templates.update( args.id or _get_by_id_or_name(cs.node_group_templates, name=args.name).id, template.name, template.plugin_name, template.hadoop_version, description=template.description or """", cluster_configs=template.cluster_configs, node_groups=template.node_groups, anti_affinity=template.anti_affinity, net_id=template.neutron_management_network, default_image_id=template.default_image_id ) _show_cluster_template(result) ",,81,0
openstack%2Fnova~master~I64a3b6aee4741184dd70bdaee14f399d13e48f09,openstack/nova,master,I64a3b6aee4741184dd70bdaee14f399d13e48f09,Rename _CellProxy.iteritems method to items on py3,MERGED,2015-05-04 14:01:46.000000000,2015-05-13 18:11:46.000000000,2015-05-12 17:29:22.000000000,"[{'_account_id': 3}, {'_account_id': 679}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 5638}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9107}, {'_account_id': 9550}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 15286}, {'_account_id': 15751}]","[{'number': 1, 'created': '2015-05-04 14:01:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/38850ce94294dda805cc08db2c77b204bf719322', 'message': 'Rename iteritems() methods to items() on Python 3\n\nThe items() method of a Python 3 dictionary must return an iterator, not\na list.\n\nOn Python 3, rename the iteritems() method of NovaObjectDictCompat\n(nova.objects.base) and _CellProxy (nova.cells.utils) classes to\nitems().  The NovaObjectDictCompat class has no more method returning a\nlist of items: call explicitly list(obj.items()) when a list is needed\n(most of the cases, iteratig on items is enough).\n\nThe API is unchanged on Python 2.\n\nBlueprint nova-python3\nChange-Id: I64a3b6aee4741184dd70bdaee14f399d13e48f09\n'}, {'number': 2, 'created': '2015-05-04 14:53:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f11f4c7920358c2d8f12a389a7101ebbf09dc7ef', 'message': 'Rename iteritems() methods to items() on Python 3\n\nThe items() method of a Python 3 dictionary must return an iterator, not\na list.\n\nOn Python 3, rename the iteritems() method of NovaObjectDictCompat\n(nova.objects.base) and _CellProxy (nova.cells.utils) classes to\nitems().  The NovaObjectDictCompat class has no more method returning a\nlist of items: call explicitly list(obj.items()) when a list is needed\n(most of the cases, iteratig on items is enough).\n\nThe API is unchanged on Python 2.\n\nBlueprint nova-python3\nChange-Id: I64a3b6aee4741184dd70bdaee14f399d13e48f09\n'}, {'number': 3, 'created': '2015-05-11 09:06:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/39e0429e1672ebb0ae0c0e31f50c4004e0230a98', 'message': 'Rename _CellProxy.iteritems method to items on py3\n\nThe items() method of a Python 3 dictionary must return an iterator, not\na list.\n\nOn Python 3, rename the _CellProxy.iteritems() method (nova.cells.utils)\nto _CellProxy.items().\n\nThe API is unchanged on Python 2.\n\nBlueprint nova-python3\nChange-Id: I64a3b6aee4741184dd70bdaee14f399d13e48f09\n'}, {'number': 4, 'created': '2015-05-12 07:21:24.000000000', 'files': ['nova/cells/utils.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/cb6e1f79e770b4e1a0af7613c5a491d5125d8353', 'message': 'Rename _CellProxy.iteritems method to items on py3\n\nThe items() method of a Python 3 dictionary must return an iterator, not\na list.\n\nOn Python 3, rename the _CellProxy.iteritems() method (nova.cells.utils)\nto _CellProxy.items().\n\nThe API is unchanged on Python 2.\n\nBlueprint nova-python3\nChange-Id: I64a3b6aee4741184dd70bdaee14f399d13e48f09\n'}]",3,179783,cb6e1f79e770b4e1a0af7613c5a491d5125d8353,48,13,4,9107,,,0,"Rename _CellProxy.iteritems method to items on py3

The items() method of a Python 3 dictionary must return an iterator, not
a list.

On Python 3, rename the _CellProxy.iteritems() method (nova.cells.utils)
to _CellProxy.items().

The API is unchanged on Python 2.

Blueprint nova-python3
Change-Id: I64a3b6aee4741184dd70bdaee14f399d13e48f09
",git fetch https://review.opendev.org/openstack/nova refs/changes/83/179783/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/objects/base.py', 'nova/cells/utils.py']",2,38850ce94294dda805cc08db2c77b204bf719322,bp/nova-python3,import six def _iteritems(self): if six.PY3: items = _iteritems else: iteritems = _iteritems , def iteritems(self):,14,3
openstack%2Fnetworking-ovn~master~I15b7b7b9803c281cdb578e29a37deda5befeb500,openstack/networking-ovn,master,I15b7b7b9803c281cdb578e29a37deda5befeb500,devstack: Ensure openvswitch modules are loaded,ABANDONED,2015-05-11 20:16:49.000000000,2015-05-13 18:11:42.000000000,,"[{'_account_id': 3}, {'_account_id': 1561}, {'_account_id': 11343}]","[{'number': 1, 'created': '2015-05-11 20:16:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/63ebd68c75a49f5569f83a7a802b6fa8eaab78a3', 'message': 'devstack: Ensure openvswitch module is loaded\n\nEnsure the openvswitch kernel module is loaded before bringing up\novs-vswitchd.\n\nChange-Id: I15b7b7b9803c281cdb578e29a37deda5befeb500\n'}, {'number': 2, 'created': '2015-05-12 14:17:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/24550aef193152c7d9648a5543aa2c2458bc0f69', 'message': 'devstack: Ensure openvswitch modules are loaded\n\nEnsure the openvswitch kernel module is loaded before bringing up\novs-vswitchd.  Right now we hard code the use of geneve, so load the\nmodules for that, too.\n\nChange-Id: I15b7b7b9803c281cdb578e29a37deda5befeb500\n'}, {'number': 3, 'created': '2015-05-12 17:32:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/08120cd150620ff6db4454985fcfd649850060dd', 'message': 'devstack: Ensure openvswitch modules are loaded\n\nEnsure the openvswitch kernel module is loaded before bringing up\novs-vswitchd.  Right now we hard code the use of geneve, so load the\nmodules for that, too.\n\nChange-Id: I15b7b7b9803c281cdb578e29a37deda5befeb500\n'}, {'number': 4, 'created': '2015-05-13 14:54:50.000000000', 'files': ['devstack/plugin.sh'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/4d9228492b5fd71a9294a8721b7aaa4561df21cb', 'message': 'devstack: Ensure openvswitch modules are loaded\n\nEnsure the openvswitch kernel module is loaded before bringing up\novs-vswitchd.  Right now we hard code the use of geneve, so load the\nmodules for that, too.\n\nChange-Id: I15b7b7b9803c281cdb578e29a37deda5befeb500\n'}]",2,182063,4d9228492b5fd71a9294a8721b7aaa4561df21cb,13,3,4,1561,,,0,"devstack: Ensure openvswitch modules are loaded

Ensure the openvswitch kernel module is loaded before bringing up
ovs-vswitchd.  Right now we hard code the use of geneve, so load the
modules for that, too.

Change-Id: I15b7b7b9803c281cdb578e29a37deda5befeb500
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/63/182063/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/plugin.sh'],1,63ebd68c75a49f5569f83a7a802b6fa8eaab78a3,devstack, sudo modprobe openvswitch ,,2,0
openstack%2Fnetworking-ovn~master~Ie1d45e7ccbe385c42aadc87bf43b590100c60e16,openstack/networking-ovn,master,Ie1d45e7ccbe385c42aadc87bf43b590100c60e16,devstack: Document adding a second compute node,ABANDONED,2015-05-09 01:48:59.000000000,2015-05-13 18:11:36.000000000,,"[{'_account_id': 3}, {'_account_id': 1561}, {'_account_id': 11343}]","[{'number': 1, 'created': '2015-05-09 01:48:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/cd7a8ebdb158856fcf3bb7a5e87cad32f627b04e', 'message': 'devstack: Document adding a second compute node\n\nAdd a sample local.conf and update documentation for how to add a\nsecond compute node to the test environment.\n\nIn passing, comment out the password fields in the original local.conf\nsample, because I always do that in my env anyway.\n\nChange-Id: Ie1d45e7ccbe385c42aadc87bf43b590100c60e16\n'}, {'number': 2, 'created': '2015-05-09 01:57:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/e604ce8c19206a4909a546b21f66665c1570c50d', 'message': 'devstack: Document adding a second compute node\n\nAdd a sample local.conf and update documentation for how to add a\nsecond compute node to the test environment.\n\nIn passing, comment out the password fields in the original local.conf\nsample, because I always do that in my env anyway.\n\nChange-Id: Ie1d45e7ccbe385c42aadc87bf43b590100c60e16\n'}, {'number': 3, 'created': '2015-05-10 00:31:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/408c8f08a6a512bd83e69208ac214c45fdcc19fb', 'message': 'devstack: Document adding a second compute node\n\nAdd a sample local.conf and update documentation for how to add a\nsecond compute node to the test environment.  Also enhance the\ncomments in the original local.conf.sample.\n\nIn passing, comment out the password fields in the original local.conf\nsample, because I always do that in my env anyway.\n\nChange-Id: Ie1d45e7ccbe385c42aadc87bf43b590100c60e16\n'}, {'number': 4, 'created': '2015-05-10 01:15:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/07e505af7d5518132d12ebd78d359cc03dfdba82', 'message': 'devstack: Document adding a second compute node\n\nAdd a sample local.conf and update documentation for how to add a\nsecond compute node to the test environment.  Also enhance the\ncomments in the original local.conf.sample.\n\nIn passing, comment out the password fields in the original local.conf\nsample, because I always do that in my env anyway.\n\nChange-Id: Ie1d45e7ccbe385c42aadc87bf43b590100c60e16\n'}, {'number': 5, 'created': '2015-05-10 01:22:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/de09fb19bd43bf4be8f74fe63028bb5006da12e6', 'message': 'devstack: Document adding a second compute node\n\nAdd a sample local.conf and update documentation for how to add a\nsecond compute node to the test environment.  Also enhance the\ncomments in the original local.conf.sample.\n\nIn passing, comment out the password fields in the original local.conf\nsample, because I always do that in my env anyway.\n\nChange-Id: Ie1d45e7ccbe385c42aadc87bf43b590100c60e16\n'}, {'number': 6, 'created': '2015-05-10 01:25:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/8cfc906024913f1cf55fe4615454bbcb6a71e916', 'message': 'devstack: Document adding a second compute node\n\nAdd a sample local.conf and update documentation for how to add a\nsecond compute node to the test environment.  Also enhance the\ncomments in the original local.conf.sample.\n\nIn passing, comment out the password fields in the original local.conf\nsample, because I always do that in my env anyway.\n\nChange-Id: Ie1d45e7ccbe385c42aadc87bf43b590100c60e16\n'}, {'number': 7, 'created': '2015-05-11 13:17:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/5df17a52ffff81836badcfee2dbed81e56d36ff2', 'message': 'devstack: Document adding a second compute node\n\nAdd a sample local.conf and update documentation for how to add a\nsecond compute node to the test environment.  Also enhance the\ncomments in the original local.conf.sample.\n\nIn passing, comment out the password fields in the original local.conf\nsample, because I always do that in my env anyway.\n\nChange-Id: Ie1d45e7ccbe385c42aadc87bf43b590100c60e16\n'}, {'number': 8, 'created': '2015-05-11 19:13:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/1b018b08c2ed9349d4bc14ebe7c6271ab2ea2609', 'message': 'devstack: Document adding a second compute node\n\nAdd a sample local.conf and update documentation for how to add a\nsecond compute node to the test environment.  Also enhance the\ncomments in the original local.conf.sample.\n\nIn passing, comment out the password fields in the original local.conf\nsample, because I always do that in my env anyway.\n\nChange-Id: Ie1d45e7ccbe385c42aadc87bf43b590100c60e16\n'}, {'number': 9, 'created': '2015-05-11 19:41:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/965e5e13b9c87cb0d7b072f0e32bb0cc0664abee', 'message': 'devstack: Document adding a second compute node\n\nAdd a sample local.conf and update documentation for how to add a\nsecond compute node to the test environment.  Also enhance the\ncomments in the original local.conf.sample.\n\nIn passing, comment out the password fields in the original local.conf\nsample, because I always do that in my env anyway.\n\nChange-Id: Ie1d45e7ccbe385c42aadc87bf43b590100c60e16\n'}, {'number': 10, 'created': '2015-05-11 20:16:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/f3f15da5d53dd2d18f841680647ea17b07a34713', 'message': 'devstack: Document adding a second compute node\n\nAdd a sample local.conf and update documentation for how to add a\nsecond compute node to the test environment.  Also enhance the\ncomments in the original local.conf.sample.\n\nIn passing, comment out the password fields in the original local.conf\nsample, because I always do that in my env anyway.\n\nChange-Id: Ie1d45e7ccbe385c42aadc87bf43b590100c60e16\n'}, {'number': 11, 'created': '2015-05-11 20:37:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/97ff66851342527168885cdfe367f49986211eda', 'message': 'devstack: Document adding a second compute node\n\nAdd a sample local.conf and update documentation for how to add a\nsecond compute node to the test environment.  Also enhance the\ncomments in the original local.conf.sample.\n\nIn passing, comment out the password fields in the original local.conf\nsample, because I always do that in my env anyway.\n\nChange-Id: Ie1d45e7ccbe385c42aadc87bf43b590100c60e16\n'}, {'number': 12, 'created': '2015-05-12 14:17:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/93c0c6da8cbe03b620496befdeaeb3ad1aef7718', 'message': 'devstack: Document adding a second compute node\n\nAdd a sample local.conf and update documentation for how to add a\nsecond compute node to the test environment.  Also enhance the\ncomments in the original local.conf.sample.\n\nIn passing, comment out the password fields in the original local.conf\nsample, because I always do that in my env anyway.\n\nChange-Id: Ie1d45e7ccbe385c42aadc87bf43b590100c60e16\n'}, {'number': 13, 'created': '2015-05-12 17:32:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/a788eb0ddd6fb6ac9d79e198b77717edf9e1192f', 'message': 'devstack: Document adding a second compute node\n\nAdd a sample local.conf and update documentation for how to add a\nsecond compute node to the test environment.  Also enhance the\ncomments in the original local.conf.sample.\n\nIn passing, comment out the password fields in the original local.conf\nsample, because I always do that in my env anyway.\n\nChange-Id: Ie1d45e7ccbe385c42aadc87bf43b590100c60e16\n'}, {'number': 14, 'created': '2015-05-13 14:54:50.000000000', 'files': ['devstack/local.conf.sample', 'devstack/computenode-local.conf.sample', 'doc/source/testing.rst'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/33fb5b53cdf0eacd45a4c9d92a8cb4ab810a5875', 'message': 'devstack: Document adding a second compute node\n\nAdd a sample local.conf and update documentation for how to add a\nsecond compute node to the test environment.  Also enhance the\ncomments in the original local.conf.sample.\n\nIn passing, comment out the password fields in the original local.conf\nsample, because I always do that in my env anyway.\n\nChange-Id: Ie1d45e7ccbe385c42aadc87bf43b590100c60e16\n'}]",12,181602,33fb5b53cdf0eacd45a4c9d92a8cb4ab810a5875,38,3,14,1561,,,0,"devstack: Document adding a second compute node

Add a sample local.conf and update documentation for how to add a
second compute node to the test environment.  Also enhance the
comments in the original local.conf.sample.

In passing, comment out the password fields in the original local.conf
sample, because I always do that in my env anyway.

Change-Id: Ie1d45e7ccbe385c42aadc87bf43b590100c60e16
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/02/181602/12 && git format-patch -1 --stdout FETCH_HEAD,"['devstack/local.conf.sample', 'devstack/computenode-local.conf.sample', 'doc/source/testing.rst']",3,cd7a8ebdb158856fcf3bb7a5e87cad32f627b04e,devstack,"Adding Another Compute Node --------------------------- After completing the earlier instructions for setting up devstack, you can use a second VM to emulate an additional compute node. This is important for OVN testing as it exercises the tunnels created by OVN between the hypervisors. Just as before, create a throwaway VM. Create a user with sudo access and install git. :: $ git clone http://git.openstack.org/openstack-dev/devstack.git $ git clone http://git.openstack.org/stackforge/networking-ovn.git networking-ovn comes with another sample configuration file that can be used for this:: $ cd devstack $ cp ../networking-ovn/devstack/computenode-local.conf.sample local.conf There is currently an issue with this config that you must work around manually. We need neutron installed but don't want any neutron services running. So, just install manually for now:: $ cd /opt/stack $ git clone http://git.openstack.org/openstack/neutron $ cd neutron $ sudo pip install -e . Now head back over to devstack and run it:: $ cd devstack $ ./stack.sh This should complete in less time than before, as it's only running a single OpenStack service (nova-compute) along with OVN (ovn-controller, ovs-vswitchd, ovsdb-server). The final output will look something like this:: This is your host ip: 172.16.189.10 2015-05-09 01:21:49.565 | stack.sh completed in 308 seconds. Now go back to your main DevStack host. You can use admin credentials to verify that the additional hypervisor has been added to the deployment:: $ cd devstack $ . openrc admin $ nova hypervisor-list +----+------------------------------------+-------+---------+ | ID | Hypervisor hostname | State | Status | +----+------------------------------------+-------+---------+ | 1 | ovn-devstack-1 | up | enabled | | 2 | ovn-devstack-2 | up | enabled | +----+------------------------------------+-------+---------+ You can also look at OVN and OVS to see that the second host has shown up. For example, there will be a second entry in the Chassis table of the OVN_Southbound database:: $ ovsdb-client dump OVN_Southbound ... Chassis table _uuid encaps gateway_ports name ------------------------------------ -------------------------------------- ------------- -------------------------------------- 68933e4a-7a1e-4a41-af77-6cd1bfdc953a [e3a766c2-bec0-4f65-b9d7-72a89df87e95] {} ""719834e5-dd0f-482f-985d-442aca51180f"" 518702e9-ffc2-4e27-8057-8ebd155ea436 [b8793b59-195c-4e8e-8898-399f52139870] {} ""ac780a06-76a3-4b85-859a-450de7170201"" ... ",,114,5
openstack%2Fpuppet-openstacklib~master~I4040cfb404982663ddf2eb60a69f9bb42b311623,openstack/puppet-openstacklib,master,I4040cfb404982663ddf2eb60a69f9bb42b311623,read auth parameters from component config file,ABANDONED,2015-05-06 00:59:31.000000000,2015-05-13 17:56:31.000000000,,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 6525}]","[{'number': 1, 'created': '2015-05-06 00:59:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstacklib/commit/2caac9894f40d35b03e3498f8eb878fd9a67ffc5', 'message': ""read auth parameters from component config file\n\nopenstack puppet modules can specify 'config_file' => filename and\noptionally 'config_file_section' => section_name in the\nresource[:auth] hash.  The default section_name is 'keystone_authtoken'.\nThis will read the authentication parameters from the section in the\ngiven config file.  The parameters are as specified in\nhttp://www.jamielennox.net/blog/2015/02/17/loading-authentication-plugins/\nThe code will format the configuration parameters in the format\nexpected by the openstack client.\n\nChange-Id: I4040cfb404982663ddf2eb60a69f9bb42b311623\nCloses-bug: #1452059\n""}, {'number': 2, 'created': '2015-05-06 13:43:17.000000000', 'files': ['spec/unit/provider/openstack_spec.rb', 'lib/puppet/provider/openstack.rb'], 'web_link': 'https://opendev.org/openstack/puppet-openstacklib/commit/b03b6d3c338e38b168031c6a45a431d8164365a2', 'message': ""read auth parameters from component config file\n\nopenstack puppet modules can specify 'config_file' => filename and\noptionally 'config_file_section' => section_name in the\nresource[:auth] hash.  The default section_name is 'keystone_authtoken'.\nThis will read the authentication parameters from the section in the\ngiven config file.  The parameters are as specified in\nhttp://www.jamielennox.net/blog/2015/02/17/loading-authentication-plugins/\nThe code will format the configuration parameters in the format\nexpected by the openstack client.\n\nChange-Id: I4040cfb404982663ddf2eb60a69f9bb42b311623\nCloses-bug: #1452059\n""}]",1,180369,b03b6d3c338e38b168031c6a45a431d8164365a2,9,3,2,9983,,,0,"read auth parameters from component config file

openstack puppet modules can specify 'config_file' => filename and
optionally 'config_file_section' => section_name in the
resource[:auth] hash.  The default section_name is 'keystone_authtoken'.
This will read the authentication parameters from the section in the
given config file.  The parameters are as specified in
http://www.jamielennox.net/blog/2015/02/17/loading-authentication-plugins/
The code will format the configuration parameters in the format
expected by the openstack client.

Change-Id: I4040cfb404982663ddf2eb60a69f9bb42b311623
Closes-bug: #1452059
",git fetch https://review.opendev.org/openstack/puppet-openstacklib refs/changes/69/180369/2 && git format-patch -1 --stdout FETCH_HEAD,"['spec/unit/provider/openstack_spec.rb', 'lib/puppet/provider/openstack.rb']",2,2caac9894f40d35b03e3498f8eb878fd9a67ffc5,bug/1452059,"require 'puppet/util/inifile' elsif config_file_creds_set?(credentials) auth_args = config_file_auth_args(credentials['config_file'], credentials['config_file_section']) def self.config_file_creds_set?(auth_params) auth_params && auth_params['config_file'] end def config_file_creds_set?(auth_params) self.class.config_file_creds_set?(auth_params) end def self.config_file_auth_args(file, section='keystone_authtoken') return @config_creds[file] if @config_creds and @config_creds.include?(file) section = section || 'keystone_authtoken' ini_file = Puppet::Util::IniConfig::File.new puts ""ini_file = #{ini_file}"" ini_file.read(file) args = [] for param in ['auth_url', 'username', 'password', 'user_id', 'user_domain_name', 'user_domain_id', 'project_name', 'project_id', 'project_domain_name', 'project_domain_id', 'domain_name', 'domain_id', 'trust_id', 'cacert', 'cert', 'key', 'insecure'] if param == 'insecure' arg = '--insecure' else arg = ""--os-#{param.gsub('_', '-')}"" end if ini_file[section][param] args << arg << ini_file[section][param].to_s else puts ""#{section} #{param} not set [#{ini_file[section][param]}]"" end end puts ""args = #{args}"" if !@config_creds @config_creds = {} end @config_creds[file] = args @config_creds[file] end def config_file_auth_args(file, section='keystone_authtoken') self.class.config_file_auth_args(file, section) end ",,78,0
openstack%2Ftripleo-incubator~master~Iaee5606b3c8297375ca072a075788b69823e0342,openstack/tripleo-incubator,master,Iaee5606b3c8297375ca072a075788b69823e0342,Remove Jon-Paul Sullivan from tripleo-cd-admins,MERGED,2015-05-13 15:53:45.000000000,2015-05-13 17:46:31.000000000,2015-05-13 16:28:51.000000000,"[{'_account_id': 3}, {'_account_id': 360}, {'_account_id': 4328}]","[{'number': 1, 'created': '2015-05-13 15:53:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-incubator/commit/c8159c85533d6068504deff783a49880e99baa56', 'message': 'Remove Jon-Paul Sullivan from tripleo-cd-admins\n\nPer:\nhttp://lists.openstack.org/pipermail/openstack-dev/2015-May/063326.html\n\nChange-Id: Iaee5606b3c8297375ca072a075788b69823e0342\n'}, {'number': 2, 'created': '2015-05-13 15:54:28.000000000', 'files': ['tripleo-cloud/tripleo-cd-admins', 'tripleo-cloud/ssh-keys/jp_at_hp'], 'web_link': 'https://opendev.org/openstack/tripleo-incubator/commit/1d816e95063feca4d95744866dde77b641881896', 'message': 'Remove Jon-Paul Sullivan from tripleo-cd-admins\n\nPer:\nhttp://lists.openstack.org/pipermail/openstack-dev/2015-May/063326.html\n\nChange-Id: Iaee5606b3c8297375ca072a075788b69823e0342\n'}]",0,182737,1d816e95063feca4d95744866dde77b641881896,9,3,2,7144,,,0,"Remove Jon-Paul Sullivan from tripleo-cd-admins

Per:
http://lists.openstack.org/pipermail/openstack-dev/2015-May/063326.html

Change-Id: Iaee5606b3c8297375ca072a075788b69823e0342
",git fetch https://review.opendev.org/openstack/tripleo-incubator refs/changes/37/182737/2 && git format-patch -1 --stdout FETCH_HEAD,['tripleo-cloud/tripleo-cd-admins'],1,c8159c85533d6068504deff783a49880e99baa56,remove-jp,,"jp_at_hp,jonpaul.sullivan@hp.com,JP Sullivan",0,1
openstack%2Fneutron~master~I3d7a3e318e32acae3836c51e4e2e95ae756e645b,openstack/neutron,master,I3d7a3e318e32acae3836c51e4e2e95ae756e645b,Consider all address scopes in init_l3,MERGED,2015-03-27 22:03:24.000000000,2015-05-13 17:43:22.000000000,2015-05-13 16:30:38.000000000,"[{'_account_id': 3}, {'_account_id': 704}, {'_account_id': 1131}, {'_account_id': 4656}, {'_account_id': 5170}, {'_account_id': 6524}, {'_account_id': 6685}, {'_account_id': 7448}, {'_account_id': 7805}, {'_account_id': 8124}, {'_account_id': 8645}, {'_account_id': 8873}, {'_account_id': 9423}, {'_account_id': 9681}, {'_account_id': 9732}, {'_account_id': 9787}, {'_account_id': 9845}, {'_account_id': 10116}, {'_account_id': 10117}, {'_account_id': 10121}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10387}, {'_account_id': 10692}, {'_account_id': 11343}, {'_account_id': 12040}, {'_account_id': 13409}, {'_account_id': 14208}, {'_account_id': 14212}, {'_account_id': 14213}, {'_account_id': 14214}, {'_account_id': 14215}, {'_account_id': 14216}, {'_account_id': 14571}, {'_account_id': 15296}, {'_account_id': 15443}, {'_account_id': 15444}, {'_account_id': 15752}]","[{'number': 1, 'created': '2015-03-27 22:03:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/83b979b7b3dfc5853a177e4a49d6cab787ec24a6', 'message': 'Consider all address scopes in init_l3\n\nCurrently init_l3 retrieves the list of global addresses from the kernel\non a specific device in a network namespace. If any of the addresses are\nnot in the ip_cidrs argument to init_l3, they will be deleted. The\nproblem with only listing global addresses is that if a site-local or\nlink-local address is added during a subnet-create, and the user wishes\nto later delete the address, init_l3 will never consider that address\nfor deletion.\n\nTo fix this, init_l3 should not limit its scope when listing addresses\non an interface. It should, however, ignore the default IPv6 link-local\naddress assigned by the operating system as this address is not known to\nNeutron and should not be deleted.\n\nChange-Id: I3d7a3e318e32acae3836c51e4e2e95ae756e645b\nCloses-Bug: #1437499\n'}, {'number': 2, 'created': '2015-04-04 02:06:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/cf70c26ed22b65802ef48bc5b58bbceaacbc5ecf', 'message': 'Consider all address scopes in init_l3\n\nCurrently init_l3 retrieves the list of global addresses from the kernel\non a specific device in a network namespace. If any of the addresses are\nnot in the ip_cidrs argument to init_l3, they will be deleted. The\nproblem with only listing global addresses is that if a site-local or\nlink-local address is added during a subnet-create, and the user wishes\nto later delete the address, init_l3 will never consider that address\nfor deletion.\n\nTo fix this, init_l3 should not limit its scope when listing addresses\non an interface. It should, however, ignore the default IPv6 link-local\naddress assigned by the operating system as this address is not known to\nNeutron and should not be deleted.\n\nChange-Id: I3d7a3e318e32acae3836c51e4e2e95ae756e645b\nCloses-Bug: #1437499\n'}, {'number': 3, 'created': '2015-04-07 14:01:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8fd4ddb6ad42cd1b5aceddb369b84a3217d23050', 'message': 'Consider all address scopes in init_l3\n\nCurrently init_l3 retrieves the list of global addresses from the kernel\non a specific device in a network namespace. If any of the addresses are\nnot in the ip_cidrs argument to init_l3, they will be deleted. The\nproblem with only listing global addresses is that if a site-local or\nlink-local address is added during a subnet-create, and the user wishes\nto later delete the address, init_l3 will never consider that address\nfor deletion.\n\nTo fix this, init_l3 should not limit its scope when listing addresses\non an interface. It should, however, ignore the default IPv6 link-local\naddress assigned by the operating system as this address is not known to\nNeutron and should not be deleted.\n\nChange-Id: I3d7a3e318e32acae3836c51e4e2e95ae756e645b\nCloses-Bug: #1437499\n'}, {'number': 4, 'created': '2015-04-08 14:36:42.000000000', 'files': ['neutron/agent/linux/interface.py', 'neutron/tests/unit/agent/linux/test_interface.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/e8603512c4e7aa976ad29dfaf609505267b8c870', 'message': 'Consider all address scopes in init_l3\n\nCurrently init_l3 retrieves the list of global addresses from the kernel\non a specific device in a network namespace. If any of the addresses are\nnot in the ip_cidrs argument to init_l3, they will be deleted. The\nproblem with only listing global addresses is that if a site-local or\nlink-local address is added during a subnet-create, and the user wishes\nto later delete the address, init_l3 will never consider that address\nfor deletion.\n\nTo fix this, init_l3 should not limit its scope when listing addresses\non an interface. It should, however, ignore the default IPv6 link-local\naddress assigned by the operating system as this address is not known to\nNeutron and should not be deleted.\n\nChange-Id: I3d7a3e318e32acae3836c51e4e2e95ae756e645b\nCloses-Bug: #1437499\n'}]",13,168502,e8603512c4e7aa976ad29dfaf609505267b8c870,113,38,4,13409,,,0,"Consider all address scopes in init_l3

Currently init_l3 retrieves the list of global addresses from the kernel
on a specific device in a network namespace. If any of the addresses are
not in the ip_cidrs argument to init_l3, they will be deleted. The
problem with only listing global addresses is that if a site-local or
link-local address is added during a subnet-create, and the user wishes
to later delete the address, init_l3 will never consider that address
for deletion.

To fix this, init_l3 should not limit its scope when listing addresses
on an interface. It should, however, ignore the default IPv6 link-local
address assigned by the operating system as this address is not known to
Neutron and should not be deleted.

Change-Id: I3d7a3e318e32acae3836c51e4e2e95ae756e645b
Closes-Bug: #1437499
",git fetch https://review.opendev.org/openstack/neutron refs/changes/02/168502/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/linux/interface.py', 'neutron/tests/unit/test_linux_interface.py']",2,83b979b7b3dfc5853a177e4a49d6cab787ec24a6,bug/1437499," mock.call().addr.list(filters=['permanent']), mock.call().addr.list(filters=['permanent']), mock.call().addr.list(filters=['permanent']),"," mock.call().addr.list(scope='global', filters=['permanent']), mock.call().addr.list(scope='global', filters=['permanent']), mock.call().addr.list(scope='global', filters=['permanent']),",12,5
openstack%2Fastara~master~I934d623bf2ba2b261945f243ff4821c0036007df,openstack/astara,master,I934d623bf2ba2b261945f243ff4821c0036007df,set the correct interface driver for linuxbridge agent,MERGED,2015-05-10 16:22:22.000000000,2015-05-13 17:38:39.000000000,2015-05-13 17:38:38.000000000,"[{'_account_id': 3}, {'_account_id': 1420}, {'_account_id': 2592}, {'_account_id': 6923}, {'_account_id': 8005}]","[{'number': 1, 'created': '2015-05-10 16:22:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/astara/commit/4821e5119218ab4ae8b871e5f587e80a8d1fa696', 'message': 'set the correct interface driver for linuxbridge agent\n\nChange-Id: I934d623bf2ba2b261945f243ff4821c0036007df\n'}, {'number': 2, 'created': '2015-05-11 17:02:06.000000000', 'files': ['devstack/plugin.sh'], 'web_link': 'https://opendev.org/openstack/astara/commit/5a4738dfb4be87f0b5eb33d96034e15bcead8bf0', 'message': 'set the correct interface driver for linuxbridge agent\n\nChange-Id: I934d623bf2ba2b261945f243ff4821c0036007df\n'}]",2,181740,5a4738dfb4be87f0b5eb33d96034e15bcead8bf0,20,5,2,2592,,,0,"set the correct interface driver for linuxbridge agent

Change-Id: I934d623bf2ba2b261945f243ff4821c0036007df
",git fetch https://review.opendev.org/openstack/astara refs/changes/40/181740/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/plugin.sh'],1,4821e5119218ab4ae8b871e5f587e80a8d1fa696,linuxbridge," if [[ ""$Q_AGENT"" == ""linuxbridge"" ]]; then iniset $AKANDA_RUG_CONF DEFAULT interface_driver ""akanda.rug.common.linu.interface.BridgeInterfaceDriver"" fi",,4,0
openstack%2Fmurano~master~I9ab0001ea36bdfa29747e3d5820e83f26e6f7889,openstack/murano,master,I9ab0001ea36bdfa29747e3d5820e83f26e6f7889,[do not merge] Testing Rally job,ABANDONED,2015-05-12 19:04:19.000000000,2015-05-13 17:26:37.000000000,,"[{'_account_id': 3}, {'_account_id': 6172}, {'_account_id': 7821}]","[{'number': 1, 'created': '2015-05-12 19:04:19.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/murano/commit/5085c31e1a4b55e76cbcdd8a4b3f4f810cc70daf', 'message': '[do not merge] Testing Rally job\n\nChange-Id: I9ab0001ea36bdfa29747e3d5820e83f26e6f7889\n'}]",0,182415,5085c31e1a4b55e76cbcdd8a4b3f4f810cc70daf,6,3,1,6172,,,0,"[do not merge] Testing Rally job

Change-Id: I9ab0001ea36bdfa29747e3d5820e83f26e6f7889
",git fetch https://review.opendev.org/openstack/murano refs/changes/15/182415/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,5085c31e1a4b55e76cbcdd8a4b3f4f810cc70daf,,,,1,0
openstack%2Fopenstack-manuals~master~I9e41bb67397c5bc26c1940f67387f3e42a9c5cbc,openstack/openstack-manuals,master,I9e41bb67397c5bc26c1940f67387f3e42a9c5cbc,Move User Guides into separate directories,MERGED,2015-05-12 07:32:03.000000000,2015-05-13 17:24:33.000000000,2015-05-13 17:24:31.000000000,"[{'_account_id': 3}, {'_account_id': 964}, {'_account_id': 6547}, {'_account_id': 9382}, {'_account_id': 12686}, {'_account_id': 14643}, {'_account_id': 15293}]","[{'number': 1, 'created': '2015-05-12 07:32:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/c4f1249b4abaa014b1502f394ae3f28b675543e9', 'message': ""Move User Guides into separate directories\n\nSeparate User Guides cleanly, there's little benefit in having them in\none directory and it causes quite some strange sphinx challenges.\n\nTemporarily disable translation of the guides since first a new release\nof openstack-doc-tools is needed.\n\nPartial implements bp reorganise-user-guides\n\nChange-Id: I9e41bb67397c5bc26c1940f67387f3e42a9c5cbc\n""}, {'number': 2, 'created': '2015-05-12 09:57:33.000000000', 'files': ['doc/user-guide/source/cli_swift_manage_objects.rst', 'doc/user-guide/source/locale/ja/LC_MESSAGES/user-guide.po', 'doc/user-guide-admin/source/dashboard_admin_manage_stacks.rst', 'doc/user-guide/source/sdk_authenticate.rst', 'doc/user-guide/source/sdk_schedule_objects_for_deletion.rst', 'doc/user-guide-admin/source/cli_admin_manage_ip_addresses.rst', 'doc/user-guide/source/sdk_neutron_apis.rst', 'doc/user-guide/setup.cfg', 'doc/user-guide/source/locale/user-guide.pot', 'doc/user-guide/source/cli_swift_env_vars.rst', 'tools/generatepot-rst.sh', 'doc/user-guide/source/dashboard_manage_volumes.rst', 'doc/user-guide-admin/source/analyzing-log-files-with-swift-cli.rst', 'doc/user-guide/setup.py', 'doc/user-guide/source/dashboard_launch_instances.rst', 'doc/user-guide/source/dashboard_stacks.rst', 'doc/user-guide-admin/source/dashboard_set_quotas.rst', 'doc/user-guide-admin/source/cli_admin_manage_stacks.rst', 'doc/user-guide/source/hot-guide/hot_environment.rst', 'doc/user-guide/source/cli_access_instance_through_a_console.rst', 'doc/user-guide/source/cli_create_and_manage_networks.rst', 'doc/user-guide/source/hot-guide/hot.rst', 'doc/user-guide/source/cli_create_and_manage_stacks.rst', 'doc/user-guide/source/configure_access_and_security_for_instances.rst', 'doc/user-guide/source/hot-guide/hot_basic_resources.rst', 'doc/user-guide/source/cli_swift_manage_access_swift.rst', 'doc/user-guide-admin/source/dashboard_manage_services.rst', 'doc/user-guide/source/hot-guide/hot_software_deployment.rst', 'doc/user-guide-admin/source/cli_keystone_manage_services.rst', 'doc/user-guide/source/dashboard_databases.rst', 'doc/user-guide/source/cli_swift_static_website.rst', 'doc/user-guide-admin/source/dashboard_manage_instances.rst', 'doc/user-guide/source/cli_swift_archive_auto_extract.rst', 'doc/user-guides/source/cli-admin.rst', 'doc/user-guide/source/managing-openstack-object-storage-with-swift-cli.rst', 'doc/user-guide-admin/source/conf.py', 'doc/user-guide-admin/source/dashboard_manage_volumes.rst', 'doc/user-guide/source/cli_delete_an_instance.rst', 'doc/user-guide-admin/source/index.rst', 'doc/user-guide-admin/source/figures/change_instance_state.png', 'doc/user-guide/source/cli_nova_configure_access_security_for_instances.rst', 'doc/user-guide/source/cli_swift_pseudo_hierarchical_folders_directories.rst', 'doc/user-guide-admin/source/cli.rst', 'doc/user-guide/source/cli_manage_bare_metal_nodes.rst', 'doc/user-guide/source/trove-manage-db.rst', 'doc/user-guide/source/dashboard.rst', 'doc/user-guide-admin/sphinx-ext', 'doc/user-guide/source/intro-user.rst', 'doc/user-guides/source/dashboard-admin.rst', 'doc/user-guide/source/sdk_configure_access_security_instances.rst', 'doc/user-guide/source/manage_db_config.rst', 'doc/user-guide/source/sdk_compute_apis.rst', 'doc/user-guide-admin/source/cli_nova_specify_host.rst', 'doc/user-guide/source/sdk_authenticate_against_identity_endpoint.rst', 'doc/user-guide-admin/source/cli_manage_services.rst', 'tools/build-user-guides.sh', 'doc/user-guide-admin/source/cli_set_compute_quotas.rst', 'doc/user-guide/source/cli_reboot_an_instance.rst', 'doc/user-guides/source/dashboard.rst', 'doc/user-guide/source/cli_swift_set_object_versions.rst', 'doc/user-guide-admin/source/locale/user-guide-admin.pot', 'doc/user-guide-admin/source/locale/ja/LC_MESSAGES/user-guide-admin.po', 'doc/user-guide/source/cli_config_drive.rst', 'doc/user-guide-admin/source/networking_advanced_quotas.rst', 'doc/user-guide-admin/source/dashboard_manage_host_aggregates.rst', 'doc/user-guide-admin/source/nova_cli_manage_projects_security.rst', 'doc/user-guide/source/create_db.rst', 'doc/user-guide-admin/source/cli_nova_migrate.rst', 'doc/user-guide/source/cli_search_instance_with_ip_address.rst', 'doc/user-guide-admin/source/dashboard.rst', 'doc/user-guide-admin/source/dashboard_manage_resources.rst', 'doc/user-guide-admin/source/cli_manage_flavors.rst', 'doc/user-guide-admin/source/common', 'doc/user-guide-admin/source/dashboard_manage_flavors.rst', 'doc/user-guide-admin/setup.cfg', 'doc/user-guide/source/cli_swift_bulk_delete.rst', 'doc/user-guide/source/sdk_assign_cors_headers.rst', 'doc/user-guide/source/sdk_authenticate_against_image_service_endpoint.rst', 'doc/user-guide/source/common', 'doc/user-guide/source/cli_swift_create_containers.rst', 'doc/user-guide/source/cli_swift_large_object_creation.rst', 'doc/user-guide/source/cli_swift_serialized_response_formats.rst', 'doc/user-guide/source/set_up_clustering.rst', 'doc/user-guide-admin/source/dashboard_admin_manage_roles.rst', 'doc/user-guide/source/cli_provide_user_data_to_instances.rst', 'doc/user-guide-admin/source/cli_admin_manage_environment.rst', 'doc/user-guide/source/cli_use_snapshots_to_migrate_instances.rst', 'doc/user-guide/source/sdk_install.rst', 'doc/user-guide-admin/source/dashboard_manage_images.rst', 'doc/user-guide-admin/source/cli_set_quotas.rst', 'doc/user-guide/source/cli_nova_launch_instance_from_volume.rst', 'doc/user-guide/sphinx-ext/scope.py', 'doc/user-guide-admin/source/manage_projects_users_and_roles.rst', 'doc/user-guide/source/cli_launch_instances.rst', 'tox.ini', 'doc/user-guide/source/dashboard_manage_images.rst', 'doc/user-guide/source/cli_manage_ip_addresses.rst', 'doc/user-guide/source/set_up_replication.rst', 'doc/user-guide/source/cli_nova_show_usage_statistics_for_hosts_instances.rst', 'doc/user-guide/source/hot-guide/hot_advanced_topics.rst', 'doc/user-guide-admin/source/dashboard_view_cloud_resources.rst', 'doc-tools-check-languages.conf', 'doc/user-guide/source/cli_ceilometer.rst', 'doc/user-guide/source/index.rst', 'doc/user-guide/source/sdk_authenticate_against_compute_endpoint.rst', 'doc/user-guide/source/sdk_authenticate_against_networking_endpoint.rst', 'doc/user-guide-admin/source/intro-admin.rst', 'doc/user-guide/source/hot-guide/hot_hello_world.rst', 'doc/user-guide/source/hot-guide/hot_spec.rst', 'doc/user-guide-admin/source/cli_nova_manage_services.rst', 'doc/user-guide/source/backup_db.rst', 'doc/user-guide/source/dashboard_manage_containers.rst', 'doc/user-guide/source/sdk_manage_images.rst', 'doc/user-guide/source/cli_change_the_size_of_your_server.rst', 'doc/user-guide/source/cli_swift_large_lists.rst', 'doc/user-guide/source/backup_db_incremental.rst', 'doc/user-guide/source/cli.rst', 'doc/user-guide/source/hot-guide/hot_existing_templates.rst', 'doc/user-guide/source/sdk.rst', 'doc/user-guide/source/cli_manage_instances_hosts.rst', 'doc/user-guide/source/cli_cheat_sheet.rst', 'doc/user-guide/source/dashboard_create_networks.rst', 'doc/user-guide/source/hot-guide/hot_composition.rst', 'doc/user-guide/source/cli_swift_discoverability.rst', 'doc/user-guide-admin/setup.py', 'doc/user-guide/source/cli_stop_and_start_an_instance.rst', 'doc/user-guide-admin/source/cli_cinder_quotas.rst', 'doc/user-guide/source/conf.py', 'doc/user-guides/source/cli.rst', 'doc/user-guide-admin/source/cli_nova_evacuate.rst'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/2e1b8d1d32171605770627254c3b024446b30f81', 'message': ""Move User Guides into separate directories\n\nSeparate User Guides cleanly, there's little benefit in having them in\none directory and it causes quite some strange sphinx challenges.\n\nTemporarily disable translation of the guides since first a new release\nof openstack-doc-tools is needed.\n\nPartial implements bp reorganise-user-guides\n\nChange-Id: I9e41bb67397c5bc26c1940f67387f3e42a9c5cbc\n""}]",0,182180,2e1b8d1d32171605770627254c3b024446b30f81,21,7,2,6547,,,0,"Move User Guides into separate directories

Separate User Guides cleanly, there's little benefit in having them in
one directory and it causes quite some strange sphinx challenges.

Temporarily disable translation of the guides since first a new release
of openstack-doc-tools is needed.

Partial implements bp reorganise-user-guides

Change-Id: I9e41bb67397c5bc26c1940f67387f3e42a9c5cbc
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/80/182180/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/user-guide/source/cli_swift_manage_objects.rst', 'doc/user-guide/source/locale/ja/LC_MESSAGES/user-guide.po', 'doc/user-guide-admin/source/dashboard_admin_manage_stacks.rst', 'doc/user-guide/source/sdk_authenticate.rst', 'doc/user-guide/source/sdk_schedule_objects_for_deletion.rst', 'doc/user-guide-admin/source/cli_admin_manage_ip_addresses.rst', 'doc/user-guide/source/sdk_neutron_apis.rst', 'doc/user-guide/setup.cfg', 'doc/user-guide/source/locale/user-guide.pot', 'doc/user-guide/source/cli_swift_env_vars.rst', 'tools/generatepot-rst.sh', 'doc/user-guide/source/dashboard_manage_volumes.rst', 'doc/user-guide-admin/source/analyzing-log-files-with-swift-cli.rst', 'doc/user-guide/setup.py', 'doc/user-guide/source/dashboard_launch_instances.rst', 'doc/user-guide/source/dashboard_stacks.rst', 'doc/user-guide-admin/source/dashboard_set_quotas.rst', 'doc/user-guide-admin/source/cli_admin_manage_stacks.rst', 'doc/user-guide/source/hot-guide/hot_environment.rst', 'doc/user-guide/source/cli_access_instance_through_a_console.rst', 'doc/user-guide/source/cli_create_and_manage_networks.rst', 'doc/user-guide/source/hot-guide/hot.rst', 'doc/user-guide/source/cli_create_and_manage_stacks.rst', 'doc/user-guide/source/configure_access_and_security_for_instances.rst', 'doc/user-guide/source/hot-guide/hot_basic_resources.rst', 'doc/user-guide/source/cli_swift_manage_access_swift.rst', 'doc/user-guide-admin/source/dashboard_manage_services.rst', 'doc/user-guide/source/hot-guide/hot_software_deployment.rst', 'doc/user-guide-admin/source/cli_keystone_manage_services.rst', 'doc/user-guide/source/dashboard_databases.rst', 'doc/user-guide/source/cli_swift_static_website.rst', 'doc/user-guide-admin/source/dashboard_manage_instances.rst', 'doc/user-guide/source/cli_swift_archive_auto_extract.rst', 'doc/user-guides/source/cli-admin.rst', 'doc/user-guide/source/managing-openstack-object-storage-with-swift-cli.rst', 'doc/user-guide-admin/source/conf.py', 'doc/user-guide-admin/source/dashboard_manage_volumes.rst', 'doc/user-guide/source/cli_delete_an_instance.rst', 'doc/user-guide-admin/source/index.rst', 'doc/user-guide-admin/source/figures/change_instance_state.png', 'doc/user-guide/source/cli_nova_configure_access_security_for_instances.rst', 'doc/user-guide/source/cli_swift_pseudo_hierarchical_folders_directories.rst', 'doc/user-guide-admin/source/cli.rst', 'doc/user-guide/source/cli_manage_bare_metal_nodes.rst', 'doc/user-guide/source/trove-manage-db.rst', 'doc/user-guide/source/dashboard.rst', 'doc/user-guide-admin/sphinx-ext', 'doc/user-guide/source/intro-user.rst', 'doc/user-guides/source/dashboard-admin.rst', 'doc/user-guide/source/sdk_configure_access_security_instances.rst', 'doc/user-guide/source/manage_db_config.rst', 'doc/user-guide/source/sdk_compute_apis.rst', 'doc/user-guide-admin/source/cli_nova_specify_host.rst', 'doc/user-guide/source/sdk_authenticate_against_identity_endpoint.rst', 'doc/user-guide-admin/source/cli_manage_services.rst', 'tools/build-user-guides.sh', 'doc/user-guide-admin/source/cli_set_compute_quotas.rst', 'doc/user-guide/source/cli_reboot_an_instance.rst', 'doc/user-guides/source/dashboard.rst', 'doc/user-guide/source/cli_swift_set_object_versions.rst', 'doc/user-guide-admin/source/locale/user-guide-admin.pot', 'doc/user-guide-admin/source/locale/ja/LC_MESSAGES/user-guide-admin.po', 'doc/user-guide/source/cli_config_drive.rst', 'doc/user-guide-admin/source/networking_advanced_quotas.rst', 'doc/user-guide-admin/source/dashboard_manage_host_aggregates.rst', 'doc/user-guide-admin/source/nova_cli_manage_projects_security.rst', 'doc/user-guide/source/create_db.rst', 'doc/user-guide-admin/source/cli_nova_migrate.rst', 'doc/user-guide/source/cli_search_instance_with_ip_address.rst', 'doc/user-guide-admin/source/dashboard.rst', 'doc/user-guide-admin/source/dashboard_manage_resources.rst', 'doc/user-guide-admin/source/cli_manage_flavors.rst', 'doc/user-guide-admin/source/common', 'doc/user-guide-admin/source/dashboard_manage_flavors.rst', 'doc/user-guide-admin/setup.cfg', 'doc/user-guide/source/cli_swift_bulk_delete.rst', 'doc/user-guide/source/sdk_assign_cors_headers.rst', 'doc/user-guide/source/sdk_authenticate_against_image_service_endpoint.rst', 'doc/user-guide/source/common', 'doc/user-guide/source/cli_swift_create_containers.rst', 'doc/user-guide/source/cli_swift_large_object_creation.rst', 'doc/user-guide/source/cli_swift_serialized_response_formats.rst', 'doc/user-guide/source/set_up_clustering.rst', 'doc/user-guide-admin/source/dashboard_admin_manage_roles.rst', 'doc/user-guide/source/cli_provide_user_data_to_instances.rst', 'doc/user-guide-admin/source/cli_admin_manage_environment.rst', 'doc/user-guide/source/cli_use_snapshots_to_migrate_instances.rst', 'doc/user-guide/source/sdk_install.rst', 'doc/user-guide-admin/source/dashboard_manage_images.rst', 'doc/user-guide-admin/source/cli_set_quotas.rst', 'doc/user-guide/source/cli_nova_launch_instance_from_volume.rst', 'doc/user-guide/sphinx-ext/scope.py', 'doc/user-guide-admin/source/manage_projects_users_and_roles.rst', 'doc/user-guide/source/cli_launch_instances.rst', 'tox.ini', 'doc/user-guide/source/dashboard_manage_images.rst', 'doc/user-guide/source/cli_manage_ip_addresses.rst', 'doc/user-guide/source/set_up_replication.rst', 'doc/user-guide/source/cli_nova_show_usage_statistics_for_hosts_instances.rst', 'doc/user-guide/source/hot-guide/hot_advanced_topics.rst', 'doc/user-guide-admin/source/dashboard_view_cloud_resources.rst', 'doc-tools-check-languages.conf', 'doc/user-guide/source/cli_ceilometer.rst', 'doc/user-guide/source/index.rst', 'doc/user-guide/source/sdk_authenticate_against_compute_endpoint.rst', 'doc/user-guide/source/sdk_authenticate_against_networking_endpoint.rst', 'doc/user-guide-admin/source/intro-admin.rst', 'doc/user-guide/source/hot-guide/hot_hello_world.rst', 'doc/user-guide/source/hot-guide/hot_spec.rst', 'doc/user-guide-admin/source/cli_nova_manage_services.rst', 'doc/user-guide/source/backup_db.rst', 'doc/user-guide/source/dashboard_manage_containers.rst', 'doc/user-guide/source/sdk_manage_images.rst', 'doc/user-guide/source/cli_change_the_size_of_your_server.rst', 'doc/user-guide/source/cli_swift_large_lists.rst', 'doc/user-guide/source/backup_db_incremental.rst', 'doc/user-guide/source/cli.rst', 'doc/user-guide/source/hot-guide/hot_existing_templates.rst', 'doc/user-guide/source/sdk.rst', 'doc/user-guide/source/cli_manage_instances_hosts.rst', 'doc/user-guide/source/cli_cheat_sheet.rst', 'doc/user-guide/source/dashboard_create_networks.rst', 'doc/user-guide/source/hot-guide/hot_composition.rst', 'doc/user-guide/source/cli_swift_discoverability.rst', 'doc/user-guide-admin/setup.py', 'doc/user-guide/source/cli_stop_and_start_an_instance.rst', 'doc/user-guide-admin/source/cli_cinder_quotas.rst', 'doc/user-guide/source/conf.py', 'doc/user-guides/source/cli.rst', 'doc/user-guide-admin/source/cli_nova_evacuate.rst']",130,c4f1249b4abaa014b1502f394ae3f28b675543e9,separate-user-guide,,,162,178
openstack%2Fopenstack-manuals~master~I2d3acf25a3af48349b7c10b7e9fea86d5f16444e,openstack/openstack-manuals,master,I2d3acf25a3af48349b7c10b7e9fea86d5f16444e,Move RST Glossary to common-rst,MERGED,2015-05-12 07:32:03.000000000,2015-05-13 17:24:25.000000000,2015-05-13 17:24:23.000000000,"[{'_account_id': 3}, {'_account_id': 964}, {'_account_id': 6547}, {'_account_id': 9515}, {'_account_id': 15293}]","[{'number': 1, 'created': '2015-05-12 07:32:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/f4277beca783892ba0e6ec34f6d74d6d51c3bf8d', 'message': 'Move RST Glossary to common-rst\n\nBuild glossary only once and put it into common-rst directory so that\nall RST guides can use it.\n\nChange-Id: I2d3acf25a3af48349b7c10b7e9fea86d5f16444e\n'}, {'number': 2, 'created': '2015-05-12 09:57:33.000000000', 'files': ['doc/user-guides/source/index.rst', 'doc/networking-guide/source/index.rst', 'tools/build-rst.sh', 'tools/generatepot-rst.sh', 'tox.ini', 'doc/user-guides/source/index-admin.rst'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/2dd24729672dd77f482ccac32cd9f2c03187e5db', 'message': 'Move RST Glossary to common-rst\n\nBuild glossary only once and put it into common-rst directory so that\nall RST guides can use it.\n\nChange-Id: I2d3acf25a3af48349b7c10b7e9fea86d5f16444e\n'}]",1,182179,2dd24729672dd77f482ccac32cd9f2c03187e5db,16,5,2,6547,,,0,"Move RST Glossary to common-rst

Build glossary only once and put it into common-rst directory so that
all RST guides can use it.

Change-Id: I2d3acf25a3af48349b7c10b7e9fea86d5f16444e
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/79/182179/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/user-guides/source/index.rst', 'doc/networking-guide/source/index.rst', 'tools/build-rst.sh', 'tools/generatepot-rst.sh', 'tox.ini', 'doc/user-guides/source/index-admin.rst']",6,f4277beca783892ba0e6ec34f6d74d6d51c3bf8d,separate-user-guide, common/glossary.rst, glossary.rst,6,9
openstack%2Ffuel-library~master~I356b5d95ec2242722dbcf9ec1fc1cb7be65db867,openstack/fuel-library,master,I356b5d95ec2242722dbcf9ec1fc1cb7be65db867,Add endpoint type parameter,MERGED,2015-05-13 15:32:22.000000000,2015-05-13 17:24:21.000000000,2015-05-13 17:13:14.000000000,"[{'_account_id': 3}, {'_account_id': 8786}, {'_account_id': 8971}, {'_account_id': 11090}, {'_account_id': 14774}, {'_account_id': 14985}]","[{'number': 1, 'created': '2015-05-13 15:32:22.000000000', 'files': ['deployment/puppet/glance/manifests/backend/swift.pp'], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/915e996fc24db41b6d511c113ba026231cc1aba4', 'message': 'Add endpoint type parameter\n\nTo get ability to change swift endpoint type, this parameter\nwas added.\n\nUpstream Change-Id: I25ce5d9d119804f1aca5b5567be46750050ebacd\nChange-Id: I356b5d95ec2242722dbcf9ec1fc1cb7be65db867\nCloses-bug: #1454364\n'}]",0,182719,915e996fc24db41b6d511c113ba026231cc1aba4,26,6,1,11827,,,0,"Add endpoint type parameter

To get ability to change swift endpoint type, this parameter
was added.

Upstream Change-Id: I25ce5d9d119804f1aca5b5567be46750050ebacd
Change-Id: I356b5d95ec2242722dbcf9ec1fc1cb7be65db867
Closes-bug: #1454364
",git fetch https://review.opendev.org/openstack/fuel-library refs/changes/19/182719/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/puppet/glance/manifests/backend/swift.pp'],1,915e996fc24db41b6d511c113ba026231cc1aba4,bug/1454364,"# # $swift_store_endpoint_type - Optional. Default: 'internalURL' $swift_store_create_container_on_put = false, $swift_store_endpoint_type = 'internalURL' 'glance_store/swift_store_endpoint_type': value => $swift_store_endpoint_type;", $swift_store_create_container_on_put = false,6,1
openstack%2Fpython-cinderclient~master~If0b242c4caaa611da8fb55b8f04ab436c0ce9984,openstack/python-cinderclient,master,If0b242c4caaa611da8fb55b8f04ab436c0ce9984,Add functional post test_hook,MERGED,2015-05-12 19:31:50.000000000,2015-05-13 17:23:29.000000000,2015-05-13 17:23:28.000000000,"[{'_account_id': 3}, {'_account_id': 1207}, {'_account_id': 5997}]","[{'number': 1, 'created': '2015-05-12 19:31:50.000000000', 'files': ['cinderclient/tests/functional/hooks/post_test_hook.sh'], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/5a189ff54c6273acf952c46ba373e43dcd070694', 'message': 'Add functional post test_hook\n\nThis is an initial add of a simple post_test_hook for the\nfunctional tests that are run in cinderclient.\n\nChange-Id: If0b242c4caaa611da8fb55b8f04ab436c0ce9984\n'}]",0,182426,5a189ff54c6273acf952c46ba373e43dcd070694,7,3,1,2243,,,0,"Add functional post test_hook

This is an initial add of a simple post_test_hook for the
functional tests that are run in cinderclient.

Change-Id: If0b242c4caaa611da8fb55b8f04ab436c0ce9984
",git fetch https://review.opendev.org/openstack/python-cinderclient refs/changes/26/182426/1 && git format-patch -1 --stdout FETCH_HEAD,['cinderclient/tests/functional/hooks/post_test_hook.sh'],1,5a189ff54c6273acf952c46ba373e43dcd070694,add_functional_testhook,"#!/bin/bash -xe # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # This script is executed inside post_test_hook function in devstack gate. # Default gate uses /opt/stack/new... but some of us may install differently STACK_DIR=$BASE/new/devstack function generate_testr_results { if [ -f .testrepository/0 ]; then sudo .tox/functional/bin/testr last --subunit > $WORKSPACE/testrepository.subunit sudo mv $WORKSPACE/testrepository.subunit $BASE/logs/testrepository.subunit sudo .tox/functional/bin/python /usr/local/jenkins/slave_scripts/subunit2html.py $BASE/logs/testrepository.subunit $BASE/logs/testr_results.html sudo gzip -9 $BASE/logs/testrepository.subunit sudo gzip -9 $BASE/logs/testr_results.html sudo chown jenkins:jenkins $BASE/logs/testrepository.subunit.gz $BASE/logs/testr_results.html.gz sudo chmod a+r $BASE/logs/testrepository.subunit.gz $BASE/logs/testr_results.html.gz fi } export CINDERCLIENT_DIR=""$BASE/python-cinderclient"" # Get admin credentials cd $STACK_DIR source openrc admin admin # Go to the cinderclient dir cd $CINDERCLIENT_DIR sudo chown -R jenkins:stack $CINDERCLIENT_DIR # Run tests echo ""Running cinderclient functional test suite"" set +e # Preserve env for OS_ credentials sudo -E -H -u jenkins tox -efunctional EXIT_CODE=$? set -e # Collect and parse result generate_testr_results exit $EXIT_CODE ",,53,0
openstack%2Fpython-novaclient~master~I5502dda88aebcd958f92167d519316f55d76fcb2,openstack/python-novaclient,master,I5502dda88aebcd958f92167d519316f55d76fcb2,Support to delete instance with no-ascii name,ABANDONED,2014-12-23 09:38:20.000000000,2015-05-13 17:23:07.000000000,,"[{'_account_id': 3}, {'_account_id': 679}, {'_account_id': 1849}, {'_account_id': 8412}, {'_account_id': 12175}, {'_account_id': 14131}]","[{'number': 1, 'created': '2014-12-23 09:38:20.000000000', 'files': ['novaclient/base.py', 'novaclient/openstack/common/apiclient/utils.py', 'novaclient/v1_1/servers.py', 'novaclient/utils.py'], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/c524072e8af1a0368c26323fb2db7feabb7434c5', 'message': ""Support to delete instance with no-ascii name\n\nThis patch addresses 3 issues.\n1. compute the string representation of the object of Server Resource correctly.\n__repr()__ built-in function of a object will be called when a caller return\nthe object.\nSo the string representation must be evaluated correctly.\nref:\nhttps://docs.python.org/2/reference/datamodel.html#object.__repr__\n\n2. encode server human_id before find the expected Server.\nurlencode will encode human_id to a safe url.\nBut an unicode object can not be encoded to a safe url, or an\nUnicodeEncodeError will be raised.\n\n3. keep the server name/display_name as unicode.\nServer name typed by user from the terminal will be used as a filter to be\ncompared with the instance name from the nova API. They should be same type.\nThe instance name are unicode, so the server name should be same.\n\nAlso the server name/display_name will be used to populate list_kwargs.\nWe should make sure all the values of the list_kwargs should not be unicode in\norder that it can be encoded to a safe url by urlencode.\n\nAfter this patch you can create a instance by protal with an no-ascii name,\nsuch as ''.\nAnd you can delete it successfully by this command:\n$ nova --debug delete \n\nChange-Id: I5502dda88aebcd958f92167d519316f55d76fcb2\nCloses-bug: 1403379\n""}]",0,143635,c524072e8af1a0368c26323fb2db7feabb7434c5,8,6,1,14131,,,0,"Support to delete instance with no-ascii name

This patch addresses 3 issues.
1. compute the string representation of the object of Server Resource correctly.
__repr()__ built-in function of a object will be called when a caller return
the object.
So the string representation must be evaluated correctly.
ref:
https://docs.python.org/2/reference/datamodel.html#object.__repr__

2. encode server human_id before find the expected Server.
urlencode will encode human_id to a safe url.
But an unicode object can not be encoded to a safe url, or an
UnicodeEncodeError will be raised.

3. keep the server name/display_name as unicode.
Server name typed by user from the terminal will be used as a filter to be
compared with the instance name from the nova API. They should be same type.
The instance name are unicode, so the server name should be same.

Also the server name/display_name will be used to populate list_kwargs.
We should make sure all the values of the list_kwargs should not be unicode in
order that it can be encoded to a safe url by urlencode.

After this patch you can create a instance by protal with an no-ascii name,
such as ''.
And you can delete it successfully by this command:
$ nova --debug delete 

Change-Id: I5502dda88aebcd958f92167d519316f55d76fcb2
Closes-bug: 1403379
",git fetch https://review.opendev.org/openstack/python-novaclient refs/changes/35/143635/1 && git format-patch -1 --stdout FETCH_HEAD,"['novaclient/base.py', 'novaclient/openstack/common/apiclient/utils.py', 'novaclient/v1_1/servers.py', 'novaclient/utils.py']",4,c524072e8af1a0368c26323fb2db7feabb7434c5,bug/1403379," tmp_id = name_or_id return manager.find(human_id=tmp_id, **find_args)"," return manager.find(human_id=name_or_id, **find_args)",11,5
openstack%2Fnova~master~I047c945e65782c0570c99e183869e2a63b3a25a3,openstack/nova,master,I047c945e65782c0570c99e183869e2a63b3a25a3,Raises portlimit exception from scheduler in case of completely used ip addresses from the subnet used,ABANDONED,2014-12-30 03:40:17.000000000,2015-05-13 17:23:05.000000000,,"[{'_account_id': 3}, {'_account_id': 1849}, {'_account_id': 5170}, {'_account_id': 5754}, {'_account_id': 8412}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10068}, {'_account_id': 10118}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-12-30 03:40:17.000000000', 'files': ['nova/scheduler/utils.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/2f008260f4c055f51ec95218ae28fa7bbc08714c', 'message': 'Raises portlimit exception from scheduler in case of completely used ip addresses from the subnet used\n\nChange-Id: I047c945e65782c0570c99e183869e2a63b3a25a3\n'}]",1,144401,2f008260f4c055f51ec95218ae28fa7bbc08714c,12,10,1,14410,,,0,"Raises portlimit exception from scheduler in case of completely used ip addresses from the subnet used

Change-Id: I047c945e65782c0570c99e183869e2a63b3a25a3
",git fetch https://review.opendev.org/openstack/nova refs/changes/01/144401/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/scheduler/utils.py'],1,2f008260f4c055f51ec95218ae28fa7bbc08714c,bug/1399527, last_exception = '' if retry.has_key('exc'): last_exception = retry['exc'][-1] if 'PortLimitExceeded' in last_exception: raise exception.PortLimitExceeded(reason='') ,,8,0
openstack%2Fnova~master~Ib6ee36bc71caaf280e876b5156cb549ed90b7a1d,openstack/nova,master,Ib6ee36bc71caaf280e876b5156cb549ed90b7a1d,Ironic: don't allow deploy ramdisk set by flavor,ABANDONED,2014-12-11 17:20:36.000000000,2015-05-13 17:23:03.000000000,,"[{'_account_id': 3}, {'_account_id': 1653}, {'_account_id': 1849}, {'_account_id': 2889}, {'_account_id': 5170}, {'_account_id': 7461}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10343}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-12-11 17:20:36.000000000', 'files': ['nova/tests/unit/virt/ironic/test_patcher.py', 'nova/virt/ironic/driver.py', 'nova/tests/unit/virt/ironic/test_driver.py', 'nova/virt/ironic/patcher.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/a2afd8b93891bbc0d149f7546eb5021a01ec2b41', 'message': ""Ironic: don't allow deploy ramdisk set by flavor\n\nIn the past, the deploy ramdisk could be set by a flavor's\nextra_specs. This code was kept for compatibility with Icehouse.\nRemove it, along with associated code.\n\nTangentially fixes a bug with deleting a flavor before destroying\nan instance of that flavor.\n\nChange-Id: Ib6ee36bc71caaf280e876b5156cb549ed90b7a1d\nCloses-Bug: #1400269\n""}]",0,141104,a2afd8b93891bbc0d149f7546eb5021a01ec2b41,13,11,1,10343,,,0,"Ironic: don't allow deploy ramdisk set by flavor

In the past, the deploy ramdisk could be set by a flavor's
extra_specs. This code was kept for compatibility with Icehouse.
Remove it, along with associated code.

Tangentially fixes a bug with deleting a flavor before destroying
an instance of that flavor.

Change-Id: Ib6ee36bc71caaf280e876b5156cb549ed90b7a1d
Closes-Bug: #1400269
",git fetch https://review.opendev.org/openstack/nova refs/changes/04/141104/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/virt/ironic/test_patcher.py', 'nova/virt/ironic/driver.py', 'nova/tests/unit/virt/ironic/test_driver.py', 'nova/virt/ironic/patcher.py']",4,a2afd8b93891bbc0d149f7546eb5021a01ec2b41,bug/1400269," def get_cleanup_patch(self, instance, network_info):"," def get_cleanup_patch(self, instance, network_info, flavor): :param flavor: the flavor object. class PXEDriverFields(GenericDriverFields): def _get_kernel_ramdisk_dict(self, flavor): """"""Get the deploy ramdisk and kernel IDs from the flavor. :param flavor: the flavor object. :returns: a dict with the pxe options for the deploy ramdisk and kernel if the IDs were found in the flavor, otherwise an empty dict is returned. """""" extra_specs = flavor['extra_specs'] deploy_kernel = extra_specs.get('baremetal:deploy_kernel_id') deploy_ramdisk = extra_specs.get('baremetal:deploy_ramdisk_id') deploy_ids = {} if deploy_kernel and deploy_ramdisk: deploy_ids['pxe_deploy_kernel'] = deploy_kernel deploy_ids['pxe_deploy_ramdisk'] = deploy_ramdisk return deploy_ids def get_deploy_patch(self, instance, image_meta, flavor, preserve_ephemeral=None): """"""Build a patch to add the required fields to deploy a node. Build a json-patch to add the required fields to deploy a node using the PXE driver. :param instance: the instance object. :param image_meta: the metadata associated with the instance image. :param flavor: the flavor object. :param preserve_ephemeral: preserve_ephemeral status (bool) to be specified during rebuild. :returns: a json-patch with the fields that needs to be updated. """""" patch = super(PXEDriverFields, self).get_deploy_patch( instance, image_meta, flavor, preserve_ephemeral) # TODO(lucasagomes): Remove it in Kilo. This is for backwards # compatibility with Icehouse. If flavor contains both ramdisk # and kernel ids, use them. for key, value in self._get_kernel_ramdisk_dict(flavor).items(): patch.append({'path': '/driver_info/%s' % key, 'op': 'add', 'value': value}) return patch def get_cleanup_patch(self, instance, network_info, flavor): """"""Build a patch to clean up the fields. Build a json-patch to remove the fields used to deploy a node using the PXE driver. Note that the fields added to the Node's instance_info don't need to be removed because they are purged during the Node's tear down. :param instance: the instance object. :param network_info: the instance network information. :param flavor: the flavor object. :returns: a json-patch with the fields that needs to be updated. """""" patch = super(PXEDriverFields, self).get_cleanup_patch( instance, network_info, flavor) # TODO(lucasagomes): Remove it in Kilo. This is for backwards # compatibility with Icehouse. If flavor contains a ramdisk and # kernel id remove it from nodes as part of the tear down process for key in self._get_kernel_ramdisk_dict(flavor): if key in self.node.driver_info: patch.append({'op': 'remove', 'path': '/driver_info/%s' % key}) return patch",13,145
openstack%2Fnova~master~I64b8a25bcb2252a51232d08a605276b8ba067054,openstack/nova,master,I64b8a25bcb2252a51232d08a605276b8ba067054,Removed multiple Instance.get_by_uuid() lookups,ABANDONED,2014-10-29 09:19:40.000000000,2015-05-13 17:23:02.000000000,,"[{'_account_id': 3}, {'_account_id': 1561}, {'_account_id': 1849}, {'_account_id': 5170}, {'_account_id': 6062}, {'_account_id': 7166}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 12864}]","[{'number': 1, 'created': '2014-10-29 09:19:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/500a1d9f4ab005492b900f998b96f9b055538d94', 'message': 'Removed multiple Instance.get_by_uuid() lookups\n\nCurrently, the code in _update_usage_from_migration() is building a ""filtered"" dictionary\nwith the migration objects that need to be accounted for in the resource usages,\nand then once it builds that filtered dictionary, it is going through the values and\ncalls _update_usage_from_migration(), which is making two UUID lookup\'s to get the migration\'s instance object.\n\nWith this fix, filtered variable can goes away and the call to _update_usage_from_migration()\noccurs in the main for loop. By doing this we need not do two UUID looksup\'s to get the\nmigration\'s instance object.\n\nChange-Id: I64b8a25bcb2252a51232d08a605276b8ba067054\nCloses-Bug: #1385489\n'}, {'number': 2, 'created': '2014-10-30 04:30:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/505892a4d11e8de3a073b9be494b696997aca6ab', 'message': 'Removed multiple Instance.get_by_uuid() lookups\n\nCurrently, the code in _update_usage_from_migration() is building a ""filtered"" dictionary\nwith the migration objects that need to be accounted for in the resource usages,\nand then once it builds that filtered dictionary, it is going through the values and\ncalls _update_usage_from_migration(), which is making two UUID lookup\'s to get the migration\'s instance object.\n\nWith this fix, filtered variable can goes away and the call to _update_usage_from_migration()\noccurs in the main for loop. By doing this we need not do two UUID looksup\'s to get the\nmigration\'s instance object.\n\nChange-Id: I64b8a25bcb2252a51232d08a605276b8ba067054\nCloses-Bug: #1385489\n'}, {'number': 3, 'created': '2014-11-11 17:01:14.000000000', 'files': ['nova/compute/resource_tracker.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/1cb7d1f980cd6153f8ce69e79882597465924e28', 'message': 'Removed multiple Instance.get_by_uuid() lookups\n\nCurrently, the code in _update_usage_from_migration() is building a ""filtered"" dictionary\nwith the migration objects that need to be accounted for in the resource usages,\nand then once it builds that filtered dictionary, it is going through the values and\ncalls _update_usage_from_migration(), which is making two UUID lookup\'s to get the migration\'s instance object.\n\nWith this fix, filtered variable goes away and the call to _update_usage_from_migration()\noccurs in the main for loop. By doing this we need not do two UUID looksup\'s to get the\nmigration\'s instance object and hence reduce a call across RPC and DB by processing the latest UUID. \n\nChange-Id: I64b8a25bcb2252a51232d08a605276b8ba067054\nCloses-Bug: #1385489\n'}]",3,131676,1cb7d1f980cd6153f8ce69e79882597465924e28,33,12,3,12864,,,0,"Removed multiple Instance.get_by_uuid() lookups

Currently, the code in _update_usage_from_migration() is building a ""filtered"" dictionary
with the migration objects that need to be accounted for in the resource usages,
and then once it builds that filtered dictionary, it is going through the values and
calls _update_usage_from_migration(), which is making two UUID lookup's to get the migration's instance object.

With this fix, filtered variable goes away and the call to _update_usage_from_migration()
occurs in the main for loop. By doing this we need not do two UUID looksup's to get the
migration's instance object and hence reduce a call across RPC and DB by processing the latest UUID. 

Change-Id: I64b8a25bcb2252a51232d08a605276b8ba067054
Closes-Bug: #1385489
",git fetch https://review.opendev.org/openstack/nova refs/changes/76/131676/2 && git format-patch -1 --stdout FETCH_HEAD,['nova/compute/resource_tracker.py'],1,500a1d9f4ab005492b900f998b96f9b055538d94,b1385489,," # filter to most recently updated migration for each instance: m = filtered.get(uuid, None) if not m or migration['updated_at'] >= m['updated_at']: filtered[uuid] = migration for migration in filtered.values(): instance = migration['instance']",0,7
openstack%2Fnova~master~I100ea0983565488d77b9df7264144092e382298a,openstack/nova,master,I100ea0983565488d77b9df7264144092e382298a,Initiate the PciDevTracker correctly,ABANDONED,2014-06-24 17:46:11.000000000,2015-05-13 17:23:01.000000000,,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 1849}, {'_account_id': 4573}, {'_account_id': 4690}, {'_account_id': 5170}, {'_account_id': 7166}, {'_account_id': 7543}, {'_account_id': 7546}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-06-24 17:46:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c8cf5f4929288eb240845caaa713537f851e6e07', 'message': ""Use host and nodename for pci device\n\nCurrently the pci_device uses the compute node_id to identify the owner\nof the device. This is not a good choice since node_id is allocated very\nlate. The host and nodename are the right choices.\n\nWe add the new fields to the DB and the object, but we didn't remove the\ncompute_node_id column still, instead, we simply keep it as deprecated.\n\nChange-Id: I100ea0983565488d77b9df7264144092e382298a\n""}, {'number': 2, 'created': '2014-06-27 13:03:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/38ac7865f7e22db10e218f6bef456ce59a78b48e', 'message': ""Use host and nodename for pci device\n\nCurrently the pci_device uses the compute node_id to identify the owner\nof the device. This is not a good choice since node_id is allocated very\nlate. The host and nodename are the right choices.\n\nWe add the new fields to the DB and the object, but we didn't remove the\ncompute_node_id column still, instead, we simply keep it as deprecated.\n\nCloses-Bug: #1333498\nChange-Id: I100ea0983565488d77b9df7264144092e382298a\n""}, {'number': 3, 'created': '2014-07-01 07:01:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/232f9d13f6f1c0b06824735c539c49f973378f32', 'message': ""WIP: Initiate the PCI devices correctly\n\nCurrently the PCI device tracker will be created using the\ncompute_node_id, and it try to fetch the existed PCI devices\ninformation based on that node_id.\n\nHowever, the compute_node_id is possibly not created\nyet when the PCI device tracker is created because the compute\nnode_id is created only after the corresponding database entry is\ncreated in late stage of resource tracker.\n\nWe change the operation. The PCI device tracker will fetch\nthe existed PCI devices information using host and nodename at creation\ntime. Also it will populate the PCI devices's compute_node_id\nbefore saving the devices information to database.\n\nCloses-Bug: #1333498\nChange-Id: I100ea0983565488d77b9df7264144092e382298a\n""}, {'number': 4, 'created': '2014-07-01 22:48:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/63948d33cdd0a278f5413031392b2ac1b23469c5', 'message': ""Initiate the PciDevTracker correctly\n\nCurrently the PCI device tracker will be created using the\ncompute_node_id, and it try to fetch the existed PCI devices\ninformation based on that node_id.\n\nHowever, the compute_node_id is possibly not created\nyet when the PCI device tracker is created because the compute\nnode_id is created only after the corresponding database entry is\ncreated in late stage of resource tracker.\n\nWe change the operation. The PCI device tracker will fetch\nthe existed PCI devices information using host and nodename at creation\ntime. Also it will populate the PCI devices's compute_node_id\nbefore saving the devices information to database.\n\nCloses-Bug: #1333498\nChange-Id: I100ea0983565488d77b9df7264144092e382298a\n""}, {'number': 5, 'created': '2014-07-02 00:15:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2df41ae7a26e9a80181b7c6f165eddd4dbf2118c', 'message': ""Initiate the PciDevTracker correctly\n\nCurrently the PCI device tracker will be created using the\ncompute_node_id, and it try to fetch the existed PCI devices\ninformation based on that node_id.\n\nHowever, the compute_node_id is possibly not created\nyet when the PCI device tracker is created because the compute\nnode_id is created only after the corresponding database entry is\ncreated in late stage of resource tracker.\n\nWe change the operation. The PCI device tracker will fetch\nthe existed PCI devices information using host and nodename at creation\ntime. Also it will populate the PCI devices's compute_node_id\nbefore saving the devices information to database.\n\nCloses-Bug: #1333498\nChange-Id: I100ea0983565488d77b9df7264144092e382298a\n""}, {'number': 6, 'created': '2014-07-03 17:36:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/55a7c4b9c807a2f3ea9ba65b476426c379e070c5', 'message': ""Initiate the PciDevTracker correctly\n\nCurrently the PCI device tracker will be created using the\ncompute_node_id, and it try to fetch the existed PCI devices\ninformation based on that node_id.\n\nHowever, the compute_node_id is possibly not created\nyet when the PCI device tracker is created because the compute\nnode_id is created only after the corresponding database entry is\ncreated in late stage of resource tracker.\n\nWe change the operation. The PCI device tracker will fetch\nthe existed PCI devices information using host and nodename at creation\ntime. Also it will populate the PCI devices's compute_node_id\nbefore saving the devices information to database.\n\nCloses-Bug: #1333498\nChange-Id: I100ea0983565488d77b9df7264144092e382298a\n""}, {'number': 7, 'created': '2014-07-23 22:54:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3d168da42d2eb2483f38abb69ff85d2c37e6c1db', 'message': ""Initiate the PciDevTracker correctly\n\nCurrently the PCI device tracker will be created using the\ncompute_node_id, and it try to fetch the existed PCI devices\ninformation based on that node_id.\n\nHowever, the compute_node_id is possibly not created\nyet when the PCI device tracker is created because the compute\nnode_id is created only after the corresponding database entry is\ncreated in late stage of resource tracker.\n\nWe change the operation. The PCI device tracker will fetch\nthe existed PCI devices information using host and nodename at creation\ntime. Also it will populate the PCI devices's compute_node_id\nbefore saving the devices information to database.\n\nCloses-Bug: #1333498\nChange-Id: I100ea0983565488d77b9df7264144092e382298a\n""}, {'number': 8, 'created': '2014-08-07 21:28:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/77a36adf2eeb07c0ce836f74feb5737107d9906b', 'message': ""Initiate the PciDevTracker correctly\n\nCurrently the PCI device tracker will be created using the\ncompute_node_id, and it try to fetch the existed PCI devices\ninformation based on that node_id.\n\nHowever, the compute_node_id is possibly not created\nyet when the PCI device tracker is created because the compute\nnode_id is created only after the corresponding database entry is\ncreated in late stage of resource tracker.\n\nWe change the operation. The PCI device tracker will fetch\nthe existed PCI devices information using host and nodename at creation\ntime. Also it will populate the PCI devices's compute_node_id\nbefore saving the devices information to database.\n\nCloses-Bug: #1333498\nChange-Id: I100ea0983565488d77b9df7264144092e382298a\n""}, {'number': 9, 'created': '2014-08-19 20:58:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/74540484e459cae529db11cca60fff78fec96fac', 'message': ""Initiate the PciDevTracker correctly\n\nCurrently the PCI device tracker will be created using the\ncompute_node_id, and it try to fetch the existed PCI devices\ninformation based on that node_id.\n\nHowever, the compute_node_id is possibly not created\nyet when the PCI device tracker is created because the compute\nnode_id is created only after the corresponding database entry is\ncreated in late stage of resource tracker.\n\nWe change the operation. The PCI device tracker will fetch\nthe existed PCI devices information using host and nodename at creation\ntime. Also it will populate the PCI devices's compute_node_id\nbefore saving the devices information to database.\n\nCloses-Bug: #1333498\nChange-Id: I100ea0983565488d77b9df7264144092e382298a\n""}, {'number': 10, 'created': '2014-08-27 21:02:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7c0c03f9f0a908d6c40bc17f5400873dd109a22b', 'message': ""Initiate the PciDevTracker correctly\n\nCurrently the PCI device tracker will be created using the\ncompute_node_id, and it try to fetch the existed PCI devices\ninformation based on that node_id.\n\nHowever, the compute_node_id is possibly not created\nyet when the PCI device tracker is created because the compute\nnode_id is created only after the corresponding database entry is\ncreated in late stage of resource tracker.\n\nWe change the operation. The PCI device tracker will fetch\nthe existed PCI devices information using host and nodename at creation\ntime. Also it will populate the PCI devices's compute_node_id\nbefore saving the devices information to database.\n\nCloses-Bug: #1333498\nChange-Id: I100ea0983565488d77b9df7264144092e382298a\n""}, {'number': 11, 'created': '2014-08-28 18:18:48.000000000', 'files': ['nova/pci/pci_manager.py', 'nova/tests/compute/test_resource_tracker.py', 'nova/tests/pci/test_pci_manager.py', 'nova/tests/compute/test_claims.py', 'nova/compute/resource_tracker.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/ccff51d2ad117cf7b1a8bc04e8fa4d54bd9241f3', 'message': ""Initiate the PciDevTracker correctly\n\nCurrently the PCI device tracker will be created using the\ncompute_node_id, and it try to fetch the existed PCI devices\ninformation based on that node_id.\n\nHowever, the compute_node_id is possibly not created\nyet when the PCI device tracker is created because the compute\nnode_id is created only after the corresponding database entry is\ncreated in late stage of resource tracker.\n\nWe change the operation. The PCI device tracker will fetch\nthe existed PCI devices information using host and nodename at creation\ntime. Also it will populate the PCI devices's compute_node_id\nbefore saving the devices information to database.\n\nCloses-Bug: #1333498\nChange-Id: I100ea0983565488d77b9df7264144092e382298a\n""}]",34,102298,ccff51d2ad117cf7b1a8bc04e8fa4d54bd9241f3,128,14,11,4573,,,0,"Initiate the PciDevTracker correctly

Currently the PCI device tracker will be created using the
compute_node_id, and it try to fetch the existed PCI devices
information based on that node_id.

However, the compute_node_id is possibly not created
yet when the PCI device tracker is created because the compute
node_id is created only after the corresponding database entry is
created in late stage of resource tracker.

We change the operation. The PCI device tracker will fetch
the existed PCI devices information using host and nodename at creation
time. Also it will populate the PCI devices's compute_node_id
before saving the devices information to database.

Closes-Bug: #1333498
Change-Id: I100ea0983565488d77b9df7264144092e382298a
",git fetch https://review.opendev.org/openstack/nova refs/changes/98/102298/10 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/objects/test_objects.py', 'nova/pci/pci_stats.py', 'nova/tests/pci/test_pci_stats.py', 'nova/tests/pci/test_pci_manager.py', 'nova/tests/compute/test_claims.py', 'nova/db/sqlalchemy/api.py', 'nova/tests/objects/test_instance.py', 'nova/tests/fake_network.py', 'nova/db/sqlalchemy/migrate_repo/versions/245_replace_pcidevice_nodeid.py', 'nova/tests/pci/test_pci_device.py', 'nova/tests/db/test_db_api.py', 'nova/db/api.py', 'nova/tests/virt/libvirt/test_driver.py', 'nova/pci/pci_device.py', 'nova/pci/pci_manager.py', 'nova/tests/api/openstack/compute/plugins/v3/test_pci.py', 'nova/tests/objects/test_pci_device.py', 'nova/objects/pci_device.py', 'nova/db/sqlalchemy/models.py', 'nova/exception.py', 'nova/tests/integrated/v3/test_pci.py', 'nova/api/openstack/compute/plugins/v3/pci.py', 'tox.ini', 'nova/compute/resource_tracker.py']",24,c8cf5f4929288eb240845caaa713537f851e6e07,pci_node_id," self.pci_tracker = pci_manager.PciDevTracker( context, self.host, self.nodename)", self.pci_tracker = pci_manager.PciDevTracker() if self.pci_tracker: self.pci_tracker.set_compute_node_id(cn['id']) if self.pci_tracker: self.pci_tracker.set_compute_node_id(self.compute_node['id']),268,153
openstack%2Fnova~master~Ifb1035d2fb6643de8809408f270c4e7ca0625d6f,openstack/nova,master,Ifb1035d2fb6643de8809408f270c4e7ca0625d6f,Fix 'swap' return empty string in flavor-create,ABANDONED,2015-01-09 10:20:48.000000000,2015-05-13 17:22:59.000000000,,"[{'_account_id': 3}, {'_account_id': 1849}, {'_account_id': 5170}, {'_account_id': 5754}, {'_account_id': 6062}, {'_account_id': 7730}, {'_account_id': 8276}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10385}]","[{'number': 1, 'created': '2015-01-09 10:20:48.000000000', 'files': ['nova/tests/unit/api/openstack/compute/contrib/test_flavor_swap.py', 'nova/api/openstack/compute/views/flavors.py', 'nova/api/openstack/compute/contrib/flavor_swap.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/2f67297f30ae9b1e4da3eb59cc24228d7226a43d', 'message': ""Fix 'swap' return empty string in flavor-create\n\nThe type of 'swap' is string or int according to 'swap' value in DB.\nswap == 0, return empty string.\nswap > 0, return int.\nThe client code is complex when return value of API is not fixed type.\nOn the other hand, the type of 'swap' in the request and response of\nflavor-create should be same type.\n\nChange-Id: Ifb1035d2fb6643de8809408f270c4e7ca0625d6f\nCloses-Bug: #1408954\n""}]",0,146050,2f67297f30ae9b1e4da3eb59cc24228d7226a43d,17,10,1,8276,,,0,"Fix 'swap' return empty string in flavor-create

The type of 'swap' is string or int according to 'swap' value in DB.
swap == 0, return empty string.
swap > 0, return int.
The client code is complex when return value of API is not fixed type.
On the other hand, the type of 'swap' in the request and response of
flavor-create should be same type.

Change-Id: Ifb1035d2fb6643de8809408f270c4e7ca0625d6f
Closes-Bug: #1408954
",git fetch https://review.opendev.org/openstack/nova refs/changes/50/146050/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/api/openstack/compute/views/flavors.py', 'nova/tests/unit/api/openstack/compute/contrib/test_flavor_swap.py', 'nova/api/openstack/compute/contrib/flavor_swap.py']",3,2f67297f30ae9b1e4da3eb59cc24228d7226a43d,bug/1408954, flavor[key] = db_flavor['swap']," flavor[key] = db_flavor['swap'] or """"",4,4
openstack%2Fnova~master~I0d0fb1c8ce8c5b3a5de56891040dc98ffd9e7584,openstack/nova,master,I0d0fb1c8ce8c5b3a5de56891040dc98ffd9e7584,Cache aggregates in HostState and HostStateManager,ABANDONED,2014-12-17 15:05:51.000000000,2015-05-13 17:22:58.000000000,,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 1849}, {'_account_id': 5170}, {'_account_id': 7166}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-12-17 15:05:51.000000000', 'files': ['nova/tests/scheduler/fakes.py', 'nova/scheduler/filters/availability_zone_filter.py', 'nova/tests/scheduler/test_scheduler.py', 'nova/tests/scheduler/test_baremetal_host_manager.py', 'nova/tests/scheduler/test_ironic_host_manager.py', 'nova/tests/scheduler/test_host_manager.py', 'nova/scheduler/host_manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/80c3e27a10c1e10b22ab486dc6a3877974111c94', 'message': ""Cache aggregates in HostState and HostStateManager\n\nSome of the scheduler filters directly access the Nova database to\nretrieve information about host aggregates. This is problematic for a\ncouple reasons:\n\n* In order to detach the nova-scheduler into the Gantt project, we need\n  to isolate the scheduler from the Nova database.\n* The way in which aggregates are accessed is quiet inefficient.\n  Aggregate metadata is queried *on each iteration of host_passes()*,\n  inside various filters that query for metadata assigned to aggregates\n  that a compute node might belong to. For deployments with lots of\n  compute nodes and/or lots of aggregates, this can lead to hundreds of\n  separate DB requests in a single launch instance request.\n\nThis patch caches Aggregate information in the\nnova.scheduler.host_state_manager.HostStateManager object, and provides\nread-only aggregate information in the manager's collection of HostState\nobjects. A HostState object is what is passed to the filter's\nhost_passes() method, and we replace the calls to the Nova database for\naggregate information with calls to the cached aggregate information in\nthe HostState object instead.\n\nWe don't fully remove the database calls to retrieve Aggregate\ninformation in this patch, though. We still call\nnova.objects.AggregateList.get_all() in the constructor of the\nHostStateManager. However, in a future patch, we now only need to\nreplace this single call to the Nova database with an alternate way of\ngetting Aggregate information. We could instead call the Nova REST API\nto get the information, or better, in the future, Gantt would own all\nthe information about Aggregates, and we would replace the call to\nNova's database with a simple call to Gantt's data store instead.\n\nChange-Id: I0d0fb1c8ce8c5b3a5de56891040dc98ffd9e7584\nPartially-implements: isolate-db-scheduler\n""}]",0,142461,80c3e27a10c1e10b22ab486dc6a3877974111c94,9,8,1,7,,,0,"Cache aggregates in HostState and HostStateManager

Some of the scheduler filters directly access the Nova database to
retrieve information about host aggregates. This is problematic for a
couple reasons:

* In order to detach the nova-scheduler into the Gantt project, we need
  to isolate the scheduler from the Nova database.
* The way in which aggregates are accessed is quiet inefficient.
  Aggregate metadata is queried *on each iteration of host_passes()*,
  inside various filters that query for metadata assigned to aggregates
  that a compute node might belong to. For deployments with lots of
  compute nodes and/or lots of aggregates, this can lead to hundreds of
  separate DB requests in a single launch instance request.

This patch caches Aggregate information in the
nova.scheduler.host_state_manager.HostStateManager object, and provides
read-only aggregate information in the manager's collection of HostState
objects. A HostState object is what is passed to the filter's
host_passes() method, and we replace the calls to the Nova database for
aggregate information with calls to the cached aggregate information in
the HostState object instead.

We don't fully remove the database calls to retrieve Aggregate
information in this patch, though. We still call
nova.objects.AggregateList.get_all() in the constructor of the
HostStateManager. However, in a future patch, we now only need to
replace this single call to the Nova database with an alternate way of
getting Aggregate information. We could instead call the Nova REST API
to get the information, or better, in the future, Gantt would own all
the information about Aggregates, and we would replace the call to
Nova's database with a simple call to Gantt's data store instead.

Change-Id: I0d0fb1c8ce8c5b3a5de56891040dc98ffd9e7584
Partially-implements: isolate-db-scheduler
",git fetch https://review.opendev.org/openstack/nova refs/changes/61/142461/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/scheduler/fakes.py', 'nova/scheduler/filters/availability_zone_filter.py', 'nova/tests/scheduler/test_scheduler.py', 'nova/tests/scheduler/test_baremetal_host_manager.py', 'nova/tests/scheduler/test_ironic_host_manager.py', 'nova/tests/scheduler/test_host_manager.py', 'nova/scheduler/host_manager.py']",7,80c3e27a10c1e10b22ab486dc6a3877974111c94,aggregate-info-cache-scheduler,"from nova import contextfrom nova import objects # A cache of information about the aggregates that the compute node # belongs to. Certain filters like AvailabilityZoneFilter need # information from the aggregate to make decisions, so to prevent # calls to the database within the filters themselves, we stash # some information here instead. self.aggregates = [] def get_aggregate_metadata(self): """"""Returns a dict of metadata for all aggregates the host belongs to. Each value in the dict is a set() of values that matched any aggregate for the key. For example, if host A belonged to aggregate X and aggregate Y, and aggregate X's metadata looked like {'this': 'foo'} and aggreate Y's metadata looked like {'this': 'bar'}, then the dict returned by this function would be: {'this': set('foo', 'bar')} """""" result = collections.defaultdict(set) for agg in self.aggregates: for key, value in agg.metadata.items(): result[key].add(value) return result # A cache of Aggregate objects, keyed by the aggregate ID. self.aggregates = {} # A hash lookup so that when host state objects are created # or updated, that we can quickly cache the aggregate information # specific to that host. self.host_aggregate_map = collections.defaultdict(set) self.init_aggregate_cache() def init_aggregate_cache(self): """"""Initializes the cache of aggregate information. Retrieves all aggregate records and caches the metadata and host relations. """""" ha_map = self.host_aggregate_map aggs = objects.AggregateList.get_all(context.get_admin_context()) self.aggregates = aggs for agg in aggs: for host in agg.hosts: ha_map[host].add(agg.id) # We already have the aggregate information in our # HostStateManager cache... this simply sets the aggregate # information cache in the HostState object itself which is # passed to the Filter object's host_passes() method. aggs_for_host = [self.aggregates[agg_id] for agg_id in self.host_aggregate_map[host_state.host]] host_state.aggregates = aggs_for_host",,83,18
openstack%2Fnova~master~I1f36803b61521e4a552c91f0afe2cce4665c96ab,openstack/nova,master,I1f36803b61521e4a552c91f0afe2cce4665c96ab,Nova should not backup those vm boot from volume,ABANDONED,2014-09-20 00:28:53.000000000,2015-05-13 17:22:57.000000000,,"[{'_account_id': 3}, {'_account_id': 1849}, {'_account_id': 5170}, {'_account_id': 8282}, {'_account_id': 8412}, {'_account_id': 8871}, {'_account_id': 8909}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 10618}, {'_account_id': 11531}]","[{'number': 1, 'created': '2014-09-20 00:28:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/13282fd1baae19152e008a09247fbf825ccd51a5', 'message': ""Nova should not backup those vm boot from volume\n\nWhen doing backup on a vm which boot from cinder volume, it firstly\nshutdown vm and then do backup work. But it fails and the detail exception\nlog could be seen in the last part. When we need nova to backup a vm\nbooted from cinder volume, we could do this by using cinder's\nfunction----copy volume to image. I think we could raise an exception when nova backup a vm from cinder volume.\nCloses-Bug: #1356737\n\nChange-Id: I1f36803b61521e4a552c91f0afe2cce4665c96ab\n""}, {'number': 2, 'created': '2014-09-20 00:30:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a7044ae32941babc65ec4ce8d9271d5b3f343448', 'message': ""Nova should not backup those vm boot from volume\n\nWhen doing backup on a vm which boot from cinder volume, it firstly\nshutdown vm and then do backup work. But it fails and the detail exception\nlog could be seen in the last part. When we need nova to backup a vm\nbooted from cinder volume, we could do this by using cinder's\nfunction----copy volume to image. I think we could raise an exception when nova backup a vm from cinder volume.\n\nCloses-Bug: #1356737\nChange-Id: I1f36803b61521e4a552c91f0afe2cce4665c96ab\n""}, {'number': 3, 'created': '2014-09-20 00:31:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/89335687f56aca679a8e8cba3881438e9ace17e0', 'message': ""Nova should not backup those vm boot from volume\n\nWhen doing backup on a vm which boot from cinder volume, it firstly\nshutdown vm and then do backup work. But it fails and the detail exception\nlog could be seen in the last part. When we need nova to backup a vm\nbooted from cinder volume, we could do this by using cinder's\nfunction----copy volume to image. I think we could raise an exception \nwhen nova backup a vm from cinder volume.\n\nCloses-Bug: #1356737\nChange-Id: I1f36803b61521e4a552c91f0afe2cce4665c96ab\n""}, {'number': 4, 'created': '2014-10-08 02:34:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/218f6ac8f3a91e9a6e59c09fc73d46dd5b4a60bd', 'message': ""Nova should not backup those vm boot from volume\n\nWhen doing backup on a vm which boot from cinder volume, it firstly\nshutdown vm and then do backup work. But it fails and the detail exception\nlog could be seen in the last part. When we need nova to backup a vm\nbooted from cinder volume, we could do this by using cinder's\nfunction----copy volume to image. I think we could raise an exception\nwhen nova backup a vm from cinder volume.\n\nCloses-Bug: #1356737\nChange-Id: I1f36803b61521e4a552c91f0afe2cce4665c96ab\n""}, {'number': 5, 'created': '2014-10-08 02:50:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5c36f9ecb9d30e9e5c842ccd5059603657343d06', 'message': ""Nova should not backup those vm boot from volume\n\nWhen doing backup on a vm which boot from cinder volume, it firstly\nshutdown vm and then do backup work. But it fails and the detail exception\nlog could be seen in the last part. When we need nova to backup a vm\nbooted from cinder volume, we could do this by using cinder's function----copy\nvolume to image. I think we could raise an exception when nova backup a vm\nfrom cinder volume.\n\nCloses-Bug: #1356737\nChange-Id: I1f36803b61521e4a552c91f0afe2cce4665c96ab\n""}, {'number': 6, 'created': '2014-12-09 02:03:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/956858cc97c16e5446b8ccfad54ca16500c4e9c1', 'message': ""Nova should not backup those vm boot from volume\n\nWhen doing backup on a vm which boot from cinder volume, it firstly\nshutdown vm and then do backup work. But it fails and the detail exception\nlog could be seen in the last part. When we need nova to backup a vm\nbooted from cinder volume, we could do this by using cinder's function----copy\nvolume to image. I think we could raise an exception when nova backup a vm\nfrom cinder volume.\n\nCloses-Bug: #1356737\nChange-Id: I1f36803b61521e4a552c91f0afe2cce4665c96ab\n""}, {'number': 7, 'created': '2014-12-25 12:34:36.000000000', 'files': ['nova/exception.py', 'nova/tests/unit/compute/test_compute_api.py', 'nova/compute/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/a6f5b0741e7cf4e0b4ed6bf14db1084e3232d608', 'message': ""Nova should not backup those vm boot from volume\n\nWhen doing backup on a vm which boot from cinder volume, it firstly\nshutdown vm and then do backup work. But it fails and the detail exception\nlog could be seen in the last part. When we need nova to backup a vm\nbooted from cinder volume, we could do this by using cinder's function----copy\nvolume to image. I think we could raise an exception when nova backup a vm\nfrom cinder volume.\n\nCloses-Bug: #1356737\nChange-Id: I1f36803b61521e4a552c91f0afe2cce4665c96ab\n""}]",6,122900,a6f5b0741e7cf4e0b4ed6bf14db1084e3232d608,58,13,7,11531,,,0,"Nova should not backup those vm boot from volume

When doing backup on a vm which boot from cinder volume, it firstly
shutdown vm and then do backup work. But it fails and the detail exception
log could be seen in the last part. When we need nova to backup a vm
booted from cinder volume, we could do this by using cinder's function----copy
volume to image. I think we could raise an exception when nova backup a vm
from cinder volume.

Closes-Bug: #1356737
Change-Id: I1f36803b61521e4a552c91f0afe2cce4665c96ab
",git fetch https://review.opendev.org/openstack/nova refs/changes/00/122900/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/compute/test_compute_api.py', 'nova/exception.py', 'nova/compute/api.py']",3,13282fd1baae19152e008a09247fbf825ccd51a5,bug/1356737," if self.is_volume_backed_instance(context, instance): msg = _(""Intance booted form volume."") raise exception.InvalidInstance(reason=msg) ",,13,0
openstack%2Fnova~master~I6cdb338b4f4dc7694e9ff2e1fec2c51c6413ce74,openstack/nova,master,I6cdb338b4f4dc7694e9ff2e1fec2c51c6413ce74,Add filter_properties parameter to unshelve_instance ComputeTask API,ABANDONED,2014-12-07 02:19:44.000000000,2015-05-13 17:22:55.000000000,,"[{'_account_id': 3}, {'_account_id': 1849}, {'_account_id': 5170}, {'_account_id': 5754}, {'_account_id': 6062}, {'_account_id': 7166}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 12299}]","[{'number': 1, 'created': '2014-12-07 02:19:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1f85a870150881693bf1b886d6d11f8aa4b60ac5', 'message': 'Add filter_properties parameter to unshelve_instance task API\n\nRescheduling need previous scheduling filter_properties, this patch\nenables pass the filter_properties to unshelve_instance task API.\n\nChange-Id: I6cdb338b4f4dc7694e9ff2e1fec2c51c6413ce74\nPartial-Bug: #1400015\n'}, {'number': 2, 'created': '2014-12-07 05:13:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/646dfc2a2765b6c37f7cce1479cd449a2e8f979a', 'message': 'Add filter_properties parameter to unshelve_instance task API\n\nRescheduling need previous scheduling filter_properties, this patch\nenables pass the filter_properties to unshelve_instance task API.\n\nChange-Id: I6cdb338b4f4dc7694e9ff2e1fec2c51c6413ce74\nPartial-Bug: #1400015\n'}, {'number': 3, 'created': '2014-12-07 07:40:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f7cb652f547f34138308c0f8c3d6ada8b546c46c', 'message': 'Add filter_properties parameter to unshelve_instance task API\n\nWhen enables rescheduling, it need retry info from previous scheduling.\nThis patch adds filter_properties parameter to unshelve_intsance task API,\nthat enables pass the previous scheduling retry info back.\n\nChange-Id: I6cdb338b4f4dc7694e9ff2e1fec2c51c6413ce74\nPartial-Bug: #1400015\n'}, {'number': 4, 'created': '2014-12-08 07:16:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3b1627dfd6ab1f23493c7d5b61a66642546c26dc', 'message': 'Add filter_properties parameter to unshelve_instance task API\n\nWhen enables rescheduling, it need retry info from previous scheduling.\nThis patch adds filter_properties parameter to unshelve_intsance task API,\nthat enables pass the previous scheduling retry info back.\n\nChange-Id: I6cdb338b4f4dc7694e9ff2e1fec2c51c6413ce74\nPartial-Bug: #1400015\n'}, {'number': 5, 'created': '2014-12-09 00:05:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2572d0731182a794e75b7d5fbec25cf34d7c357a', 'message': 'Add filter_properties parameter to unshelve_instance task API\n\nWhen enables rescheduling, it need retry info from previous scheduling.\nThis patch adds filter_properties parameter to unshelve_intsance task API,\nthat enables pass the previous scheduling retry info back.\n\nChange-Id: I6cdb338b4f4dc7694e9ff2e1fec2c51c6413ce74\nPartial-Bug: #1400015\n'}, {'number': 6, 'created': '2014-12-09 00:52:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b49096b47076474d76b1f494133dc116278ca89f', 'message': 'Add filter_properties parameter to unshelve_instance task API\n\nWhen enables rescheduling, it need retry info from previous scheduling.\nThis patch adds filter_properties parameter to unshelve_intsance task API,\nthat enables pass the previous scheduling retry info back.\n\nChange-Id: I6cdb338b4f4dc7694e9ff2e1fec2c51c6413ce74\nPartial-Bug: #1400015\n'}, {'number': 7, 'created': '2014-12-19 05:03:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9113022c6e024e81a6685bf6dc0764963c7ffe9c', 'message': 'Add filter_properties parameter to unshelve_instance task API\n\nWhen enables rescheduling, it need retry info from previous scheduling.\nThis patch adds filter_properties parameter to unshelve_intsance task API,\nthat enables pass the previous scheduling retry info back.\n\nChange-Id: I6cdb338b4f4dc7694e9ff2e1fec2c51c6413ce74\nPartial-Bug: #1400015\n'}, {'number': 8, 'created': '2014-12-19 05:06:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/90fa1ff73152e141c9df0bb049dc26f61f56e508', 'message': 'Add filter_properties parameter to unshelve_instance ComputeTask API\n\nWhen enables rescheduling, it need retry info from previous scheduling.\nThis patch adds filter_properties parameter to unshelve_instance ComputeTask API,\nthat enables pass the previous scheduling retry info back.\n\nChange-Id: I6cdb338b4f4dc7694e9ff2e1fec2c51c6413ce74\nPartial-Bug: #1400015\n'}, {'number': 9, 'created': '2014-12-19 08:52:54.000000000', 'files': ['nova/conductor/rpcapi.py', 'nova/conductor/api.py', 'nova/tests/unit/conductor/test_conductor.py', 'nova/conductor/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/ddc9adfa8576ff3813a496b3ed7780c7545bf447', 'message': 'Add filter_properties parameter to unshelve_instance ComputeTask API\n\nWhen enables rescheduling, it need retry info from previous scheduling.\nThis patch adds filter_properties parameter to unshelve_instance ComputeTask API,\nthat enables pass the previous scheduling retry info back.\n\nChange-Id: I6cdb338b4f4dc7694e9ff2e1fec2c51c6413ce74\nPartial-Bug: #1400015\n'}]",8,139844,ddc9adfa8576ff3813a496b3ed7780c7545bf447,60,11,9,5754,,,0,"Add filter_properties parameter to unshelve_instance ComputeTask API

When enables rescheduling, it need retry info from previous scheduling.
This patch adds filter_properties parameter to unshelve_instance ComputeTask API,
that enables pass the previous scheduling retry info back.

Change-Id: I6cdb338b4f4dc7694e9ff2e1fec2c51c6413ce74
Partial-Bug: #1400015
",git fetch https://review.opendev.org/openstack/nova refs/changes/44/139844/8 && git format-patch -1 --stdout FETCH_HEAD,"['nova/conductor/rpcapi.py', 'nova/conductor/api.py', 'nova/conductor/manager.py']",3,1f85a870150881693bf1b886d6d11f8aa4b60ac5,bug/1400015," target = messaging.Target(namespace='compute_task', version='1.11') def unshelve_instance(self, context, instance, filter_properties={}):"," target = messaging.Target(namespace='compute_task', version='1.10') def unshelve_instance(self, context, instance): filter_properties = {}",17,10
openstack%2Fnova~master~I2fcbd212c508ca1da0bf9249d30778aeebffad33,openstack/nova,master,I2fcbd212c508ca1da0bf9249d30778aeebffad33,Enables rescheduling when unshelve offloaded instance failed,ABANDONED,2014-12-07 02:19:44.000000000,2015-05-13 17:22:54.000000000,,"[{'_account_id': 3}, {'_account_id': 1849}, {'_account_id': 4393}, {'_account_id': 5170}, {'_account_id': 5754}, {'_account_id': 6062}, {'_account_id': 7166}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 12299}]","[{'number': 1, 'created': '2014-12-07 02:19:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2912df08c8f6bec02e476fcec56b3d683999cb97', 'message': 'Enable rescheduling when unshelve instance failed\n\nThis patches enable rescheduling when unshelve instance failed.\n\nChange-Id: I2fcbd212c508ca1da0bf9249d30778aeebffad33\nPartial-Bug: #1400015\n'}, {'number': 2, 'created': '2014-12-07 05:13:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1e87d0a511bc688b42ed77f4032d43d4188c5a6f', 'message': 'Enable rescheduling when unshelve instance failed\n\nThis patches enable rescheduling when unshelve instance failed.\n\nChange-Id: I2fcbd212c508ca1da0bf9249d30778aeebffad33\nPartial-Bug: #1400015\n'}, {'number': 3, 'created': '2014-12-07 07:40:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a25bd5c32363244b96a572fc0d6573f1f69fe27d', 'message': 'Enables rescheduling when unshelve offloaded instance failed\n\nThis patches enables rescheduling when unshelve instance failed\nby claim test failed.\n\nChange-Id: I2fcbd212c508ca1da0bf9249d30778aeebffad33\nPartial-Bug: #1400015\n'}, {'number': 4, 'created': '2014-12-08 07:16:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/76c5c059a21f0b2d8d9fe56c2c00cc3b7a086f11', 'message': 'Enables rescheduling when unshelve offloaded instance failed\n\nThis patches enables rescheduling when unshelve instance failed\nby claim test failed.\n\nChange-Id: I2fcbd212c508ca1da0bf9249d30778aeebffad33\nPartial-Bug: #1400015\n'}, {'number': 5, 'created': '2014-12-08 08:11:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c6b3dc8be4d501ae85fae094859df00392befa7c', 'message': 'Enables rescheduling when unshelve offloaded instance failed\n\nThis patches enables rescheduling when unshelve instance failed\nby claim test failed.\n\nChange-Id: I2fcbd212c508ca1da0bf9249d30778aeebffad33\nPartial-Bug: #1400015\n'}, {'number': 6, 'created': '2014-12-09 00:05:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/93cf4d9d53ed9a3023535093a09ff4b4d1027efb', 'message': 'Enables rescheduling when unshelve offloaded instance failed\n\nThis patches enables rescheduling when unshelve instance failed\nby claim test failed.\n\nChange-Id: I2fcbd212c508ca1da0bf9249d30778aeebffad33\nPartial-Bug: #1400015\n'}, {'number': 7, 'created': '2014-12-09 00:52:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7d8599540b8646d88cf4c038ad4fbd1f2c2198f0', 'message': 'Enables rescheduling when unshelve offloaded instance failed\n\nThis patches enables rescheduling when unshelve instance failed\nby claim test failed.\n\nChange-Id: I2fcbd212c508ca1da0bf9249d30778aeebffad33\nPartial-Bug: #1400015\n'}, {'number': 8, 'created': '2014-12-19 05:03:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6959d5fdf4e5759a43b83829dddfb3116248d15b', 'message': 'Enables rescheduling when unshelve offloaded instance failed\n\nThis patches enables rescheduling when unshelve instance failed\nby claim test failed.\n\nChange-Id: I2fcbd212c508ca1da0bf9249d30778aeebffad33\nPartial-Bug: #1400015\n'}, {'number': 9, 'created': '2014-12-19 05:06:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/540dfc6bb83b82d3a2e4b56b9503c5d2799cdac5', 'message': 'Enables rescheduling when unshelve offloaded instance failed\n\nThis patches enables rescheduling when unshelve instance failed\nby claim test failed.\n\nChange-Id: I2fcbd212c508ca1da0bf9249d30778aeebffad33\nPartial-Bug: #1400015\n'}, {'number': 10, 'created': '2014-12-19 08:52:54.000000000', 'files': ['nova/tests/unit/compute/test_shelve.py', 'nova/tests/unit/compute/test_compute.py', 'nova/conductor/manager.py', 'nova/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/c5b4416ed3f9e9eb8ee720408cf74a91de1e51d0', 'message': 'Enables rescheduling when unshelve offloaded instance failed\n\nThis patches enables rescheduling when unshelve instance failed\nby claim test failed.\n\nChange-Id: I2fcbd212c508ca1da0bf9249d30778aeebffad33\nPartial-Bug: #1400015\n'}]",8,139845,c5b4416ed3f9e9eb8ee720408cf74a91de1e51d0,61,12,10,5754,,,0,"Enables rescheduling when unshelve offloaded instance failed

This patches enables rescheduling when unshelve instance failed
by claim test failed.

Change-Id: I2fcbd212c508ca1da0bf9249d30778aeebffad33
Partial-Bug: #1400015
",git fetch https://review.opendev.org/openstack/nova refs/changes/45/139845/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/compute/manager.py'],1,2912df08c8f6bec02e476fcec56b3d683999cb97,bug/1400015," except exception.ComputeResourcesUnavailable as e: LOG.debug(e.format_message(), instance=instance) retry = filter_properties.get('retry', None) if not retry: # no retry information, do not reschedule. LOG.debug(""Retry info not present, will not reschedule"", instance=instance) self._set_instance_error_state(context, instance) return retry['exc'] = traceback.format_exception(*sys.exc_info()) instance.task_state = task_states.UNSHELVING instance.save() self.compute_task_api.unshelve_instance(context, instance, filter_properties)",,14,0
openstack%2Fnova~master~Ibb03a08c3b48b543519260fa9519533603503464,openstack/nova,master,Ibb03a08c3b48b543519260fa9519533603503464,Fix race for instance group with anti-affinity policy when unshelve,ABANDONED,2014-12-07 02:19:44.000000000,2015-05-13 17:22:53.000000000,,"[{'_account_id': 3}, {'_account_id': 1653}, {'_account_id': 1849}, {'_account_id': 5170}, {'_account_id': 5754}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-12-07 02:19:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b0c316d0b664677d0f7edc2796bbc8aa56917286', 'message': 'Fix race for instance group with anti-affinity policy when unshelve\n\nThis patch adds check to prevent violate the anti-affinity policy\nwhen unshelve offloaded instance.\n\nChange-Id: Ibb03a08c3b48b543519260fa9519533603503464\nPartial-Bug: #1400016\n'}, {'number': 2, 'created': '2014-12-07 05:13:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4932501582266f32b6c9fe3566b74a44632bc4e4', 'message': 'Fix race for instance group with anti-affinity policy when unshelve\n\nThis patch adds check to prevent violate the anti-affinity policy\nwhen unshelve offloaded instance.\n\nChange-Id: Ibb03a08c3b48b543519260fa9519533603503464\nPartial-Bug: #1400016\n'}, {'number': 3, 'created': '2014-12-07 07:40:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1aaf267404d1ad6a1c1c360bdf37c38ab83b7375', 'message': 'Fix race for instance group with anti-affinity policy when unshelve\n\nThis patch adds check to prevent violate the anti-affinity policy\nwhen unshelve offloaded instance.\n\nChange-Id: Ibb03a08c3b48b543519260fa9519533603503464\nPartial-Bug: #1400016\n'}, {'number': 4, 'created': '2014-12-08 07:16:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/afc4804730b0f8aabeb7d187752adb5003e04097', 'message': 'Fix race for instance group with anti-affinity policy when unshelve\n\nThis patch adds check to prevent violate the anti-affinity policy\nwhen unshelve offloaded instance.\n\nChange-Id: Ibb03a08c3b48b543519260fa9519533603503464\nPartial-Bug: #1400016\n'}, {'number': 5, 'created': '2014-12-08 08:11:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9981fd40475870d7dbaf30fc5b4159040f526063', 'message': 'Fix race for instance group with anti-affinity policy when unshelve\n\nThis patch adds check to prevent violate the anti-affinity policy\nwhen unshelve offloaded instance.\n\nChange-Id: Ibb03a08c3b48b543519260fa9519533603503464\nPartial-Bug: #1400016\n'}, {'number': 6, 'created': '2014-12-09 00:05:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7ac178187510a782ed9ee1d5e2d3eb1c1788db2d', 'message': 'Fix race for instance group with anti-affinity policy when unshelve\n\nThis patch adds check to prevent violate the anti-affinity policy\nwhen unshelve offloaded instance.\n\nChange-Id: Ibb03a08c3b48b543519260fa9519533603503464\nPartial-Bug: #1400016\n'}, {'number': 7, 'created': '2014-12-09 00:52:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a1ad48f391f00a4d4f2f5312242bac6617a82144', 'message': 'Fix race for instance group with anti-affinity policy when unshelve\n\nThis patch adds check to prevent violate the anti-affinity policy\nwhen unshelve offloaded instance.\n\nChange-Id: Ibb03a08c3b48b543519260fa9519533603503464\nPartial-Bug: #1400016\n'}, {'number': 8, 'created': '2014-12-09 02:12:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c5dbec55612ab4ce5e1d3aaa0845ed217eda4b64', 'message': 'Fix race for instance group with anti-affinity policy when unshelve\n\nThis patch adds check to prevent violate the anti-affinity policy\nwhen unshelve offloaded instance.\n\nChange-Id: Ibb03a08c3b48b543519260fa9519533603503464\nPartial-Bug: #1400016\n'}, {'number': 9, 'created': '2014-12-19 05:03:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/203a884224874db0f81da6c1d8ab0d2431d660b9', 'message': 'Fix race for instance group with anti-affinity policy when unshelve\n\nThis patch adds check to prevent violate the anti-affinity policy\nwhen unshelve offloaded instance.\n\nChange-Id: Ibb03a08c3b48b543519260fa9519533603503464\nPartial-Bug: #1400016\n'}, {'number': 10, 'created': '2014-12-19 05:06:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b6e2b4ec1e1432c42c3ff6cca5809caf98997124', 'message': 'Fix race for instance group with anti-affinity policy when unshelve\n\nThis patch adds check to prevent violate the anti-affinity policy\nwhen unshelve offloaded instance.\n\nChange-Id: Ibb03a08c3b48b543519260fa9519533603503464\nPartial-Bug: #1400016\n'}, {'number': 11, 'created': '2014-12-19 05:11:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/67b9cc47dc40a43d762204d295cdfa7ba14f8c15', 'message': 'Fix race for instance group with anti-affinity policy when unshelve\n\nThis patch adds check to prevent violating the anti-affinity policy\nwhen unshelve offloaded instance.\n\nChange-Id: Ibb03a08c3b48b543519260fa9519533603503464\nPartial-Bug: #1400016\n'}, {'number': 12, 'created': '2014-12-19 08:52:54.000000000', 'files': ['nova/tests/unit/compute/test_shelve.py', 'nova/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/51eb5294c293aa71f769896cd5489001cdc9ea88', 'message': 'Fix race for instance group with anti-affinity policy when unshelve\n\nThis patch adds check to prevent violating the anti-affinity policy\nwhen unshelve offloaded instance.\n\nChange-Id: Ibb03a08c3b48b543519260fa9519533603503464\nPartial-Bug: #1400016\n'}]",0,139846,51eb5294c293aa71f769896cd5489001cdc9ea88,61,9,12,5754,,,0,"Fix race for instance group with anti-affinity policy when unshelve

This patch adds check to prevent violating the anti-affinity policy
when unshelve offloaded instance.

Change-Id: Ibb03a08c3b48b543519260fa9519533603503464
Partial-Bug: #1400016
",git fetch https://review.opendev.org/openstack/nova refs/changes/46/139846/12 && git format-patch -1 --stdout FETCH_HEAD,['nova/compute/manager.py'],1,b0c316d0b664677d0f7edc2796bbc8aa56917286,bug/1400015," # NOTE(russellb) It's important that this validation be done # *after* the resource tracker instance claim, as that is where # the host is set on the instance. self._validate_instance_group_policy(context, instance, filter_properties) except (exception.RescheduledException, exception.ComputeResourcesUnavailable) as e:", except exception.ComputeResourcesUnavailable as e:,7,1
openstack%2Fnova~master~I969e76ce8ae0cfb2f1c5ce296dc086d1d92f6595,openstack/nova,master,I969e76ce8ae0cfb2f1c5ce296dc086d1d92f6595,Add API support for forced shutdown,ABANDONED,2015-01-16 19:32:06.000000000,2015-05-13 17:22:52.000000000,,"[{'_account_id': 3}, {'_account_id': 1501}, {'_account_id': 1849}, {'_account_id': 5170}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11103}]","[{'number': 1, 'created': '2015-01-16 19:32:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1897e100e770026101d0e307e3a13803dbeded14', 'message': 'Add API support for forced shutdown\n\nChange Iec3dfd17725440958aac395ebc471e51afd6522e added\nclean_shutdown support for stop, resize, rescue and\nshelve operations to the compute manager in Juno.\nThe default behavior is to give the GuestOS a chance to\nperform a clean shutdown.\n\nThis change adds a forced-shutdown option for those\noperations to the REST API\n\nChange-Id: I969e76ce8ae0cfb2f1c5ce296dc086d1d92f6595\nPartially-Implements: blueprint user-defined-shutdown\n'}, {'number': 2, 'created': '2015-01-16 19:32:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e069e9ca78aede6f22d0f7d94e1117cb772c80d8', 'message': 'Add API support for forced shutdown\n\nChange Iec3dfd17725440958aac395ebc471e51afd6522e added\nclean_shutdown support for stop, resize, rescue and\nshelve operations to the compute manager in Juno.\nThe default behavior is to give the GuestOS a chance to\nperform a clean shutdown.\n\nThis change adds a forced-shutdown option for those\noperations to the REST API\n\nChange-Id: I969e76ce8ae0cfb2f1c5ce296dc086d1d92f6595\nPartially-Implements: blueprint user-defined-shutdown\n'}, {'number': 3, 'created': '2015-01-16 19:36:01.000000000', 'files': ['nova/api/openstack/compute/contrib/force_shutdown.py', 'nova/api/openstack/compute/contrib/server_start_stop.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/744d614388ca0d9e8eb7ec5c508f8b0bd3dfebf2', 'message': 'Add API support for forced shutdown\n\n** WORK IN PROGRESS **\n\nChange Iec3dfd17725440958aac395ebc471e51afd6522e added\nclean_shutdown support for stop, resize, rescue and\nshelve operations to the compute manager in Juno.\nThe default behavior is to give the GuestOS a chance to\nperform a clean shutdown.\n\nThis change adds a forced-shutdown option for those\noperations to the REST API\n\nChange-Id: I969e76ce8ae0cfb2f1c5ce296dc086d1d92f6595\nPartially-Implements: blueprint user-defined-shutdown'}]",0,147965,744d614388ca0d9e8eb7ec5c508f8b0bd3dfebf2,15,9,3,1501,,,0,"Add API support for forced shutdown

** WORK IN PROGRESS **

Change Iec3dfd17725440958aac395ebc471e51afd6522e added
clean_shutdown support for stop, resize, rescue and
shelve operations to the compute manager in Juno.
The default behavior is to give the GuestOS a chance to
perform a clean shutdown.

This change adds a forced-shutdown option for those
operations to the REST API

Change-Id: I969e76ce8ae0cfb2f1c5ce296dc086d1d92f6595
Partially-Implements: blueprint user-defined-shutdown",git fetch https://review.opendev.org/openstack/nova refs/changes/65/147965/2 && git format-patch -1 --stdout FETCH_HEAD,['nova/api/openstack/compute/contrib/server_start_stop.py'],1,1897e100e770026101d0e307e3a13803dbeded14,bp/user-defined-shutdown,"from webob import excfrom nova.i18n import _LEfrom nova.openstack.common import log as logging LOG = logging.getLogger(__name__) def __init__(self, ext_mgr=None, *args, **kwargs): self.ext_mgr = ext_mgr clean_shutdown=True if self.ext_mgr.is_loaded('os-force-shutdown'): if body['os-stop'] and 'force-shutdown' in body['os-stop']: force_shutdown = body['os-stop']['force-shutdown'] if not isinstance(force_shutdown, bool): msg = _LE(""Argument 'force_shutdown-type' for stop must be a Boolean"") LOG.error(msg) raise exc.HTTPBadRequest(explanation=msg) clean_shutdown=not force_shutdown try: self.compute_api.stop(context, instance, clean_shutdown=clean_shutdown) controller = ServerStartStopActionController(self.ext_mgr)"," def __init__(self, *args, **kwargs): try: self.compute_api.stop(context, instance) controller = ServerStartStopActionController()",20,3
openstack%2Fnova~master~I2b07f9662675197dbb79125f1e0757828ff25a2f,openstack/nova,master,I2b07f9662675197dbb79125f1e0757828ff25a2f,Fixes several typos,ABANDONED,2014-09-18 23:34:00.000000000,2015-05-13 17:22:51.000000000,,"[{'_account_id': 3}, {'_account_id': 1849}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 7166}, {'_account_id': 9008}, {'_account_id': 9569}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 13300}]","[{'number': 1, 'created': '2014-09-18 23:34:00.000000000', 'files': ['nova/api/openstack/compute/contrib/security_groups.py', 'nova/scheduler/filters/utils.py', 'nova/virt/xenapi/vm_utils.py', 'nova/virt/xenapi/fake.py', 'nova/network/model.py', 'nova/cmd/manage.py', 'nova/compute/manager.py', 'nova/tests/db/test_db_api.py', 'nova/compute/resource_tracker.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/22e9bc26d571a5af8c4a8448c8274d9ea01e24a8', 'message': 'Fixes several typos\n\nMisspellings throughout several docstrings corrected.\n\nChange-Id: I2b07f9662675197dbb79125f1e0757828ff25a2f\n'}]",0,122565,22e9bc26d571a5af8c4a8448c8274d9ea01e24a8,26,11,1,13300,,,0,"Fixes several typos

Misspellings throughout several docstrings corrected.

Change-Id: I2b07f9662675197dbb79125f1e0757828ff25a2f
",git fetch https://review.opendev.org/openstack/nova refs/changes/65/122565/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/api/openstack/compute/contrib/security_groups.py', 'nova/scheduler/filters/utils.py', 'nova/virt/xenapi/vm_utils.py', 'nova/network/model.py', 'nova/virt/xenapi/fake.py', 'nova/cmd/manage.py', 'nova/compute/manager.py', 'nova/tests/db/test_db_api.py', 'nova/compute/resource_tracker.py']",9,22e9bc26d571a5af8c4a8448c8274d9ea01e24a8,," """"""Check to see if any resources have changed."""""""," """"""Check to see if any resouces have changed.""""""",10,10
openstack%2Fnova~master~I649dd3f696873c89db36b6cb8bcc68c6b21979ee,openstack/nova,master,I649dd3f696873c89db36b6cb8bcc68c6b21979ee,Replace `tearDown` with `addCleanup`,ABANDONED,2014-09-25 06:55:19.000000000,2015-05-13 17:22:50.000000000,,"[{'_account_id': 3}, {'_account_id': 1849}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 8412}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-09-25 06:55:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b6772d06d916e57cd976fc49e3662b615ef6bf2d', 'message': ""WIP Replace tearDown with addCleanup\n\nThe reason is that all addCleanup methods will be executed even if one\nof them fails, while a failure in tearDown method can leave the rest of\nthe tearDown un-executed, which can leave stale state laying around.\n\nMoreover, tearDown methods won't run if an exception raises in setUp\nmethod, while addCleanup will run in such case.\n\nChange-Id: I649dd3f696873c89db36b6cb8bcc68c6b21979ee\n""}, {'number': 2, 'created': '2014-09-25 06:56:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bd6fff3f03992a95201c3b35ee9ac92db6d4be7a', 'message': ""Replace `tearDown` with `addCleanup`\n\nThe reason is that all addCleanup methods will be executed even if one\nof them fails, while a failure in tearDown method can leave the rest of\nthe tearDown un-executed, which can leave stale state laying around.\n\nMoreover, tearDown methods won't run if an exception raises in setUp\nmethod, while addCleanup will run in such case.\n\nChange-Id: I649dd3f696873c89db36b6cb8bcc68c6b21979ee""}, {'number': 3, 'created': '2014-09-30 13:17:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/efc25311d01060ddf877cf3131ef150ece0580d1', 'message': ""Replace `tearDown` with `addCleanup`\n\nThe reason is that all addCleanup methods will be executed even if one\nof them fails, while a failure in tearDown method can leave the rest of\nthe tearDown un-executed, which can leave stale state laying around.\n\nMoreover, tearDown methods won't run if an exception raises in setUp\nmethod, while addCleanup will run in such case.\n\nChange-Id: I649dd3f696873c89db36b6cb8bcc68c6b21979ee\n""}, {'number': 4, 'created': '2014-10-21 08:05:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ec3d2053919057e4326246702dd7937add327076', 'message': ""Replace `tearDown` with `addCleanup`\n\nThe reason is that all addCleanup methods will be executed even if one\nof them fails, while a failure in tearDown method can leave the rest of\nthe tearDown un-executed, which can leave stale state laying around.\n\nMoreover, tearDown methods won't run if an exception raises in setUp\nmethod, while addCleanup will run in such case.\n\nChange-Id: I649dd3f696873c89db36b6cb8bcc68c6b21979ee\n""}, {'number': 5, 'created': '2014-11-26 15:46:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/be729a3f2b423d0fdc0f3c2c508b237e316f3609', 'message': ""Replace `tearDown` with `addCleanup`\n\nThe reason is that all addCleanup methods will be executed even if one\nof them fails, while a failure in tearDown method can leave the rest of\nthe tearDown un-executed, which can leave stale state laying around.\n\nMoreover, tearDown methods won't run if an exception raises in setUp\nmethod, while addCleanup will run in such case.\n\nChange-Id: I649dd3f696873c89db36b6cb8bcc68c6b21979ee\n""}, {'number': 6, 'created': '2014-12-02 16:00:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f84a95f63f0fe6d4c99c76b52f2471ce3c9111cd', 'message': ""Replace `tearDown` with `addCleanup`\n\nThe reason is that all addCleanup methods will be executed even if one\nof them fails, while a failure in tearDown method can leave the rest of\nthe tearDown un-executed, which can leave stale state laying around.\n\nMoreover, tearDown methods won't run if an exception raises in setUp\nmethod, while addCleanup will run in such case.\n\nChange-Id: I649dd3f696873c89db36b6cb8bcc68c6b21979ee\n""}, {'number': 7, 'created': '2014-12-03 11:21:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5a5a0e4077a015e6b5cbaa759c9ed7496e2abfe6', 'message': ""Replace `tearDown` with `addCleanup`\n\nThe reason is that all addCleanup methods will be executed even if one\nof them fails, while a failure in tearDown method can leave the rest of\nthe tearDown un-executed, which can leave stale state laying around.\n\nMoreover, tearDown methods won't run if an exception raises in setUp\nmethod, while addCleanup will run in such case.\n\nChange-Id: I649dd3f696873c89db36b6cb8bcc68c6b21979ee\n""}, {'number': 8, 'created': '2014-12-08 15:36:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9dbdcd6704750a2d3a571fd114d845f31bb733b2', 'message': ""Replace `tearDown` with `addCleanup`\n\nThe reason is that all addCleanup methods will be executed even if one\nof them fails, while a failure in tearDown method can leave the rest of\nthe tearDown un-executed, which can leave stale state laying around.\n\nMoreover, tearDown methods won't run if an exception raises in setUp\nmethod, while addCleanup will run in such case.\n\nChange-Id: I649dd3f696873c89db36b6cb8bcc68c6b21979ee\n""}, {'number': 9, 'created': '2014-12-10 14:20:21.000000000', 'files': ['nova/tests/unit/api/ec2/test_cinder_cloud.py', 'nova/tests/unit/virt/hyperv/test_hypervapi.py', 'nova/tests/functional/v3/test_floating_ips.py', 'nova/tests/unit/network/test_api.py', 'nova/tests/unit/virt/xenapi/test_xenapi.py', 'nova/tests/unit/api/openstack/compute/test_urlmap.py', 'nova/tests/unit/virt/vmwareapi/test_driver_api.py', 'nova/tests/unit/test_availability_zones.py', 'nova/tests/unit/virt/vmwareapi/test_imagecache.py', 'nova/tests/unit/virt/libvirt/test_imagebackend.py', 'nova/tests/unit/api/openstack/compute/contrib/test_floating_ips.py', 'nova/tests/unit/api/openstack/compute/test_limits.py', 'nova/tests/unit/virt/xenapi/test_vmops.py', 'nova/tests/unit/virt/vmwareapi/test_configdrive.py', 'nova/tests/unit/virt/libvirt/test_blockinfo.py', 'nova/tests/unit/virt/vmwareapi/test_vif.py', 'nova/tests/unit/compute/test_multiple_nodes.py', 'nova/tests/unit/compute/test_compute_cells.py', 'nova/tests/unit/virt/xenapi/test_vm_utils.py', 'nova/tests/unit/image/test_fake.py', 'nova/tests/unit/virt/test_virt_drivers.py', 'nova/tests/unit/api/openstack/compute/test_flavors.py', 'nova/tests/unit/api/openstack/compute/contrib/test_disk_config.py', 'nova/tests/unit/image/test_s3.py', 'nova/tests/unit/virt/libvirt/test_fakelibvirt.py', 'nova/tests/functional/integrated_helpers.py', 'nova/tests/functional/test_api_samples.py', 'nova/tests/unit/api/ec2/test_ec2_validate.py', 'nova/tests/unit/compute/test_compute.py', 'nova/tests/unit/test_instance_types_extra_specs.py', 'nova/tests/unit/api/openstack/compute/contrib/test_floating_ip_dns.py', 'nova/tests/unit/api/openstack/compute/contrib/test_neutron_security_groups.py', 'nova/tests/unit/compute/test_compute_utils.py', 'nova/tests/unit/virt/vmwareapi/test_ds_util.py', 'nova/tests/unit/virt/libvirt/test_driver.py', 'nova/tests/unit/test_wsgi.py', 'nova/tests/unit/test_objectstore.py', 'nova/tests/unit/virt/libvirt/test_rbd.py', 'nova/tests/unit/test_quota.py', 'nova/tests/unit/api/ec2/test_cloud.py', 'nova/tests/unit/db/test_db_api.py', 'nova/tests/unit/network/test_manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/97569b783e6e7165e283ba52b52551c401e288a3', 'message': ""Replace `tearDown` with `addCleanup`\n\nThe reason is that all addCleanup methods will be executed even if one\nof them fails, while a failure in tearDown method can leave the rest of\nthe tearDown un-executed, which can leave stale state laying around.\n\nMoreover, tearDown methods won't run if an exception raises in setUp\nmethod, while addCleanup will run in such case.\n\nChange-Id: I649dd3f696873c89db36b6cb8bcc68c6b21979ee\n""}]",7,123951,97569b783e6e7165e283ba52b52551c401e288a3,76,10,9,8412,,,0,"Replace `tearDown` with `addCleanup`

The reason is that all addCleanup methods will be executed even if one
of them fails, while a failure in tearDown method can leave the rest of
the tearDown un-executed, which can leave stale state laying around.

Moreover, tearDown methods won't run if an exception raises in setUp
method, while addCleanup will run in such case.

Change-Id: I649dd3f696873c89db36b6cb8bcc68c6b21979ee
",git fetch https://review.opendev.org/openstack/nova refs/changes/51/123951/8 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/virt/libvirt/test_imagebackend.py', 'nova/tests/virt/vmwareapi/test_ds_util.py', 'nova/tests/virt/xenapi/test_xenapi.py', 'nova/tests/integrated/v3/test_simple_tenant_usage.py', 'nova/tests/virt/vmwareapi/test_driver_api.py', 'nova/tests/api/openstack/compute/test_urlmap.py', 'nova/tests/compute/test_compute_utils.py', 'nova/tests/test_instance_types_extra_specs.py', 'nova/tests/test_quota.py', 'nova/tests/api/ec2/test_ec2_validate.py', 'nova/tests/virt/libvirt/test_rbd.py', 'nova/tests/api/ec2/test_cinder_cloud.py', 'nova/tests/compute/test_compute_cells.py', 'nova/tests/api/openstack/compute/contrib/test_disk_config.py', 'nova/tests/network/test_api.py', 'nova/tests/api/openstack/compute/contrib/test_neutron_security_groups.py', 'nova/tests/api/openstack/compute/contrib/test_floating_ip_dns.py', 'nova/tests/integrated/v3/test_services.py', 'nova/tests/image/test_s3.py', 'nova/tests/network/test_manager.py', 'nova/tests/virt/vmwareapi/test_vm_util.py', 'nova/tests/virt/baremetal/test_nova_baremetal_deploy_helper.py', 'nova/tests/test_objectstore.py', 'nova/tests/test_nova_manage.py', 'nova/tests/api/openstack/compute/contrib/test_instance_usage_audit_log.py', 'nova/tests/api/ec2/test_middleware.py', 'nova/tests/api/openstack/compute/test_flavors.py', 'nova/tests/virt/vmwareapi/test_configdrive.py', 'nova/tests/test_availability_zones.py', 'nova/tests/api/ec2/test_cloud.py', 'nova/tests/api/openstack/compute/test_limits.py', 'nova/tests/compute/test_compute.py', 'nova/tests/compute/test_multiple_nodes.py', 'nova/tests/virt/vmwareapi/test_imagecache.py', 'nova/tests/integrated/test_api_samples.py', 'nova/tests/db/test_db_api.py', 'nova/tests/virt/libvirt/test_driver.py', 'nova/tests/virt/libvirt/test_fakelibvirt.py', 'nova/tests/virt/libvirt/test_blockinfo.py', 'nova/tests/api/openstack/compute/contrib/test_floating_ips.py', 'nova/tests/test_cinder.py', 'nova/tests/image/test_fake.py', 'nova/tests/integrated/integrated_helpers.py', 'nova/tests/virt/xenapi/test_vmops.py', 'nova/tests/virt/xenapi/test_vm_utils.py', 'nova/tests/test_wsgi.py', 'nova/tests/virt/hyperv/test_hypervapi.py', 'nova/tests/virt/vmwareapi/test_vif.py', 'nova/tests/cells/test_cells_weights.py', 'nova/tests/virt/test_virt_drivers.py', 'nova/tests/test_utils.py']",51,b6772d06d916e57cd976fc49e3662b615ef6bf2d,Remove_set_time_override, self.addCleanup(timeutils.clear_time_override)," def tearDown(self): timeutils.clear_time_override() super(AuditPeriodTest, self).tearDown()",115,244
openstack%2Fnova~master~Ic8eca0311551ae97505a6b9150f8c7f954e70ad0,openstack/nova,master,Ic8eca0311551ae97505a6b9150f8c7f954e70ad0,Enable rescheduling for evacuate,ABANDONED,2014-12-19 08:02:45.000000000,2015-05-13 17:22:48.000000000,,"[{'_account_id': 3}, {'_account_id': 1849}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 5754}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-12-19 08:02:45.000000000', 'files': ['nova/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/b7f0f9ba282658309f86966435ba216db21ef49d', 'message': 'Enable rescheduling for evacuate\n\nThis patch enable rescheduling when evacuate instance failed\nby claim resource.\n\nChange-Id: Ic8eca0311551ae97505a6b9150f8c7f954e70ad0\nPartial-Bug: #1400016\n'}]",0,143011,b7f0f9ba282658309f86966435ba216db21ef49d,15,9,1,5754,,,0,"Enable rescheduling for evacuate

This patch enable rescheduling when evacuate instance failed
by claim resource.

Change-Id: Ic8eca0311551ae97505a6b9150f8c7f954e70ad0
Partial-Bug: #1400016
",git fetch https://review.opendev.org/openstack/nova refs/changes/11/143011/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/compute/manager.py'],1,b7f0f9ba282658309f86966435ba216db21ef49d,rebuild_schedule," limits = filter_properties.get('limits', {}) except exception.ComputeResourcesUnavailable as e: retry = filter_properties.get('retry', None) if not retry: # no retry information, do not reschedule. LOG.debug(""Retry info not present, will not "" ""reschedule"", instance=instance) self._set_instance_error_state(context, instance) return LOG.debug(e.format_message(), instance=instance) retry['exc'] = traceback.format_exception(*sys.exc_info()) instance.task_state = task_states.REBUILDING instance.save() self.compute_task_api.rebuild_instance(context, instance=instance, new_pass=new_pass, injected_files=None, image_ref=None, orig_image_ref=None, orig_sys_metadata=None, bdms=None, recreate=True, on_shared_storage=on_shared_storage)", limits = {},23,1
openstack%2Fnova~master~Iface011b35cf34db8726d704a4d6b88605769d06,openstack/nova,master,Iface011b35cf34db8726d704a4d6b88605769d06,Add filter_properties to rebuild_instance ComputeTask API,ABANDONED,2014-12-19 08:02:45.000000000,2015-05-13 17:22:47.000000000,,"[{'_account_id': 3}, {'_account_id': 1849}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 5754}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-12-19 08:02:45.000000000', 'files': ['nova/conductor/rpcapi.py', 'nova/conductor/api.py', 'nova/tests/unit/conductor/test_conductor.py', 'nova/conductor/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/1093c98a75b94dd412d1b3fda2999ab8c048c258', 'message': 'Add filter_properties to rebuild_instance ComputeTask API\n\nThis patch adds new parameter filter_properties into rebuild_instance\nComputeTask API. That parameter is used to pass the retry info back.\n\nChange-Id: Iface011b35cf34db8726d704a4d6b88605769d06\nPartial-Bug: #1400015\n'}]",0,143009,1093c98a75b94dd412d1b3fda2999ab8c048c258,15,9,1,5754,,,0,"Add filter_properties to rebuild_instance ComputeTask API

This patch adds new parameter filter_properties into rebuild_instance
ComputeTask API. That parameter is used to pass the retry info back.

Change-Id: Iface011b35cf34db8726d704a4d6b88605769d06
Partial-Bug: #1400015
",git fetch https://review.opendev.org/openstack/nova refs/changes/09/143009/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/conductor/rpcapi.py', 'nova/conductor/api.py', 'nova/tests/unit/conductor/test_conductor.py', 'nova/conductor/manager.py']",4,1093c98a75b94dd412d1b3fda2999ab8c048c258,rebuild_schedule," preserve_ephemeral=False, host=None, filter_properties=None): if not filter_properties: filter_properties = {} filter_properties['ignore_hosts'] = [instance.host]"," preserve_ephemeral=False, host=None): filter_properties = {'ignore_hosts': [instance.host]}",36,13
openstack%2Ftempest~master~Ic77997fbed9ff1da4cde7f35955d0381a13c49bf,openstack/tempest,master,Ic77997fbed9ff1da4cde7f35955d0381a13c49bf,Switch use of hashing strings to unicode in accounts,MERGED,2015-04-23 15:46:37.000000000,2015-05-13 17:22:46.000000000,2015-05-11 06:35:19.000000000,"[{'_account_id': 3}, {'_account_id': 1192}, {'_account_id': 5196}, {'_account_id': 6167}, {'_account_id': 7020}, {'_account_id': 8871}, {'_account_id': 10385}]","[{'number': 1, 'created': '2015-04-23 15:46:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/fc06e09cc0b963ae4cf4aa8e1e6c930a78c201b4', 'message': 'Switch use of hashing strings to unicode in accounts\n\nThis commit switches all the uses of a str cast on hashed indexes in\nthe accounts provider code to use six.string_type casts instead. This\nis to ensure python3 compat which uses unicode as the default string\ntype. However, as part of this the strings need to be encoded\nmanually before they can be consumed by hashlib. As part of this\nthe unit tests also needed to be updated slightly to take this into\naccount.\n\nChange-Id: Ic77997fbed9ff1da4cde7f35955d0381a13c49bf\n'}, {'number': 2, 'created': '2015-04-23 16:00:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/dc382206261529b8ee4738dc3a46cba2888a704c', 'message': 'Switch use of hashing strings to unicode in accounts\n\nThis commit switches all the uses of a str cast on hashed indexes in\nthe accounts provider code to use six.string_type casts instead. This\nis to ensure python3 compat which uses unicode as the default string\ntype. However, as part of this the strings need to be encoded\nmanually before they can be consumed by hashlib. As part of this\nthe unit tests also needed to be updated slightly to take this into\naccount.\n\nChange-Id: Ic77997fbed9ff1da4cde7f35955d0381a13c49bf\n'}, {'number': 3, 'created': '2015-04-24 14:57:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/ce48525bd86307096427907649df4ef381a703a6', 'message': 'Switch use of hashing strings to unicode in accounts\n\nThis commit switches all the uses of a str cast on hashed indexes in\nthe accounts provider code to use six.string_type casts instead. This\nis to ensure python3 compat which uses unicode as the default string\ntype. However, as part of this the strings need to be encoded\nmanually before they can be consumed by hashlib. As part of this\nthe unit tests also needed to be updated slightly to take this into\naccount.\n\nChange-Id: Ic77997fbed9ff1da4cde7f35955d0381a13c49bf\n'}, {'number': 4, 'created': '2015-04-27 14:39:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/d6b620a7a368ff0f65afd6e2cc33e856c8bea863', 'message': 'Switch use of hashing strings to unicode in accounts\n\nThis commit switches all the uses of a str cast on hashed indexes in\nthe accounts provider code to use six.string_type casts instead. This\nis to ensure python3 compat which uses unicode as the default string\ntype. However, as part of this the strings need to be encoded\nmanually before they can be consumed by hashlib. As part of this\nthe unit tests also needed to be updated slightly to take this into\naccount.\n\nChange-Id: Ic77997fbed9ff1da4cde7f35955d0381a13c49bf\n'}, {'number': 5, 'created': '2015-05-01 21:34:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/60430529f38428e27aa163cb06dc9f1c448cdaf0', 'message': 'Switch use of hashing strings to unicode in accounts\n\nThis commit switches all the uses of a str cast on hashed indexes in\nthe accounts provider code to use six.string_type casts instead. This\nis to ensure python3 compat which uses unicode as the default string\ntype. However, as part of this the strings need to be encoded\nmanually before they can be consumed by hashlib. As part of this\nthe unit tests also needed to be updated slightly to take this into\naccount.\n\nChange-Id: Ic77997fbed9ff1da4cde7f35955d0381a13c49bf\n'}, {'number': 6, 'created': '2015-05-10 17:08:13.000000000', 'files': ['tempest/tests/common/test_accounts.py', 'tempest/common/accounts.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/1c517a22cadf916312fb302e5b1c369df398874a', 'message': 'Switch use of hashing strings to unicode in accounts\n\nThis commit switches all the uses of a str cast on hashed indexes in\nthe accounts provider code to use six.string_type casts instead. This\nis to ensure python3 compat which uses unicode as the default string\ntype. However, as part of this the strings need to be encoded\nmanually before they can be consumed by hashlib. As part of this\nthe unit tests also needed to be updated slightly to take this into\naccount.\n\nChange-Id: Ic77997fbed9ff1da4cde7f35955d0381a13c49bf\n'}]",1,176862,1c517a22cadf916312fb302e5b1c369df398874a,25,7,6,5196,,,0,"Switch use of hashing strings to unicode in accounts

This commit switches all the uses of a str cast on hashed indexes in
the accounts provider code to use six.string_type casts instead. This
is to ensure python3 compat which uses unicode as the default string
type. However, as part of this the strings need to be encoded
manually before they can be consumed by hashlib. As part of this
the unit tests also needed to be updated slightly to take this into
account.

Change-Id: Ic77997fbed9ff1da4cde7f35955d0381a13c49bf
",git fetch https://review.opendev.org/openstack/tempest refs/changes/62/176862/6 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/tests/common/test_accounts.py', 'tempest/common/accounts.py']",2,fc06e09cc0b963ae4cf4aa8e1e6c930a78c201b4,python3-support,"import six temp_hash.update(six.text_type(account).encode('utf-8')) exist_creds = self.isolated_creds.get(six.text_type(roles).encode( 'utf-8'), None) new_index = six.text_type(roles).encode('utf-8') + '-' + \ six.text_type(len(self.isolated_creds)).encode('utf-8') self.isolated_creds[six.text_type(roles).encode('utf-8')] = net_creds"," temp_hash.update(str(account)) exist_creds = self.isolated_creds.get(str(roles), None) new_index = str(roles) + '-' + str(len(self.isolated_creds)) self.isolated_creds[str(roles)] = net_creds",10,6
openstack%2Fnova~master~Icac6edb87c225a8d769866525f84d6783d1100ed,openstack/nova,master,Icac6edb87c225a8d769866525f84d6783d1100ed,Add filter_properties to rebuild_instance compute API,ABANDONED,2014-12-19 08:02:45.000000000,2015-05-13 17:22:45.000000000,,"[{'_account_id': 3}, {'_account_id': 1849}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 5754}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-12-19 08:02:45.000000000', 'files': ['nova/tests/unit/compute/test_rpcapi.py', 'nova/conductor/manager.py', 'nova/compute/manager.py', 'nova/compute/rpcapi.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/8d2cc2cd32c384808968831dc90d6c8f54b8cbcd', 'message': 'Add filter_properties to rebuild_instance compute API\n\nThis patch adds new parameter filter_properties to rebuild_instance.\nThat parameter is used to pass retry info back for enabling the\nrescheduling for rebuild_instance.\n\nChange-Id: Icac6edb87c225a8d769866525f84d6783d1100ed\nPartial-Bug: #1400016\n'}]",0,143010,8d2cc2cd32c384808968831dc90d6c8f54b8cbcd,16,9,1,5754,,,0,"Add filter_properties to rebuild_instance compute API

This patch adds new parameter filter_properties to rebuild_instance.
That parameter is used to pass retry info back for enabling the
rescheduling for rebuild_instance.

Change-Id: Icac6edb87c225a8d769866525f84d6783d1100ed
Partial-Bug: #1400016
",git fetch https://review.opendev.org/openstack/nova refs/changes/10/143010/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_rpcapi.py', 'nova/conductor/manager.py', 'nova/compute/manager.py', 'nova/compute/rpcapi.py']",4,8d2cc2cd32c384808968831dc90d6c8f54b8cbcd,rebuild_schedule," * 3.38 - Add filter_properties to rebuild_instance preserve_ephemeral=False, filter_properties=None, kwargs=None): version = '3.38' if self.client.can_send_version(version): cctxt = self.client.prepare(server=_compute_host(host, instance), extra['filter_properties'] = filter_properties else: version = '3.21' cctxt = self.client.prepare(server=_compute_host(host, instance), version=version)"," preserve_ephemeral=False, kwargs=None): version = '3.21' cctxt = self.client.prepare(server=_compute_host(host, instance),",16,6
openstack%2Fpython-novaclient~master~Ifa2867d5969c2917c90b4167d17e4bc19b809289,openstack/python-novaclient,master,Ifa2867d5969c2917c90b4167d17e4bc19b809289,WIP Adopt server-side sorting guidelines,ABANDONED,2015-01-23 17:56:22.000000000,2015-05-13 17:22:44.000000000,,"[{'_account_id': 3}, {'_account_id': 679}, {'_account_id': 1849}, {'_account_id': 10559}]","[{'number': 1, 'created': '2015-01-23 17:56:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/93254ff8af0ecd50b1b139652270ef9a03b5336c', 'message': ""WIP Adopt server-side sorting guidelines\n\nCommit I635e017c7f9ab61812333983bfecccd6fce8d394 added client support for\nsorting using the --sort <key>[:<direction>] syntax and invoked the server\nusing repeating 'sort_key' and 'sort_dir' parameters.\n\nThe server is adopting the sorting syntax guidelines defined in [1] and\nremoving support for repeating 'sort_key' and 'sort_dir' parameters in patch\nset [2]; this patch set makes the corresponding parameter change in the\nclient.\n\nPatch set contains:\n* Switching from the 'sort_key' and 'sort_dir' query string parameters to\n  the single 'sort' parameter\n* Removing the default sort direction, relying on the default to be set on\n  the server\n\nWIP until server patch [2] is merged.\n\n[1] https://review.openstack.org/#/c/145579/\n[2] https://review.openstack.org/#/c/149417/\n\nChange-Id: Ifa2867d5969c2917c90b4167d17e4bc19b809289\n""}, {'number': 2, 'created': '2015-01-23 22:41:06.000000000', 'files': ['novaclient/v1_1/servers.py', 'novaclient/tests/v1_1/test_shell.py', 'novaclient/v1_1/shell.py', 'novaclient/utils.py', 'novaclient/tests/test_utils.py', 'novaclient/tests/v1_1/test_servers.py'], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/d64ce6f9e1963718df8fc6b8058001a7e42d2dee', 'message': ""WIP Adopt server-side sorting guidelines\n\nCommit I635e017c7f9ab61812333983bfecccd6fce8d394 added client support for\nsorting using the --sort <key>[:<direction>] syntax and invoked the server\nusing repeating 'sort_key' and 'sort_dir' parameters.\n\nThe server is adopting the sorting syntax guidelines defined in [1] and\nremoving support for repeating 'sort_key' and 'sort_dir' parameters in patch\nset [2]; this patch set makes the corresponding parameter change in the\nclient.\n\nPatch set contains:\n* Switching from the 'sort_key' and 'sort_dir' query string parameters to\n  the single 'sort' parameter\n* Removing the default sort direction, relying on the default to be set on\n  the server\n\nWIP until server patch [2] is merged.\n\n[1] https://review.openstack.org/#/c/145579/\n[2] https://review.openstack.org/#/c/149417/\n\nChange-Id: Ifa2867d5969c2917c90b4167d17e4bc19b809289\n""}]",3,149693,d64ce6f9e1963718df8fc6b8058001a7e42d2dee,11,4,2,10559,,,0,"WIP Adopt server-side sorting guidelines

Commit I635e017c7f9ab61812333983bfecccd6fce8d394 added client support for
sorting using the --sort <key>[:<direction>] syntax and invoked the server
using repeating 'sort_key' and 'sort_dir' parameters.

The server is adopting the sorting syntax guidelines defined in [1] and
removing support for repeating 'sort_key' and 'sort_dir' parameters in patch
set [2]; this patch set makes the corresponding parameter change in the
client.

Patch set contains:
* Switching from the 'sort_key' and 'sort_dir' query string parameters to
  the single 'sort' parameter
* Removing the default sort direction, relying on the default to be set on
  the server

WIP until server patch [2] is merged.

[1] https://review.openstack.org/#/c/145579/
[2] https://review.openstack.org/#/c/149417/

Change-Id: Ifa2867d5969c2917c90b4167d17e4bc19b809289
",git fetch https://review.opendev.org/openstack/python-novaclient refs/changes/93/149693/2 && git format-patch -1 --stdout FETCH_HEAD,"['novaclient/v1_1/servers.py', 'novaclient/tests/v1_1/test_shell.py', 'novaclient/v1_1/shell.py', 'novaclient/tests/v1_1/test_servers.py']",4,93254ff8af0ecd50b1b139652270ef9a03b5336c,sort_params,"from six.moves.urllib import parse url = ('/servers/detail?%s' % parse.urlencode({'sort': 'display_name:asc'})) self.assert_called('GET', (url)) url = ('/servers/detail?%s' % parse.urlencode({'sort': 'display_name:asc,id:desc'})) self.assert_called('GET', url)"," self.assert_called( 'GET', '/servers/detail?sort_dir=asc&sort_key=display_name') self.assert_called( 'GET', ('/servers/detail?sort_dir=asc&sort_dir=desc&' 'sort_key=display_name&sort_key=id'))",47,37
openstack%2Fnova~master~Id31b34c02a14cacdeb128bc1641e92e3e8b7f14b,openstack/nova,master,Id31b34c02a14cacdeb128bc1641e92e3e8b7f14b,Populate retry info in rebuild_instance for ComputeTask API,ABANDONED,2014-12-19 08:02:45.000000000,2015-05-13 17:22:43.000000000,,"[{'_account_id': 3}, {'_account_id': 1849}, {'_account_id': 5170}, {'_account_id': 6802}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 12299}]","[{'number': 1, 'created': '2014-12-19 08:02:45.000000000', 'files': ['nova/tests/unit/conductor/test_conductor.py', 'nova/conductor/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/63a8d0c4262e1752ce23bb1d0b707fd9dee16de0', 'message': 'Populate retry info in rebuild_instance for ComputeTask API\n\nThis patch add code to populate retry info in rebuild task. The\nretry info can be used to rescheduling.\n\nChange-Id: Id31b34c02a14cacdeb128bc1641e92e3e8b7f14b\nPartial-Bug: #1400015\n'}]",1,143008,63a8d0c4262e1752ce23bb1d0b707fd9dee16de0,11,9,1,5754,,,0,"Populate retry info in rebuild_instance for ComputeTask API

This patch add code to populate retry info in rebuild task. The
retry info can be used to rescheduling.

Change-Id: Id31b34c02a14cacdeb128bc1641e92e3e8b7f14b
Partial-Bug: #1400015
",git fetch https://review.opendev.org/openstack/nova refs/changes/08/143008/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/conductor/test_conductor.py', 'nova/conductor/manager.py']",2,63a8d0c4262e1752ce23bb1d0b707fd9dee16de0,rebuild_schedule," scheduler_utils.populate_retry(filter_properties, instance.uuid) scheduler_utils.populate_filter_properties( filter_properties, hosts[0])",,22,9
openstack%2Fnova~master~I039aa18ed1c91613b4cdfa8a255acf41f2a226f9,openstack/nova,master,I039aa18ed1c91613b4cdfa8a255acf41f2a226f9,Network: attach_interface should not be a blocking operation,ABANDONED,2014-06-27 11:28:34.000000000,2015-05-13 17:22:41.000000000,,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 1653}, {'_account_id': 1849}, {'_account_id': 2750}, {'_account_id': 4393}, {'_account_id': 5170}, {'_account_id': 5292}, {'_account_id': 5754}, {'_account_id': 8412}, {'_account_id': 8574}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9172}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11274}]","[{'number': 1, 'created': '2014-06-27 11:28:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fff45948b5e0874a6edc3539163ffe6b9464e676', 'message': ""Network: attach_interface should not be a blocking operation\n\nThe attachment of the interface was a 'call'. This blocks the API\nuntil the compute node has completed the opertaion. In some cases\nwhen the compute node was loaded this would take more than a minute.\nThis means that the API is blocked for that period of time. The\napplication attaching the interface should not be blocked. If the\nissue is waiting for an IP address etc., then application should be\ndeveloped to take into account standard network opertaions - for\nexample it make take a few seconds to get a DHCP address.\n\nChange-Id: I039aa18ed1c91613b4cdfa8a255acf41f2a226f9\nCloses-bug: #1335078\n""}, {'number': 2, 'created': '2014-06-27 14:46:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/91ffd5f3b1e4d4ced9c42434e10924a91865ca40', 'message': ""Network: attach_interface should not be a blocking operation\n\nThe attachment of the interface was a 'call'. This blocks the API\nuntil the compute node has completed the opertaion. In some cases\nwhen the compute node was loaded this would take more than a minute.\nThis means that the API is blocked for that period of time. The\napplication attaching the interface should not be blocked. If the\nissue is waiting for an IP address etc., then application should be\ndeveloped to take into account standard network opertaions - for\nexample it make take a few seconds to get a DHCP address.\n\nChange-Id: I039aa18ed1c91613b4cdfa8a255acf41f2a226f9\nCloses-bug: #1335078\n""}, {'number': 3, 'created': '2014-06-29 15:04:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a38d3bbee212c8cb0e4453f04cfc4e6edb173904', 'message': ""Network: attach_interface should not be a blocking operation\n\nThe attachment of the interface was a 'call'. This blocks the API\nuntil the compute node has completed the opertaion. In some cases\nwhen the compute node was loaded this would take more than a minute.\nThis means that the API is blocked for that period of time. The\napplication attaching the interface should not be blocked. If the\nissue is waiting for an IP address etc., then application should be\ndeveloped to take into account standard network opertaions - for\nexample it make take a few seconds to get a DHCP address.\n\nDocImpact\n - API will return 202 instead of 200\n\nChange-Id: I039aa18ed1c91613b4cdfa8a255acf41f2a226f9\nCloses-bug: #1335078\n""}, {'number': 4, 'created': '2014-06-30 07:47:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7131243dd17c125cd102bdf3e20c59629f1f1873', 'message': ""Network: attach_interface should not be a blocking operation\n\nThe attachment of the interface was a 'call'. This blocks the API\nuntil the compute node has completed the opertaion. In some cases\nwhen the compute node was loaded this would take more than a minute.\nThis means that the API is blocked for that period of time. The\napplication attaching the interface should not be blocked. If the\nissue is waiting for an IP address etc., then application should be\ndeveloped to take into account standard network operations - for\nexample it make take a few seconds to get a DHCP address.\n\nThis change is only valid for the V3 API. The V2 API cannot be\nupdated as we need to ensure backwards compatibility.\n\nDocImpact\n - V3 API for interface attachment will return 202 instead of 200\n\nChange-Id: I039aa18ed1c91613b4cdfa8a255acf41f2a226f9\nCloses-bug: #1335078\n""}, {'number': 5, 'created': '2014-06-30 10:18:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f843f3df63a0ddf4b60510f115c77d0b14ff4767', 'message': ""Network: attach_interface should not be a blocking operation\n\nThe attachment of the interface was a 'call'. This blocks the API\nuntil the compute node has completed the opertaion. In some cases\nwhen the compute node was loaded this would take more than a minute.\nThis means that the API is blocked for that period of time. The\napplication attaching the interface should not be blocked. If the\nissue is waiting for an IP address etc., then application should be\ndeveloped to take into account standard network operations - for\nexample it make take a few seconds to get a DHCP address.\n\nThis change is only valid for the V3 API. The V2 API cannot be\nupdated as we need to ensure backwards compatibility.\n\nDocImpact\n - V3 API for interface attachment will return 202 instead of 200\n\nChange-Id: I039aa18ed1c91613b4cdfa8a255acf41f2a226f9\nCloses-bug: #1335078\n""}, {'number': 6, 'created': '2014-06-30 11:23:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fea93992a7c3a369ad7c0579b692827d730bf3a4', 'message': ""Network: attach_interface should not be a blocking operation\n\nThe attachment of the interface was a 'call'. This blocks the API\nuntil the compute node has completed the opertaion. In some cases\nwhen the compute node was loaded this would take more than a minute.\nThis means that the API is blocked for that period of time. The\napplication attaching the interface should not be blocked. If the\nissue is waiting for an IP address etc., then application should be\ndeveloped to take into account standard network operations - for\nexample it make take a few seconds to get a DHCP address.\n\nThis change is only valid for the V3 API. The V2 API cannot be\nupdated as we need to ensure backwards compatibility.\n\nDocImpact\n - V3 API for interface attachment will return 202 instead of 200\n\nChange-Id: I039aa18ed1c91613b4cdfa8a255acf41f2a226f9\nCloses-bug: #1335078\n""}, {'number': 7, 'created': '2014-07-06 15:06:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/84c12013d857578fcd3d1d4c2806e25f9a5aa8ec', 'message': ""Network: attach_interface should not be a blocking operation\n\nThe attachment of the interface was a 'call'. This blocks the API\nuntil the compute node has completed the operation. In some cases\nwhen the compute node was under load this would about a minute.\nThis means that the API is blocked for that period of time. The\napplication attaching the interface should not be blocked. If the\nissue is waiting for an IP address etc., then application should be\ndeveloped to take into account standard network operations - for\nexample it make take a few seconds to get a DHCP address.\n\nThis change is only valid for the V3 API. The V2 API cannot be\nupdated as we need to ensure backwards compatibility.\n\nDocImpact\n - V3 API for interface attachment will return 202 instead of 200\n\nChange-Id: I039aa18ed1c91613b4cdfa8a255acf41f2a226f9\nCloses-bug: #1335078\n""}, {'number': 8, 'created': '2014-07-08 05:56:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cc82d704b804d9f98211ea60a12162d172e4bd18', 'message': ""Network: attach_interface should not be a blocking operation\n\nThe attachment of the interface was a 'call'. This blocks the API\nuntil the compute node has completed the operation. In some cases\nwhen the compute node was under load this would about a minute.\nThis means that the API is blocked for that period of time. The\napplication attaching the interface should not be blocked. If the\nissue is waiting for an IP address etc., then application should be\ndeveloped to take into account standard network operations - for\nexample it make take a few seconds to get a DHCP address.\n\nThis change is only valid for the V3 API. The V2 API cannot be\nupdated as we need to ensure backwards compatibility.\n\nDocImpact\n - V3 API for interface attachment will return 202 instead of 200\n\nChange-Id: I039aa18ed1c91613b4cdfa8a255acf41f2a226f9\nCloses-bug: #1335078\n""}, {'number': 9, 'created': '2014-07-08 08:43:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/54332f6d95b4f18be819cfab21b3bc3a72a3b083', 'message': ""Network: attach_interface should not be a blocking operation\n\nThe attachment of the interface was a 'call'. This blocks the API\nuntil the compute node has completed the operation. In some cases\nwhen the compute node was under load this would take about a minute.\nThis means that the API is blocked for that period of time. The\napplication attaching the interface should not be blocked. If the\nissue is waiting for an IP address etc., then application should be\ndeveloped to take into account standard network operations - for\nexample it make take a few seconds to get a DHCP address.\n\nThis change is only valid for the V3 API. The V2 API cannot be\nupdated as we need to ensure backwards compatibility.\n\nDocImpact\n - V3 API for interface attachment will return 202 instead of 200\n\nChange-Id: I039aa18ed1c91613b4cdfa8a255acf41f2a226f9\nCloses-bug: #1335078\n""}, {'number': 10, 'created': '2014-08-03 12:08:56.000000000', 'files': ['doc/v3/api_samples/os-attach-interfaces/attach-interfaces-create-resp.json', 'nova/tests/api/openstack/compute/plugins/v3/test_attach_interfaces.py', 'nova/tests/integrated/v3/api_samples/os-attach-interfaces/attach-interfaces-create-resp.json.tpl', 'nova/tests/integrated/v3/test_attach_interfaces.py', 'nova/tests/compute/test_rpcapi.py', 'nova/compute/rpcapi.py', 'nova/api/openstack/compute/plugins/v3/attach_interfaces.py', 'nova/compute/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/d2fc2adeb72f31b0de393cec9409fae85adb99d0', 'message': ""Network: attach_interface should not be a blocking operation\n\nThe attachment of the interface was a 'call'. This blocks the API\nuntil the compute node has completed the operation. In some cases\nwhen the compute node was under load this would take about a minute.\nThis means that the API is blocked for that period of time. The\napplication attaching the interface should not be blocked. If the\nissue is waiting for an IP address etc., then application should be\ndeveloped to take into account standard network operations - for\nexample it make take a few seconds to get a DHCP address.\n\nThis change is only valid for the V3 API. The V2 API cannot be\nupdated as we need to ensure backwards compatibility.\n\nDocImpact\n - V3 API for interface attachment will return 202 instead of 200\n\nChange-Id: I039aa18ed1c91613b4cdfa8a255acf41f2a226f9\nCloses-bug: #1335078\n""}]",18,103094,d2fc2adeb72f31b0de393cec9409fae85adb99d0,142,18,10,1653,,,0,"Network: attach_interface should not be a blocking operation

The attachment of the interface was a 'call'. This blocks the API
until the compute node has completed the operation. In some cases
when the compute node was under load this would take about a minute.
This means that the API is blocked for that period of time. The
application attaching the interface should not be blocked. If the
issue is waiting for an IP address etc., then application should be
developed to take into account standard network operations - for
example it make take a few seconds to get a DHCP address.

This change is only valid for the V3 API. The V2 API cannot be
updated as we need to ensure backwards compatibility.

DocImpact
 - V3 API for interface attachment will return 202 instead of 200

Change-Id: I039aa18ed1c91613b4cdfa8a255acf41f2a226f9
Closes-bug: #1335078
",git fetch https://review.opendev.org/openstack/nova refs/changes/94/103094/4 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/compute/test_rpcapi.py', 'nova/compute/rpcapi.py']",2,fff45948b5e0874a6edc3539163ffe6b9464e676,attach-not-blocking," cctxt.cast(ctxt, 'attach_interface', instance=instance, network_id=network_id, port_id=port_id, requested_ip=requested_ip)"," return cctxt.call(ctxt, 'attach_interface', instance=instance, network_id=network_id, port_id=port_id, requested_ip=requested_ip)",5,5
openstack%2Fnova~master~I2d89526531f278dea5a8da94b7a94db0629a3730,openstack/nova,master,I2d89526531f278dea5a8da94b7a94db0629a3730,Teach ironic driver to use network constraints,ABANDONED,2015-02-06 05:58:19.000000000,2015-05-13 17:22:40.000000000,,"[{'_account_id': 3}, {'_account_id': 1849}, {'_account_id': 5170}, {'_account_id': 6488}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11103}]","[{'number': 1, 'created': '2015-02-06 05:58:19.000000000', 'files': ['nova/virt/ironic/driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/bfe7200365bbd5c696e978978b93c57b93995a99', 'message': 'Teach ironic driver to use network constraints\n\nIf we have listed subnet IDs in the ports that Ironic is reporting for\nthe selected server, then push these constraints into Nova so that vifs\nare only plugged from the appropriate subnet.\n\nThis allows Ironic+Nova controlled servers to be separated by L3\nboundaries.\n\nChange-Id: I2d89526531f278dea5a8da94b7a94db0629a3730\n'}]",0,153471,bfe7200365bbd5c696e978978b93c57b93995a99,10,8,1,6488,,,0,"Teach ironic driver to use network constraints

If we have listed subnet IDs in the ports that Ironic is reporting for
the selected server, then push these constraints into Nova so that vifs
are only plugged from the appropriate subnet.

This allows Ironic+Nova controlled servers to be separated by L3
boundaries.

Change-Id: I2d89526531f278dea5a8da94b7a94db0629a3730
",git fetch https://review.opendev.org/openstack/nova refs/changes/71/153471/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/virt/ironic/driver.py'],1,bfe7200365bbd5c696e978978b93c57b93995a99,network-constraints," def _get_ports_for_instance(self, instance): try: node = self.ironicclient.call(""node.get"", instance.node) except ironic.exc.NotFound: return None return self.ironicclient.call(""node.list_ports"", node.uuid) ports = self._get_ports_for_instance(instance) def network_constraints_for_instance(self, instance): """"""List network constraints for an instance. Returns a dict contains any network constraints for the selected node. :param instance: the instance object. :return: None, or a list of dicts containing several keys defined in the network constraints. macs will be the same as the macs_for_instance method result. subnet_id will control what subnets are plugged to the instance from each network. """""" ports = self._get_ports_for_instance(instance) result = [] for port in ports: constraint = dict(mac=port.address) if 'subnet_id' in port.extra: constraint['subnet_id'] = port.extra['subnet_id'] result.append(constraint) if result: return result else: return None "," try: node = self.ironicclient.call(""node.get"", instance.node) except ironic.exc.NotFound: return None ports = self.ironicclient.call(""node.list_ports"", node.uuid)",31,5
openstack%2Fnova~master~If5d2a1ad9054d7f2397212542e9526e644234410,openstack/nova,master,If5d2a1ad9054d7f2397212542e9526e644234410,Sketch out l3 network stuff for Ironic.,ABANDONED,2014-11-07 15:05:48.000000000,2015-05-13 17:22:39.000000000,,"[{'_account_id': 3}, {'_account_id': 1653}, {'_account_id': 1779}, {'_account_id': 1849}, {'_account_id': 2750}, {'_account_id': 4190}, {'_account_id': 5170}, {'_account_id': 6488}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11103}]","[{'number': 1, 'created': '2014-11-07 15:05:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/21ad7848ca626bacb533c9b9ec79877eb3dd444f', 'message': 'Sketch out l3 network stuff for Ironic.\n\nChange-Id: If5d2a1ad9054d7f2397212542e9526e644234410\n'}, {'number': 2, 'created': '2015-02-06 05:58:19.000000000', 'files': ['nova/network/neutronv2/api.py', 'nova/network/rpcapi.py', 'nova/network/api.py', 'nova/network/base_api.py', 'nova/virt/driver.py', 'nova/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/11a1413a951ce73978efb471b73a619e0d71f307', 'message': 'Sketch out l3 network stuff for Ironic.\n\nChange-Id: If5d2a1ad9054d7f2397212542e9526e644234410\n'}]",9,133260,11a1413a951ce73978efb471b73a619e0d71f307,28,13,2,4190,,,0,"Sketch out l3 network stuff for Ironic.

Change-Id: If5d2a1ad9054d7f2397212542e9526e644234410
",git fetch https://review.opendev.org/openstack/nova refs/changes/60/133260/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/network/neutronv2/api.py', 'nova/network/rpcapi.py', 'nova/network/api.py', 'nova/network/base_api.py', 'nova/virt/driver.py', 'nova/compute/manager.py']",6,21ad7848ca626bacb533c9b9ec79877eb3dd444f,network-constraints," # NOTE(lifeless) This is a deprecated call, but its in another # deprecated method, so there's no need to update it. constraints, security_groups, is_vpn, dhcp_options): # Create a macs parameter for compat with older network API versions. if constraints is None: macs = None else: macs = set( constraint.get('mac', None) for constraint in constraints) macs.discard(None) constraints=constraints, contraints = self.driver.network_constraints_for_instance(instance) requested_networks, constraints, security_groups, dhcp_options) def _allocate_network(self, context, instance, requested_networks, constraints, security_groups, dhcp_options): requested_networks, constraints, security_groups, is_vpn,"," macs, security_groups, is_vpn, dhcp_options): macs = self.driver.macs_for_instance(instance) requested_networks, macs, security_groups, dhcp_options) def _allocate_network(self, context, instance, requested_networks, macs, security_groups, dhcp_options): requested_networks, macs, security_groups, is_vpn,",152,12
openstack%2Fnova~master~I510247b8071cf3858ec6577924e2213be752f7bb,openstack/nova,master,I510247b8071cf3858ec6577924e2213be752f7bb,Enable lazy translation,ABANDONED,2014-08-21 18:14:24.000000000,2015-05-13 17:22:32.000000000,,"[{'_account_id': 3}, {'_account_id': 782}, {'_account_id': 1849}, {'_account_id': 4690}, {'_account_id': 5170}, {'_account_id': 5638}, {'_account_id': 6601}, {'_account_id': 6873}, {'_account_id': 7198}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9550}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-08-21 18:14:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a60128733677f16b9defb2594de12fa4f1f29273', 'message': 'Enable lazy translation\n\nEnable lazy translation by adding helper in nova.i18n and calling\nit in nova/cmd/__init__.\n\nAlso fix case where enabling lazy causes a failure because str()\nis being called on a translatable message.\n\nChange-Id: I510247b8071cf3858ec6577924e2213be752f7bb\nPartially-Implements: blueprint i18n-enablement\n'}, {'number': 2, 'created': '2014-08-28 19:11:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/54fb0c60196ad2bac804585d35c9876e0a086db1', 'message': 'Enable lazy translation\n\nEnable lazy translation by adding helper in nova.i18n and calling\nit in nova/cmd/__init__.\n\nAlso fix case where enabling lazy causes a failure because str()\nis being called on a translatable message.\n\nChange-Id: I510247b8071cf3858ec6577924e2213be752f7bb\nPartially-Implements: blueprint i18n-enablement\n'}, {'number': 3, 'created': '2014-10-03 16:41:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/832505b2910a35b01e1efa3d45a27ef4d3acdb25', 'message': 'Enable lazy translation\n\nEnable lazy translation by adding helper in nova.i18n and calling\nit in nova/cmd/__init__.\n\nAlso fix case where enabling lazy causes a failure because str()\nis being called on a translatable message.\n\nChange-Id: I510247b8071cf3858ec6577924e2213be752f7bb\nPartially-Implements: blueprint i18n-enablement\n'}, {'number': 4, 'created': '2014-10-08 21:03:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fdfff1f26e15386cf09085357dc3e5beeda5689b', 'message': 'Enable lazy translation\n\nEnable lazy translation by adding helper in nova.i18n and calling\nit in nova/cmd/__init__.\n\nAlso fix case where enabling lazy causes a failure because str()\nis being called on a translatable message.\n\nAdd a configuration option to control if lazy translated is enabled\nwhich defaults to False.\n\nChange-Id: I510247b8071cf3858ec6577924e2213be752f7bb\nPartially-Implements: blueprint i18n-enablement\n'}, {'number': 5, 'created': '2014-10-10 16:12:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5b36f921babb5913447acda9fb0bb5df15f77eac', 'message': 'Enable lazy translation\n\nEnable lazy translation by adding helper in nova.i18n and calling\nit in nova/cmd/__init__.\n\nAlso fix case where enabling lazy causes a failure because str()\nis being called on a translatable message.\n\nAdd a configuration option to control if lazy translated is enabled\nwhich defaults to False.\n\nChange-Id: I510247b8071cf3858ec6577924e2213be752f7bb\nPartially-Implements: blueprint i18n-enablement\n'}, {'number': 6, 'created': '2014-10-22 18:14:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/87d8c947abbb6883676023182d4d0c778ff766af', 'message': 'Enable lazy translation\n\nEnable lazy translation by adding helper in nova.i18n and calling\nit in nova/cmd/__init__.\n\nAlso fix case where enabling lazy causes a failure because str()\nis being called on a translatable message.\n\nAdd a configuration option to control if lazy translated is enabled\nwhich defaults to False.\n\nPartially-Implements: blueprint i18n-enablement\nChange-Id: I510247b8071cf3858ec6577924e2213be752f7bb\n'}, {'number': 7, 'created': '2014-12-10 17:11:15.000000000', 'files': ['nova/objects/base.py', 'nova/cmd/__init__.py', 'nova/i18n.py', 'nova/tests/test_i18n.py', 'nova/tests/unit/test_context.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/c696c057d781c8c85039f496d0aa8829a07188fb', 'message': 'Enable lazy translation\n\nEnable lazy translation by adding helper in nova.i18n and calling\nit in nova/cmd/__init__.\n\nAlso fix case where enabling lazy causes a failure because str()\nis being called on a translatable message.\n\nAdd a configuration option to control if lazy translated is enabled\nwhich defaults to False.\n\nChange-Id: I510247b8071cf3858ec6577924e2213be752f7bb\nPartially-Implements: blueprint i18n-enablement-juno\n'}]",8,116056,c696c057d781c8c85039f496d0aa8829a07188fb,75,15,7,6601,,,0,"Enable lazy translation

Enable lazy translation by adding helper in nova.i18n and calling
it in nova/cmd/__init__.

Also fix case where enabling lazy causes a failure because str()
is being called on a translatable message.

Add a configuration option to control if lazy translated is enabled
which defaults to False.

Change-Id: I510247b8071cf3858ec6577924e2213be752f7bb
Partially-Implements: blueprint i18n-enablement-juno
",git fetch https://review.opendev.org/openstack/nova refs/changes/56/116056/7 && git format-patch -1 --stdout FETCH_HEAD,"['nova/cmd/__init__.py', 'nova/i18n.py', 'nova/tests/test_context.py']",3,a60128733677f16b9defb2594de12fa4f1f29273,bp/i18n-enablement-juno,import six warns.append(six.text_type(msg) % a), warns.append(str(msg) % a),11,1
openstack%2Fnova~master~Ida1ef0e9e9f8716afa7843448eb64c86a78a01be,openstack/nova,master,Ida1ef0e9e9f8716afa7843448eb64c86a78a01be,Consider unlimited value in getting quota range,ABANDONED,2014-10-30 13:44:22.000000000,2015-05-13 17:22:31.000000000,,"[{'_account_id': 3}, {'_account_id': 1849}, {'_account_id': 5170}, {'_account_id': 5511}, {'_account_id': 6062}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10068}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11103}, {'_account_id': 13689}]","[{'number': 1, 'created': '2014-10-30 13:44:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1c64ea41e9ac696a096a9b871c41d2b632bcf440', 'message': 'Fix project quota update with minimum:-1\n\nWhen a user quota is unlimited (-1), the project quota should not be\nupdated to finite value.\nChanges:\n- Project quota settable range calculation returns minimum:-1, when a\n  user quota is -1.\n- Request quota validation raises exeption when minimum value is -1\n  and requested value is finite.\n\nChange-Id: Ida1ef0e9e9f8716afa7843448eb64c86a78a01be\nCloses-Bug: 1306229\n'}, {'number': 2, 'created': '2014-10-30 15:10:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bee939cf7055c14f08c6366d21bc73e89a8195aa', 'message': 'Fix project quota update with minimum:-1\n\nWhen a user quota is unlimited (-1), the project quota should not be\nupdated to finite value.\nChanges:\n- Project quota settable range calculation returns minimum:-1, when a\n  user quota is -1.\n- Request quota validation raises exeption when minimum value is -1\n  and requested value is finite.\n\nChange-Id: Ida1ef0e9e9f8716afa7843448eb64c86a78a01be\nCloses-Bug: 1306229\n'}, {'number': 3, 'created': '2014-11-13 02:02:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/70f7f82565b9183e1f7da881d52b82fe78c78a26', 'message': 'Fix project quota update with minimum:-1\n\nWhen a user quota is unlimited (-1), the project quota should not be\nupdated to finite value.\nChanges:\n- Project quota settable range calculation returns minimum:-1, when a\n  user quota is -1.\n- Request quota validation raises exeption when minimum value is -1\n  and requested value is finite.\n\nChange-Id: Ida1ef0e9e9f8716afa7843448eb64c86a78a01be\nCloses-Bug: 1306229\n'}, {'number': 4, 'created': '2014-12-12 04:59:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/afe8f335ba97c1694910852ac5ba0d1faa02d0e0', 'message': ""Consider unlimited value in getting quota range\n\nIn quota, -1 is used to express an unlimited value. To get a settable\nquota range, it is necessary to use helper methods to handle unlimited\nvalues. Even if it is fixed, 'remains' is not enough. 'Remains' means\nthe amount of a project quota which is not allocated to users. When a\nproject quota is unlimited, the 'remains' is always unlimited. To get\nsettable minimum value to  the project, the sum of allocated quotas to\nusers is calculated from 'limit' and 'remains'. When the project limit\nis unlimited, the allocated quotas cannot be got.\n\nThis patch uses helper methods considering an unlimited values to\ncalculate a settable quota range.\nThe patch also replaces 'remains' with 'allocated'. 'allocated' means\nthe sum of user quotas which are set explicitly. 'Allocated' could be\nused as a minimum value of a settable project quota range.\n\nChange-Id: Ida1ef0e9e9f8716afa7843448eb64c86a78a01be\nCloses-Bug: 1306229\n""}, {'number': 5, 'created': '2014-12-18 00:23:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9410f0db2a53d7c0e82008692dc3cdc652c42759', 'message': ""Consider unlimited value in getting quota range\n\nIn quota, -1 is used to express an unlimited value. To get a settable\nquota range, it is necessary to use helper methods to handle unlimited\nvalues. Even if it is fixed, 'remains' is not enough. 'Remains' means\nthe amount of a project quota which is not allocated to users. When a\nproject quota is unlimited, the 'remains' is always unlimited. To get\nsettable minimum value to  the project, the sum of allocated quotas to\nusers is calculated from 'limit' and 'remains'. When the project limit\nis unlimited, the allocated quotas cannot be got.\n\nThis patch uses helper methods considering an unlimited values to\ncalculate a settable quota range.\nThe patch also replaces 'remains' with 'allocated'. 'allocated' means\nthe sum of user quotas which are set explicitly. 'Allocated' could be\nused as a minimum value of a settable project quota range.\n\nChange-Id: Ida1ef0e9e9f8716afa7843448eb64c86a78a01be\nCloses-Bug: 1306229\n""}, {'number': 6, 'created': '2014-12-19 01:54:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/25a6bf99a7746043d34704f337eec506ab46d667', 'message': ""Consider unlimited value in getting quota range\n\nIn quota, -1 is used to express an unlimited value. To get a settable\nquota range, it is necessary to use helper methods to handle unlimited\nvalues. Even if it is fixed, 'remains' is not enough. 'Remains' means\nthe amount of a project quota which is not allocated to users. When a\nproject quota is unlimited, the 'remains' is always unlimited. To get\nsettable minimum value to the project, the sum of allocated quotas to\nusers is calculated from 'limit' and 'remains'. When the project limit\nis unlimited, the allocated quotas cannot be got.\n\nThis patch uses helper methods considering unlimited values to\ncalculate a settable quota range.\nThe patch also replaces 'remains' with 'allocated'. 'allocated' means\nthe sum of user quotas which are set explicitly. 'Allocated' could be\nused as a minimum value of a settable project quota range.\n\nChange-Id: Ida1ef0e9e9f8716afa7843448eb64c86a78a01be\nCloses-Bug: 1306229\n""}, {'number': 7, 'created': '2015-01-14 07:53:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e50b74a810c9fa17199158f7ce2ffd5c05e03b2c', 'message': ""Consider unlimited value in getting quota range\n\nIn quota, -1 is used to express an unlimited value. To get a settable\nquota range, it is necessary to use helper methods to handle unlimited\nvalues. Even if it is fixed, 'remains' is not enough. 'Remains' means\nthe amount of a project quota which is not allocated to users. When a\nproject quota is unlimited, the 'remains' is always unlimited. To get\nsettable minimum value to the project, the sum of allocated quotas to\nusers is calculated from 'limit' and 'remains'. When the project limit\nis unlimited, the allocated quotas cannot be got.\n\nThis patch uses helper methods considering unlimited values to\ncalculate a settable quota range.\nThe patch also replaces 'remains' with 'allocated'. 'allocated' means\nthe sum of user quotas which are set explicitly. 'Allocated' could be\nused as a minimum value of a settable project quota range.\n\nChange-Id: Ida1ef0e9e9f8716afa7843448eb64c86a78a01be\nCloses-Bug: 1306229\n""}, {'number': 8, 'created': '2015-01-15 06:51:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1d21e65024098e1d76592aa835a4b403f2e76a3f', 'message': ""Consider unlimited value in getting quota range\n\nIn quota, -1 is used to express an unlimited value. To get a settable\nquota range, it is necessary to use helper methods to handle unlimited\nvalues. Even if it is fixed, 'remains' is not enough. 'Remains' means\nthe amount of a project quota which is not allocated to users. When a\nproject quota is unlimited, the 'remains' is always unlimited. To get\nsettable minimum value to the project, the sum of allocated quotas to\nusers is calculated from 'limit' and 'remains'. When the project limit\nis unlimited, the allocated quotas cannot be got.\n\nThis patch uses helper methods considering unlimited values to\ncalculate a settable quota range.\nThe patch also replaces 'remains' with 'allocated'. 'allocated' means\nthe sum of user quotas which are set explicitly. 'Allocated' could be\nused as a minimum value of a settable project quota range.\n\nChange-Id: Ida1ef0e9e9f8716afa7843448eb64c86a78a01be\nCloses-Bug: 1306229\n""}, {'number': 9, 'created': '2015-01-16 02:56:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b30da4a2a03b4eaac5cb11c52af9f4fca9787a1e', 'message': ""Consider unlimited value in getting quota range\n\nIn quota, -1 is used to express an unlimited value. To get a settable\nquota range, it is necessary to use helper methods to handle unlimited\nvalues. Even if it is fixed, 'remains' is not enough. 'Remains' means\nthe amount of a project quota which is not allocated to users. When a\nproject quota is unlimited, the 'remains' is always unlimited. To get\nsettable minimum value to the project, the sum of allocated quotas to\nusers is calculated from 'limit' and 'remains'. When the project limit\nis unlimited, the allocated quotas cannot be got.\n\nThis patch uses helper methods considering unlimited values to\ncalculate a settable quota range.\nThe patch also replaces 'remains' with 'allocated'. 'allocated' means\nthe sum of user quotas which are set explicitly. 'Allocated' could be\nused as a minimum value of a settable project quota range.\n\nChange-Id: Ida1ef0e9e9f8716afa7843448eb64c86a78a01be\nCloses-Bug: 1306229\n""}, {'number': 10, 'created': '2015-01-19 23:43:28.000000000', 'files': ['nova/tests/unit/test_quota.py', 'nova/quota.py', 'nova/tests/unit/api/openstack/compute/contrib/test_quotas.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/9ec2114172782b311e869959f7bdd384fad7d399', 'message': ""Consider unlimited value in getting quota range\n\nIn quota, -1 is used to express an unlimited value. To get a settable\nquota range, it is necessary to use helper methods to handle unlimited\nvalues. Even if it is fixed, 'remains' is not enough. 'Remains' means\nthe amount of a project quota which is not allocated to users. When a\nproject quota is unlimited, the 'remains' is always unlimited. To get\nsettable minimum value to the project, the sum of allocated quotas to\nusers is calculated from 'limit' and 'remains'. When the project limit\nis unlimited, the allocated quotas cannot be got.\n\nThis patch uses helper methods considering unlimited values to\ncalculate a settable quota range.\nThe patch also replaces 'remains' with 'allocated'. 'allocated' means\nthe sum of user quotas which are set explicitly. 'Allocated' could be\nused as a minimum value of a settable project quota range.\n\nChange-Id: Ida1ef0e9e9f8716afa7843448eb64c86a78a01be\nCloses-Bug: 1306229\n""}]",5,132028,9ec2114172782b311e869959f7bdd384fad7d399,93,13,10,13689,,,0,"Consider unlimited value in getting quota range

In quota, -1 is used to express an unlimited value. To get a settable
quota range, it is necessary to use helper methods to handle unlimited
values. Even if it is fixed, 'remains' is not enough. 'Remains' means
the amount of a project quota which is not allocated to users. When a
project quota is unlimited, the 'remains' is always unlimited. To get
settable minimum value to the project, the sum of allocated quotas to
users is calculated from 'limit' and 'remains'. When the project limit
is unlimited, the allocated quotas cannot be got.

This patch uses helper methods considering unlimited values to
calculate a settable quota range.
The patch also replaces 'remains' with 'allocated'. 'allocated' means
the sum of user quotas which are set explicitly. 'Allocated' could be
used as a minimum value of a settable project quota range.

Change-Id: Ida1ef0e9e9f8716afa7843448eb64c86a78a01be
Closes-Bug: 1306229
",git fetch https://review.opendev.org/openstack/nova refs/changes/28/132028/5 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/api/openstack/compute/contrib/test_quotas.py', 'nova/tests/test_quota.py', 'nova/api/openstack/compute/plugins/v3/quota_sets.py', 'nova/quota.py', 'nova/api/openstack/compute/contrib/quotas.py']",5,1c64ea41e9ac696a096a9b871c41d2b632bcf440,bug/1306229," if minimum == -1 and limit != -1: msg = (_(""Quota limit %(limit)s for %(resource)s must be "" ""equal to reserved %(minimum)s."") % {'limit': limit, 'resource': resource, 'minimum': minimum}) raise webob.exc.HTTPBadRequest(explanation=msg)",,183,10
openstack%2Fnova~master~Ie9805061c14dcff6b1d63ba758b0b17be218c342,openstack/nova,master,Ie9805061c14dcff6b1d63ba758b0b17be218c342,Fix new revert-resize with non-shared storage,ABANDONED,2015-02-06 22:59:59.000000000,2015-05-13 17:22:28.000000000,,"[{'_account_id': 3}, {'_account_id': 1849}, {'_account_id': 5170}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11103}]","[{'number': 1, 'created': '2015-02-06 22:59:59.000000000', 'files': ['nova/compute/manager.py', 'nova/compute/rpcapi.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/86b4008614e351132289fad96d8dadff282fdd14', 'message': ""Fix new revert-resize with non-shared storage\n\nCommit eec0937af9d88f3c7ffacf9ce7b8955b2e4be479 fixed the case\nwhen shared storage was in use and resize-revert was called using\nthe _is_instance_storage_shared method.  However, in the case of\nnon-shared storage, this method will still return 'True' inside\nof revert_resize.\n\n`revert_resize` is called on the target node, since it is\nthe current 'host' of the instance once the resize or migration\noperation has completed, but before `finish_revert_resize` is called.\n(i.e. when the instance is in the RESIZE_CONFIRM state).\n`is_instance_storage_shared` first directly calls\ncheck_instance_shared_storage_local (creating the canary file\non the target compute node), and the uses the RPC API to call\ncheck_instance_shared_storage.  However, the RPC API calls\ncheck_instance_shared_storage on the current host of the given\ninstance, which is again the target compute node, so the canary\nfile is always present.\n\nInstead, we now specify that the 'remote' node in this case is\nnot the current host of the instance, but the migration source\nnode.\n\nChange-Id: Ie9805061c14dcff6b1d63ba758b0b17be218c342\n""}]",0,153725,86b4008614e351132289fad96d8dadff282fdd14,9,7,1,7677,,,0,"Fix new revert-resize with non-shared storage

Commit eec0937af9d88f3c7ffacf9ce7b8955b2e4be479 fixed the case
when shared storage was in use and resize-revert was called using
the _is_instance_storage_shared method.  However, in the case of
non-shared storage, this method will still return 'True' inside
of revert_resize.

`revert_resize` is called on the target node, since it is
the current 'host' of the instance once the resize or migration
operation has completed, but before `finish_revert_resize` is called.
(i.e. when the instance is in the RESIZE_CONFIRM state).
`is_instance_storage_shared` first directly calls
check_instance_shared_storage_local (creating the canary file
on the target compute node), and the uses the RPC API to call
check_instance_shared_storage.  However, the RPC API calls
check_instance_shared_storage on the current host of the given
instance, which is again the target compute node, so the canary
file is always present.

Instead, we now specify that the 'remote' node in this case is
not the current host of the instance, but the migration source
node.

Change-Id: Ie9805061c14dcff6b1d63ba758b0b17be218c342
",git fetch https://review.opendev.org/openstack/nova refs/changes/25/153725/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/compute/manager.py', 'nova/compute/rpcapi.py']",2,86b4008614e351132289fad96d8dadff282fdd14,bug/fix-shared-storage-check," def check_instance_shared_storage(self, ctxt, instance, data, target=None): server = _compute_host(target, instance) cctxt = self.client.prepare(server=server, version=version)"," def check_instance_shared_storage(self, ctxt, instance, data): cctxt = self.client.prepare(server=_compute_host(None, instance), version=version)",10,7
openstack%2Fnova~master~I1b099c685dbc45f2ae172b3c34d412cd9dcde4b6,openstack/nova,master,I1b099c685dbc45f2ae172b3c34d412cd9dcde4b6,Refactor some common code,ABANDONED,2014-12-18 09:31:08.000000000,2015-05-13 17:22:25.000000000,,"[{'_account_id': 3}, {'_account_id': 1849}, {'_account_id': 5170}, {'_account_id': 6873}, {'_account_id': 7189}, {'_account_id': 7930}, {'_account_id': 8247}, {'_account_id': 9550}, {'_account_id': 9578}, {'_account_id': 9796}, {'_account_id': 10118}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-12-18 09:31:08.000000000', 'files': ['nova/virt/vmwareapi/vmops.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/20c2148d0fecb9951c4eca17449df640b0a07205', 'message': 'Refactor some common code\n\n_get_orig_vm_name_label() was never referenced. This commit refactors\nsome common code to make the code use this method; it also\nadds _get_rescue_vm_name_label() to return the name for a rescue\ninstance.\n\nChange-Id: I1b099c685dbc45f2ae172b3c34d412cd9dcde4b6\n'}]",6,142706,20c2148d0fecb9951c4eca17449df640b0a07205,19,12,1,7930,,,0,"Refactor some common code

_get_orig_vm_name_label() was never referenced. This commit refactors
some common code to make the code use this method; it also
adds _get_rescue_vm_name_label() to return the name for a rescue
instance.

Change-Id: I1b099c685dbc45f2ae172b3c34d412cd9dcde4b6
",git fetch https://review.opendev.org/openstack/nova refs/changes/06/142706/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/virt/vmwareapi/vmops.py'],1,20c2148d0fecb9951c4eca17449df640b0a07205,refactors," rescue_name = self._get_rescue_vm_name_label(instance) resize_orig_vmname = self._get_orig_vm_name_label(instance) instance_name = self._get_rescue_vm_name_label(instance) instance_name = self._get_rescue_vm_name_label(instance) return instance.uuid + self._migrate_suffix def _get_rescue_vm_name_label(self, instance): return instance.uuid + self._rescue_suffix self._get_orig_vm_name_label(instance))", rescue_name = instance.uuid + self._rescue_suffix resize_orig_vmname = instance.uuid + self._migrate_suffix instance_name = instance.uuid + self._rescue_suffix instance_name = instance.uuid + self._rescue_suffix return instance.uuid + '-orig' instance.uuid + self._migrate_suffix),9,6
openstack%2Fnova~master~Ic13c67863c90bd5ed8f1c57684d27e31a1c8aaa2,openstack/nova,master,Ic13c67863c90bd5ed8f1c57684d27e31a1c8aaa2,Using Console object instead of db call,ABANDONED,2014-11-17 17:50:53.000000000,2015-05-13 17:22:24.000000000,,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 1849}, {'_account_id': 5170}, {'_account_id': 8213}, {'_account_id': 8412}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11103}]","[{'number': 1, 'created': '2014-11-17 17:50:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/07bb47558268cb07ff449b17b9f9f05c7626d794', 'message': 'Using Console object instead db call\n\nIt would be better use Console object for all calls db calls console.\n\nChange-Id: Ic13c67863c90bd5ed8f1c57684d27e31a1c8aaa2\n'}, {'number': 2, 'created': '2015-01-16 15:30:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2baabf08dd7da59ec0907ea5fc7b31270ae6b109', 'message': 'Using Console object instead db call\n\nIt would be better use Console object for all calls db calls console.\n\nRelated to blueprint kilo-objects\nChange-Id: Ic13c67863c90bd5ed8f1c57684d27e31a1c8aaa2\n'}, {'number': 3, 'created': '2015-02-14 09:25:50.000000000', 'files': ['nova/console/api.py', 'nova/tests/unit/console/test_console.py', 'nova/console/manager.py', 'nova/console/vmrc_manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/eef82e72aff5e00c02e67e0cd825bd4010f9f929', 'message': 'Using Console object instead of db call\n\nIt would be better to use the Console object for all the console\nrelated db calls.\n\nRelated to blueprint kilo-objects\nChange-Id: Ic13c67863c90bd5ed8f1c57684d27e31a1c8aaa2\n'}]",9,135036,eef82e72aff5e00c02e67e0cd825bd4010f9f929,31,12,3,8412,,,0,"Using Console object instead of db call

It would be better to use the Console object for all the console
related db calls.

Related to blueprint kilo-objects
Change-Id: Ic13c67863c90bd5ed8f1c57684d27e31a1c8aaa2
",git fetch https://review.opendev.org/openstack/nova refs/changes/36/135036/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/console/api.py', 'nova/console/manager.py', 'nova/console/vmrc_manager.py']",3,07bb47558268cb07ff449b17b9f9f05c7626d794,bp/kilo-objects,"from nova import objects console = objects.Console.create(context, console_data) console = objects.Console.get_by_pool_instance(context, pool['id'], instance['uuid']) console = objects.Console.get_by_console_id(context, console_id) objects.Console.delete(context, console_id)"," console = self.db.console_create(context, console_data) console = self.db.console_get_by_pool_instance(context, pool['id'], instance['uuid']) console = self.db.console_get(context, console_id) self.db.console_delete(context, console_id)",19,14
openstack%2Fnova~master~I56ef0507f7280f0aea67403aa3fe0b143115517b,openstack/nova,master,I56ef0507f7280f0aea67403aa3fe0b143115517b,Using ConsolePool object instead of db call,ABANDONED,2014-11-17 17:50:53.000000000,2015-05-13 17:22:22.000000000,,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 1849}, {'_account_id': 5170}, {'_account_id': 8213}, {'_account_id': 8412}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11103}]","[{'number': 1, 'created': '2014-11-17 17:50:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6a415e43a59f531de42cf2d1f061a3efda76ffaa', 'message': 'Using ConsolePool object instead db call\n\nIt would be better use ConsolePool object for all\ndb calls console_pool.\n\nChange-Id: I56ef0507f7280f0aea67403aa3fe0b143115517b\n'}, {'number': 2, 'created': '2015-01-16 15:30:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ea52da36d64a1c57a4c73e212d5f536d08bb3f99', 'message': 'Using ConsolePool object instead db call\n\nIt would be better use ConsolePool object for all\ndb calls console_pool.\n\nRelated to blueprint kilo-objects\nChange-Id: I56ef0507f7280f0aea67403aa3fe0b143115517b\n'}, {'number': 3, 'created': '2015-02-14 09:25:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/943f2b0975892a6c0e81c4f8d2cdb58e0e6f3fed', 'message': 'Using ConsolePool object instead of db call\n\nIt would be better to use the ConsolePool object for all\nthe console pool related db calls.\n\nRelated to blueprint kilo-objects\nChange-Id: I56ef0507f7280f0aea67403aa3fe0b143115517b\n'}, {'number': 4, 'created': '2015-02-14 09:35:55.000000000', 'files': ['nova/console/xvp.py', 'nova/tests/unit/console/test_console.py', 'nova/console/manager.py', 'nova/console/vmrc_manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/bd8b3d379febf2a2d80547060a5dc936d6f7d11f', 'message': 'Using ConsolePool object instead of db call\n\nIt would be better to use the ConsolePool object for all\nthe console pool related db calls.\n\nRelated to blueprint kilo-objects\nChange-Id: I56ef0507f7280f0aea67403aa3fe0b143115517b\n'}]",7,135037,bd8b3d379febf2a2d80547060a5dc936d6f7d11f,29,11,4,8412,,,0,"Using ConsolePool object instead of db call

It would be better to use the ConsolePool object for all
the console pool related db calls.

Related to blueprint kilo-objects
Change-Id: I56ef0507f7280f0aea67403aa3fe0b143115517b
",git fetch https://review.opendev.org/openstack/nova refs/changes/37/135037/4 && git format-patch -1 --stdout FETCH_HEAD,"['nova/console/xvp.py', 'nova/console/manager.py', 'nova/console/vmrc_manager.py']",3,6a415e43a59f531de42cf2d1f061a3efda76ffaa,bp/kilo-objects," pool = objects.ConsolePool.get_by_host_type(context, pool = objects.ConsolePool.create(context, pool_info)"," pool = self.db.console_pool_get_by_host_type(context, pool = self.db.console_pool_create(context, pool_info)",11,11
openstack%2Fnova~master~I99b4bc9c6f8c5c4bd79ef4303cfb8046e7d1bd20,openstack/nova,master,I99b4bc9c6f8c5c4bd79ef4303cfb8046e7d1bd20,Removes use of timeutils.set_time_override,ABANDONED,2014-11-26 15:46:35.000000000,2015-05-13 17:22:21.000000000,,"[{'_account_id': 3}, {'_account_id': 100}, {'_account_id': 642}, {'_account_id': 1653}, {'_account_id': 1779}, {'_account_id': 1812}, {'_account_id': 1849}, {'_account_id': 2750}, {'_account_id': 2874}, {'_account_id': 5170}, {'_account_id': 8213}, {'_account_id': 8412}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9550}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11103}, {'_account_id': 14384}]","[{'number': 1, 'created': '2014-11-26 15:46:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/20136999c4b1e140fde164abb7e0cb2b6a1a7f1a', 'message': ""Normalize time `rightnow` in nova/utils.py\n\nDue to expression `end >= rightnow` ->\nTypeError: can't compare offset-naive and offset-aware datetimes\n\nChange-Id: I99b4bc9c6f8c5c4bd79ef4303cfb8046e7d1bd20\n""}, {'number': 2, 'created': '2014-12-02 16:00:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/943224547b2181b4bd9e8445ef2110941d61c6f2', 'message': ""Removes use of timeutils.set_time_override\n\nThe set_time_override function in timeutils was written as a\nhelper function to mock utcnow for unittests before 'mock' was\ngenerally used. Now that we have mock and fixture, we no longer\nneed to use it.\n\nUpdate hacking check N310, due to no need to use set_time_override()\nwhich calls timeutils.utcnow()\n\nPartial-Bug: #1266962\n\nChange-Id: I99b4bc9c6f8c5c4bd79ef4303cfb8046e7d1bd20\n""}, {'number': 3, 'created': '2014-12-03 11:21:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/11a9c8ba7f03c9950544eac04622f452d5533a6a', 'message': ""Removes use of timeutils.set_time_override\n\nThe set_time_override function in timeutils was written as a\nhelper function to mock utcnow for unittests before 'mock' was\ngenerally used. Now that we have mock and fixture, we no longer\nneed to use it.\n\nUpdate hacking check N310, due to no need to use set_time_override()\nin `nova/tests/` which calls timeutils.utcnow()\n\nPartial-Bug: #1266962\n\nChange-Id: I99b4bc9c6f8c5c4bd79ef4303cfb8046e7d1bd20\n""}, {'number': 4, 'created': '2014-12-08 15:36:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a8623f763ea2ba15daba395ae645b15383f7dbf3', 'message': ""Removes use of timeutils.set_time_override\n\nThe set_time_override function in timeutils was written as a\nhelper function to mock utcnow for unittests before 'mock' was\ngenerally used. Now that we have mock and fixture, we no longer\nneed to use it.\n\nDeleted hacking check N310, due to timeutils.utcnow() function\nserves no useful purpose now we can easily mock the direct call.\n\nPartial-Bug: #1266962\n\nChange-Id: I99b4bc9c6f8c5c4bd79ef4303cfb8046e7d1bd20\n""}, {'number': 5, 'created': '2014-12-10 14:20:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/26ef4ce164f7391d0fa7b212732dfb720c00aae4', 'message': ""Removes use of timeutils.set_time_override\n\nThe set_time_override function in timeutils was written as a\nhelper function to mock utcnow for unittests before 'mock' was\ngenerally used. Now that we have mock and fixture, we no longer\nneed to use it.\n\nDeleted hacking check N310, due to timeutils.utcnow() function\nserves no useful purpose now we can easily mock the direct call.\n\nPartial-Bug: #1266962\n\nChange-Id: I99b4bc9c6f8c5c4bd79ef4303cfb8046e7d1bd20\n""}, {'number': 6, 'created': '2014-12-11 15:13:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cdab275090b257a3a67edd16ebf84fde6789cd0a', 'message': ""Removes use of timeutils.set_time_override\n\nThe set_time_override function in timeutils was written as a\nhelper function to mock utcnow for unittests before 'mock' was\ngenerally used. Now that we have mock and fixture, we no longer\nneed to use it.\n\nDeleted hacking check N310, due to timeutils.utcnow() function\nserves no useful purpose now we can easily mock the direct call.\n\nPartial-Bug: #1266962\n\nChange-Id: I99b4bc9c6f8c5c4bd79ef4303cfb8046e7d1bd20\n""}, {'number': 7, 'created': '2014-12-16 13:05:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/21cd08e9f3062c801b7484dd7c30e6c3a5a4d092', 'message': ""Removes use of timeutils.set_time_override\n\nThe set_time_override function in timeutils was written as a\nhelper function to mock utcnow for unittests before 'mock' was\ngenerally used. Now that we have mock and fixture, we no longer\nneed to use it.\n\nDeleted hacking check N310, due to timeutils.utcnow() function\nserves no useful purpose now we can easily mock the direct call.\n\nPartial-Bug: #1266962\n\nChange-Id: I99b4bc9c6f8c5c4bd79ef4303cfb8046e7d1bd20\n""}, {'number': 8, 'created': '2014-12-17 12:29:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b4c7ec0d185d0350ee597e2b844d495b09d83c9c', 'message': ""Removes use of timeutils.set_time_override\n\nThe set_time_override function in timeutils was written as a\nhelper function to mock utcnow for unittests before 'mock' was\ngenerally used. Now that we have mock and fixture, we no longer\nneed to use it.\n\nDeleted hacking check N310, due to timeutils.utcnow() function\nserves no useful purpose now we can easily mock the direct call.\n\nPartial-Bug: #1266962\n\nChange-Id: I99b4bc9c6f8c5c4bd79ef4303cfb8046e7d1bd20\n""}, {'number': 9, 'created': '2015-01-08 09:08:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1feacd0d1033ac198b14065b3b91f5a0fecbbb9e', 'message': ""Removes use of timeutils.set_time_override\n\nThe set_time_override function in timeutils was written as a\nhelper function to mock utcnow for unittests before 'mock' was\ngenerally used. Now that we have mock and fixture, we no longer\nneed to use it.\n\nDeleted hacking check N310, due to timeutils.utcnow() function\nserves no useful purpose now we can easily mock the direct call.\n\nPartial-Bug: #1266962\n\nChange-Id: I99b4bc9c6f8c5c4bd79ef4303cfb8046e7d1bd20\n""}, {'number': 10, 'created': '2015-01-21 13:42:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6d16a85964a9f4f010c23e0005edbdf1ae2389a9', 'message': ""Removes use of timeutils.set_time_override\n\nThe set_time_override function in timeutils was written as a\nhelper function to mock utcnow for unittests before 'mock' was\ngenerally used. Now that we have mock and fixture, we no longer\nneed to use it.\n\nDeleted hacking check N310, due to timeutils.utcnow() function\nserves no useful purpose now we can easily mock the direct call.\n\nPartial-Bug: #1266962\n\nChange-Id: I99b4bc9c6f8c5c4bd79ef4303cfb8046e7d1bd20\n""}, {'number': 11, 'created': '2015-01-30 13:45:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/08fd160664873c4d8144c763e096fc4dcc7ecdf9', 'message': ""Removes use of timeutils.set_time_override\n\nThe set_time_override function in timeutils was written as a\nhelper function to mock utcnow for unittests before 'mock' was\ngenerally used. Now that we have mock and fixture, we no longer\nneed to use it.\n\nDeleted hacking check N310, due to timeutils.utcnow() function\nserves no useful purpose now we can easily mock the direct call.\n\nPartial-Bug: #1266962\n\nChange-Id: I99b4bc9c6f8c5c4bd79ef4303cfb8046e7d1bd20\n""}, {'number': 12, 'created': '2015-01-30 22:04:26.000000000', 'files': ['nova/tests/unit/objects/test_instance_action.py', 'nova/tests/unit/api/ec2/test_middleware.py', 'nova/tests/functional/test_api_samples.py', 'nova/tests/unit/virt/vmwareapi/test_driver_api.py', 'nova/tests/unit/test_utils.py', 'nova/tests/unit/virt/vmwareapi/test_imagecache.py', 'nova/tests/unit/compute/test_compute.py', 'nova/tests/unit/api/openstack/compute/contrib/test_instance_usage_audit_log.py', 'nova/tests/unit/virt/libvirt/test_driver.py', 'nova/tests/unit/cells/test_cells_weights.py', 'nova/tests/unit/compute/test_compute_api.py', 'nova/hacking/checks.py', 'nova/tests/functional/v3/test_simple_tenant_usage.py', 'nova/tests/unit/compute/test_shelve.py', 'nova/tests/functional/v3/test_services.py', 'nova/tests/unit/scheduler/filters/test_trusted_filters.py', 'nova/tests/unit/virt/xenapi/test_vm_utils.py', 'nova/tests/functional/test_servers.py', 'nova/tests/unit/db/test_db_api.py', 'HACKING.rst', 'nova/tests/unit/api/openstack/compute/contrib/test_server_usage.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/9c4cc48b4a93032ee6ffe16b18f5387f52ed4a7e', 'message': ""Removes use of timeutils.set_time_override\n\nThe set_time_override function in timeutils was written as a\nhelper function to mock utcnow for unittests before 'mock' was\ngenerally used. Now that we have mock and fixture, we no longer\nneed to use it.\n\nDeleted hacking check N310, due to timeutils.utcnow() function\nserves no useful purpose now we can easily mock the direct call.\n\nPartial-Bug: #1266962\n\nChange-Id: I99b4bc9c6f8c5c4bd79ef4303cfb8046e7d1bd20\n""}]",31,137383,9c4cc48b4a93032ee6ffe16b18f5387f52ed4a7e,124,20,12,8412,,,0,"Removes use of timeutils.set_time_override

The set_time_override function in timeutils was written as a
helper function to mock utcnow for unittests before 'mock' was
generally used. Now that we have mock and fixture, we no longer
need to use it.

Deleted hacking check N310, due to timeutils.utcnow() function
serves no useful purpose now we can easily mock the direct call.

Partial-Bug: #1266962

Change-Id: I99b4bc9c6f8c5c4bd79ef4303cfb8046e7d1bd20
",git fetch https://review.opendev.org/openstack/nova refs/changes/83/137383/5 && git format-patch -1 --stdout FETCH_HEAD,['nova/utils.py'],1,20136999c4b1e140fde164abb7e0cb2b6a1a7f1a,bug/1266962, rightnow = timeutils.normalize_time(timeutils.utcnow()), rightnow = timeutils.utcnow(),1,1
openstack%2Fnova~master~I6aaf26f930a06ec6e70bdc80bdaeda0caa598380,openstack/nova,master,I6aaf26f930a06ec6e70bdc80bdaeda0caa598380,Make Network.save() an atomic db transaction,ABANDONED,2014-11-18 16:39:19.000000000,2015-05-13 17:22:18.000000000,,"[{'_account_id': 3}, {'_account_id': 1849}, {'_account_id': 5170}, {'_account_id': 6802}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9555}, {'_account_id': 9578}, {'_account_id': 9598}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11103}]","[{'number': 1, 'created': '2014-11-18 16:39:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/434277f4a19be02fff4bcf7a546976559d99a56a', 'message': 'Make Network.save() an atomic db transaction\n\nNetwork.save() updated network.host in a separate db operation and\ntransaction to other fields. This change makes Network.save() use a\nsingle, atomic database operation for updates by folding the previous\nbehaviour of network_set_host into network_update. We replicate the\nprevious compare-and-update behaviour of network_set_host by moving it\ninto the database update statement. This has the advantages of being\nrace-free and using fewer db round trips.\n\nWe remove network_set_host as there are no remaining users outside of\ntest code. All tests are updated accordingly. Test updates are of\nvarying complexity, and summarised below:\n\n* db/test_db_api.py:\n\nPurely mechanical update. network_set_host becomes network_update,\npassing host in values. Additionally, network_set_host previously\nreturned a value, which network_update does not. Instead, we re-fetch\nthe network from the db and test the host.\n\n* network/test_manager.py\n\nThe add_fixed_ip_to_instance tests had no documented purpose, and were\nan extremely confused mock soup. In this change, I have attempted to\ndiscern their intended purpose by inspection, and completely rewritten\nthem. They no longer touch the database, as allocate_fixed_ip() is a\nmuch more appropriate unit boundary with its own unit tests.\n\ntest_instance_dns was poorly named, and becomes\ntest_allocate_fixed_ip_instance_dns. It is also rewritten to avoid\ntouching the db by using nova objects as unit boundaries. The DNS\nassertions are retained from the previous test, but the mock soup is\neliminated.\n\nThe test_allocate_floating_ip tests were affected by the change in the\nbehaviour of network_update wrt host. Previously, host was not passed\nto network_update() as it was handled by network_set_host() instead.\nThe tests were using network_update() to avoid the special handling of\nnetwork_set_update(). The tests are updated mechanically to take\naccount of the change. Additionally, I have audited the code for\ncallers of network_update which pass host, and therefore might be\naffected by the behaviour change. There should not be any, but there\nis one: nova.cmd.manage.NetworkCommands.modify. It only sets host to\nNone, so it is unaffected by the change.\n\n* objects/test_network.py\n\nPurely mechanical update to tests which expected save to call\nnetwork_set_host.\n\nChange-Id: I6aaf26f930a06ec6e70bdc80bdaeda0caa598380\n'}, {'number': 2, 'created': '2014-11-18 17:35:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4644e4bf836f74ac132bf8e862c4be8d79519a36', 'message': 'Make Network.save() an atomic db transaction\n\nNetwork.save() updated network.host in a separate db operation and\ntransaction to other fields. This change makes Network.save() use a\nsingle, atomic database operation for updates by folding the previous\nbehaviour of network_set_host into network_update. We replicate the\nprevious compare-and-update behaviour of network_set_host by moving it\ninto the database update statement. This has the advantages of being\nrace-free and using fewer db round trips.\n\nWe remove network_set_host as there are no remaining users outside of\ntest code. All tests are updated accordingly. Test updates are of\nvarying complexity, and summarised below:\n\n* db/test_db_api.py:\n\nPurely mechanical update. network_set_host becomes network_update,\npassing host in values. Additionally, network_set_host previously\nreturned a value, which network_update does not. Instead, we re-fetch\nthe network from the db and test the host.\n\n* network/test_manager.py\n\nThe add_fixed_ip_to_instance tests had no documented purpose, and were\nan extremely confused mock soup. In this change, I have attempted to\ndiscern their intended purpose by inspection, and completely rewritten\nthem. They no longer touch the database, as allocate_fixed_ip() is a\nmuch more appropriate unit boundary with its own unit tests.\n\ntest_instance_dns was poorly named, and becomes\ntest_allocate_fixed_ip_instance_dns. It is also rewritten to avoid\ntouching the db by using nova objects as unit boundaries. The DNS\nassertions are retained from the previous test, but the mock soup is\neliminated.\n\nThe test_allocate_floating_ip tests were affected by the change in the\nbehaviour of network_update wrt host. Previously, host was not passed\nto network_update() as it was handled by network_set_host() instead.\nThe tests were using network_update() to avoid the special handling of\nnetwork_set_update(). The tests are updated mechanically to take\naccount of the change. Additionally, I have audited the code for\ncallers of network_update which pass host, and therefore might be\naffected by the behaviour change. There should not be any, but there\nis one: nova.cmd.manage.NetworkCommands.modify. It only sets host to\nNone, so it is unaffected by the change.\n\n* objects/test_network.py\n\nPurely mechanical update to tests which expected save to call\nnetwork_set_host.\n\n* db/fakes.py, api/openstack/compute/contrib/test_cloudpipe_update.py\n\nRemoved fakes for network_set_host, and updated network_update with\nnew behaviour.\n\nChange-Id: I6aaf26f930a06ec6e70bdc80bdaeda0caa598380\n'}, {'number': 3, 'created': '2014-11-18 18:03:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/58878f641ebb1f7999afc4611655a79fa8fdde69', 'message': 'Make Network.save() an atomic db transaction\n\nNetwork.save() updated network.host in a separate db operation and\ntransaction to other fields. This change makes Network.save() use a\nsingle, atomic database operation for updates by folding the previous\nbehaviour of network_set_host into network_update. We replicate the\nprevious compare-and-update behaviour of network_set_host by moving it\ninto the database update statement. This has the advantages of being\nrace-free and using fewer db round trips.\n\nWe remove network_set_host as there are no remaining users outside of\ntest code. All tests are updated accordingly. Test updates are of\nvarying complexity, and summarised below:\n\n* db/test_db_api.py:\n\nPurely mechanical update. network_set_host becomes network_update,\npassing host in values. Additionally, network_set_host previously\nreturned a value, which network_update does not. Instead, we re-fetch\nthe network from the db and test the host.\n\n* network/test_manager.py\n\nThe add_fixed_ip_to_instance tests had no documented purpose, and were\nan extremely confused mock soup. In this change, I have attempted to\ndiscern their intended purpose by inspection, and completely rewritten\nthem. They no longer touch the database, as allocate_fixed_ip() is a\nmuch more appropriate unit boundary with its own unit tests.\n\ntest_instance_dns was poorly named, and becomes\ntest_allocate_fixed_ip_instance_dns. It is also rewritten to avoid\ntouching the db by using nova objects as unit boundaries. The DNS\nassertions are retained from the previous test, but the mock soup is\neliminated.\n\nThe test_allocate_floating_ip tests were affected by the change in the\nbehaviour of network_update wrt host. Previously, host was not passed\nto network_update() as it was handled by network_set_host() instead.\nThe tests were using network_update() to avoid the special handling of\nnetwork_set_update(). The tests are updated mechanically to take\naccount of the change. Additionally, I have audited the code for\ncallers of network_update which pass host, and therefore might be\naffected by the behaviour change. There should not be any, but there\nis one: nova.cmd.manage.NetworkCommands.modify. It only sets host to\nNone, so it is unaffected by the change.\n\n* nova/tests/unit/api/ec2/test_cloud.py\n\nAs for test_allocate_floating_ip above.\n\n* objects/test_network.py\n\nPurely mechanical update to tests which expected save to call\nnetwork_set_host.\n\n* db/fakes.py, api/openstack/compute/contrib/test_cloudpipe_update.py\n\nRemoved fakes for network_set_host, and updated network_update with\nnew behaviour.\n\nChange-Id: I6aaf26f930a06ec6e70bdc80bdaeda0caa598380\n'}, {'number': 4, 'created': '2014-11-20 16:21:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4aeb85d687af99cdef766813404a0f82798c1641', 'message': 'Make Network.save() an atomic db transaction\n\nNetwork.save() updated network.host in a separate db operation and\ntransaction to other fields. This change makes Network.save() use a\nsingle, atomic database operation for updates by folding the previous\nbehaviour of network_set_host into network_update. We replicate the\nprevious compare-and-update behaviour of network_set_host by moving it\ninto the database update statement. This has the advantages of being\nrace-free and using fewer db round trips.\n\nWe remove network_set_host as there are no remaining users outside of\ntest code. All tests are updated accordingly. Test updates are of\nvarying complexity, and summarised below:\n\n* db/test_db_api.py:\n\nPurely mechanical update. network_set_host becomes network_update,\npassing host in values. Additionally, network_set_host previously\nreturned a value, which network_update does not. Instead, we re-fetch\nthe network from the db and test the host.\n\n* network/test_manager.py\n\nThe add_fixed_ip_to_instance tests had no documented purpose, and were\nan extremely confused mock soup. In this change, I have attempted to\ndiscern their intended purpose by inspection, and completely rewritten\nthem. They no longer touch the database, as allocate_fixed_ip() is a\nmuch more appropriate unit boundary with its own unit tests.\n\ntest_instance_dns was poorly named, and becomes\ntest_allocate_fixed_ip_instance_dns. It is also rewritten to avoid\ntouching the db by using nova objects as unit boundaries. The DNS\nassertions are retained from the previous test, but the mock soup is\neliminated.\n\nThe test_allocate_floating_ip tests were affected by the change in the\nbehaviour of network_update wrt host. Previously, host was not passed\nto network_update() as it was handled by network_set_host() instead.\nThe tests were using network_update() to avoid the special handling of\nnetwork_set_update(). The tests are updated mechanically to take\naccount of the change. Additionally, I have audited the code for\ncallers of network_update which pass host, and therefore might be\naffected by the behaviour change. There should not be any, but there\nis one: nova.cmd.manage.NetworkCommands.modify. It only sets host to\nNone, so it is unaffected by the change.\n\n* nova/tests/unit/api/ec2/test_cloud.py\n\nAs for test_allocate_floating_ip above.\n\n* objects/test_network.py\n\nPurely mechanical update to tests which expected save to call\nnetwork_set_host.\n\n* db/fakes.py, api/openstack/compute/contrib/test_cloudpipe_update.py\n\nRemoved fakes for network_set_host, and updated network_update with\nnew behaviour.\n\nChange-Id: I6aaf26f930a06ec6e70bdc80bdaeda0caa598380\n'}, {'number': 5, 'created': '2014-12-12 16:48:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4fceacb9982383c6c972df054c4278556b9d4b27', 'message': 'Make Network.save() an atomic db transaction\n\nNetwork.save() updated network.host in a separate db operation and\ntransaction to other fields. This change makes Network.save() use a\nsingle, atomic database operation for updates by folding the previous\nbehaviour of network_set_host into network_update. We replicate the\nprevious compare-and-update behaviour of network_set_host by moving it\ninto the database update statement. This has the advantages of being\nrace-free and using fewer db round trips.\n\nWe remove network_set_host as there are no remaining users outside of\ntest code. All tests are updated accordingly. Test updates are of\nvarying complexity, and summarised below:\n\n* db/test_db_api.py:\n\nPurely mechanical update. network_set_host becomes network_update,\npassing host in values. Additionally, network_set_host previously\nreturned a value, which network_update does not. Instead, we re-fetch\nthe network from the db and test the host.\n\n* network/test_manager.py, nova/tests/unit/api/ec2/test_cloud.py\n\nThese tests were affected by the change in the behaviour of\nnetwork_update wrt host. Previously, host was not passed to\nnetwork_update() as it was handled by network_set_host() instead.  The\ntests were using network_update() to avoid the special handling of\nnetwork_set_update(). The tests are updated mechanically to take\naccount of the change. Additionally, I have audited the code for\ncallers of network_update which pass host, and therefore might be\naffected by the behaviour change. There should not be any, but there\nis one: nova.cmd.manage.NetworkCommands.modify. It only sets host to\nNone, so it is unaffected by the change.\n\n* objects/test_network.py\n\nPurely mechanical update to tests which expected save to call\nnetwork_set_host.\n\n* db/fakes.py, api/openstack/compute/contrib/test_cloudpipe_update.py\n\nRemoved fakes for network_set_host, and updated network_update with\nnew behaviour.\n\nChange-Id: I6aaf26f930a06ec6e70bdc80bdaeda0caa598380\n'}, {'number': 6, 'created': '2015-02-05 16:34:11.000000000', 'files': ['nova/tests/unit/db/fakes.py', 'nova/tests/unit/api/openstack/compute/contrib/test_cloudpipe_update.py', 'nova/tests/unit/objects/test_network.py', 'nova/objects/network.py', 'nova/tests/unit/api/ec2/test_cloud.py', 'nova/db/api.py', 'nova/tests/unit/db/test_db_api.py', 'nova/tests/unit/network/test_manager.py', 'nova/db/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/e227e1f6e6c0334564a7078dcf33a75ba21dd35c', 'message': 'Make Network.save() an atomic db transaction\n\nNetwork.save() updated network.host in a separate db operation and\ntransaction to other fields. This change makes Network.save() use a\nsingle, atomic database operation for updates by folding the previous\nbehaviour of network_set_host into network_update. We replicate the\nprevious compare-and-update behaviour of network_set_host by moving it\ninto the database update statement. This has the advantages of being\nrace-free and using fewer db round trips.\n\nWe remove network_set_host as there are no remaining users outside of\ntest code. All tests are updated accordingly. Test updates are of\nvarying complexity, and summarised below:\n\n* db/test_db_api.py:\n\nPurely mechanical update. network_set_host becomes network_update,\npassing host in values. Additionally, network_set_host previously\nreturned a value, which network_update does not. Instead, we re-fetch\nthe network from the db and test the host.\n\n* network/test_manager.py, nova/tests/unit/api/ec2/test_cloud.py\n\nThese tests were affected by the change in the behaviour of\nnetwork_update wrt host. Previously, host was not passed to\nnetwork_update() as it was handled by network_set_host() instead.  The\ntests were using network_update() to avoid the special handling of\nnetwork_set_update(). The tests are updated mechanically to take\naccount of the change. Additionally, I have audited the code for\ncallers of network_update which pass host, and therefore might be\naffected by the behaviour change. There should not be any, but there\nis one: nova.cmd.manage.NetworkCommands.modify. It only sets host to\nNone, so it is unaffected by the change.\n\n* objects/test_network.py\n\nPurely mechanical update to tests which expected save to call\nnetwork_set_host.\n\n* db/fakes.py, api/openstack/compute/contrib/test_cloudpipe_update.py\n\nRemoved fakes for network_set_host, and updated network_update with\nnew behaviour.\n\nChange-Id: I6aaf26f930a06ec6e70bdc80bdaeda0caa598380\n'}]",0,135350,e227e1f6e6c0334564a7078dcf33a75ba21dd35c,44,12,6,9555,,,0,"Make Network.save() an atomic db transaction

Network.save() updated network.host in a separate db operation and
transaction to other fields. This change makes Network.save() use a
single, atomic database operation for updates by folding the previous
behaviour of network_set_host into network_update. We replicate the
previous compare-and-update behaviour of network_set_host by moving it
into the database update statement. This has the advantages of being
race-free and using fewer db round trips.

We remove network_set_host as there are no remaining users outside of
test code. All tests are updated accordingly. Test updates are of
varying complexity, and summarised below:

* db/test_db_api.py:

Purely mechanical update. network_set_host becomes network_update,
passing host in values. Additionally, network_set_host previously
returned a value, which network_update does not. Instead, we re-fetch
the network from the db and test the host.

* network/test_manager.py, nova/tests/unit/api/ec2/test_cloud.py

These tests were affected by the change in the behaviour of
network_update wrt host. Previously, host was not passed to
network_update() as it was handled by network_set_host() instead.  The
tests were using network_update() to avoid the special handling of
network_set_update(). The tests are updated mechanically to take
account of the change. Additionally, I have audited the code for
callers of network_update which pass host, and therefore might be
affected by the behaviour change. There should not be any, but there
is one: nova.cmd.manage.NetworkCommands.modify. It only sets host to
None, so it is unaffected by the change.

* objects/test_network.py

Purely mechanical update to tests which expected save to call
network_set_host.

* db/fakes.py, api/openstack/compute/contrib/test_cloudpipe_update.py

Removed fakes for network_set_host, and updated network_update with
new behaviour.

Change-Id: I6aaf26f930a06ec6e70bdc80bdaeda0caa598380
",git fetch https://review.opendev.org/openstack/nova refs/changes/50/135350/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/objects/test_network.py', 'nova/objects/network.py', 'nova/db/api.py', 'nova/tests/unit/db/test_db_api.py', 'nova/tests/unit/network/test_manager.py', 'nova/db/sqlalchemy/api.py']",6,434277f4a19be02fff4bcf7a546976559d99a56a,db/consistent_object_update,"from sqlalchemy.sql.expression import casedef network_update(context, network_id, values): if 'host' in values: # Updating the host requires admin context nova.context.require_admin_context(context) # Only set the host to non-NULL if it is currently NULL. If it is # already set we silently do nothing by explicitly setting it to its # previous value during the update. # NOTE(mdbooth): I don't understand the motivation for this behaviour, # but it's what was there before. new_host = values['host'] if new_host is not None: values['host'] = case([(models.Network.host == null(), new_host)], else_=models.Network.host) else: # Updating anything else requires any context nova.context.require_context(context) session = get_session(autocommit=False) network_ref = _network_get_query(context, session=session).\ filter_by(id=network_id) try: if network_ref.update(values, synchronize_session=False) != 1: session.commit() except db_exc.DBDuplicateEntry as duplicate: if 'vlan' in duplicate.columns: raise except Exception: with excutils.save_and_reraise_exception(): session.rollback() return network_ref.one()","@require_admin_context def network_set_host(context, network_id, host_id): session = get_session() with session.begin(): network_ref = _network_get_query(context, session=session).\ filter_by(id=network_id).\ with_lockmode('update').\ first() if not network_ref: # NOTE(vish): if with_lockmode isn't supported, as in sqlite, # then this has concurrency issues if not network_ref['host']: network_ref['host'] = host_id session.add(network_ref) return network_ref['host'] @require_context def network_update(context, network_id, values): session = get_session() with session.begin(): network_ref = _network_get(context, network_id, session=session) network_ref.update(values) try: network_ref.save(session=session) except db_exc.DBDuplicateEntry: return network_ref",139,223
openstack%2Fnova~master~Id105ca54c3179e209a6dad4679f01a21d1018e00,openstack/nova,master,Id105ca54c3179e209a6dad4679f01a21d1018e00,Adding ib_hostdev VIF driver for InfiniBand network with SR-IOV,ABANDONED,2015-01-08 13:29:53.000000000,2015-05-13 17:22:16.000000000,,"[{'_account_id': 3}, {'_account_id': 1849}, {'_account_id': 5170}, {'_account_id': 6598}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 12065}, {'_account_id': 12171}, {'_account_id': 12177}, {'_account_id': 14384}]","[{'number': 1, 'created': '2015-01-08 13:29:53.000000000', 'files': ['nova/virt/libvirt/vif.py', 'nova/network/model.py', 'nova/virt/libvirt/designer.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/e9422d0c62a47ce91e6d9b30b52a315501bc29b8', 'message': 'Adding ib_hostdev VIF driver for InfiniBand network with SR-IOV\n\nChange-Id: Id105ca54c3179e209a6dad4679f01a21d1018e00\nImplements: blueprint vif-driver-ib-passthrough\nSigned-off-by: Gil Meir <gilmeir@mellanox.com>\n'}]",9,145779,e9422d0c62a47ce91e6d9b30b52a315501bc29b8,17,12,1,12177,,,0,"Adding ib_hostdev VIF driver for InfiniBand network with SR-IOV

Change-Id: Id105ca54c3179e209a6dad4679f01a21d1018e00
Implements: blueprint vif-driver-ib-passthrough
Signed-off-by: Gil Meir <gilmeir@mellanox.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/79/145779/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/vif.py', 'nova/network/model.py', 'nova/virt/libvirt/designer.py']",3,e9422d0c62a47ce91e6d9b30b52a315501bc29b8,bp/vif-driver-ib-passthrough,"def set_vif_host_backend_ib_hostdev_config(conf, devname): """"""Populate a LibvirtConfigGuestInterface instance with hostdev Interface. """""" conf.domain, conf.bus, conf.slot, conf.function = \ pci_utils.get_pci_address_fields(devname) ",,45,0
openstack%2Fnova~master~I3ef5c9976474a2e6bdac5ec81d9af7aee10f6826,openstack/nova,master,I3ef5c9976474a2e6bdac5ec81d9af7aee10f6826,Double delete a floating ip range throws exception,ABANDONED,2014-11-18 09:58:06.000000000,2015-05-13 17:22:13.000000000,,"[{'_account_id': 3}, {'_account_id': 1653}, {'_account_id': 1849}, {'_account_id': 4393}, {'_account_id': 5170}, {'_account_id': 6062}, {'_account_id': 8412}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11103}, {'_account_id': 11793}]","[{'number': 1, 'created': '2014-11-18 09:58:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/872ad53e51be381ae477b41a5fe3a2be954882a4', 'message': 'Double delete a floating ip range throw exception\n\nPreviously, double deleting a floating ip range did not\nthrow any error. Now with this fix, if we delete an already\ndeleted floating IP range, it will raise an exception\n""Requested IP range does not exist"".\n\nChange-Id: I3ef5c9976474a2e6bdac5ec81d9af7aee10f6826\nCloses-Bug: #1369955\n'}, {'number': 2, 'created': '2014-11-21 10:34:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fd500d9bbea587fe7afb920819bd0da79c253225', 'message': 'Double delete a floating ip range throw exception\n\nPreviously, double deleting a floating ip range did not\nthrow any error. Now with this fix, if we delete an already\ndeleted floating IP range, it will raise an exception\n""Requested IP range does not exist"".\n\nChange-Id: I3ef5c9976474a2e6bdac5ec81d9af7aee10f6826\nCloses-Bug: #1369955\n'}, {'number': 3, 'created': '2014-11-27 07:42:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c4d69e0ef1368799a5c4c4e094ced45a14bd0351', 'message': 'Double delete a floating ip range throw exception\n\nPreviously, double deleting a floating ip range did not\nthrow any error. Now with this fix, if we delete an already\ndeleted floating IP range, it will raise an exception\n""Requested IP range does not exist"".\n\nChange-Id: I3ef5c9976474a2e6bdac5ec81d9af7aee10f6826\nCloses-Bug: #1369955\n'}, {'number': 4, 'created': '2014-12-18 07:28:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7f805498c3a76c08df8c4212af2c81be7d65688c', 'message': 'Double delete a floating ip range throw exception\n\nPreviously, double deleting a floating ip range did not\nthrow any error. Now with this fix, if we delete an already\ndeleted floating IP range, it will raise an exception\n""Requested IP range does not exist"".\n\nChange-Id: I3ef5c9976474a2e6bdac5ec81d9af7aee10f6826\nCloses-Bug: #1369955\n'}, {'number': 5, 'created': '2014-12-24 03:30:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e4956f5b79af68b6dfbe828da28e0e8893a90de3', 'message': 'Double delete a floating ip range throw exception\n\nPreviously, double deleting a floating ip range did not\nthrow any error. Now with this fix, if we delete an already\ndeleted floating IP range, it will raise an exception\n""Requested IP range does not exist"".\n\nChange-Id: I3ef5c9976474a2e6bdac5ec81d9af7aee10f6826\nCloses-Bug: #1369955\n'}, {'number': 6, 'created': '2015-02-17 08:50:21.000000000', 'files': ['nova/cmd/manage.py', 'nova/tests/unit/db/test_db_api.py', 'nova/db/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/fa6b93a421b52bca603f2ea88adfea960363dea6', 'message': 'Double delete a floating ip range throws exception\n\nPreviously, double deleting a floating ip range did not\nthrow any error. Now with this fix, if we delete an already\ndeleted floating IP range, it will raise an exception\n""Requested IP range does not exist"".\n\nChange-Id: I3ef5c9976474a2e6bdac5ec81d9af7aee10f6826\nCloses-Bug: #1369955\n'}]",16,135204,fa6b93a421b52bca603f2ea88adfea960363dea6,55,14,6,11793,,,0,"Double delete a floating ip range throws exception

Previously, double deleting a floating ip range did not
throw any error. Now with this fix, if we delete an already
deleted floating IP range, it will raise an exception
""Requested IP range does not exist"".

Change-Id: I3ef5c9976474a2e6bdac5ec81d9af7aee10f6826
Closes-Bug: #1369955
",git fetch https://review.opendev.org/openstack/nova refs/changes/04/135204/3 && git format-patch -1 --stdout FETCH_HEAD,"['nova/cmd/manage.py', 'nova/db/sqlalchemy/api.py']",2,872ad53e51be381ae477b41a5fe3a2be954882a4,bug/1369955," if len(rows) != 0: for row in rows: # The count is negative since we release quota by # reserving negative quota. project_id_to_quota_count[row['project_id']] -= 1 else: LOG.exception(_(""Floating IP Pool not found."")) raise exception.FloatingIpPoolNotFound(ips=ips)", for row in rows: # The count is negative since we release quota by # reserving negative quota. project_id_to_quota_count[row['project_id']] -= 1,13,5
openstack%2Fnova~master~I5be0fcf8dd74fcddc10e1468698f2a2c8490b950,openstack/nova,master,I5be0fcf8dd74fcddc10e1468698f2a2c8490b950,Updated handler.py to use address of instance,ABANDONED,2015-02-17 04:32:40.000000000,2015-05-13 17:22:12.000000000,,"[{'_account_id': 3}, {'_account_id': 1849}, {'_account_id': 4190}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11103}, {'_account_id': 12432}]","[{'number': 1, 'created': '2015-02-17 04:32:40.000000000', 'files': ['nova/api/metadata/handler.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/42e10f049b5abc4dd96c7c5991a584d532c0905b', 'message': 'Updated handler.py to use address of instance\n\nWhen an EC2 metadata request is received via the neutron metadata proxy,\nNova assumes that the X-Forwarded-For item in the header is the\naddress of the instance. In fact, depending on the network path,\nthis is a comma seperated list of addresses.\nOnly the first element is the address of the instance.\n\nChange-Id: I5be0fcf8dd74fcddc10e1468698f2a2c8490b950\nCloses-Bug: #1284741\n'}]",0,156460,42e10f049b5abc4dd96c7c5991a584d532c0905b,13,9,1,12432,,,0,"Updated handler.py to use address of instance

When an EC2 metadata request is received via the neutron metadata proxy,
Nova assumes that the X-Forwarded-For item in the header is the
address of the instance. In fact, depending on the network path,
this is a comma seperated list of addresses.
Only the first element is the address of the instance.

Change-Id: I5be0fcf8dd74fcddc10e1468698f2a2c8490b950
Closes-Bug: #1284741
",git fetch https://review.opendev.org/openstack/nova refs/changes/60/156460/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/api/metadata/handler.py'],1,42e10f049b5abc4dd96c7c5991a584d532c0905b,bug/1284741," remote_address = req.headers.get('X-Forwarded-For', remote_address).split(',')[0]"," remote_address = req.headers.get('X-Forwarded-For', remote_address)",1,1
openstack%2Fnova~master~I9f6710879ea66dda9b4fe8c327fabcf8a418c8bc,openstack/nova,master,I9f6710879ea66dda9b4fe8c327fabcf8a418c8bc,Added UUID field validation,ABANDONED,2015-02-18 08:48:22.000000000,2015-05-13 17:22:10.000000000,,"[{'_account_id': 3}, {'_account_id': 1849}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11103}]","[{'number': 1, 'created': '2015-02-18 08:48:22.000000000', 'files': ['nova/tests/unit/api/openstack/compute/contrib/test_server_diagnostics.py', 'nova/tests/unit/network/test_api.py', 'nova/tests/unit/objects/test_instance_group.py', 'nova/tests/unit/objects/test_network.py', 'nova/tests/unit/virt/vmwareapi/test_imagecache.py', 'nova/tests/unit/pci/test_manager.py', 'nova/tests/unit/virt/vmwareapi/test_configdrive.py', 'nova/tests/unit/virt/test_imagecache.py', 'nova/tests/unit/virt/test_block_device.py', 'nova/tests/unit/virt/libvirt/test_blockinfo.py', 'nova/tests/unit/api/openstack/compute/test_images.py', 'nova/tests/unit/virt/xenapi/test_vm_utils.py', 'nova/tests/unit/objects/test_fixed_ip.py', 'nova/tests/unit/api/openstack/compute/test_flavors.py', 'nova/tests/unit/objects/test_network_request.py', 'nova/objects/ec2.py', 'nova/tests/unit/objects/test_instance_fault.py', 'nova/tests/unit/virt/libvirt/test_imagecache.py', 'nova/tests/unit/api/openstack/compute/contrib/test_simple_tenant_usage.py', 'nova/tests/unit/compute/test_compute.py', 'nova/tests/unit/api/openstack/compute/contrib/test_scheduler_hints.py', 'nova/tests/unit/objects/test_bandwidth_usage.py', 'nova/tests/unit/objects/test_instance_info_cache.py', 'nova/tests/unit/virt/libvirt/test_driver.py', 'nova/tests/unit/compute/test_compute_mgr.py', 'nova/tests/unit/objects/test_fields.py', 'nova/tests/unit/objects/test_floating_ip.py', 'nova/tests/unit/virt/vmwareapi/test_vmops.py', 'nova/tests/unit/api/ec2/test_cloud.py', 'nova/tests/unit/api/openstack/compute/contrib/test_server_start_stop.py', 'nova/tests/unit/pci/test_device.py', 'nova/tests/unit/objects/test_instance.py', 'nova/tests/unit/network/test_manager.py', 'nova/tests/unit/compute/test_rpcapi.py', 'nova/tests/unit/fake_network.py', 'nova/tests/unit/network/test_linux_net.py', 'nova/tests/unit/network/test_neutronv2.py', 'nova/tests/unit/objects/test_instance_action.py', 'nova/tests/unit/virt/test_hardware.py', 'nova/tests/unit/virt/xenapi/test_xenapi.py', 'nova/tests/unit/api/openstack/compute/contrib/test_virtual_interfaces.py', 'nova/tests/unit/conductor/test_conductor.py', 'nova/tests/unit/virt/vmwareapi/test_driver_api.py', 'nova/tests/unit/api/openstack/compute/contrib/test_certificates.py', 'nova/tests/unit/virt/xenapi/test_vmops.py', 'nova/tests/unit/api/openstack/compute/test_server_actions.py', 'nova/tests/unit/api/openstack/compute/contrib/test_floating_ips_bulk.py', 'nova/tests/unit/api/openstack/compute/contrib/test_pci.py', 'nova/tests/unit/test_metadata.py', 'nova/tests/unit/objects/test_instance_pci_requests.py', 'nova/tests/unit/test_block_device.py', 'nova/tests/unit/objects/test_virtual_interface.py', 'nova/tests/unit/api/openstack/compute/contrib/test_fixed_ips.py', 'nova/tests/unit/api/openstack/compute/contrib/test_networks.py', 'nova/tests/unit/api/openstack/fakes.py', 'nova/tests/unit/objects/test_security_group.py', 'nova/tests/unit/api/openstack/compute/contrib/test_disk_config.py', 'nova/tests/unit/api/openstack/compute/contrib/test_evacuate.py', 'nova/tests/unit/objects/test_block_device.py', 'nova/tests/unit/api/openstack/compute/contrib/test_server_group_quotas.py', 'nova/objects/fields.py', 'nova/tests/unit/api/openstack/compute/contrib/test_server_groups.py', 'nova/tests/unit/compute/test_compute_utils.py', 'nova/tests/unit/conductor/tasks/test_live_migrate.py', 'nova/tests/unit/objects/test_objects.py', 'nova/tests/unit/compute/test_compute_api.py', 'nova/tests/unit/api/openstack/compute/plugins/v3/test_servers.py', 'nova/tests/unit/api/openstack/compute/contrib/test_extended_virtual_interfaces_net.py', 'nova/tests/unit/api/openstack/compute/test_servers.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/7cf709ac294baabab2c421d63fb53d6126622361', 'message': 'Added UUID field validation\n\nAdded validation of UUID into method nova.objects.fields.UUID.coerce\nIt was done to not allow creating of UUID fields with invalid UUID values.\n\nAlso created new field type EC2UUID for following objects:\n - EC2InstanceMapping\n - EC2VolumeMapping\n - EC2SnapshotMapping\n - S3ImageMapping\n\nIt was done because uuid fields in EC2 objects have another structure.\n\nChange-Id: I9f6710879ea66dda9b4fe8c327fabcf8a418c8bc\n'}]",0,156922,7cf709ac294baabab2c421d63fb53d6126622361,10,8,1,9569,,,0,"Added UUID field validation

Added validation of UUID into method nova.objects.fields.UUID.coerce
It was done to not allow creating of UUID fields with invalid UUID values.

Also created new field type EC2UUID for following objects:
 - EC2InstanceMapping
 - EC2VolumeMapping
 - EC2SnapshotMapping
 - S3ImageMapping

It was done because uuid fields in EC2 objects have another structure.

Change-Id: I9f6710879ea66dda9b4fe8c327fabcf8a418c8bc
",git fetch https://review.opendev.org/openstack/nova refs/changes/22/156922/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/api/openstack/compute/contrib/test_server_diagnostics.py', 'nova/tests/unit/network/test_api.py', 'nova/tests/unit/objects/test_instance_group.py', 'nova/tests/unit/objects/test_network.py', 'nova/tests/unit/virt/vmwareapi/test_imagecache.py', 'nova/tests/unit/pci/test_manager.py', 'nova/tests/unit/virt/vmwareapi/test_configdrive.py', 'nova/tests/unit/virt/test_imagecache.py', 'nova/tests/unit/virt/test_block_device.py', 'nova/tests/unit/virt/libvirt/test_blockinfo.py', 'nova/tests/unit/api/openstack/compute/test_images.py', 'nova/tests/unit/virt/xenapi/test_vm_utils.py', 'nova/tests/unit/objects/test_fixed_ip.py', 'nova/tests/unit/api/openstack/compute/test_flavors.py', 'nova/tests/unit/objects/test_network_request.py', 'nova/objects/ec2.py', 'nova/tests/unit/objects/test_instance_fault.py', 'nova/tests/unit/virt/libvirt/test_imagecache.py', 'nova/tests/unit/api/openstack/compute/contrib/test_simple_tenant_usage.py', 'nova/tests/unit/compute/test_compute.py', 'nova/tests/unit/api/openstack/compute/contrib/test_scheduler_hints.py', 'nova/tests/unit/objects/test_bandwidth_usage.py', 'nova/tests/unit/objects/test_instance_info_cache.py', 'nova/tests/unit/virt/libvirt/test_driver.py', 'nova/tests/unit/compute/test_compute_mgr.py', 'nova/tests/unit/objects/test_fields.py', 'nova/tests/unit/objects/test_floating_ip.py', 'nova/tests/unit/virt/vmwareapi/test_vmops.py', 'nova/tests/unit/api/ec2/test_cloud.py', 'nova/tests/unit/api/openstack/compute/contrib/test_server_start_stop.py', 'nova/tests/unit/pci/test_device.py', 'nova/tests/unit/objects/test_instance.py', 'nova/tests/unit/network/test_manager.py', 'nova/tests/unit/compute/test_rpcapi.py', 'nova/tests/unit/fake_network.py', 'nova/tests/unit/network/test_linux_net.py', 'nova/tests/unit/network/test_neutronv2.py', 'nova/tests/unit/objects/test_instance_action.py', 'nova/tests/unit/virt/test_hardware.py', 'nova/tests/unit/virt/xenapi/test_xenapi.py', 'nova/tests/unit/api/openstack/compute/contrib/test_virtual_interfaces.py', 'nova/tests/unit/conductor/test_conductor.py', 'nova/tests/unit/virt/vmwareapi/test_driver_api.py', 'nova/tests/unit/api/openstack/compute/contrib/test_certificates.py', 'nova/tests/unit/virt/xenapi/test_vmops.py', 'nova/tests/unit/api/openstack/compute/test_server_actions.py', 'nova/tests/unit/api/openstack/compute/contrib/test_floating_ips_bulk.py', 'nova/tests/unit/api/openstack/compute/contrib/test_pci.py', 'nova/tests/unit/test_metadata.py', 'nova/tests/unit/objects/test_instance_pci_requests.py', 'nova/tests/unit/test_block_device.py', 'nova/tests/unit/objects/test_virtual_interface.py', 'nova/tests/unit/api/openstack/compute/contrib/test_fixed_ips.py', 'nova/tests/unit/api/openstack/compute/contrib/test_networks.py', 'nova/tests/unit/api/openstack/fakes.py', 'nova/tests/unit/objects/test_security_group.py', 'nova/tests/unit/api/openstack/compute/contrib/test_disk_config.py', 'nova/tests/unit/api/openstack/compute/contrib/test_evacuate.py', 'nova/tests/unit/objects/test_block_device.py', 'nova/tests/unit/api/openstack/compute/contrib/test_server_group_quotas.py', 'nova/objects/fields.py', 'nova/tests/unit/api/openstack/compute/contrib/test_server_groups.py', 'nova/tests/unit/compute/test_compute_utils.py', 'nova/tests/unit/conductor/tasks/test_live_migrate.py', 'nova/tests/unit/objects/test_objects.py', 'nova/tests/unit/compute/test_compute_api.py', 'nova/tests/unit/api/openstack/compute/plugins/v3/test_servers.py', 'nova/tests/unit/api/openstack/compute/contrib/test_extended_virtual_interfaces_net.py', 'nova/tests/unit/api/openstack/compute/test_servers.py']",69,7cf709ac294baabab2c421d63fb53d6126622361,uuid,"FAKE_PROJECT_ID = fakes.FAKE_PROJECT_ID ""href"": ""http://localhost/v2/%s/servers/%s"" % ( FAKE_PROJECT_ID, uuid), ""href"": ""http://localhost/%s/servers/%s"" % ( FAKE_PROJECT_ID, uuid), image_bookmark = ""http://localhost/%s/images/10"" % FAKE_PROJECT_ID flavor_bookmark = ""http://localhost/%s/flavors/1"" % FAKE_PROJECT_ID req = fakes.HTTPRequest.blank('/v2/%s/servers/%s' % (FAKE_PROJECT_ID, uuid)) image_bookmark = ""http://localhost/%s/images/10"" % FAKE_PROJECT_ID flavor_bookmark = ""http://localhost/%s/flavors/1"" % FAKE_PROJECT_ID req = fakes.HTTPRequest.blank('/%s/servers/%s' % (FAKE_PROJECT_ID, uuid)) image_bookmark = ""http://localhost/%s/images/10"" % FAKE_PROJECT_ID flavor_bookmark = ""http://localhost/%s/flavors/1"" % FAKE_PROJECT_ID req = fakes.HTTPRequest.blank('/%s/servers/%s' % (FAKE_PROJECT_ID, uuid)) req = fakes.HTTPRequest.blank('/%s/servers' % FAKE_PROJECT_ID) ""href"": ""http://localhost/v2/%s/servers/%s"" % ( FAKE_PROJECT_ID, s['id']), ""href"": ""http://localhost/%s/servers/%s"" % ( FAKE_PROJECT_ID, s['id']), req = fakes.HTTPRequest.blank('/%s/servers?limit=3' % FAKE_PROJECT_ID) self.assertEqual('/v2/%s/servers' % FAKE_PROJECT_ID, href_parts.path) req = fakes.HTTPRequest.blank('/%s/servers/detail?limit=3' % FAKE_PROJECT_ID) self.assertEqual('/v2/%s/servers/detail' % FAKE_PROJECT_ID, href_parts.path) req = fakes.HTTPRequest.blank('/%s/servers/detail' '&sort_key=id1&sort_dir=asc' % FAKE_PROJECT_ID) self.assertEqual('/v2/%s/servers/detail' % FAKE_PROJECT_ID, href_parts.path) self.assertEqual(filters['project_id'], FAKE_PROJECT_ID) req = fakes.HTTPRequest.blank('/%s/servers' % FAKE_PROJECT_ID, common_policy.parse_rule(""project_id:%s"" % FAKE_PROJECT_ID), ""compute:get_all"": common_policy.parse_rule(""project_id:%s"" % FAKE_PROJECT_ID), req = fakes.HTTPRequest.blank('/%s/servers?all_tenants=1' % FAKE_PROJECT_ID) req = fakes.HTTPRequest.blank('/%s/servers?all_tenants=1' % FAKE_PROJECT_ID) '/%s/servers?status=active&status=error' % FAKE_PROJECT_ID) project_id=FAKE_PROJECT_ID) '/%s/servers?status=active&status=error&system_metadata=%s' % ( FAKE_PROJECT_ID, urllib.quote(expected_system_metadata)), system_metadata=expected_system_metadata, project_id=FAKE_PROJECT_ID) '/%s/servers?status=active&status=invalid' % FAKE_PROJECT_ID) project_id=FAKE_PROJECT_ID) ""href"": 'http://localhost/%s/flavors/1' % FAKE_PROJECT_ID, ""href"": 'http://localhost/%s/images/10' % FAKE_PROJECT_ID, req = fakes.HTTPRequest.blank('/%s/servers/detail' % FAKE_PROJECT_ID) self.req = fakes.HTTPRequest.blank('/%s/servers' % FAKE_PROJECT_ID) image_href = 'http://localhost/%s/images/%s' % ( FAKE_PROJECT_ID, self.image_uuid) image_href = 'http://localhost/%s/images/%s' % ( FAKE_PROJECT_ID, image_uuid) selfhref = 'http://localhost/v2/%s/servers/%s' % (FAKE_PROJECT_ID, FAKE_UUID) image_bookmark = ""http://localhost/%s/images/5"" % FAKE_PROJECT_ID flavor_bookmark = ""http://localhost/%s/flavors/1"" % FAKE_PROJECT_ID self.request = fakes.HTTPRequest.blank(""/v2/%s"" % FAKE_PROJECT_ID) self.self_link = ""http://localhost/v2/%s/servers/%s"" % ( FAKE_PROJECT_ID, self.uuid) self.bookmark_link = ""http://localhost/%s/servers/%s"" % ( FAKE_PROJECT_ID, self.uuid)"," ""href"": ""http://localhost/v2/fake/servers/%s"" % uuid, ""href"": ""http://localhost/fake/servers/%s"" % uuid, image_bookmark = ""http://localhost/fake/images/10"" flavor_bookmark = ""http://localhost/fake/flavors/1"" req = fakes.HTTPRequest.blank('/v2/fake/servers/%s' % uuid) image_bookmark = ""http://localhost/fake/images/10"" flavor_bookmark = ""http://localhost/fake/flavors/1"" req = fakes.HTTPRequest.blank('/fake/servers/%s' % uuid) image_bookmark = ""http://localhost/fake/images/10"" flavor_bookmark = ""http://localhost/fake/flavors/1"" req = fakes.HTTPRequest.blank('/fake/servers/%s' % uuid) req = fakes.HTTPRequest.blank('/fake/servers') ""href"": ""http://localhost/v2/fake/servers/%s"" % s['id'], ""href"": ""http://localhost/fake/servers/%s"" % s['id'], req = fakes.HTTPRequest.blank('/fake/servers?limit=3') self.assertEqual('/v2/fake/servers', href_parts.path) req = fakes.HTTPRequest.blank('/fake/servers/detail?limit=3') self.assertEqual('/v2/fake/servers/detail', href_parts.path) req = fakes.HTTPRequest.blank('/fake/servers/detail' '&sort_key=id1&sort_dir=asc') self.assertEqual('/v2/fake/servers/detail', href_parts.path) self.assertEqual(filters['project_id'], 'fake') req = fakes.HTTPRequest.blank('/fake/servers', common_policy.parse_rule(""project_id:fake""), ""compute:get_all"": common_policy.parse_rule(""project_id:fake""), req = fakes.HTTPRequest.blank('/fake/servers?all_tenants=1') req = fakes.HTTPRequest.blank('/fake/servers?all_tenants=1') '/fake/servers?status=active&status=error') project_id='fake') '/fake/servers?status=active&status=error&system_metadata=' + urllib.quote(expected_system_metadata), system_metadata=expected_system_metadata, project_id='fake') '/fake/servers?status=active&status=invalid') project_id='fake') ""href"": 'http://localhost/fake/flavors/1', ""href"": 'http://localhost/fake/images/10', req = fakes.HTTPRequest.blank('/fake/servers/detail') self.req = fakes.HTTPRequest.blank('/fake/servers') image_href = 'http://localhost/fake/images/%s' % self.image_uuid image_href = 'http://localhost/fake/images/%s' % image_uuid selfhref = 'http://localhost/v2/fake/servers/%s' % FAKE_UUID image_bookmark = ""http://localhost/fake/images/5"" flavor_bookmark = ""http://localhost/fake/flavors/1"" self.request = fakes.HTTPRequest.blank(""/v2/fake"") self.self_link = ""http://localhost/v2/fake/servers/%s"" % self.uuid self.bookmark_link = ""http://localhost/fake/servers/%s"" % self.uuid",984,764
openstack%2Fnova~master~I1b7d34ee0839c96fff340b25ebd07edf0389e24a,openstack/nova,master,I1b7d34ee0839c96fff340b25ebd07edf0389e24a,wip: expose bug in API dispatch,ABANDONED,2015-02-18 22:30:13.000000000,2015-05-13 17:22:09.000000000,,"[{'_account_id': 3}, {'_account_id': 1849}, {'_account_id': 5754}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11103}]","[{'number': 1, 'created': '2015-02-18 22:30:13.000000000', 'files': ['nova/tests/unit/test_fixtures.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/e129fcbfb3e6be7ae353fc6d64aa6a649af2b719', 'message': 'wip: expose bug in API dispatch\n\nThe following includes a test case in nova/tests/unit/test_fixtures.py\nwhich fails when trying to make the following url call with the OSAPIFixture\n\nGET of /foo\n\nShould return a 404, but instead returns a 300 with a versions looking\nbody with /v2.1/foo listed in it.\n\nChange-Id: I1b7d34ee0839c96fff340b25ebd07edf0389e24a\n'}]",0,157174,e129fcbfb3e6be7ae353fc6d64aa6a649af2b719,12,8,1,2750,,,0,"wip: expose bug in API dispatch

The following includes a test case in nova/tests/unit/test_fixtures.py
which fails when trying to make the following url call with the OSAPIFixture

GET of /foo

Should return a 404, but instead returns a 300 with a versions looking
body with /v2.1/foo listed in it.

Change-Id: I1b7d34ee0839c96fff340b25ebd07edf0389e24a
",git fetch https://review.opendev.org/openstack/nova refs/changes/74/157174/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/unit/test_fixtures.py'],1,e129fcbfb3e6be7ae353fc6d64aa6a649af2b719,ftests_fail," resp = api.api_request('/foo', strip_version=True) self.assertEqual(resp.status_code, 404, resp.content)"," # # NOTE(sdague): this currently fails, as it falls into the 300 # dispatcher instead. This is a bug. The test case is left in # here, commented out until we can address it. # # resp = api.api_request('/foo', strip_version=True) # self.assertEqual(resp.status_code, 400, resp.content)",2,7
openstack%2Fnova~master~Ideada4806a0a80e52cc1371ac416049939c09863,openstack/nova,master,Ideada4806a0a80e52cc1371ac416049939c09863,xenapi VM soft reboot attempts hard reboot on failure,ABANDONED,2015-02-16 23:36:40.000000000,2015-05-13 17:22:05.000000000,,"[{'_account_id': 3}, {'_account_id': 1849}, {'_account_id': 7730}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11103}, {'_account_id': 11444}]","[{'number': 1, 'created': '2015-02-16 23:36:40.000000000', 'files': ['nova/virt/xenapi/driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/db622f34994c4a5ccf50f67be6c18fdbb9a65aec', 'message': 'xenapi VM soft reboot attempts hard reboot on failure\n\nWhen we issue a xenapi soft reboot on a given VM and this request fails,\nwe should then try a hard VM reboot. This change makes xenapi consisten with\nthe way how libvirt does VM reboot:\nhttps://github.com/openstack/nova/blob/master/nova/virt/libvirt/driver.py#L1977\n\nChange-Id: Ideada4806a0a80e52cc1371ac416049939c09863\nCloses-Bug: #1422342\n'}]",2,156417,db622f34994c4a5ccf50f67be6c18fdbb9a65aec,11,9,1,11444,,,0,"xenapi VM soft reboot attempts hard reboot on failure

When we issue a xenapi soft reboot on a given VM and this request fails,
we should then try a hard VM reboot. This change makes xenapi consisten with
the way how libvirt does VM reboot:
https://github.com/openstack/nova/blob/master/nova/virt/libvirt/driver.py#L1977

Change-Id: Ideada4806a0a80e52cc1371ac416049939c09863
Closes-Bug: #1422342
",git fetch https://review.opendev.org/openstack/nova refs/changes/17/156417/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/virt/xenapi/driver.py'],1,db622f34994c4a5ccf50f67be6c18fdbb9a65aec,bug/1422342,"from nova.i18n import _, _LE, _LI, _LW if reboot_type == 'SOFT': try: soft_reboot_success = self._vmops.reboot(instance, reboot_type, bad_volumes_callback=bad_volumes_callback) except Exception as e: LOG.debug(""Instance soft reboot failed: %s"", e) soft_reboot_success = False if soft_reboot_success: LOG.info(_LI(""Instance soft rebooted successfully.""), instance=instance) return else: LOG.warn(_LW(""Failed to soft reboot instance. "" ""Trying hard reboot.""), instance=instance) reboot_type = 'HARD' return self._vmops.reboot(instance, reboot_type, bad_volumes_callback=bad_volumes_callback)","from nova.i18n import _, _LE, _LW self._vmops.reboot(instance, reboot_type, bad_volumes_callback=bad_volumes_callback)",20,3
openstack%2Fnova~master~I034d4b99f64a22b1b2777259b97844537be602d4,openstack/nova,master,I034d4b99f64a22b1b2777259b97844537be602d4,vfs api: possibility not to use libguestfs at all,ABANDONED,2015-02-17 15:59:52.000000000,2015-05-13 17:22:04.000000000,,"[{'_account_id': 3}, {'_account_id': 1726}, {'_account_id': 1779}, {'_account_id': 1849}, {'_account_id': 2750}, {'_account_id': 9555}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11103}]","[{'number': 1, 'created': '2015-02-17 15:59:52.000000000', 'files': ['nova/virt/disk/vfs/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/a9f9d1126719a53ec74752fbc5a1305c1d64db85', 'message': 'vfs api: possibility not to use libguestfs at all\n\nLibguestfs is a smart tool for data injection.\nHowever, there are a lot of cases when it does not work\nas expected. In any case when libguestfs is failing\n(mount failures, ghost destroy failures...), it can be useful\nto force nova not using it, even when installed\n\nChange-Id: I034d4b99f64a22b1b2777259b97844537be602d4\n'}]",0,156633,a9f9d1126719a53ec74752fbc5a1305c1d64db85,12,10,1,15064,,,0,"vfs api: possibility not to use libguestfs at all

Libguestfs is a smart tool for data injection.
However, there are a lot of cases when it does not work
as expected. In any case when libguestfs is failing
(mount failures, ghost destroy failures...), it can be useful
to force nova not using it, even when installed

Change-Id: I034d4b99f64a22b1b2777259b97844537be602d4
",git fetch https://review.opendev.org/openstack/nova refs/changes/33/156633/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/virt/disk/vfs/api.py'],1,a9f9d1126719a53ec74752fbc5a1305c1d64db85,no_libguestfs_use,"from oslo.config import cfgCONF = cfg.CONFvfs_opts = [ cfg.BoolOpt('use_libguestfs', default=True, help='Decide whether we should try to use libguestfs or not ' 'at all. This is not a guaranty that it will be used, ' 'just a flag to keep it as an optional solution'), ] CONF.register_opts(vfs_opts) if CONF.use_libguestfs: try: LOG.debug(""Using primary VFSGuestFS"") vfs = importutils.import_object( ""nova.virt.disk.vfs.guestfs.VFSGuestFS"", imgfile, imgfmt, partition) if not VFS.guestfs_ready: # Inspect for capabilities and keep # track of the result only if succeeded. vfs.inspect_capabilities() VFS.guestfs_ready = True return vfs except exception.NovaException: if vfs is not None: # We are able to load libguestfs but # something wrong happens when trying to # check for capabilities. raise else: LOG.info(_LI(""Unable to import guestfs, "" ""falling back to VFSLocalFS""))"," try: LOG.debug(""Using primary VFSGuestFS"") vfs = importutils.import_object( ""nova.virt.disk.vfs.guestfs.VFSGuestFS"", imgfile, imgfmt, partition) if not VFS.guestfs_ready: # Inspect for capabilities and keep # track of the result only if succeeded. vfs.inspect_capabilities() VFS.guestfs_ready = True return vfs except exception.NovaException: if vfs is not None: # We are able to load libguestfs but # something wrong happens when trying to # check for capabilities. raise else: LOG.info(_LI(""Unable to import guestfs, "" ""falling back to VFSLocalFS""))",33,20
openstack%2Fnova~master~Iaef0e2c280d81269e17c8a851801102f5c593430,openstack/nova,master,Iaef0e2c280d81269e17c8a851801102f5c593430,EC2: Implement volume tags (metadata) in EC2 API,ABANDONED,2014-08-06 15:24:20.000000000,2015-05-13 17:22:01.000000000,,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 782}, {'_account_id': 1849}, {'_account_id': 5170}, {'_account_id': 5538}, {'_account_id': 5638}, {'_account_id': 6661}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9312}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10224}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-08-06 15:24:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bfe70120019806ffa44f39225a1c07b355d3cebd', 'message': 'EC2: Implement volume tags (metadata) in EC2 API\n\nThis patch implements volume tags for EC2 API.\nSee the blueprint for more information.\n\nProgress on:\nBlueprint: ec2-volume-and-snapshot-tags\n\nChange-Id: Iaef0e2c280d81269e17c8a851801102f5c593430\n'}, {'number': 2, 'created': '2014-08-06 15:28:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/dba06be6248f36ce48313d703573fda534ef227a', 'message': 'EC2: Implement volume tags (metadata) in EC2 API\n\nThis patch implements volume tags for EC2 API.\n\nProgress on:\nBlueprint: ec2-volume-and-snapshot-tags\n\nChange-Id: Iaef0e2c280d81269e17c8a851801102f5c593430\n'}, {'number': 3, 'created': '2014-08-09 07:00:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a80fd5ce6870b60d1f36ce7d5d33c117e6d7f737', 'message': 'EC2: Implement volume tags (metadata) in EC2 API\n\nThis patch implements volume tags for EC2 API.\n\nProgress on:\nBlueprint: ec2-volume-and-snapshot-tags\n\nChange-Id: Iaef0e2c280d81269e17c8a851801102f5c593430\n'}, {'number': 4, 'created': '2014-08-14 07:07:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1afa771e7cb27bf6d6063b7f75d5a8b57e876024', 'message': 'EC2: Implement volume tags (metadata) in EC2 API\n\nThis patch implements volume tags for EC2 API.\n\nProgress on:\nBlueprint: ec2-volume-and-snapshot-tags\n\nChange-Id: Iaef0e2c280d81269e17c8a851801102f5c593430\n'}, {'number': 5, 'created': '2014-08-14 10:24:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cfd7949067a337763a64a243ed5c1a6e9a807cd2', 'message': 'EC2: Implement volume tags (metadata) in EC2 API\n\nThis patch implements volume tags for EC2 API.\n\nProgress on:\nBlueprint: ec2-volume-and-snapshot-tags\n\nChange-Id: Iaef0e2c280d81269e17c8a851801102f5c593430\n'}, {'number': 6, 'created': '2014-08-14 15:58:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7fafc30373773d9c04bee21afb0bb414241e390b', 'message': 'EC2: Implement volume tags (metadata) in EC2 API\n\nThis patch implements volume tags for EC2 API.\n\nProgress on:\nBlueprint: ec2-volume-and-snapshot-tags\n\nChange-Id: Iaef0e2c280d81269e17c8a851801102f5c593430\n'}, {'number': 7, 'created': '2014-08-20 15:36:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e8d72e94b6336f6c4fa342f8a78c155bcc21b6f1', 'message': 'EC2: Implement volume tags (metadata) in EC2 API\n\nThis patch implements volume tags for EC2 API.\n\nProgress on:\nBlueprint: ec2-volume-and-snapshot-tags\n\nChange-Id: Iaef0e2c280d81269e17c8a851801102f5c593430\n'}, {'number': 8, 'created': '2014-08-21 07:28:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/084e2b191ab8c1d13c52f99e4d418d8ca7417ab5', 'message': 'EC2: Implement volume tags (metadata) in EC2 API\n\nThis patch implements volume tags for EC2 API.\n\nProgress on:\nBlueprint: ec2-volume-and-snapshot-tags\n\nChange-Id: Iaef0e2c280d81269e17c8a851801102f5c593430\n'}, {'number': 9, 'created': '2014-08-22 09:38:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/555a9ce413f616b5f281b1f2dedf4fc189e9bbe3', 'message': 'EC2: Implement volume tags (metadata) in EC2 API\n\nThis patch implements volume tags for EC2 API.\n\nProgress on:\nBlueprint: ec2-volume-and-snapshot-tags\n\nChange-Id: Iaef0e2c280d81269e17c8a851801102f5c593430\n'}, {'number': 10, 'created': '2014-09-01 07:39:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2430f99e6ac6b7ba1c6fc662f20807e00052ac3d', 'message': 'EC2: Implement volume tags (metadata) in EC2 API\n\nThis patch implements volume tags for EC2 API.\n\nProgress on:\nBlueprint: ec2-volume-and-snapshot-tags\n\nChange-Id: Iaef0e2c280d81269e17c8a851801102f5c593430\n'}, {'number': 11, 'created': '2014-09-18 05:55:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2552d3c45d1102eb640a017ee665a32b9ed2dc2d', 'message': 'EC2: Implement volume tags (metadata) in EC2 API\n\nThis patch implements volume tags for EC2 API.\n\nProgress on:\nBlueprint: ec2-volume-and-snapshot-tags\n\nChange-Id: Iaef0e2c280d81269e17c8a851801102f5c593430\n'}, {'number': 12, 'created': '2014-10-08 15:43:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f4d3901e992c41ec6267ee176ff3aa3868c78af8', 'message': 'EC2: Implement volume tags (metadata) in EC2 API\n\nThis patch implements volume tags for EC2 API.\n\nProgress on:\nBlueprint: ec2-volume-and-snapshot-tags\n\nChange-Id: Iaef0e2c280d81269e17c8a851801102f5c593430\n'}, {'number': 13, 'created': '2014-11-25 08:08:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/db213928db65eaef994bf3c8dae6a09014ffa218', 'message': 'EC2: Implement volume tags (metadata) in EC2 API\n\nThis patch implements volume tags for EC2 API.\n\nProgress on:\nBlueprint: ec2-volume-and-snapshot-tags\n\nChange-Id: Iaef0e2c280d81269e17c8a851801102f5c593430\n'}, {'number': 14, 'created': '2014-11-25 12:16:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5eed4a1c8ab070b79da3f10cd7a8883a233d9853', 'message': 'EC2: Implement volume tags (metadata) in EC2 API\n\nThis patch implements volume tags for EC2 API.\n\nProgress on:\nBlueprint: ec2-volume-and-snapshot-tags\n\nChange-Id: Iaef0e2c280d81269e17c8a851801102f5c593430\n'}, {'number': 15, 'created': '2014-11-26 10:52:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/88042f56c406f6b5f6841df06fc0c8d279ef04bb', 'message': 'EC2: Implement volume tags (metadata) in EC2 API\n\nThis patch implements volume tags for EC2 API.\n\nProgress on:\nBlueprint: ec2-volume-and-snapshot-tags\n\nChange-Id: Iaef0e2c280d81269e17c8a851801102f5c593430\n'}, {'number': 16, 'created': '2014-12-08 05:39:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6621004f81a87a8abab17badd5d0e807951c32d7', 'message': 'EC2: Implement volume tags (metadata) in EC2 API\n\nThis patch implements volume tags for EC2 API.\n\nProgress on:\nBlueprint: ec2-volume-and-snapshot-tags\n\nChange-Id: Iaef0e2c280d81269e17c8a851801102f5c593430\n'}, {'number': 17, 'created': '2014-12-08 14:31:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/318a913c94a71e61b676a0b3952b032b24dd78e6', 'message': 'EC2: Implement volume tags (metadata) in EC2 API\n\nThis patch implements volume tags for EC2 API.\n\nProgress on:\nBlueprint: ec2-volume-and-snapshot-tags\n\nChange-Id: Iaef0e2c280d81269e17c8a851801102f5c593430\n'}, {'number': 18, 'created': '2014-12-10 13:53:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/aab40b88663ced6fc8672fbbb9e1be5ad00aac1f', 'message': 'EC2: Implement volume tags (metadata) in EC2 API\n\nThis patch implements volume tags for EC2 API.\n\nProgress on:\nBlueprint: ec2-volume-and-snapshot-tags\n\nChange-Id: Iaef0e2c280d81269e17c8a851801102f5c593430\n'}, {'number': 19, 'created': '2014-12-10 15:07:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/822f33d8fe642d9c3ead23053301c7f71ad41134', 'message': 'EC2: Implement volume tags (metadata) in EC2 API\n\nThis patch implements volume tags for EC2 API.\n\nProgress on:\nBlueprint: ec2-volume-and-snapshot-tags\n\nChange-Id: Iaef0e2c280d81269e17c8a851801102f5c593430\n'}, {'number': 20, 'created': '2014-12-17 18:26:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/82499ab047edd218a3b730b7d7ca689a486aff26', 'message': 'EC2: Implement volume tags (metadata) in EC2 API\n\nThis patch implements volume tags for EC2 API.\n\nProgress on:\nBlueprint: ec2-volume-and-snapshot-tags\n\nChange-Id: Iaef0e2c280d81269e17c8a851801102f5c593430\n'}, {'number': 21, 'created': '2014-12-18 06:23:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/10275a384d41ef68c528bbda6cf3e8beffacb768', 'message': 'EC2: Implement volume tags (metadata) in EC2 API\n\nThis patch implements volume tags for EC2 API.\n\nProgress on:\nBlueprint: ec2-volume-and-snapshot-tags\n\nChange-Id: Iaef0e2c280d81269e17c8a851801102f5c593430\n'}, {'number': 22, 'created': '2014-12-23 11:07:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a58ee53cf6404c6eb8c1ea9c004daf390388260a', 'message': 'EC2: Implement volume tags (metadata) in EC2 API\n\nThis patch implements volume tags for EC2 API.\n\nProgress on:\nBlueprint: ec2-volume-and-snapshot-tags\n\nChange-Id: Iaef0e2c280d81269e17c8a851801102f5c593430\n'}, {'number': 23, 'created': '2014-12-27 10:52:27.000000000', 'files': ['nova/tests/unit/volume/test_cinder.py', 'nova/volume/cinder.py', 'nova/tests/unit/fake_volume.py', 'nova/api/ec2/cloud.py', 'nova/tests/unit/api/ec2/test_cloud.py', 'nova/utils.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/ed7a91914bdbe9faa58ca572691e59fd8a0cec14', 'message': 'EC2: Implement volume tags (metadata) in EC2 API\n\nThis patch implements volume tags for EC2 API.\n\nProgress on:\nBlueprint: ec2-volume-and-snapshot-tags\n\nChange-Id: Iaef0e2c280d81269e17c8a851801102f5c593430\n'}]",15,112325,ed7a91914bdbe9faa58ca572691e59fd8a0cec14,191,15,23,5538,,,0,"EC2: Implement volume tags (metadata) in EC2 API

This patch implements volume tags for EC2 API.

Progress on:
Blueprint: ec2-volume-and-snapshot-tags

Change-Id: Iaef0e2c280d81269e17c8a851801102f5c593430
",git fetch https://review.opendev.org/openstack/nova refs/changes/25/112325/19 && git format-patch -1 --stdout FETCH_HEAD,"['nova/volume/cinder.py', 'nova/tests/api/ec2/test_cloud.py', 'nova/api/ec2/cloud.py', 'nova/tests/fake_volume.py', 'nova/tests/volume/test_cinder.py']",5,bfe70120019806ffa44f39225a1c07b355d3cebd,bp/ec2-volume-and-snapshot-tags," def list(self, detailed, search_opts=None): cinder.cinderclient(self.ctx).AndReturn(self.cinderclient) self.mox.StubOutWithMock(self.cinderclient.volumes, 'delete_metadata') self.cinderclient.volumes.delete_metadata('id1', {'key1': 'val1'}) self.mox.ReplayAll() self.api.delete_volume_metadata(self.ctx, 'id1', {'key1': 'val1'}) cinder.cinderclient(self.ctx).AndReturn(self.cinderclient) self.mox.StubOutWithMock(self.cinderclient.volumes, 'set_metadata') self.cinderclient.volumes.set_metadata('id1', {'key1': 'val1'}) self.mox.ReplayAll() self.api.update_volume_metadata(self.ctx, 'id1', {'key1': 'val1'})"," def list(self, detailed): self.assertRaises(NotImplementedError, self.api.delete_volume_metadata, self.ctx, '', '') self.assertRaises(NotImplementedError, self.api.update_volume_metadata, self.ctx, '', '')",429,16
openstack%2Fnova~master~I8d20e25fa916aea278095c60d8a905bee18e9594,openstack/nova,master,I8d20e25fa916aea278095c60d8a905bee18e9594,EC2: Implement volume snapshot tags,ABANDONED,2014-08-09 13:08:42.000000000,2015-05-13 17:21:57.000000000,,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 782}, {'_account_id': 1849}, {'_account_id': 5170}, {'_account_id': 5538}, {'_account_id': 5638}, {'_account_id': 6661}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9312}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-08-09 13:08:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1a612b8a6bf0b0dfce9c70f38a763eecc41b1ea6', 'message': 'EC2: Implement volume snapshot tags\n\nThis blueprint implements tags (metadata) for volume snapshots.\nThis is third in the series of three patches for BP\nec2-volume-and-snapshot-tags\n\nChange-Id: I8d20e25fa916aea278095c60d8a905bee18e9594\nImplements-Blueprint: ec2-volume-and-snapshot-tags\n'}, {'number': 2, 'created': '2014-08-09 13:09:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d088f04398c0498e3696452f8c01e5f126dc0803', 'message': 'EC2: Implement volume snapshot tags\n\nThis patch implements tags (metadata) for volume snapshots.\nThis is third in the series of three patches for BP\nec2-volume-and-snapshot-tags\n\nChange-Id: I8d20e25fa916aea278095c60d8a905bee18e9594\nImplements-Blueprint: ec2-volume-and-snapshot-tags\n'}, {'number': 3, 'created': '2014-08-14 07:07:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e3b253ac3c77dd1bf7e62de50355e17df40a2394', 'message': 'EC2: Implement volume snapshot tags\n\nThis patch implements tags (metadata) for volume snapshots.\nThis is third in the series of three patches for BP\nec2-volume-and-snapshot-tags\n\nChange-Id: I8d20e25fa916aea278095c60d8a905bee18e9594\nImplements-Blueprint: ec2-volume-and-snapshot-tags\n'}, {'number': 4, 'created': '2014-08-14 10:24:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4657ea95c63d28c8c87e019d4429d96fd3c0bc63', 'message': 'EC2: Implement volume snapshot tags\n\nThis patch implements tags (metadata) for volume snapshots.\nThis is third in the series of three patches for BP\nec2-volume-and-snapshot-tags\n\nChange-Id: I8d20e25fa916aea278095c60d8a905bee18e9594\nImplements-Blueprint: ec2-volume-and-snapshot-tags\n'}, {'number': 5, 'created': '2014-08-14 15:58:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/57e295ba767fa7cdbbefe9f256bd3d9a4a19bd02', 'message': 'EC2: Implement volume snapshot tags\n\nThis patch implements tags (metadata) for volume snapshots.\nThis is third in the series of three patches for BP\nec2-volume-and-snapshot-tags\n\nChange-Id: I8d20e25fa916aea278095c60d8a905bee18e9594\nImplements-Blueprint: ec2-volume-and-snapshot-tags\n'}, {'number': 6, 'created': '2014-08-20 15:36:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3ad8b784980bb0f87a3b2e242b9a091c939ca13e', 'message': 'EC2: Implement volume snapshot tags\n\nThis patch implements tags (metadata) for volume snapshots.\nThis is third in the series of three patches for BP\nec2-volume-and-snapshot-tags\n\nChange-Id: I8d20e25fa916aea278095c60d8a905bee18e9594\nImplements-Blueprint: ec2-volume-and-snapshot-tags\n'}, {'number': 7, 'created': '2014-08-21 07:28:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2edb765d589041eaca7453f8186321a09bdedf21', 'message': 'EC2: Implement volume snapshot tags\n\nThis patch implements tags (metadata) for volume snapshots.\nThis is third in the series of three patches for BP\nec2-volume-and-snapshot-tags\n\nChange-Id: I8d20e25fa916aea278095c60d8a905bee18e9594\nImplements-Blueprint: ec2-volume-and-snapshot-tags\n'}, {'number': 8, 'created': '2014-08-22 09:38:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1106f4647b698da5bec8cd3c03cdb064bac8fad0', 'message': 'EC2: Implement volume snapshot tags\n\nThis patch implements tags (metadata) for volume snapshots.\nThis is third in the series of three patches for BP\nec2-volume-and-snapshot-tags\n\nChange-Id: I8d20e25fa916aea278095c60d8a905bee18e9594\nImplements-Blueprint: ec2-volume-and-snapshot-tags\n'}, {'number': 9, 'created': '2014-09-01 07:39:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/982865c63791853c932b699d50d4ddb8ca12a635', 'message': 'EC2: Implement volume snapshot tags\n\nThis patch implements tags (metadata) for volume snapshots.\nThis is third in the series of three patches for BP\nec2-volume-and-snapshot-tags\n\nChange-Id: I8d20e25fa916aea278095c60d8a905bee18e9594\nImplements-Blueprint: ec2-volume-and-snapshot-tags\n'}, {'number': 10, 'created': '2014-09-18 05:55:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d8da6d3849f8f16454183acb966eaf26bb3a27d7', 'message': 'EC2: Implement volume snapshot tags\n\nThis patch implements tags (metadata) for volume snapshots.\nThis is third in the series of three patches for BP\nec2-volume-and-snapshot-tags\n\nChange-Id: I8d20e25fa916aea278095c60d8a905bee18e9594\nImplements-Blueprint: ec2-volume-and-snapshot-tags\n'}, {'number': 11, 'created': '2014-10-08 15:43:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9b980128ede3a5e6552c1b84241b0aeac395a679', 'message': 'EC2: Implement volume snapshot tags\n\nThis patch implements tags (metadata) for volume snapshots.\nThis is third in the series of three patches for BP\nec2-volume-and-snapshot-tags\n\nChange-Id: I8d20e25fa916aea278095c60d8a905bee18e9594\nImplements-Blueprint: ec2-volume-and-snapshot-tags\n'}, {'number': 12, 'created': '2014-11-25 08:08:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fbc79d5daf9476e2716b95d74f4fc68c23542b36', 'message': 'EC2: Implement volume snapshot tags\n\nThis patch implements tags (metadata) for volume snapshots.\nThis is third in the series of three patches for BP\nec2-volume-and-snapshot-tags\n\nChange-Id: I8d20e25fa916aea278095c60d8a905bee18e9594\nImplements-Blueprint: ec2-volume-and-snapshot-tags\n'}, {'number': 13, 'created': '2014-11-25 12:16:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fce0bce618d69970ad637f72588a62ba25d02fe8', 'message': 'EC2: Implement volume snapshot tags\n\nThis patch implements tags (metadata) for volume snapshots.\nThis is third in the series of three patches for BP\nec2-volume-and-snapshot-tags\n\nChange-Id: I8d20e25fa916aea278095c60d8a905bee18e9594\nImplements-Blueprint: ec2-volume-and-snapshot-tags\n'}, {'number': 14, 'created': '2014-11-26 10:52:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c0ec93224c436b451515101e5cbdae1f48d5ea5c', 'message': 'EC2: Implement volume snapshot tags\n\nThis patch implements tags (metadata) for volume snapshots.\nThis is third in the series of three patches for BP\nec2-volume-and-snapshot-tags\n\nChange-Id: I8d20e25fa916aea278095c60d8a905bee18e9594\nImplements-Blueprint: ec2-volume-and-snapshot-tags\n'}, {'number': 15, 'created': '2014-12-08 05:49:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fff4283be35f1089c10522c061caabb6c4e69811', 'message': 'EC2: Implement volume snapshot tags\n\nThis patch implements tags (metadata) for volume snapshots.\nThis is third in the series of three patches for BP\nec2-volume-and-snapshot-tags\n\nChange-Id: I8d20e25fa916aea278095c60d8a905bee18e9594\nImplements-Blueprint: ec2-volume-and-snapshot-tags\n'}, {'number': 16, 'created': '2014-12-08 14:31:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5980471640c4aec23d3e1e5e34c1a672143c7c1f', 'message': 'EC2: Implement volume snapshot tags\n\nThis patch implements tags (metadata) for volume snapshots.\nThis is third in the series of three patches for BP\nec2-volume-and-snapshot-tags\n\nChange-Id: I8d20e25fa916aea278095c60d8a905bee18e9594\nImplements-Blueprint: ec2-volume-and-snapshot-tags\n'}, {'number': 17, 'created': '2014-12-10 13:53:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a9affbf5b1479a4b21cb6336a821b53013104e20', 'message': 'EC2: Implement volume snapshot tags\n\nThis patch implements tags (metadata) for volume snapshots.\nThis is third in the series of three patches for BP\nec2-volume-and-snapshot-tags\n\nChange-Id: I8d20e25fa916aea278095c60d8a905bee18e9594\nImplements-Blueprint: ec2-volume-and-snapshot-tags\n'}, {'number': 18, 'created': '2014-12-10 15:07:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/60e5e4a39817567844cc875ba4747276f5ac0a59', 'message': 'EC2: Implement volume snapshot tags\n\nThis patch implements tags (metadata) for volume snapshots.\nThis is third in the series of three patches for BP\nec2-volume-and-snapshot-tags\n\nChange-Id: I8d20e25fa916aea278095c60d8a905bee18e9594\nImplements-Blueprint: ec2-volume-and-snapshot-tags\n'}, {'number': 19, 'created': '2014-12-17 18:26:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8a1e92e05de6fb210541b2b2952f5d7b9e792932', 'message': 'EC2: Implement volume snapshot tags\n\nThis patch implements tags (metadata) for volume snapshots.\nThis is third in the series of three patches for BP\nec2-volume-and-snapshot-tags\n\nChange-Id: I8d20e25fa916aea278095c60d8a905bee18e9594\nImplements-Blueprint: ec2-volume-and-snapshot-tags\n'}, {'number': 20, 'created': '2014-12-18 06:23:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7bd85886f58c23552ea857b15aeeb6502b122642', 'message': 'EC2: Implement volume snapshot tags\n\nThis patch implements tags (metadata) for volume snapshots.\nThis is third in the series of three patches for BP\nec2-volume-and-snapshot-tags\n\nChange-Id: I8d20e25fa916aea278095c60d8a905bee18e9594\nImplements-Blueprint: ec2-volume-and-snapshot-tags\n'}, {'number': 21, 'created': '2014-12-23 11:07:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c07ae4b6c5b9ffc4f0c7cd2e09c7b276a981919e', 'message': 'EC2: Implement volume snapshot tags\n\nThis patch implements tags (metadata) for volume snapshots.\nThis is third in the series of three patches for BP\nec2-volume-and-snapshot-tags\n\nChange-Id: I8d20e25fa916aea278095c60d8a905bee18e9594\nImplements-Blueprint: ec2-volume-and-snapshot-tags\n'}, {'number': 22, 'created': '2014-12-27 10:52:27.000000000', 'files': ['nova/volume/cinder.py', 'nova/tests/unit/fake_volume.py', 'nova/api/ec2/cloud.py', 'nova/tests/unit/api/ec2/test_cloud.py', 'nova/utils.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/e1b24007e1b118a046279ff9e135d0138d9b452e', 'message': 'EC2: Implement volume snapshot tags\n\nThis patch implements tags (metadata) for volume snapshots.\nThis is third in the series of three patches for BP\nec2-volume-and-snapshot-tags\n\nChange-Id: I8d20e25fa916aea278095c60d8a905bee18e9594\nImplements-Blueprint: ec2-volume-and-snapshot-tags\n'}]",3,113088,e1b24007e1b118a046279ff9e135d0138d9b452e,184,14,22,5538,,,0,"EC2: Implement volume snapshot tags

This patch implements tags (metadata) for volume snapshots.
This is third in the series of three patches for BP
ec2-volume-and-snapshot-tags

Change-Id: I8d20e25fa916aea278095c60d8a905bee18e9594
Implements-Blueprint: ec2-volume-and-snapshot-tags
",git fetch https://review.opendev.org/openstack/nova refs/changes/88/113088/22 && git format-patch -1 --stdout FETCH_HEAD,"['nova/volume/cinder.py', 'nova/tests/api/ec2/test_cloud.py', 'nova/api/ec2/cloud.py', 'nova/tests/fake_volume.py']",4,1a612b8a6bf0b0dfce9c70f38a763eecc41b1ea6,bp/ec2-volume-and-snapshot-tags," 'project_id': 'fake-project-id', 'snapshot_metadata': metadata if metadata else {}, def get_all_snapshot_metadata(self, context, search_opts=None): snaps = self.get_all_snapshots(context) return cinder._ec2_tagsets_from_volume_snapshots(snaps, search_opts) def get_snapshot_metadata(self, context, snap_uuid): for snap in self.snapshot_list: if snap['id'] == snap_uuid: return snap['snapshot_metadata'] raise exception.InvalidID() def update_snapshot_metadata(self, context, snapshot_id, metadata): for snap in self.snapshot_list: if snap['id'] == str(snapshot_id): snap['snapshot_metadata'].update(metadata) def delete_snapshot_metadata(self, context, snapshot_id, meta_keys): for snap in self.snapshot_list: if snap['id'] == str(snapshot_id): for key in meta_keys: snap['snapshot_metadata'].pop(key) def create_snapshot(self, context, volume_id, name, description, id=None, metadata=None): name, description, id, metadata)"," 'project_id': 'fake-project-id' def create_snapshot(self, context, volume_id, name, description, id=None): name, description, id)",170,12
openstack%2Fnova~master~Ic4dee3126dda2a25455235fea6a6574b64cd51a3,openstack/nova,master,Ic4dee3126dda2a25455235fea6a6574b64cd51a3,db: Add a MySQL fixture for db tests,ABANDONED,2015-02-16 17:43:07.000000000,2015-05-13 17:21:49.000000000,,"[{'_account_id': 3}, {'_account_id': 1849}, {'_account_id': 5170}, {'_account_id': 9008}, {'_account_id': 9555}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11103}]","[{'number': 1, 'created': '2015-02-16 17:43:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2782bc60c8810d19632e69109e19b8882320f7c6', 'message': 'db: Add a MySQL fixture for db tests\n\nChange-Id: Ic4dee3126dda2a25455235fea6a6574b64cd51a3\n'}, {'number': 2, 'created': '2015-02-17 17:35:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/85ce2c7fb0a2fbaf7f2b8c4922181c10356f07e3', 'message': 'db: Add a MySQL fixture for db tests\n\nChange-Id: Ic4dee3126dda2a25455235fea6a6574b64cd51a3\n'}, {'number': 3, 'created': '2015-02-18 15:21:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/814d6fae208f4d2fc2094c86e7b1d000b0d30ef2', 'message': 'db: Add a MySQL fixture for db tests\n\nThis change requires the toposort library. toposort is proposed for\naddition as a test requirement in openstack/requirements change\nI7c9c88088228514e37649a8d06d94c43509962a5.\n\nChange-Id: Ic4dee3126dda2a25455235fea6a6574b64cd51a3\n'}, {'number': 4, 'created': '2015-02-23 17:05:20.000000000', 'files': ['nova/tests/fixtures.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/f7a205a7ad2b9d3fa28e1a7458a8dd75a8e38c1c', 'message': 'db: Add a MySQL fixture for db tests\n\nThis change requires the toposort library. toposort is proposed for\naddition as a test requirement in openstack/requirements change\nI7c9c88088228514e37649a8d06d94c43509962a5.\n\nChange-Id: Ic4dee3126dda2a25455235fea6a6574b64cd51a3\n'}]",0,156297,f7a205a7ad2b9d3fa28e1a7458a8dd75a8e38c1c,30,9,4,9555,,,0,"db: Add a MySQL fixture for db tests

This change requires the toposort library. toposort is proposed for
addition as a test requirement in openstack/requirements change
I7c9c88088228514e37649a8d06d94c43509962a5.

Change-Id: Ic4dee3126dda2a25455235fea6a6574b64cd51a3
",git fetch https://review.opendev.org/openstack/nova refs/changes/97/156297/4 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/fixtures.py'],1,2782bc60c8810d19632e69109e19b8882320f7c6,db/mysql_tests,"from collections import defaultdictfrom sqlalchemy import text from toposort import toposort_flattenclass MySQLNovaDBFixture(NovaDBFixture): SCHEMA = None SCHEMA_LOCK = threading.Lock() def __init__(self, test): self.dbfixture = test_base.MySQLOpportunisticFixture(test) super(MySQLNovaDBFixture, self).__init__(self.dbfixture, test) def cache_schema(self): # A dictionary of table: {dependent tables} deps = defaultdict(set) # The set of all tables in the deps dict dep_tables = set() conn = self.test.engine.connect() table_constraints_query = text( 'select table_name, referenced_table_name ' + 'from information_schema.referential_constraints ' + 'where constraint_schema = :db_name') for dep in conn.execute( table_constraints_query, db_name=self.dbfixture.provision.db_token).fetchall(): table = dep[0] dep_table = dep[1] deps[table].add(dep_table) dep_tables.add(table) dep_tables.add(dep_table) # The set of all tables in the schema all_tables = set([x[0] for x in conn.execute('show tables').fetchall()]) # The set of tables which are not in the deps dict other_tables = all_tables - dep_tables schema = [] # Iterate over tables in the following order: # * dep_tables, topologicically sorted so that if table A has a # referential constraint on table B, then A -> B # * other tables, in any order # This ensures that when we re-create the schema, tables are created in # an order which doesn't violate foreign key constraints for table in toposort_flatten(deps) + list(other_tables): # Returns row:: (<table name>, <DDL>) create = conn.execute('show create table %s' % table).fetchone() schema.append(create[1]) self.__class__.SCHEMA = schema def load_schema(self): conn = self.test.engine.connect() for ddl in self.SCHEMA: conn.execute(ddl) 'mysql': MySQLNovaDBFixture",,61,0
openstack%2Fnova~master~I1c74be0b15f904e6348592944657fa78175afe7a,openstack/nova,master,I1c74be0b15f904e6348592944657fa78175afe7a,use random seed for functional tests,ABANDONED,2015-02-23 20:51:56.000000000,2015-05-13 17:21:48.000000000,,"[{'_account_id': 3}, {'_account_id': 100}, {'_account_id': 679}, {'_account_id': 1849}, {'_account_id': 2750}, {'_account_id': 4146}, {'_account_id': 5170}, {'_account_id': 7730}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}]","[{'number': 1, 'created': '2015-02-23 20:51:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a75784fa9ec5e732718172ecb1b69bf510309f12', 'message': 'use random seed for functional tests\n\nOnly the unit tests end up depending on hashseed order, so remove the\nhashseed constant from the functional tests before we regress and\ndepend on it.\n\nChange-Id: I1c74be0b15f904e6348592944657fa78175afe7a\n'}, {'number': 2, 'created': '2015-02-23 20:55:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8638f2310f0dcad183677f81e28716ca6662ddb8', 'message': 'use random seed for functional tests\n\nOnly the unit tests end up depending on hashseed order, so remove the\nhashseed constant from the functional tests before we regress and\ndepend on it.\n\nChange-Id: I1c74be0b15f904e6348592944657fa78175afe7a\n'}, {'number': 3, 'created': '2015-02-23 20:55:54.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/nova/commit/b6a84fcb436fb99a836f517239ba9f05ed23cb0e', 'message': 'use random seed for functional tests\n\nOnly the unit tests end up depending on hashseed order, so remove the\nhashseed constant from the functional tests before we regress and\ndepend on it.\n\nChange-Id: I1c74be0b15f904e6348592944657fa78175afe7a\n'}]",1,158440,b6a84fcb436fb99a836f517239ba9f05ed23cb0e,16,11,3,2750,,,0,"use random seed for functional tests

Only the unit tests end up depending on hashseed order, so remove the
hashseed constant from the functional tests before we regress and
depend on it.

Change-Id: I1c74be0b15f904e6348592944657fa78175afe7a
",git fetch https://review.opendev.org/openstack/nova refs/changes/40/158440/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,a75784fa9ec5e732718172ecb1b69bf510309f12,tox_seed,[testenv:py27] # TODO: the unit tests still depend on a stable hashseed for some of # their comparisons. That should be fixed and this can be removed. setenv = PYTHONHASHSEED=0 , PYTHONHASHSEED=0 PYTHONHASHSEED=0,5,2
openstack%2Fnova~master~I11fcee22f55ce978948117f6c91b3639b1f8d05c,openstack/nova,master,I11fcee22f55ce978948117f6c91b3639b1f8d05c,Add support for instance Mem consumption control,ABANDONED,2014-12-15 07:05:46.000000000,2015-05-13 17:21:46.000000000,,"[{'_account_id': 3}, {'_account_id': 1653}, {'_account_id': 1779}, {'_account_id': 1849}, {'_account_id': 5170}, {'_account_id': 8802}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 9645}, {'_account_id': 10118}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-12-15 07:05:46.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/f22053927030fabd195646df543bed264d8eb8ca', 'message': 'Add support for instance Mem consumption control\n\nLibvirt has supportted memtune, by setting hard_limit,\nsoft_limit, swap_hard_limit through nova flavor-set with\nadmin credentials, the cloud admin can implement flexible\npolicy on VM mem used.\n\nfor example:\nnova flavor-key m1.low_mem set mem_hard_limit=20000\nthe max physical mem the vm can used is 20000k\n\nblueprint quota-instance-resource has implemented in\nhavana, but the part of mem was not implemented, so\nthis bp also is a complementary.\n\nDocImpact\nRelated to blueprint flavor-quota-memory\n\nChange-Id: I11fcee22f55ce978948117f6c91b3639b1f8d05c\n'}]",5,141736,f22053927030fabd195646df543bed264d8eb8ca,25,11,1,9645,,,0,"Add support for instance Mem consumption control

Libvirt has supportted memtune, by setting hard_limit,
soft_limit, swap_hard_limit through nova flavor-set with
admin credentials, the cloud admin can implement flexible
policy on VM mem used.

for example:
nova flavor-key m1.low_mem set mem_hard_limit=20000
the max physical mem the vm can used is 20000k

blueprint quota-instance-resource has implemented in
havana, but the part of mem was not implemented, so
this bp also is a complementary.

DocImpact
Related to blueprint flavor-quota-memory

Change-Id: I11fcee22f55ce978948117f6c91b3639b1f8d05c
",git fetch https://review.opendev.org/openstack/nova refs/changes/36/141736/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",2,f22053927030fabd195646df543bed264d8eb8ca,bp/quota-instance-resource," def test_get_guest_config_with_mem_quota(self, mock_flavor): self.flags(virt_type='kvm', group='libvirt') conn = libvirt_driver.LibvirtDriver(fake.FakeVirtAPI(), True) instance_ref = objects.Instance(**self.test_instance) flavor = instance_ref.get_flavor() flavor.extra_specs = {'quota:mem_hard_limit': '20000', 'quota:mem_soft_limit': '10000', 'quota:mem_swap_hard_limit': '20000'} mock_flavor.return_value = flavor disk_info = blockinfo.get_disk_info(CONF.libvirt.virt_type, instance_ref) cfg = conn._get_guest_config(instance_ref, [], {}, disk_info) self.assertEqual(20000, cfg.memtune.hard_limit) self.assertEqual(10000, cfg.memtune.soft_limit) self.assertEqual(20000, cfg.memtune.swap_hard_limit) @mock.patch.object(objects.Flavor, 'get_by_id')",,31,0
openstack%2Fnova~master~Ie0e04c4f98816f09c388af310a119313d53eca08,openstack/nova,master,Ie0e04c4f98816f09c388af310a119313d53eca08,OMFGAYKM?DNM: [PoC] Make nova use oslo.versionedobjects,ABANDONED,2015-02-26 19:14:32.000000000,2015-05-13 17:21:44.000000000,,"[{'_account_id': 3}, {'_account_id': 1849}, {'_account_id': 5170}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11103}]","[{'number': 1, 'created': '2015-02-26 19:14:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fe21d77f2405df801238288b46ad2ea319705d67', 'message': 'OMFGAYKM?DNM: [PoC] Make nova use oslo.versionedobjects\n\nChange-Id: Ie0e04c4f98816f09c388af310a119313d53eca08\n'}, {'number': 2, 'created': '2015-02-26 19:19:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4fd999c9027117b20d090e4867802bad1f264401', 'message': 'OMFGAYKM?DNM: [PoC] Make nova use oslo.versionedobjects\n\nDepends-On: I43fd794f17d309f67e95dfe7e61507ef65c4af34\nChange-Id: Ie0e04c4f98816f09c388af310a119313d53eca08\n'}, {'number': 3, 'created': '2015-02-26 19:49:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3897557ecca735cf58d1688d6206d9f5eef7a2f4', 'message': 'OMFGAYKM?DNM: [PoC] Make nova use oslo.versionedobjects\n\nDepends-On: I43fd794f17d309f67e95dfe7e61507ef65c4af34\nChange-Id: Ie0e04c4f98816f09c388af310a119313d53eca08\n'}, {'number': 4, 'created': '2015-02-26 20:36:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/01f3d4611d2d94f61ba232d3e7bd02c235d25105', 'message': 'OMFGAYKM?DNM: [PoC] Make nova use oslo.versionedobjects\n\nDepends-On: I43fd794f17d309f67e95dfe7e61507ef65c4af34\nChange-Id: Ie0e04c4f98816f09c388af310a119313d53eca08\n'}, {'number': 5, 'created': '2015-02-26 22:03:34.000000000', 'files': ['nova/objects/instance_fault.py', 'nova/objects/block_device.py', 'nova/objects/keypair.py', 'nova/objects/compute_node.py', 'nova/objects/quotas.py', 'nova/objects/ec2.py', 'nova/objects/agent.py', 'nova/tests/unit/cells/test_cells_messaging.py', 'nova/tests/unit/virt/libvirt/test_driver.py', 'nova/objects/vcpu_model.py', 'nova/tests/unit/objects/test_fields.py', 'nova/tests/unit/objects/test_quotas.py', 'nova/objects/instance_group.py', 'nova/objects/pci_device_pool.py', 'nova/objects/instance.py', 'nova/tests/unit/objects/test_instance.py', 'nova/objects/security_group.py', 'nova/cmd/network.py', 'nova/objects/migration.py', 'nova/objects/base.py', 'nova/cmd/dhcpbridge.py', 'nova/objects/tag.py', 'nova/objects/dns_domain.py', 'nova/objects/hv_spec.py', 'nova/objects/service.py', 'nova/objects/bandwidth_usage.py', 'nova/objects/instance_numa_topology.py', 'nova/tests/unit/conductor/test_conductor.py', 'nova/objects/security_group_rule.py', 'nova/objects/virt_cpu_topology.py', 'requirements.txt', 'nova/test.py', 'nova/objects/flavor.py', 'nova/objects/instance_pci_requests.py', 'nova/objects/fixed_ip.py', 'nova/compute/api.py', 'nova/objects/virtual_interface.py', 'nova/tests/unit/objects/test_security_group.py', 'nova/cmd/api_metadata.py', 'nova/objects/numa.py', 'nova/objects/fields.py', 'nova/objects/instance_action.py', 'nova/objects/instance_info_cache.py', 'nova/objects/pci_device.py', 'nova/objects/floating_ip.py', 'nova/tests/unit/objects/test_objects.py', 'nova/exception.py', 'nova/objects/network.py', 'nova/objects/network_request.py', 'nova/objects/aggregate.py', 'nova/cmd/compute.py', 'nova/objects/external_event.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/d8e39dbcfb7f043d4f4b24f2d8a96e18a866d32d', 'message': 'OMFGAYKM?DNM: [PoC] Make nova use oslo.versionedobjects\n\nDepends-On: I43fd794f17d309f67e95dfe7e61507ef65c4af34\nChange-Id: Ie0e04c4f98816f09c388af310a119313d53eca08\n'}]",0,159577,d8e39dbcfb7f043d4f4b24f2d8a96e18a866d32d,20,9,5,4393,,,0,"OMFGAYKM?DNM: [PoC] Make nova use oslo.versionedobjects

Depends-On: I43fd794f17d309f67e95dfe7e61507ef65c4af34
Change-Id: Ie0e04c4f98816f09c388af310a119313d53eca08
",git fetch https://review.opendev.org/openstack/nova refs/changes/77/159577/4 && git format-patch -1 --stdout FETCH_HEAD,"['nova/objects/instance_fault.py', 'nova/objects/block_device.py', 'nova/objects/keypair.py', 'nova/objects/compute_node.py', 'nova/objects/quotas.py', 'nova/objects/ec2.py', 'nova/objects/agent.py', 'nova/tests/unit/cells/test_cells_messaging.py', 'nova/tests/unit/virt/libvirt/test_driver.py', 'nova/objects/vcpu_model.py', 'nova/tests/unit/objects/test_fields.py', 'nova/tests/unit/objects/test_quotas.py', 'nova/objects/instance_group.py', 'nova/objects/pci_device_pool.py', 'nova/objects/instance.py', 'nova/tests/unit/objects/test_instance.py', 'nova/objects/security_group.py', 'nova/cmd/network.py', 'nova/objects/migration.py', 'nova/objects/base.py', 'nova/cmd/dhcpbridge.py', 'nova/objects/tag.py', 'nova/objects/dns_domain.py', 'nova/objects/hv_spec.py', 'nova/objects/service.py', 'nova/objects/bandwidth_usage.py', 'nova/objects/instance_numa_topology.py', 'nova/tests/unit/conductor/test_conductor.py', 'nova/objects/security_group_rule.py', 'nova/objects/virt_cpu_topology.py', 'requirements.txt', 'nova/test.py', 'nova/objects/flavor.py', 'nova/objects/instance_pci_requests.py', 'nova/objects/fixed_ip.py', 'nova/compute/api.py', 'nova/objects/virtual_interface.py', 'nova/tests/unit/objects/test_security_group.py', 'nova/cmd/api_metadata.py', 'nova/objects/numa.py', 'nova/objects/fields.py', 'nova/objects/instance_action.py', 'nova/objects/instance_info_cache.py', 'nova/objects/pci_device.py', 'nova/objects/floating_ip.py', 'nova/tests/unit/objects/test_objects.py', 'nova/exception.py', 'nova/objects/network.py', 'nova/objects/network_request.py', 'nova/objects/aggregate.py', 'nova/cmd/compute.py', 'nova/objects/external_event.py']",52,fe21d77f2405df801238288b46ad2ea319705d67,use-ovoo,@obj_base.NovaObjectRegistry.register,,258,2045
openstack%2Fnova~master~I8da0eafbae2fc261d8ceae0581eb00c9ce020f9c,openstack/nova,master,I8da0eafbae2fc261d8ceae0581eb00c9ce020f9c,update device state from migrations,ABANDONED,2015-02-10 07:48:30.000000000,2015-05-13 17:21:42.000000000,,"[{'_account_id': 3}, {'_account_id': 1849}, {'_account_id': 5170}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11103}]","[{'number': 1, 'created': '2015-02-10 07:48:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/15be0309b55f0aed41a224f3ff825f07eaf8b798', 'message': ""update device state from migrations\n\npci devices allocation in the prepare resize stage, keep old\ndevices as 'claimed' status, this make sure while reverting,\nthe instance get the same devices as before resize.\n\nmigrations related pci devices should collection back from\nmigrations, this enable pci device could be change state from\nmigration dest host.\n\nChange-Id: I8da0eafbae2fc261d8ceae0581eb00c9ce020f9c\nPartial-Bug: #1368201\n""}, {'number': 2, 'created': '2015-03-02 06:24:30.000000000', 'files': ['nova/pci/manager.py', 'nova/tests/unit/pci/test_manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/6bd1c53fc5df813c689c7ac6f4830b887cddbbc0', 'message': ""update device state from migrations\n\npci devices allocation in the prepare resize stage, keep old\ndevices as 'claimed' status, this make sure while reverting,\nthe instance get the same devices as before resize.\n\nmigrations related pci devices should collection back from\nmigrations, this enable pci device could be change state from\nmigration dest host.\n\nChange-Id: I8da0eafbae2fc261d8ceae0581eb00c9ce020f9c\nPartial-Bug: #1368201\n""}]",0,154364,6bd1c53fc5df813c689c7ac6f4830b887cddbbc0,16,7,2,7543,,,0,"update device state from migrations

pci devices allocation in the prepare resize stage, keep old
devices as 'claimed' status, this make sure while reverting,
the instance get the same devices as before resize.

migrations related pci devices should collection back from
migrations, this enable pci device could be change state from
migration dest host.

Change-Id: I8da0eafbae2fc261d8ceae0581eb00c9ce020f9c
Partial-Bug: #1368201
",git fetch https://review.opendev.org/openstack/nova refs/changes/64/154364/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/pci/manager.py', 'nova/tests/unit/pci/test_manager.py']",2,15be0309b55f0aed41a224f3ff825f07eaf8b798,pci_resize," def _create_instance_object(self, mock_get, vm_state, task_state): mock_inst = copy.deepcopy(self.inst) mock_inst.task_state = task_state mock_inst.vm_state = vm_state mock_get.return_value = mock_inst return mock_inst @mock.patch('nova.objects.PciDevice.save') @mock.patch('nova.objects.Instance.get_by_uuid') def test_update_pci_for_instance_resize_finish(self, mock_get, get_inst, pci_save): inst = self._create_instance_object(get_inst, vm_states.ACTIVE, task_states.RESIZE_PREP) self.tracker.update_pci_for_migration(None, inst, incoming=True) inst.task_state = None self.tracker.update_pci_for_migration(None, inst) @mock.patch('nova.objects.PciDevice.save') @mock.patch('nova.objects.Instance.get_by_uuid') @mock.patch('nova.objects.InstancePCIRequests.get_by_instance') def test_update_pci_for_instance_resize_dest(self, mock_get, get_inst, pci_save): self.inst.vm_state = vm_states.BUILDING self._create_pci_requests_object(mock_get, fake_pci_requests) inst = self._create_instance_object(get_inst, vm_states.ACTIVE, task_states.RESIZE_PREP) self.tracker.update_pci_for_migration(None, inst, incoming=True) free_devs = self.tracker.pci_stats.get_free_devs() self.assertEqual(len(free_devs), 1) self.assertEqual(len(self.tracker.allocations['fake-inst-uuid']), 2) self.assertEqual(len(self.tracker.claims['fake-inst-uuid']), 0) inst.task_state = task_states.RESIZE_FINISH len(self.tracker.allocations['fake-inst-uuid']) @mock.patch('nova.objects.PciDevice.save') @mock.patch('nova.objects.Instance.get_by_uuid') def test_update_pci_for_migration_in(self, mock_get, get_inst, pci_save): inst = self._create_instance_object(get_inst, vm_states.ACTIVE, task_states.RESIZE_PREP) self.tracker.update_pci_for_migration(None, inst, incoming=True) @mock.patch('nova.objects.PciDevice.save') @mock.patch('nova.objects.Instance.get_by_uuid') def test_update_pci_for_migration_out(self, mock_get, mock_get_inst, pci_save): inst = self._create_instance_object(mock_get_inst, vm_states.ACTIVE, task_states.RESIZE_PREP) self.tracker.update_pci_for_migration(None, inst, incoming=True) free_devs = self.tracker.pci_stats.get_free_devs() self.assertEqual(len(free_devs), 1) inst = self._create_instance_object(mock_get_inst, vm_states.RESIZED, task_states.RESIZE_REVERTING) self.tracker.update_pci_for_migration(None, inst, sign=-1) @mock.patch('nova.objects.PciDevice.save') @mock.patch('nova.objects.Instance.get_by_uuid') def test_clean_usage_claims(self, mock_get, get_inst, pci_save): # allocated the device v self.inst.vm_state = vm_states.BUILDING inst = self._create_instance_object(get_inst, vm_states.ACTIVE, task_states.RESIZE_PREP) # alloc v1, change v to claim self.tracker.update_pci_for_migration(None, inst, incoming=True) # free the claimed v set(['v'])) @mock.patch('nova.objects.PciDevice.save') @mock.patch('nova.objects.Instance.get_by_uuid') def test_clean_usage_no_request_match_no_claims(self, mock_get, get_inst, pci_save):"," def test_update_pci_for_instance_resize_source(self, mock_get): self.inst.vm_state = vm_states.BUILDING self.tracker.update_pci_for_instance(None, self.inst) self.inst.task_state = task_states.RESIZE_MIGRATED self.tracker.update_pci_for_instance(None, self.inst) free_devs = self.tracker.pci_stats.get_free_devs() self.assertEqual(len(free_devs), 3) @mock.patch('nova.objects.InstancePCIRequests.get_by_instance') def test_update_pci_for_instance_resize_dest(self, mock_get): self.inst.vm_state = vm_states.BUILDING self._create_pci_requests_object(mock_get, fake_pci_requests) self.tracker.update_pci_for_migration(None, self.inst) self.assertEqual(len(self.tracker.claims['fake-inst-uuid']), 2) self.assertNotIn('fake-inst-uuid', self.tracker.allocations) self.inst.task_state = task_states.RESIZE_FINISH self.assertNotIn('fake-inst-uuid', self.tracker.claims) def test_update_pci_for_migration_in(self, mock_get): self.tracker.update_pci_for_migration(None, self.inst) def test_update_pci_for_migration_out(self, mock_get): self.tracker.update_pci_for_migration(None, self.inst) self.tracker.update_pci_for_migration(None, self.inst, sign=-1) def test_clean_usage_claims(self, mock_get): inst_2 = copy.copy(self.inst) inst_2.uuid = 'uuid5' self.inst.vm_state = vm_states.BUILDING self.tracker.update_pci_for_migration(None, inst_2) set(['v', 'v1'])) def test_clean_usage_no_request_match_no_claims(self, mock_get):",119,51
openstack%2Fnova~master~I61c8a826345efca27088c9e7af813c16069c13b0,openstack/nova,master,I61c8a826345efca27088c9e7af813c16069c13b0,Base changes to use V2 sample files in V2.1 func tests,ABANDONED,2015-02-16 01:36:28.000000000,2015-05-13 17:21:39.000000000,,"[{'_account_id': 3}, {'_account_id': 1849}, {'_account_id': 5170}, {'_account_id': 5292}, {'_account_id': 6167}, {'_account_id': 8556}, {'_account_id': 9578}, {'_account_id': 10385}, {'_account_id': 11103}]","[{'number': 1, 'created': '2015-02-16 01:36:28.000000000', 'files': ['nova/tests/functional/v3/api_paste_fixture.py', 'nova/tests/functional/v3/test_image_size.py', 'nova/tests/functional/test_api_samples.py', 'doc/v3/api_samples/image-size/image-get-resp.json', 'nova/tests/functional/api_samples_test_base.py', 'nova/tests/functional/v3/api_samples/image-size/image-get-resp.json.tpl', 'doc/v3/api_samples/image-size/images-details-get-resp.json', 'nova/tests/functional/v3/api_sample_base.py', 'nova/tests/functional/v3/api_samples/image-size/images-details-get-resp.json.tpl'], 'web_link': 'https://opendev.org/openstack/nova/commit/555bd8f4218a98bd3f2431aa20308de1c86e75e5', 'message': 'Base changes to use V2 sample files in V2.1 func tests\n\nAs all the V3 APIs have been moved to V2.1 APIs, it is overhead\nto keep two set of sample files (api_samples/ & v3/api_samples/).\nV2.1 is identical with V2 and their functional tests should share the\nsample files.\n\nTo do so, fixture is being used to make a temp api-paste.ini file\nfor functional tests and change V2 endpoint to V2.1 in temp\napi-paste.ini so that V2.1 functional tests can be requested with V2 url\nwhich intern goes to v2.1 code base. This is needed because href in\nAPI response contains the requested API version.\nFor ex-\nAPI response with V2 URL-\n ""href"": ""%(host)s/v2/openstack/images/%(image_id)s"",\n\nAPI response with V2.1 URL-\n ""href"": ""%(host)s/v2.1/openstack/images/%(image_id)s"",\n\nThis patch prepare the test base class changes for the same and\nchange V2.1 image-size functional tests accordingly.\n\nChange-Id: I61c8a826345efca27088c9e7af813c16069c13b0\n'}]",0,156096,555bd8f4218a98bd3f2431aa20308de1c86e75e5,12,9,1,8556,,,0,"Base changes to use V2 sample files in V2.1 func tests

As all the V3 APIs have been moved to V2.1 APIs, it is overhead
to keep two set of sample files (api_samples/ & v3/api_samples/).
V2.1 is identical with V2 and their functional tests should share the
sample files.

To do so, fixture is being used to make a temp api-paste.ini file
for functional tests and change V2 endpoint to V2.1 in temp
api-paste.ini so that V2.1 functional tests can be requested with V2 url
which intern goes to v2.1 code base. This is needed because href in
API response contains the requested API version.
For ex-
API response with V2 URL-
 ""href"": ""%(host)s/v2/openstack/images/%(image_id)s"",

API response with V2.1 URL-
 ""href"": ""%(host)s/v2.1/openstack/images/%(image_id)s"",

This patch prepare the test base class changes for the same and
change V2.1 image-size functional tests accordingly.

Change-Id: I61c8a826345efca27088c9e7af813c16069c13b0
",git fetch https://review.opendev.org/openstack/nova refs/changes/96/156096/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/v3/api_paste_fixture.py', 'nova/tests/functional/v3/test_image_size.py', 'doc/v3/api_samples/image-size/image-get-resp.json', 'nova/tests/functional/test_api_samples.py', 'nova/tests/functional/api_samples_test_base.py', 'nova/tests/functional/v3/api_samples/image-size/image-get-resp.json.tpl', 'doc/v3/api_samples/image-size/images-details-get-resp.json', 'nova/tests/functional/v3/api_sample_base.py', 'nova/tests/functional/v3/api_samples/image-size/images-details-get-resp.json.tpl']",9,555bd8f4218a98bd3f2431aa20308de1c86e75e5,sample_files_structure,,"{ ""images"": [ { ""created"": ""2011-01-01T01:02:03Z"", ""id"": ""70a599e0-31e7-49b7-b260-868f441e862b"", ""links"": [ { ""href"": ""%(host)s/v3/images/70a599e0-31e7-49b7-b260-868f441e862b"", ""rel"": ""self"" }, { ""href"": ""%(host)s/images/70a599e0-31e7-49b7-b260-868f441e862b"", ""rel"": ""bookmark"" }, { ""href"": ""%(glance_host)s/images/70a599e0-31e7-49b7-b260-868f441e862b"", ""rel"": ""alternate"", ""type"": ""application/vnd.openstack.image"" } ], ""metadata"": { ""architecture"": ""x86_64"", ""auto_disk_config"": ""True"", ""kernel_id"": ""nokernel"", ""ramdisk_id"": ""nokernel"" }, ""minDisk"": 0, ""minRam"": 0, ""name"": ""fakeimage7"", ""OS-EXT-IMG-SIZE:size"": %(int)s, ""progress"": 100, ""status"": ""ACTIVE"", ""updated"": ""2011-01-01T01:02:03Z"" }, { ""created"": ""2011-01-01T01:02:03Z"", ""id"": ""155d900f-4e14-4e4c-a73d-069cbf4541e6"", ""links"": [ { ""href"": ""%(host)s/v3/images/155d900f-4e14-4e4c-a73d-069cbf4541e6"", ""rel"": ""self"" }, { ""href"": ""%(host)s/images/155d900f-4e14-4e4c-a73d-069cbf4541e6"", ""rel"": ""bookmark"" }, { ""href"": ""%(glance_host)s/images/155d900f-4e14-4e4c-a73d-069cbf4541e6"", ""rel"": ""alternate"", ""type"": ""application/vnd.openstack.image"" } ], ""metadata"": { ""architecture"": ""x86_64"", ""kernel_id"": ""nokernel"", ""ramdisk_id"": ""nokernel"" }, ""minDisk"": 0, ""minRam"": 0, ""name"": ""fakeimage123456"", ""progress"": 100, ""OS-EXT-IMG-SIZE:size"": %(int)s, ""status"": ""ACTIVE"", ""updated"": ""2011-01-01T01:02:03Z"" }, { ""created"": ""2011-01-01T01:02:03Z"", ""id"": ""a2459075-d96c-40d5-893e-577ff92e721c"", ""links"": [ { ""href"": ""%(host)s/v3/images/a2459075-d96c-40d5-893e-577ff92e721c"", ""rel"": ""self"" }, { ""href"": ""%(host)s/images/a2459075-d96c-40d5-893e-577ff92e721c"", ""rel"": ""bookmark"" }, { ""href"": ""%(glance_host)s/images/a2459075-d96c-40d5-893e-577ff92e721c"", ""rel"": ""alternate"", ""type"": ""application/vnd.openstack.image"" } ], ""metadata"": { ""kernel_id"": ""nokernel"", ""ramdisk_id"": ""nokernel"" }, ""minDisk"": 0, ""minRam"": 0, ""name"": ""fakeimage123456"", ""OS-EXT-IMG-SIZE:size"": %(int)s, ""progress"": 100, ""status"": ""ACTIVE"", ""updated"": ""2011-01-01T01:02:03Z"" }, { ""created"": ""2011-01-01T01:02:03Z"", ""id"": ""a440c04b-79fa-479c-bed1-0b816eaec379"", ""links"": [ { ""href"": ""%(host)s/v3/images/a440c04b-79fa-479c-bed1-0b816eaec379"", ""rel"": ""self"" }, { ""href"": ""%(host)s/images/a440c04b-79fa-479c-bed1-0b816eaec379"", ""rel"": ""bookmark"" }, { ""href"": ""%(glance_host)s/images/a440c04b-79fa-479c-bed1-0b816eaec379"", ""rel"": ""alternate"", ""type"": ""application/vnd.openstack.image"" } ], ""metadata"": { ""architecture"": ""x86_64"", ""auto_disk_config"": ""False"", ""kernel_id"": ""nokernel"", ""ramdisk_id"": ""nokernel"" }, ""minDisk"": 0, ""minRam"": 0, ""name"": ""fakeimage6"", ""OS-EXT-IMG-SIZE:size"": %(int)s, ""progress"": 100, ""status"": ""ACTIVE"", ""updated"": ""2011-01-01T01:02:03Z"" }, { ""created"": ""2011-01-01T01:02:03Z"", ""id"": ""c905cedb-7281-47e4-8a62-f26bc5fc4c77"", ""links"": [ { ""href"": ""%(host)s/v3/images/c905cedb-7281-47e4-8a62-f26bc5fc4c77"", ""rel"": ""self"" }, { ""href"": ""%(host)s/images/c905cedb-7281-47e4-8a62-f26bc5fc4c77"", ""rel"": ""bookmark"" }, { ""href"": ""%(glance_host)s/images/c905cedb-7281-47e4-8a62-f26bc5fc4c77"", ""rel"": ""alternate"", ""type"": ""application/vnd.openstack.image"" } ], ""metadata"": { ""kernel_id"": ""155d900f-4e14-4e4c-a73d-069cbf4541e6"", ""ramdisk_id"": null }, ""minDisk"": 0, ""minRam"": 0, ""name"": ""fakeimage123456"", ""OS-EXT-IMG-SIZE:size"": %(int)s, ""progress"": 100, ""status"": ""ACTIVE"", ""updated"": ""2011-01-01T01:02:03Z"" }, { ""created"": ""2011-01-01T01:02:03Z"", ""id"": ""cedef40a-ed67-4d10-800e-17455edce175"", ""links"": [ { ""href"": ""%(host)s/v3/images/cedef40a-ed67-4d10-800e-17455edce175"", ""rel"": ""self"" }, { ""href"": ""%(host)s/images/cedef40a-ed67-4d10-800e-17455edce175"", ""rel"": ""bookmark"" }, { ""href"": ""%(glance_host)s/images/cedef40a-ed67-4d10-800e-17455edce175"", ""rel"": ""alternate"", ""type"": ""application/vnd.openstack.image"" } ], ""metadata"": { ""kernel_id"": ""nokernel"", ""ramdisk_id"": ""nokernel"" }, ""minDisk"": 0, ""minRam"": 0, ""name"": ""fakeimage123456"", ""OS-EXT-IMG-SIZE:size"": %(int)s, ""progress"": 100, ""status"": ""ACTIVE"", ""updated"": ""2011-01-01T01:02:03Z"" }, { ""created"": ""2011-01-01T01:02:03Z"", ""id"": ""76fa36fc-c930-4bf3-8c8a-ea2a2420deb6"", ""links"": [ { ""href"": ""%(host)s/v3/images/76fa36fc-c930-4bf3-8c8a-ea2a2420deb6"", ""rel"": ""self"" }, { ""href"": ""%(host)s/images/76fa36fc-c930-4bf3-8c8a-ea2a2420deb6"", ""rel"": ""bookmark"" }, { ""href"": ""%(glance_host)s/images/76fa36fc-c930-4bf3-8c8a-ea2a2420deb6"", ""rel"": ""alternate"", ""type"": ""application/vnd.openstack.image"" } ], ""metadata"": { ""kernel_id"": ""nokernel"", ""ramdisk_id"": ""nokernel"" }, ""minDisk"": 0, ""minRam"": 0, ""name"": ""fakeimage123456"", ""OS-EXT-IMG-SIZE:size"": %(int)s, ""progress"": 100, ""status"": ""ACTIVE"", ""updated"": ""2011-01-01T01:02:03Z"" } ] } ",57,533
openstack%2Fnova~master~If7f187ef9b3e7d676aa9708a798b70c3466da41a,openstack/nova,master,If7f187ef9b3e7d676aa9708a798b70c3466da41a,Make fake vmware driver use host per cluster,ABANDONED,2015-02-24 18:41:40.000000000,2015-05-13 17:21:38.000000000,,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 1653}, {'_account_id': 1849}, {'_account_id': 5170}, {'_account_id': 6849}, {'_account_id': 9008}, {'_account_id': 9172}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 10732}]","[{'number': 1, 'created': '2015-02-24 18:41:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/87d5bf04a7b168cd8d623aa762ead7c685c6c8f1', 'message': ""Make fake vmware driver use host per cluster\n\nIn reality case, the ESXi host can't belong to different clusters.\nCurrently the fake.py are incorrectly have the same mock ESXi host under\ndifferent clusters. This could mask some problems from being found\nsuch as bug #1347039. VMs from unit tests need to explicitly understand\nwhich esxi host they are placed.\n\nCo-authored-by: Zhu Zhu <zhuzhubj@cn.ibm.com>\n\nChange-Id: If7f187ef9b3e7d676aa9708a798b70c3466da41a\n""}, {'number': 2, 'created': '2015-02-25 13:37:59.000000000', 'files': ['nova/tests/unit/virt/vmwareapi/fake.py', 'nova/tests/unit/virt/vmwareapi/test_driver_api.py', 'nova/tests/unit/virt/vmwareapi/test_vmops.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/f833776bb068616cae3a1dd6370d3e3bbd3b04a2', 'message': ""Make fake vmware driver use host per cluster\n\nIn reality case, the ESXi host can't belong to different clusters.\nCurrently the fake.py are incorrectly have the same mock ESXi host under\ndifferent clusters. This could mask some problems from being found\nsuch as bug #1347039. VMs from unit tests need to explicitly understand\nwhich esxi host they are placed.\n\nCo-authored-by: Zhu Zhu <zhuzhubj@cn.ibm.com>\n\nChange-Id: If7f187ef9b3e7d676aa9708a798b70c3466da41a\n""}]",3,158814,f833776bb068616cae3a1dd6370d3e3bbd3b04a2,21,12,2,14819,,,0,"Make fake vmware driver use host per cluster

In reality case, the ESXi host can't belong to different clusters.
Currently the fake.py are incorrectly have the same mock ESXi host under
different clusters. This could mask some problems from being found
such as bug #1347039. VMs from unit tests need to explicitly understand
which esxi host they are placed.

Co-authored-by: Zhu Zhu <zhuzhubj@cn.ibm.com>

Change-Id: If7f187ef9b3e7d676aa9708a798b70c3466da41a
",git fetch https://review.opendev.org/openstack/nova refs/changes/14/158814/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/virt/vmwareapi/fake.py', 'nova/tests/unit/virt/vmwareapi/test_driver_api.py', 'nova/tests/unit/virt/vmwareapi/test_vmops.py']",3,87d5bf04a7b168cd8d623aa762ead7c685c6c8f1,vmwarefix," host1 = vmwareapi_fake.create_host('host1', fake_ds_ref) host2 = vmwareapi_fake.create_host('host2', fake_ds_ref) host3 = vmwareapi_fake.create_host('host3', fake_ds_ref) cluster = vmwareapi_fake.create_cluster('fake_cluster', [host1, host2, host3], [fake_ds_ref])"," cluster = vmwareapi_fake.create_cluster('fake_cluster', fake_ds_ref)",49,26
openstack%2Fnova~master~I36bb47f2de32fe88ed80d9132ca37335b91ad25c,openstack/nova,master,I36bb47f2de32fe88ed80d9132ca37335b91ad25c,Remove V3 API from api-paste.ini,ABANDONED,2015-02-10 13:00:20.000000000,2015-05-13 17:21:35.000000000,,"[{'_account_id': 3}, {'_account_id': 1849}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 6062}, {'_account_id': 6167}, {'_account_id': 8556}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11103}]","[{'number': 1, 'created': '2015-02-10 13:00:20.000000000', 'files': ['etc/nova/api-paste.ini'], 'web_link': 'https://opendev.org/openstack/nova/commit/8654c9e10f04edc42634bf63e038fa0e79f28b5b', 'message': 'Remove V3 API from api-paste.ini\n\nAs all V3 APIs have been moved to v2.1, api-paste.ini needs to\nbe cleaned up for V3 APIs.\n\nThis patch does those changes.\n\nPartially implements blueprint v2-on-v3-api\n\nChange-Id: I36bb47f2de32fe88ed80d9132ca37335b91ad25c\n'}]",0,154459,8654c9e10f04edc42634bf63e038fa0e79f28b5b,13,11,1,8556,,,0,"Remove V3 API from api-paste.ini

As all V3 APIs have been moved to v2.1, api-paste.ini needs to
be cleaned up for V3 APIs.

This patch does those changes.

Partially implements blueprint v2-on-v3-api

Change-Id: I36bb47f2de32fe88ed80d9132ca37335b91ad25c
",git fetch https://review.opendev.org/openstack/nova refs/changes/59/154459/1 && git format-patch -1 --stdout FETCH_HEAD,['etc/nova/api-paste.ini'],1,8654c9e10f04edc42634bf63e038fa0e79f28b5b,sample_files_structure,,/v3: openstack_compute_api_v3[composite:openstack_compute_api_v3] use = call:nova.api.auth:pipeline_factory_v21 noauth = request_id faultwrap sizelimit noauth_v3 osapi_compute_app_v3 keystone = request_id faultwrap sizelimit authtoken keystonecontext osapi_compute_app_v3 [filter:noauth_v3] paste.filter_factory = nova.api.openstack.auth:NoAuthMiddlewareV3.factory [app:osapi_compute_app_v3] paste.app_factory = nova.api.openstack.compute:APIRouterV3.factory ,0,12
openstack%2Fnova~master~I0a15fbc8becc3b254cfa49f6a0dadfe251348e29,openstack/nova,master,I0a15fbc8becc3b254cfa49f6a0dadfe251348e29,WIP: ec2: remove is_neutron check in _format_address,ABANDONED,2015-01-06 19:21:24.000000000,2015-05-13 17:21:34.000000000,,"[{'_account_id': 3}, {'_account_id': 1653}, {'_account_id': 1849}, {'_account_id': 4393}, {'_account_id': 5170}, {'_account_id': 6873}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11103}]","[{'number': 1, 'created': '2015-01-06 19:21:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ba1f9bbaa1979195418d54051626921240cab2d3', 'message': ""ec2: remove is_neutron check in _format_address\n\nNow that nova-network and neutronv2 APIs are returning the same keys\nrequired for the _format_address method we can remove the is_neutron\ncheck in the code.\n\nThe existing tests that hit this method were doing a\nallocate/describe/release but without actually checking the formatted\noutput of the address response and without using a fixed IP, so this\nchange also adds some more specific tests to verify the logic in\n_format_address and updates the method to handle nova objects a bit\ncleaner.\n\nWith this change in place we can start converting the neutronv2 API's\nget_floating_ip* methods to use nova objects.\n\nChange-Id: I0a15fbc8becc3b254cfa49f6a0dadfe251348e29\n""}, {'number': 2, 'created': '2015-01-09 16:58:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/964a2fda49393a031c9fb1e22e11aa79f83c5650', 'message': ""WIP: ec2: remove is_neutron check in _format_address\n\nNow that nova-network and neutronv2 APIs are returning the same keys\nrequired for the _format_address method we can remove the is_neutron\ncheck in the code.\n\nThe existing tests that hit this method were doing a\nallocate/describe/release but without actually checking the formatted\noutput of the address response and without using a fixed IP, so this\nchange also adds some more specific tests to verify the logic in\n_format_address and updates the method to handle nova objects a bit\ncleaner.\n\nWith this change in place we can start converting the neutronv2 API's\nget_floating_ip* methods to use nova objects.\n\nChange-Id: I0a15fbc8becc3b254cfa49f6a0dadfe251348e29\n""}, {'number': 3, 'created': '2015-01-13 15:38:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/336b253afa3342a60997ab94a87ea05d4e9b80fa', 'message': ""WIP: ec2: remove is_neutron check in _format_address\n\nNow that nova-network and neutronv2 APIs are returning the same keys\nrequired for the _format_address method we can remove the is_neutron\ncheck in the code.\n\nThe existing tests that hit this method were doing a\nallocate/describe/release but without actually checking the formatted\noutput of the address response and without using a fixed IP, so this\nchange also adds some more specific tests to verify the logic in\n_format_address and updates the method to handle nova objects a bit\ncleaner.\n\nWith this change in place we can start converting the neutronv2 API's\nget_floating_ip* methods to use nova objects.\n\nChange-Id: I0a15fbc8becc3b254cfa49f6a0dadfe251348e29\n""}, {'number': 4, 'created': '2015-03-02 21:58:45.000000000', 'files': ['nova/api/ec2/cloud.py', 'nova/tests/unit/api/ec2/test_cloud.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/f809226029a7f69e1fee35646f227e123bfe2f54', 'message': ""WIP: ec2: remove is_neutron check in _format_address\n\nNow that nova-network and neutronv2 APIs are returning the same keys\nrequired for the _format_address method we can remove the is_neutron\ncheck in the code.\n\nThe existing tests that hit this method were doing a\nallocate/describe/release but without actually checking the formatted\noutput of the address response and without using a fixed IP, so this\nchange also adds some more specific tests to verify the logic in\n_format_address and updates the method to handle nova objects a bit\ncleaner.\n\nWith this change in place we can start converting the neutronv2 API's\nget_floating_ip* methods to use nova objects.\n\nChange-Id: I0a15fbc8becc3b254cfa49f6a0dadfe251348e29\n""}]",7,145308,f809226029a7f69e1fee35646f227e123bfe2f54,37,12,4,6873,,,0,"WIP: ec2: remove is_neutron check in _format_address

Now that nova-network and neutronv2 APIs are returning the same keys
required for the _format_address method we can remove the is_neutron
check in the code.

The existing tests that hit this method were doing a
allocate/describe/release but without actually checking the formatted
output of the address response and without using a fixed IP, so this
change also adds some more specific tests to verify the logic in
_format_address and updates the method to handle nova objects a bit
cleaner.

With this change in place we can start converting the neutronv2 API's
get_floating_ip* methods to use nova objects.

Change-Id: I0a15fbc8becc3b254cfa49f6a0dadfe251348e29
",git fetch https://review.opendev.org/openstack/nova refs/changes/08/145308/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/api/ec2/cloud.py', 'nova/tests/unit/api/ec2/test_cloud.py']",2,ba1f9bbaa1979195418d54051626921240cab2d3,bp/kilo-objects-neutron-ec2,"class CloudNoDBTestCase(test.NoDBTestCase): def setUp(self): super(CloudNoDBTestCase, self).setUp() self.cloud = cloud.CloudController() self.user_id = uuidutils.generate_uuid() self.project_id = uuidutils.generate_uuid self.context = context.RequestContext(self.user_id, self.project_id) def test_format_address_no_fixed_ip_non_admin(self): # Tests _format_address where the floating IP doesn't have a fixed_ip # associated and is not an admin context. floating_ip = objects.FloatingIP( context=context, address='1.2.3.4', pool='nova', project_id=self.context.project_id) address = self.cloud._format_address(self.context, floating_ip) self.assertEqual('1.2.3.4', address['public_ip']) self.assertIsNone(address['instance_id']) @mock.patch.object(ec2utils, 'id_to_ec2_inst_id') def test_format_address_fixed_ip_admin(self, id_to_ec2_inst_id_mock): # Tests _format_address where the floating IP does have a fixed_ip # associated and is an admin context. self.context = self.context.elevated() instance_uuid = uuidutils.generate_uuid() ec2_inst_id = 'i-00000001' id_to_ec2_inst_id_mock.return_value = ec2_inst_id fixed_ip = objects.FixedIP(context=context, address='1.2.3.4', instance_uuid=instance_uuid) floating_ip = objects.FloatingIP( context=context, address='5.6.7.8', pool='nova', project_id=self.context.project_id, fixed_ip=fixed_ip) address = self.cloud._format_address(self.context, floating_ip) self.assertEqual('5.6.7.8', address['public_ip']) details = '%s (%s)' % (ec2_inst_id, self.context.project_id) self.assertEqual(details, address['instance_id']) id_to_ec2_inst_id_mock.assert_called_once_with(instance_uuid) ",,46,11
openstack%2Fpython-novaclient~master~I5a5100354b100e2779b5b64d9e2430165f48b2ee,openstack/python-novaclient,master,I5a5100354b100e2779b5b64d9e2430165f48b2ee,nova list tenant does not work with tenant name,ABANDONED,2014-11-07 06:34:29.000000000,2015-05-13 17:21:33.000000000,,"[{'_account_id': 3}, {'_account_id': 679}, {'_account_id': 1561}, {'_account_id': 1653}, {'_account_id': 1849}, {'_account_id': 2903}, {'_account_id': 7191}, {'_account_id': 7730}, {'_account_id': 8412}, {'_account_id': 12140}]","[{'number': 1, 'created': '2014-11-07 06:34:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/2f165c9ca399660f6153c4cbafd411af8e0ba066', 'message': 'nova list tenant does not work with tenant name\n\nInitially nova list tenant worked fine\nwith tenant-id but raised an error with\ntenant name.\n\nNow, after the changes nova list works\nwith both tenant name and tenant-id.\nCloses-Bug: #1233492\n\nChange-Id: I5a5100354b100e2779b5b64d9e2430165f48b2ee\n'}, {'number': 2, 'created': '2014-11-19 12:21:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/67560353c91b95be9b68ddfd86c931e7f1f33cd5', 'message': 'nova list tenant does not work with tenant name\n\nInitially nova list tenant worked fine\nwith tenant-id but raised an error with\ntenant name.\n\nNow, after the changes nova list works\nwith both tenant name and tenant-id.\nCloses-Bug: #1233492\n\nChange-Id: I5a5100354b100e2779b5b64d9e2430165f48b2ee\n'}, {'number': 3, 'created': '2014-11-19 12:26:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/516144ad626a2742d67c676c4c1c05020a9bee6f', 'message': 'nova list tenant does not work with tenant name\n\nInitially nova list tenant worked fine\nwith tenant-id but raised an error with\ntenant name.\n\nNow, after the changes nova list works\nwith both tenant name and tenant-id.\nCloses-Bug: #1233492\n\nChange-Id: I5a5100354b100e2779b5b64d9e2430165f48b2ee\n'}, {'number': 4, 'created': '2014-11-20 06:44:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/489a84cc1b0abe222403a6000199d1b8c4b152f8', 'message': 'nova list tenant does not work with tenant name\n\nInitially nova list tenant worked fine\nwith tenant-id but raised an error with\ntenant name.\n\nNow, after the changes nova list works\nwith both tenant name and tenant-id.\n\nCloses-Bug: #1233492\n\nChange-Id: I5a5100354b100e2779b5b64d9e2430165f48b2ee\n'}, {'number': 5, 'created': '2014-11-20 06:49:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/5a0cd61528d2012e77760d353171a5369f76c587', 'message': 'nova list tenant does not work with tenant name\n\nInitially nova list tenant worked fine\nwith tenant-id but raised an error with\ntenant name.\n\nNow, after the changes nova list works\nwith both tenant name and tenant-id.\n\nCloses-Bug: #1233492\n\nChange-Id: I5a5100354b100e2779b5b64d9e2430165f48b2ee\n'}, {'number': 6, 'created': '2014-11-20 06:52:23.000000000', 'files': ['novaclient/tests/v1_1/fakes.py', 'novaclient/v1_1/client.py', 'novaclient/tests/v1_1/test_shell.py', 'novaclient/v1_1/shell.py', 'novaclient/v1_1/tenants.py', 'novaclient/client.py'], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/9a695aa4dd82bd9de6ba67b1d5e4486433575c10', 'message': 'nova list tenant does not work with tenant name\n\nInitially nova list tenant worked fine\nwith tenant-id but raised an error with\ntenant name.\n\nNow, after the changes nova list works\nwith both tenant name and tenant-id.\n\nCloses-Bug: #1233492\n\nChange-Id: I5a5100354b100e2779b5b64d9e2430165f48b2ee\n'}]",4,133151,9a695aa4dd82bd9de6ba67b1d5e4486433575c10,31,10,6,12140,,,0,"nova list tenant does not work with tenant name

Initially nova list tenant worked fine
with tenant-id but raised an error with
tenant name.

Now, after the changes nova list works
with both tenant name and tenant-id.

Closes-Bug: #1233492

Change-Id: I5a5100354b100e2779b5b64d9e2430165f48b2ee
",git fetch https://review.opendev.org/openstack/python-novaclient refs/changes/51/133151/4 && git format-patch -1 --stdout FETCH_HEAD,"['novaclient/tests/v1_1/fakes.py', 'novaclient/v1_1/client.py', 'novaclient/tests/v1_1/test_shell.py', 'novaclient/v1_1/shell.py', 'novaclient/v1_1/tenants.py', 'novaclient/client.py']",6,2f165c9ca399660f6153c4cbafd411af8e0ba066,bug/1233492," if '/tenants' in url: kwargs['headers']['User-Agent'] = 'python-keystoneclient' else: kwargs['headers']['User-Agent'] = self.USER_AGENT elif '/tenants' in url: auth_url = (self.auth_url).replace("":5000"", "":35357"") url = auth_url + url", kwargs['headers']['User-Agent'] = self.USER_AGENT,130,5
openstack%2Fpython-novaclient~master~Ifb2d9aadb3db85e78f0536782dbb5503b14266f7,openstack/python-novaclient,master,Ifb2d9aadb3db85e78f0536782dbb5503b14266f7,Throwing an exception for invalid host and name,ABANDONED,2015-01-09 09:40:55.000000000,2015-05-13 17:21:32.000000000,,"[{'_account_id': 3}, {'_account_id': 679}, {'_account_id': 1849}, {'_account_id': 8412}, {'_account_id': 10068}]","[{'number': 1, 'created': '2015-01-09 09:40:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/ab497555e7bf8799d54655e7804323035c3107dd', 'message': ' Proper handling of error messages for invalid --host and invalid --name in novaclient.\n\nChange-Id: Ifb2d9aadb3db85e78f0536782dbb5503b14266f7\n'}, {'number': 2, 'created': '2015-01-09 12:45:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/bc1e6d5d57f9451fffc871bd40e63889e09285fa', 'message': ' Error messages for invalid host and name\n\nChange-Id: Ifb2d9aadb3db85e78f0536782dbb5503b14266f7\n'}, {'number': 3, 'created': '2015-01-09 13:37:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/fbf527d28f810c9c105b233f654ec5df053a2c24', 'message': ' Error messages for invalid host and name\n\nChange-Id: Ifb2d9aadb3db85e78f0536782dbb5503b14266f7\n'}, {'number': 4, 'created': '2015-01-14 08:42:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/7e00d6694ba5bd8b969b0ba2d97161ba73987e12', 'message': ' Error messages for invalid host and name\n\nChange-Id: Ifb2d9aadb3db85e78f0536782dbb5503b14266f7\n'}, {'number': 5, 'created': '2015-01-19 07:46:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/7efac785899b35f63e53d98ca724e6a53dcd1afe', 'message': ' Throwing an exception for invalid host and name\n\n Using nova list --host <hostname> command, when an\n invalid host_name is entered it should throw an\n error message saying that host was not found instead\n of displaying an empty table of instances\n\n Similarly when an invalid instance name is entered,\n it should throw an error message saying that instance\n was not found instead of displaying an empty table\n of instances\n\nChange-Id: Ifb2d9aadb3db85e78f0536782dbb5503b14266f7\n'}, {'number': 6, 'created': '2015-01-22 07:25:39.000000000', 'files': ['novaclient/tests/v1_1/test_shell.py', 'novaclient/v1_1/shell.py'], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/3d1fcc296682b52adb30c7c60e547ac78c342d1d', 'message': ' Throwing an exception for invalid host and name\n\n Using nova list --host <hostname> command, when an\n invalid host_name is entered it should throw an\n error message saying that host was not found instead\n of displaying an empty table of instances\n\n Similarly when an invalid instance name is entered,\n it should throw an error message saying that instance\n was not found instead of displaying an empty table\n of instances\n\nChange-Id: Ifb2d9aadb3db85e78f0536782dbb5503b14266f7\n'}]",8,146042,3d1fcc296682b52adb30c7c60e547ac78c342d1d,23,5,6,14392,,,0," Throwing an exception for invalid host and name

 Using nova list --host <hostname> command, when an
 invalid host_name is entered it should throw an
 error message saying that host was not found instead
 of displaying an empty table of instances

 Similarly when an invalid instance name is entered,
 it should throw an error message saying that instance
 was not found instead of displaying an empty table
 of instances

Change-Id: Ifb2d9aadb3db85e78f0536782dbb5503b14266f7
",git fetch https://review.opendev.org/openstack/python-novaclient refs/changes/42/146042/1 && git format-patch -1 --stdout FETCH_HEAD,"['novaclient/tests/v1_1/test_shell.py', 'novaclient/v1_1/shell.py']",2,ab497555e7bf8799d54655e7804323035c3107dd,bug/1400048," if (args.host and (len(servers) == 0)): utils.find_resource(cs.hosts, search_opts['host']) if (args.name and (len(servers) == 0)): utils.find_resource(cs.servers, search_opts['name']) ",,19,0
openstack%2Fpython-novaclient~master~I136addc752dd9f84d0a4d77beeb21d9aebfc4cab,openstack/python-novaclient,master,I136addc752dd9f84d0a4d77beeb21d9aebfc4cab,Raising an error when numanodes is set to 0,ABANDONED,2015-01-09 12:12:51.000000000,2015-05-13 17:21:30.000000000,,"[{'_account_id': 3}, {'_account_id': 642}, {'_account_id': 679}, {'_account_id': 1779}, {'_account_id': 1849}, {'_account_id': 5511}, {'_account_id': 6962}]","[{'number': 1, 'created': '2015-01-09 12:12:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/9640aa9f6a1e600120462cef5222da61ac524c4f', 'message': ' Raising an error when numanodes is set to 0 for any flavor in novaclient.\n\nChange-Id: I136addc752dd9f84d0a4d77beeb21d9aebfc4cab\n'}, {'number': 2, 'created': '2015-01-09 13:37:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/598ab580eea03009b2c366146602f0acd2a65bde', 'message': ' Raising an error when numanodes is set to 0\n\nChange-Id: I136addc752dd9f84d0a4d77beeb21d9aebfc4cab\n'}, {'number': 3, 'created': '2015-01-19 07:19:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/09c6012960886ed9388068866a518183c2462e5c', 'message': ' Raising an error when numanodes is set to 0\n\nChange-Id: I136addc752dd9f84d0a4d77beeb21d9aebfc4cab\n'}, {'number': 4, 'created': '2015-01-22 12:46:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/87e97dc88d3d707b8a6c43b38e8546c80233e09b', 'message': ' Raising an error when numanodes is set to 0\n\nWhile setting the value of hw:numanodes to 0 for any\nflavor-key it is assigning 0.But numanodes value should\nnot be zero and should be greater than or equal to 1.\n\nIf we try to set hw:numanodes to 0,it should throw an exception.\n\nChange-Id: I136addc752dd9f84d0a4d77beeb21d9aebfc4cab\n'}, {'number': 5, 'created': '2015-01-27 12:31:25.000000000', 'files': ['novaclient/v1_1/flavors.py', 'novaclient/utils.py', 'novaclient/tests/test_utils.py'], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/363fec91012c11b4d5b8cb559004bbdb7f06a90d', 'message': ' Raising an error when numanodes is set to 0\n\nWhile setting the value of hw:numanodes to 0 for any\nflavor-key it is assigning 0.But numanodes value should\nnot be zero and should be greater than or equal to 1.\n\nIf we try to set hw:numanodes to 0,it should throw an exception.\n\nChange-Id: I136addc752dd9f84d0a4d77beeb21d9aebfc4cab\n'}]",8,146063,363fec91012c11b4d5b8cb559004bbdb7f06a90d,21,7,5,14392,,,0," Raising an error when numanodes is set to 0

While setting the value of hw:numanodes to 0 for any
flavor-key it is assigning 0.But numanodes value should
not be zero and should be greater than or equal to 1.

If we try to set hw:numanodes to 0,it should throw an exception.

Change-Id: I136addc752dd9f84d0a4d77beeb21d9aebfc4cab
",git fetch https://review.opendev.org/openstack/python-novaclient refs/changes/63/146063/2 && git format-patch -1 --stdout FETCH_HEAD,"['novaclient/v1_1/flavors.py', 'novaclient/utils.py', 'novaclient/tests/test_utils.py']",3,9640aa9f6a1e600120462cef5222da61ac524c4f,bug/1402709," def test_validate_flavor_numanode_with_valid_key_value(self): valid_numa_key = ['hw:numa_nodes'] valid_numa_key_value = ['1'] utils.validate_flavor_metadata_key_values(valid_numa_key, valid_numa_key_value) def test_validate_flavor_numanode_with_invalid_key_value(self): invalid_numa_key = ['hw:numa_nodes'] invalid_numa_key_val = ['0'] for value in invalid_numa_key_val: try: utils.validate_flavor_metadata_key_values(invalid_numa_key, invalid_numa_key_val) self.fail(""Invalid key value passed validation : %s"" % value) except exceptions.CommandError as ce: self.assertTrue(value in str(ce))",,28,0
openstack%2Fnova~master~Ia20895f86e3df5a7c9a2ed9d84c6ce16ae3fe0a1,openstack/nova,master,Ia20895f86e3df5a7c9a2ed9d84c6ce16ae3fe0a1,Network: Allow case-insensitive neutron security groups,ABANDONED,2014-12-16 06:47:20.000000000,2015-05-13 17:21:29.000000000,,"[{'_account_id': 3}, {'_account_id': 1653}, {'_account_id': 1849}, {'_account_id': 5170}, {'_account_id': 8247}, {'_account_id': 8412}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11103}, {'_account_id': 12869}]","[{'number': 1, 'created': '2014-12-16 06:47:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6bd499715dd517591ee44497d8bf33eb529335a3', 'message': 'Allow case-insensitive neutron security groups\n\nInitially, nova-network security groups were\ncase-insensitive. Neutron validates security-group\nnames regardless of case, however they would fail\nwhen the scheduler would attempt to allocate the\ngroup to the instance causing it to enter into an\nERROR state.\n\nNow, with this patch neutron allocate_for_instance\nallowing case-insentivie groups to be matched, which\nboot an instance with running state.\n\nChange-Id: Ia20895f86e3df5a7c9a2ed9d84c6ce16ae3fe0a1\nCloses-Bug: #1286463\n'}, {'number': 2, 'created': '2014-12-18 06:11:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c6b7945b0b57faacec4d966427f51b2573a6c9f6', 'message': 'Allow case-insensitive neutron security groups\n\nInitially, nova-network security groups were\ncase-insensitive. Neutron validates security-group\nnames regardless of case, however they would fail\nwhen the scheduler would attempt to allocate the\ngroup to the instance causing it to enter into an\nERROR state.\n\nNow, with this patch neutron allocate_for_instance\nallowing case-insentivie groups to be matched, which\nboot an instance with running state.\n\nChange-Id: Ia20895f86e3df5a7c9a2ed9d84c6ce16ae3fe0a1\nCloses-Bug: #1286463\n'}, {'number': 3, 'created': '2014-12-18 09:00:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/86139976434abbdb5d4ee82c2038c352b2a54c5d', 'message': 'Allow case-insensitive neutron security groups\n\nInitially, nova-network security groups were\ncase-insensitive. Neutron validates security-group\nnames regardless of case, however they would fail\nwhen the scheduler would attempt to allocate the\ngroup to the instance causing it to enter into an\nERROR state.\n\nNow, with this patch neutron allocate_for_instance\nallowing case-insentivie groups to be matched, which\nboot an instance with running state.\n\nChange-Id: Ia20895f86e3df5a7c9a2ed9d84c6ce16ae3fe0a1\nCloses-Bug: #1286463\n'}, {'number': 4, 'created': '2014-12-19 04:50:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/83bacf815c697de2c31576bd558059e2fb487d79', 'message': 'Allow case-insensitive neutron security groups\n\nInitially, nova-network security groups were\ncase-insensitive. Neutron validates security-group\nnames regardless of case, however they would fail\nwhen the scheduler would attempt to allocate the\ngroup to the instance causing it to enter into an\nERROR state.\n\nNow, with this patch neutron allocate_for_instance\nallowing case-insensitivie groups to be matched, which\nboot an instance with running state.\n\nChange-Id: Ia20895f86e3df5a7c9a2ed9d84c6ce16ae3fe0a1\nCloses-Bug: #1286463\n'}, {'number': 5, 'created': '2014-12-19 05:03:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d1008579d9e8162a72811173d3d6186c8ff89277', 'message': 'Network: Allow case-insensitive neutron security groups\n\nInitially, nova-network security groups were\ncase-insensitive. Neutron validates security-group\nnames regardless of case, however they would fail\nwhen the scheduler would attempt to allocate the\ngroup to the instance causing it to enter into an\nERROR state.\n\nNow, with this patch neutron allocate_for_instance\nallowing case-insensitivie groups to be matched, which\nboot an instance with running state.\n\nChange-Id: Ia20895f86e3df5a7c9a2ed9d84c6ce16ae3fe0a1\nCloses-Bug: #1286463\n'}, {'number': 6, 'created': '2015-01-07 06:08:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cceba8b26385397873ee7dc03399f09de6c28a61', 'message': 'Network: Allow case-insensitive neutron security groups\n\nInitially, nova-network security groups were\ncase-insensitive. Neutron validates security-group\nnames regardless of case, however they would fail\nwhen the scheduler would attempt to allocate the\ngroup to the instance causing it to enter into an\nERROR state.\n\nNow, with this patch neutron allocate_for_instance\nallowing case-insensitivie groups to be matched, which\nboot an instance with running state.\n\nChange-Id: Ia20895f86e3df5a7c9a2ed9d84c6ce16ae3fe0a1\nCloses-Bug: #1286463\n'}, {'number': 7, 'created': '2015-01-15 06:11:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/71ce85e3c1c0646712888d90ec6ce82567aac067', 'message': 'Network: Allow case-insensitive neutron security groups\n\nInitially, nova-network security groups were\ncase-insensitive. Neutron validates security-group\nnames regardless of case, however they would fail\nwhen the scheduler would attempt to allocate the\ngroup to the instance causing it to enter into an\nERROR state.\n\nNow, with this patch neutron allocate_for_instance\nallowing case-insensitivie groups to be matched, which\nboot an instance with running state.\n\nChange-Id: Ia20895f86e3df5a7c9a2ed9d84c6ce16ae3fe0a1\nCloses-Bug: #1286463\n'}, {'number': 8, 'created': '2015-03-05 05:35:50.000000000', 'files': ['nova/tests/unit/network/test_neutronv2.py', 'nova/network/neutronv2/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/d24ad853eeffd2c457d5b6a9ac7ffdd3256d221f', 'message': 'Network: Allow case-insensitive neutron security groups\n\nInitially, nova-network security groups were\ncase-insensitive. Neutron validates security-group\nnames regardless of case, however they would fail\nwhen the scheduler would attempt to allocate the\ngroup to the instance causing it to enter into an\nERROR state.\n\nNow, with this patch neutron allocate_for_instance\nallowing case-insensitivie groups to be matched, which\nboot an instance with running state.\n\nChange-Id: Ia20895f86e3df5a7c9a2ed9d84c6ce16ae3fe0a1\nCloses-Bug: #1286463\n'}]",13,141995,d24ad853eeffd2c457d5b6a9ac7ffdd3256d221f,57,12,8,12869,,,0,"Network: Allow case-insensitive neutron security groups

Initially, nova-network security groups were
case-insensitive. Neutron validates security-group
names regardless of case, however they would fail
when the scheduler would attempt to allocate the
group to the instance causing it to enter into an
ERROR state.

Now, with this patch neutron allocate_for_instance
allowing case-insensitivie groups to be matched, which
boot an instance with running state.

Change-Id: Ia20895f86e3df5a7c9a2ed9d84c6ce16ae3fe0a1
Closes-Bug: #1286463
",git fetch https://review.opendev.org/openstack/nova refs/changes/95/141995/7 && git format-patch -1 --stdout FETCH_HEAD,['nova/network/neutronv2/api.py'],1,6bd499715dd517591ee44497d8bf33eb529335a3,master_1286463, if (user_security_group['name'].lower() == security_group.lower()):, if user_security_group['name'] == security_group:,2,1
openstack%2Fnova~master~I5b872e67bc415c1ac191dc4b69397e36582ae763,openstack/nova,master,I5b872e67bc415c1ac191dc4b69397e36582ae763,Create BlockDeviceMapping Object v2.0,ABANDONED,2015-02-23 23:18:33.000000000,2015-05-13 17:21:27.000000000,,"[{'_account_id': 3}, {'_account_id': 1849}, {'_account_id': 5170}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11103}]","[{'number': 1, 'created': '2015-02-23 23:18:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6c2c7a5d2305c694d6c1dbb0dcb263e7425cb498', 'message': 'Create BlockDeviceMapping Object v2.0\n\nChange-Id: I5b872e67bc415c1ac191dc4b69397e36582ae763\n'}, {'number': 2, 'created': '2015-03-09 14:46:31.000000000', 'files': ['nova/tests/unit/objects/test_block_device.py', 'nova/objects/block_device.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/03c3a5376db17e9f99ddbef8dcae6b481501ef9b', 'message': 'Create BlockDeviceMapping Object v2.0\n\nChange-Id: I5b872e67bc415c1ac191dc4b69397e36582ae763\n'}]",0,158485,03c3a5376db17e9f99ddbef8dcae6b481501ef9b,15,8,2,4393,,,0,"Create BlockDeviceMapping Object v2.0

Change-Id: I5b872e67bc415c1ac191dc4b69397e36582ae763
",git fetch https://review.opendev.org/openstack/nova refs/changes/85/158485/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/objects/test_block_device.py', 'nova/objects/block_device.py']",2,6c2c7a5d2305c694d6c1dbb0dcb263e7425cb498,bump_objects," class BlockDeviceMappingV2(BlockDeviceMapping): VERSION = '2.0' obj_relationships = { 'instance': [('2.0', '1.19')], } obj_name = base.same_name_as(BlockDeviceMapping) nova_obj_default_implementation = base.release_active('kilo') class BlockDeviceMappingListV2(BlockDeviceMappingList): VERSION = '2.0' child_versions = {'2.0': '2.0'} obj_name = base.same_name_as(BlockDeviceMappingList) nova_obj_default_implementation = base.release_active('kilo')",,32,0
openstack%2Fnova~master~I766a2f3b5754a8a812d654f0e80004caf285142f,openstack/nova,master,I766a2f3b5754a8a812d654f0e80004caf285142f,WIP: Base infrastructure for bumping object versions,ABANDONED,2015-02-23 23:18:33.000000000,2015-05-13 17:21:26.000000000,,"[{'_account_id': 3}, {'_account_id': 1849}, {'_account_id': 4393}, {'_account_id': 5170}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11103}, {'_account_id': 11189}, {'_account_id': 13362}]","[{'number': 1, 'created': '2015-02-23 23:18:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d1be8cb422cfc1519d8865139b18ac0db62396f2', 'message': 'WIP: Base infrastructure for bumping object versions\n\nThis adds a flag to NovaObject that controls whether an object class\nbecomes the default implementation in nova.objects.Class. Right now,\nif it\'s newer than the current default, it wins. In an upgrade scenario,\nthat may not be what we want. This flag lets us decide when a version\nmay be registered, but not considered the default.\n\nWe use an upgrade_levels.object config option, which can be set to a\nrelease codename. Object subclasses can declare which release they\nare appropriate for, so that we only default them if their release\nis active. In the case of a Juno->Kilo upgrade, some objects which are\nv2.0 resets will only register if the upgrade level is ""kilo"".\n\nChange-Id: I766a2f3b5754a8a812d654f0e80004caf285142f\n'}, {'number': 2, 'created': '2015-03-09 14:46:31.000000000', 'files': ['nova/objects/base.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/0db980b76cc418f3d76614b3658a0b017b348591', 'message': 'WIP: Base infrastructure for bumping object versions\n\nThis adds a flag to NovaObject that controls whether an object class\nbecomes the default implementation in nova.objects.Class. Right now,\nif it\'s newer than the current default, it wins. In an upgrade scenario,\nthat may not be what we want. This flag lets us decide when a version\nmay be registered, but not considered the default.\n\nWe use an upgrade_levels.object config option, which can be set to a\nrelease codename. Object subclasses can declare which release they\nare appropriate for, so that we only default them if their release\nis active. In the case of a Juno->Kilo upgrade, some objects which are\nv2.0 resets will only register if the upgrade level is ""kilo"".\n\nChange-Id: I766a2f3b5754a8a812d654f0e80004caf285142f\n'}]",0,158484,0db980b76cc418f3d76614b3658a0b017b348591,16,11,2,4393,,,0,"WIP: Base infrastructure for bumping object versions

This adds a flag to NovaObject that controls whether an object class
becomes the default implementation in nova.objects.Class. Right now,
if it's newer than the current default, it wins. In an upgrade scenario,
that may not be what we want. This flag lets us decide when a version
may be registered, but not considered the default.

We use an upgrade_levels.object config option, which can be set to a
release codename. Object subclasses can declare which release they
are appropriate for, so that we only default them if their release
is active. In the case of a Juno->Kilo upgrade, some objects which are
v2.0 resets will only register if the upgrade level is ""kilo"".

Change-Id: I766a2f3b5754a8a812d654f0e80004caf285142f
",git fetch https://review.opendev.org/openstack/nova refs/changes/84/158484/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/objects/base.py'],1,d1be8cb422cfc1519d8865139b18ac0db62396f2,bump_objects,"from oslo_config import cfg if cls.nova_obj_default_implementation: # Update nova.objects with this newer class. setattr(objects, obj_name, cls) if i == 0 and cls.nova_obj_default_implementation: if (not hasattr(objects, obj_name) and cls.nova_obj_default_implementation): nova_obj_default_implementation = True objects_cap_opt = cfg.StrOpt('objects', help='Set a version cap for objects sent over RPC. If you plan ' 'to do a live upgrade from juno to kilo, you should set ' 'this to ""juno"" until all nodes have been upgraded.') CONF = cfg.CONF CONF.register_opt(objects_cap_opt, 'upgrade_levels') def release_active(release): """"""Return True if a release is active (or no version is set. Returns True if the specified release is allowed by the current objects version pin, or if no pin is set (i.e. use the latest). """""" releases = ['juno', 'kilo', None] return (releases.index(release) <= releases.index(CONF.upgrade_levels.objects)) def same_name_as(cls): """"""Mimic the object name of another object class. This returns a classmethod which is suitable to be an object class's obj_name() method, which will mirror the name of another class. Use this to subclass another class where you are implementing the same interface. """""" def objname(*args): return cls.obj_name() return classmethod(objname)"," # Update nova.objects with this newer class. setattr(objects, obj_name, cls) if i == 0: if not hasattr(objects, obj_name):",41,4
openstack%2Fnova~master~I15329bbf181a2672f8691cdd836a6269e2678ca1,openstack/nova,master,I15329bbf181a2672f8691cdd836a6269e2678ca1,Instance and InstanceList V2,ABANDONED,2015-03-09 14:46:31.000000000,2015-05-13 17:21:24.000000000,,"[{'_account_id': 3}, {'_account_id': 1849}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11103}]","[{'number': 1, 'created': '2015-03-09 14:46:31.000000000', 'files': ['nova/objects/instance.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/dd63abb6119788a2a223b6f6a604b6a5b2aba4e6', 'message': 'Instance and InstanceList V2\n\nChange-Id: I15329bbf181a2672f8691cdd836a6269e2678ca1\n'}]",0,162645,dd63abb6119788a2a223b6f6a604b6a5b2aba4e6,8,6,1,4393,,,0,"Instance and InstanceList V2

Change-Id: I15329bbf181a2672f8691cdd836a6269e2678ca1
",git fetch https://review.opendev.org/openstack/nova refs/changes/45/162645/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/objects/instance.py'],1,dd63abb6119788a2a223b6f6a604b6a5b2aba4e6,bump_objects," class InstanceV2(Instance): VERSION = '2.0' obj_name = base.same_name_as(Instance) nova_obj_default_implementation = base.release_active('kilo') obj_relationships = { 'fault': [('2.0', '1.0')], 'info_cache': [('2.0', '1.0'), ('1.9', '1.4'), ('1.10', '1.5')], 'security_groups': [('2.0', '1.0')], 'pci_devices': [('2.0', '1.0'), ('1.15', '1.1')], 'numa_topology': [('2.0', '1.0')], 'pci_requests': [('2.0', '1.1')], 'tags': [('2.0', '1.0')], 'flavor': [('2.0', '1.1')], 'old_flavor': [('2.0', '1.1')], 'new_flavor': [('2.0', '1.1')], 'vcpu_model': [('2.0', '1.0')], } class InstanceListV2(InstanceList): VERSION = '2.0' child_versions = {'2.0': '2.0'} obj_name = base.same_name_as(InstanceList) nova_obj_default_implementation = base.release_active('kilo')",,28,0
openstack%2Fpython-novaclient~master~Ia362618d8fec6eb95db9b9f4729458dcad75570f,openstack/python-novaclient,master,Ia362618d8fec6eb95db9b9f4729458dcad75570f,Option to disable redaction of sensitive info,ABANDONED,2014-12-18 10:53:50.000000000,2015-05-13 17:21:21.000000000,,"[{'_account_id': 3}, {'_account_id': 642}, {'_account_id': 679}, {'_account_id': 1849}, {'_account_id': 1865}, {'_account_id': 4690}, {'_account_id': 7730}, {'_account_id': 9420}, {'_account_id': 9545}]","[{'number': 1, 'created': '2014-12-18 10:53:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/57fe1a5e141502e99d2b03af593d880836a7dbf3', 'message': 'Add the option for disabling redact\n\nIn a debug session, sometimes it is useful to get the credentials or\ntoken logged in plain text, at the moment these sensitive information are\nredacted, this change adds one more option to control that behaviour.\nThe redact option is enabled by default but it is possible disabling\nit specifying enable_redact=False.\n\nChange-Id: Ia362618d8fec6eb95db9b9f4729458dcad75570f\n'}, {'number': 2, 'created': '2014-12-18 12:45:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/e25bb8dfd01eebb17e5c3d72990506fc98ddad38', 'message': 'Option to disable redaction of sensitive info\n\nIn a debug session, sometimes it is useful to get the credentials or\ntoken logged in plain text, at the moment these sensitive information are\nredacted, this change adds one more option to control that behaviour.\nIf the show_secrets option is set, it disables the redaction of sensitive\ninfo when we log the requests and the resposes.\n\nChange-Id: Ia362618d8fec6eb95db9b9f4729458dcad75570f\n'}, {'number': 3, 'created': '2014-12-18 16:55:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/3a6926c588396d34c3b736ac0349061c1ac63cc5', 'message': 'Option to disable redaction of sensitive info\n\nIn a debug session, sometimes it is useful to get the credentials or\ntoken logged in plain text, at the moment these sensitive information are\nredacted, this change adds one more option to control that behaviour.\nIf the show_secrets option is set, it disables the redaction of sensitive\ninfo when we log the requests and the resposes.\n\nChange-Id: Ia362618d8fec6eb95db9b9f4729458dcad75570f\n'}, {'number': 4, 'created': '2015-01-05 15:19:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/34a28903e109a92a21a29fc2ee5bb44559181cf8', 'message': 'Option to disable redaction of sensitive info\n\nIn a debug session, sometimes it is useful to get the credentials or\ntoken logged in plain text, at the moment these sensitive information are\nredacted, this change adds one more option to control that behaviour.\nIf the show_secrets option is set, it disables the redaction of sensitive\ninfo when we log the requests and the resposes.\n\nChange-Id: Ia362618d8fec6eb95db9b9f4729458dcad75570f\n'}, {'number': 5, 'created': '2015-02-27 16:54:43.000000000', 'files': ['novaclient/v2/client.py', 'novaclient/tests/unit/test_client.py', 'novaclient/client.py', 'novaclient/shell.py'], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/d3b245e2a6eba6ce8c30dd2d01c1d3334d220837', 'message': 'Option to disable redaction of sensitive info\n\nIn a debug session, sometimes it is useful to get the credentials or\ntoken logged in plain text, at the moment these sensitive information are\nredacted, this change adds one more option to control that behaviour.\nIf the show_secrets option is set, it disables the redaction of sensitive\ninfo when we log the requests and the resposes.\n\nChange-Id: Ia362618d8fec6eb95db9b9f4729458dcad75570f\n'}]",14,142728,d3b245e2a6eba6ce8c30dd2d01c1d3334d220837,39,9,5,1865,,,0,"Option to disable redaction of sensitive info

In a debug session, sometimes it is useful to get the credentials or
token logged in plain text, at the moment these sensitive information are
redacted, this change adds one more option to control that behaviour.
If the show_secrets option is set, it disables the redaction of sensitive
info when we log the requests and the resposes.

Change-Id: Ia362618d8fec6eb95db9b9f4729458dcad75570f
",git fetch https://review.opendev.org/openstack/python-novaclient refs/changes/28/142728/4 && git format-patch -1 --stdout FETCH_HEAD,"['novaclient/v1_1/client.py', 'novaclient/tests/test_client.py', 'novaclient/client.py', 'novaclient/shell.py']",4,57fe1a5e141502e99d2b03af593d880836a7dbf3,option_for_disabling_token_mask," parser.add_argument( '--enable-redact', default=True, dest='enable_redact', action='store_true', help=_(""Enable the redact of sensitive info in the log"")) enable_redact = args.enable_redact completion_cache=completion_cache, enable_redact=enable_redact) cacert=cacert, timeout=timeout, enable_redact=enable_redact)"," completion_cache=completion_cache) cacert=cacert, timeout=timeout)",82,10
openstack%2Fnova~master~If836c1f3fc50ccb04cd273263f02a236b3caad3a,openstack/nova,master,If836c1f3fc50ccb04cd273263f02a236b3caad3a,Better error message will be raised,ABANDONED,2014-12-03 12:08:43.000000000,2015-05-13 17:21:19.000000000,,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 642}, {'_account_id': 679}, {'_account_id': 1849}, {'_account_id': 5170}, {'_account_id': 5292}, {'_account_id': 5619}, {'_account_id': 8300}, {'_account_id': 8412}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9550}, {'_account_id': 9569}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11103}, {'_account_id': 14891}]","[{'number': 1, 'created': '2014-12-03 12:08:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a7095672ccbea38005ab8cc591f6b11a5e915587', 'message': 'Better error message will be raised\n\nInitially, when we are trying to list the\nvm\'s from name as a regular expression then\n(HTTP 500) ClientException Error displayed\nto the user.\n[eg: nova list --name ""*""]\n\nNow, with this patch we caught the\nOperationalError which return back a much\nbetter message.\n\nChange-Id: If836c1f3fc50ccb04cd273263f02a236b3caad3a\nCloses-Bug: #1337265\n'}, {'number': 2, 'created': '2014-12-04 12:20:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/68f132375eadecda32e638944738da3fba78846f', 'message': 'Better error message will be raised\n\nInitially, when we are trying to list the\nvm\'s from name as a regular expression then\n(HTTP 500) ClientException Error displayed\nto the user.\n[eg: nova list --name ""*""]\n\nNow, with this patch we caught the\nOperationalError which return back a much\nbetter message.\n\nChange-Id: If836c1f3fc50ccb04cd273263f02a236b3caad3a\nCloses-Bug: #1337265\n'}, {'number': 3, 'created': '2014-12-23 09:39:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/031aaf66ffb30647dff24b217e2fee20d994a518', 'message': 'Initially, when we are trying to list the\nvm\'s from name as a regular expression then\n(HTTP 500) ClientException Error displayed\nto the user.\n[eg: nova list --name ""*""]\n\nNow, with this patch we caught the\nOperationalError which return back a much\nbetter message.\n\nChange-Id: If836c1f3fc50ccb04cd273263f02a236b3caad3a\nCloses-Bug: #1337265\n'}, {'number': 4, 'created': '2014-12-23 09:43:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6345f123e156a676d17843dc8b88742b717b4f48', 'message': 'Better error message will be raised\n\nInitially, when we are trying to list the\nvm\'s from name as a regular expression then\n(HTTP 500) ClientException Error displayed\nto the user.\n[eg: nova list --name ""*""]\n\nNow, with this patch we caught the\nOperationalError which return back a much\nbetter message.\n\nChange-Id: If836c1f3fc50ccb04cd273263f02a236b3caad3a\nCloses-Bug: #1337265\n'}, {'number': 5, 'created': '2014-12-23 09:47:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0ba941b0d6bf292560cbf27a5bec247bd6bb33b3', 'message': 'Better error message will be raised\n\nInitially, when we are trying to list the\nvm\'s from name as a regular expression then\n(HTTP 500) ClientException Error displayed\nto the user.\n[eg: nova list --name ""*""]\n\nNow, with this patch we caught the\nOperationalError which return back a much\nbetter message.\n\nChange-Id: If836c1f3fc50ccb04cd273263f02a236b3caad3a\nCloses-Bug: #1337265\n'}, {'number': 6, 'created': '2015-01-15 07:03:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/93c1dc733acfe0f83e2aba3bd664a6a42823989c', 'message': 'Better error message will be raised\n\nInitially, when we are trying to list the\nvm\'s from name as a regular expression then\n(HTTP 500) ClientException Error displayed\nto the user.\n[eg: nova list --name ""*""]\n\nNow, with this patch we caught the\nOperationalError which return back a much\nbetter message.\n\nChange-Id: If836c1f3fc50ccb04cd273263f02a236b3caad3a\nCloses-Bug: #1337265\n'}, {'number': 7, 'created': '2015-02-05 09:27:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ff5a22465c335df1f01f7b255a81da3f4baaf8b4', 'message': 'Better error message will be raised\n\nInitially, when we are trying to list the\nvm\'s from name as a regular expression then\n(HTTP 500) ClientException Error displayed\nto the user.\n[eg: nova list --name ""*""]\n\nNow, with this patch we caught the\nOperationalError which return back a much\nbetter message.\n\nChange-Id: If836c1f3fc50ccb04cd273263f02a236b3caad3a\nCloses-Bug: #1337265\n'}, {'number': 8, 'created': '2015-02-23 05:22:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/33ec332a3600d29a42d2cc636bfa6b28d921cb3a', 'message': 'Better error message will be raised\n\nInitially, when we are trying to list the\nvm\'s from name as a regular expression then\n(HTTP 500) ClientException Error displayed\nto the user.\n[eg: nova list --name ""*""]\n\nNow, with this patch we caught the\nOperationalError which return back a much\nbetter message.\n\nChange-Id: If836c1f3fc50ccb04cd273263f02a236b3caad3a\nCloses-Bug: #1337265\n'}, {'number': 9, 'created': '2015-02-23 07:16:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8b3ba8880552512ba3c5f61a216dd17d4b6768a0', 'message': 'Better error message will be raised\n\nInitially, when we are trying to list the\nvm\'s from name as a regular expression then\n(HTTP 500) ClientException Error displayed\nto the user.\n[eg: nova list --name ""*""]\n\nNow, with this patch we caught the\nOperationalError which return back a much\nbetter message.\n\nChange-Id: If836c1f3fc50ccb04cd273263f02a236b3caad3a\nCloses-Bug: #1337265\n'}, {'number': 10, 'created': '2015-03-04 07:21:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8882af2b4c0b02209ca13e22d8bba5b046160bc3', 'message': 'Better error message will be raised\n\nInitially, when we are trying to list the\nvm\'s from name as a regular expression then\n(HTTP 500) ClientException Error displayed\nto the user.\n[eg: nova list --name ""*""]\n\nNow, with this patch we caught the\nOperationalError which return back a much\nbetter message.\n\nChange-Id: If836c1f3fc50ccb04cd273263f02a236b3caad3a\nCloses-Bug: #1337265\n'}, {'number': 11, 'created': '2015-03-05 05:01:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/78dfdccd36ef16e0ff0fac03894383e2c8921079', 'message': 'Better error message will be raised\n\nInitially, when we are trying to list the\nvm\'s from name as a regular expression then\n(HTTP 500) ClientException Error displayed\nto the user.\n[eg: nova list --name ""*""]\n\nNow, with this patch we caught the\nOperationalError which return back a much\nbetter message.\n\nChange-Id: If836c1f3fc50ccb04cd273263f02a236b3caad3a\nCloses-Bug: #1337265\n'}, {'number': 12, 'created': '2015-03-09 04:29:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e6c05904a8414ebb96e21eea9f3cc05df546182f', 'message': 'Better error message will be raised\n\nInitially, when we are trying to list the\nvm\'s from name as a regular expression then\n(HTTP 500) ClientException Error displayed\nto the user.\n[eg: nova list --name ""*""]\n\nNow, with this patch we caught the\nOperationalError which return back a much\nbetter message.\n\nChange-Id: If836c1f3fc50ccb04cd273263f02a236b3caad3a\nCloses-Bug: #1337265\n'}, {'number': 13, 'created': '2015-03-09 05:14:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/70a25eb4528f8b7f65133979524ff5cbb94b6b0b', 'message': 'Better error message will be raised\n\nInitially, when we are trying to list the\nvm\'s from name as a regular expression then\n(HTTP 500) ClientException Error displayed\nto the user.\n[eg: nova list --name ""*""]\n\nNow, with this patch we caught the\nOperationalError which return back a much\nbetter message.\n\nChange-Id: If836c1f3fc50ccb04cd273263f02a236b3caad3a\nCloses-Bug: #1337265\n'}, {'number': 14, 'created': '2015-03-09 05:18:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/88994a9b855a0974ff52388596cdb72512dc0c4d', 'message': 'Better error message will be raised\n\nInitially, when we are trying to list the\nvm\'s from name as a regular expression then\n(HTTP 500) ClientException Error displayed\nto the user.\n[eg: nova list --name ""*""]\n\nNow, with this patch we caught the\nOperationalError which return back a much\nbetter message.\n\nChange-Id: If836c1f3fc50ccb04cd273263f02a236b3caad3a\nCloses-Bug: #1337265\n'}, {'number': 15, 'created': '2015-03-10 05:32:17.000000000', 'files': ['nova/tests/unit/db/test_db_api.py', 'nova/db/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/348c39b2434072a3c137579b6146df3faf982bc1', 'message': 'Better error message will be raised\n\nInitially, when we are trying to list the\nvm\'s from name as a regular expression then\n(HTTP 500) ClientException Error displayed\nto the user.\n[eg: nova list --name ""*""]\n\nNow, with this patch we caught the\nOperationalError which return back a much\nbetter message.\n\nChange-Id: If836c1f3fc50ccb04cd273263f02a236b3caad3a\nCloses-Bug: #1337265\n'}]",17,138691,348c39b2434072a3c137579b6146df3faf982bc1,108,19,15,12869,,,0,"Better error message will be raised

Initially, when we are trying to list the
vm's from name as a regular expression then
(HTTP 500) ClientException Error displayed
to the user.
[eg: nova list --name ""*""]

Now, with this patch we caught the
OperationalError which return back a much
better message.

Change-Id: If836c1f3fc50ccb04cd273263f02a236b3caad3a
Closes-Bug: #1337265
",git fetch https://review.opendev.org/openstack/nova refs/changes/91/138691/14 && git format-patch -1 --stdout FETCH_HEAD,['nova/db/sqlalchemy/api.py'],1,a7095672ccbea38005ab8cc591f6b11a5e915587,bug/1337265,"from sqlalchemy.exc import OperationalError try: instances = query_prefix.all() except OperationalError as oe: raise exception.InvalidParameterValue(err=oe.args[0]) return _instances_fill_metadata(context, instances, manual_joins)"," return _instances_fill_metadata(context, query_prefix.all(), manual_joins)",6,2
openstack%2Fnova~master~I8514a78b819b27f238558a00936377a50f093108,openstack/nova,master,I8514a78b819b27f238558a00936377a50f093108,Add console pool object,ABANDONED,2014-11-16 11:09:42.000000000,2015-05-13 17:21:16.000000000,,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 1849}, {'_account_id': 5170}, {'_account_id': 8213}, {'_account_id': 8412}, {'_account_id': 9008}, {'_account_id': 9303}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11103}]","[{'number': 1, 'created': '2014-11-16 11:09:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/51ac67d715cd5b18a2ec718afcc93bf2dfdc8674', 'message': 'WIP Add console pool object\n\nAdded console pool object and tests for it\n\nBlueprint: blueprint kilo-objects\nChange-Id: I8514a78b819b27f238558a00936377a50f093108\n'}, {'number': 2, 'created': '2014-11-17 17:50:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/84bf8398f882b6e28a6bd15837534982f7dfe39c', 'message': 'Add console pool object\n\nAdded console pool object and tests for it\n\nRelated to blueprint kilo-objects\nChange-Id: I8514a78b819b27f238558a00936377a50f093108\n'}, {'number': 3, 'created': '2015-01-16 15:30:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/db1bf26ba4e327e81f4e97e2548d62fced71bbea', 'message': 'Add console pool object\n\nAdded console pool object and tests for it\n\nRelated to blueprint kilo-objects\nChange-Id: I8514a78b819b27f238558a00936377a50f093108\n'}, {'number': 4, 'created': '2015-02-14 09:25:50.000000000', 'files': ['nova/tests/unit/objects/test_objects.py', 'nova/objects/console_pool.py', 'nova/tests/unit/objects/test_console_pool.py', 'nova/objects/__init__.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/2b1d09f726a7222fd65d4ce3b9e72912773ddfe0', 'message': 'Add console pool object\n\nAdded console pool object and tests for it\n\nRelated to blueprint kilo-objects\nChange-Id: I8514a78b819b27f238558a00936377a50f093108\n'}]",8,134756,2b1d09f726a7222fd65d4ce3b9e72912773ddfe0,37,12,4,8412,,,0,"Add console pool object

Added console pool object and tests for it

Related to blueprint kilo-objects
Change-Id: I8514a78b819b27f238558a00936377a50f093108
",git fetch https://review.opendev.org/openstack/nova refs/changes/56/134756/4 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/objects/test_objects.py', 'nova/objects/console_pool.py', 'nova/tests/unit/objects/test_console_pool.py', 'nova/objects/__init__.py']",4,51ac67d715cd5b18a2ec718afcc93bf2dfdc8674,bp/kilo-objects, __import__('nova.objects.console_pool'),,178,0
openstack%2Fnova~master~Iec30dfd10984995fa32304af867b324cd0184153,openstack/nova,master,Iec30dfd10984995fa32304af867b324cd0184153,Change functional tests to use V2.1 URL instead of V3,ABANDONED,2015-02-10 12:49:23.000000000,2015-05-13 17:21:15.000000000,,"[{'_account_id': 3}, {'_account_id': 1849}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 6167}, {'_account_id': 8556}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11103}]","[{'number': 1, 'created': '2015-02-10 12:49:23.000000000', 'files': ['nova/tests/functional/v3/api_samples/os-volumes/server-post-resp.json.tpl', 'nova/tests/functional/v3/api_samples/os-extended-volumes/server-get-resp.json.tpl', 'nova/tests/functional/v3/api_samples/os-security-groups/servers-detail-resp.json.tpl', 'doc/v3/api_samples/os-server-usage/server-post-req.json', 'doc/v3/api_samples/os-server-usage/server-post-resp.json', 'nova/tests/functional/v3/api_samples/os-pci/server-get-resp.json.tpl', 'doc/v3/api_samples/os-extended-availability-zone/server-post-req.json', 'nova/tests/functional/v3/api_samples/os-disk-config/image-get-resp.json.tpl', 'doc/v3/api_samples/os-multinic/server-post-req.json', 'doc/v3/api_samples/os-rescue/server-post-req.json', 'nova/tests/functional/v3/api_samples/os-server-usage/server-post-resp.json.tpl', 'doc/v3/api_samples/os-multiple-create/multiple-create-no-resv-post-resp.json', 'nova/tests/functional/v3/api_samples/os-config-drive/server-config-drive-get-resp.json.tpl', 'nova/tests/functional/v3/api_samples/os-extended-availability-zone/server-post-resp.json.tpl', 'doc/v3/api_samples/all_extensions/servers-details-resp.json', 'doc/v3/api_samples/os-disk-config/list-servers-detail-get.json', 'nova/tests/functional/v3/api_samples/all_extensions/servers-list-resp.json.tpl', 'nova/tests/functional/v3/api_samples/os-extended-volumes/servers-detail-resp.json.tpl', 'nova/tests/functional/v3/api_samples/os-suspend-server/server-post-req.json.tpl', 'nova/tests/functional/v3/api_samples/os-suspend-server/server-post-resp.json.tpl', 'doc/v3/api_samples/server-metadata/server-post-req.json', 'doc/v3/api_samples/os-extended-availability-zone/server-get-resp.json', 'nova/tests/functional/v3/api_samples/flavor-access/flavor-access-create-resp.json.tpl', 'doc/v3/api_samples/os-rescue/server-get-resp-rescue.json', 'doc/v3/api_samples/os-server-diagnostics/server-post-resp.json', 'nova/tests/functional/v3/api_samples/os-hide-server-addresses/server-post-resp.json.tpl', 'doc/v3/api_samples/servers/server-get-resp.json', 'doc/v3/api_samples/os-pci/server-post-req.json', 'nova/tests/functional/v3/api_samples/servers/server-get-resp.json.tpl', 'nova/tests/functional/v3/api_samples/os-extended-server-attributes/server-get-resp.json.tpl', 'doc/v3/api_samples/os-disk-config/image-list-resp.json', 'doc/v3/api_samples/os-server-usage/server-get-resp.json', 'doc/v3/api_samples/os-access-ips/server-post-resp.json', 'nova/tests/functional/v3/api_samples/os-disk-config/server-post-req.json.tpl', 'nova/tests/functional/v3/api_samples/all_extensions/server-post-resp.json.tpl', 'nova/tests/functional/v3/test_server_metadata.py', 'doc/v3/api_samples/os-attach-interfaces/server-post-resp.json', 'doc/v3/api_samples/os-extended-volumes/servers-detail-resp.json', 'nova/tests/functional/v3/api_samples/os-extended-status/server-post-req.json.tpl', 'doc/v3/api_samples/consoles/server-post-resp.json', 'nova/tests/functional/v3/api_samples/all_extensions/server-post-req.json.tpl', 'doc/v3/api_samples/os-access-ips/server-put-resp.json', 'doc/v3/api_samples/os-admin-password/server-post-req.json', 'doc/v3/api_samples/os-config-drive/server-post-resp.json', 'doc/v3/api_samples/os-disk-config/server-action-rebuild-req.json', 'doc/v3/api_samples/os-suspend-server/server-post-req.json', 'nova/tests/functional/v3/api_samples/os-disk-config/server-action-rebuild-resp.json.tpl', 'nova/tests/functional/v3/api_samples/all_extensions/server-get-resp.json.tpl', 'nova/tests/functional/v3/api_samples/os-multiple-create/multiple-create-no-resv-post-resp.json.tpl', 'nova/tests/functional/v3/api_samples/image-size/images-details-get-resp.json.tpl', 'nova/tests/functional/v3/api_samples/os-config-drive/server-post-req.json.tpl', 'doc/v3/api_samples/os-create-backup/server-post-resp.json', 'doc/v3/api_samples/os-remote-consoles/server-post-req.json', 'doc/v3/api_samples/os-extended-server-attributes/server-get-resp.json', 'doc/v3/api_samples/os-flavor-rxtx/flavor-rxtx-list-resp.json', 'doc/v3/api_samples/server-metadata/server-post-resp.json', 'doc/v3/api_samples/servers/servers-list-resp.json', 'nova/tests/functional/v3/api_samples/servers-sort/server-post-resp.json.tpl', 'nova/tests/functional/v3/api_samples/os-simple-tenant-usage/server-post-resp.json.tpl', 'nova/tests/functional/v3/api_samples/os-access-ips/servers-list-resp.json.tpl', 'doc/v3/api_samples/flavors/flavor-get-resp.json', 'doc/v3/api_samples/server-ips/server-post-resp.json', 'nova/tests/functional/v3/api_samples/os-config-drive/servers-config-drive-details-resp.json.tpl', 'doc/v3/api_samples/os-preserve-ephemeral-rebuild/server-post-req.json', 'nova/tests/functional/v3/api_samples/os-rescue/server-post-req.json.tpl', 'nova/tests/functional/v3/api_samples/os-server-external-events/server-post-req.json.tpl', 'doc/v3/api_samples/os-suspend-server/server-post-resp.json', 'doc/v3/api_samples/os-extended-status/server-post-req.json', 'nova/tests/functional/v3/api_sample_base.py', 'nova/tests/functional/v3/api_samples/server-metadata/server-post-resp.json.tpl', 'doc/v3/api_samples/os-server-diagnostics/server-post-req.json', 'doc/v3/api_samples/os-extended-volumes/server-get-resp.json', 'doc/v3/api_samples/os-hide-server-addresses/server-get-resp.json', 'doc/v3/api_samples/os-rescue/server-get-resp-unrescue.json', 'doc/v3/api_samples/flavors/flavors-list-resp.json', 'doc/v3/api_samples/os-create-backup/server-post-req.json', 'nova/tests/functional/v3/api_samples/os-admin-password/server-post-req.json.tpl', 'nova/tests/functional/v3/api_samples/os-pci/servers-detail-resp.json.tpl', 'doc/v3/api_samples/os-config-drive/server-config-drive-get-resp.json', 'nova/tests/functional/v3/api_samples/servers/server-post-req.json.tpl', 'doc/v3/api_samples/consoles/server-post-req.json', 'nova/tests/functional/v3/api_samples/os-pause-server/server-post-req.json.tpl', 'nova/tests/functional/v3/api_samples/os-flavor-rxtx/flavor-rxtx-get-resp.json.tpl', 'doc/v3/api_samples/os-disk-config/server-post-req.json', 'nova/tests/functional/v3/api_samples/consoles/server-post-req.json.tpl', 'nova/tests/functional/v3/api_samples/os-disk-config/server-get-resp.json.tpl', 'nova/tests/functional/v3/api_samples/server-ips/server-post-req.json.tpl', 'doc/v3/api_samples/os-disk-config/server-get-resp.json', 'doc/v3/api_samples/os-migrate-server/server-post-req.json', 'nova/tests/functional/v3/api_samples/os-server-diagnostics/server-post-req.json.tpl', 'doc/v3/api_samples/os-disk-config/server-post-resp.json', 'doc/v3/api_samples/os-extended-volumes/server-post-req.json', 'doc/v3/api_samples/os-rescue/server-post-resp.json', 'nova/tests/functional/v3/api_samples/os-extended-availability-zone/servers-detail-resp.json.tpl', 'nova/tests/functional/v3/api_samples/os-extended-availability-zone/server-post-req.json.tpl', 'nova/tests/functional/v3/api_samples/os-multinic/server-post-req.json.tpl', 'doc/v3/api_samples/os-console-output/server-post-req.json', 'nova/tests/functional/v3/api_samples/os-extended-status/server-post-resp.json.tpl', 'nova/tests/functional/v3/api_samples/os-hide-server-addresses/servers-details-resp.json.tpl', 'nova/tests/functional/v3/api_samples/server-metadata/server-post-req.json.tpl', 'nova/tests/functional/v3/api_samples/os-preserve-ephemeral-rebuild/server-action-rebuild-preserve-ephemeral-resp.json.tpl', 'nova/tests/functional/v3/api_samples/os-personality/server-post-resp.json.tpl', 'nova/tests/functional/v3/api_samples/os-access-ips/server-get-resp.json.tpl', 'nova/tests/functional/v3/api_samples/os-user-data/userdata-post-resp.json.tpl', 'doc/v3/api_samples/os-disk-config/image-get-resp.json', 'doc/v3/api_samples/servers/server-action-rebuild.json', 'nova/tests/functional/v3/api_samples/os-pci/server-post-req.json.tpl', 'nova/tests/functional/v3/api_samples/flavor-access/flavor-access-detail-resp.json.tpl', 'doc/v3/api_samples/os-preserve-ephemeral-rebuild/server-post-resp.json', 'nova/tests/functional/v3/api_samples/image-size/image-get-resp.json.tpl', 'nova/tests/functional/v3/api_samples/os-hide-server-addresses/servers-list-resp.json.tpl', 'nova/tests/functional/v3/api_samples/os-server-usage/servers-detail-resp.json.tpl', 'doc/v3/api_samples/all_extensions/server-get-resp.json', 'doc/v3/api_samples/os-security-groups/servers-detail-resp.json', 'nova/tests/functional/v3/api_samples/os-admin-actions/server-post-req.json.tpl', 'doc/v3/api_samples/os-user-data/userdata-post-resp.json', 'nova/tests/functional/v3/api_samples/os-flavor-rxtx/flavor-rxtx-post-resp.json.tpl', 'doc/v3/api_samples/os-pci/servers-detail-resp.json', 'doc/v3/api_samples/os-hide-server-addresses/servers-details-resp.json', 'nova/tests/functional/v3/api_samples/os-extended-server-attributes/server-post-resp.json.tpl', 'nova/tests/functional/v3/api_samples/os-attach-interfaces/server-post-resp.json.tpl', 'nova/tests/functional/v3/api_samples/all_extensions/servers-details-resp.json.tpl', 'doc/v3/api_samples/os-hide-server-addresses/server-post-req.json', 'nova/tests/functional/v3/api_samples/os-extended-availability-zone/server-get-resp.json.tpl', 'nova/tests/functional/v3/api_samples/os-console-auth-tokens/server-post-req.json.tpl', 'doc/v3/api_samples/os-console-auth-tokens/server-post-resp.json', 'doc/v3/api_samples/flavor-access/flavor-access-show-resp.json', 'doc/v3/api_samples/os-preserve-ephemeral-rebuild/server-action-rebuild-preserve-ephemeral.json', 'nova/tests/functional/v3/api_samples/flavor-access/flavor-access-show-resp.json.tpl', 'nova/tests/functional/v3/api_samples/os-disk-config/server-update-put-resp.json.tpl', 'doc/v3/api_samples/all_extensions/servers-list-resp.json', 'nova/tests/functional/v3/api_samples/os-attach-interfaces/server-post-req.json.tpl', 'nova/tests/functional/v3/api_samples/os-pci/server-post-resp.json.tpl', 'doc/v3/api_samples/os-disk-config/server-action-rebuild-resp.json', 'doc/v3/api_samples/os-personality/server-action-rebuild-resp.json', 'nova/tests/functional/v3/api_samples/os-lock-server/server-post-resp.json.tpl', 'doc/v3/api_samples/os-server-external-events/server-post-req.json', 'nova/tests/functional/v3/api_samples/os-console-auth-tokens/server-post-resp.json.tpl', 'nova/tests/functional/v3/api_samples/servers/servers-list-resp.json.tpl', 'doc/v3/api_samples/os-evacuate/server-post-resp.json', 'nova/tests/functional/v3/api_samples/os-personality/server-action-rebuild-resp.json.tpl', 'doc/v3/api_samples/os-evacuate/server-post-req.json', 'nova/tests/functional/v3/api_samples/images/image-get-resp.json.tpl', 'nova/tests/functional/v3/api_samples/server-ips/server-post-resp.json.tpl', 'doc/v3/api_samples/os-extended-status/servers-detail-resp.json', 'doc/v3/api_samples/servers/server-post-resp.json', 'nova/tests/functional/v3/api_samples/images/images-details-get-resp.json.tpl', 'doc/v3/api_samples/servers/server-action-rebuild-preserve-ephemeral.json', 'nova/tests/functional/v3/api_samples/os-hide-server-addresses/server-post-req.json.tpl', 'doc/v3/api_samples/os-scheduler-hints/scheduler-hints-post-resp.json', 'doc/v3/api_samples/os-extended-availability-zone/server-post-resp.json', 'nova/tests/functional/v3/test_images.py', 'doc/v3/api_samples/os-disk-config/server-update-put-resp.json', 'doc/v3/api_samples/os-admin-actions/server-post-req.json', 'doc/v3/api_samples/os-deferred-delete/server-post-resp.json', 'nova/tests/functional/v3/api_samples/images/images-list-get-resp.json.tpl', 'nova/tests/functional/v3/api_samples/os-deferred-delete/server-post-resp.json.tpl', 'nova/tests/functional/v3/api_samples/os-console-output/server-post-req.json.tpl', 'doc/v3/api_samples/os-access-ips/server-action-rebuild-resp.json', 'doc/v3/api_samples/os-remote-consoles/server-post-resp.json', 'doc/v3/api_samples/os-lock-server/server-post-req.json', 'doc/v3/api_samples/os-personality/server-action-rebuild-req.json', 'doc/v3/api_samples/os-server-usage/servers-detail-resp.json', 'doc/v3/api_samples/os-volumes/server-post-resp.json', 'nova/tests/functional/v3/api_samples/os-disk-config/server-action-rebuild-req.json.tpl', 'doc/v3/api_samples/os-console-auth-tokens/server-post-req.json', 'nova/tests/functional/v3/api_samples/os-preserve-ephemeral-rebuild/server-post-req.json.tpl', 'doc/v3/api_samples/os-simple-tenant-usage/server-post-resp.json', 'nova/tests/functional/v3/api_samples/os-server-usage/server-post-req.json.tpl', 'nova/tests/functional/v3/api_samples/os-config-drive/server-post-resp.json.tpl', 'doc/v3/api_samples/servers/servers-details-resp.json', 'nova/tests/functional/v3/api_samples/os-create-backup/server-post-req.json.tpl', 'doc/v3/api_samples/image-size/image-get-resp.json', 'nova/tests/functional/v3/api_samples/os-extended-volumes/server-post-resp.json.tpl', 'doc/v3/api_samples/os-admin-password/server-post-resp.json', 'doc/v3/api_samples/os-personality/server-post-resp.json', 'doc/v3/api_samples/flavor-access/flavor-access-create-resp.json', 'nova/tests/functional/v3/api_samples/os-create-backup/server-post-resp.json.tpl', 'doc/v3/api_samples/os-config-drive/servers-config-drive-details-resp.json', 'doc/v3/api_samples/os-pause-server/server-post-resp.json', 'doc/v3/api_samples/os-hide-server-addresses/servers-list-resp.json', 'nova/tests/functional/v3/api_samples/flavors/flavor-get-resp.json.tpl', 'nova/tests/functional/v3/api_samples/os-access-ips/server-post-resp.json.tpl', 'doc/v3/api_samples/servers-sort/server-sort-keys-list-resp.json', 'doc/v3/api_samples/os-config-drive/server-post-req.json', 'doc/v3/api_samples/all_extensions/server-post-req.json', 'doc/v3/api_samples/flavor-access/flavor-access-detail-resp.json', 'doc/v3/api_samples/servers-sort/server-post-resp.json', 'nova/tests/functional/v3/api_samples/flavors/flavors-detail-resp.json.tpl', 'nova/tests/functional/v3/api_samples/os-multinic/server-post-resp.json.tpl', 'doc/v3/api_samples/image-size/images-details-get-resp.json', 'doc/v3/api_samples/os-flavor-rxtx/flavor-rxtx-post-resp.json', 'doc/v3/api_samples/os-lock-server/server-post-resp.json', 'nova/tests/functional/v3/api_samples/os-pause-server/server-post-resp.json.tpl', 'nova/tests/functional/v3/api_samples/consoles/server-post-resp.json.tpl', 'nova/tests/functional/v3/api_samples/os-extended-status/servers-detail-resp.json.tpl', 'nova/tests/functional/v3/api_samples/os-preserve-ephemeral-rebuild/server-post-resp.json.tpl', 'nova/tests/functional/v3/api_samples/os-rescue/server-get-resp-unrescue.json.tpl', 'doc/v3/api_samples/flavor-manage/flavor-create-post-resp.json', 'nova/tests/functional/v3/api_samples/os-rescue/server-get-resp-rescue.json.tpl', 'doc/v3/api_samples/servers/server-action-rebuild-resp.json', 'nova/tests/functional/v3/api_samples/servers/server-action-rebuild-resp.json.tpl', 'nova/tests/functional/v3/api_samples/os-migrate-server/server-post-resp.json.tpl', 'doc/v3/api_samples/os-extended-status/server-post-resp.json', 'nova/tests/functional/v3/api_samples/os-admin-actions/server-post-resp.json.tpl', 'nova/tests/functional/v3/api_samples/servers/servers-details-resp.json.tpl', 'doc/v3/api_samples/images/images-list-get-resp.json', 'doc/v3/api_samples/os-extended-server-attributes/servers-detail-resp.json', 'doc/v3/api_samples/os-flavor-rxtx/flavor-rxtx-get-resp.json', 'doc/v3/api_samples/os-attach-interfaces/server-post-req.json', 'nova/tests/functional/v3/api_samples/os-scheduler-hints/scheduler-hints-post-resp.json.tpl', 'nova/tests/functional/v3/api_samples/os-disk-config/image-list-resp.json.tpl', 'doc/v3/api_samples/os-deferred-delete/server-post-req.json', 'doc/v3/api_samples/os-hide-server-addresses/server-post-resp.json', 'nova/tests/functional/v3/api_samples/os-extended-server-attributes/server-post-req.json.tpl', 'doc/v3/api_samples/os-access-ips/server-action-rebuild.json', 'nova/tests/functional/v3/api_samples/os-flavor-rxtx/flavor-rxtx-list-resp.json.tpl', 'nova/tests/functional/v3/api_samples/os-fping/server-post-resp.json.tpl', 'doc/v3/api_samples/images/image-get-resp.json', 'doc/v3/api_samples/server-ips/server-post-req.json', 'nova/tests/functional/v3/api_samples/os-server-external-events/server-post-resp.json.tpl', 'doc/v3/api_samples/images/images-details-get-resp.json', 'nova/tests/functional/v3/api_samples/os-hide-server-addresses/server-get-resp.json.tpl', 'nova/tests/functional/v3/api_samples/os-remote-consoles/server-post-resp.json.tpl', 'doc/v3/api_samples/os-pause-server/server-post-req.json', 'nova/tests/functional/v3/api_samples/os-extended-volumes/server-post-req.json.tpl', 'doc/v3/api_samples/all_extensions/server-post-resp.json', 'doc/v3/api_samples/os-admin-actions/server-post-resp.json', 'doc/v3/api_samples/os-multinic/server-post-resp.json', 'nova/tests/functional/v3/api_samples/os-rescue/server-post-resp.json.tpl', 'nova/tests/functional/v3/api_samples/os-shelve/server-post-resp.json.tpl', 'nova/tests/functional/v3/api_samples/os-security-groups/server-get-resp.json.tpl', 'nova/tests/functional/v3/api_samples/servers/server-post-resp.json.tpl', 'doc/v3/api_samples/os-extended-availability-zone/servers-detail-resp.json', 'doc/v3/api_samples/os-availability-zone/server-post-resp.json', 'nova/tests/functional/v3/api_samples/os-evacuate/server-post-req.json.tpl', 'nova/tests/functional/v3/api_samples/os-extended-server-attributes/servers-detail-resp.json.tpl', 'doc/v3/api_samples/os-migrate-server/server-post-resp.json', 'nova/tests/functional/v3/api_samples/servers-sort/server-sort-keys-list-resp.json.tpl', 'doc/v3/api_samples/flavors/flavors-detail-resp.json', 'nova/tests/functional/v3/api_samples/os-access-ips/server-action-rebuild-resp.json.tpl', 'doc/v3/api_samples/os-access-ips/servers-details-resp.json', 'nova/tests/functional/v3/api_samples/os-access-ips/servers-details-resp.json.tpl', 'nova/tests/functional/v3/api_samples/os-server-usage/server-get-resp.json.tpl', 'nova/tests/functional/v3/api_samples/os-extended-status/server-get-resp.json.tpl', 'nova/tests/functional/test_login.py', 'nova/tests/functional/test_servers.py', 'nova/tests/functional/v3/api_samples/os-access-ips/server-put-resp.json.tpl', 'nova/tests/functional/v3/api_samples/os-disk-config/list-servers-detail-get.json.tpl', 'nova/tests/functional/v3/api_samples/os-deferred-delete/server-post-req.json.tpl', 'doc/v3/api_samples/os-pci/server-post-resp.json', 'nova/tests/functional/v3/api_samples/os-availability-zone/server-post-resp.json.tpl', 'nova/tests/functional/v3/api_samples/os-lock-server/server-post-req.json.tpl', 'doc/v3/api_samples/os-fping/server-post-resp.json', 'nova/tests/functional/v3/api_samples/os-admin-password/server-post-resp.json.tpl', 'doc/v3/api_samples/os-security-groups/server-get-resp.json', 'doc/v3/api_samples/servers/server-post-req.json', 'nova/tests/functional/v3/api_samples/os-console-output/server-post-resp.json.tpl', 'doc/v3/api_samples/os-shelve/server-post-resp.json', 'nova/tests/functional/v3/api_samples/os-disk-config/server-post-resp.json.tpl', 'nova/tests/functional/v3/api_samples/flavor-manage/flavor-create-post-resp.json.tpl', 'nova/tests/functional/v3/api_samples/os-remote-consoles/server-post-req.json.tpl', 'doc/v3/api_samples/os-console-output/server-post-resp.json', 'doc/v3/api_samples/os-extended-server-attributes/server-post-req.json', 'doc/v3/api_samples/os-server-external-events/server-post-resp.json', 'doc/v3/api_samples/os-extended-volumes/server-post-resp.json', 'doc/v3/api_samples/os-extended-status/server-get-resp.json', 'nova/tests/functional/v3/api_samples/os-server-diagnostics/server-post-resp.json.tpl', 'doc/v3/api_samples/os-security-groups/server-post-resp.json', 'doc/v3/api_samples/os-extended-server-attributes/server-post-resp.json', 'nova/tests/functional/v3/api_samples/os-security-groups/server-post-resp.json.tpl', 'doc/v3/api_samples/os-access-ips/server-get-resp.json', 'doc/v3/api_samples/os-pci/server-get-resp.json', 'nova/tests/functional/v3/api_samples/os-migrate-server/server-post-req.json.tpl', 'nova/tests/functional/v3/api_samples/flavors/flavors-list-resp.json.tpl', 'nova/tests/functional/v3/api_samples/os-evacuate/server-post-resp.json.tpl'], 'web_link': 'https://opendev.org/openstack/nova/commit/27c9a9c3b9012f56476410de85cd59e45fd851fe', 'message': 'Change functional tests to use V2.1 URL instead of V3\n\nAs all the V3 APIs have been moved to v2.1, V3 functional tests\nalso can be changed to use V2.1 URL.\n\nThis patch make the necessary changes for that.\n\nPartially implements blueprint v2-on-v3-api\n\nChange-Id: Iec30dfd10984995fa32304af867b324cd0184153\n'}]",2,154453,27c9a9c3b9012f56476410de85cd59e45fd851fe,17,10,1,8556,,,0,"Change functional tests to use V2.1 URL instead of V3

As all the V3 APIs have been moved to v2.1, V3 functional tests
also can be changed to use V2.1 URL.

This patch make the necessary changes for that.

Partially implements blueprint v2-on-v3-api

Change-Id: Iec30dfd10984995fa32304af867b324cd0184153
",git fetch https://review.opendev.org/openstack/nova refs/changes/53/154453/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/v3/api_samples/os-volumes/server-post-resp.json.tpl', 'nova/tests/functional/v3/api_samples/os-extended-volumes/server-get-resp.json.tpl', 'nova/tests/functional/v3/api_samples/os-security-groups/servers-detail-resp.json.tpl', 'doc/v3/api_samples/os-server-usage/server-post-req.json', 'doc/v3/api_samples/os-server-usage/server-post-resp.json', 'nova/tests/functional/v3/api_samples/os-pci/server-get-resp.json.tpl', 'doc/v3/api_samples/os-extended-availability-zone/server-post-req.json', 'nova/tests/functional/v3/api_samples/os-disk-config/image-get-resp.json.tpl', 'doc/v3/api_samples/os-multinic/server-post-req.json', 'doc/v3/api_samples/os-rescue/server-post-req.json', 'nova/tests/functional/v3/api_samples/os-server-usage/server-post-resp.json.tpl', 'doc/v3/api_samples/os-multiple-create/multiple-create-no-resv-post-resp.json', 'nova/tests/functional/v3/api_samples/os-config-drive/server-config-drive-get-resp.json.tpl', 'nova/tests/functional/v3/api_samples/os-extended-availability-zone/server-post-resp.json.tpl', 'doc/v3/api_samples/all_extensions/servers-details-resp.json', 'doc/v3/api_samples/os-disk-config/list-servers-detail-get.json', 'nova/tests/functional/v3/api_samples/all_extensions/servers-list-resp.json.tpl', 'nova/tests/functional/v3/api_samples/os-extended-volumes/servers-detail-resp.json.tpl', 'nova/tests/functional/v3/api_samples/os-suspend-server/server-post-req.json.tpl', 'nova/tests/functional/v3/api_samples/os-suspend-server/server-post-resp.json.tpl', 'doc/v3/api_samples/server-metadata/server-post-req.json', 'doc/v3/api_samples/os-extended-availability-zone/server-get-resp.json', 'nova/tests/functional/v3/api_samples/flavor-access/flavor-access-create-resp.json.tpl', 'doc/v3/api_samples/os-rescue/server-get-resp-rescue.json', 'doc/v3/api_samples/os-server-diagnostics/server-post-resp.json', 'nova/tests/functional/v3/api_samples/os-hide-server-addresses/server-post-resp.json.tpl', 'doc/v3/api_samples/servers/server-get-resp.json', 'doc/v3/api_samples/os-pci/server-post-req.json', 'nova/tests/functional/v3/api_samples/servers/server-get-resp.json.tpl', 'nova/tests/functional/v3/api_samples/os-extended-server-attributes/server-get-resp.json.tpl', 'doc/v3/api_samples/os-disk-config/image-list-resp.json', 'doc/v3/api_samples/os-server-usage/server-get-resp.json', 'doc/v3/api_samples/os-access-ips/server-post-resp.json', 'nova/tests/functional/v3/api_samples/os-disk-config/server-post-req.json.tpl', 'nova/tests/functional/v3/api_samples/all_extensions/server-post-resp.json.tpl', 'nova/tests/functional/v3/test_server_metadata.py', 'doc/v3/api_samples/os-attach-interfaces/server-post-resp.json', 'doc/v3/api_samples/os-extended-volumes/servers-detail-resp.json', 'nova/tests/functional/v3/api_samples/os-extended-status/server-post-req.json.tpl', 'doc/v3/api_samples/consoles/server-post-resp.json', 'nova/tests/functional/v3/api_samples/all_extensions/server-post-req.json.tpl', 'doc/v3/api_samples/os-access-ips/server-put-resp.json', 'doc/v3/api_samples/os-admin-password/server-post-req.json', 'doc/v3/api_samples/os-config-drive/server-post-resp.json', 'doc/v3/api_samples/os-disk-config/server-action-rebuild-req.json', 'doc/v3/api_samples/os-suspend-server/server-post-req.json', 'nova/tests/functional/v3/api_samples/os-disk-config/server-action-rebuild-resp.json.tpl', 'nova/tests/functional/v3/api_samples/all_extensions/server-get-resp.json.tpl', 'nova/tests/functional/v3/api_samples/os-multiple-create/multiple-create-no-resv-post-resp.json.tpl', 'nova/tests/functional/v3/api_samples/image-size/images-details-get-resp.json.tpl', 'nova/tests/functional/v3/api_samples/os-config-drive/server-post-req.json.tpl', 'doc/v3/api_samples/os-create-backup/server-post-resp.json', 'doc/v3/api_samples/os-remote-consoles/server-post-req.json', 'doc/v3/api_samples/os-extended-server-attributes/server-get-resp.json', 'doc/v3/api_samples/os-flavor-rxtx/flavor-rxtx-list-resp.json', 'doc/v3/api_samples/server-metadata/server-post-resp.json', 'doc/v3/api_samples/servers/servers-list-resp.json', 'nova/tests/functional/v3/api_samples/servers-sort/server-post-resp.json.tpl', 'nova/tests/functional/v3/api_samples/os-simple-tenant-usage/server-post-resp.json.tpl', 'nova/tests/functional/v3/api_samples/os-access-ips/servers-list-resp.json.tpl', 'doc/v3/api_samples/flavors/flavor-get-resp.json', 'doc/v3/api_samples/server-ips/server-post-resp.json', 'nova/tests/functional/v3/api_samples/os-config-drive/servers-config-drive-details-resp.json.tpl', 'doc/v3/api_samples/os-preserve-ephemeral-rebuild/server-post-req.json', 'nova/tests/functional/v3/api_samples/os-rescue/server-post-req.json.tpl', 'nova/tests/functional/v3/api_samples/os-server-external-events/server-post-req.json.tpl', 'doc/v3/api_samples/os-suspend-server/server-post-resp.json', 'doc/v3/api_samples/os-extended-status/server-post-req.json', 'nova/tests/functional/v3/api_sample_base.py', 'nova/tests/functional/v3/api_samples/server-metadata/server-post-resp.json.tpl', 'doc/v3/api_samples/os-server-diagnostics/server-post-req.json', 'doc/v3/api_samples/os-extended-volumes/server-get-resp.json', 'doc/v3/api_samples/os-hide-server-addresses/server-get-resp.json', 'doc/v3/api_samples/os-rescue/server-get-resp-unrescue.json', 'doc/v3/api_samples/flavors/flavors-list-resp.json', 'doc/v3/api_samples/os-create-backup/server-post-req.json', 'nova/tests/functional/v3/api_samples/os-admin-password/server-post-req.json.tpl', 'nova/tests/functional/v3/api_samples/os-pci/servers-detail-resp.json.tpl', 'doc/v3/api_samples/os-config-drive/server-config-drive-get-resp.json', 'nova/tests/functional/v3/api_samples/servers/server-post-req.json.tpl', 'doc/v3/api_samples/consoles/server-post-req.json', 'nova/tests/functional/v3/api_samples/os-pause-server/server-post-req.json.tpl', 'nova/tests/functional/v3/api_samples/os-flavor-rxtx/flavor-rxtx-get-resp.json.tpl', 'doc/v3/api_samples/os-disk-config/server-post-req.json', 'nova/tests/functional/v3/api_samples/consoles/server-post-req.json.tpl', 'nova/tests/functional/v3/api_samples/os-disk-config/server-get-resp.json.tpl', 'nova/tests/functional/v3/api_samples/server-ips/server-post-req.json.tpl', 'doc/v3/api_samples/os-disk-config/server-get-resp.json', 'doc/v3/api_samples/os-migrate-server/server-post-req.json', 'nova/tests/functional/v3/api_samples/os-server-diagnostics/server-post-req.json.tpl', 'doc/v3/api_samples/os-disk-config/server-post-resp.json', 'doc/v3/api_samples/os-extended-volumes/server-post-req.json', 'doc/v3/api_samples/os-rescue/server-post-resp.json', 'nova/tests/functional/v3/api_samples/os-extended-availability-zone/servers-detail-resp.json.tpl', 'nova/tests/functional/v3/api_samples/os-extended-availability-zone/server-post-req.json.tpl', 'nova/tests/functional/v3/api_samples/os-multinic/server-post-req.json.tpl', 'doc/v3/api_samples/os-console-output/server-post-req.json', 'nova/tests/functional/v3/api_samples/os-extended-status/server-post-resp.json.tpl', 'nova/tests/functional/v3/api_samples/os-hide-server-addresses/servers-details-resp.json.tpl', 'nova/tests/functional/v3/api_samples/server-metadata/server-post-req.json.tpl', 'nova/tests/functional/v3/api_samples/os-preserve-ephemeral-rebuild/server-action-rebuild-preserve-ephemeral-resp.json.tpl', 'nova/tests/functional/v3/api_samples/os-personality/server-post-resp.json.tpl', 'nova/tests/functional/v3/api_samples/os-access-ips/server-get-resp.json.tpl', 'nova/tests/functional/v3/api_samples/os-user-data/userdata-post-resp.json.tpl', 'doc/v3/api_samples/os-disk-config/image-get-resp.json', 'doc/v3/api_samples/servers/server-action-rebuild.json', 'nova/tests/functional/v3/api_samples/os-pci/server-post-req.json.tpl', 'nova/tests/functional/v3/api_samples/flavor-access/flavor-access-detail-resp.json.tpl', 'doc/v3/api_samples/os-preserve-ephemeral-rebuild/server-post-resp.json', 'nova/tests/functional/v3/api_samples/image-size/image-get-resp.json.tpl', 'nova/tests/functional/v3/api_samples/os-hide-server-addresses/servers-list-resp.json.tpl', 'nova/tests/functional/v3/api_samples/os-server-usage/servers-detail-resp.json.tpl', 'doc/v3/api_samples/all_extensions/server-get-resp.json', 'doc/v3/api_samples/os-security-groups/servers-detail-resp.json', 'nova/tests/functional/v3/api_samples/os-admin-actions/server-post-req.json.tpl', 'doc/v3/api_samples/os-user-data/userdata-post-resp.json', 'nova/tests/functional/v3/api_samples/os-flavor-rxtx/flavor-rxtx-post-resp.json.tpl', 'doc/v3/api_samples/os-pci/servers-detail-resp.json', 'doc/v3/api_samples/os-hide-server-addresses/servers-details-resp.json', 'nova/tests/functional/v3/api_samples/os-extended-server-attributes/server-post-resp.json.tpl', 'nova/tests/functional/v3/api_samples/os-attach-interfaces/server-post-resp.json.tpl', 'nova/tests/functional/v3/api_samples/all_extensions/servers-details-resp.json.tpl', 'doc/v3/api_samples/os-hide-server-addresses/server-post-req.json', 'nova/tests/functional/v3/api_samples/os-extended-availability-zone/server-get-resp.json.tpl', 'nova/tests/functional/v3/api_samples/os-console-auth-tokens/server-post-req.json.tpl', 'doc/v3/api_samples/os-console-auth-tokens/server-post-resp.json', 'doc/v3/api_samples/flavor-access/flavor-access-show-resp.json', 'doc/v3/api_samples/os-preserve-ephemeral-rebuild/server-action-rebuild-preserve-ephemeral.json', 'nova/tests/functional/v3/api_samples/flavor-access/flavor-access-show-resp.json.tpl', 'nova/tests/functional/v3/api_samples/os-disk-config/server-update-put-resp.json.tpl', 'doc/v3/api_samples/all_extensions/servers-list-resp.json', 'nova/tests/functional/v3/api_samples/os-attach-interfaces/server-post-req.json.tpl', 'nova/tests/functional/v3/api_samples/os-pci/server-post-resp.json.tpl', 'doc/v3/api_samples/os-disk-config/server-action-rebuild-resp.json', 'doc/v3/api_samples/os-personality/server-action-rebuild-resp.json', 'nova/tests/functional/v3/api_samples/os-lock-server/server-post-resp.json.tpl', 'doc/v3/api_samples/os-server-external-events/server-post-req.json', 'nova/tests/functional/v3/api_samples/os-console-auth-tokens/server-post-resp.json.tpl', 'nova/tests/functional/v3/api_samples/servers/servers-list-resp.json.tpl', 'doc/v3/api_samples/os-evacuate/server-post-resp.json', 'nova/tests/functional/v3/api_samples/os-personality/server-action-rebuild-resp.json.tpl', 'doc/v3/api_samples/os-evacuate/server-post-req.json', 'nova/tests/functional/v3/api_samples/images/image-get-resp.json.tpl', 'nova/tests/functional/v3/api_samples/server-ips/server-post-resp.json.tpl', 'doc/v3/api_samples/os-extended-status/servers-detail-resp.json', 'doc/v3/api_samples/servers/server-post-resp.json', 'nova/tests/functional/v3/api_samples/images/images-details-get-resp.json.tpl', 'doc/v3/api_samples/servers/server-action-rebuild-preserve-ephemeral.json', 'nova/tests/functional/v3/api_samples/os-hide-server-addresses/server-post-req.json.tpl', 'doc/v3/api_samples/os-scheduler-hints/scheduler-hints-post-resp.json', 'doc/v3/api_samples/os-extended-availability-zone/server-post-resp.json', 'nova/tests/functional/v3/test_images.py', 'doc/v3/api_samples/os-disk-config/server-update-put-resp.json', 'doc/v3/api_samples/os-admin-actions/server-post-req.json', 'doc/v3/api_samples/os-deferred-delete/server-post-resp.json', 'nova/tests/functional/v3/api_samples/images/images-list-get-resp.json.tpl', 'nova/tests/functional/v3/api_samples/os-deferred-delete/server-post-resp.json.tpl', 'nova/tests/functional/v3/api_samples/os-console-output/server-post-req.json.tpl', 'doc/v3/api_samples/os-access-ips/server-action-rebuild-resp.json', 'doc/v3/api_samples/os-remote-consoles/server-post-resp.json', 'doc/v3/api_samples/os-lock-server/server-post-req.json', 'doc/v3/api_samples/os-personality/server-action-rebuild-req.json', 'doc/v3/api_samples/os-server-usage/servers-detail-resp.json', 'doc/v3/api_samples/os-volumes/server-post-resp.json', 'nova/tests/functional/v3/api_samples/os-disk-config/server-action-rebuild-req.json.tpl', 'doc/v3/api_samples/os-console-auth-tokens/server-post-req.json', 'nova/tests/functional/v3/api_samples/os-preserve-ephemeral-rebuild/server-post-req.json.tpl', 'doc/v3/api_samples/os-simple-tenant-usage/server-post-resp.json', 'nova/tests/functional/v3/api_samples/os-server-usage/server-post-req.json.tpl', 'nova/tests/functional/v3/api_samples/os-config-drive/server-post-resp.json.tpl', 'doc/v3/api_samples/servers/servers-details-resp.json', 'nova/tests/functional/v3/api_samples/os-create-backup/server-post-req.json.tpl', 'doc/v3/api_samples/image-size/image-get-resp.json', 'nova/tests/functional/v3/api_samples/os-extended-volumes/server-post-resp.json.tpl', 'doc/v3/api_samples/os-admin-password/server-post-resp.json', 'doc/v3/api_samples/os-personality/server-post-resp.json', 'doc/v3/api_samples/flavor-access/flavor-access-create-resp.json', 'nova/tests/functional/v3/api_samples/os-create-backup/server-post-resp.json.tpl', 'doc/v3/api_samples/os-config-drive/servers-config-drive-details-resp.json', 'doc/v3/api_samples/os-pause-server/server-post-resp.json', 'doc/v3/api_samples/os-hide-server-addresses/servers-list-resp.json', 'nova/tests/functional/v3/api_samples/flavors/flavor-get-resp.json.tpl', 'nova/tests/functional/v3/api_samples/os-access-ips/server-post-resp.json.tpl', 'doc/v3/api_samples/servers-sort/server-sort-keys-list-resp.json', 'doc/v3/api_samples/os-config-drive/server-post-req.json', 'doc/v3/api_samples/all_extensions/server-post-req.json', 'doc/v3/api_samples/flavor-access/flavor-access-detail-resp.json', 'doc/v3/api_samples/servers-sort/server-post-resp.json', 'nova/tests/functional/v3/api_samples/flavors/flavors-detail-resp.json.tpl', 'nova/tests/functional/v3/api_samples/os-multinic/server-post-resp.json.tpl', 'doc/v3/api_samples/image-size/images-details-get-resp.json', 'doc/v3/api_samples/os-flavor-rxtx/flavor-rxtx-post-resp.json', 'doc/v3/api_samples/os-lock-server/server-post-resp.json', 'nova/tests/functional/v3/api_samples/os-pause-server/server-post-resp.json.tpl', 'nova/tests/functional/v3/api_samples/consoles/server-post-resp.json.tpl', 'nova/tests/functional/v3/api_samples/os-extended-status/servers-detail-resp.json.tpl', 'nova/tests/functional/v3/api_samples/os-preserve-ephemeral-rebuild/server-post-resp.json.tpl', 'nova/tests/functional/v3/api_samples/os-rescue/server-get-resp-unrescue.json.tpl', 'doc/v3/api_samples/flavor-manage/flavor-create-post-resp.json', 'nova/tests/functional/v3/api_samples/os-rescue/server-get-resp-rescue.json.tpl', 'doc/v3/api_samples/servers/server-action-rebuild-resp.json', 'nova/tests/functional/v3/api_samples/servers/server-action-rebuild-resp.json.tpl', 'nova/tests/functional/v3/api_samples/os-migrate-server/server-post-resp.json.tpl', 'doc/v3/api_samples/os-extended-status/server-post-resp.json', 'nova/tests/functional/v3/api_samples/os-admin-actions/server-post-resp.json.tpl', 'nova/tests/functional/v3/api_samples/servers/servers-details-resp.json.tpl', 'doc/v3/api_samples/images/images-list-get-resp.json', 'doc/v3/api_samples/os-extended-server-attributes/servers-detail-resp.json', 'doc/v3/api_samples/os-flavor-rxtx/flavor-rxtx-get-resp.json', 'doc/v3/api_samples/os-attach-interfaces/server-post-req.json', 'nova/tests/functional/v3/api_samples/os-scheduler-hints/scheduler-hints-post-resp.json.tpl', 'nova/tests/functional/v3/api_samples/os-disk-config/image-list-resp.json.tpl', 'doc/v3/api_samples/os-deferred-delete/server-post-req.json', 'doc/v3/api_samples/os-hide-server-addresses/server-post-resp.json', 'nova/tests/functional/v3/api_samples/os-extended-server-attributes/server-post-req.json.tpl', 'doc/v3/api_samples/os-access-ips/server-action-rebuild.json', 'nova/tests/functional/v3/api_samples/os-flavor-rxtx/flavor-rxtx-list-resp.json.tpl', 'nova/tests/functional/v3/api_samples/os-fping/server-post-resp.json.tpl', 'doc/v3/api_samples/images/image-get-resp.json', 'doc/v3/api_samples/server-ips/server-post-req.json', 'nova/tests/functional/v3/api_samples/os-server-external-events/server-post-resp.json.tpl', 'doc/v3/api_samples/images/images-details-get-resp.json', 'nova/tests/functional/v3/api_samples/os-hide-server-addresses/server-get-resp.json.tpl', 'nova/tests/functional/v3/api_samples/os-remote-consoles/server-post-resp.json.tpl', 'doc/v3/api_samples/os-pause-server/server-post-req.json', 'nova/tests/functional/v3/api_samples/os-extended-volumes/server-post-req.json.tpl', 'doc/v3/api_samples/all_extensions/server-post-resp.json', 'doc/v3/api_samples/os-admin-actions/server-post-resp.json', 'doc/v3/api_samples/os-multinic/server-post-resp.json', 'nova/tests/functional/v3/api_samples/os-rescue/server-post-resp.json.tpl', 'nova/tests/functional/v3/api_samples/os-shelve/server-post-resp.json.tpl', 'nova/tests/functional/v3/api_samples/os-security-groups/server-get-resp.json.tpl', 'nova/tests/functional/v3/api_samples/servers/server-post-resp.json.tpl', 'doc/v3/api_samples/os-extended-availability-zone/servers-detail-resp.json', 'doc/v3/api_samples/os-availability-zone/server-post-resp.json', 'nova/tests/functional/v3/api_samples/os-evacuate/server-post-req.json.tpl', 'nova/tests/functional/v3/api_samples/os-extended-server-attributes/servers-detail-resp.json.tpl', 'doc/v3/api_samples/os-migrate-server/server-post-resp.json', 'nova/tests/functional/v3/api_samples/servers-sort/server-sort-keys-list-resp.json.tpl', 'doc/v3/api_samples/flavors/flavors-detail-resp.json', 'nova/tests/functional/v3/api_samples/os-access-ips/server-action-rebuild-resp.json.tpl', 'doc/v3/api_samples/os-access-ips/servers-details-resp.json', 'nova/tests/functional/v3/api_samples/os-access-ips/servers-details-resp.json.tpl', 'nova/tests/functional/v3/api_samples/os-server-usage/server-get-resp.json.tpl', 'nova/tests/functional/v3/api_samples/os-extended-status/server-get-resp.json.tpl', 'nova/tests/functional/test_login.py', 'nova/tests/functional/test_servers.py', 'nova/tests/functional/v3/api_samples/os-access-ips/server-put-resp.json.tpl', 'nova/tests/functional/v3/api_samples/os-disk-config/list-servers-detail-get.json.tpl', 'nova/tests/functional/v3/api_samples/os-deferred-delete/server-post-req.json.tpl', 'doc/v3/api_samples/os-pci/server-post-resp.json', 'nova/tests/functional/v3/api_samples/os-availability-zone/server-post-resp.json.tpl', 'nova/tests/functional/v3/api_samples/os-lock-server/server-post-req.json.tpl', 'doc/v3/api_samples/os-fping/server-post-resp.json', 'nova/tests/functional/v3/api_samples/os-admin-password/server-post-resp.json.tpl', 'doc/v3/api_samples/os-security-groups/server-get-resp.json', 'doc/v3/api_samples/servers/server-post-req.json', 'nova/tests/functional/v3/api_samples/os-console-output/server-post-resp.json.tpl', 'doc/v3/api_samples/os-shelve/server-post-resp.json', 'nova/tests/functional/v3/api_samples/os-disk-config/server-post-resp.json.tpl', 'nova/tests/functional/v3/api_samples/flavor-manage/flavor-create-post-resp.json.tpl', 'nova/tests/functional/v3/api_samples/os-remote-consoles/server-post-req.json.tpl', 'doc/v3/api_samples/os-console-output/server-post-resp.json', 'doc/v3/api_samples/os-extended-server-attributes/server-post-req.json', 'doc/v3/api_samples/os-server-external-events/server-post-resp.json', 'doc/v3/api_samples/os-extended-volumes/server-post-resp.json', 'doc/v3/api_samples/os-extended-status/server-get-resp.json', 'nova/tests/functional/v3/api_samples/os-server-diagnostics/server-post-resp.json.tpl', 'doc/v3/api_samples/os-security-groups/server-post-resp.json', 'doc/v3/api_samples/os-extended-server-attributes/server-post-resp.json', 'nova/tests/functional/v3/api_samples/os-security-groups/server-post-resp.json.tpl', 'doc/v3/api_samples/os-access-ips/server-get-resp.json', 'doc/v3/api_samples/os-pci/server-get-resp.json', 'nova/tests/functional/v3/api_samples/os-migrate-server/server-post-req.json.tpl', 'nova/tests/functional/v3/api_samples/flavors/flavors-list-resp.json.tpl', 'nova/tests/functional/v3/api_samples/os-evacuate/server-post-resp.json.tpl']",276,27c9a9c3b9012f56476410de85cd59e45fd851fe,sample_files_structure," ""href"": ""%(host)s/v2.1/openstack/servers/%(uuid)s"", ""href"": ""%(host)s/openstack/servers/%(uuid)s"","," ""href"": ""%(host)s/v3/servers/%(uuid)s"", ""href"": ""%(host)s/servers/%(uuid)s"",",807,809
openstack%2Fnova~master~I4546b811a1733271be26068dca689ab8aa730d57,openstack/nova,master,I4546b811a1733271be26068dca689ab8aa730d57,Scheduler and filters use Flavor object,ABANDONED,2015-03-02 20:17:50.000000000,2015-05-13 17:21:13.000000000,,"[{'_account_id': 3}, {'_account_id': 1849}, {'_account_id': 5511}, {'_account_id': 5754}, {'_account_id': 7166}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11103}]","[{'number': 1, 'created': '2015-03-02 20:17:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/72058ed87245efcc09807bf477f5039a472ceb59', 'message': ""Scheduler and filters use Flavor object\n\nAfter having the objects actually available through the new\nFilterRequestSpec temporary object, let's make sure that we are wrapping\nthe old style dict we get from various RPC calls in it, and that filters\nand that tests are more true to the code now, by using object syntax and\nsupplying mock objects respectively.\n\nBlueprint: kilo-objects\nChange-Id: I4546b811a1733271be26068dca689ab8aa730d57\n""}, {'number': 2, 'created': '2015-03-02 20:32:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b875d597f35fe160c5d8303087329f01b6e72ae0', 'message': ""Scheduler and filters use Flavor object\n\nAfter having the objects actually available through the new\nFilterRequestSpec temporary object, let's make sure that we are wrapping\nthe old style dict we get from various RPC calls in it, and that filters\nand that tests are more true to the code now, by using object syntax and\nsupplying mock objects respectively.\n\nBlueprint: kilo-objects\nChange-Id: I4546b811a1733271be26068dca689ab8aa730d57\n""}, {'number': 3, 'created': '2015-03-03 17:55:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/580ec7576f26bafc69d8d22cb6ecef428bdf7d5e', 'message': ""Scheduler and filters use Flavor object\n\nAfter having the objects actually available through the new\nFilterRequestSpec temporary object, let's make sure that we are wrapping\nthe old style dict we get from various RPC calls in it, and that filters\nand that tests are more true to the code now, by using object syntax and\nsupplying mock objects respectively.\n\nBlueprint: kilo-objects\nChange-Id: I4546b811a1733271be26068dca689ab8aa730d57\n""}, {'number': 4, 'created': '2015-03-10 11:11:09.000000000', 'files': ['nova/scheduler/filters/image_props_filter.py', 'nova/tests/unit/fake_filter_request_spec.py', 'nova/scheduler/filters/numa_topology_filter.py', 'nova/scheduler/filters/trusted_filter.py', 'nova/tests/unit/scheduler/filters/test_compute_capabilities_filters.py', 'nova/scheduler/filters/ram_filter.py', 'nova/tests/unit/scheduler/filters/test_disk_filters.py', 'nova/tests/unit/scheduler/filters/test_availability_zone_filters.py', 'nova/scheduler/filters/exact_core_filter.py', 'nova/tests/unit/scheduler/filters/test_aggregate_instance_extra_specs_filters.py', 'nova/scheduler/filter_scheduler.py', 'nova/scheduler/filters/core_filter.py', 'nova/tests/unit/scheduler/filters/test_trusted_filters.py', 'nova/scheduler/filters/isolated_hosts_filter.py', 'nova/tests/unit/scheduler/filters/test_aggregate_image_properties_isolation_filters.py', 'nova/tests/unit/scheduler/filters/test_numa_topology_filters.py', 'nova/tests/unit/scheduler/filters/test_image_props_filters.py', 'nova/tests/unit/scheduler/test_filter_scheduler.py', 'nova/scheduler/filters/availability_zone_filter.py', 'nova/scheduler/filters/disk_filter.py', 'nova/scheduler/filters/exact_ram_filter.py', 'nova/scheduler/filters/aggregate_image_properties_isolation.py', 'nova/tests/unit/scheduler/filters/test_isolated_hosts_filter.py', 'nova/tests/unit/scheduler/filters/test_aggregate_multitenancy_isolation_filters.py', 'nova/scheduler/filters/type_filter.py', 'nova/tests/unit/scheduler/filters/test_type_filters.py', 'nova/scheduler/filters/aggregate_instance_extra_specs.py', 'nova/tests/unit/scheduler/filters/test_ram_filters.py', 'nova/tests/unit/scheduler/test_caching_scheduler.py', 'nova/scheduler/filters/aggregate_multitenancy_isolation.py', 'nova/tests/unit/scheduler/filters/test_core_filters.py', 'nova/scheduler/filters/compute_capabilities_filter.py', 'nova/scheduler/filters/exact_disk_filter.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/20d17ad9fad4cb2152f12298e0e26d583433da64', 'message': ""Scheduler and filters use Flavor object\n\nAfter having the objects actually available through the new\nFilterRequestSpec temporary object, let's make sure that we are wrapping\nthe old style dict we get from various RPC calls in it, and that filters\nand that tests are more true to the code now, by using object syntax and\nsupplying mock objects respectively.\n\nBlueprint: kilo-objects\nChange-Id: I4546b811a1733271be26068dca689ab8aa730d57\n""}]",3,160483,20d17ad9fad4cb2152f12298e0e26d583433da64,27,10,4,5511,,,0,"Scheduler and filters use Flavor object

After having the objects actually available through the new
FilterRequestSpec temporary object, let's make sure that we are wrapping
the old style dict we get from various RPC calls in it, and that filters
and that tests are more true to the code now, by using object syntax and
supplying mock objects respectively.

Blueprint: kilo-objects
Change-Id: I4546b811a1733271be26068dca689ab8aa730d57
",git fetch https://review.opendev.org/openstack/nova refs/changes/83/160483/4 && git format-patch -1 --stdout FETCH_HEAD,"['nova/scheduler/filters/image_props_filter.py', 'nova/tests/unit/fake_filter_request_spec.py', 'nova/scheduler/filters/numa_topology_filter.py', 'nova/scheduler/filters/trusted_filter.py', 'nova/tests/unit/scheduler/filters/test_compute_capabilities_filters.py', 'nova/scheduler/filters/ram_filter.py', 'nova/tests/unit/scheduler/filters/test_disk_filters.py', 'nova/tests/unit/scheduler/filters/test_availability_zone_filters.py', 'nova/scheduler/filters/exact_core_filter.py', 'nova/tests/unit/scheduler/filters/test_aggregate_instance_extra_specs_filters.py', 'nova/scheduler/filter_scheduler.py', 'nova/scheduler/filters/core_filter.py', 'nova/tests/unit/scheduler/filters/test_trusted_filters.py', 'nova/scheduler/filters/isolated_hosts_filter.py', 'nova/tests/unit/scheduler/filters/test_aggregate_image_properties_isolation_filters.py', 'nova/tests/unit/scheduler/filters/test_numa_topology_filters.py', 'nova/tests/unit/scheduler/filters/test_image_props_filters.py', 'nova/tests/unit/scheduler/test_filter_scheduler.py', 'nova/scheduler/filters/availability_zone_filter.py', 'nova/scheduler/filters/disk_filter.py', 'nova/scheduler/filters/exact_ram_filter.py', 'nova/scheduler/filters/aggregate_image_properties_isolation.py', 'nova/tests/unit/scheduler/filters/test_isolated_hosts_filter.py', 'nova/tests/unit/scheduler/filters/test_aggregate_multitenancy_isolation_filters.py', 'nova/scheduler/filters/type_filter.py', 'nova/tests/unit/scheduler/filters/test_type_filters.py', 'nova/scheduler/filters/aggregate_instance_extra_specs.py', 'nova/tests/unit/scheduler/filters/test_ram_filters.py', 'nova/tests/unit/scheduler/test_caching_scheduler.py', 'nova/scheduler/filters/aggregate_multitenancy_isolation.py', 'nova/tests/unit/scheduler/filters/test_core_filters.py', 'nova/scheduler/filters/compute_capabilities_filter.py', 'nova/scheduler/filters/exact_disk_filter.py']",33,72058ed87245efcc09807bf477f5039a472ceb59,bug/1370390, instance_type = filter_properties['instance_type'] requested_disk = (1024 * (instance_type.root_gb + instance_type.ephemeral_gb) + instance_type.swap), instance_type = filter_properties.get('instance_type') requested_disk = (1024 * (instance_type['root_gb'] + instance_type['ephemeral_gb']) + instance_type['swap']),422,270
openstack%2Fnova~master~If6fb7817916f690d38a4208f92c5b383425cd1ec,openstack/nova,master,If6fb7817916f690d38a4208f92c5b383425cd1ec,update base code to use binary constants,ABANDONED,2015-02-19 13:14:15.000000000,2015-05-13 17:21:10.000000000,,"[{'_account_id': 3}, {'_account_id': 1849}, {'_account_id': 5170}, {'_account_id': 7730}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}]","[{'number': 1, 'created': '2015-02-19 13:14:15.000000000', 'files': ['nova/api/openstack/compute/contrib/hypervisors.py', 'nova/tests/unit/virt/xenapi/test_xenapi.py', 'nova/network/manager.py', 'nova/tests/functional/v3/test_migrate_server.py', 'nova/tests/unit/compute/test_host_api.py', 'nova/db/sqlalchemy/api.py', 'nova/cells/state.py', 'nova/tests/unit/api/openstack/compute/contrib/test_hosts.py', 'nova/tests/unit/api/openstack/compute/contrib/test_services.py', 'nova/virt/xenapi/host.py', 'nova/tests/unit/compute/test_resource_tracker.py', 'nova/tests/functional/test_api_samples.py', 'nova/tests/unit/compute/test_compute.py', 'nova/tests/unit/cells/test_cells_messaging.py', 'nova/network/floating_ips.py', 'nova/tests/unit/virt/libvirt/test_driver.py', 'nova/tests/unit/fake_hosts.py', 'nova/tests/unit/api/openstack/compute/contrib/test_availability_zone.py', 'nova/tests/unit/api/openstack/compute/contrib/test_hypervisor_status.py', 'nova/tests/unit/scheduler/test_host_manager.py', 'nova/api/openstack/compute/plugins/v3/hypervisors.py', 'nova/tests/functional/v3/test_services.py', 'nova/tests/unit/api/ec2/test_cloud.py', 'nova/tests/unit/compute/test_tracker.py', 'nova/tests/unit/scheduler/test_ironic_host_manager.py', 'nova/tests/unit/api/openstack/compute/test_servers.py', 'nova/tests/unit/api/openstack/compute/contrib/test_hypervisors.py', 'nova/cmd/compute.py', 'nova/scheduler/host_manager.py', 'nova/tests/unit/db/test_db_api.py', 'nova/cmd/all.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/d62ede6c2d0ff6cefd5ad3c5fb9c6a2a847b9ff5', 'message': 'update base code to use binary constants\n\nThe change I5f8ff4ecbbc03db5683515832f4b987f1d4992aa adds\nnew constants to handle binary names, this commit update\nall of the base code to use them.\n\nChange-Id: If6fb7817916f690d38a4208f92c5b383425cd1ec\n'}]",0,157364,d62ede6c2d0ff6cefd5ad3c5fb9c6a2a847b9ff5,11,9,1,7730,,,0,"update base code to use binary constants

The change I5f8ff4ecbbc03db5683515832f4b987f1d4992aa adds
new constants to handle binary names, this commit update
all of the base code to use them.

Change-Id: If6fb7817916f690d38a4208f92c5b383425cd1ec
",git fetch https://review.opendev.org/openstack/nova refs/changes/64/157364/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/api/openstack/compute/contrib/hypervisors.py', 'nova/tests/unit/virt/xenapi/test_xenapi.py', 'nova/network/manager.py', 'nova/tests/functional/v3/test_migrate_server.py', 'nova/tests/unit/compute/test_host_api.py', 'nova/db/sqlalchemy/api.py', 'nova/cells/state.py', 'nova/tests/unit/api/openstack/compute/contrib/test_hosts.py', 'nova/tests/unit/api/openstack/compute/contrib/test_services.py', 'nova/virt/xenapi/host.py', 'nova/tests/unit/compute/test_resource_tracker.py', 'nova/tests/functional/test_api_samples.py', 'nova/tests/unit/compute/test_compute.py', 'nova/tests/unit/cells/test_cells_messaging.py', 'nova/network/floating_ips.py', 'nova/tests/unit/virt/libvirt/test_driver.py', 'nova/tests/unit/fake_hosts.py', 'nova/tests/unit/api/openstack/compute/contrib/test_availability_zone.py', 'nova/tests/unit/api/openstack/compute/contrib/test_hypervisor_status.py', 'nova/tests/unit/scheduler/test_host_manager.py', 'nova/api/openstack/compute/plugins/v3/hypervisors.py', 'nova/tests/functional/v3/test_services.py', 'nova/tests/unit/api/ec2/test_cloud.py', 'nova/tests/unit/compute/test_tracker.py', 'nova/tests/unit/scheduler/test_ironic_host_manager.py', 'nova/tests/unit/api/openstack/compute/test_servers.py', 'nova/tests/unit/api/openstack/compute/contrib/test_hypervisors.py', 'nova/cmd/compute.py', 'nova/scheduler/host_manager.py', 'nova/tests/unit/db/test_db_api.py', 'nova/cmd/all.py']",31,d62ede6c2d0ff6cefd5ad3c5fb9c6a2a847b9ff5,bp/detach-service-from-computenode,"from nova.compute import binary for bin in [binary.NOVA_COMPUTE, binary.NOVA_NETWORK, binary.NOVA_SCHEDULER, binary.NOVA_CERT, binary.NOVA_CONDUCTOR]: if bin == binary.NOVA_COMPUTE: launcher.launch_service(service.Service.create(binary=bin, LOG.exception(_LE('Failed to load %s'), bin)"," for binary in ['nova-compute', 'nova-network', 'nova-scheduler', 'nova-cert', 'nova-conductor']: if binary == 'nova-conductor': launcher.launch_service(service.Service.create(binary=binary, LOG.exception(_LE('Failed to load %s'), binary)",169,133
openstack%2Fnova~master~I6aeb00f3d1c06a62a9932704cef50cc29d69a461,openstack/nova,master,I6aeb00f3d1c06a62a9932704cef50cc29d69a461,"Delete instance file that remain as garbage, by periodic task.",ABANDONED,2015-02-06 03:07:09.000000000,2015-05-13 17:21:08.000000000,,"[{'_account_id': 3}, {'_account_id': 1063}, {'_account_id': 1849}, {'_account_id': 5170}, {'_account_id': 5754}, {'_account_id': 8247}, {'_account_id': 8922}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11103}, {'_account_id': 14021}]","[{'number': 1, 'created': '2015-02-06 03:07:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fd3996f5cbfbf7adffd7cfb34b4a693daeceab7c', 'message': 'Delete instance file that remain as garbage, by periodic task.\n\nIf the VM is deleted during live migration process, there is a problem\nthat instance file remains in the destination.\n\nThis patch fixes the problem by to delete instance file that remaining\nwithout is deleted.\n\nChange-Id: I6aeb00f3d1c06a62a9932704cef50cc29d69a461\nCloses-Bug: #1285000\n'}, {'number': 2, 'created': '2015-02-20 08:23:04.000000000', 'files': ['nova/tests/unit/compute/test_compute_mgr.py', 'nova/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/43f391368178102419dd6b2bc300c5308c429ab7', 'message': 'Delete instance file that remain as garbage, by periodic task.\n\nIf the VM is deleted during live migration process, there is a problem\nthat instance file remains in the destination.\n\nThis patch fixes the problem by to delete instance file that remaining\nwithout is deleted.\n\nChange-Id: I6aeb00f3d1c06a62a9932704cef50cc29d69a461\nCloses-Bug: #1285000\n'}]",4,153449,43f391368178102419dd6b2bc300c5308c429ab7,22,13,2,14021,,,0,"Delete instance file that remain as garbage, by periodic task.

If the VM is deleted during live migration process, there is a problem
that instance file remains in the destination.

This patch fixes the problem by to delete instance file that remaining
without is deleted.

Change-Id: I6aeb00f3d1c06a62a9932704cef50cc29d69a461
Closes-Bug: #1285000
",git fetch https://review.opendev.org/openstack/nova refs/changes/49/153449/2 && git format-patch -1 --stdout FETCH_HEAD,['nova/compute/manager.py'],1,fd3996f5cbfbf7adffd7cfb34b4a693daeceab7c,bug/1285000,"import os ' device allocation retries on failures'), cfg.IntOpt('delete_unnecessary_instance_files_interval', default=600, help='Interval in seconds for to delete the instance files' 'that remains as garbage.') @periodic_task.periodic_task( spacing=CONF.delete_unnecessary_instance_files_interval) def _delete_unnecessary_instance_files(self, context): filters = {'deleted': True} def _get_directory_list(path): dirs = [] for item in os.listdir(path): if os.path.isdir(os.path.join(path, item)): dirs.append(item) return dirs with utils.temporary_mutation(context, read_deleted='yes'): instances = objects.InstanceList.get_by_filters( context, filters, expected_attrs=None, use_slave=True) dirs = _get_directory_list(CONF.instances_path) for instance in instances: if instance.uuid in dirs: success = self.driver.delete_instance_files(instance) if success: LOG.debug(_LI('Deleted instance files that ' 'remains as garbage. [%s]'), instance.uuid)", ' device allocation retries on failures'),32,1
openstack%2Fnova~master~Ibe5b5b4aef3d14c468af20effea887db3dff5441,openstack/nova,master,Ibe5b5b4aef3d14c468af20effea887db3dff5441,Use VirtCPUModel in compute resource tracker.,ABANDONED,2015-01-19 00:11:05.000000000,2015-05-13 17:21:02.000000000,,"[{'_account_id': 3}, {'_account_id': 1849}, {'_account_id': 4573}, {'_account_id': 5170}, {'_account_id': 5754}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11103}]","[{'number': 1, 'created': '2015-01-19 00:11:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9e94fbdd73ce023a7b2968e725fa3a46f0e098b6', 'message': ""Apply CPUInfo object to compute node\n\nApply the cpuinfo object to compute node. We add an new cpu_info_obj field,\nwhile keep original cpu_info field for compatibility, since the deserializer\ncan't handle the field type change.\n\nChange-Id: Ibe5b5b4aef3d14c468af20effea887db3dff5441\nImplements: blueprint resource-objects\n""}, {'number': 2, 'created': '2015-01-19 07:30:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8a361d5653d4f80dc22f2cbe198c3c1e83a6c60e', 'message': ""Apply CPUInfo object to compute node\n\nApply the cpuinfo object to compute node. We add an new cpu_info_obj field,\nwhile keep original cpu_info field for compatibility, since the deserializer\ncan't handle the field type change.\n\nChange-Id: Ibe5b5b4aef3d14c468af20effea887db3dff5441\nImplements: blueprint resource-objects\n""}, {'number': 3, 'created': '2015-01-19 21:33:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1e07c60f64ec39f2be8bfcd47a8c39507f9056d7', 'message': ""Apply CPUInfo object to compute node\n\nApply the cpuinfo object to compute node. We add an new cpu_info_obj field,\nwhile keep original cpu_info field for compatibility, since the deserializer\ncan't handle the field type change.\n\nChange-Id: Ibe5b5b4aef3d14c468af20effea887db3dff5441\nImplements: blueprint resource-objects\n""}, {'number': 4, 'created': '2015-01-28 00:45:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d50099d3921afac5fa2ea6d9078ca6d3dd15d55a', 'message': ""Apply CPUInfo object to compute node\n\nApply the cpuinfo object to compute node. We add an new cpu_info_obj field,\nwhile keep original cpu_info field for compatibility, since the deserializer\ncan't handle the field type change.\n\nChange-Id: Ibe5b5b4aef3d14c468af20effea887db3dff5441\nImplements: blueprint resource-objects\n""}, {'number': 5, 'created': '2015-01-28 07:19:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d462d38bd74d034a1b65d8922e750078e2c7b99f', 'message': ""Apply CPUInfo object to compute node\n\nApply the cpuinfo object to compute node. We add an new cpu_info_obj field,\nwhile keep original cpu_info field for compatibility, since the deserializer\ncan't handle the field type change.\n\nChange-Id: Ibe5b5b4aef3d14c468af20effea887db3dff5441\nImplements: blueprint resource-objects\n""}, {'number': 6, 'created': '2015-03-03 02:37:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a996bbd1a047818cff081b6f92dd7203765df120', 'message': ""Use CPUModel in compute resource tracker.\n\nCurrently the cpu_info is a json string in compute_node object, it will\nbe better to change it to be an object.\n\nAs the object serializer can't change the field type, we have to add a new\nfiled for it.\n\nChange-Id: Ibe5b5b4aef3d14c468af20effea887db3dff5441\n""}, {'number': 7, 'created': '2015-03-05 03:01:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e36385914b47e7fdf02da0bbd30fdec9fd984a8a', 'message': ""Use CPUModel in compute resource tracker.\n\nCurrently the cpu_info is a json string in compute_node object, it will\nbe better to change it to be an object.\n\nAs the object serializer can't change the field type, we have to add a new\nfield for it.\n\nUpdate the related test case also.\n\nChange-Id: Ibe5b5b4aef3d14c468af20effea887db3dff5441\n""}, {'number': 8, 'created': '2015-03-05 19:44:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9e635954fac9d5ef5cf8f49a567851df30362e71', 'message': ""Use CPUModel in compute resource tracker.\n\nCurrently the cpu_info is a json string in compute_node object, it will\nbe better to change it to be an object.\n\nAs the object serializer can't change the field type, we have to add a new\nfield for it.\n\nUpdate the related test case also.\n\nChange-Id: Ibe5b5b4aef3d14c468af20effea887db3dff5441\n""}, {'number': 9, 'created': '2015-03-06 22:59:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ffabdc588d2a7c5b70789bd391def0fef68baa3d', 'message': ""Use CPUModel in compute resource tracker.\n\nCurrently the cpu_info is a json string in compute_node object, it will\nbe better to change it to be an object.\n\nAs the object serializer can't change the field type, we have to add a new\nfield for it.\n\nUpdate the related test case also.\n\nChange-Id: Ibe5b5b4aef3d14c468af20effea887db3dff5441\n""}, {'number': 10, 'created': '2015-03-09 22:10:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d2aae18e289709bfe7f94fd259fdb329cb5448b3', 'message': ""Use VirtCPUModel in compute resource tracker.\n\nCurrently the cpu_info is a json string in compute_node object, it will\nbe better to change it to be an object. Since guest and host have similar\nCPU modelling, will reuse the VirtCPUModel for it.\n\nAs the object serializer can't change the field type, we have to add a new\nfield for it.\n\nUpdate the related test case also.\n\nChange-Id: Ibe5b5b4aef3d14c468af20effea887db3dff5441\n""}, {'number': 11, 'created': '2015-03-11 01:23:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/095d2b0b231a0e55e982287af6c17d70838e310e', 'message': ""Use VirtCPUModel in compute resource tracker.\n\nCurrently the cpu_info is a json string in compute_node object, it will\nbe better to change it to be an object. Since guest and host have similar\nCPU modelling, will reuse the VirtCPUModel for it. As the object serializer\ncan't change the field type, we have to add a new field for it.\n\nAfter this change, the cpu_info report process will be:\na) The virt driver report VirtCPUModel object back to resource tracker,\nb) In RT, the VirtCPUModel is kept in resource['cpu_info'],\nc) When the RT sync the compute_node, the compute_node object's\n   'cpu_info_obj' field will be updated accordingly.\n\nChange-Id: Ibe5b5b4aef3d14c468af20effea887db3dff5441\n""}, {'number': 12, 'created': '2015-03-11 17:15:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1a5e4f8684b4b5c3bfc805e0bc53f9557ffca4c5', 'message': ""Use VirtCPUModel in compute resource tracker.\n\nCurrently the cpu_info is a json string in compute_node object, it will\nbe better to change it to be an object. Since guest and host have similar\nCPU modelling, will reuse the VirtCPUModel for it. As the object serializer\ncan't change the field type, we have to add a new field for it.\n\nAfter this change, the cpu_info report process will be:\na) The virt driver report VirtCPUModel object back to resource tracker,\nb) In RT, the VirtCPUModel is kept in resource['cpu_info'],\nc) When the RT sync the compute_node, the compute_node object's\n   'cpu_info_obj' field will be updated accordingly.\n\nChange-Id: Ibe5b5b4aef3d14c468af20effea887db3dff5441\n""}, {'number': 13, 'created': '2015-03-13 00:54:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e6eaf5b48334a0c4ab95135c60e1297fe4a4735f', 'message': ""Use VirtCPUModel in compute resource tracker.\n\nCurrently the cpu_info is a json string in compute_node object, it will\nbe better to change it to be an object. Since guest and host have similar\nCPU modelling, will reuse the VirtCPUModel for it. As the object serializer\ncan't change the field type, we have to add a new field for it.\n\nAfter this change, the cpu_info report process will be:\na) The virt driver report VirtCPUModel object back to resource tracker,\nb) In RT, the VirtCPUModel is kept in resource['cpu_info'],\nc) When the RT sync the compute_node, the compute_node object's\n   'cpu_info_obj' field will be updated accordingly.\n\nChange-Id: Ibe5b5b4aef3d14c468af20effea887db3dff5441\n""}, {'number': 14, 'created': '2015-03-17 06:13:06.000000000', 'files': ['nova/tests/unit/objects/test_vcpu_model.py', 'nova/api/openstack/compute/contrib/hypervisors.py', 'nova/tests/unit/scheduler/ironic_fakes.py', 'nova/tests/unit/objects/test_compute_node.py', 'nova/objects/service.py', 'nova/tests/unit/compute/test_resource_tracker.py', 'nova/scheduler/client/report.py', 'nova/tests/unit/compute/test_compute.py', 'nova/tests/unit/objects/test_service.py', 'nova/tests/unit/objects/test_objects.py', 'nova/tests/unit/api/openstack/compute/contrib/test_extended_hypervisors.py', 'nova/objects/compute_node.py', 'nova/tests/unit/scheduler/test_host_manager.py', 'nova/api/openstack/compute/plugins/v3/hypervisors.py', 'nova/scheduler/ironic_host_manager.py', 'nova/tests/unit/compute/test_tracker.py', 'nova/tests/unit/scheduler/test_ironic_host_manager.py', 'nova/tests/unit/compute/test_multiple_nodes.py', 'nova/tests/unit/api/openstack/compute/contrib/test_hypervisors.py', 'nova/compute/resource_tracker.py', 'nova/scheduler/host_manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/cb00a3761e6a19d1a1a70ce37f5796bb3cf4fa8e', 'message': ""Use VirtCPUModel in compute resource tracker.\n\nCurrently the cpu_info is a json string in compute_node object, it will\nbe better to change it to be an object. Since guest and host have similar\nCPU modelling, will reuse the VirtCPUModel for it. As the object serializer\ncan't change the field type, we have to add a new field for it.\n\nAfter this change, the cpu_info report process will be:\na) The virt driver report VirtCPUModel object back to resource tracker,\nb) In RT, the VirtCPUModel is kept in resource['cpu_info'],\nc) When the RT sync the compute_node, the compute_node object's\n   'cpu_info_obj' field will be updated accordingly.\n\nChange-Id: Ibe5b5b4aef3d14c468af20effea887db3dff5441\n""}]",0,148139,cb00a3761e6a19d1a1a70ce37f5796bb3cf4fa8e,102,11,14,4573,,,0,"Use VirtCPUModel in compute resource tracker.

Currently the cpu_info is a json string in compute_node object, it will
be better to change it to be an object. Since guest and host have similar
CPU modelling, will reuse the VirtCPUModel for it. As the object serializer
can't change the field type, we have to add a new field for it.

After this change, the cpu_info report process will be:
a) The virt driver report VirtCPUModel object back to resource tracker,
b) In RT, the VirtCPUModel is kept in resource['cpu_info'],
c) When the RT sync the compute_node, the compute_node object's
   'cpu_info_obj' field will be updated accordingly.

Change-Id: Ibe5b5b4aef3d14c468af20effea887db3dff5441
",git fetch https://review.opendev.org/openstack/nova refs/changes/39/148139/13 && git format-patch -1 --stdout FETCH_HEAD,"['doc/v3/api_samples/os-pci/hypervisors-pci-show-resp.json', 'nova/objects/service.py', 'doc/v3/api_samples/os-hypervisors/hypervisors-detail-resp.json', 'nova/tests/functional/v3/test_pci.py', 'nova/tests/functional/api_samples/os-hypervisors/hypervisors-show-resp.json.tpl', 'nova/tests/functional/v3/api_samples/os-pci/hypervisors-pci-detail-resp.json.tpl', 'nova/objects/compute_node.py', 'nova/tests/functional/api_samples/os-extended-hypervisors/hypervisors-show-with-ip-resp.json.tpl', 'nova/tests/unit/compute/test_multiple_nodes.py', 'nova/tests/functional/v3/api_samples/os-hypervisors/hypervisors-detail-resp.json.tpl', 'doc/api_samples/os-extended-hypervisors/hypervisors-show-with-ip-resp.json', 'nova/virt/fake.py', 'doc/api_samples/os-hypervisor-status/hypervisors-show-with-status-resp.json', 'nova/tests/unit/objects/test_compute_node.py', 'doc/v3/api_samples/os-pci/hypervisors-pci-detail-resp.json', 'nova/tests/unit/compute/test_compute.py', 'nova/tests/functional/api_samples/os-hypervisors/hypervisors-detail-resp.json.tpl', 'nova/tests/unit/objects/test_service.py', 'nova/tests/unit/objects/test_objects.py', 'nova/tests/functional/api_samples/os-hypervisor-status/hypervisors-show-with-status-resp.json.tpl', 'doc/api_samples/os-hypervisors/hypervisors-show-resp.json', 'nova/tests/functional/v3/api_samples/os-hypervisors/hypervisors-show-resp.json.tpl', 'doc/v3/api_samples/os-hypervisors/hypervisors-show-resp.json', 'nova/tests/functional/v3/api_samples/os-pci/hypervisors-pci-show-resp.json.tpl', 'doc/api_samples/os-hypervisors/hypervisors-detail-resp.json']",25,9e94fbdd73ce023a7b2968e725fa3a46f0e098b6,cpu_info," ""cpu_info"": ""{}"","," ""cpu_info"": ""?"",",140,38
openstack%2Fnova~master~Ib4b13dca393da52201040129ba536fd56feea8ca,openstack/nova,master,Ib4b13dca393da52201040129ba536fd56feea8ca,Use cpu model object in virt driver,ABANDONED,2015-01-19 21:33:57.000000000,2015-05-13 17:21:01.000000000,,"[{'_account_id': 3}, {'_account_id': 1779}, {'_account_id': 1849}, {'_account_id': 4573}, {'_account_id': 5170}, {'_account_id': 5754}, {'_account_id': 8412}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11103}, {'_account_id': 12175}]","[{'number': 1, 'created': '2015-01-19 21:33:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/11c7498b3d272c9a7a7353b979753659ee78235f', 'message': 'use cpuinfo obj in virt driver\n\nUse cpuinfo object when virt driver return the available resoruce.\n\nCurrently we have to translate the object back to json because currently\nRT is not objectify yet, but it make the future transition easier.\n\nImplements: blueprint resource-objects\n\nChange-Id: Ib4b13dca393da52201040129ba536fd56feea8ca\n'}, {'number': 2, 'created': '2015-01-28 00:45:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d340d3ebd03583f4fa93beb5fc430e66d2c7de9e', 'message': 'use cpuinfo obj in virt driver\n\nUse cpuinfo object when virt driver return the available resoruce.\n\nCurrently we have to translate the object back to json because currently\nRT is not objectify yet, but it make the future transition easier.\n\nImplements: blueprint resource-objects\n\nChange-Id: Ib4b13dca393da52201040129ba536fd56feea8ca\n'}, {'number': 3, 'created': '2015-01-28 07:19:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/61e18ee3d201d1e71771d188197b96af20277a8c', 'message': 'use cpuinfo obj in virt driver\n\nUse cpuinfo object when virt driver return the available resoruce.\n\nCurrently we have to translate the object back to json because currently\nRT is not objectify yet, but it make the future transition easier.\n\nImplements: blueprint resource-objects\n\nChange-Id: Ib4b13dca393da52201040129ba536fd56feea8ca\n'}, {'number': 4, 'created': '2015-03-03 02:37:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ca5afbfaf656de6495c628991bda2e76667811e0', 'message': 'Use cpu model object in virt driver\n\nCurrently virt driver return dict for cpu_info when report back\navailable resources, this is not so clean. Change it to be CPU\nModel. We reuse the VirtCPUModel here, since the guest and host cpu\nmodelling are mostly same.\n\nNow we have to translate the object back to json in resource tracker\nbecause, we will remove this translation after the update to compute\nnode object.\n\nImplements: blueprint resource-objects\n\nChange-Id: Ib4b13dca393da52201040129ba536fd56feea8ca\n'}, {'number': 5, 'created': '2015-03-03 22:21:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ba2ed44a00948a49e01b936604d648f6d84c48da', 'message': 'Use cpu model object in virt driver\n\nCurrently virt driver return dict for cpu_info when report back\navailable resources, this is not so clean. Change it to be CPU\nModel. We reuse the VirtCPUModel here, since the guest and host cpu\nmodelling are mostly same.\n\nNow we have to translate the object back to json in resource tracker,\nwe will remove this translation after the update to compute\nnode object.\n\nImplements: blueprint resource-objects\n\nChange-Id: Ib4b13dca393da52201040129ba536fd56feea8ca\n'}, {'number': 6, 'created': '2015-03-04 15:20:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4ac612a042168950399e3ea68a7b57e3a0e23c63', 'message': 'Use cpu model object in virt driver\n\nCurrently virt driver return dict for cpu_info when report back\navailable resources, this is not so clean. Change it to be CPU\nModel. We reuse the VirtCPUModel here, since the guest and host cpu\nmodelling are mostly same.\n\nNow we have to translate the object back to json in resource tracker,\nwe will remove this translation after the update to compute\nnode object.\n\nImplements: blueprint resource-objects\n\nChange-Id: Ib4b13dca393da52201040129ba536fd56feea8ca\n'}, {'number': 7, 'created': '2015-03-05 19:44:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/54b068a1818c8ef54312ef432094a57664f8ed52', 'message': 'Use cpu model object in virt driver\n\nCurrently virt driver return dict for cpu_info when report back\navailable resources, this is not so clean. Change it to be CPU\nModel. We reuse the VirtCPUModel here, since the guest and host cpu\nmodelling are mostly same.\n\nNow we have to translate the object back to json in resource tracker,\nwe will remove this translation after the update to compute\nnode object.\n\nImplements: blueprint resource-objects\n\nChange-Id: Ib4b13dca393da52201040129ba536fd56feea8ca\n'}, {'number': 8, 'created': '2015-03-06 22:59:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d30b2128593e8590d5a89a769482d0f1010a1a0d', 'message': 'Use cpu model object in virt driver\n\nCurrently virt driver return dict for cpu_info when report back\navailable resources, this is not so clean. Change it to be CPU\nModel. We reuse the VirtCPUModel here, since the guest and host cpu\nmodelling are mostly same.\n\nNow we have to translate the object back to json in resource tracker,\nwe will remove this translation after the update to compute\nnode object.\n\nImplements: blueprint resource-objects\n\nChange-Id: Ib4b13dca393da52201040129ba536fd56feea8ca\n'}, {'number': 9, 'created': '2015-03-09 22:10:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e325213c414ec9fe7afed533178a93e7521a62b9', 'message': 'Use cpu model object in virt driver\n\nCurrently virt driver return dict for cpu_info when report back\navailable resources, this is not so clean. Change it to be CPU\nModel. We reuse the VirtCPUModel here, since the guest and host cpu\nmodelling are mostly same.\n\nNow we have to translate the object back to json in resource tracker,\nwe will remove this translation after the update to compute\nnode object.\n\nImplements: blueprint resource-objects\n\nChange-Id: Ib4b13dca393da52201040129ba536fd56feea8ca\n'}, {'number': 10, 'created': '2015-03-11 01:23:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/806849350c753e4f985030f30256c5582ae69c22', 'message': 'Use cpu model object in virt driver\n\nCurrently virt driver return dict for cpu_info when report back\navailable resources, this is not so clean. Change it to be CPU\nModel. We reuse the VirtCPUModel here, since the guest and host cpu\nmodelling are mostly same.\n\nNow we have to translate the object back to json in resource tracker,\nwe will remove this translation after the update to compute\nnode object.\n\nImplements: blueprint resource-objects\n\nChange-Id: Ib4b13dca393da52201040129ba536fd56feea8ca\n'}, {'number': 11, 'created': '2015-03-17 06:13:06.000000000', 'files': ['nova/tests/unit/objects/test_vcpu_model.py', 'nova/tests/unit/virt/xenapi/test_driver.py', 'nova/virt/fake.py', 'nova/tests/unit/virt/xenapi/test_xenapi.py', 'nova/virt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py', 'nova/tests/unit/virt/hyperv/test_hostops.py', 'nova/objects/vcpu_model.py', 'nova/virt/libvirt/driver.py', 'nova/virt/xenapi/driver.py', 'nova/virt/xenapi/host.py', 'nova/compute/resource_tracker.py', 'nova/virt/hyperv/hostops.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/051fe8d243a3f42752deb77aeb5fe149bc0f5410', 'message': 'Use cpu model object in virt driver\n\nCurrently virt driver return dict for cpu_info when report back\navailable resources, this is not so clean. Change it to be CPU\nModel. We reuse the VirtCPUModel here, since the guest and host cpu\nmodelling are mostly same.\n\nNow we have to translate the object back to json in resource tracker,\nwe will remove this translation after the update to compute\nnode object.\n\nImplements: blueprint resource-objects\n\nChange-Id: Ib4b13dca393da52201040129ba536fd56feea8ca\n'}]",6,148368,051fe8d243a3f42752deb77aeb5fe149bc0f5410,92,14,11,4573,,,0,"Use cpu model object in virt driver

Currently virt driver return dict for cpu_info when report back
available resources, this is not so clean. Change it to be CPU
Model. We reuse the VirtCPUModel here, since the guest and host cpu
modelling are mostly same.

Now we have to translate the object back to json in resource tracker,
we will remove this translation after the update to compute
node object.

Implements: blueprint resource-objects

Change-Id: Ib4b13dca393da52201040129ba536fd56feea8ca
",git fetch https://review.opendev.org/openstack/nova refs/changes/68/148368/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/virt/fake.py', 'nova/tests/unit/compute/test_resource_tracker.py', 'nova/tests/unit/compute/test_tracker.py', 'nova/compute/resource_tracker.py', 'nova/virt/hyperv/hostops.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",7,11c7498b3d272c9a7a7353b979753659ee78235f,cpu_info,"from nova.tests.unit.objects import test_objects test_objects.compare_obj( self, objects.CPUInfo.create(want), conn._get_cpu_info())"," got = jsonutils.loads(conn._get_cpu_info()) self.assertEqual(want, got)",30,34
openstack%2Fnova~master~Id24a8cebec6efa8d97e86819ef61fdde20788820,openstack/nova,master,Id24a8cebec6efa8d97e86819ef61fdde20788820,"Unite the host key(host, host_name)",ABANDONED,2015-02-03 07:22:35.000000000,2015-05-13 17:21:00.000000000,,"[{'_account_id': 3}, {'_account_id': 1849}, {'_account_id': 5170}, {'_account_id': 8556}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11103}]","[{'number': 1, 'created': '2015-02-03 07:22:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/84c3ddad2a1c8fb517eef52e57d68838375d0629', 'message': 'Unite the host key(host, host_name)\n\nChange the host key in host_get to host_name,\nUse host_name is more appropriate.\n\nChange-Id: Id24a8cebec6efa8d97e86819ef61fdde20788820\nClose-bug:#1415700\n'}, {'number': 2, 'created': '2015-02-03 07:43:32.000000000', 'files': ['doc/v3/api_samples/os-hosts/host-get-resp.json', 'nova/tests/unit/api/openstack/compute/contrib/test_hosts.py', 'doc/api_samples/os-hosts/host-get-resp.json', 'nova/tests/functional/api_samples/os-hosts/host-get-resp.json.tpl', 'nova/api/openstack/compute/contrib/hosts.py', 'nova/api/openstack/compute/plugins/v3/hosts.py', 'nova/tests/functional/v3/api_samples/os-hosts/host-get-resp.json.tpl'], 'web_link': 'https://opendev.org/openstack/nova/commit/6aef1651bd919b686040b6456830d7bc33536acf', 'message': 'Unite the host key(host, host_name)\n\nChange the host key in host_get to host_name,\nUse host_name is more appropriate.\n\nChange-Id: Id24a8cebec6efa8d97e86819ef61fdde20788820\nCloses-bug:#1415700\n'}]",1,152416,6aef1651bd919b686040b6456830d7bc33536acf,12,8,2,9961,,,0,"Unite the host key(host, host_name)

Change the host key in host_get to host_name,
Use host_name is more appropriate.

Change-Id: Id24a8cebec6efa8d97e86819ef61fdde20788820
Closes-bug:#1415700
",git fetch https://review.opendev.org/openstack/nova refs/changes/16/152416/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/v3/api_samples/os-hosts/host-get-resp.json', 'nova/tests/unit/api/openstack/compute/contrib/test_hosts.py', 'doc/api_samples/os-hosts/host-get-resp.json', 'nova/tests/functional/api_samples/os-hosts/host-get-resp.json.tpl', 'nova/api/openstack/compute/contrib/hosts.py', 'nova/api/openstack/compute/plugins/v3/hosts.py', 'nova/tests/functional/v3/api_samples/os-hosts/host-get-resp.json.tpl']",7,84c3ddad2a1c8fb517eef52e57d68838375d0629,fix-bug/1415700," ""host_name"": ""%(host_name)s"", ""host_name"": ""%(host_name)s"", ""host_name"": ""%(host_name)s"","," ""host"": ""%(host_name)s"", ""host"": ""%(host_name)s"", ""host"": ""%(host_name)s"",",26,26
openstack%2Fnova~master~I014375a5ecfebc723541c2f2db6c2e0fba636aa2,openstack/nova,master,I014375a5ecfebc723541c2f2db6c2e0fba636aa2,Add pip-check-reqs tox environment,ABANDONED,2015-03-17 07:16:51.000000000,2015-05-13 17:20:59.000000000,,"[{'_account_id': 3}, {'_account_id': 679}, {'_account_id': 1849}, {'_account_id': 5170}, {'_account_id': 6450}, {'_account_id': 7069}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}]","[{'number': 1, 'created': '2015-03-17 07:16:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6d85341983840416d87a2a96a5fbfea693098ce6', 'message': ""Add pip-check-reqs tox environment\n\nThis change adds a new tox environment 'pip-check-reqs' replacing\nthe previous 'pip-missing-reqs'. This env will test for\nrequirements that are imported in source files but are missing\nfrom requirements.txt as well as finding modules in requirements.txt\nthat are never imported/used by the project.\n\nThis requires a new venv as we can't polute it with\ntest-requirements.txt or itself.\n\nThis change also includes the fixes to requirements.txt needed\nto pass the new tests.\n\nChange-Id: I014375a5ecfebc723541c2f2db6c2e0fba636aa2\n""}, {'number': 2, 'created': '2015-03-18 07:55:48.000000000', 'files': ['requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/nova/commit/b1a9c3068663022a6187b4ff3a8ac4da0d0f963a', 'message': ""Add pip-check-reqs tox environment\n\nThis change adds a new tox environment 'pip-check-reqs' replacing\nthe previous 'pip-missing-reqs'. This env will test for\nrequirements that are imported in source files but are missing\nfrom requirements.txt as well as finding modules in requirements.txt\nthat are never imported/used by the project.\n\nThis requires a new venv as we can't polute it with\ntest-requirements.txt or itself.\n\nThis change also includes the fixes to requirements.txt needed\nto pass the new tests.\n\nChange-Id: I014375a5ecfebc723541c2f2db6c2e0fba636aa2\n""}]",3,164973,b1a9c3068663022a6187b4ff3a8ac4da0d0f963a,20,10,2,7069,,,0,"Add pip-check-reqs tox environment

This change adds a new tox environment 'pip-check-reqs' replacing
the previous 'pip-missing-reqs'. This env will test for
requirements that are imported in source files but are missing
from requirements.txt as well as finding modules in requirements.txt
that are never imported/used by the project.

This requires a new venv as we can't polute it with
test-requirements.txt or itself.

This change also includes the fixes to requirements.txt needed
to pass the new tests.

Change-Id: I014375a5ecfebc723541c2f2db6c2e0fba636aa2
",git fetch https://review.opendev.org/openstack/nova refs/changes/73/164973/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'tox.ini']",2,6d85341983840416d87a2a96a5fbfea693098ce6,pip-check-reqs,"envlist = py27,pep8,pip-check-reqs[testenv:pip-check-reqs] # Do not install test-requirements as that will pollute the virtualenv for # determining missing packages. # This also means that pip-check-reqs must be installed separately, outsidedeps = pip_check_reqs -r{toxinidir}/requirements.txt commands= pip-missing-reqs -d --ignore-file=nova/test* nova pip-extra-reqs -d --ignore-file=nova/test* nova","envlist = py27,pep8,pip-missing-reqs[testenv:pip-missing-reqs] # do not install test-requirements as that will pollute the virtualenv for # determining missing packages # this also means that pip-missing-reqs must be installed separately, outsidedeps = pip_missing_reqs -rrequirements.txt commands=pip-missing-reqs -d --ignore-file=nova/tests/* nova",17,14
openstack%2Fnova~master~I3da54d65ad64d58ebd337ed43fa69f55f02e748e,openstack/nova,master,I3da54d65ad64d58ebd337ed43fa69f55f02e748e,wip: test_ops_logs stub test,ABANDONED,2015-03-18 21:11:13.000000000,2015-05-13 17:20:58.000000000,,"[{'_account_id': 3}, {'_account_id': 1849}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11103}]","[{'number': 1, 'created': '2015-03-18 21:11:13.000000000', 'files': ['nova/tests/functional/test_ops_logs.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/7ca033e84e78632b640b85ac4338fa1d4ddd03d6', 'message': ""wip: test_ops_logs stub test\n\nPosted to gerrit so I don't lose it. This would be the framework for\nlooking for an over resource scheduling log message that is expected\nby the ops community.\n\nChange-Id: I3da54d65ad64d58ebd337ed43fa69f55f02e748e\n""}]",0,165602,7ca033e84e78632b640b85ac4338fa1d4ddd03d6,11,9,1,2750,,,0,"wip: test_ops_logs stub test

Posted to gerrit so I don't lose it. This would be the framework for
looking for an over resource scheduling log message that is expected
by the ops community.

Change-Id: I3da54d65ad64d58ebd337ed43fa69f55f02e748e
",git fetch https://review.opendev.org/openstack/nova refs/changes/02/165602/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/test_ops_logs.py'],1,7ca033e84e78632b640b85ac4338fa1d4ddd03d6,logging_ops,"# Copyright 2015 Hewlett-Packard Development Company, L.P. # # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. """"""Tests for important Operator Logging information. The following tests ensure particular logging functionality which Operators have strongly stated they need to exist stay in the code. For instance, a WARN with enough detail on failure to schedule a node. """""" from oslo_config import cfg from oslo_log import log as logging from nova import crypto from nova import test from nova.tests import fixtures as nova_fixtures from nova.tests.unit import cast_as_call from nova.tests.unit import fake_crypto import nova.tests.unit.image.fake CONF = cfg.CONF LOG = logging.getLogger(__name__) CONF.import_opt('ram_allocation_ratio', 'nova.scheduler.filters.ram_filter') class OperatorLoggingScheduler(test.TestCase): REQUIRES_LOCKING = True _image_ref_parameter = 'imageRef' _flavor_ref_parameter = 'flavorRef' def _build_minimal_create_server_request(self, name): server = {} image = self.api.get_images()[0] LOG.info(""Image: %s"" % image) if self._image_ref_parameter in image: image_href = image[self._image_ref_parameter] else: image_href = image['id'] image_href = 'http://fake.server/%s' % image_href # We now have a valid imageId server[self._image_ref_parameter] = image_href # Set a valid flavorId flavor = self.api.get_flavors()[1] server[self._flavor_ref_parameter] = ('http://fake.server/%s' % flavor['id']) server['name'] = name return server def setUp(self): super(OperatorLoggingScheduler, self).setUp() self.flags(fake_network=True) # disable quotas so we don't run into issues there self.flags(quota_cores=-1) self.flags(quota_ram=-1) self.flags(quota_instances=-1) self.flags(ram_allocation_ratio=1.0) self.flags(compute_driver='fake.SmallFakeDriver') nova.tests.unit.image.fake.stub_out_image_service(self.stubs) self.stubs.Set(crypto, 'ensure_ca_filesystem', fake_crypto.ensure_ca_filesystem) self.stubs.Set(crypto, 'fetch_ca', fake_crypto.fetch_ca) self.stubs.Set(crypto, 'generate_x509_cert', fake_crypto.generate_x509_cert) self._setup_services() self.api_fixture = self.useFixture( nova_fixtures.OSAPIFixture()) self.useFixture(cast_as_call.CastAsCall(self.stubs)) self.api = self.api_fixture.admin_api # needed to deal with constraints in the network self.api.api_post('os-networks', {'network': {'cidr': '10.20.105.0/24', 'label': 'fake-net'}}) self.addCleanup(nova.tests.unit.image.fake.FakeImageService_reset) def _setup_services(self): self.conductor = self.start_service('conductor', manager=CONF.conductor.manager) self.compute = self.start_service('compute', host=""host1"") # self.compute2 = self.start_service('compute', host=""host2"") self.cert = self.start_service('cert') self.consoleauth = self.start_service('consoleauth') self.network = self.start_service('network') self.scheduler = self.start_service('scheduler') def test_schedule_fail_log(self): for n in range(10): good_server = self._build_minimal_create_server_request( 'server-%d' % n) self.api.post_server({'server': good_server}) # TODO(sdague): assert an appropriate message exists in the logs self.assertTrue(False) ",,117,0
openstack%2Fnova~master~I3a0bb6b4016ca0f5c2753ef3f34a5680ceab7f64,openstack/nova,master,I3a0bb6b4016ca0f5c2753ef3f34a5680ceab7f64,Remove use of contextlib.nested,ABANDONED,2015-03-05 01:59:24.000000000,2015-05-13 17:20:56.000000000,,"[{'_account_id': 3}, {'_account_id': 1849}, {'_account_id': 7166}, {'_account_id': 9008}, {'_account_id': 9303}, {'_account_id': 9578}, {'_account_id': 9796}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11103}]","[{'number': 1, 'created': '2015-03-05 01:59:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a89b4f11405f2ded55eaa423c9ad680e52b57117', 'message': 'Remove use of contextlib.nested\n\nThe contextlib.nested call has been deprecated\nin Python 2.7. This causes DeprecationWarning\nmessages in the unit tests.\n\nThere are also known issues with contextlib.nested\nthat were addressed by the native support for\nmultiple ""with"" variables. For instance, if the\nfirst object is created but the second one throws\nan exception, the first object\'s __exit__ is never\ncalled. For more information see\nhttps://docs.python.org/2/library/contextlib.html#contextlib.nested\ncontextlib.nested is also not compatible in Python 3.\n\nSince Nova no longer supports 2.6 we can remove\nthe use of these contextlib.nested calls.\n\nAdded hacking check to catch if any new instances\nare added to the codebase.\n\nCloses-Bug: #1428424\nChange-Id: I3a0bb6b4016ca0f5c2753ef3f34a5680ceab7f64\n'}, {'number': 2, 'created': '2015-03-05 07:29:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/375da8c4e49d9bd40688471885c90d734f8a387e', 'message': 'Remove use of contextlib.nested\n\nThe contextlib.nested call has been deprecated\nin Python 2.7. This causes DeprecationWarning\nmessages in the unit tests.\n\nThere are also known issues with contextlib.nested\nthat were addressed by the native support for\nmultiple ""with"" variables. For instance, if the\nfirst object is created but the second one throws\nan exception, the first object\'s __exit__ is never\ncalled. For more information see\nhttps://docs.python.org/2/library/contextlib.html#contextlib.nested\ncontextlib.nested is also not compatible in Python 3.\n\nSince Nova no longer supports 2.6 we can remove\nthe use of these contextlib.nested calls.\n\nAdded hacking check to catch if any new instances\nare added to the codebase.\n\nCloses-Bug: #1428424\nChange-Id: I3a0bb6b4016ca0f5c2753ef3f34a5680ceab7f64\n'}, {'number': 3, 'created': '2015-03-05 09:12:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5378a9942dc52c5ea1ff74bfa36d64b6f28047d1', 'message': 'Remove use of contextlib.nested\n\nThe contextlib.nested call has been deprecated\nin Python 2.7. This causes DeprecationWarning\nmessages in the unit tests.\n\nThere are also known issues with contextlib.nested\nthat were addressed by the native support for\nmultiple ""with"" variables. For instance, if the\nfirst object is created but the second one throws\nan exception, the first object\'s __exit__ is never\ncalled. For more information see\nhttps://docs.python.org/2/library/contextlib.html#contextlib.nested\ncontextlib.nested is also not compatible in Python 3.\n\nSince Nova no longer supports 2.6 we can remove\nthe use of these contextlib.nested calls.\n\nAdded hacking check to catch if any new instances\nare added to the codebase.\n\nCloses-Bug: #1428424\nChange-Id: I3a0bb6b4016ca0f5c2753ef3f34a5680ceab7f64\n'}, {'number': 4, 'created': '2015-03-05 12:25:41.000000000', 'files': ['nova/hacking/checks.py', 'nova/tests/unit/test_hacking.py', 'nova/tests/unit/api/openstack/compute/test_servers.py', 'HACKING.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/bec4621d72a39a0cdef39d4b56842fefc306d02a', 'message': 'Remove use of contextlib.nested\n\nThe contextlib.nested call has been deprecated\nin Python 2.7. This causes DeprecationWarning\nmessages in the unit tests.\n\nThere are also known issues with contextlib.nested\nthat were addressed by the native support for\nmultiple ""with"" variables. For instance, if the\nfirst object is created but the second one throws\nan exception, the first object\'s __exit__ is never\ncalled. For more information see\nhttps://docs.python.org/2/library/contextlib.html#contextlib.nested\ncontextlib.nested is also not compatible in Python 3.\n\nSince Nova no longer supports 2.6 we can remove\nthe use of these contextlib.nested calls.\n\nAdded hacking check to catch if any new instances\nare added to the codebase.\n\nNote: line continuation markers (e.g. \'\\\') had to\nbe used or syntax errors were thrown. While using\nparentheses is the preferred way for multiple line\nstatements it is not a requirement.\n\nCloses-Bug: #1428424\nChange-Id: I3a0bb6b4016ca0f5c2753ef3f34a5680ceab7f64\n'}]",7,161540,bec4621d72a39a0cdef39d4b56842fefc306d02a,35,10,4,9796,,,0,"Remove use of contextlib.nested

The contextlib.nested call has been deprecated
in Python 2.7. This causes DeprecationWarning
messages in the unit tests.

There are also known issues with contextlib.nested
that were addressed by the native support for
multiple ""with"" variables. For instance, if the
first object is created but the second one throws
an exception, the first object's __exit__ is never
called. For more information see
https://docs.python.org/2/library/contextlib.html#contextlib.nested
contextlib.nested is also not compatible in Python 3.

Since Nova no longer supports 2.6 we can remove
the use of these contextlib.nested calls.

Added hacking check to catch if any new instances
are added to the codebase.

Note: line continuation markers (e.g. '\') had to
be used or syntax errors were thrown. While using
parentheses is the preferred way for multiple line
statements it is not a requirement.

Closes-Bug: #1428424
Change-Id: I3a0bb6b4016ca0f5c2753ef3f34a5680ceab7f64
",git fetch https://review.opendev.org/openstack/nova refs/changes/40/161540/4 && git format-patch -1 --stdout FETCH_HEAD,"['nova/hacking/checks.py', 'nova/tests/unit/virt/test_block_device.py', 'nova/tests/unit/test_hacking.py', 'HACKING.rst']",4,a89b4f11405f2ded55eaa423c9ad680e52b57117,rm_contextlib.nested,- [N339] Prevent use of deprecated contextlib.nested,,19,6
openstack%2Fnova~master~Ie732a078ea004aa3fafd93d67668b2a1a37e556d,openstack/nova,master,Ie732a078ea004aa3fafd93d67668b2a1a37e556d,Save connection_info before volume becomes in-use,ABANDONED,2015-03-12 19:28:07.000000000,2015-05-13 17:20:54.000000000,,"[{'_account_id': 3}, {'_account_id': 1011}, {'_account_id': 1653}, {'_account_id': 1849}, {'_account_id': 4393}, {'_account_id': 6466}, {'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 8300}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11103}]","[{'number': 1, 'created': '2015-03-12 19:28:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/624732fbf73e3ef2c6672830f19cd6985f6c5eb2', 'message': 'Save connection_info before volume becomes in-use\n\nPreviously, when detach api request is called immediately after attach\nrequest then the volume remains in ""detaching"" status forever because\nconnection_info is not present in the block_device_mapping db table.\n\nAdded entry for connection_info in the block_device_mapping db table\nbefore setting volume status to \'in-use\'.\n\nCloses-Bug: #1430553\nChange-Id: Ie732a078ea004aa3fafd93d67668b2a1a37e556d\n'}, {'number': 2, 'created': '2015-03-19 10:45:02.000000000', 'files': ['nova/tests/unit/virt/test_block_device.py', 'nova/virt/block_device.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/d6ae9ffd72fcfd432f2a7e468436dcfcad08feb0', 'message': 'Save connection_info before volume becomes in-use\n\nPreviously, when detach api request is called immediately after attach\nrequest then the volume remains in ""detaching"" status forever because\nconnection_info is not present in the block_device_mapping db table.\n\nAdded entry for connection_info in the block_device_mapping db table\nbefore setting volume status to \'in-use\'.\n\nCloses-Bug: #1430553\nChange-Id: Ie732a078ea004aa3fafd93d67668b2a1a37e556d\n'}]",10,163937,d6ae9ffd72fcfd432f2a7e468436dcfcad08feb0,28,14,2,1011,,,0,"Save connection_info before volume becomes in-use

Previously, when detach api request is called immediately after attach
request then the volume remains in ""detaching"" status forever because
connection_info is not present in the block_device_mapping db table.

Added entry for connection_info in the block_device_mapping db table
before setting volume status to 'in-use'.

Closes-Bug: #1430553
Change-Id: Ie732a078ea004aa3fafd93d67668b2a1a37e556d
",git fetch https://review.opendev.org/openstack/nova refs/changes/37/163937/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/virt/block_device.py'],1,624732fbf73e3ef2c6672830f19cd6985f6c5eb2,bug/1430553," def _do_pre_attach(self, context, volume, instance, volume_api, virt_driver, do_driver_attach): connection_info['serial'] = volume_id # If do_driver_attach is False, we will attach a volume to an # instance at boot time. So actual attach is done by instance # creation code. device_type=self['device_type'], encryption=encryption) def attach(self, context, instance, volume_api, virt_driver, do_check_attach=True, do_driver_attach=False): volume = volume_api.get(context, self.volume_id) if do_check_attach: volume_api.check_attach(context, volume, instance=instance) context = context.elevated() self._do_pre_attach(context, volume, instance, volume_api, virt_driver, do_driver_attach) if 'data' in self['connection_info']: mode = self['connection_info']['data'].get('access_mode', 'rw') if volume['attach_status'] == ""detached"": volume_api.attach(context, volume['id'], instance.uuid,"," def attach(self, context, instance, volume_api, virt_driver, do_check_attach=True, do_driver_attach=False): volume = volume_api.get(context, self.volume_id) if do_check_attach: volume_api.check_attach(context, volume, instance=instance) context = context.elevated() connection_info['serial'] = self.volume_id # If do_driver_attach is False, we will attach a volume to an instance # at boot time. So actual attach is done by instance creation code. device_type=self['device_type'], encryption=encryption) if 'data' in connection_info: mode = connection_info['data'].get('access_mode', 'rw') if volume['attach_status'] == ""detached"": volume_api.attach(context, volume_id, instance.uuid,",21,14
openstack%2Fnova~master~Iab8910e242d2d2baeb21396327651e8d679a6522,openstack/nova,master,Iab8910e242d2d2baeb21396327651e8d679a6522,tracking instance pci devices,ABANDONED,2015-02-10 07:48:30.000000000,2015-05-13 17:20:53.000000000,,"[{'_account_id': 3}, {'_account_id': 1849}, {'_account_id': 5170}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11103}]","[{'number': 1, 'created': '2015-02-10 07:48:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c43d325757b5e8f666a25c8bdf027127463b5aaa', 'message': ""tracking instance pci devices\n\npci device represented by pci objects, pci manager's pci device\nobjects not the one in the instances. in any time, allocation\nrelease a pci devices should keep the instances pci devices objects\nlist updated.\n\nChange-Id: Iab8910e242d2d2baeb21396327651e8d679a6522\nPartial-Bug: #1368201\n""}, {'number': 2, 'created': '2015-03-02 06:24:30.000000000', 'files': ['nova/tests/unit/fake_network.py', 'nova/pci/manager.py', 'nova/pci/device.py', 'nova/tests/unit/pci/test_device.py', 'nova/tests/unit/api/openstack/compute/contrib/test_pci.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/d2f55feb46d9b3b50d1dd069088d7d47e153eff1', 'message': ""tracking instance pci devices\n\npci device represented by pci objects, pci manager's pci device\nobjects not the one in the instances. in any time, allocation\nrelease a pci devices should keep the instances pci devices objects\nlist updated.\n\nChange-Id: Iab8910e242d2d2baeb21396327651e8d679a6522\nPartial-Bug: #1368201\n""}]",0,154363,d2f55feb46d9b3b50d1dd069088d7d47e153eff1,16,7,2,7543,,,0,"tracking instance pci devices

pci device represented by pci objects, pci manager's pci device
objects not the one in the instances. in any time, allocation
release a pci devices should keep the instances pci devices objects
list updated.

Change-Id: Iab8910e242d2d2baeb21396327651e8d679a6522
Partial-Bug: #1368201
",git fetch https://review.opendev.org/openstack/nova refs/changes/63/154363/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/pci/manager.py', 'nova/tests/unit/fake_network.py', 'nova/pci/device.py', 'nova/tests/unit/pci/test_device.py', 'nova/tests/unit/api/openstack/compute/contrib/test_pci.py']",5,c43d325757b5e8f666a25c8bdf027127463b5aaa,pci_resize," device.free(self.pci_device, self.inst)",,30,11
openstack%2Fnova~master~Ia1a18bf1a3a146a8d94eb385c475a0da43429fc5,openstack/nova,master,Ia1a18bf1a3a146a8d94eb385c475a0da43429fc5,Fix delete extra volume device,ABANDONED,2015-03-19 00:23:34.000000000,2015-05-13 17:20:50.000000000,,"[{'_account_id': 3}, {'_account_id': 1653}, {'_account_id': 1849}, {'_account_id': 6062}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11103}, {'_account_id': 13431}, {'_account_id': 14358}]","[{'number': 1, 'created': '2015-03-19 00:23:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/53bcd1cb99a78d42dc884347fef9c9bb511489ae', 'message': 'Fix delete extra volume device\n\nChange-Id: Ia1a18bf1a3a146a8d94eb385c475a0da43429fc5\nCloses-Bug: 1433378\n'}, {'number': 2, 'created': '2015-03-19 14:33:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6b94712b005794360dec1d1d60dd01c2012d4a32', 'message': 'Fix delete extra volume device\n\nrerun\n\nChange-Id: Ia1a18bf1a3a146a8d94eb385c475a0da43429fc5\nCloses-Bug: 1433378'}, {'number': 3, 'created': '2015-03-19 14:33:58.000000000', 'files': ['nova/virt/libvirt/volume.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/ef749a150888f7457b801f9f97a1ea558c28c515', 'message': 'Fix delete extra volume device\n\nChange-Id: Ia1a18bf1a3a146a8d94eb385c475a0da43429fc5\nCloses-Bug: #1433378'}]",2,165663,ef749a150888f7457b801f9f97a1ea558c28c515,19,11,3,13377,,,0,"Fix delete extra volume device

Change-Id: Ia1a18bf1a3a146a8d94eb385c475a0da43429fc5
Closes-Bug: #1433378",git fetch https://review.opendev.org/openstack/nova refs/changes/63/165663/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/virt/libvirt/volume.py'],1,53bcd1cb99a78d42dc884347fef9c9bb511489ae,bug/1433378, if dev[dev.find(iqn_lun):] == iqn_lun: self._delete_device(dev), self._delete_device(dev),2,1
openstack%2Fnova~master~I349ba44e43cb4fc19cfabbf76b86ff22191a1077,openstack/nova,master,I349ba44e43cb4fc19cfabbf76b86ff22191a1077,Add id to floating ips bulk list response,ABANDONED,2014-10-01 19:25:09.000000000,2015-05-13 17:20:48.000000000,,"[{'_account_id': 3}, {'_account_id': 67}, {'_account_id': 642}, {'_account_id': 1849}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 6167}, {'_account_id': 6873}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 13409}]","[{'number': 1, 'created': '2014-10-01 19:25:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/eb7447a5b13cd535bbf64758cad857b641f76097', 'message': 'Add id to floating ips bulk list response\n\nThis adds id to the response to allow deleting floating ips by\nadmins. The upstream version of this will likely be slightly\ndifferent so this will need to be removed once the upstream\nversion goes in.\n\nChange-Id: I349ba44e43cb4fc19cfabbf76b86ff22191a1077\nCloses-Bug: #1272489\n'}, {'number': 2, 'created': '2014-10-01 19:34:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ebc96ec995b3d480f0b0b811c3f8e6c33ef5b899', 'message': 'Add id to floating ips bulk list response\n\nThis adds id to the response to allow deleting floating ips by\nadmins. The upstream version of this will likely be slightly\ndifferent so this will need to be removed once the upstream\nversion goes in.\n\nChange-Id: I349ba44e43cb4fc19cfabbf76b86ff22191a1077\nCloses-Bug: #1272489\n'}, {'number': 3, 'created': '2014-10-02 17:52:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/818a288758835d6342bb7a2a8f807e223e138a0e', 'message': 'Add id to floating ips bulk list response\n\nThis adds id to the response to allow deleting floating ips by\nadmins. The upstream version of this will likely be slightly\ndifferent so this will need to be removed once the upstream\nversion goes in.\n\nChange-Id: I349ba44e43cb4fc19cfabbf76b86ff22191a1077\nCloses-Bug: #1272489\n'}, {'number': 4, 'created': '2014-10-13 22:45:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c7b774dbd86be8247f28b4e52eb422d3b839d83a', 'message': 'Add id to floating ips bulk list response\n\nThis adds id to the response to allow deleting floating ips by\nadmins.\n\nChange-Id: I349ba44e43cb4fc19cfabbf76b86ff22191a1077\nCloses-Bug: #1272489'}, {'number': 5, 'created': '2014-10-22 18:11:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f4221ca1076985ae19709756bd7eaa1b85a5a276', 'message': 'Add id to floating ips bulk list response\n\nThis adds id to the response to allow deleting floating ips by\nadmins.\n\nChange-Id: I349ba44e43cb4fc19cfabbf76b86ff22191a1077\nCloses-Bug: #1272489\n'}, {'number': 6, 'created': '2014-10-24 17:03:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a0df65688b975638384c1a346b2eb31fc387403f', 'message': 'Add id to floating ips bulk list response\n\nThis adds id to the response to allow deleting floating ips by\nadmins.\n\nChange-Id: I349ba44e43cb4fc19cfabbf76b86ff22191a1077\nCloses-Bug: #1272489\n'}, {'number': 7, 'created': '2014-10-30 21:25:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b7d5db3ce4e4209f8cf258431ad73db37854f8d3', 'message': 'Add id to floating ips bulk list response\n\nThis adds id to the response to allow deleting floating ips by\nadmins.\n\nChange-Id: I349ba44e43cb4fc19cfabbf76b86ff22191a1077\nCloses-Bug: #1272489\n'}, {'number': 8, 'created': '2014-11-02 14:12:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3f4ab10da7092b9095efa25a04824f49a21470c6', 'message': 'Add id to floating ips bulk list response\n\nThis adds id to the response to allow deleting floating ips by\nadmins.\n\nChange-Id: I349ba44e43cb4fc19cfabbf76b86ff22191a1077\nCloses-Bug: #1272489\n'}, {'number': 9, 'created': '2014-11-04 07:58:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5d824e095b8a86a03a763cb94c6710b03735a1c4', 'message': 'Add id to floating ips bulk list response\n\nThis adds id to the response to allow deleting floating ips by\nadmins.\n\nChange-Id: I349ba44e43cb4fc19cfabbf76b86ff22191a1077\nCloses-Bug: #1272489\n'}, {'number': 10, 'created': '2014-11-17 21:19:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3957d92f7979b7d83ef69b2bc6d85bc1eaedc6a2', 'message': 'Add id to floating ips bulk list response\n\nThis adds id to the response to allow deleting floating ips by\nadmins.\n\nChange-Id: I349ba44e43cb4fc19cfabbf76b86ff22191a1077\nCloses-Bug: #1272489\n'}, {'number': 11, 'created': '2014-11-17 22:39:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2f24d4c2692c7d34a8e961558ddb72b7aa4456b7', 'message': 'Add id to floating ips bulk list response\n\nThis adds id to the response to allow deleting floating ips by\nadmins.\n\nChange-Id: I349ba44e43cb4fc19cfabbf76b86ff22191a1077\nCloses-Bug: #1272489\n'}, {'number': 12, 'created': '2014-11-18 00:47:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1942cf142346dd6c85503c21e43f64cd408b472f', 'message': 'Add id to floating ips bulk list response\n\nThis adds id to the response to allow deleting floating ips by\nadmins.\n\nChange-Id: I349ba44e43cb4fc19cfabbf76b86ff22191a1077\nCloses-Bug: #1272489\n'}, {'number': 13, 'created': '2014-12-03 20:06:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/63a88bb73b2d6323a53719cd99b202a131812808', 'message': 'Add id to floating ips bulk list response\n\nThis adds id to the response to allow deleting floating ips by\nadmins.\n\nChange-Id: I349ba44e43cb4fc19cfabbf76b86ff22191a1077\nCloses-Bug: #1272489\n'}, {'number': 14, 'created': '2015-01-07 17:16:28.000000000', 'files': ['doc/api_samples/os-floating-ips-bulk/floating-ips-bulk-list-by-host-resp.json', 'nova/tests/functional/v3/api_samples/os-floating-ips-bulk/floating-ips-bulk-list-resp.json.tpl', 'doc/v3/api_samples/os-floating-ips-bulk/floating-ips-bulk-list-by-host-resp.json', 'nova/tests/functional/v3/api_samples/os-floating-ips-bulk/floating-ips-bulk-list-by-host-resp.json.tpl', 'doc/api_samples/os-floating-ips-bulk/floating-ips-bulk-list-resp.json', 'nova/tests/functional/api_samples/os-floating-ips-bulk/floating-ips-bulk-list-by-host-resp.json.tpl', 'doc/v3/api_samples/os-floating-ips-bulk/floating-ips-bulk-list-resp.json', 'nova/api/openstack/compute/contrib/floating_ips_bulk.py', 'nova/tests/functional/api_samples/os-floating-ips-bulk/floating-ips-bulk-list-resp.json.tpl', 'nova/api/openstack/compute/plugins/v3/floating_ips_bulk.py', 'nova/tests/unit/api/openstack/compute/contrib/test_floating_ips_bulk.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/3f0aaefbe48331a569eb322c57f5b18faab8d7fb', 'message': 'Add id to floating ips bulk list response\n\nThis adds id to the response to allow deleting floating ips by\nadmins.\n\nChange-Id: I349ba44e43cb4fc19cfabbf76b86ff22191a1077\nCloses-Bug: #1272489\n'}]",0,125471,3f0aaefbe48331a569eb322c57f5b18faab8d7fb,109,14,14,67,,,0,"Add id to floating ips bulk list response

This adds id to the response to allow deleting floating ips by
admins.

Change-Id: I349ba44e43cb4fc19cfabbf76b86ff22191a1077
Closes-Bug: #1272489
",git fetch https://review.opendev.org/openstack/nova refs/changes/71/125471/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/api_samples/os-floating-ips-bulk/floating-ips-bulk-list-by-host-resp.json', 'doc/api_samples/os-floating-ips-bulk/floating-ips-bulk-list-resp.json', 'nova/tests/integrated/api_samples/os-floating-ips-bulk/floating-ips-bulk-list-by-host-resp.xml.tpl', 'nova/api/openstack/compute/contrib/floating_ips_bulk.py', 'nova/tests/integrated/api_samples/os-floating-ips-bulk/floating-ips-bulk-list-by-host-resp.json.tpl', 'doc/api_samples/os-floating-ips-bulk/floating-ips-bulk-list-resp.xml', 'nova/tests/integrated/api_samples/os-floating-ips-bulk/floating-ips-bulk-list-resp.json.tpl', 'nova/tests/integrated/api_samples/os-floating-ips-bulk/floating-ips-bulk-list-resp.xml.tpl', 'nova/tests/api/openstack/compute/contrib/test_floating_ips_bulk.py', 'doc/api_samples/os-floating-ips-bulk/floating-ips-bulk-list-by-host-resp.xml']",10,eb7447a5b13cd535bbf64758cad857b641f76097,bug/1272489, <id>3</id>,,23,2
openstack%2Fnova~master~I4699b2d5b3eb026a6edfdc44c44b491d5f313b65,openstack/nova,master,I4699b2d5b3eb026a6edfdc44c44b491d5f313b65,Server details include ID as well as Name,ABANDONED,2015-03-13 10:44:34.000000000,2015-05-13 17:20:47.000000000,,"[{'_account_id': 3}, {'_account_id': 1849}, {'_account_id': 8412}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11103}]","[{'number': 1, 'created': '2015-03-13 10:44:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/caba13eb2a32e6228b3db2edee2c44665a5afee1', 'message': 'Server details include ID as well as Name\n\nInitially we can not avoid the case where groupname\nis the empty string.\n\nNow, with this patch we avoid the case where\nsecurity groupname is the empty string.\n\nChange-Id: I4699b2d5b3eb026a6edfdc44c44b491d5f313b65\nCloses-Bug: #1254722\n'}, {'number': 2, 'created': '2015-03-13 11:18:32.000000000', 'files': ['nova/api/openstack/compute/contrib/security_groups.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/0a8bbbef311a0968d520502a3e743d83864bbb8b', 'message': 'Server details include ID as well as Name\n\nInitially we can not avoid the case where groupname\nis the empty string.\n\nNow, with this patch we avoid the case where\nsecurity groupname is the empty string.\n\nChange-Id: I4699b2d5b3eb026a6edfdc44c44b491d5f313b65\nCloses-Bug: #1254722\n'}]",2,164136,0a8bbbef311a0968d520502a3e743d83864bbb8b,13,8,2,12869,,,0,"Server details include ID as well as Name

Initially we can not avoid the case where groupname
is the empty string.

Now, with this patch we avoid the case where
security groupname is the empty string.

Change-Id: I4699b2d5b3eb026a6edfdc44c44b491d5f313b65
Closes-Bug: #1254722
",git fetch https://review.opendev.org/openstack/nova refs/changes/36/164136/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/api/openstack/compute/contrib/security_groups.py'],1,caba13eb2a32e6228b3db2edee2c44665a5afee1,bug/1254722," with translate_exceptions(): if not group_name: self.security_group_api.validate_property(group_name, 'name', None) if not group_description: self.security_group_api.validate_property(group_description, 'description', None)"," with translate_exceptions(): self.security_group_api.validate_property(group_name, 'name', None) self.security_group_api.validate_property(group_description, 'description', None)",6,4
openstack%2Fnova~master~Ia44adb6d65a1b405a15e80f3f3ad863c1c9cb3a2,openstack/nova,master,Ia44adb6d65a1b405a15e80f3f3ad863c1c9cb3a2,Support nova_admin in policy.json,ABANDONED,2015-01-15 23:16:42.000000000,2015-05-13 17:20:45.000000000,,"[{'_account_id': 3}, {'_account_id': 1313}, {'_account_id': 1849}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 5754}, {'_account_id': 8119}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11103}, {'_account_id': 11333}]","[{'number': 1, 'created': '2015-01-15 23:16:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/72e9d14988c5fadd37e05fe44eb94c50320a325b', 'message': 'Support nova_admin in policy.json\n\nThis patch adds nova_admin to context_is_admin in policy.json to\nallow users with nova_admin role to perform admin actions in\nnova.  This removes the dependency of having user with admin role\nto perform admin actions in nova.\n\nAn unit test case is added to validate admin actions with\nnova_admin context\n\nChange-Id: Ia44adb6d65a1b405a15e80f3f3ad863c1c9cb3a2\n'}, {'number': 2, 'created': '2015-03-20 21:59:48.000000000', 'files': ['nova/tests/unit/test_policy.py', 'bin/nova_admin_setup', 'nova/tests/unit/fake_policy.py', 'nova/tests/unit/policy_fixture.py', 'etc/nova/policy.json'], 'web_link': 'https://opendev.org/openstack/nova/commit/17d7beffb6363aa1917531bd5ecca84e79c50057', 'message': 'Support nova_admin in policy.json\n\nThis patch adds nova_admin to context_is_admin in policy.json to\nallow users with nova_admin role to perform admin actions in\nnova.  This removes the dependency of having user with admin role\nto perform admin actions in nova.\n\nThis patch adds a new script to add nova admin role to keystone,\nand nova admin role to policy.json.\n\nAn unit test case is added to validate admin actions with\nnova_admin context\n\nimplements bp nova-admin-role\n\nChange-Id: Ia44adb6d65a1b405a15e80f3f3ad863c1c9cb3a2\n'}]",5,147701,17d7beffb6363aa1917531bd5ecca84e79c50057,23,13,2,11333,,,0,"Support nova_admin in policy.json

This patch adds nova_admin to context_is_admin in policy.json to
allow users with nova_admin role to perform admin actions in
nova.  This removes the dependency of having user with admin role
to perform admin actions in nova.

This patch adds a new script to add nova admin role to keystone,
and nova admin role to policy.json.

An unit test case is added to validate admin actions with
nova_admin context

implements bp nova-admin-role

Change-Id: Ia44adb6d65a1b405a15e80f3f3ad863c1c9cb3a2
",git fetch https://review.opendev.org/openstack/nova refs/changes/01/147701/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/test_policy.py', 'nova/tests/unit/fake_policy.py', 'nova/tests/unit/policy_fixture.py', 'etc/nova/policy.json']",4,72e9d14988c5fadd37e05fe44eb94c50320a325b,bp/nova-admin-role," ""context_is_admin"": ""role:admin or role:nova_admin"","," ""context_is_admin"": ""role:admin"",",15,4
openstack%2Fpython-novaclient~master~I1a70bbaef813d7e1ad4787d88a165806d788ccdb,openstack/python-novaclient,master,I1a70bbaef813d7e1ad4787d88a165806d788ccdb,pretty_print lists and dicts on separate lines,ABANDONED,2014-10-10 16:08:06.000000000,2015-05-13 17:20:44.000000000,,"[{'_account_id': 3}, {'_account_id': 679}, {'_account_id': 1779}, {'_account_id': 1849}, {'_account_id': 7133}, {'_account_id': 8871}]","[{'number': 1, 'created': '2014-10-10 16:08:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/c78dfa1e07f0a6b73df9de620e1dded0294edc0e', 'message': 'pretty_print lists and dicts on seperate lines\n\nFlatten dicts and lists and print a separate line for each element.\nCloses-Bug: #1255094\n\nChange-Id: I1a70bbaef813d7e1ad4787d88a165806d788ccdb\n'}, {'number': 2, 'created': '2014-10-14 14:45:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/d0aabaab7489a796575ccc71729828d21dde1cc0', 'message': 'pretty_print lists and dicts on seperate lines\n\nFlatten dicts and lists and print a separate line for each element.\nCloses-Bug: #1255094\n\nChange-Id: I1a70bbaef813d7e1ad4787d88a165806d788ccdb\n'}, {'number': 3, 'created': '2014-10-14 14:45:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/4fb0fa6bb87f903ccb5c62eeb7b7677d0b001119', 'message': 'pretty_print lists and dicts on separate lines\n\nFlatten dicts and lists and print a separate line for each element.\nCloses-Bug: #1255094\n\nChange-Id: I1a70bbaef813d7e1ad4787d88a165806d788ccdb\n'}, {'number': 4, 'created': '2014-10-15 08:13:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/c7ad7da82cbf9bedf7ded2bae81399a46677e398', 'message': 'pretty_print lists and dicts on separate lines\n\nFlatten dicts and lists and print a separate line for each element.\nCloses-Bug: #1255094\n\nChange-Id: I1a70bbaef813d7e1ad4787d88a165806d788ccdb\n'}, {'number': 5, 'created': '2014-10-15 10:41:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/5b10f06508a7cc6d2f3973b58048828f5874d1e5', 'message': 'pretty_print lists and dicts on separate lines\n\nFlatten dicts and lists and print a separate line for each element.\nCloses-Bug: #1255094\n\nChange-Id: I1a70bbaef813d7e1ad4787d88a165806d788ccdb\n'}, {'number': 6, 'created': '2014-10-16 12:51:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/869b7a6cd3c66f8cce32ef2759dad94104eaba7e', 'message': 'pretty_print lists and dicts on separate lines\n\nFlatten dicts and lists and print a separate line for each element.\nCloses-Bug: #1255094\n\nChange-Id: I1a70bbaef813d7e1ad4787d88a165806d788ccdb\n'}, {'number': 7, 'created': '2014-10-21 10:29:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/868dd367d597790ec7ac0a5dd625f432918b4752', 'message': 'pretty_print lists and dicts on separate lines\n\nFlatten dicts and lists and print a separate line for each element.\nCloses-Bug: #1255094\n\nChange-Id: I1a70bbaef813d7e1ad4787d88a165806d788ccdb\n'}, {'number': 8, 'created': '2015-02-02 15:17:00.000000000', 'files': ['novaclient/tests/unit/test_utils.py', 'novaclient/utils.py'], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/7dc66515b5e818e625667c45a1940a168b58b954', 'message': 'pretty_print lists and dicts on separate lines\n\nFlatten dicts and lists and print a separate line for each element.\nCloses-Bug: #1255094\n\nChange-Id: I1a70bbaef813d7e1ad4787d88a165806d788ccdb\n'}]",15,127563,7dc66515b5e818e625667c45a1940a168b58b954,32,6,8,7133,,,0,"pretty_print lists and dicts on separate lines

Flatten dicts and lists and print a separate line for each element.
Closes-Bug: #1255094

Change-Id: I1a70bbaef813d7e1ad4787d88a165806d788ccdb
",git fetch https://review.opendev.org/openstack/python-novaclient refs/changes/63/127563/8 && git format-patch -1 --stdout FETCH_HEAD,['novaclient/utils.py'],1,c78dfa1e07f0a6b73df9de620e1dded0294edc0e,bug/1255094,"import ast is_string_type = isinstance(v, six.string_types) if v and is_string_type and r'\n' in v: # if value is a dict or list flatten and print multiple rows if is_string_type and v.startswith('{') and len(v) > 2: v = ""["" + v + ""]"" if is_string_type and v.startswith('[') and len(v) > 2: l = ast.literal_eval( re.sub(""null"", '""null""', v, flags=re.IGNORECASE)) items = [] for element in l: if isinstance(element, dict): for key, value in element.items(): items.append(key + "": "" + value) else: items.append(element) col1 = k for element in items: pt.add_row([col1, element]) col1 = '' else: if v is None: v = '-' pt.add_row([k, v])"," if v and isinstance(v, six.string_types) and r'\n' in v: if v is None: v = '-' pt.add_row([k, v])",24,4
openstack%2Fnova~master~I78f1e25e3c4dd8fc930fc71bb8b456ac5ba6dbad,openstack/nova,master,I78f1e25e3c4dd8fc930fc71bb8b456ac5ba6dbad,Do 'detach' if a timeout happened in the process of attach_volume,ABANDONED,2015-03-24 11:44:16.000000000,2015-05-13 17:20:43.000000000,,"[{'_account_id': 3}, {'_account_id': 1849}, {'_account_id': 8412}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11103}, {'_account_id': 15286}]","[{'number': 1, 'created': '2015-03-24 11:44:16.000000000', 'files': ['nova/tests/unit/virt/test_block_device.py', 'nova/virt/block_device.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/0eac75f1b424edaa5531278afc6346cb88f34afc', 'message': ""Do 'detach' if a timeout happened in the process of attach_volume\n\nThere are problems are caused by the mismatching DB between BDM and\nvolumes because cinder volume does not rollback the volume's information\nwhen a timoeut happend the rpc call.\n\nThis patch fixes this problem byrunning the detach to prevent\ninconsistencies in the volume's information when detecting a timeout\nin the cinder volume.\n\nChange-Id: I78f1e25e3c4dd8fc930fc71bb8b456ac5ba6dbad\nCloses-Bug: #1432963\n""}]",2,167183,0eac75f1b424edaa5531278afc6346cb88f34afc,11,9,1,14021,,,0,"Do 'detach' if a timeout happened in the process of attach_volume

There are problems are caused by the mismatching DB between BDM and
volumes because cinder volume does not rollback the volume's information
when a timoeut happend the rpc call.

This patch fixes this problem byrunning the detach to prevent
inconsistencies in the volume's information when detecting a timeout
in the cinder volume.

Change-Id: I78f1e25e3c4dd8fc930fc71bb8b456ac5ba6dbad
Closes-Bug: #1432963
",git fetch https://review.opendev.org/openstack/nova refs/changes/83/167183/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/virt/test_block_device.py', 'nova/virt/block_device.py']",2,0eac75f1b424edaa5531278afc6346cb88f34afc,bug/1432963," encryption = None try: volume_api.attach(context, volume_id, instance.uuid, self['mount_device'], mode=mode) except Exception: virt_driver.detach_volume(connection_info, instance, self['mount_device'], encryption=encryption) volume_api.terminate_connection(context, volume_id, connector) raise"," volume_api.attach(context, volume_id, instance.uuid, self['mount_device'], mode=mode)",40,2
openstack%2Fnova~master~Icec99e4508692f0af2e9c3a2a8936b398c1fdb4f,openstack/nova,master,Icec99e4508692f0af2e9c3a2a8936b398c1fdb4f,expose v21 as /v2 endpoint in sample paste.ini,ABANDONED,2015-03-17 12:54:25.000000000,2015-05-13 17:20:41.000000000,,"[{'_account_id': 3}, {'_account_id': 964}, {'_account_id': 1849}, {'_account_id': 5638}, {'_account_id': 6450}, {'_account_id': 8556}, {'_account_id': 8871}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 13663}]","[{'number': 1, 'created': '2015-03-17 12:54:25.000000000', 'files': ['etc/nova/api-paste.ini'], 'web_link': 'https://opendev.org/openstack/nova/commit/a7fa18bbdf0fb0b9320d68dc110f2350ad19942b', 'message': ""expose v21 as /v2 endpoint in sample paste.ini\n\nThis exposes v21 as /v2 in the sample paste.ini. The paste.ini file is\nexample configuration, so existing users will not be impacted by\nthis. It will mean that new users will start using the v21 stack as v2\nstarting in Kilo, which is the default we would like.\n\nThere is a very extensive fallback comment in the paste.ini so that\npeople can understand how to revert behavior if this doesn't work for\ntheir site.\n\nThe discussion about this change is at:\n\nhttp://lists.openstack.org/pipermail/openstack-dev/2015-March/059160.html\n\nDocImpact\n\nUpgradeImpact\n\nChange-Id: Icec99e4508692f0af2e9c3a2a8936b398c1fdb4f\n""}]",0,165053,a7fa18bbdf0fb0b9320d68dc110f2350ad19942b,17,11,1,2750,,,0,"expose v21 as /v2 endpoint in sample paste.ini

This exposes v21 as /v2 in the sample paste.ini. The paste.ini file is
example configuration, so existing users will not be impacted by
this. It will mean that new users will start using the v21 stack as v2
starting in Kilo, which is the default we would like.

There is a very extensive fallback comment in the paste.ini so that
people can understand how to revert behavior if this doesn't work for
their site.

The discussion about this change is at:

http://lists.openstack.org/pipermail/openstack-dev/2015-March/059160.html

DocImpact

UpgradeImpact

Change-Id: Icec99e4508692f0af2e9c3a2a8936b398c1fdb4f
",git fetch https://review.opendev.org/openstack/nova refs/changes/53/165053/1 && git format-patch -1 --stdout FETCH_HEAD,['etc/nova/api-paste.ini'],1,a7fa18bbdf0fb0b9320d68dc110f2350ad19942b,rm_v3_paste,"/v2: openstack_compute_api_v21 # starting in Kilo the v21 implementation replaces the v2 # implementation and is suggested that you use it as the default. If # this causes issues with your clients you can rollback to the # *frozen* v2 api by commenting out the above stanza and using the # following instead:: # /v2: openstack_compute_api_v2 # if rolling back to v2 fixes your issue please file a critical bug # at - https://bugs.launchpad.net/nova/+bugs # # v21 is an exactly feature match for v2, except it has more stringent # input validation on the wsgi surface (prevents fuzzing early on the # API). It also provides new features via API microversions which are # opt into for clients. Unaware clients will receive the same frozen # v2 API feature set.",/v2: openstack_compute_api_v2 /v2.1: openstack_compute_api_v21,15,2
openstack%2Fnova~master~I74caa994f1f189b1982181ece8114e9eb110a4eb,openstack/nova,master,I74caa994f1f189b1982181ece8114e9eb110a4eb,libvirt: add support for instance update,ABANDONED,2015-03-12 13:43:06.000000000,2015-05-13 17:20:40.000000000,,"[{'_account_id': 3}, {'_account_id': 1849}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11103}]","[{'number': 1, 'created': '2015-03-12 13:43:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ec64517161009487ee9703f99b5ad7fdc6e8fe59', 'message': 'libvirt: add support for instance update\n\nIf the API has an instance update then this method will be invoked.\nThis enables us to update the XML, for example with the metadata.\n\nWIP - still need to unit test\n\nChange-Id: I74caa994f1f189b1982181ece8114e9eb110a4eb\n'}, {'number': 2, 'created': '2015-03-15 16:42:46.000000000', 'files': ['nova/virt/libvirt/driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/5ce40354d5885f94f99812210566a10cb059f032', 'message': 'libvirt: add support for instance update\n\nIf the API has an instance update then this method will be invoked.\nThis enables us to update the XML, for example with the metadata.\n\nWIP - still need to unit test\n\nChange-Id: I74caa994f1f189b1982181ece8114e9eb110a4eb\n'}]",0,163818,5ce40354d5885f94f99812210566a10cb059f032,18,7,2,1653,,,0,"libvirt: add support for instance update

If the API has an instance update then this method will be invoked.
This enables us to update the XML, for example with the metadata.

WIP - still need to unit test

Change-Id: I74caa994f1f189b1982181ece8114e9eb110a4eb
",git fetch https://review.opendev.org/openstack/nova refs/changes/18/163818/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/virt/libvirt/driver.py'],1,ec64517161009487ee9703f99b5ad7fdc6e8fe59,instance-update-2," def update(self, context, instance): """"""Update the instance. The instance was updated, for example the display_name. The method should update instance properties if necessary. :param context: request context :param instance: updated nova.objects.instance.Instance """""" flavor = instance.flavor metadata_config = self._get_guest_config_meta(context, instance, flavor) dom = self._host.get_domain(instance) xml = dom.XMLDesc(0) tree = etree.fromstring(xml) metadata = tree.findall('./metadata') if metadata: tree.remove(metadata[0]) metadata = etree.Element(""metadata"") metadata.append(metadata_config.format_dom()) tree.append(metadata) xml = etree.tostring(tree) self._conn.defineXML(xml)",,25,0
openstack%2Fnova~master~I80dbbc72f153c7d09509be665156984f965192e6,openstack/nova,master,I80dbbc72f153c7d09509be665156984f965192e6,POC: Deprecate ComputeFiler and provide logic in HostManager,ABANDONED,2015-03-06 14:57:35.000000000,2015-05-13 17:20:39.000000000,,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 1653}, {'_account_id': 1849}, {'_account_id': 4690}, {'_account_id': 5754}, {'_account_id': 7166}, {'_account_id': 7461}, {'_account_id': 7494}, {'_account_id': 8276}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11103}, {'_account_id': 11604}]","[{'number': 1, 'created': '2015-03-06 14:57:35.000000000', 'files': ['nova/scheduler/filters/compute_filter.py', 'nova/scheduler/host_manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/236303a80f9fbea5fbbebc4465a49b615ec289e9', 'message': 'POC: Deprecate ComputeFiler and provide logic in HostManager\n\nThe ComputeFilter is actually only used for making sure that the elected compute\nnode is having a service up. This logic should actually be provided within\nthe get_all_host_states method in order to be consistent with the existing\nand the ComputeFilter should be deprecated, so that operators would just choose\nif they want to filter on only active hosts or not using a conf opt.\n\nChange-Id: I80dbbc72f153c7d09509be665156984f965192e6\n'}]",3,162180,236303a80f9fbea5fbbebc4465a49b615ec289e9,19,16,1,7166,,,0,"POC: Deprecate ComputeFiler and provide logic in HostManager

The ComputeFilter is actually only used for making sure that the elected compute
node is having a service up. This logic should actually be provided within
the get_all_host_states method in order to be consistent with the existing
and the ComputeFilter should be deprecated, so that operators would just choose
if they want to filter on only active hosts or not using a conf opt.

Change-Id: I80dbbc72f153c7d09509be665156984f965192e6
",git fetch https://review.opendev.org/openstack/nova refs/changes/80/162180/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/scheduler/filters/compute_filter.py', 'nova/scheduler/host_manager.py']",2,236303a80f9fbea5fbbebc4465a49b615ec289e9,compute_filter,"from nova import servicegroup cfg.BoolOpt('scheduler_use_disabled_hosts', default=False, help='Filters also on disabled or not responding hosts') self.servicegroup_api = servicegroup.API() if not CONF.scheduler_use_disabled_hosts and service['disabled']: LOG.debug(""Service %(id)s is disabled, reason: %(reason)s"", {'host': service.id, 'reason': service.get('disabled_reason')}) continue if (not CONF.scheduler_use_disabled_hosts and not self.servicegroup_api.service_is_up(service)): LOG.warning(_LW(""Service %(id)s has not been heard from in a "" ""while""), {'id': service.id}) continue"," 'ComputeFilter',",17,21
openstack%2Fpython-novaclient~master~I73a7c71cd5cd9b36e04138c1544dbe698cefdeef,openstack/python-novaclient,master,I73a7c71cd5cd9b36e04138c1544dbe698cefdeef,"Add ""get_contrib_module"" method",ABANDONED,2015-03-31 14:21:12.000000000,2015-05-13 17:20:38.000000000,,"[{'_account_id': 3}, {'_account_id': 679}, {'_account_id': 1849}, {'_account_id': 8412}]","[{'number': 1, 'created': '2015-03-31 14:21:12.000000000', 'files': ['novaclient/client.py'], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/aa15057524a1e845600e100c809103be12e5e563', 'message': 'Add ""get_contrib_module"" method\n\nSince novaclient has more than one client version, import of contrib modules\nis inconvenient, if you want to support several clients versions.\n\nFor example, openstackclient contains such code:\n  try:\n      from novaclient.v2.contrib import list_extensions\n  except ImportError:\n      from novaclient.v1_1.contrib import list_extensions\n\nThis method is designed to decrease number of versioned imports from\nnovaclient and to facilitate use of contrib modules.\n\nChange-Id: I73a7c71cd5cd9b36e04138c1544dbe698cefdeef\n'}]",1,169330,aa15057524a1e845600e100c809103be12e5e563,5,4,1,9545,,,0,"Add ""get_contrib_module"" method

Since novaclient has more than one client version, import of contrib modules
is inconvenient, if you want to support several clients versions.

For example, openstackclient contains such code:
  try:
      from novaclient.v2.contrib import list_extensions
  except ImportError:
      from novaclient.v1_1.contrib import list_extensions

This method is designed to decrease number of versioned imports from
novaclient and to facilitate use of contrib modules.

Change-Id: I73a7c71cd5cd9b36e04138c1544dbe698cefdeef
",git fetch https://review.opendev.org/openstack/python-novaclient refs/changes/30/169330/1 && git format-patch -1 --stdout FETCH_HEAD,['novaclient/client.py'],1,aa15057524a1e845600e100c809103be12e5e563,import_contrib,"def get_contrib_module(version, module_name): """"""Returns contrib module based on client version."""""" return importutils.try_import( ""novaclient.v%(version)s.contrib.%(module_name)s"" % { ""version"": version, ""module_name"": module_name}) ",,8,0
openstack%2Fnova~master~I4ab23a107332852e4d4d906822b2045fd79230e2,openstack/nova,master,I4ab23a107332852e4d4d906822b2045fd79230e2,WIP: Add logging for unsuccessful schedules,ABANDONED,2015-04-03 12:18:38.000000000,2015-05-13 17:20:33.000000000,,"[{'_account_id': 3}, {'_account_id': 1849}, {'_account_id': 5754}, {'_account_id': 6873}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 15751}]","[{'number': 1, 'created': '2015-04-03 12:18:38.000000000', 'files': ['nova/filters.py', 'nova/scheduler/filter_scheduler.py', 'nova/conductor/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/c1642acec5e1aa16bd8eb1eb6c9848b92b3683dc', 'message': ""WIP: Add logging for unsuccessful schedules\n\nThat's a WIP, we need to discuss on the proposals, as the scheduler doesn't\nknow the instance uuids.\n\nChange-Id: I4ab23a107332852e4d4d906822b2045fd79230e2\nCloses-Bug: #1431291\n""}]",3,170472,c1642acec5e1aa16bd8eb1eb6c9848b92b3683dc,8,7,1,7166,,,0,"WIP: Add logging for unsuccessful schedules

That's a WIP, we need to discuss on the proposals, as the scheduler doesn't
know the instance uuids.

Change-Id: I4ab23a107332852e4d4d906822b2045fd79230e2
Closes-Bug: #1431291
",git fetch https://review.opendev.org/openstack/nova refs/changes/72/170472/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/filters.py', 'nova/scheduler/filter_scheduler.py', 'nova/conductor/manager.py']",3,c1642acec5e1aa16bd8eb1eb6c9848b92b3683dc,bug/1431291," if isinstance(exc, exception.NoValidHost): message = exc.message exc.message = _('There are not enough hosts available.') # TODO(sbauza): Identify which instance failed to be scheduled LOG.warning(_LW(""One of instances %(instances)s failed to"" ""be scheduled : %(message)s"") % {'instances': [instance.uuid for instance in instances], 'message': message})",,23,4
openstack%2Fnova~master~I83b270a77e1e873125aace18aace2e63bf9ff168,openstack/nova,master,I83b270a77e1e873125aace18aace2e63bf9ff168,Remove unnecessary volume bdm record,ABANDONED,2015-03-25 07:11:23.000000000,2015-05-13 17:20:29.000000000,,"[{'_account_id': 3}, {'_account_id': 1653}, {'_account_id': 1849}, {'_account_id': 5170}, {'_account_id': 8922}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 15751}]","[{'number': 1, 'created': '2015-03-25 07:11:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fbf78f24257fb9f350ce7341eeb7f5628ed897b4', 'message': 'Remove unnecessary volume bdm record\n\nIf reserve_block_device_name fail with rpc call timeout,\nunnecessary volume block device mapping record remains.\nThis patch enables to catch reserve_block_device_name exception\nand remove record.\n\nChange-Id: I83b270a77e1e873125aace18aace2e63bf9ff168\nCloses-Bug: #1425352\n'}, {'number': 2, 'created': '2015-03-31 05:37:00.000000000', 'files': ['nova/tests/unit/compute/test_rpcapi.py', 'nova/tests/unit/compute/test_compute.py', 'nova/compute/manager.py', 'nova/compute/rpcapi.py', 'nova/compute/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/b14e06bc4db7a9b5a835f9faa97e00dd79067346', 'message': 'Remove unnecessary volume bdm record\n\nIf reserve_block_device_name fail with rpc call timeout,\nunnecessary volume block device mapping record remains.\nThis patch enables to catch reserve_block_device_name exception\nand remove record.\n\nChange-Id: I83b270a77e1e873125aace18aace2e63bf9ff168\nCloses-Bug: #1425352\n'}]",4,167510,b14e06bc4db7a9b5a835f9faa97e00dd79067346,17,10,2,8922,,,0,"Remove unnecessary volume bdm record

If reserve_block_device_name fail with rpc call timeout,
unnecessary volume block device mapping record remains.
This patch enables to catch reserve_block_device_name exception
and remove record.

Change-Id: I83b270a77e1e873125aace18aace2e63bf9ff168
Closes-Bug: #1425352
",git fetch https://review.opendev.org/openstack/nova refs/changes/10/167510/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_rpcapi.py', 'nova/tests/unit/compute/test_compute.py', 'nova/compute/manager.py', 'nova/compute/rpcapi.py', 'nova/compute/api.py']",5,fbf78f24257fb9f350ce7341eeb7f5628ed897b4,bug/1425352," try: # NOTE(vish): This is done on the compute host because we want # to avoid a race where two devices are requested at # the same time. When db access is removed from # compute, the bdm will be created here and we will # have to make sure that they are assigned atomically. volume_bdm = self.compute_rpcapi.reserve_block_device_name( context, instance, device, volume_id, disk_bus=disk_bus, device_type=device_type) volume_bdm = objects.BlockDeviceMapping.get_by_volume_id( context, volume_id, expected_attrs=['instance']) if volume_bdm is not None: volume_bdm.destroy() else: self.compute_rpcapi.unreserve_block_device_name( context, instance, device, volume_id)"," # NOTE(vish): This is done on the compute host because we want # to avoid a race where two devices are requested at # the same time. When db access is removed from # compute, the bdm will be created here and we will # have to make sure that they are assigned atomically. volume_bdm = self.compute_rpcapi.reserve_block_device_name( context, instance, device, volume_id, disk_bus=disk_bus, device_type=device_type) try: volume_bdm.destroy()",151,9
openstack%2Fnova~master~I38bcdf85a0d9d3c72b7b308a207ce9bad65aaf60,openstack/nova,master,I38bcdf85a0d9d3c72b7b308a207ce9bad65aaf60,Xen: Switch nova.virt.xenapi* to use the object dot notation,ABANDONED,2015-03-04 15:56:12.000000000,2015-05-13 17:20:26.000000000,,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 642}, {'_account_id': 1849}, {'_account_id': 8412}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11103}, {'_account_id': 14358}]","[{'number': 1, 'created': '2015-03-04 15:56:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/072d133a5dfdc6f02f4b86c5dbd016a885abb7a1', 'message': ""Xen: Switch nova.virt.xenapi* to use the object dot notation\n\nFix virt/xenapi* to use instance objects with the field access\ndot notation everywhere. Essentially we use instance.key instead\nof instance['key']. Needed to rework some of the test cases\nto get them working.\n\nChange-Id: I38bcdf85a0d9d3c72b7b308a207ce9bad65aaf60\n""}, {'number': 2, 'created': '2015-03-06 10:03:55.000000000', 'files': ['nova/tests/unit/virt/xenapi/test_driver.py', 'nova/virt/xenapi/vif.py', 'nova/tests/unit/virt/xenapi/test_xenapi.py', 'nova/virt/xenapi/vm_utils.py', 'nova/tests/unit/virt/xenapi/stubs.py', 'nova/tests/unit/virt/xenapi/test_vmops.py', 'nova/tests/unit/virt/xenapi/image/test_bittorrent.py', 'nova/tests/unit/virt/xenapi/image/test_glance.py', 'nova/virt/xenapi/image/glance.py', 'nova/virt/xenapi/agent.py', 'nova/virt/xenapi/vmops.py', 'nova/tests/unit/virt/xenapi/test_vm_utils.py', 'nova/tests/unit/virt/xenapi/test_agent.py', 'nova/virt/xenapi/host.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/69fa8c4fe411a045d6e035d2a5cbb6d6226db793', 'message': ""Xen: Switch nova.virt.xenapi* to use the object dot notation\n\nFix virt/xenapi* to use instance objects with the field access\ndot notation everywhere. Essentially we use instance.key instead\nof instance['key']. Needed to rework some of the test cases\nto get them working.\n\nChange-Id: I38bcdf85a0d9d3c72b7b308a207ce9bad65aaf60\n""}]",16,161283,69fa8c4fe411a045d6e035d2a5cbb6d6226db793,22,11,2,8412,,,0,"Xen: Switch nova.virt.xenapi* to use the object dot notation

Fix virt/xenapi* to use instance objects with the field access
dot notation everywhere. Essentially we use instance.key instead
of instance['key']. Needed to rework some of the test cases
to get them working.

Change-Id: I38bcdf85a0d9d3c72b7b308a207ce9bad65aaf60
",git fetch https://review.opendev.org/openstack/nova refs/changes/83/161283/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/virt/xenapi/test_driver.py', 'nova/virt/xenapi/vif.py', 'nova/tests/unit/virt/xenapi/test_xenapi.py', 'nova/virt/xenapi/vm_utils.py', 'nova/tests/unit/virt/xenapi/stubs.py', 'nova/tests/unit/virt/xenapi/test_vmops.py', 'nova/tests/unit/virt/xenapi/image/test_bittorrent.py', 'nova/tests/unit/virt/xenapi/image/test_glance.py', 'nova/virt/xenapi/image/glance.py', 'nova/virt/xenapi/agent.py', 'nova/virt/xenapi/vmops.py', 'nova/tests/unit/virt/xenapi/test_vm_utils.py', 'nova/tests/unit/virt/xenapi/test_agent.py', 'nova/virt/xenapi/host.py']",14,072d133a5dfdc6f02f4b86c5dbd016a885abb7a1,remove_redundant_serialization," for i in objects.InstanceList.get_by_host(context, host, columns_to_join=None, use_slave=False):"," for i in objects.InstanceList.get_by_host(context, host):",501,434
openstack%2Fnova~master~I3d518249e6513d60b61d3877e7f647e82df60ed0,openstack/nova,master,I3d518249e6513d60b61d3877e7f647e82df60ed0,Rate limit power sync tasks to avoid overloading,ABANDONED,2014-10-31 14:24:20.000000000,2015-05-13 17:20:24.000000000,,"[{'_account_id': 3}, {'_account_id': 935}, {'_account_id': 1297}, {'_account_id': 1653}, {'_account_id': 1779}, {'_account_id': 1849}, {'_account_id': 5170}, {'_account_id': 5754}, {'_account_id': 6062}, {'_account_id': 7823}, {'_account_id': 8412}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11103}, {'_account_id': 15751}]","[{'number': 1, 'created': '2014-10-31 14:24:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/45d178f597b629b555c66c55e9e9d8be4ae73e88', 'message': 'Rate limit power sync tasks to avoid overloading\n\nPerforming all database <-> hypervisor period power state syncs in\nparallel is a bad idea as this increases the loading on the\nmessage broker and the conductors inline with the number of instances\nrunning in the cloud.\n\nProvide a configuration option and spawn a sync manager thread to\nrate limit the number of parallel sync activities happening during\nthe _sync_power_states period task.\n\nChange-Id: I3d518249e6513d60b61d3877e7f647e82df60ed0\nClose-bug: #1388077\n'}, {'number': 2, 'created': '2014-10-31 14:25:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e371cca42e15407b9a8d5f02249c0e8d10660d85', 'message': 'Rate limit power sync tasks to avoid overloading\n\nPerforming all database <-> hypervisor period power state syncs in\nparallel is a bad idea as this increases the loading on the\nmessage broker and the conductors inline with the number of instances\nrunning in the cloud.\n\nProvide a configuration option and spawn a sync manager thread to\nrate limit the number of parallel sync activities happening during\nthe _sync_power_states period task.\n\nChange-Id: I3d518249e6513d60b61d3877e7f647e82df60ed0\nClose-bug: #1388077\n'}, {'number': 3, 'created': '2014-10-31 14:26:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b802d241c8cafe119ecfbb71bf730c30054cc3b2', 'message': 'Rate limit power sync tasks to avoid overloading\n\nPerforming all database <-> hypervisor period power state syncs in\nparallel is a bad idea as this increases the loading on the\nmessage broker and the conductors inline with the number of instances\nrunning in the cloud.\n\nProvide a configuration option and spawn a sync manager thread to\nrate limit the number of parallel sync activities happening during\nthe _sync_power_states period task.\n\nChange-Id: I3d518249e6513d60b61d3877e7f647e82df60ed0\nClose-bug: #1388077\n'}, {'number': 4, 'created': '2014-11-12 17:29:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/11482b8b917f5d7dea741b909ac979093333659e', 'message': 'Rate limit power sync tasks to avoid overloading\n\nPerforming all database <-> hypervisor period power state syncs in\nparallel is a bad idea as this increases the loading on the\nmessage broker and the conductors inline with the number of instances\nrunning in the cloud.\n\nProvide a configuration option and spawn a sync manager thread to\nrate limit the number of parallel sync activities happening during\nthe _sync_power_states period task.\n\nDocImpact\n\nChange-Id: I3d518249e6513d60b61d3877e7f647e82df60ed0\nCloses-bug: #1388077\n'}, {'number': 5, 'created': '2014-11-13 10:57:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/62baa47d179c5515aac3a4b11649a75b7e03dd61', 'message': 'Rate limit power sync tasks to avoid overloading\n\nPerforming all database <-> hypervisor period power state syncs in\nparallel is a bad idea as this increases the loading on the\nmessage broker and the conductors inline with the number of instances\nrunning in the cloud.\n\nProvide a configuration option and spawn a sync manager thread to\nrate limit the number of parallel sync activities happening during\nthe _sync_power_states period task.\n\nDocImpact\n\nChange-Id: I3d518249e6513d60b61d3877e7f647e82df60ed0\nCloses-bug: #1388077\n'}, {'number': 6, 'created': '2014-11-13 10:59:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fee887d13e0e39589aed322b7a873ed366c5af1a', 'message': 'Rate limit power sync tasks to avoid overloading\n\nPerforming all database <-> hypervisor period power state syncs in\nparallel is a bad idea as this increases the loading on the\nmessage broker and the conductors inline with the number of instances\nrunning in the cloud.\n\nProvide a configuration option and spawn a sync manager thread to\nrate limit the number of parallel sync activities happening during\nthe _sync_power_states period task.\n\nDocImpact\n\nChange-Id: I3d518249e6513d60b61d3877e7f647e82df60ed0\nCloses-bug: #1388077\n'}, {'number': 7, 'created': '2014-11-28 17:19:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5dabf99f2b224c8d5c7a42169b2dda02534ddb35', 'message': 'Rate limit power sync tasks to avoid overloading\n\nPerforming all database <-> hypervisor period power state syncs in\nparallel is a bad idea as this increases the loading on the\nmessage broker and the conductors inline with the number of instances\nrunning in the cloud.\n\nProvide a configuration option and spawn a sync manager thread to\nrate limit the number of parallel sync activities happening during\nthe _sync_power_states period task.\n\nDocImpact\n\nChange-Id: I3d518249e6513d60b61d3877e7f647e82df60ed0\nCloses-bug: #1388077\n'}, {'number': 8, 'created': '2014-11-28 17:24:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/464f94c4958f6fee56e758a268f9c695cbf3e446', 'message': 'Rate limit power sync tasks to avoid overloading\n\nPerforming all database <-> hypervisor period power state syncs in\nparallel is a bad idea as this increases the loading on the\nmessage broker and the conductors inline with the number of instances\nrunning in the cloud.\n\nProvide a configuration option and spawn a sync manager thread to\nrate limit the number of parallel sync activities happening during\nthe _sync_power_states period task.\n\nDocImpact\n\nChange-Id: I3d518249e6513d60b61d3877e7f647e82df60ed0\nCloses-bug: #1388077\n'}, {'number': 9, 'created': '2014-11-28 18:28:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/20d74ccf808d72324132e5fac0002a58c48d68ac', 'message': 'Rate limit power sync tasks to avoid overloading\n\nPerforming all database <-> hypervisor period power state syncs in\nparallel is a bad idea as this increases the loading on the\nmessage broker and the conductors inline with the number of instances\nrunning in the cloud.\n\nProvide a configuration option and spawn a sync manager thread to\nrate limit the number of parallel sync activities happening during\nthe _sync_power_states period task.\n\nDocImpact\n\nChange-Id: I3d518249e6513d60b61d3877e7f647e82df60ed0\nCloses-bug: #1388077\n'}, {'number': 10, 'created': '2014-11-28 20:59:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/dcd54a81b1ab4d79b8e5f0a837c9d641aabb09c9', 'message': 'Rate limit power sync tasks to avoid overloading\n\nPerforming all database <-> hypervisor period power state syncs in\nparallel is a bad idea as this increases the loading on the\nmessage broker and the conductors inline with the number of instances\nrunning in the cloud.\n\nProvide a configuration option and spawn a sync manager thread to\nrate limit the number of parallel sync activities happening during\nthe _sync_power_states period task.\n\nDocImpact\n\nChange-Id: I3d518249e6513d60b61d3877e7f647e82df60ed0\nCloses-bug: #1388077\n'}, {'number': 11, 'created': '2014-11-29 07:12:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/aa951e9f553f61ab2064cd2a3a88d1688d7a54a2', 'message': 'Rate limit power sync tasks to avoid overloading\n\nPerforming all database <-> hypervisor period power state syncs in\nparallel is a bad idea as this increases the loading on the\nmessage broker and the conductors inline with the number of instances\nrunning in the cloud.\n\nProvide a configuration option and spawn a sync manager thread to\nrate limit the number of parallel sync activities happening during\nthe _sync_power_states period task.\n\nDocImpact\n\nChange-Id: I3d518249e6513d60b61d3877e7f647e82df60ed0\nCloses-bug: #1388077\n'}, {'number': 12, 'created': '2014-12-09 15:49:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8a318d44fe8461890a7056f17169ce128842084d', 'message': 'Rate limit power sync tasks to avoid overloading\n\nPerforming all database <-> hypervisor period power state syncs in\nparallel is a bad idea as this increases the loading on the\nmessage broker and the conductors inline with the number of instances\nrunning in the cloud.\n\nProvide a configuration option and spawn a sync manager thread to\nrate limit the number of parallel sync activities happening during\nthe _sync_power_states period task using an eventlet queue.\n\nDocImpact\n\nChange-Id: I3d518249e6513d60b61d3877e7f647e82df60ed0\nCloses-bug: #1388077\n'}, {'number': 13, 'created': '2015-01-06 09:49:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7806525550f250195a37f12791b7f9d4edd94d38', 'message': 'Rate limit power sync tasks to avoid overloading\n\nPerforming all database <-> hypervisor period power state syncs in\nparallel is a bad idea as this increases the loading on the\nmessage broker and the conductors inline with the number of instances\nrunning in the cloud.\n\nProvide a configuration option and spawn a sync manager thread to\nrate limit the number of parallel sync activities happening during\nthe _sync_power_states period task using an eventlet queue.\n\nDocImpact\n\nChange-Id: I3d518249e6513d60b61d3877e7f647e82df60ed0\nCloses-bug: #1388077\n'}, {'number': 14, 'created': '2015-01-06 10:11:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/af66630a398bc1c1ed27c173170eec39db28bbec', 'message': 'Rate limit power sync tasks to avoid overloading\n\nPerforming all database <-> hypervisor period power state syncs in\nparallel is a bad idea as this increases the loading on the\nmessage broker and the conductors inline with the number of instances\nrunning in the cloud.\n\nProvide a configuration option and spawn a sync manager thread to\nrate limit the number of parallel sync activities happening during\nthe _sync_power_states period task using an eventlet queue.\n\nDocImpact\n\nChange-Id: I3d518249e6513d60b61d3877e7f647e82df60ed0\nCloses-bug: #1388077\n'}, {'number': 15, 'created': '2015-01-06 11:20:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ed8e35acea29bd67d83a16fbe6b3ece50b76c2ac', 'message': 'Rate limit power sync tasks to avoid overloading\n\nPerforming all database <-> hypervisor period power state syncs in\nparallel is a bad idea as this increases the loading on the\nmessage broker and the conductors inline with the number of instances\nrunning in the cloud.\n\nProvide a configuration option and spawn a sync manager thread to\nrate limit the number of parallel sync activities happening during\nthe _sync_power_states period task using an eventlet queue.\n\nDocImpact\n\nChange-Id: I3d518249e6513d60b61d3877e7f647e82df60ed0\nCloses-bug: #1388077\n'}, {'number': 16, 'created': '2015-02-10 09:29:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2b331c5847cc79cbc78c20dffa532ecac94a9f3c', 'message': 'Rate limit power sync tasks to avoid overloading\n\nPerforming all database <-> hypervisor period power state syncs in\nparallel is a bad idea as this increases the loading on the\nmessage broker and the conductors inline with the number of instances\nrunning in the cloud.\n\nProvide a configuration option and spawn a sync manager thread to\nrate limit the number of parallel sync activities happening during\nthe _sync_power_states period task using an eventlet queue.\n\nDocImpact\n\nChange-Id: I3d518249e6513d60b61d3877e7f647e82df60ed0\nCloses-bug: #1388077\n'}, {'number': 17, 'created': '2015-03-31 13:46:19.000000000', 'files': ['nova/tests/unit/compute/test_compute_mgr.py', 'nova/tests/unit/compute/eventlet_utils.py', 'nova/tests/unit/compute/test_compute_xen.py', 'nova/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/8acedefe1ad26e7346fbffd042fec7bcb95601be', 'message': 'Rate limit power sync tasks to avoid overloading\n\nPerforming all database <-> hypervisor period power state syncs in\nparallel is a bad idea as this increases the loading on the\nmessage broker and the conductors inline with the number of instances\nrunning in the cloud.\n\nProvide a configuration option and spawn a sync manager thread to\nrate limit the number of parallel sync activities happening during\nthe _sync_power_states period task using an eventlet queue.\n\nDocImpact\n\nChange-Id: I3d518249e6513d60b61d3877e7f647e82df60ed0\nCloses-bug: #1388077\n'}]",14,132263,8acedefe1ad26e7346fbffd042fec7bcb95601be,109,17,17,935,,,0,"Rate limit power sync tasks to avoid overloading

Performing all database <-> hypervisor period power state syncs in
parallel is a bad idea as this increases the loading on the
message broker and the conductors inline with the number of instances
running in the cloud.

Provide a configuration option and spawn a sync manager thread to
rate limit the number of parallel sync activities happening during
the _sync_power_states period task using an eventlet queue.

DocImpact

Change-Id: I3d518249e6513d60b61d3877e7f647e82df60ed0
Closes-bug: #1388077
",git fetch https://review.opendev.org/openstack/nova refs/changes/63/132263/16 && git format-patch -1 --stdout FETCH_HEAD,['nova/compute/manager.py'],1,45d178f597b629b555c66c55e9e9d8be4ae73e88,bug/1388077," cfg.IntOpt('sync_power_state_concurrency', default=1, help='The level of concurrency that will be used during sync ' 'of power states between the database and the hypervisor'), self._sync_power_pool = \ eventlet.GreenPool(CONF.sync_power_state_concurrency) def _sync_manager(): # process syncs asynchronously - don't want instance # locking to block entire periodic task thread def _sync(db_instance): # NOTE(melwitt): # This must be synchronized as we query state from # two separate sources, the driver and the database. # They are set (in stop_instance) and read, in sync. @utils.synchronized(db_instance.uuid) def query_driver_power_state_and_sync(): self._query_driver_power_state_and_sync(context, db_instance) try: query_driver_power_state_and_sync() except Exception: LOG.exception(_LE(""Periodic sync_power_state task had an "" ""error while processing an instance.""), instance=db_instance) self._syncs_in_progress.pop(db_instance.uuid) for db_instance in db_instances: uuid = db_instance.uuid if uuid in self._syncs_in_progress: LOG.debug('Sync already in progress for %s' % uuid) else: LOG.debug('Triggering sync for uuid %s' % uuid) self._syncs_in_progress[uuid] = True self._sync_power_pool.spawn_n(_sync, db_instance) greenthread.spawn_n(_sync_manager)"," self._sync_power_pool = eventlet.GreenPool() def _sync(db_instance): # NOTE(melwitt): This must be synchronized as we query state from # two separate sources, the driver and the database. # They are set (in stop_instance) and read, in sync. @utils.synchronized(db_instance.uuid) def query_driver_power_state_and_sync(): self._query_driver_power_state_and_sync(context, db_instance) try: query_driver_power_state_and_sync() except Exception: LOG.exception(_LE(""Periodic sync_power_state task had an "" ""error while processing an instance.""), instance=db_instance) self._syncs_in_progress.pop(db_instance.uuid) for db_instance in db_instances: # process syncs asynchronously - don't want instance locking to # block entire periodic task thread uuid = db_instance.uuid if uuid in self._syncs_in_progress: LOG.debug('Sync already in progress for %s' % uuid) else: LOG.debug('Triggering sync for uuid %s' % uuid) self._syncs_in_progress[uuid] = True self._sync_power_pool.spawn_n(_sync, db_instance)",35,25
openstack%2Fnova~master~I2c28824941dc7eb9b473c55105b71b7558ffad79,openstack/nova,master,I2c28824941dc7eb9b473c55105b71b7558ffad79,Improve post_live_migrate error handling,ABANDONED,2014-10-21 12:04:58.000000000,2015-05-13 17:20:23.000000000,,"[{'_account_id': 3}, {'_account_id': 475}, {'_account_id': 782}, {'_account_id': 1561}, {'_account_id': 1653}, {'_account_id': 1849}, {'_account_id': 2750}, {'_account_id': 4393}, {'_account_id': 5170}, {'_account_id': 5441}, {'_account_id': 6062}, {'_account_id': 7166}, {'_account_id': 8412}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11103}, {'_account_id': 12299}, {'_account_id': 12898}]","[{'number': 1, 'created': '2014-10-21 12:04:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c85a86af9abdf5e39ea8d18e85a49109d536ae4d', 'message': ""Improve post_live_migrate error handling\n\nWIP - need unit tests, and testing.\n\nWhen errors occur after driver.live_migrate has completed, it generally\nleaves things in a very inconsistent state.\n\nFirstly we should update the node and host of the instance as soon as\npossible. Should any error occur, at least the system will know where\nthe instance currently resides.\n\nSecondly, we should ensure that when an exception is raised after\ndriver.live_migrate has completed, we put the instance into the ERROR\nstate and reset the task state. If we don't do that, the VM tends to be\nleft in the MIGRATING state, and you need to dig in the logs to find out\nthat an error has occured.\n\nChange-Id: I2c28824941dc7eb9b473c55105b71b7558ffad79\nCloses-Bug: #1379581\n""}, {'number': 2, 'created': '2014-10-21 12:13:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a36107ac9d6a3e5d5b392cc5ce01273ae2df6622', 'message': ""Improve post_live_migrate error handling\n\nWIP - need unit tests, and testing.\n\nWhen errors occur after driver.live_migrate has completed, it generally\nleaves things in a very inconsistent state.\n\nFirstly we should update the node and host of the instance as soon as\npossible. Should any error occur, at least the system will know where\nthe instance currently resides.\n\nSecondly, we should ensure that when an exception is raised after\ndriver.live_migrate has completed, we put the instance into the ERROR\nstate and reset the task state. If we don't do that, the VM tends to be\nleft in the MIGRATING state, and you need to dig in the logs to find out\nthat an error has occured.\n\nChange-Id: I2c28824941dc7eb9b473c55105b71b7558ffad79\nCloses-Bug: #1379581\n""}, {'number': 3, 'created': '2014-10-22 10:34:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3184b29c40265b72a9a34102cdd724d97c9eb014', 'message': ""Improve post_live_migrate error handling\n\nWhen errors occur after driver.live_migrate has completed, it generally\nleaves things in a very inconsistent state.\n\nFirstly we should update the node and host of the instance as soon as\npossible. Should any error occur, at least the system will know where\nthe instance currently resides.\n\nSecondly, we should ensure that when an exception is raised after\ndriver.live_migrate has completed, we put the instance into the ERROR\nstate and reset the task state. If we don't do that, the VM tends to be\nleft in the MIGRATING state, and you need to dig in the logs to find out\nthat an error has happened.\n\nChange-Id: I2c28824941dc7eb9b473c55105b71b7558ffad79\nCloses-Bug: #1379581\n""}, {'number': 4, 'created': '2014-10-23 14:02:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/be78ce5f94080f9e37b6ad4495e8aeb3e14efee8', 'message': ""Improve post_live_migrate error handling\n\nWhen errors occur after driver.live_migrate has completed, it generally\nleaves things in a very inconsistent state.\n\nFirstly we should update the node and host of the instance as soon as\npossible. Should any error occur, at least the system will know where\nthe instance currently resides.\n\nSecondly, we should ensure that when an exception is raised after\ndriver.live_migrate has completed, we put the instance into the ERROR\nstate and reset the task state. If we don't do that, the VM tends to be\nleft in the MIGRATING state, and you need to dig in the logs to find out\nthat an error has happened.\n\nChange-Id: I2c28824941dc7eb9b473c55105b71b7558ffad79\nCloses-Bug: #1379581\n""}, {'number': 5, 'created': '2014-10-23 14:15:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cf03e602c60b7d40b0ae612bc754adfb9d53ec2b', 'message': ""Improve post_live_migrate error handling\n\nWhen errors occur after driver.live_migrate has completed, it generally\nleaves things in a very inconsistent state.\n\nFirstly we should update the node and host of the instance as soon as\npossible. Should any error occur, at least the system will know where\nthe instance currently resides.\n\nSecondly, we should ensure that when an exception is raised after\ndriver.live_migrate has completed, we put the instance into the ERROR\nstate and reset the task state. If we don't do that, the VM tends to be\nleft in the MIGRATING state, and you need to dig in the logs to find out\nthat an error has happened.\n\nChange-Id: I2c28824941dc7eb9b473c55105b71b7558ffad79\nCloses-Bug: #1379581\n""}, {'number': 6, 'created': '2014-11-28 18:26:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b9d86519f87c817389c12a059e0c64f78bc77338', 'message': ""Improve post_live_migrate error handling\n\nWhen errors occur after driver.live_migrate has completed, it generally\nleaves things in a very inconsistent state.\n\nFirstly we should update the node and host of the instance as soon as\npossible. Should any error occur, at least the system will know where\nthe instance currently resides.\n\nSecondly, we should ensure that when an exception is raised after\ndriver.live_migrate has completed, we put the instance into the ERROR\nstate and reset the task state. If we don't do that, the VM tends to be\nleft in the MIGRATING state, and you need to dig in the logs to find out\nthat an error has happened.\n\nChange-Id: I2c28824941dc7eb9b473c55105b71b7558ffad79\nCloses-Bug: #1379581\n""}, {'number': 7, 'created': '2014-12-04 11:44:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/300b74854592109cbf8fbea393df93b5d2362376', 'message': ""Improve post_live_migrate error handling\n\nWhen errors occur after driver.live_migrate has completed, it generally\nleaves things in a very inconsistent state.\n\nFirstly we should update the node and host of the instance as soon as\npossible. Should any error occur, at least the system will know where\nthe instance currently resides.\n\nSecondly, we should ensure that when an exception is raised after\ndriver.live_migrate has completed, we put the instance into the ERROR\nstate and reset the task state. If we don't do that, the VM tends to be\nleft in the MIGRATING state, and you need to dig in the logs to find out\nthat an error has happened.\n\nChange-Id: I2c28824941dc7eb9b473c55105b71b7558ffad79\nCloses-Bug: #1379581\n""}, {'number': 8, 'created': '2014-12-04 12:05:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e1d1ee7b5508a05e76ff22032998cfc1d765e2b2', 'message': ""Improve post_live_migrate error handling\n\nWhen errors occur after driver.live_migrate has completed, it generally\nleaves things in a very inconsistent state.\n\nFirstly we should update the node and host of the instance as soon as\npossible. Should any error occur, at least the system will know where\nthe instance currently resides.\n\nSecondly, we should ensure that when an exception is raised after\ndriver.live_migrate has completed, we put the instance into the ERROR\nstate and reset the task state. If we don't do that, the VM tends to be\nleft in the MIGRATING state, and you need to dig in the logs to find out\nthat an error has happened.\n\nChange-Id: I2c28824941dc7eb9b473c55105b71b7558ffad79\nCloses-Bug: #1379581\n""}, {'number': 9, 'created': '2014-12-04 12:10:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/47ad50611cbd2185b5160f4c6daeeb87a50c124e', 'message': ""Improve post_live_migrate error handling\n\nWhen errors occur after driver.live_migrate has completed, it generally\nleaves things in a very inconsistent state.\n\nFirstly we should update the node and host of the instance as soon as\npossible. Should any error occur, at least the system will know where\nthe instance currently resides.\n\nSecondly, we should ensure that when an exception is raised after\ndriver.live_migrate has completed, we put the instance into the ERROR\nstate and reset the task state. If we don't do that, the VM tends to be\nleft in the MIGRATING state, and you need to dig in the logs to find out\nthat an error has happened.\n\nChange-Id: I2c28824941dc7eb9b473c55105b71b7558ffad79\nCloses-Bug: #1379581\n""}, {'number': 10, 'created': '2015-01-14 11:04:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8852aa67a66c7a0e28bd01fbf6596f27c679bc94', 'message': ""Improve post_live_migrate error handling\n\nWhen errors occur after driver.live_migrate has completed, it generally\nleaves things in a very inconsistent state.\n\nFirstly we should update the node and host of the instance as soon as\npossible. Should any error occur, at least the system will know where\nthe instance currently resides.\n\nSecondly, we should ensure that when an exception is raised after\ndriver.live_migrate has completed, we put the instance into the ERROR\nstate and reset the task state. If we don't do that, the VM tends to be\nleft in the MIGRATING state, and you need to dig in the logs to find out\nthat an error has happened.\n\nChange-Id: I2c28824941dc7eb9b473c55105b71b7558ffad79\nCloses-Bug: #1379581\n""}, {'number': 11, 'created': '2015-02-12 14:40:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/70685f37413914be3942d0cc3062989e878197ef', 'message': ""Improve post_live_migrate error handling\n\nWhen errors occur after driver.live_migrate has completed, it generally\nleaves things in a very inconsistent state.\n\nFirstly we should update the node and host of the instance as soon as\npossible. Should any error occur, at least the system will know where\nthe instance currently resides.\n\nSecondly, we should ensure that when an exception is raised after\ndriver.live_migrate has completed, we put the instance into the ERROR\nstate and reset the task state. If we don't do that, the VM tends to be\nleft in the MIGRATING state, and you need to dig in the logs to find out\nthat an error has happened.\n\nChange-Id: I2c28824941dc7eb9b473c55105b71b7558ffad79\nCloses-Bug: #1379581\n""}, {'number': 12, 'created': '2015-02-12 14:57:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/20424f21a324dd7de04bb95803edf0bf13cdfe51', 'message': ""Improve post_live_migrate error handling\n\nWhen errors occur after driver.live_migrate has completed, it generally\nleaves things in a very inconsistent state.\n\nFirstly we should update the node and host of the instance as soon as\npossible. Should any error occur, at least the system will know where\nthe instance currently resides.\n\nSecondly, we should ensure that when an exception is raised after\ndriver.live_migrate has completed, we put the instance into the ERROR\nstate and reset the task state. If we don't do that, the VM tends to be\nleft in the MIGRATING state, and you need to dig in the logs to find out\nthat an error has happened.\n\nChange-Id: I2c28824941dc7eb9b473c55105b71b7558ffad79\nCloses-Bug: #1379581\n""}, {'number': 13, 'created': '2015-02-25 16:50:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9d0b2b86545c85e5a97df4d4d2f42db79683e8f3', 'message': ""Improve post_live_migrate error handling\n\nWhen errors occur after driver.live_migrate has completed, it generally\nleaves things in a very inconsistent state.\n\nFirstly we should update the node and host of the instance as soon as\npossible. Should any error occur, at least the system will know where\nthe instance currently resides.\n\nSecondly, we should ensure that when an exception is raised after\ndriver.live_migrate has completed, we put the instance into the ERROR\nstate and reset the task state. If we don't do that, the VM tends to be\nleft in the MIGRATING state, and you need to dig in the logs to find out\nthat an error has happened.\n\nChange-Id: I2c28824941dc7eb9b473c55105b71b7558ffad79\nCloses-Bug: #1379581\n""}, {'number': 14, 'created': '2015-03-13 16:15:09.000000000', 'files': ['nova/tests/unit/compute/test_rpcapi.py', 'nova/tests/unit/compute/test_compute.py', 'nova/compute/manager.py', 'nova/compute/rpcapi.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/5a212307d583c4fe6a4cf5168ae439a6d7e7485e', 'message': ""Improve post_live_migrate error handling\n\nWhen errors occur after driver.live_migrate has completed, it generally\nleaves things in a very inconsistent state.\n\nFirstly we should update the node and host of the instance as soon as\npossible. Should any error occur, at least the system will know where\nthe instance currently resides.\n\nSecondly, we should ensure that when an exception is raised after\ndriver.live_migrate has completed, we put the instance into the ERROR\nstate and reset the task state. If we don't do that, the VM tends to be\nleft in the MIGRATING state, and you need to dig in the logs to find out\nthat an error has happened.\n\nChange-Id: I2c28824941dc7eb9b473c55105b71b7558ffad79\nCloses-Bug: #1379581\n""}]",56,129881,5a212307d583c4fe6a4cf5168ae439a6d7e7485e,107,21,14,782,,,0,"Improve post_live_migrate error handling

When errors occur after driver.live_migrate has completed, it generally
leaves things in a very inconsistent state.

Firstly we should update the node and host of the instance as soon as
possible. Should any error occur, at least the system will know where
the instance currently resides.

Secondly, we should ensure that when an exception is raised after
driver.live_migrate has completed, we put the instance into the ERROR
state and reset the task state. If we don't do that, the VM tends to be
left in the MIGRATING state, and you need to dig in the logs to find out
that an error has happened.

Change-Id: I2c28824941dc7eb9b473c55105b71b7558ffad79
Closes-Bug: #1379581
",git fetch https://review.opendev.org/openstack/nova refs/changes/81/129881/3 && git format-patch -1 --stdout FETCH_HEAD,['nova/compute/manager.py'],1,c85a86af9abdf5e39ea8d18e85a49109d536ae4d,bug/1379581," @object_compat @reverts_task_state @wrap_instance_event # NOTE(johngarbutt) update node and host now, so we know # the instance is here, even if something fails during this last stage node_name = None try: compute_node = self._get_compute_info(ctxt, dest) node_name = compute_node.hypervisor_hostname except exception.NotFound: LOG.exception(_LE('Failed to get compute_info for %s'), self.host) finally: instance.host = dest instance.node = node_name instance.save(expected_task_state=task_states.MIGRATING) try: self._post_live_migration_impl(ctxt, instance, block_migration) except Exception: with excutils.save_and_reraise_exception(): LOG.exception(_LE('Error during _post_live_migration.'), instance=instance) self._set_instance_error_state(ctxt, instance) def _post_live_migration_impl(self, ctxt, instance, dest, block_migration, migrate_data): #NOTE(johngarbutt) this is a post @reverts_task_state @wrap_instance_event try: self._post_live_migration_at_destination_impl(context, instance, block_migration) except Exception: with excutils.save_and_reraise_exception(): LOG.exception(_LE('Setting instance vm_state to ERROR'), instance=instance) self._set_instance_error_state(context, instance) def _post_live_migration_at_destination_impl(self, context, instance, block_migration): instance.power_state = current_power_state instance.vm_state = vm_states.ACTIVE instance.task_state = None instance.save(expected_task_state=task_states.MIGRATING)"," node_name = None try: compute_node = self._get_compute_info(context, self.host) node_name = compute_node.hypervisor_hostname except exception.NotFound: LOG.exception(_LE('Failed to get compute_info for %s'), self.host) finally: instance.host = self.host instance.power_state = current_power_state instance.vm_state = vm_states.ACTIVE instance.task_state = None instance.node = node_name instance.save(expected_task_state=task_states.MIGRATING)",46,13
openstack%2Fnova~master~I5f8ff4ecbbc03db5683515832f4b987f1d4992aa,openstack/nova,master,I5f8ff4ecbbc03db5683515832f4b987f1d4992aa,compute: introduce binary constants,ABANDONED,2015-02-19 13:14:15.000000000,2015-05-13 17:20:21.000000000,,"[{'_account_id': 3}, {'_account_id': 1849}, {'_account_id': 4393}, {'_account_id': 5170}, {'_account_id': 6062}, {'_account_id': 7730}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9303}, {'_account_id': 9555}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11103}, {'_account_id': 15751}]","[{'number': 1, 'created': '2015-02-19 13:14:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4bb0205b02219abacadc32d1f1018ab14ffa435f', 'message': 'compute: introduce binary constants\n\nIntroduces new constants to handle binary names\n\nChange-Id: I5f8ff4ecbbc03db5683515832f4b987f1d4992aa\n'}, {'number': 2, 'created': '2015-03-13 13:03:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5f04b8ebf89fd2e3e1a59fb1b8c77bfc725f0a24', 'message': 'compute: introduce binary constants\n\nIntroduces new constants to handle binary names\n\nChange-Id: I5f8ff4ecbbc03db5683515832f4b987f1d4992aa\n'}, {'number': 3, 'created': '2015-03-16 11:20:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b76956bc6003c4039ab96d65da3eb10fccd1d036', 'message': 'compute: introduce binary constants\n\nIntroduces new constants to handle binary names\n\nChange-Id: I5f8ff4ecbbc03db5683515832f4b987f1d4992aa\n'}, {'number': 4, 'created': '2015-03-19 07:58:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/544fdcf59076dffe8e3356f7f396101cd6b76c3e', 'message': 'compute: introduce binary constants\n\nIntroduces new constants to handle binary names\n\nChange-Id: I5f8ff4ecbbc03db5683515832f4b987f1d4992aa\n'}, {'number': 5, 'created': '2015-04-02 11:52:42.000000000', 'files': ['nova/tests/unit/test_service.py', 'nova/compute/binary_names.py', 'nova/exception.py', 'nova/tests/unit/test_nova_manage.py', 'nova/db/api.py', 'nova/tests/unit/db/test_db_api.py', 'nova/db/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/aefa9146d26b6b2eebda6b6f916dfb5ec8a85410', 'message': 'compute: introduce binary constants\n\nIntroduces new constants to handle binary names also this\ncommit updates service methods to avoid unecessary call to\nthe database whether an invalid binary name is provided.\n\nChange-Id: I5f8ff4ecbbc03db5683515832f4b987f1d4992aa\n'}]",9,157363,aefa9146d26b6b2eebda6b6f916dfb5ec8a85410,58,15,5,7730,,,0,"compute: introduce binary constants

Introduces new constants to handle binary names also this
commit updates service methods to avoid unecessary call to
the database whether an invalid binary name is provided.

Change-Id: I5f8ff4ecbbc03db5683515832f4b987f1d4992aa
",git fetch https://review.opendev.org/openstack/nova refs/changes/63/157363/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/exception.py', 'nova/db/api.py', 'nova/tests/unit/db/test_db_api.py', 'nova/compute/binary.py', 'nova/db/sqlalchemy/api.py']",5,4bb0205b02219abacadc32d1f1018ab14ffa435f,service,"from nova.compute import binarydef service_get_all_by_binary(context, bin): if not binary.is_valid(bin): raise exception.InvalidBinaryName(binary=bin) filter_by(binary=bin).\def service_get_by_host_and_binary(context, host, bin): if not binary.is_valid(bin): raise exception.InvalidBinaryName(binary=bin) filter_by(binary=bin).\","def service_get_all_by_binary(context, binary): filter_by(binary=binary).\def service_get_by_host_and_binary(context, host, binary): filter_by(binary=binary).\",113,15
openstack%2Fnova~master~I4521d4ae8284ec8ab7fade6d3b876affc9732df3,openstack/nova,master,I4521d4ae8284ec8ab7fade6d3b876affc9732df3,Mirror db schema changes to compute_node and service objects,ABANDONED,2015-03-30 13:47:39.000000000,2015-05-13 17:20:18.000000000,,"[{'_account_id': 3}, {'_account_id': 1849}, {'_account_id': 5170}, {'_account_id': 5754}, {'_account_id': 6450}, {'_account_id': 7166}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 15751}]","[{'number': 1, 'created': '2015-03-30 13:47:39.000000000', 'files': ['nova/tests/unit/objects/test_objects.py', 'nova/tests/unit/objects/test_compute_node.py', 'nova/objects/compute_node.py', 'nova/objects/service.py', 'nova/tests/unit/objects/test_service.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/8ac2a10ebd0172651f6c4592891bbd68c9453fad', 'message': 'Mirror db schema changes to compute_node and service objects\n\nThe db was recently updated [1] to remove the replationship between\ncompute_node and service tables and to make compute_node.service_id\nnullable.\n\nThis change mirrors that to the objects to stay in sync with the db\nwhile still providing full backwords compatibility with older object\nversions where needed.\n\n[1] 551be2c52a29cb2755de4825a3fcb2c8f7d7b3f1\n\nChange-Id: I4521d4ae8284ec8ab7fade6d3b876affc9732df3\nCloses-Bug: #1438189\n'}]",6,168908,8ac2a10ebd0172651f6c4592891bbd68c9453fad,13,10,1,6450,,,0,"Mirror db schema changes to compute_node and service objects

The db was recently updated [1] to remove the replationship between
compute_node and service tables and to make compute_node.service_id
nullable.

This change mirrors that to the objects to stay in sync with the db
while still providing full backwords compatibility with older object
versions where needed.

[1] 551be2c52a29cb2755de4825a3fcb2c8f7d7b3f1

Change-Id: I4521d4ae8284ec8ab7fade6d3b876affc9732df3
Closes-Bug: #1438189
",git fetch https://review.opendev.org/openstack/nova refs/changes/08/168908/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/objects/test_objects.py', 'nova/objects/compute_node.py', 'nova/tests/unit/objects/test_compute_node.py', 'nova/objects/service.py', 'nova/tests/unit/objects/test_service.py']",5,8ac2a10ebd0172651f6c4592891bbd68c9453fad,bug/1438189,,"from nova.tests.unit.objects import test_compute_node def test_compute_node(self): fake_compute_node = objects.ComputeNode._from_db_object( self.context, objects.ComputeNode(), test_compute_node.fake_compute_node) self.mox.StubOutWithMock(objects.ComputeNodeList, 'get_all_by_host') objects.ComputeNodeList.get_all_by_host( self.context, 'fake-host').AndReturn( [fake_compute_node]) self.mox.ReplayAll() service_obj = service.Service(id=123, host=""fake-host"", binary=""nova-compute"") service_obj._context = self.context self.assertEqual(service_obj.compute_node, fake_compute_node) # Make sure it doesn't re-fetch this service_obj.compute_node def test_load_when_orphaned(self): service_obj = service.Service() service_obj.id = 123 self.assertRaises(exception.OrphanedObjectError, getattr, service_obj, 'compute_node') ",17,86
openstack%2Fnova~master~Ia0526ec1b770435fc802ae8b9fa4bdbe4de5f5a1,openstack/nova,master,Ia0526ec1b770435fc802ae8b9fa4bdbe4de5f5a1,Add console object,ABANDONED,2014-11-17 17:50:53.000000000,2015-05-13 17:20:17.000000000,,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 1849}, {'_account_id': 5170}, {'_account_id': 6062}, {'_account_id': 7730}, {'_account_id': 8213}, {'_account_id': 8412}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11103}, {'_account_id': 11303}]","[{'number': 1, 'created': '2014-11-17 17:50:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5f0c5efe1f8268c7b48dd303e8d1961b16815173', 'message': 'Add console object\n\nAdded console object and tests for it\n\nRelated to blueprint kilo-objects\nChange-Id: Ia0526ec1b770435fc802ae8b9fa4bdbe4de5f5a1\n'}, {'number': 2, 'created': '2015-01-16 15:30:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/266c7b47ae9fd30de2dc0303fb960681a8ef6643', 'message': 'Add console object\n\nAdded console object and tests for it\n\nRelated to blueprint kilo-objects\nChange-Id: Ia0526ec1b770435fc802ae8b9fa4bdbe4de5f5a1\n'}, {'number': 3, 'created': '2015-02-14 09:25:50.000000000', 'files': ['nova/objects/console.py', 'nova/tests/unit/objects/test_objects.py', 'nova/tests/unit/objects/test_console.py', 'nova/objects/__init__.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/d2f1664e0ab12a704aaeefeeaceec3cb2f8ac127', 'message': 'Add console object\n\nAdded console object and tests for it\n\nRelated to blueprint kilo-objects\nChange-Id: Ia0526ec1b770435fc802ae8b9fa4bdbe4de5f5a1\n'}]",25,135035,d2f1664e0ab12a704aaeefeeaceec3cb2f8ac127,39,14,3,8412,,,0,"Add console object

Added console object and tests for it

Related to blueprint kilo-objects
Change-Id: Ia0526ec1b770435fc802ae8b9fa4bdbe4de5f5a1
",git fetch https://review.opendev.org/openstack/nova refs/changes/35/135035/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/objects/console.py', 'nova/tests/unit/objects/test_objects.py', 'nova/tests/unit/objects/test_console.py', 'nova/objects/__init__.py']",4,5f0c5efe1f8268c7b48dd303e8d1961b16815173,bp/kilo-objects, __import__('nova.objects.console'),,214,0
openstack%2Fnova~master~I51a287ea462cd8b31d3d8cb4842c5dbd7e9f94d4,openstack/nova,master,I51a287ea462cd8b31d3d8cb4842c5dbd7e9f94d4,log request-id mapping of nova and cinder,ABANDONED,2015-04-14 09:46:46.000000000,2015-05-13 17:20:16.000000000,,"[{'_account_id': 3}, {'_account_id': 1849}, {'_account_id': 5170}, {'_account_id': 6466}, {'_account_id': 8871}, {'_account_id': 9578}, {'_account_id': 15751}]","[{'number': 1, 'created': '2015-04-14 09:46:46.000000000', 'files': ['nova/tests/unit/volume/test_cinder.py', 'nova/openstack/common/request_utils.py', 'nova/volume/cinder.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/758dbe7de4fe4a2fecf449ac9217586f31ab7899', 'message': 'log request-id mapping of nova and cinder\n\nGet last request-id from cinder-client and log mapping of\nnova and cinder request-ids on the same logging line using\nrequest_utils from oslo-incubator.\n\nNote:\nFor testing purpose I have added request_utils directly in\nnova/openstack/common module as it is removed from oslo-incubator\nlibrary. I have submitted a patch [1] to add request_utils module\nin oslo-incubator. Once it is merged it need to be synced with nova.\n[1] https://review.openstack.org/#/c/170074/\n\nDepends-On: Ie44df57f88584934e4d32da43ae58cc2d485aa74\n\nChange-Id: I51a287ea462cd8b31d3d8cb4842c5dbd7e9f94d4\nblueprint: log-request-id-mappings\n'}]",0,173234,758dbe7de4fe4a2fecf449ac9217586f31ab7899,8,7,1,8300,,,0,"log request-id mapping of nova and cinder

Get last request-id from cinder-client and log mapping of
nova and cinder request-ids on the same logging line using
request_utils from oslo-incubator.

Note:
For testing purpose I have added request_utils directly in
nova/openstack/common module as it is removed from oslo-incubator
library. I have submitted a patch [1] to add request_utils module
in oslo-incubator. Once it is merged it need to be synced with nova.
[1] https://review.openstack.org/#/c/170074/

Depends-On: Ie44df57f88584934e4d32da43ae58cc2d485aa74

Change-Id: I51a287ea462cd8b31d3d8cb4842c5dbd7e9f94d4
blueprint: log-request-id-mappings
",git fetch https://review.opendev.org/openstack/nova refs/changes/34/173234/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/volume/test_cinder.py', 'nova/openstack/common/request_utils.py', 'nova/volume/cinder.py']",3,758dbe7de4fe4a2fecf449ac9217586f31ab7899,bp/log-request-id-mappings,"from nova.openstack.common import request_utils def _cinder_volumes(context, method, *args, **kwargs): """"""Call cinder client and log request id mappings"""""" try: if 'client' in kwargs: client = kwargs.pop('client') else: client = cinderclient(context) volume_id = kwargs.pop('volume_id', None) if not volume_id: response = getattr(client.volumes, method)(*args, **kwargs) else: response = getattr(client.volumes, method)(volume_id, *args, **kwargs) request_utils.link_request_ids(context, context.request_id, target_id=client.get_openstack_request_id(), target_name=""cinder"") except (cinder_exception.ClientException, keystone_exception.ClientException): request_utils.link_request_ids(context, context.request_id, target_id=client.get_openstack_request_id(), target_name=""cinder"") exc_type, exc_value, exc_trace = sys.exc_info() if isinstance(exc_value, (keystone_exception.NotFound, cinder_exception.NotFound)): exc_value = exception.VolumeNotFound(volume_id=volume_id) elif isinstance(exc_value, (keystone_exception.BadRequest, cinder_exception.BadRequest)): exc_value = exception.InvalidInput( reason=six.text_type(exc_value)) elif isinstance(exc_value, cinder_exception.OverLimit): exc_value = exception.OverQuota(overs='volumes') raise exc_value, None, exc_trace except (cinder_exception.ConnectionError, keystone_exception.ConnectionError): exc_type, exc_value, exc_trace = sys.exc_info() exc_value = exception.CinderConnectionFailed( reason=six.text_type(exc_value)) raise exc_value, None, exc_trace return response def _cinder_snapshots(context, method, *args, **kwargs): """"""Call cinder client and log request id mappings"""""" try: if 'client' in kwargs: client = kwargs.pop('client') else: client = cinderclient(context) snapshot_id = kwargs.pop('snapshot_id', None) if not snapshot_id: response = getattr(client.volume_snapshots, method)(*args, **kwargs) else: response = getattr(client.volume_snapshots, method)(snapshot_id, *args, **kwargs) request_utils.link_request_ids(context, context.request_id, target_id=client.get_openstack_request_id(), target_name=""cinder"") except (cinder_exception.ClientException, keystone_exception.ClientException): request_utils.link_request_ids(context, context.request_id, target_id=client.get_openstack_request_id(), target_name=""cinder"") exc_type, exc_value, exc_trace = sys.exc_info() if isinstance(exc_value, (keystone_exception.NotFound, cinder_exception.NotFound)): exc_value = exception.SnapshotNotFound(snapshot_id=snapshot_id) raise exc_value, None, exc_trace except (cinder_exception.ConnectionError, keystone_exception.ConnectionError): exc_type, exc_value, exc_trace = sys.exc_info() reason = six.text_type(exc_value) exc_value = exception.CinderConnectionFailed(reason=reason) raise exc_value, None, exc_trace return response def get(self, context, volume_id): item = _cinder_volumes(context, 'get', volume_id=volume_id) items = _cinder_volumes(context, 'list', detailed=True, search_opts=search_opts) def reserve_volume(self, context, volume_id): _cinder_volumes(context, 'reserve', volume_id=volume_id) def unreserve_volume(self, context, volume_id): _cinder_volumes(context, 'unreserve', volume_id=volume_id) def begin_detaching(self, context, volume_id): _cinder_volumes(context, 'begin_detaching', volume_id=volume_id) def roll_detaching(self, context, volume_id): _cinder_volumes(context, 'roll_detaching', volume_id=volume_id) def attach(self, context, volume_id, instance_uuid, mountpoint, mode='rw'): _cinder_volumes(context, 'attach', instance_uuid, mountpoint, mode=mode, volume_id=volume_id) def detach(self, context, volume_id): _cinder_volumes(context, 'detach', volume_id=volume_id) def initialize_connection(self, context, volume_id, connector): return _cinder_volumes(context, 'initialize_connection', connector, volume_id=volume_id) def terminate_connection(self, context, volume_id, connector): return _cinder_volumes(context, 'terminate_connection', connector, volume_id=volume_id) return _cinder_volumes(context, 'migrate_volume_completion', new_volume_id, error, volume_id=old_volume_id) # Create cinder-client object to check volume name and description. item = _cinder_volumes(context, 'create', size, client=client, **kwargs) return _untranslate_volume_summary_view(context, item) def delete(self, context, volume_id): _cinder_volumes(context, 'delete', volume_id=volume_id) def get_snapshot(self, context, snapshot_id): item = _cinder_snapshots(context, 'get', snapshot_id=snapshot_id) items = _cinder_snapshots(context, 'list', detailed=True) def create_snapshot(self, context, volume_id, name, description): item = _cinder_snapshots(context, 'create', volume_id, False, name, description) def create_snapshot_force(self, context, volume_id, name, description): item = _cinder_snapshots(context, 'create', volume_id, True, name, description) def delete_snapshot(self, context, snapshot_id): _cinder_snapshots(context, 'delete', snapshot_id=snapshot_id) return _cinder_volumes(context, 'get_encryption_metadata', volume_id=volume_id) def update_snapshot_status(self, context, snapshot_id, status): _cinder_snapshots(context, 'update_snapshot_status', {'status': status, 'progress': '90%'}, snapshot_id=snapshot_id)","def translate_volume_exception(method): """"""Transforms the exception for the volume but keeps its traceback intact. """""" def wrapper(self, ctx, volume_id, *args, **kwargs): try: res = method(self, ctx, volume_id, *args, **kwargs) except (cinder_exception.ClientException, keystone_exception.ClientException): exc_type, exc_value, exc_trace = sys.exc_info() if isinstance(exc_value, (keystone_exception.NotFound, cinder_exception.NotFound)): exc_value = exception.VolumeNotFound(volume_id=volume_id) elif isinstance(exc_value, (keystone_exception.BadRequest, cinder_exception.BadRequest)): exc_value = exception.InvalidInput( reason=six.text_type(exc_value)) raise exc_value, None, exc_trace except (cinder_exception.ConnectionError, keystone_exception.ConnectionError): exc_type, exc_value, exc_trace = sys.exc_info() exc_value = exception.CinderConnectionFailed( reason=six.text_type(exc_value)) raise exc_value, None, exc_trace return res return wrapper def translate_snapshot_exception(method): """"""Transforms the exception for the snapshot but keeps its traceback intact. """""" def wrapper(self, ctx, snapshot_id, *args, **kwargs): try: res = method(self, ctx, snapshot_id, *args, **kwargs) except (cinder_exception.ClientException, keystone_exception.ClientException): exc_type, exc_value, exc_trace = sys.exc_info() if isinstance(exc_value, (keystone_exception.NotFound, cinder_exception.NotFound)): exc_value = exception.SnapshotNotFound(snapshot_id=snapshot_id) raise exc_value, None, exc_trace except (cinder_exception.ConnectionError, keystone_exception.ConnectionError): exc_type, exc_value, exc_trace = sys.exc_info() reason = six.text_type(exc_value) exc_value = exception.CinderConnectionFailed(reason=reason) raise exc_value, None, exc_trace return res return wrapper @translate_volume_exception def get(self, context, volume_id): item = cinderclient(context).volumes.get(volume_id) items = cinderclient(context).volumes.list(detailed=True, search_opts=search_opts) @translate_volume_exception def reserve_volume(self, context, volume_id): cinderclient(context).volumes.reserve(volume_id) @translate_volume_exception def unreserve_volume(self, context, volume_id): cinderclient(context).volumes.unreserve(volume_id) @translate_volume_exception def begin_detaching(self, context, volume_id): cinderclient(context).volumes.begin_detaching(volume_id) @translate_volume_exception def roll_detaching(self, context, volume_id): cinderclient(context).volumes.roll_detaching(volume_id) @translate_volume_exception def attach(self, context, volume_id, instance_uuid, mountpoint, mode='rw'): cinderclient(context).volumes.attach(volume_id, instance_uuid, mountpoint, mode=mode) @translate_volume_exception def detach(self, context, volume_id): cinderclient(context).volumes.detach(volume_id) @translate_volume_exception def initialize_connection(self, context, volume_id, connector): return cinderclient(context).volumes.initialize_connection(volume_id, connector) @translate_volume_exception def terminate_connection(self, context, volume_id, connector): return cinderclient(context).volumes.terminate_connection(volume_id, connector) return cinderclient(context).volumes.migrate_volume_completion( old_volume_id, new_volume_id, error) try: item = client.volumes.create(size, **kwargs) return _untranslate_volume_summary_view(context, item) except cinder_exception.OverLimit: raise exception.OverQuota(overs='volumes') except (cinder_exception.BadRequest, keystone_exception.BadRequest) as e: raise exception.InvalidInput(reason=e) @translate_volume_exception def delete(self, context, volume_id): cinderclient(context).volumes.delete(volume_id) @translate_volume_exception @translate_snapshot_exception def get_snapshot(self, context, snapshot_id): item = cinderclient(context).volume_snapshots.get(snapshot_id) items = cinderclient(context).volume_snapshots.list(detailed=True) @translate_volume_exception def create_snapshot(self, context, volume_id, name, description): item = cinderclient(context).volume_snapshots.create(volume_id, False, name, description) @translate_volume_exception def create_snapshot_force(self, context, volume_id, name, description): item = cinderclient(context).volume_snapshots.create(volume_id, True, name, description) @translate_snapshot_exception def delete_snapshot(self, context, snapshot_id): cinderclient(context).volume_snapshots.delete(snapshot_id) return cinderclient(context).volumes.get_encryption_metadata(volume_id) @translate_snapshot_exception def update_snapshot_status(self, context, snapshot_id, status): vs = cinderclient(context).volume_snapshots vs.update_snapshot_status( snapshot_id, {'status': status, 'progress': '90%'} )",235,129
openstack%2Fnova~master~I427d723bace1c8ba13d6cfc3b9f6ad5ad5429d80,openstack/nova,master,I427d723bace1c8ba13d6cfc3b9f6ad5ad5429d80,VMware: Handle missing volume disk device,ABANDONED,2015-03-05 10:29:04.000000000,2015-05-13 17:20:13.000000000,,"[{'_account_id': 3}, {'_account_id': 1849}, {'_account_id': 9008}, {'_account_id': 9171}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11103}]","[{'number': 1, 'created': '2015-03-05 10:29:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/21bce9afd5267f253f6b86edcaec70b12e20744d', 'message': ""VMware: Handle missing volume disk device\n\nDuring detach, _consolidate_vmdk will fail if the volume's\nbacking doesn't have a disk device. This patch fixes it by\nadding a disk device to volume's backing if needed.\n\nChange-Id: I427d723bace1c8ba13d6cfc3b9f6ad5ad5429d80\n""}, {'number': 2, 'created': '2015-03-05 12:43:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cbc553393f0ba1732405565f5fd24c25a765b052', 'message': ""VMware: Handle missing volume disk device\n\nDuring detach, _consolidate_vmdk will fail if the volume's\nbacking doesn't have a disk device. This patch fixes it by\nadding a disk device to volume's backing if needed.\n\nChange-Id: I427d723bace1c8ba13d6cfc3b9f6ad5ad5429d80\n""}, {'number': 3, 'created': '2015-03-05 13:53:01.000000000', 'files': ['nova/virt/vmwareapi/volumeops.py', 'nova/tests/unit/virt/vmwareapi/test_driver_api.py', 'nova/tests/unit/virt/vmwareapi/test_volumeops.py', 'nova/virt/vmwareapi/vm_util.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/2ca197a1adb6e926f3b0d1ef496d596df1ec503a', 'message': ""VMware: Handle missing volume disk device\n\nDuring detach, _consolidate_vmdk will fail if the volume's\nbacking doesn't have a disk device. This patch fixes it by\nadding a disk device to volume's backing if needed.\n\nChange-Id: I427d723bace1c8ba13d6cfc3b9f6ad5ad5429d80\n""}]",0,161661,2ca197a1adb6e926f3b0d1ef496d596df1ec503a,24,8,3,9171,,,0,"VMware: Handle missing volume disk device

During detach, _consolidate_vmdk will fail if the volume's
backing doesn't have a disk device. This patch fixes it by
adding a disk device to volume's backing if needed.

Change-Id: I427d723bace1c8ba13d6cfc3b9f6ad5ad5429d80
",git fetch https://review.opendev.org/openstack/nova refs/changes/61/161661/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/vmwareapi/volumeops.py', 'nova/virt/vmwareapi/vm_util.py']",2,21bce9afd5267f253f6b86edcaec70b12e20744d,missing_vol_disk_device,"def get_device_disk_type(device): adapter_type = None disk_type = get_device_disk_type(vmdk_device) if vmdk_controller_key: adapter_type = adapter_type_dict.get(vmdk_controller_key) def get_adapter_type(session, vm_ref, disk_device): hardware_devices = session._call_method( vim_util, ""get_dynamic_property"", vm_ref, ""VirtualMachine"", ""config.hardware.device"") if hardware_devices.__class__.__name__ == ""ArrayOfVirtualDevice"": hardware_devices = hardware_devices.VirtualDevice for device in hardware_devices: if disk_device.controllerKey != device.key: continue if device.__class__.__name__ == ""VirtualLsiLogicController"": return constants.DEFAULT_ADAPTER_TYPE elif device.__class__.__name__ == ""VirtualBusLogicController"": return constants.ADAPTER_TYPE_BUSLOGIC elif device.__class__.__name__ == ""VirtualIDEController"": return constants.ADAPTER_TYPE_IDE elif device.__class__.__name__ == ""VirtualLsiLogicSASController"": return constants.ADAPTER_TYPE_LSILOGICSAS elif device.__class__.__name__ == ""ParaVirtualSCSIController"": return constants.ADAPTER_TYPE_PARAVIRTUAL",def _get_device_disk_type(device): vmdk_device = None disk_type = _get_device_disk_type(vmdk_device) adapter_type = adapter_type_dict.get(vmdk_controller_key),63,34
openstack%2Fnova~master~I5ada3060c7618698e6f654daaad28ab836e6119c,openstack/nova,master,I5ada3060c7618698e6f654daaad28ab836e6119c,Libvirt: pre check cpuset when do LM,ABANDONED,2015-04-15 09:02:11.000000000,2015-05-13 17:20:10.000000000,,"[{'_account_id': 3}, {'_account_id': 1849}, {'_account_id': 5170}, {'_account_id': 9008}, {'_account_id': 9420}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 11303}, {'_account_id': 12175}, {'_account_id': 15751}]","[{'number': 1, 'created': '2015-04-15 09:02:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/097e49609c9556cc932840b1c4ec7a3fd641c09f', 'message': 'Libvirt: pre check cpuset when do LM\n\nLM will failed if source cpuset mismatch det host cpuset, currently, libvirt\ndriver will failed when doning LM operation, this check can be done in\ncheck_can_live_migrate.\n\nCloses-Bug: #1440981\nChange-Id: I5ada3060c7618698e6f654daaad28ab836e6119c\n'}, {'number': 2, 'created': '2015-04-15 09:08:04.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/9ce4bb65f86a695a4fea41f8047d41259c9ab4b0', 'message': 'Libvirt: pre check cpuset when do LM\n\nLM will failed if source cpuset mismatch det host cpuset, currently, libvirt\ndriver will failed when doning LM operation, this check can be done in\ncheck_can_live_migrate.\n\nCloses-Bug: #1440981\nChange-Id: I5ada3060c7618698e6f654daaad28ab836e6119c\n'}]",4,173729,9ce4bb65f86a695a4fea41f8047d41259c9ab4b0,15,10,2,12175,,,0,"Libvirt: pre check cpuset when do LM

LM will failed if source cpuset mismatch det host cpuset, currently, libvirt
driver will failed when doning LM operation, this check can be done in
check_can_live_migrate.

Closes-Bug: #1440981
Change-Id: I5ada3060c7618698e6f654daaad28ab836e6119c
",git fetch https://review.opendev.org/openstack/nova refs/changes/29/173729/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",2,097e49609c9556cc932840b1c4ec7a3fd641c09f,stop_lm_if_cpuset_mismatch," @mock.patch.object(libvirt_driver.LibvirtDriver, '_compare_cpu') @mock.patch.object(objects.NUMATopology, 'obj_from_primitive') def test_check_can_live_migrate_dest_cpu_set_dismatch_raises( self, mock_numatopology, mock_cpu): instance_ref = objects.Instance(**self.test_instance) src_topology = objects.NUMATopology( cells=[ objects.NUMACell( id=1, cpuset=set([1,2,3]), memory=1024, mempages=[] )]) dest_topology = objects.NUMATopology( cells=[ objects.NUMACell( id=1, cpuset=set([1,2]), memory=1024, mempages=[], )]) drvr = libvirt_driver.LibvirtDriver(fake.FakeVirtAPI(), False) src_compute_info = {'cpu_info': 'asdf', 'numa_topology': '""{src}""'} dst_compute_info = {'cpu_info': 'asdf', 'numa_topology': '""{dst}""'} values = {'{src}': src_topology, '{dst}': dest_topology} def side_effect(arg): return values[arg] mock_numatopology.side_effect = side_effect self.assertRaises(exception.MigrationPreCheckError, drvr.check_can_live_migrate_destination, self.context, instance_ref, src_compute_info, dst_compute_info, False) @mock.patch('nova.virt.libvirt.LibvirtDriver._conn') @mock.patch.object(nova.virt.libvirt, 'config') def test_compare_cpu_compatible_host_cpu(self, mock_vconfig, mock_conn): mock_conn.compareCPU.return_value = 5 conn = libvirt_driver.LibvirtDriver(fake.FakeVirtAPI(), False) ret = conn._compare_cpu(None, jsonutils.dumps(_fake_cpu_info)) self.assertIsNone(ret)",,67,0
openstack%2Fnova~master~I5657c162e96e728b037d015a0a0ecce570e69abe,openstack/nova,master,I5657c162e96e728b037d015a0a0ecce570e69abe,Correct disk usages for boot-from-volume instances,ABANDONED,2014-11-21 10:16:19.000000000,2015-05-13 17:20:07.000000000,,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 1653}, {'_account_id': 1849}, {'_account_id': 5170}, {'_account_id': 6763}, {'_account_id': 7166}, {'_account_id': 8276}, {'_account_id': 8282}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9569}, {'_account_id': 9578}, {'_account_id': 9708}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11531}]","[{'number': 1, 'created': '2014-11-21 10:16:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/80fb0a8bc736b1ea8ecebc822006add867b8514f', 'message': ""Fix resources are inconsistent for nova\n\nFor an instance booting from volume, the disk_filter should not check the\nsize of root_gb. And local_gb_used (reported from compute node) should not\nbe added to the instance's root_gb. This is because the instance didn't\nuse the local disk.\n\nChange-Id: I5657c162e96e728b037d015a0a0ecce570e69abe\nCloses-Bug: #1334974\n""}, {'number': 2, 'created': '2014-11-26 03:28:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7b549b94128e5ce81308c7137ced10ef395d393f', 'message': ""Fix resources are inconsistent for nova\n\nFor an instance booting from volume, the disk_filter should not check the\nsize of root_gb. And local_gb_used (reported from compute node) should not\nbe added to the instance's root_gb. This is because the instance didn't\nuse the local disk.\n\nChange-Id: I5657c162e96e728b037d015a0a0ecce570e69abe\nCloses-Bug: #1334974\n""}, {'number': 3, 'created': '2014-11-27 07:31:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bdfc71333439054cfa33ffc644ebf542ca5074b6', 'message': ""Fix resources are inconsistent for nova\n\nFor an instance booting from volume, the disk_filter should not check the\nsize of root_gb. And local_gb_used (reported from compute node) should not\nbe added to the instance's root_gb. This is because the instance didn't\nuse the local disk.\n\nChange-Id: I5657c162e96e728b037d015a0a0ecce570e69abe\nCloses-Bug: #1334974\n""}, {'number': 4, 'created': '2014-11-27 09:02:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c267788fce2d835a7d893921eb4a1231109d25d5', 'message': ""Fix resources are inconsistent for nova\n\nFor an instance booting from volume, the disk_filter should not check the\nsize of root_gb. And local_gb_used (reported from compute node) should not\nbe added to the instance's root_gb. This is because the instance didn't\nuse the local disk.\n\nChange-Id: I5657c162e96e728b037d015a0a0ecce570e69abe\nCloses-Bug: #1334974\n""}, {'number': 5, 'created': '2014-12-03 01:27:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b4b8756d50025ca08594c8c3150b5c26f39c4a4f', 'message': ""Fix resources are inconsistent for nova\n\nFor an instance booting from volume, the disk_filter should not check the\nsize of root_gb. And local_gb_used (reported from compute node) should not\nbe added to the instance's root_gb. This is because the instance didn't\nuse the local disk.\n\nChange-Id: I5657c162e96e728b037d015a0a0ecce570e69abe\nCloses-Bug: #1334974\n""}, {'number': 6, 'created': '2014-12-03 07:11:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3d415b5c5e9c65987d60ec2bcc8d74136ee34009', 'message': ""Fix resources are inconsistent for nova\n\nFor an instance booting from volume, the disk_filter should not check the\nsize of root_gb. And local_gb_used (reported from compute node) should not\nbe added to the instance's root_gb. This is because the instance didn't\nuse the local disk.\n\nChange-Id: I5657c162e96e728b037d015a0a0ecce570e69abe\nCloses-Bug: #1334974\n""}, {'number': 7, 'created': '2014-12-12 09:14:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/75887b721bfdb1777dd79084c836ac2567be6af7', 'message': ""Fix resources are inconsistent for nova\n\nFor an instance booting from volume, the disk_filter should not check the\nsize of root_gb. And local_gb_used (reported from compute node) should not\nbe added to the instance's root_gb. This is because the instance didn't\nuse the local disk.\n\nChange-Id: I5657c162e96e728b037d015a0a0ecce570e69abe\nCloses-Bug: #1334974\n""}, {'number': 8, 'created': '2014-12-25 12:43:21.000000000', 'files': ['nova/tests/unit/scheduler/filters/test_disk_filters.py', 'nova/scheduler/filters/disk_filter.py', 'nova/tests/unit/compute/test_resource_tracker.py', 'nova/tests/unit/compute/test_compute.py', 'nova/tests/unit/compute/test_tracker.py', 'nova/compute/resource_tracker.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/2d9b27f6954c9a1d2d6cb81ac956046052cab86b', 'message': ""Correct disk usages for boot-from-volume instances\n\nFor an instance booting from volume, the disk_filter should not check the\nsize of root_gb. And local_gb_used (reported from compute node) should not\nbe added to the instance's root_gb. This is because the instance didn't\nuse the local disk.\n\nChange-Id: I5657c162e96e728b037d015a0a0ecce570e69abe\nCloses-Bug: #1334974\n""}]",12,136284,2d9b27f6954c9a1d2d6cb81ac956046052cab86b,83,17,8,11531,,,0,"Correct disk usages for boot-from-volume instances

For an instance booting from volume, the disk_filter should not check the
size of root_gb. And local_gb_used (reported from compute node) should not
be added to the instance's root_gb. This is because the instance didn't
use the local disk.

Change-Id: I5657c162e96e728b037d015a0a0ecce570e69abe
Closes-Bug: #1334974
",git fetch https://review.opendev.org/openstack/nova refs/changes/84/136284/8 && git format-patch -1 --stdout FETCH_HEAD,"['nova/scheduler/filters/disk_filter.py', 'nova/tests/unit/compute/test_resource_tracker.py', 'nova/tests/unit/compute/test_compute.py', 'nova/compute/resource_tracker.py']",4,80fb0a8bc736b1ea8ecebc822006add867b8514f,bug/1334974," itype, numa_topology=numa_topology, image_ref=instance.get('image_ref'), uuid=instance.get('uuid')) if not self._is_boot_from_volume(context, usage): resources['local_gb_used'] += sign * usage.get('root_gb', 0) itype, numa_topology=numa_topology, image_ref=instance.get('image_ref'), uuid=instance.get('uuid')) for key in ('numa_topology', 'image_ref', 'uuid',): def _is_boot_from_volume(self, context, instance): if not instance.get('image_ref'): return True bdmlist = objects.BlockDeviceMappingList bdms = bdmlist.get_by_instance_uuid(context, instance.get('uuid')) root_bdm = bdms.root_bdm() if not root_bdm: return False return root_bdm.is_volume"," itype, numa_topology=numa_topology) resources['local_gb_used'] += sign * usage.get('root_gb', 0) itype, numa_topology=numa_topology) for key in ('numa_topology',):",37,8
openstack%2Fnova~master~I002a4d367dd1a6b4c58e4891cdc0bedebd52527c,openstack/nova,master,I002a4d367dd1a6b4c58e4891cdc0bedebd52527c,libvirt: add vif driver plugin support,ABANDONED,2014-11-24 18:37:04.000000000,2015-05-13 17:20:06.000000000,,"[{'_account_id': 3}, {'_account_id': 1779}, {'_account_id': 1849}, {'_account_id': 5170}, {'_account_id': 6598}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 13869}]","[{'number': 1, 'created': '2014-11-24 18:37:04.000000000', 'files': ['nova/virt/libvirt/vifs/ovs_vif.py', 'nova/virt/libvirt/vifs/ivs_vif.py', 'nova/virt/libvirt/vif.py', 'nova/virt/libvirt/vifs/qbh_vif.py', 'nova/virt/libvirt/vifs/mlnxdirect_vif.py', 'nova/virt/libvirt/vifs/hwweb_vif.py', 'nova/virt/libvirt/driver.py', 'nova/virt/libvirt/vifs/base_vif.py', 'nova/virt/libvirt/vif_manager.py', 'nova/virt/libvirt/vifs/iovisor_vif.py', 'nova/virt/libvirt/vifs/qbg_vif.py', 'nova/tests/unit/virt/libvirt/test_vif.py', 'nova/virt/libvirt/vifs/midonet_vif.py', 'nova/virt/libvirt/vifs/__init__.py', 'nova/virt/libvirt/vifs/bridge_vif.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/189d61c67b8f3641ffb6e474fa1425b4d89653cd', 'message': 'libvirt: add vif driver plugin support\n\nAdd a new option in nova.conf for libvirt: vif_drivers.\nThe new option is a list of vif drivers to load.\nThe default value is all the vif drivers in the nova tree.\n\nTo support this feature, the following modifications have been done:\n\n- a new class libvirtVIFDriverManager is in charge to load\n  the different vif drivers in the nova tree or external\n  vif drivers. And also to select the correct vif_driver\n  according to the vif_type for get_config, plug, and\n  unplug method.\n\n- split vif.py module into several modules: vifs/base_vif.py,\n  vifs/bridge_vif.py, vifs/hwweb_vif.py, vifs/iovisor_vif.py,\n  vifs/ivs_vif.py, vifs/midonet_vif.py, vifs/mlnxdirect_vif.py,\n  vifs/ovs_vif.py, vifs/qbg_vif.py, vifs/qbh_vif.py\n\n- update test_vif.py to use libvirtVIFDriverManager class\n\nImplements: blueprint libvirt-vif-driver-plugin\nChange-Id: I002a4d367dd1a6b4c58e4891cdc0bedebd52527c\n'}]",2,136857,189d61c67b8f3641ffb6e474fa1425b4d89653cd,14,10,1,13869,,,0,"libvirt: add vif driver plugin support

Add a new option in nova.conf for libvirt: vif_drivers.
The new option is a list of vif drivers to load.
The default value is all the vif drivers in the nova tree.

To support this feature, the following modifications have been done:

- a new class libvirtVIFDriverManager is in charge to load
  the different vif drivers in the nova tree or external
  vif drivers. And also to select the correct vif_driver
  according to the vif_type for get_config, plug, and
  unplug method.

- split vif.py module into several modules: vifs/base_vif.py,
  vifs/bridge_vif.py, vifs/hwweb_vif.py, vifs/iovisor_vif.py,
  vifs/ivs_vif.py, vifs/midonet_vif.py, vifs/mlnxdirect_vif.py,
  vifs/ovs_vif.py, vifs/qbg_vif.py, vifs/qbh_vif.py

- update test_vif.py to use libvirtVIFDriverManager class

Implements: blueprint libvirt-vif-driver-plugin
Change-Id: I002a4d367dd1a6b4c58e4891cdc0bedebd52527c
",git fetch https://review.opendev.org/openstack/nova refs/changes/57/136857/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/vifs/ovs_vif.py', 'nova/virt/libvirt/vifs/ivs_vif.py', 'nova/virt/libvirt/vif.py', 'nova/virt/libvirt/vifs/qbh_vif.py', 'nova/virt/libvirt/vifs/mlnxdirect_vif.py', 'nova/virt/libvirt/vifs/hwweb_vif.py', 'nova/virt/libvirt/driver.py', 'nova/virt/libvirt/vifs/base_vif.py', 'nova/virt/libvirt/vif_manager.py', 'nova/virt/libvirt/vifs/iovisor_vif.py', 'nova/virt/libvirt/vifs/qbg_vif.py', 'nova/tests/unit/virt/libvirt/test_vif.py', 'nova/virt/libvirt/vifs/midonet_vif.py', 'nova/virt/libvirt/vifs/__init__.py', 'nova/virt/libvirt/vifs/bridge_vif.py']",15,189d61c67b8f3641ffb6e474fa1425b4d89653cd,bp/libvirt-vif-driver-plugin,"# Copyright (C) 2011 Midokura KK # Copyright (C) 2011 Nicira, Inc # Copyright 2011 OpenStack Foundation # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. """"""Bridge VIF driver for libvirt."""""" from oslo.config import cfg from nova.network import linux_net from nova.network import model as network_model from nova.openstack.common import log as logging from nova.virt.libvirt import designer from nova.virt.libvirt.vifs import base_vif LOG = logging.getLogger(__name__) CONF = cfg.CONF class LibvirtBridgeVIFDriver(base_vif.LibvirtBaseVIFDriver): vif_type = network_model.VIF_TYPE_BRIDGE def get_bridge_name(self, vif): return vif['network']['bridge'] def get_config(self, instance, vif, image_meta, inst_type, virt_type): """"""Get VIF configurations for bridge type."""""" conf = self.get_base_config(instance, vif, image_meta, inst_type, virt_type) designer.set_vif_host_backend_bridge_config( conf, self.get_bridge_name(vif), self.get_vif_devname(vif)) mac_id = vif['address'].replace(':', '') name = ""nova-instance-"" + instance['name'] + ""-"" + mac_id if self.get_firewall_required(vif): conf.filtername = name designer.set_vif_bandwidth_config(conf, inst_type) return conf def plug(self, instance, vif): """"""Ensure that the bridge exists, and add VIF to it."""""" network = vif['network'] if (not network.get_meta('multi_host', False) and network.get_meta('should_create_bridge', False)): if network.get_meta('should_create_vlan', False): iface = CONF.vlan_interface or \ network.get_meta('bridge_interface') LOG.debug('Ensuring vlan %(vlan)s and bridge %(bridge)s', {'vlan': network.get_meta('vlan'), 'bridge': self.get_bridge_name(vif)}, instance=instance) linux_net.LinuxBridgeInterfaceDriver.ensure_vlan_bridge( network.get_meta('vlan'), self.get_bridge_name(vif), iface) else: iface = CONF.flat_interface or \ network.get_meta('bridge_interface') LOG.debug(""Ensuring bridge %s"", self.get_bridge_name(vif), instance=instance) linux_net.LinuxBridgeInterfaceDriver.ensure_bridge( self.get_bridge_name(vif), iface) def unplug(self, instance, vif): """"""No manual unplugging required."""""" pass ",,1124,741
openstack%2Fnova~master~I22c7663cd59e7182ea065ed29af13036ead23bca,openstack/nova,master,I22c7663cd59e7182ea065ed29af13036ead23bca,Stop async conductor tasks from raising exceptions,ABANDONED,2014-09-19 11:42:45.000000000,2015-05-13 17:20:04.000000000,,"[{'_account_id': 3}, {'_account_id': 782}, {'_account_id': 1011}, {'_account_id': 1849}, {'_account_id': 4393}, {'_account_id': 5170}, {'_account_id': 5441}, {'_account_id': 5638}, {'_account_id': 6062}, {'_account_id': 6450}, {'_account_id': 7634}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9550}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11103}]","[{'number': 1, 'created': '2014-09-19 11:42:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f4c0fbcefd8caa7b9a1daab11bcdd1e85d1f9213', 'message': 'Stop async conductor tasks from raising exceptions\n\nConductor API use cast or spawn_n to start async tasks such as\nrebuild_instance() and unshelve_instance(). Since no caller is waiting\nfor a response, there is no reason for them to raise exceptions if\nanything goes wrong.\n\nChange-Id: I22c7663cd59e7182ea065ed29af13036ead23bca\nCloses-Bug: #1371566\n'}, {'number': 2, 'created': '2014-11-13 07:57:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/91beabdfe45ba7b1bef5ce6b5fa8423d8c7574ac', 'message': 'Stop async conductor tasks from raising exceptions\n\nConductor API use cast or spawn_n to start async tasks such as\nrebuild_instance() and unshelve_instance(). Since no caller is waiting\nfor a response, there is no reason for them to raise exceptions if\nanything goes wrong.\n\nChange-Id: I22c7663cd59e7182ea065ed29af13036ead23bca\nCloses-Bug: #1371566\n'}, {'number': 3, 'created': '2014-11-13 08:30:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/512771703840ee8e801feb4d31926fb6f83da33b', 'message': 'Stop async conductor tasks from raising exceptions\n\nConductor API use cast or spawn_n to start async tasks such as\nrebuild_instance() and unshelve_instance(). Since no caller is waiting\nfor a response, there is no reason for them to raise exceptions if\nanything goes wrong.\n\nChange-Id: I22c7663cd59e7182ea065ed29af13036ead23bca\nCloses-Bug: #1371566\n'}, {'number': 4, 'created': '2014-11-22 15:43:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7009a859b3e3cb1e2256a8ff2abce4bd35d15192', 'message': 'Stop async conductor tasks from raising exceptions\n\nConductor API use cast or spawn_n to start async tasks such as\nrebuild_instance() and unshelve_instance(). Since no caller is waiting\nfor a response, there is no reason for them to raise exceptions if\nanything goes wrong.\n\nChange-Id: I22c7663cd59e7182ea065ed29af13036ead23bca\nCloses-Bug: #1371566\n'}, {'number': 5, 'created': '2014-12-08 19:50:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/53a391ad7581d98ec625722db0d43f3b2d814992', 'message': 'Stop async conductor tasks from raising exceptions\n\nConductor API use cast or spawn_n to start async tasks such as\nrebuild_instance() and unshelve_instance(). Since no caller is waiting\nfor a response, there is no reason for them to raise exceptions if\nanything goes wrong.\n\nChange-Id: I22c7663cd59e7182ea065ed29af13036ead23bca\nCloses-Bug: #1371566\n'}, {'number': 6, 'created': '2014-12-23 20:16:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bb8c47d75ed940b0852afbdd62bdf3cdf0cad11f', 'message': 'Stop async conductor tasks from raising exceptions\n\nConductor API use cast or spawn_n to start async tasks such as\nrebuild_instance() and unshelve_instance(). Since no caller is waiting\nfor a response, there is no reason for them to raise exceptions if\nanything goes wrong.\n\nChange-Id: I22c7663cd59e7182ea065ed29af13036ead23bca\nCloses-Bug: #1371566\n'}, {'number': 7, 'created': '2015-01-10 23:46:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3147cabab575c1009f2afff74c8078da3146b505', 'message': 'Stop async conductor tasks from raising exceptions\n\nConductor API use cast or spawn_n to start async tasks such as\nrebuild_instance() and unshelve_instance(). Since no caller is waiting\nfor a response, there is no reason for them to raise exceptions if\nanything goes wrong.\n\nChange-Id: I22c7663cd59e7182ea065ed29af13036ead23bca\nCloses-Bug: #1371566\n'}, {'number': 8, 'created': '2015-02-03 13:00:26.000000000', 'files': ['nova/exception.py', 'nova/tests/unit/conductor/test_conductor.py', 'nova/conductor/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/e8158600bbe016c4ffcb44ee91e73b4c54b45e00', 'message': 'Stop async conductor tasks from raising exceptions\n\nConductor API use cast or spawn_n to start async tasks such as\nrebuild_instance() and unshelve_instance(). Since no caller is waiting\nfor a response, there is no reason for them to raise exceptions if\nanything goes wrong.\n\nChange-Id: I22c7663cd59e7182ea065ed29af13036ead23bca\nCloses-Bug: #1371566\n'}]",3,122710,e8158600bbe016c4ffcb44ee91e73b4c54b45e00,79,18,8,6450,,,0,"Stop async conductor tasks from raising exceptions

Conductor API use cast or spawn_n to start async tasks such as
rebuild_instance() and unshelve_instance(). Since no caller is waiting
for a response, there is no reason for them to raise exceptions if
anything goes wrong.

Change-Id: I22c7663cd59e7182ea065ed29af13036ead23bca
Closes-Bug: #1371566
",git fetch https://review.opendev.org/openstack/nova refs/changes/10/122710/8 && git format-patch -1 --stdout FETCH_HEAD,"['nova/exception.py', 'nova/tests/conductor/test_conductor.py', 'nova/conductor/manager.py']",3,f4c0fbcefd8caa7b9a1daab11bcdd1e85d1f9213,bug/1371566," return self._set_vm_state_and_notify( context, 'rebuild_server', {'vm_state': instance.vm_state, 'task_state': None}, ex, request_spec) LOG.warning(_(""No valid host found for rebuild""), instance=instance) return"," raise exception.UnshelveException( instance_id=instance.uuid, reason=reason) with excutils.save_and_reraise_exception(): self._set_vm_state_and_notify(context, 'rebuild_server', {'vm_state': instance.vm_state, 'task_state': None}, ex, request_spec) LOG.warning(_(""No valid host found for rebuild""), instance=instance)",12,23
openstack%2Fnova~master~I4269a82ac4b6253b2101865fc44aa3a05ff3e563,openstack/nova,master,I4269a82ac4b6253b2101865fc44aa3a05ff3e563,Enhance the ComputeCapabilities filter,ABANDONED,2014-12-11 10:58:48.000000000,2015-05-13 17:20:03.000000000,,"[{'_account_id': 3}, {'_account_id': 1653}, {'_account_id': 1849}, {'_account_id': 4393}, {'_account_id': 5170}, {'_account_id': 7166}, {'_account_id': 8412}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 9820}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11278}, {'_account_id': 11297}]","[{'number': 1, 'created': '2014-12-11 10:58:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/49d5d9c3e4e96b41ee05411234b65ae93723fed3', 'message': 'Enhance the ComputeCapabilities filter\n\nThis commit is to enhance ComputeCapabilities filter to accept the\ncapabilities as list of values and to be able to select the node\nbased on the same.\n\nChange-Id: I4269a82ac4b6253b2101865fc44aa3a05ff3e563\nImplements: blueprint ironic-enhance-compute-capabilities\n'}, {'number': 2, 'created': '2014-12-11 12:43:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b1216e19bf0bd253db0a57c34e2ec4b21a618ed3', 'message': 'Enhance the ComputeCapabilities filter\n\nThis commit is to enhance ComputeCapabilities filter to accept the\ncapabilities as list of values and to be able to select the node\nbased on the same.\n\nChange-Id: I4269a82ac4b6253b2101865fc44aa3a05ff3e563\nImplements: blueprint ironic-enhance-compute-capabilities\n'}, {'number': 3, 'created': '2014-12-11 13:24:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1b2ad8de93e9845ee04c82946b7aa3592256e535', 'message': 'Enhance the ComputeCapabilities filter\n\nThis commit is to enhance ComputeCapabilities filter to accept the\ncapabilities as list of values and to be able to select the node\nbased on the same.\n\nChange-Id: I4269a82ac4b6253b2101865fc44aa3a05ff3e563\nImplements: blueprint ironic-enhance-compute-capabilities\n'}, {'number': 4, 'created': '2014-12-16 16:56:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b56f7b1c9d7f12a7317f20b2722f099b2b318184', 'message': 'Enhance the ComputeCapabilities filter\n\nThis commit is to enhance ComputeCapabilities filter to accept the\ncapabilities as list of values and to be able to select the node\nbased on the same.\n\nChange-Id: I4269a82ac4b6253b2101865fc44aa3a05ff3e563\nImplements: blueprint ironic-enhance-compute-capabilities\n'}, {'number': 5, 'created': '2014-12-16 20:35:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3ec8493cb589d2279e4665848eee0f292a81a059', 'message': 'Enhance the ComputeCapabilities filter\n\nThis commit is to enhance ComputeCapabilities filter to accept the\ncapabilities as list of values and to be able to select the node\nbased on the same.\n\nChange-Id: I4269a82ac4b6253b2101865fc44aa3a05ff3e563\nImplements: blueprint ironic-enhance-compute-capabilities\n'}, {'number': 6, 'created': '2014-12-23 05:31:39.000000000', 'files': ['nova/tests/unit/scheduler/filters/test_compute_capabilities_filters.py', 'nova/scheduler/filters/compute_capabilities_filter.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/d88514cf994e5c5760a1217bed0b2ace1c686b09', 'message': 'Enhance the ComputeCapabilities filter\n\nThis commit is to enhance ComputeCapabilities filter to accept the\ncapabilities as list of values and to be able to select the node\nbased on the same.\n\nChange-Id: I4269a82ac4b6253b2101865fc44aa3a05ff3e563\nImplements: blueprint ironic-enhance-compute-capabilities\n'}]",15,141010,d88514cf994e5c5760a1217bed0b2ace1c686b09,49,14,6,11278,,,0,"Enhance the ComputeCapabilities filter

This commit is to enhance ComputeCapabilities filter to accept the
capabilities as list of values and to be able to select the node
based on the same.

Change-Id: I4269a82ac4b6253b2101865fc44aa3a05ff3e563
Implements: blueprint ironic-enhance-compute-capabilities
",git fetch https://review.opendev.org/openstack/nova refs/changes/10/141010/6 && git format-patch -1 --stdout FETCH_HEAD,['nova/scheduler/filters/compute_capabilities_filter.py'],1,49d5d9c3e4e96b41ee05411234b65ae93723fed3,bp/ironic-enhance-compute-capabilities," scope = cap.split(' ') if len(scope) > 1: for index in range(0, len(scope)): if ((scope[index])== req): return True "" any in '%(cap)s'"", {'req': req, 'cap': cap})"," ""'%(cap)s'"", {'req': req, 'cap': cap})",7,1
openstack%2Fnova~master~I01272d8dbacf0fcb8e3bc19286645eb8e4c856c7,openstack/nova,master,I01272d8dbacf0fcb8e3bc19286645eb8e4c856c7,Libvirt: transition to pool backend on blk migrate,ABANDONED,2015-01-21 01:16:55.000000000,2015-05-13 17:20:02.000000000,,"[{'_account_id': 3}, {'_account_id': 782}, {'_account_id': 1849}, {'_account_id': 5170}, {'_account_id': 8871}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11103}]","[{'number': 1, 'created': '2015-01-21 01:16:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/171f885ab23bf21cfaf796c1bcd3bffc534fa438', 'message': 'Libvirt: transition to pool backend on blk migrate\n\nThis commit adds support for transitioning from legacy image backends\nto libvirt storage pools on live block migrations.\n\nUsing shared storage live migrations to transition is not currently\nsupported.\n\nImplements bp: use-libvirt-storage-pools\n\nChange-Id: I01272d8dbacf0fcb8e3bc19286645eb8e4c856c7\n'}, {'number': 2, 'created': '2015-01-21 17:00:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1f4145e963b67ea9f4ff1e7efdccf3f646f00038', 'message': 'Libvirt: transition to pool backend on blk migrate\n\nThis commit adds support for transitioning from legacy image backends\nto libvirt storage pools on live block migrations.\n\nUsing shared storage live migrations to transition is not currently\nsupported.\n\nImplements bp: use-libvirt-storage-pools\n\nChange-Id: I01272d8dbacf0fcb8e3bc19286645eb8e4c856c7\n'}, {'number': 3, 'created': '2015-01-21 18:42:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/85d375fe4f4e273725bbf297d77b483585afc83c', 'message': 'Libvirt: transition to pool backend on blk migrate\n\nThis commit adds support for transitioning from legacy image backends\nto libvirt storage pools on live block migrations.\n\nUsing shared storage live migrations to transition is not currently\nsupported.\n\nImplements bp: use-libvirt-storage-pools\n\nChange-Id: I01272d8dbacf0fcb8e3bc19286645eb8e4c856c7\n'}, {'number': 4, 'created': '2015-01-21 19:46:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/651219a1bfbd47566cfb63767e902bd0b7381c7a', 'message': 'Libvirt: transition to pool backend on blk migrate\n\nThis commit adds support for transitioning from legacy image backends\nto libvirt storage pools on live block migrations.\n\nUsing shared storage live migrations to transition is not currently\nsupported.\n\nImplements bp: use-libvirt-storage-pools\n\nChange-Id: I01272d8dbacf0fcb8e3bc19286645eb8e4c856c7\n'}, {'number': 5, 'created': '2015-01-21 20:39:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f87b977dad1bcfd42f8dec25473f45d0b807d436', 'message': 'Libvirt: transition to pool backend on blk migrate\n\nThis commit adds support for transitioning from legacy image backends\nto libvirt storage pools on live block migrations.\n\nUsing shared storage live migrations to transition is not currently\nsupported.\n\nImplements bp: use-libvirt-storage-pools\n\nChange-Id: I01272d8dbacf0fcb8e3bc19286645eb8e4c856c7\n'}, {'number': 6, 'created': '2015-01-21 21:20:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2ecfd1c66978ee692334b234c920a3d6007a01a6', 'message': 'Libvirt: transition to pool backend on blk migrate\n\nThis commit adds support for transitioning from legacy image backends\nto libvirt storage pools on live block migrations.\n\nUsing shared storage live migrations to transition is not currently\nsupported.\n\nImplements bp: use-libvirt-storage-pools\n\nChange-Id: I01272d8dbacf0fcb8e3bc19286645eb8e4c856c7\n'}, {'number': 7, 'created': '2015-01-22 22:30:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/25edd4c21a30a648519f3f0148a1d9834ae56cc5', 'message': 'Libvirt: transition to pool backend on blk migrate\n\nThis commit adds support for transitioning from legacy image backends\nto libvirt storage pools on live block migrations.\n\nUsing shared storage live migrations to transition is not currently\nsupported.\n\nImplements bp: use-libvirt-storage-pools\n\nChange-Id: I01272d8dbacf0fcb8e3bc19286645eb8e4c856c7\n'}, {'number': 8, 'created': '2015-02-03 00:02:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b803dbb81a172679ac293393647435a96f813042', 'message': 'Libvirt: transition to pool backend on blk migrate\n\nThis commit adds support for transitioning from legacy image backends\nto libvirt storage pools on live block migrations.\n\nUsing shared storage live migrations to transition is not currently\nsupported.\n\nImplements bp: use-libvirt-storage-pools\n\nChange-Id: I01272d8dbacf0fcb8e3bc19286645eb8e4c856c7\n'}, {'number': 9, 'created': '2015-02-05 20:49:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e15aec4401a4c05b2d5048c5dce51261d6caf4d4', 'message': 'Libvirt: transition to pool backend on blk migrate\n\nThis commit adds support for transitioning from legacy image backends\nto libvirt storage pools on live block migrations.\n\nUsing shared storage live migrations to transition is not currently\nsupported.\n\nImplements bp: use-libvirt-storage-pools\n\nChange-Id: I01272d8dbacf0fcb8e3bc19286645eb8e4c856c7\n'}, {'number': 10, 'created': '2015-02-05 22:06:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cd93266e32f1564be293cf06b6674bbefab3f45b', 'message': 'Libvirt: transition to pool backend on blk migrate\n\nThis commit adds support for transitioning from legacy image backends\nto libvirt storage pools on live block migrations.\n\nUsing shared storage live migrations to transition is not currently\nsupported.\n\nImplements bp: use-libvirt-storage-pools\n\nChange-Id: I01272d8dbacf0fcb8e3bc19286645eb8e4c856c7\n'}, {'number': 11, 'created': '2015-02-06 01:56:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ef273cdeb0a5916137d1908b51cdb4423d0f0573', 'message': 'Libvirt: transition to pool backend on blk migrate\n\nThis commit adds support for transitioning from legacy image backends\nto libvirt storage pools on live block migrations.\n\nUsing shared storage live migrations to transition is not currently\nsupported.\n\nImplements bp: use-libvirt-storage-pools\n\nChange-Id: I01272d8dbacf0fcb8e3bc19286645eb8e4c856c7\n'}, {'number': 12, 'created': '2015-02-06 15:39:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a2ad0d10f9a1f49bdae88918b1f4bb1da136e962', 'message': 'Libvirt: transition to pool backend on blk migrate\n\nThis commit adds support for transitioning from legacy image backends\nto libvirt storage pools on live block migrations.\n\nUsing shared storage live migrations to transition is not currently\nsupported.\n\nImplements bp: use-libvirt-storage-pools\n\nChange-Id: I01272d8dbacf0fcb8e3bc19286645eb8e4c856c7\n'}, {'number': 13, 'created': '2015-02-06 21:57:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7ad6e191ac7dcadf496131b81d8609e59d51ffd0', 'message': 'Libvirt: transition to pool backend on blk migrate\n\nThis commit adds support for transitioning from legacy image backends\nto libvirt storage pools on live block migrations.\n\nUsing shared storage live migrations to transition is not currently\nsupported.\n\nImplements bp: use-libvirt-storage-pools\n\nChange-Id: I01272d8dbacf0fcb8e3bc19286645eb8e4c856c7\n'}, {'number': 14, 'created': '2015-02-06 22:06:07.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/compute/manager.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/881c997f8285c7dc20d9f3673f8c1879c8ff85a9', 'message': 'Libvirt: transition to pool backend on blk migrate\n\nThis commit adds support for transitioning from legacy image backends\nto libvirt storage pools on live block migrations.\n\nUsing shared storage live migrations to transition is not currently\nsupported.\n\nImplements bp: use-libvirt-storage-pools\n\nChange-Id: I01272d8dbacf0fcb8e3bc19286645eb8e4c856c7\n'}]",0,148772,881c997f8285c7dc20d9f3673f8c1879c8ff85a9,71,9,14,7677,,,0,"Libvirt: transition to pool backend on blk migrate

This commit adds support for transitioning from legacy image backends
to libvirt storage pools on live block migrations.

Using shared storage live migrations to transition is not currently
supported.

Implements bp: use-libvirt-storage-pools

Change-Id: I01272d8dbacf0fcb8e3bc19286645eb8e4c856c7
",git fetch https://review.opendev.org/openstack/nova refs/changes/72/148772/11 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",2,171f885ab23bf21cfaf796c1bcd3bffc534fa438,bp/use-libvirt-storage-pools," instance_dir, disk_info, force_storage_pools=False):"," instance_dir, disk_info):",8,5
openstack%2Fnova~master~Ia2ff8fae61f18f185c28760392967d710cdd49b2,openstack/nova,master,Ia2ff8fae61f18f185c28760392967d710cdd49b2,add support libvirt sheepdog backed instances,ABANDONED,2015-01-21 09:09:11.000000000,2015-05-13 17:20:00.000000000,,"[{'_account_id': 3}, {'_account_id': 782}, {'_account_id': 1561}, {'_account_id': 1779}, {'_account_id': 1849}, {'_account_id': 5170}, {'_account_id': 6699}, {'_account_id': 9578}, {'_account_id': 10068}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14335}]","[{'number': 1, 'created': '2015-01-21 09:09:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/19bf1b78ff4bc28ab9d2cacd4efdf31616e59ac8', 'message': 'add support libvirt sheepdog backed instances\n\nthis patch add support libvirt sheepdog vdi as instance backend storage\n\nChange-Id: Ia2ff8fae61f18f185c28760392967d710cdd49b2\nImplements: blueprint libvirt-sheepdog-backed-instances\n'}, {'number': 2, 'created': '2015-01-21 11:50:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0672fca69e27ee92d3c4a9a30bf5b912627d53b1', 'message': 'add support libvirt sheepdog backed instances\n\nthis patch add support libvirt sheepdog vdi as instance backend storage\n\nChange-Id: Ia2ff8fae61f18f185c28760392967d710cdd49b2\nImplements: blueprint libvirt-sheepdog-backed-instances\n'}, {'number': 3, 'created': '2015-01-21 13:28:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cfcb841774fb0cf6375407d181bfca9a45cfe8f3', 'message': 'add support libvirt sheepdog backed instances\n\nthis patch add support libvirt sheepdog vdi as instance backend storage\n\nChange-Id: Ia2ff8fae61f18f185c28760392967d710cdd49b2\nImplements: blueprint libvirt-sheepdog-backed-instances\n'}, {'number': 4, 'created': '2015-01-21 15:12:59.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/virt/libvirt/sheepdog_utils.py', 'nova/virt/libvirt/imagebackend.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/deab559235a56e5b877f32aaf0ecca1754654eed', 'message': 'add support libvirt sheepdog backed instances\n\nthis patch add support libvirt sheepdog vdi as instance backend storage\n\nChange-Id: Ia2ff8fae61f18f185c28760392967d710cdd49b2\nImplements: blueprint libvirt-sheepdog-backed-instances\n'}]",0,148850,deab559235a56e5b877f32aaf0ecca1754654eed,26,12,4,14705,,,0,"add support libvirt sheepdog backed instances

this patch add support libvirt sheepdog vdi as instance backend storage

Change-Id: Ia2ff8fae61f18f185c28760392967d710cdd49b2
Implements: blueprint libvirt-sheepdog-backed-instances
",git fetch https://review.opendev.org/openstack/nova refs/changes/50/148850/3 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/virt/libvirt/sheepdog_utils.py', 'nova/virt/libvirt/imagebackend.py']",3,19bf1b78ff4bc28ab9d2cacd4efdf31616e59ac8,bp/libvirt-sheepdog-backed-instances,"from nova.virt.libvirt import rbd_utils, sheepdog_utilsclass Sheepdog(Image): SUPPORTS_CLONE = True def __init__(self, instance=None, disk_name=None, path=None, snapshot_name=None): super(Sheepdog, self).__init__(""block"", ""raw"", is_block_dev=True) self.sheepdog_prefix = CONF.sheepdog.sheepdog_instance_prefix self.driver = sheepdog_utils.SheepdogDriver() self.vdi_name = self.sheepdog_prefix + instance.uuid ## get from instance def _sheepdog_source_name(self): return ('%s:%s:%s' % (CONF.sheepdog.sheepdog_host, CONF.sheepdog.sheepdog_port, self.vdi_name)) def _sheepdog_path(self): return ('%s:%s' % ('sheepdog', self._sheepdog_source_name())) def libvirt_info(self, disk_bus, disk_dev, device_type, cache_mode, extra_specs, hypervisor_version): """"""Get `LibvirtConfigGuestDisk` filled for this image. :disk_dev: Disk bus device name :disk_bus: Disk bus type :device_type: Device type for this image. :cache_mode: Caching mode for this image :extra_specs: Instance type extra specs dict. """""" info = vconfig.LibvirtConfigGuestDisk() # see http://libvirt.org/formatdomain.html info.device_type = device_type info.driver_name = 'qemu' # would like to use passed cache_mode argument, but that # inherits from driver._supports_direct_io which checks the # local filesystem rather than sheepdog. info.driver_cache = 'writethrough' info.driver_io = 'threads' info.driver_ioeventfd = 'on' info.driver_event_idx = 'off' info.source_type = 'network' info.source_protocol = 'sheepdog' info.source_name = self._sheepdog_source_name() info.target_bus = disk_bus info.target_dev = disk_dev return info def check_image_exists(self): return self.driver.exists(self.vdi_name) def cache(self, fetch_func, filename, size=None, *args, **kwargs): self.create_image(fetch_func, None, size, *args, **kwargs) def _can_fallocate(self): return False def get_disk_size(self, vdi_name): """"""Returns the size of the virtual disk in bytes. """""" return self.driver.size(vdi_name) @staticmethod def is_shared_block_storage(): """"""True if the backend puts images on a shared block storage."""""" return True def clone(self, context, image_id): '''clone vdi from image vdi for instance :image_id: image for creating instance ''' if self.driver.exists(image_id): LOG.debug('clone vdi for instance %',self.vdi_name ) self.driver.snapshot(image_id, self.vdi_name + ""-tmp"") self.driver.clone(image_id, self.vdi_name + ""-tmp"", self.vdi_name) LOG.debug('clean snapshot %s',self.vdi_name + ""-tmp"") self.driver.delete(image_id,self.vdi_name+""-tmp"") def resize(self, vdi_name, size): '''resize vdi size :vdi_name: the vdi that should resize :size: total size vdi need ''' LOG.debug(""Resizing %s to %s"" % (vdi_name, size)) self.driver.resize(vdi_name, size) def create_image(self, prepare_template, base, size, *args, **kwargs): '''creating vdi for instance ''' LOG.debug(""Creating image"") if not self.check_image_exists(): prepare_template(target=base, max_size=size, *args, **kwargs) else: self.verify_base_size(base, size) # prepare_template() may have cloned the image into a new vdi # image already instead of downloading it locally if size and size > self.get_disk_size(self.vdi_name): self.resize(self.vdi_name, size) def shanpshot_create(self): pass def snapshot_extract(self): pass def snapshot_delete(self): pass 'sheepdog': Sheepdog,",from nova.virt.libvirt import rbd_utils,266,2
openstack%2Fnova~master~I17f838e1d3c7ee43dc50fc098fc12e2fe9e75b1c,openstack/nova,master,I17f838e1d3c7ee43dc50fc098fc12e2fe9e75b1c,Libvirt: transition to pool backend on reboot,ABANDONED,2015-01-21 01:16:55.000000000,2015-05-13 17:19:59.000000000,,"[{'_account_id': 3}, {'_account_id': 782}, {'_account_id': 1849}, {'_account_id': 5170}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11103}]","[{'number': 1, 'created': '2015-01-21 01:16:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/72b87e38ba62a8b2061da6e52da0c3361b642e66', 'message': 'Libvirt: transition to pool backend on reboot\n\nThis commit adds support for transitioning from legacy image backends\nto libvirt storage pools on reboots (both soft and hard).\n\nImplements bp: use-libvirt-storage-pools\n\nChange-Id: I17f838e1d3c7ee43dc50fc098fc12e2fe9e75b1c\n'}, {'number': 2, 'created': '2015-01-21 17:00:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6acbb8bf804e5e61d30cf81d0a9de1fbfb10cf1b', 'message': 'Libvirt: transition to pool backend on reboot\n\nThis commit adds support for transitioning from legacy image backends\nto libvirt storage pools on reboots (both soft and hard).\n\nImplements bp: use-libvirt-storage-pools\n\nChange-Id: I17f838e1d3c7ee43dc50fc098fc12e2fe9e75b1c\n'}, {'number': 3, 'created': '2015-01-21 18:42:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/29b93378a3ddc1e1776dbc3bc77fb7f2af5417c9', 'message': 'Libvirt: transition to pool backend on reboot\n\nThis commit adds support for transitioning from legacy image backends\nto libvirt storage pools on reboots (both soft and hard).\n\nImplements bp: use-libvirt-storage-pools\n\nChange-Id: I17f838e1d3c7ee43dc50fc098fc12e2fe9e75b1c\n'}, {'number': 4, 'created': '2015-01-21 19:46:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f2eeda055f4ccb485b8964cb310e77bdeacbe8d4', 'message': 'Libvirt: transition to pool backend on reboot\n\nThis commit adds support for transitioning from legacy image backends\nto libvirt storage pools on reboots (both soft and hard).\n\nImplements bp: use-libvirt-storage-pools\n\nChange-Id: I17f838e1d3c7ee43dc50fc098fc12e2fe9e75b1c\n'}, {'number': 5, 'created': '2015-01-21 20:39:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7f0e710fe484cc4eabc5560246f2b3a8c2e05826', 'message': 'Libvirt: transition to pool backend on reboot\n\nThis commit adds support for transitioning from legacy image backends\nto libvirt storage pools on reboots (both soft and hard).\n\nImplements bp: use-libvirt-storage-pools\n\nChange-Id: I17f838e1d3c7ee43dc50fc098fc12e2fe9e75b1c\n'}, {'number': 6, 'created': '2015-01-21 21:20:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d819a074ffc470ffc1974537190993732ce6a5bd', 'message': 'Libvirt: transition to pool backend on reboot\n\nThis commit adds support for transitioning from legacy image backends\nto libvirt storage pools on reboots (both soft and hard).\n\nImplements bp: use-libvirt-storage-pools\n\nChange-Id: I17f838e1d3c7ee43dc50fc098fc12e2fe9e75b1c\n'}, {'number': 7, 'created': '2015-01-22 22:30:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/aaa84dcaa48d95a4c42b03be06a24067a8fc5ba7', 'message': 'Libvirt: transition to pool backend on reboot\n\nThis commit adds support for transitioning from legacy image backends\nto libvirt storage pools on reboots (both soft and hard).\n\nImplements bp: use-libvirt-storage-pools\n\nChange-Id: I17f838e1d3c7ee43dc50fc098fc12e2fe9e75b1c\n'}, {'number': 8, 'created': '2015-02-03 00:02:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7f9590d7eace41aeff7da5d0e6b4a7c8ba61f2c3', 'message': 'Libvirt: transition to pool backend on reboot\n\nThis commit adds support for transitioning from legacy image backends\nto libvirt storage pools on reboots (both soft and hard).\n\nImplements bp: use-libvirt-storage-pools\n\nChange-Id: I17f838e1d3c7ee43dc50fc098fc12e2fe9e75b1c\n'}, {'number': 9, 'created': '2015-02-05 20:49:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7df4e03982305530dfaa05eed2ea8f88d1cd3fbb', 'message': 'Libvirt: transition to pool backend on reboot\n\nThis commit adds support for transitioning from legacy image backends\nto libvirt storage pools on reboots (both soft and hard).\n\nImplements bp: use-libvirt-storage-pools\n\nChange-Id: I17f838e1d3c7ee43dc50fc098fc12e2fe9e75b1c\n'}, {'number': 10, 'created': '2015-02-05 22:06:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/02cded193923f08c98c75be5003fd1a9b913565e', 'message': 'Libvirt: transition to pool backend on reboot\n\nThis commit adds support for transitioning from legacy image backends\nto libvirt storage pools on reboots (both soft and hard).\n\nImplements bp: use-libvirt-storage-pools\n\nChange-Id: I17f838e1d3c7ee43dc50fc098fc12e2fe9e75b1c\n'}, {'number': 11, 'created': '2015-02-06 01:56:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f2dd258ffc190b64498445dfed7d42c10361a386', 'message': 'Libvirt: transition to pool backend on reboot\n\nThis commit adds support for transitioning from legacy image backends\nto libvirt storage pools on reboots (both soft and hard).\n\nImplements bp: use-libvirt-storage-pools\n\nChange-Id: I17f838e1d3c7ee43dc50fc098fc12e2fe9e75b1c\n'}, {'number': 12, 'created': '2015-02-06 15:39:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1b042a9519ac916c0ce4a75b408fdd70ad7844bc', 'message': 'Libvirt: transition to pool backend on reboot\n\nThis commit adds support for transitioning from legacy image backends\nto libvirt storage pools on reboots (both soft and hard).\n\nImplements bp: use-libvirt-storage-pools\n\nChange-Id: I17f838e1d3c7ee43dc50fc098fc12e2fe9e75b1c\n'}, {'number': 13, 'created': '2015-02-06 21:57:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7adcd7a9a0a9111e1c95a52b92a2387adaf8a26a', 'message': 'Libvirt: transition to pool backend on reboot\n\nThis commit adds support for transitioning from legacy image backends\nto libvirt storage pools on reboots (both soft and hard).\n\nImplements bp: use-libvirt-storage-pools\n\nChange-Id: I17f838e1d3c7ee43dc50fc098fc12e2fe9e75b1c\n'}, {'number': 14, 'created': '2015-02-06 22:06:07.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/virt/libvirt/imagebackend.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/6448cbbc8042915df74cde9e2a536cf4c11d26c4', 'message': 'Libvirt: transition to pool backend on reboot\n\nThis commit adds support for transitioning from legacy image backends\nto libvirt storage pools on reboots (both soft and hard).\n\nImplements bp: use-libvirt-storage-pools\n\nChange-Id: I17f838e1d3c7ee43dc50fc098fc12e2fe9e75b1c\n'}]",0,148771,6448cbbc8042915df74cde9e2a536cf4c11d26c4,68,8,14,7677,,,0,"Libvirt: transition to pool backend on reboot

This commit adds support for transitioning from legacy image backends
to libvirt storage pools on reboots (both soft and hard).

Implements bp: use-libvirt-storage-pools

Change-Id: I17f838e1d3c7ee43dc50fc098fc12e2fe9e75b1c
",git fetch https://review.opendev.org/openstack/nova refs/changes/71/148771/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/virt/libvirt/imagebackend.py']",2,72b87e38ba62a8b2061da6e52da0c3361b642e66,bp/use-libvirt-storage-pools," # TODO(sross): does the use of createXMLFrom represent a security risk in # the following scenario: user overwrites a raw disk to look # like qcow2 from the inside. At this point, libvirt still # sees it as raw. The storage pool is now refreshed some # how (reboot, etc), at which point the volume is now detected # as being a qcow2 volume (due to the way libvirt works). # We now call createXMLFrom to copy the volume, resulting # in libvirt reading whatever the backing store points # to for us.",,99,28
openstack%2Fnova~master~Ie03593a8f28e5b7b5292a3f2190992eb443cb313,openstack/nova,master,Ie03593a8f28e5b7b5292a3f2190992eb443cb313,Libvirt: transition to pool backend on migrate,ABANDONED,2015-01-21 01:16:55.000000000,2015-05-13 17:19:58.000000000,,"[{'_account_id': 3}, {'_account_id': 782}, {'_account_id': 1849}, {'_account_id': 5170}, {'_account_id': 8412}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11103}]","[{'number': 1, 'created': '2015-01-21 01:16:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/335b704a2577e84a7e04ec2a501c068d6809d413', 'message': 'Libvirt: transition to pool backend on migrate\n\nThis commit adds support for transitioning from legacy image backends\nto libvirt storage pools on the cold migrations and resizes.\n\nImplements bp: use-libvirt-storage-pools\n\nChange-Id: Ie03593a8f28e5b7b5292a3f2190992eb443cb313\n'}, {'number': 2, 'created': '2015-01-21 17:00:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cc07e8d9957130a2bc7d6f3be370652c9836189f', 'message': 'Libvirt: transition to pool backend on migrate\n\nThis commit adds support for transitioning from legacy image backends\nto libvirt storage pools on the cold migrations and resizes.\n\nImplements bp: use-libvirt-storage-pools\n\nChange-Id: Ie03593a8f28e5b7b5292a3f2190992eb443cb313\n'}, {'number': 3, 'created': '2015-01-21 18:42:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1a641598303e0b9e49ed5189e3a33f8b5e1e8cb6', 'message': 'Libvirt: transition to pool backend on migrate\n\nThis commit adds support for transitioning from legacy image backends\nto libvirt storage pools on the cold migrations and resizes.\n\nImplements bp: use-libvirt-storage-pools\n\nChange-Id: Ie03593a8f28e5b7b5292a3f2190992eb443cb313\n'}, {'number': 4, 'created': '2015-01-21 19:46:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/dcf4d96115de9f27121a2e5eecd4aa0f6096423e', 'message': 'Libvirt: transition to pool backend on migrate\n\nThis commit adds support for transitioning from legacy image backends\nto libvirt storage pools on the cold migrations and resizes.\n\nImplements bp: use-libvirt-storage-pools\n\nChange-Id: Ie03593a8f28e5b7b5292a3f2190992eb443cb313\n'}, {'number': 5, 'created': '2015-01-21 20:39:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/70bcc4f2bbd8922a3912149d6884ffce23ec3ff4', 'message': 'Libvirt: transition to pool backend on migrate\n\nThis commit adds support for transitioning from legacy image backends\nto libvirt storage pools on the cold migrations and resizes.\n\nImplements bp: use-libvirt-storage-pools\n\nChange-Id: Ie03593a8f28e5b7b5292a3f2190992eb443cb313\n'}, {'number': 6, 'created': '2015-01-21 21:20:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/932f0d18e84a4fe031c81a69863988b93ac0fa73', 'message': 'Libvirt: transition to pool backend on migrate\n\nThis commit adds support for transitioning from legacy image backends\nto libvirt storage pools on the cold migrations and resizes.\n\nImplements bp: use-libvirt-storage-pools\n\nChange-Id: Ie03593a8f28e5b7b5292a3f2190992eb443cb313\n'}, {'number': 7, 'created': '2015-01-22 22:30:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6cbcd425e327c220a8ee507e6cf25f112762e9f2', 'message': 'Libvirt: transition to pool backend on migrate\n\nThis commit adds support for transitioning from legacy image backends\nto libvirt storage pools on the cold migrations and resizes.\n\nImplements bp: use-libvirt-storage-pools\n\nChange-Id: Ie03593a8f28e5b7b5292a3f2190992eb443cb313\n'}, {'number': 8, 'created': '2015-02-03 00:02:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/06f29337023e974a9bb0b8fc2b3e683ffff87018', 'message': 'Libvirt: transition to pool backend on migrate\n\nThis commit adds support for transitioning from legacy image backends\nto libvirt storage pools on the cold migrations and resizes.\n\nImplements bp: use-libvirt-storage-pools\n\nChange-Id: Ie03593a8f28e5b7b5292a3f2190992eb443cb313\n'}, {'number': 9, 'created': '2015-02-05 20:49:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/92258df01fa63bbc42cd105b5084ff6779ff674b', 'message': 'Libvirt: transition to pool backend on migrate\n\nThis commit adds support for transitioning from legacy image backends\nto libvirt storage pools on the cold migrations and resizes.\n\nImplements bp: use-libvirt-storage-pools\n\nChange-Id: Ie03593a8f28e5b7b5292a3f2190992eb443cb313\n'}, {'number': 10, 'created': '2015-02-05 22:06:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4558fbd343060241a9b7a5fefa06812339eccf50', 'message': 'Libvirt: transition to pool backend on migrate\n\nThis commit adds support for transitioning from legacy image backends\nto libvirt storage pools on the cold migrations and resizes.\n\nImplements bp: use-libvirt-storage-pools\n\nChange-Id: Ie03593a8f28e5b7b5292a3f2190992eb443cb313\n'}, {'number': 11, 'created': '2015-02-06 01:56:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f222014424cd1c0b59300de1e826b1aa9cea5082', 'message': 'Libvirt: transition to pool backend on migrate\n\nThis commit adds support for transitioning from legacy image backends\nto libvirt storage pools on the cold migrations and resizes.\n\nImplements bp: use-libvirt-storage-pools\n\nChange-Id: Ie03593a8f28e5b7b5292a3f2190992eb443cb313\n'}, {'number': 12, 'created': '2015-02-06 15:39:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8e52cbd5f890b3c672af027fcce48c597e082845', 'message': 'Libvirt: transition to pool backend on migrate\n\nThis commit adds support for transitioning from legacy image backends\nto libvirt storage pools on the cold migrations and resizes.\n\nImplements bp: use-libvirt-storage-pools\n\nChange-Id: Ie03593a8f28e5b7b5292a3f2190992eb443cb313\n'}, {'number': 13, 'created': '2015-02-06 21:57:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f9bd4ded2a8503d0da4a89e96f2fda81c313ccfd', 'message': 'Libvirt: transition to pool backend on migrate\n\nThis commit adds support for transitioning from legacy image backends\nto libvirt storage pools on the cold migrations and resizes.\n\nImplements bp: use-libvirt-storage-pools\n\nChange-Id: Ie03593a8f28e5b7b5292a3f2190992eb443cb313\n'}, {'number': 14, 'created': '2015-02-06 22:06:07.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/virt/libvirt/config.py', 'nova/tests/unit/virt/libvirt/fakelibvirt.py', 'nova/tests/unit/virt/libvirt/test_config.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/13e0cb9b3a0a06e8d8c9da5d39fc77c5bf203586', 'message': 'Libvirt: transition to pool backend on migrate\n\nThis commit adds support for transitioning from legacy image backends\nto libvirt storage pools on the cold migrations and resizes.\n\nImplements bp: use-libvirt-storage-pools\n\nChange-Id: Ie03593a8f28e5b7b5292a3f2190992eb443cb313\n'}]",0,148770,13e0cb9b3a0a06e8d8c9da5d39fc77c5bf203586,72,9,14,7677,,,0,"Libvirt: transition to pool backend on migrate

This commit adds support for transitioning from legacy image backends
to libvirt storage pools on the cold migrations and resizes.

Implements bp: use-libvirt-storage-pools

Change-Id: Ie03593a8f28e5b7b5292a3f2190992eb443cb313
",git fetch https://review.opendev.org/openstack/nova refs/changes/70/148770/14 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/virt/libvirt/config.py']",2,335b704a2577e84a7e04ec2a501c068d6809d413,bp/use-libvirt-storage-pools," self.uses_storage_pools = False meta.append(self._text_node('uses-storage-pools', self.uses_storage_pools)) ",,58,11
openstack%2Fnova~master~Ibd696fbcb55e9c39a0fb6dcfd72b479422b8eb9e,openstack/nova,master,Ibd696fbcb55e9c39a0fb6dcfd72b479422b8eb9e,Allocate 2 neutron ports to different PFs,ABANDONED,2015-01-23 12:45:28.000000000,2015-05-13 17:19:56.000000000,,"[{'_account_id': 3}, {'_account_id': 782}, {'_account_id': 1849}, {'_account_id': 5170}, {'_account_id': 5638}, {'_account_id': 5754}, {'_account_id': 6681}, {'_account_id': 6873}, {'_account_id': 7535}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11103}, {'_account_id': 11647}, {'_account_id': 12065}, {'_account_id': 12171}]","[{'number': 1, 'created': '2015-01-23 12:45:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a7baec5bbef00f639ac62dc04e4ffeda6c34a143', 'message': ""Allocate 2 neutron ports to different PFs\n\nIf 2 neutron ports for same instance belongs to one device_group\nthey would scheduled to different PFs. Extend pci device spec to\nknow about 'dev_group' and 'forbidden_ips'.\nChange in nova.pci.devspec was done to follow 'phys_function' to\nnova.pci.utils.pci_device_prop_match()\n\nPart of bp: libvirt-sriov-nic-bonding\n\nChange-Id: Ibd696fbcb55e9c39a0fb6dcfd72b479422b8eb9e\n""}, {'number': 2, 'created': '2015-01-23 14:13:04.000000000', 'files': ['nova/tests/unit/pci/test_stats.py', 'nova/tests/unit/network/test_neutronv2.py', 'nova/network/neutronv2/api.py', 'nova/pci/devspec.py', 'nova/pci/utils.py', 'nova/tests/unit/pci/test_utils.py', 'nova/pci/stats.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/18161437591f56e4e0a72ce326986bd438c181b7', 'message': ""Allocate 2 neutron ports to different PFs\n\nIf 2 neutron ports for same instance belongs to one device_group\nthey would scheduled to different PFs. Extend pci device spec to\nknow about 'dev_group' and 'forbidden_fps'.\nChange in nova.pci.devspec was done to follow 'phys_function' to\nnova.pci.utils.pci_device_prop_match()\n\nPart of bp: libvirt-sriov-nic-bonding\n\nChange-Id: Ibd696fbcb55e9c39a0fb6dcfd72b479422b8eb9e\n""}]",4,149605,18161437591f56e4e0a72ce326986bd438c181b7,23,16,2,7535,,,0,"Allocate 2 neutron ports to different PFs

If 2 neutron ports for same instance belongs to one device_group
they would scheduled to different PFs. Extend pci device spec to
know about 'dev_group' and 'forbidden_fps'.
Change in nova.pci.devspec was done to follow 'phys_function' to
nova.pci.utils.pci_device_prop_match()

Part of bp: libvirt-sriov-nic-bonding

Change-Id: Ibd696fbcb55e9c39a0fb6dcfd72b479422b8eb9e
",git fetch https://review.opendev.org/openstack/nova refs/changes/05/149605/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/pci/test_stats.py', 'nova/network/neutronv2/api.py', 'nova/tests/unit/network/test_neutronv2.py', 'nova/pci/devspec.py', 'nova/pci/utils.py', 'nova/tests/unit/pci/test_utils.py', 'nova/pci/stats.py']",7,a7baec5bbef00f639ac62dc04e4ffeda6c34a143,bp/libvirt-sriov-nic-bonding," forbidden = {} for elem in spec: if (elem.get('dev_group') and elem['dev_group'] in forbidden): elem['forbidden_pfs'] = forbidden[elem['dev_group']] for elem in spec: forbidden.setdefault(elem.get('dev_group'), []).append( pool.get('physical_function'))",,115,14
openstack%2Fnova~master~I24d77734239557ee9ea8cfd77690b3fbc28542f4,openstack/nova,master,I24d77734239557ee9ea8cfd77690b3fbc28542f4,Scheduler support for neutron ports' dev_group,ABANDONED,2015-02-10 08:45:52.000000000,2015-05-13 17:19:55.000000000,,"[{'_account_id': 3}, {'_account_id': 782}, {'_account_id': 1849}, {'_account_id': 5170}, {'_account_id': 5754}, {'_account_id': 6509}, {'_account_id': 7535}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11103}, {'_account_id': 11647}]","[{'number': 1, 'created': '2015-02-10 08:45:52.000000000', 'files': ['nova/objects/pci_device.py', 'nova/tests/unit/pci/test_stats.py', 'nova/pci/stats.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/57e49dad3f7694c179b4d6ab8b02ae4da1705990', 'message': ""Scheduler support for neutron ports' dev_group\n\nMake PciDeviceStats.suport_requests method, that is used by\nscheduler to determine if a host could meet the PCI requests\nrequirements, respect Neutron's port 'dev_group' attribute\nthat requires VFs for neutron ports corresponding to the same\ndevice group to be placed on different PFs.\n\nAlso, update objects.PciDevice.create() method not to strip\nadditional information from the device, such as 'extra_info',\nthat contains an address of the physical function and we need that\nfor unit tests.\n\nPart of bp: libvirt-sriov-nic-bonding\n\nChange-Id: I24d77734239557ee9ea8cfd77690b3fbc28542f4\n""}]",0,154380,57e49dad3f7694c179b4d6ab8b02ae4da1705990,12,12,1,7535,,,0,"Scheduler support for neutron ports' dev_group

Make PciDeviceStats.suport_requests method, that is used by
scheduler to determine if a host could meet the PCI requests
requirements, respect Neutron's port 'dev_group' attribute
that requires VFs for neutron ports corresponding to the same
device group to be placed on different PFs.

Also, update objects.PciDevice.create() method not to strip
additional information from the device, such as 'extra_info',
that contains an address of the physical function and we need that
for unit tests.

Part of bp: libvirt-sriov-nic-bonding

Change-Id: I24d77734239557ee9ea8cfd77690b3fbc28542f4
",git fetch https://review.opendev.org/openstack/nova refs/changes/80/154380/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/objects/pci_device.py', 'nova/tests/unit/pci/test_stats.py', 'nova/pci/stats.py']",3,57e49dad3f7694c179b4d6ab8b02ae4da1705990,bp/libvirt-sriov-nic-bonding," def _apply_request_pools(self, pools, request): return [] return matching_pools def _apply_request(self, pools, request): return len(self._apply_request_pools(pools, request)) > 0 def support_requests(self, pci_requests, dry_run=True): if dry_run: pools = copy.deepcopy(self.pools) else: pools = self.pools requests = copy.deepcopy(pci_requests) forbidden = {} for request in requests: for spec in request.spec: dev_group = spec.get('dev_group') if dev_group and dev_group in forbidden: if ('forbidden_pfs' in spec and spec['forbidden_pfs'] is not None): spec['forbidden_pfs'].extend(forbidden[dev_group]) else: spec['forbidden_pfs'] = forbidden[dev_group] matched_pools = self._apply_request_pools(pools, request) if len(matched_pools) < 1: return False phys_dev = matched_pools[0].get('physical_function') if phys_dev: for spec in request.spec: if spec['dev_group'] not in forbidden: forbidden[spec['dev_group']] = [] if phys_dev not in forbidden[spec['dev_group']]: forbidden[spec['dev_group']].append(phys_dev) return True if not self.support_requests(requests, dry_run=False):"," def _apply_request(self, pools, request): return False return True def support_requests(self, requests): pools = copy.deepcopy(self.pools) return all([self._apply_request(pools, r) for r in requests]) if not all([self._apply_request(self.pools, r) for r in requests]):",112,12
openstack%2Fnova~master~Id8f8fce184cd78d5cb03b586e715634265ec6803,openstack/nova,master,Id8f8fce184cd78d5cb03b586e715634265ec6803,Libvirt: Make ImageCacheManager use a Storage Pool,ABANDONED,2014-08-09 03:56:45.000000000,2015-05-13 17:19:52.000000000,,"[{'_account_id': 3}, {'_account_id': 782}, {'_account_id': 1653}, {'_account_id': 1779}, {'_account_id': 1849}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 7677}, {'_account_id': 7730}, {'_account_id': 7746}, {'_account_id': 8412}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11103}]","[{'number': 1, 'created': '2014-08-09 03:56:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3da16c4b6bd6379c2df53c15fce17ae6cba9d250', 'message': ""Make Libvirt ImageCacheManager use a Storage Pool\n\nThis commit changes the libvirt driver's ImageCacheManager to\nuse a libvirt storage pool and the related APIs to manage the\nimage cache.  This paves the way for a libvirt-storage-pool-based\nimage backend, as libvirt will properly copy and convert images\nwhen copying between storage pools.\n\nImplements bp: use-libvirt-storage-pools\n\nChange-Id: Id8f8fce184cd78d5cb03b586e715634265ec6803\n""}, {'number': 2, 'created': '2014-08-10 17:48:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/10637eb9e53c1e953c8c2ba4622847b0b3972950', 'message': ""Make Libvirt ImageCacheManager use a Storage Pool\n\nThis commit changes the libvirt driver's ImageCacheManager to\nuse a libvirt storage pool and the related APIs to manage the\nimage cache.  This paves the way for a libvirt-storage-pool-based\nimage backend, as libvirt will properly copy and convert images\nwhen copying between storage pools.\n\nImplements bp: use-libvirt-storage-pools\n\nChange-Id: Id8f8fce184cd78d5cb03b586e715634265ec6803\n""}, {'number': 3, 'created': '2014-08-10 18:42:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/055bcb0b6128827ee9dc1830df24a18b3fe33d62', 'message': ""Make Libvirt ImageCacheManager use a Storage Pool\n\nThis commit changes the libvirt driver's ImageCacheManager to\nuse a libvirt storage pool and the related APIs to manage the\nimage cache.  This paves the way for a libvirt-storage-pool-based\nimage backend, as libvirt will properly copy and convert images\nwhen copying between storage pools.\n\nImplements bp: use-libvirt-storage-pools\n\nChange-Id: Id8f8fce184cd78d5cb03b586e715634265ec6803\n""}, {'number': 4, 'created': '2014-08-19 17:32:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4628be9543d731b038c3d5385dfe72426f1ec56b', 'message': ""Make Libvirt ImageCacheManager use a Storage Pool\n\nThis commit changes the libvirt driver's ImageCacheManager to\nuse a libvirt storage pool and the related APIs to manage the\nimage cache.  This paves the way for a libvirt-storage-pool-based\nimage backend, as libvirt will properly copy and convert images\nwhen copying between storage pools.\n\nImplements bp: use-libvirt-storage-pools\n\nChange-Id: Id8f8fce184cd78d5cb03b586e715634265ec6803\n""}, {'number': 5, 'created': '2014-08-20 18:47:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/41560c11f172b93198bbc981f8a752e7b8fb7f71', 'message': ""Make Libvirt ImageCacheManager use a Storage Pool\n\nThis commit changes the libvirt driver's ImageCacheManager to\nuse a libvirt storage pool and the related APIs to manage the\nimage cache.  This paves the way for a libvirt-storage-pool-based\nimage backend, as libvirt will properly copy and convert images\nwhen copying between storage pools.\n\nImplements bp: use-libvirt-storage-pools\n\nChange-Id: Id8f8fce184cd78d5cb03b586e715634265ec6803\n""}, {'number': 6, 'created': '2014-08-20 22:54:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/154aff71b0f969b461b58c3f8d9cf09b410414c5', 'message': ""Make Libvirt ImageCacheManager use a Storage Pool\n\nThis commit changes the libvirt driver's ImageCacheManager to\nuse a libvirt storage pool and the related APIs to manage the\nimage cache.  This paves the way for a libvirt-storage-pool-based\nimage backend, as libvirt will properly copy and convert images\nwhen copying between storage pools.\n\nImplements bp: use-libvirt-storage-pools\n\nChange-Id: Id8f8fce184cd78d5cb03b586e715634265ec6803\n""}, {'number': 7, 'created': '2014-08-21 17:34:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7caa35ceaa6f1261f28c90daa1c950897f66103f', 'message': ""Make Libvirt ImageCacheManager use a Storage Pool\n\nThis commit changes the libvirt driver's ImageCacheManager to\nuse a libvirt storage pool and the related APIs to manage the\nimage cache.  This paves the way for a libvirt-storage-pool-based\nimage backend, as libvirt will properly copy and convert images\nwhen copying between storage pools.\n\nImplements bp: use-libvirt-storage-pools\n\nChange-Id: Id8f8fce184cd78d5cb03b586e715634265ec6803\n""}, {'number': 8, 'created': '2014-08-22 17:35:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/22b18228be4b8696a57504f8897fdff21632fc84', 'message': ""Make Libvirt ImageCacheManager use a Storage Pool\n\nThis commit changes the libvirt driver's ImageCacheManager to\nuse a libvirt storage pool and the related APIs to manage the\nimage cache.  This paves the way for a libvirt-storage-pool-based\nimage backend, as libvirt will properly copy and convert images\nwhen copying between storage pools.\n\nImplements bp: use-libvirt-storage-pools\n\nChange-Id: Id8f8fce184cd78d5cb03b586e715634265ec6803\n""}, {'number': 9, 'created': '2014-08-23 01:42:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ca866b82cf1a4f879cf86b1505b9c51605f833e2', 'message': ""Make Libvirt ImageCacheManager use a Storage Pool\n\nThis commit changes the libvirt driver's ImageCacheManager to\nuse a libvirt storage pool and the related APIs to manage the\nimage cache.  This paves the way for a libvirt-storage-pool-based\nimage backend, as libvirt will properly copy and convert images\nwhen copying between storage pools.\n\nImplements bp: use-libvirt-storage-pools\n\nChange-Id: Id8f8fce184cd78d5cb03b586e715634265ec6803\n""}, {'number': 10, 'created': '2014-08-25 15:30:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/96e205fb94a3ab43a299a21c5f220f335b620a1e', 'message': ""Make Libvirt ImageCacheManager use a Storage Pool\n\nThis commit changes the libvirt driver's ImageCacheManager to\nuse a libvirt storage pool and the related APIs to manage the\nimage cache.  This paves the way for a libvirt-storage-pool-based\nimage backend, as libvirt will properly copy and convert images\nwhen copying between storage pools.\n\nImplements bp: use-libvirt-storage-pools\n\nChange-Id: Id8f8fce184cd78d5cb03b586e715634265ec6803\n""}, {'number': 11, 'created': '2014-08-25 17:23:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/376618d498c436809ef3c91a5336af3b2b570bf2', 'message': ""Make Libvirt ImageCacheManager use a Storage Pool\n\nThis commit changes the libvirt driver's ImageCacheManager to\nuse a libvirt storage pool and the related APIs to manage the\nimage cache.  This paves the way for a libvirt-storage-pool-based\nimage backend, as libvirt will properly copy and convert images\nwhen copying between storage pools.\n\nImplements bp: use-libvirt-storage-pools\n\nChange-Id: Id8f8fce184cd78d5cb03b586e715634265ec6803\n""}, {'number': 12, 'created': '2014-08-26 18:32:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f17c52b3b65f32911f8a28316ac37658b112c436', 'message': ""Make Libvirt ImageCacheManager use a Storage Pool\n\nThis commit changes the libvirt driver's ImageCacheManager to\nuse a libvirt storage pool and the related APIs to manage the\nimage cache.  This paves the way for a libvirt-storage-pool-based\nimage backend, as libvirt will properly copy and convert images\nwhen copying between storage pools.\n\nImplements bp: use-libvirt-storage-pools\n\nChange-Id: Id8f8fce184cd78d5cb03b586e715634265ec6803\n""}, {'number': 13, 'created': '2014-08-28 18:14:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/86247d416c877c2874b2327f6623f016a0e42018', 'message': ""Make Libvirt ImageCacheManager use a Storage Pool\n\nThis commit changes the libvirt driver's ImageCacheManager to\nuse a libvirt storage pool and the related APIs to manage the\nimage cache.  This paves the way for a libvirt-storage-pool-based\nimage backend, as libvirt will properly copy and convert images\nwhen copying between storage pools.\n\nImplements bp: use-libvirt-storage-pools\n\nChange-Id: Id8f8fce184cd78d5cb03b586e715634265ec6803\n""}, {'number': 14, 'created': '2014-09-02 04:32:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cd8a4c5e49dcfd9dc5c3037cff2a3fc10821e590', 'message': ""Make Libvirt ImageCacheManager use a Storage Pool\n\nThis commit changes the libvirt driver's ImageCacheManager to\nuse a libvirt storage pool and the related APIs to manage the\nimage cache.  This paves the way for a libvirt-storage-pool-based\nimage backend, as libvirt will properly copy and convert images\nwhen copying between storage pools.\n\nImplements bp: use-libvirt-storage-pools\n\nChange-Id: Id8f8fce184cd78d5cb03b586e715634265ec6803\n""}, {'number': 15, 'created': '2014-09-02 15:37:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8e43c2a2c0e2ede6d2e3f88988de79bf0aa005f5', 'message': ""Make Libvirt ImageCacheManager use a Storage Pool\n\nThis commit changes the libvirt driver's ImageCacheManager to\nuse a libvirt storage pool and the related APIs to manage the\nimage cache.  This paves the way for a libvirt-storage-pool-based\nimage backend, as libvirt will properly copy and convert images\nwhen copying between storage pools.\n\nImplements bp: use-libvirt-storage-pools\n\nChange-Id: Id8f8fce184cd78d5cb03b586e715634265ec6803\n""}, {'number': 16, 'created': '2014-09-02 18:22:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6ed98794e0468f4b8fa6d0ad64192e4246efc7e1', 'message': ""Make Libvirt ImageCacheManager use a Storage Pool\n\nThis commit changes the libvirt driver's ImageCacheManager to\nuse a libvirt storage pool and the related APIs to manage the\nimage cache.  This paves the way for a libvirt-storage-pool-based\nimage backend, as libvirt will properly copy and convert images\nwhen copying between storage pools.\n\nImplements bp: use-libvirt-storage-pools\n\nChange-Id: Id8f8fce184cd78d5cb03b586e715634265ec6803\n""}, {'number': 17, 'created': '2014-09-03 00:33:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6a3b0e15791b1a76a5a20b3b5d48e8169f3dcf7a', 'message': ""Make Libvirt ImageCacheManager use a Storage Pool\n\nThis commit changes the libvirt driver's ImageCacheManager to\nuse a libvirt storage pool and the related APIs to manage the\nimage cache.  This paves the way for a libvirt-storage-pool-based\nimage backend, as libvirt will properly copy and convert images\nwhen copying between storage pools.\n\nImplements bp: use-libvirt-storage-pools\n\nChange-Id: Id8f8fce184cd78d5cb03b586e715634265ec6803\n""}, {'number': 18, 'created': '2014-09-05 21:04:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/86f3124a172f42edf95604e118daccb69a1e824d', 'message': ""Make Libvirt ImageCacheManager use a Storage Pool\n\nThis commit changes the libvirt driver's ImageCacheManager to\nuse a libvirt storage pool and the related APIs to manage the\nimage cache.  This paves the way for a libvirt-storage-pool-based\nimage backend, as libvirt will properly copy and convert images\nwhen copying between storage pools.\n\nImplements bp: use-libvirt-storage-pools\n\nChange-Id: Id8f8fce184cd78d5cb03b586e715634265ec6803\n""}, {'number': 19, 'created': '2014-09-07 18:36:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/62fef832dbd046d49f24219fb7c7eaa3ac6cb026', 'message': ""Make Libvirt ImageCacheManager use a Storage Pool\n\nThis commit changes the libvirt driver's ImageCacheManager to\nuse a libvirt storage pool and the related APIs to manage the\nimage cache.  This paves the way for a libvirt-storage-pool-based\nimage backend, as libvirt will properly copy and convert images\nwhen copying between storage pools.\n\nImplements bp: use-libvirt-storage-pools\n\nChange-Id: Id8f8fce184cd78d5cb03b586e715634265ec6803\n""}, {'number': 20, 'created': '2015-01-21 01:16:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/aee982c88bd0496109eb51cf214fa35b4973ead7', 'message': ""Make Libvirt ImageCacheManager use a Storage Pool\n\nThis commit changes the libvirt driver's ImageCacheManager to\nuse a libvirt storage pool and the related APIs to manage the\nimage cache.  This paves the way for a libvirt-storage-pool-based\nimage backend, as libvirt will properly copy and convert images\nwhen copying between storage pools.\n\nImplements bp: use-libvirt-storage-pools\n\nChange-Id: Id8f8fce184cd78d5cb03b586e715634265ec6803\n""}, {'number': 21, 'created': '2015-01-21 17:00:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/065e5c361438810d6ae7ccad6b249eedab2435a4', 'message': ""Make Libvirt ImageCacheManager use a Storage Pool\n\nThis commit changes the libvirt driver's ImageCacheManager to\nuse a libvirt storage pool and the related APIs to manage the\nimage cache.  This paves the way for a libvirt-storage-pool-based\nimage backend, as libvirt will properly copy and convert images\nwhen copying between storage pools.\n\nImplements bp: use-libvirt-storage-pools\n\nChange-Id: Id8f8fce184cd78d5cb03b586e715634265ec6803\n""}, {'number': 22, 'created': '2015-01-21 18:42:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2c08ac86a81a783e55a9a7a678e79705948b5193', 'message': ""Make Libvirt ImageCacheManager use a Storage Pool\n\nThis commit changes the libvirt driver's ImageCacheManager to\nuse a libvirt storage pool and the related APIs to manage the\nimage cache.  This paves the way for a libvirt-storage-pool-based\nimage backend, as libvirt will properly copy and convert images\nwhen copying between storage pools.\n\nImplements bp: use-libvirt-storage-pools\n\nChange-Id: Id8f8fce184cd78d5cb03b586e715634265ec6803\n""}, {'number': 23, 'created': '2015-01-22 22:30:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9267a38d40a547e17857ad31767aa437cba3420e', 'message': ""Make Libvirt ImageCacheManager use a Storage Pool\n\nThis commit changes the libvirt driver's ImageCacheManager to\nuse a libvirt storage pool and the related APIs to manage the\nimage cache.  This paves the way for a libvirt-storage-pool-based\nimage backend, as libvirt will properly copy and convert images\nwhen copying between storage pools.\n\nImplements bp: use-libvirt-storage-pools\n\nChange-Id: Id8f8fce184cd78d5cb03b586e715634265ec6803\n""}, {'number': 24, 'created': '2015-02-03 00:02:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a91eac7bb7826add02331d4b1fe79c57be75d500', 'message': ""Libvirt: Make ImageCacheManager use a Storage Pool\n\nThis commit changes the libvirt driver's ImageCacheManager to\nuse a libvirt storage pool and the related APIs to manage the\nimage cache.  This paves the way for a libvirt-storage-pool-based\nimage backend, as libvirt will properly copy and convert images\nwhen copying between storage pools.\n\nImplements bp: use-libvirt-storage-pools\n\nChange-Id: Id8f8fce184cd78d5cb03b586e715634265ec6803\n""}, {'number': 25, 'created': '2015-02-05 20:49:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9d6ce8ff4eaf300d80e2d48c354aa7da82df7d02', 'message': ""Libvirt: Make ImageCacheManager use a Storage Pool\n\nThis commit changes the libvirt driver's ImageCacheManager to\nuse a libvirt storage pool and the related APIs to manage the\nimage cache.  This paves the way for a libvirt-storage-pool-based\nimage backend, as libvirt will properly copy and convert images\nwhen copying between storage pools.\n\nImplements bp: use-libvirt-storage-pools\n\nChange-Id: Id8f8fce184cd78d5cb03b586e715634265ec6803\n""}, {'number': 26, 'created': '2015-02-06 01:56:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ad6049d37c10e5a139bb46cbfdd9df2e80da0be5', 'message': ""Libvirt: Make ImageCacheManager use a Storage Pool\n\nThis commit changes the libvirt driver's ImageCacheManager to\nuse a libvirt storage pool and the related APIs to manage the\nimage cache.  This paves the way for a libvirt-storage-pool-based\nimage backend, as libvirt will properly copy and convert images\nwhen copying between storage pools.\n\nImplements bp: use-libvirt-storage-pools\n\nChange-Id: Id8f8fce184cd78d5cb03b586e715634265ec6803\n""}, {'number': 27, 'created': '2015-02-06 15:39:10.000000000', 'files': ['nova/virt/libvirt/imagecache.py', 'nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_imagecache.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/946dfc4a082a82a1d4f0ca6d167f1626280579fb', 'message': ""Libvirt: Make ImageCacheManager use a Storage Pool\n\nThis commit changes the libvirt driver's ImageCacheManager to\nuse a libvirt storage pool and the related APIs to manage the\nimage cache.  This paves the way for a libvirt-storage-pool-based\nimage backend, as libvirt will properly copy and convert images\nwhen copying between storage pools.\n\nImplements bp: use-libvirt-storage-pools\n\nChange-Id: Id8f8fce184cd78d5cb03b586e715634265ec6803\n""}]",53,113059,946dfc4a082a82a1d4f0ca6d167f1626280579fb,182,17,27,7677,,,0,"Libvirt: Make ImageCacheManager use a Storage Pool

This commit changes the libvirt driver's ImageCacheManager to
use a libvirt storage pool and the related APIs to manage the
image cache.  This paves the way for a libvirt-storage-pool-based
image backend, as libvirt will properly copy and convert images
when copying between storage pools.

Implements bp: use-libvirt-storage-pools

Change-Id: Id8f8fce184cd78d5cb03b586e715634265ec6803
",git fetch https://review.opendev.org/openstack/nova refs/changes/59/113059/21 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/imagecache.py', 'nova/virt/libvirt/driver.py', 'nova/virt/libvirt/pool_utils.py', 'nova/virt/libvirt/config.py', 'nova/tests/virt/libvirt/test_imagecache.py']",5,3da16c4b6bd6379c2df53c15fce17ae6cba9d250,bp/use-libvirt-storage-pools,"from __future__ import print_functionimport shutil import stat import tempfilefrom nova.openstack.common import fileutilsfrom nova.tests.virt.libvirt import fakelibvirtfrom nova.virt.libvirt import pool_utilstry: import libvirt except ImportError: libvirt = fakelibvirt imagecache.libvirt = libvirt @classmethod def setUpClass(cls): super(ImageCacheManagerTestCase, cls).setUpClass() # don't print errors to stdout cls._conn = libvirt.open('qemu:///session') def ignore_errs(ignore, err): if err[3] != libvirt.VIR_ERR_ERROR: print('libvirt warning: %s' % err[2]) libvirt.registerErrorHandler(ignore_errs, None) @classmethod def tearDownClass(cls): super(ImageCacheManagerTestCase, cls).tearDownClass() cls._conn.close() del cls._conn tmpdir = tempfile.mkdtemp(suffix='instances') self.TMP_PATH_BASE = tmpdir tmpdir_name = os.path.basename(tmpdir) cache_name = 'test%s-nova-base-images-pool' % tmpdir_name self.CACHE_POOL_PATH = os.path.join(tmpdir, CONF.image_cache_subdirectory_name) self.stubs.Set(pool_utils, 'IMAGE_CACHE_POOL', cache_name) self._cache_pool = self._create_pool(cache_name, self.CACHE_POOL_PATH) self.flags(instances_path=self.TMP_PATH_BASE) def tearDown(self): super(ImageCacheManagerTestCase, self).tearDown() self.stubs.UnsetAll() self._cache_pool.destroy() # NB(sross): libvirt gets weird sometimes if we don't # explicitly del things del self._cache_pool shutil.rmtree(self.TMP_PATH_BASE) def _create_pool(self, name, path): input_xml = """"""<pool type='dir'> <name>%(name)s</name> <target> <path>%(path)s</path> </target> </pool>"""""" % {'name': name, 'path': path} fileutils.ensure_tree(path) return self._conn.storagePoolCreateXML(input_xml, 0) def _make_volumes(self, pool, vol_names, fmt='raw'): xml = """"""<volume> <name>%(name)s</name> <capacity unit=""K"">4</capacity> <target> <format type='%(format)s'/> </target> </volume>"""""" for vol_name in vol_names: pool.createXML(xml % {'name': vol_name, 'format': fmt}, 0) images = ['e97222e91fc4241f49a7f520d1dcf446751129b3', self._make_volumes(self._cache_pool, listing) base_dir = self.CACHE_POOL_PATH image_cache_manager = imagecache.ImageCacheManager(lambda: self._conn) image_cache_manager._list_base_images(None) def test_list_backing_images_resized(self): self.stubs.Set(imagecache.os, 'listdir', self.stubs.Set(imagecache.os.path, 'exists', image_cache_manager = imagecache.ImageCacheManager(lambda: self._conn) image_cache_manager.unexplained_images = set([found]) self.assertEqual(inuse_images, set([found])) self.stubs.Set(imagecache.os, 'listdir', self.stubs.Set(imagecache.os.path, 'exists', image_cache_manager = imagecache.ImageCacheManager(lambda: self._conn) image_cache_manager.unexplained_images = set([found]) self.assertEqual(inuse_images, set([found])) self.stubs.Set(imagecache.os, 'listdir', self.stubs.Set(imagecache.os.path, 'exists', image_cache_manager = imagecache.ImageCacheManager(lambda: self._conn) image_cache_manager.unexplained_images = set([]) image_cache_manager = imagecache.ImageCacheManager(lambda: self._conn) res = list(image_cache_manager._find_base_file(fingerprint)) self._make_volumes(self._cache_pool, listing) base_dir = self.CACHE_POOL_PATH image_cache_manager = imagecache.ImageCacheManager(lambda: self._conn) image_cache_manager._list_base_images(None) res = list(image_cache_manager._find_base_file(fingerprint)) self.assertEqual(res, [(base_file, True)]) '00000004', fingerprint] self._make_volumes(self._cache_pool, listing) base_dir = self.CACHE_POOL_PATH image_cache_manager = imagecache.ImageCacheManager(lambda: self._conn) image_cache_manager._list_base_images(None) res = set(image_cache_manager._find_base_file(fingerprint)) base_file2 = os.path.join(base_dir, fingerprint + '_10737418240') self.assertEqual(res, set([(base_file1, False), (base_file2, True)])) self.flags(image_info_filename_pattern=('$instances_path/' '%(image)s.info'), group='libvirt') fname = os.path.join(self.CACHE_POOL_PATH, 'aaa') base_file = open(fname, 'w') base_file.write('data') base_file.close() base_file = open(fname, 'r') if checksum: imagecache.write_stored_checksum(fname) base_file.close() self._cache_pool.refresh() yield fname if os.path.exists(fname): os.remove(fname) image_cache_manager = imagecache.ImageCacheManager( lambda: self._conn) image_cache_manager = imagecache.ImageCacheManager( lambda: self._conn) image_cache_manager.originals = set([fname]) fname = os.path.join(self.CACHE_POOL_PATH, 'aaa') image_cache_manager = imagecache.ImageCacheManager(lambda: self._conn) image_cache_manager._remove_base_file(fname) image_cache_manager = imagecache.ImageCacheManager( lambda: self._conn) image_cache_manager.unexplained_images = set([fname]) self.assertEqual(image_cache_manager.unexplained_images, set()) set([fname])) self.assertEqual(image_cache_manager.corrupt_base_files, set()) image_cache_manager = imagecache.ImageCacheManager( lambda: self._conn) image_cache_manager.unexplained_images = set([fname]) self.assertEqual(image_cache_manager.unexplained_images, set()) self.assertEqual(image_cache_manager.removable_base_files, set()) self.assertEqual(image_cache_manager.corrupt_base_files, set()) image_cache_manager = imagecache.ImageCacheManager( lambda: self._conn) image_cache_manager.unexplained_images = set([fname]) self.assertEqual(image_cache_manager.unexplained_images, set()) self.assertEqual(image_cache_manager.removable_base_files, set()) self.assertEqual(image_cache_manager.corrupt_base_files, set()) image_cache_manager = imagecache.ImageCacheManager( lambda: self._conn) self.assertEqual(image_cache_manager.unexplained_images, set()) self.assertEqual(image_cache_manager.removable_base_files, set()) self.assertEqual(image_cache_manager.corrupt_base_files, set()) fname = os.path.join(self.CACHE_POOL_PATH, 'aaa') image_cache_manager = imagecache.ImageCacheManager(lambda: self._conn) image_cache_manager.unexplained_images = set([fname]) image_cache_manager.used_images = {'123': (1, 0, ['banana-42'])} image_cache_manager._handle_base_image(img, fname) self.assertEqual(image_cache_manager.unexplained_images, set()) self.assertEqual(image_cache_manager.removable_base_files, set()) self.assertEqual(image_cache_manager.corrupt_base_files, set()) with open(imagecache.get_info_filename(fname), 'w') as f: image_cache_manager = imagecache.ImageCacheManager( lambda: self._conn) image_cache_manager.unexplained_images = set([fname]) self.assertEqual(image_cache_manager.unexplained_images, set()) self.assertEqual(image_cache_manager.removable_base_files, set()) set([fname])) self._make_volumes(self._cache_pool, base_file_list) return os.path.join(self.CACHE_POOL_PATH, path) if not path.startswith(self.TMP_PATH_BASE): if path in [self.TMP_PATH_BASE, self.CACHE_POOL_PATH, os.path.join(self.CACHE_POOL_PATH, '123_disk'), os.path.join(self.CACHE_POOL_PATH, '456_disk'), os.path.join(self.CACHE_POOL_PATH, '789_disk'), os.path.join(self.TMP_PATH_BASE, 'instance-1/disk'), os.path.join(self.TMP_PATH_BASE, 'instance-2/disk'), os.path.join(self.CACHE_POOL_PATH, ('%s.info' % hashed_42))]: if not path.startswith(self.TMP_PATH_BASE): if path == self.TMP_PATH_BASE: self.stubs.Set(imagecache.os, 'listdir', lambda x: listdir(x)) if not path.startswith(self.TMP_PATH_BASE): self.stubs.Set(imagecache.os.path, 'isfile', lambda x: isfile(x)) image_cache_manager = imagecache.ImageCacheManager(lambda: self._conn) if path in [os.path.join(self.TMP_PATH_BASE, 'instance-1/disk'), os.path.join(self.TMP_PATH_BASE, 'instance-2/disk')]: if not path.startswith(self.TMP_PATH_BASE): self.stubs.Set(imagecache.os.path, 'getmtime', lambda x: getmtime(x)) active = set([fq_path(hashed_1), fq_path('%s_5368709120' % hashed_1), fq_path('%s_10737418240' % hashed_1), fq_path(hashed_21), fq_path(hashed_22)]) self.assertEqual(active, image_cache_manager.active_base_files) rem = set([fq_path(hashed_42)]) self.assertEqual(rem, image_cache_manager.removable_base_files) image_cache_manager = imagecache.ImageCacheManager( lambda: self._conn) imagecache.libvirt = fakelibvirt self._conn = fakelibvirt.Connection() def tearDown(self): super(VerifyChecksumTestCase, self).tearDown() imagecache.libvirt = libvirt image_cache_manager = imagecache.ImageCacheManager(lambda: self._conn) image_cache_manager = imagecache.ImageCacheManager( lambda: self._conn)"," images = ['e97222e91fc4241f49a7f520d1dcf446751129b3_sm', 'e09c675c2d1cfac32dae3c2d83689c8c94bc693b_sm', 'e97222e91fc4241f49a7f520d1dcf446751129b3', self.stubs.Set(os, 'listdir', lambda x: listing) self.stubs.Set(os.path, 'isfile', lambda x: True) base_dir = '/var/lib/nova/instances/_base' self.flags(instances_path='/var/lib/nova/instances') image_cache_manager = imagecache.ImageCacheManager() image_cache_manager._list_base_images(base_dir) def test_list_backing_images_small(self): self.stubs.Set(os, 'listdir', lambda x: ['_base', 'instance-00000001', 'instance-00000002', 'instance-00000003']) self.stubs.Set(os.path, 'exists', lambda x: x.find('instance-') != -1) self.stubs.Set(libvirt_utils, 'get_disk_backing_file', lambda x: 'e97222e91fc4241f49a7f520d1dcf446751129b3_sm') found = os.path.join(CONF.instances_path, CONF.image_cache_subdirectory_name, 'e97222e91fc4241f49a7f520d1dcf446751129b3_sm') image_cache_manager = imagecache.ImageCacheManager() image_cache_manager.unexplained_images = [found] image_cache_manager.instance_names = self.stock_instance_names inuse_images = image_cache_manager._list_backing_images() self.assertEqual(inuse_images, [found]) self.assertEqual(len(image_cache_manager.unexplained_images), 0) def test_list_backing_images_resized(self): self.stubs.Set(os, 'listdir', self.stubs.Set(os.path, 'exists', image_cache_manager = imagecache.ImageCacheManager() image_cache_manager.unexplained_images = [found] self.assertEqual(inuse_images, [found]) self.stubs.Set(os, 'listdir', self.stubs.Set(os.path, 'exists', image_cache_manager = imagecache.ImageCacheManager() image_cache_manager.unexplained_images = [found] self.assertEqual(inuse_images, [found]) self.stubs.Set(os, 'listdir', self.stubs.Set(os.path, 'exists', image_cache_manager = imagecache.ImageCacheManager() image_cache_manager.unexplained_images = [] base_dir = '/var/lib/nova/instances/_base' image_cache_manager = imagecache.ImageCacheManager() res = list(image_cache_manager._find_base_file(base_dir, fingerprint)) def test_find_base_file_small(self): fingerprint = '968dd6cc49e01aaa044ed11c0cce733e0fa44a6a' self.stubs.Set(os.path, 'exists', lambda x: x.endswith('%s_sm' % fingerprint)) base_dir = '/var/lib/nova/instances/_base' image_cache_manager = imagecache.ImageCacheManager() res = list(image_cache_manager._find_base_file(base_dir, fingerprint)) base_file = os.path.join(base_dir, fingerprint + '_sm') self.assertEqual(res, [(base_file, True, False)]) self.stubs.Set(os, 'listdir', lambda x: listing) self.stubs.Set(os.path, 'exists', lambda x: x.endswith('%s_10737418240' % fingerprint)) self.stubs.Set(os.path, 'isfile', lambda x: True) base_dir = '/var/lib/nova/instances/_base' image_cache_manager = imagecache.ImageCacheManager() image_cache_manager._list_base_images(base_dir) res = list(image_cache_manager._find_base_file(base_dir, fingerprint)) self.assertEqual(res, [(base_file, False, True)]) '968dd6cc49e01aaa044ed11c0cce733e0fa44a6a_sm', '00000004'] self.stubs.Set(os, 'listdir', lambda x: listing) self.stubs.Set(os.path, 'exists', lambda x: True) self.stubs.Set(os.path, 'isfile', lambda x: True) base_dir = '/var/lib/nova/instances/_base' image_cache_manager = imagecache.ImageCacheManager() image_cache_manager._list_base_images(base_dir) res = list(image_cache_manager._find_base_file(base_dir, fingerprint)) base_file2 = os.path.join(base_dir, fingerprint + '_sm') base_file3 = os.path.join(base_dir, fingerprint + '_10737418240') self.assertEqual(res, [(base_file1, False, False), (base_file2, True, False), (base_file3, False, True)]) with utils.tempdir() as tmpdir: self.flags(instances_path=tmpdir) self.flags(image_info_filename_pattern=('$instances_path/' '%(image)s.info'), group='libvirt') fname = os.path.join(tmpdir, 'aaa') base_file = open(fname, 'w') base_file.write('data') base_file.close() base_file = open(fname, 'r') if checksum: imagecache.write_stored_checksum(fname) base_file.close() yield fname image_cache_manager = imagecache.ImageCacheManager() image_cache_manager = imagecache.ImageCacheManager() image_cache_manager.originals = [fname] with utils.tempdir() as tmpdir: self.flags(instances_path=tmpdir) self.flags(image_info_filename_pattern=('$instances_path/' '%(image)s.info'), group='libvirt') fname = os.path.join(tmpdir, 'aaa') image_cache_manager = imagecache.ImageCacheManager() image_cache_manager._remove_base_file(fname) def test_remove_base_file_oserror(self): with intercept_log_messages() as stream: with utils.tempdir() as tmpdir: self.flags(instances_path=tmpdir) self.flags(image_info_filename_pattern=('$instances_path/' '%(image)s.info'), group='libvirt') fname = os.path.join(tmpdir, 'aaa') os.mkdir(fname) os.utime(fname, (-1, time.time() - 3601)) # This will raise an OSError because of file permissions image_cache_manager = imagecache.ImageCacheManager() image_cache_manager._remove_base_file(fname) self.assertTrue(os.path.exists(fname)) self.assertNotEqual(stream.getvalue().find('Failed to remove'), -1) image_cache_manager = imagecache.ImageCacheManager() image_cache_manager.unexplained_images = [fname] self.assertEqual(image_cache_manager.unexplained_images, []) [fname]) self.assertEqual(image_cache_manager.corrupt_base_files, []) image_cache_manager = imagecache.ImageCacheManager() image_cache_manager.unexplained_images = [fname] self.assertEqual(image_cache_manager.unexplained_images, []) self.assertEqual(image_cache_manager.removable_base_files, []) self.assertEqual(image_cache_manager.corrupt_base_files, []) image_cache_manager = imagecache.ImageCacheManager() image_cache_manager.unexplained_images = [fname] self.assertEqual(image_cache_manager.unexplained_images, []) self.assertEqual(image_cache_manager.removable_base_files, []) self.assertEqual(image_cache_manager.corrupt_base_files, []) image_cache_manager = imagecache.ImageCacheManager() self.assertEqual(image_cache_manager.unexplained_images, []) self.assertEqual(image_cache_manager.removable_base_files, []) self.assertEqual(image_cache_manager.corrupt_base_files, []) with utils.tempdir() as tmpdir: self.flags(instances_path=tmpdir) self.flags(image_info_filename_pattern=('$instances_path/' '%(image)s.info'), group='libvirt') fname = os.path.join(tmpdir, 'aaa') image_cache_manager = imagecache.ImageCacheManager() image_cache_manager.unexplained_images = [fname] image_cache_manager.used_images = {'123': (1, 0, ['banana-42'])} image_cache_manager._handle_base_image(img, fname) self.assertEqual(image_cache_manager.unexplained_images, []) self.assertEqual(image_cache_manager.removable_base_files, []) self.assertEqual(image_cache_manager.corrupt_base_files, []) with open('%s.info' % fname, 'w') as f: image_cache_manager = imagecache.ImageCacheManager() image_cache_manager.unexplained_images = [fname] self.assertEqual(image_cache_manager.unexplained_images, []) self.assertEqual(image_cache_manager.removable_base_files, []) [fname]) self.flags(instances_path='/instance_path', image_cache_subdirectory_name='_base') 'e97222e91fc4241f49a7f520d1dcf446751129b3_sm', 'e09c675c2d1cfac32dae3c2d83689c8c94bc693b_sm', return os.path.join('/instance_path/_base/', path) if not path.startswith('/instance_path'): if path in ['/instance_path', '/instance_path/_base', '/instance_path/instance-1/disk', '/instance_path/instance-2/disk', '/instance_path/instance-3/disk', '/instance_path/_base/%s.info' % hashed_42]: if path in ['/instance_path/_base/%s_sm' % i for i in [hashed_1, hashed_21, hashed_22, hashed_42]]: return False if not path.startswith('/instance_path'): if path == '/instance_path': if path == '/instance_path/_base': return base_file_list self.stubs.Set(os, 'listdir', lambda x: listdir(x)) if not path.startswith('/instance_path'): self.stubs.Set(os.path, 'isfile', lambda x: isfile(x)) image_cache_manager = imagecache.ImageCacheManager() if path in ['/instance_path/instance-1/disk', '/instance_path/instance-2/disk']: if not path.startswith('/instance_path'): self.stubs.Set(os.path, 'getmtime', lambda x: getmtime(x)) # Make sure we don't accidentally remove a real file orig_remove = os.remove def remove(path): if not path.startswith('/instance_path'): return orig_remove(path) # Don't try to remove fake files return self.stubs.Set(os, 'remove', lambda x: remove(x)) active = [fq_path(hashed_1), fq_path('%s_5368709120' % hashed_1), fq_path(hashed_21), fq_path(hashed_22)] for act in active: self.assertIn(act, image_cache_manager.active_base_files) self.assertEqual(len(image_cache_manager.active_base_files), len(active)) for rem in [fq_path('e97222e91fc4241f49a7f520d1dcf446751129b3_sm'), fq_path('e09c675c2d1cfac32dae3c2d83689c8c94bc693b_sm'), fq_path(hashed_42), fq_path('%s_10737418240' % hashed_1)]: self.assertIn(rem, image_cache_manager.removable_base_files) def test_verify_base_images_no_base(self): self.flags(instances_path='/tmp/no/such/dir/name/please') image_cache_manager = imagecache.ImageCacheManager() image_cache_manager.update(None, []) image_cache_manager = imagecache.ImageCacheManager() image_cache_manager = imagecache.ImageCacheManager() image_cache_manager = imagecache.ImageCacheManager()",443,313
openstack%2Fnova~master~Icec7e6cfc834b438b06318b3d31e71d9197178e0,openstack/nova,master,Icec7e6cfc834b438b06318b3d31e71d9197178e0,Disk/VFS: Support Check/Resize with VFS,ABANDONED,2015-01-21 01:16:55.000000000,2015-05-13 17:19:51.000000000,,"[{'_account_id': 3}, {'_account_id': 782}, {'_account_id': 1779}, {'_account_id': 1849}, {'_account_id': 5170}, {'_account_id': 7677}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11103}]","[{'number': 1, 'created': '2015-01-21 01:16:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c630b561352589ba54d9140a8b3de1458c74f17d', 'message': 'Support Resizing and Checking Filesystems with VFS\n\nThis commit adds support for checking and resizing filesystems\non COW imagesusing a VFS.  This replaces the support for using\na mounter (since the VFS will either us libguestfs or a mounter\nanyway) and is still behind the same config option.\n\nSince we already spin up a VFS instance when running\nis_image_partitionless, is_image_partitionless has been\nrefactored to take an optional `if_so` argument.  If `if_so`\nis specified, it will be run when the image has been determined\nto be partitionless.  However, when testing COW images, `if_so`\nwill be called before the VFS is shut down, with the VFS instance\nas the second argument to `if_so`, allowing us to reused the existing\nVFS instead.\n\nThis can be used to avoid cases like the libvirt driver qcow2 resize\ncode, which first converts the image from qcow2 to raw, operates\non it, and then converts back.\n\nImplements bp: use-libvirt-storage-pools\n\nChange-Id: Icec7e6cfc834b438b06318b3d31e71d9197178e0\n'}, {'number': 2, 'created': '2015-01-21 17:00:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/84552095cc7ca557064ce4bc32a9387ce1c0f43c', 'message': 'Support Resizing and Checking Filesystems with VFS\n\nThis commit adds support for checking and resizing filesystems\non COW imagesusing a VFS.  This replaces the support for using\na mounter (since the VFS will either us libguestfs or a mounter\nanyway) and is still behind the same config option.\n\nSince we already spin up a VFS instance when running\nis_image_partitionless, is_image_partitionless has been\nrefactored to take an optional `if_so` argument.  If `if_so`\nis specified, it will be run when the image has been determined\nto be partitionless.  However, when testing COW images, `if_so`\nwill be called before the VFS is shut down, with the VFS instance\nas the second argument to `if_so`, allowing us to reused the existing\nVFS instead.\n\nThis can be used to avoid cases like the libvirt driver qcow2 resize\ncode, which first converts the image from qcow2 to raw, operates\non it, and then converts back.\n\nImplements bp: use-libvirt-storage-pools\n\nChange-Id: Icec7e6cfc834b438b06318b3d31e71d9197178e0\n'}, {'number': 3, 'created': '2015-01-21 18:42:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d0b51c5ba03e229349a6b9d5cd02f00440b5f0a6', 'message': 'Support Resizing and Checking Filesystems with VFS\n\nThis commit adds support for checking and resizing filesystems\non COW imagesusing a VFS.  This replaces the support for using\na mounter (since the VFS will either us libguestfs or a mounter\nanyway) and is still behind the same config option.\n\nSince we already spin up a VFS instance when running\nis_image_partitionless, is_image_partitionless has been\nrefactored to take an optional `if_so` argument.  If `if_so`\nis specified, it will be run when the image has been determined\nto be partitionless.  However, when testing COW images, `if_so`\nwill be called before the VFS is shut down, with the VFS instance\nas the second argument to `if_so`, allowing us to reused the existing\nVFS instead.\n\nThis can be used to avoid cases like the libvirt driver qcow2 resize\ncode, which first converts the image from qcow2 to raw, operates\non it, and then converts back.\n\nImplements bp: use-libvirt-storage-pools\n\nChange-Id: Icec7e6cfc834b438b06318b3d31e71d9197178e0\n'}, {'number': 4, 'created': '2015-01-22 22:30:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c109e9eb5fb1eda92a0031180074a06df48f2acc', 'message': 'Support Resizing and Checking Filesystems with VFS\n\nThis commit adds support for checking and resizing filesystems\non COW imagesusing a VFS.  This replaces the support for using\na mounter (since the VFS will either us libguestfs or a mounter\nanyway) and is still behind the same config option.\n\nSince we already spin up a VFS instance when running\nis_image_partitionless, is_image_partitionless has been\nrefactored to take an optional `if_so` argument.  If `if_so`\nis specified, it will be run when the image has been determined\nto be partitionless.  However, when testing COW images, `if_so`\nwill be called before the VFS is shut down, with the VFS instance\nas the second argument to `if_so`, allowing us to reused the existing\nVFS instead.\n\nThis can be used to avoid cases like the libvirt driver qcow2 resize\ncode, which first converts the image from qcow2 to raw, operates\non it, and then converts back.\n\nImplements bp: use-libvirt-storage-pools\n\nChange-Id: Icec7e6cfc834b438b06318b3d31e71d9197178e0\n'}, {'number': 5, 'created': '2015-02-03 00:02:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4ac726705bc026b35e1f5ff5dbc273d9b283e48a', 'message': 'Disk/VFS: Support Check/Resize with VFS\n\nThis commit adds support for checking and resizing filesystems\non COW imagesusing a VFS.  This replaces the support for using\na mounter (since the VFS will either us libguestfs or a mounter\nanyway) and is still behind the same config option.\n\nSince we already spin up a VFS instance when running\nis_image_partitionless, is_image_partitionless has been\nrefactored to take an optional `if_so` argument.  If `if_so`\nis specified, it will be run when the image has been determined\nto be partitionless.  However, when testing COW images, `if_so`\nwill be called before the VFS is shut down, with the VFS instance\nas the second argument to `if_so`, allowing us to reused the existing\nVFS instead.\n\nThis can be used to avoid cases like the libvirt driver qcow2 resize\ncode, which first converts the image from qcow2 to raw, operates\non it, and then converts back.\n\nImplements bp: use-libvirt-storage-pools\n\nChange-Id: Icec7e6cfc834b438b06318b3d31e71d9197178e0\n'}, {'number': 6, 'created': '2015-02-05 20:49:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/49fd47655999ee7952c10305783f6a59e1821433', 'message': 'Disk/VFS: Support Check/Resize with VFS\n\nThis commit adds support for checking and resizing filesystems\non COW imagesusing a VFS.  This replaces the support for using\na mounter (since the VFS will either us libguestfs or a mounter\nanyway) and is still behind the same config option.\n\nSince we already spin up a VFS instance when running\nis_image_partitionless, is_image_partitionless has been\nrefactored to take an optional `if_so` argument.  If `if_so`\nis specified, it will be run when the image has been determined\nto be partitionless.  However, when testing COW images, `if_so`\nwill be called before the VFS is shut down, with the VFS instance\nas the second argument to `if_so`, allowing us to reused the existing\nVFS instead.\n\nThis can be used to avoid cases like the libvirt driver qcow2 resize\ncode, which first converts the image from qcow2 to raw, operates\non it, and then converts back.\n\nImplements bp: use-libvirt-storage-pools\n\nChange-Id: Icec7e6cfc834b438b06318b3d31e71d9197178e0\n'}, {'number': 7, 'created': '2015-02-06 01:56:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d3647a9b8784e28fc7090e176621ffb1a9817f27', 'message': 'Disk/VFS: Support Check/Resize with VFS\n\nThis commit adds support for checking and resizing filesystems\non COW imagesusing a VFS.  This replaces the support for using\na mounter (since the VFS will either us libguestfs or a mounter\nanyway) and is still behind the same config option.\n\nSince we already spin up a VFS instance when running\nis_image_partitionless, is_image_partitionless has been\nrefactored to take an optional `if_so` argument.  If `if_so`\nis specified, it will be run when the image has been determined\nto be partitionless.  However, when testing COW images, `if_so`\nwill be called before the VFS is shut down, with the VFS instance\nas the second argument to `if_so`, allowing us to reused the existing\nVFS instead.\n\nThis can be used to avoid cases like the libvirt driver qcow2 resize\ncode, which first converts the image from qcow2 to raw, operates\non it, and then converts back.\n\nImplements bp: use-libvirt-storage-pools\n\nChange-Id: Icec7e6cfc834b438b06318b3d31e71d9197178e0\n'}, {'number': 8, 'created': '2015-02-06 15:39:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/29bcb52abb24a9683f719e7cd6baabaec0aaec1b', 'message': 'Disk/VFS: Support Check/Resize with VFS\n\nThis commit adds support for checking and resizing filesystems\non COW imagesusing a VFS.  This replaces the support for using\na mounter (since the VFS will either us libguestfs or a mounter\nanyway) and is still behind the same config option.\n\nSince we already spin up a VFS instance when running\nis_image_partitionless, is_image_partitionless has been\nrefactored to take an optional `if_so` argument.  If `if_so`\nis specified, it will be run when the image has been determined\nto be partitionless.  However, when testing COW images, `if_so`\nwill be called before the VFS is shut down, with the VFS instance\nas the second argument to `if_so`, allowing us to reused the existing\nVFS instead.\n\nThis can be used to avoid cases like the libvirt driver qcow2 resize\ncode, which first converts the image from qcow2 to raw, operates\non it, and then converts back.\n\nImplements bp: use-libvirt-storage-pools\n\nChange-Id: Icec7e6cfc834b438b06318b3d31e71d9197178e0\n'}, {'number': 9, 'created': '2015-02-06 22:06:07.000000000', 'files': ['nova/tests/unit/virt/disk/vfs/fakeguestfs.py', 'nova/tests/unit/virt/disk/test_api.py', 'nova/virt/disk/vfs/localfs.py', 'nova/tests/unit/virt/disk/vfs/test_guestfs.py', 'nova/virt/disk/vfs/api.py', 'nova/tests/unit/virt/disk/vfs/test_localfs.py', 'nova/virt/disk/vfs/guestfs.py', 'nova/virt/disk/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/0961a26fab47d5b4881ffb09914ea207c14d3e50', 'message': 'Disk/VFS: Support Check/Resize with VFS\n\nThis commit adds support for checking and resizing filesystems\non COW imagesusing a VFS.  This replaces the support for using\na mounter (since the VFS will either us libguestfs or a mounter\nanyway) and is still behind the same config option.\n\nSince we already spin up a VFS instance when running\nis_image_partitionless, is_image_partitionless has been\nrefactored to take an optional `if_so` argument.  If `if_so`\nis specified, it will be run when the image has been determined\nto be partitionless.  However, when testing COW images, `if_so`\nwill be called before the VFS is shut down, with the VFS instance\nas the second argument to `if_so`, allowing us to reused the existing\nVFS instead.\n\nThis can be used to avoid cases like the libvirt driver qcow2 resize\ncode, which first converts the image from qcow2 to raw, operates\non it, and then converts back.\n\nImplements bp: use-libvirt-storage-pools\n\nChange-Id: Icec7e6cfc834b438b06318b3d31e71d9197178e0\n'}]",7,148769,0961a26fab47d5b4881ffb09914ea207c14d3e50,67,10,9,7677,,,0,"Disk/VFS: Support Check/Resize with VFS

This commit adds support for checking and resizing filesystems
on COW imagesusing a VFS.  This replaces the support for using
a mounter (since the VFS will either us libguestfs or a mounter
anyway) and is still behind the same config option.

Since we already spin up a VFS instance when running
is_image_partitionless, is_image_partitionless has been
refactored to take an optional `if_so` argument.  If `if_so`
is specified, it will be run when the image has been determined
to be partitionless.  However, when testing COW images, `if_so`
will be called before the VFS is shut down, with the VFS instance
as the second argument to `if_so`, allowing us to reused the existing
VFS instead.

This can be used to avoid cases like the libvirt driver qcow2 resize
code, which first converts the image from qcow2 to raw, operates
on it, and then converts back.

Implements bp: use-libvirt-storage-pools

Change-Id: Icec7e6cfc834b438b06318b3d31e71d9197178e0
",git fetch https://review.opendev.org/openstack/nova refs/changes/69/148769/8 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/virt/disk/vfs/fakeguestfs.py', 'nova/tests/unit/virt/disk/test_api.py', 'nova/virt/disk/vfs/localfs.py', 'nova/tests/unit/virt/disk/vfs/test_guestfs.py', 'nova/virt/disk/vfs/api.py', 'nova/tests/unit/virt/disk/vfs/test_localfs.py', 'nova/virt/disk/vfs/guestfs.py', 'nova/virt/disk/api.py']",8,c630b561352589ba54d9140a8b3de1458c74f17d,bp/use-libvirt-storage-pools,"def _resize_fs_raw(image): # resize using normal system tools (only works for raw images) try: resize2fs(image, run_as_root=False, check_exit_code=[0]) except processutils.ProcessExecutionError as exc: LOG.debug(""Resizing the file system with resize2fs "" ""has failed with error: %s"", exc) def _resize_fs_vfs(image, fs): # try to resize using the VFS try: fs.check_fs() except exception.NovaException as exc: LOG.debug(""Checking the file system with e2fsck in the VFS has "" ""failed, the resize will be aborted (%s)"", exc) else: try: fs.resize_fs() except exception.NovaException as exc: LOG.debug(""Resizing the filesystem with resize2fs in the VFS "" ""has failed: %s"", exc) def try_resize_fs(image, use_cow=False, force_vfs=False): # if we can't access the filesystem, we can't do anything more if use_cow: def _resize_vfs_cond(image, fs): if force_vfs or CONF.resize_fs_using_block_device: _resize_fs_vfs(image, fs) is_image_partitionless(image, use_cow, if_so=_resize_vfs_cond) else: is_image_partitionless(image, use_cow, if_so=_resize_fs_raw) try_resize_fs(image, use_cow)def is_image_partitionless(image, use_cow=False, if_so=None): fs = None # teardown in finally clause else: if if_so is not None: if_so(image, fs) # teardown in finally clause return True finally: if fs is not None: fs.teardown() else: if if_so is not None: if_so(image) return True"," # if we can't access the filesystem, we can't do anything more if not is_image_partitionless(image, use_cow): return def safe_resize2fs(dev, run_as_root=False, finally_call=lambda: None): try: resize2fs(dev, run_as_root=run_as_root, check_exit_code=[0]) except processutils.ProcessExecutionError as exc: LOG.debug(""Resizing the file system with resize2fs "" ""has failed with error: %s"", exc) finally: finally_call() # NOTE(vish): attempts to resize filesystem if use_cow: if CONF.resize_fs_using_block_device: # in case of non-raw disks we can't just resize the image, but # rather the mounted device instead mounter = mount.Mount.instance_for_format( image, None, None, 'qcow2') if mounter.get_dev(): safe_resize2fs(mounter.device, run_as_root=True, finally_call=mounter.unget_dev) else: safe_resize2fs(image)def is_image_partitionless(image, use_cow=False): fs.teardown() return True",248,49
openstack%2Fnova~master~I73aa1fcd301c254f20614b38115f880e79e15c7c,openstack/nova,master,I73aa1fcd301c254f20614b38115f880e79e15c7c,Introduce the Libvirt Storage Image Backend,ABANDONED,2014-08-09 03:56:45.000000000,2015-05-13 17:19:49.000000000,,"[{'_account_id': 3}, {'_account_id': 782}, {'_account_id': 1653}, {'_account_id': 1779}, {'_account_id': 1849}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 7677}, {'_account_id': 8412}, {'_account_id': 8787}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11103}]","[{'number': 1, 'created': '2014-08-09 03:56:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5398371131415df32dd79608b64c6e3e88223220', 'message': ""Introduce the Libvirt Storage Image Backend\n\nThis commit introduces the libvirt storage image backend.\nFor this commit, the backend will only be used if an image\ntype of 'libvirt-storage' is specified.  The libvirt\nImageCacheManager has also been made aware of how to extract\nthe backing file path of a libvirt-storage-backed VM.\n\nImplements bp: use-libvirt-storage-pools\n\nChange-Id: I73aa1fcd301c254f20614b38115f880e79e15c7c\n""}, {'number': 2, 'created': '2014-08-10 17:48:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/90780e5267e4025eedfd89b95d1fb8ea3ac4c5b5', 'message': ""Introduce the Libvirt Storage Image Backend\n\nThis commit introduces the libvirt storage image backend.\nFor this commit, the backend will only be used if an image\ntype of 'libvirt-storage' is specified.  The libvirt\nImageCacheManager has also been made aware of how to extract\nthe backing file path of a libvirt-storage-backed VM.\n\nImplements bp: use-libvirt-storage-pools\n\nChange-Id: I73aa1fcd301c254f20614b38115f880e79e15c7c\n""}, {'number': 3, 'created': '2014-08-10 18:42:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bc12b4d982cf0a17d75f1f5f4199a7b91bb4870b', 'message': ""Introduce the Libvirt Storage Image Backend\n\nThis commit introduces the libvirt storage image backend.\nFor this commit, the backend will only be used if an image\ntype of 'libvirt-storage' is specified.  The libvirt\nImageCacheManager has also been made aware of how to extract\nthe backing file path of a libvirt-storage-backed VM.\n\nImplements bp: use-libvirt-storage-pools\n\nChange-Id: I73aa1fcd301c254f20614b38115f880e79e15c7c\n""}, {'number': 4, 'created': '2014-08-11 03:24:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8dfebbff165da8bc5ee5389ca89f1aa4ac54697e', 'message': ""Introduce the Libvirt Storage Image Backend\n\nThis commit introduces the libvirt storage image backend.\nFor this commit, the backend will only be used if an image\ntype of 'libvirt-storage' is specified.  The libvirt\nImageCacheManager has also been made aware of how to extract\nthe backing file path of a libvirt-storage-backed VM.\n\nImplements bp: use-libvirt-storage-pools\n\nChange-Id: I73aa1fcd301c254f20614b38115f880e79e15c7c\n""}, {'number': 5, 'created': '2014-08-19 17:32:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ff27aa97a5393f1856902662c5ed6fcf91479001', 'message': ""Introduce the Libvirt Storage Image Backend\n\nThis commit introduces the libvirt storage image backend.\nFor this commit, the backend will only be used if an image\ntype of 'libvirt-storage' is specified.  The libvirt\nImageCacheManager has also been made aware of how to extract\nthe backing file path of a libvirt-storage-backed VM.\n\nImplements bp: use-libvirt-storage-pools\n\nChange-Id: I73aa1fcd301c254f20614b38115f880e79e15c7c\n""}, {'number': 6, 'created': '2014-08-20 18:47:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0b896595137457dd87d19cc9a9f7bc9fd03d5415', 'message': ""Introduce the Libvirt Storage Image Backend\n\nThis commit introduces the libvirt storage image backend.\nFor this commit, the backend will only be used if an image\ntype of 'libvirt-storage' is specified.  The libvirt\nImageCacheManager has also been made aware of how to extract\nthe backing file path of a libvirt-storage-backed VM.\n\nImplements bp: use-libvirt-storage-pools\n\nChange-Id: I73aa1fcd301c254f20614b38115f880e79e15c7c\n""}, {'number': 7, 'created': '2014-08-20 22:54:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/37ef894cce2d0652cbfeb610aa0b3a14ff2d0cab', 'message': ""Introduce the Libvirt Storage Image Backend\n\nThis commit introduces the libvirt storage image backend.\nFor this commit, the backend will only be used if an image\ntype of 'libvirt-storage' is specified.  The libvirt\nImageCacheManager has also been made aware of how to extract\nthe backing file path of a libvirt-storage-backed VM.\n\nImplements bp: use-libvirt-storage-pools\n\nChange-Id: I73aa1fcd301c254f20614b38115f880e79e15c7c\n""}, {'number': 8, 'created': '2014-08-21 17:34:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/38a5d6f7938cd0c131ebe711757e3d0fdce28766', 'message': ""Introduce the Libvirt Storage Image Backend\n\nThis commit introduces the libvirt storage image backend.\nFor this commit, the backend will only be used if an image\ntype of 'libvirt-storage' is specified.  The libvirt\nImageCacheManager has also been made aware of how to extract\nthe backing file path of a libvirt-storage-backed VM.\n\nImplements bp: use-libvirt-storage-pools\n\nChange-Id: I73aa1fcd301c254f20614b38115f880e79e15c7c\n""}, {'number': 9, 'created': '2014-08-21 21:29:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ac3baf343feda7bc182dcb0810353a88197c6853', 'message': ""Introduce the Libvirt Storage Image Backend\n\nThis commit introduces the libvirt storage image backend.\nFor this commit, the backend will only be used if an image\ntype of 'libvirt-storage' is specified.  The libvirt\nImageCacheManager has also been made aware of how to extract\nthe backing file path of a libvirt-storage-backed VM.\n\nImplements bp: use-libvirt-storage-pools\n\nChange-Id: I73aa1fcd301c254f20614b38115f880e79e15c7c\n""}, {'number': 10, 'created': '2014-08-22 17:35:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/41d09766737226652803684b4295bfe230d88296', 'message': ""Introduce the Libvirt Storage Image Backend\n\nThis commit introduces the libvirt storage image backend.\nFor this commit, the backend will only be used if an image\ntype of 'libvirt-storage' is specified.  The libvirt\nImageCacheManager has also been made aware of how to extract\nthe backing file path of a libvirt-storage-backed VM.\n\nImplements bp: use-libvirt-storage-pools\n\nChange-Id: I73aa1fcd301c254f20614b38115f880e79e15c7c\n""}, {'number': 11, 'created': '2014-08-23 01:42:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ab20be28f57935bf1094a625a4de2c5eff4ed7a4', 'message': ""Introduce the Libvirt Storage Image Backend\n\nThis commit introduces the libvirt storage image backend.\nFor this commit, the backend will only be used if an image\ntype of 'libvirt-storage' is specified.  The libvirt\nImageCacheManager has also been made aware of how to extract\nthe backing file path of a libvirt-storage-backed VM.\n\nImplements bp: use-libvirt-storage-pools\n\nChange-Id: I73aa1fcd301c254f20614b38115f880e79e15c7c\n""}, {'number': 12, 'created': '2014-08-25 15:30:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f767cf8ead5fdf3185033742d1bdd0440817ee51', 'message': ""Introduce the Libvirt Storage Image Backend\n\nThis commit introduces the libvirt storage image backend.\nFor this commit, the backend will only be used if an image\ntype of 'libvirt-storage' is specified.  The libvirt\nImageCacheManager has also been made aware of how to extract\nthe backing file path of a libvirt-storage-backed VM.\n\nImplements bp: use-libvirt-storage-pools\n\nChange-Id: I73aa1fcd301c254f20614b38115f880e79e15c7c\n""}, {'number': 13, 'created': '2014-08-25 17:23:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9ee401cab00e04b6af0b51c3995d8eb1221f8f15', 'message': ""Introduce the Libvirt Storage Image Backend\n\nThis commit introduces the libvirt storage image backend.\nFor this commit, the backend will only be used if an image\ntype of 'libvirt-storage' is specified.  The libvirt\nImageCacheManager has also been made aware of how to extract\nthe backing file path of a libvirt-storage-backed VM.\n\nImplements bp: use-libvirt-storage-pools\n\nChange-Id: I73aa1fcd301c254f20614b38115f880e79e15c7c\n""}, {'number': 14, 'created': '2014-08-26 18:16:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b24870d774bc04f811ff0a37504517189be6f167', 'message': ""Introduce the Libvirt Storage Image Backend\n\nThis commit introduces the libvirt storage image backend.\nFor this commit, the backend will only be used if an image\ntype of 'libvirt-storage' is specified.  The libvirt\nImageCacheManager has also been made aware of how to extract\nthe backing file path of a libvirt-storage-backed VM.\n\nIn order to facilitate cold migrations and resizes, migrate data\nis now passed to the destroy method on revert-resize containing\ninformation on whether or not we are resizing to the same host.\n\nImplements bp: use-libvirt-storage-pools\n\nChange-Id: I73aa1fcd301c254f20614b38115f880e79e15c7c\n""}, {'number': 15, 'created': '2014-08-26 18:32:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/56c8553d7e2dd27a543ddb2339c4f4f9f593cfe4', 'message': ""Introduce the Libvirt Storage Image Backend\n\nThis commit introduces the libvirt storage image backend.\nFor this commit, the backend will only be used if an image\ntype of 'libvirt-storage' is specified.  The libvirt\nImageCacheManager has also been made aware of how to extract\nthe backing file path of a libvirt-storage-backed VM.\n\nIn order to facilitate cold migrations and resizes, migrate data\nis now passed to the destroy method on revert-resize containing\ninformation on whether or not we are resizing to the same host.\n\nImplements bp: use-libvirt-storage-pools\n\nChange-Id: I73aa1fcd301c254f20614b38115f880e79e15c7c\n""}, {'number': 16, 'created': '2014-08-28 18:14:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/894b7a4437bad21ced3120d1dc675c0fc537e508', 'message': ""Introduce the Libvirt Storage Image Backend\n\nThis commit introduces the libvirt storage image backend.\nFor this commit, the backend will only be used if an image\ntype of 'libvirt-storage' is specified.  The libvirt\nImageCacheManager has also been made aware of how to extract\nthe backing file path of a libvirt-storage-backed VM.\n\nIn order to facilitate cold migrations and resizes, migrate data\nis now passed to the destroy method on revert-resize containing\ninformation on whether or not we are resizing to the same host.\n\nImplements bp: use-libvirt-storage-pools\n\nChange-Id: I73aa1fcd301c254f20614b38115f880e79e15c7c\n""}, {'number': 17, 'created': '2014-08-28 23:19:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d1a37629429471c2277fe43dcec021c762e3edc2', 'message': ""Introduce the Libvirt Storage Image Backend\n\nThis commit introduces the libvirt storage image backend.\nFor this commit, the backend will only be used if an image\ntype of 'libvirt-storage' is specified.  The libvirt\nImageCacheManager has also been made aware of how to extract\nthe backing file path of a libvirt-storage-backed VM.\n\nIn order to facilitate cold migrations and resizes, migrate data\nis now passed to the destroy method on revert-resize containing\ninformation on whether or not we are resizing to the same host.\n\nImplements bp: use-libvirt-storage-pools\n\nChange-Id: I73aa1fcd301c254f20614b38115f880e79e15c7c\n""}, {'number': 18, 'created': '2014-09-02 04:32:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/029b78a6a533766fcf6d594c6ff3264c67b78409', 'message': ""Introduce the Libvirt Storage Image Backend\n\nThis commit introduces the libvirt storage image backend.\nFor this commit, the backend will only be used if the\n'[libvirt] use_storage_pools' option is enabled.  The libvirt\nImageCacheManager has also been made aware of how to extract\nthe backing file path of a libvirt-storage-backed VM.\n\nIn order to facilitate cold migrations and resizes, migrate data\nis now passed to the destroy method on revert-resize containing\ninformation on whether or not we are resizing to the same host.\n\nImplements bp: use-libvirt-storage-pools\n\nChange-Id: I73aa1fcd301c254f20614b38115f880e79e15c7c\n""}, {'number': 19, 'created': '2014-09-02 15:37:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2ea4b2c2d31cc5c2f80d8db038ccb6ced8ad2921', 'message': ""Introduce the Libvirt Storage Image Backend\n\nThis commit introduces the libvirt storage image backend.\nFor this commit, the backend will only be used if the\n'[libvirt] use_storage_pools' option is enabled.  The libvirt\nImageCacheManager has also been made aware of how to extract\nthe backing file path of a libvirt-storage-backed VM.\n\nIn order to facilitate cold migrations and resizes, migrate data\nis now passed to the destroy method on revert-resize containing\ninformation on whether or not we are resizing to the same host.\n\nImplements bp: use-libvirt-storage-pools\n\nChange-Id: I73aa1fcd301c254f20614b38115f880e79e15c7c\n""}, {'number': 20, 'created': '2014-09-02 18:22:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/784454a08719afbea66097e14bfda43b980372ea', 'message': ""Introduce the Libvirt Storage Image Backend\n\nThis commit introduces the libvirt storage image backend.\nFor this commit, the backend will only be used if the\n'[libvirt] use_storage_pools' option is enabled.  The libvirt\nImageCacheManager has also been made aware of how to extract\nthe backing file path of a libvirt-storage-backed VM.\n\nIn order to facilitate cold migrations and resizes, migrate data\nis now passed to the destroy method on revert-resize containing\ninformation on whether or not we are resizing to the same host.\n\nImplements bp: use-libvirt-storage-pools\n\nChange-Id: I73aa1fcd301c254f20614b38115f880e79e15c7c\n""}, {'number': 21, 'created': '2014-09-03 00:33:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/716d9135260ab63575785260ec2e5dee3864e673', 'message': ""Introduce the Libvirt Storage Image Backend\n\nThis commit introduces the libvirt storage image backend.\nFor this commit, the backend will only be used if the\n'[libvirt] use_storage_pools' option is enabled.  The libvirt\nImageCacheManager has also been made aware of how to extract\nthe backing file path of a libvirt-storage-backed VM.\n\nIn order to facilitate cold migrations and resizes, migrate data\nis now passed to the destroy method on revert-resize containing\ninformation on whether or not we are resizing to the same host.\n\nImplements bp: use-libvirt-storage-pools\n\nChange-Id: I73aa1fcd301c254f20614b38115f880e79e15c7c\n""}, {'number': 22, 'created': '2014-09-05 21:04:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/74a0c622a106c0a06f62fa787314a7d2be67fce5', 'message': ""Introduce the Libvirt Storage Image Backend\n\nThis commit introduces the libvirt storage image backend.\nFor this commit, the backend will only be used if the\n'[libvirt] use_storage_pools' option is enabled.  The libvirt\nImageCacheManager has also been made aware of how to extract\nthe backing file path of a libvirt-storage-backed VM.\n\nIf no pool of the appropriate name exists, a pool will be created\nbased the legacy backend configuration options.\n\nIn order to facilitate cold migrations and resizes, migrate data\nis now passed to the destroy method on revert-resize containing\ninformation on whether or not we are resizing to the same host.\n\nNote that RBD-based storage pools are not yet supported.\n\nImplements bp: use-libvirt-storage-pools\n\nChange-Id: I73aa1fcd301c254f20614b38115f880e79e15c7c\n""}, {'number': 23, 'created': '2014-09-06 03:15:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/562f6dbd8c3a07fa3832b6e5d41831a15ee4ffef', 'message': ""Introduce the Libvirt Storage Image Backend\n\nThis commit introduces the libvirt storage image backend.\nFor this commit, the backend will only be used if the\n'[libvirt] use_storage_pools' option is enabled.  The libvirt\nImageCacheManager has also been made aware of how to extract\nthe backing file path of a libvirt-storage-backed VM.\n\nIf no pool of the appropriate name exists, a pool will be created\nbased the legacy backend configuration options.\n\nIn order to facilitate cold migrations and resizes, migrate data\nis now passed to the destroy method on revert-resize containing\ninformation on whether or not we are resizing to the same host.\n\nNote that RBD-based storage pools are not yet supported.\n\nImplements bp: use-libvirt-storage-pools\n\nChange-Id: I73aa1fcd301c254f20614b38115f880e79e15c7c\n""}, {'number': 24, 'created': '2014-09-06 04:14:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5f589e861be6ba3bafa27bc37c60164074a73947', 'message': ""Introduce the Libvirt Storage Image Backend\n\nThis commit introduces the libvirt storage image backend.\nFor this commit, the backend will only be used if the\n'[libvirt] use_storage_pools' option is enabled.  The libvirt\nImageCacheManager has also been made aware of how to extract\nthe backing file path of a libvirt-storage-backed VM.\n\nIf no pool of the appropriate name exists, a pool will be created\nbased the legacy backend configuration options.\n\nIn order to facilitate cold migrations and resizes, migrate data\nis now passed to the destroy method on revert-resize containing\ninformation on whether or not we are resizing to the same host.\n\nNote that RBD-based storage pools are not yet supported.\n\nImplements bp: use-libvirt-storage-pools\n\nChange-Id: I73aa1fcd301c254f20614b38115f880e79e15c7c\n""}, {'number': 25, 'created': '2014-09-07 18:36:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/70ef3e999f7616eb82ebc2934260b8648feca0bf', 'message': ""Introduce the Libvirt Storage Image Backend\n\nThis commit introduces the libvirt storage image backend.\nFor this commit, the backend will only be used if the\n'[libvirt] use_storage_pools' option is enabled.  The libvirt\nImageCacheManager has also been made aware of how to extract\nthe backing file path of a libvirt-storage-backed VM.\n\nIf no pool of the appropriate name exists, a pool will be created\nbased the legacy backend configuration options.\n\nIn order to facilitate cold migrations and resizes, migrate data\nis now passed to the destroy method on revert-resize containing\ninformation on whether or not we are resizing to the same host.\n\nNote that RBD-based storage pools are not yet supported.\n\nImplements bp: use-libvirt-storage-pools\n\nChange-Id: I73aa1fcd301c254f20614b38115f880e79e15c7c\n""}, {'number': 26, 'created': '2014-09-08 02:19:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/853190e271cb38a09228386f2f2aeed95fb956f5', 'message': ""Introduce the Libvirt Storage Image Backend\n\nThis commit introduces the libvirt storage image backend.\nFor this commit, the backend will only be used if the\n'[libvirt] use_storage_pools' option is enabled.  The libvirt\nImageCacheManager has also been made aware of how to extract\nthe backing file path of a libvirt-storage-backed VM.\n\nIf no pool of the appropriate name exists, a pool will be created\nbased the legacy backend configuration options.\n\nIn order to facilitate cold migrations and resizes, migrate data\nis now passed to the destroy method on revert-resize containing\ninformation on whether or not we are resizing to the same host.\n\nNote that RBD-based storage pools are not yet supported.\n\nImplements bp: use-libvirt-storage-pools\n\nChange-Id: I73aa1fcd301c254f20614b38115f880e79e15c7c\n""}, {'number': 27, 'created': '2015-01-21 01:16:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a03488ea0b64a310cd0e335003c473d06f5fbf56', 'message': ""Introduce the Libvirt Storage Image Backend\n\nThis commit introduces the libvirt storage image backend.\nFor this commit, the backend will only be used if the\n'[libvirt] use_storage_pools' option is enabled.  The libvirt\nImageCacheManager has also been made aware of how to extract\nthe backing file path of a libvirt-storage-backed VM.\n\nIf no pool of the appropriate name exists, a pool will be created\nbased the legacy backend configuration options.\n\nIn order to facilitate cold migrations and resizes, migrate data\nis now passed to the destroy method on revert-resize containing\ninformation on whether or not we are resizing to the same host.\n\nNote that RBD-based storage pools are not yet supported.\n\nImplements bp: use-libvirt-storage-pools\n\nChange-Id: I73aa1fcd301c254f20614b38115f880e79e15c7c\n""}, {'number': 28, 'created': '2015-01-21 17:00:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5cd4f651c165345c92a5b1a319d2ac05d1e487e3', 'message': ""Introduce the Libvirt Storage Image Backend\n\nThis commit introduces the libvirt storage image backend.\nFor this commit, the backend will only be used if the\n'[libvirt] use_storage_pools' option is enabled.  The libvirt\nImageCacheManager has also been made aware of how to extract\nthe backing file path of a libvirt-storage-backed VM.\n\nIf no pool of the appropriate name exists, a pool will be created\nbased the legacy backend configuration options.\n\nIn order to facilitate cold migrations and resizes, migrate data\nis now passed to the destroy method on revert-resize containing\ninformation on whether or not we are resizing to the same host.\n\nNote that RBD-based storage pools are not yet supported.\n\nImplements bp: use-libvirt-storage-pools\n\nChange-Id: I73aa1fcd301c254f20614b38115f880e79e15c7c\n""}, {'number': 29, 'created': '2015-01-21 18:42:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4f947d48ec88b8eb35d11f79d15185ece6a52fe5', 'message': ""Introduce the Libvirt Storage Image Backend\n\nThis commit introduces the libvirt storage image backend.\nFor this commit, the backend will only be used if the\n'[libvirt] use_storage_pools' option is enabled.  The libvirt\nImageCacheManager has also been made aware of how to extract\nthe backing file path of a libvirt-storage-backed VM.\n\nIf no pool of the appropriate name exists, a pool will be created\nbased the legacy backend configuration options.\n\nIn order to facilitate cold migrations and resizes, migrate data\nis now passed to the destroy method on revert-resize containing\ninformation on whether or not we are resizing to the same host.\n\nNote that RBD-based storage pools are not yet supported.\n\nImplements bp: use-libvirt-storage-pools\n\nChange-Id: I73aa1fcd301c254f20614b38115f880e79e15c7c\n""}, {'number': 30, 'created': '2015-01-21 21:20:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/86b0e1c58103bd2f66ae40fb019c769de3714fea', 'message': ""Introduce the Libvirt Storage Image Backend\n\nThis commit introduces the libvirt storage image backend.\nFor this commit, the backend will only be used if the\n'[libvirt] use_storage_pools' option is enabled.  The libvirt\nImageCacheManager has also been made aware of how to extract\nthe backing file path of a libvirt-storage-backed VM.\n\nIf no pool of the appropriate name exists, a pool will be created\nbased the legacy backend configuration options.\n\nIn order to facilitate cold migrations and resizes, migrate data\nis now passed to the destroy method on revert-resize containing\ninformation on whether or not we are resizing to the same host.\n\nNote that RBD-based storage pools are not yet supported.\n\nImplements bp: use-libvirt-storage-pools\n\nChange-Id: I73aa1fcd301c254f20614b38115f880e79e15c7c\n""}, {'number': 31, 'created': '2015-01-22 22:30:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/937705f1fc59476d083c8679fdb5832c31edb100', 'message': ""Introduce the Libvirt Storage Image Backend\n\nThis commit introduces the libvirt storage image backend.\nFor this commit, the backend will only be used if the\n'[libvirt] use_storage_pools' option is enabled.  The libvirt\nImageCacheManager has also been made aware of how to extract\nthe backing file path of a libvirt-storage-backed VM.\n\nIf no pool of the appropriate name exists, a pool will be created\nbased the legacy backend configuration options.\n\nIn order to facilitate cold migrations and resizes, migrate data\nis now passed to the destroy method on revert-resize containing\ninformation on whether or not we are resizing to the same host.\n\nNote that RBD-based storage pools are not yet supported.\n\nImplements bp: use-libvirt-storage-pools\n\nChange-Id: I73aa1fcd301c254f20614b38115f880e79e15c7c\n""}, {'number': 32, 'created': '2015-02-03 00:02:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4fa6ae9295d51a0cd354c75d5003df4e67c3ea70', 'message': ""Introduce the Libvirt Storage Image Backend\n\nThis commit introduces the libvirt storage image backend.\nFor this commit, the backend will only be used if the\n'[libvirt] use_storage_pools' option is enabled.  The libvirt\nImageCacheManager has also been made aware of how to extract\nthe backing file path of a libvirt-storage-backed VM.\n\nIf no pool of the appropriate name exists, a pool will be created\nbased the legacy backend configuration options.\n\nIn order to facilitate cold migrations and resizes, migrate data\nis now passed to the destroy method on revert-resize containing\ninformation on whether or not we are resizing to the same host.\n\nNote that RBD-based storage pools are not yet supported.\n\nImplements bp: use-libvirt-storage-pools\n\nChange-Id: I73aa1fcd301c254f20614b38115f880e79e15c7c\n""}, {'number': 33, 'created': '2015-02-05 20:49:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d623bcf1997e30fe543b834f8eb2b895b1f97a7c', 'message': ""Introduce the Libvirt Storage Image Backend\n\nThis commit introduces the libvirt storage image backend.\nFor this commit, the backend will only be used if the\n'[libvirt] use_storage_pools' option is enabled.  The libvirt\nImageCacheManager has also been made aware of how to extract\nthe backing file path of a libvirt-storage-backed VM.\n\nIf no pool of the appropriate name exists, a pool will be created\nbased the legacy backend configuration options.\n\nIn order to facilitate cold migrations and resizes, migrate data\nis now passed to the destroy method on revert-resize containing\ninformation on whether or not we are resizing to the same host.\n\nNote that RBD-based storage pools are not yet supported.\n\nImplements bp: use-libvirt-storage-pools\n\nChange-Id: I73aa1fcd301c254f20614b38115f880e79e15c7c\n""}, {'number': 34, 'created': '2015-02-05 22:06:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7751978df9222ad8f7e246c30054afdfb9abab64', 'message': ""Introduce the Libvirt Storage Image Backend\n\nThis commit introduces the libvirt storage image backend.\nFor this commit, the backend will only be used if the\n'[libvirt] use_storage_pools' option is enabled.  The libvirt\nImageCacheManager has also been made aware of how to extract\nthe backing file path of a libvirt-storage-backed VM.\n\nIf no pool of the appropriate name exists, a pool will be created\nbased the legacy backend configuration options.\n\nIn order to facilitate cold migrations and resizes, migrate data\nis now passed to the destroy method on revert-resize containing\ninformation on whether or not we are resizing to the same host.\n\nNote that RBD-based storage pools are not yet supported.\n\nImplements bp: use-libvirt-storage-pools\n\nChange-Id: I73aa1fcd301c254f20614b38115f880e79e15c7c\n""}, {'number': 35, 'created': '2015-02-06 01:56:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1b8652876922da88ec015f7ce3549442c8420f6b', 'message': ""Introduce the Libvirt Storage Image Backend\n\nThis commit introduces the libvirt storage image backend.\nFor this commit, the backend will only be used if the\n'[libvirt] use_storage_pools' option is enabled.  The libvirt\nImageCacheManager has also been made aware of how to extract\nthe backing file path of a libvirt-storage-backed VM.\n\nIf no pool of the appropriate name exists, a pool will be created\nbased the legacy backend configuration options.\n\nIn order to facilitate cold migrations and resizes, migrate data\nis now passed to the destroy method on revert-resize containing\ninformation on whether or not we are resizing to the same host.\n\nNote that RBD-based storage pools are not yet supported.\n\nImplements bp: use-libvirt-storage-pools\n\nChange-Id: I73aa1fcd301c254f20614b38115f880e79e15c7c\n""}, {'number': 36, 'created': '2015-02-06 15:39:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/04628c8fdcd1d633e117d2540fd6ae0a2f7df9a1', 'message': ""Introduce the Libvirt Storage Image Backend\n\nThis commit introduces the libvirt storage image backend.\nFor this commit, the backend will only be used if the\n'[libvirt] use_storage_pools' option is enabled.  The libvirt\nImageCacheManager has also been made aware of how to extract\nthe backing file path of a libvirt-storage-backed VM.\n\nIf no pool of the appropriate name exists, a pool will be created\nbased the legacy backend configuration options.\n\nIn order to facilitate cold migrations and resizes, migrate data\nis now passed to the destroy method on revert-resize containing\ninformation on whether or not we are resizing to the same host.\n\nNote that RBD-based storage pools are not yet supported.\n\nImplements bp: use-libvirt-storage-pools\n\nChange-Id: I73aa1fcd301c254f20614b38115f880e79e15c7c\n""}, {'number': 37, 'created': '2015-02-06 22:06:07.000000000', 'files': ['nova/virt/libvirt/imagecache.py', 'nova/virt/libvirt/config.py', 'nova/tests/unit/virt/libvirt/test_imagebackend.py', 'nova/tests/unit/virt/libvirt/fake_libvirt_utils.py', 'nova/virt/disk/vfs/guestfs.py', 'nova/virt/libvirt/utils.py', 'nova/tests/unit/virt/libvirt/fake_imagebackend.py', 'nova/tests/unit/virt/libvirt/test_driver.py', 'nova/exception.py', 'nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/fakelibvirt.py', 'nova/virt/libvirt/imagebackend.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/d421eb10b36dff7c10bf5e967638058e25a7550e', 'message': ""Introduce the Libvirt Storage Image Backend\n\nThis commit introduces the libvirt storage image backend.\nFor this commit, the backend will only be used if the\n'[libvirt] use_storage_pools' option is enabled.  The libvirt\nImageCacheManager has also been made aware of how to extract\nthe backing file path of a libvirt-storage-backed VM.\n\nIf no pool of the appropriate name exists, a pool will be created\nbased the legacy backend configuration options.\n\nIn order to facilitate cold migrations and resizes, migrate data\nis now passed to the destroy method on revert-resize containing\ninformation on whether or not we are resizing to the same host.\n\nNote that RBD-based storage pools are not yet supported.\n\nImplements bp: use-libvirt-storage-pools\n\nChange-Id: I73aa1fcd301c254f20614b38115f880e79e15c7c\n""}]",55,113060,d421eb10b36dff7c10bf5e967638058e25a7550e,217,16,37,7677,,,0,"Introduce the Libvirt Storage Image Backend

This commit introduces the libvirt storage image backend.
For this commit, the backend will only be used if the
'[libvirt] use_storage_pools' option is enabled.  The libvirt
ImageCacheManager has also been made aware of how to extract
the backing file path of a libvirt-storage-backed VM.

If no pool of the appropriate name exists, a pool will be created
based the legacy backend configuration options.

In order to facilitate cold migrations and resizes, migrate data
is now passed to the destroy method on revert-resize containing
information on whether or not we are resizing to the same host.

Note that RBD-based storage pools are not yet supported.

Implements bp: use-libvirt-storage-pools

Change-Id: I73aa1fcd301c254f20614b38115f880e79e15c7c
",git fetch https://review.opendev.org/openstack/nova refs/changes/60/113060/7 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/imagecache.py', 'nova/tests/virt/libvirt/test_imagebackend.py', 'nova/tests/virt/libvirt/fakelibvirt.py', 'nova/virt/libvirt/pool_utils.py', 'nova/virt/libvirt/config.py', 'nova/tests/virt/libvirt/test_pool_utils.py', 'nova/tests/virt/libvirt/fake_libvirt_utils.py', 'nova/virt/libvirt/utils.py', 'nova/virt/disk/api.py', 'nova/virt/libvirt/driver.py', 'nova/tests/virt/libvirt/test_imagecache.py', 'nova/compute/manager.py', 'nova/tests/virt/libvirt/test_driver.py', 'nova/virt/libvirt/imagebackend.py']",14,5398371131415df32dd79608b64c6e3e88223220,bp/use-libvirt-storage-pools,"# Copyright 2014 Red Hat, Incimport libvirtfrom nova.virt.libvirt import pool_utilsCONF.import_opt('instances_path', 'nova.compute.manager')def _dict_from_line(line): if not line: return {} try: return jsonutils.loads(line) except (TypeError, ValueError) as e: msg = (_(""Could not load line %(line)s, got error "" ""%(error)s"") % {'line': line, 'error': unicode(e)}) raise exception.InvalidDiskInfo(reason=msg) def _write_disk_info_to_file(self, image, driver_format): @utils.synchronized(self.disk_info_path, external=False, lock_path=self.lock_path) def write_disk_info_to_file_sync(): # Use os.open to create it without group or world write permission. fd = os.open(self.disk_info_path, os.O_RDONLY | os.O_CREAT, 0o644) with os.fdopen(fd, ""r"") as disk_info_file: line = disk_info_file.read().rstrip() dct = _dict_from_line(line) if image in dct: msg = _(""Attempted overwrite of an existing value."") raise exception.InvalidDiskInfo(reason=msg) dct.update({image: driver_format}) tmp_path = self.disk_info_path + "".tmp"" fd = os.open(tmp_path, os.O_WRONLY | os.O_CREAT, 0o644) with os.fdopen(fd, ""w"") as tmp_file: tmp_file.write('%s\n' % jsonutils.dumps(dct)) os.rename(tmp_path, self.disk_info_path) if self.disk_info_path is not None: try: fileutils.ensure_tree(os.path.dirname(self.disk_info_path)) write_disk_info_to_file_sync() except OSError as e: raise exception.DiskInfoReadWriteFail(reason=unicode(e)) def _read_disk_info_from_file(self, image): if (self.disk_info_path is not None and os.path.exists(self.disk_info_path)): try: with open(self.disk_info_path) as disk_info_file: line = disk_info_file.read().rstrip() dct = _dict_from_line(line) for img, driver_format in dct.iteritems(): if img == image: return driver_format except OSError as e: raise exception.DiskInfoReadWriteFail(reason=unicode(e)) return None driver_format = self._read_disk_info_from_file(self.path) if driver_format is None: self._write_disk_info_to_file(self.path, driver_format) def is_shared_block_storage(self):class LibvirtVolume(Image): FILE_BASED_POOLS = ('dir', 'fs', 'netfs', 'gluster') NET_BASED_POOLS = ('netfs', 'gluster', 'sheepdog', 'rbd') FORMATS_WITH_BACKING_STORES = ('cow', 'qcow', 'qcow2', 'qed') @classmethod def refresh_pool(cls, conn): pool = conn.storagePoolLookupByName(pool_utils.MAIN_POOL) pool.refresh() def __init__(self, conn, instance=None, disk_name=None, volume_name=None, volume_type=None, write_format=True): self.lock_path = os.path.join(CONF.instances_path, 'locks') self._conn = conn self.pool = conn.storagePoolLookupByName(pool_utils.MAIN_POOL) self.pool_parsed = vconfig.LibvirtConfigStoragePool() self.pool_parsed.parse_str(self.pool.XMLDesc(0)) self.cache_pool = conn.storagePoolLookupByName( pool_utils.IMAGE_CACHE_POOL) self.cache_pool_parsed = vconfig.LibvirtConfigStoragePool() self.cache_pool_parsed.parse_str(self.cache_pool.XMLDesc(0)) if volume_name is None: self.volume_name = pool_utils.name_volume(instance, disk_name) else: self.volume_name = volume_name if self.pool_parsed.type in self.FILE_BASED_POOLS: self.disk_info_path = os.path.join(CONF.instances_path, instance['uuid'], 'disk.info') else: self.disk_info_path = None # if we're not in a file-based pool, we might get # passed raw or qcow2 anyway because images_type # was set to 'libvirt-storage' if (self.pool_parsed.type in self.FILE_BASED_POOLS or self.pool_parsed.type == 'disk'): self.volume_type = volume_type else: self.volume_type = None self.preallocate = (self.pool_parsed.type in self.FILE_BASED_POOLS and CONF.preallocate_images != 'none') if not self.pool.isActive(): self.pool.create() if not self.cache_pool.isActive(): self.cache_pool.create() # NB(sross): don't write the format on snapshots, because # we don't necessarily have an instance directory self.write_format = write_format self.driver_format = None self.correct_format() # avoid the pitfalls of raw def delete(self): """"""Delete the volume associated with this image."""""" vol = self.pool.storageVolLookupByName(self.volume_name) vol.delete() @property def is_block_dev(self): return self.pool_parsed.type not in self.FILE_BASED_POOLS def libvirt_info(self, disk_bus, disk_dev, device_type, cache_mode, extra_specs, hypervisor_version): info = vconfig.LibvirtConfigGuestDisk() info.source_type = 'volume' info.source_volume = self.volume_name info.source_pool = self.pool.name() info.source_device = device_type info.target_bus = disk_bus info.target_dev = disk_dev info.driver_cache = cache_mode info.driver_format = self.driver_format driver_name = libvirt_utils.pick_disk_driver_name(hypervisor_version, self.is_block_dev) info.driver_name = driver_name tune_items = ['disk_read_bytes_sec', 'disk_read_iops_sec', 'disk_write_bytes_sec', 'disk_write_iops_sec', 'disk_total_bytes_sec', 'disk_total_iops_sec'] # Note(yaguang): Currently, the only tuning available is Block I/O # throttling for qemu. for key, value in extra_specs.iteritems(): scope = key.split(':') if len(scope) > 1 and scope[0] == 'quota': if scope[1] in tune_items: setattr(info, scope[1], value) return info def check_image_exists(self): if self.is_shared_block_storage(): self.pool.refresh() return pool_utils.check_volume_exists_in_pool(self.pool, self.volume_name) def cache(self, fetch_func, filename, size=None, *args, **kwargs): @utils.synchronized(filename, external=True, lock_path=self.lock_path) def fetch_func_sync(target, *args, **kwargs): target_path = os.path.join(self.cache_pool_parsed.target['path'], target) fetch_func(target=target_path, *args, **kwargs) self.cache_pool.refresh() if (not self.check_image_exists() or not pool_utils.check_volume_exists_in_pool(self.cache_pool, filename)): self.create_image(fetch_func_sync, filename, size, *args, **kwargs) def _check_supports_backing_store(self): return (self.pool_parsed.type in self.FILE_BASED_POOLS and self.volume_type in self.FORMATS_WITH_BACKING_STORES) def _make_libvirt_volume_copier(self, base_name, target_pool, use_backing_store): @utils.synchronized(base_name, external=True, lock_path=self.lock_path) def copy_libvirt_volume(base, target_name, size, target_format=None, permissions=None): vol_info = vconfig.LibvirtConfigStorageVolume() vol_info.name = target_name vol_info.capacity = size or base.info()[1] flags = 0 # no allocation element means full allocation if not self.preallocate: vol_info.allocation = 0 vol_info.target['permissions'] = permissions # NB(sross): qcow2 doesn't actually support preallocation, # and preallocating metadata with a backing store # does not work vol_info.target['format'] = target_format or self.volume_type if use_backing_store: vol_info.backing_store = {'path': base.path()} res = target_pool.createXML(vol_info.to_xml(), flags) else: res = target_pool.createXMLFrom(vol_info.to_xml(), base, flags) # attempt to resize the fs if necessary and possible if res and size is not None and size != base.info()[1]: self._try_resize_fs(res, size) return copy_libvirt_volume def _try_resize_fs(self, vol, new_size): # NB(sross): currently, we can only resize the filesystems # of file-based volumes and LVM-based volumes if (self.pool_parsed.type in self.FILE_BASED_POOLS + ('logical',)): vol_parsed = vconfig.LibvirtConfigStorageVolume() vol_parsed.parse_str(vol.XMLDesc(0)) target_path = vol_parsed.target['path'] use_cow = (vol_parsed.target['format'] in self.FORMATS_WITH_BACKING_STORES) disk.try_resize_fs(target_path, use_cow) def create_empty_image(self, size): """"""Creates an empty image of the specified size."""""" vol_info = vconfig.LibvirtConfigStorageVolume() vol_info.name = self.volume_name vol_info.capacity = size vol_info.target['format'] = self.volume_type vol_info.target['permissions'] = {'owner': os.getuid(), 'group': os.getgid()} return self.pool.createXML(vol_info.to_xml(), 0) # NB(sross): unlike elsewhere, base is just a volume name here, not a path def create_image(self, prepare_template, base, size, *args, **kwargs): try: base_vol = self.cache_pool.storageVolLookupByName(base) except libvirt.libvirtError as e: if e.get_error_code() != libvirt.VIR_ERR_NO_STORAGE_VOL: raise e else: prepare_template(target=base, max_size=size, *args, **kwargs) base_vol = self.cache_pool.storageVolLookupByName(base) self.verify_base_size(base_vol, size) if not self.check_image_exists(): use_backing_store = self._check_supports_backing_store() copier = self._make_libvirt_volume_copier(base, self.pool, use_backing_store) copier(base_vol, self.volume_name, size) self.correct_format() def transition_from_volume(self, volume, new_size=None, delete=True): copier = self._make_libvirt_volume_copier(volume.name(), self.pool, False) size = new_size or volume.info()[1] res = copier(volume, self.volume_name, size) if res is not None: self.correct_format() if delete: volume.delete() return res def transition_from_file(self, file_path, new_size=None, delete=True): """"""Transition from a file-based backend to a Libvirt volume."""""" file_dir = os.path.dirname(file_path) file_name = os.path.basename(file_path) prefix = 'backend-trans-%s-' % file_name with pool_utils.temp_pool(self._conn, file_dir, prefix) as pool: base_vol = pool.storageVolLookupByName(file_name) base_vol_parsed = vconfig.LibvirtConfigStorageVolume() base_vol_parsed.parse_str(base_vol.XMLDesc(0)) vol_info = vconfig.LibvirtConfigStorageVolume() vol_info.name = self.volume_name vol_info.capacity = new_size or base_vol_parsed.capacity vol_info.allocation = base_vol_parsed.allocation vol_info.target['format'] = self.volume_type if self.pool_parsed.type in self.FILE_BASED_POOLS: if base_vol_parsed.backing_store is not None: backing_store_path = base_vol_parsed.backing_store['path'] vol_info.backing_store = {'path': backing_store_path} res = self.pool.createXMLFrom(vol_info.to_xml(), base_vol, 0) if res is not None: # NB(sross): only remove if we were successfull if delete: os.remove(file_path) # run correct_format so we have an entry for later self.correct_format() if new_size is not None: self._try_resize_fs(res, new_size) return res def snapshot_extract(self, target, out_format): # convert target to a name target_dir = os.path.dirname(target) target_name = os.path.basename(target) prefix = 'snasphot-%s-' % target_name with pool_utils.temp_pool(self._conn, target_dir, prefix) as snapshot_pool: # make a volume copier to do the copying properly copier = self._make_libvirt_volume_copier(self.volume_name, snapshot_pool, False) # make sure we have an output format if out_format is None: out_format = self.driver_format or 'raw' base_vol = self.pool.storageVolLookupByName(self.volume_name) copier(base_vol, target_name, None, out_format, permissions={'owner': os.getuid(), 'group': os.getgid()}) def _can_fallocate(self): raise NotImplementedError() @staticmethod def verify_base_size(base, size): if size is None: return base_size = base.info()[1] if size < base_size: msg = _LE('%(base)s virtual size %(base_size)s ' 'larger than flavor root disk size %(size)s') LOG.error(msg % {'base': base.name(), 'base_size': base_size, 'size': size}) raise exception.FlavorDiskTooSmall() def _get_driver_format_from_vol(self): vol = self.pool.storageVolLookupByName(self.volume_name) vol_parsed = vconfig.LibvirtConfigStorageVolume() vol_parsed.parse_str(vol.XMLDesc(0)) return vol_parsed.target.get('format', 'raw') def resolve_driver_format(self, write=True): driver_format = self._read_disk_info_from_file(self.volume_name) if driver_format is None: driver_format = self._get_driver_format_from_vol() if write: self._write_disk_info_to_file(self.volume_name, driver_format) return driver_format def correct_format(self): if self.pool_parsed.type not in self.FILE_BASED_POOLS: self.driver_format = 'raw' elif self.check_image_exists(): self.driver_format = self.resolve_driver_format(self.write_format) else: # if we're in a file-based pool, we can safely guess # driver_format == volume_type self.driver_format = self.volume_type def is_shared_block_storage(self): return self.pool_parsed.type in self.NET_BASED_POOLS def is_shared_block_storage(self): def __init__(self, use_cow, get_connection): 'rbd': Rbd } self.use_cow = use_cow self._get_connection = get_connection @property def _conn(self): return self._get_connection() def _resolve_image_type(self, img_type): if img_type is None: img_type = CONF.libvirt.images_type if img_type in ('default', 'libvirt-storage') or img_type is None: if self.use_cow: return 'qcow2' else: return 'raw' else: return img_type @classmethod def is_instance_disk_libvirt_volume(cls, conn, instance, disk_name): vol_name = pool_utils.name_volume(instance, disk_name) return cls._autodetect_libvirt_volume(conn, vol_name) @classmethod def _autodetect_libvirt_volume(cls, conn, vol_name): pool = conn.storagePoolLookupByName(pool_utils.MAIN_POOL) return pool_utils.check_volume_exists_in_pool(pool, vol_name) image_type = self._resolve_image_type(image_type) def image(self, instance, disk_name, image_type=None, is_volume=False): :conn: a raw libvirt connection :is_volume: should we use the new backend? (default is True) if image_type == 'libvirt-storage': is_volume = True if is_volume is None: is_volume = self.is_instance_disk_libvirt_volume(self._conn, instance, disk_name) image_type = self._resolve_image_type(image_type) if is_volume: return LibvirtVolume(instance=instance, disk_name=disk_name, volume_type=image_type, conn=self._conn) else: backend = self.backend(image_type) return backend(instance=instance, disk_name=disk_name) def snapshot(self, disk_path, image_type=None, is_volume=None, instance=None, write_format=True): :path: path to image or the volume name if is_volume is None: is_volume = self._autodetect_libvirt_volume(self._conn, disk_path) image_type = self._resolve_image_type(image_type) if is_volume: return LibvirtVolume(volume_name=disk_path, volume_type=image_type, conn=self._conn, instance=instance, write_format=write_format) else: backend = self.backend(image_type) return backend(path=disk_path)"," def _dict_from_line(line): if not line: return {} try: return jsonutils.loads(line) except (TypeError, ValueError) as e: msg = (_(""Could not load line %(line)s, got error "" ""%(error)s"") % {'line': line, 'error': unicode(e)}) raise exception.InvalidDiskInfo(reason=msg) @utils.synchronized(self.disk_info_path, external=False, lock_path=self.lock_path) def write_to_disk_info_file(): # Use os.open to create it without group or world write permission. fd = os.open(self.disk_info_path, os.O_RDONLY | os.O_CREAT, 0o644) with os.fdopen(fd, ""r"") as disk_info_file: line = disk_info_file.read().rstrip() dct = _dict_from_line(line) if self.path in dct: msg = _(""Attempted overwrite of an existing value."") raise exception.InvalidDiskInfo(reason=msg) dct.update({self.path: driver_format}) tmp_path = self.disk_info_path + "".tmp"" fd = os.open(tmp_path, os.O_WRONLY | os.O_CREAT, 0o644) with os.fdopen(fd, ""w"") as tmp_file: tmp_file.write('%s\n' % jsonutils.dumps(dct)) os.rename(tmp_path, self.disk_info_path) try: if (self.disk_info_path is not None and os.path.exists(self.disk_info_path)): with open(self.disk_info_path) as disk_info_file: line = disk_info_file.read().rstrip() dct = _dict_from_line(line) for path, driver_format in dct.iteritems(): if path == self.path: return driver_format if self.disk_info_path is not None: fileutils.ensure_tree(os.path.dirname(self.disk_info_path)) write_to_disk_info_file() except OSError as e: raise exception.DiskInfoReadWriteFail(reason=unicode(e)) @staticmethod def is_shared_block_storage(): @staticmethod def is_shared_block_storage(): def __init__(self, use_cow): 'rbd': Rbd, 'default': Qcow2 if use_cow else Raw } def image(self, instance, disk_name, image_type=None): backend = self.backend(image_type) return backend(instance=instance, disk_name=disk_name) def snapshot(self, disk_path, image_type=None): :path: path to image backend = self.backend(image_type) return backend(path=disk_path)",2272,234
openstack%2Fnova~master~Ib34856d1d25349994689d36e47579a3325e61500,openstack/nova,master,Ib34856d1d25349994689d36e47579a3325e61500,VMWare - Support for video memory to instances,ABANDONED,2014-10-26 17:57:47.000000000,2015-05-13 17:19:48.000000000,,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 782}, {'_account_id': 1653}, {'_account_id': 1779}, {'_account_id': 1849}, {'_account_id': 2067}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 5511}, {'_account_id': 5638}, {'_account_id': 7400}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9172}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10210}, {'_account_id': 10385}, {'_account_id': 11103}]","[{'number': 1, 'created': '2014-10-26 17:57:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c2d6c555bd5258008a49514dd09a80ed90988e5e', 'message': 'VMWare - Support for video memory to instances\n\nThis patch supports the feature of video memory, multiple displays\nand 3D support for instances spawned using VMWare driver.\n\nThe video memory can be set in flavor using the following\nnova flavor-key <flavor-id> set hw_video:video_ram\n                                   =<size of video ram>\n\nThe number of displays for the instance can be set using\nthe following\nnova flavor-key <flavor-id> set hw_video:video_display\n                                 =<num_of_displays>\n\nThe support for video memory and number of displays is\nprovided in both spawn and resize operations\n\nThe 3D support for the instance can be set in the image property using\nglance image-update --property enable3dsupport=True <image-uuid>\n\n3D support needs to be set only in image as this is image specific\nsettings (For ex: Windows 8 image can have 3D support)\n\nCo-Authored-By: K M, Bharath Kumar <bharath.k-m@hp.com>\n\nChange-Id: Ib34856d1d25349994689d36e47579a3325e61500\nImplements: blueprint vmware-driver-support-for-video-memory\n'}, {'number': 2, 'created': '2014-10-27 14:53:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d247b57364c5c1a9aeac5c0ecd6ff3741f7382d6', 'message': 'VMWare - Support for video memory to instances\n\nThis patch supports the feature of video memory, multiple displays\nand 3D support for instances spawned using VMWare driver.\n\nThe video memory can be set in flavor using the following\nnova flavor-key <flavor-id> set hw_video:video_ram\n                                   =<size of video ram>\n\nThe number of displays for the instance can be set using\nthe following\nnova flavor-key <flavor-id> set hw_video:video_display\n                                 =<num_of_displays>\n\nThe support for video memory and number of displays is\nprovided in both spawn and resize operations\n\nThe 3D support for the instance can be set in the image property using\nglance image-update --property enable3dsupport=True <image-uuid>\n\n3D support needs to be set only in image as this is image specific\nsettings (For ex: Windows 8 image can have 3D support)\n\nCo-Authored-By: K M, Bharath Kumar <bharath.k-m@hp.com>\n\nDocImpact\n\nChange-Id: Ib34856d1d25349994689d36e47579a3325e61500\nImplements: blueprint vmware-driver-support-for-video-memory\n'}, {'number': 3, 'created': '2014-11-14 15:50:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8c4339dd6f42867e47d1915c433399e7f0e2121a', 'message': 'VMWare - Support for video memory to instances\n\nThis patch supports the feature of video memory, multiple displays\nand 3D support for instances spawned using VMWare driver.\n\nThe video memory can be set in flavor using the following\nnova flavor-key <flavor-id> set hw_video:video_ram\n                                   =<size of video ram>\n\nThe number of displays for the instance can be set using\nthe following\nnova flavor-key <flavor-id> set hw_video:video_display\n                                 =<num_of_displays>\n\nThe support for video memory and number of displays is\nprovided in both spawn and resize operations.\n\nThis patch supports only spawn. A subsiquent patch will\nsupport resize operation\n\nThe 3D support for the instance can be set in the image property using\nglance image-update --property enable3dsupport=True <image-uuid>\n\n3D support needs to be set only in image as this is image specific\nsettings (For ex: Windows 8 image can have 3D support)\n\nCo-Authored-By: K M, Bharath Kumar <bharath.k-m@hp.com>\n\nDocImpact\nThe docs should describe how the video memory and number of\ndisplays can be set in flavor and how 3D support can be set\nin image properties. Examples for all the 3 provided above\nChange-Id: Ib34856d1d25349994689d36e47579a3325e61500\nImplements: blueprint vmware-driver-support-for-video-memory\n'}, {'number': 4, 'created': '2014-11-15 02:52:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b70a54ace07acc9b6c495d877d4708d1aa868db0', 'message': 'VMWare - Support for video memory to instances\n\nThis patch supports the feature of video memory, multiple displays\nand 3D support for instances spawned using VMWare driver.\n\nThe video memory can be set in flavor using the following\nnova flavor-key <flavor-id> set hw_video:video_ram\n                                   =<size of video ram>\n\nThe number of displays for the instance can be set using\nthe following\nnova flavor-key <flavor-id> set hw_video:video_display\n                                 =<num_of_displays>\n\nThe support for video memory and number of displays is\nprovided in both spawn and resize operations.\n\nThis patch supports only spawn. A subsiquent patch will\nsupport resize operation\n\nThe 3D support for the instance can be set in the image property using\nglance image-update --property enable3dsupport=True <image-uuid>\n\n3D support needs to be set only in image as this is image specific\nsettings (For ex: Windows 8 image can have 3D support)\n\nCo-Authored-By: K M, Bharath Kumar <bharath.k-m@hp.com>\n\nDocImpact\nThe docs should describe how the video memory and number of\ndisplays can be set in flavor and how 3D support can be set\nin image properties. Examples for all the 3 provided above\nChange-Id: Ib34856d1d25349994689d36e47579a3325e61500\nImplements: blueprint vmware-driver-support-for-video-memory\n'}, {'number': 5, 'created': '2014-11-30 16:12:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a5e16f81d03ab7d58fac331b3f3a073216a6fd27', 'message': 'VMWare - Support for video memory to instances\n\nThis patch supports the feature of video memory, multiple displays\nand 3D support for instances spawned using VMWare driver.\n\nThe video memory can be set in flavor using the following\nnova flavor-key <flavor-id> set hw_video:video_ram\n                                   =<size of video ram>\n\nThe number of displays for the instance can be set using\nthe following\nnova flavor-key <flavor-id> set hw_video:video_display\n                                 =<num_of_displays>\n\nThe support for video memory and number of displays is\nprovided in both spawn and resize operations.\n\nThis patch supports only spawn. A subsequent patch will\nsupport resize operation\n\nThe 3D support for the instance can be set in the image property using\nglance image-update --property hw_video_3d=True <image-uuid>\n\n3D support needs to be set only in image as this is image specific\nsettings (For ex: Windows 8 image can have 3D support)\n\nCo-Authored-By: K M, Bharath Kumar <bharath.k-m@hp.com>\n\nDocImpact\nThe docs should describe how the video memory and number of\ndisplays can be set in flavor and how 3D support can be set\nin image properties. Examples for all the 3 provided above\nChange-Id: Ib34856d1d25349994689d36e47579a3325e61500\nImplements: blueprint vmware-driver-support-for-video-memory\n'}, {'number': 6, 'created': '2014-12-01 15:14:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/24c6debe4a1efaa8f01b88de6cbf003bf85edf7c', 'message': 'VMWare - Support for video memory to instances\n\nThis patch supports the feature of video memory, multiple displays\nand 3D support for instances spawned using VMWare driver.\n\nThe video memory can be set in flavor using the following\nnova flavor-key <flavor-id> set hw_video:video_ram\n                                   =<size of video ram>\n\nThe number of displays for the instance can be set using\nthe following\nnova flavor-key <flavor-id> set hw_video:video_display\n                                 =<num_of_displays>\n\nThe support for video memory and number of displays is\nprovided in both spawn and resize operations.\n\nThis patch supports only spawn. A subsequent patch will\nsupport resize operation\n\nThe 3D support for the instance can be set in the image property using\nglance image-update --property hw_video_3d=True <image-uuid>\n\n3D support needs to be set only in image as this is image specific\nsettings (For ex: Windows 8 image can have 3D support)\n\nCo-Authored-By: K M, Bharath Kumar <bharath.k-m@hp.com>\n\nDocImpact\nThe docs should describe how the video memory and number of\ndisplays can be set in flavor and how 3D support can be set\nin image properties. Examples for all the 3 provided above\nChange-Id: Ib34856d1d25349994689d36e47579a3325e61500\nImplements: blueprint vmware-driver-support-for-video-memory\n'}, {'number': 7, 'created': '2014-12-15 10:54:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4151b08dac457a6c6ef30dc16ae1ed821db0355e', 'message': 'VMWare - Support for video memory to instances\n\nThis patch supports the feature of video memory, multiple displays\nand 3D support for instances spawned using VMWare driver.\n\nThe video memory can be set in flavor using the following\nnova flavor-key <flavor-id> set hw_video:video_ram\n                                   =<size of video ram>\n\nThe number of displays for the instance can be set using\nthe following\nnova flavor-key <flavor-id> set hw_video:video_display\n                                 =<num_of_displays>\n\nThe support for video memory and number of displays is\nprovided in both spawn and resize operations.\n\nThis patch supports only spawn. A subsequent patch will\nsupport resize operation\n\nThe 3D support for the instance can be set in the image property using\nglance image-update --property hw_video_3d=True <image-uuid>\n\n3D support needs to be set only in image as this is image specific\nsettings (For ex: Windows 8 image can have 3D support)\n\nCo-Authored-By: K M, Bharath Kumar <bharath.k-m@hp.com>\n\nDocImpact\nThe docs should describe how the video memory and number of\ndisplays can be set in flavor and how 3D support can be set\nin image properties. Examples for all the 3 provided above\nChange-Id: Ib34856d1d25349994689d36e47579a3325e61500\nImplements: blueprint vmware-driver-support-for-video-memory\n'}, {'number': 8, 'created': '2014-12-15 11:20:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ed5023c2ef529ed857b877d62575f1dc40fd2a0a', 'message': 'VMWare - Support for video memory to instances\n\nThis patch supports the feature of video memory, multiple displays\nand 3D support for instances spawned using VMWare driver.\n\nThe video memory can be set in flavor using the following\nnova flavor-key <flavor-id> set hw_video:video_ram\n                                   =<size of video ram>\n\nThe number of displays for the instance can be set using\nthe following\nnova flavor-key <flavor-id> set hw_video:video_display\n                                 =<num_of_displays>\n\nThe support for video memory and number of displays is\nprovided in both spawn and resize operations.\n\nThis patch supports only spawn. A subsequent patch will\nsupport resize operation\n\nThe 3D support for the instance can be set in the image property using\nglance image-update --property hw_video_3d=True <image-uuid>\n\n3D support needs to be set only in image as this is image specific\nsettings (For ex: Windows 8 image can have 3D support)\n\nCo-Authored-By: K M, Bharath Kumar <bharath.k-m@hp.com>\n\nDocImpact\nThe docs should describe how the video memory and number of\ndisplays can be set in flavor and how 3D support can be set\nin image properties. Examples for all the 3 provided above\nChange-Id: Ib34856d1d25349994689d36e47579a3325e61500\nImplements: blueprint vmware-driver-support-for-video-memory\n'}, {'number': 9, 'created': '2014-12-21 14:08:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/232c7884fdb4cff1b7037a06e79983a417d9c127', 'message': 'VMWare - Support for video memory to instances\n\nThis patch supports the feature of video memory, multiple displays\nand 3D support for instances spawned using VMWare driver.\n\nThe video memory can be set in flavor using the following\nnova flavor-key <flavor-id> set hw_video:video_ram\n                                   =<size of video ram>\n\nThe number of displays for the instance can be set using\nthe following\nnova flavor-key <flavor-id> set hw_video:video_display\n                                 =<num_of_displays>\n\nThe support for video memory and number of displays is\nprovided in both spawn and resize operations.\n\nThis patch supports only spawn. A subsequent patch will\nsupport resize operation\n\nThe 3D support for the instance can be set in the image property using\nglance image-update --property hw_video_3d=True <image-uuid>\n\n3D support needs to be set only in image as this is image specific\nsettings (For ex: Windows 8 image can have 3D support)\n\nCo-Authored-By: K M, Bharath Kumar <bharath.k-m@hp.com>\n\nDocImpact\nThe docs should describe how the video memory and number of\ndisplays can be set in flavor and how 3D support can be set\nin image properties. Examples for all the 3 provided above\nChange-Id: Ib34856d1d25349994689d36e47579a3325e61500\nImplements: blueprint vmware-driver-support-for-video-memory\n'}, {'number': 10, 'created': '2015-01-13 08:41:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fec7513adf6b6c2da00304d027aae8ac35f7f293', 'message': 'VMWare - Support for video memory to instances\n\nThis patch supports the feature of video memory, multiple displays\nand 3D support for instances spawned using VMWare driver.\n\nThe video memory can be set in flavor using the following\nnova flavor-key <flavor-id> set hw_video:video_ram\n                                   =<size of video ram>\n\nThe number of displays for the instance can be set using\nthe following\nnova flavor-key <flavor-id> set hw_video:video_display\n                                 =<num_of_displays>\n\nThe support for video memory and number of displays is\nprovided in both spawn and resize operations.\n\nThis patch supports only spawn. A subsequent patch will\nsupport resize operation\n\nThe 3D support for the instance can be set in the image property using\nglance image-update --property hw_video_3d=True <image-uuid>\n\n3D support needs to be set only in image as this is image specific\nsettings (For ex: Windows 8 image can have 3D support)\n\nCo-Authored-By: K M, Bharath Kumar <bharath.k-m@hp.com>\n\nDocImpact\nThe docs should describe how the video memory and number of\ndisplays can be set in flavor and how 3D support can be set\nin image properties. Examples for all the 3 provided above\nChange-Id: Ib34856d1d25349994689d36e47579a3325e61500\nImplements: blueprint vmware-driver-support-for-video-memory\n'}, {'number': 11, 'created': '2015-01-13 09:06:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/646beb217bf3d37f609f2dec7467aec7e395f44f', 'message': 'VMWare - Support for video memory to instances\n\nThis patch supports the feature of video memory, multiple displays\nand 3D support for instances spawned using VMWare driver.\n\nThe video memory can be set in flavor using the following\nnova flavor-key <flavor-id> set hw_video:video_ram\n                                   =<size of video ram>\n\nThe number of displays for the instance can be set using\nthe following\nnova flavor-key <flavor-id> set hw_video:video_display\n                                 =<num_of_displays>\n\nThe support for video memory and number of displays is\nprovided in both spawn and resize operations.\n\nThis patch supports only spawn. A subsequent patch will\nsupport resize operation\n\nThe 3D support for the instance can be set in the image property using\nglance image-update --property hw_video_3d=True <image-uuid>\n\n3D support needs to be set only in image as this is image specific\nsettings (For ex: Windows 8 image can have 3D support)\n\nCo-Authored-By: K M, Bharath Kumar <bharath.k-m@hp.com>\n\nDocImpact\nThe docs should describe how the video memory and number of\ndisplays can be set in flavor and how 3D support can be set\nin image properties. Examples for all the 3 provided above\nChange-Id: Ib34856d1d25349994689d36e47579a3325e61500\nImplements: blueprint vmware-driver-support-for-video-memory\n'}, {'number': 12, 'created': '2015-01-18 16:48:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1f396266dd3d474908c3e389c18bd0616fc3e6ae', 'message': 'VMWare - Support for video memory to instances\n\nThis patch supports the feature of video memory, multiple displays\nand 3D support for instances spawned using VMWare driver.\n\nThe video memory can be set in flavor using the following\nnova flavor-key <flavor-id> set hw_video:video_ram\n                                   =<size of video ram>\n\nThe number of displays for the instance can be set using\nthe following\nnova flavor-key <flavor-id> set hw_video:video_display\n                                 =<num_of_displays>\n\nThe support for video memory and number of displays is\nprovided in both spawn and resize operations.\n\nThis patch supports only spawn. A subsequent patch will\nsupport resize operation\n\n3D Support can be set to an instance only if both image and flavor\ncontain 3D support.\nThis is done to ensure that instances can have 3D support only\nif the admin allows such instances.\n\nThe 3D support for the instance can be set in the image property using\nglance image-update --property hw_video_3d=True <image-uuid>\n\nThe 3D support in flavor can be set using\nnova flavor-key <flavor-id> set hw_video:video_3d\n\nCo-Authored-By: K M, Bharath Kumar <bharath.k-m@hp.com>\n\nDocImpact\nThe docs should describe how the video memory, number of\ndisplays and 3D support can be set in flavor and how 3D support can be set\nin image properties. Examples for all the 3 provided above\nChange-Id: Ib34856d1d25349994689d36e47579a3325e61500\nImplements: blueprint vmware-driver-support-for-video-memory\n'}, {'number': 13, 'created': '2015-01-19 02:08:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8c48f9d5f063865e10750b916b4f043488e0a279', 'message': 'VMWare - Support for video memory to instances\n\nThis patch supports the feature of video memory, multiple displays\nand 3D support for instances spawned using VMWare driver.\n\nThe video memory can be set in flavor using the following\nnova flavor-key <flavor-id> set hw_video:video_ram\n                                   =<size of video ram>\n\nThe number of displays for the instance can be set using\nthe following\nnova flavor-key <flavor-id> set hw_video:video_display\n                                 =<num_of_displays>\n\nThe support for video memory and number of displays is\nprovided in both spawn and resize operations.\n\nThis patch supports only spawn. A subsequent patch will\nsupport resize operation\n\n3D Support can be set to an instance only if both image and flavor\ncontain 3D support.\nThis is done to ensure that instances can have 3D support only\nif the admin allows such instances.\n\nThe 3D support for the instance can be set in the image property using\nglance image-update --property hw_video_3d=True <image-uuid>\n\nThe 3D support in flavor can be set using\nnova flavor-key <flavor-id> set hw_video:video_3d\n\nCo-Authored-By: K M, Bharath Kumar <bharath.k-m@hp.com>\n\nDocImpact\nThe docs should describe how the video memory, number of\ndisplays and 3D support can be set in flavor and how 3D support can be set\nin image properties. Examples for all the 3 provided above\nChange-Id: Ib34856d1d25349994689d36e47579a3325e61500\nImplements: blueprint vmware-driver-support-for-video-memory\n'}, {'number': 14, 'created': '2015-01-22 17:54:20.000000000', 'files': ['nova/virt/vmwareapi/vmops.py', 'nova/tests/unit/virt/vmwareapi/fake.py', 'nova/tests/unit/virt/vmwareapi/test_vm_util.py', 'nova/tests/unit/virt/vmwareapi/test_vmops.py', 'nova/virt/vmwareapi/vm_util.py', 'nova/virt/vmwareapi/images.py', 'nova/virt/vmwareapi/constants.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/ea34db47f282803fcc5a63aaafe32e2221439562', 'message': 'VMWare - Support for video memory to instances\n\nThis patch supports the feature of video memory, multiple displays\nand 3D support for instances spawned using VMWare driver.\n\nThe video memory can be set in flavor using the following\nnova flavor-key <flavor-id> set hw_video:video_ram\n                                   =<size of video ram>\n\nThe number of displays for the instance can be set using\nthe following\nnova flavor-key <flavor-id> set hw_video:video_display\n                                 =<num_of_displays>\n\nThe support for video memory and number of displays is\nprovided in both spawn and resize operations.\n\nThis patch supports only spawn. A subsequent patch will\nsupport resize operation\n\n3D Support can be set to an instance only if both image and flavor\ncontain 3D support.\nThis is done to ensure that instances can have 3D support only\nif the admin allows such instances.\n\nThe 3D support for the instance can be set in the image property using\nglance image-update --property hw_video_3d=True <image-uuid>\n\nThe 3D support in flavor can be set using\nnova flavor-key <flavor-id> set hw_video:video_3d\n\nCo-Authored-By: K M, Bharath Kumar <bharath.k-m@hp.com>\n\nDocImpact\nThe docs should describe how the video memory, number of\ndisplays and 3D support can be set in flavor and how 3D support can be set\nin image properties. Examples for all the 3 provided above\nChange-Id: Ib34856d1d25349994689d36e47579a3325e61500\nImplements: blueprint vmware-driver-support-for-video-memory\n'}]",86,130988,ea34db47f282803fcc5a63aaafe32e2221439562,117,20,14,2067,,,0,"VMWare - Support for video memory to instances

This patch supports the feature of video memory, multiple displays
and 3D support for instances spawned using VMWare driver.

The video memory can be set in flavor using the following
nova flavor-key <flavor-id> set hw_video:video_ram
                                   =<size of video ram>

The number of displays for the instance can be set using
the following
nova flavor-key <flavor-id> set hw_video:video_display
                                 =<num_of_displays>

The support for video memory and number of displays is
provided in both spawn and resize operations.

This patch supports only spawn. A subsequent patch will
support resize operation

3D Support can be set to an instance only if both image and flavor
contain 3D support.
This is done to ensure that instances can have 3D support only
if the admin allows such instances.

The 3D support for the instance can be set in the image property using
glance image-update --property hw_video_3d=True <image-uuid>

The 3D support in flavor can be set using
nova flavor-key <flavor-id> set hw_video:video_3d

Co-Authored-By: K M, Bharath Kumar <bharath.k-m@hp.com>

DocImpact
The docs should describe how the video memory, number of
displays and 3D support can be set in flavor and how 3D support can be set
in image properties. Examples for all the 3 provided above
Change-Id: Ib34856d1d25349994689d36e47579a3325e61500
Implements: blueprint vmware-driver-support-for-video-memory
",git fetch https://review.opendev.org/openstack/nova refs/changes/88/130988/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/vmwareapi/vmops.py', 'nova/tests/virt/vmwareapi/test_vmops.py', 'nova/tests/virt/vmwareapi/fake.py', 'nova/virt/vmwareapi/vm_util.py', 'nova/tests/virt/vmwareapi/test_vm_util.py']",5,c2d6c555bd5258008a49514dd09a80ed90988e5e,bp/vmware-driver-support-for-video-memory," def test_get_video_config_spec_add(self): expected = """"""{'device': {'enable3DSupport':False, 'numDisplays':2, 'videoRamSizeInKB':10240, 'key':-50, 'obj_name':'ns0:VirtualMachineVideoCard'}, 'operation':'add', 'obj_name':'ns0:VirtualDeviceConfigSpec'}"""""" result = vm_util.get_video_config_spec(fake.FakeFactory(), 10, 2, False, None) expected = re.sub(r'\s+', '', expected) result = re.sub(r'\s+', '', repr(result)) self.assertEqual(expected, result) def test_get_video_config_spec_edit(self): expected = """"""{'device': {'numDisplays':2, 'videoRamSizeInKB':10240, 'key':10, 'obj_name':'ns0:VirtualMachineVideoCard'}, 'operation':'edit', 'obj_name':'ns0:VirtualDeviceConfigSpec'}"""""" result = vm_util.get_video_config_spec(fake.FakeFactory(), 10, 2, False, fake.VirtualMachineVideoCard( 10)) expected = re.sub(r'\s+', '', expected) result = re.sub(r'\s+', '', repr(result)) self.assertEqual(expected, result) def test_get_video_device(self): video_card = fake.VirtualMachineVideoCard(10) devices = [video_card] result = vm_util.get_video_device(devices) self.assertEqual(10, result.get_key()) ",,276,8
openstack%2Fnova~master~I2c1f54465a87e1e006c327f1c8599d8a5384d337,openstack/nova,master,I2c1f54465a87e1e006c327f1c8599d8a5384d337,Video Memory Filter,ABANDONED,2014-11-01 17:12:39.000000000,2015-05-13 17:19:47.000000000,,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 782}, {'_account_id': 1653}, {'_account_id': 1849}, {'_account_id': 2067}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 5511}, {'_account_id': 5638}, {'_account_id': 5754}, {'_account_id': 6062}, {'_account_id': 7166}, {'_account_id': 7400}, {'_account_id': 8213}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9172}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10210}, {'_account_id': 10385}]","[{'number': 1, 'created': '2014-11-01 17:12:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/55c9da35a63b2dbb3ec25fa9bc8afd8a5fb3e562', 'message': 'VMWare Video Memory Filter\n\nThis patch provides a filter scheduler for performing\ncalculations using video memory.\n\nSupport for video memory for VMWare instances is\nin review.\nhttps://review.openstack.org/#/c/130988/\n\nThe video memory allocation in vCenter  is evenly divided\n- Half the video memory is reserved on the hardware GPU,\n  while the other half is reserved via host RAM.\n\nif however video memory is not available on hardware GPU,\nthe vCenter sets the video memory on host RAM\n\nThe vCenter does not provide any API which returns\nthe free video memory on the hardware GPU.\nHence when a instance requires video memory,\nthe scheduler calculation for a valid host can happen\non the free host memory since vCenter by default uses\nhost memory if video memory on hardware GPU is not available.\n\nThis patch adds the video memory to the requested RAM\nfor performs the scheduler calculation\n\nCo-Authored-By: K M, Bharath Kumar <bharath.k-m@hp.com>\n\nDocImpact\n\nChange-Id: I2c1f54465a87e1e006c327f1c8599d8a5384d337\nImplements: blueprint vmware-video-memory-filter-scheduler\n'}, {'number': 2, 'created': '2014-11-02 14:56:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f49cd0d50e6dbc8dc551545822e5518bf229cfbf', 'message': 'VMWare Video Memory Filter\n\nThis patch provides a filter scheduler for performing\ncalculations using video memory.\n\nSupport for video memory for VMWare instances is\nin review.\nhttps://review.openstack.org/#/c/130988/\n\nThe video memory allocation in vCenter  is evenly divided\n- Half the video memory is reserved on the hardware GPU,\n  while the other half is reserved via host RAM.\n\nif however video memory is not available on hardware GPU,\nthe vCenter sets the video memory on host RAM\n\nThe vCenter does not provide any API which returns\nthe free video memory on the hardware GPU.\nHence when a instance requires video memory,\nthe scheduler calculation for a valid host can happen\non the free host memory since vCenter by default uses\nhost memory if video memory on hardware GPU is not available.\n\nThis patch adds the video memory to the requested RAM\nfor performs the scheduler calculation\n\nCo-Authored-By: K M, Bharath Kumar <bharath.k-m@hp.com>\n\nDocImpact\nThis filter adds the video RAM  to requested RAM for performing\nscheduler calculations. Should be enabled if instances spawned\nusing VMWare driver need to have video memory for correct\nscheduler calculations\n\nChange-Id: I2c1f54465a87e1e006c327f1c8599d8a5384d337\nImplements: blueprint vmware-video-memory-filter-scheduler\n'}, {'number': 3, 'created': '2014-11-02 15:12:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/eb6cac96252771203972b830095b741c994d4d5e', 'message': 'VMWare Video Memory Filter\n\nThis patch provides a filter scheduler for performing\ncalculations using video memory.\n\nSupport for video memory for VMWare instances is\nin review.\nhttps://review.openstack.org/#/c/130988/\n\nThe video memory allocation in vCenter  is evenly divided\n- Half the video memory is reserved on the hardware GPU,\n  while the other half is reserved via host RAM.\n\nif however video memory is not available on hardware GPU,\nthe vCenter sets the video memory on host RAM\n\nThe vCenter does not provide any API which returns\nthe free video memory on the hardware GPU.\nHence when a instance requires video memory,\nthe scheduler calculation for a valid host can happen\non the free host memory since vCenter by default uses\nhost memory if video memory on hardware GPU is not available.\n\nThis patch adds the video memory to the requested RAM\nfor performs the scheduler calculation\n\nCo-Authored-By: K M, Bharath Kumar <bharath.k-m@hp.com>\n\nDocImpact\nThis filter adds the video RAM  to requested RAM for performing\nscheduler calculations. Should be enabled if instances spawned\nusing VMWare driver need to have video memory for correct\nscheduler calculations\n\nChange-Id: I2c1f54465a87e1e006c327f1c8599d8a5384d337\nImplements: blueprint vmware-video-memory-filter-scheduler\n'}, {'number': 4, 'created': '2014-11-09 13:35:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fd473ee75801a99672e2cb3f612e6451b62ecbe6', 'message': 'VMWare Video Memory Filter\n\nThis patch provides a filter scheduler for performing\ncalculations using video memory.\n\nSupport for video memory for VMWare instances is\nin review.\nhttps://review.openstack.org/#/c/130988/\n\nThe video memory allocation in vCenter  is evenly divided\n- Half the video memory is reserved on the hardware GPU,\n  while the other half is reserved via host RAM.\n\nif however video memory is not available on hardware GPU,\nthe vCenter sets the video memory on host RAM\n\nThe vCenter does not provide any API which returns\nthe free video memory on the hardware GPU.\nHence when a instance requires video memory,\nthe scheduler calculation for a valid host can happen\non the free host memory since vCenter by default uses\nhost memory if video memory on hardware GPU is not available.\n\nThis patch adds the video memory to the requested RAM\nfor performs the scheduler calculation\n\nCo-Authored-By: K M, Bharath Kumar <bharath.k-m@hp.com>\n\nDocImpact\nThis filter adds the video RAM  to requested RAM for performing\nscheduler calculations. Should be enabled if instances spawned\nusing VMWare driver need to have video memory for correct\nscheduler calculations\n\nChange-Id: I2c1f54465a87e1e006c327f1c8599d8a5384d337\nImplements: blueprint vmware-video-memory-filter-scheduler\n'}, {'number': 5, 'created': '2014-11-10 09:48:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9172d38f47389fdb7d8909a3d4732ac9908d2bf0', 'message': 'Video Memory Filter\n\nThis patch provides a filter scheduler for performing\ncalculations using video memory.\n\nSupport for video memory for VMWare instances is\nin review.\nhttps://review.openstack.org/#/c/130988/\n\nThe video memory allocation in vCenter  is evenly divided\n- Half the video memory is reserved on the hardware GPU,\n  while the other half is reserved via host RAM.\n\nif however video memory is not available on hardware GPU,\nthe vCenter sets the video memory on host RAM\n\nThe vCenter does not provide any API which returns\nthe free video memory on the hardware GPU.\nHence when a instance requires video memory,\nthe scheduler calculation for a valid host can happen\non the free host memory since vCenter by default uses\nhost memory if video memory on hardware GPU is not available.\n\nThis patch adds the video memory to the requested RAM\nfor performs the scheduler calculation.\n\nThe filter is generic and can be used by any other hypervisors\nwhich have a similar behaviour\n\nCo-Authored-By: K M, Bharath Kumar <bharath.k-m@hp.com>\n\nDocImpact\nThis filter adds the video RAM  to requested RAM for performing\nscheduler calculations. Should be enabled if instances spawned\nusing VMWare driver need to have video memory for correct\nscheduler calculations\n\nChange-Id: I2c1f54465a87e1e006c327f1c8599d8a5384d337\nImplements: blueprint vmware-video-memory-filter-scheduler\n'}, {'number': 6, 'created': '2014-11-10 09:56:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/eff6561780fe69ee551e39d8f27d16bd6fa5a426', 'message': 'Video Memory Filter\n\nThis patch provides a filter scheduler for performing\ncalculations using video memory.\n\nSupport for video memory for VMWare instances is\nin review.\nhttps://review.openstack.org/#/c/130988/\n\nThe video memory allocation in vCenter  is evenly divided\n- Half the video memory is reserved on the hardware GPU,\n  while the other half is reserved via host RAM.\n\nif however video memory is not available on hardware GPU,\nthe vCenter sets the video memory on host RAM\n\nThe vCenter does not provide any API which returns\nthe free video memory on the hardware GPU.\nHence when a instance requires video memory,\nthe scheduler calculation for a valid host can happen\non the free host memory since vCenter by default uses\nhost memory if video memory on hardware GPU is not available.\n\nThis patch adds the video memory to the requested RAM\nfor performs the scheduler calculation.\n\nThe filter is generic and can be used by any other hypervisors\nwhich have a similar behaviour\n\nCo-Authored-By: K M, Bharath Kumar <bharath.k-m@hp.com>\n\nDocImpact\nThis filter adds the video RAM  to requested RAM for performing\nscheduler calculations. Should be enabled if instances spawned\nusing VMWare driver need to have video memory for correct\nscheduler calculations\n\nChange-Id: I2c1f54465a87e1e006c327f1c8599d8a5384d337\nImplements: blueprint vmware-video-memory-filter-scheduler\n'}, {'number': 7, 'created': '2014-11-10 12:13:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/25a8327a3e8cb1b11ccee54d7d9507ee75887589', 'message': 'Video Memory Filter\n\nThis patch provides a filter scheduler for performing\ncalculations using video memory.\n\nThis patch started as a filter specific to VMWare driver.\nHowever the filter has been changed to make it more generic\nbased on review comments.\n\nIf any hypervisor allocates video memory either partly or fully\non the host memory, then this filter can be used for\nscheduler calculations.\n\nBehaviour of VMWare vCenter for video memory allocation ---\n\nThe video memory allocation in vCenter  is evenly divided\n- Half the video memory is reserved on the hardware GPU,\n  while the other half is reserved via host RAM.\n\nif however video memory is not available on hardware GPU,\nthe vCenter sets the video memory on host RAM\n\nThe vCenter does not provide any API which returns\nthe free video memory on the hardware GPU.\nHence when a instance requires video memory,\nthe scheduler calculation for a valid host can happen\non the free host memory since vCenter by default uses\nhost memory if video memory on hardware GPU is not available.\n\nThis patch adds the video memory to the requested RAM\nfor performs the scheduler calculation.\n\nThe filter is generic and can be used by any other hypervisors\nwhich have a similar behaviour\n\nSupport for video memory for VMWare instances is\nin review.\nhttps://review.openstack.org/#/c/130988/\n\nCo-Authored-By: K M, Bharath Kumar <bharath.k-m@hp.com>\n\nDocImpact\nThis filter adds the video RAM  to requested RAM for performing\nscheduler calculations. Should be enabled if instances spawned\nusing VMWare driver need to have video memory for correct\nscheduler calculations\n\nChange-Id: I2c1f54465a87e1e006c327f1c8599d8a5384d337\nImplements: blueprint vmware-video-memory-filter-scheduler\n'}, {'number': 8, 'created': '2014-11-13 12:54:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a386965982b0e74afd4e133591ebc9199d213b67', 'message': 'Video Memory Filter\n\nThis patch provides a filter scheduler for performing\ncalculations using video memory.\n\nThis patch started as a filter specific to VMWare driver.\nHowever the filter has been changed to make it more generic\nbased on review comments.\n\nIf any hypervisor allocates video memory either partly or fully\non the host memory, then this filter can be used for\nscheduler calculations.\n\nBehaviour of VMWare vCenter for video memory allocation ---\n\nThe video memory allocation in vCenter  is evenly divided\n- Half the video memory is reserved on the hardware GPU,\n  while the other half is reserved via host RAM.\n\nif however video memory is not available on hardware GPU,\nthe vCenter sets the video memory on host RAM\n\nThe vCenter does not provide any API which returns\nthe free video memory on the hardware GPU.\nHence when a instance requires video memory,\nthe scheduler calculation for a valid host can happen\non the free host memory since vCenter by default uses\nhost memory if video memory on hardware GPU is not available.\n\nThis patch adds the video memory to the requested RAM\nfor performing the scheduler calculation.\n\nThe filter is generic and can be used by any other hypervisors\nwhich have a similar behaviour\n\nSupport for video memory for VMWare instances is\nin review.\nhttps://review.openstack.org/#/c/130988/\n\nCo-Authored-By: K M, Bharath Kumar <bharath.k-m@hp.com>\n\nDocImpact\nThis filter adds the video RAM  to requested RAM for performing\nscheduler calculations. Should be enabled if instances spawned\nusing VMWare driver need to have video memory for correct\nscheduler calculations.\n\nChange-Id: I2c1f54465a87e1e006c327f1c8599d8a5384d337\nImplements: blueprint vmware-video-memory-filter-scheduler\n'}, {'number': 9, 'created': '2014-11-15 14:40:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/96dd38e1f4a5ab37ea56c3a08af45983932dc08d', 'message': 'Video Memory Filter\n\nThis patch provides a filter scheduler for performing\ncalculations using video memory.\n\nIf any hypervisor allocates video memory either partly or fully\non the host memory, then this filter can be used for\nscheduler calculations.\n\nBehaviour of VMWare vCenter for video memory allocation ---\n\nThe video memory allocation in vCenter  is evenly divided\n- Half the video memory is reserved on the hardware GPU,\n  while the other half is reserved via host RAM.\n\nif however video memory is not available on hardware GPU,\nthe vCenter sets the video memory on host RAM\n\nThe vCenter does not provide any API which returns\nthe free video memory on the hardware GPU.\nHence when a instance requires video memory,\nthe scheduler calculation for a valid host can happen\non the free host memory since vCenter by default uses\nhost memory if video memory on hardware GPU is not available.\n\nThis patch adds the video memory to the requested RAM\nfor performing the scheduler calculation.\n\nThe filter is generic and can be used by any other hypervisors\nwhich have a similar behaviour\n\nThis filter is applied only when the flavor\nhas a extra spec hw_video:video_ram\n\nSupport for video memory for VMWare instances is\nin review.\nhttps://review.openstack.org/#/c/130988/\n\nCo-Authored-By: K M, Bharath Kumar <bharath.k-m@hp.com>\n\nDocImpact\nThis filter adds the video RAM  to requested RAM for performing\nscheduler calculations. Should be enabled if instances spawned\nusing VMWare driver need to have video memory for correct\nscheduler calculations.\n\nChange-Id: I2c1f54465a87e1e006c327f1c8599d8a5384d337\nImplements: blueprint vmware-video-memory-filter-scheduler\n'}, {'number': 10, 'created': '2014-11-16 08:39:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f6553f9bc0f68f8a1dd18f126803c13f4e19fe89', 'message': 'Video Memory Filter\n\nThis patch provides a filter scheduler for performing\ncalculations using video memory.\n\nIf any hypervisor allocates video memory either partly or fully\non the host memory, then this filter can be used for\nscheduler calculations.\n\nBehaviour of VMWare vCenter for video memory allocation ---\n\nThe video memory allocation in vCenter  is evenly divided\n- Half the video memory is reserved on the hardware GPU,\n  while the other half is reserved via host RAM.\n\nif however video memory is not available on hardware GPU,\nthe vCenter sets the video memory on host RAM\n\nThe vCenter does not provide any API which returns\nthe free video memory on the hardware GPU.\nHence when a instance requires video memory,\nthe scheduler calculation for a valid host can happen\non the free host memory since vCenter by default uses\nhost memory if video memory on hardware GPU is not available.\n\nThis patch adds the video memory to the requested RAM\nfor performing the scheduler calculation.\n\nThe filter is generic and can be used by any other hypervisors\nwhich have a similar behaviour\n\nThis filter is applied only when the flavor\nhas a extra spec hw_video:video_ram\n\nSupport for video memory for VMWare instances is\nin review.\nhttps://review.openstack.org/#/c/130988/\n\nCo-Authored-By: K M, Bharath Kumar <bharath.k-m@hp.com>\n\nDocImpact\nThis filter adds the video RAM  to requested RAM for performing\nscheduler calculations. Should be enabled if instances spawned\nusing VMWare driver need to have video memory for correct\nscheduler calculations.\n\nChange-Id: I2c1f54465a87e1e006c327f1c8599d8a5384d337\nImplements: blueprint vmware-video-memory-filter-scheduler\n'}, {'number': 11, 'created': '2014-12-22 10:52:16.000000000', 'files': ['nova/tests/unit/scheduler/filters/test_ram_filters.py', 'doc/source/devref/filter_scheduler.rst', 'nova/scheduler/filters/ram_filter.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/889d0a1959ff01b48e730b6b8a7a51bac3321a0d', 'message': 'Video Memory Filter\n\nThis patch provides a filter scheduler for performing\ncalculations using video memory.\n\nIf any hypervisor allocates video memory either partly or fully\non the host memory, then this filter can be used for\nscheduler calculations.\n\nBehaviour of VMWare vCenter for video memory allocation ---\n\nThe video memory allocation in vCenter  is evenly divided\n- Half the video memory is reserved on the hardware GPU,\n  while the other half is reserved via host RAM.\n\nif however video memory is not available on hardware GPU,\nthe vCenter sets the video memory on host RAM\n\nThe vCenter does not provide any API which returns\nthe free video memory on the hardware GPU.\nHence when a instance requires video memory,\nthe scheduler calculation for a valid host can happen\non the free host memory since vCenter by default uses\nhost memory if video memory on hardware GPU is not available.\n\nThis patch adds the video memory to the requested RAM\nfor performing the scheduler calculation.\n\nThe filter is generic and can be used by any other hypervisors\nwhich have a similar behaviour\n\nThis filter is applied only when the flavor\nhas a extra spec hw_video:video_ram\n\nSupport for video memory for VMWare instances is\nin review.\nhttps://review.openstack.org/#/c/130988/\n\nCo-Authored-By: K M, Bharath Kumar <bharath.k-m@hp.com>\n\nDocImpact\nThis filter adds the video RAM  to requested RAM for performing\nscheduler calculations. Should be enabled if instances spawned\nusing VMWare driver need to have video memory for correct\nscheduler calculations.\n\nChange-Id: I2c1f54465a87e1e006c327f1c8599d8a5384d337\nImplements: blueprint vmware-video-memory-filter-scheduler\n'}]",41,132409,889d0a1959ff01b48e730b6b8a7a51bac3321a0d,103,22,11,2067,,,0,"Video Memory Filter

This patch provides a filter scheduler for performing
calculations using video memory.

If any hypervisor allocates video memory either partly or fully
on the host memory, then this filter can be used for
scheduler calculations.

Behaviour of VMWare vCenter for video memory allocation ---

The video memory allocation in vCenter  is evenly divided
- Half the video memory is reserved on the hardware GPU,
  while the other half is reserved via host RAM.

if however video memory is not available on hardware GPU,
the vCenter sets the video memory on host RAM

The vCenter does not provide any API which returns
the free video memory on the hardware GPU.
Hence when a instance requires video memory,
the scheduler calculation for a valid host can happen
on the free host memory since vCenter by default uses
host memory if video memory on hardware GPU is not available.

This patch adds the video memory to the requested RAM
for performing the scheduler calculation.

The filter is generic and can be used by any other hypervisors
which have a similar behaviour

This filter is applied only when the flavor
has a extra spec hw_video:video_ram

Support for video memory for VMWare instances is
in review.
https://review.openstack.org/#/c/130988/

Co-Authored-By: K M, Bharath Kumar <bharath.k-m@hp.com>

DocImpact
This filter adds the video RAM  to requested RAM for performing
scheduler calculations. Should be enabled if instances spawned
using VMWare driver need to have video memory for correct
scheduler calculations.

Change-Id: I2c1f54465a87e1e006c327f1c8599d8a5384d337
Implements: blueprint vmware-video-memory-filter-scheduler
",git fetch https://review.opendev.org/openstack/nova refs/changes/09/132409/8 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/scheduler/filters/test_ram_filters.py', 'nova/scheduler/filters/ram_filter.py']",2,55c9da35a63b2dbb3ec25fa9bc8afd8a5fb3e562,bp/vmware-video-memory-filter-scheduler," class VMWareVideoRamFilter(RamFilter): """"""VMWare Video Ram Filter to check video RAM."""""" def host_passes(self, host_state, filter_properties): """"""Only return hosts with sufficient available RAM."""""" instance_type = filter_properties.get('instance_type') video_ram = self._get_video_ram(instance_type) if video_ram is None: return True requested_ram = instance_type['memory_mb'] # Add the video RAM to requested RAM requested_ram += int(video_ram) free_ram_mb = host_state.free_ram_mb total_usable_ram_mb = host_state.total_usable_ram_mb ram_allocation_ratio = self._get_ram_allocation_ratio(host_state, filter_properties) memory_mb_limit = total_usable_ram_mb * ram_allocation_ratio used_ram_mb = total_usable_ram_mb - free_ram_mb usable_ram = memory_mb_limit - used_ram_mb if not usable_ram >= requested_ram: LOG.debug(""%(host_state)s does not have %(requested_ram)s MB "" ""usable ram, it only has %(usable_ram)s MB usable ram."", {'host_state': host_state, 'requested_ram': requested_ram, 'usable_ram': usable_ram}) return False # save oversubscription limit for compute node to test against: host_state.limits['memory_mb'] = memory_mb_limit return True def _get_video_ram(self, instance_type): """"""Get the video ram from extra spec."""""" if 'extra_specs' not in instance_type: return None for key, val in instance_type['extra_specs'].iteritems(): if key == ""hw_video:video_ram"": return val else: continue return None",,97,0
openstack%2Fnova~master~I288d351e27c143f65f10a61931759807a89fa299,openstack/nova,master,I288d351e27c143f65f10a61931759807a89fa299,Support disable_terminate for instance,ABANDONED,2014-07-30 01:06:44.000000000,2015-05-13 17:19:45.000000000,,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 782}, {'_account_id': 1849}, {'_account_id': 2750}, {'_account_id': 5170}, {'_account_id': 5754}, {'_account_id': 9008}, {'_account_id': 9550}, {'_account_id': 9569}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 10618}, {'_account_id': 11103}]","[{'number': 1, 'created': '2014-07-30 01:06:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c9b86637becf87d4083ed15dfd8e1ff909129f6d', 'message': ""Support disable_terminate for instance\n\nWith 'disable_terminate' option, we can protect instance from being\naccidentally terminated. When instance's disable_terminate is true,\ninstance does not allow to delete. Now nova api does not support it.\n\nChange-Id: I288d351e27c143f65f10a61931759807a89fa299\nBlueprint: support-disable-terminate-for-instance\n""}, {'number': 2, 'created': '2015-02-05 09:23:02.000000000', 'files': ['nova/tests/unit/api/openstack/fakes.py', 'nova/tests/unit/api/openstack/compute/test_servers.py', 'nova/compute/api.py', 'nova/api/openstack/compute/servers.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/5287e88c30193deeaca68f480894c5f61b87466f', 'message': ""Support disable_terminate for instance\n\nWith 'disable_terminate' option, we can protect instance from being\naccidentally terminated. When instance's disable_terminate is true,\ninstance does not allow to delete. Now nova api does not support it.\n\nChange-Id: I288d351e27c143f65f10a61931759807a89fa299\nImplements: blueprint support-disable-terminate-for-instance\n""}]",6,110514,5287e88c30193deeaca68f480894c5f61b87466f,37,15,2,9323,,,0,"Support disable_terminate for instance

With 'disable_terminate' option, we can protect instance from being
accidentally terminated. When instance's disable_terminate is true,
instance does not allow to delete. Now nova api does not support it.

Change-Id: I288d351e27c143f65f10a61931759807a89fa299
Implements: blueprint support-disable-terminate-for-instance
",git fetch https://review.opendev.org/openstack/nova refs/changes/14/110514/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/api/openstack/fakes.py', 'nova/tests/api/openstack/compute/test_servers.py', 'nova/compute/api.py', 'nova/api/openstack/compute/servers.py']",4,c9b86637becf87d4083ed15dfd8e1ff909129f6d,bp/support-disable-terminate-for-instance," disable_terminate = server_dict.get('disable_terminate') if (disable_terminate is not None and not isinstance(disable_terminate, bool)): msg = _(""Boolean value expected for disable_terminate."") raise exc.HTTPBadRequest(explanation=msg) legacy_bdm=legacy_bdm, disable_terminate=disable_terminate)", legacy_bdm=legacy_bdm),49,11
openstack%2Fnova~master~I898ea652d50274cbbfd63a0c09556c64e6ef7018,openstack/nova,master,I898ea652d50274cbbfd63a0c09556c64e6ef7018,Libvirt: Introduce Storage Pool Utilities,ABANDONED,2015-02-03 00:02:12.000000000,2015-05-13 17:19:39.000000000,,"[{'_account_id': 3}, {'_account_id': 782}, {'_account_id': 1849}, {'_account_id': 5170}, {'_account_id': 7677}, {'_account_id': 8871}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11103}]","[{'number': 1, 'created': '2015-02-03 00:02:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2adffa86f2d2ee5880c9b200bdf9194027f5ea0c', 'message': 'Libvirt: Introduce Storage Pool Utilities\n\nThis commit introduces storage pool utilities.  Methods have\nbeen added to the `Host` object to lookup and create storage\npools.  Additionally, the `pool_utils` contains information\nabout standard pool names, as well as a method for looking\nup storage volumes in an existing pool.\n\nImplements bp: use-libvirt-storage-pools\n\nChange-Id: I898ea652d50274cbbfd63a0c09556c64e6ef7018\n'}, {'number': 2, 'created': '2015-02-05 20:49:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/521d8747cce272b439ac0ddb9a0d87fe81ff1640', 'message': 'Libvirt: Introduce Storage Pool Utilities\n\nThis commit introduces storage pool utilities.  Methods have\nbeen added to the `Host` object to lookup and create storage\npools.  Additionally, the `pool_utils` contains information\nabout standard pool names, as well as a method for looking\nup storage volumes in an existing pool.\n\nImplements bp: use-libvirt-storage-pools\n\nChange-Id: I898ea652d50274cbbfd63a0c09556c64e6ef7018\n'}, {'number': 3, 'created': '2015-02-06 01:56:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7d7f51579ecc9dae6afb29ce223a2ae61cd990a0', 'message': 'Libvirt: Introduce Storage Pool Utilities\n\nThis commit introduces storage pool utilities.  Methods have\nbeen added to the `Host` object to lookup and create storage\npools.  Additionally, the `pool_utils` contains information\nabout standard pool names, as well as a method for looking\nup storage volumes in an existing pool.\n\nImplements bp: use-libvirt-storage-pools\n\nChange-Id: I898ea652d50274cbbfd63a0c09556c64e6ef7018\n'}, {'number': 4, 'created': '2015-02-06 15:39:11.000000000', 'files': ['nova/tests/unit/virt/libvirt/test_host.py', 'nova/tests/unit/virt/libvirt/test_pool_utils.py', 'nova/virt/libvirt/host.py', 'nova/virt/libvirt/pool_utils.py', 'nova/tests/unit/virt/libvirt/fakelibvirt.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/6c866df6939c4b9a02a3bda829da2513e92da469', 'message': 'Libvirt: Introduce Storage Pool Utilities\n\nThis commit introduces storage pool utilities.  Methods have\nbeen added to the `Host` object to lookup and create storage\npools.  Additionally, the `pool_utils` contains information\nabout standard pool names, as well as a method for looking\nup storage volumes in an existing pool.\n\nImplements bp: use-libvirt-storage-pools\n\nChange-Id: I898ea652d50274cbbfd63a0c09556c64e6ef7018\n'}]",0,152350,6c866df6939c4b9a02a3bda829da2513e92da469,44,10,4,7677,,,0,"Libvirt: Introduce Storage Pool Utilities

This commit introduces storage pool utilities.  Methods have
been added to the `Host` object to lookup and create storage
pools.  Additionally, the `pool_utils` contains information
about standard pool names, as well as a method for looking
up storage volumes in an existing pool.

Implements bp: use-libvirt-storage-pools

Change-Id: I898ea652d50274cbbfd63a0c09556c64e6ef7018
",git fetch https://review.opendev.org/openstack/nova refs/changes/50/152350/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/virt/libvirt/test_host.py', 'nova/tests/unit/virt/libvirt/test_pool_utils.py', 'nova/virt/libvirt/host.py', 'nova/virt/libvirt/pool_utils.py', 'nova/tests/unit/virt/libvirt/fakelibvirt.py']",5,2adffa86f2d2ee5880c9b200bdf9194027f5ea0c,bp/use-libvirt-storage-pools,"import os import os.pathVIR_FROM_STORAGE = 318VIR_ERR_NO_STORAGE_POOL = 949 VIR_ERR_NO_STORAGE_VOL = 951# storage pool constants VIR_STORAGE_POOL_RUNNING = 2 VIR_STORAGE_VOL_FILE = 1 VIR_STORAGE_VOL_BLOCK = 2 VIR_STORAGE_VOL_NETWORK = 3 class StoragePool(object): def __init__(self, name, path, use_real_files=False): self._name = name self._path = path self._volumes = {} self._type = 'dir' self._uuid = uuid.uuid4() self._conn = None self._use_real_files = use_real_files self._active = True self._persistent = True self._xml = """"""<pool type='%(type)s'> <name>%(name)s</name> <uuid>%(uuid)s</uuid> <capacity unit='bytes'>1000</capacity> <allocation unit='bytes'>1000</allocation> <available unit='bytes'>500</available> <source> </source> <target> <path>%(path)s</path> <permissions> <mode>0755</mode> <owner>-1</owner> <group>-1</group> </permissions> </target> </pool>"""""" def XMLDesc(self, flags): return self._xml % {'name': self._name, 'path': self._path, 'uuid': self._uuid, 'type': self._type} def name(self): return self._name def createXML(self, xmldesc, flags): xml = etree.fromstring(xmldesc) name = xml.find('name').text capacity = int(xml.find('capacity').text) alloc_elem = xml.find('allocation') if alloc_elem is not None: alloc = int(alloc_elem.text) else: alloc = capacity backing_path_elem = xml.find('backingStore/path') if backing_path_elem is not None: backing_path = backing_path_elem.text else: backing_path = None format_elem = xml.find('target/format') if format_elem is not None: fmt = format_elem.get('type') else: fmt = None if fmt == 'qcow2': # qcow2 doesn't preallocate, but it does have metadata alloc = 200704 vol = StorageVolume(name, pool=self, use_real_files=self._use_real_files) vol._format = fmt vol._backing_path = backing_path vol._capacity = capacity vol._allocation = alloc vol._flags = flags self._volumes[name] = vol return vol def createXMLFrom(self, xmldesc, from_vol, flags): vol = self.createXML(xmldesc, flags) vol._created_from = from_vol return vol def refresh(self): if self._use_real_files: real_files = [os.path.basename(f) for f in os.listdir(self._path)] for volname in self._volumes: if volname not in real_files: del self._volumes[volname] for filename in real_files: if filename not in self._volumes: vol = StorageVolume(filename, pool=self, use_real_files=True) self._volumes[filename] = vol def storageVolLookupByName(self, name): if name in self._volumes: return self._volumes[name] else: err = make_libvirtError( libvirtError, ""no such storage volume %s"" % name, error_code=VIR_ERR_NO_STORAGE_VOL, error_domain=VIR_FROM_STORAGE) raise err def listAllVolumes(self, flags=0): return self._volumes.values() def create(self, flags): self._active = True def destroy(self): self._active = False if not self._persistent: self.undefine() def isActive(self): return self._active def undefine(self): if self._conn: del self._conn._pools[self._name] class StorageVolume(object): def __init__(self, name, path=None, pool=None, use_real_files=False): self._name = name if path is None: self._path = os.path.join(pool._path, name) else: self._path = path if use_real_files: # create the file if needed (equivalent to `touch`) with open(self._path, 'a'): os.utime(self._path, None) self._use_real_files = use_real_files self._pool = pool self._capacity = 100 self._allocation = 100 self._format = None self._backing_path = None self._timestamps = {'mtime': time.time(), 'atime': time.time(), 'ctime': time.time()} self._flags = 0 self._created_from = None self._xml = """"""<volume> <name>%(name)s</name> <key>%(path)s</key> <capacity>%(capacity)s</capacity> <allocation>%(allocation)s</allocation> <target> %(format_xml)s <path>%(path)s</path> <timestamps> <mtime>%(mtime)s</mtime> <ctime>%(ctime)s</ctime> <atime>%(atime)s</atime> </timestamps> </target> %(backing_store_xml)s </volume>"""""" def name(self): return self._name def path(self): return self._path def info(self): return (VIR_STORAGE_VOL_FILE, self._capacity, self._allocation) def XMLDesc(self, flags): if self._use_real_files: self._timestamps = {'mtime': os.path.getmtime(self._path), 'ctime': os.path.getctime(self._path), 'atime': os.path.getatime(self._path)} params = {'name': self._name, 'path': self._path, 'capacity': self._capacity, 'allocation': self._allocation, 'mtime': self._timestamps['mtime'], 'ctime': self._timestamps['ctime'], 'atime': self._timestamps['atime']} if self._format is not None: params['format_xml'] = ""<format type='%s'/>"" % self._format else: params['format_xml'] = """" if self._backing_path is not None: params['backing_store_xml'] = """"""<backingStore> <path>%s</path> </backingStore>"""""" % self._backing_path else: params['backing_store_xml'] = """" return self._xml % params def delete(self, flags=None): if self._use_real_files: os.remove(self._path) if self._pool: del self._pool._volumes[self._name] self._pools = {} # add the pools required for Nova self._initialize_basic_pools() def _clear_basic_pools(self): del self._pools['nova-disks-pool'] del self._pools['nova-base-images-pool'] def _initialize_basic_pools(self): main_pool = StoragePool('nova-disks-pool', '/some/path/_disks') main_pool._conn = self self._pools[main_pool._name] = main_pool cache_pool = StoragePool('nova-base-images-pool', '/some/path/_base') cache_pool._conn = self self._pools[cache_pool._name] = cache_pool def storagePoolLookupByName(self, name): if name in self._pools: return self._pools[name] else: err = make_libvirtError( libvirtError, ""no such storage pool %s"" % name, error_code=VIR_ERR_NO_STORAGE_POOL, error_domain=VIR_FROM_STORAGE) raise err def storagePoolCreateXML(self, xml, flags): pool = self.storagePoolDefineXML(xml, flags) pool._active = True pool._persistent = False return pool def storagePoolDefineXML(self, xml, flags): xml_parsed = etree.fromstring(xml) pool_type = xml_parsed.get('type') name = xml_parsed.find('name').text path = xml_parsed.find('target/path').text pool = StoragePool(name, path) pool.type = pool_type pool._conn = self self._pools[name] = pool pool._active = False pool._persistent = True return pool def close(self): pass ERR_CODES_TO_PATCH = ('VIR_ERR_NO_STORAGE_VOL', 'VIR_ERR_NO_STORAGE_POOL') # patch error-related things as well err_patcher = mock.patch.object( libvirt, 'libvirtError', libvirtError) err_patcher.start() self.addCleanup(err_patcher.stop) for err_name in self.ERR_CODES_TO_PATCH: code_patcher = mock.patch.object( libvirt, err_name, globals()[err_name]) code_patcher.start() self.addCleanup(code_patcher.stop) ",,756,0
openstack%2Fnova~master~Ic1f1f771b8f5c33ad4db2206b368ad87a377c354,openstack/nova,master,Ic1f1f771b8f5c33ad4db2206b368ad87a377c354,Convert mox to mock: tests/unit/test_utils.py,ABANDONED,2015-02-17 11:19:28.000000000,2015-05-13 17:19:38.000000000,,"[{'_account_id': 3}, {'_account_id': 1849}, {'_account_id': 8412}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10068}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11103}, {'_account_id': 15042}]","[{'number': 1, 'created': '2015-02-17 11:19:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7e54281e7a1ac175f2dc21b2bc0134bbe6875ba2', 'message': 'Convert mox to mock: tests/compute/test_utils.py\n\nReplace mox testing library by mock in the file\ncinder/tests/compute/test_utils.py\nImplements: blueprint mox-to-mock-conversion\n\nChange-Id: Ic1f1f771b8f5c33ad4db2206b368ad87a377c354\n'}, {'number': 2, 'created': '2015-02-17 13:38:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/873c861f98e78cff42d08c4dc766c827040971c5', 'message': 'Convert mox to mock: tests/compute/test_utils.py\n\nReplace mox testing library by mock in the file\ncinder/tests/compute/test_utils.py\nImplements: blueprint mox-to-mock-conversion\n\nChange-Id: Ic1f1f771b8f5c33ad4db2206b368ad87a377c354\n'}, {'number': 3, 'created': '2015-02-17 13:50:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a1b9ec9e4bc12c21785cb6182686ed043231ca5e', 'message': 'Convert mox to mock: tests/compute/test_utils.py\n\nReplace mox testing library by mock in the file\nnova/tests/compute/test_utils.py\nImplements: blueprint mox-to-mock-conversion\n\nChange-Id: Ic1f1f771b8f5c33ad4db2206b368ad87a377c354\n'}, {'number': 4, 'created': '2015-02-17 15:30:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/99d8ebace52f8cef31f93e551dba49e3e8586624', 'message': 'Convert mox to mock: tests/unit/test_utils.py\n\nReplace mox testing library by mock in the file\nnova/tests/unit/test_utils.py\n\nImplements: blueprint mox-to-mock-conversion\nChange-Id: Ic1f1f771b8f5c33ad4db2206b368ad87a377c354\n'}, {'number': 5, 'created': '2015-02-18 08:34:58.000000000', 'files': ['nova/tests/unit/test_utils.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/cc88921768a556e21028258689b995c8e0b4e960', 'message': 'Convert mox to mock: tests/unit/test_utils.py\n\nReplace mox testing library by mock in the file\nnova/tests/unit/test_utils.py\n\nImplements: blueprint mox-to-mock-conversion\nChange-Id: Ic1f1f771b8f5c33ad4db2206b368ad87a377c354\n'}]",4,156548,cc88921768a556e21028258689b995c8e0b4e960,34,10,5,15042,,,0,"Convert mox to mock: tests/unit/test_utils.py

Replace mox testing library by mock in the file
nova/tests/unit/test_utils.py

Implements: blueprint mox-to-mock-conversion
Change-Id: Ic1f1f771b8f5c33ad4db2206b368ad87a377c354
",git fetch https://review.opendev.org/openstack/nova refs/changes/48/156548/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/unit/test_utils.py'],1,7e54281e7a1ac175f2dc21b2bc0134bbe6875ba2,bp/mox-to-mock-conversion," with mock.patch.object(os.path, 'getmtime') as mock_getmtime: mock_getmtime.return_value = 1 cache_data = {""data"": 1123, ""mtime"": 1} data = utils.read_cached_file(""/this/is/a/fake"", cache_data) self.assertEqual(cache_data[""data""], data) with mock.patch.object(os.path, 'getmtime') as mock_getmtime: mock_getmtime.return_value = 2 fake_contents = ""lorem ipsum"" m = mock.mock_open(read_data=fake_contents) with mock.patch(""__builtin__.open"", m, create=True): cache_data = {""data"": 1123, ""mtime"": 1} self.reload_called = False def test_reload(reloaded_data): self.assertEqual(reloaded_data, fake_contents) self.reload_called = True data = utils.read_cached_file(""/this/is/a/fake"", cache_data, reload_func=test_reload) self.assertEqual(data, fake_contents) self.assertTrue(self.reload_called) with mock.patch.object(utils, 'execute') as mock_execute: utils.mkfs('ext4', '/my/block/dev') utils.mkfs('msdos', '/my/msdos/block/dev') utils.mkfs('swap', '/my/swap/block/dev') expected = [mock.call('mkfs', '-t', 'ext4', '-F', '/my/block/dev', run_as_root=False), mock.call('mkfs', '-t', 'msdos', '/my/msdos/block/dev', run_as_root=False), mock.call('mkswap', '/my/swap/block/dev', run_as_root=False)] self.assertEqual(mock_execute.mock_calls, expected) with mock.patch.object(utils, 'execute') as mock_execute: utils.mkfs('ext4', '/my/block/dev', 'ext4-vol') utils.mkfs('msdos', '/my/msdos/block/dev', 'msdos-vol') utils.mkfs('swap', '/my/swap/block/dev', 'swap-vol') expected = [mock.call('mkfs', '-t', 'ext4', '-F', '-L', 'ext4-vol', '/my/block/dev', run_as_root=False), mock.call('mkfs', '-t', 'msdos', '-n', 'msdos-vol', '/my/msdos/block/dev', run_as_root=False), mock.call('mkswap', '-L', 'swap-vol', '/my/swap/block/dev', run_as_root=False)] self.assertEqual(mock_execute.mock_calls, expected)","from mox3 import mox self.mox.StubOutWithMock(os.path, ""getmtime"") os.path.getmtime(mox.IgnoreArg()).AndReturn(1) self.mox.ReplayAll() cache_data = {""data"": 1123, ""mtime"": 1} data = utils.read_cached_file(""/this/is/a/fake"", cache_data) self.assertEqual(cache_data[""data""], data) self.mox.StubOutWithMock(os.path, ""getmtime"") os.path.getmtime(mox.IgnoreArg()).AndReturn(2) self.mox.ReplayAll() fake_contents = ""lorem ipsum"" m = mock.mock_open(read_data=fake_contents) with mock.patch(""__builtin__.open"", m, create=True): cache_data = {""data"": 1123, ""mtime"": 1} self.reload_called = False def test_reload(reloaded_data): self.assertEqual(reloaded_data, fake_contents) self.reload_called = True data = utils.read_cached_file(""/this/is/a/fake"", cache_data, reload_func=test_reload) self.assertEqual(data, fake_contents) self.assertTrue(self.reload_called) self.mox.StubOutWithMock(utils, 'execute') utils.execute('mkfs', '-t', 'ext4', '-F', '/my/block/dev', run_as_root=False) utils.execute('mkfs', '-t', 'msdos', '/my/msdos/block/dev', run_as_root=False) utils.execute('mkswap', '/my/swap/block/dev', run_as_root=False) self.mox.ReplayAll() utils.mkfs('ext4', '/my/block/dev') utils.mkfs('msdos', '/my/msdos/block/dev') utils.mkfs('swap', '/my/swap/block/dev') self.mox.StubOutWithMock(utils, 'execute') utils.execute('mkfs', '-t', 'ext4', '-F', '-L', 'ext4-vol', '/my/block/dev', run_as_root=False) utils.execute('mkfs', '-t', 'msdos', '-n', 'msdos-vol', '/my/msdos/block/dev', run_as_root=False) utils.execute('mkswap', '-L', 'swap-vol', '/my/swap/block/dev', run_as_root=False) self.mox.ReplayAll() utils.mkfs('ext4', '/my/block/dev', 'ext4-vol') utils.mkfs('msdos', '/my/msdos/block/dev', 'msdos-vol') utils.mkfs('swap', '/my/swap/block/dev', 'swap-vol')",43,45
openstack%2Fnova~master~Iaaa298029e139690526a61de51b569dd8d34236d,openstack/nova,master,Iaaa298029e139690526a61de51b569dd8d34236d,libvirt: allows to configure disk driver IO policy,ABANDONED,2014-08-28 07:27:13.000000000,2015-05-13 17:19:32.000000000,,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 1653}, {'_account_id': 1669}, {'_account_id': 1779}, {'_account_id': 1812}, {'_account_id': 1849}, {'_account_id': 2750}, {'_account_id': 2813}, {'_account_id': 5170}, {'_account_id': 5754}, {'_account_id': 6062}, {'_account_id': 6873}, {'_account_id': 6984}, {'_account_id': 7730}, {'_account_id': 8276}, {'_account_id': 8412}, {'_account_id': 8531}, {'_account_id': 8802}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9061}, {'_account_id': 9550}, {'_account_id': 9578}, {'_account_id': 9708}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 10614}, {'_account_id': 11103}, {'_account_id': 11521}, {'_account_id': 12909}, {'_account_id': 13915}]","[{'number': 1, 'created': '2014-08-28 07:27:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2620bdb4d83c666e5f99608b418433f5a783d134', 'message': 'libvirt: allows to configure disk driver IO policy\n\nlibvirt allows to configuration the disk IO policy with io=native or\nio=threads\n\nThis change allows to configure that in nova, so the XML generated for\nlibvirt have the io=... option set for disks and volumes\nwhen the configuration option [libvirt]/disk_driver_io_policy is set.\n\nChange-Id: Iaaa298029e139690526a61de51b569dd8d34236d\n'}, {'number': 2, 'created': '2014-08-28 09:59:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b70f857b81dc2b82aa18820661e00dbc679d338c', 'message': 'libvirt: allows to configure disk driver IO policy\n\nlibvirt allows to configure the disk IO policy with io=native or\nio=threads\n\nThis change allows to configure that in nova, so the XML generated for\nlibvirt have the io=... option set for disks and volumes\nwhen the configuration option disk_driver_io_policies is set.\n\nEverything is done exactly like the disk_cachemode, per\ndisk source_type. So the configuration option looks like:\n\n[libvirt]\ndisk_driver_io_policies = file=threads,network=native\n\nChange-Id: Iaaa298029e139690526a61de51b569dd8d34236d\n'}, {'number': 3, 'created': '2014-08-28 10:04:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/63a742baa6bd2d260d51cce2660c90ff74407683', 'message': 'libvirt: allows to configure disk driver IO policy\n\nlibvirt allows to configure the disk IO policy with io=native or\nio=threads\n\nThis change allows to configure that in nova, so the XML generated for\nlibvirt have the io=... option set for disks and volumes\nwhen the configuration option disk_driver_io_policies is set.\n\nEverything is done exactly like the disk_cachemode, per\ndisk source_type. So the configuration option looks like:\n\n[libvirt]\ndisk_driver_io_policies = file=threads,network=native\n\nChange-Id: Iaaa298029e139690526a61de51b569dd8d34236d\n'}, {'number': 4, 'created': '2014-08-28 10:05:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bcc573294bc18720cb6efb3794bb3fcc3aa6534b', 'message': 'libvirt: allows to configure disk driver IO policy\n\nlibvirt allows to configure the disk IO policy with io=native or\nio=threads\n\nThis change allows to configure that in nova, so the XML generated for\nlibvirt have the io=... option set for disks and volumes\nwhen the configuration option disk_driver_io_policies is set.\n\nEverything is done exactly like the disk_cachemode, per\ndisk source_type. So the configuration option looks like:\n\n[libvirt]\ndisk_driver_io_policies = file=threads,network=native\n\nChange-Id: Iaaa298029e139690526a61de51b569dd8d34236d\n'}, {'number': 5, 'created': '2014-08-28 10:21:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7e9472e28e1ab180605a33d868d3c407342614f8', 'message': 'libvirt: allows to configure disk driver IO policy\n\nlibvirt allows to configure the disk IO policy with io=native or\nio=threads\n\nThis change allows to configure that in nova, so the XML generated for\nlibvirt have the io=... option set for disks and volumes\nwhen the configuration option disk_driver_io_policies is set.\n\nEverything is done exactly like the disk_cachemode, per\ndisk source_type. So the configuration option looks like:\n\n[libvirt]\ndisk_driver_io_policies = file=threads,network=native\n\nChange-Id: Iaaa298029e139690526a61de51b569dd8d34236d\n'}, {'number': 6, 'created': '2014-08-28 13:37:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/720a6e4e9bf69378847432ac0a96479a825703fa', 'message': 'libvirt: allows to configure disk driver IO policy\n\nlibvirt allows to configure the disk IO policy with io=native or\nio=threads\n\nThis change allows to configure that in nova, so the XML generated for\nlibvirt have the io=... option set for disks and volumes\nwhen the configuration option disk_driver_io_policies is set.\n\nEverything is done exactly like the disk_cachemode, per\ndisk source_type. So the configuration option looks like:\n\n[libvirt]\ndisk_driver_io_policies = file=threads,network=native\n\nChange-Id: Iaaa298029e139690526a61de51b569dd8d34236d\n'}, {'number': 7, 'created': '2014-08-29 09:56:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/87840a1cde531399171d469fb934bf65daf70a95', 'message': 'libvirt: allows to configure disk driver IO policy\n\nlibvirt allows to configure the disk IO policy with io=native or\nio=threads\n\nThis change allows to configure that in nova, so the XML generated for\nlibvirt have the io=... option set for disks and volumes\nwhen the configuration option disk_driver_io_policies is set.\n\nEverything is done exactly like the disk_cachemode, per\ndisk source_type. So the configuration option looks like:\n\n[libvirt]\ndisk_driver_io_policies = file=threads,network=native\n\nChange-Id: Iaaa298029e139690526a61de51b569dd8d34236d\n'}, {'number': 8, 'created': '2014-09-02 09:08:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8a376c4c07759034f24d8dc6397c134ac2ef8897', 'message': 'libvirt: allows to configure disk driver IO policy\n\nlibvirt allows to configure the disk IO policy with io=native or\nio=threads\n\nThis change allows to configure that in nova, so the XML generated for\nlibvirt have the io=... option set for disks and volumes\nwhen the configuration option disk_io_policies is set.\n\nEverything is done exactly like the disk_cachemode, per\ndisk source_type. So the configuration option looks like:\n\n[libvirt]\ndisk_io_policies = file=threads,network=native\n\nChange-Id: Iaaa298029e139690526a61de51b569dd8d34236d\n'}, {'number': 9, 'created': '2014-09-05 10:44:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/23547dc827382ea811074d01aec92421c44d080d', 'message': 'libvirt: allows to configure disk driver IO policy\n\nlibvirt allows to configure the disk IO policy with io=native or\nio=threads\n\nThis change allows to configure that in nova, so the XML generated for\nlibvirt have the io=... option set for disks and volumes\nwhen the configuration option disk_io_policies is set.\n\nEverything is done exactly like the disk_cachemode, per\ndisk source_type. So the configuration option looks like:\n\n[libvirt]\ndisk_io_policies = file=threads,network=native\n\nChange-Id: Iaaa298029e139690526a61de51b569dd8d34236d\n'}, {'number': 10, 'created': '2014-09-08 16:24:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6d8fa8668b9145508313ca8b83d668b928d32963', 'message': 'libvirt: allows to configure disk driver IO policy\n\nlibvirt allows to configure the disk IO policy with io=native or\nio=threads\n\nThis change allows to configure that in nova, so the XML generated for\nlibvirt have the io=... option set for disks and volumes\nwhen the configuration option disk_io_policies is set.\n\nEverything is done exactly like the disk_cachemode, per\ndisk source_type. So the configuration option looks like:\n\n[libvirt]\ndisk_io_policies = file=threads,network=native\n\nChange-Id: Iaaa298029e139690526a61de51b569dd8d34236d\n'}, {'number': 11, 'created': '2014-09-18 07:07:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ad6b54af755cfdd6d672ca3aa8b19a7578d9fb68', 'message': 'libvirt: allows to configure disk driver IO policy\n\nlibvirt allows to configure the disk IO policy with io=native or\nio=threads\n\nThis change allows to configure that in nova, so the XML generated for\nlibvirt have the io=... option set for disks and volumes\nwhen the configuration option disk_io_policies is set.\n\nEverything is done exactly like the disk_cachemode, per\ndisk source_type. So the configuration option looks like:\n\n[libvirt]\ndisk_io_policies = file=threads,network=native\n\nChange-Id: Iaaa298029e139690526a61de51b569dd8d34236d\n'}, {'number': 12, 'created': '2014-09-24 16:21:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a29f822665a6c8644e4543f605620354ce7e9275', 'message': 'libvirt: allows to configure disk driver IO policy\n\nlibvirt allows to configure the disk IO policy with io=native or\nio=threads\n\nThis change allows to configure that in nova, so the XML generated for\nlibvirt have the io=... option set for disks and volumes\nwhen the configuration option disk_io_policies is set.\n\nEverything is done exactly like the disk_cachemode, per\ndisk source_type. So the configuration option looks like:\n\n[libvirt]\ndisk_io_policies = file=threads,network=native\n\nChange-Id: Iaaa298029e139690526a61de51b569dd8d34236d\n'}, {'number': 13, 'created': '2014-09-24 17:01:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4fc4c8bd74be3020ea4f0b4443a500f75d85dc7a', 'message': 'libvirt: allows to configure disk driver IO policy\n\nlibvirt allows to configure the disk IO policy with io=native or\nio=threads\n\nThis change allows to configure that in nova, so the XML generated for\nlibvirt have the io=... option set for disks and volumes\nwhen the configuration option disk_io_policies is set.\n\nEverything is done exactly like the disk_cachemode, per\ndisk source_type. So the configuration option looks like:\n\n[libvirt]\ndisk_io_policies = file=threads,network=native\n\nChange-Id: Iaaa298029e139690526a61de51b569dd8d34236d\n'}, {'number': 14, 'created': '2014-09-24 20:52:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3a33c0e88bbc97a6c0f19f3028a26fda9c828e79', 'message': 'libvirt: allows to configure disk driver IO policy\n\nlibvirt allows to configure the disk IO policy with io=native or\nio=threads\n\nThis change allows to configure that in nova, so the XML generated for\nlibvirt have the io=... option set for disks and volumes\nwhen the configuration option disk_io_policies is set.\n\nEverything is done exactly like the disk_cachemode, per\ndisk source_type. So the configuration option looks like:\n\n[libvirt]\ndisk_io_policies = file=threads,network=native\n\nChange-Id: Iaaa298029e139690526a61de51b569dd8d34236d\n'}, {'number': 15, 'created': '2014-10-08 09:04:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cabb5780557a2c879a5df6dd0ff69e0264bbab74', 'message': 'libvirt: allows to configure disk driver IO policy\n\nlibvirt allows to configure the disk IO policy with io=native or\nio=threads\n\nThis change allows to configure that in nova, so the XML generated for\nlibvirt have the io=... option set for disks and volumes\nwhen the configuration option disk_io_policies is set.\n\nEverything is done exactly like the disk_cachemode, per\ndisk source_type. So the configuration option looks like:\n\n[libvirt]\ndisk_io_policies = file=threads,network=native\n\nChange-Id: Iaaa298029e139690526a61de51b569dd8d34236d\n'}, {'number': 16, 'created': '2014-10-08 12:17:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1cd162f44e46d8c8b80c743bdbd4a2310ec79514', 'message': 'libvirt: allows to configure disk driver IO policy\n\nlibvirt allows to configure the disk IO policy with io=native or\nio=threads\n\nThis change allows to configure that in nova, so the XML generated for\nlibvirt have the io=... option set for disks and volumes\nwhen the configuration option disk_io_policies is set.\n\nEverything is done exactly like the disk_cachemode, per\ndisk source_type. So the configuration option looks like:\n\n[libvirt]\ndisk_io_policies = file=threads,network=native\n\nChange-Id: Iaaa298029e139690526a61de51b569dd8d34236d\n'}, {'number': 17, 'created': '2014-10-28 15:23:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b466d7e7b35e1c0a4388c7cfbc7b63deff11e7d1', 'message': 'libvirt: allows to configure disk driver IO policy\n\nlibvirt allows to configure the disk IO policy with io=native or\nio=threads\n\nThis change allows to configure that in nova, so the XML generated for\nlibvirt have the io=... option set for disks and volumes\nwhen the configuration option disk_io_policies is set.\n\nEverything is done exactly like the disk_cachemode, per\ndisk source_type. So the configuration option looks like:\n\n[libvirt]\ndisk_io_policies = file=threads,network=native\n\nChange-Id: Iaaa298029e139690526a61de51b569dd8d34236d\n'}, {'number': 18, 'created': '2014-11-14 16:12:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bd98369bc99f9a4a440f941099ce658dd5da3bed', 'message': 'libvirt: allows to configure disk driver IO policy\n\nlibvirt allows to configure the disk IO policy with io=native or\nio=threads\n\nThis change allows to configure that in nova, so the XML generated for\nlibvirt have the io=... option set for disks and volumes\nwhen the configuration option disk_io_policies is set.\n\nEverything is done exactly like the disk_cachemode, per\ndisk source_type. So the configuration option looks like:\n\n[libvirt]\ndisk_io_policies = file=threads,network=native\n\nChange-Id: Iaaa298029e139690526a61de51b569dd8d34236d\n'}, {'number': 19, 'created': '2014-11-27 10:54:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8dfb6557b72dbeb3ddb64ac1d6124ad24c69db9a', 'message': 'libvirt: allows to configure disk driver IO policy\n\nlibvirt allows to configure the disk IO policy with io=native or\nio=threads\n\nThis change allows to configure that in nova, so the XML generated for\nlibvirt have the io=... option set for disks and volumes\nwhen the configuration option disk_io_policies is set.\n\nEverything is done exactly like the disk_cachemode, per\ndisk source_type. So the configuration option looks like:\n\n[libvirt]\ndisk_io_policies = file=threads,network=native\n\nChange-Id: Iaaa298029e139690526a61de51b569dd8d34236d\n'}, {'number': 20, 'created': '2014-11-28 13:55:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d71909eab6a41ad743c3d00074f1bf0a61f57a81', 'message': 'libvirt: allows to configure disk driver IO policy\n\nlibvirt allows to configure the disk IO policy with io=native or\nio=threads\n\nThis change allows to configure that in nova, so the XML generated for\nlibvirt have the io=... option set for disks and volumes\nwhen the configuration option disk_io_policies is set.\n\nEverything is done exactly like the disk_cachemode, per\ndisk source_type. So the configuration option looks like:\n\n[libvirt]\ndisk_io_policies = file=threads,network=native\n\nChange-Id: Iaaa298029e139690526a61de51b569dd8d34236d\n'}, {'number': 21, 'created': '2014-12-05 09:13:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/83cbbbf4a72d78c0c0265dc8cbd9b0c6ddbcb147', 'message': 'libvirt: allows to configure disk driver IO policy\n\nlibvirt allows to configure the disk IO policy with io=native or\nio=threads\n\nThis change allows to configure that in nova, so the XML generated for\nlibvirt have the io=... option set for disks and volumes\nwhen the configuration option disk_io_policies is set.\n\nEverything is done exactly like the disk_cachemode, per\ndisk source_type. So the configuration option looks like:\n\n[libvirt]\ndisk_io_policies = file=threads,network=native\n\nCloses-Bug: #1399573\nChange-Id: Iaaa298029e139690526a61de51b569dd8d34236d'}, {'number': 22, 'created': '2014-12-05 09:47:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ca8ff365e68f40e3a87ae48d0db711d124a568c2', 'message': 'libvirt: allows to configure disk driver IO policy\n\nlibvirt allows to configure the disk IO policy with io=native or\nio=threads\n\nThis change allows to configure that in nova, so the XML generated for\nlibvirt have the io=... option set for disks and volumes\nwhen the configuration option disk_io_policies is set.\n\nEverything is done exactly like the disk_cachemode, per\ndisk source_type. So the configuration option looks like:\n\n[libvirt]\ndisk_io_policies = file=threads,network=native\n\nCloses-Bug: #1399573\nChange-Id: Iaaa298029e139690526a61de51b569dd8d34236d'}, {'number': 23, 'created': '2014-12-10 11:04:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f6c66ae978ccdf64f480934b768ef9292dcd601f', 'message': 'libvirt: allows to configure disk driver IO policy\n\nlibvirt allows to configure the disk IO policy with io=native or\nio=threads\n\nThis change allows to configure that in nova, so the XML generated for\nlibvirt have the io=... option set for disks and volumes\nwhen the configuration option disk_io_policies is set.\n\nEverything is done exactly like the disk_cachemode, per\ndisk source_type. So the configuration option looks like:\n\n[libvirt]\ndisk_io_policies = file=threads,network=native\n\nCloses-Bug: #1399573\nChange-Id: Iaaa298029e139690526a61de51b569dd8d34236d\n'}, {'number': 24, 'created': '2014-12-16 19:13:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1643b22bbbc993e7ca714ae954a446a00a289d9d', 'message': 'libvirt: allows to configure disk driver IO policy\n\nlibvirt allows to configure the disk IO policy with io=native or\nio=threads\n\nThis change allows to configure that in nova, so the XML generated for\nlibvirt have the io=... option set for disks and volumes\nwhen the configuration option disk_io_policies is set.\n\nEverything is done exactly like the disk_cachemode, per\ndisk source_type. So the configuration option looks like:\n\n[libvirt]\ndisk_io_policies = file=threads,network=native\n\nDocImpact: New libvirt.disk_io_policies option added.\n\nCloses-Bug: #1399573\nChange-Id: Iaaa298029e139690526a61de51b569dd8d34236d\n'}, {'number': 25, 'created': '2015-01-08 06:39:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6070d669344d1f69b079f451cc1ba5c497ff918a', 'message': 'libvirt: allows to configure disk driver IO policy\n\nlibvirt allows to configure the disk IO policy with io=native or\nio=threads\n\nThis change allows to configure that in nova, so the XML generated for\nlibvirt have the io=... option set for disks and volumes\nwhen the configuration option disk_io_policies is set.\n\nEverything is done exactly like the disk_cachemode, per\ndisk source_type. So the configuration option looks like:\n\n[libvirt]\ndisk_io_policies = file=threads,network=native\n\nDocImpact: New libvirt.disk_io_policies option added.\n\nCloses-Bug: #1399573\nChange-Id: Iaaa298029e139690526a61de51b569dd8d34236d\n'}, {'number': 26, 'created': '2015-01-09 06:38:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/111025a023fb4919a9700f916a48eee926d00a35', 'message': 'libvirt: allows to configure disk driver IO policy\n\nlibvirt allows to configure the disk IO policy with io=native or\nio=threads\n\nThis change allows to configure that in nova, so the XML generated for\nlibvirt have the io=... option set for disks and volumes\nwhen the configuration option disk_io_policies is set.\n\nEverything is done exactly like the disk_cachemode, per\ndisk source_type. So the configuration option looks like:\n\n[libvirt]\ndisk_io_policies = file=threads,network=native\n\nDocImpact: New libvirt.disk_io_policies option added.\n\nCloses-Bug: #1399573\nChange-Id: Iaaa298029e139690526a61de51b569dd8d34236d\n'}, {'number': 27, 'created': '2015-01-15 14:25:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a4e7dcec80b69c08bc380d1f03b1531b1017c35b', 'message': 'libvirt: allows to configure disk driver IO policy\n\nlibvirt allows to configure the disk IO policy with io=native or\nio=threads\n\nThis change allows to configure that in nova, so the XML generated for\nlibvirt have the io=... option set for disks and volumes\nwhen the configuration option disk_io_policies is set.\n\nEverything is done exactly like the disk_cachemode, per\ndisk source_type. So the configuration option looks like:\n\n[libvirt]\ndisk_io_policies = file=threads,network=native\n\nDocImpact: New libvirt.disk_io_policies option added.\n\nCloses-Bug: #1399573\nChange-Id: Iaaa298029e139690526a61de51b569dd8d34236d\n'}, {'number': 28, 'created': '2015-01-26 16:53:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2a24b88c3301ccc6489e06228c9f3bdba42ee9fc', 'message': 'libvirt: allows to configure disk driver IO policy\n\nlibvirt allows to configure the disk IO policy with io=native or\nio=threads\n\nThis change allows to configure that in nova, so the XML generated for\nlibvirt have the io=... option set for disks and volumes\nwhen the configuration option disk_io_policies is set.\n\nEverything is done exactly like the disk_cachemode, per\ndisk source_type. So the configuration option looks like:\n\n[libvirt]\ndisk_io_policies = file=threads,network=native\n\nDocImpact: New libvirt.disk_io_policies option added.\n\nCloses-Bug: #1399573\nChange-Id: Iaaa298029e139690526a61de51b569dd8d34236d\n'}, {'number': 29, 'created': '2015-01-27 08:23:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/217681639749d5a50d6863efe7145479ff6a9ccd', 'message': 'libvirt: allows to configure disk driver IO policy\n\nlibvirt allows to configure the disk IO policy with io=native or\nio=threads\n\nThis change allows to configure that in nova, so the XML generated for\nlibvirt have the io=... option set for disks and volumes\nwhen the configuration option disk_io_policies is set.\n\nEverything is done exactly like the disk_cachemode, per\ndisk source_type. So the configuration option looks like:\n\n[libvirt]\ndisk_io_policies = file=threads,network=native\n\nDocImpact: New libvirt.disk_io_policies option added.\n\nCloses-Bug: #1399573\nChange-Id: Iaaa298029e139690526a61de51b569dd8d34236d\n'}, {'number': 30, 'created': '2015-02-02 09:59:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3067a0e43c6cd55fd9907b82da6fbbfe6e75b727', 'message': 'libvirt: allows to configure disk driver IO policy\n\nlibvirt allows to configure the disk IO policy with io=native or\nio=threads\n\nThis change allows to configure that in nova, so the XML generated for\nlibvirt have the io=... option set for disks and volumes\nwhen the configuration option disk_io_policies is set.\n\nEverything is done exactly like the disk_cachemode, per\ndisk source_type. So the configuration option looks like:\n\n[libvirt]\ndisk_io_policies = file=threads,network=native\n\nDocImpact: New libvirt.disk_io_policies option added.\n\nCloses-Bug: #1399573\nChange-Id: Iaaa298029e139690526a61de51b569dd8d34236d\n'}, {'number': 31, 'created': '2015-02-02 11:06:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8dad584ec620c719cdc3ccf46aa0534a7b779a3a', 'message': 'libvirt: allows to configure disk driver IO policy\n\nlibvirt allows to configure the disk IO policy with io=native or\nio=threads\n\nThis change allows to configure that in nova, so the XML generated for\nlibvirt have the io=... option set for disks and volumes\nwhen the configuration option disk_io_policies is set.\n\nEverything is done exactly like the disk_cachemode, per\ndisk source_type. So the configuration option looks like:\n\n[libvirt]\ndisk_io_policies = file=threads,network=native\n\nDocImpact: New libvirt.disk_io_policies option added.\n\nCloses-Bug: #1399573\nChange-Id: Iaaa298029e139690526a61de51b569dd8d34236d\n'}, {'number': 32, 'created': '2015-02-03 15:26:46.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/virt/libvirt/config.py', 'nova/tests/unit/virt/libvirt/test_config.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/0e92482063363a535022ead87a65d7f96a7f01eb', 'message': 'libvirt: allows to configure disk driver IO policy\n\nlibvirt allows to configure the disk IO policy with io=native or\nio=threads\n\nThis change allows to configure that in nova, so the XML generated for\nlibvirt have the io=... option set for disks and volumes\nwhen the configuration option disk_io_policies is set.\n\nEverything is done exactly like the disk_cachemode, per\ndisk source_type. So the configuration option looks like:\n\n[libvirt]\ndisk_io_policies = file=threads,network=native\n\nDocImpact: New libvirt.disk_io_policies option added.\n\nCloses-Bug: #1399573\nChange-Id: Iaaa298029e139690526a61de51b569dd8d34236d\n'}]",40,117442,0e92482063363a535022ead87a65d7f96a7f01eb,251,32,32,2813,,,0,"libvirt: allows to configure disk driver IO policy

libvirt allows to configure the disk IO policy with io=native or
io=threads

This change allows to configure that in nova, so the XML generated for
libvirt have the io=... option set for disks and volumes
when the configuration option disk_io_policies is set.

Everything is done exactly like the disk_cachemode, per
disk source_type. So the configuration option looks like:

[libvirt]
disk_io_policies = file=threads,network=native

DocImpact: New libvirt.disk_io_policies option added.

Closes-Bug: #1399573
Change-Id: Iaaa298029e139690526a61de51b569dd8d34236d
",git fetch https://review.opendev.org/openstack/nova refs/changes/42/117442/26 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/config.py', 'nova/virt/libvirt/volume.py', 'nova/tests/virt/libvirt/test_config.py', 'nova/tests/virt/libvirt/test_volume.py', 'nova/tests/virt/libvirt/test_driver.py', 'nova/virt/libvirt/imagebackend.py']",6,2620bdb4d83c666e5f99608b418433f5a783d134,bug/1399573,"CONF.import_opt('disk_driver_io_policy', 'nova.virt.libvirt.volume', group='libvirt') info.driver_io = cfg.CONF.libvirt.disk_driver_io_policy info.driver_io = cfg.CONF.libvirt.disk_driver_io_policy",,97,2
openstack%2Fnova~master~Ic280e569d963c25f424d5dbc329bcb08fdaba04c,openstack/nova,master,Ic280e569d963c25f424d5dbc329bcb08fdaba04c,LVM: Support a volume-group on shared storage,ABANDONED,2014-05-06 19:26:35.000000000,2015-05-13 17:19:29.000000000,,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 782}, {'_account_id': 1779}, {'_account_id': 1849}, {'_account_id': 2243}, {'_account_id': 4159}, {'_account_id': 4393}, {'_account_id': 5170}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9176}, {'_account_id': 9578}, {'_account_id': 10115}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11676}]","[{'number': 1, 'created': '2014-05-06 19:26:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/91785b00c0f50ba4892bab68e0d86b539e4336f9', 'message': 'LVM: Support a volume-gorup on shared storage\n\nCurrently LVM driver uses software iSCSI target to export a\nvolume-group. This patch adds a feature to support a volume-group on\nshared storage instead of exporting via iSCSI target. When a\nvolume-group on a shared storage (over fibre, iscsi or whatever) is\nvisible from all nodes such as a cinder node and compute nodes, these\nnodes can access the volume-group simultaneously without the target.\n\nGeneral benefits\n- Enable cinder to any kinds of shared storages without specific cinder\n  driver.\n- In regard to one storage, use both specific cinder driver and cinder\n  shared LVM driver as the situation demands.\n- Provide quicker volume and snapshot creation.\n\n*Note that this requires a Cinder lvm SharedLVMDriver as well.\n - https://blueprints.launchpad.net/cinder/+spec/lvm-driver-for-shared-storage\n - https://blueprints.launchpad.net/nova/+spec/lvm-driver-for-shared-storage\n\nChange-Id: Ic280e569d963c25f424d5dbc329bcb08fdaba04c\nSigned-off-by: Mitsuhiro Tanino <mitsuhiro.tanino@hds.com>\nImplements: blueprint lvm-driver-for-shared-storage\n'}, {'number': 2, 'created': '2014-06-09 15:12:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/898be5f080c7482f0c125f09170b3857d87fb5bc', 'message': 'LVM: Support a volume-gorup on shared storage v2\n\nCurrently LVM driver uses software iSCSI target to export a\nvolume-group. This patch adds a feature to support a volume-group on\nshared storage instead of exporting via iSCSI target. When a\nvolume-group on a shared storage (over fibre, iscsi or whatever) is\nvisible from all nodes such as a cinder node and compute nodes, these\nnodes can access the volume-group simultaneously without the target.\n\nGeneral benefits\n- In regard to one storage, use both specific cinder driver and cinder\n  shared LVM driver as the situation demands.\n- Enable cinder to any kinds of shared storages without specific cinder\n  driver.\n- Provide quicker volume and snapshot creation.\n\n*Note that this requires a Cinder lvm SharedLVMDriver as well.\n - https://blueprints.launchpad.net/cinder/+spec/lvm-driver-for-shared-storage\n - https://blueprints.launchpad.net/nova/+spec/lvm-driver-for-shared-storage\n\nChanges from v1\n - Fixed some typos.\n - Change comment format.\n - Remove unnecessary return.\n - Remove marker function from debug level logs.\n\nChange-Id: Ic280e569d963c25f424d5dbc329bcb08fdaba04c\nSigned-off-by: Mitsuhiro Tanino <mitsuhiro.tanino@hds.com>\nImplements: blueprint lvm-driver-for-shared-storage\n'}, {'number': 3, 'created': '2014-06-16 21:56:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9dc8734e99239a038f62a55be1a24e05afeca38b', 'message': 'LVM: Support a volume-group on shared storage\n\nCurrently LVM driver uses software iSCSI target to export a\nvolume-group. This patch adds a feature to support a volume-group on\nshared storage instead of exporting via iSCSI target. When a\nvolume-group on a shared storage (over fibre, iscsi or whatever) is\nvisible from all nodes such as a cinder node and compute nodes, these\nnodes can access the volume-group simultaneously without the target.\n\nGeneral benefits\n- In regard to one storage, use both specific cinder driver and cinder\n  shared LVM driver as the situation demands.\n- Enable cinder to any kinds of shared storages without specific cinder\n  driver.\n- Provide quicker volume and snapshot creation.\n\n*Note that this requires a Cinder lvm SharedLVMDriver as well.\n - https://blueprints.launchpad.net/cinder/+spec/lvm-driver-for-shared-storage\n - https://blueprints.launchpad.net/nova/+spec/lvm-driver-for-shared-storage\n\nChange-Id: Ic280e569d963c25f424d5dbc329bcb08fdaba04c\nSigned-off-by: Mitsuhiro Tanino <mitsuhiro.tanino@hds.com>\nImplements: blueprint lvm-driver-for-shared-storage\n'}, {'number': 4, 'created': '2014-06-18 22:28:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/61ff488cdcf669fe6257a9b9679d37654dafa501', 'message': 'LVM: Support a volume-group on shared storage\n\nCurrently LVM driver uses software iSCSI target to export a\nvolume-group. This patch adds a feature to support a volume-group on\nshared storage instead of exporting via iSCSI target. When a\nvolume-group on a shared storage (over fibre, iscsi or whatever) is\nvisible from all nodes such as a cinder node and compute nodes, these\nnodes can access the volume-group simultaneously without the target.\n\nGeneral benefits\n- In regard to one storage, use both specific cinder driver and cinder\n  shared LVM driver as the situation demands.\n- Enable cinder to any kinds of shared storages without specific cinder\n  driver.\n- Provide quicker volume and snapshot creation.\n\n*Note that this requires a Cinder lvm SharedLVMDriver as well.\n - https://blueprints.launchpad.net/cinder/+spec/lvm-driver-for-shared-storage\n - https://blueprints.launchpad.net/nova/+spec/lvm-driver-for-shared-storage\n\nChange-Id: Ic280e569d963c25f424d5dbc329bcb08fdaba04c\nSigned-off-by: Mitsuhiro Tanino <mitsuhiro.tanino@hds.com>\nImplements: blueprint lvm-driver-for-shared-storage\n'}, {'number': 5, 'created': '2014-06-19 23:44:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1a1ff2070f279bf45bfb19fdbadc238f39832d49', 'message': 'LVM: Support a volume-group on shared storage\n\nCurrently LVM driver uses software iSCSI target to export a\nvolume-group. This patch adds a feature to support a volume-group on\nshared storage instead of exporting via iSCSI target. When a\nvolume-group on a shared storage (over fibre, iscsi or whatever) is\nvisible from all nodes such as a cinder node and compute nodes, these\nnodes can access the volume-group simultaneously without the target.\n\nGeneral benefits\n- In regard to one storage, use both specific cinder driver and cinder\n  shared LVM driver as the situation demands.\n- Enable cinder to any kinds of shared storages without specific cinder\n  driver.\n- Provide quicker volume and snapshot creation.\n\n*Note that this requires a Cinder lvm SharedLVMDriver as well.\n - https://blueprints.launchpad.net/cinder/+spec/lvm-driver-for-shared-storage\n - https://blueprints.launchpad.net/nova/+spec/lvm-driver-for-shared-storage\n\nChange-Id: Ic280e569d963c25f424d5dbc329bcb08fdaba04c\nSigned-off-by: Mitsuhiro Tanino <mitsuhiro.tanino@hds.com>\nImplements: blueprint lvm-driver-for-shared-storage\n'}, {'number': 6, 'created': '2014-06-20 19:16:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4a91a1bfe116a13e64e5cf232c1907d25097e7c0', 'message': 'LVM: Support a volume-group on shared storage\n\nCurrently LVM driver uses software iSCSI target to export a\nvolume-group. This patch adds a feature to support a volume-group on\nshared storage instead of exporting via iSCSI target. When a\nvolume-group on a shared storage (over fibre, iscsi or whatever) is\nvisible from all nodes such as a cinder node and compute nodes, these\nnodes can access the volume-group simultaneously without the target.\n\nGeneral benefits\n- In regard to one storage, use both specific cinder driver and cinder\n  shared LVM driver as the situation demands.\n- Enable cinder to any kinds of shared storages without specific cinder\n  driver.\n- Provide quicker volume and snapshot creation.\n\n*Note that this requires a Cinder lvm SharedLVMDriver as well.\n - https://blueprints.launchpad.net/cinder/+spec/lvm-driver-for-shared-storage\n - https://blueprints.launchpad.net/nova/+spec/lvm-driver-for-shared-storage\n\nChange-Id: Ic280e569d963c25f424d5dbc329bcb08fdaba04c\nSigned-off-by: Mitsuhiro Tanino <mitsuhiro.tanino@hds.com>\nImplements: blueprint lvm-driver-for-shared-storage\n'}, {'number': 7, 'created': '2014-08-08 16:45:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/de02f87bda1e8ba9508d177c0ebe140b98a0c283', 'message': 'LVM: Support a volume-group on shared storage\n\nCurrently LVM driver uses software iSCSI target to export a\nvolume-group. This patch adds a feature to support a volume-group on\nshared storage instead of exporting via iSCSI target. When a\nvolume-group on a shared storage (over fibre, iscsi or whatever) is\nvisible from all nodes such as a cinder node and compute nodes, these\nnodes can access the volume-group simultaneously without the target.\n\nGeneral benefits\n- In regard to one storage, use both specific cinder driver and cinder\n  shared LVM driver as the situation demands.\n- Enable cinder to any kinds of shared storages without specific cinder\n  driver.\n- Provide quicker volume and snapshot creation.\n\n*Note that this requires a Cinder lvm SharedLVMDriver as well.\n - https://blueprints.launchpad.net/cinder/+spec/lvm-driver-for-shared-storage\n - https://blueprints.launchpad.net/nova/+spec/lvm-driver-for-shared-storage\n\nChange-Id: Ic280e569d963c25f424d5dbc329bcb08fdaba04c\nSigned-off-by: Mitsuhiro Tanino <mitsuhiro.tanino@hds.com>\nImplements: blueprint lvm-driver-for-shared-storage\n'}, {'number': 8, 'created': '2014-08-08 19:38:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/11b009cc2ef8b391a9c92640816f5ad41e530f32', 'message': 'LVM: Support a volume-group on shared storage\n\nCurrently LVM driver uses software iSCSI target to export a\nvolume-group. This patch adds a feature to support a volume-group on\nshared storage instead of exporting via iSCSI target. When a\nvolume-group on a shared storage (over fibre, iscsi or whatever) is\nvisible from all nodes such as a cinder node and compute nodes, these\nnodes can access the volume-group simultaneously without the target.\n\nGeneral benefits\n- In regard to one storage, use both specific cinder driver and cinder\n  shared LVM driver as the situation demands.\n- Enable cinder to any kinds of shared storages without specific cinder\n  driver.\n- Provide quicker volume and snapshot creation.\n\n*Note that this requires a Cinder lvm SharedLVMDriver as well.\n - https://blueprints.launchpad.net/cinder/+spec/lvm-driver-for-shared-storage\n - https://blueprints.launchpad.net/nova/+spec/lvm-driver-for-shared-storage\n\nChange-Id: Ic280e569d963c25f424d5dbc329bcb08fdaba04c\nSigned-off-by: Mitsuhiro Tanino <mitsuhiro.tanino@hds.com>\nImplements: blueprint lvm-driver-for-shared-storage\n'}, {'number': 9, 'created': '2014-11-14 00:51:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/26efecf1453039438fc6510a9d771bcc42122967', 'message': 'LVM: Support a volume-group on shared storage\n\nThis proposal enables LVM driver to support direct data path(I/O path)\nfrom VMs to Storage array using LVM on shared storage instead of using\nI/O path which goes through software SCSI target. As a result, the I/O\npath can be independent of Cinder Node. By enabling direct I/O path\nprovides stable I/O path for VMs and improves throughput for VMs.\n\n*Note: In this feature, both Nova and Cinder pieces are necessary.\n\n Blueprints:\n  * https://blueprints.launchpad.net/nova/+spec/lvm-driver-for-shared-storage\n  * https://blueprints.launchpad.net/cinder/+spec/lvm-driver-for-shared-storage\n\n Spec:\n  * nova:   https://review.openstack.org/#/c/127318/\n  * cinder: https://review.openstack.org/#/c/129352/\n\n Gerrit Review:\n  * nova:   https://review.openstack.org/#/c/92443/\n  * cinder: https://review.openstack.org/#/c/92479/\n\nChange-Id: Ic280e569d963c25f424d5dbc329bcb08fdaba04c\nSigned-off-by: Mitsuhiro Tanino <mitsuhiro.tanino@hds.com>\nImplements: blueprint lvm-driver-for-shared-storage\n'}, {'number': 10, 'created': '2014-11-14 00:53:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c7bc4137604f1b748f511a91bd41e0cf4927355a', 'message': 'LVM: Support a volume-group on shared storage\n\nThis proposal enables LVM driver to support direct data path(I/O path)\nfrom VMs to Storage array using LVM on shared storage instead of using\nI/O path which goes through software SCSI target. As a result, the I/O\npath can be independent of Cinder Node. By enabling direct I/O path\nprovides stable I/O path for VMs and improves throughput for VMs.\n\n*Note: In this feature, both Nova and Cinder pieces are necessary.\n\n Blueprints:\n  * https://blueprints.launchpad.net/nova/+spec/lvm-driver-for-shared-storage\n  * https://blueprints.launchpad.net/cinder/+spec/lvm-driver-for-shared-storage\n\n Spec:\n  * nova:   https://review.openstack.org/#/c/127318/\n  * cinder: https://review.openstack.org/#/c/129352/\n\n Gerrit Review:\n  * nova:   https://review.openstack.org/#/c/92443/\n  * cinder: https://review.openstack.org/#/c/92479/\n\nChange-Id: Ic280e569d963c25f424d5dbc329bcb08fdaba04c\nSigned-off-by: Mitsuhiro Tanino <mitsuhiro.tanino@hds.com>\nImplements: blueprint lvm-driver-for-shared-storage\n'}, {'number': 11, 'created': '2014-12-12 01:21:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a7a721fb91f0cd08a38eb482b84b3ffc2e0ec355', 'message': 'LVM: Support a volume-group on shared storage\n\nThis proposal enables LVM driver to support direct data path(I/O path)\nfrom VMs to Storage array using LVM on shared storage instead of using\nI/O path which goes through software SCSI target. As a result, the I/O\npath can be independent of Cinder Node. By enabling direct I/O path\nprovides stable I/O path for VMs and improves I/O latency.\n\n*Note: In this feature, both Nova and Cinder pieces are necessary.\n\nChange-Id: Ic280e569d963c25f424d5dbc329bcb08fdaba04c\nSigned-off-by: Mitsuhiro Tanino <mitsuhiro.tanino@hds.com>\nImplements: blueprint lvm-driver-for-shared-storage\n'}, {'number': 12, 'created': '2014-12-12 21:47:53.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_lvm.py', 'nova/virt/libvirt/volume.py', 'nova/tests/unit/virt/libvirt/test_volume.py', 'etc/nova/rootwrap.d/compute.filters', 'nova/virt/libvirt/lvm.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/ad39a0b61fe715a6f10a5a0a9bbce5153fbc57a0', 'message': 'LVM: Support a volume-group on shared storage\n\nThis proposal enables LVM driver to support direct data path(I/O path)\nfrom VMs to Storage array using LVM on shared storage instead of using\nI/O path which goes through software SCSI target. As a result, the I/O\npath can be independent of Cinder Node. By enabling direct I/O path\nprovides stable I/O path for VMs and improves I/O latency.\n\n*Note: In this feature, both Nova and Cinder pieces are necessary.\n\nChange-Id: Ic280e569d963c25f424d5dbc329bcb08fdaba04c\nSigned-off-by: Mitsuhiro Tanino <mitsuhiro.tanino@hds.com>\nImplements: blueprint lvm-driver-for-shared-storage\n'}]",72,92443,ad39a0b61fe715a6f10a5a0a9bbce5153fbc57a0,136,17,12,10115,,,0,"LVM: Support a volume-group on shared storage

This proposal enables LVM driver to support direct data path(I/O path)
from VMs to Storage array using LVM on shared storage instead of using
I/O path which goes through software SCSI target. As a result, the I/O
path can be independent of Cinder Node. By enabling direct I/O path
provides stable I/O path for VMs and improves I/O latency.

*Note: In this feature, both Nova and Cinder pieces are necessary.

Change-Id: Ic280e569d963c25f424d5dbc329bcb08fdaba04c
Signed-off-by: Mitsuhiro Tanino <mitsuhiro.tanino@hds.com>
Implements: blueprint lvm-driver-for-shared-storage
",git fetch https://review.opendev.org/openstack/nova refs/changes/43/92443/12 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/tests/virt/libvirt/test_libvirt_volume.py', 'nova/virt/libvirt/volume.py', 'etc/nova/rootwrap.d/compute.filters']",4,91785b00c0f50ba4892bab68e0d86b539e4336f9,bp/lvm-driver-for-shared-storage,"# nova/virt/libvirt/volume.py: lvchange: CommandFilter, lvchange, root # nova/virt/libvirt/utils.py: # nova/virt/libvirt/volume.py:",# nova/virt/libvirt/utils.py:,105,0
openstack%2Fnova~master~Ib6888b54896235d52390a0e1204b119d8366ad7c,openstack/nova,master,Ib6888b54896235d52390a0e1204b119d8366ad7c,Add floating_ips_bulk policy enforcement test case for v2.1 REST API layer,ABANDONED,2015-02-28 16:11:06.000000000,2015-05-13 17:19:25.000000000,,"[{'_account_id': 3}, {'_account_id': 782}, {'_account_id': 1849}, {'_account_id': 5170}, {'_account_id': 6167}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11103}, {'_account_id': 11189}, {'_account_id': 12175}, {'_account_id': 14131}]","[{'number': 1, 'created': '2015-02-28 16:11:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0f54e14e6ad3022df889f90c4263435b4801063b', 'message': 'Add floating_ips_bulk policy enforcement test case for v2.1 REST API layer\n\nThis patch adds floating_ips_bulk policy enforcement unittest for v2.1\nREST API layer.\n\nPartially implements bp v3-api-policy\n\nChange-Id: Ib6888b54896235d52390a0e1204b119d8366ad7c\n'}, {'number': 2, 'created': '2015-03-16 10:36:38.000000000', 'files': ['nova/api/openstack/compute/plugins/v3/floating_ips_bulk.py', 'nova/tests/unit/api/openstack/compute/contrib/test_floating_ips_bulk.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/d387ec1e976e6a9eca4bf9858bc2f1d079cb7efa', 'message': 'Add floating_ips_bulk policy enforcement test case for v2.1 REST API layer\n\nThis patch adds floating_ips_bulk policy enforcement unittest for v2.1\nREST API layer.\n\nPartially implements bp v3-api-policy\n\nChange-Id: Ib6888b54896235d52390a0e1204b119d8366ad7c\n'}]",0,160120,d387ec1e976e6a9eca4bf9858bc2f1d079cb7efa,23,14,2,14131,,,0,"Add floating_ips_bulk policy enforcement test case for v2.1 REST API layer

This patch adds floating_ips_bulk policy enforcement unittest for v2.1
REST API layer.

Partially implements bp v3-api-policy

Change-Id: Ib6888b54896235d52390a0e1204b119d8366ad7c
",git fetch https://review.opendev.org/openstack/nova refs/changes/20/160120/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/api/openstack/compute/plugins/v3/floating_ips_bulk.py', 'nova/tests/unit/api/openstack/compute/contrib/test_floating_ips_bulk.py']",2,0f54e14e6ad3022df889f90c4263435b4801063b,bp/v3-api-policy," class FloatingIPBulkPolicyEnforcementV21(test.NoDBTestCase): def setUp(self): super(FloatingIPBulkPolicyEnforcementV21, self).setUp() self.controller = fipbulk_v21.FloatingIPBulkController() self.req = fakes.HTTPRequest.blank('') def _common_policy_check(self, func, *arg, **kwarg): rule_name = ""compute_extension:v3:os-floating-ips-bulk"" rule = {rule_name: ""project:non_fake""} self.policy.set_rules(rule) exc = self.assertRaises( exception.PolicyNotAuthorized, func, *arg, **kwarg) self.assertEqual( ""Policy doesn't allow %s to be performed."" % rule_name, exc.format_message()) def test_index_policy_failed(self): self._common_policy_check(self.controller.index, self.req) def test_show_ip_policy_failed(self): self._common_policy_check(self.controller.show, self.req, ""host"") def test_create_policy_failed(self): ip_range = '192.168.1.0/28' body = {'floating_ips_bulk_create': {'ip_range': ip_range}} self._common_policy_check(self.controller.create, self.req, body=body) def test_update_policy_failed(self): ip_range = '192.168.1.0/29' body = {'ip_range': ip_range} self._common_policy_check(self.controller.update, self.req, ""delete"", body=body)",,36,1
openstack%2Fnova~master~Ic768fe74583e77ac1dc1ef725e8787b009bb5234,openstack/nova,master,Ic768fe74583e77ac1dc1ef725e8787b009bb5234,Fix InstanceList.get_by_host rpc timeout,ABANDONED,2015-02-13 08:33:29.000000000,2015-05-13 17:19:21.000000000,,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 1653}, {'_account_id': 1849}, {'_account_id': 4393}, {'_account_id': 5170}, {'_account_id': 6732}, {'_account_id': 7730}, {'_account_id': 8276}, {'_account_id': 8412}, {'_account_id': 8688}, {'_account_id': 9008}, {'_account_id': 9569}, {'_account_id': 9578}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11103}]","[{'number': 1, 'created': '2015-02-13 08:33:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9f1e92d70cf8b9783c094fb1a90e85a279d4f6b3', 'message': 'VMware: fix InstanceList.get_by_host rpc timeout\n\nThe method of InstanceList.get_by_host rasie rpc timeout error when\nComputeManager.init_host() and _sync_power_states periodic task execute.\n\nCurrently, one nova-compute host map to the whole VMware deployment that\nmaybe contain several clusters in nova VMware driver. When\nInstanceList.get_by_host execute in ComputeManager, it indicate that\nnova-compute will execute a rpc call to nova-conducutor, nova-conductor\nwill fetch a lots of instances in the whole VMware deployment in once,\nThe long time SQL query maybe lead to the nova-conductor rpc timeout.\n\nPaginate query for InstanceList.get_by_host and\nInstanceList.get_by_host_and_node. The default page size is 1000.\n\nChange-Id: Ic768fe74583e77ac1dc1ef725e8787b009bb5234\nCloses-Bug: #1420662\n'}, {'number': 2, 'created': '2015-02-16 08:37:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6a707eb8a8e2b31dd839be88ff0f32720b6e9faa', 'message': 'VMware: fix InstanceList.get_by_host rpc timeout\n\nThe method of InstanceList.get_by_host rasie rpc timeout error when\nComputeManager.init_host() and _sync_power_states periodic task execute.\n\nCurrently, one nova-compute host map to the whole VMware deployment that\nmaybe contain several clusters in nova VMware driver. When\nInstanceList.get_by_host execute in ComputeManager, it indicate that\nnova-compute will execute a rpc call to nova-conducutor, nova-conductor\nwill fetch a lots of instances in the whole VMware deployment in once,\nThe long time SQL query maybe lead to the nova-conductor rpc timeout.\n\nPaginate query for InstanceList.get_by_host and\nInstanceList.get_by_host_and_node. The default page size is 1000.\n\nChange-Id: Ic768fe74583e77ac1dc1ef725e8787b009bb5234\nCloses-Bug: #1420662\n'}, {'number': 3, 'created': '2015-02-25 10:33:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/70659d2c71b20d108c876377b8a49581387e5a82', 'message': 'Fix InstanceList.get_by_host rpc timeout\n\nThe method of InstanceList.get_by_host raise rpc timeout error when\nComputeManager.init_host() and _sync_power_states periodic task execute.\n\nCurrently, one nova-compute host map to the whole VMware deployment that\nmaybe contain several clusters in nova VMware driver. When\nInstanceList.get_by_host execute in ComputeManager, it indicate that\nnova-compute will execute a rpc call to nova-conductor, nova-conductor\nwill fetch a lots of instances in the whole VMware deployment in once,\nThe long time SQL query maybe lead to the nova-conductor rpc timeout.\n\nPaginate query for InstanceList.get_by_host and\nInstanceList.get_by_host_and_node. The default page size is 1000.\n\nChange-Id: Ic768fe74583e77ac1dc1ef725e8787b009bb5234\nCloses-Bug: #1420662\n'}, {'number': 4, 'created': '2015-02-27 02:17:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/63e89fd6d9e6fcfeaf9d2d93eead49363563a63b', 'message': 'Fix InstanceList.get_by_host rpc timeout\n\nThe method of InstanceList.get_by_host raise rpc timeout error when\nComputeManager.init_host() and _sync_power_states periodic task execute.\n\nCurrently, one nova-compute host map to the whole VMware deployment that\nmaybe contain several clusters in nova VMware driver. When\nInstanceList.get_by_host execute in ComputeManager, it indicate that\nnova-compute will execute a rpc call to nova-conductor, nova-conductor\nwill fetch a lots of instances in the whole VMware deployment in once,\nThe long time SQL query maybe lead to the nova-conductor rpc timeout.\n\nPaginate query for InstanceList.get_by_host and\nInstanceList.get_by_host_and_node. The default page size is 1000.\n\nChange-Id: Ic768fe74583e77ac1dc1ef725e8787b009bb5234\nCloses-Bug: #1420662\n'}, {'number': 5, 'created': '2015-03-03 09:12:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b13877a508b8f1a7b4fcadfbd3f5e2344383378c', 'message': 'Fix InstanceList.get_by_host rpc timeout\n\nThe method of InstanceList.get_by_host raise rpc timeout error when\nComputeManager.init_host() and _sync_power_states periodic task execute.\n\nCurrently, one nova-compute host map to the whole VMware deployment that\nmaybe contain several clusters in nova VMware driver. When\nInstanceList.get_by_host execute in ComputeManager, it indicate that\nnova-compute will execute a rpc call to nova-conductor, nova-conductor\nwill fetch a lots of instances in the whole VMware deployment in once,\nThe long time SQL query maybe lead to the nova-conductor rpc timeout.\n\nPaginate query for InstanceList.get_by_host and\nInstanceList.get_by_host_and_node. The default page size is 1000.\n\nChange-Id: Ic768fe74583e77ac1dc1ef725e8787b009bb5234\nCloses-Bug: #1420662\n'}, {'number': 6, 'created': '2015-03-06 03:10:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c78cfead97df3a587c08454f7d0a931fda55046f', 'message': 'Fix InstanceList.get_by_host rpc timeout\n\nThe method of InstanceList.get_by_host raise rpc timeout error when\nComputeManager.init_host() and _sync_power_states periodic task execute.\n\nCurrently, one nova-compute host map to the whole VMware deployment that\nmaybe contain several clusters in nova VMware driver. When\nInstanceList.get_by_host execute in ComputeManager, it indicate that\nnova-compute will execute a rpc call to nova-conductor, nova-conductor\nwill fetch a lots of instances in the whole VMware deployment in once,\nThe long time SQL query maybe lead to the nova-conductor rpc timeout.\n\nPaginate query for InstanceList.get_by_host and\nInstanceList.get_by_host_and_node. The default page size is 1000.\n\nChange-Id: Ic768fe74583e77ac1dc1ef725e8787b009bb5234\nCloses-Bug: #1420662\n'}, {'number': 7, 'created': '2015-03-10 08:24:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4af898838256e3646c514c981c6677e5008b70d6', 'message': 'Fix InstanceList.get_by_host rpc timeout\n\nThe method of InstanceList.get_by_host raise rpc timeout error when\nComputeManager.init_host() and _sync_power_states periodic task execute.\n\nCurrently, one nova-compute host map to the whole VMware deployment that\nmaybe contain several clusters in nova VMware driver. When\nInstanceList.get_by_host execute in ComputeManager, it indicate that\nnova-compute will execute a rpc call to nova-conductor, nova-conductor\nwill fetch a lots of instances in the whole VMware deployment in once,\nThe long time SQL query maybe lead to the nova-conductor rpc timeout.\n\nPaginate query for InstanceList.get_by_host and\nInstanceList.get_by_host_and_node. The default page size is 1000.\n\nChange-Id: Ic768fe74583e77ac1dc1ef725e8787b009bb5234\nCloses-Bug: #1420662\n'}, {'number': 8, 'created': '2015-03-23 04:22:36.000000000', 'files': ['nova/tests/unit/compute/test_compute_mgr.py', 'nova/tests/unit/objects/test_objects.py', 'nova/tests/unit/compute/test_resource_tracker.py', 'nova/tests/unit/virt/xenapi/test_xenapi.py', 'nova/tests/unit/compute/test_compute.py', 'nova/objects/instance.py', 'nova/tests/unit/objects/test_instance.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/54fe7e586507bfcbdc9ef10f71468f46835e89d6', 'message': 'Fix InstanceList.get_by_host rpc timeout\n\nThe method of InstanceList.get_by_host raise rpc timeout error when\nComputeManager.init_host() and _sync_power_states periodic task execute.\n\nCurrently, one nova-compute host map to the whole VMware deployment that\nmaybe contain several clusters in nova VMware driver. When\nInstanceList.get_by_host execute in ComputeManager, it indicate that\nnova-compute will execute a rpc call to nova-conductor, nova-conductor\nwill fetch a lots of instances in the whole VMware deployment in once,\nThe long time SQL query maybe lead to the nova-conductor rpc timeout.\n\nPaginate query for InstanceList.get_by_host and\nInstanceList.get_by_host_and_node. The default page size is 1000.\n\nChange-Id: Ic768fe74583e77ac1dc1ef725e8787b009bb5234\nCloses-Bug: #1420662\n'}]",17,155676,54fe7e586507bfcbdc9ef10f71468f46835e89d6,78,18,8,8276,,,0,"Fix InstanceList.get_by_host rpc timeout

The method of InstanceList.get_by_host raise rpc timeout error when
ComputeManager.init_host() and _sync_power_states periodic task execute.

Currently, one nova-compute host map to the whole VMware deployment that
maybe contain several clusters in nova VMware driver. When
InstanceList.get_by_host execute in ComputeManager, it indicate that
nova-compute will execute a rpc call to nova-conductor, nova-conductor
will fetch a lots of instances in the whole VMware deployment in once,
The long time SQL query maybe lead to the nova-conductor rpc timeout.

Paginate query for InstanceList.get_by_host and
InstanceList.get_by_host_and_node. The default page size is 1000.

Change-Id: Ic768fe74583e77ac1dc1ef725e8787b009bb5234
Closes-Bug: #1420662
",git fetch https://review.opendev.org/openstack/nova refs/changes/76/155676/8 && git format-patch -1 --stdout FETCH_HEAD,"['nova/objects/instance.py', 'nova/tests/unit/objects/test_instance.py']",2,9f1e92d70cf8b9783c094fb1a90e85a279d4f6b3,bug/1420662," fake_instance = fakes.stub_instance(id=id, self.mox.StubOutWithMock(db, 'instance_get_all_by_filters') filters={'host': 'foo', 'deleted': False} db.instance_get_all_by_filters(self.context, filters, 'created_at', 'desc', columns_to_join=None, limit=1000, marker=None, use_slave=False).AndReturn(fakes) self.mox.StubOutWithMock(db, 'instance_get_all_by_filters') filters={'host': 'foo', 'node': 'bar', 'deleted': False} db.instance_get_all_by_filters(self.context, filters, 'created_at', 'desc', columns_to_join=None, limit=1000, marker=None, use_slave=False).AndReturn(fakes) def test_get_by_host_with_paging(self): paging_db_inst = [[self.fake_instance(id) for id in xrange(1000)], [self.fake_instance(id) for id in xrange(1000, 1003)] ] with mock.patch.object(db, 'instance_get_all_by_filters', side_effect=paging_db_inst) as mock_get_by_filters: inst_list = instance.InstanceList.get_by_host(self.context, 'host') self.assertEqual(1003, len(inst_list)) self.assertEqual(2, mock_get_by_filters.call_count) self.assertIsNone(mock_get_by_filters.call_args_list[0][1]['marker']) self.assertEqual(fakes.FAKE_UUID, mock_get_by_filters.call_args_list[1][1]['marker']) self.assertEqual(1002, inst_list[-1].id) self.assertIsInstance(inst_list, objects.InstanceList) def test_get_by_host_and_node_with_empty_paging(self): with mock.patch.object(db, 'instance_get_all_by_filters', return_value=[]) as mock_get_by_filters: inst_list = instance.InstanceList.get_by_host_and_node( self.context, 'foo', 'bar') filters={'host': 'foo', 'node': 'bar', 'deleted': False} mock_get_by_filters.assert_called_once_with(self.context, filters, 'created_at', 'desc', columns_to_join=None, limit=1000, marker=None, use_slave=False) self.assertEqual(0, len(inst_list)) self.assertIsInstance(inst_list, objects.InstanceList) self.mox.StubOutWithMock(db, 'instance_get_all_by_filters') filters={'host': 'host', 'deleted': False} db.instance_get_all_by_filters(self.context, filters, 'created_at', 'desc', columns_to_join=[], limit=1000, marker=None, use_slave=False).AndReturn(fake_insts)"," fake_instance = fakes.stub_instance(id=2, self.mox.StubOutWithMock(db, 'instance_get_all_by_host') db.instance_get_all_by_host(self.context, 'foo', columns_to_join=None, use_slave=False).AndReturn(fakes) self.mox.StubOutWithMock(db, 'instance_get_all_by_host_and_node') db.instance_get_all_by_host_and_node(self.context, 'foo', 'bar', columns_to_join=None).AndReturn( fakes) self.mox.StubOutWithMock(db, 'instance_get_all_by_host') db.instance_get_all_by_host(self.context, 'host', columns_to_join=[], use_slave=False ).AndReturn(fake_insts)",74,26
openstack%2Fnova~master~I3ccda5586511620149833f31fc28d4d07196e582,openstack/nova,master,I3ccda5586511620149833f31fc28d4d07196e582,Ensure that API updates notify compute node,ABANDONED,2015-03-11 13:39:28.000000000,2015-05-13 17:19:20.000000000,,"[{'_account_id': 3}, {'_account_id': 1653}, {'_account_id': 1849}, {'_account_id': 4393}, {'_account_id': 5170}, {'_account_id': 6062}, {'_account_id': 6450}, {'_account_id': 6802}, {'_account_id': 8119}, {'_account_id': 9008}, {'_account_id': 9550}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11103}, {'_account_id': 14103}]","[{'number': 1, 'created': '2015-03-11 13:39:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3a2f912a37e01bd82e8d9ff57b83c113cedc167c', 'message': 'Virt: add update method\n\nThe nova API enables the user to update an instance. This information\nis not passed to the hypervisor that that it can update instance\nproperties (if necessary).\n\nAn example of this is the meta data stored by libvirt.\n\nChange-Id: I3ccda5586511620149833f31fc28d4d07196e582\nPartial-bug: #1430807\n'}, {'number': 2, 'created': '2015-03-11 14:49:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/175a5eb47f9fc588e40eb19d4803c2f8719fb5ef', 'message': 'Ensure that API updates notify compute node\n\nThe nova API enables the user to update an instance. This information\nis not passed to the hypervisor that that it can update instance\nproperties (if necessary).\n\nAn example of this is the meta data stored by libvirt.\n\nChange-Id: I3ccda5586511620149833f31fc28d4d07196e582\nPartial-bug: #1430807\n'}, {'number': 3, 'created': '2015-03-12 07:36:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a113c3f9f8ff3c98f875a4873b1d74ece71a4cef', 'message': 'Ensure that API updates notify compute node\n\nThe nova API enables the user to update an instance. This information\nis not passed to the hypervisor so that it can update instance\nproperties (if necessary).\n\nAn example of this is the meta data stored by libvirt.\n\nChange-Id: I3ccda5586511620149833f31fc28d4d07196e582\nPartial-bug: #1430807\n'}, {'number': 4, 'created': '2015-03-15 16:42:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ef7bde42eb5724158ff621c40058dd1b6a416a48', 'message': 'Ensure that API updates notify compute node\n\nThe nova API enables the user to update an instance. This information\nis not passed to the hypervisor so that it can update instance\nproperties (if necessary).\n\nAn example of this is the meta data stored by libvirt.\n\nChange-Id: I3ccda5586511620149833f31fc28d4d07196e582\nPartial-bug: #1430807\n'}, {'number': 5, 'created': '2015-03-18 12:16:10.000000000', 'files': ['nova/tests/unit/compute/test_rpcapi.py', 'nova/tests/unit/api/openstack/compute/contrib/test_disk_config.py', 'nova/virt/fake.py', 'nova/tests/unit/compute/test_compute.py', 'nova/virt/driver.py', 'nova/api/openstack/compute/servers.py', 'nova/api/openstack/compute/plugins/v3/servers.py', 'nova/tests/unit/api/openstack/compute/contrib/test_access_ips.py', 'nova/tests/unit/api/openstack/compute/plugins/v3/test_servers.py', 'nova/tests/unit/api/openstack/compute/test_servers.py', 'nova/compute/manager.py', 'nova/compute/rpcapi.py', 'nova/tests/functional/test_servers.py', 'nova/compute/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/837a48bb88e6447b39dc8c235494aeed3c16f0bf', 'message': 'Ensure that API updates notify compute node\n\nThe nova API enables the user to update an instance. This information\nis not passed to the hypervisor so that it can update instance\nproperties (if necessary).\n\nAn example of this is the meta data stored by libvirt.\n\nChange-Id: I3ccda5586511620149833f31fc28d4d07196e582\nPartial-bug: #1430807\n'}]",8,163434,837a48bb88e6447b39dc8c235494aeed3c16f0bf,45,16,5,1653,,,0,"Ensure that API updates notify compute node

The nova API enables the user to update an instance. This information
is not passed to the hypervisor so that it can update instance
properties (if necessary).

An example of this is the meta data stored by libvirt.

Change-Id: I3ccda5586511620149833f31fc28d4d07196e582
Partial-bug: #1430807
",git fetch https://review.opendev.org/openstack/nova refs/changes/34/163434/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_rpcapi.py', 'nova/virt/fake.py', 'nova/tests/unit/compute/test_compute.py', 'nova/virt/driver.py', 'nova/compute/manager.py', 'nova/compute/rpcapi.py', 'nova/tests/unit/api/openstack/compute/test_server_actions.py', 'nova/compute/api.py', 'nova/api/openstack/compute/servers.py']",9,3a2f912a37e01bd82e8d9ff57b83c113cedc167c,instance-update-1," # update the compute manager about the change self.compute_api.update(ctxt, instance) ",,44,19
openstack%2Fnova~master~Ie642c3fab9755986ec2a956efe1d3cd7f85d345d,openstack/nova,master,Ie642c3fab9755986ec2a956efe1d3cd7f85d345d,support getting quota usage for all tenants,ABANDONED,2015-03-29 00:53:50.000000000,2015-05-13 17:19:18.000000000,,"[{'_account_id': 3}, {'_account_id': 1812}, {'_account_id': 1849}, {'_account_id': 5170}, {'_account_id': 6873}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 15751}]","[{'number': 1, 'created': '2015-03-29 00:53:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/242538130e69a270e12d583fc934be655d285189', 'message': 'support getting quote usage for all tenants\n\nFor performance reasons, it\'s preferable to get\nquota info for tenants in a single request,\nrather than iterating over all tenants.\n\nSimilarly to the /v2/{tenant_id}/servers/detail API\nwhich supports an ""all_tenants"" parameter to return the list,\nsupport /v2/{tenant_id}/limits/detail?all_tenants=True\n\nCloses-Bug: #1410003\nChange-Id: Ie642c3fab9755986ec2a956efe1d3cd7f85d345d\n'}, {'number': 2, 'created': '2015-03-29 01:05:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/70973d9dddf19861cc86470b9210dd45ab31f202', 'message': 'support getting quote usage for all tenants\n\nFor performance reasons, it\'s preferable to get\nquota info for tenants in a single request,\nrather than iterating over all tenants.\n\nSimilarly to the /v2/{tenant_id}/servers/detail API\nwhich supports an ""all_tenants"" parameter to return the list,\nsupport /v2/{tenant_id}/limits/detail?all_tenants=True\n\nCloses-Bug: #1410003\nChange-Id: Ie642c3fab9755986ec2a956efe1d3cd7f85d345d\nImplements: blueprint nova-quota-admin-api\n'}, {'number': 3, 'created': '2015-03-30 02:03:06.000000000', 'files': ['nova/api/openstack/compute/limits.py', 'nova/api/openstack/compute/__init__.py', 'nova/tests/unit/api/openstack/compute/test_limits.py', 'nova/quota.py', 'nova/db/api.py', 'nova/db/sqlalchemy/api.py', 'nova/api/openstack/compute/views/limits.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/3f30b918fbab0c59ba9ebfc943d04dc1467c989e', 'message': 'support getting quota usage for all tenants\n\nFor performance reasons, it\'s preferable to get\nquota info for tenants in a single request,\nrather than iterating over all tenants.\n\nSimilarly to the /v2/{tenant_id}/servers/detail API\nwhich supports an ""all_tenants"" parameter to return the list,\nsupport /v2/{tenant_id}/limits/detail?all_tenants=True\n\nCloses-Bug: #1410003\nChange-Id: Ie642c3fab9755986ec2a956efe1d3cd7f85d345d\nImplements: blueprint nova-quota-admin-api\n'}]",0,168644,3f30b918fbab0c59ba9ebfc943d04dc1467c989e,21,9,3,1812,,,0,"support getting quota usage for all tenants

For performance reasons, it's preferable to get
quota info for tenants in a single request,
rather than iterating over all tenants.

Similarly to the /v2/{tenant_id}/servers/detail API
which supports an ""all_tenants"" parameter to return the list,
support /v2/{tenant_id}/limits/detail?all_tenants=True

Closes-Bug: #1410003
Change-Id: Ie642c3fab9755986ec2a956efe1d3cd7f85d345d
Implements: blueprint nova-quota-admin-api
",git fetch https://review.opendev.org/openstack/nova refs/changes/44/168644/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/api/openstack/compute/limits.py', 'nova/api/openstack/compute/__init__.py', 'nova/quota.py', 'nova/tests/unit/api/openstack/compute/test_limits.py', 'nova/db/api.py', 'nova/api/openstack/compute/views/limits.py', 'nova/db/sqlalchemy/api.py']",7,242538130e69a270e12d583fc934be655d285189,bug/1410003,"@require_context def quota_get_all_records(context, project_id, all_tenants=False): rows = [] if all_tenants: rows = model_query(context, models.Quota, read_deleted=""no"").\ all() else: rows = model_query(context, models.Quota, read_deleted=""no"").\ filter_by(project_id=project_id).\ all() pro_dict = {} for row in rows: pro_quota = pro_dict.get(row.project_id) if not pro_quota: pro_quota = {'project_id': row.project_id} pro_quota[row.resource] = row.hard_limit pro_dict[row.project_id] = pro_quota return pro_dict.values()@require_context def quota_usage_get_all_records(context, project_id, all_tenants=False): rows = [] if all_tenants: rows = model_query(context, models.QuotaUsage, read_deleted=""no"").\ all() else: rows = model_query(context, models.QuotaUsage, read_deleted=""no"").\ filter_by(project_id=project_id).\ all() pro_dict = {} for row in rows: pro_usage = pro_dict.get(row.project_id) if not pro_usage: pro_usage= {'project_id': row.project_id} if row.resource in pro_usage: pro_usage[row.resource]['in_use'] += row.in_use pro_usage[row.resource]['reserved'] += row.reserved else: pro_usage[row.resource] = dict(in_use=row.in_use, reserved=row.reserved) pro_dict[row.project_id] = pro_usage return pro_dict.values()",,174,1
openstack%2Fnova~master~If642c0b5d44acbf353af6b6e901b40e345843555,openstack/nova,master,If642c0b5d44acbf353af6b6e901b40e345843555,Copy instance files from source to dest node,ABANDONED,2015-01-27 09:53:48.000000000,2015-05-13 17:19:17.000000000,,"[{'_account_id': 3}, {'_account_id': 782}, {'_account_id': 1849}, {'_account_id': 5170}, {'_account_id': 6466}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9303}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11103}, {'_account_id': 15751}]","[{'number': 1, 'created': '2015-01-27 09:53:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/165a252030b7d94b4f258642288d0d1d65f17de0', 'message': ""Copy instance files from source to dest node\n\nIn case instance_path is not configured on shared storage between compute\nnodes, then there is a need to copy instance files from the shelved_host\nto the newly elected compute node during unshelving instance.\n\nAdded new interface 'copy_instance_files_to_destination' in virt driver\nand implemented in libvirt driver for copying the instance files from\nsource to destination host. For other drivers, this method will\nraise NotImplementedError. Service providers should configure\nshelve_offload_time parameter to -2 only when they are using libvirt\ndriver.\n\nChange-Id: If642c0b5d44acbf353af6b6e901b40e345843555\nblueprint: improve-unshelve-performance\n""}, {'number': 2, 'created': '2015-04-08 10:00:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/42c4594db3bbc6bf6ee13b006e9b14ceb2e2177d', 'message': ""Copy instance files from source to dest node\n\nIn case instance_path is not configured on shared storage between compute\nnodes, then there is a need to copy instance files from the shelved_host\nto the newly elected compute node during unshelving instance.\n\nAdded new interface 'copy_instance_files_to_destination' in virt driver\nand implemented in libvirt driver for copying the instance files from\nsource to destination host. For other drivers, this method will\nraise NotImplementedError. Service providers should configure\nshelve_offload_time parameter to -2 only when they are using libvirt\ndriver.\n\nChange-Id: If642c0b5d44acbf353af6b6e901b40e345843555\nblueprint: improve-unshelve-performance\n""}, {'number': 3, 'created': '2015-04-08 14:56:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5aa75be03987be0bdd8632058a78813f122a021c', 'message': ""Copy instance files from source to dest node\n\nIn case instance_path is not configured on shared storage between compute\nnodes, then there is a need to copy instance files from the shelved_host\nto the newly elected compute node during unshelving instance.\n\nAdded new interface 'copy_instance_files_to_destination' in virt driver\nand implemented in libvirt driver for copying the instance files from\nsource to destination host. For other drivers, this method will\nraise NotImplementedError. Service providers should configure\nshelve_offload_time parameter to -2 only when they are using libvirt\ndriver.\n\nChange-Id: If642c0b5d44acbf353af6b6e901b40e345843555\nblueprint: improve-unshelve-performance\n""}, {'number': 4, 'created': '2015-04-09 12:07:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/460d88e571e2fa21e09359b5345e5d1f189ce871', 'message': ""Copy instance files from source to dest node\n\nIn case instance_path is not configured on shared storage between compute\nnodes, then there is a need to copy instance files from the shelved_host\nto the newly elected compute node during unshelving instance.\n\nAdded new interface 'copy_instance_files_to_destination' in virt driver\nand implemented in libvirt driver for copying the instance files from\nsource to destination host. For other drivers, this method will\nraise NotImplementedError. Service providers should configure\nshelve_offload_time parameter to -2 only when they are using libvirt\ndriver.\n\nChange-Id: If642c0b5d44acbf353af6b6e901b40e345843555\nblueprint: improve-unshelve-performance\n""}, {'number': 5, 'created': '2015-04-09 12:18:42.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/virt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/ec28f860aac54b8dfe4014a844e2c022d6895478', 'message': ""Copy instance files from source to dest node\n\nIn case instance_path is not configured on shared storage between compute\nnodes, then there is a need to copy instance files from the shelved_host\nto the newly elected compute node during unshelving instance.\n\nAdded new interface 'copy_instance_files_to_destination' in virt driver\nand implemented in libvirt driver for copying the instance files from\nsource to destination host. For other drivers, this method will\nraise NotImplementedError. Service providers should configure\nshelve_offload_time parameter to -2 only when they are using libvirt\ndriver.\n\nChange-Id: If642c0b5d44acbf353af6b6e901b40e345843555\nblueprint: improve-unshelve-performance\n""}]",0,150337,ec28f860aac54b8dfe4014a844e2c022d6895478,37,13,5,9303,,,0,"Copy instance files from source to dest node

In case instance_path is not configured on shared storage between compute
nodes, then there is a need to copy instance files from the shelved_host
to the newly elected compute node during unshelving instance.

Added new interface 'copy_instance_files_to_destination' in virt driver
and implemented in libvirt driver for copying the instance files from
source to destination host. For other drivers, this method will
raise NotImplementedError. Service providers should configure
shelve_offload_time parameter to -2 only when they are using libvirt
driver.

Change-Id: If642c0b5d44acbf353af6b6e901b40e345843555
blueprint: improve-unshelve-performance
",git fetch https://review.opendev.org/openstack/nova refs/changes/37/150337/4 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/virt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",3,165a252030b7d94b4f258642288d0d1d65f17de0,bp/improve-unshelve-performance," def test_copy_instance_files_to_destination(self): """"""Test libvirt drivers copy_instance_files_to_destination."""""" def fake_walk(*args, **kwargs): temp_dirs = ['temp_dir', 'temp_dir1', 'temp_dir2'] temp_files = ['temp_file', 'temp_file1', 'temp_file2'] yield args[0], temp_dirs, temp_files patcher = mock.patch.object(os, 'walk', fake_walk) patcher.start() patcher = mock.patch.object(libvirt_utils, 'copy_image') patcher.start() patcher = mock.patch.object(utils, 'execute') mock_execute = patcher.start() patcher = mock.patch.object(os.path, 'exists') mock_exists = patcher.start() ins_ref = self._create_instance() inst_base = libvirt_utils.get_instance_path(ins_ref) mock_exists.return_value = True # destination is different host then source host self.drvr.copy_instance_files_to_destination( ins_ref, '10.0.0.2') mock_execute.assert_any_call('rm', '-rf', inst_base + '_backup') mock.patch.stopall() def test_copy_instance_files_to_destination_raises_exception(self): """"""Test copy_instance_files_to_destination raise exception."""""" def fake_walk(*args, **kwargs): temp_dirs = ['temp_dir', 'temp_dir1', 'temp_dir2'] temp_files = ['temp_file', 'temp_file1', 'temp_file2'] yield args[0], temp_dirs, temp_files patcher = mock.patch.object(os, 'walk', fake_walk) patcher.start() patcher = mock.patch.object(libvirt_utils, 'copy_image') mock_copy_image = patcher.start() patcher = mock.patch.object(utils, 'execute') patcher.start() patcher = mock.patch.object(self.drvr, '_cleanup_remote_migration') mock_cleanup_remote_migration = patcher.start() ins_ref = self._create_instance() mock_copy_image.side_effect = test.TestingException('Test') # destination is different host then source host self.assertRaises( test.TestingException, self.drvr.copy_instance_files_to_destination, ins_ref, '10.0.0.2') self.assertEqual(mock_cleanup_remote_migration.call_count, 1) mock.patch.stopall() ",,109,0
openstack%2Fpuppet-ceilometer~master~Ie6c823c7906afb37dd9e49fa434fefc3e26b5569,openstack/puppet-ceilometer,master,Ie6c823c7906afb37dd9e49fa434fefc3e26b5569,Bring Redhat support to acceptance tests,MERGED,2015-05-11 19:38:59.000000000,2015-05-13 17:12:42.000000000,2015-05-13 17:12:41.000000000,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 5241}, {'_account_id': 7155}, {'_account_id': 8482}]","[{'number': 1, 'created': '2015-05-11 19:38:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceilometer/commit/b697bc7784be5d58fcf3941f1370340c1e0493ff', 'message': 'Bring Redhat support to acceptance tests\n\nOpenStack Infra has jobs to run this on both Ubuntu Trusty and CentOS7.\n\n* Add minitest to Gemfile (dependency to run beaker on centos - see\n  http://projects.theforeman.org/issues/2650 for details)\n* separate nodepool files to have trusty & centos7 support in OS infra\n* basic_keystone_spec: add case for repo configuration and support\n  RH systems.\n\nChange-Id: Ie6c823c7906afb37dd9e49fa434fefc3e26b5569\nCloses-bug: #1444736\n'}, {'number': 2, 'created': '2015-05-11 19:49:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceilometer/commit/4b93c4775f46764f65680f0723d64d08048df185', 'message': 'Bring Redhat support to acceptance tests\n\nOpenStack Infra has jobs to run this on both Ubuntu Trusty and CentOS7.\n\n* Add minitest to Gemfile (dependency to run beaker on centos - see\n  http://projects.theforeman.org/issues/2650 for details)\n* separate nodepool files to have trusty & centos7 support in OS infra\n* basic_keystone_spec: add case for repo configuration and support\n  RH systems.\n\nChange-Id: Ie6c823c7906afb37dd9e49fa434fefc3e26b5569\nCloses-bug: #1444736\n'}, {'number': 3, 'created': '2015-05-12 01:59:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceilometer/commit/0398771509ead8057ff473612d3923979a065cd1', 'message': 'Bring Redhat support to acceptance tests\n\nOpenStack Infra has jobs to run this on both Ubuntu Trusty and CentOS7.\n\n* Add minitest to Gemfile (dependency to run beaker on centos - see\n  http://projects.theforeman.org/issues/2650 for details)\n* separate nodepool files to have trusty & centos7 support in OS infra\n* basic_keystone_spec: add case for repo configuration and support\n  RH systems.\n\nChange-Id: Ie6c823c7906afb37dd9e49fa434fefc3e26b5569\nCloses-bug: #1444736\n'}, {'number': 4, 'created': '2015-05-12 04:02:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceilometer/commit/c87ce4907b60c2a34665f08b6c2934dd37eb3ecd', 'message': 'Bring Redhat support to acceptance tests\n\nOpenStack Infra has jobs to run this on both Ubuntu Trusty and CentOS7.\n\n* Add minitest to Gemfile (dependency to run beaker on centos - see\n  http://projects.theforeman.org/issues/2650 for details)\n* separate nodepool files to have trusty & centos7 support in OS infra\n* basic_keystone_spec: add case for repo configuration and support\n  RH systems.\n\nChange-Id: Ie6c823c7906afb37dd9e49fa434fefc3e26b5569\nCloses-bug: #1444736\n'}, {'number': 5, 'created': '2015-05-12 04:05:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceilometer/commit/31277ca22ced3b9fce4571e4227d470fc8439c3b', 'message': 'Bring Redhat support to acceptance tests\n\nOpenStack Infra has jobs to run this on both Ubuntu Trusty and CentOS7.\n\n* Add minitest to Gemfile (dependency to run beaker on centos - see\n  http://projects.theforeman.org/issues/2650 for details)\n* separate nodepool files to have trusty & centos7 support in OS infra\n* basic_keystone_spec: add case for repo configuration and support\n  RH systems.\n\nChange-Id: Ie6c823c7906afb37dd9e49fa434fefc3e26b5569\nCloses-bug: #1444736\n'}, {'number': 6, 'created': '2015-05-12 17:59:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceilometer/commit/904c589fa8e47aa52323a0dad628c4599327bbb6', 'message': 'Bring Redhat support to acceptance tests\n\nOpenStack Infra has jobs to run this on both Ubuntu Trusty and CentOS7.\n\n* Add minitest to Gemfile (dependency to run beaker on centos - see\n  http://projects.theforeman.org/issues/2650 for details)\n* separate nodepool files to have trusty & centos7 support in OS infra\n* basic_keystone_spec: add case for repo configuration and support\n  RH systems.\n* rabbitmq: make sure we use YUM and not RPM provider on RH platform\n\nChange-Id: Ie6c823c7906afb37dd9e49fa434fefc3e26b5569\nCloses-bug: #1444736\n'}, {'number': 7, 'created': '2015-05-12 20:09:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceilometer/commit/ffb5ac589e5df6b9ea4e2d191a95db97f5526c25', 'message': 'Bring Redhat support to acceptance tests\n\nOpenStack Infra has jobs to run this on both Ubuntu Trusty and CentOS7.\n\n* Add minitest to Gemfile (dependency to run beaker on centos - see\n  http://projects.theforeman.org/issues/2650 for details)\n* separate nodepool files to have trusty & centos7 support in OS infra\n* basic_keystone_spec: add case for repo configuration and support\n  RH systems.\n* rabbitmq: on RH, install erlang before rabbitmq-server [1].\n\nChange-Id: Ie6c823c7906afb37dd9e49fa434fefc3e26b5569\nCloses-bug: #1444736\n'}, {'number': 8, 'created': '2015-05-12 20:36:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceilometer/commit/be751c0f5d434843abde47062eff729bb1b080d3', 'message': 'Bring Redhat support to acceptance tests\n\nOpenStack Infra has jobs to run this on both Ubuntu Trusty and CentOS7.\n\n* Add minitest to Gemfile (dependency to run beaker on centos - see\n  http://projects.theforeman.org/issues/2650 for details)\n* separate nodepool files to have trusty & centos7 support in OS infra\n* basic_keystone_spec: add case for repo configuration and support\n  RH systems.\n* rabbitmq: on RH, install erlang before rabbitmq-server [1].\n\nChange-Id: Ie6c823c7906afb37dd9e49fa434fefc3e26b5569\nCloses-bug: #1444736\n'}, {'number': 9, 'created': '2015-05-12 20:56:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceilometer/commit/0978fe611f21eab7f624a2fe4994580378a83722', 'message': 'Bring Redhat support to acceptance tests\n\nOpenStack Infra has jobs to run this on both Ubuntu Trusty and CentOS7.\n\n* Add minitest to Gemfile (dependency to run beaker on centos - see\n  http://projects.theforeman.org/issues/2650 for details)\n* separate nodepool files to have trusty & centos7 support in OS infra\n* basic_keystone_spec: add case for repo configuration and support\n  RH systems.\n* rabbitmq: on RH, install erlang before rabbitmq-server [1].\n\nChange-Id: Ie6c823c7906afb37dd9e49fa434fefc3e26b5569\nCloses-bug: #1444736\n'}, {'number': 10, 'created': '2015-05-12 21:22:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceilometer/commit/1a0c125a1182b05a79938d8955dd74a6e44e6a2b', 'message': 'Bring Redhat support to acceptance tests\n\nOpenStack Infra has jobs to run this on both Ubuntu Trusty and CentOS7.\n\n* Add minitest to Gemfile (dependency to run beaker on centos - see\n  http://projects.theforeman.org/issues/2650 for details)\n* separate nodepool files to have trusty & centos7 support in OS infra\n* basic_keystone_spec: add case for repo configuration and support\n  RH systems.\n* rabbitmq: on RH, install erlang before rabbitmq-server [1] and make\n  sure SElinux is disabled (idempotency error).\n\nChange-Id: Ie6c823c7906afb37dd9e49fa434fefc3e26b5569\nCloses-bug: #1444736\n'}, {'number': 11, 'created': '2015-05-12 22:01:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceilometer/commit/dd87251728e2616562868505df04e4fa546d70e2', 'message': 'Bring Redhat support to acceptance tests\n\nOpenStack Infra has jobs to run this on both Ubuntu Trusty and CentOS7.\n\n* Add minitest to Gemfile (dependency to run beaker on centos - see\n  http://projects.theforeman.org/issues/2650 for details)\n* separate nodepool files to have trusty & centos7 support in OS infra\n* basic_keystone_spec: add case for repo configuration and support\n  RH systems.\n* rabbitmq: on RH, install erlang before rabbitmq-server [1]\n\nChange-Id: Ie6c823c7906afb37dd9e49fa434fefc3e26b5569\nCloses-bug: #1444736\n'}, {'number': 12, 'created': '2015-05-12 22:31:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceilometer/commit/726c67c47f760fc5dfcc0b558ed52b5134788846', 'message': 'Bring Redhat support to acceptance tests\n\nOpenStack Infra has jobs to run this on both Ubuntu Trusty and CentOS7.\n\n* Add minitest to Gemfile (dependency to run beaker on centos - see\n  http://projects.theforeman.org/issues/2650 for details)\n* separate nodepool files to have trusty & centos7 support in OS infra\n* basic_keystone_spec: add case for repo configuration and support\n  RH systems.\n* rabbitmq: on RH, install erlang before rabbitmq-server [1]\n\nChange-Id: Ie6c823c7906afb37dd9e49fa434fefc3e26b5569\nCloses-bug: #1444736\n'}, {'number': 13, 'created': '2015-05-12 22:59:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceilometer/commit/ac48d0e09457dccbad68bb8907104dd6bffe265b', 'message': 'Bring Redhat support to acceptance tests\n\nOpenStack Infra has jobs to run this on both Ubuntu Trusty and CentOS7.\n\n* Add minitest to Gemfile (dependency to run beaker on centos - see\n  http://projects.theforeman.org/issues/2650 for details)\n* separate nodepool files to have trusty & centos7 support in OS infra\n* basic_keystone_spec: add case for repo configuration and support\n  RH systems.\n* rabbitmq: on RH, install erlang before rabbitmq-server [1]\n\nChange-Id: Ie6c823c7906afb37dd9e49fa434fefc3e26b5569\nCloses-bug: #1444736\n'}, {'number': 14, 'created': '2015-05-12 23:30:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceilometer/commit/d7c1adb58d58a82561053ba03e741961896892a5', 'message': 'Bring Redhat support to acceptance tests\n\nOpenStack Infra has jobs to run this on both Ubuntu Trusty and CentOS7.\n\n* Add minitest to Gemfile (dependency to run beaker on centos - see\n  http://projects.theforeman.org/issues/2650 for details)\n* separate nodepool files to have trusty & centos7 support in OS infra\n* basic_keystone_spec: add case for repo configuration and support\n  RH systems.\n* rabbitmq: on RH, install erlang before rabbitmq-server [1]\n\nChange-Id: Ie6c823c7906afb37dd9e49fa434fefc3e26b5569\nCloses-bug: #1444736\n'}, {'number': 15, 'created': '2015-05-12 23:55:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceilometer/commit/1e72026d4f97778edbe9cb6a59a7f4dbb4879573', 'message': 'Bring Redhat support to acceptance tests\n\nOpenStack Infra has jobs to run this on both Ubuntu Trusty and CentOS7.\n\n* Add minitest to Gemfile (dependency to run beaker on centos - see\n  http://projects.theforeman.org/issues/2650 for details)\n* separate nodepool files to have trusty & centos7 support in OS infra\n* basic_keystone_spec: add case for repo configuration and support\n  RH systems.\n* rabbitmq: on RH, install erlang before rabbitmq-server [1]\n\nChange-Id: Ie6c823c7906afb37dd9e49fa434fefc3e26b5569\nCloses-bug: #1444736\n'}, {'number': 16, 'created': '2015-05-13 01:10:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceilometer/commit/2f49f1308143dda67017cd5bf27d66c95a69a485', 'message': 'Bring Redhat support to acceptance tests\n\nOpenStack Infra has jobs to run this on both Ubuntu Trusty and CentOS7.\n\n* Add minitest to Gemfile (dependency to run beaker on centos - see\n  http://projects.theforeman.org/issues/2650 for details)\n* separate nodepool files to have trusty & centos7 support in OS infra\n* basic_keystone_spec: add case for repo configuration and support\n  RH systems.\n* rabbitmq: on RH, install erlang before rabbitmq-server [1]\n\nChange-Id: Ie6c823c7906afb37dd9e49fa434fefc3e26b5569\nCloses-bug: #1444736\n'}, {'number': 17, 'created': '2015-05-13 12:11:15.000000000', 'files': ['spec/acceptance/ceilometer_with_mysql_spec.rb', 'spec/acceptance/nodesets/nodepool-trusty.yml', 'Gemfile', 'spec/spec_helper_acceptance.rb', 'spec/acceptance/nodesets/nodepool-centos7.yml'], 'web_link': 'https://opendev.org/openstack/puppet-ceilometer/commit/c2e9179394077e838b50fbe501f181fe04729010', 'message': 'Bring Redhat support to acceptance tests\n\nOpenStack Infra has jobs to run this on both Ubuntu Trusty and CentOS7.\n\n* Add minitest to Gemfile (dependency to run beaker on centos - see\n  http://projects.theforeman.org/issues/2650 for details)\n* separate nodepool files to have trusty & centos7 support in OS infra\n* basic_keystone_spec: add case for repo configuration and support\n  RH systems.\n* rabbitmq: install module from source and on RH, install erlang before rabbitmq-server.\n\nChange-Id: Ie6c823c7906afb37dd9e49fa434fefc3e26b5569\nCloses-bug: #1444736\n'}]",2,182035,c2e9179394077e838b50fbe501f181fe04729010,52,5,17,3153,,,0,"Bring Redhat support to acceptance tests

OpenStack Infra has jobs to run this on both Ubuntu Trusty and CentOS7.

* Add minitest to Gemfile (dependency to run beaker on centos - see
  http://projects.theforeman.org/issues/2650 for details)
* separate nodepool files to have trusty & centos7 support in OS infra
* basic_keystone_spec: add case for repo configuration and support
  RH systems.
* rabbitmq: install module from source and on RH, install erlang before rabbitmq-server.

Change-Id: Ie6c823c7906afb37dd9e49fa434fefc3e26b5569
Closes-bug: #1444736
",git fetch https://review.opendev.org/openstack/puppet-ceilometer refs/changes/35/182035/16 && git format-patch -1 --stdout FETCH_HEAD,"['spec/acceptance/nodesets/nodepool.yml', 'spec/acceptance/ceilometer_with_mysql_spec.rb']",2,b697bc7784be5d58fcf3941f1370340c1e0493ff,bug/1444736," case $::osfamily { 'Debian': { include ::apt class { '::openstack_extras::repo::debian::ubuntu': release => 'kilo', } } 'RedHat': { class { '::openstack_extras::repo::redhat::redhat': # Kilo is not GA yet, so let's use the testing repo manage_rdo => false, repo_hash => { 'rdo-kilo-testing' => { 'baseurl' => 'https://repos.fedorapeople.org/repos/openstack/openstack-kilo/testing/el7/', # packages are not GA so not signed 'gpgcheck' => '0', 'priority' => 97, }, }, } } default: { fail(""Unsupported osfamily (${::osfamily})"") } }"," include ::apt # some packages are not autoupgraded in trusty. # it will be fixed in liberty, but broken in kilo. $need_to_be_upgraded = ['python-tz', 'python-pbr'] class { '::openstack_extras::repo::debian::ubuntu': release => 'kilo', } -> exec { '/usr/bin/apt-get -y dist-upgrade': refreshonly => true, } Apt::Source['trusty-updates-kilo'] -> Package<| |>",24,19
openstack%2Fpuppet-ceilometer~master~I5bf3bd0e2e1b8db49752abca823203ff225713c4,openstack/puppet-ceilometer,master,I5bf3bd0e2e1b8db49752abca823203ff225713c4,Beaker: install APT repo with openstack_extras,MERGED,2015-05-11 19:22:54.000000000,2015-05-13 17:10:52.000000000,2015-05-13 17:10:51.000000000,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 7155}, {'_account_id': 8482}]","[{'number': 1, 'created': '2015-05-11 19:22:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceilometer/commit/5646024f7a59110515ec605915d1e652b4011cac', 'message': 'Beaker: install APT repo with openstack_extras\n\nUse openstack_extras module to manage Ubuntu Cloud Archive repository.\n\nChange-Id: I5bf3bd0e2e1b8db49752abca823203ff225713c4\n'}, {'number': 2, 'created': '2015-05-12 03:30:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceilometer/commit/dfa97f3b6ddb10600da34a5b985822908876449b', 'message': 'Beaker: install APT repo with openstack_extras\n\nUse openstack_extras module to manage Ubuntu Cloud Archive repository.\n\nChange-Id: I5bf3bd0e2e1b8db49752abca823203ff225713c4\n'}, {'number': 3, 'created': '2015-05-12 04:04:07.000000000', 'files': ['spec/acceptance/ceilometer_with_mysql_spec.rb', 'spec/spec_helper_acceptance.rb'], 'web_link': 'https://opendev.org/openstack/puppet-ceilometer/commit/f226cc364302694c41aa5705dcec73d2b39d412e', 'message': 'Beaker: install APT repo with openstack_extras\n\nUse openstack_extras module to manage Ubuntu Cloud Archive repository.\n\nChange-Id: I5bf3bd0e2e1b8db49752abca823203ff225713c4\n'}]",0,182029,f226cc364302694c41aa5705dcec73d2b39d412e,16,4,3,3153,,,0,"Beaker: install APT repo with openstack_extras

Use openstack_extras module to manage Ubuntu Cloud Archive repository.

Change-Id: I5bf3bd0e2e1b8db49752abca823203ff225713c4
",git fetch https://review.opendev.org/openstack/puppet-ceilometer refs/changes/29/182029/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/acceptance/ceilometer_with_mysql_spec.rb', 'spec/spec_helper_acceptance.rb']",2,5646024f7a59110515ec605915d1e652b4011cac,bug/1444736, shell('git clone https://git.openstack.org/stackforge/puppet-openstack_extras /etc/puppet/modules/openstack_extras'),,4,7
openstack%2Fpuppet-keystone~master~Ia2e91512c097c3aa1cff9bf7f868ae08f86a44df,openstack/puppet-keystone,master,Ia2e91512c097c3aa1cff9bf7f868ae08f86a44df,Bring Redhat support to acceptance tests,MERGED,2015-05-08 15:58:45.000000000,2015-05-13 17:08:34.000000000,2015-05-13 17:08:32.000000000,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 5241}, {'_account_id': 7155}, {'_account_id': 8482}]","[{'number': 1, 'created': '2015-05-08 15:58:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/810d5dd0b1c037f4f4014a3018d46f649df0c1c7', 'message': 'Bring Redhat support to acceptance tests\n\nUbuntu is already supported in our acceptance tests.\nThis patch adds Redhat system supports.\n\nOpenStack Infra is supposed to run these tests on CentOS7 for the\nrecord.\n\nChange-Id: Ia2e91512c097c3aa1cff9bf7f868ae08f86a44df\nCloses-bug: #1444736\n'}, {'number': 2, 'created': '2015-05-08 20:43:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/4b150cedc97c6bebb304c1d4b3fa823953ba08d5', 'message': 'Bring Redhat support to acceptance tests\n\nUbuntu is already supported in our acceptance tests.\nThis patch adds Redhat system supports.\n\nOpenStack Infra is supposed to run these tests on CentOS7 for the\nrecord.\n\nChange-Id: Ia2e91512c097c3aa1cff9bf7f868ae08f86a44df\nCloses-bug: #1444736\n'}, {'number': 3, 'created': '2015-05-08 21:00:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/5cc1d4af500be0bd4d9852bfc299b23dd936d2ac', 'message': 'Bring Redhat support to acceptance tests\n\nUbuntu is already supported in our acceptance tests.\nThis patch adds Redhat system supports.\n\nOpenStack Infra is supposed to run these tests on CentOS7 for the\nrecord.\n\nChange-Id: Ia2e91512c097c3aa1cff9bf7f868ae08f86a44df\nCloses-bug: #1444736\n'}, {'number': 4, 'created': '2015-05-11 12:41:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/b19221dbf7e0686269f82177fca069ef2925b927', 'message': 'Bring Redhat support to acceptance tests\n\nUbuntu is already supported in our acceptance tests.\nThis patch adds Redhat system supports.\n\nOpenStack Infra is supposed to run these tests on CentOS7 for the\nrecord.\n\nChange-Id: Ia2e91512c097c3aa1cff9bf7f868ae08f86a44df\nCloses-bug: #1444736\n'}, {'number': 5, 'created': '2015-05-11 13:14:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/0b841a433d9ae8ba681a083bfcf4c5ea8c3e60d0', 'message': 'Bring Redhat support to acceptance tests\n\nUbuntu is already supported in our acceptance tests.\nThis patch adds Redhat system supports.\n\nOpenStack Infra is supposed to run these tests on CentOS7 for the\nrecord.\n\nChange-Id: Ia2e91512c097c3aa1cff9bf7f868ae08f86a44df\nCloses-bug: #1444736\n'}, {'number': 6, 'created': '2015-05-11 13:44:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/d9ba191a96fd7a62b2b2eebbb127a89763139793', 'message': 'Bring Redhat support to acceptance tests\n\nUbuntu is already supported in our acceptance tests.\nThis patch adds Redhat system supports.\n\nOpenStack Infra is supposed to run these tests on CentOS7 for the\nrecord.\n\nChange-Id: Ia2e91512c097c3aa1cff9bf7f868ae08f86a44df\nCloses-bug: #1444736\n'}, {'number': 7, 'created': '2015-05-11 16:48:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/21d78925e5e095559bc5a2227ced2128b091da33', 'message': 'Bring Redhat support to acceptance tests\n\nOpenStack Infra has jobs to run this on both Ubuntu Trusty and CentOS7.\n\n* Add minitest to Gemfile (dependency to run beaker)\n* separate nodepool files to have trusty & centos7 support\n* spec_helper_acceptance: clone openstack_extras to get YUM repo\n* basic_keystone_spec: add case for repo configuration and use\n  openstack_extras on both ubuntu & centos.\n\nChange-Id: Ia2e91512c097c3aa1cff9bf7f868ae08f86a44df\nCloses-bug: #1444736\n'}, {'number': 8, 'created': '2015-05-11 16:51:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/18a6b5252b4e1ccd0ef49e6f6802eb93ee981afb', 'message': 'Bring Redhat support to acceptance tests\n\nOpenStack Infra has jobs to run this on both Ubuntu Trusty and CentOS7.\n\n* Add minitest to Gemfile (dependency to run beaker on centos - see\n  http://projects.theforeman.org/issues/2650 for details)\n* separate nodepool files to have trusty & centos7 support in OS infra\n* spec_helper_acceptance: clone openstack_extras to get YUM repo\n* basic_keystone_spec: add case for repo configuration and use\n  openstack_extras on both ubuntu & centos.\n\nChange-Id: Ia2e91512c097c3aa1cff9bf7f868ae08f86a44df\nCloses-bug: #1444736\n'}, {'number': 9, 'created': '2015-05-11 19:18:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/a0a39d6b81e6fdfbeb2e6b97b105657a2413233b', 'message': 'Bring Redhat support to acceptance tests\n\nOpenStack Infra has jobs to run this on both Ubuntu Trusty and CentOS7.\n\n* Add minitest to Gemfile (dependency to run beaker on centos - see\n  http://projects.theforeman.org/issues/2650 for details)\n* separate nodepool files to have trusty & centos7 support in OS infra\n* basic_keystone_spec: add case for repo configuration and support\n  RH systems.\n\nChange-Id: Ia2e91512c097c3aa1cff9bf7f868ae08f86a44df\nCloses-bug: #1444736\n'}, {'number': 10, 'created': '2015-05-12 03:42:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/63126b5bb805c74f578074642b6be1f5a6941f9b', 'message': 'Bring Redhat support to acceptance tests\n\nOpenStack Infra has jobs to run this on both Ubuntu Trusty and CentOS7.\n\n* Add minitest to Gemfile (dependency to run beaker on centos - see\n  http://projects.theforeman.org/issues/2650 for details)\n* separate nodepool files to have trusty & centos7 support in OS infra\n* basic_keystone_spec: add case for repo configuration and support\n  RH systems.\n\nChange-Id: Ia2e91512c097c3aa1cff9bf7f868ae08f86a44df\nCloses-bug: #1444736\n'}, {'number': 11, 'created': '2015-05-12 04:00:55.000000000', 'files': ['spec/acceptance/basic_keystone_spec.rb', 'spec/acceptance/nodesets/nodepool-trusty.yml', 'Gemfile', 'spec/spec_helper_acceptance.rb', 'spec/acceptance/nodesets/nodepool-centos7.yml'], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/e8a09f76075b8d780e2f6b1b2d8fb3a19f6f94ee', 'message': 'Bring Redhat support to acceptance tests\n\nOpenStack Infra has jobs to run this on both Ubuntu Trusty and CentOS7.\n\n* Add minitest to Gemfile (dependency to run beaker on centos - see\n  http://projects.theforeman.org/issues/2650 for details)\n* separate nodepool files to have trusty & centos7 support in OS infra\n* basic_keystone_spec: add case for repo configuration and support\n  RH systems.\n\nChange-Id: Ia2e91512c097c3aa1cff9bf7f868ae08f86a44df\nCloses-bug: #1444736\n'}]",7,181439,e8a09f76075b8d780e2f6b1b2d8fb3a19f6f94ee,54,5,11,3153,,,0,"Bring Redhat support to acceptance tests

OpenStack Infra has jobs to run this on both Ubuntu Trusty and CentOS7.

* Add minitest to Gemfile (dependency to run beaker on centos - see
  http://projects.theforeman.org/issues/2650 for details)
* separate nodepool files to have trusty & centos7 support in OS infra
* basic_keystone_spec: add case for repo configuration and support
  RH systems.

Change-Id: Ia2e91512c097c3aa1cff9bf7f868ae08f86a44df
Closes-bug: #1444736
",git fetch https://review.opendev.org/openstack/puppet-keystone refs/changes/39/181439/10 && git format-patch -1 --stdout FETCH_HEAD,"['spec/acceptance/basic_keystone_spec.rb', 'spec/spec_helper_acceptance.rb']",2,810d5dd0b1c037f4f4014a3018d46f649df0c1c7,bug/1444736, shell('git clone https://git.openstack.org/stackforge/puppet-openstack_extras /etc/puppet/modules/openstack_extras') ," on host, puppet('module','install','stahnma-epel'), { :acceptable_exit_codes => 0 }",27,14
openstack%2Fnova~master~I67f2dd372968740a21f70cd04bc4adc996020942,openstack/nova,master,I67f2dd372968740a21f70cd04bc4adc996020942,Add new HostAggregateGroupFilter scheduler filter,ABANDONED,2015-01-27 09:18:47.000000000,2015-05-13 17:07:50.000000000,,"[{'_account_id': 3}, {'_account_id': 782}, {'_account_id': 1849}, {'_account_id': 5170}, {'_account_id': 6466}, {'_account_id': 7166}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9303}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11103}, {'_account_id': 15751}]","[{'number': 1, 'created': '2015-01-27 09:18:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/56a195d22a12f37c91b12fdfc00f5829d6528996', 'message': ""Add new HostAggregateGroupFilter scheduler filter\n\nAdded new scheduler filter 'HostAggregateGroupFilter' which can filter\nhosts on the basis of 'host_aggregate_group_id' passed to the\nfilter_properties parameter for scheduling new instances.\n\nDocImpact:\nIf HostAggregate groups configured with same properties on multiple NFS,\nthen add 'HostAggregateGroupFilter' in the 'scheduler_default_filters'\nconfiguration parameter as mentioned below:\nscheduler_default_filters=HostAggregateGroupFilter,AvailabilityZoneFilter,...\n\nChange-Id: I67f2dd372968740a21f70cd04bc4adc996020942\nblueprint: improve-unshelve-performance\n""}, {'number': 2, 'created': '2015-04-08 10:00:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/865b5fb3d8f5d6b887263e43774c9df98685ed67', 'message': ""Add new HostAggregateGroupFilter scheduler filter\n\nAdded new scheduler filter 'HostAggregateGroupFilter' which can filter\nhosts on the basis of 'host_aggregate_group_id' passed to the\nfilter_properties parameter for scheduling new instances.\n\nDocImpact:\nIf HostAggregate groups configured with same properties on multiple NFS,\nthen add 'HostAggregateGroupFilter' in the 'scheduler_default_filters'\nconfiguration parameter as mentioned below:\nscheduler_default_filters=HostAggregateGroupFilter,AvailabilityZoneFilter,...\n\nChange-Id: I67f2dd372968740a21f70cd04bc4adc996020942\nblueprint: improve-unshelve-performance\n""}, {'number': 3, 'created': '2015-04-08 14:53:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6c79c7281977346f1203b19933dd7c496a414216', 'message': ""Add new HostAggregateGroupFilter scheduler filter\n\nAdded new scheduler filter 'HostAggregateGroupFilter' which can filter\nhosts on the basis of 'host_aggregate_group_id' passed to the\nfilter_properties parameter for scheduling new instances.\n\nDocImpact:\nIf HostAggregate groups configured with same properties on multiple NFS,\nthen add 'HostAggregateGroupFilter' in the 'scheduler_default_filters'\nconfiguration parameter as mentioned below:\nscheduler_default_filters=HostAggregateGroupFilter,AvailabilityZoneFilter,...\n\nChange-Id: I67f2dd372968740a21f70cd04bc4adc996020942\nblueprint: improve-unshelve-performance\n""}, {'number': 4, 'created': '2015-04-09 12:07:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4b947555f082cffa78a2257bd124976978753887', 'message': ""Add new HostAggregateGroupFilter scheduler filter\n\nAdded new scheduler filter 'HostAggregateGroupFilter' which can filter\nhosts on the basis of 'host_aggregate_group_id' passed to the\nfilter_properties parameter for scheduling new instances.\n\nDocImpact:\nIf HostAggregate groups configured with same properties on multiple NFS,\nthen add 'HostAggregateGroupFilter' in the 'scheduler_default_filters'\nconfiguration parameter as mentioned below:\nscheduler_default_filters=HostAggregateGroupFilter,AvailabilityZoneFilter,...\n\nChange-Id: I67f2dd372968740a21f70cd04bc4adc996020942\nblueprint: improve-unshelve-performance\n""}, {'number': 5, 'created': '2015-04-09 12:17:33.000000000', 'files': ['nova/scheduler/filters/host_aggregate_group_filter.py', 'nova/tests/unit/scheduler/filters/test_host_aggregate_group_filter.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/5372fe934c7ccba19b4a14d9d6f090100c6d78f2', 'message': ""Add new HostAggregateGroupFilter scheduler filter\n\nAdded new scheduler filter 'HostAggregateGroupFilter' which can filter\nhosts on the basis of 'host_aggregate_group_id' passed to the\nfilter_properties parameter for scheduling new instances.\n\nDocImpact:\nIf HostAggregate groups configured with same properties on multiple NFS,\nthen add 'HostAggregateGroupFilter' in the 'scheduler_default_filters'\nconfiguration parameter as mentioned below:\nscheduler_default_filters=HostAggregateGroupFilter,AvailabilityZoneFilter,...\n\nChange-Id: I67f2dd372968740a21f70cd04bc4adc996020942\nblueprint: improve-unshelve-performance\n""}]",2,150330,5372fe934c7ccba19b4a14d9d6f090100c6d78f2,49,14,5,9303,,,0,"Add new HostAggregateGroupFilter scheduler filter

Added new scheduler filter 'HostAggregateGroupFilter' which can filter
hosts on the basis of 'host_aggregate_group_id' passed to the
filter_properties parameter for scheduling new instances.

DocImpact:
If HostAggregate groups configured with same properties on multiple NFS,
then add 'HostAggregateGroupFilter' in the 'scheduler_default_filters'
configuration parameter as mentioned below:
scheduler_default_filters=HostAggregateGroupFilter,AvailabilityZoneFilter,...

Change-Id: I67f2dd372968740a21f70cd04bc4adc996020942
blueprint: improve-unshelve-performance
",git fetch https://review.opendev.org/openstack/nova refs/changes/30/150330/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/scheduler/filters/host_aggregate_group_filter.py', 'nova/tests/unit/scheduler/filters/test_host_aggregate_group_filter.py']",2,56a195d22a12f37c91b12fdfc00f5829d6528996,bp/improve-unshelve-performance,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import mock from nova import objects from nova.scheduler.filters import host_aggregate_group_filter as agg_host from nova import test from nova.tests.unit.scheduler import fakes _AGGREGATE_FIXTURES = [ objects.Aggregate( id=1, name='foo', hosts=['fake-host'], metadata={'k1': '1', 'k2': '2'}, ), objects.Aggregate( id=2, name='bar', hosts=['fake-host'], metadata={'k1': '3', 'k2': '4'}, ), ] @mock.patch('nova.objects.AggregateList.get_by_host') class TestHostAggregateGroupFilter(test.NoDBTestCase): def setUp(self): super(TestHostAggregateGroupFilter, self).setUp() self.filt_cls = agg_host.HostAggregateGroupFilter() def test_aggregate_filter_passes_no_host_aggregate_group_id( self, mock_get_by_host): host = fakes.FakeHostState('host1', 'node1', {}) self.assertTrue(self.filt_cls.host_passes(host, {})) def test_aggregate_filter_passes_host_aggregate_group_id( self, mock_get_by_host): mock_get_by_host.return_value = objects.AggregateList( objects=_AGGREGATE_FIXTURES) filter_properties = {'context': mock.sentinel.ctx, 'host_aggregate_group_id': 1} host = fakes.FakeHostState('host1', 'node1', {}) self.assertTrue(self.filt_cls.host_passes(host, filter_properties)) def test_aggregate_filter_passes_returns_no_host( self, mock_get_by_host): mock_get_by_host.return_value = [] filter_properties = {'context': mock.sentinel.ctx, 'host_aggregate_group_id': 1} host = fakes.FakeHostState('host1', 'node1', {}) self.assertFalse(self.filt_cls.host_passes(host, filter_properties)) ",,120,0
openstack%2Fnova~master~I5af5af1009b2f491d259fbe024d2f7f36ba5c4b2,openstack/nova,master,I5af5af1009b2f491d259fbe024d2f7f36ba5c4b2,Avoids Error code 500 on negative port quota,ABANDONED,2015-04-01 03:52:23.000000000,2015-05-13 17:07:48.000000000,,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 1849}, {'_account_id': 2750}, {'_account_id': 4393}, {'_account_id': 7166}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 13499}, {'_account_id': 15751}]","[{'number': 1, 'created': '2015-04-01 03:52:23.000000000', 'files': ['nova/tests/unit/network/test_neutronv2.py', 'nova/network/neutronv2/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/c03ef45a81337bb270ee5f05788511bc87cc8c2d', 'message': 'Avoids Error code 500 on negative port quota\n\nCurrently if the quota_port value in the neutron.conf is set to a\nnegative value not equal to -1, the nova boot command fails.\nThe negative number should ideally signify a unlimited port quota.\n\nThe fix allows the flexibility of having any negative number for the\nquota_port parameter in the neutron.conf file and allows the nova boot\nto succeed subsequently.\n\nChange-Id: I5af5af1009b2f491d259fbe024d2f7f36ba5c4b2\nCloses-Bug: 1438738\n'}]",0,169605,c03ef45a81337bb270ee5f05788511bc87cc8c2d,12,11,1,9775,,,0,"Avoids Error code 500 on negative port quota

Currently if the quota_port value in the neutron.conf is set to a
negative value not equal to -1, the nova boot command fails.
The negative number should ideally signify a unlimited port quota.

The fix allows the flexibility of having any negative number for the
quota_port parameter in the neutron.conf file and allows the nova boot
to succeed subsequently.

Change-Id: I5af5af1009b2f491d259fbe024d2f7f36ba5c4b2
Closes-Bug: 1438738
",git fetch https://review.opendev.org/openstack/nova refs/changes/05/169605/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/network/neutronv2/api.py', 'nova/tests/unit/network/test_neutronv2.py']",2,c03ef45a81337bb270ee5f05788511bc87cc8c2d,bug/1438738," def test_validate_networks_negative_quota(self): requested_networks = [('my_netid1', None, None, None), ('my_netid2', None, None, None)] ids = ['my_netid1', 'my_netid2'] self.moxed_client.list_networks( id=mox.SameElementsAs(ids)).AndReturn( {'networks': self.nets2}) self.moxed_client.list_ports(tenant_id='my_tenantid').AndReturn( {'ports': []}) self.moxed_client.show_quota( tenant_id='my_tenantid').AndReturn( {'quota': {'port': -10}}) self.mox.ReplayAll() api = neutronapi.API() api.validate_networks(self.context, requested_networks, 1) ",,17,1
openstack%2Fnova~master~I3c27b6d37f04580b280c75940fe172fe7255ba51,openstack/nova,master,I3c27b6d37f04580b280c75940fe172fe7255ba51,DO NOT MERGE: enable libvirt live snapshot (testing),ABANDONED,2015-01-14 23:31:29.000000000,2015-05-13 17:07:46.000000000,,"[{'_account_id': 3}, {'_account_id': 1849}, {'_account_id': 3189}, {'_account_id': 5170}, {'_account_id': 6589}, {'_account_id': 6873}, {'_account_id': 6962}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11103}]","[{'number': 1, 'created': '2015-01-14 23:31:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/93db88bd1c335d9503ad9084e2e3bffeb78f2b7e', 'message': 'Revert ""effectively disable libvirt live snapshotting""\n\nThis reverts commit c1c159460de376a06b8479f90f42d9f62eace961.\n\nDO NOT MERGE\n\nChecking to see if this fails on the fedora 21 experimental\nqueue job with libvirt 1.2.9. The goal is to try and find\na more reasonable minimum version cap for this feature.\n\nChange-Id: I3c27b6d37f04580b280c75940fe172fe7255ba51\nRelated-Bug: #1334398\n'}, {'number': 2, 'created': '2015-01-14 23:35:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4cb956553719e87bb987f02959e0596525e689a1', 'message': 'Revert ""effectively disable libvirt live snapshotting""\n\nThis reverts commit c1c159460de376a06b8479f90f42d9f62eace961.\n\nDO NOT MERGE\n\nChecking to see if this fails on the fedora 21 experimental\nqueue job with libvirt 1.2.9 and qemu 2.1.2. The goal is to\ntry and find a more reasonable minimum version cap for this\nfeature.\n\nChange-Id: I3c27b6d37f04580b280c75940fe172fe7255ba51\nRelated-Bug: #1334398\n'}, {'number': 3, 'created': '2015-03-16 14:26:46.000000000', 'files': ['nova/utils.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/4d6929105101c70ec38e7760a9f617f6b87a228c', 'message': 'DO NOT MERGE: enable libvirt live snapshot (testing)\n\nChecking to see if this fails on the fedora 21 experimental\nqueue job with libvirt 1.2.9 and qemu 2.1.2. The goal is to\ntry and find a more reasonable minimum version cap for this\nfeature.\n\nRelated-Bug: #1334398\n\nChange-Id: I3c27b6d37f04580b280c75940fe172fe7255ba51\n'}]",0,147332,4d6929105101c70ec38e7760a9f617f6b87a228c,48,12,3,6873,,,0,"DO NOT MERGE: enable libvirt live snapshot (testing)

Checking to see if this fails on the fedora 21 experimental
queue job with libvirt 1.2.9 and qemu 2.1.2. The goal is to
try and find a more reasonable minimum version cap for this
feature.

Related-Bug: #1334398

Change-Id: I3c27b6d37f04580b280c75940fe172fe7255ba51
",git fetch https://review.opendev.org/openstack/nova refs/changes/32/147332/2 && git format-patch -1 --stdout FETCH_HEAD,['nova/virt/libvirt/driver.py'],1,93db88bd1c335d9503ad9084e2e3bffeb78f2b7e,bug/1334398,"MIN_LIBVIRT_LIVESNAPSHOT_VERSION = (1, 0, 0)","# TODO(sdague): this should be 1.0.0, but hacked to set 1.3.0 until # https://bugs.launchpad.net/nova/+bug/1334398 # can be diagnosed & resolved MIN_LIBVIRT_LIVESNAPSHOT_VERSION = (1, 3, 0)",1,4
openstack%2Foctavia~master~Ie2a36f7a7f487c411d35f4a39cae336090caad33,openstack/octavia,master,Ie2a36f7a7f487c411d35f4a39cae336090caad33,Updates devstack plugin to add service endpoint,MERGED,2015-05-13 06:57:46.000000000,2015-05-13 17:06:25.000000000,2015-05-13 17:06:25.000000000,"[{'_account_id': 3}, {'_account_id': 10980}, {'_account_id': 11628}, {'_account_id': 12403}]","[{'number': 1, 'created': '2015-05-13 06:57:46.000000000', 'files': ['devstack/plugin.sh', 'devstack/settings'], 'web_link': 'https://opendev.org/openstack/octavia/commit/df6f5b4a567217f756032e79ee7b91f48b11c001', 'message': 'Updates devstack plugin to add service endpoint\n\nUpdates plugin.sh with method to add octavia service endpoint\nUpdates settings for protocol and port\n\nChange-Id: Ie2a36f7a7f487c411d35f4a39cae336090caad33\n'}]",0,182551,df6f5b4a567217f756032e79ee7b91f48b11c001,8,4,1,11302,,,0,"Updates devstack plugin to add service endpoint

Updates plugin.sh with method to add octavia service endpoint
Updates settings for protocol and port

Change-Id: Ie2a36f7a7f487c411d35f4a39cae336090caad33
",git fetch https://review.opendev.org/openstack/octavia refs/changes/51/182551/1 && git format-patch -1 --stdout FETCH_HEAD,"['devstack/plugin.sh', 'devstack/settings']",2,df6f5b4a567217f756032e79ee7b91f48b11c001,,"OCTAVIA_PROTOCOL=${OCTAVIA_PROTOCOL:-""http""} OCTAVIA_PORT=${OCTAVIA_PORT:-""9876""} ",,21,0
openstack%2Fpuppet-keystone~master~I8f00983afdf1ad4b5c2b49bf4a2c26961ecf7444,openstack/puppet-keystone,master,I8f00983afdf1ad4b5c2b49bf4a2c26961ecf7444,Beaker: install APT repo with openstack_extras,MERGED,2015-05-11 19:15:51.000000000,2015-05-13 17:03:54.000000000,2015-05-13 17:03:53.000000000,"[{'_account_id': 3}, {'_account_id': 7155}, {'_account_id': 8482}]","[{'number': 1, 'created': '2015-05-11 19:15:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/f8dbf705b63d172cd142ef475d4b9e48605bc86b', 'message': 'Beaker: install APT repo with openstack_extras\n\nUse openstack_extras module to manage Ubuntu Cloud Archive repository.\n\nChange-Id: I8f00983afdf1ad4b5c2b49bf4a2c26961ecf7444\n'}, {'number': 2, 'created': '2015-05-12 03:38:46.000000000', 'files': ['spec/acceptance/basic_keystone_spec.rb', 'spec/spec_helper_acceptance.rb'], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/a20b6098ace51832b1682cba295d2e8755231d54', 'message': 'Beaker: install APT repo with openstack_extras\n\nUse openstack_extras module to manage Ubuntu Cloud Archive repository.\n\nChange-Id: I8f00983afdf1ad4b5c2b49bf4a2c26961ecf7444\n'}]",0,182026,a20b6098ace51832b1682cba295d2e8755231d54,13,3,2,3153,,,0,"Beaker: install APT repo with openstack_extras

Use openstack_extras module to manage Ubuntu Cloud Archive repository.

Change-Id: I8f00983afdf1ad4b5c2b49bf4a2c26961ecf7444
",git fetch https://review.opendev.org/openstack/puppet-keystone refs/changes/26/182026/2 && git format-patch -1 --stdout FETCH_HEAD,"['spec/acceptance/basic_keystone_spec.rb', 'spec/spec_helper_acceptance.rb']",2,f8dbf705b63d172cd142ef475d4b9e48605bc86b,bug/1444736, shell('git clone https://git.openstack.org/stackforge/puppet-openstack_extras /etc/puppet/modules/openstack_extras'),,3,6
openstack%2Fopenstack-manuals~master~I1301effd64b676f2ee0aa43543df85f423e79e0a,openstack/openstack-manuals,master,I1301effd64b676f2ee0aa43543df85f423e79e0a,Share common RST directory,MERGED,2015-05-11 20:21:13.000000000,2015-05-13 17:02:30.000000000,2015-05-13 17:02:28.000000000,"[{'_account_id': 3}, {'_account_id': 167}, {'_account_id': 964}, {'_account_id': 6547}]","[{'number': 1, 'created': '2015-05-11 20:21:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/1e7cd8a9c59e936835e3b3d8ddc4cfaf5e85e98e', 'message': 'Share common RST directory\n\nMove the user-guides common directory up and share it with the\nnetworking guide as well. For this, we need to use relative links of the\ndirectory so that the directory is inside the tree.\n\nFor networking-guide, blacklist unused common files using the\nexclude_pattern.\n\nChange-Id: I1301effd64b676f2ee0aa43543df85f423e79e0a\n'}, {'number': 2, 'created': '2015-05-12 05:59:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/a2bdf36f41c92e79d3c570139618f494790e8c7a', 'message': 'Share common RST directory\n\nMove the user-guides common directory up and share it with the\nnetworking guide as well. For this, we need to use relative links of the\ndirectory so that the directory is inside the tree.\n\nFor networking-guide, blacklist unused common files using the\nexclude_pattern.\n\nChange-Id: I1301effd64b676f2ee0aa43543df85f423e79e0a\n'}, {'number': 3, 'created': '2015-05-12 07:32:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/01557d4c2fd3af990bdd993cb35bba0d185163f9', 'message': 'Share common RST directory\n\nMove the user-guides common directory up and share it with the\nnetworking guide as well. For this, we need to use relative links of the\ndirectory so that the directory is inside the tree.\n\nFor networking-guide, blacklist unused common files using the\nexclude_pattern.\n\nChange-Id: I1301effd64b676f2ee0aa43543df85f423e79e0a\n'}, {'number': 4, 'created': '2015-05-12 09:57:33.000000000', 'files': ['doc/common-rst/cli_install_openstack_command_line_clients.rst', 'doc/common-rst/cli_manage_volumes.rst', 'doc/common-rst/cli_overview.rst', 'doc/common-rst/app_support.rst', 'doc/common-rst/figures/dashboard-project-tab.png', 'doc/common-rst/cli_manage_images.rst', 'tools/sync-projects.sh', 'doc/common-rst/cli_discover_version_number_for_a_client.rst', 'doc/networking-guide/source/common', 'doc/common-rst/cli_set_environment_variables_using_openstack_rc.rst', 'doc/common-rst/log_in_dashboard.rst', 'doc/networking-guide/source/common/app_support.rst', 'doc/networking-guide/source/conf.py', 'doc/user-guides/source/common', 'doc/common-rst/figures/dashboard_admin_project_tab.png'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/909276a0a0eb4c9f695c7b484860111a85e830a4', 'message': 'Share common RST directory\n\nMove the user-guides common directory up and share it with the\nnetworking guide as well. For this, we need to use relative links of the\ndirectory so that the directory is inside the tree.\n\nFor networking-guide, blacklist unused common files using the\nexclude_pattern.\n\nChange-Id: I1301effd64b676f2ee0aa43543df85f423e79e0a\n'}]",0,182067,909276a0a0eb4c9f695c7b484860111a85e830a4,15,4,4,6547,,,0,"Share common RST directory

Move the user-guides common directory up and share it with the
networking guide as well. For this, we need to use relative links of the
directory so that the directory is inside the tree.

For networking-guide, blacklist unused common files using the
exclude_pattern.

Change-Id: I1301effd64b676f2ee0aa43543df85f423e79e0a
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/67/182067/3 && git format-patch -1 --stdout FETCH_HEAD,"['doc/common-rst/cli_install_openstack_command_line_clients.rst', 'doc/common-rst/cli_manage_volumes.rst', 'doc/common-rst/cli_overview.rst', 'doc/common-rst/app_support.rst', 'doc/common-rst/figures/dashboard-project-tab.png', 'doc/common-rst/cli_manage_images.rst', 'doc/common-rst/cli_discover_version_number_for_a_client.rst', 'doc/networking-guide/source/common', 'doc/common-rst/cli_set_environment_variables_using_openstack_rc.rst', 'doc/common-rst/log_in_dashboard.rst', 'doc/networking-guide/source/common/app_support.rst', 'doc/networking-guide/source/conf.py', 'doc/user-guides/source/common', 'doc/common-rst/figures/dashboard_admin_project_tab.png']",14,1e7cd8a9c59e936835e3b3d8ddc4cfaf5e85e98e,separate-user-guide,,,5,4
openstack%2Ftrove~master~I9d3e80d94795060d375aae30ce249513aae3fd97,openstack/trove,master,I9d3e80d94795060d375aae30ce249513aae3fd97,Drop use of 'oslo' namespace package,MERGED,2015-05-06 20:06:00.000000000,2015-05-13 16:59:52.000000000,2015-05-13 16:59:51.000000000,"[{'_account_id': 3}, {'_account_id': 2472}, {'_account_id': 5293}, {'_account_id': 7806}, {'_account_id': 9664}, {'_account_id': 9782}, {'_account_id': 10215}, {'_account_id': 11343}, {'_account_id': 14576}]","[{'number': 1, 'created': '2015-05-06 20:06:00.000000000', 'files': ['trove/tests/api/instances_resize.py', 'trove/common/wsgi.py', 'trove/common/profile.py', 'trove/common/auth.py', 'trove/instance/models.py', 'trove/openstack/common/log.py', 'trove/common/debug_utils.py', 'trove/common/strategies/cluster/strategy.py', 'trove/quota/quota.py', 'trove/instance/service.py', 'trove/tests/unittests/api/common/test_limits.py', 'trove/common/utils.py', 'trove/cmd/common.py', 'trove/limits/views.py', 'trove/common/models.py', 'trove/cluster/service.py', 'trove/common/cfg.py', 'trove/openstack/common/eventlet_backdoor.py', 'trove/cmd/taskmanager.py', 'trove/cmd/guest.py', 'trove/common/rpc/service.py', 'trove/openstack/common/sslutils.py', 'trove/common/remote.py', 'trove/cmd/fakemode.py', 'trove/common/i18n.py', 'trove/conductor/manager.py', 'trove/openstack/common/service.py', 'trove/openstack/common/wsgi.py', 'trove/conductor/api.py', 'trove/tests/api/limits.py', 'trove/taskmanager/manager.py', 'trove/guestagent/common/timeutils.py', 'trove/tests/unittests/taskmanager/test_models.py', 'trove/common/base_wsgi.py', 'trove/common/limits.py', 'trove/openstack/common/_i18n.py', 'trove/tests/unittests/guestagent/test_api.py', 'trove/rpc.py', 'trove/taskmanager/api.py', 'trove/tests/unittests/mgmt/test_models.py', 'trove/taskmanager/models.py', 'trove/common/template.py', 'trove/guestagent/api.py', 'trove/extensions/mysql/service.py'], 'web_link': 'https://opendev.org/openstack/trove/commit/3ce4756d2c7ad7bec4dec08c158367433823b0c7', 'message': ""Drop use of 'oslo' namespace package\n\nThe Oslo libraries have moved all of their code out of the 'oslo'\nnamespace package into per-library packages. The namespace package was\nretained during kilo for backwards compatibility, but will be removed by\nthe liberty-2 milestone. This change removes the use of the namespace\npackage, replacing it with the new package names.\n\nThe patches in the libraries will be put on hold until application\npatches have landed, or L2, whichever comes first. At that point, new\nversions of the libraries without namespace packages will be released as\na major version update.\n\nPlease merge this patch, or an equivalent, before L2 to avoid problems\nwith those library releases.\n\nBlueprint: remove-namespace-packages\nhttps://blueprints.launchpad.net/oslo-incubator/+spec/remove-namespace-packages\n\nChange-Id: I9d3e80d94795060d375aae30ce249513aae3fd97\n""}]",1,180719,3ce4756d2c7ad7bec4dec08c158367433823b0c7,19,9,1,2472,,,0,"Drop use of 'oslo' namespace package

The Oslo libraries have moved all of their code out of the 'oslo'
namespace package into per-library packages. The namespace package was
retained during kilo for backwards compatibility, but will be removed by
the liberty-2 milestone. This change removes the use of the namespace
package, replacing it with the new package names.

The patches in the libraries will be put on hold until application
patches have landed, or L2, whichever comes first. At that point, new
versions of the libraries without namespace packages will be released as
a major version update.

Please merge this patch, or an equivalent, before L2 to avoid problems
with those library releases.

Blueprint: remove-namespace-packages
https://blueprints.launchpad.net/oslo-incubator/+spec/remove-namespace-packages

Change-Id: I9d3e80d94795060d375aae30ce249513aae3fd97
",git fetch https://review.opendev.org/openstack/trove refs/changes/19/180719/1 && git format-patch -1 --stdout FETCH_HEAD,"['trove/tests/api/instances_resize.py', 'trove/common/wsgi.py', 'trove/common/profile.py', 'trove/common/auth.py', 'trove/instance/models.py', 'trove/openstack/common/log.py', 'trove/common/debug_utils.py', 'trove/common/strategies/cluster/strategy.py', 'trove/quota/quota.py', 'trove/instance/service.py', 'trove/tests/unittests/api/common/test_limits.py', 'trove/common/utils.py', 'trove/cmd/common.py', 'trove/limits/views.py', 'trove/common/models.py', 'trove/cluster/service.py', 'trove/common/cfg.py', 'trove/openstack/common/eventlet_backdoor.py', 'trove/cmd/taskmanager.py', 'trove/cmd/guest.py', 'trove/common/rpc/service.py', 'trove/openstack/common/sslutils.py', 'trove/common/remote.py', 'trove/cmd/fakemode.py', 'trove/common/i18n.py', 'trove/conductor/manager.py', 'trove/openstack/common/service.py', 'trove/openstack/common/wsgi.py', 'trove/conductor/api.py', 'trove/tests/api/limits.py', 'trove/taskmanager/manager.py', 'trove/guestagent/common/timeutils.py', 'trove/tests/unittests/taskmanager/test_models.py', 'trove/common/base_wsgi.py', 'trove/common/limits.py', 'trove/openstack/common/_i18n.py', 'trove/tests/unittests/guestagent/test_api.py', 'trove/rpc.py', 'trove/taskmanager/api.py', 'trove/tests/unittests/mgmt/test_models.py', 'trove/taskmanager/models.py', 'trove/common/template.py', 'trove/guestagent/api.py', 'trove/extensions/mysql/service.py']",44,3ce4756d2c7ad7bec4dec08c158367433823b0c7,bp/remove-namespace-packages,from oslo_utils import strutils,from oslo.utils import strutils,58,58
openstack%2Fos-brick~master~I092a56e52bcea6adb6cb018cd059e6126a1dc07d,openstack/os-brick,master,I092a56e52bcea6adb6cb018cd059e6126a1dc07d,ISCSI be careful parsing iscsiadm output,MERGED,2015-05-11 23:18:19.000000000,2015-05-13 16:56:19.000000000,2015-05-13 16:56:18.000000000,"[{'_account_id': 3}, {'_account_id': 1736}, {'_account_id': 4523}]","[{'number': 1, 'created': '2015-05-11 23:18:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/9729cd52b8a7e653989136ce587ba34ef2581b91', 'message': 'ISCSI be careful parsing iscsiadm output\n\nSometimes iscsiadm can output debugging text.\nThis patch does the same thing that the old\nnova libvirt volume code does in being safe\nwith reading the command line output.  We want\nto ensure that we are reading the iqns and ips.\n\nChange-Id: I092a56e52bcea6adb6cb018cd059e6126a1dc07d\nCloses-Bug: #1453992\n'}, {'number': 2, 'created': '2015-05-13 15:58:52.000000000', 'files': ['os_brick/tests/initiator/test_connector.py', 'os_brick/initiator/connector.py'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/8e6e07e15e083ace62e38f426045d277c6628961', 'message': 'ISCSI be careful parsing iscsiadm output\n\nSometimes iscsiadm can output debugging text.\nThis patch does the same thing that the old\nnova libvirt volume code does in being safe\nwith reading the command line output.  We want\nto ensure that we are reading the iqns and ips.\n\nChange-Id: I092a56e52bcea6adb6cb018cd059e6126a1dc07d\nCloses-Bug: #1453992\n'}]",0,182115,8e6e07e15e083ace62e38f426045d277c6628961,9,3,2,5997,,,0,"ISCSI be careful parsing iscsiadm output

Sometimes iscsiadm can output debugging text.
This patch does the same thing that the old
nova libvirt volume code does in being safe
with reading the command line output.  We want
to ensure that we are reading the iqns and ips.

Change-Id: I092a56e52bcea6adb6cb018cd059e6126a1dc07d
Closes-Bug: #1453992
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/15/182115/2 && git format-patch -1 --stdout FETCH_HEAD,"['os_brick/tests/initiator/test_connector.py', 'os_brick/initiator/connector.py']",2,9729cd52b8a7e653989136ce587ba34ef2581b91,bug/1453992," # # as we are parsing a command line utility, allow for the # possibility that additional debug data is spewed in the # stream, and only grab actual ip / iqn lines. targets = [] for data in [line.split() for line in output.splitlines()]: if len(data) == 2 and data[1].startswith('iqn.'): targets.append(data) return targets", return [line.split() for line in output.splitlines()],32,1
openstack%2Ftripleo-heat-templates~master~If0c37a86fa8b5aa6d452129bccf7341a3a3ba667,openstack/tripleo-heat-templates,master,If0c37a86fa8b5aa6d452129bccf7341a3a3ba667,Add Galera as a Pacemaker resource when EnablePacemaker,MERGED,2015-04-27 13:30:54.000000000,2015-05-13 16:50:40.000000000,2015-05-13 16:50:37.000000000,"[{'_account_id': 3}, {'_account_id': 360}, {'_account_id': 3153}, {'_account_id': 4328}, {'_account_id': 6796}, {'_account_id': 7984}, {'_account_id': 8042}, {'_account_id': 8399}, {'_account_id': 8449}, {'_account_id': 9410}]","[{'number': 1, 'created': '2015-04-27 13:30:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/164a3a3311337e59c09403634b333d324b685b64', 'message': 'Add Galera support with Pacemaker\n\nThis commit aims to support the creation of the galera cluster via\nPacemaker. With this commit in, three use-cases will be supported.\n\n * Non HA setup / Non Pacemaker setup : The deployment will take place\nas it is currently the case in f20puppet-nonha. Nothing changes.\n\n * Non HA setup / Pacemaker setup : Even though it is a non ha setup,\ngalera cluster via pacemaker  will be deployed with a cluster nbr of 1.\n\n * HA setup / Non Pacemaker setup : N/A\n\n * HA setup / Pacemaker setup : It is assumed that HA setup will\nalways be with pacemaker.  So in this situation pacemaker will deploy a\ncluster of 3 galera master nodes.\n\nChange-Id: If0c37a86fa8b5aa6d452129bccf7341a3a3ba667\n'}, {'number': 2, 'created': '2015-04-28 11:37:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e8dd5f804bcd522660960b3f285887b689568485', 'message': 'Add Galera support with Pacemaker\n\nThis commit aims to support the creation of the galera cluster via\nPacemaker. With this commit in, three use-cases will be supported.\n\n * Non HA setup / Non Pacemaker setup : The deployment will take place\nas it is currently the case in f20puppet-nonha. Nothing changes.\n\n * Non HA setup / Pacemaker setup : Even though it is a non ha setup,\ngalera cluster via pacemaker  will be deployed with a cluster nbr of 1.\n\n * HA setup / Non Pacemaker setup : N/A\n\n * HA setup / Pacemaker setup : It is assumed that HA setup will\nalways be with pacemaker.  So in this situation pacemaker will deploy a\ncluster of 3 galera master nodes.\n\nChange-Id: If0c37a86fa8b5aa6d452129bccf7341a3a3ba667\n'}, {'number': 3, 'created': '2015-04-28 12:31:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4d15f4d69393fadf4b6d7fb22a8b8ac40a3c1083', 'message': 'Add Galera support with Pacemaker\n\nThis commit aims to support the creation of the galera cluster via\nPacemaker. With this commit in, three use-cases will be supported.\n\n * Non HA setup / Non Pacemaker setup : The deployment will take place\nas it is currently the case in f20puppet-nonha. Nothing changes.\n\n * Non HA setup / Pacemaker setup : Even though it is a non ha setup,\ngalera cluster via pacemaker  will be deployed with a cluster nbr of 1.\n\n * HA setup / Non Pacemaker setup : N/A\n\n * HA setup / Pacemaker setup : It is assumed that HA setup will\nalways be with pacemaker.  So in this situation pacemaker will deploy a\ncluster of 3 galera master nodes.\n\nChange-Id: If0c37a86fa8b5aa6d452129bccf7341a3a3ba667\n'}, {'number': 4, 'created': '2015-04-30 07:22:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/64281ac48be08921f1282deff713414ae0dbf69b', 'message': 'Add Galera support with Pacemaker\n\nThis commit aims to support the creation of the galera cluster via\nPacemaker. With this commit in, three use-cases will be supported.\n\n * Non HA setup / Non Pacemaker setup : The deployment will take place\nas it is currently the case in f20puppet-nonha. Nothing changes.\n\n * Non HA setup / Pacemaker setup : Even though it is a non ha setup,\ngalera cluster via pacemaker  will be deployed with a cluster nbr of 1.\n\n * HA setup / Non Pacemaker setup : N/A\n\n * HA setup / Pacemaker setup : It is assumed that HA setup will\nalways be with pacemaker.  So in this situation pacemaker will deploy a\ncluster of 3 galera master nodes.\n\nChange-Id: If0c37a86fa8b5aa6d452129bccf7341a3a3ba667\n'}, {'number': 5, 'created': '2015-04-30 10:42:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3a71360daef798f9315856e17ddd0f8e6d1fd8a3', 'message': 'Add Galera as a Pacemaker resource when EnablePacemaker\n\nThis commit aims to support the creation of the galera cluster via\nPacemaker. With this commit in, three use-cases will be supported.\n\n * Non HA setup / Non Pacemaker setup : The deployment will take place\nas it is currently the case in f20puppet-nonha. Nothing changes.\n\n * Non HA setup / Pacemaker setup : Even though it is a non ha setup,\ngalera cluster via pacemaker  will be deployed with a cluster nbr of 1.\n\n * HA setup / Non Pacemaker setup : N/A\n\n * HA setup / Pacemaker setup : It is assumed that HA setup will\nalways be with pacemaker.  So in this situation pacemaker will deploy a\ncluster of 3 galera master nodes.\n\nChange-Id: If0c37a86fa8b5aa6d452129bccf7341a3a3ba667\n'}, {'number': 6, 'created': '2015-04-30 13:00:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/83f6d7806d997ce573e2960e71c5151881fa8954', 'message': 'Add Galera as a Pacemaker resource when EnablePacemaker\n\nThis commit aims to support the creation of the galera cluster via\nPacemaker. With this commit in, three use-cases will be supported.\n\n * Non HA setup / Non Pacemaker setup : The deployment will take place\nas it is currently the case in f20puppet-nonha. Nothing changes.\n\n * Non HA setup / Pacemaker setup : Even though it is a non ha setup,\ngalera cluster via pacemaker  will be deployed with a cluster nbr of 1.\n\n * HA setup / Non Pacemaker setup : N/A\n\n * HA setup / Pacemaker setup : It is assumed that HA setup will\nalways be with pacemaker.  So in this situation pacemaker will deploy a\ncluster of 3 galera master nodes.\n\nChange-Id: If0c37a86fa8b5aa6d452129bccf7341a3a3ba667\n'}, {'number': 7, 'created': '2015-05-05 06:54:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d29731a146848b087a134792318a03ab59ffa977', 'message': 'Add Galera as a Pacemaker resource when EnablePacemaker\n\nThis commit aims to support the creation of the galera cluster via\nPacemaker. With this commit in, three use-cases will be supported.\n\n * Non HA setup / Non Pacemaker setup : The deployment will take place\nas it is currently the case in f20puppet-nonha. Nothing changes.\n\n * Non HA setup / Pacemaker setup : Even though it is a non ha setup,\ngalera cluster via pacemaker  will be deployed with a cluster nbr of 1.\n\n * HA setup / Non Pacemaker setup : N/A\n\n * HA setup / Pacemaker setup : It is assumed that HA setup will\nalways be with pacemaker.  So in this situation pacemaker will deploy a\ncluster of 3 galera master nodes.\n\nChange-Id: If0c37a86fa8b5aa6d452129bccf7341a3a3ba667\n'}, {'number': 8, 'created': '2015-05-05 06:56:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e6c0279355b439d65512a183cd254636ef2a2266', 'message': 'Add Galera as a Pacemaker resource when EnablePacemaker\n\nThis commit aims to support the creation of the galera cluster via\nPacemaker. With this commit in, three use-cases will be supported.\n\n * Non HA setup / Non Pacemaker setup : The deployment will take place\nas it is currently the case in f20puppet-nonha. Nothing changes.\n\n * Non HA setup / Pacemaker setup : Even though it is a non ha setup,\ngalera cluster via pacemaker  will be deployed with a cluster nbr of 1.\n\n * HA setup / Non Pacemaker setup : N/A\n\n * HA setup / Pacemaker setup : It is assumed that HA setup will\nalways be with pacemaker.  So in this situation pacemaker will deploy a\ncluster of 3 galera master nodes.\n\nChange-Id: If0c37a86fa8b5aa6d452129bccf7341a3a3ba667\n'}, {'number': 9, 'created': '2015-05-05 06:58:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/307e64ad40653e7ef22b2a0e047026909df5f140', 'message': 'Add Galera as a Pacemaker resource when EnablePacemaker\n\nThis commit aims to support the creation of the galera cluster via\nPacemaker. With this commit in, three use-cases will be supported.\n\n * Non HA setup / Non Pacemaker setup : The deployment will take place\nas it is currently the case in f20puppet-nonha. Nothing changes.\n\n * Non HA setup / Pacemaker setup : Even though it is a non ha setup,\ngalera cluster via pacemaker  will be deployed with a cluster nbr of 1.\n\n * HA setup / Non Pacemaker setup : N/A\n\n * HA setup / Pacemaker setup : It is assumed that HA setup will\nalways be with pacemaker.  So in this situation pacemaker will deploy a\ncluster of 3 galera master nodes.\n\nChange-Id: If0c37a86fa8b5aa6d452129bccf7341a3a3ba667\n'}, {'number': 10, 'created': '2015-05-11 10:24:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a9d915752d8e66891d673e387188c23bb61f84ec', 'message': 'Add Galera as a Pacemaker resource when EnablePacemaker\n\nThis commit aims to support the creation of the galera cluster via\nPacemaker. With this commit in, three use-cases will be supported.\n\n * Non HA setup / Non Pacemaker setup : The deployment will take place\nas it is currently the case in f20puppet-nonha. Nothing changes.\n\n * Non HA setup / Pacemaker setup : Even though it is a non ha setup,\ngalera cluster via pacemaker  will be deployed with a cluster nbr of 1.\n\n * HA setup / Non Pacemaker setup : N/A\n\n * HA setup / Pacemaker setup : It is assumed that HA setup will\nalways be with pacemaker.  So in this situation pacemaker will deploy a\ncluster of 3 galera master nodes.\n\nChange-Id: If0c37a86fa8b5aa6d452129bccf7341a3a3ba667\n'}, {'number': 11, 'created': '2015-05-11 10:33:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/262c93b28890132216f20badbe46ecc6b270e06b', 'message': 'Add Galera as a Pacemaker resource when EnablePacemaker\n\nThis commit aims to support the creation of the galera cluster via\nPacemaker. With this commit in, three use-cases will be supported.\n\n * Non HA setup / Non Pacemaker setup : The deployment will take place\nas it is currently the case in f20puppet-nonha. Nothing changes.\n\n * Non HA setup / Pacemaker setup : Even though it is a non ha setup,\ngalera cluster via pacemaker  will be deployed with a cluster nbr of 1.\n\n * HA setup / Non Pacemaker setup : N/A\n\n * HA setup / Pacemaker setup : It is assumed that HA setup will\nalways be with pacemaker.  So in this situation pacemaker will deploy a\ncluster of 3 galera master nodes.\n\nChange-Id: If0c37a86fa8b5aa6d452129bccf7341a3a3ba667\n'}, {'number': 12, 'created': '2015-05-11 12:45:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/bdf19bdacc69b5a5ab73282fdcd18ebcb72435ce', 'message': 'Add Galera as a Pacemaker resource when EnablePacemaker\n\nThis commit aims to support the creation of the galera cluster via\nPacemaker. With this commit in, three use-cases will be supported.\n\n * Non HA setup / Non Pacemaker setup : The deployment will take place\nas it is currently the case in f20puppet-nonha. Nothing changes.\n\n * Non HA setup / Pacemaker setup : Even though it is a non ha setup,\ngalera cluster via pacemaker  will be deployed with a cluster nbr of 1.\n\n * HA setup / Non Pacemaker setup : N/A\n\n * HA setup / Pacemaker setup : It is assumed that HA setup will\nalways be with pacemaker.  So in this situation pacemaker will deploy a\ncluster of 3 galera master nodes.\n\nChange-Id: If0c37a86fa8b5aa6d452129bccf7341a3a3ba667\n'}, {'number': 13, 'created': '2015-05-11 14:20:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c92ae6cc2e0b670f83b6b731712f393a984f9519', 'message': 'Add Galera as a Pacemaker resource when EnablePacemaker\n\nThis commit aims to support the creation of the galera cluster via\nPacemaker. With this commit in, three use-cases will be supported.\n\n * Non HA setup / Non Pacemaker setup : The deployment will take place\nas it is currently the case in f20puppet-nonha. Nothing changes.\n\n * Non HA setup / Pacemaker setup : Even though it is a non ha setup,\ngalera cluster via pacemaker  will be deployed with a cluster nbr of 1.\n\n * HA setup / Non Pacemaker setup : N/A\n\n * HA setup / Pacemaker setup : It is assumed that HA setup will\nalways be with pacemaker.  So in this situation pacemaker will deploy a\ncluster of 3 galera master nodes.\n\nChange-Id: If0c37a86fa8b5aa6d452129bccf7341a3a3ba667\n'}, {'number': 14, 'created': '2015-05-11 14:29:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/42d47dd1f66259dcd6346015b0f9d4ef18114d45', 'message': 'Add Galera as a Pacemaker resource when EnablePacemaker\n\nThis commit aims to support the creation of the galera cluster via\nPacemaker. With this commit in, three use-cases will be supported.\n\n * Non HA setup / Non Pacemaker setup : The deployment will take place\nas it is currently the case in f20puppet-nonha. Nothing changes.\n\n * Non HA setup / Pacemaker setup : Even though it is a non ha setup,\ngalera cluster via pacemaker  will be deployed with a cluster nbr of 1.\n\n * HA setup / Non Pacemaker setup : N/A\n\n * HA setup / Pacemaker setup : It is assumed that HA setup will\nalways be with pacemaker.  So in this situation pacemaker will deploy a\ncluster of 3 galera master nodes.\n\nChange-Id: If0c37a86fa8b5aa6d452129bccf7341a3a3ba667\n'}, {'number': 15, 'created': '2015-05-13 13:34:19.000000000', 'files': ['overcloud-without-mergepy.yaml', 'controller.yaml', 'puppet/manifests/overcloud_controller_pacemaker.pp', 'puppet/hieradata/controller.yaml', 'puppet/controller-puppet.yaml', 'puppet/all-nodes-config.yaml', 'puppet/controller-post-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/bcbe233f0dba44a95d83ab13f7ee1924eec7153f', 'message': 'Add Galera as a Pacemaker resource when EnablePacemaker\n\nThis commit aims to support the creation of the galera cluster via\nPacemaker. With this commit in, three use-cases will be supported.\n\n * Non HA setup / Non Pacemaker setup : The deployment will take place\nas it is currently the case in f20puppet-nonha. Nothing changes.\n\n * Non HA setup / Pacemaker setup : Even though it is a non ha setup,\ngalera cluster via pacemaker  will be deployed with a cluster nbr of 1.\n\n * HA setup / Non Pacemaker setup : N/A\n\n * HA setup / Pacemaker setup : It is assumed that HA setup will\nalways be with pacemaker.  So in this situation pacemaker will deploy a\ncluster of 3 galera master nodes.\n\nDepends-On: I7aed9acec11486e0f4f67e4d522727476c767d83\nChange-Id: If0c37a86fa8b5aa6d452129bccf7341a3a3ba667\n'}]",15,177765,bcbe233f0dba44a95d83ab13f7ee1924eec7153f,89,10,15,9410,,,0,"Add Galera as a Pacemaker resource when EnablePacemaker

This commit aims to support the creation of the galera cluster via
Pacemaker. With this commit in, three use-cases will be supported.

 * Non HA setup / Non Pacemaker setup : The deployment will take place
as it is currently the case in f20puppet-nonha. Nothing changes.

 * Non HA setup / Pacemaker setup : Even though it is a non ha setup,
galera cluster via pacemaker  will be deployed with a cluster nbr of 1.

 * HA setup / Non Pacemaker setup : N/A

 * HA setup / Pacemaker setup : It is assumed that HA setup will
always be with pacemaker.  So in this situation pacemaker will deploy a
cluster of 3 galera master nodes.

Depends-On: I7aed9acec11486e0f4f67e4d522727476c767d83
Change-Id: If0c37a86fa8b5aa6d452129bccf7341a3a3ba667
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/65/177765/9 && git format-patch -1 --stdout FETCH_HEAD,"['overcloud-without-mergepy.yaml', 'puppet/manifests/overcloud_controller.pp', 'puppet/controller-puppet.yaml']",3,164a3a3311337e59c09403634b333d324b685b64,pacemaker, MysqlClustercheckPassword: type: string hidden: true default: '' # Has to be here because of the ignored empty value bug mysql_clustercheck_password: {get_param: MysqlClustercheckPassword} mysql_clustercheck_password: {get_input: mysql_clustercheck_password},,93,5
openstack%2Ftripleo-ci~master~I7aed9acec11486e0f4f67e4d522727476c767d83,openstack/tripleo-ci,master,I7aed9acec11486e0f4f67e4d522727476c767d83,Fix path issue to controller-config-pacemaker,MERGED,2015-05-13 07:00:20.000000000,2015-05-13 16:50:30.000000000,2015-05-13 16:50:29.000000000,"[{'_account_id': 3}, {'_account_id': 360}, {'_account_id': 4328}, {'_account_id': 6796}, {'_account_id': 6928}, {'_account_id': 8042}, {'_account_id': 8399}, {'_account_id': 8449}, {'_account_id': 9410}]","[{'number': 1, 'created': '2015-05-13 07:00:20.000000000', 'files': ['toci_gate_test.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/595a5ef1c7eabcab9b27ef9593a085ff5d515795', 'message': 'Fix path issue to controller-config-pacemaker\n\nCurrently the CI is failing with: Could not fetch contents for\nfile:///opt/stack/new/puppet/controller-config-pacemaker.yaml; when\nrunning heat stack-create. Fixing the path of the overcloud-ha.yaml\nfile to fix this.\n\nChange-Id: I7aed9acec11486e0f4f67e4d522727476c767d83\n'}]",0,182553,595a5ef1c7eabcab9b27ef9593a085ff5d515795,24,9,1,9410,,,0,"Fix path issue to controller-config-pacemaker

Currently the CI is failing with: Could not fetch contents for
file:///opt/stack/new/puppet/controller-config-pacemaker.yaml; when
running heat stack-create. Fixing the path of the overcloud-ha.yaml
file to fix this.

Change-Id: I7aed9acec11486e0f4f67e4d522727476c767d83
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/53/182553/1 && git format-patch -1 --stdout FETCH_HEAD,['toci_gate_test.sh'],1,595a5ef1c7eabcab9b27ef9593a085ff5d515795,fix_path, export OVERCLOUD_CUSTOM_HEAT_ENV=/opt/stack/new/tripleo-heat-templates/overcloud-ha.yaml, export OVERCLOUD_CUSTOM_HEAT_ENV=/opt/stack/new/overcloud-ha.yaml,1,1
openstack%2Fopenstacksdk~master~I2651d7e01b0067865d623dcda3b9b0f6bd43101b,openstack/openstacksdk,master,I2651d7e01b0067865d623dcda3b9b0f6bd43101b,Proxy get method,MERGED,2015-03-13 21:28:43.000000000,2015-05-13 16:47:55.000000000,2015-05-13 16:47:55.000000000,"[{'_account_id': 3}, {'_account_id': 1112}, {'_account_id': 8257}, {'_account_id': 8736}, {'_account_id': 12000}, {'_account_id': 12807}]","[{'number': 1, 'created': '2015-03-13 21:28:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/7aaf2c4950da6c7d4886fd9d02131df36b11b272', 'message': ""Proxy get method\n\nThis change introduces a common get API that can be applied to every\nproxy method that revolves around getting a single resource. This\nchange applies the API only to the retrieval of one server.\n\nThe method takes either a resource or an ID and calls get on the\ncorresponding resource, after obtaining the canonical ID for that value\nout of Resource.get_id.\n\nSince this temporarily involves two separate proxy get APIs, I've\ncalled the test verify_get2. When we apply it everywhere in a mass\nchange, we will go back to one test.\n\nNote that as this API operates on only a resource or an ID, it works the\nsame way the delete API does in https://review.openstack.org/#/c/164310/\n\nChange-Id: I2651d7e01b0067865d623dcda3b9b0f6bd43101b\n""}, {'number': 2, 'created': '2015-03-19 19:19:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/ce49252a876a04386341c0c3483d245e8af58607', 'message': ""Proxy get method\n\nThis change introduces a common get API that can be applied to every\nproxy method that revolves around get a single resource. In particular,\nthe change applies that base method to getting a single server.\n\nThe method takes either a resource or an ID and calls get on the\ncorresponding resource, after obtaining the canonical ID for that value\nout of Resource.get_id. Additionally, a decorator has been added that\nchecks if resources that are passed to it are of the appropriate type\nfor that operation. For example, this will raise ValueError if you try\nto call get_server with a flavor, rather than making the call to the\nflavor's ID and having a potentially misleading ResourceNotFound\nexception.\n\nAdditionally, in conjunction with the by_name parameter, we can try to\nreturn *the* resource with that name. This works by using that\nresource's list method, e.g., the currently named list_servers, with\nquery arguments to narrow down the results to hopefully one value. If\nno resources match that name, ResourceNotFound is raised. If more\nthan one resource matches that name, DuplicateResource is raised. If\ncaller are expecting multiple resources, they should use the appropriate\nlist call, e.g., list_servers.\n\nBecause a get by_name=True search through the list resource returns\na generator, we need to consume that generator to get the potential\nsingle resource out to be returned, or raise as appropriate.\nBaseProxy._get_unique_resource was added to handle this. Because of the\ndifferences in what list calls accept, along with some of the list calls\nhaving detailed and plain resources, e.g., Server and ServerDetail, we\ndo have to have some minimal logic in the proxy that can't be in the\nbase. This method contains as much as is generically applicable to solve\nthe problem.\n\nNote: a combination of this change plus expanded coverage of query\nargument support in the list calls, which will be handled as part of\nunifying the list APIs, removes the need for Resource.find.\n\nNote 2: as with the delete change, there is a temporary verify_get2 test\nmethod here to work with this API, which will become the one verify\nafter applying this everywhere.\n\nChange-Id: I2651d7e01b0067865d623dcda3b9b0f6bd43101b\n""}, {'number': 3, 'created': '2015-03-24 15:32:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/3ae4772d670170703d41373216586c2b4b498f40', 'message': ""Proxy get method\n\nThis change introduces a common get API that can be applied to every\nproxy method that revolves around get a single resource. In particular,\nthe change applies that base method to getting a single server.\n\nThe method takes either a resource or an ID and calls get on the\ncorresponding resource, after obtaining the canonical ID for that value\nout of Resource.get_id. The ID is passed to the _check_resource\ndecorator so we're only making the get call on the appropriate type of\nresource, if given. When given a string ID, we have to try it.\n\nAdditionally, in conjunction with the by_name parameter, we can try to\nreturn *the* resource with that name. This works by using that\nresource's list method, e.g., the currently named list_servers, with\nquery arguments to narrow down the results to hopefully one value. If\nno resources match that name, ResourceNotFound is raised. If more\nthan one resource matches that name, DuplicateResource is raised. If\ncaller are expecting multiple resources, they should use the appropriate\nlist call, e.g., list_servers.\n\nBecause a get by_name=True search through the list resource returns\na generator, we need to consume that generator to get the potential\nsingle resource out to be returned, or raise as appropriate.\nBaseProxy._get_unique_resource was added to handle this. Because of the\ndifferences in what list calls accept, along with some of the list calls\nhaving detailed and plain resources, e.g., Server and ServerDetail, we\ndo have to have some minimal logic in the proxy that can't be in the\nbase. This method contains as much as is generically applicable to solve\nthe problem.\n\nNote: a combination of this change plus expanded coverage of query\nargument support in the list calls, which will be handled as part of\nunifying the list APIs, removes the need for Resource.find.\n\nNote 2: as with the delete change, there is a temporary verify_get2 test\nmethod here to work with this API, which will become the one verify\nafter applying this everywhere.\n\nChange-Id: I2651d7e01b0067865d623dcda3b9b0f6bd43101b\n""}, {'number': 4, 'created': '2015-03-26 19:27:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/942aad8646587616230c3bef3556d0b81ff015b0', 'message': ""Proxy get method\n\nThis change introduces a common get API that can be applied to every\nproxy method that revolves around get a single resource. In particular,\nthe change applies that base method to getting a single server.\n\nThe method takes either a resource or an ID and calls get on the\ncorresponding resource, after obtaining the canonical ID for that value\nout of Resource.get_id. The ID is passed to the _check_resource\ndecorator so we're only making the get call on the appropriate type of\nresource, if given. When given a string ID, we have to try it.\n\nAdditionally, in conjunction with the by_name parameter, we can try to\nreturn *the* resource with that name. This works by using that\nresource's list method, e.g., the currently named list_servers, with\nquery arguments to narrow down the results to hopefully one value. If\nno resources match that name, ResourceNotFound is raised. If more\nthan one resource matches that name, DuplicateResource is raised. If\ncaller are expecting multiple resources, they should use the appropriate\nlist call, e.g., list_servers.\n\nBecause a get by_name=True search through the list resource returns\na generator, we need to consume that generator to get the potential\nsingle resource out to be returned, or raise as appropriate.\nBaseProxy._get_unique_resource was added to handle this. Because of the\ndifferences in what list calls accept, along with some of the list calls\nhaving detailed and plain resources, e.g., Server and ServerDetail, we\ndo have to have some minimal logic in the proxy that can't be in the\nbase. This method contains as much as is generically applicable to solve\nthe problem.\n\nNote: a combination of this change plus expanded coverage of query\nargument support in the list calls, which will be handled as part of\nunifying the list APIs, removes the need for Resource.find.\n\nNote 2: as with the delete change, there is a temporary verify_get2 test\nmethod here to work with this API, which will become the one verify\nafter applying this everywhere.\n\nChange-Id: I2651d7e01b0067865d623dcda3b9b0f6bd43101b\n""}, {'number': 5, 'created': '2015-03-26 19:43:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/96b04a60afac9ece84abafc36ad6c55f72e1e701', 'message': ""Proxy get method\n\nThis change introduces a common get API that can be applied to every\nproxy method that revolves around get a single resource. In particular,\nthe change applies that base method to getting a single server.\n\nThe method takes either a resource or an ID and calls get on the\ncorresponding resource, after obtaining the canonical ID for that value\nout of Resource.get_id. The ID is passed to the _check_resource\ndecorator so we're only making the get call on the appropriate type of\nresource, if given. When given a string ID, we have to try it.\n\nAdditionally, in conjunction with the by_name parameter, we can try to\nreturn *the* resource with that name. This works by using that\nresource's list method, e.g., the currently named list_servers, with\nquery arguments to narrow down the results to hopefully one value. If\nno resources match that name, ResourceNotFound is raised. If more\nthan one resource matches that name, DuplicateResource is raised. If\ncaller are expecting multiple resources, they should use the appropriate\nlist call, e.g., list_servers.\n\nBecause a get by_name=True search through the list resource returns\na generator, we need to consume that generator to get the potential\nsingle resource out to be returned, or raise as appropriate.\nBaseProxy._get_unique_resource was added to handle this. Because of the\ndifferences in what list calls accept, along with some of the list calls\nhaving detailed and plain resources, e.g., Server and ServerDetail, we\ndo have to have some minimal logic in the proxy that can't be in the\nbase. This method contains as much as is generically applicable to solve\nthe problem.\n\nNote: a combination of this change plus expanded coverage of query\nargument support in the list calls, which will be handled as part of\nunifying the list APIs, removes the need for Resource.find.\n\nNote 2: as with the delete change, there is a temporary verify_get2 test\nmethod here to work with this API, which will become the one verify\nafter applying this everywhere.\n\nChange-Id: I2651d7e01b0067865d623dcda3b9b0f6bd43101b\n""}, {'number': 6, 'created': '2015-03-26 21:21:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/4c38b20aca523011e19bd33b010a8c318a899693', 'message': ""Proxy get method\n\nThis change introduces a common get API that can be applied to every\nproxy method that revolves around get a single resource. In particular,\nthe change applies that base method to getting a single server.\n\nThe method takes either a resource or an ID and calls get on the\ncorresponding resource, after obtaining the canonical ID for that value\nout of Resource.get_id. The ID is passed to the _check_resource\ndecorator so we're only making the get call on the appropriate type of\nresource, if given. When given a string ID, we have to try it.\n\nAdditionally, in conjunction with the by_name parameter, we can try to\nreturn *the* resource with that name. This works by using that\nresource's list method, e.g., the currently named list_servers, with\nquery arguments to narrow down the results to hopefully one value. If\nno resources match that name, ResourceNotFound is raised. If more\nthan one resource matches that name, DuplicateResource is raised. If\ncaller are expecting multiple resources, they should use the appropriate\nlist call, e.g., list_servers.\n\nBecause a get by_name=True search through the list resource returns\na generator, we need to consume that generator to get the potential\nsingle resource out to be returned, or raise as appropriate.\nBaseProxy._get_unique_resource was added to handle this. Because of the\ndifferences in what list calls accept, along with some of the list calls\nhaving detailed and plain resources, e.g., Server and ServerDetail, we\ndo have to have some minimal logic in the proxy that can't be in the\nbase. This method contains as much as is generically applicable to solve\nthe problem.\n\nNote: a combination of this change plus expanded coverage of query\nargument support in the list calls, which will be handled as part of\nunifying the list APIs, removes the need for Resource.find.\n\nNote 2: as with the delete change, there is a temporary verify_get2 test\nmethod here to work with this API, which will become the one verify\nafter applying this everywhere.\n\nChange-Id: I2651d7e01b0067865d623dcda3b9b0f6bd43101b\n""}, {'number': 7, 'created': '2015-03-27 15:20:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/e698469925e4f9040a06301fa01a33aca8d64bcb', 'message': ""Proxy get method\n\nThis change introduces a common get API that can be applied to every\nproxy method that revolves around get a single resource. In particular,\nthe change applies that base method to getting a single server.\n\nThe method takes either a resource or an ID and calls get on the\ncorresponding resource, after obtaining the canonical ID for that value\nout of Resource.get_id. The ID is passed to the _check_resource\ndecorator so we're only making the get call on the appropriate type of\nresource, if given. When given a string ID, we have to try it.\n\nAdditionally, in conjunction with the by_name parameter, we can try to\nreturn *the* resource with that name. This works by using that\nresource's list method, e.g., the currently named list_servers, with\nquery arguments to narrow down the results to hopefully one value. If\nno resources match that name, ResourceNotFound is raised. If more\nthan one resource matches that name, DuplicateResource is raised. If\ncaller are expecting multiple resources, they should use the appropriate\nlist call, e.g., list_servers.\n\nBecause a get by_name=True search through the list resource returns\na generator, we need to consume that generator to get the potential\nsingle resource out to be returned, or raise as appropriate.\nBaseProxy._get_unique_resource was added to handle this. Because of the\ndifferences in what list calls accept, along with some of the list calls\nhaving detailed and plain resources, e.g., Server and ServerDetail, we\ndo have to have some minimal logic in the proxy that can't be in the\nbase. This method contains as much as is generically applicable to solve\nthe problem.\n\nNote: a combination of this change plus expanded coverage of query\nargument support in the list calls, which will be handled as part of\nunifying the list APIs, removes the need for Resource.find.\n\nNote 2: as with the delete change, there is a temporary verify_get2 test\nmethod here to work with this API, which will become the one verify\nafter applying this everywhere.\n\nChange-Id: I2651d7e01b0067865d623dcda3b9b0f6bd43101b\n""}, {'number': 8, 'created': '2015-03-27 17:42:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/290cf81d364de7acc2d80d63662157415d9c5e47', 'message': ""Proxy get method\n\nThis change introduces a common get API that can be applied to every\nproxy method that revolves around get a single resource. In particular,\nthe change applies that base method to getting a single server.\n\nThe method takes either a resource or an ID and calls get on the\ncorresponding resource, after obtaining the canonical ID for that value\nout of Resource.get_id. The ID is passed to the _check_resource\ndecorator so we're only making the get call on the appropriate type of\nresource, if given. When given a string ID, we have to try it.\n\nAdditionally, in conjunction with the by_name parameter, we can try to\nreturn *the* resource with that name. This works by using that\nresource's list method, e.g., the currently named list_servers, with\nquery arguments to narrow down the results to hopefully one value. If\nno resources match that name, ResourceNotFound is raised. If more\nthan one resource matches that name, DuplicateResource is raised. If\ncaller are expecting multiple resources, they should use the appropriate\nlist call, e.g., list_servers.\n\nBecause a get by_name=True search through the list resource returns\na generator, we need to consume that generator to get the potential\nsingle resource out to be returned, or raise as appropriate.\nBaseProxy._get_unique_resource was added to handle this. Because of the\ndifferences in what list calls accept, along with some of the list calls\nhaving detailed and plain resources, e.g., Server and ServerDetail, we\ndo have to have some minimal logic in the proxy that can't be in the\nbase. This method contains as much as is generically applicable to solve\nthe problem.\n\nNote: a combination of this change plus expanded coverage of query\nargument support in the list calls, which will be handled as part of\nunifying the list APIs, removes the need for Resource.find.\n\nNote 2: as with the delete change, there is a temporary verify_get2 test\nmethod here to work with this API, which will become the one verify\nafter applying this everywhere.\n\nChange-Id: I2651d7e01b0067865d623dcda3b9b0f6bd43101b\n""}, {'number': 9, 'created': '2015-03-27 17:59:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/bcf9f35350e39b66e53d3b6ace7664b2901db37f', 'message': ""Proxy get method\n\nThis change introduces a common get API that can be applied to every\nproxy method that revolves around get a single resource. In particular,\nthe change applies that base method to getting a single server.\n\nThe method takes either a resource or an ID and calls get on the\ncorresponding resource, after obtaining the canonical ID for that value\nout of Resource.get_id. The ID is passed to the _check_resource\ndecorator so we're only making the get call on the appropriate type of\nresource, if given. When given a string ID, we have to try it.\n\nAdditionally, in conjunction with the by_name parameter, we can try to\nreturn *the* resource with that name. This works by using that\nresource's list method, e.g., the currently named list_servers, with\nquery arguments to narrow down the results to hopefully one value. If\nno resources match that name, ResourceNotFound is raised. If more\nthan one resource matches that name, DuplicateResource is raised. If\ncaller are expecting multiple resources, they should use the appropriate\nlist call, e.g., list_servers.\n\nBecause a get by_name=True search through the list resource returns\na generator, we need to consume that generator to get the potential\nsingle resource out to be returned, or raise as appropriate.\nBaseProxy._get_unique_resource was added to handle this. Because of the\ndifferences in what list calls accept, along with some of the list calls\nhaving detailed and plain resources, e.g., Server and ServerDetail, we\ndo have to have some minimal logic in the proxy that can't be in the\nbase. This method contains as much as is generically applicable to solve\nthe problem.\n\nNote: a combination of this change plus expanded coverage of query\nargument support in the list calls, which will be handled as part of\nunifying the list APIs, removes the need for Resource.find.\n\nNote 2: as with the delete change, there is a temporary verify_get2 test\nmethod here to work with this API, which will become the one verify\nafter applying this everywhere.\n\nChange-Id: I2651d7e01b0067865d623dcda3b9b0f6bd43101b\n""}, {'number': 10, 'created': '2015-04-03 17:37:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/c096db36c19b3d4043509b8ab6a3728da8922e30', 'message': ""Proxy get method\n\nThis change introduces a common get API that can be applied to every\nproxy method that revolves around get a single resource. In particular,\nthe change applies that base method to getting a single server.\n\nThe method takes either a resource or an ID and calls get on the\ncorresponding resource, after obtaining the canonical ID for that value\nout of Resource.get_id. The ID is passed to the _check_resource\ndecorator so we're only making the get call on the appropriate type of\nresource, if given. When given a string ID, we have to try it.\n\nAdditionally, in conjunction with the by_name parameter, we can try to\nreturn *the* resource with that name. This works by using that\nresource's list method, e.g., the currently named list_servers, with\nquery arguments to narrow down the results to hopefully one value. If\nno resources match that name, ResourceNotFound is raised. If more\nthan one resource matches that name, DuplicateResource is raised. If\ncaller are expecting multiple resources, they should use the appropriate\nlist call, e.g., list_servers.\n\nBecause a get by_name=True search through the list resource returns\na generator, we need to consume that generator to get the potential\nsingle resource out to be returned, or raise as appropriate.\nBaseProxy._get_unique_resource was added to handle this. Because of the\ndifferences in what list calls accept, along with some of the list calls\nhaving detailed and plain resources, e.g., Server and ServerDetail, we\ndo have to have some minimal logic in the proxy that can't be in the\nbase. This method contains as much as is generically applicable to solve\nthe problem.\n\nNote: a combination of this change plus expanded coverage of query\nargument support in the list calls, which will be handled as part of\nunifying the list APIs, removes the need for Resource.find.\n\nNote 2: as with the delete change, there is a temporary verify_get2 test\nmethod here to work with this API, which will become the one verify\nafter applying this everywhere.\n\nChange-Id: I2651d7e01b0067865d623dcda3b9b0f6bd43101b\n""}, {'number': 11, 'created': '2015-04-20 19:52:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/4de86534babee0fca88dd9fca63f4c0ebfa057d0', 'message': ""Proxy get method\n\nThis change introduces a common get API that can be applied to every\nproxy method that revolves around get a single resource. In particular,\nthe change applies that base method to getting a single server.\n\nThe method takes either a resource or an ID and calls get on the\ncorresponding resource, after obtaining the canonical ID for that value\nout of Resource.get_id. The ID is passed to the _check_resource\ndecorator so we're only making the get call on the appropriate type of\nresource, if given. When given a string ID, we have to try it.\n\nAdditionally, in conjunction with the by_name parameter, we can try to\nreturn *the* resource with that name. This works by using that\nresource's list method, e.g., the currently named list_servers, with\nquery arguments to narrow down the results to hopefully one value. If\nno resources match that name, ResourceNotFound is raised. If more\nthan one resource matches that name, DuplicateResource is raised. If\ncaller are expecting multiple resources, they should use the appropriate\nlist call, e.g., list_servers.\n\nBecause a get by_name=True search through the list resource returns\na generator, we need to consume that generator to get the potential\nsingle resource out to be returned, or raise as appropriate.\nBaseProxy._get_unique_resource was added to handle this. Because of the\ndifferences in what list calls accept, along with some of the list calls\nhaving detailed and plain resources, e.g., Server and ServerDetail, we\ndo have to have some minimal logic in the proxy that can't be in the\nbase. This method contains as much as is generically applicable to solve\nthe problem.\n\nNote: a combination of this change plus expanded coverage of query\nargument support in the list calls, which will be handled as part of\nunifying the list APIs, removes the need for Resource.find.\n\nNote 2: as with the delete change, there is a temporary verify_get2 test\nmethod here to work with this API, which will become the one verify\nafter applying this everywhere.\n\nChange-Id: I2651d7e01b0067865d623dcda3b9b0f6bd43101b\n""}, {'number': 12, 'created': '2015-04-28 17:50:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/ddb9f1ab2acec9ad8bcf80710c3f6029efb210e0', 'message': ""Proxy get method\n\nThis change introduces a common get API that can be applied to every\nproxy method that revolves around get a single resource. In particular,\nthe change applies that base method to getting a single server.\n\nThe method takes either a resource or an ID and calls get on the\ncorresponding resource, after obtaining the canonical ID for that value\nout of Resource.get_id. The ID is passed to the _check_resource\ndecorator so we're only making the get call on the appropriate type of\nresource, if given. When given a string ID, we have to try it.\n\nAdditionally, in conjunction with the by_name parameter, we can try to\nreturn *the* resource with that name. This works by using that\nresource's list method, e.g., the currently named list_servers, with\nquery arguments to narrow down the results to hopefully one value. If\nno resources match that name, ResourceNotFound is raised. If more\nthan one resource matches that name, DuplicateResource is raised. If\ncaller are expecting multiple resources, they should use the appropriate\nlist call, e.g., list_servers.\n\nBecause a get by_name=True search through the list resource returns\na generator, we need to consume that generator to get the potential\nsingle resource out to be returned, or raise as appropriate.\nBaseProxy._get_unique_resource was added to handle this. Because of the\ndifferences in what list calls accept, along with some of the list calls\nhaving detailed and plain resources, e.g., Server and ServerDetail, we\ndo have to have some minimal logic in the proxy that can't be in the\nbase. This method contains as much as is generically applicable to solve\nthe problem.\n\nNote: a combination of this change plus expanded coverage of query\nargument support in the list calls, which will be handled as part of\nunifying the list APIs, removes the need for Resource.find.\n\nNote 2: as with the delete change, there is a temporary verify_get2 test\nmethod here to work with this API, which will become the one verify\nafter applying this everywhere.\n\nChange-Id: I2651d7e01b0067865d623dcda3b9b0f6bd43101b\n""}, {'number': 13, 'created': '2015-05-12 20:59:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/b2f281e3283d903517cdf880fa5d37fa3910aeed', 'message': ""Proxy get method\n\nThis change introduces a common get API that can be applied to every\nproxy method that revolves around get a single resource. In particular,\nthe change applies that base method to getting a single server.\n\nThe method takes either a resource or an ID and calls `get` on the\ncorresponding resource, after obtaining the canonical ID for that value\nout of Resource.get_id. The ID is passed to the _check_resource\ndecorator so we're only making the get call on the appropriate type of\nresource, if given. When given a string ID, we have to try it.\n\nChange-Id: I2651d7e01b0067865d623dcda3b9b0f6bd43101b\n""}, {'number': 14, 'created': '2015-05-13 00:29:45.000000000', 'files': ['openstack/tests/unit/compute/v2/test_proxy.py', 'openstack/proxy.py', 'openstack/tests/unit/test_proxy_base.py', 'openstack/tests/unit/test_proxy.py', 'openstack/compute/v2/_proxy.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/6e756175caf6aaf7ef621de4b729de71f9a79b1f', 'message': ""Proxy get method\n\nThis change introduces a common get API that can be applied to every\nproxy method that revolves around get a single resource. In particular,\nthe change applies that base method to getting a single server.\n\nThe method takes either a resource or an ID and calls `get` on the\ncorresponding resource, after obtaining the canonical ID for that value\nout of Resource.get_id. The ID is passed to the _check_resource\ndecorator so we're only making the get call on the appropriate type of\nresource, if given. When given a string ID, we have to try it.\n\nChange-Id: I2651d7e01b0067865d623dcda3b9b0f6bd43101b\n""}]",17,164351,6e756175caf6aaf7ef621de4b729de71f9a79b1f,44,6,14,8257,,,0,"Proxy get method

This change introduces a common get API that can be applied to every
proxy method that revolves around get a single resource. In particular,
the change applies that base method to getting a single server.

The method takes either a resource or an ID and calls `get` on the
corresponding resource, after obtaining the canonical ID for that value
out of Resource.get_id. The ID is passed to the _check_resource
decorator so we're only making the get call on the appropriate type of
resource, if given. When given a string ID, we have to try it.

Change-Id: I2651d7e01b0067865d623dcda3b9b0f6bd43101b
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/51/164351/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/tests/compute/v2/test_proxy.py', 'openstack/proxy.py', 'openstack/tests/test_proxy.py', 'openstack/compute/v2/_proxy.py', 'openstack/tests/test_proxy_base.py']",5,7aaf2c4950da6c7d4886fd9d02131df36b11b272,common_get_method," def verify_get2(self, mock_method, test_method, **kwargs): self._verify(mock_method, test_method, method_args=[""resource_or_id""], expected_result=""result"", **kwargs) ",,68,4
openstack%2Fshade~master~Iba1a87fee10ba5e5f6d7ea1e70632c47fd67275c,openstack/shade,master,Iba1a87fee10ba5e5f6d7ea1e70632c47fd67275c,Don't error on missing certs,MERGED,2015-05-12 22:49:27.000000000,2015-05-13 16:45:04.000000000,2015-05-13 16:45:01.000000000,"[{'_account_id': 3}, {'_account_id': 3099}, {'_account_id': 4146}, {'_account_id': 5263}, {'_account_id': 6133}, {'_account_id': 10035}]","[{'number': 1, 'created': '2015-05-12 22:49:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/shade/commit/5021fb32050b782d57f8cdd9dc150c5203041317', 'message': ""Don't error on missing certs when not https\n\nIf we're not using https, don't throw errors if cert files don't exist.\n\nChange-Id: Iba1a87fee10ba5e5f6d7ea1e70632c47fd67275c\n""}, {'number': 2, 'created': '2015-05-12 22:55:32.000000000', 'files': ['shade/__init__.py'], 'web_link': 'https://opendev.org/openstack/shade/commit/9bcf25973899238132f1795fede2bb9a8376f5c8', 'message': ""Don't error on missing certs\n\nWe were trying to be too helpful. The underlying libraries do the right\nthing here.\n\nChange-Id: Iba1a87fee10ba5e5f6d7ea1e70632c47fd67275c\n""}]",2,182488,9bcf25973899238132f1795fede2bb9a8376f5c8,13,6,2,2,,,0,"Don't error on missing certs

We were trying to be too helpful. The underlying libraries do the right
thing here.

Change-Id: Iba1a87fee10ba5e5f6d7ea1e70632c47fd67275c
",git fetch https://review.opendev.org/openstack/shade refs/changes/88/182488/2 && git format-patch -1 --stdout FETCH_HEAD,['shade/__init__.py'],1,5021fb32050b782d57f8cdd9dc150c5203041317,,"def _ssl_args(verify, cacert, cert, key, auth): use_https = 'auth_url' in auth and auth['aurl_url'].startswith('https') if cacert: if not os.path.exists(cacert) and use_https: if not os.path.exists(cert) and use_https: if not os.path.exists(key) and use_https: (self.verify, self.cert) = _ssl_args(verify, cacert, cert, key, auth)","def _ssl_args(verify, cacert, cert, key): if cacert: if not os.path.exists(cacert): if not os.path.exists(cert): if not os.path.exists(key): (self.verify, self.cert) = _ssl_args(verify, cacert, cert, key)",6,5
openstack%2Fshade~master~I1b452509c3c755ad8c5bb9dff30c54d01dd16205,openstack/shade,master,I1b452509c3c755ad8c5bb9dff30c54d01dd16205,Remove fallback from get_service_vales,ABANDONED,2015-05-09 14:22:39.000000000,2015-05-13 16:41:43.000000000,,"[{'_account_id': 3}, {'_account_id': 10035}]","[{'number': 1, 'created': '2015-05-09 14:22:39.000000000', 'files': ['requirements.txt', 'shade/__init__.py'], 'web_link': 'https://opendev.org/openstack/shade/commit/640a91d970a178127bb13e4b0400b33332042b72', 'message': 'Remove fallback from get_service_vales\n\nOnce os_client_config release 0.8.3, we can remove the fallback and\ndepend on 0.8.3.\n\nChange-Id: I1b452509c3c755ad8c5bb9dff30c54d01dd16205\n'}]",0,181654,640a91d970a178127bb13e4b0400b33332042b72,3,2,1,2,,,0,"Remove fallback from get_service_vales

Once os_client_config release 0.8.3, we can remove the fallback and
depend on 0.8.3.

Change-Id: I1b452509c3c755ad8c5bb9dff30c54d01dd16205
",git fetch https://review.opendev.org/openstack/shade refs/changes/54/181654/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'shade/__init__.py']",2,640a91d970a178127bb13e4b0400b33332042b72,api-versions, values = os_client_config.defaults.get_defaults()," try: values = os_client_config.defaults.get_defaults() except Exception: # For backwards compat - we'll remove this once os_client_config # has released values = dict( auth_type='password', baremetal_api_version='1', compute_api_version='2', database_api_version='1.0', floating_ip_source='neutron', identity_api_version='2', image_api_use_tasks=False, image_api_version='1', network_api_version='2', object_api_version='1', volume_api_version='1', )",2,19
openstack%2Fmurano-dashboard~stable%2Fkilo~Ifb29057a0b473eec4c2e61b247892fb7108ee1eb,openstack/murano-dashboard,stable/kilo,Ifb29057a0b473eec4c2e61b247892fb7108ee1eb,Set correct version in stable/kilo metadata,MERGED,2015-05-12 10:49:25.000000000,2015-05-13 16:35:25.000000000,2015-05-13 16:35:24.000000000,"[{'_account_id': 3}, {'_account_id': 7225}, {'_account_id': 7549}, {'_account_id': 7821}]","[{'number': 1, 'created': '2015-05-12 10:49:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano-dashboard/commit/cb8dd1ac68944ce7c1b467964289ae63c717d239', 'message': 'Set correct version in stable/kilo metadata\n\nChange-Id: Ifb29057a0b473eec4c2e61b247892fb7108ee1eb\n'}, {'number': 2, 'created': '2015-05-12 17:16:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano-dashboard/commit/df5ddf361d28f6af997adbc655247475745ba5e1', 'message': 'Set correct version in stable/kilo metadata\n\nChange-Id: Ifb29057a0b473eec4c2e61b247892fb7108ee1eb\nDepends-On: Ic59f91ff541f2dac25d911dedfb7028c0ac4b516\n'}, {'number': 3, 'created': '2015-05-13 15:09:26.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/murano-dashboard/commit/f57986e3fc3ac9c343abc8c5a14d11c424b371ca', 'message': 'Set correct version in stable/kilo metadata\n\n\nChange-Id: Ifb29057a0b473eec4c2e61b247892fb7108ee1eb\nDepends-On: Ic59f91ff541f2dac25d911dedfb7028c0ac4b516\n'}]",0,182231,f57986e3fc3ac9c343abc8c5a14d11c424b371ca,17,4,3,15168,,,0,"Set correct version in stable/kilo metadata


Change-Id: Ifb29057a0b473eec4c2e61b247892fb7108ee1eb
Depends-On: Ic59f91ff541f2dac25d911dedfb7028c0ac4b516
",git fetch https://review.opendev.org/openstack/murano-dashboard refs/changes/31/182231/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,cb8dd1ac68944ce7c1b467964289ae63c717d239,,version = 2015.1.1,version = 2015.2,1,1
openstack%2Fos-client-config~master~I7338ae1d0442e0c5cc1ec4ae4d619fac319a4a28,openstack/os-client-config,master,I7338ae1d0442e0c5cc1ec4ae4d619fac319a4a28,Use appdirs for platform-independent locations,MERGED,2015-05-11 20:34:09.000000000,2015-05-13 16:34:02.000000000,2015-05-13 16:34:00.000000000,"[{'_account_id': 2}, {'_account_id': 3}, {'_account_id': 970}, {'_account_id': 3099}, {'_account_id': 8736}]","[{'number': 1, 'created': '2015-05-11 20:34:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-client-config/commit/40dd56244024529a80245e54bd4012ec15bea58a', 'message': ""Use appdirs for platform-independent locations\n\nCache, data and config files live rooted in different places across\ndifferent OS's. Use appdata to find where.\n\nDepends-On: Ic939dea11b7476ec504d2bf65854a0781b1bfb39\nChange-Id: I7338ae1d0442e0c5cc1ec4ae4d619fac319a4a28\n""}, {'number': 2, 'created': '2015-05-11 20:46:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-client-config/commit/2830a26f1e48624169d94d762fc7ef7870d25743', 'message': ""Use appdirs for platform-independent locations\n\nCache, data and config files live rooted in different places across\ndifferent OS's. Use appdirs to find where.\n\nDepends-On: Ic939dea11b7476ec504d2bf65854a0781b1bfb39\nChange-Id: I7338ae1d0442e0c5cc1ec4ae4d619fac319a4a28\n""}, {'number': 3, 'created': '2015-05-12 12:29:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-client-config/commit/e033f78ab9a3026a9a6465bbf19283853e28e8b6', 'message': ""Use appdirs for platform-independent locations\n\nCache, data and config files live rooted in different places across\ndifferent OS's. Use appdirs to find where.\n\nDepends-On: Ic939dea11b7476ec504d2bf65854a0781b1bfb39\nChange-Id: I7338ae1d0442e0c5cc1ec4ae4d619fac319a4a28\n""}, {'number': 4, 'created': '2015-05-12 12:36:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-client-config/commit/587eff18beb0eca9bae5f87bf970b4cce9ba99fa', 'message': ""Use appdirs for platform-independent locations\n\nCache, data and config files live rooted in different places across\ndifferent OS's. Use appdirs to find where.\n\nDepends-On: Ic939dea11b7476ec504d2bf65854a0781b1bfb39\nChange-Id: I7338ae1d0442e0c5cc1ec4ae4d619fac319a4a28\n""}, {'number': 5, 'created': '2015-05-12 14:09:28.000000000', 'files': ['os_client_config/config.py', 'requirements.txt', 'README.rst'], 'web_link': 'https://opendev.org/openstack/os-client-config/commit/4b40133e2199e11ccd5dc48c2ad60ac06d056d0a', 'message': ""Use appdirs for platform-independent locations\n\nCache, data and config files live rooted in different places across\ndifferent OS's. Use appdirs to find where.\n\nDepends-On: Ic939dea11b7476ec504d2bf65854a0781b1bfb39\nChange-Id: I7338ae1d0442e0c5cc1ec4ae4d619fac319a4a28\n""}]",0,182072,4b40133e2199e11ccd5dc48c2ad60ac06d056d0a,19,5,5,2,,,0,"Use appdirs for platform-independent locations

Cache, data and config files live rooted in different places across
different OS's. Use appdirs to find where.

Depends-On: Ic939dea11b7476ec504d2bf65854a0781b1bfb39
Change-Id: I7338ae1d0442e0c5cc1ec4ae4d619fac319a4a28
",git fetch https://review.opendev.org/openstack/os-client-config refs/changes/72/182072/4 && git format-patch -1 --stdout FETCH_HEAD,"['os_client_config/config.py', 'requirements.txt', 'README.rst']",3,40dd56244024529a80245e54bd4012ec15bea58a,,"* `USER_CONFIG_DIR` * `SITE_CONFIG_DIR``USER_CONFIG_DIR` is different on Linux, OSX and Windows. * Linux: `~/.cache/openstack` * OSX: `~/Library/Application Support/openstack` * Windows: `C:\\Users\\USERNAME\\AppData\\Local\\OpenStack\\openstack` `SITE_CONFIG_DIR` is different on Linux, OSX and Windows. * Linux: `/etc/openstack` * OSX: `/Library/Application Support/openstack` * Windows: `C:\\ProgramData\\OpenStack\\openstack` ",* ~/.config/openstack * /etc/openstack,23,10
openstack%2Fos-brick~master~Ica4c04b378d482945c3cde219cf9a5ade0151b9d,openstack/os-brick,master,Ica4c04b378d482945c3cde219cf9a5ade0151b9d,Updated from global requirements,MERGED,2015-05-07 02:20:58.000000000,2015-05-13 16:33:00.000000000,2015-05-13 16:32:59.000000000,"[{'_account_id': 3}, {'_account_id': 4523}, {'_account_id': 5997}]","[{'number': 1, 'created': '2015-05-07 02:20:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/0fb4f89bb3665b1873a78afd67da2b328f941597', 'message': 'Updated from global requirements\n\nChange-Id: Ica4c04b378d482945c3cde219cf9a5ade0151b9d\n'}, {'number': 2, 'created': '2015-05-07 23:36:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/980ab04af5865e7d69d6f31216071e107c7cdef3', 'message': 'Updated from global requirements\n\nChange-Id: Ica4c04b378d482945c3cde219cf9a5ade0151b9d\n'}, {'number': 3, 'created': '2015-05-13 15:58:23.000000000', 'files': ['requirements.txt', 'test-requirements.txt', 'setup.py'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/418a9655dd53530f52d0857f2cb7caa1440d6838', 'message': 'Updated from global requirements\n\nChange-Id: Ica4c04b378d482945c3cde219cf9a5ade0151b9d\n'}]",0,180830,418a9655dd53530f52d0857f2cb7caa1440d6838,11,3,3,11131,,,0,"Updated from global requirements

Change-Id: Ica4c04b378d482945c3cde219cf9a5ade0151b9d
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/30/180830/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'test-requirements.txt', 'setup.py']",3,0fb4f89bb3665b1873a78afd67da2b328f941597,openstack/requirements,"# In python < 2.7.4, a lazy loading of package `pbr` will break # setuptools if some other modules registered functions in `atexit`. # solution from: http://bugs.python.org/issue15881#msg170215 try: import multiprocessing # noqa except ImportError: pass ",,17,9
openstack%2Fmurano~master~Ied64e3c295bd76c77fce18873922b5440ac15423,openstack/murano,master,Ied64e3c295bd76c77fce18873922b5440ac15423,Add Examples and Use-Cases to app developer guide,MERGED,2015-05-12 14:46:27.000000000,2015-05-13 16:30:59.000000000,2015-05-13 16:30:56.000000000,"[{'_account_id': 3}, {'_account_id': 7225}, {'_account_id': 7226}, {'_account_id': 7549}, {'_account_id': 7821}, {'_account_id': 13149}, {'_account_id': 13962}, {'_account_id': 14265}, {'_account_id': 14643}, {'_account_id': 14920}, {'_account_id': 14962}]","[{'number': 1, 'created': '2015-05-12 14:46:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano/commit/bf1042e80ff642fbc7d71b406daea307ee14c14f', 'message': 'Add Examples to app developer guide\n\nChange-Id: Ied64e3c295bd76c77fce18873922b5440ac15423\n'}, {'number': 2, 'created': '2015-05-12 15:54:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano/commit/a767d9a3513c7edeb69317786c508fb930a047e7', 'message': 'Add Examples to app developer guide\n\nChange-Id: Ied64e3c295bd76c77fce18873922b5440ac15423\n'}, {'number': 3, 'created': '2015-05-12 16:10:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano/commit/4049bbd10a8a1113a1314bfba362cf8a71f95c26', 'message': 'Add Examples to app developer guide\n\nChange-Id: Ied64e3c295bd76c77fce18873922b5440ac15423\n'}, {'number': 4, 'created': '2015-05-12 17:31:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano/commit/9e9032dcee3af252f1d3a25921c3e7491d68e5aa', 'message': 'Add Examples to app developer guide\n\nChange-Id: Ied64e3c295bd76c77fce18873922b5440ac15423\n'}, {'number': 5, 'created': '2015-05-12 17:37:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano/commit/2080805c6f04caf614bae2de327dcfef7919d986', 'message': 'Add Examples and Use-Cases to app developer guide\n\nChange-Id: Ied64e3c295bd76c77fce18873922b5440ac15423\n'}, {'number': 6, 'created': '2015-05-13 11:08:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano/commit/5f2d11f58f15c0fb61e6392757839e23c926aee2', 'message': 'Add Examples and Use-Cases to app developer guide\n\nChange-Id: Ied64e3c295bd76c77fce18873922b5440ac15423\n'}, {'number': 7, 'created': '2015-05-13 11:15:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano/commit/987dcc6108ccc7adc4beac21d98bcffe691f0f60', 'message': 'Add Examples and Use-Cases to app developer guide\n\nChange-Id: Ied64e3c295bd76c77fce18873922b5440ac15423\n'}, {'number': 8, 'created': '2015-05-13 12:38:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano/commit/e07afd6b0337951254479874b40ee876232c14c9', 'message': 'Add Examples and Use-Cases to app developer guide\n\nChange-Id: Ied64e3c295bd76c77fce18873922b5440ac15423\n'}, {'number': 9, 'created': '2015-05-13 14:04:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano/commit/0438c0443b6ec617dd93c6546bebca089f481b1b', 'message': 'Add Examples and Use-Cases to app developer guide\n\nChange-Id: Ied64e3c295bd76c77fce18873922b5440ac15423\n'}, {'number': 10, 'created': '2015-05-13 14:14:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano/commit/c2868b46d219ede07e161948aab683adaf3d8bd0', 'message': 'Add Examples and Use-Cases to app developer guide\n\nChange-Id: Ied64e3c295bd76c77fce18873922b5440ac15423\n'}, {'number': 11, 'created': '2015-05-13 15:13:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano/commit/c2510838f1d13c97f97ac1874a0af4119d6c3107', 'message': 'Add Examples and Use-Cases to app developer guide\n\nChange-Id: Ied64e3c295bd76c77fce18873922b5440ac15423\n'}, {'number': 12, 'created': '2015-05-13 15:14:38.000000000', 'files': ['doc/source/draft/appdev-guide/use_cases.rst', 'doc/source/draft/appdev-guide/examples.rst'], 'web_link': 'https://opendev.org/openstack/murano/commit/914b7e58239182a2573e3fa474a6cd0497052894', 'message': 'Add Examples and Use-Cases to app developer guide\n\nChange-Id: Ied64e3c295bd76c77fce18873922b5440ac15423\n'}]",19,182331,914b7e58239182a2573e3fa474a6cd0497052894,54,11,12,7549,,,0,"Add Examples and Use-Cases to app developer guide

Change-Id: Ied64e3c295bd76c77fce18873922b5440ac15423
",git fetch https://review.opendev.org/openstack/murano refs/changes/31/182331/12 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/draft/appdev-guide/examples.rst'],1,bf1042e80ff642fbc7d71b406daea307ee14c14f,update-docs,".. _examples: .. toctree:: :maxdepth: 2 ======== Examples ======== .. _Zabbix Agent: https://github.com/openstack/murano-apps/tree/master/ZabbixAgent/package .. _Zabbix Server: https://github.com/openstack/murano-apps/tree/master/ZabbixServer/package .. _Docker Crate: https://github.com/openstack/murano-apps/tree/master/Docker/Applications/Crate/package +-------------------+----------------------------------------------------------------------------+ | Application Name | Description | +===================+============================================================================+ || || Zabbix Agent is a simple application. It doesnt deploy a VM by itself, | || || but installed on the specific VM, that may may contain any other | || || applications. This VM will be tracked by zabbix and by its configuration. | || || | || || So Murano performs zabbix agent configuration based on the user input. | || `Zabbix Agent`_ || User has to pick the way of instance tracking - HTTP or ICMP may be | | || performing some modifications into the application package. | || || | | || It worth noting, that application scripts are written in Python, not in | | || bash as usual. Note, that this application will not work without zabbix | | || server application, since its a required property, defined in application| | || definition. | +-------------------+----------------------------------------------------------------------------+ || || Zabbix Server application interacts with Zabbix Agent, by calling its | || || setUpAgent method and providing information about itself: IP and hostname | || `Zabbix Server`_ || of VM on which server is installed. Server installs MySQL database and | || || requests database name, password and some other parameters from the user. | +-------------------+----------------------------------------------------------------------------+ || || This is a good example, of how difficult logic may be simplified with | || || inheritance, that MuranoPl is supported by MuranoPl. Definition of this | || || app is simple, but the opportunity it provides - is fantastic. | || || | || || Crate is the distributed database, in Murano Application catalog it | || `Docker Crate`_ || looks like regular application. It may be deployed on Google Kubernetes | || || or regular Docker Pod. User will pick the desired option during filling | || || the form, since these options are set in the UI definition. Form field | || || has list of possible options: | || || | || | ... | || | type: | || | - io.murano.apps.docker.kubernetes.KubernetesPod | || | - io.murano.apps.docker.DockerStandaloneHost | || | | || || Information, about application itself (docker image and port, that is | || || needed to be opened) is contained in the getContainer method. All other | || || actions for configuring application is located at DockerStandaloneHost | || || definition and its dependencies. | +-------------------+----------------------------------------------------------------------------+ T ",,60,0
openstack%2Fdevstack~master~I987ab6338b235f0beeed7c7fe74b0f5b6526f70d,openstack/devstack,master,I987ab6338b235f0beeed7c7fe74b0f5b6526f70d,glance: remove deprecated store options,MERGED,2015-05-12 16:49:16.000000000,2015-05-13 16:30:54.000000000,2015-05-13 16:30:52.000000000,"[{'_account_id': 3}, {'_account_id': 970}, {'_account_id': 6159}, {'_account_id': 7118}]","[{'number': 1, 'created': '2015-05-12 16:49:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/b00041b96b5f4fb0394cd7dc93662f73c224b7ff', 'message': 'glance: remove deprecated store options\n\nglance_store has now been fully adopted, so we can remove these from the\nconfig files.\n\nChange-Id: I987ab6338b235f0beeed7c7fe74b0f5b6526f70d\n'}, {'number': 2, 'created': '2015-05-12 16:50:12.000000000', 'files': ['lib/glance'], 'web_link': 'https://opendev.org/openstack/devstack/commit/cbe12eb72eaf70001b80b0a6357cde3048cbc81f', 'message': 'glance: remove deprecated store options\n\nglance_store has now been fully migrated, so we can remove these from the\nconfig files.\n\nChange-Id: I987ab6338b235f0beeed7c7fe74b0f5b6526f70d\n'}]",0,182382,cbe12eb72eaf70001b80b0a6357cde3048cbc81f,8,4,2,11356,,,0,"glance: remove deprecated store options

glance_store has now been fully migrated, so we can remove these from the
config files.

Change-Id: I987ab6338b235f0beeed7c7fe74b0f5b6526f70d
",git fetch https://review.opendev.org/openstack/devstack refs/changes/82/182382/2 && git format-patch -1 --stdout FETCH_HEAD,['lib/glance'],1,b00041b96b5f4fb0394cd7dc93662f73c224b7ff,glance_store-functional-testing,," iniset $GLANCE_API_CONF DEFAULT filesystem_store_datadir $GLANCE_IMAGE_DIR/ # NOTE(flaper87): Until Glance is fully migrated, set these configs in both # sections. iniset $GLANCE_API_CONF DEFAULT default_store swift iniset $GLANCE_API_CONF DEFAULT swift_store_auth_address $KEYSTONE_SERVICE_URI/v2.0/ iniset $GLANCE_API_CONF DEFAULT swift_store_user $SERVICE_TENANT_NAME:glance-swift iniset $GLANCE_API_CONF DEFAULT swift_store_key $SERVICE_PASSWORD iniset $GLANCE_API_CONF DEFAULT swift_store_create_container_on_put True iniset $GLANCE_API_CONF DEFAULT known_stores ""glance.store.filesystem.Store, glance.store.http.Store, glance.store.swift.Store"" # NOTE(flaper87): Until Glance is fully migrated, set these configs in both # sections. # NOTE(flaper87): Until Glance is fully migrated, set these configs in both # sections. iniset $GLANCE_CACHE_CONF DEFAULT filesystem_store_datadir $GLANCE_IMAGE_DIR/",0,17
openstack%2Frequirements~master~Ic939dea11b7476ec504d2bf65854a0781b1bfb39,openstack/requirements,master,Ic939dea11b7476ec504d2bf65854a0781b1bfb39,Add appdirs requirement,MERGED,2015-05-11 20:11:20.000000000,2015-05-13 16:30:13.000000000,2015-05-13 16:30:10.000000000,"[{'_account_id': 2}, {'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 5263}, {'_account_id': 8125}, {'_account_id': 8871}]","[{'number': 1, 'created': '2015-05-11 20:11:20.000000000', 'files': ['global-requirements.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/ac12c5ee29d34c70b6e67d3d51d8788872d1bfd4', 'message': ""Add appdirs requirement\n\nWhat?\n- appdirs provides platform independent knowledge of appropriate\n  directories to use for applications. For instance, instead of\n  put in an env reference to XDG_ variables, you can use appdirs and get\n  not only the XDG_ dirs on linux, but the analogs on OSX and Windows.\n\nUsage?\n- os-client-config\n- python-ironicclient\n\nIs the library actively maintained?\n- Last modified Aug 2014. The company ActiveState is behind it.\n\nIs the library good code?\n- It's neither the best nor worst code I've seen. Its documented well.\n\nIs the library python 3 compatible?\n- Yes\n\nIs the library license compatible?\n- Yes, MIT licensed\n\nIs the library already packaged in the distros we target?\n- https://packages.debian.org/sid/python-appdirs\n- https://launchpad.net/ubuntu/+source/python-appdirs\n- Does *not* currently seem to exist in fedora\n\nIs the function of this library already covered by other\nlibraries in ``global-requirements.txt``?\n- No\n\nChange-Id: Ic939dea11b7476ec504d2bf65854a0781b1bfb39\n""}]",0,182061,ac12c5ee29d34c70b6e67d3d51d8788872d1bfd4,15,6,1,2,,,0,"Add appdirs requirement

What?
- appdirs provides platform independent knowledge of appropriate
  directories to use for applications. For instance, instead of
  put in an env reference to XDG_ variables, you can use appdirs and get
  not only the XDG_ dirs on linux, but the analogs on OSX and Windows.

Usage?
- os-client-config
- python-ironicclient

Is the library actively maintained?
- Last modified Aug 2014. The company ActiveState is behind it.

Is the library good code?
- It's neither the best nor worst code I've seen. Its documented well.

Is the library python 3 compatible?
- Yes

Is the library license compatible?
- Yes, MIT licensed

Is the library already packaged in the distros we target?
- https://packages.debian.org/sid/python-appdirs
- https://launchpad.net/ubuntu/+source/python-appdirs
- Does *not* currently seem to exist in fedora

Is the function of this library already covered by other
libraries in ``global-requirements.txt``?
- No

Change-Id: Ic939dea11b7476ec504d2bf65854a0781b1bfb39
",git fetch https://review.opendev.org/openstack/requirements refs/changes/61/182061/1 && git format-patch -1 --stdout FETCH_HEAD,['global-requirements.txt'],1,ac12c5ee29d34c70b6e67d3d51d8788872d1bfd4,,appdirs>=1.3.0 # MIT License,,1,0
openstack%2Ftempest~master~I5cb9979e8ba8e324efb95feec33c23238dffade5,openstack/tempest,master,I5cb9979e8ba8e324efb95feec33c23238dffade5,Fix raise syntax in test.py for python3 compat,MERGED,2015-04-23 14:49:51.000000000,2015-05-13 16:30:02.000000000,2015-05-13 16:30:01.000000000,"[{'_account_id': 3}, {'_account_id': 1921}, {'_account_id': 2750}, {'_account_id': 5196}, {'_account_id': 5803}, {'_account_id': 7020}, {'_account_id': 8556}, {'_account_id': 8871}, {'_account_id': 10385}]","[{'number': 1, 'created': '2015-04-23 14:49:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/3747c2f5d2fcd6daa6642fd9e9f8ae2fb423d7cb', 'message': 'Fix raise syntax in test.py for python3 compat\n\nThe raise syntax was changed in python3 so the usage of passing in\nthe separate components as different params to raise will not work\nwhen running on python 3. This commit updates it to use a syntax\nwhich is compatible with python3.\n\nChange-Id: I5cb9979e8ba8e324efb95feec33c23238dffade5\n'}, {'number': 2, 'created': '2015-04-23 16:00:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/818661a3d542417fd0a6dbb60fa66c36720fad97', 'message': 'Fix raise syntax in test.py for python3 compat\n\nThe raise syntax was changed in python3 so the usage of passing in\nthe separate components as different params to raise will not work\nwhen running on python 3. This commit updates it to use a syntax\nwhich is compatible with python3.\n\nChange-Id: I5cb9979e8ba8e324efb95feec33c23238dffade5\n'}, {'number': 3, 'created': '2015-04-24 14:57:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/795c14afaa21065f48cf4c23dfb81a26af2b7be1', 'message': 'Fix raise syntax in test.py for python3 compat\n\nThe raise syntax was changed in python3 so the usage of passing in\nthe separate components as different params to raise will not work\nwhen running on python 3. This commit updates it to use a syntax\nwhich is compatible with python3.\n\nChange-Id: I5cb9979e8ba8e324efb95feec33c23238dffade5\n'}, {'number': 4, 'created': '2015-04-27 14:39:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/8e5f96f199455b3207dc5ab7aaad1cc764f4a983', 'message': 'Fix raise syntax in test.py for python3 compat\n\nThe raise syntax was changed in python3 so the usage of passing in\nthe separate components as different params to raise will not work\nwhen running on python 3. This commit updates it to use a syntax\nwhich is compatible with python3.\n\nChange-Id: I5cb9979e8ba8e324efb95feec33c23238dffade5\n'}, {'number': 5, 'created': '2015-05-01 21:34:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/4ee8193725dbb66b615b4bd1862525a96d58e801', 'message': 'Fix raise syntax in test.py for python3 compat\n\nThe raise syntax was changed in python3 so the usage of passing in\nthe separate components as different params to raise will not work\nwhen running on python 3. This commit updates it to use a syntax\nwhich is compatible with python3.\n\nChange-Id: I5cb9979e8ba8e324efb95feec33c23238dffade5\n'}, {'number': 6, 'created': '2015-05-10 17:08:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/ed8c02352d3f864957970d80480d158866b13829', 'message': 'Fix raise syntax in test.py for python3 compat\n\nThe raise syntax was changed in python3 so the usage of passing in\nthe separate components as different params to raise will not work\nwhen running on python 3. This commit updates it to use a syntax\nwhich is compatible with python3.\n\nChange-Id: I5cb9979e8ba8e324efb95feec33c23238dffade5\n'}, {'number': 7, 'created': '2015-05-12 18:57:35.000000000', 'files': ['tempest/thirdparty/boto/test.py', 'tempest/test.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/843227d34a2c390831c2b53059a8158ce89e1d3c', 'message': 'Fix raise syntax in test.py for python3 compat\n\nThe raise syntax was changed in python3 so the usage of passing in\nthe separate components as different params to raise will not work\nwhen running on python 3. This commit updates it to use a syntax\nwhich is compatible with python3.\n\nChange-Id: I5cb9979e8ba8e324efb95feec33c23238dffade5\n'}]",7,176787,843227d34a2c390831c2b53059a8158ce89e1d3c,45,9,7,5196,,,0,"Fix raise syntax in test.py for python3 compat

The raise syntax was changed in python3 so the usage of passing in
the separate components as different params to raise will not work
when running on python 3. This commit updates it to use a syntax
which is compatible with python3.

Change-Id: I5cb9979e8ba8e324efb95feec33c23238dffade5
",git fetch https://review.opendev.org/openstack/tempest refs/changes/87/176787/2 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/thirdparty/boto/test.py', 'tempest/test.py']",2,3747c2f5d2fcd6daa6642fd9e9f8ae2fb423d7cb,python3-support, raise etype(value).with_traceback(trace) raise etype(value).with_traceback(trace)," raise etype, value, trace raise etype, value, trace",4,4
openstack%2Fheat~master~I436c44a579bb4df3031d1a17b9ca5b62da37afeb,openstack/heat,master,I436c44a579bb4df3031d1a17b9ca5b62da37afeb,Save updated-in-place resources to backup stack,MERGED,2015-04-21 13:55:06.000000000,2015-05-13 16:27:33.000000000,2015-05-11 04:16:26.000000000,"[{'_account_id': 3}, {'_account_id': 4257}, {'_account_id': 4328}, {'_account_id': 4571}, {'_account_id': 4715}, {'_account_id': 6577}, {'_account_id': 7227}, {'_account_id': 7404}, {'_account_id': 9751}, {'_account_id': 12259}, {'_account_id': 13323}, {'_account_id': 14676}]","[{'number': 1, 'created': '2015-04-21 13:55:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/accb111ee6bc60ab05756ac456b5797e6888e01d', 'message': 'Prohibit backup of failed resources\n\nThe patch prohibit backup for failed resources during stack-update.\nIf a resource update/create or smth else has been failed\nwe should not backup and save the resource to DB. Otherwise, we will\nface with InvalidTemplateReference if update has been failed again\nand the resource has a reference to some resources from the updated\nstack. The error will raise during deletion of backup stack.\n\nChange-Id: I436c44a579bb4df3031d1a17b9ca5b62da37afeb\nCloses-bug: #1446575\n'}, {'number': 2, 'created': '2015-04-24 14:51:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/6db3a398ecc0062870d66beafb55e83f1c2f6033', 'message': 'Prohibit backup of failed resources\n\nThe patch prohibit backup for failed resources during stack-update.\nIf a resource update/create or smth else has been failed\nwe should not backup and save the resource to DB. Otherwise, we will\nface with InvalidTemplateReference if update has been failed again\nand the resource has a reference to some resources from the updated\nstack. The error will raise during deletion of backup stack.\n\nChange-Id: I436c44a579bb4df3031d1a17b9ca5b62da37afeb\nCloses-bug: #1446575\n'}, {'number': 3, 'created': '2015-04-24 14:55:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/2225a6e5737fc51917e5f90d33c030d9174d0b5c', 'message': 'Prohibit backup of failed resources\n\nThe patch prohibit backup for failed resources during stack-update.\nIf a resource update/create or smth else has been failed\nwe should not backup and save the resource to DB. Otherwise, we will\nface with InvalidTemplateReference if update has been failed again\nand the resource has a reference to some resources from the updated\nstack. The error will raise during deletion of backup stack.\n\nChange-Id: I436c44a579bb4df3031d1a17b9ca5b62da37afeb\nCloses-bug: #1446575\n'}, {'number': 4, 'created': '2015-04-27 01:01:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/a4d03886b2fae9325f504f42c002b1f970886c8d', 'message': 'Add updated in-place resources to backup\n\nThe patch add updated-in-place resources to backup when update\nwas laucnhed for stack. It needs for correct referencing from\nresources that was replaced during updated and saved to backup\nstack.\nWithout this functionality, InvalidTemplateReference will be thrown\nevery time when replaced resource has a reference to updated\nin-place resource and update was failed. In this case, backup stack\nhas a resource that refers to not-presented another resource and\nbackup stack deletion generates an exception.\n\nChange-Id: I436c44a579bb4df3031d1a17b9ca5b62da37afeb\nCloses-bug: #1446575\n'}, {'number': 5, 'created': '2015-04-27 12:33:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/8a2f14ba6f27424b26962633d41321a6c07da7c7', 'message': 'Add updated in-place resources to backup\n\nThe patch add updated-in-place resources to backup when update\nwas laucnhed for stack. It needs for correct referencing from\nresources that was replaced during updated and saved to backup\nstack.\nWithout this functionality, InvalidTemplateReference will be thrown\nevery time when replaced resource has a reference to updated\nin-place resource and update was failed. In this case, backup stack\nhas a resource that refers to not-presented another resource and\nbackup stack deletion generates an exception.\n\nChange-Id: I436c44a579bb4df3031d1a17b9ca5b62da37afeb\nCloses-bug: #1446575\n'}, {'number': 6, 'created': '2015-04-29 09:59:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/b84c021b7d43b5a36d15482d678b0fb95c0abc1a', 'message': 'Add updated in-place resources to backup\n\nThe patch add updated-in-place resources to backup when update\nwas laucnhed for stack. It needs for correct referencing from\nresources that was replaced during updated and saved to backup\nstack.\nWithout this functionality, InvalidTemplateReference will be thrown\nevery time when replaced resource has a reference to updated\nin-place resource and update was failed. In this case, backup stack\nhas a resource that refers to not-presented another resource and\nbackup stack deletion generates an exception.\n\nChange-Id: I436c44a579bb4df3031d1a17b9ca5b62da37afeb\nCloses-bug: #1446575\n'}, {'number': 7, 'created': '2015-04-29 16:18:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/840aa5697caf52a04b134ee14a2a5242d974be5f', 'message': 'Add updated in-place resources to backup\n\nThe patch add updated-in-place resources to backup when update\nwas laucnhed for stack. It needs for correct referencing from\nresources that was replaced during updated and saved to backup\nstack.\nWithout this functionality, InvalidTemplateReference will be thrown\nevery time when replaced resource has a reference to updated\nin-place resource and update was failed. In this case, backup stack\nhas a resource that refers to not-presented another resource and\nbackup stack deletion generates an exception.\n\nChange-Id: I436c44a579bb4df3031d1a17b9ca5b62da37afeb\nCloses-bug: #1446575\n'}, {'number': 8, 'created': '2015-05-05 12:29:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/a630b143d122e6598ca8084ec7189e5d208c390c', 'message': 'Treat dependencies for backup stack in special way\n\nThe patch defines a property that generates dependencies for\nbackup stack in special way: it ignores all references to resources\nthat does not exist in the stack and try to build dependencies\nfor all other resources.\nWithout this functionality, InvalidTemplateReference will be thrown\nevery time when update-replaced resource has a reference to updated\nin-place resource and stack update was failed. In this case, backup\nstack has a resource that refers to not-presented another resource\nand backup stack deletion generates an exception.\n\nChange-Id: I436c44a579bb4df3031d1a17b9ca5b62da37afeb\nCloses-bug: #1446575\n'}, {'number': 9, 'created': '2015-05-05 16:33:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/844346ac771e5cce5ed7ab2e008e88cfe7035fd4', 'message': 'Save updated-in-place resources to backup stack\n\nThe patch changes the approach of resource backup during stack\nupdate. It stores the definition of resource that needs to be\nupdated in-place to backup stack(if it was not created before).\n\nWithout this functionality, InvalidTemplateReference will be thrown\nevery time when update-replaced resource has a reference to updated\nin-place resource and stack update was failed. In this case, backup\nstack has a resource that refers to not-presented another resource\nand backup stack deletion generates an exception.\n\nChange-Id: I436c44a579bb4df3031d1a17b9ca5b62da37afeb\nCloses-bug: #1446575\n'}, {'number': 10, 'created': '2015-05-06 16:20:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/80bcb59490cd07d0e58f16cba2dab1700be37e4d', 'message': 'Add updated in-place resources to backup\n\nThe patch add updated-in-place resources to backup when update\nwas laucnhed for stack. It needs for correct referencing from\nresources that was replaced during updated and saved to backup\nstack.\nWithout this functionality, InvalidTemplateReference will be thrown\nevery time when replaced resource has a reference to updated\nin-place resource and update was failed. In this case, backup stack\nhas a resource that refers to not-presented another resource and\nbackup stack deletion generates an exception.\n\nChange-Id: I436c44a579bb4df3031d1a17b9ca5b62da37afeb\nCloses-bug: #1446575\n'}, {'number': 11, 'created': '2015-05-07 08:21:17.000000000', 'files': ['heat/engine/update.py', 'heat/tests/test_stack_update.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/f2edd0d68ea84f8ca212df0ec1d6d92463a030aa', 'message': 'Save updated-in-place resources to backup stack\n\nThe patch changes the approach of resource backup during stack\nupdate. It stores the definition of resource that needs to be\nupdated in-place to backup stack(if it was not created before).\n\nWithout this functionality, InvalidTemplateReference will be thrown\nevery time when update-replaced resource has a reference to updated\nin-place resource and stack update was failed. In this case, backup\nstack has a resource that refers to not-presented another resource\nand backup stack deletion generates an exception.\n\nChange-Id: I436c44a579bb4df3031d1a17b9ca5b62da37afeb\nCloses-bug: #1446575\n'}]",14,175868,f2edd0d68ea84f8ca212df0ec1d6d92463a030aa,64,12,11,14676,,,0,"Save updated-in-place resources to backup stack

The patch changes the approach of resource backup during stack
update. It stores the definition of resource that needs to be
updated in-place to backup stack(if it was not created before).

Without this functionality, InvalidTemplateReference will be thrown
every time when update-replaced resource has a reference to updated
in-place resource and stack update was failed. In this case, backup
stack has a resource that refers to not-presented another resource
and backup stack deletion generates an exception.

Change-Id: I436c44a579bb4df3031d1a17b9ca5b62da37afeb
Closes-bug: #1446575
",git fetch https://review.opendev.org/openstack/heat refs/changes/68/175868/1 && git format-patch -1 --stdout FETCH_HEAD,"['heat/engine/update.py', 'heat/tests/test_stack_update.py']",2,accb111ee6bc60ab05756ac456b5797e6888e01d,bug/1446575," def test_delete_stack_when_update_failed_twice(self): resource._register_class('GenericResourceType', generic_rsrc.GenericResource) resource._register_class('ResourceWithProps', generic_rsrc.ResourceWithProps) tmpl_create = { 'heat_template_version': '2013-05-23', 'resources': { 'Ares': {'type': 'GenericResourceType'} } } # create a stack self.stack = stack.Stack(self.ctx, 'create_test_stack', template.Template(tmpl_create), disable_rollback=True) self.stack.store() self.stack.create() self.assertEqual((stack.Stack.CREATE, stack.Stack.COMPLETE), self.stack.state) tmpl_update = { 'heat_template_version': '2013-05-23', 'resources': { 'Ares': {'type': 'GenericResourceType'}, 'Bres': {'type': 'GenericResourceType'}, 'Cres': { 'type': 'ResourceWithProps', 'properties': { 'Foo': {'get_resource': 'Bres'}, } } } } mock_create = self.patchobject( generic_rsrc.ResourceWithProps, 'handle_create', side_effect=[Exception, Exception]) updated_stack_first = stack.Stack(self.ctx, 'update_fail_test_stack_one', template.Template(tmpl_update)) self.stack.update(updated_stack_first) self.stack.resources['Bres'].resource_id_set('b_res') self.assertEqual((stack.Stack.UPDATE, stack.Stack.FAILED), self.stack.state) # try to update the stack again updated_stack_second = stack.Stack(self.ctx, 'update_fail_test_stack_second', template.Template(tmpl_update)) self.stack.update(updated_stack_second) self.assertEqual((stack.Stack.UPDATE, stack.Stack.FAILED), self.stack.state) self.assertEqual(mock_create.call_count, 2) # delete the failed stack self.stack.delete() self.assertEqual((stack.Stack.DELETE, stack.Stack.COMPLETE), self.stack.state)",,72,3
openstack%2Fcinder~master~I92b03e0af3b7ab517e34edaeffd88f0a00516000,openstack/cinder,master,I92b03e0af3b7ab517e34edaeffd88f0a00516000,cinder os-detach api returns 500,MERGED,2015-04-29 09:47:08.000000000,2015-05-13 16:26:15.000000000,2015-05-08 18:31:34.000000000,"[{'_account_id': 3}, {'_account_id': 1207}, {'_account_id': 2243}, {'_account_id': 2759}, {'_account_id': 8247}, {'_account_id': 8300}, {'_account_id': 9008}, {'_account_id': 9751}, {'_account_id': 10263}, {'_account_id': 10621}, {'_account_id': 10622}, {'_account_id': 11611}, {'_account_id': 11751}, {'_account_id': 11811}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12202}, {'_account_id': 12249}, {'_account_id': 12369}, {'_account_id': 12493}, {'_account_id': 12778}, {'_account_id': 12780}, {'_account_id': 13144}, {'_account_id': 13394}, {'_account_id': 14206}, {'_account_id': 14242}, {'_account_id': 14259}, {'_account_id': 14797}, {'_account_id': 14969}, {'_account_id': 15249}, {'_account_id': 15374}, {'_account_id': 15764}]","[{'number': 1, 'created': '2015-04-29 09:47:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/8f975e5070267d48ad06d7bd366dcee932c689de', 'message': ""cinder os-detach api returns 500\n\nIf invalid 'attachment_id' is passed to the os-detach\napi, then it returns 500 error because even though\nVolumeAttachmentNotFound exception is raised from manager,\nit gets converted to RemoteError due to rpcapi call.\n\nCaught RemoteError exception in the api and returned 400\nerror to the user.\n\nCloses-Bug: 1449870\nChange-Id: I92b03e0af3b7ab517e34edaeffd88f0a00516000\n""}, {'number': 2, 'created': '2015-04-29 13:12:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/7f5ad309c4b6de195fd3bdd19204e248b0c23976', 'message': ""cinder os-detach api returns 500\n\nIf invalid 'attachment_id' is passed to the os-detach\napi, then it returns 500 error because even though\nVolumeAttachmentNotFound exception is raised from manager,\nit gets converted to RemoteError due to rpcapi call.\n\nCaught RemoteError exception in the api and returned 400\nerror to the user.\n\nCloses-Bug: 1449870\nChange-Id: I92b03e0af3b7ab517e34edaeffd88f0a00516000\n""}, {'number': 3, 'created': '2015-04-29 21:57:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/e44ee36c1e17b7e136e4a6eece7b22447f305766', 'message': ""cinder os-detach api returns 500\n\nIf invalid 'attachment_id' is passed to the os-detach\napi, then it returns 500 error because even though\nVolumeAttachmentNotFound exception is raised from manager,\nit gets converted to RemoteError due to rpcapi call.\n\nCaught RemoteError exception in the api and returned 400\nerror to the user.\n\nCloses-Bug: 1449870\nChange-Id: I92b03e0af3b7ab517e34edaeffd88f0a00516000\n""}, {'number': 4, 'created': '2015-05-07 11:23:42.000000000', 'files': ['cinder/volume/manager.py', 'cinder/tests/unit/api/contrib/test_volume_actions.py', 'cinder/api/contrib/volume_actions.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/716e64a3e9dfc0d1ea29da7d6302eab0ae244bfc', 'message': ""cinder os-detach api returns 500\n\nIf invalid 'attachment_id' is passed to the os-detach\napi, then it returns 500 error because even though\nVolumeAttachmentNotFound exception is raised from manager,\nit gets converted to RemoteError due to rpcapi call.\n\nCaught RemoteError exception in the api and returned 400\nerror to the user if exception type is VolumeAttachmentNotFound\nOR InvalidVolume. In other cases 500 error is raised.\n\nFixed typo in comment of volume manager.\n\nCloses-Bug: 1449870\nChange-Id: I92b03e0af3b7ab517e34edaeffd88f0a00516000\n""}]",1,178578,716e64a3e9dfc0d1ea29da7d6302eab0ae244bfc,87,34,4,10300,,,0,"cinder os-detach api returns 500

If invalid 'attachment_id' is passed to the os-detach
api, then it returns 500 error because even though
VolumeAttachmentNotFound exception is raised from manager,
it gets converted to RemoteError due to rpcapi call.

Caught RemoteError exception in the api and returned 400
error to the user if exception type is VolumeAttachmentNotFound
OR InvalidVolume. In other cases 500 error is raised.

Fixed typo in comment of volume manager.

Closes-Bug: 1449870
Change-Id: I92b03e0af3b7ab517e34edaeffd88f0a00516000
",git fetch https://review.opendev.org/openstack/cinder refs/changes/78/178578/2 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/api/contrib/test_volume_actions.py', 'cinder/api/contrib/volume_actions.py']",2,8f975e5070267d48ad06d7bd366dcee932c689de,bug/1449870," try: self.volume_api.detach(context, volume, attachment_id) except messaging.RemoteError as error: msg = ""%(err_type)s: %(err_msg)s"" % {'err_type': error.exc_type, 'err_msg': error.value} raise webob.exc.HTTPBadRequest(explanation=msg)"," self.volume_api.detach(context, volume, attachment_id)",21,1
openstack%2Fpython-cinderclient~master~I412bb6b4bcb9bf10aa6118a2ed43e28cbd3ed236,openstack/python-cinderclient,master,I412bb6b4bcb9bf10aa6118a2ed43e28cbd3ed236,cinderclient no longer honors --endpoint-type,MERGED,2015-05-12 21:40:08.000000000,2015-05-13 16:24:06.000000000,2015-05-13 16:24:04.000000000,"[{'_account_id': 3}, {'_account_id': 1207}, {'_account_id': 1706}, {'_account_id': 2243}]","[{'number': 1, 'created': '2015-05-12 21:40:08.000000000', 'files': ['cinderclient/shell.py'], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/adc561a7b12e687420a5785eacb246aacba2b6e4', 'message': 'cinderclient no longer honors --endpoint-type\n\nCommit for ""Enable version discovery"":\nae03d2a721bd9acb61805ce792a27fb7cf88e5cd\nbreaks CLI use of --endpoint-type. This is because we were using the\ndefault interface instead of checking to see if an endpoint_type is\npassed in.\n\nChange-Id: I412bb6b4bcb9bf10aa6118a2ed43e28cbd3ed236\nCloses-Bug: 1454407\n'}]",0,182465,adc561a7b12e687420a5785eacb246aacba2b6e4,9,4,1,7173,,,0,"cinderclient no longer honors --endpoint-type

Commit for ""Enable version discovery"":
ae03d2a721bd9acb61805ce792a27fb7cf88e5cd
breaks CLI use of --endpoint-type. This is because we were using the
default interface instead of checking to see if an endpoint_type is
passed in.

Change-Id: I412bb6b4bcb9bf10aa6118a2ed43e28cbd3ed236
Closes-Bug: 1454407
",git fetch https://review.opendev.org/openstack/python-cinderclient refs/changes/65/182465/1 && git format-patch -1 --stdout FETCH_HEAD,['cinderclient/shell.py'],1,adc561a7b12e687420a5785eacb246aacba2b6e4,bug/1454407," interface=endpoint_type) interface=endpoint_type) service_type=service_type, interface=endpoint_type) interface=endpoint_type)"," interface='public') interface='public') service_type=service_type, interface='public') interface='public')",4,4
openstack%2Fnova~master~I5b8e04fadd08e3f8474f01719e25f09ff928807f,openstack/nova,master,I5b8e04fadd08e3f8474f01719e25f09ff928807f,[WIP] Ignore me. trying to log where urllib3 connectionpool is created,ABANDONED,2015-05-12 23:26:45.000000000,2015-05-13 16:23:16.000000000,,"[{'_account_id': 3}, {'_account_id': 5170}, {'_account_id': 8871}, {'_account_id': 9578}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 15751}]","[{'number': 1, 'created': '2015-05-12 23:26:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/690c84bcea6326eb1050b99f653bff040650c9a0', 'message': '[WIP] Ignore me. trying to log where urllib3 connectionpool is created\n\nChange-Id: I5b8e04fadd08e3f8474f01719e25f09ff928807f\n'}, {'number': 2, 'created': '2015-05-13 00:32:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bb56af18869cfb8d4c76332356c99f52a7f25ae3', 'message': '[WIP] Ignore me. trying to log where urllib3 connectionpool is created\n\nChange-Id: I5b8e04fadd08e3f8474f01719e25f09ff928807f\n'}, {'number': 3, 'created': '2015-05-13 01:21:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/379dcbf630a6b88740d565150c1d15bfa22de925', 'message': '[WIP] Ignore me. trying to log where urllib3 connectionpool is created\n\nChange-Id: I5b8e04fadd08e3f8474f01719e25f09ff928807f\n'}, {'number': 4, 'created': '2015-05-13 12:17:00.000000000', 'files': ['nova/utils.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/a1765d5b1d8182e17dfa4f9fcac374934cf0dcff', 'message': '[WIP] Ignore me. trying to log where urllib3 connectionpool is created\n\nChange-Id: I5b8e04fadd08e3f8474f01719e25f09ff928807f\n'}]",0,182495,a1765d5b1d8182e17dfa4f9fcac374934cf0dcff,24,7,4,5638,,,0,"[WIP] Ignore me. trying to log where urllib3 connectionpool is created

Change-Id: I5b8e04fadd08e3f8474f01719e25f09ff928807f
",git fetch https://review.opendev.org/openstack/nova refs/changes/95/182495/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/utils.py'],1,690c84bcea6326eb1050b99f653bff040650c9a0,," try: from requests.packages.urllib3 import connectionpool from queue import LifoQueue import logging as py_logging import traceback class MyLifoQueue(object, LifoQueue): def _init(self, maxsize): LOG = py_logging.getLogger('connectionpool') LOG.warning(""maxsize was %d at : %s"" % ( maxsize, traceback.format_exc())) super(LifoQueue, self)._init(maxsize) connectionpool.ConnectionPool.QueueCls = MyLifoQueue except ImportError: pass ",,17,0
openstack%2Fdjango_openstack_auth~master~I92670c94ebb038f78960ceda0a2aebe128d1fdef,openstack/django_openstack_auth,master,I92670c94ebb038f78960ceda0a2aebe128d1fdef,Imported Translations from Transifex,MERGED,2015-05-13 06:05:47.000000000,2015-05-13 16:20:39.000000000,2015-05-13 16:20:38.000000000,"[{'_account_id': 3}, {'_account_id': 5623}, {'_account_id': 6914}]","[{'number': 1, 'created': '2015-05-13 06:05:47.000000000', 'files': ['openstack_auth/locale/ko_KR/LC_MESSAGES/django.po', 'openstack_auth/locale/uk/LC_MESSAGES/django.po', 'openstack_auth/locale/nl_NL/LC_MESSAGES/django.po', 'openstack_auth/locale/pt_BR/LC_MESSAGES/django.po', 'openstack_auth/locale/tr_TR/LC_MESSAGES/django.po', 'openstack_auth/locale/fr/LC_MESSAGES/django.po', 'openstack_auth/locale/ru/LC_MESSAGES/django.po', 'openstack_auth/locale/zh_CN/LC_MESSAGES/django.po', 'openstack_auth/locale/fi_FI/LC_MESSAGES/django.po', 'openstack_auth/locale/sl_SI/LC_MESSAGES/django.po', 'openstack_auth/locale/it/LC_MESSAGES/django.po', 'openstack_auth/locale/en_GB/LC_MESSAGES/django.po', 'openstack_auth/locale/es/LC_MESSAGES/django.po', 'openstack_auth/locale/cs/LC_MESSAGES/django.po', 'openstack_auth/locale/pl_PL/LC_MESSAGES/django.po', 'openstack_auth/locale/zh_TW/LC_MESSAGES/django.po', 'openstack_auth/locale/es_MX/LC_MESSAGES/django.po', 'openstack_auth/locale/en_AU/LC_MESSAGES/django.po', 'openstack_auth/locale/ja/LC_MESSAGES/django.po', 'openstack_auth/locale/openstack_auth.pot', 'openstack_auth/locale/ca/LC_MESSAGES/django.po', 'openstack_auth/locale/pa_IN/LC_MESSAGES/django.po', 'openstack_auth/locale/hi/LC_MESSAGES/django.po', 'openstack_auth/locale/ar/LC_MESSAGES/django.po', 'openstack_auth/locale/sr/LC_MESSAGES/django.po', 'openstack_auth/locale/ne/LC_MESSAGES/django.po', 'openstack_auth/locale/pt/LC_MESSAGES/django.po', 'openstack_auth/locale/de/LC_MESSAGES/django.po'], 'web_link': 'https://opendev.org/openstack/django_openstack_auth/commit/08713e4ca9eca7f30494fa3d9da34c84ace919e3', 'message': 'Imported Translations from Transifex\n\nFor more information about this automatic import see:\nhttps://wiki.openstack.org/wiki/Translations/Infrastructure\n\nChange-Id: I92670c94ebb038f78960ceda0a2aebe128d1fdef\n'}]",0,182544,08713e4ca9eca7f30494fa3d9da34c84ace919e3,7,3,1,11131,,,0,"Imported Translations from Transifex

For more information about this automatic import see:
https://wiki.openstack.org/wiki/Translations/Infrastructure

Change-Id: I92670c94ebb038f78960ceda0a2aebe128d1fdef
",git fetch https://review.opendev.org/openstack/django_openstack_auth refs/changes/44/182544/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_auth/locale/ko_KR/LC_MESSAGES/django.po', 'openstack_auth/locale/uk/LC_MESSAGES/django.po', 'openstack_auth/locale/nl_NL/LC_MESSAGES/django.po', 'openstack_auth/locale/pt_BR/LC_MESSAGES/django.po', 'openstack_auth/locale/tr_TR/LC_MESSAGES/django.po', 'openstack_auth/locale/fr/LC_MESSAGES/django.po', 'openstack_auth/locale/ru/LC_MESSAGES/django.po', 'openstack_auth/locale/zh_CN/LC_MESSAGES/django.po', 'openstack_auth/locale/fi_FI/LC_MESSAGES/django.po', 'openstack_auth/locale/sl_SI/LC_MESSAGES/django.po', 'openstack_auth/locale/it/LC_MESSAGES/django.po', 'openstack_auth/locale/en_GB/LC_MESSAGES/django.po', 'openstack_auth/locale/es/LC_MESSAGES/django.po', 'openstack_auth/locale/cs/LC_MESSAGES/django.po', 'openstack_auth/locale/pl_PL/LC_MESSAGES/django.po', 'openstack_auth/locale/zh_TW/LC_MESSAGES/django.po', 'openstack_auth/locale/es_MX/LC_MESSAGES/django.po', 'openstack_auth/locale/en_AU/LC_MESSAGES/django.po', 'openstack_auth/locale/ja/LC_MESSAGES/django.po', 'openstack_auth/locale/openstack_auth.pot', 'openstack_auth/locale/ca/LC_MESSAGES/django.po', 'openstack_auth/locale/pa_IN/LC_MESSAGES/django.po', 'openstack_auth/locale/hi/LC_MESSAGES/django.po', 'openstack_auth/locale/ar/LC_MESSAGES/django.po', 'openstack_auth/locale/sr/LC_MESSAGES/django.po', 'openstack_auth/locale/ne/LC_MESSAGES/django.po', 'openstack_auth/locale/pt/LC_MESSAGES/django.po', 'openstack_auth/locale/de/LC_MESSAGES/django.po']",28,08713e4ca9eca7f30494fa3d9da34c84ace919e3,transifex/translations,"""POT-Creation-Date: 2015-05-13 06:05+0000\n"" ""PO-Revision-Date: 2015-05-12 09:27+0000\n"" ""Last-Translator: openstackjenkins <jenkins@openstack.org>\n""","""POT-Creation-Date: 2015-05-12 06:01+0000\n"" ""PO-Revision-Date: 2015-04-18 11:28+0000\n"" ""Last-Translator: Akihiro Motoki <amotoki@gmail.com>\n""",91,87
openstack%2Foslo.i18n~stable%2Fjuno~I4da455467dbaa211d8985416847ff7f2c8f3b934,openstack/oslo.i18n,stable/juno,I4da455467dbaa211d8985416847ff7f2c8f3b934,Updated from global requirements,MERGED,2015-05-07 15:08:08.000000000,2015-05-13 16:14:22.000000000,2015-05-13 16:14:22.000000000,"[{'_account_id': 3}, {'_account_id': 5196}, {'_account_id': 6873}]","[{'number': 1, 'created': '2015-05-07 15:08:08.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/oslo.i18n/commit/d1675736ec092dc64ebef16a5d273f6ab640c526', 'message': 'Updated from global requirements\n\nChange-Id: I4da455467dbaa211d8985416847ff7f2c8f3b934\n'}]",0,181030,d1675736ec092dc64ebef16a5d273f6ab640c526,7,3,1,11131,,,0,"Updated from global requirements

Change-Id: I4da455467dbaa211d8985416847ff7f2c8f3b934
",git fetch https://review.opendev.org/openstack/oslo.i18n refs/changes/30/181030/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,d1675736ec092dc64ebef16a5d273f6ab640c526,openstack/requirements,"oslosphinx>=2.2.0,<2.5.0 # Apache-2.0 oslotest>=1.1.0,<1.4.0 # Apache-2.0",oslosphinx>=2.2.0 # Apache-2.0 oslotest>=1.1.0 # Apache-2.0,2,2
openstack%2Fmurano~stable%2Fkilo~I5ffdc2728202f212408b9a5b4b6b267084c5723d,openstack/murano,stable/kilo,I5ffdc2728202f212408b9a5b4b6b267084c5723d,Use catalog=True for package_loader queries,MERGED,2015-05-08 09:47:22.000000000,2015-05-13 16:14:16.000000000,2015-05-13 16:14:15.000000000,"[{'_account_id': 3}, {'_account_id': 7225}, {'_account_id': 7549}, {'_account_id': 7821}, {'_account_id': 13149}, {'_account_id': 13962}, {'_account_id': 14265}, {'_account_id': 15168}]","[{'number': 1, 'created': '2015-05-08 09:47:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano/commit/cf1e80cc8aa43268f0dc151fed0d6ca08d2afa72', 'message': 'Use catalog=True for package_loader queries\n\nPackage loader attempts to load packages during deployment, therefore it\nneeds to see all the packages it can deploy, therefore it needs\ncatalog=True context for that.\nThis is related to api behaviour change, that allows packages api to\ndistinct between packages one can deploy and packages one can edit.\n\nChange-Id: I5ffdc2728202f212408b9a5b4b6b267084c5723d\nCloses-Bug: #1452942\n'}, {'number': 2, 'created': '2015-05-09 18:03:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano/commit/352cb54f9ec8576c5fa09b2f11fc914b34314e0c', 'message': 'Use catalog=True for package_loader queries\n\nPackage loader attempts to load packages during deployment, therefore it\nneeds to see all the packages it can deploy, therefore it needs\ncatalog=True context for that.\nThis is related to api behaviour change, that allows packages api to\ndistinct between packages one can deploy and packages one can edit.\n\n\nChange-Id: I5ffdc2728202f212408b9a5b4b6b267084c5723d\nCloses-Bug: #1452942\n'}, {'number': 3, 'created': '2015-05-10 13:15:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano/commit/5f1958d96e74a1c207f63920c8114798fff32eec', 'message': 'Use catalog=True for package_loader queries\n\nPackage loader attempts to load packages during deployment, therefore it\nneeds to see all the packages it can deploy, therefore it needs\ncatalog=True context for that.\nThis is related to api behaviour change, that allows packages api to\ndistinct between packages one can deploy and packages one can edit.\n\nChange-Id: I5ffdc2728202f212408b9a5b4b6b267084c5723d\nCloses-Bug: #1452942\n'}, {'number': 4, 'created': '2015-05-12 11:13:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano/commit/01b7f89c3f620fd3be46b5a13548d9bfcbceacb9', 'message': 'Use catalog=True for package_loader queries\n\nPackage loader attempts to load packages during deployment, therefore it\nneeds to see all the packages it can deploy, therefore it needs\ncatalog=True context for that.\nThis is related to api behaviour change, that allows packages api to\ndistinct between packages one can deploy and packages one can edit.\n\nChange-Id: I5ffdc2728202f212408b9a5b4b6b267084c5723d\nCloses-Bug: #1452942\n'}, {'number': 5, 'created': '2015-05-12 16:04:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano/commit/e0df8a12f1e4a5d8bd164c02c6c66ae0590d2d31', 'message': 'Use catalog=True for package_loader queries\n\nPackage loader attempts to load packages during deployment, therefore it\nneeds to see all the packages it can deploy, therefore it needs\ncatalog=True context for that.\nThis is related to api behaviour change, that allows packages api to\ndistinct between packages one can deploy and packages one can edit.\n\nChange-Id: I5ffdc2728202f212408b9a5b4b6b267084c5723d\nCloses-Bug: #1452942\n'}, {'number': 6, 'created': '2015-05-12 16:44:26.000000000', 'files': ['murano/engine/package_loader.py'], 'web_link': 'https://opendev.org/openstack/murano/commit/48267e63ca587876b47faf1877156d1cf65d4808', 'message': 'Use catalog=True for package_loader queries\n\nPackage loader attempts to load packages during deployment, therefore it\nneeds to see all the packages it can deploy, therefore it needs\ncatalog=True context for that.\nThis is related to api behaviour change, that allows packages api to\ndistinct between packages one can deploy and packages one can edit.\n\nChange-Id: I5ffdc2728202f212408b9a5b4b6b267084c5723d\nCloses-Bug: #1452942\n'}]",0,181344,48267e63ca587876b47faf1877156d1cf65d4808,37,8,6,15168,,,0,"Use catalog=True for package_loader queries

Package loader attempts to load packages during deployment, therefore it
needs to see all the packages it can deploy, therefore it needs
catalog=True context for that.
This is related to api behaviour change, that allows packages api to
distinct between packages one can deploy and packages one can edit.

Change-Id: I5ffdc2728202f212408b9a5b4b6b267084c5723d
Closes-Bug: #1452942
",git fetch https://review.opendev.org/openstack/murano refs/changes/44/181344/2 && git format-patch -1 --stdout FETCH_HEAD,['murano/engine/package_loader.py'],1,cf1e80cc8aa43268f0dc151fed0d6ca08d2afa72,182279, filter_opts['catalog'] = True,,1,0
openstack%2Fmurano~stable%2Fkilo~Ic59f91ff541f2dac25d911dedfb7028c0ac4b516,openstack/murano,stable/kilo,Ic59f91ff541f2dac25d911dedfb7028c0ac4b516,Bump pre-release to 2015.1.1 and fix cli tests,MERGED,2015-05-12 13:04:11.000000000,2015-05-13 16:14:10.000000000,2015-05-13 16:14:09.000000000,"[{'_account_id': 3}, {'_account_id': 7225}, {'_account_id': 7226}, {'_account_id': 7549}, {'_account_id': 7821}, {'_account_id': 13149}, {'_account_id': 13962}, {'_account_id': 15168}]","[{'number': 1, 'created': '2015-05-12 13:04:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano/commit/bc24e06ec74433ad2e6c2623bbd59bf67f5b89d6', 'message': 'Fix things in stable/kilo\n\nChange-Id: Ic59f91ff541f2dac25d911dedfb7028c0ac4b516\n'}, {'number': 2, 'created': '2015-05-12 14:43:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano/commit/c7e13e0389f940fce3823ba2ac1ce1edce6fe173', 'message': 'Fix things in stable/kilo\n\nChange-Id: Ic59f91ff541f2dac25d911dedfb7028c0ac4b516\n'}, {'number': 3, 'created': '2015-05-12 15:32:45.000000000', 'files': ['functionaltests/run_tests_common.sh', 'test-requirements.txt', 'murano/tests/functional/cli/muranoclient.py', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/murano/commit/47ec74115448b569cf8457be1dffff13e6a1d373', 'message': 'Bump pre-release to 2015.1.1 and fix cli tests\n\nThere are multiple changes in this commit:\n* Bumpt version in setup.cfg\n* Add nose to test-requirements (because devstack no longer installs it)\n* Fix CLI tests configuration\n\nMost of the changes copied from similar commit from master\n\nChange-Id: Ic59f91ff541f2dac25d911dedfb7028c0ac4b516\n'}]",0,182279,47ec74115448b569cf8457be1dffff13e6a1d373,20,8,3,7600,,,0,"Bump pre-release to 2015.1.1 and fix cli tests

There are multiple changes in this commit:
* Bumpt version in setup.cfg
* Add nose to test-requirements (because devstack no longer installs it)
* Fix CLI tests configuration

Most of the changes copied from similar commit from master

Change-Id: Ic59f91ff541f2dac25d911dedfb7028c0ac4b516
",git fetch https://review.opendev.org/openstack/murano refs/changes/79/182279/1 && git format-patch -1 --stdout FETCH_HEAD,"['functionaltests/run_tests_common.sh', 'murano/tests/functional/cli/muranoclient.py', 'test-requirements.txt']",3,bc24e06ec74433ad2e6c2623bbd59bf67f5b89d6,,nose,,19,8
openstack%2Fmurano~master~I5f740817d5eac5bfba5ef5c52be273f1d5d68765,openstack/murano,master,I5f740817d5eac5bfba5ef5c52be273f1d5d68765,Removed CLI tests from repo,MERGED,2015-05-13 12:30:15.000000000,2015-05-13 16:14:07.000000000,2015-05-13 16:14:06.000000000,"[{'_account_id': 3}, {'_account_id': 7225}, {'_account_id': 7226}, {'_account_id': 7549}, {'_account_id': 7821}]","[{'number': 1, 'created': '2015-05-13 12:30:15.000000000', 'files': ['functionaltests/run_tests.sh', 'murano/tests/functional/cli/__init__.py', 'functionaltests/run_tests_common.sh', 'murano/tests/functional/cli/simple_read_only/__init__.py', 'murano/tests/functional/cli/muranoclient.py', 'murano/tests/functional/cli/simple_read_only/test_murano.py'], 'web_link': 'https://opendev.org/openstack/murano/commit/d80ad455fccd8492dfdbe2cfa0edbc150a82a4c8', 'message': 'Removed CLI tests from repo\n\nCLI tests moved to python-muranoclient. It is safe to remove them\nfrom this repo now.\n\nChange-Id: I5f740817d5eac5bfba5ef5c52be273f1d5d68765\n'}]",0,182646,d80ad455fccd8492dfdbe2cfa0edbc150a82a4c8,9,5,1,7600,,,0,"Removed CLI tests from repo

CLI tests moved to python-muranoclient. It is safe to remove them
from this repo now.

Change-Id: I5f740817d5eac5bfba5ef5c52be273f1d5d68765
",git fetch https://review.opendev.org/openstack/murano refs/changes/46/182646/1 && git format-patch -1 --stdout FETCH_HEAD,"['functionaltests/run_tests.sh', 'murano/tests/functional/cli/__init__.py', 'functionaltests/run_tests_common.sh', 'murano/tests/functional/cli/muranoclient.py', 'murano/tests/functional/cli/simple_read_only/__init__.py', 'murano/tests/functional/cli/simple_read_only/test_murano.py']",6,d80ad455fccd8492dfdbe2cfa0edbc150a82a4c8,,,"# Copyright (c) 2014 Mirantis, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import time import uuid from murano.tests.functional.cli import muranoclient class SimpleReadOnlyMuranoClientTest(muranoclient.ClientTestBase): """"""Basic, read-only tests for Murano CLI client. Basic smoke test for the Murano CLI commands which do not require creating or modifying murano objects. """""" @classmethod def setUpClass(cls): super(SimpleReadOnlyMuranoClientTest, cls).setUpClass() def test_environment_list(self): environments = self.listing('environment-list') self.assertTableStruct(environments, ['ID', 'Name', 'Created', 'Updated']) def test_package_list(self): packages = self.listing('package-list') self.assertTableStruct(packages, ['ID', 'Name', 'FQN', 'Author', 'Is Public']) def test_category_list(self): self.murano('category-list') def test_table_struct_of_environment_create(self): env_name = ""gg"" + uuid.uuid4().hex environment = self.listing('environment-create', params=env_name) self.assertTableStruct(environment, ['ID', 'Name', 'Created', 'Updated']) def test_table_struct_of_environment_delete(self): env_name = ""gg"" + uuid.uuid4().hex environment = self.listing('environment-create', params=env_name) ID = self.get_value('ID', 'Name', env_name, environment) delete_env = self.listing('environment-delete', params=ID) self.assertTableStruct(delete_env, ['ID', 'Name', 'Created', 'Updated']) class EnvironmentMuranoClientTest(muranoclient.ClientTestBase): @classmethod def setUpClass(cls): super(EnvironmentMuranoClientTest, cls).setUpClass() def test_environment_create(self): env_name = ""gg"" + uuid.uuid4().hex environment = self.listing('environment-create', params=env_name) environment_list = self.listing('environment-list') self.assertIn(env_name, [env['Name'] for env in environment]) self.assertIn(env_name, [env['Name'] for env in environment_list]) def test_environment_delete(self): env_name = ""gg"" + uuid.uuid4().hex environments = self.listing('environment-create', params=env_name) ID = self.get_value('ID', 'Name', env_name, environments) self.listing('environment-delete', params=ID) start_time = time.time() while env_name in [env['Name'] for env in self.listing('environment-list')]: if start_time - time.time() > 60: self.fail(""Environment is not deleted in 60 seconds"") def test_environment_show(self): env_name = ""gg"" + uuid.uuid4().hex environment = self.listing('environment-create', params=env_name) ID = self.get_value('ID', 'Name', env_name, environment) created = self.get_value('Created', 'Name', env_name, environment) updated = self.get_value('Updated', 'Name', env_name, environment) show_env = self.listing('environment-show', params=ID) self.assertEqual(env_name, self.get_value('Value', 'Property', 'name', show_env)) self.assertEqual(created, self.get_value('Value', 'Property', 'created', show_env)) self.assertEqual(updated, self.get_value('Value', 'Property', 'updated', show_env)) def test_environment_rename(self): env_name = ""gg"" + uuid.uuid4().hex environment = self.listing('environment-create', params=env_name) ID = self.get_value('ID', 'Name', env_name, environment) new_name = ""renamed"" + uuid.uuid4().hex rename_env = self.listing('environment-rename', params='{id} {name}'.format(id=ID, name=new_name)) show_env = self.listing('environment-show', params=ID) self.assertEqual(new_name, self.get_value('Name', 'ID', ID, rename_env)) self.assertEqual(new_name, self.get_value('Value', 'Property', 'name', show_env)) ",1,180
openstack%2Fmurano-dashboard~master~I2ae4b5dfa55d72c1e384467afdcd64f4bd62ecf0,openstack/murano-dashboard,master,I2ae4b5dfa55d72c1e384467afdcd64f4bd62ecf0,Use catalog=True for app_by_fqn helper function,MERGED,2015-05-13 12:38:58.000000000,2015-05-13 16:06:29.000000000,2015-05-13 16:06:28.000000000,"[{'_account_id': 3}, {'_account_id': 7225}, {'_account_id': 7549}, {'_account_id': 7821}]","[{'number': 1, 'created': '2015-05-13 12:38:58.000000000', 'files': ['muranodashboard/api/packages.py'], 'web_link': 'https://opendev.org/openstack/murano-dashboard/commit/5d38554d5404c732181cfb6c084c722b10e48d77', 'message': 'Use catalog=True for app_by_fqn helper function\n\napp_by_fqn is used to query app images when building topology and during\nupdates of certain dynamic ui componenents. Both context might require\naccess to public apps from different tenants, therefore the function\nshould use catalog=True\n\nChange-Id: I2ae4b5dfa55d72c1e384467afdcd64f4bd62ecf0\nCloses-Bug: #1454674\n'}]",0,182649,5d38554d5404c732181cfb6c084c722b10e48d77,9,4,1,15168,,,0,"Use catalog=True for app_by_fqn helper function

app_by_fqn is used to query app images when building topology and during
updates of certain dynamic ui componenents. Both context might require
access to public apps from different tenants, therefore the function
should use catalog=True

Change-Id: I2ae4b5dfa55d72c1e384467afdcd64f4bd62ecf0
Closes-Bug: #1454674
",git fetch https://review.opendev.org/openstack/murano-dashboard refs/changes/49/182649/1 && git format-patch -1 --stdout FETCH_HEAD,['muranodashboard/api/packages.py'],1,5d38554d5404c732181cfb6c084c722b10e48d77,bug/1454674,"def app_by_fqn(request, fqn, catalog=True): apps = api.muranoclient(request).packages.filter(fqn=fqn, catalog=catalog)","def app_by_fqn(request, fqn): apps = api.muranoclient(request).packages.filter(fqn=fqn)",2,2
openstack%2Fmurano~master~I95b6ae7ed3f036dd04062c49e1dbc3095f725245,openstack/murano,master,I95b6ae7ed3f036dd04062c49e1dbc3095f725245,App Dev Guide: Murano packages,MERGED,2015-05-08 11:50:36.000000000,2015-05-13 16:03:37.000000000,2015-05-13 16:03:36.000000000,"[{'_account_id': 3}, {'_account_id': 7225}, {'_account_id': 7549}, {'_account_id': 7821}, {'_account_id': 9382}, {'_account_id': 13149}, {'_account_id': 13737}, {'_account_id': 13962}, {'_account_id': 14396}, {'_account_id': 14643}, {'_account_id': 15168}, {'_account_id': 16259}]","[{'number': 1, 'created': '2015-05-08 11:50:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano/commit/d2550d5395f98c958b2bc8efed6f13cf6a2bfc30', 'message': 'App Dev Guide: Murano packages\n\nIncludes:\n -[to do]Package structure\n -[to do]Dynamic UI definition specification\n -Murano package repository\n\nChange-Id: I95b6ae7ed3f036dd04062c49e1dbc3095f725245\n'}, {'number': 2, 'created': '2015-05-08 11:52:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano/commit/b0afae902e9c8d2530eb40b270805053b3dad631', 'message': 'App Dev Guide: Murano packages\n\nIncludes:\n -[to do]Package structure\n -[to do]Dynamic UI definition specification\n -Murano package repository\n\nChange-Id: I95b6ae7ed3f036dd04062c49e1dbc3095f725245\n'}, {'number': 3, 'created': '2015-05-08 12:04:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano/commit/c4d21fb56761f3ca450a8592b9859226160cadbb', 'message': 'App Dev Guide: Murano packages\n\nIncludes:\n -[to do]Package structure\n -[to do]Dynamic UI definition specification\n -Murano package repository\n\nChange-Id: I95b6ae7ed3f036dd04062c49e1dbc3095f725245\n'}, {'number': 4, 'created': '2015-05-08 13:16:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano/commit/74fd45953a6c0f08341c43e275ac9fb73783e436', 'message': 'App Dev Guide: Murano packages\n\nIncludes:\n - Package structure\n - [TODO] Dynamic UI definition specification\n - Murano package repository\n\nChange-Id: I95b6ae7ed3f036dd04062c49e1dbc3095f725245\n'}, {'number': 5, 'created': '2015-05-08 14:05:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano/commit/41c680166c8f9680be81ad902edc233888f7a758', 'message': 'App Dev Guide: Murano packages\n\nIncludes:\n - Package structure\n - Dynamic UI definition specification\n - Murano package repository\n\nChange-Id: I95b6ae7ed3f036dd04062c49e1dbc3095f725245\n'}, {'number': 6, 'created': '2015-05-08 14:07:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano/commit/48554388fb9d0878576145881e9e9e3fdf91bc13', 'message': 'App Dev Guide: Murano packages\n\nIncludes:\n - Package structure\n - Dynamic UI definition specification\n - Murano package repository\n\nChange-Id: I95b6ae7ed3f036dd04062c49e1dbc3095f725245\n'}, {'number': 7, 'created': '2015-05-13 07:02:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano/commit/1c987a6f6317fc744f0996edecc1e7aa1c585580', 'message': 'App Dev Guide: Murano packages\n\nIncludes:\n - Package structure\n - Dynamic UI definition specification\n - Murano package repository.\n\nChange-Id: I95b6ae7ed3f036dd04062c49e1dbc3095f725245\n'}, {'number': 8, 'created': '2015-05-13 13:14:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano/commit/9dbe38de84ef7cd2e0b733c6a0e5fa82ba9cc520', 'message': 'App Dev Guide: Murano packages\n\nIncludes:\n - Package structure\n - Dynamic UI definition specification\n - Murano package repository.\n\nChange-Id: I95b6ae7ed3f036dd04062c49e1dbc3095f725245\n'}, {'number': 9, 'created': '2015-05-13 14:06:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano/commit/ec42f0d0c8f5cca216974791ef049c573d7de5c7', 'message': 'App Dev Guide: Murano packages\n\nIncludes:\n - Package structure\n - Dynamic UI definition specification\n - Murano package repository.\n\nChange-Id: I95b6ae7ed3f036dd04062c49e1dbc3095f725245\n'}, {'number': 10, 'created': '2015-05-13 14:58:50.000000000', 'files': ['doc/source/draft/appdev-guide/muranopackages/package_structure.rst', 'doc/source/draft/appdev-guide/muranopackages/dynamic_ui.rst', 'doc/source/draft/appdev-guide/muranopackages/repository.rst', 'doc/source/draft/appdev-guide/murano_packages.rst', 'doc/source/draft/appdev-guide/muranopackages/structure.vdx', 'doc/source/draft/appdev-guide/muranopackages/structure.png'], 'web_link': 'https://opendev.org/openstack/murano/commit/e1472bb89157cb9e8db1b3a9051216ebd5ced9ef', 'message': 'App Dev Guide: Murano packages\n\nIncludes:\n - Package structure\n - Dynamic UI definition specification\n - Murano package repository.\n\nChange-Id: I95b6ae7ed3f036dd04062c49e1dbc3095f725245\n'}]",15,181370,e1472bb89157cb9e8db1b3a9051216ebd5ced9ef,49,12,10,14396,,,0,"App Dev Guide: Murano packages

Includes:
 - Package structure
 - Dynamic UI definition specification
 - Murano package repository.

Change-Id: I95b6ae7ed3f036dd04062c49e1dbc3095f725245
",git fetch https://review.opendev.org/openstack/murano refs/changes/70/181370/8 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/draft/appdev-guide/muranopackages/repository.rst', 'doc/source/draft/appdev-guide/murano_packages.rst']",2,d2550d5395f98c958b2bc8efed6f13cf6a2bfc30,muranopackages,.. include:: muranopackages/repository.rst,Package structure ~~~~~~~~~~~~~~~~~ Dynamic UI definition specification ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ Murano package repository ~~~~~~~~~~~~~~~~~~~~~~~~~,37,8
openstack%2Fopenstack-ansible~master~I354e8515570fa7174366ba57d57aece3c304568e,openstack/openstack-ansible,master,I354e8515570fa7174366ba57d57aece3c304568e,added role to pin packages,MERGED,2015-05-06 16:26:21.000000000,2015-05-13 15:59:02.000000000,2015-05-13 15:59:01.000000000,"[{'_account_id': 3}, {'_account_id': 7217}, {'_account_id': 7414}, {'_account_id': 9884}, {'_account_id': 12807}, {'_account_id': 12892}]","[{'number': 1, 'created': '2015-05-06 16:26:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/189a7bc4044248b94a1cd6c9bc85290ba6ae2ff4', 'message': 'added role to pin packages\n\nThis new role is now providing the ability for a user to pin apt\npackages as they see fit. The idea is to allow someone to implement\npinning in a generic way that can be represented as a global variable\nor as a hostvar. The new role has been added to all install roles as\na dependency which will allow it to ensure that packages are pinned\neverywhere as would be expected.\n\nChange-Id: I354e8515570fa7174366ba57d57aece3c304568e\n'}, {'number': 2, 'created': '2015-05-07 03:58:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/751ac74dab208ddde12f3791fc49eba210aad15c', 'message': 'added role to pin packages\n\nThis new role is now providing the ability for a user to pin apt\npackages as they see fit. The idea is to allow someone to implement\npinning in a generic way that can be represented as a global variable\nor as a hostvar. The new role has been added to all install roles as\na dependency which will allow it to ensure that packages are pinned\neverywhere as would be expected.\n\nChange-Id: I354e8515570fa7174366ba57d57aece3c304568e\n'}, {'number': 3, 'created': '2015-05-08 18:22:47.000000000', 'files': ['playbooks/roles/os_swift/meta/main.yml', 'playbooks/roles/rsyslog_server/meta/main.yml', 'playbooks/roles/repo_server/meta/main.yml', 'playbooks/roles/apt_package_pinning/tasks/main.yml', 'playbooks/roles/haproxy_server/meta/main.yml', 'playbooks/roles/os_horizon/meta/main.yml', 'playbooks/roles/os_heat/meta/main.yml', 'playbooks/roles/openstack_hosts/meta/main.yml', 'playbooks/roles/os_glance/meta/main.yml', 'playbooks/roles/galera_server/meta/main.yml', 'playbooks/roles/os_nova/meta/main.yml', 'playbooks/roles/apt_package_pinning/defaults/main.yml', 'playbooks/roles/os_keystone/meta/main.yml', 'playbooks/roles/apt_package_pinning/LICENSE', 'playbooks/roles/rabbitmq_server/meta/main.yml', 'playbooks/roles/apt_package_pinning/README.rst', 'playbooks/roles/os_cinder/meta/main.yml', 'etc/openstack_deploy/user_variables.yml', 'playbooks/roles/apt_package_pinning/templates/apt_pinned_packages.perf.j2', 'playbooks/roles/apt_package_pinning/meta/main.yml', 'playbooks/roles/os_neutron/meta/main.yml', 'playbooks/roles/os_tempest/meta/main.yml', 'playbooks/roles/memcached_server/meta/main.yml', 'playbooks/roles/lxc_hosts/meta/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/f139eb09d43be7f13d227f3893ac7ee05f1e36d6', 'message': 'added role to pin packages\n\nThis new role is now providing the ability for a user to pin apt\npackages as they see fit. The idea is to allow someone to implement\npinning in a generic way that can be represented as a global variable\nor as a hostvar. The new role has been added to all install roles as\na dependency which will allow it to ensure that packages are pinned\neverywhere as would be expected.\n\nChange-Id: I354e8515570fa7174366ba57d57aece3c304568e\n'}]",2,180613,f139eb09d43be7f13d227f3893ac7ee05f1e36d6,26,6,3,7353,,,0,"added role to pin packages

This new role is now providing the ability for a user to pin apt
packages as they see fit. The idea is to allow someone to implement
pinning in a generic way that can be represented as a global variable
or as a hostvar. The new role has been added to all install roles as
a dependency which will allow it to ensure that packages are pinned
everywhere as would be expected.

Change-Id: I354e8515570fa7174366ba57d57aece3c304568e
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/13/180613/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/roles/os_swift/meta/main.yml', 'playbooks/roles/rsyslog_server/meta/main.yml', 'playbooks/roles/repo_server/meta/main.yml', 'playbooks/roles/apt_package_pinning/tasks/main.yml', 'playbooks/roles/haproxy_server/meta/main.yml', 'playbooks/roles/os_horizon/meta/main.yml', 'playbooks/roles/os_heat/meta/main.yml', 'playbooks/roles/openstack_hosts/meta/main.yml', 'playbooks/roles/os_glance/meta/main.yml', 'playbooks/roles/galera_server/meta/main.yml', 'playbooks/roles/os_nova/meta/main.yml', 'playbooks/roles/apt_package_pinning/defaults/main.yml', 'playbooks/roles/os_keystone/meta/main.yml', 'playbooks/roles/apt_package_pinning/LICENSE', 'playbooks/roles/rabbitmq_server/meta/main.yml', 'playbooks/roles/apt_package_pinning/README.rst', 'playbooks/roles/os_cinder/meta/main.yml', 'etc/openstack_deploy/user_variables.yml', 'playbooks/roles/apt_package_pinning/templates/apt_pinned_packages.perf.j2', 'playbooks/roles/apt_package_pinning/meta/main.yml', 'playbooks/roles/os_neutron/meta/main.yml', 'playbooks/roles/os_tempest/meta/main.yml', 'playbooks/roles/memcached_server/meta/main.yml', 'playbooks/roles/lxc_hosts/meta/main.yml', 'playbooks/roles/pip_install/meta/main.yml']",25,189a7bc4044248b94a1cd6c9bc85290ba6ae2ff4,host-package-pinning,dependencies: - apt_package_pinning,dependencies: [],349,5
openstack%2Fopenstack-ansible~master~I09ab7eb2ed34237c41132596e998c7b24cd03f1f,openstack/openstack-ansible,master,I09ab7eb2ed34237c41132596e998c7b24cd03f1f,Updated cinder nfs variable name so that it'll work,MERGED,2015-05-08 20:47:33.000000000,2015-05-13 15:59:00.000000000,2015-05-13 15:58:58.000000000,"[{'_account_id': 3}, {'_account_id': 7307}, {'_account_id': 9884}, {'_account_id': 12892}]","[{'number': 1, 'created': '2015-05-08 20:47:33.000000000', 'files': ['playbooks/roles/os_cinder/templates/nfs_shares.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/f519817736a2c7490a9a417092ee4d22cfd6a3b3', 'message': ""Updated cinder nfs variable name so that it'll work\n\nThe variable was nfs_client but it needs to be cinder_nfs_client\nthis commit renames that variable so that it'll function as\nexpected.\n\nChange-Id: I09ab7eb2ed34237c41132596e998c7b24cd03f1f\nCloses-Bug: 1453271\n""}]",0,181550,f519817736a2c7490a9a417092ee4d22cfd6a3b3,9,4,1,7353,,,0,"Updated cinder nfs variable name so that it'll work

The variable was nfs_client but it needs to be cinder_nfs_client
this commit renames that variable so that it'll function as
expected.

Change-Id: I09ab7eb2ed34237c41132596e998c7b24cd03f1f
Closes-Bug: 1453271
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/50/181550/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/roles/os_cinder/templates/nfs_shares.j2'],1,f519817736a2c7490a9a417092ee4d22cfd6a3b3,bug/1453271,{% for share in cinder_nfs_client.shares %},{% for share in nfs_client.shares %},1,1
openstack%2Fopenstack-ansible~kilo~I09ab7eb2ed34237c41132596e998c7b24cd03f1f,openstack/openstack-ansible,kilo,I09ab7eb2ed34237c41132596e998c7b24cd03f1f,Updated cinder nfs variable name so that it'll work,MERGED,2015-05-08 20:48:03.000000000,2015-05-13 15:58:51.000000000,2015-05-13 15:58:50.000000000,"[{'_account_id': 3}, {'_account_id': 7307}, {'_account_id': 12892}]","[{'number': 1, 'created': '2015-05-08 20:48:03.000000000', 'files': ['playbooks/roles/os_cinder/templates/nfs_shares.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/fe170d0404a4491b43462ffd9f99a465a2e4ce4f', 'message': ""Updated cinder nfs variable name so that it'll work\n\nThe variable was nfs_client but it needs to be cinder_nfs_client\nthis commit renames that variable so that it'll function as\nexpected.\n\nChange-Id: I09ab7eb2ed34237c41132596e998c7b24cd03f1f\nCloses-Bug: 1453271\n(cherry picked from commit f519817736a2c7490a9a417092ee4d22cfd6a3b3)\n""}]",0,181551,fe170d0404a4491b43462ffd9f99a465a2e4ce4f,6,3,1,7353,,,0,"Updated cinder nfs variable name so that it'll work

The variable was nfs_client but it needs to be cinder_nfs_client
this commit renames that variable so that it'll function as
expected.

Change-Id: I09ab7eb2ed34237c41132596e998c7b24cd03f1f
Closes-Bug: 1453271
(cherry picked from commit f519817736a2c7490a9a417092ee4d22cfd6a3b3)
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/51/181551/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/roles/os_cinder/templates/nfs_shares.j2'],1,fe170d0404a4491b43462ffd9f99a465a2e4ce4f,,{% for share in cinder_nfs_client.shares %},{% for share in nfs_client.shares %},1,1
openstack%2Fopenstack-manuals~master~I04266938f5d7a3fc8b9bca12e2a8bc5e46396816,openstack/openstack-manuals,master,I04266938f5d7a3fc8b9bca12e2a8bc5e46396816,made change to section_compute-configure-migrations.xml,MERGED,2015-05-13 15:17:03.000000000,2015-05-13 15:58:35.000000000,2015-05-13 15:58:34.000000000,"[{'_account_id': 3}, {'_account_id': 9382}, {'_account_id': 9383}, {'_account_id': 14920}]","[{'number': 1, 'created': '2015-05-13 15:17:03.000000000', 'files': ['doc/admin-guide-cloud/compute/section_compute-configure-migrations.xml'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/eca838b32d432570beeb9fd960bdb844f6881ccd', 'message': 'made change to section_compute-configure-migrations.xml\n\nper doc conventions plug-in was misused\n\nChange-Id: I04266938f5d7a3fc8b9bca12e2a8bc5e46396816\n'}]",0,182714,eca838b32d432570beeb9fd960bdb844f6881ccd,8,4,1,15804,,,0,"made change to section_compute-configure-migrations.xml

per doc conventions plug-in was misused

Change-Id: I04266938f5d7a3fc8b9bca12e2a8bc5e46396816
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/14/182714/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/admin-guide-cloud/compute/section_compute-configure-migrations.xml'],1,eca838b32d432570beeb9fd960bdb844f6881ccd,section_compute-configure-migrations.xml, is used by the XAPI plug-ins to establish the pool., is used by the XAPI plugins to establish the pool.,1,1
openstack%2Ffuel-web~master~I68e3d558768d9f0afe7b8a60d9360cf257c92340,openstack/fuel-web,master,I68e3d558768d9f0afe7b8a60d9360cf257c92340,Double-quote all strings in astute.yaml,MERGED,2015-05-13 14:45:26.000000000,2015-05-13 15:54:59.000000000,2015-05-13 15:43:29.000000000,"[{'_account_id': 3}, {'_account_id': 6926}, {'_account_id': 8053}, {'_account_id': 8749}, {'_account_id': 8782}, {'_account_id': 8786}, {'_account_id': 8789}, {'_account_id': 8907}, {'_account_id': 8971}, {'_account_id': 9037}, {'_account_id': 10391}, {'_account_id': 10959}, {'_account_id': 11577}, {'_account_id': 11827}]","[{'number': 1, 'created': '2015-05-13 14:45:26.000000000', 'files': ['fuelmenu/fuelmenu/settings.py'], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/afbcea1d4928e588a8858e154770cd9d031a1fc7', 'message': 'Double-quote all strings in astute.yaml\n\nPuppet sometimes interprets a mac address as a\nnumeric value and not a string. For this reason,\nit is necessary to enclose all values in quotes\nto avoid this issue.\n\nChange-Id: I68e3d558768d9f0afe7b8a60d9360cf257c92340\nCloses-Bug: #1454708\n'}]",0,182702,afbcea1d4928e588a8858e154770cd9d031a1fc7,17,14,1,7195,,,0,"Double-quote all strings in astute.yaml

Puppet sometimes interprets a mac address as a
numeric value and not a string. For this reason,
it is necessary to enclose all values in quotes
to avoid this issue.

Change-Id: I68e3d558768d9f0afe7b8a60d9360cf257c92340
Closes-Bug: #1454708
",git fetch https://review.opendev.org/openstack/fuel-web refs/changes/02/182702/1 && git format-patch -1 --stdout FETCH_HEAD,['fuelmenu/fuelmenu/settings.py'],1,afbcea1d4928e588a8858e154770cd9d031a1fc7,bug/1454708," yaml.dump(settings, outfile, default_style='""', default_flow_style=False)"," yaml.dump(settings, outfile, default_flow_style=False)",2,1
openstack%2Fpython-barbicanclient~master~I075b89156e8af6c0a2b0e196a5f3e70c6b41160d,openstack/python-barbicanclient,master,I075b89156e8af6c0a2b0e196a5f3e70c6b41160d,Create behaviors for secrets,MERGED,2015-05-02 20:23:52.000000000,2015-05-13 15:53:05.000000000,2015-05-13 15:53:04.000000000,"[{'_account_id': 3}, {'_account_id': 6783}, {'_account_id': 7136}, {'_account_id': 7262}, {'_account_id': 7354}, {'_account_id': 7355}, {'_account_id': 7789}, {'_account_id': 7973}, {'_account_id': 8004}, {'_account_id': 9234}, {'_account_id': 9914}, {'_account_id': 10873}]","[{'number': 1, 'created': '2015-05-02 20:23:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-barbicanclient/commit/fa4a633f6a216f51fdca3aa2a08bc40fbddc49ef', 'message': 'Create behaviors for secrets\n\nTo prevent violations of DRY this CR will create behaviors for\nsecrets that will be available to other barbican resource testcases.\n\nChange-Id: I075b89156e8af6c0a2b0e196a5f3e70c6b41160d\n'}, {'number': 2, 'created': '2015-05-06 19:18:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-barbicanclient/commit/a0be85b6ba3dd87484a8be24a3ee7d539ded060e', 'message': 'Create behaviors for secrets\n\nTo prevent violations of DRY this CR will create behaviors for\nsecrets that will be available to other barbican resource testcases.\n\nChange-Id: I075b89156e8af6c0a2b0e196a5f3e70c6b41160d\n'}, {'number': 3, 'created': '2015-05-08 13:43:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-barbicanclient/commit/9d64f0b15ea0a30930cac7cb981f5464f91c18f0', 'message': 'Create behaviors for secrets\n\nTo prevent violations of DRY this CR will create behaviors for\nsecrets that will be available to other barbican resource testcases.\n\nChange-Id: I075b89156e8af6c0a2b0e196a5f3e70c6b41160d\n'}, {'number': 4, 'created': '2015-05-08 13:46:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-barbicanclient/commit/782b2163a95fec416f1012596406c6c04aadde6f', 'message': 'Create behaviors for secrets\n\nTo prevent violations of DRY this CR will create behaviors for\nsecrets that will be available to other barbican resource testcases.\n\nChange-Id: I075b89156e8af6c0a2b0e196a5f3e70c6b41160d\n'}, {'number': 5, 'created': '2015-05-08 17:17:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-barbicanclient/commit/7d2893d1042c0bb6cdfbc7b690088d8c2b34c30d', 'message': 'Create behaviors for secrets\n\nTo prevent violations of DRY this CR will create behaviors for\nsecrets that will be available to other barbican resource testcases.\n\nChange-Id: I075b89156e8af6c0a2b0e196a5f3e70c6b41160d\n'}, {'number': 6, 'created': '2015-05-11 16:27:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-barbicanclient/commit/3f6e0d7e30c424b2ba6207c9113766d4cc4699c1', 'message': 'Create behaviors for secrets\n\nTo prevent violations of DRY this CR will create behaviors for\nsecrets that will be available to other barbican resource testcases.\n\nChange-Id: I075b89156e8af6c0a2b0e196a5f3e70c6b41160d\n'}, {'number': 7, 'created': '2015-05-12 15:32:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-barbicanclient/commit/1c617ac9e0ab001beb32ef6491d9576ea264adb8', 'message': 'Create behaviors for secrets\n\nTo prevent violations of DRY this CR will create behaviors for\nsecrets that will be available to other barbican resource testcases.\n\nChange-Id: I075b89156e8af6c0a2b0e196a5f3e70c6b41160d\n'}, {'number': 8, 'created': '2015-05-12 17:53:31.000000000', 'files': ['functionaltests/cli/v1/behaviors/__init__.py', 'functionaltests/cli/v1/smoke/test_secret.py', 'functionaltests/cli/base.py', 'functionaltests/cli/v1/behaviors/base_behaviors.py', 'functionaltests/cli/v1/behaviors/secret_behaviors.py', 'functionaltests/cli/v1/smoke/test_help.py'], 'web_link': 'https://opendev.org/openstack/python-barbicanclient/commit/82daee29fb9ccc191e01b7d8d06b77ffd15e6059', 'message': 'Create behaviors for secrets\n\nTo prevent violations of DRY this CR will create behaviors for\nsecrets that will be available to other barbican resource testcases.\n\nChange-Id: I075b89156e8af6c0a2b0e196a5f3e70c6b41160d\n'}]",6,179609,82daee29fb9ccc191e01b7d8d06b77ffd15e6059,32,12,8,9234,,,0,"Create behaviors for secrets

To prevent violations of DRY this CR will create behaviors for
secrets that will be available to other barbican resource testcases.

Change-Id: I075b89156e8af6c0a2b0e196a5f3e70c6b41160d
",git fetch https://review.opendev.org/openstack/python-barbicanclient refs/changes/09/179609/8 && git format-patch -1 --stdout FETCH_HEAD,"['functionaltests/cli/v1/behaviors/__init__.py', 'functionaltests/cli/v1/smoke/test_secret.py', 'functionaltests/cli/base.py', 'functionaltests/cli/v1/behaviors/base_behaviors.py', 'functionaltests/cli/v1/behaviors/secret_behaviors.py', 'functionaltests/cli/v1/smoke/test_help.py']",6,fa4a633f6a216f51fdca3aa2a08bc40fbddc49ef,behaviors2,"from functionaltests.cli.v1.behaviors import base_behaviors self.help_behaviors = base_behaviors.BaseBehaviors() stdout, stderr = self.help_behaviors.issue_barbican_command(argv)"," stdout, stderr = self.issue_barbican_command(argv)",286,247
openstack%2Fopenstack-ansible~kilo~I354e8515570fa7174366ba57d57aece3c304568e,openstack/openstack-ansible,kilo,I354e8515570fa7174366ba57d57aece3c304568e,added role to pin packages,MERGED,2015-05-08 18:23:12.000000000,2015-05-13 15:49:21.000000000,2015-05-13 15:49:19.000000000,"[{'_account_id': 3}, {'_account_id': 7353}, {'_account_id': 7414}, {'_account_id': 12807}, {'_account_id': 12892}]","[{'number': 1, 'created': '2015-05-08 18:23:12.000000000', 'files': ['playbooks/roles/os_swift/meta/main.yml', 'playbooks/roles/rsyslog_server/meta/main.yml', 'playbooks/roles/repo_server/meta/main.yml', 'playbooks/roles/apt_package_pinning/tasks/main.yml', 'playbooks/roles/haproxy_server/meta/main.yml', 'playbooks/roles/os_horizon/meta/main.yml', 'playbooks/roles/os_heat/meta/main.yml', 'playbooks/roles/openstack_hosts/meta/main.yml', 'playbooks/roles/os_glance/meta/main.yml', 'playbooks/roles/galera_server/meta/main.yml', 'playbooks/roles/os_nova/meta/main.yml', 'playbooks/roles/apt_package_pinning/defaults/main.yml', 'playbooks/roles/os_keystone/meta/main.yml', 'playbooks/roles/apt_package_pinning/LICENSE', 'playbooks/roles/rabbitmq_server/meta/main.yml', 'playbooks/roles/apt_package_pinning/README.rst', 'playbooks/roles/os_cinder/meta/main.yml', 'etc/openstack_deploy/user_variables.yml', 'playbooks/roles/apt_package_pinning/templates/apt_pinned_packages.perf.j2', 'playbooks/roles/apt_package_pinning/meta/main.yml', 'playbooks/roles/os_neutron/meta/main.yml', 'playbooks/roles/os_tempest/meta/main.yml', 'playbooks/roles/memcached_server/meta/main.yml', 'playbooks/roles/lxc_hosts/meta/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/0d6430d66ff9b3caee12ad5569dbf5cd82d2ee26', 'message': 'added role to pin packages\n\nThis new role is now providing the ability for a user to pin apt\npackages as they see fit. The idea is to allow someone to implement\npinning in a generic way that can be represented as a global variable\nor as a hostvar. The new role has been added to all install roles as\na dependency which will allow it to ensure that packages are pinned\neverywhere as would be expected.\n\nChange-Id: I354e8515570fa7174366ba57d57aece3c304568e\n(cherry picked from commit f139eb09d43be7f13d227f3893ac7ee05f1e36d6)\n'}]",0,181492,0d6430d66ff9b3caee12ad5569dbf5cd82d2ee26,9,5,1,7353,,,0,"added role to pin packages

This new role is now providing the ability for a user to pin apt
packages as they see fit. The idea is to allow someone to implement
pinning in a generic way that can be represented as a global variable
or as a hostvar. The new role has been added to all install roles as
a dependency which will allow it to ensure that packages are pinned
everywhere as would be expected.

Change-Id: I354e8515570fa7174366ba57d57aece3c304568e
(cherry picked from commit f139eb09d43be7f13d227f3893ac7ee05f1e36d6)
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/92/181492/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/roles/os_swift/meta/main.yml', 'playbooks/roles/rsyslog_server/meta/main.yml', 'playbooks/roles/repo_server/meta/main.yml', 'playbooks/roles/apt_package_pinning/tasks/main.yml', 'playbooks/roles/haproxy_server/meta/main.yml', 'playbooks/roles/os_horizon/meta/main.yml', 'playbooks/roles/os_heat/meta/main.yml', 'playbooks/roles/openstack_hosts/meta/main.yml', 'playbooks/roles/os_glance/meta/main.yml', 'playbooks/roles/galera_server/meta/main.yml', 'playbooks/roles/os_nova/meta/main.yml', 'playbooks/roles/apt_package_pinning/defaults/main.yml', 'playbooks/roles/os_keystone/meta/main.yml', 'playbooks/roles/apt_package_pinning/LICENSE', 'playbooks/roles/rabbitmq_server/meta/main.yml', 'playbooks/roles/apt_package_pinning/README.rst', 'playbooks/roles/os_cinder/meta/main.yml', 'etc/openstack_deploy/user_variables.yml', 'playbooks/roles/apt_package_pinning/templates/apt_pinned_packages.perf.j2', 'playbooks/roles/apt_package_pinning/meta/main.yml', 'playbooks/roles/os_neutron/meta/main.yml', 'playbooks/roles/os_tempest/meta/main.yml', 'playbooks/roles/memcached_server/meta/main.yml', 'playbooks/roles/lxc_hosts/meta/main.yml']",24,0d6430d66ff9b3caee12ad5569dbf5cd82d2ee26,, - apt_package_pinning,,347,4
openstack%2Fmurano~master~I83eac073cc3727faa01c063e0370e6dfd146b5cb,openstack/murano,master,I83eac073cc3727faa01c063e0370e6dfd146b5cb,'Execution plan template' section,MERGED,2015-05-07 13:32:04.000000000,2015-05-13 15:48:25.000000000,2015-05-13 15:48:23.000000000,"[{'_account_id': 3}, {'_account_id': 7225}, {'_account_id': 7226}, {'_account_id': 7549}, {'_account_id': 7821}, {'_account_id': 14396}, {'_account_id': 14643}, {'_account_id': 15168}]","[{'number': 1, 'created': '2015-05-07 13:32:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano/commit/fc302187f74ccffa9df976607f1ecf1b5db9f7ab', 'message': ""'Execution plan template' section\n\n1) Adds the 'Execution plan template' section to App Dev guide\n2) Adds the 'Examples' file, as it was not included in the structure\nand the 'Execution plan template' section links to it\n3)* Changes the titles of user and admin user guides in the\ndraft/index.rst\n\nChange-Id: I83eac073cc3727faa01c063e0370e6dfd146b5cb\n""}, {'number': 2, 'created': '2015-05-07 13:34:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano/commit/b32bd4dce92c9f0d6196b7e9a4437e87ab6340df', 'message': ""'Execution plan template' section\n\n1) Adds the 'Execution plan template' section to App Dev guide\n2) Adds the 'Examples' file, as it was not included in the structure\nand the 'Execution plan template' section links to it\n3)* Changes the titles of user and admin user guides in the\ndraft/index.rst\n\nChange-Id: I83eac073cc3727faa01c063e0370e6dfd146b5cb\n""}, {'number': 3, 'created': '2015-05-12 15:38:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano/commit/6cb51f6369e176a85c83040c00e1cf9e45ab0039', 'message': ""'Execution plan template' section\n\n1) Adds the 'Execution plan template' section to App Dev guide\n2) Adds the 'Examples' file, as it was not included in the structure\nand the 'Execution plan template' section links to it\n3)* Changes the titles of user and admin user guides in the\ndraft/index.rst\n\nChange-Id: I83eac073cc3727faa01c063e0370e6dfd146b5cb\n""}, {'number': 4, 'created': '2015-05-12 16:24:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano/commit/da1d9304d6d5f5eee44122c012766944f41560b5', 'message': ""'Execution plan template' section\n\n1) Adds the 'Execution plan template' section to App Dev guide\n2) Adds the 'Examples' file, as it was not included in the structure\nand the 'Execution plan template' section links to it\n3)* Changes the titles of user and admin user guides in the\ndraft/index.rst.\n\nChange-Id: I83eac073cc3727faa01c063e0370e6dfd146b5cb\n""}, {'number': 5, 'created': '2015-05-13 13:28:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano/commit/cc5720a06b96df61e853b09c4f7720d7b3a5b3a5', 'message': ""'Execution plan template' section\n\n1) Adds the 'Execution plan template' section to App Dev guide\n\n2) Changes the titles of user and admin user guides in the\n   draft/index.rst.\n\nChange-Id: I83eac073cc3727faa01c063e0370e6dfd146b5cb\n""}, {'number': 6, 'created': '2015-05-13 14:04:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano/commit/eec7c9eb06d756de29c3a7db8b9da288949d7fa4', 'message': ""'Execution plan template' section\n\n1) Adds the 'Execution plan template' section to App Dev guide\n\n2) Changes the titles of user and admin user guides in the\n   draft/index.rst.\n\nChange-Id: I83eac073cc3727faa01c063e0370e6dfd146b5cb\n""}, {'number': 7, 'created': '2015-05-13 14:11:27.000000000', 'files': ['doc/source/draft/index.rst', 'doc/source/draft/appdev-guide/exec_plan.rst'], 'web_link': 'https://opendev.org/openstack/murano/commit/e2b1f0ab5a41ce1e3512a2fe0a042179383cc2a1', 'message': ""'Execution plan template' section\n\n1) Adds the 'Execution plan template' section to App Dev guide\n\n2) Changes the titles of user and admin user guides in the\n   draft/index.rst.\n\nChange-Id: I83eac073cc3727faa01c063e0370e6dfd146b5cb\n""}]",46,180989,e2b1f0ab5a41ce1e3512a2fe0a042179383cc2a1,36,8,7,14643,,,0,"'Execution plan template' section

1) Adds the 'Execution plan template' section to App Dev guide

2) Changes the titles of user and admin user guides in the
   draft/index.rst.

Change-Id: I83eac073cc3727faa01c063e0370e6dfd146b5cb
",git fetch https://review.opendev.org/openstack/murano refs/changes/89/180989/6 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/draft/index.rst', 'doc/source/draft/appdev-guide/examples.rst', 'doc/source/draft/appdev-guide/exec_plan.rst']",3,fc302187f74ccffa9df976607f1ecf1b5db9f7ab,exec_plan,"Execution plan template An execution plan is a set of metadata that describes the installation process of an application on a virtual machine. It is a minimal executable unit that can be triggered in Murano workflows and is understandable to the Murano agent, which is responsible for receiving, correctness verification and execution of the statements included to the template. The execution plan is able to trigger any type of script that executes commands and installs application components as the result. Each script included in the execution plan may consist of a single file or a set of interrelated files. A single script can be reused across several execution plans. The table below contains the list of the sections that can be included to the execution plan template with the description of their meaning and the default attributes which are used by the agent if any of the listed parameters is not specified. ================== =================================================== Section name Meaning and default value ================== =================================================== FormatVersion a version of the execution plan template syntax format. Optional, default is ``1.0.0`` Name a human-readable name for the execution plan to be used for logging. Version a version of the execution plan itself, is used for logging and tracing. Each time the content of the template content changes (main script, attached scripts, properties, etc.), the version value should be incremented. This is in contrast with ``FormatVersion``, which is used to distinguish the execution plan format. The default value is ``0.0.0`` Body a Python statement, should start with the ``|`` symbol. Parameters a dictionary of the ``String->JsonObject`` type that maps parameter names to their values. Optional Scripts a dictionary that maps script names to their script definitions. Required ================== =================================================== Scripts section ~~~~~~~~~~~~~~~ Scripts are the buildings blocks of execution plan templates. As the name implies those are the scripts for different deployment platforms. Each script may consists of one or more files. Those files are scripts program modules, resource files, configs, certificates etc. Scripts may be executed as a whole (like a single piece of code), expose some functions that can be independently called in an execution plan script or both. This depends on deployment platform and executor capabilities. Scripts are specified using ``Scripts`` attribute of execution plan. This attribute maps script name to a structure (document) that describes the script. It has the following properties: **Type** the name of a deployment platform the script is targeted to. The available alternative options for version>=2.1.0 are ``Application``, ``Chef``, ``Puppet``, and for version<2.1.0 is ``Application`` only. String, required. **Version** the minimum version of the deployment platform/executor required by the script. String, optional. **EntryPoint** the name of the file that is an entry point for the script. String, required **Files** the filenames of the additional files required for the script. Thus, if the script specified in the ``EntryPoint`` section imports other scripts, they should be provided in this section. Specify ``[]`` if no extra files are used. Array, required. **Options** an optional dictionary of type ``String->JsonObject`` that contains additional options for the script executor. If not provided, an empty dictionary is assumed. Available alternatives: ``captureStdout``, ``captureStderr``, ``verifyExitcode`` (raise an exception if result is not positive) .. note:: ``Type`` and ``EntryPoints`` attributes are mandatory. Execution plan fails if it contains any scripts without these attributes specified. The same is also true if ``Files`` entry of an execution plan does not contain any of mentioned script files (entry point or additional files). Files section ~~~~~~~~~~~~~ Files is an execution plans entry that describes files that are passed as the part of the execution plan template. This is a dictionary that maps file ID to a document describing the file. It has the following attributes: **Name** the filename; may include slashes to specify files located in nested folders. The root directory is the ``Resoures/scripts`` directory. **BodyType** is one of the following: * ``Text``: Body attribute contains string content of the file * ``Base64``: Body attribute contains base64 encoded string content of the (binary) file **Body** contains file data or valid file reference For different configurations of the execution plan templates, please refer to the :ref:`Examples <examples>` section. ",Execution Plan template,141,4
openstack%2Fdesignate~master~I02d22212511246f0c1b8138fa3413770cd5810a1,openstack/designate,master,I02d22212511246f0c1b8138fa3413770cd5810a1,Fix check+set race condition in APIv1/Sink,MERGED,2015-05-12 14:00:27.000000000,2015-05-13 15:47:05.000000000,2015-05-13 15:09:18.000000000,"[{'_account_id': 3}, {'_account_id': 741}, {'_account_id': 4894}, {'_account_id': 8094}, {'_account_id': 8099}, {'_account_id': 8174}]","[{'number': 1, 'created': '2015-05-12 14:00:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/0f849520aee1f41e9d814495337e41f7670ac55b', 'message': 'Fix check+set race condition in APIv1/Sink\n\nChange-Id: I02d22212511246f0c1b8138fa3413770cd5810a1\nCloses-Bug: 1454262\n'}, {'number': 2, 'created': '2015-05-12 14:49:23.000000000', 'files': ['designate/notification_handler/base.py', 'designate/api/v1/records.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/ef769bf960c9e24f571b80935e03dcd3d8e61c34', 'message': 'Fix check+set race condition in APIv1/Sink\n\nChange-Id: I02d22212511246f0c1b8138fa3413770cd5810a1\nCloses-Bug: 1454262\n'}]",0,182303,ef769bf960c9e24f571b80935e03dcd3d8e61c34,11,6,2,741,,,0,"Fix check+set race condition in APIv1/Sink

Change-Id: I02d22212511246f0c1b8138fa3413770cd5810a1
Closes-Bug: 1454262
",git fetch https://review.opendev.org/openstack/designate refs/changes/03/182303/2 && git format-patch -1 --stdout FETCH_HEAD,"['designate/notification_handler/base.py', 'designate/api/v1/records.py']",2,0f849520aee1f41e9d814495337e41f7670ac55b,bug/1454262," # Attempt to create an empty recordset except exceptions.DuplicateRecordSet: # Fetch the existing recordset recordset = _find_recordset(context, domain_id, name, type) "," recordset = _find_recordset(context, domain_id, name, type) except exceptions.RecordSetNotFound: # Create an empty recordset",15,9
openstack%2Fpython-muranoclient~stable%2Fkilo~I34b7bee6c104a5a75621071905f1b94ca0dc6cb4,openstack/python-muranoclient,stable/kilo,I34b7bee6c104a5a75621071905f1b94ca0dc6cb4,Set correct version in stable/kilo metadata,ABANDONED,2015-05-12 10:50:17.000000000,2015-05-13 15:46:23.000000000,,"[{'_account_id': 3}, {'_account_id': 7225}, {'_account_id': 7821}, {'_account_id': 15168}]","[{'number': 1, 'created': '2015-05-12 10:50:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-muranoclient/commit/c4c389c388dc710bf4d470f50cdf3bc28c7a7794', 'message': 'Set correct version in stable/kilo metadata\n\nChange-Id: I34b7bee6c104a5a75621071905f1b94ca0dc6cb4\n'}, {'number': 2, 'created': '2015-05-12 11:17:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-muranoclient/commit/8c12cf986ae4e855fbab13ffb08e6b9ae22e7c4c', 'message': 'Set correct version in stable/kilo metadata\n\nChange-Id: I34b7bee6c104a5a75621071905f1b94ca0dc6cb4\n'}, {'number': 3, 'created': '2015-05-12 17:15:46.000000000', 'files': ['test-requirements.txt', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/python-muranoclient/commit/1ddbd2d95397933b596c31447c9c5f2044bd81d9', 'message': 'Set correct version in stable/kilo metadata\n\nChange-Id: I34b7bee6c104a5a75621071905f1b94ca0dc6cb4\nDepends-On: Ic59f91ff541f2dac25d911dedfb7028c0ac4b516\n'}]",0,182232,1ddbd2d95397933b596c31447c9c5f2044bd81d9,17,4,3,15168,,,0,"Set correct version in stable/kilo metadata

Change-Id: I34b7bee6c104a5a75621071905f1b94ca0dc6cb4
Depends-On: Ic59f91ff541f2dac25d911dedfb7028c0ac4b516
",git fetch https://review.opendev.org/openstack/python-muranoclient refs/changes/32/182232/3 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,c4c389c388dc710bf4d470f50cdf3bc28c7a7794,,version = 2015.1.1,,1,0
openstack%2Fpython-saharaclient~master~I3af8e8b1023570ad37944618525e74d4245785e9,openstack/python-saharaclient,master,I3af8e8b1023570ad37944618525e74d4245785e9,Updated from global requirements,MERGED,2015-05-07 23:37:31.000000000,2015-05-13 15:43:40.000000000,2015-05-13 15:43:39.000000000,"[{'_account_id': 3}, {'_account_id': 7125}, {'_account_id': 7213}, {'_account_id': 8411}, {'_account_id': 10670}, {'_account_id': 13953}]","[{'number': 1, 'created': '2015-05-07 23:37:31.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/python-saharaclient/commit/954b42d147f1742f3c79e1657f920657759abd49', 'message': 'Updated from global requirements\n\nChange-Id: I3af8e8b1023570ad37944618525e74d4245785e9\n'}]",0,181240,954b42d147f1742f3c79e1657f920657759abd49,11,6,1,11131,,,0,"Updated from global requirements

Change-Id: I3af8e8b1023570ad37944618525e74d4245785e9
",git fetch https://review.opendev.org/openstack/python-saharaclient refs/changes/40/181240/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,954b42d147f1742f3c79e1657f920657759abd49,openstack/requirements,"pbr>=0.11,<2.0","pbr>=0.6,!=0.7,<1.0",1,1
openstack%2Fmurano~master~I2a72d2e90d1652ff814d1813eabc71f967a4f823,openstack/murano,master,I2a72d2e90d1652ff814d1813eabc71f967a4f823,Appdev guide migration,MERGED,2015-05-13 14:20:20.000000000,2015-05-13 15:42:17.000000000,2015-05-13 15:42:15.000000000,"[{'_account_id': 3}, {'_account_id': 7225}, {'_account_id': 7549}, {'_account_id': 7821}, {'_account_id': 9382}, {'_account_id': 14920}]","[{'number': 1, 'created': '2015-05-13 14:20:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano/commit/02a466bb675a973f088c6444387cb4db837daa85', 'message': 'Appdev guide migration\n\nMigrates the Appdev guide to the index page of the Murano documentation\n(from draft/index.rst)\n\nChange-Id: I2a72d2e90d1652ff814d1813eabc71f967a4f823\n'}, {'number': 2, 'created': '2015-05-13 14:32:23.000000000', 'files': ['doc/source/draft/index.rst', 'doc/source/index.rst'], 'web_link': 'https://opendev.org/openstack/murano/commit/31da6388c24e4ed4538d8a6837a137d396fd3911', 'message': 'Appdev guide migration\n\nAdds the Appdev guide to the index page of the Murano documentation\n(from draft/index.rst)\n\nChange-Id: I2a72d2e90d1652ff814d1813eabc71f967a4f823\n'}]",0,182692,31da6388c24e4ed4538d8a6837a137d396fd3911,13,6,2,14643,,,0,"Appdev guide migration

Adds the Appdev guide to the index page of the Murano documentation
(from draft/index.rst)

Change-Id: I2a72d2e90d1652ff814d1813eabc71f967a4f823
",git fetch https://review.opendev.org/openstack/murano refs/changes/92/182692/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/draft/index.rst', 'doc/source/index.rst']",2,02a466bb675a973f088c6444387cb4db837daa85,appdev_guide_migration,Developing Applications ~~~~~~~~~~~~~~~~~~~~~~~ .. toctree:: :maxdepth: 2 draft/appdev-guide/step_by_step draft/appdev-guide/exec_plan draft/appdev-guide/hot_packages draft/appdev-guide/murano_pl draft/appdev-guide/murano_packages draft/appdev-guide/examples draft/appdev-guide/use_cases draft/appdev-guide/faq ,,16,17
openstack%2Fmurano~master~If8f348c877247993deaf26cbc40a26cf8cf81d49,openstack/murano,master,If8f348c877247993deaf26cbc40a26cf8cf81d49,App Dev Guide: MuranoPL section,MERGED,2015-05-08 07:44:47.000000000,2015-05-13 15:38:35.000000000,2015-05-13 15:38:32.000000000,"[{'_account_id': 3}, {'_account_id': 7225}, {'_account_id': 7549}, {'_account_id': 7821}, {'_account_id': 13149}, {'_account_id': 13962}, {'_account_id': 14396}, {'_account_id': 14420}, {'_account_id': 14643}, {'_account_id': 15168}, {'_account_id': 16259}]","[{'number': 1, 'created': '2015-05-08 07:44:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano/commit/7f69b373879f25af90c0ed9fce703ddcfaae360b', 'message': 'App Dev Guide: MuranoPL section\n\nIncludes:\n -YAML\n -YAQL\n -Common class structure\n -Core library\n\nChange-Id: If8f348c877247993deaf26cbc40a26cf8cf81d49\n'}, {'number': 2, 'created': '2015-05-08 08:17:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano/commit/511e626f5d8e93fba58b82753bca4bb04e86c110', 'message': 'App Dev Guide: MuranoPL section\n\nIncludes:\n -YAML\n -YAQL\n -Common class structure\n -Core library\n\nChange-Id: If8f348c877247993deaf26cbc40a26cf8cf81d49\n'}, {'number': 3, 'created': '2015-05-08 12:34:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano/commit/60ae432b8d9e8443ef86e7b292345bdc47715efc', 'message': 'App Dev Guide: MuranoPL section\n\nIncludes:\n -YAML\n -YAQL\n -Common class structure\n -Core library\n\nChange-Id: If8f348c877247993deaf26cbc40a26cf8cf81d49\n'}, {'number': 4, 'created': '2015-05-12 12:13:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano/commit/7c60c748155600e154b0b349f2b5a4ba701cce25', 'message': 'App Dev Guide: MuranoPL section\n\nIncludes:\n -YAML\n -YAQL\n -Common class structure\n -Core library\n\nChange-Id: If8f348c877247993deaf26cbc40a26cf8cf81d49\n'}, {'number': 5, 'created': '2015-05-13 07:45:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano/commit/9b7138a461eda7a3e02f96a89ff26f75de5617e3', 'message': 'App Dev Guide: MuranoPL section\n\nIncludes:\n -YAML\n -YAQL\n -Common class structure\n -Core library\n\nChange-Id: If8f348c877247993deaf26cbc40a26cf8cf81d49\n'}, {'number': 6, 'created': '2015-05-13 13:19:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano/commit/6cebc7cbdd390ee12fa32b4dbc5eb97ec77ce436', 'message': 'App Dev Guide: MuranoPL section\n\nIncludes:\n -YAML\n -YAQL\n -Common class structure\n -Core library\n\nChange-Id: If8f348c877247993deaf26cbc40a26cf8cf81d49\n'}, {'number': 7, 'created': '2015-05-13 14:04:18.000000000', 'files': ['doc/source/draft/appdev-guide/murano_pl/yaql.rst', 'doc/source/draft/appdev-guide/murano_pl.rst', 'doc/source/draft/appdev-guide/murano_pl/core_classes.rst', 'doc/source/draft/appdev-guide/murano_pl/class_templ.rst', 'doc/source/draft/appdev-guide/murano_pl/yaml.rst'], 'web_link': 'https://opendev.org/openstack/murano/commit/d2117c9a2f8c11dc58c29f833d4ffc9391d82065', 'message': 'App Dev Guide: MuranoPL section\n\nIncludes:\n -YAML\n -YAQL\n -Common class structure\n -Core library\n\nChange-Id: If8f348c877247993deaf26cbc40a26cf8cf81d49\n'}]",19,181317,d2117c9a2f8c11dc58c29f833d4ffc9391d82065,43,11,7,14396,,,0,"App Dev Guide: MuranoPL section

Includes:
 -YAML
 -YAQL
 -Common class structure
 -Core library

Change-Id: If8f348c877247993deaf26cbc40a26cf8cf81d49
",git fetch https://review.opendev.org/openstack/murano refs/changes/17/181317/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/draft/appdev-guide/murano_pl/yaql.rst', 'doc/source/draft/appdev-guide/murano_pl.rst', 'doc/source/draft/appdev-guide/murano_pl/core_classes.rst', 'doc/source/draft/appdev-guide/murano_pl/class_templ.rst', 'doc/source/draft/appdev-guide/murano_pl/yaml.rst']",5,7f69b373879f25af90c0ed9fce703ddcfaae360b,muranopl,"YAML ~~~~ YAML is a human-readable data serialization format that is a superset of JSON. Unlike JSON YAML was designed to be read and written by humans and relies on visual indentation to denote nesting of data structures. This is similar to how Python uses indentation for block structures instead of curly brackets in most C-like languages. Also YAML may contain more data types comparing to JSON. See http://yaml.org/ for a detailed description of YAML. MuranoPL was designed to be representable in YAML so that MuranoPL code could remain readable and structured. Thus usually MuranoPL files are YAML encoded documents. But MuranoPL engine itself doesn't deal directly with YAML documents and it is up to hosting application to locate and deserialize definitions of particular classes. This gives hosting application ability to control where those definitions can be found (a file system, a database, a remote repository, etc.) and possibly use some other serialization formats instead of YAML. MuranoPL engine relies on a host deserialization code to automatically detect YAQL expressions in a source definition and to provide them as instances of YaqlExpression class rather than plain strings. Usually YAQL expressions can be distinguished by presence of $ (dollar sign) and operators, but in YAML, a developer can always explicitly state the type by using YAML tags. For example: :: Some text - a string, $.something() - YAQL ""$.something()"" - string (because of quote marks) !!str $ - a string (because of YAML tag) !yaql ""text"" - YAQL (because of YAML tag) ",,1000,10
openstack%2Fpuppet-cinder~master~I2a0a76b54ebedba1ec098b8c64bd8e9684ed3099,openstack/puppet-cinder,master,I2a0a76b54ebedba1ec098b8c64bd8e9684ed3099,Decouple $sync_db from $enabled,MERGED,2015-05-06 16:19:20.000000000,2015-05-13 15:36:24.000000000,2015-05-13 15:36:23.000000000,"[{'_account_id': 3}, {'_account_id': 1918}, {'_account_id': 3153}, {'_account_id': 6796}, {'_account_id': 8042}, {'_account_id': 9410}, {'_account_id': 11491}]","[{'number': 1, 'created': '2015-05-06 16:19:20.000000000', 'files': ['manifests/api.pp', 'spec/classes/cinder_api_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/ffdd9836bd52546e712a8b814d1ededd9a0f1c84', 'message': 'Decouple $sync_db from $enabled\n\nHaving to set both $enabled and $sync_db to true for the DB sync to\nhappen breaks use cases when the service should stay completely\nunmanaged (not enabled, not started), but DB sync should still happen.\nFor versatility of the module, the $enabled and $sync_db conditions\nshould be decoupled.\n\nChange-Id: I2a0a76b54ebedba1ec098b8c64bd8e9684ed3099\nCloses-Bug: #1452278\n'}]",0,180610,ffdd9836bd52546e712a8b814d1ededd9a0f1c84,16,7,1,8042,,,0,"Decouple $sync_db from $enabled

Having to set both $enabled and $sync_db to true for the DB sync to
happen breaks use cases when the service should stay completely
unmanaged (not enabled, not started), but DB sync should still happen.
For versatility of the module, the $enabled and $sync_db conditions
should be decoupled.

Change-Id: I2a0a76b54ebedba1ec098b8c64bd8e9684ed3099
Closes-Bug: #1452278
",git fetch https://review.opendev.org/openstack/puppet-cinder refs/changes/10/180610/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/api.pp', 'spec/classes/cinder_api_spec.rb']",2,ffdd9836bd52546e712a8b814d1ededd9a0f1c84,bug/1452278, is_expected.to contain_exec('cinder-manage db_sync') it 'should contain db_sync exec' do is_expected.to contain_exec('cinder-manage db_sync') end, is_expected.to_not contain_exec('cinder-manage db_sync'),17,13
openstack%2Ftempest~master~I404357be4c9fb2079332eed614bd61eee6ae6dc1,openstack/tempest,master,I404357be4c9fb2079332eed614bd61eee6ae6dc1,Introduce creds_provider in test.py,MERGED,2015-05-12 15:40:51.000000000,2015-05-13 15:26:42.000000000,2015-05-13 15:26:40.000000000,"[{'_account_id': 3}, {'_account_id': 1921}, {'_account_id': 5196}, {'_account_id': 7428}, {'_account_id': 8556}, {'_account_id': 8871}]","[{'number': 1, 'created': '2015-05-12 15:40:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/d0f75962dd2706d75e7c98de0f91ba004779e847', 'message': 'Introduce creds_provider in test.py\n\nA lot of code works on the assumption that test classes has\nan attribute exactly called ""isolated_creds"".\nDefine a new property on test classes that provides a\ncredential provider for the tests.\n\nChange-Id: I404357be4c9fb2079332eed614bd61eee6ae6dc1\nPartially-implements: bp/resource-cleanup\n'}, {'number': 2, 'created': '2015-05-12 16:06:53.000000000', 'files': ['tempest/api/compute/test_authorization.py', 'tempest/api/compute/base.py', 'tempest/scenario/test_security_groups_basic_ops.py', 'tempest/test.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/1f34241db6ad22b3e87734c627f8dba79187d2e5', 'message': 'Introduce creds_provider in test.py\n\nA lot of code works on the assumption that test classes has\nan attribute exactly called ""isolated_creds"".\nDefine a new property on test classes that provides a\ncredential provider for the tests.\n\nChange-Id: I404357be4c9fb2079332eed614bd61eee6ae6dc1\nPartially-implements: bp/resource-cleanup\n'}]",0,182355,1f34241db6ad22b3e87734c627f8dba79187d2e5,12,6,2,1921,,,0,"Introduce creds_provider in test.py

A lot of code works on the assumption that test classes has
an attribute exactly called ""isolated_creds"".
Define a new property on test classes that provides a
credential provider for the tests.

Change-Id: I404357be4c9fb2079332eed614bd61eee6ae6dc1
Partially-implements: bp/resource-cleanup
",git fetch https://review.opendev.org/openstack/tempest refs/changes/55/182355/1 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/api/compute/test_authorization.py', 'tempest/api/compute/base.py', 'tempest/scenario/test_security_groups_basic_ops.py', 'tempest/test.py']",4,d0f75962dd2706d75e7c98de0f91ba004779e847,bp/resource-cleanup," @property def credentials_provider(self): return self._get_credentials_provider() def _get_credentials_provider(cls): """"""Returns a credentials provider If no credential provider exists yet creates one. It uses self.identity_version if defined, or the configuration value """""" if (not hasattr(cls, '_creds_provider') or not cls._creds_provider or not cls._creds_provider.name == cls.__name__): force_tenant_isolation = getattr(cls, 'force_tenant_isolation', False) identity_version = identity_version or CONF.identity.auth_version cls._creds_provider = credentials.get_isolated_credentials( name=cls.__name__, network_resources=cls.network_resources, force_tenant_isolation=force_tenant_isolation, identity_version=identity_version) return cls._creds_provider @classmethod def get_client_manager(cls, credential_type=None, roles=None, force_new=None): cred_provider = cls._get_credentials_provider() if not cred_provider.is_role_available(role): creds = cred_provider.get_creds_by_roles(**params) if hasattr(cred_provider, credentials_method): creds = getattr(cred_provider, credentials_method)() if hasattr(cls, '_cred_provider'): cls._creds_provider.clear_isolated_creds() cred_provider = cls._get_credentials_provider() admin_creds = cred_provider.get_admin_creds() return fixed_network.get_tenant_network(cred_provider, creds = self.credentials_provider.get_admin_creds()"," def get_client_manager(cls, identity_version=None, credential_type=None, roles=None, force_new=None): force_tenant_isolation = getattr(cls, 'force_tenant_isolation', None) identity_version = identity_version or CONF.identity.auth_version if (not hasattr(cls, 'isolated_creds') or not cls.isolated_creds.name == cls.__name__): cls.isolated_creds = credentials.get_isolated_credentials( name=cls.__name__, network_resources=cls.network_resources, force_tenant_isolation=force_tenant_isolation, identity_version=identity_version ) if not cls.isolated_creds.is_role_available(role): creds = cls.isolated_creds.get_creds_by_roles(**params) if hasattr(cls.isolated_creds, credentials_method): creds = getattr(cls.isolated_creds, credentials_method)() if hasattr(cls, 'isolated_creds'): cls.isolated_creds.clear_isolated_creds() isolated_creds = getattr(cls, 'isolated_creds', None) admin_creds = isolated_creds.get_admin_creds() return fixed_network.get_tenant_network(isolated_creds, creds = self.isolated_creds.get_admin_creds()",40,35
openstack%2Fnetworking-powervm~master~Id78373d3b86224a12bffdbd206348922732b2f69,openstack/networking-powervm,master,Id78373d3b86224a12bffdbd206348922732b2f69,Expect a single host; remove ACONF.pvm_host_mtms,MERGED,2015-05-12 21:37:14.000000000,2015-05-13 15:25:16.000000000,2015-05-13 15:25:16.000000000,"[{'_account_id': 3}, {'_account_id': 8190}, {'_account_id': 8662}, {'_account_id': 9623}, {'_account_id': 13883}, {'_account_id': 14917}]","[{'number': 1, 'created': '2015-05-12 21:37:14.000000000', 'files': ['neutron_powervm/tests/unit/plugins/ibm/powervm/test_sea_agent.py', 'neutron_powervm/plugins/ibm/agent/powervm/utils.py', 'neutron_powervm/plugins/ibm/agent/powervm/agent_base.py', 'neutron_powervm/tests/unit/plugins/ibm/powervm/test_utils.py', 'neutron_powervm/plugins/ibm/agent/powervm/sea_agent.py'], 'web_link': 'https://opendev.org/openstack/networking-powervm/commit/fcfe8f1452627c9184e72a0712b063bfb6dd90aa', 'message': ""Expect a single host; remove ACONF.pvm_host_mtms\n\nThe neutron-powervm driver will operate on a native management partition\nwhich manages only the host on which it resides.  There is therefore no\nneed to specify that host's MTMS in the configuration; and it is an\nerror if the PowerVM REST API does not return exactly one host.\n\nChange-Id: Id78373d3b86224a12bffdbd206348922732b2f69\n""}]",0,182464,fcfe8f1452627c9184e72a0712b063bfb6dd90aa,10,6,1,14070,,,0,"Expect a single host; remove ACONF.pvm_host_mtms

The neutron-powervm driver will operate on a native management partition
which manages only the host on which it resides.  There is therefore no
need to specify that host's MTMS in the configuration; and it is an
error if the PowerVM REST API does not return exactly one host.

Change-Id: Id78373d3b86224a12bffdbd206348922732b2f69
",git fetch https://review.opendev.org/openstack/networking-powervm refs/changes/64/182464/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_powervm/tests/unit/plugins/ibm/powervm/test_sea_agent.py', 'neutron_powervm/plugins/ibm/agent/powervm/utils.py', 'neutron_powervm/plugins/ibm/agent/powervm/agent_base.py', 'neutron_powervm/tests/unit/plugins/ibm/powervm/test_utils.py', 'neutron_powervm/plugins/ibm/agent/powervm/sea_agent.py']",5,fcfe8f1452627c9184e72a0712b063bfb6dd90aa,single_host, self.agent_id) self.agent_id)," self.agent_id, ACONF.pvm_host_mtms) self.agent_id, ACONF.pvm_host_mtms)",17,25
openstack%2Fmagnum~master~I332e8c810f84bc31cb3de68cb7ea40bfaea5cbc3,openstack/magnum,master,I332e8c810f84bc31cb3de68cb7ea40bfaea5cbc3,Remove unused parameter,MERGED,2015-05-13 09:11:19.000000000,2015-05-13 15:24:14.000000000,2015-05-13 15:24:13.000000000,"[{'_account_id': 3}, {'_account_id': 5638}, {'_account_id': 11536}, {'_account_id': 11650}]","[{'number': 1, 'created': '2015-05-13 09:11:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/840ba357a8af8ea6d822a3aec4d65f94cf767f25', 'message': 'Remove unused parameter\n\nRight now, the container api controller have parameter not\nused anywhere. so we remove those.\n\nChange-Id: I332e8c810f84bc31cb3de68cb7ea40bfaea5cbc3\n'}, {'number': 2, 'created': '2015-05-13 09:15:18.000000000', 'files': ['magnum/api/controllers/v1/container.py'], 'web_link': 'https://opendev.org/openstack/magnum/commit/7cb43cf8d8b8fb99ccd479dd3d871b524ea5a673', 'message': 'Remove unused parameter\n\nRight now, the container api controller has parameter not\nused anywhere. so we remove those.\n\nChange-Id: I332e8c810f84bc31cb3de68cb7ea40bfaea5cbc3\n'}]",0,182583,7cb43cf8d8b8fb99ccd479dd3d871b524ea5a673,9,4,2,7049,,,0,"Remove unused parameter

Right now, the container api controller has parameter not
used anywhere. so we remove those.

Change-Id: I332e8c810f84bc31cb3de68cb7ea40bfaea5cbc3
",git fetch https://review.opendev.org/openstack/magnum refs/changes/83/182583/2 && git format-patch -1 --stdout FETCH_HEAD,['magnum/api/controllers/v1/container.py'],1,840ba357a8af8ea6d822a3aec4d65f94cf767f25,removecode," def _default(self, container_ident): def _default(self, container_ident): def _default(self, container_ident): def _default(self, container_ident): def _default(self, container_ident): def _default(self, container_ident, command):"," def _default(self, container_ident, *remainder): def _default(self, container_ident, *remainder): def _default(self, container_ident, *remainder): def _default(self, container_ident, *remainder): def _default(self, container_ident, *remainder): def _default(self, container_ident, command, *remainder):",6,6
openstack%2Ftempest~master~I42ce8dfdd2b4ce1ed2dda307dc3b782fd7f4a8a5,openstack/tempest,master,I42ce8dfdd2b4ce1ed2dda307dc3b782fd7f4a8a5,Extend get_client_manager to support roles,MERGED,2015-03-27 15:14:05.000000000,2015-05-13 15:22:52.000000000,2015-05-13 15:22:50.000000000,"[{'_account_id': 3}, {'_account_id': 1921}, {'_account_id': 5196}, {'_account_id': 7428}, {'_account_id': 8556}, {'_account_id': 8871}, {'_account_id': 10385}]","[{'number': 1, 'created': '2015-03-27 15:14:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/a7f916ca0ee0a00db04ab6e5442305c932fc53b1', 'message': 'Extend get_client_manager to support roles\n\nA lot of code works on the assumption that test classes has\nan attribute exactly called ""isolated_creds"".\nDefine a new property on test classes that provides a\ncredential provider for the tests.\nExtends get_client_manager to use this propery, and also support\nthe credentials by role case, so that tests can rely always on this\nfunction to get a client manager.\n\nChange-Id: I42ce8dfdd2b4ce1ed2dda307dc3b782fd7f4a8a5\nPartially-implements: bp/resource-cleanup\n'}, {'number': 2, 'created': '2015-03-27 15:32:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/1face0db3789939988120d7249179033b63cb37b', 'message': 'Extend get_client_manager to support roles\n\nA lot of code works on the assumption that test classes has\nan attribute exactly called ""isolated_creds"".\nDefine a new property on test classes that provides a\ncredential provider for the tests.\nExtends get_client_manager to use this propery, and also support\nthe credentials by role case, so that tests can rely always on this\nfunction to get a client manager.\n\nChange-Id: I42ce8dfdd2b4ce1ed2dda307dc3b782fd7f4a8a5\nPartially-implements: bp/resource-cleanup\n'}, {'number': 3, 'created': '2015-03-27 17:14:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/92c998252f21952f8aece343169fff76d1f53821', 'message': 'Extend get_client_manager to support roles\n\nA lot of code works on the assumption that test classes has\nan attribute exactly called ""isolated_creds"".\nDefine a new property on test classes that provides a\ncredential provider for the tests.\nExtends get_client_manager to use this propery, and also support\nthe credentials by role case, so that tests can rely always on this\nfunction to get a client manager.\n\nChange-Id: I42ce8dfdd2b4ce1ed2dda307dc3b782fd7f4a8a5\nPartially-implements: bp/resource-cleanup\n'}, {'number': 4, 'created': '2015-03-27 19:12:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/572b639944e3ff77763c882ce4f4d3ac7854887d', 'message': 'Extend get_client_manager to support roles\n\nA lot of code works on the assumption that test classes has\nan attribute exactly called ""isolated_creds"".\nDefine a new property on test classes that provides a\ncredential provider for the tests.\nExtends get_client_manager to use this propery, and also support\nthe credentials by role case, so that tests can rely always on this\nfunction to get a client manager.\n\nChange-Id: I42ce8dfdd2b4ce1ed2dda307dc3b782fd7f4a8a5\nPartially-implements: bp/resource-cleanup\n'}, {'number': 5, 'created': '2015-04-07 22:12:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/4b276d6a6675394d6bf4b2674b05031921e83487', 'message': 'Extend get_client_manager to support roles\n\nA lot of code works on the assumption that test classes has\nan attribute exactly called ""isolated_creds"".\nDefine a new property on test classes that provides a\ncredential provider for the tests.\nExtends get_client_manager to use this propery, and also support\nthe credentials by role case, so that tests can rely always on this\nfunction to get a client manager.\n\nChange-Id: I42ce8dfdd2b4ce1ed2dda307dc3b782fd7f4a8a5\nPartially-implements: bp/resource-cleanup\n'}, {'number': 6, 'created': '2015-04-08 08:03:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/6f6812f4c158f1dc719d78409e2c509888d32858', 'message': 'Extend get_client_manager to support roles\n\nA lot of code works on the assumption that test classes has\nan attribute exactly called ""isolated_creds"".\nDefine a new property on test classes that provides a\ncredential provider for the tests.\nExtends get_client_manager to use this propery, and also support\nthe credentials by role case, so that tests can rely always on this\nfunction to get a client manager.\n\nChange-Id: I42ce8dfdd2b4ce1ed2dda307dc3b782fd7f4a8a5\nPartially-implements: bp/resource-cleanup\n'}, {'number': 7, 'created': '2015-04-08 10:11:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/2c3936c0c2a4fdbfe0e165ee8897bceb727847dc', 'message': 'Extend get_client_manager to support roles\n\nA lot of code works on the assumption that test classes has\nan attribute exactly called ""isolated_creds"".\nDefine a new property on test classes that provides a\ncredential provider for the tests.\nExtends get_client_manager to use this propery, and also support\nthe credentials by role case, so that tests can rely always on this\nfunction to get a client manager.\n\nChange-Id: I42ce8dfdd2b4ce1ed2dda307dc3b782fd7f4a8a5\nPartially-implements: bp/resource-cleanup\n'}, {'number': 8, 'created': '2015-04-08 19:57:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/1531d3c370031f1c0b33232b01950a988feb1ce4', 'message': 'Extend get_client_manager to support roles\n\nA lot of code works on the assumption that test classes has\nan attribute exactly called ""isolated_creds"".\nDefine a new property on test classes that provides a\ncredential provider for the tests.\nExtends get_client_manager to use this propery, and also support\nthe credentials by role case, so that tests can rely always on this\nfunction to get a client manager.\n\nChange-Id: I42ce8dfdd2b4ce1ed2dda307dc3b782fd7f4a8a5\nPartially-implements: bp/resource-cleanup\n'}, {'number': 9, 'created': '2015-04-09 17:35:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/6fbdf2da8076aae727afb41363f5d13b2ec4fa75', 'message': 'Extend get_client_manager to support roles\n\nA lot of code works on the assumption that test classes has\nan attribute exactly called ""isolated_creds"".\nDefine a new property on test classes that provides a\ncredential provider for the tests.\nExtends get_client_manager to use this propery, and also support\nthe credentials by role case, so that tests can rely always on this\nfunction to get a client manager.\n\nChange-Id: I42ce8dfdd2b4ce1ed2dda307dc3b782fd7f4a8a5\nPartially-implements: bp/resource-cleanup\n'}, {'number': 10, 'created': '2015-04-09 19:27:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/0d91aaa7280c0d829d3c0f8f559e7233025d1ba7', 'message': 'Extend get_client_manager to support roles\n\nA lot of code works on the assumption that test classes has\nan attribute exactly called ""isolated_creds"".\nDefine a new property on test classes that provides a\ncredential provider for the tests.\nExtends get_client_manager to use this propery, and also support\nthe credentials by role case, so that tests can rely always on this\nfunction to get a client manager.\n\nChange-Id: I42ce8dfdd2b4ce1ed2dda307dc3b782fd7f4a8a5\nPartially-implements: bp/resource-cleanup\n'}, {'number': 11, 'created': '2015-04-10 14:29:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/c1607fed3511473a3b9d6ec09773c8428c00170a', 'message': 'Extend get_client_manager to support roles\n\nA lot of code works on the assumption that test classes has\nan attribute exactly called ""isolated_creds"".\nDefine a new property on test classes that provides a\ncredential provider for the tests.\nExtends get_client_manager to use this propery, and also support\nthe credentials by role case, so that tests can rely always on this\nfunction to get a client manager.\n\nChange-Id: I42ce8dfdd2b4ce1ed2dda307dc3b782fd7f4a8a5\nPartially-implements: bp/resource-cleanup\n'}, {'number': 12, 'created': '2015-04-10 18:11:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/debf5d6daf0f42824735fb1110f9610517d87b9a', 'message': 'Extend get_client_manager to support roles\n\nA lot of code works on the assumption that test classes has\nan attribute exactly called ""isolated_creds"".\nDefine a new property on test classes that provides a\ncredential provider for the tests.\nExtends get_client_manager to use this propery, and also support\nthe credentials by role case, so that tests can rely always on this\nfunction to get a client manager.\n\nChange-Id: I42ce8dfdd2b4ce1ed2dda307dc3b782fd7f4a8a5\nPartially-implements: bp/resource-cleanup\n'}, {'number': 13, 'created': '2015-04-15 21:21:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/fc3d9756b5c3939d8fbed5833b88957e739d94dd', 'message': 'Extend get_client_manager to support roles\n\nA lot of code works on the assumption that test classes has\nan attribute exactly called ""isolated_creds"".\nDefine a new property on test classes that provides a\ncredential provider for the tests.\nExtends get_client_manager to use this propery, and also support\nthe credentials by role case, so that tests can rely always on this\nfunction to get a client manager.\n\nChange-Id: I42ce8dfdd2b4ce1ed2dda307dc3b782fd7f4a8a5\nPartially-implements: bp/resource-cleanup\n'}, {'number': 14, 'created': '2015-04-15 22:21:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/5a26011f601d6253f7ddbdbc2d9becd8c1e73ea7', 'message': 'Extend get_client_manager to support roles\n\nA lot of code works on the assumption that test classes has\nan attribute exactly called ""isolated_creds"".\nDefine a new property on test classes that provides a\ncredential provider for the tests.\nExtends get_client_manager to use this propery, and also support\nthe credentials by role case, so that tests can rely always on this\nfunction to get a client manager.\n\nChange-Id: I42ce8dfdd2b4ce1ed2dda307dc3b782fd7f4a8a5\nPartially-implements: bp/resource-cleanup\n'}, {'number': 15, 'created': '2015-04-16 06:57:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/1cf3ac27e8382ca62c8c7c79a55314e1dfbd7717', 'message': 'Extend get_client_manager to support roles\n\nA lot of code works on the assumption that test classes has\nan attribute exactly called ""isolated_creds"".\nDefine a new property on test classes that provides a\ncredential provider for the tests.\nExtends get_client_manager to use this propery, and also support\nthe credentials by role case, so that tests can rely always on this\nfunction to get a client manager.\n\nChange-Id: I42ce8dfdd2b4ce1ed2dda307dc3b782fd7f4a8a5\nPartially-implements: bp/resource-cleanup\n'}, {'number': 16, 'created': '2015-04-16 08:13:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/2bc80304a237c65e9be2a92a2eac5d71fc3811c7', 'message': 'Extend get_client_manager to support roles\n\nA lot of code works on the assumption that test classes has\nan attribute exactly called ""isolated_creds"".\nDefine a new property on test classes that provides a\ncredential provider for the tests.\nExtends get_client_manager to use this propery, and also support\nthe credentials by role case, so that tests can rely always on this\nfunction to get a client manager.\n\nChange-Id: I42ce8dfdd2b4ce1ed2dda307dc3b782fd7f4a8a5\nPartially-implements: bp/resource-cleanup\n'}, {'number': 17, 'created': '2015-04-16 10:00:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/cf462980de71ca64438161b9e3d7529ede626d2d', 'message': 'Extend get_client_manager to support roles\n\nA lot of code works on the assumption that test classes has\nan attribute exactly called ""isolated_creds"".\nDefine a new property on test classes that provides a\ncredential provider for the tests.\nExtends get_client_manager to use this propery, and also support\nthe credentials by role case, so that tests can rely always on this\nfunction to get a client manager.\n\nChange-Id: I42ce8dfdd2b4ce1ed2dda307dc3b782fd7f4a8a5\nPartially-implements: bp/resource-cleanup\n'}, {'number': 18, 'created': '2015-04-16 12:29:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/6389621e7719567930a1e724fabe56a556127859', 'message': 'Extend get_client_manager to support roles\n\nA lot of code works on the assumption that test classes has\nan attribute exactly called ""isolated_creds"".\nDefine a new property on test classes that provides a\ncredential provider for the tests.\nExtends get_client_manager to use this propery, and also support\nthe credentials by role case, so that tests can rely always on this\nfunction to get a client manager.\n\nChange-Id: I42ce8dfdd2b4ce1ed2dda307dc3b782fd7f4a8a5\nPartially-implements: bp/resource-cleanup\n'}, {'number': 19, 'created': '2015-04-16 18:28:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/0f17cd73c8dd8f9b9028f646ba474962911af1d1', 'message': 'Extend get_client_manager to support roles\n\nA lot of code works on the assumption that test classes has\nan attribute exactly called ""isolated_creds"".\nDefine a new property on test classes that provides a\ncredential provider for the tests.\nExtends get_client_manager to use this propery, and also support\nthe credentials by role case, so that tests can rely always on this\nfunction to get a client manager.\n\nChange-Id: I42ce8dfdd2b4ce1ed2dda307dc3b782fd7f4a8a5\nPartially-implements: bp/resource-cleanup\n'}, {'number': 20, 'created': '2015-04-22 21:50:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/15f482548455c2d05d8c9e6fde19472757dece16', 'message': 'Extend get_client_manager to support roles\n\nA lot of code works on the assumption that test classes has\nan attribute exactly called ""isolated_creds"".\nDefine a new property on test classes that provides a\ncredential provider for the tests.\nExtends get_client_manager to use this propery, and also support\nthe credentials by role case, so that tests can rely always on this\nfunction to get a client manager.\n\nChange-Id: I42ce8dfdd2b4ce1ed2dda307dc3b782fd7f4a8a5\nPartially-implements: bp/resource-cleanup\n'}, {'number': 21, 'created': '2015-04-29 11:17:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/20952f15418f2d6b9dc3e6465ecf4c641e617019', 'message': 'Extend get_client_manager to support roles\n\nA lot of code works on the assumption that test classes has\nan attribute exactly called ""isolated_creds"".\nDefine a new property on test classes that provides a\ncredential provider for the tests.\nExtends get_client_manager to use this propery, and also support\nthe credentials by role case, so that tests can rely always on this\nfunction to get a client manager.\n\nChange-Id: I42ce8dfdd2b4ce1ed2dda307dc3b782fd7f4a8a5\nPartially-implements: bp/resource-cleanup\n'}, {'number': 22, 'created': '2015-05-12 11:05:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/a6a8eb9406dd473cfbce46ead9cacf4a88065660', 'message': 'Extend get_client_manager to support roles\n\nA lot of code works on the assumption that test classes has\nan attribute exactly called ""isolated_creds"".\nDefine a new property on test classes that provides a\ncredential provider for the tests.\nExtends get_client_manager to use this propery, and also support\nthe credentials by role case, so that tests can rely always on this\nfunction to get a client manager.\n\nChange-Id: I42ce8dfdd2b4ce1ed2dda307dc3b782fd7f4a8a5\nPartially-implements: bp/resource-cleanup\n'}, {'number': 23, 'created': '2015-05-12 15:40:51.000000000', 'files': ['tempest/api/object_storage/test_account_quotas_negative.py', 'tempest/api/object_storage/test_account_services_negative.py', 'tempest/scenario/manager.py', 'tempest/api/object_storage/test_container_acl.py', 'tempest/api/object_storage/test_container_acl_negative.py', 'tempest/api/object_storage/test_container_sync.py', 'tempest/api/object_storage/base.py', 'tempest/api/object_storage/test_account_quotas.py', 'tempest/api/object_storage/test_object_services.py', 'tempest/api/orchestration/base.py', 'tempest/api/object_storage/test_account_services.py', 'tempest/test.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/737fac93d09208135f27d64f1ea6d3f7ef428bcf', 'message': 'Extend get_client_manager to support roles\n\nExtends get_client_manager to support the credentials by role case,\nso that tests can rely always on this function to get a client manager.\n\nChange-Id: I42ce8dfdd2b4ce1ed2dda307dc3b782fd7f4a8a5\nPartially-implements: bp/resource-cleanup\n'}]",8,168367,737fac93d09208135f27d64f1ea6d3f7ef428bcf,105,7,23,1921,,,0,"Extend get_client_manager to support roles

Extends get_client_manager to support the credentials by role case,
so that tests can rely always on this function to get a client manager.

Change-Id: I42ce8dfdd2b4ce1ed2dda307dc3b782fd7f4a8a5
Partially-implements: bp/resource-cleanup
",git fetch https://review.opendev.org/openstack/tempest refs/changes/67/168367/17 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/api/object_storage/test_account_quotas_negative.py', 'tempest/api/object_storage/test_account_services_negative.py', 'tempest/scenario/manager.py', 'tempest/api/object_storage/test_container_acl.py', 'tempest/api/object_storage/test_container_acl_negative.py', 'tempest/api/object_storage/test_container_sync.py', 'tempest/api/object_storage/base.py', 'tempest/api/object_storage/test_account_quotas.py', 'tempest/api/object_storage/test_object_services.py', 'tempest/api/orchestration/base.py', 'tempest/api/object_storage/test_account_services.py', 'tempest/api/identity/base.py', 'tempest/test.py']",13,a7f916ca0ee0a00db04ab6e5442305c932fc53b1,bp/resource-cleanup," @property def credentials_provider(self): """"""Returns a credentials provider If no credential provider exists yet creates one. It uses self.identity_version if defined, or the configuration value """""" if (not hasattr(self, '_creds_provider') or not self._creds_provider or not self._creds_provider.name == self.__name__): force_tenant_isolation = getattr(self, 'force_tenant_isolation') identity_version = getattr(self, 'identity_version') identity_version = identity_version or CONF.identity.auth_version self._creds_provider = credentials.get_isolated_credentials( name=self.__name__, network_resources=self.network_resources, identity_version=identity_version) return self._creds_provider @classmethod def get_client_manager(cls, credential_type=None, roles=None, force_new=None): """"""Returns an OpenStack client manager Returns an OpenStack client manager based on either credential_type or a list of roles. If neither is specified, it defaults to credential_type 'primary' :param credential_type: string - primary, alt or admin :param roles: list of roles :returns the created client manager :raises skipException: if the requested credentials are not available """""" if all[roles, credential_type]: msg = ""Cannot get credentials by type and roles at the same time"" raise ValueError(msg) if not any[roles, credential_type]: credential_type = 'primary' if roles: for role in roles: if not cls.credentials_provider.is_role_available(role): skip_msg = ( ""%s skipped because the configured credential provider"" "" is not able to provide credentials with the %s role "" ""assigned."" % (cls.__name__, role)) raise cls.skipException(skip_msg) params = dict(roles=roles) if force_new is not None: params.update(force_new=force_new) creds = cls.credentials_provider.get_creds_by_roles(**params) else: credentials_method = 'get_%s_creds' % credential_type if hasattr(cls.credentials_provider, credentials_method): creds = getattr(cls.credentials_provider, credentials_method)() else: raise exceptions.InvalidCredentials( ""Invalid credentials type %s"" % credential_type) return clients.Manager(credentials=creds, service=cls._service)"," @classmethod def get_client_manager(cls, identity_version=None, credential_type=None): """""" Returns an OpenStack client manager """""" force_tenant_isolation = getattr(cls, 'force_tenant_isolation', None) identity_version = identity_version or CONF.identity.auth_version if (not hasattr(cls, 'isolated_creds') or not cls.isolated_creds.name == cls.__name__): cls.isolated_creds = credentials.get_isolated_credentials( name=cls.__name__, network_resources=cls.network_resources, identity_version=identity_version ) credentials_method = 'get_%s_creds' % credential_type if hasattr(cls.isolated_creds, credentials_method): creds = getattr(cls.isolated_creds, credentials_method)() else: raise exceptions.InvalidCredentials( ""Invalid credentials type %s"" % credential_type) os = clients.Manager(credentials=creds, service=cls._service) return os",77,92
openstack%2Fneutron~master~I478e0a50bb6ebecfb74c3351c4d2c72fc0a96d6d,openstack/neutron,master,I478e0a50bb6ebecfb74c3351c4d2c72fc0a96d6d,Allow ml2.test_rpc to be run by testtools,ABANDONED,2015-05-13 11:07:33.000000000,2015-05-13 15:15:45.000000000,,"[{'_account_id': 3}, {'_account_id': 5170}, {'_account_id': 9681}, {'_account_id': 9682}, {'_account_id': 9732}, {'_account_id': 9787}, {'_account_id': 9845}, {'_account_id': 10116}, {'_account_id': 10117}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10387}, {'_account_id': 14208}, {'_account_id': 14212}, {'_account_id': 14213}, {'_account_id': 14214}, {'_account_id': 14571}, {'_account_id': 15296}, {'_account_id': 15752}]","[{'number': 1, 'created': '2015-05-13 11:07:33.000000000', 'files': ['neutron/tests/unit/plugins/ml2/test_rpc.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/dfe1400a2bbb5805eb4f5e570bdbfdbb1812a96f', 'message': ""Allow ml2.test_rpc to be run by testtools\n\nThe __init__ method of TypeManager requires the config group ml2,\nhowever it doesn't import ml2.config that it where the group is\nregistered. When the test is run using tox/testr the file is\nimported during test discovery, this doesn't happen with testtools.\n\nCloses-bug: #1454640\nChange-Id: I478e0a50bb6ebecfb74c3351c4d2c72fc0a96d6d\n""}]",0,182618,dfe1400a2bbb5805eb4f5e570bdbfdbb1812a96f,22,19,1,6788,,,0,"Allow ml2.test_rpc to be run by testtools

The __init__ method of TypeManager requires the config group ml2,
however it doesn't import ml2.config that it where the group is
registered. When the test is run using tox/testr the file is
imported during test discovery, this doesn't happen with testtools.

Closes-bug: #1454640
Change-Id: I478e0a50bb6ebecfb74c3351c4d2c72fc0a96d6d
",git fetch https://review.opendev.org/openstack/neutron refs/changes/18/182618/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/unit/plugins/ml2/test_rpc.py'],1,dfe1400a2bbb5805eb4f5e570bdbfdbb1812a96f,ml2-test-failure,from neutron.plugins.ml2 import config # noqa,,1,0
openstack%2Ftripleo-ci~master~I251d1a2585402851ef4a92b8d70e40918ee86c84,openstack/tripleo-ci,master,I251d1a2585402851ef4a92b8d70e40918ee86c84,Update ci for F21 jenkins nodes,MERGED,2015-05-12 09:56:16.000000000,2015-05-13 15:14:46.000000000,2015-05-13 15:14:45.000000000,"[{'_account_id': 3}, {'_account_id': 1926}, {'_account_id': 8042}, {'_account_id': 10035}]","[{'number': 1, 'created': '2015-05-12 09:56:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/7db050b3017e8a0c9f318fc94cab01bb74d7b3b6', 'message': 'Update ci for F21 jenkins nodes\n\nChange-Id: I251d1a2585402851ef4a92b8d70e40918ee86c84\n'}, {'number': 2, 'created': '2015-05-12 14:04:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/692bfdf7bea5d08d3829bf13d771a39160c1deca', 'message': 'WIP: Update ci for F21 jenkins nodes\n\nChange-Id: I251d1a2585402851ef4a92b8d70e40918ee86c84\n'}, {'number': 3, 'created': '2015-05-12 16:42:03.000000000', 'files': ['toci_gate_test.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/a0f6bd5456e762a7cac4ca44a0a75a23b9201bba', 'message': 'Update ci for F21 jenkins nodes\n\nChange-Id: I251d1a2585402851ef4a92b8d70e40918ee86c84\n'}]",0,182219,a0f6bd5456e762a7cac4ca44a0a75a23b9201bba,25,4,3,1926,,,0,"Update ci for F21 jenkins nodes

Change-Id: I251d1a2585402851ef4a92b8d70e40918ee86c84
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/19/182219/1 && git format-patch -1 --stdout FETCH_HEAD,['toci_gate_test.sh'],1,7db050b3017e8a0c9f318fc94cab01bb74d7b3b6,tip, f20|f21), f20),1,1
openstack%2Fcookbook-openstack-bare-metal~master~I03cac92746cc4bcb5a3d1dcb594fffd3f02318ce,openstack/cookbook-openstack-bare-metal,master,I03cac92746cc4bcb5a3d1dcb594fffd3f02318ce,Use the Common endpoint bare-metal-api-bind,MERGED,2015-05-07 15:55:26.000000000,2015-05-13 15:12:54.000000000,2015-05-13 15:12:52.000000000,"[{'_account_id': 3}, {'_account_id': 7128}, {'_account_id': 8112}, {'_account_id': 9488}, {'_account_id': 15068}]","[{'number': 1, 'created': '2015-05-07 15:55:26.000000000', 'files': ['spec/ironic-common_spec.rb', 'templates/default/ironic.conf.erb', 'recipes/ironic-common.rb'], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-bare-metal/commit/c4f4ae5369ed6f399f60beb7237d43fb896e91bb', 'message': 'Use the Common endpoint bare-metal-api-bind\n\nMake use of the bind endpoint for ironic api conf\n\nChange-Id: I03cac92746cc4bcb5a3d1dcb594fffd3f02318ce\nCloses-Bug: #1452794\n'}]",0,181045,c4f4ae5369ed6f399f60beb7237d43fb896e91bb,9,5,1,7128,,,0,"Use the Common endpoint bare-metal-api-bind

Make use of the bind endpoint for ironic api conf

Change-Id: I03cac92746cc4bcb5a3d1dcb594fffd3f02318ce
Closes-Bug: #1452794
",git fetch https://review.opendev.org/openstack/cookbook-openstack-bare-metal refs/changes/45/181045/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/ironic-common_spec.rb', 'templates/default/ironic.conf.erb', 'recipes/ironic-common.rb']",3,c4f4ae5369ed6f399f60beb7237d43fb896e91bb,bug/1452794,"api_bind = internal_endpoint 'bare-metal-api-bind' api_bind_address: api_bind.host, api_bind_port: api_bind.port,",,14,2
openstack%2Fproject-config~master~I4627926649023fe647f697cd4678e0e7ed761131,openstack/project-config,master,I4627926649023fe647f697cd4678e0e7ed761131,Fix ACL(s) for oslo.cache,ABANDONED,2015-05-13 12:29:27.000000000,2015-05-13 15:05:18.000000000,,"[{'_account_id': 3}, {'_account_id': 2813}, {'_account_id': 6547}]","[{'number': 1, 'created': '2015-05-13 12:29:27.000000000', 'files': ['gerrit/acls/openstack/oslo.cache.config'], 'web_link': 'https://opendev.org/openstack/project-config/commit/2f0d68e9a7d76718bc7257c7927e5254e816983d', 'message': 'Fix ACL(s) for oslo.cache\n\nThere were some errors in the oslo.cache acl making\nit impossible to merge any code :)\nhttps://review.openstack.org/#/admin/projects/openstack/oslo.utils,access\n\nChange-Id: I4627926649023fe647f697cd4678e0e7ed761131\n'}]",0,182645,2f0d68e9a7d76718bc7257c7927e5254e816983d,5,3,1,5638,,,0,"Fix ACL(s) for oslo.cache

There were some errors in the oslo.cache acl making
it impossible to merge any code :)
https://review.openstack.org/#/admin/projects/openstack/oslo.utils,access

Change-Id: I4627926649023fe647f697cd4678e0e7ed761131
",git fetch https://review.opendev.org/openstack/project-config refs/changes/45/182645/1 && git format-patch -1 --stdout FETCH_HEAD,['gerrit/acls/openstack/oslo.cache.config'],1,2f0d68e9a7d76718bc7257c7927e5254e816983d,,"abandon = group oslo-core label-Code-Review = -2..+2 group oslo-core label-Workflow = -1..+1 group oslo-core [access ""refs/heads/stable/*""] abandon = group stable-maint-core label-Code-Review = -2..+2 group stable-maint-core label-Workflow = -1..+1 group stable-maint-corepushSignedTag = group oslo-release",abandon = group oslo-cache-core label-Code-Review = -2..+2 group oslo-cache-core label-Workflow = -1..+1 group oslo-cache-corepushSignedTag = group oslo-cache-release,9,4
openstack%2Fceilometer~stable%2Fkilo~Ibe9027874f597348c5da6c92899cf8740eb678c2,openstack/ceilometer,stable/kilo,Ibe9027874f597348c5da6c92899cf8740eb678c2,stop mocking os.path in test_setup_events_default_config,MERGED,2015-05-11 12:13:21.000000000,2015-05-13 15:04:48.000000000,2015-05-13 15:04:47.000000000,"[{'_account_id': 3}, {'_account_id': 6537}, {'_account_id': 6873}]","[{'number': 1, 'created': '2015-05-11 12:13:21.000000000', 'files': ['ceilometer/tests/event/test_converter.py'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/e7c2286229b47a215e758c56fc7a431ae9b198f4', 'message': ""stop mocking os.path in test_setup_events_default_config\n\ntest_setup_events_default_config unnecessarily mocks os.path.exists.\nthis seems to be causing failures when running tox -edebug --\ntest_setup_events_default_config (and occasionally in gate). it's\ndangerous to mock os.path because other libs might depend on it so\nlet's stop mocking it.\n\nChange-Id: Ibe9027874f597348c5da6c92899cf8740eb678c2\nCloses-Bug: #1449604\n(cherry picked from commit c3b58d7dd2298d343cf88df22e0a60de060393fc)\n""}]",0,181874,e7c2286229b47a215e758c56fc7a431ae9b198f4,6,3,1,6537,,,0,"stop mocking os.path in test_setup_events_default_config

test_setup_events_default_config unnecessarily mocks os.path.exists.
this seems to be causing failures when running tox -edebug --
test_setup_events_default_config (and occasionally in gate). it's
dangerous to mock os.path because other libs might depend on it so
let's stop mocking it.

Change-Id: Ibe9027874f597348c5da6c92899cf8740eb678c2
Closes-Bug: #1449604
(cherry picked from commit c3b58d7dd2298d343cf88df22e0a60de060393fc)
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/74/181874/1 && git format-patch -1 --stdout FETCH_HEAD,['ceilometer/tests/event/test_converter.py'],1,e7c2286229b47a215e758c56fc7a431ae9b198f4,," @mock.patch('ceilometer.event.converter.get_config_file', mock.Mock(return_value=None)) def test_setup_events_default_config(self): self.CONF.set_override('drop_unmatched_notifications', False, group='event') c = converter.setup_events(self.fake_plugin_mgr) self.assertIsInstance(c, converter.NotificationEventsConverter) self.assertEqual(1, len(c.definitions)) self.assertTrue(c.definitions[0].is_catchall) self.CONF.set_override('drop_unmatched_notifications', True, group='event') c = converter.setup_events(self.fake_plugin_mgr) self.assertIsInstance(c, converter.NotificationEventsConverter) self.assertEqual(0, len(c.definitions))"," def test_setup_events_default_config(self): def mock_exists(path): return False def mock_get_config_file(): return None with mock.patch('ceilometer.event.converter.get_config_file', mock_get_config_file): self.CONF.set_override('drop_unmatched_notifications', False, group='event') with mock.patch('os.path.exists', mock_exists): c = converter.setup_events(self.fake_plugin_mgr) self.assertIsInstance(c, converter.NotificationEventsConverter) self.assertEqual(1, len(c.definitions)) self.assertTrue(c.definitions[0].is_catchall) self.CONF.set_override('drop_unmatched_notifications', True, group='event') with mock.patch('os.path.exists', mock_exists): c = converter.setup_events(self.fake_plugin_mgr) self.assertIsInstance(c, converter.NotificationEventsConverter) self.assertEqual(0, len(c.definitions))",13,23
openstack%2Fdesignate~master~I1b688d1498a0253da69c31453d483b5cb2ede644,openstack/designate,master,I1b688d1498a0253da69c31453d483b5cb2ede644,Add tests for dynect,MERGED,2015-05-13 08:24:16.000000000,2015-05-13 15:00:25.000000000,2015-05-13 15:00:24.000000000,"[{'_account_id': 3}, {'_account_id': 741}, {'_account_id': 8174}]","[{'number': 1, 'created': '2015-05-13 08:24:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/e3d6d6adb374646a4f554fd4b37ec74f0237d6a8', 'message': 'Add tests for dynect\n\nChange-Id: I1b688d1498a0253da69c31453d483b5cb2ede644\n'}, {'number': 2, 'created': '2015-05-13 12:21:09.000000000', 'files': ['test-requirements.txt', 'designate/tests/test_backend/test_dynect.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/39b333c7175d1b4b758fed0d9b60fc426f47ea6e', 'message': 'Add tests for dynect\n\nChange-Id: I1b688d1498a0253da69c31453d483b5cb2ede644\n'}]",0,182566,39b333c7175d1b4b758fed0d9b60fc426f47ea6e,9,3,2,395,,,0,"Add tests for dynect

Change-Id: I1b688d1498a0253da69c31453d483b5cb2ede644
",git fetch https://review.opendev.org/openstack/designate refs/changes/66/182566/2 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'designate/tests/test_backend/test_dynect.py']",2,e3d6d6adb374646a4f554fd4b37ec74f0237d6a8,dynect-tests,"# Copyright 2014 Hewlett-Packard Development Company, L.P. # # Author: Endre Karlson <endre.karlson@hp.com> # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import json as json_ from requests_mock.contrib import fixture as req_fixture import testtools from designate import objects from designate.backend import impl_dynect from designate.tests.test_backend import BackendTestCase MASTERS = [""10.0.0.1""] CONTACT = 'jdoe@myco.biz' LOGIN_SUCCESS = { ""status"": ""success"", ""data"": { ""token"": ""foo"", ""version"": ""3.5.6"" }, ""job_id"": 1, ""msgs"": [{ ""INFO"": ""login: Login successful"", ""SOURCE"": ""BLL"", ""ERR_CD"": None, ""LVL"": ""INFO""}] } LOGOUT_SUCCESS = { ""status"": ""success"", ""data"": {}, ""job_id"": 1345964647, ""msgs"": [ { ""INFO"": ""logout: Logout successful"", ""SOURCE"": ""BLL"", ""ERR_CD"": None, ""LVL"": ""INFO"" } ] } INVALID_MASTER_DATA = { ""status"": ""failure"", ""data"": {}, ""job_id"": 1326038394, ""msgs"": [ { ""INFO"": ""master: IP address expected"", ""SOURCE"": ""DYN"", ""ERR_CD"": ""INVALID_DATA"", ""LVL"": ""ERROR"" }, { ""INFO"": ""create: Zone not created"", ""SOURCE"": ""BLL"", ""ERR_CD"": None, ""LVL"": ""INFO"" } ] } TARGET_EXISTS = { ""status"": ""failure"", ""data"": {}, ""job_id"": 1345944906, ""msgs"": [ { ""INFO"": ""name: Name already exists"", ""SOURCE"": ""BLL"", ""ERR_CD"": ""TARGET_EXISTS"", ""LVL"": ""ERROR"" }, { ""INFO"": ""create: You already have this zone."", ""SOURCE"": ""BLL"", ""ERR_CD"": None, ""LVL"": ""INFO"" } ] } ACTIVATE_SUCCESS = { ""status"": ""success"", ""data"": { ""active"": ""L"", ""masters"": MASTERS, ""contact_nickname"": CONTACT, ""tsig_key_name"": """", ""zone"": ""meep.io"" }, ""job_id"": 1345944927, ""msgs"": [ { ""INFO"": ""activate: Service activated"", ""SOURCE"": ""BLL"", ""ERR_CD"": None, ""LVL"": ""INFO"" } ] } class DynECTTestsCase(BackendTestCase): def setUp(self): super(DynECTTestsCase, self).setUp() self.target = objects.PoolTarget.from_dict({ 'id': '4588652b-50e7-46b9-b688-a9bad40a873e', 'type': 'dyndns', 'masters': [{'host': '192.0.2.1', 'port': 53}], 'options': [ {'key': 'username', 'value': 'example'}, {'key': 'password', 'value': 'secret'}, {'key': 'customer_name', 'value': 'customer'}], }) self.backend = impl_dynect.DynECTBackend(self.target) self.requests = self.useFixture(req_fixture.Fixture()) def stub_url(self, method, parts=None, base_url=None, json=None, **kwargs): if not base_url: base_url = 'https://api.dynect.net:443/REST' if json: kwargs['text'] = json_.dumps(json) headers = kwargs.setdefault('headers', {}) headers['Content-Type'] = 'application/json' if parts: url = '/'.join([p.strip('/') for p in [base_url] + parts]) else: url = base_url url = url.replace(""/?"", ""?"") return self.requests.register_uri(method, url, **kwargs) def _stub_login(self): self.stub_url('POST', ['/Session'], json=LOGIN_SUCCESS) self.stub_url('DELETE', ['/Session'], json=LOGIN_SUCCESS) def test_create_domain_raise_dynclienterror(self): context = self.get_context() domain = self.create_domain() self._stub_login() self.stub_url( 'POST', ['/Secondary/example.com'], json=INVALID_MASTER_DATA, status_code=400) with testtools.ExpectedException(impl_dynect.DynClientError): self.backend.create_domain(context, domain) def test_create_domain_duplicate_updates_existing(self): context = self.get_context() domain = self.create_domain() self._stub_login() parts = ['/Secondary', '/%s' % domain['name'].rstrip('.')] self.stub_url( 'POST', parts, json=TARGET_EXISTS, status_code=400) update = self.stub_url('PUT', parts, json=ACTIVATE_SUCCESS) self.backend.create_domain(context, domain) self.assertTrue(update.called) ",,188,0
openstack%2Fnova-powervm~master~I0f77add7c09760a54c8d7662bfe3c6810095620b,openstack/nova-powervm,master,I0f77add7c09760a54c8d7662bfe3c6810095620b,Expect a single host; remove CONF.pvm_host_mtms,MERGED,2015-05-12 21:19:06.000000000,2015-05-13 14:59:54.000000000,2015-05-13 14:59:54.000000000,"[{'_account_id': 3}, {'_account_id': 8190}, {'_account_id': 8662}, {'_account_id': 13883}, {'_account_id': 14070}]","[{'number': 1, 'created': '2015-05-12 21:19:06.000000000', 'files': ['nova_powervm/virt/powervm/driver.py', 'nova_powervm/tests/virt/powervm/fixtures.py', 'nova_powervm/virt/powervm/__init__.py', 'nova_powervm/tests/virt/powervm/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova-powervm/commit/2f99f2f4fe45f6cd3d585066f77139e23acc1989', 'message': ""Expect a single host; remove CONF.pvm_host_mtms\n\nThe nova-powervm driver will operate on a native management partition\nwhich manages only the host on which it resides.  There is therefore no\nneed to specify that host's MTMS in the configuration; and it is an\nerror if the PowerVM REST API does not return exactly one host.\n\nChange-Id: I0f77add7c09760a54c8d7662bfe3c6810095620b\n""}]",1,182457,2f99f2f4fe45f6cd3d585066f77139e23acc1989,8,5,1,14070,,,0,"Expect a single host; remove CONF.pvm_host_mtms

The nova-powervm driver will operate on a native management partition
which manages only the host on which it resides.  There is therefore no
need to specify that host's MTMS in the configuration; and it is an
error if the PowerVM REST API does not return exactly one host.

Change-Id: I0f77add7c09760a54c8d7662bfe3c6810095620b
",git fetch https://review.opendev.org/openstack/nova-powervm refs/changes/57/182457/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova_powervm/virt/powervm/driver.py', 'nova_powervm/tests/virt/powervm/fixtures.py', 'nova_powervm/virt/powervm/__init__.py', 'nova_powervm/tests/virt/powervm/test_driver.py']",4,2f99f2f4fe45f6cd3d585066f77139e23acc1989,single_host,," @mock.patch('pypowervm.wrappers.managed_system.find_entry_by_mtms') @mock.patch('nova_powervm.virt.powervm.disk.localdisk.LocalStorage') def test_driver_init(self, mock_disk, mock_find): """"""Validates the PowerVM driver can be initialized for the host."""""" drv = driver.PowerVMDriver(fake.FakeVirtAPI()) drv.init_host('FakeHost') # Nothing to really check here specific to the host. self.assertIsNotNone(drv) ",16,22
openstack%2Fceilometer~stable%2Fjuno~Ibe9027874f597348c5da6c92899cf8740eb678c2,openstack/ceilometer,stable/juno,Ibe9027874f597348c5da6c92899cf8740eb678c2,stop mocking os.path in test_setup_events_default_config,MERGED,2015-05-11 12:27:25.000000000,2015-05-13 14:57:52.000000000,2015-05-13 14:57:51.000000000,"[{'_account_id': 3}, {'_account_id': 6537}, {'_account_id': 6873}]","[{'number': 1, 'created': '2015-05-11 12:27:25.000000000', 'files': ['ceilometer/tests/event/test_converter.py'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/1a5848aab5938c883363f0e533387c86dfae2747', 'message': ""stop mocking os.path in test_setup_events_default_config\n\ntest_setup_events_default_config unnecessarily mocks os.path.exists.\nthis seems to be causing failures when running tox -edebug --\ntest_setup_events_default_config (and occasionally in gate). it's\ndangerous to mock os.path because other libs might depend on it so\nlet's stop mocking it.\n\nChange-Id: Ibe9027874f597348c5da6c92899cf8740eb678c2\nCloses-Bug: #1449604\n(cherry picked from commit c3b58d7dd2298d343cf88df22e0a60de060393fc)\n""}]",0,181877,1a5848aab5938c883363f0e533387c86dfae2747,7,3,1,6537,,,0,"stop mocking os.path in test_setup_events_default_config

test_setup_events_default_config unnecessarily mocks os.path.exists.
this seems to be causing failures when running tox -edebug --
test_setup_events_default_config (and occasionally in gate). it's
dangerous to mock os.path because other libs might depend on it so
let's stop mocking it.

Change-Id: Ibe9027874f597348c5da6c92899cf8740eb678c2
Closes-Bug: #1449604
(cherry picked from commit c3b58d7dd2298d343cf88df22e0a60de060393fc)
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/77/181877/1 && git format-patch -1 --stdout FETCH_HEAD,['ceilometer/tests/event/test_converter.py'],1,1a5848aab5938c883363f0e533387c86dfae2747,bug/1449604," @mock.patch('ceilometer.event.converter.get_config_file', mock.Mock(return_value=None)) def test_setup_events_default_config(self): oslo_cfg.CONF.set_override('drop_unmatched_notifications', False, group='event') c = converter.setup_events(self.fake_plugin_mgr) self.assertIsInstance(c, converter.NotificationEventsConverter) self.assertEqual(1, len(c.definitions)) self.assertTrue(c.definitions[0].is_catchall) oslo_cfg.CONF.set_override('drop_unmatched_notifications', True, group='event') c = converter.setup_events(self.fake_plugin_mgr) self.assertIsInstance(c, converter.NotificationEventsConverter) self.assertEqual(0, len(c.definitions))"," def test_setup_events_default_config(self): def mock_exists(path): return False def mock_get_config_file(): return None with mock.patch('ceilometer.event.converter.get_config_file', mock_get_config_file): oslo_cfg.CONF.set_override('drop_unmatched_notifications', False, group='event') with mock.patch('os.path.exists', mock_exists): c = converter.setup_events(self.fake_plugin_mgr) self.assertIsInstance(c, converter.NotificationEventsConverter) self.assertEqual(1, len(c.definitions)) self.assertTrue(c.definitions[0].is_catchall) oslo_cfg.CONF.set_override('drop_unmatched_notifications', True, group='event') with mock.patch('os.path.exists', mock_exists): c = converter.setup_events(self.fake_plugin_mgr) self.assertIsInstance(c, converter.NotificationEventsConverter) self.assertEqual(0, len(c.definitions))",13,23
openstack%2Frally~master~I9eae08ed726dc59d8550320eb2f5139191796349,openstack/rally,master,I9eae08ed726dc59d8550320eb2f5139191796349,Added Neutron Loadbalancer pools and members scenario,ABANDONED,2015-04-30 09:38:56.000000000,2015-05-13 14:55:00.000000000,,"[{'_account_id': 3}, {'_account_id': 14817}]","[{'number': 1, 'created': '2015-04-30 09:38:56.000000000', 'files': ['samples/tasks/scenarios/neutron/create_and_delete_firewalls.json', 'samples/tasks/scenarios/neutron/create_and_list_policies.yaml', 'samples/tasks/scenarios/neutron/create_and_update_vips.yaml', 'samples/tasks/scenarios/neutron/create_and_delete_vips.yaml', 'rally/benchmark/context/cleanup/resources.py', 'samples/tasks/scenarios/neutron/create_and_delete_rules.yaml', 'samples/tasks/scenarios/neutron/create_and_list_labels.yaml', 'samples/tasks/scenarios/neutron/create_and_list_label_rules.yaml', 'samples/tasks/scenarios/neutron/create_and_list_rules.yaml', 'rally/benchmark/scenarios/neutron/firewall.py', 'tests/unit/benchmark/scenarios/neutron/test_firewall.py', 'samples/tasks/scenarios/neutron/create_and_delete_label_rules.json', 'rally/benchmark/scenarios/neutron/metering.py', 'samples/tasks/scenarios/neutron/create_and_delete_labels.json', 'rally/benchmark/scenarios/neutron/utils.py', 'samples/tasks/scenarios/neutron/create_and_list_pools.yaml', 'samples/tasks/scenarios/neutron/create_and_list_healthmonitors.json', 'samples/tasks/scenarios/neutron/create_and_delete_vips.json', 'tests/unit/benchmark/scenarios/neutron/test_utils.py', 'samples/tasks/scenarios/neutron/create_and_update_policies.yaml', 'samples/tasks/scenarios/neutron/create_and_delete_policies.yaml', 'samples/tasks/scenarios/neutron/create_and_list_vips.yaml', 'samples/tasks/scenarios/neutron/create_and_update_rules.json', 'samples/tasks/scenarios/neutron/create_and_delete_healthmonitors.json', 'samples/tasks/scenarios/neutron/create_and_update_pools.yaml', 'samples/tasks/scenarios/neutron/create_and_list_label_rules.json', 'samples/tasks/scenarios/neutron/create_and_delete_firewalls.yaml', 'samples/tasks/scenarios/neutron/create_and_list_policies.json', 'samples/tasks/scenarios/neutron/create_and_update_vips.json', 'samples/tasks/scenarios/neutron/create_and_update_healthmonitors.yaml', 'samples/tasks/scenarios/neutron/create_and_list_rules.json', 'samples/tasks/scenarios/neutron/create_and_delete_rules.json', 'samples/tasks/scenarios/neutron/create_and_delete_label_rules.yaml', 'samples/tasks/scenarios/neutron/create_and_list_labels.json', 'tests/unit/benchmark/scenarios/neutron/test_metering.py', 'rally/benchmark/scenarios/neutron/loadbalancer.py', 'samples/tasks/scenarios/neutron/create_and_delete_healthmonitors.yaml', 'samples/tasks/scenarios/neutron/create_and_update_rules.yaml', 'samples/tasks/scenarios/neutron/create_and_delete_members.yaml', 'samples/tasks/scenarios/neutron/create_and_list_healthmonitors.yaml', 'samples/tasks/scenarios/neutron/create_and_delete_labels.yaml', 'samples/tasks/scenarios/neutron/create_and_delete_pools.yaml', 'samples/tasks/scenarios/neutron/create_and_update_members.yaml', 'samples/tasks/scenarios/neutron/create_and_update_healthmonitors.json', 'tests/unit/benchmark/scenarios/neutron/test_loadbalancer.py', 'samples/tasks/scenarios/neutron/create_and_update_policies.json', 'samples/tasks/scenarios/neutron/create_and_list_members.yaml', 'samples/tasks/scenarios/neutron/create_and_list_vips.json', 'samples/tasks/scenarios/neutron/create_and_delete_policies.json'], 'web_link': 'https://opendev.org/openstack/rally/commit/864e5c8e28a78d02ed176afee9825c34c788ecf6', 'message': 'Added Neutron Loadbalancer pools and members scenario\n\nChange-Id: I9eae08ed726dc59d8550320eb2f5139191796349\n'}]",0,178996,864e5c8e28a78d02ed176afee9825c34c788ecf6,4,2,1,14298,,,0,"Added Neutron Loadbalancer pools and members scenario

Change-Id: I9eae08ed726dc59d8550320eb2f5139191796349
",git fetch https://review.opendev.org/openstack/rally refs/changes/96/178996/1 && git format-patch -1 --stdout FETCH_HEAD,"['samples/tasks/scenarios/neutron/create_and_delete_firewalls.json', 'samples/tasks/scenarios/neutron/create_and_list_policies.yaml', 'samples/tasks/scenarios/neutron/create_and_update_vips.yaml', 'samples/tasks/scenarios/neutron/create_and_delete_vips.yaml', 'rally/benchmark/context/cleanup/resources.py', 'samples/tasks/scenarios/neutron/create_and_delete_rules.yaml', 'samples/tasks/scenarios/neutron/create_and_list_labels.yaml', 'samples/tasks/scenarios/neutron/create_and_list_label_rules.yaml', 'samples/tasks/scenarios/neutron/create_and_list_rules.yaml', 'rally/benchmark/scenarios/neutron/firewall.py', 'tests/unit/benchmark/scenarios/neutron/test_firewall.py', 'samples/tasks/scenarios/neutron/create_and_delete_label_rules.json', 'rally/benchmark/scenarios/neutron/metering.py', 'samples/tasks/scenarios/neutron/create_and_delete_labels.json', 'rally/benchmark/scenarios/neutron/utils.py', 'samples/tasks/scenarios/neutron/create_and_list_pools.yaml', 'samples/tasks/scenarios/neutron/create_and_list_healthmonitors.json', 'samples/tasks/scenarios/neutron/create_and_delete_vips.json', 'tests/unit/benchmark/scenarios/neutron/test_utils.py', 'samples/tasks/scenarios/neutron/create_and_update_policies.yaml', 'samples/tasks/scenarios/neutron/create_and_delete_policies.yaml', 'samples/tasks/scenarios/neutron/create_and_list_vips.yaml', 'samples/tasks/scenarios/neutron/create_and_update_rules.json', 'samples/tasks/scenarios/neutron/create_and_delete_healthmonitors.json', 'samples/tasks/scenarios/neutron/create_and_update_pools.yaml', 'samples/tasks/scenarios/neutron/create_and_list_label_rules.json', 'samples/tasks/scenarios/neutron/create_and_delete_firewalls.yaml', 'samples/tasks/scenarios/neutron/create_and_list_policies.json', 'samples/tasks/scenarios/neutron/create_and_update_vips.json', 'samples/tasks/scenarios/neutron/create_and_update_healthmonitors.yaml', 'samples/tasks/scenarios/neutron/create_and_list_rules.json', 'samples/tasks/scenarios/neutron/create_and_delete_rules.json', 'samples/tasks/scenarios/neutron/create_and_delete_label_rules.yaml', 'samples/tasks/scenarios/neutron/create_and_list_labels.json', 'tests/unit/benchmark/scenarios/neutron/test_metering.py', 'rally/benchmark/scenarios/neutron/loadbalancer.py', 'samples/tasks/scenarios/neutron/create_and_delete_healthmonitors.yaml', 'samples/tasks/scenarios/neutron/create_and_update_rules.yaml', 'samples/tasks/scenarios/neutron/create_and_delete_members.yaml', 'samples/tasks/scenarios/neutron/create_and_list_healthmonitors.yaml', 'samples/tasks/scenarios/neutron/create_and_delete_labels.yaml', 'samples/tasks/scenarios/neutron/create_and_delete_pools.yaml', 'samples/tasks/scenarios/neutron/create_and_update_members.yaml', 'samples/tasks/scenarios/neutron/create_and_update_healthmonitors.json', 'tests/unit/benchmark/scenarios/neutron/test_loadbalancer.py', 'samples/tasks/scenarios/neutron/create_and_update_policies.json', 'samples/tasks/scenarios/neutron/create_and_list_members.yaml', 'samples/tasks/scenarios/neutron/create_and_list_vips.json', 'samples/tasks/scenarios/neutron/create_and_delete_policies.json']",49,864e5c8e28a78d02ed176afee9825c34c788ecf6,,,"{ ""NeutronLoadbalancer.create_and_delete_policies"": [ { ""args"": { ""rule_create_args"": {}, ""policy_create_args"": {}, ""rules_per_policy"": 1 }, ""runner"": { ""type"": ""constant"", ""times"": 100, ""concurrency"": 10 }, ""context"": { ""users"": { ""tenants"": 1, ""users_per_tenant"": 1 }, ""quotas"": { ""neutron"": { ""network"": -1 } } } } ] } ",347,2493
openstack%2Frally~master~Ic00f68f7e249cc5b9c307e9a17c07af14edd94f4,openstack/rally,master,Ic00f68f7e249cc5b9c307e9a17c07af14edd94f4,Loadbalancer Member and pool functionality support,ABANDONED,2015-05-12 08:17:02.000000000,2015-05-13 14:54:36.000000000,,"[{'_account_id': 3}, {'_account_id': 4428}]","[{'number': 1, 'created': '2015-05-12 08:17:02.000000000', 'files': ['samples/tasks/scenarios/neutron/create_and_list_members.json', 'samples/tasks/scenarios/neutron/create_and_update_pools.json', 'rally/benchmark/scenarios/neutron/loadbalancer.py', 'samples/tasks/scenarios/neutron/create_and_update_pools.yaml', 'rally/benchmark/scenarios/neutron/utils.py', 'samples/tasks/scenarios/neutron/create_and_list_pools.yaml', 'samples/tasks/scenarios/neutron/create_and_delete_members.yaml', 'samples/tasks/scenarios/neutron/create_and_delete_pools.yaml', 'rally/benchmark/context/cleanup/resources.py', 'samples/tasks/scenarios/neutron/create_and_update_members.yaml', 'tests/unit/benchmark/scenarios/neutron/test_utils.py', 'tests/unit/benchmark/scenarios/neutron/test_loadbalancer.py', 'samples/tasks/scenarios/neutron/create_and_list_pools.json', 'samples/tasks/scenarios/neutron/create_and_update_members.json', 'tests/unit/benchmark/scenarios/neutron/test_network.py', 'samples/tasks/scenarios/neutron/create_and_delete_members.json', 'samples/tasks/scenarios/neutron/create_and_delete_pools.json', 'samples/tasks/scenarios/neutron/create_and_list_members.yaml'], 'web_link': 'https://opendev.org/openstack/rally/commit/ad6d85c8502df968d9e2b91114b9999ba218a24f', 'message': 'Loadbalancer Member and pool functionality support\n\nChange-Id: Ic00f68f7e249cc5b9c307e9a17c07af14edd94f4\n'}]",8,182189,ad6d85c8502df968d9e2b91114b9999ba218a24f,4,2,1,14298,,,0,"Loadbalancer Member and pool functionality support

Change-Id: Ic00f68f7e249cc5b9c307e9a17c07af14edd94f4
",git fetch https://review.opendev.org/openstack/rally refs/changes/89/182189/1 && git format-patch -1 --stdout FETCH_HEAD,"['samples/tasks/scenarios/neutron/create_and_list_members.json', 'samples/tasks/scenarios/neutron/create_and_update_pools.json', 'rally/benchmark/scenarios/neutron/loadbalancer.py', 'samples/tasks/scenarios/neutron/create_and_update_pools.yaml', 'rally/benchmark/scenarios/neutron/utils.py', 'samples/tasks/scenarios/neutron/create_and_list_pools.yaml', 'samples/tasks/scenarios/neutron/create_and_delete_members.yaml', 'samples/tasks/scenarios/neutron/create_and_delete_pools.yaml', 'rally/benchmark/context/cleanup/resources.py', 'samples/tasks/scenarios/neutron/create_and_update_members.yaml', 'tests/unit/benchmark/scenarios/neutron/test_utils.py', 'tests/unit/benchmark/scenarios/neutron/test_loadbalancer.py', 'samples/tasks/scenarios/neutron/create_and_list_pools.json', 'samples/tasks/scenarios/neutron/create_and_update_members.json', 'tests/unit/benchmark/scenarios/neutron/test_network.py', 'samples/tasks/scenarios/neutron/create_and_delete_members.json', 'samples/tasks/scenarios/neutron/create_and_delete_pools.json', 'samples/tasks/scenarios/neutron/create_and_list_members.yaml']",18,ad6d85c8502df968d9e2b91114b9999ba218a24f,,"--- NeutronLoadbalancer.create_and_list_members: - args: member_create_args: {} network_create_args: {} subnet_create_args: {} pool_create_args: {} subnet_cidr_start: ""10.0.0.0/24"" subnets_per_network: 1 members_per_pool: 1 runner: type: ""constant"" times: 100 concurrency: 10 context: users: tenants: 1 users_per_tenant: 1 quotas: neutron: network: -1 ",,1222,25
openstack%2Frally~master~I34d3379554421f43ab85e034147799ac243c23a2,openstack/rally,master,I34d3379554421f43ab85e034147799ac243c23a2,Added rally support for Loadbalancer pools and members,ABANDONED,2015-05-12 10:21:20.000000000,2015-05-13 14:53:43.000000000,,"[{'_account_id': 3}, {'_account_id': 6172}, {'_account_id': 10475}, {'_account_id': 13555}, {'_account_id': 14817}]","[{'number': 1, 'created': '2015-05-12 10:21:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/c7cca9afdb6c04fbb3e31edc4159f0da89491a71', 'message': 'LoadBalancer member and pool functionalities\n\nChange-Id: I34d3379554421f43ab85e034147799ac243c23a2\n'}, {'number': 2, 'created': '2015-05-12 12:04:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/e27383ed0f5dd23508ccbf0e5ce3f1f134da1277', 'message': 'LoadBalancer member and pool functionalities(corrected)\n\nChange-Id: I34d3379554421f43ab85e034147799ac243c23a2\n'}, {'number': 3, 'created': '2015-05-12 12:15:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/86340d8fbc823611489667cf4171842d88390024', 'message': 'LoadBalancer member and pool functionalities(corrected)\n\nChange-Id: I34d3379554421f43ab85e034147799ac243c23a2\n'}, {'number': 4, 'created': '2015-05-12 12:18:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/8e743ac613531090ae7b3a21a38208aa6184046e', 'message': 'LoadBalancer member and pool functionalities(corrected)\n\nChange-Id: I34d3379554421f43ab85e034147799ac243c23a2\n'}, {'number': 5, 'created': '2015-05-13 06:57:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/402140168da8635f94d34a8df69c0620ee1eea1b', 'message': 'Added rally support for Loadbalancer pools and members to create_and_delete, create_and_list and create_and_update\n\nChange-Id: I34d3379554421f43ab85e034147799ac243c23a2\n'}, {'number': 6, 'created': '2015-05-13 08:12:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/66df318fea9f3e52efe959679f3f937a6180d174', 'message': 'Added rally support for Loadbalancer pools and members to create_and_delete, create_and_list and create_and_update\n\nChange-Id: I34d3379554421f43ab85e034147799ac243c23a2\n'}, {'number': 7, 'created': '2015-05-13 09:01:48.000000000', 'files': ['samples/tasks/scenarios/neutron/create_and_list_members.json', 'samples/tasks/scenarios/neutron/create_and_update_pools.json', 'rally/benchmark/scenarios/neutron/loadbalancer.py', 'samples/tasks/scenarios/neutron/create_and_update_pools.yaml', 'rally/benchmark/scenarios/neutron/utils.py', 'samples/tasks/scenarios/neutron/create_and_list_pools.yaml', 'samples/tasks/scenarios/neutron/create_and_delete_members.yaml', 'samples/tasks/scenarios/neutron/create_and_delete_pools.yaml', 'rally/benchmark/context/cleanup/resources.py', 'samples/tasks/scenarios/neutron/create_and_update_members.yaml', 'tests/unit/benchmark/scenarios/neutron/test_utils.py', 'tests/unit/benchmark/scenarios/neutron/test_loadbalancer.py', 'samples/tasks/scenarios/neutron/create_and_list_pools.json', 'samples/tasks/scenarios/neutron/create_and_update_members.json', 'tests/unit/benchmark/scenarios/neutron/test_network.py', 'samples/tasks/scenarios/neutron/create_and_delete_members.json', 'samples/tasks/scenarios/neutron/create_and_delete_pools.json', 'samples/tasks/scenarios/neutron/create_and_list_members.yaml'], 'web_link': 'https://opendev.org/openstack/rally/commit/d6ef646218827957916840ad59b2e712ddf5a297', 'message': 'Added rally support for Loadbalancer pools and members\n\nChange-Id: I34d3379554421f43ab85e034147799ac243c23a2\n'}]",7,182223,d6ef646218827957916840ad59b2e712ddf5a297,22,5,7,14298,,,0,"Added rally support for Loadbalancer pools and members

Change-Id: I34d3379554421f43ab85e034147799ac243c23a2
",git fetch https://review.opendev.org/openstack/rally refs/changes/23/182223/3 && git format-patch -1 --stdout FETCH_HEAD,"['samples/tasks/scenarios/neutron/create_and_list_members.json', 'samples/tasks/scenarios/neutron/create_and_update_pools.json', 'rally/benchmark/scenarios/neutron/loadbalancer.py', 'samples/tasks/scenarios/neutron/create_and_update_pools.yaml', 'rally/benchmark/scenarios/neutron/utils.py', 'samples/tasks/scenarios/neutron/create_and_list_pools.yaml', 'samples/tasks/scenarios/neutron/create_and_delete_members.yaml', 'samples/tasks/scenarios/neutron/create_and_delete_pools.yaml', 'rally/benchmark/context/cleanup/resources.py', 'samples/tasks/scenarios/neutron/create_and_update_members.yaml', 'tests/unit/benchmark/scenarios/neutron/test_utils.py', 'tests/unit/benchmark/scenarios/neutron/test_loadbalancer.py', 'samples/tasks/scenarios/neutron/create_and_list_pools.json', 'samples/tasks/scenarios/neutron/create_and_update_members.json', 'tests/unit/benchmark/scenarios/neutron/test_network.py', 'samples/tasks/scenarios/neutron/create_and_delete_members.json', 'samples/tasks/scenarios/neutron/create_and_delete_pools.json', 'samples/tasks/scenarios/neutron/create_and_list_members.yaml']",18,c7cca9afdb6c04fbb3e31edc4159f0da89491a71,,"--- NeutronLoadbalancer.create_and_list_members: - args: member_create_args: {} network_create_args: {} subnet_create_args: {} pool_create_args: {} subnet_cidr_start: ""10.0.0.0/24"" subnets_per_network: 1 members_per_pool: 1 runner: type: ""constant"" times: 100 concurrency: 10 context: users: tenants: 1 users_per_tenant: 1 quotas: neutron: network: -1 ",,1221,25
openstack%2Frally~master~I522b82e02e0f230758263525e3e6f1dec3e2e39a,openstack/rally,master,I522b82e02e0f230758263525e3e6f1dec3e2e39a,Adding Loadbalancer create and list pools,ABANDONED,2015-05-13 12:51:32.000000000,2015-05-13 14:52:47.000000000,,"[{'_account_id': 3}, {'_account_id': 14817}]","[{'number': 1, 'created': '2015-05-13 12:51:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/03a994a6db27d786f167da0ff4f3455e0de35c92', 'message': 'Adding Loadbalancer create and list pools\n\nChange-Id: I522b82e02e0f230758263525e3e6f1dec3e2e39a\n'}, {'number': 2, 'created': '2015-05-13 13:22:11.000000000', 'files': ['rally/benchmark/context/cleanup/resources.py', 'tests/unit/benchmark/scenarios/neutron/test_utils.py', 'tests/unit/benchmark/scenarios/neutron/test_loadbalancer.py', 'rally/benchmark/scenarios/neutron/loadbalancer.py', 'samples/tasks/scenarios/neutron/create_and_list_pools.json', 'rally/benchmark/scenarios/neutron/utils.py', 'samples/tasks/scenarios/neutron/create_and_list_pools.yaml'], 'web_link': 'https://opendev.org/openstack/rally/commit/b97513da67237e85b1708ced4c1018ac599afdd5', 'message': 'Adding Loadbalancer create and list pools\n\nChange-Id: I522b82e02e0f230758263525e3e6f1dec3e2e39a\n'}]",0,182653,b97513da67237e85b1708ced4c1018ac599afdd5,6,2,2,14298,,,0,"Adding Loadbalancer create and list pools

Change-Id: I522b82e02e0f230758263525e3e6f1dec3e2e39a
",git fetch https://review.opendev.org/openstack/rally refs/changes/53/182653/1 && git format-patch -1 --stdout FETCH_HEAD,"['rally/benchmark/context/cleanup/resources.py', 'tests/unit/benchmark/scenarios/neutron/test_utils.py', 'tests/unit/benchmark/scenarios/neutron/test_loadbalancer.py', 'rally/benchmark/scenarios/neutron/loadbalancer.py', 'samples/tasks/scenarios/neutron/create_and_list_pools.json', 'rally/benchmark/scenarios/neutron/utils.py', 'samples/tasks/scenarios/neutron/create_and_list_pools.yaml']",7,03a994a6db27d786f167da0ff4f3455e0de35c92,,"--- NeutronNetworks.create_and_list_pools: - args: network_create_args: {} subnet_create_args: {} pool_create_args: {} subnet_cidr_start: ""10.0.0.0/24"" subnets_per_network: 1 runner: type: ""constant"" times: 100 concurrency: 10 context: users: tenants: 1 users_per_tenant: 1 quotas: neutron: network: -1 ",,751,480
openstack%2Ffuel-library~master~Iaa9631b58f268ec414c58d1b7c47de3573772fc5,openstack/fuel-library,master,Iaa9631b58f268ec414c58d1b7c47de3573772fc5,Set mtu for internal networks according to segmentation type,MERGED,2015-05-07 19:49:21.000000000,2015-05-13 14:44:13.000000000,2015-05-13 14:07:58.000000000,"[{'_account_id': 3}, {'_account_id': 6926}, {'_account_id': 7468}, {'_account_id': 7604}, {'_account_id': 7732}, {'_account_id': 7745}, {'_account_id': 8786}, {'_account_id': 8797}, {'_account_id': 8971}, {'_account_id': 14774}, {'_account_id': 14985}]","[{'number': 1, 'created': '2015-05-07 19:49:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/4bf964cefb4d19bb28f0f4e622c1a46d70b326df', 'message': 'Set mtu for internal networks according to segmentation type\n\nCurrently MTU for cloud networks is always set to 1500, which is not correct\nfor GRE segmentation and causes performance degradation. MTU value should also\ndepend on MTU settings of physical interfaces.\nThe only way to change MTU for Neutron private network is to use an additional\ndnsmasq configuration file.\n\nChange-Id: Iaa9631b58f268ec414c58d1b7c47de3573772fc5\nCloses-bug: #1411732\n'}, {'number': 2, 'created': '2015-05-07 19:53:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/71ee214db56daa60cb433025bdf5d3d3e71f05ad', 'message': 'Set mtu for internal networks according to segmentation type\n\nCurrently MTU for cloud networks is always set to 1500, which is not correct\nfor GRE segmentation and causes performance degradation. MTU value should also\ndepend on MTU settings of physical interfaces.\nThe only way to change MTU for Neutron private network is to use an additional\ndnsmasq configuration file.\n\nChange-Id: Iaa9631b58f268ec414c58d1b7c47de3573772fc5\nCloses-bug: #1411732\n'}, {'number': 3, 'created': '2015-05-07 21:40:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/c07503c8e560937bfb27c8431c7b3a2112a27622', 'message': 'Set mtu for internal networks according to segmentation type\n\nCurrently MTU for cloud networks is always set to 1500, which is not correct\nfor GRE segmentation and causes performance degradation. MTU value should also\ndepend on MTU settings of physical interfaces.\nThe only way to change MTU for Neutron private network is to use an additional\ndnsmasq configuration file.\n\nChange-Id: Iaa9631b58f268ec414c58d1b7c47de3573772fc5\nCloses-bug: #1411732\n'}, {'number': 4, 'created': '2015-05-08 10:43:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/432792eabcf032e3f3bfb565667bd8944c4e69d9', 'message': 'Set mtu for internal networks according to segmentation type\n\nCurrently MTU for cloud networks is always set to 1500, which is not correct\nfor GRE segmentation and causes performance degradation. MTU value should also\ndepend on MTU settings of physical interfaces.\nThe only way to change MTU for Neutron private network is to use an additional\ndnsmasq configuration file.\n\nChange-Id: Iaa9631b58f268ec414c58d1b7c47de3573772fc5\nCloses-bug: #1411732\n'}, {'number': 5, 'created': '2015-05-08 15:31:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/0dd2271d96629ad4a9a1fcd8bb53722071347462', 'message': 'Set mtu for internal networks according to segmentation type\n\nCurrently MTU for cloud networks is always set to 1500, which is not correct\nfor GRE segmentation and causes performance degradation. MTU value should also\ndepend on MTU settings of physical interfaces.\nThe only way to change MTU for Neutron private network is to use an additional\ndnsmasq configuration file.\n\nChange-Id: Iaa9631b58f268ec414c58d1b7c47de3573772fc5\nCloses-bug: #1411732\n'}, {'number': 6, 'created': '2015-05-10 13:41:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/b3d07fd7d7a3c09f386917ed47b96d96ac193a6b', 'message': 'Set mtu for internal networks according to segmentation type\n\nCurrently MTU for cloud networks is always set to 1500, which is not correct\nfor GRE segmentation and causes performance degradation. MTU value should also\ndepend on MTU settings of physical interfaces.\nThe only way to change MTU for Neutron private network is to use an additional\ndnsmasq configuration file.\n\nChange-Id: Iaa9631b58f268ec414c58d1b7c47de3573772fc5\nCloses-bug: #1411732\n'}, {'number': 7, 'created': '2015-05-10 16:50:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/112e475e1c5b0b256e360756a20f465a793a2166', 'message': 'Set mtu for internal networks according to segmentation type\n\nCurrently MTU for cloud networks is always set to 1500, which is not correct\nfor GRE segmentation and causes performance degradation. MTU value should also\ndepend on MTU settings of physical interfaces.\nThe only way to change MTU for Neutron private network is to use an additional\ndnsmasq configuration file.\n\nChange-Id: Iaa9631b58f268ec414c58d1b7c47de3573772fc5\nCloses-bug: #1411732\n'}, {'number': 8, 'created': '2015-05-11 14:24:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/4acfaff6e75729216ce13f00380fd016e63fdba6', 'message': 'Set mtu for internal networks according to segmentation type\n\nCurrently MTU for cloud networks is always set to 1500, which is not correct\nfor GRE segmentation and causes performance degradation. MTU value should also\ndepend on MTU settings of physical interfaces.\nThe only way to change MTU for Neutron private network is to use an additional\ndnsmasq configuration file.\n\nChange-Id: Iaa9631b58f268ec414c58d1b7c47de3573772fc5\nCloses-bug: #1411732\n'}, {'number': 9, 'created': '2015-05-12 10:19:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/6969c5b3e804621d4a2cff9b2191519b90cb5652', 'message': 'Set mtu for internal networks according to segmentation type\n\nCurrently MTU for Neutron private networks is always set to 1500,\nwhich is not correct for GRE segmentation and causes performance degradation.\nMTU value should also depend on MTU settings of physical interfaces.\nThe only way to change MTU for Neutron private network is to use an additional\ndnsmasq configuration file.\n\nChange-Id: Iaa9631b58f268ec414c58d1b7c47de3573772fc5\nCloses-bug: #1411732\n'}, {'number': 10, 'created': '2015-05-12 10:40:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/a25951032b94c0251d20a43eff5a4208a1c354d4', 'message': 'Set mtu for internal networks according to segmentation type\n\nCurrently MTU for Neutron private networks is always set to 1500,\nwhich is not correct for GRE segmentation and causes performance degradation.\nMTU value should also depend on MTU settings of physical interfaces.\nThe only way to change MTU for Neutron private network is to use an additional\ndnsmasq configuration file.\n\nChange-Id: Iaa9631b58f268ec414c58d1b7c47de3573772fc5\nCloses-bug: #1411732\n'}, {'number': 11, 'created': '2015-05-12 14:48:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/28cc4aced150eb98b532dff093bf2e3f109075f2', 'message': 'Set mtu for internal networks according to segmentation type\n\nCurrently MTU for Neutron private networks is always set to 1500,\nwhich is not correct for GRE segmentation and causes performance degradation.\nMTU value should also depend on MTU settings of physical interfaces.\nThe only way to change MTU for Neutron private network is to use an additional\ndnsmasq configuration file.\n\nChange-Id: Iaa9631b58f268ec414c58d1b7c47de3573772fc5\nCloses-bug: #1411732\n'}, {'number': 12, 'created': '2015-05-12 16:08:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/c9df7385af4435ead6fea0cf1a8f5e89327bef93', 'message': 'Set mtu for internal networks according to segmentation type\n\nCurrently MTU for Neutron private networks is always set to 1500,\nwhich is not correct for GRE segmentation and causes performance degradation.\nMTU value should also depend on MTU settings of physical interfaces.\nThe only way to change MTU for Neutron private network is to use an additional\ndnsmasq configuration file.\n\nCo-Authored-By: Sergey Vasilenko <svasilenko@mirantis.com>\nChange-Id: Iaa9631b58f268ec414c58d1b7c47de3573772fc5\nCloses-bug: #1411732\n'}, {'number': 13, 'created': '2015-05-12 18:54:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/320af17e3e42de2d30b6aaf9de2a5b57c0d08d94', 'message': 'Set mtu for internal networks according to segmentation type\n\nCurrently MTU for Neutron private networks is always set to 1500,\nwhich is not correct for GRE segmentation and causes performance degradation.\nMTU value should also depend on MTU settings of physical interfaces.\nThe only way to change MTU for Neutron private network is to use an additional\ndnsmasq configuration file.\n\nCo-Authored-By: Sergey Vasilenko <svasilenko@mirantis.com>\nChange-Id: Iaa9631b58f268ec414c58d1b7c47de3573772fc5\nCloses-bug: #1411732\n'}, {'number': 14, 'created': '2015-05-12 19:28:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/e8f521c8d4d0e3f6e2df2295bbda27e8dab340a1', 'message': 'Set mtu for internal networks according to segmentation type\n\nCurrently MTU for Neutron private networks is always set to 1500,\nwhich is not correct for GRE segmentation and causes performance degradation.\nMTU value should also depend on MTU settings of physical interfaces.\nThe only way to change MTU for Neutron private network is to use an additional\ndnsmasq configuration file.\n\nCo-Authored-By: Sergey Vasilenko <svasilenko@mirantis.com>\nChange-Id: Iaa9631b58f268ec414c58d1b7c47de3573772fc5\nCloses-bug: #1411732\n'}, {'number': 15, 'created': '2015-05-12 21:14:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/6125e632721ee69ed4c8d51a16e3383a8dddcd61', 'message': 'Set mtu for internal networks according to segmentation type\n\nCurrently MTU for Neutron private networks is always set to 1500,\nwhich is not correct for GRE segmentation and causes performance degradation.\nMTU value should also depend on MTU settings of physical interfaces.\nThe only way to change MTU for Neutron private network is to use an additional\ndnsmasq configuration file.\n\nCo-Authored-By: Sergey Vasilenko <svasilenko@mirantis.com>\nChange-Id: Iaa9631b58f268ec414c58d1b7c47de3573772fc5\nCloses-bug: #1411732\n'}, {'number': 16, 'created': '2015-05-12 21:54:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/ce07ae76fe89f2bece4de9c87241d2881dfca205', 'message': 'Set mtu for internal networks according to segmentation type\n\nCurrently MTU for Neutron private networks is always set to 1500,\nwhich is not correct for GRE segmentation and causes performance degradation.\nMTU value should also depend on MTU settings of physical interfaces.\nThe only way to change MTU for Neutron private network is to use an additional\ndnsmasq configuration file.\n\nCo-Authored-By: Sergey Vasilenko <svasilenko@mirantis.com>\nChange-Id: Iaa9631b58f268ec414c58d1b7c47de3573772fc5\nCloses-bug: #1411732\n'}, {'number': 17, 'created': '2015-05-12 22:02:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/a5e05259d4064530c93845a15333d87eed2f2135', 'message': 'Set mtu for internal networks according to segmentation type\n\nCurrently MTU for Neutron private networks is always set to 1500,\nwhich is not correct for GRE segmentation and causes performance degradation.\nMTU value should also depend on MTU settings of physical interfaces.\nThe only way to change MTU for Neutron private network is to use an additional\ndnsmasq configuration file.\n\nCo-Authored-By: Sergey Vasilenko <svasilenko@mirantis.com>\nChange-Id: Iaa9631b58f268ec414c58d1b7c47de3573772fc5\nCloses-bug: #1411732\n'}, {'number': 18, 'created': '2015-05-13 08:45:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/7e31fe05374bbe9594f671bca956d27ecd6e46e0', 'message': 'Set mtu for internal networks according to segmentation type\n\nCurrently MTU for Neutron private networks is always set to 1500,\nwhich is not correct for GRE segmentation and causes performance degradation.\nMTU value should also depend on MTU settings of physical interfaces.\nThe only way to change MTU for Neutron private network is to use an additional\ndnsmasq configuration file.\n\nCo-Authored-By: Sergey Vasilenko <svasilenko@mirantis.com>\nChange-Id: Iaa9631b58f268ec414c58d1b7c47de3573772fc5\nCloses-bug: #1411732\n'}, {'number': 19, 'created': '2015-05-13 08:56:35.000000000', 'files': ['deployment/puppet/openstack/manifests/network/neutron_agents.pp', 'deployment/puppet/l23network/lib/puppetx/l23_network_scheme.rb', 'deployment/puppet/l23network/spec/functions/get_transformation_property__spec.rb', 'deployment/puppet/openstack/templates/neutron/dnsmasq-neutron.conf.erb', 'deployment/puppet/l23network/spec/functions/get_network_role_property__phys_dev__spec.rb', 'deployment/puppet/openstack/manifests/network.pp', 'deployment/puppet/l23network/lib/puppet/parser/functions/get_network_role_property.rb', 'deployment/puppet/l23network/spec/functions/get_network_role_property__spec.rb', 'deployment/puppet/osnailyfacter/modular/openstack-network/openstack-network-controller.pp', 'deployment/puppet/l23network/lib/puppet/parser/functions/get_transformation_property.rb'], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/0f9e5f9b29fdecaa194df6442d94d85b6f8d2c5a', 'message': 'Set mtu for internal networks according to segmentation type\n\nCurrently MTU for Neutron private networks is always set to 1500,\nwhich is not correct for GRE segmentation and causes performance degradation.\nMTU value should also depend on MTU settings of physical interfaces.\nThe only way to change MTU for Neutron private network is to use an additional\ndnsmasq configuration file.\n\nCo-Authored-By: Sergey Vasilenko <svasilenko@mirantis.com>\nChange-Id: Iaa9631b58f268ec414c58d1b7c47de3573772fc5\nCloses-bug: #1411732\n'}]",3,181134,0f9e5f9b29fdecaa194df6442d94d85b6f8d2c5a,332,11,19,7604,,,0,"Set mtu for internal networks according to segmentation type

Currently MTU for Neutron private networks is always set to 1500,
which is not correct for GRE segmentation and causes performance degradation.
MTU value should also depend on MTU settings of physical interfaces.
The only way to change MTU for Neutron private network is to use an additional
dnsmasq configuration file.

Co-Authored-By: Sergey Vasilenko <svasilenko@mirantis.com>
Change-Id: Iaa9631b58f268ec414c58d1b7c47de3573772fc5
Closes-bug: #1411732
",git fetch https://review.opendev.org/openstack/fuel-library refs/changes/34/181134/19 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/puppet/openstack/manifests/network/neutron_agents.pp', 'deployment/puppet/l23network/spec/functions/get_transformation_property__spec.rb', 'deployment/puppet/openstack/templates/neutron/dnsmasq-neutron.conf.erb', 'deployment/puppet/l23network/lib/puppet/parser/functions/get_network_role_property.rb', 'deployment/puppet/l23network/spec/functions/get_network_role_property__spec.rb', 'deployment/puppet/l23network/lib/puppet/parser/functions/get_transformation_property.rb']",6,4bf964cefb4d19bb28f0f4e622c1a46d70b326df,bug/1411732,"require 'puppetx/l23_network_scheme' Puppet::Parser::Functions::newfunction(:get_transformation_property, :type => :rvalue, :doc => <<-EOS This function gets a physical device properties from transformations -- and returns information about the selected property ex: get_transformation_property('bond0', 'mtu') You can use following modes: mtu -- mtu value for the selected device. nil if mtu is not set Returns NIL if a device is not found. EOS ) do |argv| if argv.size == 2 mode = argv[1].to_s().upcase() else raise(Puppet::ParseError, ""get_transformation_property(...): Wrong number of arguments."") end cfg = L23network::Scheme.get_config(lookupvar('l3_fqdn_hostname')) if cfg.nil? raise(Puppet::ParseError, ""get_transformation_property(...): You must call prepare_network_config(...) first!"") end if !cfg[:roles] || !cfg[:endpoints] || cfg[:roles].class.to_s() != ""Hash"" || cfg[:endpoints].class.to_s() != ""Hash"" raise(Puppet::ParseError, ""get_transformation_property(...): Invalid cfg_hash format."") end transforms = cfg[:transformations] ifaces = cfg[:interfaces] iface = argv[0] rv = nil case mode when 'MTU' if iface.include? ""bond"" for i in 0..transforms.size do transform = cfg[:transformations][i] t_type = transform.class.to_s if t_type != ""NilClass"" and transform[:name] == iface mtu = transform[:mtu] break end end else mtu = ifaces[iface.to_sym][:mtu] end if mtu.nil? Puppet::debug(""get_transformation_property(...): MTU value is not set for interface '#{iface}'."") end rv = mtu end rv end # vim: set ts=2 sw=2 et : ",,180,10
openstack%2Ffuel-qa~master~Id068d828b55bf84fb43b70c6ebfb625f170952ea,openstack/fuel-qa,master,Id068d828b55bf84fb43b70c6ebfb625f170952ea,Increase wait for nailgun in rollback tests,MERGED,2015-05-13 11:15:10.000000000,2015-05-13 14:41:15.000000000,2015-05-13 14:41:14.000000000,"[{'_account_id': 3}, {'_account_id': 6719}, {'_account_id': 8882}, {'_account_id': 8971}, {'_account_id': 10136}, {'_account_id': 10391}, {'_account_id': 11081}, {'_account_id': 11969}]","[{'number': 1, 'created': '2015-05-13 11:15:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-qa/commit/d4e0867de53817ca2741996bb46fdb031d219acc', 'message': 'Increase wait for nailgun in rollback tests\n\nChange-Id: Id068d828b55bf84fb43b70c6ebfb625f170952ea\nCloses-Bug: #1454571\n'}, {'number': 2, 'created': '2015-05-13 13:59:14.000000000', 'files': ['fuelweb_test/tests/test_upgrade.py'], 'web_link': 'https://opendev.org/openstack/fuel-qa/commit/816442bf874af18135442cbaa74f5732776d7de5', 'message': 'Increase wait for nailgun in rollback tests\n\nChange-Id: Id068d828b55bf84fb43b70c6ebfb625f170952ea\nCloses-Bug: #1454571\n'}]",0,182619,816442bf874af18135442cbaa74f5732776d7de5,14,8,2,10136,,,0,"Increase wait for nailgun in rollback tests

Change-Id: Id068d828b55bf84fb43b70c6ebfb625f170952ea
Closes-Bug: #1454571
",git fetch https://review.opendev.org/openstack/fuel-qa refs/changes/19/182619/1 && git format-patch -1 --stdout FETCH_HEAD,['fuelweb_test/tests/test_upgrade.py'],1,d4e0867de53817ca2741996bb46fdb031d219acc,fixRollbackTests," self.env.d_env.nodes().slaves[0]), timeout=300) self.env.d_env.nodes().slaves[0]), timeout=300) self.env.d_env.nodes().slaves[0]), timeout=300)"," self.env.d_env.nodes().slaves[0]), timeout=120) self.env.d_env.nodes().slaves[0]), timeout=120) self.env.d_env.nodes().slaves[0]), timeout=120)",3,3
openstack%2Fcinder~master~I256f320d2563b247a2493301638a7699b66a83b6,openstack/cinder,master,I256f320d2563b247a2493301638a7699b66a83b6,Add patch for consistency group update in ProphetStor driver,MERGED,2015-04-01 07:58:17.000000000,2015-05-13 14:41:03.000000000,2015-05-13 14:41:00.000000000,"[{'_account_id': 3}, {'_account_id': 177}, {'_account_id': 2243}, {'_account_id': 6491}, {'_account_id': 8846}, {'_account_id': 9008}, {'_account_id': 9416}, {'_account_id': 9751}, {'_account_id': 10621}, {'_account_id': 10622}, {'_account_id': 10635}, {'_account_id': 11611}, {'_account_id': 11811}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12202}, {'_account_id': 12249}, {'_account_id': 12369}, {'_account_id': 12491}, {'_account_id': 12492}, {'_account_id': 12493}, {'_account_id': 12540}, {'_account_id': 12778}, {'_account_id': 12780}, {'_account_id': 13144}, {'_account_id': 13203}, {'_account_id': 13394}, {'_account_id': 13628}, {'_account_id': 14206}, {'_account_id': 14242}, {'_account_id': 14259}, {'_account_id': 14797}, {'_account_id': 14969}, {'_account_id': 15011}, {'_account_id': 15249}, {'_account_id': 15374}, {'_account_id': 15764}, {'_account_id': 15882}, {'_account_id': 16203}, {'_account_id': 16269}]","[{'number': 1, 'created': '2015-04-01 07:58:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/495e24288a27cd92e0c6c6809affbc564105dac2', 'message': 'Add patch for consistency group update in ProphetStor driver\n\nBP consistency-groups-kilo-update is introducing CG Modification\nsupport. This patch is adding EMC VNX support for the new API.\n\nChange-Id: I256f320d2563b247a2493301638a7699b66a83b6\nImplements: blueprint cg-modified-prophetstor\n'}, {'number': 2, 'created': '2015-04-01 08:00:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c78a0c6a531b80210a330d287321e4eb7b59e637', 'message': 'Add patch for consistency group update in ProphetStor driver\n\nBP consistency-groups-kilo-update is introducing CG Modification\nsupport. This patch is adding ProphetStor support for the new API.\n\nChange-Id: I256f320d2563b247a2493301638a7699b66a83b6\nImplements: blueprint cg-modified-prophetstor\n'}, {'number': 3, 'created': '2015-04-01 08:03:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/04600f0bf40fca042b1cfd899d9d458a92722ca4', 'message': 'Add patch for consistency group update in ProphetStor driver\n\nBP consistency-groups-kilo-update is introducing CG Modification\nsupport. This patch is adding ProphetStor support for the new API.\n\nChange-Id: I256f320d2563b247a2493301638a7699b66a83b6\nImplements: blueprint cg-modified-prophetstor\n'}, {'number': 4, 'created': '2015-04-01 08:26:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/78fd4f4fe0bda3c42aeebcf61c4e417752bb9246', 'message': 'Add patch for consistency group update in ProphetStor driver\n\nBP consistency-groups-kilo-update is introducing CG Modification\nsupport. This patch is adding ProphetStor cinder driver support\nfor the new API.\n\nChange-Id: I256f320d2563b247a2493301638a7699b66a83b6\nImplements: blueprint cg-modified-prophetstor\n'}, {'number': 5, 'created': '2015-04-01 09:08:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/4f372302197984a0404769d8a2154ca4312f0e20', 'message': 'Add patch for consistency group update in ProphetStor driver\n\nBP consistency-groups-kilo-update is introducing CG Modification\nsupport. This patch is adding ProphetStor driver support\nfor the new API.\n\nChange-Id: I256f320d2563b247a2493301638a7699b66a83b6\nImplements: blueprint cg-modified-prophetstor\n'}, {'number': 6, 'created': '2015-04-01 10:10:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/54c717d801387927ff341bee68a63296c7b89d49', 'message': 'Add patch for consistency group update in ProphetStor driver\n\nBP consistency-groups-kilo-update is introducing CG Modification\nsupport. This patch is adding ProphetStor support for the new\nAPI.\n\nChange-Id: I256f320d2563b247a2493301638a7699b66a83b6\nImplements: blueprint cg-modified-prophetstor\n'}, {'number': 7, 'created': '2015-04-02 02:59:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/2cd9a5fc25471cf2840fbb427f4729537a296069', 'message': 'Add patch for consistency group update in ProphetStor driver\n\nBP consistency-groups-kilo-update is introducing CG Modification\nsupport. This patch is adding ProphetStor support for the new\nAPI.\n\nChange-Id: I256f320d2563b247a2493301638a7699b66a83b6\nImplements: blueprint cg-modified-prophetstor\n'}, {'number': 8, 'created': '2015-04-02 03:24:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/fc3babdaa238c2889cd24f38645c3d9ecb00b2cc', 'message': 'Add patch for consistency group update in ProphetStor driver\n\nBP consistency-groups-kilo-update is introducing CG Modification\nsupport. This patch is adding ProphetStor support for the new\nAPI.\n\nChange-Id: I256f320d2563b247a2493301638a7699b66a83b6\nImplements: blueprint cg-modified-prophetstor\n'}, {'number': 9, 'created': '2015-04-16 09:43:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/1cb2f773cb6f8e6dcd4ba5604f0756ee9e470ae8', 'message': 'Add patch for consistency group update in ProphetStor driver\n\nBP consistency-groups-kilo-update has introduced CG Modification\nsupport. This patch is adding support for the new API in\nProphetStor driver.\n\nChange-Id: I256f320d2563b247a2493301638a7699b66a83b6\nImplements: blueprint cg-modified-prophetstor\n'}, {'number': 10, 'created': '2015-04-23 08:59:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/5e42e31237a8c5335cf2888a02df4d043be15b1d', 'message': 'Add patch for consistency group update in ProphetStor driver\n\nBP consistency-groups-kilo-update has introduced CG Modification\nsupport. This patch is adding support for the new API in\nProphetStor driver.\n\nChange-Id: I256f320d2563b247a2493301638a7699b66a83b6\nImplements: blueprint cg-modified-prophetstor\n'}, {'number': 11, 'created': '2015-04-24 00:49:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/04af2a8b71dc79510e03e189cb88b2847ef3ed3c', 'message': 'Add patch for consistency group update in ProphetStor driver\n\nBP consistency-groups-kilo-update has introduced CG Modification\nsupport. This patch is adding support for the new API in\nProphetStor driver.\n\nChange-Id: I256f320d2563b247a2493301638a7699b66a83b6\nImplements: blueprint cg-modified-prophetstor\n'}, {'number': 12, 'created': '2015-04-27 01:52:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f598b2c839bb029a1049dc601401eea2da66d4e3', 'message': 'Add patch for consistency group update in ProphetStor driver\n\nBP consistency-groups-kilo-update has introduced CG Modification\nsupport. This patch is adding support for the new API in\nProphetStor driver.\n\nThis patch also included styling changes which replaced \\ with\n().\n\nChange-Id: I256f320d2563b247a2493301638a7699b66a83b6\nImplements: blueprint cg-modified-prophetstor\n'}, {'number': 13, 'created': '2015-04-30 03:28:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/cbedff1073ca5843e56e865a735ad060cb63ca06', 'message': 'Add patch for consistency group update in ProphetStor driver\n\nBP consistency-groups-kilo-update has introduced CG Modification\nsupport. This patch is adding support for the new API in\nProphetStor driver.\n\nThis patch also included styling changes which replaced \\ with\n().\n\nChange-Id: I256f320d2563b247a2493301638a7699b66a83b6\nImplements: blueprint cg-modified-prophetstor\n'}, {'number': 14, 'created': '2015-04-30 05:54:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/34ea0b3b506da129569f464842ef68421e9e65c0', 'message': 'Add patch for consistency group update in ProphetStor driver\n\nBP consistency-groups-kilo-update has introduced CG Modification\nsupport. This patch is adding support for the new API in\nProphetStor driver.\n\nThis patch also included styling changes which replaced \\ with\n().\n\nChange-Id: I256f320d2563b247a2493301638a7699b66a83b6\nImplements: blueprint cg-modified-prophetstor\n'}, {'number': 15, 'created': '2015-05-04 14:43:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/5f12e0ad7855a55f8dc4e9ea6a708ddbcf1f8d1c', 'message': 'Add patch for consistency group update in ProphetStor driver\n\nBP consistency-groups-kilo-update has introduced CG Modification\nsupport. This patch is adding support for the new API in\nProphetStor driver.\n\nThis patch also included styling changes which replaced \\ with\n().\n\nChange-Id: I256f320d2563b247a2493301638a7699b66a83b6\nImplements: blueprint cg-modified-prophetstor\n'}, {'number': 16, 'created': '2015-05-12 14:01:00.000000000', 'files': ['cinder/volume/drivers/prophetstor/dplcommon.py', 'cinder/tests/unit/test_prophetstor_dpl.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/d50181d38035bcfa74203f6a793910ddc25f693c', 'message': 'Add patch for consistency group update in ProphetStor driver\n\nBP consistency-groups-kilo-update has introduced CG Modification\nsupport. This patch is adding support for the new API in\nProphetStor driver.\n\nThis patch also included styling changes which replaced \\ with\n().\n\nChange-Id: I256f320d2563b247a2493301638a7699b66a83b6\nImplements: blueprint cg-modified-prophetstor\n'}]",19,169653,d50181d38035bcfa74203f6a793910ddc25f693c,251,42,16,9416,,,0,"Add patch for consistency group update in ProphetStor driver

BP consistency-groups-kilo-update has introduced CG Modification
support. This patch is adding support for the new API in
ProphetStor driver.

This patch also included styling changes which replaced \ with
().

Change-Id: I256f320d2563b247a2493301638a7699b66a83b6
Implements: blueprint cg-modified-prophetstor
",git fetch https://review.opendev.org/openstack/cinder refs/changes/53/169653/16 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/drivers/prophetstor/dplcommon.py'],1,495e24288a27cd92e0c6c6809affbc564105dac2,bp/consistency-groups-kilo-update," def _join_volume_group(self, volume, cgId): def _leave_volume_group(self, volume, cgId): # Join volume group if consistency group id not empty msg = '' try: ret, output = self.dpl.leave_vg( self._conver_uuid2hex(volume['id']), self._conver_uuid2hex(cgId)) except Exception as e: ret = errno.EFAULT msg = _('Fexvisor failed to leave volume %(id)s ' 'due to %(reason)s.') % {""id"": volume['id'], ""reason"": six.text_type(e)} if ret: if not msg: msg = _('Flexvisor failed to leave volume %(id)s ' 'from group %(cgid)s.') % {'id': volume['id'], 'cgid': cgId} raise exception.VolumeBackendAPIException(data=msg) else: LOG.info(_LI('Flexvisor succeeded to leave volume %(id)s from ' 'group %(cgid)s.'), {'id': volume['id'], 'cgid': cgId}) def update_consistencygroup(self, context, group, add_volumes=None, remove_volumes=None): addvollist = [] removevollist = [] cgid = group['id'] vid = '' # Get current group info in backend storage. ret, output = self.edpl.get_vg(self._conver_uuid2hex(cgid)) if ret == 0: group_members = output.get('children', []) if add_volumes: addvollist = add_volumes if remove_volumes: removevollist = remove_volumes # Process join volumes. try: for volume in addvollist: vid = volume['id'] # Verify the volume existed in the group or not. if self._conver_uuid2hex(vid) in group_members: continue self._join_volume_group(volume, cgid) except exception as e: msg = _(""Fexvisor failed to join the volume %(vol)s in the "" ""group %(group)s due to "" ""%(ret)s."") % {""vol"": vid, ""group"": cgid, ""ret"": six.text_type(e)} raise exception.VolumeBackendAPIException(data=msg) # Process leave volumes. try: for volume in removevollist: vid = volume['id'] if self._conver_uuid2hex(vid) in group_members: self._leave_volume_group(volume, cgid) except exception as e: msg = _(""Fexvisor failed to leave the volume %(vol)s in the "" ""group %(group)s due to "" ""%(ret)s."") % {""vol"": vid, ""group"": cgid, ""ret"": six.text_type(e)} raise exception.VolumeBackendAPIException(data=msg) self._join_volume_group(volume, volume['consistencygroup_id']) self._join_volume_group(volume, volume['consistencygroup_id']) self._join_volume_group(volume, volume['consistencygroup_id'])"," def _join_volume_group(self, volume): cgId = volume['consistencygroup_id'] self._join_volume_group(volume) self._join_volume_group(volume) self._join_volume_group(volume)",70,5
openstack%2Ffuel-main~master~Ibef2d5312509d179c6b0631e459f3c885f169d3f,openstack/fuel-main,master,Ibef2d5312509d179c6b0631e459f3c885f169d3f,Fix DEBMSG issue,MERGED,2015-05-13 13:51:20.000000000,2015-05-13 14:40:12.000000000,2015-05-13 14:40:11.000000000,"[{'_account_id': 3}, {'_account_id': 8777}, {'_account_id': 8786}, {'_account_id': 8882}, {'_account_id': 8971}, {'_account_id': 9582}, {'_account_id': 9977}, {'_account_id': 13895}]","[{'number': 1, 'created': '2015-05-13 13:51:20.000000000', 'files': ['packages/deb/module.mk'], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/1c03fb884d3e79165a2406d00a5ea8679e35f4f7', 'message': 'Fix DEBMSG issue\n\nWe need to use double-quoting for DEBMSG string in dch tool\n\nChange-Id: Ibef2d5312509d179c6b0631e459f3c885f169d3f\n'}]",0,182679,1c03fb884d3e79165a2406d00a5ea8679e35f4f7,11,8,1,12817,,,0,"Fix DEBMSG issue

We need to use double-quoting for DEBMSG string in dch tool

Change-Id: Ibef2d5312509d179c6b0631e459f3c885f169d3f
",git fetch https://review.opendev.org/openstack/fuel-main refs/changes/79/182679/1 && git format-patch -1 --stdout FETCH_HEAD,['packages/deb/module.mk'],1,1c03fb884d3e79165a2406d00a5ea8679e35f4f7,," ""`awk -F'=' '/DEBMSG/ {print $$$$2}' $(BUILD_DIR)/packages/sources/$1/version`""", `awk -F'=' '/DEBMSG/ {print $$$$2}' $(BUILD_DIR)/packages/sources/$1/version`,1,1
openstack%2Fapp-catalog~master~Id84eda7f3ccc3c349a98b0a938e707c8878e998f,openstack/app-catalog,master,Id84eda7f3ccc3c349a98b0a938e707c8878e998f,Add deployment clarification,MERGED,2015-05-12 12:37:51.000000000,2015-05-13 14:38:26.000000000,2015-05-13 14:38:19.000000000,"[{'_account_id': 3}, {'_account_id': 7225}, {'_account_id': 9788}, {'_account_id': 16145}, {'_account_id': 16259}]","[{'number': 1, 'created': '2015-05-12 12:37:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/app-catalog/commit/97bdcb247b982657f412f5417e2ed70b34b3d7e1', 'message': 'Add deployment clarification\n\nChange-Id: Id84eda7f3ccc3c349a98b0a938e707c8878e998f\n'}, {'number': 2, 'created': '2015-05-13 01:01:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/app-catalog/commit/e2f8a42258aff08a172e9b6858952602ea67ce6b', 'message': 'Add deployment clarification\n\nChange-Id: Id84eda7f3ccc3c349a98b0a938e707c8878e998f\n'}, {'number': 3, 'created': '2015-05-13 14:25:51.000000000', 'files': ['openstack_catalog/web/static/murano_apps.yaml'], 'web_link': 'https://opendev.org/openstack/app-catalog/commit/46d2b22914e12a746b0a33bdc79b5ecc47385ea5', 'message': 'Add deployment clarification\n\nChange-Id: Id84eda7f3ccc3c349a98b0a938e707c8878e998f\n'}]",0,182265,46d2b22914e12a746b0a33bdc79b5ecc47385ea5,15,5,3,7225,,,0,"Add deployment clarification

Change-Id: Id84eda7f3ccc3c349a98b0a938e707c8878e998f
",git fetch https://review.opendev.org/openstack/app-catalog refs/changes/65/182265/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack_catalog/web/static/murano_apps.yaml'],1,97bdcb247b982657f412f5417e2ed70b34b3d7e1,182265," Murano will deploy this in the docker service of your choice; you'll be will prompted to create a docker service or choose one you have deployed (e.g., via Kubernetes Pod). Murano creates a VM(s) for you from the image listed in the dependencies. Murano creates a VM(s) for you from the image listed in the dependencies. Murano creates a VM(s) for you from the image listed in the dependencies. Murano creates a VM(s) for you from the image listed in the dependencies. Murano creates a VM(s) for you from the image listed in the dependencies. Murano will deploy this in the docker service of your choice; you'll be will prompted to create a docker service or choose one you have deployed (e.g., via Kubernetes Pod). Murano will deploy this in the docker service of your choice; you'll be will prompted to create a docker service or choose one you have deployed (e.g., via Kubernetes Pod). Murano will deploy this in the docker service of your choice; you'll be will prompted to create a docker service or choose one you have deployed (e.g., via Kubernetes Pod). Murano will deploy this in the docker service of your choice; you'll be will prompted to create a docker service or choose one you have deployed (e.g., via Kubernetes Pod). Murano will deploy this in the docker service of your choice; you'll be will prompted to create a docker service or choose one you have deployed (e.g., via Kubernetes Pod). Murano will deploy this in the docker service of your choice; you'll be will prompted to create a docker service or choose one you have deployed (e.g., via Kubernetes Pod). Murano will deploy this in the docker service of your choice; you'll be will prompted to create a docker service or choose one you have deployed (e.g., via Kubernetes Pod). Murano will deploy this in the docker service of your choice; you'll be will prompted to create a docker service or choose one you have deployed (e.g., via Kubernetes Pod). Murano will deploy this in the docker service of your choice; you'll be will prompted to create a docker service or choose one you have deployed (e.g., via Kubernetes Pod). Murano will deploy this in the docker service of your choice; you'll be will prompted to create a docker service or choose one you have deployed (e.g., via Kubernetes Pod). Murano will deploy this in the docker service of your choice; you'll be will prompted to create a docker service or choose one you have deployed (e.g., via Kubernetes Pod). Murano will deploy this in the docker service of your choice; you'll be will prompted to create a docker service or choose one you have deployed (e.g., via Kubernetes Pod). Murano will deploy this in the docker service of your choice; you'll be will prompted to create a docker service or choose one you have deployed (e.g., via Kubernetes Pod). Murano will deploy this in the docker service of your choice; you'll be will prompted to create a docker service or choose one you have deployed (e.g., via Kubernetes Pod). Murano will deploy this in the docker service of your choice; you'll be will prompted to create a docker service or choose one you have deployed (e.g., via Kubernetes Pod).",,74,0
openstack%2Ffuel-qa~master~I4307f5ce33da98eb6f466a380311b8ed3d34328c,openstack/fuel-qa,master,I4307f5ce33da98eb6f466a380311b8ed3d34328c,Adding possibility to mark all Tempest tests as failed,MERGED,2015-05-13 10:16:04.000000000,2015-05-13 14:35:11.000000000,2015-05-13 14:35:10.000000000,"[{'_account_id': 3}, {'_account_id': 7126}, {'_account_id': 7227}, {'_account_id': 8882}, {'_account_id': 8971}]","[{'number': 1, 'created': '2015-05-13 10:16:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-qa/commit/0940e8ae4b27047e6d519b189dea4f76277cb0ec', 'message': 'Adding possibility to mark all Tempest tests as failed\n\nIn some cases it is convinient to mark all Tempest tests as failed.\nNow the script ""report_tempest_results.py"" provides such possibility.\n\nChange-Id: I4307f5ce33da98eb6f466a380311b8ed3d34328c\n'}, {'number': 2, 'created': '2015-05-13 10:21:04.000000000', 'files': ['fuelweb_test/testrail/report_tempest_results.py'], 'web_link': 'https://opendev.org/openstack/fuel-qa/commit/4da226a3eb61bc9a6863fbfe4787d0215f9e4788', 'message': 'Adding possibility to mark all Tempest tests as failed\n\nIn some cases it is convinient to mark all Tempest tests as failed.\nNow the script ""report_tempest_results.py"" provides such possibility.\n\nChange-Id: I4307f5ce33da98eb6f466a380311b8ed3d34328c\n'}]",0,182609,4da226a3eb61bc9a6863fbfe4787d0215f9e4788,15,5,2,7428,,,0,"Adding possibility to mark all Tempest tests as failed

In some cases it is convinient to mark all Tempest tests as failed.
Now the script ""report_tempest_results.py"" provides such possibility.

Change-Id: I4307f5ce33da98eb6f466a380311b8ed3d34328c
",git fetch https://review.opendev.org/openstack/fuel-qa refs/changes/09/182609/2 && git format-patch -1 --stdout FETCH_HEAD,['fuelweb_test/testrail/report_tempest_results.py'],1,0940e8ae4b27047e6d519b189dea4f76277cb0ec,,"def parse_xml_report(path_to_report, mark_all_tests_failed=False): if mark_all_tests_failed: for elem in tree.findall('testcase'): test_result = report.TestResult(name=elem.get('name'), group=elem.get('classname'), status='failed', description=None, duration=1) test_results.append(test_result) return test_results parser.add_option('-f', '--fail-all-tests', dest='all_tests_failed', action='store_true', help='Mark all Tempest tests as ' 'failed regardless of genuine ' 'results.') test_results = parse_xml_report(options.path, options.all_tests_failed)",def parse_xml_report(path_to_report): test_results = parse_xml_report(options.path),18,2
openstack%2Fneutron~master~Icdc403a3ccf06daeccf2a907a7bfeafd8dbbb5dd,openstack/neutron,master,Icdc403a3ccf06daeccf2a907a7bfeafd8dbbb5dd,Update build hooks.,MERGED,2015-05-12 20:05:30.000000000,2015-05-13 14:35:08.000000000,2015-05-13 12:21:51.000000000,"[{'_account_id': 3}, {'_account_id': 1653}, {'_account_id': 4190}, {'_account_id': 5170}, {'_account_id': 6524}, {'_account_id': 6854}, {'_account_id': 8645}, {'_account_id': 9656}, {'_account_id': 9681}, {'_account_id': 9682}, {'_account_id': 9732}, {'_account_id': 9787}, {'_account_id': 9845}, {'_account_id': 10116}, {'_account_id': 10117}, {'_account_id': 10121}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10387}, {'_account_id': 10980}, {'_account_id': 14208}, {'_account_id': 14212}, {'_account_id': 14213}, {'_account_id': 14214}, {'_account_id': 14215}, {'_account_id': 14323}, {'_account_id': 14571}, {'_account_id': 15296}, {'_account_id': 15752}, {'_account_id': 15882}]","[{'number': 1, 'created': '2015-05-12 20:05:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6db815929c8f23e0ca1e5b7b3a84e2ee62d1901b', 'message': ""Update build hooks.\n\nThe pbr setup_hook has not been needed for a while, so remove it.  The\nneutron hook has been broken for a while: it places a setup_requires\nbuild dependency on everything in neutron/__init__.py, which is\nnon-empty, but setup_requires is handled by easy install so we try\nvery hard to avoid it. Instead, we can use environment markers to\nselectively include the win32 dependencies without requiring that\nneutron be importable during setup.py execution. This is unusual\nin OpenStack and will eventually be moved to a regular\nrequirements.txt dependency with the same marker - once we've finished\nthe integration work to make markers work properly in\nrequirements.txt.\n\nCloses-bug: #1454372\nChange-Id: Icdc403a3ccf06daeccf2a907a7bfeafd8dbbb5dd\n""}, {'number': 2, 'created': '2015-05-12 20:38:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e4c6118f877a12769829f4ac78ec76a998537a51', 'message': ""Update build hooks.\n\nThe pbr setup_hook has not been needed for a while, so remove it.  The\nneutron hook has been broken for a while: it places a setup_requires\nbuild dependency on everything in neutron/__init__.py, which is\nnon-empty, but setup_requires is handled by easy install so we try\nvery hard to avoid it. Instead, we can use environment markers to\nselectively include the win32 dependencies without requiring that\nneutron be importable during setup.py execution. This is unusual\nin OpenStack and will eventually be moved to a regular\nrequirements.txt dependency with the same marker - once we've finished\nthe integration work to make markers work properly in\nrequirements.txt.\n\nCloses-bug: #1454372\nChange-Id: Icdc403a3ccf06daeccf2a907a7bfeafd8dbbb5dd\n""}, {'number': 3, 'created': '2015-05-12 22:34:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/50ccc1abfec2c1dd68f3a1d87391d39c9c0e9b88', 'message': ""Update build hooks.\n\nThe pbr setup_hook has not been needed for a while, so remove it.  The\nneutron hook has been broken for a while: it places a setup_requires\nbuild dependency on everything in neutron/__init__.py, which is\nnon-empty, but setup_requires is handled by easy install so we try\nvery hard to avoid it. Instead, we can use environment markers to\nselectively include the win32 dependencies without requiring that\nneutron be importable during setup.py execution. This is unusual\nin OpenStack and will eventually be moved to a regular\nrequirements.txt dependency with the same marker - once we've finished\nthe integration work to make markers work properly in\nrequirements.txt.\n\nChange-Id: Icdc403a3ccf06daeccf2a907a7bfeafd8dbbb5dd\n""}, {'number': 4, 'created': '2015-05-12 22:58:28.000000000', 'files': ['neutron/hooks.py', 'setup.py', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/neutron/commit/276028cca26af573c14938255e40c58358eabd4a', 'message': ""Update build hooks.\n\nThe pbr setup_hook has not been needed for a while, so remove it.  The\nneutron hook has been broken for a while: it places a setup_requires\nbuild dependency on everything in neutron/__init__.py, which is\nnon-empty, but setup_requires is handled by easy install so we try\nvery hard to avoid it. Instead, we can use environment markers to\nselectively include the win32 dependencies without requiring that\nneutron be importable during setup.py execution. This is unusual\nin OpenStack and will eventually be moved to a regular\nrequirements.txt dependency with the same marker - once we've finished\nthe integration work to make markers work properly in\nrequirements.txt.\n\nChange-Id: Icdc403a3ccf06daeccf2a907a7bfeafd8dbbb5dd\n""}]",1,182438,276028cca26af573c14938255e40c58358eabd4a,105,30,4,1561,,,0,"Update build hooks.

The pbr setup_hook has not been needed for a while, so remove it.  The
neutron hook has been broken for a while: it places a setup_requires
build dependency on everything in neutron/__init__.py, which is
non-empty, but setup_requires is handled by easy install so we try
very hard to avoid it. Instead, we can use environment markers to
selectively include the win32 dependencies without requiring that
neutron be importable during setup.py execution. This is unusual
in OpenStack and will eventually be moved to a regular
requirements.txt dependency with the same marker - once we've finished
the integration work to make markers work properly in
requirements.txt.

Change-Id: Icdc403a3ccf06daeccf2a907a7bfeafd8dbbb5dd
",git fetch https://review.opendev.org/openstack/neutron refs/changes/38/182438/4 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/hooks.py', 'setup.py', 'setup.cfg']",3,6db815929c8f23e0ca1e5b7b3a84e2ee62d1901b,182433,,[global] setup-hooks = pbr.hooks.setup_hook neutron.hooks.setup_hook ,6,33
openstack%2Foslo.versionedobjects~master~Iecaf355e94afef1742dc870677bcdc8a18466e83,openstack/oslo.versionedobjects,master,Iecaf355e94afef1742dc870677bcdc8a18466e83,VersionedObjectDictCompat inherits MutableMapping,ABANDONED,2015-05-12 22:16:34.000000000,2015-05-13 14:34:38.000000000,,"[{'_account_id': 3}, {'_account_id': 4393}, {'_account_id': 9107}]","[{'number': 1, 'created': '2015-05-12 22:16:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.versionedobjects/commit/84602249a1f7941521fdf1ad87c265807b1d9ddd', 'message': ""VersionedObjectDictCompat inherits MutableMapping\n\nReusing the MutableMapping abstract base class in\nVersionedObjectDictCompat to not have to reimplement all dictionary\nmethods. Only implement __getitem__, __setitem__, __delitem__, __iter__\nand __len__.\n\nRemove also notes previously copied from Nova. Since\noslo.versionedobjects is now a library, removing a class now requires a\ndeprecation warning which is more useful than a note. Removing the\ndictionary API from VersionedObjectDictCompat doesn't make sense. Nova\nmay drop the dictionary API from Nova objects, but not the\nVersionedObjectDictCompat class.\n\nThis change adds also Python 3 support. On Python 3, MutableMapping\ndefines correctly items() and keys() methods: return iterators, not\nlist.\n\nThe change removes VersionedObjectDictCompat.iteritems() on Python 3. No\nOpenStack application using oslo.versionedobjects is compatible with\nPython 3, so this change has no impact of backward compatibility. The\nclass didn't have iterkeys() or itervalues() methods.\n\nChange-Id: Iecaf355e94afef1742dc870677bcdc8a18466e83\n""}, {'number': 2, 'created': '2015-05-12 22:23:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.versionedobjects/commit/79b2f3064df5136579e39e53cbc60d12a3c0a399', 'message': ""VersionedObjectDictCompat inherits MutableMapping\n\nReusing the MutableMapping abstract base class in\nVersionedObjectDictCompat to not have to reimplement all dictionary\nmethods. Only implement __getitem__, __setitem__, __delitem__, __iter__\nand __len__.\n\ndict(obj.iteritems()) can now be simplified to dict(obj).\n\nRemove also notes previously copied from Nova. Since\noslo.versionedobjects is now a library, removing a class now requires a\ndeprecation warning which is more useful than a note. Removing the\ndictionary API from VersionedObjectDictCompat doesn't make sense. Nova\nmay drop the dictionary API from Nova objects, but not the\nVersionedObjectDictCompat class.\n\nThis change adds also Python 3 support. On Python 3, MutableMapping\ndefines correctly items() and keys() methods: return iterators, not\nlist.\n\nThe change removes VersionedObjectDictCompat.iteritems() on Python 3. No\nOpenStack application using oslo.versionedobjects is compatible with\nPython 3, so this change has no impact of backward compatibility. The\nclass didn't have iterkeys() or itervalues() methods.\n\nChange-Id: Iecaf355e94afef1742dc870677bcdc8a18466e83\n""}, {'number': 3, 'created': '2015-05-12 23:51:42.000000000', 'files': ['oslo_versionedobjects/base.py', 'oslo_versionedobjects/tests/test_objects.py'], 'web_link': 'https://opendev.org/openstack/oslo.versionedobjects/commit/9d83e351755a90b8e0967d84491c468f4978255a', 'message': ""VersionedObjectDictCompat inherits MutableMapping\n\nReusing the MutableMapping abstract base class in\nVersionedObjectDictCompat to not have to reimplement all dictionary\nmethods. Only implement __getitem__, __setitem__, __delitem__, __iter__\nand __len__.\n\ndict(obj.iteritems()) can now be simplified to dict(obj).\n\nRemove also notes previously copied from Nova. Since\noslo.versionedobjects is now a library, removing a class now requires a\ndeprecation warning which is more useful than a note. Removing the\ndictionary API from VersionedObjectDictCompat doesn't make sense. Nova\nmay drop the dictionary API from Nova objects, but not the\nVersionedObjectDictCompat class.\n\nThis change adds also Python 3 support. On Python 3, MutableMapping\ndefines correctly items() and keys() methods: return iterators, not\nlist.\n\nThe change removes VersionedObjectDictCompat.iteritems() on Python 3. No\nOpenStack application using oslo.versionedobjects is compatible with\nPython 3, so this change has no impact of backward compatibility. The\nclass didn't have iterkeys() or itervalues() methods.\n\nChange-Id: Iecaf355e94afef1742dc870677bcdc8a18466e83\n""}]",4,182477,9d83e351755a90b8e0967d84491c468f4978255a,12,3,3,9107,,,0,"VersionedObjectDictCompat inherits MutableMapping

Reusing the MutableMapping abstract base class in
VersionedObjectDictCompat to not have to reimplement all dictionary
methods. Only implement __getitem__, __setitem__, __delitem__, __iter__
and __len__.

dict(obj.iteritems()) can now be simplified to dict(obj).

Remove also notes previously copied from Nova. Since
oslo.versionedobjects is now a library, removing a class now requires a
deprecation warning which is more useful than a note. Removing the
dictionary API from VersionedObjectDictCompat doesn't make sense. Nova
may drop the dictionary API from Nova objects, but not the
VersionedObjectDictCompat class.

This change adds also Python 3 support. On Python 3, MutableMapping
defines correctly items() and keys() methods: return iterators, not
list.

The change removes VersionedObjectDictCompat.iteritems() on Python 3. No
OpenStack application using oslo.versionedobjects is compatible with
Python 3, so this change has no impact of backward compatibility. The
class didn't have iterkeys() or itervalues() methods.

Change-Id: Iecaf355e94afef1742dc870677bcdc8a18466e83
",git fetch https://review.opendev.org/openstack/oslo.versionedobjects refs/changes/77/182477/1 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_versionedobjects/base.py', 'oslo_versionedobjects/tests/test_objects.py']",2,84602249a1f7941521fdf1ad87c265807b1d9ddd,mapping_abc," if six.PY2: self.assertEqual(sorted(list(obj.iteritems()), key=lambda x: x[0]), [('bar', 'bar'), ('foo', 123)])"," self.assertEqual(sorted(list(obj.iteritems()), key=lambda x: x[0]), [('bar', 'bar'), ('foo', 123)])",22,37
openstack%2Fshade~master~Iac38d4c0b29f867cc3cefaccf48c1c3fcd17a3d9,openstack/shade,master,Iac38d4c0b29f867cc3cefaccf48c1c3fcd17a3d9,Stop leaking server objects,MERGED,2015-05-08 19:24:41.000000000,2015-05-13 14:31:23.000000000,2015-05-13 14:31:22.000000000,"[{'_account_id': 2}, {'_account_id': 3}, {'_account_id': 3099}, {'_account_id': 6488}]","[{'number': 1, 'created': '2015-05-08 19:24:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/shade/commit/c41d3f630fa691c4c97c06db1ba254b35cf4f262', 'message': 'Stop leaking server objects\n\nTests need updated\n\nChange-Id: Iac38d4c0b29f867cc3cefaccf48c1c3fcd17a3d9\n'}, {'number': 2, 'created': '2015-05-11 19:38:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/shade/commit/2be21dbc528272ecf0811499ad2ea7b3ba7b6d2a', 'message': 'Stop leaking server objects\n\nWe should not be returning raw client objects when creating or\nrebuilding a server.\n\nChange-Id: Iac38d4c0b29f867cc3cefaccf48c1c3fcd17a3d9\n'}, {'number': 3, 'created': '2015-05-12 12:56:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/shade/commit/d8b8068034b1b59bf286388e96bedb050535e1f8', 'message': 'Stop leaking server objects\n\nWe should not be returning raw client objects when creating or\nrebuilding a server.\n\nChange-Id: Iac38d4c0b29f867cc3cefaccf48c1c3fcd17a3d9\n'}, {'number': 4, 'created': '2015-05-12 19:07:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/shade/commit/69a97fad8db4050034654bd7f7fc382955008ded', 'message': 'Stop leaking server objects\n\nWe should not be returning raw client objects when creating or\nrebuilding a server.\n\nThe usage document is updated to indicate that access to resource\nvalues via attribute is deprecated, and the examples in the README\nnow reflect dict-style access.\n\nChange-Id: Iac38d4c0b29f867cc3cefaccf48c1c3fcd17a3d9\n'}, {'number': 5, 'created': '2015-05-12 19:14:10.000000000', 'files': ['README.rst', 'doc/source/usage.rst', 'shade/tests/unit/test_rebuild_server.py', 'shade/__init__.py', 'shade/tests/functional/test_compute.py', 'shade/tests/unit/test_create_server.py'], 'web_link': 'https://opendev.org/openstack/shade/commit/e71bee318c95b05fdf4d5e0102f7da60bde3adb5', 'message': 'Stop leaking server objects\n\nWe should not be returning raw client objects when creating or\nrebuilding a server.\n\nThe usage document is updated to indicate that access to resource\nvalues via attribute is deprecated, and the examples in the README\nnow reflect dict-style access.\n\nChange-Id: Iac38d4c0b29f867cc3cefaccf48c1c3fcd17a3d9\n'}]",6,181513,e71bee318c95b05fdf4d5e0102f7da60bde3adb5,19,4,5,3099,,,0,"Stop leaking server objects

We should not be returning raw client objects when creating or
rebuilding a server.

The usage document is updated to indicate that access to resource
values via attribute is deprecated, and the examples in the README
now reflect dict-style access.

Change-Id: Iac38d4c0b29f867cc3cefaccf48c1c3fcd17a3d9
",git fetch https://review.opendev.org/openstack/shade refs/changes/13/181513/5 && git format-patch -1 --stdout FETCH_HEAD,['shade/__init__.py'],1,c41d3f630fa691c4c97c06db1ba254b35cf4f262,fix_server_obj_leaks, server = meta.obj_to_dict( self.manager.submitTask(_tasks.ServerGet(server=server)) ) extra_data=dict(server=server)) return meta.obj_to_dict(server) server = meta.obj_to_dict( self.manager.submitTask( _tasks.ServerGet(server=server)) ) extra_data=dict(server=server)) return meta.obj_to_dict(server), server = self.manager.submitTask( _tasks.ServerGet(server=server)) extra_data=dict( server=meta.obj_to_dict(server))) return server server = self.manager.submitTask( _tasks.ServerGet(server=server)) extra_data=dict( server=meta.obj_to_dict(server))) return server,11,10
openstack%2Ftripleo-heat-templates~master~I15e6decc3ad1813d3734c33e8b01e5356f4e3c70,openstack/tripleo-heat-templates,master,I15e6decc3ad1813d3734c33e8b01e5356f4e3c70,Adds neutron-server and agents as pacemaker resources,ABANDONED,2015-04-29 15:43:18.000000000,2015-05-13 14:31:05.000000000,,"[{'_account_id': 3}, {'_account_id': 6796}, {'_account_id': 7984}, {'_account_id': 8449}, {'_account_id': 13564}]","[{'number': 1, 'created': '2015-04-29 15:43:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/998c5283184ff5a2950c62ef0571893a07c5b6e3', 'message': 'WIP Adds neutron-server and neutron-l3-agent as pacemaker resources\n\nSetting WIP because as noted in parent review comments, uses hard\ncoded systemd resources. Also want to add other neutron services\n\nChange-Id: I15e6decc3ad1813d3734c33e8b01e5356f4e3c70\n'}, {'number': 2, 'created': '2015-04-30 14:02:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c407b81836e91e88ee48b94aba6e1ef88e28d674', 'message': 'WIP Adds neutron-server and agents as pacemaker resources\n\nAdds neutron-server, neutron-l3-agent, neutron-dhcp-agent,\nneutron-openvswitch-agent and neutron-metadata-agent  as\npacemaker resources.\n\nSetting WIP because as noted in parent review comments, uses\nhard coded systemd resources.\n\nChange-Id: I15e6decc3ad1813d3734c33e8b01e5356f4e3c70\n'}, {'number': 3, 'created': '2015-05-05 14:35:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/33a4b7b560310bbb9cea6c161be896b5bfacdc2e', 'message': 'Adds neutron-server and agents as pacemaker resources\n\nAdds neutron-server, neutron-l3-agent, neutron-dhcp-agent,\nneutron-openvswitch-agent and neutron-metadata-agent  as\npacemaker resources.\n\nChange-Id: I15e6decc3ad1813d3734c33e8b01e5356f4e3c70\n'}, {'number': 4, 'created': '2015-05-06 11:54:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8cbeeb2918eaea79f32091fa1d25d6e199055c1b', 'message': 'Adds neutron-server and agents as pacemaker resources\n\nAdds neutron-server, neutron-l3-agent, neutron-dhcp-agent,\nneutron-openvswitch-agent and neutron-metadata-agent  as\npacemaker resources.\n\nChange-Id: I15e6decc3ad1813d3734c33e8b01e5356f4e3c70\n'}, {'number': 5, 'created': '2015-05-07 10:22:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/de10921d43f7bacfc05702678c78bde733b28c91', 'message': 'Adds neutron-server and agents as pacemaker resources\n\nAdds neutron-server, neutron-l3-agent, neutron-dhcp-agent,\nneutron-openvswitch-agent and neutron-metadata-agent  as\npacemaker resources.\n\nChange-Id: I15e6decc3ad1813d3734c33e8b01e5356f4e3c70\n'}, {'number': 6, 'created': '2015-05-07 10:32:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8fffabb25728e2dff359f22c6d263db677d5b576', 'message': 'Adds neutron-server and agents as pacemaker resources\n\nAdds neutron-server, neutron-l3-agent, neutron-dhcp-agent,\nneutron-openvswitch-agent and neutron-metadata-agent  as\npacemaker resources.\n\nChange-Id: I15e6decc3ad1813d3734c33e8b01e5356f4e3c70\n'}, {'number': 7, 'created': '2015-05-07 12:53:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/396a61aea482498fc937e0bf238984594d3b0876', 'message': 'Adds neutron-server and agents as pacemaker resources\n\nAdds neutron-server, neutron-l3-agent, neutron-dhcp-agent,\nneutron-openvswitch-agent and neutron-metadata-agent  as\npacemaker resources.\n\nChange-Id: I15e6decc3ad1813d3734c33e8b01e5356f4e3c70\n'}, {'number': 8, 'created': '2015-05-08 14:34:04.000000000', 'files': ['puppet/manifests/overcloud_controller.pp'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/33b87f41f2ca399c374e24edd3626cc06c82a15b', 'message': 'Adds neutron-server and agents as pacemaker resources\n\nAdds neutron-server, neutron-l3-agent, neutron-dhcp-agent,\nneutron-openvswitch-agent and neutron-metadata-agent  as\npacemaker resources.\n\nChange-Id: I15e6decc3ad1813d3734c33e8b01e5356f4e3c70\n'}]",26,178743,33b87f41f2ca399c374e24edd3626cc06c82a15b,51,5,8,8449,,,0,"Adds neutron-server and agents as pacemaker resources

Adds neutron-server, neutron-l3-agent, neutron-dhcp-agent,
neutron-openvswitch-agent and neutron-metadata-agent  as
pacemaker resources.

Change-Id: I15e6decc3ad1813d3734c33e8b01e5356f4e3c70
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/43/178743/4 && git format-patch -1 --stdout FETCH_HEAD,['puppet/manifests/overcloud_controller.pp'],1,998c5283184ff5a2950c62ef0571893a07c5b6e3,pacemaker-neutron-agents," if $enable_pacemaker { class { '::neutron::server' : manage_service => false, } class { '::neutron::agents::l3' : manage_service => false, } if $pacemaker_master { pacemaker::resource::systemd { 'neutron-server': clone => true, require => Class['::neutron::server'], } pacemaker::resource::systemd { 'neutron-l3-agent': clone => true, require => Class['::neutron::agents::l3'], } } } else { include ::neutron::server include ::neutron::agents::l3 } ", include ::neutron::server include ::neutron::agents::l3,23,2
openstack%2Ffuel-web~master~I3622492ba5eeec3de8300effd0fa98602916601f,openstack/fuel-web,master,I3622492ba5eeec3de8300effd0fa98602916601f,Deprecate deployment on nodes that are marked for deletion,MERGED,2015-05-13 11:32:13.000000000,2015-05-13 14:28:31.000000000,2015-05-13 14:18:37.000000000,"[{'_account_id': 3}, {'_account_id': 3009}, {'_account_id': 6926}, {'_account_id': 8749}, {'_account_id': 8776}, {'_account_id': 8971}, {'_account_id': 10391}, {'_account_id': 10959}, {'_account_id': 11577}, {'_account_id': 12200}, {'_account_id': 13445}]","[{'number': 1, 'created': '2015-05-13 11:32:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/5ab41f55f5df5e351d3546e17cafdbdbcd387eab', 'message': 'Deprecate deployment on nodes that are marked for deletion\n\nRunning deployment on nodes that are going to be removed from\ncluster can lead to undesired destructive effects.\nFor particular case see related bugs.\n\nIn order to prevent such possibility - deployment action wil be\ndeprecated in case some nodes are marked for deletion.\n\nUser then will be able to remove them from deployment group,\nor remove pending_deletion flag and deploy them - if pending_deletion\nwas set by mistake\n\nChange-Id: I3622492ba5eeec3de8300effd0fa98602916601f\nRelated-Bug: 1454617\nCloses-Bug: 1454622\n'}, {'number': 2, 'created': '2015-05-13 12:11:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/e7b620d6fc0ec387247f7859eb5e3a4d4c26f703', 'message': 'Deprecate deployment on nodes that are marked for deletion\n\nRunning deployment on nodes that are going to be removed from\ncluster can lead to undesired destructive effects.\nFor particular case see related bugs.\n\nIn order to prevent such possibility - deployment action wil be\ndeprecated in case some nodes are marked for deletion.\n\nUser then will be able to remove them from deployment group,\nor remove pending_deletion flag and deploy them - if pending_deletion\nwas set by mistake\n\nChange-Id: I3622492ba5eeec3de8300effd0fa98602916601f\nRelated-Bug: 1454617\nCloses-Bug: 1454622\n'}, {'number': 3, 'created': '2015-05-13 12:30:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/cd3a83902092d931045ff56b59b79f85b2f34f69', 'message': 'Deprecate deployment on nodes that are marked for deletion\n\nRunning deployment on nodes that are going to be removed from\ncluster can lead to undesired destructive effects.\nFor particular case see related bugs.\n\nIn order to prevent such possibility - deployment action wil be\ndeprecated in case some nodes are marked for deletion.\n\nUser then will be able to remove them from deployment group,\nor remove pending_deletion flag and deploy them - if pending_deletion\nwas set by mistake\n\nChange-Id: I3622492ba5eeec3de8300effd0fa98602916601f\nRelated-Bug: 1454617\nCloses-Bug: 1454622\n'}, {'number': 4, 'created': '2015-05-13 12:47:02.000000000', 'files': ['nailgun/nailgun/test/integration/test_orchestrator_handlers.py', 'nailgun/nailgun/api/v1/validators/node.py'], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/9ab71ac888c63e4e1a40397100d3c261656c1d8a', 'message': 'Deprecate deployment on nodes that are marked for deletion\n\nRunning deployment on nodes that are going to be removed from\ncluster can lead to undesired destructive effects.\nFor particular case see related bugs.\n\nIn order to prevent such possibility - deployment action wil be\ndeprecated in case some nodes are marked for deletion.\n\nUser then will be able to remove them from deployment group,\nor remove pending_deletion flag and deploy them - if pending_deletion\nwas set by mistake\n\nChange-Id: I3622492ba5eeec3de8300effd0fa98602916601f\nRelated-Bug: 1454617\nCloses-Bug: 1454622\n'}]",4,182623,9ab71ac888c63e4e1a40397100d3c261656c1d8a,34,11,4,8907,,,0,"Deprecate deployment on nodes that are marked for deletion

Running deployment on nodes that are going to be removed from
cluster can lead to undesired destructive effects.
For particular case see related bugs.

In order to prevent such possibility - deployment action wil be
deprecated in case some nodes are marked for deletion.

User then will be able to remove them from deployment group,
or remove pending_deletion flag and deploy them - if pending_deletion
was set by mistake

Change-Id: I3622492ba5eeec3de8300effd0fa98602916601f
Related-Bug: 1454617
Closes-Bug: 1454622
",git fetch https://review.opendev.org/openstack/fuel-web refs/changes/23/182623/3 && git format-patch -1 --stdout FETCH_HEAD,"['nailgun/nailgun/api/v1/validators/node.py', 'nailgun/nailgun/test/integration/test_orchestrator_handlers.py']",2,5ab41f55f5df5e351d3546e17cafdbdbcd387eab,," @patch('nailgun.task.task.rpc.cast') def test_deployment_forbidden_on_pending_deletion(self, mcast): marked_for_deletion = self.cluster.nodes[-1] marked_for_deletion.pending_deletion = True self.db.flush() nodes_uids = [n.uid for n in self.cluster.nodes] deploy_action_url = self.make_action_url( ""DeploySelectedNodes"", node_uids) resp = self.send_put(deploy_action_url) self.check_resp_declined(resp) ",,40,13
openstack%2Fmagnum~master~I15310f66ecdcd1fb0496e41e5311cebbba3ba706,openstack/magnum,master,I15310f66ecdcd1fb0496e41e5311cebbba3ba706,Remove dependency on python-kubernetes,MERGED,2015-05-12 14:19:30.000000000,2015-05-13 14:14:16.000000000,2015-05-13 14:14:15.000000000,"[{'_account_id': 3}, {'_account_id': 7049}, {'_account_id': 7494}, {'_account_id': 10206}, {'_account_id': 11536}, {'_account_id': 11650}]","[{'number': 1, 'created': '2015-05-12 14:19:30.000000000', 'files': ['requirements.txt', 'devstack/plugin.sh'], 'web_link': 'https://opendev.org/openstack/magnum/commit/9f37aa13b1fae0b238cd9fe4c245d7a4f7b5b24e', 'message': ""Remove dependency on python-kubernetes\n\npython-kubernetes used to be in:\nhttps://github.com/cosmos-io/python-kubernetes/\nnow it is in:\nhttps://github.com/pjs7678/python-kubernetes/\n\nHowever, we are not even using that in current code\nas far as i can tell and we are actively working on\npython-k8client:\nhttps://blueprints.launchpad.net/magnum/+spec/python-k8sclient\n\nSo let's get rid of this, as we cannot justify adding\nthis to the global requirements as it is not that actively\nmaintainer and as it does not support python3\n\nChange-Id: I15310f66ecdcd1fb0496e41e5311cebbba3ba706\n""}]",0,182311,9f37aa13b1fae0b238cd9fe4c245d7a4f7b5b24e,11,6,1,5638,,,0,"Remove dependency on python-kubernetes

python-kubernetes used to be in:
https://github.com/cosmos-io/python-kubernetes/
now it is in:
https://github.com/pjs7678/python-kubernetes/

However, we are not even using that in current code
as far as i can tell and we are actively working on
python-k8client:
https://blueprints.launchpad.net/magnum/+spec/python-k8sclient

So let's get rid of this, as we cannot justify adding
this to the global requirements as it is not that actively
maintainer and as it does not support python3

Change-Id: I15310f66ecdcd1fb0496e41e5311cebbba3ba706
",git fetch https://review.opendev.org/openstack/magnum refs/changes/11/182311/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'devstack/plugin.sh']",2,9f37aa13b1fae0b238cd9fe4c245d7a4f7b5b24e,bp/s,," if [[ -z `grep 'python-kubernetes' ${REQUIREMENTS_DIR}/global-requirements.txt` ]]; then echo ""python-kubernetes>=0.2"" >> ${REQUIREMENTS_DIR}/global-requirements.txt fi",0,4
openstack%2Fheat-translator~master~Ia4ddf65aafcbe440ea9551ccc2648de4a7c88c97,openstack/heat-translator,master,Ia4ddf65aafcbe440ea9551ccc2648de4a7c88c97,TOSCA: Create a test CLI program,MERGED,2015-04-17 04:16:25.000000000,2015-05-13 14:12:56.000000000,2015-05-13 01:58:24.000000000,"[{'_account_id': 3}, {'_account_id': 6456}, {'_account_id': 9498}, {'_account_id': 10856}]","[{'number': 1, 'created': '2015-04-17 04:16:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-translator/commit/c9ae35d9493e7886f54cbd7550116cfb504c4f21', 'message': 'TOSCA: Create a test CLI program\n\nThis program provide a good usage to test the Heat-Translator tool on the\ncommand line with expection of similar usage via Heat python client in near\nfuture.\n\nChange-Id: Ia4ddf65aafcbe440ea9551ccc2648de4a7c88c97\n'}, {'number': 2, 'created': '2015-05-06 17:11:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-translator/commit/20aad46ab9e9dfe409cc2ee1c896486203bf69f0', 'message': 'TOSCA: Create a test CLI program\n\nThis program provide a good usage to test the Heat-Translator tool on the\ncommand line with expection of similar usage via Heat python client in near\nfuture.\n\nChange-Id: Ia4ddf65aafcbe440ea9551ccc2648de4a7c88c97\n'}, {'number': 3, 'created': '2015-05-06 17:44:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-translator/commit/e4b51be31afb9160718f974b033c75a916310338', 'message': 'TOSCA: Create a test CLI program\n\nThis program provide a good usage to test the Heat-Translator tool on the\ncommand line with expection of similar usage via Heat python client in near\nfuture.\n\nChange-Id: Ia4ddf65aafcbe440ea9551ccc2648de4a7c88c97\n'}, {'number': 4, 'created': '2015-05-08 23:03:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-translator/commit/6a4837d1f2a983743cad23e7f0260194406f1683', 'message': 'TOSCA: Create a test CLI program\n\nThis program provide a good usage to test the Heat-Translator tool on the\ncommand line with expection of similar usage via Heat python client in near\nfuture.\n\nChange-Id: Ia4ddf65aafcbe440ea9551ccc2648de4a7c88c97\n'}, {'number': 5, 'created': '2015-05-11 21:14:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-translator/commit/38ce6efacf9fd22b2ac54f5bc1cad9a6d43603a3', 'message': 'TOSCA: Create a test CLI program\n\nThis program provide a good usage to test the Heat-Translator tool on the\ncommand line with expection of similar usage via Heat python client in near\nfuture. The TOSCA hello world use case is implemented for quick testing\nas well.\n\nimplements blueprint tosca-translator-cli-test-utility\n\nChange-Id: Ia4ddf65aafcbe440ea9551ccc2648de4a7c88c97\n'}, {'number': 6, 'created': '2015-05-12 01:22:38.000000000', 'files': ['translator/hot/tosca/tosca_compute.py', 'translator/toscalib/tests/data/hot_output/hot_tosca_helloworld.yaml', 'doc/source/usage.rst', 'translator/tests/test_tosca_hot_translation.py', 'heat_translator.py', 'translator/toscalib/tests/data/tosca_helloworld.yaml'], 'web_link': 'https://opendev.org/openstack/heat-translator/commit/3a10532067963e67def8619fbb0929affc176a55', 'message': 'TOSCA: Create a test CLI program\n\nThis program provide a good usage to test the Heat-Translator tool on the\ncommand line with expection of similar usage via Heat python client in near\nfuture. The TOSCA hello world use case is implemented for quick testing\nas well.\n\nimplements blueprint tosca-translator-cli-test-utility\n\nChange-Id: Ia4ddf65aafcbe440ea9551ccc2648de4a7c88c97\n'}]",4,174694,3a10532067963e67def8619fbb0929affc176a55,22,4,6,6456,,,0,"TOSCA: Create a test CLI program

This program provide a good usage to test the Heat-Translator tool on the
command line with expection of similar usage via Heat python client in near
future. The TOSCA hello world use case is implemented for quick testing
as well.

implements blueprint tosca-translator-cli-test-utility

Change-Id: Ia4ddf65aafcbe440ea9551ccc2648de4a7c88c97
",git fetch https://review.opendev.org/openstack/heat-translator refs/changes/94/174694/1 && git format-patch -1 --stdout FETCH_HEAD,['heat-translator.py'],1,c9ae35d9493e7886f54cbd7550116cfb504c4f21,bp/tosca-translator-cli-test-utility,"# vim: tabstop=4 shiftwidth=4 softtabstop=4 # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import os import sys from translator.hot.tosca_translator import TOSCATranslator from translator.toscalib.tosca_template import ToscaTemplate """""" Test the heat-translator from command line as: #heat-translator.py --template-file==<path to the YAML template> --template-type=<type of template e.g. tosca> --parameters=""purpose=test"" Takes two user arguments, 1. type of translation (e.g. tosca) (required) 2. Path to the file that needs to be translated (required) 3. Input parameters (optional) This should be only used for testing purpose. The proper use of Heat-Translator tool is via Heat client once it made available there. """""" def main(): path = sys.argv[1].split('--template_file=')[1] #e.g. --template_file=/home/openstack/heat-translator_main2 #/heat-translator/translator/toscalib/tests/data/tosca_helloworld.yaml template_type = sys.argv[2].split('--template_type=')[1] #e.g. --template_type=tosca parsed_params = {} if len(sys.argv) > 3: parsed_params = parse_parameters(sys.argv[3]) if os.path.isfile(path): heat_tpl = translate(template_type, path, parsed_params) if heat_tpl: write_output(heat_tpl) else: raise ValueError((""%(path)s is not a valid file."") % {'path': path}) def parse_parameters(parameter_list): parsed_inputs = {} if parameter_list.startswith('--parameters'): inputs = parameter_list.split('--parameters=')[1].\ replace('""', '').split(';') for param in inputs: keyvalue = param.split('=') parsed_inputs[keyvalue[0]] = keyvalue[1] else: raise ValueError(""%(param) is not a valid parameter"" % parameter_list) return parsed_inputs def translate(sourcetype, path, parsed_params): output = None if sourcetype == ""tosca"": tosca = ToscaTemplate(path) translator = TOSCATranslator(tosca, parsed_params) output = translator.translate() return output def write_output(output): print(output) if __name__ == '__main__': main() ",,83,0
openstack%2Ffuel-web~master~Icbfb26344c6b05ab518ef0a8537059bf33baffa5,openstack/fuel-web,master,Icbfb26344c6b05ab518ef0a8537059bf33baffa5,Set 'mtu=65000' for private network patchcord,MERGED,2015-05-13 08:42:10.000000000,2015-05-13 14:08:15.000000000,2015-05-13 14:08:06.000000000,"[{'_account_id': 3}, {'_account_id': 7468}, {'_account_id': 8786}, {'_account_id': 8789}, {'_account_id': 8971}]","[{'number': 1, 'created': '2015-05-13 08:42:10.000000000', 'files': ['nailgun/nailgun/orchestrator/deployment_serializers.py', 'nailgun/nailgun/test/base.py', 'nailgun/nailgun/test/integration/test_orchestrator_serializer.py'], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/4b3f0bc4ee1ead8304be0c239b1f567dbb005c29', 'message': ""Set 'mtu=65000' for private network patchcord\n\nWhile we create private bridge and connect it to corresponded linux\nbridge we should define maximum MTU for transit patchcord.\n\nP.S: the patch was reverted due to bugs in puppet manifests.\n\nDepends-On: Iaa9631b58f268ec414c58d1b7c47de3573772fc5\nDepends-On: I3491392ff401fe65220593f47a66840f42eb4e30\n\nCloses-Bug: #1453145\n\nChange-Id: Icbfb26344c6b05ab518ef0a8537059bf33baffa5\nSigned-off-by: Igor Kalnitsky <igor@kalnitsky.org>\n""}]",0,182571,4b3f0bc4ee1ead8304be0c239b1f567dbb005c29,14,5,1,10391,,,0,"Set 'mtu=65000' for private network patchcord

While we create private bridge and connect it to corresponded linux
bridge we should define maximum MTU for transit patchcord.

P.S: the patch was reverted due to bugs in puppet manifests.

Depends-On: Iaa9631b58f268ec414c58d1b7c47de3573772fc5
Depends-On: I3491392ff401fe65220593f47a66840f42eb4e30

Closes-Bug: #1453145

Change-Id: Icbfb26344c6b05ab518ef0a8537059bf33baffa5
Signed-off-by: Igor Kalnitsky <igor@kalnitsky.org>
",git fetch https://review.opendev.org/openstack/fuel-web refs/changes/71/182571/1 && git format-patch -1 --stdout FETCH_HEAD,"['nailgun/nailgun/orchestrator/deployment_serializers.py', 'nailgun/nailgun/test/base.py', 'nailgun/nailgun/test/integration/test_orchestrator_serializer.py']",3,4b3f0bc4ee1ead8304be0c239b1f567dbb005c29,bug/1453145," def check_vlan_schema(self, facts, transformations): transformations_ = transformations transformations_ = [ t for t in transformations if all([ t.get('name') not in ('br-ex', 'br-floating'), t.get('bridge') not in ('br-ex', 'br-floating'), 'br-ex' not in t.get('bridges', []), 'br-floating' not in t.get('bridges', []), ])] transformations_ def test_vlan_schema(self): cluster = self.create_env(segment_type='vlan') self.add_nics_properties(cluster) serializer = get_serializer_for_cluster(cluster) facts = serializer(AstuteGraph(cluster)).serialize( cluster, cluster.nodes) self.check_vlan_schema(facts, [ {'action': 'add-br', 'name': 'br-fw-admin'}, {'action': 'add-br', 'name': 'br-mgmt'}, {'action': 'add-br', 'name': 'br-storage'}, {'action': 'add-br', 'name': 'br-ex'}, {'action': 'add-br', 'name': 'br-floating', 'provider': 'ovs'}, {'action': 'add-patch', 'bridges': ['br-floating', 'br-ex'], 'provider': 'ovs'}, {'action': 'add-br', 'name': 'br-prv', 'provider': 'ovs'}, {'action': 'add-patch', 'mtu': 65000, 'bridges': ['br-prv', 'br-fw-admin'], 'provider': 'ovs'}, {'action': 'add-port', 'bridge': 'br-fw-admin', 'name': 'eth0'}, {'action': 'add-port', 'bridge': 'br-storage', 'name': 'eth0.102'}, {'action': 'add-port', 'bridge': 'br-mgmt', 'name': 'eth0.101'}, {'action': 'add-port', 'bridge': 'br-ex', 'name': 'eth1'}, ]) def test_vlan_schema_with_br_aux(self): cluster = self.create_env(segment_type='vlan') self.add_nics_properties(cluster) # move all networks to first interface and assign private network # to second one for node in cluster.nodes: interfaces = node.interfaces interfaces[0].assigned_networks_list.extend( interfaces[1].assigned_networks_list) private_net = next(( net for net in interfaces[0].assigned_networks_list if net.name == 'private')) interfaces[0].assigned_networks_list.remove(private_net) interfaces[1].assigned_networks_list = [private_net] self.db.flush() serializer = get_serializer_for_cluster(cluster) facts = serializer(AstuteGraph(cluster)).serialize( cluster, cluster.nodes) self.check_vlan_schema(facts, [ {'action': 'add-br', 'name': 'br-fw-admin'}, {'action': 'add-br', 'name': 'br-mgmt'}, {'action': 'add-br', 'name': 'br-storage'}, {'action': 'add-br', 'name': 'br-ex'}, {'action': 'add-br', 'name': 'br-floating', 'provider': 'ovs'}, {'action': 'add-patch', 'bridges': ['br-floating', 'br-ex'], 'provider': 'ovs'}, {'action': 'add-br', 'name': 'br-prv', 'provider': 'ovs'}, {'action': 'add-br', 'name': 'br-aux'}, {'action': 'add-patch', 'mtu': 65000, 'bridges': ['br-prv', 'br-aux'], 'provider': 'ovs'}, {'action': 'add-port', 'bridge': 'br-fw-admin', 'name': 'eth0'}, {'action': 'add-port', 'bridge': 'br-ex', 'name': 'eth0'}, {'action': 'add-port', 'bridge': 'br-storage', 'name': 'eth0.102'}, {'action': 'add-port', 'bridge': 'br-mgmt', 'name': 'eth0.101'}, {'action': 'add-port', 'bridge': 'br-aux', 'name': 'eth1'}, ]) 'mtu': 65000,"," def test_vlan_schema(self): cluster = self.create_env(segment_type='vlan') self.add_nics_properties(cluster) serializer = get_serializer_for_cluster(cluster) facts = serializer(AstuteGraph(cluster)).serialize( cluster, cluster.nodes) transformations = [ {'action': 'add-br', 'name': 'br-fw-admin'}, {'action': 'add-br', 'name': 'br-mgmt'}, {'action': 'add-br', 'name': 'br-storage'}, {'action': 'add-br', 'name': 'br-ex'}, {'action': 'add-br', 'name': 'br-floating', 'provider': 'ovs'}, {'action': 'add-patch', 'bridges': ['br-floating', 'br-ex'], 'provider': 'ovs'}, {'action': 'add-br', 'name': 'br-prv', 'provider': 'ovs'}, {'action': 'add-patch', 'bridges': ['br-prv', 'br-fw-admin'], 'provider': 'ovs'}, {'action': 'add-port', 'bridge': 'br-fw-admin', 'name': 'eth0'}, {'action': 'add-port', 'bridge': 'br-storage', 'name': 'eth0.102'}, {'action': 'add-port', 'bridge': 'br-mgmt', 'name': 'eth0.101'}, {'action': 'add-port', 'bridge': 'br-ex', 'name': 'eth1'} ] transformations = transformations[:3] + transformations[6:11] transformations",139,61
openstack%2Ffuel-qa~master~Id19d8097b351c60fb346672f1ee0aa74be9f580a,openstack/fuel-qa,master,Id19d8097b351c60fb346672f1ee0aa74be9f580a,Use management_vrouter_vip as ntp server for sync,MERGED,2015-04-27 20:26:37.000000000,2015-05-13 14:07:12.000000000,2015-05-13 14:07:12.000000000,"[{'_account_id': 3}, {'_account_id': 6719}, {'_account_id': 8882}, {'_account_id': 8971}, {'_account_id': 9439}, {'_account_id': 10136}, {'_account_id': 11081}, {'_account_id': 11827}, {'_account_id': 11969}, {'_account_id': 12867}]","[{'number': 1, 'created': '2015-04-27 20:26:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-qa/commit/efc5607cb578ed1ceabd88820f2fcfe8f9e0a0d9', 'message': 'Use management_vrouter_vip as ntp server for sync\n\n1)Start using management_vrouter_vip for ntp sync\nin the test external_ntp_ha_flat\n2)Add new method get_management_vrouter_vip\n\nChange-Id: Id19d8097b351c60fb346672f1ee0aa74be9f580a\nCloses-Bug: #1443647\n'}, {'number': 2, 'created': '2015-04-28 14:35:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-qa/commit/f581d36f274dede9ded006dcd114d827bf924f53', 'message': 'Use management_vrouter_vip as ntp server for sync\n\n1)Start using management_vrouter_vip for ntp sync\nin the test external_ntp_ha_flat\n2)Add new method get_management_vrouter_vip\n\nChange-Id: Id19d8097b351c60fb346672f1ee0aa74be9f580a\nCloses-Bug: #1443647\n'}, {'number': 3, 'created': '2015-05-13 08:01:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-qa/commit/d8bc90ac1a266f48545745d3518b8650d0745820', 'message': 'Use management_vrouter_vip as ntp server for sync\n\n1)Start using management_vrouter_vip for ntp sync\nin the test external_ntp_ha_flat\n2)Add new method get_management_vrouter_vip\n\nChange-Id: Id19d8097b351c60fb346672f1ee0aa74be9f580a\nCloses-Bug: #1443647\n'}, {'number': 4, 'created': '2015-05-13 08:03:39.000000000', 'files': ['fuelweb_test/models/fuel_web_client.py', 'fuelweb_test/tests/tests_strength/test_master_node_failover.py', 'fuelweb_test/helpers/checkers.py'], 'web_link': 'https://opendev.org/openstack/fuel-qa/commit/11ccc45d4f2e509efeb2bbffd6d6b6a3bcd12c19', 'message': 'Use management_vrouter_vip as ntp server for sync\n\n1)Start using management_vrouter_vip for ntp sync\nin the test external_ntp_ha_flat\n2)Add new method get_management_vrouter_vip\n\nChange-Id: Id19d8097b351c60fb346672f1ee0aa74be9f580a\nCloses-Bug: #1443647\n'}]",6,177955,11ccc45d4f2e509efeb2bbffd6d6b6a3bcd12c19,28,10,4,9439,,,0,"Use management_vrouter_vip as ntp server for sync

1)Start using management_vrouter_vip for ntp sync
in the test external_ntp_ha_flat
2)Add new method get_management_vrouter_vip

Change-Id: Id19d8097b351c60fb346672f1ee0aa74be9f580a
Closes-Bug: #1443647
",git fetch https://review.opendev.org/openstack/fuel-qa refs/changes/55/177955/1 && git format-patch -1 --stdout FETCH_HEAD,"['fuelweb_test/models/fuel_web_client.py', 'fuelweb_test/tests/tests_strength/test_master_node_failover.py', 'fuelweb_test/helpers/checkers.py']",3,efc5607cb578ed1ceabd88820f2fcfe8f9e0a0d9,NTP,"def external_ntp_check(remote_slave, vrouter_vip): status = ""ntpdate -s {0}"".format(vrouter_vip)","def external_ntp_check(remote_slave, vip): status = ""ntpdate -s {0}"".format(vip)",12,4
openstack%2Fopenstacksdk~master~Ibffb3cd61976e7db3c4199c627b30af2fa15f652,openstack/openstacksdk,master,Ibffb3cd61976e7db3c4199c627b30af2fa15f652,Basic object store container functional tests,MERGED,2015-05-04 13:46:07.000000000,2015-05-13 14:02:19.000000000,2015-05-13 14:02:19.000000000,"[{'_account_id': 3}, {'_account_id': 1112}, {'_account_id': 8257}, {'_account_id': 8736}]","[{'number': 1, 'created': '2015-05-04 13:46:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/038e4833662add6820a7aed4a132a437872a9535', 'message': 'Basic object store container functional tests\n\nBasic object store container functional tests along with some\nchanges so that setUp and tearDown can create and destroy the\ntest object.  The group_regex gets each class to run on one\nprocess.\n\nChange-Id: Ibffb3cd61976e7db3c4199c627b30af2fa15f652\n'}, {'number': 2, 'created': '2015-05-11 14:50:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/38d5ad2757d329e0971ea5151a8c3b806ddc0dd0', 'message': 'Basic object store container functional tests\n\nBasic object store container functional tests along with some\nchanges so that setUp and tearDown can create and destroy the\ntest object.  The group_regex gets each class to run on one\nprocess.\n\nChange-Id: Ibffb3cd61976e7db3c4199c627b30af2fa15f652\n'}, {'number': 3, 'created': '2015-05-11 20:16:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/5f3f5732c4630c4c397130740e06aaac60d6e607', 'message': 'Basic object store container functional tests\n\nBasic object store container functional tests along with some\nchanges so that setUp and tearDown can create and destroy the\ntest object.  The group_regex gets each class to run on one\nprocess.\n\nChange-Id: Ibffb3cd61976e7db3c4199c627b30af2fa15f652\n'}, {'number': 4, 'created': '2015-05-12 13:54:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/ec525be21d88b3cae0a7cd5b47f5b5f24b51784d', 'message': 'Basic object store container functional tests\n\nBasic object store container functional tests along with some\nchanges so that setUp and tearDown can create and destroy the\ntest object.  The group_regex gets each class to run on one\nprocess.\n\nChange-Id: Ibffb3cd61976e7db3c4199c627b30af2fa15f652\n'}, {'number': 5, 'created': '2015-05-13 13:52:04.000000000', 'files': ['openstack/tests/functional/base.py', 'openstack/tests/functional/object/v1/__init__.py', '.testr.conf', 'openstack/tests/functional/object/v1/test_container.py', 'openstack/tests/functional/object/__init__.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/fbfbd68cefb57da8e71cc8c385e3dda3e15d63c5', 'message': 'Basic object store container functional tests\n\nBasic object store container functional tests along with some\nchanges so that setUp and tearDown can create and destroy the\ntest object.  The group_regex gets each class to run on one\nprocess.\n\nChange-Id: Ibffb3cd61976e7db3c4199c627b30af2fa15f652\n'}]",4,179779,fbfbd68cefb57da8e71cc8c385e3dda3e15d63c5,25,4,5,8736,,,0,"Basic object store container functional tests

Basic object store container functional tests along with some
changes so that setUp and tearDown can create and destroy the
test object.  The group_regex gets each class to run on one
process.

Change-Id: Ibffb3cd61976e7db3c4199c627b30af2fa15f652
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/79/179779/3 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/tests/functional/base.py', 'openstack/tests/functional/object/v1/__init__.py', '.testr.conf', 'examples/common.py', 'openstack/tests/functional/object/v1/test_container.py', 'openstack/tests/functional/object/__init__.py', 'examples/connection.py']",7,038e4833662add6820a7aed4a132a437872a9535,fute,"import os_client_config occ = os_client_config.OpenStackConfig() cloud = occ.get_one_cloud(opts.cloud, opts) auth = cloud.config['auth'] conn = connection.Connection(preference=opts.user_preferences, **auth)"," args = { 'auth_plugin': opts.auth_plugin, 'auth_url': opts.auth_url, 'project_name': opts.project_name, 'domain_name': opts.domain_name, 'project_domain_name': opts.project_domain_name, 'user_domain_name': opts.user_domain_name, 'username': opts.username, 'password': opts.password, 'trust_id': opts.trust_id, 'verify': opts.verify, 'token': opts.token, } conn = connection.Connection(preference=opts.user_preferences, **args)",63,19
openstack%2Fopenstacksdk~master~I88fee89a1679cc17c06b1db28de5c3817b38308c,openstack/openstacksdk,master,I88fee89a1679cc17c06b1db28de5c3817b38308c,Create base class for functional tests,MERGED,2015-05-02 14:27:56.000000000,2015-05-13 13:59:43.000000000,2015-05-13 13:59:43.000000000,"[{'_account_id': 3}, {'_account_id': 1112}, {'_account_id': 8257}, {'_account_id': 8736}]","[{'number': 1, 'created': '2015-05-02 14:27:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/0b919b914f041c174d7b2787524b6e80e33db93e', 'message': 'Create base class for functional tests\n\nChange-Id: I88fee89a1679cc17c06b1db28de5c3817b38308c\n'}, {'number': 2, 'created': '2015-05-11 14:50:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/9fdc2aa38fcd5e199c48025a512d715fd0579fc4', 'message': 'Create base class for functional tests\n\nChange-Id: I88fee89a1679cc17c06b1db28de5c3817b38308c\n'}, {'number': 3, 'created': '2015-05-13 13:51:35.000000000', 'files': ['openstack/tests/functional/base.py', 'openstack/tests/functional/compute/v2/test_flavor.py', 'openstack/tests/functional/orchestration/v1/test_stack.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/d4360b90a5c74c3d00070b9cff7b2c8166ddb66e', 'message': 'Create base class for functional tests\n\nChange-Id: I88fee89a1679cc17c06b1db28de5c3817b38308c\n'}]",4,179583,d4360b90a5c74c3d00070b9cff7b2c8166ddb66e,24,4,3,8736,,,0,"Create base class for functional tests

Change-Id: I88fee89a1679cc17c06b1db28de5c3817b38308c
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/83/179583/2 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/tests/functional/base.py', 'openstack/tests/functional/compute/v2/test_flavor.py', 'openstack/tests/functional/orchestration/v1/test_stack.py']",3,0b919b914f041c174d7b2787524b6e80e33db93e,fute,from openstack.tests.functional import base class TestStack(base.BaseFunctionalTest):,"import unittest import os_client_config from openstack import connection from openstack import user_preference class TestStack(unittest.TestCase): def setUp(self): test_cloud = os_client_config.OpenStackConfig().get_one_cloud( 'test_cloud') pref = user_preference.UserPreference() pref.set_region(pref.ALL, test_cloud.region) self.conn = connection.Connection( preference=pref, auth_url=test_cloud.config['auth']['auth_url'], project_name=test_cloud.config['auth']['project_name'], username=test_cloud.config['auth']['username'], password=test_cloud.config['auth']['password']) if self.conn.compute.find_keypair('heat_key') is None: self.conn.compute.create_keypair(name='heat_key')",35,42
openstack%2Ffuel-web~master~I749604b0fb725cf0bef666cc31bb967714dc780e,openstack/fuel-web,master,I749604b0fb725cf0bef666cc31bb967714dc780e,Rename fuel-release to fuel in fuel_upgrade,MERGED,2015-05-07 11:11:03.000000000,2015-05-13 13:56:57.000000000,2015-05-13 13:03:13.000000000,"[{'_account_id': 3}, {'_account_id': 8749}, {'_account_id': 8786}, {'_account_id': 8789}, {'_account_id': 8882}, {'_account_id': 8971}, {'_account_id': 10391}, {'_account_id': 11082}, {'_account_id': 12200}]","[{'number': 1, 'created': '2015-05-07 11:11:03.000000000', 'files': ['fuel_upgrade_system/fuel_upgrade/fuel_upgrade/tests/test_host_system_upgrader.py', 'fuel_upgrade_system/fuel_upgrade/fuel_upgrade/config.py'], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/d6e71f72790abbd8e56a94344ab5e2df4b309d64', 'message': 'Rename fuel-release to fuel in fuel_upgrade\n\nblueprint package-fuel-components\nDepends-On: Iacdb9886fd8fa9db130e9ea135f6ecf1e59c7a46\n\nChange-Id: I749604b0fb725cf0bef666cc31bb967714dc780e\n'}]",0,180946,d6e71f72790abbd8e56a94344ab5e2df4b309d64,17,9,1,7195,,,0,"Rename fuel-release to fuel in fuel_upgrade

blueprint package-fuel-components
Depends-On: Iacdb9886fd8fa9db130e9ea135f6ecf1e59c7a46

Change-Id: I749604b0fb725cf0bef666cc31bb967714dc780e
",git fetch https://review.opendev.org/openstack/fuel-web refs/changes/46/180946/1 && git format-patch -1 --stdout FETCH_HEAD,"['fuel_upgrade_system/fuel_upgrade/fuel_upgrade/tests/test_host_system_upgrader.py', 'fuel_upgrade_system/fuel_upgrade/fuel_upgrade/config.py']",2,d6e71f72790abbd8e56a94344ab5e2df4b309d64,bp/package-fuel-components," 'fuel-{0}'.format(normversion(new_version)),"," 'fuel-release-{0}'.format(normversion(new_version)),",2,2
openstack%2Ffuel-library~master~I18f3c1cb31dedf9e759edf0094ebce1fdb42492d,openstack/fuel-library,master,I18f3c1cb31dedf9e759edf0094ebce1fdb42492d,Use persistent names for journal devices,MERGED,2015-04-24 16:33:41.000000000,2015-05-13 13:53:11.000000000,2015-04-27 11:58:51.000000000,"[{'_account_id': 3}, {'_account_id': 8786}, {'_account_id': 8797}, {'_account_id': 8829}, {'_account_id': 8971}, {'_account_id': 9760}, {'_account_id': 13343}, {'_account_id': 14774}, {'_account_id': 15373}]","[{'number': 1, 'created': '2015-04-24 16:33:41.000000000', 'files': ['deployment/puppet/ceph/lib/facter/ceph_osd.rb'], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/3c9910f76623233a832383758e2beab63b13618f', 'message': ""Use persistent names for journal devices\n\nOn systems with multiple disk controllers drive names\nwill not be consistent. On reboot an OSD's journal may\nhave changed names which will prevent the OSD from starting.\nInstead we will attempt to use the persistent by-id link\nand fall back to the device name (e.g. /dev/sda) if it's\nnot present.\n\nChange-Id: I18f3c1cb31dedf9e759edf0094ebce1fdb42492d\nCloses-bug: #1441434\n""}]",4,177352,3c9910f76623233a832383758e2beab63b13618f,26,9,1,8829,,,0,"Use persistent names for journal devices

On systems with multiple disk controllers drive names
will not be consistent. On reboot an OSD's journal may
have changed names which will prevent the OSD from starting.
Instead we will attempt to use the persistent by-id link
and fall back to the device name (e.g. /dev/sda) if it's
not present.

Change-Id: I18f3c1cb31dedf9e759edf0094ebce1fdb42492d
Closes-bug: #1441434
",git fetch https://review.opendev.org/openstack/fuel-library refs/changes/52/177352/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/puppet/ceph/lib/facter/ceph_osd.rb'],1,3c9910f76623233a832383758e2beab63b13618f,bug/1441434," devlink = %x{udevadm info -q property -n #{journal} | awk 'FS=""="" {if ($1 == ""DEVLINKS"") print $2}'} devlink = devlink.split(' ') journal = devlink.find { |s| s.include? 'by-id' } or journalend ",end,4,1
openstack%2Fcinder~master~I2c9b5c605f9f938e5582a823da1ff2054c8d328a,openstack/cinder,master,I2c9b5c605f9f938e5582a823da1ff2054c8d328a,VNX Cinder driver Over Subscription Support,MERGED,2015-04-24 15:02:52.000000000,2015-05-13 13:53:01.000000000,2015-05-13 11:40:56.000000000,"[{'_account_id': 3}, {'_account_id': 2243}, {'_account_id': 6491}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 10439}, {'_account_id': 10621}, {'_account_id': 10622}, {'_account_id': 11611}, {'_account_id': 11811}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12202}, {'_account_id': 12249}, {'_account_id': 12369}, {'_account_id': 12493}, {'_account_id': 12778}, {'_account_id': 12780}, {'_account_id': 13144}, {'_account_id': 13394}, {'_account_id': 13628}, {'_account_id': 14242}, {'_account_id': 14259}, {'_account_id': 14797}, {'_account_id': 14969}, {'_account_id': 15249}, {'_account_id': 15374}, {'_account_id': 15386}]","[{'number': 1, 'created': '2015-04-24 15:02:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/69f21367b319d4a17bd88e727935cca0b6019d2e', 'message': 'VNX Cinder driver Over Subscription Support\n\nAdd over subscription support in EMC VNX Cinder driver\n\nChange-Id: I2c9b5c605f9f938e5582a823da1ff2054c8d328a\nImplements: blueprint <vnx-over-subscription-thin-provisioning>\n'}, {'number': 2, 'created': '2015-04-24 15:04:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/fc61b191b5c6625bcd0b1015db9bc40f9ec6aee7', 'message': 'VNX Cinder driver Over Subscription Support\n\nAdd over subscription support in EMC VNX Cinder driver\n\nChange-Id: I2c9b5c605f9f938e5582a823da1ff2054c8d328a\nImplements: blueprint vnx-over-subscription-thin-provisioning\n'}, {'number': 3, 'created': '2015-04-24 15:11:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ea10491b23c06f78848ee80449ecfdb0b7f0edc2', 'message': 'VNX Cinder driver Over Subscription Support\n\nAdd over subscription support in EMC VNX Cinder driver\n\nChange-Id: I2c9b5c605f9f938e5582a823da1ff2054c8d328a\nImplements: blueprint vnx-over-subscription-thin-provisioning\n'}, {'number': 4, 'created': '2015-04-27 06:04:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/08d56e1cc98ee8278053bbb58e74c37c2ecb0315', 'message': 'VNX Cinder driver Over Subscription Support\n\nAdd over subscription support in EMC VNX Cinder driver\n\nChange-Id: I2c9b5c605f9f938e5582a823da1ff2054c8d328a\nImplements: blueprint vnx-over-subscription-thin-provisioning\n'}, {'number': 5, 'created': '2015-04-27 06:10:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/fa539f3de5cfb85babdabb19f174dc9abe5d814c', 'message': 'VNX Cinder driver Over Subscription Support\n\nAdd over subscription support in EMC VNX Cinder driver\n\nChange-Id: I2c9b5c605f9f938e5582a823da1ff2054c8d328a\nImplements: blueprint vnx-over-subscription-thin-provisioning\n'}, {'number': 6, 'created': '2015-04-28 08:40:07.000000000', 'files': ['cinder/tests/unit/test_emc_vnxdirect.py', 'cinder/volume/drivers/emc/emc_cli_iscsi.py', 'cinder/volume/drivers/emc/emc_cli_fc.py', 'cinder/volume/drivers/emc/emc_vnx_cli.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/714c4681e28b234fd0369a58777b1959558b2068', 'message': 'VNX Cinder driver Over Subscription Support\n\nAdd over subscription support in EMC VNX Cinder driver\n\nChange-Id: I2c9b5c605f9f938e5582a823da1ff2054c8d328a\nImplements: blueprint vnx-over-subscription-thin-provisioning\n'}]",8,177301,714c4681e28b234fd0369a58777b1959558b2068,76,28,6,10439,,,0,"VNX Cinder driver Over Subscription Support

Add over subscription support in EMC VNX Cinder driver

Change-Id: I2c9b5c605f9f938e5582a823da1ff2054c8d328a
Implements: blueprint vnx-over-subscription-thin-provisioning
",git fetch https://review.opendev.org/openstack/cinder refs/changes/01/177301/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/test_emc_vnxdirect.py', 'cinder/volume/drivers/emc/emc_cli_iscsi.py', 'cinder/volume/drivers/emc/emc_cli_fc.py', 'cinder/volume/drivers/emc/emc_vnx_cli.py']",4,69f21367b319d4a17bd88e727935cca0b6019d2e,bp/vnx-over-subscription-thin-provisioning," POOL_SUBSCRIBED_CAPACITY = PropertyDescriptor( '-subscribedCap', 'Total Subscribed Capacity *\(GBs\) *:\s*(.*)\s*', 'provisioned_capacity_gb', float) self.provisioning_specs = [ 'provisioning:type', 'storagetype:provisioning' ] VERSION = '06.00.00' 'thin_provisioning_support': False, 'thick_provisioning_support': True} self.max_over_subscription_ratio = ( self.configuration.max_over_subscription_ratio) if self._client.provisioning_specs[0] in extra_specs: provisioning = ( extra_specs[self._client.provisioning_specs[0]].lower()) if self._client.provisioning_specs[1] in extra_specs: LOG.warning(_LW(""Both 'storagetype:prvosioning' and "" ""'provisioning:type' are set in the "" ""extra specs, the value of "" ""'provisioning:type' will be used. The "" ""key 'storagetype:provisioning' may be "" ""obsoleted in the next release."")) elif self._client.provisioning_specs[1] in extra_specs: provisioning = ( extra_specs[self._client.provisioning_specs[1]].lower()) LOG.warning(_LW(""Extra spec key 'storagetype:provisioning' may "" ""be obsoleted in the next release. It is "" ""recommended to use extra spec key "" ""'provisioning:type' instead."")) pool_stats['provisioned_capacity_gb'] = ( pool['provisioned_capacity_gb']) pool_stats['thin_provisioning_support'] = ( self.stats['thin_provisioning_support']) pool_stats['thick_provisioning_support'] = True pool_stats['max_over_subscription_ratio'] = ( self.max_over_subscription_ratio) self.stats['thin_provisioning_support'] = ( True if '-ThinProvisioning' in self.enablers else False) self._client.POOL_STATE, self._client.POOL_SUBSCRIBED_CAPACITY] self._client.POOL_STATE, self._client.POOL_SUBSCRIBED_CAPACITY] self._client.POOL_STATE, self._client.POOL_SUBSCRIBED_CAPACITY] self._client.POOL_STATE, self._client.POOL_SUBSCRIBED_CAPACITY]", self.provisioning_spec = 'storagetype:provisioning' VERSION = '05.03.06' 'thinprovisioning_support': 'False'} if self._client.provisioning_spec in extra_specs: provisioning = extra_specs[self._client.provisioning_spec].lower() pool_stats['thinprovisioning_support'] = ( self.stats['thinprovisioning_support']) self.stats['thinprovisioning_support'] = ( 'True' if '-ThinProvisioning' in self.enablers else 'False') self._client.POOL_STATE] self._client.POOL_STATE] self._client.POOL_STATE] self._client.POOL_STATE],4073,13
openstack%2Ftempest~master~I78d14b64282ae9a8d2d5edc3de65c249681bc13a,openstack/tempest,master,I78d14b64282ae9a8d2d5edc3de65c249681bc13a,Fix tenant isolation and unit tests with py3,MERGED,2015-04-23 18:23:15.000000000,2015-05-13 13:48:48.000000000,2015-05-12 17:59:10.000000000,"[{'_account_id': 3}, {'_account_id': 1192}, {'_account_id': 1921}, {'_account_id': 5196}, {'_account_id': 7020}, {'_account_id': 8871}, {'_account_id': 10385}]","[{'number': 1, 'created': '2015-04-23 18:23:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/0129fc232f76d539e96400b6881b4f627e40a5ee', 'message': ""Fix tenant isolation and unit tests with py3\n\nThis commit fixes several issues in the tenant isolation code and it's\nunit tests which were preventing them from passing on python3.\n\nChange-Id: I78d14b64282ae9a8d2d5edc3de65c249681bc13a\n""}, {'number': 2, 'created': '2015-04-24 14:57:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/61df20e65486360703d549ecb2ad678122b053ad', 'message': ""Fix tenant isolation and unit tests with py3\n\nThis commit fixes several issues in the tenant isolation code and it's\nunit tests which were preventing them from passing on python3.\n\nChange-Id: I78d14b64282ae9a8d2d5edc3de65c249681bc13a\n""}, {'number': 3, 'created': '2015-04-27 14:39:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/8b78b9e3cb8458a5eeb7b1043001ee73b4a78f83', 'message': ""Fix tenant isolation and unit tests with py3\n\nThis commit fixes several issues in the tenant isolation code and it's\nunit tests which were preventing them from passing on python3.\n\nChange-Id: I78d14b64282ae9a8d2d5edc3de65c249681bc13a\n""}, {'number': 4, 'created': '2015-05-01 21:34:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/a89432f61139dd928e759d3b74f397943e276c0c', 'message': ""Fix tenant isolation and unit tests with py3\n\nThis commit fixes several issues in the tenant isolation code and it's\nunit tests which were preventing them from passing on python3.\n\nChange-Id: I78d14b64282ae9a8d2d5edc3de65c249681bc13a\n""}, {'number': 5, 'created': '2015-05-10 17:08:13.000000000', 'files': ['tempest/common/isolated_creds.py', 'tempest/tests/test_tenant_isolation.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/dc060d04613e9b7e243b02d3418e8ba8559c0b14', 'message': ""Fix tenant isolation and unit tests with py3\n\nThis commit fixes several issues in the tenant isolation code and it's\nunit tests which were preventing them from passing on python3.\n\nChange-Id: I78d14b64282ae9a8d2d5edc3de65c249681bc13a\n""}]",3,176934,dc060d04613e9b7e243b02d3418e8ba8559c0b14,30,7,5,5196,,,0,"Fix tenant isolation and unit tests with py3

This commit fixes several issues in the tenant isolation code and it's
unit tests which were preventing them from passing on python3.

Change-Id: I78d14b64282ae9a8d2d5edc3de65c249681bc13a
",git fetch https://review.opendev.org/openstack/tempest refs/changes/34/176934/4 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/common/isolated_creds.py', 'tempest/tests/test_tenant_isolation.py']",2,0129fc232f76d539e96400b6881b4f627e40a5ee,python3-support, args = list(args) args = list(args) args = list(args) args = list(args) args = list(args) args = list(args) args = list(args) args = list(args),,9,1
openstack%2Fpuppet-glance~master~Ic51377f916b4f36afbcb73cac5381fbee2ed073d,openstack/puppet-glance,master,Ic51377f916b4f36afbcb73cac5381fbee2ed073d,Bring Redhat support to acceptance tests,ABANDONED,2015-05-12 04:12:24.000000000,2015-05-13 13:47:20.000000000,,"[{'_account_id': 3}, {'_account_id': 5241}, {'_account_id': 9410}]","[{'number': 1, 'created': '2015-05-12 04:12:24.000000000', 'files': ['spec/acceptance/nodesets/nodepool.yml', 'spec/acceptance/nodesets/default.yml', 'spec/acceptance/nodesets/nodepool-trusty.yml', 'Gemfile', 'spec/acceptance/class_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/dd9ca531858eab88aeb3f26a3e1b2577a8a13e81', 'message': 'Bring Redhat support to acceptance tests\n\nOpenStack Infra has jobs to run this on both Ubuntu Trusty and CentOS7.\n\n* Add minitest to Gemfile (dependency to run beaker on centos - see\n  http://projects.theforeman.org/issues/2650 for details)\n* separate nodepool files to have trusty & centos7 support in OS infra\n* basic_keystone_spec: add case for repo configuration and support\n  RH systems.\n\nChange-Id: Ic51377f916b4f36afbcb73cac5381fbee2ed073d\nCloses-bug: #1444736\n'}]",2,182149,dd9ca531858eab88aeb3f26a3e1b2577a8a13e81,11,3,1,3153,,,0,"Bring Redhat support to acceptance tests

OpenStack Infra has jobs to run this on both Ubuntu Trusty and CentOS7.

* Add minitest to Gemfile (dependency to run beaker on centos - see
  http://projects.theforeman.org/issues/2650 for details)
* separate nodepool files to have trusty & centos7 support in OS infra
* basic_keystone_spec: add case for repo configuration and support
  RH systems.

Change-Id: Ic51377f916b4f36afbcb73cac5381fbee2ed073d
Closes-bug: #1444736
",git fetch https://review.opendev.org/openstack/puppet-glance refs/changes/49/182149/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/acceptance/nodesets/nodepool.yml', 'spec/acceptance/nodesets/default.yml', 'spec/acceptance/nodesets/nodepool-trusty.yml', 'Gemfile', 'spec/acceptance/class_spec.rb']",5,dd9ca531858eab88aeb3f26a3e1b2577a8a13e81,bug/1444736," case $::osfamily { 'Debian': { include ::apt class { '::openstack_extras::repo::debian::ubuntu': release => 'kilo', package_require => true, } } 'RedHat': { class { '::openstack_extras::repo::redhat::redhat': # Kilo is not GA yet, so let's use the testing repo manage_rdo => false, repo_hash => { 'rdo-kilo-testing' => { 'baseurl' => 'https://repos.fedorapeople.org/repos/openstack/openstack-kilo/testing/el7/', # packages are not GA so not signed 'gpgcheck' => '0', 'priority' => 97, }, }, } } default: { fail(""Unsupported osfamily (${::osfamily})"") }"," class { '::openstack_extras::repo::debian::ubuntu': release => 'kilo', package_require => true,",31,19
openstack%2Fpuppet-cinder~master~I3508c5908d4bf056485ce069d90a406ef1888474,openstack/puppet-cinder,master,I3508c5908d4bf056485ce069d90a406ef1888474,Bring Redhat support to acceptance tests,ABANDONED,2015-05-13 13:30:31.000000000,2015-05-13 13:46:41.000000000,,[{'_account_id': 3}],"[{'number': 1, 'created': '2015-05-13 13:30:31.000000000', 'files': ['spec/acceptance/nodesets/nodepool-trusty.yml', 'Gemfile', 'spec/acceptance/basic_cinder_spec.rb', 'spec/spec_helper_acceptance.rb', 'spec/acceptance/nodesets/nodepool-centos7.yml'], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/66a8b9385f91f0ac3cfcaaea82c2d30c82ed4987', 'message': 'Bring Redhat support to acceptance tests\n\nOpenStack Infra has jobs to run this on both Ubuntu Trusty and CentOS7.\n\n* Add minitest to Gemfile (dependency to run beaker on centos - see\n  http://projects.theforeman.org/issues/2650 for details)\n* separate nodepool files to have trusty & centos7 support in OS infra\n* basic_keystone_spec: add case for repo configuration and support\n  RH systems.\n* rabbitmq: install module from source and on RH, install erlang before rabbitmq-server.\n\nChange-Id: I3508c5908d4bf056485ce069d90a406ef1888474\nCloses-bug: #1444736\n'}]",0,182666,66a8b9385f91f0ac3cfcaaea82c2d30c82ed4987,4,1,1,3153,,,0,"Bring Redhat support to acceptance tests

OpenStack Infra has jobs to run this on both Ubuntu Trusty and CentOS7.

* Add minitest to Gemfile (dependency to run beaker on centos - see
  http://projects.theforeman.org/issues/2650 for details)
* separate nodepool files to have trusty & centos7 support in OS infra
* basic_keystone_spec: add case for repo configuration and support
  RH systems.
* rabbitmq: install module from source and on RH, install erlang before rabbitmq-server.

Change-Id: I3508c5908d4bf056485ce069d90a406ef1888474
Closes-bug: #1444736
",git fetch https://review.opendev.org/openstack/puppet-cinder refs/changes/66/182666/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/acceptance/nodesets/nodepool-trusty.yml', 'Gemfile', 'spec/acceptance/basic_cinder_spec.rb', 'spec/spec_helper_acceptance.rb', 'spec/acceptance/nodesets/nodepool-centos7.yml']",5,66a8b9385f91f0ac3cfcaaea82c2d30c82ed4987,bug/1444736,HOSTS: centos-70-x64: roles: - master platform: el-7-x86_64 hypervisor : none ip: 127.0.0.1 CONFIG: type: foss ,,40,5
openstack%2Fpuppet-designate~master~I9c5a505b6e004e21a0df8cc92b8cf32c2d2a48ca,openstack/puppet-designate,master,I9c5a505b6e004e21a0df8cc92b8cf32c2d2a48ca,Bring Redhat support to acceptance tests,ABANDONED,2015-05-11 20:01:13.000000000,2015-05-13 13:46:10.000000000,,"[{'_account_id': 3}, {'_account_id': 5241}]","[{'number': 1, 'created': '2015-05-11 20:01:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-designate/commit/902c5098c7df5d676dd409f165dd4bc4f563bc16', 'message': 'Bring Redhat support to acceptance tests\n\nOpenStack Infra has jobs to run this on both Ubuntu Trusty and CentOS7.\n\n* Add minitest to Gemfile (dependency to run beaker on centos - see\n  http://projects.theforeman.org/issues/2650 for details)\n* separate nodepool files to have trusty & centos7 support in OS infra\n* basic_keystone_spec: add case for repo configuration and support\n  RH systems.\n\nChange-Id: I9c5a505b6e004e21a0df8cc92b8cf32c2d2a48ca\nCloses-bug: #1444736\n'}, {'number': 2, 'created': '2015-05-12 02:02:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-designate/commit/aea26e58e94ed6dbfd9da4df89d7bba0ab832632', 'message': 'Bring Redhat support to acceptance tests\n\nOpenStack Infra has jobs to run this on both Ubuntu Trusty and CentOS7.\n\n* Add minitest to Gemfile (dependency to run beaker on centos - see\n  http://projects.theforeman.org/issues/2650 for details)\n* separate nodepool files to have trusty & centos7 support in OS infra\n* basic_keystone_spec: add case for repo configuration and support\n  RH systems.\n\nChange-Id: I9c5a505b6e004e21a0df8cc92b8cf32c2d2a48ca\nCloses-bug: #1444736\n'}, {'number': 3, 'created': '2015-05-12 04:02:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-designate/commit/d0483ada21726fdb4a4c12a5a9cfee225d4cb2ac', 'message': 'Bring Redhat support to acceptance tests\n\nOpenStack Infra has jobs to run this on both Ubuntu Trusty and CentOS7.\n\n* Add minitest to Gemfile (dependency to run beaker on centos - see\n  http://projects.theforeman.org/issues/2650 for details)\n* separate nodepool files to have trusty & centos7 support in OS infra\n* basic_keystone_spec: add case for repo configuration and support\n  RH systems.\n\nChange-Id: I9c5a505b6e004e21a0df8cc92b8cf32c2d2a48ca\nCloses-bug: #1444736\n'}, {'number': 4, 'created': '2015-05-12 04:09:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-designate/commit/0d163862b50b71cf5e823e0ce1ef00fc7fe8cdac', 'message': 'Bring Redhat support to acceptance tests\n\nOpenStack Infra has jobs to run this on both Ubuntu Trusty and CentOS7.\n\n* Add minitest to Gemfile (dependency to run beaker on centos - see\n  http://projects.theforeman.org/issues/2650 for details)\n* separate nodepool files to have trusty & centos7 support in OS infra\n* basic_keystone_spec: add case for repo configuration and support\n  RH systems.\n\nChange-Id: I9c5a505b6e004e21a0df8cc92b8cf32c2d2a48ca\nCloses-bug: #1444736\n'}, {'number': 5, 'created': '2015-05-13 11:01:49.000000000', 'files': ['spec/acceptance/basic_designate_spec.rb', 'spec/acceptance/nodesets/nodepool-trusty.yml', 'Gemfile', 'spec/acceptance/nodesets/nodepool-centos7.yml'], 'web_link': 'https://opendev.org/openstack/puppet-designate/commit/04d1cfee25cc741ffb5a6f56b6df70bcd36aa364', 'message': 'Bring Redhat support to acceptance tests\n\nOpenStack Infra has jobs to run this on both Ubuntu Trusty and CentOS7.\n\n* Add minitest to Gemfile (dependency to run beaker on centos - see\n  http://projects.theforeman.org/issues/2650 for details)\n* separate nodepool files to have trusty & centos7 support in OS infra\n* basic_keystone_spec: add case for repo configuration and support\n  RH systems.\n\nChange-Id: I9c5a505b6e004e21a0df8cc92b8cf32c2d2a48ca\nCloses-bug: #1444736\n'}]",0,182053,04d1cfee25cc741ffb5a6f56b6df70bcd36aa364,11,2,5,3153,,,0,"Bring Redhat support to acceptance tests

OpenStack Infra has jobs to run this on both Ubuntu Trusty and CentOS7.

* Add minitest to Gemfile (dependency to run beaker on centos - see
  http://projects.theforeman.org/issues/2650 for details)
* separate nodepool files to have trusty & centos7 support in OS infra
* basic_keystone_spec: add case for repo configuration and support
  RH systems.

Change-Id: I9c5a505b6e004e21a0df8cc92b8cf32c2d2a48ca
Closes-bug: #1444736
",git fetch https://review.opendev.org/openstack/puppet-designate refs/changes/53/182053/3 && git format-patch -1 --stdout FETCH_HEAD,"['spec/acceptance/basic_designate_spec.rb', 'spec/acceptance/nodesets/nodepool-trusty.yml', 'Gemfile', 'spec/acceptance/nodesets/nodepool-centos7.yml']",4,902c5098c7df5d676dd409f165dd4bc4f563bc16,bug/1444736,HOSTS: centos-70-x64: roles: - master platform: el-7-x86_64 hypervisor : none ip: 127.0.0.1 CONFIG: type: foss ,,34,3
openstack%2Frally~master~I65120ebac1d1bab9d8fb9d3d5e1216d0afb89209,openstack/rally,master,I65120ebac1d1bab9d8fb9d3d5e1216d0afb89209,"Make ""random"" name more random",MERGED,2015-05-13 09:37:13.000000000,2015-05-13 13:43:10.000000000,2015-05-13 13:31:58.000000000,"[{'_account_id': 3}, {'_account_id': 6172}, {'_account_id': 8507}, {'_account_id': 9545}, {'_account_id': 10475}, {'_account_id': 14817}]","[{'number': 1, 'created': '2015-05-13 09:37:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/1b06e9d02a4571ebe6e5be392bee1777309c7228', 'message': 'Make random name more random\n\nIt would be nice to generate random part using uppercased, lowercase letters\nand digits.\n\nSimple example - length 5 symbols of random part:\n - old implementation: 65 780 combinations\n - new implementation: 6 471 002 combinations\n\nChange-Id: I65120ebac1d1bab9d8fb9d3d5e1216d0afb89209\n'}, {'number': 2, 'created': '2015-05-13 10:15:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/e4c4262526f68fd4fa575251757cce7617280f35', 'message': 'Make ""random"" name more random\n\nIt would be nice to generate random part using uppercased, lowercased letters\nand digits.\n\nSimple example - 5 symbols are length of random part:\n - old implementation: 65 780 combinations\n - new implementation: 6 471 002 combinations\n\nChange-Id: I65120ebac1d1bab9d8fb9d3d5e1216d0afb89209\n'}, {'number': 3, 'created': '2015-05-13 10:40:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/00c076f5d56c6fea375466cda03b4a9a83155e9c', 'message': 'Make ""random"" name more random\n\nIt would be nice to generate random part using uppercased, lowercased letters\nand digits.\n\nSimple example - 5 symbols are length of random part:\n - old implementation: 65 780 combinations\n - new implementation: 6 471 002 combinations\n\nChange-Id: I65120ebac1d1bab9d8fb9d3d5e1216d0afb89209\n'}, {'number': 4, 'created': '2015-05-13 10:42:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/340a382b8bd3692f7a356c256465cdbfdb10b3a0', 'message': 'Make ""random"" name more random\n\nIt would be nice to generate random part using uppercased, lowercased letters\nand digits.\n\nSimple example - 5 symbols are length of random part:\n - old implementation: 65 780 combinations\n - new implementation: 6 471 002 combinations\n\nChange-Id: I65120ebac1d1bab9d8fb9d3d5e1216d0afb89209\n'}, {'number': 5, 'created': '2015-05-13 11:44:15.000000000', 'files': ['rally/benchmark/scenarios/heat/utils.py', 'rally/common/utils.py'], 'web_link': 'https://opendev.org/openstack/rally/commit/8d99c9865f9e27fd16693cf036e45e9b3beda626', 'message': 'Make ""random"" name more random\n\nIt would be nice to generate random part using uppercased, lowercased letters\nand digits.\n\nSimple example - 5 symbols are length of random part:\n - old implementation: 65 780 combinations\n - new implementation: 6 471 002 combinations\n\nChange-Id: I65120ebac1d1bab9d8fb9d3d5e1216d0afb89209\n'}]",4,182594,8d99c9865f9e27fd16693cf036e45e9b3beda626,24,6,5,9545,,,0,"Make ""random"" name more random

It would be nice to generate random part using uppercased, lowercased letters
and digits.

Simple example - 5 symbols are length of random part:
 - old implementation: 65 780 combinations
 - new implementation: 6 471 002 combinations

Change-Id: I65120ebac1d1bab9d8fb9d3d5e1216d0afb89209
",git fetch https://review.opendev.org/openstack/rally refs/changes/94/182594/5 && git format-patch -1 --stdout FETCH_HEAD,['rally/common/utils.py'],1,1b06e9d02a4571ebe6e5be392bee1777309c7228,random,"def generate_random_name(prefix="""", length=16, choice=None): if not choice: choice = string.ascii_letters + string.digits","def generate_random_name(prefix="""", length=16, choice=string.ascii_lowercase):",3,1
openstack%2Fneutron~master~Iace190916c9c0b9be75ddd43c4ca86480f8e017f,openstack/neutron,master,Iace190916c9c0b9be75ddd43c4ca86480f8e017f,Fix routerid constraint migration,MERGED,2015-04-10 16:06:20.000000000,2015-05-13 13:40:55.000000000,2015-05-13 13:40:53.000000000,"[{'_account_id': 3}, {'_account_id': 2035}, {'_account_id': 5170}, {'_account_id': 5948}, {'_account_id': 6524}, {'_account_id': 7249}, {'_account_id': 7805}, {'_account_id': 8124}, {'_account_id': 8873}, {'_account_id': 9008}, {'_account_id': 9681}, {'_account_id': 9732}, {'_account_id': 9787}, {'_account_id': 9845}, {'_account_id': 9970}, {'_account_id': 10116}, {'_account_id': 10121}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10370}, {'_account_id': 10386}, {'_account_id': 10387}, {'_account_id': 10692}, {'_account_id': 12040}, {'_account_id': 14208}, {'_account_id': 14212}, {'_account_id': 14213}, {'_account_id': 14214}, {'_account_id': 14215}, {'_account_id': 14216}, {'_account_id': 14323}, {'_account_id': 14571}, {'_account_id': 15443}, {'_account_id': 15444}, {'_account_id': 15752}, {'_account_id': 15894}]","[{'number': 1, 'created': '2015-04-10 16:06:20.000000000', 'files': ['neutron/db/migration/alembic_migrations/versions/31d7f831a591_add_constraint_for_routerid.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/2749fd41f066dd51116c2a18198f79aa3c640156', 'message': 'Fix routerid constraint migration\n\nThe migration to add a fk constraint to the routerl3agentbindings\ntable could fail if orphaned records existed.  This change ensures\nthat binding records are properly sanitized before constraint\naddition is attempted.\n\nChange-Id: Iace190916c9c0b9be75ddd43c4ca86480f8e017f\nCloses-Bug: #1442683\n'}]",6,172493,2749fd41f066dd51116c2a18198f79aa3c640156,52,36,1,2035,,,0,"Fix routerid constraint migration

The migration to add a fk constraint to the routerl3agentbindings
table could fail if orphaned records existed.  This change ensures
that binding records are properly sanitized before constraint
addition is attempted.

Change-Id: Iace190916c9c0b9be75ddd43c4ca86480f8e017f
Closes-Bug: #1442683
",git fetch https://review.opendev.org/openstack/neutron refs/changes/93/172493/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/db/migration/alembic_migrations/versions/31d7f831a591_add_constraint_for_routerid.py'],1,2749fd41f066dd51116c2a18198f79aa3c640156,bug/1442683,"AGENTS_TABLE_NAME = 'agents' query_args = {'table': TABLE_NAME, 'agents_table': AGENTS_TABLE_NAME} % query_args) % query_args) # Remove orphaned records - bindings that reference non-existent agents op.execute('DELETE FROM %(table)s ' 'WHERE l3_agent_id NOT IN (select id from %(agents_table)s);' % query_args)", % {'table': TABLE_NAME}) % {'table': TABLE_NAME}),8,2
openstack%2Ffuel-docs~master~Ibd5ac69db15a589ee7e746f8c95e6e7a835a3422,openstack/fuel-docs,master,Ibd5ac69db15a589ee7e746f8c95e6e7a835a3422,Replaces screenshots for net verification feature,MERGED,2015-05-08 08:44:28.000000000,2015-05-13 13:40:23.000000000,2015-05-13 13:40:21.000000000,"[{'_account_id': 3}, {'_account_id': 8971}, {'_account_id': 13082}, {'_account_id': 13695}]","[{'number': 1, 'created': '2015-05-08 08:44:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-docs/commit/66cfa1e7b1509fbf8aad97c06e3a44220f4bc296', 'message': 'Replaces screenshots for net verification feature\n\nThe previous ones had poor quality.\nThis commit fixes the problem and provides\na small note in Deploy subsection.\n\nRelated-Bug: 1415520\n\nChange-Id: Ibd5ac69db15a589ee7e746f8c95e6e7a835a3422\n'}, {'number': 2, 'created': '2015-05-08 08:55:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-docs/commit/92868960a1cb16bc0bc7a0bec945dbcf49ab9dee', 'message': 'Replaces screenshots for net verification feature\n\nThe previous ones had poor quality.\nThis commit fixes the problem and provides\na small note in Deploy subsection.\n\nRelated-Bug: 1415520\n\nChange-Id: Ibd5ac69db15a589ee7e746f8c95e6e7a835a3422\n'}, {'number': 3, 'created': '2015-05-08 08:56:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-docs/commit/1b8b34a9e874544e59cb4ca72b8f635f7af4684e', 'message': 'Replaces screenshots for net verification feature\n\nThe previous ones had poor quality.\nThis commit fixes the problem and provides\na small note in Deploy subsection.\n\nRelated-Bug: 1415520\n\nChange-Id: Ibd5ac69db15a589ee7e746f8c95e6e7a835a3422\n'}, {'number': 4, 'created': '2015-05-13 13:28:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-docs/commit/c886775a0fceaab52439c459fd3ba9ff1e3602e5', 'message': 'Replaces screenshots for net verification feature\n\nThe previous ones had poor quality.\nThis commit fixes the problem and provides\na small note in Deploy subsection.\n\nRelated-Bug: 1415520\n\nChange-Id: Ibd5ac69db15a589ee7e746f8c95e6e7a835a3422\n'}, {'number': 5, 'created': '2015-05-13 13:31:47.000000000', 'files': ['pages/user-guide/5000-deploy-environment.rst', 'pages/user-guide/config-environment/3400-verify-networks.rst', '_images/user_screen_shots/net_verify_failure-warning.png', '_images/user_screen_shots/net_verify_in_progress.png', '_images/user_screen_shots/verify-network-warning.png'], 'web_link': 'https://opendev.org/openstack/fuel-docs/commit/24e417bdf2de8e1fb4b2b1ec8d674e981650356a', 'message': 'Replaces screenshots for net verification feature\n\nThe previous ones had poor quality.\nThis commit fixes the problem and provides\na small note in Deploy subsection.\n\nRelated-Bug: 1415520\n\nChange-Id: Ibd5ac69db15a589ee7e746f8c95e6e7a835a3422\n'}]",0,181329,24e417bdf2de8e1fb4b2b1ec8d674e981650356a,26,4,5,13082,,,0,"Replaces screenshots for net verification feature

The previous ones had poor quality.
This commit fixes the problem and provides
a small note in Deploy subsection.

Related-Bug: 1415520

Change-Id: Ibd5ac69db15a589ee7e746f8c95e6e7a835a3422
",git fetch https://review.opendev.org/openstack/fuel-docs refs/changes/29/181329/4 && git format-patch -1 --stdout FETCH_HEAD,"['_images/user_screen_shots/net_verify_failure-warning.png', '_images/user_screen_shots/net_verify_in_progress.png', '_images/user_screen_shots/verify-network-warning.png']",3,66cfa1e7b1509fbf8aad97c06e3a44220f4bc296,bug/1415520,,,0,0
openstack%2Fmurano~master~I8bbc993505f965d35402f24d5ac0659ca32b1742,openstack/murano,master,I8bbc993505f965d35402f24d5ac0659ca32b1742,App Dev Guide: Hot Packages,MERGED,2015-05-08 10:31:54.000000000,2015-05-13 13:40:05.000000000,2015-05-13 13:40:03.000000000,"[{'_account_id': 3}, {'_account_id': 7225}, {'_account_id': 7549}, {'_account_id': 7821}, {'_account_id': 13149}, {'_account_id': 13962}, {'_account_id': 14396}, {'_account_id': 14420}, {'_account_id': 14643}, {'_account_id': 15168}, {'_account_id': 16259}]","[{'number': 1, 'created': '2015-05-08 10:31:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano/commit/2ca7c4b663b13886a6611c7bd1aff83aafb8293c', 'message': 'App Dev Guide: Hot Packages\n\nIncludes:\n -Compose a package\n -Upload a package\n\nChange-Id: I8bbc993505f965d35402f24d5ac0659ca32b1742\n'}, {'number': 2, 'created': '2015-05-08 12:00:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano/commit/d20e2a4bc03a0bd5c894ba9b49b67773836df2a6', 'message': 'App Dev Guide: Hot Packages\n\nIncludes:\n -Compose a package\n -Upload a package\n\nChange-Id: I8bbc993505f965d35402f24d5ac0659ca32b1742\n'}, {'number': 3, 'created': '2015-05-08 12:02:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano/commit/3815704557964a97319aa270e52b3ff108b9a3c9', 'message': 'App Dev Guide: Hot Packages\n\nIncludes:\n -Compose a package\n -Upload a package\n\nChange-Id: I8bbc993505f965d35402f24d5ac0659ca32b1742\n'}, {'number': 4, 'created': '2015-05-12 12:56:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano/commit/9c027fd2995cc2c3e7c159d06165655b88f3a8a1', 'message': 'App Dev Guide: Hot Packages\n\nIncludes:\n -Compose a package\n -Upload a package (removed)\n\nChange-Id: I8bbc993505f965d35402f24d5ac0659ca32b1742\n'}, {'number': 5, 'created': '2015-05-13 09:36:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano/commit/0344b47e4421776729d66c66a8c368112688ec87', 'message': 'App Dev Guide: Hot Packages\n\nIncludes:\n -Compose a package\n -Upload a package (removed)\n\nChange-Id: I8bbc993505f965d35402f24d5ac0659ca32b1742\n'}, {'number': 6, 'created': '2015-05-13 12:18:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano/commit/ffea2f194b257a0c2eeb46e893c43f1284a0e796', 'message': 'App Dev Guide: Hot Packages\n\nIncludes:\n -Compose a package\n -Upload a package (removed)\n\nChange-Id: I8bbc993505f965d35402f24d5ac0659ca32b1742\n'}, {'number': 7, 'created': '2015-05-13 12:40:52.000000000', 'files': ['doc/source/draft/appdev-guide/hotpackages/compose.rst', 'doc/source/draft/appdev-guide/hotpackages/chef_server.png', 'doc/source/draft/appdev-guide/hot_packages.rst', 'doc/source/draft/appdev-guide/hotpackages/chef_server_form.png'], 'web_link': 'https://opendev.org/openstack/murano/commit/456fc33ccb5530284b18c65be739c9cecd24b825', 'message': 'App Dev Guide: Hot Packages\n\nIncludes:\n -Compose a package\n -Upload a package (removed)\n\nChange-Id: I8bbc993505f965d35402f24d5ac0659ca32b1742\n'}]",9,181352,456fc33ccb5530284b18c65be739c9cecd24b825,36,11,7,14396,,,0,"App Dev Guide: Hot Packages

Includes:
 -Compose a package
 -Upload a package (removed)

Change-Id: I8bbc993505f965d35402f24d5ac0659ca32b1742
",git fetch https://review.opendev.org/openstack/murano refs/changes/52/181352/4 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/draft/appdev-guide/hotpackages/app_uploaded.png', 'doc/source/draft/appdev-guide/hotpackages/compose.rst', 'doc/source/draft/appdev-guide/hotpackages/upload.rst', 'doc/source/draft/appdev-guide/hot_packages.rst', 'doc/source/draft/appdev-guide/hotpackages/upload.png']",5,2ca7c4b663b13886a6611c7bd1aff83aafb8293c,hotpackages,,,103,4
openstack%2Fpuppet-cinder~master~Iefb20b56a1a5c9510fbe0f49e76bcf7adc0c7543,openstack/puppet-cinder,master,Iefb20b56a1a5c9510fbe0f49e76bcf7adc0c7543,Bring Redhat support to acceptance tests,ABANDONED,2015-05-11 19:49:45.000000000,2015-05-13 13:31:25.000000000,,"[{'_account_id': 3}, {'_account_id': 5241}]","[{'number': 1, 'created': '2015-05-11 19:49:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/edb136bde079f990ec61ec2190c060346b3d70b3', 'message': 'Bring Redhat support to acceptance tests\n\nOpenStack Infra has jobs to run this on both Ubuntu Trusty and CentOS7.\n\n* Add minitest to Gemfile (dependency to run beaker on centos - see\n  http://projects.theforeman.org/issues/2650 for details)\n* separate nodepool files to have trusty & centos7 support in OS infra\n* basic_keystone_spec: add case for repo configuration and support\n  RH systems.\n\nChange-Id: Iefb20b56a1a5c9510fbe0f49e76bcf7adc0c7543\nCloses-bug: #1444736\n'}, {'number': 2, 'created': '2015-05-12 02:00:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/ec808559454936ed1cca0e19163bb1016d825f1e', 'message': 'Bring Redhat support to acceptance tests\n\nOpenStack Infra has jobs to run this on both Ubuntu Trusty and CentOS7.\n\n* Add minitest to Gemfile (dependency to run beaker on centos - see\n  http://projects.theforeman.org/issues/2650 for details)\n* separate nodepool files to have trusty & centos7 support in OS infra\n* basic_keystone_spec: add case for repo configuration and support\n  RH systems.\n\nChange-Id: Iefb20b56a1a5c9510fbe0f49e76bcf7adc0c7543\nCloses-bug: #1444736\n'}, {'number': 3, 'created': '2015-05-12 04:07:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/38d0f8c6e2b285b639c37f12d1922eb68fc54e26', 'message': 'Bring Redhat support to acceptance tests\n\nOpenStack Infra has jobs to run this on both Ubuntu Trusty and CentOS7.\n\n* Add minitest to Gemfile (dependency to run beaker on centos - see\n  http://projects.theforeman.org/issues/2650 for details)\n* separate nodepool files to have trusty & centos7 support in OS infra\n* basic_keystone_spec: add case for repo configuration and support\n  RH systems.\n\nChange-Id: Iefb20b56a1a5c9510fbe0f49e76bcf7adc0c7543\nCloses-bug: #1444736\n'}, {'number': 4, 'created': '2015-05-13 08:34:30.000000000', 'files': ['spec/acceptance/nodesets/nodepool-trusty.yml', 'Gemfile', 'spec/acceptance/basic_cinder_spec.rb', 'spec/acceptance/nodesets/nodepool-centos7.yml'], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/ace88d692ff56ce78841d7737cefbeb2254bce81', 'message': 'Bring Redhat support to acceptance tests\n\nOpenStack Infra has jobs to run this on both Ubuntu Trusty and CentOS7.\n\n* Add minitest to Gemfile (dependency to run beaker on centos - see\n  http://projects.theforeman.org/issues/2650 for details)\n* separate nodepool files to have trusty & centos7 support in OS infra\n* basic_keystone_spec: add case for repo configuration and support\n  RH systems.\n\nChange-Id: Iefb20b56a1a5c9510fbe0f49e76bcf7adc0c7543\nCloses-bug: #1444736\n'}]",0,182047,ace88d692ff56ce78841d7737cefbeb2254bce81,14,2,4,3153,,,0,"Bring Redhat support to acceptance tests

OpenStack Infra has jobs to run this on both Ubuntu Trusty and CentOS7.

* Add minitest to Gemfile (dependency to run beaker on centos - see
  http://projects.theforeman.org/issues/2650 for details)
* separate nodepool files to have trusty & centos7 support in OS infra
* basic_keystone_spec: add case for repo configuration and support
  RH systems.

Change-Id: Iefb20b56a1a5c9510fbe0f49e76bcf7adc0c7543
Closes-bug: #1444736
",git fetch https://review.opendev.org/openstack/puppet-cinder refs/changes/47/182047/4 && git format-patch -1 --stdout FETCH_HEAD,"['spec/acceptance/nodesets/nodepool-trusty.yml', 'Gemfile', 'spec/acceptance/basic_cinder_spec.rb', 'spec/acceptance/nodesets/nodepool-centos7.yml']",4,edb136bde079f990ec61ec2190c060346b3d70b3,bug/1444736,HOSTS: centos-70-x64: roles: - master platform: el-7-x86_64 hypervisor : none ip: 127.0.0.1 CONFIG: type: foss ,,34,3
openstack%2Fmurano~master~I019cbe6ed14fc4e8db02b7643cdf57e320d75167,openstack/murano,master,I019cbe6ed14fc4e8db02b7643cdf57e320d75167,Adds FAQ content to the Murano docs,MERGED,2015-05-12 14:29:39.000000000,2015-05-13 13:28:47.000000000,2015-05-13 13:28:46.000000000,"[{'_account_id': 3}, {'_account_id': 7225}, {'_account_id': 7549}, {'_account_id': 7821}, {'_account_id': 14643}, {'_account_id': 14962}, {'_account_id': 15168}]","[{'number': 1, 'created': '2015-05-12 14:29:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano/commit/9171f15c2ff4a7dba75448b687b49577a6f50fce', 'message': 'Adds FAQ content to the Murano docs\n\nThis patch adds FAQ to the Developing Applications\nsection.\n\nChange-Id: I019cbe6ed14fc4e8db02b7643cdf57e320d75167\n'}, {'number': 2, 'created': '2015-05-13 09:22:50.000000000', 'files': ['doc/source/draft/appdev-guide/faq.rst'], 'web_link': 'https://opendev.org/openstack/murano/commit/8f919bfa3123afaac706d03bd50ac0f6bc03c9ab', 'message': 'Adds FAQ content to the Murano docs\n\nThis patch adds FAQ to the Developing Applications\nsection.\n\nCo-Authored-By: Ekaterina Chernova <efedorova@mirantis.com>\nCo-Authored-By: Olena Logvinova <ologvinova@mirantis.com>\n\nChange-Id: I019cbe6ed14fc4e8db02b7643cdf57e320d75167\n'}]",16,182317,8f919bfa3123afaac706d03bd50ac0f6bc03c9ab,15,7,2,14962,,,0,"Adds FAQ content to the Murano docs

This patch adds FAQ to the Developing Applications
section.

Co-Authored-By: Ekaterina Chernova <efedorova@mirantis.com>
Co-Authored-By: Olena Logvinova <ologvinova@mirantis.com>

Change-Id: I019cbe6ed14fc4e8db02b7643cdf57e320d75167
",git fetch https://review.opendev.org/openstack/murano refs/changes/17/182317/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/draft/appdev-guide/faq.rst'],1,9171f15c2ff4a7dba75448b687b49577a6f50fce,faq,"=== FAQ === **There are too many files in Murano package, why not to use a single Heat Template?** To install a simple Apache service to a new VM, Heat Template is definitely simpler. But the Apache service without running under its application is useless. Thus, a new Heat Template is necessary for every application that you want to run with Apache. In Murano, you can compose a result software to install it on a VM on-the-fly: it is possible to select an application that can run under Apache dynamically. Or you can set a VM where Apache is installed as a parameter. This way, the amount of files in the application package allows to compose compound applications with multiple configuration options. For any single combination you need a separate Heat Template. **The Application section is defined in the UI form. Can I remove it?** ``Application`` section is a template for Murano object model which is the instruction for Murano engine to understand the environment structure that you deploy. While filling the forms that are auto-generated from the UI.yaml file, object model is updated with the values entered by the user. Eventually, the Murano engine receives the resulted object model (.json file) after the environment is sent to the deploy. **The Templates section is defined in the UI form. What`s the purpose?** Sometimes, the user needs to create several instances with the same configuration. A template defined by a variable in the ``Templates`` section is multiplied by the value of the number of instances that are set by the user. A YAQL ``repeat`` function is used for this operation. **Some properties have Usage, others do not. What does this affect?** ``Usage`` indicates how a particular property is used. The default value is ``In``, so sometimes it is omitted. The ``Out`` property indicates that it is not set from outside, but is calculated in the class methods and is available for the ``read`` operation from other classes. If you dont want to initialize in the class constructor, and the property has no default value, you specify ``Out`` in the ``Usage``. **Can I use multiple inheritance in my classes?** You can specify a list of parent classes instead of a single string in the regular YAML notation. The list with one element is also acceptable. **There are FullName and Name properties in the manifest file. Whats the difference between them?** ``Name`` is displayed in the web UI catalog, and ``FullName`` is a system name used by the engine to get the class definition and resolve the class interconnections. **How does Murano know which class is the main one?** There is no ``main`` class term in the MuranoPL. Everything depends on a particular object model and an instance class representing the instance. Usually, an entry-point class has exactly the same name as the package FullName, and it uses other classes. **What is the difference between $variable and $.variable in the class definitions?** By default, ``$`` represents a current object (similar to ``self`` in Python or ``this`` in C++/Java/C#), so ``$.variable`` accesses the object field/property. In contrast, ``$variable`` (without a dot) means a local method variable. Note that ``$`` can change its value during execution of some YAQL functions like select, where it means a current value. A more safe form is to use a reserved variable ``$this`` instead of ``$``. ``$this.variable`` always refers to an object-level value in any context.",==== FAQs ====,77,3
openstack%2Fmurano~master~I4c57214a0bd37f04a093221597b72c1c5e560f16,openstack/murano,master,I4c57214a0bd37f04a093221597b72c1c5e560f16,Step-by-Step,MERGED,2015-05-08 10:59:31.000000000,2015-05-13 13:28:37.000000000,2015-05-13 13:28:34.000000000,"[{'_account_id': 3}, {'_account_id': 7225}, {'_account_id': 7549}, {'_account_id': 7821}, {'_account_id': 14396}, {'_account_id': 14643}, {'_account_id': 15168}]","[{'number': 1, 'created': '2015-05-08 10:59:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano/commit/4b507f742410fdcd5d4faac3c9f3f54c86bf2e91', 'message': 'Step-by-Step\n\n1. Adds step-by-step section to the AppDev guide (based on\nApacheHTTPServer application)\n\n2. Adds some dependent files: 3 images for step-by-step\nand prepare_lab.rst to the Admin guide for prerequisites.\n\nChange-Id: I4c57214a0bd37f04a093221597b72c1c5e560f16\n'}, {'number': 2, 'created': '2015-05-08 11:13:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano/commit/31a7c6ccd416c950b1ab4954d3e31cf5bb279ff4', 'message': 'Step-by-Step\n\n1. Adds step-by-step section to the AppDev guide (based on\nApacheHTTPServer application)\n\n2. Adds some dependent files: 3 images for step-by-step\nand prepare_lab.rst to the Admin guide for prerequisites.\n\nChange-Id: I4c57214a0bd37f04a093221597b72c1c5e560f16\n'}, {'number': 3, 'created': '2015-05-12 12:12:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano/commit/e5ba4de4e9ea91fec2126a4186dc036193a46326', 'message': 'Step-by-Step\n\n1. Adds step-by-step section to the AppDev guide (based on\nApacheHTTPServer application)\n\n2. Adds some dependent files: 3 images for step-by-step\nand prepare_lab.rst to the Admin guide for prerequisites.\n\nChange-Id: I4c57214a0bd37f04a093221597b72c1c5e560f16\n'}, {'number': 4, 'created': '2015-05-12 12:24:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano/commit/538c38622d4ee82e729a5e63875c9191f11fcc8f', 'message': 'Step-by-Step\n\n1. Adds step-by-step section to the AppDev guide (based on\nApacheHTTPServer application)\n\n2. Adds some dependent files: 3 images for step-by-step\nand prepare_lab.rst to the Admin guide for prerequisites.\n\nChange-Id: I4c57214a0bd37f04a093221597b72c1c5e560f16\n'}, {'number': 5, 'created': '2015-05-12 16:23:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano/commit/3dc0f8acf227341620be63f88d18d3ecca18844d', 'message': 'Step-by-Step\n\n1. Adds step-by-step section to the AppDev guide (based on\nApacheHTTPServer application)\n\n2. Adds some dependent files: 3 images for step-by-step\nand prepare_lab.rst to the Admin guide for prerequisites.\n\nChange-Id: I4c57214a0bd37f04a093221597b72c1c5e560f16\n'}, {'number': 6, 'created': '2015-05-13 06:48:09.000000000', 'files': ['doc/source/draft/index.rst', 'doc/source/draft/appdev-guide/step_1.png', 'doc/source/draft/admin-guide/prepare_lab.rst', 'doc/source/draft/appdev-guide/step_by_step.rst', 'doc/source/draft/appdev-guide/logo.png', 'doc/source/draft/appdev-guide/step_2.png'], 'web_link': 'https://opendev.org/openstack/murano/commit/7304043c9c0010180b7a4cda19c895981cfc9501', 'message': 'Step-by-Step\n\n1. Adds step-by-step section to the AppDev guide (based on\nApacheHTTPServer application)\n\n2. Adds some dependent files: 3 images for step-by-step\nand prepare_lab.rst to the Admin guide for prerequisites.\n\nChange-Id: I4c57214a0bd37f04a093221597b72c1c5e560f16\n'}]",61,181359,7304043c9c0010180b7a4cda19c895981cfc9501,38,7,6,14643,,,0,"Step-by-Step

1. Adds step-by-step section to the AppDev guide (based on
ApacheHTTPServer application)

2. Adds some dependent files: 3 images for step-by-step
and prepare_lab.rst to the Admin guide for prerequisites.

Change-Id: I4c57214a0bd37f04a093221597b72c1c5e560f16
",git fetch https://review.opendev.org/openstack/murano refs/changes/59/181359/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/draft/index.rst', 'doc/source/draft/appdev-guide/step_1.png', 'doc/source/draft/admin-guide/prepare_lab.rst', 'doc/source/draft/appdev-guide/step_by_step.rst', 'doc/source/draft/appdev-guide/logo.png', 'doc/source/draft/appdev-guide/step_2.png']",6,4b507f742410fdcd5d4faac3c9f3f54c86bf2e91,step_by_step,,,849,8
openstack%2Fcompute-hyperv~master~I224eef5e1717f6a253b799db6e99419a03e96104,openstack/compute-hyperv,master,I224eef5e1717f6a253b799db6e99419a03e96104,Bump version to 2015.1.0a1,MERGED,2015-05-13 13:19:07.000000000,2015-05-13 13:26:31.000000000,2015-05-13 13:26:29.000000000,"[{'_account_id': 3}, {'_account_id': 8213}]","[{'number': 1, 'created': '2015-05-13 13:19:07.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/compute-hyperv/commit/be243be749c60d9f20bad2df947e285969b18487', 'message': 'Bump version to 2015.1.0a1\n\nChange-Id: I224eef5e1717f6a253b799db6e99419a03e96104\n'}]",0,182663,be243be749c60d9f20bad2df947e285969b18487,6,2,1,8213,,,0,"Bump version to 2015.1.0a1

Change-Id: I224eef5e1717f6a253b799db6e99419a03e96104
",git fetch https://review.opendev.org/openstack/compute-hyperv refs/changes/63/182663/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,be243be749c60d9f20bad2df947e285969b18487,,version = 2015.1.0a1,,1,0
openstack%2Fcompute-hyperv~master~I24948438ea23f3a4a40c7132b39f5185f43ac81a,openstack/compute-hyperv,master,I24948438ea23f3a4a40c7132b39f5185f43ac81a,Sync nova Kilo requirements,MERGED,2015-05-13 13:19:07.000000000,2015-05-13 13:26:23.000000000,2015-05-13 13:26:22.000000000,"[{'_account_id': 3}, {'_account_id': 8213}]","[{'number': 1, 'created': '2015-05-13 13:19:07.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/compute-hyperv/commit/dfc55c6f866f0cf43c4b44f0f80428ddc83da426', 'message': 'Sync nova Kilo requirements\n\nChange-Id: I24948438ea23f3a4a40c7132b39f5185f43ac81a\n'}]",0,182662,dfc55c6f866f0cf43c4b44f0f80428ddc83da426,6,2,1,8213,,,0,"Sync nova Kilo requirements

Change-Id: I24948438ea23f3a4a40c7132b39f5185f43ac81a
",git fetch https://review.opendev.org/openstack/compute-hyperv refs/changes/62/182662/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,dfc55c6f866f0cf43c4b44f0f80428ddc83da426,,"oslo.config>=1.9.3,<1.10.0 # Apache-2.0 oslo.log>=1.0.0,<1.1.0 # Apache-2.0 oslo.serialization>=1.4.0,<1.5.0 # Apache-2.0 oslo.utils>=1.4.0,<1.5.0 # Apache-2.0 oslo.i18n>=1.5.0,<1.6.0 # Apache-2.0",oslo.config>=1.6.0 # Apache-2.0 oslo.i18n>=1.3.0 # Apache-2.0 oslo.serialization>=1.2.0 # Apache-2.0 oslo.utils>=1.2.0 # Apache-2.0 oslo.log # Apache-2.0,5,5
openstack%2Fneutron~master~I5e754b496a197ed8bb654c7d630871abc96119f7,openstack/neutron,master,I5e754b496a197ed8bb654c7d630871abc96119f7,"Revert ""Allow users to run 'tox -epy34'""",ABANDONED,2015-05-12 19:02:16.000000000,2015-05-13 13:24:10.000000000,,"[{'_account_id': 3}, {'_account_id': 1561}, {'_account_id': 5170}, {'_account_id': 6524}, {'_account_id': 6659}, {'_account_id': 7448}, {'_account_id': 8122}, {'_account_id': 8645}, {'_account_id': 9656}, {'_account_id': 9681}, {'_account_id': 9682}, {'_account_id': 9732}, {'_account_id': 9787}, {'_account_id': 9845}, {'_account_id': 10116}, {'_account_id': 10117}, {'_account_id': 10121}, {'_account_id': 10153}, {'_account_id': 10692}, {'_account_id': 11343}, {'_account_id': 13070}, {'_account_id': 14208}, {'_account_id': 14212}, {'_account_id': 14213}, {'_account_id': 14214}, {'_account_id': 14215}, {'_account_id': 14323}, {'_account_id': 14571}, {'_account_id': 14760}, {'_account_id': 15296}, {'_account_id': 15752}]","[{'number': 1, 'created': '2015-05-12 19:02:16.000000000', 'files': ['neutron/plugins/ibm/common/constants.py', 'neutron/tests/unit/test_policy.py', 'neutron/agent/ovsdb/impl_idl.py', 'neutron/tests/unit/test_wsgi.py', 'neutron/tests/tempest/services/botoclients.py', 'neutron/plugins/oneconvergence/lib/plugin_helper.py', 'bin/neutron-rootwrap-xen-dom0', 'neutron/__init__.py', 'neutron/tests/unit/_test_extension_portbindings.py', 'neutron/agent/l3/router_processing_queue.py', 'neutron/agent/ovsdb/native/connection.py', 'neutron/agent/linux/utils.py', 'neutron/common/repos.py', 'neutron/plugins/ibm/sdnve_api.py', 'tox.ini', 'neutron/tests/tempest/common/glance_http.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/9ecf419bfbecdd7c3ffd817ef7c8ddcdefec5e14', 'message': 'Revert ""Allow users to run \'tox -epy34\'""\n\nThis reverts commit 8db41f04d54526104920f3a160203ecf7ef453b0.\n\nThis patch causes breakage with installing neutron with pip.  A quick\nrevert will allow that various jenkins jobs that were broken by this\nto run again while a fix is worked out.\n\nChange-Id: I5e754b496a197ed8bb654c7d630871abc96119f7\nCloses-bug: #1454372\n'}]",0,182413,9ecf419bfbecdd7c3ffd817ef7c8ddcdefec5e14,59,31,1,1561,,,0,"Revert ""Allow users to run 'tox -epy34'""

This reverts commit 8db41f04d54526104920f3a160203ecf7ef453b0.

This patch causes breakage with installing neutron with pip.  A quick
revert will allow that various jenkins jobs that were broken by this
to run again while a fix is worked out.

Change-Id: I5e754b496a197ed8bb654c7d630871abc96119f7
Closes-bug: #1454372
",git fetch https://review.opendev.org/openstack/neutron refs/changes/13/182413/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ibm/common/constants.py', 'neutron/tests/unit/test_policy.py', 'neutron/agent/ovsdb/impl_idl.py', 'neutron/tests/unit/test_wsgi.py', 'neutron/tests/tempest/services/botoclients.py', 'neutron/plugins/oneconvergence/lib/plugin_helper.py', 'bin/neutron-rootwrap-xen-dom0', 'neutron/__init__.py', 'neutron/tests/unit/_test_extension_portbindings.py', 'neutron/agent/l3/router_processing_queue.py', 'neutron/agent/ovsdb/native/connection.py', 'neutron/agent/linux/utils.py', 'neutron/common/repos.py', 'neutron/plugins/ibm/sdnve_api.py', 'tox.ini', 'neutron/tests/tempest/common/glance_http.py']",16,9ecf419bfbecdd7c3ffd817ef7c8ddcdefec5e14,bug/1454372,import httplib,from six.moves import http_client as httplib,24,30
openstack%2Fmonasca-api~master~Iebeb260b07d9b4820e9a7fc2ce907e93eedd30e1,openstack/monasca-api,master,Iebeb260b07d9b4820e9a7fc2ce907e93eedd30e1,Always validate metric name even if no dimensions,MERGED,2015-05-12 17:59:49.000000000,2015-05-13 13:17:30.000000000,2015-05-13 13:17:28.000000000,"[{'_account_id': 3}, {'_account_id': 2419}, {'_account_id': 11182}, {'_account_id': 12512}, {'_account_id': 14517}]","[{'number': 1, 'created': '2015-05-12 17:59:49.000000000', 'files': ['java/src/main/java/monasca/api/resource/MetricResource.java', 'java/src/test/java/monasca/api/app/validation/DimensionsTest.java', 'java/src/main/java/monasca/api/app/validation/MetricNameValidation.java', 'java/src/main/java/monasca/api/app/validation/Validation.java', 'java/src/main/java/monasca/api/app/validation/AlarmValidation.java', 'java/src/test/java/monasca/api/resource/AlarmDefinitionResourceTest.java', 'java/src/main/java/monasca/api/app/command/CreateMetricCommand.java', 'java/src/main/java/monasca/api/app/validation/DimensionValidation.java'], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/4d16fbdd0d81f77e495198681410b171bf46a341', 'message': ""Always validate metric name even if no dimensions\n\nAlso remove old services validation code. Don't need it.\n\nChange-Id: Iebeb260b07d9b4820e9a7fc2ce907e93eedd30e1\n""}]",0,182397,4d16fbdd0d81f77e495198681410b171bf46a341,8,5,1,11809,,,0,"Always validate metric name even if no dimensions

Also remove old services validation code. Don't need it.

Change-Id: Iebeb260b07d9b4820e9a7fc2ce907e93eedd30e1
",git fetch https://review.opendev.org/openstack/monasca-api refs/changes/97/182397/1 && git format-patch -1 --stdout FETCH_HEAD,"['java/src/main/java/monasca/api/resource/MetricResource.java', 'java/src/test/java/monasca/api/app/validation/DimensionsTest.java', 'java/src/main/java/monasca/api/app/validation/MetricNameValidation.java', 'java/src/main/java/monasca/api/app/validation/Validation.java', 'java/src/main/java/monasca/api/app/validation/AlarmValidation.java', 'java/src/test/java/monasca/api/resource/AlarmDefinitionResourceTest.java', 'java/src/main/java/monasca/api/app/command/CreateMetricCommand.java', 'java/src/main/java/monasca/api/app/validation/DimensionValidation.java']",8,4d16fbdd0d81f77e495198681410b171bf46a341,," public static void validate(Map<String, String> dimensions) {","import javax.annotation.Nullable; public static void validate(Map<String, String> dimensions, @Nullable String service) { // Service specific validations if (service != null) { if (!name.equals(Services.SERVICE_DIMENSION) && !Services.isValidDimensionName(service, name)) throw Exceptions.unprocessableEntity(""%s is not a valid dimension name for service %s"", name, service); DimensionValidator validator = VALIDATORS.get(service); if (validator != null && !validator.isValidDimension(name, value)) throw Exceptions.unprocessableEntity(""%s is not a valid dimension value for service %s"", value, service); }",11,63
openstack%2Fdevstack-gate~master~Ib5e6f081201855ad5fc5fd97323811c035654601,openstack/devstack-gate,master,Ib5e6f081201855ad5fc5fd97323811c035654601,Remove arbitrary devstack config options,MERGED,2015-05-05 01:01:54.000000000,2015-05-13 13:11:58.000000000,2015-05-13 13:11:56.000000000,"[{'_account_id': 2}, {'_account_id': 3}, {'_account_id': 5263}, {'_account_id': 7118}, {'_account_id': 9142}]","[{'number': 1, 'created': '2015-05-05 01:01:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/2ec53e0a5bbf21d5a841bc606497aa84413f5ddd', 'message': 'Remove arbitrary devstack config options\n\nUse the var DEVSTACK_LOCAL_CONFIG in project-cofig\njob templates to pass through arbitrary devstack\nconfig options.\n\nThis change reverts some devstack-gate options in\nfavor of passing them directly to devstack.\n\nChange-Id: Ib5e6f081201855ad5fc5fd97323811c035654601\n'}, {'number': 2, 'created': '2015-05-06 02:52:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/bea26bc8bfe4d24a3fe03ab370f6514ed2b48256', 'message': 'Remove arbitrary devstack config options\n\nUse the var DEVSTACK_LOCAL_CONFIG in project-cofig\njob templates to pass through arbitrary devstack\nconfig options.\n\nThis change reverts some devstack-gate options in\nfavor of passing them directly to devstack.\n\nDepends-On: #179983\n\nChange-Id: Ib5e6f081201855ad5fc5fd97323811c035654601\n'}, {'number': 3, 'created': '2015-05-06 03:38:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/a4a01d802836f3bf8b06f411604807a107516596', 'message': 'Remove arbitrary devstack config options\n\nUse the var DEVSTACK_LOCAL_CONFIG in project-cofig\njob templates to pass through arbitrary devstack\nconfig options.\n\nThis change reverts some devstack-gate options in\nfavor of passing them directly to devstack.\n\nDepends-On: 01dc762f0ba1bc52bdeb5c434039bd5ab30cce1e\nChange-Id: Ib5e6f081201855ad5fc5fd97323811c035654601\n'}, {'number': 4, 'created': '2015-05-06 17:15:14.000000000', 'files': ['devstack-vm-gate.sh', 'devstack-vm-gate-wrap.sh'], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/33fc1efab2172ce83e61c0af49dcca64fafdfcaf', 'message': 'Remove arbitrary devstack config options\n\nUse the var DEVSTACK_LOCAL_CONFIG in project-cofig\njob templates to pass through arbitrary devstack\nconfig options.\n\nThis change reverts some devstack-gate options in\nfavor of passing them directly to devstack.\n\nDepends-On: I01dc762f0ba1bc52bdeb5c434039bd5ab30cce1e\nChange-Id: Ib5e6f081201855ad5fc5fd97323811c035654601\n'}]",0,179982,33fc1efab2172ce83e61c0af49dcca64fafdfcaf,16,5,4,9142,,,0,"Remove arbitrary devstack config options

Use the var DEVSTACK_LOCAL_CONFIG in project-cofig
job templates to pass through arbitrary devstack
config options.

This change reverts some devstack-gate options in
favor of passing them directly to devstack.

Depends-On: I01dc762f0ba1bc52bdeb5c434039bd5ab30cce1e
Change-Id: Ib5e6f081201855ad5fc5fd97323811c035654601
",git fetch https://review.opendev.org/openstack/devstack-gate refs/changes/82/179982/1 && git format-patch -1 --stdout FETCH_HEAD,"['devstack-vm-gate.sh', 'devstack-vm-gate-wrap.sh']",2,2ec53e0a5bbf21d5a841bc606497aa84413f5ddd,devstack-flags-cleanup,,# Set to 1 to enable running a keystone v3 based gate export DEVSTACK_GATE_KEYSTONE_V3=${DEVSTACK_GATE_KEYSTONE_V3:-0} # Set to 0 to run services that default under Apache + mod_wsgi under alternatives (e.g. eventlet) # if possible export DEVSTACK_GATE_ENABLE_HTTPD_MOD_WSGI_SERVICES=${DEVSTACK_GATE_ENABLE_HTTPD_MOD_WSGI_SERVICES:-1} # Set to 1 to replace Nova V2 endpoint with V2.1 API export DEVSTACK_GATE_NOVA_REPLACE_V2_ENDPOINT_WITH_V21_API=${DEVSTACK_GATE_NOVA_REPLACE_V2_ENDPOINT_WITH_V21_API:-0} ,0,26
openstack%2Fpuppet-neutron~master~Ic6905fe4240934f526e4b0d21bee695c8d93f28c,openstack/puppet-neutron,master,Ic6905fe4240934f526e4b0d21bee695c8d93f28c,Fix neutron file_line dependency,MERGED,2015-04-02 22:39:40.000000000,2015-05-13 13:09:42.000000000,2015-04-07 14:30:48.000000000,"[{'_account_id': 3}, {'_account_id': 360}, {'_account_id': 1607}, {'_account_id': 1918}, {'_account_id': 2265}, {'_account_id': 3153}, {'_account_id': 6754}, {'_account_id': 6994}, {'_account_id': 7155}, {'_account_id': 7156}, {'_account_id': 8482}, {'_account_id': 9500}, {'_account_id': 10540}, {'_account_id': 11491}, {'_account_id': 15675}]","[{'number': 1, 'created': '2015-04-02 22:39:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/0a953dc00a02013d9332d6a788f657a1ea0ff3fd', 'message': 'Fix neutron file_line dependency\n\nWithout this patch, on Ubuntu the neutron module will sometimes try to\napply the NEUTRON_LUGIN_CONFIG file line change to the file\n/etc/default/neutron-server before it exists. On Ubuntu, this file is\nmanaged by the neutron-server package. Since we otherwise do not need\nto manage that file on its own, we add a dependency on the package\nresource to make sure the file will be in place before trying to modify\nit with file_line.\n\nChange-Id: Ic6905fe4240934f526e4b0d21bee695c8d93f28c\n'}, {'number': 2, 'created': '2015-04-03 09:38:16.000000000', 'files': ['manifests/plugins/ml2.pp'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/a731408167847854ed39decf1b00ae5f698bcda6', 'message': 'Fix neutron file_line dependency\n\nWithout this patch, on Ubuntu the neutron module will sometimes try to\napply the NEUTRON_PLUGIN_CONFIG file line change to the file\n/etc/default/neutron-server before it exists. On Ubuntu, this file is\nmanaged by the neutron-server package. Since we otherwise do not need\nto manage that file on its own, we add a dependency on the package\nresource to make sure the file will be in place before trying to modify\nit with file_line.\n\nChange-Id: Ic6905fe4240934f526e4b0d21bee695c8d93f28c'}]",0,170309,a731408167847854ed39decf1b00ae5f698bcda6,13,15,2,8482,,,0,"Fix neutron file_line dependency

Without this patch, on Ubuntu the neutron module will sometimes try to
apply the NEUTRON_PLUGIN_CONFIG file line change to the file
/etc/default/neutron-server before it exists. On Ubuntu, this file is
managed by the neutron-server package. Since we otherwise do not need
to manage that file on its own, we add a dependency on the package
resource to make sure the file will be in place before trying to modify
it with file_line.

Change-Id: Ic6905fe4240934f526e4b0d21bee695c8d93f28c",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/09/170309/2 && git format-patch -1 --stdout FETCH_HEAD,['manifests/plugins/ml2.pp'],1,0a953dc00a02013d9332d6a788f657a1ea0ff3fd,file_line_fix, Package<| title == 'neutron-server' |> -> File_line['/etc/default/neutron-server:NEUTRON_PLUGIN_CONFIG'], File_line['/etc/default/neutron-server:NEUTRON_PLUGIN_CONFIG'],2,1
openstack%2Fproject-config~master~I5d257c56829cb9982a9e7f9cec767e55a4531a53,openstack/project-config,master,I5d257c56829cb9982a9e7f9cec767e55a4531a53,Removes py26 jobs for python-tuskarclient,ABANDONED,2015-02-03 14:00:05.000000000,2015-05-13 13:08:25.000000000,,"[{'_account_id': 3}, {'_account_id': 6547}, {'_account_id': 8041}]","[{'number': 1, 'created': '2015-02-03 14:00:05.000000000', 'files': ['zuul/layout.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/86a48513431b856ba105e4a385c76f4bb5e37cc6', 'message': 'Removes py26 jobs for python-tuskarclient\n\nChange-Id: I5d257c56829cb9982a9e7f9cec767e55a4531a53\n'}]",0,152520,86a48513431b856ba105e4a385c76f4bb5e37cc6,5,3,1,8041,,,0,"Removes py26 jobs for python-tuskarclient

Change-Id: I5d257c56829cb9982a9e7f9cec767e55a4531a53
",git fetch https://review.opendev.org/openstack/project-config refs/changes/20/152520/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul/layout.yaml'],1,86a48513431b856ba105e4a385c76f4bb5e37cc6,tuskarclient-remove-py26,, - name: python26-jobs,0,1
openstack%2Frally~master~If53d4af2510a1d85c67f2b663900f645f7fa497e,openstack/rally,master,If53d4af2510a1d85c67f2b663900f645f7fa497e,Updated from global requirements,MERGED,2015-05-11 14:30:03.000000000,2015-05-13 13:08:00.000000000,2015-05-13 12:54:55.000000000,"[{'_account_id': 3}, {'_account_id': 6172}, {'_account_id': 9545}, {'_account_id': 14817}]","[{'number': 1, 'created': '2015-05-11 14:30:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/d4df415dabde2ac5fc7621ec9d7e8827151844dc', 'message': 'Updated from global requirements\n\nChange-Id: If53d4af2510a1d85c67f2b663900f645f7fa497e\n'}, {'number': 2, 'created': '2015-05-11 15:52:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/8a8f1dc8ecbb55ada29df33f9bbbfe0ae356a04b', 'message': 'Updated from global requirements\n\nChange-Id: If53d4af2510a1d85c67f2b663900f645f7fa497e\n'}, {'number': 3, 'created': '2015-05-12 14:35:54.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/rally/commit/6e51cac75bf51391fae517b1175366a0b1ba0c8c', 'message': 'Updated from global requirements\n\nChange-Id: If53d4af2510a1d85c67f2b663900f645f7fa497e\n'}]",0,181915,6e51cac75bf51391fae517b1175366a0b1ba0c8c,12,4,3,11131,,,0,"Updated from global requirements

Change-Id: If53d4af2510a1d85c67f2b663900f645f7fa497e
",git fetch https://review.opendev.org/openstack/rally refs/changes/15/181915/3 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,d4df415dabde2ac5fc7621ec9d7e8827151844dc,openstack/requirements,python-glanceclient>=0.17.1,python-glanceclient>=0.15.0,1,1
openstack%2Ffuel-library~master~I57c017cf68d7fe2c883fcda49896ae7ee43475e4,openstack/fuel-library,master,I57c017cf68d7fe2c883fcda49896ae7ee43475e4,Fix debian/changelog to be in correct format,ABANDONED,2015-05-13 09:18:40.000000000,2015-05-13 13:06:03.000000000,,"[{'_account_id': 3}, {'_account_id': 7195}, {'_account_id': 8786}, {'_account_id': 8971}, {'_account_id': 9582}, {'_account_id': 14774}]","[{'number': 1, 'created': '2015-05-13 09:18:40.000000000', 'files': ['debian/changelog'], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/045c690e5b501e4d168984643af4123198afcfd9', 'message': 'Fix debian/changelog to be in correct format\n\nChange-Id: I57c017cf68d7fe2c883fcda49896ae7ee43475e4\nRelated-blueprint:  package-fuel-components\nFuel-CI: disable\n'}]",0,182584,045c690e5b501e4d168984643af4123198afcfd9,18,6,1,12817,,,0,"Fix debian/changelog to be in correct format

Change-Id: I57c017cf68d7fe2c883fcda49896ae7ee43475e4
Related-blueprint:  package-fuel-components
Fuel-CI: disable
",git fetch https://review.opendev.org/openstack/fuel-library refs/changes/84/182584/1 && git format-patch -1 --stdout FETCH_HEAD,['debian/changelog'],1,045c690e5b501e4d168984643af4123198afcfd9,bp/package-fuel-components," -- Matthew Mosesohn <mmosesohn@mirantis.com> Wed, 22 Apr 2015 14:44:00 +0300"," -- Matthew Mosesohn <mmosesohn@miirantis.com> Wed, 22 Apr 2015 14:44:00 +0300",1,1
openstack%2Ffuel-main~master~Iacdb9886fd8fa9db130e9ea135f6ecf1e59c7a46,openstack/fuel-main,master,Iacdb9886fd8fa9db130e9ea135f6ecf1e59c7a46,Rename fuel-release to fuel,MERGED,2015-05-07 11:05:47.000000000,2015-05-13 13:03:02.000000000,2015-05-13 13:03:01.000000000,"[{'_account_id': 3}, {'_account_id': 8749}, {'_account_id': 8786}, {'_account_id': 8789}, {'_account_id': 8882}, {'_account_id': 8971}, {'_account_id': 10391}, {'_account_id': 12200}]","[{'number': 1, 'created': '2015-05-07 11:05:47.000000000', 'files': ['specs/fuel-main.spec', 'iso/ks.template'], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/de0885c54757f44694e174217788ad86bb20b6dc', 'message': 'Rename fuel-release to fuel\n\nFuel package which pulls in all Fuel Master\nRPM dependencies is better named as fuel,\nwhile fuel-release should include a release file\nand YUM config, which is not ready yet.\n\nblueprint package-fuel-components\n\nChange-Id: Iacdb9886fd8fa9db130e9ea135f6ecf1e59c7a46\n'}]",0,180943,de0885c54757f44694e174217788ad86bb20b6dc,11,8,1,7195,,,0,"Rename fuel-release to fuel

Fuel package which pulls in all Fuel Master
RPM dependencies is better named as fuel,
while fuel-release should include a release file
and YUM config, which is not ready yet.

blueprint package-fuel-components

Change-Id: Iacdb9886fd8fa9db130e9ea135f6ecf1e59c7a46
",git fetch https://review.opendev.org/openstack/fuel-main refs/changes/43/180943/1 && git format-patch -1 --stdout FETCH_HEAD,"['specs/fuel-main.spec', 'iso/ks.template']",2,de0885c54757f44694e174217788ad86bb20b6dc,bp/package-fuel-components,fuel,fuel-release,4,4
openstack%2Fpython-fuelclient~master~Ie005c965fdc1349abf8141b7df6467dfe73d2e92,openstack/python-fuelclient,master,Ie005c965fdc1349abf8141b7df6467dfe73d2e92,"Remove ""changes"" column for 'env --list' command output",MERGED,2015-05-13 12:31:44.000000000,2015-05-13 12:56:27.000000000,2015-05-13 12:50:47.000000000,"[{'_account_id': 3}, {'_account_id': 6623}, {'_account_id': 8789}, {'_account_id': 8907}, {'_account_id': 8971}, {'_account_id': 10391}, {'_account_id': 10959}, {'_account_id': 11082}, {'_account_id': 11577}, {'_account_id': 12200}]","[{'number': 1, 'created': '2015-05-13 12:31:44.000000000', 'files': ['fuelclient/cli/actions/environment.py', 'fuelclient/tests/utils/fake_env.py', 'fuelclient/tests/v1/unit/test_performance.py'], 'web_link': 'https://opendev.org/openstack/python-fuelclient/commit/e4ebbc720c2d5e4546b51758c5796821ed4377f6', 'message': 'Remove ""changes"" column for \'env --list\' command output\n\nTests\' infrastructure was also updates to remove generating of fake\nchanges.\n\nChange-Id: Ie005c965fdc1349abf8141b7df6467dfe73d2e92\nCloses-Bug: #1450937\n'}]",0,182647,e4ebbc720c2d5e4546b51758c5796821ed4377f6,13,10,1,8931,,,0,"Remove ""changes"" column for 'env --list' command output

Tests' infrastructure was also updates to remove generating of fake
changes.

Change-Id: Ie005c965fdc1349abf8141b7df6467dfe73d2e92
Closes-Bug: #1450937
",git fetch https://review.opendev.org/openstack/python-fuelclient refs/changes/47/182647/1 && git format-patch -1 --stdout FETCH_HEAD,"['fuelclient/cli/actions/environment.py', 'fuelclient/tests/utils/fake_env.py', 'fuelclient/tests/v1/unit/test_performance.py']",3,e4ebbc720c2d5e4546b51758c5796821ed4377f6,bug_1450937/remove_changes_from_show_env_command, env = [utils.get_fake_env()], env = [utils.get_fake_env(changes_number=self.NUMBER_OF_NODES)],5,30
openstack%2Fkolla~master~I495aa9c73a91200c01cecc1719ee5532c1f6c9cb,openstack/kolla,master,I495aa9c73a91200c01cecc1719ee5532c1f6c9cb,Improves Heat Demo Functionality,MERGED,2015-05-12 22:52:39.000000000,2015-05-13 12:56:17.000000000,2015-05-13 12:56:16.000000000,"[{'_account_id': 3}, {'_account_id': 2834}, {'_account_id': 10419}]","[{'number': 1, 'created': '2015-05-12 22:52:39.000000000', 'files': ['demos/heat/README.md', 'demos/heat/steak.yaml', 'demos/heat/launch', 'demos/heat/steak-rg.yaml'], 'web_link': 'https://opendev.org/openstack/kolla/commit/e65e059852fa45f53810c9d47296f2938b502510', 'message': ""Improves Heat Demo Functionality\n\nPreviously, the Heat demo suffered from the following limitations:\n\n1. The number of Nova instances to spawn and the image flavor were\n   hard coded in the Heat template.\n\n2. No outputs existed. This required users to run nova-list to\n   obtain the IP's of VMs.\n\n3. No documentation existed.\n\nThis patch addresses the above limitations.\n\nChange-Id: I495aa9c73a91200c01cecc1719ee5532c1f6c9cb\n""}]",0,182489,e65e059852fa45f53810c9d47296f2938b502510,7,3,1,6836,,,0,"Improves Heat Demo Functionality

Previously, the Heat demo suffered from the following limitations:

1. The number of Nova instances to spawn and the image flavor were
   hard coded in the Heat template.

2. No outputs existed. This required users to run nova-list to
   obtain the IP's of VMs.

3. No documentation existed.

This patch addresses the above limitations.

Change-Id: I495aa9c73a91200c01cecc1719ee5532c1f6c9cb
",git fetch https://review.opendev.org/openstack/kolla refs/changes/89/182489/1 && git format-patch -1 --stdout FETCH_HEAD,"['demos/heat/README.md', 'demos/heat/steak.yaml', 'demos/heat/launch', 'demos/heat/steak-rg.yaml']",4,e65e059852fa45f53810c9d47296f2938b502510,heat-demo," vm_count: type: string description: Number of VMs to launch image_flavor: type: string description: Image flavor to use when launching VMs count: get_param: vm_count image_flavor: {get_param: image_flavor} outputs: eth0: value: {get_attr: [steak, eth0]} float: value: {get_attr: [steak, float]}", count: 2,47,3
openstack%2Fkolla~master~I9c4759dbe699bd4b609cefa694ecc897355ff60a,openstack/kolla,master,I9c4759dbe699bd4b609cefa694ecc897355ff60a,add restart and destroy subcommands to tools/kolla,MERGED,2015-05-08 16:37:32.000000000,2015-05-13 12:55:23.000000000,2015-05-13 12:55:21.000000000,"[{'_account_id': 3}, {'_account_id': 10419}, {'_account_id': 13039}, {'_account_id': 16110}]","[{'number': 1, 'created': '2015-05-08 16:37:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/3456e550bad5aa64131c3fc53be1620b19be3575', 'message': 'add restart and destroy subcommands to tools/kolla\n\nConvenience commands for restarting all containers and destroying all\ncontainers\n\nChange-Id: I9c4759dbe699bd4b609cefa694ecc897355ff60a\n'}, {'number': 2, 'created': '2015-05-12 15:13:33.000000000', 'files': ['tools/kolla'], 'web_link': 'https://opendev.org/openstack/kolla/commit/68e4dba46ab1ffa6604a6170fcecd181f2c9a0a9', 'message': 'add restart and destroy subcommands to tools/kolla\n\nConvenience commands for restarting all containers and destroying all\ncontainers\n\nChange-Id: I9c4759dbe699bd4b609cefa694ecc897355ff60a\n'}]",1,181457,68e4dba46ab1ffa6604a6170fcecd181f2c9a0a9,11,4,2,16110,,,0,"add restart and destroy subcommands to tools/kolla

Convenience commands for restarting all containers and destroying all
containers

Change-Id: I9c4759dbe699bd4b609cefa694ecc897355ff60a
",git fetch https://review.opendev.org/openstack/kolla refs/changes/57/181457/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/kolla'],1,3456e550bad5aa64131c3fc53be1620b19be3575,kolla-restart-destroy,"(restart) ACTION=""Restarting"" COMPOSE_CMD=""restart"" process_all ;; (destroy) ACTION=""Destroying"" COMPOSE_CMD=""kill"" process_all COMPOSE_CMD=""rm -f"" process_all ;; ",,14,0
openstack%2Fhorizon~master~Iab1ae392636c5d35bba62fae06237d5f8926a6cf,openstack/horizon,master,Iab1ae392636c5d35bba62fae06237d5f8926a6cf,Bug 1296075 - Needless duplication in strings,ABANDONED,2014-04-01 05:18:35.000000000,2015-05-13 12:50:31.000000000,,"[{'_account_id': 3}, {'_account_id': 841}, {'_account_id': 3108}, {'_account_id': 4978}, {'_account_id': 6610}, {'_account_id': 7012}, {'_account_id': 8642}, {'_account_id': 9981}, {'_account_id': 10295}, {'_account_id': 10881}]","[{'number': 1, 'created': '2014-04-01 05:18:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/fda3c6e2b396ab4a9ec4ee5a18f1aba5e987e3bd', 'message': 'Remove trailing colons and/or spaces (""[: ]""\\+) from msgids to save\ntranslators work in translating duplicate strings.\n\nI am wondering whether the same thing should be done for other\npunctuation, but it does seem to mainly be colons that produce\nduplicated strings.\n\nChange-Id: Iab1ae392636c5d35bba62fae06237d5f8926a6cf\n'}, {'number': 2, 'created': '2014-04-01 05:36:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/96324bf164372e5b6c5d8858b595e0ae0bb29d05', 'message': 'Remove trailing colons and/or spaces from msgids\nto save translators work in translating duplicate strings.\n\nI am wondering whether the same thing should be done for other\npunctuation, but it does seem to mainly be colons that produce\nduplicated strings.\n\nChange-Id: Iab1ae392636c5d35bba62fae06237d5f8926a6cf\n'}, {'number': 3, 'created': '2014-04-01 05:46:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/6a40cad8519f8ad5b9209ffaceafd570603d75b9', 'message': 'Remove trailing colons and/or spaces from msgids\n\nTo save translators work in translating duplicate strings.\n\nI am wondering whether the same thing should be done for other\npunctuation, but it does seem to mainly be colons that produce\nduplicated strings.\n\nChange-Id: Iab1ae392636c5d35bba62fae06237d5f8926a6cf\n'}, {'number': 4, 'created': '2014-04-02 02:04:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/146920d3586b5e4cb49bd13e92fcb0fda8e5c7f0', 'message': 'Bug 1296075 - Needless duplication in strings\n\nRemove trailing colons and/or spaces from msgids\nto save translators work in translating duplicate strings.\n\nI am wondering whether the same thing should be done for other\npunctuation, but it does seem to mainly be colons that produce\nduplicated strings.\n\nThis commit has been updated to remove *po and *mo files as well as\nfiles under common.\n\nChange-Id: Iab1ae392636c5d35bba62fae06237d5f8926a6cf\n'}, {'number': 5, 'created': '2014-04-03 00:19:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/9e50ecfa6f5265086677fd8a4430cd9538bb20fd', 'message': 'Bug 1296075 - Needless duplication in strings\n\nRemove trailing colons and/or spaces from msgids\nto save translators work in translating duplicate strings.\n\nI am wondering whether the same thing should be done for other\npunctuation, but it does seem to mainly be colons that produce\nduplicated strings.\n\nThis commit has been updated to remove *po and *mo files as well as\nfiles under common.\n\nChange-Id: Iab1ae392636c5d35bba62fae06237d5f8926a6cf\nCloses-Bug: #1296075\n'}, {'number': 6, 'created': '2014-04-29 03:11:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/b468fe1ac73064aa04367923dd6fb70176bbb6c7', 'message': 'Bug 1296075 - Needless duplication in strings\n\nRemove trailing colons and/or spaces from msgids\nto save translators work in translating duplicate strings.\n\nI am wondering whether the same thing should be done for other\npunctuation, but it does seem to mainly be colons that produce\nduplicated strings.\n\nThis commit has been updated to remove *po and *mo files as well as\nfiles under common.\n\nChange-Id: Iab1ae392636c5d35bba62fae06237d5f8926a6cf\nCloses-Bug: #1296075\n'}, {'number': 7, 'created': '2014-08-20 02:46:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/c8a9d4f183de4eb729dc19e23350ba6870e6ebd5', 'message': ""Bug 1296075 - Needless duplication in strings\n\nRemove trailing spaces from msgids to save translators work\nin translating duplicate strings.\n\nAfter comments from the translators I am leaving punctuation alone\nI will remove traliing spaces only.\n\nThis commit has been updated to remove *po and *mo files as well as\nfiles under common.\n\nThis patchset has been updated to rebase against master.\n\nI have removed all of the changes that involved removing trailing\ncolons from the translation strings. Not much is left, possibly\nbecause cleanup has been picked up when I rebased.\n\nChanges that removed unnecessary default filters have been left in\nthis patchset, even if other changes have been reverted. It's a\nsmall thing, but it seemed worthwhile to leave in.\n\nChange-Id: Iab1ae392636c5d35bba62fae06237d5f8926a6cf\nCloses-Bug: #1296075\n""}, {'number': 8, 'created': '2014-12-11 05:25:15.000000000', 'files': ['openstack_dashboard/dashboards/project/instances/templates/instances/_decryptpassword.html', 'openstack_dashboard/dashboards/project/databases/templates/databases/_launch_initialize_help.html'], 'web_link': 'https://opendev.org/openstack/horizon/commit/0d96151891259850742098ff2b1c576f2e284d56', 'message': ""Bug 1296075 - Needless duplication in strings\n\nRemove trailing spaces from msgids to save translators work\nin translating duplicate strings.\n\nAfter comments from the translators I am leaving punctuation alone\nI will remove traliing spaces only.\n\nThis commit has been updated to remove *po and *mo files as well as\nfiles under common.\n\nThis patchset has been updated to rebase against master.\n\nI have removed all of the changes that involved removing trailing\ncolons from the translation strings. Not much is left, possibly\nbecause cleanup has been picked up when I rebased.\n\nChanges that removed unnecessary default filters have been left in\nthis patchset, even if other changes have been reverted. It's a\nsmall thing, but it seemed worthwhile to leave in.\n\nChange-Id: Iab1ae392636c5d35bba62fae06237d5f8926a6cf\nCloses-Bug: #1296075\n""}]",20,84342,0d96151891259850742098ff2b1c576f2e284d56,48,10,8,10881,,,0,"Bug 1296075 - Needless duplication in strings

Remove trailing spaces from msgids to save translators work
in translating duplicate strings.

After comments from the translators I am leaving punctuation alone
I will remove traliing spaces only.

This commit has been updated to remove *po and *mo files as well as
files under common.

This patchset has been updated to rebase against master.

I have removed all of the changes that involved removing trailing
colons from the translation strings. Not much is left, possibly
because cleanup has been picked up when I rebased.

Changes that removed unnecessary default filters have been left in
this patchset, even if other changes have been reverted. It's a
small thing, but it seemed worthwhile to leave in.

Change-Id: Iab1ae392636c5d35bba62fae06237d5f8926a6cf
Closes-Bug: #1296075
",git fetch https://review.opendev.org/openstack/horizon refs/changes/42/84342/2 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_dashboard/locale/pl_PL/LC_MESSAGES/django.po', 'openstack_dashboard/dashboards/project/access_and_security/templates/access_and_security/keypairs/_import.html', 'openstack_dashboard/dashboards/project/volumes/templates/volumes/volumes/detail.html', 'openstack_dashboard/dashboards/project/instances/templates/instances/detail.html', 'openstack_dashboard/dashboards/project/networks/templates/networks/detail.html', 'openstack_dashboard/dashboards/project/loadbalancers/templates/loadbalancers/_updatemonitor.html', 'openstack_dashboard/dashboards/project/loadbalancers/templates/loadbalancers/_updatemember.html', 'openstack_dashboard/dashboards/project/volumes/templates/volumes/snapshots/detail.html', 'openstack_dashboard/dashboards/settings/user/templates/user/_settings.html', 'openstack_dashboard/dashboards/project/vpn/templates/vpn/_update_vpnservice.html', 'openstack_dashboard/dashboards/project/networks/templates/networks/ports/_detail_overview.html', 'openstack_dashboard/dashboards/project/stacks/templates/stacks/detail.html', 'openstack_dashboard/locale/fr/LC_MESSAGES/django.po', 'openstack_dashboard/dashboards/router/nexus1000v/templates/nexus1000v/_update_network_profile.html', 'openstack_dashboard/dashboards/admin/networks/templates/networks/ports/_update.html', 'openstack_dashboard/locale/en/LC_MESSAGES/django.mo', 'openstack_dashboard/dashboards/admin/groups/templates/groups/manage.html', 'openstack_dashboard/locale/nl_NL/LC_MESSAGES/django.po', 'openstack_dashboard/dashboards/project/loadbalancers/templates/loadbalancers/_updatevip.html', 'openstack_dashboard/locale/es/LC_MESSAGES/django.po', 'openstack_dashboard/dashboards/admin/images/templates/images/_create.html', 'openstack_dashboard/locale/pt_BR/LC_MESSAGES/django.po', 'openstack_dashboard/dashboards/project/firewalls/templates/firewalls/_updatefirewall.html', 'openstack_dashboard/dashboards/admin/instances/templates/instances/_live_migrate.html', 'openstack_dashboard/dashboards/project/instances/templates/instances/_decryptpassword.html', 'openstack_dashboard/dashboards/project/firewalls/templates/firewalls/_updaterule.html', 'openstack_dashboard/dashboards/project/databases/templates/databases/_launch_initialize_help.html', 'openstack_dashboard/dashboards/project/images/templates/images/images/detail.html', 'openstack_dashboard/dashboards/settings/password/templates/password/_change.html', 'openstack_dashboard/locale/en/LC_MESSAGES/django.po', 'openstack_dashboard/dashboards/admin/volumes/templates/volumes/detail.html', 'openstack_dashboard/locale/ja/LC_MESSAGES/django.po', 'openstack_dashboard/dashboards/project/vpn/templates/vpn/_update_ipsecsiteconnection.html', 'openstack_dashboard/locale/zh_CN/LC_MESSAGES/django.po', 'openstack_dashboard/dashboards/project/databases/templates/databases/detail.html', 'openstack_dashboard/dashboards/project/images/templates/images/snapshots/_create.html', 'openstack_dashboard/locale/en_AU/LC_MESSAGES/django.po', 'openstack_dashboard/dashboards/project/containers/templates/containers/_container_metadata.html', 'openstack_dashboard/dashboards/project/firewalls/templates/firewalls/_insert_rule_to_policy.html', 'openstack_dashboard/dashboards/project/stacks/templates/stacks/resource.html', 'openstack_dashboard/locale/en_GB/LC_MESSAGES/django.po', 'openstack_dashboard/dashboards/project/images/templates/images/images/_create.html', 'openstack_dashboard/dashboards/project/database_backups/templates/database_backups/details.html', 'openstack_dashboard/dashboards/project/firewalls/templates/firewalls/_updatepolicy.html', 'openstack_dashboard/dashboards/project/access_and_security/templates/access_and_security/floating_ips/_allocate.html', 'openstack_dashboard/openstack/common/service.py', 'openstack_dashboard/dashboards/project/vpn/templates/vpn/_update_ipsecpolicy.html', 'openstack_dashboard/dashboards/project/access_and_security/templates/access_and_security/security_groups/detail.html', 'openstack_dashboard/dashboards/project/networks/templates/networks/_update.html', 'openstack_dashboard/locale/ko_KR/LC_MESSAGES/django.po', 'openstack_dashboard/dashboards/project/loadbalancers/templates/loadbalancers/_updatepool.html', 'openstack_dashboard/dashboards/project/networks/templates/networks/ports/_update.html', 'openstack_dashboard/dashboards/admin/networks/templates/networks/_update.html', 'openstack_dashboard/dashboards/project/images/templates/images/images/_update.html', 'openstack_dashboard/dashboards/project/firewalls/templates/firewalls/_remove_rule_from_policy.html', 'openstack_dashboard/dashboards/project/vpn/templates/vpn/_update_ikepolicy.html']",56,fda3c6e2b396ab4a9ec4ee5a18f1aba5e987e3bd,bug/1296075," <h3>{% trans ""Description"" %}:</h3>{% endblock %} "," <h3>{% trans ""Description:"" %}</h3>{% endblock %}",62625,34767
openstack%2Fcompute-hyperv~master~I4874eed7d284fab241e4371e550a88270ca156f1,openstack/compute-hyperv,master,I4874eed7d284fab241e4371e550a88270ca156f1,Hyper-V: Fixes cold migration / resize issue,MERGED,2015-05-11 16:17:44.000000000,2015-05-13 12:49:47.000000000,2015-05-13 12:49:46.000000000,"[{'_account_id': 3}, {'_account_id': 8213}, {'_account_id': 12604}]","[{'number': 1, 'created': '2015-05-11 16:17:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/compute-hyperv/commit/247461aa2517caa41141462404e60ee5eb457456', 'message': ""Hyper-V: Fixes cold migration / resize issue\n\nCommit https://review.openstack.org/#/c/162999/ changed where the Hyper-V\nVM configuration files are stored. The files are being stored in the same\nfolder as the instance. Performing a cold resize / migration will cause a\nos.rename call on the instance's folder, which fails as long as there are\nconfiguration files used by Hyper-V in that folder, thus resulting in a\nfailed migration and the instance ending up in ERROR state.\n\nHyper-V configuration files are stored in a subfolder of the instance's\nfolder (e.g.: C:\\OpenStack\\Instances\\instance-000000b6\\Virtual Machines).\n\nThis commit makes sure that Hyper-V configuration files are not being\nmoved during migration by skipping subfolders in the instance's folder.\n\nChange-Id: I4874eed7d284fab241e4371e550a88270ca156f1\nCloses-Bug: #1453835\n""}, {'number': 2, 'created': '2015-05-11 20:49:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/compute-hyperv/commit/4ad0f5081ab9da490d91742169c0de71f076487f', 'message': ""Hyper-V: Fixes cold migration / resize issue\n\nCommit https://review.openstack.org/#/c/162999/ changed where the Hyper-V\nVM configuration files are stored. The files are being stored in the same\nfolder as the instance. Performing a cold resize / migration will cause a\nos.rename call on the instance's folder, which fails as long as there are\nconfiguration files used by Hyper-V in that folder, thus resulting in a\nfailed migration and the instance ending up in ERROR state.\n\nHyper-V configuration files are stored in a subfolder of the instance's\nfolder (e.g.: C:\\OpenStack\\Instances\\instance-000000b6\\Virtual Machines).\n\nThis commit makes sure that Hyper-V configuration files are not being\nmoved during migration by skipping subfolders in the instance's folder.\n\nChange-Id: I4874eed7d284fab241e4371e550a88270ca156f1\nCloses-Bug: #1453835\n""}, {'number': 3, 'created': '2015-05-12 23:50:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/compute-hyperv/commit/be3c59e51598900b77c7e3d754bdf64f5d70c0d8', 'message': ""Hyper-V: Fixes cold migration / resize issue\n\nCommit https://review.openstack.org/#/c/162999/ changed where the Hyper-V\nVM configuration files are stored. The files are being stored in the same\nfolder as the instance. Performing a cold resize / migration will cause a\nos.rename call on the instance's folder, which fails as long as there are\nconfiguration files used by Hyper-V in that folder, thus resulting in a\nfailed migration and the instance ending up in ERROR state.\n\nHyper-V configuration files are stored in a subfolder of the instance's\nfolder (e.g.: C:\\OpenStack\\Instances\\instance-000000b6\\Virtual Machines).\n\nThis commit makes sure that Hyper-V configuration files are not being\nmoved during migration by skipping subfolders in the instance's folder.\n\nChange-Id: I4874eed7d284fab241e4371e550a88270ca156f1\nCloses-Bug: #1453835\n""}, {'number': 4, 'created': '2015-05-13 12:40:51.000000000', 'files': ['hyperv/nova/pathutils.py', 'hyperv/tests/unit/test_migrationops.py', 'hyperv/nova/migrationops.py', 'hyperv/tests/unit/fake.py', 'hyperv/tests/unit/test_pathutils.py', 'hyperv/tests/unit/test_hypervapi.py'], 'web_link': 'https://opendev.org/openstack/compute-hyperv/commit/bb8cbb481777d37a81b3a927ad97250a98a5b620', 'message': ""Hyper-V: Fixes cold migration / resize issue\n\nCommit https://review.openstack.org/#/c/162999/ changed where the Hyper-V\nVM configuration files are stored. The files are being stored in the same\nfolder as the instance. Performing a cold resize / migration will cause a\nos.rename call on the instance's folder, which fails as long as there are\nconfiguration files used by Hyper-V in that folder, thus resulting in a\nfailed migration and the instance ending up in ERROR state.\n\nHyper-V configuration files are stored in a subfolder of the instance's\nfolder (e.g.: C:\\OpenStack\\Instances\\instance-000000b6\\Virtual Machines).\n\nThis commit makes sure that Hyper-V configuration files are not being\nmoved during migration by skipping subfolders in the instance's folder.\n\nChange-Id: I4874eed7d284fab241e4371e550a88270ca156f1\nCloses-Bug: #1453835\n""}]",0,181964,bb8cbb481777d37a81b3a927ad97250a98a5b620,11,3,4,8213,,,0,"Hyper-V: Fixes cold migration / resize issue

Commit https://review.openstack.org/#/c/162999/ changed where the Hyper-V
VM configuration files are stored. The files are being stored in the same
folder as the instance. Performing a cold resize / migration will cause a
os.rename call on the instance's folder, which fails as long as there are
configuration files used by Hyper-V in that folder, thus resulting in a
failed migration and the instance ending up in ERROR state.

Hyper-V configuration files are stored in a subfolder of the instance's
folder (e.g.: C:\OpenStack\Instances\instance-000000b6\Virtual Machines).

This commit makes sure that Hyper-V configuration files are not being
moved during migration by skipping subfolders in the instance's folder.

Change-Id: I4874eed7d284fab241e4371e550a88270ca156f1
Closes-Bug: #1453835
",git fetch https://review.opendev.org/openstack/compute-hyperv refs/changes/64/181964/2 && git format-patch -1 --stdout FETCH_HEAD,"['hyperv/nova/pathutils.py', 'hyperv/tests/unit/test_migrationops.py', 'hyperv/nova/migrationops.py', 'hyperv/tests/unit/test_pathutils.py']",4,247461aa2517caa41141462404e60ee5eb457456,kilo-features,"import contextlibfrom nova import utils @mock.patch.object(pathutils.PathUtils, 'rename') def check_move_folder_contents(self, mock_rename): with contextlib.nested(utils.tempdir(), utils.tempdir()) as (src_dir, dest_dir): src_fname = os.path.join(src_dir, 'tmp_file.txt') dest_fname = os.path.join(dest_dir, 'tmp_file.txt') test_file = open(src_fname, 'w') test_file.close() # making sure tmp_folder and its contents is not moved. fdir = os.path.join(src_dir, 'tmp_folder') os.makedirs(fdir) unmoved_fname = os.path.join(fdir, 'unmoved_file.txt') unmoved_file = open(unmoved_fname, 'w') unmoved_file.close() self._pathutils.move_folder_contents(src_dir, dest_dir) mock_rename.assert_called_once_with(src_fname, dest_fname) ",,117,3
openstack%2Fcompute-hyperv~master~I4ce44c8b7ab54a0bfc8c7401e675876dbd109e2d,openstack/compute-hyperv,master,I4ce44c8b7ab54a0bfc8c7401e675876dbd109e2d,Add Hyper-V storage QoS support,MERGED,2015-04-29 11:14:49.000000000,2015-05-13 12:49:39.000000000,2015-05-13 12:49:39.000000000,"[{'_account_id': 3}, {'_account_id': 8213}, {'_account_id': 12604}]","[{'number': 1, 'created': '2015-04-29 11:14:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/compute-hyperv/commit/40ddd8577c7612c6700d243c2ad56cc47b5f18ef', 'message': 'Add Hyper-V storage QoS support\n\nHyper-V provides options to specify maximum/minimum IOPS per virtual\ndisk image.\n\nBy leveraging this feature, this blueprint proposes to add support\nfor setting QoS specs targeting instance local disks as well as\nvolumes exported through SMB.\n\nImplements: bp hyperv-storage-qos\nChange-Id: I4ce44c8b7ab54a0bfc8c7401e675876dbd109e2d\n'}, {'number': 2, 'created': '2015-05-05 17:08:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/compute-hyperv/commit/fb261fdb1ef30b5fb957fce3e0084ff0c5943b4c', 'message': 'Add Hyper-V storage QoS support\n\nHyper-V provides options to specify maximum/minimum IOPS per virtual\ndisk image.\n\nBy leveraging this feature, this blueprint proposes to add support\nfor setting QoS specs targeting instance local disks as well as\nvolumes exported through SMB.\n\nImplements: bp hyperv-storage-qos\nChange-Id: I4ce44c8b7ab54a0bfc8c7401e675876dbd109e2d\n'}, {'number': 3, 'created': '2015-05-06 20:23:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/compute-hyperv/commit/595b6b99ec9215abe3dc4b5fc706ef89984211c4', 'message': 'Add Hyper-V storage QoS support\n\nHyper-V provides options to specify maximum/minimum IOPS per virtual\ndisk image.\n\nBy leveraging this feature, this blueprint proposes to add support\nfor setting QoS specs targeting instance local disks as well as\nvolumes exported through SMB.\n\nImplements: bp hyperv-storage-qos\nChange-Id: I4ce44c8b7ab54a0bfc8c7401e675876dbd109e2d\n'}, {'number': 4, 'created': '2015-05-06 22:25:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/compute-hyperv/commit/a78217bd6a2d5a0b775c139dddf49217846b5626', 'message': 'Add Hyper-V storage QoS support\n\nHyper-V provides options to specify maximum/minimum IOPS per virtual\ndisk image.\n\nBy leveraging this feature, this blueprint proposes to add support\nfor setting QoS specs targeting instance local disks as well as\nvolumes exported through SMB.\n\nImplements: bp hyperv-storage-qos\nChange-Id: I4ce44c8b7ab54a0bfc8c7401e675876dbd109e2d\n'}, {'number': 5, 'created': '2015-05-06 22:28:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/compute-hyperv/commit/2a3ee32d031aaa091b46cff29ef677296c1a4d09', 'message': 'Add Hyper-V storage QoS support\n\nHyper-V provides options to specify maximum/minimum IOPS per virtual\ndisk image.\n\nBy leveraging this feature, this blueprint proposes to add support\nfor setting QoS specs targeting instance local disks as well as\nvolumes exported through SMB.\n\nImplements: bp hyperv-storage-qos\nChange-Id: I4ce44c8b7ab54a0bfc8c7401e675876dbd109e2d\n'}, {'number': 6, 'created': '2015-05-06 22:40:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/compute-hyperv/commit/8f7f43a2c98ab62d31f18175863ed54024902fda', 'message': 'Add Hyper-V storage QoS support\n\nHyper-V provides options to specify maximum/minimum IOPS per virtual\ndisk image.\n\nBy leveraging this feature, this blueprint proposes to add support\nfor setting QoS specs targeting instance local disks as well as\nvolumes exported through SMB.\n\nImplements: bp hyperv-storage-qos\nChange-Id: I4ce44c8b7ab54a0bfc8c7401e675876dbd109e2d\n'}, {'number': 7, 'created': '2015-05-07 09:21:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/compute-hyperv/commit/0c1fba976ebb2a8d64b2c3ed6fd497bfbf749b4d', 'message': 'Add Hyper-V storage QoS support\n\nHyper-V provides options to specify maximum/minimum IOPS per virtual\ndisk image.\n\nBy leveraging this feature, this blueprint proposes to add support\nfor setting QoS specs targeting instance local disks as well as\nvolumes exported through SMB.\n\nImplements: bp hyperv-storage-qos\nChange-Id: I4ce44c8b7ab54a0bfc8c7401e675876dbd109e2d\n'}, {'number': 8, 'created': '2015-05-12 23:50:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/compute-hyperv/commit/1b6e51ba7d26e60f055f9e1a883203a07ed55c21', 'message': 'Add Hyper-V storage QoS support\n\nHyper-V provides options to specify maximum/minimum IOPS per virtual\ndisk image.\n\nBy leveraging this feature, this blueprint proposes to add support\nfor setting QoS specs targeting instance local disks as well as\nvolumes exported through SMB.\n\nImplements: bp hyperv-storage-qos\nChange-Id: I4ce44c8b7ab54a0bfc8c7401e675876dbd109e2d\n'}, {'number': 9, 'created': '2015-05-13 12:40:51.000000000', 'files': ['hyperv/nova/vmops.py', 'hyperv/nova/vmutilsv2.py', 'hyperv/tests/unit/test_volumeops.py', 'hyperv/nova/volumeops.py', 'hyperv/nova/vmutils.py', 'hyperv/tests/unit/test_vmutilsv2.py', 'hyperv/tests/unit/test_vmops.py', 'hyperv/tests/unit/test_hypervapi.py'], 'web_link': 'https://opendev.org/openstack/compute-hyperv/commit/cb0486cc72e9a40676495eb9f6e02fbe1b258c9c', 'message': 'Add Hyper-V storage QoS support\n\nHyper-V provides options to specify maximum/minimum IOPS per virtual\ndisk image.\n\nBy leveraging this feature, this blueprint proposes to add support\nfor setting QoS specs targeting instance local disks as well as\nvolumes exported through SMB.\n\nImplements: bp hyperv-storage-qos\nChange-Id: I4ce44c8b7ab54a0bfc8c7401e675876dbd109e2d\n'}]",0,178614,cb0486cc72e9a40676495eb9f6e02fbe1b258c9c,23,3,9,8543,,,0,"Add Hyper-V storage QoS support

Hyper-V provides options to specify maximum/minimum IOPS per virtual
disk image.

By leveraging this feature, this blueprint proposes to add support
for setting QoS specs targeting instance local disks as well as
volumes exported through SMB.

Implements: bp hyperv-storage-qos
Change-Id: I4ce44c8b7ab54a0bfc8c7401e675876dbd109e2d
",git fetch https://review.opendev.org/openstack/compute-hyperv refs/changes/14/178614/3 && git format-patch -1 --stdout FETCH_HEAD,"['hyperv/nova/vmops.py', 'hyperv/nova/vmutilsv2.py', 'hyperv/tests/unit/test_volumeops.py', 'hyperv/nova/volumeops.py', 'hyperv/nova/vmutils.py', 'hyperv/tests/unit/test_vmutilsv2.py', 'hyperv/tests/unit/test_vmops.py', 'hyperv/tests/unit/test_hypervapi.py']",8,40ddd8577c7612c6700d243c2ad56cc47b5f18ef,kilo-features,"from hyperv.nova import vmops self._mox.StubOutWithMock(vmops.VMOps, '_set_instance_disk_qos_specs') vmops.VMOps._set_instance_disk_qos_specs(mox.IgnoreArg()) ",,261,3
openstack%2Fkolla~master~Ic0ff96bb8119ddfab15b99e9f1e21cfe8d321dab,openstack/kolla,master,Ic0ff96bb8119ddfab15b99e9f1e21cfe8d321dab,Allow private docker registries,MERGED,2015-05-11 04:54:41.000000000,2015-05-13 12:48:46.000000000,2015-05-13 12:48:46.000000000,"[{'_account_id': 3}, {'_account_id': 2834}, {'_account_id': 13039}, {'_account_id': 14119}, {'_account_id': 15697}]","[{'number': 1, 'created': '2015-05-11 04:54:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/12c151efe052c361305fac8e9341678b2727fccd', 'message': 'Allow private docker registries\n\nChange the sed seperator to accept a namespace with a private registry.\nA build example would be:\n\n$ ./build-all-docker-images -n 192.168.0.10:5000/kolla\n\nChange-Id: Ic0ff96bb8119ddfab15b99e9f1e21cfe8d321dab\n'}, {'number': 2, 'created': '2015-05-11 06:10:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/27b44cd68dcf3ce459384ec8145deb4562e6df78', 'message': ""Allow private docker registries\n\nChange the sed seperator to accept a namespace with a private registry\nand add an option to specify the registry. Below is an example for a\nregistry located at 192.168.0.10:5000.\n\n$ ./build-all-docker-images -r 192.168.0.10:5000\n\nThe final image name would be something like this:\n'192.168.0.10:5000/kollaglue/centos-rdo-base'\n\nAll build, push, and pull commands will still function the same.\n\nChange-Id: Ic0ff96bb8119ddfab15b99e9f1e21cfe8d321dab\n""}, {'number': 3, 'created': '2015-05-11 12:45:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/2cdd8d9415a26c7af68d442b294f7e7e3f2372b3', 'message': ""Allow private docker registries\n\nChange the sed seperator to accept a namespace with a private registry\nand add an option to specify the registry. Below is an example for a\nregistry located at 192.168.0.10:5000.\n\n$ ./build-all-docker-images -r 192.168.0.10:5000\n\nThe final image name would be something like this:\n'192.168.0.10:5000/kollaglue/centos-rdo-base'\n\nAll build, push, and pull commands will still function the same.\n\nChange-Id: Ic0ff96bb8119ddfab15b99e9f1e21cfe8d321dab\n""}, {'number': 4, 'created': '2015-05-12 03:14:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/cd2b78a1238588c9c462c1612cb76dd2ec6f5a8f', 'message': ""Allow private docker registries\n\nChange the sed seperator to accept a namespace with a private registry\nand add an option to specify the registry. Below is an example for a\nregistry located at 192.168.0.10:5000.\n\n$ ./build-all-docker-images -r 192.168.0.10:5000\n\nThe final image name would be something like this:\n'192.168.0.10:5000/kollaglue/centos-rdo-base'\n\nAll build, push, and pull commands will still function the same.\n\nChange-Id: Ic0ff96bb8119ddfab15b99e9f1e21cfe8d321dab\n""}, {'number': 5, 'created': '2015-05-13 03:17:19.000000000', 'files': ['tools/build-docker-image', 'tools/build-all-docker-images'], 'web_link': 'https://opendev.org/openstack/kolla/commit/e057343c2fc712762397e065e660197530416b4f', 'message': ""Allow private docker registries\n\nChange the sed seperator to accept a namespace with a private registry\nand add an option to specify the registry. Below is an example for a\nregistry located at 192.168.0.10:5000.\n\n$ ./build-all-docker-images -r 192.168.0.10:5000\n\nThe final image name would be something like this:\n'192.168.0.10:5000/kollaglue/centos-rdo-base'\n\nAll build, push, and pull commands will still function the same.\n\nChange-Id: Ic0ff96bb8119ddfab15b99e9f1e21cfe8d321dab\n""}]",1,181792,e057343c2fc712762397e065e660197530416b4f,21,5,5,14119,,,0,"Allow private docker registries

Change the sed seperator to accept a namespace with a private registry
and add an option to specify the registry. Below is an example for a
registry located at 192.168.0.10:5000.

$ ./build-all-docker-images -r 192.168.0.10:5000

The final image name would be something like this:
'192.168.0.10:5000/kollaglue/centos-rdo-base'

All build, push, and pull commands will still function the same.

Change-Id: Ic0ff96bb8119ddfab15b99e9f1e21cfe8d321dab
",git fetch https://review.opendev.org/openstack/kolla refs/changes/92/181792/4 && git format-patch -1 --stdout FETCH_HEAD,['tools/build-docker-image'],1,12c151efe052c361305fac8e9341678b2727fccd,allow_private_registry,"sed -i.bak ""s||%%KOLLA_NAMESPACE%%|${NAMESPACE}|g"" $TMPDIR/Dockerfile sed -i.bak ""s|%%KOLLA_PREFIX%%|${PREFIX}|g"" $TMPDIR/Dockerfile sed -i.bak ""s|%%KOLLA_TAG%%|${PARENT_TAG}|g"" $TMPDIR/Dockerfile","sed -i.bak ""s/%%KOLLA_NAMESPACE%%/${NAMESPACE}/g"" $TMPDIR/Dockerfile sed -i.bak ""s/%%KOLLA_PREFIX%%/${PREFIX}/g"" $TMPDIR/Dockerfile sed -i.bak ""s/%%KOLLA_TAG%%/${PARENT_TAG}/g"" $TMPDIR/Dockerfile",3,3
openstack%2Fcompute-hyperv~master~Ia0a875707a7a37224efb333feab1503e83449cc4,openstack/compute-hyperv,master,Ia0a875707a7a37224efb333feab1503e83449cc4,Hyper-V: restart serial console workers after instance power change,MERGED,2015-04-29 10:44:46.000000000,2015-05-13 12:48:17.000000000,2015-05-13 12:48:17.000000000,"[{'_account_id': 3}, {'_account_id': 8213}, {'_account_id': 8543}, {'_account_id': 12604}]","[{'number': 1, 'created': '2015-04-29 10:44:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/compute-hyperv/commit/af5ca8e78480baa3e9a4697b65fd74a325e29a2f', 'message': 'Hyper-V: restart serial console workers after instance power change\n\nAt the moment, the only way the Hyper-V handles unexpected power\nstate changes is via the manager periodic task. The issue is that\nunexpected instance reboots are not handled at all.\n\nAfter an instance is stopped, suspended or paused, the console log\nworkers are stopped as well as the serial console pipe is closed.\nThose workers are never restarted unless a power change is triggered\nby the manager.\n\nThis patch proposes an instance state event listener, emiting events\nthat can be handled by the manager, similar to the Libvirt driver\nworkflow.\n\nChange-Id: Ia0a875707a7a37224efb333feab1503e83449cc4\nCloses-Bug: #1428505\n'}, {'number': 2, 'created': '2015-05-05 12:15:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/compute-hyperv/commit/a415aae14a08ef1d6e25d6759cf6c75ff6d941a9', 'message': 'Hyper-V: restart serial console workers after instance power change\n\nAt the moment, the only way the Hyper-V handles unexpected power\nstate changes is via the manager periodic task. The issue is that\nunexpected instance reboots are not handled at all.\n\nAfter an instance is stopped, suspended or paused, the console log\nworkers are stopped as well as the serial console pipe is closed.\nThose workers are never restarted unless a power change is triggered\nby the manager.\n\nThis patch proposes an instance state event listener, emiting events\nthat can be handled by the manager, similar to the Libvirt driver\nworkflow.\n\nChange-Id: Ia0a875707a7a37224efb333feab1503e83449cc4\nCloses-Bug: #1428505\n'}, {'number': 3, 'created': '2015-05-06 20:23:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/compute-hyperv/commit/e8b312368354ff6c6ef4e38976185c010ca2a24d', 'message': 'Hyper-V: restart serial console workers after instance power change\n\nAt the moment, the only way the Hyper-V handles unexpected power\nstate changes is via the manager periodic task. The issue is that\nunexpected instance reboots are not handled at all.\n\nAfter an instance is stopped, suspended or paused, the console log\nworkers are stopped as well as the serial console pipe is closed.\nThose workers are never restarted unless a power change is triggered\nby the manager.\n\nThis patch proposes an instance state event listener, emiting events\nthat can be handled by the manager, similar to the Libvirt driver\nworkflow.\n\nChange-Id: Ia0a875707a7a37224efb333feab1503e83449cc4\nCloses-Bug: #1428505\n'}, {'number': 4, 'created': '2015-05-06 22:25:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/compute-hyperv/commit/b5151f424e116a30cfa9bcee61bec88bff29ab1b', 'message': 'Hyper-V: restart serial console workers after instance power change\n\nAt the moment, the only way the Hyper-V handles unexpected power\nstate changes is via the manager periodic task. The issue is that\nunexpected instance reboots are not handled at all.\n\nAfter an instance is stopped, suspended or paused, the console log\nworkers are stopped as well as the serial console pipe is closed.\nThose workers are never restarted unless a power change is triggered\nby the manager.\n\nThis patch proposes an instance state event listener, emiting events\nthat can be handled by the manager, similar to the Libvirt driver\nworkflow.\n\nChange-Id: Ia0a875707a7a37224efb333feab1503e83449cc4\nCloses-Bug: #1428505\n'}, {'number': 5, 'created': '2015-05-06 22:28:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/compute-hyperv/commit/a9a1cd0d35a5571739812f48595e78f63ded5911', 'message': 'Hyper-V: restart serial console workers after instance power change\n\nAt the moment, the only way the Hyper-V handles unexpected power\nstate changes is via the manager periodic task. The issue is that\nunexpected instance reboots are not handled at all.\n\nAfter an instance is stopped, suspended or paused, the console log\nworkers are stopped as well as the serial console pipe is closed.\nThose workers are never restarted unless a power change is triggered\nby the manager.\n\nThis patch proposes an instance state event listener, emiting events\nthat can be handled by the manager, similar to the Libvirt driver\nworkflow.\n\nChange-Id: Ia0a875707a7a37224efb333feab1503e83449cc4\nCloses-Bug: #1428505\n'}, {'number': 6, 'created': '2015-05-06 22:40:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/compute-hyperv/commit/3aca9b6f71b32c2b7a198364f3fcc0a33c694c6d', 'message': 'Hyper-V: restart serial console workers after instance power change\n\nAt the moment, the only way the Hyper-V handles unexpected power\nstate changes is via the manager periodic task. The issue is that\nunexpected instance reboots are not handled at all.\n\nAfter an instance is stopped, suspended or paused, the console log\nworkers are stopped as well as the serial console pipe is closed.\nThose workers are never restarted unless a power change is triggered\nby the manager.\n\nThis patch proposes an instance state event listener, emiting events\nthat can be handled by the manager, similar to the Libvirt driver\nworkflow.\n\nChange-Id: Ia0a875707a7a37224efb333feab1503e83449cc4\nCloses-Bug: #1428505\n'}, {'number': 7, 'created': '2015-05-12 23:50:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/compute-hyperv/commit/5f727bd3419469ee56e9a1c47b2e3b7df87402aa', 'message': 'Hyper-V: restart serial console workers after instance power change\n\nAt the moment, the only way the Hyper-V handles unexpected power\nstate changes is via the manager periodic task. The issue is that\nunexpected instance reboots are not handled at all.\n\nAfter an instance is stopped, suspended or paused, the console log\nworkers are stopped as well as the serial console pipe is closed.\nThose workers are never restarted unless a power change is triggered\nby the manager.\n\nThis patch proposes an instance state event listener, emiting events\nthat can be handled by the manager, similar to the Libvirt driver\nworkflow.\n\nChange-Id: Ia0a875707a7a37224efb333feab1503e83449cc4\nCloses-Bug: #1428505\n'}, {'number': 8, 'created': '2015-05-13 12:40:51.000000000', 'files': ['hyperv/tests/unit/test_eventhandler.py', 'hyperv/nova/vmutilsv2.py', 'hyperv/nova/eventhandler.py', 'hyperv/nova/constants.py', 'hyperv/nova/driver.py', 'hyperv/nova/vmutils.py', 'hyperv/tests/unit/test_vmutilsv2.py', 'hyperv/tests/unit/test_vmutils.py'], 'web_link': 'https://opendev.org/openstack/compute-hyperv/commit/a08aa6a2c0bfda41119727299ba99f4756349615', 'message': 'Hyper-V: restart serial console workers after instance power change\n\nAt the moment, the only way the Hyper-V handles unexpected power\nstate changes is via the manager periodic task. The issue is that\nunexpected instance reboots are not handled at all.\n\nAfter an instance is stopped, suspended or paused, the console log\nworkers are stopped as well as the serial console pipe is closed.\nThose workers are never restarted unless a power change is triggered\nby the manager.\n\nThis patch proposes an instance state event listener, emiting events\nthat can be handled by the manager, similar to the Libvirt driver\nworkflow.\n\nChange-Id: Ia0a875707a7a37224efb333feab1503e83449cc4\nCloses-Bug: #1428505\n'}]",8,178605,a08aa6a2c0bfda41119727299ba99f4756349615,23,4,8,8543,,,0,"Hyper-V: restart serial console workers after instance power change

At the moment, the only way the Hyper-V handles unexpected power
state changes is via the manager periodic task. The issue is that
unexpected instance reboots are not handled at all.

After an instance is stopped, suspended or paused, the console log
workers are stopped as well as the serial console pipe is closed.
Those workers are never restarted unless a power change is triggered
by the manager.

This patch proposes an instance state event listener, emiting events
that can be handled by the manager, similar to the Libvirt driver
workflow.

Change-Id: Ia0a875707a7a37224efb333feab1503e83449cc4
Closes-Bug: #1428505
",git fetch https://review.opendev.org/openstack/compute-hyperv refs/changes/05/178605/8 && git format-patch -1 --stdout FETCH_HEAD,"['hyperv/tests/unit/test_eventhandler.py', 'hyperv/nova/vmutilsv2.py', 'hyperv/nova/eventhandler.py', 'hyperv/nova/constants.py', 'hyperv/nova/driver.py', 'hyperv/nova/vmutils.py', 'hyperv/tests/unit/test_vmutilsv2.py', 'hyperv/tests/unit/test_vmutils.py']",8,af5ca8e78480baa3e9a4697b65fd74a325e29a2f,kilo-features," def _get_fake_instance_notes(self): return self._FAKE_VM_UUID def test_instance_notes(self): self._lookup_vm() mock_vm_settings = mock.Mock() mock_vm_settings.Notes = self._get_fake_instance_notes() self._vmutils._get_vm_setting_data = mock.Mock( return_value=mock_vm_settings) notes = self._vmutils._get_instance_notes(mock.sentinel.vm_name) self.assertEqual(notes[0], self._FAKE_VM_UUID)",,380,1
openstack%2Fcompute-hyperv~master~I58c328391a80ee8b81f66b2e09a1bfa4b26e584c,openstack/compute-hyperv,master,I58c328391a80ee8b81f66b2e09a1bfa4b26e584c,Hyper-V: Nova serial console access support,MERGED,2015-04-29 10:13:39.000000000,2015-05-13 12:48:02.000000000,2015-05-13 12:48:02.000000000,"[{'_account_id': 3}, {'_account_id': 8213}, {'_account_id': 8543}, {'_account_id': 12604}]","[{'number': 1, 'created': '2015-04-29 10:13:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/compute-hyperv/commit/d451bbea705b1eb942d60d2da9fb7b7308154e71', 'message': 'Hyper-V: Nova serial console access support\n\nHyper-V provides a solid interface for accessing serial ports via\nnamed pipes, already employed in the Nova serial console log\nimplementation.\nThis patch makes use of this interface by implementing a simple TCP\nsocket proxy, providing access to instance serial console ports.\n\nDocImpact\n\nChange-Id: I58c328391a80ee8b81f66b2e09a1bfa4b26e584c\nImplements: blueprint hyperv-serial-ports\n'}, {'number': 2, 'created': '2015-05-06 20:23:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/compute-hyperv/commit/5e0c187f319110beb8300614c74b30641dec5d54', 'message': 'Hyper-V: Nova serial console access support\n\nHyper-V provides a solid interface for accessing serial ports via\nnamed pipes, already employed in the Nova serial console log\nimplementation.\nThis patch makes use of this interface by implementing a simple TCP\nsocket proxy, providing access to instance serial console ports.\n\nDocImpact\n\nChange-Id: I58c328391a80ee8b81f66b2e09a1bfa4b26e584c\nImplements: blueprint hyperv-serial-ports\n'}, {'number': 3, 'created': '2015-05-06 22:25:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/compute-hyperv/commit/7de2580340749550f28c436ca499d6fcb80a9cd0', 'message': 'Hyper-V: Nova serial console access support\n\nHyper-V provides a solid interface for accessing serial ports via\nnamed pipes, already employed in the Nova serial console log\nimplementation.\nThis patch makes use of this interface by implementing a simple TCP\nsocket proxy, providing access to instance serial console ports.\n\nDocImpact\n\nChange-Id: I58c328391a80ee8b81f66b2e09a1bfa4b26e584c\nImplements: blueprint hyperv-serial-ports\n'}, {'number': 4, 'created': '2015-05-06 22:28:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/compute-hyperv/commit/ae0bc287d0098329e263dd0bf1c59946fd9490b3', 'message': 'Hyper-V: Nova serial console access support\n\nHyper-V provides a solid interface for accessing serial ports via\nnamed pipes, already employed in the Nova serial console log\nimplementation.\nThis patch makes use of this interface by implementing a simple TCP\nsocket proxy, providing access to instance serial console ports.\n\nDocImpact\n\nChange-Id: I58c328391a80ee8b81f66b2e09a1bfa4b26e584c\nImplements: blueprint hyperv-serial-ports\n'}, {'number': 5, 'created': '2015-05-06 22:40:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/compute-hyperv/commit/1eeeb3398dce7a7bfc62014a13a8d9d9d9d9fb23', 'message': 'Hyper-V: Nova serial console access support\n\nHyper-V provides a solid interface for accessing serial ports via\nnamed pipes, already employed in the Nova serial console log\nimplementation.\nThis patch makes use of this interface by implementing a simple TCP\nsocket proxy, providing access to instance serial console ports.\n\nDocImpact\n\nChange-Id: I58c328391a80ee8b81f66b2e09a1bfa4b26e584c\nImplements: blueprint hyperv-serial-ports\n'}, {'number': 6, 'created': '2015-05-12 23:02:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/compute-hyperv/commit/efa9cbfee2b1a603575383e1b84d72c2cd43b55e', 'message': 'Hyper-V: Nova serial console access support\n\nHyper-V provides a solid interface for accessing serial ports via\nnamed pipes, already employed in the Nova serial console log\nimplementation.\nThis patch makes use of this interface by implementing a simple TCP\nsocket proxy, providing access to instance serial console ports.\n\nDocImpact\n\nChange-Id: I58c328391a80ee8b81f66b2e09a1bfa4b26e584c\nImplements: blueprint hyperv-serial-ports\n'}, {'number': 7, 'created': '2015-05-12 23:21:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/compute-hyperv/commit/5d9917de356b056e6c8771679cf12e660b1f3258', 'message': 'Hyper-V: Nova serial console access support\n\nHyper-V provides a solid interface for accessing serial ports via\nnamed pipes, already employed in the Nova serial console log\nimplementation.\nThis patch makes use of this interface by implementing a simple TCP\nsocket proxy, providing access to instance serial console ports.\n\nDocImpact\n\nChange-Id: I58c328391a80ee8b81f66b2e09a1bfa4b26e584c\nImplements: blueprint hyperv-serial-ports\n'}, {'number': 8, 'created': '2015-05-12 23:50:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/compute-hyperv/commit/a17624d421b40dc671fde321f18c68e7cfd8acf0', 'message': 'Hyper-V: Nova serial console access support\n\nHyper-V provides a solid interface for accessing serial ports via\nnamed pipes, already employed in the Nova serial console log\nimplementation.\nThis patch makes use of this interface by implementing a simple TCP\nsocket proxy, providing access to instance serial console ports.\n\nDocImpact\n\nChange-Id: I58c328391a80ee8b81f66b2e09a1bfa4b26e584c\nImplements: blueprint hyperv-serial-ports\n'}, {'number': 9, 'created': '2015-05-13 12:40:51.000000000', 'files': ['hyperv/nova/constants.py', 'hyperv/nova/pathutils.py', 'hyperv/nova/migrationops.py', 'hyperv/nova/driver.py', 'hyperv/tests/unit/test_namedpipe.py', 'hyperv/tests/unit/test_serialconsolehandler.py', 'hyperv/nova/serialconsolehandler.py', 'hyperv/tests/unit/test_serialconsoleops.py', 'hyperv/tests/unit/test_vmops.py', 'hyperv/tests/unit/test_livemigrationops.py', 'hyperv/nova/namedpipe.py', 'hyperv/nova/vmops.py', 'hyperv/nova/livemigrationops.py', 'hyperv/nova/serialproxy.py', 'hyperv/nova/serialconsoleops.py', 'hyperv/nova/vmutils.py', 'hyperv/nova/ioutils.py', 'hyperv/tests/unit/test_ioutils.py', 'hyperv/tests/unit/test_pathutils.py', 'hyperv/tests/unit/test_hypervapi.py', 'hyperv/tests/unit/test_serialproxy.py', 'hyperv/tests/unit/test_vmutils.py'], 'web_link': 'https://opendev.org/openstack/compute-hyperv/commit/af63bcee84fe8aa74e27548af932a437f7e4ad9e', 'message': 'Hyper-V: Nova serial console access support\n\nHyper-V provides a solid interface for accessing serial ports via\nnamed pipes, already employed in the Nova serial console log\nimplementation.\nThis patch makes use of this interface by implementing a simple TCP\nsocket proxy, providing access to instance serial console ports.\n\nDocImpact\n\nChange-Id: I58c328391a80ee8b81f66b2e09a1bfa4b26e584c\nImplements: blueprint hyperv-serial-ports\n'}]",8,178591,af63bcee84fe8aa74e27548af932a437f7e4ad9e,26,4,9,8543,,,0,"Hyper-V: Nova serial console access support

Hyper-V provides a solid interface for accessing serial ports via
named pipes, already employed in the Nova serial console log
implementation.
This patch makes use of this interface by implementing a simple TCP
socket proxy, providing access to instance serial console ports.

DocImpact

Change-Id: I58c328391a80ee8b81f66b2e09a1bfa4b26e584c
Implements: blueprint hyperv-serial-ports
",git fetch https://review.opendev.org/openstack/compute-hyperv refs/changes/91/178591/9 && git format-patch -1 --stdout FETCH_HEAD,"['hyperv/nova/constants.py', 'hyperv/nova/pathutils.py', 'hyperv/nova/migrationops.py', 'hyperv/nova/driver.py', 'hyperv/tests/unit/test_namedpipe.py', 'hyperv/tests/unit/test_serialconsolehandler.py', 'hyperv/nova/serialconsolehandler.py', 'hyperv/tests/unit/test_serialconsoleops.py', 'hyperv/tests/unit/test_vmops.py', 'hyperv/tests/unit/test_livemigrationops.py', 'hyperv/nova/namedpipe.py', 'hyperv/nova/vmops.py', 'hyperv/nova/livemigrationops.py', 'hyperv/nova/serialproxy.py', 'hyperv/nova/serialconsoleops.py', 'hyperv/nova/vmutils.py', 'hyperv/nova/ioutils.py', 'hyperv/tests/unit/test_ioutils.py', 'hyperv/tests/unit/test_pathutils.py', 'hyperv/tests/unit/test_hypervapi.py', 'hyperv/tests/unit/test_serialproxy.py', 'hyperv/tests/unit/test_vmutils.py']",22,d451bbea705b1eb942d60d2da9fb7b7308154e71,kilo-features," def test_get_vm_serial_ports(self): ret_val = self._vmutils._get_vm_serial_ports(mock_vm) self.assertEqual(mock_rasds, ret_val) def test_set_vm_serial_port_conn(self): mock_vm = self._lookup_vm() mock_com_1 = mock.Mock() mock_com_2 = mock.Mock() self._vmutils._get_vm_serial_ports = mock.Mock( return_value=[mock_com_1, mock_com_2]) self._vmutils._modify_virt_resource = mock.Mock() self._vmutils.set_vm_serial_port_connection( mock.sentinel.vm_name, port_number=1, pipe_path=mock.sentinel.pipe_path) self.assertEqual([mock.sentinel.pipe_path], mock_com_1.Connection) self._vmutils._modify_virt_resource.assert_called_once_with( mock_com_1, mock_vm.path_()) def test_get_serial_port_conns(self): self._lookup_vm() mock_com_1 = mock.Mock() mock_com_1.Connection = [] mock_com_2 = mock.Mock() mock_com_2.Connection = [mock.sentinel.pipe_path] self._vmutils._get_vm_serial_ports = mock.Mock( return_value=[mock_com_1, mock_com_2]) ret_val = self._vmutils.get_vm_serial_port_connections( mock.sentinel.vm_name) expected_ret_val = [mock.sentinel.pipe_path] self.assertEqual(expected_ret_val, ret_val)"," def _test_get_vm_serial_port_connection(self, new_connection=None): old_serial_connection = 'old_serial_connection' fake_serial_port.Connection = [old_serial_connection] self._vmutils._modify_virt_resource = mock.MagicMock() fake_modify = self._vmutils._modify_virt_resource ret_val = self._vmutils.get_vm_serial_port_connection( self._FAKE_VM_NAME, update_connection=new_connection) if new_connection: self.assertEqual(new_connection, ret_val) fake_modify.assert_called_once_with(fake_serial_port, mock_vm.path_()) else: self.assertEqual(old_serial_connection, ret_val) def test_set_vm_serial_port_connection(self): self._test_get_vm_serial_port_connection('new_serial_connection') def test_get_vm_serial_port_connection(self): self._test_get_vm_serial_port_connection()",1987,367
openstack%2Fshade~master~I91a69a87082b30e16545c45ef8705ef4e929d5ca,openstack/shade,master,I91a69a87082b30e16545c45ef8705ef4e929d5ca,Use fakes instead of mocks for data objects,MERGED,2015-05-12 00:38:19.000000000,2015-05-13 12:41:01.000000000,2015-05-13 12:41:00.000000000,"[{'_account_id': 2}, {'_account_id': 3}, {'_account_id': 3099}, {'_account_id': 6488}]","[{'number': 1, 'created': '2015-05-12 00:38:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/shade/commit/997b625f6332294d63969261fcb0d1b33213c286', 'message': ""Use fakes instead of mocks for dat objects\n\nWe hit a nasty infinite recursion issue because we were passing mock's\nto obj_to_dict which was setting the mock's attributes as attributes of\nthe returned Bunch objects. Really though, we should just not be turning\nmock objects into Bunch's.\n\nChange-Id: I91a69a87082b30e16545c45ef8705ef4e929d5ca\n""}, {'number': 2, 'created': '2015-05-12 00:39:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/shade/commit/141005c5cf1901a36f4c1d4178851364aacf1e0b', 'message': ""Use fakes instead of mocks for data objects\n\nWe hit a nasty infinite recursion issue because we were passing mock's\nto obj_to_dict which was setting the mock's attributes as attributes of\nthe returned Bunch objects. Really though, we should just not be turning\nmock objects into Bunch's.\n\nChange-Id: I91a69a87082b30e16545c45ef8705ef4e929d5ca\n""}, {'number': 3, 'created': '2015-05-12 04:21:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/shade/commit/c188dc56cdf722b0929629d35133c033865872fb', 'message': ""Use fakes instead of mocks for data objects\n\nWe hit a nasty infinite recursion issue because we were passing mock's\nto obj_to_dict which was setting the mock's attributes as attributes of\nthe returned Bunch objects. Really though, we should just not be turning\nmock objects into Bunch's.\n\nChange-Id: I91a69a87082b30e16545c45ef8705ef4e929d5ca\n""}, {'number': 4, 'created': '2015-05-12 04:23:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/shade/commit/033b2785b7f038bb8fb3788b9227547d68e3ccea', 'message': ""Use fakes instead of mocks for data objects\n\nWe hit a nasty infinite recursion issue because we were passing mock's\nto obj_to_dict which was setting the mock's attributes as attributes of\nthe returned Bunch objects. Really though, we should just not be turning\nmock objects into Bunch's.\n\nChange-Id: I91a69a87082b30e16545c45ef8705ef4e929d5ca\n""}, {'number': 5, 'created': '2015-05-12 15:44:58.000000000', 'files': ['shade/tests/unit/test_caching.py', 'shade/tests/unit/test_delete_server.py', 'shade/tests/fakes.py', 'shade/tests/unit/test_create_server.py'], 'web_link': 'https://opendev.org/openstack/shade/commit/3328cc77da66608a1b9437299ed7d97d5edfd618', 'message': ""Use fakes instead of mocks for data objects\n\nWe hit a nasty infinite recursion issue because we were passing mock's\nto obj_to_dict which was setting the mock's attributes as attributes of\nthe returned Bunch objects. Really though, we should just not be turning\nmock objects into Bunch's.\n\nChange-Id: I91a69a87082b30e16545c45ef8705ef4e929d5ca\n""}]",0,182126,3328cc77da66608a1b9437299ed7d97d5edfd618,21,4,5,10035,,,0,"Use fakes instead of mocks for data objects

We hit a nasty infinite recursion issue because we were passing mock's
to obj_to_dict which was setting the mock's attributes as attributes of
the returned Bunch objects. Really though, we should just not be turning
mock objects into Bunch's.

Change-Id: I91a69a87082b30e16545c45ef8705ef4e929d5ca
",git fetch https://review.opendev.org/openstack/shade refs/changes/26/182126/4 && git format-patch -1 --stdout FETCH_HEAD,['shade/tests/unit/test_caching.py'],1,997b625f6332294d63969261fcb0d1b33213c286,fix/dont-mock-bunches,"class FakeProject(object): def __init__(self, id): self.id = id class FakeVolume(object): def __init__(self, id, status, display_name): self.id = id self.status = status self.display_name = display_name class FakeUser(object): def __init__(self, id, email, name): self.id = id self.email = email self.name = name class FakeFlavor(object): def __init__(self, id, name): self.id = id self.name = name class FakeImage(object): def __init__(self, id, name, status): self.id = id self.name = name self.status = status project = FakeProject('project_a') keystone_mock.projects.list.return_value = [project] self.assertEqual({'project_a': project}, self.cloud.project_cache) project_b = FakeProject('project_b') keystone_mock.projects.list.return_value = [project, project_b] {'project_a': project}, self.cloud.project_cache) {'project_a': project, 'project_b': project_b}, self.cloud.project_cache) fake_volume = FakeVolume('volume1', 'available', 'Volume 1 Display Name') fake_volume_dict = meta.obj_to_dict(fake_volume) cinder_mock.volumes.list.return_value = [fake_volume] self.assertEqual([fake_volume_dict], self.cloud.list_volumes()) fake_volume2 = FakeVolume('volume2', 'available', 'Volume 2 Display Name') fake_volume2_dict = meta.obj_to_dict(fake_volume2) cinder_mock.volumes.list.return_value = [fake_volume, fake_volume2] self.assertEqual([fake_volume_dict], self.cloud.list_volumes()) self.assertEqual([fake_volume_dict, fake_volume2_dict], fake_volume = FakeVolume('volume1', 'creating', 'Volume 1 Display Name') fake_volume_dict = meta.obj_to_dict(fake_volume) cinder_mock.volumes.list.return_value = [fake_volume] self.assertEqual([fake_volume_dict], self.cloud.list_volumes()) fake_volume2 = FakeVolume('volume2', 'available', 'Volume 2 Display Name') fake_volume2_dict = meta.obj_to_dict(fake_volume2) cinder_mock.volumes.list.return_value = [fake_volume, fake_volume2] self.assertEqual([fake_volume_dict, fake_volume2_dict], fake_volb4 = FakeVolume('volume1', 'available', 'Volume 1 Display Name') fake_volb4_dict = meta.obj_to_dict(fake_volb4) cinder_mock.volumes.list.return_value = [fake_volb4] self.assertEqual([fake_volb4_dict], self.cloud.list_volumes()) fake_vol = FakeVolume('12345', 'creating', '') fake_vol_dict = meta.obj_to_dict(fake_vol) cinder_mock.volumes.create.return_value = fake_vol cinder_mock.volumes.list.return_value = [fake_volb4, fake_vol] fake_vol.status = 'available' fake_vol_dict['status'] = 'available' self.assertEqual([fake_volb4_dict, fake_vol_dict], fake_vol.status = 'deleting' fake_vol_dict = meta.obj_to_dict(fake_vol) cinder_mock.volumes.list.return_value = [fake_volb4] cinder_mock.volumes.list.return_value = [fake_volb4, fake_vol] cinder_mock.volumes.delete.return_value = fake_vol_dict self.assertEqual([fake_volb4_dict], self.cloud.list_volumes()) fake_user = FakeUser('999', '', '') keystone_mock.users.list.return_value = [fake_user] self.assertEqual({'999': fake_user}, self.cloud.get_user_cache()) fake_user = FakeUser('abc123', 'abc123@domain.test', 'abc123 name') fake_user2 = FakeUser('abc123', 'abc123 name', 'abc123-changed@domain.test') fake_flavor = FakeFlavor('555', 'vanilla') fake_image = FakeImage('22', '22 name', 'success') steady_image = FakeImage('68', 'Jagr', 'active') for status in ('queued', 'saving', 'pending_delete'): active_image = FakeImage(self.getUniqueString(), self.getUniqueString(), status) steady_image = FakeImage('91', 'Federov', 'active') active_image = FakeImage(self.getUniqueString(), self.getUniqueString(), status) fake_image = FakeImage('42', '42 name', 'success')"," mock_project = mock.MagicMock() mock_project.id = 'project_a' keystone_mock.projects.list.return_value = [mock_project] self.assertEqual({'project_a': mock_project}, self.cloud.project_cache) mock_project_b = mock.MagicMock() mock_project_b.id = 'project_b' keystone_mock.projects.list.return_value = [mock_project, mock_project_b] {'project_a': mock_project}, self.cloud.project_cache) {'project_a': mock_project, 'project_b': mock_project_b}, self.cloud.project_cache) mock_volume = mock.MagicMock() mock_volume.id = 'volume1' mock_volume.status = 'available' mock_volume.display_name = 'Volume 1 Display Name' mock_volume_dict = meta.obj_to_dict(mock_volume) cinder_mock.volumes.list.return_value = [mock_volume] self.assertEqual([mock_volume_dict], self.cloud.list_volumes()) mock_volume2 = mock.MagicMock() mock_volume2.id = 'volume2' mock_volume2.status = 'available' mock_volume2.display_name = 'Volume 2 Display Name' mock_volume2_dict = meta.obj_to_dict(mock_volume2) cinder_mock.volumes.list.return_value = [mock_volume, mock_volume2] self.assertEqual([mock_volume_dict], self.cloud.list_volumes()) self.assertEqual([mock_volume_dict, mock_volume2_dict], mock_volume = mock.MagicMock() mock_volume.id = 'volume1' mock_volume.status = 'creating' mock_volume.display_name = 'Volume 1 Display Name' mock_volume_dict = meta.obj_to_dict(mock_volume) cinder_mock.volumes.list.return_value = [mock_volume] self.assertEqual([mock_volume_dict], self.cloud.list_volumes()) mock_volume2 = mock.MagicMock() mock_volume2.id = 'volume2' mock_volume2.status = 'available' mock_volume2.display_name = 'Volume 2 Display Name' mock_volume2_dict = meta.obj_to_dict(mock_volume2) cinder_mock.volumes.list.return_value = [mock_volume, mock_volume2] self.assertEqual([mock_volume_dict, mock_volume2_dict], mock_volb4 = mock.MagicMock() mock_volb4.id = 'volume1' mock_volb4.status = 'available' mock_volb4.display_name = 'Volume 1 Display Name' mock_volb4_dict = meta.obj_to_dict(mock_volb4) cinder_mock.volumes.list.return_value = [mock_volb4] self.assertEqual([mock_volb4_dict], self.cloud.list_volumes()) mock_vol = mock.Mock() mock_vol.status = 'creating' mock_vol.id = '12345' mock_vol_dict = meta.obj_to_dict(mock_vol) cinder_mock.volumes.create.return_value = mock_vol cinder_mock.volumes.list.return_value = [mock_volb4, mock_vol] mock_vol.status = 'available' mock_vol_dict['status'] = 'available' self.assertEqual([mock_volb4_dict, mock_vol_dict], mock_vol.status = 'deleting' mock_vol_dict = meta.obj_to_dict(mock_vol) cinder_mock.volumes.list.return_value = [mock_volb4] cinder_mock.volumes.list.return_value = [mock_volb4, mock_vol] cinder_mock.volumes.delete.return_value = mock_vol_dict self.assertEqual([mock_volb4_dict], self.cloud.list_volumes()) mock_user = mock.MagicMock() mock_user.id = '999' keystone_mock.users.list.return_value = [mock_user] self.assertEqual({'999': mock_user}, self.cloud.get_user_cache()) class User(object): id = 'abc123' email = 'abc123@domain.test' name = 'abc123 name' fake_user = User() fake_user2 = User() fake_user2.email = 'abc123-changed@domain.test' class Flavor(object): id = '555' name = 'vanilla' fake_flavor = Flavor() class Image(object): id = '22' name = '22 name' status = 'success' fake_image = Image() class Image(object): id = None name = None status = None steady_image = Image() steady_image.id = '68' steady_image.name = 'Jagr' steady_image.status = 'active' for status in ('queued', 'saving', 'pending_delete'): active_image = Image() active_image.id = self.getUniqueString() active_image.name = self.getUniqueString() active_image.status = status class Image(object): id = None name = None status = None steady_image = Image() steady_image.id = '91' steady_image.name = 'Federov' steady_image.status = 'active' active_image = Image() active_image.id = self.getUniqueString() active_image.name = self.getUniqueString() active_image.status = status class Image(object): id = '42' name = '42 name' status = 'success' fake_image = Image()",95,111
openstack%2Frally~master~I08db6b1de65f19451f3f018cc7e888cdf2303593,openstack/rally,master,I08db6b1de65f19451f3f018cc7e888cdf2303593,[Docs] Update meetings info,MERGED,2015-05-13 08:44:55.000000000,2015-05-13 12:31:14.000000000,2015-05-13 12:19:36.000000000,"[{'_account_id': 3}, {'_account_id': 6172}, {'_account_id': 8507}, {'_account_id': 9545}, {'_account_id': 14817}]","[{'number': 1, 'created': '2015-05-13 08:44:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/0a7cf20a3d277018d58d706c3ed5f15b020ee323', 'message': '[Docs] Update meetings info\n\n* Add link to release meeting logs\n* Change the main meeting time to Mondays, 14:00 UTC\n\nChange-Id: I08db6b1de65f19451f3f018cc7e888cdf2303593\n'}, {'number': 2, 'created': '2015-05-13 10:14:53.000000000', 'files': ['doc/source/project_info.rst'], 'web_link': 'https://opendev.org/openstack/rally/commit/4d42bcf69564122708c35a5bfa3fb63359747c43', 'message': '[Docs] Update meetings info\n\n* Add link to release meeting logs & info about its time\n* Change the main meeting time to Mondays, 14:00 UTC\n\nChange-Id: I08db6b1de65f19451f3f018cc7e888cdf2303593\n'}]",2,182574,4d42bcf69564122708c35a5bfa3fb63359747c43,14,5,2,8507,,,0,"[Docs] Update meetings info

* Add link to release meeting logs & info about its time
* Change the main meeting time to Mondays, 14:00 UTC

Change-Id: I08db6b1de65f19451f3f018cc7e888cdf2303593
",git fetch https://review.opendev.org/openstack/rally refs/changes/74/182574/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/project_info.rst'],1,0a7cf20a3d277018d58d706c3ed5f15b020ee323,docs_meetings,"- `Relase meeting logs <http://eavesdrop.openstack.org/meetings/rallyrelease/2015/>`_ (server: **irc.freenode.net**, channel: **#openstack-rally**)- Weekly Rally team meeting (in IRC): **#openstack-meeting** on **irc.freenode.net**, held on Mondays at 14:00 UTC;","- Weekly Rally team meeting (in IRC): **#openstack-meeting** on **irc.freenode.net**, held on Tuesdays at 17:00 UTC;",2,1
openstack%2Fpython-muranoclient~master~Iefbbeb355bd1abcea9efa1bffd0db0b56dbe9d84,openstack/python-muranoclient,master,Iefbbeb355bd1abcea9efa1bffd0db0b56dbe9d84,DO NOT MERGE. TESTING NEW FANCY JOB,ABANDONED,2015-05-12 21:46:55.000000000,2015-05-13 12:31:13.000000000,,"[{'_account_id': 3}, {'_account_id': 7600}, {'_account_id': 7821}, {'_account_id': 15168}]","[{'number': 1, 'created': '2015-05-12 21:46:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-muranoclient/commit/92778a37ea10cf53e35fa346b1f3a7a8e6d5992e', 'message': 'DO NOT MERGE. TESTING NEW FANCY JOB\n\nChange-Id: Iefbbeb355bd1abcea9efa1bffd0db0b56dbe9d84\n'}, {'number': 2, 'created': '2015-05-13 11:01:32.000000000', 'files': ['muranoclient/tests/functional/simple_read_only/test_murano.py'], 'web_link': 'https://opendev.org/openstack/python-muranoclient/commit/e2c512445ab0026121c664d7e5a24616a4efa920', 'message': 'DO NOT MERGE. TESTING NEW FANCY JOB\n\nChange-Id: Iefbbeb355bd1abcea9efa1bffd0db0b56dbe9d84\n'}]",2,182468,e2c512445ab0026121c664d7e5a24616a4efa920,13,4,2,7600,,,0,"DO NOT MERGE. TESTING NEW FANCY JOB

Change-Id: Iefbbeb355bd1abcea9efa1bffd0db0b56dbe9d84
",git fetch https://review.opendev.org/openstack/python-muranoclient refs/changes/68/182468/1 && git format-patch -1 --stdout FETCH_HEAD,['muranoclient/tests/functional/simple_read_only/test_murano.py'],1,92778a37ea10cf53e35fa346b1f3a7a8e6d5992e,, def test_something_cool(self): self.assertTrue(True) ,,3,0
openstack%2Fmurano~stable%2Fkilo~I6c799d7e290286cd6c5fda1347b8cf77b48807d1,openstack/murano,stable/kilo,I6c799d7e290286cd6c5fda1347b8cf77b48807d1,Bump pre-release to 2015.1.1,ABANDONED,2015-05-12 10:23:26.000000000,2015-05-13 12:31:02.000000000,,"[{'_account_id': 3}, {'_account_id': 7600}, {'_account_id': 7821}]","[{'number': 1, 'created': '2015-05-12 10:23:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano/commit/68da1de52d2ea98601c10615f5b21d16898bc375', 'message': 'Bump pre-release to 2015.1.1\n\nChange-Id: I6c799d7e290286cd6c5fda1347b8cf77b48807d1\n'}, {'number': 2, 'created': '2015-05-12 10:51:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano/commit/1464feafe01acebbac8a7c366e1feb28ea38b244', 'message': 'Bump pre-release to 2015.1.1\n\nAlso, add nosetest as a test-requirement to unblock dsvm.\n\nChange-Id: I6c799d7e290286cd6c5fda1347b8cf77b48807d1\n'}, {'number': 3, 'created': '2015-05-12 10:53:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano/commit/f7ce9997cedb4334c1ec67e1b96001028bc894be', 'message': 'Bump pre-release to 2015.1.1\n\nRecently devstack stopped to install nosetests, so we\nhave to add this library to test-requirements to unblock\nfunctional tests. Patch to Devstack:\nIbd16ac550c90364115caf57fae4f5f4cb5d5f238\n\nChange-Id: I6c799d7e290286cd6c5fda1347b8cf77b48807d1\n'}, {'number': 4, 'created': '2015-05-12 11:57:07.000000000', 'files': ['functionaltests/run_tests_common.sh', 'test-requirements.txt', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/murano/commit/8d9f38acb35da5ca283e6d803737ca9831b46e11', 'message': 'Bump pre-release to 2015.1.1\n\nAlso, add nosetest as a test-requirement to unblock dsvm.\n\nChange-Id: I6c799d7e290286cd6c5fda1347b8cf77b48807d1\n'}]",0,182224,8d9f38acb35da5ca283e6d803737ca9831b46e11,16,3,4,7600,,,0,"Bump pre-release to 2015.1.1

Also, add nosetest as a test-requirement to unblock dsvm.

Change-Id: I6c799d7e290286cd6c5fda1347b8cf77b48807d1
",git fetch https://review.opendev.org/openstack/murano refs/changes/24/182224/4 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,68da1de52d2ea98601c10615f5b21d16898bc375,,version = 2015.1.1,version = 2015.1,1,1
openstack%2Fnetworking-midonet~master~I2b80aaa74e78f80cdba7c5ad3c06984ddabba443,openstack/networking-midonet,master,I2b80aaa74e78f80cdba7c5ad3c06984ddabba443,Use mysqlconnector as the sqlalchemy driver,MERGED,2015-05-13 03:10:46.000000000,2015-05-13 12:29:23.000000000,2015-05-13 12:29:21.000000000,"[{'_account_id': 3}, {'_account_id': 156}]","[{'number': 1, 'created': '2015-05-13 03:10:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/7de8553e7ec19a5732c87710da52b2480d814dee', 'message': '[DRAFT] try msqlconnector\n\nChange-Id: I2b80aaa74e78f80cdba7c5ad3c06984ddabba443\n'}, {'number': 2, 'created': '2015-05-13 04:23:32.000000000', 'files': ['devstack/settings'], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/fbd780c2a1be6f7d0036da0cef4fd632b153e641', 'message': 'Use mysqlconnector as the sqlalchemy driver\n\nThis allows us to avoid the deadlocking issue seen with MySQLdb:\n\nhttps://blueprints.launchpad.net/neutron/+spec/switch-to-mysql-connector\n\nChange-Id: I2b80aaa74e78f80cdba7c5ad3c06984ddabba443\n'}]",0,182525,fbd780c2a1be6f7d0036da0cef4fd632b153e641,8,2,2,8837,,,0,"Use mysqlconnector as the sqlalchemy driver

This allows us to avoid the deadlocking issue seen with MySQLdb:

https://blueprints.launchpad.net/neutron/+spec/switch-to-mysql-connector

Change-Id: I2b80aaa74e78f80cdba7c5ad3c06984ddabba443
",git fetch https://review.opendev.org/openstack/networking-midonet refs/changes/25/182525/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/settings'],1,7de8553e7ec19a5732c87710da52b2480d814dee,bp/s,SQLALCHEMY_DATABASE_DRIVER='mysqlconnector',,1,0
openstack%2Ftrove~master~I378878a2e3129c2d694695fbe3bb4174826386be,openstack/trove,master,I378878a2e3129c2d694695fbe3bb4174826386be,Fix leaked mocks in the 'common' module if any,MERGED,2015-05-06 19:22:15.000000000,2015-05-13 12:21:49.000000000,2015-05-13 12:21:47.000000000,"[{'_account_id': 3}, {'_account_id': 5293}, {'_account_id': 7806}, {'_account_id': 9664}, {'_account_id': 9782}, {'_account_id': 14576}]","[{'number': 1, 'created': '2015-05-06 19:22:15.000000000', 'files': ['trove/tests/unittests/common/test_context.py', 'trove/tests/unittests/common/test_remote.py', 'trove/tests/fakes/swift.py', 'trove/tests/unittests/common/test_template.py', 'trove/tests/unittests/common/test_utils.py', 'trove/tests/unittests/common/test_wsgi.py', 'trove/tests/unittests/common/test_exception.py', 'trove/tests/unittests/common/test_pagination.py'], 'web_link': 'https://opendev.org/openstack/trove/commit/fbfc1cfab00178b423a8600a5797ecb4b31cd84b', 'message': ""Fix leaked mocks in the 'common' module if any\n\nMake all test suites in the module extend 'trove_testtools.TestCase' to\nenable dangling mock detector.\n\nChange-Id: I378878a2e3129c2d694695fbe3bb4174826386be\nPartial-Bug: 1448273\n""}]",6,180689,fbfc1cfab00178b423a8600a5797ecb4b31cd84b,16,6,1,14576,,,0,"Fix leaked mocks in the 'common' module if any

Make all test suites in the module extend 'trove_testtools.TestCase' to
enable dangling mock detector.

Change-Id: I378878a2e3129c2d694695fbe3bb4174826386be
Partial-Bug: 1448273
",git fetch https://review.opendev.org/openstack/trove refs/changes/89/180689/1 && git format-patch -1 --stdout FETCH_HEAD,"['trove/tests/unittests/common/test_context.py', 'trove/tests/unittests/common/test_remote.py', 'trove/tests/fakes/swift.py', 'trove/tests/unittests/common/test_template.py', 'trove/tests/unittests/common/test_utils.py', 'trove/tests/unittests/common/test_wsgi.py', 'trove/tests/unittests/common/test_exception.py', 'trove/tests/unittests/common/test_pagination.py']",8,fbfc1cfab00178b423a8600a5797ecb4b31cd84b,bug/1448273,from trove.tests.unittests import trove_testtools class TestPaginatedDataView(trove_testtools.TestCase):, import testtools class TestPaginatedDataView(testtools.TestCase):,277,237
openstack%2Fxstatic-angular-fileupload~master~Ia92e2638392f3750e0bbd6b83ec3bc8a28dfd343,openstack/xstatic-angular-fileupload,master,Ia92e2638392f3750e0bbd6b83ec3bc8a28dfd343,Adds missing LICENSE file,MERGED,2015-05-13 07:41:22.000000000,2015-05-13 12:19:46.000000000,2015-05-13 12:19:45.000000000,"[{'_account_id': 3}, {'_account_id': 4264}, {'_account_id': 5623}, {'_account_id': 7976}]","[{'number': 1, 'created': '2015-05-13 07:41:22.000000000', 'files': ['.gitreview', 'xstatic/pkg/angular_fileupload/__init__.py', 'LICENCE'], 'web_link': 'https://opendev.org/openstack/xstatic-angular-fileupload/commit/c5b8b98c82f251f82f6c9a9de479b62dec8e77ea', 'message': ""Adds missing LICENSE file\n\nThe MIT license imposes to reproduce the MIT license, and\nthe xstatic-angular-fileupload package didn't do that.\nThis patch adds the missing LICENSE file, so that we\naren't doing anything illegal anymore.\n\nAlso bumps release in xstatic/pkg/angular_fileupload/__init__.py\nso we can re-release the package in PyPi.\n\nThis patch also adds the missing gitreview file.\n\nChange-Id: Ia92e2638392f3750e0bbd6b83ec3bc8a28dfd343\n""}]",0,182559,c5b8b98c82f251f82f6c9a9de479b62dec8e77ea,8,4,1,6476,,,0,"Adds missing LICENSE file

The MIT license imposes to reproduce the MIT license, and
the xstatic-angular-fileupload package didn't do that.
This patch adds the missing LICENSE file, so that we
aren't doing anything illegal anymore.

Also bumps release in xstatic/pkg/angular_fileupload/__init__.py
so we can re-release the package in PyPi.

This patch also adds the missing gitreview file.

Change-Id: Ia92e2638392f3750e0bbd6b83ec3bc8a28dfd343
",git fetch https://review.opendev.org/openstack/xstatic-angular-fileupload refs/changes/59/182559/1 && git format-patch -1 --stdout FETCH_HEAD,"['.gitreview', 'xstatic/pkg/angular_fileupload/__init__.py', 'LICENCE']",3,c5b8b98c82f251f82f6c9a9de479b62dec8e77ea,,"File: * Copyright: (c) 2015, Jordan OMara <jsomara@gmail.com> License: Expat File: xstatic/pkg/angular_fileupload/data/angular-file-upload.js Copyright: (c) Danial <danial.farid@gmail.com> License: Expat License: Expat Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the ""Software""), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions: . The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software. . THE SOFTWARE IS PROVIDED ""AS IS"", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE. ",,33,1
openstack%2Ffuel-library~master~Ie836a4aa65e4a4c19c2ad7540a0fb0572d14f846,openstack/fuel-library,master,Ie836a4aa65e4a4c19c2ad7540a0fb0572d14f846,Pass -x to pgrep to ensure strict pattern matching,MERGED,2015-05-13 09:03:15.000000000,2015-05-13 12:14:13.000000000,2015-05-13 12:13:36.000000000,"[{'_account_id': 3}, {'_account_id': 6926}, {'_account_id': 8786}, {'_account_id': 8971}, {'_account_id': 11090}, {'_account_id': 14188}, {'_account_id': 14774}]","[{'number': 1, 'created': '2015-05-13 09:03:15.000000000', 'files': ['deployment/puppet/openstack/files/logrotate-ubuntu', 'deployment/puppet/openstack/files/logrotate'], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/c8702d93371e138e8ed362cf25e959ce960d79f3', 'message': ""Pass -x to pgrep to ensure strict pattern matching\n\nWithout the -x flag, 'pgrep logrotate' matches both 'logrotate' and\n'fuel-logrotate', causing the script to exit too soon to do the actual\nlog rotation.\n\nChange-Id: Ie836a4aa65e4a4c19c2ad7540a0fb0572d14f846\nCloses-Bug: 1382515\n""}]",0,182579,c8702d93371e138e8ed362cf25e959ce960d79f3,37,7,1,13948,,,0,"Pass -x to pgrep to ensure strict pattern matching

Without the -x flag, 'pgrep logrotate' matches both 'logrotate' and
'fuel-logrotate', causing the script to exit too soon to do the actual
log rotation.

Change-Id: Ie836a4aa65e4a4c19c2ad7540a0fb0572d14f846
Closes-Bug: 1382515
",git fetch https://review.opendev.org/openstack/fuel-library refs/changes/79/182579/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/puppet/openstack/files/logrotate', 'deployment/puppet/openstack/files/logrotate-ubuntu']",2,c8702d93371e138e8ed362cf25e959ce960d79f3,bug/1382515,if ! pgrep -x logrotate &>/dev/null; then,if ! pgrep logrotate &>/dev/null; then,2,2
openstack%2Ftempest~master~Ice006bc5238edb072a9556559b467804d4604d49,openstack/tempest,master,Ice006bc5238edb072a9556559b467804d4604d49,Switch all uses of iteritems to use six instead,MERGED,2015-04-23 15:23:20.000000000,2015-05-13 12:09:02.000000000,2015-05-11 06:35:11.000000000,"[{'_account_id': 3}, {'_account_id': 1192}, {'_account_id': 5196}, {'_account_id': 5803}, {'_account_id': 6167}, {'_account_id': 7020}, {'_account_id': 10385}]","[{'number': 1, 'created': '2015-04-23 15:23:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/f495de81870d085373bee462d02c0f74a637b87e', 'message': 'Switch all uses of iteritems to use six instead\n\nThis commit switches all of the uses of iteritems in tempest to use\nsix.iteritems() instead so it can be run using python2 or python3.\n\nChange-Id: Ice006bc5238edb072a9556559b467804d4604d49\n'}, {'number': 2, 'created': '2015-04-23 16:00:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/f3c266b12e266071f49df76172d1b7a8101c697e', 'message': 'Switch all uses of iteritems to use six instead\n\nThis commit switches all of the uses of iteritems in tempest to use\nsix.iteritems() instead so it can be run using python2 or python3.\n\nChange-Id: Ice006bc5238edb072a9556559b467804d4604d49\n'}, {'number': 3, 'created': '2015-04-24 14:57:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/95e3b83b37a6a2925dab4accdaad43546f98a6a4', 'message': 'Switch all uses of iteritems to use six instead\n\nThis commit switches all of the uses of iteritems in tempest to use\nsix.iteritems() instead so it can be run using python2 or python3.\n\nChange-Id: Ice006bc5238edb072a9556559b467804d4604d49\n'}, {'number': 4, 'created': '2015-04-27 14:39:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/8dbb7983aa352b4b8fcda2fce9e60b0240a59917', 'message': 'Switch all uses of iteritems to use six instead\n\nThis commit switches all of the uses of iteritems in tempest to use\nsix.iteritems() instead so it can be run using python2 or python3.\n\nChange-Id: Ice006bc5238edb072a9556559b467804d4604d49\n'}, {'number': 5, 'created': '2015-05-01 21:34:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/5c4a97612f885178385b05d09da2a7da549d03ae', 'message': 'Switch all uses of iteritems to use six instead\n\nThis commit switches all of the uses of iteritems in tempest to use\nsix.iteritems() instead so it can be run using python2 or python3.\n\nChange-Id: Ice006bc5238edb072a9556559b467804d4604d49\n'}, {'number': 6, 'created': '2015-05-10 17:08:13.000000000', 'files': ['tempest/api/network/test_fwaas_extensions.py', 'tempest/api/network/admin/test_quotas.py', 'tempest/services/object_storage/object_client.py', 'tempest/scenario/manager.py', 'tempest/api/baremetal/admin/test_chassis.py', 'tempest/api/network/test_networks.py', 'tempest/scenario/test_network_v6.py', 'tempest/common/generator/valid_generator.py', 'tempest/api/network/test_dhcp_ipv6.py', 'tempest/api/network/test_routers.py', 'tempest/cmd/javelin.py', 'tempest/api/volume/admin/test_volume_quotas.py', 'tempest/tests/negative/test_negative_generators.py', 'tempest/api/network/test_load_balancer.py', 'tempest/api/network/test_vpnaas_extensions.py', 'tempest/common/generator/base_generator.py', 'tempest/common/custom_matchers.py', 'tempest/api/baremetal/admin/test_ports.py', 'tempest/stress/driver.py', 'tempest/api/compute/servers/test_server_addresses.py', 'tempest/scenario/test_load_balancer_basic.py', 'tempest/services/image/v1/json/image_client.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/7142668ee67af41fdd4183d8b9901410c20b8404', 'message': 'Switch all uses of iteritems to use six instead\n\nThis commit switches all of the uses of iteritems in tempest to use\nsix.iteritems() instead so it can be run using python2 or python3.\n\nChange-Id: Ice006bc5238edb072a9556559b467804d4604d49\n'}]",0,176815,7142668ee67af41fdd4183d8b9901410c20b8404,28,7,6,5196,,,0,"Switch all uses of iteritems to use six instead

This commit switches all of the uses of iteritems in tempest to use
six.iteritems() instead so it can be run using python2 or python3.

Change-Id: Ice006bc5238edb072a9556559b467804d4604d49
",git fetch https://review.opendev.org/openstack/tempest refs/changes/15/176815/3 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/api/network/test_fwaas_extensions.py', 'tempest/api/network/admin/test_quotas.py', 'tempest/services/object_storage/object_client.py', 'tempest/scenario/manager.py', 'tempest/api/baremetal/admin/test_chassis.py', 'tempest/api/network/test_networks.py', 'tempest/scenario/test_network_v6.py', 'tempest/common/generator/valid_generator.py', 'tempest/api/network/test_dhcp_ipv6.py', 'tempest/api/network/test_routers.py', 'tempest/cmd/javelin.py', 'tempest/api/volume/admin/test_volume_quotas.py', 'tempest/tests/negative/test_negative_generators.py', 'tempest/api/network/test_load_balancer.py', 'tempest/api/network/test_vpnaas_extensions.py', 'tempest/common/generator/base_generator.py', 'tempest/common/custom_matchers.py', 'tempest/api/baremetal/admin/test_ports.py', 'tempest/stress/driver.py', 'tempest/api/compute/servers/test_server_addresses.py', 'tempest/scenario/test_load_balancer_basic.py', 'tempest/services/image/v1/json/image_client.py']",22,f495de81870d085373bee462d02c0f74a637b87e,python3-support,"import six for key, value in six.iteritems(headers): for key, value in six.iteritems(fields_copy.pop('properties', {})): for key, value in six.iteritems(fields_copy.pop('api', {})): for key, value in six.iteritems(fields_copy):"," for key, value in headers.iteritems(): for key, value in fields_copy.pop('properties', {}).iteritems(): for key, value in fields_copy.pop('api', {}).iteritems(): for key, value in fields_copy.iteritems():",61,40
openstack%2Ffuel-qa~master~I060b6f87724b26110b0d1d8eb64e1e3f41923afc,openstack/fuel-qa,master,I060b6f87724b26110b0d1d8eb64e1e3f41923afc,Respect network type in upgrade_ha_one_controller_env test,MERGED,2015-05-13 11:59:35.000000000,2015-05-13 12:08:28.000000000,2015-05-13 12:08:27.000000000,"[{'_account_id': 3}, {'_account_id': 6719}, {'_account_id': 8882}, {'_account_id': 8971}, {'_account_id': 10136}, {'_account_id': 11081}, {'_account_id': 11969}, {'_account_id': 12867}, {'_account_id': 14057}, {'_account_id': 14708}]","[{'number': 1, 'created': '2015-05-13 11:59:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-qa/commit/193557840e53be461379928380d2bcec6c3d01c7', 'message': 'Respect network type in upgrade_ha_one_controller_env test\n\nRespect different types of networks when checking services is up\nafter deployment in test upgrade_ha_one_controller_env test.\nShould wait for 2 networks if neutron enabled instead of 1 when\nnova used.\n\nChange-Id: I060b6f87724b26110b0d1d8eb64e1e3f41923afc\nRelated-Bug: #1453246\n'}, {'number': 2, 'created': '2015-05-13 12:00:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-qa/commit/a3dd4eb7ca943e9b7c016147cebc300850ca53fb', 'message': 'Respect network type in upgrade_ha_one_controller_env test\n\nRespect different types of networks when checking services is up\nafter deployment in test upgrade_ha_one_controller_env test.\nShould wait for 2 networks if neutron enabled instead of 1 when\nnova used.\n\nChange-Id: I060b6f87724b26110b0d1d8eb64e1e3f41923afc\nCloses-Bug: #1453246\n'}, {'number': 3, 'created': '2015-05-13 12:02:20.000000000', 'files': ['fuelweb_test/tests/test_upgrade.py'], 'web_link': 'https://opendev.org/openstack/fuel-qa/commit/1909183b74aebd605efe50e8020ed73cb4d45198', 'message': 'Respect network type in upgrade_ha_one_controller_env test\n\nRespect different types of networks when checking services is up\nafter deployment in test upgrade_ha_one_controller_env test.\nShould wait for 2 networks if neutron enabled instead of 1 when\nnova used.\n\nChange-Id: I060b6f87724b26110b0d1d8eb64e1e3f41923afc\nCloses-Bug: #1453246\n'}]",0,182636,1909183b74aebd605efe50e8020ed73cb4d45198,19,10,3,14708,,,0,"Respect network type in upgrade_ha_one_controller_env test

Respect different types of networks when checking services is up
after deployment in test upgrade_ha_one_controller_env test.
Should wait for 2 networks if neutron enabled instead of 1 when
nova used.

Change-Id: I060b6f87724b26110b0d1d8eb64e1e3f41923afc
Closes-Bug: #1453246
",git fetch https://review.opendev.org/openstack/fuel-qa refs/changes/36/182636/1 && git format-patch -1 --stdout FETCH_HEAD,['fuelweb_test/tests/test_upgrade.py'],1,193557840e53be461379928380d2bcec6c3d01c7,bug/1453246," self.fuel_web.assert_cluster_ready(os_conn, smiles_count=7 if hlp_data.NEUTRON_ENABLE else 10, networks_count=2 if hlp_data.NEUTRON_ENABLE else 1, timeout=300)"," self.fuel_web.assert_cluster_ready( os_conn, smiles_count=7 if hlp_data.NEUTRON_ENABLE else 10, networks_count=1, timeout=300)",4,3
openstack%2Fos-cloud-config~master~Ie38d3186b45fe00e0577f4b0f8b6a971edb9827d,openstack/os-cloud-config,master,Ie38d3186b45fe00e0577f4b0f8b6a971edb9827d,Remove pxe_ prefix from deploy_ramdisk and deploy_kernel params,MERGED,2015-05-08 10:35:10.000000000,2015-05-13 12:02:11.000000000,2015-05-13 12:02:09.000000000,"[{'_account_id': 3}, {'_account_id': 1926}, {'_account_id': 6773}, {'_account_id': 8042}, {'_account_id': 9369}]","[{'number': 1, 'created': '2015-05-08 10:35:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-cloud-config/commit/7091701b125c1f5e32577155a622a862b18bf6fa', 'message': 'Remove pxe_ prefix from deploy_ramdisk and deploy_kernel params\n\nChange-Id: Ie38d3186b45fe00e0577f4b0f8b6a971edb9827d\nCloses-Bug: 1453076\nRelated-To: I0727126770e6c79c898560a34e91a10686696d82\n'}, {'number': 2, 'created': '2015-05-08 10:41:51.000000000', 'files': ['os_cloud_config/nodes.py', 'os_cloud_config/tests/test_nodes.py'], 'web_link': 'https://opendev.org/openstack/os-cloud-config/commit/d3168fe6fdb4be891f44636c66225ce73ecd39a2', 'message': 'Remove pxe_ prefix from deploy_ramdisk and deploy_kernel params\n\nCo-Authored-By: Steve Kowalik <steven@wedontsleep.org>\nCo-Authored-By: Lucas Alvares Gomes <lucasagomes@gmail.com>\n\nChange-Id: Ie38d3186b45fe00e0577f4b0f8b6a971edb9827d\nCloses-Bug: 1453076\nRelated-To: I0727126770e6c79c898560a34e91a10686696d82\n'}]",0,181354,d3168fe6fdb4be891f44636c66225ce73ecd39a2,12,5,2,6796,,,0,"Remove pxe_ prefix from deploy_ramdisk and deploy_kernel params

Co-Authored-By: Steve Kowalik <steven@wedontsleep.org>
Co-Authored-By: Lucas Alvares Gomes <lucasagomes@gmail.com>

Change-Id: Ie38d3186b45fe00e0577f4b0f8b6a971edb9827d
Closes-Bug: 1453076
Related-To: I0727126770e6c79c898560a34e91a10686696d82
",git fetch https://review.opendev.org/openstack/os-cloud-config refs/changes/54/181354/1 && git format-patch -1 --stdout FETCH_HEAD,"['os_cloud_config/nodes.py', 'os_cloud_config/tests/test_nodes.py']",2,7091701b125c1f5e32577155a622a862b18bf6fa,bug/1453076," ""deploy_kernel"": ""kernel-abc"", ""deploy_ramdisk"": ""ramdisk-foo""} ""deploy_kernel"": ""kernel-123"", ""deploy_ramdisk"": ""ramdisk-999""}"," ""pxe_deploy_kernel"": ""kernel-abc"", ""pxe_deploy_ramdisk"": ""ramdisk-foo""} ""pxe_deploy_kernel"": ""kernel-123"", ""pxe_deploy_ramdisk"": ""ramdisk-999""}",6,6
openstack%2Fapp-catalog~master~Id067c26ed36cb19806bdc9b16b53f3e521e1b433,openstack/app-catalog,master,Id067c26ed36cb19806bdc9b16b53f3e521e1b433,Add OpenStack Foundation GA code,MERGED,2015-05-12 22:44:06.000000000,2015-05-13 12:00:26.000000000,2015-05-13 12:00:14.000000000,"[{'_account_id': 3}, {'_account_id': 7225}, {'_account_id': 8443}, {'_account_id': 16145}]","[{'number': 1, 'created': '2015-05-12 22:44:06.000000000', 'files': ['openstack_catalog/web/index.html'], 'web_link': 'https://opendev.org/openstack/app-catalog/commit/aa21b5fa9b919ac47310412ceb18c44c63bd90db', 'message': 'Add OpenStack Foundation GA code\n\nOpenStack Foundation has a Google Analytics\ncode which they would like used for this site.\nThis commit adds their GA code.\n\nChange-Id: Id067c26ed36cb19806bdc9b16b53f3e521e1b433\nCloses-Bug: #1454430\n'}]",0,182484,aa21b5fa9b919ac47310412ceb18c44c63bd90db,8,4,1,9788,,,0,"Add OpenStack Foundation GA code

OpenStack Foundation has a Google Analytics
code which they would like used for this site.
This commit adds their GA code.

Change-Id: Id067c26ed36cb19806bdc9b16b53f3e521e1b433
Closes-Bug: #1454430
",git fetch https://review.opendev.org/openstack/app-catalog refs/changes/84/182484/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack_catalog/web/index.html'],1,aa21b5fa9b919ac47310412ceb18c44c63bd90db,bug/1454430," <script> (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){ (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o), m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m) })(window,document,'script','//www.google-analytics.com/analytics.js','ga'); ga('create', 'UA-17511903-1', 'auto'); ga('send', 'pageview'); </script>",,8,1
openstack%2Ffuel-main~master~Ie75538b92af9fdda0078a0a35799da5cde313fa5,openstack/fuel-main,master,Ie75538b92af9fdda0078a0a35799da5cde313fa5,Ignore time shifts in e2fsck on bootstrap,MERGED,2015-05-13 09:23:05.000000000,2015-05-13 11:56:10.000000000,2015-05-13 11:56:09.000000000,"[{'_account_id': 3}, {'_account_id': 3009}, {'_account_id': 8789}, {'_account_id': 8971}, {'_account_id': 13194}]","[{'number': 1, 'created': '2015-05-13 09:23:05.000000000', 'files': ['bootstrap/sync/etc/e2fsck.conf'], 'web_link': 'https://opendev.org/openstack/fuel-main/commit/b1df628b0d8d77d6baf8dad1fead812b6e26f0e7', 'message': 'Ignore time shifts in e2fsck on bootstrap\n\nAdded /etc/e2fsck.conf with ignoring of problems related with\ntime shifts between Fuel Master and bootstraped nodes.\n\nIgnoring two problems:\n * PR_0_FUTURE_SB_LAST_WRITE (0x000032) - Last write time is in the future\n * PR_0_FUTURE_SB_LAST_MOUNT (0x000031) - Last mount time is in the future\n\nChange-Id: Ie75538b92af9fdda0078a0a35799da5cde313fa5\nCloses-Bug: #1452277\n'}]",0,182587,b1df628b0d8d77d6baf8dad1fead812b6e26f0e7,10,5,1,12200,,,0,"Ignore time shifts in e2fsck on bootstrap

Added /etc/e2fsck.conf with ignoring of problems related with
time shifts between Fuel Master and bootstraped nodes.

Ignoring two problems:
 * PR_0_FUTURE_SB_LAST_WRITE (0x000032) - Last write time is in the future
 * PR_0_FUTURE_SB_LAST_MOUNT (0x000031) - Last mount time is in the future

Change-Id: Ie75538b92af9fdda0078a0a35799da5cde313fa5
Closes-Bug: #1452277
",git fetch https://review.opendev.org/openstack/fuel-main refs/changes/87/182587/1 && git format-patch -1 --stdout FETCH_HEAD,['bootstrap/sync/etc/e2fsck.conf'],1,b1df628b0d8d77d6baf8dad1fead812b6e26f0e7,bug/1452277,[problems] # Superblock last mount time is in the future (PR_0_FUTURE_SB_LAST_MOUNT). 0x000031 = { preen_ok = true preen_nomessage = true } # Superblock last write time is in the future (PR_0_FUTURE_SB_LAST_WRITE). 0x000032 = { preen_ok = true preen_nomessage = true } ,,13,0
openstack%2Ftempest~master~I7ae3886d89d4f51e3ad50774acb0bd3d7bd2d20b,openstack/tempest,master,I7ae3886d89d4f51e3ad50774acb0bd3d7bd2d20b,Trim object storage smoke tests to a small set,MERGED,2015-05-01 21:22:23.000000000,2015-05-13 11:52:05.000000000,2015-05-11 09:19:49.000000000,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 5803}, {'_account_id': 7020}, {'_account_id': 7217}, {'_account_id': 10385}]","[{'number': 1, 'created': '2015-05-01 21:22:23.000000000', 'files': ['tempest/api/object_storage/test_object_services.py', 'tempest/api/object_storage/test_container_acl.py', 'tempest/api/object_storage/test_object_version.py', 'tempest/api/object_storage/test_account_services.py', 'tempest/api/object_storage/test_container_services.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/35fb99db3580985eb98e19898f4d05cb7ffe7feb', 'message': 'Trim object storage smoke tests to a small set\n\nChange-Id: I7ae3886d89d4f51e3ad50774acb0bd3d7bd2d20b\n'}]",0,179511,35fb99db3580985eb98e19898f4d05cb7ffe7feb,13,6,1,1192,,,0,"Trim object storage smoke tests to a small set

Change-Id: I7ae3886d89d4f51e3ad50774acb0bd3d7bd2d20b
",git fetch https://review.opendev.org/openstack/tempest refs/changes/11/179511/1 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/api/object_storage/test_object_services.py', 'tempest/api/object_storage/test_container_acl.py', 'tempest/api/object_storage/test_object_version.py', 'tempest/api/object_storage/test_account_services.py', 'tempest/api/object_storage/test_container_services.py']",5,35fb99db3580985eb98e19898f4d05cb7ffe7feb,trim-smoke,, @test.attr(type='smoke') @test.attr(type='smoke') @test.attr(type='smoke') @test.attr(type='smoke') @test.attr(type='smoke') @test.attr(type='smoke') @test.attr(type='smoke') @test.attr(type='smoke') @test.attr(type='smoke') @test.attr(type='smoke') @test.attr(type='smoke') @test.attr(type='smoke') @test.attr(type='smoke') @test.attr(type='smoke') @test.attr(type='smoke') @test.attr(type='smoke') @test.attr(type='smoke') @test.attr(type='smoke') @test.attr(type='smoke') @test.attr(type='smoke') @test.attr(type='smoke'),1,62
openstack%2Fironic~master~Id1e1cdbb03e35b3e7f3170a128820b589c066dad,openstack/ironic,master,Id1e1cdbb03e35b3e7f3170a128820b589c066dad,Updated from global requirements,MERGED,2015-05-07 23:31:18.000000000,2015-05-13 11:41:26.000000000,2015-05-13 11:41:24.000000000,"[{'_account_id': 3}, {'_account_id': 6610}, {'_account_id': 6618}, {'_account_id': 6773}, {'_account_id': 12081}, {'_account_id': 13997}, {'_account_id': 14760}]","[{'number': 1, 'created': '2015-05-07 23:31:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/95699addba1c1a039f5dfe39298b35b7c32d0bd3', 'message': 'Updated from global requirements\n\nChange-Id: Id1e1cdbb03e35b3e7f3170a128820b589c066dad\n'}, {'number': 2, 'created': '2015-05-11 13:58:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/70bc166bc7e5cd10bd5979b1dd419101e482a817', 'message': 'Updated from global requirements\n\nChange-Id: Id1e1cdbb03e35b3e7f3170a128820b589c066dad\n'}, {'number': 3, 'created': '2015-05-11 14:24:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/a863e28e7c924e3651b7b4ae36ff468918ef1cd3', 'message': 'Updated from global requirements\n\nChange-Id: Id1e1cdbb03e35b3e7f3170a128820b589c066dad\n'}, {'number': 4, 'created': '2015-05-11 15:49:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/f09ff486aff5eb12e75f4a1a8a2300bae0f8414a', 'message': 'Updated from global requirements\n\nChange-Id: Id1e1cdbb03e35b3e7f3170a128820b589c066dad\n'}, {'number': 5, 'created': '2015-05-12 14:29:49.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/ironic/commit/24b8ee4d38383d195b86ac5d644d8b261cdba3d5', 'message': 'Updated from global requirements\n\nChange-Id: Id1e1cdbb03e35b3e7f3170a128820b589c066dad\n'}]",0,181204,24b8ee4d38383d195b86ac5d644d8b261cdba3d5,31,7,5,11131,,,0,"Updated from global requirements

Change-Id: Id1e1cdbb03e35b3e7f3170a128820b589c066dad
",git fetch https://review.opendev.org/openstack/ironic refs/changes/04/181204/5 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,95699addba1c1a039f5dfe39298b35b7c32d0bd3,openstack/requirements,"pbr>=0.11,<2.0","pbr>=0.6,!=0.7,<1.0",1,1
openstack%2Fneutron~master~I7ee528dc04cdafa27455d5f8fd18c04c858466d8,openstack/neutron,master,I7ee528dc04cdafa27455d5f8fd18c04c858466d8,mlnx MD: mlnx_direct removal,MERGED,2015-05-09 18:03:18.000000000,2015-05-13 11:41:13.000000000,2015-05-13 11:41:11.000000000,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 4727}, {'_account_id': 5170}, {'_account_id': 6598}, {'_account_id': 6854}, {'_account_id': 8124}, {'_account_id': 8645}, {'_account_id': 9008}, {'_account_id': 9656}, {'_account_id': 9681}, {'_account_id': 9682}, {'_account_id': 9732}, {'_account_id': 9787}, {'_account_id': 9845}, {'_account_id': 10116}, {'_account_id': 10117}, {'_account_id': 10121}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10386}, {'_account_id': 10387}, {'_account_id': 12171}, {'_account_id': 14208}, {'_account_id': 14212}, {'_account_id': 14213}, {'_account_id': 14214}, {'_account_id': 14215}, {'_account_id': 14216}, {'_account_id': 14323}, {'_account_id': 14571}, {'_account_id': 15296}, {'_account_id': 15444}, {'_account_id': 15752}]","[{'number': 1, 'created': '2015-05-09 18:03:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/aecdf6e5e49ab2c86a0759c8a4081725d967c9cb', 'message': 'mlnx MD: mlnx_direct removal\n\nmlnx_direct is deprecated from Juno release. sriov-nic-switch\nwith macvtap port it the replacement for it.\nThis patch remove the mlnx_direct from mlnx MD.\n\nPartial-Bug: #1453410\n\nChange-Id: I7ee528dc04cdafa27455d5f8fd18c04c858466d8\n'}, {'number': 2, 'created': '2015-05-11 08:38:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ae028f6f659c4e7b40fe25b70f49e2b685056a36', 'message': 'mlnx MD: mlnx_direct removal\n\nmlnx_direct is deprecated from Juno release. sriov-nic-switch\nwith macvtap port is the replacement for it.\nThis patch removes the mlnx_direct from mlnx MD and\nfrom the supported vif_types.\n\nPartial-Bug: #1453410\n\nChange-Id: I7ee528dc04cdafa27455d5f8fd18c04c858466d8\n'}, {'number': 3, 'created': '2015-05-12 09:44:59.000000000', 'files': ['neutron/tests/unit/plugins/ml2/drivers/mlnx/test_mech_mlnx.py', 'neutron/extensions/portbindings.py', 'neutron/plugins/ml2/drivers/mlnx/mech_mlnx.py', 'setup.cfg', 'etc/neutron/plugins/ml2/ml2_conf_mlnx.ini', 'neutron/plugins/ml2/drivers/mlnx/config.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/3488559abaaffe28b0831689288938261a458adc', 'message': 'mlnx MD: mlnx_direct removal\n\nmlnx_direct is deprecated from Juno release. sriov-nic-switch\nwith macvtap port is the replacement for it.\nThis patch removes the mlnx_direct from mlnx MD and\nfrom the supported vif_types.\n\nCloses-Bug: #1453410\n\nChange-Id: I7ee528dc04cdafa27455d5f8fd18c04c858466d8\n'}]",15,181672,3488559abaaffe28b0831689288938261a458adc,107,34,3,12171,,,0,"mlnx MD: mlnx_direct removal

mlnx_direct is deprecated from Juno release. sriov-nic-switch
with macvtap port is the replacement for it.
This patch removes the mlnx_direct from mlnx MD and
from the supported vif_types.

Closes-Bug: #1453410

Change-Id: I7ee528dc04cdafa27455d5f8fd18c04c858466d8
",git fetch https://review.opendev.org/openstack/neutron refs/changes/72/181672/3 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/plugins/ml2/drivers/mlnx/test_mech_mlnx.py', 'neutron/extensions/portbindings.py', 'neutron/plugins/ml2/drivers/mlnx/mech_mlnx.py', 'setup.cfg', 'etc/neutron/plugins/ml2/ml2_conf_mlnx.ini', 'neutron/plugins/ml2/drivers/mlnx/config.py']",6,aecdf6e5e49ab2c86a0759c8a4081725d967c9cb,bug/1453410,,"# Copyright (c) 2014 OpenStack Foundation # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or # implied. # See the License for the specific language governing permissions and # limitations under the License. from oslo_config import cfg from neutron.extensions import portbindings eswitch_opts = [ cfg.StrOpt('vnic_type', default=portbindings.VIF_TYPE_MLNX_DIRECT, help=_(""Type of VM network interface: mlnx_direct or "" ""hostdev"")), ] cfg.CONF.register_opts(eswitch_opts, ""ESWITCH"") ",12,64
openstack%2Fdevstack~master~I3e7ac39eb43cdc4f656e0c90f3bfb23545722aef,openstack/devstack,master,I3e7ac39eb43cdc4f656e0c90f3bfb23545722aef,Add python_version function to functions-common,MERGED,2015-05-12 13:42:43.000000000,2015-05-13 11:41:08.000000000,2015-05-13 11:41:06.000000000,"[{'_account_id': 3}, {'_account_id': 1653}, {'_account_id': 1669}, {'_account_id': 7020}, {'_account_id': 7118}, {'_account_id': 8871}, {'_account_id': 11564}, {'_account_id': 13252}]","[{'number': 1, 'created': '2015-05-12 13:42:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/2c438160aba21e77e933e7b78bca546db6be5198', 'message': 'Add python_version function to functions-common\n\nThis makes it possible to list virtual site-package directories\nwithout statically stating the python version, which is a bit ugly.\n\nChange-Id: I3e7ac39eb43cdc4f656e0c90f3bfb23545722aef\n'}, {'number': 2, 'created': '2015-05-12 14:47:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/bdb70c4d6d3f7963603edb85717dae91be6c33fb', 'message': 'Add python_version function to functions-common\n\nThis makes it possible to list virtual site-package directories\nwithout statically stating the python version, which is a bit ugly.\n\nChange-Id: I3e7ac39eb43cdc4f656e0c90f3bfb23545722aef\n'}, {'number': 3, 'created': '2015-05-12 18:30:46.000000000', 'files': ['lib/nova', 'functions-common', 'lib/keystone'], 'web_link': 'https://opendev.org/openstack/devstack/commit/3a2c86aabfa985dbdc998f02201649f49f3adab7', 'message': 'Add python_version function to functions-common\n\nThis makes it possible to list virtual site-package directories\nwithout statically stating the python version, which is a bit ugly.\n\nChange-Id: I3e7ac39eb43cdc4f656e0c90f3bfb23545722aef\n'}]",7,182296,3a2c86aabfa985dbdc998f02201649f49f3adab7,29,8,3,11564,,,0,"Add python_version function to functions-common

This makes it possible to list virtual site-package directories
without statically stating the python version, which is a bit ugly.

Change-Id: I3e7ac39eb43cdc4f656e0c90f3bfb23545722aef
",git fetch https://review.opendev.org/openstack/devstack refs/changes/96/182296/1 && git format-patch -1 --stdout FETCH_HEAD,"['lib/nova', 'functions-common', 'lib/keystone']",3,2c438160aba21e77e933e7b78bca546db6be5198,cd/calculate-python-version," venv_path=""python-path=${PROJECT_VENV[""keystone""]}/lib/$(python_version)/site-packages"""," venv_path=""python-path=${PROJECT_VENV[""keystone""]}/lib/python2.7/site-packages""",9,2
openstack%2Fswift~master~I4bf43bb3828e062c0342557243076ed62d6790f4,openstack/swift,master,I4bf43bb3828e062c0342557243076ed62d6790f4,Remove 1 line of dead code from EC reconstructor,MERGED,2015-05-12 22:22:12.000000000,2015-05-13 11:40:49.000000000,2015-05-13 11:40:48.000000000,"[{'_account_id': 3}, {'_account_id': 597}, {'_account_id': 7847}, {'_account_id': 16206}]","[{'number': 1, 'created': '2015-05-12 22:22:12.000000000', 'files': ['swift/obj/reconstructor.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/518262ab6ecd8faa2b915df118ffc70a30112a18', 'message': 'Remove 1 line of dead code from EC reconstructor\n\nAssuming nobody intentionally left this in here for some reason...\n\nChange-Id: I4bf43bb3828e062c0342557243076ed62d6790f4\n'}]",0,182479,518262ab6ecd8faa2b915df118ffc70a30112a18,9,4,1,7479,,,0,"Remove 1 line of dead code from EC reconstructor

Assuming nobody intentionally left this in here for some reason...

Change-Id: I4bf43bb3828e062c0342557243076ed62d6790f4
",git fetch https://review.opendev.org/openstack/swift refs/changes/79/182479/1 && git format-patch -1 --stdout FETCH_HEAD,['swift/obj/reconstructor.py'],1,518262ab6ecd8faa2b915df118ffc70a30112a18,,, headers['X-Backend-Node-Index'] = node['index'],0,1
openstack%2Ftrove~master~Icfc81966608ace049fceef260ec2b18d9e3570bb,openstack/trove,master,Icfc81966608ace049fceef260ec2b18d9e3570bb,Updated glance API for creating public image,MERGED,2015-05-12 09:22:45.000000000,2015-05-13 11:40:41.000000000,2015-05-13 11:40:39.000000000,"[{'_account_id': 3}, {'_account_id': 1870}, {'_account_id': 5293}, {'_account_id': 6413}, {'_account_id': 7806}, {'_account_id': 10440}, {'_account_id': 11105}, {'_account_id': 14576}]","[{'number': 1, 'created': '2015-05-12 09:22:45.000000000', 'files': ['doc/source/dev/manual_install.rst'], 'web_link': 'https://opendev.org/openstack/trove/commit/7e08ba6f47a4aea9699f8204d4ea5dfc786d115a', 'message': 'Updated glance API for creating public image\n\nThe glance command line parameter changed from\n--public to --is-public {True|False}. Updated it in\ndocumentation\n\nChange-Id: Icfc81966608ace049fceef260ec2b18d9e3570bb\n'}]",0,182204,7e08ba6f47a4aea9699f8204d4ea5dfc786d115a,13,8,1,11105,,,0,"Updated glance API for creating public image

The glance command line parameter changed from
--public to --is-public {True|False}. Updated it in
documentation

Change-Id: Icfc81966608ace049fceef260ec2b18d9e3570bb
",git fetch https://review.opendev.org/openstack/trove refs/changes/04/182204/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/dev/manual_install.rst'],1,7e08ba6f47a4aea9699f8204d4ea5dfc786d115a,, image-create --name trove-image --is-public true --container-format ovf --disk-format qcow2 --owner trove < precise.qcow2, image-create --name trove-image --public --container-format ovf --disk-format qcow2 --owner trove < precise.qcow2,1,1
openstack%2Ffuel-library~master~I3491392ff401fe65220593f47a66840f42eb4e30,openstack/fuel-library,master,I3491392ff401fe65220593f47a66840f42eb4e30,"Increase MTU for interfaces, veth-pairs and bridges",MERGED,2015-05-08 14:04:20.000000000,2015-05-13 11:32:18.000000000,2015-05-13 11:31:36.000000000,"[{'_account_id': 3}, {'_account_id': 5950}, {'_account_id': 7604}, {'_account_id': 8786}, {'_account_id': 8971}, {'_account_id': 14774}]","[{'number': 1, 'created': '2015-05-08 14:04:20.000000000', 'files': ['deployment/puppet/osnailyfacter/modular/openstack-network/openstack-network-compute.pp'], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/cd6768ca9f4193f306ee53a0a653ba9f6f26a5f8', 'message': 'Increase MTU for interfaces, veth-pairs and bridges\n\nThat nova-compute creates automatically,\nbefore start instance.\n\nChange-Id: I3491392ff401fe65220593f47a66840f42eb4e30\nRelated-bug: #1453145\n'}]",0,181397,cd6768ca9f4193f306ee53a0a653ba9f6f26a5f8,24,6,1,7468,,,0,"Increase MTU for interfaces, veth-pairs and bridges

That nova-compute creates automatically,
before start instance.

Change-Id: I3491392ff401fe65220593f47a66840f42eb4e30
Related-bug: #1453145
",git fetch https://review.opendev.org/openstack/fuel-library refs/changes/97/181397/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/puppet/osnailyfacter/modular/openstack-network/openstack-network-compute.pp'],1,cd6768ca9f4193f306ee53a0a653ba9f6f26a5f8,bug/1453145, 'DEFAULT/network_device_mtu': value => '65000';,,1,0
openstack%2Fpuppet-cinder~master~I26d120a8d59ffa46958717c44e0bf4a69b73a279,openstack/puppet-cinder,master,I26d120a8d59ffa46958717c44e0bf4a69b73a279,Add minitest gem,ABANDONED,2015-05-07 11:46:34.000000000,2015-05-13 11:23:26.000000000,,"[{'_account_id': 3}, {'_account_id': 9410}]","[{'number': 1, 'created': '2015-05-07 11:46:34.000000000', 'files': ['Gemfile'], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/39d2d6bf8974711c477356fe863abeac369cde28', 'message': ""Add minitest gem\n\nminitest dependency is required to run acceptance tests\non CentOS without rspec throwing exception:\n/usr/share/ruby/test/unit/assertions.rb:1:\n    in `require': cannot load such file -- minitest/unit (LoadError)\n\nChange-Id: I26d120a8d59ffa46958717c44e0bf4a69b73a279\nCloses-bug: #1444736\n""}]",0,180957,39d2d6bf8974711c477356fe863abeac369cde28,5,2,1,5241,,,0,"Add minitest gem

minitest dependency is required to run acceptance tests
on CentOS without rspec throwing exception:
/usr/share/ruby/test/unit/assertions.rb:1:
    in `require': cannot load such file -- minitest/unit (LoadError)

Change-Id: I26d120a8d59ffa46958717c44e0bf4a69b73a279
Closes-bug: #1444736
",git fetch https://review.opendev.org/openstack/puppet-cinder refs/changes/57/180957/1 && git format-patch -1 --stdout FETCH_HEAD,['Gemfile'],1,39d2d6bf8974711c477356fe863abeac369cde28,bug/1444736," gem 'minitest', '~> 4.7', :require => 'minitest/unit'",,1,0
openstack%2Fnova~master~Ie02bb74b9e9a33d18f984f9821171d91972c4f20,openstack/nova,master,Ie02bb74b9e9a33d18f984f9821171d91972c4f20,Merge migrate server tests between v2 and v2.1,MERGED,2015-04-13 05:48:57.000000000,2015-05-13 11:06:38.000000000,2015-05-12 21:31:51.000000000,"[{'_account_id': 3}, {'_account_id': 1849}, {'_account_id': 5170}, {'_account_id': 5754}, {'_account_id': 6167}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 15286}, {'_account_id': 15751}, {'_account_id': 15882}]","[{'number': 1, 'created': '2015-04-13 05:48:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d274e0bfc282537b2582f3f3e80dcfd179e8e935', 'message': 'Merge migrate server tests between v2 and v2.1\n\nCurrently v2 and v2.1 have separate functional tests and their\ncorresponding sample files. As v2 and v2.1 are supposed to be identical,\nthere is overhead to maintain two set of functional tests and sample files.\nWe can have one set of tests which can run for both v2 and v2.1.\n\nThis commit merges servers actions migrate, live migrate server\nfunctional tests.\n\nIn V2.1 os-access-ip is separate plugin where in v2 it was mixed in server\nplugin itself. So os-access-ip extension is enabled to run\nmerged functional tests for both v2 and v2.1.\n\nChange-Id: Ie02bb74b9e9a33d18f984f9821171d91972c4f20\n'}, {'number': 2, 'created': '2015-04-17 01:55:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/978e731cf837aa9469f922a5500a798923b3b055', 'message': 'Merge migrate server tests between v2 and v2.1\n\nCurrently v2 and v2.1 have separate functional tests and their\ncorresponding sample files. As v2 and v2.1 are supposed to be identical,\nthere is overhead to maintain two set of functional tests and sample files.\nWe can have one set of tests which can run for both v2 and v2.1.\n\nThis commit merges servers actions migrate, live migrate server\nfunctional tests.\n\nIn V2.1 os-access-ip is separate plugin where in v2 it was mixed in server\nplugin itself. So os-access-ip extension is enabled to run\nmerged functional tests for both v2 and v2.1.\n\nChange-Id: Ie02bb74b9e9a33d18f984f9821171d91972c4f20\n'}, {'number': 3, 'created': '2015-05-12 01:39:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/78902fc78247ec74a826e032d7aedb9fa6100c14', 'message': 'Merge migrate server tests between v2 and v2.1\n\nCurrently v2 and v2.1 have separate functional tests and their\ncorresponding sample files. As v2 and v2.1 are supposed to be identical,\nthere is overhead to maintain two set of functional tests and sample files.\nWe can have one set of tests which can run for both v2 and v2.1.\n\nThis commit merges servers actions migrate, live migrate server\nfunctional tests.\n\nIn V2.1 os-access-ip is separate plugin where in v2 it was mixed in server\nplugin itself. So os-access-ip extension is enabled to run\nmerged functional tests for both v2 and v2.1.\n\nChange-Id: Ie02bb74b9e9a33d18f984f9821171d91972c4f20\n'}, {'number': 4, 'created': '2015-05-12 06:02:16.000000000', 'files': ['doc/api_samples/os-admin-actions/admin-actions-live-migrate.json', 'doc/api_samples/os-admin-actions/admin-actions-migrate.json', 'nova/tests/functional/api_samples/os-admin-actions/admin-actions-migrate.json.tpl', 'nova/tests/functional/api_samples/os-admin-actions/admin-actions-live-migrate.json.tpl', 'nova/tests/functional/test_api_samples.py', 'nova/tests/functional/v3/test_migrate_server.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/c1517c3a926b637f9be171990c86098ba496c45a', 'message': 'Merge migrate server tests between v2 and v2.1\n\nCurrently v2 and v2.1 have separate functional tests and their\ncorresponding sample files. As v2 and v2.1 are supposed to be identical,\nthere is overhead to maintain two set of functional tests and sample files.\nWe can have one set of tests which can run for both v2 and v2.1.\n\nThis commit merges servers actions migrate, live migrate server\nfunctional tests.\n\nIn V2.1 os-access-ip is separate plugin where in v2 it was mixed in server\nplugin itself. So os-access-ip extension is enabled to run\nmerged functional tests for both v2 and v2.1.\n\nChange-Id: Ie02bb74b9e9a33d18f984f9821171d91972c4f20\n'}]",0,172792,c1517c3a926b637f9be171990c86098ba496c45a,44,12,4,8556,,,0,"Merge migrate server tests between v2 and v2.1

Currently v2 and v2.1 have separate functional tests and their
corresponding sample files. As v2 and v2.1 are supposed to be identical,
there is overhead to maintain two set of functional tests and sample files.
We can have one set of tests which can run for both v2 and v2.1.

This commit merges servers actions migrate, live migrate server
functional tests.

In V2.1 os-access-ip is separate plugin where in v2 it was mixed in server
plugin itself. So os-access-ip extension is enabled to run
merged functional tests for both v2 and v2.1.

Change-Id: Ie02bb74b9e9a33d18f984f9821171d91972c4f20
",git fetch https://review.opendev.org/openstack/nova refs/changes/92/172792/4 && git format-patch -1 --stdout FETCH_HEAD,"['doc/api_samples/os-admin-actions/admin-actions-live-migrate.json', 'doc/api_samples/os-admin-actions/admin-actions-migrate.json', 'nova/tests/functional/api_samples/os-admin-actions/admin-actions-migrate.json.tpl', 'nova/tests/functional/api_samples/os-admin-actions/admin-actions-live-migrate.json.tpl', 'nova/tests/functional/test_api_samples.py', 'nova/tests/functional/v3/test_migrate_server.py']",6,d274e0bfc282537b2582f3f3e80dcfd179e8e935,merge_sample_tests,"from oslo_config import cfgCONF = cfg.CONF CONF.import_opt('osapi_compute_extension', 'nova.api.openstack.compute.extensions') extra_extensions_to_load = [""os-access-ips""] _api_version = 'v2' def _get_flags(self): f = super(MigrateServerSamplesJsonTest, self)._get_flags() f['osapi_compute_extension'] = CONF.osapi_compute_extension[:] f['osapi_compute_extension'].append( 'nova.api.openstack.compute.contrib.admin_actions.' 'Admin_actions') return f",,15,58
openstack%2Fhorizon~master~I149276bd42845bcfd9bc18b1dd6935a97e6d6c59,openstack/horizon,master,I149276bd42845bcfd9bc18b1dd6935a97e6d6c59,Imported Translations from Transifex,MERGED,2015-05-13 06:21:32.000000000,2015-05-13 11:05:33.000000000,2015-05-13 11:05:31.000000000,"[{'_account_id': 3}, {'_account_id': 6914}, {'_account_id': 12826}]","[{'number': 1, 'created': '2015-05-13 06:21:32.000000000', 'files': ['openstack_dashboard/locale/es/LC_MESSAGES/django.po'], 'web_link': 'https://opendev.org/openstack/horizon/commit/d6e5a98cf19b7915799aac59961ff8c76d833cc1', 'message': 'Imported Translations from Transifex\n\nFor more information about this automatic import see:\nhttps://wiki.openstack.org/wiki/Translations/Infrastructure\n\nChange-Id: I149276bd42845bcfd9bc18b1dd6935a97e6d6c59\n'}]",0,182548,d6e5a98cf19b7915799aac59961ff8c76d833cc1,8,3,1,11131,,,0,"Imported Translations from Transifex

For more information about this automatic import see:
https://wiki.openstack.org/wiki/Translations/Infrastructure

Change-Id: I149276bd42845bcfd9bc18b1dd6935a97e6d6c59
",git fetch https://review.opendev.org/openstack/horizon refs/changes/48/182548/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack_dashboard/locale/es/LC_MESSAGES/django.po'],1,d6e5a98cf19b7915799aac59961ff8c76d833cc1,transifex/translations,"# Guillermo Vitas Gil <gvitgo@gmail.com>, 2015""POT-Creation-Date: 2015-05-12 02:24-0500\n"" ""PO-Revision-Date: 2015-05-12 20:56+0000\n"" ""Last-Translator: Guillermo Vitas Gil <gvitgo@gmail.com>\n""msgid ""Server Group Members"" msgstr ""Miembro del grupo de servidores"" msgid ""Server Groups"" msgstr ""Grupo de servidores"" msgid ""Backup Gigabytes"" msgstr ""Gigabytes de respaldo"" msgid ""Usage Report For Period:"" msgstr ""Informe de uso para el periodo:"" msgid ""Total Active RAM (MB):"" msgstr ""Total de RAM en uso (MB):"" msgid ""Total Memory Usage (Hours):"" msgstr ""Uso total de Memoria (Horas)"" msgid ""Static Routes"" msgstr ""Rutas estticas"" msgid ""Volume type name can not be empty."" msgstr ""EL nombre de tipo de volumen no puede estar vaco."" msgid ""Key Pair Details"" msgstr ""Detalles del par de claves"" #, python-format msgid ""Create pseudo-folder in container %(container_name)s"" msgstr ""Crear pseudo-carpeta en el contenedor %(container_name)s"" msgctxt ""Current status of a Job"" msgid ""Killed"" msgstr ""Terminado forzosamente"" msgid ""Use HBase Common library"" msgstr ""Utiliza la librera HBase Common"" msgid ""Select a plugin and version for the new Node Group template."" msgstr """" ""Seleccione un plugin y versin para una nueva plantilla de Agrupacin de "" ""Nodos"" msgid ""Create a Master Node Group Template"" msgstr ""Crear una platilla maestras de Agrupacin de Nodos"" msgid ""Master Node Group Template:"" msgstr ""Plantilla de Agrupacin de Nodos maestra:"" msgid ""No Master Node Group Template Created"" msgstr ""No se ha creado una plantilla maestra de Agrupacin de Nodos"" msgid ""Create a Worker Node Group Template"" msgstr ""Crear una plantilla de Agrupacin de Nodos Worker:"" msgid ""Worker Node Group Template:"" msgstr ""Plantilla de Agrupacin de Nodos Worker:"" msgid ""No Worker Node Group Template Created"" msgstr ""No se ha creado una plantilla de Agrupacin de Nodos Worker:"" msgid ""Add selected router(s) to the firewall."" msgstr ""Aade el/los router(s) seleccionados al cortafuegos."" msgid ""Killed"" msgstr ""Terminado forzosamente"" msgctxt ""Current status of an Image""","""POT-Creation-Date: 2015-05-08 12:21-0500\n"" ""PO-Revision-Date: 2015-05-08 17:21+0000\n"" ""Last-Translator: openstackjenkins <jenkins@openstack.org>\n""",72,3
openstack%2Fneutron~stable%2Fjuno~Ib4e9441a95d6c80b92a43d55fdeb18d7b51a1cf3,openstack/neutron,stable/juno,Ib4e9441a95d6c80b92a43d55fdeb18d7b51a1cf3,Remove locking from network and subnet delete op,MERGED,2015-04-29 15:12:55.000000000,2015-05-13 10:57:59.000000000,2015-05-13 10:57:57.000000000,"[{'_account_id': 3}, {'_account_id': 1420}, {'_account_id': 4395}, {'_account_id': 5170}, {'_account_id': 6524}, {'_account_id': 6659}, {'_account_id': 7404}, {'_account_id': 7448}, {'_account_id': 8172}, {'_account_id': 8344}, {'_account_id': 9656}, {'_account_id': 9681}, {'_account_id': 9682}, {'_account_id': 9787}, {'_account_id': 10153}, {'_account_id': 10387}, {'_account_id': 12040}, {'_account_id': 14208}, {'_account_id': 14212}, {'_account_id': 14213}, {'_account_id': 14214}, {'_account_id': 14216}, {'_account_id': 14571}, {'_account_id': 15296}, {'_account_id': 15444}]","[{'number': 1, 'created': '2015-04-29 15:12:55.000000000', 'files': ['neutron/plugins/ml2/plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/9b182285d9655a16be2d458250d6af94c7e9b074', 'message': 'Remove locking from network and subnet delete op\n\ndelete_subnet in Ml2 plugin instead of using SELECT FOR\nUPDATE deletes the IPAllocations that can be auto-deleted\nstraight away.\nAn exception is raised if there are ports that cannot be\nautodeleted.\n\ndelete_network in ML2 plugin tries to delete all ports\nand subnets before performing the network deletion.\nNo lock is needed here - if some other process modifies\nthe Port or Subnet table, adding new items, the network\ndeletion will fail because of a violation of a foreign\nkey contraint.\nIn that case the operation will be retried.\n\nChange-Id: Ib4e9441a95d6c80b92a43d55fdeb18d7b51a1cf3\nCloses-bug: #1332917\n(cherry picked from commit 532cd91fa79f6061399a1bf326a49c5e6f5ece6b)\n'}]",0,178720,9b182285d9655a16be2d458250d6af94c7e9b074,31,25,1,7404,,,0,"Remove locking from network and subnet delete op

delete_subnet in Ml2 plugin instead of using SELECT FOR
UPDATE deletes the IPAllocations that can be auto-deleted
straight away.
An exception is raised if there are ports that cannot be
autodeleted.

delete_network in ML2 plugin tries to delete all ports
and subnets before performing the network deletion.
No lock is needed here - if some other process modifies
the Port or Subnet table, adding new items, the network
deletion will fail because of a violation of a foreign
key contraint.
In that case the operation will be retried.

Change-Id: Ib4e9441a95d6c80b92a43d55fdeb18d7b51a1cf3
Closes-bug: #1332917
(cherry picked from commit 532cd91fa79f6061399a1bf326a49c5e6f5ece6b)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/20/178720/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/ml2/plugin.py'],1,9b182285d9655a16be2d458250d6af94c7e9b074,bug/1332917," # Using query().with_lockmode isn't necessary. Foreign-key # constraints prevent deletion if concurrent creation happens. filter_by(network_id=id).all()) filter_by(network_id=id).all()) qry_allocated = (session.query(models_v2.IPAllocation). filter_by(subnet_id=id). join(models_v2.Port)) is_auto_addr_subnet = ipv6_utils.is_auto_address_subnet(subnet) # Remove network owned ports, and delete IP allocations # for IPv6 addresses which were automatically generated # via SLAAC if not is_auto_addr_subnet: qry_allocated = ( qry_allocated.filter(models_v2.Port.device_owner. in_(db_base_plugin_v2.AUTO_DELETE_PORT_OWNERS))) allocated = qry_allocated.all() # Delete all the IPAllocation that can be auto-deleted if allocated: map(session.delete, allocated) # Check if there are tenant owned ports tenant_port = (session.query(models_v2.IPAllocation). filter_by(subnet_id=id). join(models_v2.Port). first()) if tenant_port: # If allocated is None, then all the IPAllocation were # correctly deleted during the previous pass."," # REVISIT(rkukura): Its not clear that # with_lockmode('update') is really needed in this # transaction, and if not, the semaphore can also be # removed. # filter_by(network_id=id). with_lockmode('update').all()) filter_by(network_id=id). with_lockmode('update').all()) # Get ports to auto-deallocate allocated = (session.query(models_v2.IPAllocation). filter_by(subnet_id=id). join(models_v2.Port). filter_by(network_id=subnet['network_id']). with_lockmode('update').all()) only_auto_del = ( ipv6_utils.is_auto_address_subnet(subnet) or all(not a.port_id or a.ports.device_owner in db_base_plugin_v2. AUTO_DELETE_PORT_OWNERS for a in allocated)) if not only_auto_del: session.delete(a)",27,22
openstack%2Fneutron~stable%2Fjuno~I6f663cb1ce3e4a1340c415d13787a9855c4dcac2,openstack/neutron,stable/juno,I6f663cb1ce3e4a1340c415d13787a9855c4dcac2,Fixes floating IP regression with multiple routers,MERGED,2015-05-07 10:36:23.000000000,2015-05-13 10:57:47.000000000,2015-05-13 10:57:45.000000000,"[{'_account_id': 3}, {'_account_id': 841}, {'_account_id': 1131}, {'_account_id': 1653}, {'_account_id': 4395}, {'_account_id': 5170}, {'_account_id': 6659}, {'_account_id': 8124}, {'_account_id': 8645}, {'_account_id': 8976}, {'_account_id': 9237}, {'_account_id': 9681}, {'_account_id': 9682}, {'_account_id': 9751}, {'_account_id': 9787}, {'_account_id': 10153}, {'_account_id': 10387}, {'_account_id': 10692}, {'_account_id': 14208}, {'_account_id': 14212}, {'_account_id': 14213}, {'_account_id': 14214}, {'_account_id': 14215}, {'_account_id': 14216}, {'_account_id': 14571}, {'_account_id': 15444}, {'_account_id': 15882}]","[{'number': 1, 'created': '2015-05-07 10:36:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/730fec1acd16d57c2faabd18d5243d8e18ee99a7', 'message': 'Fixes floating IP regression with multiple routers\n\nDuring the refactor here:\nChange-Id: I09e8a694cdff7f64a642a39b45cbd12422132806\nToo much code was removed and caused floating ips to get miss assigned when\nmultiple routers with external networks in the same tenant are present. The\nfirst router in the tenant was always being chosen. This patch adds back\nsome of the original code as well as a unit test.\n\nChange-Id: I6f663cb1ce3e4a1340c415d13787a9855c4dcac2\nCloses-Bug: 1422476\n(cherry picked from commit 84bbcb6f2a5400112751517e41bb50b5056220e0)\n'}, {'number': 2, 'created': '2015-05-07 11:38:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9720e72288055ac02d5330757298c4da83dc6c1b', 'message': 'Fixes floating IP regression with multiple routers\n\nDuring the refactor here:\nChange-Id: I09e8a694cdff7f64a642a39b45cbd12422132806\nToo much code was removed and caused floating ips to get miss assigned when\nmultiple routers with external networks in the same tenant are present. The\nfirst router in the tenant was always being chosen. This patch adds back\nsome of the original code as well as a unit test.\n\nChange-Id: I6f663cb1ce3e4a1340c415d13787a9855c4dcac2\nCloses-Bug: 1422476\n(cherry picked from commit 84bbcb6f2a5400112751517e41bb50b5056220e0)\n'}, {'number': 3, 'created': '2015-05-07 12:49:19.000000000', 'files': ['neutron/tests/unit/test_l3_plugin.py', 'neutron/db/l3_db.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/0d0675b0845c1b2ec740a45c29c5c0184b1d4e2a', 'message': 'Fixes floating IP regression with multiple routers\n\nDuring the refactor here:\nChange-Id: I09e8a694cdff7f64a642a39b45cbd12422132806\nToo much code was removed and caused floating ips to get miss assigned when\nmultiple routers with external networks in the same tenant are present. The\nfirst router in the tenant was always being chosen. This patch adds back\nsome of the original code as well as a unit test.\n\nChange-Id: I6f663cb1ce3e4a1340c415d13787a9855c4dcac2\nCloses-Bug: 1422476\n(cherry picked from commit 84bbcb6f2a5400112751517e41bb50b5056220e0)\n'}]",1,180934,0d0675b0845c1b2ec740a45c29c5c0184b1d4e2a,62,27,3,841,,,0,"Fixes floating IP regression with multiple routers

During the refactor here:
Change-Id: I09e8a694cdff7f64a642a39b45cbd12422132806
Too much code was removed and caused floating ips to get miss assigned when
multiple routers with external networks in the same tenant are present. The
first router in the tenant was always being chosen. This patch adds back
some of the original code as well as a unit test.

Change-Id: I6f663cb1ce3e4a1340c415d13787a9855c4dcac2
Closes-Bug: 1422476
(cherry picked from commit 84bbcb6f2a5400112751517e41bb50b5056220e0)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/34/180934/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/test_l3_plugin.py', 'neutron/db/l3_db.py']",2,730fec1acd16d57c2faabd18d5243d8e18ee99a7,bug/1422476," for router_port in routerport_qry: router_id = router_port.router.id router_gw_qry = context.session.query(models_v2.Port) has_gw_port = router_gw_qry.filter_by( network_id=external_network_id, device_id=router_id, device_owner=DEVICE_OWNER_ROUTER_GW).count() if has_gw_port: return router_id", router_port = routerport_qry.first() if router_port and router_port.router.gw_port: return router_port.router.id,53,4
openstack%2Ffuel-astute~master~Ieda212d83c0354346db315eb7da27d416a728dbc,openstack/fuel-astute,master,Ieda212d83c0354346db315eb7da27d416a728dbc,Don't delete nodes not reachable by MCollective,MERGED,2015-05-05 21:14:46.000000000,2015-05-13 10:56:43.000000000,2015-05-13 10:55:32.000000000,"[{'_account_id': 3}, {'_account_id': 6623}, {'_account_id': 8749}, {'_account_id': 8776}, {'_account_id': 8829}, {'_account_id': 8907}, {'_account_id': 8954}, {'_account_id': 8971}, {'_account_id': 10391}, {'_account_id': 12200}, {'_account_id': 13445}]","[{'number': 1, 'created': '2015-05-05 21:14:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-astute/commit/af44a46a4a751e150410dcc055ca15a988e3a26b', 'message': ""Don't delete nodes not reachable by MCollective\n\nNodes are checked for MCollective connectivity prior to deletion.\nIf any node is unreachable it will be put into 'error' state and\nthe entire deletion task will be aborted. This only occurs when\ndeleting individual nodes, not when deleting an entire cluster\nor resetting it.\n\nChange-Id: Ieda212d83c0354346db315eb7da27d416a728dbc\nCloses-bug: #1449285\n""}, {'number': 2, 'created': '2015-05-05 21:16:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-astute/commit/c24f42bc564092342378f6f8949dce11c8d61aeb', 'message': ""Don't delete nodes not reachable by MCollective\n\nNodes are checked for MCollective connectivity prior to deletion.\nIf any node is unreachable it will be put into 'error' state and\nthe entire deletion task will be aborted. This only occurs when\ndeleting individual nodes, not when deleting an entire cluster\nor resetting it.\n\nChange-Id: Ieda212d83c0354346db315eb7da27d416a728dbc\nCloses-bug: #1449285\n""}, {'number': 3, 'created': '2015-05-05 21:18:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-astute/commit/53aafe72b9b2f7142ca3ca26ede2a50324b9678e', 'message': ""Don't delete nodes not reachable by MCollective\n\nNodes are checked for MCollective connectivity prior to deletion.\nIf any node is unreachable it will be put into 'error' state and\nthe entire deletion task will be aborted. This only occurs when\ndeleting individual nodes, not when deleting an entire cluster\nor resetting it.\n\nChange-Id: Ieda212d83c0354346db315eb7da27d416a728dbc\nCloses-bug: #1449285\n""}, {'number': 4, 'created': '2015-05-05 21:53:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-astute/commit/77e49de1288a39e2be69096eeb129d92fe2bd547', 'message': ""Don't delete nodes not reachable by MCollective\n\nNodes are checked for MCollective connectivity prior to deletion.\nIf any node is unreachable it will be put into 'error' state and\nthe entire deletion task will be aborted. This only occurs when\ndeleting individual nodes, not when deleting an entire cluster\nor resetting it.\n\nChange-Id: Ieda212d83c0354346db315eb7da27d416a728dbc\nCloses-bug: #1449285\n""}, {'number': 5, 'created': '2015-05-11 21:24:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-astute/commit/57a1131d2a2107cd269ae67663c1965e4b82a510', 'message': ""Don't delete nodes not reachable by MCollective\n\nNodes are checked for MCollective connectivity prior to deletion.\nIf any node is unreachable it will be put into 'error' state and\nthe entire deletion task will be aborted. This only occurs when\ndeleting individual nodes, not when deleting an entire cluster\nor resetting it.\n\nChange-Id: Ieda212d83c0354346db315eb7da27d416a728dbc\nCloses-bug: #1449285\n""}, {'number': 6, 'created': '2015-05-12 00:59:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-astute/commit/35a1fef812667c7797ea9b1e9070d00b11d1675a', 'message': ""Don't delete nodes not reachable by MCollective\n\nNodes are checked for MCollective connectivity prior to deletion.\nIf any node is unreachable it will be put into 'error' state and\nthe entire deletion task will be aborted. This only occurs when\ndeleting individual nodes, not when deleting an entire cluster\nor resetting it.\n\nChange-Id: Ieda212d83c0354346db315eb7da27d416a728dbc\nCloses-bug: #1449285\n""}, {'number': 7, 'created': '2015-05-12 18:27:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-astute/commit/845fda70eb503d5aef5488d1dace137e7708f4fe', 'message': ""Don't delete nodes not reachable by MCollective\n\nNodes are checked for MCollective connectivity prior to deletion.\nIf any node is unreachable it will be put into 'error' state and\nthe entire deletion task will be aborted. This only occurs when\ndeleting individual nodes, not when deleting an entire cluster\nor resetting it.\n\nChange-Id: Ieda212d83c0354346db315eb7da27d416a728dbc\nCloses-bug: #1449285\n""}, {'number': 8, 'created': '2015-05-12 21:32:21.000000000', 'files': ['spec/unit/dispatcher_spec.rb', 'lib/astute/pre_delete.rb', 'lib/astute/orchestrator.rb', 'spec/unit/pre_delete_spec.rb'], 'web_link': 'https://opendev.org/openstack/fuel-astute/commit/484d5038b81b7260597be027b1265dc88091026b', 'message': ""Don't delete nodes not reachable by MCollective\n\nNodes are checked for MCollective connectivity prior to deletion.\nIf any node is unreachable it will be put into 'error' state and\nthe entire deletion task will be aborted. This only occurs when\ndeleting individual nodes, not when deleting an entire cluster\nor resetting it.\n\nChange-Id: Ieda212d83c0354346db315eb7da27d416a728dbc\nCloses-bug: #1449285\n""}]",10,180324,484d5038b81b7260597be027b1265dc88091026b,54,11,8,8829,,,0,"Don't delete nodes not reachable by MCollective

Nodes are checked for MCollective connectivity prior to deletion.
If any node is unreachable it will be put into 'error' state and
the entire deletion task will be aborted. This only occurs when
deleting individual nodes, not when deleting an entire cluster
or resetting it.

Change-Id: Ieda212d83c0354346db315eb7da27d416a728dbc
Closes-bug: #1449285
",git fetch https://review.opendev.org/openstack/fuel-astute refs/changes/24/180324/2 && git format-patch -1 --stdout FETCH_HEAD,"['lib/astute/server/dispatcher.rb', 'lib/astute/pre_delete.rb', 'lib/astute/orchestrator.rb']",3,af44a46a4a751e150410dcc055ca15a988e3a26b,bug/1449285," def check_for_offline_nodes(reporter, task_id, nodes) PreDelete.check_for_offline_nodes(Context.new(task_id, reporter), nodes) end ",,44,0
openstack%2Fneutron~stable%2Fjuno~I089fefdd8535bdc9ed90b3230438ab0bfb6aab4f,openstack/neutron,stable/juno,I089fefdd8535bdc9ed90b3230438ab0bfb6aab4f,Fixes race condition and boosts the scheduling performance,MERGED,2015-04-25 14:00:06.000000000,2015-05-13 10:53:09.000000000,2015-05-13 10:53:07.000000000,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 4395}, {'_account_id': 5170}, {'_account_id': 6854}, {'_account_id': 6876}, {'_account_id': 6951}, {'_account_id': 7016}, {'_account_id': 7448}, {'_account_id': 7715}, {'_account_id': 8645}, {'_account_id': 9093}, {'_account_id': 9656}, {'_account_id': 9681}, {'_account_id': 9682}, {'_account_id': 9732}, {'_account_id': 9787}, {'_account_id': 10153}, {'_account_id': 10387}, {'_account_id': 10692}, {'_account_id': 11598}, {'_account_id': 12040}, {'_account_id': 14208}, {'_account_id': 14212}, {'_account_id': 14213}, {'_account_id': 14214}, {'_account_id': 14216}, {'_account_id': 14571}, {'_account_id': 15296}, {'_account_id': 15444}]","[{'number': 1, 'created': '2015-04-25 14:00:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/873039fdcc8c11c1c772566026b8c4367b2d5afc', 'message': 'Fixes race condition and boosts the scheduling performance\n\nThis patch fixes a race-condition that occurs when the\nscheduler tries to check for dvr serviceable ports before\nit schedules a router when a subnet is associated with\na router.\n\nSometimes the dhcp port creation is delayed and so the\nrouter is not scheduled to the l3-agent.\n\nAlso it boosts the scheduling performance on dvr-snat\nnode for scheduling a router.\n\nThis patch will provide a work around to fix this race\ncondition and to boost the scheduling performance\nby scheduling a router on a dvr-snat when\ndhcp is enabled on the provided subnet, instead of checking\nall the available ports on the subnet.\n\nCloses-Bug: #1442494\n(cherry picked from commit c65d3ab6ad4589e6e4a6b488d2eb5d1e4cfee138)\nConflicts:\n        neutron/tests/unit/test_l3_schedulers.py\n\nChange-Id: I089fefdd8535bdc9ed90b3230438ab0bfb6aab4f\n'}, {'number': 2, 'created': '2015-04-27 14:35:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3c60462ba562b22e37a97256597b93481a7c2489', 'message': 'Fixes race condition and boosts the scheduling performance\n\nThis patch fixes a race-condition that occurs when the\nscheduler tries to check for dvr serviceable ports before\nit schedules a router when a subnet is associated with\na router.\n\nSometimes the dhcp port creation is delayed and so the\nrouter is not scheduled to the l3-agent.\n\nAlso it boosts the scheduling performance on dvr-snat\nnode for scheduling a router.\n\nThis patch will provide a work around to fix this race\ncondition and to boost the scheduling performance\nby scheduling a router on a dvr-snat when\ndhcp is enabled on the provided subnet, instead of checking\nall the available ports on the subnet.\n\nCloses-Bug: #1442494\n(cherry picked from commit c65d3ab6ad4589e6e4a6b488d2eb5d1e4cfee138)\nConflicts:\n        neutron/tests/unit/test_l3_schedulers.py\n\nChange-Id: I089fefdd8535bdc9ed90b3230438ab0bfb6aab4f\n'}, {'number': 3, 'created': '2015-04-27 14:45:47.000000000', 'files': ['neutron/tests/unit/test_l3_schedulers.py', 'neutron/db/l3_agentschedulers_db.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/3017406fdde236297e598c409497804b54e77bbd', 'message': 'Fixes race condition and boosts the scheduling performance\n\nThis patch fixes a race-condition that occurs when the\nscheduler tries to check for dvr serviceable ports before\nit schedules a router when a subnet is associated with\na router.\n\nSometimes the dhcp port creation is delayed and so the\nrouter is not scheduled to the l3-agent.\n\nAlso it boosts the scheduling performance on dvr-snat\nnode for scheduling a router.\n\nThis patch will provide a work around to fix this race\ncondition and to boost the scheduling performance\nby scheduling a router on a dvr-snat when\ndhcp is enabled on the provided subnet, instead of checking\nall the available ports on the subnet.\n\nCloses-Bug: #1442494\n(cherry picked from commit c65d3ab6ad4589e6e4a6b488d2eb5d1e4cfee138)\nConflicts:\n        neutron/tests/unit/test_l3_schedulers.py\n\nChange-Id: I089fefdd8535bdc9ed90b3230438ab0bfb6aab4f\n'}]",6,177549,3017406fdde236297e598c409497804b54e77bbd,51,30,3,6876,,,0,"Fixes race condition and boosts the scheduling performance

This patch fixes a race-condition that occurs when the
scheduler tries to check for dvr serviceable ports before
it schedules a router when a subnet is associated with
a router.

Sometimes the dhcp port creation is delayed and so the
router is not scheduled to the l3-agent.

Also it boosts the scheduling performance on dvr-snat
node for scheduling a router.

This patch will provide a work around to fix this race
condition and to boost the scheduling performance
by scheduling a router on a dvr-snat when
dhcp is enabled on the provided subnet, instead of checking
all the available ports on the subnet.

Closes-Bug: #1442494
(cherry picked from commit c65d3ab6ad4589e6e4a6b488d2eb5d1e4cfee138)
Conflicts:
        neutron/tests/unit/test_l3_schedulers.py

Change-Id: I089fefdd8535bdc9ed90b3230438ab0bfb6aab4f
",git fetch https://review.opendev.org/openstack/neutron refs/changes/49/177549/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/test_l3_schedulers.py', 'neutron/db/l3_agentschedulers_db.py']",2,873039fdcc8c11c1c772566026b8c4367b2d5afc,bug/1442494," # NOTE(swami):Before checking for existence of dvr # serviceable ports on the host managed by the l3 # agent, let's verify if at least one subnet has # dhcp enabled. If so, then the host will have a # dvr serviceable port, which is in fact the DHCP # port. # This optimization is valid assuming that the L3 # DVR_SNAT node will be the one hosting the DHCP # Agent. agent_conf = self.get_configuration_dict(l3_agent) agent_mode = agent_conf.get('agent_mode', 'legacy') for subnet_id in subnet_ids: subnet_dict = core_plugin.get_subnet(context, subnet_id) if (subnet_dict['enable_dhcp'] and ( agent_mode == 'dvr_snat')): return True ",,46,0
openstack%2Fnova~master~I630a294c1df4fd741921a2e17aff7d668a588d86,openstack/nova,master,I630a294c1df4fd741921a2e17aff7d668a588d86,Add schema check for security_groups,ABANDONED,2015-05-12 20:53:55.000000000,2015-05-13 10:25:33.000000000,,"[{'_account_id': 3}, {'_account_id': 5170}, {'_account_id': 9578}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 15751}]","[{'number': 1, 'created': '2015-05-12 20:53:55.000000000', 'files': ['nova/tests/unit/api/openstack/compute/contrib/test_security_groups.py', 'nova/api/openstack/compute/plugins/v3/security_groups.py', 'nova/api/openstack/compute/schemas/v3/security_groups.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/020bdde74100f066560171b585c28bd2e694ba7e', 'message': 'Add schema check for security_groups\n\nsecurity_groups are lack of schema check for v2.1 API, this patch\nadds checks for SecurityGroupController.create.\nFollowing patchs will target for other checks.\n\nPartial-Bug: 1453208\n\nChange-Id: I630a294c1df4fd741921a2e17aff7d668a588d86\n'}]",0,182448,020bdde74100f066560171b585c28bd2e694ba7e,8,6,1,6062,,,0,"Add schema check for security_groups

security_groups are lack of schema check for v2.1 API, this patch
adds checks for SecurityGroupController.create.
Following patchs will target for other checks.

Partial-Bug: 1453208

Change-Id: I630a294c1df4fd741921a2e17aff7d668a588d86
",git fetch https://review.opendev.org/openstack/nova refs/changes/48/182448/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/api/openstack/compute/contrib/test_security_groups.py', 'nova/api/openstack/compute/plugins/v3/security_groups.py', 'nova/api/openstack/compute/schemas/v3/security_groups.py']",3,020bdde74100f066560171b585c28bd2e694ba7e,bug/1453208," security_group_create = { 'type': 'object', 'properties': { 'security_group': { 'type': 'object', 'properties': { 'name': { 'type': 'string', 'minLength': 1, 'maxLength': 255, }, 'description': { 'type': 'string', 'minLength': 1, 'maxLength': 255, }, 'id': {'type': 'integer'}, 'tenant_id': parameter_types.project_id, 'rules': {'type': ['string', 'array']}, }, 'required': ['name', 'description'], 'additionalProperties': False, }, }, 'required': ['security_group'], 'additionalProperties': False, }",,118,98
openstack%2Ffuel-ostf~master~Ife8ab2c624071cbe93383bd25b88ffd84f3fbdf1,openstack/fuel-ostf,master,Ife8ab2c624071cbe93383bd25b88ffd84f3fbdf1,Fix find_network_host for test with file injection,MERGED,2015-05-08 14:12:23.000000000,2015-05-13 10:11:09.000000000,2015-05-13 10:08:59.000000000,"[{'_account_id': 3}, {'_account_id': 6719}, {'_account_id': 8882}, {'_account_id': 8971}, {'_account_id': 11427}, {'_account_id': 12199}, {'_account_id': 13306}]","[{'number': 1, 'created': '2015-05-08 14:12:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-ostf/commit/3c4a78b7dcadc1a3c83c501cd8f9e33589dda776', 'message': 'Fix find_network_host for test with file injection\n\n-make function find_network_host as a global\n-fix functions where used find_network_host\n\nChange-Id: Ife8ab2c624071cbe93383bd25b88ffd84f3fbdf1\nCloses-bug: #1449578\n'}, {'number': 2, 'created': '2015-05-08 14:20:24.000000000', 'files': ['fuel_health/nmanager.py'], 'web_link': 'https://opendev.org/openstack/fuel-ostf/commit/6c2cf210afa6ae682e96033c42cc1c908266e29a', 'message': 'Fix find_network_host for test with file injection\n\n-make function find_network_host as a global\n-fix functions where used find_network_host\n\nChange-Id: Ife8ab2c624071cbe93383bd25b88ffd84f3fbdf1\nCloses-bug: #1449578\n'}]",0,181401,6c2cf210afa6ae682e96033c42cc1c908266e29a,17,7,2,14946,,,0,"Fix find_network_host for test with file injection

-make function find_network_host as a global
-fix functions where used find_network_host

Change-Id: Ife8ab2c624071cbe93383bd25b88ffd84f3fbdf1
Closes-bug: #1449578
",git fetch https://review.opendev.org/openstack/fuel-ostf refs/changes/01/181401/1 && git format-patch -1 --stdout FETCH_HEAD,['fuel_health/nmanager.py'],1,3c4a78b7dcadc1a3c83c501cd8f9e33589dda776,bug/1449578," def _find_network_host(self,timeout,retries): """"""Find host where nova-network works."""""" if 'neutron' in self.config.network.network_provider: return self.host[0] if self.config.compute.use_vcenter: command = ""pcs status|grep nova-network|awk {'print $4'}"" ssh = SSHClient(self.host[0], self.usr, self.pwd, key_filename=self.key, timeout=timeout) n_net_nodename = self.retry_command(retries[0], retries[1], ssh.exec_command, cmd=command).strip() get_n_net_nodename = socket.gethostbyname(n_net_nodename) return get_n_net_nodename else: services = self.compute_client.services.list() net_service = filter( lambda n: n.__dict__['binary'] == u'nova-network', services)[0] return net_service.__dict__['host'] host = viaHost or self._find_network_host(timeout,retries) host = viaHost or self._find_network_host(timeout,retries)"," def find_network_host(): """"""Find host where nova-network works."""""" if 'neutron' in self.config.network.network_provider: return self.host[0] if self.config.compute.use_vcenter: command = ""pcs status|grep nova-network|awk {'print $4'}"" ssh = SSHClient(self.host[0], self.usr, self.pwd, key_filename=self.key, timeout=timeout) n_net_nodename = self.retry_command(retries[0], retries[1], ssh.exec_command, cmd=command).strip() get_n_net_nodename = socket.gethostbyname(n_net_nodename) return get_n_net_nodename else: services = self.compute_client.services.list() net_service = filter( lambda n: n.__dict__['binary'] == u'nova-network', services)[0] return net_service.__dict__['host'] host = viaHost or find_network_host() def find_network_host(): """"""Find host where nova-network works."""""" if 'neutron' in self.config.network.network_provider: return self.host[0] else: services = self.compute_client.services.list() net_service = filter( lambda n: n.__dict__['binary'] == u'nova-network', services)[0] return net_service.__dict__['host'] host = viaHost or find_network_host()",25,36
openstack%2Foslo.log~master~I247f79e029113770e850bfdfd07ec5a8e2795343,openstack/oslo.log,master,I247f79e029113770e850bfdfd07ec5a8e2795343,Remove is_compatible from versionutils,MERGED,2015-04-03 12:16:48.000000000,2015-05-13 10:05:45.000000000,2015-05-13 10:05:44.000000000,"[{'_account_id': 3}, {'_account_id': 1669}, {'_account_id': 5638}]","[{'number': 1, 'created': '2015-04-03 12:16:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.log/commit/b31bf91abcb4cb71bbba3c0a9d257c18bc8a436a', 'message': 'Remove is_compatible from versionutils\n\nFollowing discussion on the spec, we are going to place is_compatible in\noslo.utils instead of oslo.log.\n\nChange-Id: I247f79e029113770e850bfdfd07ec5a8e2795343\n'}, {'number': 2, 'created': '2015-05-11 15:20:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.log/commit/6f31ec8e8321991dce4654752ce4c1c714edf0d5', 'message': 'Remove is_compatible from versionutils\n\nFollowing discussion on the spec, we are going to place is_compatible in\noslo.utils instead of oslo.log.\n\nChange-Id: I247f79e029113770e850bfdfd07ec5a8e2795343\n'}, {'number': 3, 'created': '2015-05-12 19:50:27.000000000', 'files': ['oslo_log/versionutils.py', 'oslo_log/tests/unit/test_versionutils.py'], 'web_link': 'https://opendev.org/openstack/oslo.log/commit/37166ac6fa6246c095eca2ffe4eeadc291dc6ca7', 'message': 'Remove is_compatible from versionutils\n\nFollowing discussion on the spec, we are going to place is_compatible in\noslo.utils instead of oslo.log.\n\nChange-Id: I247f79e029113770e850bfdfd07ec5a8e2795343\n'}]",0,170471,37166ac6fa6246c095eca2ffe4eeadc291dc6ca7,16,3,3,2472,,,0,"Remove is_compatible from versionutils

Following discussion on the spec, we are going to place is_compatible in
oslo.utils instead of oslo.log.

Change-Id: I247f79e029113770e850bfdfd07ec5a8e2795343
",git fetch https://review.opendev.org/openstack/oslo.log refs/changes/71/170471/1 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_log/versionutils.py', 'oslo_log/tests/unit/test_versionutils.py']",2,b31bf91abcb4cb71bbba3c0a9d257c18bc8a436a,bp/graduate-oslo-versionutils,," class IsCompatibleTestCase(test_base.BaseTestCase): def test_same_version(self): self.assertTrue(versionutils.is_compatible('1', '1')) self.assertTrue(versionutils.is_compatible('1.0', '1.0')) self.assertTrue(versionutils.is_compatible('1.0.0', '1.0.0')) def test_requested_minor_greater(self): self.assertFalse(versionutils.is_compatible('1.1', '1.0')) def test_requested_minor_less_than(self): self.assertTrue(versionutils.is_compatible('1.0', '1.1')) def test_requested_patch_greater(self): self.assertFalse(versionutils.is_compatible('1.0.1', '1.0.0')) def test_requested_patch_less_than(self): self.assertTrue(versionutils.is_compatible('1.0.0', '1.0.1')) def test_requested_patch_not_present_same(self): self.assertTrue(versionutils.is_compatible('1.0', '1.0.0')) def test_requested_patch_not_present_less_than(self): self.assertTrue(versionutils.is_compatible('1.0', '1.0.1')) def test_current_patch_not_present_same(self): self.assertTrue(versionutils.is_compatible('1.0.0', '1.0')) def test_current_patch_not_present_less_than(self): self.assertFalse(versionutils.is_compatible('1.0.1', '1.0')) def test_same_major_true(self): """"""Even though the current version is 2.0, since `same_major` defaults to `True`, 1.0 is deemed incompatible. """""" self.assertFalse(versionutils.is_compatible('2.0', '1.0')) self.assertTrue(versionutils.is_compatible('1.0', '1.0')) self.assertFalse(versionutils.is_compatible('1.0', '2.0')) def test_same_major_false(self): """"""With `same_major` set to False, then major version compatibiity rule is not enforced, so a current version of 2.0 is deemed to satisfy a requirement of 1.0. """""" self.assertFalse(versionutils.is_compatible('2.0', '1.0', same_major=False)) self.assertTrue(versionutils.is_compatible('1.0', '1.0', same_major=False)) self.assertTrue(versionutils.is_compatible('1.0', '2.0', same_major=False))",0,75
openstack%2Foslo.log~master~I97c02a5b5cd3b1fc6a71dc11c45414e0fbe4ef11,openstack/oslo.log,master,I97c02a5b5cd3b1fc6a71dc11c45414e0fbe4ef11,Make remove_in=0 (no removal) use a better syntax,MERGED,2015-03-27 00:15:15.000000000,2015-05-13 10:05:42.000000000,2015-05-13 10:05:41.000000000,"[{'_account_id': 3}, {'_account_id': 2472}, {'_account_id': 2903}, {'_account_id': 5638}, {'_account_id': 6928}, {'_account_id': 11748}]","[{'number': 1, 'created': '2015-03-27 00:15:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.log/commit/d074fda962cf6bc4353fe40580cc321f4256ff6c', 'message': 'Make remove_in=0 (no removal) use a better syntax\n\nSupport remove_in=None to indicate no removal instead of remove_in=0\nwhich is not clear when reading through code consuming the deprecated\ndecorator.\n\nChange-Id: I97c02a5b5cd3b1fc6a71dc11c45414e0fbe4ef11\n'}, {'number': 2, 'created': '2015-03-27 00:16:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.log/commit/df619731a9edc7aa7aded9946e6d275adcd7fc31', 'message': 'Make remove_in=0 (no removal) use a better syntax\n\nSupport remove_in=None to indicate no removal instead of remove_in=0\nwhich is not clear when reading through code consuming the deprecated\ndecorator.\n\nChange-Id: I97c02a5b5cd3b1fc6a71dc11c45414e0fbe4ef11\n'}, {'number': 3, 'created': '2015-03-27 03:51:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.log/commit/a5dbb05e25c97a0cbce4868d60d0aa958fd0024e', 'message': 'Make remove_in=0 (no removal) use a better syntax\n\nSupport remove_in=None to indicate no removal instead of remove_in=0\nwhich is not clear when reading through code consuming the deprecated\ndecorator.\n\nChange-Id: I97c02a5b5cd3b1fc6a71dc11c45414e0fbe4ef11\n'}, {'number': 4, 'created': '2015-05-12 23:40:51.000000000', 'files': ['oslo_log/versionutils.py', 'oslo_log/tests/unit/test_versionutils.py'], 'web_link': 'https://opendev.org/openstack/oslo.log/commit/36c925e95bf8a87379eba2bc5e4341a20aaee790', 'message': 'Make remove_in=0 (no removal) use a better syntax\n\nSupport remove_in=None to indicate no removal instead of remove_in=0\nwhich is not clear when reading through code consuming the deprecated\ndecorator.\n\nChange-Id: I97c02a5b5cd3b1fc6a71dc11c45414e0fbe4ef11\n'}]",4,168186,36c925e95bf8a87379eba2bc5e4341a20aaee790,16,6,4,2903,,,0,"Make remove_in=0 (no removal) use a better syntax

Support remove_in=None to indicate no removal instead of remove_in=0
which is not clear when reading through code consuming the deprecated
decorator.

Change-Id: I97c02a5b5cd3b1fc6a71dc11c45414e0fbe4ef11
",git fetch https://review.opendev.org/openstack/oslo.log refs/changes/86/168186/4 && git format-patch -1 --stdout FETCH_HEAD,['oslo_log/versionutils.py'],1,d074fda962cf6bc4353fe40580cc321f4256ff6c,," >>> @deprecated(as_of=deprecated.ICEHOUSE, remove_in=None) >>> @deprecated(as_of=deprecated.ICEHOUSE, in_favor_of='f()', ... remove_in=None) if self.remove_in is not None and self.remove_in > 0: if self.remove_in is not None and self.remove_in > 0:"," >>> @deprecated(as_of=deprecated.ICEHOUSE, remove_in=0) >>> @deprecated(as_of=deprecated.ICEHOUSE, in_favor_of='f()', remove_in=0) if self.remove_in > 0: if self.remove_in > 0:",5,4
openstack%2Ffuel-specs~master~Iad4bd1d9d50ec1a2470e160ae9add99e2acadfb1,openstack/fuel-specs,master,Iad4bd1d9d50ec1a2470e160ae9add99e2acadfb1,Blueprint: separate-mos-from-linux,MERGED,2015-04-16 18:57:33.000000000,2015-05-13 10:03:28.000000000,2015-05-13 10:03:26.000000000,"[{'_account_id': 3}, {'_account_id': 8787}, {'_account_id': 10474}, {'_account_id': 11090}, {'_account_id': 11969}, {'_account_id': 13194}]","[{'number': 1, 'created': '2015-04-16 18:57:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-specs/commit/c04c90ee723ff25e217fc5b9f277085a0801ec5c', 'message': 'Blueprint: separate-mos-from-linux\n\nDescribe the special case of using the ""0"" revision in backported\npackages.\n\nChange-Id: Iad4bd1d9d50ec1a2470e160ae9add99e2acadfb1\n'}, {'number': 2, 'created': '2015-04-17 18:16:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-specs/commit/8b764dcff73ac2e88e4fc83c96b6cb20c5178587', 'message': 'Blueprint: separate-mos-from-linux\n\nDescribe the special case of using the ""0"" revision in backported\npackages.\n\nChange-Id: Iad4bd1d9d50ec1a2470e160ae9add99e2acadfb1\n'}, {'number': 3, 'created': '2015-04-24 14:01:21.000000000', 'files': ['specs/6.1/separate-mos-from-linux.rst'], 'web_link': 'https://opendev.org/openstack/fuel-specs/commit/7fd736cc37042e9311ca6633d0904e618d49e26c', 'message': 'Blueprint: separate-mos-from-linux\n\nDescribe the special case of using the ""0"" revision in backported\npackages.\n\nChange-Id: Iad4bd1d9d50ec1a2470e160ae9add99e2acadfb1\n'}]",2,174565,7fd736cc37042e9311ca6633d0904e618d49e26c,17,6,3,10474,,,0,"Blueprint: separate-mos-from-linux

Describe the special case of using the ""0"" revision in backported
packages.

Change-Id: Iad4bd1d9d50ec1a2470e160ae9add99e2acadfb1
",git fetch https://review.opendev.org/openstack/fuel-specs refs/changes/65/174565/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/6.1/separate-mos-from-linux.rst'],1,c04c90ee723ff25e217fc5b9f277085a0801ec5c,bp/separate-mos-from-linux,".. note:: Do not use the ""0"" revision to avoid possible dependency problems! Adding the ""~something"" suffix makes the version *LOWER* than the corresponding upstream version! ",,4,0
openstack%2Foslo.log~master~Iaab5c89c899c787c5b5723d4e750eeab03073fc7,openstack/oslo.log,master,Iaab5c89c899c787c5b5723d4e750eeab03073fc7,Add versionutils options to list_opts,MERGED,2015-03-25 19:42:34.000000000,2015-05-13 10:03:13.000000000,2015-05-13 10:03:13.000000000,"[{'_account_id': 3}, {'_account_id': 1669}, {'_account_id': 5638}]","[{'number': 1, 'created': '2015-03-25 19:42:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.log/commit/dca69a5da58fd44aad6175746c9e9c4095bc066d', 'message': ""Add versionutils options to list_opts\n\nRemove the list_opts function from versionutils and include the options\nrelated to deprecation in the rest of the items returned from the\nlibrary's main list_opts.\n\nChange-Id: Iaab5c89c899c787c5b5723d4e750eeab03073fc7\n""}, {'number': 2, 'created': '2015-05-11 15:20:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.log/commit/7b93624b725977e05071d1b3254dbd31b4700e69', 'message': ""Add versionutils options to list_opts\n\nRemove the list_opts function from versionutils and include the options\nrelated to deprecation in the rest of the items returned from the\nlibrary's main list_opts.\n\nChange-Id: Iaab5c89c899c787c5b5723d4e750eeab03073fc7\n""}, {'number': 3, 'created': '2015-05-12 19:50:27.000000000', 'files': ['oslo_log/_options.py', 'oslo_log/versionutils.py'], 'web_link': 'https://opendev.org/openstack/oslo.log/commit/e9a11f4efdaa9d8e67b36f6950544cb849d5281a', 'message': ""Add versionutils options to list_opts\n\nRemove the list_opts function from versionutils and include the options\nrelated to deprecation in the rest of the items returned from the\nlibrary's main list_opts.\n\nChange-Id: Iaab5c89c899c787c5b5723d4e750eeab03073fc7\n""}]",0,167769,e9a11f4efdaa9d8e67b36f6950544cb849d5281a,14,3,3,2472,,,0,"Add versionutils options to list_opts

Remove the list_opts function from versionutils and include the options
related to deprecation in the rest of the items returned from the
library's main list_opts.

Change-Id: Iaab5c89c899c787c5b5723d4e750eeab03073fc7
",git fetch https://review.opendev.org/openstack/oslo.log refs/changes/69/167769/1 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_log/_options.py', 'oslo_log/versionutils.py']",2,dca69a5da58fd44aad6175746c9e9c4095bc066d,bp/graduate-oslo-versionutils,,"import copydef list_opts(): """"""Entry point for oslo.config-generator. """""" return [(None, copy.deepcopy(deprecated_opts))] ",4,8
openstack%2Foslo.log~master~Ib732509186e56ed2b39638129e2ec4272da1aa9d,openstack/oslo.log,master,Ib732509186e56ed2b39638129e2ec4272da1aa9d,Add versionutils to API documentation,MERGED,2015-03-25 19:42:34.000000000,2015-05-13 10:03:08.000000000,2015-05-13 10:03:07.000000000,"[{'_account_id': 3}, {'_account_id': 1669}, {'_account_id': 5638}]","[{'number': 1, 'created': '2015-03-25 19:42:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.log/commit/8437864f4ed0f23846ade585304c3ab67a0ade34', 'message': 'Add versionutils to API documentation\n\nAdd an automodule directive for the new module.\n\nClean up the existing docstring so it renders a bit more nicely.\n\nUpdate the usage page to refer to the new location of versionutils.\n\nChange-Id: Ib732509186e56ed2b39638129e2ec4272da1aa9d\n'}, {'number': 2, 'created': '2015-05-11 15:20:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.log/commit/b6c302f20de801039897d788201c4dfa860750ca', 'message': 'Add versionutils to API documentation\n\nAdd an automodule directive for the new module.\n\nClean up the existing docstring so it renders a bit more nicely.\n\nUpdate the usage page to refer to the new location of versionutils.\n\nChange-Id: Ib732509186e56ed2b39638129e2ec4272da1aa9d\n'}, {'number': 3, 'created': '2015-05-12 19:50:27.000000000', 'files': ['doc/source/index.rst', 'oslo_log/versionutils.py', 'doc/source/usage.rst', 'doc/source/api/versionutils.rst'], 'web_link': 'https://opendev.org/openstack/oslo.log/commit/3a4dc52c21f81540a3ad927b6b2569d9c600af9d', 'message': 'Add versionutils to API documentation\n\nAdd an automodule directive for the new module.\n\nClean up the existing docstring so it renders a bit more nicely.\n\nUpdate the usage page to refer to the new location of versionutils.\n\nChange-Id: Ib732509186e56ed2b39638129e2ec4272da1aa9d\n'}]",0,167768,3a4dc52c21f81540a3ad927b6b2569d9c600af9d,18,3,3,2472,,,0,"Add versionutils to API documentation

Add an automodule directive for the new module.

Clean up the existing docstring so it renders a bit more nicely.

Update the usage page to refer to the new location of versionutils.

Change-Id: Ib732509186e56ed2b39638129e2ec4272da1aa9d
",git fetch https://review.opendev.org/openstack/oslo.log refs/changes/68/167768/1 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_log/versionutils.py', 'doc/source/usage.rst', 'doc/source/api/versionutils.rst']",3,8437864f4ed0f23846ade585304c3ab67a0ade34,bp/graduate-oslo-versionutils,======================= oslo_log.versionutils ======================= .. automodule:: oslo_log.versionutils :members: ,,12,9
openstack%2Ffuel-web~master~I9ac64ea516e699bda4a79ecd00446566891e21f2,openstack/fuel-web,master,I9ac64ea516e699bda4a79ecd00446566891e21f2,Small default version change,MERGED,2015-05-12 07:21:30.000000000,2015-05-13 10:02:09.000000000,2015-05-13 09:37:34.000000000,"[{'_account_id': 3}, {'_account_id': 6623}, {'_account_id': 8735}, {'_account_id': 8766}, {'_account_id': 8907}, {'_account_id': 8971}, {'_account_id': 9091}, {'_account_id': 10391}, {'_account_id': 10959}, {'_account_id': 11082}, {'_account_id': 11577}, {'_account_id': 12200}, {'_account_id': 13445}, {'_account_id': 13840}]","[{'number': 1, 'created': '2015-05-12 07:21:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/07f13d0e425ff6a4980920d5d0270a53379211f2', 'message': ""Small default version change\n\n- required as it's shown in nailgun fake mode\n- from 5.0 to 6.0\n\nChange-Id: I9ac64ea516e699bda4a79ecd00446566891e21f2\n""}, {'number': 2, 'created': '2015-05-12 07:41:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/de08d6dcfd9c437d7023b42dd1675693dba2c945', 'message': ""Small default version change\n\n- required as it's shown in nailgun fake mode\n- from 5.0 to 6.1\n\nChange-Id: I9ac64ea516e699bda4a79ecd00446566891e21f2\n""}, {'number': 3, 'created': '2015-05-12 11:21:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/2cc0320cfe4295b4cc8d67f06bccad11ca3ec774', 'message': ""Small default version change\n\n- required as it's shown in nailgun fake mode\n- from 5.0 to 6.1\n\nChange-Id: I9ac64ea516e699bda4a79ecd00446566891e21f2\n""}, {'number': 4, 'created': '2015-05-12 17:18:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/6cda4bb6cce5b6106f4b19173dcbf1b4046bf8ba', 'message': ""Small default version change\n\n- required as it's shown in nailgun fake mode\n- from 5.0 to 6.1\n\nChange-Id: I9ac64ea516e699bda4a79ecd00446566891e21f2\n""}, {'number': 5, 'created': '2015-05-13 08:50:36.000000000', 'files': ['nailgun/nailgun/test/integration/test_node_nic_handler.py', 'nailgun/nailgun/settings.yaml'], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/32a0d350b9ef826de6d3d7ffa727bca17a6e8f36', 'message': ""Small default version change\n\n- required as it's shown in nailgun fake mode\n- from 5.0 to 6.1\n- mocked version in test_node_nic_handler.TestHandlers.test_get_handler_with_NICs\n  always to be 5.0 (different serialization was used before 6.1).\n  Separate test for 6.1 already exists in same module\n\nChange-Id: I9ac64ea516e699bda4a79ecd00446566891e21f2\n""}]",2,182177,32a0d350b9ef826de6d3d7ffa727bca17a6e8f36,52,14,5,13840,,,0,"Small default version change

- required as it's shown in nailgun fake mode
- from 5.0 to 6.1
- mocked version in test_node_nic_handler.TestHandlers.test_get_handler_with_NICs
  always to be 5.0 (different serialization was used before 6.1).
  Separate test for 6.1 already exists in same module

Change-Id: I9ac64ea516e699bda4a79ecd00446566891e21f2
",git fetch https://review.opendev.org/openstack/fuel-web refs/changes/77/182177/3 && git format-patch -1 --stdout FETCH_HEAD,['nailgun/nailgun/settings.yaml'],1,07f13d0e425ff6a4980920d5d0270a53379211f2,version_bump," release: ""6.0"""," release: ""5.0""",1,1
openstack%2Frally~master~Ie171774c330ccee3e888b933b9e6f17169218abc,openstack/rally,master,Ie171774c330ccee3e888b933b9e6f17169218abc,DO NOT MERGE: get subunit output,ABANDONED,2015-05-06 14:08:23.000000000,2015-05-13 09:56:07.000000000,,"[{'_account_id': 3}, {'_account_id': 6172}, {'_account_id': 14817}]","[{'number': 1, 'created': '2015-05-06 14:08:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/60207e500515eae1822db839d670c35292d9bb62', 'message': 'DO NOT MERGE: get subunit output\n\nChange-Id: Ie171774c330ccee3e888b933b9e6f17169218abc\n'}, {'number': 2, 'created': '2015-05-06 15:16:37.000000000', 'files': ['tests/ci/rally-verify.sh'], 'web_link': 'https://opendev.org/openstack/rally/commit/e32cabd0748bd2adb4008a2235d1a56f25fcbefd', 'message': 'DO NOT MERGE: get subunit output\n\nChange-Id: Ie171774c330ccee3e888b933b9e6f17169218abc\n'}]",0,180556,e32cabd0748bd2adb4008a2235d1a56f25fcbefd,10,3,2,9545,,,0,"DO NOT MERGE: get subunit output

Change-Id: Ie171774c330ccee3e888b933b9e6f17169218abc
",git fetch https://review.opendev.org/openstack/rally refs/changes/56/180556/2 && git format-patch -1 --stdout FETCH_HEAD,['tests/ci/rally-verify.sh'],1,60207e500515eae1822db839d670c35292d9bb62,psy, cp ~/.rally/tempest/for-deployment-{RALLY_DEPLOYMENT}/subunit.stream ${RESULTS_DIR}/${1}.subunit gzip -9 ${RESULTS_DIR}/${1}.subunit ,,4,0
openstack%2Ffuel-library~master~I85008079b0e922a4518c696a097238500132fa04,openstack/fuel-library,master,I85008079b0e922a4518c696a097238500132fa04,Enable keystone wsgi support,MERGED,2015-04-14 13:25:36.000000000,2015-05-13 09:49:15.000000000,2015-05-13 09:48:34.000000000,"[{'_account_id': 3}, {'_account_id': 6719}, {'_account_id': 6926}, {'_account_id': 8786}, {'_account_id': 8971}, {'_account_id': 9387}, {'_account_id': 11090}, {'_account_id': 13344}, {'_account_id': 14774}]","[{'number': 1, 'created': '2015-04-14 13:25:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/773aaa8315f0ce029bf1d26f7faa4596ca63f155', 'message': 'Enable keystone wsgi support\n\nChange-Id: I85008079b0e922a4518c696a097238500132fa04\nCloses-Bug: 1313662\n'}, {'number': 2, 'created': '2015-04-17 11:44:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/3a825c44af928e3c7b2e1e223c7e6024e0a3b4c6', 'message': 'Enable keystone wsgi support\n\n* Run keystone as Apache vhost\n\nChange-Id: I85008079b0e922a4518c696a097238500132fa04\nCloses-Bug: 1313662'}, {'number': 3, 'created': '2015-04-17 17:55:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/605b5e4d21c2048cd900f96a99b4d3ac1021e4f1', 'message': 'Enable keystone wsgi support\n\n* Run keystone as Apache vhost\n\nChange-Id: I85008079b0e922a4518c696a097238500132fa04\nCloses-Bug: 1313662'}, {'number': 4, 'created': '2015-04-21 12:21:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/80f7198034e540fde025beabdfeaea29cbfcfa08', 'message': 'Enable keystone wsgi support\n\n* Run keystone as Apache vhost\n\nChange-Id: I85008079b0e922a4518c696a097238500132fa04\nCloses-Bug: 1313662'}, {'number': 5, 'created': '2015-04-22 13:56:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/2e8dd8b0ce39e0cb2f10ede753fde1183a077c00', 'message': 'Enable keystone wsgi support\n\n* Run keystone as Apache vhost\n\nChange-Id: I85008079b0e922a4518c696a097238500132fa04\nCloses-Bug: 1313662'}, {'number': 6, 'created': '2015-04-23 16:40:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/972d552a02f8010ff78e87bb86a650b3225005f6', 'message': 'Enable keystone wsgi support\n\n* Run keystone as Apache vhost\n\nChange-Id: I85008079b0e922a4518c696a097238500132fa04\nCloses-Bug: 1313662'}, {'number': 7, 'created': '2015-04-24 14:49:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/9186ac7124e36d5b5a4ccb372dd211a265a5982b', 'message': 'Enable keystone wsgi support\n\n* Run keystone as Apache vhost\n\nChange-Id: I85008079b0e922a4518c696a097238500132fa04\nCloses-Bug: 1313662\n'}, {'number': 8, 'created': '2015-04-24 16:09:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/2725a64ccf6de6a13d5f77a11c55d18424e86c50', 'message': 'Enable keystone wsgi support\n\n* Run keystone as Apache vhost\n\nChange-Id: I85008079b0e922a4518c696a097238500132fa04\nCloses-Bug: 1313662\n'}, {'number': 9, 'created': '2015-04-27 11:31:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/938d0fce210c13281975b82a812736a22f0a9f36', 'message': 'Enable keystone wsgi support\n\n* Run keystone as Apache vhost\n\nChange-Id: I85008079b0e922a4518c696a097238500132fa04\nCloses-Bug: 1313662\n'}, {'number': 10, 'created': '2015-04-27 13:30:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/f17af5e2a349db37fb09d784cf1cd6bfb49c4560', 'message': 'Enable keystone wsgi support\n\n* Run keystone as Apache vhost\n* Pull wsgi threads and priority configuration from upstream\n  change-id: Ib05ac81381e169845b44b2ef7cb810a4d5db17de\n* Fix for keystone spec tests (use concat 1.2.1 in fixtures)\n\nChange-Id: I85008079b0e922a4518c696a097238500132fa04\nCloses-Bug: 1313662\n'}, {'number': 11, 'created': '2015-04-27 15:32:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/36611dad1ed819c4c519b843528582f66cdc6fc8', 'message': 'Enable keystone wsgi support\n\n* Run keystone as Apache vhost\n* Pull wsgi threads and priority configuration from upstream\n  change-id: Ib05ac81381e169845b44b2ef7cb810a4d5db17de\n* Fix for keystone spec tests (use concat 1.2.1 in fixtures)\n* Use keystone.py wsgi script from packages instead of downloading\n  it from puppet module. Requires deb package with this patch:\n  https://review.fuel-infra.org/6251\n\nChange-Id: I85008079b0e922a4518c696a097238500132fa04\nCloses-Bug: 1313662\n'}, {'number': 12, 'created': '2015-04-27 15:43:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/b760f2c9026f02519186d7f0b6e2cec426be34a0', 'message': 'Enable keystone wsgi support\n\n* Run keystone as Apache vhost\n* Pull wsgi threads and priority configuration from upstream\n  change-id: Ib05ac81381e169845b44b2ef7cb810a4d5db17de\n* Fix for keystone spec tests (use concat 1.2.1 in fixtures)\n* Use keystone.py wsgi script from packages instead of downloading\n  it from puppet module. Requires deb package with this patch:\n  https://review.fuel-infra.org/6251\n\nCI is disabled because it will fail on Ubuntu until we merge patch\nfor deb package and update CI ISO with it.\nFuel-CI: disable\n\nChange-Id: I85008079b0e922a4518c696a097238500132fa04\nCloses-Bug: 1313662\n'}, {'number': 13, 'created': '2015-04-27 17:20:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/f8e4e6f70873f5a8cf8e46c6b0e167742a179a5a', 'message': 'Enable keystone wsgi support\n\n* Run keystone as Apache vhost\n* Pull wsgi threads and priority configuration from upstream\n  change-id: Ib05ac81381e169845b44b2ef7cb810a4d5db17de\n* Fix for keystone spec tests (use concat 1.2.1 in fixtures)\n\nChange-Id: I85008079b0e922a4518c696a097238500132fa04\nCloses-Bug: 1313662\n'}, {'number': 14, 'created': '2015-04-28 13:16:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/d7ea9bf0dbacc45bd26cf93a9c0eb088a0e78f94', 'message': ""Enable keystone wsgi support\n\n* Run keystone as Apache vhost\n* Pull wsgi threads and priority configuration from upstream\n  change-id: Ib05ac81381e169845b44b2ef7cb810a4d5db17de\n* Pull custom file source for wsgi scripts from upstream\n  change-id: I941bf8804982e9081812e076f7a736f413220047\n* Fix for keystone spec tests (use concat 1.2.1 in fixtures)\n* Use keystone.py wsgi script from packages instead of downloading\n  it from puppet module. Requires deb package with this patch:\n  https://review.fuel-infra.org/6251\n  Until it's megred, we'll use upstream wsgi script for Debian\n\nChange-Id: I85008079b0e922a4518c696a097238500132fa04\nCloses-Bug: 1313662\n""}, {'number': 15, 'created': '2015-04-28 15:49:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/1f09f999070eca29c7dee5b683e6653e9456bf12', 'message': ""Enable keystone wsgi support\n\n* New task to deploy Apache and configure MPM\n* Run keystone as Apache vhost\n* Pull wsgi threads and priority configuration from upstream\n  change-id: Ib05ac81381e169845b44b2ef7cb810a4d5db17de\n* Pull custom file source for wsgi scripts from upstream\n  change-id: I941bf8804982e9081812e076f7a736f413220047\n* Fix for keystone spec tests (use concat 1.2.1 in fixtures)\n* Use keystone.py wsgi script from packages instead of downloading\n  it from puppet module. Requires deb package with this patch:\n  https://review.fuel-infra.org/6251\n  Until it's megred, we'll use upstream wsgi script for Debian\n\nChange-Id: I85008079b0e922a4518c696a097238500132fa04\nCloses-Bug: 1313662\n""}, {'number': 16, 'created': '2015-04-28 16:17:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/0c97650d4e34038630df6b6063e573479ebe08fb', 'message': ""Enable keystone wsgi support\n\n* New task to deploy Apache and configure MPM\n* Run keystone as Apache vhost\n* Pull wsgi threads and priority configuration from upstream\n  change-id: Ib05ac81381e169845b44b2ef7cb810a4d5db17de\n* Pull custom file source for wsgi scripts from upstream\n  change-id: I941bf8804982e9081812e076f7a736f413220047\n* Fix for keystone spec tests (use concat 1.2.1 in fixtures)\n* Use keystone.py wsgi script from packages instead of downloading\n  it from puppet module. Requires deb package with this patch:\n  https://review.fuel-infra.org/6251\n  Until it's megred, we'll use upstream wsgi script for Debian\n\nChange-Id: I85008079b0e922a4518c696a097238500132fa04\nCloses-Bug: 1313662\n""}, {'number': 17, 'created': '2015-04-29 15:26:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/21731140748a9034f3ac1ef8d7f6e9c1ddb9d037', 'message': ""Enable keystone wsgi support\n\n* New task to deploy Apache and configure MPM\n* Run keystone as Apache vhost\n* Pull wsgi threads and priority configuration from upstream\n  change-id: Ib05ac81381e169845b44b2ef7cb810a4d5db17de\n* Pull custom file source for wsgi scripts from upstream\n  change-id: I941bf8804982e9081812e076f7a736f413220047\n* Fix for keystone spec tests (use concat 1.2.1 in fixtures)\n* Use keystone.py wsgi script from packages instead of downloading\n  it from puppet module. Requires deb package with this patch:\n  https://review.fuel-infra.org/6251\n  Until it's megred, we'll use upstream wsgi script for Debian\n\nChange-Id: I85008079b0e922a4518c696a097238500132fa04\nCloses-Bug: 1313662\n""}, {'number': 18, 'created': '2015-05-12 12:20:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/fa8a5adb1697f6914c74d54b11c6d9ba3a562d85', 'message': ""Enable keystone wsgi support\n\n* New task to deploy Apache and configure MPM\n* Run keystone as Apache vhost\n* Pull wsgi threads and priority configuration from upstream\n  change-id: Ib05ac81381e169845b44b2ef7cb810a4d5db17de\n* Pull custom file source for wsgi scripts from upstream\n  change-id: I941bf8804982e9081812e076f7a736f413220047\n* Fix for keystone spec tests (use concat 1.2.1 in fixtures)\n* Use keystone.py wsgi script from packages instead of downloading\n  it from puppet module. Requires deb package with this patch:\n  https://review.fuel-infra.org/6251\n  Until it's megred, we'll use upstream wsgi script for Debian\n\nChange-Id: I85008079b0e922a4518c696a097238500132fa04\nCloses-Bug: 1313662\n""}, {'number': 19, 'created': '2015-05-12 14:36:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/a038bbb34054befc878ccfa4bd17742ad36e7e3a', 'message': ""Enable keystone wsgi support\n\n* New task to deploy Apache and configure MPM\n* Run keystone as Apache vhost\n* Pull wsgi threads and priority configuration from upstream\n  change-id: Ib05ac81381e169845b44b2ef7cb810a4d5db17de\n* Pull custom file source for wsgi scripts from upstream\n  change-id: I941bf8804982e9081812e076f7a736f413220047\n* Fix for keystone spec tests (use concat 1.2.1 in fixtures)\n* Use keystone.py wsgi script from packages instead of downloading\n  it from puppet module. Requires deb package with this patch:\n  https://review.fuel-infra.org/6251\n  Until it's megred, we'll use upstream wsgi script for Debian\n\nChange-Id: I85008079b0e922a4518c696a097238500132fa04\nCloses-Bug: 1313662\n""}, {'number': 20, 'created': '2015-05-12 15:06:13.000000000', 'files': ['deployment/puppet/keystone/files/httpd/keystone.py', 'deployment/puppet/osnailyfacter/modular/api-proxy/tasks.yaml', 'deployment/puppet/keystone/spec/classes/keystone_wsgi_apache_spec.rb', 'tests/noop/spec/hosts/horizon/horizon_spec.rb', 'deployment/puppet/osnailyfacter/modular/globals/globals.pp', 'tests/noop/spec/hosts/keystone/keystone_spec.rb', 'deployment/puppet/osnailyfacter/manifests/apache.pp', 'deployment/puppet/osnailyfacter/modular/apache/apache.pp', 'deployment/puppet/openstack/manifests/horizon.pp', 'deployment/puppet/keystone/manifests/wsgi/apache.pp', 'deployment/puppet/osnailyfacter/manifests/apache_mpm.pp', 'deployment/puppet/openstack/manifests/keystone.pp', 'deployment/puppet/osnailyfacter/modular/ceph/tasks.yaml', 'deployment/puppet/osnailyfacter/modular/horizon/horizon.pp', 'deployment/puppet/osnailyfacter/modular/keystone/keystone.pp', 'tests/noop/spec/hosts/apache/apache_spec.rb', 'deployment/puppet/osnailyfacter/modular/apache/apache_post.rb', 'deployment/puppet/osnailyfacter/modular/apache/tasks.yaml', 'deployment/puppet/keystone/.fixtures.yml'], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/4b1a79095994169189d18e7f5849c2c089263fd0', 'message': ""Enable keystone wsgi support\n\n* New task to deploy Apache and configure MPM\n* Run keystone as Apache vhost\n* Pull wsgi threads and priority configuration from upstream\n  change-id: Ib05ac81381e169845b44b2ef7cb810a4d5db17de\n* Pull custom file source for wsgi scripts from upstream\n  change-id: I941bf8804982e9081812e076f7a736f413220047\n* Fix for keystone spec tests (use concat 1.2.1 in fixtures)\n* Use keystone.py wsgi script from packages instead of downloading\n  it from puppet module. Requires deb package with this patch:\n  https://review.fuel-infra.org/6251\n  Until it's megred, we'll use upstream wsgi script for Debian\n\nChange-Id: I85008079b0e922a4518c696a097238500132fa04\nCloses-Bug: 1313662\n""}]",0,173314,4b1a79095994169189d18e7f5849c2c089263fd0,283,9,20,9037,,,0,"Enable keystone wsgi support

* New task to deploy Apache and configure MPM
* Run keystone as Apache vhost
* Pull wsgi threads and priority configuration from upstream
  change-id: Ib05ac81381e169845b44b2ef7cb810a4d5db17de
* Pull custom file source for wsgi scripts from upstream
  change-id: I941bf8804982e9081812e076f7a736f413220047
* Fix for keystone spec tests (use concat 1.2.1 in fixtures)
* Use keystone.py wsgi script from packages instead of downloading
  it from puppet module. Requires deb package with this patch:
  https://review.fuel-infra.org/6251
  Until it's megred, we'll use upstream wsgi script for Debian

Change-Id: I85008079b0e922a4518c696a097238500132fa04
Closes-Bug: 1313662
",git fetch https://review.opendev.org/openstack/fuel-library refs/changes/14/173314/20 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/puppet/keystone/files/httpd/keystone.py', 'deployment/puppet/osnailyfacter/modular/keystone/keystone.pp']",2,773aaa8315f0ce029bf1d26f7faa4596ca63f155,bug/1313662,"$enabled = false $ssl = false####### WSGI ########### include 'apache' class { 'keystone::wsgi::apache' : ssl => $ssl, } enabled => $workloads_hash['enabled'], workloads_username => $workloads_hash['username'], workloads_password => $workloads_hash['password'], workloads_tenant => $workloads_hash['tenant'], } Service<| title == 'httpd' |> -> Haproxy_backend_status<||> Haproxy_backend_status<||> -> Class['keystone::roles::admin']","$enabled = true enabled => $workloads_hash[enabled], workloads_username => $workloads_hash[username], workloads_password => $workloads_hash[password], workloads_tenant => $workloads_hash[tenant], } ",42,19
openstack%2Fnova~master~Ia44fb0a8b77dbfed491b0093440cde6fff395ef7,openstack/nova,master,Ia44fb0a8b77dbfed491b0093440cde6fff395ef7,WIP: Passing body for all requests but for TRACE,ABANDONED,2015-05-11 14:41:39.000000000,2015-05-13 09:34:36.000000000,,"[{'_account_id': 3}, {'_account_id': 679}, {'_account_id': 5170}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 15286}, {'_account_id': 15751}]","[{'number': 1, 'created': '2015-05-11 14:41:39.000000000', 'files': ['nova/api/openstack/wsgi.py', 'nova/tests/unit/api/openstack/test_wsgi.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/314261f6b65df8f6b0f1a5ec0162d1e64b7cfdab', 'message': 'WIP: Passing body for all requests but for TRACE\n\nAt the moment just the POST and PUT are the methods allowed to have a\nbody in the request. This change specifies that just the TRACE method\nmust not have a body and allows all the other method to have one as\nspecified by the RFC 7231.\nThe body could then be ignored in the specific class managing the\nrequest but it should not be banned at the wsgi layer.\n\nNOTE: This is a WIP at the moment if we have a consensus about this\nproposal we might want to include in this change the modification of the\nexisting methods to add a new parameter (body=None) to avoid that they\nraise the error ""got an unexpected keyword argument \'body\'"" when they\nare called with a body.\n\nChange-Id: Ia44fb0a8b77dbfed491b0093440cde6fff395ef7\n'}]",0,181918,314261f6b65df8f6b0f1a5ec0162d1e64b7cfdab,10,8,1,1865,,,0,"WIP: Passing body for all requests but for TRACE

At the moment just the POST and PUT are the methods allowed to have a
body in the request. This change specifies that just the TRACE method
must not have a body and allows all the other method to have one as
specified by the RFC 7231.
The body could then be ignored in the specific class managing the
request but it should not be banned at the wsgi layer.

NOTE: This is a WIP at the moment if we have a consensus about this
proposal we might want to include in this change the modification of the
existing methods to add a new parameter (body=None) to avoid that they
raise the error ""got an unexpected keyword argument 'body'"" when they
are called with a body.

Change-Id: Ia44fb0a8b77dbfed491b0093440cde6fff395ef7
",git fetch https://review.opendev.org/openstack/nova refs/changes/18/181918/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/api/openstack/wsgi.py', 'nova/tests/unit/api/openstack/test_wsgi.py']",2,314261f6b65df8f6b0f1a5ec0162d1e64b7cfdab,allow_body_in_requests," def test_get_content_from_meth_without_body(self): method = wsgi.get_method_without_body()[0] req = webob.Request.blank('/tests', method=method) resource = wsgi.Resource(object) result = resource.get_request_contents(req, method, None, None) expected = {} self.assertEqual(result, expected) self.assertRaises(webob.exc.HTTPBadRequest, resource.get_request_contents, req, method, None, '{""body"": {""key"": ""value""}}') def test_get_content_from_meth_should_have_empty_body(self): method = wsgi.get_method_with_empty_body()[0] req = webob.Request.blank('/tests', method=method, content_length=0) resource = wsgi.Resource(object) expected = {'body': None} result = resource.get_request_contents(req, method, None, None) self.assertEqual(result, expected) req = webob.Request.blank('/tests', method=method) self.assertRaises(exception.InvalidContentType, resource.get_request_contents, req, method, None, '{""body"": {""key"": ""value""}}') expected = {""reqbody"": {""key"": ""value""}} result = resource.get_request_contents(req, method, 'application/json', '{""reqbody"": {""key"": ""value""}}') self.assertEqual(result['body'], expected) def test_get_content_from_meth_without_empty_body(self): req = webob.Request.blank('/tests', method='DELETE') resource = wsgi.Resource(object) expected = {} result = resource.get_request_contents(req, 'DELETE', None, None) self.assertEqual(result, expected) def test_get_content_from_meth_with_body(self): req = webob.Request.blank('/tests', method='DELETE') resource = wsgi.Resource(object) expected = {""reqbody"": {""key"": ""value""}} result = resource.get_request_contents(req, 'POST', 'application/json', '{""reqbody"": {""key"": ""value""}}') self.assertEqual(result['body'], expected) def index(self, req, body=None): req = webob.Request.blank('/tests', content_type='application/json') def delete(self, req, id, body=None): expected_body = ""{'body': {""\ ""'key': 'value' } }"" return expected_body req = webob.Request.blank('/tests/test_id', method=""DELETE"", content_type='application/json') expected_body = ""{'body': {"" \ ""'key': 'value' } }"" self.assertEqual(response.body, expected_body)"," def index(self, req): req = webob.Request.blank('/tests') def delete(self, req, id): return ""success"" req = webob.Request.blank('/tests/test_id', method=""DELETE"") response = req.get_response(app) self.assertEqual(response.status_int, 200) self.assertEqual(response.body, 'success') # ignore the body self.assertEqual(response.body, 'success')",107,20
openstack%2Fcinder~master~I2121b03b9f2310c40e0158627b7d4b9ba73a8f5d,openstack/cinder,master,I2121b03b9f2310c40e0158627b7d4b9ba73a8f5d,Cinder os-attach api returns 500,MERGED,2015-04-29 09:01:53.000000000,2015-05-13 09:34:23.000000000,2015-05-08 18:54:57.000000000,"[{'_account_id': 3}, {'_account_id': 1207}, {'_account_id': 2243}, {'_account_id': 2759}, {'_account_id': 7198}, {'_account_id': 8300}, {'_account_id': 9008}, {'_account_id': 9751}, {'_account_id': 10263}, {'_account_id': 10621}, {'_account_id': 10622}, {'_account_id': 11611}, {'_account_id': 11811}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12202}, {'_account_id': 12249}, {'_account_id': 12369}, {'_account_id': 12493}, {'_account_id': 12778}, {'_account_id': 12780}, {'_account_id': 13144}, {'_account_id': 13394}, {'_account_id': 14206}, {'_account_id': 14242}, {'_account_id': 14259}, {'_account_id': 14797}, {'_account_id': 14969}, {'_account_id': 15249}, {'_account_id': 15374}, {'_account_id': 15764}]","[{'number': 1, 'created': '2015-04-29 09:01:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/78f1039d2f0cfcf03cf028e8b41b30c199bb4457', 'message': ""cinder os-attach api returns 500\n\nIf volume is in 'in-use' state or invalid instance UUID\nis passed to cinder os-attach api, then it returns 500 error\nbecause InvalidVolume and InvalidUUID exceptions are raised\nfrom manager, but not caught at api level.\n\n1. In attach_volume() method of manager, db entry is made with\n   instance UUID even it is invalid and another db call is made to\n   update 'attach_status' of volume to 'error_attaching' for the\n   previous entry.\n   By moving instance UUID validation at api level we can avoid these\n   unnecessary db calls and rpcapi call.\n2. Caught RemoteError exception in the api and returned 400 error\n   code if user passes invalid information of the volume.\n\nCloses-Bug: 1449454\nChange-Id: I2121b03b9f2310c40e0158627b7d4b9ba73a8f5d\n""}, {'number': 2, 'created': '2015-04-30 10:27:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/fe49c73f895eb99389983d780fa844ced5e87d8d', 'message': ""Cinder os-attach api returns 500\n\nIf volume is in 'in-use' state or invalid instance UUID\nis passed to cinder os-attach api, then it returns 500 error\nbecause InvalidVolume and InvalidUUID exceptions are raised\nfrom manager, but not caught at api level.\n\nCaught RemoteError exception in the api and returned 400 error\ncode if user passes invalid information of the volume or invalid\ninstance UUID.\n\nCloses-Bug: 1449454\nChange-Id: I2121b03b9f2310c40e0158627b7d4b9ba73a8f5d\n""}, {'number': 3, 'created': '2015-05-07 11:21:39.000000000', 'files': ['cinder/tests/unit/api/contrib/test_volume_actions.py', 'cinder/api/contrib/volume_actions.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/42d4d1cc7fe8b2f5eb797905baf3a82220c1d711', 'message': ""Cinder os-attach api returns 500\n\nIf volume is in 'in-use' state or invalid instance UUID\nis passed to cinder os-attach api, then it returns 500 error\nbecause InvalidVolume and InvalidUUID exceptions are raised\nfrom manager, but not caught at api level.\n\nCaught RemoteError exception in the api and returned 400 error\ncode if user passes invalid information of the volume or invalid\ninstance UUID.\n\nCloses-Bug: 1449454\nChange-Id: I2121b03b9f2310c40e0158627b7d4b9ba73a8f5d\n""}]",3,178565,42d4d1cc7fe8b2f5eb797905baf3a82220c1d711,69,32,3,10300,,,0,"Cinder os-attach api returns 500

If volume is in 'in-use' state or invalid instance UUID
is passed to cinder os-attach api, then it returns 500 error
because InvalidVolume and InvalidUUID exceptions are raised
from manager, but not caught at api level.

Caught RemoteError exception in the api and returned 400 error
code if user passes invalid information of the volume or invalid
instance UUID.

Closes-Bug: 1449454
Change-Id: I2121b03b9f2310c40e0158627b7d4b9ba73a8f5d
",git fetch https://review.opendev.org/openstack/cinder refs/changes/65/178565/2 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/manager.py', 'cinder/tests/unit/api/contrib/test_volume_actions.py', 'cinder/api/contrib/volume_actions.py']",3,78f1039d2f0cfcf03cf028e8b41b30c199bb4457,bug/1449454,"from oslo_utils import uuidutils elif instance_uuid and not uuidutils.is_uuid_like(instance_uuid): raise exception.InvalidUUID(uuid=instance_uuid) try: self.volume_api.attach(context, volume, instance_uuid, host_name, mountpoint, mode) except messaging.RemoteError as error: msg = ""%(err_type)s: %(err_msg)s"" % {'err_type': error.exc_type, 'err_msg': error.value} raise webob.exc.HTTPBadRequest(explanation=msg)"," self.volume_api.attach(context, volume, instance_uuid, host_name, mountpoint, mode)",41,10
openstack%2Ftacker~master~I53df914d93c071fa4584f34f6f0b2c807b0136b9,openstack/tacker,master,I53df914d93c071fa4584f34f6f0b2c807b0136b9,teach service type to vnfd and vnf,MERGED,2015-05-13 09:10:56.000000000,2015-05-13 09:29:41.000000000,2015-05-13 09:29:41.000000000,"[{'_account_id': 3}, {'_account_id': 333}]","[{'number': 1, 'created': '2015-05-13 09:10:56.000000000', 'files': ['tacker/db/vm/vm_db.py', 'tacker/vm/drivers/heat/heat.py'], 'web_link': 'https://opendev.org/openstack/tacker/commit/87b8d0fb4a8a1c5d2f2b1419180bffcd70b0a3d7', 'message': 'teach service type to vnfd and vnf\n\nChange-Id: I53df914d93c071fa4584f34f6f0b2c807b0136b9\n'}]",0,182582,87b8d0fb4a8a1c5d2f2b1419180bffcd70b0a3d7,6,2,1,333,,,0,"teach service type to vnfd and vnf

Change-Id: I53df914d93c071fa4584f34f6f0b2c807b0136b9
",git fetch https://review.opendev.org/openstack/tacker refs/changes/82/182582/1 && git format-patch -1 --stdout FETCH_HEAD,"['tacker/db/vm/vm_db.py', 'tacker/vm/drivers/heat/heat.py']",2,87b8d0fb4a8a1c5d2f2b1419180bffcd70b0a3d7,refresh," service_types = vnfd_dict.get('service_properties', {}).get('type', []) if service_types: device_template_dict.setdefault('service_types', []).extend( [{'service_type': service_type} for service_type in service_types]) LOG.debug(_('device_template %s'), device_template) for key in ('monitoring_policy', 'failure_policy', 'service_type'):"," for key in ('monitoring_policy', 'failure_policy'):",10,1
openstack%2Ffuel-web~stable%2F6.0~I3d2d0c3638935ec1a4421a5305a04b826cb32f89,openstack/fuel-web,stable/6.0,I3d2d0c3638935ec1a4421a5305a04b826cb32f89,Replace all occurrences of $ with $$ in vCenter,ABANDONED,2015-05-12 19:15:33.000000000,2015-05-13 09:28:36.000000000,,"[{'_account_id': 3}, {'_account_id': 8971}, {'_account_id': 10391}, {'_account_id': 10959}, {'_account_id': 11082}, {'_account_id': 11427}, {'_account_id': 11577}, {'_account_id': 14543}]","[{'number': 1, 'created': '2015-05-12 19:15:33.000000000', 'files': ['nailgun/nailgun/orchestrator/deployment_serializers.py', 'nailgun/nailgun/test/integration/test_orchestrator_serializer.py'], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/6d0c284a12133ca91fd6248cb2dd438af689cece', 'message': ""Replace all occurrences of $ with $$ in vCenter\n\nBackport from 6.1\n\nOpenStack services may reference to previously defined variable in\nconfiguration files using $ (dollar sign), e.g. 'metadata_host =\n$my_ip'. Interpolation can be avoided by using $$.  Passwords often\ncontain metachars and $ is one of them.  We must replace all $\noccurrences with $$, otherwise service will fail to start because it\ncannot interpolate non-existing variable.\n\nChange-Id: I3d2d0c3638935ec1a4421a5305a04b826cb32f89\nCloses-bug: #1436083\n""}]",1,182420,6d0c284a12133ca91fd6248cb2dd438af689cece,7,8,1,14167,,,0,"Replace all occurrences of $ with $$ in vCenter

Backport from 6.1

OpenStack services may reference to previously defined variable in
configuration files using $ (dollar sign), e.g. 'metadata_host =
$my_ip'. Interpolation can be avoided by using $$.  Passwords often
contain metachars and $ is one of them.  We must replace all $
occurrences with $$, otherwise service will fail to start because it
cannot interpolate non-existing variable.

Change-Id: I3d2d0c3638935ec1a4421a5305a04b826cb32f89
Closes-bug: #1436083
",git fetch https://review.opendev.org/openstack/fuel-web refs/changes/20/182420/1 && git format-patch -1 --stdout FETCH_HEAD,"['nailgun/nailgun/orchestrator/deployment_serializers.py', 'nailgun/nailgun/test/integration/test_orchestrator_serializer.py']",2,6d0c284a12133ca91fd6248cb2dd438af689cece,bug/1436083," DeploymentHASerializer60 from nailgun.orchestrator.deployment_serializers import\from nailgun.orchestrator.deployment_serializers import\ DeploymentMultinodeSerializer60 PriorityHASerializer60 from nailgun.orchestrator.priority_serializers import\from nailgun.orchestrator.priority_serializers import\ PriorityMultinodeSerializer60 def create_env(self, mode): cluster = self.env.create( cluster_kwargs={ 'mode': mode, 'net_provider': 'neutron'}, nodes_kwargs=[{ 'roles': ['controller'], 'pending_addition': True}]) cluster_db = self.db.query(Cluster).get(cluster['id']) objects.NodeCollection.prepare_for_deployment( cluster_db.nodes) self.db.flush() return cluster_db def check_vmware_escaped_dollar_sign(self): cluster_attrs = objects.Cluster.get_attributes( self.cluster_db).editable cluster_attrs['common']['libvirt_type']['value'] = 'vcenter' cluster_attrs['vcenter']['vc_user']['value'] = 'user$' cluster_attrs['vcenter']['vc_password']['value'] = 'pass$word' cluster_attrs['vcenter']['datastore_regex']['value'] = '^stack-[0-9]$' cluster_attrs['storage']['vc_user']['value'] = 'user$' cluster_attrs['storage']['vc_password']['value'] = 'pass$word' objects.Cluster.update_attributes( self.cluster_db, {'editable': cluster_attrs}) result = self.serializer.get_common_attrs(self.cluster_db) self.assertEqual( result['vcenter']['vc_user'], ""user$$"") self.assertEqual( result['vcenter']['vc_password'], ""pass$$word"") self.assertEqual( result['vcenter']['datastore_regex'], ""^stack-[0-9]$$"") self.assertEqual( result['storage']['vc_user'], ""user$$"") self.assertEqual( result['storage']['vc_password'], ""pass$$word"") class TestDeploymentHASerializer60(OrchestratorSerializerTestBase): def setUp(self): super(TestDeploymentHASerializer60, self).setUp() self.cluster_db = self.create_env('ha_compact') @property def serializer(self): return DeploymentHASerializer60( PriorityHASerializer60) def test_vmware_escaped_dollar_sign(self): self.check_vmware_escaped_dollar_sign() class TestDeploymentMultinodeSerializer60(OrchestratorSerializerTestBase): def setUp(self): super(TestDeploymentMultinodeSerializer60, self).setUp() self.cluster_db = self.create_env('multinode') @property def serializer(self): return DeploymentMultinodeSerializer60( PriorityMultinodeSerializer60) def test_vmware_escaped_dollar_sign(self): self.check_vmware_escaped_dollar_sign()",,124,0
openstack%2Fnova~master~I9bb4090aa5685b48c4cc96e77ba1867b26abd0b7,openstack/nova,master,I9bb4090aa5685b48c4cc96e77ba1867b26abd0b7,Updated from global requirements,MERGED,2015-05-01 08:14:48.000000000,2015-05-13 09:22:39.000000000,2015-05-02 00:46:40.000000000,"[{'_account_id': 3}, {'_account_id': 679}, {'_account_id': 1849}, {'_account_id': 5170}, {'_account_id': 8871}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 15286}, {'_account_id': 15751}]","[{'number': 1, 'created': '2015-05-01 08:14:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3119f27f96678986902aa30177b313054f6668c3', 'message': 'Updated from global requirements\n\nChange-Id: I9bb4090aa5685b48c4cc96e77ba1867b26abd0b7\n'}, {'number': 2, 'created': '2015-05-01 20:22:37.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/nova/commit/2923f1c1486f4cfb68b401fc332ba60bbcb1e1ee', 'message': 'Updated from global requirements\n\nChange-Id: I9bb4090aa5685b48c4cc96e77ba1867b26abd0b7\n'}]",0,179340,2923f1c1486f4cfb68b401fc332ba60bbcb1e1ee,25,10,2,11131,,,0,"Updated from global requirements

Change-Id: I9bb4090aa5685b48c4cc96e77ba1867b26abd0b7
",git fetch https://review.opendev.org/openstack/nova refs/changes/40/179340/2 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'test-requirements.txt']",2,3119f27f96678986902aa30177b313054f6668c3,openstack/requirements,oslosphinx>=2.5.0 # Apache-2.0 oslotest>=1.5.1 # Apache-2.0oslo.vmware>=0.11.1 # Apache-2.0,"oslosphinx>=2.5.0,<2.6.0 # Apache-2.0 oslotest>=1.5.1,<1.6.0 # Apache-2.0oslo.vmware>=0.11.1,<0.12.0 # Apache-2.0",16,16
openstack%2Fstevedore~master~Iec918ccdaaa57332cc0f0c2f284ca12daf3389d6,openstack/stevedore,master,Iec918ccdaaa57332cc0f0c2f284ca12daf3389d6,Remove run_cross_tests.sh,MERGED,2015-05-01 19:40:15.000000000,2015-05-13 09:22:38.000000000,2015-05-13 09:22:36.000000000,"[{'_account_id': 3}, {'_account_id': 1297}, {'_account_id': 2813}]","[{'number': 1, 'created': '2015-05-01 19:40:15.000000000', 'files': ['tools/run_cross_tests.sh'], 'web_link': 'https://opendev.org/openstack/stevedore/commit/db174c558be11142d382fa2a1ddcb5fbf0e30154', 'message': 'Remove run_cross_tests.sh\n\nThis script is part of the oslotest package now.\n\nChange-Id: Iec918ccdaaa57332cc0f0c2f284ca12daf3389d6\n'}]",0,179482,db174c558be11142d382fa2a1ddcb5fbf0e30154,7,3,1,2472,,,0,"Remove run_cross_tests.sh

This script is part of the oslotest package now.

Change-Id: Iec918ccdaaa57332cc0f0c2f284ca12daf3389d6
",git fetch https://review.opendev.org/openstack/stevedore refs/changes/82/179482/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/run_cross_tests.sh'],1,db174c558be11142d382fa2a1ddcb5fbf0e30154,remove-cross-test-script,,"#!/bin/bash # # Run cross-project tests # Fail the build if any command fails set -e project_dir=""$1"" venv=""$2"" # Set up the virtualenv without running the tests (cd $project_dir && tox --notest -e $venv) tox_envbin=$project_dir/.tox/$venv/bin our_name=$(python setup.py --name) # Replace the pip-installed package with the version in our source # tree. Look to see if we are already installed before trying to # uninstall ourselves, to avoid failures from packages that do not use us # yet. if $tox_envbin/pip freeze | grep -q $our_name then $tox_envbin/pip uninstall -y $our_name fi $tox_envbin/pip install -U . # Run the tests (cd $project_dir && tox -e $venv) result=$? # The below checks are modified from # openstack-infra/config/modules/jenkins/files/slave_scripts/run-unittests.sh. # They expect to be run in the project being tested. cd $project_dir echo ""Begin pip freeze output from test virtualenv:"" echo ""======================================================================"" .tox/$venv/bin/pip freeze echo ""======================================================================"" # We only want to run the next check if the tool is installed, so look # for it before continuing. if [ -f /usr/local/jenkins/slave_scripts/subunit2html.py -a -d "".testrepository"" ] ; then if [ -f "".testrepository/0.2"" ] ; then cp .testrepository/0.2 ./subunit_log.txt elif [ -f "".testrepository/0"" ] ; then .tox/$venv/bin/subunit-1to2 < .testrepository/0 > ./subunit_log.txt fi .tox/$venv/bin/python /usr/local/jenkins/slave_scripts/subunit2html.py ./subunit_log.txt testr_results.html gzip -9 ./subunit_log.txt gzip -9 ./testr_results.html export PYTHON=.tox/$venv/bin/python set -e rancount=$(.tox/$venv/bin/testr last | sed -ne 's/Ran \([0-9]\+\).*tests in.*/\1/p') if [ ""$rancount"" -eq ""0"" ] ; then echo echo ""Zero tests were run. At least one test should have been run."" echo ""Failing this test as a result"" echo exit 1 fi fi # If we make it this far, report status based on the tests that were # run. exit $result ",0,70
openstack%2Foperations-guide~master~I258fdc7d492546b999c32823d3e56efbbe66bf17,openstack/operations-guide,master,I258fdc7d492546b999c32823d3e56efbbe66bf17,Updated from openstack-manuals,MERGED,2015-05-13 07:21:13.000000000,2015-05-13 09:18:52.000000000,2015-05-13 09:18:50.000000000,"[{'_account_id': 3}, {'_account_id': 6547}]","[{'number': 1, 'created': '2015-05-13 07:21:13.000000000', 'files': ['doc/glossary/locale/ja.po'], 'web_link': 'https://opendev.org/openstack/operations-guide/commit/c124eb70aa3b53ac7cacbcd0a006dec435e76e52', 'message': 'Updated from openstack-manuals\n\nChange-Id: I258fdc7d492546b999c32823d3e56efbbe66bf17\n'}]",0,182557,c124eb70aa3b53ac7cacbcd0a006dec435e76e52,6,2,1,11131,,,0,"Updated from openstack-manuals

Change-Id: I258fdc7d492546b999c32823d3e56efbbe66bf17
",git fetch https://review.opendev.org/openstack/operations-guide refs/changes/57/182557/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/glossary/locale/ja.po'],1,c124eb70aa3b53ac7cacbcd0a006dec435e76e52,openstack/openstack-manuals,"""POT-Creation-Date: 2015-05-12 23:55+0000\n"" ""PO-Revision-Date: 2015-05-12 08:26+0000\n""msgid ""Image service"" msgstr ""Image "" msgid ""Image service API"" msgstr ""Image  API"" msgid ""Key management service"" msgstr ""Key management "" ","""POT-Creation-Date: 2015-05-08 08:53+0000\n"" ""PO-Revision-Date: 2015-05-08 07:34+0000\n""",11,2
openstack%2Fsecurity-doc~master~If8d28d855af3cb8c8c04f00beb2a07065787994b,openstack/security-doc,master,If8d28d855af3cb8c8c04f00beb2a07065787994b,Updated from openstack-manuals,MERGED,2015-05-13 07:21:17.000000000,2015-05-13 09:18:43.000000000,2015-05-13 09:18:42.000000000,"[{'_account_id': 3}, {'_account_id': 6547}]","[{'number': 1, 'created': '2015-05-13 07:21:17.000000000', 'files': ['glossary/locale/ja.po'], 'web_link': 'https://opendev.org/openstack/security-doc/commit/6346b23849f7e985e1bcfa418166500994b4fdda', 'message': 'Updated from openstack-manuals\n\nChange-Id: If8d28d855af3cb8c8c04f00beb2a07065787994b\n'}]",0,182558,6346b23849f7e985e1bcfa418166500994b4fdda,6,2,1,11131,,,0,"Updated from openstack-manuals

Change-Id: If8d28d855af3cb8c8c04f00beb2a07065787994b
",git fetch https://review.opendev.org/openstack/security-doc refs/changes/58/182558/1 && git format-patch -1 --stdout FETCH_HEAD,['glossary/locale/ja.po'],1,6346b23849f7e985e1bcfa418166500994b4fdda,openstack/openstack-manuals,"""POT-Creation-Date: 2015-05-12 23:55+0000\n"" ""PO-Revision-Date: 2015-05-12 08:26+0000\n""msgid ""Image service"" msgstr ""Image "" msgid ""Image service API"" msgstr ""Image  API"" msgid ""Key management service"" msgstr ""Key management "" ","""POT-Creation-Date: 2015-05-08 08:53+0000\n"" ""PO-Revision-Date: 2015-05-08 07:34+0000\n""",11,2
openstack%2Fha-guide~master~Ife1fefe3f71c482df013898d18000742961b3295,openstack/ha-guide,master,Ife1fefe3f71c482df013898d18000742961b3295,Updated from openstack-manuals,MERGED,2015-05-13 07:21:08.000000000,2015-05-13 09:16:49.000000000,2015-05-13 09:16:48.000000000,"[{'_account_id': 3}, {'_account_id': 6547}]","[{'number': 1, 'created': '2015-05-13 07:21:08.000000000', 'files': ['doc/glossary/locale/ja.po'], 'web_link': 'https://opendev.org/openstack/ha-guide/commit/b1c94a770a48d212f2875e89f66c1af0f0981d63', 'message': 'Updated from openstack-manuals\n\nChange-Id: Ife1fefe3f71c482df013898d18000742961b3295\n'}]",0,182556,b1c94a770a48d212f2875e89f66c1af0f0981d63,6,2,1,11131,,,0,"Updated from openstack-manuals

Change-Id: Ife1fefe3f71c482df013898d18000742961b3295
",git fetch https://review.opendev.org/openstack/ha-guide refs/changes/56/182556/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/glossary/locale/ja.po'],1,b1c94a770a48d212f2875e89f66c1af0f0981d63,openstack/openstack-manuals,"""POT-Creation-Date: 2015-05-12 23:55+0000\n"" ""PO-Revision-Date: 2015-05-12 08:26+0000\n""msgid ""Image service"" msgstr ""Image "" msgid ""Image service API"" msgstr ""Image  API"" msgid ""Key management service"" msgstr ""Key management "" ","""POT-Creation-Date: 2015-05-08 08:53+0000\n"" ""PO-Revision-Date: 2015-05-08 07:34+0000\n""",11,2
openstack%2Fstevedore~master~I4d7c002f378fb6491aa5c9e262084d70924112de,openstack/stevedore,master,I4d7c002f378fb6491aa5c9e262084d70924112de,re-raise exception with full traceback,MERGED,2015-04-23 14:59:09.000000000,2015-05-13 09:09:27.000000000,2015-05-13 09:09:27.000000000,"[{'_account_id': 3}, {'_account_id': 1297}, {'_account_id': 1669}, {'_account_id': 2813}]","[{'number': 1, 'created': '2015-04-23 14:59:09.000000000', 'files': ['stevedore/driver.py'], 'web_link': 'https://opendev.org/openstack/stevedore/commit/f20b94c59b4bd3e5fc85f094ec6f02b8045c70b6', 'message': 're-raise exception with full traceback\n\nRather than raising the exception using the local reference, use a bare\nraise to ensure that the original traceback is preserved. This reports\nthe error as coming from inside the plugin code, rather than from inside\nstevedore, and helps with debugging.\n\nChange-Id: I4d7c002f378fb6491aa5c9e262084d70924112de\n'}]",0,176793,f20b94c59b4bd3e5fc85f094ec6f02b8045c70b6,8,4,1,2472,,,0,"re-raise exception with full traceback

Rather than raising the exception using the local reference, use a bare
raise to ensure that the original traceback is preserved. This reports
the error as coming from inside the plugin code, rather than from inside
stevedore, and helps with debugging.

Change-Id: I4d7c002f378fb6491aa5c9e262084d70924112de
",git fetch https://review.opendev.org/openstack/stevedore refs/changes/93/176793/1 && git format-patch -1 --stdout FETCH_HEAD,['stevedore/driver.py'],1,f20b94c59b4bd3e5fc85f094ec6f02b8045c70b6,improve-error-reporting, raise, raise err,1,1
openstack%2Fcloudkitty~master~If296b7d2bcf0c644e925f3458bbd28ede6683f75,openstack/cloudkitty,master,If296b7d2bcf0c644e925f3458bbd28ede6683f75,Fixed empty dataset handling on CloudKitty storage,MERGED,2015-05-13 08:36:25.000000000,2015-05-13 09:09:04.000000000,2015-05-13 09:09:02.000000000,"[{'_account_id': 3}, {'_account_id': 7042}]","[{'number': 1, 'created': '2015-05-13 08:36:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/06424738518746d73628d83e7a2bed7e51edfe47', 'message': 'Fixed empty dataset handling on CloudKitty storage\n\nChange-Id: If296b7d2bcf0c644e925f3458bbd28ede6683f75\n'}, {'number': 2, 'created': '2015-05-13 08:47:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/eb4008c594d5bfb302a1ce70751775210c304213', 'message': 'Fixed empty dataset handling on CloudKitty storage\n\nChange-Id: If296b7d2bcf0c644e925f3458bbd28ede6683f75\n'}, {'number': 3, 'created': '2015-05-13 08:51:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/98af464fe9548ff5797aba0118c5da8f35dac531', 'message': 'Fixed empty dataset handling on CloudKitty storage\n\nChange-Id: If296b7d2bcf0c644e925f3458bbd28ede6683f75\n'}, {'number': 4, 'created': '2015-05-13 08:56:12.000000000', 'files': ['cloudkitty/api/v1/controllers/storage.py', 'cloudkitty/storage/sqlalchemy/__init__.py'], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/a0cf5936a2062d49dfc2bdcbf822b99e168d5f70', 'message': 'Fixed empty dataset handling on CloudKitty storage\n\nChange-Id: If296b7d2bcf0c644e925f3458bbd28ede6683f75\n'}]",0,182567,a0cf5936a2062d49dfc2bdcbf822b99e168d5f70,10,2,4,7042,,,0,"Fixed empty dataset handling on CloudKitty storage

Change-Id: If296b7d2bcf0c644e925f3458bbd28ede6683f75
",git fetch https://review.opendev.org/openstack/cloudkitty refs/changes/67/182567/2 && git format-patch -1 --stdout FETCH_HEAD,"['cloudkitty/api/v1/controllers/storage.py', 'cloudkitty/storage/sqlalchemy/__init__.py']",2,06424738518746d73628d83e7a2bed7e51edfe47,fix/storage_api_and_filters, if filter_name == 'res_type' and not filter_value: q = q.filter(model.res_type != '_NO_DATA_'), q = q.filter(model.res_type != '_NO_DATA_'),23,22
openstack%2Ffuel-web~master~I27cfbb04a3ad226dc5f4a1a8d73ec3dc996215c0,openstack/fuel-web,master,I27cfbb04a3ad226dc5f4a1a8d73ec3dc996215c0,Change location of private network on settings page,MERGED,2015-05-12 15:34:01.000000000,2015-05-13 09:00:41.000000000,2015-05-13 08:49:24.000000000,"[{'_account_id': 3}, {'_account_id': 8735}, {'_account_id': 8766}, {'_account_id': 8971}, {'_account_id': 9091}]","[{'number': 1, 'created': '2015-05-12 15:34:01.000000000', 'files': ['nailgun/static/js/models.js'], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/e27cb9ed43403a26b4d2b00eddd3a241fdf9ee9d', 'message': 'Change location of private network on settings page\n\nChange-Id: I27cfbb04a3ad226dc5f4a1a8d73ec3dc996215c0\nRelated-bug: #1285059\n'}]",0,182352,e27cb9ed43403a26b4d2b00eddd3a241fdf9ee9d,13,5,1,8829,,,0,"Change location of private network on settings page

Change-Id: I27cfbb04a3ad226dc5f4a1a8d73ec3dc996215c0
Related-bug: #1285059
",git fetch https://review.opendev.org/openstack/fuel-web refs/changes/52/182352/1 && git format-patch -1 --stdout FETCH_HEAD,['nailgun/static/js/models.js'],1,e27cb9ed43403a26b4d2b00eddd3a241fdf9ee9d,bug/1285059," preferredOrder: ['public', 'floating', 'storage', 'management', 'private', 'fixed'], preferredOrder: ['public', 'floating', 'storage', 'management', 'private', 'fixed'],"," preferredOrder: ['public', 'floating', 'storage', 'management', 'fixed'], preferredOrder: ['public', 'floating', 'storage', 'management', 'fixed'],",2,2
openstack%2Fcloudkitty-dashboard~master~I49de5a40fc13042b376f374b68373db2678a252e,openstack/cloudkitty-dashboard,master,I49de5a40fc13042b376f374b68373db2678a252e,Fixed bugs in reporting when no data was received,MERGED,2015-05-13 08:44:20.000000000,2015-05-13 08:59:27.000000000,2015-05-13 08:59:26.000000000,"[{'_account_id': 3}, {'_account_id': 7042}]","[{'number': 1, 'created': '2015-05-13 08:44:20.000000000', 'files': ['cloudkittydashboard/dashboards/project/reporting/views.py'], 'web_link': 'https://opendev.org/openstack/cloudkitty-dashboard/commit/7cf8c74e7cbd36c2b75f4d9736e3daec1d5f9714', 'message': 'Fixed bugs in reporting when no data was received\n\nChange-Id: I49de5a40fc13042b376f374b68373db2678a252e\n'}]",0,182573,7cf8c74e7cbd36c2b75f4d9736e3daec1d5f9714,6,2,1,7042,,,0,"Fixed bugs in reporting when no data was received

Change-Id: I49de5a40fc13042b376f374b68373db2678a252e
",git fetch https://review.opendev.org/openstack/cloudkitty-dashboard refs/changes/73/182573/1 && git format-patch -1 --stdout FETCH_HEAD,['cloudkittydashboard/dashboards/project/reporting/views.py'],1,7cf8c74e7cbd36c2b75f4d9736e3daec1d5f9714,fix/reporting_and_nodata," if end_timestamp: while t <= end_timestamp: for service in service_names: hourly_d = services[service]['hourly'] hourly_d.setdefault(t, 0) t += 3600 tabs = (CostRepartitionTab, )"," while True: if t > end_timestamp: break for service in service_names: hourly_d = services[service]['hourly'] hourly_d.setdefault(t, 0) t += 3600 tabs = (CostRepartitionTab)",7,8
openstack%2Fmagnum~master~I72a699d45a62f4a51576a8ab507a9592ee00cf54,openstack/magnum,master,I72a699d45a62f4a51576a8ab507a9592ee00cf54,Correct a spelling error in quickstart guide.,MERGED,2015-05-12 21:36:01.000000000,2015-05-13 08:38:34.000000000,2015-05-13 08:38:33.000000000,"[{'_account_id': 3}, {'_account_id': 7049}, {'_account_id': 7494}, {'_account_id': 10206}]","[{'number': 1, 'created': '2015-05-12 21:36:01.000000000', 'files': ['doc/source/dev/dev-quickstart.rst'], 'web_link': 'https://opendev.org/openstack/magnum/commit/ede10c45e1c9db2c9bd408649e7116865c9b0bd3', 'message': 'Correct a spelling error in quickstart guide.\n\nChange-Id: I72a699d45a62f4a51576a8ab507a9592ee00cf54\nCloses-Bug: 1454412\n'}]",0,182463,ede10c45e1c9db2c9bd408649e7116865c9b0bd3,8,4,1,11536,,,0,"Correct a spelling error in quickstart guide.

Change-Id: I72a699d45a62f4a51576a8ab507a9592ee00cf54
Closes-Bug: 1454412
",git fetch https://review.opendev.org/openstack/magnum refs/changes/63/182463/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/dev/dev-quickstart.rst'],1,ede10c45e1c9db2c9bd408649e7116865c9b0bd3,bug/1454412, $ magnum container-start 25485358-ae9b-49d1-a1e1-1af0a7c3f911, $ mangum container-start 25485358-ae9b-49d1-a1e1-1af0a7c3f911,1,1
openstack%2Fnova-specs~master~If9ab6976d7bd2cfbfeca7e2a731c50233a77beee,openstack/nova-specs,master,If9ab6976d7bd2cfbfeca7e2a731c50233a77beee,Volume snapshot improvements,MERGED,2014-11-14 12:39:12.000000000,2015-05-13 08:21:56.000000000,2015-05-13 08:21:55.000000000,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 782}, {'_account_id': 1779}, {'_account_id': 1849}, {'_account_id': 2271}, {'_account_id': 4523}, {'_account_id': 6772}, {'_account_id': 6804}, {'_account_id': 8338}, {'_account_id': 10796}, {'_account_id': 12898}, {'_account_id': 13527}, {'_account_id': 13915}]","[{'number': 1, 'created': '2014-11-14 12:39:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/cc38a916ddcefaba299a37589b3c263d7db2eba2', 'message': 'Volume snapshot improvements\n\nThis spec covers a few updates to the volume snapshot\ncreate and delete operations in the libvirt volume driver.\nThese are needed to fix up some issues in Nova/Cinder\nrelated to volume file format handling and API cleanup.\n\nSpec for blueprint volume-snapshot-improvements\n\nChange-Id: If9ab6976d7bd2cfbfeca7e2a731c50233a77beee\n'}, {'number': 2, 'created': '2014-11-14 12:43:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/648f600edd25bedf0428edb05d3bc1deaa458486', 'message': 'Volume snapshot improvements\n\nThis spec covers a few updates to the volume snapshot\ncreate and delete operations in the libvirt volume driver.\nThese are needed to fix up some issues in Nova/Cinder\nrelated to volume file format handling and API cleanup.\n\nSpec for blueprint volume-snapshot-improvements\n\nChange-Id: If9ab6976d7bd2cfbfeca7e2a731c50233a77beee\n'}, {'number': 3, 'created': '2014-11-14 12:44:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/cbc9031c8619c57e79d511e16f0b461f07ad7485', 'message': 'Volume snapshot improvements\n\nThis spec covers a few updates to the volume snapshot\ncreate and delete operations in the libvirt volume driver.\nThese are needed to fix up some issues in Nova/Cinder\nrelated to volume file format handling and API cleanup.\n\nSpec for blueprint volume-snapshot-improvements\n\nChange-Id: If9ab6976d7bd2cfbfeca7e2a731c50233a77beee\n'}, {'number': 4, 'created': '2014-12-12 19:52:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/30177bcfa616e3534f934d6ee3c597f31b638ecb', 'message': 'Volume snapshot improvements\n\nThis spec covers a few updates to the volume snapshot\ncreate and delete operations in the libvirt volume driver.\nThese are needed to fix up some issues in Nova/Cinder\nrelated to volume file format handling and API cleanup.\n\nSpec for blueprint volume-snapshot-improvements\n\nChange-Id: If9ab6976d7bd2cfbfeca7e2a731c50233a77beee\n'}, {'number': 5, 'created': '2015-03-27 11:34:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/3488fc97b2bad6df3fda34c088ff1469307c182d', 'message': 'Volume snapshot improvements\n\nThis spec covers a few updates to the volume snapshot\ncreate and delete operations in the libvirt volume driver.\nThese are needed to fix up some issues in Nova/Cinder\nrelated to volume file format handling and API cleanup.\n\nSpec for blueprint volume-snapshot-improvements\n\nChange-Id: If9ab6976d7bd2cfbfeca7e2a731c50233a77beee\n'}, {'number': 6, 'created': '2015-04-10 10:36:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/e2dbd0e9edd25fea66ccfd864c75c292d01f4ca9', 'message': 'Volume snapshot improvements\n\nThis spec covers a few updates to the volume snapshot\ncreate and delete operations in the libvirt volume driver.\nThese are needed to fix up some issues in Nova/Cinder\nrelated to volume file format handling and API cleanup.\n\nSpec for blueprint volume-snapshot-improvements\n\nChange-Id: If9ab6976d7bd2cfbfeca7e2a731c50233a77beee\n'}, {'number': 7, 'created': '2015-04-13 09:14:26.000000000', 'files': ['specs/liberty/approved/volume-snapshot-improvements.rst'], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/910aeb5f3abbad8326f503d81396937a961e8a36', 'message': 'Volume snapshot improvements\n\nThis spec covers a few updates to the volume snapshot\ncreate and delete operations in the libvirt volume driver.\nThese are needed to fix up some issues in Nova/Cinder\nrelated to volume file format handling and API cleanup.\n\nSpec for blueprint volume-snapshot-improvements\n\nChange-Id: If9ab6976d7bd2cfbfeca7e2a731c50233a77beee\n'}]",11,134517,910aeb5f3abbad8326f503d81396937a961e8a36,45,14,7,4523,,,0,"Volume snapshot improvements

This spec covers a few updates to the volume snapshot
create and delete operations in the libvirt volume driver.
These are needed to fix up some issues in Nova/Cinder
related to volume file format handling and API cleanup.

Spec for blueprint volume-snapshot-improvements

Change-Id: If9ab6976d7bd2cfbfeca7e2a731c50233a77beee
",git fetch https://review.opendev.org/openstack/nova-specs refs/changes/17/134517/3 && git format-patch -1 --stdout FETCH_HEAD,['specs/kilo/approved/volume-snapshot-improvements.rst'],1,cc38a916ddcefaba299a37589b3c263d7db2eba2,bp/volume-snapshot-improvements,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ========================================== Volume snapshot improvements ========================================== https://blueprints.launchpad.net/nova/+spec/volume-snapshot-improvements This spec covers a few updates to the volume snapshot create and delete operations in the libvirt volume driver. These are needed to fix up some issues in Nova/Cinder related to volume file format handling and API cleanup. Problem description =================== Nova does not currently pass enough information back to Cinder when manipulating snapshot files. Cinder needs to keep track of the format of each file (raw, qcow2, vhd, etc.) to maintain security and data integrity. Currently it has to guess about the outcome of a snapshot operation for this information. Nova currently sends a hard-coded '90%' progress value to indicate a state transition at the end of a snapshot operation. This should be replaced with something more generic that does not overload the progress field. Use Cases ---------- Deployer: Currently if a user writes a qcow2 header into a volume on certain Cinder volume drives, the volume may be marked as unusable. This work will fix things so that Cinder can avoid having to invalidate volumes in this scenario. Deployer: Increased (theoretical) security since Cinder doesn't have to use heuristics for the above check. Developer: API between Cinder and Nova becomes more clear (no magic progress value) Project Priority ----------------- Low - this is primarily a maintainablity/reliability issue. Proposed change =============== File format tracking -------------------- Each time a volume snapshot create or delete operation occurs, add file format information about the changed files to the status update sent back to Cinder. (This is currently only used in the libvirt volume driver for file-based volume drivers but nothing prevents it from being more general.) For the libvirt volume driver, this information can be obtained by querying the instance VM's disk backing chain information via the domain.XMLDesc() output. For snapshot_create, determine the format of the new file, return this from _volume_snapshot_create() and add a dict such as:: 'file_format': { 'volume-1234.snapshot-abcd': 'qcow2' } to the _volume_update_snapshot_status() call. For snapshot_delete, determine the format of merge_target_file, or if that is None, file_to_merge, after the snapshot delete, and add that information to the _volume_update_snapshot_status() call:: 'file_format': { 'volume-1234': 'qcow2' } There may be some cases with old versions of libvirt where this information isn't explicitly given in the domain information. We can make assumptions in these cases for what format to return based on knowing that performing a blockCommit results in the format of the file being committed to, and a blockRebase results in the format of the file being pulled to. Progress Updating ----------------- For Kilo, continue to send the 'progress': '90%' flag in update_snapshot_status for compatibility. (Can be removed in the future.) Send a new status of 'creating_compute_complete' to indicate that the compute service is done with its portion of the create process. Cinder will translate this to a relevant volume state transition on its side. Same as above for deleting, with 'delete_compute_complete'. This allows Cinder to distinguish whether Nova is currently processing information or whether Cinder has control of that snapshot again. Alternatives ------------ Leave things as they are (not really desirable). Data model impact ----------------- None REST API impact --------------- None Security impact --------------- There was a security issue in the Juno timeframe in this area which was patched up enough to make it safe. This completes that effort by making the system fully robust rather than just patched up. [ref OSSA 2014-033] This will bring Nova and Cinder to always track and use knowledge of the file format of each volume/snapshot file. Notifications impact -------------------- None Other end user impact --------------------- None Performance Impact ------------------ None Other deployer impact --------------------- None Developer impact ---------------- None Implementation ============== Assignee(s) ----------- Primary assignee: eharney Other contributors: None Work Items ---------- * Add new file format querying and reporting to libvirt snapshot code * Add new statuses to libvirt snapshot create/delete operations * Test with Cinder (where most of this change really has an effect) Dependencies ============ * Related Cinder changes: https://review.openstack.org/#/c/134298/ Testing ======= This change most directly impacts the Cinder GlusterFS, NFS, and SMBFS drivers for Kilo. These will have CI running tempest for Kilo, which will validate this work. Documentation Impact ==================== None References ========== * OSSA 2014-033 https://bugs.launchpad.net/cinder/+bug/1350504 * Cinder changes: https://review.openstack.org/#/c/134298/ ",,200,0
openstack%2Fnova-specs~master~I1a655b44df9b85695904e899585f9a0095b53d62,openstack/nova-specs,master,I1a655b44df9b85695904e899585f9a0095b53d62,Keep an instance in queue and launch later when resources are available,ABANDONED,2015-04-02 17:10:03.000000000,2015-05-13 08:08:28.000000000,,"[{'_account_id': 3}, {'_account_id': 136}, {'_account_id': 782}, {'_account_id': 1561}, {'_account_id': 2271}, {'_account_id': 4393}, {'_account_id': 6772}, {'_account_id': 11503}]","[{'number': 1, 'created': '2015-04-02 17:10:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/be3a6d20c554aa4c8d2d6778143587e55469160b', 'message': ""Keep an instance in queue and launch later when resources are available\n\nTo launch an instance critical resources like availability of RAM,\nvCPU's are required .\nIn absence of RAM or vCPU, an instance cannot be launched.\nThis makes a user to wait till the resources are available and\nre-try once again.\n\nTo overcome this , we planned to add a new service namely as N-queue.\nN-queue , which would be part of Nova, will keep user requests of\ninstance launch in a queue and will launch instances when the\nresources are available.\n\nChange-Id: I1a655b44df9b85695904e899585f9a0095b53d62\nImplements: blueprint instance-queue-on-insufficient-resources\n""}, {'number': 2, 'created': '2015-04-02 19:21:36.000000000', 'files': ['specs/liberty/instance-queue-on-insufficient-resources.rst'], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/23ca34165e6c4894b588721f2d18ced7d3a65484', 'message': ""Keep an instance in queue and launch later when resources are available\n\nTo launch an instance critical resources like availability of RAM,\nvCPU's are required .\nIn absence of RAM or vCPU, an instance cannot be launched.\nThis makes a user to wait till the resources are available and\nre-try once again.\n\nTo overcome this , we planned to add a new service namely as N-queue.\nN-queue , which would be part of Nova, will keep user requests of\ninstance launch in a queue and will launch instances when the\nresources are available.\n\nChange-Id: I1a655b44df9b85695904e899585f9a0095b53d62\nImplements: blueprint instance-queue-on-insufficient-resources\n""}]",10,170212,23ca34165e6c4894b588721f2d18ced7d3a65484,18,8,2,11503,,,0,"Keep an instance in queue and launch later when resources are available

To launch an instance critical resources like availability of RAM,
vCPU's are required .
In absence of RAM or vCPU, an instance cannot be launched.
This makes a user to wait till the resources are available and
re-try once again.

To overcome this , we planned to add a new service namely as N-queue.
N-queue , which would be part of Nova, will keep user requests of
instance launch in a queue and will launch instances when the
resources are available.

Change-Id: I1a655b44df9b85695904e899585f9a0095b53d62
Implements: blueprint instance-queue-on-insufficient-resources
",git fetch https://review.opendev.org/openstack/nova-specs refs/changes/12/170212/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/liberty/implemented/instance-queue-on-insufficient-resources.rst'],1,be3a6d20c554aa4c8d2d6778143587e55469160b,bp/instance-queue-on-insufficient-resources,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ======================================================================= Keep an instance in queue and launch later when resources are available ======================================================================= Include the URL of your launchpad blueprint: https://blueprints.launchpad.net/nova/+spec/instance-queue-on-insufficient-resources To launch an instance critical resources like availability of RAM, vCPU's, etc are required. When these resources are not available, instances cannot be launched. For example, an instance goes to error state and gives a error 'No valid host found'. This means that some of the required resources are not availble. At this stage a user has to wait till the resources are available and re-try once again. To overcome above scenario, a new service namely 'N-queue' has been in plan. N-queue , which would be part of nova components, will keep a user requests of instance launch when the resources are not available and will launch that instance when the resources are available. This gives an advantage to user not to re-try and to wait until free resources are available to launch. Problem description =================== One of the problem is when a user launches different instances using different flavors. Some large flavors take a large amount of resources than the small flavors. During this operation the instances fail with a message ""No valid host was found .There are not enough hosts available."" because of insufficient resources. This blueprint will makes sure that instance should not be discarded when enough resources are not available. Use Cases ---------- In a tenant, when resources are limited and users are more, Some of the user's instances will go to ERROR state due to insufficient resources. This blueprint will make the instance to go in 'QUEUED' state rather than going into 'ERROR' state. When the enough resources are availble, the instances from the n-que will be launched and status will be updated to 'ACTIVE'. A 'QUEUED' state instance can also be deleted by the user. Project Priority ----------------- This blueprint fits under 'Liberty priorities'. Proposed change =============== A new service n-que will be created. This service will be running along with n-api,n-cond,n-sch,etc. Request to launch an instance comes through n-api. n-api will further process the request to n-cond and n-cond will check for host availablity through n-sch. When enough resources are not availble, n-sch will send an exception ""no valid host"" to n-cond. The proposed change will come now : 1. n-cond to send the instance request to n-que 2. n-que will save the instance request to database 3. n-que will update the status of instance as 'QUEUED' 4. n-sch to have a periodic task to check for free resources. 5. n-sch's periodic task to send request to n-que on avability of free resources. 6. n-que will proces the request of free resources and find apporipate instance 7. n-que to fetch the instance details from the database 8. n-que to send the instance details to n-api to launch the instance 9. n-api to receive the request from n-que and build the instance again The frequency of periodic tasks is set by resource_poll_interval option in nova configuration file. Alternatives ------------ None Data model impact ----------------- On receving the request from the n-cond, the n-que service will keep the instance request details in the new table of nova database. This new table consists of attributes that are required to launch an instance. When an instance has been kept on stand by i.e queue , instance's status update will be changed to 'QUEUED' in the existing column of the instances table of nova database. REST API impact --------------- None Security impact --------------- None Notifications impact -------------------- None Other end user impact --------------------- None Performance Impact ------------------ The potential performance impact can be observed in the following areas : * A periodic task to check the free resources * A call to save and fetch the instance request from the database Other deployer impact --------------------- A new nova configuration 'resource_poll_interval' will be added. A new nova binary 'n-que' will be deployed. Developer impact ---------------- None Implementation ============== Assignee(s) ----------- Primary assignee: rsritesh Work Items ---------- The work itemas can be divided as following : * Build a new binary n-que and start the service * Create a perodic task in n-sch to check free resources * Write the function to keep the instance details in the new table * Write the alogrithm to choose the best instance to launch * Send a new request to re-launch an instance Dependencies ============ None Testing ======= Tempest tests cases will be added to check the new service. Tempest tests cases will be added for each divided work item. Documentation Impact ==================== Will write the documentation for all the changes. References ========== None ",,188,0
openstack%2Ffuel-qa~master~Id35e24d4e7bf42ef185c4efe256811adb8905a67,openstack/fuel-qa,master,Id35e24d4e7bf42ef185c4efe256811adb8905a67,Run ceph task after ceph restart,MERGED,2015-04-29 16:34:32.000000000,2015-05-13 08:01:25.000000000,2015-05-13 08:01:24.000000000,"[{'_account_id': 3}, {'_account_id': 6719}, {'_account_id': 8971}, {'_account_id': 10136}, {'_account_id': 12867}]","[{'number': 1, 'created': '2015-04-29 16:34:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-qa/commit/0a6505aa5d38f78842458f911a189368896c42d1', 'message': 'Runc ceph task after ceph restart\n\nChange-Id: Id35e24d4e7bf42ef185c4efe256811adb8905a67\n'}, {'number': 2, 'created': '2015-04-29 16:36:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-qa/commit/e106b597dc4e8e65499564f5b6356acb25c2e3b7', 'message': 'Runc ceph task after ceph restart\n\nChange-Id: Id35e24d4e7bf42ef185c4efe256811adb8905a67\n'}, {'number': 3, 'created': '2015-04-29 16:37:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-qa/commit/5c5e7c209cba9ec1d6330261956cd5b2f3b15d2c', 'message': 'Run ceph task after restart\n\nChange-Id: Id35e24d4e7bf42ef185c4efe256811adb8905a67\n'}, {'number': 4, 'created': '2015-04-29 16:40:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-qa/commit/fb4740b7d61bf9c6cc14b34466824605b6bd7ee6', 'message': 'Run ceph task after ceph restart\n\nChange-Id: Id35e24d4e7bf42ef185c4efe256811adb8905a67\n'}, {'number': 5, 'created': '2015-05-12 10:04:07.000000000', 'files': ['fuelweb_test/models/fuel_web_client.py', 'fuelweb_test/tests/tests_strength/test_restart.py'], 'web_link': 'https://opendev.org/openstack/fuel-qa/commit/d00aefaddfbb652879270f7735352b3ab642c093', 'message': 'Run ceph task after ceph restart\n\nChange-Id: Id35e24d4e7bf42ef185c4efe256811adb8905a67\n'}]",1,178761,d00aefaddfbb652879270f7735352b3ab642c093,24,5,5,6719,,,0,"Run ceph task after ceph restart

Change-Id: Id35e24d4e7bf42ef185c4efe256811adb8905a67
",git fetch https://review.opendev.org/openstack/fuel-qa refs/changes/61/178761/5 && git format-patch -1 --stdout FETCH_HEAD,"['fuelweb_test/models/fuel_web_client.py', 'fuelweb_test/tests/tests_strength/test_restart.py', 'fuelweb_test/helpers/checkers.py']",3,0a6505aa5d38f78842458f911a189368896c42d1,ceph_tsk_rest," return {'status': False, 'result': result}", return False,24,2
openstack%2Ffuel-qa~master~I409db14844ea57cf8dd4552b21df931c0658f9ca,openstack/fuel-qa,master,I409db14844ea57cf8dd4552b21df931c0658f9ca,Check slaves are online in nailgun after revert,MERGED,2015-04-28 12:36:52.000000000,2015-05-13 08:00:59.000000000,2015-05-13 08:00:58.000000000,"[{'_account_id': 3}, {'_account_id': 6719}, {'_account_id': 8971}, {'_account_id': 10136}, {'_account_id': 12867}]","[{'number': 1, 'created': '2015-04-28 12:36:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-qa/commit/133644bf39f0ad1bb8e046eb457c4a66598e397a', 'message': 'Check slaves are online in nailgun after revert\n\nCloses-Bug: #1355660\n\nChange-Id: I409db14844ea57cf8dd4552b21df931c0658f9ca\n'}, {'number': 2, 'created': '2015-04-28 13:53:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-qa/commit/44cf4ca5a2bd4a278359f6b50b6dca0701a0f7a3', 'message': 'Check slaves are online in nailgun after revert\n\nCloses-Bug: #1355660\n\nChange-Id: I409db14844ea57cf8dd4552b21df931c0658f9ca\n'}, {'number': 3, 'created': '2015-05-12 09:55:59.000000000', 'files': ['fuelweb_test/models/environment.py'], 'web_link': 'https://opendev.org/openstack/fuel-qa/commit/d506b57798d0bf3cb90f4aa51592dd193448bd33', 'message': 'Check slaves are online in nailgun after revert\n\nCloses-Bug: #1355660\n\nChange-Id: I409db14844ea57cf8dd4552b21df931c0658f9ca\n'}]",0,178168,d506b57798d0bf3cb90f4aa51592dd193448bd33,17,5,3,6719,,,0,"Check slaves are online in nailgun after revert

Closes-Bug: #1355660

Change-Id: I409db14844ea57cf8dd4552b21df931c0658f9ca
",git fetch https://review.opendev.org/openstack/fuel-qa refs/changes/68/178168/1 && git format-patch -1 --stdout FETCH_HEAD,['fuelweb_test/models/environment.py'],1,133644bf39f0ad1bb8e046eb457c4a66598e397a,add_wait_slaves,"import tracebackfrom devops.error import TimeoutError def check_slaves_are_ready(self): devops_nodes = [node for node in self.d_env.nodes().slaves if node.driver.node_active(node)] for node in devops_nodes: try: wait(lambda: self.fuel_web.get_nailgun_node_by_devops_node( node)['online'], timeout=60 * 6) except TimeoutError: raise TimeoutError( ""Node {0} does not become online"".format(node.name)) return True _wait(lambda: self.check_slaves_are_ready(), timeout=60 * 6)",,16,0
openstack%2Ftrove~master~Id7c764589669c81f754284bf54c50267b942edf6,openstack/trove,master,Id7c764589669c81f754284bf54c50267b942edf6,Updated from global requirements,MERGED,2015-05-11 15:52:59.000000000,2015-05-13 08:00:05.000000000,2015-05-13 08:00:04.000000000,"[{'_account_id': 3}, {'_account_id': 5293}, {'_account_id': 10215}, {'_account_id': 14576}]","[{'number': 1, 'created': '2015-05-11 15:52:59.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/trove/commit/ddacc9ffffd70b261dbeb93bcb3dff5cd29b6a5a', 'message': 'Updated from global requirements\n\nChange-Id: Id7c764589669c81f754284bf54c50267b942edf6\n'}]",0,181953,ddacc9ffffd70b261dbeb93bcb3dff5cd29b6a5a,8,4,1,11131,,,0,"Updated from global requirements

Change-Id: Id7c764589669c81f754284bf54c50267b942edf6
",git fetch https://review.opendev.org/openstack/trove refs/changes/53/181953/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,ddacc9ffffd70b261dbeb93bcb3dff5cd29b6a5a,openstack/requirements,python-cinderclient>=1.2.1,python-cinderclient>=1.2.0,1,1
openstack%2Ffuel-docs~master~Ie28656ec37638b19a41006841cdf9d7a9ee6cfda,openstack/fuel-docs,master,Ie28656ec37638b19a41006841cdf9d7a9ee6cfda,Replaces several screenshots for vCenter,MERGED,2015-05-05 10:35:58.000000000,2015-05-13 07:40:00.000000000,2015-05-13 07:39:59.000000000,"[{'_account_id': 3}, {'_account_id': 8971}, {'_account_id': 11427}, {'_account_id': 12199}, {'_account_id': 13082}]","[{'number': 1, 'created': '2015-05-05 10:35:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-docs/commit/186f857933c3c46097b6210f1859c296dcba56b0', 'message': 'Replaces several screenshots for vCenter\n\nThis commit updates screenshots for the\nfollowing issues:\n\n* Create env\n\n* Storage backend\n\nChange-Id: Ie28656ec37638b19a41006841cdf9d7a9ee6cfda\n'}, {'number': 2, 'created': '2015-05-06 12:05:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-docs/commit/d1894747d79afa7369b83b8202ca92f27d03842e', 'message': 'Replaces several screenshots for vCenter\n\nThis commit updates screenshots for the\nfollowing issues:\n\n* Create env\n\n* Storage backend\n\nChange-Id: Ie28656ec37638b19a41006841cdf9d7a9ee6cfda\n'}, {'number': 3, 'created': '2015-05-08 09:15:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-docs/commit/c167a41dca27c18a233a5003d1cef3fb4482ef3e', 'message': 'Replaces several screenshots for vCenter\n\nThis commit updates screenshots for the\nfollowing issues:\n\n* Create env\n\n* Storage backend\n\nChange-Id: Ie28656ec37638b19a41006841cdf9d7a9ee6cfda\n'}, {'number': 4, 'created': '2015-05-08 10:43:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-docs/commit/5844193d6d5050f892c0f2f3124b469051d2827b', 'message': 'Replaces several screenshots for vCenter\n\nThis commit updates screenshots for the\nfollowing issues:\n\n* Create env\n\n* Storage backend\n\nChange-Id: Ie28656ec37638b19a41006841cdf9d7a9ee6cfda\n'}, {'number': 5, 'created': '2015-05-08 10:55:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-docs/commit/66d208a85a463786b3d67d4c5d86ddd10402b2a1', 'message': 'Replaces several screenshots for vCenter\n\nThis commit updates screenshots for the\nfollowing issues:\n\n* Create env\n\n* Storage backend\n\nChange-Id: Ie28656ec37638b19a41006841cdf9d7a9ee6cfda\n'}, {'number': 6, 'created': '2015-05-12 14:50:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-docs/commit/a069bb2925220965e0871adfb67937e77eeec453', 'message': 'Replaces several screenshots for vCenter\n\nThis commit updates screenshots for the\nfollowing issues:\n\n* Create env\n\n* Storage backend\n\nChange-Id: Ie28656ec37638b19a41006841cdf9d7a9ee6cfda\n'}, {'number': 7, 'created': '2015-05-13 07:35:37.000000000', 'files': ['pages/user-guide/7300-vcenter.rst', '_images/user_screen_shots/cinder-storage-backend-vmware.png', '_images/user_screen_shots/settings-storage.png', '_images/user_screen_shots/vcenter-cinder-uncheck.png', '_images/user_screen_shots/vcenter-create-env.png', '_images/user_screen_shots/vcenter-networking-no-nsx.png', '_images/user_screen_shots/vcenter_glance_settings.png'], 'web_link': 'https://opendev.org/openstack/fuel-docs/commit/226880adbe26e448b8019e460ac711367babf871', 'message': 'Replaces several screenshots for vCenter\n\nThis commit updates screenshots for the\nfollowing issues:\n\n* Create env\n\n* Storage backend\n\nChange-Id: Ie28656ec37638b19a41006841cdf9d7a9ee6cfda\n'}]",0,180099,226880adbe26e448b8019e460ac711367babf871,38,5,7,13082,,,0,"Replaces several screenshots for vCenter

This commit updates screenshots for the
following issues:

* Create env

* Storage backend

Change-Id: Ie28656ec37638b19a41006841cdf9d7a9ee6cfda
",git fetch https://review.opendev.org/openstack/fuel-docs refs/changes/99/180099/5 && git format-patch -1 --stdout FETCH_HEAD,"['pages/user-guide/7300-vcenter.rst', '_images/user_screen_shots/cinder-storage-backend-vmware.png', '_images/user_screen_shots/vcenter-create-env.png']",3,186f857933c3c46097b6210f1859c296dcba56b0,upd-screenshots-vcenter,,,0,1
openstack%2Ffuel-docs~stable%2F6.0~I2baf7faa8e80d48b3045bbc5e3f080f13c10860f,openstack/fuel-docs,stable/6.0,I2baf7faa8e80d48b3045bbc5e3f080f13c10860f,Rephrases Docker troubleshoot procedure into OpsGuide,MERGED,2015-04-27 13:44:31.000000000,2015-05-13 07:37:24.000000000,2015-05-13 07:37:24.000000000,"[{'_account_id': 3}, {'_account_id': 8971}, {'_account_id': 12486}, {'_account_id': 13082}, {'_account_id': 13695}, {'_account_id': 14188}]","[{'number': 1, 'created': '2015-04-27 13:44:31.000000000', 'files': ['pages/operations/troubleshoot/2000-docker-disk-full.rst'], 'web_link': 'https://opendev.org/openstack/fuel-docs/commit/dadace82b5aa2e16897bb63736e8b00d448950f0', 'message': 'Rephrases Docker troubleshoot procedure into OpsGuide\n\nChange-Id: I2baf7faa8e80d48b3045bbc5e3f080f13c10860f\nRelated-Bug: 1422724\n'}]",0,177768,dadace82b5aa2e16897bb63736e8b00d448950f0,12,6,1,13082,,,0,"Rephrases Docker troubleshoot procedure into OpsGuide

Change-Id: I2baf7faa8e80d48b3045bbc5e3f080f13c10860f
Related-Bug: 1422724
",git fetch https://review.opendev.org/openstack/fuel-docs refs/changes/68/177768/1 && git format-patch -1 --stdout FETCH_HEAD,['pages/operations/troubleshoot/2000-docker-disk-full.rst'],1,dadace82b5aa2e16897bb63736e8b00d448950f0,bug/1422724,"Check and restore metadata:The solution requires data recovery, described in the Summary above.","First, check and restore metadata:This solution requires data recovery, described in the Summary above.",2,2
openstack%2Fneutron~master~I3c66e92cbe8883dcad843ad243388def3a96dbe5,openstack/neutron,master,I3c66e92cbe8883dcad843ad243388def3a96dbe5,ARP spoofing patch: Data structures for rules.,MERGED,2015-02-18 18:18:20.000000000,2015-05-13 07:33:53.000000000,2015-05-13 07:33:51.000000000,"[{'_account_id': 3}, {'_account_id': 55}, {'_account_id': 261}, {'_account_id': 2035}, {'_account_id': 2874}, {'_account_id': 5170}, {'_account_id': 6139}, {'_account_id': 6524}, {'_account_id': 6587}, {'_account_id': 6697}, {'_account_id': 7634}, {'_account_id': 7787}, {'_account_id': 8124}, {'_account_id': 8645}, {'_account_id': 8788}, {'_account_id': 9681}, {'_account_id': 9682}, {'_account_id': 9732}, {'_account_id': 9787}, {'_account_id': 9820}, {'_account_id': 9845}, {'_account_id': 9925}, {'_account_id': 10116}, {'_account_id': 10117}, {'_account_id': 10121}, {'_account_id': 10153}, {'_account_id': 10184}, {'_account_id': 10257}, {'_account_id': 10387}, {'_account_id': 10692}, {'_account_id': 12040}, {'_account_id': 14208}, {'_account_id': 14212}, {'_account_id': 14213}, {'_account_id': 14214}, {'_account_id': 14215}, {'_account_id': 14216}, {'_account_id': 14323}, {'_account_id': 14571}, {'_account_id': 14956}, {'_account_id': 15022}, {'_account_id': 15296}, {'_account_id': 15443}, {'_account_id': 15444}, {'_account_id': 15752}]","[{'number': 1, 'created': '2015-02-18 18:18:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8ad07f5908fef458668a24b9a43d2289ec21dda5', 'message': ""ARP spoofing patch: Data structures for rules.\n\nARP cache poisoning is not actually prevented by the firewall\ndriver 'iptables_firewall'. We are adding the use of the ebtables\ncommand - with a corresponding ebtables-driver - in order to create\nEthernet frame filtering rules, which prevent the sending of ARP\ncache poisoning frames.\n\nThe complete patch is broken into smaller patch sets for easier review.\n\nThis patch set here includes the some classes for the maintenance of ebtable\nchains and rules.\n\nNote:\n    This commit is based greatly on an original, now abandoned patch,\n    presented for review here:\n\n        https://review.openstack.org/#/c/70067/\n\nFull spec can be found here: https://review.openstack.org/#/c/129090/\n\nChange-Id: I3c66e92cbe8883dcad843ad243388def3a96dbe5\nImplements: blueprint arp-spoof-patch-ebtables\nRelated-Bug: 1274034\nCo-Authored-By: jbrendel <jbrendel@cisco.com>\n""}, {'number': 2, 'created': '2015-02-26 00:53:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/cdc02f90dca14f3be8bb32304cc9f4d9f80344a4', 'message': ""ARP spoofing patch: Data structures for rules.\n\nARP cache poisoning is not actually prevented by the firewall\ndriver 'iptables_firewall'. We are adding the use of the ebtables\ncommand - with a corresponding ebtables-driver - in order to create\nEthernet frame filtering rules, which prevent the sending of ARP\ncache poisoning frames.\n\nThe complete patch is broken into smaller patch sets for easier review.\n\nThis patch set here includes the some classes for the maintenance of ebtable\nchains and rules.\n\nNote:\n    This commit is based greatly on an original, now abandoned patch,\n    presented for review here:\n\n        https://review.openstack.org/#/c/70067/\n\nFull spec can be found here: https://review.openstack.org/#/c/129090/\n\nChange-Id: I3c66e92cbe8883dcad843ad243388def3a96dbe5\nImplements: blueprint arp-spoof-patch-ebtables\nRelated-Bug: 1274034\nCo-Authored-By: jbrendel <jbrendel@cisco.com>\n""}, {'number': 3, 'created': '2015-02-27 04:02:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/38685748d13589fb490dfeb0e43eb8454bb94108', 'message': ""ARP spoofing patch: Data structures for rules.\n\nARP cache poisoning is not actually prevented by the firewall\ndriver 'iptables_firewall'. We are adding the use of the ebtables\ncommand - with a corresponding ebtables-driver - in order to create\nEthernet frame filtering rules, which prevent the sending of ARP\ncache poisoning frames.\n\nThe complete patch is broken into smaller patch sets for easier review.\n\nThis patch set here includes the some classes for the maintenance of ebtable\nchains and rules.\n\nNote:\n    This commit is based greatly on an original, now abandoned patch,\n    presented for review here:\n\n        https://review.openstack.org/#/c/70067/\n\nFull spec can be found here: https://review.openstack.org/#/c/129090/\n\nChange-Id: I3c66e92cbe8883dcad843ad243388def3a96dbe5\nImplements: blueprint arp-spoof-patch-ebtables\nRelated-Bug: 1274034\nCo-Authored-By: jbrendel <jbrendel@cisco.com>\n""}, {'number': 4, 'created': '2015-03-04 06:30:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c95d06b2daed309e4c39d039740dd6a51657d69b', 'message': ""ARP spoofing patch: Data structures for rules.\n\nARP cache poisoning is not actually prevented by the firewall\ndriver 'iptables_firewall'. We are adding the use of the ebtables\ncommand - with a corresponding ebtables-driver - in order to create\nEthernet frame filtering rules, which prevent the sending of ARP\ncache poisoning frames.\n\nThe complete patch is broken into smaller patch sets for easier review.\n\nThis patch set here includes the some classes for the maintenance of ebtable\nchains and rules.\n\nNote:\n    This commit is based greatly on an original, now abandoned patch,\n    presented for review here:\n\n        https://review.openstack.org/#/c/70067/\n\nFull spec can be found here: https://review.openstack.org/#/c/129090/\n\nChange-Id: I3c66e92cbe8883dcad843ad243388def3a96dbe5\nImplements: blueprint arp-spoof-patch-ebtables\nRelated-Bug: 1274034\nCo-Authored-By: jbrendel <jbrendel@cisco.com>\n""}, {'number': 5, 'created': '2015-03-19 23:08:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/990eb353db8afc383fd0826fa1d2121986f1b01e', 'message': ""ARP spoofing patch: Data structures for rules.\n\nARP cache poisoning is not actually prevented by the firewall\ndriver 'iptables_firewall'. We are adding the use of the ebtables\ncommand - with a corresponding ebtables-driver - in order to create\nEthernet frame filtering rules, which prevent the sending of ARP\ncache poisoning frames.\n\nThe complete patch is broken into smaller patch sets for easier review.\n\nThis patch set here includes the some classes for the maintenance of ebtable\nchains and rules.\n\nNote:\n    This commit is based greatly on an original, now abandoned patch,\n    presented for review here:\n\n        https://review.openstack.org/#/c/70067/\n\nFull spec can be found here: https://review.openstack.org/#/c/129090/\n\nSecurityImpact\n\nChange-Id: I3c66e92cbe8883dcad843ad243388def3a96dbe5\nImplements: blueprint arp-spoof-patch-ebtables\nRelated-Bug: 1274034\nCo-Authored-By: jbrendel <jbrendel@cisco.com>\n""}, {'number': 6, 'created': '2015-04-28 03:08:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/30790be34967cdc2412a4409f518bb8c9e1d059c', 'message': ""ARP spoofing patch: Data structures for rules.\n\nARP cache poisoning is not actually prevented by the firewall\ndriver 'iptables_firewall'. We are adding the use of the ebtables\ncommand - with a corresponding ebtables-driver - in order to create\nEthernet frame filtering rules, which prevent the sending of ARP\ncache poisoning frames.\n\nThe complete patch is broken into smaller patch sets for easier review.\n\nThis patch set here includes the some classes for the maintenance of ebtable\nchains and rules.\n\nNote:\n    This commit is based greatly on an original, now abandoned patch,\n    presented for review here:\n\n        https://review.openstack.org/#/c/70067/\n\nFull spec can be found here: https://review.openstack.org/#/c/129090/\n\nSecurityImpact\n\nChange-Id: I3c66e92cbe8883dcad843ad243388def3a96dbe5\nImplements: blueprint arp-spoof-patch-ebtables\nRelated-Bug: 1274034\nCo-Authored-By: jbrendel <jbrendel@cisco.com>\n""}, {'number': 7, 'created': '2015-04-28 04:32:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3d0770d1eae500093ba86931eadcd5493600db5e', 'message': ""ARP spoofing patch: Data structures for rules.\n\nARP cache poisoning is not actually prevented by the firewall\ndriver 'iptables_firewall'. We are adding the use of the ebtables\ncommand - with a corresponding ebtables-driver - in order to create\nEthernet frame filtering rules, which prevent the sending of ARP\ncache poisoning frames.\n\nThe complete patch is broken into smaller patch sets for easier review.\n\nThis patch set here includes the some classes for the maintenance of ebtable\nchains and rules.\n\nNote:\n    This commit is based greatly on an original, now abandoned patch,\n    presented for review here:\n\n        https://review.openstack.org/#/c/70067/\n\nFull spec can be found here: https://review.openstack.org/#/c/129090/\n\nSecurityImpact\n\nChange-Id: I3c66e92cbe8883dcad843ad243388def3a96dbe5\nImplements: blueprint arp-spoof-patch-ebtables\nRelated-Bug: 1274034\nCo-Authored-By: jbrendel <jbrendel@cisco.com>\n""}, {'number': 8, 'created': '2015-04-28 04:48:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0d665cf5020a04e7da784adf4a22fd3db86d0db0', 'message': ""ARP spoofing patch: Data structures for rules.\n\nARP cache poisoning is not actually prevented by the firewall\ndriver 'iptables_firewall'. We are adding the use of the ebtables\ncommand - with a corresponding ebtables-driver - in order to create\nEthernet frame filtering rules, which prevent the sending of ARP\ncache poisoning frames.\n\nThe complete patch is broken into smaller patch sets for easier review.\n\nThis patch set here includes the some classes for the maintenance of ebtable\nchains and rules.\n\nNote:\n    This commit is based greatly on an original, now abandoned patch,\n    presented for review here:\n\n        https://review.openstack.org/#/c/70067/\n\nFull spec can be found here: https://review.openstack.org/#/c/129090/\n\nSecurityImpact\n\nChange-Id: I3c66e92cbe8883dcad843ad243388def3a96dbe5\nImplements: blueprint arp-spoof-patch-ebtables\nRelated-Bug: 1274034\nCo-Authored-By: jbrendel <jbrendel@cisco.com>\n""}, {'number': 9, 'created': '2015-04-28 23:28:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4c4f1fc8cb955bc85098139290dcf678a0dfe2c9', 'message': ""ARP spoofing patch: Data structures for rules.\n\nARP cache poisoning is not actually prevented by the firewall\ndriver 'iptables_firewall'. We are adding the use of the ebtables\ncommand - with a corresponding ebtables-driver - in order to create\nEthernet frame filtering rules, which prevent the sending of ARP\ncache poisoning frames.\n\nThe complete patch is broken into smaller patch sets for easier review.\n\nThis patch set here includes the some classes for the maintenance of ebtable\nchains and rules.\n\nNote:\n    This commit is based greatly on an original, now abandoned patch,\n    presented for review here:\n\n        https://review.openstack.org/#/c/70067/\n\nFull spec can be found here: https://review.openstack.org/#/c/129090/\n\nSecurityImpact\n\nChange-Id: I3c66e92cbe8883dcad843ad243388def3a96dbe5\nImplements: blueprint arp-spoof-patch-ebtables\nRelated-Bug: 1274034\nCo-Authored-By: jbrendel <jbrendel@cisco.com>\n""}, {'number': 10, 'created': '2015-04-30 18:13:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d3983b63d2d4cf920c241490d1de898186c4936d', 'message': ""ARP spoofing patch: Data structures for rules.\n\nARP cache poisoning is not actually prevented by the firewall\ndriver 'iptables_firewall'. We are adding the use of the ebtables\ncommand - with a corresponding ebtables-driver - in order to create\nEthernet frame filtering rules, which prevent the sending of ARP\ncache poisoning frames.\n\nThe complete patch is broken into smaller patch sets for easier review.\n\nThis patch set here includes the some classes for the maintenance of ebtable\nchains and rules.\n\nNote:\n    This commit is based greatly on an original, now abandoned patch,\n    presented for review here:\n\n        https://review.openstack.org/#/c/70067/\n\nFull spec can be found here: https://review.openstack.org/#/c/129090/\n\nSecurityImpact\n\nChange-Id: I3c66e92cbe8883dcad843ad243388def3a96dbe5\nImplements: blueprint arp-spoof-patch-ebtables\nRelated-Bug: 1274034\nCo-Authored-By: jbrendel <jbrendel@cisco.com>\n""}, {'number': 11, 'created': '2015-05-06 01:45:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1a4ed3014d95bac505903d71d4f0f1c2ccfa572c', 'message': ""ARP spoofing patch: Data structures for rules.\n\nARP cache poisoning is not actually prevented by the firewall\ndriver 'iptables_firewall'. We are adding the use of the ebtables\ncommand - with a corresponding ebtables-driver - in order to create\nEthernet frame filtering rules, which prevent the sending of ARP\ncache poisoning frames.\n\nThe complete patch is broken into smaller patch sets for easier review.\n\nThis patch set here includes the some classes for the maintenance of ebtable\nchains and rules.\n\nNote:\n    This commit is based greatly on an original, now abandoned patch,\n    presented for review here:\n\n        https://review.openstack.org/#/c/70067/\n\nFull spec can be found here: https://review.openstack.org/#/c/129090/\n\nSecurityImpact\n\nChange-Id: I3c66e92cbe8883dcad843ad243388def3a96dbe5\nImplements: blueprint arp-spoof-patch-ebtables\nRelated-Bug: 1274034\nCo-Authored-By: jbrendel <jbrendel@cisco.com>\n""}, {'number': 12, 'created': '2015-05-07 20:23:46.000000000', 'files': ['neutron/agent/linux/ebtables_manager.py', 'neutron/tests/unit/agent/linux/test_ebtables_manager.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/f77c17ef9993ea8c545dc044ad2ac013a28dbc22', 'message': ""ARP spoofing patch: Data structures for rules.\n\nARP cache poisoning is not actually prevented by the firewall\ndriver 'iptables_firewall'. We are adding the use of the ebtables\ncommand - with a corresponding ebtables-driver - in order to create\nEthernet frame filtering rules, which prevent the sending of ARP\ncache poisoning frames.\n\nThe complete patch is broken into smaller patch sets for easier review.\n\nThis patch set here includes the some classes for the maintenance of ebtable\nchains and rules.\n\nNote:\n    This commit is based greatly on an original, now abandoned patch,\n    presented for review here:\n\n        https://review.openstack.org/#/c/70067/\n\nFull spec can be found here: https://review.openstack.org/#/c/129090/\n\nSecurityImpact\n\nChange-Id: I3c66e92cbe8883dcad843ad243388def3a96dbe5\nImplements: blueprint arp-spoof-patch-ebtables\nRelated-Bug: 1274034\nCo-Authored-By: jbrendel <jbrendel@cisco.com>\n""}]",50,157097,f77c17ef9993ea8c545dc044ad2ac013a28dbc22,297,45,12,6139,,,0,"ARP spoofing patch: Data structures for rules.

ARP cache poisoning is not actually prevented by the firewall
driver 'iptables_firewall'. We are adding the use of the ebtables
command - with a corresponding ebtables-driver - in order to create
Ethernet frame filtering rules, which prevent the sending of ARP
cache poisoning frames.

The complete patch is broken into smaller patch sets for easier review.

This patch set here includes the some classes for the maintenance of ebtable
chains and rules.

Note:
    This commit is based greatly on an original, now abandoned patch,
    presented for review here:

        https://review.openstack.org/#/c/70067/

Full spec can be found here: https://review.openstack.org/#/c/129090/

SecurityImpact

Change-Id: I3c66e92cbe8883dcad843ad243388def3a96dbe5
Implements: blueprint arp-spoof-patch-ebtables
Related-Bug: 1274034
Co-Authored-By: jbrendel <jbrendel@cisco.com>
",git fetch https://review.opendev.org/openstack/neutron refs/changes/97/157097/6 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/linux/ebtables_manager.py', 'neutron/tests/unit/test_ebtables_manager.py']",2,8ad07f5908fef458668a24b9a43d2289ec21dda5,bug/1274034,"# Copyright (c) 2015 OpenStack Foundation. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # from neutron.agent.linux.ebtables_manager import ChainName from neutron.agent.linux.ebtables_manager import EbtablesRule from neutron.agent.linux.ebtables_manager import EbtablesTable from neutron.tests import base LONG_NAME = ""1234567890"" * 3 class EbtablesChainNameTestCase(base.BaseTestCase): def setUp(self): super(EbtablesChainNameTestCase, self).setUp() ChainName.binary_name = classmethod(lambda c: ""binary"") self.cname = ChainName() def test_get_prefix_chain(self): # Fake the binary name to a known value for this test. # Testing prefix chain name self.assertEqual(self.cname._get_prefix_chain(), ""binary"") self.assertEqual(self.cname._get_prefix_chain(""some-name""), ""some-name"") self.assertEqual(self.cname._get_prefix_chain(LONG_NAME), LONG_NAME[:ChainName.MAX_LEN_PREFIX_CHAIN]) self.cname.prefix_chain = ""some-other-name"" self.assertEqual(self.cname._get_prefix_chain(), ""some-other-name"") def test_get_chain_name(self): # Testing full chain name self.cname.prefix_chain = ""some-other-name"" self.assertEqual(self.cname.get_chain_name(chain_name=""foobar""), ""foobar"") is_name = self.cname.get_chain_name(chain_name=LONG_NAME, wrap=True) should_name = (LONG_NAME[:self.cname.MAX_CHAIN_LEN_EBTABLES - len(self.cname.prefix_chain) - 1]) self.assertEqual(is_name, should_name) self.assertEqual(self.cname.get_chain_name(chain_name=LONG_NAME, wrap=False), LONG_NAME) delattr(self.cname, ""prefix_chain"") should_name = LONG_NAME[:-len(""bar"")] self.assertEqual(self.cname.get_chain_name(chain_name=LONG_NAME, wrap=True, prefix_chain=""bar""), should_name) self.assertEqual(self.cname.get_chain_name(chain_name=LONG_NAME, wrap=False, prefix_chain=""bar""), LONG_NAME) class EbtablesRuleTestCase(base.BaseTestCase): def setUp(self): super(EbtablesRuleTestCase, self).setUp() def test_basic_ops(self): r1 = EbtablesRule(""chain-name"", ""some-rule"", wrap=True, top=False, prefix_chain=""foobar"") r2 = EbtablesRule(""chain-name"", ""some-rule"", wrap=True, top=False, prefix_chain=""foobar"") r3 = EbtablesRule(""chain-name"", ""some-rule"", wrap=True, top=True, prefix_chain=""foobar"") self.assertEqual(r1, r2) self.assertNotEqual(r1, r3) self.assertEqual(""-A foobar-chain-name some-rule"", str(r1)) class EbtablesTableTestCase(base.BaseTestCase): def setUp(self): super(EbtablesTableTestCase, self).setUp() ChainName.binary_name = classmethod(lambda c: ""binary"") self.et = EbtablesTable() def test_add_chain(self): # Wrapped and un-wrapped chains are maintained separately, thus, same # name is possible. self.et.add_chain(""bar"" + LONG_NAME, wrap=False) self.et.add_chain(""baz"" + LONG_NAME, wrap=False) self.et.add_chain(""baz"" + LONG_NAME) self.et.add_chain(""foo"" + LONG_NAME) self.assertEqual(set(['baz123456789012345678901', 'foo123456789012345678901']), self.et._select_chain_set(wrap=True)) self.assertEqual(set(['bar1234567890123456789012345678', 'baz1234567890123456789012345678']), self.et._select_chain_set(wrap=False)) def test_add_remove_rule(self): # Adding some rules to a chain self.et.add_chain(""foobar"") self.et.add_rule(""foobar"", ""some rule text"") self.assertEqual(""-A binary-foobar some rule text"", str(self.et.rules[0])) self.assertEqual(1, len(self.et.rules)) self.et.add_rule(""foobar"", ""another rule"") self.assertEqual(2, len(self.et.rules)) self.assertEqual(""-A binary-foobar some rule text"", str(self.et.rules[0])) self.assertEqual(""-A binary-foobar another rule"", str(self.et.rules[1])) # Removing one of the rules, testing the state of the remaining rule # list. self.et.remove_rule(""foobar"", ""some rule text"") self.assertEqual(1, len(self.et.rules)) self.assertEqual(""-A binary-foobar another rule"", str(self.et.rules[0])) # Testing emptying of a chain self.et.add_rule(""foobar"", ""yet another rule"") self.assertEqual(2, len(self.et.rules)) self.et.empty_chain(""foobar"") self.assertEqual(0, len(self.et.rules)) def test_remove_chain(self): self.et.add_chain(""foobar"") self.et.add_rule(""foobar"", ""some rule text"") self.et.add_rule(""foobar"", ""yet another rule"") self.et.ensure_remove_chain(""foobar"") self.assertEqual(0, len(self.et.rules)) self.assertEqual(0, len(self.et.chains)) # Testing the 'cascading' remove: If rules of chain A point to chain B # and chain B is removed then those rules of chain A also need to be # removed. self.et.add_chain(""chain-A"") self.et.add_rule(""chain-A"", ""some rule text"") self.et.add_chain(""chain-B"") self.et.add_rule(""chain-B"", ""another rule"") # Now add the rule to chain-A with chain-B as jump target self.et.add_rule(""chain-A"", ""jumpyjump -j binary-chain-B"") self.assertEqual(2, len(self.et.chains)) self.assertEqual(3, len(self.et.rules)) # Remove chain-B, making the jump rule in chain-A invalid. This should # trigger the cascading deletion of the rules. self.et.ensure_remove_chain(""chain-B"") self.assertEqual(1, len(self.et.chains)) self.assertEqual(1, len(self.et.rules)) self.assertEqual(""-A binary-chain-A some rule text"", str(self.et.rules[0])) ",,414,0
openstack%2Fopenstack-manuals~master~I2e6233d0ebc82ec0507a4f690557a3b33af91143,openstack/openstack-manuals,master,I2e6233d0ebc82ec0507a4f690557a3b33af91143,Imported Translations from Transifex,MERGED,2015-05-13 06:17:20.000000000,2015-05-13 07:17:04.000000000,2015-05-13 07:17:03.000000000,"[{'_account_id': 3}, {'_account_id': 6547}]","[{'number': 1, 'created': '2015-05-13 06:17:20.000000000', 'files': ['doc/arch-design/locale/arch-design.pot', 'doc/arch-design/locale/zh_CN.po', 'doc/common/locale/ja.po', 'doc/glossary/locale/ja.po'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/af01554056aa7099af2ee58576f10bc3b1f7e0b1', 'message': 'Imported Translations from Transifex\n\nFor more information about this automatic import see:\nhttps://wiki.openstack.org/wiki/Translations/Infrastructure\n\nChange-Id: I2e6233d0ebc82ec0507a4f690557a3b33af91143\n'}]",0,182546,af01554056aa7099af2ee58576f10bc3b1f7e0b1,6,2,1,11131,,,0,"Imported Translations from Transifex

For more information about this automatic import see:
https://wiki.openstack.org/wiki/Translations/Infrastructure

Change-Id: I2e6233d0ebc82ec0507a4f690557a3b33af91143
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/46/182546/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/arch-design/locale/arch-design.pot', 'doc/arch-design/locale/zh_CN.po', 'doc/common/locale/ja.po', 'doc/glossary/locale/ja.po']",4,af01554056aa7099af2ee58576f10bc3b1f7e0b1,transifex/translations,"""POT-Creation-Date: 2015-05-12 23:55+0000\n"" ""PO-Revision-Date: 2015-05-12 08:26+0000\n""msgid ""Image service"" msgstr ""Image "" msgid ""Image service API"" msgstr ""Image  API"" msgid ""Key management service"" msgstr ""Key management "" ","""POT-Creation-Date: 2015-05-08 08:53+0000\n"" ""PO-Revision-Date: 2015-05-08 07:34+0000\n""",323,1478
openstack%2Fcinder~master~I08bc5e9a8800ce3b27c7db90b7bff86d7d14359a,openstack/cinder,master,I08bc5e9a8800ce3b27c7db90b7bff86d7d14359a,Check type match on create from source/snap,MERGED,2015-05-12 14:42:35.000000000,2015-05-13 07:00:46.000000000,2015-05-12 19:39:10.000000000,"[{'_account_id': 3}, {'_account_id': 170}, {'_account_id': 4159}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 10621}, {'_account_id': 10622}, {'_account_id': 11611}, {'_account_id': 11811}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12202}, {'_account_id': 12369}, {'_account_id': 12493}, {'_account_id': 12778}, {'_account_id': 12780}, {'_account_id': 13394}, {'_account_id': 14259}, {'_account_id': 14305}, {'_account_id': 14969}, {'_account_id': 15249}, {'_account_id': 15386}, {'_account_id': 16269}]","[{'number': 1, 'created': '2015-05-12 14:42:35.000000000', 'files': ['cinder/volume/utils.py', 'cinder/tests/unit/test_volume.py', 'cinder/volume/api.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/706cbf40f5f8c6f756277057c92bf41f1ef1cd80', 'message': 'Check type match on create from source/snap\n\nWe used to allow creating from source/snap and specifying a\ndifferent type than the originating resource when doing so.\nOnce we started getting more drivers and more multi-backend\nconfigurations, we implemented a check in volume.api that\ntook this away (broke it).  There have been a number of\narguments about whether this should be allowed or not, and\nthat it could fail after the rpc call leaving the user with\nnothing more than a ""failed"" volume and no explanation as to\nwhy.\n\nThis patch allows the capability, but checks validity at the\nAPI layer before issuing the create call.  There are two\nrequirements for the new type specification to be valid:\n1. There is only one backend (cinder-volume) topic configured\n2. Both types in question specify the same volume_backend_name\nIf neither of these requirements are met, the user will receive\nan ""invalid type"" error explaining that the type combination is\nnot compatible and that they should omit the type argument altogether.\n\nChange-Id: I08bc5e9a8800ce3b27c7db90b7bff86d7d14359a\nCloses-Bug: #1289931\n'}]",0,182327,706cbf40f5f8c6f756277057c92bf41f1ef1cd80,27,23,1,2243,,,0,"Check type match on create from source/snap

We used to allow creating from source/snap and specifying a
different type than the originating resource when doing so.
Once we started getting more drivers and more multi-backend
configurations, we implemented a check in volume.api that
took this away (broke it).  There have been a number of
arguments about whether this should be allowed or not, and
that it could fail after the rpc call leaving the user with
nothing more than a ""failed"" volume and no explanation as to
why.

This patch allows the capability, but checks validity at the
API layer before issuing the create call.  There are two
requirements for the new type specification to be valid:
1. There is only one backend (cinder-volume) topic configured
2. Both types in question specify the same volume_backend_name
If neither of these requirements are met, the user will receive
an ""invalid type"" error explaining that the type combination is
not compatible and that they should omit the type argument altogether.

Change-Id: I08bc5e9a8800ce3b27c7db90b7bff86d7d14359a
Closes-Bug: #1289931
",git fetch https://review.opendev.org/openstack/cinder refs/changes/27/182327/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/utils.py', 'cinder/tests/unit/test_volume.py', 'cinder/volume/api.py']",3,706cbf40f5f8c6f756277057c92bf41f1ef1cd80,bug/1289931," def _retype_is_possible(self, context, first_type_id, second_type_id, first_type=None, second_type=None): safe = False if len(self.db.service_get_all_by_topic(context, 'cinder-volume', disabled=True)) == 1: safe = True else: type_a = first_type or volume_types.get_volume_type( context, first_type_id) type_b = second_type or volume_types.get_volume_type( context, second_type_id) if(volume_utils.matching_backend_name(type_a['extra_specs'], type_b['extra_specs'])): safe = True return safe if not self._retype_is_possible( context, volume_type['id'], source_volume['volume_type_id'], volume_type): msg = _(""Invalid volume_type provided: %s (requested type "" ""is not compatible; either match source volume, "" ""or omit type argument)."") % volume_type['id'] raise exception.InvalidInput(reason=msg) if not self._retype_is_possible(context, volume_type['id'], snapshot['volume_type_id'], volume_type): msg = _(""Invalid volume_type provided: %s (requested "" ""type is not compatible; recommend omitting "" ""the type argument)."") % volume_type['id'] raise exception.InvalidInput(reason=msg)"," msg = _(""Invalid volume_type provided: %s (requested type "" ""must match source volume, "" ""or be omitted)."") % volume_type raise exception.InvalidInput(reason=msg) msg = _(""Invalid volume_type provided: %s (requested "" ""type must match source snapshot, or be "" ""omitted)."") % volume_type raise exception.InvalidInput(reason=msg)",225,70
openstack%2Fheat-templates~master~I9506d5114dfa3e3e956f377002d114999d8692de,openstack/heat-templates,master,I9506d5114dfa3e3e956f377002d114999d8692de,External access to pod deployed using kubelet hook,MERGED,2015-04-15 10:17:05.000000000,2015-05-13 06:45:58.000000000,2015-05-13 06:45:56.000000000,"[{'_account_id': 3}, {'_account_id': 4328}, {'_account_id': 4571}, {'_account_id': 8833}, {'_account_id': 12259}]","[{'number': 1, 'created': '2015-04-15 10:17:05.000000000', 'files': ['hot/software-config/example-templates/example-kubelet-template.yaml'], 'web_link': 'https://opendev.org/openstack/heat-templates/commit/08d1aae312dea7d7881786807d4af2cc58cbee70', 'message': 'External access to pod deployed using kubelet hook\n\nProvide external access to the pod deployed using\nkubelet hook.\n\nhttp://<floating_ip>:8080\n\nChange-Id: I9506d5114dfa3e3e956f377002d114999d8692de\n'}]",5,173752,08d1aae312dea7d7881786807d4af2cc58cbee70,52,5,1,8833,,,0,"External access to pod deployed using kubelet hook

Provide external access to the pod deployed using
kubelet hook.

http://<floating_ip>:8080

Change-Id: I9506d5114dfa3e3e956f377002d114999d8692de
",git fetch https://review.opendev.org/openstack/heat-templates refs/changes/52/173752/1 && git format-patch -1 --stdout FETCH_HEAD,['hot/software-config/example-templates/example-kubelet-template.yaml'],1,08d1aae312dea7d7881786807d4af2cc58cbee70,kublet-template,"heat_template_version: 2014-10-16 private_net: type: string default: private public_net: type: string default: public server_floating_ip_assoc: type: OS::Neutron::FloatingIPAssociation properties: floatingip_id: {get_resource: floating_ip} port_id: {get_attr: [server, addresses, {get_param: private_net}, 0, port]} floating_ip: type: OS::Neutron::FloatingIP properties: floating_network: {get_param: public_net} get_attr: [kubelet_deployment, deploy_stderr] server_floating_ip: value: get_attr: [floating_ip, floating_ip_address] ","heat_template_version: 2013-05-23 get_attr: [kubelet_deployment, deploy_stderr]",22,2
openstack%2Fmanila~master~I5360b3dd3a51ef4f1823eaa940e51adf3f437b3d,openstack/manila,master,I5360b3dd3a51ef4f1823eaa940e51adf3f437b3d,Update Quickstart guide,MERGED,2015-05-12 20:18:49.000000000,2015-05-13 06:38:32.000000000,2015-05-13 04:54:07.000000000,"[{'_account_id': 3}, {'_account_id': 2417}, {'_account_id': 6491}, {'_account_id': 8851}, {'_account_id': 10621}, {'_account_id': 11047}, {'_account_id': 11865}, {'_account_id': 15100}]","[{'number': 1, 'created': '2015-05-12 20:18:49.000000000', 'files': ['doc/source/adminref/quick_start.rst'], 'web_link': 'https://opendev.org/openstack/manila/commit/81dac423c4266fa8a343692c7b665cbcb0176224', 'message': 'Update Quickstart guide\n\nI found some problems with the quick start guide.\n* Client version was old\n* share-network-create syntax was wrong\n* Example conf file left out important project/tenant names\n\nChange-Id: I5360b3dd3a51ef4f1823eaa940e51adf3f437b3d\n'}]",4,182440,81dac423c4266fa8a343692c7b665cbcb0176224,12,8,1,2417,,,0,"Update Quickstart guide

I found some problems with the quick start guide.
* Client version was old
* share-network-create syntax was wrong
* Example conf file left out important project/tenant names

Change-Id: I5360b3dd3a51ef4f1823eaa940e51adf3f437b3d
",git fetch https://review.opendev.org/openstack/manila refs/changes/40/182440/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/adminref/quick_start.rst'],1,81dac423c4266fa8a343692c7b665cbcb0176224,," $ sudo pip install python-manilaclient>=1.0.4 The starting version of the Manila client for Kilo release is 1.0.4Copy files from %git_dir%/etc/manila # Set the project/tenant name of the service tenant. These should all be the # same value, but may be different than the default. neutron_admin_project_name = service cinder_admin_tenant_name = service nova_admin_tenant_name = service --neutron-net-id %id_of_neutron_network% \ --neutron-subnet-id %id_of_network_subnet%", $ sudo pip install python-manilaclient>=1.0.3 The starting version of the Manila client for Kilo release is 1.0.3Copy files from %cloned_git_dir%/etc/manila --neutron-network %id_of_neutron_network% \ --neutron-subnet %id_of_network_subnet%,11,5
openstack%2Fproject-config~master~I81b0cb7fb0f580d6fba0b6feba9fe17195af1005,openstack/project-config,master,I81b0cb7fb0f580d6fba0b6feba9fe17195af1005,Normalize projects.yaml,MERGED,2015-05-13 06:04:31.000000000,2015-05-13 06:32:05.000000000,2015-05-13 06:32:04.000000000,"[{'_account_id': 3}, {'_account_id': 6547}]","[{'number': 1, 'created': '2015-05-13 06:04:31.000000000', 'files': ['gerrit/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/425633eb380735b21b5d8270546a92c0a2a569bd', 'message': 'Normalize projects.yaml\n\nChange-Id: I81b0cb7fb0f580d6fba0b6feba9fe17195af1005\n'}]",0,182541,425633eb380735b21b5d8270546a92c0a2a569bd,6,2,1,11131,,,0,"Normalize projects.yaml

Change-Id: I81b0cb7fb0f580d6fba0b6feba9fe17195af1005
",git fetch https://review.opendev.org/openstack/project-config refs/changes/41/182541/1 && git format-patch -1 --stdout FETCH_HEAD,['gerrit/projects.yaml'],1,425633eb380735b21b5d8270546a92c0a2a569bd,project-yaml-normalization,, upstream: git://github.com/juliakreger/bifrost.git,0,1
openstack%2Foperations-guide~master~Ida783aa325cdb4aa947b821818260c97fcbdb4f3,openstack/operations-guide,master,Ida783aa325cdb4aa947b821818260c97fcbdb4f3,Imported Translations from Transifex,MERGED,2015-05-13 06:03:26.000000000,2015-05-13 06:23:35.000000000,2015-05-13 06:23:35.000000000,"[{'_account_id': 3}, {'_account_id': 6547}]","[{'number': 1, 'created': '2015-05-13 06:03:26.000000000', 'files': ['doc/openstack-ops/locale/ja.po'], 'web_link': 'https://opendev.org/openstack/operations-guide/commit/1ffb50663df26bebcca4579278d03f1a0963c9f2', 'message': 'Imported Translations from Transifex\n\nFor more information about this automatic import see:\nhttps://wiki.openstack.org/wiki/Translations/Infrastructure\n\nChange-Id: Ida783aa325cdb4aa947b821818260c97fcbdb4f3\n'}]",0,182540,1ffb50663df26bebcca4579278d03f1a0963c9f2,6,2,1,11131,,,0,"Imported Translations from Transifex

For more information about this automatic import see:
https://wiki.openstack.org/wiki/Translations/Infrastructure

Change-Id: Ida783aa325cdb4aa947b821818260c97fcbdb4f3
",git fetch https://review.opendev.org/openstack/operations-guide refs/changes/40/182540/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/openstack-ops/locale/ja.po'],1,1ffb50663df26bebcca4579278d03f1a0963c9f2,transifex/translations,"""POT-Creation-Date: 2015-05-09 07:30+0000\n"" ""PO-Revision-Date: 2015-05-12 08:26+0000\n""msgid ""Image service"" msgstr ""Image "" ","""POT-Creation-Date: 2015-04-29 14:05+0000\n"" ""PO-Revision-Date: 2015-04-29 14:24+0000\n""",5,2
openstack%2Fsecurity-doc~master~I5c72f90d76e265c87fcc198db18b862ee3e42de5,openstack/security-doc,master,I5c72f90d76e265c87fcc198db18b862ee3e42de5,Imported Translations from Transifex,MERGED,2015-05-13 06:04:42.000000000,2015-05-13 06:22:27.000000000,2015-05-13 06:22:27.000000000,"[{'_account_id': 3}, {'_account_id': 6547}]","[{'number': 1, 'created': '2015-05-13 06:04:42.000000000', 'files': ['security-guide/locale/security-guide.pot', 'security-guide/locale/ja.po'], 'web_link': 'https://opendev.org/openstack/security-doc/commit/64dd6d59fb82035cb00ee7712706cacaa3eaeaa4', 'message': 'Imported Translations from Transifex\n\nFor more information about this automatic import see:\nhttps://wiki.openstack.org/wiki/Translations/Infrastructure\n\nChange-Id: I5c72f90d76e265c87fcc198db18b862ee3e42de5\n'}]",0,182543,64dd6d59fb82035cb00ee7712706cacaa3eaeaa4,6,2,1,11131,,,0,"Imported Translations from Transifex

For more information about this automatic import see:
https://wiki.openstack.org/wiki/Translations/Infrastructure

Change-Id: I5c72f90d76e265c87fcc198db18b862ee3e42de5
",git fetch https://review.opendev.org/openstack/security-doc refs/changes/43/182543/1 && git format-patch -1 --stdout FETCH_HEAD,"['security-guide/locale/security-guide.pot', 'security-guide/locale/ja.po']",2,64dd6d59fb82035cb00ee7712706cacaa3eaeaa4,transifex/translations,"""POT-Creation-Date: 2015-05-12 21:18+0000\n"" ""PO-Revision-Date: 2015-05-12 21:18+0000\n""msgid ""Image service"" msgstr ""Image "" ","""POT-Creation-Date: 2015-05-05 04:40+0000\n"" ""PO-Revision-Date: 2015-05-05 04:40+0000\n""msgid """" ""It is critical during the design of an OpenStack Networking infrastructure "" ""to understand the current features and limitations of network services that "" ""are available. Understanding where the boundaries of your virtual and "" ""physical networks will help you add the required security controls in your "" ""environment."" msgstr """" "" OpenStack "" ""Networking "" """" """" msgid """" ""Alice deploys a private cloud for use by a government department in the US. "" ""The cloud must comply with relevant standards, such as FedRAMP. The security "" ""paperwork requirements for this cloud are very high. It must have no direct "" ""access to the internet: its API endpoints, compute instances, and other "" ""resources must be exposed to only systems within the department's network, "" ""which is entirely air-gapped from all other networks. The cloud can access "" ""other network services on the organization's intranet such as the "" ""authentication and logging services."" msgstr """" """" ""FedRAMP "" """" ""API Compute "" """" """" ""/"" """" ",53,81
openstack%2Ffuel-dev-tools~master~Ia711ae137799aad7d178376d08b8cdf21be7d5a5,openstack/fuel-dev-tools,master,Ia711ae137799aad7d178376d08b8cdf21be7d5a5,RabbitMQ commands added,MERGED,2015-05-12 07:11:49.000000000,2015-05-13 06:04:01.000000000,2015-05-13 06:04:01.000000000,"[{'_account_id': 3}, {'_account_id': 13445}]","[{'number': 1, 'created': '2015-05-12 07:11:49.000000000', 'files': ['fuel_dev_tools/docker/rabbitmq.py', 'fuel_dev_tools/README.md', 'fuel_dev_tools/shell.py'], 'web_link': 'https://opendev.org/openstack/fuel-dev-tools/commit/a307312bef9321cc3f45028c64d8f01809282354', 'message': 'RabbitMQ commands added\n\nChange-Id: Ia711ae137799aad7d178376d08b8cdf21be7d5a5\n'}]",0,182174,a307312bef9321cc3f45028c64d8f01809282354,6,2,1,13445,,,0,"RabbitMQ commands added

Change-Id: Ia711ae137799aad7d178376d08b8cdf21be7d5a5
",git fetch https://review.opendev.org/openstack/fuel-dev-tools refs/changes/74/182174/1 && git format-patch -1 --stdout FETCH_HEAD,"['fuel_dev_tools/docker/rabbitmq.py', 'fuel_dev_tools/README.md', 'fuel_dev_tools/shell.py']",3,a307312bef9321cc3f45028c64d8f01809282354,rabbitmq,"from fuel_dev_tools.docker import rabbitmq 'rabbitmq-id': rabbitmq.Id, 'rabbitmq-config': rabbitmq.Config, 'rabbitmq-dir': rabbitmq.Dir, 'rabbitmq-log': rabbitmq.Log, 'rabbitmq-restart': rabbitmq.Restart, 'rabbitmq-shell': rabbitmq.Shell, 'rabbitmq-start': rabbitmq.Start, 'rabbitmq-stop': rabbitmq.Stop, 'rabbitmq-tail': rabbitmq.Tail, 'rabbitmq-volumes': rabbitmq.Volumes,",,87,2
openstack%2Fcinder~stable%2Fkilo~I531e24853cf5db8b7c34d91460d3abe786a652de,openstack/cinder,stable/kilo,I531e24853cf5db8b7c34d91460d3abe786a652de,Dell: Added support for update_migrated_volume,MERGED,2015-05-08 22:43:52.000000000,2015-05-13 05:39:57.000000000,2015-05-13 05:39:56.000000000,"[{'_account_id': 3}, {'_account_id': 170}, {'_account_id': 2243}, {'_account_id': 10621}, {'_account_id': 11611}, {'_account_id': 11904}, {'_account_id': 12202}, {'_account_id': 12249}, {'_account_id': 12493}, {'_account_id': 13394}, {'_account_id': 14206}, {'_account_id': 14242}, {'_account_id': 14259}, {'_account_id': 15249}, {'_account_id': 15374}]","[{'number': 1, 'created': '2015-05-08 22:43:52.000000000', 'files': ['cinder/tests/test_dellsc.py', 'cinder/volume/drivers/dell/dell_storagecenter_common.py', 'cinder/volume/drivers/dell/dell_storagecenter_api.py', 'cinder/tests/test_dellscapi.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/e316d6f11a071dc75d1a543efe7521ef0ee98791', 'message': 'Dell: Added support for update_migrated_volume\n\nAdded support for updated_migrated_volume to common driver.\nAdded rename_volume to dell_storagecenter_api to support it.\nAdded tests to test_dellsc.py and test_dellapi.py.\n\nThe only thing we do in this rename the newly migrated volume\ndestination volume on the Dell Storage center to be the same\nas the original volume ID.  Since we identify the volumes\nby volume ID this prevents them from being lost.\n\nChange-Id: I531e24853cf5db8b7c34d91460d3abe786a652de\nCloses-bug: 1452919\n(cherry picked from commit fc09713f2c8102d4b04c8df57fc401a34525d79e)\n'}]",0,181580,e316d6f11a071dc75d1a543efe7521ef0ee98791,19,15,1,12112,,,0,"Dell: Added support for update_migrated_volume

Added support for updated_migrated_volume to common driver.
Added rename_volume to dell_storagecenter_api to support it.
Added tests to test_dellsc.py and test_dellapi.py.

The only thing we do in this rename the newly migrated volume
destination volume on the Dell Storage center to be the same
as the original volume ID.  Since we identify the volumes
by volume ID this prevents them from being lost.

Change-Id: I531e24853cf5db8b7c34d91460d3abe786a652de
Closes-bug: 1452919
(cherry picked from commit fc09713f2c8102d4b04c8df57fc401a34525d79e)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/80/181580/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/test_dellsc.py', 'cinder/volume/drivers/dell/dell_storagecenter_common.py', 'cinder/volume/drivers/dell/dell_storagecenter_api.py', 'cinder/tests/test_dellscapi.py']",4,e316d6f11a071dc75d1a543efe7521ef0ee98791,bug/1452919," 'post', return_value=RESPONSE_200) def test_rename_volume(self, mock_post, mock_close_connection, mock_open_connection, mock_init): res = self.scapi.rename_volume(self.VOLUME, 'newname') self.assertTrue(mock_post.called) self.assertTrue(res) @mock.patch.object(dell_storagecenter_api.HttpClient, 'post', return_value=RESPONSE_204) def test_rename_volume_failure(self, mock_post, mock_close_connection, mock_open_connection, mock_init): res = self.scapi.rename_volume(self.VOLUME, 'newname') self.assertTrue(mock_post.called) self.assertFalse(res) @mock.patch.object(dell_storagecenter_api.HttpClient,",,144,0
openstack%2Fmanila~master~I6723e815428c7ab2710482b396846dd0fd3c84e5,openstack/manila,master,I6723e815428c7ab2710482b396846dd0fd3c84e5,Updated from global requirements,MERGED,2015-05-11 15:49:29.000000000,2015-05-13 04:53:06.000000000,2015-05-13 04:53:04.000000000,"[{'_account_id': 3}, {'_account_id': 6491}, {'_account_id': 7102}, {'_account_id': 8851}]","[{'number': 1, 'created': '2015-05-11 15:49:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/b84ad9de40c5dc39eb3a248fc1223b03b82c76b7', 'message': 'Updated from global requirements\n\nChange-Id: I6723e815428c7ab2710482b396846dd0fd3c84e5\n'}, {'number': 2, 'created': '2015-05-12 14:30:12.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/manila/commit/a69812d3811aa4634cbb52cace0f9a6fa51375ff', 'message': 'Updated from global requirements\n\nChange-Id: I6723e815428c7ab2710482b396846dd0fd3c84e5\n'}]",0,181948,a69812d3811aa4634cbb52cace0f9a6fa51375ff,12,4,2,11131,,,0,"Updated from global requirements

Change-Id: I6723e815428c7ab2710482b396846dd0fd3c84e5
",git fetch https://review.opendev.org/openstack/manila refs/changes/48/181948/2 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,b84ad9de40c5dc39eb3a248fc1223b03b82c76b7,openstack/requirements,python-cinderclient>=1.2.1,python-cinderclient>=1.2.0,1,1
openstack%2Fnova~stable%2Fjuno~Id515137747a4b76e9b7057c95f80c8ae74017519,openstack/nova,stable/juno,Id515137747a4b76e9b7057c95f80c8ae74017519,Don't wait for an event on a resize-revert,MERGED,2015-04-30 20:36:45.000000000,2015-05-13 03:22:19.000000000,2015-05-12 22:30:26.000000000,"[{'_account_id': 3}, {'_account_id': 1653}, {'_account_id': 4393}, {'_account_id': 5170}, {'_account_id': 6589}, {'_account_id': 6873}, {'_account_id': 8871}, {'_account_id': 9732}]","[{'number': 1, 'created': '2015-04-30 20:36:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/aa37c1a9bad821c4712c569626d4e068b001521c', 'message': ""Don't wait for an event on a resize-revert\n\nSince we never unplugged, the event ain't comin'.\n\nSadly, the test that covers this was pretty wrong on multiple fronts,\nwhich this patch fixes up.\n\nConflicts:\n\tnova/tests/unit/virt/libvirt/test_driver.py\n\tnova/virt/libvirt/driver.py\n\nCloses-Bug: #1450624\nChange-Id: Id515137747a4b76e9b7057c95f80c8ae74017519\n(cherry picked from commit 4814e9126ec19a1edfa9c696138c4b3fec71aa0d)\n""}, {'number': 2, 'created': '2015-05-01 16:27:50.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/tests/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/0f7fd924fdfbdcb8cd3155d385a675d1e19b1c95', 'message': ""Don't wait for an event on a resize-revert\n\nSince we never unplugged, the event ain't comin'.\n\nSadly, the test that covers this was pretty wrong on multiple fronts,\nwhich this patch fixes up.\n\nConflicts:\n\tnova/tests/unit/virt/libvirt/test_driver.py\n\tnova/virt/libvirt/driver.py\n\nCloses-Bug: #1450624\nChange-Id: Id515137747a4b76e9b7057c95f80c8ae74017519\n(cherry picked from commit 4814e9126ec19a1edfa9c696138c4b3fec71aa0d)\n""}]",0,179234,0f7fd924fdfbdcb8cd3155d385a675d1e19b1c95,21,8,2,4393,,,0,"Don't wait for an event on a resize-revert

Since we never unplugged, the event ain't comin'.

Sadly, the test that covers this was pretty wrong on multiple fronts,
which this patch fixes up.

Conflicts:
	nova/tests/unit/virt/libvirt/test_driver.py
	nova/virt/libvirt/driver.py

Closes-Bug: #1450624
Change-Id: Id515137747a4b76e9b7057c95f80c8ae74017519
(cherry picked from commit 4814e9126ec19a1edfa9c696138c4b3fec71aa0d)
",git fetch https://review.opendev.org/openstack/nova refs/changes/34/179234/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/tests/virt/libvirt/test_driver.py']",2,aa37c1a9bad821c4712c569626d4e068b001521c,bug/1450624," def fake_create_domain(context, instance=None, network_info, block_device_info=None, power_on=True, vifs_already_plugged=None): self.assertTrue(vifs_already_plugged) self.stubs.Set(self.libvirtconnection, '_create_domain_and_network',"," def fake_create_domain(xml, instance=None, launch_flags=0, power_on=True): self.stubs.Set(self.libvirtconnection, '_create_domain',",8,4
openstack%2Fsenlin~master~I1f7402e5d4c40e580d6f247023cc3b66c7f10d94,openstack/senlin,master,I1f7402e5d4c40e580d6f247023cc3b66c7f10d94,Add consts for scaling adjustment types,MERGED,2015-05-12 08:20:30.000000000,2015-05-13 02:29:00.000000000,2015-05-13 02:28:59.000000000,"[{'_account_id': 3}, {'_account_id': 11034}]","[{'number': 1, 'created': '2015-05-12 08:20:30.000000000', 'files': ['senlin/policies/scaling_in_policy.py', 'senlin/policies/scaling_out_policy.py', 'senlin/common/consts.py'], 'web_link': 'https://opendev.org/openstack/senlin/commit/be286b1ad3be2e3a9c6e5a4786e8df93cfd001ef', 'message': 'Add consts for scaling adjustment types\n\nThis patch moves the const string definition of scaling adjustment types\nto the shared consts module. It will be used by standalone scaling\npolicies and the RESIZE operations.\n\nChange-Id: I1f7402e5d4c40e580d6f247023cc3b66c7f10d94\n'}]",0,182190,be286b1ad3be2e3a9c6e5a4786e8df93cfd001ef,6,2,1,8246,,,0,"Add consts for scaling adjustment types

This patch moves the const string definition of scaling adjustment types
to the shared consts module. It will be used by standalone scaling
policies and the RESIZE operations.

Change-Id: I1f7402e5d4c40e580d6f247023cc3b66c7f10d94
",git fetch https://review.opendev.org/openstack/senlin refs/changes/90/182190/1 && git format-patch -1 --stdout FETCH_HEAD,"['senlin/policies/scaling_in_policy.py', 'senlin/policies/scaling_out_policy.py', 'senlin/common/consts.py']",3,be286b1ad3be2e3a9c6e5a4786e8df93cfd001ef,resize-action," CLUSTER_ADD_NODES, CLUSTER_DEL_NODES, CLUSTER_RESIZE, 'CLUSTER_ADD_NODES', 'CLUSTER_DEL_NODES', 'CLUSTER_RESIZE',ADJUSTMENT_TYPES = ( EXACT_CAPACITY, CHANGE_IN_CAPACITY, CHANGE_IN_PERCENTAGE, ) = ( 'EXACT_CAPACITY', 'CHANGE_IN_CAPACITY', 'CHANGE_IN_PERCENTAGE', )"," CLUSTER_ADD_NODES, CLUSTER_DEL_NODES, 'CLUSTER_ADD_NODES', 'CLUSTER_DEL_NODES',",17,24
openstack%2Fpython-ceilometerclient~master~I8cd3f3c7e745107ad4e0cbed7ebdd247a34fbbbd,openstack/python-ceilometerclient,master,I8cd3f3c7e745107ad4e0cbed7ebdd247a34fbbbd,Fix alarm-evaluator can't start when ssl was enabled,MERGED,2015-05-08 09:42:02.000000000,2015-05-13 01:48:50.000000000,2015-05-12 02:03:32.000000000,"[{'_account_id': 3}, {'_account_id': 2813}, {'_account_id': 6537}, {'_account_id': 6676}, {'_account_id': 10873}, {'_account_id': 11564}, {'_account_id': 12927}]","[{'number': 1, 'created': '2015-05-08 09:42:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ceilometerclient/commit/37af21df8d60cda2356863fb5ba6a73e83732ac9', 'message': ""Fix alarm-evaluator can't start when ssl was enabled\n\nChange-Id: I8cd3f3c7e745107ad4e0cbed7ebdd247a34fbbbd\nCloses-Bug: #1453061\n""}, {'number': 2, 'created': '2015-05-11 07:55:40.000000000', 'files': ['ceilometerclient/client.py'], 'web_link': 'https://opendev.org/openstack/python-ceilometerclient/commit/ed8408c61f258794a0a689df10c5549753680a0a', 'message': ""Fix alarm-evaluator can't start when ssl was enabled\n\nChange-Id: I8cd3f3c7e745107ad4e0cbed7ebdd247a34fbbbd\nCloses-Bug: #1453061\n""}]",2,181342,ed8408c61f258794a0a689df10c5549753680a0a,15,7,2,12927,,,0,"Fix alarm-evaluator can't start when ssl was enabled

Change-Id: I8cd3f3c7e745107ad4e0cbed7ebdd247a34fbbbd
Closes-Bug: #1453061
",git fetch https://review.opendev.org/openstack/python-ceilometerclient refs/changes/42/181342/1 && git format-patch -1 --stdout FETCH_HEAD,['ceilometerclient/client.py'],1,37af21df8d60cda2356863fb5ba6a73e83732ac9,bug/1453061, verify = client_kwargs.get('cacert') or True, verify = kwargs.get('cacert') or True,1,1
openstack%2Frally~master~I8312527ee4a6aa164a9545e52c8bd5f0381ebeb8,openstack/rally,master,I8312527ee4a6aa164a9545e52c8bd5f0381ebeb8,Add deploy environment murano benchmark,MERGED,2015-04-08 13:29:23.000000000,2015-05-13 01:10:53.000000000,2015-05-13 00:59:47.000000000,"[{'_account_id': 3}, {'_account_id': 4428}, {'_account_id': 6172}, {'_account_id': 7549}, {'_account_id': 8507}, {'_account_id': 10475}, {'_account_id': 12395}, {'_account_id': 13555}, {'_account_id': 14817}]","[{'number': 1, 'created': '2015-04-08 13:29:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/6a9b0fca52cd9772485c9278ce7d92b4786c5d7f', 'message': 'Add murano benchmarks\n\nChange-Id: I8312527ee4a6aa164a9545e52c8bd5f0381ebeb8\nCo-Authored-By: Roman Vasilets <rvasilets@mirantis.com>\nCo-Authored-By: Sergey Murashov <smurashov@mirantis.com>\n'}, {'number': 2, 'created': '2015-04-08 14:54:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/4834e5e41079ab2963e0678bc97e8401c2890f76', 'message': 'Add murano benchmarks\n\nChange-Id: I8312527ee4a6aa164a9545e52c8bd5f0381ebeb8\nCo-Authored-By: Roman Vasilets <rvasilets@mirantis.com>\nCo-Authored-By: Sergey Murashov <smurashov@mirantis.com>\n'}, {'number': 3, 'created': '2015-04-09 16:57:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/857d4b194039e3f34eb489a271bfed3d79b78dfa', 'message': 'Add murano benchmarks\n\nChange-Id: I8312527ee4a6aa164a9545e52c8bd5f0381ebeb8\nCo-Authored-By: Roman Vasilets <rvasilets@mirantis.com>\nCo-Authored-By: Sergey Murashov <smurashov@mirantis.com>\n'}, {'number': 4, 'created': '2015-04-09 17:05:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/baa7f98d1c4c0698bbdfab80e8078b817fefe549', 'message': 'Add murano benchmarks\n\nChange-Id: I8312527ee4a6aa164a9545e52c8bd5f0381ebeb8\nCo-Authored-By: Roman Vasilets <rvasilets@mirantis.com>\nCo-Authored-By: Sergey Murashov <smurashov@mirantis.com>\n'}, {'number': 5, 'created': '2015-04-09 17:06:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/b5ea10269178db4282e4d6c445c914ca55104d5b', 'message': 'Add murano benchmarks\n\nChange-Id: I8312527ee4a6aa164a9545e52c8bd5f0381ebeb8\nCo-Authored-By: Roman Vasilets <rvasilets@mirantis.com>\nCo-Authored-By: Sergey Murashov <smurashov@mirantis.com>\n'}, {'number': 6, 'created': '2015-04-09 17:09:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/2665b8ace0aea6097186ade6a504ebf7d2b2747d', 'message': 'Add deploy environment murano benchmark\n\n* deploy-environment benchmark. Used to upload\n  specified package and deploy it in environment.\n\nChange-Id: I8312527ee4a6aa164a9545e52c8bd5f0381ebeb8\nCo-Authored-By: Roman Vasilets <rvasilets@mirantis.com>\nCo-Authored-By: Sergey Murashov <smurashov@mirantis.com>\n'}, {'number': 7, 'created': '2015-04-10 09:26:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/7c187bdadfc92f7bf0291245fbd3135fa7f4e483', 'message': 'Add deploy environment murano benchmark\n\n* deploy-environment benchmark. Used to upload\n  specified package and deploy it in environment.\n\nChange-Id: I8312527ee4a6aa164a9545e52c8bd5f0381ebeb8\nCo-Authored-By: Roman Vasilets <rvasilets@mirantis.com>\nCo-Authored-By: Sergey Murashov <smurashov@mirantis.com>\n'}, {'number': 8, 'created': '2015-04-24 12:36:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/bbdb3f05b01ef714c0ad3e1ab84a90fce4cd8e0f', 'message': 'Add deploy environment murano benchmark\n\n* deploy-environment benchmark. Used to upload\n  specified package and deploy it in environment.\n\nChange-Id: I8312527ee4a6aa164a9545e52c8bd5f0381ebeb8\nCo-Authored-By: Roman Vasilets <rvasilets@mirantis.com>\nCo-Authored-By: Sergey Murashov <smurashov@mirantis.com>\n'}, {'number': 9, 'created': '2015-04-24 14:48:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/1e0d80359a7a99347882059a1ba6520046f000bc', 'message': 'Add deploy environment murano benchmark\n\n* deploy-environment benchmark. Used to upload\n  specified package and deploy it in environment.\n\nChange-Id: I8312527ee4a6aa164a9545e52c8bd5f0381ebeb8\nCo-Authored-By: Roman Vasilets <rvasilets@mirantis.com>\nCo-Authored-By: Sergey Murashov <smurashov@mirantis.com>\n'}, {'number': 10, 'created': '2015-04-28 18:00:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/89cbdc5db1dabf2279de325d2d2e207e496b4865', 'message': 'Add deploy environment murano benchmark\n\n* deploy-environment benchmark. Used to upload\n  specified package and deploy it in environment.\n\nChange-Id: I8312527ee4a6aa164a9545e52c8bd5f0381ebeb8\nCo-Authored-By: Roman Vasilets <rvasilets@mirantis.com>\nCo-Authored-By: Sergey Murashov <smurashov@mirantis.com>\n'}, {'number': 11, 'created': '2015-04-28 18:05:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/c254b4a8bc11076a755fddfb8a9c09dc89c00be2', 'message': 'Add deploy environment murano benchmark\n\n* deploy-environment benchmark. Used to upload\n  specified package and deploy it in environment.\n\nChange-Id: I8312527ee4a6aa164a9545e52c8bd5f0381ebeb8\nCo-Authored-By: Roman Vasilets <rvasilets@mirantis.com>\nCo-Authored-By: Sergey Murashov <smurashov@mirantis.com>\n'}, {'number': 12, 'created': '2015-04-28 18:07:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/aa30024fe46319857168b2542a07957ad2d0352e', 'message': 'Add deploy environment murano benchmark\n\n* deploy-environment benchmark. Used to upload\n  specified package and deploy it in environment.\n\nChange-Id: I8312527ee4a6aa164a9545e52c8bd5f0381ebeb8\nCo-Authored-By: Roman Vasilets <rvasilets@mirantis.com>\nCo-Authored-By: Sergey Murashov <smurashov@mirantis.com>\n'}, {'number': 13, 'created': '2015-04-29 12:02:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/1e82e80ae235f180bbe862ac59c6dc36d117386e', 'message': 'Add deploy environment murano benchmark\n\n* deploy-environment benchmark. Used to upload\n  specified package and deploy it in environment.\n\nChange-Id: I8312527ee4a6aa164a9545e52c8bd5f0381ebeb8\nCo-Authored-By: Roman Vasilets <rvasilets@mirantis.com>\nCo-Authored-By: Sergey Murashov <smurashov@mirantis.com>\n'}, {'number': 14, 'created': '2015-04-29 12:55:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/c0881ba3eb405e92611d8e3a08af2371b07448d6', 'message': 'Add deploy environment murano benchmark\n\n* deploy-environment benchmark. Used to upload\n  specified package and deploy it in environment.\n\nChange-Id: I8312527ee4a6aa164a9545e52c8bd5f0381ebeb8\nCo-Authored-By: Roman Vasilets <rvasilets@mirantis.com>\nCo-Authored-By: Sergey Murashov <smurashov@mirantis.com>\n'}, {'number': 15, 'created': '2015-04-29 13:42:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/9a6b1b667fb0ed68808261f765dc2aa026dede1e', 'message': 'Add deploy environment murano benchmark\n\n* deploy-environment benchmark. Used to upload\n  specified package and deploy it in environment.\n\nChange-Id: I8312527ee4a6aa164a9545e52c8bd5f0381ebeb8\nCo-Authored-By: Roman Vasilets <rvasilets@mirantis.com>\nCo-Authored-By: Sergey Murashov <smurashov@mirantis.com>\n'}, {'number': 16, 'created': '2015-04-29 14:03:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/77385173546e95107f03d2b75248c29ac46e97df', 'message': 'Add deploy environment murano benchmark\n\n* deploy-environment benchmark. Used to upload\n  specified package and deploy it in environment.\n\nChange-Id: I8312527ee4a6aa164a9545e52c8bd5f0381ebeb8\nCo-Authored-By: Roman Vasilets <rvasilets@mirantis.com>\nCo-Authored-By: Sergey Murashov <smurashov@mirantis.com>\n'}, {'number': 17, 'created': '2015-04-29 14:10:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/19c62010d0665c6dd5518b3e405ae05a848459bf', 'message': 'Add deploy environment murano benchmark\n\n* deploy-environment benchmark. Used to upload\n  specified package and deploy it in environment.\n\nChange-Id: I8312527ee4a6aa164a9545e52c8bd5f0381ebeb8\nCo-Authored-By: Roman Vasilets <rvasilets@mirantis.com>\nCo-Authored-By: Sergey Murashov <smurashov@mirantis.com>\n'}, {'number': 18, 'created': '2015-04-29 14:41:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/478af1bb91264a990bfc7ca7419106051101f46d', 'message': 'Add deploy environment murano benchmark\n\n* deploy-environment benchmark. Used to upload\n  specified package and deploy it in environment.\n\nChange-Id: I8312527ee4a6aa164a9545e52c8bd5f0381ebeb8\nCo-Authored-By: Roman Vasilets <rvasilets@mirantis.com>\nCo-Authored-By: Sergey Murashov <smurashov@mirantis.com>\n'}, {'number': 19, 'created': '2015-05-05 10:59:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/d21f49666300839b2a8ce1213827b600d3617c0d', 'message': 'Add deploy environment murano benchmark\n\n* deploy-environment benchmark. Used to upload\n  specified package and deploy it in environment.\n\nChange-Id: I8312527ee4a6aa164a9545e52c8bd5f0381ebeb8\nCo-Authored-By: Roman Vasilets <rvasilets@mirantis.com>\nCo-Authored-By: Sergey Murashov <smurashov@mirantis.com>\n'}, {'number': 20, 'created': '2015-05-07 09:38:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/651731732e854c800dffec7586cda7ec50d0931f', 'message': 'Add deploy environment murano benchmark\n\n* deploy-environment benchmark. Used to upload\n  specified package and deploy it in environment.\n\nChange-Id: I8312527ee4a6aa164a9545e52c8bd5f0381ebeb8\nCo-Authored-By: Roman Vasilets <rvasilets@mirantis.com>\nCo-Authored-By: Sergey Murashov <smurashov@mirantis.com>\n'}, {'number': 21, 'created': '2015-05-07 12:23:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/493f128979e32910ec0063b0c135201b0e76c32e', 'message': 'Add deploy environment murano benchmark\n\n* deploy-environment benchmark. Used to upload\n  specified package and deploy it in environment.\n\nChange-Id: I8312527ee4a6aa164a9545e52c8bd5f0381ebeb8\nCo-Authored-By: Roman Vasilets <rvasilets@mirantis.com>\nCo-Authored-By: Sergey Murashov <smurashov@mirantis.com>\n'}, {'number': 22, 'created': '2015-05-07 12:27:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/c049f25bd609748209d642fa4d92f30aa2f350db', 'message': 'Add deploy environment murano benchmark\n\n* deploy-environment benchmark. Used to upload\n  specified package and deploy it in environment.\n\nChange-Id: I8312527ee4a6aa164a9545e52c8bd5f0381ebeb8\nCo-Authored-By: Roman Vasilets <rvasilets@mirantis.com>\nCo-Authored-By: Sergey Murashov <smurashov@mirantis.com>\n'}, {'number': 23, 'created': '2015-05-07 12:31:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/836d8a06a4f8aaa17f6429cc3fcbaf35ffd6a4b3', 'message': 'Add deploy environment murano benchmark\n\n* deploy-environment benchmark. Used to upload\n  specified package and deploy it in environment.\n\nChange-Id: I8312527ee4a6aa164a9545e52c8bd5f0381ebeb8\nCo-Authored-By: Roman Vasilets <rvasilets@mirantis.com>\nCo-Authored-By: Sergey Murashov <smurashov@mirantis.com>\n'}, {'number': 24, 'created': '2015-05-07 14:57:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/a8a698ac3e9489a18e5722fc1b2c64b633cb0428', 'message': 'Add deploy environment murano benchmark\n\n* deploy-environment benchmark. Used to upload\n  specified package and deploy it in environment.\n\nChange-Id: I8312527ee4a6aa164a9545e52c8bd5f0381ebeb8\nCo-Authored-By: Roman Vasilets <rvasilets@mirantis.com>\nCo-Authored-By: Sergey Murashov <smurashov@mirantis.com>\n'}, {'number': 25, 'created': '2015-05-08 13:31:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/d8865983c28d6d22c4ca23c2b129006b1ad4267c', 'message': 'Add deploy environment murano benchmark\n\n* deploy-environment benchmark. Used to upload\n  specified package and deploy it in environment.\n\nChange-Id: I8312527ee4a6aa164a9545e52c8bd5f0381ebeb8\nCo-Authored-By: Roman Vasilets <rvasilets@mirantis.com>\nCo-Authored-By: Sergey Murashov <smurashov@mirantis.com>\n'}, {'number': 26, 'created': '2015-05-08 13:46:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/3cb60d7df8415276c582febd46a1b73df5f58017', 'message': 'Add deploy environment murano benchmark\n\n* deploy-environment benchmark. Used to upload\n  specified package and deploy it in environment.\n\nChange-Id: I8312527ee4a6aa164a9545e52c8bd5f0381ebeb8\nCo-Authored-By: Roman Vasilets <rvasilets@mirantis.com>\nCo-Authored-By: Sergey Murashov <smurashov@mirantis.com>\n'}, {'number': 27, 'created': '2015-05-11 16:36:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/dc0f5b8ee5ad2213f71ed930df08083be6a5ac52', 'message': 'Add deploy environment murano benchmark\n\n* deploy-environment benchmark. Used to upload\n  specified package and deploy it in environment.\n\nChange-Id: I8312527ee4a6aa164a9545e52c8bd5f0381ebeb8\nCo-Authored-By: Roman Vasilets <rvasilets@mirantis.com>\nCo-Authored-By: Sergey Murashov <smurashov@mirantis.com>\n'}, {'number': 28, 'created': '2015-05-11 16:55:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/78a1dd638623ca26be1ed05bf2d12d95dff64562', 'message': 'Add deploy environment murano benchmark\n\n* deploy-environment benchmark. Used to upload\n  specified package and deploy it in environment.\n\nChange-Id: I8312527ee4a6aa164a9545e52c8bd5f0381ebeb8\nCo-Authored-By: Roman Vasilets <rvasilets@mirantis.com>\nCo-Authored-By: Sergey Murashov <smurashov@mirantis.com>\n'}, {'number': 29, 'created': '2015-05-12 12:12:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/47d273b6a2ddeaa6e654f7e4b31ae751334485c1', 'message': 'Add deploy environment murano benchmark\n\n* deploy-environment benchmark. Used to upload\n  specified package and deploy it in environment.\n\nChange-Id: I8312527ee4a6aa164a9545e52c8bd5f0381ebeb8\nCo-Authored-By: Roman Vasilets <rvasilets@mirantis.com>\nCo-Authored-By: Sergey Murashov <smurashov@mirantis.com>\n'}, {'number': 30, 'created': '2015-05-12 15:38:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/7e4d33c852857fdbb8690c9cdeb2d002c4113063', 'message': 'Add deploy environment murano benchmark\n\n* deploy-environment benchmark. Used to upload\n  specified package and deploy it in environment.\n\nChange-Id: I8312527ee4a6aa164a9545e52c8bd5f0381ebeb8\nCo-Authored-By: Roman Vasilets <rvasilets@mirantis.com>\nCo-Authored-By: Sergey Murashov <smurashov@mirantis.com>\n'}, {'number': 31, 'created': '2015-05-12 17:04:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/37b08e7260f09527d3b12dd5c39c40d7f57aa013', 'message': 'Add deploy environment murano benchmark\n\n* deploy-environment benchmark. Used to upload\n  specified package and deploy it in environment.\n\nChange-Id: I8312527ee4a6aa164a9545e52c8bd5f0381ebeb8\nCo-Authored-By: Roman Vasilets <rvasilets@mirantis.com>\nCo-Authored-By: Sergey Murashov <smurashov@mirantis.com>\n'}, {'number': 32, 'created': '2015-05-12 17:08:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/6d8a64fa6d663aee5439ccd91e0b9d2de30354b1', 'message': 'Add deploy environment murano benchmark\n\n* deploy-environment benchmark. Used to upload\n  specified package and deploy it in environment.\n\nChange-Id: I8312527ee4a6aa164a9545e52c8bd5f0381ebeb8\nCo-Authored-By: Roman Vasilets <rvasilets@mirantis.com>\nCo-Authored-By: Sergey Murashov <smurashov@mirantis.com>\n'}, {'number': 33, 'created': '2015-05-12 17:32:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/a5cdc2d99f68269cf3b15490a16ee9c32104d412', 'message': 'Add deploy environment murano benchmark\n\n* deploy-environment benchmark. Used to upload\n  specified package and deploy it in environment.\n\nChange-Id: I8312527ee4a6aa164a9545e52c8bd5f0381ebeb8\nCo-Authored-By: Roman Vasilets <rvasilets@mirantis.com>\nCo-Authored-By: Sergey Murashov <smurashov@mirantis.com>\n'}, {'number': 34, 'created': '2015-05-12 21:52:18.000000000', 'files': ['samples/tasks/scenarios/murano/create_and_deploy_environment.json', 'rally-jobs/rally-murano.yaml', 'samples/tasks/scenarios/murano/create_and_deploy_environment.yaml', 'tests/unit/benchmark/scenarios/murano/test_environments.py', 'rally/benchmark/scenarios/murano/environments.py', 'rally/benchmark/scenarios/murano/utils.py', 'tests/unit/benchmark/scenarios/murano/test_utils.py'], 'web_link': 'https://opendev.org/openstack/rally/commit/246d94f2a81c0b5921cdb917338eb65dc9e1cd7d', 'message': 'Add deploy environment murano benchmark\n\n* deploy-environment benchmark. Used to upload\n  specified package and deploy it in environment.\n\nChange-Id: I8312527ee4a6aa164a9545e52c8bd5f0381ebeb8\nCo-Authored-By: Roman Vasilets <rvasilets@mirantis.com>\nCo-Authored-By: Sergey Murashov <smurashov@mirantis.com>\n'}]",78,171625,246d94f2a81c0b5921cdb917338eb65dc9e1cd7d,189,9,34,12395,,,0,"Add deploy environment murano benchmark

* deploy-environment benchmark. Used to upload
  specified package and deploy it in environment.

Change-Id: I8312527ee4a6aa164a9545e52c8bd5f0381ebeb8
Co-Authored-By: Roman Vasilets <rvasilets@mirantis.com>
Co-Authored-By: Sergey Murashov <smurashov@mirantis.com>
",git fetch https://review.opendev.org/openstack/rally refs/changes/25/171625/22 && git format-patch -1 --stdout FETCH_HEAD,"['samples/tasks/scenarios/murano/deploy-environment.json', 'rally-jobs/rally-murano.yaml', 'tests/unit/benchmark/scenarios/murano/test_environments.py', 'rally/benchmark/scenarios/murano/environments.py', 'samples/tasks/scenarios/murano/deploy-environment.yaml', 'rally/benchmark/scenarios/murano/utils.py', 'tests/unit/benchmark/scenarios/murano/test_utils.py']",7,6a9b0fca52cd9772485c9278ce7d92b4786c5d7f,murano,"from rally import exceptions as rally_exceptions @mock.patch(MRN_UTILS + "".MuranoScenario._get_app"", return_value={""status"": ""fire""}) @mock.patch(MRN_UTILS + "".MuranoScenario.clients"") def test_add_app(self, mock_clients, get_app): mock_clients(""murano"").services.post.return_value = ""app"" mock_env = mock.Mock(id=""fake_ip"") mock_sess = mock.Mock(id=""fake_ip"") scenario = utils.MuranoScenario() create_app = scenario._add_app(mock_env, mock_sess, ""json_path"") self.assertEqual(""app"", create_app) self._test_atomic_action_timer(scenario.atomic_actions(), ""murano.create_service"") @mock.patch(MRN_UTILS + "".MuranoScenario.clients"") def test_deploy_environment(self, mock_clients): environment = mock.Mock(id=""id"") session = mock.Mock(id=""id"") mock_clients(""murano"").sessions.deploy.return_value = ""ok"" scenario = utils.MuranoScenario() scenario._deploy_environment(environment, session) mock_clients(""murano"").sessions.deploy.assert_called_once_with( environment.id, session.id ) self.wait_for.mock.assert_called_once_with( environment, update_resource=self.gfm(), is_ready=self.res_is.mock(), check_interval=5.0, timeout=1200.0) self._test_atomic_action_timer(scenario.atomic_actions(), ""murano.deploy_environment"") @mock.patch(MRN_UTILS + "".MuranoScenario.clients"") def test_list_deployments(self, mock_clients): mock_clients(""murano"").deployments.list.return_value = [""fake""] scenario = utils.MuranoScenario() return_deployments_list = scenario._get_deployments_list(""id"") self.assertEqual([""fake""], return_deployments_list) self._test_atomic_action_timer(scenario.atomic_actions(), ""murano.get_deployments_list"") def test_check_deployment_status(self): deployment = mock.Mock(state=""success"") scenario = utils.MuranoScenario() scenario._check_deployment_status(deployment) self._test_atomic_action_timer(scenario.atomic_actions(), ""murano.check_deployment_status"") def test_check_deployment_status_incorrect(self): deployment = mock.Mock(state=""sorrow"") scenario = utils.MuranoScenario() self.assertRaises(rally_exceptions.RallyException, scenario._check_deployment_status, deployment)",,311,0
openstack%2Fopenstacksdk~master~Ifcb54739c886aa0277df515c1b184789a0253500,openstack/openstacksdk,master,Ifcb54739c886aa0277df515c1b184789a0253500,Fix several small nits in network v2 proxy,MERGED,2015-05-12 02:45:14.000000000,2015-05-13 01:00:39.000000000,2015-05-13 01:00:38.000000000,"[{'_account_id': 3}, {'_account_id': 8257}, {'_account_id': 8736}, {'_account_id': 11034}]","[{'number': 1, 'created': '2015-05-12 02:45:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/27c7efaac684a3cf9a8404d2af8dc683a8407380', 'message': 'Fix several small nits in network v2 proxy\n\nJust fix some clerical errors in network v2 _proxy module.\n\nChange-Id: Ifcb54739c886aa0277df515c1b184789a0253500\n'}, {'number': 2, 'created': '2015-05-12 02:46:00.000000000', 'files': ['openstack/network/v2/_proxy.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/4f2ebd66e879da8a5e2f6e11644a0b55ae5a6adc', 'message': 'Fix several small nits in network v2 proxy\n\nJust fix some clerical errors in comments of network v2\n_proxy module.\n\nChange-Id: Ifcb54739c886aa0277df515c1b184789a0253500\n'}]",0,182143,4f2ebd66e879da8a5e2f6e11644a0b55ae5a6adc,12,4,2,11034,,,0,"Fix several small nits in network v2 proxy

Just fix some clerical errors in comments of network v2
_proxy module.

Change-Id: Ifcb54739c886aa0277df515c1b184789a0253500
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/43/182143/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/network/v2/_proxy.py'],1,27c7efaac684a3cf9a8404d2af8dc683a8407380,fix-small-nits-network-v2-proxy, :class:`~openstack.network.v2.floating_ip.FloatingIP` :rtype: :class:`~openstack.network.v2.floating_ip.FloatingIP` :class:`~openstack.network.v2.health_monitor. :rtype: :class:`~openstack.network.v2.health_monitor.HealthMonitor` :class:`~openstack.network.v2.listener.Listener` :rtype: :class:`~openstack.network.v2.listener.Listener` :class:`~openstack.network.v2.load_balancer.LoadBalancer` :rtype: :class:`~openstack.network.v2.load_balancer.LoadBalancer` :class:`~openstack.network.v2.metering_label. :rtype: :class:`~openstack.network.v2.metering_label.MeteringLabel` :class:`~openstack.network.v2.metering_label_rule. :rtype: :class:`~openstack.network.v2.metering_label_rule. :class:`~openstack.network.v2.network.Network` instance. :rtype: :class:`~openstack.network.v2.network.Network` :class:`~openstack.network.v2.pool.Pool` instance. :rtype: :class:`~openstack.network.v2.pool.Pool` :class:`~openstack.network.v2.pool_member.PoolMember` :rtype: :class:`~openstack.network.v2.pool_member.PoolMember` :class:`~openstack.network.v2.port.Port` instance. :rtype: :class:`~openstack.network.v2.port.Port` :class:`~openstack.network.v2.router.Router` instance. :rtype: :class:`~openstack.network.v2.router.Router` :class:`~openstack.network.v2.security_group. :rtype: :class:`~openstack.network.v2.security_group.SecurityGroup` :class:`~openstack.network.v2.security_group_rule. :rtype: :class:`~openstack.network.v2.security_group_rule. :class:`~openstack.network.v2.subnet.Subnet` instance. :rtype: :class:`~openstack.network.v2.subnet.Subnet`, :class:`~openstack.compute.v2.floating_ip.FloatingIP` :rtype: :class:`~openstack.compute.v2.floating_ip.FloatingIP` :class:`~openstack.compute.v2.health_monitor. :rtype: :class:`~openstack.compute.v2.health_monitor.HealthMonitor` :class:`~openstack.compute.v2.listener.Listener` :rtype: :class:`~openstack.compute.v2.listener.Listener` :class:`~openstack.compute.v2.load_balancer.LoadBalancer` :rtype: :class:`~openstack.compute.v2.load_balancer.LoadBalancer` :class:`~openstack.compute.v2.metering_label. :rtype: :class:`~openstack.compute.v2.metering_label.MeteringLabel` :class:`~openstack.compute.v2.metering_label_rule. :rtype: :class:`~openstack.compute.v2.metering_label_rule. :class:`~openstack.compute.v2.network.Network` instance. :rtype: :class:`~openstack.compute.v2.network.Network` :class:`~openstack.compute.v2.pool.Pool` instance. :rtype: :class:`~openstack.compute.v2.pool.Pool` :class:`~openstack.compute.v2.pool_member.PoolMember` :rtype: :class:`~openstack.compute.v2.pool_member.PoolMember` :class:`~openstack.compute.v2.port.Port` instance. :rtype: :class:`~openstack.compute.v2.port.Port` :class:`~openstack.compute.v2.router.Router` instance. :rtype: :class:`~openstack.compute.v2.router.Router` :class:`~openstack.compute.v2.security_group. :rtype: :class:`~openstack.compute.v2.security_group.SecurityGroup` :class:`~openstack.compute.v2.security_group_rule. :rtype: :class:`~openstack.compute.v2.security_group_rule. :class:`~openstack.compute.v2.subnet.Subnet` instance. :rtype: :class:`~openstack.compute.v2.subnet.Subnet`,28,28
openstack%2Fpython-keystoneclient~master~Id8274ef5c244bf50a34702ed9b4e50d3b82d8028,openstack/python-keystoneclient,master,Id8274ef5c244bf50a34702ed9b4e50d3b82d8028,Removes temporary fix for doc generation,MERGED,2014-09-15 20:53:31.000000000,2015-05-13 00:41:00.000000000,2015-05-13 00:40:59.000000000,"[{'_account_id': 3}, {'_account_id': 1941}, {'_account_id': 5046}, {'_account_id': 6482}, {'_account_id': 6486}, {'_account_id': 7191}, {'_account_id': 7725}, {'_account_id': 8978}, {'_account_id': 13478}]","[{'number': 1, 'created': '2014-09-15 20:53:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/520b2b7af8d26fb1f0d9d32a439f408934d15c0f', 'message': 'Removes temporary fix for doc generation\n\nA temporary fix was added to get around a bug in how pbr handles\nits autodoc_tree_index_modules setting. Since this bug is fixed we no\nlonger need the work around.\n\nChange-Id: Id8274ef5c244bf50a34702ed9b4e50d3b82d8028\nRelated-Bug: #1260495\n'}, {'number': 2, 'created': '2014-09-23 19:58:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/1fc1ae66bbc3590a52bc204cbc670c30c7056755', 'message': 'Removes temporary fix for doc generation\n\nA temporary fix was added to get around a bug in how pbr handles\nits autodoc_tree_index_modules setting. Since this bug is fixed we no\nlonger need the work around.\n\nChange-Id: Id8274ef5c244bf50a34702ed9b4e50d3b82d8028\nRelated-Bug: #1260495\n'}, {'number': 3, 'created': '2014-10-08 23:00:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/a9d7867f81b85507d8e9214b8bd5c9fd1ff5e18c', 'message': 'Removes temporary fix for doc generation\n\nA temporary fix was added to get around a bug in how pbr handles\nits autodoc_tree_index_modules setting. Since this bug is fixed we no\nlonger need the work around.\n\nChange-Id: Id8274ef5c244bf50a34702ed9b4e50d3b82d8028\nRelated-Bug: #1260495\n'}, {'number': 4, 'created': '2015-05-06 11:18:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/6d24bb4a6d4e275fde233614ec6d252bd3bb7cb1', 'message': 'Removes temporary fix for doc generation\n\nA temporary fix was added to get around a bug in how pbr handles\nits autodoc_tree_index_modules setting. Since this bug is fixed we no\nlonger need the work around.\n\nChange-Id: Id8274ef5c244bf50a34702ed9b4e50d3b82d8028\nRelated-Bug: #1260495\n'}, {'number': 5, 'created': '2015-05-07 03:13:44.000000000', 'files': ['doc/ext/__init__.py', 'doc/source/conf.py', 'doc/ext/apidoc.py', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/045e47938f445741b6efedeb7243d3b413ea3229', 'message': 'Removes temporary fix for doc generation\n\nA temporary fix was added to get around a bug in how pbr handles\nits autodoc_tree_index_modules setting. Since this bug is fixed we no\nlonger need the work around.\n\nChange-Id: Id8274ef5c244bf50a34702ed9b4e50d3b82d8028\nCloses-Bug: #1260495\n'}]",3,121667,045e47938f445741b6efedeb7243d3b413ea3229,40,9,5,7725,,,0,"Removes temporary fix for doc generation

A temporary fix was added to get around a bug in how pbr handles
its autodoc_tree_index_modules setting. Since this bug is fixed we no
longer need the work around.

Change-Id: Id8274ef5c244bf50a34702ed9b4e50d3b82d8028
Closes-Bug: #1260495
",git fetch https://review.opendev.org/openstack/python-keystoneclient refs/changes/67/121667/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/ext/__init__.py', 'doc/ext/apidoc.py', 'doc/source/conf.py', 'setup.cfg']",4,520b2b7af8d26fb1f0d9d32a439f408934d15c0f,bug/1260495,autodoc_tree_index_modules = True,,2,57
openstack%2Ftacker~master~Ibfdbb20d5fb43a8001ca5c3dc5783cbcf879e3ca,openstack/tacker,master,Ibfdbb20d5fb43a8001ca5c3dc5783cbcf879e3ca,make pending create deletable,MERGED,2015-05-13 00:37:12.000000000,2015-05-13 00:40:46.000000000,2015-05-13 00:40:44.000000000,"[{'_account_id': 3}, {'_account_id': 333}]","[{'number': 1, 'created': '2015-05-13 00:37:12.000000000', 'files': ['tacker/db/vm/vm_db.py', 'tacker/vm/plugin.py'], 'web_link': 'https://opendev.org/openstack/tacker/commit/64a2ae44e5b943ac01784952b864b550ec861ad0', 'message': 'make pending create deletable\n\nChange-Id: Ibfdbb20d5fb43a8001ca5c3dc5783cbcf879e3ca\n'}]",0,182506,64a2ae44e5b943ac01784952b864b550ec861ad0,6,2,1,333,,,0,"make pending create deletable

Change-Id: Ibfdbb20d5fb43a8001ca5c3dc5783cbcf879e3ca
",git fetch https://review.opendev.org/openstack/tacker refs/changes/06/182506/1 && git format-patch -1 --stdout FETCH_HEAD,"['tacker/db/vm/vm_db.py', 'tacker/vm/plugin.py']",2,64a2ae44e5b943ac01784952b864b550ec861ad0,refresh," try: instance_id = self._device_manager.invoke( driver_name, 'create', plugin=self, context=context, device=device_dict) except Exception: with excutils.save_and_reraise_exception(): self._mark_device_error(device_id)"," instance_id = self._device_manager.invoke( driver_name, 'create', plugin=self, context=context, device=device_dict)",34,21
openstack%2Fcue~master~I970c22963cd92503c6130fddbabc1957bf669dc3,openstack/cue,master,I970c22963cd92503c6130fddbabc1957bf669dc3,Making gate hook scripts executable,MERGED,2015-05-13 00:11:29.000000000,2015-05-13 00:29:12.000000000,2015-05-13 00:29:11.000000000,"[{'_account_id': 3}, {'_account_id': 1925}]","[{'number': 1, 'created': '2015-05-13 00:11:29.000000000', 'files': ['tests/gate_hook.sh', 'tests/post_test_hook.sh', 'tests/pre_test_hook.sh'], 'web_link': 'https://opendev.org/openstack/cue/commit/ac5b939da11361f9991b472a40ec432605d58e36', 'message': 'Making gate hook scripts executable\n\nChange-Id: I970c22963cd92503c6130fddbabc1957bf669dc3\n'}]",0,182505,ac5b939da11361f9991b472a40ec432605d58e36,6,2,1,5390,,,0,"Making gate hook scripts executable

Change-Id: I970c22963cd92503c6130fddbabc1957bf669dc3
",git fetch https://review.opendev.org/openstack/cue refs/changes/05/182505/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/gate_hook.sh', 'tests/post_test_hook.sh', 'tests/pre_test_hook.sh']",3,ac5b939da11361f9991b472a40ec432605d58e36,gate-permission,,,0,0
openstack%2Frally~master~I67edb7f09e1e98dcbd20d4d0d5a40351bdedc064,openstack/rally,master,I67edb7f09e1e98dcbd20d4d0d5a40351bdedc064,Split runners to base and plugins,MERGED,2015-05-07 08:12:16.000000000,2015-05-13 00:15:11.000000000,2015-05-13 00:04:29.000000000,"[{'_account_id': 3}, {'_account_id': 6172}, {'_account_id': 8576}, {'_account_id': 9545}, {'_account_id': 14817}]","[{'number': 1, 'created': '2015-05-07 08:12:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/48f14b9cb3a2cfaf81bc0cc52aabd1d606d0f53b', 'message': 'Split runners to base and plugins\n\nMove all subclasses of runners under plugins/runners\n\nChange-Id: I67edb7f09e1e98dcbd20d4d0d5a40351bdedc064\nImplements: blueprint split-plugins\n'}, {'number': 2, 'created': '2015-05-10 14:51:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/4b9b654c11587007d700d2d4d7977e5e2bebd3ef', 'message': 'Split runners to base and plugins\n\nMove all subclasses of runners under plugins/runners\n\nChange-Id: I67edb7f09e1e98dcbd20d4d0d5a40351bdedc064\nImplements: blueprint split-plugins\n'}, {'number': 3, 'created': '2015-05-12 12:03:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/8c4435402d55365197ffb86d7a91335cf2b85ead', 'message': 'Split runners to base and plugins\n\nMove all subclasses of runners under plugins/runners\n\nChange-Id: I67edb7f09e1e98dcbd20d4d0d5a40351bdedc064\nImplements: blueprint split-plugins\n'}, {'number': 4, 'created': '2015-05-12 13:13:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/6590fba0cd3e316765a0ab836ba4a4f425fb7c10', 'message': 'Split runners to base and plugins\n\nMove all subclasses of runners under plugins/runners\n\nImplements: blueprint split-plugins\nChange-Id: I67edb7f09e1e98dcbd20d4d0d5a40351bdedc064\n'}, {'number': 5, 'created': '2015-05-12 13:18:30.000000000', 'files': ['tests/unit/plugins/common/runners/__init__.py', 'tests/unit/plugins/common/runners/test_serial.py', 'rally/plugins/common/runners/__init__.py', 'rally/plugins/common/runners/rps.py', 'tests/unit/plugins/common/runners/test_rps.py', 'rally/plugins/common/runners/constant.py', 'tests/unit/plugins/common/runners/test_constant.py', 'rally/plugins/common/runners/serial.py', 'tests/unit/benchmark/runners/test_base.py'], 'web_link': 'https://opendev.org/openstack/rally/commit/0ff2b65c24d7df3f5aced916de1d25d749b29a66', 'message': 'Split runners to base and plugins\n\nMove all subclasses of runners under plugins/runners\n\nImplements: blueprint split-plugins\nChange-Id: I67edb7f09e1e98dcbd20d4d0d5a40351bdedc064\n'}]",1,180904,0ff2b65c24d7df3f5aced916de1d25d749b29a66,31,5,5,8576,,,0,"Split runners to base and plugins

Move all subclasses of runners under plugins/runners

Implements: blueprint split-plugins
Change-Id: I67edb7f09e1e98dcbd20d4d0d5a40351bdedc064
",git fetch https://review.opendev.org/openstack/rally refs/changes/04/180904/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/unit/plugins/common/runners/__init__.py', 'tests/unit/plugins/common/runners/test_serial.py', 'rally/plugins/common/runners/__init__.py', 'rally/plugins/common/runners/rps.py', 'tests/unit/plugins/common/runners/test_rps.py', 'rally/plugins/common/runners/constant.py', 'tests/unit/plugins/common/runners/test_constant.py', 'rally/plugins/common/runners/serial.py', 'tests/unit/benchmark/runners/test_base.py']",9,48f14b9cb3a2cfaf81bc0cc52aabd1d606d0f53b,bp/split-plugins,from rally.plugins.common.runners import serial,from rally.benchmark.runners import serial,12,10
openstack%2Fcue~master~I3fb8f1825035fa0c249207d977a3dea6b7fe3995,openstack/cue,master,I3fb8f1825035fa0c249207d977a3dea6b7fe3995,Resolving Rally scenario tests directory name issue,MERGED,2015-05-12 07:06:55.000000000,2015-05-13 00:11:52.000000000,2015-05-13 00:11:50.000000000,"[{'_account_id': 3}, {'_account_id': 1925}, {'_account_id': 5390}]","[{'number': 1, 'created': '2015-05-12 07:06:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cue/commit/ea6488524bad8803d33bdef36f60c8472daab6e0', 'message': 'Resolving Rally scenario tests dirrectory name issue\n\nChange-Id: I3fb8f1825035fa0c249207d977a3dea6b7fe3995\n'}, {'number': 2, 'created': '2015-05-12 07:16:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cue/commit/a6d56fd4251cf93dd37bd0af89a610b722152627', 'message': 'Resolving Rally scenario tests dirrectory name issue\ncloses-bug# 1454104\n\nChange-Id: I3fb8f1825035fa0c249207d977a3dea6b7fe3995\n'}, {'number': 3, 'created': '2015-05-12 07:23:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cue/commit/12caf06482dfe02ec021ac1a4fa066e008797828', 'message': 'Resolving Rally scenario tests dirrectory name issue\ncloses-bug: 1454104\n\nChange-Id: I3fb8f1825035fa0c249207d977a3dea6b7fe3995\n'}, {'number': 4, 'created': '2015-05-12 16:29:29.000000000', 'files': ['contrib/vagrant/lib/rally_script.rb', 'contrib/devstack/lib/cue'], 'web_link': 'https://opendev.org/openstack/cue/commit/67370a07b4dd8ac4f79d0c39954058934c877771', 'message': 'Resolving Rally scenario tests directory name issue\n\ncloses-bug# 1454104\n\nChange-Id: I3fb8f1825035fa0c249207d977a3dea6b7fe3995\n'}]",0,182172,67370a07b4dd8ac4f79d0c39954058934c877771,13,3,4,13771,,,0,"Resolving Rally scenario tests directory name issue

closes-bug# 1454104

Change-Id: I3fb8f1825035fa0c249207d977a3dea6b7fe3995
",git fetch https://review.opendev.org/openstack/cue refs/changes/72/182172/1 && git format-patch -1 --stdout FETCH_HEAD,"['contrib/vagrant/lib/rally_script.rb', 'contrib/devstack/lib/cue']",2,ea6488524bad8803d33bdef36f60c8472daab6e0,bug/1454104," SCENARIOS=$(find $DEST/cue/rally-jobs/plugins -type f -name ""*.py"")"," SCENARIOS=$(find $DEST/cue/tests/rally-scenarios/plugins -type f -name ""*.py"")",2,2
openstack%2Fhacking~master~Ic03af1e55b41a97790de478563100247c37065ab,openstack/hacking,master,Ic03af1e55b41a97790de478563100247c37065ab,Don't shallow clone from file:// in integration test,MERGED,2015-05-12 23:24:54.000000000,2015-05-13 00:09:45.000000000,2015-05-13 00:09:42.000000000,"[{'_account_id': 3}, {'_account_id': 1849}, {'_account_id': 4146}, {'_account_id': 5263}]","[{'number': 1, 'created': '2015-05-12 23:24:54.000000000', 'files': ['integration-test/test.sh'], 'web_link': 'https://opendev.org/openstack/hacking/commit/3f3f2b4e37f19a5182965e6e3442c5062c9fc12f', 'message': ""Don't shallow clone from file:// in integration test\n\nShallow cloning ends up writing a temporary file in the source git repo,\nbut we may not have write access to it. So if the REPO_ROOT format is\nfile based do a full clone.\n\nChange-Id: Ic03af1e55b41a97790de478563100247c37065ab\n""}]",0,182494,3f3f2b4e37f19a5182965e6e3442c5062c9fc12f,8,4,1,1849,,,0,"Don't shallow clone from file:// in integration test

Shallow cloning ends up writing a temporary file in the source git repo,
but we may not have write access to it. So if the REPO_ROOT format is
file based do a full clone.

Change-Id: Ic03af1e55b41a97790de478563100247c37065ab
",git fetch https://review.opendev.org/openstack/hacking refs/changes/94/182494/1 && git format-patch -1 --stdout FETCH_HEAD,['integration-test/test.sh'],1,3f3f2b4e37f19a5182965e6e3442c5062c9fc12f,clone, if [[ $REPO_ROOT == file://* ]]; then git clone $REPO_ROOT/$org/$project else git clone $REPO_ROOT/$org/$project --depth=1 fi,git clone $REPO_ROOT/$org/$project --depth=1,6,1
openstack%2Ffuel-library~master~I3039f49dfa5363ab32fabc3b4dc83a64f2f83111,openstack/fuel-library,master,I3039f49dfa5363ab32fabc3b4dc83a64f2f83111,Fix the problem with setting MTU for OVS patchcord,ABANDONED,2015-05-12 15:39:24.000000000,2015-05-13 00:06:27.000000000,,"[{'_account_id': 3}, {'_account_id': 8971}, {'_account_id': 13343}, {'_account_id': 14774}]","[{'number': 1, 'created': '2015-05-12 15:39:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/6f0b04c4d2816d53227b81c224006fce10c8e36d', 'message': 'Fix the problem with setting MTU for OVS patchcord\n\nChange-Id: I3039f49dfa5363ab32fabc3b4dc83a64f2f83111\nCloses-bug: #1454278\n'}, {'number': 2, 'created': '2015-05-12 18:57:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/1cea84a5ea9991d723694f31c2763ed3ab072d46', 'message': 'Fix the problem with setting MTU for OVS patchcord\n\nChange-Id: I3039f49dfa5363ab32fabc3b4dc83a64f2f83111\nCloses-bug: #1454278\n'}, {'number': 3, 'created': '2015-05-12 22:08:48.000000000', 'files': ['deployment/puppet/l23network/lib/puppet/provider/l2_patch/ovs.rb'], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/8a35dca51efb0dbbdea2177c8f61dd3cbe01a6c7', 'message': 'Fix the problem with setting MTU for OVS patchcord\n\nChange-Id: I3039f49dfa5363ab32fabc3b4dc83a64f2f83111\nCloses-bug: #1454278\n'}]",0,182354,8a35dca51efb0dbbdea2177c8f61dd3cbe01a6c7,50,4,3,13343,,,0,"Fix the problem with setting MTU for OVS patchcord

Change-Id: I3039f49dfa5363ab32fabc3b4dc83a64f2f83111
Closes-bug: #1454278
",git fetch https://review.opendev.org/openstack/fuel-library refs/changes/54/182354/3 && git format-patch -1 --stdout FETCH_HEAD,['deployment/puppet/l23network/lib/puppet/provider/l2_patch/ovs.rb'],1,6f0b04c4d2816d53227b81c224006fce10c8e36d,bug/1454278, @property_hash[:jacks].uniq.each do |iface|# vim: set ts=2 sw=2 et : , @resource[:jacks].uniq.each do |iface|# vim: set ts=2 sw=2 et :,2,2
openstack%2Fcue-dashboard~master~I3a1fe569c0fb808bd2362ea9c7ab659bed91333f,openstack/cue-dashboard,master,I3a1fe569c0fb808bd2362ea9c7ab659bed91333f,Fixed cluster view,MERGED,2015-05-08 01:04:32.000000000,2015-05-13 00:03:44.000000000,2015-05-13 00:03:43.000000000,"[{'_account_id': 3}, {'_account_id': 10584}]","[{'number': 1, 'created': '2015-05-08 01:04:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cue-dashboard/commit/447a2e351d6603689466883b1d0fdedfbc1e8684', 'message': 'Fixed cluster view\n\ncluster.uri was changed to cluster.endpoints\n\nChange-Id: I3a1fe569c0fb808bd2362ea9c7ab659bed91333f\n'}, {'number': 2, 'created': '2015-05-08 03:01:50.000000000', 'files': ['cuedashboard/templates/queues/_detail_overview.html', 'cuedashboard/api.py', 'cuedashboard/queues/tables.py'], 'web_link': 'https://opendev.org/openstack/cue-dashboard/commit/c8a8a1b35bad2880c347b62ed5175928f3026c70', 'message': 'Fixed cluster view\n\ncluster.uri was changed to cluster.endpoints\n\nChange-Id: I3a1fe569c0fb808bd2362ea9c7ab659bed91333f\n'}]",0,181263,c8a8a1b35bad2880c347b62ed5175928f3026c70,8,2,2,5390,,,0,"Fixed cluster view

cluster.uri was changed to cluster.endpoints

Change-Id: I3a1fe569c0fb808bd2362ea9c7ab659bed91333f
",git fetch https://review.opendev.org/openstack/cue-dashboard refs/changes/63/181263/2 && git format-patch -1 --stdout FETCH_HEAD,"['cuedashboard/templates/queues/_detail_overview.html', 'cuedashboard/api.py', 'cuedashboard/queues/tables.py']",3,447a2e351d6603689466883b1d0fdedfbc1e8684,fix_dashboard," if hasattr(cluster, ""end_points""): return ', '.join(""%s://%s"" % (endpoint['type'], endpoint['uri']) for endpoint in cluster.end_points)"," if hasattr(cluster, ""url""): return ', '.join(cluster.url)",5,18
openstack%2Fdjango-openstack-auth-kerberos~master~I634b7854263cbb308bf4847a50196546df950fe8,openstack/django-openstack-auth-kerberos,master,I634b7854263cbb308bf4847a50196546df950fe8,Update Documentation,MERGED,2015-05-12 21:25:47.000000000,2015-05-12 23:48:30.000000000,2015-05-12 23:48:28.000000000,"[{'_account_id': 3}, {'_account_id': 1941}, {'_account_id': 9981}]","[{'number': 1, 'created': '2015-05-12 21:25:47.000000000', 'files': ['doc/source/index.rst', 'README.rst', 'doc/source/api.rst', 'doc/source/usage.rst'], 'web_link': 'https://opendev.org/openstack/django-openstack-auth-kerberos/commit/62ac39c6207eb765f7321ee04a5cbe4517b2b5c7', 'message': 'Update Documentation\n\nInclude a basic description of the project in the README and remove some\nunused files from the generated documentation.\n\nChange-Id: I634b7854263cbb308bf4847a50196546df950fe8\n'}]",0,182458,62ac39c6207eb765f7321ee04a5cbe4517b2b5c7,9,3,1,7191,,,0,"Update Documentation

Include a basic description of the project in the README and remove some
unused files from the generated documentation.

Change-Id: I634b7854263cbb308bf4847a50196546df950fe8
",git fetch https://review.opendev.org/openstack/django-openstack-auth-kerberos refs/changes/58/182458/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/index.rst', 'README.rst', 'doc/source/api.rst', 'doc/source/usage.rst']",4,62ac39c6207eb765f7321ee04a5cbe4517b2b5c7,docs,,======= Usage ======= To use django-openstack-auth-kerberos in a project:: import django-openstack-auth-kerberos,6,22
openstack%2Fhacking~master~I51fc057fb7f0cbd633c4cd95698900e5eeb2d7b8,openstack/hacking,master,I51fc057fb7f0cbd633c4cd95698900e5eeb2d7b8,Fix E211 error,ABANDONED,2015-01-29 16:37:46.000000000,2015-05-12 23:46:01.000000000,,"[{'_account_id': 3}, {'_account_id': 1669}, {'_account_id': 1849}, {'_account_id': 12000}, {'_account_id': 12022}]","[{'number': 1, 'created': '2015-01-29 16:37:46.000000000', 'files': ['hacking/checks/comments.py'], 'web_link': 'https://opendev.org/openstack/hacking/commit/f7f3515d7836abdd101fe88e61449eca445ab324', 'message': 'Fix E211 error\n\nChange-Id: I51fc057fb7f0cbd633c4cd95698900e5eeb2d7b8\n'}]",0,151302,f7f3515d7836abdd101fe88e61449eca445ab324,11,5,1,12022,,,0,"Fix E211 error

Change-Id: I51fc057fb7f0cbd633c4cd95698900e5eeb2d7b8
",git fetch https://review.opendev.org/openstack/hacking refs/changes/02/151302/1 && git format-patch -1 --stdout FETCH_HEAD,['hacking/checks/comments.py'],1,f7f3515d7836abdd101fe88e61449eca445ab324,fix_pep8_error," print(""<license>!=<apache2>:\n'%s' !=\n'%s'"" % (content, stripped_apache2))"," print (""<license>!=<apache2>:\n'%s' !=\n'%s'"" % (content, stripped_apache2))",2,2
openstack%2Fhacking~master~If7d867bdcd758375e167682dc69f49a9a0bce59d,openstack/hacking,master,If7d867bdcd758375e167682dc69f49a9a0bce59d,Add import check for try/except wrapped imports,ABANDONED,2014-11-13 16:44:45.000000000,2015-05-12 23:36:57.000000000,,"[{'_account_id': 3}, {'_account_id': 1054}, {'_account_id': 1849}]","[{'number': 1, 'created': '2014-11-13 16:44:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/hacking/commit/20715c1699cfe4f0b8c93ad93f8f6bf2628c1a39', 'message': 'Add import check for try/except wrapped imports\n\nTry/except wrapped imports where alternative action to import either a\nlibrary from a different group should come after all other import\ngroups.\n\nExample would be to fail on attempting to import a standard library that\nis part of newer python versions, and instead need to fall back to a\nthird party library for compatibility.\n\nCurrently this appears to be the standard style adopted by most\nOpenStack projects.\n\nChange-Id: If7d867bdcd758375e167682dc69f49a9a0bce59d\n'}, {'number': 2, 'created': '2014-11-26 18:24:29.000000000', 'files': ['hacking/checks/imports.py', 'hacking/tests/test_doctest.py', 'setup.cfg', 'HACKING.rst'], 'web_link': 'https://opendev.org/openstack/hacking/commit/d0b7393f470aceccf66b5af2b5cde0d0d79f7798', 'message': 'Add import check for try/except wrapped imports\n\nTry/except wrapped imports where alternative action to import either a\nlibrary from a different group should come after all other import\ngroups.\n\nExample would be to fail on attempting to import a standard library that\nis part of newer python versions, and instead need to fall back to a\nthird party library for compatibility.\n\nChange-Id: If7d867bdcd758375e167682dc69f49a9a0bce59d\n'}]",0,134288,d0b7393f470aceccf66b5af2b5cde0d0d79f7798,10,3,2,1054,,,0,"Add import check for try/except wrapped imports

Try/except wrapped imports where alternative action to import either a
library from a different group should come after all other import
groups.

Example would be to fail on attempting to import a standard library that
is part of newer python versions, and instead need to fall back to a
third party library for compatibility.

Change-Id: If7d867bdcd758375e167682dc69f49a9a0bce59d
",git fetch https://review.opendev.org/openstack/hacking refs/changes/88/134288/2 && git format-patch -1 --stdout FETCH_HEAD,"['hacking/checks/imports.py', 'setup.cfg', 'HACKING.rst']",3,20715c1699cfe4f0b8c93ad93f8f6bf2628c1a39,proposal, {{try/except imports in human alphabetical order}} \n try: import multiprocessing except ImportError: pass ,,72,0
openstack%2Fopenstack-manuals~master~I1b6ae0ae2ef39d50a89813930d4eda587c346808,openstack/openstack-manuals,master,I1b6ae0ae2ef39d50a89813930d4eda587c346808,install: suse: Update neutron service name,MERGED,2015-05-11 15:22:25.000000000,2015-05-12 23:36:48.000000000,2015-05-12 23:36:46.000000000,"[{'_account_id': 3}, {'_account_id': 167}, {'_account_id': 6547}, {'_account_id': 7007}, {'_account_id': 9515}, {'_account_id': 10607}]","[{'number': 1, 'created': '2015-05-11 15:22:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/86239f8f85251d1330a60ccddc438f21f77aba3d', 'message': ""install: suse: Update neutron service name\n\nNeutron service is 'openstack-neutron.service' for the newer\ninstallations which also matches with the convention for the current\nrelease.\n\nChange-Id: I1b6ae0ae2ef39d50a89813930d4eda587c346808\n""}, {'number': 2, 'created': '2015-05-11 16:50:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/fd26791f7bb585bb96b2c28bafad84096cc792d9', 'message': ""install: suse: Update neutron service name\n\nNeutron service is 'openstack-neutron.service' for the newer\ninstallations which also matches with the convention for the current\nrelease.\n\nChange-Id: I1b6ae0ae2ef39d50a89813930d4eda587c346808\n""}, {'number': 3, 'created': '2015-05-12 15:01:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/efa2aa75410833492aaf342715e1a93f2c646491', 'message': ""install: suse: Update neutron service name\n\nCorrects service names under neutron section. For suse based releases\nthe packages are named as 'openstack-$project-*.service'\n\nChange-Id: I1b6ae0ae2ef39d50a89813930d4eda587c346808\n""}, {'number': 4, 'created': '2015-05-12 15:02:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/09364374566d793c36224be5197a702a9729e10f', 'message': ""install: suse: Update neutron service name\n\nUpdate the service names under neutron section. For suse based releases\nthe packages are named as 'openstack-$project-*.service'\n\nChange-Id: I1b6ae0ae2ef39d50a89813930d4eda587c346808\n""}, {'number': 5, 'created': '2015-05-12 17:53:26.000000000', 'files': ['doc/install-guide/section_neutron-compute-node.xml', 'doc/install-guide/section_neutron-controller-node.xml', 'doc/install-guide/section_neutron-network-node.xml'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/f1324d73f187daa35aabdedf7ef64034fb24dbd4', 'message': ""install: suse: Update neutron service name\n\nUpdate the service names under neutron section. For suse based releases\nthe packages are named as 'openstack-$project-*.service'\n\nChange-Id: I1b6ae0ae2ef39d50a89813930d4eda587c346808\n""}]",4,181933,f1324d73f187daa35aabdedf7ef64034fb24dbd4,21,6,5,7007,,,0,"install: suse: Update neutron service name

Update the service names under neutron section. For suse based releases
the packages are named as 'openstack-$project-*.service'

Change-Id: I1b6ae0ae2ef39d50a89813930d4eda587c346808
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/33/181933/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/install-guide/section_neutron-controller-node.xml'],1,86239f8f85251d1330a60ccddc438f21f77aba3d,fix_neutron_controller," <step os=""rhel;centos;fedora;""> <step os=""sles;opensuse;""> <para>Start the Networking service and configure it to start when the system boots:</para> <screen><prompt>#</prompt> <userinput>systemctl enable openstack-neutron.service</userinput> <prompt>#</prompt> <userinput>systemctl start openstack-neutron.service</userinput></screen> </step>"," <step os=""rhel;centos;fedora;sles;opensuse"">",7,1
openstack%2Fhacking~master~I991e980048ad2034562849070b8969dd760a0f9f,openstack/hacking,master,I991e980048ad2034562849070b8969dd760a0f9f,Add Python 3.4 checking,ABANDONED,2014-06-26 13:47:46.000000000,2015-05-12 23:35:34.000000000,,"[{'_account_id': 3}, {'_account_id': 1849}]","[{'number': 1, 'created': '2014-06-26 13:47:46.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/hacking/commit/de4b2ca7790c4dee03f141a81a98b078db2b5c43', 'message': 'Add Python 3.4 checking\n\nThis adds support for a working py34 tox target.\n\nChange-Id: I991e980048ad2034562849070b8969dd760a0f9f\nSigned-off-by: Chuck Short <chuck.short@canonical.com>\n'}]",1,102829,de4b2ca7790c4dee03f141a81a98b078db2b5c43,5,2,1,24,,,0,"Add Python 3.4 checking

This adds support for a working py34 tox target.

Change-Id: I991e980048ad2034562849070b8969dd760a0f9f
Signed-off-by: Chuck Short <chuck.short@canonical.com>
",git fetch https://review.opendev.org/openstack/hacking refs/changes/29/102829/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,de4b2ca7790c4dee03f141a81a98b078db2b5c43,,"envlist = py26,py27,py33,py34,pep8,pypy","envlist = py26,py27,py33,pep8,pypy",1,1
openstack%2Fheat-specs~master~Ic688e45ad7eddf46fe8411ae4805e34631e2be6a,openstack/heat-specs,master,Ic688e45ad7eddf46fe8411ae4805e34631e2be6a,Enhance Manage Service with service-stack and vice-versa,MERGED,2015-03-29 04:35:53.000000000,2015-05-12 23:32:18.000000000,2015-05-12 23:32:16.000000000,"[{'_account_id': 3}, {'_account_id': 4257}, {'_account_id': 4571}, {'_account_id': 4715}, {'_account_id': 6577}, {'_account_id': 10487}, {'_account_id': 12259}, {'_account_id': 12606}]","[{'number': 1, 'created': '2015-03-29 04:35:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-specs/commit/d8ccef14c8561056e557e6d1f8bf5b938aace8fb', 'message': 'Enhance Manage Service with service-stack\n\nRetrieves IN_PROGRESS stacks being handled in the given\nheat-engine and vice-versa.\n\nblueprint heat-manage-service-stack\n\nChange-Id: Ic688e45ad7eddf46fe8411ae4805e34631e2be6a\n'}, {'number': 2, 'created': '2015-04-06 09:55:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-specs/commit/c835018ebbf9ab9057376a031d517f7d6662c24e', 'message': 'Enhance Manage Service with service-stack and service-resource\n\nRetrieves IN_PROGRESS stacks and resources being handled in\nthe given heat-engine and vice-versa.\n\nblueprint heat-manage-service-stack\nAPIImpact\n\nChange-Id: Ic688e45ad7eddf46fe8411ae4805e34631e2be6a\n'}, {'number': 3, 'created': '2015-04-24 01:06:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-specs/commit/65757d4f1d957b2b3485ac04ba65d0fe7bbb1ad1', 'message': 'Enhance Manage Service with service-stack and vice-versa\n\nRetrieves IN_PROGRESS stacks and resources being handled in\nthe given heat-engine and vice-versa.\n\nblueprint heat-manage-service-stack\nAPIImpact\n\nChange-Id: Ic688e45ad7eddf46fe8411ae4805e34631e2be6a\n'}, {'number': 4, 'created': '2015-04-24 02:10:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-specs/commit/19ea6e38ba08fef08cb1c26903d53219e0c69d18', 'message': 'Enhance Manage Service with service-stack and vice-versa\n\nRetrieves IN_PROGRESS stacks and resources being handled in\nthe given heat-engine and vice-versa.\n\nblueprint heat-manage-service-stack\nAPIImpact\n\nChange-Id: Ic688e45ad7eddf46fe8411ae4805e34631e2be6a\n'}, {'number': 5, 'created': '2015-05-11 23:52:31.000000000', 'files': ['specs/liberty/heat-manage-service-stack.rst'], 'web_link': 'https://opendev.org/openstack/heat-specs/commit/e35d63fc1dfd24ad65d3788056d7473fb49ffa1b', 'message': 'Enhance Manage Service with service-stack and vice-versa\n\nRetrieves IN_PROGRESS stacks and resources being handled in\nthe given heat-engine and vice-versa.\n\nblueprint heat-manage-service-stack\nAPIImpact\n\nChange-Id: Ic688e45ad7eddf46fe8411ae4805e34631e2be6a\n'}]",9,168658,e35d63fc1dfd24ad65d3788056d7473fb49ffa1b,31,8,5,10487,,,0,"Enhance Manage Service with service-stack and vice-versa

Retrieves IN_PROGRESS stacks and resources being handled in
the given heat-engine and vice-versa.

blueprint heat-manage-service-stack
APIImpact

Change-Id: Ic688e45ad7eddf46fe8411ae4805e34631e2be6a
",git fetch https://review.opendev.org/openstack/heat-specs refs/changes/58/168658/2 && git format-patch -1 --stdout FETCH_HEAD,['specs/liberty/heat-manage-service-stack.rst'],1,d8ccef14c8561056e557e6d1f8bf5b938aace8fb,bp/heat-manage-service-stack,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ========================================= Enhance Manage Service with service-stack ========================================= https://blueprints.launchpad.net/heat/+spec/heat-manage-service-stack Retrieves IN_PROGRESS stacks being handled in the given heat-engine and vice-versa. Problem description =================== In convergence mode, a given stack is being handled by one or more heat-engines and vice-versa. Later scenario is applicable for non-convergence mode as well. In the current release, there is no functionality available to report these details, which is useful for operator during troubleshooting issues. Proposed change =============== Update heat CLI with following additional parameters: ``service-stack --stack <stack_id> OR --engine <engine_id>`` * When the stack_id is provided, it will report the list of heat engines, which are handling the given stack * When the engine_id is provided, it will report the list of stacks being handled in that given engine. * when both are provided error will be thrown. Corresponding REST API would be: * To list the stacks for the given engine, add ``GET on /v1/<tenant-id>/services/<service-id>/stacks`` * To list the services handing the given stack, add ``GET on /v1/<tenant-id>/stacks/<stack-id>/services`` Alternatives ------------ None Implementation ============== Assignee(s) ----------- Primary assignee: Kanagaraj Manickam (kanagaraj-manickam) Milestones ---------- Target Milestone for completion: liberty-1 Work Items ---------- * DB API changes: * Add new API 'service_get_stacks_by' with two parameters as described in the solution section. * Object changes: * Add corresponding changes for db api changes in the Service object methods * RPC API changes: * Add corresponding RPC API for the new DB API 'service_get_stacks_by' * REST API changes: * Update ServiceController and StackController to handle the new REST APIs * Heat CLI * Add 'heat service-stack' as defined in the solution section. * Heat-manage command: * Add the similar enhancement done in CLI, (this is required by admin, in case all heat-engines are down) * Add required test cases * Documentation: * update documentation for REST API, heat CLI and heat-manage tool Dependencies ============ None ",,100,0
openstack%2Fopenstack-manuals~master~Iaaa9d2a052c9f81cefebd18bdc866d96d4fed64e,openstack/openstack-manuals,master,Iaaa9d2a052c9f81cefebd18bdc866d96d4fed64e,"Remove passive voice from chap 5, arch guide",MERGED,2015-05-07 06:26:14.000000000,2015-05-12 23:30:52.000000000,2015-05-12 23:30:50.000000000,"[{'_account_id': 3}, {'_account_id': 167}, {'_account_id': 9515}, {'_account_id': 10607}, {'_account_id': 12686}]","[{'number': 1, 'created': '2015-05-07 06:26:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/68b68da585c05e74b68f2a5b68026bf7bce5f05b', 'message': 'New patch combining all changes: Remove passive voice from chap 5, arch guide\n\nAddressed reviewer feedback.\n\nChange-Id: Iaaa9d2a052c9f81cefebd18bdc866d96d4fed64e\nCloses-Bug: #1427935\n'}, {'number': 2, 'created': '2015-05-12 04:45:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/ddf26f61a0399d28fd230ed47cc49a16564a38e2', 'message': 'Remove passive voice from chap 5, arch guide\n\nChange-Id: Iaaa9d2a052c9f81cefebd18bdc866d96d4fed64e\nCloses-Bug: #1427935\n'}, {'number': 3, 'created': '2015-05-12 05:07:12.000000000', 'files': ['doc/arch-design/network_focus/section_user_requirements_network_focus.xml', 'doc/arch-design/network_focus/section_operational_considerations_network_focus.xml', 'doc/arch-design/network_focus/section_prescriptive_examples_network_focus.xml', 'doc/arch-design/ch_network_focus.xml', 'doc/arch-design/network_focus/section_architecture_network_focus.xml', 'doc/arch-design/network_focus/section_tech_considerations_network_focus.xml'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/31771bef7b9a3c5e9d8eb875a21f404b87ecd106', 'message': 'Remove passive voice from chap 5, arch guide\n\nChange-Id: Iaaa9d2a052c9f81cefebd18bdc866d96d4fed64e\nCloses-Bug: #1427935\n'}]",0,180881,31771bef7b9a3c5e9d8eb875a21f404b87ecd106,14,5,3,15497,,,0,"Remove passive voice from chap 5, arch guide

Change-Id: Iaaa9d2a052c9f81cefebd18bdc866d96d4fed64e
Closes-Bug: #1427935
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/81/180881/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/arch-design/network_focus/section_operational_considerations_network_focus.xml', 'doc/arch-design/network_focus/section_user_requirements_network_focus.xml', 'doc/arch-design/ch_network_focus.xml', 'doc/arch-design/network_focus/section_architecture_network_focus.xml']",4,68b68da585c05e74b68f2a5b68026bf7bce5f05b,bug/1427935," <para>Network-focused OpenStack architectures have many similarities to other OpenStack architecture use cases. Consider several factors when designing for a network-centric or network-heavy application environment.</para> <para>Networks exist to serve as a medium of transporting data between systems. It is inevitable that an OpenStack design has inter-dependencies with non-network portions of OpenStack as well as on external systems. Depending on the specific workload, there may be major interactions with storage systems both within and external to the OpenStack environment. For example, in the case of content delivery network, there is twofold interaction with storage. Traffic flows to and from the storage array for ingesting and serving content in a north-south direction. In addition, there is replication traffic flowing in an east-west direction.</para> <para>Compute-heavy workloads may also induce interactions with the network. Some high performance compute applications require network-based memory mapping and data sharing and, as a result, induce a higher network load when they transfer results and data sets. Others may be highly transactional and issue transaction locks, perform their functions and revoke transaction locks at high rates. This also has an impact on the network performance.</para> <para>Some network dependencies are external to OpenStack. While OpenStack Networking is capable of providing network ports, IP addresses, some level of routing, and overlay networks, there are some other functions that it cannot provide. For many of these, external systems or equipment may be required to fill in the functional gaps. Hardware load balancers are an example of equipment that may be necessary to distribute workloads or offload certain functions. Note that, as of the Icehouse release, dynamic routing is currently in its infancy within OpenStack and may need to be implemented either by an external device or a specialized service instance within OpenStack. OpenStack Networking provides a tunneling feature, however it is constrained to a Networking-managed region. If the need arises to extend a tunnel beyond the OpenStack region to either another region or an external system, implement the tunnel itself outside OpenStack or use a tunnel management system to map the tunnel or overlay to an external tunnel. OpenStack does not currently provide quotas for network resources. Where network quotas are required, implement quality of service management outside of OpenStack. In many of these instances, similar solutions for traffic shaping or other network functions are needed. larger-scale deployments. The Orchestration module is capable of allocating network resource defined in templates to map to tenant networks and for port creation, as well as allocating floating IPs. If there is a requirement to define and manage network resources in using orchestration, we recommend that the design include the Orchestration module to meet the demands of users.</para> <para>A wide variety of factors can affect a network-focused OpenStack architecture. While there are some considerations shared with a general use case, specific workloads related to network requirements influence network design decisions.</para> Translation (NAT) and where to implement it. If there is a requirement for floating IPs to be available instead of using public fixed addresses then NAT is required. This can be seen in network management applications that rely on an IP endpoint. An example of this is a DHCP relay that needs to know the IP of the actual DHCP server. In these cases it is easier to automate the infrastructure to apply the target IP to a new instance rather than reconfigure legacy or external systems for each new instance.</para> <para>NAT for floating IPs managed by Networking will reside within the hypervisor but there are also versions of NAT that may be running elsewhere. If there is a shortage of IPv4 addresses there are two common methods to mitigate this externally to OpenStack. The first is to run a load balancer either within OpenStack as an instance, or use an external load balancing solution. In the internal scenario, load balancing software, such as HAproxy, can be managed with Networking's Load-Balancer-as-a-Service (LBaaS). This is specifically to manage the Virtual IP (VIP) while a dual-homed connection from the HAproxy instance connects the public network with the tenant private network that hosts all of the content servers. In the external scenario, a load balancer would need to serve the VIP and also be joined to the tenant overlay network through external means or routed to it via private addresses.</para> <para>Another kind of NAT that may be useful is protocol NAT. In some cases it may be desirable to use only IPv6 addresses on instances and operate either an instance or an external service to provide a NAT-based transition technology such as NAT64 and DNS64. This provides the ability to have a globally routable IPv6 address while only consuming IPv4 addresses as necessary or in a shared manner.</para> <para>Application workloads affect the design of the underlying network architecture. If a workload requires network-level redundancy, the routing and switching architecture have to accommodate this. There are differing methods for providing this that are dependent on the network hardware selected, the performance of the hardware, and which networking model is deployed. Some examples of this are the use of Link aggregation (LAG) or Hot Standby Router Protocol (HSRP). There are also the considerations of whether to deploy OpenStack Networking or legacy networking (nova-network) and which plug-in to select for OpenStack Networking. If using an external system, configure Networking to run <glossterm baseform=""Layer-2 network"">layer 2</glossterm> with a provider network configuration. For example, implement HSRP to terminate layer-3 connectivity.</para> <para>Depending on the workload, overlay networks may or may not be a recommended configuration. Where application network connections are small, short lived or bursty, running a dynamic overlay can generate as much bandwidth as the packets it carries. It also can induce enough latency to cause issues with certain applications. There is an impact to the device generating the overlay which, in most installations, will be the hypervisor. This causes performance degradation on packet per second and connection per second rates.</para> <para>Overlays also come with a secondary option that may or may not be appropriate to a specific workload. While all of them operate in full mesh by default, there might be good reasons to disable this function because it may cause excessive overhead for some workloads. Conversely, other workloads operate without issue. For example, most web services applications do not have major issues with a full mesh overlay network, while some network monitoring tools or storage replication workloads have performance issues with throughput or excessive broadcast traffic.</para> <para>Many people overlook an important design decision: The choice of layer-3 protocols. While OpenStack was initially built with only IPv4 support, Networking now supports IPv6 and dual-stacked networks. Note that, as of the Icehouse release, this only includes stateless address auto configuration but work is in progress to support stateless and stateful DHCPv6 as well as IPv6 floating IPs without NAT. Some workloads become possible through the use of IPv6 and IPv6 to IPv4 reverse transition mechanisms such as NAT64 and DNS64 or <glossterm>6to4</glossterm>, because these options are available. This alters the requirements for any address plan as single-stacked and transitional IPv6 deployments can alleviate the need for IPv4 addresses.</para> <para>As of the Icehouse release, OpenStack has limited support for dynamic routing, however there are a number of options available by incorporating third party solutions to implement routing within the cloud including network equipment, hardware nodes, and instances. Some workloads perform well with nothing more than static routes and default gateways configured at the layer-3 termination point. In most cases this will suffice, however some cases require the addition of at least one type of dynamic routing protocol if not multiple protocols. Having a form of interior gateway protocol (IGP) available to the instances inside an OpenStack installation opens up the possibility of use cases for anycast route injection for services that need to use it as a geographic location or failover mechanism. Other applications may wish to directly participate in a routing protocol, either as a passive observer as in the case of a looking glass, or as an active participant in the form of a route reflector. Since an instance might have a large amount of compute and memory resources, it is trivial to hold an entire unpartitioned routing table and use it to provide services such as network path visibility to other applications or as a monitoring tool.</para> Path maximum transmission unit (MTU) failures are lesser known but harder to diagnose. The MTU must be large enough to handle normal traffic, overhead from an overlay network, and the desired layer-3 protocol. When you add externally built tunnels, the MTU packet size is reduced. In this case, you must pay attention to the fully calculated MTU size because some systems are configured to ignore or drop path MTU discovery packets. OpenStack architecture design when designing for network intensive workloads include MTU and QoS. Some workloads require a larger MTU than normal based on a requirement to transfer large blocks of data. When providing network service for applications such as video streaming or storage replication, it is recommended to ensure that both OpenStack hardware nodes and the supporting network equipment are configured for jumbo frames where possible. This allows for a better utilization of available bandwidth. Configure jumbo frames across the complete path the packets traverse. If one network component is not capable of handling jumbo frames then the entire path reverts to the default MTU.</para> intensive workloads as it provides instant service to packets which have a higher priority due to their ability to be impacted by poor network performance. In applications such as Voice over IP (VoIP) differentiated services code points are a near requirement for proper operation. QoS can also be used in the opposite direction for mixed workloads to prevent low priority but high bandwidth applications, for example backup services, video conferencing or file sharing, from blocking bandwidth that is needed for the proper operation of other workloads. It is possible to tag file storage traffic as a lower class, such as best effort or scavenger, to allow the higher priority traffic through. In cases where regions within a cloud might be geographically distributed it may also be necessary to plan accordingly to implement WAN optimization to combat latency or packet loss.</para>"," <para>Network focused OpenStack architectures have many similarities to other OpenStack architecture use cases. There are a number of very specific considerations to keep in mind when designing for a network-centric or network-heavy application environment.</para> <para>Networks exist to serve as a medium of transporting data between systems. It is inevitable that an OpenStack design has inter-dependencies with non-network portions of OpenStack as well as on external systems. Depending on the specific workload, there may be major interactions with storage systems both within and external to the OpenStack environment. For example, if the workload is a content delivery network, then the interactions with storage will be two-fold. There will be traffic flowing to and from the storage array for ingesting and serving content in a north-south direction. In addition, there is replication traffic flowing in an east-west direction.</para> <para>Compute-heavy workloads may also induce interactions with the network. Some high performance compute applications require network-based memory mapping and data sharing and, as a result, will induce a higher network load when they transfer results and data sets. Others may be highly transactional and issue transaction locks, perform their functions and rescind transaction locks at very high rates. This also has an impact on the network performance.</para> <para>Some network dependencies are going to be external to OpenStack. While OpenStack Networking is capable of providing network ports, IP addresses, some level of routing, and overlay networks, there are some other functions that it cannot provide. For many of these, external systems or equipment may be required to fill in the functional gaps. Hardware load balancers are an example of equipment that may be necessary to distribute workloads or offload certain functions. Note that, as of the Kilo release, dynamic routing is currently in its infancy within OpenStack and may need to be implemented either by an external device or a specialized service instance within OpenStack. Tunneling is a feature provided by OpenStack Networking, however it is constrained to a Networking-managed region. If the need arises to extend a tunnel beyond the OpenStack region to either another region or an external system, it is necessary to implement the tunnel itself outside OpenStack or by using a tunnel management system to map the tunnel or overlay to an external tunnel. OpenStack does not currently provide quotas for network resources. Where network quotas are required, it is necessary to implement quality of service management outside of OpenStack. In many of these instances, similar solutions for traffic shaping or other network functions will be needed. larger-scale deployments. The Orchestration module is capable of allocating network resource defined in templates to map to tenant networks and for port creation, as well as allocating floating IPs. If there is a requirement to define and manage network resources in using orchestration, we recommend that the design include the Orchestration module to meet the demands of users.</para> <para>A wide variety of factors can affect a network focused OpenStack architecture. While there are some considerations shared with a general use case, specific workloads related to network requirements will influence network design decisions.</para> Translation (NAT) and where to implement it. If there is a requirement for floating IPs to be available instead of using public fixed addresses then NAT is required. This can be seen in network management applications that rely on an IP endpoint. An example of this is a DHCP relay that needs to know the IP of the actual DHCP server. In these cases it is easier to automate the infrastructure to apply the target IP to a new instance rather than reconfigure legacy or external systems for each new instance.</para> <para>NAT for floating IPs managed by Networking will reside within the hypervisor but there are also versions of NAT that may be running elsewhere. If there is a shortage of IPv4 addresses there are two common methods to mitigate this externally to OpenStack. The first is to run a load balancer either within OpenStack as an instance, or use an external load balancing solution. In the internal scenario, load balancing software, such as HAproxy, can be managed with Networking's Load-Balancer-as-a-Service (LBaaS). This is specifically to manage the Virtual IP (VIP) while a dual-homed connection from the HAproxy instance connects the public network with the tenant private network that hosts all of the content servers. In the external scenario, a load balancer would need to serve the VIP and also be joined to the tenant overlay network through external means or routed to it via private addresses.</para> <para>Another kind of NAT that may be useful is protocol NAT. In some cases it may be desirable to use only IPv6 addresses on instances and operate either an instance or an external service to provide a NAT-based transition technology such as NAT64 and DNS64. This provides the ability to have a globally routable IPv6 address while only consuming IPv4 addresses as necessary or in a shared manner.</para> <para>Application workloads will affect the design of the underlying network architecture. If a workload requires network-level redundancy, the routing and switching architecture will have to accommodate this. There are differing methods for providing this that are dependent on the network hardware selected, the performance of the hardware, and which networking model is deployed. Some examples of this are the use of Link aggregation (LAG) or Hot Standby Router Protocol (HSRP). There are also the considerations of whether to deploy OpenStack Networking or legacy networking (nova-network) and which plug-in to select for OpenStack Networking. If using an external system, Networking will need to be configured to run <glossterm baseform=""Layer-2 network"">layer 2</glossterm> with a provider network configuration. For example, it may be necessary to implement HSRP to terminate layer-3 connectivity.</para> <para>Depending on the workload, overlay networks may or may not be a recommended configuration. Where application network connections are small, short lived or bursty, running a dynamic overlay can generate as much bandwidth as the packets it carries. It also can induce enough latency to cause issues with certain applications. There is an impact to the device generating the overlay which, in most installations, will be the hypervisor. This will cause performance degradation on packet per second and connection per second rates.</para> <para>Overlays also come with a secondary option that may or may not be appropriate to a specific workload. While all of them will operate in full mesh by default, there might be good reasons to disable this function because it may cause excessive overhead for some workloads. Conversely, other workloads will operate without issue. For example, most web services applications will not have major issues with a full mesh overlay network, while some network monitoring tools or storage replication workloads will have performance issues with throughput or excessive broadcast traffic.</para> <para>Many people overlook an important design decision: The choice of layer-3 protocols. While OpenStack was initially built with only IPv4 support, Networking now supports IPv6 and dual-stacked networks. Note that, as of the Icehouse release, this only includes stateless address auto configuration but work is in progress to support stateless and stateful DHCPv6 as well as IPv6 floating IPs without NAT. Some workloads become possible through the use of IPv6 and IPv6 to IPv4 reverse transition mechanisms such as NAT64 and DNS64 or <glossterm>6to4</glossterm>, because these options are available. This will alter the requirements for any address plan as single-stacked and transitional IPv6 deployments can alleviate the need for IPv4 addresses.</para> <para>As of the Kilo release, OpenStack has limited support for dynamic routing, however there are a number of options available by incorporating third party solutions to implement routing within the cloud including network equipment, hardware nodes, and instances. Some workloads will perform well with nothing more than static routes and default gateways configured at the layer-3 termination point. In most cases this will suffice, however some cases require the addition of at least one type of dynamic routing protocol if not multiple protocols. Having a form of interior gateway protocol (IGP) available to the instances inside an OpenStack installation opens up the possibility of use cases for anycast route injection for services that need to use it as a geographic location or failover mechanism. Other applications may wish to directly participate in a routing protocol, either as a passive observer as in the case of a looking glass, or as an active participant in the form of a route reflector. Since an instance might have a large amount of compute and memory resources, it is trivial to hold an entire unpartitioned routing table and use it to provide services such as network path visibility to other applications or as a monitoring tool.</para> Path maximum transmission unit (MTU) failures are lesser known but harder to diagnose. The MTU must be large enough to handle normal traffic, overhead from an overlay network, and the desired layer-3 protocol. When you add externally built tunnels, the MTU packet size is reduced. In this case, you must pay attention to the fully calculated MTU size because some systems are configured to ignore or drop path MTU discovery packets. OpenStack architecture design when designing for network intensive workloads include MTU and QoS. Some workloads will require a larger MTU than normal based on a requirement to transfer large blocks of data. When providing network service for applications such as video streaming or storage replication, it is recommended to ensure that both OpenStack hardware nodes and the supporting network equipment are configured for jumbo frames where possible. This will allow for a better utilization of available bandwidth. Configuration of jumbo frames should be done across the complete path the packets will traverse. If one network component is not capable of handling jumbo frames then the entire path will revert to the default MTU.</para> intensive workloads by providing instant service to packets which have a higher priority due to their ability to be impacted by poor network performance. In applications such as Voice over IP (VoIP) differentiated services code points are a near requirement for proper operation. QoS can also be used in the opposite direction for mixed workloads to prevent low priority but high bandwidth applications, for example backup services, video conferencing or file sharing, from blocking bandwidth that is needed for the proper operation of other workloads. It is possible to tag file storage traffic as a lower class, such as best effort or scavenger, to allow the higher priority traffic through. In cases where regions within a cloud might be geographically distributed it may also be necessary to plan accordingly to implement WAN optimization to combat latency or packet loss.</para>",389,480
openstack%2Fcue~master~I3f9893e501e314e7c73be2078571b90619c862b8,openstack/cue,master,I3f9893e501e314e7c73be2078571b90619c862b8,Adding script to tests RabbitMQ clusters Authentication,ABANDONED,2015-05-04 22:30:16.000000000,2015-05-12 23:24:42.000000000,,"[{'_account_id': 3}, {'_account_id': 1925}]","[{'number': 1, 'created': '2015-05-04 22:30:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cue/commit/e4576c1353799402407833568b23aac2f107ec22', 'message': 'Adding script to tests RabbitMQ clusters Authentication\n\nChange-Id: I3f9893e501e314e7c73be2078571b90619c862b8\n'}, {'number': 2, 'created': '2015-05-04 23:44:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cue/commit/3eb94eea7bd57f0594768e893ef0e2761b44a479', 'message': 'Adding script to tests RabbitMQ clusters Authentication\n\nChange-Id: I3f9893e501e314e7c73be2078571b90619c862b8\n'}, {'number': 3, 'created': '2015-05-04 23:45:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cue/commit/265a71bede2ac7011532a55a2c5355bfde8720dc', 'message': 'Adding script to tests RabbitMQ clusters Authentication\n\nChange-Id: I3f9893e501e314e7c73be2078571b90619c862b8\n'}, {'number': 4, 'created': '2015-05-04 23:46:18.000000000', 'files': ['tests/common/rabbitmq_test.py', 'tests/common/__init__.py'], 'web_link': 'https://opendev.org/openstack/cue/commit/fcbe8008f989b05a4641a1c6baaffa6479f3c0ad', 'message': 'Adding script to tests RabbitMQ clusters Authentication\n\nChange-Id: I3f9893e501e314e7c73be2078571b90619c862b8\n'}]",0,179958,fcbe8008f989b05a4641a1c6baaffa6479f3c0ad,8,2,4,5390,,,0,"Adding script to tests RabbitMQ clusters Authentication

Change-Id: I3f9893e501e314e7c73be2078571b90619c862b8
",git fetch https://review.opendev.org/openstack/cue refs/changes/58/179958/4 && git format-patch -1 --stdout FETCH_HEAD,"['tests/common/rabbitmq_test.py', 'tests/common/__init__.py']",2,e4576c1353799402407833568b23aac2f107ec22,rabbit-test,__author__ = 'steveleon' ,,64,0
openstack%2Fpuppet-nova~master~I6e3adccb744da056cf979db4e954450bad67d7b1,openstack/puppet-nova,master,I6e3adccb744da056cf979db4e954450bad67d7b1,do not merge,ABANDONED,2015-05-12 23:08:29.000000000,2015-05-12 23:23:36.000000000,,[{'_account_id': 3}],"[{'number': 1, 'created': '2015-05-12 23:08:29.000000000', 'files': ['test'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/91991c8714bad9875351f349711a3c811bdc1628', 'message': 'do not merge\n\ntest for CI\n\nChange-Id: I6e3adccb744da056cf979db4e954450bad67d7b1\n'}]",0,182492,91991c8714bad9875351f349711a3c811bdc1628,4,1,1,3153,,,0,"do not merge

test for CI

Change-Id: I6e3adccb744da056cf979db4e954450bad67d7b1
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/92/182492/1 && git format-patch -1 --stdout FETCH_HEAD,['test'],1,91991c8714bad9875351f349711a3c811bdc1628,test-ci,test ,,1,0
openstack%2Fastara~master~I304718e8d3cb270b1ff3b5ad46a027facb42f2af,openstack/astara,master,I304718e8d3cb270b1ff3b5ad46a027facb42f2af,Seed a functional test suite with a basic health check,MERGED,2015-05-12 18:54:10.000000000,2015-05-12 23:19:20.000000000,2015-05-12 23:19:19.000000000,"[{'_account_id': 3}, {'_account_id': 6923}, {'_account_id': 8005}]","[{'number': 1, 'created': '2015-05-12 18:54:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/astara/commit/9826f641ee489bb66517da8153ae4a69583005d7', 'message': 'Seed a functional test suite with a basic health check\n\nThis creates a base functional test suite with a minimal health check\nof the service VM.  We can fill this in with richer tests as we go, but\nin the meantime this will give us something to at least test that devstack\ndeployments and image builds produce a reachable VM via its management\nport.\n\nChange-Id: I304718e8d3cb270b1ff3b5ad46a027facb42f2af\n'}, {'number': 2, 'created': '2015-05-12 18:54:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/astara/commit/48dc3d0f0ca791e5d6c798b0a866ecd3e5b745ab', 'message': 'Seed a functional test suite with a basic health check\n\nThis creates a base functional test suite with a minimal health check\nof the service VM.  We can fill this in with richer tests as we go, but\nin the meantime this will give us something to at least test that devstack\ndeployments and image builds produce a reachable VM via its management\nport.\n\nChange-Id: I304718e8d3cb270b1ff3b5ad46a027facb42f2af\n'}, {'number': 3, 'created': '2015-05-12 19:42:32.000000000', 'files': ['akanda/rug/test/functional/__init__.py', '.gitignore', 'akanda/rug/test/functional/test_service_vm.py', 'akanda/rug/test/functional/test.conf', 'akanda/rug/test/functional/base.py', 'tools/run_functional.sh', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/astara/commit/bd28d7fb65882a1be04799ac5d46104cbc7a0892', 'message': 'Seed a functional test suite with a basic health check\n\nThis creates a base functional test suite with a minimal health check\nof the service VM.  We can fill this in with richer tests as we go, but\nin the meantime this will give us something to at least test that devstack\ndeployments and image builds produce a reachable VM via its management\nport.\n\nChange-Id: I304718e8d3cb270b1ff3b5ad46a027facb42f2af\n'}]",0,182408,bd28d7fb65882a1be04799ac5d46104cbc7a0892,10,3,3,1420,,,0,"Seed a functional test suite with a basic health check

This creates a base functional test suite with a minimal health check
of the service VM.  We can fill this in with richer tests as we go, but
in the meantime this will give us something to at least test that devstack
deployments and image builds produce a reachable VM via its management
port.

Change-Id: I304718e8d3cb270b1ff3b5ad46a027facb42f2af
",git fetch https://review.opendev.org/openstack/astara refs/changes/08/182408/1 && git format-patch -1 --stdout FETCH_HEAD,"['akanda/rug/test/functional/__init__.py', '.gitignore', 'akanda/rug/test/functional/test_service_vm.py', 'akanda/rug/test/functional/test.conf', 'akanda/rug/test/functional/base.py', 'tools/run_functional.sh', 'tox.ini']",7,9826f641ee489bb66517da8153ae4a69583005d7,akanda/ci-updates,[testenv:functional] commands = nosetests -v ./akanda/rug/test/functional/ ,,129,6
openstack%2Fdocs-specs~master~I1d77560ead5380a8c976a6f61e6a9634b3c694f8,openstack/docs-specs,master,I1d77560ead5380a8c976a6f61e6a9634b3c694f8,Spec: Color support for osbash,MERGED,2014-12-31 14:16:47.000000000,2015-05-12 23:17:37.000000000,2015-05-12 23:17:35.000000000,"[{'_account_id': 3}, {'_account_id': 167}, {'_account_id': 6547}, {'_account_id': 6923}, {'_account_id': 11109}]","[{'number': 1, 'created': '2014-12-31 14:16:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/docs-specs/commit/24c5dd27796913624ad3a78d99ce5f773f7400a7', 'message': 'Spec: Color support for osbash\n\nThis spec provides details for the\ncolorizer to be added osbash scripts.\n\nChange-Id: I1d77560ead5380a8c976a6f61e6a9634b3c694f8\n'}, {'number': 2, 'created': '2015-01-19 10:35:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/docs-specs/commit/f00070a1940421ded31a17530531e3f61edd85d3', 'message': 'Spec: Color support for osbash\n\nThis spec provides details for the\ncolorizer to be added osbash scripts.\n\nChange-Id: I1d77560ead5380a8c976a6f61e6a9634b3c694f8\n'}, {'number': 3, 'created': '2015-01-28 18:45:51.000000000', 'files': ['specs/kilo/training-guides-osbash-color.rst'], 'web_link': 'https://opendev.org/openstack/docs-specs/commit/ea88b07d4467851200c94cd93bac48dc3dcda32a', 'message': 'Spec: Color support for osbash\n\nThis spec provides details for the\ncolorizer to be added to the osbash scripts.\n\nChange-Id: I1d77560ead5380a8c976a6f61e6a9634b3c694f8\n'}]",2,144635,ea88b07d4467851200c94cd93bac48dc3dcda32a,13,5,3,9178,,,0,"Spec: Color support for osbash

This spec provides details for the
colorizer to be added to the osbash scripts.

Change-Id: I1d77560ead5380a8c976a6f61e6a9634b3c694f8
",git fetch https://review.opendev.org/openstack/docs-specs refs/changes/35/144635/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/kilo/osbash-color.rst'],1,24c5dd27796913624ad3a78d99ce5f773f7400a7,osbash,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ========================================== Color support for osbash ========================================== https://blueprints.launchpad.net/openstack-training-guides/+spec/osbash-color-support Color variation to highlight messages and enhance readability while running osbash scripts. Make this color variation compatible on most operating systems - linux, windows, OSx. Advantages: * Enhances Readability * Easier to debug * Better understanding of sequence of events while running the scripts * Adds color code to different types of messages eg. error, warning messages * Adds to the asthetics when running scripts Problem description =================== A detailed description of the problem: * Current scripts are mono-colored and do not provide sufficient readability * Assigning different colors for different types of messages will * improve readability while running scripts * highlights the problems * easier debugging * help track the sequence of events * Assigning background color to console while script execution will * provide uniform appearance across all consoles * uniform color contrast * Support will be provided for all operating systems that run osbash (linux, windows, OSx) * Target audience will be deployers Proposed change =============== * Implementing a colorizer for osbash scripts * Making it compatible across linux, windows and OSx * Having an option to change background color Alternatives ------------ Running the existing scripts which have a mono-colored output Disadvantages: * Does not highlight different types of messages which help make the running scripts more readable and easier to debug * Difficult to follow the sequence of events while the script runs Implementation ============== Assignee(s) ----------- Primary assignee: sayalilunkad Other contributors: None Work Items ---------- * Devise color code for different type of messages and background * Color code for background to be made optional * Implement colorizer to assign these colors * Make compatible across linux, windows and OSx Dependencies ============ None Testing ======= Run the scripts to check if the colorizer assigns the designated colors to the output of the script. References ========== None ",,90,0
openstack%2Fdjango-openstack-auth-kerberos~master~I0a0947d7b58b870eddb08c8584927a98e8637dee,openstack/django-openstack-auth-kerberos,master,I0a0947d7b58b870eddb08c8584927a98e8637dee,Fix pep8 and doc error,MERGED,2015-05-12 22:38:18.000000000,2015-05-12 23:13:36.000000000,2015-05-12 23:13:36.000000000,"[{'_account_id': 3}, {'_account_id': 7191}, {'_account_id': 7665}, {'_account_id': 9981}]","[{'number': 1, 'created': '2015-05-12 22:38:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/django-openstack-auth-kerberos/commit/b974800a9c69e8621b4a9e3643654ab599e296c3', 'message': 'Fix pep8 error\n\nChange-Id: I0a0947d7b58b870eddb08c8584927a98e8637dee\n'}, {'number': 2, 'created': '2015-05-12 22:51:50.000000000', 'files': ['setup.py', 'doc/source/conf.py'], 'web_link': 'https://opendev.org/openstack/django-openstack-auth-kerberos/commit/1c774adc6183296d90e17588011c7cce42b4dd63', 'message': 'Fix pep8 and doc error\n\nChange-Id: I0a0947d7b58b870eddb08c8584927a98e8637dee\n'}]",0,182483,1c774adc6183296d90e17588011c7cce42b4dd63,11,4,2,1941,,,0,"Fix pep8 and doc error

Change-Id: I0a0947d7b58b870eddb08c8584927a98e8637dee
",git fetch https://review.opendev.org/openstack/django-openstack-auth-kerberos refs/changes/83/182483/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.py'],1,b974800a9c69e8621b4a9e3643654ab599e296c3,, pbr=True) , pbr=True),1,1
openstack%2Ffuel-library~master~Icd27758f00e8f472041eb83019cb89dcb030afd1,openstack/fuel-library,master,Icd27758f00e8f472041eb83019cb89dcb030afd1,Inhibit start of supervisord for nailgun,MERGED,2015-05-12 11:35:10.000000000,2015-05-12 23:08:00.000000000,2015-05-12 23:07:26.000000000,"[{'_account_id': 3}, {'_account_id': 6926}, {'_account_id': 7195}, {'_account_id': 8749}, {'_account_id': 8786}, {'_account_id': 8971}, {'_account_id': 9037}, {'_account_id': 10391}, {'_account_id': 11827}, {'_account_id': 14774}, {'_account_id': 14985}]","[{'number': 1, 'created': '2015-05-12 11:35:10.000000000', 'files': ['deployment/puppet/nailgun/examples/nailgun-only.pp', 'deployment/puppet/nailgun/manifests/supervisor.pp'], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/682eed618fbbb7b38d753a55672f50d599a2c441', 'message': 'Inhibit start of supervisord for nailgun\n\nStarting supervisord starts nailgun app too early\nbefore it is ready to serve requests. It will be\nstarted later in the docker container in the\nforeground. This prevents a race condition where\nDB upgrade takes place and nailgun is stopped.\n\nChange-Id: Icd27758f00e8f472041eb83019cb89dcb030afd1\nCloses-Bug: #1453400\n'}]",2,182246,682eed618fbbb7b38d753a55672f50d599a2c441,27,11,1,7195,,,0,"Inhibit start of supervisord for nailgun

Starting supervisord starts nailgun app too early
before it is ready to serve requests. It will be
started later in the docker container in the
foreground. This prevents a race condition where
DB upgrade takes place and nailgun is stopped.

Change-Id: Icd27758f00e8f472041eb83019cb89dcb030afd1
Closes-Bug: #1453400
",git fetch https://review.opendev.org/openstack/fuel-library refs/changes/46/182246/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/puppet/nailgun/examples/nailgun-only.pp', 'deployment/puppet/nailgun/manifests/supervisor.pp']",2,682eed618fbbb7b38d753a55672f50d599a2c441,bug/1453400," $service_enabled = true, ensure => $service_enabled, enable => $service_enabled,"," ensure => ""running"", enable => true,",7,5
openstack%2Ftacker~master~I3e94a1064c3c45999167ce47ff31e303dd9dc4f8,openstack/tacker,master,I3e94a1064c3c45999167ce47ff31e303dd9dc4f8,tacker/vm/drivers/heat/heat.py: make multiple vdu work,MERGED,2015-05-12 22:56:24.000000000,2015-05-12 23:01:08.000000000,2015-05-12 23:01:08.000000000,"[{'_account_id': 3}, {'_account_id': 333}]","[{'number': 1, 'created': '2015-05-12 22:56:24.000000000', 'files': ['tacker/vm/drivers/heat/heat.py'], 'web_link': 'https://opendev.org/openstack/tacker/commit/f87c953c60c886850c9a6a51fbba6d7c5344371d', 'message': 'tacker/vm/drivers/heat/heat.py: make multiple vdu work\n\nChange-Id: I3e94a1064c3c45999167ce47ff31e303dd9dc4f8\n'}]",0,182491,f87c953c60c886850c9a6a51fbba6d7c5344371d,6,2,1,333,,,0,"tacker/vm/drivers/heat/heat.py: make multiple vdu work

Change-Id: I3e94a1064c3c45999167ce47ff31e303dd9dc4f8
",git fetch https://review.opendev.org/openstack/tacker refs/changes/91/182491/1 && git format-patch -1 --stdout FETCH_HEAD,['tacker/vm/drivers/heat/heat.py'],1,f87c953c60c886850c9a6a51fbba6d7c5344371d,refresh," mgmt_port = 'mgmt_port-%s' % vdu_id mgmt_port] = mgmt_port_dict network_param = { 'port': {'get_resource': mgmt_port} } mgmt_ip = 'mgmt_ip-%s' % vdu_id outputs_dict[mgmt_ip] = { 'get_attr': [mgmt_port, 'fixed_ips', mgmt_ips = [output['output_value'] for output in outputs if output.get('output_key', '').startswith('mgmt_ip-')] if mgmt_ips: # work around. mgmt suports Only single vm for now. device_dict['mgmt_url'] = mgmt_ips[0]"," MGMT_PORT = 'mgmt_port' MGMT_PORT] = mgmt_port_dict network_param = { 'port': {'get_resource': MGMT_PORT} } outputs_dict['mgmt_ip'] = { 'get_attr': [MGMT_PORT, 'fixed_ips', mgmt_ip = [output['output_value'] for output in outputs if output.get('output_key', None) == 'mgmt_ip'] if mgmt_ip: device_dict['mgmt_url'] = mgmt_ip[0]",11,9
openstack%2Ftacker~master~I429a312092452e1a9b89d6c99e2d41f47e09d135,openstack/tacker,master,I429a312092452e1a9b89d6c99e2d41f47e09d135,tacker/vm/monitor.py: log format error,MERGED,2015-05-12 22:56:24.000000000,2015-05-12 23:00:51.000000000,2015-05-12 23:00:50.000000000,"[{'_account_id': 3}, {'_account_id': 333}]","[{'number': 1, 'created': '2015-05-12 22:56:24.000000000', 'files': ['tacker/vm/monitor.py'], 'web_link': 'https://opendev.org/openstack/tacker/commit/cc7f5ef6f31762a38608c1320f430c02861d4d50', 'message': 'tacker/vm/monitor.py: log format error\n\nChange-Id: I429a312092452e1a9b89d6c99e2d41f47e09d135\n'}]",0,182490,cc7f5ef6f31762a38608c1320f430c02861d4d50,6,2,1,333,,,0,"tacker/vm/monitor.py: log format error

Change-Id: I429a312092452e1a9b89d6c99e2d41f47e09d135
",git fetch https://review.opendev.org/openstack/tacker refs/changes/90/182490/1 && git format-patch -1 --stdout FETCH_HEAD,['tacker/vm/monitor.py'],1,cc7f5ef6f31762a38608c1320f430c02861d4d50,refresh," LOG.debug('deleting device_id %(device_id)s', {'device_id': device_id})"," LOG.debug('deleting device_id %(device_id)s, Mgmt IP %(ip)s', {'device_id': device_id})",1,2
openstack%2Fcompute-hyperv~master~I14aba8b14b7036a09a8dde8235fd4345af4da510,openstack/compute-hyperv,master,I14aba8b14b7036a09a8dde8235fd4345af4da510,Adds Hyper-V vNic hot-plug implementation,MERGED,2015-04-23 14:32:14.000000000,2015-05-12 22:56:30.000000000,2015-05-12 22:56:29.000000000,"[{'_account_id': 3}, {'_account_id': 8213}, {'_account_id': 8543}]","[{'number': 1, 'created': '2015-04-23 14:32:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/compute-hyperv/commit/1a0fc0b1a70ac1305c110d62be4e0dfc3cc68cc2', 'message': ""Adds Hyper-V vNic hot-plug implementation\n\nThe new Hyper-V version adds support for adding and removing\nvNICs on a running instance.\n\nThis is a driver feature parity blueprint.\n\nImplementation is straightforward and consists in providing the\nvirt driver's class attach_interface and detach_interface methods.\n\nImplements: blueprint hyper-v-vnic-hot-plug\n\nChange-Id: I14aba8b14b7036a09a8dde8235fd4345af4da510\n""}, {'number': 2, 'created': '2015-04-30 21:20:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/compute-hyperv/commit/1b65840142ba768c1cf947d0d0033bbf9c0e9bb6', 'message': ""Adds Hyper-V vNic hot-plug implementation\n\nThe new Hyper-V version adds support for adding and removing\nvNICs on a running instance.\n\nThis is a driver feature parity blueprint.\n\nImplementation is straightforward and consists in providing the\nvirt driver's class attach_interface and detach_interface methods.\n\nImplements: blueprint hyper-v-vnic-hot-plug\n\nChange-Id: I14aba8b14b7036a09a8dde8235fd4345af4da510\n""}, {'number': 3, 'created': '2015-05-04 08:45:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/compute-hyperv/commit/4d8cbeb9aa7c1c3352a595c4a0b38cc044f47858', 'message': ""Adds Hyper-V vNic hot-plug implementation\n\nThe new Hyper-V version adds support for adding and removing\nvNICs on a running instance.\n\nThis is a driver feature parity blueprint.\n\nImplementation is straightforward and consists in providing the\nvirt driver's class attach_interface and detach_interface methods.\n\nImplements: blueprint hyper-v-vnic-hot-plug\n\nChange-Id: I14aba8b14b7036a09a8dde8235fd4345af4da510\n""}, {'number': 4, 'created': '2015-05-04 13:24:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/compute-hyperv/commit/2d2308ed45267e2afc4d2358d1c854ed70e2ffe9', 'message': ""Adds Hyper-V vNic hot-plug implementation\n\nThe new Hyper-V version adds support for adding and removing\nvNICs on a running instance.\n\nThis is a driver feature parity blueprint.\n\nImplementation is straightforward and consists in providing the\nvirt driver's class attach_interface and detach_interface methods.\n\nImplements: blueprint hyper-v-vnic-hot-plug\n\nChange-Id: I14aba8b14b7036a09a8dde8235fd4345af4da510\n""}, {'number': 5, 'created': '2015-05-05 09:27:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/compute-hyperv/commit/c2a2c9499ec1f42f0e3139cc6a1984035eba5c48', 'message': ""Adds Hyper-V vNic hot-plug implementation\n\nThe new Hyper-V version adds support for adding and removing\nvNICs on a running instance.\n\nThis is a driver feature parity blueprint.\n\nImplementation is straightforward and consists in providing the\nvirt driver's class attach_interface and detach_interface methods.\n\nImplements: blueprint hyper-v-vnic-hot-plug\n\nChange-Id: I14aba8b14b7036a09a8dde8235fd4345af4da510\n""}, {'number': 6, 'created': '2015-05-06 22:25:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/compute-hyperv/commit/f08d246f802f685c1aa7b3035cb86d3eed95f5c6', 'message': ""Adds Hyper-V vNic hot-plug implementation\n\nThe new Hyper-V version adds support for adding and removing\nvNICs on a running instance.\n\nThis is a driver feature parity blueprint.\n\nImplementation is straightforward and consists in providing the\nvirt driver's class attach_interface and detach_interface methods.\n\nImplements: blueprint hyper-v-vnic-hot-plug\n\nChange-Id: I14aba8b14b7036a09a8dde8235fd4345af4da510\n""}, {'number': 7, 'created': '2015-05-06 22:28:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/compute-hyperv/commit/51058effae97b113c4861e9dc366abfcc7208d18', 'message': ""Adds Hyper-V vNic hot-plug implementation\n\nThe new Hyper-V version adds support for adding and removing\nvNICs on a running instance.\n\nThis is a driver feature parity blueprint.\n\nImplementation is straightforward and consists in providing the\nvirt driver's class attach_interface and detach_interface methods.\n\nImplements: blueprint hyper-v-vnic-hot-plug\n\nChange-Id: I14aba8b14b7036a09a8dde8235fd4345af4da510\n""}, {'number': 8, 'created': '2015-05-06 22:40:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/compute-hyperv/commit/32beb7a163968ce858d61b9481244cbc1b579207', 'message': ""Adds Hyper-V vNic hot-plug implementation\n\nThe new Hyper-V version adds support for adding and removing\nvNICs on a running instance.\n\nThis is a driver feature parity blueprint.\n\nImplementation is straightforward and consists in providing the\nvirt driver's class attach_interface and detach_interface methods.\n\nImplements: blueprint hyper-v-vnic-hot-plug\n\nChange-Id: I14aba8b14b7036a09a8dde8235fd4345af4da510\n""}, {'number': 9, 'created': '2015-05-07 10:03:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/compute-hyperv/commit/76c14c22ce016ba26fb884892f8082e67f39dd8f', 'message': ""Adds Hyper-V vNic hot-plug implementation\n\nThe new Hyper-V version adds support for adding and removing\nvNICs on a running instance.\n\nThis is a driver feature parity blueprint.\n\nImplementation is straightforward and consists in providing the\nvirt driver's class attach_interface and detach_interface methods.\n\nImplements: blueprint hyper-v-vnic-hot-plug\n\nChange-Id: I14aba8b14b7036a09a8dde8235fd4345af4da510\n""}, {'number': 10, 'created': '2015-05-07 10:18:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/compute-hyperv/commit/3be7fd774f9ddf3dca4695950ae7f631caea7ee4', 'message': ""Adds Hyper-V vNic hot-plug implementation\n\nThe new Hyper-V version adds support for adding and removing\nvNICs on a running instance.\n\nThis is a driver feature parity blueprint.\n\nImplementation is straightforward and consists in providing the\nvirt driver's class attach_interface and detach_interface methods.\n\nImplements: blueprint hyper-v-vnic-hot-plug\n\nChange-Id: I14aba8b14b7036a09a8dde8235fd4345af4da510\n""}, {'number': 11, 'created': '2015-05-12 21:50:13.000000000', 'files': ['hyperv/nova/vmops.py', 'hyperv/nova/driver.py', 'hyperv/nova/vmutils.py', 'hyperv/tests/unit/test_vmops.py', 'hyperv/tests/unit/test_vmutils.py'], 'web_link': 'https://opendev.org/openstack/compute-hyperv/commit/bc9abe0930a0a7368cf992578dcf6b6c32c80e7a', 'message': ""Adds Hyper-V vNic hot-plug implementation\n\nThe new Hyper-V version adds support for adding and removing\nvNICs on a running instance.\n\nThis is a driver feature parity blueprint.\n\nImplementation is straightforward and consists in providing the\nvirt driver's class attach_interface and detach_interface methods.\n\nImplements: blueprint hyper-v-vnic-hot-plug\n\nChange-Id: I14aba8b14b7036a09a8dde8235fd4345af4da510\n""}]",17,176772,bc9abe0930a0a7368cf992578dcf6b6c32c80e7a,30,3,11,12604,,,0,"Adds Hyper-V vNic hot-plug implementation

The new Hyper-V version adds support for adding and removing
vNICs on a running instance.

This is a driver feature parity blueprint.

Implementation is straightforward and consists in providing the
virt driver's class attach_interface and detach_interface methods.

Implements: blueprint hyper-v-vnic-hot-plug

Change-Id: I14aba8b14b7036a09a8dde8235fd4345af4da510
",git fetch https://review.opendev.org/openstack/compute-hyperv refs/changes/72/176772/10 && git format-patch -1 --stdout FETCH_HEAD,"['hyperv/nova/vmops.py', 'hyperv/nova/driver.py', 'hyperv/nova/vmutils.py', 'hyperv/tests/unit/test_vmops.py', 'hyperv/tests/unit/test_vmutils.py']",5,1a0fc0b1a70ac1305c110d62be4e0dfc3cc68cc2,kilo-features," @mock.patch.object(vmutils.VMUtils, '_get_nic_data_by_name') def test_destroy_nic(self, mock_get_nic_data_by_name): self._lookup_vm() fake_nic_data = mock.MagicMock() mock_get_nic_data_by_name.return_value = fake_nic_data with mock.patch.object(self._vmutils, '_remove_virt_resource') as mock_rem_virt_res: self._vmutils.destroy_nic(self._FAKE_VM_NAME, mock.sentinel.FAKE_NIC_NAME) mock_rem_virt_res.assert_called_once_with(fake_nic_data, self._FAKE_VM_PATH) ",,193,0
openstack%2Foctavia~master~Ic7e2a1a32600194959d0c02179bbb0986bfe1413,openstack/octavia,master,Ic7e2a1a32600194959d0c02179bbb0986bfe1413,Fixed a parameter issue for config drive files,MERGED,2015-05-12 17:48:11.000000000,2015-05-12 22:53:33.000000000,2015-05-12 22:53:31.000000000,"[{'_account_id': 3}, {'_account_id': 6951}, {'_account_id': 10850}]","[{'number': 1, 'created': '2015-05-12 17:48:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/1bf3348ee6e3c44b7b840b43914f79539debfb3e', 'message': 'Fixed a parameter issue for config drive files\n\nThe parameters passed to novaclient create for config drive\nfiles and user data were incorrect.\n\nChange-Id: Ic7e2a1a32600194959d0c02179bbb0986bfe1413\n'}, {'number': 2, 'created': '2015-05-12 17:58:47.000000000', 'files': ['octavia/compute/drivers/nova_driver.py', 'octavia/tests/unit/compute/drivers/test_nova_driver.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/b03a4d08b2314a216cf5713259eb63f1664ba360', 'message': 'Fixed a parameter issue for config drive files\n\nThe parameters passed to novaclient create for config drive\nfiles and user data were incorrect.\n\nChange-Id: Ic7e2a1a32600194959d0c02179bbb0986bfe1413\n'}]",0,182395,b03a4d08b2314a216cf5713259eb63f1664ba360,10,3,2,11628,,,0,"Fixed a parameter issue for config drive files

The parameters passed to novaclient create for config drive
files and user data were incorrect.

Change-Id: Ic7e2a1a32600194959d0c02179bbb0986bfe1413
",git fetch https://review.opendev.org/openstack/octavia refs/changes/95/182395/2 && git format-patch -1 --stdout FETCH_HEAD,['octavia/compute/drivers/nova_driver.py'],1,1bf3348ee6e3c44b7b840b43914f79539debfb3e,master," files=config_drive_files, userdata=user_data,"," config_drive_files=config_drive_files, user_data=user_data,",2,2
openstack%2Fnova~master~I5c503005598d9299db330463b8ffaeb383377b37,openstack/nova,master,I5c503005598d9299db330463b8ffaeb383377b37,Remove db layer hard-code permission checks for network_get_all_by_host,MERGED,2015-03-05 06:54:32.000000000,2015-05-12 22:46:47.000000000,2015-05-12 22:46:43.000000000,"[{'_account_id': 3}, {'_account_id': 782}, {'_account_id': 2271}, {'_account_id': 2750}, {'_account_id': 5754}, {'_account_id': 6167}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11103}]","[{'number': 1, 'created': '2015-03-05 06:54:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6a16c825b501d9924a1ddd6e8fb95389acac681e', 'message': 'Remove db layer hard-code permission checks for network_get_all_by_host\n\nThis patches removes db layer hard-code permission checks for\nnetwork_get_all_by_host.\n\nIt is called by the follow function:\n    init_host\n    _periodic_update_dns\n    update_dns\n\nPartially implements bp v3-api-policy\n\nChange-Id: I5c503005598d9299db330463b8ffaeb383377b37\n'}, {'number': 2, 'created': '2015-03-09 13:02:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ca08217e4eceea5c6daed859fcd5971252841541', 'message': 'Remove db layer hard-code permission checks for network_get_all_by_host\n\nThis patches removes db layer hard-code permission checks for\nnetwork_get_all_by_host.\n\nIt is called by the follow function:\n  1. init_host, context is elevated.\n  2. _periodic_update_dns, is periodic task\n  3. update_dns it is call by\n     network.manager.allocate_for_instance and\n     nova.network.manager.add_fixed_ip_to_instance\n     this is fixed by https://review.openstack.org/#/c/150687\n\nPartially implements bp v3-api-policy\n\nChange-Id: I5c503005598d9299db330463b8ffaeb383377b37\n'}, {'number': 3, 'created': '2015-04-23 07:17:18.000000000', 'files': ['nova/db/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/5fbd852f84c4bfc8184baa49cc858225ead4ae8a', 'message': 'Remove db layer hard-code permission checks for network_get_all_by_host\n\nThis patches removes db layer hard-code permission checks for\nnetwork_get_all_by_host.\n\nIt is called by the follow function:\n  1. init_host, context is elevated.\n  2. _periodic_update_dns, is periodic task\n  3. update_dns it is call by\n     network.manager.allocate_for_instance and\n     nova.network.manager.add_fixed_ip_to_instance\n     this is fixed by https://review.openstack.org/#/c/150687\n\nPartially implements bp nova-api-policy-final-part\n\nChange-Id: I5c503005598d9299db330463b8ffaeb383377b37\n'}]",0,161629,5fbd852f84c4bfc8184baa49cc858225ead4ae8a,26,11,3,14131,,,0,"Remove db layer hard-code permission checks for network_get_all_by_host

This patches removes db layer hard-code permission checks for
network_get_all_by_host.

It is called by the follow function:
  1. init_host, context is elevated.
  2. _periodic_update_dns, is periodic task
  3. update_dns it is call by
     network.manager.allocate_for_instance and
     nova.network.manager.add_fixed_ip_to_instance
     this is fixed by https://review.openstack.org/#/c/150687

Partially implements bp nova-api-policy-final-part

Change-Id: I5c503005598d9299db330463b8ffaeb383377b37
",git fetch https://review.opendev.org/openstack/nova refs/changes/29/161629/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/db/sqlalchemy/api.py'],1,6a16c825b501d9924a1ddd6e8fb95389acac681e,bp/nova-api-policy-final-part,,@require_admin_context,0,1
openstack%2Ffuel-library~master~Iad65c82b76e697fcab0585baacd4873de3612378,openstack/fuel-library,master,Iad65c82b76e697fcab0585baacd4873de3612378,pass 'jacks' property to l2:Patch resource,MERGED,2015-05-12 19:08:04.000000000,2015-05-12 22:45:47.000000000,2015-05-12 22:45:12.000000000,"[{'_account_id': 3}, {'_account_id': 8786}, {'_account_id': 8971}, {'_account_id': 13343}, {'_account_id': 14774}]","[{'number': 1, 'created': '2015-05-12 19:08:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/77cbbb786521adff1b8c523e5fba22f53e052d21', 'message': ""pass 'jacks' property to l2:Patch resource\n\nCloses-bug: #1454278\nChange-Id: Iad65c82b76e697fcab0585baacd4873de3612378\n""}, {'number': 2, 'created': '2015-05-12 21:22:09.000000000', 'files': ['deployment/puppet/l23network/lib/puppet/type/l2_patch.rb', 'deployment/puppet/l23network/manifests/l2/patch.pp'], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/69fa324b81ad503d3f0e19c9a8771db988b9a5fb', 'message': ""pass 'jacks' property to l2:Patch resource\n\nCloses-bug: #1454278\nChange-Id: Iad65c82b76e697fcab0585baacd4873de3612378\n""}]",0,182417,69fa324b81ad503d3f0e19c9a8771db988b9a5fb,40,5,2,7468,,,0,"pass 'jacks' property to l2:Patch resource

Closes-bug: #1454278
Change-Id: Iad65c82b76e697fcab0585baacd4873de3612378
",git fetch https://review.opendev.org/openstack/fuel-library refs/changes/17/182417/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/puppet/l23network/lib/puppet/type/l2_patch.rb', 'deployment/puppet/l23network/manifests/l2/patch.pp']",2,77cbbb786521adff1b8c523e5fba22f53e052d21,bug/1454278," jacks => $patch_jacks_names,",,13,0
openstack%2Fcloudkitty~master~I92889a61f7970c5d1bbb8919deeb160e65ae4739,openstack/cloudkitty,master,I92889a61f7970c5d1bbb8919deeb160e65ae4739,Fixed dashboard installation with devstack,MERGED,2015-05-12 22:21:59.000000000,2015-05-12 22:36:44.000000000,2015-05-12 22:36:43.000000000,"[{'_account_id': 3}, {'_account_id': 7042}]","[{'number': 1, 'created': '2015-05-12 22:21:59.000000000', 'files': ['devstack/plugin.sh'], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/dc5f8c72951711669f6987e03033a38d833b08fc', 'message': 'Fixed dashboard installation with devstack\n\nChange-Id: I92889a61f7970c5d1bbb8919deeb160e65ae4739\n'}]",0,182478,dc5f8c72951711669f6987e03033a38d833b08fc,6,2,1,7042,,,0,"Fixed dashboard installation with devstack

Change-Id: I92889a61f7970c5d1bbb8919deeb160e65ae4739
",git fetch https://review.opendev.org/openstack/cloudkitty refs/changes/78/182478/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/plugin.sh'],1,dc5f8c72951711669f6987e03033a38d833b08fc,fix/devstack_plugin," rm -f $CLOUDKITTY_HORIZON_ENABLED_FILE} # configure_cloudkitty_dashboard() - Set config files, create data dirs, etc function configure_cloudkitty_dashboard { if [[ ""$1"" == ""stack"" && ""$2"" == ""install"" ]]; then if is_service_enabled horizon; then configure_cloudkitty_dashboard fi"," sudo rm $CLOUDKITTY_HORIZON_ENABLED_FILE if [[ ""$1"" == ""source"" ]]; then # Initial source source $TOP_DIR/lib/cloudkitty elif [[ ""$1"" == ""stack"" && ""$2"" == ""install"" ]]; then",9,6
openstack%2Foslo.config~stable%2Fjuno~I1be5aed0661a9278af313afb667b7a3a5155153e,openstack/oslo.config,stable/juno,I1be5aed0661a9278af313afb667b7a3a5155153e,Updated from global requirements,MERGED,2015-04-22 12:46:55.000000000,2015-05-12 22:36:33.000000000,2015-05-12 22:36:32.000000000,"[{'_account_id': 3}, {'_account_id': 5196}, {'_account_id': 6873}]","[{'number': 1, 'created': '2015-04-22 12:46:55.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/oslo.config/commit/6b4b23bdfea1bad2b86650a0c408e3365bc513ff', 'message': 'Updated from global requirements\n\nChange-Id: I1be5aed0661a9278af313afb667b7a3a5155153e\n'}]",0,176281,6b4b23bdfea1bad2b86650a0c408e3365bc513ff,7,3,1,11131,,,0,"Updated from global requirements

Change-Id: I1be5aed0661a9278af313afb667b7a3a5155153e
",git fetch https://review.opendev.org/openstack/oslo.config refs/changes/81/176281/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,6b4b23bdfea1bad2b86650a0c408e3365bc513ff,openstack/requirements,"stevedore>=1.0.0,<=1.3.0 # Apache-2.0","stevedore>=1.0.0,<=1.2.0 # Apache-2.0",1,1
openstack%2Foslo.messaging~stable%2Fjuno~I7e85125c2f9c858631fdae77d18a72803cc72b5f,openstack/oslo.messaging,stable/juno,I7e85125c2f9c858631fdae77d18a72803cc72b5f,Updated from global requirements,MERGED,2015-04-22 12:47:01.000000000,2015-05-12 22:27:56.000000000,2015-05-12 22:27:55.000000000,"[{'_account_id': 3}, {'_account_id': 5196}, {'_account_id': 6873}]","[{'number': 1, 'created': '2015-04-22 12:47:01.000000000', 'files': ['requirements.txt', 'requirements-py3.txt'], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/228badecc543da94bed3507c1efc30a4a4517552', 'message': 'Updated from global requirements\n\nChange-Id: I7e85125c2f9c858631fdae77d18a72803cc72b5f\n'}]",0,176283,228badecc543da94bed3507c1efc30a4a4517552,7,3,1,11131,,,0,"Updated from global requirements

Change-Id: I7e85125c2f9c858631fdae77d18a72803cc72b5f
",git fetch https://review.opendev.org/openstack/oslo.messaging refs/changes/83/176283/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'requirements-py3.txt']",2,228badecc543da94bed3507c1efc30a4a4517552,openstack/requirements,"oslo.utils>=1.4.0,<1.5.0 # Apache-2.0 stevedore>=1.0.0,<=1.3.0 # Apache-2.0","oslo.utils>=1.0.0,<=1.2.1 # Apache-2.0 stevedore>=1.0.0,<=1.2.0 # Apache-2.0",4,4
openstack%2Fcloudkitty-dashboard~master~I888d746491d5f430ec8d569323d0334527cf3a8a,openstack/cloudkitty-dashboard,master,I888d746491d5f430ec8d569323d0334527cf3a8a,Changed fields order in Hashmap panel,MERGED,2015-05-12 22:16:15.000000000,2015-05-12 22:26:00.000000000,2015-05-12 22:26:00.000000000,"[{'_account_id': 3}, {'_account_id': 7042}]","[{'number': 1, 'created': '2015-05-12 22:16:15.000000000', 'files': ['cloudkittydashboard/dashboards/admin/hashmap/tables.py', 'cloudkittydashboard/dashboards/admin/hashmap/forms.py'], 'web_link': 'https://opendev.org/openstack/cloudkitty-dashboard/commit/2ae64218d68020514ab2c0fe2bfe1ed7ed8973ba', 'message': 'Changed fields order in Hashmap panel\n\nChange-Id: I888d746491d5f430ec8d569323d0334527cf3a8a\n'}]",0,182475,2ae64218d68020514ab2c0fe2bfe1ed7ed8973ba,6,2,1,7042,,,0,"Changed fields order in Hashmap panel

Change-Id: I888d746491d5f430ec8d569323d0334527cf3a8a
",git fetch https://review.opendev.org/openstack/cloudkitty-dashboard refs/changes/75/182475/1 && git format-patch -1 --stdout FETCH_HEAD,"['cloudkittydashboard/dashboards/admin/hashmap/tables.py', 'cloudkittydashboard/dashboards/admin/hashmap/forms.py']",2,2ae64218d68020514ab2c0fe2bfe1ed7ed8973ba,refactor/hashmap_fields_ordering," cost = forms.DecimalField(label=_(""Cost"")) cost = forms.DecimalField(label=_(""Cost""))class CreateFieldMappingForm(forms.SelfHandlingForm): value = forms.CharField(label=_(""Value"")) type = forms.ChoiceField(label=_(""Type""), choices=((""flat"", _(""Flat"")), (""rate"", _(""Rate"")))) cost = forms.DecimalField(label=_(""Cost"")) group_id = forms.CharField(label=_(""Group""), required=False) def handle(self, request, data): mapping_client = api.cloudkittyclient(request).hashmap.mappings mapping = {k: v for k, v in data.items() if v and v != ''} return mapping_client.create(**mapping) class CreateServiceMappingForm(forms.SelfHandlingForm): type = forms.ChoiceField(label=_(""Type""), choices=((""flat"", _(""Flat"")), (""rate"", _(""Rate"")))) cost = forms.DecimalField(label=_(""Cost"")) group_id = forms.CharField(label=_(""Group""), required=False) def handle(self, request, data): mapping_client = api.cloudkittyclient(request).hashmap.mappings mapping = {k: v for k, v in data.items() if v and v != ''} return mapping_client.create(**mapping) ","class CreateMappingForm(forms.SelfHandlingForm): cost = forms.DecimalField(label=_(""Cost"")) type = forms.ChoiceField(label=_(""Type""), choices=((""flat"", _(""Flat"")), (""rate"", _(""Rate"")))) group_id = forms.CharField(label=_(""Group""), required=False) def handle(self, request, data): mapping_client = api.cloudkittyclient(request).hashmap.mappings mapping = {k: v for k, v in data.items() if v and v != ''} return mapping_client.create(**mapping) cost = forms.DecimalField(label=_(""Cost"")) cost = forms.DecimalField(label=_(""Cost""))class CreateFieldMappingForm(CreateMappingForm): value = forms.CharField(label=_(""Value"")) def __init__(self, *args, **kwargs): super(CreateFieldMappingForm, self).__init__(*args, **kwargs) self.fields.keyOrder = ['value', 'cost', 'type', 'group_id', 'field_id'] class CreateServiceMappingForm(CreateMappingForm):",29,31
openstack%2Fcompute-hyperv~master~I91fabd5bce2564d48957e8aec1e50ff2625e5747,openstack/compute-hyperv,master,I91fabd5bce2564d48957e8aec1e50ff2625e5747,Adds RemoteFX support to the Hyper-V driver,MERGED,2015-04-15 14:13:07.000000000,2015-05-12 22:09:17.000000000,2015-05-12 22:09:17.000000000,"[{'_account_id': 3}, {'_account_id': 8213}]","[{'number': 1, 'created': '2015-04-15 14:13:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/compute-hyperv/commit/9e21da388602d585ff45a308e5153fb9fc81f5e3', 'message': 'Adds RemoteFX support to the Hyper-V driver\n\nBlueprint: hyper-v-remotefx\n\nMicrosoft RemoteFX enhances the visual experience in RDP connections,\nincluding providing access to virtualized instances of a physical GPU to\nmultiple guests running on Hyper-V.\n\nIn order to use RemoteFX in Hyper-V 2012 R2, one or more DirectX 11 capable\ndisplay adapters must be present and the RDS-Virtualization server feature\nmust be installed.\n\nThis patch enables RemoteFX on Hyper-V Server / Windows Server 2012 R2\nand above.\n\nDocImpact\nChange-Id: I91fabd5bce2564d48957e8aec1e50ff2625e5747\n'}, {'number': 2, 'created': '2015-04-16 09:50:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/compute-hyperv/commit/22c6d29f1cbd63e467215cfd5bb2b9e81b245560', 'message': 'Adds RemoteFX support to the Hyper-V driver\n\nBlueprint: hyper-v-remotefx\n\nMicrosoft RemoteFX enhances the visual experience in RDP connections,\nincluding providing access to virtualized instances of a physical GPU to\nmultiple guests running on Hyper-V.\n\nIn order to use RemoteFX in Hyper-V 2012 R2, one or more DirectX 11 capable\ndisplay adapters must be present and the RDS-Virtualization server feature\nmust be installed.\n\nThis patch enables RemoteFX on Hyper-V Server / Windows Server 2012 R2\nand above.\n\nDocImpact\nChange-Id: I91fabd5bce2564d48957e8aec1e50ff2625e5747\n'}, {'number': 3, 'created': '2015-04-23 14:32:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/compute-hyperv/commit/0c3a57449282645675203ada7a48aada15bc0fa3', 'message': 'Adds RemoteFX support to the Hyper-V driver\n\nBlueprint: hyper-v-remotefx\n\nMicrosoft RemoteFX enhances the visual experience in RDP connections,\nincluding providing access to virtualized instances of a physical GPU to\nmultiple guests running on Hyper-V.\n\nIn order to use RemoteFX in Hyper-V 2012 R2, one or more DirectX 11 capable\ndisplay adapters must be present and the RDS-Virtualization server feature\nmust be installed.\n\nThis patch enables RemoteFX on Hyper-V Server / Windows Server 2012 R2\nand above.\n\nDocImpact\nChange-Id: I91fabd5bce2564d48957e8aec1e50ff2625e5747\n'}, {'number': 4, 'created': '2015-04-30 21:20:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/compute-hyperv/commit/b3d47802f019d782cdea7b0bf27dfba9dfc677f4', 'message': 'Adds RemoteFX support to the Hyper-V driver\n\nBlueprint: hyper-v-remotefx\n\nMicrosoft RemoteFX enhances the visual experience in RDP connections,\nincluding providing access to virtualized instances of a physical GPU to\nmultiple guests running on Hyper-V.\n\nIn order to use RemoteFX in Hyper-V 2012 R2, one or more DirectX 11 capable\ndisplay adapters must be present and the RDS-Virtualization server feature\nmust be installed.\n\nThis patch enables RemoteFX on Hyper-V Server / Windows Server 2012 R2\nand above.\n\nDocImpact\nChange-Id: I91fabd5bce2564d48957e8aec1e50ff2625e5747\n'}, {'number': 5, 'created': '2015-05-04 08:45:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/compute-hyperv/commit/7379a8c862afdb762f497bf2e139a9d71e6e3233', 'message': 'Adds RemoteFX support to the Hyper-V driver\n\nBlueprint: hyper-v-remotefx\n\nMicrosoft RemoteFX enhances the visual experience in RDP connections,\nincluding providing access to virtualized instances of a physical GPU to\nmultiple guests running on Hyper-V.\n\nIn order to use RemoteFX in Hyper-V 2012 R2, one or more DirectX 11 capable\ndisplay adapters must be present and the RDS-Virtualization server feature\nmust be installed.\n\nThis patch enables RemoteFX on Hyper-V Server / Windows Server 2012 R2\nand above.\n\nDocImpact\nChange-Id: I91fabd5bce2564d48957e8aec1e50ff2625e5747\n'}, {'number': 6, 'created': '2015-05-04 13:24:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/compute-hyperv/commit/3fe012d96e3dbe00569ea1e434b500b5c04bfc4c', 'message': 'Adds RemoteFX support to the Hyper-V driver\n\nBlueprint: hyper-v-remotefx\n\nMicrosoft RemoteFX enhances the visual experience in RDP connections,\nincluding providing access to virtualized instances of a physical GPU to\nmultiple guests running on Hyper-V.\n\nIn order to use RemoteFX in Hyper-V 2012 R2, one or more DirectX 11 capable\ndisplay adapters must be present and the RDS-Virtualization server feature\nmust be installed.\n\nThis patch enables RemoteFX on Hyper-V Server / Windows Server 2012 R2\nand above.\n\nDocImpact\nChange-Id: I91fabd5bce2564d48957e8aec1e50ff2625e5747\n'}, {'number': 7, 'created': '2015-05-06 22:25:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/compute-hyperv/commit/007234094f710f152f26424f85c66e043a82ec75', 'message': 'Adds RemoteFX support to the Hyper-V driver\n\nBlueprint: hyper-v-remotefx\n\nMicrosoft RemoteFX enhances the visual experience in RDP connections,\nincluding providing access to virtualized instances of a physical GPU to\nmultiple guests running on Hyper-V.\n\nIn order to use RemoteFX in Hyper-V 2012 R2, one or more DirectX 11 capable\ndisplay adapters must be present and the RDS-Virtualization server feature\nmust be installed.\n\nThis patch enables RemoteFX on Hyper-V Server / Windows Server 2012 R2\nand above.\n\nDocImpact\nChange-Id: I91fabd5bce2564d48957e8aec1e50ff2625e5747\n'}, {'number': 8, 'created': '2015-05-06 22:40:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/compute-hyperv/commit/b535b3634a59a14ce75b5093768ea8298bc99db8', 'message': 'Adds RemoteFX support to the Hyper-V driver\n\nBlueprint: hyper-v-remotefx\n\nMicrosoft RemoteFX enhances the visual experience in RDP connections,\nincluding providing access to virtualized instances of a physical GPU to\nmultiple guests running on Hyper-V.\n\nIn order to use RemoteFX in Hyper-V 2012 R2, one or more DirectX 11 capable\ndisplay adapters must be present and the RDS-Virtualization server feature\nmust be installed.\n\nThis patch enables RemoteFX on Hyper-V Server / Windows Server 2012 R2\nand above.\n\nDocImpact\nChange-Id: I91fabd5bce2564d48957e8aec1e50ff2625e5747\n'}, {'number': 9, 'created': '2015-05-12 21:40:13.000000000', 'files': ['hyperv/nova/hostutils.py', 'hyperv/tests/unit/test_hostops.py', 'hyperv/nova/vmops.py', 'hyperv/nova/hostops.py', 'hyperv/nova/vmutilsv2.py', 'hyperv/nova/constants.py', 'hyperv/tests/unit/test_hostutils.py', 'hyperv/nova/vmutils.py', 'hyperv/tests/unit/test_vmutilsv2.py', 'hyperv/tests/unit/test_vmops.py', 'hyperv/tests/unit/test_hypervapi.py'], 'web_link': 'https://opendev.org/openstack/compute-hyperv/commit/24590966f7bcdcfeb23cecce67aff9ebb4f73e03', 'message': 'Adds RemoteFX support to the Hyper-V driver\n\nBlueprint: hyper-v-remotefx\n\nMicrosoft RemoteFX enhances the visual experience in RDP connections,\nincluding providing access to virtualized instances of a physical GPU to\nmultiple guests running on Hyper-V.\n\nIn order to use RemoteFX in Hyper-V 2012 R2, one or more DirectX 11 capable\ndisplay adapters must be present and the RDS-Virtualization server feature\nmust be installed.\n\nThis patch enables RemoteFX on Hyper-V Server / Windows Server 2012 R2\nand above.\n\nDocImpact\nChange-Id: I91fabd5bce2564d48957e8aec1e50ff2625e5747\n'}]",4,173898,24590966f7bcdcfeb23cecce67aff9ebb4f73e03,23,2,9,12604,,,0,"Adds RemoteFX support to the Hyper-V driver

Blueprint: hyper-v-remotefx

Microsoft RemoteFX enhances the visual experience in RDP connections,
including providing access to virtualized instances of a physical GPU to
multiple guests running on Hyper-V.

In order to use RemoteFX in Hyper-V 2012 R2, one or more DirectX 11 capable
display adapters must be present and the RDS-Virtualization server feature
must be installed.

This patch enables RemoteFX on Hyper-V Server / Windows Server 2012 R2
and above.

DocImpact
Change-Id: I91fabd5bce2564d48957e8aec1e50ff2625e5747
",git fetch https://review.opendev.org/openstack/compute-hyperv refs/changes/98/173898/6 && git format-patch -1 --stdout FETCH_HEAD,"['hyperv/nova/hostutils.py', 'hyperv/nova/vmops.py', 'hyperv/tests/unit/test_hostops.py', 'hyperv/nova/hostops.py', 'hyperv/nova/vmutilsv2.py', 'hyperv/nova/constants.py', 'hyperv/tests/unit/test_hostutils.py', 'hyperv/nova/vmutils.py', 'hyperv/tests/unit/test_vmutilsv2.py', 'hyperv/tests/unit/test_vmops.py', 'hyperv/tests/unit/test_hypervapi.py']",11,9e21da388602d585ff45a308e5153fb9fc81f5e3,kilo-features,from nova.objects import flavor as flavor_objfrom nova.tests.unit.objects import test_flavor instance.flavor = mock.MagicMock() flavor = flavor_obj.Flavor(**test_flavor.fake_flavor) self._instance.flavor = flavor flavor = flavor_obj.Flavor(**test_flavor.fake_flavor) self._instance.flavor = flavor,,407,40
openstack%2Fproject-config~master~Ieca799e069696b460aef8caebda84428643ee259,openstack/project-config,master,Ieca799e069696b460aef8caebda84428643ee259,Make neutron-lbaas-dsvm-api non-voting.,MERGED,2015-05-12 21:16:06.000000000,2015-05-12 21:59:05.000000000,2015-05-12 21:59:03.000000000,"[{'_account_id': 3}, {'_account_id': 1561}, {'_account_id': 2750}, {'_account_id': 4190}, {'_account_id': 5263}, {'_account_id': 10980}]","[{'number': 1, 'created': '2015-05-12 21:16:06.000000000', 'files': ['zuul/layout.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/0c71642b7c49a7eda75c60a33a9cb220bf5aca65', 'message': ""Make neutron-lbaas-dsvm-api non-voting.\n\nThis job is broken.  A patch merged into neutron which breaks this job\nbecause this job isn't actually using the neutron patch it's testing\nagainst:\n\n    https://review.openstack.org/#q,8db41f04d54526104920f3a160203ecf7ef453b0,n,z\n\nThe revert of that patch won't merge because the lbaas-dsvm-api job is\ninstalling neutron master.\n\n    https://review.openstack.org/#/c/182413/1\n\nThis job should be non-voting until it's fixed to properly test the\nright neutron patch(es) instead of neutron master.\n\nChange-Id: Ieca799e069696b460aef8caebda84428643ee259\n""}]",0,182455,0c71642b7c49a7eda75c60a33a9cb220bf5aca65,10,6,1,1561,,,0,"Make neutron-lbaas-dsvm-api non-voting.

This job is broken.  A patch merged into neutron which breaks this job
because this job isn't actually using the neutron patch it's testing
against:

    https://review.openstack.org/#q,8db41f04d54526104920f3a160203ecf7ef453b0,n,z

The revert of that patch won't merge because the lbaas-dsvm-api job is
installing neutron master.

    https://review.openstack.org/#/c/182413/1

This job should be non-voting until it's fixed to properly test the
right neutron patch(es) instead of neutron master.

Change-Id: Ieca799e069696b460aef8caebda84428643ee259
",git fetch https://review.opendev.org/openstack/project-config refs/changes/55/182455/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul/layout.yaml'],1,0c71642b7c49a7eda75c60a33a9cb220bf5aca65,unwedge-neutron, voting: false,,1,0
openstack%2Fcompute-hyperv~master~I4cee52f65968fa503f2c8a2c9a206489719fb15a,openstack/compute-hyperv,master,I4cee52f65968fa503f2c8a2c9a206489719fb15a,Adds Hyper-V OVS ViF driver,MERGED,2015-04-15 10:27:31.000000000,2015-05-12 21:58:44.000000000,2015-05-12 21:58:43.000000000,"[{'_account_id': 3}, {'_account_id': 8213}]","[{'number': 1, 'created': '2015-04-15 10:27:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/compute-hyperv/commit/61a4c658196cba79943d19d8b6c4195ced2b975e', 'message': ""Adds Hyper-V OVS ViF driver\n\nThis branch adds a new ViF driver to the Nova Hyper-V compute driver.\nIt's responsible for creating the OVS port and the related association\nwith the Hyper-V virtual switch port. Aside from the openvswitch binaries\nit has no other dependencies. Flow rules are added by an external agent\nsuch as OpenDaylight or by a Neutron OVS agent.\n\nChange-Id: I4cee52f65968fa503f2c8a2c9a206489719fb15a\nImplements: blueprint hyper-v-ovs-vif\n""}, {'number': 2, 'created': '2015-04-15 11:11:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/compute-hyperv/commit/23c366eb42278c75f6eba0db7aa4b6d578d5ac1d', 'message': ""Adds Hyper-V OVS ViF driver\n\nThis branch adds a new ViF driver to the Nova Hyper-V compute driver.\nIt's responsible for creating the OVS port and the related association\nwith the Hyper-V virtual switch port. Aside from the openvswitch binaries\nit has no other dependencies. Flow rules are added by an external agent\nsuch as OpenDaylight or by a Neutron OVS agent.\n\nChange-Id: I4cee52f65968fa503f2c8a2c9a206489719fb15a\nImplements: blueprint hyper-v-ovs-vif\n""}, {'number': 3, 'created': '2015-04-15 11:29:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/compute-hyperv/commit/d53feb806089213df2c0f657254e0cbac9696029', 'message': ""Adds Hyper-V OVS ViF driver\n\nThis branch adds a new ViF driver to the Nova Hyper-V compute driver.\nIt's responsible for creating the OVS port and the related association\nwith the Hyper-V virtual switch port. Aside from the openvswitch binaries\nit has no other dependencies. Flow rules are added by an external agent\nsuch as OpenDaylight or by a Neutron OVS agent.\n\nChange-Id: I4cee52f65968fa503f2c8a2c9a206489719fb15a\nImplements: blueprint hyper-v-ovs-vif\n""}, {'number': 4, 'created': '2015-04-15 14:13:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/compute-hyperv/commit/e12f3896e4f7ee4a43f6b7f2d6e6483a1ef34604', 'message': ""Adds Hyper-V OVS ViF driver\n\nThis branch adds a new ViF driver to the Nova Hyper-V compute driver.\nIt's responsible for creating the OVS port and the related association\nwith the Hyper-V virtual switch port. Aside from the openvswitch binaries\nit has no other dependencies. Flow rules are added by an external agent\nsuch as OpenDaylight or by a Neutron OVS agent.\n\nChange-Id: I4cee52f65968fa503f2c8a2c9a206489719fb15a\nImplements: blueprint hyper-v-ovs-vif\n""}, {'number': 5, 'created': '2015-04-23 14:32:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/compute-hyperv/commit/27efc1c57cd572ba40add7650dede271aef90671', 'message': ""Adds Hyper-V OVS ViF driver\n\nThis branch adds a new ViF driver to the Nova Hyper-V compute driver.\nIt's responsible for creating the OVS port and the related association\nwith the Hyper-V virtual switch port. Aside from the openvswitch binaries\nit has no other dependencies. Flow rules are added by an external agent\nsuch as OpenDaylight or by a Neutron OVS agent.\n\nChange-Id: I4cee52f65968fa503f2c8a2c9a206489719fb15a\nImplements: blueprint hyper-v-ovs-vif\n""}, {'number': 6, 'created': '2015-04-30 21:20:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/compute-hyperv/commit/d303834ebc046a204e72f20609d4f996533cb938', 'message': ""Adds Hyper-V OVS ViF driver\n\nThis branch adds a new ViF driver to the Nova Hyper-V compute driver.\nIt's responsible for creating the OVS port and the related association\nwith the Hyper-V virtual switch port. Aside from the openvswitch binaries\nit has no other dependencies. Flow rules are added by an external agent\nsuch as OpenDaylight or by a Neutron OVS agent.\n\nChange-Id: I4cee52f65968fa503f2c8a2c9a206489719fb15a\nImplements: blueprint hyper-v-ovs-vif\n""}, {'number': 7, 'created': '2015-05-04 08:45:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/compute-hyperv/commit/781cc6b3916a8371cff0711203838397c3b8c5be', 'message': ""Adds Hyper-V OVS ViF driver\n\nThis branch adds a new ViF driver to the Nova Hyper-V compute driver.\nIt's responsible for creating the OVS port and the related association\nwith the Hyper-V virtual switch port. Aside from the openvswitch binaries\nit has no other dependencies. Flow rules are added by an external agent\nsuch as OpenDaylight or by a Neutron OVS agent.\n\nChange-Id: I4cee52f65968fa503f2c8a2c9a206489719fb15a\nImplements: blueprint hyper-v-ovs-vif\n""}, {'number': 8, 'created': '2015-05-04 13:24:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/compute-hyperv/commit/791869b5d2edc5b5efe135efb0a592a5f59c19a1', 'message': ""Adds Hyper-V OVS ViF driver\n\nThis branch adds a new ViF driver to the Nova Hyper-V compute driver.\nIt's responsible for creating the OVS port and the related association\nwith the Hyper-V virtual switch port. Aside from the openvswitch binaries\nit has no other dependencies. Flow rules are added by an external agent\nsuch as OpenDaylight or by a Neutron OVS agent.\n\nChange-Id: I4cee52f65968fa503f2c8a2c9a206489719fb15a\nImplements: blueprint hyper-v-ovs-vif\n""}, {'number': 9, 'created': '2015-05-06 22:25:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/compute-hyperv/commit/ca1abd484d12ec46a087b5b0a79c152866e6838c', 'message': ""Adds Hyper-V OVS ViF driver\n\nThis branch adds a new ViF driver to the Nova Hyper-V compute driver.\nIt's responsible for creating the OVS port and the related association\nwith the Hyper-V virtual switch port. Aside from the openvswitch binaries\nit has no other dependencies. Flow rules are added by an external agent\nsuch as OpenDaylight or by a Neutron OVS agent.\n\nChange-Id: I4cee52f65968fa503f2c8a2c9a206489719fb15a\nImplements: blueprint hyper-v-ovs-vif\n""}, {'number': 10, 'created': '2015-05-06 22:40:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/compute-hyperv/commit/ce6573f2ee9491af1a37ac4b02aac415e8bc2ae1', 'message': ""Adds Hyper-V OVS ViF driver\n\nThis branch adds a new ViF driver to the Nova Hyper-V compute driver.\nIt's responsible for creating the OVS port and the related association\nwith the Hyper-V virtual switch port. Aside from the openvswitch binaries\nit has no other dependencies. Flow rules are added by an external agent\nsuch as OpenDaylight or by a Neutron OVS agent.\n\nChange-Id: I4cee52f65968fa503f2c8a2c9a206489719fb15a\nImplements: blueprint hyper-v-ovs-vif\n""}, {'number': 11, 'created': '2015-05-12 21:14:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/compute-hyperv/commit/1d03f04653a557745e8fa8adf7c790241163d72d', 'message': ""Adds Hyper-V OVS ViF driver\n\nThis branch adds a new ViF driver to the Nova Hyper-V compute driver.\nIt's responsible for creating the OVS port and the related association\nwith the Hyper-V virtual switch port. Aside from the openvswitch binaries\nit has no other dependencies. Flow rules are added by an external agent\nsuch as OpenDaylight or by a Neutron OVS agent.\n\nChange-Id: I4cee52f65968fa503f2c8a2c9a206489719fb15a\nImplements: blueprint hyper-v-ovs-vif\n""}, {'number': 12, 'created': '2015-05-12 21:40:13.000000000', 'files': ['hyperv/nova/hostutils.py', 'hyperv/nova/vmops.py', 'hyperv/nova/vmutilsv2.py', 'hyperv/nova/vif.py', 'hyperv/nova/migrationops.py', 'hyperv/nova/driver.py', 'hyperv/nova/ovsutils.py', 'hyperv/tests/unit/test_vmops.py', 'hyperv/tests/unit/test_vif.py'], 'web_link': 'https://opendev.org/openstack/compute-hyperv/commit/ff76f3774e54064f9b3b14627226f1038238cc18', 'message': ""Adds Hyper-V OVS ViF driver\n\nThis branch adds a new ViF driver to the Nova Hyper-V compute driver.\nIt's responsible for creating the OVS port and the related association\nwith the Hyper-V virtual switch port. Aside from the openvswitch binaries\nit has no other dependencies. Flow rules are added by an external agent\nsuch as OpenDaylight or by a Neutron OVS agent.\n\nChange-Id: I4cee52f65968fa503f2c8a2c9a206489719fb15a\nImplements: blueprint hyper-v-ovs-vif\n""}]",19,173759,ff76f3774e54064f9b3b14627226f1038238cc18,30,2,12,12604,,,0,"Adds Hyper-V OVS ViF driver

This branch adds a new ViF driver to the Nova Hyper-V compute driver.
It's responsible for creating the OVS port and the related association
with the Hyper-V virtual switch port. Aside from the openvswitch binaries
it has no other dependencies. Flow rules are added by an external agent
such as OpenDaylight or by a Neutron OVS agent.

Change-Id: I4cee52f65968fa503f2c8a2c9a206489719fb15a
Implements: blueprint hyper-v-ovs-vif
",git fetch https://review.opendev.org/openstack/compute-hyperv refs/changes/59/173759/2 && git format-patch -1 --stdout FETCH_HEAD,"['hyperv/nova/hostutils.py', 'hyperv/nova/vmops.py', 'hyperv/nova/vmutilsv2.py', 'hyperv/nova/vif.py', 'hyperv/nova/ovsutils.py', 'hyperv/tests/unit/test_vmops.py', 'hyperv/tests/unit/test_vif.py']",7,61a4c658196cba79943d19d8b6c4195ced2b975e,kilo-features,"# Copyright 2014 Cloudbase Solutions SRL # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. """""" Unit tests for the Hyper-V vif module. """""" import mock from nova.network import model as network_model from oslo_config import cfg from hyperv.nova import vif from hyperv.tests import test from hyperv.tests import fake_instance CONF = cfg.CONF class TestGetVIFDriver(test.NoDBTestCase): def setUp(self): patched_utilsfactory = mock.patch.object(vif, ""utilsfactory"") patched_utilsfactory.start() self.addCleanup(patched_utilsfactory.stop) super(TestGetVIFDriver, self).setUp() def _test_get_vif_driver(self, expected_driver, vif_type, network_class='nova.network.api.API', expected_exception=None): self.flags(network_api_class=network_class) if expected_exception: self.assertRaises(expected_exception, vif.get_vif_driver, vif_type) else: actual_class = type(vif.get_vif_driver(vif_type)) self.assertEqual(expected_driver, actual_class) def test_get_vif_driver_neutron(self): self._test_get_vif_driver( expected_driver=vif.HyperVNeutronVIFDriver, vif_type=network_model.VIF_TYPE_OTHER, network_class='nova.network.neutronv2.api.API') def test_get_vif_driver_nova(self): self._test_get_vif_driver( expected_driver=vif.HyperVNovaNetworkVIFDriver, vif_type=network_model.VIF_TYPE_OTHER, network_class='nova.network.api.API') def test_get_vif_driver_ovs(self): self._test_get_vif_driver(expected_driver=vif.HyperVOVSVIFDriver, vif_type=network_model.VIF_TYPE_OVS) def test_get_vif_driver_invalid_class(self): self._test_get_vif_driver( expected_driver=None, vif_type=network_model.VIF_TYPE_OTHER, network_class='fake.driver', expected_exception=TypeError) class TestHyperVOVSVIFDriver(test.NoDBTestCase): def setUp(self): patched_utilsfactory = mock.patch.object(vif, ""utilsfactory"") patched_utilsfactory.start() self.addCleanup(patched_utilsfactory.stop) self.context = 'fake-context' self.instance = fake_instance.fake_instance_obj(self.context) self._vif = vif.HyperVOVSVIFDriver() self._vif._vmutils = mock.MagicMock() self._vif._netutils = mock.MagicMock() self._fake_vif = { ""address"": ""fake_addr"", ""id"": ""fake_id"", ""network"": { ""bridge"": ""fake_bridge"", } } super(TestHyperVOVSVIFDriver, self).setUp() def test_plug(self): mock_get_external_vswitch = self._vif._netutils.get_external_vswitch mock_set_nic_connection = self._vif._vmutils.set_nic_connection self._vif._netutils.vswitch_port_needed.return_value = False self._vif.plug(self.instance, self._fake_vif) mock_set_nic_connection.assert_called_once_with( self.instance.name, self._fake_vif['id'], mock_get_external_vswitch()) @mock.patch('nova.utils.execute') def test_post_start(self, mock_execute): self._vif.post_start(self.instance, self._fake_vif) calls = [ mock.call('ovs-vsctl', '--timeout=120', '--', '--if-exists', 'del-port', 'fake_id', '--', 'add-port', 'fake_bridge', 'fake_id', '--', 'set', 'Interface', 'fake_id', 'external-ids:iface-id=fake_id', 'external-ids:iface-status=active', 'external-ids:attached-mac=fake_addr', 'external-ids:vm-uuid=%s' % self.instance.uuid) ] mock_execute.assert_has_calls(calls) @mock.patch('nova.utils.execute') def test_unplug(self, mock_execute): calls = [ mock.call( 'ovs-vsctl', '--timeout=120', '--', '--if-exists', 'del-port', 'fake_bridge', 'fake_id') ] self._vif.unplug(self.instance, self._fake_vif) mock_execute.assert_has_calls(calls) ",,308,53
openstack%2Fproject-config~master~Ib6338cdcce3e14ca9191fdc0d1f05e3d2d814125,openstack/project-config,master,Ib6338cdcce3e14ca9191fdc0d1f05e3d2d814125,Add functional test job for python-heatclient,MERGED,2015-05-06 13:19:13.000000000,2015-05-12 21:57:54.000000000,2015-05-12 21:57:52.000000000,"[{'_account_id': 3}, {'_account_id': 6547}, {'_account_id': 6786}]","[{'number': 1, 'created': '2015-05-06 13:19:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/13816eece13785207463095e17cbe5262a9544e3', 'message': 'Add functional test job for python-heatclient\n\nCreate functional test job for python-heatclient, set as non-voting\nuntil its working. The heatclient functional tests will come from the tempest\ncli tests.\n\nChange-Id: Ib6338cdcce3e14ca9191fdc0d1f05e3d2d814125\n'}, {'number': 2, 'created': '2015-05-12 07:49:25.000000000', 'files': ['jenkins/jobs/heat.yaml', 'jenkins/jobs/projects.yaml', 'zuul/layout.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/2f201c551659ab88492b30a6b458a6ccc133a9e1', 'message': 'Add functional test job for python-heatclient\n\nCreate functional test job for python-heatclient, set as non-voting\nuntil its working. The heatclient functional tests will come from the tempest\ncli tests.\n\nChange-Id: Ib6338cdcce3e14ca9191fdc0d1f05e3d2d814125\n'}]",0,180536,2f201c551659ab88492b30a6b458a6ccc133a9e1,12,3,2,6577,,,0,"Add functional test job for python-heatclient

Create functional test job for python-heatclient, set as non-voting
until its working. The heatclient functional tests will come from the tempest
cli tests.

Change-Id: Ib6338cdcce3e14ca9191fdc0d1f05e3d2d814125
",git fetch https://review.opendev.org/openstack/project-config refs/changes/36/180536/1 && git format-patch -1 --stdout FETCH_HEAD,"['jenkins/jobs/heat.yaml', 'jenkins/jobs/projects.yaml', 'zuul/layout.yaml']",3,13816eece13785207463095e17cbe5262a9544e3,180536, - name: ^(gate|check)-heatclient-dsvm-functional$ voting: false experimental: - check-heatclient-dsvm-functional,,46,0
openstack%2Fpython-cinderclient~master~I0ac6573be35c86b9f764a39f1e60486d2345f51b,openstack/python-cinderclient,master,I0ac6573be35c86b9f764a39f1e60486d2345f51b,Add --os-endpoint-type to match other services,MERGED,2015-05-12 13:25:39.000000000,2015-05-12 21:56:06.000000000,2015-05-12 21:56:06.000000000,"[{'_account_id': 3}, {'_account_id': 170}, {'_account_id': 1706}, {'_account_id': 2243}, {'_account_id': 7173}]","[{'number': 1, 'created': '2015-05-12 13:25:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/00727fb253146ccb71d1c8cb714371954ff04a8b', 'message': ""Add --os-endpoint-type to match other services\n\nCinder uses the parameter '--endpoint-type' but other services\n (Glance, Nova, Swift) use '--os-endpoint-type'. (Neutron has deprecated\n 'endpoint-type' in favor or 'os-endpoint-type' as well.\n'--enpoint-type' should be deprecated and 'os-endpoint-type' should\nbe added.\n\nChange-Id: I0ac6573be35c86b9f764a39f1e60486d2345f51b\nCloses-Bug: #1453901\n""}, {'number': 2, 'created': '2015-05-12 13:55:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/9abf4d87b0b9b1664dc2754a85b075b444bb75ef', 'message': ""Add --os-endpoint-type to match other services\n\nCinder uses the parameter '--endpoint-type' but other services\n (Glance, Nova, Swift) use '--os-endpoint-type'. (Neutron has deprecated\n 'endpoint-type' in favor or 'os-endpoint-type' as well.\n'--enpoint-type' should be deprecated and 'os-endpoint-type' should\nbe added.\n\nChange-Id: I0ac6573be35c86b9f764a39f1e60486d2345f51b\nCloses-Bug: #1453901\n""}, {'number': 3, 'created': '2015-05-12 14:48:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/8138d92df4f6a21e8cfe48f4299869b85bb98898', 'message': ""Add --os-endpoint-type to match other services\n\nCinder uses the parameter '--endpoint-type' but other services\n (Glance, Nova, Swift) use '--os-endpoint-type'. (Neutron has deprecated\n 'endpoint-type' in favor or 'os-endpoint-type' as well.\n'--endpoint-type' should be deprecated and 'os-endpoint-type' should\nbe added.\n\nChange-Id: I0ac6573be35c86b9f764a39f1e60486d2345f51b\nCloses-Bug: #1453901\n""}, {'number': 4, 'created': '2015-05-12 15:16:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/5a5783a19a5bafbc0fe9c87a60a3fa0737c51aea', 'message': ""Add --os-endpoint-type to match other services\n\nCinder uses the parameter '--endpoint-type' but other services\n (Glance, Nova, Swift) use '--os-endpoint-type'. (Neutron has deprecated\n 'endpoint-type' in favor or 'os-endpoint-type' as well.\n'--endpoint-type' should be deprecated and 'os-endpoint-type' should\nbe added.\n\nChange-Id: I0ac6573be35c86b9f764a39f1e60486d2345f51b\nCloses-Bug: #1453901\n""}, {'number': 5, 'created': '2015-05-12 15:21:50.000000000', 'files': ['cinderclient/shell.py'], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/24aff3b796a5dc8e086a6593a85a27693f220fd3', 'message': ""Add --os-endpoint-type to match other services\n\nCinder uses the parameter '--endpoint-type' but other services\n (Glance, Nova, Swift) use '--os-endpoint-type'. (Neutron has deprecated\n 'endpoint-type' in favor or 'os-endpoint-type' as well.\n'--endpoint-type' should be deprecated and 'os-endpoint-type' should\nbe added.\n\nChange-Id: I0ac6573be35c86b9f764a39f1e60486d2345f51b\nCloses-Bug: #1453901\n""}]",13,182287,24aff3b796a5dc8e086a6593a85a27693f220fd3,16,5,5,7173,,,0,"Add --os-endpoint-type to match other services

Cinder uses the parameter '--endpoint-type' but other services
 (Glance, Nova, Swift) use '--os-endpoint-type'. (Neutron has deprecated
 'endpoint-type' in favor or 'os-endpoint-type' as well.
'--endpoint-type' should be deprecated and 'os-endpoint-type' should
be added.

Change-Id: I0ac6573be35c86b9f764a39f1e60486d2345f51b
Closes-Bug: #1453901
",git fetch https://review.opendev.org/openstack/python-cinderclient refs/changes/87/182287/2 && git format-patch -1 --stdout FETCH_HEAD,['cinderclient/shell.py'],1,00727fb253146ccb71d1c8cb714371954ff04a8b,," help='DEPRECATED! Use --os-endpoint-type.') parser.add_argument('--os-endpoint-type', metavar='<os-endpoint-type>', default=utils.env('OS_ENDPOINT_TYPE', default=utils.env('CINDER_ENDPOINT_TYPE', default=DEFAULT_CINDER_ENDPOINT_TYPE)), help='Endpoint type, which is publicURL or ' 'internalURL. ' 'Default=env[OS_ENDPOINT_TYPE] or ' 'nova env[CINDER_ENDPOINT_TYPE] or ' + DEFAULT_CINDER_ENDPOINT_TYPE + '.') parser.add_argument('--os-endpoint_type', help=argparse.SUPPRESS) if os_endpoint_type is not None: endpoint_type = os_endpoint_type "," help='Endpoint type, which is publicURL or ' 'internalURL. ' 'Default=nova env[CINDER_ENDPOINT_TYPE] or ' + DEFAULT_CINDER_ENDPOINT_TYPE + '.')",17,4
openstack%2Fpython-openstackclient~stable%2Fkilo~Id64a710e05a7268deafa4f0354499bc4cc75d9fa,openstack/python-openstackclient,stable/kilo,Id64a710e05a7268deafa4f0354499bc4cc75d9fa,Create 1.0.4 release notes,MERGED,2015-05-12 19:59:50.000000000,2015-05-12 21:53:05.000000000,2015-05-12 21:53:04.000000000,"[{'_account_id': 3}, {'_account_id': 970}]","[{'number': 1, 'created': '2015-05-12 19:59:50.000000000', 'files': ['doc/source/releases.rst'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/b10fbc025c2fe9cc4e22f8fa501a242542a57142', 'message': 'Create 1.0.4 release notes\n\nChange-Id: Id64a710e05a7268deafa4f0354499bc4cc75d9fa\n'}]",0,182436,b10fbc025c2fe9cc4e22f8fa501a242542a57142,6,2,1,970,,,0,"Create 1.0.4 release notes

Change-Id: Id64a710e05a7268deafa4f0354499bc4cc75d9fa
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/36/182436/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/releases.rst'],1,b10fbc025c2fe9cc4e22f8fa501a242542a57142,1.0.4,1.0.4 (12 May 2015) =================== * Update stable project library requirements ,,5,0
openstack%2Fproject-config~master~Ie4d06a6e2713f8d5b12582b2963271f10970672e,openstack/project-config,master,Ie4d06a6e2713f8d5b12582b2963271f10970672e,Add experimental glance_store functional test job,MERGED,2015-05-11 17:52:09.000000000,2015-05-12 21:51:20.000000000,2015-05-12 21:51:18.000000000,"[{'_account_id': 3}, {'_account_id': 6547}, {'_account_id': 6786}, {'_account_id': 11356}]","[{'number': 1, 'created': '2015-05-11 17:52:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/a9522ce82ae58dde90724d9e9caec8d86b87fbcc', 'message': 'Add experimental glance_store functional test job\n\nThis adds a test job to run glance_store functional tests with the\nfilesystem driver. After this is up and running, jobs will be added for\neach driver we want to functionally test as they become ready.\n\nChange-Id: Ie4d06a6e2713f8d5b12582b2963271f10970672e\n'}, {'number': 2, 'created': '2015-05-11 17:55:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/be7274d93abab116c509a4898b0505b9cc43244d', 'message': 'Add experimental glance_store functional test job\n\nThis adds a test job to run glance_store functional tests with the\nfilesystem driver. After this is up and running, jobs will be added for\neach driver we want to functionally test as they become ready.\n\nChange-Id: Ie4d06a6e2713f8d5b12582b2963271f10970672e\n'}, {'number': 3, 'created': '2015-05-12 11:10:12.000000000', 'files': ['jenkins/jobs/glance.yaml', 'jenkins/jobs/projects.yaml', 'zuul/layout.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/d4de7db8f122ec98af0def7ab031d36b7ccf6386', 'message': 'Add experimental glance_store functional test job\n\nThis adds a test job to run glance_store functional tests with the\nfilesystem driver. After this is up and running, jobs will be added for\neach driver we want to functionally test as they become ready.\n\nChange-Id: Ie4d06a6e2713f8d5b12582b2963271f10970672e\n'}]",1,182000,d4de7db8f122ec98af0def7ab031d36b7ccf6386,15,4,3,11356,,,0,"Add experimental glance_store functional test job

This adds a test job to run glance_store functional tests with the
filesystem driver. After this is up and running, jobs will be added for
each driver we want to functionally test as they become ready.

Change-Id: Ie4d06a6e2713f8d5b12582b2963271f10970672e
",git fetch https://review.opendev.org/openstack/project-config refs/changes/00/182000/3 && git format-patch -1 --stdout FETCH_HEAD,"['jenkins/jobs/glance.yaml', 'jenkins/jobs/projects.yaml', 'zuul/layout.yaml']",3,a9522ce82ae58dde90724d9e9caec8d86b87fbcc,glance_store-functional-testing, # TODO(kragniz): Enable voting for each driver when the jobs are # functioning for that driver - name: ^(gate|check)-glance_store-dsvm-functional.*$ branch: ^(?!stable/kilo).*$ voting: false experimental: - name: gate-glance_store-dsvm-functional-filesystem,,58,0
openstack%2Frally~master~Icdc895fb829809944791fb48edb8e1f83a1f6bf0,openstack/rally,master,Icdc895fb829809944791fb48edb8e1f83a1f6bf0,Split SLA to base and plugins,MERGED,2015-05-06 12:26:34.000000000,2015-05-12 21:49:32.000000000,2015-05-12 21:38:56.000000000,"[{'_account_id': 3}, {'_account_id': 6172}, {'_account_id': 8576}, {'_account_id': 9545}, {'_account_id': 14817}]","[{'number': 1, 'created': '2015-05-06 12:26:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/249951432ef7e86c809006eb913fc9432b4c35dd', 'message': 'Move SLA under plugins.common\n\nmplements: blueprint split-plugins\n\nChange-Id: Icdc895fb829809944791fb48edb8e1f83a1f6bf0\n'}, {'number': 2, 'created': '2015-05-06 12:56:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/81495c219421243a159845a62b8a7de28833b492', 'message': 'Move SLA under plugins.common\n\nImplements: blueprint split-plugins\n\nChange-Id: Icdc895fb829809944791fb48edb8e1f83a1f6bf0\n'}, {'number': 3, 'created': '2015-05-06 12:58:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/1dc1eb7319064aadbbd7af3980d3054b5166ff2c', 'message': 'Move SLA under plugins.common\n\nImplements: blueprint split-plugins\n\nChange-Id: Icdc895fb829809944791fb48edb8e1f83a1f6bf0\n'}, {'number': 4, 'created': '2015-05-06 14:21:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/854acb60dfea8181e6c20f2fc36ba113bcb1d8b2', 'message': 'Split SLA to base and plugins\n\nMove all subclasses of SLA under plugins/sla\n\nImplements: blueprint split-plugins\n\nChange-Id: Icdc895fb829809944791fb48edb8e1f83a1f6bf0\n'}, {'number': 5, 'created': '2015-05-06 14:35:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/77d5904689c73b4b1108938bc5c676f947415927', 'message': 'Split SLA to base and plugins\n\nMove all subclasses of SLA under plugins/sla\nExtract benchmark.sla.base.py to benchmark.sla.py\nRemove benchmark.sla package\n\nImplements: blueprint split-plugins\n\nChange-Id: Icdc895fb829809944791fb48edb8e1f83a1f6bf0\n'}, {'number': 6, 'created': '2015-05-06 14:57:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/bc04828f53e9805113ff8140958244efe094f172', 'message': 'Split SLA to base and plugins\n\nMove all subclasses of SLA under plugins/sla\nExtract benchmark.sla.base.py to benchmark.sla.py\nRemove benchmark.sla package\n\nImplements: blueprint split-plugins\n\nChange-Id: Icdc895fb829809944791fb48edb8e1f83a1f6bf0\n'}, {'number': 7, 'created': '2015-05-07 08:12:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/1d81f5713597910796af60a024fae3f89e5a3274', 'message': 'Split SLA to base and plugins\n\nMove all subclasses of SLA under plugins/sla\n\nImplements: blueprint split-plugins\n\nChange-Id: Icdc895fb829809944791fb48edb8e1f83a1f6bf0\n'}, {'number': 8, 'created': '2015-05-10 14:51:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/57f1db2fdfde52531a5c9613d1853f9162ebff79', 'message': 'Split SLA to base and plugins\n\nMove all subclasses of SLA under plugins/sla\nSplit sla-plugins to modules\n\nImplements: blueprint split-plugins\n\nChange-Id: Icdc895fb829809944791fb48edb8e1f83a1f6bf0\n'}, {'number': 9, 'created': '2015-05-12 12:03:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/3622dbfd66321953d6abb90c4064e52ab13e139e', 'message': 'Split SLA to base and plugins\n\nMove all subclasses of SLA under plugins/sla\nSplit sla-plugins to modules\n\nImplements: blueprint split-plugins\n\nChange-Id: Icdc895fb829809944791fb48edb8e1f83a1f6bf0\n'}, {'number': 10, 'created': '2015-05-12 13:13:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/0f0b186c1847786818d410035d7667f3378185ad', 'message': 'Split SLA to base and plugins\n\nMove all subclasses of SLA under plugins/sla\nSplit sla-plugins to modules\n\nImplements: blueprint split-plugins\nChange-Id: Icdc895fb829809944791fb48edb8e1f83a1f6bf0\n'}, {'number': 11, 'created': '2015-05-12 13:18:30.000000000', 'files': ['rally/plugins/common/sla/failure_rate.py', 'tests/unit/plugins/common/sla/test_max_average_duration.py', 'rally/plugins/common/sla/iteraion_time.py', 'tests/unit/plugins/common/sla/test_ouliers.py', 'rally/plugins/common/sla/__init__.py', 'tests/unit/benchmark/sla/test_base.py', 'tests/unit/plugins/common/sla/__init__.py', 'tests/unit/plugins/common/sla/test_iteration_time.py', 'tests/unit/cmd/commands/test_info.py', 'rally/benchmark/sla/base.py', 'rally/plugins/common/sla/max_average_duration.py', 'tests/unit/plugins/common/sla/test_failure_rate.py', 'rally/cmd/cliutils.py', 'rally/plugins/common/sla/outliers.py'], 'web_link': 'https://opendev.org/openstack/rally/commit/a06b212b288de1de2a447e9699010cef438a9075', 'message': 'Split SLA to base and plugins\n\nMove all subclasses of SLA under plugins/sla\nSplit sla-plugins to modules\n\nImplements: blueprint split-plugins\nChange-Id: Icdc895fb829809944791fb48edb8e1f83a1f6bf0\n'}]",9,180509,a06b212b288de1de2a447e9699010cef438a9075,44,5,11,8576,,,0,"Split SLA to base and plugins

Move all subclasses of SLA under plugins/sla
Split sla-plugins to modules

Implements: blueprint split-plugins
Change-Id: Icdc895fb829809944791fb48edb8e1f83a1f6bf0
",git fetch https://review.opendev.org/openstack/rally refs/changes/09/180509/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/plugins.rst', 'rally/benchmark/plugins/__init__.py', 'rally/benchmark/sla/__init__.py', 'tests/unit/benchmark/plugins/common/__init__.py', 'rally/benchmark/plugins/common/__init__.py', 'tests/unit/benchmark/sla/test_base.py', 'tests/unit/test_docstrings.py', 'rally/benchmark/engine.py', 'rally/cmd/commands/info.py', 'tests/unit/benchmark/plugins/openstack/__init__.py', 'rally/benchmark/plugins/openstack/__init__.py', 'samples/plugins/sla/sla_plugin.py', 'tests/unit/cmd/commands/test_info.py', 'tests/unit/benchmark/test_engine.py', 'rally/benchmark/sla/base.py', 'tests/unit/benchmark/plugins/__init__.py', 'tests/unit/benchmark/sla/__init__.py']",17,249951432ef7e86c809006eb913fc9432b4c35dd,bp/split-plugins,,,9,632
openstack%2Fpython-swiftclient~master~Ibc62d7bf52755b97c707c2cb4dd0f4ea41a7281e,openstack/python-swiftclient,master,Ibc62d7bf52755b97c707c2cb4dd0f4ea41a7281e,Actually function under python 3,ABANDONED,2015-04-29 18:26:37.000000000,2015-05-12 21:44:10.000000000,,"[{'_account_id': 3}, {'_account_id': 597}, {'_account_id': 7847}, {'_account_id': 15343}]","[{'number': 1, 'created': '2015-04-29 18:26:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-swiftclient/commit/c0045666c52c64c2a9a3ca0ca3b969202140de8d', 'message': ""Actually function under python 3\n\nPreviously, we would pass raw bytes to json.loads, causing a TypeError\nunder python 3. This would prevent getting server capabilities, listing\naccounts, listing containers, and cleaning up SLOs on overwrites.\nAdditionally, our tests missed the error by improperly mocking the\nrequests library.\n\nNow, when calling json.loads, we'll either:\n * let the requests library detect and decode the body for us, by using\n   Response.text, or\n * for SLO manifests, decode the response body ourselves. We do this\n   because get_object *should* return a byte stream, and we know the\n   server used UTF-8.\n\nFurther, the tests are cleaned up such that fake responses have bodies\nthat are always bytes and a text property that will decode those bytes\nas UTF-8.\n\nChange-Id: Ibc62d7bf52755b97c707c2cb4dd0f4ea41a7281e\n""}, {'number': 2, 'created': '2015-04-30 19:18:52.000000000', 'files': ['tests/unit/test_service.py', 'tests/unit/test_swiftclient.py', 'tests/unit/test_shell.py', 'swiftclient/client.py', 'swiftclient/service.py', 'tests/unit/utils.py'], 'web_link': 'https://opendev.org/openstack/python-swiftclient/commit/8fa895798dc370981f30c8cd75e9ed4c6bda679e', 'message': ""Actually function under python 3\n\nPreviously, we would pass raw bytes to json.loads, causing a TypeError\nunder python 3. This would prevent getting server capabilities, listing\naccounts, listing containers, cleaning up SLOs on overwrites, and\nuploading with --skip-identical to an existing SLO.  Additionally, our\ntests missed the error by improperly mocking the requests library.\n\nNow, when calling json.loads, we'll either:\n * let the requests library detect and decode the body for us, by using\n   Response.text, or\n * for SLO manifests, decode the response body ourselves. We do this\n   because get_object *should* return a byte stream, and we know the\n   server used UTF-8.\n\nFurther, the tests are cleaned up such that fake responses have bodies\nthat are always bytes and a text property that will decode those bytes\nas UTF-8.\n\nChange-Id: Ibc62d7bf52755b97c707c2cb4dd0f4ea41a7281e\n""}]",0,178793,8fa895798dc370981f30c8cd75e9ed4c6bda679e,10,4,2,15343,,,0,"Actually function under python 3

Previously, we would pass raw bytes to json.loads, causing a TypeError
under python 3. This would prevent getting server capabilities, listing
accounts, listing containers, cleaning up SLOs on overwrites, and
uploading with --skip-identical to an existing SLO.  Additionally, our
tests missed the error by improperly mocking the requests library.

Now, when calling json.loads, we'll either:
 * let the requests library detect and decode the body for us, by using
   Response.text, or
 * for SLO manifests, decode the response body ourselves. We do this
   because get_object *should* return a byte stream, and we know the
   server used UTF-8.

Further, the tests are cleaned up such that fake responses have bodies
that are always bytes and a text property that will decode those bytes
as UTF-8.

Change-Id: Ibc62d7bf52755b97c707c2cb4dd0f4ea41a7281e
",git fetch https://review.opendev.org/openstack/python-swiftclient refs/changes/93/178793/2 && git format-patch -1 --stdout FETCH_HEAD,"['tests/unit/test_swiftclient.py', 'tests/unit/test_shell.py', 'swiftclient/client.py', 'swiftclient/service.py', 'tests/unit/utils.py']",5,c0045666c52c64c2a9a3ca0ca3b969202140de8d,python3-json-support," # Since we're mocking a Swift server, we can assume the response # should be in UTF-8 if isinstance(body, six.text_type): self.body = self.body.encode('utf-8') # Since we're mocking a Swift server, we can assume the response # should be in UTF-8 if isinstance(body, six.text_type): self.body = self.body.encode('utf-8') @property def text(self): # Since we're mocking a Swift server, we can assume the response # would have included enough information for the requests library # to detect that the server sent a UTF-8 body return self.read().decode('utf-8') ",,27,11
openstack%2Fproject-config~master~Ie27db60dc06c8775316b76ad6f23fe2012ea0225,openstack/project-config,master,Ie27db60dc06c8775316b76ad6f23fe2012ea0225,Add devstack gate job for Cue project,MERGED,2015-05-06 22:18:37.000000000,2015-05-12 21:38:50.000000000,2015-05-12 21:38:49.000000000,"[{'_account_id': 3}, {'_account_id': 6547}, {'_account_id': 6786}]","[{'number': 1, 'created': '2015-05-06 22:18:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/0516d5fee74854cab43da5b3e9f1b42c2394baec', 'message': 'Add devstack gate job for Cue project\n\nThis job will run the API tests on devstack environment\n\nChange-Id: Ie27db60dc06c8775316b76ad6f23fe2012ea0225\n'}, {'number': 2, 'created': '2015-05-08 20:51:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/3ae5c6e4c134c6383bf312e2b0799a83d30e157d', 'message': 'Add devstack gate job for Cue project\n\nThis job will run the API tests on devstack environment\n\nChange-Id: Ie27db60dc06c8775316b76ad6f23fe2012ea0225\n'}, {'number': 3, 'created': '2015-05-11 17:45:12.000000000', 'files': ['jenkins/jobs/cue.yaml', 'jenkins/jobs/projects.yaml', 'zuul/layout.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/c444eca75b29dd5c36550772235eb0731bcda5b3', 'message': 'Add devstack gate job for Cue project\n\nThis job will run the API tests on devstack environment\n\nChange-Id: Ie27db60dc06c8775316b76ad6f23fe2012ea0225\n'}]",1,180774,c444eca75b29dd5c36550772235eb0731bcda5b3,15,3,3,5390,,,0,"Add devstack gate job for Cue project

This job will run the API tests on devstack environment

Change-Id: Ie27db60dc06c8775316b76ad6f23fe2012ea0225
",git fetch https://review.opendev.org/openstack/project-config refs/changes/74/180774/2 && git format-patch -1 --stdout FETCH_HEAD,"['jenkins/jobs/cue.yaml', 'jenkins/jobs/projects.yaml', 'zuul/layout.yaml']",3,0516d5fee74854cab43da5b3e9f1b42c2394baec,cue-gate, - name: gate-cue-integration-dsvm-rabbitmq voting: false - gate-cue-integration-dsvm-rabbitmq gate: - gate-cue-integration-dsvm-rabbitmq,,53,0
openstack%2Fproject-config~master~I525a53222837c42790268e00d4408abaa99a2efb,openstack/project-config,master,I525a53222837c42790268e00d4408abaa99a2efb,Add functional test job for python-muranoclient,MERGED,2015-05-11 20:57:56.000000000,2015-05-12 21:38:48.000000000,2015-05-12 21:38:46.000000000,"[{'_account_id': 3}, {'_account_id': 6547}, {'_account_id': 6786}, {'_account_id': 7600}]","[{'number': 1, 'created': '2015-05-11 20:57:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/4741e200782eefae08251d44569db3c4fbb9889a', 'message': 'Add functional test job for python-muranoclient\n\nCreate functional test job for python-muranoclient, set as non-voting until\nits working. The muranoclient functional tests are being extracted from the\nmain murano tempest-based tests.\n\nChange-Id: I525a53222837c42790268e00d4408abaa99a2efb\n'}, {'number': 2, 'created': '2015-05-11 21:07:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/3b616c3f8195735b9ef59a44e747bc024d862230', 'message': 'Add functional test job for python-muranoclient\n\nCreate functional test job for python-muranoclient, set as non-voting until\nits working. The muranoclient functional tests are being extracted from the\nmain murano tempest-based tests.\n\nChange-Id: I525a53222837c42790268e00d4408abaa99a2efb\n'}, {'number': 3, 'created': '2015-05-12 05:56:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/50880d7e6a65c2c19bac9c9b97ad25169d1272e7', 'message': 'Add functional test job for python-muranoclient\n\nCreate functional test job for python-muranoclient, set as non-voting until\nits working. The muranoclient functional tests are being extracted from the\nmain murano tempest-based tests.\n\nChange-Id: I525a53222837c42790268e00d4408abaa99a2efb\n'}, {'number': 4, 'created': '2015-05-12 05:58:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/7f17fcc5c2872aa29e2fae05bea616e73005bffe', 'message': 'Add functional test job for python-muranoclient\n\nCreate functional test job for python-muranoclient, set as non-voting until\nits working. The muranoclient functional tests are being extracted from the\nmain murano tempest-based tests.\n\nChange-Id: I525a53222837c42790268e00d4408abaa99a2efb\n'}, {'number': 5, 'created': '2015-05-12 06:28:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/28f2f94c81830ea97d7a09ebba6b34a8103e412c', 'message': 'Add functional test job for python-muranoclient\n\nCreate functional test job for python-muranoclient, set as non-voting until\nits working. The muranoclient functional tests are being extracted from the\nmain murano tempest-based tests.\n\nChange-Id: I525a53222837c42790268e00d4408abaa99a2efb\n'}, {'number': 6, 'created': '2015-05-12 06:47:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/6fa3fd945a1f343ca335742f8f58927ab97b2eab', 'message': 'Add functional test job for python-muranoclient\n\nCreate functional test job for python-muranoclient, set as non-voting until\nits working. The muranoclient functional tests are being extracted from the\nmain murano tempest-based tests.\n\nChange-Id: I525a53222837c42790268e00d4408abaa99a2efb\n'}, {'number': 7, 'created': '2015-05-12 08:22:34.000000000', 'files': ['jenkins/jobs/murano.yaml', 'jenkins/jobs/projects.yaml', 'zuul/layout.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/99bc953e2117d54b4c1addbca0b8ec40372d6f57', 'message': 'Add functional test job for python-muranoclient\n\nCreate functional test job for python-muranoclient, set as non-voting until\nits working. The muranoclient functional tests are being extracted from the\nmain murano tempest-based tests.\n\nChange-Id: I525a53222837c42790268e00d4408abaa99a2efb\n'}]",0,182082,99bc953e2117d54b4c1addbca0b8ec40372d6f57,23,4,7,7600,,,0,"Add functional test job for python-muranoclient

Create functional test job for python-muranoclient, set as non-voting until
its working. The muranoclient functional tests are being extracted from the
main murano tempest-based tests.

Change-Id: I525a53222837c42790268e00d4408abaa99a2efb
",git fetch https://review.opendev.org/openstack/project-config refs/changes/82/182082/1 && git format-patch -1 --stdout FETCH_HEAD,"['jenkins/jobs/murano.yaml', 'jenkins/jobs/projects.yaml', 'zuul/layout.yaml']",3,4741e200782eefae08251d44569db3c4fbb9889a,muranoclient-dsvm-functional, - name: ^(gate|check)-muranoclient-dsvm-functional$ voting: false experimental: - check-muranoclient-dsvm-functional,,59,0
openstack%2Fproject-config~master~Iff324df67c285b481980d349dd5d445c0eff3c35,openstack/project-config,master,Iff324df67c285b481980d349dd5d445c0eff3c35,Surveil:py34 checks,MERGED,2015-05-12 15:34:39.000000000,2015-05-12 21:38:45.000000000,2015-05-12 21:38:43.000000000,"[{'_account_id': 3}, {'_account_id': 6547}, {'_account_id': 6786}, {'_account_id': 11312}, {'_account_id': 16238}]","[{'number': 1, 'created': '2015-05-12 15:34:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/1b62b314be2da610478e6be257f664b62c5061cf', 'message': 'Surveil:py34 checks\n\nChange-Id: Iff324df67c285b481980d349dd5d445c0eff3c35\n'}, {'number': 2, 'created': '2015-05-12 16:54:22.000000000', 'files': ['zuul/layout.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/d55353e840d34b5abd4e4bdedb7f572b4a25b89f', 'message': 'Surveil:py34 checks\n\nChange-Id: Iff324df67c285b481980d349dd5d445c0eff3c35\n'}]",1,182353,d55353e840d34b5abd4e4bdedb7f572b4a25b89f,12,5,2,16238,,,0,"Surveil:py34 checks

Change-Id: Iff324df67c285b481980d349dd5d445c0eff3c35
",git fetch https://review.opendev.org/openstack/project-config refs/changes/53/182353/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul/layout.yaml'],1,1b62b314be2da610478e6be257f664b62c5061cf,, - gate-surveil-python34 - gate-surveil-python34,,2,0
openstack%2Fproject-config~master~I3ba979ace5c7536fda21424634b7fc300343aeb8,openstack/project-config,master,I3ba979ace5c7536fda21424634b7fc300343aeb8,Added NPM-based unit tests for merlin,MERGED,2015-05-11 21:04:16.000000000,2015-05-12 21:38:42.000000000,2015-05-12 21:38:40.000000000,"[{'_account_id': 3}, {'_account_id': 6547}, {'_account_id': 6786}, {'_account_id': 8040}, {'_account_id': 9717}]","[{'number': 1, 'created': '2015-05-11 21:04:16.000000000', 'files': ['jenkins/jobs/projects.yaml', 'zuul/layout.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/c8ebb23833880aceb16e8c37625c69ce4d4a2f68', 'message': ""Added NPM-based unit tests for merlin\n\nThis adds an npm-run based unit test run. It's effectively identical\nto the js-test build.\n\nChange-Id: I3ba979ace5c7536fda21424634b7fc300343aeb8\nDepends-on: Ia487e8d21f18f9ac44fc14da2011ab60ef6d5a4f\n""}]",0,182084,c8ebb23833880aceb16e8c37625c69ce4d4a2f68,10,5,1,9717,,,0,"Added NPM-based unit tests for merlin

This adds an npm-run based unit test run. It's effectively identical
to the js-test build.

Change-Id: I3ba979ace5c7536fda21424634b7fc300343aeb8
Depends-on: Ia487e8d21f18f9ac44fc14da2011ab60ef6d5a4f
",git fetch https://review.opendev.org/openstack/project-config refs/changes/84/182084/1 && git format-patch -1 --stdout FETCH_HEAD,"['jenkins/jobs/projects.yaml', 'zuul/layout.yaml']",2,c8ebb23833880aceb16e8c37625c69ce4d4a2f68,voting_npm, - gate-merlin-npm-run-test-unit - gate-merlin-npm-run-test-unit,,4,0
openstack%2Fproject-config~master~I4b4214ecebf13fd2ef6361045d20761ecc880481,openstack/project-config,master,I4b4214ecebf13fd2ef6361045d20761ecc880481,NPM-Run jobs are now voting.,MERGED,2015-05-11 19:50:53.000000000,2015-05-12 21:38:34.000000000,2015-05-12 21:38:33.000000000,"[{'_account_id': 3}, {'_account_id': 6547}, {'_account_id': 6786}, {'_account_id': 8040}, {'_account_id': 9717}]","[{'number': 1, 'created': '2015-05-11 19:50:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/c8056ad1d3d7e3abdea371e2e710d74d24dc8c93', 'message': ""NPM-Run jobs are now voting.\n\nAt the moment, StoryBoard is the only project using these builds,\nand they've been passing for a while now. In order to deprecate\nthe old tox-based javascript builds, we are switching these\nto voting builds.\n\nChange-Id: I4b4214ecebf13fd2ef6361045d20761ecc880481\n""}, {'number': 2, 'created': '2015-05-11 20:37:56.000000000', 'files': ['zuul/layout.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/a98e10c3633390678b9073c9d9b98c302c6c7d22', 'message': ""NPM-Run jobs are now voting.\n\nAt the moment, StoryBoard is the only project using these builds,\nand they've been passing for a while now. In order to deprecate\nthe old tox-based javascript builds, we are switching these\nto voting builds.\n\nChange-Id: I4b4214ecebf13fd2ef6361045d20761ecc880481\n""}]",0,182049,a98e10c3633390678b9073c9d9b98c302c6c7d22,12,5,2,9717,,,0,"NPM-Run jobs are now voting.

At the moment, StoryBoard is the only project using these builds,
and they've been passing for a while now. In order to deprecate
the old tox-based javascript builds, we are switching these
to voting builds.

Change-Id: I4b4214ecebf13fd2ef6361045d20761ecc880481
",git fetch https://review.opendev.org/openstack/project-config refs/changes/49/182049/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul/layout.yaml'],1,c8056ad1d3d7e3abdea371e2e710d74d24dc8c93,voting_npm,, - name: ^gate-.*-npm-run-.*$ voting: false ,0,3
openstack%2Fproject-config~master~Iaada39ae81e1e47fe9d0bedba80fd19e4e0e6f38,openstack/project-config,master,Iaada39ae81e1e47fe9d0bedba80fd19e4e0e6f38,Deal with yum --downloadonly CentOS 6.x quirks,MERGED,2015-05-08 22:10:17.000000000,2015-05-12 21:38:27.000000000,2015-05-12 21:38:26.000000000,"[{'_account_id': 2}, {'_account_id': 3}, {'_account_id': 5263}, {'_account_id': 6547}, {'_account_id': 10035}]","[{'number': 1, 'created': '2015-05-08 22:10:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/4678c191f00b8044f1d7951b84bceebc2d7d6515', 'message': 'Deal with yum --downloadonly CentOS 6.x quirks\n\nSome packages may depend on python-setuptools, which is not\ninstalled and cannot be reinstalled on CentOS 6.x once yum has\nerased them, so use --skip-broken to avoid aborting. Also on this\nplatform --downloadonly causes yum to return nonzero even when it\nsucceeds, so ignore its exit code.\n\nChange-Id: Iaada39ae81e1e47fe9d0bedba80fd19e4e0e6f38\n'}, {'number': 2, 'created': '2015-05-08 22:21:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/09e3d7b7cb2c5070f7c7a1652b2eeeb1910ee7ba', 'message': 'Deal with yum --downloadonly CentOS 6.x quirks\n\nSome packages may depend on python-setuptools, which is not\ninstalled and cannot be reinstalled on CentOS 6.x once yum has\nerased them, so use --skip-broken to avoid aborting. Also on this\nplatform --downloadonly causes yum to return nonzero even when it\nsucceeds, so ignore its exit code.\n\nChange-Id: Iaada39ae81e1e47fe9d0bedba80fd19e4e0e6f38\n'}, {'number': 3, 'created': '2015-05-12 15:19:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/514db315043746d0e7800c7dafb9b7a522189c73', 'message': 'Deal with yum --downloadonly CentOS 6.x quirks\n\nSome packages may depend on python-setuptools, which is not\ninstalled and cannot be reinstalled on CentOS 6.x once yum has\nerased them, so use --skip-broken to avoid aborting. Also on this\nplatform --downloadonly causes yum to return nonzero even when it\nsucceeds, so ignore its exit code.\n\nChange-Id: Iaada39ae81e1e47fe9d0bedba80fd19e4e0e6f38\n'}, {'number': 4, 'created': '2015-05-12 15:25:57.000000000', 'files': ['nodepool/elements/cache-devstack/install.d/50-download-pkgs', 'nodepool/scripts/cache_devstack.py'], 'web_link': 'https://opendev.org/openstack/project-config/commit/3d5b04ed192e0b1f808de6b3a1b2402efd33b914', 'message': 'Deal with yum --downloadonly CentOS 6.x quirks\n\nSome packages may depend on python-setuptools, which is not\ninstalled and cannot be reinstalled on CentOS 6.x once yum has\nerased them, so use --skip-broken to avoid aborting. Also on this\nplatform --downloadonly causes yum to return nonzero even when it\nsucceeds, so ignore its exit code.\n\nChange-Id: Iaada39ae81e1e47fe9d0bedba80fd19e4e0e6f38\n'}]",10,181574,3d5b04ed192e0b1f808de6b3a1b2402efd33b914,22,5,4,5263,,,0,"Deal with yum --downloadonly CentOS 6.x quirks

Some packages may depend on python-setuptools, which is not
installed and cannot be reinstalled on CentOS 6.x once yum has
erased them, so use --skip-broken to avoid aborting. Also on this
platform --downloadonly causes yum to return nonzero even when it
succeeds, so ignore its exit code.

Change-Id: Iaada39ae81e1e47fe9d0bedba80fd19e4e0e6f38
",git fetch https://review.opendev.org/openstack/project-config refs/changes/74/181574/4 && git format-patch -1 --stdout FETCH_HEAD,"['nodepool/elements/cache-devstack/install.d/50-download-pkgs', 'nodepool/scripts/cache_devstack.py']",2,4678c191f00b8044f1d7951b84bceebc2d7d6515,dib-nodepool," if open('/etc/redhat-release').read().startswith( ""CentOS release 6""): # --downloadonly is provided by the yum-plugin-downloadonly # package on CentOS 6.x run_local(['sudo', 'yum', 'install', '-y', 'yum-plugin-downloadonly']) yum install -y yum-plugin-downloadonly # some packages may depend on python-setuptools, which is not # installed and cannot be reinstalled on CentOS 6.x once yum # has erased them, so use --skip-broken to avoid aborting; also # on this platform --downloadonly causes yum to return nonzero # even when it succeeds, so ignore its exit code run_local(['sudo', 'yum', 'install', '-y', '--downloadonly', '--skip-broken'] + branch_data['rpms']) else run_local(['sudo', 'yum', 'install', '-y', '--downloadonly'] + branch_data['rpms'])"," if os.path.exists('/usr/bin/yum'): # --downloadonly is provided by the yum-plugin-downloadonly # package which is a virtual package in newer releases but # an optional package in older ones such as CentOS/RHEL 6.x, # so install it just to be sure it will work run_local(['sudo', 'yum', 'install', '-y', 'yum-plugin-downloadonly']) run_local(['sudo', 'yum', 'install', '-y', '--downloadonly'] + branch_data['rpms'])",30,18
openstack%2Fproject-config~master~I1d2740b2d9ba1fde7ae58209703ec82afd4cd0ea,openstack/project-config,master,I1d2740b2d9ba1fde7ae58209703ec82afd4cd0ea,Remove extra unused environments from tooz jobs,MERGED,2015-05-11 19:08:37.000000000,2015-05-12 21:38:25.000000000,2015-05-12 21:38:23.000000000,"[{'_account_id': 3}, {'_account_id': 1669}, {'_account_id': 6547}, {'_account_id': 6786}, {'_account_id': 10035}]","[{'number': 1, 'created': '2015-05-11 19:08:37.000000000', 'files': ['jenkins/jobs/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/4f400bf09ddc183db9d4a887515caa6f70568b78', 'message': ""Remove extra unused environments from tooz jobs\n\nTooz doesn't appear to be using these, so remove them\n\nChange-Id: I1d2740b2d9ba1fde7ae58209703ec82afd4cd0ea\n""}]",0,182021,4f400bf09ddc183db9d4a887515caa6f70568b78,10,5,1,1297,,,0,"Remove extra unused environments from tooz jobs

Tooz doesn't appear to be using these, so remove them

Change-Id: I1d2740b2d9ba1fde7ae58209703ec82afd4cd0ea
",git fetch https://review.opendev.org/openstack/project-config refs/changes/21/182021/1 && git format-patch -1 --stdout FETCH_HEAD,['jenkins/jobs/projects.yaml'],1,4f400bf09ddc183db9d4a887515caa6f70568b78,,," envlist: ""py26-sa7-mysql"" node: bare-centos6 - gate-{name}-tox-{envlist}: envlist: ""py27-sa8-mysql"" - gate-{name}-tox-{envlist}:",0,5
openstack%2Fproject-config~master~I0e7b67985e24134f0695857062525fedc9fe18c1,openstack/project-config,master,I0e7b67985e24134f0695857062525fedc9fe18c1,Remove custom taskflow sqlalchemy environments,MERGED,2015-05-09 21:42:06.000000000,2015-05-12 21:37:58.000000000,2015-05-12 21:37:56.000000000,"[{'_account_id': 3}, {'_account_id': 1297}, {'_account_id': 6547}, {'_account_id': 6786}, {'_account_id': 10035}]","[{'number': 1, 'created': '2015-05-09 21:42:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/6901b27e0988f97891e30187c4734434d3c2ca37', 'message': 'Remove custom taskflow sqlalchemy environments\n\nThese environments have not actually turned up anything\nsince they have existed, so I think it is fine to discard\nthem and let the main python environments sqlalchemy versions\nthat are tested continue to be used going forward.\n\nChange-Id: I0e7b67985e24134f0695857062525fedc9fe18c1\n'}, {'number': 2, 'created': '2015-05-11 19:06:38.000000000', 'files': ['jenkins/jobs/projects.yaml', 'zuul/layout.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/ad7eb0c69e185076677a4932be8bbec097f4dad5', 'message': 'Remove custom taskflow sqlalchemy environments\n\nThese environments have not actually turned up anything\nsince they have existed, so I think it is fine to discard\nthem and let the main python environments sqlalchemy versions\nthat are tested continue to be used going forward.\n\nChange-Id: I0e7b67985e24134f0695857062525fedc9fe18c1\n'}]",2,181687,ad7eb0c69e185076677a4932be8bbec097f4dad5,13,5,2,1297,,,0,"Remove custom taskflow sqlalchemy environments

These environments have not actually turned up anything
since they have existed, so I think it is fine to discard
them and let the main python environments sqlalchemy versions
that are tested continue to be used going forward.

Change-Id: I0e7b67985e24134f0695857062525fedc9fe18c1
",git fetch https://review.opendev.org/openstack/project-config refs/changes/87/181687/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul/layout.yaml'],1,6901b27e0988f97891e30187c4734434d3c2ca37,, gate:, - gate-taskflow-tox-py26-sa7-mysql - gate-taskflow-tox-py27-sa8-mysql gate: - gate-taskflow-tox-py26-sa7-mysql - gate-taskflow-tox-py27-sa8-mysql,0,4
openstack%2Ftempest~master~I7d04f81457fc564ed82872e602746c8162fef24c,openstack/tempest,master,I7d04f81457fc564ed82872e602746c8162fef24c,Add new config option to globally trigger resource validation,MERGED,2015-05-11 19:43:11.000000000,2015-05-12 21:32:19.000000000,2015-05-12 21:32:17.000000000,"[{'_account_id': 3}, {'_account_id': 1921}, {'_account_id': 2750}, {'_account_id': 5196}, {'_account_id': 6873}, {'_account_id': 7020}, {'_account_id': 7428}, {'_account_id': 8556}, {'_account_id': 8871}, {'_account_id': 10016}, {'_account_id': 11803}]","[{'number': 1, 'created': '2015-05-11 19:43:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/f3355a56fb38e2aca1d0d8a2178cc29dce3870ea', 'message': 'Add new config option to globally trigger resource validation\n\nThis commit adds a new config option to the config group to trigger\nall the validation code. It also deprecates the run_ssh option in the\ncompute group since this will eventually be used globally. The intent\nof this option is so that it will trigger both the creation of any\nvalidation resources as well as used as run_ssh was originally\nintended, to trigger ssh into nodes when needed.\n\nChange-Id: I7d04f81457fc564ed82872e602746c8162fef24c\n'}, {'number': 2, 'created': '2015-05-11 19:46:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/83c7295df8486f805d103ae07ea950622fe7ae55', 'message': 'Add new config option to globally trigger resource validation\n\nThis commit adds a new config option to the config group to trigger\nall the validation code. It also deprecates the run_ssh option in the\ncompute group since this will eventually be used globally. The intent\nof this option is so that it will trigger both the creation of any\nvalidation resources as well as used as run_ssh was originally\nintended, to trigger ssh into nodes when needed.\n\nCloses-Bug: #1453936\nPartially-Implements: bp ssh-auth-strategy\nChange-Id: I7d04f81457fc564ed82872e602746c8162fef24c\n'}, {'number': 3, 'created': '2015-05-12 09:10:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/0144ffe2e965c8abc58f5d6a0907dac93dfab6c9', 'message': 'Add new config option to globally trigger resource validation\n\nThis commit adds a new config option to the config group to trigger\nall the validation code. It also deprecates the run_ssh option in the\ncompute group since this will eventually be used globally. The intent\nof this option is so that it will trigger both the creation of any\nvalidation resources as well as used as run_ssh was originally\nintended, to trigger ssh into nodes when needed.\n\nCloses-Bug: #1453936\nPartially-Implements: bp ssh-auth-strategy\nChange-Id: I7d04f81457fc564ed82872e602746c8162fef24c\n'}, {'number': 4, 'created': '2015-05-12 09:17:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/8d804d997799f25cba10564d7221bb97ae6c38d6', 'message': 'Add new config option to globally trigger resource validation\n\nThis commit adds a new config option to the config group to trigger\nall the validation code. It also deprecates the run_ssh option in the\ncompute group since this will eventually be used globally. The intent\nof this option is so that it will trigger both the creation of any\nvalidation resources as well as used as run_ssh was originally\nintended, to trigger ssh into nodes when needed.\n\nCloses-Bug: #1453936\nPartially-Implements: bp ssh-auth-strategy\nChange-Id: I7d04f81457fc564ed82872e602746c8162fef24c\n'}, {'number': 5, 'created': '2015-05-12 13:56:13.000000000', 'files': ['tempest/api/compute/servers/test_server_actions.py', 'tempest/api/compute/servers/test_create_server.py', 'tempest/scenario/test_server_basic_ops.py', 'etc/tempest.conf.sample', 'tempest/config.py', 'tempest/api/compute/volumes/test_attach_volume.py', 'tempest/test.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/e5cca002ef4a4fa72108ec2af102ae69f873c3aa', 'message': 'Add new config option to globally trigger resource validation\n\nThis commit adds a new config option to the config group to trigger\nall the validation code. It also deprecates the run_ssh option in the\ncompute group since this will eventually be used globally. The intent\nof this option is so that it will trigger both the creation of any\nvalidation resources as well as used as run_ssh was originally\nintended, to trigger ssh into nodes when needed.\n\nCloses-Bug: #1453936\nPartially-Implements: bp ssh-auth-strategy\nChange-Id: I7d04f81457fc564ed82872e602746c8162fef24c\n'}]",1,182041,e5cca002ef4a4fa72108ec2af102ae69f873c3aa,26,11,5,5196,,,0,"Add new config option to globally trigger resource validation

This commit adds a new config option to the config group to trigger
all the validation code. It also deprecates the run_ssh option in the
compute group since this will eventually be used globally. The intent
of this option is so that it will trigger both the creation of any
validation resources as well as used as run_ssh was originally
intended, to trigger ssh into nodes when needed.

Closes-Bug: #1453936
Partially-Implements: bp ssh-auth-strategy
Change-Id: I7d04f81457fc564ed82872e602746c8162fef24c
",git fetch https://review.opendev.org/openstack/tempest refs/changes/41/182041/4 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/api/compute/servers/test_server_actions.py', 'tempest/api/compute/servers/test_create_server.py', 'tempest/scenario/test_server_basic_ops.py', 'etc/tempest.conf.sample', 'tempest/config.py', 'tempest/api/compute/volumes/test_attach_volume.py', 'tempest/test.py']",7,f3355a56fb38e2aca1d0d8a2178cc29dce3870ea,bug/1453936, if not CONF.validation.run_validation: return,,18,12
openstack%2Fcinder~master~I7fbbe989c865dce42102b63f7d52a8edb63e7a9e,openstack/cinder,master,I7fbbe989c865dce42102b63f7d52a8edb63e7a9e,GlusterFS: Support over subscription in thin provisioning,MERGED,2015-03-09 18:56:50.000000000,2015-05-12 21:30:35.000000000,2015-05-12 21:30:32.000000000,"[{'_account_id': 3}, {'_account_id': 170}, {'_account_id': 1736}, {'_account_id': 2243}, {'_account_id': 2759}, {'_account_id': 4523}, {'_account_id': 6491}, {'_account_id': 7160}, {'_account_id': 8871}, {'_account_id': 9003}, {'_account_id': 9008}, {'_account_id': 9751}, {'_account_id': 10263}, {'_account_id': 10327}, {'_account_id': 10621}, {'_account_id': 10622}, {'_account_id': 10796}, {'_account_id': 11611}, {'_account_id': 11811}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12202}, {'_account_id': 12249}, {'_account_id': 12369}, {'_account_id': 12491}, {'_account_id': 12492}, {'_account_id': 12493}, {'_account_id': 12778}, {'_account_id': 12780}, {'_account_id': 13144}, {'_account_id': 13203}, {'_account_id': 13394}, {'_account_id': 13628}, {'_account_id': 14206}, {'_account_id': 14242}, {'_account_id': 14259}, {'_account_id': 14428}, {'_account_id': 14587}, {'_account_id': 14797}, {'_account_id': 14969}, {'_account_id': 15249}, {'_account_id': 15374}, {'_account_id': 15882}]","[{'number': 1, 'created': '2015-03-09 18:56:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/08f3ac1346b14f2425528f005387dcb1153279df', 'message': 'GlusterFS: Support over subscription in thin provisioning\n\nThis patch adds ""over subscription in thin provisioning"" support to\nGlusterFS driver.\n\nThe following changes are proposed:\n* GlusterFS driver reports the following new capacities and ratios:\n  * provisioned_capacity\n  * max_over_subscription_ratio\n  * thin_provisioning_support (True or False)\n  * thick_provisioning_support (True or False)\n\nCo-Authored-By: Deepak C Shetty <deepakcs@redhat.com>\nImplements: over-subscription-in-thin-provisioning\nChange-Id: I7fbbe989c865dce42102b63f7d52a8edb63e7a9e\n'}, {'number': 3, 'created': '2015-03-10 11:21:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/9496fcb7baaa711faee38e2e441032e8cbe50267', 'message': 'GlusterFS: Support over subscription in thin provisioning\n\nThis patch adds ""over subscription in thin provisioning"" support to\nGlusterFS driver.\n\nThe following changes are proposed:\n* GlusterFS driver reports the following new capacities and ratios:\n  * provisioned_capacity\n  * max_over_subscription_ratio\n  * thin_provisioning_support (True or False)\n  * thick_provisioning_support (True or False)\n\nCo-Authored-By: Deepak C Shetty <deepakcs@redhat.com>\nImplements: blueprint over-subscription-in-thin-provisioning\nChange-Id: I7fbbe989c865dce42102b63f7d52a8edb63e7a9e\n'}, {'number': 4, 'created': '2015-03-10 12:10:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f7d29e71763a0101a5c307e2515a1adc31a50c8c', 'message': 'GlusterFS: Support over subscription in thin provisioning\n\nThis patch adds ""over subscription in thin provisioning"" support to\nGlusterFS driver.\n\nThe following changes are proposed:\n* GlusterFS driver reports the following new capacities and ratios:\n  * provisioned_capacity\n  * max_over_subscription_ratio\n  * thin_provisioning_support (True or False)\n  * thick_provisioning_support (True or False)\n\nCo-Authored-By: Deepak C Shetty <deepakcs@redhat.com>\nImplements: blueprint over-subscription-in-thin-provisioning\nChange-Id: I7fbbe989c865dce42102b63f7d52a8edb63e7a9e\n'}, {'number': 5, 'created': '2015-03-11 12:24:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/df228da6235320e31f28be8adc9bff29c0689a89', 'message': 'GlusterFS: Support over subscription in thin provisioning\n\nThis patch adds ""over subscription in thin provisioning"" support to\nGlusterFS driver.\n\nThe following changes are proposed:\n* GlusterFS driver reports the following new capacities and ratios:\n  * provisioned_capacity\n  * max_over_subscription_ratio\n  * thin_provisioning_support (True or False)\n  * thick_provisioning_support (True or False)\n\nCo-Authored-By: Deepak C Shetty <deepakcs@redhat.com>\nImplements: blueprint glusterfs-over-subscription-thin-provisioning\nChange-Id: I7fbbe989c865dce42102b63f7d52a8edb63e7a9e\n'}, {'number': 6, 'created': '2015-03-11 12:31:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/670c39eb24df4e315013fbd2e8dff4580abef4fd', 'message': 'GlusterFS: Support over subscription in thin provisioning\n\nThis patch adds ""over subscription in thin provisioning"" support to\nGlusterFS driver.\n\nThe following changes are proposed:\n* GlusterFS driver reports the following new capacities and ratios:\n  * provisioned_capacity\n  * max_over_subscription_ratio\n  * thin_provisioning_support (True or False)\n  * thick_provisioning_support (True or False)\n\nCo-Authored-By: Deepak C Shetty <deepakcs@redhat.com>\nImplements: blueprint glusterfs-over-subscription-thin-provisioning\nChange-Id: I7fbbe989c865dce42102b63f7d52a8edb63e7a9e\n'}, {'number': 7, 'created': '2015-03-11 17:18:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/1118438afaf0cff5bfd426d42c12bf1d02c57af2', 'message': 'GlusterFS: Support over subscription in thin provisioning\n\nThis patch adds ""over subscription in thin provisioning"" support to\nGlusterFS driver.\n\nThe following changes are proposed:\n* GlusterFS driver reports the following new capacities and ratios:\n  * provisioned_capacity\n  * max_over_subscription_ratio\n  * thin_provisioning_support (True or False)\n  * thick_provisioning_support (True or False)\n\nCo-Authored-By: Deepak C Shetty <deepakcs@redhat.com>\nImplements: blueprint glusterfs-over-subscription-thin-provisioning\nChange-Id: I7fbbe989c865dce42102b63f7d52a8edb63e7a9e\n'}, {'number': 8, 'created': '2015-03-12 03:37:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/96886d1f432834fae3ef73a724e0c52ea7b78e26', 'message': 'GlusterFS: Support over subscription in thin provisioning\n\nThis patch adds ""over subscription in thin provisioning"" support to\nGlusterFS driver.\n\nThe following changes are proposed:\n* GlusterFS driver reports the following new capacities and ratios:\n  * provisioned_capacity\n  * max_over_subscription_ratio\n  * thin_provisioning_support (True or False)\n  * thick_provisioning_support (True or False)\n\nCo-Authored-By: Deepak C Shetty <deepakcs@redhat.com>\nImplements: blueprint glusterfs-over-subscription-thin-provisioning\nChange-Id: I7fbbe989c865dce42102b63f7d52a8edb63e7a9e\n'}, {'number': 9, 'created': '2015-03-12 16:33:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/7b4cf71c12f15784eada1409b04fa2f8da9b65ef', 'message': 'GlusterFS: Support over subscription in thin provisioning\n\nThis patch adds ""over subscription in thin provisioning"" support to\nGlusterFS driver.\n\nThe following changes are proposed:\n* GlusterFS driver reports the following new capacities and ratios:\n  * provisioned_capacity\n  * max_over_subscription_ratio\n  * thin_provisioning_support (True or False)\n  * thick_provisioning_support (True or False)\n\nCo-Authored-By: Deepak C Shetty <deepakcs@redhat.com>\nImplements: blueprint glusterfs-over-subscription-thin-provisioning\nChange-Id: I7fbbe989c865dce42102b63f7d52a8edb63e7a9e\n'}, {'number': 10, 'created': '2015-04-20 09:17:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/d29653c7b19e86381ae9820649fae8b0c8a8585a', 'message': 'GlusterFS: Support over subscription in thin provisioning\n\nThis patch adds ""over subscription in thin provisioning"" support to\nGlusterFS driver.\n\nThe following changes are proposed:\n* GlusterFS driver reports the following new capacities and ratios:\n  * provisioned_capacity\n  * max_over_subscription_ratio\n  * thin_provisioning_support (True or False)\n  * thick_provisioning_support (True or False)\n\nCo-Authored-By: Deepak C Shetty <deepakcs@redhat.com>\nImplements: blueprint glusterfs-over-subscription-thin-provisioning\nChange-Id: I7fbbe989c865dce42102b63f7d52a8edb63e7a9e\n'}, {'number': 11, 'created': '2015-04-23 09:18:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ef6c805e73984065887294e7c4bcd3a1cfcbdb57', 'message': 'GlusterFS: Support over subscription in thin provisioning\n\nThis patch adds ""over subscription in thin provisioning"" support to\nGlusterFS driver.\n\nThe following changes are proposed:\n* GlusterFS driver reports the following new capacities and ratios:\n  * provisioned_capacity\n  * max_over_subscription_ratio\n  * thin_provisioning_support (True or False)\n  * thick_provisioning_support (True or False)\n\nCo-Authored-By: Deepak C Shetty <deepakcs@redhat.com>\nImplements: blueprint glusterfs-over-subscription-thin-provisioning\nChange-Id: I7fbbe989c865dce42102b63f7d52a8edb63e7a9e\n'}, {'number': 12, 'created': '2015-04-27 06:09:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/22354194ec724d04f4eca90a4cf2dc1c52e8ac65', 'message': 'GlusterFS: Support over subscription in thin provisioning\n\nThis patch adds ""over subscription in thin provisioning"" support to\nGlusterFS driver.\n\nThe following changes are proposed:\n* GlusterFS driver reports the following new capacities and ratios:\n  * provisioned_capacity\n  * max_over_subscription_ratio\n  * thin_provisioning_support (True or False)\n  * thick_provisioning_support (True or False)\n\nCo-Authored-By: Deepak C Shetty <deepakcs@redhat.com>\nImplements: blueprint glusterfs-over-subscription-thin-provisioning\nChange-Id: I7fbbe989c865dce42102b63f7d52a8edb63e7a9e\n'}, {'number': 13, 'created': '2015-04-27 11:05:18.000000000', 'files': ['cinder/volume/drivers/glusterfs.py', 'cinder/tests/unit/test_glusterfs.py', 'cinder/volume/drivers/remotefs.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/f119a62e60f5689b013203d4900aaeead6bff555', 'message': 'GlusterFS: Support over subscription in thin provisioning\n\nThis patch adds ""over subscription in thin provisioning"" support to\nGlusterFS driver.\n\nThe following changes are proposed:\n* GlusterFS driver reports the following new capacities and ratios:\n  * provisioned_capacity\n  * max_over_subscription_ratio\n  * thin_provisioning_support (True or False)\n  * thick_provisioning_support (True or False)\n\nCo-Authored-By: Deepak C Shetty <deepakcs@redhat.com>\nImplements: blueprint glusterfs-over-subscription-thin-provisioning\nChange-Id: I7fbbe989c865dce42102b63f7d52a8edb63e7a9e\n'}]",41,162718,f119a62e60f5689b013203d4900aaeead6bff555,258,45,12,14428,,,0,"GlusterFS: Support over subscription in thin provisioning

This patch adds ""over subscription in thin provisioning"" support to
GlusterFS driver.

The following changes are proposed:
* GlusterFS driver reports the following new capacities and ratios:
  * provisioned_capacity
  * max_over_subscription_ratio
  * thin_provisioning_support (True or False)
  * thick_provisioning_support (True or False)

Co-Authored-By: Deepak C Shetty <deepakcs@redhat.com>
Implements: blueprint glusterfs-over-subscription-thin-provisioning
Change-Id: I7fbbe989c865dce42102b63f7d52a8edb63e7a9e
",git fetch https://review.opendev.org/openstack/cinder refs/changes/18/162718/13 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/drivers/glusterfs.py'],1,08f3ac1346b14f2425528f005387dcb1153279df,glusterfs-thin-provisioning," def _get_thin_provisioned_capacity(self): """"""Get the sum of all volumes sizes."""""" provisioned_size = 0.0 for share in self.shares.keys(): mount_path = self._get_mount_point_for_share(share) for volume in os.listdir(mount_path): volume_path = os.path.join(mount_path, volume) provisioned_size += os.path.getsize(volume_path) return round(provisioned_size / units.Gi, 2) def _update_volume_stats(self): """"""Retrieve stats info from volume group."""""" super(GlusterfsDriver, self)._update_volume_stats() data = self._stats global_capacity = data['total_capacity_gb'] global_free = data['free_capacity_gb'] thin_enabled = self.configuration.glusterfs_sparsed_volumes if thin_enabled: provisioned_capacity = self._get_thin_provisioned_capacity() else: provisioned_capacity = round(global_capacity - global_free, 2) data['provisioned_capacity_gb'] = provisioned_capacity data['max_over_subscription_ratio'] = \ self.configuration.max_over_subscription_ratio data['thin_provisioning_support'] = thin_enabled data['thick_provisioning_support'] = not thin_enabled self._stats = data ",,31,0
openstack%2Fnova~master~I70b3272b7dc3d29f39bd8c2d8fed362cf497c887,openstack/nova,master,I70b3272b7dc3d29f39bd8c2d8fed362cf497c887,Fix scheduler issue when multiple-create failed,MERGED,2015-01-14 01:43:54.000000000,2015-05-12 21:29:47.000000000,2015-05-12 21:29:43.000000000,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 782}, {'_account_id': 1063}, {'_account_id': 1653}, {'_account_id': 1849}, {'_account_id': 5170}, {'_account_id': 5638}, {'_account_id': 5754}, {'_account_id': 6062}, {'_account_id': 6802}, {'_account_id': 7166}, {'_account_id': 8276}, {'_account_id': 8688}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11103}, {'_account_id': 13630}, {'_account_id': 15286}, {'_account_id': 15751}]","[{'number': 1, 'created': '2015-01-14 01:43:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/70fdcdad5e24417de28a53c4b6ed0008f084cfa6', 'message': 'Fix scheduler issue when multiple-create failed\n\nIf multiple creating failed, force to update HostStates in order to\nrelease the resource consumed by instance in the process of selecting host.\n\nChange-Id: I70b3272b7dc3d29f39bd8c2d8fed362cf497c887\nCloses-Bug: #1408859\n'}, {'number': 2, 'created': '2015-01-14 02:57:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/21740a801a94c66ea4384594d906c1e3380b1daf', 'message': 'Fix scheduler issue when multiple-create failed\n\nIf multiple creating failed, force to update HostStates in order to\nrelease the resource consumed by instance in the process of selecting host.\n\nChange-Id: I70b3272b7dc3d29f39bd8c2d8fed362cf497c887\nCloses-Bug: #1408859\n'}, {'number': 3, 'created': '2015-01-16 02:01:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/29a18c636b467e70c0adf05b44f0a8311acd6b43', 'message': 'Fix scheduler issue when multiple-create failed\n\nIf multiple creating failed, force to update HostStates in order to\nrelease the resource consumed by instance in the process of selecting host.\n\nChange-Id: I70b3272b7dc3d29f39bd8c2d8fed362cf497c887\nCloses-Bug: #1408859\n'}, {'number': 4, 'created': '2015-01-19 01:59:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5a5714d815eb073cbf71bfd0d75910aff4d01f0d', 'message': 'Fix scheduler issue when multiple-create failed\n\nIf multiple creating failed, force to update HostStates in order to\nrelease the resource consumed by instance in the process of selecting host.\n\nChange-Id: I70b3272b7dc3d29f39bd8c2d8fed362cf497c887\nCloses-Bug: #1408859\n'}, {'number': 5, 'created': '2015-01-20 13:09:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e155e859846648c9478408a69b44073567656720', 'message': 'Fix scheduler issue when multiple-create failed\n\nIf multiple creating failed, force to update HostStates in order to\nrelease the resource consumed by instance in the process of selecting host.\n\nChange-Id: I70b3272b7dc3d29f39bd8c2d8fed362cf497c887\nCloses-Bug: #1408859\n'}, {'number': 6, 'created': '2015-01-22 08:10:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d1d9b206b9b812f42d7bedb4aa205a6989bb4137', 'message': 'Fix scheduler issue when multiple-create failed\n\nIf multiple creating failed, force to update HostStates in order to\nrelease the resource consumed by instance in the process of selecting host.\n\nChange-Id: I70b3272b7dc3d29f39bd8c2d8fed362cf497c887\nCloses-Bug: #1408859\n'}, {'number': 7, 'created': '2015-01-23 07:36:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f28ceae8b23a43b940d1df331469c43f41abc9d2', 'message': 'Fix scheduler issue when multiple-create failed\n\nIf multiple creating failed, force to update HostStates in order to\nrelease the resource consumed by instance in the process of selecting host.\n\nChange-Id: I70b3272b7dc3d29f39bd8c2d8fed362cf497c887\nCloses-Bug: #1408859\n'}, {'number': 8, 'created': '2015-01-26 06:47:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/94c7917a33652b8a12b562974023e502db48fc72', 'message': 'Fix scheduler issue when multiple-create failed\n\nIf multiple creating failed, force to update HostStates in order to\nrelease the resource consumed by instance in the process of selecting host.\n\nChange-Id: I70b3272b7dc3d29f39bd8c2d8fed362cf497c887\nCloses-Bug: #1408859\n'}, {'number': 9, 'created': '2015-01-28 09:27:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/588f6d6f0ba1b49a0858f99ee8c391bebe2798f3', 'message': 'Fix scheduler issue when multiple-create failed\n\nIf multiple creating failed, force to update HostStates in order to\nrelease the resource consumed by instance in the process of selecting host.\n\nChange-Id: I70b3272b7dc3d29f39bd8c2d8fed362cf497c887\nCloses-Bug: #1408859\n'}, {'number': 10, 'created': '2015-01-30 04:11:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d6bb96ab3afed9d305da7bdcb69a0cde14a9e1bb', 'message': 'Fix scheduler issue when multiple-create failed\n\nIf multiple creating failed, force to update HostStates in order to\nrelease the resource consumed by instance in the process of selecting host.\n\nChange-Id: I70b3272b7dc3d29f39bd8c2d8fed362cf497c887\nCloses-Bug: #1408859\n'}, {'number': 11, 'created': '2015-01-31 02:00:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/97f0f2166a2667946ef073696fc6636be6b87803', 'message': 'Fix scheduler issue when multiple-create failed\n\nIf multiple creating failed, force to update HostStates in order to\nrelease the resource consumed by instance in the process of selecting host.\n\nChange-Id: I70b3272b7dc3d29f39bd8c2d8fed362cf497c887\nCloses-Bug: #1408859\n'}, {'number': 12, 'created': '2015-02-02 03:00:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3b5c55920cb3d14d46c988ad667357c74fcbb793', 'message': 'Fix scheduler issue when multiple-create failed\n\nIf multiple creating failed, force to update HostStates in order to\nrelease the resource consumed by instance in the process of selecting host.\n\nChange-Id: I70b3272b7dc3d29f39bd8c2d8fed362cf497c887\nCloses-Bug: #1408859\n'}, {'number': 13, 'created': '2015-02-05 01:35:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fe359f047ffcd883de019baf23e1eae18c7a5e35', 'message': 'Fix scheduler issue when multiple-create failed\n\nIf multiple creating failed, force to update HostStates in order to\nrelease the resource consumed by instance in the process of selecting host.\n\nChange-Id: I70b3272b7dc3d29f39bd8c2d8fed362cf497c887\nCloses-Bug: #1408859\n'}, {'number': 14, 'created': '2015-02-06 03:18:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3fd429966a5a32271b79f36466792a1dcf003b66', 'message': 'Fix scheduler issue when multiple-create failed\n\nIf multiple creating failed, force to update HostStates in order to\nrelease the resource consumed by instance in the process of selecting host.\n\nChange-Id: I70b3272b7dc3d29f39bd8c2d8fed362cf497c887\nCloses-Bug: #1408859\n'}, {'number': 15, 'created': '2015-02-07 06:19:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/38abcb49fa12c685b90d7635df9ef7d4c396098f', 'message': 'Fix scheduler issue when multiple-create failed\n\nIf multiple creating failed, force to update HostStates in order to\nrelease the resource consumed by instance in the process of selecting host.\n\nChange-Id: I70b3272b7dc3d29f39bd8c2d8fed362cf497c887\nCloses-Bug: #1408859\n'}, {'number': 16, 'created': '2015-02-09 09:41:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/84cf64dddbfdd8953c8bcca060e67ed918343684', 'message': 'Fix scheduler issue when multiple-create failed\n\nIf multiple creating failed, force to update HostStates in order to\nrelease the resource consumed by instance in the process of selecting host.\n\nChange-Id: I70b3272b7dc3d29f39bd8c2d8fed362cf497c887\nCloses-Bug: #1408859\n'}, {'number': 17, 'created': '2015-02-10 12:30:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3a14b0f8cdee12c9e0bb5fa9b7ba1b2a06e2f11a', 'message': 'Fix scheduler issue when multiple-create failed\n\nIf multiple creating failed, force to update HostStates in order to\nrelease the resource consumed by instance in the process of selecting host.\n\nChange-Id: I70b3272b7dc3d29f39bd8c2d8fed362cf497c887\nCloses-Bug: #1408859\n'}, {'number': 18, 'created': '2015-02-11 08:21:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0c4d80e9e82e0c7e05f9ab5537f99bd93c116f22', 'message': 'Fix scheduler issue when multiple-create failed\n\nIf multiple creating failed, force to update HostStates in order to\nrelease the resource consumed by instance in the process of selecting host.\n\nChange-Id: I70b3272b7dc3d29f39bd8c2d8fed362cf497c887\nCloses-Bug: #1408859\n'}, {'number': 19, 'created': '2015-02-12 09:10:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/54f4072dc33fec935a7448f34e166ba1612015d6', 'message': 'Fix scheduler issue when multiple-create failed\n\nIf multiple creating failed, force to update HostStates in order to\nrelease the resource consumed by instance in the process of selecting host.\n\nChange-Id: I70b3272b7dc3d29f39bd8c2d8fed362cf497c887\nCloses-Bug: #1408859\n'}, {'number': 20, 'created': '2015-02-16 08:00:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/347621ca9dc1e681733f90ff58fdb9c443d74cf0', 'message': 'Fix scheduler issue when multiple-create failed\n\nIf multiple creating failed, set the updated time of\nselected HostState to None so that these HostStates are\nrefreshed according to database in next schedule, and\nrelease the resource consumed by instance in the process\nof selecting host.\n\nChange-Id: I70b3272b7dc3d29f39bd8c2d8fed362cf497c887\nCloses-Bug: #1408859\n'}, {'number': 21, 'created': '2015-02-25 10:34:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/57d1eca859fbe4489dfb607bd880f05ce1cf72e3', 'message': 'Fix scheduler issue when multiple-create failed\n\nIf multiple creating failed, set the updated time of\nselected HostState to None so that these HostStates are\nrefreshed according to database in next schedule, and\nrelease the resource consumed by instance in the process\nof selecting host.\n\nChange-Id: I70b3272b7dc3d29f39bd8c2d8fed362cf497c887\nCloses-Bug: #1408859\n'}, {'number': 22, 'created': '2015-02-26 06:54:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/441c29a97b4f8c352ead2e3e2bc06aa4e1a2a4fe', 'message': 'Fix scheduler issue when multiple-create failed\n\nIf multiple creating failed, set the updated time of\nselected HostState to None so that these HostStates are\nrefreshed according to database in next schedule, and\nrelease the resource consumed by instance in the process\nof selecting host.\n\nChange-Id: I70b3272b7dc3d29f39bd8c2d8fed362cf497c887\nCloses-Bug: #1408859\n'}, {'number': 23, 'created': '2015-02-27 02:16:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e133cf01aa4187f35b0d242abfdc93e4ed972190', 'message': 'Fix scheduler issue when multiple-create failed\n\nIf multiple creating failed, set the updated time of\nselected HostState to None so that these HostStates are\nrefreshed according to database in next schedule, and\nrelease the resource consumed by instance in the process\nof selecting host.\n\nChange-Id: I70b3272b7dc3d29f39bd8c2d8fed362cf497c887\nCloses-Bug: #1408859\n'}, {'number': 24, 'created': '2015-03-03 09:11:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/794e4b7439d7ee2be4df74fb15da5b8f1f77052a', 'message': 'Fix scheduler issue when multiple-create failed\n\nIf multiple creating failed, set the updated time of\nselected HostState to None so that these HostStates are\nrefreshed according to database in next schedule, and\nrelease the resource consumed by instance in the process\nof selecting host.\n\nChange-Id: I70b3272b7dc3d29f39bd8c2d8fed362cf497c887\nCloses-Bug: #1408859\n'}, {'number': 25, 'created': '2015-03-06 03:09:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f5cef76e86f65def7164850a9a2154ec1e30625f', 'message': 'Fix scheduler issue when multiple-create failed\n\nIf multiple creating failed, set the updated time of\nselected HostState to None so that these HostStates are\nrefreshed according to database in next schedule, and\nrelease the resource consumed by instance in the process\nof selecting host.\n\nChange-Id: I70b3272b7dc3d29f39bd8c2d8fed362cf497c887\nCloses-Bug: #1408859\n'}, {'number': 26, 'created': '2015-03-10 08:23:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7383a7a77a86d23d38543a3517e512f9bd878b39', 'message': 'Fix scheduler issue when multiple-create failed\n\nIf multiple creating failed, set the updated time of\nselected HostState to None so that these HostStates are\nrefreshed according to database in next schedule, and\nrelease the resource consumed by instance in the process\nof selecting host.\n\nChange-Id: I70b3272b7dc3d29f39bd8c2d8fed362cf497c887\nCloses-Bug: #1408859\n'}, {'number': 27, 'created': '2015-03-25 13:34:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b0655d2bda474ad70dc95aac0b473212f4669a18', 'message': 'Fix scheduler issue when multiple-create failed\n\nIf multiple creating failed, set the updated time of\nselected HostState to None so that these HostStates are\nrefreshed according to database in next schedule, and\nrelease the resource consumed by instance in the process\nof selecting host.\n\nChange-Id: I70b3272b7dc3d29f39bd8c2d8fed362cf497c887\nCloses-Bug: #1408859\n'}, {'number': 28, 'created': '2015-03-26 11:35:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0b7955add5868893b4879bba53f9fe25574ae7f3', 'message': 'Fix scheduler issue when multiple-create failed\n\nIf multiple creating failed, set the updated time of\nselected HostState to None so that these HostStates are\nrefreshed according to database in next schedule, and\nrelease the resource consumed by instance in the process\nof selecting host.\n\nChange-Id: I70b3272b7dc3d29f39bd8c2d8fed362cf497c887\nCloses-Bug: #1408859\n'}, {'number': 29, 'created': '2015-03-31 12:08:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/662f85863c07b69ae0e4d2311cb8bd120f99d79a', 'message': 'Fix scheduler issue when multiple-create failed\n\nIf multiple creating failed, set the updated time of\nselected HostState to None so that these HostStates are\nrefreshed according to database in next schedule, and\nrelease the resource consumed by instance in the process\nof selecting host.\n\nChange-Id: I70b3272b7dc3d29f39bd8c2d8fed362cf497c887\nCloses-Bug: #1408859\n'}, {'number': 30, 'created': '2015-04-01 03:24:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b9dc3cb160a1dd70ff0362780d40ecc866e637f8', 'message': 'Fix scheduler issue when multiple-create failed\n\nIf multiple creating failed, set the updated time of\nselected HostState to None so that these HostStates are\nrefreshed according to database in next schedule, and\nrelease the resource consumed by instance in the process\nof selecting host.\n\nChange-Id: I70b3272b7dc3d29f39bd8c2d8fed362cf497c887\nCloses-Bug: #1408859\n'}, {'number': 31, 'created': '2015-04-01 08:49:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b95aa6e89137b1f8d24f5126a08d9c98364b1c25', 'message': 'Fix scheduler issue when multiple-create failed\n\nIf multiple creating failed, set the updated time of\nselected HostState to None so that these HostStates are\nrefreshed according to database in next schedule, and\nrelease the resource consumed by instance in the process\nof selecting host.\n\nChange-Id: I70b3272b7dc3d29f39bd8c2d8fed362cf497c887\nCloses-Bug: #1408859\n'}, {'number': 32, 'created': '2015-04-01 08:53:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/21a9c7c1579983bc08c488aedd066e7cd7269c46', 'message': 'Fix scheduler issue when multiple-create failed\n\nIf multiple creating failed, set the updated time of\nselected HostState to None so that these HostStates are\nrefreshed according to database in next schedule, and\nrelease the resource consumed by instance in the process\nof selecting host.\n\nChange-Id: I70b3272b7dc3d29f39bd8c2d8fed362cf497c887\nCloses-Bug: #1408859\n'}, {'number': 33, 'created': '2015-04-02 13:14:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f0b67099ed32d62b02acef551f15fb6b56e50595', 'message': 'Fix scheduler issue when multiple-create failed\n\nIf multiple creating failed, set the updated time of\nselected HostState to None so that these HostStates are\nrefreshed according to database in next schedule, and\nrelease the resource consumed by instance in the process\nof selecting host.\n\nChange-Id: I70b3272b7dc3d29f39bd8c2d8fed362cf497c887\nCloses-Bug: #1408859\n'}, {'number': 34, 'created': '2015-04-07 09:28:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f86402cfb82eb9611e1adce5a92672cc2122fe78', 'message': 'Fix scheduler issue when multiple-create failed\n\nIf multiple creating failed, set the updated time of\nselected HostState to None so that these HostStates are\nrefreshed according to database in next schedule, and\nrelease the resource consumed by instance in the process\nof selecting host.\n\nChange-Id: I70b3272b7dc3d29f39bd8c2d8fed362cf497c887\nCloses-Bug: #1408859\n'}, {'number': 35, 'created': '2015-04-13 01:28:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/633f13e42973237ae01d81b7bc64038b26e1d8e7', 'message': 'Fix scheduler issue when multiple-create failed\n\nIf multiple creating failed, set the updated time of\nselected HostState to None so that these HostStates are\nrefreshed according to database in next schedule, and\nrelease the resource consumed by instance in the process\nof selecting host.\n\nChange-Id: I70b3272b7dc3d29f39bd8c2d8fed362cf497c887\nCloses-Bug: #1408859\n'}, {'number': 36, 'created': '2015-04-20 08:13:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/df541a0d7b9ace656a2f4133a7fa123a8c241979', 'message': 'Fix scheduler issue when multiple-create failed\n\nIf multiple creating failed, set the updated time of\nselected HostState to None so that these HostStates are\nrefreshed according to database in next schedule, and\nrelease the resource consumed by instance in the process\nof selecting host.\n\nChange-Id: I70b3272b7dc3d29f39bd8c2d8fed362cf497c887\nCloses-Bug: #1408859\n'}, {'number': 37, 'created': '2015-04-27 11:06:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8e3a73431d7c935ffec4166d47633760f564444d', 'message': 'Fix scheduler issue when multiple-create failed\n\nIf multiple creating failed, set the updated time of\nselected HostState to None so that these HostStates are\nrefreshed according to database in next schedule, and\nrelease the resource consumed by instance in the process\nof selecting host.\n\nChange-Id: I70b3272b7dc3d29f39bd8c2d8fed362cf497c887\nCloses-Bug: #1408859\n'}, {'number': 38, 'created': '2015-04-28 03:39:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b89081334b47fe5874d447f7e7fa12758d9f09aa', 'message': 'Fix scheduler issue when multiple-create failed\n\nIf multiple creating failed, set the updated time of\nselected HostState to None so that these HostStates are\nrefreshed according to database in next schedule, and\nrelease the resource consumed by instance in the process\nof selecting host.\n\nChange-Id: I70b3272b7dc3d29f39bd8c2d8fed362cf497c887\nCloses-Bug: #1408859\n'}, {'number': 39, 'created': '2015-05-11 20:32:07.000000000', 'files': ['nova/scheduler/filter_scheduler.py', 'nova/tests/unit/scheduler/test_filter_scheduler.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/800c5980130568379019c61b24e5c752bfa11fff', 'message': 'Fix scheduler issue when multiple-create failed\n\nIf multiple creating failed, set the updated time of\nselected HostState to None so that these HostStates are\nrefreshed according to database in next schedule, and\nrelease the resource consumed by instance in the process\nof selecting host.\n\nChange-Id: I70b3272b7dc3d29f39bd8c2d8fed362cf497c887\nCloses-Bug: #1408859\n'}]",60,147048,800c5980130568379019c61b24e5c752bfa11fff,323,24,39,8276,,,0,"Fix scheduler issue when multiple-create failed

If multiple creating failed, set the updated time of
selected HostState to None so that these HostStates are
refreshed according to database in next schedule, and
release the resource consumed by instance in the process
of selecting host.

Change-Id: I70b3272b7dc3d29f39bd8c2d8fed362cf497c887
Closes-Bug: #1408859
",git fetch https://review.opendev.org/openstack/nova refs/changes/48/147048/37 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/scheduler/test_host_manager.py', 'nova/scheduler/filter_scheduler.py', 'nova/scheduler/host_manager.py', 'nova/tests/unit/scheduler/test_filter_scheduler.py']",4,70fdcdad5e24417de28a53c4b6ed0008f084cfa6,bug/1408859," with mock.patch.object(self.driver.host_manager, 'get_all_host_states') as mock_get_all: self.assertRaises(exception.NoValidHost, self.driver.select_destinations, self.context, {'num_instances': 1}, {}) mock_get_all.assert_called_once_with(self.context, force_update=True) with mock.patch.object(self.driver.host_manager, 'get_all_host_states') as mock_get_all: try: self.driver.select_destinations( self.context, {'num_instances': 2}, {}) self.fail('Expected NoValidHost to be raised.') except exception.NoValidHost as e: # Make sure that we provided a reason why NoValidHost. mock_get_all.assert_called_once_with(self.context, force_update=True) self.assertIn('reason', e.kwargs) self.assertTrue(len(e.kwargs['reason']) > 0)"," self.assertRaises(exception.NoValidHost, self.driver.select_destinations, self.context, {'num_instances': 1}, {}) try: self.driver.select_destinations( self.context, {'num_instances': 2}, {}) self.fail('Expected NoValidHost to be raised.') except exception.NoValidHost as e: # Make sure that we provided a reason why NoValidHost. self.assertIn('reason', e.kwargs) self.assertTrue(len(e.kwargs['reason']) > 0)",97,15
openstack%2Ffuel-library~master~Ifa73687fda2d84f7daa6303849e2c52fd2ba3780,openstack/fuel-library,master,Ifa73687fda2d84f7daa6303849e2c52fd2ba3780,Add check_repo_access to verify network after netconfig,ABANDONED,2015-05-05 22:53:57.000000000,2015-05-12 21:21:06.000000000,,"[{'_account_id': 3}, {'_account_id': 8971}, {'_account_id': 11090}, {'_account_id': 14543}, {'_account_id': 14774}, {'_account_id': 14985}]","[{'number': 1, 'created': '2015-05-05 22:53:57.000000000', 'files': ['deployment/puppet/osnailyfacter/modular/netconfig/tasks.yaml', 'deployment/puppet/osnailyfacter/modular/netconfig/check_repo_access.rb'], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/a85d891ee0a47ae4d119f4e5254b5335a6818919', 'message': ""Add check_repo_access to verify network after netconfig\n\nAfter netconfig completes it's possible that the host lost access to\nthe repo's needed to install packages. We will check that we can access\neach repo in the repos list prior to attempting anything else.\n\nChange-Id: Ifa73687fda2d84f7daa6303849e2c52fd2ba3780\nRelated-bug: #1261940\n""}]",2,180345,a85d891ee0a47ae4d119f4e5254b5335a6818919,21,6,1,8797,,,0,"Add check_repo_access to verify network after netconfig

After netconfig completes it's possible that the host lost access to
the repo's needed to install packages. We will check that we can access
each repo in the repos list prior to attempting anything else.

Change-Id: Ifa73687fda2d84f7daa6303849e2c52fd2ba3780
Related-bug: #1261940
",git fetch https://review.opendev.org/openstack/fuel-library refs/changes/45/180345/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/puppet/osnailyfacter/modular/netconfig/tasks.yaml', 'deployment/puppet/osnailyfacter/modular/netconfig/check_repo_access.rb']",2,a85d891ee0a47ae4d119f4e5254b5335a6818919,bug/1261940,"#!/usr/bin/env ruby require 'rubygems' require 'hiera' ENV['LANG'] = 'C' $hiera = Hiera.new(:config => '/etc/hiera.yaml') def check_repos(repos) urls = repos.map { |e| e['uri'] } urls.each do |url| command =`wget --delete-after --timeout=5 #{url}` command if $?.exitstatus !=0 raise "" Was un-able to access repo #{url}. Please check nodes access to all of the repos on the settings page"" end end end repos = $hiera.lookup('repo_setup', false, {})['repos'] check_repos(repos) ",,31,0
openstack%2Ffuel-library~master~I32cf202616cf36166d1db39c20193bcb3aadfd79,openstack/fuel-library,master,I32cf202616cf36166d1db39c20193bcb3aadfd79,Fix syntax check issue for l23network module,MERGED,2015-05-12 21:09:14.000000000,2015-05-12 21:17:48.000000000,2015-05-12 21:17:14.000000000,"[{'_account_id': 3}, {'_account_id': 8786}, {'_account_id': 8797}, {'_account_id': 8971}, {'_account_id': 11090}, {'_account_id': 14774}]","[{'number': 1, 'created': '2015-05-12 21:09:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/00b98747860f4c92c532389d552675f068420512', 'message': 'Fix syntax check issue for l23network module\n\nFuel-CI: disable\nChange-Id: I32cf202616cf36166d1db39c20193bcb3aadfd79\nRelated-bug: #1453851\n'}, {'number': 2, 'created': '2015-05-12 21:10:25.000000000', 'files': ['deployment/puppet/l23network/Gemfile'], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/4b87d3cab5070689d2e4256d8370dd7f07dbb77e', 'message': 'Fix syntax check issue for l23network module\n\nFuel-CI: disable\nChange-Id: I32cf202616cf36166d1db39c20193bcb3aadfd79\nRelated-bug: #1453851\n'}]",0,182454,4b87d3cab5070689d2e4256d8370dd7f07dbb77e,41,6,2,8786,,,0,"Fix syntax check issue for l23network module

Fuel-CI: disable
Change-Id: I32cf202616cf36166d1db39c20193bcb3aadfd79
Related-bug: #1453851
",git fetch https://review.opendev.org/openstack/fuel-library refs/changes/54/182454/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/puppet/l23network/Gemfile'],1,00b98747860f4c92c532389d552675f068420512,bug/1453851," gem 'puppet-lint', :require => '~> 0.3.2'"," gem 'puppet-lint', :require => false",1,1
openstack%2Frally~master~Id581d2b3f88fd881c1e451e204eb639800ea92c5,openstack/rally,master,Id581d2b3f88fd881c1e451e204eb639800ea92c5,Fixup resize_server docstring to match reality,MERGED,2015-05-12 18:40:47.000000000,2015-05-12 21:16:47.000000000,2015-05-12 21:04:08.000000000,"[{'_account_id': 3}, {'_account_id': 6172}, {'_account_id': 14817}]","[{'number': 1, 'created': '2015-05-12 18:40:47.000000000', 'files': ['rally/benchmark/scenarios/nova/servers.py'], 'web_link': 'https://opendev.org/openstack/rally/commit/34af381dc628e9e2661b44b65fa43813919cef14', 'message': 'Fixup resize_server docstring to match reality\n\nChange-Id: Id581d2b3f88fd881c1e451e204eb639800ea92c5\n'}]",0,182405,34af381dc628e9e2661b44b65fa43813919cef14,8,3,1,6589,,,0,"Fixup resize_server docstring to match reality

Change-Id: Id581d2b3f88fd881c1e451e204eb639800ea92c5
",git fetch https://review.opendev.org/openstack/rally refs/changes/05/182405/1 && git format-patch -1 --stdout FETCH_HEAD,['rally/benchmark/scenarios/nova/servers.py'],1,34af381dc628e9e2661b44b65fa43813919cef14,fix-resize-comment," This test will confirm the resize by default, or revert the resize if confirm is set to false.", The scenario first creates a volume and then a server. Assumes that cleanup is done elsewhere.,2,2
openstack%2Fsolum~master~I32bd6812fa700c301eb128b374e26488fa3bd719,openstack/solum,master,I32bd6812fa700c301eb128b374e26488fa3bd719,Trigger changes,MERGED,2015-04-28 18:50:15.000000000,2015-05-12 21:15:46.000000000,2015-05-12 21:15:44.000000000,"[{'_account_id': 3}, {'_account_id': 1375}, {'_account_id': 2506}, {'_account_id': 6662}, {'_account_id': 7784}]","[{'number': 1, 'created': '2015-04-28 18:50:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/solum/commit/36ed1fd176f8223621f0d756ba1bb300e542b3a9', 'message': 'Trigger changes\n\nMoved triggers and trusts to plans\n\nChange-Id: I32bd6812fa700c301eb128b374e26488fa3bd719\n'}, {'number': 2, 'created': '2015-04-29 19:11:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/solum/commit/487bbbc92a91d7ea95372925408ba2bcecc4abf8', 'message': '(WIP) Trigger changes\n\nMoved triggers and trusts to plans\n\nChange-Id: I32bd6812fa700c301eb128b374e26488fa3bd719\n'}, {'number': 3, 'created': '2015-05-11 18:43:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/solum/commit/c34433ccc088c5cf5463c6b38af31340a45b6cd6', 'message': 'Trigger changes\n\nMoved triggers and trusts to plans\n\nChange-Id: I32bd6812fa700c301eb128b374e26488fa3bd719\n'}, {'number': 4, 'created': '2015-05-12 17:30:01.000000000', 'files': ['solum/api/controllers/v1/datamodel/plan.py', 'solum/tests/api/handlers/test_plan.py', 'solum/api/controllers/v1/datamodel/assembly.py', 'functionaltests/api/v1/public/test_trigger.py', 'solum/tests/api/controllers/v1/test_trigger.py', 'tools/trigger-app.py', 'solum/objects/sqlalchemy/assembly.py', 'solum/api/handlers/assembly_handler.py', 'solum/tests/api/handlers/test_assembly.py', 'solum/tests/fakes.py', 'solum/objects/sqlalchemy/models.py', 'solum/common/exception.py', 'solum/objects/sqlalchemy/plan.py', 'solum/objects/sqlalchemy/migration/alembic_migrations/versions/5583c6e70156_move_triggers_from_assembly_to_plan.py', 'solum/tests/objects/test_assembly.py', 'solum/api/controllers/v1/trigger.py', 'solum/api/handlers/plan_handler.py', 'solum/api/handlers/camp/assembly_handler.py', 'solum/api/controllers/v1/plan.py'], 'web_link': 'https://opendev.org/openstack/solum/commit/de32eb2db0558aba242515279278950eb596c759', 'message': 'Trigger changes\n\nMoved triggers and trusts to plans\n\nChange-Id: I32bd6812fa700c301eb128b374e26488fa3bd719\n'}]",9,178327,de32eb2db0558aba242515279278950eb596c759,18,5,4,1375,,,0,"Trigger changes

Moved triggers and trusts to plans

Change-Id: I32bd6812fa700c301eb128b374e26488fa3bd719
",git fetch https://review.opendev.org/openstack/solum refs/changes/27/178327/3 && git format-patch -1 --stdout FETCH_HEAD,"['solum/api/controllers/v1/datamodel/plan.py', 'solum/tests/api/handlers/test_plan.py', 'solum/api/controllers/v1/datamodel/assembly.py', 'solum/tests/api/controllers/v1/test_trigger.py', 'tools/trigger-app.py', 'solum/objects/sqlalchemy/assembly.py', 'solum/api/handlers/assembly_handler.py', 'solum/tests/api/handlers/test_assembly.py', 'solum/tests/fakes.py', 'solum/objects/sqlalchemy/models.py', 'solum/objects/sqlalchemy/plan.py', 'solum/objects/sqlalchemy/migration/alembic_migrations/versions/5583c6e70156_move_triggers_from_assembly_to_plan.py', 'solum/tests/objects/test_assembly.py', 'solum/api/controllers/v1/trigger.py', 'solum/api/handlers/plan_handler.py', 'solum/api/controllers/v1/plan.py']",16,36ed1fd176f8223621f0d756ba1bb300e542b3a9,trigger-changes," host_url = pecan.request.host_url ref_content['uri'] = '%s/v1/plans/%s' % (host_url, m.uuid) ref_content['trigger_uri'] = ('%s/v1/triggers/%s' % (host_url, m.trigger_id))"," ref_content['uri'] = '%s/v1/plans/%s' % (pecan.request.host_url, m.uuid)",258,139
openstack%2Ffuel-library~master~Iaa78c80caaa6555350f6fb2acb034e010c70ddfd,openstack/fuel-library,master,Iaa78c80caaa6555350f6fb2acb034e010c70ddfd,Fix Ceph deployment on controller node combined with 'cinder-vmware' role,MERGED,2015-05-12 10:27:59.000000000,2015-05-12 21:15:13.000000000,2015-05-12 21:14:28.000000000,"[{'_account_id': 3}, {'_account_id': 7195}, {'_account_id': 8786}, {'_account_id': 8971}, {'_account_id': 11090}, {'_account_id': 11427}, {'_account_id': 12199}, {'_account_id': 13948}, {'_account_id': 14774}, {'_account_id': 14946}, {'_account_id': 14985}]","[{'number': 1, 'created': '2015-05-12 10:27:59.000000000', 'files': ['deployment/puppet/osnailyfacter/modular/openstack-cinder/openstack-cinder.pp', 'deployment/puppet/openstack/manifests/cinder.pp'], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/b302fc12fc54c2fb8fa20e19f37b21d9c516afcf', 'message': ""Fix Ceph deployment on controller node combined with 'cinder-vmware' role\n\n- Ceph granular deployment task tries to start 'cinder-backup' and\n  'cinder-volume' services after execution of 'ceph' puppet class, but\n  services fail to start, because needed init.d files are absent\n  (appropriate packages are not installed); root cause of this failure\n  is that 'openstack-cinder' task should check cinder-vmware role as last\n  attempt, now if 'cinder-vmware' role is assigned to controller it\n  changes execution code path that way that openstack-cinder configures\n  VMDK backend instead of Ceph which installs needed packages\n- remove 'cinder::volume::vmdk' class declaration out of\n  'openstack::cinder' puppet class\n\nChange-Id: Iaa78c80caaa6555350f6fb2acb034e010c70ddfd\nCloses-bug: #1453082\n""}]",1,182225,b302fc12fc54c2fb8fa20e19f37b21d9c516afcf,33,11,1,11427,,,0,"Fix Ceph deployment on controller node combined with 'cinder-vmware' role

- Ceph granular deployment task tries to start 'cinder-backup' and
  'cinder-volume' services after execution of 'ceph' puppet class, but
  services fail to start, because needed init.d files are absent
  (appropriate packages are not installed); root cause of this failure
  is that 'openstack-cinder' task should check cinder-vmware role as last
  attempt, now if 'cinder-vmware' role is assigned to controller it
  changes execution code path that way that openstack-cinder configures
  VMDK backend instead of Ceph which installs needed packages
- remove 'cinder::volume::vmdk' class declaration out of
  'openstack::cinder' puppet class

Change-Id: Iaa78c80caaa6555350f6fb2acb034e010c70ddfd
Closes-bug: #1453082
",git fetch https://review.opendev.org/openstack/fuel-library refs/changes/25/182225/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/puppet/osnailyfacter/modular/openstack-cinder/openstack-cinder.pp', 'deployment/puppet/openstack/manifests/cinder.pp']",2,b302fc12fc54c2fb8fa20e19f37b21d9c516afcf,bug/1453082,," 'vmdk': { class {'cinder::volume::vmdk': host_ip => $::openstack::cinder::vmware_host_ip, host_username => $::openstack::cinder::vmware_host_username, host_password => $::openstack::cinder::vmware_host_password, } }",2,9
openstack%2Fpython-openstackclient~stable%2Fkilo~I01cf9b37709fcc05fbbab531589b4aea8b626114,openstack/python-openstackclient,stable/kilo,I01cf9b37709fcc05fbbab531589b4aea8b626114,Updated from global requirements,MERGED,2015-04-16 12:12:47.000000000,2015-05-12 21:03:33.000000000,2015-05-12 21:03:32.000000000,"[{'_account_id': 3}, {'_account_id': 970}, {'_account_id': 6873}]","[{'number': 1, 'created': '2015-04-16 12:12:47.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/e750e5784dcb4b58ef2359f9dded9064a92b58a3', 'message': 'Updated from global requirements\n\nChange-Id: I01cf9b37709fcc05fbbab531589b4aea8b626114\n'}]",0,174341,e750e5784dcb4b58ef2359f9dded9064a92b58a3,9,3,1,11131,,,0,"Updated from global requirements

Change-Id: I01cf9b37709fcc05fbbab531589b4aea8b626114
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/41/174341/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,e750e5784dcb4b58ef2359f9dded9064a92b58a3,openstack/requirements,"python-glanceclient>=0.15.0,<0.18.0 python-keystoneclient>=1.1.0,<1.4.0 python-novaclient>=2.22.0,<2.24.0 python-cinderclient>=1.1.0,<1.2.0 python-neutronclient>=2.3.11,<2.5.0","python-glanceclient>=0.15.0 python-keystoneclient>=1.1.0 python-novaclient>=2.22.0 python-cinderclient>=1.1.0 python-neutronclient>=2.3.11,<3",5,5
openstack%2Fopenstacksdk~master~I740e4930f32eb1d189063159b2a106ab891a9d12,openstack/openstacksdk,master,I740e4930f32eb1d189063159b2a106ab891a9d12,Add clouds.yaml file for contributor testing docs,MERGED,2015-05-11 17:54:29.000000000,2015-05-12 21:02:03.000000000,2015-05-12 21:02:02.000000000,"[{'_account_id': 3}, {'_account_id': 1112}, {'_account_id': 8736}, {'_account_id': 10873}]","[{'number': 1, 'created': '2015-05-11 17:54:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/38a1c9598b4fdacc1bd04b0ab781ae304357d405', 'message': 'Add clouds.yaml file for contributor testing docs\n\nChange-Id: I740e4930f32eb1d189063159b2a106ab891a9d12\n'}, {'number': 2, 'created': '2015-05-12 14:01:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/2279cf2be7affac4d36a8378cbdb620438348649', 'message': 'Add clouds.yaml file for contributor testing docs\n\nChange-Id: I740e4930f32eb1d189063159b2a106ab891a9d12\n'}, {'number': 3, 'created': '2015-05-12 20:46:51.000000000', 'files': ['doc/source/contributors/clouds.yaml'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/c64fee36cb5e9972184adfc9d35bde5b0e475ce6', 'message': 'Add clouds.yaml file for contributor testing docs\n\nChange-Id: I740e4930f32eb1d189063159b2a106ab891a9d12\n'}]",1,182001,c64fee36cb5e9972184adfc9d35bde5b0e475ce6,22,4,3,8736,,,0,"Add clouds.yaml file for contributor testing docs

Change-Id: I740e4930f32eb1d189063159b2a106ab891a9d12
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/01/182001/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributors/clouds.yaml'],1,38a1c9598b4fdacc1bd04b0ab781ae304357d405,cloudsyaml,clouds: fone: region_name: boneville default_domain: 'Valley' identity_api_version: 3 auth: auth_url: http://172.20.1.112:5000/v3/ project_name: cowrace username: fonebone password: thorn phoney: region_name: barrelhaven identity_api_version: 2 auth: auth_url: http://172.20.1.112:5000/v2.0/ project_name: dragonslayer username: phoneybone password: gold smiley: auth: auth_url: http://172.20.1.112:5000/v3/ project_name: mysterycow project_domain_name: 'Default' user_domain_name: 'Default' username: smileybone password: cigar ,,26,0
openstack%2Fopenstacksdk~master~I0d025e9d7007e183adb729251aa402f3c3826b1e,openstack/openstacksdk,master,I0d025e9d7007e183adb729251aa402f3c3826b1e,Remove clouds.yaml from gitignore,MERGED,2015-05-12 14:05:08.000000000,2015-05-12 21:01:51.000000000,2015-05-12 21:01:48.000000000,"[{'_account_id': 3}, {'_account_id': 1112}, {'_account_id': 8257}, {'_account_id': 8736}]","[{'number': 1, 'created': '2015-05-12 14:05:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/4fad14c7e505010d9c640446831083f2e67e4605', 'message': ""Remove clouds.yaml from gitignore\n\nI keep my clouds.yaml file in my .config directory and not in\nthe development area.  I'm not sure why we should ignore this.\n\nChange-Id: I0d025e9d7007e183adb729251aa402f3c3826b1e\n""}, {'number': 2, 'created': '2015-05-12 20:47:07.000000000', 'files': ['.gitignore'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/1ef03af3f03dbc42b4f87453208b011fcf4cf2ef', 'message': ""Remove clouds.yaml from gitignore\n\nI keep my clouds.yaml file in my .config directory and not in\nthe development area.  I'm not sure why we should ignore this.\n\nChange-Id: I0d025e9d7007e183adb729251aa402f3c3826b1e\n""}]",0,182304,1ef03af3f03dbc42b4f87453208b011fcf4cf2ef,12,4,2,8736,,,0,"Remove clouds.yaml from gitignore

I keep my clouds.yaml file in my .config directory and not in
the development area.  I'm not sure why we should ignore this.

Change-Id: I0d025e9d7007e183adb729251aa402f3c3826b1e
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/04/182304/2 && git format-patch -1 --stdout FETCH_HEAD,['.gitignore'],1,4fad14c7e505010d9c640446831083f2e67e4605,ignorecloudsyaml,,# os-client-config clouds.yaml ,0,3
openstack%2Fcliff~master~Ic76c2bef1cd6b82f453251f12f131771d0c0048b,openstack/cliff,master,Ic76c2bef1cd6b82f453251f12f131771d0c0048b,Defer interactive import,MERGED,2015-04-14 03:49:13.000000000,2015-05-12 21:00:06.000000000,2015-05-12 21:00:04.000000000,"[{'_account_id': 3}, {'_account_id': 2472}, {'_account_id': 8736}]","[{'number': 1, 'created': '2015-04-14 03:49:13.000000000', 'files': ['cliff/app.py'], 'web_link': 'https://opendev.org/openstack/cliff/commit/b6efad3667bbd3c5ab029da11b0df0b03eb0da0b', 'message': 'Defer interactive import\n\nImporting cliff.interactive is expense time-wise because cmd2 is\nexpensive to import.  Defer the initial import until we know we\nare going to interactive mode.\n\nStatic testing puts the savings around 50-60ms on my MacBook Air.\n\nChange-Id: Ic76c2bef1cd6b82f453251f12f131771d0c0048b\n'}]",0,173164,b6efad3667bbd3c5ab029da11b0df0b03eb0da0b,7,3,1,970,,,0,"Defer interactive import

Importing cliff.interactive is expense time-wise because cmd2 is
expensive to import.  Defer the initial import until we know we
are going to interactive mode.

Static testing puts the savings around 50-60ms on my MacBook Air.

Change-Id: Ic76c2bef1cd6b82f453251f12f131771d0c0048b
",git fetch https://review.opendev.org/openstack/cliff refs/changes/64/173164/1 && git format-patch -1 --stdout FETCH_HEAD,['cliff/app.py'],1,b6efad3667bbd3c5ab029da11b0df0b03eb0da0b,defer-imports," interactive_app_factory=None, # Defer importing .interactive as cmd2 is a slow import from .interactive import InteractiveApp if self.interactive_app_factory is None: self.interactive_app_factory = InteractiveApp","from .interactive import InteractiveApp interactive_app_factory=InteractiveApp,",6,2
openstack%2Fcliff~master~If6e6b6b31d78fce1f37019d486b15a9a78253c33,openstack/cliff,master,If6e6b6b31d78fce1f37019d486b15a9a78253c33,Sort the fuzzy matches,MERGED,2015-04-14 14:17:50.000000000,2015-05-12 20:54:32.000000000,2015-05-12 20:54:30.000000000,"[{'_account_id': 3}, {'_account_id': 970}, {'_account_id': 2472}, {'_account_id': 2750}, {'_account_id': 15054}]","[{'number': 1, 'created': '2015-04-14 14:17:50.000000000', 'files': ['cliff/tests/test_help.py', '.gitignore', 'cliff/help.py'], 'web_link': 'https://opendev.org/openstack/cliff/commit/a84421ede7b393c184fc0c159777d508cedb8328', 'message': 'Sort the fuzzy matches\n\nSort the fuzzy matches alphabetically:\n    (.venv)terry@f350:~/python-openstackclient$ os help server\n    Command ""server"" matches:\n      server add security group\n      server add volume\n      server create\n      server delete\n      server image create\n      server list\n      server lock\n      ...\n\nChange-Id: If6e6b6b31d78fce1f37019d486b15a9a78253c33\n'}]",0,173341,a84421ede7b393c184fc0c159777d508cedb8328,9,5,1,8736,,,0,"Sort the fuzzy matches

Sort the fuzzy matches alphabetically:
    (.venv)terry@f350:~/python-openstackclient$ os help server
    Command ""server"" matches:
      server add security group
      server add volume
      server create
      server delete
      server image create
      server list
      server lock
      ...

Change-Id: If6e6b6b31d78fce1f37019d486b15a9a78253c33
",git fetch https://review.opendev.org/openstack/cliff refs/changes/41/173341/1 && git format-patch -1 --stdout FETCH_HEAD,"['cliff/tests/test_help.py', '.gitignore', 'cliff/help.py']",3,a84421ede7b393c184fc0c159777d508cedb8328,, for fm in sorted(fuzzy_matches):, for fm in fuzzy_matches:,6,3
openstack%2Fopenstacksdk~master~Iac5551b7f853d96bfb13bc59172b03e9381cc286,openstack/openstacksdk,master,Iac5551b7f853d96bfb13bc59172b03e9381cc286,Activate the cdn stuff,MERGED,2015-05-12 18:02:04.000000000,2015-05-12 20:49:15.000000000,2015-05-12 20:49:13.000000000,"[{'_account_id': 3}, {'_account_id': 8257}, {'_account_id': 8736}]","[{'number': 1, 'created': '2015-05-12 18:02:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/fd517e3f435d428a432d0eb21c4c073d6371b914', 'message': ""Activate the cdn stuff\n\nI'm not sure why the CDN stuff got added in the first place, but\nthere was no init file to load it.\n\nChange-Id: Iac5551b7f853d96bfb13bc59172b03e9381cc286\n""}, {'number': 2, 'created': '2015-05-12 20:37:09.000000000', 'files': ['openstack/cdn/__init__.py', 'openstack/cdn/v1/__init__.py', 'openstack/cdn/v1/_proxy.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/c4fb727a71397079b7bb9590ccf16b239456c18e', 'message': ""Activate the cdn stuff\n\nI'm not sure why the CDN stuff got added in the first place, but\nthere was no init file to load it.\n\nChange-Id: Iac5551b7f853d96bfb13bc59172b03e9381cc286\n""}]",3,182399,c4fb727a71397079b7bb9590ccf16b239456c18e,11,3,2,8736,,,0,"Activate the cdn stuff

I'm not sure why the CDN stuff got added in the first place, but
there was no init file to load it.

Change-Id: Iac5551b7f853d96bfb13bc59172b03e9381cc286
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/99/182399/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/cdn/__init__.py', 'openstack/cdn/v1/__init__.py', 'openstack/cdn/v1/_proxy.py']",3,fd517e3f435d428a432d0eb21c4c073d6371b914,proxydocs, pass,from openstack.cdn.v1 import ping def ping(self): return ping.Ping().get(self.session),1,4
openstack%2Fgrenade~master~Id7e2e7db4f5160d9019d76717db356518bfb5931,openstack/grenade,master,Id7e2e7db4f5160d9019d76717db356518bfb5931,further updates to plugins documentation,MERGED,2015-05-08 10:45:37.000000000,2015-05-12 20:43:23.000000000,2015-05-12 20:43:21.000000000,"[{'_account_id': 3}, {'_account_id': 1849}, {'_account_id': 2750}, {'_account_id': 4393}, {'_account_id': 5196}]","[{'number': 1, 'created': '2015-05-08 10:45:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/grenade/commit/31a4bdce8706ee4c9e7918ddec1116f0abf9803f', 'message': ""further updates to plugins documentation\n\nThis should bring the PLUGINS.rst document up to date with the current\nimplementation in the code. There are still things to design and say\nabout external from tree support, as well as the 'settings' file,\nhowever this covers the resources.sh.\n\nChange-Id: Id7e2e7db4f5160d9019d76717db356518bfb5931\n""}, {'number': 2, 'created': '2015-05-11 12:09:00.000000000', 'files': ['PLUGINS.rst'], 'web_link': 'https://opendev.org/openstack/grenade/commit/7a9800be36f6d23b4005d7734d412ad1e3b13f10', 'message': ""further updates to plugins documentation\n\nThis should bring the PLUGINS.rst document up to date with the current\nimplementation in the code. There are still things to design and say\nabout external from tree support, as well as the 'settings' file,\nhowever this covers the resources.sh.\n\nChange-Id: Id7e2e7db4f5160d9019d76717db356518bfb5931\n""}]",5,181358,7a9800be36f6d23b4005d7734d412ad1e3b13f10,15,5,2,2750,,,0,"further updates to plugins documentation

This should bring the PLUGINS.rst document up to date with the current
implementation in the code. There are still things to design and say
about external from tree support, as well as the 'settings' file,
however this covers the resources.sh.

Change-Id: Id7e2e7db4f5160d9019d76717db356518bfb5931
",git fetch https://review.opendev.org/openstack/grenade refs/changes/58/181358/1 && git format-patch -1 --stdout FETCH_HEAD,['PLUGINS.rst'],1,31a4bdce8706ee4c9e7918ddec1116f0abf9803f,update-docs,"- resources.sh create - resources.sh verify- snapshot.sh pre_upgrade (NOT YET IMPLEMENTED) - resources.sh verify_noapi- resources.sh verify- resources.sh destroy database dump (NOT YET IMPLEMENTED)resources.sh is a per server resource create / verify / destroy interface. What a service does inside a script is up to them. You can assume your resource script will only be called if your service is running in an upgrade environment. The script should return 0 on success for actions, and non 0 on failure. Calling Interface --------- The following is the supported calling interface- resources.sh destroy Resource scripts should be responsible and cleanup all their resources when asked to destroy. Calling Sequence ---------------- The calling sequence during a grenade run looks as follows: - # start old side - create (create will be called during the working old side) - verify - # shutdown all services - verify_noapi - # upgrade and start all services - verify - destroy The important thing to remember is verify/verify_noapi will be called multiple times, with multiple different versions of OpenStack. Those phases of the script must not be rerunnable multiple times. While create / destroy are only going to be called once in the current interface, bonus points for also making those idempotent for resiliancy in testing. Supporting Methods ------------------ resource_save project key value resource_get project key This allow resource scripts to have memory, and keep track of things like the allocated IP addresses, IDs, and other non deterministic data that is returned from OpenStack API calls. Environment ----------- Resource scripts get called in a specific environment already set: - TOP_DIR - will be set to the root of the devstack directory for the BASE version of devstack incase this is needed to find files like a working ``openrc`` - GRENADE_DIR - the root directory of the grenade directory. The following snippet will give you access to both the grenade and TARGET devstack functions:: source $GRENADE_DIR/grenaderc source $GRENADE_DIR/functions Best Practices -------------- Do as many actions as non admin as possible. As early as you can in your resource script it's worth allocating a user/project for the script to run as. This ensures isolation against other scripts, and ensures that actions don't only work because admin gets to bypass safeties. Test side effects, not just API actions. The point of these resource survival scripts is to test that things created beyond the API / DB interaction still work later. Just testing that data can be stored / retrieved from the database isn't very interesting, and should be covered other places. The value in the resource scripts is these side effects. Actual VMs running, actual iscsi targets running, etc. And ensuring these things are not disrupted when the control plane is shifted out from under them.",- resources-create- snapshot.sh pre_upgrade - resources-survive-shutdown- resources-survive-upgrade- resources_cleanup database dump verify.shThis is a script that's designed to be called in the following ways:- resources.sh survived_shutdown resource survival checks for after all services are shut down (the in between phase for upgrades). Script should exit with a non zero exit code if any resources were detected as offline. - resources.sh survived_upgrade resource survival checks for after all services are started on the new code revisions. Script should exit with a non zero exit code if any resources no longer exist after the upgrade. - resources.sh cleanup cleanup all resources resource_data_add project key value resource_data_get project key,90,26
openstack%2Fsecurity-doc~master~I3f2565ecea1436e4786cb659f8a0abb059bad9ea,openstack/security-doc,master,I3f2565ecea1436e4786cb659f8a0abb059bad9ea,Fix grammatical errors in security-guide/networking-services,MERGED,2015-04-28 00:51:24.000000000,2015-05-12 20:42:29.000000000,2015-05-12 20:42:28.000000000,"[{'_account_id': 3}, {'_account_id': 6547}, {'_account_id': 9382}, {'_account_id': 9383}, {'_account_id': 10670}, {'_account_id': 12325}, {'_account_id': 12442}]","[{'number': 1, 'created': '2015-04-28 00:51:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/security-doc/commit/e4fb04d2d257bba80ca724a41eddcf3a65952817', 'message': 'Fix grammatical errors in security-guide/networking-services\n\nGrammatical errors were fixed under the ""Firewalls"" subsection of\nsection_networking-services.xml\n\nChange-Id: I3f2565ecea1436e4786cb659f8a0abb059bad9ea\nCloses-Bug: #1447754\nCo-Authored-By: Shellee Aragon <shellee.arnold@hp.com>\n'}, {'number': 2, 'created': '2015-05-11 22:14:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/security-doc/commit/26164f3303a8daa9a7f1ac53ec3dfdc9c770fe75', 'message': 'Fix grammatical errors in security-guide/networking-services\n\nChange-Id: I3f2565ecea1436e4786cb659f8a0abb059bad9ea\n'}, {'number': 3, 'created': '2015-05-11 22:16:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/security-doc/commit/bf8911758bb184edb676e52ac134160db8a73dc4', 'message': 'Fix grammatical errors in security-guide/networking-services\n\nGrammatical errors were fixed under the ""Firewalls"" subsection of\nsection_networking-services.xml\n\nChange-Id: I3f2565ecea1436e4786cb659f8a0abb059bad9ea\nCloses-Bug: #1447754\nCo-Authored-By: Shellee Aragon <shellee.arnold@hp.com>\n'}, {'number': 4, 'created': '2015-05-11 22:33:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/security-doc/commit/d72cb91408489a08d54494990c79fbc0b973a001', 'message': 'Fix grammatical errors in security-guide/networking-services\n\nGrammatical errors were fixed under the ""Firewalls"" subsection of\nsection_networking-services.xml\n\nChange-Id: I3f2565ecea1436e4786cb659f8a0abb059bad9ea\nCloses-Bug: #1447754\nCo-Authored-By: Shellee Aragon <shellee.arnold@hp.com>\n'}, {'number': 5, 'created': '2015-05-12 19:22:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/security-doc/commit/e75c31d837ab80f2157ea339b371032d07eb1df6', 'message': 'Fix grammatical errors in security-guide/networking-services\n\nGrammatical errors were fixed under the ""Firewalls"" subsection of\nsection_networking-services.xml\n\nChange-Id: I3f2565ecea1436e4786cb659f8a0abb059bad9ea\nCloses-Bug: #1447754\nCo-Authored-By: Shellee Aragon <shellee.arnold@hp.com>\n'}, {'number': 6, 'created': '2015-05-12 19:25:05.000000000', 'files': ['security-guide/section_networking-services.xml'], 'web_link': 'https://opendev.org/openstack/security-doc/commit/6e5e0b8e333670b1f7fce084e34f40db6b67c84b', 'message': 'Fix grammatical errors in security-guide/networking-services\n\nGrammatical errors were fixed under the ""Firewalls"" subsection of\nsection_networking-services.xml\n\nChange-Id: I3f2565ecea1436e4786cb659f8a0abb059bad9ea\nCloses-Bug: #1447754\nCo-Authored-By: Shellee Aragon <shellee.arnold@hp.com>\n'}]",1,178016,6e5e0b8e333670b1f7fce084e34f40db6b67c84b,23,7,6,14920,,,0,"Fix grammatical errors in security-guide/networking-services

Grammatical errors were fixed under the ""Firewalls"" subsection of
section_networking-services.xml

Change-Id: I3f2565ecea1436e4786cb659f8a0abb059bad9ea
Closes-Bug: #1447754
Co-Authored-By: Shellee Aragon <shellee.arnold@hp.com>
",git fetch https://review.opendev.org/openstack/security-doc refs/changes/16/178016/4 && git format-patch -1 --stdout FETCH_HEAD,['security-guide/section_networking-services.xml'],1,e4fb04d2d257bba80ca724a41eddcf3a65952817,bug/1447754, <para>Best practices determine the importance of understanding the current features and limitations of network services available in the implementation of an OpenStack Networking infrastructure during the design stage. Understanding where the boundaries of the virtual and physical networks will assist in adding the required security controls in your environment.</para>, <para>It is critical during the design of an OpenStack Networking infrastructure to understand the current features and limitations of network services that are available. Understanding where the boundaries of your virtual and physical networks will help you add the required security controls in your environment.</para>,1,1
openstack%2Foctavia~master~I8274832b5bfbabdf29f2491a5a7591e0817f6345,openstack/octavia,master,I8274832b5bfbabdf29f2491a5a7591e0817f6345,Fixes issue where loadbalancer is None in flow,MERGED,2015-05-12 19:49:19.000000000,2015-05-12 20:32:55.000000000,2015-05-12 20:32:55.000000000,"[{'_account_id': 3}, {'_account_id': 10980}, {'_account_id': 11628}, {'_account_id': 12403}]","[{'number': 1, 'created': '2015-05-12 19:49:19.000000000', 'files': ['octavia/controller/worker/flows/amphora_flows.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/abc0374960f75fc99ce5d0c5fb6c6f2e714f144d', 'message': ""Fixes issue where loadbalancer is None in flow\n\nA task was saying it provided LOADBALANCER but it wasn't returning\nanything, so it overwrote the LOADBALANCER with None.\n\nChange-Id: I8274832b5bfbabdf29f2491a5a7591e0817f6345\nCloses-Bug: #1453945\n""}]",0,182431,abc0374960f75fc99ce5d0c5fb6c6f2e714f144d,7,4,1,6951,,,0,"Fixes issue where loadbalancer is None in flow

A task was saying it provided LOADBALANCER but it wasn't returning
anything, so it overwrote the LOADBALANCER with None.

Change-Id: I8274832b5bfbabdf29f2491a5a7591e0817f6345
Closes-Bug: #1453945
",git fetch https://review.opendev.org/openstack/octavia refs/changes/31/182431/1 && git format-patch -1 --stdout FETCH_HEAD,['octavia/controller/worker/flows/amphora_flows.py'],1,abc0374960f75fc99ce5d0c5fb6c6f2e714f144d,bug/1453945," requires=(constants.AMPHORA, constants.LOADBALANCER_ID)))"," requires=(constants.AMPHORA, constants.LOADBALANCER_ID), provides=constants.LOADBALANCER))",1,2
openstack%2Ffuel-web~master~I7186bb485969c57789cd1e1cc588a8f7b8ba9917,openstack/fuel-web,master,I7186bb485969c57789cd1e1cc588a8f7b8ba9917,Creating keystone user on customer stats opt-in,MERGED,2015-05-10 16:56:05.000000000,2015-05-12 20:32:04.000000000,2015-05-12 20:17:29.000000000,"[{'_account_id': 3}, {'_account_id': 8053}, {'_account_id': 8392}, {'_account_id': 8749}, {'_account_id': 8776}, {'_account_id': 8789}, {'_account_id': 8907}, {'_account_id': 8931}, {'_account_id': 8954}, {'_account_id': 8971}, {'_account_id': 10391}, {'_account_id': 10959}, {'_account_id': 11577}, {'_account_id': 12200}, {'_account_id': 13445}]","[{'number': 1, 'created': '2015-05-10 16:56:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/687e30a8277c9d9d52fc8666f8857562489afec4', 'message': ""Creating keystone user on customer stats opt-in\n\nFor creating keystone user on customer stats opt-in we are using\nastute 'execute_task' with type 'puppet'. Puppet granule\n'workloads_collector.pp' used for it. Puppet manifest will be applied\nonly on primary-controllers of operational clusters.\n\nIf customer is opted-in to stats before cluster deployment - keystone\nuser will be created during deployment process without additional tasks\nin the Nailgun.\n\nOn the opt-out action nothing is to be done by design.\n\nItems of the change:\n\n- Creating tasks on user creation added to the master node settings handler\n- Task name 'create_stats_user' added\n- Method for getting primary node added to the objects.Cluster\n- Task CreateStatsUserTask for executing puppet manifest for creating stats user added\n- Fake thread for processing astute 'execute_task' added\n- Logging of the task CreateStatsUserTask into action_logs handled\n- Extracted base test class for master node settings tests\n\nChange-Id: I7186bb485969c57789cd1e1cc588a8f7b8ba9917\nCloses-Bug: #1452821\n""}, {'number': 2, 'created': '2015-05-12 12:02:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/00b7f25cbfc4a861d1f5e79e0be8ae432a713d09', 'message': ""Creating keystone user on customer stats opt-in\n\nFor creating keystone user on customer stats opt-in we are using\nastute 'execute_task' with type 'puppet'. Puppet granule\n'workloads_collector.pp' used for it. Puppet manifest will be applied\nonly on primary-controllers of operational clusters.\n\nIf customer is opted-in to stats before cluster deployment - keystone\nuser will be created during deployment process without additional tasks\nin the Nailgun.\n\nOn the opt-out action nothing is to be done by design.\n\nItems of the change:\n\n- Creating tasks on user creation added to the master node settings handler\n- Task name 'create_stats_user' added\n- Method for getting primary node added to the objects.Cluster\n- Task CreateStatsUserTask for executing puppet manifest for creating stats user added\n- Fake thread for processing astute 'execute_task' added\n- Logging of the task CreateStatsUserTask into action_logs handled\n- Extracted base test class for master node settings tests\n- Parameter user renamed to username in workloads_collector section of openstack.yaml\n\nChange-Id: I7186bb485969c57789cd1e1cc588a8f7b8ba9917\nCloses-Bug: #1452821\n""}, {'number': 3, 'created': '2015-05-12 12:47:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/7c9cd3e49bc8fedde3af12df7007c2cef8d299cd', 'message': ""Creating keystone user on customer stats opt-in\n\nFor creating keystone user on customer stats opt-in we are using\nastute 'execute_task' with type 'puppet'. Puppet granule\n'workloads_collector.pp' used for it. Puppet manifest will be applied\nonly on primary-controllers of operational clusters.\n\nIf customer is opted-in to stats before cluster deployment - keystone\nuser will be created during deployment process without additional tasks\nin the Nailgun.\n\nOn the opt-out action nothing is to be done by design.\n\nItems of the change:\n\n- Creating tasks on user creation added to the master node settings handler\n- Task name 'create_stats_user' added\n- Method for getting primary node added to the objects.Cluster\n- Task CreateStatsUserTask for executing puppet manifest for creating stats\n  user added\n- Fake thread for processing astute 'execute_task' added\n- Logging of the task CreateStatsUserTask into action_logs handled\n- Extracted base test class for master node settings tests\n- Parameter for workloads username renamed from 'user' to 'username' in\n  deployment orchestration. It is required for proper 'workloads_collector'\n  granule processing\n\nChange-Id: I7186bb485969c57789cd1e1cc588a8f7b8ba9917\nCloses-Bug: #1452821\n""}, {'number': 4, 'created': '2015-05-12 13:02:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/bc444989b07a595dfe739427851d1ce196ebfad8', 'message': ""Creating keystone user on customer stats opt-in\n\nFor creating keystone user on customer stats opt-in we are using\nastute 'execute_task' with type 'puppet'. Puppet granule\n'workloads_collector.pp' used for it. Puppet manifest will be applied\nonly on primary-controllers of operational clusters.\n\nIf customer is opted-in to stats before cluster deployment - keystone\nuser will be created during deployment process without additional tasks\nin the Nailgun.\n\nOn the opt-out action nothing is to be done by design.\n\nItems of the change:\n\n- Creating tasks on user creation added to the master node settings handler\n- Task name 'create_stats_user' added\n- Method for getting primary node added to the objects.Cluster\n- Task CreateStatsUserTask for executing puppet manifest for creating stats\n  user added\n- Fake thread for processing astute 'execute_task' added\n- Logging of the task CreateStatsUserTask into action_logs handled\n- Extracted base test class for master node settings tests\n- Parameter for workloads username renamed from 'user' to 'username' in\n  deployment orchestration. It is required for proper 'workloads_collector'\n  granule processing\n\nChange-Id: I7186bb485969c57789cd1e1cc588a8f7b8ba9917\nCloses-Bug: #1452821\n""}, {'number': 5, 'created': '2015-05-12 13:54:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/0b4abd66983906de1673997bef8444bbfc270938', 'message': ""Creating keystone user on customer stats opt-in\n\nFor creating keystone user on customer stats opt-in we are using\nastute 'execute_task' with type 'puppet'. Puppet granule\n'workloads_collector.pp' used for it. Puppet manifest will be applied\nonly on primary-controllers of operational clusters.\n\nIf customer is opted-in to stats before cluster deployment - keystone\nuser will be created during deployment process without additional tasks\nin the Nailgun.\n\nOn the opt-out action nothing is to be done by design.\n\nItems of the change:\n\n- Creating tasks on user creation added to the master node settings handler\n- Task name 'create_stats_user' added\n- Method for getting primary node added to the objects.Cluster\n- Task CreateStatsUserTask for executing puppet manifest for creating stats\n  user added\n- Fake thread for processing astute 'execute_task' added\n- Logging of the task CreateStatsUserTask into action_logs handled\n- Extracted base test class for master node settings tests\n- Parameter for workloads username renamed from 'user' to 'username' in\n  deployment orchestration. It is required for proper 'workloads_collector'\n  granule processing\n\nChange-Id: I7186bb485969c57789cd1e1cc588a8f7b8ba9917\nCloses-Bug: #1452821\n""}, {'number': 6, 'created': '2015-05-12 14:29:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/64ce0c34281081059d99f64e5253892b22aa5f25', 'message': ""Creating keystone user on customer stats opt-in\n\nFor creating keystone user on customer stats opt-in we are using\nastute 'execute_task' with type 'puppet'. Puppet granule\n'workloads_collector.pp' used for it. Puppet manifest will be applied\nonly on primary-controllers of operational clusters.\n\nIf customer is opted-in to stats before cluster deployment - keystone\nuser will be created during deployment process without additional tasks\nin the Nailgun.\n\nOn the opt-out action nothing is to be done by design.\n\nItems of the change:\n\n- Creating tasks on user creation added to the master node settings handler\n- Task name 'create_stats_user' added\n- Method for getting primary node added to the objects.Cluster\n- Task CreateStatsUserTask for executing puppet manifest for creating stats\n  user added\n- Fake thread for processing astute 'execute_task' added\n- Logging of the task CreateStatsUserTask into action_logs handled\n- Extracted base test class for master node settings tests\n- Parameter for workloads username renamed from 'user' to 'username' in\n  deployment orchestration. It is required for proper 'workloads_collector'\n  granule processing\n\nChange-Id: I7186bb485969c57789cd1e1cc588a8f7b8ba9917\nCloses-Bug: #1452821\n""}, {'number': 7, 'created': '2015-05-12 15:05:10.000000000', 'files': ['nailgun/nailgun/test/unit/test_cluster.py', 'nailgun/nailgun/task/helpers.py', 'nailgun/nailgun/test/integration/test_master_node_settings_handler.py', 'nailgun/nailgun/orchestrator/deployment_serializers.py', 'nailgun/nailgun/rpc/receiver.py', 'nailgun/nailgun/consts.py', 'nailgun/nailgun/test/integration/test_cluster.py', 'nailgun/nailgun/task/manager.py', 'nailgun/nailgun/task/task.py', 'nailgun/nailgun/test/integration/test_action_logs.py', 'nailgun/nailgun/test/base.py', 'nailgun/nailgun/objects/cluster.py', 'nailgun/nailgun/task/fake.py', 'nailgun/nailgun/test/integration/test_stats_user_task_manager.py', 'nailgun/nailgun/db/migration/alembic_migrations/versions/fuel_6_1.py', 'nailgun/nailgun/api/v1/handlers/master_node_settings.py', 'nailgun/nailgun/test/integration/test_orchestrator_serializer.py'], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/aa7b23579779e904f0963348e29af63f530eec36', 'message': ""Creating keystone user on customer stats opt-in\n\nFor creating keystone user on customer stats opt-in we are using\nastute 'execute_task' with type 'puppet'. Puppet granule\n'workloads_collector.pp' used for it. Puppet manifest will be applied\nonly on primary-controllers of operational clusters.\n\nIf customer is opted-in to stats before cluster deployment - keystone\nuser will be created during deployment process without additional tasks\nin the Nailgun.\n\nOn the opt-out action nothing is to be done by design.\n\nItems of the change:\n\n- Creating tasks on user creation added to the master node settings handler\n- Task name 'create_stats_user' added\n- Method for getting primary node added to the objects.Cluster\n- Task CreateStatsUserTask for executing puppet manifest for creating stats\n  user added\n- Fake thread for processing astute 'execute_task' added\n- Logging of the task CreateStatsUserTask into action_logs handled\n- Extracted base test class for master node settings tests\n- Parameter for workloads username renamed from 'user' to 'username' in\n  deployment orchestration. It is required for proper 'workloads_collector'\n  granule processing\n\nChange-Id: I7186bb485969c57789cd1e1cc588a8f7b8ba9917\nCloses-Bug: #1452821\n""}]",23,181743,aa7b23579779e904f0963348e29af63f530eec36,66,15,7,10959,,,0,"Creating keystone user on customer stats opt-in

For creating keystone user on customer stats opt-in we are using
astute 'execute_task' with type 'puppet'. Puppet granule
'workloads_collector.pp' used for it. Puppet manifest will be applied
only on primary-controllers of operational clusters.

If customer is opted-in to stats before cluster deployment - keystone
user will be created during deployment process without additional tasks
in the Nailgun.

On the opt-out action nothing is to be done by design.

Items of the change:

- Creating tasks on user creation added to the master node settings handler
- Task name 'create_stats_user' added
- Method for getting primary node added to the objects.Cluster
- Task CreateStatsUserTask for executing puppet manifest for creating stats
  user added
- Fake thread for processing astute 'execute_task' added
- Logging of the task CreateStatsUserTask into action_logs handled
- Extracted base test class for master node settings tests
- Parameter for workloads username renamed from 'user' to 'username' in
  deployment orchestration. It is required for proper 'workloads_collector'
  granule processing

Change-Id: I7186bb485969c57789cd1e1cc588a8f7b8ba9917
Closes-Bug: #1452821
",git fetch https://review.opendev.org/openstack/fuel-web refs/changes/43/181743/7 && git format-patch -1 --stdout FETCH_HEAD,"['nailgun/nailgun/test/unit/test_cluster.py', 'nailgun/nailgun/task/helpers.py', 'nailgun/nailgun/test/integration/test_master_node_settings_handler.py', 'nailgun/nailgun/rpc/receiver.py', 'nailgun/nailgun/consts.py', 'nailgun/nailgun/task/manager.py', 'nailgun/nailgun/task/task.py', 'nailgun/nailgun/test/integration/test_action_logs.py', 'nailgun/nailgun/test/base.py', 'nailgun/nailgun/objects/cluster.py', 'nailgun/nailgun/task/fake.py', 'nailgun/nailgun/test/integration/test_stats_user_task_manager.py', 'nailgun/nailgun/db/migration/alembic_migrations/versions/fuel_6_1.py', 'nailgun/nailgun/api/v1/handlers/master_node_settings.py']",14,687e30a8277c9d9d52fc8666f8857562489afec4,bug/1452821,"from nailgun.api.v1.handlers.base import contentfrom nailgun.logger import loggerfrom nailgun.task.manager import CreateStatsUserTaskManager def _handle_stats_opt_in(self): if self.single.must_send_stats(): logger.debug(""Handling customer opt-in to sending statistics"") try: manager = CreateStatsUserTaskManager() manager.execute() except Exception: logger.exception(""Creating stats user failed"") @content def PUT(self): result = super(MasterNodeSettingsHandler, self).PUT() self._handle_stats_opt_in() return result @content def PATCH(self): result = super(MasterNodeSettingsHandler, self).PUT() self._handle_stats_opt_in() return result",,608,127
