id,project,branch,change_id,subject,status,created,updated,submitted,reviewers,revisions,total_comment_count,number,current_revision,discussion_messages_count,reviewers_count,revisions_count,owner_account_id,owner_name,owner_username,is_owner_bot,commit_message,git_command,changed_files,files_count,commit_id,topic,added_lines,deleted_lines,insertions,deletions
openstack%2Fkolla~master~I68836918466beb572e42ffedce127747290ad481,openstack/kolla,master,I68836918466beb572e42ffedce127747290ad481,Add support for checking more daemons,MERGED,2020-12-07 10:53:28.000000000,2022-04-21 21:24:43.000000000,2022-04-21 21:23:19.000000000,"[{'_account_id': 167}, {'_account_id': 22348}, {'_account_id': 30491}, {'_account_id': 30523}]","[{'number': 1, 'created': '2020-12-07 10:53:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/3c54f882f16bd22e454d81dd237072b7bedc93e9', 'message': 'Add support for checking more daemons\n\nThis patch is changing way how keepalived is\nchecking daemons liveness.\n\nCheck_alive.sh will find checks for daemons\nwhich are copied from kolla-ansible and return 0/1\nif dead/live.\n\nThis patch is required for maxscale HA introduced in:\n\nkolla: https://review.opendev.org/c/openstack/kolla/+/763634\nkolla-ansible: https://review.opendev.org/c/openstack/kolla-ansible/+/765780\nChange-Id: I68836918466beb572e42ffedce127747290ad481\n'}, {'number': 2, 'created': '2020-12-07 12:23:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/3b19c6013b89b91ef68e70b3920931a513a51efd', 'message': 'Add support for checking more daemons\n\nThis patch is changing way how keepalived is\nchecking daemons liveness.\n\nCheck_alive.sh will find checks for daemons\nwhich are copied from kolla-ansible and return 0/1\nif dead/live.\n\nThis patch is required for maxscale HA introduced in:\n\nkolla: https://review.opendev.org/c/openstack/kolla/+/763634\nkolla-ansible: https://review.opendev.org/c/openstack/kolla-ansible/+/765780\nChange-Id: I68836918466beb572e42ffedce127747290ad481\n'}, {'number': 3, 'created': '2020-12-14 13:52:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/10195c6f6141bf4c7a352c92bfbbcd7246275868', 'message': 'Add support for checking more daemons\n\nThis patch is changing way how keepalived is\nchecking daemons liveness.\n\nCheck_alive.sh will find checks for daemons\nwhich are copied from kolla-ansible and return 0/1\nif dead/live.\n\nThis patch is required for maxscale HA introduced in:\n\nkolla: https://review.opendev.org/c/openstack/kolla/+/763634\nkolla-ansible: https://review.opendev.org/c/openstack/kolla-ansible/+/765780\nChange-Id: I68836918466beb572e42ffedce127747290ad481\n'}, {'number': 4, 'created': '2020-12-19 19:29:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/4031b029f18cec67f47ba4e3128c8d0e5dc1e8c4', 'message': 'Add support for checking more daemons\n\nThis patch is changing way how keepalived is\nchecking daemons liveness.\n\nCheck_alive.sh will find checks for daemons\nwhich are copied from kolla-ansible and return 0/1\nif dead/live.\n\nThis patch is required for maxscale HA introduced in:\n\nkolla: https://review.opendev.org/c/openstack/kolla/+/763634\nkolla-ansible: https://review.opendev.org/c/openstack/kolla-ansible/+/765780\nChange-Id: I68836918466beb572e42ffedce127747290ad481\n'}, {'number': 5, 'created': '2020-12-19 19:39:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/0bf3d69eac67612f92c3d60c0b67202a73bccc33', 'message': 'Add support for checking more daemons\n\nThis patch is changing way how keepalived is\nchecking daemons liveness.\n\nCheck_alive.sh will find checks for daemons\nwhich are copied from kolla-ansible and return 0/1\nif dead/live.\n\nThis patch is required for maxscale HA introduced in:\n\nkolla:\n  - maxscale image: https://review.opendev.org/c/openstack/kolla/+/763634\n\nkolla-ansible: MariaDB refactor: https://review.opendev.org/c/openstack/kolla-ansible/+/766952\n  MaxScale support replacing haproxy: https://review.opendev.org/c/openstack/kolla-ansible/+/767370\n  MariaDB refactor creating DB resources: https://review.opendev.org/c/openstack/kolla-ansible/+/767475\nChange-Id: I68836918466beb572e42ffedce127747290ad481\n'}, {'number': 6, 'created': '2020-12-19 21:01:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/a58f911852e45cb3f084ff41e71673f9a62f5275', 'message': 'Add support for checking more daemons\n\nThis patch is changing way how keepalived is\nchecking daemons liveness.\n\nCheck_alive.sh will find checks for daemons\nwhich are copied from kolla-ansible and return 0/1\nif dead/live.\n\nThis patch is required for maxscale HA introduced in:\n\nkolla:\n  - maxscale image: https://review.opendev.org/c/openstack/kolla/+/763634\n\nkolla-ansible: MariaDB refactor: https://review.opendev.org/c/openstack/kolla-ansible/+/766952\n  MaxScale support replacing haproxy: https://review.opendev.org/c/openstack/kolla-ansible/+/767370\n  MariaDB refactor creating DB resources: https://review.opendev.org/c/openstack/kolla-ansible/+/767475\nChange-Id: I68836918466beb572e42ffedce127747290ad481\n'}, {'number': 7, 'created': '2020-12-20 16:25:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/4549aef08249e983f017b54ea003876fe6829b79', 'message': 'Add support for checking more daemons\n\nThis patch is changing way how keepalived is\nchecking daemons liveness.\n\nCheck_alive.sh will find checks for daemons\nwhich are copied from kolla-ansible and return 0/1\nif dead/live.\n\nThis patch is required for maxscale HA introduced in:\n\nkolla:\n  - maxscale image: https://review.opendev.org/c/openstack/kolla/+/763634\n\nkolla-ansible:\n  - maxscale suport: https://review.opendev.org/c/openstack/kolla-ansible/+/767370\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/768018\nChange-Id: I68836918466beb572e42ffedce127747290ad481\n'}, {'number': 8, 'created': '2021-01-11 23:19:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/62115c857822e469ff53ca3be125abf4d2065f3c', 'message': 'Add support for checking more daemons\n\nThis patch is changing way how keepalived is\nchecking daemons liveness.\n\nCheck_alive.sh will find checks for daemons\nwhich are copied from kolla-ansible and return 0/1\nif dead/live.\n\nThis patch is required for proxysql HA\nintroduced in:\n\n[1] https://review.opendev.org/c/openstack/kolla/+/769385\n[2] https://review.opendev.org/c/openstack/kolla-ansible/+/766952\n[3]\n[4]\n\nChange-Id: I68836918466beb572e42ffedce127747290ad481\n'}, {'number': 9, 'created': '2021-01-11 23:40:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/ea26fb42dc4bff61312ac49865a7b92f00fe5cc5', 'message': 'Add support for checking more daemons\n\nThis patch is changing way how keepalived is\nchecking daemons liveness.\n\nCheck_alive.sh will find checks for daemons\nwhich are copied from kolla-ansible and return 0/1\nif dead/live.\n\nThis patch is required for proxysql HA\nintroduced in:\n\n[1] https://review.opendev.org/c/openstack/kolla/+/769385\n[2] https://review.opendev.org/c/openstack/kolla-ansible/+/766952\n[3] https://review.opendev.org/c/openstack/kolla-ansible/+/770215\n[4] https://review.opendev.org/c/openstack/kolla-ansible/+/770216\n\nChange-Id: I68836918466beb572e42ffedce127747290ad481\n'}, {'number': 10, 'created': '2021-01-12 10:55:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/b5d189e20757e79c5e0c693a3c5c347a13f248a6', 'message': 'Add support for checking more daemons\n\nThis patch is changing way how keepalived is\nchecking daemons liveness.\n\nCheck_alive.sh will find checks for daemons\nwhich are copied from kolla-ansible and return 0/1\nif dead/live.\n\nThis patch is required for proxysql HA\nintroduced in:\n\n[1] https://review.opendev.org/c/openstack/kolla/+/769385\n[2] https://review.opendev.org/c/openstack/kolla-ansible/+/766952\n[3] https://review.opendev.org/c/openstack/kolla-ansible/+/770215\n[4] https://review.opendev.org/c/openstack/kolla-ansible/+/770216\n\nChange-Id: I68836918466beb572e42ffedce127747290ad481\n'}, {'number': 11, 'created': '2021-01-14 09:09:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/38958f48134264db977d2cd1a4e9cea1be9fe1c5', 'message': 'Add support for checking more daemons\n\nThis patch is changing way how keepalived is\nchecking daemons liveness.\n\nCheck_alive.sh will find checks for daemons\nwhich are copied from kolla-ansible and return 0/1\nif dead/live.\n\nThis patch is required for proxysql HA\nintroduced in:\n\n[1] https://review.opendev.org/c/openstack/kolla/+/769385\n[2] https://review.opendev.org/c/openstack/kolla-ansible/+/766952\n[3] https://review.opendev.org/c/openstack/kolla-ansible/+/770215\n[4] https://review.opendev.org/c/openstack/kolla-ansible/+/770216\n\nChange-Id: I68836918466beb572e42ffedce127747290ad481\n'}, {'number': 12, 'created': '2021-01-18 12:53:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/1b98ec981f9e95b00bb3cea37cb1c39d40c3a71c', 'message': 'Add support for checking more daemons\n\nThis patch is changing way how keepalived is\nchecking daemons liveness.\n\nCheck_alive.sh will find checks for daemons\nwhich are copied from kolla-ansible and return 0/1\nif dead/live.\n\nThis patch is required for proxysql HA\nintroduced in:\n\n[1] https://review.opendev.org/c/openstack/kolla/+/769385\n[2] https://review.opendev.org/c/openstack/kolla-ansible/+/766952\n[3] https://review.opendev.org/c/openstack/kolla-ansible/+/770215\n[4] https://review.opendev.org/c/openstack/kolla-ansible/+/770216\n\nChange-Id: I68836918466beb572e42ffedce127747290ad481\n'}, {'number': 13, 'created': '2021-01-18 16:26:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/82f0b51a880cb666a5799cdc88a8ba5a3f1c13bd', 'message': 'Add support for checking more daemons\n\nThis patch is changing way how keepalived is\nchecking daemons liveness.\n\nCheck_alive.sh will find checks for daemons\nwhich are copied from kolla-ansible and return 0/1\nif dead/live.\n\nThis patch is required for proxysql HA\nintroduced in:\n\n[1] https://review.opendev.org/c/openstack/kolla/+/769385\n[2] https://review.opendev.org/c/openstack/kolla-ansible/+/766952\n[3] https://review.opendev.org/c/openstack/kolla-ansible/+/770215\n[4] https://review.opendev.org/c/openstack/kolla-ansible/+/770216\n\nChange-Id: I68836918466beb572e42ffedce127747290ad481\n'}, {'number': 14, 'created': '2021-01-19 08:44:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/59fd697a2fe05f8d18acddc2e3235a465924e879', 'message': 'Add support for checking more daemons\n\nThis patch is changing way how keepalived is\nchecking daemons liveness.\n\nCheck_alive.sh will find checks for daemons\nwhich are copied from kolla-ansible and return 0/1\nif dead/live.\n\nThis patch is required for proxysql HA\nintroduced in:\n\n[1] https://review.opendev.org/c/openstack/kolla/+/769385\n[2] https://review.opendev.org/c/openstack/kolla-ansible/+/766952\n[3] https://review.opendev.org/c/openstack/kolla-ansible/+/770215\n[4] https://review.opendev.org/c/openstack/kolla-ansible/+/770216\n\nChange-Id: I68836918466beb572e42ffedce127747290ad481\n'}, {'number': 15, 'created': '2021-02-15 16:31:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/f655538a47688db8d121f69edc3bfdcdd6daf612', 'message': 'Add support for checking more daemons\n\nThis patch is changing way how keepalived is\nchecking daemons liveness.\n\nCheck_alive.sh will find checks for daemons\nwhich are copied from kolla-ansible and return 0/1\nif dead/live.\n\nThis patch is required for proxysql HA.\n\nNeeded-By: https://review.opendev.org/c/openstack/kolla-ansible/+/770215\n\nChange-Id: I68836918466beb572e42ffedce127747290ad481\n'}, {'number': 16, 'created': '2021-02-15 16:48:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/478cdb058eedbc80baa78a98f2b016fbcb772295', 'message': 'Add support for checking more daemons\n\nThis patch is changing way how keepalived is\nchecking daemons liveness.\n\nCheck_alive.sh will find checks for daemons\nwhich are copied from kolla-ansible and return 0/1\nif dead/live.\n\nThis patch is required for proxysql HA.\n\nNeeded-By: https://review.opendev.org/c/openstack/kolla-ansible/+/770215\n\nChange-Id: I68836918466beb572e42ffedce127747290ad481\n'}, {'number': 17, 'created': '2021-03-16 13:28:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/d49cbdcf0fe0c5962b45ab26e11c879668e0d03e', 'message': 'Add support for checking more daemons\n\nThis patch is changing way how keepalived is\nchecking daemons liveness.\n\nCheck_alive.sh will find checks for daemons\nwhich are copied from kolla-ansible and return 0/1\nif dead/live.\n\nThis patch is required for proxysql HA.\n\nNeeded-By: https://review.opendev.org/c/openstack/kolla-ansible/+/770215\n\nChange-Id: I68836918466beb572e42ffedce127747290ad481\n'}, {'number': 18, 'created': '2021-07-09 11:16:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/36e961cdcaa07841ee03f5409d6d4165764281dc', 'message': 'Add support for checking more daemons\n\nThis patch is changing way how keepalived is\nchecking daemons liveness.\n\nCheck_alive.sh will find checks for daemons\nwhich are copied from kolla-ansible and return 0/1\nif dead/live.\n\nThis patch is required for proxysql HA.\n\nNeeded-By: https://review.opendev.org/c/openstack/kolla-ansible/+/770215\n\nChange-Id: I68836918466beb572e42ffedce127747290ad481\n'}, {'number': 19, 'created': '2021-08-19 13:18:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/f94efede95038d915255ddc7b0e1f575f7cf53ec', 'message': 'Add support for checking more daemons\n\nThis patch is changing way how keepalived is\nchecking daemons liveness.\n\nCheck_alive.sh will find checks for daemons\nwhich are copied from kolla-ansible and return 0/1\nif dead/live.\n\nThis patch is required for proxysql HA.\n\nNeeded-By: https://review.opendev.org/c/openstack/kolla-ansible/+/770215\n\nChange-Id: I68836918466beb572e42ffedce127747290ad481\n'}, {'number': 20, 'created': '2022-04-13 12:24:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/58a4276eddffbb477e2dbc203ba7d7d41ee3614c', 'message': 'Add support for checking more daemons\n\nThis patch is changing way how keepalived is\nchecking daemons liveness.\n\nCheck_alive.sh will find checks for daemons\nwhich are copied from kolla-ansible and return 0/1\nif dead/live.\n\nThis patch is required for proxysql HA.\n\nNeeded-By: https://review.opendev.org/c/openstack/kolla-ansible/+/770215\n\nChange-Id: I68836918466beb572e42ffedce127747290ad481\n'}, {'number': 21, 'created': '2022-04-20 10:12:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/76603ffec30167ff24595881c1b23a8817a995eb', 'message': 'Add support for checking more daemons\n\nThis patch is changing the way how keepalived is\nchecks daemons liveness.\n\nCheck_alive.sh will find checks for daemons\nwhich are copied by kolla-ansible and return 0/1\nif alive/down.\n\nThis patch is required for proxysql HA.\n\nNeeded-By: https://review.opendev.org/c/openstack/kolla-ansible/+/770215\n\nChange-Id: I68836918466beb572e42ffedce127747290ad481\n'}, {'number': 22, 'created': '2022-04-21 10:26:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/cdf3f021e626d637724c80f1d5c0b1e4e20e810d', 'message': 'Add support for checking more daemons\n\nThis patch is changing the way how keepalived is\nchecks daemons liveness.\n\nCheck_alive.sh will find checks for daemons\nwhich are copied by kolla-ansible and return 0/1\nif alive/down.\n\nThis patch is required for proxysql HA.\n\nNeeded-By: https://review.opendev.org/c/openstack/kolla-ansible/+/770215\n\nChange-Id: I68836918466beb572e42ffedce127747290ad481\n'}, {'number': 23, 'created': '2022-04-21 10:27:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/c0fec50ddd0baffc6aa1633ea7d2f2569c516fb1', 'message': 'Add support for checking more daemons\n\nThis patch is changing the way how keepalived\nchecks daemons liveness.\n\nCheck_alive.sh will find checks for daemons\nwhich are copied by kolla-ansible and return 0/1\nif alive/down.\n\nThis patch is required for proxysql HA.\n\nNeeded-By: https://review.opendev.org/c/openstack/kolla-ansible/+/770215\n\nChange-Id: I68836918466beb572e42ffedce127747290ad481\n'}, {'number': 24, 'created': '2022-04-21 10:29:30.000000000', 'files': ['docker/keepalived/check_alive.sh'], 'web_link': 'https://opendev.org/openstack/kolla/commit/1c63c9565840b526c41c0cf20bcc8b8f60a771e3', 'message': 'Add support for checking more daemons\n\nThis patch is changing the way how keepalived\nchecks daemons liveness.\n\nCheck_alive.sh will find checks for daemons\nwhich are copied by kolla-ansible and return 0/1\nif alive/down.\n\nThis patch is required for proxysql HA.\n\nNeeded-By: https://review.opendev.org/c/openstack/kolla-ansible/+/770215\n\nChange-Id: I68836918466beb572e42ffedce127747290ad481\n'}]",61,765781,1c63c9565840b526c41c0cf20bcc8b8f60a771e3,128,4,24,27339,,,0,"Add support for checking more daemons

This patch is changing the way how keepalived
checks daemons liveness.

Check_alive.sh will find checks for daemons
which are copied by kolla-ansible and return 0/1
if alive/down.

This patch is required for proxysql HA.

Needed-By: https://review.opendev.org/c/openstack/kolla-ansible/+/770215

Change-Id: I68836918466beb572e42ffedce127747290ad481
",git fetch https://review.opendev.org/openstack/kolla refs/changes/81/765781/2 && git format-patch -1 --stdout FETCH_HEAD,['docker/keepalived/check_alive.sh'],1,3c54f882f16bd22e454d81dd237072b7bedc93e9,proxysql-dependency,"# This will return 0 when: # - it successfully pass all checks for all daemonsALL_CHECKS=$(ls /checks | grep 'check_alive_') RESULT=0 for i in ${ALL_CHECKS}; do SERVICE_CHECK_RESULT=$(/checks/${i} && echo 0 || echo 1) if [[ ""${RESULT}"" -eq 0 && ""${SERVICE_CHECK_RESULT}"" -eq 0 ]]; then RESULT=0 else RESULT=1 fi done exit ${RESULT}","# This will return 0 when it successfully talks to the haproxy daemon via the socketecho ""show info"" | socat unix-connect:/var/lib/kolla/haproxy/haproxy.sock stdio > /dev/null",15,2
openstack%2Fpython-ironic-inspector-client~master~I81e9b7605077a619eb4aa0884775c3f7c73e83c8,openstack/python-ironic-inspector-client,master,I81e9b7605077a619eb4aa0884775c3f7c73e83c8,Fix connection read/timeout issues.,ABANDONED,2022-01-11 22:07:52.000000000,2022-04-21 21:23:01.000000000,,"[{'_account_id': 4571}, {'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 24245}]","[{'number': 1, 'created': '2022-01-11 22:07:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironic-inspector-client/commit/302a8559623c1515943a70644ab438db8bd709ce', 'message': 'Disable keep-alive\n\nHttp keep-alive, which is by default enabled with python requests\nand intermediate proxies may not gracefully handle the simple exchanges\nwhich occur between the client and the server. This introduces the\npossibility where a server explicitly closes a socket, but the client\nmay believe the socket is still available as it is connected to a\nproxy, or even an socket on the network stack which is in the process\nof closing.\n\nIn particcular, this can be encountered on requests where the intermediate\nlibraries want to use Chunked encoding, but the server responds with an\nempty response (which is valid), and then closes the socket (expected).\nWith a HTTP proxy, there is no way for the client to gracefully handle\nthe socket disappearing and it generates failures as a result.\n\nChange-Id: I81e9b7605077a619eb4aa0884775c3f7c73e83c8\n'}, {'number': 2, 'created': '2022-01-11 22:08:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironic-inspector-client/commit/bed93178dcb2ed2778b739bf105dffef9dd0b027', 'message': 'Disable keep-alive\n\nHttp keep-alive, which is by default enabled with python requests\nand intermediate proxies may not gracefully handle the simple exchanges\nwhich occur between the client and the server. This introduces the\npossibility where a server explicitly closes a socket, but the client\nmay believe the socket is still available as it is connected to a\nproxy, or even an socket on the network stack which is in the process\nof closing.\n\nIn particcular, this can be encountered on requests where the intermediate\nlibraries want to use Chunked encoding, but the server responds with an\nempty response (which is valid), and then closes the socket (expected).\nWith a HTTP proxy, there is no way for the client to gracefully handle\nthe socket disappearing and it generates failures as a result.\n\nChange-Id: I81e9b7605077a619eb4aa0884775c3f7c73e83c8\n'}, {'number': 3, 'created': '2022-01-12 18:47:48.000000000', 'files': ['ironic_inspector_client/v1.py', 'ironic_inspector_client/tests/unit/test_v1.py', 'releasenotes/notes/explicitly-close-request-session-988cee49427f96a2.yaml', 'ironic_inspector_client/common/http.py', 'ironic_inspector_client/tests/unit/test_common_http.py'], 'web_link': 'https://opendev.org/openstack/python-ironic-inspector-client/commit/b14cb12b853e46e4991909c0e062c9280331faa2', 'message': 'Fix connection read/timeout issues.\n\nHTTP is a complex protocol. It has a number of features which\nhave evolved over time to help facilitate efficent data transfers\nand minimize the Time To Response.\n\nOne of the aspects which is widely used is HTTP Keep-Alive\nwhich is where the TCP socket is held-open unless explicitly\nrequested to be closed.\n\nThe other aspect which ties into this is chunked encoding which\nallows the server to send chunks to be processed as they are\nreceieved.\n\nWith ironic-inspector\'s simple API, we don\'t need these features,\nand we use a rarely leveraged feature of an emtpy body response.\n\nPython requests explicitly try to leverage keep-alive, but without\nresult code awareness. This is further compicated by actions of\nthe API surface behavior where sockets are closed in some cases,\nsuch as when 202 or 204 codes are returned.\n\nWhat happens with keep-alive, is when a long running client, either\nruns with a --wait flag on the command line, or an instantiated\npython client calls the API explicitly while waiting a period of\ntime, An intermediate proxy may hold open part of the sequence,\nbut HTTP has no mechanism to convey ""connection timed out and closed"".\nWeb browsers handle this same issue by generally expecting the socket\nto work for two and a half minutes after the request unless hte server\nexplicitly says ""Close the socket"" using the ""Connection: close""\nheader. What the CLI user or client library API consumer experiences\nis an exception that the connection was closed prematurely.\n\nSimilar in user experience, is when the intermediate service layers\nresult in headers being injected forcing the content response to\nindicate there is always a response body to be processed. But they\nare optional the lesser used HTTP 202 and 204 response codes.\n\nWhere this goes sideways is when python requests attempts to process\nthe empty/null bodied response and expects that a body exists because\nthe intermediate layer injected encoding flags. Encoding flags are also\nhop-to-hop in nature and not end-to-end, so any intermediate proxy may\nchoose to change the encoding style of the response. Anyway, requests\ntries to setup the response such that a user can use the response, finds\nno body, and assumes that the socket closed without the response and\nraises an exception.\n\nIn reality, all because the intermediate proxy is largely written to\npass through everything and nearly almost everythign *has* response\nbodies.\n\nSo where does this leave us? Well, aside from feeling like we are in\nLemony Snicket\'s A Series of Unfortunate Events, we need to explicitly\ndisregard the impact of proxies, and handle encoding behavior on the\nclient side because there are many intermediate variables.\n\nSo in the end, we will now close all connections *and* we will\nchange the request handling behavior so requests expects the reader\nto possibly iterate through the response bodies one line at a time,\nwhich causes python-requests to skip some of the things it would\nnormally do for the client.\n\nBasically this impacts calls where we don\'t actually look at the\nresponse body, but expect to be notified of a failure due to an\nexception being raised.\n\nRelated: rhbz#2039046\nRelated: rhbz#2039515\n\nChange-Id: I81e9b7605077a619eb4aa0884775c3f7c73e83c8\n'}]",10,824247,b14cb12b853e46e4991909c0e062c9280331faa2,16,5,3,11655,,,0,"Fix connection read/timeout issues.

HTTP is a complex protocol. It has a number of features which
have evolved over time to help facilitate efficent data transfers
and minimize the Time To Response.

One of the aspects which is widely used is HTTP Keep-Alive
which is where the TCP socket is held-open unless explicitly
requested to be closed.

The other aspect which ties into this is chunked encoding which
allows the server to send chunks to be processed as they are
receieved.

With ironic-inspector's simple API, we don't need these features,
and we use a rarely leveraged feature of an emtpy body response.

Python requests explicitly try to leverage keep-alive, but without
result code awareness. This is further compicated by actions of
the API surface behavior where sockets are closed in some cases,
such as when 202 or 204 codes are returned.

What happens with keep-alive, is when a long running client, either
runs with a --wait flag on the command line, or an instantiated
python client calls the API explicitly while waiting a period of
time, An intermediate proxy may hold open part of the sequence,
but HTTP has no mechanism to convey ""connection timed out and closed"".
Web browsers handle this same issue by generally expecting the socket
to work for two and a half minutes after the request unless hte server
explicitly says ""Close the socket"" using the ""Connection: close""
header. What the CLI user or client library API consumer experiences
is an exception that the connection was closed prematurely.

Similar in user experience, is when the intermediate service layers
result in headers being injected forcing the content response to
indicate there is always a response body to be processed. But they
are optional the lesser used HTTP 202 and 204 response codes.

Where this goes sideways is when python requests attempts to process
the empty/null bodied response and expects that a body exists because
the intermediate layer injected encoding flags. Encoding flags are also
hop-to-hop in nature and not end-to-end, so any intermediate proxy may
choose to change the encoding style of the response. Anyway, requests
tries to setup the response such that a user can use the response, finds
no body, and assumes that the socket closed without the response and
raises an exception.

In reality, all because the intermediate proxy is largely written to
pass through everything and nearly almost everythign *has* response
bodies.

So where does this leave us? Well, aside from feeling like we are in
Lemony Snicket's A Series of Unfortunate Events, we need to explicitly
disregard the impact of proxies, and handle encoding behavior on the
client side because there are many intermediate variables.

So in the end, we will now close all connections *and* we will
change the request handling behavior so requests expects the reader
to possibly iterate through the response bodies one line at a time,
which causes python-requests to skip some of the things it would
normally do for the client.

Basically this impacts calls where we don't actually look at the
response body, but expect to be notified of a failure due to an
exception being raised.

Related: rhbz#2039046
Related: rhbz#2039515

Change-Id: I81e9b7605077a619eb4aa0884775c3f7c73e83c8
",git fetch https://review.opendev.org/openstack/python-ironic-inspector-client refs/changes/47/824247/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_inspector_client/common/http.py', 'releasenotes/notes/explicitly-close-request-session-988cee49427f96a2.yaml', 'ironic_inspector_client/test/test_common_http.py']",3,302a8559623c1515943a70644ab438db8bd709ce,," self.headers = {http._VERSION_HEADER: '1.0', 'Connection': 'close'}", self.headers = {http._VERSION_HEADER: '1.0'},14,1
openstack%2Fkolla~stable%2Fyoga~If7d5c2807f0947a8bbbc1ceb8531c9b9c9287c1f,openstack/kolla,stable/yoga,If7d5c2807f0947a8bbbc1ceb8531c9b9c9287c1f,enable logging to file for quiet mode,MERGED,2022-04-19 11:38:33.000000000,2022-04-21 21:19:16.000000000,2022-04-21 21:17:59.000000000,"[{'_account_id': 167}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-04-19 11:38:33.000000000', 'files': ['releasenotes/notes/quiet-mode-with-logs-0abafc07923945ac.yaml', 'tests/playbooks/run.yml', 'kolla/common/utils.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/52c55486024fae660a2a1a1e260d56af1b88f8dd', 'message': ""enable logging to file for quiet mode\n\nWe have 'quiet' mode where only minimal data is printed to the console.\nBut there were no logs at all then.\n\nThis change generates log files (if 'logs-dir' argument is used) during\nquiet build.\n\nAlso enables 'quiet' mode for CI so Zuul will not have to parse 29MB\nJSON file each time.\n\nChange-Id: If7d5c2807f0947a8bbbc1ceb8531c9b9c9287c1f\n(cherry picked from commit 0cf5b1d4e6e871562c0ca0f48a21594f8d197471)\n""}]",0,838360,52c55486024fae660a2a1a1e260d56af1b88f8dd,9,3,1,24072,,,0,"enable logging to file for quiet mode

We have 'quiet' mode where only minimal data is printed to the console.
But there were no logs at all then.

This change generates log files (if 'logs-dir' argument is used) during
quiet build.

Also enables 'quiet' mode for CI so Zuul will not have to parse 29MB
JSON file each time.

Change-Id: If7d5c2807f0947a8bbbc1ceb8531c9b9c9287c1f
(cherry picked from commit 0cf5b1d4e6e871562c0ca0f48a21594f8d197471)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/60/838360/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/quiet-mode-with-logs-0abafc07923945ac.yaml', 'tests/playbooks/run.yml', 'kolla/common/utils.py']",3,52c55486024fae660a2a1a1e260d56af1b88f8dd,quiet-kolla-stable/yoga," if conf is not None and conf.debug: loglevel = logging.DEBUG else: loglevel = logging.INFO if not log.handlers: stream_handler = logging.StreamHandler(sys.stderr) stream_handler.setFormatter(logging.Formatter(logging.BASIC_FORMAT)) # NOTE(hrw): quiet mode matters only on console if conf is not None and conf.quiet: stream_handler.setLevel(logging.CRITICAL) else: stream_handler.setLevel(loglevel) log.addHandler(stream_handler) log.propagate = False if conf is not None and conf.logs_dir and image_name: # NOTE(hrw): logfile will be INFO or DEBUG handler.setLevel(loglevel) handler.setFormatter(logging.Formatter(logging.BASIC_FORMAT)) log.addHandler(handler) # NOTE(hrw): needs to be high, handlers have own levels log.setLevel(logging.DEBUG)", if not log.handlers: if conf is None or not conf.logs_dir or not image_name: handler = logging.StreamHandler(sys.stderr) log.propagate = False else: handler.setFormatter(logging.Formatter(logging.BASIC_FORMAT)) log.addHandler(handler) if conf is not None and conf.debug: log.setLevel(logging.DEBUG) elif conf is not None and conf.quiet and image_name: log.setLevel(logging.CRITICAL) else: log.setLevel(logging.INFO),30,11
openstack%2Foctavia~stable%2Fussuri~I293720d61d4109f364201893b7eaa18912aaca88,openstack/octavia,stable/ussuri,I293720d61d4109f364201893b7eaa18912aaca88,Optimize DB object to provider dict conversions,MERGED,2022-02-21 17:30:10.000000000,2022-04-21 21:10:38.000000000,2022-04-21 21:09:21.000000000,"[{'_account_id': 7249}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 34429}]","[{'number': 1, 'created': '2022-02-21 17:30:10.000000000', 'files': ['octavia/tests/unit/controller/worker/v2/test_controller_worker.py', 'octavia/controller/worker/v2/controller_worker.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/28c3d218adbda982c6e5567c440005d74a03676d', 'message': 'Optimize DB object to provider dict conversions\n\nSome functions in the amphorav2 driver convert DB objects\nto provider dicts many times in a single call: listeners are converted\nwhen converting a load balancer and are also explicitly converted.\nNow listener dicts are fetched from a recursive load balancer dict, it\nuses a single conversion per call.\n\nChange-Id: I293720d61d4109f364201893b7eaa18912aaca88\n(cherry picked from commit 4388ae7fde59622f461b601f1ac3367b06f5c91e)\n(cherry picked from commit 2f9fe00eaf0d1e2e1c71ef8e8052767e79a402bf)\n(cherry picked from commit 82665fed71edd50cb5c05f518e301460e973025b)\n(cherry picked from commit a9c955d3c58e6cf3c1a87d12f0fa06202558c2b8)\n'}]",2,830268,28c3d218adbda982c6e5567c440005d74a03676d,13,4,1,29244,,,0,"Optimize DB object to provider dict conversions

Some functions in the amphorav2 driver convert DB objects
to provider dicts many times in a single call: listeners are converted
when converting a load balancer and are also explicitly converted.
Now listener dicts are fetched from a recursive load balancer dict, it
uses a single conversion per call.

Change-Id: I293720d61d4109f364201893b7eaa18912aaca88
(cherry picked from commit 4388ae7fde59622f461b601f1ac3367b06f5c91e)
(cherry picked from commit 2f9fe00eaf0d1e2e1c71ef8e8052767e79a402bf)
(cherry picked from commit 82665fed71edd50cb5c05f518e301460e973025b)
(cherry picked from commit a9c955d3c58e6cf3c1a87d12f0fa06202558c2b8)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/68/830268/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/tests/unit/controller/worker/v2/test_controller_worker.py', 'octavia/controller/worker/v2/controller_worker.py']",2,28c3d218adbda982c6e5567c440005d74a03676d,," load_balancer).to_dict(recurse=True) listeners_dicts = provider_lb.get('listeners', []) load_balancer).to_dict(recurse=True) listeners_dicts = provider_lb.get('listeners', []) load_balancer).to_dict(recurse=True) listeners_dicts = provider_lb.get('listeners', []) load_balancer).to_dict(recurse=True) store = {constants.LISTENERS: provider_lb['listeners'], load_balancer).to_dict(recurse=True) listeners_dicts = provider_lb.get('listeners', []) load_balancer).to_dict(recurse=True) listeners_dicts = provider_lb.get('listeners', []) load_balancer).to_dict(recurse=True) listeners_dicts = provider_lb.get('listeners', []) load_balancer).to_dict(recurse=True) listeners_dicts = provider_lb.get('listeners', []) load_balancer).to_dict(recurse=True) listeners_dicts = provider_lb.get('listeners', []) load_balancer).to_dict(recurse=True) listeners_dicts = provider_lb.get('listeners', []) load_balancer).to_dict(recurse=True) listeners_dicts = provider_lb.get('listeners', [])"," load_balancer).to_dict() listeners_dicts = ( provider_utils.db_listeners_to_provider_dicts_list_of_dicts( pool.listeners)) load_balancer).to_dict() listeners_dicts = ( provider_utils.db_listeners_to_provider_dicts_list_of_dicts( pool.listeners)) listeners_dicts = ( provider_utils.db_listeners_to_provider_dicts_list_of_dicts( pool.listeners)) load_balancer).to_dict() listeners = load_balancer.listeners dict_listeners = [] for li in listeners: dict_listeners.append( provider_utils.db_listener_to_provider_listener(li).to_dict()) load_balancer).to_dict() store = {constants.LISTENERS: dict_listeners, load_balancer).to_dict() listeners_dicts = ( provider_utils.db_listeners_to_provider_dicts_list_of_dicts( pool.listeners)) load_balancer).to_dict() listeners_dicts = ( provider_utils.db_listeners_to_provider_dicts_list_of_dicts( pool.listeners)) listeners_dicts = ( provider_utils.db_listeners_to_provider_dicts_list_of_dicts( pool.listeners)) load_balancer).to_dict() load_balancer).to_dict() listeners_dicts = ( provider_utils.db_listeners_to_provider_dicts_list_of_dicts( pool.listeners)) load_balancer).to_dict() listeners_dicts = ( provider_utils.db_listeners_to_provider_dicts_list_of_dicts( db_pool.listeners)) listeners_dicts = ( provider_utils.db_listeners_to_provider_dicts_list_of_dicts( db_pool.listeners)) load_balancer).to_dict() load_balancer).to_dict() listeners_dicts = ( provider_utils.db_listeners_to_provider_dicts_list_of_dicts( db_pool.listeners))",33,67
openstack%2Fcharm-nova-cloud-controller~stable%2Fyoga~I18dee4eb46bd836805e60427c0afc508e2489111,openstack/charm-nova-cloud-controller,stable/yoga,I18dee4eb46bd836805e60427c0afc508e2489111,Restart nova-conductor on endpoint changes,MERGED,2022-04-21 17:13:56.000000000,2022-04-21 20:00:06.000000000,2022-04-21 20:00:06.000000000,"[{'_account_id': 2424}, {'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-21 17:13:56.000000000', 'files': ['unit_tests/test_nova_cc_hooks.py', 'hooks/nova_cc_hooks.py'], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/981e7bd549f6b96f301a29259965148afba2a7d3', 'message': 'Restart nova-conductor on endpoint changes\n\nThe charm looks for endpoint changes and restarts the nova-scheduler\nwhen the endpoint changes. However, the nova-conductor also needs to be\nrestarted in order to pick up new endpoints.\n\nCloses-Bug: 1968708\n\nChange-Id: I18dee4eb46bd836805e60427c0afc508e2489111\n(cherry picked from commit b13eaf757fa25c797aa59e75811a3751f4856765)\n'}]",1,838931,981e7bd549f6b96f301a29259965148afba2a7d3,8,4,1,8992,,,0,"Restart nova-conductor on endpoint changes

The charm looks for endpoint changes and restarts the nova-scheduler
when the endpoint changes. However, the nova-conductor also needs to be
restarted in order to pick up new endpoints.

Closes-Bug: 1968708

Change-Id: I18dee4eb46bd836805e60427c0afc508e2489111
(cherry picked from commit b13eaf757fa25c797aa59e75811a3751f4856765)
",git fetch https://review.opendev.org/openstack/charm-nova-cloud-controller refs/changes/31/838931/1 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_nova_cc_hooks.py', 'hooks/nova_cc_hooks.py']",2,981e7bd549f6b96f301a29259965148afba2a7d3,bug/1968708," for service in ['nova-scheduler', 'nova-conductor']: ch_host.service_restart(service)", ch_host.service_restart('nova-scheduler'),4,2
openstack%2Fdevstack~master~I30be5a388dda5ccf08718670dbb14a28a4a8a8eb,openstack/devstack,master,I30be5a388dda5ccf08718670dbb14a28a4a8a8eb,nova: unset cpu_model on aarch64,NEW,2022-04-20 19:13:33.000000000,2022-04-21 19:50:48.000000000,,"[{'_account_id': 11604}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-20 19:13:33.000000000', 'files': ['lib/nova_plugins/hypervisor-libvirt'], 'web_link': 'https://opendev.org/openstack/devstack/commit/28bed125a2555fb3da778898d6ae310175972d3c', 'message': 'nova: unset cpu_model on aarch64\n\nWithout this, running DevStack on an `aarch64` environment will end\nup in cpu_model set to ""Nehalem"" and cpu_mode set to ""host-passthrough""\nwhich does not work.\n\nThis patch drops that value under aarch64 environments.\n\nChange-Id: I30be5a388dda5ccf08718670dbb14a28a4a8a8eb\n'}]",1,838775,28bed125a2555fb3da778898d6ae310175972d3c,3,2,1,1004,,,0,"nova: unset cpu_model on aarch64

Without this, running DevStack on an `aarch64` environment will end
up in cpu_model set to ""Nehalem"" and cpu_mode set to ""host-passthrough""
which does not work.

This patch drops that value under aarch64 environments.

Change-Id: I30be5a388dda5ccf08718670dbb14a28a4a8a8eb
",git fetch https://review.opendev.org/openstack/devstack refs/changes/75/838775/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/nova_plugins/hypervisor-libvirt'],1,28bed125a2555fb3da778898d6ae310175972d3c,," # NOTE(mnaser): We cannot have `cpu_model` set if the `cpu_mode` is # set to `host-passthrough`, or `nova-compute` refuses to # start. inidelete $NOVA_CONF libvirt cpu_model",,4,0
openstack%2Ftripleo-validations~stable%2Fwallaby~If4fa5d29b273c2a43f5084a1c8325a6b0bc29d28,openstack/tripleo-validations,stable/wallaby,If4fa5d29b273c2a43f5084a1c8325a6b0bc29d28,Remove run-validations.sh script,MERGED,2022-02-03 13:38:59.000000000,2022-04-21 19:44:28.000000000,2022-04-21 19:42:39.000000000,"[{'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 32926}]","[{'number': 1, 'created': '2022-02-03 13:38:59.000000000', 'files': ['setup.cfg', 'doc/source/contributing/developer_guide.rst', 'scripts/run-validations.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/aeae29d5b5642fc5a0318e54172f4360d9b1c09a', 'message': 'Remove run-validations.sh script\n\nThis script is an old one which should be more than deprecated\nnow. Moreover, we already have a long list of CLIs which are\nconfusing the users. So this removal will clear out a bit that list.\n\nDepends-On: https://review.rdoproject.org/r/c/openstack/tripleo-validations-distgit/+/32615\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: If4fa5d29b273c2a43f5084a1c8325a6b0bc29d28\n(cherry picked from commit fd80bfad2c4648fa44f2d21b48ef7c3db5b1115d)\n'}]",1,827643,aeae29d5b5642fc5a0318e54172f4360d9b1c09a,10,4,1,15895,,,0,"Remove run-validations.sh script

This script is an old one which should be more than deprecated
now. Moreover, we already have a long list of CLIs which are
confusing the users. So this removal will clear out a bit that list.

Depends-On: https://review.rdoproject.org/r/c/openstack/tripleo-validations-distgit/+/32615

Signed-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>
Change-Id: If4fa5d29b273c2a43f5084a1c8325a6b0bc29d28
(cherry picked from commit fd80bfad2c4648fa44f2d21b48ef7c3db5b1115d)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/43/827643/1 && git format-patch -1 --stdout FETCH_HEAD,"['setup.cfg', 'doc/source/contributing/developer_guide.rst', 'scripts/run-validations.sh']",3,aeae29d5b5642fc5a0318e54172f4360d9b1c09a,run-validations-sh-removal-stable/wallaby,,"#!/bin/bash # IF running on Undercloud source ${HOME}/stackrc || { echo ""The stackrc file is missing or cannot be read""; exit 1; } # IF running on standalone, replace by # export OS_CLOUD=standalone usage() { echo ""Usage:"" echo "" run-validations.sh [--help]"" echo "" [--debug]"" echo "" [--ansible-default-callback]"" echo "" [--plan <overcloud>]"" echo "" --validation-name <validation_name>"" echo """" echo ""--debug: Enable ansible verbose mode (-vvvv connection debugging)"" echo ""--ansible-default-callback: Use the 'default' Ansible callback plugin instead of the"" echo "" tripleo-validations custom callback 'validation_output'"" echo ""--plan: Stack name to use for generating the inventory data"" echo ""--validation-name: The name of the validation"" echo """" exit 1 } if [[ ""$*"" =~ ""--help"" ]]; then usage fi if [[ ""$#"" = 0 ]]; then usage fi while [ $# != 0 ]; do case $1 in --help|-h) usage ;; --debug) DEBUG=""yes"" ;; --ansible-default-callback) CALLBACK=""yes"" ;; --plan) PLAN_NAME=$2 shift ;; --validation-name) VALIDATION=$2 shift ;; *) echo ""invalid arg -- $1"" usage exit 1 ;; esac shift done if [[ -z $VALIDATION ]]; then echo ""Missing required validation name file"" exit 1 fi ANSIBLE_DEBUG="""" if [ ${DEBUG:-no} == ""yes"" ]; then ANSIBLE_DEBUG=""-vvvv"" fi VALIDATIONS_BASEDIR=${VALIDATIONS_BASEDIR:=""/usr/share/openstack-tripleo-validations""} VAL=$(find -H $VALIDATIONS_BASEDIR/playbooks -type f -regex "".*playbooks\/${VALIDATION}\.y[a]?ml"") if [[ -z ${VAL} ]]; then echo ""The ${VALIDATION} validation doesn't exist"" exit 1 fi # Use custom validation-specific formatter if [ ${CALLBACK:-no} = ""yes"" ]; then export ANSIBLE_STDOUT_CALLBACK=default else export ANSIBLE_STDOUT_CALLBACK=validation_output fi # Disable retry files to avoid messages like this: # [Errno 13] Permission denied: # u'/usr/share/openstack-tripleo-validations/validations/*.retry' export ANSIBLE_RETRY_FILES_ENABLED=false export ANSIBLE_KEEP_REMOTE_FILES=1 export ANSIBLE_CALLBACK_PLUGINS=""${VALIDATIONS_BASEDIR}/callback_plugins"" export ANSIBLE_ROLES_PATH=""${VALIDATIONS_BASEDIR}/roles"" export ANSIBLE_LOOKUP_PLUGINS=""${VALIDATIONS_BASEDIR}/lookup_plugins"" export ANSIBLE_LIBRARY=""${VALIDATIONS_BASEDIR}/library"" # Environment variable is the easiest way to pass variables to an Ansible # dynamic inventory script export TRIPLEO_PLAN_NAME=${PLAN_NAME:-overcloud} # IF running on Undercloud export ANSIBLE_INVENTORY=$(which tripleo-ansible-inventory) # IF running on standalone, create a ""hosts"" file with mandatory [undercloud] # entry, and pass it in the ANSIBLE_INVENTORY ansible-playbook ${ANSIBLE_DEBUG} ${VAL} ",10,121
openstack%2Fpython-tripleoclient~stable%2Fwallaby~I89d85b9ef846aa7bb71c9f0b1a07bea87b97a82b,openstack/python-tripleoclient,stable/wallaby,I89d85b9ef846aa7bb71c9f0b1a07bea87b97a82b,Improve tripleo-validations hook in undercloud preflight,MERGED,2022-03-02 14:01:20.000000000,2022-04-21 19:44:10.000000000,2022-04-21 19:42:36.000000000,"[{'_account_id': 7144}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-03-02 14:01:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/55e7d51ac6009f9c7801454689a3d9af13ee75f5', 'message': ""Improve tripleo-validations hook in undercloud preflight\n\nImprove tripleo-validations hook in undercloud preflight checks.\nPreviously, this would only run undercloud disk usage checks but\nnow it's used to validate libvirtd service state too.\n\nDepends-on: https://review.opendev.org/c/openstack/tripleo-validations/+/830502\nChange-Id: I89d85b9ef846aa7bb71c9f0b1a07bea87b97a82b\n(cherry picked from commit 0c48816539c185b2dbfd8297b34d2b3ac455d8db)\n""}, {'number': 2, 'created': '2022-03-02 14:01:53.000000000', 'files': ['tripleoclient/constants.py', 'tripleoclient/v1/undercloud_preflight.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/91808758d8a777d3937a80cf7b7014b00dd41ecd', 'message': ""Improve tripleo-validations hook in undercloud preflight\n\nImprove tripleo-validations hook in undercloud preflight checks.\nPreviously, this would only run undercloud disk usage checks but\nnow it's used to validate libvirtd service state too.\n\nDepends-on: https://review.opendev.org/831424\nChange-Id: I89d85b9ef846aa7bb71c9f0b1a07bea87b97a82b\n(cherry picked from commit 0c48816539c185b2dbfd8297b34d2b3ac455d8db)\n""}]",1,831425,91808758d8a777d3937a80cf7b7014b00dd41ecd,9,2,2,24245,,,0,"Improve tripleo-validations hook in undercloud preflight

Improve tripleo-validations hook in undercloud preflight checks.
Previously, this would only run undercloud disk usage checks but
now it's used to validate libvirtd service state too.

Depends-on: https://review.opendev.org/831424
Change-Id: I89d85b9ef846aa7bb71c9f0b1a07bea87b97a82b
(cherry picked from commit 0c48816539c185b2dbfd8297b34d2b3ac455d8db)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/25/831425/2 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/constants.py', 'tripleoclient/v1/undercloud_preflight.py']",2,55e7d51ac6009f9c7801454689a3d9af13ee75f5,libvirt_val-stable/wallaby,"def _run_validations(upgrade=False): """"""Run tripleo-validations playbook This runs simple ansible playbooks located in tripleo-validations There are currently three playbooks: - undercloud-disabled-services.yaml Third one checks for services that should be disabled on the undercloud. validation_name=playbook_args['playbooks']) _run_validations(upgrade)","def _check_diskspace(upgrade=False): """"""Check undercloud disk space This runs a simple ansible playbook located in tripleo-validations There are currently two playbooks: validation_name=[playbook_args['playbook']]) _check_diskspace(upgrade)",12,8
openstack%2Ftripleo-validations~stable%2Fwallaby~I77e0c4568ecca2638aaa880369b9dec0eb5d1599,openstack/tripleo-validations,stable/wallaby,I77e0c4568ecca2638aaa880369b9dec0eb5d1599,oslo_config_validator: Defaulting config_invalidations to empty list,MERGED,2022-02-10 16:05:25.000000000,2022-04-21 19:42:45.000000000,2022-04-21 19:42:45.000000000,"[{'_account_id': 11090}, {'_account_id': 15895}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}]","[{'number': 1, 'created': '2022-02-10 16:05:25.000000000', 'files': ['roles/oslo_config_validator/tasks/invalidate_config.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/c98827fc46df3cff402eb002049d533a10c8a74c', 'message': ""oslo_config_validator: Defaulting config_invalidations to empty list\n\nWhen a node doesn't have anything to validate, the config invalidation\nfails, reporting a false negative.\n\nRelated: https://bugzilla.redhat.com/2047328\nChange-Id: I77e0c4568ecca2638aaa880369b9dec0eb5d1599\n(cherry picked from commit ebcab3dbe93f80749de02f92d0bf1a57b18e45f8)\n""}]",4,828668,c98827fc46df3cff402eb002049d533a10c8a74c,19,5,1,27419,,,0,"oslo_config_validator: Defaulting config_invalidations to empty list

When a node doesn't have anything to validate, the config invalidation
fails, reporting a false negative.

Related: https://bugzilla.redhat.com/2047328
Change-Id: I77e0c4568ecca2638aaa880369b9dec0eb5d1599
(cherry picked from commit ebcab3dbe93f80749de02f92d0bf1a57b18e45f8)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/68/828668/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/oslo_config_validator/tasks/invalidate_config.yml'],1,c98827fc46df3cff402eb002049d533a10c8a74c,," loop: ""{{ config_invalidations | default([]) | subelements('invalid_settings') }}"""," loop: ""{{ config_invalidations | subelements('invalid_settings') }}""",1,1
openstack%2Fpuppet-tripleo~master~I436591ced7e8faa0c381c53722070de42d4bc117,openstack/puppet-tripleo,master,I436591ced7e8faa0c381c53722070de42d4bc117,Etcd: Replace hiera by lookup,MERGED,2022-04-19 10:32:31.000000000,2022-04-21 19:42:41.000000000,2022-04-21 19:42:41.000000000,"[{'_account_id': 6926}, {'_account_id': 9816}, {'_account_id': 21129}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-04-19 10:32:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/6e916ef62068e6ebf4c0f4fdc7c0a822c692e711', 'message': 'Etcd: Replace hiera by lookup\n\nThe hiera function is deprecated and does not work with the latest\nhieradata version 5. It should be replaced by the new lookup\nfunction[1].\n\n[1] https://puppet.com/docs/puppet/7/hiera_automatic.html\n\nWith the lookup function, we can define value type and merge behavior,\nbut these are kept default at this moment to limit scope of this change\nto just simple replacement. Adding value type might be useful to make\nsure the value is in expected type (especially when a boolean value is\nexpected), but we will revisit that later.\n\nexample:\nlookup(<NAME>, [<VALUE TYPE>], [<MERGE BEHAVIOR>], [<DEFAULT VALUE>])\n\nChange-Id: I436591ced7e8faa0c381c53722070de42d4bc117\n'}, {'number': 2, 'created': '2022-04-21 04:38:34.000000000', 'files': ['manifests/profile/base/etcd.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/97e698221eb1daef1da1ba886aa6213bbf2a6c8d', 'message': 'Etcd: Replace hiera by lookup\n\nThe hiera function is deprecated and does not work with the latest\nhieradata version 5. It should be replaced by the new lookup\nfunction[1].\n\n[1] https://puppet.com/docs/puppet/7/hiera_automatic.html\n\nWith the lookup function, we can define value type and merge behavior,\nbut these are kept default at this moment to limit scope of this change\nto just simple replacement. Adding value type might be useful to make\nsure the value is in expected type (especially when a boolean value is\nexpected), but we will revisit that later.\n\nexample:\nlookup(<NAME>, [<VALUE TYPE>], [<MERGE BEHAVIOR>], [<DEFAULT VALUE>])\n\nChange-Id: I436591ced7e8faa0c381c53722070de42d4bc117\n'}]",3,838474,97e698221eb1daef1da1ba886aa6213bbf2a6c8d,16,5,2,34598,,,0,"Etcd: Replace hiera by lookup

The hiera function is deprecated and does not work with the latest
hieradata version 5. It should be replaced by the new lookup
function[1].

[1] https://puppet.com/docs/puppet/7/hiera_automatic.html

With the lookup function, we can define value type and merge behavior,
but these are kept default at this moment to limit scope of this change
to just simple replacement. Adding value type might be useful to make
sure the value is in expected type (especially when a boolean value is
expected), but we will revisit that later.

example:
lookup(<NAME>, [<VALUE TYPE>], [<MERGE BEHAVIOR>], [<DEFAULT VALUE>])

Change-Id: I436591ced7e8faa0c381c53722070de42d4bc117
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/74/838474/2 && git format-patch -1 --stdout FETCH_HEAD,['manifests/profile/base/etcd.pp'],1,6e916ef62068e6ebf4c0f4fdc7c0a822c692e711,tripleo-hiera-v5,"# Defaults to lookup('etcd_node_ips', undef, undef, []).# Defaults to lookup('enable_internal_tls', undef, undef, false)# Defaults to lookup('step') $nodes = lookup('etcd_node_names', undef, undef, []), $enable_internal_tls = lookup('enable_internal_tls', undef, undef, false), $step = Integer(lookup('step')),","# Defaults to hiera('etcd_node_ips', []).# Defaults to hiera('enable_internal_tls', false)# Defaults to hiera('step') $nodes = hiera('etcd_node_names', []), $enable_internal_tls = hiera('enable_internal_tls', false), $step = Integer(hiera('step')),",6,6
openstack%2Fsahara~stable%2Fvictoria~I7a4071e52f68fea7d07bad690f8590cbb3fb4fa4,openstack/sahara,stable/victoria,I7a4071e52f68fea7d07bad690f8590cbb3fb4fa4,Drop tripleo centos-7 scen3 job definition - not used,MERGED,2022-04-15 11:24:47.000000000,2022-04-21 19:36:43.000000000,2022-04-21 19:34:06.000000000,"[{'_account_id': 8449}, {'_account_id': 10459}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-15 11:24:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/b151215ab96e6960871230140f6e74f0bc36c847', 'message': ""Move replace centos-7 tripleo scen3 job with centos-8\n\nThis is needed by [1] where this job is being removed. Note\nthat this job as defined will only run for stable/stein [2].\nAlso note that this job doesn't appear to be running anywhere\nit is not wired up in this repo [3] or anywhere else.\n\n[1] https://review.opendev.org/c/openstack/tripleo-ci/+/838110/2#message-2efaca7aaf100874fd6996f18f0e74ae942149c0\n[2] https://opendev.org/openstack/tripleo-ci/src/commit/4daed1b14c582b442f64ec45b1ddba5b58e03986/zuul.d/standalone-jobs.yaml#L476\n[3] https://codesearch.opendev.org/?q=sahara-tripleo-ci-centos-7-scenario003-standalone&i=nope&literal=nope&files=&excludeFiles=&repos=\n\nChange-Id: I7a4071e52f68fea7d07bad690f8590cbb3fb4fa4\n""}, {'number': 2, 'created': '2022-04-20 10:24:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/cced31f9de71580570e681eeb37f5fb0a20a7df3', 'message': ""Drop tripleo centos-7 scen3 job definition - not used\n\nThis is needed by [1] where this job is being removed. Note\nthat this job as defined will only run for stable/stein [2].\nAlso note that this job doesn't appear to be running anywhere\nit is not wired up in this repo [3] or anywhere else.\n\n[1] https://review.opendev.org/c/openstack/tripleo-ci/+/838110/2#message-2efaca7aaf100874fd6996f18f0e74ae942149c0\n[2] https://opendev.org/openstack/tripleo-ci/src/commit/4daed1b14c582b442f64ec45b1ddba5b58e03986/zuul.d/standalone-jobs.yaml#L476\n[3] https://codesearch.opendev.org/?q=sahara-tripleo-ci-centos-7-scenario003-standalone&i=nope&literal=nope&files=&excludeFiles=&repos=\n\n(cherry-picked from commit af0faafaad26a3085d81c3ed17f58727b33444c4)\n\nChange-Id: I7a4071e52f68fea7d07bad690f8590cbb3fb4fa4\n""}, {'number': 3, 'created': '2022-04-20 10:25:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/b1aad097244ccc2c136d85706217a05a3dd5116c', 'message': ""Drop tripleo centos-7 scen3 job definition - not used\n\nThis is needed by [1] where this job is being removed. Note\nthat this job as defined will only run for stable/stein [2].\nAlso note that this job doesn't appear to be running anywhere\nit is not wired up in this repo [3] or anywhere else.\n\n[1] https://review.opendev.org/c/openstack/tripleo-ci/+/838110/2#message-2efaca7aaf100874fd6996f18f0e74ae942149c0\n[2] https://opendev.org/openstack/tripleo-ci/src/commit/4daed1b14c582b442f64ec45b1ddba5b58e03986/zuul.d/standalone-jobs.yaml#L476\n[3] https://codesearch.opendev.org/?q=sahara-tripleo-ci-centos-7-scenario003-standalone&i=nope&literal=nope&files=&excludeFiles=&repos=\n\n(cherry-picked from commit af0faafaad26a3085d81c3ed17f58727b33444c4)\n\nChange-Id: I7a4071e52f68fea7d07bad690f8590cbb3fb4fa4\n""}, {'number': 4, 'created': '2022-04-21 08:40:57.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/sahara/commit/4175be12a64c23f3dd1268d3cbd7d68a3e42a825', 'message': ""Drop tripleo centos-7 scen3 job definition - not used\n\nThis is needed by [1] where this job is being removed. Note\nthat this job as defined will only run for stable/stein [2].\nAlso note that this job doesn't appear to be running anywhere\nit is not wired up in this repo [3] or anywhere else.\n\nCherrypick is not clean, it makes sahara-openstack-ansible-functional\nnon voting as requested in review comments [4]. This part is\nspecific to Victoria and Ussuri.\n\n[1] https://review.opendev.org/c/openstack/tripleo-ci/+/838110/2#message-2efaca7aaf100874fd6996f18f0e74ae942149c0\n[2] https://opendev.org/openstack/tripleo-ci/src/commit/4daed1b14c582b442f64ec45b1ddba5b58e03986/zuul.d/standalone-jobs.yaml#L476\n[3] https://codesearch.opendev.org/?q=sahara-tripleo-ci-centos-7-scenario003-standalone&i=nope&literal=nope&files=&excludeFiles=&repos=\n[4] https://review.opendev.org/c/openstack/sahara/+/838017/3#message-3cddf211ea5974fb65c92c148dd9ec52594ac1e2\n\n(cherry-picked from commit af0faafaad26a3085d81c3ed17f58727b33444c4)\n\nChange-Id: I7a4071e52f68fea7d07bad690f8590cbb3fb4fa4\n""}]",5,838017,4175be12a64c23f3dd1268d3cbd7d68a3e42a825,22,3,4,8449,,,0,"Drop tripleo centos-7 scen3 job definition - not used

This is needed by [1] where this job is being removed. Note
that this job as defined will only run for stable/stein [2].
Also note that this job doesn't appear to be running anywhere
it is not wired up in this repo [3] or anywhere else.

Cherrypick is not clean, it makes sahara-openstack-ansible-functional
non voting as requested in review comments [4]. This part is
specific to Victoria and Ussuri.

[1] https://review.opendev.org/c/openstack/tripleo-ci/+/838110/2#message-2efaca7aaf100874fd6996f18f0e74ae942149c0
[2] https://opendev.org/openstack/tripleo-ci/src/commit/4daed1b14c582b442f64ec45b1ddba5b58e03986/zuul.d/standalone-jobs.yaml#L476
[3] https://codesearch.opendev.org/?q=sahara-tripleo-ci-centos-7-scenario003-standalone&i=nope&literal=nope&files=&excludeFiles=&repos=
[4] https://review.opendev.org/c/openstack/sahara/+/838017/3#message-3cddf211ea5974fb65c92c148dd9ec52594ac1e2

(cherry-picked from commit af0faafaad26a3085d81c3ed17f58727b33444c4)

Change-Id: I7a4071e52f68fea7d07bad690f8590cbb3fb4fa4
",git fetch https://review.opendev.org/openstack/sahara refs/changes/17/838017/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,b151215ab96e6960871230140f6e74f0bc36c847,, name: sahara-tripleo-ci-centos-8-scenario003-standalone parent: tripleo-ci-centos-8-scenario003-standalone, name: sahara-tripleo-ci-centos-7-scenario003-standalone parent: tripleo-ci-centos-7-scenario003-standalone,2,2
openstack%2Ftripleo-validations~stable%2Fwallaby~Ie268e91341610dad36c3ddc79496cc174f732900,openstack/tripleo-validations,stable/wallaby,Ie268e91341610dad36c3ddc79496cc174f732900,Validate libvirtd is not running on the undercloud,MERGED,2022-03-02 14:00:51.000000000,2022-04-21 19:30:08.000000000,2022-04-21 19:28:27.000000000,"[{'_account_id': 15895}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 24245}, {'_account_id': 27427}, {'_account_id': 32926}]","[{'number': 1, 'created': '2022-03-02 14:00:51.000000000', 'files': ['playbooks/undercloud-disabled-services.yaml', 'roles/undercloud_disabled_services/defaults/main.yml', 'roles/undercloud_disabled_services/tasks/main.yml', 'doc/source/roles/role-undercloud_disabled_services.rst', 'roles/undercloud_disabled_services/vars/main.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/353e87711894d3c8c0ab9b8dadb10460cb4287e9', 'message': 'Validate libvirtd is not running on the undercloud\n\nValidate libvirtd is not running on the undercloud as its dnsmasq\nprocess is conflicting with ironic-inspector dnsmasq process.\n\nChange-Id: Ie268e91341610dad36c3ddc79496cc174f732900\n(cherry picked from commit 30b234a45c45fff2b49f94efef2d0de31fad2c5e)\n'}]",0,831424,353e87711894d3c8c0ab9b8dadb10460cb4287e9,8,6,1,24245,,,0,"Validate libvirtd is not running on the undercloud

Validate libvirtd is not running on the undercloud as its dnsmasq
process is conflicting with ironic-inspector dnsmasq process.

Change-Id: Ie268e91341610dad36c3ddc79496cc174f732900
(cherry picked from commit 30b234a45c45fff2b49f94efef2d0de31fad2c5e)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/24/831424/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/undercloud-disabled-services.yaml', 'roles/undercloud_disabled_services/defaults/main.yml', 'doc/source/roles/role-undercloud_disabled_services.rst', 'roles/undercloud_disabled_services/tasks/main.yml', 'roles/undercloud_disabled_services/vars/main.yaml']",5,353e87711894d3c8c0ab9b8dadb10460cb4287e9,libvirt_validation-stable/wallaby,--- metadata: name: Verify undercloud services state before running update or upgrade description: > Check undercloud status before running a stack update - especially minor update and major upgrade. groups: - post-upgrade - pre-upgrade ,,57,0
openstack%2Fdesignate~master~I6b7e9d3b63afe5fc8c658fa903bbf65fde9f26f6,openstack/designate,master,I6b7e9d3b63afe5fc8c658fa903bbf65fde9f26f6,Allow the creation of pools with a specific ID,ABANDONED,2020-06-15 20:42:03.000000000,2022-04-21 19:23:40.000000000,,"[{'_account_id': 19298}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-15 20:42:03.000000000', 'files': ['designate/manage/pool.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/1ba3fb478cd89fd1d7baef4db25080eeca7a53b5', 'message': 'Allow the creation of pools with a specific ID\n\nCurrently it is not possible to create new pools with a specific ID.\n\nWith this change it is possible to specify the ID to be used in\npools.yaml already during the creation.\n\nChange-Id: I6b7e9d3b63afe5fc8c658fa903bbf65fde9f26f6\n'}]",0,735701,1ba3fb478cd89fd1d7baef4db25080eeca7a53b5,5,2,1,167,,,0,"Allow the creation of pools with a specific ID

Currently it is not possible to create new pools with a specific ID.

With this change it is possible to specify the ID to be used in
pools.yaml already during the creation.

Change-Id: I6b7e9d3b63afe5fc8c658fa903bbf65fde9f26f6
",git fetch https://review.opendev.org/openstack/designate refs/changes/01/735701/1 && git format-patch -1 --stdout FETCH_HEAD,['designate/manage/pool.py'],1,1ba3fb478cd89fd1d7baef4db25080eeca7a53b5,allow-creation-of-pools-with-id," pool = self.central_api.get_pool( self.context, xpool['id'])"," try: pool = self.central_api.get_pool( self.context, xpool['id']) except Exception as e: msg = (""Bad ID Supplied for pool. pool_id: "" ""%(pool)s message: %(res)s"") LOG.critical(msg, {'pool': xpool['id'], 'res': e}) continue",2,8
openstack%2Fkolla-ansible~master~I1521731637e203534a70eeec037b15f941a56931,openstack/kolla-ansible,master,I1521731637e203534a70eeec037b15f941a56931,WIP: add snmp support to keepalived,ABANDONED,2020-01-25 20:34:03.000000000,2022-04-21 19:19:27.000000000,,"[{'_account_id': 167}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-01-25 20:34:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/9db3df884877810fa0dbe89c2ae024f9b15c3879', 'message': 'WIP: add snmp support to keepalived\n\nChange-Id: I1521731637e203534a70eeec037b15f941a56931\n'}, {'number': 2, 'created': '2020-01-25 20:34:36.000000000', 'files': ['ansible/roles/haproxy/templates/keepalived.conf.j2', 'ansible/group_vars/all.yml', 'ansible/roles/haproxy/templates/keepalived.json.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/2cd8e8cd5fdcf8affb275903726e444a1c5419c8', 'message': 'WIP: add snmp support to keepalived\n\nChange-Id: I1521731637e203534a70eeec037b15f941a56931\n'}]",0,704229,2cd8e8cd5fdcf8affb275903726e444a1c5419c8,8,3,2,167,,,0,"WIP: add snmp support to keepalived

Change-Id: I1521731637e203534a70eeec037b15f941a56931
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/29/704229/2 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/haproxy/templates/keepalived.conf.j2', 'ansible/group_vars/all.yml', 'ansible/roles/haproxy/templates/keepalived.json.j2']",3,9db3df884877810fa0dbe89c2ae024f9b15c3879,keepalived-snmp,"{% set snmp_parameter = 'x' if keepalived_enable_snmp | bool else '' %} { ""command"": ""/usr/sbin/keepalived -nld{{ snmp_parameter }} -p /run/keepalived.pid"",","{ ""command"": ""/usr/sbin/keepalived -nld -p /run/keepalived.pid"",",14,2
openstack%2Fkolla-ansible~master~Ibd692223f1e9c9462ef25e48c53b7fe2d459d918,openstack/kolla-ansible,master,Ibd692223f1e9c9462ef25e48c53b7fe2d459d918,Copy all nfs_shares* files to the cinder-volume container,ABANDONED,2020-01-22 11:47:17.000000000,2022-04-21 19:19:04.000000000,,"[{'_account_id': 167}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-01-22 11:47:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ef65b7b304bb2d3612e20583c054fe17b9fe35d8', 'message': 'Copy all nfs_shares* files to the cinder-volume container\n\nThis is a preparatory step to be able to manage not only\none NFS storage backend in a cinder-volume container.\n\nChange-Id: Ibd692223f1e9c9462ef25e48c53b7fe2d459d918\n'}, {'number': 2, 'created': '2020-02-18 11:20:48.000000000', 'files': ['ansible/roles/cinder/templates/cinder-volume.json.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a0de78306be856571e49c063d160788e5776340f', 'message': 'Copy all nfs_shares* files to the cinder-volume container\n\nThis is a preparatory step to be able to manage not only\none NFS storage backend in a cinder-volume container.\n\nChange-Id: Ibd692223f1e9c9462ef25e48c53b7fe2d459d918\n'}]",0,703777,a0de78306be856571e49c063d160788e5776340f,12,4,2,167,,,0,"Copy all nfs_shares* files to the cinder-volume container

This is a preparatory step to be able to manage not only
one NFS storage backend in a cinder-volume container.

Change-Id: Ibd692223f1e9c9462ef25e48c53b7fe2d459d918
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/77/703777/2 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/cinder/templates/cinder-volume.json.j2'],1,ef65b7b304bb2d3612e20583c054fe17b9fe35d8,copy-all-nfs-shares-files-into-cinder-volume," ""source"": ""{{ container_config_directory }}/nfs_shares*"", ""dest"": ""/etc/cinder/"","," ""source"": ""{{ container_config_directory }}/nfs_shares"", ""dest"": ""/etc/cinder/nfs_shares"",",2,2
openstack%2Fansible-role-python_venv_build~master~I771cac2fc9badb61c22cfde65775aee97c31f89c,openstack/ansible-role-python_venv_build,master,I771cac2fc9badb61c22cfde65775aee97c31f89c,Improve python version detection when symlinking libraries,MERGED,2022-04-21 06:54:39.000000000,2022-04-21 19:18:05.000000000,2022-04-21 19:16:42.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-04-21 06:54:39.000000000', 'files': ['tasks/python_venv_install_symlink.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-python_venv_build/commit/43d785eff201eeb2c0e0dcfce1e4fef536912932', 'message': ""Improve python version detection when symlinking libraries\n\nThe previous code assumed that the major version ('python3') could be\nobtained by removing the last two characters from 'python3.X. This\ndoes not work for pyhton releases 3.10 and onward, so this patch\nchanges the code to split the string on '.' and take the first portion.\n\nChange-Id: I771cac2fc9badb61c22cfde65775aee97c31f89c\n""}]",0,838826,43d785eff201eeb2c0e0dcfce1e4fef536912932,8,3,1,25023,,,0,"Improve python version detection when symlinking libraries

The previous code assumed that the major version ('python3') could be
obtained by removing the last two characters from 'python3.X. This
does not work for pyhton releases 3.10 and onward, so this patch
changes the code to split the string on '.' and take the first portion.

Change-Id: I771cac2fc9badb61c22cfde65775aee97c31f89c
",git fetch https://review.opendev.org/openstack/ansible-role-python_venv_build refs/changes/26/838826/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/python_venv_install_symlink.yml'],1,43d785eff201eeb2c0e0dcfce1e4fef536912932,osa-jammy," _venv_python_major_version: ""{{ (_python_venv_details.files[0].path | basename | split('.') )[0] }}"""," _venv_python_major_version: ""{{ (_python_venv_details.files[0].path | basename)[:-2] }}""",1,1
openstack%2Fkolla-ansible~master~I1384ada7f322c25dd95874c2a2304e6dee506fe0,openstack/kolla-ansible,master,I1384ada7f322c25dd95874c2a2304e6dee506fe0,Run kolla-toolbox container unpriviliged,ABANDONED,2020-06-02 14:52:03.000000000,2022-04-21 19:15:38.000000000,,"[{'_account_id': 167}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-06-02 14:52:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/d8e6d5b28158d53fccdd5cea44f941641271b1cc', 'message': 'Run kolla-toolbox container unpriviliged\n\nChange-Id: I1384ada7f322c25dd95874c2a2304e6dee506fe0\n'}, {'number': 2, 'created': '2020-06-04 15:56:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e1e1b9f1d81b27732daea4f507c3c76018bdf97c', 'message': 'Run kolla-toolbox container unpriviliged\n\nChange-Id: I1384ada7f322c25dd95874c2a2304e6dee506fe0\n'}, {'number': 3, 'created': '2020-06-09 08:02:43.000000000', 'files': ['ansible/roles/common/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/d1563e70cb0f061cc625979a5664b3f8892f57e3', 'message': 'Run kolla-toolbox container unpriviliged\n\nChange-Id: I1384ada7f322c25dd95874c2a2304e6dee506fe0\n'}]",3,732700,d1563e70cb0f061cc625979a5664b3f8892f57e3,20,4,3,167,,,0,"Run kolla-toolbox container unpriviliged

Change-Id: I1384ada7f322c25dd95874c2a2304e6dee506fe0
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/00/732700/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/common/defaults/main.yml'],1,d8e6d5b28158d53fccdd5cea44f941641271b1cc,kolla-toolbox-unprivileged,, privileged: True,0,1
openstack%2Fkolla-ansible~master~Ib5022fbf2c98995f8387e0878636d6f6c4d5841b,openstack/kolla-ansible,master,Ib5022fbf2c98995f8387e0878636d6f6c4d5841b,Prevent access to server-status from horizon,ABANDONED,2019-07-04 15:19:54.000000000,2022-04-21 19:14:14.000000000,,"[{'_account_id': 167}, {'_account_id': 14826}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-04 15:19:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ef5baf301f5beca00cb020f7b7cc1f685ce0f69a', 'message': 'Prevent access to server-statu from Horizon\n\nThe server-status module is activated by default in the Horizon Container.\nThis should be disabled in order not to make internal details of an\nenvironment externally accessible.\n\nChange-Id: Ib5022fbf2c98995f8387e0878636d6f6c4d5841b\n'}, {'number': 2, 'created': '2019-07-04 15:24:54.000000000', 'files': ['ansible/roles/horizon/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ac8cec82a9adbd8400f1f7ed222ce2e87db24e12', 'message': 'Prevent access to server-status from horizon\n\nThe server-status module is activated by default in the horizon container.\nThis should be disabled in order not to make internal details of an\nenvironment externally accessible.\n\nChange-Id: Ib5022fbf2c98995f8387e0878636d6f6c4d5841b\n'}]",2,669204,ac8cec82a9adbd8400f1f7ed222ce2e87db24e12,8,3,2,167,,,0,"Prevent access to server-status from horizon

The server-status module is activated by default in the horizon container.
This should be disabled in order not to make internal details of an
environment externally accessible.

Change-Id: Ib5022fbf2c98995f8387e0878636d6f6c4d5841b
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/04/669204/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/horizon/defaults/main.yml'],1,ef5baf301f5beca00cb020f7b7cc1f685ce0f69a,horizon-deny-access-to-server-status," - ""acl server_status path_beg /server-status"" - ""http-request deny if server_status"" - ""acl server_status path_beg /server-status"" - ""http-request deny if server_status""",,4,0
openstack%2Fkolla~master~Iea5307cb2be5e86b279fa8823ea0720b05735208,openstack/kolla,master,Iea5307cb2be5e86b279fa8823ea0720b05735208,Fix name of the ovsdpdk base image,ABANDONED,2020-01-28 10:40:40.000000000,2022-04-21 19:13:40.000000000,,"[{'_account_id': 167}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-01-28 10:40:40.000000000', 'files': ['kolla/image/build.py', 'docker/ovsdpdk/ovsdpdk-db/Dockerfile.j2', 'docker/ovsdpdk/ovsdpdk-base/extend_start.sh', 'docker/ovsdpdk/ovsdpdk-vswitchd/Dockerfile.j2', 'docker/ovsdpdk/ovsdpdk-base/Dockerfile.j2', 'contrib/template-override/ovs-dpdk.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/c2ac556b4f15e884cd6954c232e9075c4a016243', 'message': 'Fix name of the ovsdpdk base image\n\nThe correct name of the ovsdpdk image is ovsdpdk-base.\n\nChange-Id: Iea5307cb2be5e86b279fa8823ea0720b05735208\n'}]",0,704529,c2ac556b4f15e884cd6954c232e9075c4a016243,12,4,1,167,,,0,"Fix name of the ovsdpdk base image

The correct name of the ovsdpdk image is ovsdpdk-base.

Change-Id: Iea5307cb2be5e86b279fa8823ea0720b05735208
",git fetch https://review.opendev.org/openstack/kolla refs/changes/29/704529/1 && git format-patch -1 --stdout FETCH_HEAD,"['kolla/image/build.py', 'docker/ovsdpdk/ovsdpdk-db/Dockerfile.j2', 'docker/ovsdpdk/ovsdpdk-base/extend_start.sh', 'docker/ovsdpdk/ovsdpdk-vswitchd/Dockerfile.j2', 'docker/ovsdpdk/ovsdpdk-base/Dockerfile.j2', 'contrib/template-override/ovs-dpdk.j2']",6,c2ac556b4f15e884cd6954c232e9075c4a016243,ovsdpdk-base-image,{% block ovsdpdk_base_install %},{% block ovsdpdk_install %},8,8
openstack%2Fci-log-processing~master~I42443e33017547fee17c841eb991cccc840c091e,openstack/ci-log-processing,master,I42443e33017547fee17c841eb991cccc840c091e,Add performance.json file,MERGED,2022-04-20 08:17:33.000000000,2022-04-21 19:03:57.000000000,2022-04-21 19:02:40.000000000,"[{'_account_id': 4146}, {'_account_id': 4393}, {'_account_id': 6889}, {'_account_id': 8367}, {'_account_id': 8449}, {'_account_id': 9311}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-20 08:17:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ci-log-processing/commit/4b43fa8945dcedcfbb400dd493b78b163b6e16b4', 'message': 'Add performance.json file\n\nThe file accumulate informations about CI job.\nThat informations will be later parsed and created graph base on that.\n\nChange-Id: I42443e33017547fee17c841eb991cccc840c091e\n'}, {'number': 2, 'created': '2022-04-20 08:43:13.000000000', 'files': ['logscraper/config.yaml.sample', 'logscraper/tests/test_logsender.py', 'ansible/roles/logscraper/templates/config.yaml.j2', 'logscraper/logsender.py'], 'web_link': 'https://opendev.org/openstack/ci-log-processing/commit/68afa6dad2047cd15d554c1cf2b60529632c97b7', 'message': 'Add performance.json file\n\nThe file accumulate informations about CI job.\nThat informations will be later parsed and created graph base on that.\n\nChange-Id: I42443e33017547fee17c841eb991cccc840c091e\n'}]",3,838655,68afa6dad2047cd15d554c1cf2b60529632c97b7,20,7,2,20676,,,0,"Add performance.json file

The file accumulate informations about CI job.
That informations will be later parsed and created graph base on that.

Change-Id: I42443e33017547fee17c841eb991cccc840c091e
",git fetch https://review.opendev.org/openstack/ci-log-processing refs/changes/55/838655/2 && git format-patch -1 --stdout FETCH_HEAD,"['logscraper/config.yaml.sample', 'ansible/roles/logscraper/templates/config.yaml.j2', 'logscraper/logsender.py']",3,4b43fa8945dcedcfbb400dd493b78b163b6e16b4,,"import jsondef json_iter(build_file): with open_file(build_file) as f: parse_file = json.load(f) if 'report' in parse_file and 'timestamp' in parse_file['report']: ts = get_timestamp(parse_file['report']['timestamp']) else: ts = datetime.datetime.utcnow() yield (ts, str(parse_file)) if build_file.endswith('performance.json'): docs = doc_iter(json_iter(build_file), index, es_fields, doc_type, chunk_size) return helpers.bulk(es_client, docs) ",,24,0
openstack%2Fkolla~master~I3bbb4f98b5b9adb41eda5bf2af32e15bbd93fba7,openstack/kolla,master,I3bbb4f98b5b9adb41eda5bf2af32e15bbd93fba7,Add a python argument to the install_pip macro,ABANDONED,2021-05-26 10:46:33.000000000,2022-04-21 19:03:34.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-05-26 10:46:33.000000000', 'files': ['docker/macros.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/03f57cc072b005975eb1dbe88bae30c4d6ec8461', 'message': ""Add a python argument to the install_pip macro\n\nWith the python argument it is possible to explicitly\nset the used Python interpreter if needed. This is useful\nfor downstream images that use Kolla's macros, but work\nwith Pypy in certain places, for example.\n\nSigned-off-by: Christian Berendt <berendt@betacloud-solutions.de>\nChange-Id: I3bbb4f98b5b9adb41eda5bf2af32e15bbd93fba7\n""}]",2,793139,03f57cc072b005975eb1dbe88bae30c4d6ec8461,6,1,1,167,,,0,"Add a python argument to the install_pip macro

With the python argument it is possible to explicitly
set the used Python interpreter if needed. This is useful
for downstream images that use Kolla's macros, but work
with Pypy in certain places, for example.

Signed-off-by: Christian Berendt <berendt@betacloud-solutions.de>
Change-Id: I3bbb4f98b5b9adb41eda5bf2af32e15bbd93fba7
",git fetch https://review.opendev.org/openstack/kolla refs/changes/39/793139/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/macros.j2'],1,03f57cc072b005975eb1dbe88bae30c4d6ec8461,feat/macros-install-pip-python-argument,"{% macro install_pip(packages, constraints = true, python = ""python{{ distro_python_version }}"") %} {{ python }} -m pip --no-cache-dir install --upgrade{{ ' ' }}","{% macro install_pip(packages, constraints = true) %} python{{ distro_python_version }} -m pip --no-cache-dir install --upgrade{{ ' ' }}",2,2
openstack%2Fmanila~master~Idb2a8838d492ac3c616fb21ab1272f7dc74ee589,openstack/manila,master,Idb2a8838d492ac3c616fb21ab1272f7dc74ee589,Add validation to share network,MERGED,2021-12-01 15:59:31.000000000,2022-04-21 18:53:34.000000000,2022-04-21 17:18:38.000000000,"[{'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 29632}, {'_account_id': 32594}, {'_account_id': 33648}]","[{'number': 1, 'created': '2021-12-01 15:59:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/df02f8162d90689d3ba34955e5c8dec37c98c6bc', 'message': 'Add validation to share network\n\nAdds a check when associating a security service to a share network, so\nthat both resources must have the same project_id. If not,\na HTTP Bad Request is raised. Affiliated tests were altered or created.\n\nCloses-Bug: # 1918323\nChange-Id: Idb2a8838d492ac3c616fb21ab1272f7dc74ee589\n'}, {'number': 2, 'created': '2022-03-03 16:41:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/6c2fc2ff7f5a83b70ddf19a4302b5406b487b33f', 'message': 'Add validation to share network\n\nAdds a check when associating a security service to a share network, so\nthat both resources must have the same project_id. If not,\na HTTP Bad Request is raised. Affiliated tests were altered or created.\n\nCloses-Bug: # 1918323\nChange-Id: Idb2a8838d492ac3c616fb21ab1272f7dc74ee589\n'}, {'number': 3, 'created': '2022-03-03 17:03:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/29a2a1d18c023e8d6b17991ead8b8b002c0cc5be', 'message': 'Add validation to share network\n\nAdds a check when associating a security service to a share network, so\nthat both resources must have the same project_id. If not,\na HTTP Bad Request is raised. Affiliated tests were altered or created.\n\nCloses-Bug: #1918323\nChange-Id: Idb2a8838d492ac3c616fb21ab1272f7dc74ee589\n'}, {'number': 4, 'created': '2022-03-03 17:05:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/da329a1c8f42b01fb0f8ff5034b03eda94d71a51', 'message': 'Add validation to share network\n\nAdds a check when associating a security service to a share network, so\nthat both resources must have the same project_id. If not,\na HTTP Bad Request is raised. Affiliated tests were altered or created.\n\nCloses-Bug: #1918323\nChange-Id: Idb2a8838d492ac3c616fb21ab1272f7dc74ee589\n'}, {'number': 5, 'created': '2022-03-10 20:36:50.000000000', 'files': ['manila/db/api.py', 'manila/api/v2/share_networks.py', 'manila/db/sqlalchemy/api.py', 'manila/tests/api/v2/test_share_networks.py', 'releasenotes/notes/bug-1918323-add-validation-to-share-network-94571f35cb39c815.yaml'], 'web_link': 'https://opendev.org/openstack/manila/commit/a97d65d3eb9b3a5b4a88a1b3f22b59ca2f75c9bc', 'message': 'Add validation to share network\n\nAdds a check when associating a security service to a share network, so\nthat both resources must have the same project_id. If not,\na HTTP Bad Request is raised. Affiliated tests were altered or created.\n\nCloses-Bug: #1918323\nChange-Id: Idb2a8838d492ac3c616fb21ab1272f7dc74ee589\n'}]",19,820044,a97d65d3eb9b3a5b4a88a1b3f22b59ca2f75c9bc,53,5,5,32594,,,0,"Add validation to share network

Adds a check when associating a security service to a share network, so
that both resources must have the same project_id. If not,
a HTTP Bad Request is raised. Affiliated tests were altered or created.

Closes-Bug: #1918323
Change-Id: Idb2a8838d492ac3c616fb21ab1272f7dc74ee589
",git fetch https://review.opendev.org/openstack/manila refs/changes/44/820044/5 && git format-patch -1 --stdout FETCH_HEAD,"['manila/tests/db_utils.py', 'manila/api/v2/share_networks.py', 'manila/tests/api/v2/test_share_networks.py']",3,df02f8162d90689d3ba34955e5c8dec37c98c6bc,yoga-m3-bugsquash," 'project_id': 'fake-project-id', def test_check_add_security_service_failed_project_id(self): security_service, share_network, body, request = ( self._setup_data_for_check_add_tests()) share_network = fake_share_network context = request.environ['manila.context'] share_api_return = {'fake_key': 'fake_value'} self.mock_object(share_networks.policy, 'check_policy') self.mock_object(db_api, 'share_network_get', mock.Mock(return_value=share_network)) self.mock_object( db_api, 'security_service_get', mock.Mock(return_value=security_service)) self.mock_object( self.controller.share_api, 'check_share_network_security_service_update', mock.Mock(return_vale=share_api_return)) self.mock_object( self.controller._view_builder, 'build_security_service_update_check') self.assertRaises( webob_exc.HTTPBadRequest, self.controller.check_add_security_service, request, share_network['id'], body) db_api.share_network_get.assert_called_once_with( context, share_network['id']) db_api.security_service_get.assert_called_once_with( context, security_service['id']) "," 'project_id': 'fake',",39,2
openstack%2Fkolla~master~I153355353cd12aa25adaa9c87438a478748dfb28,openstack/kolla,master,I153355353cd12aa25adaa9c87438a478748dfb28,switch to short image names by default,MERGED,2022-04-11 10:31:18.000000000,2022-04-21 18:50:52.000000000,2022-04-21 18:49:30.000000000,"[{'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-04-11 10:31:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/c8b38fd784f8d5a65a27f1996cc9e954d94b1017', 'message': 'drop install_type from image names\n\nWe have one value of install_type now so there is no\nneed to store it in image names.\n\nkolla/debian-source-nova-compute -> kolla/debian-nova-compute\n\nChange-Id: I153355353cd12aa25adaa9c87438a478748dfb28\n'}, {'number': 2, 'created': '2022-04-15 10:29:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/cfb393f9f666fd5cd78ea86de413e8ad2889de41', 'message': 'drop install_type from image names\n\nWe have one value of install_type now so there is no\nneed to store it in image names.\n\nkolla/debian-source-nova-compute -> kolla/debian-nova-compute\n\nChange-Id: I153355353cd12aa25adaa9c87438a478748dfb28\n'}, {'number': 3, 'created': '2022-04-15 11:03:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/74756f4303e41391ef42ee8f5fc8d8bcbf9cadb3', 'message': 'drop install_type from image names\n\nWe have one value of install_type now so there is no\nneed to store it in image names.\n\nkolla/debian-source-nova-compute -> kolla/debian-nova-compute\n\nDepends-on: https://review.opendev.org/c/openstack/kolla-ansible/+/837293\n\nChange-Id: I153355353cd12aa25adaa9c87438a478748dfb28\n'}, {'number': 4, 'created': '2022-04-21 15:01:32.000000000', 'files': ['kolla/image/build.py', 'tests/playbooks/run.yml', 'kolla/common/config.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/08b80e34dae0236e6b106e7debcdb755508fe1d9', 'message': ""switch to short image names by default\n\nWe can drop temporary 'use-short-names' argument and make short\n(kolla/debian-nova-libvirt:master) image names default.\n\nKolla Ansible is using short names now.\n\nChange-Id: I153355353cd12aa25adaa9c87438a478748dfb28\n""}]",5,837285,08b80e34dae0236e6b106e7debcdb755508fe1d9,26,2,4,24072,,,0,"switch to short image names by default

We can drop temporary 'use-short-names' argument and make short
(kolla/debian-nova-libvirt:master) image names default.

Kolla Ansible is using short names now.

Change-Id: I153355353cd12aa25adaa9c87438a478748dfb28
",git fetch https://review.opendev.org/openstack/kolla refs/changes/85/837285/4 && git format-patch -1 --stdout FETCH_HEAD,['kolla/image/build.py'],1,c8b38fd784f8d5a65a27f1996cc9e954d94b1017,zed-remove-support-for-binary-images, self.image_prefix = self.base + '-', self.image_prefix = self.base + '-' + self.install_type + '-',1,1
openstack%2Fcharm-vault~stable%2F1.7~I23821186f6f6431b010f9ed7f7164862f5c602ef,openstack/charm-vault,stable/1.7,I23821186f6f6431b010f9ed7f7164862f5c602ef,Switch default config to 1.7 snap track,MERGED,2022-03-24 09:55:53.000000000,2022-04-21 18:34:22.000000000,2022-04-21 18:34:22.000000000,"[{'_account_id': 8992}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-03-24 09:55:53.000000000', 'files': ['src/config.yaml', 'src/tests/bundles/focal-mysql8.yaml', 'src/tests/bundles/focal-ha-mysql8.yaml'], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/2db2262bea87d87d7ec4a03a8e4ed9099a237e51', 'message': 'Switch default config to 1.7 snap track\n\nEnsure that the intended UX matches the actual default\nconfiguration for the vault charm by using the 1.7/stable\nchannel by default.\n\nChange-Id: I23821186f6f6431b010f9ed7f7164862f5c602ef\n'}]",0,835024,2db2262bea87d87d7ec4a03a8e4ed9099a237e51,7,3,1,935,,,0,"Switch default config to 1.7 snap track

Ensure that the intended UX matches the actual default
configuration for the vault charm by using the 1.7/stable
channel by default.

Change-Id: I23821186f6f6431b010f9ed7f7164862f5c602ef
",git fetch https://review.opendev.org/openstack/charm-vault refs/changes/24/835024/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/config.yaml', 'src/tests/bundles/focal-mysql8.yaml', 'src/tests/bundles/focal-ha-mysql8.yaml']",3,2db2262bea87d87d7ec4a03a8e4ed9099a237e51,1.7-default-config,, channel: 1.7/stable,1,4
openstack%2Fcharm-vault~stable%2F1.6~I2fbc88f15262610cbd249f0a054d3a0dff071b50,openstack/charm-vault,stable/1.6,I2fbc88f15262610cbd249f0a054d3a0dff071b50,Switch default config to 1.6 snap track,MERGED,2022-03-24 09:57:28.000000000,2022-04-21 18:34:20.000000000,2022-04-21 18:34:20.000000000,"[{'_account_id': 8992}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-03-24 09:57:28.000000000', 'files': ['src/config.yaml', 'src/tests/bundles/focal-mysql8.yaml', 'src/tests/bundles/focal-ha-mysql8.yaml'], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/ad030fdeb5c040631ca53d1d3f4d97d5977d4a45', 'message': 'Switch default config to 1.6 snap track\n\nEnsure that the intended UX matches the actual default\nconfiguration for the vault charm by using the 1.6/stable\nchannel by default.\n\nChange-Id: I2fbc88f15262610cbd249f0a054d3a0dff071b50\n'}]",0,835026,ad030fdeb5c040631ca53d1d3f4d97d5977d4a45,7,3,1,935,,,0,"Switch default config to 1.6 snap track

Ensure that the intended UX matches the actual default
configuration for the vault charm by using the 1.6/stable
channel by default.

Change-Id: I2fbc88f15262610cbd249f0a054d3a0dff071b50
",git fetch https://review.opendev.org/openstack/charm-vault refs/changes/26/835026/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/config.yaml', 'src/tests/bundles/focal-mysql8.yaml', 'src/tests/bundles/focal-ha-mysql8.yaml']",3,ad030fdeb5c040631ca53d1d3f4d97d5977d4a45,1.6-default-config,, channel: 1.6/stable,1,4
openstack%2Fcharm-vault~stable%2F1.5~I16bf1c18ddbe1d3c1a77cc0108c48efd8c22baf9,openstack/charm-vault,stable/1.5,I16bf1c18ddbe1d3c1a77cc0108c48efd8c22baf9,Switch default config to 1.5 snap track,MERGED,2022-03-24 09:58:46.000000000,2022-04-21 18:34:18.000000000,2022-04-21 18:34:18.000000000,"[{'_account_id': 8992}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-03-24 09:58:46.000000000', 'files': ['src/config.yaml', 'src/tests/bundles/focal-mysql8.yaml', 'src/tests/bundles/focal-ha-mysql8.yaml'], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/c5b1b4c13c6636609b7aec7d9dcf4882bc41c679', 'message': 'Switch default config to 1.5 snap track\n\nEnsure that the intended UX matches the actual default\nconfiguration for the vault charm by using the 1.5/stable\nchannel by default.\n\nChange-Id: I16bf1c18ddbe1d3c1a77cc0108c48efd8c22baf9\n'}]",0,835027,c5b1b4c13c6636609b7aec7d9dcf4882bc41c679,7,3,1,935,,,0,"Switch default config to 1.5 snap track

Ensure that the intended UX matches the actual default
configuration for the vault charm by using the 1.5/stable
channel by default.

Change-Id: I16bf1c18ddbe1d3c1a77cc0108c48efd8c22baf9
",git fetch https://review.opendev.org/openstack/charm-vault refs/changes/27/835027/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/config.yaml', 'src/tests/bundles/focal-mysql8.yaml', 'src/tests/bundles/focal-ha-mysql8.yaml']",3,c5b1b4c13c6636609b7aec7d9dcf4882bc41c679,1.5-default-config,, channel: 1.5/stable,1,4
openstack%2Fansible-role-pki~master~I266415c1e8c6ce162c13965147885249dee89ac1,openstack/ansible-role-pki,master,I266415c1e8c6ce162c13965147885249dee89ac1,Explicitly use community.crypto collection,MERGED,2022-04-20 11:37:27.000000000,2022-04-21 18:25:23.000000000,2022-04-21 18:24:00.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2022-04-20 11:37:27.000000000', 'files': ['tasks/standalone/create_ca.yml', 'tasks/standalone/create_cert.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-pki/commit/5027099fce06862436a736bd6724cad9e268bef5', 'message': 'Explicitly use community.crypto collection\n\nRename modules to explicitly refference to community.crypto\ncollection.\n\nChange-Id: I266415c1e8c6ce162c13965147885249dee89ac1\n'}]",2,838714,5027099fce06862436a736bd6724cad9e268bef5,12,3,1,28619,,,0,"Explicitly use community.crypto collection

Rename modules to explicitly refference to community.crypto
collection.

Change-Id: I266415c1e8c6ce162c13965147885249dee89ac1
",git fetch https://review.opendev.org/openstack/ansible-role-pki refs/changes/14/838714/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/standalone/create_ca.yml', 'tasks/standalone/create_cert.yml']",2,5027099fce06862436a736bd6724cad9e268bef5,pki/crypto_collection, community.crypto.openssl_privatekey: community.crypto.openssl_csr: community.crypto.x509_certificate_info:, openssl_privatekey: openssl_csr: openssl_certificate_info:,8,8
openstack%2Fneutron~master~I17aa53cea6aba8ea83187c99102a6f25fd33cfff,openstack/neutron,master,I17aa53cea6aba8ea83187c99102a6f25fd33cfff,"[OVN] Handle OVN agents when ""Chassis"" register is deleted",MERGED,2021-11-16 18:25:04.000000000,2022-04-21 18:03:07.000000000,2022-04-21 18:01:26.000000000,"[{'_account_id': 5756}, {'_account_id': 5948}, {'_account_id': 6773}, {'_account_id': 8655}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-16 18:25:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/88e7133068ec265ca351bc5f2ac2dc04b9a5f635', 'message': '[WIP] [OVN] Handle OVN agents when ""Chassis"" register is deleted\n\nIn an OVN deployment with ""Chassis_Private"" registers support, Neutron\nserver retrieves the chassis information from those registers and\nattends only to those register events.\n\nIf by any circumstance, as describe in the related bug, the ""Chassis""\nregister is not present, the ""Chassis_Private"" register will not have\nif in the ""chassis"" field. When listing the OVN agents using\n""Chassis_Private"" registers, the related ""Chassis"" register will not\nbe present. At this point the OVN ""AgentCache"" singleton deletes\nthe affected agent, considering this agent and the host as not\npresent.\n\nCloses-Bug: #1951149\nChange-Id: I17aa53cea6aba8ea83187c99102a6f25fd33cfff\n'}, {'number': 2, 'created': '2021-11-17 17:34:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9cf7251e8c9c1e555fd0b28f58fd3baf03ec0f05', 'message': '[WIP] [OVN] Handle OVN agents when ""Chassis"" register is deleted\n\nTODO: add description\n\nCloses-Bug: #1951149\nChange-Id: I17aa53cea6aba8ea83187c99102a6f25fd33cfff\n'}, {'number': 3, 'created': '2021-11-18 16:30:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/faefe0755ced7fc955f1f8a47e28289610e14f9c', 'message': '[OVN] Handle OVN agents when ""Chassis"" register is deleted\n\nIf an ""ovn-controller"" ends not gracefully, the node ""Chassis"" and\n""Chassis_Private"" registers will remain in the OVN SB database.\n\nIf the ""Chassis"" register is deleted, the ""Chassis_Private.chassis""\ncolumn will be []. In this case, Neutron needs to delete the\ncorresponding OVN agents (controller and metadata) from the OVN\n""AgentCache"" instance.\n\nCloses-Bug: #1951149\n\nChange-Id: I17aa53cea6aba8ea83187c99102a6f25fd33cfff\n'}, {'number': 4, 'created': '2021-11-22 09:43:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2c15c8681d065affb47cb9cf1795bd7cee21acd0', 'message': '[WIP][OVN] Handle OVN agents when ""Chassis"" register is deleted\n\nTODO: testing!!\n\nIf an ""ovn-controller"" ends not gracefully, the node ""Chassis"" and\n""Chassis_Private"" registers will remain in the OVN SB database.\nBecause there is no a mandatory procedure to delete the ""Chassis""\nand ""Chassis_Private"" registers, the administrator can manually\ndelete, from the OVN SB database, any register in any order.\n\nIf the ""Chassis"" register is deleted first, Neutron must be aware\nof this event and set the OVN agents related to this host to down.\nThis patch creates a new event in ""SB_Global"", called ""chassis_delete"".\nAll workers will receive the event of the ""Chassis"" register deletion\nand will set the OVN related agents to down (not alive).\n\nIf the ""Chassis"" register is created again (the OVN controller is\nrestarted, for example), the event is also attended and an event\ncalled ""chassis_create"" is populated to all workers. That will set\nthe OVN related agents to up (alive).\n\nThere is an aditional issue solved by this patch. When the ""Chassis""\nregister is deleted, the ""Chassis_Private"" register does emit a new\nevent but it is dismissed. The ""Chassis_Private"" register stored in\nall related OVN agents (the OVN agents belonging to the host of this\n""Chassis_Private"") is not modified. That means it holds the ""Chassis""\ninformation, that contains some agent information (hostname, chassis\nname and bridge mappings).\n\nIf the ""Chassis"" register is deleted and the Neutron server restarted,\nthe updated ""Chassis_Private"" register will be read from the database.\nThat won\'t contain the ""Chassis"" information as this register has been\ndeleted. In this case, the ``NeutronAgent`` returns ``DeletedChassis``,\nan empty chassis register with no information.\n\nCloses-Bug: #1951149\n\nChange-Id: I17aa53cea6aba8ea83187c99102a6f25fd33cfff\n'}, {'number': 5, 'created': '2022-04-12 10:26:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9fb4f1e148ba2f38e2df1dbb83d523620f7b3dd3', 'message': '[WIP][OVN] Handle OVN agents when ""Chassis"" register is deleted\n\nTODO: testing!!\n\nIf an ""ovn-controller"" ends not gracefully, the node ""Chassis"" and\n""Chassis_Private"" registers will remain in the OVN SB database.\nBecause there is no a mandatory procedure to delete the ""Chassis""\nand ""Chassis_Private"" registers, the administrator can manually\ndelete, from the OVN SB database, any register in any order.\n\nIf the ""Chassis"" register is deleted first, Neutron must be aware\nof this event and set the OVN agents related to this host to down.\nThis patch creates a new event in ""SB_Global"", called ""chassis_delete"".\nAll workers will receive the event of the ""Chassis"" register deletion\nand will set the OVN related agents to down (not alive).\n\nIf the ""Chassis"" register is created again (the OVN controller is\nrestarted, for example), the event is also attended and an event\ncalled ""chassis_create"" is populated to all workers. That will set\nthe OVN related agents to up (alive).\n\nThere is an aditional issue solved by this patch. When the ""Chassis""\nregister is deleted, the ""Chassis_Private"" register does emit a new\nevent but it is dismissed. The ""Chassis_Private"" register stored in\nall related OVN agents (the OVN agents belonging to the host of this\n""Chassis_Private"") is not modified. That means it holds the ""Chassis""\ninformation, that contains some agent information (hostname, chassis\nname and bridge mappings).\n\nIf the ""Chassis"" register is deleted and the Neutron server restarted,\nthe updated ""Chassis_Private"" register will be read from the database.\nThat won\'t contain the ""Chassis"" information as this register has been\ndeleted. In this case, the ``NeutronAgent`` returns ``DeletedChassis``,\nan empty chassis register with no information.\n\nCloses-Bug: #1951149\n\nChange-Id: I17aa53cea6aba8ea83187c99102a6f25fd33cfff\n'}, {'number': 6, 'created': '2022-04-19 09:27:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/415eba656cc8fcc9787ea5963143523731d06ae9', 'message': '[OVN] Handle OVN agents when ""Chassis"" register is deleted\n\nIf an ""ovn-controller"" ends not gracefully, the node ""Chassis"" and\n""Chassis_Private"" registers will remain in the OVN SB database.\nBecause there is no a mandatory procedure to delete the ""Chassis""\nand ""Chassis_Private"" registers, the administrator can manually\ndelete, from the OVN SB database, any register in any order.\n\nIf the ""Chassis"" register is deleted first, Neutron must be aware\nof this event and set the OVN agents related to this host to down.\nThis patch creates a new event in ""SB_Global"", called ""chassis_delete"".\nAll workers will receive the event of the ""Chassis"" register deletion\nand will set the OVN related agents to down (not alive).\n\nIf the ""Chassis"" register is created again (the OVN controller is\nrestarted, for example), the event is also attended and an event\ncalled ""chassis_create"" is populated to all workers. That will set\nthe OVN related agents to up (alive).\n\nThere is an aditional issue solved by this patch. When the ""Chassis""\nregister is deleted, the ""Chassis_Private"" register does emit a new\nevent but it is dismissed. The ""Chassis_Private"" register stored in\nall related OVN agents (the OVN agents belonging to the host of this\n""Chassis_Private"") is not modified. That means it holds the ""Chassis""\ninformation, that contains some agent information (hostname, chassis\nname and bridge mappings).\n\nIf the ""Chassis"" register is deleted and the Neutron server restarted,\nthe updated ""Chassis_Private"" register will be read from the database.\nThat won\'t contain the ""Chassis"" information as this register has been\ndeleted. In this case, the ``NeutronAgent`` returns ``DeletedChassis``,\nan empty chassis register with no information.\n\nCloses-Bug: #1951149\n\nChange-Id: I17aa53cea6aba8ea83187c99102a6f25fd33cfff\n'}, {'number': 7, 'created': '2022-04-21 09:01:25.000000000', 'files': ['neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/plugins/ml2/drivers/ovn/agent/neutron_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/f1a5511e9094d6aae7a61cd858c59c706033ca95', 'message': '[OVN] Handle OVN agents when ""Chassis"" register is deleted\n\nIf an ""ovn-controller"" ends not gracefully, the node ""Chassis"" and\n""Chassis_Private"" registers will remain in the OVN SB database.\nBecause there is no a mandatory procedure to delete the ""Chassis""\nand ""Chassis_Private"" registers, the administrator can manually\ndelete, from the OVN SB database, any register in any order.\n\nIf the ""Chassis"" register is deleted and the Neutron server restarted,\nthe updated ""Chassis_Private"" register will be read from the database.\nThat won\'t contain the ""Chassis"" information as this register has been\ndeleted. In this case, the ``NeutronAgent`` returns ``DeletedChassis``,\nan empty chassis register with no information.\n\nNOTE: the sequence of actions (""Chassis"" register deletion, Neutron\nserver restart) must be follow to reproduce this issue. If the\n""Chassis"" register is deleted, the Neutron server OVN agent local cache\nwon\'t update the stored information and will keep the previous value.\nIt is when the Neutron server is restarted when the OVN agent local\ncache is retrieved again; at this time the ""Chassis_Private"" register\nwon\'t have any related ""Chassis"" register.\n\nCloses-Bug: #1951149\n\nChange-Id: I17aa53cea6aba8ea83187c99102a6f25fd33cfff\n'}]",19,818132,f1a5511e9094d6aae7a61cd858c59c706033ca95,63,8,7,16688,,,0,"[OVN] Handle OVN agents when ""Chassis"" register is deleted

If an ""ovn-controller"" ends not gracefully, the node ""Chassis"" and
""Chassis_Private"" registers will remain in the OVN SB database.
Because there is no a mandatory procedure to delete the ""Chassis""
and ""Chassis_Private"" registers, the administrator can manually
delete, from the OVN SB database, any register in any order.

If the ""Chassis"" register is deleted and the Neutron server restarted,
the updated ""Chassis_Private"" register will be read from the database.
That won't contain the ""Chassis"" information as this register has been
deleted. In this case, the ``NeutronAgent`` returns ``DeletedChassis``,
an empty chassis register with no information.

NOTE: the sequence of actions (""Chassis"" register deletion, Neutron
server restart) must be follow to reproduce this issue. If the
""Chassis"" register is deleted, the Neutron server OVN agent local cache
won't update the stored information and will keep the previous value.
It is when the Neutron server is restarted when the OVN agent local
cache is retrieved again; at this time the ""Chassis_Private"" register
won't have any related ""Chassis"" register.

Closes-Bug: #1951149

Change-Id: I17aa53cea6aba8ea83187c99102a6f25fd33cfff
",git fetch https://review.opendev.org/openstack/neutron refs/changes/32/818132/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/ml2/drivers/ovn/agent/neutron_agent.py'],1,88e7133068ec265ca351bc5f2ac2dc04b9a5f635,bug/1951149," except AttributeError: except IndexError: return None ids_to_remove = [] try: for _id, agent in self.agents.items(): if not agent.chassis: ids_to_remove.append(_id) else: yield agent finally: for _id in ids_to_remove: # RAH: write some warning message self.agents.pop(_id, None) ##return iter(self.agents.values())"," except (AttributeError, IndexError): return iter(self.agents.values())",15,2
openstack%2Fopenstack-ansible~stable%2Fxena~Ice9740ed8e3256b7cab200f6f2145cb249a45367,openstack/openstack-ansible,stable/xena,Ice9740ed8e3256b7cab200f6f2145cb249a45367,Bump SHAs for Xena,MERGED,2022-04-20 16:58:59.000000000,2022-04-21 17:26:39.000000000,2022-04-21 17:24:41.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2022-04-20 16:58:59.000000000', 'files': ['playbooks/defaults/repo_packages/openstack_services.yml', 'releasenotes/notes/heartbeat-in-pthread-d0c9958361c224f0.yaml', 'releasenotes/notes/rabbitmq_manage_hosts-834150c45dfc0771.yaml', 'releasenotes/notes/heartbeat-in-pthread-9f5fde7bfdd7d306.yaml', 'playbooks/defaults/repo_packages/gnocchi.yml', 'playbooks/defaults/repo_packages/nova_consoles.yml', 'releasenotes/notes/optional_cinder_audit_send_actions-76bf53ee0df68383.yaml', 'releasenotes/notes/heartbeat-in-pthread-6266b4bad0efa00c.yaml', 'ansible-role-requirements.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/e3bb06974937ed8429448de702574638ed6a9073', 'message': ""Bump SHAs for Xena\n\nWith that also add `shallow_since` option to ensure that we\ndon't rely on depth anymore during bootstrap process,\nwhich causes failures when a lot of new PRs were merged in short\ntime.\n\nCloses-Bug: #1969514\nChange-Id: Ice9740ed8e3256b7cab200f6f2145cb249a45367\n""}]",2,838762,e3bb06974937ed8429448de702574638ed6a9073,13,3,1,28619,,,0,"Bump SHAs for Xena

With that also add `shallow_since` option to ensure that we
don't rely on depth anymore during bootstrap process,
which causes failures when a lot of new PRs were merged in short
time.

Closes-Bug: #1969514
Change-Id: Ice9740ed8e3256b7cab200f6f2145cb249a45367
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/62/838762/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/defaults/repo_packages/openstack_services.yml', 'releasenotes/notes/heartbeat-in-pthread-d0c9958361c224f0.yaml', 'releasenotes/notes/rabbitmq_manage_hosts-834150c45dfc0771.yaml', 'playbooks/defaults/repo_packages/gnocchi.yml', 'releasenotes/notes/heartbeat-in-pthread-9f5fde7bfdd7d306.yaml', 'playbooks/defaults/repo_packages/nova_consoles.yml', 'releasenotes/notes/optional_cinder_audit_send_actions-76bf53ee0df68383.yaml', 'releasenotes/notes/heartbeat-in-pthread-6266b4bad0efa00c.yaml', 'ansible-role-requirements.yml']",9,e3bb06974937ed8429448de702574638ed6a9073,bump_osa,### HEAD as of 20.04.2022 ### shallow_since: '2021-12-06' shallow_since: '2021-12-06' shallow_since: '2022-02-14' shallow_since: '2021-12-06' shallow_since: '2021-12-23' shallow_since: '2022-01-27' shallow_since: '2022-02-01' shallow_since: '2022-02-07' shallow_since: '2021-12-06' version: 2f2ab497b658640494ab726b0b4a6a4a9d56d222 shallow_since: '2022-04-03' version: a98da7e08200e5d08d1f0295aca27b8fbf87c2f9 shallow_since: '2022-03-13' shallow_since: '2021-12-06' shallow_since: '2021-12-06' shallow_since: '2022-01-25' shallow_since: '2021-12-06' shallow_since: '2021-12-06' shallow_since: '2021-12-06' version: 1a1b9f4238e74cc7d1a03499b96b24c0e6ce9b27 shallow_since: '2022-04-15' shallow_since: '2021-12-06' shallow_since: '2021-12-06' shallow_since: '2021-12-27' shallow_since: '2021-12-06' shallow_since: '2021-12-06' version: 66fc69c25ee12159638352c151ab901f4278215a shallow_since: '2022-03-09' shallow_since: '2021-12-17' shallow_since: '2021-12-06' shallow_since: '2021-12-06' shallow_since: '2021-12-06' shallow_since: '2021-12-06' shallow_since: '2021-12-06' version: 32a5fdf16788b921b340091b8032625b801d7c6a shallow_since: '2022-03-28' version: 4f3c311efaf7bde85a55105be59b754836903dd4 shallow_since: '2022-04-03' shallow_since: '2021-12-06' shallow_since: '2021-12-06' shallow_since: '2021-12-06' shallow_since: '2021-12-06' shallow_since: '2021-12-06' shallow_since: '2022-01-11' shallow_since: '2021-12-06' version: 0cab69cc203cb4bb01be3a39e883a36777a2316b shallow_since: '2022-04-03' shallow_since: '2021-12-06' shallow_since: '2022-01-31' shallow_since: '2021-12-06' shallow_since: '2022-01-20' version: f3de91c2549ec9306a4cdb1231fffb036a322295 shallow_since: '2022-04-03' version: 970350adda4b1215a438b10a3a59fb5f3a176b26 shallow_since: '2022-04-04' shallow_since: '2021-12-06' shallow_since: '2021-12-06' version: 2ba5bfee852aec5f699bf1c53193f7935beed825 shallow_since: '2022-04-18' shallow_since: '2021-09-12' shallow_since: '2020-05-11' shallow_since: '2019-03-21' shallow_since: '2021-03-31' version: f4a3f365f8c25ca90e30c23fa23e56ecfbc77107 shallow_since: '2022-04-13' shallow_since: '2019-09-14' shallow_since: '2018-03-22' shallow_since: '2021-01-12' shallow_since: '2021-12-06' shallow_since: '2021-12-06' shallow_since: '2021-12-06' shallow_since: '2022-02-22' shallow_since: '2022-01-11' shallow_since: '2021-12-06',### HEAD as of 22.02.2022 ### version: 2d0d290e770f33745e7ceefde4a96e35d5e5b153 version: fbad6161cb1872e5b8bf89c00019f56ac68224fb version: 36bfe7806c8980012319347232b9430bfcaeb5f9 version: c7b20a13cd1885b267a857453d7aee492b075697 version: 0362c51f8f1f627f57a3fada34d60eb919e4c261 version: bd8c799a72c3185b421cb1f1952b1556457565c4 version: 993f03403c86f9f7e0c56aee9d394f18c6475db2 version: e225bdd9e12b8bceaabedd6de04142293261eaec version: 20f01a5d8840ae664deebda54d3525b385b38331 version: 59a3cb190f7913e32b044dc2733cfe7e46c4c99a version: 8096e4f4ceaeedd4e22a92f8e51ad985c7644468 shallow_since: '2022-02-21',129,36
openstack%2Frequirements~stable%2Fwallaby~Ibc022d7c3f4bb67558a24f8f53c86626208f2d11,openstack/requirements,stable/wallaby,Ibc022d7c3f4bb67558a24f8f53c86626208f2d11,update constraint for neutron to new release 18.3.0,MERGED,2022-04-21 13:55:10.000000000,2022-04-21 17:22:38.000000000,2022-04-21 17:22:38.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-04-21 13:55:10.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/9f09bce52bcf8944ac035b179a5b90faba0cdba0', 'message': 'update constraint for neutron to new release 18.3.0\n\nmeta: version: 18.3.0\nmeta: diff-start: -\nmeta: series: wallaby\nmeta: release-type: release\nmeta: pypi: no\nmeta: first: no\nmeta: release:Author: elajkat <lajos.katona@est.tech>\nmeta: release:Commit: elajkat <lajos.katona@est.tech>\nmeta: release:Change-Id: Ia5991b69aed6d3c6aaf2ccd3ceba49b8f90a6599\nmeta: release:Code-Review+1: Bernard Cafarelli <bcafarel@redhat.com>\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>\nmeta: release:Workflow+1: Hervé Beraud <herveberaud.pro@gmail.com>\nChange-Id: Ibc022d7c3f4bb67558a24f8f53c86626208f2d11\n'}]",0,838900,9f09bce52bcf8944ac035b179a5b90faba0cdba0,8,3,1,11131,,,0,"update constraint for neutron to new release 18.3.0

meta: version: 18.3.0
meta: diff-start: -
meta: series: wallaby
meta: release-type: release
meta: pypi: no
meta: first: no
meta: release:Author: elajkat <lajos.katona@est.tech>
meta: release:Commit: elajkat <lajos.katona@est.tech>
meta: release:Change-Id: Ia5991b69aed6d3c6aaf2ccd3ceba49b8f90a6599
meta: release:Code-Review+1: Bernard Cafarelli <bcafarel@redhat.com>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>
meta: release:Workflow+1: Hervé Beraud <herveberaud.pro@gmail.com>
Change-Id: Ibc022d7c3f4bb67558a24f8f53c86626208f2d11
",git fetch https://review.opendev.org/openstack/requirements refs/changes/00/838900/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,9f09bce52bcf8944ac035b179a5b90faba0cdba0,new-release,neutron===18.3.0,neutron===18.2.0,1,1
openstack%2Fmanila~master~I2cae5ba54ae0a95e84d5ef7cf0f05287b7ae5d22,openstack/manila,master,I2cae5ba54ae0a95e84d5ef7cf0f05287b7ae5d22,Fix GaneshaNASHelper update_access signature,MERGED,2022-03-14 22:20:23.000000000,2022-04-21 17:20:23.000000000,2022-04-21 17:18:35.000000000,"[{'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 28752}, {'_account_id': 29632}]","[{'number': 1, 'created': '2022-03-14 22:20:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/fba62ddaf84507907597e1cb031d5bd65373b476', 'message': 'Accept unused `recovery` keyword in update_access\n\nmethod signature for the GaneshaNASHelper.\n\nThis keyword argument was dropped from the Ganesha\nNAS helper update_access methods in 2017 when dynamic\nexport support was added for Ganesha [1], but the\nGluster back end still supplies this keyword argument\nunconditionally across NAS helpers. So there is a signature\nmismatch when it is used with Ganesha as in the bug\ncited below.\n\nFix this by adding an update_access method to\nthe gluster-specific GaneshaNFSHelper which accepts\nthe `recovery` keyword but drops it before calling into\nthe more general ganesha.GaneshaNASHelper update_access\nmethod.\n\n[1] Change-Id: I01ec100c0afe28a84e9afa8e0660d299e4b3d160\n\nFixes-bug: #1964696\nChange-Id: I2cae5ba54ae0a95e84d5ef7cf0f05287b7ae5d22\n'}, {'number': 2, 'created': '2022-03-15 14:45:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/0d64875e52398fc865042d02ffafc4d1c5117433', 'message': 'Fix GaneshaNASHelper update_access signature\n\nThe gluster GaneshaNFSHelper update_access method calls\ninto the GaneshaNASHelper update_access method, but the\nsignature it uses for this call is not up to date with\nthe 2017 dynamic export changes made to the Ganesha\ndriver.\n\nFix this by adding an update_access method to\nthe gluster-specific GaneshaNFSHelper which accepts\nthe signature that the Gluster driver expects but calls\ninto Ganesha with the signature that it expects.\n\n[1] Change-Id: I01ec100c0afe28a84e9afa8e0660d299e4b3d160\n\nFixes-bug: #1964696\nChange-Id: I2cae5ba54ae0a95e84d5ef7cf0f05287b7ae5d22\n'}, {'number': 3, 'created': '2022-03-15 19:58:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/2c3f9d5d47aa3c48631c565800ecd94943a41ae2', 'message': 'Fix GaneshaNASHelper update_access signature\n\nThe gluster GaneshaNFSHelper update_access method calls\ninto the GaneshaNASHelper update_access method, but the\nsignature it uses for this call is not up to date with\nthe 2017 dynamic export changes made to the Ganesha\ndriver.\n\nFix this by adding an update_access method to\nthe gluster-specific GaneshaNFSHelper which accepts\nthe signature that the Gluster driver expects but calls\ninto Ganesha with the signature that it expects.\n\n[1] Change-Id: I01ec100c0afe28a84e9afa8e0660d299e4b3d160\n\nCloses-Bug: #1964696\nChange-Id: I2cae5ba54ae0a95e84d5ef7cf0f05287b7ae5d22\n'}, {'number': 4, 'created': '2022-03-16 17:54:16.000000000', 'files': ['releasenotes/notes/bug-1964696-fix-GaneshaNFSHelper-update_access-6124a79e34e63030.yaml', 'manila/share/drivers/glusterfs/__init__.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/6f4191a6d92342c35ece64c735be6c43ca171d58', 'message': 'Fix GaneshaNASHelper update_access signature\n\nThe gluster GaneshaNFSHelper update_access method calls\ninto the GaneshaNASHelper update_access method, but the\nsignature it uses for this call is not up to date with\nthe 2017 dynamic export changes made to the Ganesha\ndriver.\n\nFix this by adding an update_access method to\nthe gluster-specific GaneshaNFSHelper which accepts\nthe signature that the Gluster driver expects but calls\ninto Ganesha with the signature that it expects.\n\n[1] Change-Id: I01ec100c0afe28a84e9afa8e0660d299e4b3d160\n\nCloses-Bug: #1964696\nChange-Id: I2cae5ba54ae0a95e84d5ef7cf0f05287b7ae5d22\n'}]",7,833689,6f4191a6d92342c35ece64c735be6c43ca171d58,33,4,4,9003,,,0,"Fix GaneshaNASHelper update_access signature

The gluster GaneshaNFSHelper update_access method calls
into the GaneshaNASHelper update_access method, but the
signature it uses for this call is not up to date with
the 2017 dynamic export changes made to the Ganesha
driver.

Fix this by adding an update_access method to
the gluster-specific GaneshaNFSHelper which accepts
the signature that the Gluster driver expects but calls
into Ganesha with the signature that it expects.

[1] Change-Id: I01ec100c0afe28a84e9afa8e0660d299e4b3d160

Closes-Bug: #1964696
Change-Id: I2cae5ba54ae0a95e84d5ef7cf0f05287b7ae5d22
",git fetch https://review.opendev.org/openstack/manila refs/changes/89/833689/1 && git format-patch -1 --stdout FETCH_HEAD,['manila/share/drivers/glusterfs/__init__.py'],1,fba62ddaf84507907597e1cb031d5bd65373b476,bug/1964696," def update_access(self, base_path, share, add_rules, delete_rules, recovery=False): """"""Update access rules."""""" super(GaneshaNFSHelper, self).update_access( base_path, share, add_rules, delete_rules)",,7,0
openstack%2Fneutron~stable%2Ftrain~I7c36b09309c1ef66608afacfb281b6f4b06ea5b8,openstack/neutron,stable/train,I7c36b09309c1ef66608afacfb281b6f4b06ea5b8,Force security_group_id uuid validation of sg rules,MERGED,2022-04-11 13:09:47.000000000,2022-04-21 17:19:07.000000000,2022-04-21 17:17:19.000000000,"[{'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-11 13:09:47.000000000', 'files': ['neutron/extensions/securitygroup.py', 'neutron/tests/unit/extensions/test_securitygroup.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/f5fa74c5c6926eb46403f6b0b5e0bd81a90cf234', 'message': 'Force security_group_id uuid validation of sg rules\n\nsecurity_groups_db._check_security_group is supposed to check the\nsecurity_group_id of the _create_security_group_rule payload.\nWhen using an integer e.g. 0, as security_group_id, the check\nsuccededs because mysql accepts following query:\n\nSELECT * FROM securitygroups WHERE id in (0)\n\nForcing validation of security_group_id as uuid fixes the problem\n\nCloses-Bug: #1968343\nChange-Id: I7c36b09309c1ef66608afacfb281b6f4b06ea5b8\n(cherry picked from commit c0bf560fa36aac798ad8783749fa78ddf766bdec)\n'}]",6,837334,f5fa74c5c6926eb46403f6b0b5e0bd81a90cf234,23,3,1,16688,,,0,"Force security_group_id uuid validation of sg rules

security_groups_db._check_security_group is supposed to check the
security_group_id of the _create_security_group_rule payload.
When using an integer e.g. 0, as security_group_id, the check
succededs because mysql accepts following query:

SELECT * FROM securitygroups WHERE id in (0)

Forcing validation of security_group_id as uuid fixes the problem

Closes-Bug: #1968343
Change-Id: I7c36b09309c1ef66608afacfb281b6f4b06ea5b8
(cherry picked from commit c0bf560fa36aac798ad8783749fa78ddf766bdec)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/34/837334/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/extensions/securitygroup.py', 'neutron/tests/unit/extensions/test_securitygroup.py']",2,f5fa74c5c6926eb46403f6b0b5e0bd81a90cf234,bug/1968343," def test_create_security_group_rule_with_non_uuid_security_group_id(self): security_group_id = 0 rule = self._build_security_group_rule( security_group_id, 'ingress', const.PROTO_NAME_TCP, '22', '22') res = self._create_security_group_rule(self.fmt, rule) self.deserialize(self.fmt, res) self.assertEqual(webob.exc.HTTPBadRequest.code, res.status_int) ",,12,1
openstack%2Fmanila-tempest-plugin~master~I0c2fa6d195e1e31ed077bdc4c4e21fa6758dfddb,openstack/manila-tempest-plugin,master,I0c2fa6d195e1e31ed077bdc4c4e21fa6758dfddb,Remove create_server and rebuild_server methods,MERGED,2022-02-28 09:59:45.000000000,2022-04-21 17:18:33.000000000,2022-04-21 17:18:33.000000000,"[{'_account_id': 8556}, {'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 29632}, {'_account_id': 30025}]","[{'number': 1, 'created': '2022-02-28 09:59:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/92c67c1415b12b295b94ed9979c9a33b4de2169e', 'message': 'Manila scenario manager cleanup\n\nAs tempest.scenario.manager was announced stable interface in Tempest 27.0.0[1] it can be now reused in plugins.\n\nReplaced methods:\n\t* create_server\n\t* rebuild_server\n\nEtherpad concerning this effort:\nhttps://etherpad.opendev.org/p/tempest-scenario-manager-cleanup\n\n[1] https://docs.openstack.org/releasenotes/tempest/v27.0.0.html#release-notes-27-0-0\n\nChange-Id: I0c2fa6d195e1e31ed077bdc4c4e21fa6758dfddb\n'}, {'number': 2, 'created': '2022-03-01 09:01:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/6bb4c89bfe15501dfe861ff0a702b9aa0f94f565', 'message': 'Manila scenario manager cleanup\n\nAs tempest.scenario.manager was announced stable interface in Tempest 27.0.0[1] it can be now reused in plugins.\n\nReplaced methods:\n\t* create_server\n\t* rebuild_server\n\nEtherpad concerning this effort:\nhttps://etherpad.opendev.org/p/tempest-scenario-manager-cleanup\n\n[1] https://docs.openstack.org/releasenotes/tempest/v27.0.0.html#release-notes-27-0-0\n\nChange-Id: I0c2fa6d195e1e31ed077bdc4c4e21fa6758dfddb\n'}, {'number': 3, 'created': '2022-03-02 10:29:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/cee978a7c4c5a6c1678d62c365a8e4c0b766f2a0', 'message': 'Manila scenario manager cleanup\n\nAs tempest.scenario.manager was announced stable interface in Tempest 27.0.0[1] it can be now reused in plugins.\n\nReplaced methods:\n\t* create_server\n\t* rebuild_server\n\nEtherpad concerning this effort:\nhttps://etherpad.opendev.org/p/tempest-scenario-manager-cleanup\n\n[1] https://docs.openstack.org/releasenotes/tempest/v27.0.0.html#release-notes-27-0-0\n\nChange-Id: I0c2fa6d195e1e31ed077bdc4c4e21fa6758dfddb\n'}, {'number': 4, 'created': '2022-03-08 10:05:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/adc2706accc95a2d53145c5efa408b35ec459dd5', 'message': 'Remove create_server and rebuild_server methods\n\nAs tempest.scenario.manager was announced stable interface in Tempest 27.0.0[1] it can be now reused in plugins.\n\nReplaced methods:\n\t* create_server\n\t* rebuild_server\n\nEtherpad concerning this effort:\nhttps://etherpad.opendev.org/p/tempest-scenario-manager-cleanup\n\n[1] https://docs.openstack.org/releasenotes/tempest/v27.0.0.html#release-notes-27-0-0\n\nChange-Id: I0c2fa6d195e1e31ed077bdc4c4e21fa6758dfddb\n'}, {'number': 5, 'created': '2022-03-08 10:41:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/d91f5753419053ac2b50c5edac24fd69c3da3496', 'message': 'Remove create_server and rebuild_server methods\n\nAs tempest.scenario.manager was announced stable interface in Tempest 27.0.0[1] it can be now reused in plugins.\n\nReplaced methods:\n\t* create_server\n\t* rebuild_server\n\nEtherpad concerning this effort:\nhttps://etherpad.opendev.org/p/tempest-scenario-manager-cleanup\n\n[1] https://docs.openstack.org/releasenotes/tempest/v27.0.0.html#release-notes-27-0-0\n\nChange-Id: I0c2fa6d195e1e31ed077bdc4c4e21fa6758dfddb\n'}, {'number': 6, 'created': '2022-03-08 10:51:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/2d628bc03f3b6cb4c31e2b596d65d68a09f5460c', 'message': 'Remove create_server and rebuild_server methods\n\nAs tempest.scenario.manager was announced stable interface in Tempest 27.0.0[1] it can be now reused in plugins.\n\nReplaced methods:\n\t* create_server\n\t* rebuild_server\n\nEtherpad concerning this effort:\nhttps://etherpad.opendev.org/p/tempest-scenario-manager-cleanup\n\n[1] https://docs.openstack.org/releasenotes/tempest/v27.0.0.html#release-notes-27-0-0\n\nChange-Id: I0c2fa6d195e1e31ed077bdc4c4e21fa6758dfddb\n'}, {'number': 7, 'created': '2022-03-08 14:20:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/09d9b2f10741bb9516f9ce325111293ae254d45c', 'message': 'Remove create_server and rebuild_server methods\n\nAs tempest.scenario.manager was announced stable interface in Tempest 27.0.0[1] it can be now reused in plugins.\n\nReplaced methods:\n\t* create_server\n\t* rebuild_server\n\nEtherpad concerning this effort:\nhttps://etherpad.opendev.org/p/tempest-scenario-manager-cleanup\n\n[1] https://docs.openstack.org/releasenotes/tempest/v27.0.0.html#release-notes-27-0-0\n\nChange-Id: I0c2fa6d195e1e31ed077bdc4c4e21fa6758dfddb\n'}, {'number': 8, 'created': '2022-03-09 07:12:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/9da4e1836e894375e0bdade409213bf90f272de2', 'message': 'Remove create_server and rebuild_server methods\n\nAs tempest.scenario.manager was announced stable interface in Tempest 27.0.0[1] it can be now reused in plugins.\n\nReplaced methods:\n\t* create_server\n\t* rebuild_server\n\nEtherpad concerning this effort:\nhttps://etherpad.opendev.org/p/tempest-scenario-manager-cleanup\n\n[1] https://docs.openstack.org/releasenotes/tempest/v27.0.0.html#release-notes-27-0-0\n\nChange-Id: I0c2fa6d195e1e31ed077bdc4c4e21fa6758dfddb\n'}, {'number': 9, 'created': '2022-03-09 07:27:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/1277992087ed1f2cf7188bfb2560855603ad4783', 'message': 'Remove create_server and rebuild_server methods\n\nAs tempest.scenario.manager was announced stable interface in Tempest 27.0.0[1] it can be now reused in plugins.\n\nReplaced methods:\n\t* create_server\n\t* rebuild_server\n\nEtherpad concerning this effort:\nhttps://etherpad.opendev.org/p/tempest-scenario-manager-cleanup\n\n[1] https://docs.openstack.org/releasenotes/tempest/v27.0.0.html#release-notes-27-0-0\n\nChange-Id: I0c2fa6d195e1e31ed077bdc4c4e21fa6758dfddb\n'}, {'number': 10, 'created': '2022-03-09 07:47:41.000000000', 'files': ['manila_tempest_tests/tests/scenario/manager.py'], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/a02c455af93838e4247be7348630bc83b138cf6c', 'message': 'Remove create_server and rebuild_server methods\n\nAs tempest.scenario.manager was announced stable interface in Tempest 27.0.0[1] it can be now reused in plugins.\n\nReplaced methods:\n\t* create_server\n\t* rebuild_server\n\nEtherpad concerning this effort:\nhttps://etherpad.opendev.org/p/tempest-scenario-manager-cleanup\n\n[1] https://docs.openstack.org/releasenotes/tempest/v27.0.0.html#release-notes-27-0-0\n\nChange-Id: I0c2fa6d195e1e31ed077bdc4c4e21fa6758dfddb\n'}]",25,831168,a02c455af93838e4247be7348630bc83b138cf6c,49,6,10,33732,,,0,"Remove create_server and rebuild_server methods

As tempest.scenario.manager was announced stable interface in Tempest 27.0.0[1] it can be now reused in plugins.

Replaced methods:
	* create_server
	* rebuild_server

Etherpad concerning this effort:
https://etherpad.opendev.org/p/tempest-scenario-manager-cleanup

[1] https://docs.openstack.org/releasenotes/tempest/v27.0.0.html#release-notes-27-0-0

Change-Id: I0c2fa6d195e1e31ed077bdc4c4e21fa6758dfddb
",git fetch https://review.opendev.org/openstack/manila-tempest-plugin refs/changes/68/831168/10 && git format-patch -1 --stdout FETCH_HEAD,['manila_tempest_tests/tests/scenario/manager.py'],1,92c67c1415b12b295b94ed9979c9a33b4de2169e,tempest-scenario-manager-cleanup," if CONF.network.port_vnic_type: kwargs['create_port_body']['namestart'] = 'port-smoke' return super().create_server(name=name, image_id=image_id, flavor=flavor, validatable=validatable, wait_until=wait_until, clients=clients, **kwargs)"," """"""Wrapper utility that returns a test server. This wrapper utility calls the common create test server and returns a test server. The purpose of this wrapper is to minimize the impact on the code of the tests already using this function. """""" # NOTE(jlanoux): As a first step, ssh checks in the scenario # tests need to be run regardless of the run_validation and # validatable parameters and thus until the ssh validation job # becomes voting in CI. The test resources management and IP # association are taken care of in the scenario tests. # Therefore, the validatable parameter is set to false in all # those tests. In this way create_server just return a standard # server and the scenario tests always perform ssh checks. # Needed for the cross_tenant_traffic test: if clients is None: clients = self.os_primary if name is None: name = data_utils.rand_name(self.__class__.__name__ + ""-server"") vnic_type = CONF.network.port_vnic_type # If vnic_type is configured create port for # every network if vnic_type: ports = [] create_port_body = {'binding:vnic_type': vnic_type, 'namestart': 'port-smoke'} if kwargs: # Convert security group names to security group ids # to pass to create_port if 'security_groups' in kwargs: security_groups = ( clients.security_groups_client.list_security_groups( ).get('security_groups')) sec_dict = {s['name']: s['id'] for s in security_groups} sec_groups_names = [s['name'] for s in kwargs.pop( 'security_groups')] security_groups_ids = [sec_dict[s] for s in sec_groups_names] if security_groups_ids: create_port_body[ 'security_groups'] = security_groups_ids networks = kwargs.pop('networks', []) else: networks = [] # If there are no networks passed to us we look up # for the project's private networks and create a port. # The same behaviour as we would expect when passing # the call to the clients with no networks if not networks: networks = clients.networks_client.list_networks( **{'router:external': False, 'fields': 'id'})['networks'] # It's net['uuid'] if networks come from kwargs # and net['id'] if they come from # clients.networks_client.list_networks for net in networks: net_id = net.get('uuid', net.get('id')) if 'port' not in net: port = self.create_port(network_id=net_id, client=clients.ports_client, namestart='port-quotatest', **create_port_body) ports.append({'port': port['id']}) else: ports.append({'port': net['port']}) if ports: kwargs['networks'] = ports self.ports = ports tenant_network = self.get_tenant_network() body, servers = compute.create_test_server( clients, tenant_network=tenant_network, wait_until=wait_until, name=name, flavor=flavor, image_id=image_id, **kwargs) self.addCleanup(waiters.wait_for_server_termination, clients.servers_client, body['id']) self.addCleanup(test_utils.call_and_ignore_notfound_exc, clients.servers_client.delete_server, body['id']) server = clients.servers_client.show_server(body['id'])['server'] return server def rebuild_server(self, server_id, image=None, preserve_ephemeral=False, wait=True, rebuild_kwargs=None): if image is None: image = CONF.compute.image_ref rebuild_kwargs = rebuild_kwargs or {} LOG.debug(""Rebuilding server (id: %s, image: %s, preserve eph: %s)"", server_id, image, preserve_ephemeral) self.servers_client.rebuild_server( server_id=server_id, image_ref=image, preserve_ephemeral=preserve_ephemeral, **rebuild_kwargs) if wait: waiters.wait_for_server_status(self.servers_client, server_id, 'ACTIVE') ",10,112
openstack%2Foctavia~stable%2Fussuri~Icb04300968cd07e2a5480cc2d7bee3762992897f,openstack/octavia,stable/ussuri,Icb04300968cd07e2a5480cc2d7bee3762992897f,Disabling octavia-grenade job for stable/ussuri,MERGED,2022-04-21 08:12:02.000000000,2022-04-21 16:49:39.000000000,2022-04-21 16:44:14.000000000,"[{'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 29244}, {'_account_id': 34429}]","[{'number': 1, 'created': '2022-04-21 08:12:02.000000000', 'files': ['zuul.d/projects.yaml'], 'web_link': 'https://opendev.org/openstack/octavia/commit/ee4f6ee41a902ac1db3865bcc8ea63f435d13ba6', 'message': ""Disabling octavia-grenade job for stable/ussuri\n\nUssuri is in EM, we don't need a grenade job.\n\nChange-Id: Icb04300968cd07e2a5480cc2d7bee3762992897f\n""}]",2,838841,ee4f6ee41a902ac1db3865bcc8ea63f435d13ba6,10,4,1,29244,,,0,"Disabling octavia-grenade job for stable/ussuri

Ussuri is in EM, we don't need a grenade job.

Change-Id: Icb04300968cd07e2a5480cc2d7bee3762992897f
",git fetch https://review.opendev.org/openstack/octavia refs/changes/41/838841/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/projects.yaml'],1,ee4f6ee41a902ac1db3865bcc8ea63f435d13ba6,octavia-grenade-removal,, - octavia-grenade: irrelevant-files: - ^.*\.rst$ - ^api-ref/.*$ - ^doc/.*$ - ^octavia/tests/.*$ - ^releasenotes/.*$ - ^setup.cfg$ - ^tools/.*$ - ^(test-|)requirements.txt$ - ^tox.ini$ nodeset: octavia-single-node-ubuntu-bionic - octavia-grenade: nodeset: octavia-single-node-ubuntu-bionic,0,14
openstack%2Foctavia~stable%2Fwallaby~I088f07537b6de02c1befbda82ecde798dec27974,openstack/octavia,stable/wallaby,I088f07537b6de02c1befbda82ecde798dec27974,Disabling octavia-grenade job in stable/wallaby,MERGED,2022-04-20 06:11:43.000000000,2022-04-21 16:49:12.000000000,2022-04-21 16:44:02.000000000,"[{'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 29244}, {'_account_id': 34429}]","[{'number': 1, 'created': '2022-04-20 06:11:43.000000000', 'files': ['zuul.d/projects.yaml'], 'web_link': 'https://opendev.org/openstack/octavia/commit/7bee4bdbe316e89103c976b67419c98620462167', 'message': ""Disabling octavia-grenade job in stable/wallaby\n\nAs Victoria is EM, we don't need a grenade job for Wallaby\n\nChange-Id: I088f07537b6de02c1befbda82ecde798dec27974\n""}]",2,838639,7bee4bdbe316e89103c976b67419c98620462167,10,4,1,29244,,,0,"Disabling octavia-grenade job in stable/wallaby

As Victoria is EM, we don't need a grenade job for Wallaby

Change-Id: I088f07537b6de02c1befbda82ecde798dec27974
",git fetch https://review.opendev.org/openstack/octavia refs/changes/39/838639/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/projects.yaml'],1,7bee4bdbe316e89103c976b67419c98620462167,octavia-grenade-removal,, - octavia-grenade: irrelevant-files: - ^.*\.rst$ - ^api-ref/.*$ - ^doc/.*$ - ^octavia/tests/.*$ - ^releasenotes/.*$ - ^setup.cfg$ - ^tools/.*$ - ^(test-|)requirements.txt$ - ^tox.ini$ - octavia-grenade,0,12
openstack%2Foctavia~stable%2Fvictoria~Ib2216202e60e70d00c3677f7d881e30e7207b5aa,openstack/octavia,stable/victoria,Ib2216202e60e70d00c3677f7d881e30e7207b5aa,Disabling octavia-grenade job in stable/victoria,MERGED,2022-04-19 15:51:01.000000000,2022-04-21 16:49:06.000000000,2022-04-21 16:44:04.000000000,"[{'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 29244}, {'_account_id': 34429}]","[{'number': 1, 'created': '2022-04-19 15:51:01.000000000', 'files': ['zuul.d/projects.yaml'], 'web_link': 'https://opendev.org/openstack/octavia/commit/d5f05ea6d57d7fd328e0ef80c77c5337bdf7328c', 'message': ""Disabling octavia-grenade job in stable/victoria\n\nAs Ussuri is EM, we don't need a grenade job for victoria\n\nChange-Id: Ib2216202e60e70d00c3677f7d881e30e7207b5aa\n""}]",2,838524,d5f05ea6d57d7fd328e0ef80c77c5337bdf7328c,10,4,1,29244,,,0,"Disabling octavia-grenade job in stable/victoria

As Ussuri is EM, we don't need a grenade job for victoria

Change-Id: Ib2216202e60e70d00c3677f7d881e30e7207b5aa
",git fetch https://review.opendev.org/openstack/octavia refs/changes/24/838524/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/projects.yaml'],1,d5f05ea6d57d7fd328e0ef80c77c5337bdf7328c,octavia-grenade-removal,, - octavia-grenade: irrelevant-files: - ^.*\.rst$ - ^api-ref/.*$ - ^doc/.*$ - ^octavia/tests/.*$ - ^releasenotes/.*$ - ^setup.cfg$ - ^tools/.*$ - ^(test-|)requirements.txt$ - ^tox.ini$ - octavia-grenade,0,12
openstack%2Frequirements~stable%2Fxena~I31b815d41d4fa5daa77cc844d1e5004537c95a62,openstack/requirements,stable/xena,I31b815d41d4fa5daa77cc844d1e5004537c95a62,update constraint for neutron to new release 19.2.0,MERGED,2022-04-21 13:48:55.000000000,2022-04-21 16:48:43.000000000,2022-04-21 16:48:43.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-04-21 13:48:55.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/48006bc984f6fd6ea1873e4f57d7efeb5201f558', 'message': 'update constraint for neutron to new release 19.2.0\n\nmeta: version: 19.2.0\nmeta: diff-start: -\nmeta: series: xena\nmeta: release-type: release\nmeta: pypi: no\nmeta: first: no\nmeta: release:Author: elajkat <lajos.katona@est.tech>\nmeta: release:Commit: elajkat <lajos.katona@est.tech>\nmeta: release:Change-Id: Ia5991b69aed6d3c6aaf2ccd3ceba49b8f90a6599\nmeta: release:Code-Review+1: Bernard Cafarelli <bcafarel@redhat.com>\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>\nmeta: release:Workflow+1: Hervé Beraud <herveberaud.pro@gmail.com>\nChange-Id: I31b815d41d4fa5daa77cc844d1e5004537c95a62\n'}]",0,838894,48006bc984f6fd6ea1873e4f57d7efeb5201f558,8,3,1,11131,,,0,"update constraint for neutron to new release 19.2.0

meta: version: 19.2.0
meta: diff-start: -
meta: series: xena
meta: release-type: release
meta: pypi: no
meta: first: no
meta: release:Author: elajkat <lajos.katona@est.tech>
meta: release:Commit: elajkat <lajos.katona@est.tech>
meta: release:Change-Id: Ia5991b69aed6d3c6aaf2ccd3ceba49b8f90a6599
meta: release:Code-Review+1: Bernard Cafarelli <bcafarel@redhat.com>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>
meta: release:Workflow+1: Hervé Beraud <herveberaud.pro@gmail.com>
Change-Id: I31b815d41d4fa5daa77cc844d1e5004537c95a62
",git fetch https://review.opendev.org/openstack/requirements refs/changes/94/838894/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,48006bc984f6fd6ea1873e4f57d7efeb5201f558,new-release,neutron===19.2.0,neutron===19.1.0,1,1
openstack%2Fpuppet-openstack-integration~master~Ic5c3630c2e5fa7d3ec347b928a9b0b5f3093e28d,openstack/puppet-openstack-integration,master,Ic5c3630c2e5fa7d3ec347b928a9b0b5f3093e28d,cs9: Fix missing NODEPOOL_PUPPETLABS_MIRROR,MERGED,2022-04-19 23:21:01.000000000,2022-04-21 16:47:46.000000000,2022-04-21 16:47:46.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-19 23:21:01.000000000', 'files': ['configure_facts.sh'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/0772b55f2cc13a79000c9b898cc67a2046a330c8', 'message': 'cs9: Fix missing NODEPOOL_PUPPETLABS_MIRROR\n\nChange-Id: Ic5c3630c2e5fa7d3ec347b928a9b0b5f3093e28d\n'}]",0,838606,0772b55f2cc13a79000c9b898cc67a2046a330c8,7,3,1,9816,,,0,"cs9: Fix missing NODEPOOL_PUPPETLABS_MIRROR

Change-Id: Ic5c3630c2e5fa7d3ec347b928a9b0b5f3093e28d
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/06/838606/1 && git format-patch -1 --stdout FETCH_HEAD,['configure_facts.sh'],1,0772b55f2cc13a79000c9b898cc67a2046a330c8,," NODEPOOL_PUPPETLABS_MIRROR=""http://${NODEPOOL_MIRROR_HOST}/yum-puppetlabs"""," NODEPOOL_PUPPETLABS_MIRROR=""http://${NODEPOOL_MIRROR_HOST}/yum-puppetlabs""",1,1
openstack%2Fpuppet-openstack-integration~stable%2Fwallaby~I91854630489c92307e8e84f8695ccd4a57362af9,openstack/puppet-openstack-integration,stable/wallaby,I91854630489c92307e8e84f8695ccd4a57362af9,Remove pin of fast_gettext,MERGED,2022-04-19 23:35:03.000000000,2022-04-21 16:47:43.000000000,2022-04-21 16:47:43.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-19 23:35:03.000000000', 'files': ['Gemfile'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/bc8fa8ac992f183dae887c6a90be614d98bf96c0', 'message': 'Remove pin of fast_gettext\n\nThis is no longer required because ruby >= 2.1 is already available[1].\n\n[1] b93ecf8bff9184cc76ecb3d3912cfd9c3158d406\n\nChange-Id: I91854630489c92307e8e84f8695ccd4a57362af9\n(cherry picked from commit 3860bfc93663578c3ba885fbb908faa13305e319)\n(cherry picked from commit 7620fa93cac62f323c9a813c8a83c11ee20e269e)\n(cherry picked from commit 05c6ba820133f8486cf43e9e9b3304497ff72aa7)\n'}]",0,838541,bc8fa8ac992f183dae887c6a90be614d98bf96c0,7,3,1,9816,,,0,"Remove pin of fast_gettext

This is no longer required because ruby >= 2.1 is already available[1].

[1] b93ecf8bff9184cc76ecb3d3912cfd9c3158d406

Change-Id: I91854630489c92307e8e84f8695ccd4a57362af9
(cherry picked from commit 3860bfc93663578c3ba885fbb908faa13305e319)
(cherry picked from commit 7620fa93cac62f323c9a813c8a83c11ee20e269e)
(cherry picked from commit 05c6ba820133f8486cf43e9e9b3304497ff72aa7)
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/41/838541/1 && git format-patch -1 --stdout FETCH_HEAD,['Gemfile'],1,bc8fa8ac992f183dae887c6a90be614d98bf96c0,,," gem 'fast_gettext', ['< 1.2.0']",0,1
openstack%2Fkolla-ansible~master~I2d20288267ceda95076229628db10299ddbde31f,openstack/kolla-ansible,master,I2d20288267ceda95076229628db10299ddbde31f,Configure Prometheus Pushgateway Options,MERGED,2022-04-11 16:13:52.000000000,2022-04-21 16:39:55.000000000,2022-04-21 16:37:33.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}, {'_account_id': 34579}]","[{'number': 1, 'created': '2022-04-11 16:13:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b1274b34dc0245201d621249872d5410efc4da2c', 'message': ""Configure Prometheus Pushgateway Options\n\nAdds the ability to configure the Prometheus Pushgateway options\nalongside the rest of kolla-ansible's configurations.\n\nCloses-Bug: #1968597\nSigned-off-by: Juan Pablo Suazo <jsuazo@whitestack.com>\nChange-Id: I2d20288267ceda95076229628db10299ddbde31f\n""}, {'number': 2, 'created': '2022-04-11 16:19:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e6e629e474b700a2b1eadedc10c2bbf00bee3926', 'message': ""Configure Prometheus Pushgateway Options\n\nAdds the ability to configure the Prometheus Pushgateway options\nalongside the rest of kolla-ansible's configurations.\n\nCloses-Bug: #1968597\nSigned-off-by: Juan Pablo Suazo <jsuazo@whitestack.com>\nChange-Id: I2d20288267ceda95076229628db10299ddbde31f\n""}, {'number': 3, 'created': '2022-04-11 16:20:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/6c9aecb31f9ac1a6bff599c2247156ff4298d5a7', 'message': ""Configure Prometheus Pushgateway Options\n\nAdds the ability to configure the Prometheus Pushgateway options\nalongside the rest of kolla-ansible's configurations.\n\nCloses-Bug: #1968597\nSigned-off-by: Juan Pablo Suazo <jsuazo@whitestack.com>\nChange-Id: I2d20288267ceda95076229628db10299ddbde31f\n""}, {'number': 4, 'created': '2022-04-11 16:22:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ecb4f2ce1936741024e56b72db05d552f1540d4d', 'message': ""Configure Prometheus Pushgateway Options\n\nAdds the ability to configure the Prometheus Pushgateway options\nalongside the rest of kolla-ansible's configurations.\n\nCloses-Bug: #1968597\nSigned-off-by: Juan Pablo Suazo <jsuazo@whitestack.com>\nChange-Id: I2d20288267ceda95076229628db10299ddbde31f\n""}, {'number': 5, 'created': '2022-04-12 15:06:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/08ac7a6884cb517e2f21e21254669da74bb10154', 'message': ""Configure Prometheus Pushgateway Options\n\nAdds the ability to configure the Prometheus Pushgateway options\nalongside the rest of kolla-ansible's configurations.\n\nCloses-Bug: #1968597\nSigned-off-by: Juan Pablo Suazo <jsuazo@whitestack.com>\nChange-Id: I2d20288267ceda95076229628db10299ddbde31f\n""}, {'number': 6, 'created': '2022-04-12 15:12:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/2fa3737fe23ce4496b607cf13ab349eaa1c7f9b7', 'message': ""Configure Prometheus Pushgateway Options\n\nAdds the ability to configure the Prometheus Pushgateway options\nalongside the rest of kolla-ansible's configurations.\n\nCloses-Bug: #1968597\nSigned-off-by: Juan Pablo Suazo <jsuazo@whitestack.com>\nChange-Id: I2d20288267ceda95076229628db10299ddbde31f\n""}, {'number': 7, 'created': '2022-04-12 15:14:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/db5c9d0996c4eee8ddab4da55326d6bbed4fff01', 'message': ""Configure Prometheus Pushgateway Options\n\nAdds the ability to configure the Prometheus Pushgateway options\nalongside the rest of kolla-ansible's configurations.\n\nCloses-Bug: #1968597\nSigned-off-by: Juan Pablo Suazo <jsuazo@whitestack.com>\nChange-Id: I2d20288267ceda95076229628db10299ddbde31f\n""}, {'number': 8, 'created': '2022-04-13 20:27:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f34b31e3d0099ef881352ef7ab1257aa20d0a0c4', 'message': ""Configure Prometheus Pushgateway Options\n\nAdds the ability to configure the Prometheus Pushgateway options\nalongside the rest of kolla-ansible's configurations.\n\nCloses-Bug: #1968597\nSigned-off-by: Juan Pablo Suazo <jsuazo@whitestack.com>\nChange-Id: I2d20288267ceda95076229628db10299ddbde31f\n""}, {'number': 9, 'created': '2022-04-13 20:27:59.000000000', 'files': ['releasenotes/notes/feature-1968597-4b414566f82c90fa.yaml', 'ansible/roles/ceilometer/defaults/main.yml', 'ansible/roles/ceilometer/templates/pipeline.yaml.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e7fc3bc4419125623c69361628e0727ac6a60226', 'message': ""Configure Prometheus Pushgateway Options\n\nAdds the ability to configure the Prometheus Pushgateway options\nalongside the rest of kolla-ansible's configurations.\n\nCloses-Bug: #1968597\nSigned-off-by: Juan Pablo Suazo <jsuazo@whitestack.com>\nChange-Id: I2d20288267ceda95076229628db10299ddbde31f\n""}]",11,837371,e7fc3bc4419125623c69361628e0727ac6a60226,25,4,9,34579,,,0,"Configure Prometheus Pushgateway Options

Adds the ability to configure the Prometheus Pushgateway options
alongside the rest of kolla-ansible's configurations.

Closes-Bug: #1968597
Signed-off-by: Juan Pablo Suazo <jsuazo@whitestack.com>
Change-Id: I2d20288267ceda95076229628db10299ddbde31f
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/71/837371/8 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/feature-1968597-4b414566f82c90fa.yaml', 'ansible/roles/ceilometer/defaults/main.yml', 'ansible/roles/ceilometer/templates/pipeline.yaml.j2']",3,b1274b34dc0245201d621249872d5410efc4da2c,prometheus_pushgateway_options_feature," - prometheus://{{ ceilometer_prometheus_pushgateway_host }}:{{ ceilometer_prometheus_pushgateway_port }}/metrics/job/openstack-telemetry{% if ceilometer_prometheus_pushgateway_options %}/?{{ (ceilometer_prometheus_pushgateway_options|dict2items|rejectattr(""value"", ""equalto"", None)|list|items2dict).items() | map(""join"", ""="") | join(""&"")}}{% endif %}", - prometheus://{{ ceilometer_prometheus_pushgateway_host }}:{{ ceilometer_prometheus_pushgateway_port }}/metrics/job/openstack-telemetry,19,1
openstack%2Fglance~master~Iad32226cea6f81cb0a18a46f4f89ebd3dc42d9a9,openstack/glance,master,Iad32226cea6f81cb0a18a46f4f89ebd3dc42d9a9,Update migration constant,MERGED,2022-04-21 06:00:01.000000000,2022-04-21 16:35:20.000000000,2022-04-21 16:33:33.000000000,"[{'_account_id': 4393}, {'_account_id': 5202}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-21 06:00:01.000000000', 'files': ['glance/db/migration.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/14bd3eb1bb60dafc1ee33cf0e58b0d1e1b4cad67', 'message': ""Update migration constant\n\nUpdate the data migration current release to 'zed'.  Include a\nsemver pseudo-header in this commit message so that pbr will\nincrement the major version number, otherwise\nglance.tests.unit.gate.test_data_migration_version will break.\n\nChange-Id: Iad32226cea6f81cb0a18a46f4f89ebd3dc42d9a9\nSem-Ver: api-break\n""}]",2,838822,14bd3eb1bb60dafc1ee33cf0e58b0d1e1b4cad67,8,3,1,9303,,,0,"Update migration constant

Update the data migration current release to 'zed'.  Include a
semver pseudo-header in this commit message so that pbr will
increment the major version number, otherwise
glance.tests.unit.gate.test_data_migration_version will break.

Change-Id: Iad32226cea6f81cb0a18a46f4f89ebd3dc42d9a9
Sem-Ver: api-break
",git fetch https://review.opendev.org/openstack/glance refs/changes/22/838822/1 && git format-patch -1 --stdout FETCH_HEAD,['glance/db/migration.py'],1,14bd3eb1bb60dafc1ee33cf0e58b0d1e1b4cad67,update-mig-const,CURRENT_RELEASE = 'zed',CURRENT_RELEASE = 'yoga',1,1
openstack%2Fswift~stable%2Ftrain~Ibe514a7ab22d475517b1efc50de676f47d741a4c,openstack/swift,stable/train,Ibe514a7ab22d475517b1efc50de676f47d741a4c,s3api: Use constant-time string comparisons in check_signature,MERGED,2022-04-21 05:41:47.000000000,2022-04-21 16:35:17.000000000,2022-04-21 16:33:39.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-21 05:41:47.000000000', 'files': ['swift/common/middleware/s3api/s3request.py', 'test/unit/common/middleware/s3api/test_s3request.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/2829194bbf78058f1543819cad63fe596d0e358f', 'message': 's3api: Use constant-time string comparisons in check_signature\n\nChange-Id: Ibe514a7ab22d475517b1efc50de676f47d741a4c\n(cherry picked from commit 6142ce88cc71037ba0cd23113eb6082fa91346ac)\n'}]",0,838820,2829194bbf78058f1543819cad63fe596d0e358f,7,2,1,15343,,,0,"s3api: Use constant-time string comparisons in check_signature

Change-Id: Ibe514a7ab22d475517b1efc50de676f47d741a4c
(cherry picked from commit 6142ce88cc71037ba0cd23113eb6082fa91346ac)
",git fetch https://review.opendev.org/openstack/swift refs/changes/20/838820/1 && git format-patch -1 --stdout FETCH_HEAD,"['swift/common/middleware/s3api/s3request.py', 'test/unit/common/middleware/s3api/test_s3request.py']",2,2829194bbf78058f1543819cad63fe596d0e358f,," with patch('swift.common.middleware.s3api.s3request.streq_const_time', return_value=True) as mock_eq: self.assertTrue(sigv2_req.check_signature(secret)) mock_eq.assert_called_once() with patch('swift.common.middleware.s3api.s3request.streq_const_time', return_value=False) as mock_eq: self.assertFalse(sigv4_req.check_signature( u'\u30c9\u30e9\u30b4\u30f3')) mock_eq.assert_called_once() ",,14,3
openstack%2Fswift~stable%2Fussuri~Ibe514a7ab22d475517b1efc50de676f47d741a4c,openstack/swift,stable/ussuri,Ibe514a7ab22d475517b1efc50de676f47d741a4c,s3api: Use constant-time string comparisons in check_signature,MERGED,2022-04-21 04:33:37.000000000,2022-04-21 16:35:13.000000000,2022-04-21 16:33:36.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-21 04:33:37.000000000', 'files': ['swift/common/middleware/s3api/s3request.py', 'test/unit/common/middleware/s3api/test_s3request.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/430bb7f5681f80ad96c7d7aca2b40023508d6843', 'message': 's3api: Use constant-time string comparisons in check_signature\n\nChange-Id: Ibe514a7ab22d475517b1efc50de676f47d741a4c\n(cherry picked from commit 6142ce88cc71037ba0cd23113eb6082fa91346ac)\n'}]",0,838811,430bb7f5681f80ad96c7d7aca2b40023508d6843,7,2,1,15343,,,0,"s3api: Use constant-time string comparisons in check_signature

Change-Id: Ibe514a7ab22d475517b1efc50de676f47d741a4c
(cherry picked from commit 6142ce88cc71037ba0cd23113eb6082fa91346ac)
",git fetch https://review.opendev.org/openstack/swift refs/changes/11/838811/1 && git format-patch -1 --stdout FETCH_HEAD,"['swift/common/middleware/s3api/s3request.py', 'test/unit/common/middleware/s3api/test_s3request.py']",2,430bb7f5681f80ad96c7d7aca2b40023508d6843,," with patch('swift.common.middleware.s3api.s3request.streq_const_time', return_value=True) as mock_eq: self.assertTrue(sigv2_req.check_signature(secret)) mock_eq.assert_called_once() with patch('swift.common.middleware.s3api.s3request.streq_const_time', return_value=False) as mock_eq: self.assertFalse(sigv4_req.check_signature( u'\u30c9\u30e9\u30b4\u30f3')) mock_eq.assert_called_once() ",,14,3
openstack%2Frequirements~stable%2Fvictoria~Id0172fe9d2cfe999512eaebedfb4d88917c50503,openstack/requirements,stable/victoria,Id0172fe9d2cfe999512eaebedfb4d88917c50503,update constraint for os-net-config to new release 13.3.0,MERGED,2022-04-21 07:53:04.000000000,2022-04-21 16:33:30.000000000,2022-04-21 16:33:30.000000000,"[{'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-04-21 07:53:04.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/29804d3097259fb993c9ffe122ee442524a6db3f', 'message': 'update constraint for os-net-config to new release 13.3.0\n\nmeta: version: 13.3.0\nmeta: diff-start: -\nmeta: series: victoria\nmeta: release-type: release\nmeta: pypi: no\nmeta: first: no\nmeta: release:Author: Marios Andreou <marios@redhat.com>\nmeta: release:Commit: Marios Andreou <marios@redhat.com>\nmeta: release:Change-Id: I900029863bb6b08141de21cb42d6f9c43fb4e13e\nmeta: release:Code-Review+1: James Slagle <jslagle@redhat.com>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>\nmeta: release:Workflow+1: Hervé Beraud <herveberaud.pro@gmail.com>\nChange-Id: Id0172fe9d2cfe999512eaebedfb4d88917c50503\n'}]",0,838837,29804d3097259fb993c9ffe122ee442524a6db3f,9,4,1,11131,,,0,"update constraint for os-net-config to new release 13.3.0

meta: version: 13.3.0
meta: diff-start: -
meta: series: victoria
meta: release-type: release
meta: pypi: no
meta: first: no
meta: release:Author: Marios Andreou <marios@redhat.com>
meta: release:Commit: Marios Andreou <marios@redhat.com>
meta: release:Change-Id: I900029863bb6b08141de21cb42d6f9c43fb4e13e
meta: release:Code-Review+1: James Slagle <jslagle@redhat.com>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>
meta: release:Workflow+1: Hervé Beraud <herveberaud.pro@gmail.com>
Change-Id: Id0172fe9d2cfe999512eaebedfb4d88917c50503
",git fetch https://review.opendev.org/openstack/requirements refs/changes/37/838837/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,29804d3097259fb993c9ffe122ee442524a6db3f,new-release,os-net-config===13.3.0,os-net-config===13.2.1,1,1
openstack%2Fpuppet-openstack-integration~stable%2Fxena~I91854630489c92307e8e84f8695ccd4a57362af9,openstack/puppet-openstack-integration,stable/xena,I91854630489c92307e8e84f8695ccd4a57362af9,Remove pin of fast_gettext,MERGED,2022-04-19 23:34:42.000000000,2022-04-21 16:19:49.000000000,2022-04-21 16:19:49.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-19 23:34:42.000000000', 'files': ['Gemfile'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/05c6ba820133f8486cf43e9e9b3304497ff72aa7', 'message': 'Remove pin of fast_gettext\n\nThis is no longer required because ruby >= 2.1 is already available[1].\n\n[1] b93ecf8bff9184cc76ecb3d3912cfd9c3158d406\n\nChange-Id: I91854630489c92307e8e84f8695ccd4a57362af9\n(cherry picked from commit 3860bfc93663578c3ba885fbb908faa13305e319)\n(cherry picked from commit 7620fa93cac62f323c9a813c8a83c11ee20e269e)\n'}]",0,838540,05c6ba820133f8486cf43e9e9b3304497ff72aa7,7,3,1,9816,,,0,"Remove pin of fast_gettext

This is no longer required because ruby >= 2.1 is already available[1].

[1] b93ecf8bff9184cc76ecb3d3912cfd9c3158d406

Change-Id: I91854630489c92307e8e84f8695ccd4a57362af9
(cherry picked from commit 3860bfc93663578c3ba885fbb908faa13305e319)
(cherry picked from commit 7620fa93cac62f323c9a813c8a83c11ee20e269e)
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/40/838540/1 && git format-patch -1 --stdout FETCH_HEAD,['Gemfile'],1,05c6ba820133f8486cf43e9e9b3304497ff72aa7,,," gem 'fast_gettext', ['< 1.2.0']",0,1
openstack%2Fpuppet-openstack-integration~stable%2Fyoga~I91854630489c92307e8e84f8695ccd4a57362af9,openstack/puppet-openstack-integration,stable/yoga,I91854630489c92307e8e84f8695ccd4a57362af9,Remove pin of fast_gettext,MERGED,2022-04-19 23:34:01.000000000,2022-04-21 16:07:52.000000000,2022-04-21 16:07:52.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-19 23:34:01.000000000', 'files': ['Gemfile'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/7620fa93cac62f323c9a813c8a83c11ee20e269e', 'message': 'Remove pin of fast_gettext\n\nThis is no longer required because ruby >= 2.1 is already available[1].\n\n[1] b93ecf8bff9184cc76ecb3d3912cfd9c3158d406\n\nChange-Id: I91854630489c92307e8e84f8695ccd4a57362af9\n(cherry picked from commit 3860bfc93663578c3ba885fbb908faa13305e319)\n'}]",0,838539,7620fa93cac62f323c9a813c8a83c11ee20e269e,7,3,1,9816,,,0,"Remove pin of fast_gettext

This is no longer required because ruby >= 2.1 is already available[1].

[1] b93ecf8bff9184cc76ecb3d3912cfd9c3158d406

Change-Id: I91854630489c92307e8e84f8695ccd4a57362af9
(cherry picked from commit 3860bfc93663578c3ba885fbb908faa13305e319)
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/39/838539/1 && git format-patch -1 --stdout FETCH_HEAD,['Gemfile'],1,7620fa93cac62f323c9a813c8a83c11ee20e269e,,," gem 'fast_gettext', ['< 1.2.0']",0,1
openstack%2Fansible-collections-openstack~stable%2F1.0.0~I2054dd55662698dabd0f2b3565c31dcd3bf24e5a,openstack/ansible-collections-openstack,stable/1.0.0,I2054dd55662698dabd0f2b3565c31dcd3bf24e5a,Drop username from return values of identity_user_info,MERGED,2022-04-12 19:53:30.000000000,2022-04-21 16:02:30.000000000,2022-04-21 16:02:30.000000000,"[{'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 32458}, {'_account_id': 32962}]","[{'number': 1, 'created': '2022-04-12 19:53:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/f2c53533611300034fd53b4fe2f5655461953a47', 'message': ""Drop username from return values of identity_user_info\n\nUsers would have a non-null username only with Identity API v2 which\nwas available in Keystone of OpenStack Pike. Identity API v2 has been\nremoved since OpenStack Queens [1].\n\nFunction search_users() from OpenStack SDK still returns the username\nattribute because of [2][3] but it will always be None since\nKeystone's API does not return username since OpenStack Pike.\n\n[1] https://docs.openstack.org/releasenotes/keystone/queens.html\n[2] https://github.com/openstack/openstacksdk/blob/975cabbdd84baa8e05dc5b107b673607e7c0af1a/openstack/cloud/_utils.py#L246\n[3] https://github.com/openstack/openstacksdk/commit/76b081efe45f1f2ab8e09a1fd5a23d9fc54361bc\n\nChange-Id: I2054dd55662698dabd0f2b3565c31dcd3bf24e5a\n""}, {'number': 2, 'created': '2022-04-13 10:29:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/981d27df39fd36ca4f5dcd58c504e8fe658bcc41', 'message': ""Drop username from return values of identity_user_info\n\nUsers would have a non-null username only with Identity API v2 which\nwas available in Keystone of OpenStack Pike. Identity API v2 has been\nremoved since OpenStack Queens [1].\n\nFunction search_users() from OpenStack SDK still returns the username\nattribute because of [2][3] but it will always be None since\nKeystone's API does not return username since OpenStack Pike.\n\n[1] https://docs.openstack.org/releasenotes/keystone/queens.html\n[2] https://github.com/openstack/openstacksdk/blob/975cabbdd84baa8e05dc5b107b673607e7c0af1a/openstack/cloud/_utils.py#L246\n[3] https://github.com/openstack/openstacksdk/commit/76b081efe45f1f2ab8e09a1fd5a23d9fc54361bc\n\nChange-Id: I2054dd55662698dabd0f2b3565c31dcd3bf24e5a\n""}, {'number': 3, 'created': '2022-04-21 10:36:46.000000000', 'files': ['plugins/modules/identity_user_info.py'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/57012cbaa39660b73820882b8bc69e1194cd5241', 'message': ""Drop username from return values of identity_user_info\n\nUsers would have a non-null username only with Identity API v2 which\nwas available in Keystone of OpenStack Pike. Identity API v2 has been\nremoved since OpenStack Queens [1].\n\nFunction search_users() from OpenStack SDK still returns the username\nattribute because of [2][3] but it will always be None since\nKeystone's API does not return username since OpenStack Pike.\n\n[1] https://docs.openstack.org/releasenotes/keystone/queens.html\n[2] https://github.com/openstack/openstacksdk/blob/975cabbdd84baa8e05dc5b107b673607e7c0af1a/openstack/cloud/_utils.py#L246\n[3] https://github.com/openstack/openstacksdk/commit/76b081efe45f1f2ab8e09a1fd5a23d9fc54361bc\n\nChange-Id: I2054dd55662698dabd0f2b3565c31dcd3bf24e5a\n(cherry picked from commit 5fc8fca06bfa3899a6183ec61349017bcc8fd0ec)\n""}]",2,837484,57012cbaa39660b73820882b8bc69e1194cd5241,19,4,3,32962,,,0,"Drop username from return values of identity_user_info

Users would have a non-null username only with Identity API v2 which
was available in Keystone of OpenStack Pike. Identity API v2 has been
removed since OpenStack Queens [1].

Function search_users() from OpenStack SDK still returns the username
attribute because of [2][3] but it will always be None since
Keystone's API does not return username since OpenStack Pike.

[1] https://docs.openstack.org/releasenotes/keystone/queens.html
[2] https://github.com/openstack/openstacksdk/blob/975cabbdd84baa8e05dc5b107b673607e7c0af1a/openstack/cloud/_utils.py#L246
[3] https://github.com/openstack/openstacksdk/commit/76b081efe45f1f2ab8e09a1fd5a23d9fc54361bc

Change-Id: I2054dd55662698dabd0f2b3565c31dcd3bf24e5a
(cherry picked from commit 5fc8fca06bfa3899a6183ec61349017bcc8fd0ec)
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/84/837484/2 && git format-patch -1 --stdout FETCH_HEAD,['plugins/modules/identity_user_info.py'],1,f2c53533611300034fd53b4fe2f5655461953a47,update_old_username_from_identity_user_info-stable/1.0.0, description: Username of the user., description: Name given to the user. username: description: Username of the user returned: success type: str,1,5
openstack%2Fkolla-ansible~master~I039bb73c9705b75a9fb6aed00a9bd645a37e857c,openstack/kolla-ansible,master,I039bb73c9705b75a9fb6aed00a9bd645a37e857c,Add become for watcher config copying over,ABANDONED,2019-05-30 06:13:50.000000000,2022-04-21 15:40:41.000000000,,"[{'_account_id': 14826}, {'_account_id': 17109}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-30 06:13:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/002a6bb6e5e895e606cadba897b867e847372a1c', 'message': 'Add become for watcher config copying over\n\nAdd become to copy config.json and watcher.conf.\n\nChange-Id: I039bb73c9705b75a9fb6aed00a9bd645a37e857c\nClose-bug: #1831012\n'}, {'number': 2, 'created': '2019-05-30 08:23:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ad15b91e01d619d6563264fb2db7496f8f5b2e48', 'message': 'Add become for watcher config copying over\n\nAdd become to copy config.json and watcher.conf\nand existing policy file.\n\nChange-Id: I039bb73c9705b75a9fb6aed00a9bd645a37e857c\nClose-bug: #1831012\n'}, {'number': 3, 'created': '2019-06-03 10:57:42.000000000', 'files': ['ansible/roles/watcher/tasks/config.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/31ac587f09a332dd92b515b1cdb8e462acc985d2', 'message': 'Add become for watcher config copying over\n\nAdd become to copy config.json and watcher.conf\nand existing policy file.\n\nChange-Id: I039bb73c9705b75a9fb6aed00a9bd645a37e857c\nCloses-bug: #1831012\n'}]",2,662136,31ac587f09a332dd92b515b1cdb8e462acc985d2,11,3,3,17109,,,0,"Add become for watcher config copying over

Add become to copy config.json and watcher.conf
and existing policy file.

Change-Id: I039bb73c9705b75a9fb6aed00a9bd645a37e857c
Closes-bug: #1831012
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/36/662136/3 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/watcher/tasks/config.yml'],1,002a6bb6e5e895e606cadba897b867e847372a1c,bug/1831012, become: true become: true,,2,0
openstack%2Fkolla-ansible~master~Ia80c2e361f6e683233456325aeadbdd3f34b48a7,openstack/kolla-ansible,master,Ia80c2e361f6e683233456325aeadbdd3f34b48a7,bugfix hostname for kolla-ansible repository,ABANDONED,2019-05-21 09:29:53.000000000,2022-04-21 15:40:27.000000000,,"[{'_account_id': 7488}, {'_account_id': 11869}, {'_account_id': 13039}, {'_account_id': 14826}, {'_account_id': 19316}, {'_account_id': 19779}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 22582}, {'_account_id': 22629}, {'_account_id': 23717}, {'_account_id': 24072}, {'_account_id': 27781}, {'_account_id': 29948}]","[{'number': 1, 'created': '2019-05-21 09:29:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c1b3039ff1cf4ef63dcbae93d2e65590598227de', 'message': 'bugfix hostname for kolla-ansible repository\n\nThe canonical_hostname refers to the project that started CI pipeline\nand it can be different than kolla-ansible. Use a usual idiom\nto get the src_dir from the source of truth.\n\nChange-Id: Ia80c2e361f6e683233456325aeadbdd3f34b48a7\n'}, {'number': 2, 'created': '2019-05-21 10:56:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/8ce7c5d77c1ccf079bfe74b16c52ae4b56adf0f2', 'message': 'bugfix hostname for kolla-ansible repository\n\nThe canonical_hostname refers to the project that started CI pipeline\nand it can be different than kolla-ansible. Use a usual idiom\nto get the src_dir from the source of truth.\n\nChange-Id: Ia80c2e361f6e683233456325aeadbdd3f34b48a7\n'}, {'number': 3, 'created': '2019-05-21 11:45:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/0c0835acf413e2827ad9cc0a1720ec9ce8ffec37', 'message': 'bugfix hostname for kolla-ansible repository\n\nThe canonical_hostname refers to the project that started CI pipeline\nand it can be different than kolla-ansible. Use a usual idiom\nto get the src_dir from the source of truth.\n\nChange-Id: Ia80c2e361f6e683233456325aeadbdd3f34b48a7\n'}, {'number': 4, 'created': '2019-05-22 07:06:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/12c04dee107398ae554921dbce6b53bf328c6ee9', 'message': '[WIP] bugfix hostname for kolla-ansible repository\n\nThe canonical_hostname refers to the project that started CI pipeline\nand it can be different than kolla-ansible. Use a usual idiom\nto get the src_dir from the source of truth.\n\nRemove dead variables that are no longer used to locate ceph script.\n\nChange-Id: Ia80c2e361f6e683233456325aeadbdd3f34b48a7\n'}, {'number': 5, 'created': '2019-05-22 09:00:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/6c62bb81dc23ea538d474c66b74fef2abae5c607', 'message': '[WIP] bugfix hostname for kolla-ansible repository\n\nThe canonical_hostname refers to the project that started CI pipeline\nand it can be different than kolla-ansible. Use a usual idiom\nto get the src_dir from the source of truth.\n\nRemove dead variables that are no longer used to locate ceph script.\n\nChange-Id: Ia80c2e361f6e683233456325aeadbdd3f34b48a7\n'}, {'number': 6, 'created': '2019-05-22 11:30:58.000000000', 'files': ['tests/run.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f867cbc677b965d62f1af959e3fcb9a2798c821d', 'message': 'bugfix hostname for kolla-ansible repository\n\nThe canonical_hostname refers to the project that started CI pipeline\nand it can be different than kolla-ansible.\nGet the src_dir from the source of truth.\n\nRemove dead variables that are no longer used to locate ceph script.\n\nChange-Id: Ia80c2e361f6e683233456325aeadbdd3f34b48a7\n'}]",2,660314,f867cbc677b965d62f1af959e3fcb9a2798c821d,20,14,6,29948,,,0,"bugfix hostname for kolla-ansible repository

The canonical_hostname refers to the project that started CI pipeline
and it can be different than kolla-ansible.
Get the src_dir from the source of truth.

Remove dead variables that are no longer used to locate ceph script.

Change-Id: Ia80c2e361f6e683233456325aeadbdd3f34b48a7
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/14/660314/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/run.yml'],1,c1b3039ff1cf4ef63dcbae93d2e65590598227de,," kolla_ansible_relative_src_dir: ""{{ zuul.projects | selectattr('name', 'equalto', 'openstack/kolla-ansible') | map(attribute='src_dir') | list | first }}"" kolla_ansible_local_src_dir: ""{{ zuul.executor.work_root }}/{{ kolla_ansible_relative_src_dir }}"" kolla_ansible_relative_src_dir: ""{{ zuul.projects | selectattr('name', 'equalto', 'openstack/kolla-ansible') | map(attribute='src_dir') | list | first }}"" kolla_ansible_src_dir: ""{{ ansible_env.PWD }}/{{ kolla_ansible_relative_src_dir }}"" kolla_ansible_local_src_dir: ""{{ zuul.executor.work_root }}/{{ kolla_ansible_relative_src_dir }}"""," kolla_ansible_local_src_dir: ""{{ zuul.executor.work_root }}/src/{{ zuul.project.canonical_hostname }}/openstack/kolla-ansible"" kolla_ansible_src_dir: ""{{ ansible_env.PWD }}/src/{{ zuul.project.canonical_hostname }}/openstack/kolla-ansible"" kolla_ansible_local_src_dir: ""{{ zuul.executor.work_root }}/src/{{ zuul.project.canonical_hostname }}/openstack/kolla-ansible""",5,3
openstack%2Fpuppet-openstack_spec_helper~master~I2ca0b9ae0c4b7c930b9f67b68643d8905bfecab0,openstack/puppet-openstack_spec_helper,master,I2ca0b9ae0c4b7c930b9f67b68643d8905bfecab0,Disable litmus when Ruby 3,MERGED,2022-04-20 01:01:24.000000000,2022-04-21 15:29:22.000000000,2022-04-21 15:29:22.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-20 01:01:24.000000000', 'files': ['puppet-openstack_spec_helper.gemspec', 'lib/puppet-openstack_spec_helper/rake_tasks.rb'], 'web_link': 'https://opendev.org/openstack/puppet-openstack_spec_helper/commit/57e6de9985f1ad14a149a468b1339d473e2c1ef8', 'message': 'Disable litmus when Ruby 3\n\nThe latest version of bolt (3.22.1[1] at the time of writing) does not\nsupport Ruby 3 yet. Ruby 3 is already available in CentOS Stream 9 and\nthis is currently causing failure during `gem install`.\n\nThis change excludes litmus and bolt when Ruby 3 is installed so that\nunit tests can be executed in CentOS Stream 9.\n\n[1] https://rubygems.org/gems/bolt/versions/3.22.1\n\nChange-Id: I2ca0b9ae0c4b7c930b9f67b68643d8905bfecab0\n'}]",0,838616,57e6de9985f1ad14a149a468b1339d473e2c1ef8,7,3,1,9816,,,0,"Disable litmus when Ruby 3

The latest version of bolt (3.22.1[1] at the time of writing) does not
support Ruby 3 yet. Ruby 3 is already available in CentOS Stream 9 and
this is currently causing failure during `gem install`.

This change excludes litmus and bolt when Ruby 3 is installed so that
unit tests can be executed in CentOS Stream 9.

[1] https://rubygems.org/gems/bolt/versions/3.22.1

Change-Id: I2ca0b9ae0c4b7c930b9f67b68643d8905bfecab0
",git fetch https://review.opendev.org/openstack/puppet-openstack_spec_helper refs/changes/16/838616/1 && git format-patch -1 --stdout FETCH_HEAD,"['puppet-openstack_spec_helper.gemspec', 'lib/puppet-openstack_spec_helper/rake_tasks.rb']",2,57e6de9985f1ad14a149a468b1339d473e2c1ef8,,begin require 'puppet_litmus/rake_tasks' rescue LoadError # In case puppet_litmus does not support the OS (eg. CentOS Stream 9) end,require 'puppet_litmus/rake_tasks',13,3
openstack%2Fansible-config_template~master~I89a2dddab4338fbe27877d03b8b48a37f24912c4,openstack/ansible-config_template,master,I89a2dddab4338fbe27877d03b8b48a37f24912c4,Pass context to copy module,ABANDONED,2022-04-14 15:51:15.000000000,2022-04-21 15:24:14.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-04-14 15:51:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-config_template/commit/a04d034c009d5bda3dc0bb1898a0649935d041d7', 'message': 'Pass context to copy module\n\nWith previous way of calling copy module we were not\npassing context, which might be very important. Simple example is\ncheck_mode that previously was not respected when passing task to copy.\n\nChange-Id: I89a2dddab4338fbe27877d03b8b48a37f24912c4\n'}, {'number': 2, 'created': '2022-04-15 09:27:03.000000000', 'files': ['plugins/action/config_template.py'], 'web_link': 'https://opendev.org/openstack/ansible-config_template/commit/33bcdfdcf2b89fcf727e8f50f3580a6a75ce4eb2', 'message': 'Pass context to copy module\n\nWith previous way of calling copy module we were not\npassing context, which might be very important. Simple example is\ncheck_mode that previously was not respected when passing task to copy.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-tests/+/838099\nChange-Id: I89a2dddab4338fbe27877d03b8b48a37f24912c4\n'}]",0,837897,33bcdfdcf2b89fcf727e8f50f3580a6a75ce4eb2,5,1,2,28619,,,0,"Pass context to copy module

With previous way of calling copy module we were not
passing context, which might be very important. Simple example is
check_mode that previously was not respected when passing task to copy.

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-tests/+/838099
Change-Id: I89a2dddab4338fbe27877d03b8b48a37f24912c4
",git fetch https://review.opendev.org/openstack/ansible-config_template refs/changes/97/837897/1 && git format-patch -1 --stdout FETCH_HEAD,['plugins/action/config_template.py'],1,a04d034c009d5bda3dc0bb1898a0649935d041d7,osa/check_mode," new_module = self._task.copy() self._connection._shell.join_path(tmp, os.path.basename(source)), new_module.args.update( new_module.args.update( for arg in ['config_overrides', 'config_type', 'list_extend' 'ignore_none_type', 'default_section', 'yml_multilines', 'remote_src', 'content', 'render_template']: new_module.args.pop(arg, None) copy_action = self._shared_loader_obj.action_loader.get('ansible.legacy.copy', task=new_module, connection=self._connection, play_context=self._play_context, loader=self._loader, templar=self._templar, shared_loader_obj=self._shared_loader_obj) rc = copy_action.run(task_vars=task_vars)"," new_module_args = self._task.args.copy() self._connection._shell.join_path(tmp, 'source'), new_module_args.update( new_module_args.update( new_module_args.pop('config_overrides', None) new_module_args.pop('config_type', None) new_module_args.pop('list_extend', None) new_module_args.pop('ignore_none_type', None) new_module_args.pop('default_section', None) new_module_args.pop('yml_multilines', None) # While this is in the copy module we dont want to use it. new_module_args.pop('remote_src', None) # Content from config_template is converted to src new_module_args.pop('content', None) # remove render enablement option new_module_args.pop('render_template', None) rc = self._execute_module( module_name='copy', module_args=new_module_args, task_vars=task_vars )",16,24
openstack%2Freleases~master~Iae45d7dbd1530ad4011b4d15d668bc7383353ec2,openstack/releases,master,Iae45d7dbd1530ad4011b4d15d668bc7383353ec2,[manila][zed] Add project tracking schedule,MERGED,2022-03-31 20:58:09.000000000,2022-04-21 15:24:08.000000000,2022-04-21 15:24:08.000000000,"[{'_account_id': 16643}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-03-31 20:58:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/d8f8bf3957727bbd9b806dcef8a50473522580d4', 'message': '[manila][zed] Add project tracking schedule\n\nAdd code and spec submission deadlines that the manila\nproject maintainers adhere to.\n\nChange-Id: Iae45d7dbd1530ad4011b4d15d668bc7383353ec2\n'}, {'number': 2, 'created': '2022-04-19 19:59:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/eb12cc516f0132e8ede55b47c9262ccf373b7e9d', 'message': '[manila][zed] Add project tracking schedule\n\nAdd code and spec submission deadlines that the manila\nproject maintainers adhere to.\n\nChange-Id: Iae45d7dbd1530ad4011b4d15d668bc7383353ec2\n'}, {'number': 3, 'created': '2022-04-20 17:18:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/bbb972f547d542b3996c6580baa2e7080098107d', 'message': '[manila][zed] Add project tracking schedule\n\nAdd code and spec submission deadlines that the manila\nproject maintainers adhere to.\n\nChange-Id: Iae45d7dbd1530ad4011b4d15d668bc7383353ec2\n'}, {'number': 4, 'created': '2022-04-20 17:46:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/91500ff699e498498044b81165b7ee5c3830d81e', 'message': '[manila][zed] Add project tracking schedule\n\nAdd code and spec submission deadlines that the manila\nproject maintainers adhere to.\n\nChange-Id: Iae45d7dbd1530ad4011b4d15d668bc7383353ec2\n'}, {'number': 5, 'created': '2022-04-20 18:00:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/e3913e09957cca6c0c5607217d10489daa2d8ab8', 'message': '[manila][zed] Add project tracking schedule\n\nAdd code and spec submission deadlines that the manila\nproject maintainers adhere to.\n\nChange-Id: Iae45d7dbd1530ad4011b4d15d668bc7383353ec2\n'}, {'number': 6, 'created': '2022-04-21 14:52:22.000000000', 'files': ['doc/source/zed/schedule.yaml', 'doc/source/zed/schedule.rst'], 'web_link': 'https://opendev.org/openstack/releases/commit/3afe4e37e1f1edc76bd51ef82ec2281eade063e7', 'message': '[manila][zed] Add project tracking schedule\n\nAdd code and spec submission deadlines that the manila\nproject maintainers adhere to.\n\nChange-Id: Iae45d7dbd1530ad4011b4d15d668bc7383353ec2\n'}]",20,836089,3afe4e37e1f1edc76bd51ef82ec2281eade063e7,26,4,6,29632,,,0,"[manila][zed] Add project tracking schedule

Add code and spec submission deadlines that the manila
project maintainers adhere to.

Change-Id: Iae45d7dbd1530ad4011b4d15d668bc7383353ec2
",git fetch https://review.opendev.org/openstack/releases refs/changes/89/836089/4 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/zed/schedule.yaml', 'doc/source/zed/schedule.rst']",2,d8f8bf3957727bbd9b806dcef8a50473522580d4,manila,"Manila ------ .. _z-manila-spec-freeze: Manila Spec Freeze ^^^^^^^^^^^^^^^^^^ All Manila specs targeted to Zed must be approved by the end of the week. .. _z-manila-new-driver-deadline: Manila New Driver Deadline ^^^^^^^^^^^^^^^^^^^^^^^^^^ By the end of the week all new backend drivers for Manila must be substantially complete, with unit tests, and passing 3rd party CI. Drivers do not have to actually merge until feature freeze. .. _z-manila-fpfreeze: Manila Feature Proposal Freeze ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ All new Manila features must be proposed and substantially completed, with unit, functional and integration tests by the end of the week. ",,33,0
openstack%2Fos-brick~stable%2Fwallaby~I6f7f7d19540361204d4ae3ead2bd6dcddb8fcd68,openstack/os-brick,stable/wallaby,I6f7f7d19540361204d4ae3ead2bd6dcddb8fcd68,Use file locks in connectors,MERGED,2021-11-12 07:16:22.000000000,2022-04-21 15:15:16.000000000,2021-11-12 17:16:27.000000000,"[{'_account_id': 5314}, {'_account_id': 9535}, {'_account_id': 13425}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-12 07:16:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/2a0d42dbe99b5d174af8844a9505413fd1ff2723', 'message': ""Use file locks in connectors\n\nCurrently os-brick is using in-process locks that will only prevent concurrent\naccess to critical sections to threads within a single process.\n\nBut based on the comment from iSCSI it seems like the code assumed that\nthese were file based locks that prevented concurrent access from\nmultiple processes.\n\nMentioned iSCSI comment is being removed because it's not correct that\nour current retry mechanism will work with connect and disconnect\nconcurrency issues.\n\nThe reason why we haven't seen errors in Nova is because it runs a\nsingle process and locks will be effective.\n\nThis is probably also not an issue in some transport protocols, such as\nFC and RBD, and it wouldn't be an issue in iSCSI connections that don't\nshare targets.\n\nBut for others, such as  iSCSI with shared targets and NVMe-OF, not\nusing file locks will create race conditions in the following cases:\n\n- More than 1 cinder backend: Because we can have one backend doing a\n  detach in a create volume from image and the other an attach for an\n  offline migration.\n\n- Backup/Restore if backup and volume services are running on the same\n  host.\n\n- HCI scenarios where cinder volume and nova compute are running on the\n  same host, even if the same lock path if configured.\n\n- Glance using Cinder as backend and is running on the same node as\n  cinder-volume or cinder-backup.\n\nThe problematic race conditions happen because the disconnect will do a\nlogout of the iSCSI target once the connect call has already confirmed\nthat the session to the target exists.\n\nWe could just add the file locks to iSCSI and NVMe, but I think it's\nsafer to add it to all the connectors and then, after proper testing, we\ncan can change back the locks that can be changed, and remove or reduce\nthe critical section in others.\n\nCloses-Bug: #1947370\nChange-Id: I6f7f7d19540361204d4ae3ead2bd6dcddb8fcd68\n(cherry picked from commit 6a43669edc583f8fbcfb4c0f1c7bf6cebad9abd7)\n(cherry picked from commit 19a4820f5c4ccca10d50d08198873b1515ee257b)\n""}, {'number': 2, 'created': '2021-11-12 07:20:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/f72e814f154bdb6e481fe074bcc3f546a5bea06f', 'message': ""Use file locks in connectors\n\nCurrently os-brick is using in-process locks that will only prevent concurrent\naccess to critical sections to threads within a single process.\n\nBut based on the comment from iSCSI it seems like the code assumed that\nthese were file based locks that prevented concurrent access from\nmultiple processes.\n\nMentioned iSCSI comment is being removed because it's not correct that\nour current retry mechanism will work with connect and disconnect\nconcurrency issues.\n\nThe reason why we haven't seen errors in Nova is because it runs a\nsingle process and locks will be effective.\n\nThis is probably also not an issue in some transport protocols, such as\nFC and RBD, and it wouldn't be an issue in iSCSI connections that don't\nshare targets.\n\nBut for others, such as  iSCSI with shared targets and NVMe-OF, not\nusing file locks will create race conditions in the following cases:\n\n- More than 1 cinder backend: Because we can have one backend doing a\n  detach in a create volume from image and the other an attach for an\n  offline migration.\n\n- Backup/Restore if backup and volume services are running on the same\n  host.\n\n- HCI scenarios where cinder volume and nova compute are running on the\n  same host, even if the same lock path if configured.\n\n- Glance using Cinder as backend and is running on the same node as\n  cinder-volume or cinder-backup.\n\nThe problematic race conditions happen because the disconnect will do a\nlogout of the iSCSI target once the connect call has already confirmed\nthat the session to the target exists.\n\nWe could just add the file locks to iSCSI and NVMe, but I think it's\nsafer to add it to all the connectors and then, after proper testing, we\ncan can change back the locks that can be changed, and remove or reduce\nthe critical section in others.\n\nCloses-Bug: #1947370\nChange-Id: I6f7f7d19540361204d4ae3ead2bd6dcddb8fcd68\n(cherry picked from commit 6a43669edc583f8fbcfb4c0f1c7bf6cebad9abd7)\n(cherry picked from commit 19a4820f5c4ccca10d50d08198873b1515ee257b)\n""}, {'number': 3, 'created': '2021-11-12 07:32:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/08ddf69d648c5622a5a300a8636bda727b5b2722', 'message': ""Use file locks in connectors\n\nCurrently os-brick is using in-process locks that will only prevent concurrent\naccess to critical sections to threads within a single process.\n\nBut based on the comment from iSCSI it seems like the code assumed that\nthese were file based locks that prevented concurrent access from\nmultiple processes.\n\nMentioned iSCSI comment is being removed because it's not correct that\nour current retry mechanism will work with connect and disconnect\nconcurrency issues.\n\nThe reason why we haven't seen errors in Nova is because it runs a\nsingle process and locks will be effective.\n\nThis is probably also not an issue in some transport protocols, such as\nFC and RBD, and it wouldn't be an issue in iSCSI connections that don't\nshare targets.\n\nBut for others, such as  iSCSI with shared targets and NVMe-OF, not\nusing file locks will create race conditions in the following cases:\n\n- More than 1 cinder backend: Because we can have one backend doing a\n  detach in a create volume from image and the other an attach for an\n  offline migration.\n\n- Backup/Restore if backup and volume services are running on the same\n  host.\n\n- HCI scenarios where cinder volume and nova compute are running on the\n  same host, even if the same lock path if configured.\n\n- Glance using Cinder as backend and is running on the same node as\n  cinder-volume or cinder-backup.\n\nThe problematic race conditions happen because the disconnect will do a\nlogout of the iSCSI target once the connect call has already confirmed\nthat the session to the target exists.\n\nWe could just add the file locks to iSCSI and NVMe, but I think it's\nsafer to add it to all the connectors and then, after proper testing, we\ncan can change back the locks that can be changed, and remove or reduce\nthe critical section in others.\n\nCloses-Bug: #1947370\nChange-Id: I6f7f7d19540361204d4ae3ead2bd6dcddb8fcd68\n(cherry picked from commit 6a43669edc583f8fbcfb4c0f1c7bf6cebad9abd7)\n(cherry picked from commit 19a4820f5c4ccca10d50d08198873b1515ee257b)\nConflicts: os_brick/initiator/connectors/iscsi.py\n""}, {'number': 4, 'created': '2021-11-12 09:04:53.000000000', 'files': ['releasenotes/notes/external-locks-9f015988ebdc37d6.yaml', 'os_brick/initiator/connectors/fibre_channel.py', 'os_brick/tests/base.py', 'os_brick/initiator/connectors/iscsi.py', 'os_brick/initiator/utils.py', 'os_brick/initiator/connectors/nvmeof.py', 'os_brick/tests/initiator/test_utils.py', 'os_brick/initiator/connectors/scaleio.py', 'os_brick/initiator/connectors/huawei.py'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/ecaf7f8962e12b43f9759ddc1b608f30eb9f5ebb', 'message': ""Use file locks in connectors\n\nCurrently os-brick is using in-process locks that will only prevent concurrent\naccess to critical sections to threads within a single process.\n\nBut based on the comment from iSCSI it seems like the code assumed that\nthese were file based locks that prevented concurrent access from\nmultiple processes.\n\nMentioned iSCSI comment is being removed because it's not correct that\nour current retry mechanism will work with connect and disconnect\nconcurrency issues.\n\nThe reason why we haven't seen errors in Nova is because it runs a\nsingle process and locks will be effective.\n\nThis is probably also not an issue in some transport protocols, such as\nFC and RBD, and it wouldn't be an issue in iSCSI connections that don't\nshare targets.\n\nBut for others, such as  iSCSI with shared targets and NVMe-OF, not\nusing file locks will create race conditions in the following cases:\n\n- More than 1 cinder backend: Because we can have one backend doing a\n  detach in a create volume from image and the other an attach for an\n  offline migration.\n\n- Backup/Restore if backup and volume services are running on the same\n  host.\n\n- HCI scenarios where cinder volume and nova compute are running on the\n  same host, even if the same lock path if configured.\n\n- Glance using Cinder as backend and is running on the same node as\n  cinder-volume or cinder-backup.\n\nThe problematic race conditions happen because the disconnect will do a\nlogout of the iSCSI target once the connect call has already confirmed\nthat the session to the target exists.\n\nWe could just add the file locks to iSCSI and NVMe, but I think it's\nsafer to add it to all the connectors and then, after proper testing, we\ncan can change back the locks that can be changed, and remove or reduce\nthe critical section in others.\n\nCloses-Bug: #1947370\nChange-Id: I6f7f7d19540361204d4ae3ead2bd6dcddb8fcd68\n(cherry picked from commit 6a43669edc583f8fbcfb4c0f1c7bf6cebad9abd7)\n(cherry picked from commit 19a4820f5c4ccca10d50d08198873b1515ee257b)\nConflicts: os_brick/initiator/connectors/iscsi.py\n""}]",8,817708,ecaf7f8962e12b43f9759ddc1b608f30eb9f5ebb,22,4,4,27615,,,0,"Use file locks in connectors

Currently os-brick is using in-process locks that will only prevent concurrent
access to critical sections to threads within a single process.

But based on the comment from iSCSI it seems like the code assumed that
these were file based locks that prevented concurrent access from
multiple processes.

Mentioned iSCSI comment is being removed because it's not correct that
our current retry mechanism will work with connect and disconnect
concurrency issues.

The reason why we haven't seen errors in Nova is because it runs a
single process and locks will be effective.

This is probably also not an issue in some transport protocols, such as
FC and RBD, and it wouldn't be an issue in iSCSI connections that don't
share targets.

But for others, such as  iSCSI with shared targets and NVMe-OF, not
using file locks will create race conditions in the following cases:

- More than 1 cinder backend: Because we can have one backend doing a
  detach in a create volume from image and the other an attach for an
  offline migration.

- Backup/Restore if backup and volume services are running on the same
  host.

- HCI scenarios where cinder volume and nova compute are running on the
  same host, even if the same lock path if configured.

- Glance using Cinder as backend and is running on the same node as
  cinder-volume or cinder-backup.

The problematic race conditions happen because the disconnect will do a
logout of the iSCSI target once the connect call has already confirmed
that the session to the target exists.

We could just add the file locks to iSCSI and NVMe, but I think it's
safer to add it to all the connectors and then, after proper testing, we
can can change back the locks that can be changed, and remove or reduce
the critical section in others.

Closes-Bug: #1947370
Change-Id: I6f7f7d19540361204d4ae3ead2bd6dcddb8fcd68
(cherry picked from commit 6a43669edc583f8fbcfb4c0f1c7bf6cebad9abd7)
(cherry picked from commit 19a4820f5c4ccca10d50d08198873b1515ee257b)
Conflicts: os_brick/initiator/connectors/iscsi.py
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/08/817708/3 && git format-patch -1 --stdout FETCH_HEAD,"['os_brick/initiator/connectors/fibre_channel.py', 'releasenotes/notes/external-locks-9f015988ebdc37d6.yaml', 'os_brick/initiator/connectors/iscsi.py', 'os_brick/initiator/utils.py', 'os_brick/tests/base.py', 'os_brick/initiator/connectors/nvmeof.py', 'os_brick/initiator/connectors/scaleio.py', 'os_brick/tests/initiator/test_utils.py', 'os_brick/initiator/connectors/huawei.py']",9,2a0d42dbe99b5d174af8844a9505413fd1ff2723,bug/1947370," @synchronized('connect_volume', external=True) @synchronized('connect_volume', external=True)", @synchronized('connect_volume') @synchronized('connect_volume'),40,24
openstack%2Ftrove~master~Ib3613119dc136c8a0d96a27c52e0bc1874065775,openstack/trove,master,Ib3613119dc136c8a0d96a27c52e0bc1874065775,Add ubuntu focal support for trove guest image,MERGED,2022-04-18 14:50:07.000000000,2022-04-21 15:09:12.000000000,2022-04-21 15:04:45.000000000,"[{'_account_id': 22348}, {'_account_id': 26285}]","[{'number': 1, 'created': '2022-04-18 14:50:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/c6137f382e2284ca119d6087637e8c690d138420', 'message': 'Add ubuntu focal support for trove guest image\n\nstory: 2009996\ntask: 45072\nChange-Id: Ib3613119dc136c8a0d96a27c52e0bc1874065775\n'}, {'number': 2, 'created': '2022-04-19 01:46:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/79fc6159fef79e22228c3879894e99fc4b5fe3bf', 'message': 'Add ubuntu focal support for trove guest image\n\nstory: 2009996\ntask: 45072\nChange-Id: Ib3613119dc136c8a0d96a27c52e0bc1874065775\n'}, {'number': 3, 'created': '2022-04-19 01:49:17.000000000', 'files': ['integration/scripts/files/elements/guest-agent/pkg-map', 'integration/scripts/trovestack', 'integration/scripts/functions_qemu', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/trove/commit/2f8f2f8d92875ca77b55c2d76416913b7b92fce8', 'message': 'Add ubuntu focal support for trove guest image\n\nstory: 2009996\ntask: 45072\nChange-Id: Ib3613119dc136c8a0d96a27c52e0bc1874065775\n'}]",0,838313,2f8f2f8d92875ca77b55c2d76416913b7b92fce8,10,2,3,26285,,,0,"Add ubuntu focal support for trove guest image

story: 2009996
task: 45072
Change-Id: Ib3613119dc136c8a0d96a27c52e0bc1874065775
",git fetch https://review.opendev.org/openstack/trove refs/changes/13/838313/1 && git format-patch -1 --stdout FETCH_HEAD,"['integration/scripts/trovestack', 'integration/scripts/functions_qemu', 'zuul.d/jobs.yaml']",3,c6137f382e2284ca119d6087637e8c690d138420,, guest_os_release: focal guest_os_release: focal, guest_os_release: bionic guest_os_release: bionic,9,6
openstack%2Fcharm-ironic-conductor~master~Ia14d7b35c1b03b51d2cefa7c24db7571666f41c2,openstack/charm-ironic-conductor,master,Ia14d7b35c1b03b51d2cefa7c24db7571666f41c2,Updates to enable jammy and finalise charmcraft builds,MERGED,2022-03-25 16:22:05.000000000,2022-04-21 15:00:47.000000000,2022-04-21 15:00:47.000000000,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-03-25 16:22:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ironic-conductor/commit/f6713e5f47ff3188e923d84c892186010d1ffe4b', 'message': 'Updates to enable jammy and finalise charmcraft builds\n\n- Add 22.04 to charmcraft.yaml\n- Update metadata to include jammy\n- Remove impish from metadata\n- Update osci.yaml to include py3.10 default job\n- Modify tox.ini to remove py35,py36,py37 tox target and add py310\n  target.\n- ensure that the openstack-origin is yoga\n\nChange-Id: Ia14d7b35c1b03b51d2cefa7c24db7571666f41c2\n'}, {'number': 2, 'created': '2022-03-29 02:49:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ironic-conductor/commit/f67b0b737d7908f34f9b30117285151500fe9257', 'message': 'Updates to enable jammy and finalise charmcraft builds\n\n- Add 22.04 to charmcraft.yaml\n- Update metadata to include jammy\n- Remove impish from metadata\n- Update osci.yaml to include py3.10 default job\n- Modify tox.ini to remove py35,py36,py37 tox target and add py310\n  target.\n- ensure that the openstack-origin is yoga\n\nChange-Id: Ia14d7b35c1b03b51d2cefa7c24db7571666f41c2\n'}, {'number': 3, 'created': '2022-04-01 13:04:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ironic-conductor/commit/c977c43ea9c0cfc5574bd57058e2cd2316e7522d', 'message': 'Updates to enable jammy and finalise charmcraft builds\n\n- Add 22.04 to charmcraft.yaml\n- Update metadata to include jammy\n- Remove impish from metadata\n- Update osci.yaml to include py3.10 default job\n- Modify tox.ini to remove py35,py36,py37 tox target and add py310\n  target.\n- ensure that the openstack-origin is yoga\n\nChange-Id: Ia14d7b35c1b03b51d2cefa7c24db7571666f41c2\n'}, {'number': 4, 'created': '2022-04-01 18:17:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ironic-conductor/commit/d457499a5d3d7911badab0ecb71d1201d8d9a1b5', 'message': 'Updates to enable jammy and finalise charmcraft builds\n\n- Add 22.04 to charmcraft.yaml\n- Update metadata to include jammy\n- Remove impish from metadata\n- Update osci.yaml to include py3.10 default job\n- Modify tox.ini to remove py35,py36,py37 tox target and add py310\n  target.\n- ensure that the openstack-origin is yoga\n\nChange-Id: Ia14d7b35c1b03b51d2cefa7c24db7571666f41c2\n'}, {'number': 5, 'created': '2022-04-02 11:02:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ironic-conductor/commit/a8cbd84c77a745157905655b9eba7b7ad77d0704', 'message': 'Updates to enable jammy and finalise charmcraft builds\n\n- Add 22.04 to charmcraft.yaml\n- Update metadata to include jammy\n- Remove impish from metadata\n- Update osci.yaml to include py3.10 default job\n- Modify tox.ini to remove py35,py36,py37 tox target and add py310\n  target.\n- ensure that the openstack-origin is yoga\n\nChange-Id: Ia14d7b35c1b03b51d2cefa7c24db7571666f41c2\n'}, {'number': 6, 'created': '2022-04-04 14:50:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ironic-conductor/commit/0457c13d9a6004ddea452f108130e2bfa3c700a5', 'message': 'Updates to enable jammy and finalise charmcraft builds\n\n- Add 22.04 to charmcraft.yaml\n- Update metadata to include jammy\n- Remove impish from metadata\n- Update osci.yaml to include py3.10 default job\n- Modify tox.ini to remove py35,py36,py37 tox target and add py310\n  target.\n- ensure that the openstack-origin is yoga\n\nChange-Id: Ia14d7b35c1b03b51d2cefa7c24db7571666f41c2\n'}, {'number': 7, 'created': '2022-04-08 13:32:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ironic-conductor/commit/d4f0cb51061f8e4357c90d069a9a08de7686b8da', 'message': 'Updates to enable jammy and finalise charmcraft builds\n\n- Add 22.04 to charmcraft.yaml\n- Update metadata to include jammy\n- Remove impish from metadata\n- Update osci.yaml to include py3.10 default job\n- Modify tox.ini to remove py35,py36,py37 tox target and add py310\n  target.\n- ensure that the openstack-origin is yoga\n\nChange-Id: Ia14d7b35c1b03b51d2cefa7c24db7571666f41c2\n'}, {'number': 8, 'created': '2022-04-21 12:51:50.000000000', 'files': ['src/tests/bundles/overlays/focal-xena.yaml', 'osci.yaml', '.gitignore', 'src/tests/bundles/overlays/hirsute-wallaby.yaml.j2', 'src/tests/bundles/impish-xena.yaml', 'src/tests/bundles/overlays/impish-xena.yaml', 'src/tests/bundles/overlays/focal-victoria.yaml.j2', 'src/tests/bundles/focal-xena.yaml', 'src/metadata.yaml', 'src/tests/bundles/overlays/bionic-train.yaml.j2', 'src/config.yaml', 'src/tests/bundles/focal-yoga.yaml', 'requirements.txt', 'src/tests/bundles/jammy-yoga.yaml', 'src/tests/bundles/overlays/focal-wallaby.yaml.j2', 'src/tests/bundles/overlays/bionic-ussuri.yaml.j2', 'src/tests/bundles/overlays/focal-ussuri.yaml.j2', 'charmcraft.yaml', 'src/tests/bundles/overlays/impish-xena.yaml.j2', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-ironic-conductor/commit/a09522ea8ab3b17805fc7000cdc428257b351ee5', 'message': 'Updates to enable jammy and finalise charmcraft builds\n\n- Add 22.04 to charmcraft.yaml\n- Update metadata to include jammy\n- Remove impish from metadata\n- Update osci.yaml to include py3.10 default job\n- Modify tox.ini to remove py35,py36,py37 tox target and add py310\n  target.\n- ensure that the openstack-origin is yoga\n\nChange-Id: Ia14d7b35c1b03b51d2cefa7c24db7571666f41c2\n'}]",7,835263,a09522ea8ab3b17805fc7000cdc428257b351ee5,37,3,8,20870,,,0,"Updates to enable jammy and finalise charmcraft builds

- Add 22.04 to charmcraft.yaml
- Update metadata to include jammy
- Remove impish from metadata
- Update osci.yaml to include py3.10 default job
- Modify tox.ini to remove py35,py36,py37 tox target and add py310
  target.
- ensure that the openstack-origin is yoga

Change-Id: Ia14d7b35c1b03b51d2cefa7c24db7571666f41c2
",git fetch https://review.opendev.org/openstack/charm-ironic-conductor refs/changes/63/835263/8 && git format-patch -1 --stdout FETCH_HEAD,"['src/config.yaml', 'osci.yaml', 'charmcraft.yaml', 'src/metadata.yaml', 'tox.ini']",5,f6713e5f47ff3188e923d84c892186010d1ffe4b,charmhub-migration-yoga,[testenv:py310] basepython = python3.10,[testenv:py35] basepython = python3.5 deps = -r{toxinidir}/test-requirements.txt commands = stestr run --slowest {posargs} [testenv:py36] basepython = python3.6 deps = -r{toxinidir}/test-requirements.txt commands = stestr run --slowest {posargs} [testenv:py37] basepython = python3.7 deps = -r{toxinidir}/test-requirements.txt commands = stestr run --slowest {posargs} [testenv:py39] basepython = python3.9,25,24
openstack%2Fpuppet-ceph~master~Ic45db2bb113291f4571209a25a28a40089704ef0,openstack/puppet-ceph,master,Ic45db2bb113291f4571209a25a28a40089704ef0,Remove support for Ubuntu 16.04 (Xenial),MERGED,2022-04-20 03:47:32.000000000,2022-04-21 14:53:56.000000000,2022-04-21 14:51:56.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-20 03:47:32.000000000', 'files': ['releasenotes/notes/remove-ubuntu-xenial-7f1352a0873b0d0c.yaml', 'metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/08be8eedb4275cffb52cae0933e7761030a57b40', 'message': 'Remove support for Ubuntu 16.04 (Xenial)\n\n... because Nautilus is supported by Ubuntu 18.04 (Bionic).\n\n[1] https://ubuntu.com/ceph/docs/supported-ceph-versions\n\nChange-Id: Ic45db2bb113291f4571209a25a28a40089704ef0\n'}]",0,838624,08be8eedb4275cffb52cae0933e7761030a57b40,8,3,1,9816,,,0,"Remove support for Ubuntu 16.04 (Xenial)

... because Nautilus is supported by Ubuntu 18.04 (Bionic).

[1] https://ubuntu.com/ceph/docs/supported-ceph-versions

Change-Id: Ic45db2bb113291f4571209a25a28a40089704ef0
",git fetch https://review.opendev.org/openstack/puppet-ceph refs/changes/24/838624/1 && git format-patch -1 --stdout FETCH_HEAD,"['metadata.json', 'releasenotes/notes/remove-ubuntu-xenial-7f1352a0873b0d0c.yaml']",2,08be8eedb4275cffb52cae0933e7761030a57b40,,--- upgrade: - | Ubuntu 16.04 (Xenial) is no longer supported. ,,4,1
openstack%2Fvalidations-libs~master~Ia044eb5522d09df7640ff375bd558eba8679a180,openstack/validations-libs,master,Ia044eb5522d09df7640ff375bd558eba8679a180,Tests verifying functionality of callbacks...,ABANDONED,2021-01-19 12:47:59.000000000,2022-04-21 14:53:07.000000000,,"[{'_account_id': 11491}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}, {'_account_id': 31245}, {'_account_id': 32926}]","[{'number': 1, 'created': '2021-01-19 12:47:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/aaa95a125d2c081787c2c511e5c9195507248d7c', 'message': 'Tests for 761626. Still WIP.\n\nChange-Id: Ia044eb5522d09df7640ff375bd558eba8679a180\n'}, {'number': 2, 'created': '2021-01-19 13:01:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/076f0a57d19ec5f9066a1d45d2ed4e37426daf6d', 'message': 'Tests for 761626. Still WIP.\n\nChange-Id: Ia044eb5522d09df7640ff375bd558eba8679a180\n'}, {'number': 3, 'created': '2021-01-19 13:30:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/9ebc7458fb29962817d31e373dcc429323676dea', 'message': 'Tests for 761626. Still WIP.\nBasic tests verifying functionality of callbacks and related infrastructure, such as RunnerConfig.\n\nChange-Id: Ia044eb5522d09df7640ff375bd558eba8679a180\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\n'}, {'number': 4, 'created': '2021-01-19 14:04:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/7745dc05d41e0c0f7c424baca933e902d883ee6e', 'message': 'Tests for 761626. Still WIP.\n\nBasic tests verifying functionality of callbacks and related infrastructure, such as RunnerConfig.\n\nChange-Id: Ia044eb5522d09df7640ff375bd558eba8679a180\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\n'}, {'number': 5, 'created': '2021-01-19 15:00:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/7369a813369dc7d85c37cec6b09049fc73ebf8b3', 'message': 'Tests for 761626. Still WIP.\n\nBasic tests verifying functionality of callbacks and related infrastructure, such as RunnerConfig.\n\nChange-Id: Ia044eb5522d09df7640ff375bd558eba8679a180\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\n'}, {'number': 6, 'created': '2021-01-19 15:49:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/8396b8d43ff4875a16fd87435846bfc95ecabc8f', 'message': 'Tests for 761626. Still WIP.\n\nBasic tests verifying functionality of callbacks and related infrastructure, such as RunnerConfig.\n\nChange-Id: Ia044eb5522d09df7640ff375bd558eba8679a180\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\n'}, {'number': 7, 'created': '2021-01-19 16:32:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/8e9a744c27c43e3a8437d36570550d1655cc0a09', 'message': 'Tests for 761626. Still WIP.\n\nBasic tests verifying functionality of callbacks and related infrastructure, such as RunnerConfig.\n\nChange-Id: Ia044eb5522d09df7640ff375bd558eba8679a180\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\n'}, {'number': 8, 'created': '2021-01-19 19:48:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/2b5f2028f0c8e0716b0833a70da0ba756bc13d6c', 'message': 'Tests for 761626. Still WIP.\n\nBasic tests verifying functionality of callbacks and related infrastructure, such as RunnerConfig.\n\nChange-Id: Ia044eb5522d09df7640ff375bd558eba8679a180\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\n'}, {'number': 9, 'created': '2021-01-20 09:09:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/ff241411793875c09b5c298d1e1cb0b4e40a2799', 'message': 'Tests for 761626. Still WIP.\n\nBasic tests verifying functionality of callbacks and related infrastructure, such as RunnerConfig.\n\nChange-Id: Ia044eb5522d09df7640ff375bd558eba8679a180\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\n'}, {'number': 10, 'created': '2021-01-20 11:15:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/7f7b8e1c90aa3b23375a597f247a8cde1acf0006', 'message': 'Tests for 761626. Still WIP.\n\nBasic tests verifying functionality of callbacks and related infrastructure, such as RunnerConfig.\n\nChange-Id: Ia044eb5522d09df7640ff375bd558eba8679a180\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\n'}, {'number': 11, 'created': '2021-01-20 11:21:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/1472e18da6bf1c97e9d18dba1219989f96cff5fc', 'message': 'Tests for 761626. Still WIP.\n\nBasic tests verifying functionality of callbacks and related infrastructure, such as RunnerConfig.\n\nChange-Id: Ia044eb5522d09df7640ff375bd558eba8679a180\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\n'}, {'number': 12, 'created': '2021-01-20 14:54:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/73887537c15fe01bad7c5f07ac58d7d266f5bbc3', 'message': 'Tests for 761626. Still WIP.\n\nBasic tests verifying functionality of callbacks and related infrastructure, such as RunnerConfig.\n\nChange-Id: Ia044eb5522d09df7640ff375bd558eba8679a180\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\n'}, {'number': 13, 'created': '2021-01-21 06:57:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/09fce18df516d24684f249fcb58594da7cf43947', 'message': 'Tests for 761626. Still WIP.\n\nBasic tests verifying functionality of callbacks and related infrastructure,\nsuch as RunnerConfig.\n\nNow adjusted for py36.\nChange-Id: Ia044eb5522d09df7640ff375bd558eba8679a180\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\n'}, {'number': 14, 'created': '2021-01-21 11:14:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/3736de72f55a3d0a35b31025d02f1bd76f5b9468', 'message': 'Tests for 761626. Still WIP.\n\nTests verifying functionality of callbacks,\nalong with related infrastructure, such as RunnerConfig.\n\nNow adjusted for py36.\n\nChange-Id: Ia044eb5522d09df7640ff375bd558eba8679a180\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\n'}, {'number': 15, 'created': '2021-01-21 14:34:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/3d4ab8692e349aac25dd168c1f19938ed24ad854', 'message': 'Tests for 761626. Still WIP.\n\nTests verifying functionality of callbacks,\nalong with related infrastructure, such as RunnerConfig.\n\nNow adjusted for py36.\n\nChange-Id: Ia044eb5522d09df7640ff375bd558eba8679a180\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\n'}, {'number': 16, 'created': '2021-01-21 14:59:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/9f303b3f66a62201570f58964e18734ab19f5687', 'message': 'Tests for 761626. Still WIP.\n\nTests verifying functionality of callbacks,\nalong with related infrastructure, such as RunnerConfig.\n\nNow adjusted for py36.\n\nChange-Id: Ia044eb5522d09df7640ff375bd558eba8679a180\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\n'}, {'number': 17, 'created': '2021-01-22 07:37:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/e6617f95d69f3b2049893eb5e9315b0d261aa209', 'message': 'Tests for 761626.\n\nTests verifying functionality of callbacks,\nalong with related infrastructure, such as RunnerConfig.\n\nNow adjusted for py36.\n\nChange-Id: Ia044eb5522d09df7640ff375bd558eba8679a180\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\n'}, {'number': 18, 'created': '2021-01-22 11:31:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/b64bc6a84c20441c12719fafb18df023016bc1bc', 'message': 'Tests verifying functionality of callbacks...\n\nalong with related infrastructure, such as RunnerConfig.\n\nNow adjusted for py36.\n\nChange-Id: Ia044eb5522d09df7640ff375bd558eba8679a180\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\n'}, {'number': 19, 'created': '2021-01-26 16:30:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/7c46a48c1214f9b722ff432b79490b24b5d87c6c', 'message': 'Tests verifying functionality of callbacks...\n\nalong with related infrastructure, such as RunnerConfig.\n\nNow adjusted for py36.\n\nChange-Id: Ia044eb5522d09df7640ff375bd558eba8679a180\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\n'}, {'number': 20, 'created': '2021-03-01 08:26:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/c2e1c6416948a6380dca274b1a418dec02a8104f', 'message': 'Tests verifying functionality of callbacks...\n\nalong with related infrastructure, such as RunnerConfig.\n\nNow adjusted for py36.\nAfter rebase expects absolute path for inventory.\nChange-Id: Ia044eb5522d09df7640ff375bd558eba8679a180\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\n'}, {'number': 21, 'created': '2021-04-06 13:40:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/7b495820a3d9674e563aa179510036764254a591', 'message': 'Tests verifying functionality of callbacks...\n\nalong with related infrastructure, such as RunnerConfig.\n\nNow adjusted for py36.\nAfter rebase expects absolute path for inventory.\n\nCloses-Bug: #1922726\n\nChange-Id: Ia044eb5522d09df7640ff375bd558eba8679a180\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\n'}, {'number': 22, 'created': '2021-05-18 06:36:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/6a8b490f9f3b48aeb72fe1cdbc7ee4e672c8ec69', 'message': 'Tests verifying functionality of callbacks...\n\nalong with related infrastructure, such as RunnerConfig.\n\nNow adjusted for py36.\nAfter rebase expects absolute path for inventory.\n\nCloses-Bug: #1922726\n\nChange-Id: Ia044eb5522d09df7640ff375bd558eba8679a180\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\n'}, {'number': 23, 'created': '2021-06-07 06:58:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/b5daa85ac76c0f036d16bf3d8dc65df0bf57f983', 'message': 'Tests verifying functionality of callbacks...\n\nalong with related infrastructure, such as RunnerConfig.\n\nNow adjusted for py36.\nAfter rebase expects absolute path for inventory.\n\nCloses-Bug: #1922726\n\nChange-Id: Ia044eb5522d09df7640ff375bd558eba8679a180\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\n'}, {'number': 24, 'created': '2021-06-07 09:17:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/e0e139d9c7ff2f5481955788263129be9b41a143', 'message': 'Tests verifying functionality of callbacks...\n\nalong with related infrastructure, such as RunnerConfig.\n\nNow adjusted for py36.\nAfter rebase expects absolute path for inventory.\n\nCloses-Bug: #1922726\n\nChange-Id: Ia044eb5522d09df7640ff375bd558eba8679a180\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\n'}, {'number': 25, 'created': '2021-07-09 12:09:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/3f63cef8f782be758d310f5f8dd9b9b9f167a560', 'message': 'Tests verifying functionality of callbacks...\n\nalong with related infrastructure, such as RunnerConfig.\n\nNow adjusted for py36.\nAfter rebase expects absolute path for inventory.\n\nCloses-Bug: #1922726\n\nChange-Id: Ia044eb5522d09df7640ff375bd558eba8679a180\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\n'}, {'number': 26, 'created': '2021-07-09 13:13:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/506dccb23204e08cb309cff03e61993e263ea7b7', 'message': 'Tests verifying functionality of callbacks...\n\nalong with related infrastructure, such as RunnerConfig.\n\nNow adjusted for py36.\nAfter rebase expects absolute path for inventory.\n\nCloses-Bug: #1922726\n\nChange-Id: Ia044eb5522d09df7640ff375bd558eba8679a180\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\n'}, {'number': 27, 'created': '2021-08-30 11:12:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/451d6b8e9d6a299ddfe76323b86604a74a536f2b', 'message': 'Tests verifying functionality of callbacks...\n\nalong with related infrastructure, such as RunnerConfig.\n\nNow adjusted for py36.\nAfter rebase expects absolute path for inventory.\n\nCloses-Bug: #1922726\n\nChange-Id: Ia044eb5522d09df7640ff375bd558eba8679a180\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\n'}, {'number': 28, 'created': '2022-04-07 07:49:48.000000000', 'files': ['validations_libs/tests/test_ansible.py'], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/c7d94d4fbcdb7d929035ded2380ea777dff9cb0d', 'message': 'Tests verifying functionality of callbacks...\n\nalong with related infrastructure, such as RunnerConfig.\n\nNow adjusted for py36.\nAfter rebase expects absolute path for inventory.\n\nCloses-Bug: #1922726\n\nChange-Id: Ia044eb5522d09df7640ff375bd558eba8679a180\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\n'}]",152,771438,c7d94d4fbcdb7d929035ded2380ea777dff9cb0d,93,7,28,32926,,,0,"Tests verifying functionality of callbacks...

along with related infrastructure, such as RunnerConfig.

Now adjusted for py36.
After rebase expects absolute path for inventory.

Closes-Bug: #1922726

Change-Id: Ia044eb5522d09df7640ff375bd558eba8679a180
Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
",git fetch https://review.opendev.org/openstack/validations-libs refs/changes/38/771438/7 && git format-patch -1 --stdout FETCH_HEAD,['validations_libs/tests/test_ansible.py'],1,aaa95a125d2c081787c2c511e5c9195507248d7c,change-771438-22,"from subprocess import Popen self.standard_whitelist = 'validation_json,profile_tasks' self.whitelist_extension = 'log_plays,mail' self.fakecallback_a = 'fake.py' self.fakecallback_b = 'fake_callback.py' self.extended_whitelist = ','.join( [ self.whitelist_extension, self.fakecallback_a, self.fakecallback_b, self.standard_whitelist ] ) mock_config.assert_called_once_with(**opt) @mock.patch('six.moves.builtins.open') @mock.patch('os.path.exists', return_value=True) @mock.patch('os.makedirs') @mock.patch.object(Runner, 'run', return_value=fakes.fake_ansible_runner_run_return(rc=0)) @mock.patch('ansible_runner.utils.dump_artifact', autospec=True, return_value=""/foo/inventory.yaml"") @mock.patch('ansible_runner.runner_config.RunnerConfig') @mock.patch('validations_libs.ansible.Ansible._ansible_env_var', return_value={'ANSIBLE_STDOUT_CALLBACK': 'fake.py'}) @mock.patch('os.environ.copy', return_value={}) def test_run_no_log_path(self, mock_env, mock_env_var, mock_config, mock_dump_artifact, mock_run, mock_mkdirs, mock_exists, mock_open): _playbook, _rc, _status = self.run.run( playbook='existing.yaml', inventory='localhost,', workdir='/tmp' ) opt = { 'artifact_dir': '/tmp', 'extravars': {}, 'ident': '', 'inventory': 'localhost,', 'playbook': 'existing.yaml', 'private_data_dir': '/tmp', 'quiet': False, 'rotate_artifacts': 256, 'verbosity': 0} if not backward_compat: opt.update({ 'envvars': { 'ANSIBLE_STDOUT_CALLBACK': 'fake.py', 'ANSIBLE_CONFIG': '/var/log/validations//artifacts/ansible.cfg'}, 'project_dir': '/tmp', 'fact_cache': '/var/log/validations//artifacts/', 'fact_cache_type': 'jsonfile' }) mock_config.assert_called_once_with(**opt) @mock.patch('six.moves.builtins.open') @mock.patch('os.path.exists', return_value=True) @mock.patch('os.makedirs') @mock.patch.object(Runner, 'run', return_value=fakes.fake_ansible_runner_run_return(rc=0)) @mock.patch('ansible_runner.utils.dump_artifact', autospec=True, return_value=""/foo/inventory.yaml"") @mock.patch('ansible_runner.runner_config.RunnerConfig') @mock.patch('validations_libs.ansible.Ansible._ansible_env_var', return_value={'ANSIBLE_STDOUT_CALLBACK': 'fake.py'}) @mock.patch('os.environ.copy', return_value={}) def test_run_tags(self, mock_env, mock_env_var, mock_config, mock_dump_artifact, mock_run, mock_mkdirs, mock_exists, mock_open): tags = ','.join(['master', 'train', 'fake']) _playbook, _rc, _status = self.run.run( playbook='existing.yaml', inventory='localhost,', workdir='/tmp', log_path='/tmp/foo', tags=tags ) opt = { 'artifact_dir': '/tmp', 'extravars': {}, 'ident': '', 'inventory': 'localhost,', 'playbook': 'existing.yaml', 'private_data_dir': '/tmp', 'quiet': False, 'rotate_artifacts': 256, 'verbosity': 0, 'tags': tags} if not backward_compat: opt.update({ 'envvars': { 'ANSIBLE_STDOUT_CALLBACK': 'fake.py', 'ANSIBLE_CONFIG': '/tmp/foo/artifacts/ansible.cfg', 'VALIDATIONS_LOG_DIR': '/tmp/foo'}, 'project_dir': '/tmp', 'fact_cache': '/tmp/foo/artifacts/', 'fact_cache_type': 'jsonfile' }) mock_config.assert_called_once_with(**opt) @mock.patch('six.moves.builtins.open') @mock.patch('os.path.exists', return_value=True) @mock.patch('os.makedirs') @mock.patch.object(Runner, 'run', return_value=fakes.fake_ansible_runner_run_return(rc=0)) @mock.patch('ansible_runner.runner_config.RunnerConfig') @mock.patch('validations_libs.ansible.Ansible._ansible_env_var', return_value={ 'ANSIBLE_STDOUT_CALLBACK': 'fake.py', 'ANSIBLE_CALLBACK_WHITELIST': 'fake.py,log_plays,mail' }) @mock.patch('os.environ.copy', return_value={}) def test_run_callback_whitelist_extend( self, mock_env, mock_env_var, mock_config, mock_run, mock_mkdirs, mock_exists, mock_open): _playbook, _rc, _status = self.run.run( playbook='existing.yaml', inventory='localhost,', workdir='/tmp', log_path='/tmp/foo', output_callback=self.fakecallback_a, callback_whitelist=self.whitelist_extension ) args = ( self.fakecallback_a, 'root', '/tmp', 'smart', 'smart', None, None, None, 30, self.whitelist_extension+','+self.fakecallback_a+',validation_json,profile_tasks', '/usr/share/ansible/', None ) mock_env_var.assert_called_once_with(*args) @mock.patch('six.moves.builtins.open') @mock.patch('os.path.exists', return_value=True) @mock.patch('os.makedirs') @mock.patch.object(Runner, 'run', return_value=fakes.fake_ansible_runner_run_return(rc=0)) @mock.patch('ansible_runner.runner_config.RunnerConfig') @mock.patch('validations_libs.ansible.Ansible._ansible_env_var', return_value={ 'ANSIBLE_STDOUT_CALLBACK': 'fake.py', 'ANSIBLE_CALLBACK_WHITELIST': 'fake.py' }) @mock.patch( 'validations_libs.ansible.Ansible._callbacks', return_value=( 'fake.py,validation_json,profile_tasks', 'fake.py') ) @mock.patch('os.environ.copy', return_value={}) def test_run_callback_whitelist_none( self, mock_env, mock_callbacks, mock_env_var, mock_config, mock_run, mock_mkdirs, mock_exists, mock_open): _playbook, _rc, _status = self.run.run( playbook='existing.yaml', inventory='localhost,', workdir='/tmp', log_path='/tmp/foo', output_callback=self.fakecallback_a ) args = ( self.fakecallback_a, 'root', '/tmp', 'smart', 'smart', None, None, None, 30, self.fakecallback_a+',validation_json,profile_tasks', '/usr/share/ansible/', None ) mock_env_var.assert_called_once_with(*args)", mock_config.assert_called_with(**opt),207,2
openstack%2Fpuppet-ceph~stable%2Fjewel~Ic17d324b975ae4fd1649f82c2fd26dd08b4e1768,openstack/puppet-ceph,stable/jewel,Ic17d324b975ae4fd1649f82c2fd26dd08b4e1768,Prepare the final release of stable/jewel,MERGED,2022-04-20 04:33:49.000000000,2022-04-21 14:52:30.000000000,2022-04-21 14:52:30.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-20 04:33:49.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/5f11b412c95d9f6e86e28dc8d3e956ed7bb15b72', 'message': 'Prepare the final release of stable/jewel\n\nJewel is quite old and is no longer used in our CI. To retire the old\nbranch, the final release will be created.\n\nBecause this version has several new features since the last release,\nideally we should bump minor version. However unfortunately 2.5.0 is\nalready assigned, so this bumps the patch version instead.\n\nChange-Id: Ic17d324b975ae4fd1649f82c2fd26dd08b4e1768\n'}]",0,838630,5f11b412c95d9f6e86e28dc8d3e956ed7bb15b72,7,3,1,9816,,,0,"Prepare the final release of stable/jewel

Jewel is quite old and is no longer used in our CI. To retire the old
branch, the final release will be created.

Because this version has several new features since the last release,
ideally we should bump minor version. However unfortunately 2.5.0 is
already assigned, so this bumps the patch version instead.

Change-Id: Ic17d324b975ae4fd1649f82c2fd26dd08b4e1768
",git fetch https://review.opendev.org/openstack/puppet-ceph refs/changes/30/838630/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,5f11b412c95d9f6e86e28dc8d3e956ed7bb15b72,," ""version"": ""2.4.3"","," ""version"": ""2.4.2"",",1,1
openstack%2Fpuppet-ceph~master~Icf77eb718ae6e71f1c65919236ab49d183512208,openstack/puppet-ceph,master,Icf77eb718ae6e71f1c65919236ab49d183512208,Release 3.2.1,MERGED,2022-04-20 04:00:29.000000000,2022-04-21 14:52:01.000000000,2022-04-21 14:52:01.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-20 04:00:29.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/b0c34c799eef052f005d78a41611080c0c3294fa', 'message': 'Release 3.2.1\n\n... to cut off the stable/nautilus branch.\n\nChange-Id: Icf77eb718ae6e71f1c65919236ab49d183512208\n'}]",0,838627,b0c34c799eef052f005d78a41611080c0c3294fa,7,3,1,9816,,,0,"Release 3.2.1

... to cut off the stable/nautilus branch.

Change-Id: Icf77eb718ae6e71f1c65919236ab49d183512208
",git fetch https://review.opendev.org/openstack/puppet-ceph refs/changes/27/838627/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,b0c34c799eef052f005d78a41611080c0c3294fa,nautilus," ""version"": ""3.2.1"","," ""version"": ""3.2.0"",",1,1
openstack%2Fpuppet-ceph~master~Id66bc5e4ad781a0047420c78f36a43de12fa387d,openstack/puppet-ceph,master,Id66bc5e4ad781a0047420c78f36a43de12fa387d,Add back CentOS/RHEL 7 to supported operating systems,MERGED,2022-04-20 04:00:29.000000000,2022-04-21 14:51:59.000000000,2022-04-21 14:51:59.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-20 04:00:29.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/379aacd2e8a03cf953d00a41995ddbcc8eb102da', 'message': 'Add back CentOS/RHEL 7 to supported operating systems\n\nThis change adds back CentOS 7 and RHEL 7 to supported operating\nsystems, because these operating systems support Ceph Nautilus.\nThis change will be reverted once stable/nautilus branch is cut off.\n\nChange-Id: Id66bc5e4ad781a0047420c78f36a43de12fa387d\n'}]",0,838626,379aacd2e8a03cf953d00a41995ddbcc8eb102da,7,3,1,9816,,,0,"Add back CentOS/RHEL 7 to supported operating systems

This change adds back CentOS 7 and RHEL 7 to supported operating
systems, because these operating systems support Ceph Nautilus.
This change will be reverted once stable/nautilus branch is cut off.

Change-Id: Id66bc5e4ad781a0047420c78f36a43de12fa387d
",git fetch https://review.opendev.org/openstack/puppet-ceph refs/changes/26/838626/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,379aacd2e8a03cf953d00a41995ddbcc8eb102da,nautilus," ""7"", ""7"",",,2,0
openstack%2Fkolla-ansible~master~If26e2023d2840a0a5bcc16916f49271dc7b6908b,openstack/kolla-ansible,master,If26e2023d2840a0a5bcc16916f49271dc7b6908b,[DNM] Test swift jobs,ABANDONED,2022-04-21 12:48:27.000000000,2022-04-21 14:35:27.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-04-21 12:48:27.000000000', 'files': ['zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/389431be3de3e2b00b5a5fb9f559dc8ae8be91fd', 'message': '[DNM] Test swift jobs\n\nChange-Id: If26e2023d2840a0a5bcc16916f49271dc7b6908b\n'}]",0,838862,389431be3de3e2b00b5a5fb9f559dc8ae8be91fd,3,1,1,30491,,,0,"[DNM] Test swift jobs

Change-Id: If26e2023d2840a0a5bcc16916f49271dc7b6908b
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/62/838862/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/jobs.yaml'],1,389431be3de3e2b00b5a5fb9f559dc8ae8be91fd,ci-always-use-quay.io, testme: yeah testme: yeah,,2,0
openstack%2Ftrove-dashboard~stable%2Fyoga~I7da457f3a4fccb251288ac8b51df40a25a7e6e4a,openstack/trove-dashboard,stable/yoga,I7da457f3a4fccb251288ac8b51df40a25a7e6e4a,Works around a failure to load openstack dashboard,MERGED,2022-04-20 15:12:56.000000000,2022-04-21 14:35:09.000000000,2022-04-21 14:30:37.000000000,"[{'_account_id': 22348}, {'_account_id': 26285}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-04-20 15:12:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove-dashboard/commit/426502e72a873b32f685c69f232192107131ea41', 'message': 'Works around a failure to load openstack dashboard\n\nThis hack enables to load dashboard correctly by using django based\nimplementation that is used in xena. Ideally, we should use angular\nbased implementation like horizon, but I propose this workaround\nfirstly because the current problem is really painful for us to\ndevelop Trove server side without dashboard.\n\nTask: 44413\nStory: 2009825\nChange-Id: I7da457f3a4fccb251288ac8b51df40a25a7e6e4a\n(cherry picked from commit 61a751d0acac1b7bb95c83f5c36fd96cdfb2ed56)\n'}, {'number': 2, 'created': '2022-04-21 14:07:44.000000000', 'files': ['trove_dashboard/content/databases/workflows/create_instance.py', 'trove_dashboard/content/databases/tests.py', 'trove_dashboard/content/databases/templates/databases/_launch_instances_network_help.html', 'trove_dashboard/content/databases/templates/databases/_update_networks.html', 'trove_dashboard/content/database_backups/tests.py'], 'web_link': 'https://opendev.org/openstack/trove-dashboard/commit/93a7fadbe1e9c867061dc35be5423e0317e971ab', 'message': 'Works around a failure to load openstack dashboard\n\nThis hack enables to load dashboard correctly by using django based\nimplementation that is used in xena. Ideally, we should use angular\nbased implementation like horizon, but I propose this workaround\nfirstly because the current problem is really painful for us to\ndevelop Trove server side without dashboard.\n\nTask: 44413\nStory: 2009825\nChange-Id: I7da457f3a4fccb251288ac8b51df40a25a7e6e4a\n(cherry picked from commit 61a751d0acac1b7bb95c83f5c36fd96cdfb2ed56)\n'}]",3,838700,93a7fadbe1e9c867061dc35be5423e0317e971ab,11,3,2,30491,,,0,"Works around a failure to load openstack dashboard

This hack enables to load dashboard correctly by using django based
implementation that is used in xena. Ideally, we should use angular
based implementation like horizon, but I propose this workaround
firstly because the current problem is really painful for us to
develop Trove server side without dashboard.

Task: 44413
Story: 2009825
Change-Id: I7da457f3a4fccb251288ac8b51df40a25a7e6e4a
(cherry picked from commit 61a751d0acac1b7bb95c83f5c36fd96cdfb2ed56)
",git fetch https://review.opendev.org/openstack/trove-dashboard refs/changes/00/838700/1 && git format-patch -1 --stdout FETCH_HEAD,"['trove_dashboard/content/databases/workflows/create_instance.py', 'trove_dashboard/content/databases/templates/databases/_launch_instances_network_help.html', 'trove_dashboard/content/databases/templates/databases/_update_networks.html']",3,426502e72a873b32f685c69f232192107131ea41,bug/2009825-stable/yoga,"{% load i18n %} <noscript><h3>{{ step }}</h3></noscript> <div id=""networkListSortContainer"" class=""sort-container""> <div class=""col-sm-6""> <label id=""selected_network_label"">{% trans ""Selected networks"" %}</label> <ul id=""selected_network"" class=""networklist box-list""></ul> <label>{% trans ""Available networks"" %}</label> <ul id=""available_network"" class=""networklist box-list""></ul> </div> <div class=""col-sm-6""> {% include ""project/databases/_launch_instances_network_help.html"" %} </div> </div> <div id=""networkListIdContainer""> <div class=""actions""> <div id=""networkListId""> {% include ""horizon/common/_form_fields.html"" %} </div> </div> <div class=""help_text""> {{ step.get_help_text }} </div> </div> <script> if (typeof $ !== 'undefined') { horizon.instances.workflow_init($("".workflow"")); } else { addHorizonLoadEvent(function() { horizon.instances.workflow_init($("".workflow"")); }); } </script> ",,85,4
openstack%2Fansible-collection-kolla~stable%2Fyoga~Ie7025342ff0c1a052ccbd449e278bc5d3424a0bf,openstack/ansible-collection-kolla,stable/yoga,Ie7025342ff0c1a052ccbd449e278bc5d3424a0bf,Adjust iscsi package removal on Red Hat hosts.,MERGED,2022-04-21 11:50:49.000000000,2022-04-21 14:29:24.000000000,2022-04-21 14:26:53.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 29771}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-04-21 11:50:49.000000000', 'files': ['roles/baremetal/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/ansible-collection-kolla/commit/85fde10d2ffcc7daf692b75493590b5da295d29e', 'message': 'Adjust iscsi package removal on Red Hat hosts.\n\nThe host libvirt package should only be removed when the nova-libvirt\ncontainer is enabled. But, removal of iscsi-initiator-utils also causes\nlibvirt to be uninstalled because of its dependency on\nlibvirt-daemon-driver-storage-iscsi.\n\nThis modification prevents iscsi-initiator-utils from being removed\nwhen nova-libvirt is disabled.\n\nChange-Id: Ie7025342ff0c1a052ccbd449e278bc5d3424a0bf\n(cherry picked from commit cefaf5df13d2f7fbdbec2f3ec00a26878a33b1c2)\n'}]",0,838708,85fde10d2ffcc7daf692b75493590b5da295d29e,9,4,1,30491,,,0,"Adjust iscsi package removal on Red Hat hosts.

The host libvirt package should only be removed when the nova-libvirt
container is enabled. But, removal of iscsi-initiator-utils also causes
libvirt to be uninstalled because of its dependency on
libvirt-daemon-driver-storage-iscsi.

This modification prevents iscsi-initiator-utils from being removed
when nova-libvirt is disabled.

Change-Id: Ie7025342ff0c1a052ccbd449e278bc5d3424a0bf
(cherry picked from commit cefaf5df13d2f7fbdbec2f3ec00a26878a33b1c2)
",git fetch https://review.opendev.org/openstack/ansible-collection-kolla refs/changes/08/838708/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/baremetal/defaults/main.yml'],1,85fde10d2ffcc7daf692b75493590b5da295d29e,," - ""{% if enable_nova_libvirt_container | bool %}iscsi-initiator-utils{% endif %}""", - iscsi-initiator-utils,1,1
openstack%2Ftrove-dashboard~stable%2Fyoga~I20dad437b243bd71b017fc876de9fe84b654ee65,openstack/trove-dashboard,stable/yoga,I20dad437b243bd71b017fc876de9fe84b654ee65,Fix Unit tests for trove-dashboard,ABANDONED,2022-04-21 12:26:56.000000000,2022-04-21 14:23:26.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-04-21 12:26:56.000000000', 'files': ['trove_dashboard/content/databases/tests.py', 'trove_dashboard/content/database_backups/tests.py'], 'web_link': 'https://opendev.org/openstack/trove-dashboard/commit/d13de7517b0b5bc5cf845af36452ee158ef829c6', 'message': ""Fix Unit tests for trove-dashboard\n\nAfter 196de449b6 merged in openstack/horizon few trove-dashboard\nunit tests start failing. This patch updates those unit tests to\nnot depend on the internal implementation of the horizon\nnetwork_list_for_tenant function[1]. So any change in horizon won't\nbreak these tests again.\n\n[1] https://github.com/openstack/horizon/blob/master/openstack_dashboard/api/neutron.py#L1397\n\nChange-Id: I20dad437b243bd71b017fc876de9fe84b654ee65\n(cherry picked from commit 751974bddb974e8be0cfe87b5a2070d71e597ed1)\n""}]",0,838709,d13de7517b0b5bc5cf845af36452ee158ef829c6,3,1,1,26285,,,0,"Fix Unit tests for trove-dashboard

After 196de449b6 merged in openstack/horizon few trove-dashboard
unit tests start failing. This patch updates those unit tests to
not depend on the internal implementation of the horizon
network_list_for_tenant function[1]. So any change in horizon won't
break these tests again.

[1] https://github.com/openstack/horizon/blob/master/openstack_dashboard/api/neutron.py#L1397

Change-Id: I20dad437b243bd71b017fc876de9fe84b654ee65
(cherry picked from commit 751974bddb974e8be0cfe87b5a2070d71e597ed1)
",git fetch https://review.opendev.org/openstack/trove-dashboard refs/changes/09/838709/1 && git format-patch -1 --stdout FETCH_HEAD,"['trove_dashboard/content/databases/tests.py', 'trove_dashboard/content/database_backups/tests.py']",2,d13de7517b0b5bc5cf845af36452ee158ef829c6,," dash_api.neutron: ('network_list_for_tenant',), self.mock_network_list_for_tenant.return_value = ( self.networks.list()[:1]) self.mock_network_list_for_tenant.assert_called_once_with( test.IsHttpRequest(), self.tenant.id, include_pre_auto_allocate=True)"," dash_api.neutron: ('network_list',), self.mock_network_list.return_value = self.networks.list()[:1] self.mock_network_list.assert_any_call( test.IsHttpRequest(), tenant_id=self.tenant.id, shared=False)",26,36
openstack%2Ftripleo-ci~master~Id5deeff5cf3e789d9b087a6c22e15557f39533f7,openstack/tripleo-ci,master,Id5deeff5cf3e789d9b087a6c22e15557f39533f7,Introduce deployed_ceph boolean to standalone jobs,ABANDONED,2022-04-21 13:35:53.000000000,2022-04-21 13:58:23.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-04-21 13:35:53.000000000', 'files': ['zuul.d/standalone-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/8763728d8d7be69f4d5ad2a9d1a5dd112657e417', 'message': 'Introduce deployed_ceph boolean to standalone jobs\n\nUpdate tripleo-ci-centos-9-scenario001-standalone to have\nthe new boolean deployed_ceph. When 001 is stable this may\nbe added to other jobs which use Ceph (e.g. 004 or 010).\n\nChange-Id: Id5deeff5cf3e789d9b087a6c22e15557f39533f7\n'}]",1,838892,8763728d8d7be69f4d5ad2a9d1a5dd112657e417,3,1,1,18002,,,0,"Introduce deployed_ceph boolean to standalone jobs

Update tripleo-ci-centos-9-scenario001-standalone to have
the new boolean deployed_ceph. When 001 is stable this may
be added to other jobs which use Ceph (e.g. 004 or 010).

Change-Id: Id5deeff5cf3e789d9b087a6c22e15557f39533f7
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/92/838892/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/standalone-jobs.yaml'],1,8763728d8d7be69f4d5ad2a9d1a5dd112657e417,deployed_ceph, deployed_ceph: true,,1,0
openstack%2Fdiskimage-builder~master~I01747e96215cfb2e8648e168f823344bcdbcb4e7,openstack/diskimage-builder,master,I01747e96215cfb2e8648e168f823344bcdbcb4e7,Update gentoo python version to 3.9,MERGED,2022-04-03 03:29:07.000000000,2022-04-21 13:58:08.000000000,2022-04-21 13:56:25.000000000,"[{'_account_id': 7118}, {'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-03 03:29:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/e9e99ef4fdd3ca3d22f065a69a47139666a60a28', 'message': 'Test updating gentoo python version\n\nChange-Id: I01747e96215cfb2e8648e168f823344bcdbcb4e7\n'}, {'number': 2, 'created': '2022-04-12 07:27:21.000000000', 'files': ['diskimage_builder/elements/gentoo/environment.d/00-gentoo-envars.bash'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/4b565f1ddb42ca882c288aa5af7871d8d336c6a5', 'message': 'Update gentoo python version to 3.9\n\nSeems gentoo has updated their defaults so builds are failing with\npy3.8.\n\nChange-Id: I01747e96215cfb2e8648e168f823344bcdbcb4e7\n'}]",3,836237,4b565f1ddb42ca882c288aa5af7871d8d336c6a5,26,3,2,13252,,,0,"Update gentoo python version to 3.9

Seems gentoo has updated their defaults so builds are failing with
py3.8.

Change-Id: I01747e96215cfb2e8648e168f823344bcdbcb4e7
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/37/836237/1 && git format-patch -1 --stdout FETCH_HEAD,"['diskimage_builder/elements/gentoo/environment.d/00-gentoo-envars.bash', '.zuul.d/project.yaml']",2,e9e99ef4fdd3ca3d22f065a69a47139666a60a28,test-gentoo-python,, templates: - openstack-cover-jobs - check-requirements - openstack-lower-constraints-jobs - release-notes-jobs # NOTE(ianw): 2020-05-29 jobs are unstable; see # https://bugs.launchpad.net/tripleo/+bug/1879766 - tripleo-buildimage-jobs-centos-8 - openstack-python3-wallaby-jobs - dib-nodepool-functional-openstack-centos-7-src - dib-nodepool-functional-openstack-centos-8-stream-src - dib-nodepool-functional-openstack-centos-9-stream-src - dib-nodepool-functional-openstack-fedora-35-containerfile-src - dib-nodepool-functional-openstack-rockylinux-8-containerfile-src: voting: false - dib-nodepool-functional-openstack-ubuntu-xenial-src - dib-nodepool-functional-openstack-ubuntu-bionic-src - dib-nodepool-functional-openstack-ubuntu-focal-src # NOTE(ianw): 2020-04-22 these have been out of the gate for a # while; promote to voting after some stability. - dib-nodepool-functional-openstack-opensuse-15-src: voting: false - dib-nodepool-functional-openstack-opensuse-tumbleweed-src: voting: false - dib-nodepool-functional-openstack-debian-bullseye-src: voting: false - ironic-python-agent-check-image-dib-centos8 # IPA job that builds AND validates an image via deployment - ipa-tempest-bios-ipmi-direct-src: voting: false check-arm64: jobs: - dib-functests-arm64-deb - dib-functests-arm64-rpm,1,35
openstack%2Fbarbican-ui~master~I8d31c5ea846f7e7afa0b485c25d3527fd6e8e76f,openstack/barbican-ui,master,I8d31c5ea846f7e7afa0b485c25d3527fd6e8e76f,Remove unnecessary unicode prefixes,NEW,2022-04-20 11:05:53.000000000,2022-04-21 13:53:30.000000000,,"[{'_account_id': 22348}, {'_account_id': 31245}]","[{'number': 1, 'created': '2022-04-20 11:05:53.000000000', 'files': ['doc/source/conf.py', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/barbican-ui/commit/33287a51343b1309ed3cd53b52cb1b93113dccdc', 'message': 'Remove unnecessary unicode prefixes\n\nChange-Id: I8d31c5ea846f7e7afa0b485c25d3527fd6e8e76f\n'}]",0,838689,33287a51343b1309ed3cd53b52cb1b93113dccdc,3,2,1,28522,,,0,"Remove unnecessary unicode prefixes

Change-Id: I8d31c5ea846f7e7afa0b485c25d3527fd6e8e76f
",git fetch https://review.opendev.org/openstack/barbican-ui refs/changes/89/838689/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/conf.py', 'releasenotes/source/conf.py']",2,33287a51343b1309ed3cd53b52cb1b93113dccdc,remove-unicode,"project = 'Barbican UI Release Notes' copyright = '2017, OpenStack Foundation' 'Barbican UI Release Notes Documentation', 'Barbican UI Developers', ('index', 'barbican_uireleasenotes', 'Barbican UI Release Notes Documentation', ['Barbican UI Developers'], 1) ('index', 'Barbican-UIReleaseNotes', 'Barbican UI Release Notes Documentation', 'Barbican UI Developers', 'Barbican-UIReleaseNotes',","project = u'Barbican UI Release Notes' copyright = u'2017, OpenStack Foundation' u'Barbican UI Release Notes Documentation', u'Barbican UI Developers', ('index', 'barbican_uireleasenotes', u'Barbican UI Release Notes Documentation', [u'Barbican UI Developers'], 1) ('index', 'Barbican-UIReleaseNotes', u'Barbican UI Release Notes Documentation', u'Barbican UI Developers', 'Barbican-UIReleaseNotes',",19,19
openstack%2Fsahara~master~I89aff35352406c0895d379ef6548b406572d076d,openstack/sahara,master,I89aff35352406c0895d379ef6548b406572d076d,tests: Remove use of 'oslo_db.sqlalchemy.test_base',MERGED,2022-04-14 22:02:57.000000000,2022-04-21 13:52:20.000000000,2022-04-21 13:49:59.000000000,"[{'_account_id': 10459}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 23078}, {'_account_id': 30077}, {'_account_id': 31412}, {'_account_id': 33353}, {'_account_id': 34375}]","[{'number': 1, 'created': '2022-04-14 22:02:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/37144b3720dc8a911e24c4f9a0e130de48d8d837', 'message': 'tests: Remove use of \'oslo_db.sqlalchemy.test_base\'\n\nIt has been reported that ""the various test cases and mixins\nin \'oslo_db.sqlalchemy.test_base\' have been deprecated since\noslo.db 4.34.0 (March 2018)."" so migrate to a more stable\nand supported solution.\n\nChange-Id: I89aff35352406c0895d379ef6548b406572d076d\n'}, {'number': 2, 'created': '2022-04-15 15:19:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/58813ab0865f8c1d367c60dbef853ea18cd80d65', 'message': 'tests: Remove use of \'oslo_db.sqlalchemy.test_base\'\n\nIt has been reported that ""the various test cases and mixins\nin \'oslo_db.sqlalchemy.test_base\' have been deprecated since\noslo.db 4.34.0 (March 2018)."" so migrate to a more stable\nand supported solution.\n\nChange-Id: I89aff35352406c0895d379ef6548b406572d076d\n'}, {'number': 3, 'created': '2022-04-19 11:15:47.000000000', 'files': ['sahara/tests/unit/db/migration/test_migrations.py'], 'web_link': 'https://opendev.org/openstack/sahara/commit/2627d3433b61d78c46ecd812739fab7534c73ea5', 'message': 'tests: Remove use of \'oslo_db.sqlalchemy.test_base\'\n\nIt has been reported that ""the various test cases and mixins\nin \'oslo_db.sqlalchemy.test_base\' have been deprecated since\noslo.db 4.34.0 (March 2018)."" so migrate to a more stable\nand supported solution.\n\nChange-Id: I89aff35352406c0895d379ef6548b406572d076d\n'}]",8,838046,2627d3433b61d78c46ecd812739fab7534c73ea5,17,8,3,10459,,,0,"tests: Remove use of 'oslo_db.sqlalchemy.test_base'

It has been reported that ""the various test cases and mixins
in 'oslo_db.sqlalchemy.test_base' have been deprecated since
oslo.db 4.34.0 (March 2018)."" so migrate to a more stable
and supported solution.

Change-Id: I89aff35352406c0895d379ef6548b406572d076d
",git fetch https://review.opendev.org/openstack/sahara refs/changes/46/838046/3 && git format-patch -1 --stdout FETCH_HEAD,['sahara/tests/unit/db/migration/test_migrations.py'],1,37144b3720dc8a911e24c4f9a0e130de48d8d837,cleanup-oslodb-test_base,"from oslo_db.sqlalchemy import test_fixturesfrom oslotest import base as test_base test_fixtures.OpportunisticDBTestMixin, test_base.BaseTestCase): FIXTURE = test_fixtures.MySQLOpportunisticFixture test_fixtures.OpportunisticDBTestMixin, test_base.BaseTestCase): FIXTURE = test_fixtures.PostgresqlOpportunisticFixture",from oslo_db.sqlalchemy import test_base test_base.MySQLOpportunisticTestCase): pass test_base.PostgreSQLOpportunisticTestCase): pass,8,5
openstack%2Ftripleo-quickstart~master~I80b7193838787475e12f93d3d0439d01e4ff3f28,openstack/tripleo-quickstart,master,I80b7193838787475e12f93d3d0439d01e4ff3f28,Add release config for CloudSIG yoga on CentOS 8,MERGED,2022-04-19 10:01:21.000000000,2022-04-21 13:50:04.000000000,2022-04-21 13:46:14.000000000,"[{'_account_id': 8449}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-04-19 10:01:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/dcb5c50bbd20718ae822530860c65491846087b7', 'message': ""Add release config for CloudSIG yoga on CentOS 8\n\nIt's needed to run CI jobs on RDO Yoga CloudSIG repo.\n\nChange-Id: I80b7193838787475e12f93d3d0439d01e4ff3f28\n""}, {'number': 2, 'created': '2022-04-20 13:11:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/edd79ab7d1ec725572f7703a7bc099dd56a607d2', 'message': ""Add release config for CloudSIG yoga on CentOS 8\n\nIt's needed to run CI jobs on RDO Yoga CloudSIG repo.\n\nChange-Id: I80b7193838787475e12f93d3d0439d01e4ff3f28\n""}, {'number': 3, 'created': '2022-04-20 14:53:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/2fa3265a1a156c50dd5fddd8407d646b56519165', 'message': ""Add release config for CloudSIG yoga on CentOS 8\n\nIt's needed to run CI jobs on RDO Yoga CloudSIG repo.\n\nChange-Id: I80b7193838787475e12f93d3d0439d01e4ff3f28\n""}, {'number': 4, 'created': '2022-04-20 16:24:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/cf0345f7a802edf677f34e073762380a475284e3', 'message': ""Add release config for CloudSIG yoga on CentOS 8\n\nIt's needed to run CI jobs on RDO Yoga CloudSIG repo.\n\nChange-Id: I80b7193838787475e12f93d3d0439d01e4ff3f28\n""}, {'number': 5, 'created': '2022-04-21 07:43:20.000000000', 'files': ['config/release/tripleo-ci/CentOS-8/cloudsig/yoga.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/4a7f12638216d29c28af4b77a7b12a24f6135791', 'message': ""Add release config for CloudSIG yoga on CentOS 8\n\nIt's needed to run CI jobs on RDO Yoga CloudSIG repo.\n\nChange-Id: I80b7193838787475e12f93d3d0439d01e4ff3f28\n""}]",4,838463,4a7f12638216d29c28af4b77a7b12a24f6135791,31,4,5,16312,,,0,"Add release config for CloudSIG yoga on CentOS 8

It's needed to run CI jobs on RDO Yoga CloudSIG repo.

Change-Id: I80b7193838787475e12f93d3d0439d01e4ff3f28
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/63/838463/5 && git format-patch -1 --stdout FETCH_HEAD,['config/release/tripleo-ci/CentOS-8/cloudsig/yoga.yml'],1,dcb5c50bbd20718ae822530860c65491846087b7,yoga-cs8,"# rdoinfo configs artg_skipped_projects: - rdoinfo update_containers: false docker_registry_host: >- {% if job is defined and job.build_container_images is defined and job.build_container_images|default(false)|bool or build_container_images|default(false)|bool -%} 127.0.0.1:5001 {%- elif job.consumer_job | default(false) | bool -%} {{ job.registry_ip_address_branch[release] }}:5001 {%- else -%} {{ job.alt_container_registry|default('quay.io') }} {%- endif -%} standalone_container_prep_updates: false # name and tags devmode: true overcloud_as_undercloud: true release: yoga distro_ver: centos8 distro_deps_repo_name: deps dlrn_hash_tag: current-tripleo-rdo dlrn_hash_tag_newest: current docker_registry_namespace: ""tripleo{{ release }}"" docker_image_tag: ""cloudsig-{{ release }}"" docker_openshift_tag: v3.11.0 promote_source: current-tripleo-rdo validate_on: rdo # images images: - name: overcloud-full url: ""{{ overcloud_image_url }}"" type: tar - name: ipa_images url: ""{{ ipa_image_url }}"" type: tar dlrn_baseurl: ""https://trunk.rdoproject.org/{{ distro_ver }}-{{ release }}"" overcloud_image_url: ""https://images.rdoproject.org/{{ distro_ver }}/{{ release }}/rdo_trunk/{{ promote_source }}/overcloud-full.tar"" ipa_image_url: ""https://images.rdoproject.org/{{ distro_ver }}/{{ release }}/rdo_trunk/{{ promote_source }}/ironic-python-agent.tar"" # NOTE(dviroel): centos-opstools repo is needed for building # collectd containers, otherwise keep the current value. enable_dlrn_deps_opstools: >- {% if job is defined and job.build_container_images is defined and job.build_container_images|default(false)|bool or build_container_images|default(false)|bool -%} {{ true|bool }} {%- else -%} {{ enable_opstools_repo|default(false)|bool }} {%- endif -%} # repo setup repo_cmd_before: | sudo rm -rf /etc/yum.repos.d/delorean*; sudo rm -rf /etc/yum.repos.d/*.rpmsave; sudo rm -rf /etc/yum.repos.d/epel*; sudo dnf remove -y rdo-release centos-release-ceph-* centos-release-openstack-* centos-release-qemu-ev || true; sudo rm -rf /etc/yum.repos.d/CentOS-OpenStack-*.repo /etc/yum.repos.d/CentOS-Ceph-*.repo /etc/yum.repos.d/CentOS-QEMU-EV.repo; sudo dnf clean all; sudo dnf config-manager --disable ""*"" || true; if [ -e /etc/ci/mirror_info.sh ]; then source /etc/ci/mirror_info.sh else # Otherwise, fallback to official mirrors provided by CentOS. export NODEPOOL_CENTOS_MIRROR={{ lookup('env','NODEPOOL_CENTOS_MIRROR')|default('http://mirror.centos.org/centos', true) }} export NODEPOOL_RDO_PROXY=https://trunk.rdoproject.org fi repos: - type: package pkg_name: ""centos-release-openstack-{{ release }}"" custom_cmd: 'sudo dnf install -y --enablerepo=extras' - type: package pkg_name: ""centos-release-opstools"" custom_cmd: 'sudo dnf install -y --enablerepo=extras' # Needed for mock installation - type: generic reponame: ""delorean-{{ release }}-build-deps"" filename: ""delorean-{{ release }}-build-deps.repo"" baseurl: ""${NODEPOOL_RDO_PROXY}/{{ distro_ver }}-{{ release }}/build-deps/latest/"" # CentOS related repos - type: generic reponame: quickstart-centos-base filename: quickstart-centos-base.repo baseurl: ${NODEPOOL_CENTOS_MIRROR}/8-stream/BaseOS/x86_64/os/ - type: generic reponame: quickstart-centos-appstreams filename: quickstart-centos-appstreams.repo baseurl: ${NODEPOOL_CENTOS_MIRROR}/8-stream/AppStream/x86_64/os/ - type: generic reponame: quickstart-centos-powertools filename: quickstart-centos-powertools.repo baseurl: ${NODEPOOL_CENTOS_MIRROR}/8-stream/PowerTools/x86_64/os/ - type: generic reponame: quickstart-centos-highavailability filename: quickstart-centos-highavailability.repo baseurl: ${NODEPOOL_CENTOS_MIRROR}/8-stream/HighAvailability/x86_64/os/ - type: generic reponame: quickstart-centos-extras filename: quickstart-centos-extras.repo baseurl: ${NODEPOOL_CENTOS_MIRROR}/8-stream/extras/x86_64/os/ - type: generic reponame: quickstart-centos-ceph-pacific filename: quickstart-centos-ceph-pacific.repo baseurl: ${NODEPOOL_CENTOS_MIRROR}/8-stream/storage/x86_64/ceph-pacific repo_cmd_after: | {% if not enable_dlrn_deps_opstools|default(false)|bool %}sudo dnf config-manager --save --setopt centos-opstools.enabled=0; {%endif %} # sudo dnf config-manager --disable rdo-qemu-ev; sudo rpm -e epel-release || true; sudo dnf remove -y rdo-release || true; sudo rm -rf /etc/yum.repos.d/*.rpmsave; sudo dnf repolist; sudo dnf module list; sudo dnf module disable container-tools:rhel8 -y; sudo dnf module enable container-tools:3.0 -y; sudo dnf clean metadata {% if repo_setup_run_update|default(true)|bool %} sudo dnf update -y {% endif %} undercloud_rpm_dependencies: >- python3-tripleoclient tripleo-operator-ansible # baseos settings baseos_undercloud_image_url: https://cloud.centos.org/centos/8-stream/x86_64/images/CentOS-Stream-GenericCloud-8-20201217.0.x86_64.qcow2 baseos_image: centos baseos_image_type: qcow2 baseos_md5sum: ""70d5c374156f2ab92c058b6a6150f55e CentOS-Stream-GenericCloud-8-20201217.0.x86_64.qcow2"" ",,145,0
openstack%2Fvalidations-libs~stable%2F1.6~I11203bbf4f42d5bd1830b1dba72187e0a6b9cb28,openstack/validations-libs,stable/1.6,I11203bbf4f42d5bd1830b1dba72187e0a6b9cb28,Removing coverchange job,MERGED,2022-03-22 15:26:34.000000000,2022-04-21 13:46:20.000000000,2022-04-21 13:46:20.000000000,"[{'_account_id': 15895}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}]","[{'number': 1, 'created': '2022-03-22 15:26:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/7f7df216f1607264b0395e8d4ac57f2aefe75b3b', 'message': 'Removing coverchange job\n\nIn retrospect this job provided very little value for\nthe short time it was functioning and none afterward.\n\nTherefore I would argue for its removal.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I11203bbf4f42d5bd1830b1dba72187e0a6b9cb28\n(cherry picked from commit 55cb4f7980ecb571cd5917300aa1314d5f1867b2)\n'}, {'number': 2, 'created': '2022-03-22 15:58:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/eb8cb0ac854def8fbeccacbbbda6900bbfacf7ea', 'message': 'Removing coverchange job\n\nIn retrospect this job provided very little value for\nthe short time it was functioning and none afterward.\n\nTherefore I would argue for its removal.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I11203bbf4f42d5bd1830b1dba72187e0a6b9cb28\n(cherry picked from commit 55cb4f7980ecb571cd5917300aa1314d5f1867b2)\n'}, {'number': 3, 'created': '2022-03-23 08:52:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/ac6ef07c559785bd778411460bcacceee06f6bd4', 'message': 'Removing coverchange job\n\nIn retrospect this job provided very little value for\nthe short time it was functioning and none afterward.\n\nTherefore I would argue for its removal.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I11203bbf4f42d5bd1830b1dba72187e0a6b9cb28\n(cherry picked from commit 55cb4f7980ecb571cd5917300aa1314d5f1867b2)\n'}, {'number': 4, 'created': '2022-03-23 09:00:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/0220f9fdd458c646a3aacf872963bc3ed2419bf2', 'message': 'Removing coverchange job\n\nIn retrospect this job provided very little value for\nthe short time it was functioning and none afterward.\n\nTherefore I would argue for its removal.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I11203bbf4f42d5bd1830b1dba72187e0a6b9cb28\n(cherry picked from commit 55cb4f7980ecb571cd5917300aa1314d5f1867b2)\n'}, {'number': 5, 'created': '2022-03-23 10:03:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/33d9ce68af185d055ecb837488ba11387b43e605', 'message': 'Removing coverchange job\n\nIn retrospect this job provided very little value for\nthe short time it was functioning and none afterward.\n\nTherefore I would argue for its removal.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I11203bbf4f42d5bd1830b1dba72187e0a6b9cb28\n(cherry picked from commit 55cb4f7980ecb571cd5917300aa1314d5f1867b2)\n'}, {'number': 6, 'created': '2022-03-23 10:22:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/a894e517d4bda328d9b0e09c25dab0c7a0e9eccb', 'message': 'Removing coverchange job\n\nIn retrospect this job provided very little value for\nthe short time it was functioning and none afterward.\n\nTherefore I would argue for its removal.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I11203bbf4f42d5bd1830b1dba72187e0a6b9cb28\n(cherry picked from commit 55cb4f7980ecb571cd5917300aa1314d5f1867b2)\n'}, {'number': 7, 'created': '2022-04-07 12:23:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/580ed27835c7ce8ebae0bcfc7881d0eb40c4745d', 'message': 'Removing coverchange job\n\nIn retrospect this job provided very little value for\nthe short time it was functioning and none afterward.\n\nTherefore I would argue for its removal.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I11203bbf4f42d5bd1830b1dba72187e0a6b9cb28\n(cherry picked from commit 55cb4f7980ecb571cd5917300aa1314d5f1867b2)\n'}, {'number': 8, 'created': '2022-04-07 15:19:55.000000000', 'files': ['playbooks/coverchange.yaml', '.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/0178a7c08573d732ff0413a30f643454bf047a9e', 'message': 'Removing coverchange job\n\nIn retrospect this job provided very little value for\nthe short time it was functioning and none afterward.\n\nTherefore I would argue for its removal.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I11203bbf4f42d5bd1830b1dba72187e0a6b9cb28\n(cherry picked from commit 55cb4f7980ecb571cd5917300aa1314d5f1867b2)\n'}]",5,834703,0178a7c08573d732ff0413a30f643454bf047a9e,25,4,8,32926,,,0,"Removing coverchange job

In retrospect this job provided very little value for
the short time it was functioning and none afterward.

Therefore I would argue for its removal.

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I11203bbf4f42d5bd1830b1dba72187e0a6b9cb28
(cherry picked from commit 55cb4f7980ecb571cd5917300aa1314d5f1867b2)
",git fetch https://review.opendev.org/openstack/validations-libs refs/changes/03/834703/8 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/coverchange.yaml', '.zuul.yaml']",2,7f7df216f1607264b0395e8d4ac57f2aefe75b3b,,, name: validations-libs-coverchange nodeset: centos-9-stream parent: base run: playbooks/coverchange.yaml timeout: 1600 voting: false required-projects: - openstack/validations-libs files: - ^validations_libs/.* - job:,0,112
openstack%2Fvalidations-libs~stable%2F1.6~I7fc4b3dd92b4b0c4472be93e4bf27932f248952e,openstack/validations-libs,stable/1.6,I7fc4b3dd92b4b0c4472be93e4bf27932f248952e,Removing leftover coverchange reference,MERGED,2022-03-22 15:58:27.000000000,2022-04-21 13:46:17.000000000,2022-04-21 13:46:17.000000000,"[{'_account_id': 8449}, {'_account_id': 15895}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}]","[{'number': 1, 'created': '2022-03-22 15:58:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/fa958d6e53e702aba20e8e8f17e44184136f51dd', 'message': 'Removing leftover coverchange reference\n\nCloses-Bug: #1965962\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I7fc4b3dd92b4b0c4472be93e4bf27932f248952e\n(cherry picked from commit f73f32c08cdf2db16eb23e61f7355e31d45065ad)\n'}, {'number': 2, 'created': '2022-03-23 08:52:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/0c6392007c5e1233b740011c51e31a871dbaa365', 'message': 'Removing leftover coverchange reference\n\nCloses-Bug: #1965962\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I7fc4b3dd92b4b0c4472be93e4bf27932f248952e\n(cherry picked from commit f73f32c08cdf2db16eb23e61f7355e31d45065ad)\n'}, {'number': 3, 'created': '2022-03-23 09:00:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/9530e9b36ded709cc06970c6b6642f4868df9101', 'message': 'Removing leftover coverchange reference\n\nCloses-Bug: #1965962\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I7fc4b3dd92b4b0c4472be93e4bf27932f248952e\n(cherry picked from commit f73f32c08cdf2db16eb23e61f7355e31d45065ad)\n'}, {'number': 4, 'created': '2022-03-23 10:03:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/12a38ff96031832cebc5ccef5a5eb33abd7da9ae', 'message': 'Removing leftover coverchange reference\n\nCloses-Bug: #1965962\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I7fc4b3dd92b4b0c4472be93e4bf27932f248952e\n(cherry picked from commit f73f32c08cdf2db16eb23e61f7355e31d45065ad)\n'}, {'number': 5, 'created': '2022-03-23 10:21:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/793e01daeaf8fa5bae189210a60afc9c3c0c053b', 'message': 'Removing leftover coverchange reference\n\nCloses-Bug: #1965962\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/834631\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I7fc4b3dd92b4b0c4472be93e4bf27932f248952e\n(cherry picked from commit f73f32c08cdf2db16eb23e61f7355e31d45065ad)\n'}, {'number': 6, 'created': '2022-04-07 15:13:52.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/de1f54c71736f77cab1679a1f8a7029f507844c9', 'message': 'Removing leftover coverchange reference\n\nCloses-Bug: #1965962\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I7fc4b3dd92b4b0c4472be93e4bf27932f248952e\n(cherry picked from commit 68cf100b5263930b7543a6d8d49f675eb9f11fcf)\n'}]",1,834736,de1f54c71736f77cab1679a1f8a7029f507844c9,18,5,6,32926,,,0,"Removing leftover coverchange reference

Closes-Bug: #1965962

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I7fc4b3dd92b4b0c4472be93e4bf27932f248952e
(cherry picked from commit 68cf100b5263930b7543a6d8d49f675eb9f11fcf)
",git fetch https://review.opendev.org/openstack/validations-libs refs/changes/36/834736/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,fa958d6e53e702aba20e8e8f17e44184136f51dd,,, - validations-libs-coverchange,0,1
openstack%2Foctavia~stable%2Fxena~Iaa8ea5255b225ef87461c1f85b80f36210b1bde4,openstack/octavia,stable/xena,Iaa8ea5255b225ef87461c1f85b80f36210b1bde4,Fix unplugging member ports,MERGED,2022-02-22 13:02:01.000000000,2022-04-21 13:43:45.000000000,2022-04-21 13:41:57.000000000,"[{'_account_id': 7249}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 34429}]","[{'number': 1, 'created': '2022-02-22 13:02:01.000000000', 'files': ['octavia/tests/unit/network/drivers/neutron/test_allowed_address_pairs.py', 'releasenotes/notes/fix-unplugging-member-ports-262b35426e570edd.yaml', 'octavia/network/drivers/neutron/allowed_address_pairs.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/887ffeaefdc5ee3b3d164cd80533bfa190a3704b', 'message': 'Fix unplugging member ports\n\nUnplugging a port from a VM can take some time before the update is\ncommitted to the DB, 2 (quick) successive member deletions can trigger a\nrace condition when computing the delta of the ports that need to be\nremoved/added: Octavia may get a list of ports connected to an amphora\nthat is not correct.\n\nThis commit ensures that a port is also removed from the DB when\nunplugging a member port.\n\nStory 2009864\nTask 44543\n\nChange-Id: Iaa8ea5255b225ef87461c1f85b80f36210b1bde4\n(cherry picked from commit 17a79b7ebf1b6e2faf8266b66a46ea83411359f3)\n'}]",5,830412,887ffeaefdc5ee3b3d164cd80533bfa190a3704b,18,4,1,29244,,,0,"Fix unplugging member ports

Unplugging a port from a VM can take some time before the update is
committed to the DB, 2 (quick) successive member deletions can trigger a
race condition when computing the delta of the ports that need to be
removed/added: Octavia may get a list of ports connected to an amphora
that is not correct.

This commit ensures that a port is also removed from the DB when
unplugging a member port.

Story 2009864
Task 44543

Change-Id: Iaa8ea5255b225ef87461c1f85b80f36210b1bde4
(cherry picked from commit 17a79b7ebf1b6e2faf8266b66a46ea83411359f3)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/12/830412/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/tests/unit/network/drivers/neutron/test_allowed_address_pairs.py', 'releasenotes/notes/fix-unplugging-member-ports-262b35426e570edd.yaml', 'octavia/network/drivers/neutron/allowed_address_pairs.py']",3,887ffeaefdc5ee3b3d164cd80533bfa190a3704b,," removed_port_ids = set() removed_port_ids.add(unplugger.port_id) port_detach_timeout = CONF.networking.port_detach_timeout start = time.time() while time.time() - start < port_detach_timeout: interfaces = self.get_plugged_networks(compute_id) plugged_port_ids = {i.port_id for i in interfaces} if not plugged_port_ids & removed_port_ids: break time.sleep(CONF.networking.retry_interval) else: LOG.warning(""Ports (%s) still attached to compute %s after "" ""%s seconds."", "", "".join(removed_port_ids), compute_id, port_detach_timeout)",,89,7
openstack%2Fglance_store~master~I0094b044085d7f92b07ea86236de3b6efd7d67ea,openstack/glance_store,master,I0094b044085d7f92b07ea86236de3b6efd7d67ea,Correct retry interval during attach volume,MERGED,2022-04-18 16:55:31.000000000,2022-04-21 13:40:51.000000000,2022-04-21 13:39:00.000000000,"[{'_account_id': 5314}, {'_account_id': 9303}, {'_account_id': 15554}, {'_account_id': 22348}, {'_account_id': 32074}]","[{'number': 1, 'created': '2022-04-18 16:55:31.000000000', 'files': ['glance_store/common/cinder_utils.py', 'releasenotes/notes/fix-interval-in-retries-471155ff34d9f0e9.yaml'], 'web_link': 'https://opendev.org/openstack/glance_store/commit/ba4af147fb93d522f8cf396098891f4cbe7b30fb', 'message': 'Correct retry interval during attach volume\n\nWhen we try to simultaneously attach same volume multiple times\n(multiattach), there are multiple attachments created, suppose\nattachA and attachB. If attachA marks the volume ""reserved"" then\nattachB can\'t proceed until the volume is in ""in-use"" or ""available""\nstate. We retry until we reach any of these states for which we use\nthe retrying library.\n\nThe retrying library defaults to 1 second retry[1] (5 times) which causes\nthe original failure as the volume takes time to transition between\n""reserved"" -> ""in-use"" state. This patch corrects it by adding an\nexponential retry time and max exponential retry i.e.\n\n1: 2 ** 1 = 2 seconds\n2: 2 ** 2 = 4 seconds\n3: 2 ** 3 = 8 seconds\n4: 2 ** 4 = 16 seconds (but max wait time is 10 seconds)\n5: 2 ** 5 = 32 seconds (but max wait time is 10 seconds)\n\n[1] https://github.com/rholder/retrying/blob/master/retrying.py#L84\n\nCloses-Bug: #1969373\n\nChange-Id: I0094b044085d7f92b07ea86236de3b6efd7d67ea\n'}]",6,838326,ba4af147fb93d522f8cf396098891f4cbe7b30fb,11,5,1,27615,,,0,"Correct retry interval during attach volume

When we try to simultaneously attach same volume multiple times
(multiattach), there are multiple attachments created, suppose
attachA and attachB. If attachA marks the volume ""reserved"" then
attachB can't proceed until the volume is in ""in-use"" or ""available""
state. We retry until we reach any of these states for which we use
the retrying library.

The retrying library defaults to 1 second retry[1] (5 times) which causes
the original failure as the volume takes time to transition between
""reserved"" -> ""in-use"" state. This patch corrects it by adding an
exponential retry time and max exponential retry i.e.

1: 2 ** 1 = 2 seconds
2: 2 ** 2 = 4 seconds
3: 2 ** 3 = 8 seconds
4: 2 ** 4 = 16 seconds (but max wait time is 10 seconds)
5: 2 ** 5 = 32 seconds (but max wait time is 10 seconds)

[1] https://github.com/rholder/retrying/blob/master/retrying.py#L84

Closes-Bug: #1969373

Change-Id: I0094b044085d7f92b07ea86236de3b6efd7d67ea
",git fetch https://review.opendev.org/openstack/glance_store refs/changes/26/838326/1 && git format-patch -1 --stdout FETCH_HEAD,"['glance_store/common/cinder_utils.py', 'releasenotes/notes/fix-interval-in-retries-471155ff34d9f0e9.yaml']",2,ba4af147fb93d522f8cf396098891f4cbe7b30fb,bug/1969373,--- fixes: - | `Bug #1969373 <https://bugs.launchpad.net/glance-store/+bug/1969373>`_: Cinder Driver: Correct the retry interval from fixed 1 second to exponential backoff for attaching a volume during image create/save operation. ,,10,1
openstack%2Freleases~master~Ia5991b69aed6d3c6aaf2ccd3ceba49b8f90a6599,openstack/releases,master,Ia5991b69aed6d3c6aaf2ccd3ceba49b8f90a6599,New stable releases for Neutron,MERGED,2022-04-13 13:25:52.000000000,2022-04-21 13:31:23.000000000,2022-04-21 13:31:23.000000000,"[{'_account_id': 308}, {'_account_id': 841}, {'_account_id': 8313}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-04-13 13:25:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/f36f6897e46212cc710d053faf9dddfcedf06007', 'message': 'New stable releases for Neutron\n\nstable/xena: 19.2.0 afe3ba73ea1b2c3c244050d672c23134fa4bc08c\nstable/wallaby: 18.3.0 da64bef4943e2dca4f2948ae9bd7b80d7e257fa2\nstable/victoria: 17.4.0 2b906fb12a1debc9b925801979f34be9a6619114\n\nChange-Id: Ia5991b69aed6d3c6aaf2ccd3ceba49b8f90a6599\n'}, {'number': 2, 'created': '2022-04-20 15:43:13.000000000', 'files': ['deliverables/victoria/neutron.yaml', 'deliverables/wallaby/neutron.yaml', 'deliverables/xena/neutron.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/f4569c53053da23f90ce2c773537a328476f1261', 'message': 'New stable releases for Neutron\n\nstable/xena: 19.2.0 493afef940d548d02b997b0514643035a44ee030\nstable/wallaby: 18.3.0 37e98d3a5d1da7ed3a830372a729d982cfc1d9e0\nstable/victoria: 17.4.0 4070861450cc8f8ec85256fa4bac9b5b3aaa0e3f\n\nChange-Id: Ia5991b69aed6d3c6aaf2ccd3ceba49b8f90a6599\n'}]",2,837728,f4569c53053da23f90ce2c773537a328476f1261,13,6,2,8313,,,0,"New stable releases for Neutron

stable/xena: 19.2.0 493afef940d548d02b997b0514643035a44ee030
stable/wallaby: 18.3.0 37e98d3a5d1da7ed3a830372a729d982cfc1d9e0
stable/victoria: 17.4.0 4070861450cc8f8ec85256fa4bac9b5b3aaa0e3f

Change-Id: Ia5991b69aed6d3c6aaf2ccd3ceba49b8f90a6599
",git fetch https://review.opendev.org/openstack/releases refs/changes/28/837728/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/victoria/neutron.yaml', 'deliverables/wallaby/neutron.yaml', 'deliverables/xena/neutron.yaml']",3,f36f6897e46212cc710d053faf9dddfcedf06007,stable_neutron, - version: 19.2.0 projects: - repo: openstack/neutron hash: afe3ba73ea1b2c3c244050d672c23134fa4bc08c,,12,0
openstack%2Ftripleo-ci~master~I184cd525a8696b0b634ac8d6f895ab642ac5aa33,openstack/tripleo-ci,master,I184cd525a8696b0b634ac8d6f895ab642ac5aa33,Cleanup code from old releases already EOL pike|queens|rocky|stein,MERGED,2022-04-19 12:24:05.000000000,2022-04-21 13:13:09.000000000,2022-04-21 13:13:09.000000000,"[{'_account_id': 8367}, {'_account_id': 8449}, {'_account_id': 9976}, {'_account_id': 12393}, {'_account_id': 14611}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29775}, {'_account_id': 30002}]","[{'number': 1, 'created': '2022-04-19 12:24:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/f34e2616ebb0b7b7abd948243b17b8f926cf4414', 'message': 'Cleanup code from old releases already EOL pike|queens|rocky|stein\n\nIn [1] we removed the related jobs for these EOL releases. Here\nwe deal with removing code related to these branches including\nany conditionals or special cases from emit releases and the\nbuild-containers and run-test roles.\n\n[1] https://review.opendev.org/c/openstack/tripleo-ci/+/838110\n\nChange-Id: I184cd525a8696b0b634ac8d6f895ab642ac5aa33\n'}, {'number': 2, 'created': '2022-04-19 12:24:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/4c03bb70fa3b85a540e687981491457519826f51', 'message': 'Cleanup code from old releases already EOL pike|queens|rocky|stein\n\nIn [1] we removed the related jobs for these EOL releases. Here\nwe deal with removing code related to these branches including\nany conditionals or special cases from emit releases and the\nbuild-containers and run-test roles.\n\n[1] https://review.opendev.org/c/openstack/tripleo-ci/+/838110\n\nChange-Id: I184cd525a8696b0b634ac8d6f895ab642ac5aa33\n'}, {'number': 3, 'created': '2022-04-20 10:49:38.000000000', 'files': ['scripts/emit_releases_file/test_write_bash_script.py', 'scripts/emit_releases_file/test_release_name.py', 'roles/build-containers/templates/kolla-build.sh.j2', 'scripts/emit_releases_file/emit_releases_file.py', 'roles/run-test/templates/common_vars.bash.j2', 'roles/run-test/templates/oooq_common_functions.sh.j2', 'roles/build-containers/tasks/main.yaml', 'scripts/emit_releases_file/test_unsupported_upgrades.py', 'scripts/emit_releases_file/test_release_file.py', 'roles/build-containers/defaults/main.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/800d36d83f1419e4ff9cc403b5a49ea9f9ae9185', 'message': 'Cleanup code from old releases already EOL pike|queens|rocky|stein\n\nIn [1] we removed the related jobs for these EOL releases. Here\nwe deal with removing code related to these branches including\nany conditionals or special cases from emit releases and the\nbuild-containers and run-test roles. Also removes some really\nold references to newton.\n\n[1] https://review.opendev.org/c/openstack/tripleo-ci/+/838110\n\nChange-Id: I184cd525a8696b0b634ac8d6f895ab642ac5aa33\n'}]",27,838502,800d36d83f1419e4ff9cc403b5a49ea9f9ae9185,27,9,3,8449,,,0,"Cleanup code from old releases already EOL pike|queens|rocky|stein

In [1] we removed the related jobs for these EOL releases. Here
we deal with removing code related to these branches including
any conditionals or special cases from emit releases and the
build-containers and run-test roles. Also removes some really
old references to newton.

[1] https://review.opendev.org/c/openstack/tripleo-ci/+/838110

Change-Id: I184cd525a8696b0b634ac8d6f895ab642ac5aa33
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/02/838502/1 && git format-patch -1 --stdout FETCH_HEAD,"['scripts/emit_releases_file/test_write_bash_script.py', 'scripts/emit_releases_file/test_release_name.py', 'roles/build-containers/templates/kolla-build.sh.j2', 'scripts/emit_releases_file/emit_releases_file.py', 'roles/run-test/templates/common_vars.bash.j2', 'roles/run-test/templates/oooq_common_functions.sh.j2', 'roles/build-containers/tasks/main.yaml', 'scripts/emit_releases_file/test_unsupported_upgrades.py', 'scripts/emit_releases_file/test_release_file.py', 'roles/build-containers/defaults/main.yaml']",10,f34e2616ebb0b7b7abd948243b17b8f926cf4414,emit_release_cleanup, {% if osp_branch is not defined and ci_branch in ['train'] -%}," {% if osp_branch is not defined and ci_branch in ['queens','stein','train','ussuri'] -%}",10,416
openstack%2Ftripleo-validations~master~If8ab0567bd640ec69d58e3fdcf75cf08738b60ab,openstack/tripleo-validations,master,If8ab0567bd640ec69d58e3fdcf75cf08738b60ab,DNM Testing new default inventory for the VF,ABANDONED,2022-03-24 09:48:08.000000000,2022-04-21 13:10:28.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-03-24 09:48:08.000000000', 'files': ['tripleo_validations/DNM'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/ae3356d2f59ecbf892c35a970cb2b9b890095f35', 'message': 'DNM Testing new default inventory for the VF\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-quickstart-extras/+/835021\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: If8ab0567bd640ec69d58e3fdcf75cf08738b60ab\n'}]",0,835022,ae3356d2f59ecbf892c35a970cb2b9b890095f35,3,1,1,32926,,,0,"DNM Testing new default inventory for the VF

Depends-On: https://review.opendev.org/c/openstack/tripleo-quickstart-extras/+/835021

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: If8ab0567bd640ec69d58e3fdcf75cf08738b60ab
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/22/835022/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_validations/DNM'],1,ae3356d2f59ecbf892c35a970cb2b9b890095f35,,,,0,0
openstack%2Fkolla-ansible~master~I8bf95fd7aa9dd26b80d618ca0fcb097003b4cb0a,openstack/kolla-ansible,master,I8bf95fd7aa9dd26b80d618ca0fcb097003b4cb0a,drop install_type from image names,MERGED,2022-04-11 10:54:46.000000000,2022-04-21 13:08:29.000000000,2022-04-21 13:06:26.000000000,"[{'_account_id': 13252}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 27339}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-04-11 10:54:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/8dd9d55b9faf8346d99a20a7a537805d03c69a17', 'message': 'drop install_type from image names\n\nWe have only one value for install_type now and it gets removed from\nimage names.\n\nDepends-on: https://review.opendev.org/c/openstack/kolla/+/837285\nChange-Id: I8bf95fd7aa9dd26b80d618ca0fcb097003b4cb0a\n'}, {'number': 2, 'created': '2022-04-11 11:10:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/fc7876bab3d545b13467134bcf7f9078dc6f6142', 'message': 'drop install_type from image names\n\nWe have only one value for install_type now and it gets removed from\nimage names.\n\nDepends-on: https://review.opendev.org/c/openstack/kolla/+/837285\nChange-Id: I8bf95fd7aa9dd26b80d618ca0fcb097003b4cb0a\n'}, {'number': 3, 'created': '2022-04-11 14:04:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/78aaee014b484c58c31f4df033ed79d0d6f2e34c', 'message': 'drop install_type from image names\n\nWe have only one value for install_type now and it gets removed from\nimage names.\n\nDepends-on: https://review.opendev.org/c/openstack/kolla/+/837285\nChange-Id: I8bf95fd7aa9dd26b80d618ca0fcb097003b4cb0a\n'}, {'number': 4, 'created': '2022-04-11 17:09:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/d4dfa1d2efed519612da67272f7b3234abbca91c', 'message': 'drop install_type from image names\n\nWe have only one value for install_type now and it gets removed from\nimage names.\n\nDepends-on: https://review.opendev.org/c/openstack/kolla/+/837285\nChange-Id: I8bf95fd7aa9dd26b80d618ca0fcb097003b4cb0a\n'}, {'number': 5, 'created': '2022-04-12 16:38:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c43195ee6701265d681adba4a3244ec318f9251b', 'message': 'drop install_type from image names\n\nWe have only one value for install_type now and it gets removed from\nimage names.\n\nDepends-on: https://review.opendev.org/c/openstack/kolla/+/837285\nChange-Id: I8bf95fd7aa9dd26b80d618ca0fcb097003b4cb0a\n'}, {'number': 6, 'created': '2022-04-13 17:12:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/848a0c09a88bb1b289016ce2e7bf125a7f432768', 'message': 'drop install_type from image names\n\nWe have only one value for install_type now and it gets removed from\nimage names.\n\nDepends-on: https://review.opendev.org/c/openstack/kolla/+/837285\nChange-Id: I8bf95fd7aa9dd26b80d618ca0fcb097003b4cb0a\n'}, {'number': 7, 'created': '2022-04-15 11:02:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/2991aaa4a03b7f9cc9450eddd4aa9aa0ae3201c7', 'message': 'drop install_type from image names\n\nWe have only one value for install_type now and it gets removed from\nimage names.\n\nChange-Id: I8bf95fd7aa9dd26b80d618ca0fcb097003b4cb0a\n'}, {'number': 8, 'created': '2022-04-20 10:30:16.000000000', 'files': ['ansible/roles/nova-cell/defaults/main.yml', 'doc/source/reference/orchestration-and-nfv/tacker-guide.rst', 'ansible/roles/horizon/defaults/main.yml', 'ansible/roles/heat/defaults/main.yml', 'ansible/roles/cinder/defaults/main.yml', 'ansible/roles/cloudkitty/defaults/main.yml', 'ansible/roles/blazar/defaults/main.yml', 'ansible/roles/kuryr/defaults/main.yml', 'ansible/roles/solum/defaults/main.yml', 'ansible/roles/storm/defaults/main.yml', 'ansible/roles/hacluster/defaults/main.yml', 'ansible/roles/redis/defaults/main.yml', 'ansible/roles/mariadb/defaults/main.yml', 'etc/kolla/globals.yml', 'ansible/roles/loadbalancer/defaults/main.yml', 'ansible/roles/multipathd/defaults/main.yml', 'ansible/roles/murano/defaults/main.yml', 'ansible/roles/skydive/defaults/main.yml', 'tools/diag', 'ansible/roles/elasticsearch/defaults/main.yml', 'ansible/roles/etcd/defaults/main.yml', 'ansible/roles/grafana/defaults/main.yml', 'ansible/roles/sahara/defaults/main.yml', 'doc/source/reference/deployment-and-bootstrapping/bifrost.rst', 'ansible/roles/barbican/defaults/main.yml', 'ansible/roles/bifrost/defaults/main.yml', 'ansible/roles/rabbitmq/defaults/main.yml', 'ansible/roles/trove/defaults/main.yml', 'ansible/roles/memcached/defaults/main.yml', 'ansible/roles/aodh/defaults/main.yml', 'ansible/roles/nova/defaults/main.yml', 'ansible/roles/ironic/defaults/main.yml', 'ansible/roles/magnum/defaults/main.yml', 'ansible/roles/zun/defaults/main.yml', 'ansible/roles/keystone/templates/crontab.j2', 'ansible/roles/watcher/defaults/main.yml', 'ansible/roles/mistral/defaults/main.yml', 'ansible/roles/freezer/defaults/main.yml', 'ansible/roles/neutron/defaults/main.yml', 'ansible/roles/kafka/defaults/main.yml', 'ansible/roles/influxdb/defaults/main.yml', 'ansible/roles/manila/defaults/main.yml', 'ansible/roles/cyborg/defaults/main.yml', 'ansible/roles/iscsi/defaults/main.yml', 'ansible/roles/placement/defaults/main.yml', 'ansible/roles/openvswitch/defaults/main.yml', 'ansible/roles/keystone/defaults/main.yml', 'ansible/roles/ovn/defaults/main.yml', 'ansible/roles/prometheus/defaults/main.yml', 'ansible/roles/glance/defaults/main.yml', 'ansible/roles/monasca/defaults/main.yml', 'ansible/roles/swift/defaults/main.yml', 'ansible/roles/senlin/defaults/main.yml', 'ansible/roles/common/defaults/main.yml', 'ansible/roles/designate/defaults/main.yml', 'tests/run.yml', 'ansible/roles/zookeeper/defaults/main.yml', 'ansible/roles/vitrage/defaults/main.yml', 'ansible/roles/ovs-dpdk/defaults/main.yml', 'ansible/roles/tacker/defaults/main.yml', 'ansible/roles/gnocchi/defaults/main.yml', 'ansible/roles/masakari/defaults/main.yml', 'ansible/roles/octavia/defaults/main.yml', 'ansible/roles/venus/defaults/main.yml', 'ansible/roles/telegraf/defaults/main.yml', 'ansible/roles/ceilometer/defaults/main.yml', 'ansible/group_vars/all.yml', 'ansible/roles/collectd/defaults/main.yml', 'ansible/roles/kibana/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/1620ab5be971008958a528c2d318c41234a3df5d', 'message': 'drop install_type from image names\n\nWe have only one value for install_type now and it gets removed from\nimage names.\n\nChange-Id: I8bf95fd7aa9dd26b80d618ca0fcb097003b4cb0a\n'}]",16,837293,1620ab5be971008958a528c2d318c41234a3df5d,51,6,8,24072,,,0,"drop install_type from image names

We have only one value for install_type now and it gets removed from
image names.

Change-Id: I8bf95fd7aa9dd26b80d618ca0fcb097003b4cb0a
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/93/837293/4 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/nova-cell/defaults/main.yml', 'doc/source/reference/orchestration-and-nfv/tacker-guide.rst', 'ansible/roles/horizon/defaults/main.yml', 'ansible/roles/heat/defaults/main.yml', 'ansible/roles/cinder/defaults/main.yml', 'ansible/roles/cloudkitty/defaults/main.yml', 'ansible/roles/blazar/defaults/main.yml', 'ansible/roles/kuryr/defaults/main.yml', 'ansible/roles/solum/defaults/main.yml', 'ansible/roles/storm/defaults/main.yml', 'ansible/roles/hacluster/defaults/main.yml', 'ansible/roles/redis/defaults/main.yml', 'ansible/roles/mariadb/defaults/main.yml', 'etc/kolla/globals.yml', 'ansible/roles/loadbalancer/defaults/main.yml', 'ansible/roles/multipathd/defaults/main.yml', 'ansible/roles/murano/defaults/main.yml', 'ansible/roles/skydive/defaults/main.yml', 'tools/diag', 'ansible/roles/elasticsearch/defaults/main.yml', 'ansible/roles/etcd/defaults/main.yml', 'ansible/roles/grafana/defaults/main.yml', 'ansible/roles/sahara/defaults/main.yml', 'doc/source/reference/deployment-and-bootstrapping/bifrost.rst', 'ansible/roles/barbican/defaults/main.yml', 'ansible/roles/bifrost/defaults/main.yml', 'ansible/roles/rabbitmq/defaults/main.yml', 'ansible/roles/trove/defaults/main.yml', 'ansible/roles/memcached/defaults/main.yml', 'ansible/roles/aodh/defaults/main.yml', 'ansible/roles/qdrouterd/defaults/main.yml', 'ansible/roles/nova/defaults/main.yml', 'ansible/roles/ironic/defaults/main.yml', 'ansible/roles/magnum/defaults/main.yml', 'ansible/roles/zun/defaults/main.yml', 'ansible/roles/keystone/templates/crontab.j2', 'ansible/roles/watcher/defaults/main.yml', 'ansible/roles/mistral/defaults/main.yml', 'ansible/roles/freezer/defaults/main.yml', 'ansible/roles/neutron/defaults/main.yml', 'ansible/roles/kafka/defaults/main.yml', 'ansible/roles/influxdb/defaults/main.yml', 'ansible/roles/manila/defaults/main.yml', 'ansible/roles/cyborg/defaults/main.yml', 'ansible/roles/iscsi/defaults/main.yml', 'ansible/roles/placement/defaults/main.yml', 'ansible/roles/openvswitch/defaults/main.yml', 'ansible/roles/keystone/defaults/main.yml', 'ansible/roles/ovn/defaults/main.yml', 'ansible/roles/prometheus/defaults/main.yml', 'ansible/roles/glance/defaults/main.yml', 'ansible/roles/monasca/defaults/main.yml', 'ansible/roles/swift/defaults/main.yml', 'ansible/roles/senlin/defaults/main.yml', 'ansible/roles/common/defaults/main.yml', 'ansible/roles/designate/defaults/main.yml', 'ansible/roles/zookeeper/defaults/main.yml', 'ansible/roles/vitrage/defaults/main.yml', 'ansible/roles/ovs-dpdk/defaults/main.yml', 'ansible/roles/tacker/defaults/main.yml', 'ansible/roles/gnocchi/defaults/main.yml', 'ansible/roles/masakari/defaults/main.yml', 'ansible/roles/octavia/defaults/main.yml', 'ansible/roles/venus/defaults/main.yml', 'ansible/roles/telegraf/defaults/main.yml', 'ansible/roles/ceilometer/defaults/main.yml', 'ansible/group_vars/all.yml', 'ansible/roles/collectd/defaults/main.yml', 'ansible/roles/kibana/defaults/main.yml']",69,8dd9d55b9faf8346d99a20a7a537805d03c69a17,zed-remove-support-for-binary-images,"kibana_image: ""{{ docker_registry ~ '/' if docker_registry else '' }}{{ docker_namespace }}/{{ kolla_base_distro }}-kibana""","kibana_install_type: ""{{ kolla_install_type }}"" kibana_image: ""{{ docker_registry ~ '/' if docker_registry else '' }}{{ docker_namespace }}/{{ kolla_base_distro }}-{{ kibana_install_type }}-kibana""",194,279
openstack%2Fsushy-oem-idrac~stable%2Fyoga~I0b702e07805fd05378f51dade01ab396013f00d8,openstack/sushy-oem-idrac,stable/yoga,I0b702e07805fd05378f51dade01ab396013f00d8,Update .gitreview after project rename,ABANDONED,2022-04-21 13:03:43.000000000,2022-04-21 13:08:12.000000000,,[],"[{'number': 1, 'created': '2022-04-21 13:03:43.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/sushy-oem-idrac/commit/c5d19699b50780cb67592e3b9c8dc50b43f7ad2f', 'message': 'Update .gitreview after project rename\n\nsushy-oem-idrac was moved from x/ to openstack/ namespace.\n\nChange-Id: I17caac21c62961d4facd37840c7447e48cf3980f\n(cherry picked from commit aac2509f7b35b0a922f19165c61e71478616e75c)\n\n  Conflicts:\n\t.gitreview\n\nChange-Id: I0b702e07805fd05378f51dade01ab396013f00d8\n'}]",0,838865,c5d19699b50780cb67592e3b9c8dc50b43f7ad2f,2,0,1,27909,,,0,"Update .gitreview after project rename

sushy-oem-idrac was moved from x/ to openstack/ namespace.

Change-Id: I17caac21c62961d4facd37840c7447e48cf3980f
(cherry picked from commit aac2509f7b35b0a922f19165c61e71478616e75c)

  Conflicts:
	.gitreview

Change-Id: I0b702e07805fd05378f51dade01ab396013f00d8
",git fetch https://review.opendev.org/openstack/sushy-oem-idrac refs/changes/65/838865/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,c5d19699b50780cb67592e3b9c8dc50b43f7ad2f,project-rename,project=openstack/sushy-oem-idrac.git,project=x/sushy-oem-idrac.git,1,1
openstack%2Fneutron~stable%2Fussuri~I3e0786fd8d0320036b9046746ae579c8ed2ecf27,openstack/neutron,stable/ussuri,I3e0786fd8d0320036b9046746ae579c8ed2ecf27,Repeat few times put new interface in the namespace,MERGED,2022-03-30 14:56:09.000000000,2022-04-21 13:01:32.000000000,2022-04-21 12:59:30.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-03-30 14:56:09.000000000', 'files': ['neutron/agent/linux/interface.py', 'neutron/tests/unit/agent/linux/test_interface.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/db3f5b3ff26ff7d748a3b04a6c38a47e37448e17', 'message': ""Repeat few times put new interface in the namespace\n\nIt seems that from time to time we may experience another variant of the\nshy ovs ports issue (see [1] for details) while trying to put interface,\ne.g. router's port into the namespace by the interface driver.\nTo avoid that, this patch adds some repeats of the putting interface in\nthe namespace, in the same way like it was done originally with\nset_address of the device.\n\nAdditionally, this patch also refactors a bit part which is responsible\nto set mac address of the device to be able to clean ports in case of\nthe permanent error there.\n\n[1] https://bugs.launchpad.net/neutron/+bug/1618987\n\nCloses-Bug: #1961740\nChange-Id: I3e0786fd8d0320036b9046746ae579c8ed2ecf27\n(cherry picked from commit f7fac03ae1a4b1b1471f6054ba058382a1b9e1a1)\n""}]",6,835852,db3f5b3ff26ff7d748a3b04a6c38a47e37448e17,23,3,1,11975,,,0,"Repeat few times put new interface in the namespace

It seems that from time to time we may experience another variant of the
shy ovs ports issue (see [1] for details) while trying to put interface,
e.g. router's port into the namespace by the interface driver.
To avoid that, this patch adds some repeats of the putting interface in
the namespace, in the same way like it was done originally with
set_address of the device.

Additionally, this patch also refactors a bit part which is responsible
to set mac address of the device to be able to clean ports in case of
the permanent error there.

[1] https://bugs.launchpad.net/neutron/+bug/1618987

Closes-Bug: #1961740
Change-Id: I3e0786fd8d0320036b9046746ae579c8ed2ecf27
(cherry picked from commit f7fac03ae1a4b1b1471f6054ba058382a1b9e1a1)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/52/835852/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/linux/interface.py', 'neutron/tests/unit/agent/linux/test_interface.py']",2,db3f5b3ff26ff7d748a3b04a6c38a47e37448e17,bug/1961740-stable/yoga-stable/xena-stable/wallaby-stable/victoria-stable/ussuri," namespace_obj = ( self.ip.return_value.ensure_namespace.return_value) self.ip.ensure_namespace.return_value = namespace_obj namespace_obj.add_device_to_namespace.side_effect = ( ip_lib.NetworkInterfaceNotFound, utils.WaitTimeout, None) mock.ANY), mock.call().ensure_namespace().add_device_to_namespace( mock.ANY), mock.call().ensure_namespace().add_device_to_namespace( pyroute2_exc.NetlinkError(22), RuntimeError()):", pyroute2_exc.NetlinkError(22)):,64,18
openstack%2Fkayobe~master~I25ca168ed52fb39850549ceaeb7f88e2a630905f,openstack/kayobe,master,I25ca168ed52fb39850549ceaeb7f88e2a630905f,WIP: Build container images in CI,ABANDONED,2019-01-25 09:07:33.000000000,2022-04-21 12:34:50.000000000,,"[{'_account_id': 17669}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-25 09:07:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/9ee1132d21f37ca28a2a532170d19ca560a63f72', 'message': 'WIP: Build container images in CI\n\nTODO: Check zuul.items, build only if kolla changes are included.\n\nChange-Id: I25ca168ed52fb39850549ceaeb7f88e2a630905f\n'}, {'number': 2, 'created': '2019-01-25 16:14:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/51d30e185c58805c6589021ef83a620183f83feb', 'message': 'WIP: Build container images in CI\n\nTODO: Check zuul.items, build only if kolla changes are included.\n\nChange-Id: I25ca168ed52fb39850549ceaeb7f88e2a630905f\n'}, {'number': 3, 'created': '2019-01-25 17:53:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/a0a68309e44ed3ed84ad246d3c1342bd3382212e', 'message': 'WIP: Build container images in CI\n\nTODO: Check zuul.items, build only if kolla changes are included.\n\nChange-Id: I25ca168ed52fb39850549ceaeb7f88e2a630905f\n'}, {'number': 4, 'created': '2019-01-28 12:38:40.000000000', 'files': ['playbooks/kayobe-overcloud-upgrade-base/overrides.yml.j2', 'playbooks/kayobe-seed-upgrade-base/run.yml', 'playbooks/kayobe-overcloud-base/pre.yml', 'playbooks/kayobe-seed-base/run.yml', 'playbooks/kayobe-overcloud-base/run.yml', 'playbooks/kayobe-overcloud-base/overrides.yml.j2', 'playbooks/kayobe-seed-base/overrides.yml.j2', 'playbooks/kayobe-overcloud-upgrade-base/pre.yml', 'playbooks/kayobe-seed-upgrade-base/overrides.yml.j2', 'playbooks/kayobe-overcloud-upgrade-base/run.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/583a539645e21050bdc7630a32a294669fb76128', 'message': 'WIP: Build container images in CI\n\nTODO: Check zuul.items, build only if kolla changes are included.\n\nChange-Id: I25ca168ed52fb39850549ceaeb7f88e2a630905f\n'}]",1,633166,583a539645e21050bdc7630a32a294669fb76128,11,2,4,14826,,,0,"WIP: Build container images in CI

TODO: Check zuul.items, build only if kolla changes are included.

Change-Id: I25ca168ed52fb39850549ceaeb7f88e2a630905f
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/66/633166/4 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/kayobe-seed-upgrade-base/run.yml', 'playbooks/kayobe-overcloud-base/run.yml', 'playbooks/kayobe-seed-base/run.yml', 'playbooks/kayobe-overcloud-upgrade-base/run.yml']",4,9ee1132d21f37ca28a2a532170d19ca560a63f72,build-images-in-ci," # FIXME: Make dependent upon Depends-On kolla. build_images: true KAYOBE_OVERCLOUD_CONTAINER_IMAGE_BUILD: ""{{ build_images | ternary(1, 0) }}""",,12,0
openstack%2Fneutron~stable%2Fussuri~Ia082f8531ffcc1599206124774599dcdb500274a,openstack/neutron,stable/ussuri,Ia082f8531ffcc1599206124774599dcdb500274a,"When creating a VXLAN interface, a device is mandatory",MERGED,2022-03-11 14:53:19.000000000,2022-04-21 12:33:53.000000000,2022-04-21 12:31:27.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-03-11 14:53:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/51bcb7813a945a2b8a4886133b2bd989581d2180', 'message': 'When creating a VXLAN interface, a device is mandatory\n\n""IPWrapper.add_vxlan"" method must have ""dev"" parameter as possitional\nargument. A VXLAN interface must be always created on top of an existing\nnetwork device:\n  https://www.kernel.org/doc/Documentation/networking/vxlan.txt\n\nConflicts:\n    neutron/tests/functional/agent/linux/test_tc_lib.py\n\nCloses-Bug: #1954316\nChange-Id: Ia082f8531ffcc1599206124774599dcdb500274a\n(cherry picked from commit 16a793af19a2dc13e3d121b36db52d6b9ec25278)\n(cherry picked from commit 1dc99e93fee74af9c91f5340941d2e0c33834bad)\n'}, {'number': 2, 'created': '2022-03-31 10:08:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5f5e8a056834c677e4726098a9450b480ddd00f4', 'message': 'When creating a VXLAN interface, a device is mandatory\n\n""IPWrapper.add_vxlan"" method must have ""dev"" parameter as possitional\nargument. A VXLAN interface must be always created on top of an existing\nnetwork device:\n  https://www.kernel.org/doc/Documentation/networking/vxlan.txt\n\nConflicts:\n    neutron/tests/functional/agent/linux/test_tc_lib.py\n\nCloses-Bug: #1954316\nChange-Id: Ia082f8531ffcc1599206124774599dcdb500274a\n(cherry picked from commit 16a793af19a2dc13e3d121b36db52d6b9ec25278)\n(cherry picked from commit 1dc99e93fee74af9c91f5340941d2e0c33834bad)\n'}, {'number': 3, 'created': '2022-04-11 14:23:46.000000000', 'files': ['neutron/cmd/sanity/checks.py', 'neutron/plugins/ml2/drivers/linuxbridge/agent/linuxbridge_neutron_agent.py', 'neutron/tests/functional/agent/linux/test_ip_lib.py', 'neutron/tests/unit/plugins/ml2/drivers/linuxbridge/agent/test_linuxbridge_neutron_agent.py', 'neutron/agent/linux/ip_lib.py', 'neutron/tests/unit/agent/linux/test_ip_lib.py', 'neutron/tests/functional/agent/linux/test_bridge_lib.py', 'neutron/tests/functional/agent/linux/test_tc_lib.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/440b12f33b4c73db971cfccaa2837feac6211eda', 'message': 'When creating a VXLAN interface, a device is mandatory\n\n""IPWrapper.add_vxlan"" method must have ""dev"" parameter as possitional\nargument. A VXLAN interface must be always created on top of an existing\nnetwork device:\n  https://www.kernel.org/doc/Documentation/networking/vxlan.txt\n\nConflicts:\n    neutron/tests/functional/agent/linux/test_tc_lib.py\n\nCloses-Bug: #1954316\nChange-Id: Ia082f8531ffcc1599206124774599dcdb500274a\n(cherry picked from commit 16a793af19a2dc13e3d121b36db52d6b9ec25278)\n(cherry picked from commit 1dc99e93fee74af9c91f5340941d2e0c33834bad)\n'}]",5,833207,440b12f33b4c73db971cfccaa2837feac6211eda,22,3,3,11975,,,0,"When creating a VXLAN interface, a device is mandatory

""IPWrapper.add_vxlan"" method must have ""dev"" parameter as possitional
argument. A VXLAN interface must be always created on top of an existing
network device:
  https://www.kernel.org/doc/Documentation/networking/vxlan.txt

Conflicts:
    neutron/tests/functional/agent/linux/test_tc_lib.py

Closes-Bug: #1954316
Change-Id: Ia082f8531ffcc1599206124774599dcdb500274a
(cherry picked from commit 16a793af19a2dc13e3d121b36db52d6b9ec25278)
(cherry picked from commit 1dc99e93fee74af9c91f5340941d2e0c33834bad)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/07/833207/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/cmd/sanity/checks.py', 'neutron/plugins/ml2/drivers/linuxbridge/agent/linuxbridge_neutron_agent.py', 'neutron/tests/functional/agent/linux/test_ip_lib.py', 'neutron/tests/unit/plugins/ml2/drivers/linuxbridge/agent/test_linuxbridge_neutron_agent.py', 'neutron/agent/linux/ip_lib.py', 'neutron/tests/functional/agent/linux/test_bridge_lib.py', 'neutron/tests/unit/agent/linux/test_ip_lib.py', 'neutron/tests/functional/agent/linux/test_tc_lib.py']",8,51bcb7813a945a2b8a4886133b2bd989581d2180,Ia082f8531ffcc1599206124774599dcdb500274a-stable/victoria-stable/ussuri," self.device[i]) ip_device = ip_lib.IPDevice(self.device[i], ns)"," dev=self.device[i]) ip_device = ip_lib.IPDevice(self.device[i], self.ns[i])",24,23
openstack%2Ftripleo-ci~master~Iceac34b13812831b5c1c700eef51d2c66eda5994,openstack/tripleo-ci,master,Iceac34b13812831b5c1c700eef51d2c66eda5994,DNM Testing FIPS deps,ABANDONED,2022-04-12 14:36:39.000000000,2022-04-21 12:28:25.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-04-12 14:36:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/a178485ccdc7d7e6d4939d1ef9a75c69b2172ea8', 'message': 'DNM Testing FIPS deps\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-quickstart/+/815750\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/830308\nDepends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/833451\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Iceac34b13812831b5c1c700eef51d2c66eda5994\n'}, {'number': 2, 'created': '2022-04-12 14:43:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/5b55e6b354ba242e2642f56bc68b08369f984c1d', 'message': 'DNM Testing FIPS deps\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-quickstart/+/815750\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/830308\nDepends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/833451\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Iceac34b13812831b5c1c700eef51d2c66eda5994\n'}, {'number': 3, 'created': '2022-04-12 14:48:12.000000000', 'files': ['roles/run-test/tasks/main.yaml', 'zuul.d/base.yaml', 'zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/769189813bf02e03080302c2c086aad2d05e5b57', 'message': 'DNM Testing FIPS deps\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-quickstart/+/815750\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/830308\nDepends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/833451\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Iceac34b13812831b5c1c700eef51d2c66eda5994\n'}]",0,837579,769189813bf02e03080302c2c086aad2d05e5b57,6,2,3,32926,,,0,"DNM Testing FIPS deps

Depends-On: https://review.opendev.org/c/openstack/tripleo-quickstart/+/815750
Depends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/830308
Depends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/833451

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: Iceac34b13812831b5c1c700eef51d2c66eda5994
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/79/837579/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/base.yaml'],1,a178485ccdc7d7e6d4939d1ef9a75c69b2172ea8,,# DNM,,1,0
openstack%2Fcharm-neutron-api-plugin-ironic~master~Ie291a91ae77ea53dad682566c2b5a339b622e16f,openstack/charm-neutron-api-plugin-ironic,master,Ie291a91ae77ea53dad682566c2b5a339b622e16f,Updates to enable jammy and finalise charmcraft builds,MERGED,2022-03-25 17:14:05.000000000,2022-04-21 12:27:08.000000000,2022-04-21 12:27:08.000000000,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-03-25 17:14:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-api-plugin-ironic/commit/4d6914d3f7a9ce08ebc2eafff86141ae0df419e2', 'message': 'Updates to enable jammy and finalise charmcraft builds\n\n- Add 22.04 to charmcraft.yaml\n- Update metadata to include jammy\n- Remove impish from metadata\n- Update osci.yaml to include py3.10 default job\n- Modify tox.ini to remove py35,py36,py37 tox target and add py310\n  target.\n- ensure that the openstack-origin is yoga\n\nChange-Id: Ie291a91ae77ea53dad682566c2b5a339b622e16f\n'}, {'number': 2, 'created': '2022-03-29 02:50:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-api-plugin-ironic/commit/1c843bcef68872ae1b7e91e73c0c59e12d3a53cb', 'message': 'Updates to enable jammy and finalise charmcraft builds\n\n- Add 22.04 to charmcraft.yaml\n- Update metadata to include jammy\n- Remove impish from metadata\n- Update osci.yaml to include py3.10 default job\n- Modify tox.ini to remove py35,py36,py37 tox target and add py310\n  target.\n- ensure that the openstack-origin is yoga\n\nChange-Id: Ie291a91ae77ea53dad682566c2b5a339b622e16f\n'}, {'number': 3, 'created': '2022-04-01 13:05:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-api-plugin-ironic/commit/212772fa0fe7d559d04a11ce228ad6b88a1b2ce4', 'message': 'Updates to enable jammy and finalise charmcraft builds\n\n- Add 22.04 to charmcraft.yaml\n- Update metadata to include jammy\n- Remove impish from metadata\n- Update osci.yaml to include py3.10 default job\n- Modify tox.ini to remove py35,py36,py37 tox target and add py310\n  target.\n- ensure that the openstack-origin is yoga\n\nChange-Id: Ie291a91ae77ea53dad682566c2b5a339b622e16f\n'}, {'number': 4, 'created': '2022-04-01 18:18:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-api-plugin-ironic/commit/2d75c3889ba1f01d2c3e4ee62eb9ae36ab2be07f', 'message': 'Updates to enable jammy and finalise charmcraft builds\n\n- Add 22.04 to charmcraft.yaml\n- Update metadata to include jammy\n- Remove impish from metadata\n- Update osci.yaml to include py3.10 default job\n- Modify tox.ini to remove py35,py36,py37 tox target and add py310\n  target.\n- ensure that the openstack-origin is yoga\n\nChange-Id: Ie291a91ae77ea53dad682566c2b5a339b622e16f\n'}, {'number': 5, 'created': '2022-04-02 11:03:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-api-plugin-ironic/commit/4587c46030656a497b17854262effec3a24c3d9c', 'message': 'Updates to enable jammy and finalise charmcraft builds\n\n- Add 22.04 to charmcraft.yaml\n- Update metadata to include jammy\n- Remove impish from metadata\n- Update osci.yaml to include py3.10 default job\n- Modify tox.ini to remove py35,py36,py37 tox target and add py310\n  target.\n- ensure that the openstack-origin is yoga\n\nChange-Id: Ie291a91ae77ea53dad682566c2b5a339b622e16f\n'}, {'number': 6, 'created': '2022-04-04 14:51:08.000000000', 'files': ['osci.yaml', 'requirements.txt', 'charmcraft.yaml', 'src/metadata.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-neutron-api-plugin-ironic/commit/6b1db268584a92c12b8c2bbf61258ab2dd4b1224', 'message': 'Updates to enable jammy and finalise charmcraft builds\n\n- Add 22.04 to charmcraft.yaml\n- Update metadata to include jammy\n- Remove impish from metadata\n- Update osci.yaml to include py3.10 default job\n- Modify tox.ini to remove py35,py36,py37 tox target and add py310\n  target.\n- ensure that the openstack-origin is yoga\n\nChange-Id: Ie291a91ae77ea53dad682566c2b5a339b622e16f\n'}]",1,835298,6b1db268584a92c12b8c2bbf61258ab2dd4b1224,24,3,6,20870,,,0,"Updates to enable jammy and finalise charmcraft builds

- Add 22.04 to charmcraft.yaml
- Update metadata to include jammy
- Remove impish from metadata
- Update osci.yaml to include py3.10 default job
- Modify tox.ini to remove py35,py36,py37 tox target and add py310
  target.
- ensure that the openstack-origin is yoga

Change-Id: Ie291a91ae77ea53dad682566c2b5a339b622e16f
",git fetch https://review.opendev.org/openstack/charm-neutron-api-plugin-ironic refs/changes/98/835298/4 && git format-patch -1 --stdout FETCH_HEAD,"['osci.yaml', 'charmcraft.yaml', 'src/metadata.yaml', 'tox.ini']",4,4d6914d3f7a9ce08ebc2eafff86141ae0df419e2,charmhub-migration-yoga,[testenv:py310] basepython = python3.10,[testenv:py35] basepython = python3.5 deps = -r{toxinidir}/test-requirements.txt commands = stestr run --slowest {posargs} [testenv:py36] basepython = python3.6 deps = -r{toxinidir}/test-requirements.txt commands = stestr run --slowest {posargs} [testenv:py37] basepython = python3.7 deps = -r{toxinidir}/test-requirements.txt commands = stestr run --slowest {posargs} [testenv:py39] basepython = python3.9,24,23
openstack%2Ftripleo-heat-templates~master~I367da9ed5ac8db3dfc12064f24bfb03d1a0c2869,openstack/tripleo-heat-templates,master,I367da9ed5ac8db3dfc12064f24bfb03d1a0c2869,Add Octavia TLS parameters,MERGED,2022-03-07 11:02:52.000000000,2022-04-21 12:13:07.000000000,2022-03-21 15:33:56.000000000,"[{'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29244}]","[{'number': 1, 'created': '2022-03-07 11:02:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/37860147eb8d93aef97483b02ceb4d9efa5d128a', 'message': 'Add Octavia TLS parameters\n\nChange-Id: I367da9ed5ac8db3dfc12064f24bfb03d1a0c2869\n'}, {'number': 2, 'created': '2022-03-07 16:02:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8d6b3657c12b30e9c47d2a33bd10d104d3dda75d', 'message': 'Add Octavia TLS parameters\n\nChange-Id: I367da9ed5ac8db3dfc12064f24bfb03d1a0c2869\n'}, {'number': 3, 'created': '2022-03-08 13:16:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3d6197e4c257d2e2db804a804abb8ad80b967df8', 'message': 'Add Octavia TLS parameters\n\nChange-Id: I367da9ed5ac8db3dfc12064f24bfb03d1a0c2869\n'}, {'number': 4, 'created': '2022-03-08 16:24:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/02fe00b813e7bfc38e0c608297fa42c2d224a621', 'message': 'Add Octavia TLS parameters\n\nChange-Id: I367da9ed5ac8db3dfc12064f24bfb03d1a0c2869\n'}, {'number': 5, 'created': '2022-03-09 10:09:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0400a51d6d720a3f12ea4bb24cf24202a8482084', 'message': 'Add Octavia TLS parameters\n\nChange-Id: I367da9ed5ac8db3dfc12064f24bfb03d1a0c2869\n'}, {'number': 6, 'created': '2022-03-09 15:51:37.000000000', 'files': ['releasenotes/notes/add-octavia-tls-settings-7583df511c53b27a.yaml', 'deployment/octavia/octavia-api-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/875155550959d112acc37f74d88a674fca640167', 'message': 'Add Octavia TLS parameters\n\nChange-Id: I367da9ed5ac8db3dfc12064f24bfb03d1a0c2869\n'}]",10,832216,875155550959d112acc37f74d88a674fca640167,35,6,6,34429,,,0,"Add Octavia TLS parameters

Change-Id: I367da9ed5ac8db3dfc12064f24bfb03d1a0c2869
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/16/832216/6 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/add-octavia-tls-settings-7583df511c53b27a.yaml', 'deployment/octavia/octavia-api-container-puppet.yaml']",2,37860147eb8d93aef97483b02ceb4d9efa5d128a,," OctaviaDefaultListenerCiphers: type: string default: 'TLS_AES_256_GCM_SHA384:TLS_CHACHA20_POLY1305_SHA256:TLS_AES_128_GCM_SHA256:DHE-RSA-AES256-GCM-SHA384:DHE-RSA-AES128-GCM-SHA256:ECDHE-RSA-AES256-GCM-SHA384:ECDHE-RSA-AES128-GCM-SHA256:DHE-RSA-AES256-SHA256:DHE-RSA-AES128-SHA256:ECDHE-RSA-AES256-SHA384:ECDHE-RSA-AES128-SHA256' OctaviaDefaultPoolCiphers: type: string default: 'TLS_AES_256_GCM_SHA384:TLS_CHACHA20_POLY1305_SHA256:TLS_AES_128_GCM_SHA256:DHE-RSA-AES256-GCM-SHA384:DHE-RSA-AES128-GCM-SHA256:ECDHE-RSA-AES256-GCM-SHA384:ECDHE-RSA-AES128-GCM-SHA256:DHE-RSA-AES256-SHA256:DHE-RSA-AES128-SHA256:ECDHE-RSA-AES256-SHA384:ECDHE-RSA-AES128-SHA256' OctaviaTlsCiphersProhibitList: type: string # comma separated list default: '' OctaviaListenerTlsVersions: type: string default: 'TLSv1.2, TLSv1.3' OctaviaPoolTlsVersions: type: string default: 'TLSv1.2, TLSv1.3' OctaviaMinimumTlsVersion: type: string default: '' octavia::api::default_listener_ciphers: {get_param: OctaviaDefaultListenerCiphers} octavia::api::default_pool_ciphers: {get_param: OctaviaDefaultPoolCiphers} octavia::api::tls_cipher_prohibit_list: {get_param: OctaviaTlsCiphersProhibitList} octavia::api::default_listener_tls_versions: {get_param: OctaviaListenerTlsVersions} octavia::api::default_pool_tls_versions: {get_param: OctaviaPoolTlsVersions} octavia::api::minimum_tls_version: {get_param: OctaviaMinimumTlsVersion}",,28,0
openstack%2Fopenstack-ansible~stable%2Fwallaby~I3eb319b5bda99ff908580228fbc08997b899688c,openstack/openstack-ansible,stable/wallaby,I3eb319b5bda99ff908580228fbc08997b899688c,Bump SHAs for Wallaby,MERGED,2022-04-20 16:43:05.000000000,2022-04-21 12:12:15.000000000,2022-04-21 12:10:28.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-04-20 16:43:05.000000000', 'files': ['playbooks/defaults/repo_packages/openstack_services.yml', 'releasenotes/notes/heartbeat-in-pthread-d0c9958361c224f0.yaml', 'releasenotes/notes/rabbitmq_manage_hosts-834150c45dfc0771.yaml', 'releasenotes/notes/heartbeat-in-pthread-9f5fde7bfdd7d306.yaml', 'playbooks/defaults/repo_packages/gnocchi.yml', 'playbooks/defaults/repo_packages/nova_consoles.yml', 'releasenotes/notes/optional_cinder_audit_send_actions-76bf53ee0df68383.yaml', 'releasenotes/notes/heartbeat-in-pthread-6266b4bad0efa00c.yaml', 'ansible-role-requirements.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/bf0a8f1ae42934c80f79a8b71941fb31bea31ed7', 'message': ""Bump SHAs for Wallaby\n\nWith that also add `shallow_since` option to ensure that we\ndon't rely on depth anymore during bootstrap process,\nwhich causes failures when a lot of new PRs were merged in short\ntime.\n\nCloses-Bug: #1969514\nChange-Id: I3eb319b5bda99ff908580228fbc08997b899688c\n""}]",0,838758,bf0a8f1ae42934c80f79a8b71941fb31bea31ed7,10,3,1,28619,,,0,"Bump SHAs for Wallaby

With that also add `shallow_since` option to ensure that we
don't rely on depth anymore during bootstrap process,
which causes failures when a lot of new PRs were merged in short
time.

Closes-Bug: #1969514
Change-Id: I3eb319b5bda99ff908580228fbc08997b899688c
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/58/838758/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/defaults/repo_packages/openstack_services.yml', 'releasenotes/notes/heartbeat-in-pthread-d0c9958361c224f0.yaml', 'releasenotes/notes/rabbitmq_manage_hosts-834150c45dfc0771.yaml', 'playbooks/defaults/repo_packages/gnocchi.yml', 'releasenotes/notes/heartbeat-in-pthread-9f5fde7bfdd7d306.yaml', 'playbooks/defaults/repo_packages/nova_consoles.yml', 'releasenotes/notes/optional_cinder_audit_send_actions-76bf53ee0df68383.yaml', 'releasenotes/notes/heartbeat-in-pthread-6266b4bad0efa00c.yaml', 'ansible-role-requirements.yml']",9,bf0a8f1ae42934c80f79a8b71941fb31bea31ed7,bump_osa,### HEAD as of 20.04.2022 ### shallow_since: '2021-06-28' shallow_since: '2021-06-30' version: 5070371eddc644384f57b472b49a79d3adbe573f shallow_since: '2022-04-10' shallow_since: '2022-02-14' shallow_since: '2021-07-15' shallow_since: '2021-12-23' shallow_since: '2022-01-27' shallow_since: '2022-02-01' shallow_since: '2022-02-07' shallow_since: '2021-06-28' version: eefdc4a3af05120669065930efddf1cddc954d6b shallow_since: '2022-04-03' shallow_since: '2022-02-03' shallow_since: '2021-06-28' shallow_since: '2021-06-28' shallow_since: '2021-06-28' shallow_since: '2021-06-28' shallow_since: '2021-06-28' shallow_since: '2021-07-15' version: 5e8e7720e7516b60a0c552c552ca9e35a89cff45 shallow_since: '2022-04-15' shallow_since: '2021-06-28' shallow_since: '2021-06-28' shallow_since: '2022-01-12' shallow_since: '2021-12-22' shallow_since: '2021-06-28' version: cafa4a358fa5363af7abe39366a34543c6aca7df shallow_since: '2022-03-09' shallow_since: '2021-06-28' shallow_since: '2021-06-28' shallow_since: '2021-06-28' shallow_since: '2021-06-28' shallow_since: '2021-06-28' shallow_since: '2021-11-21' version: 713ae64c49cb145eac3a445127210c5e8784aed6 shallow_since: '2022-03-15' version: 80683028366cb5ff895fda3d95fac14c4b5dfc62 shallow_since: '2022-04-03' shallow_since: '2021-12-01' shallow_since: '2021-06-28' shallow_since: '2021-06-28' shallow_since: '2021-12-22' shallow_since: '2021-06-28' shallow_since: '2021-06-28' shallow_since: '2021-06-28' shallow_since: '2021-06-28' version: 1869a9f138bcbbdbb53f2686cd567f71e073472d shallow_since: '2022-04-03' shallow_since: '2021-06-28' shallow_since: '2021-06-28' shallow_since: '2021-07-01' shallow_since: '2022-01-20' version: 282f56b573de0c7eead53636545bdbe167c264ee shallow_since: '2022-04-03' shallow_since: '2022-02-10' shallow_since: '2021-06-28' shallow_since: '2021-06-30' version: 2ba5bfee852aec5f699bf1c53193f7935beed825 shallow_since: '2022-04-18' shallow_since: '2021-09-12' shallow_since: '2020-05-11' shallow_since: '2019-03-21' shallow_since: '2021-03-31' version: f224782326834a4450173056658c6e08c30903f6 shallow_since: '2022-04-13' shallow_since: '2019-09-14' shallow_since: '2018-03-22' shallow_since: '2021-01-12' shallow_since: '2021-06-30' shallow_since: '2021-07-01' shallow_since: '2021-06-30' version: e7307f5d01db07cc504eb619654a0829c9d4e92c shallow_since: '2022-02-28' shallow_since: '2021-06-28' shallow_since: '2021-06-29',### HEAD as of 22.02.2022 ### version: bd7543a73681f16e20d5562291b8f545fc4fb904 version: e75b7a6f1ae880815d0c37c173508fed4bf7ce9c version: d412e1b7015a482d30d1b1fe5052c947a25ce880 version: 7a9d3fbe712a316c5d36c57c91970d51f39d7881 version: c997e3dc2f789e64e89dd5219c0ff2794ab37d9b version: 5a1a798e4ca5923e8ae8ada9f277879b9117bbef version: bd399b80e9de12452f1bee620bc60a69c142bf40 version: 5a22d53bff67a1697e09070246679d0d385c5bd9 version: 59a3cb190f7913e32b044dc2733cfe7e46c4c99a version: d7878363509b34950609adba47c975d9e26366f2 shallow_since: '2022-02-21' version: 3a86515670239aa403a40d0d19b7660a4dd41dd0,130,35
openstack%2Fdiskimage-builder~master~Iad6eaba8613cd43680e6012d0828a9925e2da7a1,openstack/diskimage-builder,master,Iad6eaba8613cd43680e6012d0828a9925e2da7a1,Remove Ubuntu Trusty testing,ABANDONED,2019-08-30 20:39:28.000000000,2022-04-21 12:02:47.000000000,,"[{'_account_id': 7118}, {'_account_id': 10118}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-08-30 20:39:28.000000000', 'files': ['README.rst', '.zuul.d/project.yaml', '.zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/19ca349e4499354b853ef43e53a33b46497e46ad', 'message': 'Remove Ubuntu Trusty testing\n\nAccording to https://wiki.ubuntu.com/Releases this\nis end of general support as of April 2019.\n\nChange-Id: Iad6eaba8613cd43680e6012d0828a9925e2da7a1\n'}]",0,679511,19ca349e4499354b853ef43e53a33b46497e46ad,6,4,1,6593,,,0,"Remove Ubuntu Trusty testing

According to https://wiki.ubuntu.com/Releases this
is end of general support as of April 2019.

Change-Id: Iad6eaba8613cd43680e6012d0828a9925e2da7a1
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/11/679511/1 && git format-patch -1 --stdout FETCH_HEAD,"['README.rst', '.zuul.d/project.yaml', '.zuul.d/jobs.yaml']",3,19ca349e4499354b853ef43e53a33b46497e46ad,opensuse-vote,," - ubuntu-minimal/trusty-build-succeeds - ubuntu/trusty-build-succeeds# Trusty / Python 2 tests - job: name: dib-functests-trusty-python2 description: | Run the default tests on a Trusty build host with Python 2 parent: dib-functests-default nodeset: ubuntu-trusty vars: dib_python: python2 - job: name: dib-functests-trusty-python2-image description: | The image tests on a Trusty build host with Python 2 parent: dib-functests-image nodeset: ubuntu-trusty vars: dib_python: python2 - job: name: dib-functests-trusty-python2-extras description: | The extras tests on a Trusty build host with Python 2 parent: dib-functests-extras nodeset: ubuntu-trusty vars: dib_python: python2 name: dib-nodepool-functional-openstack-ubuntu-trusty-src description: | Test building and booting an Ubuntu trusty image with Nodepool and OpenStack parent: dib-nodepool-functional-src-base pre-run: playbooks/dib-nodepool/debootstrap.yaml nodeset: ubuntu-xenial # Backported debootstrap only available for xenial vars: nodepool_extra_packages: - debootstrap nodepool_diskimage: base_element: ubuntu-minimal release: 'trusty' mirror: ""http://{{ zuul_site_mirror_fqdn }}/ubuntu"" - job:",2,54
openstack%2Fneutron~stable%2Ftrain~Ie2e4441f766947a2164dec2d1555c7049428903f,openstack/neutron,stable/train,Ie2e4441f766947a2164dec2d1555c7049428903f,[OVS][FW] Initialize ConjIdMap._max_id depending on the current OFs,MERGED,2021-11-26 12:32:20.000000000,2022-04-21 11:47:57.000000000,2022-04-21 11:46:25.000000000,"[{'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-26 12:32:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d2a45e7fc72710e53981336982ef24fa865c4ef5', 'message': ""[OVS][FW] Initialize ConjIdMap._max_id depending on the current OFs\n\nThe OVS Firewall has a singleton class that manages the conjuction IDs\nto used in the OF rules. Those conjuntions are used to group rules\nrelated to remote security group IDs.\n\nNow each time the OVS agent is started, the OVS Firewall initial\nconjunction ID is calculated based on the present OF rules. This value\nand the next one used won't clash with any present rule in the\nintegration bridge during the initial transient period.\n\nRelated-Bug: #1934917\n\nChange-Id: Ie2e4441f766947a2164dec2d1555c7049428903f\n(cherry picked from commit 0634dcc6d0f08c18c69a2c360a2c5c0581ec7bb6)\n""}, {'number': 2, 'created': '2022-01-19 09:23:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6946b5b74162e92ba79b163cf99c9acebc43f455', 'message': ""[OVS][FW] Initialize ConjIdMap._max_id depending on the current OFs\n\nThe OVS Firewall has a singleton class that manages the conjuction IDs\nto used in the OF rules. Those conjuntions are used to group rules\nrelated to remote security group IDs.\n\nNow each time the OVS agent is started, the OVS Firewall initial\nconjunction ID is calculated based on the present OF rules. This value\nand the next one used won't clash with any present rule in the\nintegration bridge during the initial transient period.\n\nRelated-Bug: #1934917\n\nChange-Id: Ie2e4441f766947a2164dec2d1555c7049428903f\n(cherry picked from commit 0634dcc6d0f08c18c69a2c360a2c5c0581ec7bb6)\n""}, {'number': 3, 'created': '2022-01-25 19:37:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2d1355e8dd0538bddd7adda3937e37a84fc6285d', 'message': ""[OVS][FW] Initialize ConjIdMap._max_id depending on the current OFs\n\nThe OVS Firewall has a singleton class that manages the conjuction IDs\nto used in the OF rules. Those conjuntions are used to group rules\nrelated to remote security group IDs.\n\nNow each time the OVS agent is started, the OVS Firewall initial\nconjunction ID is calculated based on the present OF rules. This value\nand the next one used won't clash with any present rule in the\nintegration bridge during the initial transient period.\n\nRelated-Bug: #1934917\n\nChange-Id: Ie2e4441f766947a2164dec2d1555c7049428903f\n(cherry picked from commit 0634dcc6d0f08c18c69a2c360a2c5c0581ec7bb6)\n""}, {'number': 4, 'created': '2022-04-04 09:16:44.000000000', 'files': ['neutron/agent/linux/openvswitch_firewall/firewall.py', 'neutron/tests/unit/services/logapi/drivers/openvswitch/test_ovs_firewall_log.py', 'neutron/services/logapi/drivers/openvswitch/ovs_firewall_log.py', 'neutron/tests/unit/agent/linux/openvswitch_firewall/test_firewall.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/57b63954c6fab419bdb5cf493b2d9ce63e9227e6', 'message': ""[OVS][FW] Initialize ConjIdMap._max_id depending on the current OFs\n\nThe OVS Firewall has a singleton class that manages the conjuction IDs\nto used in the OF rules. Those conjuntions are used to group rules\nrelated to remote security group IDs.\n\nNow each time the OVS agent is started, the OVS Firewall initial\nconjunction ID is calculated based on the present OF rules. This value\nand the next one used won't clash with any present rule in the\nintegration bridge during the initial transient period.\n\nRelated-Bug: #1934917\n\nChange-Id: Ie2e4441f766947a2164dec2d1555c7049428903f\n(cherry picked from commit 0634dcc6d0f08c18c69a2c360a2c5c0581ec7bb6)\n""}]",35,819443,57b63954c6fab419bdb5cf493b2d9ce63e9227e6,90,5,4,16688,,,0,"[OVS][FW] Initialize ConjIdMap._max_id depending on the current OFs

The OVS Firewall has a singleton class that manages the conjuction IDs
to used in the OF rules. Those conjuntions are used to group rules
related to remote security group IDs.

Now each time the OVS agent is started, the OVS Firewall initial
conjunction ID is calculated based on the present OF rules. This value
and the next one used won't clash with any present rule in the
integration bridge during the initial transient period.

Related-Bug: #1934917

Change-Id: Ie2e4441f766947a2164dec2d1555c7049428903f
(cherry picked from commit 0634dcc6d0f08c18c69a2c360a2c5c0581ec7bb6)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/43/819443/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/linux/openvswitch_firewall/firewall.py', 'neutron/tests/unit/services/logapi/drivers/openvswitch/test_ovs_firewall_log.py', 'neutron/services/logapi/drivers/openvswitch/ovs_firewall_log.py', 'neutron/tests/unit/agent/linux/openvswitch_firewall/test_firewall.py']",4,d2a45e7fc72710e53981336982ef24fa865c4ef5,bug/1934917,"from os_ken.ofproto import ofproto_v1_3_parserMATCH_1 = ofproto_v1_3_parser.OFPMatch( _ordered_fields=[('conj_id', 100), ('eth_type', 2048), ('reg5', 12), ('ct_state', (2, 14))]) MATCH_2 = ofproto_v1_3_parser.OFPMatch( _ordered_fields=[('conj_id', 200), ('eth_type', 2048), ('reg5', 12), ('ct_state', (2, 14))]) MATCH_3 = ofproto_v1_3_parser.OFPMatch( _ordered_fields=[('reg5', 13), ('ct_state', (10, 14)), ('ct_zone', 1), ('ct_mark', 0)]) MATCH_4 = ofproto_v1_3_parser.OFPMatch( _ordered_fields=[('eth_type', 34525), ('ip_proto', 58), ('icmpv6_type', 136), ('reg5', 11)]) INIT_OF_RULES = [ mock.Mock(match=MATCH_1), mock.Mock(match=MATCH_2), mock.Mock(match=MATCH_3), mock.Mock(match=MATCH_4), ] INIT_OF_RULES_VSCTL = [ 'priority=40,ct_state=+est,ip,reg5=0xd actions=ct(commit,zone=NXM_NX_REG6[' '0..15],exec(load:0x1->NXM_NX_CT_MARK[]))', 'priority=70,conj_id=100,ct_state=+est-rel-rpl,ip,reg5=0xc actions=load:0x' 'f0->NXM_NX_REG7[],output:12', 'priority=70,conj_id=200,ct_state=+est-rel-rpl,ipv6,reg5=0xc actions=load:' '0xf8->NXM_NX_REG7[],output:12', 'priority=73,ct_state=+est-rel-rpl,ip,reg6=0x1,nw_src=10.10.0.42 actions=c' 'onjunction(118,1/2)', 'priority=70,ct_state=+est-rel-rpl,ip,reg6=0x1,nw_src=10.10.0.61 actions=c' 'onjunction(120,1/2)' ] self.mock_int_br = mock.Mock() self.dump_flows_ret = [[]] * len(ovs_consts.OVS_FIREWALL_TABLES) self.dump_flows_ret[0] = INIT_OF_RULES self.mock_int_br.dump_flows.side_effect = self.dump_flows_ret self.conj_id_map = ovsfw.ConjIdMap(self.mock_int_br) self.conj_id_map._max_id = 0 def test__init_max_id_os_ken(self): self.mock_int_br.dump_flows.side_effect = self.dump_flows_ret self.assertEqual(208, self.conj_id_map._init_max_id(self.mock_int_br)) match = ofproto_v1_3_parser.OFPMatch( _ordered_fields=[('conj_id', 237), ('eth_type', 2048), ('reg5', 12), ('ct_state', (2, 14))]) new_rule = mock.Mock(match=match) self.dump_flows_ret[0] = INIT_OF_RULES + [new_rule] self.mock_int_br.dump_flows.side_effect = self.dump_flows_ret self.assertEqual(240, self.conj_id_map._init_max_id(self.mock_int_br)) def test__init_max_id_vsctl(self): self.mock_int_br.dump_flows.side_effect = AttributeError() dump_flows_ret = [[]] * len(ovs_consts.OVS_FIREWALL_TABLES) dump_flows_ret[0] = INIT_OF_RULES_VSCTL self.mock_int_br.dump_flows_for_table.side_effect = dump_flows_ret self.assertEqual(208, self.conj_id_map._init_max_id(self.mock_int_br)) new_rule = ('priority=70,conj_id=237,ct_state=+est-rel-rpl,ipv6,reg5=0' 'xc actions=load:0xf8->NXM_NX_REG7[],output:12') dump_flows_ret[0] = INIT_OF_RULES_VSCTL + [new_rule] self.mock_int_br.dump_flows_for_table.side_effect = dump_flows_ret self.assertEqual(240, self.conj_id_map._init_max_id(self.mock_int_br)) def test__next_max_id(self): self.assertEqual(8, self.conj_id_map._next_max_id(0)) self.assertEqual(0, self.conj_id_map._next_max_id( self.conj_id_map.MAX_CONJ_ID - 1)) self.driver.int_br.br.dump_flows.return_value = INIT_OF_RULES mock.patch.object(ovsfw.ConjIdMap, '_init_max_id', return_value=0).start()", self.conj_id_map = ovsfw.ConjIdMap(),134,11
openstack%2Foctavia~stable%2Fxena~I293720d61d4109f364201893b7eaa18912aaca88,openstack/octavia,stable/xena,I293720d61d4109f364201893b7eaa18912aaca88,Optimize DB object to provider dict conversions,MERGED,2022-02-21 17:26:27.000000000,2022-04-21 11:47:20.000000000,2022-04-21 11:44:27.000000000,"[{'_account_id': 7249}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 34429}]","[{'number': 1, 'created': '2022-02-21 17:26:27.000000000', 'files': ['octavia/tests/unit/controller/worker/v2/test_controller_worker.py', 'octavia/controller/worker/v2/controller_worker.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/2f9fe00eaf0d1e2e1c71ef8e8052767e79a402bf', 'message': 'Optimize DB object to provider dict conversions\n\nSome functions in the amphorav2 driver convert DB objects\nto provider dicts many times in a single call: listeners are converted\nwhen converting a load balancer and are also explicitly converted.\nNow listener dicts are fetched from a recursive load balancer dict, it\nuses a single conversion per call.\n\nChange-Id: I293720d61d4109f364201893b7eaa18912aaca88\n(cherry picked from commit 4388ae7fde59622f461b601f1ac3367b06f5c91e)\n'}]",3,830265,2f9fe00eaf0d1e2e1c71ef8e8052767e79a402bf,15,4,1,29244,,,0,"Optimize DB object to provider dict conversions

Some functions in the amphorav2 driver convert DB objects
to provider dicts many times in a single call: listeners are converted
when converting a load balancer and are also explicitly converted.
Now listener dicts are fetched from a recursive load balancer dict, it
uses a single conversion per call.

Change-Id: I293720d61d4109f364201893b7eaa18912aaca88
(cherry picked from commit 4388ae7fde59622f461b601f1ac3367b06f5c91e)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/65/830265/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/tests/unit/controller/worker/v2/test_controller_worker.py', 'octavia/controller/worker/v2/controller_worker.py']",2,2f9fe00eaf0d1e2e1c71ef8e8052767e79a402bf,," load_balancer).to_dict(recurse=True) listeners_dicts = provider_lb.get('listeners', []) load_balancer).to_dict(recurse=True) listeners_dicts = provider_lb.get('listeners', []) load_balancer).to_dict(recurse=True) listeners_dicts = provider_lb.get('listeners', []) load_balancer).to_dict(recurse=True) store = {constants.LISTENERS: provider_lb['listeners'], load_balancer).to_dict(recurse=True) listeners_dicts = provider_lb.get('listeners', []) load_balancer).to_dict(recurse=True) listeners_dicts = provider_lb.get('listeners', []) load_balancer).to_dict(recurse=True) listeners_dicts = provider_lb.get('listeners', []) load_balancer).to_dict(recurse=True) listeners_dicts = provider_lb.get('listeners', []) load_balancer).to_dict(recurse=True) listeners_dicts = provider_lb.get('listeners', []) load_balancer).to_dict(recurse=True) listeners_dicts = provider_lb.get('listeners', []) load_balancer).to_dict(recurse=True) listeners_dicts = provider_lb.get('listeners', [])"," load_balancer).to_dict() listeners_dicts = ( provider_utils.db_listeners_to_provider_dicts_list_of_dicts( pool.listeners)) load_balancer).to_dict() listeners_dicts = ( provider_utils.db_listeners_to_provider_dicts_list_of_dicts( pool.listeners)) listeners_dicts = ( provider_utils.db_listeners_to_provider_dicts_list_of_dicts( pool.listeners)) load_balancer).to_dict() listeners = load_balancer.listeners dict_listeners = [] for li in listeners: dict_listeners.append( provider_utils.db_listener_to_provider_listener(li).to_dict()) load_balancer).to_dict() store = {constants.LISTENERS: dict_listeners, load_balancer).to_dict() listeners_dicts = ( provider_utils.db_listeners_to_provider_dicts_list_of_dicts( pool.listeners)) load_balancer).to_dict() listeners_dicts = ( provider_utils.db_listeners_to_provider_dicts_list_of_dicts( pool.listeners)) listeners_dicts = ( provider_utils.db_listeners_to_provider_dicts_list_of_dicts( pool.listeners)) load_balancer).to_dict() load_balancer).to_dict() listeners_dicts = ( provider_utils.db_listeners_to_provider_dicts_list_of_dicts( pool.listeners)) load_balancer).to_dict() listeners_dicts = ( provider_utils.db_listeners_to_provider_dicts_list_of_dicts( db_pool.listeners)) listeners_dicts = ( provider_utils.db_listeners_to_provider_dicts_list_of_dicts( db_pool.listeners)) load_balancer).to_dict() load_balancer).to_dict() listeners_dicts = ( provider_utils.db_listeners_to_provider_dicts_list_of_dicts( db_pool.listeners))",33,67
openstack%2Foctavia~stable%2Fxena~If7d68c95173b8da66050659d1fb86225880dafdd,openstack/octavia,stable/xena,If7d68c95173b8da66050659d1fb86225880dafdd,Fix detection of member operating status DRAIN,MERGED,2022-02-21 13:13:23.000000000,2022-04-21 11:46:03.000000000,2022-04-21 11:44:20.000000000,"[{'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 29244}]","[{'number': 1, 'created': '2022-02-21 13:13:23.000000000', 'files': ['octavia/amphorae/backends/utils/haproxy_query.py', 'octavia/tests/unit/amphorae/backends/utils/test_haproxy_query.py', 'releasenotes/notes/fix-drain-status-detection-b9395fa4fe8c936f.yaml'], 'web_link': 'https://opendev.org/openstack/octavia/commit/9718e036926b2423980656bd3a6c2d3dfaa3f294', 'message': 'Fix detection of member operating status DRAIN\n\nWhen querying the status from HAProxy all values get read as\nstrings. Because the check wrongly assumed integer type values\nit never detected the DRAIN status.\n\nStory: 2009817\nTask: 44389\n\nChange-Id: If7d68c95173b8da66050659d1fb86225880dafdd\n(cherry picked from commit d350f0908f5111cf2791feed9ea83219c8b984fb)\n'}]",4,830162,9718e036926b2423980656bd3a6c2d3dfaa3f294,15,3,1,34429,,,0,"Fix detection of member operating status DRAIN

When querying the status from HAProxy all values get read as
strings. Because the check wrongly assumed integer type values
it never detected the DRAIN status.

Story: 2009817
Task: 44389

Change-Id: If7d68c95173b8da66050659d1fb86225880dafdd
(cherry picked from commit d350f0908f5111cf2791feed9ea83219c8b984fb)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/62/830162/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/amphorae/backends/utils/haproxy_query.py', 'octavia/tests/unit/amphorae/backends/utils/test_haproxy_query.py', 'releasenotes/notes/fix-drain-status-detection-b9395fa4fe8c936f.yaml']",3,9718e036926b2423980656bd3a6c2d3dfaa3f294,,"--- fixes: - | Correctly detect the member operating status ""drain"" when querying status data from HAProxy. ",,15,8
openstack%2Fansible-collection-kolla~master~Ie7025342ff0c1a052ccbd449e278bc5d3424a0bf,openstack/ansible-collection-kolla,master,Ie7025342ff0c1a052ccbd449e278bc5d3424a0bf,Adjust iscsi package removal on Red Hat hosts.,MERGED,2022-04-19 15:27:23.000000000,2022-04-21 11:45:57.000000000,2022-04-21 11:44:06.000000000,"[{'_account_id': 13671}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-04-19 15:27:23.000000000', 'files': ['roles/baremetal/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/ansible-collection-kolla/commit/cefaf5df13d2f7fbdbec2f3ec00a26878a33b1c2', 'message': 'Adjust iscsi package removal on Red Hat hosts.\n\nThe host libvirt package should only be removed when the nova-libvirt\ncontainer is enabled. But, removal of iscsi-initiator-utils also causes\nlibvirt to be uninstalled because of its dependency on\nlibvirt-daemon-driver-storage-iscsi.\n\nThis modification prevents iscsi-initiator-utils from being removed\nwhen nova-libvirt is disabled.\n\nChange-Id: Ie7025342ff0c1a052ccbd449e278bc5d3424a0bf\n'}]",4,838520,cefaf5df13d2f7fbdbec2f3ec00a26878a33b1c2,12,4,1,29771,,,0,"Adjust iscsi package removal on Red Hat hosts.

The host libvirt package should only be removed when the nova-libvirt
container is enabled. But, removal of iscsi-initiator-utils also causes
libvirt to be uninstalled because of its dependency on
libvirt-daemon-driver-storage-iscsi.

This modification prevents iscsi-initiator-utils from being removed
when nova-libvirt is disabled.

Change-Id: Ie7025342ff0c1a052ccbd449e278bc5d3424a0bf
",git fetch https://review.opendev.org/openstack/ansible-collection-kolla refs/changes/20/838520/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/baremetal/defaults/main.yml'],1,cefaf5df13d2f7fbdbec2f3ec00a26878a33b1c2,," - ""{% if enable_nova_libvirt_container | bool %}iscsi-initiator-utils{% endif %}""", - iscsi-initiator-utils,1,1
openstack%2Fkolla-ansible~master~I0825e81fcd90fbc7f64c8df3ea9ae199ad79294a,openstack/kolla-ansible,master,I0825e81fcd90fbc7f64c8df3ea9ae199ad79294a,fluentd: remove deprecated parameter,MERGED,2022-04-16 09:16:51.000000000,2022-04-21 11:45:56.000000000,2022-04-21 11:44:02.000000000,"[{'_account_id': 19779}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-04-16 09:16:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b34ef914ec0a0203d7a9c1aa97ab81248644a156', 'message': 'fluentd: remove deprecated parameter\n\nChange-Id: I0825e81fcd90fbc7f64c8df3ea9ae199ad79294a\n'}, {'number': 2, 'created': '2022-04-16 09:36:13.000000000', 'files': ['ansible/roles/common/templates/conf/input/01-syslog.conf.j2', 'ansible/roles/common/templates/conf/input/02-mariadb.conf.j2', 'ansible/roles/common/templates/conf/input/09-monasca.conf.j2', 'ansible/roles/common/templates/conf/input/10-openvswitch.conf.j2', 'ansible/roles/common/templates/conf/output/01-es.conf.j2', 'ansible/roles/common/templates/conf/input/04-openstack-wsgi.conf.j2', 'ansible/roles/common/templates/conf/output/00-local.conf.j2', 'ansible/roles/common/templates/conf/input/03-rabbitmq.conf.j2', 'ansible/roles/common/templates/conf/input/06-zookeeper.conf.j2', 'ansible/roles/common/templates/conf/input/05-libvirt.conf.j2', 'ansible/roles/common/templates/conf/input/00-global.conf.j2', 'ansible/roles/common/templates/conf/input/07-kafka.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/6503644140f3754a2308ad9e43d84ea43c76fb0e', 'message': 'fluentd: remove deprecated parameter\n\nIn fluentd v1.0, ""format"" became a deprecated parameter,\nreplaced by ""<parse>""\n\nChange-Id: I0825e81fcd90fbc7f64c8df3ea9ae199ad79294a\n'}]",0,838206,6503644140f3754a2308ad9e43d84ea43c76fb0e,12,3,2,31506,,,0,"fluentd: remove deprecated parameter

In fluentd v1.0, ""format"" became a deprecated parameter,
replaced by ""<parse>""

Change-Id: I0825e81fcd90fbc7f64c8df3ea9ae199ad79294a
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/06/838206/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/common/templates/conf/input/01-syslog.conf.j2', 'ansible/roles/common/templates/conf/input/02-mariadb.conf.j2', 'ansible/roles/common/templates/conf/input/09-monasca.conf.j2', 'ansible/roles/common/templates/conf/input/10-openvswitch.conf.j2', 'ansible/roles/common/templates/conf/output/01-es.conf.j2', 'ansible/roles/common/templates/conf/input/04-openstack-wsgi.conf.j2', 'ansible/roles/common/templates/conf/output/00-local.conf.j2', 'ansible/roles/common/templates/conf/input/03-rabbitmq.conf.j2', 'ansible/roles/common/templates/conf/input/06-zookeeper.conf.j2', 'ansible/roles/common/templates/conf/input/05-libvirt.conf.j2', 'ansible/roles/common/templates/conf/input/00-global.conf.j2', 'ansible/roles/common/templates/conf/input/07-kafka.conf.j2']",12,b34ef914ec0a0203d7a9c1aa97ab81248644a156,fluentd-remove-legacy-grok-parsing," <parse> @type multiline format_firstline /^\[\d{4}-\d{2}-\d{2} \d{2}:\d{2}:\d{2},\d{3}\] \S+ .*$/ format1 /^\[(?<Timestamp>\d{4}-\d{2}-\d{2} \d{2}:\d{2}:\d{2},\d{3})\] (?<log_level>\S+) (?<Payload>.*)$/ time_key Timestamp </parse>"," format multiline format_firstline /^\[\d{4}-\d{2}-\d{2} \d{2}:\d{2}:\d{2},\d{3}\] \S+ .*$/ format1 /^\[(?<Timestamp>\d{4}-\d{2}-\d{2} \d{2}:\d{2}:\d{2},\d{3})\] (?<log_level>\S+) (?<Payload>.*)$/ time_key Timestamp",74,47
openstack%2Fneutron-lib~master~I54b4c85ffc4856fba7ad5e9e29f77f74815e1275,openstack/neutron-lib,master,I54b4c85ffc4856fba7ad5e9e29f77f74815e1275,Add port-mac-address-override shim extension,MERGED,2022-03-04 12:54:32.000000000,2022-04-21 11:42:09.000000000,2022-04-21 11:40:49.000000000,"[{'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 15554}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-03-04 12:54:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/606652d8042cad9acf2e9d3cecaef6e784382fd6', 'message': 'Document that PF MAC is shown from the binding:profile\n\nThe neutron patch Ib0638f5db69cb92daf6932890cb89e83cf84f295 introduced a\nway to provide a MAC address for a direct-physical port at binding time.\nSo this patch document that behavior in the API ref.\n\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/829247\nRelated-Bug: #1942329\nChange-Id: I54b4c85ffc4856fba7ad5e9e29f77f74815e1275\n'}, {'number': 2, 'created': '2022-03-18 15:43:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/754939e40fd2607598707a5a87f0e90ba929a368', 'message': 'Add port-mac-address-override shim extension\n\nThe neutron patch Ib0638f5db69cb92daf6932890cb89e83cf84f295 introduces a\nway to provide a MAC address for a direct-physical port at binding time.\nSo this patch adds an API extension and document the new behavior in the API ref.\n\nRelated-Bug: #1942329\nChange-Id: I54b4c85ffc4856fba7ad5e9e29f77f74815e1275\n'}, {'number': 3, 'created': '2022-03-18 16:05:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/9555bfe7131db324a819dca9e959000a4921cad5', 'message': 'Add port-mac-address-override shim extension\n\nThe neutron patch Ib0638f5db69cb92daf6932890cb89e83cf84f295 introduces a\nway to provide a MAC address for a direct-physical port at binding time.\nSo this patch adds an API extension and document the new behavior in the API ref.\n\nRelated-Bug: #1942329\nChange-Id: I54b4c85ffc4856fba7ad5e9e29f77f74815e1275\n'}, {'number': 4, 'created': '2022-03-18 16:24:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/4461b251960c7047f2ba60beff053be173eed1ed', 'message': 'Add port-mac-address-override shim extension\n\nThe neutron patch Ib0638f5db69cb92daf6932890cb89e83cf84f295 introduces a\nway to provide a MAC address for a direct-physical port at binding time.\nSo this patch adds an API extension and document the new behavior in the API ref.\n\nRelated-Bug: #1942329\nChange-Id: I54b4c85ffc4856fba7ad5e9e29f77f74815e1275\n'}, {'number': 5, 'created': '2022-03-20 09:07:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/70ff3f384aa19775b4866247b55580fe82781b94', 'message': 'Add port-mac-address-override shim extension\n\nThe neutron patch Ib0638f5db69cb92daf6932890cb89e83cf84f295 introduces a\nway to provide a MAC address for a direct-physical port at binding time.\nSo this patch adds an API extension and document the new behavior in the API ref.\n\nRelated-Bug: #1942329\nChange-Id: I54b4c85ffc4856fba7ad5e9e29f77f74815e1275\n'}, {'number': 6, 'created': '2022-03-23 12:41:31.000000000', 'files': ['releasenotes/notes/add-port-mac-address-override-shim-extension-fb11c4f40c12a99b.yaml', 'api-ref/source/v2/parameters.yaml', 'neutron_lib/api/definitions/__init__.py', 'neutron_lib/api/definitions/port_mac_address_override.py', 'neutron_lib/api/definitions/base.py'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/b5f0a2642794a3855097bb1a5221076849ab675f', 'message': 'Add port-mac-address-override shim extension\n\nThe neutron patch Ib0638f5db69cb92daf6932890cb89e83cf84f295 introduces a\nway to provide a MAC address for a direct-physical port at binding time.\nSo this patch adds an API extension and document the new behavior in the API ref.\n\nRelated-Bug: #1942329\nChange-Id: I54b4c85ffc4856fba7ad5e9e29f77f74815e1275\n'}]",12,831935,b5f0a2642794a3855097bb1a5221076849ab675f,30,6,6,9708,,,0,"Add port-mac-address-override shim extension

The neutron patch Ib0638f5db69cb92daf6932890cb89e83cf84f295 introduces a
way to provide a MAC address for a direct-physical port at binding time.
So this patch adds an API extension and document the new behavior in the API ref.

Related-Bug: #1942329
Change-Id: I54b4c85ffc4856fba7ad5e9e29f77f74815e1275
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/35/831935/3 && git format-patch -1 --stdout FETCH_HEAD,['api-ref/source/v2/parameters.yaml'],1,606652d8042cad9acf2e9d3cecaef6e784382fd6,bug/1942329, The MAC address of the port. If the port uses the ``direct-physical`` ``vnic_type`` then this field shows the MAC address provided in the active binding:profile if any., The MAC address of the port.,3,1
openstack%2Fopenstack-ansible~stable%2Fvictoria~I80654337905e37c3049cf2bcc7b996c644c28caa,openstack/openstack-ansible,stable/victoria,I80654337905e37c3049cf2bcc7b996c644c28caa,Bump SHAa for Victoria,MERGED,2022-04-20 16:17:09.000000000,2022-04-21 11:40:51.000000000,2022-04-21 11:38:59.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-04-20 16:17:09.000000000', 'files': ['playbooks/defaults/repo_packages/openstack_services.yml', 'playbooks/defaults/repo_packages/gnocchi.yml', 'playbooks/defaults/repo_packages/nova_consoles.yml', 'ansible-role-requirements.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/70da49bb19a92caf772be7ea2c6c87af81f6fe52', 'message': 'Bump SHAa for Victoria\n\nChange-Id: I80654337905e37c3049cf2bcc7b996c644c28caa\n'}]",0,838754,70da49bb19a92caf772be7ea2c6c87af81f6fe52,8,3,1,28619,,,0,"Bump SHAa for Victoria

Change-Id: I80654337905e37c3049cf2bcc7b996c644c28caa
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/54/838754/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/defaults/repo_packages/openstack_services.yml', 'playbooks/defaults/repo_packages/gnocchi.yml', 'playbooks/defaults/repo_packages/nova_consoles.yml', 'ansible-role-requirements.yml']",4,70da49bb19a92caf772be7ea2c6c87af81f6fe52,bump_osa,### HEAD as of 20.04.2022 ### version: 5070371eddc644384f57b472b49a79d3adbe573f version: 4f09e96558f2dbc4dc76f65e215f0b6218dc000e version: 71bd664fbb85891612ea1a1d5a1f442a8919c9f9 version: 1b21bac0c04de529b2dc4cd278958afa3dfc39c6 version: f224782326834a4450173056658c6e08c30903f6,### HEAD as of 22.02.2022 ### version: bd7543a73681f16e20d5562291b8f545fc4fb904 version: 5fa89bc5d4805bfbca380f18c5d2c0edbb67e453 version: ecdf0ac15826ff64118902acb269a9f6b5dea047 version: 253cfb1f81252e18fa83e8aceebc909bc50857b8 version: d7878363509b34950609adba47c975d9e26366f2,28,28
openstack%2Fnova~master~I989b7da5ff6afae0c1a476e01c3df07870be5f74,openstack/nova,master,I989b7da5ff6afae0c1a476e01c3df07870be5f74,Sync rootwrap.conf from oslo.rootwrap,MERGED,2022-01-02 12:23:32.000000000,2022-04-21 11:35:55.000000000,2022-04-21 11:34:04.000000000,"[{'_account_id': 6062}, {'_account_id': 9708}, {'_account_id': 9816}, {'_account_id': 11604}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-02 12:23:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/94ac33a5176940da2f0e0008410b89c4702bbf8d', 'message': ""Sync rootwrap.conf from oslo.rootwrap\n\nThe current rootwrap.conf file is outdated and doesn't include some\nparameters. This change updates the content to make it consistent with\nthe latest example file in oslo.rootwrap.\n\nChange-Id: I989b7da5ff6afae0c1a476e01c3df07870be5f74\n""}, {'number': 2, 'created': '2022-01-03 00:18:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ce6e25bbb54fe7929297e2b445b4ea3a5532906e', 'message': ""Sync rootwrap.conf from oslo.rootwrap\n\nThe current rootwrap.conf file is outdated and doesn't include some\nparameters. This change updates the content to make it consistent with\nthe latest example file in oslo.rootwrap.\n\nChange-Id: I989b7da5ff6afae0c1a476e01c3df07870be5f74\n""}, {'number': 3, 'created': '2022-04-05 11:14:45.000000000', 'files': ['requirements.txt', 'lower-constraints.txt', 'etc/nova/rootwrap.conf'], 'web_link': 'https://opendev.org/openstack/nova/commit/ca8e4dad7f0b5e34f6544ac510d2259afeef1087', 'message': ""Sync rootwrap.conf from oslo.rootwrap\n\nThe current rootwrap.conf file is outdated and doesn't include some\nparameters. This change updates the content to make it consistent with\nthe latest example file in oslo.rootwrap.\n\nChange-Id: I989b7da5ff6afae0c1a476e01c3df07870be5f74\n""}]",3,823229,ca8e4dad7f0b5e34f6544ac510d2259afeef1087,34,6,3,9816,,,0,"Sync rootwrap.conf from oslo.rootwrap

The current rootwrap.conf file is outdated and doesn't include some
parameters. This change updates the content to make it consistent with
the latest example file in oslo.rootwrap.

Change-Id: I989b7da5ff6afae0c1a476e01c3df07870be5f74
",git fetch https://review.opendev.org/openstack/nova refs/changes/29/823229/1 && git format-patch -1 --stdout FETCH_HEAD,['etc/nova/rootwrap.conf'],1,94ac33a5176940da2f0e0008410b89c4702bbf8d,rootwrap, # Rootwrap daemon exits after this seconds of inactivity daemon_timeout=600 # Rootwrap daemon limits itself to that many file descriptors (Linux only) rlimit_nofile=1024,,6,0
openstack%2Fkolla~stable%2Fyoga~Iecc4fa7e3204a4df7fd41e46e55b2895c43ddc43,openstack/kolla,stable/yoga,Iecc4fa7e3204a4df7fd41e46e55b2895c43ddc43,[release] centos: switch to CentOS cloud SIG packages,MERGED,2022-04-11 11:15:06.000000000,2022-04-21 11:18:01.000000000,2022-04-21 11:16:40.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-04-11 11:15:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/2461bee0d028268c0d13e2efb71a7dc6e4aaf639', 'message': '[release] centos: switch to CentOS cloud SIG packages\n\nChange-Id: Iecc4fa7e3204a4df7fd41e46e55b2895c43ddc43\n'}, {'number': 2, 'created': '2022-04-11 11:38:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/a11565fdd39e9b2609eab973dfa288f2da39d081', 'message': '[release] centos: switch to CentOS cloud SIG packages\n\nChange-Id: Iecc4fa7e3204a4df7fd41e46e55b2895c43ddc43\n'}, {'number': 3, 'created': '2022-04-14 07:07:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/64e0da01dc761aae91e46702c3df998c73f94e03', 'message': '[release] centos: switch to CentOS cloud SIG packages\n\nChange-Id: Iecc4fa7e3204a4df7fd41e46e55b2895c43ddc43\n'}, {'number': 4, 'created': '2022-04-15 06:49:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/2463e3edb046dcdea28e3c3662af6bccb2b4f567', 'message': '[release] centos: switch to CentOS cloud SIG packages\n\nChange-Id: Iecc4fa7e3204a4df7fd41e46e55b2895c43ddc43\n'}, {'number': 5, 'created': '2022-04-15 08:54:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/1043badb598d96af44f3e31624feb5b9dbfe579a', 'message': '[release] centos: switch to CentOS cloud SIG packages\n\nChange-Id: Iecc4fa7e3204a4df7fd41e46e55b2895c43ddc43\n'}, {'number': 6, 'created': '2022-04-15 09:04:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/039dec727611b910b12a96b79d66ee32e5180ecb', 'message': '[release] centos: switch to CentOS cloud SIG packages\n\nChange-Id: Iecc4fa7e3204a4df7fd41e46e55b2895c43ddc43\n'}, {'number': 7, 'created': '2022-04-15 10:54:19.000000000', 'files': ['docker/base/Dockerfile.j2', 'tests/templates/template_overrides.j2', 'kolla/common/config.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/9d22fc32fbe85e84376ac77180f026f1bc7ce2dc', 'message': '[release] centos: switch to CentOS cloud SIG packages\n\nChange-Id: Iecc4fa7e3204a4df7fd41e46e55b2895c43ddc43\n'}]",21,837300,9d22fc32fbe85e84376ac77180f026f1bc7ce2dc,52,4,7,14826,,,0,"[release] centos: switch to CentOS cloud SIG packages

Change-Id: Iecc4fa7e3204a4df7fd41e46e55b2895c43ddc43
",git fetch https://review.opendev.org/openstack/kolla refs/changes/00/837300/2 && git format-patch -1 --stdout FETCH_HEAD,"['docker/base/Dockerfile.j2', 'tests/templates/template_overrides.j2', 'kolla/common/config.py']",3,2461bee0d028268c0d13e2efb71a7dc6e4aaf639,," cfg.ListOpt('rpm_setup_config', default=[],"," cfg.ListOpt('rpm_setup_config', default=[DELOREAN, DELOREAN_DEPS],",2,17
openstack%2Foctavia~stable%2Fxena~I550c7d2563a2d3ada07e2162383f59f104bcbbd5,openstack/octavia,stable/xena,I550c7d2563a2d3ada07e2162383f59f104bcbbd5,Restart rsyslog from cloud-init,MERGED,2022-04-12 10:49:57.000000000,2022-04-21 11:12:14.000000000,2022-04-21 11:10:26.000000000,"[{'_account_id': 7249}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-12 10:49:57.000000000', 'files': ['octavia/tests/unit/controller/worker/v2/tasks/test_compute_tasks.py', 'octavia/common/jinja/templates/user_data_config_drive.template', 'releasenotes/notes/ensure-rsyslog-config-is-reloaded-b4a25a98b661d0f1.yaml', 'octavia/tests/unit/common/jinja/test_user_data_jinja_cfg.py', 'octavia/controller/worker/v2/tasks/compute_tasks.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/220f13f537cba50f0fb575b0e3b5c39c85e8a0b4', 'message': ""Restart rsyslog from cloud-init\n\nOctavia uploads a rsyslog configuration file using cloud-init but\ndoesn't ensure that rsyslog is restarted. In some cases (CentOS 9\nStream), rsyslog is started before cloud-init and doesn't use the\nprovided configuration file.\nThis commit ensures that rsyslog is restarted by cloud-init.\n\nChange-Id: I550c7d2563a2d3ada07e2162383f59f104bcbbd5\n(cherry picked from commit cbffae6eb684629a19844b5f2f4b7523b77a725e)\n""}]",3,837547,220f13f537cba50f0fb575b0e3b5c39c85e8a0b4,14,3,1,29244,,,0,"Restart rsyslog from cloud-init

Octavia uploads a rsyslog configuration file using cloud-init but
doesn't ensure that rsyslog is restarted. In some cases (CentOS 9
Stream), rsyslog is started before cloud-init and doesn't use the
provided configuration file.
This commit ensures that rsyslog is restarted by cloud-init.

Change-Id: I550c7d2563a2d3ada07e2162383f59f104bcbbd5
(cherry picked from commit cbffae6eb684629a19844b5f2f4b7523b77a725e)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/47/837547/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/tests/unit/controller/worker/v2/tasks/test_compute_tasks.py', 'octavia/common/jinja/templates/user_data_config_drive.template', 'releasenotes/notes/ensure-rsyslog-config-is-reloaded-b4a25a98b661d0f1.yaml', 'octavia/tests/unit/common/jinja/test_user_data_jinja_cfg.py', 'octavia/controller/worker/v2/tasks/compute_tasks.py']",5,220f13f537cba50f0fb575b0e3b5c39c85e8a0b4,, udtemplater = user_data_jinja_cfg.UserDataJinjaCfg() user_data = udtemplater.build_user_data_config( config_drive_files if user_data_config_drive else {}) if user_data_config_drive:, if user_data_config_drive: udtemplater = user_data_jinja_cfg.UserDataJinjaCfg() user_data = udtemplater.build_user_data_config( config_drive_files),54,22
openstack%2Fdevstack~stable%2Frocky~Ib9896a99b6d6c4d359ee412743ce30512b3c4fb7,openstack/devstack,stable/rocky,Ib9896a99b6d6c4d359ee412743ce30512b3c4fb7,Mark our source trees as safe for git to use as other users,MERGED,2022-04-20 10:18:10.000000000,2022-04-21 11:09:17.000000000,2022-04-21 11:09:17.000000000,"[{'_account_id': 4393}, {'_account_id': 5314}, {'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-20 10:18:10.000000000', 'files': ['functions-common', 'unstack.sh'], 'web_link': 'https://opendev.org/openstack/devstack/commit/7f1025e932ac4529d2d604f71c6f6027feed8938', 'message': 'Mark our source trees as safe for git to use as other users\n\ngit commit [1] introduced a new behaviour to work around a CVE that\ndisallows any git operations in directories not owned by the current\nuser.\n\nThis may seem unrelated to installation, but it plays havoc with PBR,\nwhich calls out to git to get to get revision history.  So if you are\n""pip install""-ing from a source tree you don\'t own, the PBR git calls\nin that tree now fail and the install blows up.\n\nThis plays havoc with our model.  Firstly, we checkout all code as\n""stack"" then install it globally with ""sudo"" (i.e. root) -- which\nbreaks.  We also have cases of essentially the opposite -- checkouts\nwe have installed as root, but then run tox in them as a regular user;\ntox wants to install the source in its venv but now we have another\nuser conflict.\n\nThis uses the only available configuration option to avoid that by\nglobally setting the source directories we clone as safe.  This is an\nencroachment of the global system for sure, but is about the only\nswitch available at the moment.  For discussion of other approaches,\nsee [2].\n\nAlso, squashing the below backport which is needed for bionic\n- https://review.opendev.org/q/I941ef5ea90970a0901236afe81c551aaf24ac1d8\n\nRelated-Bug: https://bugs.launchpad.net/devstack/+bug/1968798\n\n[1] https://github.com/git/git/commit/8959555cee7ec045958f9b6dd62e541affb7e7d9\n[2] https://review.opendev.org/c/openstack/devstack/+/837636\n\nChange-Id: Ib9896a99b6d6c4d359ee412743ce30512b3c4fb7\n(cherry picked from commit 676dcaf94487665882be048cfe1f3206d6807e0f)\n(cherry picked from commit a9852abfc5ed7c3faf6a667bdd29a2d6e49bc150)\n(cherry picked from commit 16c57c51a0858ef06c8cf5edbce822831a0fd315)\n(cherry picked from commit c67e7d3bbd15522fc298ed14803c8eda37c21efe)\n'}]",2,838681,7f1025e932ac4529d2d604f71c6f6027feed8938,12,4,1,17685,,,0,"Mark our source trees as safe for git to use as other users

git commit [1] introduced a new behaviour to work around a CVE that
disallows any git operations in directories not owned by the current
user.

This may seem unrelated to installation, but it plays havoc with PBR,
which calls out to git to get to get revision history.  So if you are
""pip install""-ing from a source tree you don't own, the PBR git calls
in that tree now fail and the install blows up.

This plays havoc with our model.  Firstly, we checkout all code as
""stack"" then install it globally with ""sudo"" (i.e. root) -- which
breaks.  We also have cases of essentially the opposite -- checkouts
we have installed as root, but then run tox in them as a regular user;
tox wants to install the source in its venv but now we have another
user conflict.

This uses the only available configuration option to avoid that by
globally setting the source directories we clone as safe.  This is an
encroachment of the global system for sure, but is about the only
switch available at the moment.  For discussion of other approaches,
see [2].

Also, squashing the below backport which is needed for bionic
- https://review.opendev.org/q/I941ef5ea90970a0901236afe81c551aaf24ac1d8

Related-Bug: https://bugs.launchpad.net/devstack/+bug/1968798

[1] https://github.com/git/git/commit/8959555cee7ec045958f9b6dd62e541affb7e7d9
[2] https://review.opendev.org/c/openstack/devstack/+/837636

Change-Id: Ib9896a99b6d6c4d359ee412743ce30512b3c4fb7
(cherry picked from commit 676dcaf94487665882be048cfe1f3206d6807e0f)
(cherry picked from commit a9852abfc5ed7c3faf6a667bdd29a2d6e49bc150)
(cherry picked from commit 16c57c51a0858ef06c8cf5edbce822831a0fd315)
(cherry picked from commit c67e7d3bbd15522fc298ed14803c8eda37c21efe)
",git fetch https://review.opendev.org/openstack/devstack refs/changes/81/838681/1 && git format-patch -1 --stdout FETCH_HEAD,"['functions-common', 'unstack.sh']",2,7f1025e932ac4529d2d604f71c6f6027feed8938,bug/1968798," # Clean any safe.directory items we wrote into the global # gitconfig. We can identify the relevant ones by checking that they # point to somewhere in our $DEST directory. sudo sed -i ""/directory=${DEST}/ d"" /etc/gitconfig",,18,0
openstack%2Ftacker~master~I208ee30b8b0628213325740ae8544de93b8dc9b9,openstack/tacker,master,I208ee30b8b0628213325740ae8544de93b8dc9b9,[WIP] FT for VNF instantiation with member role user,NEW,2022-02-22 02:47:34.000000000,2022-04-21 11:05:34.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-02-22 02:47:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/9503c24889984baccdeb0e96b2b1845b49a24529', 'message': '[DNM] Failing FT for multi tenant policy in LCM\n\nVNF instantiation operation is failing for member role\nuser in multi tenant env.\n\nChange-Id: I208ee30b8b0628213325740ae8544de93b8dc9b9\n'}, {'number': 2, 'created': '2022-02-25 16:13:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/24ddfeb2feac192dfba1a18aa77d30d2b5214c15', 'message': '[DNM] Failing FT for multi tenant policy in LCM\n\nVNF instantiation operation is failing for member role\nuser in multi tenant env.\n\nChange-Id: I208ee30b8b0628213325740ae8544de93b8dc9b9\n'}, {'number': 3, 'created': '2022-02-25 16:30:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/caac95e470179f69775757f814db846f064d0ef6', 'message': '[WIP] FT for VNF instantiation with member role user\n\nVNF instantiation operation is failing for member role\nuser in multi tenant env.\n\nThis patch adds functional test case for VNF instantiation\nfor member role user, modifies heat policies to create VNF\nstack.\n\nChange-Id: I208ee30b8b0628213325740ae8544de93b8dc9b9\n'}, {'number': 4, 'created': '2022-02-28 08:45:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/f763e6981377aca5b2630eb59b1ee08a9787a5dc', 'message': '[WIP] FT for VNF instantiation with member role user\n\nVNF instantiation operation is failing for member role\nuser in multi tenant env.\n\nThis patch adds functional test case for VNF instantiation\nfor member role user, modifies heat policies to create VNF\nstack.\n\nChange-Id: I208ee30b8b0628213325740ae8544de93b8dc9b9\n'}, {'number': 5, 'created': '2022-02-28 10:00:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/5103f34b4c7db222f5f380f2bcb073917c74eb20', 'message': '[WIP] FT for VNF instantiation with member role user\n\nVNF instantiation operation is failing for member role\nuser in multi tenant env.\n\nThis patch adds functional test case for VNF instantiation\nfor member role user, modifies heat policies to create VNF\nstack.\n\nChange-Id: I208ee30b8b0628213325740ae8544de93b8dc9b9\n'}, {'number': 6, 'created': '2022-02-28 13:49:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/2f33b7fb8273028c567035e1e86532573c2329d3', 'message': '[WIP] FT for VNF instantiation with member role user\n\nVNF instantiation operation is failing for member role\nuser in multi tenant env.\n\nThis patch adds functional test case for VNF instantiation\nfor member role user, modifies heat policies to create VNF\nstack.\n\nChange-Id: I208ee30b8b0628213325740ae8544de93b8dc9b9\n'}, {'number': 7, 'created': '2022-02-28 15:35:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/471267c10baa37e5a87c982e8d9e9257f2c38ef6', 'message': '[WIP] FT for VNF instantiation with member role user\n\nVNF instantiation operation is failing for member role\nuser in multi tenant env.\n\nThis patch adds functional test case for VNF instantiation\nfor member role user, modifies heat policies to create VNF\nstack.\n\nChange-Id: I208ee30b8b0628213325740ae8544de93b8dc9b9\n'}, {'number': 8, 'created': '2022-03-01 06:08:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/0f6b50165ce460c0860e4d77650b0f327625d06e', 'message': '[WIP] FT for VNF instantiation with member role user\n\nVNF instantiation operation is failing for member role\nuser in multi tenant env.\n\nThis patch adds functional test case for VNF instantiation\nfor member role user, modifies heat policies to create VNF\nstack.\n\nChange-Id: I208ee30b8b0628213325740ae8544de93b8dc9b9\n'}, {'number': 9, 'created': '2022-03-02 18:34:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/359df1c6c70ba5f6c93f4a6998912aa4c03630e6', 'message': '[WIP] FT for VNF instantiation with member role user\n\nVNF instantiation operation is failing for member role\nuser in multi tenant env.\n\nThis patch adds functional test case for VNF instantiation\nfor member role user, modifies heat policies to create VNF\nstack.\n\nChange-Id: I208ee30b8b0628213325740ae8544de93b8dc9b9\n'}, {'number': 10, 'created': '2022-03-03 18:40:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/b3215c4cbb1aefee10fc1d12c5e582bf95f2fbcb', 'message': '[WIP] FT for VNF instantiation with member role user\n\nVNF instantiation operation is failing for member role\nuser in multi tenant env.\n\nThis patch adds functional test case for VNF instantiation\nfor member role user, modifies heat policies to create VNF\nstack.\n\nChange-Id: I208ee30b8b0628213325740ae8544de93b8dc9b9\n'}, {'number': 11, 'created': '2022-03-04 03:35:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/9b049f46beb747f03572703eec7f4253888c1b25', 'message': '[WIP] FT for VNF instantiation with member role user\n\nVNF instantiation operation is failing for member role\nuser in multi tenant env.\n\nThis patch adds functional test case for VNF instantiation\nfor member role user, modifies heat policies to create VNF\nstack.\n\nChange-Id: I208ee30b8b0628213325740ae8544de93b8dc9b9\n'}, {'number': 12, 'created': '2022-03-08 06:55:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/14cdf84b438bbf4016da43ad3e73c67a44db17c7', 'message': '[WIP] FT for VNF instantiation with member role user\n\nVNF instantiation operation is failing for member role\nuser in multi tenant env.\n\nThis patch adds functional test case for VNF instantiation\nfor member role user, modifies heat policies to create VNF\nstack.\n\nChange-Id: I208ee30b8b0628213325740ae8544de93b8dc9b9\n'}, {'number': 13, 'created': '2022-04-21 07:54:31.000000000', 'files': ['roles/modify-heat-policy/tasks/main.yaml', 'tacker/tests/functional/sol_multi_tenant/vnflcm/test_vnf_lcm_with_multi_tenant.py'], 'web_link': 'https://opendev.org/openstack/tacker/commit/bebe8b478ec398b1a060fefa253fa3d731fe35d0', 'message': '[WIP] FT for VNF instantiation with member role user\n\nVNF instantiation operation is failing for member role\nuser in multi tenant env.\n\nThis patch adds functional test case for VNF instantiation\nfor member role user, modifies heat policies to create VNF\nstack.\n\nChange-Id: I208ee30b8b0628213325740ae8544de93b8dc9b9\n'}]",0,830302,bebe8b478ec398b1a060fefa253fa3d731fe35d0,23,1,13,32102,,,0,"[WIP] FT for VNF instantiation with member role user

VNF instantiation operation is failing for member role
user in multi tenant env.

This patch adds functional test case for VNF instantiation
for member role user, modifies heat policies to create VNF
stack.

Change-Id: I208ee30b8b0628213325740ae8544de93b8dc9b9
",git fetch https://review.opendev.org/openstack/tacker refs/changes/02/830302/11 && git format-patch -1 --stdout FETCH_HEAD,['tacker/tests/functional/sol_multi_tenant/test_vnf_lcm_with_multi_tenant.py'],1,9503c24889984baccdeb0e96b2b1845b49a24529,failing_ft_multi_tenant_policy,"# # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import os from tacker.objects import fields from tacker.tests.functional.sol.vnflcm import base as vnflcm_base from tacker.tests.functional.sol_multi_tenant.vnflcm import base from tacker.tests.functional.sol_multi_tenant.vnflcm import fake_vnflcm import tempfile class VnfLcmWithMultiTenant(base.BaseVnfLcmMultiTenantTest): @classmethod def setUpClass(cls): super(VnfLcmWithMultiTenant, cls).setUpClass() # ModifyVNF specific image create. is_setup_error_tenant1 = cls._modify_vnf_specific_image_create( cls.glance_client_tenant1, cls.http_client_tenant1) if is_setup_error_tenant1: cls.is_setup_error = True return is_setup_error_tenant2 = cls._modify_vnf_specific_image_create( cls.glance_client_tenant2, cls.http_client_tenant2) if is_setup_error_tenant2: cls.is_setup_error = True return @classmethod def _modify_vnf_specific_image_create(cls, glance_client, http_client): is_setup_error = False images = cls._list_glance_image() if len(images) == 0: is_setup_error = True return is_setup_error for image in images: specific_image_name = image.name + '2' image_data = { ""min_disk"": image.min_disk, ""min_ram"": image.min_ram, ""disk_format"": image.disk_format, ""container_format"": image.container_format, ""visibility"": image.visibility, ""name"": specific_image_name} try: images = cls._list_glance_image(specific_image_name) if len(images) == 1: break _, body = cls.glance_client.http_client.get( cls.glance_client.http_client.get_endpoint() + image.file) with tempfile.TemporaryFile('w+b') as f: for content in body: f.write(content) cls._create_glance_image(image_data, f.read()) except Exception as e: print(""Fail, Modify-VNF specific image create."", e, flush=True) is_setup_error = True return is_setup_error return is_setup_error def _delete_vnf_package(self, package_uuid, http_client): url = self.base_url + ""/"" + package_uuid resp, body = http_client.do_request(url, ""DELETE"") self.assertEqual(204, resp.status_code) def assert_vnf_package_usage_state( self, vnf_package_info, expected_usage_state=fields.PackageUsageStateType.IN_USE): self.assertEqual( expected_usage_state, vnf_package_info['usageState']) def assert_create_vnf(self, resp, vnf_instance, vnf_pkg_id, tacker_client, fake_server_manager): super().assert_create_vnf(resp, vnf_instance, fake_server_manager) resp, vnf_pkg_info = vnflcm_base._show_vnf_package( tacker_client, vnf_pkg_id) self.assert_vnf_package_usage_state(vnf_pkg_info) def assert_instantiate_vnf( self, resp, vnf_instance_id, vnf_pkg_id, http_client, h_client, fake_server_manager): super().assert_instantiate_vnf(resp, vnf_instance_id, http_client, h_client, fake_server_manager) resp, vnf_pkg_info = vnflcm_base._show_vnf_package( self.tacker_client, vnf_pkg_id) self.assert_vnf_package_usage_state(vnf_pkg_info) def test_lcm_functionality(self): """"""Test vnf lcm operation with multi tenants. In this test case, we do following steps. Note: User A belongs to Tenant 1. User B belongs to Tenant 2. - Create VNF Instance - User A creates VNF Instance A using VNF Package A. - User B creates VNF Instance B using VNF Package B. - Instantiate VNF - User A instantiates VNF Instance A. - User B instantiates VNF Instance B. - List LcmOpOccs - User A gets LcmOpOccs List, and should get LcmOpOccs of VNF Instance A. - User B gets LcmOpOccs List, and should get LcmOpOccs of VNF Instance B. - Show LcmOpOccs - User A able to show LcmOpOccs List of VNF Instance A. - User B able to show LcmOpOccs List of VNF Instance B. - Verify Notification Server - Verify Notification Server A is able to get the Instantiation information for VNF Instance A. - Verify Notification Server B is able to get the Instantiation information for VNF Instance B. - Delete VNF - User A deletes VNF Instance A. - User B deletes VNF Instance B. - Verify Notification Server A is able to retrieve Delete information for VNF Instance A. - Verify Notification Server B is able to retrieve Delete information for VNF Instance B. """""" # Pre-Setting # User A registers Subscription A. callback_url = os.path.join(vnflcm_base.MOCK_NOTIFY_CALLBACK_URL, self._testMethodName) req_body = fake_vnflcm.Subscription.make_create_request_body( 'http://localhost:{}{}'.format( vnflcm_base.FAKE_SERVER_MANAGER_T1.SERVER_PORT_T1, callback_url)) resp_t1, resp_body_t1 = self._register_subscription(req_body, self.http_client_tenant1) self.assertEqual(201, resp_t1.status_code) self.assert_http_header_location_for_subscription( resp_t1.headers) self.assert_notification_get(callback_url, vnflcm_base.FAKE_SERVER_MANAGER_T1) subscription_id_t1 = resp_body_t1.get('id') self.addCleanup( self._delete_subscription, subscription_id_t1, self.tacker_client_tenant1) # User B registers Subscription B. callback_url = os.path.join(vnflcm_base.MOCK_NOTIFY_CALLBACK_URL, self._testMethodName) req_body_t2 = \ fake_vnflcm.Subscription.make_create_request_body( 'http://localhost:{}{}'.format( vnflcm_base.FAKE_SERVER_MANAGER_T2.SERVER_PORT_T2, callback_url)) resp_t2, resp_body_t2 = self._register_subscription( req_body_t2, self.http_client_tenant2) self.assertEqual(201, resp_t2.status_code) self.assert_http_header_location_for_subscription( resp_t2.headers) self.assert_notification_get(callback_url, vnflcm_base.FAKE_SERVER_MANAGER_T2) subscription_id_t2 = resp_body_t2.get('id') self.addCleanup( self._delete_subscription, subscription_id_t2, self.tacker_client_tenant2) # Create and Upload VNF Package # User A creates VNF Package A sample_name = 'mt_functional1' csar_package_path = os.path.abspath( os.path.join( os.path.dirname(__file__), ""../../../etc/samples/etsi/nfv"", sample_name)) tempname, _ = vnflcm_base._create_csar_with_unique_vnfd_id( csar_package_path) # User A uploads VNF Package A vnf_package_id, vnfd_id = vnflcm_base._create_and_upload_vnf_package( self.tacker_client_tenant1, user_defined_data={ ""key"": sample_name}, temp_csar_path=tempname) # User B creates VNF Package B sample_name_t2 = 'mt_functional2' csar_package_path_t2 = os.path.abspath( os.path.join( os.path.dirname(__file__), ""../../../etc/samples/etsi/nfv"", sample_name_t2)) tempname_t2, _ = vnflcm_base._create_csar_with_unique_vnfd_id( csar_package_path_t2) # User B uploads VNF Package B vnf_package_id_t2, vnfd_id_t2 = \ vnflcm_base._create_and_upload_vnf_package( self.tacker_client_tenant2, user_defined_data={ ""key"": sample_name_t2}, temp_csar_path=tempname_t2) # Post Setting: Reserve deleting vnf package. self.addCleanup(vnflcm_base._delete_vnf_package, self.tacker_client_tenant1, vnf_package_id) self.addCleanup(vnflcm_base._delete_vnf_package, self.tacker_client_tenant2, vnf_package_id_t2) # Create VNF Instance # User A creates VNF Instance A using VNF Package A resp, vnf_instance = self._create_vnf_instance_from_body( fake_vnflcm.VnfInstances.make_create_request_body(vnfd_id), self.http_client_tenant1) vnf_instance_id = vnf_instance.get('id') self._wait_lcm_done(vnf_instance_id=vnf_instance_id, fake_server_manager=vnflcm_base.FAKE_SERVER_MANAGER_T1) self.assert_create_vnf(resp, vnf_instance, vnf_package_id, self.tacker_client_tenant1, vnflcm_base.FAKE_SERVER_MANAGER_T1) # User B creates VNF Instance B using VNF Package B resp_t2, vnf_instance_t2 = self._create_vnf_instance_from_body( fake_vnflcm.VnfInstances.make_create_request_body(vnfd_id_t2), self.http_client_tenant2) vnf_instance_id_t2 = vnf_instance_t2.get('id') self._wait_lcm_done(vnf_instance_id=vnf_instance_id_t2, fake_server_manager=vnflcm_base.FAKE_SERVER_MANAGER_T2) self.assert_create_vnf(resp_t2, vnf_instance_t2, vnf_package_id_t2, self.tacker_client_tenant2, vnflcm_base.FAKE_SERVER_MANAGER_T2) # Instantiate vnf instance # User A instantiate VNF Instance A request_body = \ fake_vnflcm.VnfInstances.make_inst_request_body( 'test_user_1', self.vim_tenant1['tenant_id'], self.ext_networks_tenant1, self.ext_mngd_networks_tenant1, self.ext_link_ports_tenant1, self.ext_subnets_tenant1) resp, _ = self._instantiate_vnf_instance(vnf_instance_id, request_body, self.http_client_tenant1) self._wait_lcm_done('COMPLETED', vnf_instance_id=vnf_instance_id, fake_server_manager=vnflcm_base.FAKE_SERVER_MANAGER_T1) self.assert_instantiate_vnf(resp, vnf_instance_id, vnf_package_id, self.http_client_tenant1, self.h_client_tenant1, vnflcm_base.FAKE_SERVER_MANAGER_T1) # User B instantiate VNF Instance B request_body = \ fake_vnflcm.VnfInstances.make_inst_request_body( 'test_user_2', self.vim_tenant2['tenant_id'], self.ext_networks_tenant2, self.ext_mngd_networks_tenant2, self.ext_link_ports_tenant2, self.ext_subnets_tenant2) resp, _ = self._instantiate_vnf_instance(vnf_instance_id_t2, request_body, self.http_client_tenant2) self._wait_lcm_done('COMPLETED', vnf_instance_id=vnf_instance_id_t2, fake_server_manager=vnflcm_base.FAKE_SERVER_MANAGER_T2) self.assert_instantiate_vnf(resp, vnf_instance_id_t2, vnf_package_id_t2, self.http_client_tenant2, self.h_client_tenant2, vnflcm_base.FAKE_SERVER_MANAGER_T2) # get vnflcm_op_occ_id for User A callback_url = os.path.join( vnflcm_base.MOCK_NOTIFY_CALLBACK_URL, self._testMethodName) notify_mock_responses = \ vnflcm_base.FAKE_SERVER_MANAGER_T1.get_history( callback_url) vnflcm_base.FAKE_SERVER_MANAGER_T1.clear_history( callback_url) vnflcm_op_occ_id_t1 = notify_mock_responses[0].request_body.get( 'vnfLcmOpOccId') self.assertIsNotNone(vnflcm_op_occ_id_t1) # get vnflcm_op_occ_id for User B callback_url = os.path.join( vnflcm_base.MOCK_NOTIFY_CALLBACK_URL, self._testMethodName) notify_mock_responses = \ vnflcm_base.FAKE_SERVER_MANAGER_T2.get_history( callback_url) vnflcm_base.FAKE_SERVER_MANAGER_T2.clear_history( callback_url) vnflcm_op_occ_id_t2 = notify_mock_responses[0].request_body.get( 'vnfLcmOpOccId') self.assertIsNotNone(vnflcm_op_occ_id_t2) # List LcmOpOccs # User A gets LcmOpOccs List, and should get LcmOpOccs of # VNF Instance A resp, op_occs_info = self._list_op_occs(filter_string='', http_client=self.http_client_tenant1) self._assert_occ_list(resp, op_occs_info) self.assertEqual(vnf_instance_id, op_occs_info.get('vnfInstanceId')) # User B gets LcmOpOccs List, and should get LcmOpOccs of # VNF Instance B resp, op_occs_info = self._list_op_occs(filter_string='', http_client=self.http_client_tenant2) self._assert_occ_list(resp, op_occs_info) self.assertEqual(vnf_instance_id_t2, op_occs_info.get('vnfInstanceId')) # Show LcmOpOccs # User A able to show LcmOpOccs List of VNF Instance A resp, op_occs_info = self._show_op_occs(vnflcm_op_occ_id_t1, self.http_client_tenant1) self._assert_occ_show(resp, op_occs_info) # User B able to show LcmOpOccs List of VNF Instance B resp, op_occs_info = self._show_op_occs(vnflcm_op_occ_id_t2, self.http_client_tenant2) self._assert_occ_show(resp, op_occs_info) # Terminate VNF # User A terminates VNF A stack = self._get_heat_stack(vnf_instance_id, self.h_client_tenant1) resources_list = self._get_heat_resource_list(stack.id, self.h_client_tenant1) resource_name_list = [r.resource_name for r in resources_list] glance_image_id_list = \ self._get_glance_image_list_from_stack_resource( stack.id, resource_name_list, self.h_client_tenant1) terminate_req_body = \ fake_vnflcm.VnfInstances.make_term_request_body() resp, _ = self._terminate_vnf_instance(vnf_instance_id, terminate_req_body, self.http_client_tenant1) self._wait_lcm_done('COMPLETED', vnf_instance_id=vnf_instance_id, fake_server_manager=vnflcm_base.FAKE_SERVER_MANAGER_T1) self.assert_terminate_vnf( resp, vnf_instance_id, stack.id, resource_name_list, glance_image_id_list, vnf_package_id, self.h_client_tenant1, self.http_client_tenant1, self.glance_client_tenant1, fake_server_manager=vnflcm_base.FAKE_SERVER_MANAGER_T1) # User B terminates VNF B stack = self._get_heat_stack(vnf_instance_id_t2, self.h_client_tenant2) resources_list = self._get_heat_resource_list(stack.id, self.h_client_tenant2) resource_name_list = [r.resource_name for r in resources_list] glance_image_id_list = \ self._get_glance_image_list_from_stack_resource( stack.id, resource_name_list, self.h_client_tenant2) terminate_req_body = \ fake_vnflcm.VnfInstances.make_term_request_body() resp, _ = self._terminate_vnf_instance(vnf_instance_id, terminate_req_body, self.http_client_tenant2) self._wait_lcm_done('COMPLETED', vnf_instance_id=vnf_instance_id_t2, fake_server_manager=vnflcm_base.FAKE_SERVER_MANAGER_T2) self.assert_terminate_vnf( resp, vnf_instance_id, stack.id, resource_name_list, glance_image_id_list, vnf_package_id, self.h_client_tenant2, self.http_client_tenant2, self.glance_client_tenant2, fake_server_manager=vnflcm_base.FAKE_SERVER_MANAGER_T2) # Delete VNF # User A deletes VNF Instance A resp, _ = self._delete_vnf_instance(vnf_instance_id, self.http_client_tenant1) # User A gets delete information for VNF Instance A callback_url = os.path.join(vnflcm_base.MOCK_NOTIFY_CALLBACK_URL, self._testMethodName) notify_mock_responses = \ vnflcm_base.FAKE_SERVER_MANAGER_T1.get_history( callback_url) vnf_instance_id_t1 = notify_mock_responses[0].request_body.get( 'vnfInstanceId') self.assertEqual(vnf_instance, vnf_instance_id_t1) self.assert_delete_vnf(resp, vnf_instance_id, vnf_package_id) # User B deletes VNF Instance B resp, _ = self._delete_vnf_instance(vnf_instance_id_t2, self.http_client_tenant2) # User B gets delete information for VNF Instance B callback_url = os.path.join(vnflcm_base.MOCK_NOTIFY_CALLBACK_URL, self._testMethodName) notify_mock_responses = \ vnflcm_base.FAKE_SERVER_MANAGER_T2.get_history( callback_url) vnf_instance_id_t2 = notify_mock_responses[0].request_body.get( 'vnfInstanceId') self.assertEqual(vnf_instance_t2, vnf_instance_id_t2) self.assert_delete_vnf(resp, vnf_instance_id_t2, vnf_package_id_t2) ",,431,0
openstack%2Fneutron~master~Ia712eb6f5b6f947aeab89ba7c018771eb4104e37,openstack/neutron,master,Ia712eb6f5b6f947aeab89ba7c018771eb4104e37,Doc: Add warning for not supported Prefix Delegation,MERGED,2022-04-06 16:58:49.000000000,2022-04-21 10:55:49.000000000,2022-04-21 10:53:40.000000000,"[{'_account_id': 1131}, {'_account_id': 9845}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-06 16:58:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5c18ad70034d7dfb37f94f39ec26e3385b82caed', 'message': ""Doc: Add warning for not supported Prefix Delegation\n\nBased on discussions during the Zed PTG (see [1]) mark Prefix Delegation\nas experimental.\nAdd warning to cfg option ipv6_pd_enabled and to IPv6 documentation's\nPD section that the feature has low test coverage, and dibbler is\nconcluded (the tool used for notifing Neutron that a prefix was changed)\nsee: [2].\n\n[1]: https://etherpad.opendev.org/p/neutron-zed-ptg#L208\n[2]: https://github.com/tomaszmrugalski/dibbler#project-status\n\nRelated-Bug: #1916428\nChange-Id: Ia712eb6f5b6f947aeab89ba7c018771eb4104e37\n""}, {'number': 2, 'created': '2022-04-07 00:53:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/91a4529e30c45a62860e45461e5e6250bb3e6711', 'message': ""Doc: Add warning for not supported Prefix Delegation\n\nBased on discussions during the Zed PTG (see [1]) mark Prefix Delegation\nas experimental.\nAdd warning to cfg option ipv6_pd_enabled and to IPv6 documentation's\nPD section that the feature has low test coverage, and dibbler is\nconcluded (the tool used for notifing Neutron that a prefix was changed)\nsee: [2].\n\n[1]: https://etherpad.opendev.org/p/neutron-zed-ptg#L208\n[2]: https://github.com/tomaszmrugalski/dibbler#project-status\n\nRelated-Bug: #1916428\nChange-Id: Ia712eb6f5b6f947aeab89ba7c018771eb4104e37\n""}, {'number': 3, 'created': '2022-04-07 14:36:17.000000000', 'files': ['neutron/conf/common.py', 'doc/source/admin/config-ipv6.rst'], 'web_link': 'https://opendev.org/openstack/neutron/commit/35b8c8d56d175c27a9ecd05351b1ff390dac2a91', 'message': ""Doc: Add warning for not supported Prefix Delegation\n\nBased on discussions during the Zed PTG (see [1]) mark Prefix Delegation\nas experimental.\nAdd warning to cfg option ipv6_pd_enabled and to IPv6 documentation's\nPD section that the feature has low test coverage, and dibbler is\nconcluded (the tool used for notifing Neutron that a prefix was changed)\nsee: [2].\n\n[1]: https://etherpad.opendev.org/p/neutron-zed-ptg#L208\n[2]: https://github.com/tomaszmrugalski/dibbler#project-status\n\nRelated-Bug: #1916428\nChange-Id: Ia712eb6f5b6f947aeab89ba7c018771eb4104e37\n""}]",11,836863,35b8c8d56d175c27a9ecd05351b1ff390dac2a91,59,4,3,8313,,,0,"Doc: Add warning for not supported Prefix Delegation

Based on discussions during the Zed PTG (see [1]) mark Prefix Delegation
as experimental.
Add warning to cfg option ipv6_pd_enabled and to IPv6 documentation's
PD section that the feature has low test coverage, and dibbler is
concluded (the tool used for notifing Neutron that a prefix was changed)
see: [2].

[1]: https://etherpad.opendev.org/p/neutron-zed-ptg#L208
[2]: https://github.com/tomaszmrugalski/dibbler#project-status

Related-Bug: #1916428
Change-Id: Ia712eb6f5b6f947aeab89ba7c018771eb4104e37
",git fetch https://review.opendev.org/openstack/neutron refs/changes/63/836863/3 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/conf/common.py', 'doc/source/admin/config-ipv6.rst']",2,5c18ad70034d7dfb37f94f39ec26e3385b82caed,bug/1916428,".. warning:: This feature is experimental with low test coverage. Dibbler, the tool used is concluded, for details see: https://github.com/tomaszmrugalski/dibbler#project-status ",,10,1
openstack%2Fskyline-console~master~I2d1497b8716b178693e127ae7350e9946a479817,openstack/skyline-console,master,I2d1497b8716b178693e127ae7350e9946a479817,feat: Support manila share type page,MERGED,2022-04-21 03:04:43.000000000,2022-04-21 10:46:34.000000000,2022-04-21 10:46:34.000000000,"[{'_account_id': 22348}, {'_account_id': 28706}, {'_account_id': 33689}]","[{'number': 1, 'created': '2022-04-21 03:04:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/bef5cca2d1b0a24f9b156b99c076b5c640e6c870', 'message': 'feat: Support manila share type page\n\n1. Add share type page\n2. Add create share type\n3. Add update share type\n4. Add manage access\n5. Add delete share type\n6. Add share type detail page\n7. Add create extra spec\n8. Add update extra spec\n9. Add delete extra spec\n\nChange-Id: I2d1497b8716b178693e127ae7350e9946a479817\n'}, {'number': 2, 'created': '2022-04-21 06:41:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/04fd9b540b0d59b1bfcc642e9c72ea883dbc0383', 'message': 'feat: Support manila share type page\n\n1. Add share type page\n2. Add create share type\n3. Add update share type\n4. Add manage access\n5. Add delete share type\n6. Add share type detail page\n7. Add create extra spec\n8. Add update extra spec\n9. Add delete extra spec\n\nChange-Id: I2d1497b8716b178693e127ae7350e9946a479817\n'}, {'number': 3, 'created': '2022-04-21 07:11:05.000000000', 'files': ['src/pages/share/containers/ShareType/actions/index.jsx', 'src/stores/manila/share-type.js', 'src/client/manila/index.js', 'src/pages/share/containers/ShareType/Detail/ExtraSpec/actions/Edit.jsx', 'src/pages/share/containers/ShareType/Detail/ExtraSpec/index.jsx', 'src/pages/basic/routes/index.js', 'src/locales/en.json', 'src/pages/share/routes/index.js', 'src/pages/share/containers/ShareType/actions/Edit.jsx', 'src/components/FormItem/KeyValueInput/index.jsx', 'src/client/client/constants.js', 'src/locales/zh.json', 'src/resources/share-type.js', 'src/pages/share/containers/ShareType/actions/ManageAccess.jsx', 'src/pages/share/containers/ShareType/Detail/ExtraSpec/actions/index.jsx', 'src/pages/share/containers/ShareType/index.jsx', 'src/stores/manila/extra-spec.js', 'src/layouts/admin-menu.jsx', 'src/pages/share/containers/ShareType/Detail/index.jsx', 'src/client/index.js', 'src/pages/share/containers/ShareType/Detail/ExtraSpec/actions/Create.jsx', 'src/pages/share/containers/ShareType/Detail/ExtraSpec/actions/Delete.jsx', 'src/pages/share/containers/ShareType/actions/Create.jsx', 'src/pages/share/containers/ShareType/actions/Delete.jsx', 'src/pages/share/App.jsx'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/f3c284a8357e5f8ce5e96a2a8deb4512bca1aee7', 'message': 'feat: Support manila share type page\n\n1. Add share type page\n2. Add create share type\n3. Add update share type\n4. Add manage access\n5. Add delete share type\n6. Add share type detail page\n7. Add create extra spec\n8. Add update extra spec\n9. Add delete extra spec\n\nChange-Id: I2d1497b8716b178693e127ae7350e9946a479817\n'}]",0,838805,f3c284a8357e5f8ce5e96a2a8deb4512bca1aee7,12,3,3,30434,,,0,"feat: Support manila share type page

1. Add share type page
2. Add create share type
3. Add update share type
4. Add manage access
5. Add delete share type
6. Add share type detail page
7. Add create extra spec
8. Add update extra spec
9. Add delete extra spec

Change-Id: I2d1497b8716b178693e127ae7350e9946a479817
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/05/838805/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/pages/share/containers/ShareType/actions/index.jsx', 'src/stores/manila/share-type.js', 'src/client/manila/index.js', 'src/pages/share/containers/ShareType/Detail/ExtraSpec/actions/Edit.jsx', 'src/pages/share/containers/ShareType/Detail/ExtraSpec/index.jsx', 'src/pages/basic/routes/index.js', 'src/locales/en.json', 'src/pages/share/routes/index.js', 'src/pages/share/containers/ShareType/actions/Edit.jsx', 'src/components/FormItem/KeyValueInput/index.jsx', 'src/client/client/constants.js', 'src/locales/zh.json', 'src/resources/share-type.js', 'src/pages/share/containers/ShareType/actions/ManageAccess.jsx', 'src/pages/share/containers/ShareType/Detail/ExtraSpec/actions/index.jsx', 'src/pages/share/containers/ShareType/index.jsx', 'src/stores/manila/extra-spec.js', 'src/layouts/admin-menu.jsx', 'src/pages/share/containers/ShareType/Detail/index.jsx', 'src/client/index.js', 'src/pages/share/containers/ShareType/Detail/ExtraSpec/actions/Create.jsx', 'src/pages/share/containers/ShareType/Detail/ExtraSpec/actions/Delete.jsx', 'src/pages/share/containers/ShareType/actions/Create.jsx', 'src/pages/share/containers/ShareType/actions/Delete.jsx', 'src/pages/share/App.jsx']",25,bef5cca2d1b0a24f9b156b99c076b5c640e6c870,master2,"// Copyright 2021 99cloud // // Licensed under the Apache License, Version 2.0 (the ""License""); // you may not use this file except in compliance with the License. // You may obtain a copy of the License at // // http://www.apache.org/licenses/LICENSE-2.0 // // Unless required by applicable law or agreed to in writing, software // distributed under the License is distributed on an ""AS IS"" BASIS, // WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. // See the License for the specific language governing permissions and // limitations under the License. import renderRoutes from 'utils/RouterConfig'; import routes from './routes'; const App = (props) => renderRoutes(routes, props); export default App; ",,1242,8
openstack%2Freleases~master~I816b9aa687b90299326085b642c992e42c11c029,openstack/releases,master,I816b9aa687b90299326085b642c992e42c11c029,Remove six,MERGED,2022-04-19 02:19:23.000000000,2022-04-21 10:38:55.000000000,2022-04-21 10:38:55.000000000,"[{'_account_id': 308}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-04-19 02:19:23.000000000', 'files': ['openstack_releases/cmds/interactive_release.py', 'openstack_releases/cmds/validate.py', 'openstack_releases/rst2txt.py'], 'web_link': 'https://opendev.org/openstack/releases/commit/0ffbc53211ca6a35d0fe6e7f13519db9f440893d', 'message': ""Remove six\n\nWe don't need this dependency anymore.\n\nChange-Id: I816b9aa687b90299326085b642c992e42c11c029\n""}]",1,838425,0ffbc53211ca6a35d0fe6e7f13519db9f440893d,8,4,1,31412,,,0,"Remove six

We don't need this dependency anymore.

Change-Id: I816b9aa687b90299326085b642c992e42c11c029
",git fetch https://review.opendev.org/openstack/releases refs/changes/25/838425/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_releases/cmds/interactive_release.py', 'openstack_releases/cmds/validate.py', 'openstack_releases/rst2txt.py']",3,0ffbc53211ca6a35d0fe6e7f13519db9f440893d,, lines = itertools.zip_longest(*row),from six.moves import zip_longest lines = zip_longest(*row),5,9
openstack%2Freleases~master~I584d9a58201b0a42ce4de7b4933aadf58319f84b,openstack/releases,master,I584d9a58201b0a42ce4de7b4933aadf58319f84b,[tripleo] Transition Victoria to EM,MERGED,2022-04-14 17:10:36.000000000,2022-04-21 10:31:56.000000000,2022-04-21 10:31:56.000000000,"[{'_account_id': 308}, {'_account_id': 7144}, {'_account_id': 8449}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-04-14 17:10:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/0939ecdcc6836e2ce10fb1a64e47105cde2547b7', 'message': '[tripleo] Transition Victoria to EM\n\nThis transition the victoria branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch.\n\nPlease +1 if the team is ready for us to proceed with this\ntransition, or -1 if there are any final backports currently in\nflight that we should wait for. For the latter case, please\nupdate the patch with the new commit hash after doing a final\nrelease to get those changes out so we know to proceed with the\ntransition.\n\nThe transition deadline is April 27th, 2022.\n\nChange-Id: I584d9a58201b0a42ce4de7b4933aadf58319f84b\n'}, {'number': 2, 'created': '2022-04-20 14:10:02.000000000', 'files': ['deliverables/victoria/tripleo-heat-templates.yaml', 'deliverables/victoria/tripleo-validations.yaml', 'deliverables/victoria/os-apply-config.yaml', 'deliverables/victoria/tripleo-ansible.yaml', 'deliverables/victoria/tripleo-common.yaml', 'deliverables/victoria/tripleo-puppet-elements.yaml', 'deliverables/victoria/tripleo-ipsec.yaml', 'deliverables/victoria/os-net-config.yaml', 'deliverables/victoria/puppet-tripleo.yaml', 'deliverables/victoria/os-collect-config.yaml', 'deliverables/victoria/os-refresh-config.yaml', 'deliverables/victoria/python-tripleoclient.yaml', 'deliverables/victoria/tripleo-image-elements.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/cfa3ab54dd135a478448a938a40d49ee385e4237', 'message': '[tripleo] Transition Victoria to EM\n\nThis transition the victoria branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch.\n\nA final release for victoria is proposed in the parent patch [1]\n\nThe transition deadline is April 27th, 2022.\n\n[1] https://review.opendev.org/c/openstack/releases/+/836921\n\nChange-Id: I584d9a58201b0a42ce4de7b4933aadf58319f84b\n'}]",2,837982,cfa3ab54dd135a478448a938a40d49ee385e4237,14,5,2,17685,,,0,"[tripleo] Transition Victoria to EM

This transition the victoria branch to extended maintenance.
Changes for bugfixes and things the team deems important are
still encouraged, but there will no longer be official releases
off of the branch.

A final release for victoria is proposed in the parent patch [1]

The transition deadline is April 27th, 2022.

[1] https://review.opendev.org/c/openstack/releases/+/836921

Change-Id: I584d9a58201b0a42ce4de7b4933aadf58319f84b
",git fetch https://review.opendev.org/openstack/releases refs/changes/82/837982/2 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/victoria/tripleo-heat-templates.yaml', 'deliverables/victoria/tripleo-validations.yaml', 'deliverables/victoria/os-apply-config.yaml', 'deliverables/victoria/tripleo-ansible.yaml', 'deliverables/victoria/tripleo-common.yaml', 'deliverables/victoria/tripleo-puppet-elements.yaml', 'deliverables/victoria/tripleo-ipsec.yaml', 'deliverables/victoria/os-net-config.yaml', 'deliverables/victoria/puppet-tripleo.yaml', 'deliverables/victoria/os-collect-config.yaml', 'deliverables/victoria/os-refresh-config.yaml', 'deliverables/victoria/python-tripleoclient.yaml', 'deliverables/victoria/tripleo-image-elements.yaml']",13,0939ecdcc6836e2ce10fb1a64e47105cde2547b7,victoria-em, - version: victoria-em projects: - repo: openstack/tripleo-image-elements hash: 6fd9757b189732d5e0b6a27eed7f03c1eb2dd71e,,52,0
openstack%2Fansible-collection-kolla~stable%2Fyoga~I7939c2e504936a98211e3fb72738f99cdae3def5,openstack/ansible-collection-kolla,stable/yoga,I7939c2e504936a98211e3fb72738f99cdae3def5,Adjust iscsi package removal on Red Hat hosts.,ABANDONED,2022-04-19 14:50:46.000000000,2022-04-21 10:22:54.000000000,,[{'_account_id': 30491}],"[{'number': 1, 'created': '2022-04-19 14:50:46.000000000', 'files': ['roles/baremetal/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/ansible-collection-kolla/commit/5eaa53aa441f30b8b97ace8bdc2e837a90dca51f', 'message': 'Adjust iscsi package removal on Red Hat hosts.\n\nThe host libvirt package should only be removed when the nova-libvirt\ncontainer is enabled. But, removal of iscsi-initiator-utils also causes\nlibvirt to be uninstalled because of its dependency on\nlibvirt-daemon-driver-storage-iscsi.\n\nThis modification prevents iscsi-initiator-utils from being removed\nwhen nova-libvirt is disabled.\n\nChange-Id: I7939c2e504936a98211e3fb72738f99cdae3def5\n'}]",3,838513,5eaa53aa441f30b8b97ace8bdc2e837a90dca51f,5,1,1,29771,,,0,"Adjust iscsi package removal on Red Hat hosts.

The host libvirt package should only be removed when the nova-libvirt
container is enabled. But, removal of iscsi-initiator-utils also causes
libvirt to be uninstalled because of its dependency on
libvirt-daemon-driver-storage-iscsi.

This modification prevents iscsi-initiator-utils from being removed
when nova-libvirt is disabled.

Change-Id: I7939c2e504936a98211e3fb72738f99cdae3def5
",git fetch https://review.opendev.org/openstack/ansible-collection-kolla refs/changes/13/838513/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/baremetal/defaults/main.yml'],1,5eaa53aa441f30b8b97ace8bdc2e837a90dca51f,," - ""{% if enable_nova_libvirt_container | bool %}iscsi-initiator-utils{% endif %}""", - iscsi-initiator-utils,1,1
openstack%2Fneutron-dynamic-routing~master~Ib3bdf9b19feb68647460814cc973699622d0a6e8,openstack/neutron-dynamic-routing,master,Ib3bdf9b19feb68647460814cc973699622d0a6e8,Register common config options by default,MERGED,2022-04-20 19:39:40.000000000,2022-04-21 10:20:35.000000000,2022-04-21 10:19:04.000000000,"[{'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 13252}, {'_account_id': 16137}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-20 19:39:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/392703da97ed92f1a7cec1d46b485733da8099d4', 'message': 'Register common config options by default\n\nThe [1] change modified the behavior Neutron had, which used to\nforce the default config options to be automatically set.\n\nNeutron-dynamic-routing expects some of the default config options\nto be set while initializing some services. If they aren not set\nthe initialization will fail fail [2].\n\nThis change invokes the method that sets such config options to\nfix this initialization issue.\n\n[1] https://review.opendev.org/c/openstack/neutron/+/837392\n[2] https://paste.opendev.org/show/b8DReLeBPl9xTGooN8wu/\n\nChange-Id: Ib3bdf9b19feb68647460814cc973699622d0a6e8\n'}, {'number': 2, 'created': '2022-04-21 08:38:47.000000000', 'files': ['neutron_dynamic_routing/services/bgp/agent/entry.py'], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/180396b18c6f011d69bd3b2d4bea2549ab5e3038', 'message': 'Register common config options by default\n\nThe [1] change modified the behavior Neutron had, which used to\nforce the default config options to be automatically set.\n\nNeutron-dynamic-routing expects some of the default config options\nto be set while initializing some services. If they are not set\nthe initialization will fail [2].\n\nThis change invokes the method that sets such config options to\nfix this initialization issue.\n\n[1] https://review.opendev.org/c/openstack/neutron/+/837392\n[2] https://paste.opendev.org/show/b8DReLeBPl9xTGooN8wu/\n\nReleated-Bug: #1968606\nChange-Id: Ib3bdf9b19feb68647460814cc973699622d0a6e8\n'}]",3,838780,180396b18c6f011d69bd3b2d4bea2549ab5e3038,13,6,2,29632,,,0,"Register common config options by default

The [1] change modified the behavior Neutron had, which used to
force the default config options to be automatically set.

Neutron-dynamic-routing expects some of the default config options
to be set while initializing some services. If they are not set
the initialization will fail [2].

This change invokes the method that sets such config options to
fix this initialization issue.

[1] https://review.opendev.org/c/openstack/neutron/+/837392
[2] https://paste.opendev.org/show/b8DReLeBPl9xTGooN8wu/

Releated-Bug: #1968606
Change-Id: Ib3bdf9b19feb68647460814cc973699622d0a6e8
",git fetch https://review.opendev.org/openstack/neutron-dynamic-routing refs/changes/80/838780/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron_dynamic_routing/services/bgp/agent/entry.py'],1,392703da97ed92f1a7cec1d46b485733da8099d4,, common_config.register_common_config_options(),,1,0
openstack%2Fansible-collections-openstack~stable%2F1.0.0~I9cd3f729b06516bbd9a3c7985b65fcf294c8bdd7,openstack/ansible-collections-openstack,stable/1.0.0,I9cd3f729b06516bbd9a3c7985b65fcf294c8bdd7,Dropped broken linter job openstack-tox-linters-ansible-2.9,MERGED,2022-04-21 09:34:20.000000000,2022-04-21 10:16:04.000000000,2022-04-21 10:16:04.000000000,"[{'_account_id': 22348}, {'_account_id': 32962}]","[{'number': 1, 'created': '2022-04-21 09:34:20.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/5b453c62d1d9dbcf82b4651454a5a0b7fccb0e9a', 'message': ""Dropped broken linter job openstack-tox-linters-ansible-2.9\n\nRunning older linter releases while we have a more up to date\nAnsible 2.12 based linter does not provide value and thus wastes\nci resources. Our Ansible 2.9 based linter is broken atm and since\nit is EOL soon anyway we drop this job. We still have a linter job\nbased on the last stable release and one based on Ansible's\ndevel branch.\n\nOur tox environment for Ansible 2.9 will be dropped in a later\npatch once all Ansible 2.9 based jobs have been removed.\n\nChange-Id: I9cd3f729b06516bbd9a3c7985b65fcf294c8bdd7\n(cherry picked from commit f09cccdb9e6e211eb0dcb758a48bb2408d56e4c4)\n""}]",0,838705,5b453c62d1d9dbcf82b4651454a5a0b7fccb0e9a,6,2,1,32962,,,0,"Dropped broken linter job openstack-tox-linters-ansible-2.9

Running older linter releases while we have a more up to date
Ansible 2.12 based linter does not provide value and thus wastes
ci resources. Our Ansible 2.9 based linter is broken atm and since
it is EOL soon anyway we drop this job. We still have a linter job
based on the last stable release and one based on Ansible's
devel branch.

Our tox environment for Ansible 2.9 will be dropped in a later
patch once all Ansible 2.9 based jobs have been removed.

Change-Id: I9cd3f729b06516bbd9a3c7985b65fcf294c8bdd7
(cherry picked from commit f09cccdb9e6e211eb0dcb758a48bb2408d56e4c4)
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/05/838705/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,5b453c62d1d9dbcf82b4651454a5a0b7fccb0e9a,drop-ansible-linter-2-9-stable/1.0.0,,- job: name: openstack-tox-linters-ansible-2.9 parent: openstack-tox-linters-ansible nodeset: ubuntu-bionic description: | Run openstack collections linter tests using the 2.9 branch of ansible # TODO: Change back to voting once ansible-test is compatible with rstcheck on Python 3.6 voting: false required-projects: - name: github.com/ansible/ansible override-checkout: stable-2.9 vars: tox_envlist: linters-2.9 - openstack-tox-linters-ansible-2.9 # TODO: Add back once ansible-test is compatible with rstcheck on Python 3.6 #- openstack-tox-linters-ansible-2.9 # TODO: Add back once ansible-test is compatible with rstcheck on Python 3.6 #- openstack-tox-linters-ansible-2.9 - openstack-tox-linters-ansible-2.9,0,20
openstack%2Foctavia~stable%2Fxena~I48a02780adf54b8d6d3bedada448a4f91e0539ed,openstack/octavia,stable/xena,I48a02780adf54b8d6d3bedada448a4f91e0539ed,Pass timeout_dict to _get_haproxy_versions,MERGED,2022-03-29 12:12:46.000000000,2022-04-21 10:00:49.000000000,2022-04-21 09:58:51.000000000,"[{'_account_id': 7249}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 34429}]","[{'number': 1, 'created': '2022-03-29 12:12:46.000000000', 'files': ['octavia/tests/unit/amphorae/drivers/haproxy/test_rest_api_driver_0_5.py', 'octavia/amphorae/drivers/keepalived/vrrp_rest_driver.py', 'releasenotes/notes/fix-timeout-dict-in-failover-tasks-537456e0fe1d7cb8.yaml', 'octavia/amphorae/drivers/haproxy/rest_api_driver.py', 'octavia/tests/unit/amphorae/drivers/haproxy/test_rest_api_driver_1_0.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/4e1cc209f7ba63ea9bf3eec1c0557da5bc2cac56', 'message': 'Pass timeout_dict to _get_haproxy_versions\n\nThe timeout_dict args was ignored when calling _get_haproxy_versions\n\n_get_haproxy_versions might be the first function (that uses the amphora\nAPI) that is called from rest_api_driver, it should respect the\ntimeout_dict passed by the tasks of the controller (for instance during\na failover a custom timeout_dict is used in order to optimize the\nfailover of missing amphorae)\n\nStory 2009761\nTask 44232\n\nChange-Id: I48a02780adf54b8d6d3bedada448a4f91e0539ed\n(cherry picked from commit 6d6a8bdf6c53c20ae5864ae61785ed902e468ae8)\n(cherry picked from commit 1da04d126a007416c0ba0822031818371266dd95)\n'}]",4,835615,4e1cc209f7ba63ea9bf3eec1c0557da5bc2cac56,17,4,1,29244,,,0,"Pass timeout_dict to _get_haproxy_versions

The timeout_dict args was ignored when calling _get_haproxy_versions

_get_haproxy_versions might be the first function (that uses the amphora
API) that is called from rest_api_driver, it should respect the
timeout_dict passed by the tasks of the controller (for instance during
a failover a custom timeout_dict is used in order to optimize the
failover of missing amphorae)

Story 2009761
Task 44232

Change-Id: I48a02780adf54b8d6d3bedada448a4f91e0539ed
(cherry picked from commit 6d6a8bdf6c53c20ae5864ae61785ed902e468ae8)
(cherry picked from commit 1da04d126a007416c0ba0822031818371266dd95)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/15/835615/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/tests/unit/amphorae/drivers/haproxy/test_rest_api_driver_0_5.py', 'octavia/amphorae/drivers/keepalived/vrrp_rest_driver.py', 'releasenotes/notes/fix-timeout-dict-in-failover-tasks-537456e0fe1d7cb8.yaml', 'octavia/amphorae/drivers/haproxy/rest_api_driver.py', 'octavia/tests/unit/amphorae/drivers/haproxy/test_rest_api_driver_1_0.py']",5,4e1cc209f7ba63ea9bf3eec1c0557da5bc2cac56,," self.driver.clients[ API_VERSION].reload_listener.reset_mock() timeout_dict = { 'elem1': 1000 } self.driver.reload(loadbalancer, timeout_dict=timeout_dict) self.driver.clients[ API_VERSION].reload_listener.assert_called_once_with( amp1, loadbalancer.id, timeout_dict) self.amp, timeout_dict=None) self.assertEqual(ref_haproxy_versions, result) def test_get_haproxy_versions_with_timeout_dict(self): ref_haproxy_versions = ['1', '6'] timeout_dict = { constants.CONN_MAX_RETRIES: 100, constants.CONN_RETRY_INTERVAL: 1 } result = self.driver._get_haproxy_versions(self.amp, timeout_dict=timeout_dict) self.driver.clients[API_VERSION].get_info.assert_called_once_with( self.amp, timeout_dict=timeout_dict) def test_get_info_with_timeout_dict(self, m): info = {""hostname"": ""some_hostname"", ""version"": ""some_version"", ""api_version"": ""0.5"", ""uuid"": FAKE_UUID_1} m.get(""{base}/info"".format(base=self.base_url_ver), json=info) timeout_dict = { constants.CONN_MAX_RETRIES: 100, constants.CONN_RETRY_INTERVAL: 1 } information = self.driver.get_info(self.amp, timeout_dict=timeout_dict) self.assertEqual(info, information) @requests_mock.mock()", self.amp),109,16
openstack%2Fnova~master~I5b67e9ae5125f6dad68cae7ac0601ac5b02e74b3,openstack/nova,master,I5b67e9ae5125f6dad68cae7ac0601ac5b02e74b3,Follow up for nova-manage image property commands,MERGED,2022-02-24 19:55:43.000000000,2022-04-21 09:46:04.000000000,2022-04-21 09:43:55.000000000,"[{'_account_id': 9708}, {'_account_id': 15334}, {'_account_id': 19234}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-24 19:55:43.000000000', 'files': ['doc/source/admin/hw-machine-type.rst', 'doc/source/cli/nova-manage.rst', 'nova/cmd/manage.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/453c11e05d10db01805363dfe68138d9f4d03043', 'message': ""Follow up for nova-manage image property commands\n\nThis a follow up for change Ic8783053778cf4614742186e94059d5675121db1\nand corrects the 'image_property set --property' arg format in the\nhw_machine_type doc. Newline formats in the nova-manage CLI doc is\ncleaned up to be consistent throughout and unnecessary () is removed\nfrom the ImagePropertyCommands class.\n\nRelated to blueprint libvirt-device-bus-model-update\n\nChange-Id: I5b67e9ae5125f6dad68cae7ac0601ac5b02e74b3\n""}]",2,830895,453c11e05d10db01805363dfe68138d9f4d03043,22,4,1,4690,,,0,"Follow up for nova-manage image property commands

This a follow up for change Ic8783053778cf4614742186e94059d5675121db1
and corrects the 'image_property set --property' arg format in the
hw_machine_type doc. Newline formats in the nova-manage CLI doc is
cleaned up to be consistent throughout and unnecessary () is removed
from the ImagePropertyCommands class.

Related to blueprint libvirt-device-bus-model-update

Change-Id: I5b67e9ae5125f6dad68cae7ac0601ac5b02e74b3
",git fetch https://review.opendev.org/openstack/nova refs/changes/95/830895/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/admin/hw-machine-type.rst', 'doc/source/cli/nova-manage.rst', 'nova/cmd/manage.py']",3,453c11e05d10db01805363dfe68138d9f4d03043,specs/yoga/approved/nova-manage-commands-to-move-between-device-models,class ImagePropertyCommands:,class ImagePropertyCommands():,9,2
openstack%2Fneutron~master~I83ec93de77c745cc13f5d22059e610b2e1b6416d,openstack/neutron,master,I83ec93de77c745cc13f5d22059e610b2e1b6416d,DNM: trigger tempest,ABANDONED,2022-01-13 16:39:28.000000000,2022-04-21 09:44:21.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-01-13 16:39:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1d7b8100dad76b5b5a7c4184aa964d0876f8bd39', 'message': 'DNM: trigger tempest\n\nRun neutron-ovs-tempest-multinode-full with new tempest test\n\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/809198\nChange-Id: I83ec93de77c745cc13f5d22059e610b2e1b6416d\n'}, {'number': 2, 'created': '2022-01-14 16:58:19.000000000', 'files': ['test'], 'web_link': 'https://opendev.org/openstack/neutron/commit/fc9a89d3e808defd0a581e89d9438ebfd1f0bdc3', 'message': 'DNM: trigger tempest\n\nRun neutron-ovs-tempest-multinode-full with new tempest test\n\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/809198\nChange-Id: I83ec93de77c745cc13f5d22059e610b2e1b6416d\n'}]",2,824605,fc9a89d3e808defd0a581e89d9438ebfd1f0bdc3,15,1,2,9708,,,0,"DNM: trigger tempest

Run neutron-ovs-tempest-multinode-full with new tempest test

Depends-On: https://review.opendev.org/c/openstack/tempest/+/809198
Change-Id: I83ec93de77c745cc13f5d22059e610b2e1b6416d
",git fetch https://review.opendev.org/openstack/neutron refs/changes/05/824605/1 && git format-patch -1 --stdout FETCH_HEAD,['test'],1,1d7b8100dad76b5b5a7c4184aa964d0876f8bd39,bug/1943724,,,0,0
openstack%2Fnova~master~I5d792d99489661a5382ecd6e4b28e3df37327bb5,openstack/nova,master,I5d792d99489661a5382ecd6e4b28e3df37327bb5,DNM: run nova tests with any--traits placement feature,ABANDONED,2022-01-22 09:55:12.000000000,2022-04-21 09:43:41.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-01-22 09:55:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7405ab412c4dda8e6fb9686161900810841167e0', 'message': 'DNM: run nova tests with any--traits placement feature\n\nDepends-On: https://review.opendev.org/c/openstack/placement/+/825849\nChange-Id: I5d792d99489661a5382ecd6e4b28e3df37327bb5\n'}, {'number': 2, 'created': '2022-01-26 15:58:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e796fd63652cbe9e4e2bd18a5574bafff6f539f2', 'message': 'DNM: run nova tests with any--traits placement feature\n\nDepends-On: https://review.opendev.org/c/openstack/placement/+/826493\nChange-Id: I5d792d99489661a5382ecd6e4b28e3df37327bb5\n'}, {'number': 3, 'created': '2022-01-27 16:28:20.000000000', 'files': ['test'], 'web_link': 'https://opendev.org/openstack/nova/commit/be7bdcde8f3c2f55ace81e110a3e52148606c126', 'message': 'DNM: run nova tests with any--traits placement feature\n\nDepends-On: https://review.opendev.org/c/openstack/placement/+/826719\nChange-Id: I5d792d99489661a5382ecd6e4b28e3df37327bb5\n'}]",2,825914,be7bdcde8f3c2f55ace81e110a3e52148606c126,32,1,3,9708,,,0,"DNM: run nova tests with any--traits placement feature

Depends-On: https://review.opendev.org/c/openstack/placement/+/826719
Change-Id: I5d792d99489661a5382ecd6e4b28e3df37327bb5
",git fetch https://review.opendev.org/openstack/nova refs/changes/14/825914/3 && git format-patch -1 --stdout FETCH_HEAD,['test'],1,7405ab412c4dda8e6fb9686161900810841167e0,any-traits-support,,,0,0
openstack%2Fopenstack-manuals~master~I336dc2f679a2f60a52fc6df3bee73a88991f541b,openstack/openstack-manuals,master,I336dc2f679a2f60a52fc6df3bee73a88991f541b,[www] Fix Ocata series state,MERGED,2022-04-19 18:03:35.000000000,2022-04-21 09:39:07.000000000,2022-04-21 09:27:09.000000000,"[{'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-19 18:03:35.000000000', 'files': ['tools/www-generator.py'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/af81574f572a7bd308d14b7ea173554bb3532843', 'message': '[www] Fix Ocata series state\n\nOcata went to End of Life several months ago [1], but it took time to\ntransition all the projects and it was forgotten to mark Ocata series\nstatus as EOL. This patch corrects now Ocata status in\ndocs.openstack.org.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-June/022989.html\n\nChange-Id: I336dc2f679a2f60a52fc6df3bee73a88991f541b\n'}]",0,838573,af81574f572a7bd308d14b7ea173554bb3532843,7,2,1,17685,,,0,"[www] Fix Ocata series state

Ocata went to End of Life several months ago [1], but it took time to
transition all the projects and it was forgotten to mark Ocata series
status as EOL. This patch corrects now Ocata status in
docs.openstack.org.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-June/022989.html

Change-Id: I336dc2f679a2f60a52fc6df3bee73a88991f541b
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/73/838573/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/www-generator.py'],1,af81574f572a7bd308d14b7ea173554bb3532843,ocata-eol," 'ocata': SeriesInfo(date='February 2017', status='EOL'),"," 'ocata': SeriesInfo(date='February 2017', status='extended-maintenance'),",1,1
openstack%2Fansible-collections-openstack~stable%2F1.0.0~Ic6f2febc5a40a29534ac4c7f41f714865099086a,openstack/ansible-collections-openstack,stable/1.0.0,Ic6f2febc5a40a29534ac4c7f41f714865099086a,Temporarily set job openstack-tox-linters-ansible-2.9 to non-voting,MERGED,2022-04-20 07:04:58.000000000,2022-04-21 09:32:23.000000000,2022-04-21 09:32:23.000000000,"[{'_account_id': 22348}, {'_account_id': 32962}]","[{'number': 1, 'created': '2022-04-20 07:04:58.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/8e1f1d64752dfd284aee7f1c047511243e127f55', 'message': 'Temporarily set job openstack-tox-linters-ansible-2.9 to non-voting\n\nPython module rstcheck which is used by ansible-test deprecated\nPython versions prior 3.7 in version 3.5.0 and removed support\nin 4.0.0 [1]. Ubuntu 18.04 LTS (Bionic Beaver) comes with Python\n3.6 by default, so rstcheck prints a FutureWarning which confuses\nansible-test:\n\n  Run command: ***/python -m rstcheck --report warning\n  --ignore-substitutions _,br,release,today,version\n  docs/openstack_guidelines.rst\n  Traceback (most recent call last):\n    File ""***/ansible-test"", line 28, in <module>\n      main()\n    File ""***/ansible-test"", line 24, in main\n      cli_main()\n    File ""***/ansible_test/_internal/cli.py"", line 130, in main\n      args.func(config)\n    File ""***/ansible_test/_internal/sanity/__init__.py"", line 193,\n    in command_sanity\n      result = test.test(args, sanity_targets, version)\n    File ""***/ansible_test/_internal/sanity/rstcheck.py"", line 80,\n    in test\n      results = parse_to_list_of_dict(pattern, stderr)\n    File ""***/ansible_test/_internal/util.py"", line 799, in\n    parse_to_list_of_dict\n      raise Exception(\'Pattern ""%s"" did not match values:\\n%s\' %\n      (pattern, \'\\n\'.join(unmatched)))\n  Exception: Pattern ""^(?P<path>[^:]*):(?P<line>[0-9]+):\n  \\((?P<level>INFO|WARNING|ERROR|SEVERE)/[0-4]\\) (?P<message>.*)$""\n  did not match values:\n  ***/rstcheck.py:51: FutureWarning: Python versions prior 3.7 are\n  deprecated. Please update your python version.\n    FutureWarning\n  ERROR: Command ""/usr/bin/env ANSIBLE_TEST_CONTENT_ROOT=***/\n  ansible_collections/openstack/cloud LC_ALL=en_US.UTF-8 ***/python3.6\n  ***/ansible-test sanity -v --python 3.6 --skip-test\n  metaclass-boilerplate --skip-test future-import-boilerplate plugins/\n  docs/ meta/ scripts/ --metadata ***.json --truncate 0 --redact\n  --color no --requirements"" returned exit status 1.\n\nWe cannot constrain the version of rstcheck which ansible-test installs\ninto its Python virtual environment. This has to be fixed in Ansible\nitself, a pull request against Ansible 2.9 has been opened [2].\n\nRef.:\n[1] https://github.com/myint/rstcheck/blob/master/README.rst\n[2] https://github.com/ansible/ansible/pull/77568\n\nAs a workaround we temporarily set our Ubuntu 18.04 based linter job\nopenstack-tox-linters-ansible-2.9 to non-voting and remove it from\ncheck dependencies and as a gate job.\n\nThanks to Arx Cruz and Jesper Schmitz Mouridsen for pointing out this\nissue and its root cause ☺️\n\nChange-Id: Ic6f2febc5a40a29534ac4c7f41f714865099086a\n(cherry picked from commit 2bf82c266941c5aa66f2e605c410be792329b603)\n'}]",3,838543,8e1f1d64752dfd284aee7f1c047511243e127f55,10,2,1,32962,,,0,"Temporarily set job openstack-tox-linters-ansible-2.9 to non-voting

Python module rstcheck which is used by ansible-test deprecated
Python versions prior 3.7 in version 3.5.0 and removed support
in 4.0.0 [1]. Ubuntu 18.04 LTS (Bionic Beaver) comes with Python
3.6 by default, so rstcheck prints a FutureWarning which confuses
ansible-test:

  Run command: ***/python -m rstcheck --report warning
  --ignore-substitutions _,br,release,today,version
  docs/openstack_guidelines.rst
  Traceback (most recent call last):
    File ""***/ansible-test"", line 28, in <module>
      main()
    File ""***/ansible-test"", line 24, in main
      cli_main()
    File ""***/ansible_test/_internal/cli.py"", line 130, in main
      args.func(config)
    File ""***/ansible_test/_internal/sanity/__init__.py"", line 193,
    in command_sanity
      result = test.test(args, sanity_targets, version)
    File ""***/ansible_test/_internal/sanity/rstcheck.py"", line 80,
    in test
      results = parse_to_list_of_dict(pattern, stderr)
    File ""***/ansible_test/_internal/util.py"", line 799, in
    parse_to_list_of_dict
      raise Exception('Pattern ""%s"" did not match values:\n%s' %
      (pattern, '\n'.join(unmatched)))
  Exception: Pattern ""^(?P<path>[^:]*):(?P<line>[0-9]+):
  \((?P<level>INFO|WARNING|ERROR|SEVERE)/[0-4]\) (?P<message>.*)$""
  did not match values:
  ***/rstcheck.py:51: FutureWarning: Python versions prior 3.7 are
  deprecated. Please update your python version.
    FutureWarning
  ERROR: Command ""/usr/bin/env ANSIBLE_TEST_CONTENT_ROOT=***/
  ansible_collections/openstack/cloud LC_ALL=en_US.UTF-8 ***/python3.6
  ***/ansible-test sanity -v --python 3.6 --skip-test
  metaclass-boilerplate --skip-test future-import-boilerplate plugins/
  docs/ meta/ scripts/ --metadata ***.json --truncate 0 --redact
  --color no --requirements"" returned exit status 1.

We cannot constrain the version of rstcheck which ansible-test installs
into its Python virtual environment. This has to be fixed in Ansible
itself, a pull request against Ansible 2.9 has been opened [2].

Ref.:
[1] https://github.com/myint/rstcheck/blob/master/README.rst
[2] https://github.com/ansible/ansible/pull/77568

As a workaround we temporarily set our Ubuntu 18.04 based linter job
openstack-tox-linters-ansible-2.9 to non-voting and remove it from
check dependencies and as a gate job.

Thanks to Arx Cruz and Jesper Schmitz Mouridsen for pointing out this
issue and its root cause ☺️

Change-Id: Ic6f2febc5a40a29534ac4c7f41f714865099086a
(cherry picked from commit 2bf82c266941c5aa66f2e605c410be792329b603)
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/43/838543/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,8e1f1d64752dfd284aee7f1c047511243e127f55,linter-2-9-non-voting-stable/1.0.0, # TODO: Change back to voting once ansible-test is compatible with rstcheck on Python 3.6 voting: false # TODO: Add back once ansible-test is compatible with rstcheck on Python 3.6 #- openstack-tox-linters-ansible-2.9 # TODO: Add back once ansible-test is compatible with rstcheck on Python 3.6 #- openstack-tox-linters-ansible-2.9, - openstack-tox-linters-ansible-2.9 - openstack-tox-linters-ansible-2.9,6,2
openstack%2Fansible-collections-openstack~master~I7800a91682b143b29c30e97661e057c6c41f4663,openstack/ansible-collections-openstack,master,I7800a91682b143b29c30e97661e057c6c41f4663,Support description in sg-rule creation,MERGED,2022-04-10 22:35:51.000000000,2022-04-21 09:32:21.000000000,2022-04-21 09:32:21.000000000,"[{'_account_id': 22348}, {'_account_id': 32962}]","[{'number': 1, 'created': '2022-04-10 22:35:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/1003b97b6b0ce834ba6709571f965377f4adcb46', 'message': 'Support description in sg-rule creation\n\nChange-Id: I7800a91682b143b29c30e97661e057c6c41f4663\nSigned-off-by: Jesper Schmitz Mouridsen <jesper@schmitz.computer>\n'}, {'number': 2, 'created': '2022-04-10 23:32:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/b9756e005f7e84a9bdf276471f89cd3bcee772d5', 'message': 'Support description in sg-rule creation\n\nChange-Id: I7800a91682b143b29c30e97661e057c6c41f4663\nSigned-off-by: Jesper Schmitz Mouridsen <jesper@schmitz.computer>\n'}, {'number': 3, 'created': '2022-04-19 15:34:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/4756b56cde95cf19e54d7674b060f91be877c440', 'message': 'Support description in sg-rule creation\n\nChange-Id: I7800a91682b143b29c30e97661e057c6c41f4663\nSigned-off-by: Jesper Schmitz Mouridsen <jesper@schmitz.computer>\n'}, {'number': 4, 'created': '2022-04-19 20:09:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/1af66c954bfda9672b36334e17e7b51a7df10ff6', 'message': 'Support description in sg-rule creation\n\nChange-Id: I7800a91682b143b29c30e97661e057c6c41f4663\nSigned-off-by: Jesper Schmitz Mouridsen <jesper@schmitz.computer>\n'}, {'number': 5, 'created': '2022-04-20 08:24:40.000000000', 'files': ['plugins/modules/security_group_rule.py'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/ecf4897a559339b66b3ff0df230925360481f3e3', 'message': 'Support description in sg-rule creation\n\nChange-Id: I7800a91682b143b29c30e97661e057c6c41f4663\nSigned-off-by: Jesper Schmitz Mouridsen <jesper@schmitz.computer>\n'}]",10,837236,ecf4897a559339b66b3ff0df230925360481f3e3,20,2,5,29260,,,0,"Support description in sg-rule creation

Change-Id: I7800a91682b143b29c30e97661e057c6c41f4663
Signed-off-by: Jesper Schmitz Mouridsen <jesper@schmitz.computer>
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/36/837236/1 && git format-patch -1 --stdout FETCH_HEAD,['plugins/modules/security_group_rule.py'],1,1003b97b6b0ce834ba6709571f965377f4adcb46,sec-group-rule-description," description=dict(required=False, default=None), kwargs[""description""] = self.params['description']",,2,0
openstack%2Freleases~master~I45342024cfbeb9b57748e2a71e296522d68c6e46,openstack/releases,master,I45342024cfbeb9b57748e2a71e296522d68c6e46,Add cinder specific dates for Zed Schedule,MERGED,2022-04-12 07:22:35.000000000,2022-04-21 09:20:54.000000000,2022-04-21 09:20:54.000000000,"[{'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 27615}, {'_account_id': 28522}, {'_account_id': 32029}]","[{'number': 1, 'created': '2022-04-12 07:22:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/0842bea784917fdd60a8edded8e6bae1f2664400', 'message': 'Add cinder specific dates for Zed Schedule\n\nChange-Id: I45342024cfbeb9b57748e2a71e296522d68c6e46\n'}, {'number': 2, 'created': '2022-04-19 06:28:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/e4f68becb1010db9fa0be17c55e0965c84717b5b', 'message': 'Add cinder specific dates for Zed Schedule\n\nChange-Id: I45342024cfbeb9b57748e2a71e296522d68c6e46\n'}, {'number': 3, 'created': '2022-04-19 08:02:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/f3fd54396d1a217407243373dc9a4736801e704c', 'message': 'Add cinder specific dates for Zed Schedule\n\nChange-Id: I45342024cfbeb9b57748e2a71e296522d68c6e46\n'}, {'number': 4, 'created': '2022-04-21 08:09:11.000000000', 'files': ['doc/source/zed/schedule.yaml', 'doc/source/zed/schedule.rst'], 'web_link': 'https://opendev.org/openstack/releases/commit/e187ba572ffec0b11e53a0a28e67ed9b37381fbf', 'message': 'Add cinder specific dates for Zed Schedule\n\nChange-Id: I45342024cfbeb9b57748e2a71e296522d68c6e46\n'}]",15,837494,e187ba572ffec0b11e53a0a28e67ed9b37381fbf,24,5,4,27615,,,0,"Add cinder specific dates for Zed Schedule

Change-Id: I45342024cfbeb9b57748e2a71e296522d68c6e46
",git fetch https://review.opendev.org/openstack/releases refs/changes/94/837494/4 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/zed/schedule.yaml', 'doc/source/zed/schedule.rst']",2,0842bea784917fdd60a8edded8e6bae1f2664400,837494,"Cinder ------ .. _z-cinder-spec-freeze: Cinder Spec Freeze ^^^^^^^^^^^^^^^^^^ All Cinder Specs for features to be implemented in Zed must be approved by Friday 24 Jun 2022 (23:59 UTC). .. _z-cinder-driver-deadline: Cinder New Driver Merge Deadline ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ The deadline for merging a new backend driver to Cinder for the Zed release is Friday 15 July 2022 (23:59 UTC) which is the same as Milestone 2. New drivers must be (a) code complete including unit tests, (b) merged into the code repository, and (c) must have a 3rd Party CI running reliably. .. _z-cinder-target-driver-deadline: Cinder New Target Driver Merge Deadline ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ The deadline for merging a new target driver to Cinder for the Zed release is Friday 15 July 2022 (23:59 UTC) which is the same as Milestone 2. New target drivers must be (a) code complete including unit tests, (b) merged into the code repository, and (c) must have a 3rd Party CI running reliably. .. _z-cinder-feature-checkpoint: Cinder New Feature Status Checkpoint ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ If your new Cinder feature requires client support, keep in mind that the final release for client libraries is in four weeks. Thus your Cinder feature should be substantially complete with unit tests by this time so that any client changes can be reviewed, tested, and merged before 02 September 2022. .. _z-cinder-driver-features-declaration: Cinder Driver Features Declaration ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ New features added to Cinder drivers must be merged at the time of the OpenStack-wide Feature Freeze, which is coming up in three weeks. Before the Cinder meeting this week, you should post a blueprint in Launchpad listing the Gerrit reviews of features you'd like to land in Zed. (You can look among the Yoga and Xena blueprints for examples; contact the PTL if you have any questions.) This will help the team prioritize reviews and give you candid early feedback on whether the features look ready. .. _z-cinder-ci-checkpoint: Cinder 3rd Party CI Compliance Checkpoint ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ This is a reminder that in order for a Cinder driver to be considered 'supported' in the Zed release, its third party CI must be running properly when the Cinder team does a final compliance check around the time of the third milestone. See the `Driver Compliance <https://docs.openstack.org/cinder/latest/drivers-all-about.html#driver-compliance>`_ section of the Cinder Documentation for details.",,77,0
openstack%2Fovn-octavia-provider~stable%2Fussuri~I3bd686db234f472c693c3ac1d23e58be58a5acb6,openstack/ovn-octavia-provider,stable/ussuri,I3bd686db234f472c693c3ac1d23e58be58a5acb6,Increase code coverage,MERGED,2022-04-11 15:57:33.000000000,2022-04-21 09:19:20.000000000,2022-04-21 09:16:08.000000000,"[{'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-11 15:57:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/c749dbae78a9d2596a24f58acfa593b90b6bf2de', 'message': 'Increase code coverage\n\nCreate some additional tests to increase coverage to 92%.\n\nCo-authored-by: Brian Haley <haleyb.dev@gmail.com>\nCo-authored-by: Fernando Royo <froyo@redhat.com>\n\nNOTE: Stable branch backports will mantain the %age configured.\n\nConflicts:\n\ttox.ini\n\n(manually cherry picked from commit 7f00a1961d5fda9ba098c2dbcc39b978ee8b622e)\n\nChange-Id: I3bd686db234f472c693c3ac1d23e58be58a5acb6\n'}, {'number': 2, 'created': '2022-04-11 16:39:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/4e59f5950f37355cb3c41dee75dd86e6c836caeb', 'message': 'Increase code coverage\n\nCreate some additional tests to increase coverage to 92%.\n\nCo-authored-by: Brian Haley <haleyb.dev@gmail.com>\nCo-authored-by: Fernando Royo <froyo@redhat.com>\n\nNOTE: Stable branch backports will mantain the %age configured.\n\nConflicts:\n\ttox.ini\n\n(manually cherry picked from commit 7f00a1961d5fda9ba098c2dbcc39b978ee8b622e)\n\nChange-Id: I3bd686db234f472c693c3ac1d23e58be58a5acb6\n'}, {'number': 3, 'created': '2022-04-12 07:54:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/160195952f0f5dba0d71945d3baf506c2c93295d', 'message': 'Increase code coverage\n\nCreate some additional tests to increase coverage to 92%.\n\nCo-authored-by: Brian Haley <haleyb.dev@gmail.com>\nCo-authored-by: Fernando Royo <froyo@redhat.com>\n\nNOTE: Stable branch backports will mantain the %age configured.\n\nConflicts:\n\ttox.ini\n\n(manually cherry picked from commit 7f00a1961d5fda9ba098c2dbcc39b978ee8b622e)\n\nChange-Id: I3bd686db234f472c693c3ac1d23e58be58a5acb6\n'}, {'number': 4, 'created': '2022-04-12 08:27:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/15c807d8f0f02fac7dd523c3ed24d0bdfd62e8c3', 'message': 'Increase code coverage\n\nCreate some additional tests to increase coverage to 92%.\n\nCo-authored-by: Brian Haley <haleyb.dev@gmail.com>\nCo-authored-by: Fernando Royo <froyo@redhat.com>\n\nNOTE: Stable branch backports will mantain the %age configured.\n\nConflicts:\n\ttox.ini\n\n(manually cherry picked from commit 7f00a1961d5fda9ba098c2dbcc39b978ee8b622e)\n\nChange-Id: I3bd686db234f472c693c3ac1d23e58be58a5acb6\n'}, {'number': 5, 'created': '2022-04-12 08:31:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/e8681e15466fe04c7dbd7f95e5ad3c9585411abe', 'message': 'Increase code coverage\n\nCreate some additional tests to increase coverage to 92%.\n\nCo-authored-by: Brian Haley <haleyb.dev@gmail.com>\nCo-authored-by: Fernando Royo <froyo@redhat.com>\n\nNOTE: Stable branch backports will mantain the %age configured.\n\nConflicts:\n\ttox.ini\n\n(manually cherry picked from commit 7f00a1961d5fda9ba098c2dbcc39b978ee8b622e)\n\nChange-Id: I3bd686db234f472c693c3ac1d23e58be58a5acb6\n'}, {'number': 6, 'created': '2022-04-12 09:15:07.000000000', 'files': ['ovn_octavia_provider/tests/unit/test_driver.py', 'zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/d764a78bb77c2417fe93a5c5c693c0913a9637be', 'message': 'Increase code coverage\n\nCreate some additional tests to increase coverage to 92%.\n\nCo-authored-by: Brian Haley <haleyb.dev@gmail.com>\nCo-authored-by: Fernando Royo <froyo@redhat.com>\n\nNOTE: Stable branch backports will mantain the %age configured.\n\nConflicts:\n\ttox.ini\n\n(manually cherry picked from commit 7f00a1961d5fda9ba098c2dbcc39b978ee8b622e)\n\nChange-Id: I3bd686db234f472c693c3ac1d23e58be58a5acb6\n'}]",4,837369,d764a78bb77c2417fe93a5c5c693c0913a9637be,23,3,6,34451,,,0,"Increase code coverage

Create some additional tests to increase coverage to 92%.

Co-authored-by: Brian Haley <haleyb.dev@gmail.com>
Co-authored-by: Fernando Royo <froyo@redhat.com>

NOTE: Stable branch backports will mantain the %age configured.

Conflicts:
	tox.ini

(manually cherry picked from commit 7f00a1961d5fda9ba098c2dbcc39b978ee8b622e)

Change-Id: I3bd686db234f472c693c3ac1d23e58be58a5acb6
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/69/837369/1 && git format-patch -1 --stdout FETCH_HEAD,"['ovn_octavia_provider/tests/unit/test_driver.py', 'zuul.d/project.yaml']",2,c749dbae78a9d2596a24f58acfa593b90b6bf2de,ussuri, - openstack-cover-jobs,,586,6
openstack%2Fskyline-console~master~If850de2036265f33686610cb5061dc768ee9ae5f,openstack/skyline-console,master,If850de2036265f33686610cb5061dc768ee9ae5f,feat: There are more 'more' parameters passed when creating a user,MERGED,2022-04-21 06:36:30.000000000,2022-04-21 09:12:54.000000000,2022-04-21 09:12:54.000000000,"[{'_account_id': 22348}, {'_account_id': 30434}]","[{'number': 1, 'created': '2022-04-21 06:36:30.000000000', 'files': ['src/pages/identity/containers/User/actions/Create.jsx'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/e3561599f43400d1d551e5869976438817489bf5', 'message': ""feat: There are more 'more' parameters passed when creating a user\n\nThere are more 'more' parameters passed when creating a user\n\nChange-Id: If850de2036265f33686610cb5061dc768ee9ae5f\n""}]",0,838825,e3561599f43400d1d551e5869976438817489bf5,6,2,1,34718,,,0,"feat: There are more 'more' parameters passed when creating a user

There are more 'more' parameters passed when creating a user

Change-Id: If850de2036265f33686610cb5061dc768ee9ae5f
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/25/838825/1 && git format-patch -1 --stdout FETCH_HEAD,['src/pages/identity/containers/User/actions/Create.jsx'],1,e3561599f43400d1d551e5869976438817489bf5,," const { confirmPassword, more, ...rest } = values;"," const { confirmPassword, ...rest } = values;",1,1
openstack%2Fneutron~master~Iefd765d497c7e2d4bb093052478185125b907025,openstack/neutron,master,Iefd765d497c7e2d4bb093052478185125b907025,Remove useless function _add_port_tag_info,MERGED,2022-04-19 07:27:34.000000000,2022-04-21 09:11:30.000000000,2022-04-21 09:09:33.000000000,"[{'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 9531}, {'_account_id': 9845}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-19 07:27:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3ea06d6ef63a16fa049fdf8cce21772047e98637', 'message': '[WIP] Remove useless function _add_port_tag_info\n\nRemove this _add_port_tag_info function since it is not necessay.\n\nRelated-Bug: #1968896\nRelated-Bug: #1952567\nChange-Id: Iefd765d497c7e2d4bb093052478185125b907025\n'}, {'number': 2, 'created': '2022-04-20 01:28:14.000000000', 'files': ['neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/test_ovs_neutron_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/c4adec924a1f189fbe5750f1b413db0d0f23c39a', 'message': 'Remove useless function _add_port_tag_info\n\nThis reverts commit: b83fedbd78a441cf34d53dba35a3ccff7d8f4ac5.\n\nSince port is set to dead by default after the commits of:\n7aae31c9f9ed938760ca0be3c461826b598c7004\n0ddca284542aed89df4a22607a2da03f193f083c\n\nAnd we add the local vlan tag to the port right after it is\nbound to aviod trunk port flood issue:\nc63ebef2d58e15f4388cf064066f77b503a2f841\n\nSo that _add_port_tag_info function is not necessary anymore,\nand we will save a large OVSDB read action which is dumping\nthe entire table of Port, for hosts with a huge number of\nports this is time-comsuming. So removed it.\n\nRelated-Bug: #1968896\nRelated-Bug: #1952567\nChange-Id: Iefd765d497c7e2d4bb093052478185125b907025\n'}]",7,838445,c4adec924a1f189fbe5750f1b413db0d0f23c39a,28,6,2,9531,,,0,"Remove useless function _add_port_tag_info

This reverts commit: b83fedbd78a441cf34d53dba35a3ccff7d8f4ac5.

Since port is set to dead by default after the commits of:
7aae31c9f9ed938760ca0be3c461826b598c7004
0ddca284542aed89df4a22607a2da03f193f083c

And we add the local vlan tag to the port right after it is
bound to aviod trunk port flood issue:
c63ebef2d58e15f4388cf064066f77b503a2f841

So that _add_port_tag_info function is not necessary anymore,
and we will save a large OVSDB read action which is dumping
the entire table of Port, for hosts with a huge number of
ports this is time-comsuming. So removed it.

Related-Bug: #1968896
Related-Bug: #1952567
Change-Id: Iefd765d497c7e2d4bb093052478185125b907025
",git fetch https://review.opendev.org/openstack/neutron refs/changes/45/838445/2 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py'],1,3ea06d6ef63a16fa049fdf8cce21772047e98637,bug/1968896,," def _add_port_tag_info(self, need_binding_ports): port_names = [p['vif_port'].port_name for p in need_binding_ports] port_info = self.int_br.get_ports_attributes( ""Port"", columns=[""name"", ""tag"", ""other_config""], ports=port_names, if_exists=True) info_by_port = { x['name']: { 'tag': x['tag'], 'other_config': x['other_config'] or {} } for x in port_info } for port_detail in need_binding_ports: try: lvm = self.vlan_manager.get(port_detail['network_id']) except vlanmanager.MappingNotFound: continue port = port_detail['vif_port'] try: cur_info = info_by_port[port.port_name] except KeyError: continue str_vlan = str(lvm.vlan) other_config = cur_info['other_config'] if (cur_info['tag'] != lvm.vlan or other_config.get('tag') != str_vlan): other_config['tag'] = str_vlan self.int_br.set_db_attribute( ""Port"", port.port_name, ""other_config"", other_config) # Uninitialized port has tag set to [] if cur_info['tag']: LOG.warning(""Uninstall flows of ofport %s due to "" ""local vlan change."", port.ofport) self.int_br.uninstall_flows(in_port=port.ofport) self._add_port_tag_info(need_binding_devices)",0,36
openstack%2Faodh~stable%2Fstein~If208e9d68ef7aed91e6af3a1fe06f06543246b30,openstack/aodh,stable/stein,If208e9d68ef7aed91e6af3a1fe06f06543246b30,[Stein] Remove TripleO jobs,NEW,2022-01-12 00:58:24.000000000,2022-04-21 08:57:04.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-01-12 00:58:24.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/aodh/commit/60be46c8cfd44495b1966a9677cabeb55c8d7702', 'message': '[Stein] Remove TripleO jobs\n\nTripleO has retired its stable/stein, and the branch is no longer\nmaintained.\n\nChange-Id: If208e9d68ef7aed91e6af3a1fe06f06543246b30\n'}]",1,824267,60be46c8cfd44495b1966a9677cabeb55c8d7702,3,1,1,9816,,,0,"[Stein] Remove TripleO jobs

TripleO has retired its stable/stein, and the branch is no longer
maintained.

Change-Id: If208e9d68ef7aed91e6af3a1fe06f06543246b30
",git fetch https://review.opendev.org/openstack/aodh refs/changes/67/824267/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,60be46c8cfd44495b1966a9677cabeb55c8d7702,,," experimental: jobs: # TripleO jobs that deploy Telemetry. # Note we don't use a project-template here, so it's easier # to disable voting on one specific job if things go wrong. # tripleo-ci-centos-7-scenario00(1|2)-multinode-oooq will only # run on stable/pike while the -container will run in Queens # and beyond. # If you need any support to debug these jobs in case of # failures, please reach us on #tripleo IRC channel. # NOTE(sileht): These job takes 3 hours and fail most of the times. # While other jobs take 20-30 minutes # We can reenable it when they take less times. - tripleo-ci-centos-7-scenario001-multinode-oooq - tripleo-ci-centos-7-scenario001-standalone - tripleo-ci-centos-7-scenario002-multinode-oooq - tripleo-ci-centos-7-scenario002-standalone",0,17
openstack%2Ftrove-dashboard~master~I20dad437b243bd71b017fc876de9fe84b654ee65,openstack/trove-dashboard,master,I20dad437b243bd71b017fc876de9fe84b654ee65,Fix Unit tests for trove-dashboard,MERGED,2022-03-29 12:14:43.000000000,2022-04-21 08:45:26.000000000,2022-04-21 08:45:26.000000000,"[{'_account_id': 841}, {'_account_id': 6476}, {'_account_id': 22348}, {'_account_id': 26285}]","[{'number': 1, 'created': '2022-03-29 12:14:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove-dashboard/commit/ebe4706818632df2d1c83a587284077252708105', 'message': 'Fix Unit tests for trove-dashboard\n\nAfter 196de449b6 merged in openstack/horizon return value\nof network_list_for_tenant() is changed. This patch update\nthe unit tests in openstack/trove-dashboard to use updated\nreturn type [1]\n\n[1] https://github.com/openstack/horizon/blob/master/openstack_dashboard/api/neutron.py#L1397\n\nChange-Id: I20dad437b243bd71b017fc876de9fe84b654ee65\n'}, {'number': 2, 'created': '2022-03-31 07:26:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove-dashboard/commit/ea9b4921da2cf51c54ba3c867b4869c4bf1511d2', 'message': 'Fix Unit tests for trove-dashboard\n\nAfter 196de449b6 merged in openstack/horizon return value\nof network_list_for_tenant() is changed. This patch update\nthe unit tests in openstack/trove-dashboard to use updated\nreturn type [1]\n\n[1] https://github.com/openstack/horizon/blob/master/openstack_dashboard/api/neutron.py#L1397\n\nChange-Id: I20dad437b243bd71b017fc876de9fe84b654ee65\n'}, {'number': 3, 'created': '2022-03-31 18:54:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove-dashboard/commit/eb00abb86216ac911a52070229768334e3a526b7', 'message': 'Fix Unit tests for trove-dashboard\n\nAfter 196de449b6 merged in openstack/horizon return value\nof network_list_for_tenant() is changed. This patch update\nthe unit tests in openstack/trove-dashboard to use updated\nreturn type [1]\n\n[1] https://github.com/openstack/horizon/blob/master/openstack_dashboard/api/neutron.py#L1397\n\nChange-Id: I20dad437b243bd71b017fc876de9fe84b654ee65\n'}, {'number': 4, 'created': '2022-04-01 06:15:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove-dashboard/commit/f4f822d5502884e1e1dd7851856addf6e8f19851', 'message': 'Fix Unit tests for trove-dashboard\n\nAfter 196de449b6 merged in openstack/horizon return value\nof network_list_for_tenant() is changed. This patch update\nthe unit tests in openstack/trove-dashboard to use updated\nreturn type [1]\n\n[1] https://github.com/openstack/horizon/blob/master/openstack_dashboard/api/neutron.py#L1397\n\nChange-Id: I20dad437b243bd71b017fc876de9fe84b654ee65\n'}, {'number': 5, 'created': '2022-04-06 05:03:52.000000000', 'files': ['trove_dashboard/content/databases/tests.py', 'trove_dashboard/content/database_backups/tests.py'], 'web_link': 'https://opendev.org/openstack/trove-dashboard/commit/751974bddb974e8be0cfe87b5a2070d71e597ed1', 'message': ""Fix Unit tests for trove-dashboard\n\nAfter 196de449b6 merged in openstack/horizon few trove-dashboard\nunit tests start failing. This patch updates those unit tests to\nnot depend on the internal implementation of the horizon\nnetwork_list_for_tenant function[1]. So any change in horizon won't\nbreak these tests again.\n\n[1] https://github.com/openstack/horizon/blob/master/openstack_dashboard/api/neutron.py#L1397\n\nChange-Id: I20dad437b243bd71b017fc876de9fe84b654ee65\n""}]",13,835617,751974bddb974e8be0cfe87b5a2070d71e597ed1,21,4,5,29313,,,0,"Fix Unit tests for trove-dashboard

After 196de449b6 merged in openstack/horizon few trove-dashboard
unit tests start failing. This patch updates those unit tests to
not depend on the internal implementation of the horizon
network_list_for_tenant function[1]. So any change in horizon won't
break these tests again.

[1] https://github.com/openstack/horizon/blob/master/openstack_dashboard/api/neutron.py#L1397

Change-Id: I20dad437b243bd71b017fc876de9fe84b654ee65
",git fetch https://review.opendev.org/openstack/trove-dashboard refs/changes/17/835617/4 && git format-patch -1 --stdout FETCH_HEAD,"['trove_dashboard/content/databases/tests.py', 'trove_dashboard/content/database_backups/tests.py']",2,ebe4706818632df2d1c83a587284077252708105,," test.IsHttpRequest(), single_page=False, shared=False, tenant_id=self.tenant.id)"," test.IsHttpRequest(), tenant_id=self.tenant.id, shared=False)",15,13
openstack%2Fcharm-ceph-mon~master~I01a878f7bbf244d1db79991382a18dc23176d9b6,openstack/charm-ceph-mon,master,I01a878f7bbf244d1db79991382a18dc23176d9b6,Resync charms.ceph,MERGED,2022-04-21 06:55:10.000000000,2022-04-21 08:24:16.000000000,2022-04-21 08:24:16.000000000,"[{'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-21 06:55:10.000000000', 'files': ['lib/charms_ceph/utils.py'], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/ed7b94b135e8a2c22dcda8ad32c5a89d58259ab4', 'message': 'Resync charms.ceph\n\nPickup changes for cephx key permissions for rbd-mirror\ncharm.\n\nChange-Id: I01a878f7bbf244d1db79991382a18dc23176d9b6\nCloses-Bug: 1879749\n'}]",0,838827,ed7b94b135e8a2c22dcda8ad32c5a89d58259ab4,7,3,1,935,,,0,"Resync charms.ceph

Pickup changes for cephx key permissions for rbd-mirror
charm.

Change-Id: I01a878f7bbf244d1db79991382a18dc23176d9b6
Closes-Bug: 1879749
",git fetch https://review.opendev.org/openstack/charm-ceph-mon refs/changes/27/838827/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/charms_ceph/utils.py'],1,ed7b94b135e8a2c22dcda8ad32c5a89d58259ab4,rbd-mirror-peer," ('mon', ['allow profile rbd-mirror-peer', 'allow command ""service dump""', 'allow command ""service status""' ]),"," ('mon', ['profile rbd; allow r']),",4,1
openstack%2Fpuppet-tripleo~master~I3b3d76db873ebb4983fd08275dc05966b425e96e,openstack/puppet-tripleo,master,I3b3d76db873ebb4983fd08275dc05966b425e96e,Override oslo.log config for involved services,ABANDONED,2022-03-23 11:01:28.000000000,2022-04-21 07:55:09.000000000,,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-03-23 11:01:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/09e027d5da30172a5d94b2a315d414d6528c7154', 'message': 'WIP override oslo.log config for involved services\n\nInstead of adding more paramteres for all puppet-openstack modules,\noverride it in the resources catalog, using the Hiera scope of\nnew tripleo::profile::base::logging::oslo class.\n\nChange-Id: I3b3d76db873ebb4983fd08275dc05966b425e96e\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 2, 'created': '2022-03-30 08:41:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/18261ad77b8fda7bc71a6996340d84581d68ce66', 'message': 'WIP override oslo.log config for involved services\n\nInstead of adding more paramteres for all puppet-openstack modules,\noverride it in the resources catalog, using the Hiera scope of\nnew tripleo::profile::base::logging::oslo class.\n\nChange-Id: I3b3d76db873ebb4983fd08275dc05966b425e96e\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 3, 'created': '2022-04-07 08:07:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/d2cd5ed881ca2c6b3c5fd203b42ec0692ccbb26c', 'message': 'Override oslo.log config for involved services\n\nInstead of adding more paramteres for all puppet-openstack modules,\noverride it in the resources catalog, using the Hiera scope of\nnew tripleo::profile::base::logging::oslo class.\n\nChange-Id: I3b3d76db873ebb4983fd08275dc05966b425e96e\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 4, 'created': '2022-04-08 14:12:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/a975e8c860244e97ca07e6427956e82bc63cdd7f', 'message': 'Override oslo.log config for involved services\n\nInstead of adding more paramteres for all puppet-openstack modules,\noverride it in the resources catalog, using the Hiera scope of\nnew tripleo::profile::base::logging::oslo class.\n\nChange-Id: I3b3d76db873ebb4983fd08275dc05966b425e96e\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 5, 'created': '2022-04-08 14:41:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/2736e5f5af2d9b591a42ae0159c55a64fc722652', 'message': 'Override oslo.log config for involved services\n\nInstead of adding more paramteres for all puppet-openstack modules,\noverride it in the resources catalog, using the Hiera scope of\nnew tripleo::profile::base::logging::oslo class.\n\nChange-Id: I3b3d76db873ebb4983fd08275dc05966b425e96e\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 6, 'created': '2022-04-14 08:51:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/a6b6b499f65758c55091491e8779c27f629918e2', 'message': 'Override oslo.log config for involved services\n\nInstead of adding more paramteres for all puppet-openstack modules,\noverride it in the resources catalog, using the Hiera scope of\nnew tripleo::profile::base::logging::oslo class.\n\nChange-Id: I3b3d76db873ebb4983fd08275dc05966b425e96e\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 7, 'created': '2022-04-15 08:57:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/da90dda99328713c3c4598d11f49527b39d7e2fa', 'message': 'Override oslo.log config for involved services\n\nInstead of adding more paramteres for all puppet-openstack modules,\noverride it in the resources catalog, using the Hiera scope of\nnew tripleo::profile::base::logging::oslo class.\n\nChange-Id: I3b3d76db873ebb4983fd08275dc05966b425e96e\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 8, 'created': '2022-04-15 09:52:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/735d3ef4e5e68ab0cc883aea41d2aeb97af80bc3', 'message': 'Override oslo.log config for involved services\n\nInstead of adding more paramteres for all puppet-openstack modules,\noverride it in the resources catalog, using the Hiera scope of\nnew tripleo::profile::base::logging::oslo class.\n\nChange-Id: I3b3d76db873ebb4983fd08275dc05966b425e96e\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 9, 'created': '2022-04-15 13:41:27.000000000', 'files': ['manifests/profile/base/heat.pp', 'manifests/profile/base/octavia.pp', 'manifests/profile/base/keystone.pp', 'manifests/profile/base/logging/oslo.pp', 'manifests/profile/base/neutron.pp', 'manifests/profile/base/ironic.pp', 'manifests/profile/base/barbican/api.pp', 'manifests/profile/base/glance/api.pp', 'manifests/profile/base/manila.pp', 'manifests/profile/base/gnocchi.pp', 'manifests/profile/base/ironic_inspector.pp', 'manifests/profile/base/nova.pp', 'manifests/profile/base/designate.pp', 'manifests/profile/base/aodh.pp', 'manifests/profile/base/placement.pp', 'manifests/profile/base/ceilometer.pp', 'manifests/profile/base/cinder.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/bde2037252d7fc82d1d6aa3330a53145e7cf31bb', 'message': 'Override oslo.log config for involved services\n\nInstead of adding more paramteres for all puppet-openstack modules,\noverride it in the resources catalog, using the Hiera scope of\nnew tripleo::profile::base::logging::oslo class.\n\nChange-Id: I3b3d76db873ebb4983fd08275dc05966b425e96e\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}]",3,834846,bde2037252d7fc82d1d6aa3330a53145e7cf31bb,30,5,9,6926,,,0,"Override oslo.log config for involved services

Instead of adding more paramteres for all puppet-openstack modules,
override it in the resources catalog, using the Hiera scope of
new tripleo::profile::base::logging::oslo class.

Change-Id: I3b3d76db873ebb4983fd08275dc05966b425e96e
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/46/834846/3 && git format-patch -1 --stdout FETCH_HEAD,['manifests/profile/base/logging/oslo.pp'],1,09e027d5da30172a5d94b2a315d414d6528c7154,fix-request_id,"# Copyright 2022 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # # == Class: tripleo::profile::base::logging::logrotate # # Installs a cron job that rotates containerized services logs. # # === Parameters # # [*step*] # (Optional) String. The current step of the deployment # Defaults to hiera('step') # # [*log_global_request_id*] # (optional) Defaults to $::os_service_default. # Configures log_global_request_id for OpenStack services via Oslo.log. # class tripleo::profile::base::logging::oslo ( $step = Integer(hiera('step')), $log_global_request_id = $::os_service_default, ) { if $step >= 4 { [ 'aodh', 'barbican', 'ceilometer', 'cinder', 'designate', 'glance_api', 'glance_cache', 'gnocchi', 'heat', 'ironic_inspector', 'keystone', 'manila', 'neutron', 'nova', 'octavia', 'placement', 'tempest' ].each |String $svc| { Oslo::Log <| name == ""$svc_config"" |> { log_global_request_id => $log_global_request_id, } } } } ",,60,0
openstack%2Foslo.log~master~Ie52746e61c4a60c818cee6e562dcb253346d5cd3,openstack/oslo.log,master,Ie52746e61c4a60c818cee6e562dcb253346d5cd3,Add context formatter option to log Global Req ID,ABANDONED,2022-03-17 09:27:06.000000000,2022-04-21 07:53:44.000000000,,"[{'_account_id': 2750}, {'_account_id': 6926}, {'_account_id': 9816}, {'_account_id': 11604}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 31245}]","[{'number': 1, 'created': '2022-03-17 09:27:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.log/commit/8582122f3b4cc53db97fdbe4f58a4fe0a1232058', 'message': 'Add context formatter option to log Global Req ID\n\nDevstack overrides [0] logging_context_format_string to show\nglobal_request_id in CI. Modifying context formatters is not\nan ideal solution as it requires repeating the service specific\ncontext formatters to reconfigure each particular service.\n\nProbably because of that, different services solve global req IDs\nlogging issues differently, like [1].\n\nProvide a unified way to solve this via an opted-out oslo.log\nconfig parameter. Add log_global_request_id option (defaults to False)\nto extend the default (or custom) context formatters with\nGlobal Req ID placed alongside request_id in logs with context.\n\n[0] Ic6ba1a42da88c03e43d89658b453f6a0b353e0db\n[1] Ide831a221a7561bbb7da193f0edb011f1989420e\n\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\nChange-Id: Ie52746e61c4a60c818cee6e562dcb253346d5cd3\n'}, {'number': 2, 'created': '2022-03-18 10:33:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.log/commit/5b24066d6fa482f7161f1fa3108f84257b66fdec', 'message': 'Add context formatter option to log Global Req ID\n\nDevstack overrides [0] logging_context_format_string to show\nglobal_request_id in CI. Modifying context formatters is not\nan ideal solution as it requires repeating the service specific\ncontext formatters to reconfigure each particular service.\n\nProbably because of that, different services solve global req IDs\nlogging issues differently, like [1].\n\nProvide a unified way to solve this via an opted-out oslo.log\nconfig parameter. Add log_global_request_id option (defaults to False)\nto extend the default (or custom) context formatters with\nGlobal Req ID placed alongside request_id in logs with context.\n\n[0] Ic6ba1a42da88c03e43d89658b453f6a0b353e0db\n[1] Ide831a221a7561bbb7da193f0edb011f1989420e\n\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\nChange-Id: Ie52746e61c4a60c818cee6e562dcb253346d5cd3\n'}, {'number': 3, 'created': '2022-03-18 12:29:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.log/commit/0be25f08c3ef99e7b46412df195a47d5baa16ff4', 'message': 'Add context formatter option to log Global Req ID\n\nDevstack overrides [0] logging_context_format_string to show\nglobal_request_id in CI. Modifying context formatters is not\nan ideal solution as it requires repeating the service specific\ncontext formatters to reconfigure each particular service.\n\nProbably because of that, different services solve global req IDs\nlogging issues differently, like [1].\n\nProvide a unified way to solve this via an opted-out oslo.log\nconfig parameter. Add log_global_request_id option (defaults to False)\nto extend the default (or custom) context formatters with\nGlobal Req ID placed alongside request_id in logs with context.\n\n[0] Ic6ba1a42da88c03e43d89658b453f6a0b353e0db\n[1] Ide831a221a7561bbb7da193f0edb011f1989420e\n\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\nChange-Id: Ie52746e61c4a60c818cee6e562dcb253346d5cd3\n'}, {'number': 4, 'created': '2022-03-18 14:48:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.log/commit/4a0500e6385bce8d24cef523f29933f7b21b4a12', 'message': 'Add context formatter option to log Global Req ID\n\nDevstack overrides [0] logging_context_format_string to show\nglobal_request_id in CI. Modifying context formatters is not\nan ideal solution as it requires repeating the service specific\ncontext formatters to reconfigure each particular service.\n\nProbably because of that, different services solve global req IDs\nlogging issues differently, like [1].\n\nProvide a unified way to solve this via an opted-out oslo.log\nconfig parameter. Add log_global_request_id option (defaults to False)\nto extend the default (or custom) context formatters with\nGlobal Req ID placed alongside request_id in logs with context.\n\n[0] Ic6ba1a42da88c03e43d89658b453f6a0b353e0db\n[1] Ide831a221a7561bbb7da193f0edb011f1989420e\n\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\nChange-Id: Ie52746e61c4a60c818cee6e562dcb253346d5cd3\n'}, {'number': 5, 'created': '2022-03-22 09:38:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.log/commit/2d0392f4fa9038f09f4383913d8917a8e5402be2', 'message': 'Add context formatter option to log Global Req ID\n\nDevstack overrides [0] logging_context_format_string to show\nglobal_request_id in CI. Modifying context formatters is not\nan ideal solution as it requires repeating the service specific\ncontext formatters to reconfigure each particular service.\n\nProbably because of that, different services solve global req IDs\nlogging issues differently, like [1].\n\nProvide a unified way to solve this via an opted-out oslo.log\nconfig parameter. Add log_global_request_id option (defaults to False)\nto extend the default (or custom) context formatters with\nGlobal Req ID placed alongside request_id in logs with context.\n\n[0] Ic6ba1a42da88c03e43d89658b453f6a0b353e0db\n[1] Ide831a221a7561bbb7da193f0edb011f1989420e\n\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\nChange-Id: Ie52746e61c4a60c818cee6e562dcb253346d5cd3\n'}, {'number': 6, 'created': '2022-04-08 13:32:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.log/commit/c4833f67a1cf29e5af59014d9caf3f6ebb3aa786', 'message': 'Add context formatter option to log Global Req ID\n\nDevstack overrides [0] logging_context_format_string to show\nglobal_request_id in CI. Modifying context formatters is not\nan ideal solution as it requires repeating the service specific\ncontext formatters to reconfigure each particular service.\n\nProbably because of that, different services solve global req IDs\nlogging issues differently, like [1].\n\nProvide a unified way to solve this via an opted-out oslo.log config\nparameter. Add logging_context_add_from option (defaults to an\nempty list) which extends default/custom context formatters with\ngiven extra values prepending request_id in log records with context.\n\nFor example,\n\n     [DEFAULT]\n     logging_context_add_from=""global_request_id, user_identity""\n\nwould add \'%(global_request id)s\', and other formatter data fields\nexpanded from the requested \'user_identity\', into the context formatter\nstrings of services that use that setting. Added formatters will\nprepend \'%(request_id)s\' formatter strings of those services.\n\n[0] Ic6ba1a42da88c03e43d89658b453f6a0b353e0db\n[1] Ide831a221a7561bbb7da193f0edb011f1989420e\n\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\nChange-Id: Ie52746e61c4a60c818cee6e562dcb253346d5cd3\n'}, {'number': 7, 'created': '2022-04-08 14:01:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.log/commit/2f46873c4662571fe14b65cc0fc27b215b6b7cbe', 'message': 'Add context formatter option to log Global Req ID\n\nDevstack overrides [0] logging_context_format_string to show\nglobal_request_id in CI. Modifying context formatters is not\nan ideal solution as it requires repeating the service specific\ncontext formatters to reconfigure each particular service.\n\nProbably because of that, different services solve global req IDs\nlogging issues differently, like [1].\n\nProvide a unified way to modify context formatters locally for\neach service but using a global oslo.log config knob, which is\nlogging_context_add_from (defaults to an empty list).\nIt dynamically extends default/custom context formatters in log\nrecords with context, for services that enable that setting.\n\nFor example,\n\n     [DEFAULT]\n     logging_context_add_from=""global_request_id, extra_data""\n\nadds \'%(global_request_id)s\', if it is defined (not None) in the\ncontext. It then adds \'%(extra_data)s, under the same not None\ncondition. Added strings will prepend \'%(request_id)s\' formatter.\n\n[0] Ic6ba1a42da88c03e43d89658b453f6a0b353e0db\n[1] Ide831a221a7561bbb7da193f0edb011f1989420e\n\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\nChange-Id: Ie52746e61c4a60c818cee6e562dcb253346d5cd3\n'}, {'number': 8, 'created': '2022-04-08 14:04:49.000000000', 'files': ['oslo_log/tests/unit/test_log.py', 'oslo_log/_options.py', 'oslo_log/formatters.py', 'releasenotes/notes/logging_context_extra-cc1085f3e7ef21c0.yaml'], 'web_link': 'https://opendev.org/openstack/oslo.log/commit/453100130d71d72340c1e66e7af6591a3c729842', 'message': 'Add context formatter option to log Global Req ID\n\nDevstack overrides [0] logging_context_format_string to show\nglobal_request_id in CI. Modifying context formatters is not\nan ideal solution as it requires repeating the service specific\ncontext formatters to reconfigure each particular service.\n\nProbably because of that, different services solve global req IDs\nlogging issues differently, like [1].\n\nProvide a unified way to modify context formatters locally for\neach service but using a global oslo.log config knob, which is\nlogging_context_add_from (defaults to an empty list).\nIt dynamically extends default/custom context formatters in log\nrecords with context, for services that enable that setting.\n\nFor example,\n\n     [DEFAULT]\n     logging_context_add_from=""global_request_id, extra_data""\n\nadds \'%(global_request_id)s\', if it is defined (not None) in the\ncontext. It then adds \'%(extra_data)s, under the same not None\ncondition. Added strings will prepend \'%(request_id)s\' formatter.\n\n[0] Ic6ba1a42da88c03e43d89658b453f6a0b353e0db\n[1] Ide831a221a7561bbb7da193f0edb011f1989420e\n\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\nChange-Id: Ie52746e61c4a60c818cee6e562dcb253346d5cd3\n'}]",41,834120,453100130d71d72340c1e66e7af6591a3c729842,50,8,8,6926,,,0,"Add context formatter option to log Global Req ID

Devstack overrides [0] logging_context_format_string to show
global_request_id in CI. Modifying context formatters is not
an ideal solution as it requires repeating the service specific
context formatters to reconfigure each particular service.

Probably because of that, different services solve global req IDs
logging issues differently, like [1].

Provide a unified way to modify context formatters locally for
each service but using a global oslo.log config knob, which is
logging_context_add_from (defaults to an empty list).
It dynamically extends default/custom context formatters in log
records with context, for services that enable that setting.

For example,

     [DEFAULT]
     logging_context_add_from=""global_request_id, extra_data""

adds '%(global_request_id)s', if it is defined (not None) in the
context. It then adds '%(extra_data)s, under the same not None
condition. Added strings will prepend '%(request_id)s' formatter.

[0] Ic6ba1a42da88c03e43d89658b453f6a0b353e0db
[1] Ide831a221a7561bbb7da193f0edb011f1989420e

Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
Change-Id: Ie52746e61c4a60c818cee6e562dcb253346d5cd3
",git fetch https://review.opendev.org/openstack/oslo.log refs/changes/20/834120/8 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_log/_options.py', 'oslo_log/formatters.py', 'oslo_log/tests/unit/test_log.py']",3,8582122f3b4cc53db97fdbe4f58a4fe0a1232058,fix-request_id," def test_log_global_request_id(self): self.CONF.set_default('log_global_request_id', True) log.set_defaults() self.assertEqual(True, self.CONF.log_global_request_id) self.assertIn('%(global_request_id)s', self.CONF.logging_context_format_string) ctxt = _fake_context() ctxt.request_id = str('99') ctxt.global_request_id = str('42') self.log.debug('testing global req id', context=ctxt) data = jsonutils.loads(self.stream.getvalue()) self.assertIn('[42 99', data) ",,24,0
openstack%2Fpuppet-oslo~master~I8c34677059c2989f7700f27443c91c807d76160c,openstack/puppet-oslo,master,I8c34677059c2989f7700f27443c91c807d76160c,Add param to log extra context values,ABANDONED,2022-03-18 11:03:42.000000000,2022-04-21 07:53:27.000000000,,"[{'_account_id': 6926}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-03-18 11:03:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-oslo/commit/b20e12f9a00896c33a6c5ebd837835c64314ebb4', 'message': 'Add param to log Global Request IDs\n\nDepends-On: https://review.opendev.org/834120\n\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\nChange-Id: I8c34677059c2989f7700f27443c91c807d76160c\n'}, {'number': 2, 'created': '2022-04-08 14:14:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-oslo/commit/9c9fb5146f9d79a444640f423349a28844d85811', 'message': 'Add param to log extra context values\n\nThis can be useful to log Global Request IDs\nalongside local Request IDs for OpenStack services.\n\nDepends-On: https://review.opendev.org/834120\n\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\nChange-Id: I8c34677059c2989f7700f27443c91c807d76160c\n'}, {'number': 3, 'created': '2022-04-08 14:23:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-oslo/commit/5a664634535a04c1442c51cc7565dbe61cbd5f12', 'message': 'Add param to log extra context values\n\nThis can be useful to log Global Request IDs\nalongside local Request IDs for OpenStack services.\n\nDepends-On: https://review.opendev.org/834120\n\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\nChange-Id: I8c34677059c2989f7700f27443c91c807d76160c\n'}, {'number': 4, 'created': '2022-04-08 14:27:38.000000000', 'files': ['spec/defines/oslo_log_spec.rb', 'manifests/log.pp'], 'web_link': 'https://opendev.org/openstack/puppet-oslo/commit/fdb0455b8f4f248a7936c5cccaea428bf7937acf', 'message': 'Add param to log extra context values\n\nThis can be useful to log Global Request IDs\nalongside local Request IDs for OpenStack services.\n\nDepends-On: https://review.opendev.org/834120\n\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\nChange-Id: I8c34677059c2989f7700f27443c91c807d76160c\n'}]",2,834274,fdb0455b8f4f248a7936c5cccaea428bf7937acf,16,5,4,6926,,,0,"Add param to log extra context values

This can be useful to log Global Request IDs
alongside local Request IDs for OpenStack services.

Depends-On: https://review.opendev.org/834120

Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
Change-Id: I8c34677059c2989f7700f27443c91c807d76160c
",git fetch https://review.opendev.org/openstack/puppet-oslo refs/changes/74/834274/4 && git format-patch -1 --stdout FETCH_HEAD,['manifests/log.pp'],1,b20e12f9a00896c33a6c5ebd837835c64314ebb4,fix-request_id,"# [*log_global_request_id*] # (Optional) Enables or disables logging Global Request ID (boolean value). # Defaults to $::os_service_default # $log_global_request_id = $::os_service_default, 'DEFAULT/log_global_request_id' => { value => $log_global_request_id },",,6,0
openstack%2Ftripleo-ansible~stable%2Ftrain~I64eb1daad095a989a86b45b98ea10276bd0e0a9a,openstack/tripleo-ansible,stable/train,I64eb1daad095a989a86b45b98ea10276bd0e0a9a,Adding tripleo_kernel_hugepages,ABANDONED,2022-04-19 08:52:29.000000000,2022-04-21 07:40:26.000000000,,"[{'_account_id': 6926}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-04-19 08:52:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/39f540c794ab532263884b7be6a48ac4b9867231', 'message': ""Adding tripleo_kernel_hugepages\n\nHugepages management was always a manual steps done by operators via the\nTripleO parameter KernelArgs. This is error prone and causing confusion.\n\nThe new tripleo_kernel_hugepages setting allow operators to define\nhugepages as dictionnary, making it easier to read and follow.\n\nTo prevent unvolontary changes, there's multiple validations before\napplying a change:\n- We convert the current running configurations to an actual dictionnary\n  that we validate the new format against\n- If no change is necessary, even though the format might not be the same,\n  there's no kernel_args update.\n- By default, we don't remove hugepages in places except when operators\n  specifically set the tripleo_kernel_hugepages_remove to true.\n\nThis change also includes 4 new molecule scenarios that will help with\nconsistency.\n\nIt is also opening the door to more automations and automatic tuning.\n\nRelated: https://bugzilla.redhat.com/show_bug.cgi?id=2043588\nChange-Id: I64eb1daad095a989a86b45b98ea10276bd0e0a9a\n""}, {'number': 2, 'created': '2022-04-19 09:04:55.000000000', 'files': ['tripleo_ansible/roles/tripleo_kernel/molecule/kernelargs-hugepages-modify-idempotency-nochange/molecule.yml', 'tripleo_ansible/roles/tripleo_kernel/molecule/kernelargs-hugepages-modify-idempotency-nochange/converge.yml', 'tripleo_ansible/roles/tripleo_kernel/molecule/kernelargs-hugepages-modify/test_vars.yml', 'tripleo_ansible/roles/tripleo_kernel/resources/molecule/backup_grub.yml', 'tripleo_ansible/roles/tripleo-kernel/molecule/extra/playbook.yml', 'tripleo_ansible/roles/tripleo_kernel/molecule/kernelargs-hugepages-nochange/converge.yml', 'tripleo_ansible/roles/tripleo_kernel/molecule/kernelargs-hugepages-nochange/molecule.yml', 'tripleo_ansible/roles/tripleo-kernel/tasks/kernelargs.yml', 'tripleo_ansible/roles/tripleo_kernel/molecule/kernelargs-hugepages-modify-idempotency-nochange/test_vars.yml', 'tripleo_ansible/roles/tripleo-kernel/defaults/main.yml', 'tripleo_ansible/roles/tripleo-kernel/molecule/kernelargs/playbook.yml', 'tripleo_ansible/roles/tripleo-kernel/molecule/kernelargs/verify.yml', 'tripleo_ansible/roles/tripleo_kernel/molecule/kernelargs-hugepages-modify-remove/molecule.yml', 'tripleo_ansible/roles/tripleo-kernel/molecule/kernelargs-update/playbook.yml', 'tripleo_ansible/roles/tripleo-kernel/tasks/hugepages_parsing.yaml', 'tripleo_ansible/roles/tripleo_kernel/molecule/kernelargs-hugepages-adding/test_vars.yml', 'tripleo_ansible/roles/tripleo-kernel/molecule/kernelargs/test_vars.yml', 'tripleo_ansible/roles/tripleo-kernel/tasks/hugepages_validations.yaml', 'tripleo_ansible/roles/tripleo_kernel/molecule/kernelargs-hugepages-modify-integer/molecule.yml', 'tripleo_ansible/roles/tripleo_kernel/resources/molecule/print_grub_content.yml', 'tripleo_ansible/roles/tripleo_kernel/molecule/kernelargs-hugepages-modify-existing-kernelargs/test_vars.yml', 'tripleo_ansible/roles/tripleo-kernel/molecule/kernelargs/molecule.yml', 'tripleo_ansible/roles/tripleo_kernel/molecule/kernelargs-hugepages-nochange/test_vars.yml', 'tripleo_ansible/roles/tripleo_kernel/molecule/kernelargs-hugepages-modify/molecule.yml', 'tripleo_ansible/roles/tripleo_kernel/molecule/kernelargs-hugepages-nochange-remove/molecule.yml', 'tripleo_ansible/roles/tripleo-kernel/molecule/default/playbook.yml', 'tripleo_ansible/roles/tripleo_kernel/molecule/kernelargs-hugepages-modify-idempotency-change/test_vars.yml', 'tripleo_ansible/roles/tripleo_kernel/molecule/kernelargs-hugepages-nochange-remove/test_vars.yml', 'tripleo_ansible/roles/tripleo_kernel/molecule/kernelargs-hugepages-adding/molecule.yml', 'releasenotes/notes/tripleo-kernel-hugepages-6884a03ab77c0922.yaml', 'tripleo_ansible/roles/tripleo_kernel/molecule/kernelargs-hugepages-modify-remove/test_vars.yml', 'tripleo_ansible/roles/tripleo_kernel/molecule/kernelargs-hugepages-modify-idempotency-change/molecule.yml', 'tripleo_ansible/roles/tripleo_kernel/resources/molecule/verify.yml', 'tripleo_ansible/roles/tripleo_kernel/molecule/kernelargs-hugepages-modify-idempotency-change/converge.yml', 'tripleo_ansible/roles/tripleo_kernel/molecule/kernelargs-hugepages-modify-existing-kernelargs/molecule.yml', 'tripleo_ansible/roles/tripleo_kernel/molecule/kernelargs-hugepages-modify-integer/test_vars.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/ff8d45b64733756eade1e8b2b13b4c7acba1f59a', 'message': ""Adding tripleo_kernel_hugepages\n\nHugepages management was always a manual steps done by operators via the\nTripleO parameter KernelArgs. This is error prone and causing confusion.\n\nThe new tripleo_kernel_hugepages setting allow operators to define\nhugepages as dictionnary, making it easier to read and follow.\n\nTo prevent unvolontary changes, there's multiple validations before\napplying a change:\n- We convert the current running configurations to an actual dictionnary\n  that we validate the new format against\n- If no change is necessary, even though the format might not be the same,\n  there's no kernel_args update.\n- By default, we don't remove hugepages in places except when operators\n  specifically set the tripleo_kernel_hugepages_remove to true.\n\nThis change also includes 4 new molecule scenarios that will help with\nconsistency.\n\nIt is also opening the door to more automations and automatic tuning.\n\nRelated: https://bugzilla.redhat.com/show_bug.cgi?id=2043588\nChange-Id: I64eb1daad095a989a86b45b98ea10276bd0e0a9a\n""}]",88,838455,ff8d45b64733756eade1e8b2b13b4c7acba1f59a,7,3,2,6926,,,0,"Adding tripleo_kernel_hugepages

Hugepages management was always a manual steps done by operators via the
TripleO parameter KernelArgs. This is error prone and causing confusion.

The new tripleo_kernel_hugepages setting allow operators to define
hugepages as dictionnary, making it easier to read and follow.

To prevent unvolontary changes, there's multiple validations before
applying a change:
- We convert the current running configurations to an actual dictionnary
  that we validate the new format against
- If no change is necessary, even though the format might not be the same,
  there's no kernel_args update.
- By default, we don't remove hugepages in places except when operators
  specifically set the tripleo_kernel_hugepages_remove to true.

This change also includes 4 new molecule scenarios that will help with
consistency.

It is also opening the door to more automations and automatic tuning.

Related: https://bugzilla.redhat.com/show_bug.cgi?id=2043588
Change-Id: I64eb1daad095a989a86b45b98ea10276bd0e0a9a
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/55/838455/2 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_kernel/molecule/kernelargs-hugepages-modify-idempotency-nochange/molecule.yml', 'tripleo_ansible/roles/tripleo_kernel/molecule/kernelargs-hugepages-modify-idempotency-nochange/converge.yml', 'tripleo_ansible/roles/tripleo_kernel/molecule/kernelargs-hugepages-modify/test_vars.yml', 'tripleo_ansible/roles/tripleo_kernel/resources/molecule/backup_grub.yml', 'tripleo_ansible/roles/tripleo-kernel/molecule/extra/playbook.yml', 'tripleo_ansible/roles/tripleo_kernel/molecule/kernelargs-hugepages-nochange/converge.yml', 'tripleo_ansible/roles/tripleo_kernel/molecule/kernelargs-hugepages-nochange/molecule.yml', 'tripleo_ansible/roles/tripleo-kernel/tasks/kernelargs.yml', 'tripleo_ansible/roles/tripleo_kernel/molecule/kernelargs-hugepages-modify-idempotency-nochange/test_vars.yml', 'tripleo_ansible/roles/tripleo-kernel/defaults/main.yml', 'tripleo_ansible/roles/tripleo-kernel/molecule/kernelargs/playbook.yml', 'tripleo_ansible/roles/tripleo-kernel/molecule/kernelargs/verify.yml', 'tripleo_ansible/roles/tripleo_kernel/molecule/kernelargs-hugepages-modify-remove/molecule.yml', 'tripleo_ansible/roles/tripleo-kernel/molecule/kernelargs-update/playbook.yml', 'tripleo_ansible/roles/tripleo-kernel/tasks/hugepages_parsing.yaml', 'tripleo_ansible/roles/tripleo_kernel/molecule/kernelargs-hugepages-adding/test_vars.yml', 'tripleo_ansible/roles/tripleo-kernel/molecule/kernelargs/test_vars.yml', 'tripleo_ansible/roles/tripleo-kernel/tasks/hugepages_validations.yaml', 'tripleo_ansible/roles/tripleo_kernel/molecule/kernelargs-hugepages-modify-integer/molecule.yml', 'tripleo_ansible/roles/tripleo_kernel/resources/molecule/print_grub_content.yml', 'tripleo_ansible/roles/tripleo_kernel/molecule/kernelargs-hugepages-modify-existing-kernelargs/test_vars.yml', 'tripleo_ansible/roles/tripleo-kernel/molecule/kernelargs/molecule.yml', 'tripleo_ansible/roles/tripleo_kernel/molecule/kernelargs-hugepages-nochange/test_vars.yml', 'tripleo_ansible/roles/tripleo_kernel/molecule/kernelargs-hugepages-modify/molecule.yml', 'tripleo_ansible/roles/tripleo_kernel/molecule/kernelargs-hugepages-nochange-remove/molecule.yml', 'tripleo_ansible/roles/tripleo-kernel/molecule/default/playbook.yml', 'tripleo_ansible/roles/tripleo_kernel/molecule/kernelargs-hugepages-modify-idempotency-change/test_vars.yml', 'tripleo_ansible/roles/tripleo_kernel/molecule/kernelargs-hugepages-nochange-remove/test_vars.yml', 'tripleo_ansible/roles/tripleo_kernel/molecule/kernelargs-hugepages-adding/molecule.yml', 'releasenotes/notes/tripleo-kernel-hugepages-6884a03ab77c0922.yaml', 'tripleo_ansible/roles/tripleo_kernel/molecule/kernelargs-hugepages-modify-remove/test_vars.yml', 'tripleo_ansible/roles/tripleo_kernel/molecule/kernelargs-hugepages-modify-idempotency-change/molecule.yml', 'tripleo_ansible/roles/tripleo_kernel/resources/molecule/verify.yml', 'tripleo_ansible/roles/tripleo_kernel/molecule/kernelargs-hugepages-modify-idempotency-change/converge.yml', 'tripleo_ansible/roles/tripleo_kernel/molecule/kernelargs-hugepages-modify-existing-kernelargs/molecule.yml', 'tripleo_ansible/roles/tripleo_kernel/molecule/kernelargs-hugepages-modify-integer/test_vars.yml']",36,39f540c794ab532263884b7be6a48ac4b9867231,hugepages_parameter-stable/train,"expected_line: 'GRUB_TRIPLEO_HEAT_TEMPLATE_KERNEL_ARGS="" test=1 default_hugepagesz=2048 hugepagesz=2048 hugepages=10 hugepagesz=4096 hugepages=10 hugepagesz=1048576 hugepages=12 ""' _mocked_cmdline: test=1 default_hugepagesz=1GB hugepagesz=1G hugepages=12 hugepagesz=4096 hugepages=5 tripleo_kernel_args: ""test=1"" tripleo_kernel_hugepages: 2048: count: ""10"" default: true 4096: count: ""10"" ",,562,38
openstack%2Ftripleo-ansible~stable%2Ftrain~I1811640e3aeee112da74b3459c897601082f05d0,openstack/tripleo-ansible,stable/train,I1811640e3aeee112da74b3459c897601082f05d0,Removing playbooks section from default molecule config,ABANDONED,2022-04-19 08:52:29.000000000,2022-04-21 07:40:21.000000000,,"[{'_account_id': 6926}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-19 08:52:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/7def3fc8add345c98efe5d6b39d2753e1f6075a6', 'message': ""Removing playbooks section from default molecule config\n\nMost local molecule configs don't have the playbooks section so it's\nusing the default one (from config.yml), but the default one is invalid\nfor most scenarios.\n\nChange-Id: I1811640e3aeee112da74b3459c897601082f05d0\n(cherry picked from commit bd85b8196fe42dcbd7680fdda217c0f639ed6071)\n""}, {'number': 2, 'created': '2022-04-19 09:04:55.000000000', 'files': ['tripleo_ansible/roles/tripleo-kernel/molecule/kernelargs-update/molecule.yml', 'tripleo_ansible/roles/tripleo-kernel/molecule/kernelargs/molecule.yml', 'tripleo_ansible/roles/tripleo-module-load/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo-kernel/molecule/extra/molecule.yml', '.config/molecule/config.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/5460433704fea84cce662174483fe25eae50313c', 'message': ""Removing playbooks section from default molecule config\n\nMost local molecule configs don't have the playbooks section so it's\nusing the default one (from config.yml), but the default one is invalid\nfor most scenarios.\n\nChange-Id: I1811640e3aeee112da74b3459c897601082f05d0\n(cherry picked from commit bd85b8196fe42dcbd7680fdda217c0f639ed6071)\n""}]",0,838454,5460433704fea84cce662174483fe25eae50313c,6,2,2,6926,,,0,"Removing playbooks section from default molecule config

Most local molecule configs don't have the playbooks section so it's
using the default one (from config.yml), but the default one is invalid
for most scenarios.

Change-Id: I1811640e3aeee112da74b3459c897601082f05d0
(cherry picked from commit bd85b8196fe42dcbd7680fdda217c0f639ed6071)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/54/838454/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo-kernel/molecule/kernelargs-update/molecule.yml', 'tripleo_ansible/roles/tripleo-kernel/molecule/kernelargs/molecule.yml', 'tripleo_ansible/roles/tripleo-module-load/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo-kernel/molecule/extra/molecule.yml', '.config/molecule/config.yml']",5,7def3fc8add345c98efe5d6b39d2753e1f6075a6,hugepages_parameter-stable/train,," playbooks: prepare: ""${MOLECULE_SCENARIO_DIRECTORY}/../../resources/molecule/prepare.yml"" cleanup: ""${MOLECULE_SCENARIO_DIRECTORY}/../../resources/molecule/cleanup.yml""",21,7
openstack%2Ftripleo-ansible~stable%2Ftrain~I051ccd65166432c07891f963ee06af53df91a332,openstack/tripleo-ansible,stable/train,I051ccd65166432c07891f963ee06af53df91a332,Creating a default molecule config,ABANDONED,2022-04-19 08:52:29.000000000,2022-04-21 07:40:15.000000000,,"[{'_account_id': 6926}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-19 08:52:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/abe715bfb35eba673149d309285ad1ae7f8d7693', 'message': ""Creating a default molecule config\n\nWe should use a default molecule configuration off a base file and\noverride as necessary. Since all roles' molecule.yml are complete,\nthis base configuration shouldn't interfer with what's currently\nin place.\n\nChange-Id: I051ccd65166432c07891f963ee06af53df91a332\n(cherry picked from commit 611786d4fadbb95f9375763a1eecefce72f29991)\n""}, {'number': 2, 'created': '2022-04-19 09:04:55.000000000', 'files': ['tripleo_ansible/roles/tripleo-kernel/molecule/kernelargs-update/molecule.yml', 'tripleo_ansible/roles/tripleo-kernel/molecule/kernelargs/prepare.yml', 'tripleo_ansible/roles/tripleo-packages/molecule/ffu/Dockerfile', 'tripleo_ansible/roles/tripleo-kernel/molecule/kernelargs/molecule.yml', 'tripleo_ansible/roles/tripleo-packages/molecule/update/Dockerfile', 'tripleo_ansible/roles/tripleo-kernel/molecule/extra/molecule.yml', 'tripleo_ansible/roles/tripleo-module-load/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo-packages/molecule/default/Dockerfile', 'tripleo_ansible/roles/tripleo-kernel/molecule/kernelargs-update/prepare.yml', 'tripleo_ansible/roles/tripleo-kernel/molecule/extra/prepare.yml', 'tripleo_ansible/roles/tripleo-packages/molecule/external_upgrade/Dockerfile', '.config/molecule/config.yml', 'tripleo_ansible/roles/tripleo-kernel/molecule/default/prepare.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/75fc3f27c0d8fdeefac2f96968b69a46fad19be5', 'message': ""Creating a default molecule config\n\nWe should use a default molecule configuration off a base file and\noverride as necessary. Since all roles' molecule.yml are complete,\nthis base configuration shouldn't interfer with what's currently\nin place.\n\nChange-Id: I051ccd65166432c07891f963ee06af53df91a332\n(cherry picked from commit 611786d4fadbb95f9375763a1eecefce72f29991)\n""}]",0,838453,75fc3f27c0d8fdeefac2f96968b69a46fad19be5,6,2,2,6926,,,0,"Creating a default molecule config

We should use a default molecule configuration off a base file and
override as necessary. Since all roles' molecule.yml are complete,
this base configuration shouldn't interfer with what's currently
in place.

Change-Id: I051ccd65166432c07891f963ee06af53df91a332
(cherry picked from commit 611786d4fadbb95f9375763a1eecefce72f29991)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/53/838453/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo-kernel/molecule/kernelargs-update/molecule.yml', 'tripleo_ansible/roles/tripleo-kernel/molecule/kernelargs/prepare.yml', 'tripleo_ansible/roles/tripleo-packages/molecule/ffu/Dockerfile', 'tripleo_ansible/roles/tripleo-kernel/molecule/kernelargs/molecule.yml', 'tripleo_ansible/roles/tripleo-packages/molecule/update/Dockerfile', 'tripleo_ansible/roles/tripleo-kernel/molecule/extra/molecule.yml', 'tripleo_ansible/roles/tripleo-module-load/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo-packages/molecule/default/Dockerfile', 'tripleo_ansible/roles/tripleo-kernel/molecule/kernelargs-update/prepare.yml', 'tripleo_ansible/roles/tripleo-kernel/molecule/extra/prepare.yml', 'tripleo_ansible/roles/tripleo-packages/molecule/external_upgrade/Dockerfile', '.config/molecule/config.yml', 'tripleo_ansible/roles/tripleo-kernel/molecule/default/prepare.yml']",13,abe715bfb35eba673149d309285ad1ae7f8d7693,hugepages_parameter-stable/train,,"--- # Copyright 2019 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. - name: Prepare hosts: all roles: - role: test_deps ",59,409
openstack%2Ftripleo-ansible~stable%2Ftrain~If641ec3547df9a452c85eb7e9256393d826c6541,openstack/tripleo-ansible,stable/train,If641ec3547df9a452c85eb7e9256393d826c6541,autodoc shouldn't assume there's a converge playbook,ABANDONED,2022-04-19 08:52:29.000000000,2022-04-21 07:40:09.000000000,,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-19 08:52:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/de9b0637aa146c5a1e2f8011e67fb056042199ec', 'message': ""autodoc shouldn't assume there's a converge playbook\n\nWhen overriding the default molecule playbooks, the converge playbook\nmight be missing. In this case, we should refer to the molecule\nconfiguration.\n\nAlso, when running a molecule test, normally the\nMOLECULE_SCENARIO_DIRECTORY environment variable is defined. We need\nto manually define it as it might be included in the playbook paths.\n\nChange-Id: If641ec3547df9a452c85eb7e9256393d826c6541\n(cherry picked from commit 9e2a0c3938ea74e559ece6416a9d37df826952a8)\n""}, {'number': 2, 'created': '2022-04-19 09:04:55.000000000', 'files': ['doc/source/_exts/ansible-autodoc.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/46800be23beff1a60d85808c1db7ed392fea3bdc', 'message': ""autodoc shouldn't assume there's a converge playbook\n\nWhen overriding the default molecule playbooks, the converge playbook\nmight be missing. In this case, we should refer to the molecule\nconfiguration.\n\nAlso, when running a molecule test, normally the\nMOLECULE_SCENARIO_DIRECTORY environment variable is defined. We need\nto manually define it as it might be included in the playbook paths.\n\nChange-Id: If641ec3547df9a452c85eb7e9256393d826c6541\n(cherry picked from commit 9e2a0c3938ea74e559ece6416a9d37df826952a8)\n""}]",1,838456,46800be23beff1a60d85808c1db7ed392fea3bdc,7,3,2,6926,,,0,"autodoc shouldn't assume there's a converge playbook

When overriding the default molecule playbooks, the converge playbook
might be missing. In this case, we should refer to the molecule
configuration.

Also, when running a molecule test, normally the
MOLECULE_SCENARIO_DIRECTORY environment variable is defined. We need
to manually define it as it might be included in the playbook paths.

Change-Id: If641ec3547df9a452c85eb7e9256393d826c6541
(cherry picked from commit 9e2a0c3938ea74e559ece6416a9d37df826952a8)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/56/838456/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/_exts/ansible-autodoc.py'],1,de9b0637aa146c5a1e2f8011e67fb056042199ec,hugepages_parameter-stable/train," test_path = os.path.join(molecule_path, test) molecule_file = os.path.join(test_path, 'molecule.yml') if not os.path.exists(molecule_file): continue os.environ[""MOLECULE_SCENARIO_DIRECTORY""] = test_path converge_playbook_path = os.path.join(test_path, 'converge.yml') molecule_playbook_path = os.path.expandvars( provisioner_data.get('playbooks', {}) .get('converge', converge_playbook_path) if not os.path.exists(molecule_playbook_path): molecule_playbook_path = os.path.join( test_path, 'playbook.yml' ) if not os.path.exists(molecule_playbook_path): continue"," molecule_file = os.path.join( molecule_path, test, 'molecule.yml' ) molecule_playbook_path = os.path.join( molecule_path, test, 'playbook.yml'",16,10
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I1e05a5ea17c858a86acc170cfb91288884664b05,openstack/tripleo-heat-templates,stable/train,I1e05a5ea17c858a86acc170cfb91288884664b05,Adding Hugepages role parameter,ABANDONED,2022-04-19 08:10:28.000000000,2022-04-21 07:39:56.000000000,,"[{'_account_id': 6926}, {'_account_id': 11090}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-04-19 08:10:28.000000000', 'files': ['deployment/kernel/kernel-boot-params-baremetal-ansible.yaml', 'releasenotes/notes/tripleo-kernel-hugepages-424c19a4b1579af8.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/03865fcb64226d1838898668bdad43fca085ac26', 'message': ""Adding Hugepages role parameter\n\nHugepages management was always a manual step done by operators via the\nTripleO parameter ``KernelArgs``. This is error prone and causing confusion.\n\nThe new ``Hugepages`` parameter allow operators to define hugepages as\ndictionnary, making it easier to read and follow.\n\nTo prevent unvolontary changes, there's multiple validations before\napplying a change:\n- We convert the current running configurations to an actual dictionnary\n  that we validate the new format against\n- If no change is necessary, even though the format might not be the same,\n  there's no kernel_args update.\n- By default, we don't remove hugepages in places except when operators\n  specifically set the ``ReconfigureHugepages`` to true.\n\nThis change is also opening the door to more automations and automatic\ntuning.\n\nRelated: https://bugzilla.redhat.com/show_bug.cgi?id=2043588\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/828776\nChange-Id: I1e05a5ea17c858a86acc170cfb91288884664b05\n(cherry picked from commit ae866ab47c9180f6a7e6b24e50b1251afcfc70e7)\n""}]",2,838356,03865fcb64226d1838898668bdad43fca085ac26,7,4,1,6926,,,0,"Adding Hugepages role parameter

Hugepages management was always a manual step done by operators via the
TripleO parameter ``KernelArgs``. This is error prone and causing confusion.

The new ``Hugepages`` parameter allow operators to define hugepages as
dictionnary, making it easier to read and follow.

To prevent unvolontary changes, there's multiple validations before
applying a change:
- We convert the current running configurations to an actual dictionnary
  that we validate the new format against
- If no change is necessary, even though the format might not be the same,
  there's no kernel_args update.
- By default, we don't remove hugepages in places except when operators
  specifically set the ``ReconfigureHugepages`` to true.

This change is also opening the door to more automations and automatic
tuning.

Related: https://bugzilla.redhat.com/show_bug.cgi?id=2043588
Depends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/828776
Change-Id: I1e05a5ea17c858a86acc170cfb91288884664b05
(cherry picked from commit ae866ab47c9180f6a7e6b24e50b1251afcfc70e7)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/56/838356/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/kernel/kernel-boot-params-baremetal-ansible.yaml', 'releasenotes/notes/tripleo-kernel-hugepages-424c19a4b1579af8.yaml']",2,03865fcb64226d1838898668bdad43fca085ac26,hugepages_parameter-stable/train,"--- features: - | Adding Hugepages role parameter Hugepages management was always a manual step done by operators via the TripleO parameter ``KernelArgs``. This is error prone and causing confusion. The new ``Hugepages`` parameter allow operators to define hugepages as dictionnary, making it easier to read and follow. To prevent unvolontary changes, there's multiple validations before applying a change: - We convert the current running configurations to an actual dictionnary that we validate the new format against - If no change is necessary, even though the format might not be the same, there's no kernel_args update. - By default, we don't remove hugepages in places except when operators specifically set the ``ReconfigureHugepages`` to true. This change is also opening the door to more automations and automatic tuning. ",,56,0
openstack%2Freleases~master~I900029863bb6b08141de21cb42d6f9c43fb4e13e,openstack/releases,master,I900029863bb6b08141de21cb42d6f9c43fb4e13e,Make final tripleo repos release for stable/victoria before EM,MERGED,2022-04-07 09:43:48.000000000,2022-04-21 07:35:22.000000000,2022-04-21 07:35:22.000000000,"[{'_account_id': 7144}, {'_account_id': 8449}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-04-07 09:43:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/d3a416d1a35eb03a4270411404f2634ca053c61e', 'message': 'Make final tripleo repos release for stable/victoria before EM\n\nThe stable/victoria branches for all tripleo repos will be going\nextended maintenance by end of April [1]. So lets make a final\nrelease before that. The depends-on is needed as we tag that commit\nfor puppet-tripleo.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2022-April/028013.html\nDepends-On: Ice257a5bc6dd1d661e9d087c5ebdb81b769d9073\n\nChange-Id: I900029863bb6b08141de21cb42d6f9c43fb4e13e\n'}, {'number': 2, 'created': '2022-04-20 13:11:52.000000000', 'files': ['deliverables/victoria/tripleo-heat-templates.yaml', 'deliverables/victoria/tripleo-validations.yaml', 'deliverables/victoria/os-net-config.yaml', 'deliverables/victoria/tripleo-ansible.yaml', 'deliverables/victoria/puppet-tripleo.yaml', 'deliverables/victoria/tripleo-common.yaml', 'deliverables/victoria/python-tripleoclient.yaml', 'deliverables/victoria/tripleo-puppet-elements.yaml', 'deliverables/victoria/tripleo-image-elements.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/2d6f7fa16a37f75c595547c1ead7285e666a10ca', 'message': 'Make final tripleo repos release for stable/victoria before EM\n\nThe stable/victoria branches for all tripleo repos will be going\nextended maintenance by end of April [1]. So lets make a final\nrelease before that. The puppet-tripleo repo is tagged at the\ncommit in [2].\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2022-April/028013.html\n[2] https://review.opendev.org/c/openstack/puppet-tripleo/+/836920\n\nChange-Id: I900029863bb6b08141de21cb42d6f9c43fb4e13e\n'}]",3,836921,2d6f7fa16a37f75c595547c1ead7285e666a10ca,12,5,2,8449,,,0,"Make final tripleo repos release for stable/victoria before EM

The stable/victoria branches for all tripleo repos will be going
extended maintenance by end of April [1]. So lets make a final
release before that. The puppet-tripleo repo is tagged at the
commit in [2].

[1] http://lists.openstack.org/pipermail/openstack-discuss/2022-April/028013.html
[2] https://review.opendev.org/c/openstack/puppet-tripleo/+/836920

Change-Id: I900029863bb6b08141de21cb42d6f9c43fb4e13e
",git fetch https://review.opendev.org/openstack/releases refs/changes/21/836921/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/victoria/tripleo-heat-templates.yaml', 'deliverables/victoria/tripleo-validations.yaml', 'deliverables/victoria/os-net-config.yaml', 'deliverables/victoria/puppet-tripleo.yaml', 'deliverables/victoria/tripleo-ansible.yaml', 'deliverables/victoria/tripleo-common.yaml', 'deliverables/victoria/python-tripleoclient.yaml', 'deliverables/victoria/tripleo-puppet-elements.yaml', 'deliverables/victoria/tripleo-image-elements.yaml']",9,d3a416d1a35eb03a4270411404f2634ca053c61e,, - version: 12.2.3 projects: - repo: openstack/tripleo-image-elements hash: 0e1c5978df47e92b46c526068146db7ea11de840,,36,0
openstack%2Fcharm-nova-cloud-controller~master~I18dee4eb46bd836805e60427c0afc508e2489111,openstack/charm-nova-cloud-controller,master,I18dee4eb46bd836805e60427c0afc508e2489111,Restart nova-conductor on endpoint changes,MERGED,2022-04-21 02:23:52.000000000,2022-04-21 07:10:15.000000000,2022-04-21 07:10:15.000000000,"[{'_account_id': 12549}, {'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-21 02:23:52.000000000', 'files': ['unit_tests/test_nova_cc_hooks.py', 'hooks/nova_cc_hooks.py'], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/b13eaf757fa25c797aa59e75811a3751f4856765', 'message': 'Restart nova-conductor on endpoint changes\n\nThe charm looks for endpoint changes and restarts the nova-scheduler\nwhen the endpoint changes. However, the nova-conductor also needs to be\nrestarted in order to pick up new endpoints.\n\nCloses-Bug: 1968708\n\nChange-Id: I18dee4eb46bd836805e60427c0afc508e2489111\n'}]",0,838803,b13eaf757fa25c797aa59e75811a3751f4856765,8,4,1,8992,,,0,"Restart nova-conductor on endpoint changes

The charm looks for endpoint changes and restarts the nova-scheduler
when the endpoint changes. However, the nova-conductor also needs to be
restarted in order to pick up new endpoints.

Closes-Bug: 1968708

Change-Id: I18dee4eb46bd836805e60427c0afc508e2489111
",git fetch https://review.opendev.org/openstack/charm-nova-cloud-controller refs/changes/03/838803/1 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_nova_cc_hooks.py', 'hooks/nova_cc_hooks.py']",2,b13eaf757fa25c797aa59e75811a3751f4856765,bug/1968708," for service in ['nova-scheduler', 'nova-conductor']: ch_host.service_restart(service)", ch_host.service_restart('nova-scheduler'),4,2
openstack%2Foctavia~stable%2Fxena~I69ba12040ed3921505c2d439df619d8158d727ec,openstack/octavia,stable/xena,I69ba12040ed3921505c2d439df619d8158d727ec,DNM WIP Testing w to x grenade job,ABANDONED,2022-04-20 14:43:11.000000000,2022-04-21 06:42:50.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-04-20 14:43:11.000000000', 'files': ['zuul.d/projects.yaml'], 'web_link': 'https://opendev.org/openstack/octavia/commit/318d5825a8beaab086d585cc20cd88813be0a710', 'message': 'DNM WIP Testing w to x grenade job\n\nDepends-On: https://review.opendev.org/c/openstack/requirements/+/838735\nChange-Id: I69ba12040ed3921505c2d439df619d8158d727ec\n'}]",1,838739,318d5825a8beaab086d585cc20cd88813be0a710,5,1,1,29244,,,0,"DNM WIP Testing w to x grenade job

Depends-On: https://review.opendev.org/c/openstack/requirements/+/838735
Change-Id: I69ba12040ed3921505c2d439df619d8158d727ec
",git fetch https://review.opendev.org/openstack/octavia refs/changes/39/838739/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/projects.yaml'],1,318d5825a8beaab086d585cc20cd88813be0a710,, #- periodic-stable-jobs-neutron #- openstack-cover-jobs #- openstack-lower-constraints-jobs #- openstack-python3-wallaby-jobs #- publish-openstack-docs-pti #- release-notes-jobs-python3 #- octavia-tox-tips #- openstack-tox-pip-check-reqs: # irrelevant-files: # - ^.*\.rst$ # - ^api-ref/.*$ # - ^doc/.*$ # - ^etc/.*$ # - ^octavia/tests/.*$ # - ^releasenotes/.*$ #- openstack-tox-functional-py36: # irrelevant-files: # - ^.*\.rst$ # - ^api-ref/.*$ # - ^doc/.*$ # - ^etc/.*$ # - ^octavia/tests/unit/.*$ # - ^releasenotes/.*$ #- octavia-v2-dsvm-noop-api: # irrelevant-files: &irrelevant-files # - ^.*\.rst$ # - ^api-ref/.*$ # - ^doc/.*$ # - ^octavia/tests/.*$ # - ^releasenotes/.*$ #- octavia-v2-dsvm-scenario: # irrelevant-files: *irrelevant-files #- octavia-v2-dsvm-tls-barbican: # irrelevant-files: *irrelevant-files #- octavia-v2-dsvm-scenario-fips: # irrelevant-files: *irrelevant-files # voting: false #- octavia-v2-dsvm-tls-barbican-fips: # irrelevant-files: *irrelevant-files # voting: false #- octavia-v2-act-stdby-dsvm-scenario: # irrelevant-files: *irrelevant-files # voting: false #- octavia-v2-dsvm-cinder-amphora: # irrelevant-files: *irrelevant-files # voting: false #- octavia-v2-dsvm-scenario-two-node: # irrelevant-files: *irrelevant-files # voting: false #- octavia-v2-dsvm-scenario-ipv6-only: # irrelevant-files: *irrelevant-files # voting: false #- octavia-v2-dsvm-scenario-amphora-v2: # irrelevant-files: *irrelevant-files # voting: false #- octavia-v2-dsvm-scenario-amphora-v2-no-jobboard: # irrelevant-files: *irrelevant-files # voting: false #- octavia-v2-dsvm-scenario-centos-8: # irrelevant-files: *irrelevant-files # voting: false, - periodic-stable-jobs-neutron - openstack-cover-jobs - openstack-lower-constraints-jobs - openstack-python3-wallaby-jobs - publish-openstack-docs-pti - release-notes-jobs-python3 - octavia-tox-tips - openstack-tox-pip-check-reqs: irrelevant-files: - ^.*\.rst$ - ^api-ref/.*$ - ^doc/.*$ - ^etc/.*$ - ^octavia/tests/.*$ - ^releasenotes/.*$ - openstack-tox-functional-py36: irrelevant-files: - ^.*\.rst$ - ^api-ref/.*$ - ^doc/.*$ - ^etc/.*$ - ^octavia/tests/unit/.*$ - ^releasenotes/.*$ - octavia-v2-dsvm-noop-api: irrelevant-files: &irrelevant-files - ^.*\.rst$ - ^api-ref/.*$ - ^doc/.*$ - ^octavia/tests/.*$ - ^releasenotes/.*$ - octavia-v2-dsvm-scenario: irrelevant-files: *irrelevant-files - octavia-v2-dsvm-tls-barbican: irrelevant-files: *irrelevant-files - octavia-v2-dsvm-scenario-fips: irrelevant-files: *irrelevant-files voting: false - octavia-v2-dsvm-tls-barbican-fips: irrelevant-files: *irrelevant-files voting: false - octavia-v2-act-stdby-dsvm-scenario: irrelevant-files: *irrelevant-files voting: false - octavia-v2-dsvm-cinder-amphora: irrelevant-files: *irrelevant-files voting: false - octavia-v2-dsvm-scenario-two-node: irrelevant-files: *irrelevant-files voting: false - octavia-v2-dsvm-scenario-ipv6-only: irrelevant-files: *irrelevant-files voting: false - octavia-v2-dsvm-scenario-amphora-v2: irrelevant-files: *irrelevant-files voting: false - octavia-v2-dsvm-scenario-amphora-v2-no-jobboard: irrelevant-files: *irrelevant-files voting: false - octavia-v2-dsvm-scenario-centos-8: irrelevant-files: *irrelevant-files voting: false,61,61
openstack%2Fcharm-nova-compute-nvidia-vgpu~stable%2Fyoga~Idc9f366bce64352eb8df2a085fcc8937b565f5cf,openstack/charm-nova-compute-nvidia-vgpu,stable/yoga,Idc9f366bce64352eb8df2a085fcc8937b565f5cf,Updates for stable branch creation,MERGED,2022-04-15 10:55:18.000000000,2022-04-21 06:36:06.000000000,2022-04-21 06:36:06.000000000,"[{'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-15 10:55:18.000000000', 'files': ['.gitreview', 'test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/charm-nova-compute-nvidia-vgpu/commit/cf06e10edec3fd03835ba0b12c6c18d9017ad819', 'message': 'Updates for stable branch creation\n\n- Set default branch for git review/gerrit.\n- Switch tests to stable.\n- Switch to using stable charm-helpers branch.\n- Switch to using stable charm.openstack branch.\n- Switch to using stable zaza, zaza-openstack-tests\n  branch\n- (reactive charms) Add build.lock file\n\nChange-Id: Idc9f366bce64352eb8df2a085fcc8937b565f5cf\n'}]",10,838156,cf06e10edec3fd03835ba0b12c6c18d9017ad819,25,3,1,20870,,,0,"Updates for stable branch creation

- Set default branch for git review/gerrit.
- Switch tests to stable.
- Switch to using stable charm-helpers branch.
- Switch to using stable charm.openstack branch.
- Switch to using stable zaza, zaza-openstack-tests
  branch
- (reactive charms) Add build.lock file

Change-Id: Idc9f366bce64352eb8df2a085fcc8937b565f5cf
",git fetch https://review.opendev.org/openstack/charm-nova-compute-nvidia-vgpu refs/changes/56/838156/1 && git format-patch -1 --stdout FETCH_HEAD,"['.gitreview', 'test-requirements.txt']",2,cf06e10edec3fd03835ba0b12c6c18d9017ad819,charm-release-2204,git+https://github.com/openstack-charmers/zaza.git@stable/yoga#egg=zaza git+https://github.com/openstack-charmers/zaza-openstack-tests.git@stable/yoga#egg=zaza.openstack,git+https://github.com/openstack-charmers/zaza.git#egg=zaza git+https://github.com/openstack-charmers/zaza-openstack-tests.git#egg=zaza.openstack,4,2
openstack%2Frequirements~master~I438a034e0f3a3686d34de870964ce4f91d3b6e9c,openstack/requirements,master,I438a034e0f3a3686d34de870964ce4f91d3b6e9c,Updated from generate-constraints,MERGED,2022-04-20 02:47:48.000000000,2022-04-21 06:31:23.000000000,2022-04-21 06:30:09.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-20 02:47:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/d616c588695bc865d381f52ec47cda740b4fb77a', 'message': 'Updated from generate-constraints\n\nChange-Id: I438a034e0f3a3686d34de870964ce4f91d3b6e9c\n'}, {'number': 2, 'created': '2022-04-21 02:38:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/129b78b164b8f0f8fa28d75472354bdf8c987bd2', 'message': 'Updated from generate-constraints\n\nChange-Id: I438a034e0f3a3686d34de870964ce4f91d3b6e9c\n'}, {'number': 3, 'created': '2022-04-21 03:26:36.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/db07c86d9f587b01516b18659384c8572a1ec770', 'message': 'Updated from generate-constraints\n\nChange-Id: I438a034e0f3a3686d34de870964ce4f91d3b6e9c\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n'}]",0,838621,db07c86d9f587b01516b18659384c8572a1ec770,14,2,3,11131,,,0,"Updated from generate-constraints

Change-Id: I438a034e0f3a3686d34de870964ce4f91d3b6e9c
Signed-off-by: Matthew Thode <mthode@mthode.org>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/21/838621/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,d616c588695bc865d381f52ec47cda740b4fb77a,openstack/requirements/constraints/noclob,rcssmin===1.1.0pyScss===1.4.0XStatic-Angular===1.8.2.1paramiko===2.10.3pkg_resources===0.0.0django-compressor===3.1google-api-python-client===2.45.0platformdirs===2.5.2;python_version=='3.8'boto3===1.21.43SecretStorage===3.3.2botocore===1.24.43zstd===1.5.2.3pyeclib===1.6.1rjsmin===1.2.0,rcssmin===1.0.6pyScss===1.3.7XStatic-Angular===1.5.8.0paramiko===2.8.1django-compressor===2.4.1google-api-python-client===2.44.0platformdirs===2.5.1;python_version=='3.8'boto3===1.21.42SecretStorage===3.3.1botocore===1.24.42zstd===1.5.2.2pyeclib===1.6.0rjsmin===1.1.0setuptools===59.6.0;python_version=='3.6' setuptools===62.1.0;python_version=='3.8',14,15
openstack%2Fswift~master~Iac30e0bc383544809c7b761023924dbf55c62940,openstack/swift,master,Iac30e0bc383544809c7b761023924dbf55c62940,replicator: Tolerate ENOENT when calling listdir,MERGED,2022-04-08 00:10:53.000000000,2022-04-21 06:14:06.000000000,2022-04-21 06:11:45.000000000,"[{'_account_id': 597}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-08 00:10:53.000000000', 'files': ['swift/obj/replicator.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/5c3bf6d26a7862bbc7c236286396ed727a6a3796', 'message': 'replicator: Tolerate ENOENT when calling listdir\n\nChange-Id: Iac30e0bc383544809c7b761023924dbf55c62940\n'}]",2,837048,5c3bf6d26a7862bbc7c236286396ed727a6a3796,10,3,1,15343,,,0,"replicator: Tolerate ENOENT when calling listdir

Change-Id: Iac30e0bc383544809c7b761023924dbf55c62940
",git fetch https://review.opendev.org/openstack/swift refs/changes/48/837048/1 && git format-patch -1 --stdout FETCH_HEAD,['swift/obj/replicator.py'],1,5c3bf6d26a7862bbc7c236286396ed727a6a3796,," distribute_evenly, listdir return [suff for suff in listdir(path) for partition in listdir(obj_path):", distribute_evenly return [suff for suff in os.listdir(path) for partition in os.listdir(obj_path):,3,3
openstack%2Fswift~master~I58063c3830fb7b01c26fe1fa5aaec6353ff555c6,openstack/swift,master,I58063c3830fb7b01c26fe1fa5aaec6353ff555c6,DB: Encode the device to the DB id,MERGED,2022-02-07 04:12:18.000000000,2022-04-21 06:13:01.000000000,2022-04-21 06:11:42.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-07 04:12:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/df7845690b31307ace40e3269454b1f75cb1cc9e', 'message': ""DB: Encode the device to the DB id\n\nCurrently the DB ids, used to identify a database broker, is a uuid\n(uuid4). This is a great unique identifier, however we don't tend to\ntrack DB ids.\nWhen we replicate to other primaries or nodes. We track which brokers we\nreplicate with or replicate with us via the incoming_sync and\noutgoing_sync tables. These contain the DB id of the broker in question\nand a timestamp.\nThese tables entries do get reclaimed over time, so gives us a nice\nsnapshot of whose been replicating with us.\n\nUnfortuantly however, as we don't track these UUIDs to a broker or node\nwhen we want to go look at these tables in search for replication problems\nwe tend to be at a loss.\n\nThis patch helps to identify the source by adding the device to the DB\nid:\n\n   <uuid4>-<device>\n\nThe patch uses the device as written in the path of the broker. Now when\nwe look into the sync tables we can look up in the ring and know exactly\nwhich node it came from (or talking to). Although this only helps if you\nuse unique device names across the cluster.\n\nAn ID is generated when an account or container is first initialised.\nBut also after an rsync or rsyn_then_merge on the RPC (new location) side.\nSo as things replicate we'll get updated device's in the ID, which will also\nshow up in syncs in the future as the new node starts to replicate.\n\nWhen applied to an existing cluster, there will be a mix of <uuid4> and\n<uuid4 + device> IDs. But these ids are just text, and they will slowly\nchange as things get replicated/rebalanced around.\n\nChange-Id: I58063c3830fb7b01c26fe1fa5aaec6353ff555c6\n""}, {'number': 2, 'created': '2022-02-07 06:05:39.000000000', 'files': ['swift/account/backend.py', 'swift/common/db.py', 'test/unit/container/test_backend.py', 'test/unit/account/test_backend.py', 'swift/container/backend.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/08da83c193126f480e6690a83c41695f6f40fcbf', 'message': ""DB: Encode the device to the DB id\n\nCurrently the DB ids, used to identify a database broker, is a uuid\n(uuid4). This is a great unique identifier, however we don't tend to\ntrack DB ids.\nWhen we replicate to other primaries or nodes. We track which brokers we\nreplicate with or replicate with us via the incoming_sync and\noutgoing_sync tables. These contain the DB id of the broker in question\nand a timestamp.\nThese tables entries do get reclaimed over time, so gives us a nice\nsnapshot of whose been replicating with us.\n\nUnfortuantly however, as we don't track these UUIDs to a broker or node\nwhen we want to go look at these tables in search for replication problems\nwe tend to be at a loss.\n\nThis patch helps to identify the source by adding the device to the DB\nid:\n\n   <uuid4>-<device>\n\nThe patch uses the device as written in the path of the broker. Now when\nwe look into the sync tables we can look up in the ring and know exactly\nwhich node it came from (or talking to). Although this only helps if you\nuse unique device names across the cluster.\n\nAn ID is generated when an account or container is first initialised.\nBut also after an rsync or rsyn_then_merge on the RPC (new location) side.\nSo as things replicate we'll get updated device's in the ID, which will also\nshow up in syncs in the future as the new node starts to replicate.\n\nWhen applied to an existing cluster, there will be a mix of <uuid4> and\n<uuid4 + device> IDs. But these ids are just text, and they will slowly\nchange as things get replicated/rebalanced around.\n\nChange-Id: I58063c3830fb7b01c26fe1fa5aaec6353ff555c6\n""}]",4,828069,08da83c193126f480e6690a83c41695f6f40fcbf,12,2,2,7233,,,0,"DB: Encode the device to the DB id

Currently the DB ids, used to identify a database broker, is a uuid
(uuid4). This is a great unique identifier, however we don't tend to
track DB ids.
When we replicate to other primaries or nodes. We track which brokers we
replicate with or replicate with us via the incoming_sync and
outgoing_sync tables. These contain the DB id of the broker in question
and a timestamp.
These tables entries do get reclaimed over time, so gives us a nice
snapshot of whose been replicating with us.

Unfortuantly however, as we don't track these UUIDs to a broker or node
when we want to go look at these tables in search for replication problems
we tend to be at a loss.

This patch helps to identify the source by adding the device to the DB
id:

   <uuid4>-<device>

The patch uses the device as written in the path of the broker. Now when
we look into the sync tables we can look up in the ring and know exactly
which node it came from (or talking to). Although this only helps if you
use unique device names across the cluster.

An ID is generated when an account or container is first initialised.
But also after an rsync or rsyn_then_merge on the RPC (new location) side.
So as things replicate we'll get updated device's in the ID, which will also
show up in syncs in the future as the new node starts to replicate.

When applied to an existing cluster, there will be a mix of <uuid4> and
<uuid4 + device> IDs. But these ids are just text, and they will slowly
change as things get replicated/rebalanced around.

Change-Id: I58063c3830fb7b01c26fe1fa5aaec6353ff555c6
",git fetch https://review.opendev.org/openstack/swift refs/changes/69/828069/2 && git format-patch -1 --stdout FETCH_HEAD,"['swift/account/backend.py', 'swift/common/db.py', 'test/unit/container/test_backend.py', 'test/unit/account/test_backend.py', 'swift/container/backend.py']",5,df7845690b31307ace40e3269454b1f75cb1cc9e,add_device_to_db_id," self._new_db_id(), put_timestamp, put_timestamp,"," str(uuid4()), put_timestamp, put_timestamp,",71,5
openstack%2Fswift~master~I4fcacc76ab52b45510aee82156a7cbf6ad72467d,openstack/swift,master,I4fcacc76ab52b45510aee82156a7cbf6ad72467d,Stop partial()ing hashlib.new,MERGED,2022-03-16 20:52:45.000000000,2022-04-21 05:56:15.000000000,2022-04-21 05:54:23.000000000,"[{'_account_id': 597}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-03-16 20:52:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/8e1e2656a6c2c480535b09ff544d760232069b47', 'message': 'Stop partial()ing hashlib.new\n\nSeems to be causing issues on (some?) FIPS nodes.\n\nChange-Id: I4fcacc76ab52b45510aee82156a7cbf6ad72467d\n'}, {'number': 2, 'created': '2022-03-16 20:53:22.000000000', 'files': ['swift/common/middleware/tempurl.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/471a559a4ded3591429aebf0c98b46806923d238', 'message': 'Stop partial()ing hashlib.new\n\nSeems to be causing issues on (some?) FIPS nodes.\n\nChange-Id: I4fcacc76ab52b45510aee82156a7cbf6ad72467d\n'}]",3,834073,471a559a4ded3591429aebf0c98b46806923d238,12,3,2,15343,,,0,"Stop partial()ing hashlib.new

Seems to be causing issues on (some?) FIPS nodes.

Change-Id: I4fcacc76ab52b45510aee82156a7cbf6ad72467d
",git fetch https://review.opendev.org/openstack/swift refs/changes/73/834073/1 && git format-patch -1 --stdout FETCH_HEAD,['swift/common/middleware/tempurl.py'],1,8e1e2656a6c2c480535b09ff544d760232069b47,," digest = getattr(hashlib, hash_algorithm)"," digest = functools.partial(hashlib.new, hash_algorithm)",1,1
openstack%2Fswift~master~I6ec8b8ceb8c6a58e74772e57e6fe5700f6ff8db1,openstack/swift,master,I6ec8b8ceb8c6a58e74772e57e6fe5700f6ff8db1,cors: Include `Vary: Origin` when using the request's Origin,MERGED,2022-03-10 06:22:46.000000000,2022-04-21 05:55:13.000000000,2022-04-21 05:53:56.000000000,"[{'_account_id': 7233}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-03-10 06:22:46.000000000', 'files': ['test/unit/proxy/test_server.py', 'swift/proxy/controllers/base.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/bab7f93223ae5c4721ba8a224cc12ec05bcac8bf', 'message': ""cors: Include `Vary: Origin` when using the request's Origin\n\nOtherwise, multiple frontends attempting to use the same data may get\ndenials because the browser served a cached response from when it used a\ndifferent origin.\n\nChange-Id: I6ec8b8ceb8c6a58e74772e57e6fe5700f6ff8db1\n""}]",1,832920,bab7f93223ae5c4721ba8a224cc12ec05bcac8bf,9,3,1,15343,,,0,"cors: Include `Vary: Origin` when using the request's Origin

Otherwise, multiple frontends attempting to use the same data may get
denials because the browser served a cached response from when it used a
different origin.

Change-Id: I6ec8b8ceb8c6a58e74772e57e6fe5700f6ff8db1
",git fetch https://review.opendev.org/openstack/swift refs/changes/20/832920/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/proxy/test_server.py', 'swift/proxy/controllers/base.py']",2,bab7f93223ae5c4721ba8a224cc12ec05bcac8bf,," if 'Vary' in resp.headers: resp.headers['Vary'] += ', Origin' else: resp.headers['Vary'] = 'Origin'",,10,0
openstack%2Fswift~stable%2Fstein~Ia5857c70e51d8af3e42ecaced95525be578db127,openstack/swift,stable/stein,Ia5857c70e51d8af3e42ecaced95525be578db127,Quote paths before sending them to swob.Request.blank,MERGED,2022-04-20 15:23:22.000000000,2022-04-21 05:40:45.000000000,2022-04-21 05:39:29.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-20 15:23:22.000000000', 'files': ['test/unit/common/middleware/test_tempurl.py', 'test/unit/common/test_swob.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/cd79c4ed594b651ff083c4e2b639bff1daf1626e', 'message': ""Quote paths before sending them to swob.Request.blank\n\nFollowing the fix for https://bugs.python.org/issue43882, our py39 unit\ntests started failing. This was because swob.Request.blank calls\nstdlib's urlparse, which now strips out newlines. Since Request.blank\n*also* always unquotes, just make sure we always quote the newlines we\nwant to use while testing.\n\nChange-Id: Ia5857c70e51d8af3e42ecaced95525be578db127\n(cherry picked from commit 2b5853f4196e4e3725d1ab55ae7528c41b180a58)\n""}]",1,838746,cd79c4ed594b651ff083c4e2b639bff1daf1626e,9,2,1,15343,,,0,"Quote paths before sending them to swob.Request.blank

Following the fix for https://bugs.python.org/issue43882, our py39 unit
tests started failing. This was because swob.Request.blank calls
stdlib's urlparse, which now strips out newlines. Since Request.blank
*also* always unquotes, just make sure we always quote the newlines we
want to use while testing.

Change-Id: Ia5857c70e51d8af3e42ecaced95525be578db127
(cherry picked from commit 2b5853f4196e4e3725d1ab55ae7528c41b180a58)
",git fetch https://review.opendev.org/openstack/swift refs/changes/46/838746/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/common/middleware/test_tempurl.py', 'test/unit/common/test_swob.py']",2,cd79c4ed594b651ff083c4e2b639bff1daf1626e,," self.assertIn(hacker, req.environ['PATH_INFO']) # sanity check _test_split_path('o%0an e', 2) _test_split_path('o%0an e', 2, 3, True)"," req = swift.common.swob.Request.blank('/v1/' + hacker) resp = req.get_response(test_app) self.assertEqual(resp.status_int, 401) self.assertTrue('Www-Authenticate' in resp.headers) self.assertEqual('Swift realm=""%s""' % quoted_hacker, resp.headers['Www-Authenticate']) _test_split_path('o\nn e', 2) _test_split_path('o\nn e', 2, 3, True)",5,10
openstack%2Fswift~stable%2Ftrain~Ia5857c70e51d8af3e42ecaced95525be578db127,openstack/swift,stable/train,Ia5857c70e51d8af3e42ecaced95525be578db127,Quote paths before sending them to swob.Request.blank,MERGED,2022-04-19 20:15:07.000000000,2022-04-21 05:40:43.000000000,2022-04-21 05:39:26.000000000,"[{'_account_id': 597}, {'_account_id': 6968}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-19 20:15:07.000000000', 'files': ['test/unit/common/middleware/test_tempurl.py', 'test/unit/common/test_swob.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/c0fb627c4a83e668a532276fd5437c0c6f8f390d', 'message': ""Quote paths before sending them to swob.Request.blank\n\nFollowing the fix for https://bugs.python.org/issue43882, our py39 unit\ntests started failing. This was because swob.Request.blank calls\nstdlib's urlparse, which now strips out newlines. Since Request.blank\n*also* always unquotes, just make sure we always quote the newlines we\nwant to use while testing.\n\nChange-Id: Ia5857c70e51d8af3e42ecaced95525be578db127\n(cherry picked from commit 2b5853f4196e4e3725d1ab55ae7528c41b180a58)\n""}]",5,838589,c0fb627c4a83e668a532276fd5437c0c6f8f390d,15,4,1,15343,,,0,"Quote paths before sending them to swob.Request.blank

Following the fix for https://bugs.python.org/issue43882, our py39 unit
tests started failing. This was because swob.Request.blank calls
stdlib's urlparse, which now strips out newlines. Since Request.blank
*also* always unquotes, just make sure we always quote the newlines we
want to use while testing.

Change-Id: Ia5857c70e51d8af3e42ecaced95525be578db127
(cherry picked from commit 2b5853f4196e4e3725d1ab55ae7528c41b180a58)
",git fetch https://review.opendev.org/openstack/swift refs/changes/89/838589/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/common/middleware/test_tempurl.py', 'test/unit/common/test_swob.py']",2,c0fb627c4a83e668a532276fd5437c0c6f8f390d,," self.assertIn(hacker, req.environ['PATH_INFO']) # sanity check _test_split_path('o%0an e', 2) _test_split_path('o%0an e', 2, 3, True)"," req = swift.common.swob.Request.blank('/v1/' + hacker) resp = req.get_response(test_app) self.assertEqual(resp.status_int, 401) self.assertTrue('Www-Authenticate' in resp.headers) self.assertEqual('Swift realm=""%s""' % quoted_hacker, resp.headers['Www-Authenticate']) _test_split_path('o\nn e', 2) _test_split_path('o\nn e', 2, 3, True)",5,10
openstack%2Fpuppet-pacemaker~master~If206d72caf78cb3a524a1b8eb9ad4399ee4e3ce0,openstack/puppet-pacemaker,master,If206d72caf78cb3a524a1b8eb9ad4399ee4e3ce0,Replace hiera by lookup,MERGED,2022-04-19 14:03:05.000000000,2022-04-21 04:31:11.000000000,2022-04-21 04:31:11.000000000,"[{'_account_id': 14985}, {'_account_id': 20172}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-19 14:03:05.000000000', 'files': ['manifests/resource/lsb.pp', 'manifests/resource/filesystem.pp', 'manifests/resource/route.pp', 'manifests/resource/systemd.pp', 'manifests/resource/ip.pp', 'manifests/resource/ocf.pp', 'manifests/resource/bundle.pp', 'manifests/resource/remote.pp', 'manifests/resource/service.pp'], 'web_link': 'https://opendev.org/openstack/puppet-pacemaker/commit/8b88f000bc2afa7801740a484fbade67926fcd5b', 'message': 'Replace hiera by lookup\n\nThe hiera function is deprecated and does not work with the latest\nhieradata version 5. It should be replaced by the new lookup\nfunction[1].\n\n[1] https://puppet.com/docs/puppet/7/hiera_automatic.html\n\nWith the lookup function, we can define value type and merge behavior,\nbut these are kept default at this moment to limit scope of this change\nto just simple replacement. Adding value type might be useful to make\nsure the value is in expected type (especially when a boolean value is\nexpected), but we will revisit that later.\n\nexample:\nlookup(<NAME>, [<VALUE TYPE>], [<MERGE BEHAVIOR>], [<DEFAULT VALUE>])\n\nChange-Id: If206d72caf78cb3a524a1b8eb9ad4399ee4e3ce0\n'}]",1,838512,8b88f000bc2afa7801740a484fbade67926fcd5b,11,3,1,9816,,,0,"Replace hiera by lookup

The hiera function is deprecated and does not work with the latest
hieradata version 5. It should be replaced by the new lookup
function[1].

[1] https://puppet.com/docs/puppet/7/hiera_automatic.html

With the lookup function, we can define value type and merge behavior,
but these are kept default at this moment to limit scope of this change
to just simple replacement. Adding value type might be useful to make
sure the value is in expected type (especially when a boolean value is
expected), but we will revisit that later.

example:
lookup(<NAME>, [<VALUE TYPE>], [<MERGE BEHAVIOR>], [<DEFAULT VALUE>])

Change-Id: If206d72caf78cb3a524a1b8eb9ad4399ee4e3ce0
",git fetch https://review.opendev.org/openstack/puppet-pacemaker refs/changes/12/838512/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/resource/lsb.pp', 'manifests/resource/filesystem.pp', 'manifests/resource/route.pp', 'manifests/resource/systemd.pp', 'manifests/resource/ip.pp', 'manifests/resource/ocf.pp', 'manifests/resource/bundle.pp', 'manifests/resource/remote.pp', 'manifests/resource/service.pp']",9,8b88f000bc2afa7801740a484fbade67926fcd5b,tripleo-hiera-v5,"# Defaults to lookup('pacemaker::resource::service::update_settle_secs', undef, undef, 600) (seconds) $update_settle_secs = lookup('pacemaker::resource::service::update_settle_secs', undef, undef, 600),","# Defaults to hiera('pacemaker::resource::service::update_settle_secs', 600) (seconds) $update_settle_secs = hiera('pacemaker::resource::service::update_settle_secs', 600),",23,23
openstack%2Fnova~stable%2Fvictoria~I514f6b337ffefef90a0ce9ab0b4afd083caa277e,openstack/nova,stable/victoria,I514f6b337ffefef90a0ce9ab0b4afd083caa277e,[stable-only] Drop lower-constraints job,MERGED,2022-04-14 19:26:32.000000000,2022-04-21 04:08:09.000000000,2022-04-21 04:05:44.000000000,"[{'_account_id': 4393}, {'_account_id': 4690}, {'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-14 19:26:32.000000000', 'files': ['.zuul.yaml', 'lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/nova/commit/8ff36f184dd7aedf9adfdbdf8845504557e2bef5', 'message': ""[stable-only] Drop lower-constraints job\n\nDuring the PTG the TC discussed the topic and decided to drop the job\ncompletely. Since the latest job configuration broke all stable gate\nfor nova (older than yoga) this is needed there to unblock our gates.\nFor dropping the job on master let's wait to the resolution as the\ngate is not broken there, hence the patch is stable-only.\n\nConflicts:\n  .zuul.yaml\n  lower-constraints.txt\n\nNOTE(elod.illes): conflict is due to branch specific settings (job\ntemplate names, lower constraints changes).\n\nChange-Id: I514f6b337ffefef90a0ce9ab0b4afd083caa277e\n(cherry picked from commit 15b72717f2f3bd79791b913f1b294a19ced47ca7)\n(cherry picked from commit ba3c5b81abce49fb86981bdcc0013068b54d4f61)\n(cherry picked from commit 327693af402e4dd0c03fe247c4cee7beaedd2852)\n""}]",7,838032,8ff36f184dd7aedf9adfdbdf8845504557e2bef5,31,4,1,17685,,,0,"[stable-only] Drop lower-constraints job

During the PTG the TC discussed the topic and decided to drop the job
completely. Since the latest job configuration broke all stable gate
for nova (older than yoga) this is needed there to unblock our gates.
For dropping the job on master let's wait to the resolution as the
gate is not broken there, hence the patch is stable-only.

Conflicts:
  .zuul.yaml
  lower-constraints.txt

NOTE(elod.illes): conflict is due to branch specific settings (job
template names, lower constraints changes).

Change-Id: I514f6b337ffefef90a0ce9ab0b4afd083caa277e
(cherry picked from commit 15b72717f2f3bd79791b913f1b294a19ced47ca7)
(cherry picked from commit ba3c5b81abce49fb86981bdcc0013068b54d4f61)
(cherry picked from commit 327693af402e4dd0c03fe247c4cee7beaedd2852)
",git fetch https://review.opendev.org/openstack/nova refs/changes/32/838032/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'lower-constraints.txt', 'tox.ini']",3,8ff36f184dd7aedf9adfdbdf8845504557e2bef5,drop-lower-constraints,, [testenv:lower-constraints] usedevelop = False deps = -c{toxinidir}/lower-constraints.txt -r{toxinidir}/test-requirements.txt -r{toxinidir}/requirements.txt,0,173
openstack%2Fdevstack~stable%2Ftrain~Ib9896a99b6d6c4d359ee412743ce30512b3c4fb7,openstack/devstack,stable/train,Ib9896a99b6d6c4d359ee412743ce30512b3c4fb7,Mark our source trees as safe for git to use as other users,MERGED,2022-04-19 16:45:41.000000000,2022-04-21 03:21:21.000000000,2022-04-21 03:19:49.000000000,"[{'_account_id': 4146}, {'_account_id': 4393}, {'_account_id': 8556}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-19 16:45:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/be6f00a6d40f2ba2a55e5f6c7227bcf5258ea2af', 'message': 'Mark our source trees as safe for git to use as other users\n\ngit commit [1] introduced a new behaviour to work around a CVE that\ndisallows any git operations in directories not owned by the current\nuser.\n\nThis may seem unrelated to installation, but it plays havoc with PBR,\nwhich calls out to git to get to get revision history.  So if you are\n""pip install""-ing from a source tree you don\'t own, the PBR git calls\nin that tree now fail and the install blows up.\n\nThis plays havoc with our model.  Firstly, we checkout all code as\n""stack"" then install it globally with ""sudo"" (i.e. root) -- which\nbreaks.  We also have cases of essentially the opposite -- checkouts\nwe have installed as root, but then run tox in them as a regular user;\ntox wants to install the source in its venv but now we have another\nuser conflict.\n\nThis uses the only available configuration option to avoid that by\nglobally setting the source directories we clone as safe.  This is an\nencroachment of the global system for sure, but is about the only\nswitch available at the moment.  For discussion of other approaches,\nsee [2].\n\nRelated-Bug: https://bugs.launchpad.net/devstack/+bug/1968798\n\n[1] https://github.com/git/git/commit/8959555cee7ec045958f9b6dd62e541affb7e7d9\n[2] https://review.opendev.org/c/openstack/devstack/+/837636\n\nNote: this backport does not include the removal of grenade jobs\nin .zuul.yaml that was added in the stable/victoria patch because\nthose jobs had already been removed in ussuri.\n\nChange-Id: Ib9896a99b6d6c4d359ee412743ce30512b3c4fb7\n(cherry picked from commit 676dcaf94487665882be048cfe1f3206d6807e0f)\n(cherry picked from commit 9c399a865d1bf2e47221ff286b493628edd7ef52)\n(cherry picked from commit 3a9c26bedb3f8ae0393e8695d5a42fa733fb920b)\n'}, {'number': 2, 'created': '2022-04-19 17:04:40.000000000', 'files': ['functions-common', 'unstack.sh'], 'web_link': 'https://opendev.org/openstack/devstack/commit/16c57c51a0858ef06c8cf5edbce822831a0fd315', 'message': 'Mark our source trees as safe for git to use as other users\n\ngit commit [1] introduced a new behaviour to work around a CVE that\ndisallows any git operations in directories not owned by the current\nuser.\n\nThis may seem unrelated to installation, but it plays havoc with PBR,\nwhich calls out to git to get to get revision history.  So if you are\n""pip install""-ing from a source tree you don\'t own, the PBR git calls\nin that tree now fail and the install blows up.\n\nThis plays havoc with our model.  Firstly, we checkout all code as\n""stack"" then install it globally with ""sudo"" (i.e. root) -- which\nbreaks.  We also have cases of essentially the opposite -- checkouts\nwe have installed as root, but then run tox in them as a regular user;\ntox wants to install the source in its venv but now we have another\nuser conflict.\n\nThis uses the only available configuration option to avoid that by\nglobally setting the source directories we clone as safe.  This is an\nencroachment of the global system for sure, but is about the only\nswitch available at the moment.  For discussion of other approaches,\nsee [2].\n\nAlso, squashing the below backport which is needed for bionic\n- https://review.opendev.org/q/I941ef5ea90970a0901236afe81c551aaf24ac1d8\n\nRelated-Bug: https://bugs.launchpad.net/devstack/+bug/1968798\n\n[1] https://github.com/git/git/commit/8959555cee7ec045958f9b6dd62e541affb7e7d9\n[2] https://review.opendev.org/c/openstack/devstack/+/837636\n\nChange-Id: Ib9896a99b6d6c4d359ee412743ce30512b3c4fb7\n(cherry picked from commit 676dcaf94487665882be048cfe1f3206d6807e0f)\n(cherry picked from commit a9852abfc5ed7c3faf6a667bdd29a2d6e49bc150)\n'}]",12,838556,16c57c51a0858ef06c8cf5edbce822831a0fd315,25,5,2,5314,,,0,"Mark our source trees as safe for git to use as other users

git commit [1] introduced a new behaviour to work around a CVE that
disallows any git operations in directories not owned by the current
user.

This may seem unrelated to installation, but it plays havoc with PBR,
which calls out to git to get to get revision history.  So if you are
""pip install""-ing from a source tree you don't own, the PBR git calls
in that tree now fail and the install blows up.

This plays havoc with our model.  Firstly, we checkout all code as
""stack"" then install it globally with ""sudo"" (i.e. root) -- which
breaks.  We also have cases of essentially the opposite -- checkouts
we have installed as root, but then run tox in them as a regular user;
tox wants to install the source in its venv but now we have another
user conflict.

This uses the only available configuration option to avoid that by
globally setting the source directories we clone as safe.  This is an
encroachment of the global system for sure, but is about the only
switch available at the moment.  For discussion of other approaches,
see [2].

Also, squashing the below backport which is needed for bionic
- https://review.opendev.org/q/I941ef5ea90970a0901236afe81c551aaf24ac1d8

Related-Bug: https://bugs.launchpad.net/devstack/+bug/1968798

[1] https://github.com/git/git/commit/8959555cee7ec045958f9b6dd62e541affb7e7d9
[2] https://review.opendev.org/c/openstack/devstack/+/837636

Change-Id: Ib9896a99b6d6c4d359ee412743ce30512b3c4fb7
(cherry picked from commit 676dcaf94487665882be048cfe1f3206d6807e0f)
(cherry picked from commit a9852abfc5ed7c3faf6a667bdd29a2d6e49bc150)
",git fetch https://review.opendev.org/openstack/devstack refs/changes/56/838556/2 && git format-patch -1 --stdout FETCH_HEAD,['functions-common'],1,be6f00a6d40f2ba2a55e5f6c7227bcf5258ea2af,bug/1968798, # NOTE(ianw) 2022-04-13 : commit [1] has broken many assumptions # about how we clone and work with repos. Mark them safe globally # as a work-around. # # [1] https://github.com/git/git/commit/8959555cee7ec045958f9b6dd62e541affb7e7d9 sudo git config --global --add safe.directory ${git_dest} ,,7,0
openstack%2Fheat~stable%2Fvictoria~Ic0265fcf7ceb811803cdebaa8932fe80dc59a627,openstack/heat,stable/victoria,Ic0265fcf7ceb811803cdebaa8932fe80dc59a627,Fix None comparision when sorting by `updated_at`,MERGED,2022-04-13 07:57:21.000000000,2022-04-21 03:17:42.000000000,2022-04-21 03:15:58.000000000,"[{'_account_id': 8833}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-13 07:57:21.000000000', 'files': ['heat/tests/test_convg_stack.py', 'heat/engine/stack.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/26a20de88c0b578422e9847c1210d10f10b04854', 'message': 'Fix None comparision when sorting by `updated_at`\n\nWhen sorting resource candidates in `_get_best_existing_rsrc_db`,\nresources with the same score are sorted by `updated_at`, which can be\n`None`. If that is the case, use `created_at` instead.\n\nTask: 43815\nStory: 2009653\nChange-Id: Ic0265fcf7ceb811803cdebaa8932fe80dc59a627\n(cherry picked from commit 403fa55fe94ae1063d2cb4b8db3b63b76b1ee5cf)\n(cherry picked from commit 5ea5276a3e76829fd72345e3aae7482cbd260b51)\n(cherry picked from commit aa31864de4fe480674a0669c05a024ab28c3c429)\n'}]",3,837675,26a20de88c0b578422e9847c1210d10f10b04854,19,2,1,9816,,,0,"Fix None comparision when sorting by `updated_at`

When sorting resource candidates in `_get_best_existing_rsrc_db`,
resources with the same score are sorted by `updated_at`, which can be
`None`. If that is the case, use `created_at` instead.

Task: 43815
Story: 2009653
Change-Id: Ic0265fcf7ceb811803cdebaa8932fe80dc59a627
(cherry picked from commit 403fa55fe94ae1063d2cb4b8db3b63b76b1ee5cf)
(cherry picked from commit 5ea5276a3e76829fd72345e3aae7482cbd260b51)
(cherry picked from commit aa31864de4fe480674a0669c05a024ab28c3c429)
",git fetch https://review.opendev.org/openstack/heat refs/changes/75/837675/1 && git format-patch -1 --stdout FETCH_HEAD,"['heat/tests/test_convg_stack.py', 'heat/engine/stack.py']",2,26a20de88c0b578422e9847c1210d10f10b04854,task/43815," last_changed_at = ext_rsrc.updated_at if last_changed_at is None: last_changed_at = ext_rsrc.created_at return score, last_changed_at"," return score, ext_rsrc.updated_at",26,6
openstack%2Fpuppet-nova~master~I45766916ee37b40a5923ee065bd63c81707c20ff,openstack/puppet-nova,master,I45766916ee37b40a5923ee065bd63c81707c20ff,Make version comparison more robust,MERGED,2022-04-19 15:01:54.000000000,2022-04-21 02:48:27.000000000,2022-04-21 02:48:27.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-19 15:01:54.000000000', 'files': ['spec/classes/nova_compute_spec.rb', 'manifests/params.pp'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/084ef6ea40ef41ac639d576312c00d467012620a', 'message': ""Make version comparison more robust\n\nThis change is follow-up of f6636b77275dc2116e959c6d64abd9f6159da0ee\nand ensure the major version string is properly determined. Current\nlogic can't handle version 10 properly.\n\nChange-Id: I45766916ee37b40a5923ee065bd63c81707c20ff\n""}]",1,838515,084ef6ea40ef41ac639d576312c00d467012620a,11,3,1,9816,,,0,"Make version comparison more robust

This change is follow-up of f6636b77275dc2116e959c6d64abd9f6159da0ee
and ensure the major version string is properly determined. Current
logic can't handle version 10 properly.

Change-Id: I45766916ee37b40a5923ee065bd63c81707c20ff
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/15/838515/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/nova_compute_spec.rb', 'manifests/params.pp']",2,084ef6ea40ef41ac639d576312c00d467012620a,versioncmp," if versioncmp($::operatingsystemmajrelease, '9') >= 0 {", if $::operatingsystemmajrelease >= '9' {,2,2
openstack%2Fskyline-console~master~I6276918ddb7620dac2ecd261000802e920e2d95e,openstack/skyline-console,master,I6276918ddb7620dac2ecd261000802e920e2d95e,feat: The condition for judging the bare metal instance removes the trait: CUSTOM_GOLD is required,MERGED,2022-04-21 01:44:43.000000000,2022-04-21 02:31:52.000000000,2022-04-21 02:31:52.000000000,"[{'_account_id': 22348}, {'_account_id': 30434}]","[{'number': 1, 'created': '2022-04-21 01:44:43.000000000', 'files': ['src/resources/instance.jsx'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/db2c0d84b9c125b496c1cdb9a98d875b9014d138', 'message': 'feat: The condition for judging the bare metal instance removes the trait: CUSTOM_GOLD is required\n\nThe condition for judging the bare metal instance removes the trait: CUSTOM_GOLD is required\n\nChange-Id: I6276918ddb7620dac2ecd261000802e920e2d95e\n'}]",0,838802,db2c0d84b9c125b496c1cdb9a98d875b9014d138,6,2,1,34718,,,0,"feat: The condition for judging the bare metal instance removes the trait: CUSTOM_GOLD is required

The condition for judging the bare metal instance removes the trait: CUSTOM_GOLD is required

Change-Id: I6276918ddb7620dac2ecd261000802e920e2d95e
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/02/838802/1 && git format-patch -1 --stdout FETCH_HEAD,['src/resources/instance.jsx'],1,db2c0d84b9c125b496c1cdb9a98d875b9014d138,, return extra[':architecture'] === 'bare_metal';, return ( extra[':architecture'] === 'bare_metal' || extra['trait:CUSTOM_GOLD'] === 'required' );,1,4
openstack%2Ftripleo-common~master~I9a0936c415485166962194104c7c54ee520e9516,openstack/tripleo-common,master,I9a0936c415485166962194104c7c54ee520e9516,Switch from grub2 to bootloader element for overcloud-full,MERGED,2022-01-25 00:21:35.000000000,2022-04-21 02:30:29.000000000,2022-04-21 02:26:38.000000000,"[{'_account_id': 4571}, {'_account_id': 8449}, {'_account_id': 14985}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2022-01-25 00:21:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/06866191b7f0ad6b22b3b4d7956c9fe01240b6da', 'message': 'Switch from grub2 to bootloader element for overcloud-full\n\nA lot of effort has gone into the bootloader element doing the right\nthing in all cases, managing the transition to BLS, and handling\nlegacy boot with UEFI boot.\n\novercloud-full and other partition images have not received the\nbenefit of this work because they use the much simpler grub2 element.\nNow that overcloud-hardened-uefi-full is the default, overcloud-full\nmay become harder to support over time. Switching to the bootloader\nelement will reduce the support matrix for the boot handling of this\nimage.\n\nThis changes fixes an issue where the kernel args root option is\nincorrect, because the bootloader element does a full kernel options\nregeneration.\n\nCloses-Bug: #1958230\nChange-Id: I9a0936c415485166962194104c7c54ee520e9516\n'}, {'number': 2, 'created': '2022-01-26 01:07:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/30f8f0dc05bc5acc329a4b16f2c7af215ce786da', 'message': 'Switch from grub2 to bootloader element for overcloud-full\n\nA lot of effort has gone into the bootloader element doing the right\nthing in all cases, managing the transition to BLS, and handling\nlegacy boot with UEFI boot.\n\novercloud-full and other partition images have not received the\nbenefit of this work because they use the much simpler grub2 element.\nNow that overcloud-hardened-uefi-full is the default, overcloud-full\nmay become harder to support over time. Switching to the bootloader\nelement will reduce the support matrix for the boot handling of this\nimage.\n\nThis changes fixes an issue where the kernel args root option is\nincorrect, because the bootloader element does a full kernel options\nregeneration.\n\nDepends-On: https://review.opendev.org/c/openstack/diskimage-builder/+/825695\nCloses-Bug: #1958230\nChange-Id: I9a0936c415485166962194104c7c54ee520e9516\n'}, {'number': 3, 'created': '2022-01-28 00:46:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/0a81ae6969b0fd5f7723ba7a0224c6a5cedb63ce', 'message': 'Switch from grub2 to bootloader element for overcloud-full\n\nA lot of effort has gone into the bootloader element doing the right\nthing in all cases, managing the transition to BLS, and handling\nlegacy boot with UEFI boot.\n\novercloud-full and other partition images have not received the\nbenefit of this work because they use the much simpler grub2 element.\nNow that overcloud-hardened-uefi-full is the default, overcloud-full\nmay become harder to support over time. Switching to the bootloader\nelement will reduce the support matrix for the boot handling of this\nimage.\n\nThis changes fixes an issue where the kernel args root option is\nincorrect, because the bootloader element does a full kernel options\nregeneration.\n\nCloses-Bug: #1958230\nChange-Id: I9a0936c415485166962194104c7c54ee520e9516\n'}, {'number': 4, 'created': '2022-01-30 23:00:23.000000000', 'files': ['image-yaml/overcloud-images-python3.yaml', 'image-yaml/overcloud-images-ceph.yaml', 'image-yaml/overcloud-realtime-compute-python3.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/29324699829354575e58ea2bac37165943acd6f1', 'message': 'Switch from grub2 to bootloader element for overcloud-full\n\nA lot of effort has gone into the bootloader element doing the right\nthing in all cases, managing the transition to BLS, and handling\nlegacy boot with UEFI boot.\n\novercloud-full and other partition images have not received the\nbenefit of this work because they use the much simpler grub2 element.\nNow that overcloud-hardened-uefi-full is the default, overcloud-full\nmay become harder to support over time. Switching to the bootloader\nelement will reduce the support matrix for the boot handling of this\nimage.\n\nThis changes fixes an issue where the kernel args root option is\nincorrect, because the bootloader element does a full kernel options\nregeneration.\n\nDepends-On: https://review.opendev.org/c/openstack/diskimage-builder/+/826976\nCloses-Bug: #1958230\nChange-Id: I9a0936c415485166962194104c7c54ee520e9516\n'}]",23,826205,29324699829354575e58ea2bac37165943acd6f1,46,7,4,4571,,,0,"Switch from grub2 to bootloader element for overcloud-full

A lot of effort has gone into the bootloader element doing the right
thing in all cases, managing the transition to BLS, and handling
legacy boot with UEFI boot.

overcloud-full and other partition images have not received the
benefit of this work because they use the much simpler grub2 element.
Now that overcloud-hardened-uefi-full is the default, overcloud-full
may become harder to support over time. Switching to the bootloader
element will reduce the support matrix for the boot handling of this
image.

This changes fixes an issue where the kernel args root option is
incorrect, because the bootloader element does a full kernel options
regeneration.

Depends-On: https://review.opendev.org/c/openstack/diskimage-builder/+/826976
Closes-Bug: #1958230
Change-Id: I9a0936c415485166962194104c7c54ee520e9516
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/05/826205/2 && git format-patch -1 --stdout FETCH_HEAD,"['image-yaml/overcloud-images-python3.yaml', 'image-yaml/overcloud-images-ceph.yaml', 'image-yaml/overcloud-realtime-compute-python3.yaml']",3,06866191b7f0ad6b22b3b4d7956c9fe01240b6da,bootloader, - block-device-mbr - bootloader, - grub2,6,3
openstack%2Ftripleo-upgrade~stable%2Fussuri~I2387d508f9dc91dc71c19ae3625fe093d33c2bc0,openstack/tripleo-upgrade,stable/ussuri,I2387d508f9dc91dc71c19ae3625fe093d33c2bc0,Make the network_data search more inclusive,ABANDONED,2022-03-28 00:13:30.000000000,2022-04-21 01:25:29.000000000,,"[{'_account_id': 7144}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-03-28 00:13:30.000000000', 'files': ['tasks/common/auxilary-facts.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/645eb0daeebb4dcb7b7975409e5e02233ab6a595', 'message': ""Make the network_data search more inclusive\n\nIt's possible to also use --networks-file instead of\n-n in the overcloud deploy command. This change adds\na secondary search string to the awk command to ensure\nwe capture the file regardless of which argument has\nbeen used in the overcloud deploy script.\n\nResolves: rhbz#2064354\n\nChange-Id: I2387d508f9dc91dc71c19ae3625fe093d33c2bc0\n(cherry picked from commit 4958251d9189adf17f7bce47a9a699b2add0e6de)\n""}]",1,835400,645eb0daeebb4dcb7b7975409e5e02233ab6a595,4,2,1,30073,,,0,"Make the network_data search more inclusive

It's possible to also use --networks-file instead of
-n in the overcloud deploy command. This change adds
a secondary search string to the awk command to ensure
we capture the file regardless of which argument has
been used in the overcloud deploy script.

Resolves: rhbz#2064354

Change-Id: I2387d508f9dc91dc71c19ae3625fe093d33c2bc0
(cherry picked from commit 4958251d9189adf17f7bce47a9a699b2add0e6de)
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/00/835400/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/common/auxilary-facts.yaml'],1,645eb0daeebb4dcb7b7975409e5e02233ab6a595,," awk '/-n\s/ || /--networks-file\s/ {gsub(/[[:space:]]/, """", $2); print $2}' {{ overcloud_deploy_script }}"," awk '/-n\s/ {gsub(/[[:space:]]/, """", $2); print $2}' {{ overcloud_deploy_script }}",1,1
openstack%2Ftripleo-ci~master~Ib9271716e8f0c92e96c90fa9b557a590abb9ccf8,openstack/tripleo-ci,master,Ib9271716e8f0c92e96c90fa9b557a590abb9ccf8,Disable standalone_ceph in scenario012,MERGED,2022-04-19 16:51:36.000000000,2022-04-20 23:26:23.000000000,2022-04-20 23:26:23.000000000,"[{'_account_id': 6796}, {'_account_id': 7144}, {'_account_id': 8449}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-04-19 16:51:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/f467b2672fa3d79b25d883417c1535669b16ca3a', 'message': ""Enable standalone_ceph only in scenario001 and 004\n\nSet standalone_ceph to false for scenario010-standalone\nscenario010-ovn-provider-standalone and\nscenario012-standalone. These jobs seem to have been\nconfiguring the block device used for Ceph jobs even on\njobs which don't use Ceph.\n\nChange-Id: Ib9271716e8f0c92e96c90fa9b557a590abb9ccf8\n""}, {'number': 2, 'created': '2022-04-19 20:46:45.000000000', 'files': ['zuul.d/standalone-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/9f66a2664d87ea9bdd635f129118e767795b153a', 'message': 'Disable standalone_ceph in scenario012\n\nSet standalone_ceph to false for scenario012-standalone\nThis job seems to have been configuring the block device\nused for Ceph jobs even though it does not use Ceph.\n\nChange-Id: Ib9271716e8f0c92e96c90fa9b557a590abb9ccf8\n'}]",6,838557,9f66a2664d87ea9bdd635f129118e767795b153a,18,5,2,18002,,,0,"Disable standalone_ceph in scenario012

Set standalone_ceph to false for scenario012-standalone
This job seems to have been configuring the block device
used for Ceph jobs even though it does not use Ceph.

Change-Id: Ib9271716e8f0c92e96c90fa9b557a590abb9ccf8
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/57/838557/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/standalone-jobs.yaml'],1,f467b2672fa3d79b25d883417c1535669b16ca3a,standalone_ceph_cleanup, standalone_ceph: false standalone_ceph: false standalone_ceph: false, standalone_ceph: true standalone_ceph: true standalone_ceph: true,3,3
openstack%2Fopenstack-zuul-jobs~master~I85cf1c29d501817254ddc54ef02bd75b848ed942,openstack/openstack-zuul-jobs,master,I85cf1c29d501817254ddc54ef02bd75b848ed942,Use the official RDO yoga repo for liberasurecode on centos 9,MERGED,2022-04-20 16:59:58.000000000,2022-04-20 23:24:34.000000000,2022-04-20 23:23:19.000000000,"[{'_account_id': 5263}, {'_account_id': 7118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-20 16:59:58.000000000', 'files': ['playbooks/wheel-cache/pre.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/60a63f1bb1751f76d36fc0813c358f08b6ca8864', 'message': 'Use the official RDO yoga repo for liberasurecode on centos 9\n\nWe had to workaround this repo not existing when we first spun up wheel\nbuilds for centos 9 stream. But the repo appears to exist now so use the\nofficial production stuff rather than the test builds.\n\nChange-Id: I85cf1c29d501817254ddc54ef02bd75b848ed942\n'}]",1,838763,60a63f1bb1751f76d36fc0813c358f08b6ca8864,9,3,1,4146,,,0,"Use the official RDO yoga repo for liberasurecode on centos 9

We had to workaround this repo not existing when we first spun up wheel
builds for centos 9 stream. But the repo appears to exist now so use the
official production stuff rather than the test builds.

Change-Id: I85cf1c29d501817254ddc54ef02bd75b848ed942
",git fetch https://review.opendev.org/openstack/openstack-zuul-jobs refs/changes/63/838763/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/wheel-cache/pre.yaml'],1,60a63f1bb1751f76d36fc0813c358f08b6ca8864,update-centos-9-liberasurecode-repo, yum: name: centos-release-openstack-yoga state: present, # NOTE(ianw) 2022-04-11 : For now use buildlogs staging version # until final releases are made and there are packages to install # repos. copy: content: | [RDO-CentOS-9-stream-yoga] name=CentOS OpenStack Yoga Repository baseurl=https://buildlogs.centos.org/centos/9-stream/cloud/{{ ansible_architecture }}/openstack-yoga gpgcheck=0 enable=1 dest: /etc/yum.repos.d/openstack-yoga.repo,3,11
openstack%2Fpython-tripleoclient~master~I839298c177ef27852d0dcfc58cb7b62c161299c0,openstack/python-tripleoclient,master,I839298c177ef27852d0dcfc58cb7b62c161299c0,Update the default namespace,MERGED,2022-03-30 14:46:42.000000000,2022-04-20 23:15:58.000000000,2022-04-20 23:14:05.000000000,"[{'_account_id': 7144}, {'_account_id': 9976}, {'_account_id': 22348}, {'_account_id': 28223}]","[{'number': 1, 'created': '2022-03-30 14:46:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/5e28727dd2ce4810d02486d1b1fbd27f7b29a51d', 'message': 'Update the default namespace\n\nChange-Id: I839298c177ef27852d0dcfc58cb7b62c161299c0\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 2, 'created': '2022-03-30 16:52:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/007a636236391fffc0d32c5bf6b70e6a9cdce824', 'message': 'Update the default namespace\n\nChange-Id: I839298c177ef27852d0dcfc58cb7b62c161299c0\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 3, 'created': '2022-04-12 14:19:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/99a26ee8456c851d84d21aa24d0104c731d5954d', 'message': 'Update the default namespace\n\nChange-Id: I839298c177ef27852d0dcfc58cb7b62c161299c0\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 4, 'created': '2022-04-13 14:35:15.000000000', 'files': ['tripleoclient/constants.py', 'tripleoclient/v2/tripleo_container_image.py', 'tripleoclient/tests/test_heat_launcher.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/ddb3525bccb940ab55490a6d0c9634ee6f4a93a6', 'message': ""Update the default namespace\n\nThe container namespace has changed, this update modifies the client so\nthat it's now using a constant to set the namespace defaults.\n\nChange-Id: I839298c177ef27852d0dcfc58cb7b62c161299c0\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n""}]",24,835839,ddb3525bccb940ab55490a6d0c9634ee6f4a93a6,25,4,4,7353,,,0,"Update the default namespace

The container namespace has changed, this update modifies the client so
that it's now using a constant to set the namespace defaults.

Change-Id: I839298c177ef27852d0dcfc58cb7b62c161299c0
Signed-off-by: Kevin Carter <kecarter@redhat.com>
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/39/835839/4 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/constants.py', 'tripleoclient/v2/tripleo_container_image.py', 'tripleoclient/tests/test_heat_launcher.py']",3,5e28727dd2ce4810d02486d1b1fbd27f7b29a51d,default|namespace," 'quay.io/tripleomastercentos9/openstack-heat-api:current-' 'quay.io/tripleomastercentos9/openstack-heat-api:current-tripleo', 'quay.io/tripleomastercentos9/openstack-heat-api:current-' 'quay.io/tripleomastercentos9/openstack-heat-api:current-'"," 'quay.io/tripleomaster/openstack-heat-api:current-' 'quay.io/tripleomaster/openstack-heat-api:current-tripleo', 'quay.io/tripleomaster/openstack-heat-api:current-' 'quay.io/tripleomaster/openstack-heat-api:current-'",7,7
openstack%2Ftripleo-upgrade~master~Ia410b9a86a69d2403164a97def234f61da87a406,openstack/tripleo-upgrade,master,Ia410b9a86a69d2403164a97def234f61da87a406,Nit cleanup for fast and furious upgrade tasks,MERGED,2022-04-11 16:25:48.000000000,2022-04-20 23:15:28.000000000,2022-04-20 23:15:28.000000000,"[{'_account_id': 6816}, {'_account_id': 7144}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-11 16:25:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/3a53227a680a5abb7a2d68abd568e0ade13546c0', 'message': 'Nit cleanup for fast and furious upgrade tasks\n\nChange-Id: Ia410b9a86a69d2403164a97def234f61da87a406\n'}, {'number': 2, 'created': '2022-04-11 16:28:03.000000000', 'files': ['tasks/fast-forward-upgrade/create-overcloud-ffu-scripts.yaml', 'tasks/fast-forward-upgrade/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/c003ac529bd05a0f758fb4e1bab432757fc306c8', 'message': 'Nit cleanup for fast and furious upgrade tasks\n\nChange-Id: Ia410b9a86a69d2403164a97def234f61da87a406\n'}]",0,837372,c003ac529bd05a0f758fb4e1bab432757fc306c8,9,3,2,11166,,,0,"Nit cleanup for fast and furious upgrade tasks

Change-Id: Ia410b9a86a69d2403164a97def234f61da87a406
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/72/837372/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/fast-forward-upgrade/create-overcloud-ffu-scripts.yaml', 'tasks/fast-forward-upgrade/main.yml']",2,3a53227a680a5abb7a2d68abd568e0ade13546c0,, - name: Start overcloud upgrade run withou outage for all roles., - name: Start overcloud upgrade run for all roles.,2,2
openstack%2Fcharms.ceph~master~Ia5efa090f5b7fa23d7261da53592d6a527dcbfe1,openstack/charms.ceph,master,Ia5efa090f5b7fa23d7261da53592d6a527dcbfe1,Amend rbd-mirror capabilities,MERGED,2022-04-20 15:26:17.000000000,2022-04-20 22:36:38.000000000,2022-04-20 22:36:38.000000000,"[{'_account_id': 8992}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-20 15:26:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charms.ceph/commit/128ebf8837edd58ea46ec2a260d5fb2db48cc17a', 'message': 'Amend rbd-mirror capabilities\n\nUpdate rbd-mirror key caps to use the rbd-mirror-peer mon profile.\n\nThis adds required config get/set permissions for the rbd-mirror\ndaemon.\n\nChange-Id: Ia5efa090f5b7fa23d7261da53592d6a527dcbfe1\nCloses-Bug: 1879749\n'}, {'number': 2, 'created': '2022-04-20 16:38:05.000000000', 'files': ['charms_ceph/utils.py', 'unit_tests/test_utils.py'], 'web_link': 'https://opendev.org/openstack/charms.ceph/commit/89f5ee0d0425649de8a7e981f6268e488b22c037', 'message': 'Amend rbd-mirror capabilities\n\nUpdate rbd-mirror key caps to use the rbd-mirror-peer mon profile.\n\nThis adds required config get/set permissions for the rbd-mirror\ndaemon.\n\nAlso add permission to use the service {dump,status} mon commands;\nthese are not required by the rbd-mirror daemon but are needed by\nthe charm to check pool mirror status.\n\nChange-Id: Ia5efa090f5b7fa23d7261da53592d6a527dcbfe1\nCloses-Bug: 1879749\n'}]",0,838747,89f5ee0d0425649de8a7e981f6268e488b22c037,8,2,2,935,,,0,"Amend rbd-mirror capabilities

Update rbd-mirror key caps to use the rbd-mirror-peer mon profile.

This adds required config get/set permissions for the rbd-mirror
daemon.

Also add permission to use the service {dump,status} mon commands;
these are not required by the rbd-mirror daemon but are needed by
the charm to check pool mirror status.

Change-Id: Ia5efa090f5b7fa23d7261da53592d6a527dcbfe1
Closes-Bug: 1879749
",git fetch https://review.opendev.org/openstack/charms.ceph refs/changes/47/838747/1 && git format-patch -1 --stdout FETCH_HEAD,"['charms_ceph/utils.py', 'unit_tests/test_utils.py']",2,128ebf8837edd58ea46ec2a260d5fb2db48cc17a,rbd-mirror-peer," ('mon', ['profile rbd-mirror-peer']),"," ('mon', ['profile rbd; allow r']),",2,2
openstack%2Fcharm-neutron-api-plugin-ironic~stable%2Fyoga~I6f2329cf4efac17c8e0d5c155c45d2239df71e6c,openstack/charm-neutron-api-plugin-ironic,stable/yoga,I6f2329cf4efac17c8e0d5c155c45d2239df71e6c,Updates for stable branch creation,MERGED,2022-04-15 10:53:46.000000000,2022-04-20 22:31:12.000000000,2022-04-20 22:31:12.000000000,"[{'_account_id': 8992}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-15 10:53:46.000000000', 'files': ['.gitreview', 'test-requirements.txt', 'src/wheelhouse.txt', 'src/test-requirements.txt', 'src/build.lock', 'neutron-api-plugin-ironic.charm'], 'web_link': 'https://opendev.org/openstack/charm-neutron-api-plugin-ironic/commit/b804c53f66fa62c025934be6c37d13cdc7434f76', 'message': 'Updates for stable branch creation\n\n- Set default branch for git review/gerrit.\n- Switch tests to stable.\n- Switch to using stable charm-helpers branch.\n- Switch to using stable charm.openstack branch.\n- Switch to using stable zaza, zaza-openstack-tests\n  branch\n- (reactive charms) Add build.lock file\n\nChange-Id: I6f2329cf4efac17c8e0d5c155c45d2239df71e6c\n'}]",5,838149,b804c53f66fa62c025934be6c37d13cdc7434f76,15,3,1,20870,,,0,"Updates for stable branch creation

- Set default branch for git review/gerrit.
- Switch tests to stable.
- Switch to using stable charm-helpers branch.
- Switch to using stable charm.openstack branch.
- Switch to using stable zaza, zaza-openstack-tests
  branch
- (reactive charms) Add build.lock file

Change-Id: I6f2329cf4efac17c8e0d5c155c45d2239df71e6c
",git fetch https://review.opendev.org/openstack/charm-neutron-api-plugin-ironic refs/changes/49/838149/1 && git format-patch -1 --stdout FETCH_HEAD,"['.gitreview', 'test-requirements.txt', 'src/wheelhouse.txt', 'src/test-requirements.txt', 'src/build.lock', 'neutron-api-plugin-ironic.charm']",6,b804c53f66fa62c025934be6c37d13cdc7434f76,charm-release-2204,,,197,5
openstack%2Fdevstack~stable%2Fstein~Ib9896a99b6d6c4d359ee412743ce30512b3c4fb7,openstack/devstack,stable/stein,Ib9896a99b6d6c4d359ee412743ce30512b3c4fb7,Mark our source trees as safe for git to use as other users,MERGED,2022-04-20 10:16:43.000000000,2022-04-20 22:28:10.000000000,2022-04-20 22:26:48.000000000,"[{'_account_id': 4393}, {'_account_id': 5314}, {'_account_id': 8556}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-20 10:16:43.000000000', 'files': ['functions-common', 'unstack.sh'], 'web_link': 'https://opendev.org/openstack/devstack/commit/c67e7d3bbd15522fc298ed14803c8eda37c21efe', 'message': 'Mark our source trees as safe for git to use as other users\n\ngit commit [1] introduced a new behaviour to work around a CVE that\ndisallows any git operations in directories not owned by the current\nuser.\n\nThis may seem unrelated to installation, but it plays havoc with PBR,\nwhich calls out to git to get to get revision history.  So if you are\n""pip install""-ing from a source tree you don\'t own, the PBR git calls\nin that tree now fail and the install blows up.\n\nThis plays havoc with our model.  Firstly, we checkout all code as\n""stack"" then install it globally with ""sudo"" (i.e. root) -- which\nbreaks.  We also have cases of essentially the opposite -- checkouts\nwe have installed as root, but then run tox in them as a regular user;\ntox wants to install the source in its venv but now we have another\nuser conflict.\n\nThis uses the only available configuration option to avoid that by\nglobally setting the source directories we clone as safe.  This is an\nencroachment of the global system for sure, but is about the only\nswitch available at the moment.  For discussion of other approaches,\nsee [2].\n\nAlso, squashing the below backport which is needed for bionic\n- https://review.opendev.org/q/I941ef5ea90970a0901236afe81c551aaf24ac1d8\n\nRelated-Bug: https://bugs.launchpad.net/devstack/+bug/1968798\n\n[1] https://github.com/git/git/commit/8959555cee7ec045958f9b6dd62e541affb7e7d9\n[2] https://review.opendev.org/c/openstack/devstack/+/837636\n\nChange-Id: Ib9896a99b6d6c4d359ee412743ce30512b3c4fb7\n(cherry picked from commit 676dcaf94487665882be048cfe1f3206d6807e0f)\n(cherry picked from commit a9852abfc5ed7c3faf6a667bdd29a2d6e49bc150)\n(cherry picked from commit 16c57c51a0858ef06c8cf5edbce822831a0fd315)\n'}]",2,838679,c67e7d3bbd15522fc298ed14803c8eda37c21efe,10,5,1,17685,,,0,"Mark our source trees as safe for git to use as other users

git commit [1] introduced a new behaviour to work around a CVE that
disallows any git operations in directories not owned by the current
user.

This may seem unrelated to installation, but it plays havoc with PBR,
which calls out to git to get to get revision history.  So if you are
""pip install""-ing from a source tree you don't own, the PBR git calls
in that tree now fail and the install blows up.

This plays havoc with our model.  Firstly, we checkout all code as
""stack"" then install it globally with ""sudo"" (i.e. root) -- which
breaks.  We also have cases of essentially the opposite -- checkouts
we have installed as root, but then run tox in them as a regular user;
tox wants to install the source in its venv but now we have another
user conflict.

This uses the only available configuration option to avoid that by
globally setting the source directories we clone as safe.  This is an
encroachment of the global system for sure, but is about the only
switch available at the moment.  For discussion of other approaches,
see [2].

Also, squashing the below backport which is needed for bionic
- https://review.opendev.org/q/I941ef5ea90970a0901236afe81c551aaf24ac1d8

Related-Bug: https://bugs.launchpad.net/devstack/+bug/1968798

[1] https://github.com/git/git/commit/8959555cee7ec045958f9b6dd62e541affb7e7d9
[2] https://review.opendev.org/c/openstack/devstack/+/837636

Change-Id: Ib9896a99b6d6c4d359ee412743ce30512b3c4fb7
(cherry picked from commit 676dcaf94487665882be048cfe1f3206d6807e0f)
(cherry picked from commit a9852abfc5ed7c3faf6a667bdd29a2d6e49bc150)
(cherry picked from commit 16c57c51a0858ef06c8cf5edbce822831a0fd315)
",git fetch https://review.opendev.org/openstack/devstack refs/changes/79/838679/1 && git format-patch -1 --stdout FETCH_HEAD,"['functions-common', 'unstack.sh']",2,c67e7d3bbd15522fc298ed14803c8eda37c21efe,bug/1968798," # Clean any safe.directory items we wrote into the global # gitconfig. We can identify the relevant ones by checking that they # point to somewhere in our $DEST directory. sudo sed -i ""/directory=${DEST}/ d"" /etc/gitconfig",,18,0
openstack%2Fdevstack~master~I3ad7e5e80f1141c3d94f7ce7c8b8f8fdb9fb7c3c,openstack/devstack,master,I3ad7e5e80f1141c3d94f7ce7c8b8f8fdb9fb7c3c,ovn: use bundled ovs,NEW,2022-04-20 19:43:57.000000000,2022-04-20 22:03:23.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-04-20 19:43:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/1d73fb17cbe986bb78a1a1277a66228eb6b62092', 'message': ""ovn: use bundled ovs\n\nWe are using the latest OVS, however, OVN needs to build using the\nOVS submodule since some of the signatures don't work[1].\n\n[1]: https://github.com/ovn-org/ovn/issues/128\n\nChange-Id: I3ad7e5e80f1141c3d94f7ce7c8b8f8fdb9fb7c3c\n""}, {'number': 2, 'created': '2022-04-20 19:50:37.000000000', 'files': ['lib/neutron_plugins/ovn_agent'], 'web_link': 'https://opendev.org/openstack/devstack/commit/7fa24750a676a44ab224206cc13096f904057d44', 'message': ""ovn: use bundled ovs\n\nWe are using the latest OVS, however, OVN needs to build using the\nOVS submodule since some of the signatures don't work[1].\n\n[1]: https://github.com/ovn-org/ovn/issues/128\n\nChange-Id: I3ad7e5e80f1141c3d94f7ce7c8b8f8fdb9fb7c3c\n""}]",0,838782,7fa24750a676a44ab224206cc13096f904057d44,3,1,2,1004,,,0,"ovn: use bundled ovs

We are using the latest OVS, however, OVN needs to build using the
OVS submodule since some of the signatures don't work[1].

[1]: https://github.com/ovn-org/ovn/issues/128

Change-Id: I3ad7e5e80f1141c3d94f7ce7c8b8f8fdb9fb7c3c
",git fetch https://review.opendev.org/openstack/devstack refs/changes/82/838782/2 && git format-patch -1 --stdout FETCH_HEAD,['lib/neutron_plugins/ovn_agent'],1,1d73fb17cbe986bb78a1a1277a66228eb6b62092,, # NOTE(mnaser): OVN requires that you build using the OVS from the # submodule. # # https://github.com/ovn-org/ovn/issues/128 git submodule init ovs git submodule update ovs ./configure $prefix $localstatedir, ./configure --with-ovs-source=$DEST/$OVS_REPO_NAME $prefix $localstatedir,8,1
openstack%2Fpython-tripleoclient~master~Ia424b2eb251b2d31a97256b5e8882c70058d6a0b,openstack/python-tripleoclient,master,Ia424b2eb251b2d31a97256b5e8882c70058d6a0b,Consolidate ephemeral Heat interaction to single try/finally,MERGED,2022-02-25 12:02:02.000000000,2022-04-20 21:57:45.000000000,2022-04-20 21:55:54.000000000,"[{'_account_id': 7353}, {'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-02-25 12:02:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/22fe2a103ce94d5917d4463448d8336946b20186', 'message': 'Consolidate ephemeral Heat interaction to single try/finally\n\nEphemeral Heat interaction was spread across several areas of the\novercloud deploy, including the entire config-download execution. To\nreduce the amount of time that ephemeral Heat needs\nto stay running, consolidate all the Heat interaction to a single\ntry/finally block. This also makes the shutdown of ephemeral Heat and\ndatabase backup in just a single location.\n\nChange-Id: Ia424b2eb251b2d31a97256b5e8882c70058d6a0b\nSigned-off-by: James Slagle <jslagle@redhat.com>\n'}, {'number': 2, 'created': '2022-02-28 13:02:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/d37899068eb164aa800c6dd8f87d2221b5adb597', 'message': 'Consolidate ephemeral Heat interaction to single try/finally\n\nEphemeral Heat interaction was spread across several areas of the\novercloud deploy, including the entire config-download execution. To\nreduce the amount of time that ephemeral Heat needs\nto stay running, consolidate all the Heat interaction to a single\ntry/finally block. This also makes the shutdown of ephemeral Heat and\ndatabase backup in just a single location.\n\nChange-Id: Ia424b2eb251b2d31a97256b5e8882c70058d6a0b\nSigned-off-by: James Slagle <jslagle@redhat.com>\n'}, {'number': 3, 'created': '2022-03-15 15:26:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/1c61b9ff9c1336aea0360b198d11f7ff736f6771', 'message': 'Consolidate ephemeral Heat interaction to single try/finally\n\nEphemeral Heat interaction was spread across several areas of the\novercloud deploy, including the entire config-download execution. To\nreduce the amount of time that ephemeral Heat needs\nto stay running, consolidate all the Heat interaction to a single\ntry/finally block. The overcloud export is moved earlier in the\nexecution since it no longer requires Heat API access. This also makes\nthe shutdown of ephemeral Heat and database backup in just a single\nlocation.\n\nChange-Id: Ia424b2eb251b2d31a97256b5e8882c70058d6a0b\nSigned-off-by: James Slagle <jslagle@redhat.com>\n'}, {'number': 4, 'created': '2022-03-18 21:16:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/1cd02aa00433a80ee35d25bfb904c0a6608e1bef', 'message': 'Consolidate ephemeral Heat interaction to single try/finally\n\nEphemeral Heat interaction was spread across several areas of the\novercloud deploy, including the entire config-download execution. To\nreduce the amount of time that ephemeral Heat needs\nto stay running, consolidate all the Heat interaction to a single\ntry/finally block. The overcloud export is moved earlier in the\nexecution since it no longer requires Heat API access. This also makes\nthe shutdown of ephemeral Heat and database backup in just a single\nlocation.\n\nChange-Id: Ia424b2eb251b2d31a97256b5e8882c70058d6a0b\nSigned-off-by: James Slagle <jslagle@redhat.com>\n'}, {'number': 5, 'created': '2022-03-22 00:45:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/af1a1a7d34ccd8161215f93cb33b252cc3c67fd9', 'message': 'Consolidate ephemeral Heat interaction to single try/finally\n\nEphemeral Heat interaction was spread across several areas of the\novercloud deploy, including the entire config-download execution. To\nreduce the amount of time that ephemeral Heat needs\nto stay running, consolidate all the Heat interaction to a single\ntry/finally block. The overcloud export is moved earlier in the\nexecution since it no longer requires Heat API access. This also makes\nthe shutdown of ephemeral Heat and database backup in just a single\nlocation.\n\nChange-Id: Ia424b2eb251b2d31a97256b5e8882c70058d6a0b\nSigned-off-by: James Slagle <jslagle@redhat.com>\n'}, {'number': 6, 'created': '2022-03-22 12:46:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/ace5bc436a8b7a856d75c1ea146421acd9c3a890', 'message': 'Consolidate ephemeral Heat interaction to single try/finally\n\nEphemeral Heat interaction was spread across several areas of the\novercloud deploy, including the entire config-download execution. To\nreduce the amount of time that ephemeral Heat needs\nto stay running, consolidate all the Heat interaction to a single\ntry/finally block. The overcloud export is moved earlier in the\nexecution since it no longer requires Heat API access. This also makes\nthe shutdown of ephemeral Heat and database backup in just a single\nlocation.\n\nChange-Id: Ia424b2eb251b2d31a97256b5e8882c70058d6a0b\nSigned-off-by: James Slagle <jslagle@redhat.com>\n'}, {'number': 7, 'created': '2022-04-18 20:28:36.000000000', 'files': ['tripleoclient/tests/test_utils.py', 'tripleoclient/tests/v1/overcloud_deploy/test_overcloud_deploy.py', 'tripleoclient/v1/tripleo_deploy.py', 'tripleoclient/constants.py', 'tripleoclient/utils.py', 'tripleoclient/v1/overcloud_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/2843b447dc7f5860015e8b24b7dffa25758f9bfb', 'message': 'Consolidate ephemeral Heat interaction to single try/finally\n\nEphemeral Heat interaction was spread across several areas of the\novercloud deploy, including the entire config-download execution. To\nreduce the amount of time that ephemeral Heat needs\nto stay running, consolidate all the Heat interaction to a single\ntry/finally block. The overcloud export is moved earlier in the\nexecution since it no longer requires Heat API access. This also makes\nthe shutdown of ephemeral Heat and database backup in just a single\nlocation.\n\nChange-Id: Ia424b2eb251b2d31a97256b5e8882c70058d6a0b\nSigned-off-by: James Slagle <jslagle@redhat.com>\n'}]",7,830975,2843b447dc7f5860015e8b24b7dffa25758f9bfb,41,4,7,7144,,,0,"Consolidate ephemeral Heat interaction to single try/finally

Ephemeral Heat interaction was spread across several areas of the
overcloud deploy, including the entire config-download execution. To
reduce the amount of time that ephemeral Heat needs
to stay running, consolidate all the Heat interaction to a single
try/finally block. The overcloud export is moved earlier in the
execution since it no longer requires Heat API access. This also makes
the shutdown of ephemeral Heat and database backup in just a single
location.

Change-Id: Ia424b2eb251b2d31a97256b5e8882c70058d6a0b
Signed-off-by: James Slagle <jslagle@redhat.com>
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/75/830975/3 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/tests/test_utils.py', 'tripleoclient/tests/v1/overcloud_deploy/test_overcloud_deploy.py', 'tripleoclient/constants.py', 'tripleoclient/utils.py', 'tripleoclient/v1/overcloud_deploy.py']",5,22fe2a103ce94d5917d4463448d8336946b20186,," def _deploy_postconfig(self, parsed_args): horizon_url = None overcloud_endpoint = None old_rcpath = None rcpath = None # All code within this ""try"" block requires Heat, and no other code # outside the block should require Heat. With ephemeral Heat, the Heat # pods will be cleaned up in the ""finally"" clause, such that it's not # running during later parts of overcloud deploy. if ephemeral_heat: self.setup_ephemeral_heat(parsed_args) if parsed_args.heat_type != 'installed': # Create overcloud export data = export.export_overcloud( self.orchestration_client, parsed_args.stack, True, False, config_download_dir) export_file = os.path.join( self.working_dir, ""%s-export.yaml"" % parsed_args.stack) # write the exported data with open(export_file, 'w') as f: yaml.safe_dump(data, f, default_flow_style=False) os.chmod(export_file, 0o600) horizon_url = deployment.get_horizon_url( stack=stack.stack_name, heat_type=parsed_args.heat_type, working_dir=self.working_dir) overcloud_endpoint = utils.get_overcloud_endpoint( self.working_dir) overcloud_admin_vip = utils.get_stack_saved_output_item( 'KeystoneAdminVip', self.working_dir) rc_params = utils.get_rc_params(self.working_dir) # For backwards compatibility, we will also write overcloudrc # to $HOME and then self.working_dir. old_rcpath = deployment.create_overcloudrc( parsed_args.stack, overcloud_endpoint, overcloud_admin_vip, rc_params, parsed_args.no_proxy) rcpath = deployment.create_overcloudrc( parsed_args.stack, overcloud_endpoint, overcloud_admin_vip, rc_params, parsed_args.no_proxy, self.working_dir) finally: self._deploy_postconfig(parsed_args)"," def _deploy_postconfig(self, stack, parsed_args): if ephemeral_heat and do_stack: self.setup_ephemeral_heat(parsed_args) except (KeyboardInterrupt, Exception): raise overcloud_endpoint = None old_rcpath = None rcpath = None horizon_url = None if stack: overcloud_endpoint = utils.get_overcloud_endpoint( self.working_dir) overcloud_admin_vip = utils.get_stack_saved_output_item( 'KeystoneAdminVip', self.working_dir) rc_params = utils.get_rc_params(self.working_dir) # For backwards compatibility, we will also write overcloudrc # to $HOME and then self.working_dir. old_rcpath = deployment.create_overcloudrc( parsed_args.stack, overcloud_endpoint, overcloud_admin_vip, rc_params, parsed_args.no_proxy) rcpath = deployment.create_overcloudrc( parsed_args.stack, overcloud_endpoint, overcloud_admin_vip, rc_params, parsed_args.no_proxy, self.working_dir) self._deploy_postconfig(stack, parsed_args) try: if (parsed_args.heat_type != 'installed' and parsed_args.config_download): # Create overcloud export data = export.export_overcloud( self.orchestration_client, parsed_args.stack, True, False, config_download_dir) export_file = os.path.join( self.working_dir, ""%s-export.yaml"" % parsed_args.stack) # write the exported data with open(export_file, 'w') as f: yaml.safe_dump(data, f, default_flow_style=False) os.chmod(export_file, 0o600) except Exception as e: self.log.error('Exception creating overcloud export.') self.log.error(e) ",55,64
openstack%2Fcharm-octavia~stable%2Fyoga~Ic04ff93ff905420981685181adf17a04b709f595,openstack/charm-octavia,stable/yoga,Ic04ff93ff905420981685181adf17a04b709f595,Updates for stable branch creation,MERGED,2022-04-15 10:56:30.000000000,2022-04-20 21:49:44.000000000,2022-04-20 21:49:44.000000000,"[{'_account_id': 8992}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-15 10:56:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/1a9f901c2a4e1ebb370eb0821ab0264031f47f8a', 'message': 'Updates for stable branch creation\n\n- Set default branch for git review/gerrit.\n- Switch tests to stable.\n- Switch to using stable charm-helpers branch.\n- Switch to using stable charm.openstack branch.\n- Switch to using stable zaza, zaza-openstack-tests\n  branch\n- (reactive charms) Add build.lock file\n\nChange-Id: Ic04ff93ff905420981685181adf17a04b709f595\n'}, {'number': 2, 'created': '2022-04-18 19:27:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/8f8ce954e73926bd45e115ecb2c100b3b37af86d', 'message': 'Updates for stable branch creation\n\n- Set default branch for git review/gerrit.\n- Switch tests to stable.\n- Switch to using stable charm-helpers branch.\n- Switch to using stable charm.openstack branch.\n- Switch to using stable zaza, zaza-openstack-tests\n  branch\n- (reactive charms) Add build.lock file\n\nChange-Id: Ic04ff93ff905420981685181adf17a04b709f595\n'}, {'number': 3, 'created': '2022-04-19 13:57:09.000000000', 'files': ['.gitignore', '.gitreview', 'test-requirements.txt', 'src/wheelhouse.txt', 'src/build.lock'], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/3026201871e521a7afbb6b1f2fc6ff046c7e7e43', 'message': 'Updates for stable branch creation\n\n- Set default branch for git review/gerrit.\n- Switch tests to stable.\n- Switch to using stable charm-helpers branch.\n- Switch to using stable charm.openstack branch.\n- Switch to using stable zaza, zaza-openstack-tests\n  branch\n- (reactive charms) Add build.lock file\n\nChange-Id: Ic04ff93ff905420981685181adf17a04b709f595\n'}]",1,838157,3026201871e521a7afbb6b1f2fc6ff046c7e7e43,15,3,3,20870,,,0,"Updates for stable branch creation

- Set default branch for git review/gerrit.
- Switch tests to stable.
- Switch to using stable charm-helpers branch.
- Switch to using stable charm.openstack branch.
- Switch to using stable zaza, zaza-openstack-tests
  branch
- (reactive charms) Add build.lock file

Change-Id: Ic04ff93ff905420981685181adf17a04b709f595
",git fetch https://review.opendev.org/openstack/charm-octavia refs/changes/57/838157/1 && git format-patch -1 --stdout FETCH_HEAD,"['.gitreview', 'test-requirements.txt', 'src/wheelhouse.txt', 'octavia.charm', 'src/build.lock']",5,1a9f901c2a4e1ebb370eb0821ab0264031f47f8a,charm-release-2204,"{ ""locks"": [ { ""type"": ""layer"", ""item"": ""layer:leadership"", ""url"": ""https://git.launchpad.net/layer-leadership"", ""vcs"": null, ""branch"": ""refs/heads/master"", ""commit"": ""cc5bd3f49b2fa5e6c3ab2336763c313ec8bf083f"" }, { ""type"": ""layer"", ""item"": ""layer:options"", ""url"": ""https://github.com/juju-solutions/layer-options.git"", ""vcs"": null, ""branch"": ""refs/heads/master"", ""commit"": ""fcdcea4e5de3e1556c24e6704607862d0ba00a56"" }, { ""type"": ""layer"", ""item"": ""layer:basic"", ""url"": ""https://github.com/juju-solutions/layer-basic.git"", ""vcs"": null, ""branch"": ""refs/heads/master"", ""commit"": ""fb767dcf0786d1d5364199bb3b40bdc86518b45b"" }, { ""type"": ""layer"", ""item"": ""layer:openstack"", ""url"": ""https://github.com/openstack/charm-layer-openstack"", ""vcs"": null, ""branch"": ""refs/heads/master"", ""commit"": ""e0f700eacb026235e1a04e7cbc28dfbe9d4e4520"" }, { ""type"": ""layer"", ""item"": ""layer:openstack-principle"", ""url"": ""https://github.com/openstack/charm-layer-openstack-principle"", ""vcs"": null, ""branch"": ""refs/heads/master"", ""commit"": ""2541283a7f9c3fa923c0fccd7257e217e11dadcd"" }, { ""type"": ""layer"", ""item"": ""layer:openstack-api"", ""url"": ""https://github.com/openstack/charm-layer-openstack-api"", ""vcs"": null, ""branch"": ""refs/heads/master"", ""commit"": ""34311a62e963d0ce903b7ddb9d70b8f071f71651"" }, { ""type"": ""layer"", ""item"": ""octavia"", ""url"": null, ""vcs"": null, ""branch"": ""refs/heads/stable/yoga\nrefs/heads/yoga-updates"", ""commit"": ""refs/heads/stable/yoga\nrefs/heads/yoga-updates"" }, { ""type"": ""layer"", ""item"": ""interface:tls-certificates"", ""url"": ""https://github.com/juju-solutions/interface-tls-certificates"", ""vcs"": null, ""branch"": ""refs/heads/master"", ""commit"": ""d9850016d930a6d507b9fd45e2598d327922b140"" }, { ""type"": ""layer"", ""item"": ""interface:mysql-shared"", ""url"": ""https://github.com/openstack/charm-interface-mysql-shared"", ""vcs"": null, ""branch"": ""refs/heads/master"", ""commit"": ""f90f8c6edce21e4da3a872f0f9d6761730ce025d"" }, { ""type"": ""layer"", ""item"": ""interface:rabbitmq"", ""url"": ""https://github.com/openstack/charm-interface-rabbitmq"", ""vcs"": null, ""branch"": ""refs/heads/master"", ""commit"": ""383121fc584d2d3bf9d233eba0d3708398a4c468"" }, { ""type"": ""layer"", ""item"": ""interface:keystone"", ""url"": ""https://github.com/openstack/charm-interface-keystone"", ""vcs"": null, ""branch"": ""refs/heads/master"", ""commit"": ""501af18b3036f5af92990bc39e750e76e393e5eb"" }, { ""type"": ""layer"", ""item"": ""interface:hacluster"", ""url"": ""https://github.com/openstack/charm-interface-hacluster.git"", ""vcs"": null, ""branch"": ""refs/heads/master"", ""commit"": ""2b714e90b1b8845ce7390bb1dad5a56a65437907"" }, { ""type"": ""layer"", ""item"": ""interface:openstack-ha"", ""url"": ""https://github.com/openstack/charm-interface-openstack-ha"", ""vcs"": null, ""branch"": ""refs/heads/master"", ""commit"": ""a3b00e5b5fd857d130698c5cfe4b918877f0ab80"" }, { ""type"": ""layer"", ""item"": ""interface:neutron-load-balancer"", ""url"": ""https://github.com/openstack/charm-interface-neutron-load-balancer.git"", ""vcs"": null, ""branch"": ""refs/heads/master"", ""commit"": ""232bf9bad4536ea20f26831b6a31b55b778315d9"" }, { ""type"": ""layer"", ""item"": ""interface:neutron-plugin"", ""url"": ""https://github.com/openstack/charm-interface-neutron-plugin"", ""vcs"": null, ""branch"": ""refs/heads/master"", ""commit"": ""3fba729d3e2856a9cab4de71c1252388213b9844"" }, { ""type"": ""layer"", ""item"": ""interface:ovsdb-subordinate"", ""url"": ""https://opendev.org/x/charm-interface-ovsdb.git"", ""vcs"": null, ""branch"": null, ""commit"": ""6b52c09958ab7d1ec483e461682182c6b33ad639"" }, { ""type"": ""layer"", ""item"": ""interface:ovsdb-cms"", ""url"": ""https://opendev.org/x/charm-interface-ovsdb.git"", ""vcs"": null, ""branch"": null, ""commit"": ""6b52c09958ab7d1ec483e461682182c6b33ad639"" }, { ""type"": ""layer"", ""item"": ""interface:nrpe-external-master"", ""url"": ""https://github.com/canonical/nrpe-external-master-interface"", ""vcs"": null, ""branch"": ""refs/heads/master"", ""commit"": ""95d744d1dbc4d86fb0462283c9371619bf5bbc24"" }, { ""type"": ""python_module"", ""package"": ""netaddr"", ""vcs"": null, ""version"": ""0.7.19"" }, { ""type"": ""python_module"", ""package"": ""attrs"", ""vcs"": null, ""version"": ""21.4.0"" }, { ""type"": ""python_module"", ""package"": ""python-keystoneclient"", ""vcs"": null, ""version"": ""4.4.0"" }, { ""type"": ""python_module"", ""package"": ""waitress"", ""vcs"": null, ""version"": ""2.1.1"" }, { ""type"": ""python_module"", ""package"": ""os-client-config"", ""vcs"": null, ""version"": ""2.1.0"" }, { ""type"": ""python_module"", ""package"": ""SQLAlchemy"", ""vcs"": null, ""version"": ""1.4.35"" }, { ""type"": ""python_module"", ""package"": ""os-traits"", ""vcs"": null, ""version"": ""2.7.0"" }, { ""type"": ""python_module"", ""package"": ""openstacksdk"", ""vcs"": null, ""version"": ""0.61.0"" }, { ""type"": ""python_module"", ""package"": ""yappi"", ""vcs"": null, ""version"": ""1.3.3"" }, { ""type"": ""python_module"", ""package"": ""six"", ""vcs"": null, ""version"": ""1.16.0"" }, { ""type"": ""python_module"", ""package"": ""cffi"", ""vcs"": null, ""version"": ""1.15.0"" }, { ""type"": ""python_module"", ""package"": ""dnspython"", ""vcs"": null, ""version"": ""1.16.0"" }, { ""type"": ""python_module"", ""package"": ""Tempita"", ""vcs"": null, ""version"": ""0.4"" }, { ""type"": ""python_module"", ""package"": ""soupsieve"", ""vcs"": null, ""version"": ""2.1"" }, { ""type"": ""python_module"", ""package"": ""python-neutronclient"", ""vcs"": null, ""version"": ""7.8.0"" }, { ""type"": ""python_module"", ""package"": ""charms.reactive"", ""vcs"": null, ""version"": ""1.5.0"" }, { ""type"": ""python_module"", ""package"": ""cliff"", ""vcs"": null, ""version"": ""3.8.0"" }, { ""type"": ""python_module"", ""package"": ""appdirs"", ""vcs"": null, ""version"": ""1.4.4"" }, { ""type"": ""python_module"", ""package"": ""requests"", ""vcs"": null, ""version"": ""2.27.1"" }, { ""type"": ""python_module"", ""package"": ""pyinotify"", ""vcs"": null, ""version"": ""0.9.6"" }, { ""type"": ""python_module"", ""package"": ""colorama"", ""vcs"": null, ""version"": ""0.4.4"" }, { ""type"": ""python_module"", ""package"": ""oslo.metrics"", ""vcs"": null, ""version"": ""0.4.0"" }, { ""type"": ""python_module"", ""package"": ""fixtures"", ""vcs"": null, ""version"": ""3.0.0"" }, { ""type"": ""python_module"", ""package"": ""testresources"", ""vcs"": null, ""version"": ""2.0.1"" }, { ""type"": ""python_module"", ""package"": ""logutils"", ""vcs"": null, ""version"": ""0.3.5"" }, { ""type"": ""python_module"", ""package"": ""zipp"", ""vcs"": null, ""version"": ""1.2.0"" }, { ""type"": ""python_module"", ""package"": ""Routes"", ""vcs"": null, ""version"": ""2.5.1"" }, { ""type"": ""python_module"", ""package"": ""setproctitle"", ""vcs"": null, ""version"": ""1.2.3"" }, { ""type"": ""python_module"", ""package"": ""statsd"", ""vcs"": null, ""version"": ""3.3.0"" }, { ""type"": ""python_module"", ""package"": ""idna"", ""vcs"": null, ""version"": ""3.3"" }, { ""type"": ""python_module"", ""package"": ""python-novaclient"", ""vcs"": null, ""version"": ""17.7.0"" }, { ""type"": ""python_module"", ""package"": ""greenlet"", ""vcs"": null, ""version"": ""1.1.2"" }, { ""type"": ""python_module"", ""package"": ""prettytable"", ""vcs"": null, ""version"": ""3.2.0"" }, { ""type"": ""python_module"", ""package"": ""keystoneauth1"", ""vcs"": null, ""version"": ""4.5.0"" }, { ""type"": ""python_module"", ""package"": ""munch"", ""vcs"": null, ""version"": ""2.5.0"" }, { ""type"": ""python_module"", ""package"": ""repoze.lru"", ""vcs"": null, ""version"": ""0.7"" }, { ""type"": ""python_module"", ""package"": ""setuptools_scm"", ""vcs"": null, ""version"": ""3.4.1"" }, { ""type"": ""python_module"", ""package"": ""decorator"", ""vcs"": null, ""version"": ""5.1.1"" }, { ""type"": ""python_module"", ""package"": ""cmd2"", ""vcs"": null, ""version"": ""1.4.0"" }, { ""type"": ""python_module"", ""package"": ""futurist"", ""vcs"": null, ""version"": ""2.4.0"" }, { ""type"": ""python_module"", ""package"": ""wheel"", ""vcs"": null, ""version"": ""0.37.1"" }, { ""type"": ""python_module"", ""package"": ""extras"", ""vcs"": null, ""version"": ""1.0.0"" }, { ""type"": ""python_module"", ""package"": ""oslo.service"", ""vcs"": null, ""version"": ""2.8.0"" }, { ""type"": ""python_module"", ""package"": ""wcwidth"", ""vcs"": null, ""version"": ""0.2.5"" }, { ""type"": ""python_module"", ""package"": ""netifaces"", ""vcs"": null, ""version"": ""0.11.0"" }, { ""type"": ""python_module"", ""package"": ""toml"", ""vcs"": null, ""version"": ""0.10.2"" }, { ""type"": ""python_module"", ""package"": ""oslo.i18n"", ""vcs"": null, ""version"": ""5.1.0"" }, { ""type"": ""python_module"", ""package"": ""pytz"", ""vcs"": null, ""version"": ""2022.1"" }, { ""type"": ""python_module"", ""package"": ""cachetools"", ""vcs"": null, ""version"": ""4.2.1"" }, { ""type"": ""python_module"", ""package"": ""os-service-types"", ""vcs"": null, ""version"": ""1.7.0"" }, { ""type"": ""python_module"", ""package"": ""jsonpointer"", ""vcs"": null, ""version"": ""2.3"" }, { ""type"": ""python_module"", ""package"": ""WebTest"", ""vcs"": null, ""version"": ""3.0.0"" }, { ""type"": ""python_module"", ""package"": ""oslo.messaging"", ""vcs"": null, ""version"": ""12.13.0"" }, { ""type"": ""python_module"", ""package"": ""kombu"", ""vcs"": null, ""version"": ""5.2.4"" }, { ""type"": ""python_module"", ""package"": ""flit_core"", ""vcs"": null, ""version"": ""3.7.1"" }, { ""type"": ""python_module"", ""package"": ""Paste"", ""vcs"": null, ""version"": ""3.5.0"" }, { ""type"": ""python_module"", ""package"": ""packaging"", ""vcs"": null, ""version"": ""21.3"" }, { ""type"": ""python_module"", ""package"": ""bcrypt"", ""vcs"": null, ""version"": ""3.2.0"" }, { ""type"": ""python_module"", ""package"": ""charms.openstack"", ""url"": ""git+https://github.com/openstack/charms.openstack.git"", ""branch"": ""refs/heads/stable/yoga"", ""version"": ""13ef220ce3529fa7b8e11c6e4c5b352d05b6f148"", ""vcs"": ""git"" }, { ""type"": ""python_module"", ""package"": ""debtcollector"", ""vcs"": null, ""version"": ""2.5.0"" }, { ""type"": ""python_module"", ""package"": ""testtools"", ""vcs"": null, ""version"": ""2.5.0"" }, { ""type"": ""python_module"", ""package"": ""certifi"", ""vcs"": null, ""version"": ""2021.10.8"" }, { ""type"": ""python_module"", ""package"": ""fasteners"", ""vcs"": null, ""version"": ""0.17.3"" }, { ""type"": ""python_module"", ""package"": ""importlib_metadata"", ""vcs"": null, ""version"": ""3.0.0"" }, { ""type"": ""python_module"", ""package"": ""pbr"", ""vcs"": null, ""version"": ""5.8.1"" }, { ""type"": ""python_module"", ""package"": ""charmhelpers"", ""url"": ""git+https://github.com/juju/charm-helpers.git"", ""branch"": ""refs/heads/stable/yoga"", ""version"": ""971ac5117c96bd1cb4a6a520787e4509564da582"", ""vcs"": ""git"" }, { ""type"": ""python_module"", ""package"": ""charset-normalizer"", ""vcs"": null, ""version"": ""2.0.12"" }, { ""type"": ""python_module"", ""package"": ""oslo.utils"", ""vcs"": null, ""version"": ""4.12.2"" }, { ""type"": ""python_module"", ""package"": ""oslo.policy"", ""vcs"": null, ""version"": ""3.11.0"" }, { ""type"": ""python_module"", ""package"": ""jmespath"", ""vcs"": null, ""version"": ""1.0.0"" }, { ""type"": ""python_module"", ""package"": ""oslo.serialization"", ""vcs"": null, ""version"": ""4.3.0"" }, { ""type"": ""python_module"", ""package"": ""pytest-runner"", ""vcs"": null, ""version"": ""5.2"" }, { ""type"": ""python_module"", ""package"": ""urllib3"", ""vcs"": null, ""version"": ""1.26.9"" }, { ""type"": ""python_module"", ""package"": ""PasteDeploy"", ""vcs"": null, ""version"": ""2.1.1"" }, { ""type"": ""python_module"", ""package"": ""pyperclip"", ""vcs"": null, ""version"": ""1.8.2"" }, { ""type"": ""python_module"", ""package"": ""oslo.log"", ""vcs"": null, ""version"": ""4.7.0"" }, { ""type"": ""python_module"", ""package"": ""oslo.middleware"", ""vcs"": null, ""version"": ""4.5.1"" }, { ""type"": ""python_module"", ""package"": ""WebOb"", ""vcs"": null, ""version"": ""1.8.7"" }, { ""type"": ""python_module"", ""package"": ""python-dateutil"", ""vcs"": null, ""version"": ""2.8.2"" }, { ""type"": ""python_module"", ""package"": ""oslo.versionedobjects"", ""vcs"": null, ""version"": ""2.6.0"" }, { ""type"": ""python_module"", ""package"": ""sqlparse"", ""vcs"": null, ""version"": ""0.4.2"" }, { ""type"": ""python_module"", ""package"": ""MarkupSafe"", ""vcs"": null, ""version"": ""2.1.1"" }, { ""type"": ""python_module"", ""package"": ""tenacity"", ""vcs"": null, ""version"": ""8.0.1"" }, { ""type"": ""python_module"", ""package"": ""stevedore"", ""vcs"": null, ""version"": ""3.5.0"" }, { ""type"": ""python_module"", ""package"": ""neutron-lib"", ""vcs"": null, ""version"": ""2.20.0"" }, { ""type"": ""python_module"", ""package"": ""oslo.concurrency"", ""vcs"": null, ""version"": ""4.5.0"" }, { ""type"": ""python_module"", ""package"": ""simplejson"", ""vcs"": null, ""version"": ""3.17.6"" }, { ""type"": ""python_module"", ""package"": ""setuptools"", ""vcs"": null, ""version"": ""62.1.0"" }, { ""type"": ""python_module"", ""package"": ""cryptography"", ""vcs"": null, ""version"": ""3.3.2"" }, { ""type"": ""python_module"", ""package"": ""prometheus_client"", ""vcs"": null, ""version"": ""0.14.1"" }, { ""type"": ""python_module"", ""package"": ""beautifulsoup4"", ""vcs"": null, ""version"": ""4.11.1"" }, { ""type"": ""python_module"", ""package"": ""pycparser"", ""vcs"": null, ""version"": ""2.21"" }, { ""type"": ""python_module"", ""package"": ""requestsexceptions"", ""vcs"": null, ""version"": ""1.4.0"" }, { ""type"": ""python_module"", ""package"": ""sqlalchemy-migrate"", ""vcs"": null, ""version"": ""0.13.0"" }, { ""type"": ""python_module"", ""package"": ""poetry-core"", ""vcs"": null, ""version"": ""1.0.8"" }, { ""type"": ""python_module"", ""package"": ""oslo.context"", ""vcs"": null, ""version"": ""4.1.0"" }, { ""type"": ""python_module"", ""package"": ""testscenarios"", ""vcs"": null, ""version"": ""0.5.0"" }, { ""type"": ""python_module"", ""package"": ""vine"", ""vcs"": null, ""version"": ""5.0.0"" }, { ""type"": ""python_module"", ""package"": ""msgpack"", ""vcs"": null, ""version"": ""1.0.3"" }, { ""type"": ""python_module"", ""package"": ""sortedcontainers"", ""vcs"": null, ""version"": ""2.4.0"" }, { ""type"": ""python_module"", ""package"": ""jsonpatch"", ""vcs"": null, ""version"": ""1.32"" }, { ""type"": ""python_module"", ""package"": ""osprofiler"", ""vcs"": null, ""version"": ""3.4.2"" }, { ""type"": ""python_module"", ""package"": ""pyparsing"", ""vcs"": null, ""version"": ""2.4.2"" }, { ""type"": ""python_module"", ""package"": ""pip"", ""vcs"": null, ""version"": ""22.0.4"" }, { ""type"": ""python_module"", ""package"": ""wrapt"", ""vcs"": null, ""version"": ""1.14.0"" }, { ""type"": ""python_module"", ""package"": ""Jinja2"", ""vcs"": null, ""version"": ""3.1.1"" }, { ""type"": ""python_module"", ""package"": ""pecan"", ""vcs"": null, ""version"": ""1.4.1"" }, { ""type"": ""python_module"", ""package"": ""amqp"", ""vcs"": null, ""version"": ""5.1.0"" }, { ""type"": ""python_module"", ""package"": ""pyaml"", ""vcs"": null, ""version"": ""21.10.1"" }, { ""type"": ""python_module"", ""package"": ""oslo.config"", ""vcs"": null, ""version"": ""8.8.0"" }, { ""type"": ""python_module"", ""package"": ""dogpile.cache"", ""vcs"": null, ""version"": ""1.1.5"" }, { ""type"": ""python_module"", ""package"": ""iso8601"", ""vcs"": null, ""version"": ""1.0.2"" }, { ""type"": ""python_module"", ""package"": ""Mako"", ""vcs"": null, ""version"": ""1.1.6"" }, { ""type"": ""python_module"", ""package"": ""osc-lib"", ""vcs"": null, ""version"": ""2.5.0"" }, { ""type"": ""python_module"", ""package"": ""eventlet"", ""vcs"": null, ""version"": ""0.33.0"" }, { ""type"": ""python_module"", ""package"": ""oslo.db"", ""vcs"": null, ""version"": ""11.2.0"" }, { ""type"": ""python_module"", ""package"": ""ovs"", ""vcs"": null, ""version"": ""2.16.0"" }, { ""type"": ""python_module"", ""package"": ""rfc3986"", ""vcs"": null, ""version"": ""2.0.0"" }, { ""type"": ""python_module"", ""package"": ""psutil"", ""vcs"": null, ""version"": ""5.9.0"" }, { ""type"": ""python_module"", ""package"": ""importlib_resources"", ""vcs"": null, ""version"": ""4.0.0"" }, { ""type"": ""python_module"", ""package"": ""alembic"", ""vcs"": null, ""version"": ""1.7.7"" }, { ""type"": ""python_module"", ""package"": ""os-ken"", ""vcs"": null, ""version"": ""2.3.1"" }, { ""type"": ""python_module"", ""package"": ""PyYAML"", ""vcs"": null, ""version"": ""5.3.1"" } ] }",,895,3
openstack%2Ftripleo-docs~master~Ief40bad89f1868a54dc7feee6cf5c2cb6ae5eb19,openstack/tripleo-docs,master,Ief40bad89f1868a54dc7feee6cf5c2cb6ae5eb19,Update overcloud-full to overcloud-hardened-uefi-full,NEW,2022-04-04 00:03:15.000000000,2022-04-20 21:10:41.000000000,,"[{'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 32510}]","[{'number': 1, 'created': '2022-04-04 00:03:15.000000000', 'files': ['deploy-guide/source/deployment/3rd_party.rst', 'deploy-guide/source/deployment/install_overcloud.rst', 'deploy-guide/source/features/cephadm.rst', 'deploy-guide/source/features/ops_tools.rst', 'deploy-guide/source/deployment/build_single_image.rst', 'deploy-guide/source/environments/baremetal.rst', 'deploy-guide/source/provisioning/baremetal_provision.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/576c982b34689b29082d93279323ad91a1db5b37', 'message': 'Update overcloud-full to overcloud-hardened-uefi-full\n\novercloud-hardened-uefi-full is the default image now, so this change\nupdates most references away from overcloud-full.\n\nFollow-ups to this change will rework install_overcloud.rst image\nbuilding instructions, and rewrite whole_disk_images.rst.\n\nChange-Id: Ief40bad89f1868a54dc7feee6cf5c2cb6ae5eb19\n'}]",2,836261,576c982b34689b29082d93279323ad91a1db5b37,4,3,1,4571,,,0,"Update overcloud-full to overcloud-hardened-uefi-full

overcloud-hardened-uefi-full is the default image now, so this change
updates most references away from overcloud-full.

Follow-ups to this change will rework install_overcloud.rst image
building instructions, and rewrite whole_disk_images.rst.

Change-Id: Ief40bad89f1868a54dc7feee6cf5c2cb6ae5eb19
",git fetch https://review.opendev.org/openstack/tripleo-docs refs/changes/61/836261/1 && git format-patch -1 --stdout FETCH_HEAD,"['deploy-guide/source/deployment/3rd_party.rst', 'deploy-guide/source/deployment/install_overcloud.rst', 'deploy-guide/source/features/cephadm.rst', 'deploy-guide/source/features/ops_tools.rst', 'deploy-guide/source/deployment/build_single_image.rst', 'deploy-guide/source/environments/baremetal.rst', 'deploy-guide/source/provisioning/baremetal_provision.rst']",7,576c982b34689b29082d93279323ad91a1db5b37,tripleo-mount-image, href: overcloud-hardened-uefi-full-custom href: overcloud-hardened-uefi-full-custom href: overcloud-hardened-uefi-full-custom href: overcloud-hardened-uefi-full-custom, href: overcloud-full-custom href: overcloud-full-custom href: overcloud-full-custom href: overcloud-full-custom,14,16
openstack%2Fcharm-octavia-dashboard~stable%2Fyoga~Ia7e5f57d92c21125604196607cf940fca088c42b,openstack/charm-octavia-dashboard,stable/yoga,Ia7e5f57d92c21125604196607cf940fca088c42b,Updates for stable branch creation,MERGED,2022-04-15 10:56:39.000000000,2022-04-20 21:05:02.000000000,2022-04-20 21:05:02.000000000,"[{'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-15 10:56:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia-dashboard/commit/3a2d83a3befdcbf4beac1163ee801fea77f0c8f1', 'message': 'Updates for stable branch creation\n\n- Set default branch for git review/gerrit.\n- Switch tests to stable.\n- Switch to using stable charm-helpers branch.\n- Switch to using stable charm.openstack branch.\n- Switch to using stable zaza, zaza-openstack-tests\n  branch\n- (reactive charms) Add build.lock file\n\nChange-Id: Ia7e5f57d92c21125604196607cf940fca088c42b\n'}, {'number': 2, 'created': '2022-04-18 18:57:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia-dashboard/commit/8fca4b2cb79598047543a21281ebf3d207b5e68d', 'message': 'Updates for stable branch creation\n\n- Set default branch for git review/gerrit.\n- Switch tests to stable.\n- Switch to using stable charm-helpers branch.\n- Switch to using stable charm.openstack branch.\n- Switch to using stable zaza, zaza-openstack-tests\n  branch\n- (reactive charms) Add build.lock file\n\nChange-Id: Ia7e5f57d92c21125604196607cf940fca088c42b\n'}, {'number': 3, 'created': '2022-04-20 13:09:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia-dashboard/commit/57b7cc37e33ee5d846fb9b61c20310e1d2b33101', 'message': 'Updates for stable branch creation\n\n- Set default branch for git review/gerrit.\n- Switch tests to stable.\n- Switch to using stable charm-helpers branch.\n- Switch to using stable charm.openstack branch.\n- Switch to using stable zaza, zaza-openstack-tests\n  branch\n- (reactive charms) Add build.lock file\n\nChange-Id: Ia7e5f57d92c21125604196607cf940fca088c42b\n'}, {'number': 4, 'created': '2022-04-20 17:38:22.000000000', 'files': ['osci.yaml', '.gitignore', '.gitreview', 'test-requirements.txt', 'build-requirements.txt', 'src/tests/bundles/impish-xena.yaml', 'src/tests/bundles/focal-xena.yaml', 'src/test-requirements.txt', 'src/tests/tests.yaml', 'src/tests/bundles/focal-yoga.yaml', 'src/tests/bundles/jammy-yoga.yaml', 'rename.sh', 'src/wheelhouse.txt', 'charmcraft.yaml', 'src/build.lock', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-octavia-dashboard/commit/efe38bb0c3501edcae06c13806b4d64eb404d833', 'message': 'Updates for stable branch creation\n\n- Set default branch for git review/gerrit.\n- Switch tests to stable.\n- Switch to using stable charm-helpers branch.\n- Switch to using stable charm.openstack branch.\n- Switch to using stable zaza, zaza-openstack-tests\n  branch\n- (reactive charms) Add build.lock file\n\nChange-Id: Ia7e5f57d92c21125604196607cf940fca088c42b\n'}]",13,838158,efe38bb0c3501edcae06c13806b4d64eb404d833,36,3,4,20870,,,0,"Updates for stable branch creation

- Set default branch for git review/gerrit.
- Switch tests to stable.
- Switch to using stable charm-helpers branch.
- Switch to using stable charm.openstack branch.
- Switch to using stable zaza, zaza-openstack-tests
  branch
- (reactive charms) Add build.lock file

Change-Id: Ia7e5f57d92c21125604196607cf940fca088c42b
",git fetch https://review.opendev.org/openstack/charm-octavia-dashboard refs/changes/58/838158/1 && git format-patch -1 --stdout FETCH_HEAD,"['.gitreview', 'test-requirements.txt', 'src/wheelhouse.txt', 'charmcraft.yaml', 'src/test-requirements.txt', 'src/build.lock']",6,3a2d83a3befdcbf4beac1163ee801fea77f0c8f1,charm-release-2204,,,29,12
openstack%2Fdevstack~stable%2Fqueens~Ib9896a99b6d6c4d359ee412743ce30512b3c4fb7,openstack/devstack,stable/queens,Ib9896a99b6d6c4d359ee412743ce30512b3c4fb7,Mark our source trees as safe for git to use as other users,MERGED,2022-04-20 10:18:25.000000000,2022-04-20 20:59:52.000000000,2022-04-20 20:59:52.000000000,"[{'_account_id': 4393}, {'_account_id': 5314}, {'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-20 10:18:25.000000000', 'files': ['functions-common', 'unstack.sh'], 'web_link': 'https://opendev.org/openstack/devstack/commit/4da98ee6d48c159be8d48923f189dd923bb17e31', 'message': 'Mark our source trees as safe for git to use as other users\n\ngit commit [1] introduced a new behaviour to work around a CVE that\ndisallows any git operations in directories not owned by the current\nuser.\n\nThis may seem unrelated to installation, but it plays havoc with PBR,\nwhich calls out to git to get to get revision history.  So if you are\n""pip install""-ing from a source tree you don\'t own, the PBR git calls\nin that tree now fail and the install blows up.\n\nThis plays havoc with our model.  Firstly, we checkout all code as\n""stack"" then install it globally with ""sudo"" (i.e. root) -- which\nbreaks.  We also have cases of essentially the opposite -- checkouts\nwe have installed as root, but then run tox in them as a regular user;\ntox wants to install the source in its venv but now we have another\nuser conflict.\n\nThis uses the only available configuration option to avoid that by\nglobally setting the source directories we clone as safe.  This is an\nencroachment of the global system for sure, but is about the only\nswitch available at the moment.  For discussion of other approaches,\nsee [2].\n\nAlso, squashing the below backport which is needed for bionic\n- https://review.opendev.org/q/I941ef5ea90970a0901236afe81c551aaf24ac1d8\n\nRelated-Bug: https://bugs.launchpad.net/devstack/+bug/1968798\n\n[1] https://github.com/git/git/commit/8959555cee7ec045958f9b6dd62e541affb7e7d9\n[2] https://review.opendev.org/c/openstack/devstack/+/837636\n\nChange-Id: Ib9896a99b6d6c4d359ee412743ce30512b3c4fb7\n(cherry picked from commit 676dcaf94487665882be048cfe1f3206d6807e0f)\n(cherry picked from commit a9852abfc5ed7c3faf6a667bdd29a2d6e49bc150)\n(cherry picked from commit 16c57c51a0858ef06c8cf5edbce822831a0fd315)\n(cherry picked from commit c67e7d3bbd15522fc298ed14803c8eda37c21efe)\n(cherry picked from commit 7f1025e932ac4529d2d604f71c6f6027feed8938)\n'}]",2,838682,4da98ee6d48c159be8d48923f189dd923bb17e31,10,4,1,17685,,,0,"Mark our source trees as safe for git to use as other users

git commit [1] introduced a new behaviour to work around a CVE that
disallows any git operations in directories not owned by the current
user.

This may seem unrelated to installation, but it plays havoc with PBR,
which calls out to git to get to get revision history.  So if you are
""pip install""-ing from a source tree you don't own, the PBR git calls
in that tree now fail and the install blows up.

This plays havoc with our model.  Firstly, we checkout all code as
""stack"" then install it globally with ""sudo"" (i.e. root) -- which
breaks.  We also have cases of essentially the opposite -- checkouts
we have installed as root, but then run tox in them as a regular user;
tox wants to install the source in its venv but now we have another
user conflict.

This uses the only available configuration option to avoid that by
globally setting the source directories we clone as safe.  This is an
encroachment of the global system for sure, but is about the only
switch available at the moment.  For discussion of other approaches,
see [2].

Also, squashing the below backport which is needed for bionic
- https://review.opendev.org/q/I941ef5ea90970a0901236afe81c551aaf24ac1d8

Related-Bug: https://bugs.launchpad.net/devstack/+bug/1968798

[1] https://github.com/git/git/commit/8959555cee7ec045958f9b6dd62e541affb7e7d9
[2] https://review.opendev.org/c/openstack/devstack/+/837636

Change-Id: Ib9896a99b6d6c4d359ee412743ce30512b3c4fb7
(cherry picked from commit 676dcaf94487665882be048cfe1f3206d6807e0f)
(cherry picked from commit a9852abfc5ed7c3faf6a667bdd29a2d6e49bc150)
(cherry picked from commit 16c57c51a0858ef06c8cf5edbce822831a0fd315)
(cherry picked from commit c67e7d3bbd15522fc298ed14803c8eda37c21efe)
(cherry picked from commit 7f1025e932ac4529d2d604f71c6f6027feed8938)
",git fetch https://review.opendev.org/openstack/devstack refs/changes/82/838682/1 && git format-patch -1 --stdout FETCH_HEAD,"['functions-common', 'unstack.sh']",2,4da98ee6d48c159be8d48923f189dd923bb17e31,bug/1968798," # Clean any safe.directory items we wrote into the global # gitconfig. We can identify the relevant ones by checking that they # point to somewhere in our $DEST directory. sudo sed -i ""/directory=${DEST}/ d"" /etc/gitconfig",,18,0
openstack%2Fdevstack~stable%2Fpike~Ib9896a99b6d6c4d359ee412743ce30512b3c4fb7,openstack/devstack,stable/pike,Ib9896a99b6d6c4d359ee412743ce30512b3c4fb7,Mark our source trees as safe for git to use as other users,MERGED,2022-04-20 10:18:35.000000000,2022-04-20 20:59:49.000000000,2022-04-20 20:59:49.000000000,"[{'_account_id': 4393}, {'_account_id': 5314}, {'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-20 10:18:35.000000000', 'files': ['functions-common', 'unstack.sh'], 'web_link': 'https://opendev.org/openstack/devstack/commit/a0fab742f1c38a6082e04f958b8367ca4568e5e3', 'message': 'Mark our source trees as safe for git to use as other users\n\ngit commit [1] introduced a new behaviour to work around a CVE that\ndisallows any git operations in directories not owned by the current\nuser.\n\nThis may seem unrelated to installation, but it plays havoc with PBR,\nwhich calls out to git to get to get revision history.  So if you are\n""pip install""-ing from a source tree you don\'t own, the PBR git calls\nin that tree now fail and the install blows up.\n\nThis plays havoc with our model.  Firstly, we checkout all code as\n""stack"" then install it globally with ""sudo"" (i.e. root) -- which\nbreaks.  We also have cases of essentially the opposite -- checkouts\nwe have installed as root, but then run tox in them as a regular user;\ntox wants to install the source in its venv but now we have another\nuser conflict.\n\nThis uses the only available configuration option to avoid that by\nglobally setting the source directories we clone as safe.  This is an\nencroachment of the global system for sure, but is about the only\nswitch available at the moment.  For discussion of other approaches,\nsee [2].\n\nAlso, squashing the below backport which is needed for bionic\n- https://review.opendev.org/q/I941ef5ea90970a0901236afe81c551aaf24ac1d8\n\nRelated-Bug: https://bugs.launchpad.net/devstack/+bug/1968798\n\n[1] https://github.com/git/git/commit/8959555cee7ec045958f9b6dd62e541affb7e7d9\n[2] https://review.opendev.org/c/openstack/devstack/+/837636\n\nChange-Id: Ib9896a99b6d6c4d359ee412743ce30512b3c4fb7\n(cherry picked from commit 676dcaf94487665882be048cfe1f3206d6807e0f)\n(cherry picked from commit a9852abfc5ed7c3faf6a667bdd29a2d6e49bc150)\n(cherry picked from commit 16c57c51a0858ef06c8cf5edbce822831a0fd315)\n(cherry picked from commit c67e7d3bbd15522fc298ed14803c8eda37c21efe)\n(cherry picked from commit 7f1025e932ac4529d2d604f71c6f6027feed8938)\n(cherry picked from commit 4da98ee6d48c159be8d48923f189dd923bb17e31)\n'}]",1,838683,a0fab742f1c38a6082e04f958b8367ca4568e5e3,8,4,1,17685,,,0,"Mark our source trees as safe for git to use as other users

git commit [1] introduced a new behaviour to work around a CVE that
disallows any git operations in directories not owned by the current
user.

This may seem unrelated to installation, but it plays havoc with PBR,
which calls out to git to get to get revision history.  So if you are
""pip install""-ing from a source tree you don't own, the PBR git calls
in that tree now fail and the install blows up.

This plays havoc with our model.  Firstly, we checkout all code as
""stack"" then install it globally with ""sudo"" (i.e. root) -- which
breaks.  We also have cases of essentially the opposite -- checkouts
we have installed as root, but then run tox in them as a regular user;
tox wants to install the source in its venv but now we have another
user conflict.

This uses the only available configuration option to avoid that by
globally setting the source directories we clone as safe.  This is an
encroachment of the global system for sure, but is about the only
switch available at the moment.  For discussion of other approaches,
see [2].

Also, squashing the below backport which is needed for bionic
- https://review.opendev.org/q/I941ef5ea90970a0901236afe81c551aaf24ac1d8

Related-Bug: https://bugs.launchpad.net/devstack/+bug/1968798

[1] https://github.com/git/git/commit/8959555cee7ec045958f9b6dd62e541affb7e7d9
[2] https://review.opendev.org/c/openstack/devstack/+/837636

Change-Id: Ib9896a99b6d6c4d359ee412743ce30512b3c4fb7
(cherry picked from commit 676dcaf94487665882be048cfe1f3206d6807e0f)
(cherry picked from commit a9852abfc5ed7c3faf6a667bdd29a2d6e49bc150)
(cherry picked from commit 16c57c51a0858ef06c8cf5edbce822831a0fd315)
(cherry picked from commit c67e7d3bbd15522fc298ed14803c8eda37c21efe)
(cherry picked from commit 7f1025e932ac4529d2d604f71c6f6027feed8938)
(cherry picked from commit 4da98ee6d48c159be8d48923f189dd923bb17e31)
",git fetch https://review.opendev.org/openstack/devstack refs/changes/83/838683/1 && git format-patch -1 --stdout FETCH_HEAD,"['functions-common', 'unstack.sh']",2,a0fab742f1c38a6082e04f958b8367ca4568e5e3,bug/1968798," # Clean any safe.directory items we wrote into the global # gitconfig. We can identify the relevant ones by checking that they # point to somewhere in our $DEST directory. sudo sed -i ""/directory=${DEST}/ d"" /etc/gitconfig",,18,0
openstack%2Fsushy-oem-idrac~stable%2Fxena~Ia6edd04b3a1170f1353d7c51f1d4b78c767aada6,openstack/sushy-oem-idrac,stable/xena,Ia6edd04b3a1170f1353d7c51f1d4b78c767aada6,"Revert ""Update .gitreview after project rename""",MERGED,2022-04-20 12:12:11.000000000,2022-04-20 20:52:03.000000000,2022-04-20 20:52:03.000000000,"[{'_account_id': 22348}, {'_account_id': 23847}]","[{'number': 1, 'created': '2022-04-20 12:12:11.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/sushy-oem-idrac/commit/8f2428e88bc985bdb6bfa5b604d8d40f95b77cb9', 'message': 'Revert ""Update .gitreview after project rename""\n\nThis reverts commit c1fac82d73bb4a29237887b5a56f1ab3f1a7e23d.\n\nReason for revert: Need to cherry-pick this from master.\n\nChange-Id: Ia6edd04b3a1170f1353d7c51f1d4b78c767aada6\n'}]",1,838693,8f2428e88bc985bdb6bfa5b604d8d40f95b77cb9,6,2,1,27909,,,0,"Revert ""Update .gitreview after project rename""

This reverts commit c1fac82d73bb4a29237887b5a56f1ab3f1a7e23d.

Reason for revert: Need to cherry-pick this from master.

Change-Id: Ia6edd04b3a1170f1353d7c51f1d4b78c767aada6
",git fetch https://review.opendev.org/openstack/sushy-oem-idrac refs/changes/93/838693/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,8f2428e88bc985bdb6bfa5b604d8d40f95b77cb9,project-rename,project=x/sushy-oem-idrac.git,project=openstack/sushy-oem-idrac.git,1,1
openstack%2Fsushy-oem-idrac~stable%2Fyoga~I1e927a6343f5becd53b6f84b73ecf9897883cd25,openstack/sushy-oem-idrac,stable/yoga,I1e927a6343f5becd53b6f84b73ecf9897883cd25,"Revert ""Update .gitreview after project rename""",MERGED,2022-04-20 12:11:57.000000000,2022-04-20 20:49:42.000000000,2022-04-20 20:49:42.000000000,"[{'_account_id': 22348}, {'_account_id': 23847}]","[{'number': 1, 'created': '2022-04-20 12:11:57.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/sushy-oem-idrac/commit/355cfee19b9ba97b3141c163153baf0563b21fc8', 'message': 'Revert ""Update .gitreview after project rename""\n\nThis reverts commit 0f5c085c07892fd1e543e06e26fd1f519fdc9d52.\n\nReason for revert: Need to cherry-pick this from master.\n\nChange-Id: I1e927a6343f5becd53b6f84b73ecf9897883cd25\n'}]",1,838692,355cfee19b9ba97b3141c163153baf0563b21fc8,6,2,1,27909,,,0,"Revert ""Update .gitreview after project rename""

This reverts commit 0f5c085c07892fd1e543e06e26fd1f519fdc9d52.

Reason for revert: Need to cherry-pick this from master.

Change-Id: I1e927a6343f5becd53b6f84b73ecf9897883cd25
",git fetch https://review.opendev.org/openstack/sushy-oem-idrac refs/changes/92/838692/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,355cfee19b9ba97b3141c163153baf0563b21fc8,project-rename,project=x/sushy-oem-idrac.git,project=openstack/sushy-oem-idrac.git,1,1
openstack%2Fsahara~stable%2Fwallaby~I7a4071e52f68fea7d07bad690f8590cbb3fb4fa4,openstack/sahara,stable/wallaby,I7a4071e52f68fea7d07bad690f8590cbb3fb4fa4,Drop tripleo centos-7 scen3 job definition - not used,MERGED,2022-04-15 11:24:33.000000000,2022-04-20 20:33:42.000000000,2022-04-20 20:31:39.000000000,"[{'_account_id': 10459}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-15 11:24:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/83d6479b3fb0ee7277fe719847bcb1d088424896', 'message': ""Move replace centos-7 tripleo scen3 job with centos-8\n\nThis is needed by [1] where this job is being removed. Note\nthat this job as defined will only run for stable/stein [2].\nAlso note that this job doesn't appear to be running anywhere\nit is not wired up in this repo [3] or anywhere else.\n\n[1] https://review.opendev.org/c/openstack/tripleo-ci/+/838110/2#message-2efaca7aaf100874fd6996f18f0e74ae942149c0\n[2] https://opendev.org/openstack/tripleo-ci/src/commit/4daed1b14c582b442f64ec45b1ddba5b58e03986/zuul.d/standalone-jobs.yaml#L476\n[3] https://codesearch.opendev.org/?q=sahara-tripleo-ci-centos-7-scenario003-standalone&i=nope&literal=nope&files=&excludeFiles=&repos=\n\nChange-Id: I7a4071e52f68fea7d07bad690f8590cbb3fb4fa4\n""}, {'number': 2, 'created': '2022-04-20 10:24:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/af0faafaad26a3085d81c3ed17f58727b33444c4', 'message': ""Drop tripleo centos-7 scen3 job definition - not used\n\nThis is needed by [1] where this job is being removed. Note\nthat this job as defined will only run for stable/stein [2].\nAlso note that this job doesn't appear to be running anywhere\nit is not wired up in this repo [3] or anywhere else.\n\n\n[1] https://review.opendev.org/c/openstack/tripleo-ci/+/838110/2#message-2efaca7aaf100874fd6996f18f0e74ae942149c0\n[2] https://opendev.org/openstack/tripleo-ci/src/commit/4daed1b14c582b442f64ec45b1ddba5b58e03986/zuul.d/standalone-jobs.yaml#L476\n[3] https://codesearch.opendev.org/?q=sahara-tripleo-ci-centos-7-scenario003-standalone&i=nope&literal=nope&files=&excludeFiles=&repos=\n\n(cherry-picked from commit daf3d1bdeb927ed3b292370b8d8d25c32e5e5e21)\n\nChange-Id: I7a4071e52f68fea7d07bad690f8590cbb3fb4fa4\n""}, {'number': 3, 'created': '2022-04-20 10:27:46.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/sahara/commit/9b1464df8e376274a1f721ab05201cf84734995f', 'message': ""Drop tripleo centos-7 scen3 job definition - not used\n\nThis is needed by [1] where this job is being removed. Note\nthat this job as defined will only run for stable/stein [2].\nAlso note that this job doesn't appear to be running anywhere\nit is not wired up in this repo [3] or anywhere else.\n\n[1] https://review.opendev.org/c/openstack/tripleo-ci/+/838110/2#message-2efaca7aaf100874fd6996f18f0e74ae942149c0\n[2] https://opendev.org/openstack/tripleo-ci/src/commit/4daed1b14c582b442f64ec45b1ddba5b58e03986/zuul.d/standalone-jobs.yaml#L476\n[3] https://codesearch.opendev.org/?q=sahara-tripleo-ci-centos-7-scenario003-standalone&i=nope&literal=nope&files=&excludeFiles=&repos=\n\n(cherry-picked from commit daf3d1bdeb927ed3b292370b8d8d25c32e5e5e21)\n\nChange-Id: I7a4071e52f68fea7d07bad690f8590cbb3fb4fa4\n""}]",0,838016,9b1464df8e376274a1f721ab05201cf84734995f,10,2,3,8449,,,0,"Drop tripleo centos-7 scen3 job definition - not used

This is needed by [1] where this job is being removed. Note
that this job as defined will only run for stable/stein [2].
Also note that this job doesn't appear to be running anywhere
it is not wired up in this repo [3] or anywhere else.

[1] https://review.opendev.org/c/openstack/tripleo-ci/+/838110/2#message-2efaca7aaf100874fd6996f18f0e74ae942149c0
[2] https://opendev.org/openstack/tripleo-ci/src/commit/4daed1b14c582b442f64ec45b1ddba5b58e03986/zuul.d/standalone-jobs.yaml#L476
[3] https://codesearch.opendev.org/?q=sahara-tripleo-ci-centos-7-scenario003-standalone&i=nope&literal=nope&files=&excludeFiles=&repos=

(cherry-picked from commit daf3d1bdeb927ed3b292370b8d8d25c32e5e5e21)

Change-Id: I7a4071e52f68fea7d07bad690f8590cbb3fb4fa4
",git fetch https://review.opendev.org/openstack/sahara refs/changes/16/838016/3 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,83d6479b3fb0ee7277fe719847bcb1d088424896,, name: sahara-tripleo-ci-centos-8-scenario003-standalone parent: tripleo-ci-centos-8-scenario003-standalone, name: sahara-tripleo-ci-centos-7-scenario003-standalone parent: tripleo-ci-centos-7-scenario003-standalone,2,2
openstack%2Fcinder~master~I3281104d434fa6e64c0f009c0c7a1640564cb861,openstack/cinder,master,I3281104d434fa6e64c0f009c0c7a1640564cb861,WIP: RBD: flatten child volumes on delete,ABANDONED,2022-04-20 16:36:39.000000000,2022-04-20 20:25:31.000000000,,[],"[{'number': 1, 'created': '2022-04-20 16:36:39.000000000', 'files': ['cinder/volume/drivers/rbd.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/81fe8d2b476bb7a0f6c20c3c224e99c80878563a', 'message': 'WIP: RBD: flatten child volumes on delete\n\nWhen deleting an RBD volume, flatten children\nof that RBD image in order to prevent deletion\nfailure due to ImageBusy.\n\nThis fixes the scenario of:\n   Create volume A\n   Create snapshot B of volume A\n   Create cloned volume C from snapshot B\n   Delete snapshot B\n   Delete volume A\n\nFlatten operations are limited to only perform\nX at a time with a lock.\nTODO: make X configurable?\n\nCo-Author: Sofia Enriquez <lsofia.enriquez@gmail.com>\nCloses-Bug: #1969643\nDepends-On: I8daed0824f5ac60877e839265c09217dcce6dd21\n(for testing)\nChange-Id: I009d0748fdc829ca0b4f99bc9b70dadd19717d04\n\nChange-Id: I3281104d434fa6e64c0f009c0c7a1640564cb861\n'}]",0,838757,81fe8d2b476bb7a0f6c20c3c224e99c80878563a,8,0,1,4523,,,0,"WIP: RBD: flatten child volumes on delete

When deleting an RBD volume, flatten children
of that RBD image in order to prevent deletion
failure due to ImageBusy.

This fixes the scenario of:
   Create volume A
   Create snapshot B of volume A
   Create cloned volume C from snapshot B
   Delete snapshot B
   Delete volume A

Flatten operations are limited to only perform
X at a time with a lock.
TODO: make X configurable?

Co-Author: Sofia Enriquez <lsofia.enriquez@gmail.com>
Closes-Bug: #1969643
Depends-On: I8daed0824f5ac60877e839265c09217dcce6dd21
(for testing)
Change-Id: I009d0748fdc829ca0b4f99bc9b70dadd19717d04

Change-Id: I3281104d434fa6e64c0f009c0c7a1640564cb861
",git fetch https://review.opendev.org/openstack/cinder refs/changes/57/838757/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/drivers/rbd.py'],1,81fe8d2b476bb7a0f6c20c3c224e99c80878563a,rbd-wip-1," self._semaphore = utils.semaphore_factory(3, 1) @utils.limit_operations def do_flatten(self, volume_name, pool): LOG.debug('flattening %(pool)s/%(img)s', dict(pool=pool, img=volume_name)) with RBDVolumeProxy(self, volume_name) as vol: try: vol.flatten() except self.rbd.InvalidArgument as e: LOG.debug(e) raise e do_flatten(self, volume_name, pool) rbd_image = self.rbd.Image(client.ioctx, volume_name, read_only=True) # reopen (TODO: close previous?) rbd_image = self.rbd.Image(client.ioctx, read_only=True) children = rbd_image.list_children() if children: LOG.debug(""children: %s"", children) for pool, child_name in children: self._flatten(pool, child_name) self.RBDProxy().remove(client.ioctx, volume_name) else: LOG.debug(""moving volume %s to trash"", volume_name) # When using the RBD v2 clone api, deleting a volume # that has a snapshot in the trash space raises a # busy exception. # In order to solve this, call the trash operation # which should succeed when the volume has # dependencies. self.RBDProxy().trash_move(client.ioctx, volume_name, delay) @utils.retry(rbd.ImageBusy, self.configuration.rados_connection_interval, self.configuration.rados_connection_retries) def do_unprotect_snap(self, volume_name, snap_name): try: with RBDVolumeProxy(self, volume_name) as volume: volume.unprotect_snap(snap_name) except self.rbd.ImageBusy as e: volume.close() with RBDVolumeProxy(self, volume_name) as volume: children_list = self._get_children_info(volume, snap_name) if children_list: for (pool, image) in children_list: LOG.info('Image %(pool)s/%(image)s is dependent ' 'on the snapshot %(snap)s.', {'pool': pool, 'image': image, 'snap': snap_name}) volume.close() self._flatten(pool, image) raise e do_unprotect_snap(self, volume_name, snap_name) try: with RBDVolumeProxy(self, volume_name) as volume: except self.rbd.ImageNotFound: LOG.info(""Snapshot %s does not exist in backend."", snap_name)"," LOG.debug('flattening %(pool)s/%(img)s', dict(pool=pool, img=volume_name)) with RBDVolumeProxy(self, volume_name, pool) as vol: vol.flatten() rbd_image = self.rbd.Image(client.ioctx, volume_name) LOG.debug(""moving volume %s to trash"", volume_name) # When using the RBD v2 clone api, deleting a volume # that has a snapshot in the trash space raises a # busy exception. # In order to solve this, call the trash operation # which should succeed when the volume has # dependencies. self.RBDProxy().trash_move(client.ioctx, delay) with RBDVolumeProxy(self, volume_name) as volume: try: volume.unprotect_snap(snap_name) except self.rbd.ImageBusy: children_list = self._get_children_info(volume, snap_name) if children_list: for (pool, image) in children_list: LOG.info('Image %(pool)s/%(image)s is dependent ' 'on the snapshot %(snap)s.', {'pool': pool, 'image': image, 'snap': snap_name}) try: except self.rbd.ImageNotFound: LOG.info(""Snapshot %s does not exist in backend."", snap_name)",65,29
openstack%2Ftripleo-ansible~master~Ifaad8b5d6d243be1d2fa04ee028435e19b29098f,openstack/tripleo-ansible,master,Ifaad8b5d6d243be1d2fa04ee028435e19b29098f,Define role specific defaults for growvols_args,MERGED,2022-04-12 01:36:53.000000000,2022-04-20 20:10:08.000000000,2022-04-20 20:10:08.000000000,"[{'_account_id': 6796}, {'_account_id': 6968}, {'_account_id': 7353}, {'_account_id': 10459}, {'_account_id': 11655}, {'_account_id': 14345}, {'_account_id': 21129}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2022-04-12 01:36:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/b06c29e9561996c4ff3e8433fa7211e9be063b3d', 'message': 'Define role specific defaults for growvols_args\n\nThe Controller role will sometimes include swift object storage, and\nthe ObjectStorage role always will. This means unless the /srv volume\nis grown it will be too small for swift to store any useful amount of\ndata.\n\nThe node provision tool has no knowledge of the specific services\ndeployed in a role, so it can only set growvols_args default based on\nthe role name. This change makes the default growvols_args role-aware\nso that Controller and ObjectStorage roles grow /srv by enough to be\nuseful.\n\nThe documentation will encourage the deployer to consider actual /var\nand /srv storage requirements (especially for the Controller role) and\nsetting custom growvols_args to reflect that.\n\nIt is impossible to choose defaults which meet all scenarios because\nthere are 3 unknowns (workload requirements for /var and /srv, and the\nsize of the node primary disk) so some discusson of Controller\nrequirements especially is encouraged.\n\nIf /srv or /var are deployed with insufficient space the deployer can\nalways add a second disk and expand the LVM volume into that, so there\nis a mitigation option.\n\nChange-Id: Ifaad8b5d6d243be1d2fa04ee028435e19b29098f\nCloses: rhbz#2066367\n'}, {'number': 2, 'created': '2022-04-13 22:40:44.000000000', 'files': ['tripleo_ansible/playbooks/cli-overcloud-node-growvols.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/7d840f551062f63f1241a1da992137aaeb5f842a', 'message': 'Define role specific defaults for growvols_args\n\nThe Controller role will sometimes include swift object storage, and\nthe ObjectStorage role always will. This means unless the /srv volume\nis grown it will be too small for swift to store any useful amount of\ndata.\n\nThe node provision tool has no knowledge of the specific services\ndeployed in a role, so it can only set growvols_args default based on\nthe role name. This change makes the default growvols_args role-aware\nso that Controller and ObjectStorage roles grow /srv by enough to be\nuseful.\n\nThe documentation will encourage the deployer to consider actual /var\nand /srv storage requirements (especially for the Controller role) and\nsetting custom growvols_args to reflect that.\n\nIt is impossible to choose defaults which meet all scenarios because\nthere are 3 unknowns (workload requirements for /var and /srv, and the\nsize of the node primary disk) so some discusson of Controller\nrequirements especially is encouraged.\n\nIf /srv or /var are deployed with insufficient space the deployer can\nalways add a second disk and expand the LVM volume into that, so there\nis a mitigation option.\n\nChange-Id: Ifaad8b5d6d243be1d2fa04ee028435e19b29098f\nCloses: rhbz#2066367\n'}]",14,837438,7d840f551062f63f1241a1da992137aaeb5f842a,17,10,2,4571,,,0,"Define role specific defaults for growvols_args

The Controller role will sometimes include swift object storage, and
the ObjectStorage role always will. This means unless the /srv volume
is grown it will be too small for swift to store any useful amount of
data.

The node provision tool has no knowledge of the specific services
deployed in a role, so it can only set growvols_args default based on
the role name. This change makes the default growvols_args role-aware
so that Controller and ObjectStorage roles grow /srv by enough to be
useful.

The documentation will encourage the deployer to consider actual /var
and /srv storage requirements (especially for the Controller role) and
setting custom growvols_args to reflect that.

It is impossible to choose defaults which meet all scenarios because
there are 3 unknowns (workload requirements for /var and /srv, and the
size of the node primary disk) so some discusson of Controller
requirements especially is encouraged.

If /srv or /var are deployed with insufficient space the deployer can
always add a second disk and expand the LVM volume into that, so there
is a mitigation option.

Change-Id: Ifaad8b5d6d243be1d2fa04ee028435e19b29098f
Closes: rhbz#2066367
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/38/837438/2 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/playbooks/cli-overcloud-node-growvols.yaml'],1,b06c29e9561996c4ff3e8433fa7211e9be063b3d,role_growvols," role_growvols_args: default: /=8GB /tmp=1GB /var/log=10GB /var/log/audit=2GB /home=1GB /var=100% Controller: /=8GB /tmp=1GB /var/log=10GB /var/log/audit=2GB /home=1GB /var=90% /srv=10% ObjectStorage: /=8GB /tmp=1GB /var/log=10GB /var/log/audit=2GB /home=1GB /var=10% /srv=90% - name: Set growvols_args set_fact: growvols_args: ""{{ role_growvols_args[tripleo_role_name] | default(row_growvols_args['default']) }}"" when: growvols_args is not defined - name: Output growvols_args debug: var: growvols_args var: run_growvols.stdout", growvols_args: > /=8GB /tmp=1GB /var/log=10GB /var/log/audit=2GB /home=1GB /var=100% var: run_growvols.stdout ,35,8
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I5062550306bc131cae3a6b54cf61a6c00f03fbc5,openstack/tripleo-heat-templates,stable/train,I5062550306bc131cae3a6b54cf61a6c00f03fbc5,Correct hieradata for neutron log rate limiting for ovn,MERGED,2022-04-07 09:46:10.000000000,2022-04-20 20:10:05.000000000,2022-04-20 20:10:05.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-04-07 09:46:10.000000000', 'files': ['deployment/neutron/neutron-plugin-ml2-ovn.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/38185bfb39d4962772c1c93b544d4d30c897f90d', 'message': ""Correct hieradata for neutron log rate limiting for ovn\n\nThe hieradata doesn't map to the proper puppet parameters for the OVN\ncase.\n\nConflicts:\n    deployment/neutron/neutron-plugin-ml2-ovn.yaml\n\nChange-Id: I5062550306bc131cae3a6b54cf61a6c00f03fbc5\n(cherry picked from commit f41324444c481d58c6a4e42ed628c50fbf34b3af)\n(cherry picked from commit 2553c59f613f06fe9b61848ef49042dc490a732e)\n""}]",0,836784,38185bfb39d4962772c1c93b544d4d30c897f90d,8,4,1,11975,,,0,"Correct hieradata for neutron log rate limiting for ovn

The hieradata doesn't map to the proper puppet parameters for the OVN
case.

Conflicts:
    deployment/neutron/neutron-plugin-ml2-ovn.yaml

Change-Id: I5062550306bc131cae3a6b54cf61a6c00f03fbc5
(cherry picked from commit f41324444c481d58c6a4e42ed628c50fbf34b3af)
(cherry picked from commit 2553c59f613f06fe9b61848ef49042dc490a732e)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/84/836784/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/neutron/neutron-plugin-ml2-ovn.yaml'],1,38185bfb39d4962772c1c93b544d4d30c897f90d,, - neutron::plugins::ml2::ovn::network_log_rate_limit: {get_param: NeutronOVNLoggingRateLimit} - neutron::plugins::ml2::ovn::network_log_burst_limit: {get_param: NeutronOVNLoggingBurstLimit} - neutron::plugins::ml2::ovn::network_log_local_output_log_base: {get_param: NeutronOVNLoggingLocalOutputLogBase}, - neutron::agents::ml2::ovn::network_log_rate_limit: {get_param: NeutronOVNLoggingRateLimit} - neutron::agents::ml2::ovn::network_log_burst_limit: {get_param: NeutronOVNLoggingBurstLimit} - neutron::agents::ml2::ovn::network_log_local_output_log_base: {get_param: NeutronOVNLoggingLocalOutputLogBase},3,3
openstack%2Fcinder~master~I68426715dfeaffc9677d613e807f7581e41ecf74,openstack/cinder,master,I68426715dfeaffc9677d613e807f7581e41ecf74,WIP: RBD: flatten child volumes on delete,ABANDONED,2022-04-20 16:35:56.000000000,2022-04-20 19:59:34.000000000,,[],"[{'number': 1, 'created': '2022-04-20 16:35:56.000000000', 'files': ['cinder/volume/drivers/rbd.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/57b84a749bf9590ee237c2d37edd7b7a8ee81368', 'message': 'WIP: RBD: flatten child volumes on delete\n\nWhen deleting an RBD volume, flatten children\nof that RBD image in order to prevent deletion\nfailure due to ImageBusy.\n\nThis fixes the scenario of:\n   Create volume A\n   Create snapshot B of volume A\n   Create cloned volume C from snapshot B\n   Delete snapshot B\n   Delete volume A\n\nFlatten operations are limited to only perform\nX at a time with a lock.\nTODO: make X configurable?\n\nCo-Author: Sofia Enriquez <lsofia.enriquez@gmail.com>\nCloses-Bug: #1969643\nDepends-On: I8daed0824f5ac60877e839265c09217dcce6dd21\n(for testing)\nChange-Id: I009d0748fdc829ca0b4f99bc9b70dadd19717d04\n\nChange-Id: I68426715dfeaffc9677d613e807f7581e41ecf74\n'}]",0,838756,57b84a749bf9590ee237c2d37edd7b7a8ee81368,8,0,1,4523,,,0,"WIP: RBD: flatten child volumes on delete

When deleting an RBD volume, flatten children
of that RBD image in order to prevent deletion
failure due to ImageBusy.

This fixes the scenario of:
   Create volume A
   Create snapshot B of volume A
   Create cloned volume C from snapshot B
   Delete snapshot B
   Delete volume A

Flatten operations are limited to only perform
X at a time with a lock.
TODO: make X configurable?

Co-Author: Sofia Enriquez <lsofia.enriquez@gmail.com>
Closes-Bug: #1969643
Depends-On: I8daed0824f5ac60877e839265c09217dcce6dd21
(for testing)
Change-Id: I009d0748fdc829ca0b4f99bc9b70dadd19717d04

Change-Id: I68426715dfeaffc9677d613e807f7581e41ecf74
",git fetch https://review.opendev.org/openstack/cinder refs/changes/56/838756/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/drivers/rbd.py'],1,57b84a749bf9590ee237c2d37edd7b7a8ee81368,rbd-wip-1," self._semaphore = utils.semaphore_factory(3, 1) @utils.limit_operations def do_flatten(self, volume_name, pool): LOG.debug('flattening %(pool)s/%(img)s', dict(pool=pool, img=volume_name)) with RBDVolumeProxy(self, volume_name) as vol: try: vol.flatten() except self.rbd.InvalidArgument as e: LOG.debug(e) raise e do_flatten(self, volume_name, pool) rbd_image = self.rbd.Image(client.ioctx, volume_name, read_only=True) # reopen (TODO: close previous?) rbd_image = self.rbd.Image(client.ioctx, read_only=True) children = rbd_image.list_children() if children: LOG.debug(""children: %s"", children) for pool, child_name in children: self._flatten(pool, child_name) self.RBDProxy().remove(client.ioctx, volume_name) else: LOG.debug(""moving volume %s to trash"", volume_name) # When using the RBD v2 clone api, deleting a volume # that has a snapshot in the trash space raises a # busy exception. # In order to solve this, call the trash operation # which should succeed when the volume has # dependencies. self.RBDProxy().trash_move(client.ioctx, volume_name, delay) @utils.retry(rbd.ImageBusy, self.configuration.rados_connection_interval, self.configuration.rados_connection_retries) def do_unprotect_snap(self, volume_name, snap_name): try: with RBDVolumeProxy(self, volume_name) as volume: volume.unprotect_snap(snap_name) except self.rbd.ImageBusy as e: volume.close() with RBDVolumeProxy(self, volume_name) as volume: children_list = self._get_children_info(volume, snap_name) if children_list: for (pool, image) in children_list: LOG.info('Image %(pool)s/%(image)s is dependent ' 'on the snapshot %(snap)s.', {'pool': pool, 'image': image, 'snap': snap_name}) volume.close() self._flatten(pool, image) raise e do_unprotect_snap(self, volume_name, snap_name) try: with RBDVolumeProxy(self, volume_name) as volume: except self.rbd.ImageNotFound: LOG.info(""Snapshot %s does not exist in backend."", snap_name)"," LOG.debug('flattening %(pool)s/%(img)s', dict(pool=pool, img=volume_name)) with RBDVolumeProxy(self, volume_name, pool) as vol: vol.flatten() rbd_image = self.rbd.Image(client.ioctx, volume_name) LOG.debug(""moving volume %s to trash"", volume_name) # When using the RBD v2 clone api, deleting a volume # that has a snapshot in the trash space raises a # busy exception. # In order to solve this, call the trash operation # which should succeed when the volume has # dependencies. self.RBDProxy().trash_move(client.ioctx, delay) with RBDVolumeProxy(self, volume_name) as volume: try: volume.unprotect_snap(snap_name) except self.rbd.ImageBusy: children_list = self._get_children_info(volume, snap_name) if children_list: for (pool, image) in children_list: LOG.info('Image %(pool)s/%(image)s is dependent ' 'on the snapshot %(snap)s.', {'pool': pool, 'image': image, 'snap': snap_name}) try: except self.rbd.ImageNotFound: LOG.info(""Snapshot %s does not exist in backend."", snap_name)",65,29
openstack%2Fswift~stable%2Fussuri~Ia5857c70e51d8af3e42ecaced95525be578db127,openstack/swift,stable/ussuri,Ia5857c70e51d8af3e42ecaced95525be578db127,Quote paths before sending them to swob.Request.blank,MERGED,2022-04-19 20:08:09.000000000,2022-04-20 18:58:22.000000000,2022-04-20 18:56:58.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-19 20:08:09.000000000', 'files': ['test/unit/common/middleware/test_tempurl.py', 'test/unit/common/test_swob.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/ffcb1ff0016e7dde1d32dedad92091a132d0f88d', 'message': ""Quote paths before sending them to swob.Request.blank\n\nFollowing the fix for https://bugs.python.org/issue43882, our py39 unit\ntests started failing. This was because swob.Request.blank calls\nstdlib's urlparse, which now strips out newlines. Since Request.blank\n*also* always unquotes, just make sure we always quote the newlines we\nwant to use while testing.\n\nChange-Id: Ia5857c70e51d8af3e42ecaced95525be578db127\n(cherry picked from commit 2b5853f4196e4e3725d1ab55ae7528c41b180a58)\n""}]",3,838588,ffcb1ff0016e7dde1d32dedad92091a132d0f88d,14,2,1,15343,,,0,"Quote paths before sending them to swob.Request.blank

Following the fix for https://bugs.python.org/issue43882, our py39 unit
tests started failing. This was because swob.Request.blank calls
stdlib's urlparse, which now strips out newlines. Since Request.blank
*also* always unquotes, just make sure we always quote the newlines we
want to use while testing.

Change-Id: Ia5857c70e51d8af3e42ecaced95525be578db127
(cherry picked from commit 2b5853f4196e4e3725d1ab55ae7528c41b180a58)
",git fetch https://review.opendev.org/openstack/swift refs/changes/88/838588/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/common/middleware/test_tempurl.py', 'test/unit/common/test_swob.py']",2,ffcb1ff0016e7dde1d32dedad92091a132d0f88d,," self.assertIn(hacker, req.environ['PATH_INFO']) # sanity check _test_split_path('o%0an e', 2) _test_split_path('o%0an e', 2, 3, True)"," req = swob.Request.blank('/v1/' + hacker) resp = req.get_response(test_app) self.assertEqual(resp.status_int, 401) self.assertTrue('Www-Authenticate' in resp.headers) self.assertEqual('Swift realm=""%s""' % quoted_hacker, resp.headers['Www-Authenticate']) _test_split_path('o\nn e', 2) _test_split_path('o\nn e', 2, 3, True)",5,10
openstack%2Frequirements~stable%2Fwallaby~I38b8bbca61f519929ac8625360ea4f10ca75974d,openstack/requirements,stable/wallaby,I38b8bbca61f519929ac8625360ea4f10ca75974d,Bump diskimage-builder version due CVE-2022-24765,MERGED,2022-04-20 14:41:56.000000000,2022-04-20 18:56:55.000000000,2022-04-20 18:56:55.000000000,"[{'_account_id': 14200}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-20 14:41:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/c5304d540401f0e8fe40febbd81ae6415d9655a6', 'message': 'Bump diskimage-builder version due CVE-2022-24765\n\nThe new git version released with security fix [1] for all current\nUbuntu Linux releases [2] [3] [4] which breaks current deployments.\nThe diskimage-builder bumped the latest 3.20.3 with the fix.\n\n1. https://github.blog/2022-04-12-git-security-vulnerability-announced\n2. http://changelogs.ubuntu.com/changelogs/pool/main/g/git/git_2.17.1-1ubuntu0.10/changelog\n3. http://changelogs.ubuntu.com/changelogs/pool/main/g/git/git_2.25.1-1ubuntu3.3/changelog\n4. http://changelogs.ubuntu.com/changelogs/pool/main/g/git/git_2.32.0-1ubuntu1.1/changelog\n\nChange-Id: I38b8bbca61f519929ac8625360ea4f10ca75974d\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n(cherry picked from commit 53a2f8d4dd986cb5547b5ba48fe3765e654c246d)\n(cherry picked from commit 91561fd4e3776b6f56677e370693760a9dbe3cf5)\n'}, {'number': 2, 'created': '2022-04-20 15:05:04.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/cfeb523c8510d50e69d2150b27d89c999fc9263a', 'message': 'Bump diskimage-builder version due CVE-2022-24765\n\nThe new git version released with security fix [1] for all current\nUbuntu Linux releases [2] [3] [4] which breaks current deployments.\nThe diskimage-builder bumped the latest 3.20.3 with the fix.\n\n1. https://github.blog/2022-04-12-git-security-vulnerability-announced\n2. http://changelogs.ubuntu.com/changelogs/pool/main/g/git/git_2.17.1-1ubuntu0.10/changelog\n3. http://changelogs.ubuntu.com/changelogs/pool/main/g/git/git_2.25.1-1ubuntu3.3/changelog\n4. http://changelogs.ubuntu.com/changelogs/pool/main/g/git/git_2.32.0-1ubuntu1.1/changelog\n\nChange-Id: I38b8bbca61f519929ac8625360ea4f10ca75974d\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n(cherry picked from commit 53a2f8d4dd986cb5547b5ba48fe3765e654c246d)\n'}]",6,838735,cfeb523c8510d50e69d2150b27d89c999fc9263a,15,3,2,29244,,,0,"Bump diskimage-builder version due CVE-2022-24765

The new git version released with security fix [1] for all current
Ubuntu Linux releases [2] [3] [4] which breaks current deployments.
The diskimage-builder bumped the latest 3.20.3 with the fix.

1. https://github.blog/2022-04-12-git-security-vulnerability-announced
2. http://changelogs.ubuntu.com/changelogs/pool/main/g/git/git_2.17.1-1ubuntu0.10/changelog
3. http://changelogs.ubuntu.com/changelogs/pool/main/g/git/git_2.25.1-1ubuntu3.3/changelog
4. http://changelogs.ubuntu.com/changelogs/pool/main/g/git/git_2.32.0-1ubuntu1.1/changelog

Change-Id: I38b8bbca61f519929ac8625360ea4f10ca75974d
Signed-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>
(cherry picked from commit 53a2f8d4dd986cb5547b5ba48fe3765e654c246d)
",git fetch https://review.opendev.org/openstack/requirements refs/changes/35/838735/2 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,c5304d540401f0e8fe40febbd81ae6415d9655a6,cve-2022-24765,diskimage-builder===3.20.3,,1,0
openstack%2Faodh~master~I4b6815bad979e19bda2d59ac37c51f592dc385e8,openstack/aodh,master,I4b6815bad979e19bda2d59ac37c51f592dc385e8,Remove unnecessary unicode prefixes,MERGED,2022-04-20 10:11:41.000000000,2022-04-20 18:56:38.000000000,2022-04-20 18:54:45.000000000,"[{'_account_id': 4264}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-20 10:11:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/aodh/commit/f6f8d3289af2d9fcdde7854c28b0c5f267302538', 'message': 'Remove unnecessary unicode prefixes\n\nChange-Id: I4b6815bad979e19bda2d59ac37c51f592dc385e8\n'}, {'number': 2, 'created': '2022-04-20 10:29:37.000000000', 'files': ['aodh/tests/functional/api/v2/test_alarm_scenarios.py', 'doc/source/conf.py', 'doc/source/admin/telemetry-alarms.rst', 'aodh/tests/unit/test_coordination.py', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/aodh/commit/ddf12d559d012015d4b3d35dc0f7e4aac4660807', 'message': 'Remove unnecessary unicode prefixes\n\nChange-Id: I4b6815bad979e19bda2d59ac37c51f592dc385e8\n'}]",1,838676,ddf12d559d012015d4b3d35dc0f7e4aac4660807,9,2,2,28522,,,0,"Remove unnecessary unicode prefixes

Change-Id: I4b6815bad979e19bda2d59ac37c51f592dc385e8
",git fetch https://review.opendev.org/openstack/aodh refs/changes/76/838676/2 && git format-patch -1 --stdout FETCH_HEAD,"['aodh/tests/functional/api/v2/test_alarm_scenarios.py', 'doc/source/admin/telemetry-alarms.rst', 'doc/source/conf.py', 'aodh/tests/unit/test_coordination.py', 'releasenotes/source/conf.py']",5,f6f8d3289af2d9fcdde7854c28b0c5f267302538,,"copyright = '2015, Aodh Developers' ('index', 'AodhReleaseNotes.tex', 'Aodh Release Notes Documentation', 'Aodh Developers', 'manual'), ('index', 'aodhreleasenotes', 'Aodh Release Notes Documentation', ['Aodh Developers'], 1) ('index', 'AodhReleaseNotes', 'Aodh Release Notes Documentation', 'Aodh Developers', 'AodhReleaseNotes',","copyright = u'2015, Aodh Developers' ('index', 'AodhReleaseNotes.tex', u'Aodh Release Notes Documentation', u'Aodh Developers', 'manual'), ('index', 'aodhreleasenotes', u'Aodh Release Notes Documentation', [u'Aodh Developers'], 1) ('index', 'AodhReleaseNotes', u'Aodh Release Notes Documentation', u'Aodh Developers', 'AodhReleaseNotes',",31,31
openstack%2Fneutron-lib~master~I30886d313ea14d36f44e0ab2278cb2b751ca4d19,openstack/neutron-lib,master,I30886d313ea14d36f44e0ab2278cb2b751ca4d19,"Add ""neutron-tempest-plugin-jobs"" to CI",MERGED,2022-04-12 16:01:47.000000000,2022-04-20 18:23:28.000000000,2022-04-20 18:21:08.000000000,"[{'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 32586}]","[{'number': 1, 'created': '2022-04-12 16:01:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/0f40e08af47908fe2e1df7f54f8a04227f1d2f62', 'message': 'Add ""neutron-tempest-plugin-api"" to CI\n\nThis template adds the following jobs to the CI:\n- neutron-tempest-plugin-api\n- neutron-tempest-plugin-scenario-linuxbridge\n- neutron-tempest-plugin-scenario-openvswitch\n- neutron-tempest-plugin-scenario-openvswitch-iptables_hybrid\n- neutron-tempest-plugin-scenario-ovn\n- neutron-tempest-plugin-designate-scenario\n\nThe aim of this patch is to improve the CI testing\nwithout manually calling these jobs.\n\nChange-Id: I30886d313ea14d36f44e0ab2278cb2b751ca4d19\n'}, {'number': 2, 'created': '2022-04-12 17:34:49.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/8448eabfe08c6b5a157d448c31a5494a773bdb98', 'message': 'Add ""neutron-tempest-plugin-jobs"" to CI\n\nThis template adds the following jobs to the CI:\n- neutron-tempest-plugin-api\n- neutron-tempest-plugin-scenario-linuxbridge\n- neutron-tempest-plugin-scenario-openvswitch\n- neutron-tempest-plugin-scenario-openvswitch-iptables_hybrid\n- neutron-tempest-plugin-scenario-ovn\n- neutron-tempest-plugin-designate-scenario\n\nThe aim of this patch is to improve the CI testing\nwithout manually calling these jobs.\n\nChange-Id: I30886d313ea14d36f44e0ab2278cb2b751ca4d19\n'}]",6,837590,8448eabfe08c6b5a157d448c31a5494a773bdb98,22,5,2,16688,,,0,"Add ""neutron-tempest-plugin-jobs"" to CI

This template adds the following jobs to the CI:
- neutron-tempest-plugin-api
- neutron-tempest-plugin-scenario-linuxbridge
- neutron-tempest-plugin-scenario-openvswitch
- neutron-tempest-plugin-scenario-openvswitch-iptables_hybrid
- neutron-tempest-plugin-scenario-ovn
- neutron-tempest-plugin-designate-scenario

The aim of this patch is to improve the CI testing
without manually calling these jobs.

Change-Id: I30886d313ea14d36f44e0ab2278cb2b751ca4d19
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/90/837590/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,0f40e08af47908fe2e1df7f54f8a04227f1d2f62,add_tempest_ci_template, - neutron-tempest-plugin-jobs, - neutron-tempest-plugin-api - neutron-tempest-plugin-api,1,2
openstack%2Fcharm-ironic-conductor~stable%2Fyoga~I09a835be66cc98561560f1c97b4b7a39bf53603d,openstack/charm-ironic-conductor,stable/yoga,I09a835be66cc98561560f1c97b4b7a39bf53603d,Updates for stable branch creation,MERGED,2022-04-15 10:48:13.000000000,2022-04-20 18:00:00.000000000,2022-04-20 18:00:00.000000000,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-15 10:48:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ironic-conductor/commit/2390829e61e6113450929d27f41116e4109e74d8', 'message': 'Updates for stable branch creation\n\n- Set default branch for git review/gerrit.\n- Switch tests to stable.\n- Switch to using stable charm-helpers branch.\n- Switch to using stable charm.openstack branch.\n- Switch to using stable zaza, zaza-openstack-tests\n  branch\n- (reactive charms) Add build.lock file\n\nChange-Id: I09a835be66cc98561560f1c97b4b7a39bf53603d\n'}, {'number': 2, 'created': '2022-04-20 12:55:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ironic-conductor/commit/b05242cdecfe94e1d4593479523a146b74eccc11', 'message': 'Updates for stable branch creation\n\n- Set default branch for git review/gerrit.\n- Switch tests to stable.\n- Switch to using stable charm-helpers branch.\n- Switch to using stable charm.openstack branch.\n- Switch to using stable zaza, zaza-openstack-tests\n  branch\n- (reactive charms) Add build.lock file\n\nChange-Id: I09a835be66cc98561560f1c97b4b7a39bf53603d\n'}, {'number': 3, 'created': '2022-04-20 12:57:00.000000000', 'files': ['.gitreview', 'test-requirements.txt', 'src/wheelhouse.txt', 'src/test-requirements.txt', 'src/build.lock'], 'web_link': 'https://opendev.org/openstack/charm-ironic-conductor/commit/dab3123304d01ba7aa0975bffaaf7369e82861ac', 'message': 'Updates for stable branch creation\n\n- Set default branch for git review/gerrit.\n- Switch tests to stable.\n- Switch to using stable charm-helpers branch.\n- Switch to using stable charm.openstack branch.\n- Switch to using stable zaza, zaza-openstack-tests\n  branch\n- (reactive charms) Add build.lock file\n\nChange-Id: I09a835be66cc98561560f1c97b4b7a39bf53603d\n'}]",5,838132,dab3123304d01ba7aa0975bffaaf7369e82861ac,18,3,3,20870,,,0,"Updates for stable branch creation

- Set default branch for git review/gerrit.
- Switch tests to stable.
- Switch to using stable charm-helpers branch.
- Switch to using stable charm.openstack branch.
- Switch to using stable zaza, zaza-openstack-tests
  branch
- (reactive charms) Add build.lock file

Change-Id: I09a835be66cc98561560f1c97b4b7a39bf53603d
",git fetch https://review.opendev.org/openstack/charm-ironic-conductor refs/changes/32/838132/1 && git format-patch -1 --stdout FETCH_HEAD,"['.gitreview', 'test-requirements.txt', 'ironic-conductor.charm', 'src/wheelhouse.txt', 'src/test-requirements.txt', 'src/build.lock']",6,2390829e61e6113450929d27f41116e4109e74d8,charm-release-2204,"{ ""locks"": [ { ""type"": ""layer"", ""item"": ""layer:leadership"", ""url"": ""https://git.launchpad.net/layer-leadership"", ""vcs"": null, ""branch"": ""refs/heads/master"", ""commit"": ""cc5bd3f49b2fa5e6c3ab2336763c313ec8bf083f"" }, { ""type"": ""layer"", ""item"": ""layer:options"", ""url"": ""https://github.com/juju-solutions/layer-options.git"", ""vcs"": null, ""branch"": ""refs/heads/master"", ""commit"": ""fcdcea4e5de3e1556c24e6704607862d0ba00a56"" }, { ""type"": ""layer"", ""item"": ""layer:basic"", ""url"": ""https://github.com/juju-solutions/layer-basic.git"", ""vcs"": null, ""branch"": ""refs/heads/master"", ""commit"": ""fb767dcf0786d1d5364199bb3b40bdc86518b45b"" }, { ""type"": ""layer"", ""item"": ""layer:openstack"", ""url"": ""https://github.com/openstack/charm-layer-openstack"", ""vcs"": null, ""branch"": ""refs/heads/master"", ""commit"": ""e0f700eacb026235e1a04e7cbc28dfbe9d4e4520"" }, { ""type"": ""layer"", ""item"": ""layer:openstack-principle"", ""url"": ""https://github.com/openstack/charm-layer-openstack-principle"", ""vcs"": null, ""branch"": ""refs/heads/master"", ""commit"": ""2541283a7f9c3fa923c0fccd7257e217e11dadcd"" }, { ""type"": ""layer"", ""item"": ""ironic-conductor"", ""url"": null, ""vcs"": null, ""branch"": ""refs/heads/stable/yoga\nrefs/heads/yoga-updates"", ""commit"": ""refs/heads/stable/yoga\nrefs/heads/yoga-updates"" }, { ""type"": ""layer"", ""item"": ""interface:tls-certificates"", ""url"": ""https://github.com/juju-solutions/interface-tls-certificates"", ""vcs"": null, ""branch"": ""refs/heads/master"", ""commit"": ""d9850016d930a6d507b9fd45e2598d327922b140"" }, { ""type"": ""layer"", ""item"": ""interface:mysql-shared"", ""url"": ""https://github.com/openstack/charm-interface-mysql-shared"", ""vcs"": null, ""branch"": ""refs/heads/master"", ""commit"": ""f90f8c6edce21e4da3a872f0f9d6761730ce025d"" }, { ""type"": ""layer"", ""item"": ""interface:rabbitmq"", ""url"": ""https://github.com/openstack/charm-interface-rabbitmq"", ""vcs"": null, ""branch"": ""refs/heads/master"", ""commit"": ""383121fc584d2d3bf9d233eba0d3708398a4c468"" }, { ""type"": ""layer"", ""item"": ""interface:keystone-credentials"", ""url"": ""https://github.com/openstack/charm-interface-keystone-credentials"", ""vcs"": null, ""branch"": ""refs/heads/master"", ""commit"": ""53e93b8820899f2251d207ed5d5c3b212ceb64de"" }, { ""type"": ""layer"", ""item"": ""interface:ironic-api"", ""url"": ""https://opendev.org/openstack/charm-interface-ironic-api.git"", ""vcs"": null, ""branch"": ""refs/heads/master"", ""commit"": ""945ba01c692be7a160eb92dce53b0f3dcd558441"" }, { ""type"": ""python_module"", ""package"": ""warlock"", ""vcs"": null, ""version"": ""1.3.3"" }, { ""type"": ""python_module"", ""package"": ""keystoneauth1"", ""vcs"": null, ""version"": ""4.5.0"" }, { ""type"": ""python_module"", ""package"": ""flit_core"", ""vcs"": null, ""version"": ""3.7.1"" }, { ""type"": ""python_module"", ""package"": ""oslo.i18n"", ""vcs"": null, ""version"": ""5.1.0"" }, { ""type"": ""python_module"", ""package"": ""jsonpointer"", ""vcs"": null, ""version"": ""2.3"" }, { ""type"": ""python_module"", ""package"": ""wheel"", ""vcs"": null, ""version"": ""0.37.1"" }, { ""type"": ""python_module"", ""package"": ""pyrsistent"", ""vcs"": null, ""version"": ""0.17.3"" }, { ""type"": ""python_module"", ""package"": ""setuptools_scm"", ""vcs"": null, ""version"": ""3.4.1"" }, { ""type"": ""python_module"", ""package"": ""certifi"", ""vcs"": null, ""version"": ""2021.10.8"" }, { ""type"": ""python_module"", ""package"": ""pycparser"", ""vcs"": null, ""version"": ""2.21"" }, { ""type"": ""python_module"", ""package"": ""importlib_metadata"", ""vcs"": null, ""version"": ""2.1.3"" }, { ""type"": ""python_module"", ""package"": ""python-keystoneclient"", ""vcs"": null, ""version"": ""4.4.0"" }, { ""type"": ""python_module"", ""package"": ""urllib3"", ""vcs"": null, ""version"": ""1.26.9"" }, { ""type"": ""python_module"", ""package"": ""wcwidth"", ""vcs"": null, ""version"": ""0.2.5"" }, { ""type"": ""python_module"", ""package"": ""pyparsing"", ""vcs"": null, ""version"": ""3.0.8"" }, { ""type"": ""python_module"", ""package"": ""debtcollector"", ""vcs"": null, ""version"": ""2.5.0"" }, { ""type"": ""python_module"", ""package"": ""python-swiftclient"", ""vcs"": null, ""version"": ""3.13.1"" }, { ""type"": ""python_module"", ""package"": ""six"", ""vcs"": null, ""version"": ""1.16.0"" }, { ""type"": ""python_module"", ""package"": ""requests"", ""vcs"": null, ""version"": ""2.27.1"" }, { ""type"": ""python_module"", ""package"": ""prettytable"", ""vcs"": null, ""version"": ""3.2.0"" }, { ""type"": ""python_module"", ""package"": ""attrs"", ""vcs"": null, ""version"": ""21.4.0"" }, { ""type"": ""python_module"", ""package"": ""oslo.serialization"", ""vcs"": null, ""version"": ""4.3.0"" }, { ""type"": ""python_module"", ""package"": ""zipp"", ""vcs"": null, ""version"": ""1.2.0"" }, { ""type"": ""python_module"", ""package"": ""iso8601"", ""vcs"": null, ""version"": ""0.1.16"" }, { ""type"": ""python_module"", ""package"": ""charmhelpers"", ""url"": ""git+https://github.com/juju/charm-helpers.git"", ""branch"": ""refs/heads/stable/yoga"", ""version"": ""971ac5117c96bd1cb4a6a520787e4509564da582"", ""vcs"": ""git"" }, { ""type"": ""python_module"", ""package"": ""jsonpatch"", ""vcs"": null, ""version"": ""1.32"" }, { ""type"": ""python_module"", ""package"": ""MarkupSafe"", ""vcs"": null, ""version"": ""2.1.1"" }, { ""type"": ""python_module"", ""package"": ""dnspython"", ""vcs"": null, ""version"": ""1.16.0"" }, { ""type"": ""python_module"", ""package"": ""pyOpenSSL"", ""vcs"": null, ""version"": ""21.0.0"" }, { ""type"": ""python_module"", ""package"": ""pip"", ""vcs"": null, ""version"": ""22.0.4"" }, { ""type"": ""python_module"", ""package"": ""Jinja2"", ""vcs"": null, ""version"": ""3.1.1"" }, { ""type"": ""python_module"", ""package"": ""wrapt"", ""vcs"": null, ""version"": ""1.14.0"" }, { ""type"": ""python_module"", ""package"": ""oslo.config"", ""vcs"": null, ""version"": ""8.8.0"" }, { ""type"": ""python_module"", ""package"": ""netifaces"", ""vcs"": null, ""version"": ""0.11.0"" }, { ""type"": ""python_module"", ""package"": ""pyaml"", ""vcs"": null, ""version"": ""21.10.1"" }, { ""type"": ""python_module"", ""package"": ""cryptography"", ""vcs"": null, ""version"": ""3.3.2"" }, { ""type"": ""python_module"", ""package"": ""rfc3986"", ""vcs"": null, ""version"": ""2.0.0"" }, { ""type"": ""python_module"", ""package"": ""pbr"", ""vcs"": null, ""version"": ""5.8.1"" }, { ""type"": ""python_module"", ""package"": ""charms.openstack"", ""url"": ""git+https://github.com/openstack/charms.openstack.git"", ""branch"": ""refs/heads/stable/yoga"", ""version"": ""13ef220ce3529fa7b8e11c6e4c5b352d05b6f148"", ""vcs"": ""git"" }, { ""type"": ""python_module"", ""package"": ""toml"", ""vcs"": null, ""version"": ""0.10.2"" }, { ""type"": ""python_module"", ""package"": ""PyYAML"", ""vcs"": null, ""version"": ""5.3.1"" }, { ""type"": ""python_module"", ""package"": ""pytz"", ""vcs"": null, ""version"": ""2022.1"" }, { ""type"": ""python_module"", ""package"": ""netaddr"", ""vcs"": null, ""version"": ""0.7.19"" }, { ""type"": ""python_module"", ""package"": ""psutil"", ""vcs"": null, ""version"": ""5.9.0"" }, { ""type"": ""python_module"", ""package"": ""charset-normalizer"", ""vcs"": null, ""version"": ""2.0.12"" }, { ""type"": ""python_module"", ""package"": ""msgpack"", ""vcs"": null, ""version"": ""1.0.3"" }, { ""type"": ""python_module"", ""package"": ""stevedore"", ""vcs"": null, ""version"": ""3.5.0"" }, { ""type"": ""python_module"", ""package"": ""jsonschema"", ""vcs"": null, ""version"": ""3.2.0"" }, { ""type"": ""python_module"", ""package"": ""importlib_resources"", ""vcs"": null, ""version"": ""2.0.1"" }, { ""type"": ""python_module"", ""package"": ""idna"", ""vcs"": null, ""version"": ""3.3"" }, { ""type"": ""python_module"", ""package"": ""python-glanceclient"", ""vcs"": null, ""version"": ""3.6.0"" }, { ""type"": ""python_module"", ""package"": ""packaging"", ""vcs"": null, ""version"": ""21.3"" }, { ""type"": ""python_module"", ""package"": ""charms.reactive"", ""vcs"": null, ""version"": ""1.5.0"" }, { ""type"": ""python_module"", ""package"": ""setuptools"", ""vcs"": null, ""version"": ""62.1.0"" }, { ""type"": ""python_module"", ""package"": ""cffi"", ""vcs"": null, ""version"": ""1.15.0"" }, { ""type"": ""python_module"", ""package"": ""os-service-types"", ""vcs"": null, ""version"": ""1.7.0"" }, { ""type"": ""python_module"", ""package"": ""Tempita"", ""vcs"": null, ""version"": ""0.4"" }, { ""type"": ""python_module"", ""package"": ""oslo.utils"", ""vcs"": null, ""version"": ""4.12.2"" } ] }",,451,5
openstack%2Fnova~stable%2Fvictoria~Id8dd11dc45bfc090b966ead0c69e46a17154dadb,openstack/nova,stable/victoria,Id8dd11dc45bfc090b966ead0c69e46a17154dadb,Remove self.server dependency form _evacuate_server,NEW,2021-05-14 13:31:31.000000000,2022-04-20 17:59:29.000000000,,"[{'_account_id': 8864}, {'_account_id': 9708}, {'_account_id': 11604}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-14 13:31:31.000000000', 'files': ['nova/tests/functional/integrated_helpers.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/e4d17926008209a1c79983b01d5405682b77bd3e', 'message': 'Remove self.server dependency form _evacuate_server\n\nThis has not been caused trouble yet as the only caller called it with\nself.server anyhow.\n\nChange-Id: Id8dd11dc45bfc090b966ead0c69e46a17154dadb\n(cherry picked from commit 1f0641854904417f018cb5746bfcb6a62d1d6bc1)\n'}]",0,791480,e4d17926008209a1c79983b01d5405682b77bd3e,4,4,1,10135,,,0,"Remove self.server dependency form _evacuate_server

This has not been caused trouble yet as the only caller called it with
self.server anyhow.

Change-Id: Id8dd11dc45bfc090b966ead0c69e46a17154dadb
(cherry picked from commit 1f0641854904417f018cb5746bfcb6a62d1d6bc1)
",git fetch https://review.opendev.org/openstack/nova refs/changes/80/791480/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/integrated_helpers.py'],1,e4d17926008209a1c79983b01d5405682b77bd3e,," server, {'OS-EXT-SRV-ATTR:host': host, 'status': expected_state})"," self.server, {'OS-EXT-SRV-ATTR:host': host, 'status': expected_state})",1,2
openstack%2Fcharm-aodh~stable%2Fyoga~If43df1f329021469a8ad74f827d3f1976cc937e6,openstack/charm-aodh,stable/yoga,If43df1f329021469a8ad74f827d3f1976cc937e6,Updates for stable branch creation,MERGED,2022-04-15 10:41:48.000000000,2022-04-20 17:57:08.000000000,2022-04-20 17:57:08.000000000,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-15 10:41:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-aodh/commit/18a4157304fd63b5aedd3391b9a096dca063d5dd', 'message': 'Updates for stable branch creation\n\n- Set default branch for git review/gerrit.\n- Switch tests to stable.\n- Switch to using stable charm-helpers branch.\n- Switch to using stable charm.openstack branch.\n- Switch to using stable zaza, zaza-openstack-tests\n  branch\n- (reactive charms) Add build.lock file\n\nChange-Id: If43df1f329021469a8ad74f827d3f1976cc937e6\n'}, {'number': 2, 'created': '2022-04-18 19:20:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-aodh/commit/0fc36ec0ba6eaafe78103d6698af3b62ea8a5943', 'message': 'Updates for stable branch creation\n\n- Set default branch for git review/gerrit.\n- Switch tests to stable.\n- Switch to using stable charm-helpers branch.\n- Switch to using stable charm.openstack branch.\n- Switch to using stable zaza, zaza-openstack-tests\n  branch\n- (reactive charms) Add build.lock file\n\nChange-Id: If43df1f329021469a8ad74f827d3f1976cc937e6\n'}, {'number': 3, 'created': '2022-04-18 19:22:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-aodh/commit/d14da91e0dd37bcc586432b3fb2f647583a55688', 'message': 'Updates for stable branch creation\n\n- Set default branch for git review/gerrit.\n- Switch tests to stable.\n- Switch to using stable charm-helpers branch.\n- Switch to using stable charm.openstack branch.\n- Switch to using stable zaza, zaza-openstack-tests\n  branch\n- (reactive charms) Add build.lock file\n\nChange-Id: If43df1f329021469a8ad74f827d3f1976cc937e6\n'}, {'number': 4, 'created': '2022-04-19 15:28:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-aodh/commit/ca7d7ee74b6dac21411c395b77e33270cd96afd9', 'message': 'Updates for stable branch creation\n\n- Set default branch for git review/gerrit.\n- Switch tests to stable.\n- Switch to using stable charm-helpers branch.\n- Switch to using stable charm.openstack branch.\n- Switch to using stable zaza, zaza-openstack-tests\n  branch\n- (reactive charms) Add build.lock file\n\nChange-Id: If43df1f329021469a8ad74f827d3f1976cc937e6\n'}, {'number': 5, 'created': '2022-04-20 15:07:18.000000000', 'files': ['.gitignore', '.gitreview', 'test-requirements.txt', 'src/wheelhouse.txt', 'charmcraft.yaml', 'src/test-requirements.txt', 'src/build.lock'], 'web_link': 'https://opendev.org/openstack/charm-aodh/commit/24dbbb25357d55e8a02b22b5a53fa98ca2b21cce', 'message': 'Updates for stable branch creation\n\n- Set default branch for git review/gerrit.\n- Switch tests to stable.\n- Switch to using stable charm-helpers branch.\n- Switch to using stable charm.openstack branch.\n- Switch to using stable zaza, zaza-openstack-tests\n  branch\n- (reactive charms) Add build.lock file\n\nChange-Id: If43df1f329021469a8ad74f827d3f1976cc937e6\n'}]",5,838112,24dbbb25357d55e8a02b22b5a53fa98ca2b21cce,22,3,5,20870,,,0,"Updates for stable branch creation

- Set default branch for git review/gerrit.
- Switch tests to stable.
- Switch to using stable charm-helpers branch.
- Switch to using stable charm.openstack branch.
- Switch to using stable zaza, zaza-openstack-tests
  branch
- (reactive charms) Add build.lock file

Change-Id: If43df1f329021469a8ad74f827d3f1976cc937e6
",git fetch https://review.opendev.org/openstack/charm-aodh refs/changes/12/838112/4 && git format-patch -1 --stdout FETCH_HEAD,"['.gitreview', 'test-requirements.txt', 'src/wheelhouse.txt', 'aodh.charm', 'src/test-requirements.txt', 'src/build.lock']",6,18a4157304fd63b5aedd3391b9a096dca063d5dd,charm-release-2204,"{ ""locks"": [ { ""type"": ""layer"", ""item"": ""layer:options"", ""url"": ""https://github.com/juju-solutions/layer-options.git"", ""vcs"": null, ""branch"": ""refs/heads/master"", ""commit"": ""fcdcea4e5de3e1556c24e6704607862d0ba00a56"" }, { ""type"": ""layer"", ""item"": ""layer:basic"", ""url"": ""https://github.com/juju-solutions/layer-basic.git"", ""vcs"": null, ""branch"": ""refs/heads/master"", ""commit"": ""fb767dcf0786d1d5364199bb3b40bdc86518b45b"" }, { ""type"": ""layer"", ""item"": ""layer:openstack"", ""url"": ""https://github.com/openstack/charm-layer-openstack"", ""vcs"": null, ""branch"": ""refs/heads/master"", ""commit"": ""e0f700eacb026235e1a04e7cbc28dfbe9d4e4520"" }, { ""type"": ""layer"", ""item"": ""layer:openstack-principle"", ""url"": ""https://github.com/openstack/charm-layer-openstack-principle"", ""vcs"": null, ""branch"": ""refs/heads/master"", ""commit"": ""2541283a7f9c3fa923c0fccd7257e217e11dadcd"" }, { ""type"": ""layer"", ""item"": ""layer:openstack-api"", ""url"": ""https://github.com/openstack/charm-layer-openstack-api"", ""vcs"": null, ""branch"": ""refs/heads/master"", ""commit"": ""34311a62e963d0ce903b7ddb9d70b8f071f71651"" }, { ""type"": ""layer"", ""item"": ""aodh"", ""url"": null, ""vcs"": null, ""branch"": ""refs/heads/stable/yoga\nrefs/heads/yoga-updates"", ""commit"": ""refs/heads/stable/yoga\nrefs/heads/yoga-updates"" }, { ""type"": ""layer"", ""item"": ""interface:tls-certificates"", ""url"": ""https://github.com/juju-solutions/interface-tls-certificates"", ""vcs"": null, ""branch"": ""refs/heads/master"", ""commit"": ""d9850016d930a6d507b9fd45e2598d327922b140"" }, { ""type"": ""layer"", ""item"": ""interface:mysql-shared"", ""url"": ""https://github.com/openstack/charm-interface-mysql-shared"", ""vcs"": null, ""branch"": ""refs/heads/master"", ""commit"": ""f90f8c6edce21e4da3a872f0f9d6761730ce025d"" }, { ""type"": ""layer"", ""item"": ""interface:rabbitmq"", ""url"": ""https://github.com/openstack/charm-interface-rabbitmq"", ""vcs"": null, ""branch"": ""refs/heads/master"", ""commit"": ""383121fc584d2d3bf9d233eba0d3708398a4c468"" }, { ""type"": ""layer"", ""item"": ""interface:keystone"", ""url"": ""https://github.com/openstack/charm-interface-keystone"", ""vcs"": null, ""branch"": ""refs/heads/master"", ""commit"": ""501af18b3036f5af92990bc39e750e76e393e5eb"" }, { ""type"": ""layer"", ""item"": ""interface:hacluster"", ""url"": ""https://github.com/openstack/charm-interface-hacluster.git"", ""vcs"": null, ""branch"": ""refs/heads/master"", ""commit"": ""2b714e90b1b8845ce7390bb1dad5a56a65437907"" }, { ""type"": ""layer"", ""item"": ""interface:openstack-ha"", ""url"": ""https://github.com/openstack/charm-interface-openstack-ha"", ""vcs"": null, ""branch"": ""refs/heads/master"", ""commit"": ""a3b00e5b5fd857d130698c5cfe4b918877f0ab80"" }, { ""type"": ""layer"", ""item"": ""interface:mongodb"", ""url"": ""https://github.com/cloud-green/juju-relation-mongodb"", ""vcs"": null, ""branch"": ""refs/heads/master"", ""commit"": ""708b6ade852794b17447024a28e5ec2bb883538c"" }, { ""type"": ""layer"", ""item"": ""interface:nrpe-external-master"", ""url"": ""https://github.com/canonical/nrpe-external-master-interface"", ""vcs"": null, ""branch"": ""refs/heads/master"", ""commit"": ""95d744d1dbc4d86fb0462283c9371619bf5bbc24"" }, { ""type"": ""python_module"", ""package"": ""charms.reactive"", ""vcs"": null, ""version"": ""1.5.0"" }, { ""type"": ""python_module"", ""package"": ""netaddr"", ""vcs"": null, ""version"": ""0.7.19"" }, { ""type"": ""python_module"", ""package"": ""dnspython"", ""vcs"": null, ""version"": ""1.16.0"" }, { ""type"": ""python_module"", ""package"": ""charms.openstack"", ""url"": ""git+https://github.com/openstack/charms.openstack.git"", ""branch"": ""refs/heads/stable/yoga"", ""version"": ""13ef220ce3529fa7b8e11c6e4c5b352d05b6f148"", ""vcs"": ""git"" }, { ""type"": ""python_module"", ""package"": ""pip"", ""vcs"": null, ""version"": ""22.0.4"" }, { ""type"": ""python_module"", ""package"": ""psutil"", ""vcs"": null, ""version"": ""5.9.0"" }, { ""type"": ""python_module"", ""package"": ""PyYAML"", ""vcs"": null, ""version"": ""5.3.1"" }, { ""type"": ""python_module"", ""package"": ""MarkupSafe"", ""vcs"": null, ""version"": ""2.1.1"" }, { ""type"": ""python_module"", ""package"": ""setuptools_scm"", ""vcs"": null, ""version"": ""6.4.2"" }, { ""type"": ""python_module"", ""package"": ""Jinja2"", ""vcs"": null, ""version"": ""3.1.1"" }, { ""type"": ""python_module"", ""package"": ""packaging"", ""vcs"": null, ""version"": ""21.3"" }, { ""type"": ""python_module"", ""package"": ""pyparsing"", ""vcs"": null, ""version"": ""3.0.8"" }, { ""type"": ""python_module"", ""package"": ""netifaces"", ""vcs"": null, ""version"": ""0.11.0"" }, { ""type"": ""python_module"", ""package"": ""charmhelpers"", ""url"": ""git+https://github.com/juju/charm-helpers.git"", ""branch"": ""refs/heads/stable/yoga"", ""version"": ""971ac5117c96bd1cb4a6a520787e4509564da582"", ""vcs"": ""git"" }, { ""type"": ""python_module"", ""package"": ""flit_core"", ""vcs"": null, ""version"": ""3.7.1"" }, { ""type"": ""python_module"", ""package"": ""tomli"", ""vcs"": null, ""version"": ""2.0.1"" }, { ""type"": ""python_module"", ""package"": ""setuptools"", ""vcs"": null, ""version"": ""62.1.0"" }, { ""type"": ""python_module"", ""package"": ""pbr"", ""vcs"": null, ""version"": ""5.8.1"" }, { ""type"": ""python_module"", ""package"": ""wheel"", ""vcs"": null, ""version"": ""0.37.1"" }, { ""type"": ""python_module"", ""package"": ""pyaml"", ""vcs"": null, ""version"": ""21.10.1"" }, { ""type"": ""python_module"", ""package"": ""Tempita"", ""vcs"": null, ""version"": ""0.4"" } ] }",,253,5
openstack%2Fneutron~master~I07e9818021283d321fc32066be7e0f8e2b81e639,openstack/neutron,master,I07e9818021283d321fc32066be7e0f8e2b81e639,[DHCP] Break reference chain to any Exception object when resync,MERGED,2022-04-19 11:30:09.000000000,2022-04-20 17:51:05.000000000,2022-04-20 17:48:53.000000000,"[{'_account_id': 1131}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-19 11:30:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e4209744a94608444a36023f5731aabb195aaeae', 'message': '[DHCP] Break reference chain to any Exception object when resync\n\nIn the DHCP agent, if an exception is raised during the driver call,\n""DhcpAgent.schedule_resync"" is called. Before this patch, the\nexception instance was passed instead of a string. This instance\nreference was stored in the dictionary ""needs_resync_reasons"" and\nused in ""_periodic_resync_helper"" to resync the DHCP agent\ninformation.\n\nThe call to ""sync_state"" passed the dictionary "".keys()"" method. In\npython2.7 when that was implemented, this method was creating a list\nwith the dictionary keys. In python3, this method is a generator\nthat holds the dictionary content.\n\nThis patch breaks this reference chain in two points (actually only\none is needed):\n- ""sync_state"" now passes a list created from the mentioned generator.\n- The dictionary ""needs_resync_reasons"" now stores the exception\n  strings only, instead of the exception instance.\n\nCloses-Bug: #1969270\nChange-Id: I07e9818021283d321fc32066be7e0f8e2b81e639\n'}, {'number': 2, 'created': '2022-04-20 09:29:48.000000000', 'files': ['neutron/agent/dhcp/agent.py', 'neutron/tests/unit/agent/dhcp/test_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/e3b3ec930967305e5fce314c0a4cf74151ad711c', 'message': '[DHCP] Break reference chain to any Exception object when resync\n\nIn the DHCP agent, if an exception is raised during the driver call,\n""DhcpAgent.schedule_resync"" is called. Before this patch, the\nexception instance was passed instead of a string. This instance\nreference was stored in the dictionary ""needs_resync_reasons"" and\nused in ""_periodic_resync_helper"" to resync the DHCP agent\ninformation.\n\nThe call to ""sync_state"" passed the dictionary "".keys()"" method. In\npython2.7 when that was implemented, this method was creating a list\nwith the dictionary keys. In python3, this method is a generator\nthat holds the dictionary content.\n\nThis patch breaks this reference chain in two points (actually only\none is needed):\n- ""sync_state"" now passes a list created from the mentioned generator.\n- The dictionary ""needs_resync_reasons"" now stores the exception\n  strings only, instead of the exception instance.\n\nCloses-Bug: #1969270\nChange-Id: I07e9818021283d321fc32066be7e0f8e2b81e639\n'}]",2,838492,e3b3ec930967305e5fce314c0a4cf74151ad711c,20,4,2,16688,,,0,"[DHCP] Break reference chain to any Exception object when resync

In the DHCP agent, if an exception is raised during the driver call,
""DhcpAgent.schedule_resync"" is called. Before this patch, the
exception instance was passed instead of a string. This instance
reference was stored in the dictionary ""needs_resync_reasons"" and
used in ""_periodic_resync_helper"" to resync the DHCP agent
information.

The call to ""sync_state"" passed the dictionary "".keys()"" method. In
python2.7 when that was implemented, this method was creating a list
with the dictionary keys. In python3, this method is a generator
that holds the dictionary content.

This patch breaks this reference chain in two points (actually only
one is needed):
- ""sync_state"" now passes a list created from the mentioned generator.
- The dictionary ""needs_resync_reasons"" now stores the exception
  strings only, instead of the exception instance.

Closes-Bug: #1969270
Change-Id: I07e9818021283d321fc32066be7e0f8e2b81e639
",git fetch https://review.opendev.org/openstack/neutron refs/changes/92/838492/2 && git format-patch -1 --stdout FETCH_HEAD,['neutron/agent/dhcp/agent.py'],1,e4209744a94608444a36023f5731aabb195aaeae,bug/1969270," self.schedule_resync(str(e), network.id) self.sync_state(list(reasons.keys()))"," self.schedule_resync(e, network.id) self.sync_state(reasons.keys())",2,2
openstack%2Fcinder~stable%2Fvictoria~Id6b27eb7b90c8a8c91fb46de69aa94b8210da18d,openstack/cinder,stable/victoria,Id6b27eb7b90c8a8c91fb46de69aa94b8210da18d,Add warning message about slow volume backend,MERGED,2022-03-08 16:50:13.000000000,2022-04-20 17:40:21.000000000,2022-04-20 17:38:33.000000000,"[{'_account_id': 5314}, {'_account_id': 5997}, {'_account_id': 7198}, {'_account_id': 13425}, {'_account_id': 22348}, {'_account_id': 30615}, {'_account_id': 32238}]","[{'number': 1, 'created': '2022-03-08 16:50:13.000000000', 'files': ['cinder/volume/manager.py', 'releasenotes/notes/slow-get-volume-stats-91b84c6e661dc605.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/1034c9aec7001d7f872defdbd771fde2f20fb4ee', 'message': 'Add warning message about slow volume backend\n\nIf a volume driver takes an excessively long amount\nof time to return volume stats info, the only indication\nif this is a generic ""Function outlasted interval"" message\nthat doesn\'t really explain what is going on.\n\nIntroduce a specific log message when this happens so\nthat this situation is more clear for someone looking\nat cinder-volume logs.\n\nThe message is set to trigger if the driver takes more\nthan half of the stats polling interval to complete.\n\nChange-Id: Id6b27eb7b90c8a8c91fb46de69aa94b8210da18d\n(cherry picked from commit 6d85d05f7847defcd972b1702ab9b14f22e60d4e)\n(cherry picked from commit 63abc40463c4397d4e11e39afb8033cd9690a4f6)\n'}]",4,832328,1034c9aec7001d7f872defdbd771fde2f20fb4ee,25,7,1,4523,,,0,"Add warning message about slow volume backend

If a volume driver takes an excessively long amount
of time to return volume stats info, the only indication
if this is a generic ""Function outlasted interval"" message
that doesn't really explain what is going on.

Introduce a specific log message when this happens so
that this situation is more clear for someone looking
at cinder-volume logs.

The message is set to trigger if the driver takes more
than half of the stats polling interval to complete.

Change-Id: Id6b27eb7b90c8a8c91fb46de69aa94b8210da18d
(cherry picked from commit 6d85d05f7847defcd972b1702ab9b14f22e60d4e)
(cherry picked from commit 63abc40463c4397d4e11e39afb8033cd9690a4f6)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/28/832328/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/manager.py', 'releasenotes/notes/slow-get-volume-stats-91b84c6e661dc605.yaml']",2,1034c9aec7001d7f872defdbd771fde2f20fb4ee,,--- features: - | Log a warning from the volume service when a volume driver's get_volume_stats() call takes a long time to return. This can help deployers troubleshoot a cinder-volume service misbehaving due to a driver/backend performance issue. ,,21,1
openstack%2Foslo.privsep~master~I506a7bcd8fb3de2088bf37ebbb117896de9ddc77,openstack/oslo.privsep,master,I506a7bcd8fb3de2088bf37ebbb117896de9ddc77,Remove unnecessary unicode prefixes,MERGED,2022-04-19 07:12:46.000000000,2022-04-20 17:39:37.000000000,2022-04-20 17:38:01.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-04-19 07:12:46.000000000', 'files': ['oslo_privsep/tests/test_comm.py', 'oslo_privsep/tests/test_daemon.py', 'doc/source/conf.py', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/oslo.privsep/commit/fa16f4dc6e87c049b7ac157e00d5e5183b149f75', 'message': 'Remove unnecessary unicode prefixes\n\nAll strings are unicode by default in Python 3. No need to mark them as\nsuch.\n\nChange-Id: I506a7bcd8fb3de2088bf37ebbb117896de9ddc77\n'}]",0,838442,fa16f4dc6e87c049b7ac157e00d5e5183b149f75,8,3,1,31412,,,0,"Remove unnecessary unicode prefixes

All strings are unicode by default in Python 3. No need to mark them as
such.

Change-Id: I506a7bcd8fb3de2088bf37ebbb117896de9ddc77
",git fetch https://review.opendev.org/openstack/oslo.privsep refs/changes/42/838442/1 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_privsep/tests/test_comm.py', 'oslo_privsep/tests/test_daemon.py', 'doc/source/conf.py', 'releasenotes/source/conf.py']",4,fa16f4dc6e87c049b7ac157e00d5e5183b149f75,,"copyright = '2016, oslo.privsep Developers' 'oslo.privsep Release Notes Documentation', 'oslo.privsep Developers', 'manual'), 'oslo.privsep Release Notes Documentation', ['oslo.privsep Developers'], 1) 'oslo.privsep Release Notes Documentation', 'oslo.privsep Developers', 'oslo.privsepReleaseNotes',","copyright = u'2016, oslo.privsep Developers' u'oslo.privsep Release Notes Documentation', u'oslo.privsep Developers', 'manual'), u'oslo.privsep Release Notes Documentation', [u'oslo.privsep Developers'], 1) u'oslo.privsep Release Notes Documentation', u'oslo.privsep Developers', 'oslo.privsepReleaseNotes',",18,18
openstack%2Fcharm-nova-compute~stable%2Fyoga~I12cd4bf5953170d227d52793764c49f3871e25f9,openstack/charm-nova-compute,stable/yoga,I12cd4bf5953170d227d52793764c49f3871e25f9,Render correct driver in nova-compute.conf,MERGED,2022-04-20 13:03:57.000000000,2022-04-20 17:28:53.000000000,2022-04-20 17:28:53.000000000,"[{'_account_id': 8992}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-20 13:03:57.000000000', 'files': ['templates/train/nova-compute.conf', 'unit_tests/test_nova_compute_utils.py'], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/7f3fb79210857e40b58d6c61ed35a7ee4ac18030', 'message': 'Render correct driver in nova-compute.conf\n\nCommit abe5a289 fixed the rendering of the ironic driver in the\nnova-compute.conf file for OpenStack versions >= Wallaby. However, it\nalways renders the nova-compute.conf file for train and above, which is\nhard-coded to the Ironic libvirt driver.\n\nThis adds additional templating logic to the nova-compute.conf driver in\norder to render the correct driver to use.\n\nRelated-Bug: #1968547\nChange-Id: I12cd4bf5953170d227d52793764c49f3871e25f9\n(cherry picked from commit f6c536baec29a34b79a13708f2f0b82dd0db0530)\n'}]",0,838694,7f3fb79210857e40b58d6c61ed35a7ee4ac18030,7,3,1,11805,,,0,"Render correct driver in nova-compute.conf

Commit abe5a289 fixed the rendering of the ironic driver in the
nova-compute.conf file for OpenStack versions >= Wallaby. However, it
always renders the nova-compute.conf file for train and above, which is
hard-coded to the Ironic libvirt driver.

This adds additional templating logic to the nova-compute.conf driver in
order to render the correct driver to use.

Related-Bug: #1968547
Change-Id: I12cd4bf5953170d227d52793764c49f3871e25f9
(cherry picked from commit f6c536baec29a34b79a13708f2f0b82dd0db0530)
",git fetch https://review.opendev.org/openstack/charm-nova-compute refs/changes/94/838694/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/train/nova-compute.conf', 'unit_tests/test_nova_compute_utils.py']",2,7f3fb79210857e40b58d6c61ed35a7ee4ac18030,bug/1968547-stable/yoga," @patch.object(compute_context, 'config') _relation_ids, cctxt_config): cctxt_config.side_effect = self.test_config.get", _relation_ids):,12,2
openstack%2Fsahara~stable%2Fxena~I7a4071e52f68fea7d07bad690f8590cbb3fb4fa4,openstack/sahara,stable/xena,I7a4071e52f68fea7d07bad690f8590cbb3fb4fa4,Drop tripleo centos-7 scen3 job definition - not used,MERGED,2022-04-15 11:25:20.000000000,2022-04-20 17:25:17.000000000,2022-04-20 17:22:19.000000000,"[{'_account_id': 10459}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-15 11:25:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/c377a0e34836ab98248aef1689b59322f270e95b', 'message': ""Move replace centos-7 tripleo scen3 job with centos-8\n\nThis is needed by [1] where this job is being removed. Note\nthat this job as defined will only run for stable/stein [2].\nAlso note that this job doesn't appear to be running anywhere\nit is not wired up in this repo [3] or anywhere else.\n\n[1] https://review.opendev.org/c/openstack/tripleo-ci/+/838110/2#message-2efaca7aaf100874fd6996f18f0e74ae942149c0\n[2] https://opendev.org/openstack/tripleo-ci/src/commit/4daed1b14c582b442f64ec45b1ddba5b58e03986/zuul.d/standalone-jobs.yaml#L476\n[3] https://codesearch.opendev.org/?q=sahara-tripleo-ci-centos-7-scenario003-standalone&i=nope&literal=nope&files=&excludeFiles=&repos=\n\nChange-Id: I7a4071e52f68fea7d07bad690f8590cbb3fb4fa4\n""}, {'number': 2, 'created': '2022-04-20 10:22:39.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/sahara/commit/daf3d1bdeb927ed3b292370b8d8d25c32e5e5e21', 'message': ""Drop tripleo centos-7 scen3 job definition - not used\n\nThis is needed by [1] where this job is being removed. Note\nthat this job as defined will only run for stable/stein [2].\nAlso note that this job doesn't appear to be running anywhere\nit is not wired up in this repo [3] or anywhere else.\n\n[1] https://review.opendev.org/c/openstack/tripleo-ci/+/838110/2#message-2efaca7aaf100874fd6996f18f0e74ae942149c0\n[2] https://opendev.org/openstack/tripleo-ci/src/commit/4daed1b14c582b442f64ec45b1ddba5b58e03986/zuul.d/standalone-jobs.yaml#L476\n[3] https://codesearch.opendev.org/?q=sahara-tripleo-ci-centos-7-scenario003-standalone&i=nope&literal=nope&files=&excludeFiles=&repos=\n\n(cherry-picked from commit 4af54a062c3536ecce37e1386ee549fadbf3392d)\n\nChange-Id: I7a4071e52f68fea7d07bad690f8590cbb3fb4fa4\n""}]",1,838019,daf3d1bdeb927ed3b292370b8d8d25c32e5e5e21,11,2,2,8449,,,0,"Drop tripleo centos-7 scen3 job definition - not used

This is needed by [1] where this job is being removed. Note
that this job as defined will only run for stable/stein [2].
Also note that this job doesn't appear to be running anywhere
it is not wired up in this repo [3] or anywhere else.

[1] https://review.opendev.org/c/openstack/tripleo-ci/+/838110/2#message-2efaca7aaf100874fd6996f18f0e74ae942149c0
[2] https://opendev.org/openstack/tripleo-ci/src/commit/4daed1b14c582b442f64ec45b1ddba5b58e03986/zuul.d/standalone-jobs.yaml#L476
[3] https://codesearch.opendev.org/?q=sahara-tripleo-ci-centos-7-scenario003-standalone&i=nope&literal=nope&files=&excludeFiles=&repos=

(cherry-picked from commit 4af54a062c3536ecce37e1386ee549fadbf3392d)

Change-Id: I7a4071e52f68fea7d07bad690f8590cbb3fb4fa4
",git fetch https://review.opendev.org/openstack/sahara refs/changes/19/838019/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,c377a0e34836ab98248aef1689b59322f270e95b,, name: sahara-tripleo-ci-centos-8-scenario003-standalone parent: tripleo-ci-centos-8-scenario003-standalone, name: sahara-tripleo-ci-centos-7-scenario003-standalone parent: tripleo-ci-centos-7-scenario003-standalone,2,2
openstack%2Fcinder~master~Ib5381834edf23a468ae05514a9accf22843b34f5,openstack/cinder,master,Ib5381834edf23a468ae05514a9accf22843b34f5,Bump pylint to 2.13.4,MERGED,2022-04-06 15:25:46.000000000,2022-04-20 17:25:16.000000000,2022-04-20 17:18:53.000000000,"[{'_account_id': 5314}, {'_account_id': 9535}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-06 15:25:46.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/cinder/commit/5dbd94c73a661684847364e04a5bb42d383a8c8d', 'message': 'Bump pylint to 2.13.4\n\nCloses-Bug: #1968048\nChange-Id: Ib5381834edf23a468ae05514a9accf22843b34f5\n'}]",1,836842,5dbd94c73a661684847364e04a5bb42d383a8c8d,30,3,1,4523,,,0,"Bump pylint to 2.13.4

Closes-Bug: #1968048
Change-Id: Ib5381834edf23a468ae05514a9accf22843b34f5
",git fetch https://review.opendev.org/openstack/cinder refs/changes/42/836842/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,5dbd94c73a661684847364e04a5bb42d383a8c8d,, pylint==2.13.4, pylint==2.11.1,1,1
openstack%2Fcinder~stable%2Fvictoria~I05d83d73de69c57d885e0c417e8a376f7cfb1e4f,openstack/cinder,stable/victoria,I05d83d73de69c57d885e0c417e8a376f7cfb1e4f,NetApp ONTAP: Fix sub-clone zapi call,MERGED,2021-12-15 20:11:13.000000000,2022-04-20 17:23:53.000000000,2022-04-20 17:19:06.000000000,"[{'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 13425}, {'_account_id': 22348}, {'_account_id': 31721}, {'_account_id': 33431}]","[{'number': 1, 'created': '2021-12-15 20:11:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/36d1eafb9a8280175e347cabf93f3e343cf69517', 'message': 'NetApp ONTAP: Fix sub-clone zapi call\n\nThe ONTAP documentation states that the `clone-create` ZAPI call\nfails with `block-ranges` and `space-reserve` parameters sent\ntogether. The sub-clone uses the `block-ranges` and is failing\nbecause of that restriction.\n\nThis patch fixes the `clone-create` operation by using exactly one\nof `block-ranges` or `space-reserve`.\n\nChange-Id: I05d83d73de69c57d885e0c417e8a376f7cfb1e4f\nCloses-Bug: #1924643\n(cherry picked from commit dd0b1076df936b9cb1111567f6b4c3b747744b72)\n'}, {'number': 2, 'created': '2021-12-15 20:28:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/69180137002d19ea7ea472daaffb3894296b1213', 'message': 'NetApp ONTAP: Fix sub-clone zapi call\n\nThe ONTAP documentation states that the `clone-create` ZAPI call\nfails with `block-ranges` and `space-reserve` parameters sent\ntogether. The sub-clone uses the `block-ranges` and is failing\nbecause of that restriction.\n\nThis patch fixes the `clone-create` operation by using exactly one\nof `block-ranges` or `space-reserve`.\n\nChange-Id: I05d83d73de69c57d885e0c417e8a376f7cfb1e4f\nCloses-Bug: #1924643\n(cherry picked from commit dd0b1076df936b9cb1111567f6b4c3b747744b72)\n'}, {'number': 3, 'created': '2021-12-16 13:46:37.000000000', 'files': ['cinder/tests/unit/volume/drivers/netapp/dataontap/client/test_client_cmode.py', 'cinder/volume/drivers/netapp/dataontap/client/client_cmode.py', 'releasenotes/notes/fix-sub-clone-operation-f42a84ab17930f24.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/9a28bce3eefb25c02316c01995e88352f8ae9528', 'message': 'NetApp ONTAP: Fix sub-clone zapi call\n\nThe ONTAP documentation states that the `clone-create` ZAPI call\nfails with `block-ranges` and `space-reserve` parameters sent\ntogether. The sub-clone uses the `block-ranges` and is failing\nbecause of that restriction.\n\nThis patch fixes the `clone-create` operation by using exactly one\nof `block-ranges` or `space-reserve`.\n\nChange-Id: I05d83d73de69c57d885e0c417e8a376f7cfb1e4f\nCloses-Bug: #1924643\n(cherry picked from commit dd0b1076df936b9cb1111567f6b4c3b747744b72)\n(cherry picked from commit 344f3e8b098ff52c137ece8a28b3b40a5893e30e)\n(cherry picked from commit fffe9b57b984ba402fbe9f0c578b419926491b5b)\n'}]",9,821893,9a28bce3eefb25c02316c01995e88352f8ae9528,42,6,3,33431,,,0,"NetApp ONTAP: Fix sub-clone zapi call

The ONTAP documentation states that the `clone-create` ZAPI call
fails with `block-ranges` and `space-reserve` parameters sent
together. The sub-clone uses the `block-ranges` and is failing
because of that restriction.

This patch fixes the `clone-create` operation by using exactly one
of `block-ranges` or `space-reserve`.

Change-Id: I05d83d73de69c57d885e0c417e8a376f7cfb1e4f
Closes-Bug: #1924643
(cherry picked from commit dd0b1076df936b9cb1111567f6b4c3b747744b72)
(cherry picked from commit 344f3e8b098ff52c137ece8a28b3b40a5893e30e)
(cherry picked from commit fffe9b57b984ba402fbe9f0c578b419926491b5b)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/93/821893/2 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/drivers/netapp/dataontap/client/test_client_cmode.py', 'cinder/volume/drivers/netapp/dataontap/client/client_cmode.py', 'releasenotes/notes/fix-sub-clone-operation-f42a84ab17930f24.yaml']",3,36d1eafb9a8280175e347cabf93f3e343cf69517,bug/1924643,--- fixes: - | `Bug #1924643 <https://bugs.launchpad.net/cinder/+bug/1924643>`_: Fixed the NetApp cinder driver sub-clone operation that might be used by extend operation in case the extended size is greater than the max LUN geometry. ,,54,1
openstack%2Fneutron~master~I0503037b803a3c99fb7988bc20394c111ac456db,openstack/neutron,master,I0503037b803a3c99fb7988bc20394c111ac456db,Fix setting table monitoring conditions,MERGED,2022-03-22 04:20:25.000000000,2022-04-20 17:22:10.000000000,2022-04-20 17:18:39.000000000,"[{'_account_id': 8313}, {'_account_id': 8655}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 30380}]","[{'number': 1, 'created': '2022-03-22 04:20:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/af04908e629f40e98453d2d354cb5ebc7bdfc4da', 'message': ""Fix setting table monitoring conditions\n\nAfter the monitor_cond_since/update3 support patch in ovs\n(46d44cf3be0), directly setting table.condition is broken. This\nisn't something that was every truly supported. Prior to that\npatch, using Idl.cond_change() before a connection was made\ndid not work, but after that patch it does.\n\nThis patch uses the old behavior when the OVS library does not\nhave the ConditionState object, and uses cond_change() otherwise.\n\nRelated-Bug: 1965819\nChange-Id: I0503037b803a3c99fb7988bc20394c111ac456db\n""}, {'number': 2, 'created': '2022-03-23 01:43:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4d58eb33fa9ea69d8500ae6faf952d9b1fa78174', 'message': ""Fix setting table monitoring conditions\n\nAfter the monitor_cond_since/update3 support patch in ovs\n(46d44cf3be0), directly setting table.condition is broken. This\nisn't something that was every truly supported. Prior to that\npatch, using Idl.cond_change() before a connection was made\ndid not work, but after that patch it does.\n\nThis patch uses the old behavior when the OVS library does not\nhave the ConditionState object, and uses cond_change() otherwise.\n\nRelated-Bug: 1965819\nChange-Id: I0503037b803a3c99fb7988bc20394c111ac456db\n""}, {'number': 3, 'created': '2022-04-18 13:39:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ff3772997d01904ec1a87fa3bbd2049452a291f5', 'message': ""Fix setting table monitoring conditions\n\nAfter the monitor_cond_since/update3 support patch in ovs\n(46d44cf3be0), directly setting table.condition is broken. This\nisn't something that was every truly supported. Prior to that\npatch, using Idl.cond_change() before a connection was made\ndid not work, but after that patch it does.\n\nThis patch uses the old behavior when the OVS library does not\nhave the ConditionState object, and uses cond_change() otherwise.\n\nRelated-Bug: #1965819\nChange-Id: I0503037b803a3c99fb7988bc20394c111ac456db\n""}, {'number': 4, 'created': '2022-04-19 15:39:21.000000000', 'files': ['neutron/agent/ovn/metadata/ovsdb.py', 'requirements.txt', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovsdb_monitor.py', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/neutron/commit/a13a4cb2da03e2cdce04b0e7b4bc30e44ebdbd02', 'message': ""Fix setting table monitoring conditions\n\nAfter the monitor_cond_since/update3 support patch in ovs\n(46d44cf3be0), directly setting table.condition is broken. This\nisn't something that was every truly supported. Prior to that\npatch, using Idl.cond_change() before a connection was made\ndid not work, but after that patch it does.\n\nThis patch uses the old behavior when the OVS library does not\nhave the ConditionState object, and uses cond_change() otherwise.\n\nRelated-Bug: #1965819\nChange-Id: I0503037b803a3c99fb7988bc20394c111ac456db\n""}]",15,834613,a13a4cb2da03e2cdce04b0e7b4bc30e44ebdbd02,43,8,4,5756,,,0,"Fix setting table monitoring conditions

After the monitor_cond_since/update3 support patch in ovs
(46d44cf3be0), directly setting table.condition is broken. This
isn't something that was every truly supported. Prior to that
patch, using Idl.cond_change() before a connection was made
did not work, but after that patch it does.

This patch uses the old behavior when the OVS library does not
have the ConditionState object, and uses cond_change() otherwise.

Related-Bug: #1965819
Change-Id: I0503037b803a3c99fb7988bc20394c111ac456db
",git fetch https://review.opendev.org/openstack/neutron refs/changes/13/834613/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/ovn/metadata/ovsdb.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovsdb_monitor.py']",2,af04908e629f40e98453d2d354cb5ebc7bdfc4da,bug/1965819,"from ovs.db import idl as ovs_idl_mod set_idl_table_condition( self, 'Port_Group', [['name', '==', ovn_const.OVN_DROP_PORT_GROUP_NAME]]) def set_idl_table_condition(idl, table_name, condition): # Prior to ovs commit 46d44cf3be0, self.cond_change() doesn't work here but # after that commit, setting table.condtion doesn't work. if hasattr(ovs_idl_mod, 'ConditionState'): idl.cond_change(table_name, condition) else: idl.tables[table_name].condition = condition"," # self.cond_change() doesn't work here because we are setting the # condition *before an initial monitor request is made* so there is # no previous session whose condition we wish to change self.tables['Port_Group'].condition = [ ['name', '==', ovn_const.OVN_DROP_PORT_GROUP_NAME]]",15,6
openstack%2Fcinder~stable%2Fvictoria~I5108fd51effa4d72581654ed450d191a13e0e964,openstack/cinder,stable/victoria,I5108fd51effa4d72581654ed450d191a13e0e964,Fix: Schema validation for attachment create API,MERGED,2022-04-06 09:12:32.000000000,2022-04-20 17:22:08.000000000,2022-04-20 17:18:27.000000000,"[{'_account_id': 5314}, {'_account_id': 13425}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-06 09:12:32.000000000', 'files': ['cinder/api/v3/attachments.py', 'api-ref/source/v3/attachments.inc', 'releasenotes/notes/fix-schema-validation-attachment-create-3488914cb52d44d2.yaml', 'cinder/api/schemas/attachments.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/d7bb194d092a9f48c09b539ef6153294273147e5', 'message': ""Fix: Schema validation for attachment create API\n\nCurrently the schema validation for attachment create assumes that\ninstance UUID will always be present in the request but that is\nnot the case when glance calls cinder for attachment.\nAlso there isn't any schema validation for MV3.54 which accepts\nattachment mode in the request hence failing requests passing mode.\nThis patch removes the instance_uuid from required parameters and\nadds schema validation for MV3.54.\n\nAlso includes a squash to add a releasenote from\nChange-Id: I4a6e93ea98cfd4988d38bedca6e5538391c1f74d\n\nChange-Id: I5108fd51effa4d72581654ed450d191a13e0e964\n(cherry picked from commit 560318c82e9951464361560e57ce0b67011cce74)\n(cherry picked from commit 58250aae06988858a27576f6d471d7f37b6dcecb)\nConflicts:\n    cinder/api/v3/attachments.py\n""}]",5,836753,d7bb194d092a9f48c09b539ef6153294273147e5,25,4,1,15554,,,0,"Fix: Schema validation for attachment create API

Currently the schema validation for attachment create assumes that
instance UUID will always be present in the request but that is
not the case when glance calls cinder for attachment.
Also there isn't any schema validation for MV3.54 which accepts
attachment mode in the request hence failing requests passing mode.
This patch removes the instance_uuid from required parameters and
adds schema validation for MV3.54.

Also includes a squash to add a releasenote from
Change-Id: I4a6e93ea98cfd4988d38bedca6e5538391c1f74d

Change-Id: I5108fd51effa4d72581654ed450d191a13e0e964
(cherry picked from commit 560318c82e9951464361560e57ce0b67011cce74)
(cherry picked from commit 58250aae06988858a27576f6d471d7f37b6dcecb)
Conflicts:
    cinder/api/v3/attachments.py
",git fetch https://review.opendev.org/openstack/cinder refs/changes/53/836753/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/api/v3/attachments.py', 'api-ref/source/v3/attachments.inc', 'releasenotes/notes/fix-schema-validation-attachment-create-3488914cb52d44d2.yaml', 'cinder/api/schemas/attachments.py']",4,d7bb194d092a9f48c09b539ef6153294273147e5,783389-stable/victoria,"import copy 'required': ['volume_uuid'], create_v354 = copy.deepcopy(create) create_v354['properties']['attachment']['properties']['mode'] = ( {'type': 'string', 'enum': ['rw', 'ro']})"," 'required': ['instance_uuid', 'volume_uuid'],",27,6
openstack%2Fswift~stable%2Fvictoria~Ibe514a7ab22d475517b1efc50de676f47d741a4c,openstack/swift,stable/victoria,Ibe514a7ab22d475517b1efc50de676f47d741a4c,s3api: Use constant-time string comparisons in check_signature,MERGED,2022-04-19 18:52:52.000000000,2022-04-20 17:22:04.000000000,2022-04-20 17:18:35.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-19 18:52:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/d38889860fd98b91151bf8339f718d05b5c04d06', 'message': 's3api: Use constant-time string comparisons in check_signature\n\nChange-Id: Ibe514a7ab22d475517b1efc50de676f47d741a4c\n(cherry picked from commit 6142ce88cc71037ba0cd23113eb6082fa91346ac)\n'}, {'number': 2, 'created': '2022-04-20 04:28:56.000000000', 'files': ['swift/common/middleware/s3api/s3request.py', 'test/unit/common/middleware/s3api/test_s3request.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/4ca7bdf93d471435278e0c1a3b1486f18fd67c0c', 'message': 's3api: Use constant-time string comparisons in check_signature\n\nChange-Id: Ibe514a7ab22d475517b1efc50de676f47d741a4c\n(cherry picked from commit 6142ce88cc71037ba0cd23113eb6082fa91346ac)\n'}]",1,838578,4ca7bdf93d471435278e0c1a3b1486f18fd67c0c,11,2,2,15343,,,0,"s3api: Use constant-time string comparisons in check_signature

Change-Id: Ibe514a7ab22d475517b1efc50de676f47d741a4c
(cherry picked from commit 6142ce88cc71037ba0cd23113eb6082fa91346ac)
",git fetch https://review.opendev.org/openstack/swift refs/changes/78/838578/1 && git format-patch -1 --stdout FETCH_HEAD,"['swift/common/middleware/s3api/s3request.py', 'test/unit/common/middleware/s3api/test_s3request.py']",2,d38889860fd98b91151bf8339f718d05b5c04d06,," with patch('swift.common.middleware.s3api.s3request.streq_const_time', return_value=True) as mock_eq: self.assertTrue(sigv2_req.check_signature(secret)) mock_eq.assert_called_once() with patch('swift.common.middleware.s3api.s3request.streq_const_time', return_value=False) as mock_eq: self.assertFalse(sigv4_req.check_signature( u'\u30c9\u30e9\u30b4\u30f3')) mock_eq.assert_called_once() ",,14,3
openstack%2Fswift~stable%2Fwallaby~Ibe514a7ab22d475517b1efc50de676f47d741a4c,openstack/swift,stable/wallaby,Ibe514a7ab22d475517b1efc50de676f47d741a4c,s3api: Use constant-time string comparisons in check_signature,MERGED,2022-04-19 18:45:53.000000000,2022-04-20 17:21:40.000000000,2022-04-20 17:18:31.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-19 18:45:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/3ea53142eebdde300bcefbe145c5ab81fd56904e', 'message': 's3api: Use constant-time string comparisons in check_signature\n\nChange-Id: Ibe514a7ab22d475517b1efc50de676f47d741a4c\n(cherry picked from commit 6142ce88cc71037ba0cd23113eb6082fa91346ac)\n'}, {'number': 2, 'created': '2022-04-20 04:26:13.000000000', 'files': ['.zuul.yaml', 'swift/common/middleware/s3api/s3request.py', 'test/unit/common/middleware/s3api/test_s3request.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/f56bb37f03e31df3473dce790720c14e451d22e1', 'message': ""s3api: Use constant-time string comparisons in check_signature\n\nDisable rolling-upgrade job since the old tag doesn't constrain things\nwell enough to run on py2.\n\nChange-Id: Ibe514a7ab22d475517b1efc50de676f47d741a4c\n(cherry picked from commit 6142ce88cc71037ba0cd23113eb6082fa91346ac)\n""}]",1,838575,f56bb37f03e31df3473dce790720c14e451d22e1,11,2,2,15343,,,0,"s3api: Use constant-time string comparisons in check_signature

Disable rolling-upgrade job since the old tag doesn't constrain things
well enough to run on py2.

Change-Id: Ibe514a7ab22d475517b1efc50de676f47d741a4c
(cherry picked from commit 6142ce88cc71037ba0cd23113eb6082fa91346ac)
",git fetch https://review.opendev.org/openstack/swift refs/changes/75/838575/1 && git format-patch -1 --stdout FETCH_HEAD,"['swift/common/middleware/s3api/s3request.py', 'test/unit/common/middleware/s3api/test_s3request.py']",2,3ea53142eebdde300bcefbe145c5ab81fd56904e,," with patch('swift.common.middleware.s3api.s3request.streq_const_time', return_value=True) as mock_eq: self.assertTrue(sigv2_req.check_signature(secret)) mock_eq.assert_called_once() with patch('swift.common.middleware.s3api.s3request.streq_const_time', return_value=False) as mock_eq: self.assertFalse(sigv4_req.check_signature( u'\u30c9\u30e9\u30b4\u30f3')) mock_eq.assert_called_once() ",,14,3
openstack%2Fswift~stable%2Fpike~I56f10d8e25e57da59f3da57fe797f615433d70a7,openstack/swift,stable/pike,I56f10d8e25e57da59f3da57fe797f615433d70a7,Fix docs-building on old stable branches,MERGED,2022-04-20 00:01:12.000000000,2022-04-20 17:18:58.000000000,2022-04-20 17:18:58.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-20 00:01:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/7e01eae2996dfe856e6e303f20c23f99de199d1b', 'message': 'Fix docs-building on old stable branches\n\nFor a while now, the nightly job has bombed out with something like\n\n   Warning, treated as error:\n   .../swift/doc/source/middleware.rst:268: (WARNING/2) autodoc: failed to import module\n   \'swift.common.middleware.xprofile\'; the following exception was raised:\n   Traceback (most recent call last):\n     File "".../python3.5/site-packages/sphinx/ext/autodoc.py"", line 657, in import_object\n       __import__(self.modname)\n     File "".../python3.5/site-packages/swift/common/middleware/xprofile.py"", line 82, in <module>\n       import eventlet.green.profile as eprofile\n     File "".../python3.5/site-packages/eventlet/green/profile.py"", line 45, in <module>\n       thread = patcher.original(\'thread\')  # non-monkeypatched module needed\n     File "".../python3.5/site-packages/eventlet/patcher.py"", line 194, in original\n       real_mod = __import__(modname, {}, {}, modname.split(\'.\')[:-1])\n   ImportError: No module named \'thread\'\n\nNot sure why we\'re running under py35 (the job definition calls out\n`sphinx_python: python2`), but that\'s the crux of the issue -- neither\nus nor our dependencies support py3 that far back, so having eventlet\nconstrained to 0.20.0 on stable/pike and stable/queens is setting us up\nfor failure.\n\nOn the plus side, it\'s just docs! We don\'t really *need* this import to\nbuild docs, so catch the ImportError and call it None.\n\nAfter that, also need to fix some import for xprofile.\n\nRelated-Change: Ie8d28218b974a1b6b7b7b691f786ff1d6bdded05\nChange-Id: I56f10d8e25e57da59f3da57fe797f615433d70a7\n'}, {'number': 2, 'created': '2022-04-20 05:49:09.000000000', 'files': ['swift/common/middleware/xprofile.py', 'swift/common/middleware/slo.py', 'swift/common/middleware/x_profile/html_viewer.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/1af2dd6ac941a230cc0e7e8930646e38b02107b2', 'message': 'Fix docs-building on old stable branches\n\nFor a while now, the nightly job has bombed out with something like\n\n   Warning, treated as error:\n   .../swift/doc/source/middleware.rst:268: (WARNING/2) autodoc: failed to import module\n   \'swift.common.middleware.xprofile\'; the following exception was raised:\n   Traceback (most recent call last):\n     File "".../python3.5/site-packages/sphinx/ext/autodoc.py"", line 657, in import_object\n       __import__(self.modname)\n     File "".../python3.5/site-packages/swift/common/middleware/xprofile.py"", line 82, in <module>\n       import eventlet.green.profile as eprofile\n     File "".../python3.5/site-packages/eventlet/green/profile.py"", line 45, in <module>\n       thread = patcher.original(\'thread\')  # non-monkeypatched module needed\n     File "".../python3.5/site-packages/eventlet/patcher.py"", line 194, in original\n       real_mod = __import__(modname, {}, {}, modname.split(\'.\')[:-1])\n   ImportError: No module named \'thread\'\n\nNot sure why we\'re running under py35 (the job definition calls out\n`sphinx_python: python2`), but that\'s the crux of the issue -- neither\nus nor our dependencies support py3 that far back, so having eventlet\nconstrained to 0.20.0 on stable/pike and stable/queens is setting us up\nfor failure.\n\nOn the plus side, it\'s just docs! We don\'t really *need* this import to\nbuild docs, so catch the ImportError and call it None.\n\nAfter that, also need to fix some import for xprofile.\n\nAlso, fix some tuple-unpacking-in-function-args trouble.\n\nRelated-Change: Ie8d28218b974a1b6b7b7b691f786ff1d6bdded05\nChange-Id: I56f10d8e25e57da59f3da57fe797f615433d70a7\n'}]",0,838542,1af2dd6ac941a230cc0e7e8930646e38b02107b2,8,2,2,15343,,,0,"Fix docs-building on old stable branches

For a while now, the nightly job has bombed out with something like

   Warning, treated as error:
   .../swift/doc/source/middleware.rst:268: (WARNING/2) autodoc: failed to import module
   'swift.common.middleware.xprofile'; the following exception was raised:
   Traceback (most recent call last):
     File "".../python3.5/site-packages/sphinx/ext/autodoc.py"", line 657, in import_object
       __import__(self.modname)
     File "".../python3.5/site-packages/swift/common/middleware/xprofile.py"", line 82, in <module>
       import eventlet.green.profile as eprofile
     File "".../python3.5/site-packages/eventlet/green/profile.py"", line 45, in <module>
       thread = patcher.original('thread')  # non-monkeypatched module needed
     File "".../python3.5/site-packages/eventlet/patcher.py"", line 194, in original
       real_mod = __import__(modname, {}, {}, modname.split('.')[:-1])
   ImportError: No module named 'thread'

Not sure why we're running under py35 (the job definition calls out
`sphinx_python: python2`), but that's the crux of the issue -- neither
us nor our dependencies support py3 that far back, so having eventlet
constrained to 0.20.0 on stable/pike and stable/queens is setting us up
for failure.

On the plus side, it's just docs! We don't really *need* this import to
build docs, so catch the ImportError and call it None.

After that, also need to fix some import for xprofile.

Also, fix some tuple-unpacking-in-function-args trouble.

Related-Change: Ie8d28218b974a1b6b7b7b691f786ff1d6bdded05
Change-Id: I56f10d8e25e57da59f3da57fe797f615433d70a7
",git fetch https://review.opendev.org/openstack/swift refs/changes/42/838542/2 && git format-patch -1 --stdout FETCH_HEAD,"['swift/common/middleware/xprofile.py', 'swift/common/middleware/x_profile/html_viewer.py']",2,7e01eae2996dfe856e6e303f20c23f99de199d1b,,"from swift.common.middleware.x_profile.exceptions import PLOTLIBNotInstalled,\ ODFLIBNotInstalled, NotFoundException, MethodNotAllowed, DataLoadFailure,\ ProfileException from swift.common.middleware.x_profile.profile_model import Stats2","from exceptions import PLOTLIBNotInstalled, ODFLIBNotInstalled,\ NotFoundException, MethodNotAllowed, DataLoadFailure, ProfileException from profile_model import Stats2",19,9
openstack%2Fkolla-ansible~stable%2Fyoga~Ie4f502f955dac5ae9ee8ddb4779c2fa2e26840d9,openstack/kolla-ansible,stable/yoga,Ie4f502f955dac5ae9ee8ddb4779c2fa2e26840d9,Fix ansible version in install command,MERGED,2022-04-20 16:49:41.000000000,2022-04-20 17:13:03.000000000,2022-04-20 17:11:15.000000000,"[{'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-04-20 16:49:41.000000000', 'files': ['doc/source/user/quickstart.rst', 'doc/source/user/virtual-environments.rst'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/bad688f46329ddac6789fd7f591e342bcd0cbcc2', 'message': ""Fix ansible version in install command\n\nThere are no 5.* versions of ansible for CentOS 8 Stream yet.\nOne should use pip install 'ansible>=4,<6' according to the\ncurrent documentation.\n\nCloses-Bug: #1969617\nChange-Id: Ie4f502f955dac5ae9ee8ddb4779c2fa2e26840d9\n(cherry picked from commit 7a6aeff403d6b059629ba0f96a68de923cbec836)\n""}]",0,838701,bad688f46329ddac6789fd7f591e342bcd0cbcc2,7,2,1,30491,,,0,"Fix ansible version in install command

There are no 5.* versions of ansible for CentOS 8 Stream yet.
One should use pip install 'ansible>=4,<6' according to the
current documentation.

Closes-Bug: #1969617
Change-Id: Ie4f502f955dac5ae9ee8ddb4779c2fa2e26840d9
(cherry picked from commit 7a6aeff403d6b059629ba0f96a68de923cbec836)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/01/838701/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/user/quickstart.rst', 'doc/source/user/virtual-environments.rst']",2,bad688f46329ddac6789fd7f591e342bcd0cbcc2,bug/1969617-stable/yoga," pip install 'ansible>=4,<6'", pip install 'ansible==5.*',3,3
openstack%2Fsahara~stable%2Fyoga~I7a4071e52f68fea7d07bad690f8590cbb3fb4fa4,openstack/sahara,stable/yoga,I7a4071e52f68fea7d07bad690f8590cbb3fb4fa4,Drop tripleo centos-7 scen3 job definition - not used,MERGED,2022-04-15 11:23:59.000000000,2022-04-20 17:12:51.000000000,2022-04-20 17:09:54.000000000,"[{'_account_id': 10459}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-15 11:23:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/2c0cf8080e2fcbf4652fc6406f63237320b45b67', 'message': ""Move replace centos-7 tripleo scen3 job with centos-8\n\nThis is needed by [1] where this job is being removed. Note\nthat this job as defined will only run for stable/stein [2].\nAlso note that this job doesn't appear to be running anywhere\nit is not wired up in this repo [3] or anywhere else.\n\n[1] https://review.opendev.org/c/openstack/tripleo-ci/+/838110/2#message-2efaca7aaf100874fd6996f18f0e74ae942149c0\n[2] https://opendev.org/openstack/tripleo-ci/src/commit/4daed1b14c582b442f64ec45b1ddba5b58e03986/zuul.d/standalone-jobs.yaml#L476\n[3] https://codesearch.opendev.org/?q=sahara-tripleo-ci-centos-7-scenario003-standalone&i=nope&literal=nope&files=&excludeFiles=&repos=\n\nChange-Id: I7a4071e52f68fea7d07bad690f8590cbb3fb4fa4\n""}, {'number': 2, 'created': '2022-04-20 10:21:19.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/sahara/commit/4af54a062c3536ecce37e1386ee549fadbf3392d', 'message': ""Drop tripleo centos-7 scen3 job definition - not used\n\nThis is needed by [1] where this job is being removed. Note\nthat this job as defined will only run for stable/stein [2].\nAlso note that this job doesn't appear to be running anywhere\nit is not wired up in this repo [3] or anywhere else.\n\n[1] https://review.opendev.org/c/openstack/tripleo-ci/+/838110/2#message-2efaca7aaf100874fd6996f18f0e74ae942149c0\n[2] https://opendev.org/openstack/tripleo-ci/src/commit/4daed1b14c582b442f64ec45b1ddba5b58e03986/zuul.d/standalone-jobs.yaml#L476\n[3] https://codesearch.opendev.org/?q=sahara-tripleo-ci-centos-7-scenario003-standalone&i=nope&literal=nope&files=&excludeFiles=&repos=\n\n(cherry-picked from commit 144adfcf54841b8d3eb19504fa8decea5e9c891b)\n\nChange-Id: I7a4071e52f68fea7d07bad690f8590cbb3fb4fa4\n""}]",0,838015,4af54a062c3536ecce37e1386ee549fadbf3392d,9,2,2,8449,,,0,"Drop tripleo centos-7 scen3 job definition - not used

This is needed by [1] where this job is being removed. Note
that this job as defined will only run for stable/stein [2].
Also note that this job doesn't appear to be running anywhere
it is not wired up in this repo [3] or anywhere else.

[1] https://review.opendev.org/c/openstack/tripleo-ci/+/838110/2#message-2efaca7aaf100874fd6996f18f0e74ae942149c0
[2] https://opendev.org/openstack/tripleo-ci/src/commit/4daed1b14c582b442f64ec45b1ddba5b58e03986/zuul.d/standalone-jobs.yaml#L476
[3] https://codesearch.opendev.org/?q=sahara-tripleo-ci-centos-7-scenario003-standalone&i=nope&literal=nope&files=&excludeFiles=&repos=

(cherry-picked from commit 144adfcf54841b8d3eb19504fa8decea5e9c891b)

Change-Id: I7a4071e52f68fea7d07bad690f8590cbb3fb4fa4
",git fetch https://review.opendev.org/openstack/sahara refs/changes/15/838015/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,2c0cf8080e2fcbf4652fc6406f63237320b45b67,, name: sahara-tripleo-ci-centos-8-scenario003-standalone parent: tripleo-ci-centos-8-scenario003-standalone, name: sahara-tripleo-ci-centos-7-scenario003-standalone parent: tripleo-ci-centos-7-scenario003-standalone,2,2
openstack%2Fkolla-ansible~master~Ie4f502f955dac5ae9ee8ddb4779c2fa2e26840d9,openstack/kolla-ansible,master,Ie4f502f955dac5ae9ee8ddb4779c2fa2e26840d9,Fix ansible version in install command,MERGED,2022-04-20 12:24:00.000000000,2022-04-20 16:26:50.000000000,2022-04-20 16:25:05.000000000,"[{'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-04-20 12:24:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/564f03192e3bbe359934987c59820809aadb0d7c', 'message': 'Fix ansible version in install command\n\nThere are no 5.* versions of ansible installable yet. One should\nuse pip install \'ansible==4.*"" for the time being.\n\nCloses-Bug: #1969617\nChange-Id: Ie4f502f955dac5ae9ee8ddb4779c2fa2e26840d9\n'}, {'number': 2, 'created': '2022-04-20 12:50:57.000000000', 'files': ['doc/source/user/quickstart.rst', 'doc/source/user/virtual-environments.rst'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/7a6aeff403d6b059629ba0f96a68de923cbec836', 'message': ""Fix ansible version in install command\n\nThere are no 5.* versions of ansible for CentOS 8 Stream yet.\nOne should use pip install 'ansible>=4,<6' according to the\ncurrent documentation.\n\nCloses-Bug: #1969617\nChange-Id: Ie4f502f955dac5ae9ee8ddb4779c2fa2e26840d9\n""}]",7,838719,7a6aeff403d6b059629ba0f96a68de923cbec836,15,2,2,13671,,,0,"Fix ansible version in install command

There are no 5.* versions of ansible for CentOS 8 Stream yet.
One should use pip install 'ansible>=4,<6' according to the
current documentation.

Closes-Bug: #1969617
Change-Id: Ie4f502f955dac5ae9ee8ddb4779c2fa2e26840d9
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/19/838719/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/user/quickstart.rst', 'doc/source/user/virtual-environments.rst']",2,564f03192e3bbe359934987c59820809aadb0d7c,bug/1969617, pip install 'ansible==4.*', pip install 'ansible==5.*',3,3
openstack%2Fkolla~stable%2Fussuri~If71fdcb4c6fb586a6fcc988eb9ab6740b94de44f,openstack/kolla,stable/ussuri,If71fdcb4c6fb586a6fcc988eb9ab6740b94de44f,fluentd: pin yajl-ruby 1.4.1 as we have old Ruby (!x86-64 only),MERGED,2022-04-20 11:44:48.000000000,2022-04-20 16:26:36.000000000,2022-04-20 16:25:02.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 27339}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-04-20 11:44:48.000000000', 'files': ['docker/fluentd/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/13b4506b8e0873fd9f5836f832fd4fe7341236d9', 'message': 'fluentd: pin yajl-ruby 1.4.1 as we have old Ruby (!x86-64 only)\n\nThe last version of yajl-ruby (~> 1.0) to support your Ruby & RubyGems was 1.4.1.\nTry installing it with `gem install yajl-ruby -v 1.4.1` and then running the current command again\nyajl-ruby requires Ruby version >= 2.6.0. The current ruby version is 2.5.0.\n\nChange-Id: If71fdcb4c6fb586a6fcc988eb9ab6740b94de44f\n'}]",4,838716,13b4506b8e0873fd9f5836f832fd4fe7341236d9,11,5,1,24072,,,0,"fluentd: pin yajl-ruby 1.4.1 as we have old Ruby (!x86-64 only)

The last version of yajl-ruby (~> 1.0) to support your Ruby & RubyGems was 1.4.1.
Try installing it with `gem install yajl-ruby -v 1.4.1` and then running the current command again
yajl-ruby requires Ruby version >= 2.6.0. The current ruby version is 2.5.0.

Change-Id: If71fdcb4c6fb586a6fcc988eb9ab6740b94de44f
",git fetch https://review.opendev.org/openstack/kolla refs/changes/16/838716/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/fluentd/Dockerfile.j2'],1,13b4506b8e0873fd9f5836f832fd4fe7341236d9,fix-aarch64,"RUN /usr/bin/gem install yajl-ruby:""<=1.4.1"" fluentd --no-rdoc --no-ri",RUN /usr/bin/gem install fluentd --no-rdoc --no-ri,1,1
openstack%2Fnova~master~Id395ef0778b9a4e956ef9564e301a8b855ca7f5d,openstack/nova,master,Id395ef0778b9a4e956ef9564e301a8b855ca7f5d,db: Replace use of Connection.connect() method,MERGED,2022-04-08 15:54:51.000000000,2022-04-20 16:24:44.000000000,2022-04-20 16:21:16.000000000,"[{'_account_id': 7166}, {'_account_id': 9708}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-08 15:54:51.000000000', 'files': ['nova/tests/fixtures/nova.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/440fa6ab00994167b4e0b7643bf791e88f5c52d8', 'message': 'db: Replace use of Connection.connect() method\n\nResolve the following RemovedIn20Warning warning:\n\n  The Connection.connect() method is considered legacy as of the 1.x\n  series of SQLAlchemy and will be removed in 2.0.\n\nOnce again, we actually just need to remove the warning filter since\nthis is already fixed elsewhere.\n\nChange-Id: Id395ef0778b9a4e956ef9564e301a8b855ca7f5d\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}]",1,837158,440fa6ab00994167b4e0b7643bf791e88f5c52d8,15,3,1,15334,,,0,"db: Replace use of Connection.connect() method

Resolve the following RemovedIn20Warning warning:

  The Connection.connect() method is considered legacy as of the 1.x
  series of SQLAlchemy and will be removed in 2.0.

Once again, we actually just need to remove the warning filter since
this is already fixed elsewhere.

Change-Id: Id395ef0778b9a4e956ef9564e301a8b855ca7f5d
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/58/837158/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/fixtures/nova.py'],1,440fa6ab00994167b4e0b7643bf791e88f5c52d8,sqlalchemy-20,," message=r'The Connection.connect\(\) method is considered .*', category=sqla_exc.SADeprecationWarning) warnings.filterwarnings( 'ignore', module='nova',",0,6
openstack%2Fnova~master~I1355ac92202cb504a7814afaa1338a4a511f9b54,openstack/nova,master,I1355ac92202cb504a7814afaa1338a4a511f9b54,"db: Replace use of strings in join, defer operations",MERGED,2022-04-08 15:54:51.000000000,2022-04-20 16:23:13.000000000,2022-04-20 16:21:00.000000000,"[{'_account_id': 7166}, {'_account_id': 9708}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-08 15:54:51.000000000', 'files': ['nova/objects/host_mapping.py', 'nova/db/main/api.py', 'nova/tests/unit/db/main/test_api.py', 'nova/tests/fixtures/nova.py', 'nova/objects/instance_mapping.py', 'nova/objects/instance_group.py', 'nova/objects/flavor.py', 'nova/objects/aggregate.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/0939b3c4d17c5c810c3a38f89db263d7b933e477', 'message': 'db: Replace use of strings in join, defer operations\n\nResolve the following RemovedIn20Warning warnings:\n\n  Using strings to indicate column or relationship paths in loader\n  options is deprecated and will be removed in SQLAlchemy 2.0. Please\n  use the class-bound attribute directly.\n\n  Using strings to indicate relationship names in Query.join() is\n  deprecated and will be removed in SQLAlchemy 2.0. Please use the\n  class-bound attribute directly.\n\nThis is rather tricky to resolve. In most cases, we can simply make use\nof getattr to fetch the class-bound attribute, however, there are a\nnumber of places were we were doing ""nested"" joins, e.g.\n\'instances.info_cache\' on the \'SecurityGroup\' model. These need a little\nmore thought.\n\nChange-Id: I1355ac92202cb504a7814afaa1338a4a511f9b54\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}]",15,837156,0939b3c4d17c5c810c3a38f89db263d7b933e477,27,3,1,15334,,,0,"db: Replace use of strings in join, defer operations

Resolve the following RemovedIn20Warning warnings:

  Using strings to indicate column or relationship paths in loader
  options is deprecated and will be removed in SQLAlchemy 2.0. Please
  use the class-bound attribute directly.

  Using strings to indicate relationship names in Query.join() is
  deprecated and will be removed in SQLAlchemy 2.0. Please use the
  class-bound attribute directly.

This is rather tricky to resolve. In most cases, we can simply make use
of getattr to fetch the class-bound attribute, however, there are a
number of places were we were doing ""nested"" joins, e.g.
'instances.info_cache' on the 'SecurityGroup' model. These need a little
more thought.

Change-Id: I1355ac92202cb504a7814afaa1338a4a511f9b54
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/56/837156/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/objects/host_mapping.py', 'nova/db/main/api.py', 'nova/tests/fixtures/nova.py', 'nova/tests/unit/db/main/test_api.py', 'nova/objects/instance_mapping.py', 'nova/objects/instance_group.py', 'nova/objects/flavor.py', 'nova/objects/aggregate.py']",8,0939b3c4d17c5c810c3a38f89db263d7b933e477,sqlalchemy-20, options(orm.joinedload(api_models.Aggregate._hosts)).\ options(orm.joinedload(api_models.Aggregate._metadata)) options(orm.joinedload(api_models.Aggregate._hosts)).\ options(orm.joinedload(api_models.Aggregate._metadata)) options(orm.joinedload(api_models.Aggregate._hosts)).\ options(orm.joinedload(api_models.Aggregate._metadata)) options(orm.joinedload(api_models.Aggregate._hosts)).\ options(orm.joinedload(api_models.Aggregate._metadata)) query = query.join(api_models.Aggregate._hosts) query = query.join(api_models.Aggregate._metadata).filter( query = query.join(api_models.Aggregate._metadata) query = query.options( orm.contains_eager(api_models.Aggregate._metadata) ) query = query.options(orm.joinedload(api_models.Aggregate._hosts)) query = query.join(api_models.Aggregate._metadata) query = query.filter( ~api_models.AggregateMetadata.key.in_(ignored_keys) ) query = query.options( orm.contains_eager(api_models.Aggregate._metadata) ) query = query.options(orm.joinedload(api_models.Aggregate._hosts))," options(orm.joinedload('_hosts')).\ options(orm.joinedload('_metadata')) options(orm.joinedload('_hosts')).\ options(orm.joinedload('_metadata')) options(orm.joinedload('_hosts')).\ options(orm.joinedload('_metadata')) options(orm.joinedload('_hosts')).\ options(orm.joinedload('_metadata')) query = query.join('_hosts') query = query.join(""_metadata"").filter( query = query.join(""_metadata"") query = query.options(orm.contains_eager(""_metadata"")) query = query.options(orm.joinedload(""_hosts"")) query = query.join(""_metadata"") query = query.filter(~api_models.AggregateMetadata.key.in_( ignored_keys)) query = query.options(orm.contains_eager(""_metadata"")) query = query.options(orm.joinedload(""_hosts""))",319,200
openstack%2Fnova~master~I46218c1366af383d27fe500232a6815923441c46,openstack/nova,master,I46218c1366af383d27fe500232a6815923441c46,db: Remove use of empty 'and_()',MERGED,2022-04-08 15:54:51.000000000,2022-04-20 16:21:08.000000000,2022-04-20 16:21:08.000000000,"[{'_account_id': 7166}, {'_account_id': 9708}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-08 15:54:51.000000000', 'files': ['nova/tests/fixtures/nova.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/982e15980c0588a721d715de97305b3f552d24bf', 'message': ""db: Remove use of empty 'and_()'\n\nRemove the following RemovedIn20Warning warning:\n\n  Invoking and_() without arguments is deprecated, and will be\n  disallowed in a future release. For an empty and_() construct, use\n  and_(True, *args)\n\nI say resolve, but we apparently already did this and I just need to\nremove the warning filter. You won't see me complaining...\n\nChange-Id: I46218c1366af383d27fe500232a6815923441c46\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}]",2,837157,982e15980c0588a721d715de97305b3f552d24bf,14,3,1,15334,,,0,"db: Remove use of empty 'and_()'

Remove the following RemovedIn20Warning warning:

  Invoking and_() without arguments is deprecated, and will be
  disallowed in a future release. For an empty and_() construct, use
  and_(True, *args)

I say resolve, but we apparently already did this and I just need to
remove the warning filter. You won't see me complaining...

Change-Id: I46218c1366af383d27fe500232a6815923441c46
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/57/837157/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/fixtures/nova.py'],1,982e15980c0588a721d715de97305b3f552d24bf,sqlalchemy-20,," message=r'Invoking and_\(\) without arguments is deprecated, .*', category=sqla_exc.SADeprecationWarning) warnings.filterwarnings( 'ignore', module='nova',",0,6
openstack%2Fos-resource-classes~master~Ic62cdbfb3f40ecaa2f20345951c8c34e20e6fd23,openstack/os-resource-classes,master,Ic62cdbfb3f40ecaa2f20345951c8c34e20e6fd23,Remove unnecessary unicode prefixes,MERGED,2022-04-19 08:03:09.000000000,2022-04-20 16:08:08.000000000,2022-04-20 16:05:00.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-04-19 08:03:09.000000000', 'files': ['doc/source/conf.py', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/os-resource-classes/commit/3778b1a6084b6e3974d3e6f0f80b9b584405ea55', 'message': 'Remove unnecessary unicode prefixes\n\nChange-Id: Ic62cdbfb3f40ecaa2f20345951c8c34e20e6fd23\n'}]",0,838448,3778b1a6084b6e3974d3e6f0f80b9b584405ea55,7,3,1,31412,,,0,"Remove unnecessary unicode prefixes

Change-Id: Ic62cdbfb3f40ecaa2f20345951c8c34e20e6fd23
",git fetch https://review.opendev.org/openstack/os-resource-classes refs/changes/48/838448/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/conf.py', 'releasenotes/source/conf.py']",2,3778b1a6084b6e3974d3e6f0f80b9b584405ea55,,"copyright = '2017, OpenStack Developers' 'os_resource_classes Release Notes Documentation', 'OpenStack Foundation', 'manual'), 'os_resource_classes Release Notes Documentation', ['OpenStack Foundation'], 1) 'os_resource_classes Release Notes Documentation', 'OpenStack Foundation', 'os_resource_classesReleaseNotes',","copyright = u'2017, OpenStack Developers' u'os_resource_classes Release Notes Documentation', u'OpenStack Foundation', 'manual'), u'os_resource_classes Release Notes Documentation', [u'OpenStack Foundation'], 1) u'os_resource_classes Release Notes Documentation', u'OpenStack Foundation', 'os_resource_classesReleaseNotes',",11,11
openstack%2Fos-resource-classes~master~I3e476822b0e7b3b0197e1016e517cb87b09b8a62,openstack/os-resource-classes,master,I3e476822b0e7b3b0197e1016e517cb87b09b8a62,Update python testing classifier,MERGED,2021-12-21 10:39:17.000000000,2022-04-20 16:06:41.000000000,2022-04-20 16:04:59.000000000,"[{'_account_id': 9708}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-12-21 10:39:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-resource-classes/commit/35056e17c862f2258dfe33df901b5ca9ad2297c7', 'message': 'Update python testing classifier\n\nYoga testing runtime[1] has been updated to add py39\ntesting as voting. Unit tests update are handled by the\njob template change in openstack-zuul-job\n\n- https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/820286\n\nthis commit updates the classifier in setup.cfg file.\n\n[1] https://governance.openstack.org/tc/reference/runtimes/yoga.html\n\nChange-Id: I3e476822b0e7b3b0197e1016e517cb87b09b8a62\n'}, {'number': 2, 'created': '2022-04-19 08:09:48.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/os-resource-classes/commit/6884124914b5d060cbe7f6b872b9e7c13febc2e1', 'message': 'Update python testing classifier\n\nYoga testing runtime[1] has been updated to add py39\ntesting as voting. Unit tests update are handled by the\njob template change in openstack-zuul-job\n\n- https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/820286\n\nthis commit updates the classifier in setup.cfg file.\n\n[1] https://governance.openstack.org/tc/reference/runtimes/yoga.html\n\nChange-Id: I3e476822b0e7b3b0197e1016e517cb87b09b8a62\n'}]",0,822473,6884124914b5d060cbe7f6b872b9e7c13febc2e1,10,4,2,31412,,,0,"Update python testing classifier

Yoga testing runtime[1] has been updated to add py39
testing as voting. Unit tests update are handled by the
job template change in openstack-zuul-job

- https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/820286

this commit updates the classifier in setup.cfg file.

[1] https://governance.openstack.org/tc/reference/runtimes/yoga.html

Change-Id: I3e476822b0e7b3b0197e1016e517cb87b09b8a62
",git fetch https://review.opendev.org/openstack/os-resource-classes refs/changes/73/822473/1 && git format-patch -1 --stdout FETCH_HEAD,"['setup.cfg', 'tox.ini']",2,35056e17c862f2258dfe33df901b5ca9ad2297c7,,"envlist = py37,py39,pep8","envlist = py37,pep8",2,1
openstack%2Fos-traits~master~Id937b87f7c7e2767ce5eb456db39d8ce81a1a69a,openstack/os-traits,master,Id937b87f7c7e2767ce5eb456db39d8ce81a1a69a,Remove unnecessary unicode prefixes,MERGED,2022-04-19 06:32:16.000000000,2022-04-20 16:04:26.000000000,2022-04-20 16:02:40.000000000,"[{'_account_id': 9708}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-04-19 06:32:16.000000000', 'files': ['doc/source/conf.py', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/os-traits/commit/87b1165aa35c412233a8ad1aa0a6c19d7c8571ef', 'message': 'Remove unnecessary unicode prefixes\n\nAll strings are unicode by default in Python 3. No need to mark them as\nsuch.\n\nChange-Id: Id937b87f7c7e2767ce5eb456db39d8ce81a1a69a\n'}]",0,838436,87b1165aa35c412233a8ad1aa0a6c19d7c8571ef,7,4,1,31412,,,0,"Remove unnecessary unicode prefixes

All strings are unicode by default in Python 3. No need to mark them as
such.

Change-Id: Id937b87f7c7e2767ce5eb456db39d8ce81a1a69a
",git fetch https://review.opendev.org/openstack/os-traits refs/changes/36/838436/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/conf.py', 'releasenotes/source/conf.py']",2,87b1165aa35c412233a8ad1aa0a6c19d7c8571ef,,"project = 'os-traits Release Notes' copyright = '2017, OpenStack Foundation'","project = u'os-traits Release Notes' copyright = u'2017, OpenStack Foundation'",4,4
openstack%2Foslo.metrics~master~I73ee8de9fbbd647f83b4537362ce53b1a8f2d503,openstack/oslo.metrics,master,I73ee8de9fbbd647f83b4537362ce53b1a8f2d503,Remove unnecessary unicode prefixes,MERGED,2022-04-19 11:44:58.000000000,2022-04-20 16:03:33.000000000,2022-04-20 16:01:27.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-04-19 11:44:58.000000000', 'files': ['doc/source/conf.py', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/oslo.metrics/commit/5c08056fefa9cb8753ff7fd44c7b0a2c5af040fb', 'message': 'Remove unnecessary unicode prefixes\n\nChange-Id: I73ee8de9fbbd647f83b4537362ce53b1a8f2d503\n'}]",0,838497,5c08056fefa9cb8753ff7fd44c7b0a2c5af040fb,7,3,1,31412,,,0,"Remove unnecessary unicode prefixes

Change-Id: I73ee8de9fbbd647f83b4537362ce53b1a8f2d503
",git fetch https://review.opendev.org/openstack/oslo.metrics refs/changes/97/838497/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/conf.py', 'releasenotes/source/conf.py']",2,5c08056fefa9cb8753ff7fd44c7b0a2c5af040fb,,"project = 'oslo.metrics Release Notes' copyright = '2020, oslo.metrics Developers' 'oslo.metrics Release Notes Documentation', 'oslo.metrics Developers', 'manual'), 'oslo.metrics Release Notes Documentation', ['oslo.metrics Developers'], 1) 'oslo.metrics Release Notes Documentation', 'oslo.metrics Developers', 'oslo.metricsReleaseNotes',","project = u'oslo.metrics Release Notes' copyright = u'2020, oslo.metrics Developers' u'oslo.metrics Release Notes Documentation', u'oslo.metrics Developers', 'manual'), u'oslo.metrics Release Notes Documentation', [u'oslo.metrics Developers'], 1) u'oslo.metrics Release Notes Documentation', u'oslo.metrics Developers', 'oslo.metricsReleaseNotes',",12,12
openstack%2Foslotest~master~I554dee8e91468f8ea2dbcb99a925a2e9057ac378,openstack/oslotest,master,I554dee8e91468f8ea2dbcb99a925a2e9057ac378,Remove unnecessary unicode prefixes,MERGED,2022-04-19 12:01:25.000000000,2022-04-20 16:03:24.000000000,2022-04-20 16:01:25.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-04-19 12:01:25.000000000', 'files': ['oslotest/tests/unit/test_base.py', 'doc/source/conf.py', 'oslotest/tests/unit/test_createfile.py', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/oslotest/commit/49948dfad1845ee151e815201c786e97c6e3c09c', 'message': 'Remove unnecessary unicode prefixes\n\nChange-Id: I554dee8e91468f8ea2dbcb99a925a2e9057ac378\n'}]",0,838500,49948dfad1845ee151e815201c786e97c6e3c09c,8,3,1,31412,,,0,"Remove unnecessary unicode prefixes

Change-Id: I554dee8e91468f8ea2dbcb99a925a2e9057ac378
",git fetch https://review.opendev.org/openstack/oslotest refs/changes/00/838500/1 && git format-patch -1 --stdout FETCH_HEAD,"['oslotest/tests/unit/test_base.py', 'doc/source/conf.py', 'oslotest/tests/unit/test_createfile.py', 'releasenotes/source/conf.py']",4,49948dfad1845ee151e815201c786e97c6e3c09c,,"project = 'oslotest Release Notes' copyright = '2016, oslotest Developers'","project = u'oslotest Release Notes' copyright = u'2016, oslotest Developers'",14,14
openstack%2Foslo.concurrency~master~I56651c1b83baaf443551686d7e8545eba2a0c7a1,openstack/oslo.concurrency,master,I56651c1b83baaf443551686d7e8545eba2a0c7a1,Remove unnecessary unicode prefixes,MERGED,2022-04-19 11:39:42.000000000,2022-04-20 16:03:23.000000000,2022-04-20 16:01:11.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-04-19 11:39:42.000000000', 'files': ['doc/source/conf.py', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/oslo.concurrency/commit/145f060b51bc6da02e32f79f988cc9895ee13599', 'message': 'Remove unnecessary unicode prefixes\n\nChange-Id: I56651c1b83baaf443551686d7e8545eba2a0c7a1\n'}]",0,838495,145f060b51bc6da02e32f79f988cc9895ee13599,8,3,1,31412,,,0,"Remove unnecessary unicode prefixes

Change-Id: I56651c1b83baaf443551686d7e8545eba2a0c7a1
",git fetch https://review.opendev.org/openstack/oslo.concurrency refs/changes/95/838495/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/conf.py', 'releasenotes/source/conf.py']",2,145f060b51bc6da02e32f79f988cc9895ee13599,,"copyright = '2016, oslo.concurrency Developers' 'oslo.concurrency Release Notes Documentation', 'oslo.concurrency Developers', 'manual'), 'oslo.concurrency Release Notes Documentation', ['oslo.concurrency Developers'], 1) 'oslo.concurrency Release Notes Documentation', 'oslo.concurrency Developers', 'oslo.concurrencyReleaseNotes',","copyright = u'2016, oslo.concurrency Developers' u'oslo.concurrency Release Notes Documentation', u'oslo.concurrency Developers', 'manual'), u'oslo.concurrency Release Notes Documentation', [u'oslo.concurrency Developers'], 1) u'oslo.concurrency Release Notes Documentation', u'oslo.concurrency Developers', 'oslo.concurrencyReleaseNotes',",8,8
openstack%2Fsahara~master~I7a4071e52f68fea7d07bad690f8590cbb3fb4fa4,openstack/sahara,master,I7a4071e52f68fea7d07bad690f8590cbb3fb4fa4,Drop tripleo centos-7 scen3 job definition - not used,MERGED,2022-04-15 11:09:52.000000000,2022-04-20 15:55:48.000000000,2022-04-20 15:52:52.000000000,"[{'_account_id': 8449}, {'_account_id': 10459}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-15 11:09:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/6b161be06308dc7d2ea8629bc19cb350290fd3c9', 'message': ""Move replace centos-7 tripleo scen3 job with centos-8\n\nThis is needed by [1] where this job is being removed. Note\nthat this job as defined will only run for stable/stein [2].\nAlso note that this job doesn't appear to be running anywhere\nit is not wired up in this repo [3] or anywhere else.\n\n[1] https://review.opendev.org/c/openstack/tripleo-ci/+/838110/2#message-2efaca7aaf100874fd6996f18f0e74ae942149c0\n[2] https://opendev.org/openstack/tripleo-ci/src/commit/4daed1b14c582b442f64ec45b1ddba5b58e03986/zuul.d/standalone-jobs.yaml#L476\n[3] https://codesearch.opendev.org/?q=sahara-tripleo-ci-centos-7-scenario003-standalone&i=nope&literal=nope&files=&excludeFiles=&repos=\n\nChange-Id: I7a4071e52f68fea7d07bad690f8590cbb3fb4fa4\n""}, {'number': 2, 'created': '2022-04-20 10:19:37.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/sahara/commit/144adfcf54841b8d3eb19504fa8decea5e9c891b', 'message': ""Drop tripleo centos-7 scen3 job definition - not used\n\nThis is needed by [1] where this job is being removed. Note\nthat this job as defined will only run for stable/stein [2].\nAlso note that this job doesn't appear to be running anywhere\nit is not wired up in this repo [3] or anywhere else.\n\n[1] https://review.opendev.org/c/openstack/tripleo-ci/+/838110/2#message-2efaca7aaf100874fd6996f18f0e74ae942149c0\n[2] https://opendev.org/openstack/tripleo-ci/src/commit/4daed1b14c582b442f64ec45b1ddba5b58e03986/zuul.d/standalone-jobs.yaml#L476\n[3] https://codesearch.opendev.org/?q=sahara-tripleo-ci-centos-7-scenario003-standalone&i=nope&literal=nope&files=&excludeFiles=&repos=\n\nChange-Id: I7a4071e52f68fea7d07bad690f8590cbb3fb4fa4\n""}]",11,838165,144adfcf54841b8d3eb19504fa8decea5e9c891b,20,3,2,8449,,,0,"Drop tripleo centos-7 scen3 job definition - not used

This is needed by [1] where this job is being removed. Note
that this job as defined will only run for stable/stein [2].
Also note that this job doesn't appear to be running anywhere
it is not wired up in this repo [3] or anywhere else.

[1] https://review.opendev.org/c/openstack/tripleo-ci/+/838110/2#message-2efaca7aaf100874fd6996f18f0e74ae942149c0
[2] https://opendev.org/openstack/tripleo-ci/src/commit/4daed1b14c582b442f64ec45b1ddba5b58e03986/zuul.d/standalone-jobs.yaml#L476
[3] https://codesearch.opendev.org/?q=sahara-tripleo-ci-centos-7-scenario003-standalone&i=nope&literal=nope&files=&excludeFiles=&repos=

Change-Id: I7a4071e52f68fea7d07bad690f8590cbb3fb4fa4
",git fetch https://review.opendev.org/openstack/sahara refs/changes/65/838165/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,6b161be06308dc7d2ea8629bc19cb350290fd3c9,I7a4071e52f68fea7d07bad690f8590cbb3fb4fa4, name: sahara-tripleo-ci-centos-8-scenario003-standalone parent: tripleo-ci-centos-8-scenario003-standalone, name: sahara-tripleo-ci-centos-7-scenario003-standalone parent: tripleo-ci-centos-7-scenario003-standalone,2,2
openstack%2Fui-cookiecutter~master~If4bae3fde1f29eeb1d4d43942acc21ff2ef19482,openstack/ui-cookiecutter,master,If4bae3fde1f29eeb1d4d43942acc21ff2ef19482,Fix tox-checkbuild CI job,MERGED,2022-04-07 16:33:49.000000000,2022-04-20 15:42:16.000000000,2022-04-20 15:42:16.000000000,"[{'_account_id': 841}, {'_account_id': 1736}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2022-04-07 16:33:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ui-cookiecutter/commit/39051d1e03ccdb5565a12cb7052ac59ee5c4893c', 'message': ""Fix tox-checkbuild CI job\n\nplaybooks/checkbuild/pre.yaml calls ensure-nodejs role, but the default\nnodejs version defined in ensure-nodejs role is still 6. nodejs6 repo is\nno longer available. This is the cause of the job failure.\nLet's specify nodejs_version used in horizon by default.\n\nChange-Id: If4bae3fde1f29eeb1d4d43942acc21ff2ef19482\n""}, {'number': 2, 'created': '2022-04-07 16:54:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ui-cookiecutter/commit/a0c2bdc6531b874f1b6f2428c7ee152e67e3ed38', 'message': ""Fix tox-checkbuild CI job\n\nplaybooks/checkbuild/pre.yaml calls ensure-nodejs role, but the default\nnodejs version defined in ensure-nodejs role is still 6. nodejs6 repo is\nno longer available. This is the cause of the job failure.\nLet's specify nodejs_version used in horizon by default.\n\nChange-Id: If4bae3fde1f29eeb1d4d43942acc21ff2ef19482\n""}, {'number': 3, 'created': '2022-04-07 17:35:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ui-cookiecutter/commit/b93d6aa714cec5865fae4456cfc2e295e8974568', 'message': 'Fix tox-checkbuild CI job\n\n[Changes in zuul configurations]\n- playbooks/checkbuild/pre.yaml calls ensure-nodejs role, but the default\n  nodejs version defined in ensure-nodejs role is still 6. nodejs6 repo\n  is no longer available. This is the cause of the job failure.\n  Let\'s specify nodejs_version used in horizon by default.\n- Ensure to install tox globally in the system.\n  tox -e checkbuild calls ""tox"" as the test commands,\n  so it needs to be installed globally.\n\nWIP:\nMore UT fixes are required to pass the CI....\nI hope someone take it over.\n\nChange-Id: If4bae3fde1f29eeb1d4d43942acc21ff2ef19482\n'}, {'number': 4, 'created': '2022-04-08 16:12:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ui-cookiecutter/commit/cafbfa408f3d39bbc3349371ed6dfd879118d9d6', 'message': 'Fix tox-checkbuild CI job\n\n[Changes in zuul configurations]\n- playbooks/checkbuild/pre.yaml calls ensure-nodejs role, but the default\n  nodejs version defined in ensure-nodejs role is still 6. nodejs6 repo\n  is no longer available. This is the cause of the job failure.\n  Let\'s specify nodejs_version used in horizon by default.\n- Ensure to install tox globally in the system.\n  tox -e checkbuild calls ""tox"" as the test commands,\n  so it needs to be installed globally.\n- Specify ""python_version"" so that zuul ensures to install a required\n  version of python interpreter.\n\n[Changes in cookiecutter template]\n- hacking version in test-requirements.txt was too old.\n  It is updated to use more recent version which horizon uses.\n- Update python version to 3.9 in tox.ini.\n- More UT fixes are required to pass the CI....\n\nChange-Id: If4bae3fde1f29eeb1d4d43942acc21ff2ef19482\n'}, {'number': 5, 'created': '2022-04-12 00:46:53.000000000', 'files': ['{{cookiecutter.repo_name}}/package.json', '{{cookiecutter.repo_name}}/test-requirements.txt', '{{cookiecutter.repo_name}}/tox.ini', '.zuul.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/ui-cookiecutter/commit/8390e9d6d2feb933d9e153b2ef045fbda63197e6', 'message': 'Fix tox-checkbuild CI job\n\n[Changes in zuul configurations]\n- playbooks/checkbuild/pre.yaml calls ensure-nodejs role, but the default\n  nodejs version defined in ensure-nodejs role is still 6. nodejs6 repo\n  is no longer available. This is the cause of the job failure.\n  Let\'s specify nodejs_version used in horizon by default.\n- Ensure to install tox globally in the system.\n  tox -e checkbuild calls ""tox"" as the test commands,\n  so it needs to be installed globally.\n- Specify ""python_version"" so that zuul ensures to install a required\n  version of python interpreter.\n\n[Changes in cookiecutter template]\n- hacking version in test-requirements.txt was too old.\n  It is updated to use more recent version which horizon uses.\n- Update python version to 3.9 in tox.ini.\n- Install horizon and its dependencies separately.\n  The constraints file contains horizon, so installing horizon along with\n  the constraints file results in a version conflict error.\n\nChange-Id: If4bae3fde1f29eeb1d4d43942acc21ff2ef19482\n'}]",4,836997,8390e9d6d2feb933d9e153b2ef045fbda63197e6,18,4,5,841,,,0,"Fix tox-checkbuild CI job

[Changes in zuul configurations]
- playbooks/checkbuild/pre.yaml calls ensure-nodejs role, but the default
  nodejs version defined in ensure-nodejs role is still 6. nodejs6 repo
  is no longer available. This is the cause of the job failure.
  Let's specify nodejs_version used in horizon by default.
- Ensure to install tox globally in the system.
  tox -e checkbuild calls ""tox"" as the test commands,
  so it needs to be installed globally.
- Specify ""python_version"" so that zuul ensures to install a required
  version of python interpreter.

[Changes in cookiecutter template]
- hacking version in test-requirements.txt was too old.
  It is updated to use more recent version which horizon uses.
- Update python version to 3.9 in tox.ini.
- Install horizon and its dependencies separately.
  The constraints file contains horizon, so installing horizon along with
  the constraints file results in a version conflict error.

Change-Id: If4bae3fde1f29eeb1d4d43942acc21ff2ef19482
",git fetch https://review.opendev.org/openstack/ui-cookiecutter refs/changes/97/836997/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,39051d1e03ccdb5565a12cb7052ac59ee5c4893c,fix-checkbuild, # node_version should match the default nodejs version # used in horizon nodejs jobs. node_version: 14,,3,0
openstack%2Ftripleo-heat-templates~master~I54fad8eb65bdcfd5d71a9999f2fb9ff97c143a62,openstack/tripleo-heat-templates,master,I54fad8eb65bdcfd5d71a9999f2fb9ff97c143a62,Set rx permissions for all in /var/lib/config-data,MERGED,2022-04-07 12:15:08.000000000,2022-04-20 15:37:25.000000000,2022-04-20 15:37:25.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 8449}, {'_account_id': 11090}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-04-07 12:15:08.000000000', 'files': ['common/common-container-setup-tasks.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/73486ded47f94cacbe29bd7fff9337d96e3b5b3a', 'message': 'Set rx permissions for all in /var/lib/config-data\n\nWhen using common-container-setup-tasks.yaml after\ndeployment/unbound/unbound-container-ansible.yaml the permission for\nconfig-data are set to 750 since they are not set explicitely in\ncommon-container-setup-tasks.yaml. This caused problems due to other\nusers not being able to read anythin below that folder. This changes\nsets explicitely the permissions to 755 to avoid these problems.\n\nChange-Id: I54fad8eb65bdcfd5d71a9999f2fb9ff97c143a62\n'}]",10,836954,73486ded47f94cacbe29bd7fff9337d96e3b5b3a,25,6,1,34452,,,0,"Set rx permissions for all in /var/lib/config-data

When using common-container-setup-tasks.yaml after
deployment/unbound/unbound-container-ansible.yaml the permission for
config-data are set to 750 since they are not set explicitely in
common-container-setup-tasks.yaml. This caused problems due to other
users not being able to read anythin below that folder. This changes
sets explicitely the permissions to 755 to avoid these problems.

Change-Id: I54fad8eb65bdcfd5d71a9999f2fb9ff97c143a62
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/54/836954/1 && git format-patch -1 --stdout FETCH_HEAD,['common/common-container-setup-tasks.yaml'],1,73486ded47f94cacbe29bd7fff9337d96e3b5b3a,, mode: 0755,,1,0
openstack%2Freleases~master~I1022621d60fd71e0848bceff7029d2e7dd456c90,openstack/releases,master,I1022621d60fd71e0848bceff7029d2e7dd456c90,"EOL pike, queens, and rocky branches for Swift",ABANDONED,2022-02-26 00:30:42.000000000,2022-04-20 15:29:25.000000000,,"[{'_account_id': 11904}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 32029}]","[{'number': 1, 'created': '2022-02-26 00:30:42.000000000', 'files': ['deliverables/queens/swift.yaml', 'deliverables/pike/swift.yaml', 'deliverables/rocky/swift.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/929cac6e6482d902bb326c395d3ea27f82703731', 'message': 'EOL pike, queens, and rocky branches for Swift\n\nTheir CI has been busted for weeks due to not being able to build docs\nunder py3.\n\nChange-Id: I1022621d60fd71e0848bceff7029d2e7dd456c90\n'}]",2,831067,929cac6e6482d902bb326c395d3ea27f82703731,8,4,1,15343,,,0,"EOL pike, queens, and rocky branches for Swift

Their CI has been busted for weeks due to not being able to build docs
under py3.

Change-Id: I1022621d60fd71e0848bceff7029d2e7dd456c90
",git fetch https://review.opendev.org/openstack/releases refs/changes/67/831067/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/queens/swift.yaml', 'deliverables/pike/swift.yaml', 'deliverables/rocky/swift.yaml']",3,929cac6e6482d902bb326c395d3ea27f82703731,, - version: rocky-eol projects: - repo: openstack/swift hash: b4551a424b9db98d5fbb1b1c9621fac5ec9dd6fd,,12,0
openstack%2Fcharm-ceilometer-agent~stable%2Fyoga~If8667db6b7bed602c5ebcdca7a08232c7eaa0dab,openstack/charm-ceilometer-agent,stable/yoga,If8667db6b7bed602c5ebcdca7a08232c7eaa0dab,Updates for stable branch creation,MERGED,2022-04-15 10:43:13.000000000,2022-04-20 15:24:02.000000000,2022-04-20 15:24:02.000000000,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-15 10:43:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceilometer-agent/commit/19df4e154c20999955147c32163dc7a5a01efff8', 'message': 'Updates for stable branch creation\n\n- Set default branch for git review/gerrit.\n- Switch tests to stable.\n- Switch to using stable charm-helpers branch.\n- Switch to using stable charm.openstack branch.\n- Switch to using stable zaza, zaza-openstack-tests\n  branch\n- (reactive charms) Add build.lock file\n\nChange-Id: If8667db6b7bed602c5ebcdca7a08232c7eaa0dab\n'}, {'number': 2, 'created': '2022-04-20 12:50:58.000000000', 'files': ['.gitreview', 'test-requirements.txt', 'charm-helpers-hooks.yaml'], 'web_link': 'https://opendev.org/openstack/charm-ceilometer-agent/commit/e63c5e58bec70def8bc6fc159351e4530b998ebc', 'message': 'Updates for stable branch creation\n\n- Set default branch for git review/gerrit.\n- Switch tests to stable.\n- Switch to using stable charm-helpers branch.\n- Switch to using stable charm.openstack branch.\n- Switch to using stable zaza, zaza-openstack-tests\n  branch\n- (reactive charms) Add build.lock file\n\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/759\nChange-Id: If8667db6b7bed602c5ebcdca7a08232c7eaa0dab\n'}]",3,838116,e63c5e58bec70def8bc6fc159351e4530b998ebc,14,3,2,20870,,,0,"Updates for stable branch creation

- Set default branch for git review/gerrit.
- Switch tests to stable.
- Switch to using stable charm-helpers branch.
- Switch to using stable charm.openstack branch.
- Switch to using stable zaza, zaza-openstack-tests
  branch
- (reactive charms) Add build.lock file

func-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/759
Change-Id: If8667db6b7bed602c5ebcdca7a08232c7eaa0dab
",git fetch https://review.opendev.org/openstack/charm-ceilometer-agent refs/changes/16/838116/1 && git format-patch -1 --stdout FETCH_HEAD,"['.gitreview', 'test-requirements.txt', 'charm-helpers-hooks.yaml']",3,19df4e154c20999955147c32163dc7a5a01efff8,charm-release-2204,repo: https://github.com/juju/charm-helpers@stable/yoga,repo: https://github.com/juju/charm-helpers,5,3
openstack%2Fdiskimage-builder~master~I8cb34914bbbfa05521bbb71cc6637368b980358f,openstack/diskimage-builder,master,I8cb34914bbbfa05521bbb71cc6637368b980358f,"Move grub-install to the end, and skip for partition images",MERGED,2022-01-30 22:59:53.000000000,2022-04-20 15:16:51.000000000,2022-04-20 15:14:05.000000000,"[{'_account_id': 4571}, {'_account_id': 7118}, {'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-30 22:59:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/f3809c79810a3834996d618258826183ad903c79', 'message': ""Allow the bootloader element with the default block device\n\nThe bootloader element installs the grub bootloader for partitioned\nimages, but it also correctly sets values in /etc/default/grub and BLS\nentries.\n\nThis value setting is useful even if the bootloader isn't installed.\nFor example, the overcloud-full partition image benefits from a\ncorrect /etc/default/grub and BLS entries which ironic-python-agent\nwill use when it installs grub on the disk during baremetal deploy.\n\nThis change allows overcloud-full to use the bootloader element\ninstead of the grub2 element, which builds an image with the correct\nroot device on centos9.\n\nThis change has been validated locally by building and deploying a\ncentos9 based overcloud-full partition image along with change\nI9a0936c415485166962194104c7c54ee520e9516.\n\nChange-Id: I8cb34914bbbfa05521bbb71cc6637368b980358f\n""}, {'number': 2, 'created': '2022-01-31 19:59:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/2b524d3f2403bc55b24a8c8230d39ed1e7bee90f', 'message': ""Allow the bootloader element with the default block device\n\nThe bootloader element installs the grub bootloader for partitioned\nimages, but it also correctly sets values in /etc/default/grub and BLS\nentries.\n\nThis value setting is useful even if the bootloader isn't installed.\nFor example, the overcloud-full partition image benefits from a\ncorrect /etc/default/grub and BLS entries which ironic-python-agent\nwill use when it installs grub on the disk during baremetal deploy.\n\nThis change allows overcloud-full to use the bootloader element\ninstead of the grub2 element, which builds an image with the correct\nroot device on centos9.\n\nThis change has been validated locally by building and deploying a\ncentos9 based overcloud-full partition image along with change\nI9a0936c415485166962194104c7c54ee520e9516.\n\nChange-Id: I8cb34914bbbfa05521bbb71cc6637368b980358f\n""}, {'number': 3, 'created': '2022-02-02 00:27:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/64bc4a7995b4f0ff8f566eb0467fe1198ec4d28c', 'message': ""Allow the bootloader element with the default block device\n\nThe bootloader element installs the grub bootloader for partitioned\nimages, but it also correctly sets values in /etc/default/grub and BLS\nentries.\n\nThis value setting is useful even if the bootloader isn't installed.\nFor example, the overcloud-full partition image benefits from a\ncorrect /etc/default/grub and BLS entries which ironic-python-agent\nwill use when it installs grub on the disk during baremetal deploy.\n\nThis change allows overcloud-full to use the bootloader element\ninstead of the grub2 element, which builds an image with the correct\nroot device on centos9.\n\nThis change has been validated locally by building and deploying a\ncentos9 based overcloud-full partition image along with change\nI9a0936c415485166962194104c7c54ee520e9516.\n\nChange-Id: I8cb34914bbbfa05521bbb71cc6637368b980358f\n""}, {'number': 4, 'created': '2022-02-11 03:05:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/3b5191c95592a4625468abe7328df6521312f0eb', 'message': ""Move grub-install to the end, and skip for partition images\n\nThe bootloader element installs the grub bootloader for whole-disk\nimages, but it also correctly sets values in /etc/default/grub and BLS\nentries.\n\nThis value setting is useful even if the bootloader isn't installed.\nFor example, the overcloud-full partition image benefits from a\ncorrect /etc/default/grub and BLS entries which ironic-python-agent\nwill use when it installs grub on the disk during baremetal deploy.\n\nThis change moves the actual grub install to the end of the script,\nand if there is no $DIB_BLOCK_DEVICE set then install is skipped.\n\nThis allows overcloud-full to use the bootloader element instead of\nthe grub2 element, so the correct grub defaults are set on centos9,\nincluding the correct root device on centos9.\n\nChange-Id: I8cb34914bbbfa05521bbb71cc6637368b980358f\n""}, {'number': 5, 'created': '2022-02-13 21:26:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/296ff84fe7e1e55db964ceba2f4b4bfa9621a50b', 'message': ""Move grub-install to the end, and skip for partition images\n\nThe bootloader element installs the grub bootloader for whole-disk\nimages, but it also correctly sets values in /etc/default/grub and BLS\nentries.\n\nThis value setting is useful even if the bootloader isn't installed.\nFor example, the overcloud-full partition image benefits from a\ncorrect /etc/default/grub and BLS entries which ironic-python-agent\nwill use when it installs grub on the disk during baremetal deploy.\n\nThis change moves the actual grub install to the end of the script,\nand if there is no $DIB_BLOCK_DEVICE set then install is skipped.\n\nThis allows overcloud-full to use the bootloader element instead of\nthe grub2 element, so the correct grub defaults are set on centos9,\nincluding the correct root device on centos9.\n\nChange-Id: I8cb34914bbbfa05521bbb71cc6637368b980358f\n""}, {'number': 6, 'created': '2022-02-14 00:08:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/dd2e0d4c6321cfe0603e52c504c897fe52b024eb', 'message': ""Move grub-install to the end, and skip for partition images\n\nThe bootloader element installs the grub bootloader for whole-disk\nimages, but it also correctly sets values in /etc/default/grub and BLS\nentries.\n\nThis value setting is useful even if the bootloader isn't installed.\nFor example, the overcloud-full partition image benefits from a\ncorrect /etc/default/grub and BLS entries which ironic-python-agent\nwill use when it installs grub on the disk during baremetal deploy.\n\nThis change moves the actual grub install to the end of the script,\nand if there is no $DIB_BLOCK_DEVICE set then install is skipped.\n\nThis allows overcloud-full to use the bootloader element instead of\nthe grub2 element, so the correct grub defaults are set on centos9,\nincluding the correct root device on centos9.\n\nChange-Id: I8cb34914bbbfa05521bbb71cc6637368b980358f\n""}, {'number': 7, 'created': '2022-02-14 01:22:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/ddb8e61749bfcb4cf42dbc553722fd0c07cfe28b', 'message': ""Move grub-install to the end, and skip for partition images\n\nThe bootloader element installs the grub bootloader for whole-disk\nimages, but it also correctly sets values in /etc/default/grub and BLS\nentries.\n\nThis value setting is useful even if the bootloader isn't installed.\nFor example, the overcloud-full partition image benefits from a\ncorrect /etc/default/grub and BLS entries which ironic-python-agent\nwill use when it installs grub on the disk during baremetal deploy.\n\nThis change moves the actual grub install to the end of the script,\nand if there is no $DIB_BLOCK_DEVICE set then install is skipped.\n\nThis allows overcloud-full to use the bootloader element instead of\nthe grub2 element, so the correct grub defaults are set on centos9,\nincluding the correct root device on centos9.\n\nChange-Id: I8cb34914bbbfa05521bbb71cc6637368b980358f\n""}, {'number': 8, 'created': '2022-02-14 03:36:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/1a5d88555568ca84dbf8ad0254ceb52d04f5f8a0', 'message': ""Move grub-install to the end, and skip for partition images\n\nThe bootloader element installs the grub bootloader for whole-disk\nimages, but it also correctly sets values in /etc/default/grub and BLS\nentries.\n\nThis value setting is useful even if the bootloader isn't installed.\nFor example, the overcloud-full partition image benefits from a\ncorrect /etc/default/grub and BLS entries which ironic-python-agent\nwill use when it installs grub on the disk during baremetal deploy.\n\nThis change moves the actual grub install to the end of the script,\nand if there is no $DIB_BLOCK_DEVICE set then install is skipped.\n\nThis allows overcloud-full to use the bootloader element instead of\nthe grub2 element, so the correct grub defaults are set on centos9,\nincluding the correct root device on centos9.\n\nChange-Id: I8cb34914bbbfa05521bbb71cc6637368b980358f\n""}, {'number': 9, 'created': '2022-02-14 20:23:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/241846623b1817d4b07325bc055400e4136b7927', 'message': ""Move grub-install to the end, and skip for partition images\n\nThe bootloader element installs the grub bootloader for whole-disk\nimages, but it also correctly sets values in /etc/default/grub and BLS\nentries.\n\nThis value setting is useful even if the bootloader isn't installed.\nFor example, the overcloud-full partition image benefits from a\ncorrect /etc/default/grub and BLS entries which ironic-python-agent\nwill use when it installs grub on the disk during baremetal deploy.\n\nThis change moves the actual grub install to the end of the script,\nand if there is no $DIB_BLOCK_DEVICE set then install is skipped.\n\nThis allows overcloud-full to use the bootloader element instead of\nthe grub2 element, so the correct grub defaults are set on centos9,\nincluding the correct root device on centos9.\n\nChange-Id: I8cb34914bbbfa05521bbb71cc6637368b980358f\n""}, {'number': 10, 'created': '2022-02-15 20:12:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/565e7815713f244bdd5384ea3abf74dc6c76d3db', 'message': ""Move grub-install to the end, and skip for partition images\n\nThe bootloader element installs the grub bootloader for whole-disk\nimages, but it also correctly sets values in /etc/default/grub and BLS\nentries.\n\nThis value setting is useful even if the bootloader isn't installed.\nFor example, the overcloud-full partition image benefits from a\ncorrect /etc/default/grub and BLS entries which ironic-python-agent\nwill use when it installs grub on the disk during baremetal deploy.\n\nThis change moves the actual grub install to the end of the script,\nand if there is no $DIB_BLOCK_DEVICE set then install is skipped.\n\nThis allows overcloud-full to use the bootloader element instead of\nthe grub2 element, so the correct grub defaults are set on centos9,\nincluding the correct root device on centos9.\n\nChange-Id: I8cb34914bbbfa05521bbb71cc6637368b980358f\n""}, {'number': 11, 'created': '2022-02-17 01:01:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/c1227231bf59941bd563878cd011f614f776d111', 'message': ""Move grub-install to the end, and skip for partition images\n\nThe bootloader element installs the grub bootloader for whole-disk\nimages, but it also correctly sets values in /etc/default/grub and BLS\nentries.\n\nThis value setting is useful even if the bootloader isn't installed.\nFor example, the overcloud-full partition image benefits from a\ncorrect /etc/default/grub and BLS entries which ironic-python-agent\nwill use when it installs grub on the disk during baremetal deploy.\n\nThis change moves the actual grub install to the end of the script,\nand if there is no $DIB_BLOCK_DEVICE set then install is skipped.\n\nThis allows overcloud-full to use the bootloader element instead of\nthe grub2 element, so the correct grub defaults are set on centos9,\nincluding the correct root device on centos9.\n\nChange-Id: I8cb34914bbbfa05521bbb71cc6637368b980358f\n""}, {'number': 12, 'created': '2022-03-17 20:32:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/175dc4155bc6ef9266123cf8827f5314f39fef7f', 'message': ""Move grub-install to the end, and skip for partition images\n\nThe bootloader element installs the grub bootloader for whole-disk\nimages, but it also correctly sets values in /etc/default/grub and BLS\nentries.\n\nThis value setting is useful even if the bootloader isn't installed.\nFor example, the overcloud-full partition image benefits from a\ncorrect /etc/default/grub and BLS entries which ironic-python-agent\nwill use when it installs grub on the disk during baremetal deploy.\n\nThis change moves the actual grub install to the end of the script,\nand if there is no $DIB_BLOCK_DEVICE set then install is skipped.\n\nThis allows overcloud-full to use the bootloader element instead of\nthe grub2 element, so the correct grub defaults are set on centos9,\nincluding the correct root device on centos9.\n\nChange-Id: I8cb34914bbbfa05521bbb71cc6637368b980358f\n""}, {'number': 13, 'created': '2022-03-20 19:43:58.000000000', 'files': ['diskimage_builder/elements/bootloader/finalise.d/50-bootloader'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/9987d0911a65a8439ecc590dfc934247535c006a', 'message': ""Move grub-install to the end, and skip for partition images\n\nThe bootloader element installs the grub bootloader for whole-disk\nimages, but it also correctly sets values in /etc/default/grub and BLS\nentries.\n\nThis value setting is useful even if the bootloader isn't installed.\nFor example, the overcloud-full partition image benefits from a\ncorrect /etc/default/grub and BLS entries which ironic-python-agent\nwill use when it installs grub on the disk during baremetal deploy.\n\nThis change moves the actual grub install to the end of the script,\nand if there is no $DIB_BLOCK_DEVICE set then install is skipped.\n\nThis allows overcloud-full to use the bootloader element instead of\nthe grub2 element, so the correct grub defaults are set on centos9,\nincluding the correct root device on centos9.\n\nChange-Id: I8cb34914bbbfa05521bbb71cc6637368b980358f\n""}]",9,826976,9987d0911a65a8439ecc590dfc934247535c006a,71,4,13,4571,,,0,"Move grub-install to the end, and skip for partition images

The bootloader element installs the grub bootloader for whole-disk
images, but it also correctly sets values in /etc/default/grub and BLS
entries.

This value setting is useful even if the bootloader isn't installed.
For example, the overcloud-full partition image benefits from a
correct /etc/default/grub and BLS entries which ironic-python-agent
will use when it installs grub on the disk during baremetal deploy.

This change moves the actual grub install to the end of the script,
and if there is no $DIB_BLOCK_DEVICE set then install is skipped.

This allows overcloud-full to use the bootloader element instead of
the grub2 element, so the correct grub defaults are set on centos9,
including the correct root device on centos9.

Change-Id: I8cb34914bbbfa05521bbb71cc6637368b980358f
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/76/826976/2 && git format-patch -1 --stdout FETCH_HEAD,['diskimage_builder/elements/bootloader/finalise.d/50-bootloader'],1,f3809c79810a3834996d618258826183ad903c79,bootloader-nopart,"DIB_BLOCK_DEVICE=${DIB_BLOCK_DEVICE:-} install-packages -m bootloader grub-pc echo ""WARNING: No bootloader installation will occur."" echo ""To install a bootloader ensure you have included a block-device-* element"""," echo ""Failure: I'm not sure what bootloader to install"" echo ""Ensure you have included a block-device-* element"" exit 1",5,3
openstack%2Fpython-tripleoclient~master~I0bd4b4a0e33184e0f4d731899138bf4063f3cdac,openstack/python-tripleoclient,master,I0bd4b4a0e33184e0f4d731899138bf4063f3cdac,Remove Heat API dependency for overcloud export,MERGED,2022-03-15 15:26:06.000000000,2022-04-20 15:15:13.000000000,2022-04-20 15:12:41.000000000,"[{'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2022-03-15 15:26:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/51e9c402ed62ee95dfe69bc58900dd3acfc4df3b', 'message': 'Remove Heat API dependency for overcloud export\n\nUpdate the overcloud export command to work without a dependency on Heat\nAPI. The export data is updated to create the export data based solely\non saved stack output data and the config-download generated\novercloud.json so that Heat is not needed to generate the export at all.\n\nChange-Id: I0bd4b4a0e33184e0f4d731899138bf4063f3cdac\nSigned-off-by: James Slagle <jslagle@redhat.com>\n'}, {'number': 2, 'created': '2022-03-18 21:16:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/f7cc75e96909f2dcdaed3b6a8b7ca66fdbac143c', 'message': 'Remove Heat API dependency for overcloud export\n\nUpdate the overcloud export command to work without a dependency on Heat\nAPI. The export data is updated to create the export data based solely\non saved stack output data and the config-download generated\novercloud.json so that Heat is not needed to generate the export at all.\n\nChange-Id: I0bd4b4a0e33184e0f4d731899138bf4063f3cdac\nSigned-off-by: James Slagle <jslagle@redhat.com>\n'}, {'number': 3, 'created': '2022-03-22 00:45:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/78b165299684b0ed250cbcc086c4c7512a44a1bc', 'message': 'Remove Heat API dependency for overcloud export\n\nUpdate the overcloud export command to work without a dependency on Heat\nAPI. The export data is updated to create the export data based solely\non saved stack output data and the config-download generated\novercloud.json so that Heat is not needed to generate the export at all.\n\nChange-Id: I0bd4b4a0e33184e0f4d731899138bf4063f3cdac\nSigned-off-by: James Slagle <jslagle@redhat.com>\n'}, {'number': 4, 'created': '2022-03-22 12:46:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/cba530fdfce35a89334757db141647c38cab83e3', 'message': 'Remove Heat API dependency for overcloud export\n\nUpdate the overcloud export command to work without a dependency on Heat\nAPI. The export data is updated to create the export data based solely\non saved stack output data and the config-download generated\novercloud.json so that Heat is not needed to generate the export at all.\n\nChange-Id: I0bd4b4a0e33184e0f4d731899138bf4063f3cdac\nSigned-off-by: James Slagle <jslagle@redhat.com>\n'}, {'number': 5, 'created': '2022-04-18 20:28:36.000000000', 'files': ['tripleoclient/tests/v1/test_overcloud_export.py', 'tripleoclient/tests/test_export.py', 'tripleoclient/v1/overcloud_export.py', 'tripleoclient/export.py', 'tripleoclient/v1/overcloud_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/d7af2f54826b3086af4691753b00173dc7a95a70', 'message': 'Remove Heat API dependency for overcloud export\n\nUpdate the overcloud export command to work without a dependency on Heat\nAPI. The export data is updated to create the export data based solely\non saved stack output data and the config-download generated\novercloud.json so that Heat is not needed to generate the export at all.\n\nChange-Id: I0bd4b4a0e33184e0f4d731899138bf4063f3cdac\nSigned-off-by: James Slagle <jslagle@redhat.com>\n'}]",3,833843,d7af2f54826b3086af4691753b00173dc7a95a70,33,6,5,7144,,,0,"Remove Heat API dependency for overcloud export

Update the overcloud export command to work without a dependency on Heat
API. The export data is updated to create the export data based solely
on saved stack output data and the config-download generated
overcloud.json so that Heat is not needed to generate the export at all.

Change-Id: I0bd4b4a0e33184e0f4d731899138bf4063f3cdac
Signed-off-by: James Slagle <jslagle@redhat.com>
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/43/833843/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/tests/v1/test_overcloud_export.py', 'tripleoclient/tests/test_export.py', 'tripleoclient/v1/overcloud_export.py', 'tripleoclient/export.py', 'tripleoclient/v1/overcloud_deploy.py']",5,51e9c402ed62ee95dfe69bc58900dd3acfc4df3b,," self.working_dir,"," self.orchestration_client,",124,168
openstack%2Fpuppet-pacemaker~master~I1126d5b12dc4615778a898416472c35baa7a5333,openstack/puppet-pacemaker,master,I1126d5b12dc4615778a898416472c35baa7a5333,Add missing puppet-corosync to dependency,ABANDONED,2021-07-07 23:51:55.000000000,2022-04-20 15:03:53.000000000,,"[{'_account_id': 6681}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 22954}]","[{'number': 1, 'created': '2021-07-07 23:51:55.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-pacemaker/commit/632f57ef80f5168a608bcb70021299aaaa21ddc0', 'message': 'Add missing puppet-corosync to dependency\n\nChange-Id: I1126d5b12dc4615778a898416472c35baa7a5333\n'}]",2,799922,632f57ef80f5168a608bcb70021299aaaa21ddc0,8,4,1,9816,,,0,"Add missing puppet-corosync to dependency

Change-Id: I1126d5b12dc4615778a898416472c35baa7a5333
",git fetch https://review.opendev.org/openstack/puppet-pacemaker refs/changes/22/799922/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,632f57ef80f5168a608bcb70021299aaaa21ddc0,," }, { ""name"": ""puppet/corosync"", ""version_requirement"": "">= 5.0.0""",,4,0
openstack%2Fnova~stable%2Fxena~Ica919c3e8879d94b393afd638b71ffe0936f5750,openstack/nova,stable/xena,Ica919c3e8879d94b393afd638b71ffe0936f5750,Fix openstack-tox-lower-constraints in stable/xena,ABANDONED,2022-04-05 13:18:31.000000000,2022-04-20 15:02:53.000000000,,"[{'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-05 13:18:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/30e21c88a61beae132f32e1f1f5643d75fbf3d15', 'message': 'stable/xena: fix openstack-tox-lower-constraints\n\nA WIP patch to fix openstack-tox-lower-constraints test which is\ncurrently broken for stable/xena\n\nChange-Id: Ica919c3e8879d94b393afd638b71ffe0936f5750\n'}, {'number': 2, 'created': '2022-04-05 13:24:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/351f1de2c428280dea6e7eb72ef7e0876f64b470', 'message': 'stable/xena: fix openstack-tox-lower-constraints\n\nA WIP patch to fix openstack-tox-lower-constraints test which is\ncurrently broken for stable/xena\n\nChange-Id: Ica919c3e8879d94b393afd638b71ffe0936f5750\n'}, {'number': 3, 'created': '2022-04-05 14:58:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4a3b29213e0f243d01af1d69b36484604f3072fd', 'message': 'stable/xena: fix openstack-tox-lower-constraints\n\nA WIP patch to fix openstack-tox-lower-constraints test which is\ncurrently broken for stable/xena\n\nChange-Id: Ica919c3e8879d94b393afd638b71ffe0936f5750\n'}, {'number': 4, 'created': '2022-04-06 12:25:18.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/97ff20f8c8b399cc042e231503eb74392078dded', 'message': 'Fix openstack-tox-lower-constraints in stable/xena\n\nopenstack-tox-lower-constraints test is currently broken because\nUbuntu image for lower constaraints job was be updated from\nBionic (18.04) to Focal (20.04) with change\nIfbffa10ba2346959869eb819162453f64e1a0540. As a result, existing\ntest configuration no longer works for python3.6, which is still\nsupported in Xena.\n\nIn related upstream discussions [1] (kudos to Mel) it was mentioned\nthat possible solution is to simply drop openstack-tox-lower-constraints\njob for stable branches.\n\nThis patch proposes alternative: it introduces\nnova-tox-lower-constraints job instead of\nnova-tox-lower-constraints and tells Zuul to use Bionic image to run it.\n\n[1]\nhttps://meetings.opendev.org/irclogs/%23openstack-infra/%23openstack-infra.2022-04-01.log.html#t2022-04-01T21:58:59\nhttps://meetings.opendev.org/irclogs/%23openstack-nova/%23openstack-nova.2022-04-03.log.html\n\nChange-Id: Ica919c3e8879d94b393afd638b71ffe0936f5750\n'}]",2,836650,97ff20f8c8b399cc042e231503eb74392078dded,18,2,4,19234,,,0,"Fix openstack-tox-lower-constraints in stable/xena

openstack-tox-lower-constraints test is currently broken because
Ubuntu image for lower constaraints job was be updated from
Bionic (18.04) to Focal (20.04) with change
Ifbffa10ba2346959869eb819162453f64e1a0540. As a result, existing
test configuration no longer works for python3.6, which is still
supported in Xena.

In related upstream discussions [1] (kudos to Mel) it was mentioned
that possible solution is to simply drop openstack-tox-lower-constraints
job for stable branches.

This patch proposes alternative: it introduces
nova-tox-lower-constraints job instead of
nova-tox-lower-constraints and tells Zuul to use Bionic image to run it.

[1]
https://meetings.opendev.org/irclogs/%23openstack-infra/%23openstack-infra.2022-04-01.log.html#t2022-04-01T21:58:59
https://meetings.opendev.org/irclogs/%23openstack-nova/%23openstack-nova.2022-04-03.log.html

Change-Id: Ica919c3e8879d94b393afd638b71ffe0936f5750
",git fetch https://review.opendev.org/openstack/nova refs/changes/50/836650/4 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,30e21c88a61beae132f32e1f1f5643d75fbf3d15,tox-lower-constraints, name: nova-tox-lower-constraints parent: openstack-tox-lower-constraints nodeset: openstack-single-node-bionic description: | Run unit tests using lower constraints requiremenents. Uses tox with the ``lower-constraints`` environment. vars: tox_envlist: lower-constraints - job:,,11,0
openstack%2Fcinder~stable%2Fvictoria~If26ebd6a94512b1d8ecc1b786f518f667fc19ffe,openstack/cinder,stable/victoria,If26ebd6a94512b1d8ecc1b786f518f667fc19ffe,fix 'huawei dorado v6' create new volume from snapshot error,NEW,2022-04-08 01:54:22.000000000,2022-04-20 14:54:44.000000000,,"[{'_account_id': 4523}, {'_account_id': 13425}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-08 01:54:22.000000000', 'files': ['cinder/volume/drivers/huawei/constants.py', 'cinder/volume/drivers/huawei/huawei_conf.py', 'cinder/tests/unit/volume/drivers/huawei/test_huawei_drivers.py', 'cinder/volume/drivers/huawei/common.py', 'cinder/volume/drivers/huawei/rest_client.py', 'cinder/volume/drivers/huawei/huawei_utils.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/be93b23379abac2f38d94ded2d2dadb5984d0a37', 'message': ""fix 'huawei dorado v6' create new volume from snapshot error\n\nchange the luncopy mode,in dorado v6 we use clone_pair\nmodified some interface to call dorado v6\n\nCloses-Bug: #1942342\nChange-Id: If26ebd6a94512b1d8ecc1b786f518f667fc19ffe\n(cherry picked from commit 77da18785af7bede26d3478934864e293c6f4ef6)\n""}]",3,837052,be93b23379abac2f38d94ded2d2dadb5984d0a37,18,3,1,34247,,,0,"fix 'huawei dorado v6' create new volume from snapshot error

change the luncopy mode,in dorado v6 we use clone_pair
modified some interface to call dorado v6

Closes-Bug: #1942342
Change-Id: If26ebd6a94512b1d8ecc1b786f518f667fc19ffe
(cherry picked from commit 77da18785af7bede26d3478934864e293c6f4ef6)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/52/837052/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/huawei/constants.py', 'cinder/volume/drivers/huawei/huawei_conf.py', 'cinder/tests/unit/volume/drivers/huawei/test_huawei_drivers.py', 'cinder/volume/drivers/huawei/common.py', 'cinder/volume/drivers/huawei/rest_client.py', 'cinder/volume/drivers/huawei/huawei_utils.py']",6,be93b23379abac2f38d94ded2d2dadb5984d0a37,bug/1942342-stable/victoria, def is_support_clone_pair(client): array_info = client.get_array_info() version_info = array_info['PRODUCTVERSION'] if version_info >= constants.SUPPORT_CLONE_PAIR_VERSION: return True,,245,42
openstack%2Fcinder~stable%2Fvictoria~I5dbbcca780017b358600016afca8a9424aa137fd,openstack/cinder,stable/victoria,I5dbbcca780017b358600016afca8a9424aa137fd,RBD: Call trash operation when plain deletion fails,ABANDONED,2021-12-27 18:33:01.000000000,2022-04-20 14:48:58.000000000,,"[{'_account_id': 5314}, {'_account_id': 22348}, {'_account_id': 27615}]","[{'number': 1, 'created': '2021-12-27 18:33:01.000000000', 'files': ['cinder/volume/drivers/rbd.py', 'releasenotes/notes/bug-1941815-RBD-call-trash-operation-when-plain-deletion-fails-50cef4a8a8010ba9.yaml', 'cinder/tests/unit/volume/drivers/test_rbd.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/082f9e0a3739dbead5d4e5bcba3c386ada1e1365', 'message': ""RBD: Call trash operation when plain deletion fails\n\nCurrently RBD doesn't allow deleting volumes with snapshots or volume\ndependencies. This causes Cinder API errors on delete calls that should\nsucceed.\n\nWhen using the RBD v2 clone api, deleting a volume that has a snapshot\nin the trash space raises a busy exception.\n\nIn order to solve this, this patch removes the proactive VolumeIsBusy\nexception raise and calls the trash operation which should succeed when\nthe volume has dependencies.\n\nIn addition to this code it's important to enable the Ceph Trash auto\npurge. Otherwise Ceph may end up with a couple of images in trash\nnamespace for a while. However, this approach is the lesser of 2 evils\nbecause the user will be able to delete volumes with dependencies\nwhile the operator could check the trash namespace and manually purge\nthe images. It is definitely better to potentially trouble 1 person\n(operator) that didn't read the release notes once than troubling\nevery single user.\n\nCloses-Bug: #1941815\nCo-Author: Eric Harney <eharney@redhat.com>\nChange-Id: I5dbbcca780017b358600016afca8a9424aa137fd\n(cherry picked from commit 5226a13d149ffd991744f37618a06267eadb5f49)\n(cherry picked from commit 50f4dd044508f3ff9701e1e17ccd65a89db6a7aa)\n""}]",3,822939,082f9e0a3739dbead5d4e5bcba3c386ada1e1365,17,3,1,20813,,,0,"RBD: Call trash operation when plain deletion fails

Currently RBD doesn't allow deleting volumes with snapshots or volume
dependencies. This causes Cinder API errors on delete calls that should
succeed.

When using the RBD v2 clone api, deleting a volume that has a snapshot
in the trash space raises a busy exception.

In order to solve this, this patch removes the proactive VolumeIsBusy
exception raise and calls the trash operation which should succeed when
the volume has dependencies.

In addition to this code it's important to enable the Ceph Trash auto
purge. Otherwise Ceph may end up with a couple of images in trash
namespace for a while. However, this approach is the lesser of 2 evils
because the user will be able to delete volumes with dependencies
while the operator could check the trash namespace and manually purge
the images. It is definitely better to potentially trouble 1 person
(operator) that didn't read the release notes once than troubling
every single user.

Closes-Bug: #1941815
Co-Author: Eric Harney <eharney@redhat.com>
Change-Id: I5dbbcca780017b358600016afca8a9424aa137fd
(cherry picked from commit 5226a13d149ffd991744f37618a06267eadb5f49)
(cherry picked from commit 50f4dd044508f3ff9701e1e17ccd65a89db6a7aa)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/39/822939/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/rbd.py', 'releasenotes/notes/bug-1941815-RBD-call-trash-operation-when-plain-deletion-fails-50cef4a8a8010ba9.yaml', 'cinder/tests/unit/volume/drivers/test_rbd.py']",3,082f9e0a3739dbead5d4e5bcba3c386ada1e1365,,"class MockImageHasSnapshotsException(MockException): """"""Used as mock for rbd.ImageHasSnapshots."""""" inst.mock_rbd.ImageHasSnapshots = MockImageHasSnapshotsException def test_delete_volume_clone_info_return_parent(self): client = self.mock_client.return_value self.driver.rbd.Image.return_value.list_snaps.return_value = [] pool = 'volumes' parent = True parent_snap = self.snapshot_b mock_get_clone_info = self.mock_object(self.driver, '_get_clone_info', return_value=(pool, parent, parent_snap)) m_del_clone_parent_refs = self.mock_object(self.driver, '_delete_clone_parent_refs') m_del_back_snaps = self.mock_object(self.driver, '_delete_backup_snaps') self.driver.delete_volume(self.volume_a) mock_get_clone_info.assert_called_once_with( self.mock_rbd.Image.return_value, self.volume_a.name, None) m_del_clone_parent_refs.assert_called_once() (self.driver.rbd.Image.return_value .list_snaps.assert_called_once_with()) client.__enter__.assert_called_once_with() client.__exit__.assert_called_once_with(None, None, None) m_del_back_snaps.assert_called_once_with( self.mock_rbd.Image.return_value) self.assertFalse( self.driver.rbd.Image.return_value.unprotect_snap.called) self.assertEqual( 1, self.driver.rbd.RBD.return_value.remove.call_count) @common_mocks self.driver.delete_volume(self.volume_a) 1, self.mock_rbd.RBD.return_value.remove.call_count) self.assertEqual(1, len(RAISED_EXCEPTIONS)) self.mock_rbd.RBD.return_value.trash_move.\ assert_called_once_with( mock.ANY, self.volume_a.name, 0) @common_mocks def test_delete_volume_has_snapshots(self): self.mock_rbd.Image.return_value.list_snaps.return_value = [] self.mock_rbd.RBD.return_value.remove.side_effect = ( self.mock_rbd.ImageHasSnapshots) mock_get_clone_info = self.mock_object(self.driver, '_get_clone_info', return_value=(None, None, None)) m_del_backup_snaps = self.mock_object(self.driver, '_delete_backup_snaps') with mock.patch.object(driver, 'RADOSClient') as mock_rados_client: self.driver.delete_volume(self.volume_a) mock_get_clone_info.assert_called_once_with( self.mock_rbd.Image.return_value, self.volume_a.name, None) (self.mock_rbd.Image.return_value.list_snaps .assert_called_once_with()) mock_rados_client.assert_called_once_with(self.driver) m_del_backup_snaps.assert_called_once_with( self.mock_rbd.Image.return_value) self.assertFalse( self.mock_rbd.Image.return_value.unprotect_snap.called) self.assertEqual( 1, self.mock_rbd.RBD.return_value.remove.call_count) self.assertEqual(1, len(RAISED_EXCEPTIONS)) # Make sure the exception was raised self.assertIn(self.mock_rbd.ImageHasSnapshots, RAISED_EXCEPTIONS) self.mock_rbd.RBD.return_value.trash_move.\ assert_called_once_with( mock.ANY, self.volume_a.name, 0) def test_delete_volume_w_clone_snaps(self): client = self.mock_client.return_value snapshots = [ {'id': 1, 'name': 'snapshot-00000000-0000-0000-0000-000000000000', 'size': 2147483648}, {'id': 2, 'name': 'snap1', 'size': 6442450944}, {'id': 3, 'size': 8589934592, 'name': 'volume-22222222-2222-2222-2222-222222222222.clone_snap'}, {'id': 4, 'size': 5368709120, 'name': 'backup.33333333-3333-3333-3333-333333333333.snap.123'}] self.mock_rbd.Image.return_value.list_snaps.return_value = snapshots mock_get_clone_info = self.mock_object(self.driver, '_get_clone_info', return_value=(None, None, None)) with mock.patch.object(self.driver, '_delete_backup_snaps') as \ mock_delete_backup_snaps: self.driver.delete_volume(self.volume_a) mock_get_clone_info.assert_called_once_with( self.mock_rbd.Image.return_value, self.volume_a.name, snapshots[2]['name']) (self.driver.rbd.Image.return_value .list_snaps.assert_called_once_with()) client.__enter__.assert_called_once_with() client.__exit__.assert_called_once_with(None, None, None) mock_delete_backup_snaps.assert_called_once_with( self.mock_rbd.Image.return_value) self.assertFalse( self.driver.rbd.Image.return_value.unprotect_snap.called) self.assertEqual( 1, self.driver.rbd.RBD.return_value.rename.call_count) @common_mocks"," self.assertRaises(exception.VolumeIsBusy, self.driver.delete_volume, self.volume_a) 3, self.mock_rbd.RBD.return_value.remove.call_count) self.assertEqual(3, len(RAISED_EXCEPTIONS))",170,11
openstack%2Fcharm-magnum~stable%2Fyoga~I313788b3783c68a7bb816e16d4a9bce2b76fd63c,openstack/charm-magnum,stable/yoga,I313788b3783c68a7bb816e16d4a9bce2b76fd63c,Updates for stable branch creation,MERGED,2022-04-15 10:49:22.000000000,2022-04-20 14:38:53.000000000,2022-04-20 14:38:53.000000000,"[{'_account_id': 8992}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-15 10:49:22.000000000', 'files': ['.gitreview', 'test-requirements.txt', 'src/wheelhouse.txt', 'src/test-requirements.txt', 'src/build.lock'], 'web_link': 'https://opendev.org/openstack/charm-magnum/commit/205d309cc973dbeebd1148e4192d540943d9cdd6', 'message': 'Updates for stable branch creation\n\n- Set default branch for git review/gerrit.\n- Switch tests to stable.\n- Switch to using stable charm-helpers branch.\n- Switch to using stable charm.openstack branch.\n- Switch to using stable zaza, zaza-openstack-tests\n  branch\n- (reactive charms) Add build.lock file\n\nChange-Id: I313788b3783c68a7bb816e16d4a9bce2b76fd63c\n'}]",4,838137,205d309cc973dbeebd1148e4192d540943d9cdd6,15,3,1,20870,,,0,"Updates for stable branch creation

- Set default branch for git review/gerrit.
- Switch tests to stable.
- Switch to using stable charm-helpers branch.
- Switch to using stable charm.openstack branch.
- Switch to using stable zaza, zaza-openstack-tests
  branch
- (reactive charms) Add build.lock file

Change-Id: I313788b3783c68a7bb816e16d4a9bce2b76fd63c
",git fetch https://review.opendev.org/openstack/charm-magnum refs/changes/37/838137/1 && git format-patch -1 --stdout FETCH_HEAD,"['.gitreview', 'test-requirements.txt', 'src/wheelhouse.txt', 'src/test-requirements.txt', 'src/build.lock']",5,205d309cc973dbeebd1148e4192d540943d9cdd6,charm-release-2204,"{ ""locks"": [ { ""type"": ""layer"", ""item"": ""layer:options"", ""url"": ""https://github.com/juju-solutions/layer-options.git"", ""vcs"": null, ""branch"": ""refs/heads/master"", ""commit"": ""fcdcea4e5de3e1556c24e6704607862d0ba00a56"" }, { ""type"": ""layer"", ""item"": ""layer:basic"", ""url"": ""https://github.com/juju-solutions/layer-basic.git"", ""vcs"": null, ""branch"": ""refs/heads/master"", ""commit"": ""fb767dcf0786d1d5364199bb3b40bdc86518b45b"" }, { ""type"": ""layer"", ""item"": ""layer:openstack"", ""url"": ""https://github.com/openstack/charm-layer-openstack"", ""vcs"": null, ""branch"": ""refs/heads/master"", ""commit"": ""e0f700eacb026235e1a04e7cbc28dfbe9d4e4520"" }, { ""type"": ""layer"", ""item"": ""layer:openstack-principle"", ""url"": ""https://github.com/openstack/charm-layer-openstack-principle"", ""vcs"": null, ""branch"": ""refs/heads/master"", ""commit"": ""2541283a7f9c3fa923c0fccd7257e217e11dadcd"" }, { ""type"": ""layer"", ""item"": ""layer:openstack-api"", ""url"": ""https://github.com/openstack/charm-layer-openstack-api"", ""vcs"": null, ""branch"": ""refs/heads/master"", ""commit"": ""34311a62e963d0ce903b7ddb9d70b8f071f71651"" }, { ""type"": ""layer"", ""item"": ""layer:leadership"", ""url"": ""https://git.launchpad.net/layer-leadership"", ""vcs"": null, ""branch"": ""refs/heads/master"", ""commit"": ""cc5bd3f49b2fa5e6c3ab2336763c313ec8bf083f"" }, { ""type"": ""layer"", ""item"": ""magnum"", ""url"": null, ""vcs"": null, ""branch"": ""refs/heads/stable/yoga\nrefs/heads/yoga-updates"", ""commit"": ""refs/heads/stable/yoga\nrefs/heads/yoga-updates"" }, { ""type"": ""layer"", ""item"": ""interface:tls-certificates"", ""url"": ""https://github.com/juju-solutions/interface-tls-certificates"", ""vcs"": null, ""branch"": ""refs/heads/master"", ""commit"": ""d9850016d930a6d507b9fd45e2598d327922b140"" }, { ""type"": ""layer"", ""item"": ""interface:mysql-shared"", ""url"": ""https://github.com/openstack/charm-interface-mysql-shared"", ""vcs"": null, ""branch"": ""refs/heads/master"", ""commit"": ""f90f8c6edce21e4da3a872f0f9d6761730ce025d"" }, { ""type"": ""layer"", ""item"": ""interface:rabbitmq"", ""url"": ""https://github.com/openstack/charm-interface-rabbitmq"", ""vcs"": null, ""branch"": ""refs/heads/master"", ""commit"": ""383121fc584d2d3bf9d233eba0d3708398a4c468"" }, { ""type"": ""layer"", ""item"": ""interface:keystone"", ""url"": ""https://github.com/openstack/charm-interface-keystone"", ""vcs"": null, ""branch"": ""refs/heads/master"", ""commit"": ""501af18b3036f5af92990bc39e750e76e393e5eb"" }, { ""type"": ""layer"", ""item"": ""interface:hacluster"", ""url"": ""https://github.com/openstack/charm-interface-hacluster.git"", ""vcs"": null, ""branch"": ""refs/heads/master"", ""commit"": ""2b714e90b1b8845ce7390bb1dad5a56a65437907"" }, { ""type"": ""layer"", ""item"": ""interface:openstack-ha"", ""url"": ""https://github.com/openstack/charm-interface-openstack-ha"", ""vcs"": null, ""branch"": ""refs/heads/master"", ""commit"": ""a3b00e5b5fd857d130698c5cfe4b918877f0ab80"" }, { ""type"": ""python_module"", ""package"": ""netifaces"", ""vcs"": null, ""version"": ""0.11.0"" }, { ""type"": ""python_module"", ""package"": ""pyaml"", ""vcs"": null, ""version"": ""21.10.1"" }, { ""type"": ""python_module"", ""package"": ""setuptools"", ""vcs"": null, ""version"": ""49.6.0"" }, { ""type"": ""python_module"", ""package"": ""setuptools_scm"", ""vcs"": null, ""version"": ""6.4.2"" }, { ""type"": ""python_module"", ""package"": ""packaging"", ""vcs"": null, ""version"": ""21.3"" }, { ""type"": ""python_module"", ""package"": ""wheel"", ""vcs"": null, ""version"": ""0.37.1"" }, { ""type"": ""python_module"", ""package"": ""netaddr"", ""vcs"": null, ""version"": ""0.7.19"" }, { ""type"": ""python_module"", ""package"": ""pbr"", ""vcs"": null, ""version"": ""5.8.1"" }, { ""type"": ""python_module"", ""package"": ""charmhelpers"", ""url"": ""git+https://github.com/juju/charm-helpers.git"", ""branch"": ""refs/heads/stable/yoga"", ""version"": ""971ac5117c96bd1cb4a6a520787e4509564da582"", ""vcs"": ""git"" }, { ""type"": ""python_module"", ""package"": ""flit_core"", ""vcs"": null, ""version"": ""3.7.1"" }, { ""type"": ""python_module"", ""package"": ""charms.openstack"", ""url"": ""git+https://github.com/openstack/charms.openstack.git"", ""branch"": ""refs/heads/stable/yoga"", ""version"": ""13ef220ce3529fa7b8e11c6e4c5b352d05b6f148"", ""vcs"": ""git"" }, { ""type"": ""python_module"", ""package"": ""pip"", ""vcs"": null, ""version"": ""22.0.4"" }, { ""type"": ""python_module"", ""package"": ""pyparsing"", ""vcs"": null, ""version"": ""3.0.8"" }, { ""type"": ""python_module"", ""package"": ""charms.reactive"", ""vcs"": null, ""version"": ""1.5.0"" }, { ""type"": ""python_module"", ""package"": ""Jinja2"", ""vcs"": null, ""version"": ""3.1.1"" }, { ""type"": ""python_module"", ""package"": ""tomli"", ""vcs"": null, ""version"": ""2.0.1"" }, { ""type"": ""python_module"", ""package"": ""MarkupSafe"", ""vcs"": null, ""version"": ""2.1.1"" }, { ""type"": ""python_module"", ""package"": ""dnspython"", ""vcs"": null, ""version"": ""1.16.0"" }, { ""type"": ""python_module"", ""package"": ""Tempita"", ""vcs"": null, ""version"": ""0.4"" }, { ""type"": ""python_module"", ""package"": ""PyYAML"", ""vcs"": null, ""version"": ""5.3.1"" }, { ""type"": ""python_module"", ""package"": ""psutil"", ""vcs"": null, ""version"": ""5.9.0"" } ] }",,245,5
openstack%2Foctavia~master~I6b9a5e1e3bafe77ad9f9506b8c0995d8c2a00081,openstack/octavia,master,I6b9a5e1e3bafe77ad9f9506b8c0995d8c2a00081,Save the HAProxy state outside of its systemd unit,MERGED,2022-04-13 11:56:00.000000000,2022-04-20 14:28:48.000000000,2022-04-20 14:27:13.000000000,"[{'_account_id': 7353}, {'_account_id': 11628}, {'_account_id': 13995}, {'_account_id': 22348}, {'_account_id': 29244}, {'_account_id': 34429}]","[{'number': 1, 'created': '2022-04-13 11:56:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/d70f9a22acf57a7e49ee894574646c12c86474f0', 'message': 'Save the HAProxy state outside of its systemd unit\n\nBy default, SELinux prevents HAProxy context (haproxy_t) to execute\nshell context (shell_exec_t) for security reasons.\n\nThis prevents HAProxy to actually reload properly, since SELinux will\ndeny its call to a shell to save its state to a file.\n\nIn order to avoid opening a potential security hole in the load-balancer\nimage, the best way is to generate the state file before the actual\nreload.\n\nThere are more details about the SELinux denials in the associated Red\nHat Bugzilla.\n\nResolves: rhbz#2073491\nChange-Id: I6b9a5e1e3bafe77ad9f9506b8c0995d8c2a00081\n'}, {'number': 2, 'created': '2022-04-13 12:33:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/e3d86989b2e4825e45fbe6bed9e76a675dd44390', 'message': 'Save the HAProxy state outside of its systemd unit\n\nBy default, SELinux prevents HAProxy context (haproxy_t) to execute\nshell context (shell_exec_t) for security reasons.\n\nThis prevents HAProxy to actually reload properly, since SELinux will\ndeny its call to a shell to save its state to a file.\n\nIn order to avoid opening a potential security hole in the load-balancer\nimage, the best way is to generate the state file before the actual\nreload.\n\nThere are more details about the SELinux denials in the associated Red\nHat Bugzilla.\n\nResolves: rhbz#2073491\nChange-Id: I6b9a5e1e3bafe77ad9f9506b8c0995d8c2a00081\n'}, {'number': 3, 'created': '2022-04-13 13:21:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/b7108e4a00380024f917ce29ef37553b205ba791', 'message': 'Save the HAProxy state outside of its systemd unit\n\nBy default, SELinux prevents HAProxy context (haproxy_t) to execute\nshell context (shell_exec_t) for security reasons.\n\nThis prevents HAProxy to actually reload properly, since SELinux will\ndeny its call to a shell to save its state to a file.\n\nIn order to avoid opening a potential security hole in the load-balancer\nimage, the best way is to generate the state file before the actual\nreload.\n\nThere are more details about the SELinux denials in the associated Red\nHat Bugzilla.\n\nResolves: rhbz#2073491\nChange-Id: I6b9a5e1e3bafe77ad9f9506b8c0995d8c2a00081\n'}, {'number': 4, 'created': '2022-04-13 13:49:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/467a084be2aa533917b719a9ab13aaeb95cb4d8a', 'message': 'Save the HAProxy state outside of its systemd unit\n\nBy default, SELinux prevents HAProxy context (haproxy_t) to execute\nshell context (shell_exec_t) for security reasons.\n\nThis prevents HAProxy to actually reload properly, since SELinux will\ndeny its call to a shell to save its state to a file.\n\nIn order to avoid opening a potential security hole in the load-balancer\nimage, the best way is to generate the state file before the actual\nreload.\n\nThere are more details about the SELinux denials in the associated Red\nHat Bugzilla.\n\nResolves: rhbz#2073491\nChange-Id: I6b9a5e1e3bafe77ad9f9506b8c0995d8c2a00081\n'}, {'number': 5, 'created': '2022-04-13 15:40:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/222c3889a452f2ec991a8624f113c50f14cdae8a', 'message': 'Save the HAProxy state outside of its systemd unit\n\nBy default, SELinux prevents HAProxy context (haproxy_t) to execute\nshell context (shell_exec_t) for security reasons.\n\nThis prevents HAProxy to actually reload properly, since SELinux will\ndeny its call to a shell to save its state to a file.\n\nIn order to avoid opening a potential security hole in the load-balancer\nimage, the best way is to generate the state file before the actual\nreload.\n\nThere are more details about the SELinux denials in the associated Red\nHat Bugzilla.\n\nResolves: rhbz#2073491\nChange-Id: I6b9a5e1e3bafe77ad9f9506b8c0995d8c2a00081\n'}, {'number': 6, 'created': '2022-04-14 04:43:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/0b3d5c8e5feeea4294f8ae7d05b32b706dc59d05', 'message': 'Save the HAProxy state outside of its systemd unit\n\nBy default, SELinux prevents HAProxy context (haproxy_t) to execute\nshell context (shell_exec_t) for security reasons.\n\nThis prevents HAProxy to actually reload properly, since SELinux will\ndeny its call to a shell to save its state to a file.\n\nIn order to avoid opening a potential security hole in the load-balancer\nimage, the best way is to generate the state file before the actual\nreload.\n\nThere are more details about the SELinux denials in the associated Red\nHat Bugzilla.\n\nResolves: rhbz#2073491\nChange-Id: I6b9a5e1e3bafe77ad9f9506b8c0995d8c2a00081\n'}, {'number': 7, 'created': '2022-04-14 06:11:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/fd63fb0c5d648fdf353a08310cc0e13e813b5d37', 'message': 'Save the HAProxy state outside of its systemd unit\n\nBy default, SELinux prevents HAProxy context (haproxy_t) to execute\nshell context (shell_exec_t) for security reasons.\n\nThis prevents HAProxy to actually reload properly, since SELinux will\ndeny its call to a shell to save its state to a file.\n\nIn order to avoid opening a potential security hole in the load-balancer\nimage, the best way is to generate the state file before the actual\nreload.\n\nThere are more details about the SELinux denials in the associated Red\nHat Bugzilla.\n\nResolves: rhbz#2073491\nChange-Id: I6b9a5e1e3bafe77ad9f9506b8c0995d8c2a00081\n'}, {'number': 8, 'created': '2022-04-14 07:52:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/76f0aa49fe71c8329f8dcac666195ef029a7f216', 'message': 'Save the HAProxy state outside of its systemd unit\n\nBy default, SELinux prevents HAProxy context (haproxy_t) to execute\nshell context (shell_exec_t) for security reasons.\n\nThis prevents HAProxy to actually reload properly, since SELinux will\ndeny its call to a shell to save its state to a file.\n\nIn order to avoid opening a potential security hole in the load-balancer\nimage, the best way is to generate the state file before the actual\nreload.\n\nThere are more details about the SELinux denials in the associated Red\nHat Bugzilla.\n\nResolves: rhbz#2073491\nChange-Id: I6b9a5e1e3bafe77ad9f9506b8c0995d8c2a00081\n'}, {'number': 9, 'created': '2022-04-14 08:02:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/b24ea5516c0a9d68363fb3c6ef6027da740ef47e', 'message': 'Save the HAProxy state outside of its systemd unit\n\nBy default, SELinux prevents HAProxy context (haproxy_t) to execute\nshell context (shell_exec_t) for security reasons.\n\nThis prevents HAProxy to actually reload properly, since SELinux will\ndeny its call to a shell to save its state to a file.\n\nIn order to avoid opening a potential security hole in the load-balancer\nimage, the best way is to generate the state file before the actual\nreload.\n\nThere are more details about the SELinux denials in the associated Red\nHat Bugzilla.\n\nResolves: rhbz#2073491\nChange-Id: I6b9a5e1e3bafe77ad9f9506b8c0995d8c2a00081\n'}, {'number': 10, 'created': '2022-04-14 08:06:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/0d291dda8f6cf7e67639f3d8da2c42e05850eeea', 'message': 'Save the HAProxy state outside of its systemd unit\n\nBy default, SELinux prevents HAProxy context (haproxy_t) to execute\nshell context (shell_exec_t) for security reasons.\n\nThis prevents HAProxy to actually reload properly, since SELinux will\ndeny its call to a shell to save its state to a file.\n\nIn order to avoid opening a potential security hole in the load-balancer\nimage, the best way is to generate the state file before the actual\nreload.\n\nThere are more details about the SELinux denials in the associated Red\nHat Bugzilla.\n\nResolves: rhbz#2073491\nChange-Id: I6b9a5e1e3bafe77ad9f9506b8c0995d8c2a00081\n'}, {'number': 11, 'created': '2022-04-14 08:09:22.000000000', 'files': ['octavia/amphorae/backends/utils/haproxy_query.py', 'octavia/amphorae/backends/agent/api_server/templates/systemd.conf.j2', 'octavia/amphorae/backends/agent/api_server/loadbalancer.py', 'releasenotes/notes/ping-healthcheck-selinux-e3b7d360c8503527.yaml', 'octavia/tests/unit/amphorae/backends/agent/api_server/test_loadbalancer.py', 'octavia/tests/unit/amphorae/backends/utils/test_haproxy_query.py', 'octavia/tests/functional/amphorae/backend/agent/api_server/test_server.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/21d74c373b92f8711ff91766c2e7c8bcb811bdda', 'message': 'Save the HAProxy state outside of its systemd unit\n\nBy default, SELinux prevents HAProxy context (haproxy_t) to execute\nshell context (shell_exec_t) for security reasons.\n\nThis prevents HAProxy to actually reload properly, since SELinux will\ndeny its call to a shell to save its state to a file.\n\nIn order to avoid opening a potential security hole in the load-balancer\nimage, the best way is to generate the state file before the actual\nreload.\n\nThere are more details about the SELinux denials in the associated Red\nHat Bugzilla.\n\nResolves: rhbz#2073491\nChange-Id: I6b9a5e1e3bafe77ad9f9506b8c0995d8c2a00081\n'}]",23,837721,21d74c373b92f8711ff91766c2e7c8bcb811bdda,38,6,11,28223,,,0,"Save the HAProxy state outside of its systemd unit

By default, SELinux prevents HAProxy context (haproxy_t) to execute
shell context (shell_exec_t) for security reasons.

This prevents HAProxy to actually reload properly, since SELinux will
deny its call to a shell to save its state to a file.

In order to avoid opening a potential security hole in the load-balancer
image, the best way is to generate the state file before the actual
reload.

There are more details about the SELinux denials in the associated Red
Hat Bugzilla.

Resolves: rhbz#2073491
Change-Id: I6b9a5e1e3bafe77ad9f9506b8c0995d8c2a00081
",git fetch https://review.opendev.org/openstack/octavia refs/changes/21/837721/9 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/amphorae/backends/utils/haproxy_query.py', 'octavia/amphorae/backends/agent/api_server/templates/systemd.conf.j2', 'octavia/amphorae/backends/agent/api_server/loadbalancer.py']",3,d70f9a22acf57a7e49ee894574646c12c86474f0,rhbz2073491,"from octavia.amphorae.backends.utils import haproxy_query if action == consts.AMP_ACTION_RELOAD: # We now have the ""real"" action, so if we really reload, # we first have to save the state. haproxy_state_file = util.state_file_path(lb_id) stat_sock_file = util.haproxy_sock_path(lb_id) lb_query = haproxy_query.HAProxyQuery(stat_sock_file) if not lb_query.save_state(haproxy_state_file): # We accept to reload haproxy even if the state_file is # not generated, but we probably want to know about that # failure! LOG.debug('Failed to save haproxy-{} state!'.format(lb_id)) ",,33,1
openstack%2Fcharm-guide~master~I474d5bed89d3c85a77649436d5f41ef8b60bfe89,openstack/charm-guide,master,I474d5bed89d3c85a77649436d5f41ef8b60bfe89,Add release note for ceph-nfs,MERGED,2022-04-20 05:33:07.000000000,2022-04-20 14:25:12.000000000,2022-04-20 14:23:40.000000000,"[{'_account_id': 22348}, {'_account_id': 30561}]","[{'number': 1, 'created': '2022-04-20 05:33:07.000000000', 'files': ['doc/source/release-notes/2204.rst'], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/ab236ebd00dfaee326760f9006b0d9292b9a2bac', 'message': 'Add release note for ceph-nfs\n\nChange-Id: I474d5bed89d3c85a77649436d5f41ef8b60bfe89\n'}]",1,838634,ab236ebd00dfaee326760f9006b0d9292b9a2bac,7,2,1,20634,,,0,"Add release note for ceph-nfs

Change-Id: I474d5bed89d3c85a77649436d5f41ef8b60bfe89
",git fetch https://review.opendev.org/openstack/charm-guide refs/changes/34/838634/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/release-notes/2204.rst'],1,ab236ebd00dfaee326760f9006b0d9292b9a2bac,feature/ceph-nfs,ceph-nfs ~~~~~~~~ The ceph-nfs charm provides action-managed NFS storage backed by CephFS. It is a principal charm used in conjunction with a deployed Ceph cluster. ,,6,0
openstack%2Fopenstack-ansible-tests~stable%2Fvictoria~I9991a3db1c0e37fbd159a625ee7e416f0e43316f,openstack/openstack-ansible-tests,stable/victoria,I9991a3db1c0e37fbd159a625ee7e416f0e43316f,Use ansible roles corresponding to stable branches,MERGED,2022-04-11 15:55:04.000000000,2022-04-20 14:19:58.000000000,2022-04-20 14:16:58.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 32666}]","[{'number': 1, 'created': '2022-04-11 15:55:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/f8735a6555748a1f7232bb44f3d3aaac6801e9ff', 'message': 'Use ansible roles corresponding to stable branches\n\nChange-Id: I9991a3db1c0e37fbd159a625ee7e416f0e43316f\n'}, {'number': 2, 'created': '2022-04-11 16:19:24.000000000', 'files': ['test-ansible-role-requirements.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/7c41f2024272faf92d5896dff7242e1e12e26c12', 'message': 'Use ansible roles corresponding to stable branches\n\nChange-Id: I9991a3db1c0e37fbd159a625ee7e416f0e43316f\n'}]",0,837368,7c41f2024272faf92d5896dff7242e1e12e26c12,10,4,2,25023,,,0,"Use ansible roles corresponding to stable branches

Change-Id: I9991a3db1c0e37fbd159a625ee7e416f0e43316f
",git fetch https://review.opendev.org/openstack/openstack-ansible-tests refs/changes/68/837368/1 && git format-patch -1 --stdout FETCH_HEAD,['test-ansible-role-requirements.yml'],1,f8735a6555748a1f7232bb44f3d3aaac6801e9ff,, version: stable/victoria version: stable/victoria version: stable/victoria version: stable/victoria version: stable/victoria, version: master version: master version: master version: master version: master,5,5
openstack%2Ftripleo-quickstart-extras~master~I8654e603121cb09d95c06d2b9a1d5dda2cfa5de9,openstack/tripleo-quickstart-extras,master,I8654e603121cb09d95c06d2b9a1d5dda2cfa5de9,"Revert ""Convert a hieradata override to plain t-h-t parameter""",MERGED,2022-04-20 08:18:24.000000000,2022-04-20 14:19:16.000000000,2022-04-20 13:12:02.000000000,"[{'_account_id': 6926}, {'_account_id': 8449}, {'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2022-04-20 08:18:24.000000000', 'files': ['roles/undercloud-deploy/tasks/create-scripts.yml', 'roles/undercloud-deploy/templates/undercloud-masquerade-override.yaml.j2', 'roles/undercloud-deploy/README.md', 'roles/undercloud-deploy/templates/undercloud.conf.j2', 'roles/undercloud-deploy/templates/hieradata-overrides-t-h-t-undercloud.yaml.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/10a3cda75ccc6f8c9e7d5f33deed9e685ef8f562', 'message': 'Revert ""Convert a hieradata override to plain t-h-t parameter""\n\nThis reverts commit aec2975826699c9ebb65b919dabeedfed2e22589.\n\nReason for revert: downstream ovb is broken check rhbz#2076756\n\nChange-Id: I8654e603121cb09d95c06d2b9a1d5dda2cfa5de9\n'}]",3,838547,10a3cda75ccc6f8c9e7d5f33deed9e685ef8f562,12,6,1,12393,,,0,"Revert ""Convert a hieradata override to plain t-h-t parameter""

This reverts commit aec2975826699c9ebb65b919dabeedfed2e22589.

Reason for revert: downstream ovb is broken check rhbz#2076756

Change-Id: I8654e603121cb09d95c06d2b9a1d5dda2cfa5de9
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/47/838547/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/undercloud-deploy/tasks/create-scripts.yml', 'roles/undercloud-deploy/templates/undercloud-masquerade-override.yaml.j2', 'roles/undercloud-deploy/README.md', 'roles/undercloud-deploy/templates/undercloud.conf.j2', 'roles/undercloud-deploy/templates/hieradata-overrides-t-h-t-undercloud.yaml.j2']",5,10a3cda75ccc6f8c9e7d5f33deed9e685ef8f562,masquerade-ansible," {% if ctlplane_masquerade|default(false) %} # Override masquerading, OVB need's to masquerade the External (10.0.0.0/24) net as well. tripleo::masquerade_networks::masquerade_networks: {% if overcloud_ipv6|bool %}{'{{ undercloud_network_cidr }}': ['{{ undercloud_network_cidr }}'], '{{ undercloud_external_network_cidr_ipv4 }}': ['{{ undercloud_external_network_cidr_ipv4}}']}{% else %}{'{{ undercloud_network_cidr }}': ['{{ undercloud_network_cidr }}'], '{{ undercloud_external_network_cidr }}': ['{{ undercloud_external_network_cidr}}']}{% endif -%} {% endif %} ",,7,34
openstack%2Fopenstack-ansible-tests~stable%2Fvictoria~Ifb7a043ce7c6a12c413641dde61c170ae9327dc4,openstack/openstack-ansible-tests,stable/victoria,Ifb7a043ce7c6a12c413641dde61c170ae9327dc4,Add ansible.utils collection requirement,MERGED,2022-04-04 14:19:48.000000000,2022-04-20 14:18:44.000000000,2022-04-20 14:15:50.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-04-04 14:19:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/c086efc4ce9244bd724e795c75a23917ef6abeb8', 'message': 'Add ansible.utils collection requirement\n\nipaddr filter has been moved from netcommon to utils collection [1]\n\nBased on that we must add that collection to requirements.\n\n[1] https://github.com/ansible-collections/ansible.netcommon/commit/db4920ebf6bae6476ff8829e2cf475f19f83a990\n\nChange-Id: Ifb7a043ce7c6a12c413641dde61c170ae9327dc4\n(cherry-picked from commit 5da5356b43266dbb41692b27925c631dde5c18bd)\n'}, {'number': 2, 'created': '2022-04-11 10:48:08.000000000', 'files': ['test-ansible-collection-requirements.yml', 'setup.py', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/60003b48d9b19d5bc1b8e0d9530cece6261ada77', 'message': 'Add ansible.utils collection requirement\n\nipaddr filter has been moved from netcommon to utils collection [1]\n\nBased on that we must add that collection to requirements.\n\n[1] https://github.com/ansible-collections/ansible.netcommon/commit/db4920ebf6bae6476ff8829e2cf475f19f83a990\n\nThis patch also squashes a cherry-pick of a504a35d2918eacddf6d18a2991637cf8997fc20\nas both issues are causing job failures.\n\nChange-Id: Ifb7a043ce7c6a12c413641dde61c170ae9327dc4\n(cherry-picked from commit 5da5356b43266dbb41692b27925c631dde5c18bd)\n'}]",0,836335,60003b48d9b19d5bc1b8e0d9530cece6261ada77,12,3,2,25023,,,0,"Add ansible.utils collection requirement

ipaddr filter has been moved from netcommon to utils collection [1]

Based on that we must add that collection to requirements.

[1] https://github.com/ansible-collections/ansible.netcommon/commit/db4920ebf6bae6476ff8829e2cf475f19f83a990

This patch also squashes a cherry-pick of a504a35d2918eacddf6d18a2991637cf8997fc20
as both issues are causing job failures.

Change-Id: Ifb7a043ce7c6a12c413641dde61c170ae9327dc4
(cherry-picked from commit 5da5356b43266dbb41692b27925c631dde5c18bd)
",git fetch https://review.opendev.org/openstack/openstack-ansible-tests refs/changes/35/836335/1 && git format-patch -1 --stdout FETCH_HEAD,['test-ansible-collection-requirements.yml'],1,c086efc4ce9244bd724e795c75a23917ef6abeb8,ipaddr_filter, - name: ansible.netcommon version: 2.5.1 source: https://galaxy.ansible.com - name: ansible.utils version: 2.5.2 source: https://galaxy.ansible.com,,6,0
openstack%2Fopenstack-ansible-tests~stable%2Fxena~I56526939045bac365d15bee5138d1f3d21a99d22,openstack/openstack-ansible-tests,stable/xena,I56526939045bac365d15bee5138d1f3d21a99d22,Use ansible roles corresponding to stable branches,MERGED,2022-04-11 15:52:04.000000000,2022-04-20 14:18:42.000000000,2022-04-20 14:15:48.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-04-11 15:52:04.000000000', 'files': ['test-ansible-role-requirements.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/41a1bd6957958d20a6794a4f81543d651a923970', 'message': 'Use ansible roles corresponding to stable branches\n\nChange-Id: I56526939045bac365d15bee5138d1f3d21a99d22\n'}]",0,837366,41a1bd6957958d20a6794a4f81543d651a923970,8,3,1,25023,,,0,"Use ansible roles corresponding to stable branches

Change-Id: I56526939045bac365d15bee5138d1f3d21a99d22
",git fetch https://review.opendev.org/openstack/openstack-ansible-tests refs/changes/66/837366/1 && git format-patch -1 --stdout FETCH_HEAD,['test-ansible-role-requirements.yml'],1,41a1bd6957958d20a6794a4f81543d651a923970,, version: stable/xena version: stable/xena version: stable/xena version: stable/xena, version: master version: master version: master version: master,4,4
openstack%2Fopenstack-ansible-tests~stable%2Fwallaby~Ifb7a043ce7c6a12c413641dde61c170ae9327dc4,openstack/openstack-ansible-tests,stable/wallaby,Ifb7a043ce7c6a12c413641dde61c170ae9327dc4,Add ansible.utils collection requirement,MERGED,2022-04-11 11:08:48.000000000,2022-04-20 14:18:39.000000000,2022-04-20 14:15:45.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-04-11 11:08:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/fdddcac95b22dded05448429b1128dd19ac1a166', 'message': 'Add ansible.utils collection requirement\n\nipaddr filter has been moved from netcommon to utils collection [1]\n\nBased on that we must add that collection to requirements.\n\n[1] https://github.com/ansible-collections/ansible.netcommon/commit/db4920ebf6bae6476ff8829e2cf475f19f83a990\n\nChange-Id: Ifb7a043ce7c6a12c413641dde61c170ae9327dc4\n(cherry picked from commit 5da5356b43266dbb41692b27925c631dde5c18bd)\n'}, {'number': 2, 'created': '2022-04-11 16:18:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/72de00174551fcea4f11b67f2e2603fe620ebe8e', 'message': 'Add ansible.utils collection requirement\n\nipaddr filter has been moved from netcommon to utils collection [1]\n\nBased on that we must add that collection to requirements.\n\n[1] https://github.com/ansible-collections/ansible.netcommon/commit/db4920ebf6bae6476ff8829e2cf475f19f83a990\n\nThis patch also squashes https://review.opendev.org/c/openstack/openstack-ansible-tests/+/837367\nto fix errors introduced by changes to the PKI role on master branch\n\nChange-Id: Ifb7a043ce7c6a12c413641dde61c170ae9327dc4\n(cherry picked from commit 5da5356b43266dbb41692b27925c631dde5c18bd)\n'}, {'number': 3, 'created': '2022-04-11 17:15:33.000000000', 'files': ['test-ansible-collection-requirements.yml', 'test-ansible-role-requirements.yml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/8733ad9d2a1854b7f78e3e7ef9d69dd51ac99658', 'message': 'Add ansible.utils collection requirement\n\nipaddr filter has been moved from netcommon to utils collection [1]\n\nBased on that we must add that collection to requirements.\n\n[1] https://github.com/ansible-collections/ansible.netcommon/commit/db4920ebf6bae6476ff8829e2cf475f19f83a990\n\nThis patch also squashes https://review.opendev.org/c/openstack/openstack-ansible-tests/+/837367\nto fix errors introduced by changes to the PKI role on master branch\n\nChange-Id: Ifb7a043ce7c6a12c413641dde61c170ae9327dc4\n(cherry picked from commit 5da5356b43266dbb41692b27925c631dde5c18bd)\n'}]",0,837297,8733ad9d2a1854b7f78e3e7ef9d69dd51ac99658,13,3,3,25023,,,0,"Add ansible.utils collection requirement

ipaddr filter has been moved from netcommon to utils collection [1]

Based on that we must add that collection to requirements.

[1] https://github.com/ansible-collections/ansible.netcommon/commit/db4920ebf6bae6476ff8829e2cf475f19f83a990

This patch also squashes https://review.opendev.org/c/openstack/openstack-ansible-tests/+/837367
to fix errors introduced by changes to the PKI role on master branch

Change-Id: Ifb7a043ce7c6a12c413641dde61c170ae9327dc4
(cherry picked from commit 5da5356b43266dbb41692b27925c631dde5c18bd)
",git fetch https://review.opendev.org/openstack/openstack-ansible-tests refs/changes/97/837297/3 && git format-patch -1 --stdout FETCH_HEAD,['test-ansible-collection-requirements.yml'],1,fdddcac95b22dded05448429b1128dd19ac1a166,ipaddr_filter, - name: ansible.netcommon version: 2.5.1 source: https://galaxy.ansible.com - name: ansible.utils version: 2.5.2,,5,0
openstack%2Ftripleo-heat-templates~master~I4cc61c822dabf08caf1243e27c109dc5ba50f608,openstack/tripleo-heat-templates,master,I4cc61c822dabf08caf1243e27c109dc5ba50f608,DNM Test scenario012-standalone with standalone_ceph false,ABANDONED,2022-04-19 20:50:15.000000000,2022-04-20 14:06:32.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-04-19 20:50:15.000000000', 'files': ['ci/environments/scenario012-standalone.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/702312a1cc360507312528b614ec2896f936cce5', 'message': 'DNM Test scenario012-standalone with standalone_ceph false\n\nDo not merge.\n\nDepends-On: Ib9271716e8f0c92e96c90fa9b557a590abb9ccf8\nChange-Id: I4cc61c822dabf08caf1243e27c109dc5ba50f608\n'}]",0,838597,702312a1cc360507312528b614ec2896f936cce5,4,2,1,18002,,,0,"DNM Test scenario012-standalone with standalone_ceph false

Do not merge.

Depends-On: Ib9271716e8f0c92e96c90fa9b557a590abb9ccf8
Change-Id: I4cc61c822dabf08caf1243e27c109dc5ba50f608
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/97/838597/1 && git format-patch -1 --stdout FETCH_HEAD,['ci/environments/scenario012-standalone.yaml'],1,702312a1cc360507312528b614ec2896f936cce5,standalone_ceph_cleanup,# touching file so CI runs scenario012 (again),# touching file so CI runs scenario012,1,1
openstack%2Fproject-team-guide~master~I3c79cdb7132c60595fe3fa5a46ec1c778db1d34e,openstack/project-team-guide,master,I3c79cdb7132c60595fe3fa5a46ec1c778db1d34e,Add information for checking status of other job results,MERGED,2022-04-20 06:20:57.000000000,2022-04-20 13:53:13.000000000,2022-04-20 13:51:42.000000000,"[{'_account_id': 4146}, {'_account_id': 5263}, {'_account_id': 8556}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-20 06:20:57.000000000', 'files': ['doc/source/testing.rst'], 'web_link': 'https://opendev.org/openstack/project-team-guide/commit/9434b089998185bd60bc6f8fd206e5e32967acb8', 'message': 'Add information for checking status of other job results\n\nThe Opensearch is storing most part of the Zuul CI job results\nlog files that can be useful for developers.\n\nChange-Id: I3c79cdb7132c60595fe3fa5a46ec1c778db1d34e\n'}]",1,838640,9434b089998185bd60bc6f8fd206e5e32967acb8,8,5,1,20676,,,0,"Add information for checking status of other job results

The Opensearch is storing most part of the Zuul CI job results
log files that can be useful for developers.

Change-Id: I3c79cdb7132c60595fe3fa5a46ec1c778db1d34e
",git fetch https://review.opendev.org/openstack/project-team-guide refs/changes/40/838640/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/testing.rst'],1,9434b089998185bd60bc6f8fd206e5e32967acb8,,"Checking status of other job results ------------------------------------ Each Zuul CI job results is sent to the Opensearch service. This service can be very useful specially when the Zuul job status is Failure. Checking whether a given error has not occured in another project or it has not appeared regularly recently will allow for faster problem recognition or notification of the OpenStack community about the problem. To check the Opensearch service, you need to login with credentials that are described below: * url: https://opensearch.logs.openstack.org/_dashboards/app/discover?security_tenant=global * username: `openstack` * password: `openstack` * tenant: `global`",,17,0
openstack%2Fblazar-dashboard~master~Ibc10c61ee39731501867196ac6fa95b9d6d6c91d,openstack/blazar-dashboard,master,Ibc10c61ee39731501867196ac6fa95b9d6d6c91d,Remove unnecessary unicode prefixes,MERGED,2022-04-20 11:16:51.000000000,2022-04-20 13:24:10.000000000,2022-04-20 13:22:47.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-20 11:16:51.000000000', 'files': ['doc/source/conf.py', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/blazar-dashboard/commit/be5b93831f9f417e09572a11a64ef3cc9d98a5d4', 'message': 'Remove unnecessary unicode prefixes\n\nChange-Id: Ibc10c61ee39731501867196ac6fa95b9d6d6c91d\n'}]",0,838711,be5b93831f9f417e09572a11a64ef3cc9d98a5d4,7,2,1,28522,,,0,"Remove unnecessary unicode prefixes

Change-Id: Ibc10c61ee39731501867196ac6fa95b9d6d6c91d
",git fetch https://review.opendev.org/openstack/blazar-dashboard refs/changes/11/838711/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/conf.py', 'releasenotes/source/conf.py']",2,be5b93831f9f417e09572a11a64ef3cc9d98a5d4,remove-unicode,"project = 'Blazar dashboard Release Notes' copyright = '2017, OpenStack Foundation' 'Blazar dashboard Release Notes Documentation', 'Blazar dashboard Developers', 'Blazar dashboard Release Notes Documentation', ['Blazar dashboard Developers'], 1) 'Blazar dashboard Release Notes Documentation', 'Blazar dashboard Developers', 'Blazar-dashboardReleaseNotes',","project = u'Blazar dashboard Release Notes' copyright = u'2017, OpenStack Foundation' u'Blazar dashboard Release Notes Documentation', u'Blazar dashboard Developers', u'Blazar dashboard Release Notes Documentation', [u'Blazar dashboard Developers'], 1) u'Blazar dashboard Release Notes Documentation', u'Blazar dashboard Developers', 'Blazar-dashboardReleaseNotes',",12,12
openstack%2Fcharm-nova-compute~master~I12cd4bf5953170d227d52793764c49f3871e25f9,openstack/charm-nova-compute,master,I12cd4bf5953170d227d52793764c49f3871e25f9,Render correct driver in nova-compute.conf,MERGED,2022-04-20 03:02:13.000000000,2022-04-20 12:52:32.000000000,2022-04-20 12:52:32.000000000,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-20 03:02:13.000000000', 'files': ['templates/train/nova-compute.conf', 'unit_tests/test_nova_compute_utils.py'], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/f6c536baec29a34b79a13708f2f0b82dd0db0530', 'message': 'Render correct driver in nova-compute.conf\n\nCommit abe5a289 fixed the rendering of the ironic driver in the\nnova-compute.conf file for OpenStack versions >= Wallaby. However, it\nalways renders the nova-compute.conf file for train and above, which is\nhard-coded to the Ironic libvirt driver.\n\nThis adds additional templating logic to the nova-compute.conf driver in\norder to render the correct driver to use.\n\nRelated-Bug: #1968547\nChange-Id: I12cd4bf5953170d227d52793764c49f3871e25f9\n'}]",0,838622,f6c536baec29a34b79a13708f2f0b82dd0db0530,7,3,1,8992,,,0,"Render correct driver in nova-compute.conf

Commit abe5a289 fixed the rendering of the ironic driver in the
nova-compute.conf file for OpenStack versions >= Wallaby. However, it
always renders the nova-compute.conf file for train and above, which is
hard-coded to the Ironic libvirt driver.

This adds additional templating logic to the nova-compute.conf driver in
order to render the correct driver to use.

Related-Bug: #1968547
Change-Id: I12cd4bf5953170d227d52793764c49f3871e25f9
",git fetch https://review.opendev.org/openstack/charm-nova-compute refs/changes/22/838622/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/train/nova-compute.conf', 'unit_tests/test_nova_compute_utils.py']",2,f6c536baec29a34b79a13708f2f0b82dd0db0530,bug/1968547," @patch.object(compute_context, 'config') _relation_ids, cctxt_config): cctxt_config.side_effect = self.test_config.get", _relation_ids):,12,2
openstack%2Fneutron~stable%2Fyoga~I7c36b09309c1ef66608afacfb281b6f4b06ea5b8,openstack/neutron,stable/yoga,I7c36b09309c1ef66608afacfb281b6f4b06ea5b8,Force security_group_id uuid validation of sg rules,MERGED,2022-04-11 13:08:13.000000000,2022-04-20 12:52:06.000000000,2022-04-20 12:50:05.000000000,"[{'_account_id': 8313}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 32238}]","[{'number': 1, 'created': '2022-04-11 13:08:13.000000000', 'files': ['neutron/extensions/securitygroup.py', 'neutron/tests/unit/extensions/test_securitygroup.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/e887386aa1e560562b0e3b0d1049887b2f1f1870', 'message': 'Force security_group_id uuid validation of sg rules\n\nsecurity_groups_db._check_security_group is supposed to check the\nsecurity_group_id of the _create_security_group_rule payload.\nWhen using an integer e.g. 0, as security_group_id, the check\nsuccededs because mysql accepts following query:\n\nSELECT * FROM securitygroups WHERE id in (0)\n\nForcing validation of security_group_id as uuid fixes the problem\n\nCloses-Bug: #1968343\nChange-Id: I7c36b09309c1ef66608afacfb281b6f4b06ea5b8\n(cherry picked from commit c0bf560fa36aac798ad8783749fa78ddf766bdec)\n'}]",7,837308,e887386aa1e560562b0e3b0d1049887b2f1f1870,42,4,1,16688,,,0,"Force security_group_id uuid validation of sg rules

security_groups_db._check_security_group is supposed to check the
security_group_id of the _create_security_group_rule payload.
When using an integer e.g. 0, as security_group_id, the check
succededs because mysql accepts following query:

SELECT * FROM securitygroups WHERE id in (0)

Forcing validation of security_group_id as uuid fixes the problem

Closes-Bug: #1968343
Change-Id: I7c36b09309c1ef66608afacfb281b6f4b06ea5b8
(cherry picked from commit c0bf560fa36aac798ad8783749fa78ddf766bdec)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/08/837308/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/extensions/securitygroup.py', 'neutron/tests/unit/extensions/test_securitygroup.py']",2,e887386aa1e560562b0e3b0d1049887b2f1f1870,bug/1968343," def test_create_security_group_rule_with_non_uuid_security_group_id(self): security_group_id = 0 rule = self._build_security_group_rule( security_group_id, 'ingress', const.PROTO_NAME_TCP, '22', '22') res = self._create_security_group_rule(self.fmt, rule) self.deserialize(self.fmt, res) self.assertEqual(webob.exc.HTTPBadRequest.code, res.status_int) ",,12,1
openstack%2Fneutron~stable%2Fwallaby~Ia082f8531ffcc1599206124774599dcdb500274a,openstack/neutron,stable/wallaby,Ia082f8531ffcc1599206124774599dcdb500274a,"When creating a VXLAN interface, a device is mandatory",MERGED,2022-03-11 14:52:21.000000000,2022-04-20 12:48:58.000000000,2022-04-20 12:46:46.000000000,"[{'_account_id': 8313}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 32586}]","[{'number': 1, 'created': '2022-03-11 14:52:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c2b74a50c3ac7888835b983f1b754d0f1a6eabbc', 'message': 'When creating a VXLAN interface, a device is mandatory\n\n""IPWrapper.add_vxlan"" method must have ""dev"" parameter as possitional\nargument. A VXLAN interface must be always created on top of an existing\nnetwork device:\n  https://www.kernel.org/doc/Documentation/networking/vxlan.txt\n\nConflicts:\n    neutron/tests/functional/agent/linux/test_tc_lib.py\n\nCloses-Bug: #1954316\nChange-Id: Ia082f8531ffcc1599206124774599dcdb500274a\n(cherry picked from commit 16a793af19a2dc13e3d121b36db52d6b9ec25278)\n(cherry picked from commit 1dc99e93fee74af9c91f5340941d2e0c33834bad)\n'}, {'number': 2, 'created': '2022-03-31 10:07:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/fe675c7ff34eac1fc65a20e438a8c14ac6428eea', 'message': 'When creating a VXLAN interface, a device is mandatory\n\n""IPWrapper.add_vxlan"" method must have ""dev"" parameter as possitional\nargument. A VXLAN interface must be always created on top of an existing\nnetwork device:\n  https://www.kernel.org/doc/Documentation/networking/vxlan.txt\n\nConflicts:\n    neutron/tests/functional/agent/linux/test_tc_lib.py\n\nCloses-Bug: #1954316\nChange-Id: Ia082f8531ffcc1599206124774599dcdb500274a\n(cherry picked from commit 16a793af19a2dc13e3d121b36db52d6b9ec25278)\n(cherry picked from commit 1dc99e93fee74af9c91f5340941d2e0c33834bad)\n'}, {'number': 3, 'created': '2022-04-11 14:14:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9e76583dbdaad4d0e44d3db2f1c6dc5d79237e2b', 'message': 'When creating a VXLAN interface, a device is mandatory\n\n""IPWrapper.add_vxlan"" method must have ""dev"" parameter as possitional\nargument. A VXLAN interface must be always created on top of an existing\nnetwork device:\n  https://www.kernel.org/doc/Documentation/networking/vxlan.txt\n\nConflicts:\n    neutron/tests/functional/agent/linux/test_tc_lib.py\n\nCloses-Bug: #1954316\nChange-Id: Ia082f8531ffcc1599206124774599dcdb500274a\n(cherry picked from commit 16a793af19a2dc13e3d121b36db52d6b9ec25278)\n(cherry picked from commit 1dc99e93fee74af9c91f5340941d2e0c33834bad)\n'}, {'number': 4, 'created': '2022-04-11 14:23:16.000000000', 'files': ['neutron/cmd/sanity/checks.py', 'neutron/plugins/ml2/drivers/linuxbridge/agent/linuxbridge_neutron_agent.py', 'neutron/tests/functional/agent/linux/test_ip_lib.py', 'neutron/tests/unit/plugins/ml2/drivers/linuxbridge/agent/test_linuxbridge_neutron_agent.py', 'neutron/agent/linux/ip_lib.py', 'neutron/tests/unit/agent/linux/test_ip_lib.py', 'neutron/tests/functional/agent/linux/test_bridge_lib.py', 'neutron/tests/functional/agent/linux/test_tc_lib.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/79aaa3e79daa1d67cfe1cab04e36076645d73e23', 'message': 'When creating a VXLAN interface, a device is mandatory\n\n""IPWrapper.add_vxlan"" method must have ""dev"" parameter as possitional\nargument. A VXLAN interface must be always created on top of an existing\nnetwork device:\n  https://www.kernel.org/doc/Documentation/networking/vxlan.txt\n\nConflicts:\n    neutron/tests/functional/agent/linux/test_tc_lib.py\n\nCloses-Bug: #1954316\nChange-Id: Ia082f8531ffcc1599206124774599dcdb500274a\n(cherry picked from commit 16a793af19a2dc13e3d121b36db52d6b9ec25278)\n(cherry picked from commit 1dc99e93fee74af9c91f5340941d2e0c33834bad)\n'}]",7,833379,79aaa3e79daa1d67cfe1cab04e36076645d73e23,44,4,4,11975,,,0,"When creating a VXLAN interface, a device is mandatory

""IPWrapper.add_vxlan"" method must have ""dev"" parameter as possitional
argument. A VXLAN interface must be always created on top of an existing
network device:
  https://www.kernel.org/doc/Documentation/networking/vxlan.txt

Conflicts:
    neutron/tests/functional/agent/linux/test_tc_lib.py

Closes-Bug: #1954316
Change-Id: Ia082f8531ffcc1599206124774599dcdb500274a
(cherry picked from commit 16a793af19a2dc13e3d121b36db52d6b9ec25278)
(cherry picked from commit 1dc99e93fee74af9c91f5340941d2e0c33834bad)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/79/833379/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/cmd/sanity/checks.py', 'neutron/plugins/ml2/drivers/linuxbridge/agent/linuxbridge_neutron_agent.py', 'neutron/tests/functional/agent/linux/test_ip_lib.py', 'neutron/tests/unit/plugins/ml2/drivers/linuxbridge/agent/test_linuxbridge_neutron_agent.py', 'neutron/agent/linux/ip_lib.py', 'neutron/tests/functional/agent/linux/test_bridge_lib.py', 'neutron/tests/unit/agent/linux/test_ip_lib.py', 'neutron/tests/functional/agent/linux/test_tc_lib.py']",8,c2b74a50c3ac7888835b983f1b754d0f1a6eabbc,Ia082f8531ffcc1599206124774599dcdb500274a," self.device[i]) ip_device = ip_lib.IPDevice(self.device[i], ns)"," dev=self.device[i]) ip_device = ip_lib.IPDevice(self.device[i], self.ns[i])",24,23
openstack%2Ftripleo-quickstart~master~Id6bc154fa604da8871e542dd3452ac4749745aee,openstack/tripleo-quickstart,master,Id6bc154fa604da8871e542dd3452ac4749745aee,Add release config for CloudSIG yoga on CentOS 9,MERGED,2022-04-13 12:18:46.000000000,2022-04-20 12:43:34.000000000,2022-04-20 12:42:07.000000000,"[{'_account_id': 8449}, {'_account_id': 12393}, {'_account_id': 16312}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-04-13 12:18:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/75c114a2577670b83e5c4c8c1eef42491d0ffc91', 'message': 'WIP Add release config for CloudSIG yoga on CentOS 9\n\nChange-Id: Id6bc154fa604da8871e542dd3452ac4749745aee\n'}, {'number': 2, 'created': '2022-04-15 14:19:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/3c7df6666bb9cf9683177f144ce3c00f41127c38', 'message': 'WIP Add release config for CloudSIG yoga on CentOS 9\n\nChange-Id: Id6bc154fa604da8871e542dd3452ac4749745aee\n'}, {'number': 3, 'created': '2022-04-15 15:07:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/958ab43d956306a42e2c246c97c82d2eb1d62655', 'message': 'WIP Add release config for CloudSIG yoga on CentOS 9\n\nChange-Id: Id6bc154fa604da8871e542dd3452ac4749745aee\n'}, {'number': 4, 'created': '2022-04-15 15:53:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/4be7c51b2ab96d4d37e298db89d4f4d2445f94bd', 'message': 'WIP Add release config for CloudSIG yoga on CentOS 9\n\nChange-Id: Id6bc154fa604da8871e542dd3452ac4749745aee\n'}, {'number': 5, 'created': '2022-04-19 08:32:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/695260be0f96ab33e793023448de2313ac91e709', 'message': ""Add release config for CloudSIG yoga on CentOS 9\n\nIt's needed to run CI jobs on RDO Yoga CloudSIG repo.\n\nChange-Id: Id6bc154fa604da8871e542dd3452ac4749745aee\n""}, {'number': 6, 'created': '2022-04-19 09:34:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/d470a88a3c50939872802609dc600f4a410e0bb1', 'message': ""Add release config for CloudSIG yoga on CentOS 9\n\nIt's needed to run CI jobs on RDO Yoga CloudSIG repo.\n\nChange-Id: Id6bc154fa604da8871e542dd3452ac4749745aee\n""}, {'number': 7, 'created': '2022-04-19 14:37:35.000000000', 'files': ['config/release/tripleo-ci/CentOS-9/cloudsig/yoga.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/f444e3aa831c9d44d33bb2f7098b94c310cdb747', 'message': ""Add release config for CloudSIG yoga on CentOS 9\n\nIt's needed to run CI jobs on RDO Yoga CloudSIG repo.\n\nChange-Id: Id6bc154fa604da8871e542dd3452ac4749745aee\n""}]",6,837723,f444e3aa831c9d44d33bb2f7098b94c310cdb747,39,5,7,16312,,,0,"Add release config for CloudSIG yoga on CentOS 9

It's needed to run CI jobs on RDO Yoga CloudSIG repo.

Change-Id: Id6bc154fa604da8871e542dd3452ac4749745aee
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/23/837723/5 && git format-patch -1 --stdout FETCH_HEAD,['config/release/tripleo-ci/CentOS-9/cloudsig/yoga.yml'],1,75c114a2577670b83e5c4c8c1eef42491d0ffc91,,"# rdoinfo configs artg_skipped_projects: - rdoinfo update_containers: false standalone_container_prep_updates: false docker_registry_host: >- {% if job is defined and job.build_container_images is defined and job.build_container_images|default(false)|bool or build_container_images|default(false)|bool -%} 127.0.0.1:5001 {%- elif job.consumer_job | default(false) | bool -%} {{ job.registry_ip_address_branch[release] }}:5001 {%- else -%} {{ job.alt_container_registry|default('quay.io') }} {%- endif -%} # name and tags devmode: true overcloud_as_undercloud: true release: yoga distro_ver: centos8 distro_deps_repo_name: deps dlrn_hash_tag: current-tripleo-rdo dlrn_hash_tag_newest: current docker_registry_namespace: ""tripleo{{ release }}"" docker_image_tag: ""cloudsig-{{ release }}"" docker_openshift_tag: v3.11.0 promote_source: current-tripleo-rdo validate_on: rdo # images overcloud_image: >- {% if whole_disk_images|bool -%} overcloud-hardened-uefi-full {%- else -%} overcloud-full {%- endif -%} overcloud_image_type: >- {% if whole_disk_images|bool -%} qcow2 {%- else -%} tar {%- endif -%} images: - name: ""{{ overcloud_image }}"" url: ""{{ overcloud_image_url }}"" type: ""{{ overcloud_image_type }}"" - name: ipa_images url: ""{{ ipa_image_url }}"" type: tar dlrn_baseurl: ""https://trunk.rdoproject.org/{{ distro_ver }}-{{ release }}"" overcloud_image_url: ""https://images.rdoproject.org/{{ distro_ver }}/{{ release }}/rdo_trunk/{{ promote_source }}/overcloud-full.tar"" ipa_image_url: ""https://images.rdoproject.org/{{ distro_ver }}/{{ release }}/rdo_trunk/{{ promote_source }}/ironic-python-agent.tar"" # NOTE(dviroel): centos-opstools repo is needed for building # collectd containers, otherwise keep the current value. enable_dlrn_deps_opstools: >- {% if job is defined and job.build_container_images is defined and job.build_container_images|default(false)|bool or build_container_images|default(false)|bool -%} {{ true|bool }} {%- else -%} {{ enable_opstools_repo|default(false)|bool }} {%- endif -%} # repo setup repo_cmd_before: | sudo rm -rf /etc/yum.repos.d/delorean*; sudo rm -rf /etc/yum.repos.d/*.rpmsave; sudo rm -rf /etc/yum.repos.d/epel*; sudo dnf remove -y rdo-release centos-release-ceph-* centos-release-openstack-* centos-release-qemu-ev || true; sudo rm -rf /etc/yum.repos.d/CentOS-OpenStack-*.repo /etc/yum.repos.d/CentOS-Ceph-*.repo /etc/yum.repos.d/CentOS-QEMU-EV.repo; sudo dnf clean all; sudo dnf config-manager --disable ""*"" || true; if [ -e /etc/ci/mirror_info.sh ]; then source /etc/ci/mirror_info.sh else # Otherwise, fallback to official mirrors provided by CentOS. export NODEPOOL_CENTOS_MIRROR={{ lookup('env','NODEPOOL_CENTOS_MIRROR')|default('http://mirror.centos.org/centos', true) }} export NODEPOOL_RDO_PROXY=https://trunk.rdoproject.org fi repos: - type: package pkg_name: ""centos-release-openstack-{{ release }}"" custom_cmd: 'sudo dnf install -y --enablerepo=extras-common' - type: package pkg_name: ""centos-release-opstools"" custom_cmd: 'sudo dnf install -y --enablerepo=extras-common' # Needed for mock installation - type: generic reponame: ""delorean-{{ release }}-build-deps"" filename: ""delorean-{{ release }}-build-deps.repo"" baseurl: ""${NODEPOOL_RDO_PROXY}/{{ distro_ver }}-{{ release }}/build-deps/latest/"" # CentOS related repos - type: generic reponame: quickstart-centos-base filename: quickstart-centos-base.repo baseurl: ${NODEPOOL_CENTOS_MIRROR}/9-stream/BaseOS/x86_64/os - type: generic reponame: quickstart-centos-appstreams filename: quickstart-centos-appstreams.repo baseurl: ${NODEPOOL_CENTOS_MIRROR}/9-stream/AppStream/x86_64/os/ # centos9 the equivalent to powertools is CRB - type: generic reponame: quickstart-centos-crb filename: quickstart-centos-crb.repo baseurl: ${NODEPOOL_CENTOS_MIRROR}/9-stream/CRB/x86_64/os/ - type: generic reponame: quickstart-centos-highavailability filename: quickstart-centos-highavailability.repo baseurl: ${NODEPOOL_CENTOS_MIRROR}/9-stream/HighAvailability/x86_64/os/ repo_cmd_after: | {% if not enable_cs9_opstools_repo|default(false)|bool %}sudo dnf config-manager --save --setopt centos9-opstools.enabled=0; {%endif %} sudo rpm -e epel-release || true; sudo rm -rf /etc/yum.repos.d/*.rpmsave; sudo dnf repolist; sudo dnf module list; sudo dnf clean metadata {% if repo_setup_run_update|default(true)|bool %} sudo dnf update -y {% endif %} undercloud_rpm_dependencies: >- python3-tripleoclient ceph-ansible tripleo-operator-ansible # baseos settings baseos_undercloud_image_url: https://cloud.centos.org/centos/9-stream/x86_64/images/CentOS-Stream-GenericCloud-9-20211020.0.x86_64.qcow2 baseos_image: centos baseos_image_type: qcow2 baseos_md5sum: ""a42ef58319a546d038ea716dc693dda6 CentOS-Stream-GenericCloud-9-20211020.0.x86_64.qcow2"" ",,148,0
openstack%2Fcinder~master~I53417dddbfadd1636b10fa31af305d2f58753237,openstack/cinder,master,I53417dddbfadd1636b10fa31af305d2f58753237,Reserve not-available multi attach volume,ABANDONED,2021-08-18 18:33:55.000000000,2022-04-20 12:38:16.000000000,,"[{'_account_id': 1736}, {'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 9535}, {'_account_id': 9708}, {'_account_id': 15554}, {'_account_id': 20813}, {'_account_id': 22348}, {'_account_id': 27615}, {'_account_id': 30615}, {'_account_id': 32029}, {'_account_id': 32324}, {'_account_id': 33431}]","[{'number': 1, 'created': '2021-08-18 18:33:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ef9a89eb4a64e884fba179ab294d20c5d5cbe62c', 'message': 'Fix simultaneous volume reservation error.\n\nif we create two volumes with the same image simultaneously:\n$ openstack volume create --size 50 --image Ubuntu-18.04 volume_1\n$ openstack volume create --size 50 --image Ubuntu-18.04 volume_2\n\nThe 1st volume succeeds and the 2nd one in error status.\nerror log for the 2nd volume:\nERROR cinder.volume.api Volume status must be available\nor in-use to reserve, but the status is attaching.\n\nWe added retries in order 2nd volume creation could wait\n1st volume creation.\nBug in RHOSP: https://bugzilla.redhat.com/show_bug.cgi?id=1886013\n\nCloses-Bug: 1940466\nChange-Id: I53417dddbfadd1636b10fa31af305d2f58753237\n'}, {'number': 2, 'created': '2021-08-18 18:38:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/d38a9149f086189c9686bee0387e573fab39daf4', 'message': 'Fix simultaneous volume reservation error.\n\nif we create two volumes with the same image simultaneously:\n$ openstack volume create --size 50 --image Ubuntu-18.04 volume_1\n$ openstack volume create --size 50 --image Ubuntu-18.04 volume_2\n\nThe 1st volume succeeds and the 2nd one in error status.\nerror log for the 2nd volume:\nERROR cinder.volume.api Volume status must be available\nor in-use to reserve, but the status is attaching.\n\nWe added retries in order 2nd volume creation could wait\n1st volume creation.\n\nCloses-Bug: 1940466\nChange-Id: I53417dddbfadd1636b10fa31af305d2f58753237\n'}, {'number': 3, 'created': '2021-08-19 17:37:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/354f28c2de8efc7269854a1949b42a6f5b72a69e', 'message': 'Fix simultaneous volume creation error in multiattach mode.\n\nif we create two volumes with the same image simultaneously:\n$ openstack volume create --size 50 --image Ubuntu-18.04 volume_1\n$ openstack volume create --size 50 --image Ubuntu-18.04 volume_2\n\nThe 1st volume succeeds and the 2nd one in error status.\nerror log for the 2nd volume:\nERROR cinder.volume.api Volume status must be available\nor in-use to reserve, but the status is attaching.\n\nWe added status ""attaching"" in valid statuses to reserve\nvolume in multiattach mode.\n\nCloses-Bug: 1940466\nChange-Id: I53417dddbfadd1636b10fa31af305d2f58753237\n'}, {'number': 4, 'created': '2021-08-30 06:20:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a1f3eaf95d43b46dc317b46db8fbac96d5da07a7', 'message': 'Fix simultaneous volume creation error in multiattach mode.\n\nif Cinder is Glance backend and we create two volumes \nwith the same image simultaneously:\n$ openstack volume create --size 50 --image Ubuntu-18.04 volume_1\n$ openstack volume create --size 50 --image Ubuntu-18.04 volume_2\n\nThe 1st volume succeeds and the 2nd one in error status.\nerror log for the 2nd volume:\nERROR cinder.volume.api Volume status must be available\nor in-use to reserve, but the status is attaching.\n\nWe added status ""attaching"" in valid statuses to reserve\nvolume in multiattach mode.\n\nCloses-Bug: 1940466\nChange-Id: I53417dddbfadd1636b10fa31af305d2f58753237\n'}, {'number': 5, 'created': '2021-09-02 19:31:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/d40e53e6033dbb0a95d16e0e1d06d97207fc82f2', 'message': 'Fix simultaneous volume creation error in multiattach mode.\n\nif Cinder is Glance backend and we create two volumes\nwith the same image simultaneously:\n$ openstack volume create --size 50 --image Ubuntu-18.04 volume_1\n$ openstack volume create --size 50 --image Ubuntu-18.04 volume_2\n\nThe 1st volume succeeds and the 2nd one in error status.\nerror log for the 2nd volume:\nERROR cinder.volume.api Volume status must be available\nor in-use to reserve, but the status is attaching.\nor\nERROR cinder.volume.api Volume status must be available\nor in-use to reserve, but the status is detaching.\nWe added statuses ""attaching"" and ""detaching in valid statuses\nto reserve volume in multiattach mode.\n\nCloses-Bug: 1940466\nChange-Id: I53417dddbfadd1636b10fa31af305d2f58753237\n'}, {'number': 6, 'created': '2021-11-22 13:23:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/5343f83b57cb2510bfd7cc3be3e11542aacfac6d', 'message': 'Fix simultaneous volume creation error in multiattach mode.\n\nif Cinder is Glance backend and we create two volumes\nwith the same image simultaneously:\n$ openstack volume create --size 50 --image Ubuntu-18.04 volume_1\n$ openstack volume create --size 50 --image Ubuntu-18.04 volume_2\n\nThe 1st volume succeeds and the 2nd one in error status.\nerror log for the 2nd volume:\nERROR cinder.volume.api Volume status must be available\nor in-use to reserve, but the status is attaching.\nor\nERROR cinder.volume.api Volume status must be available\nor in-use to reserve, but the status is detaching.\nWe added statuses ""attaching"" and ""detaching in valid statuses\nto reserve volume in multiattach mode.\n\nCloses-Bug: 1940466\nChange-Id: I53417dddbfadd1636b10fa31af305d2f58753237\n'}, {'number': 7, 'created': '2022-01-24 09:36:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/93bfefd4c932d65b3ff8191e6eeea21b0bee6946', 'message': 'Fix simultaneous volume creation error in multiattach mode.\n\nif Cinder is Glance backend and we create two volumes\nwith the same image simultaneously:\n$ openstack volume create --size 50 --image Ubuntu-18.04 volume_1\n$ openstack volume create --size 50 --image Ubuntu-18.04 volume_2\n\nThe 1st volume succeeds and the 2nd one in error status.\nerror log for the 2nd volume:\nERROR cinder.volume.api Volume status must be available\nor in-use to reserve, but the status is attaching.\nor\nERROR cinder.volume.api Volume status must be available\nor in-use to reserve, but the status is detaching.\nWe added statuses ""attaching"" and ""detaching in valid statuses\nto reserve volume in multiattach mode.\n\nCloses-Bug: 1940466\nChange-Id: I53417dddbfadd1636b10fa31af305d2f58753237\n'}, {'number': 8, 'created': '2022-01-24 09:37:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/5493053ece8995482c3772d21e4158ed158d66dd', 'message': 'Fix simultaneous volume creation error in multiattach mode.\n\nif Cinder is Glance backend and we create two volumes\nwith the same image simultaneously:\n$ openstack volume create --size 50 --image Ubuntu-18.04 volume_1\n$ openstack volume create --size 50 --image Ubuntu-18.04 volume_2\n\nThe 1st volume succeeds and the 2nd one in error status.\nerror log for the 2nd volume:\nERROR cinder.volume.api Volume status must be available\nor in-use to reserve, but the status is attaching.\nor\nERROR cinder.volume.api Volume status must be available\nor in-use to reserve, but the status is detaching.\nWe added statuses ""attaching"" and ""detaching in valid statuses\nto reserve volume in multiattach mode.\n\nCloses-Bug: 1940466\nChange-Id: I53417dddbfadd1636b10fa31af305d2f58753237\n'}, {'number': 9, 'created': '2022-01-24 09:49:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/08ffedeb6326b95e212d27bcf44ac80796bae0d4', 'message': 'Allow to reserve non-available multiattach volume\n\nif Cinder is Glance backend and we create two volumes\nwith the same image simultaneously:\n$ openstack volume create --size 50 --image Ubuntu-18.04 volume_1\n$ openstack volume create --size 50 --image Ubuntu-18.04 volume_2\n\nThe 1st volume succeeds and the 2nd one in error status.\nerror log for the 2nd volume:\nERROR cinder.volume.api Volume status must be available\nor in-use to reserve, but the status is attaching.\nor\nERROR cinder.volume.api Volume status must be available\nor in-use to reserve, but the status is detaching.\nWe added statuses ""attaching"" and ""detaching in valid statuses\nto reserve volume in multiattach mode.\n\nCloses-Bug: 1940466\nChange-Id: I53417dddbfadd1636b10fa31af305d2f58753237\n'}, {'number': 10, 'created': '2022-01-24 09:51:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/07e9e8c29f7d7e5eaa92cc8b705b218dd3ae9095', 'message': 'Reserve not-available multi attach volume\n\nif Cinder is Glance backend and we create two volumes\nwith the same image simultaneously:\n$ openstack volume create --size 50 --image Ubuntu-18.04 volume_1\n$ openstack volume create --size 50 --image Ubuntu-18.04 volume_2\n\nThe 1st volume succeeds and the 2nd one in error status.\nerror log for the 2nd volume:\nERROR cinder.volume.api Volume status must be available\nor in-use to reserve, but the status is attaching.\nor\nERROR cinder.volume.api Volume status must be available\nor in-use to reserve, but the status is detaching.\nWe added statuses ""attaching"" and ""detaching in valid statuses\nto reserve volume in multiattach mode.\n\nCloses-Bug: 1940466\nChange-Id: I53417dddbfadd1636b10fa31af305d2f58753237\n'}, {'number': 11, 'created': '2022-03-21 10:53:59.000000000', 'files': ['cinder/tests/unit/volume/test_volume.py', 'cinder/volume/api.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/15ebd02095ffdc3db9715bae026c480ccda8b97e', 'message': 'Reserve not-available multi attach volume\n\nif Cinder is Glance backend and we create two volumes\nwith the same image simultaneously:\n$ openstack volume create --size 50 --image Ubuntu-18.04 volume_1\n$ openstack volume create --size 50 --image Ubuntu-18.04 volume_2\n\nThe 1st volume succeeds and the 2nd one in error status.\nerror log for the 2nd volume:\nERROR cinder.volume.api Volume status must be available\nor in-use to reserve, but the status is attaching.\nor\nERROR cinder.volume.api Volume status must be available\nor in-use to reserve, but the status is detaching.\nWe added statuses ""attaching"" and ""detaching in valid statuses\nto reserve volume in multiattach mode.\n\nCloses-Bug: 1940466\nChange-Id: I53417dddbfadd1636b10fa31af305d2f58753237\n'}]",29,805072,15ebd02095ffdc3db9715bae026c480ccda8b97e,247,14,11,32927,,,0,"Reserve not-available multi attach volume

if Cinder is Glance backend and we create two volumes
with the same image simultaneously:
$ openstack volume create --size 50 --image Ubuntu-18.04 volume_1
$ openstack volume create --size 50 --image Ubuntu-18.04 volume_2

The 1st volume succeeds and the 2nd one in error status.
error log for the 2nd volume:
ERROR cinder.volume.api Volume status must be available
or in-use to reserve, but the status is attaching.
or
ERROR cinder.volume.api Volume status must be available
or in-use to reserve, but the status is detaching.
We added statuses ""attaching"" and ""detaching in valid statuses
to reserve volume in multiattach mode.

Closes-Bug: 1940466
Change-Id: I53417dddbfadd1636b10fa31af305d2f58753237
",git fetch https://review.opendev.org/openstack/cinder refs/changes/72/805072/8 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/test_volume.py', 'cinder/volume/api.py']",2,ef9a89eb4a64e884fba179ab294d20c5d5cbe62c,bug/1940466," @utils.retry(retry_param=exception.VolumeAttached, retries=10) if volume.status == ""attaching"": LOG.warning(""Volume %s cannot be reserved because it's "" ""already in 'attaching' status. It's probably "" ""used in another reserve request. It's better to "" ""try later..."", volume.id) raise exception.VolumeAttached(volume_id=volume.id)",,11,1
openstack%2Fcharm-ironic-conductor~stable%2Fyoga~Ie7ac1b0203d3a51cf3ff74ed8797be3f169cfd1c,openstack/charm-ironic-conductor,stable/yoga,Ie7ac1b0203d3a51cf3ff74ed8797be3f169cfd1c,Stop managing grub.cfg in Yoga,MERGED,2022-04-20 09:23:15.000000000,2022-04-20 12:36:30.000000000,2022-04-20 12:36:30.000000000,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-20 09:23:15.000000000', 'files': ['src/lib/charm/openstack/ironic/ironic.py', 'unit_tests/test_lib_charm_openstack_ironic.py', 'unit_tests/test_controller_utils.py', 'src/lib/charm/openstack/ironic/controller_utils.py', 'src/reactive/ironic_handlers.py'], 'web_link': 'https://opendev.org/openstack/charm-ironic-conductor/commit/d0e0c3a31dd36860d3af5965f4a052012f54b4a7', 'message': 'Stop managing grub.cfg in Yoga\n\nFrom yoga onwards the ironic-conductor manges the grub.conf. This\nchange ensure that the charm stops managing it. This change also\nensures that the file permissions are set correctly prior to\nthe upgrade to Yoga.\n\nWhile developing this change it became apparent that the charm\nwas missing the code to trigger an upgrade after a change in\nopenstack-origin so this change corrects that.\n\nCloses-Bug: #1968871\nChange-Id: Ie7ac1b0203d3a51cf3ff74ed8797be3f169cfd1c\n(cherry picked from commit a3b68bd8df73d37005bebc230e3c2f3343e39034)\n'}]",0,838548,d0e0c3a31dd36860d3af5965f4a052012f54b4a7,7,3,1,12549,,,0,"Stop managing grub.cfg in Yoga

From yoga onwards the ironic-conductor manges the grub.conf. This
change ensure that the charm stops managing it. This change also
ensures that the file permissions are set correctly prior to
the upgrade to Yoga.

While developing this change it became apparent that the charm
was missing the code to trigger an upgrade after a change in
openstack-origin so this change corrects that.

Closes-Bug: #1968871
Change-Id: Ie7ac1b0203d3a51cf3ff74ed8797be3f169cfd1c
(cherry picked from commit a3b68bd8df73d37005bebc230e3c2f3343e39034)
",git fetch https://review.opendev.org/openstack/charm-ironic-conductor refs/changes/48/838548/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/lib/charm/openstack/ironic/ironic.py', 'unit_tests/test_lib_charm_openstack_ironic.py', 'unit_tests/test_controller_utils.py', 'src/lib/charm/openstack/ironic/controller_utils.py', 'src/reactive/ironic_handlers.py']",5,d0e0c3a31dd36860d3af5965f4a052012f54b4a7,bug/1968871-stable/yoga, ironic_charm.upgrade_if_available(args),,52,9
openstack%2Fcharm-cinder-ceph~stable%2Fyoga~I3c291a7b6be347e74597add009858ab5672002a2,openstack/charm-cinder-ceph,stable/yoga,I3c291a7b6be347e74597add009858ab5672002a2,Updates for stable branch creation,MERGED,2022-04-15 10:43:50.000000000,2022-04-20 12:26:23.000000000,2022-04-20 12:26:23.000000000,"[{'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-15 10:43:50.000000000', 'files': ['.gitreview', 'test-requirements.txt', 'charm-helpers-hooks.yaml'], 'web_link': 'https://opendev.org/openstack/charm-cinder-ceph/commit/46edddc0ba467d3209485aa4cf66d6a0c34a1190', 'message': 'Updates for stable branch creation\n\n- Set default branch for git review/gerrit.\n- Switch tests to stable.\n- Switch to using stable charm-helpers branch.\n- Switch to using stable charm.openstack branch.\n- Switch to using stable zaza, zaza-openstack-tests\n  branch\n- (reactive charms) Add build.lock file\n\nChange-Id: I3c291a7b6be347e74597add009858ab5672002a2\n'}]",5,838120,46edddc0ba467d3209485aa4cf66d6a0c34a1190,17,3,1,20870,,,0,"Updates for stable branch creation

- Set default branch for git review/gerrit.
- Switch tests to stable.
- Switch to using stable charm-helpers branch.
- Switch to using stable charm.openstack branch.
- Switch to using stable zaza, zaza-openstack-tests
  branch
- (reactive charms) Add build.lock file

Change-Id: I3c291a7b6be347e74597add009858ab5672002a2
",git fetch https://review.opendev.org/openstack/charm-cinder-ceph refs/changes/20/838120/1 && git format-patch -1 --stdout FETCH_HEAD,"['.gitreview', 'test-requirements.txt', 'charm-helpers-hooks.yaml']",3,46edddc0ba467d3209485aa4cf66d6a0c34a1190,charm-release-2204,repo: https://github.com/juju/charm-helpers@stable/yoga,repo: https://github.com/juju/charm-helpers,5,3
openstack%2Fneutron~stable%2Fwallaby~If6e1c6e0fc772101bcd3427601800aaae84381dd,openstack/neutron,stable/wallaby,If6e1c6e0fc772101bcd3427601800aaae84381dd,Retry port_update in the OVN if revision mismatch during live-migration,MERGED,2022-04-13 10:04:16.000000000,2022-04-20 12:23:50.000000000,2022-04-20 12:21:47.000000000,"[{'_account_id': 8313}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-13 10:04:16.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/impl_idl_ovn.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/a91d0e5e4a262a29c77bac38cee91e64d5fa6d46', 'message': 'Retry port_update in the OVN if revision mismatch during live-migration\n\nThis is terrible hack but it seems that there is no other way to\nfix/workaround the race which may happen during live-migration between:\n- port update event comming from the OVN db (port DOWN on the src node),\n- API call from nova-compute to activate port binding on the destination\nnode.\n\nIf those 2 events will be executed in specific order by different\nworkers it may happen that port binding activation will not update\n""requested_chassis"" of the port in OVN northd due to revision mismatch\n(ovn_revision and neutron_revision will be already bumped by the worker\nwhich processes ""port update"" OVN event).\nIf ""requested_chassis"" will not be updated, OVN will not claim port on\nthe dest node thus connectivity to the vm will be broken.\n\nTo workaround that issue, port_update_postcommit method from the OVN\nmechanism driver will catch RevisionMismatch exception raised by the\novn_client and in case that this was port_update after live_migration,\nwill get port data from neutron db and try to update port in the OVN\nnorthd once again.\n\nCloses-bug: #1967144\nChange-Id: If6e1c6e0fc772101bcd3427601800aaae84381dd\n(cherry picked from commit 4f75c6a616d3cb549153fcc496926358dfc9178a)\n'}]",2,837679,a91d0e5e4a262a29c77bac38cee91e64d5fa6d46,17,4,1,11975,,,0,"Retry port_update in the OVN if revision mismatch during live-migration

This is terrible hack but it seems that there is no other way to
fix/workaround the race which may happen during live-migration between:
- port update event comming from the OVN db (port DOWN on the src node),
- API call from nova-compute to activate port binding on the destination
node.

If those 2 events will be executed in specific order by different
workers it may happen that port binding activation will not update
""requested_chassis"" of the port in OVN northd due to revision mismatch
(ovn_revision and neutron_revision will be already bumped by the worker
which processes ""port update"" OVN event).
If ""requested_chassis"" will not be updated, OVN will not claim port on
the dest node thus connectivity to the vm will be broken.

To workaround that issue, port_update_postcommit method from the OVN
mechanism driver will catch RevisionMismatch exception raised by the
ovn_client and in case that this was port_update after live_migration,
will get port data from neutron db and try to update port in the OVN
northd once again.

Closes-bug: #1967144
Change-Id: If6e1c6e0fc772101bcd3427601800aaae84381dd
(cherry picked from commit 4f75c6a616d3cb549153fcc496926358dfc9178a)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/79/837679/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/impl_idl_ovn.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py']",4,a91d0e5e4a262a29c77bac38cee91e64d5fa6d46,bug/1967144-stable/yoga-stable/xena-stable/wallaby,"from neutron.common.ovn import exceptions as ovn_exceptions def _ovn_update_port(self, plugin_context, port, original_port, retry_on_revision_mismatch): try: self._ovn_client.update_port(plugin_context, port, port_object=original_port) except ovn_exceptions.RevisionConflict: if retry_on_revision_mismatch: # NOTE(slaweq): I know this is terrible hack but there is no # other way to workaround possible race between port update # event from the OVN (port down on the src node) and API # request from nova-compute to activate binding of the port on # the dest node. original_port_migrating_to = original_port.get( portbindings.PROFILE, {}).get('migrating_to') port_host_id = port.get(portbindings.HOST_ID) if (original_port_migrating_to is not None and original_port_migrating_to == port_host_id): LOG.debug(""Revision number of the port %s has changed "" ""probably during live migration. Retrying "" ""update port in OVN."", port) db_port = self._plugin.get_port(plugin_context, port['id']) port['revision_number'] = db_port['revision_number'] self._ovn_update_port(plugin_context, port, original_port, retry_on_revision_mismatch=False) self._ovn_update_port(context._plugin_context, port, original_port, retry_on_revision_mismatch=True)"," self._ovn_client.update_port(context._plugin_context, port, port_object=original_port)",145,3
openstack%2Fneutron~master~Ie8f67def69ae0e5d425d0e6fc43e35373a96bd88,openstack/neutron,master,Ie8f67def69ae0e5d425d0e6fc43e35373a96bd88,Remove block flow when port UP,MERGED,2022-04-19 07:27:34.000000000,2022-04-20 12:23:41.000000000,2022-04-20 12:21:52.000000000,"[{'_account_id': 5948}, {'_account_id': 9531}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-19 07:27:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/22b75eeaf7b571e75f096adae6fb002cb1b06b4f', 'message': 'Remove block flow when port UP\n\nPort admin state down will add 4095 tag to it while\nit is adding a drop flows for this ofport.\n\nWhen port is back UP again, remove the drop flow.\n\nCloses-bug: #1968896\nChange-Id: Ie8f67def69ae0e5d425d0e6fc43e35373a96bd88\n'}, {'number': 2, 'created': '2022-04-20 01:28:14.000000000', 'files': ['neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/test_ovs_neutron_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/8dfb24a9332673c8b972f26cb92f5d4024b1bf6f', 'message': 'Remove block flow when port UP\n\nPort admin state down will add 4095 tag to it while\nit is adding a drop flow for this ofport.\n\nWhen port is back UP again, remove the drop flow.\n\nCloses-bug: #1968896\nChange-Id: Ie8f67def69ae0e5d425d0e6fc43e35373a96bd88\n'}]",11,838444,8dfb24a9332673c8b972f26cb92f5d4024b1bf6f,28,6,2,9531,,,0,"Remove block flow when port UP

Port admin state down will add 4095 tag to it while
it is adding a drop flow for this ofport.

When port is back UP again, remove the drop flow.

Closes-bug: #1968896
Change-Id: Ie8f67def69ae0e5d425d0e6fc43e35373a96bd88
",git fetch https://review.opendev.org/openstack/neutron refs/changes/44/838444/2 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py'],1,22b75eeaf7b571e75f096adae6fb002cb1b06b4f,bug/1968896," def port_alive(self, port, log_errors=True): cur_tag = self.int_br.db_get_val(""Port"", port.port_name, ""tag"", log_errors=log_errors) # Port normal vlan tag is set correctly, remove the drop flows if cur_tag and cur_tag != constants.DEAD_VLAN_TAG: self.int_br.uninstall_flows(in_port=port.ofport) self.port_alive(vif_port)",,8,0
openstack%2Fkayobe-config-dev~stable%2Fyoga~I8eca8b2b87e738bcf959ca1f44f38c968b48c60b,openstack/kayobe-config-dev,stable/yoga,I8eca8b2b87e738bcf959ca1f44f38c968b48c60b,Update TOX_CONSTRAINTS_FILE for stable/yoga,MERGED,2022-04-14 07:05:31.000000000,2022-04-20 12:19:28.000000000,2022-04-20 12:19:28.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2022-04-14 07:05:31.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/kayobe-config-dev/commit/44519ddc87fcaa26748a4e2366aba6ed88e0ff45', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/yoga\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/yoga branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: I8eca8b2b87e738bcf959ca1f44f38c968b48c60b\n'}]",1,837833,44519ddc87fcaa26748a4e2366aba6ed88e0ff45,9,3,1,22816,,,0,"Update TOX_CONSTRAINTS_FILE for stable/yoga

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/yoga branch, tests will
continue to use the upper-constraints list on master.

Change-Id: I8eca8b2b87e738bcf959ca1f44f38c968b48c60b
",git fetch https://review.opendev.org/openstack/kayobe-config-dev refs/changes/33/837833/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,44519ddc87fcaa26748a4e2366aba6ed88e0ff45,create-yoga, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/yoga}, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},1,1
openstack%2Fkayobe-config-dev~stable%2Fyoga~Ib996b3ce49e8ad9ddcdff310647373609347e123,openstack/kayobe-config-dev,stable/yoga,Ib996b3ce49e8ad9ddcdff310647373609347e123,Update .gitreview for stable/yoga,MERGED,2022-04-14 07:05:28.000000000,2022-04-20 12:19:26.000000000,2022-04-20 12:19:26.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2022-04-14 07:05:28.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/kayobe-config-dev/commit/95bd38a71ea2e2bc45efb8ded988848f741cef80', 'message': 'Update .gitreview for stable/yoga\n\nChange-Id: Ib996b3ce49e8ad9ddcdff310647373609347e123\n'}]",1,837832,95bd38a71ea2e2bc45efb8ded988848f741cef80,9,3,1,22816,,,0,"Update .gitreview for stable/yoga

Change-Id: Ib996b3ce49e8ad9ddcdff310647373609347e123
",git fetch https://review.opendev.org/openstack/kayobe-config-dev refs/changes/32/837832/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,95bd38a71ea2e2bc45efb8ded988848f741cef80,create-yoga,defaultbranch=stable/yoga,,1,0
openstack%2Fsushy-oem-idrac~stable%2Fxena~I7016ee162de5ba503c85909446463f77c02aedec,openstack/sushy-oem-idrac,stable/xena,I7016ee162de5ba503c85909446463f77c02aedec,Update .gitreview after project rename,MERGED,2022-04-19 10:58:49.000000000,2022-04-20 12:12:11.000000000,2022-04-19 19:33:13.000000000,"[{'_account_id': 22348}, {'_account_id': 23847}]","[{'number': 1, 'created': '2022-04-19 10:58:49.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/sushy-oem-idrac/commit/c1fac82d73bb4a29237887b5a56f1ab3f1a7e23d', 'message': 'Update .gitreview after project rename\n\nsushy-oem-idrac was moved from x/ to openstack/ namespace.\n\nChange-Id: I7016ee162de5ba503c85909446463f77c02aedec\n'}]",1,838481,c1fac82d73bb4a29237887b5a56f1ab3f1a7e23d,7,2,1,27909,,,0,"Update .gitreview after project rename

sushy-oem-idrac was moved from x/ to openstack/ namespace.

Change-Id: I7016ee162de5ba503c85909446463f77c02aedec
",git fetch https://review.opendev.org/openstack/sushy-oem-idrac refs/changes/81/838481/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,c1fac82d73bb4a29237887b5a56f1ab3f1a7e23d,project-rename,project=openstack/sushy-oem-idrac.git,project=x/sushy-oem-idrac.git,1,1
openstack%2Fsushy-oem-idrac~stable%2Fyoga~If9be4eae20b0e482428bec9331b99b64affe413d,openstack/sushy-oem-idrac,stable/yoga,If9be4eae20b0e482428bec9331b99b64affe413d,Update .gitreview after project rename,MERGED,2022-04-19 10:58:19.000000000,2022-04-20 12:11:57.000000000,2022-04-19 19:28:59.000000000,"[{'_account_id': 22348}, {'_account_id': 23847}]","[{'number': 1, 'created': '2022-04-19 10:58:19.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/sushy-oem-idrac/commit/0f5c085c07892fd1e543e06e26fd1f519fdc9d52', 'message': 'Update .gitreview after project rename\n\nsushy-oem-idrac was moved from x/ to openstack/ namespace.\n\nChange-Id: If9be4eae20b0e482428bec9331b99b64affe413d\n'}]",1,838480,0f5c085c07892fd1e543e06e26fd1f519fdc9d52,7,2,1,27909,,,0,"Update .gitreview after project rename

sushy-oem-idrac was moved from x/ to openstack/ namespace.

Change-Id: If9be4eae20b0e482428bec9331b99b64affe413d
",git fetch https://review.opendev.org/openstack/sushy-oem-idrac refs/changes/80/838480/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,0f5c085c07892fd1e543e06e26fd1f519fdc9d52,project-rename,project=openstack/sushy-oem-idrac.git,project=x/sushy-oem-idrac.git,1,1
openstack%2Fsushy-oem-idrac~stable%2Fwallaby~Ie4e2c0f4014fcb5e8f0b2f70ae60b4b13da6f144,openstack/sushy-oem-idrac,stable/wallaby,Ie4e2c0f4014fcb5e8f0b2f70ae60b4b13da6f144,Update .gitreview after project rename,ABANDONED,2022-04-19 10:59:11.000000000,2022-04-20 12:10:44.000000000,,"[{'_account_id': 22348}, {'_account_id': 23847}]","[{'number': 1, 'created': '2022-04-19 10:59:11.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/sushy-oem-idrac/commit/d9f25d16b3314f53281c42a3cae7a8272c8a1629', 'message': 'Update .gitreview after project rename\n\nsushy-oem-idrac was moved from x/ to openstack/ namespace.\n\nChange-Id: Ie4e2c0f4014fcb5e8f0b2f70ae60b4b13da6f144\n'}]",0,838482,d9f25d16b3314f53281c42a3cae7a8272c8a1629,3,2,1,27909,,,0,"Update .gitreview after project rename

sushy-oem-idrac was moved from x/ to openstack/ namespace.

Change-Id: Ie4e2c0f4014fcb5e8f0b2f70ae60b4b13da6f144
",git fetch https://review.opendev.org/openstack/sushy-oem-idrac refs/changes/82/838482/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,d9f25d16b3314f53281c42a3cae7a8272c8a1629,project-rename,project=openstack/sushy-oem-idrac.git,project=x/sushy-oem-idrac.git,1,1
openstack%2Fsushy-oem-idrac~stable%2Fvictoria~Id714cb6bce1956a16379b8f4ca9733d2e6659406,openstack/sushy-oem-idrac,stable/victoria,Id714cb6bce1956a16379b8f4ca9733d2e6659406,Update .gitreview after project rename,ABANDONED,2022-04-19 10:59:21.000000000,2022-04-20 12:10:38.000000000,,"[{'_account_id': 22348}, {'_account_id': 23847}]","[{'number': 1, 'created': '2022-04-19 10:59:21.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/sushy-oem-idrac/commit/26d109e92106012297451601d7394ec7e0f2df9a', 'message': 'Update .gitreview after project rename\n\nsushy-oem-idrac was moved from x/ to openstack/ namespace.\n\nChange-Id: Id714cb6bce1956a16379b8f4ca9733d2e6659406\n'}]",0,838483,26d109e92106012297451601d7394ec7e0f2df9a,3,2,1,27909,,,0,"Update .gitreview after project rename

sushy-oem-idrac was moved from x/ to openstack/ namespace.

Change-Id: Id714cb6bce1956a16379b8f4ca9733d2e6659406
",git fetch https://review.opendev.org/openstack/sushy-oem-idrac refs/changes/83/838483/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,26d109e92106012297451601d7394ec7e0f2df9a,project-rename,project=openstack/sushy-oem-idrac.git,project=x/sushy-oem-idrac.git,1,1
openstack%2Fproject-config~master~I4ee872f1cbfc217e714bb2a6c3778a73d2bfd73e,openstack/project-config,master,I4ee872f1cbfc217e714bb2a6c3778a73d2bfd73e,Normalize projects.yaml,MERGED,2022-04-20 02:27:09.000000000,2022-04-20 12:07:11.000000000,2022-04-20 11:59:09.000000000,"[{'_account_id': 5263}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-20 02:27:09.000000000', 'files': ['gerrit/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/6c82b06b85733a94bdc5b2ed65c0c49af51759d6', 'message': 'Normalize projects.yaml\n\nChange-Id: I4ee872f1cbfc217e714bb2a6c3778a73d2bfd73e\n'}]",0,838620,6c82b06b85733a94bdc5b2ed65c0c49af51759d6,7,2,1,11131,,,0,"Normalize projects.yaml

Change-Id: I4ee872f1cbfc217e714bb2a6c3778a73d2bfd73e
",git fetch https://review.opendev.org/openstack/project-config refs/changes/20/838620/1 && git format-patch -1 --stdout FETCH_HEAD,['gerrit/projects.yaml'],1,6c82b06b85733a94bdc5b2ed65c0c49af51759d6,project-yaml-normalization," description: RETIRED, A library to assist in creating functional or integrated test suites for OpenStack projects."," description: RETIRED, A library to assist in creating functional or integrated test suites for OpenStack projects.",2,2
openstack%2Fnova~stable%2Fxena~Ia208ef0dd0bab1c59d025234f4da7537c39cda61,openstack/nova,stable/xena,Ia208ef0dd0bab1c59d025234f4da7537c39cda61,Adds regression test for bug LP#1944619,ABANDONED,2022-04-18 15:59:45.000000000,2022-04-20 12:06:11.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-04-18 15:59:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0cf4cecaf4a6a1de1e36c3711f6c7d4d727ccc22', 'message': 'Adds regression test for bug LP#1944619\n\nRelated-bug: #1944619\nChange-Id: Ia208ef0dd0bab1c59d025234f4da7537c39cda61\n(cherry picked from commit d43538712c034023bdb3e25cd7adfdee409ed596)\n'}, {'number': 2, 'created': '2022-04-18 17:58:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fd6b8da64e7d0cb6bc1c7c5e8221ea5e7d7de97e', 'message': 'Adds regression test for bug LP#1944619\n\nRelated-bug: #1944619\nChange-Id: Ia208ef0dd0bab1c59d025234f4da7537c39cda61\n(cherry picked from commit d43538712c034023bdb3e25cd7adfdee409ed596)\n'}, {'number': 3, 'created': '2022-04-18 19:33:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2ccf287172f8a0c4b594944c98bb1ea8f14014c4', 'message': 'Adds regression test for bug LP#1944619\n\nRelated-bug: #1944619\nChange-Id: Ia208ef0dd0bab1c59d025234f4da7537c39cda61\n(cherry picked from commit d43538712c034023bdb3e25cd7adfdee409ed596)\n'}, {'number': 4, 'created': '2022-04-19 13:09:06.000000000', 'files': ['nova/tests/functional/regressions/test_bug_1944619.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/4c652e8afe75b5a2436c3502a225433f4a73bf6f', 'message': 'Adds regression test for bug LP#1944619\n\nRelated-bug: #1944619\nChange-Id: Ia208ef0dd0bab1c59d025234f4da7537c39cda61\n(cherry picked from commit d43538712c034023bdb3e25cd7adfdee409ed596)\n'}]",0,838323,4c652e8afe75b5a2436c3502a225433f4a73bf6f,17,1,4,10058,,,0,"Adds regression test for bug LP#1944619

Related-bug: #1944619
Change-Id: Ia208ef0dd0bab1c59d025234f4da7537c39cda61
(cherry picked from commit d43538712c034023bdb3e25cd7adfdee409ed596)
",git fetch https://review.opendev.org/openstack/nova refs/changes/23/838323/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/regressions/test_bug_1944619.py'],1,0cf4cecaf4a6a1de1e36c3711f6c7d4d727ccc22,bug/1944619,"# Copyright 2021, Canonical, Inc. All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import fixtures from nova import exception as nova_exceptions from nova.tests.fixtures import libvirt as fakelibvirt from nova.tests.functional import integrated_helpers from nova.tests.functional.libvirt import base class TestRollbackWithHWOffloadedOVS( base.LibvirtMigrationMixin, base.ServersTestBase, integrated_helpers.InstanceHelperMixin ): """"""Regression test for bug LP#1944619 Assert the behaviour observed in bug LP#1944619 caused by the live migration cleanup code being used to cleanup pre-live migration failures. When SRIOV devices are in use on a VM, that will cause the source host to try to re-attach a VIF not actually de-attached causing a failure. The exception mocked in pre_live_migration reproduce an arbitrary error that might cause the pre-live migration process to fail and rollback_live_migration_at_source reproduce the device re-attach failure. """""" api_major_version = 'v2.1' microversion = 'latest' ADMIN_API = True def setUp(self): super().setUp() self.start_compute( hostname='src', host_info=fakelibvirt.HostInfo( cpu_nodes=1, cpu_sockets=1, cpu_cores=4, cpu_threads=1)) self.start_compute( hostname='dest', host_info=fakelibvirt.HostInfo( cpu_nodes=1, cpu_sockets=1, cpu_cores=4, cpu_threads=1)) self.src = self.computes['src'] self.dest = self.computes['dest'] lib_path = ""nova.virt.libvirt.driver.LibvirtDriver"" funtion_path = ""rollback_live_migration_at_source"" mock_lib_path = ""%s.%s"" % (lib_path, funtion_path) self.libvirt_mock = self.useFixture( fixtures.MockPatch(mock_lib_path, side_effect=fakelibvirt.libvirtError( defmsg=""libVirt duplicated dev error""))) funtion_path = ""pre_live_migration"" mock_lib_path = ""%s.%s"" % (lib_path, funtion_path) self.useFixture(fixtures.MockPatch( mock_lib_path, side_effect=nova_exceptions.DestinationDiskExists( path='/var/non/existent')) ) def test_rollback_pre_live_migration(self): self.server = self._create_server(host='src', networks='none') # Live migrate the instance to another host self._live_migrate(self.server, migration_expected_state='error', server_expected_state='MIGRATING') # FIXME(erlon): In the current behavior, # rollback_live_migration_at_source is called if an error happens # during the pre_live_migration phase on the destination and therefore # triggers the observed bug. rollback_live_migration_at_source should # *not* be called for when errors happen during pre_live_migration # phase. self.libvirt_mock.mock.assert_called_once() ",,87,0
openstack%2Fnova~stable%2Fxena~I15645028653554ed495de73ee528893959f53be3,openstack/nova,stable/xena,I15645028653554ed495de73ee528893959f53be3,stable/xena: Fix lower-constraint job,ABANDONED,2022-04-19 13:09:06.000000000,2022-04-20 12:04:08.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-04-19 13:09:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ae1d1e1aabd2bc0e5e171c1a33d297ab9a2ee2b2', 'message': 'stable/xena: Fix lower-constraint job\n\nThis job should run in a bionic environment or use\nthe python3.8 interpreter.\n\nChange-Id: I15645028653554ed495de73ee528893959f53be3\n'}, {'number': 2, 'created': '2022-04-19 16:14:58.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/nova/commit/e6b58c0b0b874b2435bdba43e3369b34142a6936', 'message': 'stable/xena: Fix lower-constraint job\n\nThis job should run in a bionic environment or use\nthe python3.8 interpreter.\n\nChange-Id: I15645028653554ed495de73ee528893959f53be3\n'}]",0,838509,e6b58c0b0b874b2435bdba43e3369b34142a6936,11,1,2,10058,,,0,"stable/xena: Fix lower-constraint job

This job should run in a bionic environment or use
the python3.8 interpreter.

Change-Id: I15645028653554ed495de73ee528893959f53be3
",git fetch https://review.opendev.org/openstack/nova refs/changes/09/838509/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,ae1d1e1aabd2bc0e5e171c1a33d297ab9a2ee2b2,bug/1944619,basepython = python3.8,basepython = python3.6,1,1
openstack%2Fcharm-vault~master~I8f41bcfcff9556f8a71acf03aab9faabac447b07,openstack/charm-vault,master,I8f41bcfcff9556f8a71acf03aab9faabac447b07,[DNM] Support etcd as a storage backend for Vault,ABANDONED,2021-07-15 16:36:37.000000000,2022-04-20 12:00:53.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-15 16:36:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/602e15491cbdd3d0b1b160029450831e5bf54ede', 'message': '[DNM] Support etcd as a storage backend for Vault\n\nA different pattern to solve the issue other than:\nI2ec6285a44bb5e1914839bd33dc1e778ae4a85fd\n\nBy specifing an explicit config storage-backend=true, enable etcd as the\nstorage backend for Vault. This is in addition to the option of using it\nas the HA storage which already exists prior to this change.\n\nThe existing functional test as ""test_consistent_read_write"" will check\nthat a written data can be read from all vault units in HA scenarios as\nthe same way as other storage backends already availalbe such as MySQL\nand PostgreSQL.\n\nCloses-Bug: 1883242\nChange-Id: I8f41bcfcff9556f8a71acf03aab9faabac447b07\n'}, {'number': 2, 'created': '2021-07-16 02:03:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/c9da91e11985211d6cc73f752b595d143fdea2bc', 'message': '[DNM] Support etcd as a storage backend for Vault\n\nA different pattern to solve the issue other than:\nI2ec6285a44bb5e1914839bd33dc1e778ae4a85fd\n\nBy specifing an explicit config storage-backend=true, enable etcd as the\nstorage backend for Vault. This is in addition to the option of using it\nas the HA storage which already exists prior to this change.\n\nThe existing functional test as ""test_consistent_read_write"" will check\nthat a written data can be read from all vault units in HA scenarios as\nthe same way as other storage backends already availalbe such as MySQL\nand PostgreSQL.\n\nCloses-Bug: 1883242\nChange-Id: I8f41bcfcff9556f8a71acf03aab9faabac447b07\n'}, {'number': 3, 'created': '2021-07-16 02:15:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/1cb916e322adb4e894d57baaae086b4c550bdd85', 'message': '[DNM] Support etcd as a storage backend for Vault\n\nA different pattern to solve the issue other than:\nI2ec6285a44bb5e1914839bd33dc1e778ae4a85fd\n\nBy specifing an explicit config storage-backend=true, enable etcd as the\nstorage backend for Vault. This is in addition to the option of using it\nas the HA storage which already exists prior to this change.\n\nThe existing functional test as ""test_consistent_read_write"" will check\nthat a written data can be read from all vault units in HA scenarios as\nthe same way as other storage backends already availalbe such as MySQL\nand PostgreSQL.\n\nCloses-Bug: 1883242\nChange-Id: I8f41bcfcff9556f8a71acf03aab9faabac447b07\n'}, {'number': 4, 'created': '2021-07-18 07:49:48.000000000', 'files': ['src/tests/bundles/overlays/groovy-ha-etcd.yaml.j2', 'osci.yaml', 'src/tests/tests.yaml', 'src/tests/bundles/focal-ha-etcd.yaml', 'src/tests/bundles/focal-etcd.yaml', 'src/README.md', 'src/config.yaml', 'src/tests/bundles/groovy-etcd.yaml', 'src/wheelhouse.txt', 'src/templates/vault.hcl.j2', 'src/tests/bundles/groovy-ha-etcd.yaml', 'src/tests/bundles/overlays/focal-ha-etcd.yaml.j2', 'src/reactive/vault_handlers.py'], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/3c28bd11de0c373edf8e19a4f2931cc92904ff41', 'message': '[DNM] Support etcd as a storage backend for Vault\n\nA different pattern to solve the issue other than:\nI2ec6285a44bb5e1914839bd33dc1e778ae4a85fd\n\nBy specifing an explicit config storage-backend=true, enable etcd as the\nstorage backend for Vault. This is in addition to the option of using it\nas the HA storage which already exists prior to this change.\n\nThe existing functional test as ""test_consistent_read_write"" will check\nthat a written data can be read from all vault units in HA scenarios as\nthe same way as other storage backends already availalbe such as MySQL\nand PostgreSQL.\n\nCloses-Bug: 1883242\nChange-Id: I8f41bcfcff9556f8a71acf03aab9faabac447b07\n'}]",0,800970,3c28bd11de0c373edf8e19a4f2931cc92904ff41,19,2,4,8108,,,0,"[DNM] Support etcd as a storage backend for Vault

A different pattern to solve the issue other than:
I2ec6285a44bb5e1914839bd33dc1e778ae4a85fd

By specifing an explicit config storage-backend=true, enable etcd as the
storage backend for Vault. This is in addition to the option of using it
as the HA storage which already exists prior to this change.

The existing functional test as ""test_consistent_read_write"" will check
that a written data can be read from all vault units in HA scenarios as
the same way as other storage backends already availalbe such as MySQL
and PostgreSQL.

Closes-Bug: 1883242
Change-Id: I8f41bcfcff9556f8a71acf03aab9faabac447b07
",git fetch https://review.opendev.org/openstack/charm-vault refs/changes/70/800970/2 && git format-patch -1 --stdout FETCH_HEAD,"['src/tests/bundles/overlays/groovy-ha-etcd.yaml.j2', 'osci.yaml', 'src/tests/tests.yaml', 'src/tests/bundles/focal-ha-etcd.yaml', 'src/tests/bundles/focal-etcd.yaml', 'src/README.md', 'src/config.yaml', 'src/tests/bundles/groovy-etcd.yaml', 'src/templates/vault.hcl.j2', 'src/tests/bundles/groovy-ha-etcd.yaml', 'src/tests/bundles/overlays/focal-ha-etcd.yaml.j2', 'src/reactive/vault_handlers.py']",12,602e15491cbdd3d0b1b160029450831e5bf54ede,charm-vault-etcd-storage,"@when(""config.set.storage-backend"") @when(""snap.installed.vault"") @when(""vault.ssl.configured"") def configure_vault_with_explicit_backend(): storage_backend = config(""storage-backend"") if storage_backend == ""etcd"": context = {""storage_name"": ""etcd""} configure_vault(context) @when_not(""is-update-status-hook"")",,156,1
openstack%2Fheat~master~I4c2dd8805a20df0009e98498d151f126f57b0355,openstack/heat,master,I4c2dd8805a20df0009e98498d151f126f57b0355,Support Neutron BFD monitor resource,ABANDONED,2021-10-11 13:20:34.000000000,2022-04-20 11:53:42.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-10-11 13:20:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/bc5c0ba31efdeea9d36e4d2e2dda231e36a30407', 'message': 'Support Neutron BFD monitor resource\n\nTODO: unit tests, specially for the fact that sdk return object and not\ndict.\n\nChange-Id: I4c2dd8805a20df0009e98498d151f126f57b0355\nRelated-Bug: #1907089\n'}, {'number': 2, 'created': '2021-10-11 15:43:44.000000000', 'files': ['heat/tests/openstack/neutron/test_neutron_bfd_monitor.py', 'heat/engine/resources/openstack/neutron/bfd_monitor.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/ed8ebd451b349d141b9a18cb93416d6484a584f5', 'message': 'Support Neutron BFD monitor resource\n\nTODO: unit tests, specially for the fact that sdk return object and not\ndict.\n\nChange-Id: I4c2dd8805a20df0009e98498d151f126f57b0355\nDepends-On: https://review.opendev.org/c/openstack/openstacksdk/+/811951\nRelated-Bug: #1907089\n'}]",0,813426,ed8ebd451b349d141b9a18cb93416d6484a584f5,8,1,2,8313,,,0,"Support Neutron BFD monitor resource

TODO: unit tests, specially for the fact that sdk return object and not
dict.

Change-Id: I4c2dd8805a20df0009e98498d151f126f57b0355
Depends-On: https://review.opendev.org/c/openstack/openstacksdk/+/811951
Related-Bug: #1907089
",git fetch https://review.opendev.org/openstack/heat refs/changes/26/813426/2 && git format-patch -1 --stdout FETCH_HEAD,"['heat/tests/openstack/neutron/test_neutron_bfd_monitor.py', 'heat/engine/resources/openstack/neutron/bfd_monitor.py']",2,bc5c0ba31efdeea9d36e4d2e2dda231e36a30407,bug/1907089,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from heat.common.i18n import _ from heat.engine import constraints from heat.engine import properties from heat.engine.resources.openstack.neutron import neutron class BfdMonitor(neutron.NeutronResource): """"""A resource for mapping a BFD monitor. Blah... """""" default_client_name = 'neutron_sdk' entity = 'bfd_monitor' required_service_extension = 'bfd-monitor' PROPERTIES = ( NAME, DESCRIPTION, PROJECT_ID, MODE, DST_IP, SRC_IP, MIN_RX, MIN_TX, MULTIPLIER, AUTH_TYPE, AUTH_KEY ) = ( 'name', 'description', 'project_id', 'mode', 'dst_ip', 'src_ip', 'min_rx', 'min_tx', 'multiplier', 'auth_type', 'auth_key' ) properties_schema = { NAME: properties.Schema( properties.Schema.STRING, _('A string specifying a symbolic name for the BFD monitor, ' 'which is not required to be unique.'), update_allowed=True ), DESCRIPTION: properties.Schema( properties.Schema.STRING, _('The description for the BFD monitor.'), update_allowed=True ), PROJECT_ID: properties.Schema( properties.Schema.STRING, _('The ID of the project which will own the BFD monitor. Only ' 'administrative users can set the project identifier; this ' 'cannot be changed using authorization policies.') ), MODE: properties.Schema( properties.Schema.STRING, _('Blah.') ), DST_IP: properties.Schema( properties.Schema.STRING, _('Blah.') ), SRC_IP: properties.Schema( properties.Schema.STRING, _('Blah.') ), MIN_RX: properties.Schema( properties.Schema.INTEGER, _('Blah.'), constraints=[constraints.Range(min=0)], ), MIN_TX: properties.Schema( properties.Schema.INTEGER, _('Blah.'), constraints=[constraints.Range(min=0)], ), MULTIPLIER: properties.Schema( properties.Schema.INTEGER, _('Blah.'), constraints=[constraints.Range(min=0)], ), AUTH_TYPE: properties.Schema( properties.Schema.STRING, _('Blah.') ), # TODO(lajoskatona): change this to MAP! AUTH_KEY: properties.Schema( properties.Schema.STRING, _('Blah.') ) } def handle_create(self): props = self.prepare_properties( self.properties, self.physical_resource_name()) bfd = self.client().create_bfd_monitor(**props) self.resource_id_set(bfd.id) def handle_delete(self): if self.resource_id is None: return with self.client_plugin().ignore_not_found: self.client().delete_bfd_monitor(self.resource_id) def handle_update(self, json_snippet, tmpl_diff, prop_diff): if prop_diff: self.prepare_update_properties(prop_diff) prop_diff = {} # prop_diff = BfdMonitor._remove_none_value_props(prop_diff) self.client().update_bfd_monitor(self.resource_id, **prop_diff) def resource_mapping(): return { 'OS::Neutron::BfdMonitor': BfdMonitor, } ",,199,0
openstack%2Fopenstacksdk~feature%2Fr1~Ifb41fab7a7f45f1a90e8463bcce59fd59ba6da84,openstack/openstacksdk,feature/r1,Ifb41fab7a7f45f1a90e8463bcce59fd59ba6da84,Add BFD monitor operations,ABANDONED,2021-09-30 11:35:14.000000000,2022-04-20 11:53:15.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-09-30 11:35:14.000000000', 'files': ['openstack/tests/unit/network/v2/test_bfd.py', 'openstack/tests/unit/network/v2/test_proxy.py', 'openstack/network/v2/bfd.py', 'openstack/network/v2/_proxy.py', 'openstack/tests/functional/network/v2/test_bfd.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/292d9c792b44a30a23aeb7887d841bb183266084', 'message': 'Add BFD monitor operations\n\nChange-Id: Ifb41fab7a7f45f1a90e8463bcce59fd59ba6da84\nRelated-Bug: #1907089\n'}]",0,811951,292d9c792b44a30a23aeb7887d841bb183266084,4,1,1,8313,,,0,"Add BFD monitor operations

Change-Id: Ifb41fab7a7f45f1a90e8463bcce59fd59ba6da84
Related-Bug: #1907089
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/51/811951/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/tests/unit/network/v2/test_bfd.py', 'openstack/tests/unit/network/v2/test_proxy.py', 'openstack/network/v2/bfd.py', 'openstack/network/v2/_proxy.py', 'openstack/tests/functional/network/v2/test_bfd.py']",5,292d9c792b44a30a23aeb7887d841bb183266084,bug/1907089,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from openstack.network.v2 import bfd as _bfd from openstack.tests.functional import base class TestBfdMonitor(base.BaseFunctionalTest): def setUp(self): super(TestBfdMonitor, self).setUp() self.BFD_NAME = self.getUniqueString() self.BFD_NAME_UPDATED = self.getUniqueString() self.DST_IP = '192.168.199.12' bfd_monitor = self.conn.network.create_bfd_monitor( name=self.BFD_NAME, dst_ip=self.DST_IP ) assert isinstance(bfd_monitor, _bfd.BFDMonitor) self.assertEqual(self.BFD_NAME, bfd_monitor.name) self.BFD_ID = bfd_monitor.id def tearDown(self): sot = self.conn.network.delete_bfd_monitor(self.BFD_ID) self.assertIsNone(sot) super(TestBfdMonitor, self).tearDown() def test_find(self): sot = self.conn.network.find_bfd_monitor(self.BFD_NAME) self.assertEqual(self.BFD_ID, sot.id) def test_get(self): sot = self.conn.network.get_bfd_monitor(self.BFD_ID) self.assertEqual(self.BFD_NAME, sot.name) def test_list(self): names = [o.name for o in self.conn.network.bfd_monitors()] self.assertIn(self.BFD_NAME, names) def test_update(self): sot = self.conn.network.update_bfd_monitor( self.BFD_ID, name=self.BFD_NAME_UPDATED) self.assertEqual(self.BFD_NAME_UPDATED, sot.name) ",,375,0
openstack%2Fpython-openstackclient~master~I2f4630f94ef83420d38d46605343998bb7c0e374,openstack/python-openstackclient,master,I2f4630f94ef83420d38d46605343998bb7c0e374,Add bfd_monitor as optional arg to route,ABANDONED,2021-09-22 08:35:42.000000000,2022-04-20 11:53:06.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-09-22 08:35:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/1638f015da19c98280275fa4737b0da34c53bb46', 'message': 'Add bfd_monitor as optional arg to route\n\nChange-Id: I2f4630f94ef83420d38d46605343998bb7c0e374\nRelated-Bug: #1907089\n'}, {'number': 2, 'created': '2021-09-30 16:57:11.000000000', 'files': ['openstackclient/network/v2/router.py', 'openstackclient/tests/functional/network/v2/test_router.py', 'openstackclient/tests/unit/network/v2/test_router.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/06b628ed9cc5fc89255983918b1b51a51069c3da', 'message': 'Add bfd_monitor as optional arg to route\n\nChange-Id: I2f4630f94ef83420d38d46605343998bb7c0e374\nRelated-Bug: #1907089\n'}]",0,810370,06b628ed9cc5fc89255983918b1b51a51069c3da,5,1,2,8313,,,0,"Add bfd_monitor as optional arg to route

Change-Id: I2f4630f94ef83420d38d46605343998bb7c0e374
Related-Bug: #1907089
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/70/810370/2 && git format-patch -1 --stdout FETCH_HEAD,['openstackclient/network/v2/router.py'],1,1638f015da19c98280275fa4737b0da34c53bb46,bug/1907089," metavar='destination=<subnet>,gateway=<ip-address>' '[,bfd_monitor=<bfd-monitor>]', optional_keys=['bfd_monitor'], ""gateway: nexthop IP address, "" ""bfd_monitor: the name or id of the BFD monitor. "" client = self.app.client_manager.network if 'bfd_monitor' in route: bfd = client.find_bfd_monitor(route['bfd_monitor'], ignore_missing=False) route['bfd_monitor_id'] = bfd.id route.pop('bfd_monitor') metavar='destination=<subnet>,gateway=<ip-address>' '[,bfd_monitor=<bfd-monitor>]', optional_keys=['bfd_monitor'], ""gateway: nexthop IP address, "" ""bfd_monitor: the name or id of the BFD monitor. "" client = self.app.client_manager.network if 'bfd_monitor' in route: bfd = client.find_bfd_monitor(route['bfd_monitor'], ignore_missing=False) route['bfd_monitor_id'] = bfd.id route.pop('bfd_monitor') metavar='destination=<subnet>,gateway=<ip-address>' '[,bfd_monitor=<bfd-monitor>]', optional_keys=['bfd_monitor'], ""gateway: nexthop IP address, "" ""bfd_monitor: the name or id of the BFD monitor. "" if 'bfd_monitor' in route: bfd = client.find_bfd_monitor(route['bfd_monitor'], ignore_missing=False) route['bfd_monitor_id'] = bfd.id route.pop('bfd_monitor') metavar='destination=<subnet>,gateway=<ip-address>' '[,bfd_monitor=<bfd-monitor>]', optional_keys=['bfd_monitor'], ""gateway: nexthop IP address, "" ""bfd_monitor: the name or id of the BFD monitor. "" if 'bfd_monitor' in route: bfd = client.find_bfd_monitor(route['bfd_monitor'], ignore_missing=False) route['bfd_monitor_id'] = bfd.id route.pop('bfd_monitor')"," metavar='destination=<subnet>,gateway=<ip-address>', ""gateway: nexthop IP address. "" client = self.app.client_manager.network metavar='destination=<subnet>,gateway=<ip-address>', ""gateway: nexthop IP address. "" client = self.app.client_manager.network metavar='destination=<subnet>,gateway=<ip-address>', ""gateway: nexthop IP address "" metavar='destination=<subnet>,gateway=<ip-address>', ""gateway: nexthop IP address """,42,10
openstack%2Fironic~master~I40901be4f7df304c027193e9da5fb77e4cbba889,openstack/ironic,master,I40901be4f7df304c027193e9da5fb77e4cbba889,Use metalsmith cs9 job,ABANDONED,2022-03-29 19:26:17.000000000,2022-04-20 11:52:59.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-03-29 19:26:17.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/59b1eb2561014721986257e79555f2b346759093', 'message': 'Use metalsmith cs9 job\n\nDepends-On: https://review.opendev.org/c/openstack/metalsmith/+/835749\nChange-Id: I40901be4f7df304c027193e9da5fb77e4cbba889\n'}]",0,835750,59b1eb2561014721986257e79555f2b346759093,6,1,1,15519,,,0,"Use metalsmith cs9 job

Depends-On: https://review.opendev.org/c/openstack/metalsmith/+/835749
Change-Id: I40901be4f7df304c027193e9da5fb77e4cbba889
",git fetch https://review.opendev.org/openstack/ironic refs/changes/50/835750/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,59b1eb2561014721986257e79555f2b346759093,metalsmith_cs9, - metalsmith-integration-glance-localboot-centos9-uefi - metalsmith-integration-glance-localboot-centos9-uefi, - metalsmith-integration-glance-localboot-centos8-uefi - metalsmith-integration-glance-localboot-centos8-uefi,2,2
openstack%2Fneutron-tempest-plugin~master~Ibbbcd3d73d68f11f4ee37e808a5ada12fe5f4dcd,openstack/neutron-tempest-plugin,master,Ibbbcd3d73d68f11f4ee37e808a5ada12fe5f4dcd,WIP: API tests for BFD support,ABANDONED,2021-07-15 14:04:47.000000000,2022-04-20 11:52:54.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-07-15 14:04:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/587502e4a5d5b0799db9f64428ab6cc1c54578d0', 'message': 'WIP: API tests for BFD support\n\nChange-Id: Ibbbcd3d73d68f11f4ee37e808a5ada12fe5f4dcd\nRelated-Bug: #1907089\n'}, {'number': 2, 'created': '2021-07-27 09:48:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/3c50257502d1da80be8d554602ad62a6617fa583', 'message': 'WIP: API tests for BFD support\n\nChange-Id: Ibbbcd3d73d68f11f4ee37e808a5ada12fe5f4dcd\nRelated-Bug: #1907089\n'}, {'number': 3, 'created': '2021-07-27 15:05:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/ee71f33947e559c746911f0ed071bc1590adff1a', 'message': 'WIP: API tests for BFD support\n\nChange-Id: Ibbbcd3d73d68f11f4ee37e808a5ada12fe5f4dcd\nRelated-Bug: #1907089\n'}, {'number': 4, 'created': '2021-08-06 12:57:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/17ab6803e4d3cb430c721ce3d2a6a33298319802', 'message': 'WIP: API tests for BFD support\n\nChange-Id: Ibbbcd3d73d68f11f4ee37e808a5ada12fe5f4dcd\nRelated-Bug: #1907089\n'}, {'number': 5, 'created': '2021-08-13 09:23:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/4b4e13373228701fbe576d324a5fafc93b10f4bc', 'message': 'WIP: API tests for BFD support\n\nChange-Id: Ibbbcd3d73d68f11f4ee37e808a5ada12fe5f4dcd\nRelated-Bug: #1907089\n'}, {'number': 6, 'created': '2021-08-13 12:54:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/cf4c756d5258aacbc2b5b832912b5cc730b379ad', 'message': 'WIP: API tests for BFD support\n\nChange-Id: Ibbbcd3d73d68f11f4ee37e808a5ada12fe5f4dcd\nRelated-Bug: #1907089\n'}, {'number': 7, 'created': '2021-08-13 15:52:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/430ace25fe8f59dc442b0354a477e0a0ad92f7ae', 'message': 'WIP: API tests for BFD support\n\nChange-Id: Ibbbcd3d73d68f11f4ee37e808a5ada12fe5f4dcd\nRelated-Bug: #1907089\n'}, {'number': 8, 'created': '2021-08-27 16:09:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/1ddf079f8c3441869a97a898e3b4f16c8e091a4f', 'message': 'WIP: API tests for BFD support\n\nChange-Id: Ibbbcd3d73d68f11f4ee37e808a5ada12fe5f4dcd\nRelated-Bug: #1907089\n'}, {'number': 9, 'created': '2021-09-01 12:36:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/2844098fdb6b65ca4281a8eb472f124c1d05551b', 'message': 'WIP: API tests for BFD support\n\nChange-Id: Ibbbcd3d73d68f11f4ee37e808a5ada12fe5f4dcd\nRelated-Bug: #1907089\n'}, {'number': 10, 'created': '2021-09-02 11:30:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/20919075f9566c27d8bc26a371949d63c971a1a6', 'message': 'WIP: API tests for BFD support\n\nChange-Id: Ibbbcd3d73d68f11f4ee37e808a5ada12fe5f4dcd\nRelated-Bug: #1907089\n'}, {'number': 11, 'created': '2021-10-11 15:52:20.000000000', 'files': ['neutron_tempest_plugin/api/base.py', 'neutron_tempest_plugin/services/network/json/network_client.py', 'neutron_tempest_plugin/api/test_bfd.py', 'neutron_tempest_plugin/api/test_bfd_negative.py'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/44ab2d10105cc62be5f17fc8ebfb029cc3324edd', 'message': 'WIP: API tests for BFD support\n\nChange-Id: Ibbbcd3d73d68f11f4ee37e808a5ada12fe5f4dcd\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/808046\nDepends-On: https://review.opendev.org/c/openstack/neutron-lib/+/809978\nRelated-Bug: #1907089\n'}]",6,800949,44ab2d10105cc62be5f17fc8ebfb029cc3324edd,23,1,11,8313,,,0,"WIP: API tests for BFD support

Change-Id: Ibbbcd3d73d68f11f4ee37e808a5ada12fe5f4dcd
Depends-On: https://review.opendev.org/c/openstack/neutron/+/808046
Depends-On: https://review.opendev.org/c/openstack/neutron-lib/+/809978
Related-Bug: #1907089
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/49/800949/3 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_tempest_plugin/api/base.py', 'neutron_tempest_plugin/services/network/json/network_client.py', 'neutron_tempest_plugin/api/test_bfd.py']",3,587502e4a5d5b0799db9f64428ab6cc1c54578d0,bug/1907089,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import netaddr from oslo_log import log from tempest.lib.common.utils import data_utils from tempest.lib import decorators from neutron_tempest_plugin.api import base from neutron_tempest_plugin.api import base_routers LOG = log.getLogger(__name__) class BfdTest(base_routers.BaseRouterTest): required_extensions = ['bfd'] def _create_router_w_interface(self): self.network = self.create_network() self.subnet = self.create_subnet(self.network) self.router = self._create_router( data_utils.rand_name('router-'), True) self.create_router_interface(self.router['id'], self.subnet['id']) self.addCleanup( self.client.delete_extra_routes, self.router['id']) def _create_bfd_mon(self): bfd_monitor = self.admin_client.create_bfd_monitor( name=data_utils.rand_name('bfd_monitor'), dst_ip='192.168.0.23')['bfd_monitor'] self.bfd_monitors.append(bfd_monitor) return bfd_monitor @decorators.idempotent_id('206b7cdf-750d-48b9-af35-422d8a7adafb') def test_create_monitor(self): bfd_monitor = self._create_bfd_mon() monitors = self.admin_client.list_bfd_monitors()['bfd_monitors'] self.assertIn(bfd_monitor['id'], [b_m['id'] for b_m in monitors], 'Created bfd_monitor id should be in the list') self.assertIn(bfd_monitor['name'], [b_m['name'] for b_m in monitors], 'Created bfd_monitor name should be in the list') @decorators.idempotent_id('2923344b-8dd2-4aad-8d43-c363e74658f1') def test_get_session_status(self): self.fail(""Not implemented!"") @decorators.idempotent_id('cd916dec-2dad-46b5-8f39-67bcf0e3046c') def test_get_monitor_associations(self): bfd_monitor = self._create_bfd_mon() self._create_router_w_interface() # TODO(lajoskatona): dst = '10.0.%s.0/24' cidr = netaddr.IPNetwork(self.subnet['cidr']) routes = {'destination': dst % 2, 'nexthop': cidr[2], 'bfd_monitor_id': bfd_monitor['id']} self.admin_client.update_extra_routes(self.router['id'], **routes) rsp = self.admin_client.get_bfd_monitor_associations( bfd_monitor['id']) router_body = self.client.show_router(self.router['id'])['router'] dest_ok = False nextop_ok = False for remote in rsp['bfd_monitor_associations']['remotes']: self.assertEqual(router_body['id'], remote['router']) for route in router_body['routes']: if route['destination'] == remote['extra_route']['destination']: dest_ok = True if route['nexthop'] == remote['extra_route']['nexthop']: nextop_ok = True self.assertTrue(dest_ok) self.assertTrue(nextop_ok) @decorators.idempotent_id('c2a29569-3a37-417d-9979-c8e691688294') def test_add_route_with_bfd(self): bfd_monitor = self._create_bfd_mon() self._create_router_w_interface() # TODO(lajoskaton): add IPv6 ? dst = '10.0.%s.0/24' cidr = netaddr.IPNetwork(self.subnet['cidr']) routes = {'destination': dst % 2, 'nexthop': cidr[2], 'bfd_monitor_id': bfd_monitor['id']} self.client.update_extra_routes(self.router['id'], **routes) show_body = self.client.show_router(self.router['id']) for route in show_body['router']['routes']: self.assertEqual(bfd_monitor['id'], route['bfd_monitor_id']) self.client.delete_extra_routes(self.router['id']) show_body = self.client.show_router(self.router['id']) self.assertEmpty(show_body['router']['routes']) @decorators.idempotent_id('2f1c7dc4-e273-4ebf-9ca5-6b8bdcd69274') def test_add_atomic_route_with_bfd(self): bfd_monitor = self._create_bfd_mon() self._create_router_w_interface() dst = '10.0.%s.0/24' cidr = netaddr.IPNetwork(self.subnet['cidr']) routes = [{'destination': dst % 2, 'nexthop': cidr[2], 'bfd_monitor_id': bfd_monitor['id']}] resp = self.client.add_extra_routes_atomic( self.router['id'], routes) show_body = self.client.show_router(self.router['id']) for route in show_body['router']['routes']: self.assertEqual(bfd_monitor['id'], route['bfd_monitor_id']) self.client.delete_extra_routes(self.router['id']) show_body = self.client.show_router(self.router['id']) self.assertEmpty(show_body['router']['routes']) ",,191,1
openstack%2Fpython-openstackclient~master~I15282f3bb36737963337084cd76119538733b990,openstack/python-openstackclient,master,I15282f3bb36737963337084cd76119538733b990,Add BFD monitor commands,ABANDONED,2021-09-21 16:09:53.000000000,2022-04-20 11:52:25.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-09-21 16:09:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/647337de5e2f57e97c8257a2b031917be36ca914', 'message': 'Add BFD monitor commands\n\nChange-Id: I15282f3bb36737963337084cd76119538733b990\nRelated-Bug: #1907089\n'}, {'number': 2, 'created': '2021-09-29 13:49:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/ada0c438598e1adc4c4f4f155b5a1ba6eb7e9887', 'message': 'Add BFD monitor commands\n\nChange-Id: I15282f3bb36737963337084cd76119538733b990\nRelated-Bug: #1907089\n'}, {'number': 3, 'created': '2021-09-30 11:37:28.000000000', 'files': ['openstackclient/network/v2/bfd_monitor.py', 'openstackclient/tests/functional/network/v2/test_bfd_monitor.py', 'openstackclient/tests/unit/network/v2/test_bfd_monitor.py', 'openstackclient/tests/unit/network/v2/fakes.py', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/ef35c7978d3f4588276f2457a61eed3ed3f5aa23', 'message': 'Add BFD monitor commands\n\nDepends-On: https://review.opendev.org/c/openstack/openstacksdk/+/811951\nChange-Id: I15282f3bb36737963337084cd76119538733b990\nRelated-Bug: #1907089\n'}]",0,810286,ef35c7978d3f4588276f2457a61eed3ed3f5aa23,7,1,3,8313,,,0,"Add BFD monitor commands

Depends-On: https://review.opendev.org/c/openstack/openstacksdk/+/811951
Change-Id: I15282f3bb36737963337084cd76119538733b990
Related-Bug: #1907089
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/86/810286/2 && git format-patch -1 --stdout FETCH_HEAD,"['openstackclient/network/v2/bfd_monitor.py', 'setup.cfg']",2,647337de5e2f57e97c8257a2b031917be36ca914,bug/1907089, bfd_monitor_create = openstackclient.network.v2.bfd_monitor:CreateBFDMonitor bfd_monitor_list = openstackclient.network.v2.bfd_monitor:ListBFDMonitor bfd_monitor_delete = openstackclient.network.v2.bfd_monitor:DeleteBFDMonitor bfd_monitor_show = openstackclient.network.v2.bfd_monitor:ShowBFDMonitor bfd_monitor_set = openstackclient.network.v2.bfd_monitor:SetBFDMonitor bfd_monitor_show_associations = openstackclient.network.v2.bfd_monitor:ShowBFDMonitorAssociations bfd_monitor_show_session_status = openstackclient.network.v2.bfd_monitor:ShowBFDMonitorSessionStatus ,,390,0
openstack%2Fironic-python-agent-builder~stable%2Fwallaby~I52761aecf0e17ed7482897b50a9b64ee514edfbe,openstack/ironic-python-agent-builder,stable/wallaby,I52761aecf0e17ed7482897b50a9b64ee514edfbe,Add multipath-io element,ABANDONED,2022-04-20 10:47:45.000000000,2022-04-20 11:44:43.000000000,,[],"[{'number': 1, 'created': '2022-04-20 10:47:45.000000000', 'files': ['dib/multipath-io/README.md', 'dib/multipath-io/element-deps', 'dib/multipath-io/package-installs.yaml', 'releasenotes/notes/multipath-0eb6a4f3b2ee22a3.yaml', 'dib/multipath-io/static/etc/modules-load.d/iscsi.conf'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent-builder/commit/1f847f0ad30f991a500b50af977b6478852b8e88', 'message': 'Add multipath-io element\n\nThis commits introduces a new element `multipath-io`\nthat should be used when the system contains multipath devices.\n\nChange-Id: I52761aecf0e17ed7482897b50a9b64ee514edfbe\n(cherry picked from commit e5bf43c7911407a652220b70baa5357508ff0244)\n'}]",0,838549,1f847f0ad30f991a500b50af977b6478852b8e88,2,0,1,15519,,,0,"Add multipath-io element

This commits introduces a new element `multipath-io`
that should be used when the system contains multipath devices.

Change-Id: I52761aecf0e17ed7482897b50a9b64ee514edfbe
(cherry picked from commit e5bf43c7911407a652220b70baa5357508ff0244)
",git fetch https://review.opendev.org/openstack/ironic-python-agent-builder refs/changes/49/838549/1 && git format-patch -1 --stdout FETCH_HEAD,"['dib/multipath-io/README.md', 'dib/multipath-io/element-deps', 'dib/multipath-io/package-installs.yaml', 'releasenotes/notes/multipath-0eb6a4f3b2ee22a3.yaml', 'dib/multipath-io/static/etc/modules-load.d/iscsi.conf']",5,1f847f0ad30f991a500b50af977b6478852b8e88,multipath-stable/wallaby,qla4xxx cxgb3i cxgb4i bnx2i be2iscsi iscsi_boot_sysfs iscsi_ibft iscsi_tcp target_core_mod,,25,0
openstack%2Fironic-python-agent-builder~stable%2Fxena~I52761aecf0e17ed7482897b50a9b64ee514edfbe,openstack/ironic-python-agent-builder,stable/xena,I52761aecf0e17ed7482897b50a9b64ee514edfbe,Add multipath-io element,ABANDONED,2022-04-20 10:48:36.000000000,2022-04-20 11:44:29.000000000,,[],"[{'number': 1, 'created': '2022-04-20 10:48:36.000000000', 'files': ['dib/multipath-io/README.md', 'dib/multipath-io/element-deps', 'dib/multipath-io/package-installs.yaml', 'releasenotes/notes/multipath-0eb6a4f3b2ee22a3.yaml', 'dib/multipath-io/static/etc/modules-load.d/iscsi.conf'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent-builder/commit/4cec728d02416bdda9e3d00c2b5194412cf815bf', 'message': 'Add multipath-io element\n\nThis commits introduces a new element `multipath-io`\nthat should be used when the system contains multipath devices.\n\nChange-Id: I52761aecf0e17ed7482897b50a9b64ee514edfbe\n(cherry picked from commit e5bf43c7911407a652220b70baa5357508ff0244)\n'}]",0,838691,4cec728d02416bdda9e3d00c2b5194412cf815bf,2,0,1,15519,,,0,"Add multipath-io element

This commits introduces a new element `multipath-io`
that should be used when the system contains multipath devices.

Change-Id: I52761aecf0e17ed7482897b50a9b64ee514edfbe
(cherry picked from commit e5bf43c7911407a652220b70baa5357508ff0244)
",git fetch https://review.opendev.org/openstack/ironic-python-agent-builder refs/changes/91/838691/1 && git format-patch -1 --stdout FETCH_HEAD,"['dib/multipath-io/README.md', 'dib/multipath-io/element-deps', 'dib/multipath-io/package-installs.yaml', 'releasenotes/notes/multipath-0eb6a4f3b2ee22a3.yaml', 'dib/multipath-io/static/etc/modules-load.d/iscsi.conf']",5,4cec728d02416bdda9e3d00c2b5194412cf815bf,multipath-stable/xena,qla4xxx cxgb3i cxgb4i bnx2i be2iscsi iscsi_boot_sysfs iscsi_ibft iscsi_tcp target_core_mod,,25,0
openstack%2Fironic-python-agent-builder~stable%2Fyoga~I52761aecf0e17ed7482897b50a9b64ee514edfbe,openstack/ironic-python-agent-builder,stable/yoga,I52761aecf0e17ed7482897b50a9b64ee514edfbe,Add multipath-io element,ABANDONED,2022-04-20 10:48:21.000000000,2022-04-20 11:43:59.000000000,,[],"[{'number': 1, 'created': '2022-04-20 10:48:21.000000000', 'files': ['dib/multipath-io/README.md', 'dib/multipath-io/element-deps', 'dib/multipath-io/package-installs.yaml', 'releasenotes/notes/multipath-0eb6a4f3b2ee22a3.yaml', 'dib/multipath-io/static/etc/modules-load.d/iscsi.conf'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent-builder/commit/dba6d9a63ce9a88bd9aab838d9e5923649bec108', 'message': 'Add multipath-io element\n\nThis commits introduces a new element `multipath-io`\nthat should be used when the system contains multipath devices.\n\nChange-Id: I52761aecf0e17ed7482897b50a9b64ee514edfbe\n(cherry picked from commit e5bf43c7911407a652220b70baa5357508ff0244)\n'}]",0,838690,dba6d9a63ce9a88bd9aab838d9e5923649bec108,2,0,1,15519,,,0,"Add multipath-io element

This commits introduces a new element `multipath-io`
that should be used when the system contains multipath devices.

Change-Id: I52761aecf0e17ed7482897b50a9b64ee514edfbe
(cherry picked from commit e5bf43c7911407a652220b70baa5357508ff0244)
",git fetch https://review.opendev.org/openstack/ironic-python-agent-builder refs/changes/90/838690/1 && git format-patch -1 --stdout FETCH_HEAD,"['dib/multipath-io/README.md', 'dib/multipath-io/element-deps', 'dib/multipath-io/package-installs.yaml', 'releasenotes/notes/multipath-0eb6a4f3b2ee22a3.yaml', 'dib/multipath-io/static/etc/modules-load.d/iscsi.conf']",5,dba6d9a63ce9a88bd9aab838d9e5923649bec108,multipath-stable/yoga,qla4xxx cxgb3i cxgb4i bnx2i be2iscsi iscsi_boot_sysfs iscsi_ibft iscsi_tcp target_core_mod,,25,0
openstack%2Fneutron~stable%2Fyoga~If6e1c6e0fc772101bcd3427601800aaae84381dd,openstack/neutron,stable/yoga,If6e1c6e0fc772101bcd3427601800aaae84381dd,Retry port_update in the OVN if revision mismatch during live-migration,MERGED,2022-04-13 10:03:36.000000000,2022-04-20 11:36:52.000000000,2022-04-20 11:35:19.000000000,"[{'_account_id': 8313}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-13 10:03:36.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/impl_idl_ovn.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/00b9f5267d7bbde4a6ac17643e75348f9a45c51e', 'message': 'Retry port_update in the OVN if revision mismatch during live-migration\n\nThis is terrible hack but it seems that there is no other way to\nfix/workaround the race which may happen during live-migration between:\n- port update event comming from the OVN db (port DOWN on the src node),\n- API call from nova-compute to activate port binding on the destination\nnode.\n\nIf those 2 events will be executed in specific order by different\nworkers it may happen that port binding activation will not update\n""requested_chassis"" of the port in OVN northd due to revision mismatch\n(ovn_revision and neutron_revision will be already bumped by the worker\nwhich processes ""port update"" OVN event).\nIf ""requested_chassis"" will not be updated, OVN will not claim port on\nthe dest node thus connectivity to the vm will be broken.\n\nTo workaround that issue, port_update_postcommit method from the OVN\nmechanism driver will catch RevisionMismatch exception raised by the\novn_client and in case that this was port_update after live_migration,\nwill get port data from neutron db and try to update port in the OVN\nnorthd once again.\n\nCloses-bug: #1967144\nChange-Id: If6e1c6e0fc772101bcd3427601800aaae84381dd\n(cherry picked from commit 4f75c6a616d3cb549153fcc496926358dfc9178a)\n'}]",3,837677,00b9f5267d7bbde4a6ac17643e75348f9a45c51e,18,4,1,11975,,,0,"Retry port_update in the OVN if revision mismatch during live-migration

This is terrible hack but it seems that there is no other way to
fix/workaround the race which may happen during live-migration between:
- port update event comming from the OVN db (port DOWN on the src node),
- API call from nova-compute to activate port binding on the destination
node.

If those 2 events will be executed in specific order by different
workers it may happen that port binding activation will not update
""requested_chassis"" of the port in OVN northd due to revision mismatch
(ovn_revision and neutron_revision will be already bumped by the worker
which processes ""port update"" OVN event).
If ""requested_chassis"" will not be updated, OVN will not claim port on
the dest node thus connectivity to the vm will be broken.

To workaround that issue, port_update_postcommit method from the OVN
mechanism driver will catch RevisionMismatch exception raised by the
ovn_client and in case that this was port_update after live_migration,
will get port data from neutron db and try to update port in the OVN
northd once again.

Closes-bug: #1967144
Change-Id: If6e1c6e0fc772101bcd3427601800aaae84381dd
(cherry picked from commit 4f75c6a616d3cb549153fcc496926358dfc9178a)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/77/837677/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/impl_idl_ovn.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py']",4,00b9f5267d7bbde4a6ac17643e75348f9a45c51e,bug/1967144-stable/yoga,"from neutron.common.ovn import exceptions as ovn_exceptions def _ovn_update_port(self, plugin_context, port, original_port, retry_on_revision_mismatch): try: self._ovn_client.update_port(plugin_context, port, port_object=original_port) except ovn_exceptions.RevisionConflict: if retry_on_revision_mismatch: # NOTE(slaweq): I know this is terrible hack but there is no # other way to workaround possible race between port update # event from the OVN (port down on the src node) and API # request from nova-compute to activate binding of the port on # the dest node. original_port_migrating_to = original_port.get( portbindings.PROFILE, {}).get('migrating_to') port_host_id = port.get(portbindings.HOST_ID) if (original_port_migrating_to is not None and original_port_migrating_to == port_host_id): LOG.debug(""Revision number of the port %s has changed "" ""probably during live migration. Retrying "" ""update port in OVN."", port) db_port = self._plugin.get_port(plugin_context, port['id']) port['revision_number'] = db_port['revision_number'] self._ovn_update_port(plugin_context, port, original_port, retry_on_revision_mismatch=False) self._ovn_update_port(context._plugin_context, port, original_port, retry_on_revision_mismatch=True)"," self._ovn_client.update_port(context._plugin_context, port, port_object=original_port)",145,3
openstack%2Ftripleo-ci~master~I946aaef1e975bb2817311059dade029fadba9b95,openstack/tripleo-ci,master,I946aaef1e975bb2817311059dade029fadba9b95,Cleanup jobs from old releases already EOL pike|queens|rocky|stein,MERGED,2022-04-15 10:15:14.000000000,2022-04-20 11:18:46.000000000,2022-04-20 11:18:46.000000000,"[{'_account_id': 8449}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29775}]","[{'number': 1, 'created': '2022-04-15 10:15:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/d5b730e781a4b7392b11081bd8b4a54df9abb470', 'message': 'Cleanup jobs from old releases already EOL pike|queens|rocky|stein\n\nRemoves any job definitions that are wired up for old EOL releases.\nIn some cases just remove these from the branches: match.\n\nAlso removes these jobs from the deprecated.yaml\n\nChange-Id: I946aaef1e975bb2817311059dade029fadba9b95\n'}, {'number': 2, 'created': '2022-04-15 10:54:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/8e7a1c8e5f62f3850f43e9456baa118446ff3291', 'message': 'Cleanup jobs from old releases already EOL pike|queens|rocky|stein\n\nRemoves any job definitions that are wired up for old EOL releases.\nIn some cases just remove these from the branches: match.\n\nAlso removes these jobs from the deprecated.yaml\n\nChange-Id: I946aaef1e975bb2817311059dade029fadba9b95\n'}, {'number': 3, 'created': '2022-04-15 11:12:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/6063cfecd5ec53c68fb353f185db7a4965b16503', 'message': 'Cleanup jobs from old releases already EOL pike|queens|rocky|stein\n\nRemoves any job definitions that are wired up for old EOL releases.\nIn some cases just remove these from the branches: match.\n\nAlso removes these jobs from the deprecated.yaml\n\nDepends-On is needed for standalone/scen3 used in sahara.\n\nDepends-On: https://review.opendev.org/c/openstack/sahara/+/838165\n\nChange-Id: I946aaef1e975bb2817311059dade029fadba9b95\n'}, {'number': 4, 'created': '2022-04-15 11:30:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/ac82ad6ca0be17b684e01ef38bbf790916e4f71d', 'message': 'Cleanup jobs from old releases already EOL pike|queens|rocky|stein\n\nRemoves any job definitions that are wired up for old EOL releases.\nIn some cases just remove these from the branches: match.\n\nAlso removes these jobs from the deprecated.yaml\n\nDepends-On is needed for standalone/scen3 used in sahara.\n\nDepends-On: https://review.opendev.org/c/openstack/sahara/+/838165\nDepends-On: https://review.opendev.org/c/openstack/sahara/+/838015\nDepends-On: https://review.opendev.org/c/openstack/sahara/+/838019\nDepends-On: https://review.opendev.org/c/openstack/sahara/+/838016\nDepends-On: https://review.opendev.org/c/openstack/sahara/+/838017\nDepends-On: https://review.opendev.org/c/openstack/sahara/+/838018\n\nChange-Id: I946aaef1e975bb2817311059dade029fadba9b95\n'}, {'number': 5, 'created': '2022-04-15 11:50:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/f1b76bb0f2dd6a10cc86dd6ebd78f94ead8703c5', 'message': 'Cleanup jobs from old releases already EOL pike|queens|rocky|stein\n\nRemoves any job definitions that are wired up for old EOL releases.\nIn some cases just remove these from the branches: match.\n\nAlso removes these jobs from the deprecated.yaml\n\nDepends-On is needed for standalone/scen3 used in sahara and\ncentos-7-standalone-os-tempest in ansible-role-python_venv_build\n\nDepends-On: https://review.opendev.org/c/openstack/sahara/+/838165\nDepends-On: https://review.opendev.org/c/openstack/sahara/+/838015\nDepends-On: https://review.opendev.org/c/openstack/sahara/+/838019\nDepends-On: https://review.opendev.org/c/openstack/sahara/+/838016\nDepends-On: https://review.opendev.org/c/openstack/sahara/+/838017\nDepends-On: https://review.opendev.org/c/openstack/sahara/+/838018\nDepends-On: https://review.opendev.org/c/openstack/ansible-role-python_venv_build/+/838169\nDepends-On: https://review.opendev.org/c/openstack/ansible-role-python_venv_build/+/838170\n\nChange-Id: I946aaef1e975bb2817311059dade029fadba9b95\n'}, {'number': 6, 'created': '2022-04-15 12:10:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/cb827dda815106b0762af13d267891424c67b39d', 'message': 'Cleanup jobs from old releases already EOL pike|queens|rocky|stein\n\nRemoves any job definitions that are wired up for old EOL releases.\nIn some cases just remove these from the branches: match.\n\nAlso removes these jobs from the deprecated.yaml\n\nDepends-On is needed for standalone/scen3 used in sahara and\ncentos-7-standalone-os-tempest in ansible-role-python_venv_build\nand scenario001/2-multinode-oooq-container in aodh\n\nDepends-On: https://review.opendev.org/c/openstack/sahara/+/838165\nDepends-On: https://review.opendev.org/c/openstack/sahara/+/838015\nDepends-On: https://review.opendev.org/c/openstack/sahara/+/838019\nDepends-On: https://review.opendev.org/c/openstack/sahara/+/838016\nDepends-On: https://review.opendev.org/c/openstack/sahara/+/838017\nDepends-On: https://review.opendev.org/c/openstack/sahara/+/838018\nDepends-On: https://review.opendev.org/c/openstack/ansible-role-python_venv_build/+/838169\nDepends-On: https://review.opendev.org/c/openstack/ansible-role-python_venv_build/+/838170\nDepends-On: https://review.opendev.org/c/openstack/aodh/+/824265\nDepends-On: https://review.opendev.org/c/openstack/aodh/+/824266\n\nChange-Id: I946aaef1e975bb2817311059dade029fadba9b95\n'}, {'number': 7, 'created': '2022-04-15 12:16:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/ddd963071fe7c6e931a6e984f88b9186b3588846', 'message': 'Cleanup jobs from old releases already EOL pike|queens|rocky|stein\n\nRemoves any job definitions that are wired up for old EOL releases.\nIn some cases just remove these from the branches: match.\n\nAlso removes these jobs from the deprecated.yaml\n\nDepends-On is needed for standalone/scen3 used in sahara and\ncentos-7-standalone-os-tempest in ansible-role-python_venv_build\nand scenario001/2-multinode-oooq-container in aodh\n\nDepends-On: https://review.opendev.org/c/openstack/sahara/+/838165\nDepends-On: https://review.opendev.org/c/openstack/sahara/+/838015\nDepends-On: https://review.opendev.org/c/openstack/sahara/+/838019\nDepends-On: https://review.opendev.org/c/openstack/sahara/+/838016\nDepends-On: https://review.opendev.org/c/openstack/sahara/+/838017\nDepends-On: https://review.opendev.org/c/openstack/sahara/+/838018\nDepends-On: https://review.opendev.org/c/openstack/ansible-role-python_venv_build/+/838169\nDepends-On: https://review.opendev.org/c/openstack/ansible-role-python_venv_build/+/838170\nDepends-On: https://review.opendev.org/c/openstack/aodh/+/824265\nDepends-On: https://review.opendev.org/c/openstack/aodh/+/824266\nDepends-On: https://review.opendev.org/c/openstack/aodh/+/824267\n\nChange-Id: I946aaef1e975bb2817311059dade029fadba9b95\n'}, {'number': 8, 'created': '2022-04-15 12:25:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/d88b79f6aa3d2fc29d310c739ea3986725a02958', 'message': 'Cleanup jobs from old releases already EOL pike|queens|rocky|stein\n\nRemoves any job definitions that are wired up for old EOL releases.\nIn some cases just remove these from the branches: match.\n\nAlso removes these jobs from the deprecated.yaml\n\nDepends-On is needed for standalone/scen3 used in sahara and\ncentos-7-standalone-os-tempest in ansible-role-python_venv_build\nand scenario001/2-multinode-oooq-container in aodh\n\nDepends-On: https://review.opendev.org/c/openstack/sahara/+/838165\nDepends-On: https://review.opendev.org/c/openstack/sahara/+/838015\nDepends-On: https://review.opendev.org/c/openstack/sahara/+/838019\nDepends-On: https://review.opendev.org/c/openstack/sahara/+/838016\nDepends-On: https://review.opendev.org/c/openstack/sahara/+/838017\nDepends-On: https://review.opendev.org/c/openstack/sahara/+/838018\nDepends-On: https://review.opendev.org/c/openstack/ansible-role-python_venv_build/+/838169\nDepends-On: https://review.opendev.org/c/openstack/ansible-role-python_venv_build/+/838170\nDepends-On: https://review.opendev.org/c/openstack/aodh/+/824265\nDepends-On: https://review.opendev.org/c/openstack/aodh/+/824266\nDepends-On: https://review.opendev.org/c/openstack/aodh/+/824267\nDepends-On: https://review.opendev.org/c/openstack/aodh/+/808507\nDepends-On: https://review.opendev.org/c/openstack/aodh/+/808506\nDepends-On: https://review.opendev.org/c/openstack/aodh/+/808505\nDepends-On: https://review.opendev.org/c/openstack/aodh/+/808504\n\nChange-Id: I946aaef1e975bb2817311059dade029fadba9b95\n'}, {'number': 9, 'created': '2022-04-18 10:12:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/803ed15b7d794d5990ebf56e877666a4d09a2b04', 'message': 'Cleanup jobs from old releases already EOL pike|queens|rocky|stein\n\nRemoves any job definitions that are wired up for old EOL releases.\nIn some cases just remove these from the branches: match.\n\nDepends-On is needed for standalone/scen3 used in sahara and\ncentos-7-standalone-os-tempest in ansible-role-python_venv_build\nand scenario001/2-multinode-oooq-container in aodh\n\nChange-Id: I946aaef1e975bb2817311059dade029fadba9b95\n'}, {'number': 10, 'created': '2022-04-18 10:16:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/e5f6987090e19069b2755f41e61023b659b7ae77', 'message': 'Cleanup jobs from old releases already EOL pike|queens|rocky|stein\n\nRemoves any job definitions that are wired up for old EOL releases.\nIn some cases just remove these from the branches: match.\n\nDepends-On is needed for standalone/scen3 used in sahara and\ncentos-7-standalone-os-tempest in ansible-role-python_venv_build\nand scenario001/2-multinode-oooq-container in aodh\n\nChange-Id: I946aaef1e975bb2817311059dade029fadba9b95\n'}, {'number': 11, 'created': '2022-04-18 10:18:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/42063460b54f72e5ee2e808895a2f1e127338ff4', 'message': 'Cleanup jobs from old releases already EOL pike|queens|rocky|stein\n\nRemoves any job definitions that are wired up for old EOL releases.\nIn some cases just remove these from the branches: match.\n\nDepends-On is needed for standalone/scen3 used in sahara and\ncentos-7-standalone-os-tempest in ansible-role-python_venv_build\nand scenario001/2-multinode-oooq-container in aodh\n\nChange-Id: I946aaef1e975bb2817311059dade029fadba9b95\n'}, {'number': 12, 'created': '2022-04-19 10:15:57.000000000', 'files': ['zuul.d/build-containers.yaml', 'zuul.d/undercloud-jobs.yaml', 'zuul.d/standalone-jobs.yaml', 'zuul.d/deprecated-jobs.yaml', 'zuul.d/multinode-jobs.yaml', 'zuul.d/build-image.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/00df6fcb4e2e568af720ef404e62c0fb8bee3c3e', 'message': 'Cleanup jobs from old releases already EOL pike|queens|rocky|stein\n\nRemoves any job definitions that are wired up for old EOL releases.\nIn some cases just remove these from the branches: match.\n\nDepends-On is needed for standalone/scen3 used in sahara and\ncentos-7-standalone-os-tempest in ansible-role-python_venv_build\nand scenario001/2-multinode-oooq-container in aodh\n\nChange-Id: I946aaef1e975bb2817311059dade029fadba9b95\n'}]",76,838110,00df6fcb4e2e568af720ef404e62c0fb8bee3c3e,54,5,12,8449,,,0,"Cleanup jobs from old releases already EOL pike|queens|rocky|stein

Removes any job definitions that are wired up for old EOL releases.
In some cases just remove these from the branches: match.

Depends-On is needed for standalone/scen3 used in sahara and
centos-7-standalone-os-tempest in ansible-role-python_venv_build
and scenario001/2-multinode-oooq-container in aodh

Change-Id: I946aaef1e975bb2817311059dade029fadba9b95
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/10/838110/12 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/build-containers.yaml', 'zuul.d/undercloud-jobs.yaml', 'zuul.d/standalone-jobs.yaml', 'zuul.d/deprecated-jobs.yaml', 'zuul.d/multinode-jobs.yaml', 'zuul.d/build-image.yaml']",6,d5b730e781a4b7392b11081bd8b4a54df9abb470,remove_EOL_jobs, branches: stable/train branches: stable/train branches: stable/train, branches: ^(stable/(pike|queens|stein|train)).*$ branches: ^(stable/(pike|queens|stein|train)).*$ branches: ^(stable/(pike|queens|stein|train)).*$,10,355
openstack%2Fnova~master~Ia1da21577d859885838de10110dd473f72af285d,openstack/nova,master,Ia1da21577d859885838de10110dd473f72af285d,db: Trivial rewrapping of warning filters,MERGED,2022-04-08 15:54:51.000000000,2022-04-20 10:58:57.000000000,2022-04-20 10:55:41.000000000,"[{'_account_id': 7166}, {'_account_id': 9708}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-08 15:54:51.000000000', 'files': ['nova/tests/fixtures/nova.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/523297bdfa25bb0ddadc2320595c6b859be5e192', 'message': 'db: Trivial rewrapping of warning filters\n\nThis was annoying me. I don\'t ""fix"" the warnings that I\'m going to\nremove in a future change.\n\nChange-Id: Ia1da21577d859885838de10110dd473f72af285d\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}]",4,837155,523297bdfa25bb0ddadc2320595c6b859be5e192,15,3,1,15334,,,0,"db: Trivial rewrapping of warning filters

This was annoying me. I don't ""fix"" the warnings that I'm going to
remove in a future change.

Change-Id: Ia1da21577d859885838de10110dd473f72af285d
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/55/837155/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/fixtures/nova.py'],1,523297bdfa25bb0ddadc2320595c6b859be5e192,sqlalchemy-20," super().setUp() message=( 'Policy enforcement is depending on the value of is_admin. ' 'This key is deprecated. Please update your policy ' 'file to use the standard policy values.' ), ) category=UserWarning, ) message=( 'Cannot convert <oslo_db.sqlalchemy.enginefacade._Default ' 'object at ' ), category=UserWarning, ) 'error', message='Evaluating non-mapped column expression', category=sqla_exc.SAWarning, ) category=sqla_exc.SADeprecationWarning, ) category=sqla_exc.SADeprecationWarning, )"," super(WarningsFixture, self).setUp() message='Policy enforcement is depending on the value of is_admin.' ' This key is deprecated. Please update your policy ' 'file to use the standard policy values.') category=UserWarning) message=""Cannot convert <oslo_db.sqlalchemy.enginefacade"" ""._Default object at "", category=UserWarning) 'error', message='Evaluating non-mapped column expression', category=sqla_exc.SAWarning) category=sqla_exc.SADeprecationWarning) category=sqla_exc.SADeprecationWarning)",23,12
openstack%2Fnova~master~I803d31117d0536df2e436a2f64144e4029c9073c,openstack/nova,master,I803d31117d0536df2e436a2f64144e4029c9073c,db: Narrow down deprecation warning filter,MERGED,2022-04-08 15:54:51.000000000,2022-04-20 10:57:32.000000000,2022-04-20 10:55:33.000000000,"[{'_account_id': 7166}, {'_account_id': 9708}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-08 15:54:51.000000000', 'files': ['nova/tests/fixtures/nova.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/f7a1be8ddd397e0e315ae868950dab6e0ec508a8', 'message': ""db: Narrow down deprecation warning filter\n\nOne of our 'SADeprecationWarning' warning filters is a bit of an odd\nduck: unlike all the other filters, this one is applied to all modules\nand not just nova. We can't fix issues caused by code that isn't nova\n(at least, not in the nova tree) so this is a silly approach. Remove it.\n\nChange-Id: I803d31117d0536df2e436a2f64144e4029c9073c\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}]",1,837154,f7a1be8ddd397e0e315ae868950dab6e0ec508a8,17,3,1,15334,,,0,"db: Narrow down deprecation warning filter

One of our 'SADeprecationWarning' warning filters is a bit of an odd
duck: unlike all the other filters, this one is applied to all modules
and not just nova. We can't fix issues caused by code that isn't nova
(at least, not in the nova tree) so this is a silly approach. Remove it.

Change-Id: I803d31117d0536df2e436a2f64144e4029c9073c
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/54/837154/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/fixtures/nova.py'],1,f7a1be8ddd397e0e315ae868950dab6e0ec508a8,sqlalchemy-20," module='nova',", # TODO(stephenfin): Remove once we fix this in placement 5.0.2 or 6.0.0,1,1
openstack%2Foslo.serialization~master~I0910f62e7feaf928fe0afe4721c5b271d4748449,openstack/oslo.serialization,master,I0910f62e7feaf928fe0afe4721c5b271d4748449,Remove unnecessary unicode prefixes,MERGED,2022-04-19 11:48:23.000000000,2022-04-20 10:56:34.000000000,2022-04-20 10:54:56.000000000,"[{'_account_id': 9708}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-04-19 11:48:23.000000000', 'files': ['oslo_serialization/tests/test_jsonutils.py', 'doc/source/conf.py', 'oslo_serialization/tests/test_base64.py', 'oslo_serialization/msgpackutils.py', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/oslo.serialization/commit/0f5451555b1613dda7ace81991610c51d1ee2f00', 'message': 'Remove unnecessary unicode prefixes\n\nChange-Id: I0910f62e7feaf928fe0afe4721c5b271d4748449\n'}]",0,838498,0f5451555b1613dda7ace81991610c51d1ee2f00,8,4,1,31412,,,0,"Remove unnecessary unicode prefixes

Change-Id: I0910f62e7feaf928fe0afe4721c5b271d4748449
",git fetch https://review.opendev.org/openstack/oslo.serialization refs/changes/98/838498/1 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_serialization/tests/test_jsonutils.py', 'doc/source/conf.py', 'oslo_serialization/tests/test_base64.py', 'oslo_serialization/msgpackutils.py', 'releasenotes/source/conf.py']",5,0f5451555b1613dda7ace81991610c51d1ee2f00,,"project = 'oslo.serialization Release Notes' copyright = '2016, oslo.serialization Developers' 'oslo.serialization Release Notes Documentation', 'oslo.serialization Developers', 'manual'), 'oslo.serialization Release Notes Documentation', ['oslo.serialization Developers'], 1) 'oslo.serialization Release Notes Documentation', 'oslo.serialization Developers', 'oslo.serializationReleaseNotes',","project = u'oslo.serialization Release Notes' copyright = u'2016, oslo.serialization Developers' u'oslo.serialization Release Notes Documentation', u'oslo.serialization Developers', 'manual'), u'oslo.serialization Release Notes Documentation', [u'oslo.serialization Developers'], 1) u'oslo.serialization Release Notes Documentation', u'oslo.serialization Developers', 'oslo.serializationReleaseNotes',",48,48
openstack%2Fneutron~stable%2Fxena~I80b0616c335134a564361137b2a00ff86dcbdf1c,openstack/neutron,stable/xena,I80b0616c335134a564361137b2a00ff86dcbdf1c,[API] Return 403 for POST requests when user is not authorized,MERGED,2022-04-13 06:01:07.000000000,2022-04-20 10:50:55.000000000,2022-04-20 10:48:19.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-13 06:01:07.000000000', 'files': ['neutron/tests/functional/pecan_wsgi/test_hooks.py', 'neutron/pecan_wsgi/hooks/policy_enforcement.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/909f3bd3c5585e68da62b511af24f862c7863d6b', 'message': '[API] Return 403 for POST requests when user is not authorized\n\nIn the policy_enforcement module if policy.enforce() will raise\nPolicyNotAuthorized exception, there is additional check if user is\ntrying to modify own or someone else resource. In case when user is not\nallowed to show resource even, error 404 is raised to ""hide"" any\ninformation about requested resource.\nBut that was also the case for POST (create resource) requests and 404\nerror when user is trying e.g. create network is confusing.\nSo this patch modifies that logic and in case of ""create_"" actions it\nwill return 403 if user was not authorized to do such operation.\n\nCloses-Bug: #1965294\nChange-Id: I80b0616c335134a564361137b2a00ff86dcbdf1c\n(cherry picked from commit 60bc6c7a992383cecaf7dcf425668a6ea92b151b)\n'}]",1,837488,909f3bd3c5585e68da62b511af24f862c7863d6b,14,3,1,11975,,,0,"[API] Return 403 for POST requests when user is not authorized

In the policy_enforcement module if policy.enforce() will raise
PolicyNotAuthorized exception, there is additional check if user is
trying to modify own or someone else resource. In case when user is not
allowed to show resource even, error 404 is raised to ""hide"" any
information about requested resource.
But that was also the case for POST (create resource) requests and 404
error when user is trying e.g. create network is confusing.
So this patch modifies that logic and in case of ""create_"" actions it
will return 403 if user was not authorized to do such operation.

Closes-Bug: #1965294
Change-Id: I80b0616c335134a564361137b2a00ff86dcbdf1c
(cherry picked from commit 60bc6c7a992383cecaf7dcf425668a6ea92b151b)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/88/837488/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/functional/pecan_wsgi/test_hooks.py', 'neutron/pecan_wsgi/hooks/policy_enforcement.py']",2,909f3bd3c5585e68da62b511af24f862c7863d6b,bug/1965294-stable/yoga-stable/xena," controller = utils.get_controller(state) # It is also safe to return 403 if it's POST (CREATE) # request. c_action = controller.plugin_handlers[controller.CREATE] if (action != c_action and not policy.check(neutron_context, s_action, item, pluralized=collection)):"," controller = utils.get_controller(state) if not policy.check(neutron_context, s_action, item, pluralized=collection):",36,4
openstack%2Fneutron~stable%2Fwallaby~I80b0616c335134a564361137b2a00ff86dcbdf1c,openstack/neutron,stable/wallaby,I80b0616c335134a564361137b2a00ff86dcbdf1c,[API] Return 403 for POST requests when user is not authorized,MERGED,2022-04-13 06:01:26.000000000,2022-04-20 10:50:44.000000000,2022-04-20 10:48:46.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-13 06:01:26.000000000', 'files': ['neutron/tests/functional/pecan_wsgi/test_hooks.py', 'neutron/pecan_wsgi/hooks/policy_enforcement.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/1b82d4aa20a01426fc9e543a64b343c81a486584', 'message': '[API] Return 403 for POST requests when user is not authorized\n\nIn the policy_enforcement module if policy.enforce() will raise\nPolicyNotAuthorized exception, there is additional check if user is\ntrying to modify own or someone else resource. In case when user is not\nallowed to show resource even, error 404 is raised to ""hide"" any\ninformation about requested resource.\nBut that was also the case for POST (create resource) requests and 404\nerror when user is trying e.g. create network is confusing.\nSo this patch modifies that logic and in case of ""create_"" actions it\nwill return 403 if user was not authorized to do such operation.\n\nCloses-Bug: #1965294\nChange-Id: I80b0616c335134a564361137b2a00ff86dcbdf1c\n(cherry picked from commit 60bc6c7a992383cecaf7dcf425668a6ea92b151b)\n'}]",1,837489,1b82d4aa20a01426fc9e543a64b343c81a486584,14,3,1,11975,,,0,"[API] Return 403 for POST requests when user is not authorized

In the policy_enforcement module if policy.enforce() will raise
PolicyNotAuthorized exception, there is additional check if user is
trying to modify own or someone else resource. In case when user is not
allowed to show resource even, error 404 is raised to ""hide"" any
information about requested resource.
But that was also the case for POST (create resource) requests and 404
error when user is trying e.g. create network is confusing.
So this patch modifies that logic and in case of ""create_"" actions it
will return 403 if user was not authorized to do such operation.

Closes-Bug: #1965294
Change-Id: I80b0616c335134a564361137b2a00ff86dcbdf1c
(cherry picked from commit 60bc6c7a992383cecaf7dcf425668a6ea92b151b)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/89/837489/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/functional/pecan_wsgi/test_hooks.py', 'neutron/pecan_wsgi/hooks/policy_enforcement.py']",2,1b82d4aa20a01426fc9e543a64b343c81a486584,bug/1965294-stable/yoga-stable/xena-stable/wallaby," controller = utils.get_controller(state) # It is also safe to return 403 if it's POST (CREATE) # request. c_action = controller.plugin_handlers[controller.CREATE] if (action != c_action and not policy.check(neutron_context, s_action, item, pluralized=collection)):"," controller = utils.get_controller(state) if not policy.check(neutron_context, s_action, item, pluralized=collection):",36,4
openstack%2Fneutron~stable%2Fvictoria~If6e1c6e0fc772101bcd3427601800aaae84381dd,openstack/neutron,stable/victoria,If6e1c6e0fc772101bcd3427601800aaae84381dd,Retry port_update in the OVN if revision mismatch during live-migration,MERGED,2022-04-13 10:07:56.000000000,2022-04-20 10:49:24.000000000,2022-04-20 10:47:24.000000000,"[{'_account_id': 8313}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-13 10:07:56.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/impl_idl_ovn.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/4070861450cc8f8ec85256fa4bac9b5b3aaa0e3f', 'message': 'Retry port_update in the OVN if revision mismatch during live-migration\n\nThis is terrible hack but it seems that there is no other way to\nfix/workaround the race which may happen during live-migration between:\n- port update event comming from the OVN db (port DOWN on the src node),\n- API call from nova-compute to activate port binding on the destination\nnode.\n\nIf those 2 events will be executed in specific order by different\nworkers it may happen that port binding activation will not update\n""requested_chassis"" of the port in OVN northd due to revision mismatch\n(ovn_revision and neutron_revision will be already bumped by the worker\nwhich processes ""port update"" OVN event).\nIf ""requested_chassis"" will not be updated, OVN will not claim port on\nthe dest node thus connectivity to the vm will be broken.\n\nTo workaround that issue, port_update_postcommit method from the OVN\nmechanism driver will catch RevisionMismatch exception raised by the\novn_client and in case that this was port_update after live_migration,\nwill get port data from neutron db and try to update port in the OVN\nnorthd once again.\n\nConflicts:\n    neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py\n    neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py\n\nCloses-bug: #1967144\nChange-Id: If6e1c6e0fc772101bcd3427601800aaae84381dd\n(cherry picked from commit 4f75c6a616d3cb549153fcc496926358dfc9178a)\n(cherry picked from commit a91d0e5e4a262a29c77bac38cee91e64d5fa6d46)\n'}]",2,837707,4070861450cc8f8ec85256fa4bac9b5b3aaa0e3f,12,4,1,11975,,,0,"Retry port_update in the OVN if revision mismatch during live-migration

This is terrible hack but it seems that there is no other way to
fix/workaround the race which may happen during live-migration between:
- port update event comming from the OVN db (port DOWN on the src node),
- API call from nova-compute to activate port binding on the destination
node.

If those 2 events will be executed in specific order by different
workers it may happen that port binding activation will not update
""requested_chassis"" of the port in OVN northd due to revision mismatch
(ovn_revision and neutron_revision will be already bumped by the worker
which processes ""port update"" OVN event).
If ""requested_chassis"" will not be updated, OVN will not claim port on
the dest node thus connectivity to the vm will be broken.

To workaround that issue, port_update_postcommit method from the OVN
mechanism driver will catch RevisionMismatch exception raised by the
ovn_client and in case that this was port_update after live_migration,
will get port data from neutron db and try to update port in the OVN
northd once again.

Conflicts:
    neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py
    neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py

Closes-bug: #1967144
Change-Id: If6e1c6e0fc772101bcd3427601800aaae84381dd
(cherry picked from commit 4f75c6a616d3cb549153fcc496926358dfc9178a)
(cherry picked from commit a91d0e5e4a262a29c77bac38cee91e64d5fa6d46)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/07/837707/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/impl_idl_ovn.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py']",4,4070861450cc8f8ec85256fa4bac9b5b3aaa0e3f,bug/1967144-stable/victoria,"from neutron.common.ovn import exceptions as ovn_exceptions def _ovn_update_port(self, plugin_context, port, original_port, retry_on_revision_mismatch): try: self._ovn_client.update_port(plugin_context, port, port_object=original_port) except ovn_exceptions.RevisionConflict: if retry_on_revision_mismatch: # NOTE(slaweq): I know this is terrible hack but there is no # other way to workaround possible race between port update # event from the OVN (port down on the src node) and API # request from nova-compute to activate binding of the port on # the dest node. original_port_migrating_to = original_port.get( portbindings.PROFILE, {}).get('migrating_to') port_host_id = port.get(portbindings.HOST_ID) if (original_port_migrating_to is not None and original_port_migrating_to == port_host_id): LOG.debug(""Revision number of the port %s has changed "" ""probably during live migration. Retrying "" ""update port in OVN."", port) db_port = self._plugin.get_port(plugin_context, port['id']) port['revision_number'] = db_port['revision_number'] self._ovn_update_port(plugin_context, port, original_port, retry_on_revision_mismatch=False) self._ovn_update_port(context._plugin_context, port, original_port, retry_on_revision_mismatch=True)"," self._ovn_client.update_port(context._plugin_context, port, port_object=original_port)",145,3
openstack%2Foslo.versionedobjects~master~If5bc9397a87cc8d4260e50b793ed352dbd012c0c,openstack/oslo.versionedobjects,master,If5bc9397a87cc8d4260e50b793ed352dbd012c0c,Remove unnecessary unicode prefixes,MERGED,2022-04-19 11:36:48.000000000,2022-04-20 10:44:53.000000000,2022-04-20 10:43:20.000000000,"[{'_account_id': 9708}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-04-19 11:36:48.000000000', 'files': ['oslo_versionedobjects/tests/test_fields.py', 'doc/source/conf.py', 'oslo_versionedobjects/tests/test_objects.py', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/oslo.versionedobjects/commit/d901c426559835bd2e8eab7f9d8f1a86cf28fe81', 'message': 'Remove unnecessary unicode prefixes\n\nChange-Id: If5bc9397a87cc8d4260e50b793ed352dbd012c0c\n'}]",0,838494,d901c426559835bd2e8eab7f9d8f1a86cf28fe81,8,4,1,31412,,,0,"Remove unnecessary unicode prefixes

Change-Id: If5bc9397a87cc8d4260e50b793ed352dbd012c0c
",git fetch https://review.opendev.org/openstack/oslo.versionedobjects refs/changes/94/838494/1 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_versionedobjects/tests/test_fields.py', 'doc/source/conf.py', 'oslo_versionedobjects/tests/test_objects.py', 'releasenotes/source/conf.py']",4,d901c426559835bd2e8eab7f9d8f1a86cf28fe81,,"project = 'oslo.versionedobjects Release Notes' copyright = '2016, oslo.versionedobjects Developers' 'oslo.versionedobjects Release Notes Documentation', 'oslo.versionedobjects Developers', 'manual'), 'oslo.versionedobjects Release Notes Documentation', ['oslo.versionedobjects Developers'], 1) 'oslo.versionedobjects Release Notes Documentation', 'oslo.versionedobjects Developers', 'oslo.versionedobjectsReleaseNotes',","project = u'oslo.versionedobjects Release Notes' copyright = u'2016, oslo.versionedobjects Developers' u'oslo.versionedobjects Release Notes Documentation', u'oslo.versionedobjects Developers', 'manual'), u'oslo.versionedobjects Release Notes Documentation', [u'oslo.versionedobjects Developers'], 1) u'oslo.versionedobjects Release Notes Documentation', u'oslo.versionedobjects Developers', 'oslo.versionedobjectsReleaseNotes',",18,18
openstack%2Fpython-tripleoclient~master~I6789799480a1391b92336e2518a2ac2b800288e5,openstack/python-tripleoclient,master,I6789799480a1391b92336e2518a2ac2b800288e5,node extract provisioned - warning no net_conf tpl,MERGED,2022-02-05 03:40:04.000000000,2022-04-20 10:39:11.000000000,2022-04-20 10:36:05.000000000,"[{'_account_id': 4571}, {'_account_id': 7144}, {'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-02-05 03:40:04.000000000', 'files': ['tripleoclient/tests/v1/overcloud_node/test_overcloud_node.py', 'tripleoclient/v1/overcloud_node.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/90ee1b3a72c61302c13567cc75053735172cb7d0', 'message': ""node extract provisioned - warning no net_conf tpl\n\nAdd a warning to the baremetal_deployment.yaml generated\nwith the node extract provisioned command in case no\nnetwork config was found for a role in the deployed stack.\n\nThis is always true if the current stack is pre-Victoria, since\nthe command looks for Ansible J2 template. pre-Victoria used\nHeat template so the template parameter won't be set.\n\nChange-Id: I6789799480a1391b92336e2518a2ac2b800288e5\n""}]",1,827941,90ee1b3a72c61302c13567cc75053735172cb7d0,12,5,1,24245,,,0,"node extract provisioned - warning no net_conf tpl

Add a warning to the baremetal_deployment.yaml generated
with the node extract provisioned command in case no
network config was found for a role in the deployed stack.

This is always true if the current stack is pre-Victoria, since
the command looks for Ansible J2 template. pre-Victoria used
Heat template so the template parameter won't be set.

Change-Id: I6789799480a1391b92336e2518a2ac2b800288e5
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/41/827941/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/tests/v1/overcloud_node/test_overcloud_node.py', 'tripleoclient/v1/overcloud_node.py']",2,90ee1b3a72c61302c13567cc75053735172cb7d0,node-extract-warning-no-nic-config, warnings = [] if net_conf['template'] is None: warnings.append( 'WARNING: No network config found for role {}. Please ' 'edit the file and set the path to the correct network ' 'config template.'.format(role_name)) # Write any warnings in the file header for warning in warnings: file_data.write('# {}\n'.format(warning)) if warnings: file_data.write(('#\n\n')),,18,4
openstack%2Foslo.cache~master~If2b75ca342bf613d9c1bc3f34f6afcf51a22d640,openstack/oslo.cache,master,If2b75ca342bf613d9c1bc3f34f6afcf51a22d640,Remove unnecessary unicode prefixes,MERGED,2022-04-19 07:08:00.000000000,2022-04-20 10:39:03.000000000,2022-04-20 10:37:19.000000000,"[{'_account_id': 9708}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-04-19 07:08:00.000000000', 'files': ['doc/source/conf.py', 'oslo_cache/tests/unit/test_cache_basics.py', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/2d610d0abc27e170ad7e785eebac32c79c17d118', 'message': 'Remove unnecessary unicode prefixes\n\nAll strings are unicode by default in Python 3. No need to mark them as such.\n\nChange-Id: If2b75ca342bf613d9c1bc3f34f6afcf51a22d640\n'}]",1,838441,2d610d0abc27e170ad7e785eebac32c79c17d118,10,4,1,31412,,,0,"Remove unnecessary unicode prefixes

All strings are unicode by default in Python 3. No need to mark them as such.

Change-Id: If2b75ca342bf613d9c1bc3f34f6afcf51a22d640
",git fetch https://review.opendev.org/openstack/oslo.cache refs/changes/41/838441/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/conf.py', 'oslo_cache/tests/unit/test_cache_basics.py', 'releasenotes/source/conf.py']",3,2d610d0abc27e170ad7e785eebac32c79c17d118,,"project = 'oslo.cache Release Notes' copyright = '2016, oslo.cache Developers' 'oslo.cache Release Notes Documentation', 'oslo.cache Developers', 'manual'), 'oslo.cache Release Notes Documentation', ['oslo.cache Developers'], 1) 'oslo.cache Release Notes Documentation', 'oslo.cache Developers', 'oslo.cacheReleaseNotes',","project = u'oslo.cache Release Notes' copyright = u'2016, oslo.cache Developers' u'oslo.cache Release Notes Documentation', u'oslo.cache Developers', 'manual'), u'oslo.cache Release Notes Documentation', [u'oslo.cache Developers'], 1) u'oslo.cache Release Notes Documentation', u'oslo.cache Developers', 'oslo.cacheReleaseNotes',",13,13
openstack%2Ftripleo-ansible~master~Ia32c1e29af6ed7417a63d508af06f1bfcac07872,openstack/tripleo-ansible,master,Ia32c1e29af6ed7417a63d508af06f1bfcac07872,Update the default namespace,MERGED,2022-03-30 16:30:45.000000000,2022-04-20 10:38:07.000000000,2022-04-20 10:36:08.000000000,"[{'_account_id': 6926}, {'_account_id': 8449}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2022-03-30 16:30:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/f411dcce7de410f0dc877d70a13417029112f468', 'message': 'Update the default namespace\n\nChange-Id: Ia32c1e29af6ed7417a63d508af06f1bfcac07872\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 2, 'created': '2022-03-30 16:50:13.000000000', 'files': ['tripleo_ansible/roles/tripleo_derived_parameters/molecule/mock_nfv_params', 'doc/source/roles/role-tripleo_systemd_wrapper.rst', 'tripleo_ansible/roles/tripleo_podman/defaults/main.yml', 'tripleo_ansible/ansible_plugins/modules/container_startup_config.py', 'tripleo_ansible/roles/tripleo_systemd_wrapper/molecule/default/converge.yml', 'doc/source/roles/role-tripleo_container_manage.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/91bd80198279d9fa89601e0ba1f1acca68d7bd24', 'message': 'Update the default namespace\n\nThis also updates our old references to docker.io to quay.io\n\nChange-Id: Ia32c1e29af6ed7417a63d508af06f1bfcac07872\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}]",10,835874,91bd80198279d9fa89601e0ba1f1acca68d7bd24,28,5,2,7353,,,0,"Update the default namespace

This also updates our old references to docker.io to quay.io

Change-Id: Ia32c1e29af6ed7417a63d508af06f1bfcac07872
Signed-off-by: Kevin Carter <kecarter@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/74/835874/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/roles/role-tripleo_systemd_wrapper.rst', 'tripleo_ansible/roles/tripleo_systemd_wrapper/molecule/default/converge.yml', 'doc/source/roles/role-tripleo_container_manage.rst']",3,f411dcce7de410f0dc877d70a13417029112f468,default|namespace, image: docker.io/tripleomastercentos9/centos-binary-haproxy:hotfix, image: docker.io/tripleomaster/centos-binary-haproxy:hotfix,3,3
openstack%2Fpython-tripleoclient~stable%2Fwallaby~I82c35f364315129a41dd5cbea64c0c5a50662026,openstack/python-tripleoclient,stable/wallaby,I82c35f364315129a41dd5cbea64c0c5a50662026,Drop six,MERGED,2022-04-08 00:34:54.000000000,2022-04-20 10:38:00.000000000,2022-04-20 10:36:00.000000000,"[{'_account_id': 7144}, {'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 32238}]","[{'number': 1, 'created': '2022-04-08 00:34:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/61cb30c599fd939ea0bcfafe495342b3613fc9e4', 'message': ""Drop six\n\nSince we're python3 only, we don't need six anymore.\n\nChange-Id: I82c35f364315129a41dd5cbea64c0c5a50662026\n(cherry picked from commit 4d511679e8f3ad2b0f7810ea568d5834adc64d8e)\n""}, {'number': 2, 'created': '2022-04-13 02:58:57.000000000', 'files': ['tripleoclient/tests/test_utils.py', 'tripleoclient/tests/v1/test_overcloud_export.py', 'tripleoclient/tests/v1/test_container_image.py', 'tripleoclient/tests/workflows/test_parameters.py', 'tripleoclient/tests/v1/overcloud_upgrade/test_overcloud_upgrade.py', 'tripleoclient/v1/overcloud_netenv_validate.py', 'tripleoclient/tests/v1/tripleo/test_tripleo_deploy.py', 'requirements.txt', 'tripleoclient/tests/v1/overcloud_node/test_overcloud_node.py', 'tripleoclient/tests/v1/test_overcloud_export_ceph.py', 'tripleoclient/tests/v1/overcloud_external_update/test_overcloud_external_update.py', 'tripleoclient/tests/test_heat_launcher.py', 'tripleoclient/tests/v1/overcloud_deploy/test_overcloud_deploy.py', 'tripleoclient/v1/container_image.py', 'tripleoclient/constants.py', 'tripleoclient/tests/test_export.py', 'tripleoclient/utils.py', 'tripleoclient/tests/v1/test_overcloud_parameters.py', 'tripleoclient/tests/v1/overcloud_external_upgrade/test_overcloud_external_upgrade.py', 'tripleoclient/tests/v2/container_image/test_tripleo_container_image.py', 'tripleoclient/v1/tripleo_deploy.py', 'tripleoclient/v2/tripleo_container_image.py', 'tripleoclient/tests/v1/overcloud_update/test_overcloud_update.py', 'tripleoclient/v1/overcloud_node.py', 'tripleoclient/tests/v1/undercloud/test_install_upgrade.py', 'tripleoclient/v1/overcloud_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/3956b20a9735a0922ca9032d5be1f00926b4c93d', 'message': ""Drop six\n\nSince we're python3 only, we don't need six anymore.\n\nChange-Id: I82c35f364315129a41dd5cbea64c0c5a50662026\n(cherry picked from commit 4d511679e8f3ad2b0f7810ea568d5834adc64d8e)\n""}]",1,837049,3956b20a9735a0922ca9032d5be1f00926b4c93d,17,5,2,30073,,,0,"Drop six

Since we're python3 only, we don't need six anymore.

Change-Id: I82c35f364315129a41dd5cbea64c0c5a50662026
(cherry picked from commit 4d511679e8f3ad2b0f7810ea568d5834adc64d8e)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/49/837049/2 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/tests/test_utils.py', 'tripleoclient/tests/v1/test_overcloud_export.py', 'tripleoclient/tests/v1/test_container_image.py', 'tripleoclient/tests/workflows/test_parameters.py', 'tripleoclient/tests/v1/overcloud_upgrade/test_overcloud_upgrade.py', 'tripleoclient/v1/overcloud_netenv_validate.py', 'tripleoclient/tests/v1/tripleo/test_tripleo_deploy.py', 'requirements.txt', 'tripleoclient/tests/v1/overcloud_node/test_overcloud_node.py', 'tripleoclient/tests/v1/test_overcloud_export_ceph.py', 'tripleoclient/tests/v1/overcloud_external_update/test_overcloud_external_update.py', 'tripleoclient/tests/test_heat_launcher.py', 'tripleoclient/tests/v1/overcloud_deploy/test_overcloud_deploy.py', 'tripleoclient/v1/container_image.py', 'tripleoclient/constants.py', 'tripleoclient/tests/test_export.py', 'tripleoclient/utils.py', 'tripleoclient/tests/v1/test_overcloud_parameters.py', 'tripleoclient/tests/v1/overcloud_external_upgrade/test_overcloud_external_upgrade.py', 'tripleoclient/tests/v2/container_image/test_tripleo_container_image.py', 'tripleoclient/v1/tripleo_deploy.py', 'tripleoclient/v2/tripleo_container_image.py', 'tripleoclient/tests/v1/overcloud_update/test_overcloud_update.py', 'tripleoclient/v1/overcloud_node.py', 'tripleoclient/tests/v1/undercloud/test_install_upgrade.py', 'tripleoclient/v1/overcloud_deploy.py']",26,61cb30c599fd939ea0bcfafe495342b3613fc9e4,,import urllib overcloud_ip_or_fqdn = urllib.parse.urlparse(,import six overcloud_ip_or_fqdn = six.moves.urllib.parse.urlparse(,98,103
openstack%2Fpython-tripleoclient~master~I9e2a6d6d45b86da333658a73179607b2623b5cc7,openstack/python-tripleoclient,master,I9e2a6d6d45b86da333658a73179607b2623b5cc7,node export provisioned - get role_data from stack,MERGED,2022-02-05 03:36:19.000000000,2022-04-20 10:37:47.000000000,2022-04-20 10:36:03.000000000,"[{'_account_id': 4571}, {'_account_id': 7144}, {'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-02-05 03:36:19.000000000', 'files': ['tripleoclient/tests/v1/overcloud_node/test_overcloud_node.py', 'tripleoclient/v1/overcloud_node.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/e3c66d6a2065a0be973dd014973717524bb1e456', 'message': 'node export provisioned - get role_data from stack\n\nSince change: I1efecdcd7afa6af3e6b4b26f4435198836db535f\nwe store the THT Jinja2 input files in the stack output.\n\nMake the --roles-file option optional for overcloud node\nexport provisioned commend. Use the value from the stack\nif --roles-file not provided by the user.\n\nChange-Id: I9e2a6d6d45b86da333658a73179607b2623b5cc7\n'}]",1,827940,e3c66d6a2065a0be973dd014973717524bb1e456,12,5,1,24245,,,0,"node export provisioned - get role_data from stack

Since change: I1efecdcd7afa6af3e6b4b26f4435198836db535f
we store the THT Jinja2 input files in the stack output.

Make the --roles-file option optional for overcloud node
export provisioned commend. Use the value from the stack
if --roles-file not provided by the user.

Change-Id: I9e2a6d6d45b86da333658a73179607b2623b5cc7
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/40/827940/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/tests/v1/overcloud_node/test_overcloud_node.py', 'tripleoclient/v1/overcloud_node.py']",2,e3c66d6a2065a0be973dd014973717524bb1e456,node-extract-role-data-from-stack," required=False, tht_j2_sources = oooutils.get_stack_output_item( stack, 'TripleoHeatTemplatesJinja2RenderingDataSources') or {} if parsed_args.roles_file: roles_file = os.path.abspath(parsed_args.roles_file) with open(roles_file, 'r') as fd: role_data = yaml.safe_load(fd.read()) else: role_data = tht_j2_sources.get('roles_data') if role_data is None: raise oscexc.CommandError( ""Unable to extract. Role data not available in {} stack "" ""output. Please provide the roles data for the deployed "" ""stack by setting the --roles-data argument."".format( parsed_args.stack)) # Convert role_data to a dict role_data = {x['name']: x for x in role_data} "," required=True, roles_file = os.path.abspath(parsed_args.roles_file) with open(roles_file, 'r') as fd: role_data = yaml.safe_load(fd.read()) # Convert role_data to a dict role_data = {x['name']: x for x in role_data} ",35,17
openstack%2Foslo.i18n~master~Ia75cc0c9fd5117b22b54fe872b28a4164faedf9a,openstack/oslo.i18n,master,Ia75cc0c9fd5117b22b54fe872b28a4164faedf9a,Remove unnecessary unicode prefixes,MERGED,2022-04-19 11:31:34.000000000,2022-04-20 10:33:35.000000000,2022-04-20 10:31:53.000000000,"[{'_account_id': 9708}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-04-19 11:31:34.000000000', 'files': ['oslo_i18n/tests/test_message.py', 'oslo_i18n/tests/test_fixture.py', 'oslo_i18n/tests/test_public_api.py', 'doc/source/conf.py', 'oslo_i18n/_message.py', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/oslo.i18n/commit/342d3888037ebd14b6d4fbfdd6c6b658c8da68b0', 'message': 'Remove unnecessary unicode prefixes\n\nChange-Id: Ia75cc0c9fd5117b22b54fe872b28a4164faedf9a\n'}]",0,838493,342d3888037ebd14b6d4fbfdd6c6b658c8da68b0,8,4,1,31412,,,0,"Remove unnecessary unicode prefixes

Change-Id: Ia75cc0c9fd5117b22b54fe872b28a4164faedf9a
",git fetch https://review.opendev.org/openstack/oslo.i18n refs/changes/93/838493/1 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_i18n/tests/test_message.py', 'oslo_i18n/tests/test_fixture.py', 'oslo_i18n/tests/test_public_api.py', 'doc/source/conf.py', 'oslo_i18n/_message.py', 'releasenotes/source/conf.py']",6,342d3888037ebd14b6d4fbfdd6c6b658c8da68b0,,"project = 'oslo.i18n Release Notes' copyright = '2016, oslo.i18n Developers' 'oslo.i18n Release Notes Documentation', 'oslo.i18n Developers', 'manual'), 'oslo.i18n Release Notes Documentation', ['oslo.i18n Developers'], 1) 'oslo.i18n Release Notes Documentation', 'oslo.i18n Developers', 'oslo.i18nReleaseNotes',","project = u'oslo.i18n Release Notes' copyright = u'2016, oslo.i18n Developers' u'oslo.i18n Release Notes Documentation', u'oslo.i18n Developers', 'manual'), u'oslo.i18n Release Notes Documentation', [u'oslo.i18n Developers'], 1) u'oslo.i18n Release Notes Documentation', u'oslo.i18n Developers', 'oslo.i18nReleaseNotes',",15,15
openstack%2Fneutron~stable%2Fxena~If6e1c6e0fc772101bcd3427601800aaae84381dd,openstack/neutron,stable/xena,If6e1c6e0fc772101bcd3427601800aaae84381dd,Retry port_update in the OVN if revision mismatch during live-migration,MERGED,2022-04-13 10:03:57.000000000,2022-04-20 10:32:23.000000000,2022-04-20 10:30:05.000000000,"[{'_account_id': 8313}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-13 10:03:57.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/impl_idl_ovn.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/05923cde9d1d66b5728b3582cce1c0f8617cb175', 'message': 'Retry port_update in the OVN if revision mismatch during live-migration\n\nThis is terrible hack but it seems that there is no other way to\nfix/workaround the race which may happen during live-migration between:\n- port update event comming from the OVN db (port DOWN on the src node),\n- API call from nova-compute to activate port binding on the destination\nnode.\n\nIf those 2 events will be executed in specific order by different\nworkers it may happen that port binding activation will not update\n""requested_chassis"" of the port in OVN northd due to revision mismatch\n(ovn_revision and neutron_revision will be already bumped by the worker\nwhich processes ""port update"" OVN event).\nIf ""requested_chassis"" will not be updated, OVN will not claim port on\nthe dest node thus connectivity to the vm will be broken.\n\nTo workaround that issue, port_update_postcommit method from the OVN\nmechanism driver will catch RevisionMismatch exception raised by the\novn_client and in case that this was port_update after live_migration,\nwill get port data from neutron db and try to update port in the OVN\nnorthd once again.\n\nCloses-bug: #1967144\nChange-Id: If6e1c6e0fc772101bcd3427601800aaae84381dd\n(cherry picked from commit 4f75c6a616d3cb549153fcc496926358dfc9178a)\n'}]",1,837678,05923cde9d1d66b5728b3582cce1c0f8617cb175,14,4,1,11975,,,0,"Retry port_update in the OVN if revision mismatch during live-migration

This is terrible hack but it seems that there is no other way to
fix/workaround the race which may happen during live-migration between:
- port update event comming from the OVN db (port DOWN on the src node),
- API call from nova-compute to activate port binding on the destination
node.

If those 2 events will be executed in specific order by different
workers it may happen that port binding activation will not update
""requested_chassis"" of the port in OVN northd due to revision mismatch
(ovn_revision and neutron_revision will be already bumped by the worker
which processes ""port update"" OVN event).
If ""requested_chassis"" will not be updated, OVN will not claim port on
the dest node thus connectivity to the vm will be broken.

To workaround that issue, port_update_postcommit method from the OVN
mechanism driver will catch RevisionMismatch exception raised by the
ovn_client and in case that this was port_update after live_migration,
will get port data from neutron db and try to update port in the OVN
northd once again.

Closes-bug: #1967144
Change-Id: If6e1c6e0fc772101bcd3427601800aaae84381dd
(cherry picked from commit 4f75c6a616d3cb549153fcc496926358dfc9178a)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/78/837678/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/impl_idl_ovn.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py']",4,05923cde9d1d66b5728b3582cce1c0f8617cb175,bug/1967144-stable/yoga-stable/xena,"from neutron.common.ovn import exceptions as ovn_exceptions def _ovn_update_port(self, plugin_context, port, original_port, retry_on_revision_mismatch): try: self._ovn_client.update_port(plugin_context, port, port_object=original_port) except ovn_exceptions.RevisionConflict: if retry_on_revision_mismatch: # NOTE(slaweq): I know this is terrible hack but there is no # other way to workaround possible race between port update # event from the OVN (port down on the src node) and API # request from nova-compute to activate binding of the port on # the dest node. original_port_migrating_to = original_port.get( portbindings.PROFILE, {}).get('migrating_to') port_host_id = port.get(portbindings.HOST_ID) if (original_port_migrating_to is not None and original_port_migrating_to == port_host_id): LOG.debug(""Revision number of the port %s has changed "" ""probably during live migration. Retrying "" ""update port in OVN."", port) db_port = self._plugin.get_port(plugin_context, port['id']) port['revision_number'] = db_port['revision_number'] self._ovn_update_port(plugin_context, port, original_port, retry_on_revision_mismatch=False) self._ovn_update_port(context._plugin_context, port, original_port, retry_on_revision_mismatch=True)"," self._ovn_client.update_port(context._plugin_context, port, port_object=original_port)",145,3
openstack%2Fneutron~stable%2Fwallaby~Ia9b02847db5c2e0e3da9386cc6cd68dcca55e439,openstack/neutron,stable/wallaby,Ia9b02847db5c2e0e3da9386cc6cd68dcca55e439,"[OVN] Keep ""connectivity"" VIF details parameter in migration",MERGED,2022-04-19 21:41:02.000000000,2022-04-20 10:32:02.000000000,2022-04-20 10:30:00.000000000,"[{'_account_id': 8313}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-19 21:41:02.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/db_migration.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/test_db_migration.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/a357dfaf11791d231385b6b484ad78f45ee045de', 'message': '[OVN] Keep ""connectivity"" VIF details parameter in migration\n\nDuring the OVS to OVN migration, the port bindings ""vif_details""\ndictionary should keep the ""connectivity"" key (""l2"" in both mech\ndrivers).\n\nCloses-Bug: #1947366\nChange-Id: Ia9b02847db5c2e0e3da9386cc6cd68dcca55e439\n(cherry picked from commit 569bafbbd5f90a458d781f1e49f099f96c363683)\n'}]",0,838538,a357dfaf11791d231385b6b484ad78f45ee045de,10,3,1,8655,,,0,"[OVN] Keep ""connectivity"" VIF details parameter in migration

During the OVS to OVN migration, the port bindings ""vif_details""
dictionary should keep the ""connectivity"" key (""l2"" in both mech
drivers).

Closes-Bug: #1947366
Change-Id: Ia9b02847db5c2e0e3da9386cc6cd68dcca55e439
(cherry picked from commit 569bafbbd5f90a458d781f1e49f099f96c363683)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/38/838538/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/ovn/db_migration.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/test_db_migration.py']",2,a357dfaf11791d231385b6b484ad78f45ee045de,bug/1947366-stable/xena-stable/wallaby," pb.VIF_DETAILS_CONNECTIVITY: pb.CONNECTIVITY_L2}, {pb.CAP_PORT_FILTER: ""true"", pb.VIF_DETAILS_CONNECTIVITY: pb.CONNECTIVITY_L2},"," pb.VIF_DETAILS_CONNECTIVITY: ""l2""},",4,3
openstack%2Fmonasca-tempest-plugin~master~Ie0a39407a98875afc7d2d87663b4a17c27fa8fc7,openstack/monasca-tempest-plugin,master,Ie0a39407a98875afc7d2d87663b4a17c27fa8fc7,Update 'Maintained' stable branch jobs on master gate,MERGED,2022-04-15 01:41:54.000000000,2022-04-20 10:31:00.000000000,2022-04-20 10:27:51.000000000,"[{'_account_id': 22348}, {'_account_id': 28062}]","[{'number': 1, 'created': '2022-04-15 01:41:54.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/monasca-tempest-plugin/commit/4163264c551318e96ce11cc0cadb5c78de5f8bf8', 'message': ""Update 'Maintained' stable branch jobs on master gate\n\nWe have stable/yoga released and stable/ussuri is in\n'Extended Maintenance' state. Current 'Maintained'\nstable branches are yoga, xena, wallaby, and victoria.\n\nAs per tempest stable branch testing policy[1], adding the\nnewly released stable/yoga job and remove the EM stable/ussuri\njob.\n\n[1] https://docs.openstack.org/tempest/latest/stable_branch_testing_policy.html\n\nChange-Id: Ie0a39407a98875afc7d2d87663b4a17c27fa8fc7\n""}]",0,838056,4163264c551318e96ce11cc0cadb5c78de5f8bf8,7,2,1,8556,,,0,"Update 'Maintained' stable branch jobs on master gate

We have stable/yoga released and stable/ussuri is in
'Extended Maintenance' state. Current 'Maintained'
stable branches are yoga, xena, wallaby, and victoria.

As per tempest stable branch testing policy[1], adding the
newly released stable/yoga job and remove the EM stable/ussuri
job.

[1] https://docs.openstack.org/tempest/latest/stable_branch_testing_policy.html

Change-Id: Ie0a39407a98875afc7d2d87663b4a17c27fa8fc7
",git fetch https://review.opendev.org/openstack/monasca-tempest-plugin refs/changes/56/838056/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,4163264c551318e96ce11cc0cadb5c78de5f8bf8,yoga-stable-job, - monasca-tempest-influxdb-yoga name: monasca-tempest-influxdb-yoga parent: monasca-tempest-python3-influxdb override-checkout: stable/yoga - job:, - monasca-tempest-influxdb-ussuri name: monasca-tempest-influxdb-ussuri parent: monasca-tempest-python3-influxdb nodeset: openstack-single-node-bionic override-checkout: stable/ussuri - job:,6,7
openstack%2Fcharm-guide~stable%2Fxena~I6084382040485293c046a0931b1d8d0b49d4b98c,openstack/charm-guide,stable/xena,I6084382040485293c046a0931b1d8d0b49d4b98c,glance charm: add support for Cinder iSCSI/FC backend storage,ABANDONED,2022-04-05 10:59:23.000000000,2022-04-20 10:23:41.000000000,,"[{'_account_id': 22348}, {'_account_id': 30561}]","[{'number': 1, 'created': '2022-04-05 10:59:23.000000000', 'files': ['doc/source/release-notes/2204.rst'], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/42385a403b7c724fe4d329744d5079b4fac6714b', 'message': 'glance charm: add support for Cinder iSCSI/FC backend storage\n\nChange-Id: I6084382040485293c046a0931b1d8d0b49d4b98c\nDepends-On: Ife649defc9b765b433d7973ab31778f9cb1efdd9\n(cherry picked from commit 24df8b2bf7c25f614a24ed4f061059488c6920ea)\n'}]",2,836615,42385a403b7c724fe4d329744d5079b4fac6714b,5,2,1,10366,,,0,"glance charm: add support for Cinder iSCSI/FC backend storage

Change-Id: I6084382040485293c046a0931b1d8d0b49d4b98c
Depends-On: Ife649defc9b765b433d7973ab31778f9cb1efdd9
(cherry picked from commit 24df8b2bf7c25f614a24ed4f061059488c6920ea)
",git fetch https://review.opendev.org/openstack/charm-guide refs/changes/15/836615/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/release-notes/2204.rst'],1,42385a403b7c724fe4d329744d5079b4fac6714b,,glance charm: add support for Cinder iSCSI/FC backend storage ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ The glance charm adds support for Cinder iSCSI/FC backend storage through three new configuration options: * ``cinder-volume-types`` Comma separated list of cinder volume_types that can be configured as cinder storage backends. The first one in the list will be configured as the default backend. * ``cinder-http-retries`` Number of cinderclient retries on failed http calls. * ``cinder-state-transition-timeout`` Time period of time in seconds to wait for a cinder volume transition to complete. ,,21,0
openstack%2Fpuppet-openstack-integration~stable%2Fyoga~I939afd96dedb3d35644575dd1f56cf58f23159c4,openstack/puppet-openstack-integration,stable/yoga,I939afd96dedb3d35644575dd1f56cf58f23159c4,Remove remaining CentOS jobs with Puppet 6,MERGED,2022-04-18 01:50:25.000000000,2022-04-20 10:10:27.000000000,2022-04-20 10:10:27.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-18 01:50:25.000000000', 'files': ['zuul.d/libraries.yaml', 'zuul.d/layout.yaml', 'zuul.d/unit.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/eaecd1d3bcba15681b3b634ce89d9a2146c9d32e', 'message': 'Remove remaining CentOS jobs with Puppet 6\n\nThis is follow-up of d45f560d8ed1125f3b81b4afdb71114117c94667 and\nremoves all the remaining Cent OS jobs with Puppet 6, so that only\nPuppet 7 is used with CentOS.\n\nChange-Id: I939afd96dedb3d35644575dd1f56cf58f23159c4\n(cherry picked from commit 8bd3dc2988b2dadffb02f96643cd56988572fdcf)\n'}]",3,838216,eaecd1d3bcba15681b3b634ce89d9a2146c9d32e,9,3,1,9816,,,0,"Remove remaining CentOS jobs with Puppet 6

This is follow-up of d45f560d8ed1125f3b81b4afdb71114117c94667 and
removes all the remaining Cent OS jobs with Puppet 6, so that only
Puppet 7 is used with CentOS.

Change-Id: I939afd96dedb3d35644575dd1f56cf58f23159c4
(cherry picked from commit 8bd3dc2988b2dadffb02f96643cd56988572fdcf)
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/16/838216/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/libraries.yaml', 'zuul.d/layout.yaml', 'zuul.d/unit.yaml']",3,eaecd1d3bcba15681b3b634ce89d9a2146c9d32e,,, name: puppet-openstack-unit-6.21-centos-8-stream parent: puppet-openstack-unit-base nodeset: centos-8-stream vars: puppet_gem_version: 6.21.1 - job: - puppet-openstack-unit-6.21-centos-8-stream - puppet-openstack-unit-6.21-centos-8-stream,1,17
openstack%2Fmagnum~stable%2Fwallaby~I6dec817725338387a614f83e85a5f1f2814b020e,openstack/magnum,stable/wallaby,I6dec817725338387a614f83e85a5f1f2814b020e,Fix cluster template default policy,MERGED,2021-11-27 22:31:56.000000000,2022-04-20 10:04:22.000000000,2022-04-20 10:02:47.000000000,"[{'_account_id': 1004}, {'_account_id': 8064}, {'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 28008}]","[{'number': 1, 'created': '2021-11-27 22:31:56.000000000', 'files': ['magnum/common/policies/cluster_template.py'], 'web_link': 'https://opendev.org/openstack/magnum/commit/c0f8fa497a4069e445512b1f86050c9b52efce86', 'message': 'Fix cluster template default policy\n\nIn Change I643d408cde0d6e30812cf6429fb7118184793400 a bunch of actions\nwere changed from\n\n is_admin:True or project_id:%(project_id)s\n\nto\n\n rule:deny_cluster_user\n\nWhich means that those actions are not verifying that the project ID of\na token matches the project ID of the resource. This only seems to work\nfor resources that a user can otherwise see.\n\nAs public cluster templates can be seen by a user, a user is hence able\nto delete a CT.\n\nFix it so that CT can only be modifiable or deletable by admin or\nowner.\n\nStory: 2008824\nTask: 42289\nChange-Id: I6dec817725338387a614f83e85a5f1f2814b020e\n(cherry picked from commit 8ca92e6d70bccb8ec26c71edc2cd0a2dd3c581b4)\n'}]",3,819461,c0f8fa497a4069e445512b1f86050c9b52efce86,11,5,1,1004,,,0,"Fix cluster template default policy

In Change I643d408cde0d6e30812cf6429fb7118184793400 a bunch of actions
were changed from

 is_admin:True or project_id:%(project_id)s

to

 rule:deny_cluster_user

Which means that those actions are not verifying that the project ID of
a token matches the project ID of the resource. This only seems to work
for resources that a user can otherwise see.

As public cluster templates can be seen by a user, a user is hence able
to delete a CT.

Fix it so that CT can only be modifiable or deletable by admin or
owner.

Story: 2008824
Task: 42289
Change-Id: I6dec817725338387a614f83e85a5f1f2814b020e
(cherry picked from commit 8ca92e6d70bccb8ec26c71edc2cd0a2dd3c581b4)
",git fetch https://review.opendev.org/openstack/magnum refs/changes/61/819461/1 && git format-patch -1 --stdout FETCH_HEAD,['magnum/common/policies/cluster_template.py'],1,c0f8fa497a4069e445512b1f86050c9b52efce86,clustertemplate_policy-stable/xena-stable/wallaby," check_str=base.RULE_ADMIN_OR_OWNER, check_str=base.RULE_ADMIN_OR_OWNER,"," check_str=base.RULE_DENY_CLUSTER_USER, check_str=base.RULE_DENY_CLUSTER_USER,",2,2
openstack%2Fcharm-neutron-openvswitch~stable%2Fxena~I4fa3256b39e62e9df223ab40f17f1677a621f293,openstack/charm-neutron-openvswitch,stable/xena,I4fa3256b39e62e9df223ab40f17f1677a621f293,Mark ovs-record-hostname as deferable service.,MERGED,2022-04-18 06:41:36.000000000,2022-04-20 09:47:44.000000000,2022-04-20 09:47:44.000000000,"[{'_account_id': 2424}, {'_account_id': 6737}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-18 06:41:36.000000000', 'files': ['hooks/neutron_ovs_utils.py'], 'web_link': 'https://opendev.org/openstack/charm-neutron-openvswitch/commit/1d4f077e1117c2f0ea8a21ef60333470c5077eeb', 'message': ""Mark ovs-record-hostname as deferable service.\n\nAdd ovs-record-hostname to the list of deferrable services, this service\nwas SRU'ed into Ubuntu >= Focal, when it's not mark as deferrable on\npackage upgrades will induce a restart of openvswitch-switch.\n\nChange-Id: I4fa3256b39e62e9df223ab40f17f1677a621f293\nCloses-Bug: #1923636\nRelated-Bug: #1915829\n(cherry picked from commit f6a9487b05b08e5481d0792d825c98548621e5c0)\n""}]",2,838224,1d4f077e1117c2f0ea8a21ef60333470c5077eeb,10,4,1,10366,,,0,"Mark ovs-record-hostname as deferable service.

Add ovs-record-hostname to the list of deferrable services, this service
was SRU'ed into Ubuntu >= Focal, when it's not mark as deferrable on
package upgrades will induce a restart of openvswitch-switch.

Change-Id: I4fa3256b39e62e9df223ab40f17f1677a621f293
Closes-Bug: #1923636
Related-Bug: #1915829
(cherry picked from commit f6a9487b05b08e5481d0792d825c98548621e5c0)
",git fetch https://review.opendev.org/openstack/charm-neutron-openvswitch refs/changes/24/838224/1 && git format-patch -1 --stdout FETCH_HEAD,['hooks/neutron_ovs_utils.py'],1,1d4f077e1117c2f0ea8a21ef60333470c5077eeb,bug/1923636-stable/xena," 'openvswitch-switch', 'ovs-record-hostname'])", 'openvswitch-switch']),1,1
openstack%2Ftripleo-heat-templates~stable%2Ftrain~Ifc734e0b0de7f85774d241d3a5ef7800772f43d3,openstack/tripleo-heat-templates,stable/train,Ifc734e0b0de7f85774d241d3a5ef7800772f43d3,[train-only] Add a new scheme of driver removal,MERGED,2022-04-14 13:55:19.000000000,2022-04-20 09:43:59.000000000,2022-04-19 15:48:35.000000000,"[{'_account_id': 6816}, {'_account_id': 6926}, {'_account_id': 8833}, {'_account_id': 11166}, {'_account_id': 22348}, {'_account_id': 22954}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-04-14 13:55:19.000000000', 'files': ['deployment/tripleo-packages/tripleo-packages-baremetal-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7214b535a9b9a9d57f7ad54e60bd8addbe1e60cc', 'message': '[train-only] Add a new scheme of driver removal\n\nAs Leapp 0.16 changed driver file from txt to json. This patch changes\nFFU procedure accordingly for overcloud\n\nChange-Id: Ifc734e0b0de7f85774d241d3a5ef7800772f43d3\nCloses: rhbz#2063870\nCloses: rhbz#2064383\n'}]",5,837876,7214b535a9b9a9d57f7ad54e60bd8addbe1e60cc,17,7,1,11090,,,0,"[train-only] Add a new scheme of driver removal

As Leapp 0.16 changed driver file from txt to json. This patch changes
FFU procedure accordingly for overcloud

Change-Id: Ifc734e0b0de7f85774d241d3a5ef7800772f43d3
Closes: rhbz#2063870
Closes: rhbz#2064383
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/76/837876/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/tripleo-packages/tripleo-packages-baremetal-puppet.yaml'],1,7214b535a9b9a9d57f7ad54e60bd8addbe1e60cc,leapp_driver_removal," - name: install leapp and jq package: name: - jq - leapp - leapp-repository - name: ""Delete the kernel modules in Leapp database (removed_drivers.txt) that are no longer supported in RHEL 8 (rhbz#1962365 < leapp-upgrade-el7toel8-0.15)"" - name: ""Delete the kernel modules in Leapp database (device_driver_deprecation_data.json) that are no longer supported in RHEL 8 (rhbz#2064383 > leapp-upgrade-el7toel8-0.16.0)"" vars: modules_to_unload: { get_attr: [RoleParametersValue, value, 'upgrade_leapp_modules_to_unload']} shell: > set -o pipefail && jq '. | del(.data[] | select(.driver_name == ""{{ item }}""))' /etc/leapp/files/device_driver_deprecation_data.json > /etc/leapp/files/device_driver_deprecation_data.json_modified && mv /etc/leapp/files/device_driver_deprecation_data.json_modified /etc/leapp/files/device_driver_deprecation_data.json loop: ""{{ modules_to_unload }}""", - name: install leapp package: name: leapp - name: Remove kernel drivers from Leapp removed_drivers.txt before running Leapp,17,3
openstack%2Foslo.context~master~Id6bb6fb85f9989746066ac042661cd4782f153c4,openstack/oslo.context,master,Id6bb6fb85f9989746066ac042661cd4782f153c4,Remove unnecessary unicode prefixes,MERGED,2022-04-19 11:43:07.000000000,2022-04-20 09:28:46.000000000,2022-04-20 09:27:10.000000000,"[{'_account_id': 9708}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-04-19 11:43:07.000000000', 'files': ['doc/source/conf.py', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/oslo.context/commit/b036fc11417faa2e48e663dda2030be94b5236ce', 'message': 'Remove unnecessary unicode prefixes\n\nChange-Id: Id6bb6fb85f9989746066ac042661cd4782f153c4\n'}]",0,838496,b036fc11417faa2e48e663dda2030be94b5236ce,8,4,1,31412,,,0,"Remove unnecessary unicode prefixes

Change-Id: Id6bb6fb85f9989746066ac042661cd4782f153c4
",git fetch https://review.opendev.org/openstack/oslo.context refs/changes/96/838496/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/conf.py', 'releasenotes/source/conf.py']",2,b036fc11417faa2e48e663dda2030be94b5236ce,,"copyright = '2016, oslo.context Developers' 'oslo.context Release Notes Documentation', 'oslo.context Developers', 'manual'), 'oslo.context Release Notes Documentation', ['oslo.context Developers'], 1) 'oslo.context Release Notes Documentation', 'oslo.context Developers', 'oslo.contextReleaseNotes',","copyright = u'2016, oslo.context Developers' u'oslo.context Release Notes Documentation', u'oslo.context Developers', 'manual'), u'oslo.context Release Notes Documentation', [u'oslo.context Developers'], 1) u'oslo.context Release Notes Documentation', u'oslo.context Developers', 'oslo.contextReleaseNotes',",11,11
openstack%2Fovn-octavia-provider~master~I3d6422037f977f98abed88a326ab73ff6689cde9,openstack/ovn-octavia-provider,master,I3d6422037f977f98abed88a326ab73ff6689cde9,Add SB ssl connection to in devstack,MERGED,2022-03-10 05:59:56.000000000,2022-04-20 09:28:10.000000000,2022-03-10 11:55:22.000000000,"[{'_account_id': 6773}, {'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2022-03-10 05:59:56.000000000', 'files': ['devstack/plugin.sh'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/657a9280d322c103f76fab2d7e0dd2cb5ea1781b', 'message': 'Add SB ssl connection to in devstack\n\nWhen using `enable_service tls-proxy`, devstack creates the appropriate NB\nconfig but did not do so for the SB. SB configurations are necessary\ntoo, as specified in config guide[1].\n\n[1] https://docs.openstack.org/ovn-octavia-provider/xena/configuration/config.html#ovn.ovn_sb_connection\n\nChange-Id: I3d6422037f977f98abed88a326ab73ff6689cde9\n'}]",5,832917,657a9280d322c103f76fab2d7e0dd2cb5ea1781b,12,4,1,8064,,,0,"Add SB ssl connection to in devstack

When using `enable_service tls-proxy`, devstack creates the appropriate NB
config but did not do so for the SB. SB configurations are necessary
too, as specified in config guide[1].

[1] https://docs.openstack.org/ovn-octavia-provider/xena/configuration/config.html#ovn.ovn_sb_connection

Change-Id: I3d6422037f977f98abed88a326ab73ff6689cde9
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/17/832917/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/plugin.sh'],1,657a9280d322c103f76fab2d7e0dd2cb5ea1781b,devstack_ovn_sb,"OVN_SB_REMOTE=${OVN_SB_REMOTE:-$OVN_PROTO:$SERVICE_HOST:6642} iniset ${OCTAVIA_CONF} ovn ovn_sb_connection ""$OVN_SB_REMOTE"" iniset ${OCTAVIA_CONF} ovn ovn_sb_ca_cert ""$INT_CA_DIR/ca-chain.pem"" iniset ${OCTAVIA_CONF} ovn ovn_sb_certificate ""$INT_CA_DIR/$DEVSTACK_CERT_NAME.crt"" iniset ${OCTAVIA_CONF} ovn ovn_sb_private_key ""$INT_CA_DIR/private/$DEVSTACK_CERT_NAME.key""",,5,0
openstack%2Freleases~master~I1bbd40fba4a6f887f10182ac82b6863323b6586c,openstack/releases,master,I1bbd40fba4a6f887f10182ac82b6863323b6586c,Update python testing classifier,ABANDONED,2021-12-22 08:42:44.000000000,2022-04-20 09:25:16.000000000,,"[{'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2021-12-22 08:42:44.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/releases/commit/1fab2c2a500d60e75a6b7a72e070c93037fa9f48', 'message': 'Update python testing classifier\n\nWe facing errors related to the new pip resolver, this\ntopic was discussed on the ML and QA team proposed to\nto test lower-constraints [1].\n\nI propose to drop this test because the complexity and recurring pain needed\nto maintain that now exceeds the benefits provided by this mechanismes.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html\n\nChange-Id: I1bbd40fba4a6f887f10182ac82b6863323b6586c\n'}]",2,822633,1fab2c2a500d60e75a6b7a72e070c93037fa9f48,5,3,1,31412,,,0,"Update python testing classifier

We facing errors related to the new pip resolver, this
topic was discussed on the ML and QA team proposed to
to test lower-constraints [1].

I propose to drop this test because the complexity and recurring pain needed
to maintain that now exceeds the benefits provided by this mechanismes.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html

Change-Id: I1bbd40fba4a6f887f10182ac82b6863323b6586c
",git fetch https://review.opendev.org/openstack/releases refs/changes/33/822633/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,1fab2c2a500d60e75a6b7a72e070c93037fa9f48,, Programming Language :: Python :: 3.9,,1,0
openstack%2Fnova-specs~master~I1c0e5ec32996920b686b1df3df59628f86d3608f,openstack/nova-specs,master,I1c0e5ec32996920b686b1df3df59628f86d3608f,Usage of new trait of OWNER_NOVA,ABANDONED,2022-04-05 09:31:03.000000000,2022-04-20 09:24:20.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-04-05 09:31:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/0b8dd088f19a7a1614920f4544c4e814d442f67a', 'message': 'Usage of new trait of OWNER_NOVA\n\nAs talked on the Yoga[1]/Zed[2] PTG, we should add a new\ntrait of OWNER_NOVA for the resources that nova\nreports and propose the spec for the usage of OWNER_NOVA trait.\n\n[1] https://etherpad.opendev.org/p/nova-yoga-ptg\n\nChange-Id: I1c0e5ec32996920b686b1df3df59628f86d3608f\n'}, {'number': 2, 'created': '2022-04-05 09:34:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/9a7b6d768540faf66d3d140fe1cb4fd1e296f3bb', 'message': 'Usage of new trait of OWNER_NOVA\n\nAs talked on the Yoga[1]/Zed[2] PTG, we should add a new\ntrait of OWNER_NOVA for the resources that nova\nreports and propose the spec for the usage of OWNER_NOVA trait.\n\n[1] https://etherpad.opendev.org/p/nova-yoga-ptg\n[2] https://etherpad.opendev.org/p/nova-zed-ptg\n\nChange-Id: I1c0e5ec32996920b686b1df3df59628f86d3608f\n'}, {'number': 3, 'created': '2022-04-07 09:07:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/b2bc92cc7356378c219235a04124d89cf205c926', 'message': 'qUsage of new trait of OWNER_NOVA\n\nAs talked on the Yoga[1]/Zed[2] PTG, we should add a new\ntrait of OWNER_NOVA for the resources that nova\nreports and propose the spec for the usage of OWNER_NOVA trait.\n\n[1] https://etherpad.opendev.org/p/nova-yoga-ptg\n[2] https://etherpad.opendev.org/p/nova-zed-ptg\n\nChange-Id: I1c0e5ec32996920b686b1df3df59628f86d3608f\n'}, {'number': 4, 'created': '2022-04-08 01:04:14.000000000', 'files': ['specs/zed/approved/owner-nova-trait-usage.rst'], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/95c622f8b91a507beb40f9d33c7236b242b07004', 'message': 'Usage of new trait of OWNER_NOVA\n\nAs talked on the Yoga[1]/Zed[2] PTG, we should add a new\ntrait of OWNER_NOVA for the resources that nova\nreports and propose the spec for the usage of OWNER_NOVA trait.\n\n[1] https://etherpad.opendev.org/p/nova-yoga-ptg\n[2] https://etherpad.opendev.org/p/nova-zed-ptg\n\nChange-Id: I1c0e5ec32996920b686b1df3df59628f86d3608f\n'}]",0,836583,95c622f8b91a507beb40f9d33c7236b242b07004,8,1,4,31412,,,0,"Usage of new trait of OWNER_NOVA

As talked on the Yoga[1]/Zed[2] PTG, we should add a new
trait of OWNER_NOVA for the resources that nova
reports and propose the spec for the usage of OWNER_NOVA trait.

[1] https://etherpad.opendev.org/p/nova-yoga-ptg
[2] https://etherpad.opendev.org/p/nova-zed-ptg

Change-Id: I1c0e5ec32996920b686b1df3df59628f86d3608f
",git fetch https://review.opendev.org/openstack/nova-specs refs/changes/83/836583/4 && git format-patch -1 --stdout FETCH_HEAD,['specs/zed/approved/owner-nova-trait-usage.rst'],1,0b8dd088f19a7a1614920f4544c4e814d442f67a,836583,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ============================= Usage of new OWNER_NOVA trait ============================= The spec is about the usage of new OWNER_NOVA trait. Problem description =================== As nova and cyborg projects all report VGPU resource, we should be able to solve the shared VGPU resource class problem by each feature that nova and cyborg based, and only care about its own things. I.e. Nova should apply a pre-filter to filter for nova VGPU resource providers when the nova feature is in use. And cyborg should require a trait along with the VGPU rc in the device profile, when the cyborg based VGPU feature is in use. Use Cases --------- As an openstack user, I would like to use both nova and other components to manage resources such as VGPU that use the same resource classes between multiple services and distinguish these resources from nova and other components by using different traits. Nova can use OWNER_NOVA trait while other components can use their own traits, for examples cyborg will use OWNER_CYBORG trait instead. Proposed change =============== This spec proposes adding a new OWNER_NOVA trait and pre-filter the trait for every Nova request group that is generated from the flavor. Nova would tag every ResourceProvider it creates with a OWNER_NOVA trait, implying that inventories are provided by this service only. Nova needs to add a pre-filter that actively requests its own OWNER_NOVA trait while cyborg request will require the OWNER_CYBORG trait to filter their own managed resources. Alternatives ------------ None Data model impact ----------------- None. REST API impact --------------- None Security impact --------------- None. Notifications impact -------------------- None Other end user impact --------------------- None Performance Impact ------------------ None Other deployer impact --------------------- That operators will see new traits for all the Resource Providers. Developer impact ---------------- None Upgrade impact -------------- The features that VGPU usage today still work during a rolling upgrade. The minimum service version will be defined and used to check enable and disable the pre-filter. Computes that are upgraded will report the trait. Computes that are not yet upgraded will not. The request with ``OWNER_NOVA`` trait will be rejected if nova-compute service has not been upgrade. Implementation ============== Assignee(s) ----------- Primary assignee: wenpingsong Other contributors: brinzhang Feature Liaison --------------- Feature liaison: wenpingsong Work Items ---------- * Add OWNER_NOVA for os_traits project. * Tag every ResourceProvider that nova creates with a OWNER_NOVA trait. * Add pre-filter the trait for every Nova request group. * Add related unit and functional tests. Dependencies ============ None Testing ======= Need relate unit and functional tests. Documentation Impact ==================== Modify the related docs with OWNER_NOVA traits for update available resources and pre-filter scheduler. References ========== None History ======= .. list-table:: Revisions :header-rows: 1 * - Release Name - Description * - Zed - Introduced ",,111,0
openstack%2Foslo.rootwrap~master~I4b8b982c9ef49595682744e022154be87f259d23,openstack/oslo.rootwrap,master,I4b8b982c9ef49595682744e022154be87f259d23,Remove unnecessary unicode prefixes,MERGED,2022-04-19 11:23:22.000000000,2022-04-20 09:21:57.000000000,2022-04-20 09:20:21.000000000,"[{'_account_id': 9708}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-04-19 11:23:22.000000000', 'files': ['doc/source/conf.py', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/oslo.rootwrap/commit/e2206a300de50e2f708206d03f79a1f9082c75bc', 'message': 'Remove unnecessary unicode prefixes\n\nChange-Id: I4b8b982c9ef49595682744e022154be87f259d23\n'}]",0,838490,e2206a300de50e2f708206d03f79a1f9082c75bc,8,4,1,31412,,,0,"Remove unnecessary unicode prefixes

Change-Id: I4b8b982c9ef49595682744e022154be87f259d23
",git fetch https://review.opendev.org/openstack/oslo.rootwrap refs/changes/90/838490/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/conf.py', 'releasenotes/source/conf.py']",2,e2206a300de50e2f708206d03f79a1f9082c75bc,,"copyright = '2016, oslo.rootwrap Developers' 'oslo.rootwrap Release Notes Documentation', 'oslo.rootwrap Developers', 'manual'), 'oslo.rootwrap Release Notes Documentation', ['oslo.rootwrap Developers'], 1) 'oslo.rootwrap Release Notes Documentation', 'oslo.rootwrap Developers', 'oslo.rootwrapReleaseNotes',","copyright = u'2016, oslo.rootwrap Developers' u'oslo.rootwrap Release Notes Documentation', u'oslo.rootwrap Developers', 'manual'), u'oslo.rootwrap Release Notes Documentation', [u'oslo.rootwrap Developers'], 1) u'oslo.rootwrap Release Notes Documentation', u'oslo.rootwrap Developers', 'oslo.rootwrapReleaseNotes',",11,11
openstack%2Fneutron~stable%2Fxena~Ia9b02847db5c2e0e3da9386cc6cd68dcca55e439,openstack/neutron,stable/xena,Ia9b02847db5c2e0e3da9386cc6cd68dcca55e439,"[OVN] Keep ""connectivity"" VIF details parameter in migration",MERGED,2022-04-19 21:40:53.000000000,2022-04-20 09:08:16.000000000,2022-04-20 09:06:33.000000000,"[{'_account_id': 8313}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-19 21:40:53.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/db_migration.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/test_db_migration.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/c43013487cf1328b663da54c1e94d791ae818013', 'message': '[OVN] Keep ""connectivity"" VIF details parameter in migration\n\nDuring the OVS to OVN migration, the port bindings ""vif_details""\ndictionary should keep the ""connectivity"" key (""l2"" in both mech\ndrivers).\n\nCloses-Bug: #1947366\nChange-Id: Ia9b02847db5c2e0e3da9386cc6cd68dcca55e439\n(cherry picked from commit 569bafbbd5f90a458d781f1e49f099f96c363683)\n'}]",0,838537,c43013487cf1328b663da54c1e94d791ae818013,10,3,1,8655,,,0,"[OVN] Keep ""connectivity"" VIF details parameter in migration

During the OVS to OVN migration, the port bindings ""vif_details""
dictionary should keep the ""connectivity"" key (""l2"" in both mech
drivers).

Closes-Bug: #1947366
Change-Id: Ia9b02847db5c2e0e3da9386cc6cd68dcca55e439
(cherry picked from commit 569bafbbd5f90a458d781f1e49f099f96c363683)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/37/838537/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/ovn/db_migration.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/test_db_migration.py']",2,c43013487cf1328b663da54c1e94d791ae818013,bug/1947366-stable/xena," pb.VIF_DETAILS_CONNECTIVITY: pb.CONNECTIVITY_L2}, {pb.CAP_PORT_FILTER: ""true"", pb.VIF_DETAILS_CONNECTIVITY: pb.CONNECTIVITY_L2},"," pb.VIF_DETAILS_CONNECTIVITY: ""l2""},",4,3
openstack%2Fnova~stable%2Fwallaby~I514f6b337ffefef90a0ce9ab0b4afd083caa277e,openstack/nova,stable/wallaby,I514f6b337ffefef90a0ce9ab0b4afd083caa277e,[stable-only] Drop lower-constraints job,MERGED,2022-04-14 19:24:39.000000000,2022-04-20 09:01:15.000000000,2022-04-20 08:57:46.000000000,"[{'_account_id': 4393}, {'_account_id': 4690}, {'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-14 19:24:39.000000000', 'files': ['.zuul.yaml', 'lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/nova/commit/327693af402e4dd0c03fe247c4cee7beaedd2852', 'message': ""[stable-only] Drop lower-constraints job\n\nDuring the PTG the TC discussed the topic and decided to drop the job\ncompletely. Since the latest job configuration broke all stable gate\nfor nova (older than yoga) this is needed there to unblock our gates.\nFor dropping the job on master let's wait to the resolution as the\ngate is not broken there, hence the patch is stable-only.\n\nConflicts:\n  .zuul.yaml\n  lower-constraints.txt\n  tox.ini\n\nNOTE(elod.illes): conflict is due to branch specific settings (job\ntemplate names, lower constraints changes, tox target's base python\npinning).\n\nChange-Id: I514f6b337ffefef90a0ce9ab0b4afd083caa277e\n(cherry picked from commit 15b72717f2f3bd79791b913f1b294a19ced47ca7)\n(cherry picked from commit ba3c5b81abce49fb86981bdcc0013068b54d4f61)\n""}]",6,838030,327693af402e4dd0c03fe247c4cee7beaedd2852,32,4,1,17685,,,0,"[stable-only] Drop lower-constraints job

During the PTG the TC discussed the topic and decided to drop the job
completely. Since the latest job configuration broke all stable gate
for nova (older than yoga) this is needed there to unblock our gates.
For dropping the job on master let's wait to the resolution as the
gate is not broken there, hence the patch is stable-only.

Conflicts:
  .zuul.yaml
  lower-constraints.txt
  tox.ini

NOTE(elod.illes): conflict is due to branch specific settings (job
template names, lower constraints changes, tox target's base python
pinning).

Change-Id: I514f6b337ffefef90a0ce9ab0b4afd083caa277e
(cherry picked from commit 15b72717f2f3bd79791b913f1b294a19ced47ca7)
(cherry picked from commit ba3c5b81abce49fb86981bdcc0013068b54d4f61)
",git fetch https://review.opendev.org/openstack/nova refs/changes/30/838030/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'lower-constraints.txt', 'tox.ini']",3,327693af402e4dd0c03fe247c4cee7beaedd2852,drop-lower-constraints,, [testenv:lower-constraints] usedevelop = False deps = -c{toxinidir}/lower-constraints.txt -r{toxinidir}/test-requirements.txt -r{toxinidir}/requirements.txt,0,173
openstack%2Fneutron~stable%2Fyoga~Ic936864aebcabb811860e17913fbff311c52845f,openstack/neutron,stable/yoga,Ic936864aebcabb811860e17913fbff311c52845f,ovn: Wait for northd in functional tests,MERGED,2022-04-14 06:39:51.000000000,2022-04-20 09:01:05.000000000,2022-04-20 08:57:52.000000000,"[{'_account_id': 8313}, {'_account_id': 8655}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-14 06:39:51.000000000', 'files': ['neutron/tests/functional/base.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/525a9b2501388cfa2db55caf6cf5a49be8852627', 'message': ""ovn: Wait for northd in functional tests\n\nEach functional test method create new empty NB and SB DBs. Each DB\nhas its own table NB_Global or SB_Global respectively that contains\nexactly one record created by ovn-northd. When functional test spawns\nnorthd, it populates the DBs however it doesn't guarantee the running\ntest in parallel will not attempt to access the record.\n\nThis patch makes sure that northd creates the records before it moves on\nand considers northd spawned.\n\nCloses-Bug: #1952004\n\nSigned-off-by: Jakub Libosvar <libosvar@redhat.com>\nChange-Id: Ic936864aebcabb811860e17913fbff311c52845f\n(cherry picked from commit af03d133f44cc56b557b8ff7b57999acda7b833f)\n""}]",1,837792,525a9b2501388cfa2db55caf6cf5a49be8852627,10,5,1,13861,,,0,"ovn: Wait for northd in functional tests

Each functional test method create new empty NB and SB DBs. Each DB
has its own table NB_Global or SB_Global respectively that contains
exactly one record created by ovn-northd. When functional test spawns
northd, it populates the DBs however it doesn't guarantee the running
test in parallel will not attempt to access the record.

This patch makes sure that northd creates the records before it moves on
and considers northd spawned.

Closes-Bug: #1952004

Signed-off-by: Jakub Libosvar <libosvar@redhat.com>
Change-Id: Ic936864aebcabb811860e17913fbff311c52845f
(cherry picked from commit af03d133f44cc56b557b8ff7b57999acda7b833f)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/92/837792/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/functional/base.py'],1,525a9b2501388cfa2db55caf6cf5a49be8852627,bug/1952004-stable/yoga,"from neutron.common import utils as n_utils def wait_for_northd(): try: self.nb_api.nb_global except StopIteration: LOG.debug(""NB_Global is not ready yet"") return False try: next(iter(self.sb_api.db_list_rows('SB_Global').execute( check_error=True))) except StopIteration: LOG.debug(""SB_Global is not ready yet"") return False except KeyError: # Maintenance worker doesn't register SB_Global therefore # we don't need to wait for it LOG.debug(""SB_Global is not registered in this IDL"") return True timeout = 20 n_utils.wait_until_true( wait_for_northd, timeout, sleep=1, exception=Exception( ""ovn-northd didn't initialize OVN DBs in %d"" ""seconds"" % timeout))",,28,0
openstack%2Fnova~stable%2Fxena~I7412b16be310632da59a6139df9f0913281b5d77,openstack/nova,stable/xena,I7412b16be310632da59a6139df9f0913281b5d77,Cleanup old resize instances dir before resize,MERGED,2022-02-09 13:33:17.000000000,2022-04-20 09:00:55.000000000,2022-04-20 08:57:39.000000000,"[{'_account_id': 4690}, {'_account_id': 6062}, {'_account_id': 9708}, {'_account_id': 11604}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 32238}]","[{'number': 1, 'created': '2022-02-09 13:33:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3c29fdec455b9c2f13a2b88de34c9ec25718bf65', 'message': 'Cleanup old resize instances dir before resize\n\nIf there is a failed resize that also failed the cleanup\nprocess performed by _cleanup_remote_migration() the retry\nof the resize will fail because it cannot rename the current\ninstances directory to _resize.\n\nThis renames the _cleanup_failed_migration() that does the\nsame logic we want to _cleanup_failed_instance_base() and\nuses it for both migration and resize cleanup of directory.\n\nIt then simply calls _cleanup_failed_instances_base() with\nthe resize dir path before trying a resize.\n\nCloses-Bug: 1960230\nChange-Id: I7412b16be310632da59a6139df9f0913281b5d77\n(cherry picked from commit 9111b99f739d41c092db8d01712a5aa72388b5fb)\n'}, {'number': 2, 'created': '2022-02-14 14:08:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e45ffda8ae091041eb1e0542a75c7c262d12f534', 'message': 'Cleanup old resize instances dir before resize\n\nIf there is a failed resize that also failed the cleanup\nprocess performed by _cleanup_remote_migration() the retry\nof the resize will fail because it cannot rename the current\ninstances directory to _resize.\n\nThis renames the _cleanup_failed_migration() that does the\nsame logic we want to _cleanup_failed_instance_base() and\nuses it for both migration and resize cleanup of directory.\n\nIt then simply calls _cleanup_failed_instances_base() with\nthe resize dir path before trying a resize.\n\nCloses-Bug: 1960230\nChange-Id: I7412b16be310632da59a6139df9f0913281b5d77\n(cherry picked from commit 9111b99f739d41c092db8d01712a5aa72388b5fb)\n'}, {'number': 3, 'created': '2022-04-01 08:39:24.000000000', 'files': ['nova/virt/libvirt/driver.py', 'releasenotes/notes/bug-1960230-cleanup-instances-dir-resize-56282e1b436a4908.yaml', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/31179f62f1c832e0e894d04e9c9dd59978577cc0', 'message': 'Cleanup old resize instances dir before resize\n\nIf there is a failed resize that also failed the cleanup\nprocess performed by _cleanup_remote_migration() the retry\nof the resize will fail because it cannot rename the current\ninstances directory to _resize.\n\nThis renames the _cleanup_failed_migration() that does the\nsame logic we want to _cleanup_failed_instance_base() and\nuses it for both migration and resize cleanup of directory.\n\nIt then simply calls _cleanup_failed_instances_base() with\nthe resize dir path before trying a resize.\n\nCloses-Bug: 1960230\nChange-Id: I7412b16be310632da59a6139df9f0913281b5d77\n(cherry picked from commit 9111b99f739d41c092db8d01712a5aa72388b5fb)\n'}]",15,828407,31179f62f1c832e0e894d04e9c9dd59978577cc0,66,7,3,16137,,,0,"Cleanup old resize instances dir before resize

If there is a failed resize that also failed the cleanup
process performed by _cleanup_remote_migration() the retry
of the resize will fail because it cannot rename the current
instances directory to _resize.

This renames the _cleanup_failed_migration() that does the
same logic we want to _cleanup_failed_instance_base() and
uses it for both migration and resize cleanup of directory.

It then simply calls _cleanup_failed_instances_base() with
the resize dir path before trying a resize.

Closes-Bug: 1960230
Change-Id: I7412b16be310632da59a6139df9f0913281b5d77
(cherry picked from commit 9111b99f739d41c092db8d01712a5aa72388b5fb)
",git fetch https://review.opendev.org/openstack/nova refs/changes/07/828407/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'releasenotes/notes/bug-1960230-cleanup-instances-dir-resize-56282e1b436a4908.yaml', 'nova/tests/unit/virt/libvirt/test_driver.py']",3,3c29fdec455b9c2f13a2b88de34c9ec25718bf65,bug/1960230," @mock.patch('nova.virt.libvirt.driver.LibvirtDriver.' '_cleanup_failed_instance_base') mock_cleanup, block_device_info=None, params_for_instance=None): mock_cleanup.assert_called_once() mock_cleanup.reset_mock() mock_cleanup.assert_called_once() def test_cleanup_failed_instance_base(self, mock_rmtree): self.drvr._cleanup_failed_instance_base('/fake/inst')"," block_device_info=None, params_for_instance=None): def test_cleanup_failed_migration(self, mock_rmtree): self.drvr._cleanup_failed_migration('/fake/inst')",21,7
openstack%2Fopenstack-health~master~I13b2932dee866ce87ae3b27813c2902a552e8fad,openstack/openstack-health,master,I13b2932dee866ce87ae3b27813c2902a552e8fad,Test with nodejs16,ABANDONED,2022-01-19 16:11:04.000000000,2022-04-20 08:50:37.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-01-19 16:11:04.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-health/commit/cd427c74f8d89f211de20a475c45eb71126ac50a', 'message': ""Test with nodejs16\n\nLet's update the jobs so that they use the newest nodejs version.\n\nChange-Id: I13b2932dee866ce87ae3b27813c2902a552e8fad\n""}]",0,825342,cd427c74f8d89f211de20a475c45eb71126ac50a,3,1,1,22873,,,0,"Test with nodejs16

Let's update the jobs so that they use the newest nodejs version.

Change-Id: I13b2932dee866ce87ae3b27813c2902a552e8fad
",git fetch https://review.opendev.org/openstack/openstack-health refs/changes/42/825342/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,cd427c74f8d89f211de20a475c45eb71126ac50a,, name: openstack-health-nodejs16-run-lint Run lint using Node 16. vars: node_version: 16 name: openstack-health-nodejs16-run-test-browser node_version: 16 - openstack-health-nodejs16-run-lint - openstack-health-nodejs16-run-test-browser - openstack-health-nodejs16-run-lint - openstack-health-nodejs16-run-test-browser, name: openstack-health-nodejs10-run-lint Run lint using Node 10. vars: node_version: 10 name: openstack-health-nodejs10-run-test-browser node_version: 10 - openstack-health-nodejs10-run-lint - openstack-health-nodejs10-run-test-browser - openstack-health-nodejs10-run-lint - openstack-health-nodejs10-run-test-browser,9,9
openstack%2Freleases~master~I71ae8712c28b875c6c594dbdd5f8fc8cad7d51d5,openstack/releases,master,I71ae8712c28b875c6c594dbdd5f8fc8cad7d51d5,[horizon] Transition Victoria to EM,MERGED,2022-04-14 17:12:28.000000000,2022-04-20 08:41:22.000000000,2022-04-20 08:41:22.000000000,"[{'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 29313}]","[{'number': 1, 'created': '2022-04-14 17:12:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/9a43af0d940c20a941d2641069665464b44b43fa', 'message': '[horizon] Transition Victoria to EM\n\nThis transition the victoria branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch.\n\nPlease +1 if the team is ready for us to proceed with this\ntransition, or -1 if there are any final backports currently in\nflight that we should wait for. For the latter case, please\nupdate the patch with the new commit hash after doing a final\nrelease to get those changes out so we know to proceed with the\ntransition.\n\nThe transition deadline is April 27th, 2022.\n\nChange-Id: I71ae8712c28b875c6c594dbdd5f8fc8cad7d51d5\n'}, {'number': 2, 'created': '2022-04-14 17:44:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/0872a1997615b40ac4e12d6514425d4504fa3b3a', 'message': '[horizon] Transition Victoria to EM\n\nThis transition the victoria branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch.\n\nPlease +1 if the team is ready for us to proceed with this\ntransition, or -1 if there are any final backports currently in\nflight that we should wait for. For the latter case, please\nupdate the patch with the new commit hash after doing a final\nrelease to get those changes out so we know to proceed with the\ntransition.\n\nThe transition deadline is April 27th, 2022.\n\nChange-Id: I71ae8712c28b875c6c594dbdd5f8fc8cad7d51d5\n'}, {'number': 3, 'created': '2022-04-19 19:05:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/bd5c0fbd62da5bbbb0dcbbfcbda0f1c873352dcd', 'message': '[horizon] Transition Victoria to EM\n\nThis transition the victoria branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch.\n\nPlease +1 if the team is ready for us to proceed with this\ntransition, or -1 if there are any final backports currently in\nflight that we should wait for. For the latter case, please\nupdate the patch with the new commit hash after doing a final\nrelease to get those changes out so we know to proceed with the\ntransition.\n\nThe transition deadline is April 27th, 2022.\n\nChange-Id: I71ae8712c28b875c6c594dbdd5f8fc8cad7d51d5\n'}, {'number': 4, 'created': '2022-04-19 19:09:10.000000000', 'files': ['deliverables/victoria/horizon.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/9e62bbcd9e10301ca7afa3d44279ddc5e6ab9724', 'message': '[horizon] Transition Victoria to EM\n\nThis transition the victoria branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch.\n\nPlease +1 if the team is ready for us to proceed with this\ntransition, or -1 if there are any final backports currently in\nflight that we should wait for. For the latter case, please\nupdate the patch with the new commit hash after doing a final\nrelease to get those changes out so we know to proceed with the\ntransition.\n\nThe transition deadline is April 27th, 2022.\n\nChange-Id: I71ae8712c28b875c6c594dbdd5f8fc8cad7d51d5\n'}]",4,837988,9e62bbcd9e10301ca7afa3d44279ddc5e6ab9724,17,4,4,17685,,,0,"[horizon] Transition Victoria to EM

This transition the victoria branch to extended maintenance.
Changes for bugfixes and things the team deems important are
still encouraged, but there will no longer be official releases
off of the branch.

Please +1 if the team is ready for us to proceed with this
transition, or -1 if there are any final backports currently in
flight that we should wait for. For the latter case, please
update the patch with the new commit hash after doing a final
release to get those changes out so we know to proceed with the
transition.

The transition deadline is April 27th, 2022.

Change-Id: I71ae8712c28b875c6c594dbdd5f8fc8cad7d51d5
",git fetch https://review.opendev.org/openstack/releases refs/changes/88/837988/4 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/victoria/horizon.yaml', 'deliverables/victoria/tempest-horizon.yaml']",2,9a43af0d940c20a941d2641069665464b44b43fa,victoria-em, - version: victoria-em projects: - repo: openstack/tempest-horizon hash: aaf69e0adffb5d3dc918b388b6f88e4a4972399a,,8,0
openstack%2Fskyline-console~master~I73f697f95c0edc947240c562fc9f3e2f6768387f,openstack/skyline-console,master,I73f697f95c0edc947240c562fc9f3e2f6768387f,feat: Support for creating image using file link,MERGED,2022-04-14 08:19:42.000000000,2022-04-20 08:39:53.000000000,2022-04-20 08:39:53.000000000,"[{'_account_id': 22348}, {'_account_id': 27623}, {'_account_id': 30434}, {'_account_id': 33689}]","[{'number': 1, 'created': '2022-04-14 08:19:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/18eef7da297028489c79806c360119e1ad2d76a3', 'message': 'feat: upload object storage in create image\n\n1.upload object storage in create image\n\nIssue: 129632\nChange-Id: I73f697f95c0edc947240c562fc9f3e2f6768387f\n'}, {'number': 2, 'created': '2022-04-18 08:22:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/e0c0d5e515a8cdad4192be1466a6a1c2a372f0c9', 'message': 'feat: upload object storage in create image\n\n1.upload object storage in create image\n\nIssue: 129632\nChange-Id: I73f697f95c0edc947240c562fc9f3e2f6768387f\n'}, {'number': 3, 'created': '2022-04-18 09:51:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/39d62a61fc4e916e58e9f1097b7f87a8d78d573c', 'message': 'feat: upload object storage in create image\n\n1.upload object storage in create image\n\nIssue: 129632\nChange-Id: I73f697f95c0edc947240c562fc9f3e2f6768387f\n'}, {'number': 4, 'created': '2022-04-18 10:16:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/6a4551ded03993d75818f929905b362b198ef8ad', 'message': 'feat: upload object storage in create image\n\n1.upload object storage in create image\n\nIssue: 129632\nChange-Id: I73f697f95c0edc947240c562fc9f3e2f6768387f\n'}, {'number': 5, 'created': '2022-04-19 06:12:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/9d30ab85f0b2ce35c87b8a79b5936c9f2fd2117c', 'message': 'feat: upload object storage in create image\n\n1.upload object storage in create image\n\nIssue: 129632\nChange-Id: I73f697f95c0edc947240c562fc9f3e2f6768387f\n'}, {'number': 6, 'created': '2022-04-20 03:33:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/0fe5910c02a19d84875e7d3102a90152f86dfe20', 'message': 'feat: upload object storage in create image\n\n1.upload object storage in create image\n\nIssue: 129632\nChange-Id: I73f697f95c0edc947240c562fc9f3e2f6768387f\n'}, {'number': 7, 'created': '2022-04-20 05:18:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/3f429dcf75c55fc1dd895af4323067c113437073', 'message': 'feat: upload object storage in create image\n\n1.upload object storage in create image\n\nChange-Id: I73f697f95c0edc947240c562fc9f3e2f6768387f\n'}, {'number': 8, 'created': '2022-04-20 05:27:06.000000000', 'files': ['src/pages/compute/containers/Image/actions/Create.jsx', 'src/locales/en.json', 'src/locales/zh.json', 'src/client/glance/index.js', 'src/stores/glance/image.js'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/a241663bb8024d6dd9eca0d1311001e0721a8e6f', 'message': 'feat: Support for creating image using file link\n\nSupport for creating image using file link\n\nChange-Id: I73f697f95c0edc947240c562fc9f3e2f6768387f\n'}]",26,837837,a241663bb8024d6dd9eca0d1311001e0721a8e6f,25,4,8,34718,,,0,"feat: Support for creating image using file link

Support for creating image using file link

Change-Id: I73f697f95c0edc947240c562fc9f3e2f6768387f
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/37/837837/7 && git format-patch -1 --stdout FETCH_HEAD,"['src/pages/compute/containers/Image/actions/Create.jsx', 'src/locales/en.json', 'src/locales/zh.json']",3,18eef7da297028489c79806c360119e1ad2d76a3,," ""Eject"": ""删除"", ""Please enter URL in the correct format!"": ""请输入正确格式的URL！"", ""Please enter URL!"": ""请输入URL！"", ""Promote"": ""推动"", ""Upload Object Storage"": ""上传对象存储"", ""Upload Type"": ""上传类型"","," ""File"": ""文件"",",57,7
openstack%2Ftripleo-quickstart-extras~master~I977d245eb4863b37c63e21c416debe8df34b813b,openstack/tripleo-quickstart-extras,master,I977d245eb4863b37c63e21c416debe8df34b813b,Convert a hieradata override to plain t-h-t parameter,MERGED,2022-04-07 12:05:30.000000000,2022-04-20 08:18:24.000000000,2022-04-19 11:42:31.000000000,"[{'_account_id': 6926}, {'_account_id': 8449}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2022-04-07 12:05:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/6c37509e2d31a4103b995b857f650650b656080c', 'message': ""Convert a hieradata override to plain t-h-t parameter\n\nSince we're moving the masquerade management out of puppet[1], we\ncannot rely on hieradata anymore.\n\nThis patch creates a custom_env_file taking care of the override of the\nactual heat MasqueradeNetworks parameter.\n\n[1] https://review.opendev.org/q/topic:masquerade-ansible\n\nChange-Id: I977d245eb4863b37c63e21c416debe8df34b813b\n""}, {'number': 2, 'created': '2022-04-07 12:58:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/3e0b28a2accd3e7a82bf5d6f1384ea02049a5a28', 'message': ""Convert a hieradata override to plain t-h-t parameter\n\nSince we're moving the masquerade management out of puppet[1], we\ncannot rely on hieradata anymore.\n\nThis patch creates a custom_env_file taking care of the override of the\nactual heat MasqueradeNetworks parameter.\n\n[1] https://review.opendev.org/q/topic:masquerade-ansible\n\nChange-Id: I977d245eb4863b37c63e21c416debe8df34b813b\n""}, {'number': 3, 'created': '2022-04-08 04:53:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/63edc67d25cdbe5414d5f3758ff0e5ddf6400138', 'message': ""Convert a hieradata override to plain t-h-t parameter\n\nSince we're moving the masquerade management out of puppet[1], we\ncannot rely on hieradata anymore.\n\nThis patch creates a custom_env_file taking care of the override of the\nactual heat MasqueradeNetworks parameter.\n\nIt also get rid of an ugly pattern, and uses an actual list for the\ncustom_env_files (while still supporting the space separated string).\n\n[1] https://review.opendev.org/q/topic:masquerade-ansible\n\nChange-Id: I977d245eb4863b37c63e21c416debe8df34b813b\n""}, {'number': 4, 'created': '2022-04-08 08:13:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/33f2414b290f4dac6dfecf3f19adb749f70fda3c', 'message': ""Convert a hieradata override to plain t-h-t parameter\n\nSince we're moving the masquerade management out of puppet[1], we\ncannot rely on hieradata anymore.\n\nThis patch creates a custom_env_file taking care of the override of the\nactual heat MasqueradeNetworks parameter.\n\nIt also get rid of an ugly pattern, and uses an actual list for the\ncustom_env_files (while still supporting the space separated string).\n\n[1] https://review.opendev.org/q/topic:masquerade-ansible\n\nChange-Id: I977d245eb4863b37c63e21c416debe8df34b813b\n""}, {'number': 5, 'created': '2022-04-08 12:03:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/31d169c642f4ce6dd2aaf38f20db1e805228363d', 'message': ""Convert a hieradata override to plain t-h-t parameter\n\nSince we're moving the masquerade management out of puppet[1], we\ncannot rely on hieradata anymore.\n\nThis patch creates a custom_env_file taking care of the override of the\nactual heat MasqueradeNetworks parameter.\n\nIt also get rid of an ugly pattern, and uses an actual list for the\ncustom_env_files (while still supporting the space separated string).\n\n[1] https://review.opendev.org/q/topic:masquerade-ansible\n\nChange-Id: I977d245eb4863b37c63e21c416debe8df34b813b\n""}, {'number': 6, 'created': '2022-04-08 12:31:20.000000000', 'files': ['roles/undercloud-deploy/tasks/create-scripts.yml', 'roles/undercloud-deploy/templates/undercloud-masquerade-override.yaml.j2', 'roles/undercloud-deploy/README.md', 'roles/undercloud-deploy/templates/undercloud.conf.j2', 'roles/undercloud-deploy/templates/hieradata-overrides-t-h-t-undercloud.yaml.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/aec2975826699c9ebb65b919dabeedfed2e22589', 'message': ""Convert a hieradata override to plain t-h-t parameter\n\nSince we're moving the masquerade management out of puppet[1], we\ncannot rely on hieradata anymore.\n\nThis patch creates a custom_env_file taking care of the override of the\nactual heat MasqueradeNetworks parameter.\n\nIt also get rid of an ugly pattern, and uses an actual list for the\ncustom_env_files (while still supporting the space separated string).\n\n[1] https://review.opendev.org/q/topic:masquerade-ansible\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/836871\nChange-Id: I977d245eb4863b37c63e21c416debe8df34b813b\n""}]",22,836951,aec2975826699c9ebb65b919dabeedfed2e22589,55,6,6,28223,,,0,"Convert a hieradata override to plain t-h-t parameter

Since we're moving the masquerade management out of puppet[1], we
cannot rely on hieradata anymore.

This patch creates a custom_env_file taking care of the override of the
actual heat MasqueradeNetworks parameter.

It also get rid of an ugly pattern, and uses an actual list for the
custom_env_files (while still supporting the space separated string).

[1] https://review.opendev.org/q/topic:masquerade-ansible

Depends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/836871
Change-Id: I977d245eb4863b37c63e21c416debe8df34b813b
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/51/836951/4 && git format-patch -1 --stdout FETCH_HEAD,"['roles/undercloud-deploy/tasks/create-scripts.yml', 'roles/undercloud-deploy/templates/undercloud-masquerade-override.yaml.j2', 'roles/undercloud-deploy/templates/hieradata-overrides-t-h-t-undercloud.yaml.j2']",3,6c37509e2d31a4103b995b857f650650b656080c,masquerade-ansible,," {% if ctlplane_masquerade|default(false) %} # Override masquerading, OVB need's to masquerade the External (10.0.0.0/24) net as well. tripleo::masquerade_networks::masquerade_networks: {% if overcloud_ipv6|bool %}{'{{ undercloud_network_cidr }}': ['{{ undercloud_network_cidr }}'], '{{ undercloud_external_network_cidr_ipv4 }}': ['{{ undercloud_external_network_cidr_ipv4}}']}{% else %}{'{{ undercloud_network_cidr }}': ['{{ undercloud_network_cidr }}'], '{{ undercloud_external_network_cidr }}': ['{{ undercloud_external_network_cidr}}']}{% endif -%} {% endif %} ",29,5
openstack%2Fskyline-console~master~Ib8757fc918c3068be0a6b9a0d08921f2dc8817fd,openstack/skyline-console,master,Ib8757fc918c3068be0a6b9a0d08921f2dc8817fd,fix: fix token storage after switch project,MERGED,2022-04-20 03:36:51.000000000,2022-04-20 07:32:04.000000000,2022-04-20 07:32:04.000000000,"[{'_account_id': 22348}, {'_account_id': 28706}, {'_account_id': 33689}]","[{'number': 1, 'created': '2022-04-20 03:36:51.000000000', 'files': ['src/layouts/Base/Right.jsx', 'src/components/Layout/GlobalHeader/ProjectDropdown.jsx', 'src/stores/root.js', 'src/components/Layout/GlobalHeader/ProjectTable.jsx'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/792c5309288e09cf71aa08fffd8d538dc522a60b', 'message': 'fix: fix token storage after switch project\n\n1. Remove useless code in switch project\n2. Fix token change for requests after switch project\n\nChange-Id: Ib8757fc918c3068be0a6b9a0d08921f2dc8817fd\n'}]",0,838623,792c5309288e09cf71aa08fffd8d538dc522a60b,7,3,1,30434,,,0,"fix: fix token storage after switch project

1. Remove useless code in switch project
2. Fix token change for requests after switch project

Change-Id: Ib8757fc918c3068be0a6b9a0d08921f2dc8817fd
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/23/838623/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/components/Layout/GlobalHeader/ProjectDropdown.jsx', 'src/layouts/Base/Right.jsx', 'src/components/Layout/GlobalHeader/ProjectTable.jsx', 'src/stores/root.js']",4,792c5309288e09cf71aa08fffd8d538dc522a60b,master2," const result = await this.client.switchProject(projectId, domainId); const { keystone_token } = result; setLocalStorageItem('keystone_token', keystone_token);"," await this.client.switchProject(projectId, domainId); // this.updateUser(result);",32,128
openstack%2Fansible-collections-openstack~master~I9cd3f729b06516bbd9a3c7985b65fcf294c8bdd7,openstack/ansible-collections-openstack,master,I9cd3f729b06516bbd9a3c7985b65fcf294c8bdd7,Dropped broken linter job openstack-tox-linters-ansible-2.9,MERGED,2022-04-20 07:04:28.000000000,2022-04-20 07:29:30.000000000,2022-04-20 07:29:30.000000000,"[{'_account_id': 10969}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-20 07:04:28.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/f09cccdb9e6e211eb0dcb758a48bb2408d56e4c4', 'message': ""Dropped broken linter job openstack-tox-linters-ansible-2.9\n\nRunning older linter releases while we have a more up to date\nAnsible 2.12 based linter does not provide value and thus wastes\nci resources. Our Ansible 2.9 based linter is broken atm and since\nit is EOL soon anyway we drop this job. We still have a linter job\nbased on the last stable release and one based on Ansible's\ndevel branch.\n\nOur tox environment for Ansible 2.9 will be dropped in a later\npatch once all Ansible 2.9 based jobs have been removed.\n\nChange-Id: I9cd3f729b06516bbd9a3c7985b65fcf294c8bdd7\n""}]",1,838644,f09cccdb9e6e211eb0dcb758a48bb2408d56e4c4,6,2,1,32962,,,0,"Dropped broken linter job openstack-tox-linters-ansible-2.9

Running older linter releases while we have a more up to date
Ansible 2.12 based linter does not provide value and thus wastes
ci resources. Our Ansible 2.9 based linter is broken atm and since
it is EOL soon anyway we drop this job. We still have a linter job
based on the last stable release and one based on Ansible's
devel branch.

Our tox environment for Ansible 2.9 will be dropped in a later
patch once all Ansible 2.9 based jobs have been removed.

Change-Id: I9cd3f729b06516bbd9a3c7985b65fcf294c8bdd7
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/44/838644/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,f09cccdb9e6e211eb0dcb758a48bb2408d56e4c4,drop-ansible-linter-2-9,,- job: name: openstack-tox-linters-ansible-2.9 parent: openstack-tox-linters-ansible nodeset: ubuntu-bionic description: | Run openstack collections linter tests using the 2.9 branch of ansible # TODO: Change back to voting once ansible-test is compatible with rstcheck on Python 3.6 voting: false required-projects: - name: github.com/ansible/ansible override-checkout: stable-2.9 vars: tox_envlist: linters-2.9 - openstack-tox-linters-ansible-2.9 # TODO: Add back once ansible-test is compatible with rstcheck on Python 3.6 #- openstack-tox-linters-ansible-2.9 # TODO: Add back once ansible-test is compatible with rstcheck on Python 3.6 #- openstack-tox-linters-ansible-2.9 - openstack-tox-linters-ansible-2.9,0,20
openstack%2Fansible-collections-openstack~master~Ic6f2febc5a40a29534ac4c7f41f714865099086a,openstack/ansible-collections-openstack,master,Ic6f2febc5a40a29534ac4c7f41f714865099086a,Temporarily set job openstack-tox-linters-ansible-2.9 to non-voting,MERGED,2022-04-19 19:55:44.000000000,2022-04-20 07:08:01.000000000,2022-04-20 07:00:43.000000000,"[{'_account_id': 8367}, {'_account_id': 22348}, {'_account_id': 29260}, {'_account_id': 32962}]","[{'number': 1, 'created': '2022-04-19 19:55:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/c6f627365dc36ce6dbbf4e63e1dd1ddea702d98d', 'message': 'Temporarily set job openstack-tox-linters-ansible-2.9 to non-voting\n\nPython module rstcheck which is used by ansible-test deprecated\nPython versions prior 3.7 in version 3.5.0 and removed support\nin 4.0.0 [1]. Ubuntu 18.04 LTS (Bionic Beaver) comes with Python\n3.6 by default, so rstcheck prints a FutureWarning which confuses\nansible-test:\n\n  Run command: ***/python -m rstcheck --report warning\n  --ignore-substitutions _,br,release,today,version\n  docs/openstack_guidelines.rst\n  Traceback (most recent call last):\n    File ""***/ansible-test"", line 28, in <module>\n      main()\n    File ""***/ansible-test"", line 24, in main\n      cli_main()\n    File ""***/ansible_test/_internal/cli.py"", line 130, in main\n      args.func(config)\n    File ""***/ansible_test/_internal/sanity/__init__.py"", line 193,\n    in command_sanity\n      result = test.test(args, sanity_targets, version)\n    File ""***/ansible_test/_internal/sanity/rstcheck.py"", line 80,\n    in test\n      results = parse_to_list_of_dict(pattern, stderr)\n    File ""***/ansible_test/_internal/util.py"", line 799, in\n    parse_to_list_of_dict\n      raise Exception(\'Pattern ""%s"" did not match values:\\n%s\' %\n      (pattern, \'\\n\'.join(unmatched)))\n  Exception: Pattern ""^(?P<path>[^:]*):(?P<line>[0-9]+):\n  \\((?P<level>INFO|WARNING|ERROR|SEVERE)/[0-4]\\) (?P<message>.*)$""\n  did not match values:\n  ***/rstcheck.py:51: FutureWarning: Python versions prior 3.7 are\n  deprecated. Please update your python version.\n    FutureWarning\n  ERROR: Command ""/usr/bin/env ANSIBLE_TEST_CONTENT_ROOT=***/\n  ansible_collections/openstack/cloud LC_ALL=en_US.UTF-8 ***/python3.6\n  ***/ansible-test sanity -v --python 3.6 --skip-test\n  metaclass-boilerplate --skip-test future-import-boilerplate plugins/\n  docs/ meta/ scripts/ --metadata ***.json --truncate 0 --redact\n  --color no --requirements"" returned exit status 1.\n\nWe cannot constrain the version of rstcheck which ansible-test installs\ninto its Python virtual environment. This has to be fixed in Ansible\nitself, a pull request against Ansible 2.9 has been opened [2].\n\nRef.:\n[1] https://github.com/myint/rstcheck/blob/master/README.rst\n[2] https://github.com/ansible/ansible/pull/77568\n\nAs a workaround we temporarily set our Ubuntu 18.04 based linter job\nopenstack-tox-linters-ansible-2.9 to non-voting.\n\nThanks to Arx Cruz and Jesper Schmitz Mouridsen for pointing out this\nissue and its root cause ☺️\n\nChange-Id: Ic6f2febc5a40a29534ac4c7f41f714865099086a\n'}, {'number': 2, 'created': '2022-04-19 20:00:08.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/2bf82c266941c5aa66f2e605c410be792329b603', 'message': 'Temporarily set job openstack-tox-linters-ansible-2.9 to non-voting\n\nPython module rstcheck which is used by ansible-test deprecated\nPython versions prior 3.7 in version 3.5.0 and removed support\nin 4.0.0 [1]. Ubuntu 18.04 LTS (Bionic Beaver) comes with Python\n3.6 by default, so rstcheck prints a FutureWarning which confuses\nansible-test:\n\n  Run command: ***/python -m rstcheck --report warning\n  --ignore-substitutions _,br,release,today,version\n  docs/openstack_guidelines.rst\n  Traceback (most recent call last):\n    File ""***/ansible-test"", line 28, in <module>\n      main()\n    File ""***/ansible-test"", line 24, in main\n      cli_main()\n    File ""***/ansible_test/_internal/cli.py"", line 130, in main\n      args.func(config)\n    File ""***/ansible_test/_internal/sanity/__init__.py"", line 193,\n    in command_sanity\n      result = test.test(args, sanity_targets, version)\n    File ""***/ansible_test/_internal/sanity/rstcheck.py"", line 80,\n    in test\n      results = parse_to_list_of_dict(pattern, stderr)\n    File ""***/ansible_test/_internal/util.py"", line 799, in\n    parse_to_list_of_dict\n      raise Exception(\'Pattern ""%s"" did not match values:\\n%s\' %\n      (pattern, \'\\n\'.join(unmatched)))\n  Exception: Pattern ""^(?P<path>[^:]*):(?P<line>[0-9]+):\n  \\((?P<level>INFO|WARNING|ERROR|SEVERE)/[0-4]\\) (?P<message>.*)$""\n  did not match values:\n  ***/rstcheck.py:51: FutureWarning: Python versions prior 3.7 are\n  deprecated. Please update your python version.\n    FutureWarning\n  ERROR: Command ""/usr/bin/env ANSIBLE_TEST_CONTENT_ROOT=***/\n  ansible_collections/openstack/cloud LC_ALL=en_US.UTF-8 ***/python3.6\n  ***/ansible-test sanity -v --python 3.6 --skip-test\n  metaclass-boilerplate --skip-test future-import-boilerplate plugins/\n  docs/ meta/ scripts/ --metadata ***.json --truncate 0 --redact\n  --color no --requirements"" returned exit status 1.\n\nWe cannot constrain the version of rstcheck which ansible-test installs\ninto its Python virtual environment. This has to be fixed in Ansible\nitself, a pull request against Ansible 2.9 has been opened [2].\n\nRef.:\n[1] https://github.com/myint/rstcheck/blob/master/README.rst\n[2] https://github.com/ansible/ansible/pull/77568\n\nAs a workaround we temporarily set our Ubuntu 18.04 based linter job\nopenstack-tox-linters-ansible-2.9 to non-voting and remove it from\ncheck dependencies and as a gate job.\n\nThanks to Arx Cruz and Jesper Schmitz Mouridsen for pointing out this\nissue and its root cause ☺️\n\nChange-Id: Ic6f2febc5a40a29534ac4c7f41f714865099086a\n'}]",3,838586,2bf82c266941c5aa66f2e605c410be792329b603,11,4,2,32962,,,0,"Temporarily set job openstack-tox-linters-ansible-2.9 to non-voting

Python module rstcheck which is used by ansible-test deprecated
Python versions prior 3.7 in version 3.5.0 and removed support
in 4.0.0 [1]. Ubuntu 18.04 LTS (Bionic Beaver) comes with Python
3.6 by default, so rstcheck prints a FutureWarning which confuses
ansible-test:

  Run command: ***/python -m rstcheck --report warning
  --ignore-substitutions _,br,release,today,version
  docs/openstack_guidelines.rst
  Traceback (most recent call last):
    File ""***/ansible-test"", line 28, in <module>
      main()
    File ""***/ansible-test"", line 24, in main
      cli_main()
    File ""***/ansible_test/_internal/cli.py"", line 130, in main
      args.func(config)
    File ""***/ansible_test/_internal/sanity/__init__.py"", line 193,
    in command_sanity
      result = test.test(args, sanity_targets, version)
    File ""***/ansible_test/_internal/sanity/rstcheck.py"", line 80,
    in test
      results = parse_to_list_of_dict(pattern, stderr)
    File ""***/ansible_test/_internal/util.py"", line 799, in
    parse_to_list_of_dict
      raise Exception('Pattern ""%s"" did not match values:\n%s' %
      (pattern, '\n'.join(unmatched)))
  Exception: Pattern ""^(?P<path>[^:]*):(?P<line>[0-9]+):
  \((?P<level>INFO|WARNING|ERROR|SEVERE)/[0-4]\) (?P<message>.*)$""
  did not match values:
  ***/rstcheck.py:51: FutureWarning: Python versions prior 3.7 are
  deprecated. Please update your python version.
    FutureWarning
  ERROR: Command ""/usr/bin/env ANSIBLE_TEST_CONTENT_ROOT=***/
  ansible_collections/openstack/cloud LC_ALL=en_US.UTF-8 ***/python3.6
  ***/ansible-test sanity -v --python 3.6 --skip-test
  metaclass-boilerplate --skip-test future-import-boilerplate plugins/
  docs/ meta/ scripts/ --metadata ***.json --truncate 0 --redact
  --color no --requirements"" returned exit status 1.

We cannot constrain the version of rstcheck which ansible-test installs
into its Python virtual environment. This has to be fixed in Ansible
itself, a pull request against Ansible 2.9 has been opened [2].

Ref.:
[1] https://github.com/myint/rstcheck/blob/master/README.rst
[2] https://github.com/ansible/ansible/pull/77568

As a workaround we temporarily set our Ubuntu 18.04 based linter job
openstack-tox-linters-ansible-2.9 to non-voting and remove it from
check dependencies and as a gate job.

Thanks to Arx Cruz and Jesper Schmitz Mouridsen for pointing out this
issue and its root cause ☺️

Change-Id: Ic6f2febc5a40a29534ac4c7f41f714865099086a
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/86/838586/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,c6f627365dc36ce6dbbf4e63e1dd1ddea702d98d,linter-2-9-non-voting, # TODO: Change back to voting once ansible-test is compatible with rstcheck on Python 3.6 voting: false,,2,0
openstack%2Fci-log-processing~master~Icdec8fe6dd872a15774b78c0bcf4d9eb7859e0bd,openstack/ci-log-processing,master,Icdec8fe6dd872a15774b78c0bcf4d9eb7859e0bd,Add wait_time param for logscraper and logsender,MERGED,2022-04-01 06:28:23.000000000,2022-04-20 06:44:15.000000000,2022-04-20 06:42:48.000000000,"[{'_account_id': 6889}, {'_account_id': 8367}, {'_account_id': 8449}, {'_account_id': 9311}, {'_account_id': 20676}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-01 06:28:23.000000000', 'files': ['logscraper/tests/test_logscraper.py', 'ansible/roles/logsender/templates/logsender.sh.j2', 'logscraper/tests/test_logsender.py', 'ansible/playbooks/deploy-services.yml', 'logscraper/logsender.py', 'logscraper/logscraper.py', 'ansible/roles/logscraper/templates/logscraper.sh.j2', 'ansible/roles/logsender/defaults/main.yml', 'ansible/roles/logscraper/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/ci-log-processing/commit/0498c9b5a28951d490b3a7c81ec390dc266270c0', 'message': 'Add wait_time param for logscraper and logsender\n\nIn big deployment like Openstack CI sleep parameter with lower value\nbefore next iteration is required.\n\nChange-Id: Icdec8fe6dd872a15774b78c0bcf4d9eb7859e0bd\n'}]",1,836119,0498c9b5a28951d490b3a7c81ec390dc266270c0,9,6,1,20676,,,0,"Add wait_time param for logscraper and logsender

In big deployment like Openstack CI sleep parameter with lower value
before next iteration is required.

Change-Id: Icdec8fe6dd872a15774b78c0bcf4d9eb7859e0bd
",git fetch https://review.opendev.org/openstack/ci-log-processing refs/changes/19/836119/1 && git format-patch -1 --stdout FETCH_HEAD,"['logscraper/tests/test_logscraper.py', 'ansible/roles/logsender/templates/logsender.sh.j2', 'logscraper/tests/test_logsender.py', 'ansible/playbooks/deploy-services.yml', 'logscraper/logsender.py', 'logscraper/logscraper.py', 'ansible/roles/logscraper/templates/logscraper.sh.j2', 'ansible/roles/logsender/defaults/main.yml', 'ansible/roles/logscraper/defaults/main.yml']",9,0498c9b5a28951d490b3a7c81ec390dc266270c0,,# logscraper_wait_time: 120,,25,6
openstack%2Ftripleo-docs~master~Ibc414e3c29ddc49341da2a1f667ae4a01c5c2db7,openstack/tripleo-docs,master,Ibc414e3c29ddc49341da2a1f667ae4a01c5c2db7,Improvements to Zuul job parenting doc,MERGED,2022-04-18 08:46:41.000000000,2022-04-20 06:28:56.000000000,2022-04-20 06:27:23.000000000,"[{'_account_id': 8449}, {'_account_id': 14611}, {'_account_id': 22348}, {'_account_id': 29775}, {'_account_id': 30002}, {'_account_id': 30750}]","[{'number': 1, 'created': '2022-04-18 08:46:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/028f1d67646d48dba0c7e725457ef9612cbe694a', 'message': 'Improvements to Zuul job parenting doc\n\nThis patch adds the improvements suggested in the\nhttps://review.opendev.org/c/openstack/tripleo-docs/+/835782/11#message-f7cf636c872a0e43139f4396820cb0b0dad858c9\nfor Zuul job parenting doc.\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: Ibc414e3c29ddc49341da2a1f667ae4a01c5c2db7\n'}, {'number': 2, 'created': '2022-04-18 08:56:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/2a6463c604c195b5c056f1a59a1efb1c0194a85f', 'message': 'Improvements to Zuul job parenting doc\n\nThis patch adds the improvements suggested in the\nhttps://review.opendev.org/c/openstack/tripleo-docs/+/835782/11#message-f7cf636c872a0e43139f4396820cb0b0dad858c9\nfor Zuul job parenting doc.\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: Ibc414e3c29ddc49341da2a1f667ae4a01c5c2db7\n'}, {'number': 3, 'created': '2022-04-18 10:51:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/d7a9049b2a6d3dccf2dc695261bc08dca6ed3928', 'message': 'Improvements to Zuul job parenting doc\n\nThis patch adds the improvements suggested in the\nhttps://review.opendev.org/c/openstack/tripleo-docs/+/835782/11#message-f7cf636c872a0e43139f4396820cb0b0dad858c9\nfor Zuul job parenting doc.\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: Ibc414e3c29ddc49341da2a1f667ae4a01c5c2db7\n'}, {'number': 4, 'created': '2022-04-19 09:19:01.000000000', 'files': ['doc/source/ci/tripleo_ci_job_parenting.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/d2579125e89f0bf16ca72988dd2641a904579cd1', 'message': 'Improvements to Zuul job parenting doc\n\nThis patch adds the improvements suggested in the\nhttps://review.opendev.org/c/openstack/tripleo-docs/+/835782/11#message-f7cf636c872a0e43139f4396820cb0b0dad858c9\nfor Zuul job parenting doc.\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: Ibc414e3c29ddc49341da2a1f667ae4a01c5c2db7\n'}]",15,838285,d2579125e89f0bf16ca72988dd2641a904579cd1,22,6,4,12393,,,0,"Improvements to Zuul job parenting doc

This patch adds the improvements suggested in the
https://review.opendev.org/c/openstack/tripleo-docs/+/835782/11#message-f7cf636c872a0e43139f4396820cb0b0dad858c9
for Zuul job parenting doc.

Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
Change-Id: Ibc414e3c29ddc49341da2a1f667ae4a01c5c2db7
",git fetch https://review.opendev.org/openstack/tripleo-docs refs/changes/85/838285/3 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/ci/tripleo_ci_job_parenting.rst'],1,028f1d67646d48dba0c7e725457ef9612cbe694a,cs-parenting,"vanilla standalone and standalone based scenario jobs.The ovb job consists of one undercloud and overcloud nodes (one compute and multiple controllers) deployed as virtual baremetal nodes. It is a replica ofbuilding containers and pushing it to local registry. Depends-on patches are built into respective rpm packages via DLRN and serve a local yum repos. The job is `<paused>`_ to serve container registry and yum repos which can be used later in dependent jobs.Upstream job `tripleo-ci-build-containers-required-projects-upstream`_ requires projects like ansible-role-container-registry, kolla, python-tripleoclient, tripleo-ansible to build build containers. In case of RDO `tripleo-ci-build-containers-required-projects-rdo`_ serves the same purpose.To accommodate the downstream namespace and branches we use the downstreamtripleo-ci-base-required-projects-multinode-internal job defined in the examples are perfect example for the same. Below is one of the examples of container multinode required projects job.Here is the current supported martrix in RDO, Downstream and Upstream.Below is an example of distro jobs for containers multinode at different levels.Here is an example of Upstream inheritance of tripleo-ci-centos-9-containers-multinode_ job.::FAQs regarding TripleO CI jobs - cloned from upstream source, then it must be added under required-projects - the project namespace is different in Upstream and downstream, then it must be - if the project is only developed at downstream or RDO or Upstream, then it must be added under required project at downstream or RDO or Upstream required-projects* If a playbook (which calls another role, exists in different repo) is called at* We should not use branches `<attributes>`_ in Zuul Distro jobs or options jobs... _`paused`: https://zuul-ci.org/docs/zuul/latest/job-content.html#pausing-the-job.. _`attributes`: https://opendev.org/openstack/tripleo-ci/commit/bda6e1a61a846890c9cc39d0bc91952e9c6deb8f","most standalone and standalone scenario jobs.The ovb job consists of one undercloud and multiple overcloud deployment having one compute and multiple controllers on virtual baremetals nodes. It is a replica ofbuilding containers and pushing it to local registry, building depends-on patches into respective rpm packages via DLRN and serving a local yum repos. The job is paused to serve container registry and yum repos which later on used in dependent jobs.For example: `tripleo-ci-build-containers-required-projects-upstream`_ have required projects like ansible-role-container-registry, kolla, python-tripleoclient, tripleo-ansible used in Upstream for building containers. In RDO, we have `tripleo-ci-build-containers-required-projects-rdo`_ for the same.To accommodate the downstream namespace and branches we can use a downstreamBelow is one of the example of container multinode required projects job.Here is the current supported martrix in RDO. Downstream and Upstream.Below is the example of distro jobs for containers multinode at different levels.Here is the example of Upstream inheritance of tripleo-ci-centos-9-containers-multinode_ job.::FAQs regarding tripleo CI jobs - cloned from upstream source, then it needs to be added under required-projects - the project namespace is different in Upstream and downstream, then it needs to be - if the project is only developed at downstream or RDO or Upstream, then it needs to be added under required project at downstream or RDO or Upstream required-projects* If a playbook (which calls another role, exists in different repo ) is called at* We should not use branches attributies in Zuul Distro jobs or options jobs.",31,25
openstack%2Fglance~master~Ide9a579be7d3961e38ab0c57e513192cfa3c5f8d,openstack/glance,master,Ide9a579be7d3961e38ab0c57e513192cfa3c5f8d,Update config doc for cinder backend,MERGED,2022-03-11 18:24:35.000000000,2022-04-20 06:21:52.000000000,2022-04-20 06:18:54.000000000,"[{'_account_id': 9303}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-03-11 18:24:35.000000000', 'files': ['doc/source/configuration/configuring.rst'], 'web_link': 'https://opendev.org/openstack/glance/commit/8cca532fdb8efe5875e4d0b3afb9b6a632a097d7', 'message': ""Update config doc for cinder backend\n\nChange I6f7f7d1954036 to os-brick requires that the oslo.concurrency\nconfig option 'lock_path' be set, so include instructions to set\nthis option in the configuration guide.\n\nChange-Id: Ide9a579be7d3961e38ab0c57e513192cfa3c5f8d\nRelated-bug: #1959663\n""}]",1,833456,8cca532fdb8efe5875e4d0b3afb9b6a632a097d7,8,2,1,5314,,,0,"Update config doc for cinder backend

Change I6f7f7d1954036 to os-brick requires that the oslo.concurrency
config option 'lock_path' be set, so include instructions to set
this option in the configuration guide.

Change-Id: Ide9a579be7d3961e38ab0c57e513192cfa3c5f8d
Related-bug: #1959663
",git fetch https://review.opendev.org/openstack/glance refs/changes/56/833456/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/configuration/configuring.rst'],1,8cca532fdb8efe5875e4d0b3afb9b6a632a097d7,cinder-config,"``lock_path`` Required. Defaults to environment variable OSLO_LOCK_PATH, though we recommend setting a value in the configuration file. This specifies the directory to use for lock files. NOTE: This option must be set in the ``[oslo_concurrency]`` section of the configuration file. .. code-block:: ini [oslo_concurrency] # ... lock_path = /var/lib/glance/tmp .. end ",,18,0
openstack%2Fglance~master~I60a5692f0061ae7568c5cdd4b8482f6b2a963261,openstack/glance,master,I60a5692f0061ae7568c5cdd4b8482f6b2a963261,Update doc8 ignore-path,MERGED,2022-03-11 18:30:05.000000000,2022-04-20 06:20:40.000000000,2022-04-20 06:18:51.000000000,"[{'_account_id': 8122}, {'_account_id': 9303}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-03-11 18:30:05.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/glance/commit/c3fb128d787eae7c2cf2a7067315827632e37766', 'message': 'Update doc8 ignore-path\n\nIgnore the .eggs directory that is created by (among other things)\npbr.  It contains eggs downloaded by setuptools to build, test, and\nrun plugins, but more to the point, it contains a README.TXT that\nviolates D001 (Line too long).\n\nChange-Id: I60a5692f0061ae7568c5cdd4b8482f6b2a963261\n'}]",1,833457,c3fb128d787eae7c2cf2a7067315827632e37766,9,3,1,5314,,,0,"Update doc8 ignore-path

Ignore the .eggs directory that is created by (among other things)
pbr.  It contains eggs downloaded by setuptools to build, test, and
run plugins, but more to the point, it contains a README.TXT that
violates D001 (Line too long).

Change-Id: I60a5692f0061ae7568c5cdd4b8482f6b2a963261
",git fetch https://review.opendev.org/openstack/glance refs/changes/57/833457/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,c3fb128d787eae7c2cf2a7067315827632e37766,update-doc8ignore,"ignore-path = .venv,.git,.tox,.eggs,*glance/locale*,*lib/python*,glance.egg*,api-ref/build,doc/build,doc/source/contributor/api,doc/test","ignore-path = .venv,.git,.tox,*glance/locale*,*lib/python*,glance.egg*,api-ref/build,doc/build,doc/source/contributor/api,doc/test",1,1
openstack%2Fdiskimage-builder~master~I416c60347679dc648914e7c1b02761882bae8d4a,openstack/diskimage-builder,master,I416c60347679dc648914e7c1b02761882bae8d4a,Add interpolation note for dynamic-login password,MERGED,2022-03-25 11:00:19.000000000,2022-04-20 06:06:01.000000000,2022-04-20 06:04:38.000000000,"[{'_account_id': 7118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-03-25 11:00:19.000000000', 'files': ['diskimage_builder/elements/dynamic-login/README.rst'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/7f5d6538c1b0e4807c67830b328d4616e2df8d15', 'message': 'Add interpolation note for dynamic-login password\n\nChange-Id: I416c60347679dc648914e7c1b02761882bae8d4a\n'}]",1,835206,7f5d6538c1b0e4807c67830b328d4616e2df8d15,9,2,1,31663,,,0,"Add interpolation note for dynamic-login password

Change-Id: I416c60347679dc648914e7c1b02761882bae8d4a
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/06/835206/1 && git format-patch -1 --stdout FETCH_HEAD,['diskimage_builder/elements/dynamic-login/README.rst'],1,7f5d6538c1b0e4807c67830b328d4616e2df8d15,panticz1," this password must be **encrypted**. Interpolation can be avoided by using $$. Encrypted passwords can be generated using the ``openssl`` command, e.g: *openssl passwd -1 -stdin <<< YOUR_PASSWORD | sed 's/\$/\$$/g'*."," this password must be **encrypted**. Encrypted passwords can be generated using the ``openssl`` command, e.g: *openssl passwd -1*.",4,3
openstack%2Fpython-tripleoclient~master~Id35fe65fc0b0885287bf366a44cfabc1d7c68033,openstack/python-tripleoclient,master,Id35fe65fc0b0885287bf366a44cfabc1d7c68033,[DNM] tox py36 test failure,ABANDONED,2022-04-19 07:45:22.000000000,2022-04-20 06:01:40.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-04-19 07:45:22.000000000', 'files': ['tripleoclient/v1/tripleo_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/80f291ee4e77159c45898fabeae8cf647c2d241a', 'message': '[DNM] tox py36 test failure\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: Id35fe65fc0b0885287bf366a44cfabc1d7c68033\n'}]",0,838447,80f291ee4e77159c45898fabeae8cf647c2d241a,3,1,1,12393,,,0,"[DNM] tox py36 test failure

Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
Change-Id: Id35fe65fc0b0885287bf366a44cfabc1d7c68033
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/47/838447/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/v1/tripleo_deploy.py'],1,80f291ee4e77159c45898fabeae8cf647c2d241a,dnm,#,,1,0
openstack%2Fglance~master~Id8be1c2c3ce022e068b37729af072694737d8df0,openstack/glance,master,Id8be1c2c3ce022e068b37729af072694737d8df0,Imported Translations from Zanata,MERGED,2022-03-04 02:35:44.000000000,2022-04-20 05:44:23.000000000,2022-04-20 05:42:42.000000000,"[{'_account_id': 9303}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-03-04 02:35:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/605d210dff826e07d3338e0d69a3b7c8951f5b5f', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Id8be1c2c3ce022e068b37729af072694737d8df0\n'}, {'number': 2, 'created': '2022-03-10 02:44:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/c24c69dc7ab119ee94cfb91fa74a1cd84fe48622', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Id8be1c2c3ce022e068b37729af072694737d8df0\n'}, {'number': 3, 'created': '2022-03-15 02:38:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/43b737c8317e6ac56924db7a7671eff3c150e8fc', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Id8be1c2c3ce022e068b37729af072694737d8df0\n'}, {'number': 4, 'created': '2022-04-13 02:38:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/d9258c7d8c933d59e17ec7b3e4e49917c2fd7697', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Id8be1c2c3ce022e068b37729af072694737d8df0\n'}, {'number': 5, 'created': '2022-04-15 02:31:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/fc242cc9b81340b2c16770741fe9e618557141cd', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Id8be1c2c3ce022e068b37729af072694737d8df0\n'}, {'number': 6, 'created': '2022-04-20 02:36:02.000000000', 'files': ['glance/locale/de/LC_MESSAGES/glance.po', 'releasenotes/source/locale/fr/LC_MESSAGES/releasenotes.po', 'glance/locale/en_GB/LC_MESSAGES/glance.po'], 'web_link': 'https://opendev.org/openstack/glance/commit/4abfa2573c5694dbc8a5bd7dab093127959bca78', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Id8be1c2c3ce022e068b37729af072694737d8df0\n'}]",0,831892,4abfa2573c5694dbc8a5bd7dab093127959bca78,22,2,6,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: Id8be1c2c3ce022e068b37729af072694737d8df0
",git fetch https://review.opendev.org/openstack/glance refs/changes/92/831892/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/locale/fr/LC_MESSAGES/releasenotes.po', 'glance/locale/en_GB/LC_MESSAGES/glance.po']",2,605d210dff826e07d3338e0d69a3b7c8951f5b5f,zanata/translations,"""POT-Creation-Date: 2022-03-03 19:21+0000\n""","""POT-Creation-Date: 2021-11-24 12:20+0000\n""""Path to the python interpreter to use when spawning external\n"" ""processes. By default this is sys.executable, which should be the\n"" ""same interpreter running Glance itself. However, in some situations\n"" ""(i.e. uwsgi) this may not actually point to a python interpreter\n"" ""itself."" msgstr """" ""\n"" ""Path to the python interpreter to use when spawning external\n"" ""processes. By default this is sys.executable, which should be the\n"" ""same interpreter running Glance itself. However, in some situations\n"" ""(i.e. uwsgi) this may not actually point to a python interpreter\n"" ""itself."" msgid """" ""\n""",64,16
openstack%2Fdevstack~stable%2Fussuri~Ib9896a99b6d6c4d359ee412743ce30512b3c4fb7,openstack/devstack,stable/ussuri,Ib9896a99b6d6c4d359ee412743ce30512b3c4fb7,Mark our source trees as safe for git to use as other users,MERGED,2022-04-13 16:46:05.000000000,2022-04-20 05:44:06.000000000,2022-04-20 05:42:40.000000000,"[{'_account_id': 4146}, {'_account_id': 4393}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-13 16:46:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/400139ee43c6e0198fa485a16ceccc6a7a02246a', 'message': 'Mark our source trees as safe for git to use as other users\n\ngit commit [1] introduced a new behaviour to work around a CVE that\ndisallows any git operations in directories not owned by the current\nuser.\n\nThis may seem unrelated to installation, but it plays havoc with PBR,\nwhich calls out to git to get to get revision history.  So if you are\n""pip install""-ing from a source tree you don\'t own, the PBR git calls\nin that tree now fail and the install blows up.\n\nThis plays havoc with our model.  Firstly, we checkout all code as\n""stack"" then install it globally with ""sudo"" (i.e. root) -- which\nbreaks.  We also have cases of essentially the opposite -- checkouts\nwe have installed as root, but then run tox in them as a regular user;\ntox wants to install the source in its venv but now we have another\nuser conflict.\n\nThis uses the only available configuration option to avoid that by\nglobally setting the source directories we clone as safe.  This is an\nencroachment of the global system for sure, but is about the only\nswitch available at the moment.  For discussion of other approaches,\nsee [2].\n\nRelated-Bug: https://bugs.launchpad.net/devstack/+bug/1968798\n\n[1] https://github.com/git/git/commit/8959555cee7ec045958f9b6dd62e541affb7e7d9\n[2] https://review.opendev.org/c/openstack/devstack/+/837636\n\nChange-Id: Ib9896a99b6d6c4d359ee412743ce30512b3c4fb7\n(cherry picked from commit 676dcaf94487665882be048cfe1f3206d6807e0f)\n'}, {'number': 2, 'created': '2022-04-19 16:37:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/3a9c26bedb3f8ae0393e8695d5a42fa733fb920b', 'message': 'Mark our source trees as safe for git to use as other users\n\ngit commit [1] introduced a new behaviour to work around a CVE that\ndisallows any git operations in directories not owned by the current\nuser.\n\nThis may seem unrelated to installation, but it plays havoc with PBR,\nwhich calls out to git to get to get revision history.  So if you are\n""pip install""-ing from a source tree you don\'t own, the PBR git calls\nin that tree now fail and the install blows up.\n\nThis plays havoc with our model.  Firstly, we checkout all code as\n""stack"" then install it globally with ""sudo"" (i.e. root) -- which\nbreaks.  We also have cases of essentially the opposite -- checkouts\nwe have installed as root, but then run tox in them as a regular user;\ntox wants to install the source in its venv but now we have another\nuser conflict.\n\nThis uses the only available configuration option to avoid that by\nglobally setting the source directories we clone as safe.  This is an\nencroachment of the global system for sure, but is about the only\nswitch available at the moment.  For discussion of other approaches,\nsee [2].\n\nRelated-Bug: https://bugs.launchpad.net/devstack/+bug/1968798\n\n[1] https://github.com/git/git/commit/8959555cee7ec045958f9b6dd62e541affb7e7d9\n[2] https://review.opendev.org/c/openstack/devstack/+/837636\n\nNote: this backport does not include the removal of grenade jobs\nin .zuul.yaml that was added in the stable/victoria patch because\nthose jobs had already been removed in ussuri.\n\nChange-Id: Ib9896a99b6d6c4d359ee412743ce30512b3c4fb7\n(cherry picked from commit 676dcaf94487665882be048cfe1f3206d6807e0f)\n(cherry picked from commit 9c399a865d1bf2e47221ff286b493628edd7ef52)\n'}, {'number': 3, 'created': '2022-04-19 16:45:07.000000000', 'files': ['functions-common', 'unstack.sh'], 'web_link': 'https://opendev.org/openstack/devstack/commit/a9852abfc5ed7c3faf6a667bdd29a2d6e49bc150', 'message': 'Mark our source trees as safe for git to use as other users\n\ngit commit [1] introduced a new behaviour to work around a CVE that\ndisallows any git operations in directories not owned by the current\nuser.\n\nThis may seem unrelated to installation, but it plays havoc with PBR,\nwhich calls out to git to get to get revision history.  So if you are\n""pip install""-ing from a source tree you don\'t own, the PBR git calls\nin that tree now fail and the install blows up.\n\nThis plays havoc with our model.  Firstly, we checkout all code as\n""stack"" then install it globally with ""sudo"" (i.e. root) -- which\nbreaks.  We also have cases of essentially the opposite -- checkouts\nwe have installed as root, but then run tox in them as a regular user;\ntox wants to install the source in its venv but now we have another\nuser conflict.\n\nThis uses the only available configuration option to avoid that by\nglobally setting the source directories we clone as safe.  This is an\nencroachment of the global system for sure, but is about the only\nswitch available at the moment.  For discussion of other approaches,\nsee [2].\n\nAlso, squashing the below backport which is needed for bionic\n- https://review.opendev.org/q/I941ef5ea90970a0901236afe81c551aaf24ac1d8\n\nRelated-Bug: https://bugs.launchpad.net/devstack/+bug/1968798\n\n[1] https://github.com/git/git/commit/8959555cee7ec045958f9b6dd62e541affb7e7d9\n[2] https://review.opendev.org/c/openstack/devstack/+/837636\n\nChange-Id: Ib9896a99b6d6c4d359ee412743ce30512b3c4fb7\n(cherry picked from commit 676dcaf94487665882be048cfe1f3206d6807e0f)\n'}]",10,837749,a9852abfc5ed7c3faf6a667bdd29a2d6e49bc150,30,4,3,4146,,,0,"Mark our source trees as safe for git to use as other users

git commit [1] introduced a new behaviour to work around a CVE that
disallows any git operations in directories not owned by the current
user.

This may seem unrelated to installation, but it plays havoc with PBR,
which calls out to git to get to get revision history.  So if you are
""pip install""-ing from a source tree you don't own, the PBR git calls
in that tree now fail and the install blows up.

This plays havoc with our model.  Firstly, we checkout all code as
""stack"" then install it globally with ""sudo"" (i.e. root) -- which
breaks.  We also have cases of essentially the opposite -- checkouts
we have installed as root, but then run tox in them as a regular user;
tox wants to install the source in its venv but now we have another
user conflict.

This uses the only available configuration option to avoid that by
globally setting the source directories we clone as safe.  This is an
encroachment of the global system for sure, but is about the only
switch available at the moment.  For discussion of other approaches,
see [2].

Also, squashing the below backport which is needed for bionic
- https://review.opendev.org/q/I941ef5ea90970a0901236afe81c551aaf24ac1d8

Related-Bug: https://bugs.launchpad.net/devstack/+bug/1968798

[1] https://github.com/git/git/commit/8959555cee7ec045958f9b6dd62e541affb7e7d9
[2] https://review.opendev.org/c/openstack/devstack/+/837636

Change-Id: Ib9896a99b6d6c4d359ee412743ce30512b3c4fb7
(cherry picked from commit 676dcaf94487665882be048cfe1f3206d6807e0f)
",git fetch https://review.opendev.org/openstack/devstack refs/changes/49/837749/2 && git format-patch -1 --stdout FETCH_HEAD,['functions-common'],1,400139ee43c6e0198fa485a16ceccc6a7a02246a,bug/1968798, # NOTE(ianw) 2022-04-13 : commit [1] has broken many assumptions # about how we clone and work with repos. Mark them safe globally # as a work-around. # # [1] https://github.com/git/git/commit/8959555cee7ec045958f9b6dd62e541affb7e7d9 sudo git config --global --add safe.directory ${git_dest} ,,7,0
openstack%2Fopenstack-helm~master~Id4871590680a95527c58b8e90d5cab7479a43257,openstack/openstack-helm,master,Id4871590680a95527c58b8e90d5cab7479a43257,fix: update date,MERGED,2022-04-20 05:07:40.000000000,2022-04-20 05:31:36.000000000,2022-04-20 05:29:57.000000000,"[{'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-20 05:07:40.000000000', 'files': ['doc/source/conf.py'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/14cfdaf0749f0b0fabab7a518b722cfe21a72cd9', 'message': 'fix: update date\n\nIt is now 2022 and the copyright date should reflect that.\n\nSigned-off-by: Tin Lam <tin@irrational.io>\nChange-Id: Id4871590680a95527c58b8e90d5cab7479a43257\n'}]",1,838632,14cfdaf0749f0b0fabab7a518b722cfe21a72cd9,7,3,1,33519,,,0,"fix: update date

It is now 2022 and the copyright date should reflect that.

Signed-off-by: Tin Lam <tin@irrational.io>
Change-Id: Id4871590680a95527c58b8e90d5cab7479a43257
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/32/838632/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/conf.py'],1,14cfdaf0749f0b0fabab7a518b722cfe21a72cd9,update-date,"copyright = '2016-2022, OpenStack Foundation'","copyright = '2016-2021, OpenStack Foundation'",1,1
openstack%2Ftripleo-puppet-elements~master~I5109aee250f61db9cddfa41104ecf32385a4c99f,openstack/tripleo-puppet-elements,master,I5109aee250f61db9cddfa41104ecf32385a4c99f,Remove unused elements,ABANDONED,2022-04-20 01:27:37.000000000,2022-04-20 05:20:57.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-04-20 01:27:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-puppet-elements/commit/64ad69856f5a8fd4be3769aa282992405f669b29', 'message': 'Remove unused elements\n\nChange-Id: I5109aee250f61db9cddfa41104ecf32385a4c99f\n'}, {'number': 2, 'created': '2022-04-20 05:20:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-puppet-elements/commit/8b44ce3d1b18b07124bc3e866784636fd267e9ee', 'message': 'Remove unused elements\n\nChange-Id: I5109aee250f61db9cddfa41104ecf32385a4c99f\n'}]",0,838618,8b44ce3d1b18b07124bc3e866784636fd267e9ee,5,2,2,4571,,,0,"Remove unused elements

Change-Id: I5109aee250f61db9cddfa41104ecf32385a4c99f
",git fetch https://review.opendev.org/openstack/tripleo-puppet-elements refs/changes/18/838618/2 && git format-patch -1 --stdout FETCH_HEAD,"['elements/remove-resolvconf/cleanup.d/90-remove-resolvconf', 'elements/overcloud-network-midonet/extra-data.d/curator', 'elements/overcloud-network-midonet/install.d/74-rubygems', 'elements/overcloud-network-midonet/extra-data.d/60-create-midonet-repositories', 'elements/overcloud-network-midonet/environment.d/02-midonet-envs.bash', 'elements/overcloud-network-midonet/extra-data.d/midonet-mem', 'elements/overcloud-network-midonet/extra-data.d/datastax', 'elements/remove-resolvconf/README.md', 'elements/overcloud-network-midonet/extra-data.d/logstash', 'elements/overcloud-network-midonet/pkg-map', 'elements/overcloud-network-midonet/install.d/76-overcloud-network-midonet-source', 'elements/overcloud-network-midonet/extra-data.d/midonet-oss', 'elements/overcloud-contrail-controller/README.md', 'elements/overcloud-network-midonet/install.d/package-installs-overcloud-network-midonet', 'elements/overcloud-network-midonet/README.md', 'elements/overcloud-contrail-controller/pkg-map', 'elements/overcloud-network-midonet/element-deps', 'elements/overcloud-network-midonet/install.d/00-midonet-manager', 'elements/overcloud-contrail-controller/element-deps', 'elements/overcloud-network-midonet/source-repository-overcloud-network-midonet', 'elements/overcloud-network-midonet/extra-data.d/elasticsearch', 'elements/overcloud-contrail-controller/install.d/package-installs-overcloud-contrail-controller', 'elements/overcloud-network-midonet/extra-data.d/vbernat-llpd']",23,64ad69856f5a8fd4be3769aa282992405f669b29,image-refactor,,[vbernat-lldpd] name=vbernat-lldpd baseurl=http://download.opensuse.org/repositories/home:/vbernat/RHEL_7/ enabled=1 gpgcheck=1 gpgkey=http://download.opensuse.org/repositories/home:/vbernat/RHEL_7/repodata/repomd.xml.key ,0,328
openstack%2Fcharm-ceph-mon~stable%2Fquincy~I3e6af857a0d3a2953754b353dc5f38ebf4a574ee,openstack/charm-ceph-mon,stable/quincy,I3e6af857a0d3a2953754b353dc5f38ebf4a574ee,Updates for stable branch creation,MERGED,2022-04-14 17:04:31.000000000,2022-04-20 05:07:14.000000000,2022-04-20 05:07:14.000000000,"[{'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-14 17:04:31.000000000', 'files': ['.gitreview', 'test-requirements.txt', 'charm-helpers-hooks.yaml'], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/2dc923d62b82fa28a7e2829d6021e4222638ddd9', 'message': 'Updates for stable branch creation\n\n- Set default branch for git review/gerrit.\n- Switch tests to stable.\n- Switch to using stable charm-helpers branch.\n- Switch to using stable charm.openstack branch.\n- Switch to using stable zaza, zaza-openstack-tests\n  branch\n- (reactive charms) Add build.lock file\n\nChange-Id: I3e6af857a0d3a2953754b353dc5f38ebf4a574ee\n'}]",4,837965,2dc923d62b82fa28a7e2829d6021e4222638ddd9,15,3,1,20870,,,0,"Updates for stable branch creation

- Set default branch for git review/gerrit.
- Switch tests to stable.
- Switch to using stable charm-helpers branch.
- Switch to using stable charm.openstack branch.
- Switch to using stable zaza, zaza-openstack-tests
  branch
- (reactive charms) Add build.lock file

Change-Id: I3e6af857a0d3a2953754b353dc5f38ebf4a574ee
",git fetch https://review.opendev.org/openstack/charm-ceph-mon refs/changes/65/837965/1 && git format-patch -1 --stdout FETCH_HEAD,"['.gitreview', 'test-requirements.txt', 'charm-helpers-hooks.yaml']",3,2dc923d62b82fa28a7e2829d6021e4222638ddd9,charm-release-2204,repo: https://github.com/juju/charm-helpers@stable/yoga,repo: https://github.com/juju/charm-helpers,5,4
openstack%2Fswift~stable%2Fvictoria~I05aa09064c39517ea80476856412f1b659061b49,openstack/swift,stable/victoria,I05aa09064c39517ea80476856412f1b659061b49,unit test S3 SigV4Request X-Amz-Content-SHA256 handling,ABANDONED,2022-04-19 18:52:52.000000000,2022-04-20 04:29:38.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-04-19 18:52:52.000000000', 'files': ['test/unit/common/middleware/s3api/test_s3request.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/fe99a19129ac2ce9087debca3b6ab5b1ffda70c0', 'message': 'unit test S3 SigV4Request X-Amz-Content-SHA256 handling\n\nAdd unit test to verify that upper case UNSIGNED-PAYLOAD is\npreserved in canonical request.\n\nAdd unit test to verify checking of X-Amz-Content-SHA256 for\nzero content-length requests.\n\nChange-Id: I05aa09064c39517ea80476856412f1b659061b49\n(cherry picked from commit a914343830142522cb7e8df75322459c7b049b65)\n'}]",0,838577,fe99a19129ac2ce9087debca3b6ab5b1ffda70c0,3,1,1,15343,,,0,"unit test S3 SigV4Request X-Amz-Content-SHA256 handling

Add unit test to verify that upper case UNSIGNED-PAYLOAD is
preserved in canonical request.

Add unit test to verify checking of X-Amz-Content-SHA256 for
zero content-length requests.

Change-Id: I05aa09064c39517ea80476856412f1b659061b49
(cherry picked from commit a914343830142522cb7e8df75322459c7b049b65)
",git fetch https://review.opendev.org/openstack/swift refs/changes/77/838577/1 && git format-patch -1 --stdout FETCH_HEAD,['test/unit/common/middleware/s3api/test_s3request.py'],1,fe99a19129ac2ce9087debca3b6ab5b1ffda70c0,," AccessDenied, SignatureDoesNotMatch, RequestTimeTooSkewed, BadDigest @patch.object(S3Request, '_validate_dates', lambda *a: None) def test_check_signature_sigv4_unsigned_payload(self): environ = { 'HTTP_HOST': 'bucket.s3.test.com', 'REQUEST_METHOD': 'GET'} headers = { 'Authorization': 'AWS4-HMAC-SHA256 ' 'Credential=test/20210104/us-east-1/s3/aws4_request, ' 'SignedHeaders=host;x-amz-content-sha256;x-amz-date,' 'Signature=f721a7941d5b7710344bc62cc45f87e66f4bb1dd00d9075ee61' '5b1a5c72b0f8c', 'X-Amz-Content-SHA256': 'UNSIGNED-PAYLOAD', 'Date': 'Mon, 04 Jan 2021 10:26:23 -0000', 'X-Amz-Date': '20210104T102623Z'} # Virtual hosted-style self.conf.storage_domain = 's3.test.com' req = Request.blank('/', environ=environ, headers=headers) sigv4_req = SigV4Request(req.environ) self.assertTrue( sigv4_req._canonical_request().endswith(b'UNSIGNED-PAYLOAD')) self.assertTrue(sigv4_req.check_signature('secret')) @patch.object(S3Request, '_validate_dates', lambda *a: None) def test_check_sigv4_req_zero_content_length_sha256(self): # Virtual hosted-style self.conf.storage_domain = 's3.test.com' # bad sha256 environ = { 'HTTP_HOST': 'bucket.s3.test.com', 'REQUEST_METHOD': 'GET'} headers = { 'Authorization': 'AWS4-HMAC-SHA256 ' 'Credential=test/20210104/us-east-1/s3/aws4_request, ' 'SignedHeaders=host;x-amz-content-sha256;x-amz-date,' 'Signature=f721a7941d5b7710344bc62cc45f87e66f4bb1dd00d9075ee61' '5b1a5c72b0f8c', 'X-Amz-Content-SHA256': 'bad', 'Date': 'Mon, 04 Jan 2021 10:26:23 -0000', 'X-Amz-Date': '20210104T102623Z', 'Content-Length': 0, } # lowercase sha256 req = Request.blank('/', environ=environ, headers=headers) self.assertRaises(BadDigest, SigV4Request, req.environ) sha256_of_nothing = hashlib.sha256().hexdigest().encode('ascii') headers = { 'Authorization': 'AWS4-HMAC-SHA256 ' 'Credential=test/20210104/us-east-1/s3/aws4_request, ' 'SignedHeaders=host;x-amz-content-sha256;x-amz-date,' 'Signature=d90542e8b4c0d2f803162040a948e8e51db00b62a59ffb16682' 'ef433718fde12', 'X-Amz-Content-SHA256': sha256_of_nothing, 'Date': 'Mon, 04 Jan 2021 10:26:23 -0000', 'X-Amz-Date': '20210104T102623Z', 'Content-Length': 0, } req = Request.blank('/', environ=environ, headers=headers) sigv4_req = SigV4Request(req.environ) self.assertTrue( sigv4_req._canonical_request().endswith(sha256_of_nothing)) self.assertTrue(sigv4_req.check_signature('secret')) # uppercase sha256 headers = { 'Authorization': 'AWS4-HMAC-SHA256 ' 'Credential=test/20210104/us-east-1/s3/aws4_request, ' 'SignedHeaders=host;x-amz-content-sha256;x-amz-date,' 'Signature=4aab5102e58e9e40f331417d322465c24cac68a7ce77260e9bf' '5ce9a6200862b', 'X-Amz-Content-SHA256': sha256_of_nothing.upper(), 'Date': 'Mon, 04 Jan 2021 10:26:23 -0000', 'X-Amz-Date': '20210104T102623Z', 'Content-Length': 0, } req = Request.blank('/', environ=environ, headers=headers) sigv4_req = SigV4Request(req.environ) self.assertTrue( sigv4_req._canonical_request().endswith(sha256_of_nothing.upper())) self.assertTrue(sigv4_req.check_signature('secret')) "," AccessDenied, SignatureDoesNotMatch, RequestTimeTooSkewed",88,1
openstack%2Fswift~stable%2Fvictoria~I746d8e641c884ccd7838082ff07f958ee101de18,openstack/swift,stable/victoria,I746d8e641c884ccd7838082ff07f958ee101de18,s3api: Make UNSIGNED-PAYLOAD requests work again,ABANDONED,2022-04-19 18:52:52.000000000,2022-04-20 04:29:34.000000000,,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-19 18:52:52.000000000', 'files': ['test/unit/common/middleware/s3api/test_obj.py', 'swift/common/middleware/s3api/s3request.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/dc9e62eb97ace946ce3634fd76002a7395c87cf5', 'message': ""s3api: Make UNSIGNED-PAYLOAD requests work again\n\nPreviously, we unconditionally lower-cased the client-provided\nX-Amz-Content-SHA256 header, which led to SignatureDoesNotMatch errors\nsince the client and server didn't agree on the canonical request.\n\nNow, only lower-case the value when making comparisons; leave it alone\nfor signature-calculation purposes.\n\nChange-Id: I746d8e641c884ccd7838082ff07f958ee101de18\nRelated-Change: I3d6e2e4542a5ed03a6d31ec0ef4837d1de30a045\nCloses-Bug: #1910827\n(cherry picked from commit 09a2f93933d42342be3ee33096c4dea28b2a29f7)\n""}]",1,838576,dc9e62eb97ace946ce3634fd76002a7395c87cf5,4,2,1,15343,,,0,"s3api: Make UNSIGNED-PAYLOAD requests work again

Previously, we unconditionally lower-cased the client-provided
X-Amz-Content-SHA256 header, which led to SignatureDoesNotMatch errors
since the client and server didn't agree on the canonical request.

Now, only lower-case the value when making comparisons; leave it alone
for signature-calculation purposes.

Change-Id: I746d8e641c884ccd7838082ff07f958ee101de18
Related-Change: I3d6e2e4542a5ed03a6d31ec0ef4837d1de30a045
Closes-Bug: #1910827
(cherry picked from commit 09a2f93933d42342be3ee33096c4dea28b2a29f7)
",git fetch https://review.opendev.org/openstack/swift refs/changes/76/838576/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/common/middleware/s3api/test_obj.py', 'swift/common/middleware/s3api/s3request.py']",2,dc9e62eb97ace946ce3634fd76002a7395c87cf5,, if hashed_payload.lower() != sha256().hexdigest(): hashed_payload.lower()), if hashed_payload != sha256().hexdigest(): hashed_payload),5,2
openstack%2Fswift~stable%2Fqueens~I56f10d8e25e57da59f3da57fe797f615433d70a7,openstack/swift,stable/queens,I56f10d8e25e57da59f3da57fe797f615433d70a7,Fix docs-building on old stable branches,MERGED,2022-04-19 20:47:21.000000000,2022-04-20 04:16:20.000000000,2022-04-20 04:16:20.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-19 20:47:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/4be0df03655780438ede458cbb39c90c9ac98a62', 'message': '(Hopefully) fix docs-building on old stable branches\n\nFor a while now, the nightly job has bombed out with something like\n\n   Warning, treated as error:\n   .../swift/doc/source/middleware.rst:268: (WARNING/2) autodoc: failed to import module\n   \'swift.common.middleware.xprofile\'; the following exception was raised:\n   Traceback (most recent call last):\n     File "".../python3.5/site-packages/sphinx/ext/autodoc.py"", line 657, in import_object\n       __import__(self.modname)\n     File "".../python3.5/site-packages/swift/common/middleware/xprofile.py"", line 82, in <module>\n       import eventlet.green.profile as eprofile\n     File "".../python3.5/site-packages/eventlet/green/profile.py"", line 45, in <module>\n       thread = patcher.original(\'thread\')  # non-monkeypatched module needed\n     File "".../python3.5/site-packages/eventlet/patcher.py"", line 194, in original\n       real_mod = __import__(modname, {}, {}, modname.split(\'.\')[:-1])\n   ImportError: No module named \'thread\'\n\nNot sure why we\'re running under py35 (the job definition calls out\n`sphinx_python: python2`), but that\'s the crux of the issue -- neither\nus nor our dependencies support py3 that far back, so having eventlet\nconstrained to 0.20.0 on stable/pike and stable/queens is setting us up\nfor failure.\n\nOn the plus side, it\'s just docs! We don\'t really *need* this import to\nbuild docs, so catch the ImportError and call it None.\n\nChange-Id: I56f10d8e25e57da59f3da57fe797f615433d70a7\n'}, {'number': 2, 'created': '2022-04-19 21:14:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/4755ffcca349e6efe749b9fe510b0ecc9d455ca9', 'message': '(Hopefully) fix docs-building on old stable branches\n\nFor a while now, the nightly job has bombed out with something like\n\n   Warning, treated as error:\n   .../swift/doc/source/middleware.rst:268: (WARNING/2) autodoc: failed to import module\n   \'swift.common.middleware.xprofile\'; the following exception was raised:\n   Traceback (most recent call last):\n     File "".../python3.5/site-packages/sphinx/ext/autodoc.py"", line 657, in import_object\n       __import__(self.modname)\n     File "".../python3.5/site-packages/swift/common/middleware/xprofile.py"", line 82, in <module>\n       import eventlet.green.profile as eprofile\n     File "".../python3.5/site-packages/eventlet/green/profile.py"", line 45, in <module>\n       thread = patcher.original(\'thread\')  # non-monkeypatched module needed\n     File "".../python3.5/site-packages/eventlet/patcher.py"", line 194, in original\n       real_mod = __import__(modname, {}, {}, modname.split(\'.\')[:-1])\n   ImportError: No module named \'thread\'\n\nNot sure why we\'re running under py35 (the job definition calls out\n`sphinx_python: python2`), but that\'s the crux of the issue -- neither\nus nor our dependencies support py3 that far back, so having eventlet\nconstrained to 0.20.0 on stable/pike and stable/queens is setting us up\nfor failure.\n\nOn the plus side, it\'s just docs! We don\'t really *need* this import to\nbuild docs, so catch the ImportError and call it None.\n\nAfter that, also need to fix some import for xprofile.\n\nRelated-Change: Ie8d28218b974a1b6b7b7b691f786ff1d6bdded05\nChange-Id: I56f10d8e25e57da59f3da57fe797f615433d70a7\n'}, {'number': 3, 'created': '2022-04-20 00:00:49.000000000', 'files': ['swift/common/middleware/xprofile.py', 'swift/common/middleware/x_profile/html_viewer.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/4349546f3f154ea759b540a3c2f01cd414931883', 'message': 'Fix docs-building on old stable branches\n\nFor a while now, the nightly job has bombed out with something like\n\n   Warning, treated as error:\n   .../swift/doc/source/middleware.rst:268: (WARNING/2) autodoc: failed to import module\n   \'swift.common.middleware.xprofile\'; the following exception was raised:\n   Traceback (most recent call last):\n     File "".../python3.5/site-packages/sphinx/ext/autodoc.py"", line 657, in import_object\n       __import__(self.modname)\n     File "".../python3.5/site-packages/swift/common/middleware/xprofile.py"", line 82, in <module>\n       import eventlet.green.profile as eprofile\n     File "".../python3.5/site-packages/eventlet/green/profile.py"", line 45, in <module>\n       thread = patcher.original(\'thread\')  # non-monkeypatched module needed\n     File "".../python3.5/site-packages/eventlet/patcher.py"", line 194, in original\n       real_mod = __import__(modname, {}, {}, modname.split(\'.\')[:-1])\n   ImportError: No module named \'thread\'\n\nNot sure why we\'re running under py35 (the job definition calls out\n`sphinx_python: python2`), but that\'s the crux of the issue -- neither\nus nor our dependencies support py3 that far back, so having eventlet\nconstrained to 0.20.0 on stable/pike and stable/queens is setting us up\nfor failure.\n\nOn the plus side, it\'s just docs! We don\'t really *need* this import to\nbuild docs, so catch the ImportError and call it None.\n\nAfter that, also need to fix some import for xprofile.\n\nRelated-Change: Ie8d28218b974a1b6b7b7b691f786ff1d6bdded05\nChange-Id: I56f10d8e25e57da59f3da57fe797f615433d70a7\n'}]",0,838596,4349546f3f154ea759b540a3c2f01cd414931883,9,2,3,15343,,,0,"Fix docs-building on old stable branches

For a while now, the nightly job has bombed out with something like

   Warning, treated as error:
   .../swift/doc/source/middleware.rst:268: (WARNING/2) autodoc: failed to import module
   'swift.common.middleware.xprofile'; the following exception was raised:
   Traceback (most recent call last):
     File "".../python3.5/site-packages/sphinx/ext/autodoc.py"", line 657, in import_object
       __import__(self.modname)
     File "".../python3.5/site-packages/swift/common/middleware/xprofile.py"", line 82, in <module>
       import eventlet.green.profile as eprofile
     File "".../python3.5/site-packages/eventlet/green/profile.py"", line 45, in <module>
       thread = patcher.original('thread')  # non-monkeypatched module needed
     File "".../python3.5/site-packages/eventlet/patcher.py"", line 194, in original
       real_mod = __import__(modname, {}, {}, modname.split('.')[:-1])
   ImportError: No module named 'thread'

Not sure why we're running under py35 (the job definition calls out
`sphinx_python: python2`), but that's the crux of the issue -- neither
us nor our dependencies support py3 that far back, so having eventlet
constrained to 0.20.0 on stable/pike and stable/queens is setting us up
for failure.

On the plus side, it's just docs! We don't really *need* this import to
build docs, so catch the ImportError and call it None.

After that, also need to fix some import for xprofile.

Related-Change: Ie8d28218b974a1b6b7b7b691f786ff1d6bdded05
Change-Id: I56f10d8e25e57da59f3da57fe797f615433d70a7
",git fetch https://review.opendev.org/openstack/swift refs/changes/96/838596/1 && git format-patch -1 --stdout FETCH_HEAD,['swift/common/middleware/xprofile.py'],1,4be0df03655780438ede458cbb39c90c9ac98a62,,try: import eventlet.green.profile as eprofile except ImportError: # This is specifically for docs-building on old stable branches which have # eventlet constrained to a version that doesn't include # https://github.com/eventlet/eventlet/commit/f81b135a eprofile = None,import eventlet.green.profile as eprofile,7,1
openstack%2Fswift~stable%2Frocky~I56f10d8e25e57da59f3da57fe797f615433d70a7,openstack/swift,stable/rocky,I56f10d8e25e57da59f3da57fe797f615433d70a7,Fix docs-building on old stable branches,MERGED,2022-04-19 23:58:29.000000000,2022-04-20 04:16:17.000000000,2022-04-20 04:16:17.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-19 23:58:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/9bf477c6df5733ecedd6773cbbb1df46982ace34', 'message': 'Fix docs-building on old stable branches\n\nNot sure why, but the docs build is running under py35 (even though we\nask in multiple places for it to run under py27).\n\nMostly just need to fix some imports for xprofile.\n\nRelated-Change: Ie8d28218b974a1b6b7b7b691f786ff1d6bdded05\n\nPick up another commit, as well, as s3api uses a funky removed-in-py3 mixin:\n\n==========\n\nPy3: Use collections.MutableMapping rather than UserDict.DictMixin\n\nTaken from https://docs.python.org/2/library/userdict.html#UserDict.DictMixin:\n\n""Starting with Python version 2.6, it is recommended to use\ncollections.MutableMapping instead of DictMixin.""\n\nRelated-Change: Idb67010de835dc2dbcbf87c40def934568a0dcf5\n(cherry picked from commit c3cbe69da893b6c72da6d7630a5cb7b7da2cc29b)\n\n==========\n\nChange-Id: I56f10d8e25e57da59f3da57fe797f615433d70a7\n'}, {'number': 2, 'created': '2022-04-19 23:59:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/1dfd56316d3de9cdc748617eb91eba4a73aa1e1f', 'message': 'Fix docs-building on old stable branches\n\nNot sure why, but the docs build is running under py35 (even though we\nask in multiple places for it to run under py27).\n\nMostly just need to fix some imports for xprofile.\n\nRelated-Change: Ie8d28218b974a1b6b7b7b691f786ff1d6bdded05\n\nPick up another commit, as well, as s3api uses a funky removed-in-py3 mixin:\n\n==========\n\nPy3: Use collections.MutableMapping rather than UserDict.DictMixin\n\nTaken from https://docs.python.org/2/library/userdict.html#UserDict.DictMixin:\n\n""Starting with Python version 2.6, it is recommended to use\ncollections.MutableMapping instead of DictMixin.""\n\nRelated-Change: Idb67010de835dc2dbcbf87c40def934568a0dcf5\n(cherry picked from commit c3cbe69da893b6c72da6d7630a5cb7b7da2cc29b)\n\n==========\n\nChange-Id: I56f10d8e25e57da59f3da57fe797f615433d70a7\n'}, {'number': 3, 'created': '2022-04-20 00:25:50.000000000', 'files': ['swift/common/middleware/s3api/controllers/s3_acl.py', 'swift/common/middleware/xprofile.py', 'swift/common/middleware/s3api/s3response.py', 'swift/common/middleware/x_profile/html_viewer.py', 'swift/common/bufferedhttp.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/76dd373a3dd3d32b7bf8ae65f920c51a1f117ffd', 'message': 'Fix docs-building on old stable branches\n\nNot sure why, but the docs build is running under py35 (even though we\nask in multiple places for it to run under py27).\n\nMostly just need to fix some imports for xprofile.\n\nRelated-Change: Ie8d28218b974a1b6b7b7b691f786ff1d6bdded05\n\nThere\'s also something stupid about ""unexpected indent"" from an upstream\ncpython docstring.\n\nRelated-Change: I2a354e2624c763a68fcea7a6404e9c2fde30d631\n\nPick up another commit, as well, as s3api uses a funky removed-in-py3 mixin:\n\n==========\n\nPy3: Use collections.MutableMapping rather than UserDict.DictMixin\n\nTaken from https://docs.python.org/2/library/userdict.html#UserDict.DictMixin:\n\n""Starting with Python version 2.6, it is recommended to use\ncollections.MutableMapping instead of DictMixin.""\n\nRelated-Change: Idb67010de835dc2dbcbf87c40def934568a0dcf5\n(cherry picked from commit c3cbe69da893b6c72da6d7630a5cb7b7da2cc29b)\n\n==========\n\nChange-Id: I56f10d8e25e57da59f3da57fe797f615433d70a7\n'}]",0,838612,76dd373a3dd3d32b7bf8ae65f920c51a1f117ffd,8,2,3,15343,,,0,"Fix docs-building on old stable branches

Not sure why, but the docs build is running under py35 (even though we
ask in multiple places for it to run under py27).

Mostly just need to fix some imports for xprofile.

Related-Change: Ie8d28218b974a1b6b7b7b691f786ff1d6bdded05

There's also something stupid about ""unexpected indent"" from an upstream
cpython docstring.

Related-Change: I2a354e2624c763a68fcea7a6404e9c2fde30d631

Pick up another commit, as well, as s3api uses a funky removed-in-py3 mixin:

==========

Py3: Use collections.MutableMapping rather than UserDict.DictMixin

Taken from https://docs.python.org/2/library/userdict.html#UserDict.DictMixin:

""Starting with Python version 2.6, it is recommended to use
collections.MutableMapping instead of DictMixin.""

Related-Change: Idb67010de835dc2dbcbf87c40def934568a0dcf5
(cherry picked from commit c3cbe69da893b6c72da6d7630a5cb7b7da2cc29b)

==========

Change-Id: I56f10d8e25e57da59f3da57fe797f615433d70a7
",git fetch https://review.opendev.org/openstack/swift refs/changes/12/838612/2 && git format-patch -1 --stdout FETCH_HEAD,"['swift/common/middleware/s3api/controllers/s3_acl.py', 'swift/common/middleware/xprofile.py', 'swift/common/middleware/s3api/s3response.py', 'swift/common/middleware/x_profile/html_viewer.py']",4,9bf477c6df5733ecedd6773cbbb1df46982ace34,,"from swift.common.middleware.x_profile.exceptions import PLOTLIBNotInstalled,\ ODFLIBNotInstalled, NotFoundException, MethodNotAllowed, DataLoadFailure,\ ProfileException from swift.common.middleware.x_profile.profile_model import Stats2","from exceptions import PLOTLIBNotInstalled, ODFLIBNotInstalled,\ NotFoundException, MethodNotAllowed, DataLoadFailure, ProfileException from profile_model import Stats2",22,12
openstack%2Fswift~master~I7eed34ab19a97b2c561e4aac8c95a8a5e1689266,openstack/swift,master,I7eed34ab19a97b2c561e4aac8c95a8a5e1689266,ceph tests: Register output/ceph-s3-summary.log as a job output,MERGED,2022-04-19 19:16:47.000000000,2022-04-20 04:08:33.000000000,2022-04-20 04:07:03.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-19 19:16:47.000000000', 'files': ['tools/playbooks/ceph-s3tests/post.yaml'], 'web_link': 'https://opendev.org/openstack/swift/commit/0bf5474bfa2f41a07e7e3d8c68419b9dbd0f816a', 'message': 'ceph tests: Register output/ceph-s3-summary.log as a job output\n\nChange-Id: I7eed34ab19a97b2c561e4aac8c95a8a5e1689266\n'}]",1,838582,0bf5474bfa2f41a07e7e3d8c68419b9dbd0f816a,11,2,1,15343,,,0,"ceph tests: Register output/ceph-s3-summary.log as a job output

Change-Id: I7eed34ab19a97b2c561e4aac8c95a8a5e1689266
",git fetch https://review.opendev.org/openstack/swift refs/changes/82/838582/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/playbooks/ceph-s3tests/post.yaml'],1,0bf5474bfa2f41a07e7e3d8c68419b9dbd0f816a,, - name: Check for s3-tests output summary stat: path: '{{ ansible_env.HOME }}/s3compat/output/ceph-s3-summary.log' register: s3_tests_output_summary - zuul_return: data: zuul: artifacts: - name: s3compat test summary url: output/ceph-s3-summary.log when: s3_tests_output_summary.stat.exists == true,,11,0
openstack%2Fswift~stable%2Fxena~Ibe514a7ab22d475517b1efc50de676f47d741a4c,openstack/swift,stable/xena,Ibe514a7ab22d475517b1efc50de676f47d741a4c,s3api: Use constant-time string comparisons in check_signature,MERGED,2022-04-19 18:45:29.000000000,2022-04-20 03:58:32.000000000,2022-04-20 03:55:59.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-19 18:45:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/7dc3d7c44763ea7f096dea05210a03c03ba83d3f', 'message': 's3api: Use constant-time string comparisons in check_signature\n\nChange-Id: Ibe514a7ab22d475517b1efc50de676f47d741a4c\n(cherry picked from commit 6142ce88cc71037ba0cd23113eb6082fa91346ac)\n'}, {'number': 2, 'created': '2022-04-20 00:16:43.000000000', 'files': ['.zuul.yaml', 'swift/common/middleware/s3api/s3request.py', 'test/unit/common/middleware/s3api/test_s3request.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/0fa745c7f94d60660d28fcbd5b085f8039c3c476', 'message': ""s3api: Use constant-time string comparisons in check_signature\n\nDisable rolling-upgrade job since the old tag doesn't constrain things\nwell enough to run on py2.\n\nChange-Id: Ibe514a7ab22d475517b1efc50de676f47d741a4c\n(cherry picked from commit 6142ce88cc71037ba0cd23113eb6082fa91346ac)\n""}]",0,838574,0fa745c7f94d60660d28fcbd5b085f8039c3c476,11,2,2,15343,,,0,"s3api: Use constant-time string comparisons in check_signature

Disable rolling-upgrade job since the old tag doesn't constrain things
well enough to run on py2.

Change-Id: Ibe514a7ab22d475517b1efc50de676f47d741a4c
(cherry picked from commit 6142ce88cc71037ba0cd23113eb6082fa91346ac)
",git fetch https://review.opendev.org/openstack/swift refs/changes/74/838574/1 && git format-patch -1 --stdout FETCH_HEAD,"['swift/common/middleware/s3api/s3request.py', 'test/unit/common/middleware/s3api/test_s3request.py']",2,7dc3d7c44763ea7f096dea05210a03c03ba83d3f,," with patch('swift.common.middleware.s3api.s3request.streq_const_time', return_value=True) as mock_eq: self.assertTrue(sigv2_req.check_signature(secret)) mock_eq.assert_called_once() with patch('swift.common.middleware.s3api.s3request.streq_const_time', return_value=False) as mock_eq: self.assertFalse(sigv4_req.check_signature( u'\u30c9\u30e9\u30b4\u30f3')) mock_eq.assert_called_once() ",,14,3
openstack%2Fpuppet-nova~master~Id2328d5e3273c62aa407392d9d02a7d3a2707a8c,openstack/puppet-nova,master,Id2328d5e3273c62aa407392d9d02a7d3a2707a8c,DNM: Run unit tests in CentOS 9,ABANDONED,2022-04-07 12:56:39.000000000,2022-04-20 03:52:56.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-04-07 12:56:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/a048e7ec9587a1a8bb68bc020d94c27bb0eab97b', 'message': 'DNM: Run unit tests in CentOS 9\n\nDepends-on: https://review.opendev.org/c/openstack/puppet-openstack-integration/+/836947\nChange-Id: Id2328d5e3273c62aa407392d9d02a7d3a2707a8c\n'}, {'number': 2, 'created': '2022-04-07 13:52:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/2e641abc716bce47eb875a8353a3e5002ca5593f', 'message': 'DNM: Run unit tests in CentOS 9\n\nDepends-on: https://review.opendev.org/836947\nDepends-on: https://review.opendev.org/836981\nChange-Id: Id2328d5e3273c62aa407392d9d02a7d3a2707a8c\n'}, {'number': 3, 'created': '2022-04-08 00:04:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/36dff6d916f3209f65cca0299db8bf35f79d71f1', 'message': 'DNM: Run unit tests in CentOS 9\n\nDepends-on: https://review.opendev.org/837046\nDepends-on: https://review.opendev.org/836981\nChange-Id: Id2328d5e3273c62aa407392d9d02a7d3a2707a8c\n'}, {'number': 4, 'created': '2022-04-08 05:49:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/eb8a848e401ea71b4c587b8dfaf800f73766d4e5', 'message': 'DNM: Run unit tests in CentOS 9\n\nDepends-on: https://review.opendev.org/836947\nDepends-on: https://review.opendev.org/836981\nChange-Id: Id2328d5e3273c62aa407392d9d02a7d3a2707a8c\n'}, {'number': 5, 'created': '2022-04-11 15:49:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/fed9142d6dc218da66df53571d27f551aedfc9b3', 'message': 'DNM: Run unit tests in CentOS 9\n\nDepends-on: https://review.opendev.org/836947\nDepends-on: https://review.opendev.org/837365\nChange-Id: Id2328d5e3273c62aa407392d9d02a7d3a2707a8c\n'}, {'number': 6, 'created': '2022-04-18 01:52:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/4650840c8ca880ba2efd18382d367f8bb688827d', 'message': 'DNM: Run unit tests in CentOS 9\n\nDepends-on: https://review.opendev.org/836947\nDepends-on: https://review.opendev.org/837365\nChange-Id: Id2328d5e3273c62aa407392d9d02a7d3a2707a8c\n'}, {'number': 7, 'created': '2022-04-18 01:55:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/85b76b314ff7d8f9a2c3b9efb1c284e5c06c048b', 'message': 'DNM: Run unit tests in CentOS 9\n\nDepends-on: https://review.opendev.org/836947\nChange-Id: Id2328d5e3273c62aa407392d9d02a7d3a2707a8c\n'}, {'number': 8, 'created': '2022-04-18 04:05:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/850c1de982eedd2ecf71383d9bf6711576973961', 'message': 'DNM: Run unit tests in CentOS 9\n\nDepends-on: https://review.opendev.org/836947\nDepends-on: https://review.opendev.org/838270\nChange-Id: Id2328d5e3273c62aa407392d9d02a7d3a2707a8c\n'}, {'number': 9, 'created': '2022-04-18 05:34:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/6e3dbe1a19da5d7745b41e20b5ace4fb7789424c', 'message': 'DNM: Run unit tests in CentOS 9\n\nDepedns-on: https://review.opendev.org/838272\nDepends-on: https://review.opendev.org/836947\nDepends-on: https://review.opendev.org/838270\nChange-Id: Id2328d5e3273c62aa407392d9d02a7d3a2707a8c\n'}, {'number': 10, 'created': '2022-04-18 11:15:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/6830409628e6711763226edd10ac9e34900b2672', 'message': 'DNM: Run unit tests in CentOS 9\n\nDepedns-on: https://review.opendev.org/c/openstack/puppet-openstack-integration/+/838272\nDepends-on: https://review.opendev.org/c/openstack/puppet-openstack-integration/+/836947\nDepends-on: https://review.opendev.org/c/openstack/puppet-openstack_spec_helper/+/838270\nDepends-on: https://review.opendev.org/c/openstack/puppet-openstack_spec_helper/+/838291\nChange-Id: Id2328d5e3273c62aa407392d9d02a7d3a2707a8c\n'}, {'number': 11, 'created': '2022-04-18 12:26:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/f5f0a2d7182230a3e6e6ac2b20a0c51bf78cfbc4', 'message': 'DNM: Run unit tests in CentOS 9\n\nDepedns-on: https://review.opendev.org/c/openstack/puppet-openstack-integration/+/838272\nDepends-on: https://review.opendev.org/c/openstack/puppet-openstack-integration/+/836947\nDepends-on: https://review.opendev.org/c/openstack/puppet-openstack_spec_helper/+/838270\nDepends-on: https://review.opendev.org/c/openstack/puppet-openstack-integration/+/838294\nDepends-on: https://review.opendev.org/c/openstack/puppet-openstack_spec_helper/+/838295\nChange-Id: Id2328d5e3273c62aa407392d9d02a7d3a2707a8c\n'}, {'number': 12, 'created': '2022-04-19 23:38:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/d024e8b3cce50643c15bc468d03a1ba84a4c2eca', 'message': 'DNM: Run unit tests in CentOS 9\n\nDepends-on: https://review.opendev.org/c/openstack/puppet-openstack-integration/+/836947\nDepends-on: https://review.opendev.org/c/openstack/puppet-openstack_spec_helper/+/838270\nDepends-on: https://review.opendev.org/c/openstack/puppet-openstack-integration/+/838294\nDepends-on: https://review.opendev.org/c/openstack/puppet-openstack_spec_helper/+/838295\nDepends-on: https://review.opendev.org/c/openstack/puppet-openstack_spec_helper/+/838609\nChange-Id: Id2328d5e3273c62aa407392d9d02a7d3a2707a8c\n'}, {'number': 13, 'created': '2022-04-20 01:08:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/521f4adcad9032919c20c2e1eee1beb62de510e8', 'message': 'DNM: Run unit tests in CentOS 9\n\nDepends-on: https://review.opendev.org/c/openstack/puppet-openstack-integration/+/836947\nDepends-on: https://review.opendev.org/c/openstack/puppet-openstack_spec_helper/+/838270\nDepends-on: https://review.opendev.org/c/openstack/puppet-openstack-integration/+/838294\nDepends-on: https://review.opendev.org/c/openstack/puppet-openstack_spec_helper/+/838295\nDepends-on: https://review.opendev.org/c/openstack/puppet-openstack_spec_helper/+/838616\nChange-Id: Id2328d5e3273c62aa407392d9d02a7d3a2707a8c\n'}, {'number': 14, 'created': '2022-04-20 02:16:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/2f07300abf1c393b494235a57c156d830c49f2a4', 'message': 'DNM: Run unit tests in CentOS 9\n\nDepends-on: https://review.opendev.org/c/openstack/puppet-openstack-integration/+/836947\nDepends-on: https://review.opendev.org/c/openstack/puppet-openstack_spec_helper/+/838616\nChange-Id: Id2328d5e3273c62aa407392d9d02a7d3a2707a8c\n'}, {'number': 15, 'created': '2022-04-20 02:58:37.000000000', 'files': ['spec/classes/nova_api_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/d768734ee4deb20e394d9dc85378c135543a3c3a', 'message': 'DNM: Run unit tests in CentOS 9\n\nDepends-on: https://review.opendev.org/c/openstack/puppet-openstack-integration/+/836947\nDepends-on: https://review.opendev.org/c/openstack/puppet-openstack_spec_helper/+/838616\nChange-Id: Id2328d5e3273c62aa407392d9d02a7d3a2707a8c\n'}]",2,836974,d768734ee4deb20e394d9dc85378c135543a3c3a,35,1,15,9816,,,0,"DNM: Run unit tests in CentOS 9

Depends-on: https://review.opendev.org/c/openstack/puppet-openstack-integration/+/836947
Depends-on: https://review.opendev.org/c/openstack/puppet-openstack_spec_helper/+/838616
Change-Id: Id2328d5e3273c62aa407392d9d02a7d3a2707a8c
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/74/836974/10 && git format-patch -1 --stdout FETCH_HEAD,['spec/classes/nova_api_spec.rb'],1,a048e7ec9587a1a8bb68bc020d94c27bb0eab97b,rdo-zed-c9s,,,1,0
openstack%2Fswift~stable%2Frocky~Idb67010de835dc2dbcbf87c40def934568a0dcf5,openstack/swift,stable/rocky,Idb67010de835dc2dbcbf87c40def934568a0dcf5,Py3: Use collections.MutableMapping rather than UserDict.DictMixin,ABANDONED,2022-04-19 20:58:35.000000000,2022-04-20 03:30:46.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-04-19 20:58:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/9b6ae489f5a2191d44ffce41bcfee2fe7fd40595', 'message': 'Py3: Use collections.MutableMapping rather than UserDict.DictMixin\n\nTaken from https://docs.python.org/2/library/userdict.html#UserDict.DictMixin:\n\n""Starting with Python version 2.6, it is recommended to use\ncollections.MutableMapping instead of DictMixin.""\n\nChange-Id: Idb67010de835dc2dbcbf87c40def934568a0dcf5\n(cherry picked from commit c3cbe69da893b6c72da6d7630a5cb7b7da2cc29b)\n'}, {'number': 2, 'created': '2022-04-19 21:18:22.000000000', 'files': ['swift/common/middleware/s3api/controllers/s3_acl.py', 'swift/common/middleware/s3api/s3response.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/99a4459a46822cfc0fc1ef2a33304bd4dbe7b0e8', 'message': 'Py3: Use collections.MutableMapping rather than UserDict.DictMixin\n\nTaken from https://docs.python.org/2/library/userdict.html#UserDict.DictMixin:\n\n""Starting with Python version 2.6, it is recommended to use\ncollections.MutableMapping instead of DictMixin.""\n\nChange-Id: Idb67010de835dc2dbcbf87c40def934568a0dcf5\n(cherry picked from commit c3cbe69da893b6c72da6d7630a5cb7b7da2cc29b)\n'}]",0,838598,99a4459a46822cfc0fc1ef2a33304bd4dbe7b0e8,4,1,2,15343,,,0,"Py3: Use collections.MutableMapping rather than UserDict.DictMixin

Taken from https://docs.python.org/2/library/userdict.html#UserDict.DictMixin:

""Starting with Python version 2.6, it is recommended to use
collections.MutableMapping instead of DictMixin.""

Change-Id: Idb67010de835dc2dbcbf87c40def934568a0dcf5
(cherry picked from commit c3cbe69da893b6c72da6d7630a5cb7b7da2cc29b)
",git fetch https://review.opendev.org/openstack/swift refs/changes/98/838598/2 && git format-patch -1 --stdout FETCH_HEAD,['swift/common/middleware/s3api/s3response.py'],1,9b6ae489f5a2191d44ffce41bcfee2fe7fd40595,,"from collections import MutableMapping if isinstance(value, (dict, MutableMapping)):","from UserDict import DictMixin if isinstance(value, (dict, DictMixin)):",2,2
openstack%2Fpuppet-openstack_spec_helper~master~I37ba87c951618f7e6008b56781bfab4d4edfe7bf,openstack/puppet-openstack_spec_helper,master,I37ba87c951618f7e6008b56781bfab4d4edfe7bf,DNM: Pin puppet_litmus,ABANDONED,2022-04-11 15:49:25.000000000,2022-04-20 02:53:50.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-04-11 15:49:25.000000000', 'files': ['puppet-openstack_spec_helper.gemspec'], 'web_link': 'https://opendev.org/openstack/puppet-openstack_spec_helper/commit/f21f2a57e1590051af374df96deb8e53b59d0f10', 'message': 'DNM: Pin puppet_litmus\n\nChange-Id: I37ba87c951618f7e6008b56781bfab4d4edfe7bf\n'}]",0,837365,f21f2a57e1590051af374df96deb8e53b59d0f10,3,1,1,9816,,,0,"DNM: Pin puppet_litmus

Change-Id: I37ba87c951618f7e6008b56781bfab4d4edfe7bf
",git fetch https://review.opendev.org/openstack/puppet-openstack_spec_helper refs/changes/65/837365/1 && git format-patch -1 --stdout FETCH_HEAD,['puppet-openstack_spec_helper.gemspec'],1,f21f2a57e1590051af374df96deb8e53b59d0f10,," spec.add_dependency 'puppet_litmus', ['>= 0.33.2']", spec.add_dependency 'puppet_litmus',1,1
openstack%2Fpuppet-openstack_spec_helper~master~I2a304dace538148fe5ea9fea599fef41bec9a8a5,openstack/puppet-openstack_spec_helper,master,I2a304dace538148fe5ea9fea599fef41bec9a8a5,DNM: Pin puppet_litmus,ABANDONED,2022-04-19 23:37:48.000000000,2022-04-20 02:53:43.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-04-19 23:37:48.000000000', 'files': ['puppet-openstack_spec_helper.gemspec'], 'web_link': 'https://opendev.org/openstack/puppet-openstack_spec_helper/commit/02c6f0afc17d5b60b89ea50718898062e96f3f27', 'message': 'DNM: Pin puppet_litmus\n\nChange-Id: I2a304dace538148fe5ea9fea599fef41bec9a8a5\n'}]",0,838609,02c6f0afc17d5b60b89ea50718898062e96f3f27,3,1,1,9816,,,0,"DNM: Pin puppet_litmus

Change-Id: I2a304dace538148fe5ea9fea599fef41bec9a8a5
",git fetch https://review.opendev.org/openstack/puppet-openstack_spec_helper refs/changes/09/838609/1 && git format-patch -1 --stdout FETCH_HEAD,['puppet-openstack_spec_helper.gemspec'],1,02c6f0afc17d5b60b89ea50718898062e96f3f27,," spec.add_dependency 'puppet_litmus', ['0.33.2']", spec.add_dependency 'puppet_litmus',1,1
openstack%2Fkolla~master~I29c9d51f4b518a4e2d3157ab5d6cc434fb83f2ef,openstack/kolla,master,I29c9d51f4b518a4e2d3157ab5d6cc434fb83f2ef,add a way to not have 'install_type' in image name (temporary),MERGED,2022-04-19 11:23:30.000000000,2022-04-20 02:20:22.000000000,2022-04-19 18:50:28.000000000,"[{'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-04-19 11:23:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/07876d1d3aea1a37dd7c9c5908d6c9d91c748a00', 'message': ""add a way to not have 'install_type' in image name\n\n--use-short-names argument drops 'install_type' from image names:\n\nkolla/debian-openstack-base:14.1.0\n\nThis should allow to get rid of '-source' in image names without\ndisrupting CI jobs.\n\nChange-Id: I29c9d51f4b518a4e2d3157ab5d6cc434fb83f2ef\n""}, {'number': 2, 'created': '2022-04-19 11:43:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/9e9ae28d367f52ea28f342766e159590d5ca5683', 'message': ""add a way to not have 'install_type' in image name\n\n--use-short-names argument drops 'install_type' from image names:\n\nkolla/debian-openstack-base:14.1.0\n\nThis should allow to get rid of '-source' in image names without\ndisrupting CI jobs.\n\nChange-Id: I29c9d51f4b518a4e2d3157ab5d6cc434fb83f2ef\n""}, {'number': 3, 'created': '2022-04-19 11:58:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/4dec8ebf310fa38a2bdcd427886a5e9339b8b8fc', 'message': ""add a way to not have 'install_type' in image name\n\n--use-short-names argument drops 'install_type' from image names:\n\nkolla/debian-openstack-base:14.1.0\n\nThis should allow to get rid of '-source' in image names without\ndisrupting CI jobs.\n\nChange-Id: I29c9d51f4b518a4e2d3157ab5d6cc434fb83f2ef\n""}, {'number': 4, 'created': '2022-04-19 13:49:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/e30162b80b71dc117abd87f3e91b6bfdaf9b248d', 'message': ""add a way to not have 'install_type' in image name (temporary)\n\n--use-short-names argument drops 'install_type' from image names:\n\nkolla/debian-openstack-base:14.1.0\n\nThis should allow to get rid of '-source' in image names without\ndisrupting CI jobs.\n\nSwitch publish jobs to use short names so k-a tests will have ready to\nuse images for both long and short names.\n\nChange-Id: I29c9d51f4b518a4e2d3157ab5d6cc434fb83f2ef\n""}, {'number': 5, 'created': '2022-04-19 14:06:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/6c0abc2295b37b1a728832d938cb6bbf5afdb4fc', 'message': ""add a way to not have 'install_type' in image name (temporary)\n\n--use-short-names argument drops 'install_type' from image names:\n\nkolla/debian-openstack-base:14.1.0\n\nThis should allow to get rid of '-source' in image names without\ndisrupting CI jobs.\n\nSwitch publish jobs to use short names so k-a tests will have ready to\nuse images for both long and short names.\n\nChange-Id: I29c9d51f4b518a4e2d3157ab5d6cc434fb83f2ef\n""}, {'number': 6, 'created': '2022-04-19 14:23:38.000000000', 'files': ['kolla/image/build.py', 'tests/playbooks/run.yml', 'kolla/common/config.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/e877556aafb2b571152567a8fc1f6ec640ffb2a4', 'message': ""add a way to not have 'install_type' in image name (temporary)\n\n--use-short-names argument drops 'install_type' from image names:\n\nkolla/debian-openstack-base:14.1.0\n\nThis should allow to get rid of '-source' in image names without\ndisrupting CI jobs.\n\nSwitch publish jobs to use short names so k-a tests will have ready to\nuse images for both long and short names.\n\nChange-Id: I29c9d51f4b518a4e2d3157ab5d6cc434fb83f2ef\n""}]",12,838491,e877556aafb2b571152567a8fc1f6ec640ffb2a4,25,2,6,24072,,,0,"add a way to not have 'install_type' in image name (temporary)

--use-short-names argument drops 'install_type' from image names:

kolla/debian-openstack-base:14.1.0

This should allow to get rid of '-source' in image names without
disrupting CI jobs.

Switch publish jobs to use short names so k-a tests will have ready to
use images for both long and short names.

Change-Id: I29c9d51f4b518a4e2d3157ab5d6cc434fb83f2ef
",git fetch https://review.opendev.org/openstack/kolla refs/changes/91/838491/2 && git format-patch -1 --stdout FETCH_HEAD,"['kolla/image/build.py', 'kolla/common/config.py']",2,07876d1d3aea1a37dd7c9c5908d6c9d91c748a00,," help='Show summary at the end of build'), cfg.BoolOpt('use-short-names', default=False, help='Use image names without install_type')", help='Show summary at the end of build'),7,3
openstack%2Fswift~stable%2Fyoga~Ibe514a7ab22d475517b1efc50de676f47d741a4c,openstack/swift,stable/yoga,Ibe514a7ab22d475517b1efc50de676f47d741a4c,s3api: Use constant-time string comparisons in check_signature,MERGED,2022-04-19 18:36:59.000000000,2022-04-20 02:06:24.000000000,2022-04-20 01:53:33.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-19 18:36:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/fa0852dc673b45e4744667bef5a0bbbba5967bc1', 'message': 's3api: Use constant-time string comparisons in check_signature\n\nChange-Id: Ibe514a7ab22d475517b1efc50de676f47d741a4c\n(cherry picked from commit 6142ce88cc71037ba0cd23113eb6082fa91346ac)\n'}, {'number': 2, 'created': '2022-04-19 21:21:50.000000000', 'files': ['.zuul.yaml', 'swift/common/middleware/s3api/s3request.py', 'test/unit/common/middleware/s3api/test_s3request.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/36ebcc8484db112c9c7998b35aec2e0b004dae33', 'message': ""s3api: Use constant-time string comparisons in check_signature\n\nDisable rolling-upgrade job since the old tag doesn't constrain things\nwell enough to run on py2.\n\nChange-Id: Ibe514a7ab22d475517b1efc50de676f47d741a4c\n(cherry picked from commit 6142ce88cc71037ba0cd23113eb6082fa91346ac)\n""}]",0,838534,36ebcc8484db112c9c7998b35aec2e0b004dae33,10,2,2,15343,,,0,"s3api: Use constant-time string comparisons in check_signature

Disable rolling-upgrade job since the old tag doesn't constrain things
well enough to run on py2.

Change-Id: Ibe514a7ab22d475517b1efc50de676f47d741a4c
(cherry picked from commit 6142ce88cc71037ba0cd23113eb6082fa91346ac)
",git fetch https://review.opendev.org/openstack/swift refs/changes/34/838534/1 && git format-patch -1 --stdout FETCH_HEAD,"['swift/common/middleware/s3api/s3request.py', 'test/unit/common/middleware/s3api/test_s3request.py']",2,fa0852dc673b45e4744667bef5a0bbbba5967bc1,," with patch('swift.common.middleware.s3api.s3request.streq_const_time', return_value=True) as mock_eq: self.assertTrue(sigv2_req.check_signature(secret)) mock_eq.assert_called_once() with patch('swift.common.middleware.s3api.s3request.streq_const_time', return_value=False) as mock_eq: self.assertFalse(sigv4_req.check_signature( u'\u30c9\u30e9\u30b4\u30f3')) mock_eq.assert_called_once() ",,15,3
openstack%2Fnova~stable%2Fxena~I514f6b337ffefef90a0ce9ab0b4afd083caa277e,openstack/nova,stable/xena,I514f6b337ffefef90a0ce9ab0b4afd083caa277e,[stable-only] Drop lower-constraints job,MERGED,2022-04-14 19:16:36.000000000,2022-04-20 01:47:36.000000000,2022-04-20 01:45:15.000000000,"[{'_account_id': 4393}, {'_account_id': 4690}, {'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-14 19:16:36.000000000', 'files': ['.zuul.yaml', 'lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/nova/commit/ba3c5b81abce49fb86981bdcc0013068b54d4f61', 'message': ""[stable-only] Drop lower-constraints job\n\nDuring the PTG the TC discussed the topic and decided to drop the job\ncompletely. Since the latest job configuration broke all stable gate\nfor nova (older than yoga) this is needed there to unblock our gates.\nFor dropping the job on master let's wait to the resolution as the\ngate is not broken there, hence the patch is stable-only.\n\nConflicts:\n  .zuul.yaml\n  lower-constraints.txt\n  tox.ini\n\nNOTE(elod.illes): conflict is due to branch specific settings (job\ntemplate names, lower constraints changes, tox target's base python\npinning).\n\nChange-Id: I514f6b337ffefef90a0ce9ab0b4afd083caa277e\n(cherry picked from commit 15b72717f2f3bd79791b913f1b294a19ced47ca7)\n""}]",5,838007,ba3c5b81abce49fb86981bdcc0013068b54d4f61,23,4,1,17685,,,0,"[stable-only] Drop lower-constraints job

During the PTG the TC discussed the topic and decided to drop the job
completely. Since the latest job configuration broke all stable gate
for nova (older than yoga) this is needed there to unblock our gates.
For dropping the job on master let's wait to the resolution as the
gate is not broken there, hence the patch is stable-only.

Conflicts:
  .zuul.yaml
  lower-constraints.txt
  tox.ini

NOTE(elod.illes): conflict is due to branch specific settings (job
template names, lower constraints changes, tox target's base python
pinning).

Change-Id: I514f6b337ffefef90a0ce9ab0b4afd083caa277e
(cherry picked from commit 15b72717f2f3bd79791b913f1b294a19ced47ca7)
",git fetch https://review.opendev.org/openstack/nova refs/changes/07/838007/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'lower-constraints.txt', 'tox.ini']",3,ba3c5b81abce49fb86981bdcc0013068b54d4f61,drop-lower-constraints,, [testenv:lower-constraints] basepython = python3.6 usedevelop = False deps = -c{toxinidir}/lower-constraints.txt -r{toxinidir}/test-requirements.txt -r{toxinidir}/requirements.txt,0,175
openstack%2Fkolla~stable%2Fxena~If7d5c2807f0947a8bbbc1ceb8531c9b9c9287c1f,openstack/kolla,stable/xena,If7d5c2807f0947a8bbbc1ceb8531c9b9c9287c1f,enable logging to file for quiet mode,MERGED,2022-04-19 11:44:40.000000000,2022-04-20 01:37:56.000000000,2022-04-19 16:45:59.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}, {'_account_id': 33786}]","[{'number': 1, 'created': '2022-04-19 11:44:40.000000000', 'files': ['releasenotes/notes/quiet-mode-with-logs-0abafc07923945ac.yaml', 'tests/playbooks/run.yml', 'kolla/common/utils.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/6e3381b0e2ed1cfae1b7b4035c0fa339c2aad779', 'message': ""enable logging to file for quiet mode\n\nWe have 'quiet' mode where only minimal data is printed to the console.\nBut there were no logs at all then.\n\nThis change generates log files (if 'logs-dir' argument is used) during\nquiet build.\n\nAlso enables 'quiet' mode for CI so Zuul will not have to parse 29MB\nJSON file each time.\n\nChange-Id: If7d5c2807f0947a8bbbc1ceb8531c9b9c9287c1f\n(cherry picked from commit 0cf5b1d4e6e871562c0ca0f48a21594f8d197471)\n""}]",0,838368,6e3381b0e2ed1cfae1b7b4035c0fa339c2aad779,10,4,1,24072,,,0,"enable logging to file for quiet mode

We have 'quiet' mode where only minimal data is printed to the console.
But there were no logs at all then.

This change generates log files (if 'logs-dir' argument is used) during
quiet build.

Also enables 'quiet' mode for CI so Zuul will not have to parse 29MB
JSON file each time.

Change-Id: If7d5c2807f0947a8bbbc1ceb8531c9b9c9287c1f
(cherry picked from commit 0cf5b1d4e6e871562c0ca0f48a21594f8d197471)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/68/838368/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/quiet-mode-with-logs-0abafc07923945ac.yaml', 'tests/playbooks/run.yml', 'kolla/common/utils.py']",3,6e3381b0e2ed1cfae1b7b4035c0fa339c2aad779,quiet-kolla-stable/yoga-stable/xena," if conf is not None and conf.debug: loglevel = logging.DEBUG else: loglevel = logging.INFO if not log.handlers: stream_handler = logging.StreamHandler(sys.stderr) stream_handler.setFormatter(logging.Formatter(logging.BASIC_FORMAT)) # NOTE(hrw): quiet mode matters only on console if conf is not None and conf.quiet: stream_handler.setLevel(logging.CRITICAL) else: stream_handler.setLevel(loglevel) log.addHandler(stream_handler) log.propagate = False if conf is not None and conf.logs_dir and image_name: # NOTE(hrw): logfile will be INFO or DEBUG handler.setLevel(loglevel) handler.setFormatter(logging.Formatter(logging.BASIC_FORMAT)) log.addHandler(handler) # NOTE(hrw): needs to be high, handlers have own levels log.setLevel(logging.DEBUG)", if not log.handlers: if conf is None or not conf.logs_dir or not image_name: handler = logging.StreamHandler(sys.stderr) log.propagate = False else: handler.setFormatter(logging.Formatter(logging.BASIC_FORMAT)) log.addHandler(handler) if conf is not None and conf.debug: log.setLevel(logging.DEBUG) elif conf is not None and conf.quiet and image_name: log.setLevel(logging.CRITICAL) else: log.setLevel(logging.INFO),30,11
openstack%2Fmurano~master~Ic4ba41e61de3a33d6779b53bb0274e5e115e335a,openstack/murano,master,Ic4ba41e61de3a33d6779b53bb0274e5e115e335a,tests: Remove use of 'oslo_db.sqlalchemy.test_base',MERGED,2022-04-18 23:16:55.000000000,2022-04-20 01:15:11.000000000,2022-04-20 01:13:41.000000000,"[{'_account_id': 14107}, {'_account_id': 15334}, {'_account_id': 18418}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-18 23:16:55.000000000', 'files': ['murano/tests/unit/db/migration/test_migrations.py'], 'web_link': 'https://opendev.org/openstack/murano/commit/411d0f85e8832f385df62c967db96dfb4d353f76', 'message': ""tests: Remove use of 'oslo_db.sqlalchemy.test_base'\n\nThe various test cases and mixins in 'oslo_db.sqlalchemy.test_base' have\nbeen deprecated since oslo.db 4.34.0 (March 2018). Remove use of these.\n\nChange-Id: Ic4ba41e61de3a33d6779b53bb0274e5e115e335a\n""}]",2,838412,411d0f85e8832f385df62c967db96dfb4d353f76,10,4,1,18418,,,0,"tests: Remove use of 'oslo_db.sqlalchemy.test_base'

The various test cases and mixins in 'oslo_db.sqlalchemy.test_base' have
been deprecated since oslo.db 4.34.0 (March 2018). Remove use of these.

Change-Id: Ic4ba41e61de3a33d6779b53bb0274e5e115e335a
",git fetch https://review.opendev.org/openstack/murano refs/changes/12/838412/1 && git format-patch -1 --stdout FETCH_HEAD,['murano/tests/unit/db/migration/test_migrations.py'],1,411d0f85e8832f385df62c967db96dfb4d353f76,,"from oslo_db.sqlalchemy import enginefacade from oslo_db.sqlalchemy import test_fixturesfrom oslotest import base as test_base def setUp(self): super().setUp() self.engine = enginefacade.writer.get_engine() test_fixtures.OpportunisticDBTestMixin, test_base.BaseTestCase): """"""Run migration tests on MySQL backend."""""" FIXTURE = test_fixtures.MySQLOpportunisticFixture test_fixtures.OpportunisticDBTestMixin, test_base.BaseTestCase): """"""Run migration tests on PostgreSQL backend."""""" FIXTURE = test_fixtures.PostgresqlOpportunisticFixture",from oslo_db.sqlalchemy import test_base test_base.MySQLOpportunisticTestCase): test_base.PostgreSQLOpportunisticTestCase):,15,3
openstack%2Fmanila~stable%2Fyoga~Ib5a62599b84ba55617071f8bcd8e2a1a11b2537b,openstack/manila,stable/yoga,Ib5a62599b84ba55617071f8bcd8e2a1a11b2537b,Shares Metadata follow-up patch,MERGED,2022-04-19 20:31:17.000000000,2022-04-20 00:47:42.000000000,2022-04-20 00:46:09.000000000,"[{'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 29632}]","[{'number': 1, 'created': '2022-04-19 20:31:17.000000000', 'files': ['manila/share/api.py', 'manila/tests/db/sqlalchemy/test_api.py', 'manila/tests/api/v2/test_metadata.py', 'releasenotes/notes/bug-1968069-fix-share-metadata-api-c31aca75bac66501.yaml', 'manila/api/v2/metadata.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/8817389ada9962ee00471102cf287627930d4b31', 'message': 'Shares Metadata follow-up patch\n\nAddresses some comments from initial patch here [1].\nAlso addresses a regression regarding get_metadata_item or show_metadata\nand the response keys as shown in this bug [2].\n\n[1]: https://review.opendev.org/c/openstack/manila/+/824648\n[2]: https://bugs.launchpad.net/manila/+bug/1968069\n\nCloses-Bug: #1968069\nChange-Id: Ib5a62599b84ba55617071f8bcd8e2a1a11b2537b\n(cherry picked from commit 2c1456b3f24a9f8a6a031b0cc963fb61cbf869f9)\n'}]",2,838536,8817389ada9962ee00471102cf287627930d4b31,9,3,1,3153,,,0,"Shares Metadata follow-up patch

Addresses some comments from initial patch here [1].
Also addresses a regression regarding get_metadata_item or show_metadata
and the response keys as shown in this bug [2].

[1]: https://review.opendev.org/c/openstack/manila/+/824648
[2]: https://bugs.launchpad.net/manila/+bug/1968069

Closes-Bug: #1968069
Change-Id: Ib5a62599b84ba55617071f8bcd8e2a1a11b2537b
(cherry picked from commit 2c1456b3f24a9f8a6a031b0cc963fb61cbf869f9)
",git fetch https://review.opendev.org/openstack/manila refs/changes/36/838536/1 && git format-patch -1 --stdout FETCH_HEAD,"['manila/share/api.py', 'manila/tests/db/sqlalchemy/test_api.py', 'manila/tests/api/v2/test_metadata.py', 'manila/api/v2/metadata.py', 'releasenotes/notes/bug-1968069-fix-share-metadata-api-c31aca75bac66501.yaml']",5,8817389ada9962ee00471102cf287627930d4b31,share-metadata-follow-up-stable/yoga,--- fixes: - | Fixes regression for show_metadata and the response dictionary. The correct response is: {meta: {'key': 'value}}. ,,33,29
openstack%2Fpuppet-horizon~stable%2Fwallaby~I88fc341f6970006b03cc796117e2fb8f46e87a52,openstack/puppet-horizon,stable/wallaby,I88fc341f6970006b03cc796117e2fb8f46e87a52,Allow customizing apache::vhost parameters for SSL vhost,MERGED,2022-04-19 04:23:07.000000000,2022-04-20 00:16:39.000000000,2022-04-20 00:15:11.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-19 04:23:07.000000000', 'files': ['manifests/wsgi/apache.pp', 'releasenotes/notes/wsgi-ssl_extra_params-f775a56966c5d475.yaml', 'spec/classes/horizon_wsgi_apache_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/6fc4f4d38a8983a4fc127e3de7cda0d75690eb3b', 'message': 'Allow customizing apache::vhost parameters for SSL vhost\n\nThis change introduces the new ssl_extra_params parameter, which allows\noverriding apache::vhost parameters for SSL vhost. This parameter\nbehaves like the existing extra_params parameter, but affects only\nthe SSL vhost. When this parameter is NOT set, then the extra_params\nparameter affects both non-SSL vhost and SSL vhost.\n\nChange-Id: I88fc341f6970006b03cc796117e2fb8f46e87a52\n(cherry picked from commit fa7b8c6d4a1787d648bd1d1fc71b8843d5b7a7ee)\n(cherry picked from commit c2dd9078e6dba76040a499cc22b32cb5af4c31a0)\n(cherry picked from commit f19fc003ec0e0e954a17fbb8652f9a6205d6e520)\n'}]",0,838355,6fc4f4d38a8983a4fc127e3de7cda0d75690eb3b,8,3,1,9816,,,0,"Allow customizing apache::vhost parameters for SSL vhost

This change introduces the new ssl_extra_params parameter, which allows
overriding apache::vhost parameters for SSL vhost. This parameter
behaves like the existing extra_params parameter, but affects only
the SSL vhost. When this parameter is NOT set, then the extra_params
parameter affects both non-SSL vhost and SSL vhost.

Change-Id: I88fc341f6970006b03cc796117e2fb8f46e87a52
(cherry picked from commit fa7b8c6d4a1787d648bd1d1fc71b8843d5b7a7ee)
(cherry picked from commit c2dd9078e6dba76040a499cc22b32cb5af4c31a0)
(cherry picked from commit f19fc003ec0e0e954a17fbb8652f9a6205d6e520)
",git fetch https://review.opendev.org/openstack/puppet-horizon refs/changes/55/838355/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/wsgi/apache.pp', 'releasenotes/notes/wsgi-ssl_extra_params-f775a56966c5d475.yaml', 'spec/classes/horizon_wsgi_apache_spec.rb']",3,6fc4f4d38a8983a4fc127e3de7cda0d75690eb3b,," 'docroot' => '/tmp' it { should contain_apache__vhost('horizon_ssl_vhost').with( :add_listen => false, :docroot => '/tmp' )} end context 'with ssl extra parameters' do before do params.merge!({ :extra_params => { 'docroot' => '/root1' }, :ssl_extra_params => { 'docroot' => '/root2' }, }) end it { should contain_apache__vhost('horizon_vhost').with( :docroot => '/root1' )} it { should contain_apache__vhost('horizon_ssl_vhost').with( :docroot => '/root2' )}", 'docroot' => '/tmp',71,22
openstack%2Fkolla~stable%2Fussuri~If7d5c2807f0947a8bbbc1ceb8531c9b9c9287c1f,openstack/kolla,stable/ussuri,If7d5c2807f0947a8bbbc1ceb8531c9b9c9287c1f,enable logging to file for quiet mode,MERGED,2022-04-19 11:39:00.000000000,2022-04-20 00:00:23.000000000,2022-04-19 16:46:02.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-04-19 11:39:00.000000000', 'files': ['releasenotes/notes/quiet-mode-with-logs-0abafc07923945ac.yaml', 'tests/playbooks/run.yml', 'kolla/common/utils.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/58c5c3aa8afd9ba595a0050b3720e44ba9a97633', 'message': ""enable logging to file for quiet mode\n\nWe have 'quiet' mode where only minimal data is printed to the console.\nBut there were no logs at all then.\n\nThis change generates log files (if 'logs-dir' argument is used) during\nquiet build.\n\nAlso enables 'quiet' mode for CI so Zuul will not have to parse 29MB\nJSON file each time.\n\nChange-Id: If7d5c2807f0947a8bbbc1ceb8531c9b9c9287c1f\n(cherry picked from commit 0cf5b1d4e6e871562c0ca0f48a21594f8d197471)\n""}]",1,838363,58c5c3aa8afd9ba595a0050b3720e44ba9a97633,11,3,1,24072,,,0,"enable logging to file for quiet mode

We have 'quiet' mode where only minimal data is printed to the console.
But there were no logs at all then.

This change generates log files (if 'logs-dir' argument is used) during
quiet build.

Also enables 'quiet' mode for CI so Zuul will not have to parse 29MB
JSON file each time.

Change-Id: If7d5c2807f0947a8bbbc1ceb8531c9b9c9287c1f
(cherry picked from commit 0cf5b1d4e6e871562c0ca0f48a21594f8d197471)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/63/838363/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/quiet-mode-with-logs-0abafc07923945ac.yaml', 'tests/playbooks/run.yml', 'kolla/common/utils.py']",3,58c5c3aa8afd9ba595a0050b3720e44ba9a97633,quiet-kolla-stable/yoga-stable/wallaby-stable/victoria-stable/ussuri," if conf is not None and conf.debug: loglevel = logging.DEBUG else: loglevel = logging.INFO if not log.handlers: stream_handler = logging.StreamHandler(sys.stderr) stream_handler.setFormatter(logging.Formatter(logging.BASIC_FORMAT)) # NOTE(hrw): quiet mode matters only on console if conf is not None and conf.quiet: stream_handler.setLevel(logging.CRITICAL) else: stream_handler.setLevel(loglevel) log.addHandler(stream_handler) log.propagate = False if conf is not None and conf.logs_dir and image_name: # NOTE(hrw): logfile will be INFO or DEBUG handler.setLevel(loglevel) handler.setFormatter(logging.Formatter(logging.BASIC_FORMAT)) log.addHandler(handler) # NOTE(hrw): needs to be high, handlers have own levels log.setLevel(logging.DEBUG)", if not log.handlers: if conf is None or not conf.logs_dir or not image_name: handler = logging.StreamHandler(sys.stderr) log.propagate = False else: handler.setFormatter(logging.Formatter(logging.BASIC_FORMAT)) log.addHandler(handler) if conf is not None and conf.debug: log.setLevel(logging.DEBUG) elif conf is not None and conf.quiet and image_name: log.setLevel(logging.CRITICAL) else: log.setLevel(logging.INFO),30,11
openstack%2Fkolla~stable%2Fvictoria~If7d5c2807f0947a8bbbc1ceb8531c9b9c9287c1f,openstack/kolla,stable/victoria,If7d5c2807f0947a8bbbc1ceb8531c9b9c9287c1f,enable logging to file for quiet mode,MERGED,2022-04-19 11:38:50.000000000,2022-04-19 23:44:55.000000000,2022-04-19 18:44:30.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-04-19 11:38:50.000000000', 'files': ['releasenotes/notes/quiet-mode-with-logs-0abafc07923945ac.yaml', 'tests/playbooks/run.yml', 'kolla/common/utils.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/a83002b3faaba9f5803eb045eb7613417aea9b8c', 'message': ""enable logging to file for quiet mode\n\nWe have 'quiet' mode where only minimal data is printed to the console.\nBut there were no logs at all then.\n\nThis change generates log files (if 'logs-dir' argument is used) during\nquiet build.\n\nAlso enables 'quiet' mode for CI so Zuul will not have to parse 29MB\nJSON file each time.\n\nChange-Id: If7d5c2807f0947a8bbbc1ceb8531c9b9c9287c1f\n(cherry picked from commit 0cf5b1d4e6e871562c0ca0f48a21594f8d197471)\n""}]",2,838362,a83002b3faaba9f5803eb045eb7613417aea9b8c,15,3,1,24072,,,0,"enable logging to file for quiet mode

We have 'quiet' mode where only minimal data is printed to the console.
But there were no logs at all then.

This change generates log files (if 'logs-dir' argument is used) during
quiet build.

Also enables 'quiet' mode for CI so Zuul will not have to parse 29MB
JSON file each time.

Change-Id: If7d5c2807f0947a8bbbc1ceb8531c9b9c9287c1f
(cherry picked from commit 0cf5b1d4e6e871562c0ca0f48a21594f8d197471)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/62/838362/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/quiet-mode-with-logs-0abafc07923945ac.yaml', 'tests/playbooks/run.yml', 'kolla/common/utils.py']",3,a83002b3faaba9f5803eb045eb7613417aea9b8c,quiet-kolla-stable/yoga-stable/wallaby-stable/victoria," if conf is not None and conf.debug: loglevel = logging.DEBUG else: loglevel = logging.INFO if not log.handlers: stream_handler = logging.StreamHandler(sys.stderr) stream_handler.setFormatter(logging.Formatter(logging.BASIC_FORMAT)) # NOTE(hrw): quiet mode matters only on console if conf is not None and conf.quiet: stream_handler.setLevel(logging.CRITICAL) else: stream_handler.setLevel(loglevel) log.addHandler(stream_handler) log.propagate = False if conf is not None and conf.logs_dir and image_name: # NOTE(hrw): logfile will be INFO or DEBUG handler.setLevel(loglevel) handler.setFormatter(logging.Formatter(logging.BASIC_FORMAT)) log.addHandler(handler) # NOTE(hrw): needs to be high, handlers have own levels log.setLevel(logging.DEBUG)", if not log.handlers: if conf is None or not conf.logs_dir or not image_name: handler = logging.StreamHandler(sys.stderr) log.propagate = False else: handler.setFormatter(logging.Formatter(logging.BASIC_FORMAT)) log.addHandler(handler) if conf is not None and conf.debug: log.setLevel(logging.DEBUG) elif conf is not None and conf.quiet and image_name: log.setLevel(logging.CRITICAL) else: log.setLevel(logging.INFO),30,11
openstack%2Fpuppet-nova~master~Ib185b7c883ed6e9ae68bd0ad98f6ecf44c0df93c,openstack/puppet-nova,master,Ib185b7c883ed6e9ae68bd0ad98f6ecf44c0df93c,Remove redundant logic to detect undef value,MERGED,2022-04-18 23:37:10.000000000,2022-04-19 23:27:18.000000000,2022-04-19 23:27:18.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-18 23:37:10.000000000', 'files': ['manifests/compute/libvirt/virtlogd.pp'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/2aa5cda3955862adaf1b62af8837ec5971a477a1', 'message': 'Remove redundant logic to detect undef value\n\nWhen passing ""undef"" to parameters, Puppet internally replaces it by\nthe default value.\n\nSo if a parameter defaults to a non-undef value, there is no chance\nthe parameter is set to ""undef"".\n\nChange-Id: Ib185b7c883ed6e9ae68bd0ad98f6ecf44c0df93c\n'}]",1,838414,2aa5cda3955862adaf1b62af8837ec5971a477a1,9,3,1,9816,,,0,"Remove redundant logic to detect undef value

When passing ""undef"" to parameters, Puppet internally replaces it by
the default value.

So if a parameter defaults to a non-undef value, there is no chance
the parameter is set to ""undef"".

Change-Id: Ib185b7c883ed6e9ae68bd0ad98f6ecf44c0df93c
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/14/838414/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/compute/libvirt/virtlogd.pp'],1,2aa5cda3955862adaf1b62af8837ec5971a477a1,,," [ 'log_level', 'log_filters', 'log_outputs', 'max_clients', 'admin_max_clients', 'max_size', 'max_backups', ].each |String $virtlogd_opt| { if getvar($virtlogd_opt) == undef { warning(""Usage of undef for ${virtlogd_opt} has been deprecated."") } } ",0,14
openstack%2Fpuppet-nova~master~I36227d92bbbc64a4d3d756088ca57c8a6148d270,openstack/puppet-nova,master,I36227d92bbbc64a4d3d756088ca57c8a6148d270,Remove ineffective support for [scheduler] periodic_task_interval,MERGED,2022-04-18 23:04:16.000000000,2022-04-19 23:16:18.000000000,2022-04-19 23:15:03.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-18 23:04:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/b49bed5b7a2b3ffbbc64d3bc426e2bf4482d565e', 'message': 'Remove ineffective support for [scheduler] periodic_task_interval\n\nThis parameter was deprecated during the past cycle[1] and has had no\neffect since then.\n\n[1] 3375efcfd45ec2f417bc94f99701a5f68c31f731\n\nChange-Id: I36227d92bbbc64a4d3d756088ca57c8a6148d270\n'}, {'number': 2, 'created': '2022-04-19 00:12:46.000000000', 'files': ['manifests/scheduler.pp', 'releasenotes/notes/remove-scheduler-periodic_task_interval-249e0a76423582f5.yaml', 'spec/classes/nova_scheduler_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/bcfca7a4dd7cdc3e5d9bb4fee9506f4301c94537', 'message': 'Remove ineffective support for [scheduler] periodic_task_interval\n\nThis parameter was deprecated during Xena cycle[1] and has had no\neffect since then.\n\n[1] 3375efcfd45ec2f417bc94f99701a5f68c31f731\n\nChange-Id: I36227d92bbbc64a4d3d756088ca57c8a6148d270\n'}]",0,838410,bcfca7a4dd7cdc3e5d9bb4fee9506f4301c94537,9,3,2,9816,,,0,"Remove ineffective support for [scheduler] periodic_task_interval

This parameter was deprecated during Xena cycle[1] and has had no
effect since then.

[1] 3375efcfd45ec2f417bc94f99701a5f68c31f731

Change-Id: I36227d92bbbc64a4d3d756088ca57c8a6148d270
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/10/838410/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/scheduler.pp', 'releasenotes/notes/remove-scheduler-periodic_task_interval-249e0a76423582f5.yaml']",2,b49bed5b7a2b3ffbbc64d3bc426e2bf4482d565e,,--- upgrade: - | The ``nova::scheduler::periodic_task_interval`` parameter has been removed. ,,4,15
openstack%2Fpython-tripleoclient~master~I176bc05bf588f12c543273fa1d5e357ea819fcd3,openstack/python-tripleoclient,master,I176bc05bf588f12c543273fa1d5e357ea819fcd3,Update overcloud credentials to use ephemeral Heat,MERGED,2022-02-25 12:02:02.000000000,2022-04-19 23:13:00.000000000,2022-04-19 23:11:37.000000000,"[{'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2022-02-25 12:02:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/bc85ce18a312095c2f192cfdadeca4f261b8bcc4', 'message': 'Update overcloud credentials to use ephemeral Heat\n\nThis command was still attempting to query Heat for the stack, which\nwould not work with ephemeral Heat.\n\nDepends-On: I28c21f923baf75fbc3be501552c10a5bb5384a09\nChange-Id: I176bc05bf588f12c543273fa1d5e357ea819fcd3\nSigned-off-by: James Slagle <jslagle@redhat.com>\n'}, {'number': 2, 'created': '2022-03-15 15:26:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/c38ee5c7941bad1b7266905362ef5a1c1ba886f5', 'message': 'Update overcloud credentials to use ephemeral Heat\n\nThis command was still attempting to query Heat for the stack, which\nwould not work with ephemeral Heat.\n\nDepends-On: I28c21f923baf75fbc3be501552c10a5bb5384a09\nChange-Id: I176bc05bf588f12c543273fa1d5e357ea819fcd3\nSigned-off-by: James Slagle <jslagle@redhat.com>\n'}, {'number': 3, 'created': '2022-03-18 21:16:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/110efdcb530db9137dd9c9bdce260f07dbc6670a', 'message': 'Update overcloud credentials to use ephemeral Heat\n\nThis command was still attempting to query Heat for the stack, which\nwould not work with ephemeral Heat.\n\nDepends-On: I28c21f923baf75fbc3be501552c10a5bb5384a09\nChange-Id: I176bc05bf588f12c543273fa1d5e357ea819fcd3\nSigned-off-by: James Slagle <jslagle@redhat.com>\n'}, {'number': 4, 'created': '2022-03-22 00:45:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/fec04e5388832c683e7f8af1fc59615a94ec4fc3', 'message': 'Update overcloud credentials to use ephemeral Heat\n\nThis command was still attempting to query Heat for the stack, which\nwould not work with ephemeral Heat.\n\nDepends-On: I28c21f923baf75fbc3be501552c10a5bb5384a09\nChange-Id: I176bc05bf588f12c543273fa1d5e357ea819fcd3\nSigned-off-by: James Slagle <jslagle@redhat.com>\n'}, {'number': 5, 'created': '2022-03-22 12:46:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/872a48447d5b33f0b423fd35cc62c8414bb5442f', 'message': 'Update overcloud credentials to use ephemeral Heat\n\nThis command was still attempting to query Heat for the stack, which\nwould not work with ephemeral Heat.\n\nDepends-On: I28c21f923baf75fbc3be501552c10a5bb5384a09\nChange-Id: I176bc05bf588f12c543273fa1d5e357ea819fcd3\nSigned-off-by: James Slagle <jslagle@redhat.com>\n'}, {'number': 6, 'created': '2022-04-18 20:28:36.000000000', 'files': ['tripleoclient/constants.py', 'tripleoclient/workflows/deployment.py', 'tripleoclient/v1/overcloud_credentials.py', 'tripleoclient/utils.py', 'tripleoclient/tests/test_overcloud_credentials.py', 'tripleoclient/v1/overcloud_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/035827f3dbce5d841693e714434dff7a4c6178af', 'message': 'Update overcloud credentials to use ephemeral Heat\n\nThis command was still attempting to query Heat for the stack, which\nwould not work with ephemeral Heat.\n\nDepends-On: I28c21f923baf75fbc3be501552c10a5bb5384a09\nChange-Id: I176bc05bf588f12c543273fa1d5e357ea819fcd3\nSigned-off-by: James Slagle <jslagle@redhat.com>\n'}]",12,830974,035827f3dbce5d841693e714434dff7a4c6178af,46,5,6,7144,,,0,"Update overcloud credentials to use ephemeral Heat

This command was still attempting to query Heat for the stack, which
would not work with ephemeral Heat.

Depends-On: I28c21f923baf75fbc3be501552c10a5bb5384a09
Change-Id: I176bc05bf588f12c543273fa1d5e357ea819fcd3
Signed-off-by: James Slagle <jslagle@redhat.com>
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/74/830974/5 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/constants.py', 'tripleoclient/v1/overcloud_credentials.py', 'tripleoclient/workflows/deployment.py', 'tripleoclient/utils.py', 'tripleoclient/tests/test_overcloud_credentials.py', 'tripleoclient/v1/overcloud_deploy.py']",6,bc85ce18a312095c2f192cfdadeca4f261b8bcc4,," overcloud_endpoint = utils.get_overcloud_endpoint(self.working_dir) keystone_admin_ip = utils.get_stack_saved_output_item( 'KeystoneAdminVip', self.working_dir) overcloud_endpoint = utils.get_overcloud_endpoint( self.working_dir) overcloud_admin_vip = utils.get_stack_saved_output_item( 'KeystoneAdminVip', self.working_dir) rc_params = utils.get_rc_params(self.working_dir) parsed_args.stack, overcloud_endpoint, overcloud_admin_vip, rc_params, parsed_args.no_proxy) parsed_args.stack, overcloud_endpoint, overcloud_admin_vip, rc_params, parsed_args.no_proxy, self.working_dir)"," overcloud_endpoint = utils.get_overcloud_endpoint(stack) keystone_admin_ip = utils.get_endpoint('KeystoneAdmin', stack) # Force fetching of attributes stack.get() overcloud_endpoint = utils.get_overcloud_endpoint(stack) horizon_url = deployment.get_horizon_url( stack=stack.stack_name, heat_type=parsed_args.heat_type, working_dir=self.working_dir) rc_params = utils.get_rc_params( self.orchestration_client, parsed_args.stack) stack, rc_params, parsed_args.no_proxy) stack, rc_params, parsed_args.no_proxy, self.working_dir)",45,45
openstack%2Ftripleo-common~stable%2Fwallaby~I28c21f923baf75fbc3be501552c10a5bb5384a09,openstack/tripleo-common,stable/wallaby,I28c21f923baf75fbc3be501552c10a5bb5384a09,Add _create_overcloudrc_from_outputs,MERGED,2022-04-18 20:32:19.000000000,2022-04-19 23:12:53.000000000,2022-04-19 23:11:34.000000000,"[{'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-04-18 20:32:19.000000000', 'files': ['tripleo_common/utils/overcloudrc.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/5d22ae4a12ade0c22b296534d6cb8826ffc5996f', 'message': 'Add _create_overcloudrc_from_outputs\n\nRefactors _create_overcloudrc into _create_overcloudrc_from_outputs such\nthat it can be used without requiring a stack.\n\nChange-Id: I28c21f923baf75fbc3be501552c10a5bb5384a09\nSigned-off-by: James Slagle <jslagle@redhat.com>\n(cherry picked from commit 90fd3c41f0af27355262e5fb5a0759dfcae1ebbb)\n'}]",2,838401,5d22ae4a12ade0c22b296534d6cb8826ffc5996f,13,3,1,7144,,,0,"Add _create_overcloudrc_from_outputs

Refactors _create_overcloudrc into _create_overcloudrc_from_outputs such
that it can be used without requiring a stack.

Change-Id: I28c21f923baf75fbc3be501552c10a5bb5384a09
Signed-off-by: James Slagle <jslagle@redhat.com>
(cherry picked from commit 90fd3c41f0af27355262e5fb5a0759dfcae1ebbb)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/01/838401/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_common/utils/overcloudrc.py'],1,5d22ae4a12ade0c22b296534d6cb8826ffc5996f,," endpoint = get_overcloud_endpoint(stack) admin_vip = get_endpoint('KeystoneAdmin', stack) return _create_overcloudrc_from_outputs( stack.stack_name, endpoint, admin_vip, no_proxy, admin_password, region_name) def _create_overcloudrc_from_outputs( stack_name, endpoint, admin_vip, no_proxy, admin_password, region_name): """"""Given the stack outputs and proxy settings, create the overcloudrc"""""" host = urllib.parse.urlparse(endpoint).hostname no_proxy_list + [host, admin_vip]) 'OS_CLOUDNAME': stack_name, 'OS_AUTH_URL': endpoint.replace('/v2.0', ''),"," overcloud_endpoint = get_overcloud_endpoint(stack) overcloud_host = urllib.parse.urlparse(overcloud_endpoint).hostname overcloud_admin_vip = get_endpoint('KeystoneAdmin', stack) no_proxy_list + [overcloud_host, overcloud_admin_vip]) 'OS_CLOUDNAME': stack.stack_name, 'OS_AUTH_URL': overcloud_endpoint.replace('/v2.0', ''),",16,6
openstack%2Fdevstack-plugin-ceph~master~Iaa4bb777c4c16953e8312df456db204e5d3746b3,openstack/devstack-plugin-ceph,master,Iaa4bb777c4c16953e8312df456db204e5d3746b3,[CI] [DNM] Test RGW in place of swift,NEW,2022-04-14 09:18:18.000000000,2022-04-19 23:11:41.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-04-14 09:18:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/34f2b603bf1f6eb9f05b8db1dccd096bf74edad1', 'message': ""[CI] [DNM] Test RGW in place of swift\n\n... which suprisingly it's not tested anywhere.\n\nChange-Id: Iaa4bb777c4c16953e8312df456db204e5d3746b3\n""}, {'number': 2, 'created': '2022-04-19 20:35:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/5e2c1dfadf556033a09e620485ae8814b2d55667', 'message': ""[CI] [DNM] Test RGW in place of swift\n\n... which suprisingly it's not tested anywhere.\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/838559\nChange-Id: Iaa4bb777c4c16953e8312df456db204e5d3746b3\n""}, {'number': 3, 'created': '2022-04-19 22:20:35.000000000', 'files': ['.zuul.yaml', 'devstack/plugin.sh'], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/ec8ca48b044828027ce679ebd59548a769e3df19', 'message': ""[CI] [DNM] Test RGW in place of swift\n\n... which suprisingly it's not tested anywhere.\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/838559\nChange-Id: Iaa4bb777c4c16953e8312df456db204e5d3746b3\n""}]",0,837842,ec8ca48b044828027ce679ebd59548a769e3df19,6,1,3,10459,,,0,"[CI] [DNM] Test RGW in place of swift

... which suprisingly it's not tested anywhere.

Depends-On: https://review.opendev.org/c/openstack/devstack/+/838559
Change-Id: Iaa4bb777c4c16953e8312df456db204e5d3746b3
",git fetch https://review.opendev.org/openstack/devstack-plugin-ceph refs/changes/42/837842/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,34f2b603bf1f6eb9f05b8db1dccd096bf74edad1,test-rgw, ENABLE_CEPH_RGW: true # Disable swift. use RGW s-account: false s-container: false s-object: false s-proxy: false ENABLE_CEPH_RGW: true # Disable swift. use RGW s-account: false s-container: false s-object: false s-proxy: false,,12,0
openstack%2Fpuppet-cinder~master~I3a9251ca87d57fb56ad3afb5a63b5d66250e0fa2,openstack/puppet-cinder,master,I3a9251ca87d57fb56ad3afb5a63b5d66250e0fa2,vmdk: Use service defaults instead of hard-coded defaults,MERGED,2022-04-18 15:39:01.000000000,2022-04-19 23:07:55.000000000,2022-04-19 23:06:34.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 21129}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-18 15:39:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/17c155516c3c11f351985dc7e6a34b64c052ca32', 'message': 'vmdk: Use service defaults instead of hard-coded defaults\n\nThis removes hard-coded default values of the vmdk volume driver\nparameters. The planned change has been notified since M-release[1], so\nwe are now ready to make the change.\n\n[1] 1485924dd745fcf101516e26a882a4e24a67127b\n\nChange-Id: I3a9251ca87d57fb56ad3afb5a63b5d66250e0fa2\n'}, {'number': 2, 'created': '2022-04-19 03:15:36.000000000', 'files': ['spec/defines/cinder_backend_vmdk_spec.rb', 'manifests/backend/vmdk.pp', 'releasenotes/notes/vmdk-use-service-default-e8ab854fa81cf40c.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/bac348a784c46e7c8f65b9feb811f48e9e3a9884', 'message': 'vmdk: Use service defaults instead of hard-coded defaults\n\nThis removes hard-coded default values of the vmdk volume driver\nparameters. The planned change has been notified since M-release[1], so\nwe are now ready to make the change.\n\n[1] 1485924dd745fcf101516e26a882a4e24a67127b\n\nChange-Id: I3a9251ca87d57fb56ad3afb5a63b5d66250e0fa2\n'}]",3,838319,bac348a784c46e7c8f65b9feb811f48e9e3a9884,14,4,2,9816,,,0,"vmdk: Use service defaults instead of hard-coded defaults

This removes hard-coded default values of the vmdk volume driver
parameters. The planned change has been notified since M-release[1], so
we are now ready to make the change.

[1] 1485924dd745fcf101516e26a882a4e24a67127b

Change-Id: I3a9251ca87d57fb56ad3afb5a63b5d66250e0fa2
",git fetch https://review.opendev.org/openstack/puppet-cinder refs/changes/19/838319/2 && git format-patch -1 --stdout FETCH_HEAD,"['spec/defines/cinder_backend_vmdk_spec.rb', 'manifests/backend/vmdk.pp', 'releasenotes/notes/vmdk-use-service-default-e8ab854fa81cf40c.yaml']",3,17c155516c3c11f351985dc7e6a34b64c052ca32,,--- upgrade: - | The ``cinder::backends::vmdk::volume_foler`` parameter and the ``cinder::backends::vmdk::task_poll_interval`` parameter now default to the service default values. Make sure these parameters are set if the previous default value should be used. ,,24,28
openstack%2Fpuppet-horizon~stable%2Fxena~I88fc341f6970006b03cc796117e2fb8f46e87a52,openstack/puppet-horizon,stable/xena,I88fc341f6970006b03cc796117e2fb8f46e87a52,Allow customizing apache::vhost parameters for SSL vhost,MERGED,2022-04-19 04:22:02.000000000,2022-04-19 22:59:45.000000000,2022-04-19 22:58:24.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-19 04:22:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/93bd1d2177ad0996c0301c88c7b9f3e5e970b327', 'message': 'Allow customizing apache::vhost parameters for SSL vhost\n\nThis change introduces the new ssl_extra_params parameter, which allows\noverriding apache::vhost parameters for SSL vhost. This parameter\nbehaves like the existing extra_params parameter, but affects only\nthe SSL vhost. When this parameter is NOT set, then the extra_params\nparameter affects both non-SSL vhost and SSL vhost.\n\nChange-Id: I88fc341f6970006b03cc796117e2fb8f46e87a52\n(cherry picked from commit fa7b8c6d4a1787d648bd1d1fc71b8843d5b7a7ee)\n'}, {'number': 2, 'created': '2022-04-19 04:22:46.000000000', 'files': ['manifests/wsgi/apache.pp', 'releasenotes/notes/wsgi-ssl_extra_params-f775a56966c5d475.yaml', 'spec/classes/horizon_wsgi_apache_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/f19fc003ec0e0e954a17fbb8652f9a6205d6e520', 'message': 'Allow customizing apache::vhost parameters for SSL vhost\n\nThis change introduces the new ssl_extra_params parameter, which allows\noverriding apache::vhost parameters for SSL vhost. This parameter\nbehaves like the existing extra_params parameter, but affects only\nthe SSL vhost. When this parameter is NOT set, then the extra_params\nparameter affects both non-SSL vhost and SSL vhost.\n\nChange-Id: I88fc341f6970006b03cc796117e2fb8f46e87a52\n(cherry picked from commit fa7b8c6d4a1787d648bd1d1fc71b8843d5b7a7ee)\n(cherry picked from commit c2dd9078e6dba76040a499cc22b32cb5af4c31a0)\n'}]",0,838353,f19fc003ec0e0e954a17fbb8652f9a6205d6e520,9,3,2,9816,,,0,"Allow customizing apache::vhost parameters for SSL vhost

This change introduces the new ssl_extra_params parameter, which allows
overriding apache::vhost parameters for SSL vhost. This parameter
behaves like the existing extra_params parameter, but affects only
the SSL vhost. When this parameter is NOT set, then the extra_params
parameter affects both non-SSL vhost and SSL vhost.

Change-Id: I88fc341f6970006b03cc796117e2fb8f46e87a52
(cherry picked from commit fa7b8c6d4a1787d648bd1d1fc71b8843d5b7a7ee)
(cherry picked from commit c2dd9078e6dba76040a499cc22b32cb5af4c31a0)
",git fetch https://review.opendev.org/openstack/puppet-horizon refs/changes/53/838353/2 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/wsgi/apache.pp', 'releasenotes/notes/wsgi-ssl_extra_params-f775a56966c5d475.yaml', 'spec/classes/horizon_wsgi_apache_spec.rb']",3,93bd1d2177ad0996c0301c88c7b9f3e5e970b327,," 'docroot' => '/tmp' it { should contain_apache__vhost('horizon_ssl_vhost').with( :add_listen => false, :docroot => '/tmp' )} end context 'with ssl extra parameters' do before do params.merge!({ :extra_params => { 'docroot' => '/root1' }, :ssl_extra_params => { 'docroot' => '/root2' }, }) end it { should contain_apache__vhost('horizon_vhost').with( :docroot => '/root1' )} it { should contain_apache__vhost('horizon_ssl_vhost').with( :docroot => '/root2' )}", 'docroot' => '/tmp',71,22
openstack%2Fpuppet-horizon~stable%2Fyoga~I88fc341f6970006b03cc796117e2fb8f46e87a52,openstack/puppet-horizon,stable/yoga,I88fc341f6970006b03cc796117e2fb8f46e87a52,Allow customizing apache::vhost parameters for SSL vhost,MERGED,2022-04-19 04:22:28.000000000,2022-04-19 22:59:42.000000000,2022-04-19 22:58:26.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-19 04:22:28.000000000', 'files': ['manifests/wsgi/apache.pp', 'releasenotes/notes/wsgi-ssl_extra_params-f775a56966c5d475.yaml', 'spec/classes/horizon_wsgi_apache_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/c2dd9078e6dba76040a499cc22b32cb5af4c31a0', 'message': 'Allow customizing apache::vhost parameters for SSL vhost\n\nThis change introduces the new ssl_extra_params parameter, which allows\noverriding apache::vhost parameters for SSL vhost. This parameter\nbehaves like the existing extra_params parameter, but affects only\nthe SSL vhost. When this parameter is NOT set, then the extra_params\nparameter affects both non-SSL vhost and SSL vhost.\n\nChange-Id: I88fc341f6970006b03cc796117e2fb8f46e87a52\n(cherry picked from commit fa7b8c6d4a1787d648bd1d1fc71b8843d5b7a7ee)\n'}]",0,838354,c2dd9078e6dba76040a499cc22b32cb5af4c31a0,8,3,1,9816,,,0,"Allow customizing apache::vhost parameters for SSL vhost

This change introduces the new ssl_extra_params parameter, which allows
overriding apache::vhost parameters for SSL vhost. This parameter
behaves like the existing extra_params parameter, but affects only
the SSL vhost. When this parameter is NOT set, then the extra_params
parameter affects both non-SSL vhost and SSL vhost.

Change-Id: I88fc341f6970006b03cc796117e2fb8f46e87a52
(cherry picked from commit fa7b8c6d4a1787d648bd1d1fc71b8843d5b7a7ee)
",git fetch https://review.opendev.org/openstack/puppet-horizon refs/changes/54/838354/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/wsgi/apache.pp', 'releasenotes/notes/wsgi-ssl_extra_params-f775a56966c5d475.yaml', 'spec/classes/horizon_wsgi_apache_spec.rb']",3,c2dd9078e6dba76040a499cc22b32cb5af4c31a0,," 'docroot' => '/tmp' it { should contain_apache__vhost('horizon_ssl_vhost').with( :add_listen => false, :docroot => '/tmp' )} end context 'with ssl extra parameters' do before do params.merge!({ :extra_params => { 'docroot' => '/root1' }, :ssl_extra_params => { 'docroot' => '/root2' }, }) end it { should contain_apache__vhost('horizon_vhost').with( :docroot => '/root1' )} it { should contain_apache__vhost('horizon_ssl_vhost').with( :docroot => '/root2' )}", 'docroot' => '/tmp',71,22
openstack%2Fproject-config~master~Ib1d7e8963d79215e8b8ad8f986bf3a5805992f93,openstack/project-config,master,Ib1d7e8963d79215e8b8ad8f986bf3a5805992f93,Remove tempest-lib from infra,MERGED,2022-04-05 22:45:17.000000000,2022-04-19 22:58:36.000000000,2022-04-19 22:31:15.000000000,"[{'_account_id': 4146}, {'_account_id': 5263}, {'_account_id': 6547}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2022-04-05 22:45:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/c63068b57ed8f2a7e74bb1139aa790510c91b275', 'message': 'Remove tempest-lib from infra\n\ntempest-lib is retiring now[1] and this commit\nremoves the tempest-lib from infra.\n\nDepends-On: https://review.opendev.org/c/openstack/tempest-lib/+/836701\nChange-Id: Ib1d7e8963d79215e8b8ad8f986bf3a5805992f93\n'}, {'number': 2, 'created': '2022-04-06 13:24:25.000000000', 'files': ['gerritbot/channels.yaml', 'zuul.d/projects.yaml', 'zuul/main.yaml', 'gerrit/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/b4b77d518326339d207da87540e2aaa491b54485', 'message': 'Remove tempest-lib from infra\n\ntempest-lib is retiring now[1] and this commit\nremoves the tempest-lib from infra.\n\nDepends-On: https://review.opendev.org/c/openstack/tempest-lib/+/836701\nChange-Id: Ib1d7e8963d79215e8b8ad8f986bf3a5805992f93\n'}]",3,836703,b4b77d518326339d207da87540e2aaa491b54485,18,5,2,8556,,,0,"Remove tempest-lib from infra

tempest-lib is retiring now[1] and this commit
removes the tempest-lib from infra.

Depends-On: https://review.opendev.org/c/openstack/tempest-lib/+/836701
Change-Id: Ib1d7e8963d79215e8b8ad8f986bf3a5805992f93
",git fetch https://review.opendev.org/openstack/project-config refs/changes/03/836703/1 && git format-patch -1 --stdout FETCH_HEAD,"['gerritbot/channels.yaml', 'gerrit/projects.yaml', 'zuul.d/projects.yaml', 'zuul/main.yaml']",4,c63068b57ed8f2a7e74bb1139aa790510c91b275,retired-tempest-lib,, - openstack/tempest-lib,3,11
openstack%2Fpuppet-vswitch~master~If2d062823955b9df30d4a980166d7ab0a18f4b5d,openstack/puppet-vswitch,master,If2d062823955b9df30d4a980166d7ab0a18f4b5d,dpdk: Create port and bridge after openvswitch service is configured,MERGED,2022-04-19 01:22:11.000000000,2022-04-19 22:54:25.000000000,2022-04-19 22:54:25.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-19 01:22:11.000000000', 'files': ['manifests/ovs.pp', 'manifests/dpdk.pp', 'lib/puppet/type/vs_port.rb', 'lib/puppet/type/vs_bridge.rb'], 'web_link': 'https://opendev.org/openstack/puppet-vswitch/commit/241169515643c880ea59e7ad5ac5035d5f428f24', 'message': 'dpdk: Create port and bridge after openvswitch service is configured\n\nThis change ensures that vs_port resources and vs_bridge resources\nare invoked after the openvswitch service is started, when ovs-dpdk is\nused instead of normal ovs.\n\nDependency management is refactored to use the autorequire definition\nof resource types.\n\nChange-Id: If2d062823955b9df30d4a980166d7ab0a18f4b5d\n'}]",1,838420,241169515643c880ea59e7ad5ac5035d5f428f24,7,3,1,9816,,,0,"dpdk: Create port and bridge after openvswitch service is configured

This change ensures that vs_port resources and vs_bridge resources
are invoked after the openvswitch service is started, when ovs-dpdk is
used instead of normal ovs.

Dependency management is refactored to use the autorequire definition
of resource types.

Change-Id: If2d062823955b9df30d4a980166d7ab0a18f4b5d
",git fetch https://review.opendev.org/openstack/puppet-vswitch refs/changes/20/838420/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/ovs.pp', 'manifests/dpdk.pp', 'lib/puppet/type/vs_port.rb', 'lib/puppet/type/vs_bridge.rb']",4,241169515643c880ea59e7ad5ac5035d5f428f24,, autorequire(:service) do ['openvswitch'] end,,12,12
openstack%2Fpuppet-vswitch~master~I7a24045ee414a0ae81aa7093621ce07d791e5e31,openstack/puppet-vswitch,master,I7a24045ee414a0ae81aa7093621ce07d791e5e31,Remove remaining parameter for Dynamic Kernel Module Support,MERGED,2022-04-19 01:13:58.000000000,2022-04-19 22:53:41.000000000,2022-04-19 22:52:06.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-19 01:13:58.000000000', 'files': ['releasenotes/notes/remove-dkms_ensure-5022f7fddf0caefb.yaml', 'manifests/ovs.pp'], 'web_link': 'https://opendev.org/openstack/puppet-vswitch/commit/55af0b29fb075cf4eb1e3dccde8f0b3c73906fc4', 'message': 'Remove remaining parameter for Dynamic Kernel Module Support\n\n... because it was deprecated during Yoga cycle[1] and has had no\neffect since then.\n\n[1] 3ff72b5736d94ff32535ab345df4cb588c95286f\n\nChange-Id: I7a24045ee414a0ae81aa7093621ce07d791e5e31\n'}]",0,838419,55af0b29fb075cf4eb1e3dccde8f0b3c73906fc4,8,3,1,9816,,,0,"Remove remaining parameter for Dynamic Kernel Module Support

... because it was deprecated during Yoga cycle[1] and has had no
effect since then.

[1] 3ff72b5736d94ff32535ab345df4cb588c95286f

Change-Id: I7a24045ee414a0ae81aa7093621ce07d791e5e31
",git fetch https://review.opendev.org/openstack/puppet-vswitch refs/changes/19/838419/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/remove-dkms_ensure-5022f7fddf0caefb.yaml', 'manifests/ovs.pp']",2,55af0b29fb075cf4eb1e3dccde8f0b3c73906fc4,,,"# DEPRECATED PARAMETERS # # [*dkms_ensure*] # (optional) on debian/wheezy, ubuntu/precise, ubuntu/trusty and # ubuntu/utopic dkms (Dynamic Kernel Module Support) is used to # have a kernel module which matches the running kernel. # In newer distributions (which ship with a newer kernel) dkms # is not available anymore for openvswitch. # For RedHat this parameter is ignored. # If you like turn off dkms on Debian/Ubuntu set to false. # defaults to undef. # $dkms_ensure = undef, if $dkms_ensure { warning('The dkms_ensure parameter is deprecated and has no effect') } ",4,17
openstack%2Fironic-python-agent~master~I9636854906599f8e3e09d8ab1eb67947eeced1ae,openstack/ironic-python-agent,master,I9636854906599f8e3e09d8ab1eb67947eeced1ae,WIP: Increment hardware manager version,NEW,2022-04-19 20:37:06.000000000,2022-04-19 22:42:44.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-04-19 20:37:06.000000000', 'files': ['ironic_python_agent/hardware.py'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/fdd4c570dbccbb9a8bdc2f265f58f00b34d7e733', 'message': 'WIP: Increment hardware manager version\n\nDue to erase_devices_express, the version likely should have\nbeen incremented.\n\nChange-Id: I9636854906599f8e3e09d8ab1eb67947eeced1ae\n'}]",0,838593,fdd4c570dbccbb9a8bdc2f265f58f00b34d7e733,2,1,1,11655,,,0,"WIP: Increment hardware manager version

Due to erase_devices_express, the version likely should have
been incremented.

Change-Id: I9636854906599f8e3e09d8ab1eb67947eeced1ae
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/93/838593/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic_python_agent/hardware.py'],1,fdd4c570dbccbb9a8bdc2f265f58f00b34d7e733,, # 1.2 - Added new clean step called erase_devices_metadata HARDWARE_MANAGER_VERSION = '1.2', HARDWARE_MANAGER_VERSION = '1.1',2,1
openstack%2Fswift~stable%2Fvictoria~Ia5857c70e51d8af3e42ecaced95525be578db127,openstack/swift,stable/victoria,Ia5857c70e51d8af3e42ecaced95525be578db127,Quote paths before sending them to swob.Request.blank,MERGED,2022-04-19 20:07:40.000000000,2022-04-19 22:25:04.000000000,2022-04-19 22:23:39.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-19 20:07:40.000000000', 'files': ['test/unit/common/middleware/test_tempurl.py', 'test/unit/common/test_swob.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/f1c110be5ea58230da6974fa3ea6a1d523df1def', 'message': ""Quote paths before sending them to swob.Request.blank\n\nFollowing the fix for https://bugs.python.org/issue43882, our py39 unit\ntests started failing. This was because swob.Request.blank calls\nstdlib's urlparse, which now strips out newlines. Since Request.blank\n*also* always unquotes, just make sure we always quote the newlines we\nwant to use while testing.\n\nChange-Id: Ia5857c70e51d8af3e42ecaced95525be578db127\n(cherry picked from commit 2b5853f4196e4e3725d1ab55ae7528c41b180a58)\n""}]",0,838587,f1c110be5ea58230da6974fa3ea6a1d523df1def,7,2,1,15343,,,0,"Quote paths before sending them to swob.Request.blank

Following the fix for https://bugs.python.org/issue43882, our py39 unit
tests started failing. This was because swob.Request.blank calls
stdlib's urlparse, which now strips out newlines. Since Request.blank
*also* always unquotes, just make sure we always quote the newlines we
want to use while testing.

Change-Id: Ia5857c70e51d8af3e42ecaced95525be578db127
(cherry picked from commit 2b5853f4196e4e3725d1ab55ae7528c41b180a58)
",git fetch https://review.opendev.org/openstack/swift refs/changes/87/838587/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/common/middleware/test_tempurl.py', 'test/unit/common/test_swob.py']",2,f1c110be5ea58230da6974fa3ea6a1d523df1def,," self.assertIn(hacker, req.environ['PATH_INFO']) # sanity check _test_split_path('o%0an e', 2) _test_split_path('o%0an e', 2, 3, True)"," req = swob.Request.blank('/v1/' + hacker) resp = req.get_response(test_app) self.assertEqual(resp.status_int, 401) self.assertTrue('Www-Authenticate' in resp.headers) self.assertEqual('Swift realm=""%s""' % quoted_hacker, resp.headers['Www-Authenticate']) _test_split_path('o\nn e', 2) _test_split_path('o\nn e', 2, 3, True)",5,10
openstack%2Fcharm-deployment-guide~master~Iecd0273ba976b1b5823cf8e9f272267b65dd8977,openstack/charm-deployment-guide,master,Iecd0273ba976b1b5823cf8e9f272267b65dd8977,Fix openstack upgrade package text,MERGED,2022-04-06 15:59:33.000000000,2022-04-19 22:14:23.000000000,2022-04-19 22:11:24.000000000,"[{'_account_id': 8992}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-06 15:59:33.000000000', 'files': ['deploy-guide/source/upgrade-openstack.rst'], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/dd49cc5a79bd843a670aabd66e2b7bcd44867d7e', 'message': ""Fix openstack upgrade package text\n\nDocs currently state that charms will only upgrade the\nsoftware packages that a charm is associated with.\n\nFix this. A charm will change a machine's apt sources\nand any packages that can be upgraded for a co-located\nservice will also be upgraded.\n\nChange-Id: Iecd0273ba976b1b5823cf8e9f272267b65dd8977\n""}]",0,836851,dd49cc5a79bd843a670aabd66e2b7bcd44867d7e,7,2,1,30561,,,0,"Fix openstack upgrade package text

Docs currently state that charms will only upgrade the
software packages that a charm is associated with.

Fix this. A charm will change a machine's apt sources
and any packages that can be upgraded for a co-located
service will also be upgraded.

Change-Id: Iecd0273ba976b1b5823cf8e9f272267b65dd8977
",git fetch https://review.opendev.org/openstack/charm-deployment-guide refs/changes/51/836851/1 && git format-patch -1 --stdout FETCH_HEAD,['deploy-guide/source/upgrade-openstack.rst'],1,dd49cc5a79bd843a670aabd66e2b7bcd44867d7e,fix-upgrade-openstack-package-text,"In the below table, charms are listed in the order in which their correspondingneed to be upgraded individually. Note that since charms merely modify a machine's apt sources, any co-located service will have their packages updated along with those of the service being targeted.","In the below table charms are listed in the order in which their correspondingneed to be upgraded individually, and only the packages associated with a charm's OpenStack service will be updated.",4,3
openstack%2Fcharm-deployment-guide~master~I51ffecfd76ace9a6f7589e1d7a072a996b38bd8e,openstack/charm-deployment-guide,master,I51ffecfd76ace9a6f7589e1d7a072a996b38bd8e,Move Octavia upgrade note to issues page,MERGED,2022-04-07 15:58:15.000000000,2022-04-19 22:13:18.000000000,2022-04-19 22:11:22.000000000,"[{'_account_id': 8992}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-07 15:58:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/9bfbe8d629830cd420ed3917e83d6bc4229f5a23', 'message': 'Move Octavia upgrade note to issues page\n\nThere is an admonishment on the upgrade-openstack page\naffecting Ocatavia that is better organised as an upgrade\nissue.\n\nChange-Id: I51ffecfd76ace9a6f7589e1d7a072a996b38bd8e\n'}, {'number': 2, 'created': '2022-04-07 15:59:09.000000000', 'files': ['deploy-guide/source/upgrade-openstack.rst', 'deploy-guide/source/upgrade-issues.rst'], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/8706a17dc3da993e74fb001e8bbf303289b10250', 'message': 'Move Octavia upgrade note to issues page\n\nThere is an admonishment on the upgrade-openstack page\naffecting Ocatavia that is better organised as an upgrade\nissue.\n\nAdd a table of contents to the main body of the issues\npage to allow for better navigation.\n\nChange-Id: I51ffecfd76ace9a6f7589e1d7a072a996b38bd8e\n'}]",0,836995,8706a17dc3da993e74fb001e8bbf303289b10250,8,2,2,30561,,,0,"Move Octavia upgrade note to issues page

There is an admonishment on the upgrade-openstack page
affecting Ocatavia that is better organised as an upgrade
issue.

Add a table of contents to the main body of the issues
page to allow for better navigation.

Change-Id: I51ffecfd76ace9a6f7589e1d7a072a996b38bd8e
",git fetch https://review.opendev.org/openstack/charm-deployment-guide refs/changes/95/836995/1 && git format-patch -1 --stdout FETCH_HEAD,"['deploy-guide/source/upgrade-openstack.rst', 'deploy-guide/source/upgrade-issues.rst']",2,9bfbe8d629830cd420ed3917e83d6bc4229f5a23,move-octavia-admon-to-upgrade-note,The issues are organised by upgrade type: .. contents:: :local: :depth: 2 :backlinks: topOctavia ~~~~~~~ An Octavia upgrade may entail an update of its load balancers (amphorae) as a post-upgrade task. Reasons for doing this include: * API incompatibility between the amphora agent and the new Octavia service * the desire to use features available in the new amphora agent or haproxy See the upstream documentation on `Rotating amphora images`_. .. _Rotating amphora images: https://docs.openstack.org/octavia/latest/admin/guides/operator-maintenance.html#rotating-the-amphora-images,The issues are organised by upgrade type.,18,12
openstack%2Fkolla~stable%2Fwallaby~If7d5c2807f0947a8bbbc1ceb8531c9b9c9287c1f,openstack/kolla,stable/wallaby,If7d5c2807f0947a8bbbc1ceb8531c9b9c9287c1f,enable logging to file for quiet mode,MERGED,2022-04-19 11:38:41.000000000,2022-04-19 22:09:38.000000000,2022-04-19 16:24:20.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-04-19 11:38:41.000000000', 'files': ['releasenotes/notes/quiet-mode-with-logs-0abafc07923945ac.yaml', 'tests/playbooks/run.yml', 'kolla/common/utils.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/42c79cdd46e81e4e45a6cce61ef47bd47389f38e', 'message': ""enable logging to file for quiet mode\n\nWe have 'quiet' mode where only minimal data is printed to the console.\nBut there were no logs at all then.\n\nThis change generates log files (if 'logs-dir' argument is used) during\nquiet build.\n\nAlso enables 'quiet' mode for CI so Zuul will not have to parse 29MB\nJSON file each time.\n\nChange-Id: If7d5c2807f0947a8bbbc1ceb8531c9b9c9287c1f\n(cherry picked from commit 0cf5b1d4e6e871562c0ca0f48a21594f8d197471)\n""}]",0,838361,42c79cdd46e81e4e45a6cce61ef47bd47389f38e,9,3,1,24072,,,0,"enable logging to file for quiet mode

We have 'quiet' mode where only minimal data is printed to the console.
But there were no logs at all then.

This change generates log files (if 'logs-dir' argument is used) during
quiet build.

Also enables 'quiet' mode for CI so Zuul will not have to parse 29MB
JSON file each time.

Change-Id: If7d5c2807f0947a8bbbc1ceb8531c9b9c9287c1f
(cherry picked from commit 0cf5b1d4e6e871562c0ca0f48a21594f8d197471)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/61/838361/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/quiet-mode-with-logs-0abafc07923945ac.yaml', 'tests/playbooks/run.yml', 'kolla/common/utils.py']",3,42c79cdd46e81e4e45a6cce61ef47bd47389f38e,quiet-kolla-stable/yoga-stable/wallaby," if conf is not None and conf.debug: loglevel = logging.DEBUG else: loglevel = logging.INFO if not log.handlers: stream_handler = logging.StreamHandler(sys.stderr) stream_handler.setFormatter(logging.Formatter(logging.BASIC_FORMAT)) # NOTE(hrw): quiet mode matters only on console if conf is not None and conf.quiet: stream_handler.setLevel(logging.CRITICAL) else: stream_handler.setLevel(loglevel) log.addHandler(stream_handler) log.propagate = False if conf is not None and conf.logs_dir and image_name: # NOTE(hrw): logfile will be INFO or DEBUG handler.setLevel(loglevel) handler.setFormatter(logging.Formatter(logging.BASIC_FORMAT)) log.addHandler(handler) # NOTE(hrw): needs to be high, handlers have own levels log.setLevel(logging.DEBUG)", if not log.handlers: if conf is None or not conf.logs_dir or not image_name: handler = logging.StreamHandler(sys.stderr) log.propagate = False else: handler.setFormatter(logging.Formatter(logging.BASIC_FORMAT)) log.addHandler(handler) if conf is not None and conf.debug: log.setLevel(logging.DEBUG) elif conf is not None and conf.quiet and image_name: log.setLevel(logging.CRITICAL) else: log.setLevel(logging.INFO),30,11
openstack%2Fnova~stable%2Fyoga~I514f6b337ffefef90a0ce9ab0b4afd083caa277e,openstack/nova,stable/yoga,I514f6b337ffefef90a0ce9ab0b4afd083caa277e,[stable-only] Drop lower-constraints job,MERGED,2022-04-14 18:41:30.000000000,2022-04-19 22:09:27.000000000,2022-04-19 22:06:58.000000000,"[{'_account_id': 4393}, {'_account_id': 4690}, {'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-14 18:41:30.000000000', 'files': ['.zuul.yaml', 'lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/nova/commit/15b72717f2f3bd79791b913f1b294a19ced47ca7', 'message': ""[stable-only] Drop lower-constraints job\n\nDuring the PTG the TC discussed the topic and decided to drop the job\ncompletely. Since the latest job configuration broke all stable gate\nfor nova (older than yoga) this is needed there to unblock our gates.\nFor dropping the job on master let's wait to the resolution as the\ngate is not broken there, hence the patch is stable-only.\n\nChange-Id: I514f6b337ffefef90a0ce9ab0b4afd083caa277e\n""}]",5,838000,15b72717f2f3bd79791b913f1b294a19ced47ca7,21,4,1,17685,,,0,"[stable-only] Drop lower-constraints job

During the PTG the TC discussed the topic and decided to drop the job
completely. Since the latest job configuration broke all stable gate
for nova (older than yoga) this is needed there to unblock our gates.
For dropping the job on master let's wait to the resolution as the
gate is not broken there, hence the patch is stable-only.

Change-Id: I514f6b337ffefef90a0ce9ab0b4afd083caa277e
",git fetch https://review.opendev.org/openstack/nova refs/changes/00/838000/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'lower-constraints.txt', 'tox.ini']",3,15b72717f2f3bd79791b913f1b294a19ced47ca7,drop-lower-constraints,, [testenv:lower-constraints] usedevelop = False deps = -c{toxinidir}/lower-constraints.txt -r{toxinidir}/test-requirements.txt -r{toxinidir}/requirements.txt,0,174
openstack%2Fcharm-deployment-guide~master~Ib3118f57e18d4d0a04534ebc1004e2c0fdbd0747,openstack/charm-deployment-guide,master,Ib3118f57e18d4d0a04534ebc1004e2c0fdbd0747,Upgrade OpenStack example,MERGED,2022-01-31 23:06:48.000000000,2022-04-19 22:07:57.000000000,2022-04-19 22:05:39.000000000,"[{'_account_id': 8992}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-31 23:06:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/c8a1270dede009ce24e907abe68060edf8de3104', 'message': 'Upgrade OpenStack example\n\nChange-Id: Ib3118f57e18d4d0a04534ebc1004e2c0fdbd0747\n'}, {'number': 2, 'created': '2022-01-31 23:55:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/e0a0d9373e6f05181dc8ae70958c4e6ad0b34f87', 'message': 'Upgrade OpenStack example\n\nChange-Id: Ib3118f57e18d4d0a04534ebc1004e2c0fdbd0747\n'}, {'number': 3, 'created': '2022-02-01 00:12:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/b9bcfaec21512ed69d5627ca1d9849f82f99d086', 'message': 'Upgrade OpenStack example\n\nChange-Id: Ib3118f57e18d4d0a04534ebc1004e2c0fdbd0747\n'}, {'number': 4, 'created': '2022-02-01 03:46:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/5e1247b79bd031e2d9bac174637dd8aa9a4f3ff3', 'message': 'Upgrade OpenStack example\n\nChange-Id: Ib3118f57e18d4d0a04534ebc1004e2c0fdbd0747\n'}, {'number': 5, 'created': '2022-02-01 15:46:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/626545ab49c74a9b69000c7eb5752f86c36ef711', 'message': 'Upgrade OpenStack example\n\nChange-Id: Ib3118f57e18d4d0a04534ebc1004e2c0fdbd0747\n'}, {'number': 6, 'created': '2022-02-01 20:22:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/ae6fbe59ed15ab83c88e3cb368f8c1aae2712a12', 'message': 'Upgrade OpenStack example\n\nChange-Id: Ib3118f57e18d4d0a04534ebc1004e2c0fdbd0747\n'}, {'number': 7, 'created': '2022-02-01 23:36:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/23cf2580ececf1079fb985aab7ca961597220386', 'message': 'Upgrade OpenStack example\n\nApply the contents of the upgrade-openstack page to\nprovide a full detailed example of an actual OpenStack\nupgrade. The new page is called upgrade-openstack-example.\n\nChange-Id: Ib3118f57e18d4d0a04534ebc1004e2c0fdbd0747\n'}, {'number': 8, 'created': '2022-02-02 03:23:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/bcdcdb9b94ff80071a0d64f7e1a812247cd5630d', 'message': 'Upgrade OpenStack example\n\nApply the contents of the upgrade-openstack page to\nprovide a full detailed example of an actual OpenStack\nupgrade. The new page is called upgrade-openstack-example.\n\nChange-Id: Ib3118f57e18d4d0a04534ebc1004e2c0fdbd0747\n'}, {'number': 9, 'created': '2022-02-04 15:32:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/4e549e7d42cededb16e37543fb0eb26724089a90', 'message': 'Upgrade OpenStack example\n\nApply the contents of the upgrade-openstack page to\nprovide a full detailed example of an actual OpenStack\nupgrade. The new page is called upgrade-openstack-example.\n\nChange-Id: Ib3118f57e18d4d0a04534ebc1004e2c0fdbd0747\n'}, {'number': 10, 'created': '2022-02-04 16:31:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/f5fff19a53f0401b3c8ccf875ec9a3c6d39c4046', 'message': 'Upgrade OpenStack example\n\nApply the contents of the upgrade-openstack page to\nprovide a full detailed example of an actual OpenStack\nupgrade. The new page is called upgrade-openstack-example.\n\nChange-Id: Ib3118f57e18d4d0a04534ebc1004e2c0fdbd0747\n'}, {'number': 11, 'created': '2022-02-05 00:16:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/b4c48002d13f3f945212c0c9192f991a47f8ebfc', 'message': 'Upgrade OpenStack example\n\nApply the contents of the upgrade-openstack page to\nprovide a full detailed example of an actual OpenStack\nupgrade. The new page is called upgrade-openstack-example.\n\nDrive-by: Fix link on the index page.\n\nChange-Id: Ib3118f57e18d4d0a04534ebc1004e2c0fdbd0747\n'}, {'number': 12, 'created': '2022-02-08 18:20:27.000000000', 'files': ['deploy-guide/source/upgrade-openstack.rst', 'deploy-guide/source/upgrade-openstack-example-pre-juju-status.rst', 'deploy-guide/source/index.rst', 'deploy-guide/source/upgrade-openstack-example.rst'], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/0f7075a9a0fa42588e52613566d0b129848c0e6a', 'message': 'Upgrade OpenStack example\n\nApply the contents of the upgrade-openstack page to\nprovide a full detailed example of an actual OpenStack\nupgrade. The new page is called upgrade-openstack-example.\n\nDrive-by: Fix link on the index page.\n\nChange-Id: Ib3118f57e18d4d0a04534ebc1004e2c0fdbd0747\n'}]",2,827192,0f7075a9a0fa42588e52613566d0b129848c0e6a,29,2,12,30561,,,0,"Upgrade OpenStack example

Apply the contents of the upgrade-openstack page to
provide a full detailed example of an actual OpenStack
upgrade. The new page is called upgrade-openstack-example.

Drive-by: Fix link on the index page.

Change-Id: Ib3118f57e18d4d0a04534ebc1004e2c0fdbd0747
",git fetch https://review.opendev.org/openstack/charm-deployment-guide refs/changes/92/827192/10 && git format-patch -1 --stdout FETCH_HEAD,['deploy-guide/source/upgrade-openstack-example.rst'],1,c8a1270dede009ce24e907abe68060edf8de3104,runthrough-upgrade-openstack,========================= OpenStack upgrade example ========================= This document shows the specific commands used to perform an OpenStack upgrade. The sample cloud was deployed with a UCA OpenStack release of 'focal-wallaby' and will therefore be upgraded to 'focal-xena'. The original deployment was performed with an ``openstack-base`` bundle found in the `openstack-bundles`_ repository. MAAS was used as a backing cloud. The steps provided here are based entirely on the :doc:`OpenStack upgrade <upgrade-openstack>` page. Disable unattended-upgrades --------------------------- Perform a backup of the service databases ----------------------------------------- Archive old database data ------------------------- Purge old compute service entries --------------------------------- List upgrade order ------------------ Perform the upgrade ------------------- * maintaining service availability during an upgrade Applications ~~~~~~~~~~~~ .. LINKS .. _openstack-bundles: https://github.com/openstack-charmers/openstack-bundles ,,43,0
openstack%2Fbifrost~master~I4f69e3cc8e02ce591453a18d31a223baca5f9504,openstack/bifrost,master,I4f69e3cc8e02ce591453a18d31a223baca5f9504,dib: modify if-statement for debootstrap inclusion,ABANDONED,2022-04-19 10:45:27.000000000,2022-04-19 21:54:12.000000000,,"[{'_account_id': 14826}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-19 10:45:27.000000000', 'files': ['playbooks/roles/bifrost-ironic-install/vars/main.yml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/03d5846bb15002957ab367e4049bdcc9c43f8b46', 'message': ""dib: modify if-statement for debootstrap inclusion\n\nApply if dib_os_element in 'list of distros utilizing debootstrap'.\n\nChange-Id: I4f69e3cc8e02ce591453a18d31a223baca5f9504\n""}]",1,838476,03d5846bb15002957ab367e4049bdcc9c43f8b46,4,2,1,25600,,,0,"dib: modify if-statement for debootstrap inclusion

Apply if dib_os_element in 'list of distros utilizing debootstrap'.

Change-Id: I4f69e3cc8e02ce591453a18d31a223baca5f9504
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/76/838476/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/roles/bifrost-ironic-install/vars/main.yml'],1,03d5846bb15002957ab367e4049bdcc9c43f8b46,dib_os," - ""{% if dib_os_element in ['debian', 'ubuntu'] %}debootstrap{% endif %}"""," - ""{% if 'debian' in dib_os_element or 'ubuntu' in dib_os_element %}debootstrap{% endif %}""",1,1
openstack%2Fcharm-cinder-backup-swift-proxy~stable%2Fyoga~I6f063fa59ad3288fb8854303cde16be84d5eb4c8,openstack/charm-cinder-backup-swift-proxy,stable/yoga,I6f063fa59ad3288fb8854303cde16be84d5eb4c8,Updates for stable branch creation,MERGED,2022-04-15 10:43:40.000000000,2022-04-19 21:32:10.000000000,2022-04-19 21:32:10.000000000,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-15 10:43:40.000000000', 'files': ['.gitreview', 'test-requirements.txt', 'src/wheelhouse.txt', 'src/test-requirements.txt', 'src/build.lock'], 'web_link': 'https://opendev.org/openstack/charm-cinder-backup-swift-proxy/commit/042e71356917a679408ff04a3005dbb93ead77ba', 'message': 'Updates for stable branch creation\n\n- Set default branch for git review/gerrit.\n- Switch tests to stable.\n- Switch to using stable charm-helpers branch.\n- Switch to using stable charm.openstack branch.\n- Switch to using stable zaza, zaza-openstack-tests\n  branch\n- (reactive charms) Add build.lock file\n\nChange-Id: I6f063fa59ad3288fb8854303cde16be84d5eb4c8\n'}]",5,838119,042e71356917a679408ff04a3005dbb93ead77ba,16,3,1,20870,,,0,"Updates for stable branch creation

- Set default branch for git review/gerrit.
- Switch tests to stable.
- Switch to using stable charm-helpers branch.
- Switch to using stable charm.openstack branch.
- Switch to using stable zaza, zaza-openstack-tests
  branch
- (reactive charms) Add build.lock file

Change-Id: I6f063fa59ad3288fb8854303cde16be84d5eb4c8
",git fetch https://review.opendev.org/openstack/charm-cinder-backup-swift-proxy refs/changes/19/838119/1 && git format-patch -1 --stdout FETCH_HEAD,"['.gitreview', 'test-requirements.txt', 'src/wheelhouse.txt', 'src/test-requirements.txt', 'src/build.lock']",5,042e71356917a679408ff04a3005dbb93ead77ba,charm-release-2204,"{ ""locks"": [ { ""type"": ""layer"", ""item"": ""layer:options"", ""url"": ""https://github.com/juju-solutions/layer-options.git"", ""vcs"": null, ""branch"": ""refs/heads/master"", ""commit"": ""fcdcea4e5de3e1556c24e6704607862d0ba00a56"" }, { ""type"": ""layer"", ""item"": ""layer:basic"", ""url"": ""https://github.com/juju-solutions/layer-basic.git"", ""vcs"": null, ""branch"": ""refs/heads/master"", ""commit"": ""fb767dcf0786d1d5364199bb3b40bdc86518b45b"" }, { ""type"": ""layer"", ""item"": ""layer:openstack"", ""url"": ""https://github.com/openstack/charm-layer-openstack"", ""vcs"": null, ""branch"": ""refs/heads/master"", ""commit"": ""e0f700eacb026235e1a04e7cbc28dfbe9d4e4520"" }, { ""type"": ""layer"", ""item"": ""cinder-backup-swift-proxy"", ""url"": null, ""vcs"": null, ""branch"": ""refs/heads/stable/yoga\nrefs/heads/yoga-updates"", ""commit"": ""refs/heads/stable/yoga\nrefs/heads/yoga-updates"" }, { ""type"": ""layer"", ""item"": ""interface:tls-certificates"", ""url"": ""https://github.com/juju-solutions/interface-tls-certificates"", ""vcs"": null, ""branch"": ""refs/heads/master"", ""commit"": ""d9850016d930a6d507b9fd45e2598d327922b140"" }, { ""type"": ""layer"", ""item"": ""interface:cinder-backup"", ""url"": ""https://github.com/openstack/charm-interface-cinder-backup.git"", ""vcs"": null, ""branch"": ""refs/heads/master"", ""commit"": ""a1cdf71ad61d4ea5f912d8e0423e887ae761bff7"" }, { ""type"": ""python_module"", ""package"": ""dnspython"", ""vcs"": null, ""version"": ""1.16.0"" }, { ""type"": ""python_module"", ""package"": ""pip"", ""vcs"": null, ""version"": ""22.0.4"" }, { ""type"": ""python_module"", ""package"": ""setuptools_scm"", ""vcs"": null, ""version"": ""6.4.2"" }, { ""type"": ""python_module"", ""package"": ""netaddr"", ""vcs"": null, ""version"": ""0.7.19"" }, { ""type"": ""python_module"", ""package"": ""packaging"", ""vcs"": null, ""version"": ""21.3"" }, { ""type"": ""python_module"", ""package"": ""flit_core"", ""vcs"": null, ""version"": ""3.7.1"" }, { ""type"": ""python_module"", ""package"": ""setuptools"", ""vcs"": null, ""version"": ""49.6.0"" }, { ""type"": ""python_module"", ""package"": ""wheel"", ""vcs"": null, ""version"": ""0.37.1"" }, { ""type"": ""python_module"", ""package"": ""netifaces"", ""vcs"": null, ""version"": ""0.11.0"" }, { ""type"": ""python_module"", ""package"": ""pyparsing"", ""vcs"": null, ""version"": ""3.0.8"" }, { ""type"": ""python_module"", ""package"": ""charms.reactive"", ""vcs"": null, ""version"": ""1.5.0"" }, { ""type"": ""python_module"", ""package"": ""MarkupSafe"", ""vcs"": null, ""version"": ""2.1.1"" }, { ""type"": ""python_module"", ""package"": ""Jinja2"", ""vcs"": null, ""version"": ""3.1.1"" }, { ""type"": ""python_module"", ""package"": ""tomli"", ""vcs"": null, ""version"": ""2.0.1"" }, { ""type"": ""python_module"", ""package"": ""charms.openstack"", ""url"": ""git+https://github.com/openstack/charms.openstack.git"", ""branch"": ""refs/heads/stable/yoga"", ""version"": ""13ef220ce3529fa7b8e11c6e4c5b352d05b6f148"", ""vcs"": ""git"" }, { ""type"": ""python_module"", ""package"": ""pbr"", ""vcs"": null, ""version"": ""5.8.1"" }, { ""type"": ""python_module"", ""package"": ""charmhelpers"", ""url"": ""git+https://github.com/juju/charm-helpers.git"", ""branch"": ""refs/heads/stable/yoga"", ""version"": ""971ac5117c96bd1cb4a6a520787e4509564da582"", ""vcs"": ""git"" }, { ""type"": ""python_module"", ""package"": ""Tempita"", ""vcs"": null, ""version"": ""0.4"" }, { ""type"": ""python_module"", ""package"": ""psutil"", ""vcs"": null, ""version"": ""5.9.0"" }, { ""type"": ""python_module"", ""package"": ""PyYAML"", ""vcs"": null, ""version"": ""5.3.1"" }, { ""type"": ""python_module"", ""package"": ""pyaml"", ""vcs"": null, ""version"": ""21.10.1"" } ] }",,189,5
openstack%2Ftripleo-ansible~master~I628b5a653e9deacbfda120300198513efde0062c,openstack/tripleo-ansible,master,I628b5a653e9deacbfda120300198513efde0062c,Continue providing remaining baremetal nodes for additional failures,MERGED,2022-03-24 02:16:16.000000000,2022-04-19 21:20:51.000000000,2022-04-19 21:18:35.000000000,"[{'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-03-24 02:16:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/091184551df83219b8498e8d7e77e069434ff4b5', 'message': 'Fix missing failure handing during providing baremetal nodes\n\nThis change allows os_baremetal_provide_node module to continue\nprocessing the remaining baremetal nodes for additional failures.\n\nCurrently it continues processing nodes even it fails to start\nproviding some nodes unless failfast is false, while it immediately\nfails and suspend remaining operations if it fails at an earlier step\nlike unlocking a baremetal node.\n\nChange-Id: I628b5a653e9deacbfda120300198513efde0062c\n'}, {'number': 2, 'created': '2022-03-24 02:23:47.000000000', 'files': ['tripleo_ansible/ansible_plugins/modules/os_baremetal_provide_node.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/46a4b151a64523ab2e87eb97d94c0b749126ebbc', 'message': 'Continue providing remaining baremetal nodes for additional failures\n\nCurrently it continues processing nodes even it fails to start\nproviding some nodes unless failfast is false, while it immediately\nfails and suspend remaining operations if it fails at an earlier step\nlike unlocking a baremetal node.\n\nThis change allows the module to continue processing the remaining\nbaremetal nodes, because the failure might be specific to only some\nof the target nodes.\n\nChange-Id: I628b5a653e9deacbfda120300198513efde0062c\n'}]",1,834993,46a4b151a64523ab2e87eb97d94c0b749126ebbc,11,4,2,9816,,,0,"Continue providing remaining baremetal nodes for additional failures

Currently it continues processing nodes even it fails to start
providing some nodes unless failfast is false, while it immediately
fails and suspend remaining operations if it fails at an earlier step
like unlocking a baremetal node.

This change allows the module to continue processing the remaining
baremetal nodes, because the failure might be specific to only some
of the target nodes.

Change-Id: I628b5a653e9deacbfda120300198513efde0062c
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/93/834993/2 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/ansible_plugins/modules/os_baremetal_provide_node.py'],1,091184551df83219b8498e8d7e77e069434ff4b5,," try: wait_for_unlocked(client, node, node_timeout) if wait_for_bridge_mappings: wait_for_bridge_mapping(conn, node) "," wait_for_unlocked(client, node, node_timeout) if wait_for_bridge_mappings: wait_for_bridge_mapping(conn, node) try:",6,3
openstack%2Ftripleo-heat-templates~master~If5ac88ffccc1bb800d8af33c8896294a57e9b5fb,openstack/tripleo-heat-templates,master,If5ac88ffccc1bb800d8af33c8896294a57e9b5fb,Replace hiera by lookup,MERGED,2022-04-14 00:33:00.000000000,2022-04-19 21:18:49.000000000,2022-04-19 21:18:49.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 21129}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-04-14 00:33:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/94fb182644716bf37dc18ffa4b7fc580b25cd07d', 'message': 'Replace hiera by lookup\n\nThe hiera function is deprecated and does not work with the latest\nhieradata version 5. It should be replaced by the new lookup\nfunction[1].\n\n[1] https://puppet.com/docs/puppet/7/hiera_automatic.html\n\nWith the lookup function, we can define value type and merge behavior,\nbut these are kept default at this moment to limit scope of this change\nto just simple replacement. Adding value type might be useful to make\nsure the value is in expected type (especially when a boolean value is\nexpected), but we will revisit that later.\n\nexample:\nlookup(<NAME>, [<VALUE TYPE>], [<MERGE BEHAVIOR>], [<DEFAULT VALUE>])\n\nChange-Id: If5ac88ffccc1bb800d8af33c8896294a57e9b5fb\n'}, {'number': 2, 'created': '2022-04-14 00:37:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/326e56a630e11f8f41772a1f9734cae00c07fe93', 'message': 'Replace hiera by lookup\n\nThe hiera function is deprecated and does not work with the latest\nhieradata version 5. It should be replaced by the new lookup\nfunction[1].\n\n[1] https://puppet.com/docs/puppet/7/hiera_automatic.html\n\nWith the lookup function, we can define value type and merge behavior,\nbut these are kept default at this moment to limit scope of this change\nto just simple replacement. Adding value type might be useful to make\nsure the value is in expected type (especially when a boolean value is\nexpected), but we will revisit that later.\n\nexample:\nlookup(<NAME>, [<VALUE TYPE>], [<MERGE BEHAVIOR>], [<DEFAULT VALUE>])\n\nChange-Id: If5ac88ffccc1bb800d8af33c8896294a57e9b5fb\n'}, {'number': 3, 'created': '2022-04-14 01:31:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/33beffce678ec1c6005e9c9a3818312443dd040e', 'message': 'Replace hiera by lookup\n\nThe hiera function is deprecated and does not work with the latest\nhieradata version 5. It should be replaced by the new lookup\nfunction[1].\n\n[1] https://puppet.com/docs/puppet/7/hiera_automatic.html\n\nWith the lookup function, we can define value type and merge behavior,\nbut these are kept default at this moment to limit scope of this change\nto just simple replacement. Adding value type might be useful to make\nsure the value is in expected type (especially when a boolean value is\nexpected), but we will revisit that later.\n\nexample:\nlookup(<NAME>, [<VALUE TYPE>], [<MERGE BEHAVIOR>], [<DEFAULT VALUE>])\n\nChange-Id: If5ac88ffccc1bb800d8af33c8896294a57e9b5fb\n'}, {'number': 4, 'created': '2022-04-14 08:08:02.000000000', 'files': ['deployment/nova/nova-vnc-proxy-container-puppet.yaml', 'deployment/nova/nova-metadata-container-puppet.yaml', 'deployment/designate/designate-mdns-container-puppet.yaml', 'deployment/horizon/horizon-container-puppet.yaml', 'deployment/pacemaker/pacemaker-remote-baremetal-puppet.yaml', 'deployment/barbican/barbican-api-container-puppet.yaml', 'deployment/messaging/rpc-qdrouterd-container-puppet.yaml', 'deployment/keystone/keystone-container-puppet.yaml', 'deployment/swift/swift-proxy-container-puppet.yaml', 'deployment/etcd/etcd-container-puppet.yaml', 'deployment/cinder/cinder-backend-nvmeof-puppet.yaml', 'deployment/qdr/qdrouterd-container-puppet.yaml', 'deployment/nova/nova-migration-target-container-puppet.yaml', 'deployment/neutron/neutron-base.yaml', 'deployment/nova/nova-modular-libvirt-container-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-notify-container-puppet.yaml', 'environments/enable-stf.yaml', 'deployment/heat/heat-api-container-puppet.yaml', 'deployment/pacemaker/pacemaker-baremetal-puppet.yaml', 'environments/metrics/collectd-read-rabbitmq.yaml', 'deployment/rabbitmq/rabbitmq-container-puppet.yaml', 'deployment/database/redis-container-puppet.yaml', 'deployment/database/redis-base-puppet.yaml', 'deployment/ironic/ironic-conductor-container-puppet.yaml', 'deployment/glance/glance-api-container-puppet.yaml', 'deployment/octavia/octavia-api-container-puppet.yaml', 'deployment/neutron/neutron-ovs-agent-container-puppet.yaml', 'deployment/haproxy/haproxy-container-puppet.yaml', 'deployment/neutron/neutron-metadata-container-puppet.yaml', 'deployment/haproxy/haproxy-pacemaker-puppet.yaml', 'deployment/database/redis-pacemaker-puppet.yaml', 'deployment/placement/placement-api-container-puppet.yaml', 'deployment/cinder/cinder-volume-container-puppet.yaml', 'deployment/metrics/qdr-container-puppet.yaml', 'deployment/aodh/aodh-api-container-puppet.yaml', 'deployment/ceilometer/ceilometer-agent-notification-container-puppet.yaml', 'deployment/cinder/cinder-api-container-puppet.yaml', 'deployment/database/mysql-base.yaml', 'deployment/database/mysql-client.yaml', 'deployment/haproxy/haproxy-edge-container-puppet.yaml', 'deployment/heat/heat-api-cfn-container-puppet.yaml', 'deployment/ovn/ovn-controller-container-puppet.yaml', 'deployment/metrics/qdr-container-ansible.yaml', 'deployment/swift/swift-storage-container-puppet.yaml', 'deployment/database/mysql-pacemaker-puppet.yaml', 'deployment/nova/nova-base-puppet.yaml', 'deployment/manila/manila-api-container-puppet.yaml', 'deployment/neutron/neutron-linuxbridge-agent-baremetal-puppet.yaml', 'tools/yaml-validate.py', 'deployment/pacemaker/clustercheck-container-puppet.yaml', 'deployment/deprecated/nova/nova-libvirt-container-puppet.yaml', 'deployment/ironic/ironic-inspector-container-puppet.yaml', 'deployment/nova/nova-api-container-puppet.yaml', 'deployment/nova/nova-compute-container-puppet.yaml', 'deployment/glance/glance-api-edge-container-puppet.yaml', 'deployment/ironic/ironic-api-container-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-rpc-container-puppet.yaml', 'deployment/gnocchi/gnocchi-api-container-puppet.yaml', 'deployment/designate/designate-api-container-puppet.yaml', 'deployment/neutron/neutron-api-container-puppet.yaml', 'deployment/ceilometer/ceilometer-base-container-puppet.yaml', 'deployment/ovn/ovn-dbs-container-puppet.yaml', 'deployment/logging/rsyslog-container-puppet.yaml', 'deployment/memcached/memcached-container-puppet.yaml', 'deployment/metrics/collectd-container-puppet.yaml', 'deployment/neutron/neutron-sriov-agent-container-puppet.yaml', 'deployment/apache/apache-baremetal-puppet.j2.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ff83505e8ac6575e65116eb565bcb613536bfcf2', 'message': 'Replace hiera by lookup\n\nThe hiera function is deprecated and does not work with the latest\nhieradata version 5. It should be replaced by the new lookup\nfunction[1].\n\n[1] https://puppet.com/docs/puppet/7/hiera_automatic.html\n\nWith the lookup function, we can define value type and merge behavior,\nbut these are kept default at this moment to limit scope of this change\nto just simple replacement. Adding value type might be useful to make\nsure the value is in expected type (especially when a boolean value is\nexpected), but we will revisit that later.\n\nexample:\nlookup(<NAME>, [<VALUE TYPE>], [<MERGE BEHAVIOR>], [<DEFAULT VALUE>])\n\nChange-Id: If5ac88ffccc1bb800d8af33c8896294a57e9b5fb\n'}]",1,837786,ff83505e8ac6575e65116eb565bcb613536bfcf2,17,5,4,9816,,,0,"Replace hiera by lookup

The hiera function is deprecated and does not work with the latest
hieradata version 5. It should be replaced by the new lookup
function[1].

[1] https://puppet.com/docs/puppet/7/hiera_automatic.html

With the lookup function, we can define value type and merge behavior,
but these are kept default at this moment to limit scope of this change
to just simple replacement. Adding value type might be useful to make
sure the value is in expected type (especially when a boolean value is
expected), but we will revisit that later.

example:
lookup(<NAME>, [<VALUE TYPE>], [<MERGE BEHAVIOR>], [<DEFAULT VALUE>])

Change-Id: If5ac88ffccc1bb800d8af33c8896294a57e9b5fb
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/86/837786/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/database/redis-container-puppet.yaml', 'deployment/deprecated/nova/nova-libvirt-container-puppet.yaml', 'deployment/database/redis-base-puppet.yaml', 'deployment/ceilometer/ceilometer-agent-notification-container-puppet.yaml', 'deployment/cinder/cinder-api-container-puppet.yaml', 'deployment/database/mysql-base.yaml', 'deployment/database/mysql-client.yaml', 'deployment/barbican/barbican-api-container-puppet.yaml', 'deployment/heat/heat-api-cfn-container-puppet.yaml', 'deployment/haproxy/haproxy-pacemaker-puppet.yaml', 'deployment/cinder/cinder-backend-nvmeof-puppet.yaml', 'deployment/database/redis-pacemaker-puppet.yaml', 'deployment/ceilometer/ceilometer-base-container-puppet.yaml', 'deployment/database/mysql-pacemaker-puppet.yaml', 'environments/enable-stf.yaml', 'deployment/cinder/cinder-volume-container-puppet.yaml', 'deployment/heat/heat-api-container-puppet.yaml', 'tools/yaml-validate.py', 'environments/metrics/collectd-read-rabbitmq.yaml', 'deployment/aodh/aodh-api-container-puppet.yaml', 'deployment/apache/apache-baremetal-puppet.j2.yaml']",21,94fb182644716bf37dc18ffa4b7fc580b25cd07d,tripleo-hiera-v5," ""%{lookup('$NETWORK')}"""," ""%{hiera('$NETWORK')}""",44,44
openstack%2Ftripleo-ansible~master~I0de9a32ad68a4699ebee51e1ff789196dc9eba9b,openstack/tripleo-ansible,master,I0de9a32ad68a4699ebee51e1ff789196dc9eba9b,Add keystone install tasks,MERGED,2022-04-05 12:13:48.000000000,2022-04-19 21:18:46.000000000,2022-04-19 21:18:46.000000000,"[{'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-04-05 12:13:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/58e9b6ac49fece0689a921a207fbbb8bd0719131', 'message': 'Add keystone install tasks\n\nAdds task files for install tasks for tripleo_keystone.\n\nChange-Id: I0de9a32ad68a4699ebee51e1ff789196dc9eba9b\nSigned-off-by: James Slagle <jslagle@redhat.com>\n'}, {'number': 2, 'created': '2022-04-14 14:55:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/855168e09a7f5febdca0c1be154d7fb55bf930d7', 'message': 'Add keystone install tasks\n\nAdds task files for install tasks for tripleo_keystone.\n\nChange-Id: I0de9a32ad68a4699ebee51e1ff789196dc9eba9b\nSigned-off-by: James Slagle <jslagle@redhat.com>\n'}, {'number': 3, 'created': '2022-04-14 20:34:29.000000000', 'files': ['tripleo_ansible/roles/tripleo_keystone/tasks/keystone-logging-install.yaml', 'tripleo_ansible/roles/tripleo_keystone/tasks/keystone-install.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/2ed65f795f1b98098163e965b95d6b3ec209a7eb', 'message': 'Add keystone install tasks\n\nAdds task files for install tasks for tripleo_keystone.\n\nChange-Id: I0de9a32ad68a4699ebee51e1ff789196dc9eba9b\nSigned-off-by: James Slagle <jslagle@redhat.com>\n'}]",0,836642,2ed65f795f1b98098163e965b95d6b3ec209a7eb,14,3,3,7144,,,0,"Add keystone install tasks

Adds task files for install tasks for tripleo_keystone.

Change-Id: I0de9a32ad68a4699ebee51e1ff789196dc9eba9b
Signed-off-by: James Slagle <jslagle@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/42/836642/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_keystone/tasks/keystone-install.yaml', 'tripleo_ansible/roles/tripleo_keystone/tasks/keystone-logging-install.yaml']",2,58e9b6ac49fece0689a921a207fbbb8bd0719131,standalone-roles,"- name: create persistent directories file: path: ""{{ item.path }}"" state: directory setype: ""{{ item.setype }}"" mode: ""{{ item.mode }}"" with_items: - { 'path': /var/log/containers/keystone, 'setype': container_file_t, 'mode': '0750' } - { 'path': /var/log/containers/httpd/keystone, 'setype': container_file_t, 'mode': '0750' } ",,34,0
openstack%2Ftripleo-ansible~master~I9f854377fcd0dfa570d0dc30e34d40826de8656d,openstack/tripleo-ansible,master,I9f854377fcd0dfa570d0dc30e34d40826de8656d,Support ceph_conf_overrides for multiple_external_ceph_clusters,MERGED,2022-03-31 20:55:11.000000000,2022-04-19 21:18:43.000000000,2022-04-19 21:18:43.000000000,"[{'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2022-03-31 20:55:11.000000000', 'files': ['tripleo_ansible/roles/tripleo_ceph_client/tasks/multiple_external_ceph_clusters.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/fab0d9b58794e4b0ce16125137680ad8144d335f', 'message': ""Support ceph_conf_overrides for multiple_external_ceph_clusters\n\nThe tripleo_ceph_client role's task file to create a Ceph config\nfile for multiple external Ceph clusters does not support overrides\nwhich are passed via ceph_conf_overrides. The 'openstack overcloud\nexport ceph' command however generates files with ceph_conf_overrides\nas they are necessary for multibackend Glance deployments which use\nCeph. This patch adds a line to multiple_external_ceph_clusters.yml\nso that input files with ceph_conf_overrides are passed to the\ntripleo_ceph_client_config_overrides for each external Ceph cluster.\n\nRelated-Bug: #1966772\nChange-Id: I9f854377fcd0dfa570d0dc30e34d40826de8656d\n""}]",1,836087,fab0d9b58794e4b0ce16125137680ad8144d335f,12,5,1,18002,,,0,"Support ceph_conf_overrides for multiple_external_ceph_clusters

The tripleo_ceph_client role's task file to create a Ceph config
file for multiple external Ceph clusters does not support overrides
which are passed via ceph_conf_overrides. The 'openstack overcloud
export ceph' command however generates files with ceph_conf_overrides
as they are necessary for multibackend Glance deployments which use
Ceph. This patch adds a line to multiple_external_ceph_clusters.yml
so that input files with ceph_conf_overrides are passed to the
tripleo_ceph_client_config_overrides for each external Ceph cluster.

Related-Bug: #1966772
Change-Id: I9f854377fcd0dfa570d0dc30e34d40826de8656d
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/87/836087/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo_ceph_client/tasks/multiple_external_ceph_clusters.yml'],1,fab0d9b58794e4b0ce16125137680ad8144d335f,bug/1966772," tripleo_ceph_client_config_overrides: ""{{ multiple.get('ceph_conf_overrides',{}) }}""",,1,0
openstack%2Ftripleo-ansible~master~I2d70c80c01f07b2651c8bd3d0249f980fa1b9480,openstack/tripleo-ansible,master,I2d70c80c01f07b2651c8bd3d0249f980fa1b9480,Add tripleo_keystone role,MERGED,2022-04-05 12:13:48.000000000,2022-04-19 21:18:40.000000000,2022-04-19 21:18:40.000000000,"[{'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-04-05 12:13:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/16ec8252ee8056c944f2c1e066aa812b1fff836c', 'message': 'Add tripleo_keystone role\n\nKeystone standalone role for TripleO. Role will be used by\ntripleo-heat-templates, or directly via ansible-playbook.\n\nChange-Id: I2d70c80c01f07b2651c8bd3d0249f980fa1b9480\nSigned-off-by: James Slagle <jslagle@redhat.com>\n'}, {'number': 2, 'created': '2022-04-14 14:55:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/feaa72597838507ff2c924543b6bf15bf2682767', 'message': 'Add tripleo_keystone role\n\nKeystone standalone role for TripleO. Role will be used by\ntripleo-heat-templates, or directly via ansible-playbook.\n\nChange-Id: I2d70c80c01f07b2651c8bd3d0249f980fa1b9480\nSigned-off-by: James Slagle <jslagle@redhat.com>\n'}, {'number': 3, 'created': '2022-04-14 20:34:29.000000000', 'files': ['tripleo_ansible/roles/tripleo_keystone/tasks/main.yml', 'tripleo_ansible/roles/tripleo_keystone/molecule/default/converge.yml', 'tripleo_ansible/roles/tripleo_keystone/tasks/keystone-db-sync.yaml', 'tripleo_ansible/roles/tripleo_keystone/defaults/main.yml', 'tripleo_ansible/roles/tripleo_keystone/templates/keystone.yaml.j2', 'tripleo_ansible/roles/tripleo_keystone/templates/keystone_bootstrap.yaml.j2', 'tripleo_ansible/roles/tripleo_keystone/molecule/default/Dockerfile', 'tripleo_ansible/roles/tripleo_keystone/handlers/main.yml', 'tripleo_ansible/roles/tripleo_keystone/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_keystone/tasks/keystone.yaml', 'tripleo_ansible/roles/tripleo_keystone/templates/keystone_db_sync.yaml.j2', 'tripleo_ansible/roles/tripleo_keystone/meta/main.yml', 'zuul.d/molecule.yaml', 'tripleo_ansible/roles/tripleo_keystone/molecule/default/prepare.yml', 'tripleo_ansible/roles/tripleo_keystone/files/.gitkeep', 'tripleo_ansible/roles/tripleo_keystone/tasks/keystone-bootstrap.yaml', 'doc/source/roles/role-tripleo_keystone.rst', 'tripleo_ansible/roles/tripleo_keystone/vars/main.yml', 'tripleo_ansible/roles/tripleo_keystone/templates/keystone_cron.yaml.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/0e9d907e990cf31940ab4f5bfe83083cc76ffcb6', 'message': 'Add tripleo_keystone role\n\nKeystone standalone role for TripleO. Role will be used by\ntripleo-heat-templates, or directly via ansible-playbook.\n\nChange-Id: I2d70c80c01f07b2651c8bd3d0249f980fa1b9480\nSigned-off-by: James Slagle <jslagle@redhat.com>\n'}]",1,836641,0e9d907e990cf31940ab4f5bfe83083cc76ffcb6,16,3,3,7144,,,0,"Add tripleo_keystone role

Keystone standalone role for TripleO. Role will be used by
tripleo-heat-templates, or directly via ansible-playbook.

Change-Id: I2d70c80c01f07b2651c8bd3d0249f980fa1b9480
Signed-off-by: James Slagle <jslagle@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/41/836641/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_keystone/tasks/main.yml', 'tripleo_ansible/roles/tripleo_keystone/molecule/default/converge.yml', 'tripleo_ansible/roles/tripleo_keystone/tasks/keystone-db-sync.yaml', 'tripleo_ansible/roles/tripleo_keystone/defaults/main.yml', 'tripleo_ansible/roles/tripleo_keystone/molecule/default/Dockerfile', 'tripleo_ansible/roles/tripleo_keystone/handlers/main.yml', 'tripleo_ansible/roles/tripleo_keystone/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_keystone/tasks/keystone.yaml', 'tripleo_ansible/roles/tripleo_keystone/meta/main.yml', 'zuul.d/molecule.yaml', 'tripleo_ansible/roles/tripleo_keystone/molecule/default/prepare.yml', 'tripleo_ansible/roles/tripleo_keystone/files/.gitkeep', 'tripleo_ansible/roles/tripleo_keystone/tasks/keystone-bootstrap.yaml', 'doc/source/roles/role-tripleo_keystone.rst', 'tripleo_ansible/roles/tripleo_keystone/templates/keystone.yaml', 'tripleo_ansible/roles/tripleo_keystone/vars/main.yml', 'tripleo_ansible/roles/tripleo_keystone/templates/keystone_db_sync.yaml', 'tripleo_ansible/roles/tripleo_keystone/templates/keystone_bootstrap.yaml', 'tripleo_ansible/roles/tripleo_keystone/templates/keystone_cron.yaml']",19,16ec8252ee8056c944f2c1e066aa812b1fff836c,standalone-roles,"start_order: 4 image: {{ tripleo_keystone_image }} user: root net: host privileged: false restart: always healthcheck: test: '/usr/share/openstack-tripleo-common/healthcheck/cron keystone' command: ['/bin/bash', '-c', '/usr/local/bin/kolla_set_configs && /usr/sbin/crond -n'] volumes: {% set keystone_volumes = [] %} {%- set keystone_volumes = keystone_volumes + tripleo_keystone_common_volumes + tripleo_keystone_volumes + tripleo_keystone_logging_volumes + tripleo_keystone_internal_tls_volumes -%} {%- if tripleo_keystone_enable_internal_tls -%} {%- set keystone_volumes = keystone_volumes + tripleo_keystone_internal_tls_ca_file -%} {%- endif -%} {{ keystone_volumes }} environment: KOLLA_CONFIG_STRATEGY: COPY_ALWAYS ",,575,16
openstack%2Ftripleo-ansible~master~I0c2377ad14ec244069bc022a64b64c3e39b07779,openstack/tripleo-ansible,master,I0c2377ad14ec244069bc022a64b64c3e39b07779,Disable Octavia management gateway on update,MERGED,2022-03-22 09:21:57.000000000,2022-04-19 21:18:37.000000000,2022-04-19 21:18:37.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-03-22 09:21:57.000000000', 'files': ['tripleo_ansible/roles/octavia_overcloud_config/tasks/network.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/ebaeef728d43e05b0d7f25f953ddc15227cd7753', 'message': 'Disable Octavia management gateway on update\n\nA previous commit [0] disables the gateway of the lb-mgmt-subnet when\nthe subnet is created, but the playbook should also disable the gateway\nif the subnet already exists (on update for instance).\n\n[0] I1d007e59f95de815bd465d8d452d8270434f8090\n\nChange-Id: I0c2377ad14ec244069bc022a64b64c3e39b07779\n'}]",0,834633,ebaeef728d43e05b0d7f25f953ddc15227cd7753,9,5,1,29244,,,0,"Disable Octavia management gateway on update

A previous commit [0] disables the gateway of the lb-mgmt-subnet when
the subnet is created, but the playbook should also disable the gateway
if the subnet already exists (on update for instance).

[0] I1d007e59f95de815bd465d8d452d8270434f8090

Change-Id: I0c2377ad14ec244069bc022a64b64c3e39b07779
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/33/834633/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/octavia_overcloud_config/tasks/network.yml'],1,ebaeef728d43e05b0d7f25f953ddc15227cd7753,, else openstack subnet set --gateway none {{ lb_mgmt_subnet_name }},,2,0
openstack%2Ftripleo-ansible~stable%2Ftrain~Ic46ba50c7200d5b4eacd1ee8c03d135bdcc2e353,openstack/tripleo-ansible,stable/train,Ic46ba50c7200d5b4eacd1ee8c03d135bdcc2e353,Prevent the abusive restart of the octavia services,MERGED,2022-03-16 09:57:36.000000000,2022-04-19 21:18:32.000000000,2022-04-19 21:18:32.000000000,"[{'_account_id': 6681}, {'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-03-16 09:57:36.000000000', 'files': ['tripleo_ansible/roles/octavia-controller-config/tasks/netinterface.yml', 'tripleo_ansible/roles/octavia-controller-post-config/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/0870220cab63582016fdec5d9cdd1bb4d99fb846', 'message': ""Prevent the abusive restart of the octavia services\n\nThe octavia services were always restarted when running the\nansible-playbook\n\n1. The 'Bring the management port interface up' task should only be run\n   if the 'create octavia management interface' task changed.\n   Add a when clause that checks the output of the previous task.\n2. A 'when' clause compares 2 strings, but one of the strings always\n   starts with a whitespace, while the other string doesn't.\n   Trim the output of a task to make sure the strings are formatted\n   correctly.\n\nCloses-Bug: 1964099\nChange-Id: Ic46ba50c7200d5b4eacd1ee8c03d135bdcc2e353\n(cherry picked from commit 78d58174c339d9eea465e9ab29d6580079f9ff64)\n(cherry picked from commit fde570021032937b8ad30995ba84b9c6376cb761)\n(cherry picked from commit 82512d8bc5ff9b9e69dbe39cf5a7e6340f501fea)\n(cherry picked from commit d2e492bba85b1680b77d05da49248c2299be9f22)\n""}]",1,833976,0870220cab63582016fdec5d9cdd1bb4d99fb846,9,5,1,29244,,,0,"Prevent the abusive restart of the octavia services

The octavia services were always restarted when running the
ansible-playbook

1. The 'Bring the management port interface up' task should only be run
   if the 'create octavia management interface' task changed.
   Add a when clause that checks the output of the previous task.
2. A 'when' clause compares 2 strings, but one of the strings always
   starts with a whitespace, while the other string doesn't.
   Trim the output of a task to make sure the strings are formatted
   correctly.

Closes-Bug: 1964099
Change-Id: Ic46ba50c7200d5b4eacd1ee8c03d135bdcc2e353
(cherry picked from commit 78d58174c339d9eea465e9ab29d6580079f9ff64)
(cherry picked from commit fde570021032937b8ad30995ba84b9c6376cb761)
(cherry picked from commit 82512d8bc5ff9b9e69dbe39cf5a7e6340f501fea)
(cherry picked from commit d2e492bba85b1680b77d05da49248c2299be9f22)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/76/833976/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/octavia-controller-config/tasks/netinterface.yml', 'tripleo_ansible/roles/octavia-controller-post-config/tasks/main.yml']",2,0870220cab63582016fdec5d9cdd1bb4d99fb846,," current_ip_list: ""{{ config_contents.stdout | trim }}"""," current_ip_list: ""{{ config_contents.stdout }}""",4,1
openstack%2Ftripleo-ansible~stable%2Fvictoria~Ic46ba50c7200d5b4eacd1ee8c03d135bdcc2e353,openstack/tripleo-ansible,stable/victoria,Ic46ba50c7200d5b4eacd1ee8c03d135bdcc2e353,Prevent the abusive restart of the octavia services,MERGED,2022-03-16 09:56:46.000000000,2022-04-19 20:37:06.000000000,2022-04-19 20:37:06.000000000,"[{'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-03-16 09:56:46.000000000', 'files': ['tripleo_ansible/roles/octavia_controller_post_config/tasks/main.yml', 'tripleo_ansible/roles/octavia_controller_config/tasks/netinterface.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/82512d8bc5ff9b9e69dbe39cf5a7e6340f501fea', 'message': ""Prevent the abusive restart of the octavia services\n\nThe octavia services were always restarted when running the\nansible-playbook\n\n1. The 'Bring the management port interface up' task should only be run\n   if the 'create octavia management interface' task changed.\n   Add a when clause that checks the output of the previous task.\n2. A 'when' clause compares 2 strings, but one of the strings always\n   starts with a whitespace, while the other string doesn't.\n   Trim the output of a task to make sure the strings are formatted\n   correctly.\n\nCloses-Bug: 1964099\nChange-Id: Ic46ba50c7200d5b4eacd1ee8c03d135bdcc2e353\n(cherry picked from commit 78d58174c339d9eea465e9ab29d6580079f9ff64)\n(cherry picked from commit fde570021032937b8ad30995ba84b9c6376cb761)\n""}]",0,833974,82512d8bc5ff9b9e69dbe39cf5a7e6340f501fea,7,3,1,29244,,,0,"Prevent the abusive restart of the octavia services

The octavia services were always restarted when running the
ansible-playbook

1. The 'Bring the management port interface up' task should only be run
   if the 'create octavia management interface' task changed.
   Add a when clause that checks the output of the previous task.
2. A 'when' clause compares 2 strings, but one of the strings always
   starts with a whitespace, while the other string doesn't.
   Trim the output of a task to make sure the strings are formatted
   correctly.

Closes-Bug: 1964099
Change-Id: Ic46ba50c7200d5b4eacd1ee8c03d135bdcc2e353
(cherry picked from commit 78d58174c339d9eea465e9ab29d6580079f9ff64)
(cherry picked from commit fde570021032937b8ad30995ba84b9c6376cb761)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/74/833974/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/octavia_controller_post_config/tasks/main.yml', 'tripleo_ansible/roles/octavia_controller_config/tasks/netinterface.yml']",2,82512d8bc5ff9b9e69dbe39cf5a7e6340f501fea,, register: octavia_ifcfg_file when: - octavia_ifcfg_file.changed|bool,,4,1
openstack%2Ftempest~master~Ieab0c3ed465e977622a0c2ff62cc7f10efc142ef,openstack/tempest,master,Ieab0c3ed465e977622a0c2ff62cc7f10efc142ef,Fix Unittest failures in test_users,ABANDONED,2022-01-12 22:14:05.000000000,2022-04-19 20:34:35.000000000,,"[{'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2022-01-12 22:14:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/b7b2ba6d2fd1b352b6672f61f61fd1e8a75aeb8c', 'message': 'Fix Unittest in test_users\n\nfixes:\n- fixes logic error in test_users._restore_password. Decoupled\n  config options user_unique_last_password_count and\n  unique_last_password_count.\n\nother: This change does *not* fix bug_1946459\nChange-Id: Ieab0c3ed465e977622a0c2ff62cc7f10efc142ef\n'}, {'number': 2, 'created': '2022-01-12 22:14:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/5f325b5ad47d0b264c62541bbd431314c2278a8d', 'message': 'Fix Unittest in test_users\n\nfixes:\n- fixes logic error in test_users._restore_password. Decoupled\n  config options user_unique_last_password_count and\n  unique_last_password_count.\n\nother: This change does *not* fix bug_1946459\n\nChange-Id: Ieab0c3ed465e977622a0c2ff62cc7f10efc142ef\n'}, {'number': 3, 'created': '2022-01-12 22:14:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/1ad3511ea83fa49ec370fa11082d0ae22c8bc85b', 'message': 'Fix Unittest in test_users\n\nfixes:\n  fixes logic error in test_users._restore_password. Decoupled\n  config options user_unique_last_password_count and\n  unique_last_password_count.\n\nother: This change does *not* fix bug_1946459\n\nChange-Id: Ieab0c3ed465e977622a0c2ff62cc7f10efc142ef\n'}, {'number': 4, 'created': '2022-01-12 22:16:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/e3070590b622002f7b758d471f22fda30a88db12', 'message': 'Fix Unittest failures in test_users\n\nfixes:\n  fixes logic error in test_users._restore_password. Decoupled\n  config options user_unique_last_password_count and\n  unique_last_password_count.\n\nother: This change does *not* fix bug_1946459\n\nChange-Id: Ieab0c3ed465e977622a0c2ff62cc7f10efc142ef\n'}, {'number': 5, 'created': '2022-01-13 18:23:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/039a75bced02e41a54764e99732648aec47f3e48', 'message': 'Fix Unittest failures in test_users\n\nfixes:\n  fixes logic error in test_users._restore_password. Decoupled\n  config options user_unique_last_password_count and\n  unique_last_password_count.\n\nother: This change may not fix bug_1946459\n\nChange-Id: Ieab0c3ed465e977622a0c2ff62cc7f10efc142ef\n'}, {'number': 6, 'created': '2022-01-13 22:40:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/7ff4b8962db237dbc30538bda2b079cb27858f61', 'message': 'Fix Unittest failures in test_users\n\nfixes:\n  fixes logic error in test_users._restore_password. Decoupled\n  config options user_unique_last_password_count and\n  unique_last_password_count .\n\nother: This change may not fix bug_1946459\n\nChange-Id: Ieab0c3ed465e977622a0c2ff62cc7f10efc142ef\n'}, {'number': 7, 'created': '2022-01-14 13:45:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/b47f9ccf0638ebe134532c2efd9c0969f62fde9b', 'message': 'Fix Unittest failures in test_users\n\nfixes:\n  fixes logic error in test_users._restore_password. Decoupled\n  config options user_unique_last_password_count and\n  unique_last_password_count.\n\nother: This change may not fix bug_1946459\n\nChange-Id: Ieab0c3ed465e977622a0c2ff62cc7f10efc142ef\n'}, {'number': 8, 'created': '2022-01-17 13:52:41.000000000', 'files': ['tempest/api/identity/v3/test_users.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/3dd362ba4842bac5f5b97d73ce43b0927d1d178e', 'message': 'Fix Unittest failures in test_users\n\nfixes:\n  fixes logic error in test_users._restore_password. Decoupled\n  config options user_unique_last_password_count and\n  unique_last_password_count .\n\nother: This change may not fix bug_1946459\n\nChange-Id: Ieab0c3ed465e977622a0c2ff62cc7f10efc142ef\n'}]",8,824491,3dd362ba4842bac5f5b97d73ce43b0927d1d178e,19,3,8,34308,,,0,"Fix Unittest failures in test_users

fixes:
  fixes logic error in test_users._restore_password. Decoupled
  config options user_unique_last_password_count and
  unique_last_password_count .

other: This change may not fix bug_1946459

Change-Id: Ieab0c3ed465e977622a0c2ff62cc7f10efc142ef
",git fetch https://review.opendev.org/openstack/tempest refs/changes/91/824491/2 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/identity/v3/test_users.py'],1,b7b2ba6d2fd1b352b6672f61f61fd1e8a75aeb8c,unitTestFailures_IdentityV3UsersTest," # First we need to clear the password history unique_count = CONF.identity.user_unique_last_password_count for _ in range(unique_count): random_pass = data_utils.rand_password() self._update_password( original_password=new_pass, password=random_pass) new_pass = random_pass"," if CONF.identity_feature_enabled.security_compliance: # First we need to clear the password history unique_count = CONF.identity.user_unique_last_password_count for _ in range(unique_count): random_pass = data_utils.rand_password() self._update_password( original_password=new_pass, password=random_pass) new_pass = random_pass @testtools.skipUnless(CONF.identity_feature_enabled.security_compliance, 'Security compliance not available.') @testtools.skipUnless(CONF.identity_feature_enabled.security_compliance, 'Security compliance not available.')",7,12
openstack%2Fmanila~master~Ib5a62599b84ba55617071f8bcd8e2a1a11b2537b,openstack/manila,master,Ib5a62599b84ba55617071f8bcd8e2a1a11b2537b,Shares Metadata follow-up patch,MERGED,2022-04-11 19:09:33.000000000,2022-04-19 20:30:55.000000000,2022-04-18 20:31:10.000000000,"[{'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 29632}]","[{'number': 1, 'created': '2022-04-11 19:09:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/f2dcb6e1b83dfd5795742a3bd8326e261c55d865', 'message': 'Shares Metadata follow-up patch\n\nAddresses some comments from initial patch here [1].\nAlso addresses a regression regarding get_metadata_item or show_metadata\nand the response keys as shown in this bug [2].\n\n[1]: https://review.opendev.org/c/openstack/manila/+/824648\n[2]: https://bugs.launchpad.net/manila/+bug/1968069\n\nChange-Id: Ib5a62599b84ba55617071f8bcd8e2a1a11b2537b\n'}, {'number': 2, 'created': '2022-04-11 19:10:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/aba9b5a1bc0a156f9ab1942d6b853edaa2ac123e', 'message': 'Shares Metadata follow-up patch\n\nAddresses some comments from initial patch here [1].\nAlso addresses a regression regarding get_metadata_item or show_metadata\nand the response keys as shown in this bug [2].\n\n[1]: https://review.opendev.org/c/openstack/manila/+/824648\n[2]: https://bugs.launchpad.net/manila/+bug/1968069\n\nCloses-Bug: #1968069\nChange-Id: Ib5a62599b84ba55617071f8bcd8e2a1a11b2537b\n'}, {'number': 3, 'created': '2022-04-12 13:24:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/96da71cba19519306a1e8147f3e2ac789303bd10', 'message': 'Shares Metadata follow-up patch\n\nAddresses some comments from initial patch here [1].\nAlso addresses a regression regarding get_metadata_item or show_metadata\nand the response keys as shown in this bug [2].\n\n[1]: https://review.opendev.org/c/openstack/manila/+/824648\n[2]: https://bugs.launchpad.net/manila/+bug/1968069\n\nCloses-Bug: #1968069\nDepends-On: I7b1af957f08328c642a74ff123deb78e193bbe3a\nChange-Id: Ib5a62599b84ba55617071f8bcd8e2a1a11b2537b\n'}, {'number': 4, 'created': '2022-04-12 16:46:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/d9f54b8af7eb66b9ccd6461fdb950f3441713ff0', 'message': 'Shares Metadata follow-up patch\n\nAddresses some comments from initial patch here [1].\nAlso addresses a regression regarding get_metadata_item or show_metadata\nand the response keys as shown in this bug [2].\n\n[1]: https://review.opendev.org/c/openstack/manila/+/824648\n[2]: https://bugs.launchpad.net/manila/+bug/1968069\n\nChange-Id: Ib5a62599b84ba55617071f8bcd8e2a1a11b2537b\n'}, {'number': 5, 'created': '2022-04-14 21:09:28.000000000', 'files': ['manila/share/api.py', 'manila/tests/db/sqlalchemy/test_api.py', 'manila/tests/api/v2/test_metadata.py', 'releasenotes/notes/bug-1968069-fix-share-metadata-api-c31aca75bac66501.yaml', 'manila/api/v2/metadata.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/2c1456b3f24a9f8a6a031b0cc963fb61cbf869f9', 'message': 'Shares Metadata follow-up patch\n\nAddresses some comments from initial patch here [1].\nAlso addresses a regression regarding get_metadata_item or show_metadata\nand the response keys as shown in this bug [2].\n\n[1]: https://review.opendev.org/c/openstack/manila/+/824648\n[2]: https://bugs.launchpad.net/manila/+bug/1968069\n\nCloses-Bug: #1968069\nChange-Id: Ib5a62599b84ba55617071f8bcd8e2a1a11b2537b\n'}]",10,837400,2c1456b3f24a9f8a6a031b0cc963fb61cbf869f9,30,3,5,32594,,,0,"Shares Metadata follow-up patch

Addresses some comments from initial patch here [1].
Also addresses a regression regarding get_metadata_item or show_metadata
and the response keys as shown in this bug [2].

[1]: https://review.opendev.org/c/openstack/manila/+/824648
[2]: https://bugs.launchpad.net/manila/+bug/1968069

Closes-Bug: #1968069
Change-Id: Ib5a62599b84ba55617071f8bcd8e2a1a11b2537b
",git fetch https://review.opendev.org/openstack/manila refs/changes/00/837400/4 && git format-patch -1 --stdout FETCH_HEAD,"['manila/share/api.py', 'manila/tests/db/sqlalchemy/test_api.py', 'manila/tests/api/v2/test_metadata.py', 'manila/api/v2/metadata.py']",4,f2dcb6e1b83dfd5795742a3bd8326e261c55d865,share-metadata-follow-up, return {'meta': {key: item[key]}}, return {'metadata': {key: item}},26,29
openstack%2Fnova~stable%2Fussuri~I75408b4e8fbd0fd3e44ce2a3b417107b4cff3d38,openstack/nova,stable/ussuri,I75408b4e8fbd0fd3e44ce2a3b417107b4cff3d38,[stable-only] libvirt: UEFI: skip OVMF_CODE.secboot.fd on pc if possible,ABANDONED,2022-02-13 22:28:23.000000000,2022-04-19 20:10:39.000000000,,"[{'_account_id': 11604}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-13 22:28:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/72f533a66dff14bd4bc290d6de5863ed44d8bd72', 'message': 'libvirt: disable secure boot on non-q35 or with os secure_boot options\n\nImpact:\n===\n\nCurrently, setting hw_firwmare_type=uefi on Ubuntu 20.04\nmight create _unbootable_ servers on Ussuri and Victoria.\n\nWallaby and later are fixed with refactoring, as part of\nthe Secure Boot implementation, but that\'s risky; see\ncommit 9fff6893ce2e (""libvirt: Use firmware metadata files\nto configure instance"") and others.\n\nIssue:\n===\n\nThe issue is that if UEFI is enabled, SB can be enabled\nif loader OVMF_CODE.secboot.fd exists (eg, Ubuntu 20.04);\nsee commit 363710b65543 (""libvirt: Handle alternative\nUEFI firmware binary paths"").\n\nThis is unintended and might prevent guest from booting\nbecause SB requires an q35 machine type, SMM feature in\nlibvirt XML, SB-ready image etc. (Neither is enabled by\ndefault nor guaranteed to be available or functional.)\n\nApproach:\n===\n\nWell, SB support _isn\'t_ implemented in Ussuri/Victoria,\nonly later in Wallaby. The first commit above fixes the\nissue because it removes hardcoded firmware/loader path\nfrom second commit above.\n\nAs SB isn\'t supported, could we just ignore .secboot.fd?\n\nBut let\'s not change default behavior ~2 years into LTS.\n\nFix:\n===\n\nSo, ignore .secboot.fd loader IF not q35. And since q35\nmay be set for AMD SEV, check `os.secure_boot` property/\nextra spec for `disabled` to ignore .secboot.fd as well\n(as listed in future `doc/source/admin/secure-boot.rst`),\nand users can explicitly disable it to boot UEFI on q35.\n\n(And as SB is not supported, do not check for both must\nmatch [`disabled`/`required`] as `required` isn\'t valid;\nthus if either image/flavor sets `disabled`, disable it).\n\nInfo:\n===\n\n    [0] https://docs.openstack.org/nova/wallaby/admin/uefi.html\n    [1] https://docs.openstack.org/nova/wallaby/admin/secure-boot.html\n    [2] https://docs.openstack.org/nova/wallaby/user/flavors.html\n    [3] https://specs.openstack.org/openstack/nova-specs/specs/wallaby/implemented/allow-secure-boot-for-qemu-kvm-guests.html\n\nTests:\n===\n\n    Original:\n\n    - Boots: BIOS / pc\n    - Boots: BIOS / q35\n\n    - Fails: UEFI / pc  / OVMF_CODE.secboot.fd\n    - Fails: UEFI / q35 / OVMF_CODE.secboot.fd\n\n    Patched:\n\n    - Boots: BIOS / pc\n    - Boots: BIOS / q35\n\n    - Boots: UEFI / pc  / OVMF_CODE.fd          # FIXED!\n    - Fails: UEFI / q35 / OVMF_CODE.secboot.fd  # No change by default.\n\n    - Boots: UEFI / q35 / OVMF_CODE.fd / os_secure_boot=disabled (image)\n    - Boots: UEFI / q35 / OVMF_CODE.fd / os:secure_boot=disabled (flavor)\n\nLogs: (included for PC with UEFI only; broken/fixed case)\n===\n\n    $ openstack image set --property hw_firmware_type=uefi bionic\n    $ openstack server create --image bionic --flavor m1.small --network private srv\n\nBefore:\n\n    $ juju run --app nova-compute \'for guest in $(virsh list --name); do \\\n      virsh dumpxml $guest; done | grep -e nova:name -e machine= -e loader\'\n          <nova:name>srv</nova:name>\n        <type arch=\'x86_64\' machine=\'pc-i440fx-4.2\'>hvm</type>\n        <loader readonly=\'yes\' type=\'pflash\'>/usr/share/OVMF/OVMF_CODE.secboot.fd</loader>\n\n    Guest doesn\'t boot; nothing in the console log:\n\n    $ openstack console log show srv | grep -i -e efi -e bios\n    $ openstack console log show srv | wc -l\n    0\n\n    QEMU looping / 100% CPU:\n\n    $ juju run --app nova-compute \'top -b -d1 -n5 | grep qemu\'\n      67205 libvirt+  ... 100.0   1.4   1:18.35\tqemu-sy+\n      67205 libvirt+  ... 100.0   1.4   1:19.36\tqemu-sy+\n      67205 libvirt+  ...  99.0   1.4   1:20.36\tqemu-sy+\n      67205 libvirt+  ... 101.0   1.4   1:21.37\tqemu-sy+\n      67205 libvirt+  ... 100.0   1.4   1:22.38\tqemu-sy+\n\nAfter:\n\n    $ juju run --app nova-compute \'for guest in $(virsh list --name); do \\\n      virsh dumpxml $guest; done | grep -e nova:name -e machine= -e loader\'\n          <nova:name>srv</nova:name>\n        <type arch=\'x86_64\' machine=\'pc-i440fx-4.2\'>hvm</type>\n        <loader readonly=\'yes\' type=\'pflash\'>/usr/share/OVMF/OVMF_CODE.fd</loader>\n\n    Guest booted; details in the console log:\n\n    $ openstack console log show srv | grep -i -e efi -e bios\n    ...\n    Creating boot entry ""Boot0003"" with label ""ubuntu"" for file ""\\EFI\\ubuntu\\shimx64.efi""\n    ...\n    [    0.000000] efi: EFI v2.70 by EDK II\n    [    0.000000] efi:  SMBIOS=0x7fbcd000  ACPI=0x7fbfa000  ACPI\n    2.0=0x7fbfa014  MEMATTR=0x7eb30018\n    [    0.000000] SMBIOS 2.8 present.\n    [    0.000000] DMI: OpenStack Foundation OpenStack Nova, BIOS 0.0.0 02/06/2015\n    ...\n\nNote that the XML snippet for the loader is aligned with Wallaby,\nin which just setting hw_firmware_type=uefi works out of the box:\n\n    $ juju run --app nova-compute \'for guest in $(virsh list --name); do \\\n      virsh dumpxml $guest; done | grep -e nova:name -e machine= -e loader\'\n        <nova:name>srv</nova:name>\n      <type arch=\'x86_64\' machine=\'pc-i440fx-4.2\'>hvm</type>\n      <loader readonly=\'yes\' secure=\'no\' type=\'pflash\'>/usr/share/OVMF/OVMF_CODE.fd</loader>\n\nCloses-Bug: #1960758\nSigned-off-by: Mauricio Faria de Oliveira <mfo@canonical.com>\nChange-Id: I75408b4e8fbd0fd3e44ce2a3b417107b4cff3d38\n'}, {'number': 2, 'created': '2022-02-14 12:45:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e4e0b0298cad74e45296af9e86dc59243060a2a0', 'message': '[stable-only] libvirt: disable secure boot on non-q35 or with os secure_boot options\n\nImpact:\n===\n\nCurrently, setting hw_firwmare_type=uefi on Ubuntu 20.04\nmight create _unbootable_ servers on Ussuri and Victoria.\n\nWallaby and later are fixed with refactoring, as part of\nthe Secure Boot implementation, but that\'s risky; see\ncommit 9fff6893ce2e (""libvirt: Use firmware metadata files\nto configure instance"") and others.\n\nIssue:\n===\n\nThe issue is that if UEFI is enabled, SB can be enabled\nif loader OVMF_CODE.secboot.fd exists (eg, Ubuntu 20.04);\nsee commit 363710b65543 (""libvirt: Handle alternative\nUEFI firmware binary paths"").\n\nThis is unintended and might prevent guest from booting\nbecause SB requires an q35 machine type, SMM feature in\nlibvirt XML, SB-ready image etc. (Neither is enabled by\ndefault nor guaranteed to be available or functional.)\n\nApproach:\n===\n\nWell, SB support _isn\'t_ implemented in Ussuri/Victoria,\nonly later in Wallaby. The first commit above fixes the\nissue because it removes hardcoded firmware/loader path\nfrom second commit above.\n\nAs SB isn\'t supported should we just ignore .secboot.fd?\nMaybe not completely? Let\'s ignore it if not q35 (which\nit _needs_; note the behavior change but it\'s otherwise\nbroken anyway), and if q35 is used (for something else)\nand still broken with .secboot.fd, provide users with a\nway out of the latter using documented (future) options.\n\n[Or should we opinionatedly just ignore .secboot.fd, as\nSecure Boot is not yet supported anyway, and options to\nget it back are provided? (e.g. os secure_boot=required).\n\nFix:\n===\n\nSo, ignore .secboot.fd loader IF not q35. And since q35\nmay be set for AMD SEV, check `os.secure_boot` property/\nextra spec for `disabled` to ignore .secboot.fd as well\n(as listed in future `doc/source/admin/secure-boot.rst`),\nand users can explicitly disable it to boot UEFI on q35.\n\n(And as SB is not supported, do not check for both must\nmatch [`disabled`/`required`] as `required` isn\'t valid;\nthus if either image/flavor sets `disabled`, disable it).\n\nInfo:\n===\n\n    [0] https://docs.openstack.org/nova/wallaby/admin/uefi.html\n    [1] https://docs.openstack.org/nova/wallaby/admin/secure-boot.html\n    [2] https://docs.openstack.org/nova/wallaby/user/flavors.html\n    [3] https://specs.openstack.org/openstack/nova-specs/specs/wallaby/implemented/allow-secure-boot-for-qemu-kvm-guests.html\n\nTests:\n===\n\n    Original:\n\n    - Boots: BIOS / pc\n    - Boots: BIOS / q35\n\n    - Fails: UEFI / pc  / OVMF_CODE.secboot.fd\n    - Fails: UEFI / q35 / OVMF_CODE.secboot.fd\n\n    Patched:\n\n    - Boots: BIOS / pc\n    - Boots: BIOS / q35\n\n    - Boots: UEFI / pc  / OVMF_CODE.fd          # FIXED!\n    - Fails: UEFI / q35 / OVMF_CODE.secboot.fd  # No change by default.\n\n    - Boots: UEFI / q35 / OVMF_CODE.fd / os_secure_boot=disabled (image)\n    - Boots: UEFI / q35 / OVMF_CODE.fd / os:secure_boot=disabled (flavor)\n\nLogs: (included for PC with UEFI only; broken/fixed case)\n===\n\n    $ openstack image set --property hw_firmware_type=uefi bionic\n    $ openstack server create --image bionic --flavor m1.small --network private srv\n\nBefore:\n\n    $ juju run --app nova-compute \'for guest in $(virsh list --name); do \\\n      virsh dumpxml $guest; done | grep -e nova:name -e machine= -e loader\'\n          <nova:name>srv</nova:name>\n        <type arch=\'x86_64\' machine=\'pc-i440fx-4.2\'>hvm</type>\n        <loader readonly=\'yes\' type=\'pflash\'>/usr/share/OVMF/OVMF_CODE.secboot.fd</loader>\n\n    Guest doesn\'t boot; nothing in the console log:\n\n    $ openstack console log show srv | grep -i -e efi -e bios\n    $ openstack console log show srv | wc -l\n    0\n\n    QEMU looping / 100% CPU:\n\n    $ juju run --app nova-compute \'top -b -d1 -n5 | grep qemu\'\n      67205 libvirt+  ... 100.0   1.4   1:18.35\tqemu-sy+\n      67205 libvirt+  ... 100.0   1.4   1:19.36\tqemu-sy+\n      67205 libvirt+  ...  99.0   1.4   1:20.36\tqemu-sy+\n      67205 libvirt+  ... 101.0   1.4   1:21.37\tqemu-sy+\n      67205 libvirt+  ... 100.0   1.4   1:22.38\tqemu-sy+\n\nAfter:\n\n    $ juju run --app nova-compute \'for guest in $(virsh list --name); do \\\n      virsh dumpxml $guest; done | grep -e nova:name -e machine= -e loader\'\n          <nova:name>srv</nova:name>\n        <type arch=\'x86_64\' machine=\'pc-i440fx-4.2\'>hvm</type>\n        <loader readonly=\'yes\' type=\'pflash\'>/usr/share/OVMF/OVMF_CODE.fd</loader>\n\n    Guest booted; details in the console log:\n\n    $ openstack console log show srv | grep -i -e efi -e bios\n    ...\n    Creating boot entry ""Boot0003"" with label ""ubuntu"" for file ""\\EFI\\ubuntu\\shimx64.efi""\n    ...\n    [    0.000000] efi: EFI v2.70 by EDK II\n    [    0.000000] efi:  SMBIOS=0x7fbcd000  ACPI=0x7fbfa000  ACPI\n    2.0=0x7fbfa014  MEMATTR=0x7eb30018\n    [    0.000000] SMBIOS 2.8 present.\n    [    0.000000] DMI: OpenStack Foundation OpenStack Nova, BIOS 0.0.0 02/06/2015\n    ...\n\nNote that the XML snippet for the loader is aligned with Wallaby,\nin which just setting hw_firmware_type=uefi works out of the box:\n\n    $ juju run --app nova-compute \'for guest in $(virsh list --name); do \\\n      virsh dumpxml $guest; done | grep -e nova:name -e machine= -e loader\'\n        <nova:name>srv</nova:name>\n      <type arch=\'x86_64\' machine=\'pc-i440fx-4.2\'>hvm</type>\n      <loader readonly=\'yes\' secure=\'no\' type=\'pflash\'>/usr/share/OVMF/OVMF_CODE.fd</loader>\n\nCloses-Bug: #1960758\nSigned-off-by: Mauricio Faria de Oliveira <mfo@canonical.com>\nChange-Id: I75408b4e8fbd0fd3e44ce2a3b417107b4cff3d38\n'}, {'number': 3, 'created': '2022-03-04 23:02:45.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/b2dde80981b50d66c1aa459a8fadb1f547c35377', 'message': '[stable-only] libvirt: UEFI: skip OVMF_CODE.secboot.fd on pc if possible\n\nCurrently, setting hw_firwmare_type=uefi on Ubuntu 20.04\nmight create _unbootable_ servers on Ussuri and Victoria,\nas OVMF_CODE.secboot.fd has SB+SMM features; SMM requires\nthe q35 machine type, thus fails to boot on pc (default).\n\nFix that by checking for q35 machine type, and other file\nis available. (We can\'t check files for SMM to confirm.)\n\nIf it\'s not q35 (ie, it\'s pc):\n- If other firmware is available, use that.\n- Else, well, let\'s at least try; log that, and good luck!\n  (Maybe we should error out? but this is stable-only..)\n\n[stable-only]:\n\nWallaby and later are fixed with refactoring, as part of\nthe Secure Boot implementation, but that\'s big/risky; see\ncommit 9fff6893ce2e (""libvirt: Use firmware metadata files\nto configure instance"").\n\nThat removed the hardcoded paths from commit 363710b65543\n(""libvirt: Handle alternative UEFI firmware binary paths"").\n\nInfo:\n\n    [0] https://docs.openstack.org/nova/wallaby/admin/uefi.html\n    [1] https://docs.openstack.org/nova/wallaby/admin/secure-boot.html\n    [2] https://docs.openstack.org/nova/wallaby/user/flavors.html\n    [3] https://specs.openstack.org/openstack/nova-specs/specs/wallaby/implemented/allow-secure-boot-for-qemu-kvm-guests.html\n\nTest:\n\n    $ openstack image set --property hw_firmware_type=uefi bionic\n    $ openstack server create --image bionic --flavor m1.small --network private srv\n\nBefore:\n\n    $ juju run --app nova-compute \'for guest in $(virsh list --name); do \\\n      virsh dumpxml $guest; done | grep -e nova:name -e machine= -e loader\'\n          <nova:name>srv</nova:name>\n        <type arch=\'x86_64\' machine=\'pc-i440fx-4.2\'>hvm</type>\n        <loader readonly=\'yes\' type=\'pflash\'>/usr/share/OVMF/OVMF_CODE.secboot.fd</loader>\n\n    Guest doesn\'t boot; nothing in the console log:\n\n    $ openstack console log show srv | grep -i -e efi -e bios\n    $ openstack console log show srv | wc -l\n    0\n\n    QEMU looping / 100% CPU:\n\n    $ juju run --app nova-compute \'top -b -d1 -n5 | grep qemu\'\n      67205 libvirt+  ... 100.0   1.4   1:18.35\tqemu-sy+\n      67205 libvirt+  ... 100.0   1.4   1:19.36\tqemu-sy+\n      67205 libvirt+  ...  99.0   1.4   1:20.36\tqemu-sy+\n      67205 libvirt+  ... 101.0   1.4   1:21.37\tqemu-sy+\n      67205 libvirt+  ... 100.0   1.4   1:22.38\tqemu-sy+\n\nAfter:\n\n    $ juju run --app nova-compute \'for guest in $(virsh list --name); do \\\n      virsh dumpxml $guest; done | grep -e nova:name -e machine= -e loader\'\n          <nova:name>srv</nova:name>\n        <type arch=\'x86_64\' machine=\'pc-i440fx-4.2\'>hvm</type>\n        <loader readonly=\'yes\' type=\'pflash\'>/usr/share/OVMF/OVMF_CODE.fd</loader>\n\n    Guest booted; details in the console log:\n\n    $ openstack console log show srv | grep -i -e efi -e bios\n    ...\n    Creating boot entry ""Boot0003"" with label ""ubuntu"" for file ""\\EFI\\ubuntu\\shimx64.efi""\n    ...\n    [    0.000000] efi: EFI v2.70 by EDK II\n    [    0.000000] efi:  SMBIOS=0x7fbcd000  ACPI=0x7fbfa000  ACPI\n    2.0=0x7fbfa014  MEMATTR=0x7eb30018\n    [    0.000000] SMBIOS 2.8 present.\n    [    0.000000] DMI: OpenStack Foundation OpenStack Nova, BIOS 0.0.0 02/06/2015\n    ...\n\nNote that the XML snippet for the loader is aligned with Wallaby,\nin which just setting hw_firmware_type=uefi works out of the box:\n\n    $ juju run --app nova-compute \'for guest in $(virsh list --name); do \\\n      virsh dumpxml $guest; done | grep -e nova:name -e machine= -e loader\'\n        <nova:name>srv</nova:name>\n      <type arch=\'x86_64\' machine=\'pc-i440fx-4.2\'>hvm</type>\n      <loader readonly=\'yes\' secure=\'no\' type=\'pflash\'>/usr/share/OVMF/OVMF_CODE.fd</loader>\n\nCloses-Bug: #1960758\nSigned-off-by: Mauricio Faria de Oliveira <mfo@canonical.com>\nChange-Id: I75408b4e8fbd0fd3e44ce2a3b417107b4cff3d38\n'}]",5,828980,b2dde80981b50d66c1aa459a8fadb1f547c35377,21,2,3,28621,,,0,"[stable-only] libvirt: UEFI: skip OVMF_CODE.secboot.fd on pc if possible

Currently, setting hw_firwmare_type=uefi on Ubuntu 20.04
might create _unbootable_ servers on Ussuri and Victoria,
as OVMF_CODE.secboot.fd has SB+SMM features; SMM requires
the q35 machine type, thus fails to boot on pc (default).

Fix that by checking for q35 machine type, and other file
is available. (We can't check files for SMM to confirm.)

If it's not q35 (ie, it's pc):
- If other firmware is available, use that.
- Else, well, let's at least try; log that, and good luck!
  (Maybe we should error out? but this is stable-only..)

[stable-only]:

Wallaby and later are fixed with refactoring, as part of
the Secure Boot implementation, but that's big/risky; see
commit 9fff6893ce2e (""libvirt: Use firmware metadata files
to configure instance"").

That removed the hardcoded paths from commit 363710b65543
(""libvirt: Handle alternative UEFI firmware binary paths"").

Info:

    [0] https://docs.openstack.org/nova/wallaby/admin/uefi.html
    [1] https://docs.openstack.org/nova/wallaby/admin/secure-boot.html
    [2] https://docs.openstack.org/nova/wallaby/user/flavors.html
    [3] https://specs.openstack.org/openstack/nova-specs/specs/wallaby/implemented/allow-secure-boot-for-qemu-kvm-guests.html

Test:

    $ openstack image set --property hw_firmware_type=uefi bionic
    $ openstack server create --image bionic --flavor m1.small --network private srv

Before:

    $ juju run --app nova-compute 'for guest in $(virsh list --name); do \
      virsh dumpxml $guest; done | grep -e nova:name -e machine= -e loader'
          <nova:name>srv</nova:name>
        <type arch='x86_64' machine='pc-i440fx-4.2'>hvm</type>
        <loader readonly='yes' type='pflash'>/usr/share/OVMF/OVMF_CODE.secboot.fd</loader>

    Guest doesn't boot; nothing in the console log:

    $ openstack console log show srv | grep -i -e efi -e bios
    $ openstack console log show srv | wc -l
    0

    QEMU looping / 100% CPU:

    $ juju run --app nova-compute 'top -b -d1 -n5 | grep qemu'
      67205 libvirt+  ... 100.0   1.4   1:18.35	qemu-sy+
      67205 libvirt+  ... 100.0   1.4   1:19.36	qemu-sy+
      67205 libvirt+  ...  99.0   1.4   1:20.36	qemu-sy+
      67205 libvirt+  ... 101.0   1.4   1:21.37	qemu-sy+
      67205 libvirt+  ... 100.0   1.4   1:22.38	qemu-sy+

After:

    $ juju run --app nova-compute 'for guest in $(virsh list --name); do \
      virsh dumpxml $guest; done | grep -e nova:name -e machine= -e loader'
          <nova:name>srv</nova:name>
        <type arch='x86_64' machine='pc-i440fx-4.2'>hvm</type>
        <loader readonly='yes' type='pflash'>/usr/share/OVMF/OVMF_CODE.fd</loader>

    Guest booted; details in the console log:

    $ openstack console log show srv | grep -i -e efi -e bios
    ...
    Creating boot entry ""Boot0003"" with label ""ubuntu"" for file ""\EFI\ubuntu\shimx64.efi""
    ...
    [    0.000000] efi: EFI v2.70 by EDK II
    [    0.000000] efi:  SMBIOS=0x7fbcd000  ACPI=0x7fbfa000  ACPI
    2.0=0x7fbfa014  MEMATTR=0x7eb30018
    [    0.000000] SMBIOS 2.8 present.
    [    0.000000] DMI: OpenStack Foundation OpenStack Nova, BIOS 0.0.0 02/06/2015
    ...

Note that the XML snippet for the loader is aligned with Wallaby,
in which just setting hw_firmware_type=uefi works out of the box:

    $ juju run --app nova-compute 'for guest in $(virsh list --name); do \
      virsh dumpxml $guest; done | grep -e nova:name -e machine= -e loader'
        <nova:name>srv</nova:name>
      <type arch='x86_64' machine='pc-i440fx-4.2'>hvm</type>
      <loader readonly='yes' secure='no' type='pflash'>/usr/share/OVMF/OVMF_CODE.fd</loader>

Closes-Bug: #1960758
Signed-off-by: Mauricio Faria de Oliveira <mfo@canonical.com>
Change-Id: I75408b4e8fbd0fd3e44ce2a3b417107b4cff3d38
",git fetch https://review.opendev.org/openstack/nova refs/changes/80/828980/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/virt/libvirt/driver.py'],1,72f533a66dff14bd4bc290d6de5863ed44d8bd72,bug/1960758-ussuri-v2," # If UEFI is enabled, Secure Boot can be enabled if loader # OVMF_CODE.secboot.fd exists, but SB is not yet supported. # So, ignore .secboot.fd loader if not q35 (required by SB) # and check for explicit os secure_boot 'disabled' options. disable_sb = False image_sb = image_meta.properties.get('os_secure_boot') flavor_sb = flavor.extra_specs.get('os:secure_boot') mach_type = libvirt_utils.get_machine_type(image_meta) if (image_sb == fields.SecureBoot.DISABLED or flavor_sb == fields.SecureBoot.DISABLED): disable_sb = True elif 'q35' not in mach_type: disable_sb = True for lpath in DEFAULT_UEFI_LOADER_PATH[caps.host.cpu.arch]: if (disable_sb and lpath.endswith('.secboot.fd')): continue", for lpath in DEFAULT_UEFI_LOADER_PATH[caps.host.cpu.arch]:,17,0
openstack%2Fcharm-neutron-api-plugin-ovn~stable%2Fyoga~I525f8cd32881ccacf044634919932b9dd4ca7371,openstack/charm-neutron-api-plugin-ovn,stable/yoga,I525f8cd32881ccacf044634919932b9dd4ca7371,Updates for stable branch creation,MERGED,2022-04-15 10:54:22.000000000,2022-04-19 20:10:24.000000000,2022-04-19 20:10:24.000000000,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-15 10:54:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-api-plugin-ovn/commit/88d1cbadf50f5a049ddbdbc7b8fa3e4fdc2e5eb4', 'message': 'Updates for stable branch creation\n\n- Set default branch for git review/gerrit.\n- Switch tests to stable.\n- Switch to using stable charm-helpers branch.\n- Switch to using stable charm.openstack branch.\n- Switch to using stable zaza, zaza-openstack-tests\n  branch\n- (reactive charms) Add build.lock file\n\nChange-Id: I525f8cd32881ccacf044634919932b9dd4ca7371\n'}, {'number': 2, 'created': '2022-04-18 19:26:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-api-plugin-ovn/commit/aa5ad33078e6798c0c90e9b5dd6cd2d1663c60bc', 'message': 'Updates for stable branch creation\n\n- Set default branch for git review/gerrit.\n- Switch tests to stable.\n- Switch to using stable charm-helpers branch.\n- Switch to using stable charm.openstack branch.\n- Switch to using stable zaza, zaza-openstack-tests\n  branch\n- (reactive charms) Add build.lock file\n\nChange-Id: I525f8cd32881ccacf044634919932b9dd4ca7371\n'}, {'number': 3, 'created': '2022-04-19 13:01:46.000000000', 'files': ['.gitignore', '.gitreview', 'test-requirements.txt', 'src/wheelhouse.txt', 'src/test-requirements.txt', 'src/build.lock'], 'web_link': 'https://opendev.org/openstack/charm-neutron-api-plugin-ovn/commit/c8fc4e5f6b1433640fe09787371cc1d9732387a6', 'message': 'Updates for stable branch creation\n\n- Set default branch for git review/gerrit.\n- Switch tests to stable.\n- Switch to using stable charm-helpers branch.\n- Switch to using stable charm.openstack branch.\n- Switch to using stable zaza, zaza-openstack-tests\n  branch\n- (reactive charms) Add build.lock file\n\nChange-Id: I525f8cd32881ccacf044634919932b9dd4ca7371\n'}]",1,838150,c8fc4e5f6b1433640fe09787371cc1d9732387a6,15,3,3,20870,,,0,"Updates for stable branch creation

- Set default branch for git review/gerrit.
- Switch tests to stable.
- Switch to using stable charm-helpers branch.
- Switch to using stable charm.openstack branch.
- Switch to using stable zaza, zaza-openstack-tests
  branch
- (reactive charms) Add build.lock file

Change-Id: I525f8cd32881ccacf044634919932b9dd4ca7371
",git fetch https://review.opendev.org/openstack/charm-neutron-api-plugin-ovn refs/changes/50/838150/2 && git format-patch -1 --stdout FETCH_HEAD,"['.gitreview', 'test-requirements.txt', 'src/wheelhouse.txt', 'src/test-requirements.txt', 'src/build.lock', 'neutron-api-plugin-ovn.charm']",6,88d1cbadf50f5a049ddbdbc7b8fa3e4fdc2e5eb4,charm-release-2204,,,283,5
openstack%2Fcharm-cinder-lvm~master~I8f6d5f3f5f43138118a12eca6dddc19611575a7e,openstack/charm-cinder-lvm,master,I8f6d5f3f5f43138118a12eca6dddc19611575a7e,Updates for stable branch creation,MERGED,2022-04-15 10:44:21.000000000,2022-04-19 20:02:09.000000000,2022-04-19 20:02:09.000000000,"[{'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-15 10:44:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder-lvm/commit/e9f2d5354ce2e7fdbc4ae0d583c76f95d88ab9e9', 'message': 'Updates for stable branch creation\n\n- Set default branch for git review/gerrit.\n- Switch tests to stable.\n- Switch to using stable charm-helpers branch.\n- Switch to using stable charm.openstack branch.\n- Switch to using stable zaza, zaza-openstack-tests\n  branch\n- (reactive charms) Add build.lock file\n\nChange-Id: I8f6d5f3f5f43138118a12eca6dddc19611575a7e\n'}, {'number': 2, 'created': '2022-04-19 08:24:05.000000000', 'files': ['test-requirements.txt', 'src/wheelhouse.txt', 'src/test-requirements.txt', 'src/build.lock'], 'web_link': 'https://opendev.org/openstack/charm-cinder-lvm/commit/0a4c98f5c46797fe967641497cb07f27d337b922', 'message': 'Updates for stable branch creation\n\n- Set default branch for git review/gerrit.\n- Switch tests to stable.\n- Switch to using stable charm-helpers branch.\n- Switch to using stable charm.openstack branch.\n- Switch to using stable zaza, zaza-openstack-tests\n  branch\n- (reactive charms) Add build.lock file\n\nChange-Id: I8f6d5f3f5f43138118a12eca6dddc19611575a7e\n'}]",2,838121,0a4c98f5c46797fe967641497cb07f27d337b922,14,3,2,20870,,,0,"Updates for stable branch creation

- Set default branch for git review/gerrit.
- Switch tests to stable.
- Switch to using stable charm-helpers branch.
- Switch to using stable charm.openstack branch.
- Switch to using stable zaza, zaza-openstack-tests
  branch
- (reactive charms) Add build.lock file

Change-Id: I8f6d5f3f5f43138118a12eca6dddc19611575a7e
",git fetch https://review.opendev.org/openstack/charm-cinder-lvm refs/changes/21/838121/2 && git format-patch -1 --stdout FETCH_HEAD,"['cinder-lvm.charm', 'test-requirements.txt', 'src/wheelhouse.txt', 'src/test-requirements.txt', 'src/build.lock']",5,e9f2d5354ce2e7fdbc4ae0d583c76f95d88ab9e9,charm-release-2204,"{ ""locks"": [ { ""type"": ""layer"", ""item"": ""layer:options"", ""url"": ""https://github.com/juju-solutions/layer-options.git"", ""vcs"": null, ""branch"": ""refs/heads/master"", ""commit"": ""fcdcea4e5de3e1556c24e6704607862d0ba00a56"" }, { ""type"": ""layer"", ""item"": ""layer:basic"", ""url"": ""https://github.com/juju-solutions/layer-basic.git"", ""vcs"": null, ""branch"": ""refs/heads/master"", ""commit"": ""fb767dcf0786d1d5364199bb3b40bdc86518b45b"" }, { ""type"": ""layer"", ""item"": ""layer:openstack"", ""url"": ""https://github.com/openstack/charm-layer-openstack"", ""vcs"": null, ""branch"": ""refs/heads/master"", ""commit"": ""e0f700eacb026235e1a04e7cbc28dfbe9d4e4520"" }, { ""type"": ""layer"", ""item"": ""cinder-lvm"", ""url"": null, ""vcs"": null, ""branch"": ""refs/heads/stable/yoga\nrefs/heads/yoga-updates"", ""commit"": ""refs/heads/stable/yoga\nrefs/heads/yoga-updates"" }, { ""type"": ""layer"", ""item"": ""interface:tls-certificates"", ""url"": ""https://github.com/juju-solutions/interface-tls-certificates"", ""vcs"": null, ""branch"": ""refs/heads/master"", ""commit"": ""d9850016d930a6d507b9fd45e2598d327922b140"" }, { ""type"": ""layer"", ""item"": ""interface:cinder-backend"", ""url"": ""https://github.com/openstack/charm-interface-cinder-backend.git"", ""vcs"": null, ""branch"": ""refs/heads/master"", ""commit"": ""baa1b4f61ff610caf60a7b13841e8d68ce3842d1"" }, { ""type"": ""python_module"", ""package"": ""wheel"", ""vcs"": null, ""version"": ""0.37.1"" }, { ""type"": ""python_module"", ""package"": ""charms.openstack"", ""url"": ""git+https://github.com/openstack/charms.openstack.git"", ""branch"": ""refs/heads/master"", ""version"": ""13ef220ce3529fa7b8e11c6e4c5b352d05b6f148"", ""vcs"": ""git"" }, { ""type"": ""python_module"", ""package"": ""pyaml"", ""vcs"": null, ""version"": ""21.10.1"" }, { ""type"": ""python_module"", ""package"": ""MarkupSafe"", ""vcs"": null, ""version"": ""2.1.1"" }, { ""type"": ""python_module"", ""package"": ""charmhelpers"", ""url"": ""git+https://github.com/juju/charm-helpers.git"", ""branch"": ""refs/heads/stable/yoga"", ""version"": ""971ac5117c96bd1cb4a6a520787e4509564da582"", ""vcs"": ""git"" }, { ""type"": ""python_module"", ""package"": ""pbr"", ""vcs"": null, ""version"": ""5.8.1"" }, { ""type"": ""python_module"", ""package"": ""pip"", ""vcs"": null, ""version"": ""22.0.4"" }, { ""type"": ""python_module"", ""package"": ""packaging"", ""vcs"": null, ""version"": ""21.3"" }, { ""type"": ""python_module"", ""package"": ""setuptools_scm"", ""vcs"": null, ""version"": ""6.4.2"" }, { ""type"": ""python_module"", ""package"": ""flit_core"", ""vcs"": null, ""version"": ""3.7.1"" }, { ""type"": ""python_module"", ""package"": ""setuptools"", ""vcs"": null, ""version"": ""62.1.0"" }, { ""type"": ""python_module"", ""package"": ""Jinja2"", ""vcs"": null, ""version"": ""3.1.1"" }, { ""type"": ""python_module"", ""package"": ""pyparsing"", ""vcs"": null, ""version"": ""3.0.8"" }, { ""type"": ""python_module"", ""package"": ""psutil"", ""vcs"": null, ""version"": ""5.9.0"" }, { ""type"": ""python_module"", ""package"": ""PyYAML"", ""vcs"": null, ""version"": ""5.3.1"" }, { ""type"": ""python_module"", ""package"": ""dnspython"", ""vcs"": null, ""version"": ""1.16.0"" }, { ""type"": ""python_module"", ""package"": ""Tempita"", ""vcs"": null, ""version"": ""0.4"" }, { ""type"": ""python_module"", ""package"": ""netifaces"", ""vcs"": null, ""version"": ""0.11.0"" }, { ""type"": ""python_module"", ""package"": ""charms.reactive"", ""vcs"": null, ""version"": ""1.5.0"" }, { ""type"": ""python_module"", ""package"": ""netaddr"", ""vcs"": null, ""version"": ""0.7.19"" }, { ""type"": ""python_module"", ""package"": ""tomli"", ""vcs"": null, ""version"": ""2.0.1"" } ] }",,186,4
openstack%2Fkuryr-kubernetes~master~Id68da7932be66d339119ed92b870c8f7538afb15,openstack/kuryr-kubernetes,master,Id68da7932be66d339119ed92b870c8f7538afb15,Create networks/subnets in bulletproof manner.,MERGED,2022-03-24 14:19:20.000000000,2022-04-19 19:49:09.000000000,2022-04-19 19:47:36.000000000,"[{'_account_id': 11600}, {'_account_id': 22348}, {'_account_id': 27032}]","[{'number': 1, 'created': '2022-03-24 14:19:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/9d926d2c0fb3ff27679c42acd3c505fd8960b4be', 'message': ""Create networks/subnets in bulletproof manner.\n\nCurrently, creating network and/or subnet depending heavily on tags.\nThere could be an issue with selecting right network when tag is set in\nconfiguration, while it'll fail on actual tagging network or subnet. In\nthat case it might happen, that multiple, untagged subnets would be\ncreated, while only one is expected. In this patch we introduce adding\nunique UID from Kubernetes namespace, so that it will indicate only one,\nspecific namespace, so that there shouldn't be collision with other k8s\ndeployments within same OpenStack cloud, despite of the tag.\n\nChange-Id: Id68da7932be66d339119ed92b870c8f7538afb15\n""}, {'number': 2, 'created': '2022-03-25 08:00:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/6f4663f0bffdc4a200b8bb7bfacb6ab439ea7733', 'message': ""Create networks/subnets in bulletproof manner.\n\nCurrently, creating network and/or subnet depending heavily on tags.\nThere could be an issue with selecting right network when tag is set in\nconfiguration, while it'll fail on actual tagging network or subnet. In\nthat case it might happen, that multiple, untagged subnets would be\ncreated, while only one is expected. In this patch we introduce adding\nunique UID from Kubernetes namespace, so that it will indicate only one,\nspecific namespace, so that there shouldn't be collision with other k8s\ndeployments within same OpenStack cloud, despite of the tag.\n\nChange-Id: Id68da7932be66d339119ed92b870c8f7538afb15\n""}, {'number': 3, 'created': '2022-03-25 10:31:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/2bf1e4ee1119cc5b6d4545502830016fbd65c7cb', 'message': ""Create networks/subnets in bulletproof manner.\n\nCurrently, creating network and/or subnet depending heavily on tags.\nThere could be an issue with selecting right network when tag is set in\nconfiguration, while it'll fail on actual tagging network or subnet. In\nthat case it might happen, that multiple, untagged subnets would be\ncreated, while only one is expected. In this patch we introduce adding\nunique UID from Kubernetes namespace, so that it will indicate only one,\nspecific namespace, so that there shouldn't be collision with other k8s\ndeployments within same OpenStack cloud, despite of the tag.\n\nChange-Id: Id68da7932be66d339119ed92b870c8f7538afb15\n""}, {'number': 4, 'created': '2022-03-25 15:12:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/731d9b837663ba6bca671fb2aa526766b7b9bdb3', 'message': ""Create networks/subnets in bulletproof manner.\n\nCurrently, creating network and/or subnet depending heavily on tags.\nThere could be an issue with selecting right network when tag is set in\nconfiguration, while it'll fail on actual tagging network or subnet. In\nthat case it might happen, that multiple, untagged subnets would be\ncreated, while only one is expected. In this patch we introduce adding\nunique UID from Kubernetes namespace, so that it will indicate only one,\nspecific namespace, so that there shouldn't be collision with other k8s\ndeployments within same OpenStack cloud, despite of the tag.\n\nDepends-On: https://review.opendev.org/c/openstack/kuryr-tempest-plugin/+/835245\nChange-Id: Id68da7932be66d339119ed92b870c8f7538afb15\n""}, {'number': 5, 'created': '2022-03-28 11:27:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/c98196bf7fc2195b1dbc83124229931eead351f3', 'message': ""Create networks/subnets in bulletproof manner.\n\nCurrently, creating network and/or subnet depending heavily on tags.\nThere could be an issue with selecting right network when tag is set in\nconfiguration, while it'll fail on actual tagging network or subnet. In\nthat case it might happen, that multiple, untagged subnets would be\ncreated, while only one is expected. In this patch we introduce adding\nunique UID from Kubernetes namespace, so that it will indicate only one,\nspecific namespace, so that there shouldn't be collision with other k8s\ndeployments within same OpenStack cloud, despite of the tag.\n\nDepends-On: https://review.opendev.org/c/openstack/kuryr-tempest-plugin/+/835245\nChange-Id: Id68da7932be66d339119ed92b870c8f7538afb15\n""}, {'number': 6, 'created': '2022-04-06 08:52:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/d43b646a389a6e3e8766611cdf8ee306c5255745', 'message': ""Create networks/subnets in bulletproof manner.\n\nCurrently, creating network and/or subnet depending heavily on tags.\nThere could be an issue with selecting right network when tag is set in\nconfiguration, while it'll fail on actual tagging network or subnet. In\nthat case it might happen, that multiple, untagged subnets would be\ncreated, while only one is expected. In this patch we introduce adding\nunique UID from Kubernetes namespace into Neutron network description\nfield, so that it will indicate only one, specific namespace, so that\nthere shouldn't be collision with other k8s deployments within same\nOpenStack cloud, despite of the tag.\n\nDepends-On: https://review.opendev.org/c/openstack/kuryr-tempest-plugin/+/835245\nChange-Id: Id68da7932be66d339119ed92b870c8f7538afb15\n""}, {'number': 7, 'created': '2022-04-06 11:38:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/1e0cf1b22c58ba1ec0463d61a73975291691d732', 'message': ""Create networks/subnets in bulletproof manner.\n\nCurrently, creating network and/or subnet depending heavily on tags.\nThere could be an issue with selecting right network when tag is set in\nconfiguration, while it'll fail on actual tagging network or subnet. In\nthat case it might happen, that multiple, untagged subnets would be\ncreated, while only one is expected. In this patch we introduce adding\nunique UID from Kubernetes namespace into Neutron network description\nfield, so that it will indicate only one, specific namespace, so that\nthere shouldn't be collision with other k8s deployments within same\nOpenStack cloud, despite of the tag.\n\nDepends-On: https://review.opendev.org/c/openstack/kuryr-tempest-plugin/+/835245\nChange-Id: Id68da7932be66d339119ed92b870c8f7538afb15\n""}, {'number': 8, 'created': '2022-04-07 13:59:09.000000000', 'files': ['kuryr_kubernetes/controller/handlers/kuryrnetwork.py', 'kuryr_kubernetes/controller/drivers/utils.py', 'kuryr_kubernetes/tests/unit/controller/drivers/test_namespace_subnet.py', 'kuryr_kubernetes/tests/unit/controller/handlers/test_kuryrnetwork.py', 'kuryr_kubernetes/controller/drivers/namespace_subnet.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/7ef2d5415071c1380315ebeb4f811f68fe41f1f3', 'message': ""Create networks/subnets in bulletproof manner.\n\nCurrently, creating network and/or subnet depending heavily on tags.\nThere could be an issue with selecting right network when tag is set in\nconfiguration, while it'll fail on actual tagging network or subnet. In\nthat case it might happen, that multiple, untagged subnets would be\ncreated, while only one is expected. In this patch we introduce adding\nunique UID from Kubernetes namespace into Neutron network description\nfield, so that it will indicate only one, specific namespace, so that\nthere shouldn't be collision with other k8s deployments within same\nOpenStack cloud, despite of the tag.\n\nDepends-On: https://review.opendev.org/c/openstack/kuryr-tempest-plugin/+/835245\nChange-Id: Id68da7932be66d339119ed92b870c8f7538afb15\n""}]",45,835078,7ef2d5415071c1380315ebeb4f811f68fe41f1f3,67,3,8,13692,,,0,"Create networks/subnets in bulletproof manner.

Currently, creating network and/or subnet depending heavily on tags.
There could be an issue with selecting right network when tag is set in
configuration, while it'll fail on actual tagging network or subnet. In
that case it might happen, that multiple, untagged subnets would be
created, while only one is expected. In this patch we introduce adding
unique UID from Kubernetes namespace into Neutron network description
field, so that it will indicate only one, specific namespace, so that
there shouldn't be collision with other k8s deployments within same
OpenStack cloud, despite of the tag.

Depends-On: https://review.opendev.org/c/openstack/kuryr-tempest-plugin/+/835245
Change-Id: Id68da7932be66d339119ed92b870c8f7538afb15
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/78/835078/8 && git format-patch -1 --stdout FETCH_HEAD,"['kuryr_kubernetes/controller/handlers/kuryrnetwork.py', 'kuryr_kubernetes/tests/unit/controller/drivers/test_namespace_subnet.py', 'kuryr_kubernetes/tests/unit/controller/handlers/test_kuryrnetwork.py', 'kuryr_kubernetes/controller/drivers/namespace_subnet.py']",4,9d926d2c0fb3ff27679c42acd3c505fd8960b4be,leftovers," def create_network(self, ns_name, project_id, ns_uid): net_name = c_utils.get_resource_name(ns_name, ns_uid, 'ns', 'net') networks = os_net.networks(name=net_name) neutron_net = next(networks) # NOTE(gryf): It might happen, that network has been created, but # for some reason tagging has faild. Let's tag it, even if it's # already tagged, since we are in this particular place in code. c_utils.tag_neutron_resources([neutron_net]) return neutron_net.id c_utils.tag_neutron_resources([neutron_net]) def create_subnet(self, ns_name, project_id, net_id, ns_uid): subnet_name = c_utils.get_resource_name(ns_name, ns_uid, 'ns', 'subnet') subnet_name = f'ns/{ns_uid}/{ns_name}-subnet' subnets = os_net.subnets(network_id=net_id) # NOTE(gryf): same situation as in networks. c_utils.tag_neutron_resources([subnet])"," def create_network(self, ns_name, project_id): net_name = c_utils.get_resource_name(ns_name, prefix='ns', suffix='net') tags = oslo_cfg.CONF.neutron_defaults.resource_tags if tags: networks = os_net.networks(name=net_name, tags=tags) else: networks = os_net.networks(name=net_name) return next(networks).id # create network with namespace as name c_utils.tag_neutron_resources([neutron_net]) def create_subnet(self, ns_name, project_id, net_id): subnet_name = c_utils.get_resource_name(ns_name, prefix='ns', suffix='subnet') tags = oslo_cfg.CONF.neutron_defaults.resource_tags if tags: subnets = os_net.subnets(name=subnet_name, tags=tags) else: subnets = os_net.subnets(name=subnet_name)",39,33
openstack%2Fansible-collections-openstack~master~I8a6a61613db530a2bdde02e15146917ad8d1ae5f,openstack/ansible-collections-openstack,master,I8a6a61613db530a2bdde02e15146917ad8d1ae5f,Constrained rstcheck to versions smaller 3.5.0 on Ubuntu 18.04,ABANDONED,2022-04-19 19:09:14.000000000,2022-04-19 19:46:10.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-04-19 19:09:14.000000000', 'files': ['tests/constraints-rstcheck-3.5.0.txt', '.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/76a69cdf6d6983f4f335892909da5bb4ae00016d', 'message': 'Constrained rstcheck to versions smaller 3.5.0 on Ubuntu 18.04\n\nUbuntu 18.04 LTS (Bionic Beaver) comes with Python 3.6 by default.\nPython module rstcheck which is used by ansible-test deprecated\nPython versions prior 3.7 in version 3.5.0 and removed support\nin 4.0.0. So on Ubuntu 18.04, rstcheck prints a FutureWarning which\nconfuses ansible-test:\n\n  Run command: ***/python -m rstcheck --report warning\n  --ignore-substitutions _,br,release,today,version\n  docs/openstack_guidelines.rst\n  Traceback (most recent call last):\n    File ""***/ansible-test"", line 28, in <module>\n      main()\n    File ""***/ansible-test"", line 24, in main\n      cli_main()\n    File ""***/ansible_test/_internal/cli.py"", line 130, in main\n      args.func(config)\n    File ""***/ansible_test/_internal/sanity/__init__.py"", line 193,\n    in command_sanity\n      result = test.test(args, sanity_targets, version)\n    File ""***/ansible_test/_internal/sanity/rstcheck.py"", line 80,\n    in test\n      results = parse_to_list_of_dict(pattern, stderr)\n    File ""***/ansible_test/_internal/util.py"", line 799, in\n    parse_to_list_of_dict\n      raise Exception(\'Pattern ""%s"" did not match values:\\n%s\' %\n      (pattern, \'\\n\'.join(unmatched)))\n  Exception: Pattern ""^(?P<path>[^:]*):(?P<line>[0-9]+):\n  \\((?P<level>INFO|WARNING|ERROR|SEVERE)/[0-4]\\) (?P<message>.*)$""\n  did not match values:\n  ***/rstcheck.py:51: FutureWarning: Python versions prior 3.7 are\n  deprecated. Please update your python version.\n    FutureWarning\n  ERROR: Command ""/usr/bin/env ANSIBLE_TEST_CONTENT_ROOT=***/\n  ansible_collections/openstack/cloud LC_ALL=en_US.UTF-8 ***/python3.6\n  ***/ansible-test sanity -v --python 3.6 --skip-test\n  metaclass-boilerplate --skip-test future-import-boilerplate plugins/\n  docs/ meta/ scripts/ --metadata ***.json --truncate 0 --redact\n  --color no --requirements"" returned exit status 1.\n\nAs a workaround we constrain rstcheck to versions prior to 3.5.0 in our\nUbuntu 18.04 based linter job openstack-tox-linters-ansible-2.9.\n\nThanks to Arx Cruz and Jesper Schmitz Mouridsen for pointing out this\nissue and its root cause ☺️\n\nChange-Id: I8a6a61613db530a2bdde02e15146917ad8d1ae5f\n'}]",0,838580,76a69cdf6d6983f4f335892909da5bb4ae00016d,3,1,1,32962,,,0,"Constrained rstcheck to versions smaller 3.5.0 on Ubuntu 18.04

Ubuntu 18.04 LTS (Bionic Beaver) comes with Python 3.6 by default.
Python module rstcheck which is used by ansible-test deprecated
Python versions prior 3.7 in version 3.5.0 and removed support
in 4.0.0. So on Ubuntu 18.04, rstcheck prints a FutureWarning which
confuses ansible-test:

  Run command: ***/python -m rstcheck --report warning
  --ignore-substitutions _,br,release,today,version
  docs/openstack_guidelines.rst
  Traceback (most recent call last):
    File ""***/ansible-test"", line 28, in <module>
      main()
    File ""***/ansible-test"", line 24, in main
      cli_main()
    File ""***/ansible_test/_internal/cli.py"", line 130, in main
      args.func(config)
    File ""***/ansible_test/_internal/sanity/__init__.py"", line 193,
    in command_sanity
      result = test.test(args, sanity_targets, version)
    File ""***/ansible_test/_internal/sanity/rstcheck.py"", line 80,
    in test
      results = parse_to_list_of_dict(pattern, stderr)
    File ""***/ansible_test/_internal/util.py"", line 799, in
    parse_to_list_of_dict
      raise Exception('Pattern ""%s"" did not match values:\n%s' %
      (pattern, '\n'.join(unmatched)))
  Exception: Pattern ""^(?P<path>[^:]*):(?P<line>[0-9]+):
  \((?P<level>INFO|WARNING|ERROR|SEVERE)/[0-4]\) (?P<message>.*)$""
  did not match values:
  ***/rstcheck.py:51: FutureWarning: Python versions prior 3.7 are
  deprecated. Please update your python version.
    FutureWarning
  ERROR: Command ""/usr/bin/env ANSIBLE_TEST_CONTENT_ROOT=***/
  ansible_collections/openstack/cloud LC_ALL=en_US.UTF-8 ***/python3.6
  ***/ansible-test sanity -v --python 3.6 --skip-test
  metaclass-boilerplate --skip-test future-import-boilerplate plugins/
  docs/ meta/ scripts/ --metadata ***.json --truncate 0 --redact
  --color no --requirements"" returned exit status 1.

As a workaround we constrain rstcheck to versions prior to 3.5.0 in our
Ubuntu 18.04 based linter job openstack-tox-linters-ansible-2.9.

Thanks to Arx Cruz and Jesper Schmitz Mouridsen for pointing out this
issue and its root cause ☺️

Change-Id: I8a6a61613db530a2bdde02e15146917ad8d1ae5f
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/80/838580/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/constraints-rstcheck-3.5.0.txt', '.zuul.yaml']",2,76a69cdf6d6983f4f335892909da5bb4ae00016d,constrain_rstcheck, # rstcheck 3.5.0 deprecated Python versions prior 3.7 and prints a FutureWarning which confuses ansible-test tox_constraints_file: '{{ ansible_user_dir }}/{{ zuul.project.src_dir }}/tests/constraints-rstcheck-3.5.0.txt',,5,0
openstack%2Fansible-collections-openstack~stable%2F1.0.0~I8a6a61613db530a2bdde02e15146917ad8d1ae5f,openstack/ansible-collections-openstack,stable/1.0.0,I8a6a61613db530a2bdde02e15146917ad8d1ae5f,Constrained rstcheck to versions smaller 3.5.0 on Ubuntu 18.04,ABANDONED,2022-04-19 19:10:18.000000000,2022-04-19 19:45:57.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-04-19 19:10:18.000000000', 'files': ['tests/constraints-rstcheck-3.5.0.txt', '.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/08b1b99ea0b21db71fc90a7bb3eb30d389353047', 'message': 'Constrained rstcheck to versions smaller 3.5.0 on Ubuntu 18.04\n\nUbuntu 18.04 LTS (Bionic Beaver) comes with Python 3.6 by default.\nPython module rstcheck which is used by ansible-test deprecated\nPython versions prior 3.7 in version 3.5.0 and removed support\nin 4.0.0. So on Ubuntu 18.04, rstcheck prints a FutureWarning which\nconfuses ansible-test:\n\n  Run command: ***/python -m rstcheck --report warning\n  --ignore-substitutions _,br,release,today,version\n  docs/openstack_guidelines.rst\n  Traceback (most recent call last):\n    File ""***/ansible-test"", line 28, in <module>\n      main()\n    File ""***/ansible-test"", line 24, in main\n      cli_main()\n    File ""***/ansible_test/_internal/cli.py"", line 130, in main\n      args.func(config)\n    File ""***/ansible_test/_internal/sanity/__init__.py"", line 193,\n    in command_sanity\n      result = test.test(args, sanity_targets, version)\n    File ""***/ansible_test/_internal/sanity/rstcheck.py"", line 80,\n    in test\n      results = parse_to_list_of_dict(pattern, stderr)\n    File ""***/ansible_test/_internal/util.py"", line 799, in\n    parse_to_list_of_dict\n      raise Exception(\'Pattern ""%s"" did not match values:\\n%s\' %\n      (pattern, \'\\n\'.join(unmatched)))\n  Exception: Pattern ""^(?P<path>[^:]*):(?P<line>[0-9]+):\n  \\((?P<level>INFO|WARNING|ERROR|SEVERE)/[0-4]\\) (?P<message>.*)$""\n  did not match values:\n  ***/rstcheck.py:51: FutureWarning: Python versions prior 3.7 are\n  deprecated. Please update your python version.\n    FutureWarning\n  ERROR: Command ""/usr/bin/env ANSIBLE_TEST_CONTENT_ROOT=***/\n  ansible_collections/openstack/cloud LC_ALL=en_US.UTF-8 ***/python3.6\n  ***/ansible-test sanity -v --python 3.6 --skip-test\n  metaclass-boilerplate --skip-test future-import-boilerplate plugins/\n  docs/ meta/ scripts/ --metadata ***.json --truncate 0 --redact\n  --color no --requirements"" returned exit status 1.\n\nAs a workaround we constrain rstcheck to versions prior to 3.5.0 in our\nUbuntu 18.04 based linter job openstack-tox-linters-ansible-2.9.\n\nThanks to Arx Cruz and Jesper Schmitz Mouridsen for pointing out this\nissue and its root cause ☺️\n\nChange-Id: I8a6a61613db530a2bdde02e15146917ad8d1ae5f\n'}]",0,838535,08b1b99ea0b21db71fc90a7bb3eb30d389353047,3,1,1,32962,,,0,"Constrained rstcheck to versions smaller 3.5.0 on Ubuntu 18.04

Ubuntu 18.04 LTS (Bionic Beaver) comes with Python 3.6 by default.
Python module rstcheck which is used by ansible-test deprecated
Python versions prior 3.7 in version 3.5.0 and removed support
in 4.0.0. So on Ubuntu 18.04, rstcheck prints a FutureWarning which
confuses ansible-test:

  Run command: ***/python -m rstcheck --report warning
  --ignore-substitutions _,br,release,today,version
  docs/openstack_guidelines.rst
  Traceback (most recent call last):
    File ""***/ansible-test"", line 28, in <module>
      main()
    File ""***/ansible-test"", line 24, in main
      cli_main()
    File ""***/ansible_test/_internal/cli.py"", line 130, in main
      args.func(config)
    File ""***/ansible_test/_internal/sanity/__init__.py"", line 193,
    in command_sanity
      result = test.test(args, sanity_targets, version)
    File ""***/ansible_test/_internal/sanity/rstcheck.py"", line 80,
    in test
      results = parse_to_list_of_dict(pattern, stderr)
    File ""***/ansible_test/_internal/util.py"", line 799, in
    parse_to_list_of_dict
      raise Exception('Pattern ""%s"" did not match values:\n%s' %
      (pattern, '\n'.join(unmatched)))
  Exception: Pattern ""^(?P<path>[^:]*):(?P<line>[0-9]+):
  \((?P<level>INFO|WARNING|ERROR|SEVERE)/[0-4]\) (?P<message>.*)$""
  did not match values:
  ***/rstcheck.py:51: FutureWarning: Python versions prior 3.7 are
  deprecated. Please update your python version.
    FutureWarning
  ERROR: Command ""/usr/bin/env ANSIBLE_TEST_CONTENT_ROOT=***/
  ansible_collections/openstack/cloud LC_ALL=en_US.UTF-8 ***/python3.6
  ***/ansible-test sanity -v --python 3.6 --skip-test
  metaclass-boilerplate --skip-test future-import-boilerplate plugins/
  docs/ meta/ scripts/ --metadata ***.json --truncate 0 --redact
  --color no --requirements"" returned exit status 1.

As a workaround we constrain rstcheck to versions prior to 3.5.0 in our
Ubuntu 18.04 based linter job openstack-tox-linters-ansible-2.9.

Thanks to Arx Cruz and Jesper Schmitz Mouridsen for pointing out this
issue and its root cause ☺️

Change-Id: I8a6a61613db530a2bdde02e15146917ad8d1ae5f
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/35/838535/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/constraints-rstcheck-3.5.0.txt', '.zuul.yaml']",2,08b1b99ea0b21db71fc90a7bb3eb30d389353047,constrain_rstcheck-stable/1.0.0, # rstcheck 3.5.0 deprecated Python versions prior 3.7 and prints a FutureWarning which confuses ansible-test tox_constraints_file: '{{ ansible_user_dir }}/{{ zuul.project.src_dir }}/tests/constraints-rstcheck-3.5.0.txt',,5,0
openstack%2Freleases~master~I4d3859a6e0223fa6c805ac22c814434f8e51db7f,openstack/releases,master,I4d3859a6e0223fa6c805ac22c814434f8e51db7f,List the Zed cycle signing key as current,MERGED,2022-04-09 11:38:04.000000000,2022-04-19 19:43:33.000000000,2022-04-19 19:43:33.000000000,"[{'_account_id': 308}, {'_account_id': 11904}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-04-09 11:38:04.000000000', 'files': ['doc/source/index.rst'], 'web_link': 'https://opendev.org/openstack/releases/commit/e79eaa060a957f53e5d38bf74de429ec2d6b5547', 'message': 'List the Zed cycle signing key as current\n\nThis sets the end date for the Yoga key, and sets the start for the\nZed key as today,coincident with the merger of the corresponding\nI86e393994c80b0d73df21e62182a75e4b047b1c7 change.\n\nChange-Id: I4d3859a6e0223fa6c805ac22c814434f8e51db7f\n'}]",2,837196,e79eaa060a957f53e5d38bf74de429ec2d6b5547,9,5,1,5263,,,0,"List the Zed cycle signing key as current

This sets the end date for the Yoga key, and sets the start for the
Zed key as today,coincident with the merger of the corresponding
I86e393994c80b0d73df21e62182a75e4b047b1c7 change.

Change-Id: I4d3859a6e0223fa6c805ac22c814434f8e51db7f
",git fetch https://review.opendev.org/openstack/releases refs/changes/96/837196/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/index.rst'],1,e79eaa060a957f53e5d38bf74de429ec2d6b5547,zed-signing,* 2021-10-27..2022-04-09 (Yoga Cycle key):* 2022-04-09..present (Zed Cycle key):,* 2021-10-27..present (Yoga Cycle key):* future use (Zed Cycle key):,2,2
openstack%2Fsushy-oem-idrac~master~I17caac21c62961d4facd37840c7447e48cf3980f,openstack/sushy-oem-idrac,master,I17caac21c62961d4facd37840c7447e48cf3980f,Update .gitreview after project rename,MERGED,2022-04-19 10:57:36.000000000,2022-04-19 19:23:24.000000000,2022-04-19 19:23:24.000000000,"[{'_account_id': 22348}, {'_account_id': 23847}]","[{'number': 1, 'created': '2022-04-19 10:57:36.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/sushy-oem-idrac/commit/aac2509f7b35b0a922f19165c61e71478616e75c', 'message': 'Update .gitreview after project rename\n\nsushy-oem-idrac was moved from x/ to openstack/ namespace.\n\nChange-Id: I17caac21c62961d4facd37840c7447e48cf3980f\n'}]",1,838479,aac2509f7b35b0a922f19165c61e71478616e75c,6,2,1,27909,,,0,"Update .gitreview after project rename

sushy-oem-idrac was moved from x/ to openstack/ namespace.

Change-Id: I17caac21c62961d4facd37840c7447e48cf3980f
",git fetch https://review.opendev.org/openstack/sushy-oem-idrac refs/changes/79/838479/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,aac2509f7b35b0a922f19165c61e71478616e75c,project-rename,project=openstack/sushy-oem-idrac.git,project=x/sushy-oem-idrac.git,1,1
openstack%2Fkolla~stable%2Fussuri~Ia9ab0bdc95e658c17e5be5abefcf96f1c05ee84f,openstack/kolla,stable/ussuri,Ia9ab0bdc95e658c17e5be5abefcf96f1c05ee84f,Fix disabling of curlrc in healthcheck_curl,MERGED,2022-04-01 10:46:43.000000000,2022-04-19 19:18:48.000000000,2022-04-19 11:58:44.000000000,"[{'_account_id': 22348}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-04-01 10:46:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/1723c1318098a85d6836ca11151720d34ae86013', 'message': 'Fix disabling of curlrc in healthcheck_curl\n\nThe -q (aka --disable) option only works if it is the first parameter on\nthe command line.\n\nChange-Id: Ia9ab0bdc95e658c17e5be5abefcf96f1c05ee84f\nCloses-Bug: #1967272\n(cherry picked from commit 196b742ba271fd7e3521448f83e8a2914f5c7dc6)\n'}, {'number': 2, 'created': '2022-04-19 09:17:48.000000000', 'files': ['docker/base/healthcheck_curl', 'releasenotes/notes/healthcheck-curl-disable-curlrc-0f85aad47379e2a5.yaml'], 'web_link': 'https://opendev.org/openstack/kolla/commit/42b45677e2992c4d37c64fa57da96d410a3ae43e', 'message': 'Fix disabling of curlrc in healthcheck_curl\n\nThe -q (aka --disable) option only works if it is the first parameter on\nthe command line.\n\nChange-Id: Ia9ab0bdc95e658c17e5be5abefcf96f1c05ee84f\nCloses-Bug: #1967272\n(cherry picked from commit 196b742ba271fd7e3521448f83e8a2914f5c7dc6)\n'}]",0,835989,42b45677e2992c4d37c64fa57da96d410a3ae43e,12,3,2,15197,,,0,"Fix disabling of curlrc in healthcheck_curl

The -q (aka --disable) option only works if it is the first parameter on
the command line.

Change-Id: Ia9ab0bdc95e658c17e5be5abefcf96f1c05ee84f
Closes-Bug: #1967272
(cherry picked from commit 196b742ba271fd7e3521448f83e8a2914f5c7dc6)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/89/835989/1 && git format-patch -1 --stdout FETCH_HEAD,"['docker/base/healthcheck_curl', 'releasenotes/notes/healthcheck-curl-disable-curlrc-0f85aad47379e2a5.yaml']",2,1723c1318098a85d6836ca11151720d34ae86013,healthcheck-disable-curlrc-stable/ussuri,--- fixes: - | Fixes disabling the use of the ``curlrc`` configuration file in ``healthcheck_curl``. `LP#1967272 <https://launchpad.net/bugs/1967272>`__ ,,6,1
openstack%2Ftripleo-heat-templates~master~I495795f6f6f255fc8cf279ffe1eb3c94574ba07f,openstack/tripleo-heat-templates,master,I495795f6f6f255fc8cf279ffe1eb3c94574ba07f,Remove unused freeipa_setup.sh,MERGED,2022-03-24 07:53:54.000000000,2022-04-19 19:11:35.000000000,2022-04-19 19:11:35.000000000,"[{'_account_id': 1955}, {'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 7414}, {'_account_id': 9914}, {'_account_id': 9976}, {'_account_id': 14345}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30002}]","[{'number': 1, 'created': '2022-03-24 07:53:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7c549015f99cfcd70257776f5d6c434873bf97bd', 'message': 'Cleanup freeipa_setup.sh\n\nThis cleans up freeipa_setup.sh so that it works on newer Centos/RHEL releases.\n\nChange-Id: I495795f6f6f255fc8cf279ffe1eb3c94574ba07f\nResolves: rhbz#2066398\n'}, {'number': 2, 'created': '2022-04-03 18:59:14.000000000', 'files': ['ci/scripts/freeipa_setup.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/64c75f2f2701e677f9c19f16763c17c8d41c5053', 'message': 'Remove unused freeipa_setup.sh\n\nThis removes freeipa_setup.sh which is no longer used in upstream CI.\n\nChange-Id: I495795f6f6f255fc8cf279ffe1eb3c94574ba07f\nRelated: rhbz#2066398\n'}]",9,835007,64c75f2f2701e677f9c19f16763c17c8d41c5053,19,10,2,14250,,,0,"Remove unused freeipa_setup.sh

This removes freeipa_setup.sh which is no longer used in upstream CI.

Change-Id: I495795f6f6f255fc8cf279ffe1eb3c94574ba07f
Related: rhbz#2066398
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/07/835007/1 && git format-patch -1 --stdout FETCH_HEAD,['ci/scripts/freeipa_setup.sh'],1,7c549015f99cfcd70257776f5d6c434873bf97bd,centos9-fix,"# RHEL8.0 and up does not have epel yet PKGS=""ipa-server ipa-server-dns rng-tools git""","# RHEL8.0 does not have epel yet if [[ $VERSION_ID == 8* ]]; then PKGS=""ipa-server ipa-server-dns rng-tools git"" else PKGS=""ipa-server ipa-server-dns epel-release rng-tools mod_nss git haveged"" fi# Entropy generation; otherwise, ipa-server-install will lag. if [[ $VERSION_ID != 8* ]]; then chkconfig haveged on systemctl start haveged # Remove conflicting httpd configuration rm -f /etc/httpd/conf.d/ssl.conf fi ",2,15
openstack%2Fcharm-keystone-saml-mellon~stable%2Fyoga~Ifeb71c8816660e26036d79f50d56d50243ed07cf,openstack/charm-keystone-saml-mellon,stable/yoga,Ifeb71c8816660e26036d79f50d56d50243ed07cf,Updates for stable branch creation,MERGED,2022-04-15 10:49:13.000000000,2022-04-19 19:09:29.000000000,2022-04-19 19:09:29.000000000,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-15 10:49:13.000000000', 'files': ['.gitreview', 'test-requirements.txt', 'src/wheelhouse.txt', 'src/test-requirements.txt', 'src/build.lock'], 'web_link': 'https://opendev.org/openstack/charm-keystone-saml-mellon/commit/77b9a8767e96e69c0d35e72b9214ff4429c45c34', 'message': 'Updates for stable branch creation\n\n- Set default branch for git review/gerrit.\n- Switch tests to stable.\n- Switch to using stable charm-helpers branch.\n- Switch to using stable charm.openstack branch.\n- Switch to using stable zaza, zaza-openstack-tests\n  branch\n- (reactive charms) Add build.lock file\n\nChange-Id: Ifeb71c8816660e26036d79f50d56d50243ed07cf\n'}]",4,838136,77b9a8767e96e69c0d35e72b9214ff4429c45c34,14,3,1,20870,,,0,"Updates for stable branch creation

- Set default branch for git review/gerrit.
- Switch tests to stable.
- Switch to using stable charm-helpers branch.
- Switch to using stable charm.openstack branch.
- Switch to using stable zaza, zaza-openstack-tests
  branch
- (reactive charms) Add build.lock file

Change-Id: Ifeb71c8816660e26036d79f50d56d50243ed07cf
",git fetch https://review.opendev.org/openstack/charm-keystone-saml-mellon refs/changes/36/838136/1 && git format-patch -1 --stdout FETCH_HEAD,"['.gitreview', 'test-requirements.txt', 'src/wheelhouse.txt', 'src/test-requirements.txt', 'src/build.lock']",5,77b9a8767e96e69c0d35e72b9214ff4429c45c34,charm-release-2204,"{ ""locks"": [ { ""type"": ""layer"", ""item"": ""layer:options"", ""url"": ""https://github.com/juju-solutions/layer-options.git"", ""vcs"": null, ""branch"": ""refs/heads/master"", ""commit"": ""fcdcea4e5de3e1556c24e6704607862d0ba00a56"" }, { ""type"": ""layer"", ""item"": ""layer:basic"", ""url"": ""https://github.com/juju-solutions/layer-basic.git"", ""vcs"": null, ""branch"": ""refs/heads/master"", ""commit"": ""fb767dcf0786d1d5364199bb3b40bdc86518b45b"" }, { ""type"": ""layer"", ""item"": ""layer:openstack"", ""url"": ""https://github.com/openstack/charm-layer-openstack"", ""vcs"": null, ""branch"": ""refs/heads/master"", ""commit"": ""e0f700eacb026235e1a04e7cbc28dfbe9d4e4520"" }, { ""type"": ""layer"", ""item"": ""layer:leadership"", ""url"": ""https://git.launchpad.net/layer-leadership"", ""vcs"": null, ""branch"": ""refs/heads/master"", ""commit"": ""cc5bd3f49b2fa5e6c3ab2336763c313ec8bf083f"" }, { ""type"": ""layer"", ""item"": ""keystone-saml-mellon"", ""url"": null, ""vcs"": null, ""branch"": ""refs/heads/stable/yoga\nrefs/heads/yoga-updates"", ""commit"": ""refs/heads/stable/yoga\nrefs/heads/yoga-updates"" }, { ""type"": ""layer"", ""item"": ""interface:tls-certificates"", ""url"": ""https://github.com/juju-solutions/interface-tls-certificates"", ""vcs"": null, ""branch"": ""refs/heads/master"", ""commit"": ""d9850016d930a6d507b9fd45e2598d327922b140"" }, { ""type"": ""layer"", ""item"": ""interface:keystone-fid-service-provider"", ""url"": ""https://github.com/openstack/charm-interface-keystone-fid-service-provider"", ""vcs"": null, ""branch"": ""refs/heads/master"", ""commit"": ""be0926efafaa9ffe1df84f2fbd6b8a5d3d58b270"" }, { ""type"": ""layer"", ""item"": ""interface:websso-fid-service-provider"", ""url"": ""https://github.com/openstack/charm-interface-websso-fid-service-provider"", ""vcs"": null, ""branch"": ""refs/heads/master"", ""commit"": ""b7c066abf22edec30af17c3da4612cd398b1306a"" }, { ""type"": ""layer"", ""item"": ""interface:juju-info"", ""url"": ""https://github.com/juju-solutions/interface-juju-info.git"", ""vcs"": null, ""branch"": ""refs/heads/master"", ""commit"": ""4e2f90052b3c02031d09f10900c9e9cb22565dee"" }, { ""type"": ""python_module"", ""package"": ""netifaces"", ""vcs"": null, ""version"": ""0.11.0"" }, { ""type"": ""python_module"", ""package"": ""packaging"", ""vcs"": null, ""version"": ""21.3"" }, { ""type"": ""python_module"", ""package"": ""netaddr"", ""vcs"": null, ""version"": ""0.7.19"" }, { ""type"": ""python_module"", ""package"": ""pip"", ""vcs"": null, ""version"": ""22.0.4"" }, { ""type"": ""python_module"", ""package"": ""Tempita"", ""vcs"": null, ""version"": ""0.4"" }, { ""type"": ""python_module"", ""package"": ""cffi"", ""vcs"": null, ""version"": ""1.15.0"" }, { ""type"": ""python_module"", ""package"": ""flit_core"", ""vcs"": null, ""version"": ""3.7.1"" }, { ""type"": ""python_module"", ""package"": ""setuptools_scm"", ""vcs"": null, ""version"": ""6.4.2"" }, { ""type"": ""python_module"", ""package"": ""lxml"", ""vcs"": null, ""version"": ""4.8.0"" }, { ""type"": ""python_module"", ""package"": ""charms.reactive"", ""vcs"": null, ""version"": ""1.5.0"" }, { ""type"": ""python_module"", ""package"": ""pyaml"", ""vcs"": null, ""version"": ""21.10.1"" }, { ""type"": ""python_module"", ""package"": ""pyparsing"", ""vcs"": null, ""version"": ""3.0.8"" }, { ""type"": ""python_module"", ""package"": ""wheel"", ""vcs"": null, ""version"": ""0.37.1"" }, { ""type"": ""python_module"", ""package"": ""tomli"", ""vcs"": null, ""version"": ""2.0.1"" }, { ""type"": ""python_module"", ""package"": ""pbr"", ""vcs"": null, ""version"": ""5.8.1"" }, { ""type"": ""python_module"", ""package"": ""six"", ""vcs"": null, ""version"": ""1.16.0"" }, { ""type"": ""python_module"", ""package"": ""setuptools"", ""vcs"": null, ""version"": ""62.1.0"" }, { ""type"": ""python_module"", ""package"": ""dnspython"", ""vcs"": null, ""version"": ""1.16.0"" }, { ""type"": ""python_module"", ""package"": ""cryptography"", ""vcs"": null, ""version"": ""3.3.2"" }, { ""type"": ""python_module"", ""package"": ""PyYAML"", ""vcs"": null, ""version"": ""5.3.1"" }, { ""type"": ""python_module"", ""package"": ""psutil"", ""vcs"": null, ""version"": ""5.9.0"" }, { ""type"": ""python_module"", ""package"": ""charmhelpers"", ""url"": ""git+https://github.com/juju/charm-helpers.git"", ""branch"": ""refs/heads/stable/yoga"", ""version"": ""971ac5117c96bd1cb4a6a520787e4509564da582"", ""vcs"": ""git"" }, { ""type"": ""python_module"", ""package"": ""charms.openstack"", ""url"": ""git+https://github.com/openstack/charms.openstack.git"", ""branch"": ""refs/heads/stable/yoga"", ""version"": ""13ef220ce3529fa7b8e11c6e4c5b352d05b6f148"", ""vcs"": ""git"" }, { ""type"": ""python_module"", ""package"": ""MarkupSafe"", ""vcs"": null, ""version"": ""2.1.1"" }, { ""type"": ""python_module"", ""package"": ""Jinja2"", ""vcs"": null, ""version"": ""3.1.1"" }, { ""type"": ""python_module"", ""package"": ""pycparser"", ""vcs"": null, ""version"": ""2.21"" } ] }",,243,5
openstack%2Fcharm-manila~stable%2Fyoga~I9a383e1ba3054bf1ed72bd5df6f48dfb3d48b703,openstack/charm-manila,stable/yoga,I9a383e1ba3054bf1ed72bd5df6f48dfb3d48b703,Updates for stable branch creation,MERGED,2022-04-15 10:50:27.000000000,2022-04-19 19:07:43.000000000,2022-04-19 19:07:43.000000000,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-15 10:50:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-manila/commit/746d201700836886275aaf0655d71d0a13560f4a', 'message': 'Updates for stable branch creation\n\n- Set default branch for git review/gerrit.\n- Switch tests to stable.\n- Switch to using stable charm-helpers branch.\n- Switch to using stable charm.openstack branch.\n- Switch to using stable zaza, zaza-openstack-tests\n  branch\n- (reactive charms) Add build.lock file\n\nChange-Id: I9a383e1ba3054bf1ed72bd5df6f48dfb3d48b703\n'}, {'number': 2, 'created': '2022-04-19 06:52:44.000000000', 'files': ['.gitreview', 'test-requirements.txt', 'src/wheelhouse.txt', 'src/test-requirements.txt', 'src/build.lock'], 'web_link': 'https://opendev.org/openstack/charm-manila/commit/d7003bd3e01d1a6b90ff4040c1472dfe70377152', 'message': 'Updates for stable branch creation\n\n- Set default branch for git review/gerrit.\n- Switch tests to stable.\n- Switch to using stable charm-helpers branch.\n- Switch to using stable charm.openstack branch.\n- Switch to using stable zaza, zaza-openstack-tests\n  branch\n- (reactive charms) Add build.lock file\n\nChange-Id: I9a383e1ba3054bf1ed72bd5df6f48dfb3d48b703\n'}]",3,838139,d7003bd3e01d1a6b90ff4040c1472dfe70377152,16,3,2,20870,,,0,"Updates for stable branch creation

- Set default branch for git review/gerrit.
- Switch tests to stable.
- Switch to using stable charm-helpers branch.
- Switch to using stable charm.openstack branch.
- Switch to using stable zaza, zaza-openstack-tests
  branch
- (reactive charms) Add build.lock file

Change-Id: I9a383e1ba3054bf1ed72bd5df6f48dfb3d48b703
",git fetch https://review.opendev.org/openstack/charm-manila refs/changes/39/838139/1 && git format-patch -1 --stdout FETCH_HEAD,"['.gitreview', 'manila.charm', 'test-requirements.txt', 'src/wheelhouse.txt', 'src/test-requirements.txt', 'src/build.lock']",6,746d201700836886275aaf0655d71d0a13560f4a,charm-release-2204,"{ ""locks"": [ { ""type"": ""layer"", ""item"": ""layer:options"", ""url"": ""https://github.com/juju-solutions/layer-options.git"", ""vcs"": null, ""branch"": ""refs/heads/master"", ""commit"": ""fcdcea4e5de3e1556c24e6704607862d0ba00a56"" }, { ""type"": ""layer"", ""item"": ""layer:basic"", ""url"": ""https://github.com/juju-solutions/layer-basic.git"", ""vcs"": null, ""branch"": ""refs/heads/master"", ""commit"": ""fb767dcf0786d1d5364199bb3b40bdc86518b45b"" }, { ""type"": ""layer"", ""item"": ""layer:openstack"", ""url"": ""https://github.com/openstack/charm-layer-openstack"", ""vcs"": null, ""branch"": ""refs/heads/master"", ""commit"": ""e0f700eacb026235e1a04e7cbc28dfbe9d4e4520"" }, { ""type"": ""layer"", ""item"": ""layer:openstack-principle"", ""url"": ""https://github.com/openstack/charm-layer-openstack-principle"", ""vcs"": null, ""branch"": ""refs/heads/master"", ""commit"": ""2541283a7f9c3fa923c0fccd7257e217e11dadcd"" }, { ""type"": ""layer"", ""item"": ""layer:openstack-api"", ""url"": ""https://github.com/openstack/charm-layer-openstack-api"", ""vcs"": null, ""branch"": ""refs/heads/master"", ""commit"": ""34311a62e963d0ce903b7ddb9d70b8f071f71651"" }, { ""type"": ""layer"", ""item"": ""manila"", ""url"": null, ""vcs"": null, ""branch"": ""refs/heads/stable/yoga\nrefs/heads/yoga-updates"", ""commit"": ""refs/heads/stable/yoga\nrefs/heads/yoga-updates"" }, { ""type"": ""layer"", ""item"": ""interface:tls-certificates"", ""url"": ""https://github.com/juju-solutions/interface-tls-certificates"", ""vcs"": null, ""branch"": ""refs/heads/master"", ""commit"": ""d9850016d930a6d507b9fd45e2598d327922b140"" }, { ""type"": ""layer"", ""item"": ""interface:mysql-shared"", ""url"": ""https://github.com/openstack/charm-interface-mysql-shared"", ""vcs"": null, ""branch"": ""refs/heads/master"", ""commit"": ""f90f8c6edce21e4da3a872f0f9d6761730ce025d"" }, { ""type"": ""layer"", ""item"": ""interface:rabbitmq"", ""url"": ""https://github.com/openstack/charm-interface-rabbitmq"", ""vcs"": null, ""branch"": ""refs/heads/master"", ""commit"": ""383121fc584d2d3bf9d233eba0d3708398a4c468"" }, { ""type"": ""layer"", ""item"": ""interface:keystone"", ""url"": ""https://github.com/openstack/charm-interface-keystone"", ""vcs"": null, ""branch"": ""refs/heads/master"", ""commit"": ""501af18b3036f5af92990bc39e750e76e393e5eb"" }, { ""type"": ""layer"", ""item"": ""interface:hacluster"", ""url"": ""https://github.com/openstack/charm-interface-hacluster.git"", ""vcs"": null, ""branch"": ""refs/heads/master"", ""commit"": ""2b714e90b1b8845ce7390bb1dad5a56a65437907"" }, { ""type"": ""layer"", ""item"": ""interface:openstack-ha"", ""url"": ""https://github.com/openstack/charm-interface-openstack-ha"", ""vcs"": null, ""branch"": ""refs/heads/master"", ""commit"": ""a3b00e5b5fd857d130698c5cfe4b918877f0ab80"" }, { ""type"": ""layer"", ""item"": ""interface:neutron-plugin"", ""url"": ""https://github.com/openstack/charm-interface-neutron-plugin"", ""vcs"": null, ""branch"": ""refs/heads/master"", ""commit"": ""3fba729d3e2856a9cab4de71c1252388213b9844"" }, { ""type"": ""layer"", ""item"": ""interface:manila-plugin"", ""url"": ""https://github.com/openstack/charm-interface-manila-plugin"", ""vcs"": null, ""branch"": ""refs/heads/master"", ""commit"": ""14cb348a09b30c92de89878c58e790779ebdad23"" }, { ""type"": ""layer"", ""item"": ""interface:nrpe-external-master"", ""url"": ""https://github.com/canonical/nrpe-external-master-interface"", ""vcs"": null, ""branch"": ""refs/heads/master"", ""commit"": ""95d744d1dbc4d86fb0462283c9371619bf5bbc24"" }, { ""type"": ""python_module"", ""package"": ""Jinja2"", ""vcs"": null, ""version"": ""3.1.1"" }, { ""type"": ""python_module"", ""package"": ""netaddr"", ""vcs"": null, ""version"": ""0.7.19"" }, { ""type"": ""python_module"", ""package"": ""pip"", ""vcs"": null, ""version"": ""22.0.4"" }, { ""type"": ""python_module"", ""package"": ""pyaml"", ""vcs"": null, ""version"": ""21.10.1"" }, { ""type"": ""python_module"", ""package"": ""PyYAML"", ""vcs"": null, ""version"": ""5.3.1"" }, { ""type"": ""python_module"", ""package"": ""psutil"", ""vcs"": null, ""version"": ""5.9.0"" }, { ""type"": ""python_module"", ""package"": ""netifaces"", ""vcs"": null, ""version"": ""0.11.0"" }, { ""type"": ""python_module"", ""package"": ""charms.openstack"", ""url"": ""git+https://github.com/openstack/charms.openstack.git"", ""branch"": ""refs/heads/stable/yoga"", ""version"": ""13ef220ce3529fa7b8e11c6e4c5b352d05b6f148"", ""vcs"": ""git"" }, { ""type"": ""python_module"", ""package"": ""charms.reactive"", ""vcs"": null, ""version"": ""1.5.0"" }, { ""type"": ""python_module"", ""package"": ""packaging"", ""vcs"": null, ""version"": ""21.3"" }, { ""type"": ""python_module"", ""package"": ""pbr"", ""vcs"": null, ""version"": ""5.8.1"" }, { ""type"": ""python_module"", ""package"": ""wheel"", ""vcs"": null, ""version"": ""0.37.1"" }, { ""type"": ""python_module"", ""package"": ""setuptools_scm"", ""vcs"": null, ""version"": ""6.4.2"" }, { ""type"": ""python_module"", ""package"": ""MarkupSafe"", ""vcs"": null, ""version"": ""2.1.1"" }, { ""type"": ""python_module"", ""package"": ""Tempita"", ""vcs"": null, ""version"": ""0.4"" }, { ""type"": ""python_module"", ""package"": ""charmhelpers"", ""url"": ""git+https://github.com/juju/charm-helpers.git"", ""branch"": ""refs/heads/stable/yoga"", ""version"": ""971ac5117c96bd1cb4a6a520787e4509564da582"", ""vcs"": ""git"" }, { ""type"": ""python_module"", ""package"": ""pyparsing"", ""vcs"": null, ""version"": ""3.0.8"" }, { ""type"": ""python_module"", ""package"": ""setuptools"", ""vcs"": null, ""version"": ""62.1.0"" }, { ""type"": ""python_module"", ""package"": ""dnspython"", ""vcs"": null, ""version"": ""1.16.0"" }, { ""type"": ""python_module"", ""package"": ""tomli"", ""vcs"": null, ""version"": ""2.0.1"" }, { ""type"": ""python_module"", ""package"": ""flit_core"", ""vcs"": null, ""version"": ""3.7.1"" } ] }",,261,5
openstack%2Freleases~master~I4830e4b210c7c6145761edbe7943b70a32843fbf,openstack/releases,master,I4830e4b210c7c6145761edbe7943b70a32843fbf,Add Oslo specific dates for Zed schedule,MERGED,2022-04-12 09:22:12.000000000,2022-04-19 19:06:25.000000000,2022-04-19 19:06:25.000000000,"[{'_account_id': 308}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-12 09:22:12.000000000', 'files': ['doc/source/zed/schedule.yaml', 'doc/source/zed/schedule.rst'], 'web_link': 'https://opendev.org/openstack/releases/commit/6998f0b34a9308b902b70af1d84a5b26e60e6712', 'message': 'Add Oslo specific dates for Zed schedule\n\nChange-Id: I4830e4b210c7c6145761edbe7943b70a32843fbf\n'}]",1,837509,6998f0b34a9308b902b70af1d84a5b26e60e6712,7,3,1,28522,,,0,"Add Oslo specific dates for Zed schedule

Change-Id: I4830e4b210c7c6145761edbe7943b70a32843fbf
",git fetch https://review.opendev.org/openstack/releases refs/changes/09/837509/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/zed/schedule.yaml', 'doc/source/zed/schedule.rst']",2,6998f0b34a9308b902b70af1d84a5b26e60e6712,oslo-zed,"Oslo ---- .. _z-oslo-feature-freeze: Oslo Feature Freeze ^^^^^^^^^^^^^^^^^^^ All new Oslo features must be proposed and substantially complete, with unit tests by the end of the week.",,12,0
openstack%2Fcharm-gnocchi~stable%2Fyoga~Ia8e207de528293ac08a6e260ebb1f48a455c40d6,openstack/charm-gnocchi,stable/yoga,Ia8e207de528293ac08a6e260ebb1f48a455c40d6,Updates for stable branch creation,MERGED,2022-04-15 10:46:51.000000000,2022-04-19 19:04:03.000000000,2022-04-19 19:04:03.000000000,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-15 10:46:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-gnocchi/commit/04586fee0fa86c51f553a13f6fa05291e34e637d', 'message': 'Updates for stable branch creation\n\n- Set default branch for git review/gerrit.\n- Switch tests to stable.\n- Switch to using stable charm-helpers branch.\n- Switch to using stable charm.openstack branch.\n- Switch to using stable zaza, zaza-openstack-tests\n  branch\n- (reactive charms) Add build.lock file\n\nChange-Id: Ia8e207de528293ac08a6e260ebb1f48a455c40d6\n'}, {'number': 2, 'created': '2022-04-18 19:29:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-gnocchi/commit/389de232a68a17dd9c5542832af5c1cb30e58daf', 'message': 'Updates for stable branch creation\n\n- Set default branch for git review/gerrit.\n- Switch tests to stable.\n- Switch to using stable charm-helpers branch.\n- Switch to using stable charm.openstack branch.\n- Switch to using stable zaza, zaza-openstack-tests\n  branch\n- (reactive charms) Add build.lock file\n\nChange-Id: Ia8e207de528293ac08a6e260ebb1f48a455c40d6\n'}, {'number': 3, 'created': '2022-04-19 12:48:44.000000000', 'files': ['.gitignore', '.gitreview', 'test-requirements.txt', 'src/wheelhouse.txt', 'src/test-requirements.txt', 'src/build.lock'], 'web_link': 'https://opendev.org/openstack/charm-gnocchi/commit/d7382fa1360c25f130680dcf500aac9d6da85e3c', 'message': 'Updates for stable branch creation\n\n- Set default branch for git review/gerrit.\n- Switch tests to stable.\n- Switch to using stable charm-helpers branch.\n- Switch to using stable charm.openstack branch.\n- Switch to using stable zaza, zaza-openstack-tests\n  branch\n- (reactive charms) Add build.lock file\n\nChange-Id: Ia8e207de528293ac08a6e260ebb1f48a455c40d6\n'}]",3,838129,d7382fa1360c25f130680dcf500aac9d6da85e3c,17,3,3,20870,,,0,"Updates for stable branch creation

- Set default branch for git review/gerrit.
- Switch tests to stable.
- Switch to using stable charm-helpers branch.
- Switch to using stable charm.openstack branch.
- Switch to using stable zaza, zaza-openstack-tests
  branch
- (reactive charms) Add build.lock file

Change-Id: Ia8e207de528293ac08a6e260ebb1f48a455c40d6
",git fetch https://review.opendev.org/openstack/charm-gnocchi refs/changes/29/838129/1 && git format-patch -1 --stdout FETCH_HEAD,"['.gitreview', 'test-requirements.txt', 'src/wheelhouse.txt', 'src/test-requirements.txt', 'src/build.lock', 'gnocchi.charm']",6,04586fee0fa86c51f553a13f6fa05291e34e637d,charm-release-2204,,,303,5
openstack%2Fkolla~master~I6890a7ec7baf507f8acd75b42bbd0fb17c2e4511,openstack/kolla,master,I6890a7ec7baf507f8acd75b42bbd0fb17c2e4511,drop install_type almost everywhere,MERGED,2022-04-11 10:36:27.000000000,2022-04-19 19:01:37.000000000,2022-04-15 10:25:59.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-04-11 10:36:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/89ad71e9dca192d0be60f9d35397b2cfb412bed7', 'message': 'drop install_type almost everywhere\n\nThe only place where it stays is argument parsing where it gets ignored.\n\nChange-Id: I6890a7ec7baf507f8acd75b42bbd0fb17c2e4511\n'}, {'number': 2, 'created': '2022-04-11 11:02:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/cd4453e10dc1154614e005c9ab8900a78b52eec0', 'message': 'drop install_type almost everywhere\n\nThe only place where it stays is argument parsing where it gets ignored.\n\nChange-Id: I6890a7ec7baf507f8acd75b42bbd0fb17c2e4511\n'}, {'number': 3, 'created': '2022-04-11 11:09:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/f58a834379d41144f8ee4b711fc68ada07dd6966', 'message': 'drop install_type almost everywhere\n\nThe only place where it stays is argument parsing where it gets ignored.\n\nChange-Id: I6890a7ec7baf507f8acd75b42bbd0fb17c2e4511\n'}, {'number': 4, 'created': '2022-04-12 13:13:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/130bb85b7365edb4b120b0dbed7762b7aea50d63', 'message': 'drop install_type almost everywhere\n\nThe only place where it stays is argument parsing where it gets ignored.\n\nDepends-on: https://review.opendev.org/c/openstack/kolla-ansible/+/837291\n\nChange-Id: I6890a7ec7baf507f8acd75b42bbd0fb17c2e4511\n'}, {'number': 5, 'created': '2022-04-12 13:13:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/1b6fa6fe0d36d2c041812eff83c2b8ee039cabbd', 'message': 'drop install_type almost everywhere\n\nThe only place where it stays is argument parsing where it gets ignored.\n\nDepends-on: https://review.opendev.org/c/openstack/kolla-ansible/+/837291\n\nChange-Id: I6890a7ec7baf507f8acd75b42bbd0fb17c2e4511\n'}, {'number': 6, 'created': '2022-04-12 13:27:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/cb7cb25ee9eac179382b443c4928776ca1c17890', 'message': 'drop install_type almost everywhere\n\nThe only place where it stays is argument parsing where it gets ignored.\n\nDepends-on: https://review.opendev.org/c/openstack/kolla-ansible/+/837291\n\nChange-Id: I6890a7ec7baf507f8acd75b42bbd0fb17c2e4511\n'}, {'number': 7, 'created': '2022-04-12 17:11:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/c88584453748b03a0912640b112b9dfdce13ad3e', 'message': ""drop install_type almost everywhere\n\nThe only place where it stays is argument parsing where it gets ignored.\n\nHardcoded to 'source' to make merging both kolla and kolla-ansible\nchanges easier.\n\nChange-Id: I6890a7ec7baf507f8acd75b42bbd0fb17c2e4511\n""}, {'number': 8, 'created': '2022-04-12 20:23:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/8bc278ad22ccc9cdbb4bf690524d40094236f622', 'message': ""drop install_type almost everywhere\n\nThe only place where it stays is argument parsing where it gets ignored.\n\nHardcoded to 'source' to make merging both kolla and kolla-ansible\nchanges easier.\n\nChange-Id: I6890a7ec7baf507f8acd75b42bbd0fb17c2e4511\nDepends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/837620\n""}, {'number': 9, 'created': '2022-04-14 19:08:36.000000000', 'files': ['kolla/image/build.py', '.zuul.d/debian.yaml', '.zuul.d/centos.yaml', '.zuul.d/ubuntu.yaml', 'releasenotes/notes/deprecate-install-type-argument-709bb37ded2b6aee.yaml', 'kolla/common/config.py', 'doc/source/admin/kolla_api.rst', 'kolla/tests/test_build.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/1b697cc69bc37df86b4ba27924732d01a710096c', 'message': ""drop install_type almost everywhere\n\nThe only place where it stays is argument parsing where it gets ignored.\n\nHardcoded to 'source' to make merging both kolla and kolla-ansible\nchanges easier.\n\nChange-Id: I6890a7ec7baf507f8acd75b42bbd0fb17c2e4511\nDepends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/837620\n""}]",23,837287,1b697cc69bc37df86b4ba27924732d01a710096c,50,3,9,24072,,,0,"drop install_type almost everywhere

The only place where it stays is argument parsing where it gets ignored.

Hardcoded to 'source' to make merging both kolla and kolla-ansible
changes easier.

Change-Id: I6890a7ec7baf507f8acd75b42bbd0fb17c2e4511
Depends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/837620
",git fetch https://review.opendev.org/openstack/kolla refs/changes/87/837287/9 && git format-patch -1 --stdout FETCH_HEAD,"['kolla/image/build.py', 'tests/playbooks/run.yml', '.zuul.d/debian.yaml', '.zuul.d/centos.yaml', '.zuul.d/ubuntu.yaml', 'kolla/common/config.py', 'doc/source/admin/kolla_api.rst', 'kolla/tests/test_build.py']",8,89ad71e9dca192d0be60f9d35397b2cfb412bed7,zed-remove-support-for-binary-images,," self.conf.set_override('install_type', 'source') self.conf.set_override('install_type', 'source') self.conf.set_override('install_type', 'source') self.conf.set_override('install_type', 'source') self.conf.set_override('install_type', 'source') self.conf.set_override('install_type', 'source') self.conf.set_override('install_type', 'source')",57,82
openstack%2Freleases~master~I9ea824308fc7e4850883f8108c61795902d5121c,openstack/releases,master,I9ea824308fc7e4850883f8108c61795902d5121c,Final Victoria release for horizon,MERGED,2022-04-19 17:03:54.000000000,2022-04-19 18:57:02.000000000,2022-04-19 18:57:02.000000000,"[{'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-04-19 17:03:54.000000000', 'files': ['deliverables/victoria/horizon.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/2556a22e50188b6ac6e7844cb7de895436faa547', 'message': 'Final Victoria release for horizon\n\nThis patch cuts a new release for stable/victoria to include\nlatest bug fix. After this stable/victoria enters extended\nmaintenance phase.\n\nChange-Id: I9ea824308fc7e4850883f8108c61795902d5121c\n'}]",1,838560,2556a22e50188b6ac6e7844cb7de895436faa547,8,3,1,29313,,,0,"Final Victoria release for horizon

This patch cuts a new release for stable/victoria to include
latest bug fix. After this stable/victoria enters extended
maintenance phase.

Change-Id: I9ea824308fc7e4850883f8108c61795902d5121c
",git fetch https://review.opendev.org/openstack/releases refs/changes/60/838560/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/victoria/horizon.yaml'],1,2556a22e50188b6ac6e7844cb7de895436faa547,, - version: 18.6.4 projects: - repo: openstack/horizon hash: c9ebeb1fa3de5ead102fef2027c8e5320c3038e1,,4,0
openstack%2Fdevstack~master~Ibc9453ff1c9775b565901322304b478980f2ce00,openstack/devstack,master,Ibc9453ff1c9775b565901322304b478980f2ce00,[WIP] refactor tempest install phases,NEW,2022-04-19 17:02:23.000000000,2022-04-19 18:55:52.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-04-19 17:02:23.000000000', 'files': ['extras.d/80-tempest.sh', 'lib/tempest'], 'web_link': 'https://opendev.org/openstack/devstack/commit/00971250908d965f418a340f8ce30c4d6bf3c2f5', 'message': '[WIP] refactor tempest install phases\n\nThis change moved the generation of the base\ntempest config and installation of tempest plugins\nfrom test-config to extra.\n\nextra is after all the services are stared which is\nrequired by tempest but its it allow post-extra to be used\nby plugins to modify the tempest config.\n\nverify-config is now run spereatly in test-config\n\nthis change also makes plugin install async starting it\nin extra and waiting for it at the start of test-config.\n\nChange-Id: Ibc9453ff1c9775b565901322304b478980f2ce00\n'}]",1,838559,00971250908d965f418a340f8ce30c4d6bf3c2f5,2,1,1,11604,,,0,"[WIP] refactor tempest install phases

This change moved the generation of the base
tempest config and installation of tempest plugins
from test-config to extra.

extra is after all the services are stared which is
required by tempest but its it allow post-extra to be used
by plugins to modify the tempest config.

verify-config is now run spereatly in test-config

this change also makes plugin install async starting it
in extra and waiting for it at the start of test-config.

Change-Id: Ibc9453ff1c9775b565901322304b478980f2ce00
",git fetch https://review.opendev.org/openstack/devstack refs/changes/59/838559/1 && git format-patch -1 --stdout FETCH_HEAD,"['extras.d/80-tempest.sh', 'lib/tempest']",2,00971250908d965f418a340f8ce30c4d6bf3c2f5,move-verify-config-to-extra-phase, # Restore IFS IFS=$ifs } # test_config_tempest run tasks in the test_cofnig phase after configs have been # generated in the extra phase and possible updated by plugins in extra # or post_extra phase. function test_config_tempest { pushd $TEMPEST_DIR popd, cd $TEMPEST_DIR # Restore IFS IFS=$ifs,16,11
openstack%2Freleases~master~Id91ea2352b14cff6b5b6758b7a7cbdf3a53d89b5,openstack/releases,master,Id91ea2352b14cff6b5b6758b7a7cbdf3a53d89b5,[octavia] Transition Victoria to EM,MERGED,2022-04-14 17:03:34.000000000,2022-04-19 18:36:39.000000000,2022-04-19 18:36:39.000000000,"[{'_account_id': 6469}, {'_account_id': 11628}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 29244}]","[{'number': 1, 'created': '2022-04-14 17:03:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/e9537fc8d42c6d0f7c53efa2337d7b248dd653a2', 'message': '[octavia] Transition Victoria to EM\n\nThis transition the victoria branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch.\n\nPlease +1 if the team is ready for us to proceed with this\ntransition, or -1 if there are any final backports currently in\nflight that we should wait for. For the latter case, please\nupdate the patch with the new commit hash after doing a final\nrelease to get those changes out so we know to proceed with the\ntransition.\n\nThe transition deadline is April 27th, 2022.\n\nChange-Id: Id91ea2352b14cff6b5b6758b7a7cbdf3a53d89b5\n'}, {'number': 2, 'created': '2022-04-14 17:38:19.000000000', 'files': ['deliverables/victoria/octavia-dashboard.yaml', 'deliverables/victoria/octavia.yaml', 'deliverables/victoria/octavia-lib.yaml', 'deliverables/victoria/python-octaviaclient.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/67349780bd1500494b9aaf44a7542bc4acdd5fda', 'message': '[octavia] Transition Victoria to EM\n\nThis transition the victoria branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch.\n\nPlease +1 if the team is ready for us to proceed with this\ntransition, or -1 if there are any final backports currently in\nflight that we should wait for. For the latter case, please\nupdate the patch with the new commit hash after doing a final\nrelease to get those changes out so we know to proceed with the\ntransition.\n\nThe transition deadline is April 27th, 2022.\n\nChange-Id: Id91ea2352b14cff6b5b6758b7a7cbdf3a53d89b5\n'}]",1,837958,67349780bd1500494b9aaf44a7542bc4acdd5fda,11,6,2,17685,,,0,"[octavia] Transition Victoria to EM

This transition the victoria branch to extended maintenance.
Changes for bugfixes and things the team deems important are
still encouraged, but there will no longer be official releases
off of the branch.

Please +1 if the team is ready for us to proceed with this
transition, or -1 if there are any final backports currently in
flight that we should wait for. For the latter case, please
update the patch with the new commit hash after doing a final
release to get those changes out so we know to proceed with the
transition.

The transition deadline is April 27th, 2022.

Change-Id: Id91ea2352b14cff6b5b6758b7a7cbdf3a53d89b5
",git fetch https://review.opendev.org/openstack/releases refs/changes/58/837958/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/victoria/octavia-dashboard.yaml', 'deliverables/victoria/octavia.yaml', 'deliverables/victoria/octavia-lib.yaml', 'deliverables/victoria/octavia-tempest-plugin.yaml', 'deliverables/victoria/python-octaviaclient.yaml']",5,e9537fc8d42c6d0f7c53efa2337d7b248dd653a2,victoria-em, - version: victoria-em projects: - repo: openstack/python-octaviaclient hash: c2aa20175c425b5ace32ec6862dba1189ae1ad5a,,20,0
openstack%2Fglance~master~I945f30fa7dd60e2e93bc248be4529633fb1f6bea,openstack/glance,master,I945f30fa7dd60e2e93bc248be4529633fb1f6bea,Move FIPS jobs to experimental and periodic queue,MERGED,2022-03-14 12:56:34.000000000,2022-04-19 18:24:35.000000000,2022-04-19 18:21:54.000000000,"[{'_account_id': 4393}, {'_account_id': 5314}, {'_account_id': 9303}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-03-14 12:56:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/51a8acfc397cf6a456fe86d8ca9b9c73534fde51', 'message': 'Move FIPS jobs to experimental and periodic queue\n\nChange-Id: I945f30fa7dd60e2e93bc248be4529633fb1f6bea\n'}, {'number': 2, 'created': '2022-03-14 16:16:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/e3ea9b4ca9f38a00bf335d419c90fd08f0d54db0', 'message': 'Move FIPS jobs to experimental and periodic queue\n\nChange-Id: I945f30fa7dd60e2e93bc248be4529633fb1f6bea\n'}, {'number': 3, 'created': '2022-03-14 16:17:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/1436a831b3804781262e57a41e89650d719a2dd5', 'message': 'Move FIPS jobs to experimental and periodic queue\n\nChange-Id: I945f30fa7dd60e2e93bc248be4529633fb1f6bea\n'}, {'number': 4, 'created': '2022-03-14 17:02:34.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/glance/commit/8c6a79891a31d3fc88496500ebb7fd2cd5ee2273', 'message': 'Move FIPS jobs to experimental and periodic queue\n\nChange-Id: I945f30fa7dd60e2e93bc248be4529633fb1f6bea\n'}]",7,833622,8c6a79891a31d3fc88496500ebb7fd2cd5ee2273,25,4,4,34120,,,0,"Move FIPS jobs to experimental and periodic queue

Change-Id: I945f30fa7dd60e2e93bc248be4529633fb1f6bea
",git fetch https://review.opendev.org/openstack/glance refs/changes/22/833622/4 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,51a8acfc397cf6a456fe86d8ca9b9c73534fde51,fips-compatibility-cs9, - glance-multistore-cinder-import-fips: irrelevant-files: *tempest-irrelevant-files - glance-multistore-cinder-import-fips: branches: master, - glance-multistore-cinder-import-fips: voting: false irrelevant-files: *tempest-irrelevant-files,4,3
openstack%2Fkolla~stable%2Fvictoria~Ia9ab0bdc95e658c17e5be5abefcf96f1c05ee84f,openstack/kolla,stable/victoria,Ia9ab0bdc95e658c17e5be5abefcf96f1c05ee84f,Fix disabling of curlrc in healthcheck_curl,MERGED,2022-04-01 10:45:15.000000000,2022-04-19 18:07:24.000000000,2022-04-19 13:53:21.000000000,"[{'_account_id': 22348}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-04-01 10:45:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/af476e763987ab6ff88f52ac81c782bb4147376a', 'message': 'Fix disabling of curlrc in healthcheck_curl\n\nThe -q (aka --disable) option only works if it is the first parameter on\nthe command line.\n\nChange-Id: Ia9ab0bdc95e658c17e5be5abefcf96f1c05ee84f\nCloses-Bug: #1967272\n(cherry picked from commit 196b742ba271fd7e3521448f83e8a2914f5c7dc6)\n'}, {'number': 2, 'created': '2022-04-19 09:13:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/3e20d4ca9e0e181c5f465b86fd8c27de7287ab33', 'message': 'Fix disabling of curlrc in healthcheck_curl\n\nThe -q (aka --disable) option only works if it is the first parameter on\nthe command line.\n\nChange-Id: Ia9ab0bdc95e658c17e5be5abefcf96f1c05ee84f\nCloses-Bug: #1967272\n(cherry picked from commit 196b742ba271fd7e3521448f83e8a2914f5c7dc6)\n'}, {'number': 3, 'created': '2022-04-19 09:17:25.000000000', 'files': ['docker/base/healthcheck_curl', 'releasenotes/notes/healthcheck-curl-disable-curlrc-0f85aad47379e2a5.yaml'], 'web_link': 'https://opendev.org/openstack/kolla/commit/238c56f53020da918f3c840eeffe9f41225892d7', 'message': 'Fix disabling of curlrc in healthcheck_curl\n\nThe -q (aka --disable) option only works if it is the first parameter on\nthe command line.\n\nChange-Id: Ia9ab0bdc95e658c17e5be5abefcf96f1c05ee84f\nCloses-Bug: #1967272\n(cherry picked from commit 196b742ba271fd7e3521448f83e8a2914f5c7dc6)\n'}]",0,835988,238c56f53020da918f3c840eeffe9f41225892d7,13,3,3,15197,,,0,"Fix disabling of curlrc in healthcheck_curl

The -q (aka --disable) option only works if it is the first parameter on
the command line.

Change-Id: Ia9ab0bdc95e658c17e5be5abefcf96f1c05ee84f
Closes-Bug: #1967272
(cherry picked from commit 196b742ba271fd7e3521448f83e8a2914f5c7dc6)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/88/835988/2 && git format-patch -1 --stdout FETCH_HEAD,"['docker/base/healthcheck_curl', 'releasenotes/notes/healthcheck-curl-disable-curlrc-0f85aad47379e2a5.yaml']",2,af476e763987ab6ff88f52ac81c782bb4147376a,healthcheck-disable-curlrc-stable/victoria,--- fixes: - | Fixes disabling the use of the ``curlrc`` configuration file in ``healthcheck_curl``. `LP#1967272 <https://launchpad.net/bugs/1967272>`__ ,,6,1
openstack%2Freleases~master~Ic31f68ca521f15d9ff577fe1020f32a9e0fb5a84,openstack/releases,master,Ic31f68ca521f15d9ff577fe1020f32a9e0fb5a84,[kayobe] Transition Victoria to EM,ABANDONED,2022-04-19 17:55:15.000000000,2022-04-19 17:55:56.000000000,,[],"[{'number': 1, 'created': '2022-04-19 17:55:15.000000000', 'files': ['deliverables/victoria/kayobe.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/5040f51c1995c88a2ad150114d700ee17e577901', 'message': '[kayobe] Transition Victoria to EM\n\nThis transition the victoria branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch.\n\nPlease +1 if the team is ready for us to proceed with this\ntransition, or -1 if there are any final backports currently in\nflight that we should wait for. For the latter case, please\nupdate the patch with the new commit hash after doing a final\nrelease to get those changes out so we know to proceed with the\ntransition.\n\nThe transition deadline is April 27th, 2022.\n\nChange-Id: Ic31f68ca521f15d9ff577fe1020f32a9e0fb5a84\n'}]",0,838570,5040f51c1995c88a2ad150114d700ee17e577901,2,0,1,17685,,,0,"[kayobe] Transition Victoria to EM

This transition the victoria branch to extended maintenance.
Changes for bugfixes and things the team deems important are
still encouraged, but there will no longer be official releases
off of the branch.

Please +1 if the team is ready for us to proceed with this
transition, or -1 if there are any final backports currently in
flight that we should wait for. For the latter case, please
update the patch with the new commit hash after doing a final
release to get those changes out so we know to proceed with the
transition.

The transition deadline is April 27th, 2022.

Change-Id: Ic31f68ca521f15d9ff577fe1020f32a9e0fb5a84
",git fetch https://review.opendev.org/openstack/releases refs/changes/70/838570/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/victoria/kayobe.yaml'],1,5040f51c1995c88a2ad150114d700ee17e577901,newton-eol, - version: victoria-em projects: - repo: openstack/kayobe hash: a91434f5595199c0d3a4a9f0aadd3e3e24c9889a - repo: openstack/kayobe-config hash: de1b143f057cc230b3a20ecd6b229315586f52b3 - repo: openstack/kayobe-config-dev hash: 18cd3ed7a137195f9d1d35c1b13459e101854f8e,,8,0
openstack%2Fgovernance~master~I56239afb7cbbcaff04bcb8b6c5743d3fabd005c3,openstack/governance,master,I56239afb7cbbcaff04bcb8b6c5743d3fabd005c3,Update sushy-oem-idrac from x/ to /openstack/ namespace,MERGED,2022-04-19 11:08:09.000000000,2022-04-19 17:08:01.000000000,2022-04-19 17:06:18.000000000,"[{'_account_id': 5314}, {'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 23847}]","[{'number': 1, 'created': '2022-04-19 11:08:09.000000000', 'files': ['reference/sigs-repos.yaml'], 'web_link': 'https://opendev.org/openstack/governance/commit/cc9e9ac6d5c9b1b562f7f82b5a3152b5925f3d0c', 'message': 'Update sushy-oem-idrac from x/ to /openstack/ namespace\n\nsushy-oem-idrac was moved from x/ to openstack/ namespace.\n\nChange-Id: I56239afb7cbbcaff04bcb8b6c5743d3fabd005c3\n'}]",2,838486,cc9e9ac6d5c9b1b562f7f82b5a3152b5925f3d0c,12,4,1,27909,,,0,"Update sushy-oem-idrac from x/ to /openstack/ namespace

sushy-oem-idrac was moved from x/ to openstack/ namespace.

Change-Id: I56239afb7cbbcaff04bcb8b6c5743d3fabd005c3
",git fetch https://review.opendev.org/openstack/governance refs/changes/86/838486/1 && git format-patch -1 --stdout FETCH_HEAD,['reference/sigs-repos.yaml'],1,cc9e9ac6d5c9b1b562f7f82b5a3152b5925f3d0c,project-update, - repo: openstack/sushy-oem-idrac, - repo: x/sushy-oem-idrac,1,1
openstack%2Foctavia~stable%2Fyoga~I48a02780adf54b8d6d3bedada448a4f91e0539ed,openstack/octavia,stable/yoga,I48a02780adf54b8d6d3bedada448a4f91e0539ed,Pass timeout_dict to _get_haproxy_versions,MERGED,2022-03-29 12:12:08.000000000,2022-04-19 16:57:43.000000000,2022-04-19 16:55:58.000000000,"[{'_account_id': 7249}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 34429}]","[{'number': 1, 'created': '2022-03-29 12:12:08.000000000', 'files': ['octavia/tests/unit/amphorae/drivers/haproxy/test_rest_api_driver_0_5.py', 'octavia/amphorae/drivers/keepalived/vrrp_rest_driver.py', 'releasenotes/notes/fix-timeout-dict-in-failover-tasks-537456e0fe1d7cb8.yaml', 'octavia/amphorae/drivers/haproxy/rest_api_driver.py', 'octavia/tests/unit/amphorae/drivers/haproxy/test_rest_api_driver_1_0.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/1da04d126a007416c0ba0822031818371266dd95', 'message': 'Pass timeout_dict to _get_haproxy_versions\n\nThe timeout_dict args was ignored when calling _get_haproxy_versions\n\n_get_haproxy_versions might be the first function (that uses the amphora\nAPI) that is called from rest_api_driver, it should respect the\ntimeout_dict passed by the tasks of the controller (for instance during\na failover a custom timeout_dict is used in order to optimize the\nfailover of missing amphorae)\n\nStory 2009761\nTask 44232\n\nChange-Id: I48a02780adf54b8d6d3bedada448a4f91e0539ed\n(cherry picked from commit 6d6a8bdf6c53c20ae5864ae61785ed902e468ae8)\n'}]",2,835614,1da04d126a007416c0ba0822031818371266dd95,13,4,1,29244,,,0,"Pass timeout_dict to _get_haproxy_versions

The timeout_dict args was ignored when calling _get_haproxy_versions

_get_haproxy_versions might be the first function (that uses the amphora
API) that is called from rest_api_driver, it should respect the
timeout_dict passed by the tasks of the controller (for instance during
a failover a custom timeout_dict is used in order to optimize the
failover of missing amphorae)

Story 2009761
Task 44232

Change-Id: I48a02780adf54b8d6d3bedada448a4f91e0539ed
(cherry picked from commit 6d6a8bdf6c53c20ae5864ae61785ed902e468ae8)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/14/835614/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/tests/unit/amphorae/drivers/haproxy/test_rest_api_driver_0_5.py', 'octavia/amphorae/drivers/keepalived/vrrp_rest_driver.py', 'releasenotes/notes/fix-timeout-dict-in-failover-tasks-537456e0fe1d7cb8.yaml', 'octavia/amphorae/drivers/haproxy/rest_api_driver.py', 'octavia/tests/unit/amphorae/drivers/haproxy/test_rest_api_driver_1_0.py']",5,1da04d126a007416c0ba0822031818371266dd95,," self.driver.clients[ API_VERSION].reload_listener.reset_mock() timeout_dict = { 'elem1': 1000 } self.driver.reload(loadbalancer, timeout_dict=timeout_dict) self.driver.clients[ API_VERSION].reload_listener.assert_called_once_with( amp1, loadbalancer.id, timeout_dict) self.amp, timeout_dict=None) self.assertEqual(ref_haproxy_versions, result) def test_get_haproxy_versions_with_timeout_dict(self): ref_haproxy_versions = ['1', '6'] timeout_dict = { constants.CONN_MAX_RETRIES: 100, constants.CONN_RETRY_INTERVAL: 1 } result = self.driver._get_haproxy_versions(self.amp, timeout_dict=timeout_dict) self.driver.clients[API_VERSION].get_info.assert_called_once_with( self.amp, timeout_dict=timeout_dict) def test_get_info_with_timeout_dict(self, m): info = {""hostname"": ""some_hostname"", ""version"": ""some_version"", ""api_version"": ""0.5"", ""uuid"": FAKE_UUID_1} m.get(""{base}/info"".format(base=self.base_url_ver), json=info) timeout_dict = { constants.CONN_MAX_RETRIES: 100, constants.CONN_RETRY_INTERVAL: 1 } information = self.driver.get_info(self.amp, timeout_dict=timeout_dict) self.assertEqual(info, information) @requests_mock.mock()", self.amp),109,16
openstack%2Fkolla~stable%2Fussuri~I72d7920acd8d15941c8c57a4186186212b273a38,openstack/kolla,stable/ussuri,I72d7920acd8d15941c8c57a4186186212b273a38,elasticsearch: install Java first on CentOS too,MERGED,2022-04-05 09:39:42.000000000,2022-04-19 16:54:58.000000000,2022-04-19 11:55:32.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-04-05 09:39:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/d04ebd93b2edc3453392075aca9c87eeeb3eb2e2', 'message': 'elasticsearch: install Java first on CentOS too\n\nelasticsearch-oss package fails to install if we install it with Java:\n\nINFO:kolla.common.utils.elasticsearch:could not find java; set JAVA_HOME\nINFO:kolla.common.utils.elasticsearch:error: %prein(elasticsearch-oss-0:6.8.23-1.noarch) scriptlet failed, exit status 1\nINFO:kolla.common.utils.elasticsearch:\x1b[91mError in PREIN scriptlet in rpm package elasticsearch-oss\n\nBackport down to ussuri needed.\n\nChange-Id: I72d7920acd8d15941c8c57a4186186212b273a38\n(cherry picked from commit 976465c448c4de2bd323021b946770b26ab1e912)\n'}, {'number': 2, 'created': '2022-04-19 09:14:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/b183e258f5d0939d94d490a0bc10e8d357a3d60e', 'message': ""elasticsearch: install Java first on CentOS too\n\nelasticsearch-oss package fails to install if we install it with Java:\n\nINFO:kolla.common.utils.elasticsearch:could not find java; set JAVA_HOME\nINFO:kolla.common.utils.elasticsearch:error: %prein(elasticsearch-oss-0:6.8.23-1.noarch) scriptlet failed, exit status 1\nINFO:kolla.common.utils.elasticsearch:\x1b[91mError in PREIN scriptlet in rpm package elasticsearch-oss\n\nBackport down to ussuri needed.\n\nThis change also includes a backport of\nI7d4788f5b63fba24e3b2f9b15c16866ff811d83e:\n\nAlways use the distro-provided libvirt-python\n\nThis patch switches masakari-monitors image to follow nova-compute\nand ceilometer-compute images.\nThis will be used and required after [1] merges.\nUsage of libvirt-python from PyPI has already proven to be\nproblematic on CentOS Stream in our stable branches. [2]\nWith this patch we avoid those issues as well.\n\n[1] https://review.opendev.org/c/openstack/masakari-monitors/+/804913\n[2] https://review.opendev.org/c/openstack/kolla/+/797102\n\nDepends-On: https://review.opendev.org/c/openstack/masakari-monitors/+/804913\n\nNOTE(hrw): added removal of libvirt-python from upper-constraints as we have\nnever version of libvirt that Victoria used.\n\nThis change also includes a backport of\nI5efab66e487e06abd1a56af97d7e7caa1ebc880d:\n\nUse jinja2.pass_context instead of contextfilter\n\nThe contextfilter decorator was deprecated in jinja2 3.0.0, and has been\ndropped in 3.1.0. This results in the following warning, and failed\nattempts to use filters:\n\n    [WARNING]: Skipping plugin (filters.py) as it seems to be invalid:\n    module 'jinja2' has no attribute 'contextfilter'\n\nThis change switches to use the pass_context decorator. The minimum\nversion of Jinja2 is raised to 3 to ensure pass_context is present.\n\nThis change has been updated to also support Jinja2 2.x releases,\nsince the Wallaby upper constraints specify 2.11.3. In practice, most\nusers will not use UC to install kolla.\n\nCoAuthored-by: Mark Goddard <mark@stackhpc.com>\n\nFinally, amended for Debian Buster to also skip the lower\nconstraint from masakari-monitors.\n\nChange-Id: I72d7920acd8d15941c8c57a4186186212b273a38\n(cherry picked from commit 976465c448c4de2bd323021b946770b26ab1e912)\n""}, {'number': 3, 'created': '2022-04-19 09:17:11.000000000', 'files': ['kolla/template/methods.py', 'docker/elasticsearch/elasticsearch/Dockerfile.j2', 'kolla/template/filters.py', 'releasenotes/notes/jinja2-pass-context-3f3febcd944e3a51.yaml', 'docker/masakari/masakari-monitors/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/a12d88c253b7b46e58a9b2c239b90b6b550c8f01', 'message': ""elasticsearch: install Java first on CentOS too\n\nelasticsearch-oss package fails to install if we install it with Java:\n\nINFO:kolla.common.utils.elasticsearch:could not find java; set JAVA_HOME\nINFO:kolla.common.utils.elasticsearch:error: %prein(elasticsearch-oss-0:6.8.23-1.noarch) scriptlet failed, exit status 1\nINFO:kolla.common.utils.elasticsearch:\x1b[91mError in PREIN scriptlet in rpm package elasticsearch-oss\n\nBackport down to ussuri needed.\n\nThis change also includes a backport of\nI7d4788f5b63fba24e3b2f9b15c16866ff811d83e:\n\nAlways use the distro-provided libvirt-python\n\nThis patch switches masakari-monitors image to follow nova-compute\nand ceilometer-compute images.\nThis will be used and required after [1] merges.\nUsage of libvirt-python from PyPI has already proven to be\nproblematic on CentOS Stream in our stable branches. [2]\nWith this patch we avoid those issues as well.\n\n[1] https://review.opendev.org/c/openstack/masakari-monitors/+/804913\n[2] https://review.opendev.org/c/openstack/kolla/+/797102\n\nDepends-On: https://review.opendev.org/c/openstack/masakari-monitors/+/804913\n\nNOTE(hrw): added removal of libvirt-python from upper-constraints as we have\nnever version of libvirt that Victoria used.\n\nThis change also includes a backport of\nI5efab66e487e06abd1a56af97d7e7caa1ebc880d:\n\nUse jinja2.pass_context instead of contextfilter\n\nThe contextfilter decorator was deprecated in jinja2 3.0.0, and has been\ndropped in 3.1.0. This results in the following warning, and failed\nattempts to use filters:\n\n    [WARNING]: Skipping plugin (filters.py) as it seems to be invalid:\n    module 'jinja2' has no attribute 'contextfilter'\n\nThis change switches to use the pass_context decorator. The minimum\nversion of Jinja2 is raised to 3 to ensure pass_context is present.\n\nThis change has been updated to also support Jinja2 2.x releases,\nsince the Wallaby upper constraints specify 2.11.3. In practice, most\nusers will not use UC to install kolla.\n\nCoAuthored-by: Mark Goddard <mark@stackhpc.com>\n\nFinally, amended for Debian Buster to also skip the lower\nconstraint from masakari-monitors.\n\nFinally, finally, includes also hotfix for contextfunction.\nIe4bccb9ed3f4d8782730c5929abbfa73da215a8c\n\nChange-Id: I72d7920acd8d15941c8c57a4186186212b273a38\n(cherry picked from commit 976465c448c4de2bd323021b946770b26ab1e912)\n""}]",0,836592,a12d88c253b7b46e58a9b2c239b90b6b550c8f01,14,5,3,24072,,,0,"elasticsearch: install Java first on CentOS too

elasticsearch-oss package fails to install if we install it with Java:

INFO:kolla.common.utils.elasticsearch:could not find java; set JAVA_HOME
INFO:kolla.common.utils.elasticsearch:error: %prein(elasticsearch-oss-0:6.8.23-1.noarch) scriptlet failed, exit status 1
INFO:kolla.common.utils.elasticsearch:[91mError in PREIN scriptlet in rpm package elasticsearch-oss

Backport down to ussuri needed.

This change also includes a backport of
I7d4788f5b63fba24e3b2f9b15c16866ff811d83e:

Always use the distro-provided libvirt-python

This patch switches masakari-monitors image to follow nova-compute
and ceilometer-compute images.
This will be used and required after [1] merges.
Usage of libvirt-python from PyPI has already proven to be
problematic on CentOS Stream in our stable branches. [2]
With this patch we avoid those issues as well.

[1] https://review.opendev.org/c/openstack/masakari-monitors/+/804913
[2] https://review.opendev.org/c/openstack/kolla/+/797102

Depends-On: https://review.opendev.org/c/openstack/masakari-monitors/+/804913

NOTE(hrw): added removal of libvirt-python from upper-constraints as we have
never version of libvirt that Victoria used.

This change also includes a backport of
I5efab66e487e06abd1a56af97d7e7caa1ebc880d:

Use jinja2.pass_context instead of contextfilter

The contextfilter decorator was deprecated in jinja2 3.0.0, and has been
dropped in 3.1.0. This results in the following warning, and failed
attempts to use filters:

    [WARNING]: Skipping plugin (filters.py) as it seems to be invalid:
    module 'jinja2' has no attribute 'contextfilter'

This change switches to use the pass_context decorator. The minimum
version of Jinja2 is raised to 3 to ensure pass_context is present.

This change has been updated to also support Jinja2 2.x releases,
since the Wallaby upper constraints specify 2.11.3. In practice, most
users will not use UC to install kolla.

CoAuthored-by: Mark Goddard <mark@stackhpc.com>

Finally, amended for Debian Buster to also skip the lower
constraint from masakari-monitors.

Finally, finally, includes also hotfix for contextfunction.
Ie4bccb9ed3f4d8782730c5929abbfa73da215a8c

Change-Id: I72d7920acd8d15941c8c57a4186186212b273a38
(cherry picked from commit 976465c448c4de2bd323021b946770b26ab1e912)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/92/836592/3 && git format-patch -1 --stdout FETCH_HEAD,['docker/elasticsearch/elasticsearch/Dockerfile.j2'],1,d04ebd93b2edc3453392075aca9c87eeeb3eb2e2,, # NOTE(hrw): post-install script of elasticsearch fails when trying to # install elasticsearch and java together. {{ macros.install_packages(['java-11-openjdk-headless']) }} ," 'java-11-openjdk-headless',",5,1
openstack%2Fkayobe~stable%2Fvictoria~I422c7113cdba8f5c155ff1f7d3d118066bd28e96,openstack/kayobe,stable/victoria,I422c7113cdba8f5c155ff1f7d3d118066bd28e96,docs: Fix custom LVM example,MERGED,2022-04-14 16:30:09.000000000,2022-04-19 16:44:29.000000000,2022-04-19 16:42:41.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-14 16:30:09.000000000', 'files': ['doc/source/configuration/reference/hosts.rst'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/15937084a0d92167bb863a1a5a880a6b621fa745', 'message': 'docs: Fix custom LVM example\n\nThe disks field in lvm_groups should be a list, and the percentage needs\nto be relative to something.\n\nChange-Id: I422c7113cdba8f5c155ff1f7d3d118066bd28e96\n(cherry picked from commit 568ab77d2438498229d70b8463097056d46d18a8)\n'}]",0,837917,15937084a0d92167bb863a1a5a880a6b621fa745,8,3,1,14826,,,0,"docs: Fix custom LVM example

The disks field in lvm_groups should be a list, and the percentage needs
to be relative to something.

Change-Id: I422c7113cdba8f5c155ff1f7d3d118066bd28e96
(cherry picked from commit 568ab77d2438498229d70b8463097056d46d18a8)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/17/837917/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/configuration/reference/hosts.rst'],1,15937084a0d92167bb863a1a5a880a6b621fa745,, disks: - /dev/sdb size: 100%FREE, disks: /dev/sdb size: 100%,3,2
openstack%2Fkayobe~stable%2Fwallaby~I422c7113cdba8f5c155ff1f7d3d118066bd28e96,openstack/kayobe,stable/wallaby,I422c7113cdba8f5c155ff1f7d3d118066bd28e96,docs: Fix custom LVM example,MERGED,2022-04-14 16:30:02.000000000,2022-04-19 16:43:56.000000000,2022-04-19 16:41:41.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-14 16:30:02.000000000', 'files': ['doc/source/configuration/reference/hosts.rst'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/26cb0bde0f82b90ea8557392592746246afb1cbb', 'message': 'docs: Fix custom LVM example\n\nThe disks field in lvm_groups should be a list, and the percentage needs\nto be relative to something.\n\nChange-Id: I422c7113cdba8f5c155ff1f7d3d118066bd28e96\n(cherry picked from commit 568ab77d2438498229d70b8463097056d46d18a8)\n'}]",0,837916,26cb0bde0f82b90ea8557392592746246afb1cbb,8,3,1,14826,,,0,"docs: Fix custom LVM example

The disks field in lvm_groups should be a list, and the percentage needs
to be relative to something.

Change-Id: I422c7113cdba8f5c155ff1f7d3d118066bd28e96
(cherry picked from commit 568ab77d2438498229d70b8463097056d46d18a8)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/16/837916/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/configuration/reference/hosts.rst'],1,26cb0bde0f82b90ea8557392592746246afb1cbb,, disks: - /dev/sdb size: 100%FREE, disks: /dev/sdb size: 100%,3,2
openstack%2Fkayobe~stable%2Fxena~I422c7113cdba8f5c155ff1f7d3d118066bd28e96,openstack/kayobe,stable/xena,I422c7113cdba8f5c155ff1f7d3d118066bd28e96,docs: Fix custom LVM example,MERGED,2022-04-14 16:29:54.000000000,2022-04-19 16:43:39.000000000,2022-04-19 16:41:40.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-14 16:29:54.000000000', 'files': ['doc/source/configuration/reference/hosts.rst'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/f57921715e41c1080b22cddf5aa00d00e60ec4b2', 'message': 'docs: Fix custom LVM example\n\nThe disks field in lvm_groups should be a list, and the percentage needs\nto be relative to something.\n\nChange-Id: I422c7113cdba8f5c155ff1f7d3d118066bd28e96\n(cherry picked from commit 568ab77d2438498229d70b8463097056d46d18a8)\n'}]",0,837915,f57921715e41c1080b22cddf5aa00d00e60ec4b2,8,3,1,14826,,,0,"docs: Fix custom LVM example

The disks field in lvm_groups should be a list, and the percentage needs
to be relative to something.

Change-Id: I422c7113cdba8f5c155ff1f7d3d118066bd28e96
(cherry picked from commit 568ab77d2438498229d70b8463097056d46d18a8)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/15/837915/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/configuration/reference/hosts.rst'],1,f57921715e41c1080b22cddf5aa00d00e60ec4b2,, disks: - /dev/sdb size: 100%FREE, disks: /dev/sdb size: 100%,3,2
openstack%2Fkayobe~stable%2Fyoga~I422c7113cdba8f5c155ff1f7d3d118066bd28e96,openstack/kayobe,stable/yoga,I422c7113cdba8f5c155ff1f7d3d118066bd28e96,docs: Fix custom LVM example,MERGED,2022-04-14 16:29:46.000000000,2022-04-19 16:43:28.000000000,2022-04-19 16:40:05.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-14 16:29:46.000000000', 'files': ['doc/source/configuration/reference/hosts.rst'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/9756ef7d02f06a5bd268efc2df465bcbfbed541e', 'message': 'docs: Fix custom LVM example\n\nThe disks field in lvm_groups should be a list, and the percentage needs\nto be relative to something.\n\nChange-Id: I422c7113cdba8f5c155ff1f7d3d118066bd28e96\n(cherry picked from commit 568ab77d2438498229d70b8463097056d46d18a8)\n'}]",0,837914,9756ef7d02f06a5bd268efc2df465bcbfbed541e,8,3,1,14826,,,0,"docs: Fix custom LVM example

The disks field in lvm_groups should be a list, and the percentage needs
to be relative to something.

Change-Id: I422c7113cdba8f5c155ff1f7d3d118066bd28e96
(cherry picked from commit 568ab77d2438498229d70b8463097056d46d18a8)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/14/837914/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/configuration/reference/hosts.rst'],1,9756ef7d02f06a5bd268efc2df465bcbfbed541e,, disks: - /dev/sdb size: 100%FREE, disks: /dev/sdb size: 100%,3,2
openstack%2Fcharm-manila-ganesha~stable%2Fyoga~Ie3d827e92cc29397ad7de98d864ad92213249ffc,openstack/charm-manila-ganesha,stable/yoga,Ie3d827e92cc29397ad7de98d864ad92213249ffc,Updates for stable branch creation,MERGED,2022-04-15 10:51:31.000000000,2022-04-19 16:41:43.000000000,2022-04-19 16:41:43.000000000,"[{'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-15 10:51:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-manila-ganesha/commit/ab513a6213ba1e9e5f55cca22f2ce792d71aa998', 'message': 'Updates for stable branch creation\n\n- Set default branch for git review/gerrit.\n- Switch tests to stable.\n- Switch to using stable charm-helpers branch.\n- Switch to using stable charm.openstack branch.\n- Switch to using stable zaza, zaza-openstack-tests\n  branch\n- (reactive charms) Add build.lock file\n\nChange-Id: Ie3d827e92cc29397ad7de98d864ad92213249ffc\n'}, {'number': 2, 'created': '2022-04-18 19:30:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-manila-ganesha/commit/58c1b487ad90382b51201618fd7b7408a3059799', 'message': 'Updates for stable branch creation\n\n- Set default branch for git review/gerrit.\n- Switch tests to stable.\n- Switch to using stable charm-helpers branch.\n- Switch to using stable charm.openstack branch.\n- Switch to using stable zaza, zaza-openstack-tests\n  branch\n- (reactive charms) Add build.lock file\n\nChange-Id: Ie3d827e92cc29397ad7de98d864ad92213249ffc\n'}, {'number': 3, 'created': '2022-04-19 14:12:32.000000000', 'files': ['.gitignore', '.gitreview', 'test-requirements.txt', 'src/wheelhouse.txt', 'src/test-requirements.txt', 'src/build.lock'], 'web_link': 'https://opendev.org/openstack/charm-manila-ganesha/commit/141401659cfad606a0cb3d68b0087cdf6af6eca2', 'message': 'Updates for stable branch creation\n\n- Set default branch for git review/gerrit.\n- Switch tests to stable.\n- Switch to using stable charm-helpers branch.\n- Switch to using stable charm.openstack branch.\n- Switch to using stable zaza, zaza-openstack-tests\n  branch\n- (reactive charms) Add build.lock file\n\nChange-Id: Ie3d827e92cc29397ad7de98d864ad92213249ffc\n'}]",0,838142,141401659cfad606a0cb3d68b0087cdf6af6eca2,13,3,3,20870,,,0,"Updates for stable branch creation

- Set default branch for git review/gerrit.
- Switch tests to stable.
- Switch to using stable charm-helpers branch.
- Switch to using stable charm.openstack branch.
- Switch to using stable zaza, zaza-openstack-tests
  branch
- (reactive charms) Add build.lock file

Change-Id: Ie3d827e92cc29397ad7de98d864ad92213249ffc
",git fetch https://review.opendev.org/openstack/charm-manila-ganesha refs/changes/42/838142/1 && git format-patch -1 --stdout FETCH_HEAD,"['manila-ganesha.charm', '.gitreview', 'test-requirements.txt', 'src/wheelhouse.txt', 'src/test-requirements.txt', 'src/build.lock']",6,ab513a6213ba1e9e5f55cca22f2ce792d71aa998,charm-release-2204,"{ ""locks"": [ { ""type"": ""layer"", ""item"": ""layer:options"", ""url"": ""https://github.com/juju-solutions/layer-options.git"", ""vcs"": null, ""branch"": ""refs/heads/master"", ""commit"": ""fcdcea4e5de3e1556c24e6704607862d0ba00a56"" }, { ""type"": ""layer"", ""item"": ""layer:basic"", ""url"": ""https://github.com/juju-solutions/layer-basic.git"", ""vcs"": null, ""branch"": ""refs/heads/master"", ""commit"": ""fb767dcf0786d1d5364199bb3b40bdc86518b45b"" }, { ""type"": ""layer"", ""item"": ""layer:openstack"", ""url"": ""https://github.com/openstack/charm-layer-openstack"", ""vcs"": null, ""branch"": ""refs/heads/master"", ""commit"": ""e0f700eacb026235e1a04e7cbc28dfbe9d4e4520"" }, { ""type"": ""layer"", ""item"": ""layer:openstack-principle"", ""url"": ""https://github.com/openstack/charm-layer-openstack-principle"", ""vcs"": null, ""branch"": ""refs/heads/master"", ""commit"": ""2541283a7f9c3fa923c0fccd7257e217e11dadcd"" }, { ""type"": ""layer"", ""item"": ""layer:openstack-api"", ""url"": ""https://github.com/openstack/charm-layer-openstack-api"", ""vcs"": null, ""branch"": ""refs/heads/master"", ""commit"": ""34311a62e963d0ce903b7ddb9d70b8f071f71651"" }, { ""type"": ""layer"", ""item"": ""manila-ganesha"", ""url"": null, ""vcs"": null, ""branch"": ""refs/heads/stable/yoga\nrefs/heads/yoga-updates"", ""commit"": ""refs/heads/stable/yoga\nrefs/heads/yoga-updates"" }, { ""type"": ""layer"", ""item"": ""interface:tls-certificates"", ""url"": ""https://github.com/juju-solutions/interface-tls-certificates"", ""vcs"": null, ""branch"": ""refs/heads/master"", ""commit"": ""d9850016d930a6d507b9fd45e2598d327922b140"" }, { ""type"": ""layer"", ""item"": ""interface:mysql-shared"", ""url"": ""https://github.com/openstack/charm-interface-mysql-shared"", ""vcs"": null, ""branch"": ""refs/heads/master"", ""commit"": ""f90f8c6edce21e4da3a872f0f9d6761730ce025d"" }, { ""type"": ""layer"", ""item"": ""interface:rabbitmq"", ""url"": ""https://github.com/openstack/charm-interface-rabbitmq"", ""vcs"": null, ""branch"": ""refs/heads/master"", ""commit"": ""383121fc584d2d3bf9d233eba0d3708398a4c468"" }, { ""type"": ""layer"", ""item"": ""interface:keystone"", ""url"": ""https://github.com/openstack/charm-interface-keystone"", ""vcs"": null, ""branch"": ""refs/heads/master"", ""commit"": ""501af18b3036f5af92990bc39e750e76e393e5eb"" }, { ""type"": ""layer"", ""item"": ""interface:hacluster"", ""url"": ""https://github.com/openstack/charm-interface-hacluster.git"", ""vcs"": null, ""branch"": ""refs/heads/master"", ""commit"": ""2b714e90b1b8845ce7390bb1dad5a56a65437907"" }, { ""type"": ""layer"", ""item"": ""interface:openstack-ha"", ""url"": ""https://github.com/openstack/charm-interface-openstack-ha"", ""vcs"": null, ""branch"": ""refs/heads/master"", ""commit"": ""a3b00e5b5fd857d130698c5cfe4b918877f0ab80"" }, { ""type"": ""layer"", ""item"": ""interface:ceph-client"", ""url"": ""https://opendev.org/openstack/charm-interface-ceph-client.git"", ""vcs"": null, ""branch"": null, ""commit"": ""3ca251fb01a7cd51d2a0ee2b9b66647c8ffe891f"" }, { ""type"": ""layer"", ""item"": ""interface:keystone-credentials"", ""url"": ""https://github.com/openstack/charm-interface-keystone-credentials"", ""vcs"": null, ""branch"": ""refs/heads/master"", ""commit"": ""53e93b8820899f2251d207ed5d5c3b212ceb64de"" }, { ""type"": ""layer"", ""item"": ""interface:manila-plugin"", ""url"": ""https://github.com/openstack/charm-interface-manila-plugin"", ""vcs"": null, ""branch"": ""refs/heads/master"", ""commit"": ""14cb348a09b30c92de89878c58e790779ebdad23"" }, { ""type"": ""python_module"", ""package"": ""pbr"", ""vcs"": null, ""version"": ""5.8.1"" }, { ""type"": ""python_module"", ""package"": ""netifaces"", ""vcs"": null, ""version"": ""0.11.0"" }, { ""type"": ""python_module"", ""package"": ""charms.openstack"", ""url"": ""git+https://github.com/openstack/charms.openstack.git"", ""branch"": ""refs/heads/stable/yoga"", ""version"": ""13ef220ce3529fa7b8e11c6e4c5b352d05b6f148"", ""vcs"": ""git"" }, { ""type"": ""python_module"", ""package"": ""pyaml"", ""vcs"": null, ""version"": ""21.10.1"" }, { ""type"": ""python_module"", ""package"": ""setuptools_scm"", ""vcs"": null, ""version"": ""6.4.2"" }, { ""type"": ""python_module"", ""package"": ""charmhelpers"", ""url"": ""git+https://github.com/juju/charm-helpers.git"", ""branch"": ""refs/heads/stable/yoga"", ""version"": ""971ac5117c96bd1cb4a6a520787e4509564da582"", ""vcs"": ""git"" }, { ""type"": ""python_module"", ""package"": ""flit_core"", ""vcs"": null, ""version"": ""3.7.1"" }, { ""type"": ""python_module"", ""package"": ""setuptools"", ""vcs"": null, ""version"": ""62.1.0"" }, { ""type"": ""python_module"", ""package"": ""wheel"", ""vcs"": null, ""version"": ""0.37.1"" }, { ""type"": ""python_module"", ""package"": ""pyparsing"", ""vcs"": null, ""version"": ""3.0.8"" }, { ""type"": ""python_module"", ""package"": ""netaddr"", ""vcs"": null, ""version"": ""0.7.19"" }, { ""type"": ""python_module"", ""package"": ""pip"", ""vcs"": null, ""version"": ""22.0.4"" }, { ""type"": ""python_module"", ""package"": ""tomli"", ""vcs"": null, ""version"": ""2.0.1"" }, { ""type"": ""python_module"", ""package"": ""Jinja2"", ""vcs"": null, ""version"": ""3.1.1"" }, { ""type"": ""python_module"", ""package"": ""psutil"", ""vcs"": null, ""version"": ""5.9.0"" }, { ""type"": ""python_module"", ""package"": ""dnspython"", ""vcs"": null, ""version"": ""1.16.0"" }, { ""type"": ""python_module"", ""package"": ""charms.reactive"", ""vcs"": null, ""version"": ""1.5.0"" }, { ""type"": ""python_module"", ""package"": ""PyYAML"", ""vcs"": null, ""version"": ""5.3.1"" }, { ""type"": ""python_module"", ""package"": ""MarkupSafe"", ""vcs"": null, ""version"": ""2.1.1"" }, { ""type"": ""python_module"", ""package"": ""Tempita"", ""vcs"": null, ""version"": ""0.4"" }, { ""type"": ""python_module"", ""package"": ""packaging"", ""vcs"": null, ""version"": ""21.3"" } ] }",,261,5
openstack%2Fhorizon~stable%2Fvictoria~Ied6fd4ad69b38a721b23700c98344e0edf14771b,openstack/horizon,stable/victoria,Ied6fd4ad69b38a721b23700c98344e0edf14771b,Fix Project Limits for resize instance dialog,MERGED,2022-02-28 20:28:18.000000000,2022-04-19 16:35:51.000000000,2022-04-19 16:34:02.000000000,"[{'_account_id': 841}, {'_account_id': 1736}, {'_account_id': 8648}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2022-02-28 20:28:18.000000000', 'files': ['openstack_dashboard/dashboards/project/instances/templates/instances/_flavors_and_quotas.html'], 'web_link': 'https://opendev.org/openstack/horizon/commit/e26ad9b234484b1fce6e73c387ab95afc7270a51', 'message': 'Fix Project Limits for resize instance dialog\n\nResize instance dialog should use proper calls for quota and usage.\nThis patch fixes that.\n\nChange-Id: Ied6fd4ad69b38a721b23700c98344e0edf14771b\n(cherry picked from commit e2bb7d833526e3ea6117cb2a5d58cbf90548c6da)\n'}]",1,831257,e26ad9b234484b1fce6e73c387ab95afc7270a51,9,5,1,6914,,,0,"Fix Project Limits for resize instance dialog

Resize instance dialog should use proper calls for quota and usage.
This patch fixes that.

Change-Id: Ied6fd4ad69b38a721b23700c98344e0edf14771b
(cherry picked from commit e2bb7d833526e3ea6117cb2a5d58cbf90548c6da)
",git fetch https://review.opendev.org/openstack/horizon refs/changes/57/831257/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack_dashboard/dashboards/project/instances/templates/instances/_flavors_and_quotas.html'],1,e26ad9b234484b1fce6e73c387ab95afc7270a51,project_limits-stable/victoria," {% blocktrans trimmed with used=usages.totalInstancesUsed|intcomma quota=usages.maxTotalInstances|intcomma|quotainf %} data-quota-limit=""{{ usages.maxTotalInstances }}"" data-quota-used=""{{ usages.totalInstancesUsed }}""> {% widthratio usages.totalInstancesUsed usages.maxTotalInstances 100 as instance_percent %} {% blocktrans trimmed with used=usages.totalCoresUsed|intcomma quota=usages.maxTotalCores|intcomma|quotainf %} data-quota-limit=""{{ usages.maxTotalCores }}"" data-quota-used=""{{ usages.totalCoresUsed }}""> {% widthratio usages.totalCoresUsed usages.maxTotalCores 100 as vcpu_percent %} {% blocktrans trimmed with used=usages.totalRAMUsed|intcomma quota=usages.maxTotalRAMSize|intcomma|quotainf %} data-quota-limit=""{{ usages.maxTotalRAMSize }}"" data-quota-used=""{{ usages.totalRAMUsed }}""> {% widthratio usages.totalRAMUsed usages.maxTotalRAMSize 100 as vcpu_percent %} {% blocktrans with used=usages.totalVolumesUsed|intcomma quota=usages.maxTotalVolumes|intcomma|quotainf %} data-quota-limit=""{{ usages.maxTotalVolumes }}"" data-quota-used=""{{ usages.totalVolumesUsed }}""> {% widthratio usages.totalVolumesUsed usages.maxTotalVolumes 100 as volume_percent %} {% blocktrans with used=usages.totalGigabytesUsed|intcomma quota=usages.maxTotalVolumeGigabytes|intcomma|quotainf %} data-quota-limit=""{{ usages.maxTotalVolumeGigabytes }}"" data-quota-used=""{{ usages.totalGigabytesUsed }}""> {% widthratio usages.totalGigabytesUsed usages.maxTotalVolumeGigabytes 100 as volume_storage_percent %}"," {% blocktrans trimmed with used=usages.instances.used|intcomma quota=usages.instances.quota|intcomma|quotainf %} data-quota-limit=""{{ usages.instances.quota }}"" data-quota-used=""{{ usages.instances.used }}""> {% widthratio usages.instances.used usages.instances.quota 100 as instance_percent %} {% blocktrans trimmed with used=usages.cores.used|intcomma quota=usages.cores.quota|intcomma|quotainf %} data-quota-limit=""{{ usages.cores.quota }}"" data-quota-used=""{{ usages.cores.used }}""> {% widthratio usages.cores.used usages.cores.quota 100 as vcpu_percent %} {% blocktrans trimmed with used=usages.ram.used|intcomma quota=usages.ram.quota|intcomma|quotainf %} data-quota-limit=""{{ usages.ram.quota }}"" data-quota-used=""{{ usages.ram.used }}""> {% widthratio usages.ram.used usages.ram.quota 100 as vcpu_percent %} {% blocktrans with used=usages.volumes.used|intcomma quota=usages.volumes.quota|intcomma|quotainf %} data-quota-limit=""{{ usages.volumes.quota }}"" data-quota-used=""{{ usages.volumes.used }}""> {% widthratio usages.volumes.used usages.volumes.quota 100 as volume_percent %} {% blocktrans with used=usages.gigabytes.used|intcomma quota=usages.gigabytes.quota|intcomma|quotainf %} data-quota-limit=""{{ usages.gigabytes.quota }}"" data-quota-used=""{{ usages.gigabytes.used }}""> {% widthratio usages.gigabytes.used usages.gigabytes.quota 100 as volume_storage_percent %}",20,20
openstack%2Fhorizon~stable%2Fwallaby~Ied6fd4ad69b38a721b23700c98344e0edf14771b,openstack/horizon,stable/wallaby,Ied6fd4ad69b38a721b23700c98344e0edf14771b,Fix Project Limits for resize instance dialog,MERGED,2022-02-28 20:28:01.000000000,2022-04-19 16:35:50.000000000,2022-04-19 16:33:58.000000000,"[{'_account_id': 841}, {'_account_id': 1736}, {'_account_id': 8648}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2022-02-28 20:28:01.000000000', 'files': ['openstack_dashboard/dashboards/project/instances/templates/instances/_flavors_and_quotas.html'], 'web_link': 'https://opendev.org/openstack/horizon/commit/8ddc7363c8efd3d6acf044e1b489eb13fa9036ca', 'message': 'Fix Project Limits for resize instance dialog\n\nResize instance dialog should use proper calls for quota and usage.\nThis patch fixes that.\n\nChange-Id: Ied6fd4ad69b38a721b23700c98344e0edf14771b\n(cherry picked from commit e2bb7d833526e3ea6117cb2a5d58cbf90548c6da)\n'}]",0,831256,8ddc7363c8efd3d6acf044e1b489eb13fa9036ca,8,5,1,6914,,,0,"Fix Project Limits for resize instance dialog

Resize instance dialog should use proper calls for quota and usage.
This patch fixes that.

Change-Id: Ied6fd4ad69b38a721b23700c98344e0edf14771b
(cherry picked from commit e2bb7d833526e3ea6117cb2a5d58cbf90548c6da)
",git fetch https://review.opendev.org/openstack/horizon refs/changes/56/831256/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack_dashboard/dashboards/project/instances/templates/instances/_flavors_and_quotas.html'],1,8ddc7363c8efd3d6acf044e1b489eb13fa9036ca,project_limits-stable/wallaby," {% blocktrans trimmed with used=usages.totalInstancesUsed|intcomma quota=usages.maxTotalInstances|intcomma|quotainf %} data-quota-limit=""{{ usages.maxTotalInstances }}"" data-quota-used=""{{ usages.totalInstancesUsed }}""> {% widthratio usages.totalInstancesUsed usages.maxTotalInstances 100 as instance_percent %} {% blocktrans trimmed with used=usages.totalCoresUsed|intcomma quota=usages.maxTotalCores|intcomma|quotainf %} data-quota-limit=""{{ usages.maxTotalCores }}"" data-quota-used=""{{ usages.totalCoresUsed }}""> {% widthratio usages.totalCoresUsed usages.maxTotalCores 100 as vcpu_percent %} {% blocktrans trimmed with used=usages.totalRAMUsed|intcomma quota=usages.maxTotalRAMSize|intcomma|quotainf %} data-quota-limit=""{{ usages.maxTotalRAMSize }}"" data-quota-used=""{{ usages.totalRAMUsed }}""> {% widthratio usages.totalRAMUsed usages.maxTotalRAMSize 100 as vcpu_percent %} {% blocktrans with used=usages.totalVolumesUsed|intcomma quota=usages.maxTotalVolumes|intcomma|quotainf %} data-quota-limit=""{{ usages.maxTotalVolumes }}"" data-quota-used=""{{ usages.totalVolumesUsed }}""> {% widthratio usages.totalVolumesUsed usages.maxTotalVolumes 100 as volume_percent %} {% blocktrans with used=usages.totalGigabytesUsed|intcomma quota=usages.maxTotalVolumeGigabytes|intcomma|quotainf %} data-quota-limit=""{{ usages.maxTotalVolumeGigabytes }}"" data-quota-used=""{{ usages.totalGigabytesUsed }}""> {% widthratio usages.totalGigabytesUsed usages.maxTotalVolumeGigabytes 100 as volume_storage_percent %}"," {% blocktrans trimmed with used=usages.instances.used|intcomma quota=usages.instances.quota|intcomma|quotainf %} data-quota-limit=""{{ usages.instances.quota }}"" data-quota-used=""{{ usages.instances.used }}""> {% widthratio usages.instances.used usages.instances.quota 100 as instance_percent %} {% blocktrans trimmed with used=usages.cores.used|intcomma quota=usages.cores.quota|intcomma|quotainf %} data-quota-limit=""{{ usages.cores.quota }}"" data-quota-used=""{{ usages.cores.used }}""> {% widthratio usages.cores.used usages.cores.quota 100 as vcpu_percent %} {% blocktrans trimmed with used=usages.ram.used|intcomma quota=usages.ram.quota|intcomma|quotainf %} data-quota-limit=""{{ usages.ram.quota }}"" data-quota-used=""{{ usages.ram.used }}""> {% widthratio usages.ram.used usages.ram.quota 100 as vcpu_percent %} {% blocktrans with used=usages.volumes.used|intcomma quota=usages.volumes.quota|intcomma|quotainf %} data-quota-limit=""{{ usages.volumes.quota }}"" data-quota-used=""{{ usages.volumes.used }}""> {% widthratio usages.volumes.used usages.volumes.quota 100 as volume_percent %} {% blocktrans with used=usages.gigabytes.used|intcomma quota=usages.gigabytes.quota|intcomma|quotainf %} data-quota-limit=""{{ usages.gigabytes.quota }}"" data-quota-used=""{{ usages.gigabytes.used }}""> {% widthratio usages.gigabytes.used usages.gigabytes.quota 100 as volume_storage_percent %}",20,20
openstack%2Fswift~master~Ic223650eaf7a1934f489c8b713c6d8da1239f3c5,openstack/swift,master,Ic223650eaf7a1934f489c8b713c6d8da1239f3c5,Doc: Update links in associated projects,MERGED,2022-04-19 11:02:21.000000000,2022-04-19 16:30:12.000000000,2022-04-19 16:27:19.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-19 11:02:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/3ffc1915a0ed43b7eefca730cca6d60d3374ccff', 'message': 'Doc: Update link in associated projects\n\nReplace github by opendev because currently opendev is the source and\ngithub is its mirror.\n\nAlso, update link for repositories managed by SwiftStack organization.\nUnfortunately some repositories are no longer available so are removed\nfrom the list.\n\nChange-Id: Ic223650eaf7a1934f489c8b713c6d8da1239f3c5\n'}, {'number': 2, 'created': '2022-04-19 11:03:37.000000000', 'files': ['doc/source/associated_projects.rst'], 'web_link': 'https://opendev.org/openstack/swift/commit/bb220f6f41487ca70bb0a96038782599f892f94e', 'message': 'Doc: Update links in associated projects\n\nReplace github by opendev because currently opendev is the source and\ngithub is its mirror.\n\nAlso, update links for repositories managed by SwiftStack organization.\nUnfortunately some repositories are no longer available so are removed\nfrom the list.\n\nChange-Id: Ic223650eaf7a1934f489c8b713c6d8da1239f3c5\n'}]",1,838485,bb220f6f41487ca70bb0a96038782599f892f94e,9,2,2,9816,,,0,"Doc: Update links in associated projects

Replace github by opendev because currently opendev is the source and
github is its mirror.

Also, update links for repositories managed by SwiftStack organization.
Unfortunately some repositories are no longer available so are removed
from the list.

Change-Id: Ic223650eaf7a1934f489c8b713c6d8da1239f3c5
",git fetch https://review.opendev.org/openstack/swift refs/changes/85/838485/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/associated_projects.rst'],1,3ffc1915a0ed43b7eefca730cca6d60d3374ccff,,* `Keystone <https://opendev.org/openstack/keystone>`_ - Official Identity* `slogging <https://opendev.org/x/slogging>`_ - Basic stats and* `ProxyFS <https://github.com/NVIDIA/proxyfs>`_ - Integrated file and* `Swift-on-File <https://opendev.org/x/swiftonfile>`_ - <https://github.com/NVIDIA/vagrant-swift-all-in-one>`_ - Quickly setup a <https://opendev.org/x/swiftonfile>`_ support).* `Glance <https://opendev.org/openstack/glance>`_ - Provides services for* `PyECLib <https://opendev.org/openstack/pyeclib>`_ - High-level erasure code* `liberasurecode <https://opendev.org/openstack/liberasurecode>`_ - Low-level,* `Keystone <https://github.com/openstack/keystone>`_ - Official IdentityExternal Integration -------------------- * `1space <https://github.com/swiftstack/1space>`_ - Multi-cloud synchronization tool - supports Swift and S3 APIs * `swift-metadata-sync <https://github.com/swiftstack/swift-metadata-sync>`_ - Propagate OpenStack Swift object metadata into Elasticsearch * `slogging <https://github.com/openstack/slogging>`_ - Basic stats and* `ProxyFS <https://github.com/swiftstack/ProxyFS>`_ - Integrated file and* `ssbench <https://github.com/swiftstack/ssbench>`_ - ssbench tool suite* `Swift-on-File <https://github.com/openstack/swiftonfile>`_ - <https://github.com/swiftstack/vagrant-swift-all-in-one>`_ - Quickly setup a <https://github.com/openstack/swiftonfile>`_ support). * `runway <https://github.com/swiftstack/runway>`_ - Runway sets up a swift-all-in-one (SAIO) dev environment in an lxc container.* `Glance <https://github.com/openstack/glance>`_ - Provides services for* `PyECLib <https://github.com/openstack/pyeclib>`_ - High-level erasure code* `liberasurecode <https://github.com/openstack/liberasurecode>`_ - Low-level* `s3compat <https://github.com/swiftstack/s3compat>`_ - S3 API compatibility checker,9,22
openstack%2Fswift~master~I3d8e46d85ccd965f9b51006c330e391dcdc24a34,openstack/swift,master,I3d8e46d85ccd965f9b51006c330e391dcdc24a34,Swauth is retired,MERGED,2022-04-19 10:51:29.000000000,2022-04-19 16:28:58.000000000,2022-04-19 16:27:15.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-19 10:51:29.000000000', 'files': ['doc/source/associated_projects.rst', 'test/unit/common/middleware/s3api/test_s3api.py', 'doc/source/overview_auth.rst'], 'web_link': 'https://opendev.org/openstack/swift/commit/5a272421d0b42d78bff1f09e2ff057db04063606', 'message': 'Swauth is retired\n\nThe swauth project is already retired[1]. The documentation is updated\nto reflect status of the project.\n\nAlso, this change removes reference to this middleware in unit tests.\n\n[1] https://opendev.org/x/swauth/\nChange-Id: I3d8e46d85ccd965f9b51006c330e391dcdc24a34\n'}]",2,838477,5a272421d0b42d78bff1f09e2ff057db04063606,9,2,1,9816,,,0,"Swauth is retired

The swauth project is already retired[1]. The documentation is updated
to reflect status of the project.

Also, this change removes reference to this middleware in unit tests.

[1] https://opendev.org/x/swauth/
Change-Id: I3d8e46d85ccd965f9b51006c330e391dcdc24a34
",git fetch https://review.opendev.org/openstack/swift refs/changes/77/838477/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/associated_projects.rst', 'test/unit/common/middleware/s3api/test_s3api.py', 'doc/source/overview_auth.rst']",3,5a272421d0b42d78bff1f09e2ff057db04063606,,,The `Swauth <https://github.com/openstack/swauth>`_ project is an example of an additional auth service.,1,9
openstack%2Fopenstack-helm~master~I633c89346f3b717b1f984491ff1c3abc34e0b997,openstack/openstack-helm,master,I633c89346f3b717b1f984491ff1c3abc34e0b997,Add SHOW_OPENRC_FILE value in horizon,MERGED,2022-04-15 11:04:21.000000000,2022-04-19 16:18:54.000000000,2022-04-19 16:17:20.000000000,"[{'_account_id': 1004}, {'_account_id': 8898}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 33519}]","[{'number': 1, 'created': '2022-04-15 11:04:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/c7910fa692649f1fe0322485d50d7b3eb5e9bcf8', 'message': 'Add SHOW_OPENRC_FILE value in horizon\n\nChange-Id: I633c89346f3b717b1f984491ff1c3abc34e0b997\n'}, {'number': 2, 'created': '2022-04-18 07:33:36.000000000', 'files': ['horizon/Chart.yaml', 'releasenotes/notes/horizon.yaml', 'horizon/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/ff119481e8b185d6eb878b74804a60aa704f11e1', 'message': 'Add SHOW_OPENRC_FILE value in horizon\n\nChange-Id: I633c89346f3b717b1f984491ff1c3abc34e0b997\n'}]",2,838164,ff119481e8b185d6eb878b74804a60aa704f11e1,13,5,2,31746,,,0,"Add SHOW_OPENRC_FILE value in horizon

Change-Id: I633c89346f3b717b1f984491ff1c3abc34e0b997
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/64/838164/2 && git format-patch -1 --stdout FETCH_HEAD,"['horizon/Chart.yaml', 'releasenotes/notes/horizon.yaml', 'horizon/values.yaml']",3,c7910fa692649f1fe0322485d50d7b3eb5e9bcf8,," show_openrc_file: ""True"" # Controls whether the keystone openrc file is accesible from the user menu and the api access panel. SHOW_OPENRC_FILE = {{ .Values.conf.horizon.local_settings.config.show_openrc_file }}",,5,2
openstack%2Fopenstack-helm-infra~master~I5d48c5bbd671c9f74b72ef4ecca36777c735c398,openstack/openstack-helm-infra,master,I5d48c5bbd671c9f74b72ef4ecca36777c735c398,[cert-rotatation] Also check initContainers for mounted certs,MERGED,2022-04-15 05:58:09.000000000,2022-04-19 16:09:24.000000000,2022-04-19 16:07:44.000000000,"[{'_account_id': 8898}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 29974}, {'_account_id': 32190}, {'_account_id': 33949}]","[{'number': 1, 'created': '2022-04-15 05:58:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/ef40e93e9664403039a76482659c3d47f3a4823e', 'message': '[cert-rotatation] Also check initContainers for mounted certs\n\nrotate-certs.sh script currently only checks if a certificate is\nmounted in containers.  This updates it to also consider\ninitContainers when restarting resources.\n\nChange-Id: I5d48c5bbd671c9f74b72ef4ecca36777c735c398\n'}, {'number': 2, 'created': '2022-04-15 07:20:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/6a86d73ea96d26ad7f13d7ac02495d42a090d6b4', 'message': '[cert-rotatation] Also check initContainers for mounted certs\n\nrotate-certs.sh script currently only checks if a certificate is\nmounted in containers.  This updates it to also consider\ninitContainers when restarting resources.\n\nChange-Id: I5d48c5bbd671c9f74b72ef4ecca36777c735c398\n'}, {'number': 3, 'created': '2022-04-15 07:23:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/c7e693ffe72cd2f4047af4ac0faed1106aa03898', 'message': '[cert-rotatation] Also check initContainers for mounted certs\n\nrotate-certs.sh script currently only checks if a certificate is\nmounted in containers.  This updates it to also consider\ninitContainers when restarting resources.\n\nChange-Id: I5d48c5bbd671c9f74b72ef4ecca36777c735c398\n'}, {'number': 4, 'created': '2022-04-15 07:24:34.000000000', 'files': ['releasenotes/notes/cert-rotation.yaml', 'cert-rotation/Chart.yaml', 'cert-rotation/templates/bin/_rotate-certs.sh.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/92977da6b8b51f09269c70bc3c9938fef4f66816', 'message': '[cert-rotatation] Also check initContainers for mounted certs\n\nrotate-certs.sh script currently only checks if a certificate is\nmounted in containers.  This updates it to also consider\ninitContainers when restarting resources.\n\nChange-Id: I5d48c5bbd671c9f74b72ef4ecca36777c735c398\n'}]",1,838085,92977da6b8b51f09269c70bc3c9938fef4f66816,15,6,4,20248,,,0,"[cert-rotatation] Also check initContainers for mounted certs

rotate-certs.sh script currently only checks if a certificate is
mounted in containers.  This updates it to also consider
initContainers when restarting resources.

Change-Id: I5d48c5bbd671c9f74b72ef4ecca36777c735c398
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/85/838085/4 && git format-patch -1 --stdout FETCH_HEAD,['cert-rotation/templates/bin/_rotate-certs.sh.tpl'],1,ef40e93e9664403039a76482659c3d47f3a4823e,," resource=($(kubectl get ${kind} -n ${namespace} -o custom-columns='NAME:.metadata.name,SECRETS:.spec.template.spec.volumes[*].secret.secretName,TLS-CONTAINER:.spec.template.spec.containers[*].volumeMounts[*].subPath,TLS-INIT:.spec.template.spec.initContainers[*].volumeMounts[*].subPath' --no-headers | grep tls.crt || true)) # Since we have 4 custom colums in the output, every 5th index will be start of new tuple. idx=$((idx+4))"," resource=($(kubectl get ${kind} -n ${namespace} -o custom-columns='NAME:.metadata.name,SECRETS:.spec.template.spec.volumes[*].secret.secretName,TLS:.spec.template.spec.containers[*].volumeMounts[*].subPath' --no-headers | grep tls.crt || true)) # Since we have 3 custom colums in the output, every 4th index will be start of new tuple. idx=$((idx+3))",3,3
openstack%2Fkuryr-kubernetes~master~Id77c325210cefb2ee2e04936a0e4bbbb001c9d02,openstack/kuryr-kubernetes,master,Id77c325210cefb2ee2e04936a0e4bbbb001c9d02,Make kuryr-kubernetes-tempest-amphora voting,MERGED,2022-04-12 15:08:03.000000000,2022-04-19 16:03:00.000000000,2022-04-19 15:59:50.000000000,"[{'_account_id': 11600}, {'_account_id': 13692}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-12 15:08:03.000000000', 'files': ['.zuul.d/tempest-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/ddf79be5d9ac0bd5282c58d40d00b28ce7c9be05', 'message': ""Make kuryr-kubernetes-tempest-amphora voting\n\nMake kuryr-kubernetes-tempest-amphora voting since it's\nusing OVN and OVN is the default SDN now.\n\nChange-Id: Id77c325210cefb2ee2e04936a0e4bbbb001c9d02\n""}]",2,837584,ddf79be5d9ac0bd5282c58d40d00b28ce7c9be05,10,3,1,27032,,,0,"Make kuryr-kubernetes-tempest-amphora voting

Make kuryr-kubernetes-tempest-amphora voting since it's
using OVN and OVN is the default SDN now.

Change-Id: Id77c325210cefb2ee2e04936a0e4bbbb001c9d02
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/84/837584/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.d/tempest-jobs.yaml'],1,ddf79be5d9ac0bd5282c58d40d00b28ce7c9be05,make-ovn-amphora-job-voting, voting: true, voting: false,1,1
openstack%2Fironic-python-agent~master~I3c74b26ef4aff07c371364203a5b39c658b552a7,openstack/ironic-python-agent,master,I3c74b26ef4aff07c371364203a5b39c658b552a7,Use Werkzeug modern version,MERGED,2022-04-13 06:00:35.000000000,2022-04-19 16:02:49.000000000,2022-04-19 16:01:04.000000000,"[{'_account_id': 4571}, {'_account_id': 11292}, {'_account_id': 14885}, {'_account_id': 22348}, {'_account_id': 34076}]","[{'number': 1, 'created': '2022-04-13 06:00:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/88f501a237373321fb15d8ce1f35d1d0884f75ea', 'message': '[WIP] Use Werkzeug modern version\n\nRequest class from Werkzeug now includes json capability by default.\n\nChange-Id: I3c74b26ef4aff07c371364203a5b39c658b552a7\n'}, {'number': 2, 'created': '2022-04-13 08:17:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/0aa6ebab8043f642616afd9acb28d377c78fa3cd', 'message': '[WIP] Use Werkzeug modern version\n\nRequest class from Werkzeug now includes json capability by default.\n\nChange-Id: I3c74b26ef4aff07c371364203a5b39c658b552a7\n'}, {'number': 3, 'created': '2022-04-13 08:36:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/4e11669b770b816345503b14f668d4bcf632a11b', 'message': '[WIP] Use Werkzeug modern version\n\nRequest class from Werkzeug now includes json capability by default.\nSee [1] and [2] for more info.\n\n[1] https://github.com/pallets/werkzeug/commit/2cd4fa9484b5d55284a86ac200df603552ba2300\n[2] https://github.com/pallets/werkzeug/commit/7b52ecd8f3a67e19df32467a832761f4f0d97c8b\n\nChange-Id: I3c74b26ef4aff07c371364203a5b39c658b552a7\n'}, {'number': 4, 'created': '2022-04-14 10:47:06.000000000', 'files': ['ironic_python_agent/tests/unit/test_api.py', 'requirements.txt', 'lower-constraints.txt', 'ironic_python_agent/api/app.py'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/8111475eb0f315e0f92a8367a858c49f5fec5ff2', 'message': 'Use Werkzeug modern version\n\nRequest class from Werkzeug now includes json capability by default.\nSee [1] and [2] for more info.\n\n[1] https://github.com/pallets/werkzeug/commit/2cd4fa9484b5d55284a86ac200df603552ba2300\n[2] https://github.com/pallets/werkzeug/commit/7b52ecd8f3a67e19df32467a832761f4f0d97c8b\n\nChange-Id: I3c74b26ef4aff07c371364203a5b39c658b552a7\n'}]",8,837661,8111475eb0f315e0f92a8367a858c49f5fec5ff2,27,5,4,23851,,,0,"Use Werkzeug modern version

Request class from Werkzeug now includes json capability by default.
See [1] and [2] for more info.

[1] https://github.com/pallets/werkzeug/commit/2cd4fa9484b5d55284a86ac200df603552ba2300
[2] https://github.com/pallets/werkzeug/commit/7b52ecd8f3a67e19df32467a832761f4f0d97c8b

Change-Id: I3c74b26ef4aff07c371364203a5b39c658b552a7
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/61/837661/4 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'lower-constraints.txt', 'ironic_python_agent/api/app.py']",3,88f501a237373321fb15d8ce1f35d1d0884f75ea,werkzeug-evolution,class Request(werkzeug.Request):,"from werkzeug.wrappers import json as http_jsonclass Request(werkzeug.Request, http_json.JSONMixin):",3,4
openstack%2Fpyeclib~master~I37735a81131612464caff1d08b78d5efb78d694c,openstack/pyeclib,master,I37735a81131612464caff1d08b78d5efb78d694c,Prep for 1.6.1 release,MERGED,2022-03-11 21:48:10.000000000,2022-04-19 15:57:56.000000000,2022-04-19 15:57:56.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-03-11 21:48:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/pyeclib/commit/cbbed1828ff0932f0f6f470ece18b6efbdb04d21', 'message': 'Prep for 1.6.1 release\n\nChange-Id: I37735a81131612464caff1d08b78d5efb78d694c\n'}, {'number': 2, 'created': '2022-04-14 05:11:58.000000000', 'files': ['setup.py', 'AUTHORS', 'doc/source/conf.py', 'ChangeLog', 'pyeclib/ec_iface.py'], 'web_link': 'https://opendev.org/openstack/pyeclib/commit/008840ca19e434f698f1f0726bdc973724fe1d76', 'message': 'Prep for 1.6.1 release\n\nChange-Id: I37735a81131612464caff1d08b78d5efb78d694c\n'}]",1,833471,008840ca19e434f698f1f0726bdc973724fe1d76,15,2,2,15343,,,0,"Prep for 1.6.1 release

Change-Id: I37735a81131612464caff1d08b78d5efb78d694c
",git fetch https://review.opendev.org/openstack/pyeclib refs/changes/71/833471/1 && git format-patch -1 --stdout FETCH_HEAD,"['setup.py', 'AUTHORS', 'doc/source/conf.py', 'ChangeLog', 'pyeclib/ec_iface.py']",5,cbbed1828ff0932f0f6f470ece18b6efbdb04d21,release-1.6.1,PYECLIB_MINOR = 6 PYECLIB_REV = 1,PYECLIB_MINOR = 1 PYECLIB_REV = 2,14,5
openstack%2Fkayobe~stable%2Fwallaby~Id94c09349ac5b90087502772a751015f9dfde0e9,openstack/kayobe,stable/wallaby,Id94c09349ac5b90087502772a751015f9dfde0e9,Update documentation link for NCLU,MERGED,2022-04-14 16:29:36.000000000,2022-04-19 15:56:04.000000000,2022-04-19 15:54:35.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-14 16:29:36.000000000', 'files': ['doc/source/configuration/reference/physical-network.rst'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/9f469c3689331d145848088b2adc79b3ee62cfc2', 'message': 'Update documentation link for NCLU\n\nChange-Id: Id94c09349ac5b90087502772a751015f9dfde0e9\n(cherry picked from commit faff25ff2014f605f7cbf1a99f445379f6f6ba86)\n'}]",0,837913,9f469c3689331d145848088b2adc79b3ee62cfc2,8,3,1,14826,,,0,"Update documentation link for NCLU

Change-Id: Id94c09349ac5b90087502772a751015f9dfde0e9
(cherry picked from commit faff25ff2014f605f7cbf1a99f445379f6f6ba86)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/13/837913/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/configuration/reference/physical-network.rst'],1,9f469c3689331d145848088b2adc79b3ee62cfc2,nclu-docs-stable/wallaby, <https://docs.nvidia.com/networking-ethernet-software/cumulus-linux-44/System-Configuration/Network-Command-Line-Utility-NCLU/>`__), <https://docs.cumulusnetworks.com/display/DOCS/Network+Command+Line+Utility+-+NCLU>`__),1,1
openstack%2Fkayobe~stable%2Fxena~Id94c09349ac5b90087502772a751015f9dfde0e9,openstack/kayobe,stable/xena,Id94c09349ac5b90087502772a751015f9dfde0e9,Update documentation link for NCLU,MERGED,2022-04-14 16:29:28.000000000,2022-04-19 15:56:04.000000000,2022-04-19 15:54:33.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-14 16:29:28.000000000', 'files': ['doc/source/configuration/reference/physical-network.rst'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/b1f9b4b890236430474cedfe57ed171c2213a184', 'message': 'Update documentation link for NCLU\n\nChange-Id: Id94c09349ac5b90087502772a751015f9dfde0e9\n(cherry picked from commit faff25ff2014f605f7cbf1a99f445379f6f6ba86)\n'}]",0,837912,b1f9b4b890236430474cedfe57ed171c2213a184,8,3,1,14826,,,0,"Update documentation link for NCLU

Change-Id: Id94c09349ac5b90087502772a751015f9dfde0e9
(cherry picked from commit faff25ff2014f605f7cbf1a99f445379f6f6ba86)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/12/837912/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/configuration/reference/physical-network.rst'],1,b1f9b4b890236430474cedfe57ed171c2213a184,nclu-docs-stable/xena, <https://docs.nvidia.com/networking-ethernet-software/cumulus-linux-44/System-Configuration/Network-Command-Line-Utility-NCLU/>`__), <https://docs.cumulusnetworks.com/display/DOCS/Network+Command+Line+Utility+-+NCLU>`__),1,1
openstack%2Fkayobe~stable%2Fyoga~Id94c09349ac5b90087502772a751015f9dfde0e9,openstack/kayobe,stable/yoga,Id94c09349ac5b90087502772a751015f9dfde0e9,Update documentation link for NCLU,MERGED,2022-04-14 16:29:19.000000000,2022-04-19 15:56:01.000000000,2022-04-19 15:54:31.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-14 16:29:19.000000000', 'files': ['doc/source/configuration/reference/physical-network.rst'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/b5dcccd402a595af7fca898859c9454e1d3b6675', 'message': 'Update documentation link for NCLU\n\nChange-Id: Id94c09349ac5b90087502772a751015f9dfde0e9\n(cherry picked from commit faff25ff2014f605f7cbf1a99f445379f6f6ba86)\n'}]",0,837911,b5dcccd402a595af7fca898859c9454e1d3b6675,8,3,1,14826,,,0,"Update documentation link for NCLU

Change-Id: Id94c09349ac5b90087502772a751015f9dfde0e9
(cherry picked from commit faff25ff2014f605f7cbf1a99f445379f6f6ba86)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/11/837911/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/configuration/reference/physical-network.rst'],1,b5dcccd402a595af7fca898859c9454e1d3b6675,nclu-docs-stable/yoga, <https://docs.nvidia.com/networking-ethernet-software/cumulus-linux-44/System-Configuration/Network-Command-Line-Utility-NCLU/>`__), <https://docs.cumulusnetworks.com/display/DOCS/Network+Command+Line+Utility+-+NCLU>`__),1,1
openstack%2Fvalidations-libs~master~I87f315e7bb2e28a8572982a71fbe2be4432ff2c0,openstack/validations-libs,master,I87f315e7bb2e28a8572982a71fbe2be4432ff2c0,Exceptions for Validations Framework,MERGED,2022-03-18 11:31:22.000000000,2022-04-19 15:50:06.000000000,2022-04-19 15:48:38.000000000,"[{'_account_id': 15895}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}]","[{'number': 1, 'created': '2022-03-18 11:31:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/f88413762bc6bc63b9cc15c408dab4d7ba1dc1f0', 'message': 'Exceptions for Validations Framework\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I87f315e7bb2e28a8572982a71fbe2be4432ff2c0\n'}, {'number': 2, 'created': '2022-03-21 14:55:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/652ec981666692499b2294c22ab0c5e4c12c8cd0', 'message': 'Exceptions for Validations Framework\n\nIntroduces two new exceptions for Validation Framework\nto be raised within appropriate context.\n\nValidationRunException - signifying incorrect behavior of the Run action code\nValidationShowException - signifying incorrect behavior of the Show actions code\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I87f315e7bb2e28a8572982a71fbe2be4432ff2c0\n'}, {'number': 3, 'created': '2022-03-24 08:17:42.000000000', 'files': ['validations_libs/validation_actions.py', 'validations_libs/cli/run.py', 'validations_libs/tests/cli/test_run.py', 'validations_libs/exceptions.py', 'validations_libs/tests/test_validation_actions.py'], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/e510ed451b00ae55a9f531304c45f8d3e4ec844e', 'message': 'Exceptions for Validations Framework\n\nIntroduces two new exceptions for Validation Framework\nto be raised within appropriate context.\n\nValidationRunException - signifying incorrect behavior of the Run action code\nValidationShowException - signifying incorrect behavior of the Show actions code\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I87f315e7bb2e28a8572982a71fbe2be4432ff2c0\n'}]",0,834277,e510ed451b00ae55a9f531304c45f8d3e4ec844e,13,4,3,32926,,,0,"Exceptions for Validations Framework

Introduces two new exceptions for Validation Framework
to be raised within appropriate context.

ValidationRunException - signifying incorrect behavior of the Run action code
ValidationShowException - signifying incorrect behavior of the Show actions code

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I87f315e7bb2e28a8572982a71fbe2be4432ff2c0
",git fetch https://review.opendev.org/openstack/validations-libs refs/changes/77/834277/1 && git format-patch -1 --stdout FETCH_HEAD,['validations_libs/exceptions.py'],1,f88413762bc6bc63b9cc15c408dab4d7ba1dc1f0,exceptions,"# Copyright 2022 Red Hat, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # """"""This module contains Validation Framework specific exceptions, to be raised by Validation Framework runtime. The exceptions are meant to cover the most common of the possible fail states the framework can encounter, with the rest evoking one of the built in exceptions, such as 'RuntimeError'. Use of these exceptions should be limited to cases when cause is known and within the context of the framework itself. """""" class ValidationRunException(Exception): """"""ValidationRunException is to be raised when actions initiated by the CLI 'run' subcommand or `run_validations` method of the `ValidationsActions` class, cause unacceptable behavior from which it is impossible to recover. """""" pass class ValidationShowException(Exception): """"""ValidationShowException is to be raised when actions initiated by the CLI 'show' subcommands or `show_history`, `show_validations` or `show_validations_parameters` methods of the `ValidationsActions` class, cause unacceptable behavior from which it is impossible to recover. """""" pass ",,43,0
openstack%2Ftripleo-operator-ansible~master~I0d632e3bb2b3e54caa495fd1bcf0c504ee2b46a5,openstack/tripleo-operator-ansible,master,I0d632e3bb2b3e54caa495fd1bcf0c504ee2b46a5,Add --cluster to tripleo_ceph_deploy role,MERGED,2022-03-26 21:31:14.000000000,2022-04-19 15:48:47.000000000,2022-04-19 15:48:47.000000000,"[{'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 25402}]","[{'number': 1, 'created': '2022-03-26 21:31:14.000000000', 'files': ['roles/tripleo_ceph_deploy/defaults/main.yml', 'roles/tripleo_ceph_deploy/tasks/main.yml', 'roles/tripleo_ceph_deploy/README.md'], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/31394ed8f9f46c983aba7b708d71bf3abc24388f', 'message': ""Add --cluster to tripleo_ceph_deploy role\n\nAdd tripleo_ceph_deploy_cluster variable so that\n'openstack overcloud ceph deploy --cluster $CLUSTER'\nmay be called from tripleo_ceph_deploy role.\n\nChange-Id: I0d632e3bb2b3e54caa495fd1bcf0c504ee2b46a5\nRelated-Bug: #1966559\nDepends-On: I07dfbd819e57f26cc4798b0d58ffacb3ba73fdb2\n""}]",7,835377,31394ed8f9f46c983aba7b708d71bf3abc24388f,15,3,1,18002,,,0,"Add --cluster to tripleo_ceph_deploy role

Add tripleo_ceph_deploy_cluster variable so that
'openstack overcloud ceph deploy --cluster $CLUSTER'
may be called from tripleo_ceph_deploy role.

Change-Id: I0d632e3bb2b3e54caa495fd1bcf0c504ee2b46a5
Related-Bug: #1966559
Depends-On: I07dfbd819e57f26cc4798b0d58ffacb3ba73fdb2
",git fetch https://review.opendev.org/openstack/tripleo-operator-ansible refs/changes/77/835377/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/tripleo_ceph_deploy/defaults/main.yml', 'roles/tripleo_ceph_deploy/tasks/main.yml', 'roles/tripleo_ceph_deploy/README.md']",3,31394ed8f9f46c983aba7b708d71bf3abc24388f,bug/1966559,"* `tripleo_ceph_deploy_cluster`: (String) Name of the Ceph cluster. If set to 'foo', then the files /etc/ceph/<FSID>/foo.conf and /etc/ceph/<FSID>/foo.client.admin.keyring will be created. Otherwise these files will use the name 'ceph'. Changing this means changing command line calls too, e.g. 'ceph health' will become 'ceph --cluster foo health' unless export CEPH_ARGS='--cluster foo' is used. If unset `openenstack overcloud ceph deploy` will default this value to 'ceph'.",,4,0
openstack%2Fpuppet-pacemaker~master~I9cc41b18e2904b95c0332134b9664eff745bc818,openstack/puppet-pacemaker,master,I9cc41b18e2904b95c0332134b9664eff745bc818,Add 'Release Notes' in README,MERGED,2018-07-29 14:25:40.000000000,2022-04-19 15:48:44.000000000,2022-04-19 15:48:44.000000000,"[{'_account_id': 9816}, {'_account_id': 14151}, {'_account_id': 14320}, {'_account_id': 14985}, {'_account_id': 21486}, {'_account_id': 22348}, {'_account_id': 26285}]","[{'number': 1, 'created': '2018-07-29 14:25:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-pacemaker/commit/415c536d13834749dbc99dc8cd069a08bd761694', 'message': ""Add 'Release Notes' and 'Repository' etc in README\n\nChange-Id: I9cc41b18e2904b95c0332134b9664eff745bc818\n""}, {'number': 2, 'created': '2018-08-05 05:56:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-pacemaker/commit/3b7ac35d3df9113cf684d680d685e4e49fbba973', 'message': ""Add 'Release Notes' in README\n\nChange-Id: I9cc41b18e2904b95c0332134b9664eff745bc818\n""}, {'number': 3, 'created': '2022-04-18 07:42:32.000000000', 'files': ['README.md'], 'web_link': 'https://opendev.org/openstack/puppet-pacemaker/commit/f003a5385e879a05e812131b3bb36ecaca6fb268', 'message': ""Add 'Release Notes' in README\n\nChange-Id: I9cc41b18e2904b95c0332134b9664eff745bc818\n""}]",0,586884,f003a5385e879a05e812131b3bb36ecaca6fb268,16,7,3,14320,,,0,"Add 'Release Notes' in README

Change-Id: I9cc41b18e2904b95c0332134b9664eff745bc818
",git fetch https://review.opendev.org/openstack/puppet-pacemaker refs/changes/84/586884/2 && git format-patch -1 --stdout FETCH_HEAD,['README.md'],1,415c536d13834749dbc99dc8cd069a08bd761694,,Development ----------- Developer documentation for the entire puppet-openstack project. * https://docs.openstack.org/puppet-openstack-guide/latest/ Contributors ------------ * https://github.com/openstack/puppet-pacemaker/graphs/contributors Release Notes ------------- * https://docs.openstack.org/releasenotes/puppet-pacemaker Repository ------------- * https://git.openstack.org/cgit/openstack/puppet-pacemaker,,21,0
openstack%2Fdevstack~stable%2Fvictoria~I941ef5ea90970a0901236afe81c551aaf24ac1d8,openstack/devstack,stable/victoria,I941ef5ea90970a0901236afe81c551aaf24ac1d8,Write safe.directory items to system git config,MERGED,2022-04-19 02:47:52.000000000,2022-04-19 15:48:43.000000000,2022-04-19 15:47:09.000000000,"[{'_account_id': 4393}, {'_account_id': 7118}, {'_account_id': 22348}, {'_account_id': 32029}]","[{'number': 1, 'created': '2022-04-19 02:47:52.000000000', 'files': ['functions-common', 'unstack.sh'], 'web_link': 'https://opendev.org/openstack/devstack/commit/06c5cb0adc53949799e36e6222c7d57b5be93ad1', 'message': ""Write safe.directory items to system git config\n\nThis is necessary for more consistent behavior across multiple\ndistro versions. Apparently somewhere along the way, git started\nlooking at the current user's home directory instead of $HOME.\n\nRelated-Bug: https://bugs.launchpad.net/devstack/+bug/1968798\n\n Conflicts:\n       unstack.sh\n\nChange-Id: I941ef5ea90970a0901236afe81c551aaf24ac1d8\n(cherry picked from commit 4baeb3b51fcb6196fa311f823ad3f0ac13ccf341)\n(cherry picked from commit 9616d22938305dd1a56067810484c15912b37d8d)\n(cherry picked from commit d86f23b153acc0b8d791baddf2cd90875aa0a04d)\n(cherry picked from commit ea636e0a92670353ac48274e704d30662f722691)\n""}]",0,838428,06c5cb0adc53949799e36e6222c7d57b5be93ad1,9,4,1,8556,,,0,"Write safe.directory items to system git config

This is necessary for more consistent behavior across multiple
distro versions. Apparently somewhere along the way, git started
looking at the current user's home directory instead of $HOME.

Related-Bug: https://bugs.launchpad.net/devstack/+bug/1968798

 Conflicts:
       unstack.sh

Change-Id: I941ef5ea90970a0901236afe81c551aaf24ac1d8
(cherry picked from commit 4baeb3b51fcb6196fa311f823ad3f0ac13ccf341)
(cherry picked from commit 9616d22938305dd1a56067810484c15912b37d8d)
(cherry picked from commit d86f23b153acc0b8d791baddf2cd90875aa0a04d)
(cherry picked from commit ea636e0a92670353ac48274e704d30662f722691)
",git fetch https://review.opendev.org/openstack/devstack refs/changes/28/838428/1 && git format-patch -1 --stdout FETCH_HEAD,"['functions-common', 'unstack.sh']",2,06c5cb0adc53949799e36e6222c7d57b5be93ad1,," # Clean any safe.directory items we wrote into the global # gitconfig. We can identify the relevant ones by checking that they # point to somewhere in our $DEST directory. sudo sed -i ""/directory=${DEST}/ d"" /etc/gitconfig",,11,1
openstack%2Fpuppet-tripleo~stable%2Fvictoria~Ice257a5bc6dd1d661e9d087c5ebdb81b769d9073,openstack/puppet-tripleo,stable/victoria,Ice257a5bc6dd1d661e9d087c5ebdb81b769d9073,Bump metadata to 13.7.0 for stable/victoria tripleo release,MERGED,2022-04-07 09:43:33.000000000,2022-04-19 15:48:42.000000000,2022-04-19 15:48:42.000000000,"[{'_account_id': 8449}, {'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-07 09:43:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/51464fc608b33928e690cdf6ad1b0222def5a724', 'message': 'Bump metadata to 13.7.0 for stable/victoria tripleo release\n\nNeeded to make a final tripleo release on victoria before EM [1]\n\n[1] I900029863bb6b08141de21cb42d6f9c43fb4e13e\n\nChange-Id: Ice257a5bc6dd1d661e9d087c5ebdb81b769d9073\n'}, {'number': 2, 'created': '2022-04-13 11:14:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/2c028072fddbd78bf8fb3704158bfc69bfc2e846', 'message': 'Bump metadata to 13.7.0 for stable/victoria tripleo release\n\nNeeded to make a final tripleo release on victoria before EM [1]\n\n[1] I900029863bb6b08141de21cb42d6f9c43fb4e13e\n\nChange-Id: Ice257a5bc6dd1d661e9d087c5ebdb81b769d9073\n'}, {'number': 3, 'created': '2022-04-13 12:10:54.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/480250ba7d1677f565b142aea84c594f742e3f1e', 'message': 'Bump metadata to 13.7.0 for stable/victoria tripleo release\n\nNeeded to make a final tripleo release on victoria before EM [1]\n\n[1] I900029863bb6b08141de21cb42d6f9c43fb4e13e\n\nChange-Id: Ice257a5bc6dd1d661e9d087c5ebdb81b769d9073\n'}]",6,836920,480250ba7d1677f565b142aea84c594f742e3f1e,16,3,3,8449,,,0,"Bump metadata to 13.7.0 for stable/victoria tripleo release

Needed to make a final tripleo release on victoria before EM [1]

[1] I900029863bb6b08141de21cb42d6f9c43fb4e13e

Change-Id: Ice257a5bc6dd1d661e9d087c5ebdb81b769d9073
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/20/836920/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,51464fc608b33928e690cdf6ad1b0222def5a724,," ""version"": ""13.7.0"","," ""version"": ""13.6.4"",",1,1
openstack%2Fdevstack~stable%2Fwallaby~I941ef5ea90970a0901236afe81c551aaf24ac1d8,openstack/devstack,stable/wallaby,I941ef5ea90970a0901236afe81c551aaf24ac1d8,Write safe.directory items to system git config,MERGED,2022-04-19 02:31:19.000000000,2022-04-19 15:48:42.000000000,2022-04-19 15:47:06.000000000,"[{'_account_id': 4393}, {'_account_id': 7118}, {'_account_id': 22348}, {'_account_id': 32029}]","[{'number': 1, 'created': '2022-04-19 02:31:19.000000000', 'files': ['functions-common', 'unstack.sh'], 'web_link': 'https://opendev.org/openstack/devstack/commit/ea636e0a92670353ac48274e704d30662f722691', 'message': ""Write safe.directory items to system git config\n\nThis is necessary for more consistent behavior across multiple\ndistro versions. Apparently somewhere along the way, git started\nlooking at the current user's home directory instead of $HOME.\n\nRelated-Bug: https://bugs.launchpad.net/devstack/+bug/1968798\n\nChange-Id: I941ef5ea90970a0901236afe81c551aaf24ac1d8\n(cherry picked from commit 4baeb3b51fcb6196fa311f823ad3f0ac13ccf341)\n(cherry picked from commit 9616d22938305dd1a56067810484c15912b37d8d)\n(cherry picked from commit d86f23b153acc0b8d791baddf2cd90875aa0a04d)\n""}]",0,838426,ea636e0a92670353ac48274e704d30662f722691,9,4,1,8556,,,0,"Write safe.directory items to system git config

This is necessary for more consistent behavior across multiple
distro versions. Apparently somewhere along the way, git started
looking at the current user's home directory instead of $HOME.

Related-Bug: https://bugs.launchpad.net/devstack/+bug/1968798

Change-Id: I941ef5ea90970a0901236afe81c551aaf24ac1d8
(cherry picked from commit 4baeb3b51fcb6196fa311f823ad3f0ac13ccf341)
(cherry picked from commit 9616d22938305dd1a56067810484c15912b37d8d)
(cherry picked from commit d86f23b153acc0b8d791baddf2cd90875aa0a04d)
",git fetch https://review.opendev.org/openstack/devstack refs/changes/26/838426/1 && git format-patch -1 --stdout FETCH_HEAD,"['functions-common', 'unstack.sh']",2,ea636e0a92670353ac48274e704d30662f722691,," # Clean any safe.directory items we wrote into the global # gitconfig. We can identify the relevant ones by checking that they # point to somewhere in our $DEST directory. sudo sed -i ""/directory=${DEST}/ d"" /etc/gitconfig",,11,1
openstack%2Fdevstack~stable%2Fyoga~I941ef5ea90970a0901236afe81c551aaf24ac1d8,openstack/devstack,stable/yoga,I941ef5ea90970a0901236afe81c551aaf24ac1d8,Write safe.directory items to system git config,MERGED,2022-04-19 01:43:33.000000000,2022-04-19 15:48:41.000000000,2022-04-19 15:47:01.000000000,"[{'_account_id': 4393}, {'_account_id': 7118}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-19 01:43:33.000000000', 'files': ['functions-common', 'unstack.sh'], 'web_link': 'https://opendev.org/openstack/devstack/commit/9616d22938305dd1a56067810484c15912b37d8d', 'message': ""Write safe.directory items to system git config\n\nThis is necessary for more consistent behavior across multiple\ndistro versions. Apparently somewhere along the way, git started\nlooking at the current user's home directory instead of $HOME.\n\nRelated-Bug: https://bugs.launchpad.net/devstack/+bug/1968798\n\nChange-Id: I941ef5ea90970a0901236afe81c551aaf24ac1d8\n(cherry picked from commit 4baeb3b51fcb6196fa311f823ad3f0ac13ccf341)\n""}]",0,838352,9616d22938305dd1a56067810484c15912b37d8d,9,4,1,8556,,,0,"Write safe.directory items to system git config

This is necessary for more consistent behavior across multiple
distro versions. Apparently somewhere along the way, git started
looking at the current user's home directory instead of $HOME.

Related-Bug: https://bugs.launchpad.net/devstack/+bug/1968798

Change-Id: I941ef5ea90970a0901236afe81c551aaf24ac1d8
(cherry picked from commit 4baeb3b51fcb6196fa311f823ad3f0ac13ccf341)
",git fetch https://review.opendev.org/openstack/devstack refs/changes/52/838352/1 && git format-patch -1 --stdout FETCH_HEAD,"['functions-common', 'unstack.sh']",2,9616d22938305dd1a56067810484c15912b37d8d,git-mark-safe-stable/yoga," # Clean any safe.directory items we wrote into the global # gitconfig. We can identify the relevant ones by checking that they # point to somewhere in our $DEST directory. sudo sed -i ""/directory=${DEST}/ d"" /etc/gitconfig",,11,1
openstack%2Fkolla~stable%2Fvictoria~I72d7920acd8d15941c8c57a4186186212b273a38,openstack/kolla,stable/victoria,I72d7920acd8d15941c8c57a4186186212b273a38,elasticsearch: install Java first on CentOS too,MERGED,2022-04-05 09:39:34.000000000,2022-04-19 15:48:32.000000000,2022-04-19 12:14:48.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-04-05 09:39:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/a08f6da4dbefddb91ceebba4e6988c764f11ef16', 'message': 'elasticsearch: install Java first on CentOS too\n\nelasticsearch-oss package fails to install if we install it with Java:\n\nINFO:kolla.common.utils.elasticsearch:could not find java; set JAVA_HOME\nINFO:kolla.common.utils.elasticsearch:error: %prein(elasticsearch-oss-0:6.8.23-1.noarch) scriptlet failed, exit status 1\nINFO:kolla.common.utils.elasticsearch:\x1b[91mError in PREIN scriptlet in rpm package elasticsearch-oss\n\nBackport down to ussuri needed.\n\nChange-Id: I72d7920acd8d15941c8c57a4186186212b273a38\n(cherry picked from commit 976465c448c4de2bd323021b946770b26ab1e912)\n'}, {'number': 2, 'created': '2022-04-19 06:58:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/0da43ac6cf3b542f0714efd59951e29cf9e001cb', 'message': 'elasticsearch: install Java first on CentOS too\n\nelasticsearch-oss package fails to install if we install it with Java:\n\nINFO:kolla.common.utils.elasticsearch:could not find java; set JAVA_HOME\nINFO:kolla.common.utils.elasticsearch:error: %prein(elasticsearch-oss-0:6.8.23-1.noarch) scriptlet failed, exit status 1\nINFO:kolla.common.utils.elasticsearch:\x1b[91mError in PREIN scriptlet in rpm package elasticsearch-oss\n\nBackport down to ussuri needed.\n\nThis change also includes a backport of\nI7d4788f5b63fba24e3b2f9b15c16866ff811d83e:\n\nAlways use the distro-provided libvirt-python\n\nThis patch switches masakari-monitors image to follow nova-compute\nand ceilometer-compute images.\nThis will be used and required after [1] merges.\nUsage of libvirt-python from PyPI has already proven to be\nproblematic on CentOS Stream in our stable branches. [2]\nWith this patch we avoid those issues as well.\n\n[1] https://review.opendev.org/c/openstack/masakari-monitors/+/804913\n[2] https://review.opendev.org/c/openstack/kolla/+/797102\n\nDepends-On: https://review.opendev.org/c/openstack/masakari-monitors/+/804913\n\nNOTE(hrw): added removal of libvirt-python from upper-constraints as we have\nnever version of libvirt that Victoria used.\n\nChange-Id: I72d7920acd8d15941c8c57a4186186212b273a38\n(cherry picked from commit 976465c448c4de2bd323021b946770b26ab1e912)\n'}, {'number': 3, 'created': '2022-04-19 07:25:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/312173d25f80ed09a5882e94b21bb482a189e6e4', 'message': 'elasticsearch: install Java first on CentOS too\n\nelasticsearch-oss package fails to install if we install it with Java:\n\nINFO:kolla.common.utils.elasticsearch:could not find java; set JAVA_HOME\nINFO:kolla.common.utils.elasticsearch:error: %prein(elasticsearch-oss-0:6.8.23-1.noarch) scriptlet failed, exit status 1\nINFO:kolla.common.utils.elasticsearch:\x1b[91mError in PREIN scriptlet in rpm package elasticsearch-oss\n\nBackport down to ussuri needed.\n\nThis change also includes a backport of\nI7d4788f5b63fba24e3b2f9b15c16866ff811d83e:\n\nAlways use the distro-provided libvirt-python\n\nThis patch switches masakari-monitors image to follow nova-compute\nand ceilometer-compute images.\nThis will be used and required after [1] merges.\nUsage of libvirt-python from PyPI has already proven to be\nproblematic on CentOS Stream in our stable branches. [2]\nWith this patch we avoid those issues as well.\n\n[1] https://review.opendev.org/c/openstack/masakari-monitors/+/804913\n[2] https://review.opendev.org/c/openstack/kolla/+/797102\n\nDepends-On: https://review.opendev.org/c/openstack/masakari-monitors/+/804913\n\nNOTE(hrw): added removal of libvirt-python from upper-constraints as we have\nnever version of libvirt that Victoria used.\n\nChange-Id: I72d7920acd8d15941c8c57a4186186212b273a38\n(cherry picked from commit 976465c448c4de2bd323021b946770b26ab1e912)\n'}, {'number': 4, 'created': '2022-04-19 07:27:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/7d1e07089323d2b2728439f36f11244fa3791374', 'message': ""elasticsearch: install Java first on CentOS too\n\nelasticsearch-oss package fails to install if we install it with Java:\n\nINFO:kolla.common.utils.elasticsearch:could not find java; set JAVA_HOME\nINFO:kolla.common.utils.elasticsearch:error: %prein(elasticsearch-oss-0:6.8.23-1.noarch) scriptlet failed, exit status 1\nINFO:kolla.common.utils.elasticsearch:\x1b[91mError in PREIN scriptlet in rpm package elasticsearch-oss\n\nBackport down to ussuri needed.\n\nThis change also includes a backport of\nI7d4788f5b63fba24e3b2f9b15c16866ff811d83e:\n\nAlways use the distro-provided libvirt-python\n\nThis patch switches masakari-monitors image to follow nova-compute\nand ceilometer-compute images.\nThis will be used and required after [1] merges.\nUsage of libvirt-python from PyPI has already proven to be\nproblematic on CentOS Stream in our stable branches. [2]\nWith this patch we avoid those issues as well.\n\n[1] https://review.opendev.org/c/openstack/masakari-monitors/+/804913\n[2] https://review.opendev.org/c/openstack/kolla/+/797102\n\nDepends-On: https://review.opendev.org/c/openstack/masakari-monitors/+/804913\n\nNOTE(hrw): added removal of libvirt-python from upper-constraints as we have\nnever version of libvirt that Victoria used.\n\nThis change also includes a backport of\nI5efab66e487e06abd1a56af97d7e7caa1ebc880d:\n\nUse jinja2.pass_context instead of contextfilter\n\nThe contextfilter decorator was deprecated in jinja2 3.0.0, and has been\ndropped in 3.1.0. This results in the following warning, and failed\nattempts to use filters:\n\n    [WARNING]: Skipping plugin (filters.py) as it seems to be invalid:\n    module 'jinja2' has no attribute 'contextfilter'\n\nThis change switches to use the pass_context decorator. The minimum\nversion of Jinja2 is raised to 3 to ensure pass_context is present.\n\nThis change has been updated to also support Jinja2 2.x releases,\nsince the Wallaby upper constraints specify 2.11.3. In practice, most\nusers will not use UC to install kolla.\n\nCoAuthored-by: Mark Goddard <mark@stackhpc.com>\n\nChange-Id: I72d7920acd8d15941c8c57a4186186212b273a38\n(cherry picked from commit 976465c448c4de2bd323021b946770b26ab1e912)\n""}, {'number': 5, 'created': '2022-04-19 09:11:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/15d3f1b3130e4e09cc470871162656359a9f1af6', 'message': ""elasticsearch: install Java first on CentOS too\n\nelasticsearch-oss package fails to install if we install it with Java:\n\nINFO:kolla.common.utils.elasticsearch:could not find java; set JAVA_HOME\nINFO:kolla.common.utils.elasticsearch:error: %prein(elasticsearch-oss-0:6.8.23-1.noarch) scriptlet failed, exit status 1\nINFO:kolla.common.utils.elasticsearch:\x1b[91mError in PREIN scriptlet in rpm package elasticsearch-oss\n\nBackport down to ussuri needed.\n\nThis change also includes a backport of\nI7d4788f5b63fba24e3b2f9b15c16866ff811d83e:\n\nAlways use the distro-provided libvirt-python\n\nThis patch switches masakari-monitors image to follow nova-compute\nand ceilometer-compute images.\nThis will be used and required after [1] merges.\nUsage of libvirt-python from PyPI has already proven to be\nproblematic on CentOS Stream in our stable branches. [2]\nWith this patch we avoid those issues as well.\n\n[1] https://review.opendev.org/c/openstack/masakari-monitors/+/804913\n[2] https://review.opendev.org/c/openstack/kolla/+/797102\n\nDepends-On: https://review.opendev.org/c/openstack/masakari-monitors/+/804913\n\nNOTE(hrw): added removal of libvirt-python from upper-constraints as we have\nnever version of libvirt that Victoria used.\n\nThis change also includes a backport of\nI5efab66e487e06abd1a56af97d7e7caa1ebc880d:\n\nUse jinja2.pass_context instead of contextfilter\n\nThe contextfilter decorator was deprecated in jinja2 3.0.0, and has been\ndropped in 3.1.0. This results in the following warning, and failed\nattempts to use filters:\n\n    [WARNING]: Skipping plugin (filters.py) as it seems to be invalid:\n    module 'jinja2' has no attribute 'contextfilter'\n\nThis change switches to use the pass_context decorator. The minimum\nversion of Jinja2 is raised to 3 to ensure pass_context is present.\n\nThis change has been updated to also support Jinja2 2.x releases,\nsince the Wallaby upper constraints specify 2.11.3. In practice, most\nusers will not use UC to install kolla.\n\nCoAuthored-by: Mark Goddard <mark@stackhpc.com>\n\nFinally, amended for Debian Buster to also skip the lower\nconstraint from masakari-monitors.\n\nChange-Id: I72d7920acd8d15941c8c57a4186186212b273a38\n(cherry picked from commit 976465c448c4de2bd323021b946770b26ab1e912)\n""}, {'number': 6, 'created': '2022-04-19 09:16:49.000000000', 'files': ['kolla/template/methods.py', 'docker/elasticsearch/elasticsearch/Dockerfile.j2', 'kolla/template/filters.py', 'releasenotes/notes/jinja2-pass-context-3f3febcd944e3a51.yaml', 'docker/masakari/masakari-monitors/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/a7ff9f6c0d2d5af14a0c9bebd0ceb932bbfeffb5', 'message': ""elasticsearch: install Java first on CentOS too\n\nelasticsearch-oss package fails to install if we install it with Java:\n\nINFO:kolla.common.utils.elasticsearch:could not find java; set JAVA_HOME\nINFO:kolla.common.utils.elasticsearch:error: %prein(elasticsearch-oss-0:6.8.23-1.noarch) scriptlet failed, exit status 1\nINFO:kolla.common.utils.elasticsearch:\x1b[91mError in PREIN scriptlet in rpm package elasticsearch-oss\n\nBackport down to ussuri needed.\n\nThis change also includes a backport of\nI7d4788f5b63fba24e3b2f9b15c16866ff811d83e:\n\nAlways use the distro-provided libvirt-python\n\nThis patch switches masakari-monitors image to follow nova-compute\nand ceilometer-compute images.\nThis will be used and required after [1] merges.\nUsage of libvirt-python from PyPI has already proven to be\nproblematic on CentOS Stream in our stable branches. [2]\nWith this patch we avoid those issues as well.\n\n[1] https://review.opendev.org/c/openstack/masakari-monitors/+/804913\n[2] https://review.opendev.org/c/openstack/kolla/+/797102\n\nDepends-On: https://review.opendev.org/c/openstack/masakari-monitors/+/804913\n\nNOTE(hrw): added removal of libvirt-python from upper-constraints as we have\nnever version of libvirt that Victoria used.\n\nThis change also includes a backport of\nI5efab66e487e06abd1a56af97d7e7caa1ebc880d:\n\nUse jinja2.pass_context instead of contextfilter\n\nThe contextfilter decorator was deprecated in jinja2 3.0.0, and has been\ndropped in 3.1.0. This results in the following warning, and failed\nattempts to use filters:\n\n    [WARNING]: Skipping plugin (filters.py) as it seems to be invalid:\n    module 'jinja2' has no attribute 'contextfilter'\n\nThis change switches to use the pass_context decorator. The minimum\nversion of Jinja2 is raised to 3 to ensure pass_context is present.\n\nThis change has been updated to also support Jinja2 2.x releases,\nsince the Wallaby upper constraints specify 2.11.3. In practice, most\nusers will not use UC to install kolla.\n\nCoAuthored-by: Mark Goddard <mark@stackhpc.com>\n\nFinally, amended for Debian Buster to also skip the lower\nconstraint from masakari-monitors.\n\nFinally, finally, includes also hotfix for contextfunction.\nIe4bccb9ed3f4d8782730c5929abbfa73da215a8c\n\nChange-Id: I72d7920acd8d15941c8c57a4186186212b273a38\n(cherry picked from commit 976465c448c4de2bd323021b946770b26ab1e912)\n""}]",0,836591,a7ff9f6c0d2d5af14a0c9bebd0ceb932bbfeffb5,20,5,6,24072,,,0,"elasticsearch: install Java first on CentOS too

elasticsearch-oss package fails to install if we install it with Java:

INFO:kolla.common.utils.elasticsearch:could not find java; set JAVA_HOME
INFO:kolla.common.utils.elasticsearch:error: %prein(elasticsearch-oss-0:6.8.23-1.noarch) scriptlet failed, exit status 1
INFO:kolla.common.utils.elasticsearch:[91mError in PREIN scriptlet in rpm package elasticsearch-oss

Backport down to ussuri needed.

This change also includes a backport of
I7d4788f5b63fba24e3b2f9b15c16866ff811d83e:

Always use the distro-provided libvirt-python

This patch switches masakari-monitors image to follow nova-compute
and ceilometer-compute images.
This will be used and required after [1] merges.
Usage of libvirt-python from PyPI has already proven to be
problematic on CentOS Stream in our stable branches. [2]
With this patch we avoid those issues as well.

[1] https://review.opendev.org/c/openstack/masakari-monitors/+/804913
[2] https://review.opendev.org/c/openstack/kolla/+/797102

Depends-On: https://review.opendev.org/c/openstack/masakari-monitors/+/804913

NOTE(hrw): added removal of libvirt-python from upper-constraints as we have
never version of libvirt that Victoria used.

This change also includes a backport of
I5efab66e487e06abd1a56af97d7e7caa1ebc880d:

Use jinja2.pass_context instead of contextfilter

The contextfilter decorator was deprecated in jinja2 3.0.0, and has been
dropped in 3.1.0. This results in the following warning, and failed
attempts to use filters:

    [WARNING]: Skipping plugin (filters.py) as it seems to be invalid:
    module 'jinja2' has no attribute 'contextfilter'

This change switches to use the pass_context decorator. The minimum
version of Jinja2 is raised to 3 to ensure pass_context is present.

This change has been updated to also support Jinja2 2.x releases,
since the Wallaby upper constraints specify 2.11.3. In practice, most
users will not use UC to install kolla.

CoAuthored-by: Mark Goddard <mark@stackhpc.com>

Finally, amended for Debian Buster to also skip the lower
constraint from masakari-monitors.

Finally, finally, includes also hotfix for contextfunction.
Ie4bccb9ed3f4d8782730c5929abbfa73da215a8c

Change-Id: I72d7920acd8d15941c8c57a4186186212b273a38
(cherry picked from commit 976465c448c4de2bd323021b946770b26ab1e912)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/91/836591/6 && git format-patch -1 --stdout FETCH_HEAD,['docker/elasticsearch/elasticsearch/Dockerfile.j2'],1,a08f6da4dbefddb91ceebba4e6988c764f11ef16,, # NOTE(hrw): post-install script of elasticsearch fails when trying to # install elasticsearch and java together. {{ macros.install_packages(['java-11-openjdk-headless']) }} ," 'java-11-openjdk-headless',",5,1
openstack%2Fdevstack~stable%2Fxena~I941ef5ea90970a0901236afe81c551aaf24ac1d8,openstack/devstack,stable/xena,I941ef5ea90970a0901236afe81c551aaf24ac1d8,Write safe.directory items to system git config,MERGED,2022-04-19 02:04:24.000000000,2022-04-19 15:48:30.000000000,2022-04-19 15:47:03.000000000,"[{'_account_id': 4393}, {'_account_id': 7118}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-19 02:04:24.000000000', 'files': ['functions-common', 'unstack.sh'], 'web_link': 'https://opendev.org/openstack/devstack/commit/d86f23b153acc0b8d791baddf2cd90875aa0a04d', 'message': ""Write safe.directory items to system git config\n\nThis is necessary for more consistent behavior across multiple\ndistro versions. Apparently somewhere along the way, git started\nlooking at the current user's home directory instead of $HOME.\n\nRelated-Bug: https://bugs.launchpad.net/devstack/+bug/1968798\n\nChange-Id: I941ef5ea90970a0901236afe81c551aaf24ac1d8\n(cherry picked from commit 4baeb3b51fcb6196fa311f823ad3f0ac13ccf341)\n(cherry picked from commit 9616d22938305dd1a56067810484c15912b37d8d)\n""}]",0,838423,d86f23b153acc0b8d791baddf2cd90875aa0a04d,9,4,1,8556,,,0,"Write safe.directory items to system git config

This is necessary for more consistent behavior across multiple
distro versions. Apparently somewhere along the way, git started
looking at the current user's home directory instead of $HOME.

Related-Bug: https://bugs.launchpad.net/devstack/+bug/1968798

Change-Id: I941ef5ea90970a0901236afe81c551aaf24ac1d8
(cherry picked from commit 4baeb3b51fcb6196fa311f823ad3f0ac13ccf341)
(cherry picked from commit 9616d22938305dd1a56067810484c15912b37d8d)
",git fetch https://review.opendev.org/openstack/devstack refs/changes/23/838423/1 && git format-patch -1 --stdout FETCH_HEAD,"['functions-common', 'unstack.sh']",2,d86f23b153acc0b8d791baddf2cd90875aa0a04d,," # Clean any safe.directory items we wrote into the global # gitconfig. We can identify the relevant ones by checking that they # point to somewhere in our $DEST directory. sudo sed -i ""/directory=${DEST}/ d"" /etc/gitconfig",,11,1
openstack%2Ftripleo-ansible~stable%2Ftrain~I5e2876b3f7ffe2b63584802505a10dd1966be4a0,openstack/tripleo-ansible,stable/train,I5e2876b3f7ffe2b63584802505a10dd1966be4a0,Undercloud mysql database must be idempotent,MERGED,2022-04-07 10:12:13.000000000,2022-04-19 15:31:53.000000000,2022-04-19 15:31:53.000000000,"[{'_account_id': 7144}, {'_account_id': 8449}, {'_account_id': 22348}, {'_account_id': 22954}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-04-07 10:12:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/fa66b0584f67df81679928653e65115882190ce8', 'message': 'Undercloud mysql database must be idempotent\n\nCurrently, the database backup excludes certain tables because it is\nintended do a restorable dump of a Galera cluster, but this does not\napply onm the undercloud database, which does not belong to any cluster.\n\nThis patch changes the procedure for taking an undercloud database\nbackup to get a full one.\n\nChange-Id: I5e2876b3f7ffe2b63584802505a10dd1966be4a0\n(cherry picked from commit 7884d62ae8643bfa236a424cc9b90a819c2fd167)\n'}, {'number': 2, 'created': '2022-04-07 10:18:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/aab8a06b608679fbfebfd57d249cd34eaac236df', 'message': 'Undercloud mysql database must be idempotent\n\nCurrently, the database backup excludes certain tables because it is\nintended do a restorable dump of a Galera cluster, but this does not\napply onm the undercloud database, which does not belong to any cluster.\n\nThis patch changes the procedure for taking an undercloud database\nbackup to get a full one.\n\nChange-Id: I5e2876b3f7ffe2b63584802505a10dd1966be4a0\n(cherry picked from commit 7884d62ae8643bfa236a424cc9b90a819c2fd167)\n'}, {'number': 3, 'created': '2022-04-07 11:27:22.000000000', 'files': ['tripleo_ansible/roles/backup-and-restore/backup/tasks/db_backup.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/200d73c333a368ddf385ed4df9fd0354cf2379b4', 'message': 'Undercloud mysql database must be idempotent\n\nCurrently, the database backup excludes certain tables because it is\nintended do a restorable dump of a Galera cluster, but this does not\napply onm the undercloud database, which does not belong to any cluster.\n\nThis patch changes the procedure for taking an undercloud database\nbackup to get a full one.\n\nChange-Id: I5e2876b3f7ffe2b63584802505a10dd1966be4a0\n(cherry picked from commit 7884d62ae8643bfa236a424cc9b90a819c2fd167)\n'}]",6,836787,200d73c333a368ddf385ed4df9fd0354cf2379b4,25,5,3,32968,,,0,"Undercloud mysql database must be idempotent

Currently, the database backup excludes certain tables because it is
intended do a restorable dump of a Galera cluster, but this does not
apply onm the undercloud database, which does not belong to any cluster.

This patch changes the procedure for taking an undercloud database
backup to get a full one.

Change-Id: I5e2876b3f7ffe2b63584802505a10dd1966be4a0
(cherry picked from commit 7884d62ae8643bfa236a424cc9b90a819c2fd167)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/87/836787/3 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/backup_and_restore/tasks/db_backup.yml'],1,fa66b0584f67df81679928653e65115882190ce8,db_backup-stable/wallaby-stable/victoria-stable/train,"<<<<<<< HEAD (2d0ab9 Disable auto discovery) ======= --- # Copyright 2019 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # # Create a backup for each database into separate files. - name: Get database root password command: | hiera -c '{{ tripleo_backup_and_restore_hiera_config_file }}' 'mysql::server::root_password' when: mysql_password is undefined register: mysql_password no_log: ""{{ tripleo_backup_and_restore_hide_sensitive_logs | bool }}"" tags: - bar_create_recover_image - name: Get galera bind_address command: | hiera -c '{{ tripleo_backup_and_restore_hiera_config_file }}' 'tripleo::profile::pacemaker::database::mysql::bind_address' when: tripleo_backup_and_restore_pacemaker_galera_bind_address is undefined register: tripleo_backup_and_restore_pacemaker_galera_bind_address tags: - bar_create_recover_image - name: Disable galera when there is no pacemaker mysql bind address set_fact: enabled_galera: false when: tripleo_backup_and_restore_pacemaker_galera_bind_address.stdout == 'nil' tags: - bar_create_recover_image - name: Enable galera when there is pacemaker mysql bind address set_fact: enabled_galera: true when: tripleo_backup_and_restore_pacemaker_galera_bind_address.stdout != 'nil' tags: - bar_create_recover_image - name: Ensure pacemaker is running command: pcs cluster start --all when: - enabled_galera - tripleo_backup_and_restore_service_manager|bool - not tripleo_backup_and_restore_enable_snapshots|bool run_once: true tags: - bar_create_recover_image - name: Ensure the node is back into the cluster command: pcs cluster start when: - enabled_galera - tripleo_backup_and_restore_enable_snapshots|bool tags: - bar_create_recover_image - name: Wait until pacemaker has Galera up&running shell: | set -o pipefail ss -tunlp | grep "":3306 "" | sed -e 's/.*\///' register: mysql_result retries: 300 until: mysql_result is search('mysqld') delay: 5 when: - enabled_galera tags: - bar_create_recover_image - name: Get the mysql container id when galera is enabled shell: | set -o pipefail {{ tripleo_container_cli }} ps -a | grep galera | awk '{print $1}' when: enabled_galera register: galera_container_id tags: - bar_create_recover_image - name: Set the tripleo_backup_and_restore_mysql_container id set_fact: tripleo_backup_and_restore_mysql_container: ""{{ galera_container_id.stdout }}"" when: enabled_galera tags: - bar_create_recover_image - name: Ensure mysql container is running command: ""{{ tripleo_container_cli }} unpause {{ tripleo_backup_and_restore_mysql_container }}"" when: - mysql_password.stderr is defined - tripleo_backup_and_restore_mysql_container == ""mysql"" - not enabled_galera - tripleo_backup_and_restore_service_manager|bool failed_when: false tags: - bar_create_recover_image - name: Galera desync the MySQL node shell: | set -o pipefail {{ tripleo_container_cli }} exec {{ tripleo_backup_and_restore_mysql_container }} bash -c ""mysql -p -u root \ -p{{ mysql_password.stdout }} --execute 'SET GLOBAL wsrep_desync = ON'"" register: desync_output retries: 300 delay: 5 until: not desync_output.stderr when: - mysql_password.stderr is defined - enabled_galera - tripleo_backup_and_restore_enable_snapshots|bool or not tripleo_backup_and_restore_service_manager|bool tags: - bar_create_recover_image no_log: ""{{ tripleo_backup_and_restore_hide_sensitive_logs | bool }}"" - name: MySQL BBDDs backup shell: | set -o pipefail {{ tripleo_container_cli }} exec {{ tripleo_backup_and_restore_mysql_container }} bash -c ""mysqldump -uroot -p{{ mysql_password.stdout }} --opt --all-databases"" > {{ tripleo_backup_and_restore_mysql_backup_file }} when: - mysql_password.stderr is defined - not enabled_galera tags: - bar_create_recover_image no_log: ""{{ tripleo_backup_and_restore_hide_sensitive_logs | bool }}"" - name: Galera Grants backup shell: | set -o pipefail {{ tripleo_container_cli }} exec {{ tripleo_backup_and_restore_mysql_container }} bash -c ""mysql -uroot \ -p{{ mysql_password.stdout }} -s -N \ -e \""SELECT CONCAT('\\\""SHOW GRANTS FOR ''',user,'''@''',host,''';\\\""') \ FROM mysql.user where (length(user) > 0 and \ (Host = 'localhost' or Host='%' or IS_IPV4(Host) or IS_IPV6(Host)))\"" | xargs -n1 mysql \ -uroot -p{{ mysql_password.stdout }} -s -N -e | sed 's/$/;/' "" > {{ tripleo_backup_and_restore_mysql_grants_file }} when: - mysql_password.stderr is defined - enabled_galera tags: - bar_create_recover_image no_log: ""{{ tripleo_backup_and_restore_hide_sensitive_logs | bool }}"" - name: Galera BBDDs backup shell: | set -o pipefail {{ tripleo_container_cli }} exec {{ tripleo_backup_and_restore_mysql_container }} bash -c ""mysql -uroot \ -p{{ mysql_password.stdout }} -s -N \ -e \""select distinct table_schema from information_schema.tables \ where engine='innodb' and table_schema != 'mysql';\"" | xargs mysqldump -uroot \ -p{{ mysql_password.stdout }} --single-transaction --databases"" > {{ tripleo_backup_and_restore_mysql_backup_file }} when: - mysql_password.stderr is defined - enabled_galera tags: - bar_create_recover_image no_log: ""{{ tripleo_backup_and_restore_hide_sensitive_logs | bool }}"" - name: Galera sync the MySQL node shell: | set -o pipefail {{ tripleo_container_cli }} exec {{ tripleo_backup_and_restore_mysql_container }} bash -c ""mysql -p -u root \ -p{{ mysql_password.stdout }} --execute 'SET GLOBAL wsrep_desync = OFF'"" when: - mysql_password.stderr is defined - enabled_galera - tripleo_backup_and_restore_enable_snapshots|bool or not tripleo_backup_and_restore_service_manager|bool tags: - bar_create_recover_image no_log: ""{{ tripleo_backup_and_restore_hide_sensitive_logs | bool }}"" - name: Pause mysql. command: ""{{ tripleo_container_cli }} pause {{ tripleo_backup_and_restore_mysql_container }}"" when: - mysql_password.stderr is defined - tripleo_backup_and_restore_mysql_container == ""mysql"" - not enabled_galera - tripleo_backup_and_restore_service_manager|bool - not tripleo_backup_and_restore_enable_snapshots|bool tags: - bar_create_recover_image - name: Stop pacemaker command: pcs cluster stop --all when: - enabled_galera - tripleo_backup_and_restore_service_manager|bool - not tripleo_backup_and_restore_enable_snapshots|bool run_once: true tags: - bar_create_recover_image >>>>>>> CHANGE (040fd9 Undercloud mysql database must be idempotent) ",,201,0
openstack%2Fopenstack-helm~master~I976f4b94e8dadcb2a3a34310571c075f7da84edb,openstack/openstack-helm,master,I976f4b94e8dadcb2a3a34310571c075f7da84edb,Remove unnecessary unicode prefixes,MERGED,2022-04-19 07:18:51.000000000,2022-04-19 15:26:25.000000000,2022-04-19 15:24:48.000000000,"[{'_account_id': 8898}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-19 07:18:51.000000000', 'files': ['doc/source/conf.py'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/dab321fced34669851dd05c1cc85c3123d917d48', 'message': 'Remove unnecessary unicode prefixes\n\nAll strings are unicode by default in Python 3. No need to mark them as\nsuch.\n\nChange-Id: I976f4b94e8dadcb2a3a34310571c075f7da84edb\n'}]",0,838443,dab321fced34669851dd05c1cc85c3123d917d48,8,3,1,31412,,,0,"Remove unnecessary unicode prefixes

All strings are unicode by default in Python 3. No need to mark them as
such.

Change-Id: I976f4b94e8dadcb2a3a34310571c075f7da84edb
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/43/838443/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/conf.py'],1,dab321fced34669851dd05c1cc85c3123d917d48,,"project = 'openstack-helm' copyright = '2016-2021, OpenStack Foundation' '%s Documentation' % project, 'OpenStack Foundation', 'manual'),","project = u'openstack-helm' copyright = u'2016-2021, OpenStack Foundation' u'%s Documentation' % project, u'OpenStack Foundation', 'manual'),",4,4
openstack%2Fneutron~stable%2Fxena~If4e7e550fd63414226098af16d1cc155aaa6c57a,openstack/neutron,stable/xena,If4e7e550fd63414226098af16d1cc155aaa6c57a,Also add B324 to bandit skip list for python3.9+,MERGED,2022-04-13 06:18:12.000000000,2022-04-19 15:24:15.000000000,2022-04-19 15:22:30.000000000,"[{'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-13 06:18:12.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/neutron/commit/68e14f0b9974b2e58dc63cebd6b159bf7e972ef9', 'message': 'Also add B324 to bandit skip list for python3.9+\n\nFor Python>=3.9 we also need to skip B324[1] for\nhashlib.sha1 usage. For older python3 versions\nB303[2] was enough.\n\n[1] https://github.com/PyCQA/bandit/commit/c4372a09\n[2] https://review.opendev.org/c/openstack/neutron/+/592884\n\nCloses-Bug: rhbz#2074383\nChange-Id: If4e7e550fd63414226098af16d1cc155aaa6c57a\n(cherry picked from commit 9b66e81d2eea872bee844c0f343bce0238eb5b41)\n'}]",3,837671,68e14f0b9974b2e58dc63cebd6b159bf7e972ef9,12,5,1,13861,,,0,"Also add B324 to bandit skip list for python3.9+

For Python>=3.9 we also need to skip B324[1] for
hashlib.sha1 usage. For older python3 versions
B303[2] was enough.

[1] https://github.com/PyCQA/bandit/commit/c4372a09
[2] https://review.opendev.org/c/openstack/neutron/+/592884

Closes-Bug: rhbz#2074383
Change-Id: If4e7e550fd63414226098af16d1cc155aaa6c57a
(cherry picked from commit 9b66e81d2eea872bee844c0f343bce0238eb5b41)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/71/837671/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,68e14f0b9974b2e58dc63cebd6b159bf7e972ef9,,"# B303: prohibit list calls: md5, sha1 for python<3.9# B324: prohibit list calls: md5, sha1 for python>=3.9commands = bandit -r neutron -x tests -n5 -s B104,B303,B311,B324,B604","# B303: prohibit list calls: md5, sha1commands = bandit -r neutron -x tests -n5 -s B104,B303,B311,B604",3,2
openstack%2Fgovernance-sigs~master~Id72e218709ab2a280e2c6b2aa916fc38230e8017,openstack/governance-sigs,master,Id72e218709ab2a280e2c6b2aa916fc38230e8017,Add Opensearch Dashboard information,MERGED,2022-03-30 14:44:54.000000000,2022-04-19 15:23:14.000000000,2022-04-19 15:21:52.000000000,"[{'_account_id': 5263}, {'_account_id': 8556}, {'_account_id': 11975}, {'_account_id': 15993}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-03-30 14:44:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance-sigs/commit/a7d97c7d08cb9eaf2061e8db11942b13071989bd', 'message': 'Add Opensearch Dashboard information\n\nThis commit is providing information about new Elasticsearch\nservice base on Opensearch project.\n\nThis service is replacing old Elasticsearch service: logstash.openstack.org.\n\nChange-Id: Id72e218709ab2a280e2c6b2aa916fc38230e8017\n'}, {'number': 2, 'created': '2022-04-04 06:23:01.000000000', 'files': ['doc/source/tact-sig.rst'], 'web_link': 'https://opendev.org/openstack/governance-sigs/commit/2702d830f720c994f3ea01c257b924ba2f45329e', 'message': 'Add Opensearch Dashboard information\n\nThis commit is providing information about new Elasticsearch\nservice base on Opensearch project.\n\nThis service is replacing old Elasticsearch service: logstash.openstack.org.\n\nChange-Id: Id72e218709ab2a280e2c6b2aa916fc38230e8017\n'}]",7,835838,2702d830f720c994f3ea01c257b924ba2f45329e,15,5,2,20676,,,0,"Add Opensearch Dashboard information

This commit is providing information about new Elasticsearch
service base on Opensearch project.

This service is replacing old Elasticsearch service: logstash.openstack.org.

Change-Id: Id72e218709ab2a280e2c6b2aa916fc38230e8017
",git fetch https://review.opendev.org/openstack/governance-sigs refs/changes/38/835838/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/tact-sig.rst'],1,a7d97c7d08cb9eaf2061e8db11942b13071989bd,," Opensearch ---------- The Opensearch service is a new version of the `Logstash Openstack <http://logstash.openstack.org/>`_. The service is collecting CI job results in one place, so the developer will be able to filter them by time or other criteria, see simple visualization for most common errors etc. To check the Opensearch service, you need to login with credentials that are described below: * url: https://opensearch.logs.openstack.org/_dashboards/app/discover?security_tenant=global * username: `openstack` * password: `openstack` * tenant: `global`",,17,0
openstack%2Fcharm-guide~master~I6a7747415b9a27b4578919efaeab7c0e1c73cbeb,openstack/charm-guide,master,I6a7747415b9a27b4578919efaeab7c0e1c73cbeb,Add note about using the Operator framework for new charm contribution,MERGED,2022-04-16 13:38:36.000000000,2022-04-19 15:19:01.000000000,2022-04-19 15:17:13.000000000,"[{'_account_id': 22348}, {'_account_id': 30561}]","[{'number': 1, 'created': '2022-04-16 13:38:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/41c26ce1e1b86c0b17db92c3b3980c2887eb1b54', 'message': 'Add note about using the Operator framework for new charm contribution\n\nChange-Id: I6a7747415b9a27b4578919efaeab7c0e1c73cbeb\n'}, {'number': 2, 'created': '2022-04-19 13:56:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/28dccbc3b860640a76f3fbcb7d201b0ef9016513', 'message': 'Add note about using the Operator framework for new charm contribution\n\nChange-Id: I6a7747415b9a27b4578919efaeab7c0e1c73cbeb\n'}, {'number': 3, 'created': '2022-04-19 13:58:25.000000000', 'files': ['doc/source/community/software-contrib/index.rst'], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/c56bddca37c508dc45a7278315c51d26818aa6f8', 'message': 'Add note about using the Operator framework for new charm contribution\n\nChange-Id: I6a7747415b9a27b4578919efaeab7c0e1c73cbeb\n'}]",6,838207,c56bddca37c508dc45a7278315c51d26818aa6f8,11,2,3,34756,,,0,"Add note about using the Operator framework for new charm contribution

Change-Id: I6a7747415b9a27b4578919efaeab7c0e1c73cbeb
",git fetch https://review.opendev.org/openstack/charm-guide refs/changes/07/838207/3 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/community/software-contrib/adding-a-charm.rst'],1,41c26ce1e1b86c0b17db92c3b3980c2887eb1b54,,.. note:: All new charms contributed should be created with the `Operator framework`_. There are more details on how to get a complete development environment setup over in the `Development Setup documentation`_. .. _Development Setup documentation: https://juju.is/docs/sdk/dev-setup,,6,0
openstack%2Fneutron~stable%2Fwallaby~If4e7e550fd63414226098af16d1cc155aaa6c57a,openstack/neutron,stable/wallaby,If4e7e550fd63414226098af16d1cc155aaa6c57a,Also add B324 to bandit skip list for python3.9+,MERGED,2022-04-13 06:18:25.000000000,2022-04-19 15:15:06.000000000,2022-04-19 15:12:04.000000000,"[{'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-13 06:18:25.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/neutron/commit/23116448277405d5f92b00105a666cd1d95e900a', 'message': 'Also add B324 to bandit skip list for python3.9+\n\nFor Python>=3.9 we also need to skip B324[1] for\nhashlib.sha1 usage. For older python3 versions\nB303[2] was enough.\n\n[1] https://github.com/PyCQA/bandit/commit/c4372a09\n[2] https://review.opendev.org/c/openstack/neutron/+/592884\n\nCloses-Bug: rhbz#2074383\nChange-Id: If4e7e550fd63414226098af16d1cc155aaa6c57a\n(cherry picked from commit 9b66e81d2eea872bee844c0f343bce0238eb5b41)\n'}]",3,837672,23116448277405d5f92b00105a666cd1d95e900a,12,5,1,13861,,,0,"Also add B324 to bandit skip list for python3.9+

For Python>=3.9 we also need to skip B324[1] for
hashlib.sha1 usage. For older python3 versions
B303[2] was enough.

[1] https://github.com/PyCQA/bandit/commit/c4372a09
[2] https://review.opendev.org/c/openstack/neutron/+/592884

Closes-Bug: rhbz#2074383
Change-Id: If4e7e550fd63414226098af16d1cc155aaa6c57a
(cherry picked from commit 9b66e81d2eea872bee844c0f343bce0238eb5b41)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/72/837672/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,23116448277405d5f92b00105a666cd1d95e900a,,"# B303: prohibit list calls: md5, sha1 for python<3.9# B324: prohibit list calls: md5, sha1 for python>=3.9commands = bandit -r neutron -x tests -n5 -s B104,B303,B311,B324,B604","# B303: prohibit list calls: md5, sha1commands = bandit -r neutron -x tests -n5 -s B104,B303,B311,B604",3,2
openstack%2Fpuppet-zaqar~stable%2Fussuri~I4f820e5dbe833808fc8ab3147e63983ac9c9e568,openstack/puppet-zaqar,stable/ussuri,I4f820e5dbe833808fc8ab3147e63983ac9c9e568,Ussuri-only: Remove TripleO job,MERGED,2022-04-06 12:11:01.000000000,2022-04-19 15:15:01.000000000,2022-04-19 15:15:01.000000000,"[{'_account_id': 8449}, {'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-06 12:11:01.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-zaqar/commit/53b6dbff351acf1ebc5745898c09e47333389ea3', 'message': 'Ussuri-only: Remove TripleO job\n\n... because TipleO project has decided to EOL Ussuri[1].\n\n[1] https://review.opendev.org/c/openstack/releases/+/834049\n\nChange-Id: I4f820e5dbe833808fc8ab3147e63983ac9c9e568\n'}]",1,836815,53b6dbff351acf1ebc5745898c09e47333389ea3,13,3,1,9816,,,0,"Ussuri-only: Remove TripleO job

... because TipleO project has decided to EOL Ussuri[1].

[1] https://review.opendev.org/c/openstack/releases/+/834049

Change-Id: I4f820e5dbe833808fc8ab3147e63983ac9c9e568
",git fetch https://review.opendev.org/openstack/puppet-zaqar refs/changes/15/836815/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,53b6dbff351acf1ebc5745898c09e47333389ea3,tripleo_ussuri_teardown,, - tripleo-puppet-undercloud,0,1
openstack%2Fpuppet-openstacklib~stable%2Fussuri~I729ada56f78ffae2f47791f35163d06ddc55bbb5,openstack/puppet-openstacklib,stable/ussuri,I729ada56f78ffae2f47791f35163d06ddc55bbb5,Ussuri-only: Remove TripleO job,MERGED,2022-04-06 12:09:35.000000000,2022-04-19 15:13:36.000000000,2022-04-19 15:13:36.000000000,"[{'_account_id': 8449}, {'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-06 12:09:35.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-openstacklib/commit/63e359e77cafec92fb3cca9d2b68eb553b7f50c4', 'message': 'Ussuri-only: Remove TripleO job\n\n... because TipleO project has decided to EOL Ussuri[1].\n\n[1] https://review.opendev.org/c/openstack/releases/+/834049\n\nChange-Id: I729ada56f78ffae2f47791f35163d06ddc55bbb5\n'}]",1,836813,63e359e77cafec92fb3cca9d2b68eb553b7f50c4,13,3,1,9816,,,0,"Ussuri-only: Remove TripleO job

... because TipleO project has decided to EOL Ussuri[1].

[1] https://review.opendev.org/c/openstack/releases/+/834049

Change-Id: I729ada56f78ffae2f47791f35163d06ddc55bbb5
",git fetch https://review.opendev.org/openstack/puppet-openstacklib refs/changes/13/836813/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,63e359e77cafec92fb3cca9d2b68eb553b7f50c4,tripleo_ussuri_teardown,, check: jobs: - puppet-openstacklib-tripleo-standalone gate: jobs: - puppet-openstacklib-tripleo-standalone - job: name: puppet-openstacklib-tripleo-standalone parent: tripleo-puppet-ci-centos-8-standalone description: | TripleO standalone Job running basic tests vars: build_container_images: true featureset_override: run_tempest: false tempest_test_whitelist: - 'tempest.scenario.test_server_basic_ops' use_os_tempest: true,0,19
openstack%2Fcharm-guide~master~I8907d504a3b73474b5a39956681a34198df25041,openstack/charm-guide,master,I8907d504a3b73474b5a39956681a34198df25041,Add new stuff for ceph-osd charm,MERGED,2022-04-18 17:15:55.000000000,2022-04-19 15:11:39.000000000,2022-04-19 15:10:04.000000000,"[{'_account_id': 22348}, {'_account_id': 30561}]","[{'number': 1, 'created': '2022-04-18 17:15:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/dc7d6789d59c880eacd7659f69ec3913dcc87267', 'message': 'Add new stuff for ceph-osd charm\n\nThis patchset updates the release notes to include the changes that\nwere applied to the ceph-osd charm.\n\nChange-Id: I8907d504a3b73474b5a39956681a34198df25041\n'}, {'number': 2, 'created': '2022-04-19 14:13:50.000000000', 'files': ['doc/source/release-notes/2204.rst'], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/79c244f4d0d78a84c03a10b2b41d4a21ee3a3ee9', 'message': 'Add new stuff for ceph-osd charm\n\nThis patchset updates the release notes to include the changes that\nwere applied to the ceph-osd charm.\n\nChange-Id: I8907d504a3b73474b5a39956681a34198df25041\n'}]",2,838328,79c244f4d0d78a84c03a10b2b41d4a21ee3a3ee9,12,2,2,33717,,,0,"Add new stuff for ceph-osd charm

This patchset updates the release notes to include the changes that
were applied to the ceph-osd charm.

Change-Id: I8907d504a3b73474b5a39956681a34198df25041
",git fetch https://review.opendev.org/openstack/charm-guide refs/changes/28/838328/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/release-notes/2204.rst'],1,dc7d6789d59c880eacd7659f69ec3913dcc87267,ceph-osd-updates,ceph-osd: new options for disk creation ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ The ``add-disk`` action for the ``ceph-osd`` charm has incorporated the following options: * ``osd-ids`` * ``cache-devices`` * ``partition-size`` ceph-osd: new action to remove disks ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ The ceph-osd charm has a new ``remove-disk`` action. This action allows operator to remove previously created disks. ,,16,0
openstack%2Fcharm-barbican~stable%2Fyoga~I54a885b9882181f516632d498bf63449b3f61e37,openstack/charm-barbican,stable/yoga,I54a885b9882181f516632d498bf63449b3f61e37,Updates for stable branch creation,MERGED,2022-04-15 10:42:21.000000000,2022-04-19 15:09:55.000000000,2022-04-19 15:09:55.000000000,"[{'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-15 10:42:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-barbican/commit/5b03309fc52270a1abe7a6e2ab9744847600447d', 'message': 'Updates for stable branch creation\n\n- Set default branch for git review/gerrit.\n- Switch tests to stable.\n- Switch to using stable charm-helpers branch.\n- Switch to using stable charm.openstack branch.\n- Switch to using stable zaza, zaza-openstack-tests\n  branch\n- (reactive charms) Add build.lock file\n\nChange-Id: I54a885b9882181f516632d498bf63449b3f61e37\n'}, {'number': 2, 'created': '2022-04-19 06:43:12.000000000', 'files': ['.gitreview', 'test-requirements.txt', 'src/wheelhouse.txt', 'src/test-requirements.txt', 'src/build.lock'], 'web_link': 'https://opendev.org/openstack/charm-barbican/commit/4a6c6be2bfbc3d5fedc0673ad47aa7feff957a10', 'message': 'Updates for stable branch creation\n\n- Set default branch for git review/gerrit.\n- Switch tests to stable.\n- Switch to using stable charm-helpers branch.\n- Switch to using stable charm.openstack branch.\n- Switch to using stable zaza, zaza-openstack-tests\n  branch\n- (reactive charms) Add build.lock file\n\nChange-Id: I54a885b9882181f516632d498bf63449b3f61e37\n'}]",4,838113,4a6c6be2bfbc3d5fedc0673ad47aa7feff957a10,17,3,2,20870,,,0,"Updates for stable branch creation

- Set default branch for git review/gerrit.
- Switch tests to stable.
- Switch to using stable charm-helpers branch.
- Switch to using stable charm.openstack branch.
- Switch to using stable zaza, zaza-openstack-tests
  branch
- (reactive charms) Add build.lock file

Change-Id: I54a885b9882181f516632d498bf63449b3f61e37
",git fetch https://review.opendev.org/openstack/charm-barbican refs/changes/13/838113/1 && git format-patch -1 --stdout FETCH_HEAD,"['barbican.charm', '.gitreview', 'test-requirements.txt', 'src/wheelhouse.txt', 'src/test-requirements.txt', 'src/build.lock']",6,5b03309fc52270a1abe7a6e2ab9744847600447d,charm-release-2204,"{ ""locks"": [ { ""type"": ""layer"", ""item"": ""layer:leadership"", ""url"": ""https://git.launchpad.net/layer-leadership"", ""vcs"": null, ""branch"": ""refs/heads/master"", ""commit"": ""cc5bd3f49b2fa5e6c3ab2336763c313ec8bf083f"" }, { ""type"": ""layer"", ""item"": ""layer:options"", ""url"": ""https://github.com/juju-solutions/layer-options.git"", ""vcs"": null, ""branch"": ""refs/heads/master"", ""commit"": ""fcdcea4e5de3e1556c24e6704607862d0ba00a56"" }, { ""type"": ""layer"", ""item"": ""layer:basic"", ""url"": ""https://github.com/juju-solutions/layer-basic.git"", ""vcs"": null, ""branch"": ""refs/heads/master"", ""commit"": ""fb767dcf0786d1d5364199bb3b40bdc86518b45b"" }, { ""type"": ""layer"", ""item"": ""layer:openstack"", ""url"": ""https://github.com/openstack/charm-layer-openstack"", ""vcs"": null, ""branch"": ""refs/heads/master"", ""commit"": ""e0f700eacb026235e1a04e7cbc28dfbe9d4e4520"" }, { ""type"": ""layer"", ""item"": ""layer:openstack-principle"", ""url"": ""https://github.com/openstack/charm-layer-openstack-principle"", ""vcs"": null, ""branch"": ""refs/heads/master"", ""commit"": ""2541283a7f9c3fa923c0fccd7257e217e11dadcd"" }, { ""type"": ""layer"", ""item"": ""layer:openstack-api"", ""url"": ""https://github.com/openstack/charm-layer-openstack-api"", ""vcs"": null, ""branch"": ""refs/heads/master"", ""commit"": ""34311a62e963d0ce903b7ddb9d70b8f071f71651"" }, { ""type"": ""layer"", ""item"": ""barbican"", ""url"": null, ""vcs"": null, ""branch"": ""refs/heads/stable/yoga\nrefs/heads/yoga-updates"", ""commit"": ""refs/heads/stable/yoga\nrefs/heads/yoga-updates"" }, { ""type"": ""layer"", ""item"": ""interface:tls-certificates"", ""url"": ""https://github.com/juju-solutions/interface-tls-certificates"", ""vcs"": null, ""branch"": ""refs/heads/master"", ""commit"": ""d9850016d930a6d507b9fd45e2598d327922b140"" }, { ""type"": ""layer"", ""item"": ""interface:mysql-shared"", ""url"": ""https://github.com/openstack/charm-interface-mysql-shared"", ""vcs"": null, ""branch"": ""refs/heads/master"", ""commit"": ""f90f8c6edce21e4da3a872f0f9d6761730ce025d"" }, { ""type"": ""layer"", ""item"": ""interface:rabbitmq"", ""url"": ""https://github.com/openstack/charm-interface-rabbitmq"", ""vcs"": null, ""branch"": ""refs/heads/master"", ""commit"": ""383121fc584d2d3bf9d233eba0d3708398a4c468"" }, { ""type"": ""layer"", ""item"": ""interface:keystone"", ""url"": ""https://github.com/openstack/charm-interface-keystone"", ""vcs"": null, ""branch"": ""refs/heads/master"", ""commit"": ""501af18b3036f5af92990bc39e750e76e393e5eb"" }, { ""type"": ""layer"", ""item"": ""interface:hacluster"", ""url"": ""https://github.com/openstack/charm-interface-hacluster.git"", ""vcs"": null, ""branch"": ""refs/heads/master"", ""commit"": ""2b714e90b1b8845ce7390bb1dad5a56a65437907"" }, { ""type"": ""layer"", ""item"": ""interface:openstack-ha"", ""url"": ""https://github.com/openstack/charm-interface-openstack-ha"", ""vcs"": null, ""branch"": ""refs/heads/master"", ""commit"": ""a3b00e5b5fd857d130698c5cfe4b918877f0ab80"" }, { ""type"": ""layer"", ""item"": ""interface:barbican-hsm"", ""url"": ""https://opendev.org/x/charm-interface-barbican-hsm"", ""vcs"": null, ""branch"": ""refs/heads/master"", ""commit"": ""a2705db6a534bdc61bfac2b69f539ead165da4b9"" }, { ""type"": ""layer"", ""item"": ""interface:barbican-secrets"", ""url"": ""https://github.com/openstack/charm-interface-barbican-secrets.git"", ""vcs"": null, ""branch"": ""refs/heads/master"", ""commit"": ""4cae88ff57db96b9394bf6b70982a5ff4ee8bcef"" }, { ""type"": ""python_module"", ""package"": ""MarkupSafe"", ""vcs"": null, ""version"": ""2.1.1"" }, { ""type"": ""python_module"", ""package"": ""pyaml"", ""vcs"": null, ""version"": ""21.10.1"" }, { ""type"": ""python_module"", ""package"": ""packaging"", ""vcs"": null, ""version"": ""21.3"" }, { ""type"": ""python_module"", ""package"": ""pyparsing"", ""vcs"": null, ""version"": ""3.0.8"" }, { ""type"": ""python_module"", ""package"": ""netaddr"", ""vcs"": null, ""version"": ""0.7.19"" }, { ""type"": ""python_module"", ""package"": ""Jinja2"", ""vcs"": null, ""version"": ""3.1.1"" }, { ""type"": ""python_module"", ""package"": ""charms.openstack"", ""url"": ""git+https://github.com/openstack/charms.openstack.git"", ""branch"": ""refs/heads/stable/yoga"", ""version"": ""13ef220ce3529fa7b8e11c6e4c5b352d05b6f148"", ""vcs"": ""git"" }, { ""type"": ""python_module"", ""package"": ""charmhelpers"", ""url"": ""git+https://github.com/juju/charm-helpers.git"", ""branch"": ""refs/heads/stable/yoga"", ""version"": ""971ac5117c96bd1cb4a6a520787e4509564da582"", ""vcs"": ""git"" }, { ""type"": ""python_module"", ""package"": ""pip"", ""vcs"": null, ""version"": ""22.0.4"" }, { ""type"": ""python_module"", ""package"": ""PyYAML"", ""vcs"": null, ""version"": ""5.3.1"" }, { ""type"": ""python_module"", ""package"": ""psutil"", ""vcs"": null, ""version"": ""5.9.0"" }, { ""type"": ""python_module"", ""package"": ""flit_core"", ""vcs"": null, ""version"": ""3.7.1"" }, { ""type"": ""python_module"", ""package"": ""setuptools_scm"", ""vcs"": null, ""version"": ""6.4.2"" }, { ""type"": ""python_module"", ""package"": ""setuptools"", ""vcs"": null, ""version"": ""62.1.0"" }, { ""type"": ""python_module"", ""package"": ""pbr"", ""vcs"": null, ""version"": ""5.8.1"" }, { ""type"": ""python_module"", ""package"": ""wheel"", ""vcs"": null, ""version"": ""0.37.1"" }, { ""type"": ""python_module"", ""package"": ""charms.reactive"", ""vcs"": null, ""version"": ""1.5.0"" }, { ""type"": ""python_module"", ""package"": ""dnspython"", ""vcs"": null, ""version"": ""1.16.0"" }, { ""type"": ""python_module"", ""package"": ""tomli"", ""vcs"": null, ""version"": ""2.0.1"" }, { ""type"": ""python_module"", ""package"": ""netifaces"", ""vcs"": null, ""version"": ""0.11.0"" }, { ""type"": ""python_module"", ""package"": ""Tempita"", ""vcs"": null, ""version"": ""0.4"" } ] }",,261,5
openstack%2Fcharm-keystone-ldap~stable%2Fyoga~Ic8f61ee4c12ea09c28170737e279fd0e58685bf4,openstack/charm-keystone-ldap,stable/yoga,Ic8f61ee4c12ea09c28170737e279fd0e58685bf4,Updates for stable branch creation,MERGED,2022-04-15 10:49:04.000000000,2022-04-19 15:09:20.000000000,2022-04-19 15:09:20.000000000,"[{'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-15 10:49:04.000000000', 'files': ['.gitreview', 'test-requirements.txt', 'src/wheelhouse.txt', 'src/test-requirements.txt', 'src/build.lock'], 'web_link': 'https://opendev.org/openstack/charm-keystone-ldap/commit/162d171a394fae789b5f38814d64b53f1708fb13', 'message': 'Updates for stable branch creation\n\n- Set default branch for git review/gerrit.\n- Switch tests to stable.\n- Switch to using stable charm-helpers branch.\n- Switch to using stable charm.openstack branch.\n- Switch to using stable zaza, zaza-openstack-tests\n  branch\n- (reactive charms) Add build.lock file\n\nChange-Id: Ic8f61ee4c12ea09c28170737e279fd0e58685bf4\n'}]",2,838135,162d171a394fae789b5f38814d64b53f1708fb13,11,3,1,20870,,,0,"Updates for stable branch creation

- Set default branch for git review/gerrit.
- Switch tests to stable.
- Switch to using stable charm-helpers branch.
- Switch to using stable charm.openstack branch.
- Switch to using stable zaza, zaza-openstack-tests
  branch
- (reactive charms) Add build.lock file

Change-Id: Ic8f61ee4c12ea09c28170737e279fd0e58685bf4
",git fetch https://review.opendev.org/openstack/charm-keystone-ldap refs/changes/35/838135/1 && git format-patch -1 --stdout FETCH_HEAD,"['.gitreview', 'test-requirements.txt', 'src/wheelhouse.txt', 'src/test-requirements.txt', 'src/build.lock']",5,162d171a394fae789b5f38814d64b53f1708fb13,charm-release-2204,"{ ""locks"": [ { ""type"": ""layer"", ""item"": ""layer:options"", ""url"": ""https://github.com/juju-solutions/layer-options.git"", ""vcs"": null, ""branch"": ""refs/heads/master"", ""commit"": ""fcdcea4e5de3e1556c24e6704607862d0ba00a56"" }, { ""type"": ""layer"", ""item"": ""layer:basic"", ""url"": ""https://github.com/juju-solutions/layer-basic.git"", ""vcs"": null, ""branch"": ""refs/heads/master"", ""commit"": ""fb767dcf0786d1d5364199bb3b40bdc86518b45b"" }, { ""type"": ""layer"", ""item"": ""layer:openstack"", ""url"": ""https://github.com/openstack/charm-layer-openstack"", ""vcs"": null, ""branch"": ""refs/heads/master"", ""commit"": ""e0f700eacb026235e1a04e7cbc28dfbe9d4e4520"" }, { ""type"": ""layer"", ""item"": ""keystone-ldap"", ""url"": null, ""vcs"": null, ""branch"": ""refs/heads/stable/yoga\nrefs/heads/yoga-updates"", ""commit"": ""refs/heads/stable/yoga\nrefs/heads/yoga-updates"" }, { ""type"": ""layer"", ""item"": ""interface:tls-certificates"", ""url"": ""https://github.com/juju-solutions/interface-tls-certificates"", ""vcs"": null, ""branch"": ""refs/heads/master"", ""commit"": ""d9850016d930a6d507b9fd45e2598d327922b140"" }, { ""type"": ""layer"", ""item"": ""interface:keystone-domain-backend"", ""url"": ""https://github.com/openstack/charm-interface-keystone-domain-backend"", ""vcs"": null, ""branch"": ""refs/heads/master"", ""commit"": ""18893a5c3803517fa0ce4c5fd790b01e987cd0eb"" }, { ""type"": ""layer"", ""item"": ""interface:juju-info"", ""url"": ""https://github.com/juju-solutions/interface-juju-info.git"", ""vcs"": null, ""branch"": ""refs/heads/master"", ""commit"": ""4e2f90052b3c02031d09f10900c9e9cb22565dee"" }, { ""type"": ""python_module"", ""package"": ""dnspython"", ""vcs"": null, ""version"": ""1.16.0"" }, { ""type"": ""python_module"", ""package"": ""setuptools_scm"", ""vcs"": null, ""version"": ""6.4.2"" }, { ""type"": ""python_module"", ""package"": ""netifaces"", ""vcs"": null, ""version"": ""0.11.0"" }, { ""type"": ""python_module"", ""package"": ""Tempita"", ""vcs"": null, ""version"": ""0.4"" }, { ""type"": ""python_module"", ""package"": ""netaddr"", ""vcs"": null, ""version"": ""0.7.19"" }, { ""type"": ""python_module"", ""package"": ""tomli"", ""vcs"": null, ""version"": ""2.0.1"" }, { ""type"": ""python_module"", ""package"": ""charms.openstack"", ""url"": ""git+https://github.com/openstack/charms.openstack.git"", ""branch"": ""refs/heads/stable/yoga"", ""version"": ""13ef220ce3529fa7b8e11c6e4c5b352d05b6f148"", ""vcs"": ""git"" }, { ""type"": ""python_module"", ""package"": ""psutil"", ""vcs"": null, ""version"": ""5.9.0"" }, { ""type"": ""python_module"", ""package"": ""PyYAML"", ""vcs"": null, ""version"": ""5.3.1"" }, { ""type"": ""python_module"", ""package"": ""charmhelpers"", ""url"": ""git+https://github.com/juju/charm-helpers.git"", ""branch"": ""refs/heads/stable/yoga"", ""version"": ""971ac5117c96bd1cb4a6a520787e4509564da582"", ""vcs"": ""git"" }, { ""type"": ""python_module"", ""package"": ""packaging"", ""vcs"": null, ""version"": ""21.3"" }, { ""type"": ""python_module"", ""package"": ""pbr"", ""vcs"": null, ""version"": ""5.8.1"" }, { ""type"": ""python_module"", ""package"": ""Jinja2"", ""vcs"": null, ""version"": ""3.1.1"" }, { ""type"": ""python_module"", ""package"": ""flit_core"", ""vcs"": null, ""version"": ""3.7.1"" }, { ""type"": ""python_module"", ""package"": ""pyparsing"", ""vcs"": null, ""version"": ""3.0.8"" }, { ""type"": ""python_module"", ""package"": ""setuptools"", ""vcs"": null, ""version"": ""62.1.0"" }, { ""type"": ""python_module"", ""package"": ""pip"", ""vcs"": null, ""version"": ""22.0.4"" }, { ""type"": ""python_module"", ""package"": ""MarkupSafe"", ""vcs"": null, ""version"": ""2.1.1"" }, { ""type"": ""python_module"", ""package"": ""pyaml"", ""vcs"": null, ""version"": ""21.10.1"" }, { ""type"": ""python_module"", ""package"": ""charms.reactive"", ""vcs"": null, ""version"": ""1.5.0"" }, { ""type"": ""python_module"", ""package"": ""wheel"", ""vcs"": null, ""version"": ""0.37.1"" } ] }",,197,5
openstack%2Fpuppet-glance~stable%2Fussuri~Iea8f9afa30ef469af4437df3d8852b2d78c45970,openstack/puppet-glance,stable/ussuri,Iea8f9afa30ef469af4437df3d8852b2d78c45970,Ussuri-only: Remove TripleO job,MERGED,2022-04-06 12:05:56.000000000,2022-04-19 15:05:18.000000000,2022-04-19 15:05:18.000000000,"[{'_account_id': 8449}, {'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-06 12:05:56.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/7acc7fb7e48351afae7b8b1203bb5ab6f20bae24', 'message': 'Ussuri-only: Remove TripleO job\n\n... because TipleO project has decided to EOL Ussuri[1].\n\n[1] https://review.opendev.org/c/openstack/releases/+/834049\n\nChange-Id: Iea8f9afa30ef469af4437df3d8852b2d78c45970\n'}]",2,836806,7acc7fb7e48351afae7b8b1203bb5ab6f20bae24,15,3,1,9816,,,0,"Ussuri-only: Remove TripleO job

... because TipleO project has decided to EOL Ussuri[1].

[1] https://review.opendev.org/c/openstack/releases/+/834049

Change-Id: Iea8f9afa30ef469af4437df3d8852b2d78c45970
",git fetch https://review.opendev.org/openstack/puppet-glance refs/changes/06/836806/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,7acc7fb7e48351afae7b8b1203bb5ab6f20bae24,tripleo_ussuri_teardown,, - tripleo-puppet-undercloud check: jobs: - puppet-glance-tripleo-standalone gate: jobs: - puppet-glance-tripleo-standalone - job: name: puppet-glance-tripleo-standalone parent: tripleo-puppet-ci-centos-8-standalone description: | TripleO standalone Job running Glance specific Tempest tests. vars: consumer_job: true build_container_images: false remove_tags: - build featureset_override: run_tempest: false tempest_test_whitelist: - 'tempest.scenario.test_server_basic_ops' use_os_tempest: true dependencies: - tripleo-puppet-ci-centos-8-content-provider,0,25
openstack%2Fpuppet-neutron~stable%2Fussuri~I4affe3fa7f75bd5f7e3820c9135b244a96c366ab,openstack/puppet-neutron,stable/ussuri,I4affe3fa7f75bd5f7e3820c9135b244a96c366ab,Ussuri-only: Remove TripleO job,MERGED,2022-04-06 12:08:41.000000000,2022-04-19 15:03:42.000000000,2022-04-19 15:03:42.000000000,"[{'_account_id': 8449}, {'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-06 12:08:41.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/8f1d0cfcd64c07597a6d57ce4f0782760e266ad0', 'message': 'Ussuri-only: Remove TripleO job\n\n... because TipleO project has decided to EOL Ussuri[1].\n\n[1] https://review.opendev.org/c/openstack/releases/+/834049\n\nChange-Id: I4affe3fa7f75bd5f7e3820c9135b244a96c366ab\n'}]",1,836811,8f1d0cfcd64c07597a6d57ce4f0782760e266ad0,13,3,1,9816,,,0,"Ussuri-only: Remove TripleO job

... because TipleO project has decided to EOL Ussuri[1].

[1] https://review.opendev.org/c/openstack/releases/+/834049

Change-Id: I4affe3fa7f75bd5f7e3820c9135b244a96c366ab
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/11/836811/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,8f1d0cfcd64c07597a6d57ce4f0782760e266ad0,tripleo_ussuri_teardown,, check: jobs: - puppet-neutron-tripleo-standalone gate: jobs: - puppet-neutron-tripleo-standalone - job: name: puppet-neutron-tripleo-standalone parent: tripleo-puppet-ci-centos-8-standalone description: | TripleO standalone Job running Neutron specific Tempest tests. vars: build_container_images: true featureset_override: run_tempest: false tempest_test_whitelist: - 'tempest.scenario.test_network_basic_ops.TestNetworkBasicOps.test_network_basic_ops' use_os_tempest: true,0,19
openstack%2Fpuppet-heat~stable%2Fussuri~I03bdbc5aa96db31ea9383239fe2f2f753939b550,openstack/puppet-heat,stable/ussuri,I03bdbc5aa96db31ea9383239fe2f2f753939b550,Ussuri-only: Remove TripleO job,MERGED,2022-04-06 12:06:24.000000000,2022-04-19 14:58:01.000000000,2022-04-19 14:58:01.000000000,"[{'_account_id': 8449}, {'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-06 12:06:24.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-heat/commit/f4aed3339e69ce825c9c564da8c3ad4e10fbd0f6', 'message': 'Ussuri-only: Remove TripleO job\n\n... because TipleO project has decided to EOL Ussuri[1].\n\n[1] https://review.opendev.org/c/openstack/releases/+/834049\n\nChange-Id: I03bdbc5aa96db31ea9383239fe2f2f753939b550\n'}]",1,836807,f4aed3339e69ce825c9c564da8c3ad4e10fbd0f6,15,3,1,9816,,,0,"Ussuri-only: Remove TripleO job

... because TipleO project has decided to EOL Ussuri[1].

[1] https://review.opendev.org/c/openstack/releases/+/834049

Change-Id: I03bdbc5aa96db31ea9383239fe2f2f753939b550
",git fetch https://review.opendev.org/openstack/puppet-heat refs/changes/07/836807/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,f4aed3339e69ce825c9c564da8c3ad4e10fbd0f6,tripleo_ussuri_teardown,, - tripleo-puppet-undercloud,0,1
openstack%2Fpuppet-nova~stable%2Fussuri~Ib4676f1207edaf5fc799a8e8b6d6b55eb5547b71,openstack/puppet-nova,stable/ussuri,Ib4676f1207edaf5fc799a8e8b6d6b55eb5547b71,Ussuri-only: Remove TripleO job,MERGED,2022-04-06 12:09:09.000000000,2022-04-19 14:56:44.000000000,2022-04-19 14:56:44.000000000,"[{'_account_id': 8449}, {'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-06 12:09:09.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/c2aeb24c433ba5d28aec21c132c5bd1cb298369c', 'message': 'Ussuri-only: Remove TripleO job\n\n... because TipleO project has decided to EOL Ussuri[1].\n\n[1] https://review.opendev.org/c/openstack/releases/+/834049\n\nChange-Id: Ib4676f1207edaf5fc799a8e8b6d6b55eb5547b71\n'}]",1,836812,c2aeb24c433ba5d28aec21c132c5bd1cb298369c,13,3,1,9816,,,0,"Ussuri-only: Remove TripleO job

... because TipleO project has decided to EOL Ussuri[1].

[1] https://review.opendev.org/c/openstack/releases/+/834049

Change-Id: Ib4676f1207edaf5fc799a8e8b6d6b55eb5547b71
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/12/836812/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,c2aeb24c433ba5d28aec21c132c5bd1cb298369c,tripleo_ussuri_teardown,, check: jobs: - puppet-nova-tripleo-standalone gate: jobs: - puppet-nova-tripleo-standalone - job: name: puppet-nova-tripleo-standalone parent: tripleo-puppet-ci-centos-8-standalone description: | TripleO standalone Job running Nova specific Tempest tests. vars: build_container_images: true featureset_override: run_tempest: false tempest_test_whitelist: - 'tempest.scenario.test_server_basic_ops' use_os_tempest: true,0,19
openstack%2Fopenstack-ansible~master~I6f19f12e2e454dce6f6413897fc3e9b67698b26a,openstack/openstack-ansible,master,I6f19f12e2e454dce6f6413897fc3e9b67698b26a,Disable the default_bind_mount_logs,ABANDONED,2022-04-19 12:05:15.000000000,2022-04-19 14:55:59.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-04-19 12:05:15.000000000', 'files': ['inventory/group_vars/all/all.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/842e16513d3142e6095c0248ef6f3b49fa05f10d', 'message': 'Disable the default_bind_mount_logs\n\nThis dir was used for syslog and is not make sense anymore.\nAlso setting default_bind_mount_logs to true will cause mount issues for lxc containers.\n\nwe also should offer a solution for existing deployments. some containers may need to get restarted after removing /var/log mount entry.\n\nChange-Id: I6f19f12e2e454dce6f6413897fc3e9b67698b26a\n'}]",0,838501,842e16513d3142e6095c0248ef6f3b49fa05f10d,3,1,1,29605,,,0,"Disable the default_bind_mount_logs

This dir was used for syslog and is not make sense anymore.
Also setting default_bind_mount_logs to true will cause mount issues for lxc containers.

we also should offer a solution for existing deployments. some containers may need to get restarted after removing /var/log mount entry.

Change-Id: I6f19f12e2e454dce6f6413897fc3e9b67698b26a
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/01/838501/1 && git format-patch -1 --stdout FETCH_HEAD,['inventory/group_vars/all/all.yml'],1,842e16513d3142e6095c0248ef6f3b49fa05f10d,,default_bind_mount_logs: False,default_bind_mount_logs: true,1,1
openstack%2Fpuppet-swift~stable%2Fussuri~If145e4d5a4fedcbca2c5972a161fc6eb7594141a,openstack/puppet-swift,stable/ussuri,If145e4d5a4fedcbca2c5972a161fc6eb7594141a,Ussuri-only: Remove TripleO job,MERGED,2022-04-06 12:10:39.000000000,2022-04-19 14:55:27.000000000,2022-04-19 14:55:27.000000000,"[{'_account_id': 8449}, {'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-06 12:10:39.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/4c723fe0b07d74eb9aed1a433fc54b318ea5f249', 'message': 'Ussuri-only: Remove TripleO job\n\n... because TipleO project has decided to EOL Ussuri[1].\n\n[1] https://review.opendev.org/c/openstack/releases/+/834049\n\nChange-Id: If145e4d5a4fedcbca2c5972a161fc6eb7594141a\n'}]",1,836814,4c723fe0b07d74eb9aed1a433fc54b318ea5f249,13,3,1,9816,,,0,"Ussuri-only: Remove TripleO job

... because TipleO project has decided to EOL Ussuri[1].

[1] https://review.opendev.org/c/openstack/releases/+/834049

Change-Id: If145e4d5a4fedcbca2c5972a161fc6eb7594141a
",git fetch https://review.opendev.org/openstack/puppet-swift refs/changes/14/836814/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,4c723fe0b07d74eb9aed1a433fc54b318ea5f249,tripleo_ussuri_teardown,, - tripleo-puppet-undercloud check: jobs: - puppet-swift-tripleo-standalone gate: jobs: - puppet-swift-tripleo-standalone - job: name: puppet-swift-tripleo-standalone parent: tripleo-puppet-ci-centos-8-standalone description: | TripleO standalone Job running Object Storage specific Tempest tests. vars: consumer_job: true build_container_images: false remove_tags: - build featureset_override: run_tempest: false tempest_test_whitelist: - 'tempest.api.object_storage.test_object_services.ObjectTest' use_os_tempest: true dependencies: - tripleo-puppet-ci-centos-8-content-provider,0,25
openstack%2Fpuppet-horizon~stable%2Fussuri~Icb6cbda77f2a971af0ae6c430190eddf0aee03a9,openstack/puppet-horizon,stable/ussuri,Icb6cbda77f2a971af0ae6c430190eddf0aee03a9,Ussuri-only: Remove TripleO job,MERGED,2022-04-06 12:12:50.000000000,2022-04-19 14:55:25.000000000,2022-04-19 14:55:25.000000000,"[{'_account_id': 8449}, {'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-06 12:12:50.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/a00e42694c37d9cd9372712a0f74367c8fe6ca23', 'message': 'Ussuri-only: Remove TripleO job\n\n... because TipleO project has decided to EOL Ussuri[1].\n\n[1] https://review.opendev.org/c/openstack/releases/+/834049\n\nChange-Id: Icb6cbda77f2a971af0ae6c430190eddf0aee03a9\n'}]",1,836816,a00e42694c37d9cd9372712a0f74367c8fe6ca23,13,3,1,9816,,,0,"Ussuri-only: Remove TripleO job

... because TipleO project has decided to EOL Ussuri[1].

[1] https://review.opendev.org/c/openstack/releases/+/834049

Change-Id: Icb6cbda77f2a971af0ae6c430190eddf0aee03a9
",git fetch https://review.opendev.org/openstack/puppet-horizon refs/changes/16/836816/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,a00e42694c37d9cd9372712a0f74367c8fe6ca23,tripleo_ussuri_teardown,, check: jobs: - puppet-horizon-tripleo-standalone gate: jobs: - puppet-horizon-tripleo-standalone - job: name: puppet-horizon-tripleo-standalone parent: tripleo-puppet-ci-centos-8-standalone description: | TripleO standalone Job running Horizon specific Tempest tests. vars: build_container_images: true featureset_override: run_tempest: false tempest_services: - horizon tempest_test_whitelist: - 'horizon' use_os_tempest: true,0,21
openstack%2Fpuppet-mistral~stable%2Fussuri~Iee0da55677a35a4f76762e21435cd7c1dad81eb2,openstack/puppet-mistral,stable/ussuri,Iee0da55677a35a4f76762e21435cd7c1dad81eb2,Ussuri-only: Remove TripleO job,MERGED,2022-04-06 12:08:13.000000000,2022-04-19 14:54:15.000000000,2022-04-19 14:54:15.000000000,"[{'_account_id': 8449}, {'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-06 12:08:13.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-mistral/commit/7ea82576cda761a97ccbfa906705841333ddfbb1', 'message': 'Ussuri-only: Remove TripleO job\n\n... because TipleO project has decided to EOL Ussuri[1].\n\n[1] https://review.opendev.org/c/openstack/releases/+/834049\n\nChange-Id: Iee0da55677a35a4f76762e21435cd7c1dad81eb2\n'}]",1,836810,7ea82576cda761a97ccbfa906705841333ddfbb1,13,3,1,9816,,,0,"Ussuri-only: Remove TripleO job

... because TipleO project has decided to EOL Ussuri[1].

[1] https://review.opendev.org/c/openstack/releases/+/834049

Change-Id: Iee0da55677a35a4f76762e21435cd7c1dad81eb2
",git fetch https://review.opendev.org/openstack/puppet-mistral refs/changes/10/836810/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,7ea82576cda761a97ccbfa906705841333ddfbb1,tripleo_ussuri_teardown,, - tripleo-puppet-undercloud,0,1
openstack%2Fpuppet-keystone~stable%2Fussuri~I4d58ded3b3ba6ee06bfca030c842d9bd0ea21b23,openstack/puppet-keystone,stable/ussuri,I4d58ded3b3ba6ee06bfca030c842d9bd0ea21b23,Ussuri-only: Remove TripleO job,MERGED,2022-04-06 12:07:17.000000000,2022-04-19 14:53:52.000000000,2022-04-19 14:53:52.000000000,"[{'_account_id': 8449}, {'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-06 12:07:17.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/67209a1af0b33f57f540d8482f7f9e555697266e', 'message': 'Ussuri-only: Remove TripleO job\n\n... because TipleO project has decided to EOL Ussuri[1].\n\n[1] https://review.opendev.org/c/openstack/releases/+/834049\n\nChange-Id: I4d58ded3b3ba6ee06bfca030c842d9bd0ea21b23\n'}]",1,836809,67209a1af0b33f57f540d8482f7f9e555697266e,13,3,1,9816,,,0,"Ussuri-only: Remove TripleO job

... because TipleO project has decided to EOL Ussuri[1].

[1] https://review.opendev.org/c/openstack/releases/+/834049

Change-Id: I4d58ded3b3ba6ee06bfca030c842d9bd0ea21b23
",git fetch https://review.opendev.org/openstack/puppet-keystone refs/changes/09/836809/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,67209a1af0b33f57f540d8482f7f9e555697266e,tripleo_ussuri_teardown,, check: jobs: - puppet-keystone-tripleo-standalone gate: jobs: - puppet-keystone-tripleo-standalone - job: name: puppet-keystone-tripleo-standalone parent: tripleo-puppet-ci-centos-8-standalone description: | TripleO standalone Job running Identity specific Tempest tests. vars: build_container_images: true featureset_override: run_tempest: false tempest_test_whitelist: - 'tempest.api.identity.v3' use_os_tempest: true,0,19
openstack%2Fcharm-masakari-monitors~stable%2Fyoga~I516219aa263b880700ae4fd64587eec0ce847f6c,openstack/charm-masakari-monitors,stable/yoga,I516219aa263b880700ae4fd64587eec0ce847f6c,Updates for stable branch creation,MERGED,2022-04-15 10:52:55.000000000,2022-04-19 14:41:11.000000000,2022-04-19 14:41:11.000000000,"[{'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-15 10:52:55.000000000', 'files': ['.gitreview', 'masakari-monitors.charm', 'test-requirements.txt', 'src/wheelhouse.txt', 'src/test-requirements.txt', 'src/build.lock'], 'web_link': 'https://opendev.org/openstack/charm-masakari-monitors/commit/85bac134f3046c9bb9fce1d8bd0f8cecd0d8420d', 'message': 'Updates for stable branch creation\n\n- Set default branch for git review/gerrit.\n- Switch tests to stable.\n- Switch to using stable charm-helpers branch.\n- Switch to using stable charm.openstack branch.\n- Switch to using stable zaza, zaza-openstack-tests\n  branch\n- (reactive charms) Add build.lock file\n\nChange-Id: I516219aa263b880700ae4fd64587eec0ce847f6c\n'}]",3,838146,85bac134f3046c9bb9fce1d8bd0f8cecd0d8420d,13,3,1,20870,,,0,"Updates for stable branch creation

- Set default branch for git review/gerrit.
- Switch tests to stable.
- Switch to using stable charm-helpers branch.
- Switch to using stable charm.openstack branch.
- Switch to using stable zaza, zaza-openstack-tests
  branch
- (reactive charms) Add build.lock file

Change-Id: I516219aa263b880700ae4fd64587eec0ce847f6c
",git fetch https://review.opendev.org/openstack/charm-masakari-monitors refs/changes/46/838146/1 && git format-patch -1 --stdout FETCH_HEAD,"['.gitreview', 'masakari-monitors.charm', 'test-requirements.txt', 'src/wheelhouse.txt', 'src/test-requirements.txt', 'src/build.lock']",6,85bac134f3046c9bb9fce1d8bd0f8cecd0d8420d,charm-release-2204,"{ ""locks"": [ { ""type"": ""layer"", ""item"": ""layer:options"", ""url"": ""https://github.com/juju-solutions/layer-options.git"", ""vcs"": null, ""branch"": ""refs/heads/master"", ""commit"": ""fcdcea4e5de3e1556c24e6704607862d0ba00a56"" }, { ""type"": ""layer"", ""item"": ""layer:basic"", ""url"": ""https://github.com/juju-solutions/layer-basic.git"", ""vcs"": null, ""branch"": ""refs/heads/master"", ""commit"": ""fb767dcf0786d1d5364199bb3b40bdc86518b45b"" }, { ""type"": ""layer"", ""item"": ""layer:openstack"", ""url"": ""https://github.com/openstack/charm-layer-openstack"", ""vcs"": null, ""branch"": ""refs/heads/master"", ""commit"": ""e0f700eacb026235e1a04e7cbc28dfbe9d4e4520"" }, { ""type"": ""layer"", ""item"": ""masakari-monitors"", ""url"": null, ""vcs"": null, ""branch"": ""refs/heads/stable/yoga\nrefs/heads/yoga-updates"", ""commit"": ""refs/heads/stable/yoga\nrefs/heads/yoga-updates"" }, { ""type"": ""layer"", ""item"": ""interface:tls-certificates"", ""url"": ""https://github.com/juju-solutions/interface-tls-certificates"", ""vcs"": null, ""branch"": ""refs/heads/master"", ""commit"": ""d9850016d930a6d507b9fd45e2598d327922b140"" }, { ""type"": ""layer"", ""item"": ""interface:keystone-credentials"", ""url"": ""https://github.com/openstack/charm-interface-keystone-credentials"", ""vcs"": null, ""branch"": ""refs/heads/master"", ""commit"": ""53e93b8820899f2251d207ed5d5c3b212ceb64de"" }, { ""type"": ""python_module"", ""package"": ""wheel"", ""vcs"": null, ""version"": ""0.37.1"" }, { ""type"": ""python_module"", ""package"": ""dnspython"", ""vcs"": null, ""version"": ""1.16.0"" }, { ""type"": ""python_module"", ""package"": ""flit_core"", ""vcs"": null, ""version"": ""3.7.1"" }, { ""type"": ""python_module"", ""package"": ""pyparsing"", ""vcs"": null, ""version"": ""3.0.8"" }, { ""type"": ""python_module"", ""package"": ""charms.openstack"", ""url"": ""git+https://github.com/openstack/charms.openstack.git"", ""branch"": ""refs/heads/stable/yoga"", ""version"": ""13ef220ce3529fa7b8e11c6e4c5b352d05b6f148"", ""vcs"": ""git"" }, { ""type"": ""python_module"", ""package"": ""pbr"", ""vcs"": null, ""version"": ""5.8.1"" }, { ""type"": ""python_module"", ""package"": ""packaging"", ""vcs"": null, ""version"": ""21.3"" }, { ""type"": ""python_module"", ""package"": ""tomli"", ""vcs"": null, ""version"": ""2.0.1"" }, { ""type"": ""python_module"", ""package"": ""netaddr"", ""vcs"": null, ""version"": ""0.7.19"" }, { ""type"": ""python_module"", ""package"": ""setuptools"", ""vcs"": null, ""version"": ""62.1.0"" }, { ""type"": ""python_module"", ""package"": ""MarkupSafe"", ""vcs"": null, ""version"": ""2.1.1"" }, { ""type"": ""python_module"", ""package"": ""charms.reactive"", ""vcs"": null, ""version"": ""1.5.0"" }, { ""type"": ""python_module"", ""package"": ""Tempita"", ""vcs"": null, ""version"": ""0.4"" }, { ""type"": ""python_module"", ""package"": ""Jinja2"", ""vcs"": null, ""version"": ""3.1.1"" }, { ""type"": ""python_module"", ""package"": ""PyYAML"", ""vcs"": null, ""version"": ""5.3.1"" }, { ""type"": ""python_module"", ""package"": ""pip"", ""vcs"": null, ""version"": ""22.0.4"" }, { ""type"": ""python_module"", ""package"": ""setuptools_scm"", ""vcs"": null, ""version"": ""6.4.2"" }, { ""type"": ""python_module"", ""package"": ""psutil"", ""vcs"": null, ""version"": ""5.9.0"" }, { ""type"": ""python_module"", ""package"": ""netifaces"", ""vcs"": null, ""version"": ""0.11.0"" }, { ""type"": ""python_module"", ""package"": ""charmhelpers"", ""url"": ""git+https://github.com/juju/charm-helpers.git"", ""branch"": ""refs/heads/stable/yoga"", ""version"": ""971ac5117c96bd1cb4a6a520787e4509564da582"", ""vcs"": ""git"" }, { ""type"": ""python_module"", ""package"": ""pyaml"", ""vcs"": null, ""version"": ""21.10.1"" } ] }",,189,5
openstack%2Fcharm-glance~stable%2Fyoga~I40da506eeb9304b28a013299b380204e1cffcc3f,openstack/charm-glance,stable/yoga,I40da506eeb9304b28a013299b380204e1cffcc3f,Updates for stable branch creation,MERGED,2022-04-15 10:45:39.000000000,2022-04-19 14:39:16.000000000,2022-04-19 14:39:16.000000000,"[{'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-15 10:45:39.000000000', 'files': ['.gitreview', 'test-requirements.txt', 'charm-helpers-hooks.yaml'], 'web_link': 'https://opendev.org/openstack/charm-glance/commit/ae29df593a349e1a49497de0c167ef977d9e8f7a', 'message': 'Updates for stable branch creation\n\n- Set default branch for git review/gerrit.\n- Switch tests to stable.\n- Switch to using stable charm-helpers branch.\n- Switch to using stable charm.openstack branch.\n- Switch to using stable zaza, zaza-openstack-tests\n  branch\n- (reactive charms) Add build.lock file\n\nChange-Id: I40da506eeb9304b28a013299b380204e1cffcc3f\n'}]",5,838127,ae29df593a349e1a49497de0c167ef977d9e8f7a,16,3,1,20870,,,0,"Updates for stable branch creation

- Set default branch for git review/gerrit.
- Switch tests to stable.
- Switch to using stable charm-helpers branch.
- Switch to using stable charm.openstack branch.
- Switch to using stable zaza, zaza-openstack-tests
  branch
- (reactive charms) Add build.lock file

Change-Id: I40da506eeb9304b28a013299b380204e1cffcc3f
",git fetch https://review.opendev.org/openstack/charm-glance refs/changes/27/838127/1 && git format-patch -1 --stdout FETCH_HEAD,"['.gitreview', 'test-requirements.txt', 'charm-helpers-hooks.yaml']",3,ae29df593a349e1a49497de0c167ef977d9e8f7a,charm-release-2204,repo: https://github.com/juju/charm-helpers@stable/yoga,repo: https://github.com/juju/charm-helpers,5,3
openstack%2Fkolla~stable%2Fwallaby~Ideaf66ce18c993802f4d20f490caa47cec0dde5e,openstack/kolla,stable/wallaby,Ideaf66ce18c993802f4d20f490caa47cec0dde5e,"Revert ""CI: add templated Dockerfiles to build logs""",MERGED,2022-04-19 08:20:45.000000000,2022-04-19 14:07:07.000000000,2022-04-19 14:02:46.000000000,"[{'_account_id': 22348}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-04-19 08:20:45.000000000', 'files': ['tests/playbooks/run.yml', '.zuul.d/base.yaml'], 'web_link': 'https://opendev.org/openstack/kolla/commit/43dce2cf092fc764dc0357f7dd478a8fea819be0', 'message': 'Revert ""CI: add templated Dockerfiles to build logs""\n\nThis reverts commit 09c890b12463a4b2c8767231189e7016f337fbc3.\n\nReason for revert: That change caused all Kolla\'s work items to be\ntransferred. This includes tarballs, their extracted contents, cloned\ngit repositories, etc. to also be transferred to swift which takes\nextra time, pollutes logs and decreases the stability of jobs slightly\n(the mechanism is not designed for this kind of load).\nThe collection of templated Dockerfiles in CI has to be reimplemented\nif it is wanted.\n\nChange-Id: Ideaf66ce18c993802f4d20f490caa47cec0dde5e\n(cherry picked from commit f33ef03977536ecb29ea464b9e557a6caacf4345)\n'}]",2,838359,43dce2cf092fc764dc0357f7dd478a8fea819be0,12,3,1,30491,,,0,"Revert ""CI: add templated Dockerfiles to build logs""

This reverts commit 09c890b12463a4b2c8767231189e7016f337fbc3.

Reason for revert: That change caused all Kolla's work items to be
transferred. This includes tarballs, their extracted contents, cloned
git repositories, etc. to also be transferred to swift which takes
extra time, pollutes logs and decreases the stability of jobs slightly
(the mechanism is not designed for this kind of load).
The collection of templated Dockerfiles in CI has to be reimplemented
if it is wanted.

Change-Id: Ideaf66ce18c993802f4d20f490caa47cec0dde5e
(cherry picked from commit f33ef03977536ecb29ea464b9e557a6caacf4345)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/59/838359/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/playbooks/run.yml', '.zuul.d/base.yaml']",2,43dce2cf092fc764dc0357f7dd478a8fea819be0,quiet-kolla-stable/yoga-stable/xena-stable/wallaby,," kolla_work_dir: ""{{ kolla_logs_dir }}""",0,2
openstack%2Fkolla~stable%2Fxena~Ideaf66ce18c993802f4d20f490caa47cec0dde5e,openstack/kolla,stable/xena,Ideaf66ce18c993802f4d20f490caa47cec0dde5e,"Revert ""CI: add templated Dockerfiles to build logs""",MERGED,2022-04-19 08:20:35.000000000,2022-04-19 14:06:48.000000000,2022-04-19 14:02:43.000000000,"[{'_account_id': 22348}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-04-19 08:20:35.000000000', 'files': ['tests/playbooks/run.yml', '.zuul.d/base.yaml'], 'web_link': 'https://opendev.org/openstack/kolla/commit/164cda1c41078eb0f5babc985915732131ed6765', 'message': 'Revert ""CI: add templated Dockerfiles to build logs""\n\nThis reverts commit 09c890b12463a4b2c8767231189e7016f337fbc3.\n\nReason for revert: That change caused all Kolla\'s work items to be\ntransferred. This includes tarballs, their extracted contents, cloned\ngit repositories, etc. to also be transferred to swift which takes\nextra time, pollutes logs and decreases the stability of jobs slightly\n(the mechanism is not designed for this kind of load).\nThe collection of templated Dockerfiles in CI has to be reimplemented\nif it is wanted.\n\nChange-Id: Ideaf66ce18c993802f4d20f490caa47cec0dde5e\n(cherry picked from commit f33ef03977536ecb29ea464b9e557a6caacf4345)\n'}]",0,838358,164cda1c41078eb0f5babc985915732131ed6765,10,3,1,30491,,,0,"Revert ""CI: add templated Dockerfiles to build logs""

This reverts commit 09c890b12463a4b2c8767231189e7016f337fbc3.

Reason for revert: That change caused all Kolla's work items to be
transferred. This includes tarballs, their extracted contents, cloned
git repositories, etc. to also be transferred to swift which takes
extra time, pollutes logs and decreases the stability of jobs slightly
(the mechanism is not designed for this kind of load).
The collection of templated Dockerfiles in CI has to be reimplemented
if it is wanted.

Change-Id: Ideaf66ce18c993802f4d20f490caa47cec0dde5e
(cherry picked from commit f33ef03977536ecb29ea464b9e557a6caacf4345)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/58/838358/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/playbooks/run.yml', '.zuul.d/base.yaml']",2,164cda1c41078eb0f5babc985915732131ed6765,quiet-kolla-stable/yoga-stable/xena,," kolla_work_dir: ""{{ kolla_logs_dir }}""",0,2
openstack%2Fcharm-octavia-diskimage-retrofit~stable%2Fyoga~I786b8c18dfaaa032282a558f2f86dc71f15835a2,openstack/charm-octavia-diskimage-retrofit,stable/yoga,I786b8c18dfaaa032282a558f2f86dc71f15835a2,Updates for stable branch creation,MERGED,2022-04-15 10:56:48.000000000,2022-04-19 14:01:18.000000000,2022-04-19 14:01:18.000000000,"[{'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-15 10:56:48.000000000', 'files': ['.gitreview', 'test-requirements.txt', 'src/wheelhouse.txt', 'src/test-requirements.txt', 'src/build.lock'], 'web_link': 'https://opendev.org/openstack/charm-octavia-diskimage-retrofit/commit/f4c7deac1e063121f7ad3ee1a2d3e3bc7f6ecf65', 'message': 'Updates for stable branch creation\n\n- Set default branch for git review/gerrit.\n- Switch tests to stable.\n- Switch to using stable charm-helpers branch.\n- Switch to using stable charm.openstack branch.\n- Switch to using stable zaza, zaza-openstack-tests\n  branch\n- (reactive charms) Add build.lock file\n\nChange-Id: I786b8c18dfaaa032282a558f2f86dc71f15835a2\n'}]",1,838159,f4c7deac1e063121f7ad3ee1a2d3e3bc7f6ecf65,9,3,1,20870,,,0,"Updates for stable branch creation

- Set default branch for git review/gerrit.
- Switch tests to stable.
- Switch to using stable charm-helpers branch.
- Switch to using stable charm.openstack branch.
- Switch to using stable zaza, zaza-openstack-tests
  branch
- (reactive charms) Add build.lock file

Change-Id: I786b8c18dfaaa032282a558f2f86dc71f15835a2
",git fetch https://review.opendev.org/openstack/charm-octavia-diskimage-retrofit refs/changes/59/838159/1 && git format-patch -1 --stdout FETCH_HEAD,"['.gitreview', 'test-requirements.txt', 'src/wheelhouse.txt', 'src/test-requirements.txt', 'src/build.lock']",5,f4c7deac1e063121f7ad3ee1a2d3e3bc7f6ecf65,charm-release-2204,"{ ""locks"": [ { ""type"": ""layer"", ""item"": ""layer:options"", ""url"": ""https://github.com/juju-solutions/layer-options.git"", ""vcs"": null, ""branch"": ""refs/heads/master"", ""commit"": ""fcdcea4e5de3e1556c24e6704607862d0ba00a56"" }, { ""type"": ""layer"", ""item"": ""layer:basic"", ""url"": ""https://github.com/juju-solutions/layer-basic.git"", ""vcs"": null, ""branch"": ""refs/heads/master"", ""commit"": ""fb767dcf0786d1d5364199bb3b40bdc86518b45b"" }, { ""type"": ""layer"", ""item"": ""layer:openstack"", ""url"": ""https://github.com/openstack/charm-layer-openstack"", ""vcs"": null, ""branch"": ""refs/heads/master"", ""commit"": ""e0f700eacb026235e1a04e7cbc28dfbe9d4e4520"" }, { ""type"": ""layer"", ""item"": ""layer:snap"", ""url"": ""https://git.launchpad.net/layer-snap"", ""vcs"": null, ""branch"": ""refs/heads/master"", ""commit"": ""c5e9b6acd1098e946353322b1468dec30e60c6f0"" }, { ""type"": ""layer"", ""item"": ""layer:debug"", ""url"": ""https://github.com/juju-solutions/layer-debug.git"", ""vcs"": null, ""branch"": ""refs/heads/master"", ""commit"": ""527dd64fc4b9a6b0f8d80a3c2c0b865155050275"" }, { ""type"": ""layer"", ""item"": ""layer:tls-client"", ""url"": ""https://github.com/juju-solutions/layer-tls-client.git"", ""vcs"": null, ""branch"": ""refs/heads/master"", ""commit"": ""fb46dec78d390571753d21876bbba689bbbca9e4"" }, { ""type"": ""layer"", ""item"": ""octavia-diskimage-retrofit"", ""url"": null, ""vcs"": null, ""branch"": ""refs/heads/stable/yoga\nrefs/heads/yoga-updates"", ""commit"": ""refs/heads/stable/yoga\nrefs/heads/yoga-updates"" }, { ""type"": ""layer"", ""item"": ""interface:tls-certificates"", ""url"": ""https://github.com/juju-solutions/interface-tls-certificates"", ""vcs"": null, ""branch"": ""refs/heads/master"", ""commit"": ""d9850016d930a6d507b9fd45e2598d327922b140"" }, { ""type"": ""layer"", ""item"": ""interface:juju-info"", ""url"": ""https://github.com/juju-solutions/interface-juju-info.git"", ""vcs"": null, ""branch"": ""refs/heads/master"", ""commit"": ""4e2f90052b3c02031d09f10900c9e9cb22565dee"" }, { ""type"": ""layer"", ""item"": ""interface:keystone-credentials"", ""url"": ""https://github.com/openstack/charm-interface-keystone-credentials"", ""vcs"": null, ""branch"": ""refs/heads/master"", ""commit"": ""53e93b8820899f2251d207ed5d5c3b212ceb64de"" }, { ""type"": ""python_module"", ""package"": ""poetry-core"", ""vcs"": null, ""version"": ""1.0.8"" }, { ""type"": ""python_module"", ""package"": ""warlock"", ""vcs"": null, ""version"": ""1.3.3"" }, { ""type"": ""python_module"", ""package"": ""netaddr"", ""vcs"": null, ""version"": ""0.7.19"" }, { ""type"": ""python_module"", ""package"": ""netifaces"", ""vcs"": null, ""version"": ""0.11.0"" }, { ""type"": ""python_module"", ""package"": ""pbr"", ""vcs"": null, ""version"": ""5.8.1"" }, { ""type"": ""python_module"", ""package"": ""Tempita"", ""vcs"": null, ""version"": ""0.4"" }, { ""type"": ""python_module"", ""package"": ""requests"", ""vcs"": null, ""version"": ""2.27.1"" }, { ""type"": ""python_module"", ""package"": ""cffi"", ""vcs"": null, ""version"": ""1.15.0"" }, { ""type"": ""python_module"", ""package"": ""pyOpenSSL"", ""vcs"": null, ""version"": ""21.0.0"" }, { ""type"": ""python_module"", ""package"": ""idna"", ""vcs"": null, ""version"": ""3.3"" }, { ""type"": ""python_module"", ""package"": ""wcwidth"", ""vcs"": null, ""version"": ""0.2.5"" }, { ""type"": ""python_module"", ""package"": ""tomli"", ""vcs"": null, ""version"": ""2.0.1"" }, { ""type"": ""python_module"", ""package"": ""wheel"", ""vcs"": null, ""version"": ""0.37.1"" }, { ""type"": ""python_module"", ""package"": ""oslo.utils"", ""vcs"": null, ""version"": ""4.12.2"" }, { ""type"": ""python_module"", ""package"": ""six"", ""vcs"": null, ""version"": ""1.16.0"" }, { ""type"": ""python_module"", ""package"": ""charms.reactive"", ""vcs"": null, ""version"": ""1.5.0"" }, { ""type"": ""python_module"", ""package"": ""flit_core"", ""vcs"": null, ""version"": ""3.7.1"" }, { ""type"": ""python_module"", ""package"": ""jsonschema"", ""vcs"": null, ""version"": ""3.2.0"" }, { ""type"": ""python_module"", ""package"": ""jsonpointer"", ""vcs"": null, ""version"": ""2.3"" }, { ""type"": ""python_module"", ""package"": ""oslo.i18n"", ""vcs"": null, ""version"": ""5.1.0"" }, { ""type"": ""python_module"", ""package"": ""tenacity"", ""vcs"": null, ""version"": ""5.0.3"" }, { ""type"": ""python_module"", ""package"": ""packaging"", ""vcs"": null, ""version"": ""21.3"" }, { ""type"": ""python_module"", ""package"": ""pytz"", ""vcs"": null, ""version"": ""2022.1"" }, { ""type"": ""python_module"", ""package"": ""dnspython"", ""vcs"": null, ""version"": ""1.16.0"" }, { ""type"": ""python_module"", ""package"": ""zipp"", ""vcs"": null, ""version"": ""1.2.0"" }, { ""type"": ""python_module"", ""package"": ""pyparsing"", ""vcs"": null, ""version"": ""3.0.8"" }, { ""type"": ""python_module"", ""package"": ""setuptools"", ""vcs"": null, ""version"": ""49.6.0"" }, { ""type"": ""python_module"", ""package"": ""attrs"", ""vcs"": null, ""version"": ""21.4.0"" }, { ""type"": ""python_module"", ""package"": ""PyYAML"", ""vcs"": null, ""version"": ""5.3.1"" }, { ""type"": ""python_module"", ""package"": ""debtcollector"", ""vcs"": null, ""version"": ""2.5.0"" }, { ""type"": ""python_module"", ""package"": ""pip"", ""vcs"": null, ""version"": ""22.0.4"" }, { ""type"": ""python_module"", ""package"": ""urllib3"", ""vcs"": null, ""version"": ""1.26.9"" }, { ""type"": ""python_module"", ""package"": ""psutil"", ""vcs"": null, ""version"": ""5.9.0"" }, { ""type"": ""python_module"", ""package"": ""prettytable"", ""vcs"": null, ""version"": ""3.2.0"" }, { ""type"": ""python_module"", ""package"": ""stevedore"", ""vcs"": null, ""version"": ""3.5.0"" }, { ""type"": ""python_module"", ""package"": ""setuptools_scm"", ""vcs"": null, ""version"": ""6.4.2"" }, { ""type"": ""python_module"", ""package"": ""iso8601"", ""vcs"": null, ""version"": ""1.0.2"" }, { ""type"": ""python_module"", ""package"": ""python-glanceclient"", ""vcs"": null, ""version"": ""3.6.0"" }, { ""type"": ""python_module"", ""package"": ""pyaml"", ""vcs"": null, ""version"": ""21.10.1"" }, { ""type"": ""python_module"", ""package"": ""Jinja2"", ""vcs"": null, ""version"": ""3.1.1"" }, { ""type"": ""python_module"", ""package"": ""wrapt"", ""vcs"": null, ""version"": ""1.14.0"" }, { ""type"": ""python_module"", ""package"": ""pycparser"", ""vcs"": null, ""version"": ""2.21"" }, { ""type"": ""python_module"", ""package"": ""keystoneauth1"", ""vcs"": null, ""version"": ""4.5.0"" }, { ""type"": ""python_module"", ""package"": ""charms.openstack"", ""url"": ""git+https://github.com/openstack/charms.openstack.git"", ""branch"": ""refs/heads/stable/yoga"", ""version"": ""13ef220ce3529fa7b8e11c6e4c5b352d05b6f148"", ""vcs"": ""git"" }, { ""type"": ""python_module"", ""package"": ""pyrsistent"", ""vcs"": null, ""version"": ""0.17.3"" }, { ""type"": ""python_module"", ""package"": ""jsonpatch"", ""vcs"": null, ""version"": ""1.32"" }, { ""type"": ""python_module"", ""package"": ""certifi"", ""vcs"": null, ""version"": ""2021.10.8"" }, { ""type"": ""python_module"", ""package"": ""cryptography"", ""vcs"": null, ""version"": ""3.3.2"" }, { ""type"": ""python_module"", ""package"": ""MarkupSafe"", ""vcs"": null, ""version"": ""2.1.1"" }, { ""type"": ""python_module"", ""package"": ""charset-normalizer"", ""vcs"": null, ""version"": ""2.0.12"" }, { ""type"": ""python_module"", ""package"": ""os-service-types"", ""vcs"": null, ""version"": ""1.7.0"" }, { ""type"": ""python_module"", ""package"": ""charmhelpers"", ""url"": ""git+https://github.com/juju/charm-helpers.git"", ""branch"": ""refs/heads/stable/yoga"", ""version"": ""971ac5117c96bd1cb4a6a520787e4509564da582"", ""vcs"": ""git"" } ] }",,407,5
openstack%2Fpuppet-pacemaker~master~I9b2f3240198f52a0b9bf7a58a3896abf87580551,openstack/puppet-pacemaker,master,I9b2f3240198f52a0b9bf7a58a3896abf87580551,Fix author-email in setup.cfg,ABANDONED,2019-01-24 02:12:30.000000000,2022-04-19 13:49:59.000000000,,"[{'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 28935}]","[{'number': 1, 'created': '2019-01-24 02:12:30.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/puppet-pacemaker/commit/95784edf2cfc1c598282b90f1e819300324bab3f', 'message': 'Fix author-email in setup.cfg\n\nChange-Id: I9b2f3240198f52a0b9bf7a58a3896abf87580551\n'}]",1,632854,95784edf2cfc1c598282b90f1e819300324bab3f,5,3,1,29423,,,0,"Fix author-email in setup.cfg

Change-Id: I9b2f3240198f52a0b9bf7a58a3896abf87580551
",git fetch https://review.opendev.org/openstack/puppet-pacemaker refs/changes/54/632854/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,95784edf2cfc1c598282b90f1e819300324bab3f,,author-email = openstack-discuss@lists.openstack.org,author-email = openstack-dev@lists.openstack.org,1,1
openstack%2Fironic-lib~master~I572d723e6b0d685a8a1ce9ec21c86adce3f25db4,openstack/ironic-lib,master,I572d723e6b0d685a8a1ce9ec21c86adce3f25db4,Update jobs names,MERGED,2022-04-13 09:26:42.000000000,2022-04-19 13:47:55.000000000,2022-04-19 13:44:19.000000000,"[{'_account_id': 10239}, {'_account_id': 11292}, {'_account_id': 14885}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-13 09:26:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-lib/commit/28ab963f5e1706336fa88a45d0c85a89429d3fd4', 'message': '[WIP] Update jobs names\n\nAlso actually set netboot to bios\n\nChange-Id: I572d723e6b0d685a8a1ce9ec21c86adce3f25db4\n'}, {'number': 2, 'created': '2022-04-14 10:46:32.000000000', 'files': ['zuul.d/ironic-lib-jobs.yaml', 'zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-lib/commit/95ce746ad101b7af32684c29384237061565a4af', 'message': 'Update jobs names\n\nAlso actually set netboot to bios\n\nChange-Id: I572d723e6b0d685a8a1ce9ec21c86adce3f25db4\n'}]",4,837705,95ce746ad101b7af32684c29384237061565a4af,14,4,2,23851,,,0,"Update jobs names

Also actually set netboot to bios

Change-Id: I572d723e6b0d685a8a1ce9ec21c86adce3f25db4
",git fetch https://review.opendev.org/openstack/ironic-lib refs/changes/05/837705/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/ironic-lib-jobs.yaml', 'zuul.d/project.yaml']",2,28ab963f5e1706336fa88a45d0c85a89429d3fd4,update-jobs, - ironic-lib-local-uefi-ipmi-src - ironic-lib-netboot-bios-ipmi-src - ironic-lib-local-uefi-ipmi-src - ironic-lib-netboot-bios-ipmi-src, - ironic-lib-wholedisk-bios-ipmi-src - ironic-lib-partition-bios-ipmi-src - ironic-lib-wholedisk-bios-ipmi-src - ironic-lib-partition-bios-ipmi-src,7,6
openstack%2Fovn-octavia-provider~master~Ifb1605c0c7c547c77e760a42de53432c5ca4152a,openstack/ovn-octavia-provider,master,Ifb1605c0c7c547c77e760a42de53432c5ca4152a,Use python3-devel in bindep for rpm distros,MERGED,2022-04-07 12:21:08.000000000,2022-04-19 13:33:46.000000000,2022-04-19 13:31:53.000000000,"[{'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2022-04-07 12:21:08.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/b28b4bf840ead9f26ceca9985e112106bc281d4c', 'message': ""Use python3-devel in bindep for rpm distros\n\npython36-devel is not available in rpm distro's\nlike CentOS9-Stream or Fedora35.\n\nChange-Id: Ifb1605c0c7c547c77e760a42de53432c5ca4152a\n""}]",1,836956,b28b4bf840ead9f26ceca9985e112106bc281d4c,12,5,1,34451,,,0,"Use python3-devel in bindep for rpm distros

python36-devel is not available in rpm distro's
like CentOS9-Stream or Fedora35.

Change-Id: Ifb1605c0c7c547c77e760a42de53432c5ca4152a
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/56/836956/1 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,b28b4bf840ead9f26ceca9985e112106bc281d4c,,python3-devel [platform:rpm],python36-devel [platform:rpm],1,1
openstack%2Fopenstack-ansible~stable%2Fussuri~Ia072069b9acf88c0642a0e3674324733626c050e,openstack/openstack-ansible,stable/ussuri,Ia072069b9acf88c0642a0e3674324733626c050e,Mark OSA repository as safe in git.config in CI,MERGED,2022-04-15 14:20:15.000000000,2022-04-19 13:26:29.000000000,2022-04-19 13:23:00.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-04-15 14:20:15.000000000', 'files': ['zuul.d/playbooks/pre-osa-aio.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/4ea5b8b24c0102d955593a524e4595a29b2a57fd', 'message': 'Mark OSA repository as safe in git.config in CI\n\nChange-Id: Ia072069b9acf88c0642a0e3674324733626c050e\n(cherry picked from commit efa153ea159af13ce5539e423371f2642c9592ef)\n'}]",0,838021,4ea5b8b24c0102d955593a524e4595a29b2a57fd,8,3,1,28619,,,0,"Mark OSA repository as safe in git.config in CI

Change-Id: Ia072069b9acf88c0642a0e3674324733626c050e
(cherry picked from commit efa153ea159af13ce5539e423371f2642c9592ef)
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/21/838021/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/playbooks/pre-osa-aio.yml'],1,4ea5b8b24c0102d955593a524e4595a29b2a57fd,," - name: Mark OSA repository as safe become: yes become_user: root git_config: name: safe.directory scope: global value: ""{{ _zuul_src_path }}/opendev.org/openstack/openstack-ansible""",,7,0
openstack%2Fcharm-mysql-router~stable%2Fjammy~I7a667f7a9e02a628c48c9f2c870fa09462ae4648,openstack/charm-mysql-router,stable/jammy,I7a667f7a9e02a628c48c9f2c870fa09462ae4648,Updates for stable branch creation,MERGED,2022-04-15 19:05:13.000000000,2022-04-19 13:25:27.000000000,2022-04-19 13:25:27.000000000,"[{'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-15 19:05:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-mysql-router/commit/1f1fc72cbb46568ce987ad122900fceaf864fdc4', 'message': 'Updates for stable branch creation\n\n- Set default branch for git review/gerrit.\n- Switch tests to stable.\n- Switch to using stable charm-helpers branch.\n- Switch to using stable charm.openstack branch.\n- Switch to using stable zaza, zaza-openstack-tests\n  branch\n- (reactive charms) Add build.lock file\n\nChange-Id: I7a667f7a9e02a628c48c9f2c870fa09462ae4648\n'}, {'number': 2, 'created': '2022-04-19 08:44:07.000000000', 'files': ['.gitreview', 'test-requirements.txt', 'src/wheelhouse.txt', 'src/test-requirements.txt', 'src/build.lock'], 'web_link': 'https://opendev.org/openstack/charm-mysql-router/commit/161d9c86e64c159be639ef12c2ba9b07e9ec71d8', 'message': 'Updates for stable branch creation\n\n- Set default branch for git review/gerrit.\n- Switch tests to stable.\n- Switch to using stable charm-helpers branch.\n- Switch to using stable charm.openstack branch.\n- Switch to using stable zaza, zaza-openstack-tests\n  branch\n- (reactive charms) Add build.lock file\n\nChange-Id: I7a667f7a9e02a628c48c9f2c870fa09462ae4648\n'}]",2,838202,161d9c86e64c159be639ef12c2ba9b07e9ec71d8,14,3,2,20870,,,0,"Updates for stable branch creation

- Set default branch for git review/gerrit.
- Switch tests to stable.
- Switch to using stable charm-helpers branch.
- Switch to using stable charm.openstack branch.
- Switch to using stable zaza, zaza-openstack-tests
  branch
- (reactive charms) Add build.lock file

Change-Id: I7a667f7a9e02a628c48c9f2c870fa09462ae4648
",git fetch https://review.opendev.org/openstack/charm-mysql-router refs/changes/02/838202/2 && git format-patch -1 --stdout FETCH_HEAD,"['.gitreview', 'test-requirements.txt', 'mysql-router.charm', 'src/wheelhouse.txt', 'src/test-requirements.txt', 'src/build.lock']",6,1f1fc72cbb46568ce987ad122900fceaf864fdc4,charm-release-2204,"{ ""locks"": [ { ""type"": ""layer"", ""item"": ""layer:options"", ""url"": ""https://github.com/juju-solutions/layer-options.git"", ""vcs"": null, ""branch"": ""refs/heads/master"", ""commit"": ""fcdcea4e5de3e1556c24e6704607862d0ba00a56"" }, { ""type"": ""layer"", ""item"": ""layer:basic"", ""url"": ""https://github.com/juju-solutions/layer-basic.git"", ""vcs"": null, ""branch"": ""refs/heads/master"", ""commit"": ""fb767dcf0786d1d5364199bb3b40bdc86518b45b"" }, { ""type"": ""layer"", ""item"": ""layer:openstack"", ""url"": ""https://github.com/openstack/charm-layer-openstack"", ""vcs"": null, ""branch"": ""refs/heads/master"", ""commit"": ""e0f700eacb026235e1a04e7cbc28dfbe9d4e4520"" }, { ""type"": ""layer"", ""item"": ""mysql-router"", ""url"": null, ""vcs"": null, ""branch"": ""refs/heads/stable/jammy\nrefs/heads/yoga-updates"", ""commit"": ""refs/heads/stable/jammy\nrefs/heads/yoga-updates"" }, { ""type"": ""layer"", ""item"": ""interface:tls-certificates"", ""url"": ""https://github.com/juju-solutions/interface-tls-certificates"", ""vcs"": null, ""branch"": ""refs/heads/master"", ""commit"": ""d9850016d930a6d507b9fd45e2598d327922b140"" }, { ""type"": ""layer"", ""item"": ""interface:mysql-shared"", ""url"": ""https://github.com/openstack/charm-interface-mysql-shared"", ""vcs"": null, ""branch"": ""refs/heads/master"", ""commit"": ""f90f8c6edce21e4da3a872f0f9d6761730ce025d"" }, { ""type"": ""layer"", ""item"": ""interface:mysql-router"", ""url"": ""https://github.com/openstack/charm-interface-mysql-router.git"", ""vcs"": null, ""branch"": ""refs/heads/master"", ""commit"": ""21586be61f07897dba96a8a409966016f0f2a706"" }, { ""type"": ""python_module"", ""package"": ""tenacity"", ""vcs"": null, ""version"": ""7.0.0"" }, { ""type"": ""python_module"", ""package"": ""MarkupSafe"", ""vcs"": null, ""version"": ""2.1.1"" }, { ""type"": ""python_module"", ""package"": ""dnspython"", ""vcs"": null, ""version"": ""1.16.0"" }, { ""type"": ""python_module"", ""package"": ""psutil"", ""vcs"": null, ""version"": ""5.9.0"" }, { ""type"": ""python_module"", ""package"": ""PyYAML"", ""vcs"": null, ""version"": ""5.3.1"" }, { ""type"": ""python_module"", ""package"": ""setuptools_scm"", ""vcs"": null, ""version"": ""6.4.2"" }, { ""type"": ""python_module"", ""package"": ""charmhelpers"", ""url"": ""git+https://github.com/juju/charm-helpers.git"", ""branch"": ""refs/heads/stable/yoga"", ""version"": ""971ac5117c96bd1cb4a6a520787e4509564da582"", ""vcs"": ""git"" }, { ""type"": ""python_module"", ""package"": ""pip"", ""vcs"": null, ""version"": ""22.0.4"" }, { ""type"": ""python_module"", ""package"": ""Jinja2"", ""vcs"": null, ""version"": ""3.1.1"" }, { ""type"": ""python_module"", ""package"": ""flit_core"", ""vcs"": null, ""version"": ""3.7.1"" }, { ""type"": ""python_module"", ""package"": ""packaging"", ""vcs"": null, ""version"": ""21.3"" }, { ""type"": ""python_module"", ""package"": ""mysqlclient"", ""vcs"": null, ""version"": ""2.1.0"" }, { ""type"": ""python_module"", ""package"": ""charms.openstack"", ""url"": ""git+https://github.com/openstack/charms.openstack.git"", ""branch"": ""refs/heads/stable/yoga"", ""version"": ""13ef220ce3529fa7b8e11c6e4c5b352d05b6f148"", ""vcs"": ""git"" }, { ""type"": ""python_module"", ""package"": ""pyparsing"", ""vcs"": null, ""version"": ""3.0.8"" }, { ""type"": ""python_module"", ""package"": ""six"", ""vcs"": null, ""version"": ""1.16.0"" }, { ""type"": ""python_module"", ""package"": ""setuptools"", ""vcs"": null, ""version"": ""62.1.0"" }, { ""type"": ""python_module"", ""package"": ""pbr"", ""vcs"": null, ""version"": ""5.8.1"" }, { ""type"": ""python_module"", ""package"": ""charms.reactive"", ""vcs"": null, ""version"": ""1.5.0"" }, { ""type"": ""python_module"", ""package"": ""tomli"", ""vcs"": null, ""version"": ""2.0.1"" }, { ""type"": ""python_module"", ""package"": ""pyaml"", ""vcs"": null, ""version"": ""21.10.1"" }, { ""type"": ""python_module"", ""package"": ""wheel"", ""vcs"": null, ""version"": ""0.37.1"" }, { ""type"": ""python_module"", ""package"": ""netifaces"", ""vcs"": null, ""version"": ""0.11.0"" }, { ""type"": ""python_module"", ""package"": ""netaddr"", ""vcs"": null, ""version"": ""0.7.19"" }, { ""type"": ""python_module"", ""package"": ""Tempita"", ""vcs"": null, ""version"": ""0.4"" } ] }",,215,5
openstack%2Freleases~master~I5f6be34f17b250b16fe8ae7daa7ef7922d0fdf51,openstack/releases,master,I5f6be34f17b250b16fe8ae7daa7ef7922d0fdf51,[Puppet OpenStack] Transition queens to EOL,MERGED,2021-11-23 15:04:22.000000000,2022-04-19 13:10:14.000000000,2022-04-19 11:29:16.000000000,"[{'_account_id': 9816}, {'_account_id': 16137}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-11-23 15:04:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/4f641e2edfe27341245db2a6c518b6106f9f5824', 'message': ""[Puppet OpenStack] Transition queens to EOL\n\nThis is the first step to retire old stable branches in Puppet\nOpenStack repos and makes stable/queens EOL. The proposal was sent to\nthe mailing list[1] and we haven't heard any objections.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-October/025589.html\n\nChange-Id: I5f6be34f17b250b16fe8ae7daa7ef7922d0fdf51\n""}, {'number': 2, 'created': '2021-11-29 11:31:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/7cf627527a585b429e9be9871014dc07267c2c01', 'message': ""[Puppet OpenStack] Transition queens to EOL\n\nThis is the first step to retire old stable branches in Puppet\nOpenStack repos and makes stable/queens EOL. The proposal was sent to\nthe mailing list[1] and we haven't heard any objections.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-October/025589.html\n\nChange-Id: I5f6be34f17b250b16fe8ae7daa7ef7922d0fdf51\n""}, {'number': 3, 'created': '2021-12-01 13:59:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/191287f1e1fbd25e7ab1b926f9fcac7826cd856c', 'message': ""[Puppet OpenStack] Transition queens to EOL\n\nThis is the first step to retire old stable branches in Puppet\nOpenStack repos and makes stable/queens EOL. The proposal was sent to\nthe mailing list[1] and we haven't heard any objections.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-October/025589.html\n\nChange-Id: I5f6be34f17b250b16fe8ae7daa7ef7922d0fdf51\n""}, {'number': 4, 'created': '2022-03-05 14:24:07.000000000', 'files': ['deliverables/queens/puppet-monasca.yaml', 'deliverables/queens/puppet-freezer.yaml', 'deliverables/queens/puppet-heat.yaml', 'deliverables/queens/puppet-rally.yaml', 'deliverables/queens/puppet-ceilometer.yaml', 'deliverables/queens/puppet-glance.yaml', 'deliverables/queens/puppet-cinder.yaml', 'deliverables/queens/puppet-horizon.yaml', 'deliverables/queens/puppet-openstack_extras.yaml', 'deliverables/queens/puppet-sahara.yaml', 'deliverables/queens/puppet-qdr.yaml', 'deliverables/queens/puppet-tempest.yaml', 'deliverables/queens/puppet-vswitch.yaml', 'deliverables/queens/puppet-oslo.yaml', 'deliverables/queens/puppet-trove.yaml', 'deliverables/queens/puppet-keystone.yaml', 'deliverables/queens/puppet-octavia.yaml', 'deliverables/queens/puppet-gnocchi.yaml', 'deliverables/queens/puppet-manila.yaml', 'deliverables/queens/puppet-openstacklib.yaml', 'deliverables/queens/puppet-mistral.yaml', 'deliverables/queens/puppet-swift.yaml', 'deliverables/queens/puppet-cloudkitty.yaml', 'deliverables/queens/puppet-glare.yaml', 'deliverables/queens/puppet-magnum.yaml', 'deliverables/queens/puppet-nova.yaml', 'deliverables/queens/puppet-ovn.yaml', 'deliverables/queens/puppet-tacker.yaml', 'deliverables/queens/puppet-aodh.yaml', 'deliverables/queens/puppet-congress.yaml', 'deliverables/queens/puppet-watcher.yaml', 'deliverables/queens/puppet-zaqar.yaml', 'deliverables/queens/puppet-ironic.yaml', 'deliverables/queens/puppet-panko.yaml', 'deliverables/queens/puppet-murano.yaml', 'deliverables/queens/puppet-designate.yaml', 'deliverables/queens/puppet-vitrage.yaml', 'deliverables/queens/puppet-barbican.yaml', 'deliverables/queens/puppet-ec2api.yaml', 'deliverables/queens/puppet-neutron.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/38240e7023f4b45ad2f66b9a42ae7177228a1938', 'message': ""[Puppet OpenStack] Transition queens to EOL\n\nThis is the first step to retire old stable branches in Puppet\nOpenStack repos and makes stable/queens EOL. The proposal was sent to\nthe mailing list[1] and we haven't heard any objections.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-October/025589.html\n\nChange-Id: I5f6be34f17b250b16fe8ae7daa7ef7922d0fdf51\n""}]",21,818938,38240e7023f4b45ad2f66b9a42ae7177228a1938,32,5,4,9816,,,0,"[Puppet OpenStack] Transition queens to EOL

This is the first step to retire old stable branches in Puppet
OpenStack repos and makes stable/queens EOL. The proposal was sent to
the mailing list[1] and we haven't heard any objections.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-October/025589.html

Change-Id: I5f6be34f17b250b16fe8ae7daa7ef7922d0fdf51
",git fetch https://review.opendev.org/openstack/releases refs/changes/38/818938/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/queens/puppet-heat.yaml', 'deliverables/queens/puppet-rally.yaml', 'deliverables/queens/puppet-ceilometer.yaml', 'deliverables/queens/puppet-glance.yaml', 'deliverables/queens/puppet-cinder.yaml', 'deliverables/queens/puppet-horizon.yaml', 'deliverables/queens/puppet-openstack_extras.yaml', 'deliverables/queens/puppet-sahara.yaml', 'deliverables/queens/puppet-qdr.yaml', 'deliverables/queens/puppet-tempest.yaml', 'deliverables/queens/puppet-vswitch.yaml', 'deliverables/queens/puppet-oslo.yaml', 'deliverables/queens/puppet-trove.yaml', 'deliverables/queens/puppet-keystone.yaml', 'deliverables/queens/puppet-octavia.yaml', 'deliverables/queens/puppet-gnocchi.yaml', 'deliverables/queens/puppet-manila.yaml', 'deliverables/queens/puppet-openstacklib.yaml', 'deliverables/queens/puppet-mistral.yaml', 'deliverables/queens/puppet-swift.yaml', 'deliverables/queens/puppet-cloudkitty.yaml', 'deliverables/queens/puppet-magnum.yaml', 'deliverables/queens/puppet-nova.yaml', 'deliverables/queens/puppet-ovn.yaml', 'deliverables/queens/puppet-tacker.yaml', 'deliverables/queens/puppet-aodh.yaml', 'deliverables/queens/puppet-watcher.yaml', 'deliverables/queens/puppet-zaqar.yaml', 'deliverables/queens/puppet-ironic.yaml', 'deliverables/queens/puppet-panko.yaml', 'deliverables/queens/puppet-murano.yaml', 'deliverables/queens/puppet-designate.yaml', 'deliverables/queens/puppet-vitrage.yaml', 'deliverables/queens/puppet-barbican.yaml', 'deliverables/queens/puppet-ec2api.yaml', 'deliverables/queens/puppet-neutron.yaml']",36,4f641e2edfe27341245db2a6c518b6106f9f5824,puppet-eol, - version: queens-eol projects: - repo: openstack/puppet-neutron hash: 9e4b885595bf4dfab66f3c601484d0e8b4b5e7d3,,144,0
openstack%2Fopenstack-ansible-os_cinder~stable%2Fwallaby~I351279dab0d90e60573df7db4c80b63320dff787,openstack/openstack-ansible-os_cinder,stable/wallaby,I351279dab0d90e60573df7db4c80b63320dff787,Add the ability to disable send_actions option in cinder-volume-usage-audit service.,MERGED,2022-04-16 13:38:53.000000000,2022-04-19 12:45:57.000000000,2022-04-19 12:43:57.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-04-16 13:38:53.000000000', 'files': ['tasks/main.yml', 'releasenotes/notes/optional_cinder_audit_send_actions-76bf53ee0df68383.yaml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_cinder/commit/5e8e7720e7516b60a0c552c552ca9e35a89cff45', 'message': 'Add the ability to disable send_actions option in cinder-volume-usage-audit service.\n\nChange-Id: I351279dab0d90e60573df7db4c80b63320dff787\nCloses-Bug: #1968734\n(cherry picked from commit 66eb424de5029d92d5bf6cdd3992d9e0c8e2a63a)\n'}]",0,838211,5e8e7720e7516b60a0c552c552ca9e35a89cff45,8,3,1,29605,,,0,"Add the ability to disable send_actions option in cinder-volume-usage-audit service.

Change-Id: I351279dab0d90e60573df7db4c80b63320dff787
Closes-Bug: #1968734
(cherry picked from commit 66eb424de5029d92d5bf6cdd3992d9e0c8e2a63a)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_cinder refs/changes/11/838211/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'releasenotes/notes/optional_cinder_audit_send_actions-76bf53ee0df68383.yaml', 'defaults/main.yml']",3,5e8e7720e7516b60a0c552c552ca9e35a89cff45,cinder_audit_send_action_optional-stable/wallaby,cinder_volume_usage_audit_send_actions_enabled: True,,9,1
openstack%2Fopenstack-ansible-os_cinder~stable%2Fxena~I351279dab0d90e60573df7db4c80b63320dff787,openstack/openstack-ansible-os_cinder,stable/xena,I351279dab0d90e60573df7db4c80b63320dff787,Add the ability to disable send_actions option in cinder-volume-usage-audit service.,MERGED,2022-04-16 13:37:54.000000000,2022-04-19 12:42:17.000000000,2022-04-19 12:40:12.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-04-16 13:37:54.000000000', 'files': ['tasks/main.yml', 'releasenotes/notes/optional_cinder_audit_send_actions-76bf53ee0df68383.yaml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_cinder/commit/1a1b9f4238e74cc7d1a03499b96b24c0e6ce9b27', 'message': 'Add the ability to disable send_actions option in cinder-volume-usage-audit service.\n\nChange-Id: I351279dab0d90e60573df7db4c80b63320dff787\nCloses-Bug: #1968734\n(cherry picked from commit 66eb424de5029d92d5bf6cdd3992d9e0c8e2a63a)\n'}]",0,838210,1a1b9f4238e74cc7d1a03499b96b24c0e6ce9b27,8,3,1,29605,,,0,"Add the ability to disable send_actions option in cinder-volume-usage-audit service.

Change-Id: I351279dab0d90e60573df7db4c80b63320dff787
Closes-Bug: #1968734
(cherry picked from commit 66eb424de5029d92d5bf6cdd3992d9e0c8e2a63a)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_cinder refs/changes/10/838210/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'releasenotes/notes/optional_cinder_audit_send_actions-76bf53ee0df68383.yaml', 'defaults/main.yml']",3,1a1b9f4238e74cc7d1a03499b96b24c0e6ce9b27,cinder_audit_send_action_optional-stable/xena,cinder_volume_usage_audit_send_actions_enabled: True,,9,1
openstack%2Fbifrost~master~I614adcb7969f8744c50b57b560d22b35064c259e,openstack/bifrost,master,I614adcb7969f8744c50b57b560d22b35064c259e,DNM: Is bindep the thing causing problems?,ABANDONED,2022-04-11 14:25:50.000000000,2022-04-19 12:34:38.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-04-11 14:25:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/3fc6a695c35686bc5aba361c4fc84dea2d7bb7dc', 'message': 'DNM: Is bindep the thing causing problems?\n\nDepends-On: I1c8b768a3daf0af0d8e30d935558b6fdd912adfd\nChange-Id: I614adcb7969f8744c50b57b560d22b35064c259e\n'}, {'number': 2, 'created': '2022-04-11 15:17:57.000000000', 'files': ['zuul.d/bifrost-jobs.yaml', 'playbooks/ci/upgrade.yaml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/b235955142593431223bc8f4dee98b0adb62c2d1', 'message': 'DNM: Is bindep the thing causing problems?\n\nSkipping opendev/bindep\n\nDepends-On: I1c8b768a3daf0af0d8e30d935558b6fdd912adfd\nChange-Id: I614adcb7969f8744c50b57b560d22b35064c259e\n'}]",0,837348,b235955142593431223bc8f4dee98b0adb62c2d1,4,1,2,25600,,,0,"DNM: Is bindep the thing causing problems?

Skipping opendev/bindep

Depends-On: I1c8b768a3daf0af0d8e30d935558b6fdd912adfd
Change-Id: I614adcb7969f8744c50b57b560d22b35064c259e
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/48/837348/2 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/ci/upgrade.yaml', 'zuul.d/bifrost-jobs.yaml']",2,3fc6a695c35686bc5aba361c4fc84dea2d7bb7dc,os_family, - openstack/bindep,,4,0
openstack%2Fpuppet-ironic~stable%2Fussuri~I42f8745ee22ca63908242c48e44b1203975abd41,openstack/puppet-ironic,stable/ussuri,I42f8745ee22ca63908242c48e44b1203975abd41,Ussuri-only: Remove TripleO job,MERGED,2022-04-06 12:06:50.000000000,2022-04-19 12:28:31.000000000,2022-04-19 12:28:31.000000000,"[{'_account_id': 8449}, {'_account_id': 9816}, {'_account_id': 10239}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-06 12:06:50.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/9786c9e7bfc410862ad0be1592579b0494c46d16', 'message': 'Ussuri-only: Remove TripleO job\n\n... because TipleO project has decided to EOL Ussuri[1].\n\n[1] https://review.opendev.org/c/openstack/releases/+/834049\n\nChange-Id: I42f8745ee22ca63908242c48e44b1203975abd41\n'}]",0,836808,9786c9e7bfc410862ad0be1592579b0494c46d16,13,4,1,9816,,,0,"Ussuri-only: Remove TripleO job

... because TipleO project has decided to EOL Ussuri[1].

[1] https://review.opendev.org/c/openstack/releases/+/834049

Change-Id: I42f8745ee22ca63908242c48e44b1203975abd41
",git fetch https://review.opendev.org/openstack/puppet-ironic refs/changes/08/836808/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,9786c9e7bfc410862ad0be1592579b0494c46d16,tripleo_ussuri_teardown,, - tripleo-puppet-undercloud,0,1
openstack%2Fpuppet-cinder~stable%2Fussuri~I9269abd85da20c5d7305ad0c815722746902c0ca,openstack/puppet-cinder,stable/ussuri,I9269abd85da20c5d7305ad0c815722746902c0ca,Ussuri-only: Remove TripleO job,MERGED,2022-04-06 12:05:00.000000000,2022-04-19 12:25:38.000000000,2022-04-19 12:25:38.000000000,"[{'_account_id': 8449}, {'_account_id': 9816}, {'_account_id': 21129}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-06 12:05:00.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/fd56f66f2580de301af89e874cc7b86a2ce179aa', 'message': 'Ussuri-only: Remove TripleO job\n\n... because TipleO project has decided to EOL Ussuri[1].\n\n[1] https://review.opendev.org/c/openstack/releases/+/834049\n\nChange-Id: I9269abd85da20c5d7305ad0c815722746902c0ca\n'}]",4,836805,fd56f66f2580de301af89e874cc7b86a2ce179aa,14,4,1,9816,,,0,"Ussuri-only: Remove TripleO job

... because TipleO project has decided to EOL Ussuri[1].

[1] https://review.opendev.org/c/openstack/releases/+/834049

Change-Id: I9269abd85da20c5d7305ad0c815722746902c0ca
",git fetch https://review.opendev.org/openstack/puppet-cinder refs/changes/05/836805/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,fd56f66f2580de301af89e874cc7b86a2ce179aa,tripleo_ussuri_teardown,, check: jobs: - puppet-cinder-tripleo-standalone gate: jobs: - puppet-cinder-tripleo-standalone - job: name: puppet-cinder-tripleo-standalone parent: tripleo-puppet-ci-centos-8-standalone description: | TripleO standalone Job running Cinder specific Tempest tests. vars: build_container_images: true featureset_override: run_tempest: false tempest_services: - cinder tempest_test_whitelist: - 'tempest.scenario.test_volume_boot_pattern.TestVolumeBootPattern.test_volume_boot_pattern' - 'tempest.scenario.test_snapshot_pattern.TestSnapshotPattern.test_snapshot_pattern' use_os_tempest: true,0,22
openstack%2Fcharm-mysql-innodb-cluster~stable%2Fjammy~I1ee344e91bc6345e6d13069370ffe3bcfbcca9a3,openstack/charm-mysql-innodb-cluster,stable/jammy,I1ee344e91bc6345e6d13069370ffe3bcfbcca9a3,Updates for stable branch creation,MERGED,2022-04-15 19:04:40.000000000,2022-04-19 12:24:49.000000000,2022-04-19 12:24:49.000000000,"[{'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-15 19:04:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-mysql-innodb-cluster/commit/129839574541c8290f5e00ea5c9d4f313dc198bd', 'message': 'Updates for stable branch creation\n\n- Set default branch for git review/gerrit.\n- Switch tests to stable.\n- Switch to using stable charm-helpers branch.\n- Switch to using stable charm.openstack branch.\n- Switch to using stable zaza, zaza-openstack-tests\n  branch\n- (reactive charms) Add build.lock file\n\nChange-Id: I1ee344e91bc6345e6d13069370ffe3bcfbcca9a3\n'}, {'number': 2, 'created': '2022-04-19 06:59:40.000000000', 'files': ['.gitreview', 'test-requirements.txt', 'src/wheelhouse.txt', 'src/test-requirements.txt', 'src/build.lock'], 'web_link': 'https://opendev.org/openstack/charm-mysql-innodb-cluster/commit/be2f3d1f6007fb7e6cd031ede70de90baaad0bda', 'message': 'Updates for stable branch creation\n\n- Set default branch for git review/gerrit.\n- Switch tests to stable.\n- Switch to using stable charm-helpers branch.\n- Switch to using stable charm.openstack branch.\n- Switch to using stable zaza, zaza-openstack-tests\n  branch\n- (reactive charms) Add build.lock file\n\nChange-Id: I1ee344e91bc6345e6d13069370ffe3bcfbcca9a3\n'}]",2,838201,be2f3d1f6007fb7e6cd031ede70de90baaad0bda,14,3,2,20870,,,0,"Updates for stable branch creation

- Set default branch for git review/gerrit.
- Switch tests to stable.
- Switch to using stable charm-helpers branch.
- Switch to using stable charm.openstack branch.
- Switch to using stable zaza, zaza-openstack-tests
  branch
- (reactive charms) Add build.lock file

Change-Id: I1ee344e91bc6345e6d13069370ffe3bcfbcca9a3
",git fetch https://review.opendev.org/openstack/charm-mysql-innodb-cluster refs/changes/01/838201/1 && git format-patch -1 --stdout FETCH_HEAD,"['.gitreview', 'test-requirements.txt', 'src/wheelhouse.txt', 'src/test-requirements.txt', 'src/build.lock', 'mysql-innodb-cluster.charm']",6,129839574541c8290f5e00ea5c9d4f313dc198bd,charm-release-2204,,,255,5
openstack%2Fopenstack-ansible-rabbitmq_server~stable%2Fxena~Ia20902f0ffe21ce563966fee4d233e5ec3afe3d9,openstack/openstack-ansible-rabbitmq_server,stable/xena,Ia20902f0ffe21ce563966fee4d233e5ec3afe3d9,Verify if hosts file already managed with OSA,MERGED,2022-04-04 11:10:15.000000000,2022-04-19 12:22:49.000000000,2022-04-19 12:21:18.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 31542}, {'_account_id': 32666}]","[{'number': 1, 'created': '2022-04-04 11:10:15.000000000', 'files': ['releasenotes/notes/rabbitmq_manage_hosts-834150c45dfc0771.yaml', 'defaults/main.yml', 'tasks/rabbitmq_pre_install.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/f3de91c2549ec9306a4cdb1231fffb036a322295', 'message': 'Verify if hosts file already managed with OSA\n\nWith this patch we ensure that duplicated records are not\ncreated with rabbitmq role if hosts file already contain\nOSA managed block. Managing hosts still might be required for\nrole usage outside of the OSA so we workaround this usecase.\n\nChange-Id: Ia20902f0ffe21ce563966fee4d233e5ec3afe3d9\nRelated-Bug: #1960587\n(cherry picked from commit c8ce051651255c7168381e6861be5371d27bbedb)\n'}]",2,836166,f3de91c2549ec9306a4cdb1231fffb036a322295,14,5,1,25023,,,0,"Verify if hosts file already managed with OSA

With this patch we ensure that duplicated records are not
created with rabbitmq role if hosts file already contain
OSA managed block. Managing hosts still might be required for
role usage outside of the OSA so we workaround this usecase.

Change-Id: Ia20902f0ffe21ce563966fee4d233e5ec3afe3d9
Related-Bug: #1960587
(cherry picked from commit c8ce051651255c7168381e6861be5371d27bbedb)
",git fetch https://review.opendev.org/openstack/openstack-ansible-rabbitmq_server refs/changes/66/836166/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/rabbitmq_manage_hosts-834150c45dfc0771.yaml', 'defaults/main.yml', 'tasks/rabbitmq_pre_install.yml']",3,f3de91c2549ec9306a4cdb1231fffb036a322295,bug/1960587-stable/xena,"- name: Manage /etc/hosts files block: - name: Fail if hosts file is not managed yet command: grep ""OPENSTACK-ANSIBLE MANAGED BLOCK"" /etc/hosts changed_when: false rescue: - name: Rescue failure and add required records lineinfile: dest: /etc/hosts state: present line: ""{{ item.address }} {{ item.hostnames | join(' ') }}"" with_items: ""{{ rabbitmq_hosts_entries }}"" always: - name: Ensure localhost /etc/hosts entry is correct lineinfile: dest: /etc/hosts state: present line: '127.0.0.1 localhost' regexp: '^127\.0\.0\.1' when: - rabbitmq_manage_hosts_entries | bool","- name: Fix /etc/hosts lineinfile: dest: /etc/hosts state: present line: ""{{ item.address }} {{ item.hostnames | join(' ') }}"" with_items: ""{{ rabbitmq_hosts_entries }}"" tags: - rabbitmq-config - name: Ensure localhost /etc/hosts entry is correct lineinfile: dest: /etc/hosts state: present line: '127.0.0.1 localhost' regexp: '^127.0.0.1'",34,17
openstack%2Fos-net-config~stable%2Fwallaby~I3b3712eedf6d909f5d65ecbb1763f9dc11b04c31,openstack/os-net-config,stable/wallaby,I3b3712eedf6d909f5d65ecbb1763f9dc11b04c31,Fix failure in dpdk driver binding with VF during reboot,MERGED,2022-04-01 05:53:12.000000000,2022-04-19 12:18:30.000000000,2022-04-19 12:17:04.000000000,"[{'_account_id': 7144}, {'_account_id': 12398}, {'_account_id': 18575}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-01 05:53:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/8cdf030d39cd7a6cf87ea73e773a8bcd5394972e', 'message': ""Fix failure in dpdk driver binding with VF during reboot\n\nOn a start/reboot, os-net sriov_config.service is run to\ncreate VFs for nic-partitioned devices. If vfio-pci driver\nis bound to any of the VFs, the VF initialisation doesn't occur properly.\nThe VF creation has to be completed before driverctl vfio-pci\nbinding AND all network interface configs. Since the order of\nsriov_config service or driverctl could not be set due to cyclic\ndependencies, the driverctl --nosave is used for every reboots\nfor VFs that needs driver override. This is required in case of\nDPDK - NIC Partitioning.\n\nChange-Id: I3b3712eedf6d909f5d65ecbb1763f9dc11b04c31\n(cherry picked from commit 9ef27075ebebd27288cb8dd1859ff9e6aacca4f9)\n""}, {'number': 2, 'created': '2022-04-01 09:22:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/9764494708d0af56ef26ac3beb10ac6e23fde876', 'message': ""Fix failure in dpdk driver binding with VF during reboot\n\nOn a start/reboot, os-net sriov_config.service is run to\ncreate VFs for nic-partitioned devices. If vfio-pci driver\nis bound to any of the VFs, the VF initialisation doesn't occur properly.\nThe VF creation has to be completed before driverctl vfio-pci\nbinding AND all network interface configs. Since the order of\nsriov_config service or driverctl could not be set due to cyclic\ndependencies, the driverctl --nosave is used for every reboots\nfor VFs that needs driver override. This is required in case of\nDPDK - NIC Partitioning.\n\nConflict:\n    os_net_config/utils.py\n\nChange-Id: I3b3712eedf6d909f5d65ecbb1763f9dc11b04c31\n(cherry picked from commit 9ef27075ebebd27288cb8dd1859ff9e6aacca4f9)\n""}, {'number': 3, 'created': '2022-04-01 10:25:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/7a25ac55f25db856f7b87c58d2cca0cd19a5fe4d', 'message': ""Fix failure in dpdk driver binding with VF during reboot\n\nOn a start/reboot, os-net sriov_config.service is run to\ncreate VFs for nic-partitioned devices. If vfio-pci driver\nis bound to any of the VFs, the VF initialisation doesn't occur properly.\nThe VF creation has to be completed before driverctl vfio-pci\nbinding AND all network interface configs. Since the order of\nsriov_config service or driverctl could not be set due to cyclic\ndependencies, the driverctl --nosave is used for every reboots\nfor VFs that needs driver override. This is required in case of\nDPDK - NIC Partitioning.\n\nConflict:\n    os_net_config/utils.py\n\nChange-Id: I3b3712eedf6d909f5d65ecbb1763f9dc11b04c31\n(cherry picked from commit 9ef27075ebebd27288cb8dd1859ff9e6aacca4f9)\n""}, {'number': 4, 'created': '2022-04-04 10:14:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/c8e951459671816b150668b4f7a52c8190f9c974', 'message': ""Fix failure in dpdk driver binding with VF during reboot\n\nOn a start/reboot, os-net sriov_config.service is run to\ncreate VFs for nic-partitioned devices. If vfio-pci driver\nis bound to any of the VFs, the VF initialisation doesn't occur properly.\nThe VF creation has to be completed before driverctl vfio-pci\nbinding AND all network interface configs. Since the order of\nsriov_config service or driverctl could not be set due to cyclic\ndependencies, the driverctl --nosave is used for every reboots\nfor VFs that needs driver override. This is required in case of\nDPDK - NIC Partitioning.\n\nChange-Id: I3b3712eedf6d909f5d65ecbb1763f9dc11b04c31\n(cherry picked from commit 9ef27075ebebd27288cb8dd1859ff9e6aacca4f9)\n""}, {'number': 5, 'created': '2022-04-04 10:16:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/e18c80a3a5da2eb0f60c5ba8b52355213ecda2e2', 'message': ""Fix failure in dpdk driver binding with VF during reboot\n\nOn a start/reboot, os-net sriov_config.service is run to\ncreate VFs for nic-partitioned devices. If vfio-pci driver\nis bound to any of the VFs, the VF initialisation doesn't occur properly.\nThe VF creation has to be completed before driverctl vfio-pci\nbinding AND all network interface configs. Since the order of\nsriov_config service or driverctl could not be set due to cyclic\ndependencies, the driverctl --nosave is used for every reboots\nfor VFs that needs driver override. This is required in case of\nDPDK - NIC Partitioning.\n\nConflict:\n    os_net_config/utils.py\n\nChange-Id: I3b3712eedf6d909f5d65ecbb1763f9dc11b04c31\n(cherry picked from commit 9ef27075ebebd27288cb8dd1859ff9e6aacca4f9)\n""}, {'number': 6, 'created': '2022-04-19 06:35:16.000000000', 'files': ['os_net_config/utils.py', 'os_net_config/tests/test_objects.py', 'os_net_config/tests/test_impl_ifcfg.py', 'os_net_config/tests/test_utils.py', 'os_net_config/common.py', 'os_net_config/objects.py', 'os_net_config/sriov_config.py'], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/19307e073e6672bc6a91ea23b40f5fad9dcba80c', 'message': ""Fix failure in dpdk driver binding with VF during reboot\n\nOn a start/reboot, os-net sriov_config.service is run to\ncreate VFs for nic-partitioned devices. If vfio-pci driver\nis bound to any of the VFs, the VF initialisation doesn't occur properly.\nThe VF creation has to be completed before driverctl vfio-pci\nbinding AND all network interface configs. Since the order of\nsriov_config service or driverctl could not be set due to cyclic\ndependencies, the driverctl --nosave is used for every reboots\nfor VFs that needs driver override. This is required in case of\nDPDK - NIC Partitioning.\n\nConflict:\n    os_net_config/utils.py\n\nChange-Id: I3b3712eedf6d909f5d65ecbb1763f9dc11b04c31\n(cherry picked from commit 9ef27075ebebd27288cb8dd1859ff9e6aacca4f9)\n""}]",2,836118,19307e073e6672bc6a91ea23b40f5fad9dcba80c,22,4,6,18904,,,0,"Fix failure in dpdk driver binding with VF during reboot

On a start/reboot, os-net sriov_config.service is run to
create VFs for nic-partitioned devices. If vfio-pci driver
is bound to any of the VFs, the VF initialisation doesn't occur properly.
The VF creation has to be completed before driverctl vfio-pci
binding AND all network interface configs. Since the order of
sriov_config service or driverctl could not be set due to cyclic
dependencies, the driverctl --nosave is used for every reboots
for VFs that needs driver override. This is required in case of
DPDK - NIC Partitioning.

Conflict:
    os_net_config/utils.py

Change-Id: I3b3712eedf6d909f5d65ecbb1763f9dc11b04c31
(cherry picked from commit 9ef27075ebebd27288cb8dd1859ff9e6aacca4f9)
",git fetch https://review.opendev.org/openstack/os-net-config refs/changes/18/836118/1 && git format-patch -1 --stdout FETCH_HEAD,"['os_net_config/utils.py', 'os_net_config/tests/test_impl_ifcfg.py', 'os_net_config/tests/test_objects.py', 'os_net_config/tests/test_utils.py', 'os_net_config/common.py', 'os_net_config/objects.py', 'os_net_config/sriov_config.py']",7,8cdf030d39cd7a6cf87ea73e773a8bcd5394972e,," if 'driver' in item: common.set_driverctl_override(item['pci_address'], item['driver'])",,159,101
openstack%2Fovn-octavia-provider~stable%2Fwallaby~I3bd686db234f472c693c3ac1d23e58be58a5acb6,openstack/ovn-octavia-provider,stable/wallaby,I3bd686db234f472c693c3ac1d23e58be58a5acb6,Increase code coverage,MERGED,2022-04-11 09:24:58.000000000,2022-04-19 12:05:33.000000000,2022-04-19 12:01:14.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-11 09:24:58.000000000', 'files': ['ovn_octavia_provider/tests/unit/test_driver.py', 'ovn_octavia_provider/tests/unit/ovsdb/test_impl_idl_ovn.py', 'zuul.d/project.yaml', 'tox.ini', 'ovn_octavia_provider/tests/unit/test_helper.py'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/9f0e263ffdcb8c63b9416be1ff9d517ed918acdb', 'message': 'Increase code coverage\n\nCreate some additional tests to increase coverage to 92%.\n\nCo-authored-by: Brian Haley <haleyb.dev@gmail.com>\nCo-authored-by: Fernando Royo <froyo@redhat.com>\n\nNOTE: Stable branch backports will mantain the %age configured.\n\nConflicts:\n\ttox.ini\n\n(manually cherry picked from commit 7f00a1961d5fda9ba098c2dbcc39b978ee8b622e)\n\nChange-Id: I3bd686db234f472c693c3ac1d23e58be58a5acb6\n'}]",0,837271,9f0e263ffdcb8c63b9416be1ff9d517ed918acdb,8,3,1,34451,,,0,"Increase code coverage

Create some additional tests to increase coverage to 92%.

Co-authored-by: Brian Haley <haleyb.dev@gmail.com>
Co-authored-by: Fernando Royo <froyo@redhat.com>

NOTE: Stable branch backports will mantain the %age configured.

Conflicts:
	tox.ini

(manually cherry picked from commit 7f00a1961d5fda9ba098c2dbcc39b978ee8b622e)

Change-Id: I3bd686db234f472c693c3ac1d23e58be58a5acb6
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/71/837271/1 && git format-patch -1 --stdout FETCH_HEAD,"['ovn_octavia_provider/tests/unit/ovsdb/test_impl_idl_ovn.py', 'ovn_octavia_provider/tests/unit/test_driver.py', 'zuul.d/project.yaml', 'tox.ini', 'ovn_octavia_provider/tests/unit/test_helper.py']",5,9f0e263ffdcb8c63b9416be1ff9d517ed918acdb,wallaby," self._get_pool_listeners = mock.patch.object( self.helper, '_get_pool_listeners', return_value=[]) self._get_pool_listeners.start() @mock.patch('ovn_octavia_provider.helper.OvnProviderHelper.' '_find_ovn_lbs') def test__clean_lb_if_empty(self, lb): lb.side_effect = [idlutils.RowNotFound] self.ovn_lb.external_ids.pop('listener_%s' % self.listener_id) self.ovn_lb.external_ids.pop('pool_%s' % self.pool_id) commands, lb_to_delete = self.helper._clean_lb_if_empty( self.ovn_lb, self.ovn_lb.uuid, self.ovn_lb.external_ids) self.assertEqual([], commands) self.assertFalse(lb_to_delete) # Ensure lb is not found, due to its pool_key not found found = f(self.helper._get_pool_key(uuidutils.generate_uuid())) self.assertIsNone(found) # Multiple protocols, just one with correct protocol udp_lb = copy.copy(self.ovn_lb) udp_lb.protocol = ['udp'] self.helper.ovn_nbdb_api.db_find_rows.return_value.\ execute.return_value = [udp_lb, self.ovn_lb] found = f(self.ovn_lb.id, protocol='tcp') self.assertEqual(found, self.ovn_lb) def test__get_subnet_from_pool_lb_no_vip_subnet_id(self): f = self.helper._get_subnet_from_pool lb = data_models.LoadBalancer( loadbalancer_id=self.loadbalancer_id, name='The LB', vip_address=self.vip_address, vip_network_id=self.vip_network_id) lb_pool = data_models.Pool( loadbalancer_id=self.loadbalancer_id, name='The pool', pool_id=self.pool_id, protocol='TCP') with mock.patch.object(self.helper, '_octavia_driver_lib') as dlib: dlib.get_pool.return_value = None found = f('not_found') self.assertIsNone(found) dlib.get_pool.return_value = lb_pool dlib.get_loadbalancer.return_value = lb found = f(self.pool_id) self.assertIsNone(found) @mock.patch.object(ovn_helper.OvnProviderHelper, 'lb_create') def test__get_or_create_ovn_lb_no_vip_fip(self, lbc): self.mock_find_ovn_lbs.stop() udp_lb = copy.copy(self.ovn_lb) udp_lb.external_ids.pop(ovn_const.LB_EXT_IDS_VIP_FIP_KEY) udp_lb.protocol = ['udp'] self.helper.ovn_nbdb_api.db_find_rows.return_value.\ execute.side_effect = [[udp_lb], [self.ovn_lb]] self.helper._get_or_create_ovn_lb( self.ovn_lb.name, protocol='TCP', admin_state_up='True') expected_lb_info = { 'id': self.ovn_lb.name, 'protocol': 'tcp', 'lb_algorithm': constants.LB_ALGORITHM_SOURCE_IP_PORT, 'vip_address': udp_lb.external_ids.get( ovn_const.LB_EXT_IDS_VIP_KEY), 'vip_port_id': udp_lb.external_ids.get( ovn_const.LB_EXT_IDS_VIP_PORT_ID_KEY), ovn_const.LB_EXT_IDS_LR_REF_KEY: udp_lb.external_ids.get( ovn_const.LB_EXT_IDS_LR_REF_KEY), ovn_const.LB_EXT_IDS_LS_REFS_KEY: udp_lb.external_ids.get( ovn_const.LB_EXT_IDS_LS_REFS_KEY), 'admin_state_up': 'True'} lbc.assert_called_once_with(expected_lb_info, protocol='tcp') @mock.patch.object(ovn_helper.OvnProviderHelper, '_find_lr_of_ls') @mock.patch('ovn_octavia_provider.common.clients.get_neutron_client') def test_lb_create_assoc_lb_to_lr_by_step(self, net_cli, f_lr): self.mock_find_ovn_lbs.stop() self.helper._find_ovn_lbs self.helper.ovn_nbdb_api.db_find_rows.return_value.\ execute.return_value = [self.ovn_lb] self._update_lb_to_ls_association.stop() self.lb['admin_state_up'] = True f_lr.return_value = self.router net_cli.return_value.list_ports.return_value = self.ports self.helper._update_lb_to_lr_association.side_effect = [ idlutils.RowNotFound] status = self.helper.lb_create(self.lb) self.assertEqual(status['loadbalancers'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['loadbalancers'][0]['operating_status'], constants.ONLINE) self.helper.ovn_nbdb_api.db_create.assert_called_once_with( 'Load_Balancer', external_ids={ ovn_const.LB_EXT_IDS_VIP_KEY: mock.ANY, ovn_const.LB_EXT_IDS_VIP_PORT_ID_KEY: mock.ANY, 'enabled': 'True'}, name=mock.ANY, protocol=[], selection_fields=['ip_src', 'ip_dst', 'tp_src', 'tp_dst']) self.helper._update_lb_to_lr_association.assert_called_once_with( self.ovn_lb, self.router ) self.helper._update_lb_to_lr_association_by_step \ .assert_called_once_with( self.ovn_lb, self.router) del_port.side_effect = [Exception] status = self.helper.lb_create(self.lb) self.assertEqual(status['loadbalancers'][0]['provisioning_status'], constants.ERROR) self.assertEqual(status['loadbalancers'][0]['operating_status'], constants.ERROR) def test_lb_delete_row_not_found_port_leftover( self, del_port, get_vip_port): self.helper._find_ovn_lbs.side_effect = [idlutils.RowNotFound] get_vip_port.return_value = 'foo' del_port.side_effect = [Exception] status = self.helper.lb_delete(self.lb) self.assertEqual(status['loadbalancers'][0]['provisioning_status'], constants.ERROR) self.assertEqual(status['loadbalancers'][0]['operating_status'], constants.ERROR) self.helper.ovn_nbdb_api.lb_del.assert_not_called() del_port.assert_called_once_with('foo') get_vip_port.assert_called_once_with(self.lb['id']) @mock.patch.object(ovn_helper.OvnProviderHelper, '_get_vip_port_from_loadbalancer_id') @mock.patch.object(ovn_helper.OvnProviderHelper, 'delete_vip_port') # update to re-enable self.ovn_lb.external_ids.update({'enabled': True}) self.lb['admin_state_up'] = True status = self.helper.lb_update(self.lb) self.assertEqual(status['loadbalancers'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['loadbalancers'][0]['operating_status'], constants.ONLINE) refresh_vips.assert_called_once_with( self.ovn_lb.uuid, self.ovn_lb.external_ids) self.helper.ovn_nbdb_api.db_set.assert_called_once_with( 'Load_Balancer', self.ovn_lb.uuid, ('external_ids', {'enabled': 'True'})) # As it is marked disabled, a second call should not try and remove it self.helper.ovn_nbdb_api.db_remove.reset_mock() status = self.helper.listener_update(self.listener) self.assertEqual(status['listeners'][0]['operating_status'], constants.OFFLINE) self.helper.ovn_nbdb_api.db_remove.assert_not_called() @mock.patch.object(ovn_helper.OvnProviderHelper, '_is_lb_empty') def test_listener_delete_ovn_lb_empty_ovn_lb_not_found(self, lb_empty): """"""That test situation when the OVN and Octavia LBs are empty. That test situation when both OVN and Octavia LBs are empty, but we cannot find the OVN LB row when cleaning. """""" self.helper._find_ovn_lbs.side_effect = [ self.ovn_lb, idlutils.RowNotFound] lb_empty.return_value = True self.helper.listener_delete(self.listener) self.helper.ovn_nbdb_api.db_remove.assert_called_once_with( 'Load_Balancer', self.ovn_lb.uuid, 'external_ids', 'listener_%s' % self.listener_id) self.helper.ovn_nbdb_api.lb_del.assert_not_called() # vip refresh will have been called self.helper.ovn_nbdb_api.db_clear.assert_has_calls([ mock.call('Load_Balancer', self.ovn_lb.uuid, ('vips'))]) self.helper.ovn_nbdb_api.db_set.assert_has_calls([ mock.call('Load_Balancer', self.ovn_lb.uuid, ('vips', {}))]) self.helper.ovn_nbdb_api.db_set.side_effect = [ RuntimeError, RuntimeError] status = self.helper.pool_create(self.pool) self.assertEqual(status['pools'][0]['provisioning_status'], constants.ERROR) self.assertEqual(status['listeners'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['loadbalancers'][0]['provisioning_status'], constants.ACTIVE) self.pool['listener_id'] = None def test_pool_update_pool_disabled_change_to_down(self): self.pool.update({'admin_state_up': False}) disabled_p_key = self.helper._get_pool_key(self.pool_id, is_enabled=False) p_key = self.helper._get_pool_key(self.pool_id) self.ovn_lb.external_ids.update({ disabled_p_key: self.member_line}) self.ovn_lb.external_ids.pop(p_key) status = self.helper.pool_update(self.pool) self.assertEqual(status['loadbalancers'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['pools'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['pools'][0]['operating_status'], constants.OFFLINE) self.helper.ovn_nbdb_api.db_set.assert_not_called() def test_pool_update_listeners_none(self): status = self.helper.pool_update(self.pool) self.assertFalse(status['listeners']) @mock.patch.object(ovn_helper.OvnProviderHelper, '_find_ovn_lb_by_pool_id') @mock.patch.object(ovn_helper.OvnProviderHelper, '_find_lr_of_ls') @mock.patch('ovn_octavia_provider.common.clients.get_neutron_client') def test_member_create_lb_add_from_lr_retry(self, net_cli, f_lr, folbpi): fake_subnet = fakes.FakeSubnet.create_one_subnet() net_cli.return_value.show_subnet.return_value = {'subnet': fake_subnet} f_lr.return_value = self.router pool_key = 'pool_%s' % self.pool_id folbpi.return_value = (pool_key, self.ovn_lb) self.helper._update_lb_to_lr_association.side_effect = [ idlutils.RowNotFound] self.ovn_lb.external_ids = mock.MagicMock() status = self.helper.member_create(self.member) self.assertEqual(status['loadbalancers'][0]['provisioning_status'], constants.ACTIVE) f_lr.assert_called_once_with(self.network, fake_subnet['gateway_ip']) self.helper._update_lb_to_lr_association.assert_called_once_with( self.ovn_lb, self.router) self.helper._update_lb_to_lr_association_by_step \ .assert_called_once_with( self.ovn_lb, self.router) self.member.pop('admin_state_up') status = self.helper.member_update(self.member) self.assertEqual(status['loadbalancers'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['pools'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['members'][0]['provisioning_status'], constants.ACTIVE) fake_member = fakes.FakeMember( uuid=self.member_id, admin_state_up=True, address=self.member_address, protocol_port=self.member_port) self.octavia_driver_lib.get_member.return_value = fake_member self.member['old_admin_state_up'] = None status = self.helper.member_update(self.member) self.assertEqual(status['loadbalancers'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['pools'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['members'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['members'][0]['operating_status'], constants.ONLINE) def test_member_delete_none(self): self.ovn_lb.external_ids.update({'pool_' + self.pool_id: ''}) status = self.helper.member_delete(self.member) self.assertEqual(status['members'][0]['provisioning_status'], constants.ERROR) self.assertEqual(status['pools'][0]['provisioning_status'], constants.ACTIVE) def test__get_pool_listeners(self): self._get_pool_listeners.stop() self.ovn_lb.external_ids = { ovn_const.LB_EXT_IDS_VIP_KEY: 'fc00::', ovn_const.LB_EXT_IDS_VIP_FIP_KEY: '2002::', 'listener_%s' % self.listener_id: '80:pool_%s' % self.pool_id} ret = self.helper._get_pool_listeners( self.ovn_lb, 'pool_%s' % self.pool_id) self.assertEqual([self.listener_id], ret) def test__get_pool_listeners_not_found(self): self._get_pool_listeners.stop() self.ovn_lb.external_ids = { ovn_const.LB_EXT_IDS_VIP_KEY: 'fc00::', ovn_const.LB_EXT_IDS_VIP_FIP_KEY: '2002::', 'listener_%s' % self.listener_id: '80:pool_%s' % self.pool_id} ret = self.helper._get_pool_listeners( self.ovn_lb, 'pool_foo') self.assertEqual([], ret) def test___get_pool_listener_port(self): self._get_pool_listeners.stop() self.ovn_lb.external_ids = { ovn_const.LB_EXT_IDS_VIP_KEY: 'fc00::', ovn_const.LB_EXT_IDS_VIP_FIP_KEY: '2002::', 'listener_%s' % self.listener_id: '80:pool_%s' % self.pool_id} ret = self.helper._get_pool_listener_port( self.ovn_lb, 'pool_foo') self.assertIsNone(ret) @mock.patch.object(ovn_helper.OvnProviderHelper, '_find_ls_for_lr') def test__add_lb_to_lr_association_lr_already_associated(self, f_ls): self.ref_lb1.external_ids.update({ ovn_const.LB_EXT_IDS_LR_REF_KEY: self.router.name}) lr_ref = self.ref_lb1.external_ids.get(ovn_const.LB_EXT_IDS_LR_REF_KEY) f_ls.return_value = ['neutron-xyz', 'neutron-qwr'] self.helper._add_lb_to_lr_association( self.ref_lb1, self.router, lr_ref) self.helper.ovn_nbdb_api.lr_lb_add.assert_called_once_with( self.router.uuid, self.ref_lb1.uuid, may_exist=True) self.helper.ovn_nbdb_api.ls_lb_add.assert_has_calls([ (mock.call('neutron-xyz', self.ref_lb1.uuid, may_exist=True)), (mock.call('neutron-qwr', self.ref_lb1.uuid, may_exist=True))]) self.helper.ovn_nbdb_api.db_set.assert_not_called() @mock.patch.object(ovn_helper.OvnProviderHelper, '_find_ls_for_lr') def test__add_lb_to_lr_association_no_lr_rf(self, f_ls): lr_ref = '' f_ls.return_value = ['neutron-xyz', 'neutron-qwr'] self.helper._add_lb_to_lr_association( self.ref_lb1, self.router, lr_ref) self.helper.ovn_nbdb_api.lr_lb_add.assert_called_once_with( self.router.uuid, self.ref_lb1.uuid, may_exist=True) self.helper.ovn_nbdb_api.ls_lb_add.assert_has_calls([ (mock.call('neutron-xyz', self.ref_lb1.uuid, may_exist=True)), (mock.call('neutron-qwr', self.ref_lb1.uuid, may_exist=True))]) self.helper.ovn_nbdb_api.db_set.assert_called_once_with( 'Load_Balancer', self.ref_lb1.uuid, ('external_ids', {'lr_ref': '%s' % self.router.name})) def test__extract_listener_key_value(self): self.assertEqual( (None, None), self.helper._extract_listener_key_value('listener')) self.assertEqual( ('listener', '123'), self.helper._extract_listener_key_value('listener:123')) lrp2 = fakes.FakeOvsdbRow.create_one_ovsdb_row( attrs={ 'name': 'lrp-foo-name2', }) lr2 = fakes.FakeOVNRouter.create_one_router( attrs={ 'name': 'router2', 'ports': [lrp2]}) execute.return_value) = [lr2, lr] def test__find_lr_of_ls_no_lrs(self): lsp = fakes.FakeOvsdbRow.create_one_ovsdb_row( attrs={ 'external_ids': { ovn_const.OVN_ROUTER_NAME_EXT_ID_KEY: 'router1', 'neutron:cidrs': '10.10.10.1/24', ovn_const.OVN_DEVICE_OWNER_EXT_ID_KEY: n_const.DEVICE_OWNER_ROUTER_INTF}, 'type': 'router', 'options': { 'router-port': 'lrp-foo-name'}, }) lsp2 = fakes.FakeOvsdbRow.create_one_ovsdb_row( attrs={ 'external_ids': { ovn_const.OVN_ROUTER_NAME_EXT_ID_KEY: 'router2', 'neutron:cidrs': '10.10.10.2/24', ovn_const.OVN_DEVICE_OWNER_EXT_ID_KEY: n_const.DEVICE_OWNER_ROUTER_INTF}, 'type': 'router', 'options': { 'router-port': 'lrp-bar-name'}, }) ls = fakes.FakeOvsdbRow.create_one_ovsdb_row( attrs={'ports': [lsp2, lsp]}) (self.helper.ovn_nbdb_api.get_lrs.return_value. execute.return_value) = [] returned_lr = self.helper._find_lr_of_ls(ls, '10.10.10.1') self.assertIsNone(returned_lr) ovn_const.OVN_ROUTER_NAME_EXT_ID_KEY: 'router1', ovn_const.OVN_DEVICE_OWNER_EXT_ID_KEY: n_const.DEVICE_OWNER_ROUTER_INTF}, def test__get_member_info(self): fake_member = fakes.FakeMember( uuid=self.member['id'], member_id=self.member['id'], admin_state_up=True, name='member_2', project_id=self.project_id, address=self.member['address'], protocol_port=self.member['protocol_port'], subnet_id=self.member['subnet_id']) result = ( ovn_const.LB_EXT_IDS_MEMBER_PREFIX + fake_member.member_id + '_' + fake_member.address + ':' + fake_member.protocol_port + '_' + fake_member.subnet_id) self.assertEqual( result, self.helper._get_member_info(fake_member)) result = ( ovn_const.LB_EXT_IDS_MEMBER_PREFIX + self.member['id'] + '_' + self.member['address'] + ':' + self.member['protocol_port'] + '_' + self.member['subnet_id']) self.assertEqual( result, self.helper._get_member_info(self.member)) self.assertEqual('', self.helper._get_member_info(None)) def test__update_lb_to_ls_association_network_no_assoc_no_update_ls_ref( self): self._update_lb_to_ls_association.stop() self._get_lb_to_ls_association_commands.stop() self.helper._update_lb_to_ls_association( self.ref_lb1, network_id=self.network.uuid, associate=False, update_ls_ref=False) self.helper.ovn_nbdb_api.ls_get.assert_called_once_with( self.network.name) self.helper.ovn_nbdb_api.db_set.assert_not_called() def test__update_lb_to_ls_association_network_no_assoc_update_ls_ref( self): self._update_lb_to_ls_association.stop() self._get_lb_to_ls_association_commands.stop() self.helper._update_lb_to_ls_association( self.ref_lb1, network_id=self.network.uuid, associate=False, update_ls_ref=True) self.helper.ovn_nbdb_api.ls_lb_del.assert_called_once_with( self.network.uuid, self.ref_lb1.uuid, if_exists=True) ls_refs = {'ls_refs': '{}'} self.helper.ovn_nbdb_api.db_set.assert_called_once_with( 'Load_Balancer', self.ref_lb1.uuid, ('external_ids', ls_refs)) def test__update_lb_to_ls_association_empty_ls_refs_no_ls(self): self._update_lb_to_ls_association.stop() self._get_lb_to_ls_association_commands.stop() (self.helper.ovn_nbdb_api.ls_get.return_value.execute. return_value) = None self.ref_lb1.external_ids.pop('ls_refs') self.helper._update_lb_to_ls_association( self.ref_lb1, network_id=self.network.uuid, update_ls_ref=False) self.helper.ovn_nbdb_api.ls_lb_add.assert_not_called() self.helper.ovn_nbdb_api.db_set.assert_not_called() @mock.patch('ovn_octavia_provider.common.clients.get_neutron_client') def test_delete_vip_port_not_found(self, net_cli): net_cli.return_value.delete_port.side_effect = ( [n_exc.PortNotFoundClient]) self.helper.delete_vip_port('foo') def test_get_pool_member_id_not_found(self): ret = self.helper.get_pool_member_id( self.pool_id, mem_addr_port='192.168.2.149:9999') self.assertIsNone(ret) def test__frame_lb_vips_no_vip_fip(self): self.ovn_lb.external_ids.pop(ovn_const.LB_EXT_IDS_VIP_FIP_KEY) ret = self.helper._frame_vip_ips(self.ovn_lb.external_ids) expected = {'10.22.33.4:80': '192.168.2.149:1010'} self.assertEqual(expected, ret) "," mock.patch.object(self.helper, '_get_pool_listeners', return_value=[]).start() self.helper.ovn_nbdb_api.db_set.side_effect = [RuntimeError] execute.return_value) = [lr] ovn_const.OVN_ROUTER_NAME_EXT_ID_KEY: 'router1'},",642,7
openstack%2Fovn-octavia-provider~stable%2Fvictoria~I3bd686db234f472c693c3ac1d23e58be58a5acb6,openstack/ovn-octavia-provider,stable/victoria,I3bd686db234f472c693c3ac1d23e58be58a5acb6,Increase code coverage,MERGED,2022-04-11 10:49:15.000000000,2022-04-19 12:05:23.000000000,2022-04-19 12:01:15.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-11 10:49:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/413fb276c97b228bb63840081ba689dd2fccf741', 'message': 'Increase code coverage\n\nCreate some additional tests to increase coverage to 92%.\n\nCo-authored-by: Brian Haley <haleyb.dev@gmail.com>\nCo-authored-by: Fernando Royo <froyo@redhat.com>\n\nNOTE: Stable branch backports will mantain the %age configured.\n\nConflicts:\n\tovn_octavia_provider/tests/unit/ovsdb/test_impl_idl_ovn.py\n\tovn_octavia_provider/tests/unit/test_helper.py\n\ttox.ini\n\n(manually cherry picked from commit 7f00a1961d5fda9ba098c2dbcc39b978ee8b622e)\n\nChange-Id: I3bd686db234f472c693c3ac1d23e58be58a5acb6\n'}, {'number': 2, 'created': '2022-04-11 16:36:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/3387f703009efe47af0b05833898284b31bbfd82', 'message': 'Increase code coverage\n\nCreate some additional tests to increase coverage to 92%.\n\nCo-authored-by: Brian Haley <haleyb.dev@gmail.com>\nCo-authored-by: Fernando Royo <froyo@redhat.com>\n\nNOTE: Stable branch backports will mantain the %age configured.\n\nConflicts:\n\tovn_octavia_provider/tests/unit/ovsdb/test_impl_idl_ovn.py\n\tovn_octavia_provider/tests/unit/test_helper.py\n\ttox.ini\n\n(manually cherry picked from commit 7f00a1961d5fda9ba098c2dbcc39b978ee8b622e)\n\nChange-Id: I3bd686db234f472c693c3ac1d23e58be58a5acb6\n'}, {'number': 3, 'created': '2022-04-11 17:09:31.000000000', 'files': ['ovn_octavia_provider/tests/unit/test_driver.py', 'ovn_octavia_provider/tests/unit/ovsdb/test_impl_idl_ovn.py', 'zuul.d/project.yaml', 'tox.ini', 'ovn_octavia_provider/tests/unit/test_helper.py'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/4b3fdefbc7a48b0b023e9e25aecf641939bdd05d', 'message': 'Increase code coverage\n\nCreate some additional tests to increase coverage to 92%.\n\nCo-authored-by: Brian Haley <haleyb.dev@gmail.com>\nCo-authored-by: Fernando Royo <froyo@redhat.com>\n\nNOTE: Stable branch backports will mantain the %age configured.\n\nConflicts:\n\tovn_octavia_provider/tests/unit/ovsdb/test_impl_idl_ovn.py\n\tovn_octavia_provider/tests/unit/test_helper.py\n\ttox.ini\n\n(manually cherry picked from commit 7f00a1961d5fda9ba098c2dbcc39b978ee8b622e)\n\nChange-Id: I3bd686db234f472c693c3ac1d23e58be58a5acb6\n'}]",3,837292,4b3fdefbc7a48b0b023e9e25aecf641939bdd05d,13,3,3,34451,,,0,"Increase code coverage

Create some additional tests to increase coverage to 92%.

Co-authored-by: Brian Haley <haleyb.dev@gmail.com>
Co-authored-by: Fernando Royo <froyo@redhat.com>

NOTE: Stable branch backports will mantain the %age configured.

Conflicts:
	ovn_octavia_provider/tests/unit/ovsdb/test_impl_idl_ovn.py
	ovn_octavia_provider/tests/unit/test_helper.py
	tox.ini

(manually cherry picked from commit 7f00a1961d5fda9ba098c2dbcc39b978ee8b622e)

Change-Id: I3bd686db234f472c693c3ac1d23e58be58a5acb6
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/92/837292/1 && git format-patch -1 --stdout FETCH_HEAD,"['ovn_octavia_provider/tests/unit/ovsdb/test_impl_idl_ovn.py', 'ovn_octavia_provider/tests/unit/test_driver.py', 'zuul.d/project.yaml', 'tox.ini', 'ovn_octavia_provider/tests/unit/test_helper.py']",5,413fb276c97b228bb63840081ba689dd2fccf741,victoria," self._get_pool_listeners = mock.patch.object( self.helper, '_get_pool_listeners', return_value=[]) self._get_pool_listeners.start() @mock.patch('ovn_octavia_provider.helper.OvnProviderHelper.' '_find_ovn_lbs') def test__clean_lb_if_empty(self, lb): lb.side_effect = [idlutils.RowNotFound] self.ovn_lb.external_ids.pop('listener_%s' % self.listener_id) self.ovn_lb.external_ids.pop('pool_%s' % self.pool_id) commands, lb_to_delete = self.helper._clean_lb_if_empty( self.ovn_lb, self.ovn_lb.uuid, self.ovn_lb.external_ids) self.assertEqual([], commands) self.assertFalse(lb_to_delete) # Ensure lb is not found, due to its pool_key not found found = f(self.helper._get_pool_key(uuidutils.generate_uuid())) self.assertIsNone(found) # Multiple protocols, just one with correct protocol udp_lb = copy.copy(self.ovn_lb) udp_lb.protocol = ['udp'] self.helper.ovn_nbdb_api.db_find_rows.return_value.\ execute.return_value = [udp_lb, self.ovn_lb] found = f(self.ovn_lb.id, protocol='tcp') self.assertEqual(found, self.ovn_lb) def test__get_subnet_from_pool_lb_no_vip_subnet_id(self): f = self.helper._get_subnet_from_pool lb = data_models.LoadBalancer( loadbalancer_id=self.loadbalancer_id, name='The LB', vip_address=self.vip_address, vip_network_id=self.vip_network_id) lb_pool = data_models.Pool( loadbalancer_id=self.loadbalancer_id, name='The pool', pool_id=self.pool_id, protocol='TCP') with mock.patch.object(self.helper, '_octavia_driver_lib') as dlib: dlib.get_pool.return_value = None found = f('not_found') self.assertIsNone(found) dlib.get_pool.return_value = lb_pool dlib.get_loadbalancer.return_value = lb found = f(self.pool_id) self.assertIsNone(found) @mock.patch.object(ovn_helper.OvnProviderHelper, 'lb_create') def test__get_or_create_ovn_lb_no_vip_fip(self, lbc): self.mock_find_ovn_lbs.stop() udp_lb = copy.copy(self.ovn_lb) udp_lb.external_ids.pop(ovn_const.LB_EXT_IDS_VIP_FIP_KEY) udp_lb.protocol = ['udp'] self.helper.ovn_nbdb_api.db_find_rows.return_value.\ execute.side_effect = [[udp_lb], [self.ovn_lb]] self.helper._get_or_create_ovn_lb( self.ovn_lb.name, protocol='TCP', admin_state_up='True') expected_lb_info = { 'id': self.ovn_lb.name, 'protocol': 'tcp', 'lb_algorithm': constants.LB_ALGORITHM_SOURCE_IP_PORT, 'vip_address': udp_lb.external_ids.get( ovn_const.LB_EXT_IDS_VIP_KEY), 'vip_port_id': udp_lb.external_ids.get( ovn_const.LB_EXT_IDS_VIP_PORT_ID_KEY), ovn_const.LB_EXT_IDS_LR_REF_KEY: udp_lb.external_ids.get( ovn_const.LB_EXT_IDS_LR_REF_KEY), ovn_const.LB_EXT_IDS_LS_REFS_KEY: udp_lb.external_ids.get( ovn_const.LB_EXT_IDS_LS_REFS_KEY), 'admin_state_up': 'True'} lbc.assert_called_once_with(expected_lb_info, protocol='tcp') @mock.patch.object(ovn_helper.OvnProviderHelper, '_find_lr_of_ls') @mock.patch('ovn_octavia_provider.common.clients.get_neutron_client') def test_lb_create_assoc_lb_to_lr_by_step(self, net_cli, f_lr): self.mock_find_ovn_lbs.stop() self.helper._find_ovn_lbs self.helper.ovn_nbdb_api.db_find_rows.return_value.\ execute.return_value = [self.ovn_lb] self._update_lb_to_ls_association.stop() self.lb['admin_state_up'] = True f_lr.return_value = self.router net_cli.return_value.list_ports.return_value = self.ports self.helper._update_lb_to_lr_association.side_effect = [ idlutils.RowNotFound] status = self.helper.lb_create(self.lb) self.assertEqual(status['loadbalancers'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['loadbalancers'][0]['operating_status'], constants.ONLINE) self.helper.ovn_nbdb_api.db_create.assert_called_once_with( 'Load_Balancer', external_ids={ ovn_const.LB_EXT_IDS_VIP_KEY: mock.ANY, ovn_const.LB_EXT_IDS_VIP_PORT_ID_KEY: mock.ANY, 'enabled': 'True'}, name=mock.ANY, protocol=[], selection_fields=['ip_src', 'ip_dst', 'tp_src', 'tp_dst']) self.helper._update_lb_to_lr_association.assert_called_once_with( self.ovn_lb, self.router ) self.helper._update_lb_to_lr_association_by_step \ .assert_called_once_with( self.ovn_lb, self.router) del_port.side_effect = [Exception] status = self.helper.lb_create(self.lb) self.assertEqual(status['loadbalancers'][0]['provisioning_status'], constants.ERROR) self.assertEqual(status['loadbalancers'][0]['operating_status'], constants.ERROR) def test_lb_delete_row_not_found_port_leftover( self, del_port, get_vip_port): self.helper._find_ovn_lbs.side_effect = [idlutils.RowNotFound] get_vip_port.return_value = 'foo' del_port.side_effect = [Exception] status = self.helper.lb_delete(self.lb) self.assertEqual(status['loadbalancers'][0]['provisioning_status'], constants.ERROR) self.assertEqual(status['loadbalancers'][0]['operating_status'], constants.ERROR) self.helper.ovn_nbdb_api.lb_del.assert_not_called() del_port.assert_called_once_with('foo') get_vip_port.assert_called_once_with(self.lb['id']) @mock.patch.object(ovn_helper.OvnProviderHelper, '_get_vip_port_from_loadbalancer_id') @mock.patch.object(ovn_helper.OvnProviderHelper, 'delete_vip_port') # update to re-enable self.ovn_lb.external_ids.update({'enabled': True}) self.lb['admin_state_up'] = True status = self.helper.lb_update(self.lb) self.assertEqual(status['loadbalancers'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['loadbalancers'][0]['operating_status'], constants.ONLINE) refresh_vips.assert_called_once_with( self.ovn_lb.uuid, self.ovn_lb.external_ids) self.helper.ovn_nbdb_api.db_set.assert_called_once_with( 'Load_Balancer', self.ovn_lb.uuid, ('external_ids', {'enabled': 'True'})) # As it is marked disabled, a second call should not try and remove it self.helper.ovn_nbdb_api.db_remove.reset_mock() status = self.helper.listener_update(self.listener) self.assertEqual(status['listeners'][0]['operating_status'], constants.OFFLINE) self.helper.ovn_nbdb_api.db_remove.assert_not_called() @mock.patch.object(ovn_helper.OvnProviderHelper, '_is_lb_empty') def test_listener_delete_ovn_lb_empty_ovn_lb_not_found(self, lb_empty): """"""That test situation when the OVN and Octavia LBs are empty. That test situation when both OVN and Octavia LBs are empty, but we cannot find the OVN LB row when cleaning. """""" self.helper._find_ovn_lbs.side_effect = [ self.ovn_lb, idlutils.RowNotFound] lb_empty.return_value = True self.helper.listener_delete(self.listener) self.helper.ovn_nbdb_api.db_remove.assert_called_once_with( 'Load_Balancer', self.ovn_lb.uuid, 'external_ids', 'listener_%s' % self.listener_id) self.helper.ovn_nbdb_api.lb_del.assert_not_called() # vip refresh will have been called self.helper.ovn_nbdb_api.db_clear.assert_has_calls([ mock.call('Load_Balancer', self.ovn_lb.uuid, ('vips'))]) self.helper.ovn_nbdb_api.db_set.assert_has_calls([ mock.call('Load_Balancer', self.ovn_lb.uuid, ('vips', {}))]) self.helper.ovn_nbdb_api.db_set.side_effect = [ RuntimeError, RuntimeError] status = self.helper.pool_create(self.pool) self.assertEqual(status['pools'][0]['provisioning_status'], constants.ERROR) self.assertEqual(status['listeners'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['loadbalancers'][0]['provisioning_status'], constants.ACTIVE) self.pool['listener_id'] = None def test_pool_update_pool_disabled_change_to_down(self): self.pool.update({'admin_state_up': False}) disabled_p_key = self.helper._get_pool_key(self.pool_id, is_enabled=False) p_key = self.helper._get_pool_key(self.pool_id) self.ovn_lb.external_ids.update({ disabled_p_key: self.member_line}) self.ovn_lb.external_ids.pop(p_key) status = self.helper.pool_update(self.pool) self.assertEqual(status['loadbalancers'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['pools'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['pools'][0]['operating_status'], constants.OFFLINE) self.helper.ovn_nbdb_api.db_set.assert_not_called() def test_pool_update_listeners_none(self): status = self.helper.pool_update(self.pool) self.assertFalse(status['listeners']) @mock.patch.object(ovn_helper.OvnProviderHelper, '_find_ovn_lb_by_pool_id') @mock.patch.object(ovn_helper.OvnProviderHelper, '_find_lr_of_ls') @mock.patch('ovn_octavia_provider.common.clients.get_neutron_client') def test_member_create_lb_add_from_lr_retry(self, net_cli, f_lr, folbpi): fake_subnet = fakes.FakeSubnet.create_one_subnet() net_cli.return_value.show_subnet.return_value = {'subnet': fake_subnet} f_lr.return_value = self.router pool_key = 'pool_%s' % self.pool_id folbpi.return_value = (pool_key, self.ovn_lb) self.helper._update_lb_to_lr_association.side_effect = [ idlutils.RowNotFound] self.ovn_lb.external_ids = mock.MagicMock() status = self.helper.member_create(self.member) self.assertEqual(status['loadbalancers'][0]['provisioning_status'], constants.ACTIVE) f_lr.assert_called_once_with(self.network, fake_subnet['gateway_ip']) self.helper._update_lb_to_lr_association.assert_called_once_with( self.ovn_lb, self.router) self.helper._update_lb_to_lr_association_by_step \ .assert_called_once_with( self.ovn_lb, self.router) self.member.pop('admin_state_up') status = self.helper.member_update(self.member) self.assertEqual(status['loadbalancers'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['pools'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['members'][0]['provisioning_status'], constants.ACTIVE) fake_member = fakes.FakeMember( uuid=self.member_id, admin_state_up=True, address=self.member_address, protocol_port=self.member_port) self.octavia_driver_lib.get_member.return_value = fake_member self.member['old_admin_state_up'] = None status = self.helper.member_update(self.member) self.assertEqual(status['loadbalancers'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['pools'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['members'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['members'][0]['operating_status'], constants.ONLINE) def test_member_delete_none(self): self.ovn_lb.external_ids.update({'pool_' + self.pool_id: ''}) status = self.helper.member_delete(self.member) self.assertEqual(status['members'][0]['provisioning_status'], constants.ERROR) self.assertEqual(status['pools'][0]['provisioning_status'], constants.ACTIVE) def test__get_pool_listeners(self): self._get_pool_listeners.stop() self.ovn_lb.external_ids = { ovn_const.LB_EXT_IDS_VIP_KEY: 'fc00::', ovn_const.LB_EXT_IDS_VIP_FIP_KEY: '2002::', 'listener_%s' % self.listener_id: '80:pool_%s' % self.pool_id} ret = self.helper._get_pool_listeners( self.ovn_lb, 'pool_%s' % self.pool_id) self.assertEqual([self.listener_id], ret) def test__get_pool_listeners_not_found(self): self._get_pool_listeners.stop() self.ovn_lb.external_ids = { ovn_const.LB_EXT_IDS_VIP_KEY: 'fc00::', ovn_const.LB_EXT_IDS_VIP_FIP_KEY: '2002::', 'listener_%s' % self.listener_id: '80:pool_%s' % self.pool_id} ret = self.helper._get_pool_listeners( self.ovn_lb, 'pool_foo') self.assertEqual([], ret) def test___get_pool_listener_port(self): self._get_pool_listeners.stop() self.ovn_lb.external_ids = { ovn_const.LB_EXT_IDS_VIP_KEY: 'fc00::', ovn_const.LB_EXT_IDS_VIP_FIP_KEY: '2002::', 'listener_%s' % self.listener_id: '80:pool_%s' % self.pool_id} ret = self.helper._get_pool_listener_port( self.ovn_lb, 'pool_foo') self.assertIsNone(ret) @mock.patch.object(ovn_helper.OvnProviderHelper, '_find_ls_for_lr') def test__add_lb_to_lr_association_lr_already_associated(self, f_ls): self.ref_lb1.external_ids.update({ ovn_const.LB_EXT_IDS_LR_REF_KEY: self.router.name}) lr_ref = self.ref_lb1.external_ids.get(ovn_const.LB_EXT_IDS_LR_REF_KEY) f_ls.return_value = ['neutron-xyz', 'neutron-qwr'] self.helper._add_lb_to_lr_association( self.ref_lb1, self.router, lr_ref) self.helper.ovn_nbdb_api.lr_lb_add.assert_called_once_with( self.router.uuid, self.ref_lb1.uuid, may_exist=True) self.helper.ovn_nbdb_api.ls_lb_add.assert_has_calls([ (mock.call('neutron-xyz', self.ref_lb1.uuid, may_exist=True)), (mock.call('neutron-qwr', self.ref_lb1.uuid, may_exist=True))]) self.helper.ovn_nbdb_api.db_set.assert_not_called() @mock.patch.object(ovn_helper.OvnProviderHelper, '_find_ls_for_lr') def test__add_lb_to_lr_association_no_lr_rf(self, f_ls): lr_ref = '' f_ls.return_value = ['neutron-xyz', 'neutron-qwr'] self.helper._add_lb_to_lr_association( self.ref_lb1, self.router, lr_ref) self.helper.ovn_nbdb_api.lr_lb_add.assert_called_once_with( self.router.uuid, self.ref_lb1.uuid, may_exist=True) self.helper.ovn_nbdb_api.ls_lb_add.assert_has_calls([ (mock.call('neutron-xyz', self.ref_lb1.uuid, may_exist=True)), (mock.call('neutron-qwr', self.ref_lb1.uuid, may_exist=True))]) self.helper.ovn_nbdb_api.db_set.assert_called_once_with( 'Load_Balancer', self.ref_lb1.uuid, ('external_ids', {'lr_ref': '%s' % self.router.name})) def test__extract_listener_key_value(self): self.assertEqual( (None, None), self.helper._extract_listener_key_value('listener')) self.assertEqual( ('listener', '123'), self.helper._extract_listener_key_value('listener:123')) lrp2 = fakes.FakeOvsdbRow.create_one_ovsdb_row( attrs={ 'name': 'lrp-foo-name2', }) lr2 = fakes.FakeOVNRouter.create_one_router( attrs={ 'name': 'router2', 'ports': [lrp2]}) execute.return_value) = [lr2, lr] def test__find_lr_of_ls_no_lrs(self): lsp = fakes.FakeOvsdbRow.create_one_ovsdb_row( attrs={ 'external_ids': { ovn_const.OVN_ROUTER_NAME_EXT_ID_KEY: 'router1', 'neutron:cidrs': '10.10.10.1/24', ovn_const.OVN_DEVICE_OWNER_EXT_ID_KEY: n_const.DEVICE_OWNER_ROUTER_INTF}, 'type': 'router', 'options': { 'router-port': 'lrp-foo-name'}, }) lsp2 = fakes.FakeOvsdbRow.create_one_ovsdb_row( attrs={ 'external_ids': { ovn_const.OVN_ROUTER_NAME_EXT_ID_KEY: 'router2', 'neutron:cidrs': '10.10.10.2/24', ovn_const.OVN_DEVICE_OWNER_EXT_ID_KEY: n_const.DEVICE_OWNER_ROUTER_INTF}, 'type': 'router', 'options': { 'router-port': 'lrp-bar-name'}, }) ls = fakes.FakeOvsdbRow.create_one_ovsdb_row( attrs={'ports': [lsp2, lsp]}) (self.helper.ovn_nbdb_api.get_lrs.return_value. execute.return_value) = [] returned_lr = self.helper._find_lr_of_ls(ls, '10.10.10.1') self.assertIsNone(returned_lr) ovn_const.OVN_ROUTER_NAME_EXT_ID_KEY: 'router1', ovn_const.OVN_DEVICE_OWNER_EXT_ID_KEY: n_const.DEVICE_OWNER_ROUTER_INTF}, def test__get_member_info(self): fake_member = fakes.FakeMember( uuid=self.member['id'], member_id=self.member['id'], admin_state_up=True, name='member_2', project_id=self.project_id, address=self.member['address'], protocol_port=self.member['protocol_port'], subnet_id=self.member['subnet_id']) result = ( ovn_const.LB_EXT_IDS_MEMBER_PREFIX + fake_member.member_id + '_' + fake_member.address + ':' + fake_member.protocol_port + '_' + fake_member.subnet_id) self.assertEqual( result, self.helper._get_member_info(fake_member)) result = ( ovn_const.LB_EXT_IDS_MEMBER_PREFIX + self.member['id'] + '_' + self.member['address'] + ':' + self.member['protocol_port'] + '_' + self.member['subnet_id']) self.assertEqual( result, self.helper._get_member_info(self.member)) self.assertEqual('', self.helper._get_member_info(None)) def test__update_lb_to_ls_association_network_no_assoc_no_update_ls_ref( self): self._update_lb_to_ls_association.stop() self._get_lb_to_ls_association_commands.stop() self.helper._update_lb_to_ls_association( self.ref_lb1, network_id=self.network.uuid, associate=False, update_ls_ref=False) self.helper.ovn_nbdb_api.ls_get.assert_called_once_with( self.network.name) self.helper.ovn_nbdb_api.db_set.assert_not_called() def test__update_lb_to_ls_association_network_no_assoc_update_ls_ref( self): self._update_lb_to_ls_association.stop() self._get_lb_to_ls_association_commands.stop() self.helper._update_lb_to_ls_association( self.ref_lb1, network_id=self.network.uuid, associate=False, update_ls_ref=True) self.helper.ovn_nbdb_api.ls_lb_del.assert_called_once_with( self.network.uuid, self.ref_lb1.uuid, if_exists=True) ls_refs = {'ls_refs': '{}'} self.helper.ovn_nbdb_api.db_set.assert_called_once_with( 'Load_Balancer', self.ref_lb1.uuid, ('external_ids', ls_refs)) def test__update_lb_to_ls_association_empty_ls_refs_no_ls(self): self._update_lb_to_ls_association.stop() self._get_lb_to_ls_association_commands.stop() (self.helper.ovn_nbdb_api.ls_get.return_value.execute. return_value) = None self.ref_lb1.external_ids.pop('ls_refs') self.helper._update_lb_to_ls_association( self.ref_lb1, network_id=self.network.uuid, update_ls_ref=False) self.helper.ovn_nbdb_api.ls_lb_add.assert_not_called() self.helper.ovn_nbdb_api.db_set.assert_not_called() @mock.patch('ovn_octavia_provider.common.clients.get_neutron_client') def test_delete_vip_port_not_found(self, net_cli): net_cli.return_value.delete_port.side_effect = ( [n_exc.PortNotFoundClient]) self.helper.delete_vip_port('foo') def test_get_pool_member_id_not_found(self): ret = self.helper.get_pool_member_id( self.pool_id, mem_addr_port='192.168.2.149:9999') self.assertIsNone(ret) def test__frame_lb_vips_no_vip_fip(self): self.ovn_lb.external_ids.pop(ovn_const.LB_EXT_IDS_VIP_FIP_KEY) ret = self.helper._frame_vip_ips(self.ovn_lb.external_ids) expected = {'10.22.33.4:80': '192.168.2.149:1010'} self.assertEqual(expected, ret) "," mock.patch.object(self.helper, '_get_pool_listeners', return_value=[]).start() self.helper.ovn_nbdb_api.db_set.side_effect = [RuntimeError] execute.return_value) = [lr] ovn_const.OVN_ROUTER_NAME_EXT_ID_KEY: 'router1'},",688,7
openstack%2Fovn-octavia-provider~stable%2Fyoga~I3bd686db234f472c693c3ac1d23e58be58a5acb6,openstack/ovn-octavia-provider,stable/yoga,I3bd686db234f472c693c3ac1d23e58be58a5acb6,Increase code coverage,MERGED,2022-04-11 09:12:24.000000000,2022-04-19 12:04:57.000000000,2022-04-19 11:59:49.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-11 09:12:24.000000000', 'files': ['ovn_octavia_provider/tests/unit/test_driver.py', 'ovn_octavia_provider/tests/unit/ovsdb/test_impl_idl_ovn.py', 'zuul.d/project.yaml', 'ovn_octavia_provider/tests/unit/test_helper.py'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/e33154c9c85004086d97b9bc36651dbdfb7303cc', 'message': 'Increase code coverage\n\nCreate some additional tests to increase coverage to 92%.\n\nCo-authored-by: Brian Haley <haleyb.dev@gmail.com>\nCo-authored-by: Fernando Royo <froyo@redhat.com>\n\nNOTE: Stable branch backports will mantain the %age configured.\n\nChange-Id: I3bd686db234f472c693c3ac1d23e58be58a5acb6\n(cherry picked from commit 7f00a1961d5fda9ba098c2dbcc39b978ee8b622e)\n'}]",1,837268,e33154c9c85004086d97b9bc36651dbdfb7303cc,8,3,1,34451,,,0,"Increase code coverage

Create some additional tests to increase coverage to 92%.

Co-authored-by: Brian Haley <haleyb.dev@gmail.com>
Co-authored-by: Fernando Royo <froyo@redhat.com>

NOTE: Stable branch backports will mantain the %age configured.

Change-Id: I3bd686db234f472c693c3ac1d23e58be58a5acb6
(cherry picked from commit 7f00a1961d5fda9ba098c2dbcc39b978ee8b622e)
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/68/837268/1 && git format-patch -1 --stdout FETCH_HEAD,"['ovn_octavia_provider/tests/unit/ovsdb/test_impl_idl_ovn.py', 'ovn_octavia_provider/tests/unit/test_driver.py', 'zuul.d/project.yaml', 'ovn_octavia_provider/tests/unit/test_helper.py']",4,e33154c9c85004086d97b9bc36651dbdfb7303cc,," self._get_pool_listeners = mock.patch.object( self.helper, '_get_pool_listeners', return_value=[]) self._get_pool_listeners.start() @mock.patch('ovn_octavia_provider.helper.OvnProviderHelper.' '_find_ovn_lbs') def test__clean_lb_if_empty(self, lb): lb.side_effect = [idlutils.RowNotFound] self.ovn_lb.external_ids.pop('listener_%s' % self.listener_id) self.ovn_lb.external_ids.pop('pool_%s' % self.pool_id) commands, lb_to_delete = self.helper._clean_lb_if_empty( self.ovn_lb, self.ovn_lb.uuid, self.ovn_lb.external_ids) self.assertEqual([], commands) self.assertFalse(lb_to_delete) # Ensure lb is not found, due to its pool_key not found found = f(self.helper._get_pool_key(uuidutils.generate_uuid())) self.assertIsNone(found) # Multiple protocols, just one with correct protocol udp_lb = copy.copy(self.ovn_lb) udp_lb.protocol = ['udp'] self.helper.ovn_nbdb_api.db_find_rows.return_value.\ execute.return_value = [udp_lb, self.ovn_lb] found = f(self.ovn_lb.id, protocol='tcp') self.assertEqual(found, self.ovn_lb) def test__get_subnet_from_pool_lb_no_vip_subnet_id(self): f = self.helper._get_subnet_from_pool lb = data_models.LoadBalancer( loadbalancer_id=self.loadbalancer_id, name='The LB', vip_address=self.vip_address, vip_network_id=self.vip_network_id) lb_pool = data_models.Pool( loadbalancer_id=self.loadbalancer_id, name='The pool', pool_id=self.pool_id, protocol='TCP') with mock.patch.object(self.helper, '_octavia_driver_lib') as dlib: dlib.get_pool.return_value = None found = f('not_found') self.assertIsNone(found) dlib.get_pool.return_value = lb_pool dlib.get_loadbalancer.return_value = lb found = f(self.pool_id) self.assertIsNone(found) @mock.patch.object(ovn_helper.OvnProviderHelper, 'lb_create') def test__get_or_create_ovn_lb_no_vip_fip(self, lbc): self.mock_find_ovn_lbs.stop() udp_lb = copy.copy(self.ovn_lb) udp_lb.external_ids.pop(ovn_const.LB_EXT_IDS_VIP_FIP_KEY) udp_lb.protocol = ['udp'] self.helper.ovn_nbdb_api.db_find_rows.return_value.\ execute.side_effect = [[udp_lb], [self.ovn_lb]] self.helper._get_or_create_ovn_lb( self.ovn_lb.name, protocol='TCP', admin_state_up='True') expected_lb_info = { 'id': self.ovn_lb.name, 'protocol': 'tcp', 'lb_algorithm': constants.LB_ALGORITHM_SOURCE_IP_PORT, 'vip_address': udp_lb.external_ids.get( ovn_const.LB_EXT_IDS_VIP_KEY), 'vip_port_id': udp_lb.external_ids.get( ovn_const.LB_EXT_IDS_VIP_PORT_ID_KEY), ovn_const.LB_EXT_IDS_LR_REF_KEY: udp_lb.external_ids.get( ovn_const.LB_EXT_IDS_LR_REF_KEY), ovn_const.LB_EXT_IDS_LS_REFS_KEY: udp_lb.external_ids.get( ovn_const.LB_EXT_IDS_LS_REFS_KEY), 'admin_state_up': 'True'} lbc.assert_called_once_with(expected_lb_info, protocol='tcp') @mock.patch.object(ovn_helper.OvnProviderHelper, '_find_lr_of_ls') @mock.patch('ovn_octavia_provider.common.clients.get_neutron_client') def test_lb_create_assoc_lb_to_lr_by_step(self, net_cli, f_lr): self.mock_find_ovn_lbs.stop() self.helper._find_ovn_lbs self.helper.ovn_nbdb_api.db_find_rows.return_value.\ execute.return_value = [self.ovn_lb] self._update_lb_to_ls_association.stop() self.lb['admin_state_up'] = True f_lr.return_value = self.router net_cli.return_value.list_ports.return_value = self.ports self.helper._update_lb_to_lr_association.side_effect = [ idlutils.RowNotFound] status = self.helper.lb_create(self.lb) self.assertEqual(status['loadbalancers'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['loadbalancers'][0]['operating_status'], constants.ONLINE) self.helper.ovn_nbdb_api.db_create.assert_called_once_with( 'Load_Balancer', external_ids={ ovn_const.LB_EXT_IDS_VIP_KEY: mock.ANY, ovn_const.LB_EXT_IDS_VIP_PORT_ID_KEY: mock.ANY, 'enabled': 'True'}, name=mock.ANY, protocol=[], selection_fields=['ip_src', 'ip_dst', 'tp_src', 'tp_dst']) self.helper._update_lb_to_lr_association.assert_called_once_with( self.ovn_lb, self.router ) self.helper._update_lb_to_lr_association_by_step \ .assert_called_once_with( self.ovn_lb, self.router) del_port.side_effect = [Exception] status = self.helper.lb_create(self.lb) self.assertEqual(status['loadbalancers'][0]['provisioning_status'], constants.ERROR) self.assertEqual(status['loadbalancers'][0]['operating_status'], constants.ERROR) def test_lb_delete_row_not_found_port_leftover( self, del_port, get_vip_port): self.helper._find_ovn_lbs.side_effect = [idlutils.RowNotFound] get_vip_port.return_value = 'foo' del_port.side_effect = [Exception] status = self.helper.lb_delete(self.lb) self.assertEqual(status['loadbalancers'][0]['provisioning_status'], constants.ERROR) self.assertEqual(status['loadbalancers'][0]['operating_status'], constants.ERROR) self.helper.ovn_nbdb_api.lb_del.assert_not_called() del_port.assert_called_once_with('foo') get_vip_port.assert_called_once_with(self.lb['id']) @mock.patch.object(ovn_helper.OvnProviderHelper, '_get_vip_port_from_loadbalancer_id') @mock.patch.object(ovn_helper.OvnProviderHelper, 'delete_vip_port') # update to re-enable self.ovn_lb.external_ids.update({'enabled': True}) self.lb['admin_state_up'] = True status = self.helper.lb_update(self.lb) self.assertEqual(status['loadbalancers'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['loadbalancers'][0]['operating_status'], constants.ONLINE) refresh_vips.assert_called_once_with( self.ovn_lb.uuid, self.ovn_lb.external_ids) self.helper.ovn_nbdb_api.db_set.assert_called_once_with( 'Load_Balancer', self.ovn_lb.uuid, ('external_ids', {'enabled': 'True'})) # As it is marked disabled, a second call should not try and remove it self.helper.ovn_nbdb_api.db_remove.reset_mock() status = self.helper.listener_update(self.listener) self.assertEqual(status['listeners'][0]['operating_status'], constants.OFFLINE) self.helper.ovn_nbdb_api.db_remove.assert_not_called() @mock.patch.object(ovn_helper.OvnProviderHelper, '_is_lb_empty') def test_listener_delete_ovn_lb_empty_ovn_lb_not_found(self, lb_empty): """"""That test situation when the OVN and Octavia LBs are empty. That test situation when both OVN and Octavia LBs are empty, but we cannot find the OVN LB row when cleaning. """""" self.helper._find_ovn_lbs.side_effect = [ self.ovn_lb, idlutils.RowNotFound] lb_empty.return_value = True self.helper.listener_delete(self.listener) self.helper.ovn_nbdb_api.db_remove.assert_called_once_with( 'Load_Balancer', self.ovn_lb.uuid, 'external_ids', 'listener_%s' % self.listener_id) self.helper.ovn_nbdb_api.lb_del.assert_not_called() # vip refresh will have been called self.helper.ovn_nbdb_api.db_clear.assert_has_calls([ mock.call('Load_Balancer', self.ovn_lb.uuid, ('vips'))]) self.helper.ovn_nbdb_api.db_set.assert_has_calls([ mock.call('Load_Balancer', self.ovn_lb.uuid, ('vips', {}))]) self.helper.ovn_nbdb_api.db_set.side_effect = [ RuntimeError, RuntimeError] status = self.helper.pool_create(self.pool) self.assertEqual(status['pools'][0]['provisioning_status'], constants.ERROR) self.assertEqual(status['listeners'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['loadbalancers'][0]['provisioning_status'], constants.ACTIVE) self.pool['listener_id'] = None def test_pool_update_pool_disabled_change_to_down(self): self.pool.update({'admin_state_up': False}) disabled_p_key = self.helper._get_pool_key(self.pool_id, is_enabled=False) p_key = self.helper._get_pool_key(self.pool_id) self.ovn_lb.external_ids.update({ disabled_p_key: self.member_line}) self.ovn_lb.external_ids.pop(p_key) status = self.helper.pool_update(self.pool) self.assertEqual(status['loadbalancers'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['pools'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['pools'][0]['operating_status'], constants.OFFLINE) self.helper.ovn_nbdb_api.db_set.assert_not_called() def test_pool_update_listeners_none(self): status = self.helper.pool_update(self.pool) self.assertFalse(status['listeners']) @mock.patch.object(ovn_helper.OvnProviderHelper, '_find_ovn_lb_by_pool_id') @mock.patch.object(ovn_helper.OvnProviderHelper, '_find_lr_of_ls') @mock.patch('ovn_octavia_provider.common.clients.get_neutron_client') def test_member_create_lb_add_from_lr_retry(self, net_cli, f_lr, folbpi): fake_subnet = fakes.FakeSubnet.create_one_subnet() net_cli.return_value.show_subnet.return_value = {'subnet': fake_subnet} f_lr.return_value = self.router pool_key = 'pool_%s' % self.pool_id folbpi.return_value = (pool_key, self.ovn_lb) self.helper._update_lb_to_lr_association.side_effect = [ idlutils.RowNotFound] self.ovn_lb.external_ids = mock.MagicMock() status = self.helper.member_create(self.member) self.assertEqual(status['loadbalancers'][0]['provisioning_status'], constants.ACTIVE) f_lr.assert_called_once_with(self.network, fake_subnet['gateway_ip']) self.helper._update_lb_to_lr_association.assert_called_once_with( self.ovn_lb, self.router) self.helper._update_lb_to_lr_association_by_step \ .assert_called_once_with( self.ovn_lb, self.router) self.member.pop('admin_state_up') status = self.helper.member_update(self.member) self.assertEqual(status['loadbalancers'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['pools'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['members'][0]['provisioning_status'], constants.ACTIVE) fake_member = fakes.FakeMember( uuid=self.member_id, admin_state_up=True, address=self.member_address, protocol_port=self.member_port) self.octavia_driver_lib.get_member.return_value = fake_member self.member['old_admin_state_up'] = None status = self.helper.member_update(self.member) self.assertEqual(status['loadbalancers'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['pools'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['members'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['members'][0]['operating_status'], constants.ONLINE) def test_member_delete_none(self): self.ovn_lb.external_ids.update({'pool_' + self.pool_id: ''}) status = self.helper.member_delete(self.member) self.assertEqual(status['members'][0]['provisioning_status'], constants.ERROR) self.assertEqual(status['pools'][0]['provisioning_status'], constants.ACTIVE) def test__get_pool_listeners(self): self._get_pool_listeners.stop() self.ovn_lb.external_ids = { ovn_const.LB_EXT_IDS_VIP_KEY: 'fc00::', ovn_const.LB_EXT_IDS_VIP_FIP_KEY: '2002::', 'listener_%s' % self.listener_id: '80:pool_%s' % self.pool_id} ret = self.helper._get_pool_listeners( self.ovn_lb, 'pool_%s' % self.pool_id) self.assertEqual([self.listener_id], ret) def test__get_pool_listeners_not_found(self): self._get_pool_listeners.stop() self.ovn_lb.external_ids = { ovn_const.LB_EXT_IDS_VIP_KEY: 'fc00::', ovn_const.LB_EXT_IDS_VIP_FIP_KEY: '2002::', 'listener_%s' % self.listener_id: '80:pool_%s' % self.pool_id} ret = self.helper._get_pool_listeners( self.ovn_lb, 'pool_foo') self.assertEqual([], ret) def test___get_pool_listener_port(self): self._get_pool_listeners.stop() self.ovn_lb.external_ids = { ovn_const.LB_EXT_IDS_VIP_KEY: 'fc00::', ovn_const.LB_EXT_IDS_VIP_FIP_KEY: '2002::', 'listener_%s' % self.listener_id: '80:pool_%s' % self.pool_id} ret = self.helper._get_pool_listener_port( self.ovn_lb, 'pool_foo') self.assertIsNone(ret) @mock.patch.object(ovn_helper.OvnProviderHelper, '_find_ls_for_lr') def test__add_lb_to_lr_association_lr_already_associated(self, f_ls): self.ref_lb1.external_ids.update({ ovn_const.LB_EXT_IDS_LR_REF_KEY: self.router.name}) lr_ref = self.ref_lb1.external_ids.get(ovn_const.LB_EXT_IDS_LR_REF_KEY) f_ls.return_value = ['neutron-xyz', 'neutron-qwr'] self.helper._add_lb_to_lr_association( self.ref_lb1, self.router, lr_ref) self.helper.ovn_nbdb_api.lr_lb_add.assert_called_once_with( self.router.uuid, self.ref_lb1.uuid, may_exist=True) self.helper.ovn_nbdb_api.ls_lb_add.assert_has_calls([ (mock.call('neutron-xyz', self.ref_lb1.uuid, may_exist=True)), (mock.call('neutron-qwr', self.ref_lb1.uuid, may_exist=True))]) self.helper.ovn_nbdb_api.db_set.assert_not_called() @mock.patch.object(ovn_helper.OvnProviderHelper, '_find_ls_for_lr') def test__add_lb_to_lr_association_no_lr_rf(self, f_ls): lr_ref = '' f_ls.return_value = ['neutron-xyz', 'neutron-qwr'] self.helper._add_lb_to_lr_association( self.ref_lb1, self.router, lr_ref) self.helper.ovn_nbdb_api.lr_lb_add.assert_called_once_with( self.router.uuid, self.ref_lb1.uuid, may_exist=True) self.helper.ovn_nbdb_api.ls_lb_add.assert_has_calls([ (mock.call('neutron-xyz', self.ref_lb1.uuid, may_exist=True)), (mock.call('neutron-qwr', self.ref_lb1.uuid, may_exist=True))]) self.helper.ovn_nbdb_api.db_set.assert_called_once_with( 'Load_Balancer', self.ref_lb1.uuid, ('external_ids', {'lr_ref': '%s' % self.router.name})) def test__extract_listener_key_value(self): self.assertEqual( (None, None), self.helper._extract_listener_key_value('listener')) self.assertEqual( ('listener', '123'), self.helper._extract_listener_key_value('listener:123')) lrp2 = fakes.FakeOvsdbRow.create_one_ovsdb_row( attrs={ 'name': 'lrp-foo-name2', }) lr2 = fakes.FakeOVNRouter.create_one_router( attrs={ 'name': 'router2', 'ports': [lrp2]}) execute.return_value) = [lr2, lr] def test__find_lr_of_ls_no_lrs(self): lsp = fakes.FakeOvsdbRow.create_one_ovsdb_row( attrs={ 'external_ids': { ovn_const.OVN_ROUTER_NAME_EXT_ID_KEY: 'router1', 'neutron:cidrs': '10.10.10.1/24', ovn_const.OVN_DEVICE_OWNER_EXT_ID_KEY: n_const.DEVICE_OWNER_ROUTER_INTF}, 'type': 'router', 'options': { 'router-port': 'lrp-foo-name'}, }) lsp2 = fakes.FakeOvsdbRow.create_one_ovsdb_row( attrs={ 'external_ids': { ovn_const.OVN_ROUTER_NAME_EXT_ID_KEY: 'router2', 'neutron:cidrs': '10.10.10.2/24', ovn_const.OVN_DEVICE_OWNER_EXT_ID_KEY: n_const.DEVICE_OWNER_ROUTER_INTF}, 'type': 'router', 'options': { 'router-port': 'lrp-bar-name'}, }) ls = fakes.FakeOvsdbRow.create_one_ovsdb_row( attrs={'ports': [lsp2, lsp]}) (self.helper.ovn_nbdb_api.get_lrs.return_value. execute.return_value) = [] returned_lr = self.helper._find_lr_of_ls(ls, '10.10.10.1') self.assertIsNone(returned_lr) ovn_const.OVN_ROUTER_NAME_EXT_ID_KEY: 'router1', ovn_const.OVN_DEVICE_OWNER_EXT_ID_KEY: n_const.DEVICE_OWNER_ROUTER_INTF}, def test__get_member_info(self): fake_member = fakes.FakeMember( uuid=self.member['id'], member_id=self.member['id'], admin_state_up=True, name='member_2', project_id=self.project_id, address=self.member['address'], protocol_port=self.member['protocol_port'], subnet_id=self.member['subnet_id']) result = ( ovn_const.LB_EXT_IDS_MEMBER_PREFIX + fake_member.member_id + '_' + fake_member.address + ':' + fake_member.protocol_port + '_' + fake_member.subnet_id) self.assertEqual( result, self.helper._get_member_info(fake_member)) result = ( ovn_const.LB_EXT_IDS_MEMBER_PREFIX + self.member['id'] + '_' + self.member['address'] + ':' + self.member['protocol_port'] + '_' + self.member['subnet_id']) self.assertEqual( result, self.helper._get_member_info(self.member)) self.assertEqual('', self.helper._get_member_info(None)) def test__update_lb_to_ls_association_network_no_assoc_no_update_ls_ref( self): self._update_lb_to_ls_association.stop() self._get_lb_to_ls_association_commands.stop() self.helper._update_lb_to_ls_association( self.ref_lb1, network_id=self.network.uuid, associate=False, update_ls_ref=False) self.helper.ovn_nbdb_api.ls_get.assert_called_once_with( self.network.name) self.helper.ovn_nbdb_api.db_set.assert_not_called() def test__update_lb_to_ls_association_network_no_assoc_update_ls_ref( self): self._update_lb_to_ls_association.stop() self._get_lb_to_ls_association_commands.stop() self.helper._update_lb_to_ls_association( self.ref_lb1, network_id=self.network.uuid, associate=False, update_ls_ref=True) self.helper.ovn_nbdb_api.ls_lb_del.assert_called_once_with( self.network.uuid, self.ref_lb1.uuid, if_exists=True) ls_refs = {'ls_refs': '{}'} self.helper.ovn_nbdb_api.db_set.assert_called_once_with( 'Load_Balancer', self.ref_lb1.uuid, ('external_ids', ls_refs)) def test__update_lb_to_ls_association_empty_ls_refs_no_ls(self): self._update_lb_to_ls_association.stop() self._get_lb_to_ls_association_commands.stop() (self.helper.ovn_nbdb_api.ls_get.return_value.execute. return_value) = None self.ref_lb1.external_ids.pop('ls_refs') self.helper._update_lb_to_ls_association( self.ref_lb1, network_id=self.network.uuid, update_ls_ref=False) self.helper.ovn_nbdb_api.ls_lb_add.assert_not_called() self.helper.ovn_nbdb_api.db_set.assert_not_called() @mock.patch('ovn_octavia_provider.common.clients.get_neutron_client') def test_delete_vip_port_not_found(self, net_cli): net_cli.return_value.delete_port.side_effect = ( [n_exc.PortNotFoundClient]) self.helper.delete_vip_port('foo') def test_get_pool_member_id_not_found(self): ret = self.helper.get_pool_member_id( self.pool_id, mem_addr_port='192.168.2.149:9999') self.assertIsNone(ret) def test__frame_lb_vips_no_vip_fip(self): self.ovn_lb.external_ids.pop(ovn_const.LB_EXT_IDS_VIP_FIP_KEY) ret = self.helper._frame_vip_ips(self.ovn_lb.external_ids) expected = {'10.22.33.4:80': '192.168.2.149:1010'} self.assertEqual(expected, ret) "," mock.patch.object(self.helper, '_get_pool_listeners', return_value=[]).start() self.helper.ovn_nbdb_api.db_set.side_effect = [RuntimeError] execute.return_value) = [lr] ovn_const.OVN_ROUTER_NAME_EXT_ID_KEY: 'router1'},",641,6
openstack%2Fovn-octavia-provider~stable%2Fxena~I3bd686db234f472c693c3ac1d23e58be58a5acb6,openstack/ovn-octavia-provider,stable/xena,I3bd686db234f472c693c3ac1d23e58be58a5acb6,Increase code coverage,MERGED,2022-04-11 09:20:50.000000000,2022-04-19 12:04:51.000000000,2022-04-19 11:59:51.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-11 09:20:50.000000000', 'files': ['ovn_octavia_provider/tests/unit/test_driver.py', 'ovn_octavia_provider/tests/unit/ovsdb/test_impl_idl_ovn.py', 'zuul.d/project.yaml', 'tox.ini', 'ovn_octavia_provider/tests/unit/test_helper.py'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/94605e8d26fd2a87b56187194ebfc3663fb9833a', 'message': 'Increase code coverage\n\nCreate some additional tests to increase coverage to 92%.\n\nCo-authored-by: Brian Haley <haleyb.dev@gmail.com>\nCo-authored-by: Fernando Royo <froyo@redhat.com>\n\nNOTE: Stable branch backports will mantain the %age configured.\n\nConflicts:\n\ttox.ini\n(manually cherry picked from commit 7f00a1961d5fda9ba098c2dbcc39b978ee8b622e)\n\nChange-Id: I3bd686db234f472c693c3ac1d23e58be58a5acb6\n'}]",2,837270,94605e8d26fd2a87b56187194ebfc3663fb9833a,10,3,1,34451,,,0,"Increase code coverage

Create some additional tests to increase coverage to 92%.

Co-authored-by: Brian Haley <haleyb.dev@gmail.com>
Co-authored-by: Fernando Royo <froyo@redhat.com>

NOTE: Stable branch backports will mantain the %age configured.

Conflicts:
	tox.ini
(manually cherry picked from commit 7f00a1961d5fda9ba098c2dbcc39b978ee8b622e)

Change-Id: I3bd686db234f472c693c3ac1d23e58be58a5acb6
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/70/837270/1 && git format-patch -1 --stdout FETCH_HEAD,"['ovn_octavia_provider/tests/unit/ovsdb/test_impl_idl_ovn.py', 'ovn_octavia_provider/tests/unit/test_driver.py', 'zuul.d/project.yaml', 'tox.ini', 'ovn_octavia_provider/tests/unit/test_helper.py']",5,94605e8d26fd2a87b56187194ebfc3663fb9833a,xena," self._get_pool_listeners = mock.patch.object( self.helper, '_get_pool_listeners', return_value=[]) self._get_pool_listeners.start() @mock.patch('ovn_octavia_provider.helper.OvnProviderHelper.' '_find_ovn_lbs') def test__clean_lb_if_empty(self, lb): lb.side_effect = [idlutils.RowNotFound] self.ovn_lb.external_ids.pop('listener_%s' % self.listener_id) self.ovn_lb.external_ids.pop('pool_%s' % self.pool_id) commands, lb_to_delete = self.helper._clean_lb_if_empty( self.ovn_lb, self.ovn_lb.uuid, self.ovn_lb.external_ids) self.assertEqual([], commands) self.assertFalse(lb_to_delete) # Ensure lb is not found, due to its pool_key not found found = f(self.helper._get_pool_key(uuidutils.generate_uuid())) self.assertIsNone(found) # Multiple protocols, just one with correct protocol udp_lb = copy.copy(self.ovn_lb) udp_lb.protocol = ['udp'] self.helper.ovn_nbdb_api.db_find_rows.return_value.\ execute.return_value = [udp_lb, self.ovn_lb] found = f(self.ovn_lb.id, protocol='tcp') self.assertEqual(found, self.ovn_lb) def test__get_subnet_from_pool_lb_no_vip_subnet_id(self): f = self.helper._get_subnet_from_pool lb = data_models.LoadBalancer( loadbalancer_id=self.loadbalancer_id, name='The LB', vip_address=self.vip_address, vip_network_id=self.vip_network_id) lb_pool = data_models.Pool( loadbalancer_id=self.loadbalancer_id, name='The pool', pool_id=self.pool_id, protocol='TCP') with mock.patch.object(self.helper, '_octavia_driver_lib') as dlib: dlib.get_pool.return_value = None found = f('not_found') self.assertIsNone(found) dlib.get_pool.return_value = lb_pool dlib.get_loadbalancer.return_value = lb found = f(self.pool_id) self.assertIsNone(found) @mock.patch.object(ovn_helper.OvnProviderHelper, 'lb_create') def test__get_or_create_ovn_lb_no_vip_fip(self, lbc): self.mock_find_ovn_lbs.stop() udp_lb = copy.copy(self.ovn_lb) udp_lb.external_ids.pop(ovn_const.LB_EXT_IDS_VIP_FIP_KEY) udp_lb.protocol = ['udp'] self.helper.ovn_nbdb_api.db_find_rows.return_value.\ execute.side_effect = [[udp_lb], [self.ovn_lb]] self.helper._get_or_create_ovn_lb( self.ovn_lb.name, protocol='TCP', admin_state_up='True') expected_lb_info = { 'id': self.ovn_lb.name, 'protocol': 'tcp', 'lb_algorithm': constants.LB_ALGORITHM_SOURCE_IP_PORT, 'vip_address': udp_lb.external_ids.get( ovn_const.LB_EXT_IDS_VIP_KEY), 'vip_port_id': udp_lb.external_ids.get( ovn_const.LB_EXT_IDS_VIP_PORT_ID_KEY), ovn_const.LB_EXT_IDS_LR_REF_KEY: udp_lb.external_ids.get( ovn_const.LB_EXT_IDS_LR_REF_KEY), ovn_const.LB_EXT_IDS_LS_REFS_KEY: udp_lb.external_ids.get( ovn_const.LB_EXT_IDS_LS_REFS_KEY), 'admin_state_up': 'True'} lbc.assert_called_once_with(expected_lb_info, protocol='tcp') @mock.patch.object(ovn_helper.OvnProviderHelper, '_find_lr_of_ls') @mock.patch('ovn_octavia_provider.common.clients.get_neutron_client') def test_lb_create_assoc_lb_to_lr_by_step(self, net_cli, f_lr): self.mock_find_ovn_lbs.stop() self.helper._find_ovn_lbs self.helper.ovn_nbdb_api.db_find_rows.return_value.\ execute.return_value = [self.ovn_lb] self._update_lb_to_ls_association.stop() self.lb['admin_state_up'] = True f_lr.return_value = self.router net_cli.return_value.list_ports.return_value = self.ports self.helper._update_lb_to_lr_association.side_effect = [ idlutils.RowNotFound] status = self.helper.lb_create(self.lb) self.assertEqual(status['loadbalancers'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['loadbalancers'][0]['operating_status'], constants.ONLINE) self.helper.ovn_nbdb_api.db_create.assert_called_once_with( 'Load_Balancer', external_ids={ ovn_const.LB_EXT_IDS_VIP_KEY: mock.ANY, ovn_const.LB_EXT_IDS_VIP_PORT_ID_KEY: mock.ANY, 'enabled': 'True'}, name=mock.ANY, protocol=[], selection_fields=['ip_src', 'ip_dst', 'tp_src', 'tp_dst']) self.helper._update_lb_to_lr_association.assert_called_once_with( self.ovn_lb, self.router ) self.helper._update_lb_to_lr_association_by_step \ .assert_called_once_with( self.ovn_lb, self.router) del_port.side_effect = [Exception] status = self.helper.lb_create(self.lb) self.assertEqual(status['loadbalancers'][0]['provisioning_status'], constants.ERROR) self.assertEqual(status['loadbalancers'][0]['operating_status'], constants.ERROR) def test_lb_delete_row_not_found_port_leftover( self, del_port, get_vip_port): self.helper._find_ovn_lbs.side_effect = [idlutils.RowNotFound] get_vip_port.return_value = 'foo' del_port.side_effect = [Exception] status = self.helper.lb_delete(self.lb) self.assertEqual(status['loadbalancers'][0]['provisioning_status'], constants.ERROR) self.assertEqual(status['loadbalancers'][0]['operating_status'], constants.ERROR) self.helper.ovn_nbdb_api.lb_del.assert_not_called() del_port.assert_called_once_with('foo') get_vip_port.assert_called_once_with(self.lb['id']) @mock.patch.object(ovn_helper.OvnProviderHelper, '_get_vip_port_from_loadbalancer_id') @mock.patch.object(ovn_helper.OvnProviderHelper, 'delete_vip_port') # update to re-enable self.ovn_lb.external_ids.update({'enabled': True}) self.lb['admin_state_up'] = True status = self.helper.lb_update(self.lb) self.assertEqual(status['loadbalancers'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['loadbalancers'][0]['operating_status'], constants.ONLINE) refresh_vips.assert_called_once_with( self.ovn_lb.uuid, self.ovn_lb.external_ids) self.helper.ovn_nbdb_api.db_set.assert_called_once_with( 'Load_Balancer', self.ovn_lb.uuid, ('external_ids', {'enabled': 'True'})) # As it is marked disabled, a second call should not try and remove it self.helper.ovn_nbdb_api.db_remove.reset_mock() status = self.helper.listener_update(self.listener) self.assertEqual(status['listeners'][0]['operating_status'], constants.OFFLINE) self.helper.ovn_nbdb_api.db_remove.assert_not_called() @mock.patch.object(ovn_helper.OvnProviderHelper, '_is_lb_empty') def test_listener_delete_ovn_lb_empty_ovn_lb_not_found(self, lb_empty): """"""That test situation when the OVN and Octavia LBs are empty. That test situation when both OVN and Octavia LBs are empty, but we cannot find the OVN LB row when cleaning. """""" self.helper._find_ovn_lbs.side_effect = [ self.ovn_lb, idlutils.RowNotFound] lb_empty.return_value = True self.helper.listener_delete(self.listener) self.helper.ovn_nbdb_api.db_remove.assert_called_once_with( 'Load_Balancer', self.ovn_lb.uuid, 'external_ids', 'listener_%s' % self.listener_id) self.helper.ovn_nbdb_api.lb_del.assert_not_called() # vip refresh will have been called self.helper.ovn_nbdb_api.db_clear.assert_has_calls([ mock.call('Load_Balancer', self.ovn_lb.uuid, ('vips'))]) self.helper.ovn_nbdb_api.db_set.assert_has_calls([ mock.call('Load_Balancer', self.ovn_lb.uuid, ('vips', {}))]) self.helper.ovn_nbdb_api.db_set.side_effect = [ RuntimeError, RuntimeError] status = self.helper.pool_create(self.pool) self.assertEqual(status['pools'][0]['provisioning_status'], constants.ERROR) self.assertEqual(status['listeners'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['loadbalancers'][0]['provisioning_status'], constants.ACTIVE) self.pool['listener_id'] = None def test_pool_update_pool_disabled_change_to_down(self): self.pool.update({'admin_state_up': False}) disabled_p_key = self.helper._get_pool_key(self.pool_id, is_enabled=False) p_key = self.helper._get_pool_key(self.pool_id) self.ovn_lb.external_ids.update({ disabled_p_key: self.member_line}) self.ovn_lb.external_ids.pop(p_key) status = self.helper.pool_update(self.pool) self.assertEqual(status['loadbalancers'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['pools'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['pools'][0]['operating_status'], constants.OFFLINE) self.helper.ovn_nbdb_api.db_set.assert_not_called() def test_pool_update_listeners_none(self): status = self.helper.pool_update(self.pool) self.assertFalse(status['listeners']) @mock.patch.object(ovn_helper.OvnProviderHelper, '_find_ovn_lb_by_pool_id') @mock.patch.object(ovn_helper.OvnProviderHelper, '_find_lr_of_ls') @mock.patch('ovn_octavia_provider.common.clients.get_neutron_client') def test_member_create_lb_add_from_lr_retry(self, net_cli, f_lr, folbpi): fake_subnet = fakes.FakeSubnet.create_one_subnet() net_cli.return_value.show_subnet.return_value = {'subnet': fake_subnet} f_lr.return_value = self.router pool_key = 'pool_%s' % self.pool_id folbpi.return_value = (pool_key, self.ovn_lb) self.helper._update_lb_to_lr_association.side_effect = [ idlutils.RowNotFound] self.ovn_lb.external_ids = mock.MagicMock() status = self.helper.member_create(self.member) self.assertEqual(status['loadbalancers'][0]['provisioning_status'], constants.ACTIVE) f_lr.assert_called_once_with(self.network, fake_subnet['gateway_ip']) self.helper._update_lb_to_lr_association.assert_called_once_with( self.ovn_lb, self.router) self.helper._update_lb_to_lr_association_by_step \ .assert_called_once_with( self.ovn_lb, self.router) self.member.pop('admin_state_up') status = self.helper.member_update(self.member) self.assertEqual(status['loadbalancers'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['pools'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['members'][0]['provisioning_status'], constants.ACTIVE) fake_member = fakes.FakeMember( uuid=self.member_id, admin_state_up=True, address=self.member_address, protocol_port=self.member_port) self.octavia_driver_lib.get_member.return_value = fake_member self.member['old_admin_state_up'] = None status = self.helper.member_update(self.member) self.assertEqual(status['loadbalancers'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['pools'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['members'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['members'][0]['operating_status'], constants.ONLINE) def test_member_delete_none(self): self.ovn_lb.external_ids.update({'pool_' + self.pool_id: ''}) status = self.helper.member_delete(self.member) self.assertEqual(status['members'][0]['provisioning_status'], constants.ERROR) self.assertEqual(status['pools'][0]['provisioning_status'], constants.ACTIVE) def test__get_pool_listeners(self): self._get_pool_listeners.stop() self.ovn_lb.external_ids = { ovn_const.LB_EXT_IDS_VIP_KEY: 'fc00::', ovn_const.LB_EXT_IDS_VIP_FIP_KEY: '2002::', 'listener_%s' % self.listener_id: '80:pool_%s' % self.pool_id} ret = self.helper._get_pool_listeners( self.ovn_lb, 'pool_%s' % self.pool_id) self.assertEqual([self.listener_id], ret) def test__get_pool_listeners_not_found(self): self._get_pool_listeners.stop() self.ovn_lb.external_ids = { ovn_const.LB_EXT_IDS_VIP_KEY: 'fc00::', ovn_const.LB_EXT_IDS_VIP_FIP_KEY: '2002::', 'listener_%s' % self.listener_id: '80:pool_%s' % self.pool_id} ret = self.helper._get_pool_listeners( self.ovn_lb, 'pool_foo') self.assertEqual([], ret) def test___get_pool_listener_port(self): self._get_pool_listeners.stop() self.ovn_lb.external_ids = { ovn_const.LB_EXT_IDS_VIP_KEY: 'fc00::', ovn_const.LB_EXT_IDS_VIP_FIP_KEY: '2002::', 'listener_%s' % self.listener_id: '80:pool_%s' % self.pool_id} ret = self.helper._get_pool_listener_port( self.ovn_lb, 'pool_foo') self.assertIsNone(ret) @mock.patch.object(ovn_helper.OvnProviderHelper, '_find_ls_for_lr') def test__add_lb_to_lr_association_lr_already_associated(self, f_ls): self.ref_lb1.external_ids.update({ ovn_const.LB_EXT_IDS_LR_REF_KEY: self.router.name}) lr_ref = self.ref_lb1.external_ids.get(ovn_const.LB_EXT_IDS_LR_REF_KEY) f_ls.return_value = ['neutron-xyz', 'neutron-qwr'] self.helper._add_lb_to_lr_association( self.ref_lb1, self.router, lr_ref) self.helper.ovn_nbdb_api.lr_lb_add.assert_called_once_with( self.router.uuid, self.ref_lb1.uuid, may_exist=True) self.helper.ovn_nbdb_api.ls_lb_add.assert_has_calls([ (mock.call('neutron-xyz', self.ref_lb1.uuid, may_exist=True)), (mock.call('neutron-qwr', self.ref_lb1.uuid, may_exist=True))]) self.helper.ovn_nbdb_api.db_set.assert_not_called() @mock.patch.object(ovn_helper.OvnProviderHelper, '_find_ls_for_lr') def test__add_lb_to_lr_association_no_lr_rf(self, f_ls): lr_ref = '' f_ls.return_value = ['neutron-xyz', 'neutron-qwr'] self.helper._add_lb_to_lr_association( self.ref_lb1, self.router, lr_ref) self.helper.ovn_nbdb_api.lr_lb_add.assert_called_once_with( self.router.uuid, self.ref_lb1.uuid, may_exist=True) self.helper.ovn_nbdb_api.ls_lb_add.assert_has_calls([ (mock.call('neutron-xyz', self.ref_lb1.uuid, may_exist=True)), (mock.call('neutron-qwr', self.ref_lb1.uuid, may_exist=True))]) self.helper.ovn_nbdb_api.db_set.assert_called_once_with( 'Load_Balancer', self.ref_lb1.uuid, ('external_ids', {'lr_ref': '%s' % self.router.name})) def test__extract_listener_key_value(self): self.assertEqual( (None, None), self.helper._extract_listener_key_value('listener')) self.assertEqual( ('listener', '123'), self.helper._extract_listener_key_value('listener:123')) lrp2 = fakes.FakeOvsdbRow.create_one_ovsdb_row( attrs={ 'name': 'lrp-foo-name2', }) lr2 = fakes.FakeOVNRouter.create_one_router( attrs={ 'name': 'router2', 'ports': [lrp2]}) execute.return_value) = [lr2, lr] def test__find_lr_of_ls_no_lrs(self): lsp = fakes.FakeOvsdbRow.create_one_ovsdb_row( attrs={ 'external_ids': { ovn_const.OVN_ROUTER_NAME_EXT_ID_KEY: 'router1', 'neutron:cidrs': '10.10.10.1/24', ovn_const.OVN_DEVICE_OWNER_EXT_ID_KEY: n_const.DEVICE_OWNER_ROUTER_INTF}, 'type': 'router', 'options': { 'router-port': 'lrp-foo-name'}, }) lsp2 = fakes.FakeOvsdbRow.create_one_ovsdb_row( attrs={ 'external_ids': { ovn_const.OVN_ROUTER_NAME_EXT_ID_KEY: 'router2', 'neutron:cidrs': '10.10.10.2/24', ovn_const.OVN_DEVICE_OWNER_EXT_ID_KEY: n_const.DEVICE_OWNER_ROUTER_INTF}, 'type': 'router', 'options': { 'router-port': 'lrp-bar-name'}, }) ls = fakes.FakeOvsdbRow.create_one_ovsdb_row( attrs={'ports': [lsp2, lsp]}) (self.helper.ovn_nbdb_api.get_lrs.return_value. execute.return_value) = [] returned_lr = self.helper._find_lr_of_ls(ls, '10.10.10.1') self.assertIsNone(returned_lr) ovn_const.OVN_ROUTER_NAME_EXT_ID_KEY: 'router1', ovn_const.OVN_DEVICE_OWNER_EXT_ID_KEY: n_const.DEVICE_OWNER_ROUTER_INTF}, def test__get_member_info(self): fake_member = fakes.FakeMember( uuid=self.member['id'], member_id=self.member['id'], admin_state_up=True, name='member_2', project_id=self.project_id, address=self.member['address'], protocol_port=self.member['protocol_port'], subnet_id=self.member['subnet_id']) result = ( ovn_const.LB_EXT_IDS_MEMBER_PREFIX + fake_member.member_id + '_' + fake_member.address + ':' + fake_member.protocol_port + '_' + fake_member.subnet_id) self.assertEqual( result, self.helper._get_member_info(fake_member)) result = ( ovn_const.LB_EXT_IDS_MEMBER_PREFIX + self.member['id'] + '_' + self.member['address'] + ':' + self.member['protocol_port'] + '_' + self.member['subnet_id']) self.assertEqual( result, self.helper._get_member_info(self.member)) self.assertEqual('', self.helper._get_member_info(None)) def test__update_lb_to_ls_association_network_no_assoc_no_update_ls_ref( self): self._update_lb_to_ls_association.stop() self._get_lb_to_ls_association_commands.stop() self.helper._update_lb_to_ls_association( self.ref_lb1, network_id=self.network.uuid, associate=False, update_ls_ref=False) self.helper.ovn_nbdb_api.ls_get.assert_called_once_with( self.network.name) self.helper.ovn_nbdb_api.db_set.assert_not_called() def test__update_lb_to_ls_association_network_no_assoc_update_ls_ref( self): self._update_lb_to_ls_association.stop() self._get_lb_to_ls_association_commands.stop() self.helper._update_lb_to_ls_association( self.ref_lb1, network_id=self.network.uuid, associate=False, update_ls_ref=True) self.helper.ovn_nbdb_api.ls_lb_del.assert_called_once_with( self.network.uuid, self.ref_lb1.uuid, if_exists=True) ls_refs = {'ls_refs': '{}'} self.helper.ovn_nbdb_api.db_set.assert_called_once_with( 'Load_Balancer', self.ref_lb1.uuid, ('external_ids', ls_refs)) def test__update_lb_to_ls_association_empty_ls_refs_no_ls(self): self._update_lb_to_ls_association.stop() self._get_lb_to_ls_association_commands.stop() (self.helper.ovn_nbdb_api.ls_get.return_value.execute. return_value) = None self.ref_lb1.external_ids.pop('ls_refs') self.helper._update_lb_to_ls_association( self.ref_lb1, network_id=self.network.uuid, update_ls_ref=False) self.helper.ovn_nbdb_api.ls_lb_add.assert_not_called() self.helper.ovn_nbdb_api.db_set.assert_not_called() @mock.patch('ovn_octavia_provider.common.clients.get_neutron_client') def test_delete_vip_port_not_found(self, net_cli): net_cli.return_value.delete_port.side_effect = ( [n_exc.PortNotFoundClient]) self.helper.delete_vip_port('foo') def test_get_pool_member_id_not_found(self): ret = self.helper.get_pool_member_id( self.pool_id, mem_addr_port='192.168.2.149:9999') self.assertIsNone(ret) def test__frame_lb_vips_no_vip_fip(self): self.ovn_lb.external_ids.pop(ovn_const.LB_EXT_IDS_VIP_FIP_KEY) ret = self.helper._frame_vip_ips(self.ovn_lb.external_ids) expected = {'10.22.33.4:80': '192.168.2.149:1010'} self.assertEqual(expected, ret) "," mock.patch.object(self.helper, '_get_pool_listeners', return_value=[]).start() self.helper.ovn_nbdb_api.db_set.side_effect = [RuntimeError] execute.return_value) = [lr] ovn_const.OVN_ROUTER_NAME_EXT_ID_KEY: 'router1'},",642,7
openstack%2Fcharm-ceph-osd~stable%2Fquincy~I8c6b7afdc73399f8021f43d717ebe7634fcb0f7a,openstack/charm-ceph-osd,stable/quincy,I8c6b7afdc73399f8021f43d717ebe7634fcb0f7a,Updates for stable branch creation,MERGED,2022-04-14 17:04:41.000000000,2022-04-19 12:00:03.000000000,2022-04-19 12:00:03.000000000,"[{'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-14 17:04:41.000000000', 'files': ['.gitreview', 'test-requirements.txt', 'charm-helpers-hooks.yaml'], 'web_link': 'https://opendev.org/openstack/charm-ceph-osd/commit/480a3e9467f06404e4d93a3ca1ecc8b133200df9', 'message': 'Updates for stable branch creation\n\n- Set default branch for git review/gerrit.\n- Switch tests to stable.\n- Switch to using stable charm-helpers branch.\n- Switch to using stable charm.openstack branch.\n- Switch to using stable zaza, zaza-openstack-tests\n  branch\n- (reactive charms) Add build.lock file\n\nChange-Id: I8c6b7afdc73399f8021f43d717ebe7634fcb0f7a\n'}]",2,837966,480a3e9467f06404e4d93a3ca1ecc8b133200df9,11,3,1,20870,,,0,"Updates for stable branch creation

- Set default branch for git review/gerrit.
- Switch tests to stable.
- Switch to using stable charm-helpers branch.
- Switch to using stable charm.openstack branch.
- Switch to using stable zaza, zaza-openstack-tests
  branch
- (reactive charms) Add build.lock file

Change-Id: I8c6b7afdc73399f8021f43d717ebe7634fcb0f7a
",git fetch https://review.opendev.org/openstack/charm-ceph-osd refs/changes/66/837966/1 && git format-patch -1 --stdout FETCH_HEAD,"['.gitreview', 'test-requirements.txt', 'charm-helpers-hooks.yaml']",3,480a3e9467f06404e4d93a3ca1ecc8b133200df9,charm-release-2204,repo: https://github.com/juju/charm-helpers@stable/yoga,repo: https://github.com/juju/charm-helpers,5,3
openstack%2Fneutron~master~I95555395c8adcec70459d5f438e1080da358c4d4,openstack/neutron,master,I95555395c8adcec70459d5f438e1080da358c4d4,"Remove ""allow_overlapping_ips"" config option",MERGED,2022-04-11 10:34:13.000000000,2022-04-19 11:56:03.000000000,2022-04-19 11:54:07.000000000,"[{'_account_id': 1131}, {'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-11 10:34:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/63dc0f00fcf25d12516815568ea5226cf6314b5e', 'message': 'Remove ""allow_overlapping_ips"" config option\n\nIt was deprecated in Yoga by patch [1]. Now it\'s time to remove it.\n\n[1] https://review.opendev.org/c/openstack/neutron/+/807848\n\nCloses-Bug: #1942294\nChange-Id: I95555395c8adcec70459d5f438e1080da358c4d4\n'}, {'number': 2, 'created': '2022-04-12 14:29:31.000000000', 'files': ['releasenotes/notes/Remove-deprecated-option-allow_overlapping_ips-49a93f56d51d6427.yaml', 'neutron/db/ipam_backend_mixin.py', 'doc/source/admin/config-dhcp-ha.rst', 'neutron/tests/unit/db/test_db_base_plugin_v2.py', 'doc/source/admin/archives/config-plugins.rst', 'doc/source/install/controller-install-option2-obs.rst', 'doc/source/install/controller-install-option2-rdo.rst', 'doc/source/install/controller-install-option2-ubuntu.rst', 'doc/source/admin/config-dvr-ha-snat.rst', 'neutron/conf/common.py', 'doc/source/admin/deploy-ovs-selfservice.rst', 'doc/source/admin/deploy-lb-selfservice.rst'], 'web_link': 'https://opendev.org/openstack/neutron/commit/fde91e8059a9a23fb7ece6e3463984329c7ea581', 'message': 'Remove ""allow_overlapping_ips"" config option\n\nIt was deprecated in Yoga by patch [1]. Now it\'s time to remove it.\n\n[1] https://review.opendev.org/c/openstack/neutron/+/807848\n\nCloses-Bug: #1942294\nChange-Id: I95555395c8adcec70459d5f438e1080da358c4d4\n'}]",6,837286,fde91e8059a9a23fb7ece6e3463984329c7ea581,29,6,2,11975,,,0,"Remove ""allow_overlapping_ips"" config option

It was deprecated in Yoga by patch [1]. Now it's time to remove it.

[1] https://review.opendev.org/c/openstack/neutron/+/807848

Closes-Bug: #1942294
Change-Id: I95555395c8adcec70459d5f438e1080da358c4d4
",git fetch https://review.opendev.org/openstack/neutron refs/changes/86/837286/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/db/ipam_backend_mixin.py', 'neutron/tests/unit/db/test_db_base_plugin_v2.py', 'neutron/conf/common.py']",3,63dc0f00fcf25d12516815568ea5226cf6314b5e,bug/1942294,," cfg.BoolOpt('allow_overlapping_ips', default=True, deprecated_for_removal=True, deprecated_since='Yoga', help=_(""Allow overlapping IP support in Neutron. "" ""Attention: the following parameter MUST be set to "" ""False if Neutron is being used in conjunction with "" ""Nova security groups."")),",1,24
openstack%2Fmetalsmith~master~I2c772b2d26bd7922dd9790a6edbeab76fcb1b62f,openstack/metalsmith,master,I2c772b2d26bd7922dd9790a6edbeab76fcb1b62f,Move from CS8 to CS9,ABANDONED,2022-03-29 19:23:30.000000000,2022-04-19 11:51:22.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-03-29 19:23:30.000000000', 'files': ['playbooks/integration/centos9-integration.yaml', '.zuul.yaml', 'playbooks/integration/centos9-image.yaml'], 'web_link': 'https://opendev.org/openstack/metalsmith/commit/b85954af85c8961283172876d574773a5aad7e29', 'message': 'Move from CS8 to CS9\n\nSince we are now in Zed we should stop testing in CS8,\nmoving integration job to CS9\n\nChange-Id: I2c772b2d26bd7922dd9790a6edbeab76fcb1b62f\n'}]",1,835749,b85954af85c8961283172876d574773a5aad7e29,5,1,1,15519,,,0,"Move from CS8 to CS9

Since we are now in Zed we should stop testing in CS8,
moving integration job to CS9

Change-Id: I2c772b2d26bd7922dd9790a6edbeab76fcb1b62f
",git fetch https://review.opendev.org/openstack/metalsmith refs/changes/49/835749/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/integration/centos9-integration.yaml', '.zuul.yaml', 'playbooks/integration/centos9-image.yaml']",3,b85954af85c8961283172876d574773a5aad7e29,move_to_cs9, centos_image_file: ~/centos9-wholedisk.qcow2 centos_initramfs_file: ~/centos9-partition.initrd centos_kernel_file: ~/centos9-partition.vmlinuz centos_partition_file: ~/centos9-partition.qcow2- name: Build a centos9 wholedisk image command: disk-image-create centos grub2 vm block-device-efi -o centos9-wholedisk environment: DIB_RELEASE: 9-stream - name: Build a centos9 partition image command: disk-image-create centos grub2 baremetal -o centos9-partition environment: DIB_RELEASE: 9-stream, centos_image_file: ~/centos8-wholedisk.qcow2 centos_initramfs_file: ~/centos8-partition.initrd centos_kernel_file: ~/centos8-partition.vmlinuz centos_partition_file: ~/centos8-partition.qcow2- name: Build a centos8 wholedisk image command: disk-image-create centos grub2 vm block-device-efi -o centos8-wholedisk environment: DIB_RELEASE: 8-stream - name: Build a centos8 partition image command: disk-image-create centos grub2 baremetal -o centos8-partition environment: DIB_RELEASE: 8-stream,16,16
openstack%2Fbarbican-tempest-plugin~master~Iea0bbc51796953e4c60e6ca7c2af6f7d0003ca6f,openstack/barbican-tempest-plugin,master,Iea0bbc51796953e4c60e6ca7c2af6f7d0003ca6f,Remove create_security_group_rule(),NEW,2022-03-16 13:42:31.000000000,2022-04-19 11:49:17.000000000,,"[{'_account_id': 8556}, {'_account_id': 9914}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2022-03-16 13:42:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/5846d3fb30cade1a010e55d8d51e070af89ad68e', 'message': 'Remove create_security_group_rule()\n\nIn tempest 27.0.0 release, Scenario manager in tempest\nhave been marked stable[1]. In Xena PTG, it has been\ndecided to start the consumption of stable-scenario-\nmanager within the tempest plugins[2].\n\n[1] https://docs.openstack.org/releasenotes/tempest/unreleased.html#relnotes-27-0-0\n[2] https://etherpad.opendev.org/p/qa-xena-priority#L48\n\nFollowing are the methods cleaned within this review:\n\n1. create_security_group_rule()\n\nSigned-off-by: Soniya Vyas <svyas@redhat.com>\nChange-Id: Iea0bbc51796953e4c60e6ca7c2af6f7d0003ca6f\n'}, {'number': 2, 'created': '2022-04-12 11:17:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/2d59e5d372c2e543285ca1194b1785154abae672', 'message': 'Remove create_security_group_rule()\n\nIn tempest 27.0.0 release, Scenario manager in tempest\nhave been marked stable[1]. In Xena PTG, it has been\ndecided to start the consumption of stable-scenario-\nmanager within the tempest plugins[2].\n\n[1] https://docs.openstack.org/releasenotes/tempest/unreleased.html#relnotes-27-0-0\n[2] https://etherpad.opendev.org/p/qa-xena-priority#L48\n\nFollowing are the methods cleaned within this review:\n\n1. create_security_group_rule()\n\nSigned-off-by: Soniya Vyas <svyas@redhat.com>\nChange-Id: Iea0bbc51796953e4c60e6ca7c2af6f7d0003ca6f\n'}, {'number': 3, 'created': '2022-04-18 06:41:01.000000000', 'files': ['barbican_tempest_plugin/tests/scenario/manager.py'], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/876cb6536fc72865d7534cb2f50f66c7d14ada19', 'message': 'Remove create_security_group_rule()\n\nIn tempest 27.0.0 release, Scenario manager in tempest\nhave been marked stable[1]. In Xena PTG, it has been\ndecided to start the consumption of stable-scenario-\nmanager within the tempest plugins[2].\n\n[1] https://docs.openstack.org/releasenotes/tempest/unreleased.html#relnotes-27-0-0\n[2] https://etherpad.opendev.org/p/qa-xena-priority#L48\n\nFollowing are the methods cleaned within this review:\n\n1. create_security_group_rule()\n\nSigned-off-by: Soniya Vyas <svyas@redhat.com>\nChange-Id: Iea0bbc51796953e4c60e6ca7c2af6f7d0003ca6f\n'}]",7,834000,876cb6536fc72865d7534cb2f50f66c7d14ada19,16,5,3,30742,,,0,"Remove create_security_group_rule()

In tempest 27.0.0 release, Scenario manager in tempest
have been marked stable[1]. In Xena PTG, it has been
decided to start the consumption of stable-scenario-
manager within the tempest plugins[2].

[1] https://docs.openstack.org/releasenotes/tempest/unreleased.html#relnotes-27-0-0
[2] https://etherpad.opendev.org/p/qa-xena-priority#L48

Following are the methods cleaned within this review:

1. create_security_group_rule()

Signed-off-by: Soniya Vyas <svyas@redhat.com>
Change-Id: Iea0bbc51796953e4c60e6ca7c2af6f7d0003ca6f
",git fetch https://review.opendev.org/openstack/barbican-tempest-plugin refs/changes/00/834000/1 && git format-patch -1 --stdout FETCH_HEAD,['barbican_tempest_plugin/tests/scenario/manager.py'],1,5846d3fb30cade1a010e55d8d51e070af89ad68e,tempest-scenario-manager-cleanup,," def _create_security_group_rule(self, secgroup=None, sec_group_rules_client=None, tenant_id=None, security_groups_client=None, **kwargs): """"""Create a rule from a dictionary of rule parameters. Create a rule in a secgroup. if secgroup not defined will search for default secgroup in tenant_id. :param secgroup: the security group. :param tenant_id: if secgroup not passed -- the tenant in which to search for default secgroup :param kwargs: a dictionary containing rule parameters: for example, to allow incoming ssh: rule = { direction: 'ingress' protocol:'tcp', port_range_min: 22, port_range_max: 22 } """""" if sec_group_rules_client is None: sec_group_rules_client = self.security_group_rules_client if security_groups_client is None: security_groups_client = self.security_groups_client if not tenant_id: tenant_id = security_groups_client.tenant_id if secgroup is None: secgroup = self._default_security_group( client=security_groups_client, tenant_id=tenant_id) ruleset = dict(security_group_id=secgroup['id'], tenant_id=secgroup['tenant_id']) ruleset.update(kwargs) sg_rule = sec_group_rules_client.create_security_group_rule(**ruleset) sg_rule = sg_rule['security_group_rule'] self.assertEqual(secgroup['tenant_id'], sg_rule['tenant_id']) self.assertEqual(secgroup['id'], sg_rule['security_group_id']) return sg_rule",0,43
openstack%2Fcharm-manila-generic~stable%2Fyoga~I09cf8f63a55894e370f8c0d5a0df62da7ba70dd2,openstack/charm-manila-generic,stable/yoga,I09cf8f63a55894e370f8c0d5a0df62da7ba70dd2,Updates for stable branch creation,MERGED,2022-04-15 10:52:04.000000000,2022-04-19 11:48:10.000000000,2022-04-19 11:48:10.000000000,"[{'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-15 10:52:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-manila-generic/commit/a18f52f14e1f21667e325b1799add987cdacbcfb', 'message': 'Updates for stable branch creation\n\n- Set default branch for git review/gerrit.\n- Switch tests to stable.\n- Switch to using stable charm-helpers branch.\n- Switch to using stable charm.openstack branch.\n- Switch to using stable zaza, zaza-openstack-tests\n  branch\n- (reactive charms) Add build.lock file\n\nChange-Id: I09cf8f63a55894e370f8c0d5a0df62da7ba70dd2\n'}, {'number': 2, 'created': '2022-04-19 08:36:16.000000000', 'files': ['.gitreview', 'test-requirements.txt', 'src/wheelhouse.txt', 'src/test-requirements.txt', 'src/build.lock'], 'web_link': 'https://opendev.org/openstack/charm-manila-generic/commit/7680c825dbd7bce0b8c9dea5d365bfba3257d13f', 'message': 'Updates for stable branch creation\n\n- Set default branch for git review/gerrit.\n- Switch tests to stable.\n- Switch to using stable charm-helpers branch.\n- Switch to using stable charm.openstack branch.\n- Switch to using stable zaza, zaza-openstack-tests\n  branch\n- (reactive charms) Add build.lock file\n\nChange-Id: I09cf8f63a55894e370f8c0d5a0df62da7ba70dd2\n'}]",1,838143,7680c825dbd7bce0b8c9dea5d365bfba3257d13f,12,3,2,20870,,,0,"Updates for stable branch creation

- Set default branch for git review/gerrit.
- Switch tests to stable.
- Switch to using stable charm-helpers branch.
- Switch to using stable charm.openstack branch.
- Switch to using stable zaza, zaza-openstack-tests
  branch
- (reactive charms) Add build.lock file

Change-Id: I09cf8f63a55894e370f8c0d5a0df62da7ba70dd2
",git fetch https://review.opendev.org/openstack/charm-manila-generic refs/changes/43/838143/1 && git format-patch -1 --stdout FETCH_HEAD,"['.gitreview', 'test-requirements.txt', 'src/wheelhouse.txt', 'src/test-requirements.txt', 'src/build.lock', 'manila-generic.charm']",6,a18f52f14e1f21667e325b1799add987cdacbcfb,charm-release-2204,,,189,5
openstack%2Fkolla~stable%2Fyoga~Ideaf66ce18c993802f4d20f490caa47cec0dde5e,openstack/kolla,stable/yoga,Ideaf66ce18c993802f4d20f490caa47cec0dde5e,"Revert ""CI: add templated Dockerfiles to build logs""",MERGED,2022-04-19 08:20:25.000000000,2022-04-19 11:46:30.000000000,2022-04-19 11:43:06.000000000,"[{'_account_id': 22348}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-04-19 08:20:25.000000000', 'files': ['tests/playbooks/run.yml', '.zuul.d/base.yaml'], 'web_link': 'https://opendev.org/openstack/kolla/commit/2bda93f42b8ded43c48aaeccc76c82eac989aa2c', 'message': 'Revert ""CI: add templated Dockerfiles to build logs""\n\nThis reverts commit 09c890b12463a4b2c8767231189e7016f337fbc3.\n\nReason for revert: That change caused all Kolla\'s work items to be\ntransferred. This includes tarballs, their extracted contents, cloned\ngit repositories, etc. to also be transferred to swift which takes\nextra time, pollutes logs and decreases the stability of jobs slightly\n(the mechanism is not designed for this kind of load).\nThe collection of templated Dockerfiles in CI has to be reimplemented\nif it is wanted.\n\nChange-Id: Ideaf66ce18c993802f4d20f490caa47cec0dde5e\n(cherry picked from commit f33ef03977536ecb29ea464b9e557a6caacf4345)\n'}]",0,838357,2bda93f42b8ded43c48aaeccc76c82eac989aa2c,10,3,1,30491,,,0,"Revert ""CI: add templated Dockerfiles to build logs""

This reverts commit 09c890b12463a4b2c8767231189e7016f337fbc3.

Reason for revert: That change caused all Kolla's work items to be
transferred. This includes tarballs, their extracted contents, cloned
git repositories, etc. to also be transferred to swift which takes
extra time, pollutes logs and decreases the stability of jobs slightly
(the mechanism is not designed for this kind of load).
The collection of templated Dockerfiles in CI has to be reimplemented
if it is wanted.

Change-Id: Ideaf66ce18c993802f4d20f490caa47cec0dde5e
(cherry picked from commit f33ef03977536ecb29ea464b9e557a6caacf4345)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/57/838357/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/playbooks/run.yml', '.zuul.d/base.yaml']",2,2bda93f42b8ded43c48aaeccc76c82eac989aa2c,quiet-kolla-stable/yoga,," kolla_work_dir: ""{{ kolla_logs_dir }}""",0,2
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I2af1e5b6464c863163c969a2bc17f7997d293dbb,openstack/tripleo-heat-templates,stable/train,I2af1e5b6464c863163c969a2bc17f7997d293dbb,Ensure cell0 database uri is correct,MERGED,2022-03-28 15:52:45.000000000,2022-04-19 11:42:28.000000000,2022-04-19 11:42:28.000000000,"[{'_account_id': 6926}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-03-28 15:52:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/efa452e56b7d68bf06711426270d85d58dce1c75', 'message': 'Ensure cell0 database uri is correct\n\nIf cell0 was created before switching to templated uris the password\nwill be hardcoded in the database, breaking password rotation.\nIf it exists always update it to ensure it is the correct form.\n\n[Partial] Use kolla_config for other actions\n\nPartial backport I0e3d5748a50937880a55413b75fe6eca479c9160\nlimited to nova-api changes only.\n\nRetain start order numbers and FFU tasks unchanged.\nRelated: rhbz#2030191\nChange-Id: I2af1e5b6464c863163c969a2bc17f7997d293dbb\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 2, 'created': '2022-03-28 16:00:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/04548389ec1e84a0277e2372e618f8dfdf819d85', 'message': 'Ensure cell0 database uri is correct\n\nIf cell0 was created before switching to templated uris the password\nwill be hardcoded in the database, breaking password rotation.\nIf it exists always update it to ensure it is the correct form.\n\n[Partial] Use kolla_config for other actions\n\nPartial backport I0e3d5748a50937880a55413b75fe6eca479c9160\nlimited to nova-api changes only.\n\nRetain start order numbers and FFU tasks unchanged.\nRelated: rhbz#2030191\nChange-Id: I2af1e5b6464c863163c969a2bc17f7997d293dbb\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n(cherry picked from commit 72a30f2df6d759b39d83497aa52a8f58f6cd558f)\n'}, {'number': 3, 'created': '2022-04-15 13:25:23.000000000', 'files': ['deployment/nova/nova-api-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/307b4eae43658e97eb5d2dbf3e446310086cc3b5', 'message': 'Ensure cell0 database uri is correct\n\nIf cell0 was created before switching to templated uris the password\nwill be hardcoded in the database, breaking password rotation.\nIf it exists always update it to ensure it is the correct form.\n\n[Partial] Use kolla_config for other actions\n\nPartial backport I0e3d5748a50937880a55413b75fe6eca479c9160\nlimited to nova-api changes only.\n\nRetain start order numbers and FFU tasks unchanged.\nRelated: rhbz#2030191\nChange-Id: I2af1e5b6464c863163c969a2bc17f7997d293dbb\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n(cherry picked from commit 72a30f2df6d759b39d83497aa52a8f58f6cd558f)\n'}]",1,835474,307b4eae43658e97eb5d2dbf3e446310086cc3b5,13,3,3,6926,,,0,"Ensure cell0 database uri is correct

If cell0 was created before switching to templated uris the password
will be hardcoded in the database, breaking password rotation.
If it exists always update it to ensure it is the correct form.

[Partial] Use kolla_config for other actions

Partial backport I0e3d5748a50937880a55413b75fe6eca479c9160
limited to nova-api changes only.

Retain start order numbers and FFU tasks unchanged.
Related: rhbz#2030191
Change-Id: I2af1e5b6464c863163c969a2bc17f7997d293dbb
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
(cherry picked from commit 72a30f2df6d759b39d83497aa52a8f58f6cd558f)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/74/835474/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/nova/nova-api-container-puppet.yaml'],1,efa452e56b7d68bf06711426270d85d58dce1c75,," config_files: &nova_api_db_sync permissions: &nova_api_permissions /var/lib/kolla/config_files/nova_api_db_sync.json: command: ""/usr/bin/bootstrap_host_exec nova_api su nova -s /bin/bash -c '/usr/bin/nova-manage api_db sync'"" config_files: *nova_api_db_sync permissions: *nova_api_permissions /var/lib/kolla/config_files/nova_api_ensure_default_cells.json: command: ""/usr/bin/bootstrap_host_exec nova_api /nova_api_ensure_default_cells.sh"" config_files: *nova_api_db_sync permissions: *nova_api_permissions permissions: *nova_api_permissions /var/lib/kolla/config_files/nova_wait_for_api_service.json: command: ""/usr/bin/bootstrap_host_exec nova_api su nova -s /bin/bash -c '/container-config-scripts/pyshim.sh /container-config-scripts/nova_wait_for_api_service.py'"" config_files: *nova_api_db_sync permissions: *nova_api_permissions nova_api_ensure_default_cells.sh: set -e CELL0_ID='00000000-0000-0000-0000-000000000000' CELL0_EXISTS=$(su nova -s /bin/bash -c ""nova-manage cell_v2 list_cells"" | sed -e '1,3d' -e '$d' | awk -F ' *| *' '$4 == ""'$CELL0_ID'"" {print $4}') if [ ""$CELL0_EXISTS"" ]; then echo ""(cellv2) Updating cell_v2 cell0 database uri"" su nova -s /bin/bash -c ""/usr/bin/nova-manage cell_v2 update_cell --cell_uuid $CELL0_ID --database_connection='CELL0DB' --transport-url='none:///'"" else echo ""(cellv2) Creating cell_v2 cell0"" su nova -s /bin/bash -c ""/usr/bin/nova-manage cell_v2 map_cell0 --database_connection='CELL0DB'"" fi CELL0DB: list_join: - '' - - '{scheme}' - '://' - '{username}' - ':' - '{password}' - '@' - if: - mysql_ipv6_use_ip_address - '[{hostname}]' - '{hostname}' - '/' - 'nova_cell0' - '?' - '{query}' nova_api_map_cell0.sh: mode: ""0700"" content: str_replace: template: | #!/bin/bash CLIST=$(su nova -s /bin/bash -c ""nova-manage cell_v2 list_cells"") CELLID=$(printf ""$CLIST"" | sed -e '1,3d' -e '$d' | awk -F ' *| *' '$2 == ""cell0"" {print $4}') CELLDBC=$(printf ""$CLIST"" | sed -e '1,3d' -e '$d' | awk -F ' *| *' '$2 == ""cell0"" {print $8}') if [ ""$CELLID"" ]; then if [ ! ""$CELLDBC"" = ""CELL0DB"" ]; then # NOTE(bogdando): cached data must be updated w/ SIGHUP # for all the scheduler, conductor, API service workers. # For now that's achieved as the containers get recreated echo ""(cellv2) Updating cell0 cell_v2 cell $CELLID"" su nova -s /bin/bash -c ""/usr/bin/nova-manage cell_v2 update_cell --cell_uuid $CELLID --name=cell0 --database_connection='CELL0DB'"" fi else echo ""(cellv2) Creating cell0 cell_v2 cell"" su nova -s /bin/bash -c ""/usr/bin/nova-manage cell_v2 map_cell0 --database_connection='CELL0DB'"" fi # skip DB sync as the conductor container executes it later params: CELL0DB: list_join: - '' - - '{scheme}' - '://' - '{username}' - ':' - '{password}' - '@' - if: - mysql_ipv6_use_ip_address - '[{hostname}]' - '{hostname}' - '/' - 'nova_cell0' - '?' - '{query}' - - /var/lib/kolla/config_files/nova_api_db_sync.json:/var/lib/kolla/config_files/config.json:ro - /var/lib/config-data/puppet-generated/nova:/var/lib/kolla/config_files/src:ro environment: KOLLA_CONFIG_STRATEGY: COPY_ALWAYS nova_api_ensure_default_cells: - {get_attr: [ContainersCommon, volumes]} - {get_attr: [NovaApiLogging, volumes]} - - /var/lib/kolla/config_files/nova_api_ensure_default_cells.json:/var/lib/kolla/config_files/config.json:ro - /var/lib/container-config-scripts/nova_api_ensure_default_cells.sh:/nova_api_ensure_default_cells.sh:ro environment: KOLLA_CONFIG_STRATEGY: COPY_ALWAYS - {get_attr: [NovaApiLogging, volumes]} - - /var/lib/kolla/config_files/nova_wait_for_api_service.json:/var/lib/kolla/config_files/config.json:ro - /var/lib/config-data/puppet-generated/nova:/var/lib/kolla/config_files/src:ro KOLLA_CONFIG_STRATEGY: COPY_ALWAYS"," config_files: permissions: permissions: - path: /var/log/nova owner: nova:nova recurse: true nova_api_ensure_default_cell.sh: - - /var/lib/config-data/nova/etc/my.cnf.d/tripleo.cnf:/etc/my.cnf.d/tripleo.cnf:ro - /var/lib/config-data/nova/etc/nova/:/etc/nova/:ro command: ""/usr/bin/bootstrap_host_exec nova_api su nova -s /bin/bash -c '/usr/bin/nova-manage api_db sync'"" environment: nova_api_map_cell0: start_order: 4 # Runs before nova-conductor dbsync image: *nova_api_image net: host detach: false user: root volumes: *nova_api_bootstrap_volumes command: str_replace: template: ""/usr/bin/bootstrap_host_exec nova_api su nova -s /bin/bash -c '/usr/bin/nova-manage cell_v2 map_cell0 --database_connection=\""CELL0DB\""'"" params: CELL0DB: list_join: - '' - - '{scheme}' - '://' - '{username}' - ':' - '{password}' - '@' - if: - mysql_ipv6_use_ip_address - '[{hostname}]' - '{hostname}' - '/' - 'nova_cell0' - '?' - '{query}' nova_api_ensure_default_cell: - *nova_api_bootstrap_volumes - - /var/lib/container-config-scripts/nova_api_ensure_default_cell.sh:/nova_api_ensure_default_cell.sh:ro command: ""/usr/bin/bootstrap_host_exec nova_api /nova_api_ensure_default_cell.sh"" - - /var/lib/config-data/nova/etc/my.cnf.d/:/etc/my.cnf.d/:ro - /var/lib/config-data/nova/etc/nova/:/etc/nova/:ro - /var/log/containers/nova:/var/log/nova command: ""/usr/bin/bootstrap_host_exec nova_api su nova -s /bin/bash -c '/container-config-scripts/pyshim.sh /container-config-scripts/nova_wait_for_api_service.py'""",99,50
openstack%2Fcharm-neutron-api-plugin-arista~stable%2Fyoga~I7408fe9695ff6a573f511b92380a170c55a1dc91,openstack/charm-neutron-api-plugin-arista,stable/yoga,I7408fe9695ff6a573f511b92380a170c55a1dc91,Updates for stable branch creation,MERGED,2022-04-15 10:53:13.000000000,2022-04-19 11:41:50.000000000,2022-04-19 11:41:50.000000000,"[{'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-15 10:53:13.000000000', 'files': ['.gitreview', 'test-requirements.txt', 'src/wheelhouse.txt', 'src/test-requirements.txt', 'src/build.lock'], 'web_link': 'https://opendev.org/openstack/charm-neutron-api-plugin-arista/commit/ee02e4fa9b8fa8bff27cc1ddad54997ff57b540c', 'message': 'Updates for stable branch creation\n\n- Set default branch for git review/gerrit.\n- Switch tests to stable.\n- Switch to using stable charm-helpers branch.\n- Switch to using stable charm.openstack branch.\n- Switch to using stable zaza, zaza-openstack-tests\n  branch\n- (reactive charms) Add build.lock file\n\nChange-Id: I7408fe9695ff6a573f511b92380a170c55a1dc91\n'}]",3,838148,ee02e4fa9b8fa8bff27cc1ddad54997ff57b540c,13,3,1,20870,,,0,"Updates for stable branch creation

- Set default branch for git review/gerrit.
- Switch tests to stable.
- Switch to using stable charm-helpers branch.
- Switch to using stable charm.openstack branch.
- Switch to using stable zaza, zaza-openstack-tests
  branch
- (reactive charms) Add build.lock file

Change-Id: I7408fe9695ff6a573f511b92380a170c55a1dc91
",git fetch https://review.opendev.org/openstack/charm-neutron-api-plugin-arista refs/changes/48/838148/1 && git format-patch -1 --stdout FETCH_HEAD,"['.gitreview', 'test-requirements.txt', 'src/wheelhouse.txt', 'src/test-requirements.txt', 'src/build.lock']",5,ee02e4fa9b8fa8bff27cc1ddad54997ff57b540c,charm-release-2204,"{ ""locks"": [ { ""type"": ""layer"", ""item"": ""layer:options"", ""url"": ""https://github.com/juju-solutions/layer-options.git"", ""vcs"": null, ""branch"": ""refs/heads/master"", ""commit"": ""fcdcea4e5de3e1556c24e6704607862d0ba00a56"" }, { ""type"": ""layer"", ""item"": ""layer:basic"", ""url"": ""https://github.com/juju-solutions/layer-basic.git"", ""vcs"": null, ""branch"": ""refs/heads/master"", ""commit"": ""fb767dcf0786d1d5364199bb3b40bdc86518b45b"" }, { ""type"": ""layer"", ""item"": ""layer:openstack"", ""url"": ""https://github.com/openstack/charm-layer-openstack"", ""vcs"": null, ""branch"": ""refs/heads/master"", ""commit"": ""e0f700eacb026235e1a04e7cbc28dfbe9d4e4520"" }, { ""type"": ""layer"", ""item"": ""neutron-api-plugin-arista"", ""url"": null, ""vcs"": null, ""branch"": ""refs/heads/stable/yoga\nrefs/heads/yoga-updates"", ""commit"": ""refs/heads/stable/yoga\nrefs/heads/yoga-updates"" }, { ""type"": ""layer"", ""item"": ""interface:tls-certificates"", ""url"": ""https://github.com/juju-solutions/interface-tls-certificates"", ""vcs"": null, ""branch"": ""refs/heads/master"", ""commit"": ""d9850016d930a6d507b9fd45e2598d327922b140"" }, { ""type"": ""layer"", ""item"": ""interface:neutron-plugin-api-subordinate"", ""url"": ""https://github.com/openstack/charm-interface-neutron-plugin-api-subordinate"", ""vcs"": null, ""branch"": ""refs/heads/master"", ""commit"": ""33bcde1011235a77501d2a66f44b2be9e3ae61ef"" }, { ""type"": ""python_module"", ""package"": ""pip"", ""vcs"": null, ""version"": ""22.0.4"" }, { ""type"": ""python_module"", ""package"": ""wheel"", ""vcs"": null, ""version"": ""0.37.1"" }, { ""type"": ""python_module"", ""package"": ""flit_core"", ""vcs"": null, ""version"": ""3.7.1"" }, { ""type"": ""python_module"", ""package"": ""netifaces"", ""vcs"": null, ""version"": ""0.11.0"" }, { ""type"": ""python_module"", ""package"": ""pyparsing"", ""vcs"": null, ""version"": ""3.0.8"" }, { ""type"": ""python_module"", ""package"": ""charms.openstack"", ""url"": ""git+https://github.com/openstack/charms.openstack.git"", ""branch"": ""refs/heads/stable/yoga"", ""version"": ""13ef220ce3529fa7b8e11c6e4c5b352d05b6f148"", ""vcs"": ""git"" }, { ""type"": ""python_module"", ""package"": ""netaddr"", ""vcs"": null, ""version"": ""0.7.19"" }, { ""type"": ""python_module"", ""package"": ""setuptools_scm"", ""vcs"": null, ""version"": ""6.4.2"" }, { ""type"": ""python_module"", ""package"": ""pbr"", ""vcs"": null, ""version"": ""5.8.1"" }, { ""type"": ""python_module"", ""package"": ""packaging"", ""vcs"": null, ""version"": ""21.3"" }, { ""type"": ""python_module"", ""package"": ""charms.reactive"", ""vcs"": null, ""version"": ""1.5.0"" }, { ""type"": ""python_module"", ""package"": ""setuptools"", ""vcs"": null, ""version"": ""62.1.0"" }, { ""type"": ""python_module"", ""package"": ""dnspython"", ""vcs"": null, ""version"": ""1.16.0"" }, { ""type"": ""python_module"", ""package"": ""Jinja2"", ""vcs"": null, ""version"": ""3.1.1"" }, { ""type"": ""python_module"", ""package"": ""pyaml"", ""vcs"": null, ""version"": ""21.10.1"" }, { ""type"": ""python_module"", ""package"": ""PyYAML"", ""vcs"": null, ""version"": ""5.3.1"" }, { ""type"": ""python_module"", ""package"": ""psutil"", ""vcs"": null, ""version"": ""5.9.0"" }, { ""type"": ""python_module"", ""package"": ""Tempita"", ""vcs"": null, ""version"": ""0.4"" }, { ""type"": ""python_module"", ""package"": ""charmhelpers"", ""url"": ""git+https://github.com/juju/charm-helpers.git"", ""branch"": ""refs/heads/stable/yoga"", ""version"": ""971ac5117c96bd1cb4a6a520787e4509564da582"", ""vcs"": ""git"" }, { ""type"": ""python_module"", ""package"": ""MarkupSafe"", ""vcs"": null, ""version"": ""2.1.1"" }, { ""type"": ""python_module"", ""package"": ""tomli"", ""vcs"": null, ""version"": ""2.0.1"" } ] }",,189,5
openstack%2Fcharm-magnum-dashboard~stable%2Fyoga~Idb1c602c634a865753d47beaa2da3a4ce081eaac,openstack/charm-magnum-dashboard,stable/yoga,Idb1c602c634a865753d47beaa2da3a4ce081eaac,Updates for stable branch creation,MERGED,2022-04-15 10:49:55.000000000,2022-04-19 11:39:35.000000000,2022-04-19 11:39:35.000000000,"[{'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-15 10:49:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-magnum-dashboard/commit/8d9f61116fdac57d7e233527bdf3e0adf0b59af0', 'message': 'Updates for stable branch creation\n\n- Set default branch for git review/gerrit.\n- Switch tests to stable.\n- Switch to using stable charm-helpers branch.\n- Switch to using stable charm.openstack branch.\n- Switch to using stable zaza, zaza-openstack-tests\n  branch\n- (reactive charms) Add build.lock file\n\nChange-Id: Idb1c602c634a865753d47beaa2da3a4ce081eaac\n'}, {'number': 2, 'created': '2022-04-19 08:32:27.000000000', 'files': ['.gitreview', 'test-requirements.txt', 'src/wheelhouse.txt', 'src/test-requirements.txt', 'src/build.lock'], 'web_link': 'https://opendev.org/openstack/charm-magnum-dashboard/commit/b9b53e99ac053b8fbd6c3b39ea3cfc4a2cbcb0ef', 'message': 'Updates for stable branch creation\n\n- Set default branch for git review/gerrit.\n- Switch tests to stable.\n- Switch to using stable charm-helpers branch.\n- Switch to using stable charm.openstack branch.\n- Switch to using stable zaza, zaza-openstack-tests\n  branch\n- (reactive charms) Add build.lock file\n\nChange-Id: Idb1c602c634a865753d47beaa2da3a4ce081eaac\n'}]",1,838138,b9b53e99ac053b8fbd6c3b39ea3cfc4a2cbcb0ef,12,3,2,20870,,,0,"Updates for stable branch creation

- Set default branch for git review/gerrit.
- Switch tests to stable.
- Switch to using stable charm-helpers branch.
- Switch to using stable charm.openstack branch.
- Switch to using stable zaza, zaza-openstack-tests
  branch
- (reactive charms) Add build.lock file

Change-Id: Idb1c602c634a865753d47beaa2da3a4ce081eaac
",git fetch https://review.opendev.org/openstack/charm-magnum-dashboard refs/changes/38/838138/2 && git format-patch -1 --stdout FETCH_HEAD,"['.gitreview', 'test-requirements.txt', 'src/wheelhouse.txt', 'src/test-requirements.txt', 'src/build.lock', 'magnum-dashboard.charm']",6,8d9f61116fdac57d7e233527bdf3e0adf0b59af0,charm-release-2204,,,189,5
openstack%2Fcharm-openstack-loadbalancer~stable%2Fjammy~I92ed7d11422fd28975af0fce2b8dc1308249c3d3,openstack/charm-openstack-loadbalancer,stable/jammy,I92ed7d11422fd28975af0fce2b8dc1308249c3d3,Updates for stable branch creation,MERGED,2022-04-15 19:05:21.000000000,2022-04-19 11:38:37.000000000,2022-04-19 11:38:37.000000000,"[{'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-15 19:05:21.000000000', 'files': ['.gitreview', 'test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/charm-openstack-loadbalancer/commit/20138d97abea7ef9978cb27ae432b87531bb63cf', 'message': 'Updates for stable branch creation\n\n- Set default branch for git review/gerrit.\n- Switch tests to stable.\n- Switch to using stable charm-helpers branch.\n- Switch to using stable charm.openstack branch.\n- Switch to using stable zaza, zaza-openstack-tests\n  branch\n- (reactive charms) Add build.lock file\n\nChange-Id: I92ed7d11422fd28975af0fce2b8dc1308249c3d3\n'}]",3,838203,20138d97abea7ef9978cb27ae432b87531bb63cf,14,3,1,20870,,,0,"Updates for stable branch creation

- Set default branch for git review/gerrit.
- Switch tests to stable.
- Switch to using stable charm-helpers branch.
- Switch to using stable charm.openstack branch.
- Switch to using stable zaza, zaza-openstack-tests
  branch
- (reactive charms) Add build.lock file

Change-Id: I92ed7d11422fd28975af0fce2b8dc1308249c3d3
",git fetch https://review.opendev.org/openstack/charm-openstack-loadbalancer refs/changes/03/838203/1 && git format-patch -1 --stdout FETCH_HEAD,"['.gitreview', 'test-requirements.txt']",2,20138d97abea7ef9978cb27ae432b87531bb63cf,charm-release-2204,git+https://github.com/openstack-charmers/zaza.git@stable/yoga#egg=zaza git+https://github.com/openstack-charmers/zaza-openstack-tests.git@stable/yoga#egg=zaza.openstack,git+https://github.com/openstack-charmers/zaza.git#egg=zaza git+https://github.com/openstack-charmers/zaza-openstack-tests.git#egg=zaza.openstack,5,3
openstack%2Fcharm-nova-cell-controller~stable%2Fyoga~I99d92375d2ce3ae05f242e14b3861cdd2e47a025,openstack/charm-nova-cell-controller,stable/yoga,I99d92375d2ce3ae05f242e14b3861cdd2e47a025,Updates for stable branch creation,MERGED,2022-04-15 10:54:50.000000000,2022-04-19 11:37:14.000000000,2022-04-19 11:37:14.000000000,"[{'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-15 10:54:50.000000000', 'files': ['.gitreview', 'test-requirements.txt', 'src/wheelhouse.txt', 'src/test-requirements.txt', 'src/build.lock'], 'web_link': 'https://opendev.org/openstack/charm-nova-cell-controller/commit/fee7883d0c8a80ebfcd221086dd19cb2f34a9aea', 'message': 'Updates for stable branch creation\n\n- Set default branch for git review/gerrit.\n- Switch tests to stable.\n- Switch to using stable charm-helpers branch.\n- Switch to using stable charm.openstack branch.\n- Switch to using stable zaza, zaza-openstack-tests\n  branch\n- (reactive charms) Add build.lock file\n\nChange-Id: I99d92375d2ce3ae05f242e14b3861cdd2e47a025\n'}]",2,838153,fee7883d0c8a80ebfcd221086dd19cb2f34a9aea,11,3,1,20870,,,0,"Updates for stable branch creation

- Set default branch for git review/gerrit.
- Switch tests to stable.
- Switch to using stable charm-helpers branch.
- Switch to using stable charm.openstack branch.
- Switch to using stable zaza, zaza-openstack-tests
  branch
- (reactive charms) Add build.lock file

Change-Id: I99d92375d2ce3ae05f242e14b3861cdd2e47a025
",git fetch https://review.opendev.org/openstack/charm-nova-cell-controller refs/changes/53/838153/1 && git format-patch -1 --stdout FETCH_HEAD,"['.gitreview', 'test-requirements.txt', 'src/wheelhouse.txt', 'src/test-requirements.txt', 'src/build.lock']",5,fee7883d0c8a80ebfcd221086dd19cb2f34a9aea,charm-release-2204,"{ ""locks"": [ { ""type"": ""layer"", ""item"": ""layer:options"", ""url"": ""https://github.com/juju-solutions/layer-options.git"", ""vcs"": null, ""branch"": ""refs/heads/master"", ""commit"": ""fcdcea4e5de3e1556c24e6704607862d0ba00a56"" }, { ""type"": ""layer"", ""item"": ""layer:basic"", ""url"": ""https://github.com/juju-solutions/layer-basic.git"", ""vcs"": null, ""branch"": ""refs/heads/master"", ""commit"": ""fb767dcf0786d1d5364199bb3b40bdc86518b45b"" }, { ""type"": ""layer"", ""item"": ""layer:openstack"", ""url"": ""https://github.com/openstack/charm-layer-openstack"", ""vcs"": null, ""branch"": ""refs/heads/master"", ""commit"": ""e0f700eacb026235e1a04e7cbc28dfbe9d4e4520"" }, { ""type"": ""layer"", ""item"": ""layer:openstack-principle"", ""url"": ""https://github.com/openstack/charm-layer-openstack-principle"", ""vcs"": null, ""branch"": ""refs/heads/master"", ""commit"": ""2541283a7f9c3fa923c0fccd7257e217e11dadcd"" }, { ""type"": ""layer"", ""item"": ""layer:openstack-api"", ""url"": ""https://github.com/openstack/charm-layer-openstack-api"", ""vcs"": null, ""branch"": ""refs/heads/master"", ""commit"": ""34311a62e963d0ce903b7ddb9d70b8f071f71651"" }, { ""type"": ""layer"", ""item"": ""nova-cell-controller"", ""url"": null, ""vcs"": null, ""branch"": ""refs/heads/stable/yoga\nrefs/heads/yoga-updates"", ""commit"": ""refs/heads/stable/yoga\nrefs/heads/yoga-updates"" }, { ""type"": ""layer"", ""item"": ""interface:tls-certificates"", ""url"": ""https://github.com/juju-solutions/interface-tls-certificates"", ""vcs"": null, ""branch"": ""refs/heads/master"", ""commit"": ""d9850016d930a6d507b9fd45e2598d327922b140"" }, { ""type"": ""layer"", ""item"": ""interface:mysql-shared"", ""url"": ""https://github.com/openstack/charm-interface-mysql-shared"", ""vcs"": null, ""branch"": ""refs/heads/master"", ""commit"": ""f90f8c6edce21e4da3a872f0f9d6761730ce025d"" }, { ""type"": ""layer"", ""item"": ""interface:rabbitmq"", ""url"": ""https://github.com/openstack/charm-interface-rabbitmq"", ""vcs"": null, ""branch"": ""refs/heads/master"", ""commit"": ""383121fc584d2d3bf9d233eba0d3708398a4c468"" }, { ""type"": ""layer"", ""item"": ""interface:keystone"", ""url"": ""https://github.com/openstack/charm-interface-keystone"", ""vcs"": null, ""branch"": ""refs/heads/master"", ""commit"": ""501af18b3036f5af92990bc39e750e76e393e5eb"" }, { ""type"": ""layer"", ""item"": ""interface:hacluster"", ""url"": ""https://github.com/openstack/charm-interface-hacluster.git"", ""vcs"": null, ""branch"": ""refs/heads/master"", ""commit"": ""2b714e90b1b8845ce7390bb1dad5a56a65437907"" }, { ""type"": ""layer"", ""item"": ""interface:openstack-ha"", ""url"": ""https://github.com/openstack/charm-interface-openstack-ha"", ""vcs"": null, ""branch"": ""refs/heads/master"", ""commit"": ""a3b00e5b5fd857d130698c5cfe4b918877f0ab80"" }, { ""type"": ""layer"", ""item"": ""interface:nova-compute"", ""url"": ""https://github.com/openstack/charm-interface-nova-compute.git"", ""vcs"": null, ""branch"": ""refs/heads/master"", ""commit"": ""ea0721a6fa4c3db2fdbee4622e29870e865f58ad"" }, { ""type"": ""layer"", ""item"": ""interface:nova-cell"", ""url"": ""https://github.com/openstack/charm-interface-nova-cell.git"", ""vcs"": null, ""branch"": ""refs/heads/master"", ""commit"": ""620f9eef998ef587d951e1475a1e2168551e3d23"" }, { ""type"": ""layer"", ""item"": ""interface:keystone-credentials"", ""url"": ""https://github.com/openstack/charm-interface-keystone-credentials"", ""vcs"": null, ""branch"": ""refs/heads/master"", ""commit"": ""53e93b8820899f2251d207ed5d5c3b212ceb64de"" }, { ""type"": ""python_module"", ""package"": ""charms.reactive"", ""vcs"": null, ""version"": ""1.5.0"" }, { ""type"": ""python_module"", ""package"": ""setuptools_scm"", ""vcs"": null, ""version"": ""6.4.2"" }, { ""type"": ""python_module"", ""package"": ""pip"", ""vcs"": null, ""version"": ""22.0.4"" }, { ""type"": ""python_module"", ""package"": ""Tempita"", ""vcs"": null, ""version"": ""0.4"" }, { ""type"": ""python_module"", ""package"": ""MarkupSafe"", ""vcs"": null, ""version"": ""2.1.1"" }, { ""type"": ""python_module"", ""package"": ""wheel"", ""vcs"": null, ""version"": ""0.37.1"" }, { ""type"": ""python_module"", ""package"": ""pyaml"", ""vcs"": null, ""version"": ""21.10.1"" }, { ""type"": ""python_module"", ""package"": ""tomli"", ""vcs"": null, ""version"": ""2.0.1"" }, { ""type"": ""python_module"", ""package"": ""dnspython"", ""vcs"": null, ""version"": ""1.16.0"" }, { ""type"": ""python_module"", ""package"": ""charmhelpers"", ""url"": ""git+https://github.com/juju/charm-helpers.git"", ""branch"": ""refs/heads/stable/yoga"", ""version"": ""971ac5117c96bd1cb4a6a520787e4509564da582"", ""vcs"": ""git"" }, { ""type"": ""python_module"", ""package"": ""pyparsing"", ""vcs"": null, ""version"": ""3.0.8"" }, { ""type"": ""python_module"", ""package"": ""netaddr"", ""vcs"": null, ""version"": ""0.7.19"" }, { ""type"": ""python_module"", ""package"": ""charms.openstack"", ""url"": ""git+https://github.com/openstack/charms.openstack.git"", ""branch"": ""refs/heads/stable/yoga"", ""version"": ""13ef220ce3529fa7b8e11c6e4c5b352d05b6f148"", ""vcs"": ""git"" }, { ""type"": ""python_module"", ""package"": ""netifaces"", ""vcs"": null, ""version"": ""0.11.0"" }, { ""type"": ""python_module"", ""package"": ""flit_core"", ""vcs"": null, ""version"": ""3.7.1"" }, { ""type"": ""python_module"", ""package"": ""Jinja2"", ""vcs"": null, ""version"": ""3.1.1"" }, { ""type"": ""python_module"", ""package"": ""psutil"", ""vcs"": null, ""version"": ""5.9.0"" }, { ""type"": ""python_module"", ""package"": ""PyYAML"", ""vcs"": null, ""version"": ""5.3.1"" }, { ""type"": ""python_module"", ""package"": ""pbr"", ""vcs"": null, ""version"": ""5.8.1"" }, { ""type"": ""python_module"", ""package"": ""setuptools"", ""vcs"": null, ""version"": ""49.6.0"" }, { ""type"": ""python_module"", ""package"": ""packaging"", ""vcs"": null, ""version"": ""21.3"" } ] }",,261,5
openstack%2Fcharm-designate~stable%2Fyoga~I862c4f43cc005d7e94bc67cca19f9dd4c5b97fdb,openstack/charm-designate,stable/yoga,I862c4f43cc005d7e94bc67cca19f9dd4c5b97fdb,Updates for stable branch creation,MERGED,2022-04-15 10:45:21.000000000,2022-04-19 11:37:07.000000000,2022-04-19 11:37:07.000000000,"[{'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-15 10:45:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-designate/commit/b0a7008f2a7c9d7e195fc382ad6f6b2bd0cfdac9', 'message': 'Updates for stable branch creation\n\n- Set default branch for git review/gerrit.\n- Switch tests to stable.\n- Switch to using stable charm-helpers branch.\n- Switch to using stable charm.openstack branch.\n- Switch to using stable zaza, zaza-openstack-tests\n  branch\n- (reactive charms) Add build.lock file\n\nChange-Id: I862c4f43cc005d7e94bc67cca19f9dd4c5b97fdb\n'}, {'number': 2, 'created': '2022-04-19 06:40:28.000000000', 'files': ['.gitreview', 'test-requirements.txt', 'src/wheelhouse.txt', 'src/test-requirements.txt', 'src/build.lock'], 'web_link': 'https://opendev.org/openstack/charm-designate/commit/e911f414ec8a4ee93136974bc081c916f4009502', 'message': 'Updates for stable branch creation\n\n- Set default branch for git review/gerrit.\n- Switch tests to stable.\n- Switch to using stable charm-helpers branch.\n- Switch to using stable charm.openstack branch.\n- Switch to using stable zaza, zaza-openstack-tests\n  branch\n- (reactive charms) Add build.lock file\n\nChange-Id: I862c4f43cc005d7e94bc67cca19f9dd4c5b97fdb\n'}]",2,838125,e911f414ec8a4ee93136974bc081c916f4009502,14,3,2,20870,,,0,"Updates for stable branch creation

- Set default branch for git review/gerrit.
- Switch tests to stable.
- Switch to using stable charm-helpers branch.
- Switch to using stable charm.openstack branch.
- Switch to using stable zaza, zaza-openstack-tests
  branch
- (reactive charms) Add build.lock file

Change-Id: I862c4f43cc005d7e94bc67cca19f9dd4c5b97fdb
",git fetch https://review.opendev.org/openstack/charm-designate refs/changes/25/838125/1 && git format-patch -1 --stdout FETCH_HEAD,"['designate.charm', '.gitreview', 'test-requirements.txt', 'src/wheelhouse.txt', 'src/test-requirements.txt', 'src/build.lock']",6,b0a7008f2a7c9d7e195fc382ad6f6b2bd0cfdac9,charm-release-2204,"{ ""locks"": [ { ""type"": ""layer"", ""item"": ""layer:options"", ""url"": ""https://github.com/juju-solutions/layer-options.git"", ""vcs"": null, ""branch"": ""refs/heads/master"", ""commit"": ""fcdcea4e5de3e1556c24e6704607862d0ba00a56"" }, { ""type"": ""layer"", ""item"": ""layer:basic"", ""url"": ""https://github.com/juju-solutions/layer-basic.git"", ""vcs"": null, ""branch"": ""refs/heads/master"", ""commit"": ""fb767dcf0786d1d5364199bb3b40bdc86518b45b"" }, { ""type"": ""layer"", ""item"": ""layer:openstack"", ""url"": ""https://github.com/openstack/charm-layer-openstack"", ""vcs"": null, ""branch"": ""refs/heads/master"", ""commit"": ""e0f700eacb026235e1a04e7cbc28dfbe9d4e4520"" }, { ""type"": ""layer"", ""item"": ""layer:openstack-principle"", ""url"": ""https://github.com/openstack/charm-layer-openstack-principle"", ""vcs"": null, ""branch"": ""refs/heads/master"", ""commit"": ""2541283a7f9c3fa923c0fccd7257e217e11dadcd"" }, { ""type"": ""layer"", ""item"": ""layer:openstack-api"", ""url"": ""https://github.com/openstack/charm-layer-openstack-api"", ""vcs"": null, ""branch"": ""refs/heads/master"", ""commit"": ""34311a62e963d0ce903b7ddb9d70b8f071f71651"" }, { ""type"": ""layer"", ""item"": ""layer:leadership"", ""url"": ""https://git.launchpad.net/layer-leadership"", ""vcs"": null, ""branch"": ""refs/heads/master"", ""commit"": ""cc5bd3f49b2fa5e6c3ab2336763c313ec8bf083f"" }, { ""type"": ""layer"", ""item"": ""designate"", ""url"": null, ""vcs"": null, ""branch"": ""refs/heads/stable/yoga\nrefs/heads/yoga-updates"", ""commit"": ""refs/heads/stable/yoga\nrefs/heads/yoga-updates"" }, { ""type"": ""layer"", ""item"": ""interface:tls-certificates"", ""url"": ""https://github.com/juju-solutions/interface-tls-certificates"", ""vcs"": null, ""branch"": ""refs/heads/master"", ""commit"": ""d9850016d930a6d507b9fd45e2598d327922b140"" }, { ""type"": ""layer"", ""item"": ""interface:mysql-shared"", ""url"": ""https://github.com/openstack/charm-interface-mysql-shared"", ""vcs"": null, ""branch"": ""refs/heads/master"", ""commit"": ""f90f8c6edce21e4da3a872f0f9d6761730ce025d"" }, { ""type"": ""layer"", ""item"": ""interface:rabbitmq"", ""url"": ""https://github.com/openstack/charm-interface-rabbitmq"", ""vcs"": null, ""branch"": ""refs/heads/master"", ""commit"": ""383121fc584d2d3bf9d233eba0d3708398a4c468"" }, { ""type"": ""layer"", ""item"": ""interface:keystone"", ""url"": ""https://github.com/openstack/charm-interface-keystone"", ""vcs"": null, ""branch"": ""refs/heads/master"", ""commit"": ""501af18b3036f5af92990bc39e750e76e393e5eb"" }, { ""type"": ""layer"", ""item"": ""interface:hacluster"", ""url"": ""https://github.com/openstack/charm-interface-hacluster.git"", ""vcs"": null, ""branch"": ""refs/heads/master"", ""commit"": ""2b714e90b1b8845ce7390bb1dad5a56a65437907"" }, { ""type"": ""layer"", ""item"": ""interface:openstack-ha"", ""url"": ""https://github.com/openstack/charm-interface-openstack-ha"", ""vcs"": null, ""branch"": ""refs/heads/master"", ""commit"": ""a3b00e5b5fd857d130698c5cfe4b918877f0ab80"" }, { ""type"": ""layer"", ""item"": ""interface:bind-rndc"", ""url"": ""https://github.com/openstack/charm-interface-bind-rndc"", ""vcs"": null, ""branch"": ""refs/heads/master"", ""commit"": ""4c69d8ceb1af495156ff5bd9e3111bd8d34a347e"" }, { ""type"": ""layer"", ""item"": ""interface:memcache"", ""url"": ""https://github.com/omnivector-solutions/interface-memcache.git"", ""vcs"": null, ""branch"": ""refs/heads/master"", ""commit"": ""ab0958e171093f151427eaf62afdf9ae8c20ed0d"" }, { ""type"": ""layer"", ""item"": ""interface:designate"", ""url"": ""https://github.com/openstack/charm-interface-designate"", ""vcs"": null, ""branch"": ""refs/heads/master"", ""commit"": ""f11ee38d265ce1675d75624409e26cb7f7377c75"" }, { ""type"": ""layer"", ""item"": ""interface:nrpe-external-master"", ""url"": ""https://github.com/canonical/nrpe-external-master-interface"", ""vcs"": null, ""branch"": ""refs/heads/master"", ""commit"": ""95d744d1dbc4d86fb0462283c9371619bf5bbc24"" }, { ""type"": ""python_module"", ""package"": ""PyYAML"", ""vcs"": null, ""version"": ""5.3.1"" }, { ""type"": ""python_module"", ""package"": ""psutil"", ""vcs"": null, ""version"": ""5.9.0"" }, { ""type"": ""python_module"", ""package"": ""charmhelpers"", ""url"": ""git+https://github.com/juju/charm-helpers.git"", ""branch"": ""refs/heads/stable/yoga"", ""version"": ""971ac5117c96bd1cb4a6a520787e4509564da582"", ""vcs"": ""git"" }, { ""type"": ""python_module"", ""package"": ""Jinja2"", ""vcs"": null, ""version"": ""3.1.1"" }, { ""type"": ""python_module"", ""package"": ""pyaml"", ""vcs"": null, ""version"": ""21.10.1"" }, { ""type"": ""python_module"", ""package"": ""Tempita"", ""vcs"": null, ""version"": ""0.4"" }, { ""type"": ""python_module"", ""package"": ""charms.openstack"", ""url"": ""git+https://github.com/openstack/charms.openstack.git"", ""branch"": ""refs/heads/stable/yoga"", ""version"": ""13ef220ce3529fa7b8e11c6e4c5b352d05b6f148"", ""vcs"": ""git"" }, { ""type"": ""python_module"", ""package"": ""pip"", ""vcs"": null, ""version"": ""22.0.4"" }, { ""type"": ""python_module"", ""package"": ""MarkupSafe"", ""vcs"": null, ""version"": ""2.1.1"" }, { ""type"": ""python_module"", ""package"": ""pbr"", ""vcs"": null, ""version"": ""5.8.1"" }, { ""type"": ""python_module"", ""package"": ""tomli"", ""vcs"": null, ""version"": ""2.0.1"" }, { ""type"": ""python_module"", ""package"": ""setuptools"", ""vcs"": null, ""version"": ""62.1.0"" }, { ""type"": ""python_module"", ""package"": ""flit_core"", ""vcs"": null, ""version"": ""3.7.1"" }, { ""type"": ""python_module"", ""package"": ""netifaces"", ""vcs"": null, ""version"": ""0.11.0"" }, { ""type"": ""python_module"", ""package"": ""setuptools_scm"", ""vcs"": null, ""version"": ""6.4.2"" }, { ""type"": ""python_module"", ""package"": ""netaddr"", ""vcs"": null, ""version"": ""0.7.19"" }, { ""type"": ""python_module"", ""package"": ""pyparsing"", ""vcs"": null, ""version"": ""3.0.8"" }, { ""type"": ""python_module"", ""package"": ""charms.reactive"", ""vcs"": null, ""version"": ""1.5.0"" }, { ""type"": ""python_module"", ""package"": ""wheel"", ""vcs"": null, ""version"": ""0.37.1"" }, { ""type"": ""python_module"", ""package"": ""dnspython"", ""vcs"": null, ""version"": ""1.16.0"" }, { ""type"": ""python_module"", ""package"": ""packaging"", ""vcs"": null, ""version"": ""21.3"" } ] }",,277,5
openstack%2Fblazar~stable%2Fvictoria~I9d22be39bec67fc17841367a0ef0ac439143af6c,openstack/blazar,stable/victoria,I9d22be39bec67fc17841367a0ef0ac439143af6c,Switch to stestr,MERGED,2022-04-15 14:22:05.000000000,2022-04-19 11:35:32.000000000,2022-04-19 11:33:53.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-15 14:22:05.000000000', 'files': ['.gitignore', 'test-requirements.txt', 'blazar/tests/__init__.py', '.testr.conf', 'lower-constraints.txt', 'tox.ini', '.stestr.conf'], 'web_link': 'https://opendev.org/openstack/blazar/commit/d4be86d8c44274bb29ca9e69f66913d0daac26c7', 'message': ""Switch to stestr\n\nAccording to Openstack summit session [1],\nstestr is maintained project to which all Openstack projects should migrate.\nLet's switch to stestr as other projects have already moved to it.\n\n[1] https://etherpad.openstack.org/p/YVR-python-pti\n\nChange-Id: I9d22be39bec67fc17841367a0ef0ac439143af6c\n(cherry picked from commit aa2a14a037da20571bd03b1dd1fa34566e0b1dca)\n""}]",0,838026,d4be86d8c44274bb29ca9e69f66913d0daac26c7,7,2,1,15197,,,0,"Switch to stestr

According to Openstack summit session [1],
stestr is maintained project to which all Openstack projects should migrate.
Let's switch to stestr as other projects have already moved to it.

[1] https://etherpad.openstack.org/p/YVR-python-pti

Change-Id: I9d22be39bec67fc17841367a0ef0ac439143af6c
(cherry picked from commit aa2a14a037da20571bd03b1dd1fa34566e0b1dca)
",git fetch https://review.opendev.org/openstack/blazar refs/changes/26/838026/1 && git format-patch -1 --stdout FETCH_HEAD,"['.gitignore', 'test-requirements.txt', 'blazar/tests/__init__.py', '.testr.conf', 'lower-constraints.txt', 'tox.ini', '.stestr.conf']",7,d4be86d8c44274bb29ca9e69f66913d0daac26c7,stestr-stable/victoria,[DEFAULT] test_path=${TEST_PATH:-./blazar/tests} top_dir=./ ,,14,20
openstack%2Fkolla-ansible~master~I0bf134cd91ba35083a59787c537fc49dce998597,openstack/kolla-ansible,master,I0bf134cd91ba35083a59787c537fc49dce998597,[CI] Make kolla-build quiet,MERGED,2022-04-15 14:14:24.000000000,2022-04-19 11:30:17.000000000,2022-04-19 11:28:10.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}]","[{'number': 1, 'created': '2022-04-15 14:14:24.000000000', 'files': ['tests/run.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/4fe8ef79c6168aec908d56ba7e36aca58635d9f8', 'message': '[CI] Make kolla-build quiet\n\nThis avoids polluting job logs.\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/837872\nChange-Id: I0bf134cd91ba35083a59787c537fc49dce998597\n'}]",0,838177,4fe8ef79c6168aec908d56ba7e36aca58635d9f8,9,4,1,30491,,,0,"[CI] Make kolla-build quiet

This avoids polluting job logs.

Depends-On: https://review.opendev.org/c/openstack/kolla/+/837872
Change-Id: I0bf134cd91ba35083a59787c537fc49dce998597
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/77/838177/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/run.yml'],1,4fe8ef79c6168aec908d56ba7e36aca58635d9f8,quiet-kolla, quiet: true,,1,0
openstack%2Fkolla~master~If7d5c2807f0947a8bbbc1ceb8531c9b9c9287c1f,openstack/kolla,master,If7d5c2807f0947a8bbbc1ceb8531c9b9c9287c1f,enable logging to file for quiet mode,MERGED,2022-04-14 13:36:39.000000000,2022-04-19 11:30:14.000000000,2022-04-19 11:28:06.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-04-14 13:36:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/341b4775b7653ad8ae5f71e24d83f7a8f2dea228', 'message': ""enable logging to file for quiet mode\n\nWe have 'quiet' mode where only minimal data is printed to the console.\nBut there are no logs at all then.\n\nThis change generates log files (if 'logs-dir' argument is used) during\nquiet build.\n\nAlso enables 'quiet' mode for CI so Zuul will not have to parse 29MB\nJSON file each time.\n\nChange-Id: If7d5c2807f0947a8bbbc1ceb8531c9b9c9287c1f\n""}, {'number': 2, 'created': '2022-04-14 13:46:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/720c0e2eacd19909024084b487acd740d7c5bdc1', 'message': ""enable logging to file for quiet mode\n\nWe have 'quiet' mode where only minimal data is printed to the console.\nBut there were no logs at all then.\n\nThis change generates log files (if 'logs-dir' argument is used) during\nquiet build.\n\nAlso enables 'quiet' mode for CI so Zuul will not have to parse 29MB\nJSON file each time.\n\nChange-Id: If7d5c2807f0947a8bbbc1ceb8531c9b9c9287c1f\n""}, {'number': 3, 'created': '2022-04-14 16:25:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/5bed5de57da9bf1da845c60bd28dcabd22f0cd10', 'message': ""enable logging to file for quiet mode\n\nWe have 'quiet' mode where only minimal data is printed to the console.\nBut there were no logs at all then.\n\nThis change generates log files (if 'logs-dir' argument is used) during\nquiet build.\n\nAlso enables 'quiet' mode for CI so Zuul will not have to parse 29MB\nJSON file each time.\n\nChange-Id: If7d5c2807f0947a8bbbc1ceb8531c9b9c9287c1f\n""}, {'number': 4, 'created': '2022-04-15 13:37:25.000000000', 'files': ['releasenotes/notes/quiet-mode-with-logs-0abafc07923945ac.yaml', 'tests/playbooks/run.yml', 'kolla/common/utils.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/0cf5b1d4e6e871562c0ca0f48a21594f8d197471', 'message': ""enable logging to file for quiet mode\n\nWe have 'quiet' mode where only minimal data is printed to the console.\nBut there were no logs at all then.\n\nThis change generates log files (if 'logs-dir' argument is used) during\nquiet build.\n\nAlso enables 'quiet' mode for CI so Zuul will not have to parse 29MB\nJSON file each time.\n\nChange-Id: If7d5c2807f0947a8bbbc1ceb8531c9b9c9287c1f\n""}]",9,837872,0cf5b1d4e6e871562c0ca0f48a21594f8d197471,27,5,4,24072,,,0,"enable logging to file for quiet mode

We have 'quiet' mode where only minimal data is printed to the console.
But there were no logs at all then.

This change generates log files (if 'logs-dir' argument is used) during
quiet build.

Also enables 'quiet' mode for CI so Zuul will not have to parse 29MB
JSON file each time.

Change-Id: If7d5c2807f0947a8bbbc1ceb8531c9b9c9287c1f
",git fetch https://review.opendev.org/openstack/kolla refs/changes/72/837872/4 && git format-patch -1 --stdout FETCH_HEAD,"['tests/playbooks/run.yml', 'kolla/common/utils.py']",2,341b4775b7653ad8ae5f71e24d83f7a8f2dea228,quiet-kolla, if conf is not None and conf.quiet and image_name: loglevel = logging.CRITICAL elif conf is not None and conf.debug: loglevel = logging.DEBUG else: loglevel = logging.INFO if not log.handlers: stream_handler = logging.StreamHandler(sys.stderr) stream_handler.setFormatter(logging.Formatter(logging.BASIC_FORMAT)) stream_handler.setLevel(loglevel) log.addHandler(stream_handler) log.propagate = False if conf is not None and conf.logs_dir and image_name: # NOTE(hrw) in file we want at least INFO level if loglevel == logging.CRITICAL: handler.setLevel(logging.INFO) else: handler.setLevel(loglevel) handler.setFormatter(logging.Formatter(logging.BASIC_FORMAT)) log.addHandler(handler) log.setLevel(logging.DEBUG), if not log.handlers: if conf is None or not conf.logs_dir or not image_name: handler = logging.StreamHandler(sys.stderr) log.propagate = False else: handler.setFormatter(logging.Formatter(logging.BASIC_FORMAT)) log.addHandler(handler) if conf is not None and conf.debug: log.setLevel(logging.DEBUG) elif conf is not None and conf.quiet and image_name: log.setLevel(logging.CRITICAL) else: log.setLevel(logging.INFO),25,12
openstack%2Fansible-role-python_venv_build~stable%2Fstein~I298edfe86c7b5901636d79cc607f580e40f516d7,openstack/ansible-role-python_venv_build,stable/stein,I298edfe86c7b5901636d79cc607f580e40f516d7,Remove tripleo-ci-centos-7-standalone-os-tempest from gate layout,MERGED,2022-04-15 11:49:04.000000000,2022-04-19 11:23:28.000000000,2022-04-19 11:19:57.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-04-15 11:49:04.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/ansible-role-python_venv_build/commit/afe1765e24db703d25d5d83583af79748b489720', 'message': 'Remove tripleo-ci-centos-7-standalone-os-tempest from gate layout\n\nThis removes tripleo-ci-centos-7-standalone-os-tempest from the\nzuul layout. This job is hardwired for stable/stein in [1].\nNeeded by [2] where the job is removed as stein is EOL for TripleO.\n\n[1] https://opendev.org/openstack/tripleo-ci/src/commit/4daed1b14c582b442f64ec45b1ddba5b58e03986/zuul.d/standalone-jobs.yaml#L582\n[2] https://review.opendev.org/c/openstack/tripleo-ci/+/838110/4#message-db697f5274005c959b6005ac0999cc2bc0b23d61\n\nChange-Id: I298edfe86c7b5901636d79cc607f580e40f516d7\n'}]",0,838170,afe1765e24db703d25d5d83583af79748b489720,8,3,1,8449,,,0,"Remove tripleo-ci-centos-7-standalone-os-tempest from gate layout

This removes tripleo-ci-centos-7-standalone-os-tempest from the
zuul layout. This job is hardwired for stable/stein in [1].
Needed by [2] where the job is removed as stein is EOL for TripleO.

[1] https://opendev.org/openstack/tripleo-ci/src/commit/4daed1b14c582b442f64ec45b1ddba5b58e03986/zuul.d/standalone-jobs.yaml#L582
[2] https://review.opendev.org/c/openstack/tripleo-ci/+/838110/4#message-db697f5274005c959b6005ac0999cc2bc0b23d61

Change-Id: I298edfe86c7b5901636d79cc607f580e40f516d7
",git fetch https://review.opendev.org/openstack/ansible-role-python_venv_build refs/changes/70/838170/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,afe1765e24db703d25d5d83583af79748b489720,,, check: jobs: - tripleo-ci-centos-7-standalone-os-tempest: voting: false,0,4
openstack%2Fpython-tripleoclient~master~I410c4d3864546ffb7a9f8709b99633a3d787a45f,openstack/python-tripleoclient,master,I410c4d3864546ffb7a9f8709b99633a3d787a45f,[DNM] test to see if ovb job triggers.,ABANDONED,2022-04-19 10:52:26.000000000,2022-04-19 10:55:43.000000000,,[],"[{'number': 1, 'created': '2022-04-19 10:52:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/bd08a680b99e57f9f836fa8b73b5615c93e8ab65', 'message': '[DNM] test to see if ovb job triggers.\n\ntesting patch https://review.rdoproject.org/r/c/config/+/42021\n\nChange-Id: I410c4d3864546ffb7a9f8709b99633a3d787a45f\n'}, {'number': 2, 'created': '2022-04-19 10:54:28.000000000', 'files': ['zuul.d/layout.yaml', 'tripleoclient/v2/overcloud_network.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/6fcd8dd89fbae416792a3d382021caff8698578e', 'message': '[DNM] test to see if ovb job triggers.\n\ntesting patch https://review.rdoproject.org/r/c/config/+/42021\n\nChange-Id: I410c4d3864546ffb7a9f8709b99633a3d787a45f\n'}]",0,838478,6fcd8dd89fbae416792a3d382021caff8698578e,3,0,2,29775,,,0,"[DNM] test to see if ovb job triggers.

testing patch https://review.rdoproject.org/r/c/config/+/42021

Change-Id: I410c4d3864546ffb7a9f8709b99633a3d787a45f
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/78/838478/2 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/utils.py', 'zuul.d/layout.yaml']",2,bd08a680b99e57f9f836fa8b73b5615c93e8ab65,, check: jobs: [], templates: - check-requirements - openstack-cover-jobs - openstackclient-plugin-jobs - openstack-python3-yoga-jobs - publish-openstack-docs-pti - release-notes-jobs-python3 - tripleo-buildimage-jobs - tripleo-build-containers-jobs - tripleo-multinode-container-minimal-pipeline - tripleo-undercloud-jobs-pipeline - tripleo-standalone-scenarios-pipeline - tripleo-upgrades-master-pipeline check: jobs: - tripleo-ci-centos-9-content-provider: dependencies: - openstack-tox-pep8 - openstack-tox-py36 - openstack-tox-py39 - tripleo-ci-centos-9-standalone: vars: enable_validation: true validation_component: validation command: openstack tripleo validator,2,24
openstack%2Fcharm-manila-dashboard~stable%2Fyoga~I2e9a6b83a8f16e7a35bdf75e66a036ab025884f9,openstack/charm-manila-dashboard,stable/yoga,I2e9a6b83a8f16e7a35bdf75e66a036ab025884f9,Updates for stable branch creation,MERGED,2022-04-15 10:50:59.000000000,2022-04-19 10:02:48.000000000,2022-04-19 10:02:48.000000000,"[{'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-15 10:50:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-manila-dashboard/commit/f08d58f5da1ee827515f7a18ca49292cc50cc4ca', 'message': 'Updates for stable branch creation\n\n- Set default branch for git review/gerrit.\n- Switch tests to stable.\n- Switch to using stable charm-helpers branch.\n- Switch to using stable charm.openstack branch.\n- Switch to using stable zaza, zaza-openstack-tests\n  branch\n- (reactive charms) Add build.lock file\n\nChange-Id: I2e9a6b83a8f16e7a35bdf75e66a036ab025884f9\n'}, {'number': 2, 'created': '2022-04-19 08:34:58.000000000', 'files': ['.gitreview', 'test-requirements.txt', 'src/wheelhouse.txt', 'src/test-requirements.txt', 'src/build.lock'], 'web_link': 'https://opendev.org/openstack/charm-manila-dashboard/commit/82bd88bc7194a589bbd4d6270305e30b96277370', 'message': 'Updates for stable branch creation\n\n- Set default branch for git review/gerrit.\n- Switch tests to stable.\n- Switch to using stable charm-helpers branch.\n- Switch to using stable charm.openstack branch.\n- Switch to using stable zaza, zaza-openstack-tests\n  branch\n- (reactive charms) Add build.lock file\n\nChange-Id: I2e9a6b83a8f16e7a35bdf75e66a036ab025884f9\n'}]",1,838140,82bd88bc7194a589bbd4d6270305e30b96277370,12,3,2,20870,,,0,"Updates for stable branch creation

- Set default branch for git review/gerrit.
- Switch tests to stable.
- Switch to using stable charm-helpers branch.
- Switch to using stable charm.openstack branch.
- Switch to using stable zaza, zaza-openstack-tests
  branch
- (reactive charms) Add build.lock file

Change-Id: I2e9a6b83a8f16e7a35bdf75e66a036ab025884f9
",git fetch https://review.opendev.org/openstack/charm-manila-dashboard refs/changes/40/838140/2 && git format-patch -1 --stdout FETCH_HEAD,"['.gitreview', 'test-requirements.txt', 'src/wheelhouse.txt', 'manila-dashboard.charm', 'src/test-requirements.txt', 'src/build.lock']",6,f08d58f5da1ee827515f7a18ca49292cc50cc4ca,charm-release-2204,"{ ""locks"": [ { ""type"": ""layer"", ""item"": ""layer:options"", ""url"": ""https://github.com/juju-solutions/layer-options.git"", ""vcs"": null, ""branch"": ""refs/heads/master"", ""commit"": ""fcdcea4e5de3e1556c24e6704607862d0ba00a56"" }, { ""type"": ""layer"", ""item"": ""layer:basic"", ""url"": ""https://github.com/juju-solutions/layer-basic.git"", ""vcs"": null, ""branch"": ""refs/heads/master"", ""commit"": ""fb767dcf0786d1d5364199bb3b40bdc86518b45b"" }, { ""type"": ""layer"", ""item"": ""layer:openstack"", ""url"": ""https://github.com/openstack/charm-layer-openstack"", ""vcs"": null, ""branch"": ""refs/heads/master"", ""commit"": ""e0f700eacb026235e1a04e7cbc28dfbe9d4e4520"" }, { ""type"": ""layer"", ""item"": ""manila-dashboard"", ""url"": null, ""vcs"": null, ""branch"": ""refs/heads/stable/yoga\nrefs/heads/yoga-updates"", ""commit"": ""refs/heads/stable/yoga\nrefs/heads/yoga-updates"" }, { ""type"": ""layer"", ""item"": ""interface:tls-certificates"", ""url"": ""https://github.com/juju-solutions/interface-tls-certificates"", ""vcs"": null, ""branch"": ""refs/heads/master"", ""commit"": ""d9850016d930a6d507b9fd45e2598d327922b140"" }, { ""type"": ""layer"", ""item"": ""interface:dashboard-plugin"", ""url"": ""https://github.com/openstack/charm-interface-dashboard-plugin.git"", ""vcs"": null, ""branch"": ""refs/heads/master"", ""commit"": ""5fe099ee3065400e16902eadf009682e21852e9b"" }, { ""type"": ""python_module"", ""package"": ""Jinja2"", ""vcs"": null, ""version"": ""3.1.1"" }, { ""type"": ""python_module"", ""package"": ""setuptools_scm"", ""vcs"": null, ""version"": ""6.4.2"" }, { ""type"": ""python_module"", ""package"": ""packaging"", ""vcs"": null, ""version"": ""21.3"" }, { ""type"": ""python_module"", ""package"": ""pyparsing"", ""vcs"": null, ""version"": ""3.0.8"" }, { ""type"": ""python_module"", ""package"": ""dnspython"", ""vcs"": null, ""version"": ""1.16.0"" }, { ""type"": ""python_module"", ""package"": ""psutil"", ""vcs"": null, ""version"": ""5.9.0"" }, { ""type"": ""python_module"", ""package"": ""setuptools"", ""vcs"": null, ""version"": ""62.1.0"" }, { ""type"": ""python_module"", ""package"": ""PyYAML"", ""vcs"": null, ""version"": ""5.3.1"" }, { ""type"": ""python_module"", ""package"": ""flit_core"", ""vcs"": null, ""version"": ""3.7.1"" }, { ""type"": ""python_module"", ""package"": ""tomli"", ""vcs"": null, ""version"": ""2.0.1"" }, { ""type"": ""python_module"", ""package"": ""charms.reactive"", ""vcs"": null, ""version"": ""1.5.0"" }, { ""type"": ""python_module"", ""package"": ""MarkupSafe"", ""vcs"": null, ""version"": ""2.1.1"" }, { ""type"": ""python_module"", ""package"": ""netaddr"", ""vcs"": null, ""version"": ""0.7.19"" }, { ""type"": ""python_module"", ""package"": ""Tempita"", ""vcs"": null, ""version"": ""0.4"" }, { ""type"": ""python_module"", ""package"": ""wheel"", ""vcs"": null, ""version"": ""0.37.1"" }, { ""type"": ""python_module"", ""package"": ""pip"", ""vcs"": null, ""version"": ""22.0.4"" }, { ""type"": ""python_module"", ""package"": ""netifaces"", ""vcs"": null, ""version"": ""0.11.0"" }, { ""type"": ""python_module"", ""package"": ""charms.openstack"", ""url"": ""git+https://github.com/openstack/charms.openstack.git"", ""branch"": ""refs/heads/stable/yoga"", ""version"": ""13ef220ce3529fa7b8e11c6e4c5b352d05b6f148"", ""vcs"": ""git"" }, { ""type"": ""python_module"", ""package"": ""pbr"", ""vcs"": null, ""version"": ""5.8.1"" }, { ""type"": ""python_module"", ""package"": ""pyaml"", ""vcs"": null, ""version"": ""21.10.1"" }, { ""type"": ""python_module"", ""package"": ""charmhelpers"", ""url"": ""git+https://github.com/juju/charm-helpers.git"", ""branch"": ""refs/heads/stable/yoga"", ""version"": ""971ac5117c96bd1cb4a6a520787e4509564da582"", ""vcs"": ""git"" } ] }",,189,5
openstack%2Fcharm-cinder-nimblestorage~stable%2Fyoga~I7b1dc8fd145899c843f610fd4b03e413cb97cb0f,openstack/charm-cinder-nimblestorage,stable/yoga,I7b1dc8fd145899c843f610fd4b03e413cb97cb0f,Updates for stable branch creation,MERGED,2022-04-15 10:44:39.000000000,2022-04-19 10:00:57.000000000,2022-04-19 10:00:57.000000000,"[{'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-15 10:44:39.000000000', 'files': ['.gitreview', 'test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/charm-cinder-nimblestorage/commit/8a7b4ceddefd3c2f14ced59b16e942d5a3c4641c', 'message': 'Updates for stable branch creation\n\n- Set default branch for git review/gerrit.\n- Switch tests to stable.\n- Switch to using stable charm-helpers branch.\n- Switch to using stable charm.openstack branch.\n- Switch to using stable zaza, zaza-openstack-tests\n  branch\n- (reactive charms) Add build.lock file\n\nChange-Id: I7b1dc8fd145899c843f610fd4b03e413cb97cb0f\n'}]",4,838123,8a7b4ceddefd3c2f14ced59b16e942d5a3c4641c,16,3,1,20870,,,0,"Updates for stable branch creation

- Set default branch for git review/gerrit.
- Switch tests to stable.
- Switch to using stable charm-helpers branch.
- Switch to using stable charm.openstack branch.
- Switch to using stable zaza, zaza-openstack-tests
  branch
- (reactive charms) Add build.lock file

Change-Id: I7b1dc8fd145899c843f610fd4b03e413cb97cb0f
",git fetch https://review.opendev.org/openstack/charm-cinder-nimblestorage refs/changes/23/838123/1 && git format-patch -1 --stdout FETCH_HEAD,"['.gitreview', 'test-requirements.txt']",2,8a7b4ceddefd3c2f14ced59b16e942d5a3c4641c,charm-release-2204,git+https://github.com/openstack-charmers/zaza.git@stable/yoga#egg=zaza git+https://github.com/openstack-charmers/zaza-openstack-tests.git@stable/yoga#egg=zaza.openstack,git+https://github.com/openstack-charmers/zaza.git#egg=zaza git+https://github.com/openstack-charmers/zaza-openstack-tests.git#egg=zaza.openstack,4,2
openstack%2Ftripleo-quickstart-extras~master~I62358ebaa2792642265db17164bee5a620ef10b1,openstack/tripleo-quickstart-extras,master,I62358ebaa2792642265db17164bee5a620ef10b1,Fix dstat setup in jobs,MERGED,2022-04-18 09:27:46.000000000,2022-04-19 09:51:21.000000000,2022-04-19 09:51:21.000000000,"[{'_account_id': 8449}, {'_account_id': 9976}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29775}]","[{'number': 1, 'created': '2022-04-18 09:27:46.000000000', 'files': ['playbooks/multinode-validate.yml', 'playbooks/quickstart-extras-validate.yml', 'playbooks/baremetal-full-overcloud-validate.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/858d532fee40958b6a747b2652021e903173f0e2', 'message': 'Fix dstat setup in jobs\n\nIt fails as run_tempest is not defined, now we should\nuse use_os_tempest instead.\n\nChange-Id: I62358ebaa2792642265db17164bee5a620ef10b1\n'}]",3,838288,858d532fee40958b6a747b2652021e903173f0e2,11,6,1,13861,,,0,"Fix dstat setup in jobs

It fails as run_tempest is not defined, now we should
use use_os_tempest instead.

Change-Id: I62358ebaa2792642265db17164bee5a620ef10b1
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/88/838288/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/multinode-validate.yml', 'playbooks/quickstart-extras-validate.yml', 'playbooks/baremetal-full-overcloud-validate.yml']",3,858d532fee40958b6a747b2652021e903173f0e2,fix_dstat_setup, when: validate_performance|bool and use_os_tempest | default(true) | bool}, when: validate_performance|bool and run_tempest|bool},3,3
openstack%2Fcharm-designate-bind~stable%2Fyoga~Ib6ab4a1e01823e96ffa71d08751bb87749cd6eb2,openstack/charm-designate-bind,stable/yoga,Ib6ab4a1e01823e96ffa71d08751bb87749cd6eb2,Updates for stable branch creation,MERGED,2022-04-15 10:45:30.000000000,2022-04-19 09:50:31.000000000,2022-04-19 09:50:31.000000000,"[{'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-15 10:45:30.000000000', 'files': ['.gitreview', 'test-requirements.txt', 'src/wheelhouse.txt', 'src/test-requirements.txt', 'src/build.lock'], 'web_link': 'https://opendev.org/openstack/charm-designate-bind/commit/29933eb00a97d0dabaeb8411146fec68dee43ef7', 'message': 'Updates for stable branch creation\n\n- Set default branch for git review/gerrit.\n- Switch tests to stable.\n- Switch to using stable charm-helpers branch.\n- Switch to using stable charm.openstack branch.\n- Switch to using stable zaza, zaza-openstack-tests\n  branch\n- (reactive charms) Add build.lock file\n\nChange-Id: Ib6ab4a1e01823e96ffa71d08751bb87749cd6eb2\n'}]",2,838126,29933eb00a97d0dabaeb8411146fec68dee43ef7,11,3,1,20870,,,0,"Updates for stable branch creation

- Set default branch for git review/gerrit.
- Switch tests to stable.
- Switch to using stable charm-helpers branch.
- Switch to using stable charm.openstack branch.
- Switch to using stable zaza, zaza-openstack-tests
  branch
- (reactive charms) Add build.lock file

Change-Id: Ib6ab4a1e01823e96ffa71d08751bb87749cd6eb2
",git fetch https://review.opendev.org/openstack/charm-designate-bind refs/changes/26/838126/1 && git format-patch -1 --stdout FETCH_HEAD,"['.gitreview', 'test-requirements.txt', 'src/wheelhouse.txt', 'src/test-requirements.txt', 'src/build.lock']",5,29933eb00a97d0dabaeb8411146fec68dee43ef7,charm-release-2204,"{ ""locks"": [ { ""type"": ""layer"", ""item"": ""layer:options"", ""url"": ""https://github.com/juju-solutions/layer-options.git"", ""vcs"": null, ""branch"": ""refs/heads/master"", ""commit"": ""fcdcea4e5de3e1556c24e6704607862d0ba00a56"" }, { ""type"": ""layer"", ""item"": ""layer:basic"", ""url"": ""https://github.com/juju-solutions/layer-basic.git"", ""vcs"": null, ""branch"": ""refs/heads/master"", ""commit"": ""fb767dcf0786d1d5364199bb3b40bdc86518b45b"" }, { ""type"": ""layer"", ""item"": ""layer:openstack"", ""url"": ""https://github.com/openstack/charm-layer-openstack"", ""vcs"": null, ""branch"": ""refs/heads/master"", ""commit"": ""e0f700eacb026235e1a04e7cbc28dfbe9d4e4520"" }, { ""type"": ""layer"", ""item"": ""designate-bind"", ""url"": null, ""vcs"": null, ""branch"": ""refs/heads/stable/yoga\nrefs/heads/yoga-updates"", ""commit"": ""refs/heads/stable/yoga\nrefs/heads/yoga-updates"" }, { ""type"": ""layer"", ""item"": ""interface:tls-certificates"", ""url"": ""https://github.com/juju-solutions/interface-tls-certificates"", ""vcs"": null, ""branch"": ""refs/heads/master"", ""commit"": ""d9850016d930a6d507b9fd45e2598d327922b140"" }, { ""type"": ""layer"", ""item"": ""interface:bind-rndc"", ""url"": ""https://github.com/openstack/charm-interface-bind-rndc"", ""vcs"": null, ""branch"": ""refs/heads/master"", ""commit"": ""4c69d8ceb1af495156ff5bd9e3111bd8d34a347e"" }, { ""type"": ""layer"", ""item"": ""interface:openstack-ha"", ""url"": ""https://github.com/openstack/charm-interface-openstack-ha"", ""vcs"": null, ""branch"": ""refs/heads/master"", ""commit"": ""a3b00e5b5fd857d130698c5cfe4b918877f0ab80"" }, { ""type"": ""python_module"", ""package"": ""tomli"", ""vcs"": null, ""version"": ""2.0.1"" }, { ""type"": ""python_module"", ""package"": ""charmhelpers"", ""url"": ""git+https://github.com/juju/charm-helpers.git"", ""branch"": ""refs/heads/stable/yoga"", ""version"": ""971ac5117c96bd1cb4a6a520787e4509564da582"", ""vcs"": ""git"" }, { ""type"": ""python_module"", ""package"": ""pyaml"", ""vcs"": null, ""version"": ""21.10.1"" }, { ""type"": ""python_module"", ""package"": ""Tempita"", ""vcs"": null, ""version"": ""0.4"" }, { ""type"": ""python_module"", ""package"": ""pyparsing"", ""vcs"": null, ""version"": ""3.0.8"" }, { ""type"": ""python_module"", ""package"": ""MarkupSafe"", ""vcs"": null, ""version"": ""2.0.1"" }, { ""type"": ""python_module"", ""package"": ""pbr"", ""vcs"": null, ""version"": ""5.8.1"" }, { ""type"": ""python_module"", ""package"": ""flit_core"", ""vcs"": null, ""version"": ""3.7.1"" }, { ""type"": ""python_module"", ""package"": ""psutil"", ""vcs"": null, ""version"": ""5.9.0"" }, { ""type"": ""python_module"", ""package"": ""PyYAML"", ""vcs"": null, ""version"": ""5.3.1"" }, { ""type"": ""python_module"", ""package"": ""setuptools_scm"", ""vcs"": null, ""version"": ""6.4.2"" }, { ""type"": ""python_module"", ""package"": ""netaddr"", ""vcs"": null, ""version"": ""0.7.19"" }, { ""type"": ""python_module"", ""package"": ""charms.reactive"", ""vcs"": null, ""version"": ""1.5.0"" }, { ""type"": ""python_module"", ""package"": ""charms.openstack"", ""url"": ""git+https://github.com/openstack/charms.openstack.git"", ""branch"": ""refs/heads/stable/yoga"", ""version"": ""13ef220ce3529fa7b8e11c6e4c5b352d05b6f148"", ""vcs"": ""git"" }, { ""type"": ""python_module"", ""package"": ""dnspython"", ""vcs"": null, ""version"": ""1.16.0"" }, { ""type"": ""python_module"", ""package"": ""wheel"", ""vcs"": null, ""version"": ""0.37.1"" }, { ""type"": ""python_module"", ""package"": ""Jinja2"", ""vcs"": null, ""version"": ""2.10.1"" }, { ""type"": ""python_module"", ""package"": ""setuptools"", ""vcs"": null, ""version"": ""49.6.0"" }, { ""type"": ""python_module"", ""package"": ""pip"", ""vcs"": null, ""version"": ""22.0.4"" }, { ""type"": ""python_module"", ""package"": ""netifaces"", ""vcs"": null, ""version"": ""0.11.0"" }, { ""type"": ""python_module"", ""package"": ""packaging"", ""vcs"": null, ""version"": ""21.3"" } ] }",,197,5
openstack%2Fcharm-barbican-vault~stable%2Fyoga~I93bb8c65ec9ba88048d631cdf28b8571e7c5d882,openstack/charm-barbican-vault,stable/yoga,I93bb8c65ec9ba88048d631cdf28b8571e7c5d882,Updates for stable branch creation,MERGED,2022-04-15 10:42:55.000000000,2022-04-19 09:42:41.000000000,2022-04-19 09:42:41.000000000,"[{'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-15 10:42:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-barbican-vault/commit/a04102c7f782463eb6bee49322e7cff61bedb922', 'message': 'Updates for stable branch creation\n\n- Set default branch for git review/gerrit.\n- Switch tests to stable.\n- Switch to using stable charm-helpers branch.\n- Switch to using stable charm.openstack branch.\n- Switch to using stable zaza, zaza-openstack-tests\n  branch\n- (reactive charms) Add build.lock file\n\nChange-Id: I93bb8c65ec9ba88048d631cdf28b8571e7c5d882\n'}, {'number': 2, 'created': '2022-04-19 08:25:44.000000000', 'files': ['.gitreview', 'test-requirements.txt', 'src/wheelhouse.txt', 'src/test-requirements.txt', 'src/build.lock'], 'web_link': 'https://opendev.org/openstack/charm-barbican-vault/commit/07e1f782b1acdfc46dd5d941c58beedae0873342', 'message': 'Updates for stable branch creation\n\n- Set default branch for git review/gerrit.\n- Switch tests to stable.\n- Switch to using stable charm-helpers branch.\n- Switch to using stable charm.openstack branch.\n- Switch to using stable zaza, zaza-openstack-tests\n  branch\n- (reactive charms) Add build.lock file\n\nChange-Id: I93bb8c65ec9ba88048d631cdf28b8571e7c5d882\n'}]",1,838114,07e1f782b1acdfc46dd5d941c58beedae0873342,12,3,2,20870,,,0,"Updates for stable branch creation

- Set default branch for git review/gerrit.
- Switch tests to stable.
- Switch to using stable charm-helpers branch.
- Switch to using stable charm.openstack branch.
- Switch to using stable zaza, zaza-openstack-tests
  branch
- (reactive charms) Add build.lock file

Change-Id: I93bb8c65ec9ba88048d631cdf28b8571e7c5d882
",git fetch https://review.opendev.org/openstack/charm-barbican-vault refs/changes/14/838114/1 && git format-patch -1 --stdout FETCH_HEAD,"['.gitreview', 'test-requirements.txt', 'src/wheelhouse.txt', 'src/test-requirements.txt', 'barbican-vault.charm', 'src/build.lock']",6,a04102c7f782463eb6bee49322e7cff61bedb922,charm-release-2204,"{ ""locks"": [ { ""type"": ""layer"", ""item"": ""layer:options"", ""url"": ""https://github.com/juju-solutions/layer-options.git"", ""vcs"": null, ""branch"": ""refs/heads/master"", ""commit"": ""fcdcea4e5de3e1556c24e6704607862d0ba00a56"" }, { ""type"": ""layer"", ""item"": ""layer:basic"", ""url"": ""https://github.com/juju-solutions/layer-basic.git"", ""vcs"": null, ""branch"": ""refs/heads/master"", ""commit"": ""fb767dcf0786d1d5364199bb3b40bdc86518b45b"" }, { ""type"": ""layer"", ""item"": ""layer:openstack"", ""url"": ""https://github.com/openstack/charm-layer-openstack"", ""vcs"": null, ""branch"": ""refs/heads/master"", ""commit"": ""e0f700eacb026235e1a04e7cbc28dfbe9d4e4520"" }, { ""type"": ""layer"", ""item"": ""barbican-vault"", ""url"": null, ""vcs"": null, ""branch"": ""refs/heads/stable/yoga\nrefs/heads/yoga-updates"", ""commit"": ""refs/heads/stable/yoga\nrefs/heads/yoga-updates"" }, { ""type"": ""layer"", ""item"": ""interface:tls-certificates"", ""url"": ""https://github.com/juju-solutions/interface-tls-certificates"", ""vcs"": null, ""branch"": ""refs/heads/master"", ""commit"": ""d9850016d930a6d507b9fd45e2598d327922b140"" }, { ""type"": ""layer"", ""item"": ""interface:juju-info"", ""url"": ""https://github.com/juju-solutions/interface-juju-info.git"", ""vcs"": null, ""branch"": ""refs/heads/master"", ""commit"": ""4e2f90052b3c02031d09f10900c9e9cb22565dee"" }, { ""type"": ""layer"", ""item"": ""interface:vault-kv"", ""url"": ""https://github.com/openstack-charmers/charm-interface-vault-kv.git"", ""vcs"": null, ""branch"": ""refs/heads/master"", ""commit"": ""dceab99ac3739cc7265e386287f100f1bfebc47f"" }, { ""type"": ""layer"", ""item"": ""interface:barbican-secrets"", ""url"": ""https://github.com/openstack/charm-interface-barbican-secrets.git"", ""vcs"": null, ""branch"": ""refs/heads/master"", ""commit"": ""4cae88ff57db96b9394bf6b70982a5ff4ee8bcef"" }, { ""type"": ""python_module"", ""package"": ""tomli"", ""vcs"": null, ""version"": ""2.0.1"" }, { ""type"": ""python_module"", ""package"": ""netaddr"", ""vcs"": null, ""version"": ""0.7.19"" }, { ""type"": ""python_module"", ""package"": ""netifaces"", ""vcs"": null, ""version"": ""0.11.0"" }, { ""type"": ""python_module"", ""package"": ""flit_core"", ""vcs"": null, ""version"": ""3.7.1"" }, { ""type"": ""python_module"", ""package"": ""pyparsing"", ""vcs"": null, ""version"": ""3.0.8"" }, { ""type"": ""python_module"", ""package"": ""wheel"", ""vcs"": null, ""version"": ""0.37.1"" }, { ""type"": ""python_module"", ""package"": ""Tempita"", ""vcs"": null, ""version"": ""0.4"" }, { ""type"": ""python_module"", ""package"": ""charms.reactive"", ""vcs"": null, ""version"": ""1.5.0"" }, { ""type"": ""python_module"", ""package"": ""idna"", ""vcs"": null, ""version"": ""3.3"" }, { ""type"": ""python_module"", ""package"": ""setuptools"", ""vcs"": null, ""version"": ""62.1.0"" }, { ""type"": ""python_module"", ""package"": ""requests"", ""vcs"": null, ""version"": ""2.27.1"" }, { ""type"": ""python_module"", ""package"": ""pyaml"", ""vcs"": null, ""version"": ""21.10.1"" }, { ""type"": ""python_module"", ""package"": ""six"", ""vcs"": null, ""version"": ""1.16.0"" }, { ""type"": ""python_module"", ""package"": ""packaging"", ""vcs"": null, ""version"": ""21.3"" }, { ""type"": ""python_module"", ""package"": ""hvac"", ""vcs"": null, ""version"": ""0.10.1"" }, { ""type"": ""python_module"", ""package"": ""charmhelpers"", ""url"": ""git+https://github.com/juju/charm-helpers.git"", ""branch"": ""refs/heads/stable/yoga"", ""version"": ""971ac5117c96bd1cb4a6a520787e4509564da582"", ""vcs"": ""git"" }, { ""type"": ""python_module"", ""package"": ""psutil"", ""vcs"": null, ""version"": ""5.9.0"" }, { ""type"": ""python_module"", ""package"": ""PyYAML"", ""vcs"": null, ""version"": ""5.3.1"" }, { ""type"": ""python_module"", ""package"": ""urllib3"", ""vcs"": null, ""version"": ""1.26.9"" }, { ""type"": ""python_module"", ""package"": ""certifi"", ""vcs"": null, ""version"": ""2021.10.8"" }, { ""type"": ""python_module"", ""package"": ""dnspython"", ""vcs"": null, ""version"": ""1.16.0"" }, { ""type"": ""python_module"", ""package"": ""pip"", ""vcs"": null, ""version"": ""22.0.4"" }, { ""type"": ""python_module"", ""package"": ""setuptools_scm"", ""vcs"": null, ""version"": ""6.4.2"" }, { ""type"": ""python_module"", ""package"": ""Jinja2"", ""vcs"": null, ""version"": ""3.1.1"" }, { ""type"": ""python_module"", ""package"": ""pbr"", ""vcs"": null, ""version"": ""5.8.1"" }, { ""type"": ""python_module"", ""package"": ""charset-normalizer"", ""vcs"": null, ""version"": ""2.0.12"" }, { ""type"": ""python_module"", ""package"": ""charms.openstack"", ""url"": ""git+https://github.com/openstack/charms.openstack.git"", ""branch"": ""refs/heads/stable/yoga"", ""version"": ""13ef220ce3529fa7b8e11c6e4c5b352d05b6f148"", ""vcs"": ""git"" }, { ""type"": ""python_module"", ""package"": ""MarkupSafe"", ""vcs"": null, ""version"": ""2.1.1"" } ] }",,247,5
openstack%2Fpuppet-neutron~master~If3f9c7b01aedeacea1e773438b812bc53918c5d8,openstack/puppet-neutron,master,If3f9c7b01aedeacea1e773438b812bc53918c5d8,Nuage: [RESTPROXY] serverauth should be secret,MERGED,2022-04-10 10:29:45.000000000,2022-04-19 09:40:13.000000000,2022-04-19 09:40:13.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-10 10:29:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/b23dab765a34ca8b53e4e602d4233f017c6f92c4', 'message': 'Nuage: [RESTPROXY] serverauth should be secret\n\nThis parameter includes the password string, thus should be hidden.\n\nChange-Id: If3f9c7b01aedeacea1e773438b812bc53918c5d8\n'}, {'number': 2, 'created': '2022-04-18 10:01:54.000000000', 'files': ['spec/classes/neutron_plugins_ml2_nuage_spec.rb', 'manifests/plugins/ml2/nuage.pp', 'lib/puppet/type/neutron_plugin_nuage.rb'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/e5f3f77a7df4833656047c3a67a66e7fc27f6eff', 'message': 'Nuage: [RESTPROXY] serverauth should be secret\n\nThis parameter includes the password string, thus should be hidden.\n\nChange-Id: If3f9c7b01aedeacea1e773438b812bc53918c5d8\n'}]",2,837214,e5f3f77a7df4833656047c3a67a66e7fc27f6eff,12,3,2,9816,,,0,"Nuage: [RESTPROXY] serverauth should be secret

This parameter includes the password string, thus should be hidden.

Change-Id: If3f9c7b01aedeacea1e773438b812bc53918c5d8
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/14/837214/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/plugins/ml2/nuage.pp', 'manifests/plugins/nuage.pp', 'lib/puppet/type/neutron_plugin_nuage.rb']",3,b23dab765a34ca8b53e4e602d4233f017c6f92c4,nuage-secret," def is_to_s( currentvalue ) if resource.secret? return '[old secret redacted]' else return currentvalue end end def should_to_s( newvalue ) if resource.secret? return '[new secret redacted]' else return newvalue end end end newparam(:secret, :boolean => true) do desc 'Whether to hide the value from Puppet logs. Defaults to `false`.' newvalues(:true, :false) defaultto false",,24,2
openstack%2Fcharm-keystone-kerberos~stable%2Fyoga~I77f1fc0c023e7a1c6ba31ee3f8ead0e09b812c6e,openstack/charm-keystone-kerberos,stable/yoga,I77f1fc0c023e7a1c6ba31ee3f8ead0e09b812c6e,Updates for stable branch creation,MERGED,2022-04-15 10:48:55.000000000,2022-04-19 09:39:41.000000000,2022-04-19 09:39:41.000000000,"[{'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-15 10:48:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone-kerberos/commit/c5733f27abdcc1031e110b62b967a3a690aa6682', 'message': 'Updates for stable branch creation\n\n- Set default branch for git review/gerrit.\n- Switch tests to stable.\n- Switch to using stable charm-helpers branch.\n- Switch to using stable charm.openstack branch.\n- Switch to using stable zaza, zaza-openstack-tests\n  branch\n- (reactive charms) Add build.lock file\n\nChange-Id: I77f1fc0c023e7a1c6ba31ee3f8ead0e09b812c6e\n'}, {'number': 2, 'created': '2022-04-19 06:57:51.000000000', 'files': ['.gitreview', 'test-requirements.txt', 'src/wheelhouse.txt', 'src/test-requirements.txt', 'src/build.lock'], 'web_link': 'https://opendev.org/openstack/charm-keystone-kerberos/commit/a49cccd92a21435e0bae8b9badb3a6461f51412c', 'message': 'Updates for stable branch creation\n\n- Set default branch for git review/gerrit.\n- Switch tests to stable.\n- Switch to using stable charm-helpers branch.\n- Switch to using stable charm.openstack branch.\n- Switch to using stable zaza, zaza-openstack-tests\n  branch\n- (reactive charms) Add build.lock file\n\nChange-Id: I77f1fc0c023e7a1c6ba31ee3f8ead0e09b812c6e\n'}]",2,838134,a49cccd92a21435e0bae8b9badb3a6461f51412c,14,3,2,20870,,,0,"Updates for stable branch creation

- Set default branch for git review/gerrit.
- Switch tests to stable.
- Switch to using stable charm-helpers branch.
- Switch to using stable charm.openstack branch.
- Switch to using stable zaza, zaza-openstack-tests
  branch
- (reactive charms) Add build.lock file

Change-Id: I77f1fc0c023e7a1c6ba31ee3f8ead0e09b812c6e
",git fetch https://review.opendev.org/openstack/charm-keystone-kerberos refs/changes/34/838134/2 && git format-patch -1 --stdout FETCH_HEAD,"['.gitreview', 'keystone-kerberos.charm', 'test-requirements.txt', 'src/wheelhouse.txt', 'src/test-requirements.txt', 'src/build.lock']",6,c5733f27abdcc1031e110b62b967a3a690aa6682,charm-release-2204,"{ ""locks"": [ { ""type"": ""layer"", ""item"": ""layer:options"", ""url"": ""https://github.com/juju-solutions/layer-options.git"", ""vcs"": null, ""branch"": ""refs/heads/master"", ""commit"": ""fcdcea4e5de3e1556c24e6704607862d0ba00a56"" }, { ""type"": ""layer"", ""item"": ""layer:basic"", ""url"": ""https://github.com/juju-solutions/layer-basic.git"", ""vcs"": null, ""branch"": ""refs/heads/master"", ""commit"": ""fb767dcf0786d1d5364199bb3b40bdc86518b45b"" }, { ""type"": ""layer"", ""item"": ""layer:openstack"", ""url"": ""https://github.com/openstack/charm-layer-openstack"", ""vcs"": null, ""branch"": ""refs/heads/master"", ""commit"": ""e0f700eacb026235e1a04e7cbc28dfbe9d4e4520"" }, { ""type"": ""layer"", ""item"": ""keystone-kerberos"", ""url"": null, ""vcs"": null, ""branch"": ""refs/heads/stable/yoga\nrefs/heads/yoga-updates"", ""commit"": ""refs/heads/stable/yoga\nrefs/heads/yoga-updates"" }, { ""type"": ""layer"", ""item"": ""interface:tls-certificates"", ""url"": ""https://github.com/juju-solutions/interface-tls-certificates"", ""vcs"": null, ""branch"": ""refs/heads/master"", ""commit"": ""d9850016d930a6d507b9fd45e2598d327922b140"" }, { ""type"": ""layer"", ""item"": ""interface:keystone-fid-service-provider"", ""url"": ""https://github.com/openstack/charm-interface-keystone-fid-service-provider"", ""vcs"": null, ""branch"": ""refs/heads/master"", ""commit"": ""be0926efafaa9ffe1df84f2fbd6b8a5d3d58b270"" }, { ""type"": ""layer"", ""item"": ""interface:juju-info"", ""url"": ""https://github.com/juju-solutions/interface-juju-info.git"", ""vcs"": null, ""branch"": ""refs/heads/master"", ""commit"": ""4e2f90052b3c02031d09f10900c9e9cb22565dee"" }, { ""type"": ""python_module"", ""package"": ""pyaml"", ""vcs"": null, ""version"": ""21.10.1"" }, { ""type"": ""python_module"", ""package"": ""charms.openstack"", ""url"": ""git+https://github.com/openstack/charms.openstack.git"", ""branch"": ""refs/heads/stable/yoga"", ""version"": ""13ef220ce3529fa7b8e11c6e4c5b352d05b6f148"", ""vcs"": ""git"" }, { ""type"": ""python_module"", ""package"": ""netifaces"", ""vcs"": null, ""version"": ""0.11.0"" }, { ""type"": ""python_module"", ""package"": ""Jinja2"", ""vcs"": null, ""version"": ""3.1.1"" }, { ""type"": ""python_module"", ""package"": ""charmhelpers"", ""url"": ""git+https://github.com/juju/charm-helpers.git"", ""branch"": ""refs/heads/stable/yoga"", ""version"": ""971ac5117c96bd1cb4a6a520787e4509564da582"", ""vcs"": ""git"" }, { ""type"": ""python_module"", ""package"": ""setuptools"", ""vcs"": null, ""version"": ""62.1.0"" }, { ""type"": ""python_module"", ""package"": ""PyYAML"", ""vcs"": null, ""version"": ""5.3.1"" }, { ""type"": ""python_module"", ""package"": ""psutil"", ""vcs"": null, ""version"": ""5.9.0"" }, { ""type"": ""python_module"", ""package"": ""netaddr"", ""vcs"": null, ""version"": ""0.7.19"" }, { ""type"": ""python_module"", ""package"": ""pbr"", ""vcs"": null, ""version"": ""5.8.1"" }, { ""type"": ""python_module"", ""package"": ""MarkupSafe"", ""vcs"": null, ""version"": ""2.1.1"" }, { ""type"": ""python_module"", ""package"": ""pip"", ""vcs"": null, ""version"": ""22.0.4"" }, { ""type"": ""python_module"", ""package"": ""setuptools_scm"", ""vcs"": null, ""version"": ""6.4.2"" }, { ""type"": ""python_module"", ""package"": ""flit_core"", ""vcs"": null, ""version"": ""3.7.1"" }, { ""type"": ""python_module"", ""package"": ""wheel"", ""vcs"": null, ""version"": ""0.37.1"" }, { ""type"": ""python_module"", ""package"": ""packaging"", ""vcs"": null, ""version"": ""21.3"" }, { ""type"": ""python_module"", ""package"": ""Tempita"", ""vcs"": null, ""version"": ""0.4"" }, { ""type"": ""python_module"", ""package"": ""tomli"", ""vcs"": null, ""version"": ""2.0.1"" }, { ""type"": ""python_module"", ""package"": ""dnspython"", ""vcs"": null, ""version"": ""1.16.0"" }, { ""type"": ""python_module"", ""package"": ""charms.reactive"", ""vcs"": null, ""version"": ""1.5.0"" }, { ""type"": ""python_module"", ""package"": ""pyparsing"", ""vcs"": null, ""version"": ""3.0.8"" } ] }",,197,5
openstack%2Fskyline-console~master~Ie57de25e1d7897c7bac6a8376a84c9ea0665ab7c,openstack/skyline-console,master,Ie57de25e1d7897c7bac6a8376a84c9ea0665ab7c,fix: Change the policy name,MERGED,2022-04-14 07:34:26.000000000,2022-04-19 09:27:24.000000000,2022-04-19 09:27:24.000000000,"[{'_account_id': 22348}, {'_account_id': 30434}, {'_account_id': 33689}]","[{'number': 1, 'created': '2022-04-14 07:34:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/798af1a0e87fffe39261ca4c850cf43dc9f701e1', 'message': 'fix: Change the policy name\n\nChange the policy name.\n\nDepends-On: https://review.opendev.org/c/openstack/skyline-apiserver/+/837834\nChange-Id: Ie57de25e1d7897c7bac6a8376a84c9ea0665ab7c\n'}, {'number': 2, 'created': '2022-04-18 05:18:44.000000000', 'files': ['src/pages/database/containers/Backups/actions/Delete.jsx', 'src/pages/database/containers/Configurations/index.jsx', 'src/pages/database/containers/Instances/Detail/UserDelete.jsx', 'src/pages/database/containers/Instances/actions/Delete.jsx', 'src/pages/database/containers/Backups/actions/Create.jsx', 'src/pages/database/containers/Instances/Detail/Logs.jsx', 'src/pages/database/containers/Instances/Detail/Users.jsx', 'src/pages/database/containers/Instances/Detail/Backups.jsx', 'src/pages/database/containers/Backups/Detail/index.jsx', 'src/pages/database/containers/Instances/Detail/Databases.jsx', 'src/pages/database/containers/Instances/index.jsx', 'src/pages/database/containers/Instances/Detail/DatabaseDelete.jsx', 'src/pages/database/containers/Instances/Detail/index.jsx', 'src/pages/database/containers/Configurations/Detail/index.jsx', 'src/pages/database/containers/Backups/index.jsx', 'src/pages/database/containers/Instances/actions/StepCreate/index.jsx', 'src/pages/database/containers/Configurations/actions/Delete.jsx', 'src/pages/database/containers/Configurations/actions/Create.jsx'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/8e36355e41b99064caddd981259968c2dae9e91b', 'message': 'fix: Change the policy name\n\nChange the policy name.\n\nDepends-On: https://review.opendev.org/c/openstack/skyline-apiserver/+/837834\nChange-Id: Ie57de25e1d7897c7bac6a8376a84c9ea0665ab7c\n'}]",5,837835,8e36355e41b99064caddd981259968c2dae9e91b,23,3,2,28706,,,0,"fix: Change the policy name

Change the policy name.

Depends-On: https://review.opendev.org/c/openstack/skyline-apiserver/+/837834
Change-Id: Ie57de25e1d7897c7bac6a8376a84c9ea0665ab7c
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/35/837835/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/pages/database/containers/Backups/actions/Delete.jsx', 'src/pages/database/containers/Configurations/index.jsx', 'src/pages/database/containers/Instances/Detail/UserDelete.jsx', 'src/pages/database/containers/Instances/actions/Delete.jsx', 'src/pages/database/containers/Backups/actions/Create.jsx', 'src/pages/database/containers/Instances/Detail/Logs.jsx', 'src/pages/database/containers/Instances/Detail/Users.jsx', 'src/pages/database/containers/Instances/Detail/Backups.jsx', 'src/pages/database/containers/Backups/Detail/index.jsx', 'src/pages/database/containers/Instances/Detail/Databases.jsx', 'src/pages/database/containers/Instances/index.jsx', 'src/pages/database/containers/Instances/Detail/DatabaseDelete.jsx', 'src/pages/database/containers/Instances/Detail/index.jsx', 'src/pages/database/containers/Configurations/Detail/index.jsx', 'src/pages/database/containers/Backups/index.jsx', 'src/pages/database/containers/Instances/actions/StepCreate/index.jsx', 'src/pages/database/containers/Configurations/actions/Delete.jsx', 'src/pages/database/containers/Configurations/actions/Create.jsx']",18,798af1a0e87fffe39261ca4c850cf43dc9f701e1,," static policy = ""trove:configuration:create"";"," static policy = ""configuration:create"";",18,18
openstack%2Ftripleo-quickstart-extras~master~I10b43b9d30e10060bceaaac7501616de1817cd39,openstack/tripleo-quickstart-extras,master,I10b43b9d30e10060bceaaac7501616de1817cd39,Remove reference of Mitaka from built-test-packages,MERGED,2022-04-14 10:07:04.000000000,2022-04-19 09:22:34.000000000,2022-04-19 09:22:34.000000000,"[{'_account_id': 8449}, {'_account_id': 9976}, {'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29775}, {'_account_id': 30002}]","[{'number': 1, 'created': '2022-04-14 10:07:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/afb3888fa2020e957140b719c97c03834d2b8b01', 'message': 'Remove reference of Mitaka from built-test-packages\n\nmitaka release had gone EOL long time ago. So removing\nits reference from build-test-packages.\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I10b43b9d30e10060bceaaac7501616de1817cd39\n'}, {'number': 2, 'created': '2022-04-18 07:22:50.000000000', 'files': ['roles/build-test-packages/tasks/dlrn-build.yml', 'roles/build-test-packages/templates/projects.ini.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/20edf29f8a2cd71de7de842821adb92a218497ad', 'message': 'Remove reference of Mitaka from built-test-packages\n\nmitaka release had gone EOL long time ago. So removing\nits reference from build-test-packages.\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I10b43b9d30e10060bceaaac7501616de1817cd39\n'}]",6,837851,20edf29f8a2cd71de7de842821adb92a218497ad,21,7,2,12393,,,0,"Remove reference of Mitaka from built-test-packages

mitaka release had gone EOL long time ago. So removing
its reference from build-test-packages.

Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
Change-Id: I10b43b9d30e10060bceaaac7501616de1817cd39
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/51/837851/2 && git format-patch -1 --stdout FETCH_HEAD,['roles/build-test-packages/tasks/dlrn-build.yml'],1,afb3888fa2020e957140b719c97c03834d2b8b01,lp/1968184,- when: artg_release in ['master'] - release is defined and release not in ['master'] when: artg_release not in ['master'],"- when: artg_release in ['master', 'mitaka'] - release is defined and release not in ['master', 'mitaka'] when: artg_release not in ['master', 'mitaka']",3,3
openstack%2Ftripleo-heat-templates~master~I7af3643b7f28124e06fb58d8145e7be3bb4e1ccd,openstack/tripleo-heat-templates,master,I7af3643b7f28124e06fb58d8145e7be3bb4e1ccd,Deprecate `NovaVGPUTypesDeviceAddressesMapping parameter,MERGED,2022-03-28 11:32:12.000000000,2022-04-19 09:19:39.000000000,2022-04-19 09:18:09.000000000,"[{'_account_id': 7144}, {'_account_id': 8833}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-03-28 11:32:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e9626a00c44d8e188b8c6e905b4e7165df0e3b40', 'message': 'Deprecate `NovaVGPUTypesDeviceAddressesMapping parameter\n\nThis change deprecate `NovaVGPUTypesDeviceAddressesMapping` parameter\nin favour of `NovaMDEVTypes` parameter added in [1].\n\n[1] https://review.opendev.org/c/openstack/tripleo-heat-templates/+/835439\n\nChange-Id: I7af3643b7f28124e06fb58d8145e7be3bb4e1ccd\n'}, {'number': 2, 'created': '2022-03-31 06:04:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/71431783243f49cc579ac94e664434e1c20b5086', 'message': 'Deprecate `NovaVGPUTypesDeviceAddressesMapping parameter\n\nThis change deprecate `NovaVGPUTypesDeviceAddressesMapping` parameter\nin favour of `NovaMDEVTypes` parameter added in [1].\n\n[1] https://review.opendev.org/c/openstack/tripleo-heat-templates/+/835439\n\nChange-Id: I7af3643b7f28124e06fb58d8145e7be3bb4e1ccd\n'}, {'number': 3, 'created': '2022-04-14 04:13:52.000000000', 'files': ['deployment/nova/nova-compute-container-puppet.yaml', 'releasenotes/notes/deprecate-NovaVGPUTypesDeviceAddressesMapping-b4af9f1a48b66854.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6b2d6d9a046919987feda4721651a317496ace04', 'message': 'Deprecate `NovaVGPUTypesDeviceAddressesMapping parameter\n\nThis change deprecate `NovaVGPUTypesDeviceAddressesMapping` parameter\nin favour of `NovaMDEVTypes` parameter added in [1].\n\n[1] https://review.opendev.org/c/openstack/tripleo-heat-templates/+/835439\n\nChange-Id: I7af3643b7f28124e06fb58d8145e7be3bb4e1ccd\n'}]",5,835440,6b2d6d9a046919987feda4721651a317496ace04,27,5,3,20733,,,0,"Deprecate `NovaVGPUTypesDeviceAddressesMapping parameter

This change deprecate `NovaVGPUTypesDeviceAddressesMapping` parameter
in favour of `NovaMDEVTypes` parameter added in [1].

[1] https://review.opendev.org/c/openstack/tripleo-heat-templates/+/835439

Change-Id: I7af3643b7f28124e06fb58d8145e7be3bb4e1ccd
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/40/835440/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/nova/nova-compute-container-puppet.yaml', 'releasenotes/notes/deprecate-NovaVGPUTypesDeviceAddressesMapping-b4af9f1a48b66854.yaml']",2,e9626a00c44d8e188b8c6e905b4e7165df0e3b40,bp/generic-mdevs,--- deprecations: - | The `NovaVGPUTypesDeviceAddressesMapping` paramter has been deprecated in favour of `NovaMDEVTypes` parameter added in [1]. [1] https://review.opendev.org/c/openstack/tripleo-heat-templates/+/835439 ,,21,13
openstack%2Fkolla~stable%2Fussuri~I5efab66e487e06abd1a56af97d7e7caa1ebc880d,openstack/kolla,stable/ussuri,I5efab66e487e06abd1a56af97d7e7caa1ebc880d,Use jinja2.pass_context instead of contextfilter,ABANDONED,2022-03-28 11:48:19.000000000,2022-04-19 09:14:21.000000000,,"[{'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-03-28 11:48:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/2304c893932a1e9cd38b6cdeba4818901b317bcc', 'message': ""Use jinja2.pass_context instead of contextfilter\n\nThe contextfilter decorator was deprecated in jinja2 3.0.0, and has been\ndropped in 3.1.0. This results in the following warning, and failed\nattempts to use filters:\n\n    [WARNING]: Skipping plugin (filters.py) as it seems to be invalid:\n    module 'jinja2' has no attribute 'contextfilter'\n\nThis change switches to use the pass_context decorator. The minimum\nversion of Jinja2 is raised to 3 to ensure pass_context is present.\n\nThis change has been updated to also support Jinja2 2.x releases,\nsince the Wallaby upper constraints specify 2.11.3. In practice, most\nusers will not use UC to install kolla.\n\nCoAuthored-by: Mark Goddard <mark@stackhpc.com>\n\nChange-Id: I5efab66e487e06abd1a56af97d7e7caa1ebc880d\n""}, {'number': 2, 'created': '2022-03-28 17:26:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/168866892e4b3d7e7788f3d6e4552977919e04c8', 'message': ""Use jinja2.pass_context instead of contextfilter\n\nThe contextfilter decorator was deprecated in jinja2 3.0.0, and has been\ndropped in 3.1.0. This results in the following warning, and failed\nattempts to use filters:\n\n    [WARNING]: Skipping plugin (filters.py) as it seems to be invalid:\n    module 'jinja2' has no attribute 'contextfilter'\n\nThis change switches to use the pass_context decorator. The minimum\nversion of Jinja2 is raised to 3 to ensure pass_context is present.\n\nThis change has been updated to also support Jinja2 2.x releases,\nsince the Wallaby upper constraints specify 2.11.3. In practice, most\nusers will not use UC to install kolla.\n\nCoAuthored-by: Mark Goddard <mark@stackhpc.com>\n\nChange-Id: I5efab66e487e06abd1a56af97d7e7caa1ebc880d\n""}, {'number': 3, 'created': '2022-03-28 19:17:17.000000000', 'files': ['kolla/template/methods.py', 'kolla/template/filters.py', 'releasenotes/notes/jinja2-pass-context-3f3febcd944e3a51.yaml'], 'web_link': 'https://opendev.org/openstack/kolla/commit/fa2bb02c7c29cf4d0a8704dd8156f3f425ab5fc0', 'message': ""Use jinja2.pass_context instead of contextfilter\n\nThe contextfilter decorator was deprecated in jinja2 3.0.0, and has been\ndropped in 3.1.0. This results in the following warning, and failed\nattempts to use filters:\n\n    [WARNING]: Skipping plugin (filters.py) as it seems to be invalid:\n    module 'jinja2' has no attribute 'contextfilter'\n\nThis change switches to use the pass_context decorator. The minimum\nversion of Jinja2 is raised to 3 to ensure pass_context is present.\n\nThis change has been updated to also support Jinja2 2.x releases,\nsince the Wallaby upper constraints specify 2.11.3. In practice, most\nusers will not use UC to install kolla.\n\nCoAuthored-by: Mark Goddard <mark@stackhpc.com>\n\nChange-Id: I5efab66e487e06abd1a56af97d7e7caa1ebc880d\n""}]",1,835344,fa2bb02c7c29cf4d0a8704dd8156f3f425ab5fc0,14,3,3,24072,,,0,"Use jinja2.pass_context instead of contextfilter

The contextfilter decorator was deprecated in jinja2 3.0.0, and has been
dropped in 3.1.0. This results in the following warning, and failed
attempts to use filters:

    [WARNING]: Skipping plugin (filters.py) as it seems to be invalid:
    module 'jinja2' has no attribute 'contextfilter'

This change switches to use the pass_context decorator. The minimum
version of Jinja2 is raised to 3 to ensure pass_context is present.

This change has been updated to also support Jinja2 2.x releases,
since the Wallaby upper constraints specify 2.11.3. In practice, most
users will not use UC to install kolla.

CoAuthored-by: Mark Goddard <mark@stackhpc.com>

Change-Id: I5efab66e487e06abd1a56af97d7e7caa1ebc880d
",git fetch https://review.opendev.org/openstack/kolla refs/changes/44/835344/1 && git format-patch -1 --stdout FETCH_HEAD,"['kolla/template/filters.py', 'releasenotes/notes/jinja2-pass-context-3f3febcd944e3a51.yaml']",2,2304c893932a1e9cd38b6cdeba4818901b317bcc,,-- fixes: - | Fixes an issue seen when using Jinja2 3.1.0. ,,11,2
openstack%2Fkolla~stable%2Fvictoria~I5efab66e487e06abd1a56af97d7e7caa1ebc880d,openstack/kolla,stable/victoria,I5efab66e487e06abd1a56af97d7e7caa1ebc880d,Use jinja2.pass_context instead of contextfilter,ABANDONED,2022-03-28 11:48:07.000000000,2022-04-19 09:13:09.000000000,,"[{'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-03-28 11:48:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/677346f149d287fc0db6bb586ab22b91a4c9f984', 'message': ""Use jinja2.pass_context instead of contextfilter\n\nThe contextfilter decorator was deprecated in jinja2 3.0.0, and has been\ndropped in 3.1.0. This results in the following warning, and failed\nattempts to use filters:\n\n    [WARNING]: Skipping plugin (filters.py) as it seems to be invalid:\n    module 'jinja2' has no attribute 'contextfilter'\n\nThis change switches to use the pass_context decorator. The minimum\nversion of Jinja2 is raised to 3 to ensure pass_context is present.\n\nThis change has been updated to also support Jinja2 2.x releases,\nsince the Wallaby upper constraints specify 2.11.3. In practice, most\nusers will not use UC to install kolla.\n\nCoAuthored-by: Mark Goddard <mark@stackhpc.com>\n\nChange-Id: I5efab66e487e06abd1a56af97d7e7caa1ebc880d\n""}, {'number': 2, 'created': '2022-03-28 17:25:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/f06b5468a0ba80d9a907af3e4085b72217787bc9', 'message': ""Use jinja2.pass_context instead of contextfilter\n\nThe contextfilter decorator was deprecated in jinja2 3.0.0, and has been\ndropped in 3.1.0. This results in the following warning, and failed\nattempts to use filters:\n\n    [WARNING]: Skipping plugin (filters.py) as it seems to be invalid:\n    module 'jinja2' has no attribute 'contextfilter'\n\nThis change switches to use the pass_context decorator. The minimum\nversion of Jinja2 is raised to 3 to ensure pass_context is present.\n\nThis change has been updated to also support Jinja2 2.x releases,\nsince the Wallaby upper constraints specify 2.11.3. In practice, most\nusers will not use UC to install kolla.\n\nCoAuthored-by: Mark Goddard <mark@stackhpc.com>\n\nChange-Id: I5efab66e487e06abd1a56af97d7e7caa1ebc880d\n""}, {'number': 3, 'created': '2022-03-28 19:17:05.000000000', 'files': ['kolla/template/methods.py', 'kolla/template/filters.py', 'releasenotes/notes/jinja2-pass-context-3f3febcd944e3a51.yaml'], 'web_link': 'https://opendev.org/openstack/kolla/commit/252f3ade922cf5367388cf7b1d8747809c4bfaa9', 'message': ""Use jinja2.pass_context instead of contextfilter\n\nThe contextfilter decorator was deprecated in jinja2 3.0.0, and has been\ndropped in 3.1.0. This results in the following warning, and failed\nattempts to use filters:\n\n    [WARNING]: Skipping plugin (filters.py) as it seems to be invalid:\n    module 'jinja2' has no attribute 'contextfilter'\n\nThis change switches to use the pass_context decorator. The minimum\nversion of Jinja2 is raised to 3 to ensure pass_context is present.\n\nThis change has been updated to also support Jinja2 2.x releases,\nsince the Wallaby upper constraints specify 2.11.3. In practice, most\nusers will not use UC to install kolla.\n\nCoAuthored-by: Mark Goddard <mark@stackhpc.com>\n\nChange-Id: I5efab66e487e06abd1a56af97d7e7caa1ebc880d\n""}]",1,835343,252f3ade922cf5367388cf7b1d8747809c4bfaa9,14,3,3,24072,,,0,"Use jinja2.pass_context instead of contextfilter

The contextfilter decorator was deprecated in jinja2 3.0.0, and has been
dropped in 3.1.0. This results in the following warning, and failed
attempts to use filters:

    [WARNING]: Skipping plugin (filters.py) as it seems to be invalid:
    module 'jinja2' has no attribute 'contextfilter'

This change switches to use the pass_context decorator. The minimum
version of Jinja2 is raised to 3 to ensure pass_context is present.

This change has been updated to also support Jinja2 2.x releases,
since the Wallaby upper constraints specify 2.11.3. In practice, most
users will not use UC to install kolla.

CoAuthored-by: Mark Goddard <mark@stackhpc.com>

Change-Id: I5efab66e487e06abd1a56af97d7e7caa1ebc880d
",git fetch https://review.opendev.org/openstack/kolla refs/changes/43/835343/1 && git format-patch -1 --stdout FETCH_HEAD,"['kolla/template/filters.py', 'releasenotes/notes/jinja2-pass-context-3f3febcd944e3a51.yaml']",2,677346f149d287fc0db6bb586ab22b91a4c9f984,,-- fixes: - | Fixes an issue seen when using Jinja2 3.1.0. ,,11,2
openstack%2Freleases~master~Ia521c428d6e9c1bfd3d618511d40b5190db4bc72,openstack/releases,master,Ia521c428d6e9c1bfd3d618511d40b5190db4bc72,[magnum] Transition Victoria to EM,MERGED,2022-04-14 17:07:20.000000000,2022-04-19 08:59:23.000000000,2022-04-19 08:59:23.000000000,"[{'_account_id': 17685}, {'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-04-14 17:07:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/e65806d0855b5b3a51e2b9ce235b4d226d16a1d9', 'message': '[magnum] Transition Victoria to EM\n\nThis transition the victoria branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch.\n\nPlease +1 if the team is ready for us to proceed with this\ntransition, or -1 if there are any final backports currently in\nflight that we should wait for. For the latter case, please\nupdate the patch with the new commit hash after doing a final\nrelease to get those changes out so we know to proceed with the\ntransition.\n\nThe transition deadline is April 27th, 2022.\n\nChange-Id: Ia521c428d6e9c1bfd3d618511d40b5190db4bc72\n'}, {'number': 2, 'created': '2022-04-14 17:36:04.000000000', 'files': ['deliverables/victoria/magnum-ui.yaml', 'deliverables/victoria/magnum.yaml', 'deliverables/victoria/python-magnumclient.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/310e749954720dc06054665ea4f4b5dce0fabd82', 'message': '[magnum] Transition Victoria to EM\n\nThis transition the victoria branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch.\n\nPlease +1 if the team is ready for us to proceed with this\ntransition, or -1 if there are any final backports currently in\nflight that we should wait for. For the latter case, please\nupdate the patch with the new commit hash after doing a final\nrelease to get those changes out so we know to proceed with the\ntransition.\n\nThe transition deadline is April 27th, 2022.\n\nChange-Id: Ia521c428d6e9c1bfd3d618511d40b5190db4bc72\n'}]",1,837972,310e749954720dc06054665ea4f4b5dce0fabd82,11,4,2,17685,,,0,"[magnum] Transition Victoria to EM

This transition the victoria branch to extended maintenance.
Changes for bugfixes and things the team deems important are
still encouraged, but there will no longer be official releases
off of the branch.

Please +1 if the team is ready for us to proceed with this
transition, or -1 if there are any final backports currently in
flight that we should wait for. For the latter case, please
update the patch with the new commit hash after doing a final
release to get those changes out so we know to proceed with the
transition.

The transition deadline is April 27th, 2022.

Change-Id: Ia521c428d6e9c1bfd3d618511d40b5190db4bc72
",git fetch https://review.opendev.org/openstack/releases refs/changes/72/837972/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/victoria/magnum-ui.yaml', 'deliverables/victoria/magnum-tempest-plugin.yaml', 'deliverables/victoria/magnum.yaml', 'deliverables/victoria/python-magnumclient.yaml']",4,e65806d0855b5b3a51e2b9ce235b4d226d16a1d9,victoria-em, - version: victoria-em projects: - repo: openstack/python-magnumclient hash: fc941022c5690edf80544678530b741cdd983ea9,,16,0
openstack%2Fironic~master~I829291ab5cc19ec2ca43bc45815d012697f0b408,openstack/ironic,master,I829291ab5cc19ec2ca43bc45815d012697f0b408,Allow reusing defaults in per-node kernel_append_params,MERGED,2022-04-11 16:57:06.000000000,2022-04-19 08:55:59.000000000,2022-04-14 21:21:26.000000000,"[{'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2022-04-11 16:57:06.000000000', 'files': ['ironic/drivers/utils.py', 'ironic/drivers/modules/pxe_base.py', 'doc/source/admin/drivers/redfish.rst', 'ironic/tests/unit/drivers/modules/test_image_utils.py', 'doc/source/admin/interfaces/boot.rst', 'ironic/drivers/modules/ilo/boot.py', 'releasenotes/notes/append-params-a8b9f844328da83e.yaml', 'ironic/drivers/modules/irmc/boot.py', 'ironic/drivers/modules/redfish/boot.py', 'ironic/tests/unit/common/test_pxe_utils.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/5feb39844ab1a3f266669f01b6a13f39462b4612', 'message': 'Allow reusing defaults in per-node kernel_append_params\n\nIt may be convenient to use [pxe/redfish/...]kernel_append_params as\nthe universal defaults, while using {driver,instance}_info to only\nappend values. This change allows that by replacing %default% with\nthe value of the applicable configuration option.\n\nAn example use case: CoreOS requires an additional artifact (root\nfilesystem URL) when PXE booting.\n\nWhile here, fix the PXE/iPXE interface documentation.\n\nChange-Id: I829291ab5cc19ec2ca43bc45815d012697f0b408\n'}]",5,837379,5feb39844ab1a3f266669f01b6a13f39462b4612,20,3,1,10239,,,0,"Allow reusing defaults in per-node kernel_append_params

It may be convenient to use [pxe/redfish/...]kernel_append_params as
the universal defaults, while using {driver,instance}_info to only
append values. This change allows that by replacing %default% with
the value of the applicable configuration option.

An example use case: CoreOS requires an additional artifact (root
filesystem URL) when PXE booting.

While here, fix the PXE/iPXE interface documentation.

Change-Id: I829291ab5cc19ec2ca43bc45815d012697f0b408
",git fetch https://review.opendev.org/openstack/ironic refs/changes/79/837379/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/drivers/modules/pxe_base.py', 'ironic/drivers/utils.py', 'doc/source/admin/drivers/redfish.rst', 'ironic/tests/unit/drivers/modules/test_image_utils.py', 'doc/source/admin/interfaces/boot.rst', 'ironic/drivers/modules/ilo/boot.py', 'releasenotes/notes/append-params-a8b9f844328da83e.yaml', 'ironic/drivers/modules/irmc/boot.py', 'ironic/drivers/modules/redfish/boot.py', 'ironic/tests/unit/common/test_pxe_utils.py']",10,5feb39844ab1a3f266669f01b6a13f39462b4612,append-params," def test_build_pxe_config_options_kernel_params_with_default(self): info = self.node.driver_info info['kernel_append_params'] = 'param1 %default% params2' self.node.driver_info = info self.node.save() self._test_build_pxe_config_options_pxe( whle_dsk_img=True, expected_pxe_params='param1 test_param params2') ",,120,40
openstack%2Freleases~master~I846495f4e45bd57b2d597bc05436e8def2341906,openstack/releases,master,I846495f4e45bd57b2d597bc05436e8def2341906,[manila] Transition Victoria to EM,MERGED,2022-04-14 16:54:00.000000000,2022-04-19 08:54:34.000000000,2022-04-19 08:54:34.000000000,"[{'_account_id': 9003}, {'_account_id': 11904}, {'_account_id': 16643}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 29632}]","[{'number': 1, 'created': '2022-04-14 16:54:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/ce7257ef32e99d023900cac2339c6f5baea71e51', 'message': '[manila] Transition Victoria to EM\n\nThis transition the victoria branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch.\n\nPlease +1 if the team is ready for us to proceed with this\ntransition, or -1 if there are any final backports currently in\nflight that we should wait for. For the latter case, please\nupdate the patch with the new commit hash after doing a final\nrelease to get those changes out so we know to proceed with the\ntransition.\n\nThe transition deadline is April 27th, 2022.\n\nChange-Id: I846495f4e45bd57b2d597bc05436e8def2341906\n'}, {'number': 2, 'created': '2022-04-14 17:21:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/219838a7bb8b9f2521cafd8c510c8930b16a710d', 'message': '[manila] Transition Victoria to EM\n\nThis transition the victoria branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch.\n\nPlease +1 if the team is ready for us to proceed with this\ntransition, or -1 if there are any final backports currently in\nflight that we should wait for. For the latter case, please\nupdate the patch with the new commit hash after doing a final\nrelease to get those changes out so we know to proceed with the\ntransition.\n\nThe transition deadline is April 27th, 2022.\n\nChange-Id: I846495f4e45bd57b2d597bc05436e8def2341906\n'}, {'number': 3, 'created': '2022-04-18 17:16:25.000000000', 'files': ['deliverables/victoria/manila.yaml', 'deliverables/victoria/python-manilaclient.yaml', 'deliverables/victoria/manila-ui.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/fc9d0352a44946d5fcdd512716efc2991b5965ce', 'message': '[manila] Transition Victoria to EM\n\nThis transition the victoria branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch.\n\nChange-Id: I846495f4e45bd57b2d597bc05436e8def2341906\n'}]",5,837942,fc9d0352a44946d5fcdd512716efc2991b5965ce,17,7,3,17685,,,0,"[manila] Transition Victoria to EM

This transition the victoria branch to extended maintenance.
Changes for bugfixes and things the team deems important are
still encouraged, but there will no longer be official releases
off of the branch.

Change-Id: I846495f4e45bd57b2d597bc05436e8def2341906
",git fetch https://review.opendev.org/openstack/releases refs/changes/42/837942/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/victoria/manila.yaml', 'deliverables/victoria/python-manilaclient.yaml', 'deliverables/victoria/manila-ui.yaml', 'deliverables/victoria/manila-tempest-plugin.yaml']",4,ce7257ef32e99d023900cac2339c6f5baea71e51,victoria-em, - version: victoria-em projects: - repo: openstack/manila-tempest-plugin hash: 9ff6b341370b10a80fddc6d1fd70c6375542b846,,16,0
openstack%2Freleases~master~I50c6ce481b2d39a908873abff44f625a249ab769,openstack/releases,master,I50c6ce481b2d39a908873abff44f625a249ab769,[tacker] Transition Victoria to EM,MERGED,2022-04-14 17:07:31.000000000,2022-04-19 08:54:31.000000000,2022-04-19 08:54:31.000000000,"[{'_account_id': 308}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-04-14 17:07:31.000000000', 'files': ['deliverables/victoria/python-tackerclient.yaml', 'deliverables/victoria/tacker.yaml', 'deliverables/victoria/tacker-horizon.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/c37508ecce470ad596468e7fa4c3d79d4d2f5aae', 'message': '[tacker] Transition Victoria to EM\n\nThis transition the victoria branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch.\n\nPlease +1 if the team is ready for us to proceed with this\ntransition, or -1 if there are any final backports currently in\nflight that we should wait for. For the latter case, please\nupdate the patch with the new commit hash after doing a final\nrelease to get those changes out so we know to proceed with the\ntransition.\n\nThe transition deadline is April 27th, 2022.\n\nChange-Id: I50c6ce481b2d39a908873abff44f625a249ab769\n'}]",1,837973,c37508ecce470ad596468e7fa4c3d79d4d2f5aae,10,5,1,17685,,,0,"[tacker] Transition Victoria to EM

This transition the victoria branch to extended maintenance.
Changes for bugfixes and things the team deems important are
still encouraged, but there will no longer be official releases
off of the branch.

Please +1 if the team is ready for us to proceed with this
transition, or -1 if there are any final backports currently in
flight that we should wait for. For the latter case, please
update the patch with the new commit hash after doing a final
release to get those changes out so we know to proceed with the
transition.

The transition deadline is April 27th, 2022.

Change-Id: I50c6ce481b2d39a908873abff44f625a249ab769
",git fetch https://review.opendev.org/openstack/releases refs/changes/73/837973/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/victoria/python-tackerclient.yaml', 'deliverables/victoria/tacker.yaml', 'deliverables/victoria/tacker-horizon.yaml']",3,c37508ecce470ad596468e7fa4c3d79d4d2f5aae,victoria-em, - version: victoria-em projects: - repo: openstack/tacker-horizon hash: fe74538ae2e415381ad8a6489d30125442088526,,12,0
openstack%2Fcharm-manila-netapp~stable%2Fyoga~I883cb33c9c458f9ce176d3cb3dfb30be7e0e1ebe,openstack/charm-manila-netapp,stable/yoga,I883cb33c9c458f9ce176d3cb3dfb30be7e0e1ebe,Updates for stable branch creation,MERGED,2022-04-15 10:52:13.000000000,2022-04-19 08:53:45.000000000,2022-04-19 08:53:45.000000000,"[{'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-15 10:52:13.000000000', 'files': ['.gitreview', 'test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/charm-manila-netapp/commit/3301f0e044150910f50e20d38351d39b30b624ea', 'message': 'Updates for stable branch creation\n\n- Set default branch for git review/gerrit.\n- Switch tests to stable.\n- Switch to using stable charm-helpers branch.\n- Switch to using stable charm.openstack branch.\n- Switch to using stable zaza, zaza-openstack-tests\n  branch\n- (reactive charms) Add build.lock file\n\nChange-Id: I883cb33c9c458f9ce176d3cb3dfb30be7e0e1ebe\n'}]",3,838144,3301f0e044150910f50e20d38351d39b30b624ea,14,3,1,20870,,,0,"Updates for stable branch creation

- Set default branch for git review/gerrit.
- Switch tests to stable.
- Switch to using stable charm-helpers branch.
- Switch to using stable charm.openstack branch.
- Switch to using stable zaza, zaza-openstack-tests
  branch
- (reactive charms) Add build.lock file

Change-Id: I883cb33c9c458f9ce176d3cb3dfb30be7e0e1ebe
",git fetch https://review.opendev.org/openstack/charm-manila-netapp refs/changes/44/838144/1 && git format-patch -1 --stdout FETCH_HEAD,"['.gitreview', 'test-requirements.txt']",2,3301f0e044150910f50e20d38351d39b30b624ea,charm-release-2204,git+https://github.com/openstack-charmers/zaza.git@stable/yoga#egg=zaza git+https://github.com/openstack-charmers/zaza-openstack-tests.git@stable/yoga#egg=zaza.openstack,git+https://github.com/openstack-charmers/zaza.git#egg=zaza git+https://github.com/openstack-charmers/zaza-openstack-tests.git#egg=zaza.openstack,4,2
openstack%2Freleases~master~I1463846c53d70cb845be2b278be55f6934c6ce77,openstack/releases,master,I1463846c53d70cb845be2b278be55f6934c6ce77,Add missing release note links for Victoria,MERGED,2022-04-14 16:15:44.000000000,2022-04-19 08:52:08.000000000,2022-04-19 08:52:08.000000000,"[{'_account_id': 5202}, {'_account_id': 7144}, {'_account_id': 7166}, {'_account_id': 7973}, {'_account_id': 8449}, {'_account_id': 9303}, {'_account_id': 11604}, {'_account_id': 11628}, {'_account_id': 11904}, {'_account_id': 12404}, {'_account_id': 14826}, {'_account_id': 16465}, {'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 27615}, {'_account_id': 28356}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-04-14 16:15:44.000000000', 'files': ['deliverables/victoria/heat-agents.yaml', 'deliverables/victoria/tripleo-heat-templates.yaml', 'deliverables/victoria/kolla-ansible.yaml', 'deliverables/victoria/kolla.yaml', 'deliverables/victoria/keystonemiddleware.yaml', 'deliverables/victoria/osc-placement.yaml', 'deliverables/victoria/python-cloudkittyclient.yaml', 'deliverables/victoria/tripleo-puppet-elements.yaml', 'deliverables/victoria/kayobe.yaml', 'deliverables/victoria/python-designateclient.yaml', 'deliverables/victoria/python-glanceclient.yaml', 'deliverables/victoria/os-net-config.yaml', 'deliverables/victoria/puppet-tripleo.yaml', 'deliverables/victoria/python-keystoneclient.yaml', 'deliverables/victoria/cinderlib.yaml', 'deliverables/victoria/magnum.yaml', 'deliverables/victoria/glance.yaml', 'deliverables/victoria/python-tripleoclient.yaml', 'deliverables/victoria/keystoneauth.yaml', 'deliverables/victoria/tripleo-image-elements.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/43cdbe1827939d6a0901f211e622cf86d6215fcc', 'message': 'Add missing release note links for Victoria\n\nThis generated patch adds missing victoria release note page link if\nthat page exists for a deliverable.\n\nIf any of your deliverables does not have a release note link added in\nthis patch, then please check whether there is an open patch on that\nrepository with the topic ""reno-victoria"" [1] still waiting to be\napproved.\n\n[1] https://review.opendev.org/q/topic:reno-victoria\n\nChange-Id: I1463846c53d70cb845be2b278be55f6934c6ce77\n'}]",2,837907,43cdbe1827939d6a0901f211e622cf86d6215fcc,12,18,1,17685,,,0,"Add missing release note links for Victoria

This generated patch adds missing victoria release note page link if
that page exists for a deliverable.

If any of your deliverables does not have a release note link added in
this patch, then please check whether there is an open patch on that
repository with the topic ""reno-victoria"" [1] still waiting to be
approved.

[1] https://review.opendev.org/q/topic:reno-victoria

Change-Id: I1463846c53d70cb845be2b278be55f6934c6ce77
",git fetch https://review.opendev.org/openstack/releases refs/changes/07/837907/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/victoria/heat-agents.yaml', 'deliverables/victoria/tripleo-heat-templates.yaml', 'deliverables/victoria/kolla-ansible.yaml', 'deliverables/victoria/kolla.yaml', 'deliverables/victoria/keystonemiddleware.yaml', 'deliverables/victoria/osc-placement.yaml', 'deliverables/victoria/python-cloudkittyclient.yaml', 'deliverables/victoria/tripleo-puppet-elements.yaml', 'deliverables/victoria/kayobe.yaml', 'deliverables/victoria/python-designateclient.yaml', 'deliverables/victoria/python-glanceclient.yaml', 'deliverables/victoria/os-net-config.yaml', 'deliverables/victoria/puppet-tripleo.yaml', 'deliverables/victoria/python-keystoneclient.yaml', 'deliverables/victoria/cinderlib.yaml', 'deliverables/victoria/magnum.yaml', 'deliverables/victoria/glance.yaml', 'deliverables/victoria/python-tripleoclient.yaml', 'deliverables/victoria/keystoneauth.yaml', 'deliverables/victoria/tripleo-image-elements.yaml']",20,43cdbe1827939d6a0901f211e622cf86d6215fcc,reno-links-victoria,release-notes: https://docs.openstack.org/releasenotes/tripleo-image-elements/victoria.html,,20,0
openstack%2Freleases~master~I8ec0c658b07e7a740dd8c217359d643b80cde0f0,openstack/releases,master,I8ec0c658b07e7a740dd8c217359d643b80cde0f0,[storlets] Transition Victoria to EM,MERGED,2022-04-14 17:08:21.000000000,2022-04-19 08:49:53.000000000,2022-04-19 08:49:53.000000000,"[{'_account_id': 308}, {'_account_id': 4608}, {'_account_id': 9816}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-04-14 17:08:21.000000000', 'files': ['deliverables/victoria/storlets.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/69c44441b837c52fccd80ebf170d0b8a2360f8ee', 'message': '[storlets] Transition Victoria to EM\n\nThis transition the victoria branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch.\n\nPlease +1 if the team is ready for us to proceed with this\ntransition, or -1 if there are any final backports currently in\nflight that we should wait for. For the latter case, please\nupdate the patch with the new commit hash after doing a final\nrelease to get those changes out so we know to proceed with the\ntransition.\n\nThe transition deadline is April 27th, 2022.\n\nChange-Id: I8ec0c658b07e7a740dd8c217359d643b80cde0f0\n'}]",1,837976,69c44441b837c52fccd80ebf170d0b8a2360f8ee,10,6,1,17685,,,0,"[storlets] Transition Victoria to EM

This transition the victoria branch to extended maintenance.
Changes for bugfixes and things the team deems important are
still encouraged, but there will no longer be official releases
off of the branch.

Please +1 if the team is ready for us to proceed with this
transition, or -1 if there are any final backports currently in
flight that we should wait for. For the latter case, please
update the patch with the new commit hash after doing a final
release to get those changes out so we know to proceed with the
transition.

The transition deadline is April 27th, 2022.

Change-Id: I8ec0c658b07e7a740dd8c217359d643b80cde0f0
",git fetch https://review.opendev.org/openstack/releases refs/changes/76/837976/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/victoria/storlets.yaml'],1,69c44441b837c52fccd80ebf170d0b8a2360f8ee,victoria-em, - version: victoria-em projects: - repo: openstack/storlets hash: 1a431d5c20a99d8797973de12b9a9b24a3600df5,,4,0
openstack%2Fcharm-ceph-fs~stable%2Fquincy~I85ee9699991bb22c5a96055da7000d7729e582e6,openstack/charm-ceph-fs,stable/quincy,I85ee9699991bb22c5a96055da7000d7729e582e6,Updates for stable branch creation,MERGED,2022-04-14 17:04:13.000000000,2022-04-19 08:46:47.000000000,2022-04-19 08:46:47.000000000,"[{'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-14 17:04:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-fs/commit/86edfc00d5cc74cfcc6831829852f7102f384899', 'message': 'Updates for stable branch creation\n\n- Set default branch for git review/gerrit.\n- Switch tests to stable.\n- Switch to using stable charm-helpers branch.\n- Switch to using stable charm.openstack branch.\n- Switch to using stable zaza, zaza-openstack-tests\n  branch\n- (reactive charms) Add build.lock file\n\nChange-Id: I85ee9699991bb22c5a96055da7000d7729e582e6\n'}, {'number': 2, 'created': '2022-04-16 20:07:34.000000000', 'files': ['.gitignore', '.gitreview', 'test-requirements.txt', 'src/wheelhouse.txt', 'src/test-requirements.txt', 'src/build.lock'], 'web_link': 'https://opendev.org/openstack/charm-ceph-fs/commit/511d32309bacf62a3127361578c22ab4928635fe', 'message': 'Updates for stable branch creation\n\n- Set default branch for git review/gerrit.\n- Switch tests to stable.\n- Switch to using stable charm-helpers branch.\n- Switch to using stable charm.openstack branch.\n- Switch to using stable zaza, zaza-openstack-tests\n  branch\n- (reactive charms) Add build.lock file\n\nChange-Id: I85ee9699991bb22c5a96055da7000d7729e582e6\n'}]",1,837961,511d32309bacf62a3127361578c22ab4928635fe,12,3,2,20870,,,0,"Updates for stable branch creation

- Set default branch for git review/gerrit.
- Switch tests to stable.
- Switch to using stable charm-helpers branch.
- Switch to using stable charm.openstack branch.
- Switch to using stable zaza, zaza-openstack-tests
  branch
- (reactive charms) Add build.lock file

Change-Id: I85ee9699991bb22c5a96055da7000d7729e582e6
",git fetch https://review.opendev.org/openstack/charm-ceph-fs refs/changes/61/837961/2 && git format-patch -1 --stdout FETCH_HEAD,"['.gitreview', 'test-requirements.txt', 'src/wheelhouse.txt', 'src/test-requirements.txt', 'src/build.lock', 'ceph-fs.charm']",6,86edfc00d5cc74cfcc6831829852f7102f384899,charm-release-2204,,,230,6
openstack%2Fceilometer~master~Ic0f4ca41d2e4114800aba9d02309f2e04e313752,openstack/ceilometer,master,Ic0f4ca41d2e4114800aba9d02309f2e04e313752,Debug log libvirt metadata version fails,MERGED,2022-03-29 07:57:49.000000000,2022-04-19 08:41:53.000000000,2022-04-19 08:40:05.000000000,"[{'_account_id': 4264}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-03-29 07:57:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/2ca5510197d9c7af2ef741ca8cd487dba2e0d4a2', 'message': ""Dont log libvirt metadata version fails\n\nWe don't need to log this, if you have upgraded\nfrom an older version it just outputs that line\ntimes the amount of instances on the compute node\nevery minute.\n\nChange-Id: Ic0f4ca41d2e4114800aba9d02309f2e04e313752\n""}, {'number': 2, 'created': '2022-03-29 13:07:08.000000000', 'files': ['ceilometer/compute/virt/libvirt/utils.py'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/9a08b529a781eb787f17a52e2dfbe503069e0ad5', 'message': ""Debug log libvirt metadata version fails\n\nWe don't need to log this as a warning or info.\nIf you have upgraded from an older version it just\noutputs that line times the amount of instances on\nthe compute node every minute.\n\nChange-Id: Ic0f4ca41d2e4114800aba9d02309f2e04e313752\n""}]",2,835550,9a08b529a781eb787f17a52e2dfbe503069e0ad5,11,2,2,16137,,,0,"Debug log libvirt metadata version fails

We don't need to log this as a warning or info.
If you have upgraded from an older version it just
outputs that line times the amount of instances on
the compute node every minute.

Change-Id: Ic0f4ca41d2e4114800aba9d02309f2e04e313752
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/50/835550/1 && git format-patch -1 --stdout FETCH_HEAD,['ceilometer/compute/virt/libvirt/utils.py'],1,2ca5510197d9c7af2ef741ca8cd487dba2e0d4a2,,," LOG.warning(""Failed to find metadata %s in domain %s"", meta_version, domain.UUIDString())",0,2
openstack%2Fcharm-cinder-solidfire~stable%2Fyoga~Id147ea4082a32e6cc64639f8fddeeb5149746cbb,openstack/charm-cinder-solidfire,stable/yoga,Id147ea4082a32e6cc64639f8fddeeb5149746cbb,Updates for stable branch creation,MERGED,2022-04-15 10:44:48.000000000,2022-04-19 08:28:28.000000000,2022-04-19 08:28:28.000000000,"[{'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-15 10:44:48.000000000', 'files': ['.gitreview', 'test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/charm-cinder-solidfire/commit/cb97626de13a0ca3690c72c111835f6633dfec71', 'message': 'Updates for stable branch creation\n\n- Set default branch for git review/gerrit.\n- Switch tests to stable.\n- Switch to using stable charm-helpers branch.\n- Switch to using stable charm.openstack branch.\n- Switch to using stable zaza, zaza-openstack-tests\n  branch\n- (reactive charms) Add build.lock file\n\nChange-Id: Id147ea4082a32e6cc64639f8fddeeb5149746cbb\n'}]",2,838124,cb97626de13a0ca3690c72c111835f6633dfec71,12,3,1,20870,,,0,"Updates for stable branch creation

- Set default branch for git review/gerrit.
- Switch tests to stable.
- Switch to using stable charm-helpers branch.
- Switch to using stable charm.openstack branch.
- Switch to using stable zaza, zaza-openstack-tests
  branch
- (reactive charms) Add build.lock file

Change-Id: Id147ea4082a32e6cc64639f8fddeeb5149746cbb
",git fetch https://review.opendev.org/openstack/charm-cinder-solidfire refs/changes/24/838124/1 && git format-patch -1 --stdout FETCH_HEAD,"['.gitreview', 'test-requirements.txt']",2,cb97626de13a0ca3690c72c111835f6633dfec71,charm-release-2204,git+https://github.com/openstack-charmers/zaza.git@stable/yoga#egg=zaza git+https://github.com/openstack-charmers/zaza-openstack-tests.git@stable/yoga#egg=zaza.openstack,git+https://github.com/openstack-charmers/zaza.git#egg=zaza git+https://github.com/openstack-charmers/zaza-openstack-tests.git#egg=zaza.openstack,4,2
openstack%2Fcharm-ironic-conductor~master~Ie7ac1b0203d3a51cf3ff74ed8797be3f169cfd1c,openstack/charm-ironic-conductor,master,Ie7ac1b0203d3a51cf3ff74ed8797be3f169cfd1c,Stop managing grub.cfg in Yoga,MERGED,2022-04-14 16:51:37.000000000,2022-04-19 08:13:19.000000000,2022-04-19 08:13:19.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-14 16:51:37.000000000', 'files': ['src/lib/charm/openstack/ironic/ironic.py', 'unit_tests/test_lib_charm_openstack_ironic.py', 'unit_tests/test_controller_utils.py', 'src/lib/charm/openstack/ironic/controller_utils.py', 'src/reactive/ironic_handlers.py'], 'web_link': 'https://opendev.org/openstack/charm-ironic-conductor/commit/a3b68bd8df73d37005bebc230e3c2f3343e39034', 'message': 'Stop managing grub.cfg in Yoga\n\nFrom yoga onwards the ironic-conductor manges the grub.conf. This\nchange ensure that the charm stops managing it. This change also\nensures that the file permissions are set correctly prior to\nthe upgrade to Yoga.\n\nWhile developing this change it became apparent that the charm\nwas missing the code to trigger an upgrade after a change in\nopenstack-origin so this change corrects that.\n\nCloses-Bug: #1968871\nChange-Id: Ie7ac1b0203d3a51cf3ff74ed8797be3f169cfd1c\n'}]",3,837934,a3b68bd8df73d37005bebc230e3c2f3343e39034,13,3,1,12549,,,0,"Stop managing grub.cfg in Yoga

From yoga onwards the ironic-conductor manges the grub.conf. This
change ensure that the charm stops managing it. This change also
ensures that the file permissions are set correctly prior to
the upgrade to Yoga.

While developing this change it became apparent that the charm
was missing the code to trigger an upgrade after a change in
openstack-origin so this change corrects that.

Closes-Bug: #1968871
Change-Id: Ie7ac1b0203d3a51cf3ff74ed8797be3f169cfd1c
",git fetch https://review.opendev.org/openstack/charm-ironic-conductor refs/changes/34/837934/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/lib/charm/openstack/ironic/ironic.py', 'unit_tests/test_lib_charm_openstack_ironic.py', 'unit_tests/test_controller_utils.py', 'src/lib/charm/openstack/ironic/controller_utils.py', 'src/reactive/ironic_handlers.py']",5,a3b68bd8df73d37005bebc230e3c2f3343e39034,bug/1968871, ironic_charm.upgrade_if_available(args),,52,9
openstack%2Fsahara-tests~master~I905a059bf50635d644ad0c1dd47e5d6c21359fba,openstack/sahara-tests,master,I905a059bf50635d644ad0c1dd47e5d6c21359fba,Non-voting scenario jobs,ABANDONED,2022-03-19 06:53:13.000000000,2022-04-19 07:59:34.000000000,,"[{'_account_id': 10459}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-03-19 06:53:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara-tests/commit/e45f0b40ace713b23699784a012615fa0ac784c5', 'message': 'Non-voting scenario jobs\n\nBecause scenario jobs are still broken with this change, these jobs\nare made non-voting temporally to unblock the other jobs. Currently\nthis issue is blocking package build in RDO.\n\nChange-Id: I905a059bf50635d644ad0c1dd47e5d6c21359fba\n'}, {'number': 2, 'created': '2022-03-19 06:58:25.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/sahara-tests/commit/c58c5d9f4b15cbda83eb8fd265602b774523424f', 'message': 'Non-voting scenario jobs\n\nBecause scenario jobs are still broken with this change, these jobs\nare made non-voting temporally to unblock the other jobs. Currently\nthis issue is blocking package build in RDO.\n\nChange-Id: I905a059bf50635d644ad0c1dd47e5d6c21359fba\n'}]",1,834372,c58c5d9f4b15cbda83eb8fd265602b774523424f,6,2,2,31412,,,0,"Non-voting scenario jobs

Because scenario jobs are still broken with this change, these jobs
are made non-voting temporally to unblock the other jobs. Currently
this issue is blocking package build in RDO.

Change-Id: I905a059bf50635d644ad0c1dd47e5d6c21359fba
",git fetch https://review.opendev.org/openstack/sahara-tests refs/changes/72/834372/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,e45f0b40ace713b23699784a012615fa0ac784c5,, - sahara-tests-scenario: voting: false - sahara-tests-scenario-v2: voting: false - sahara-tests-scenario-victoria: voting: false - sahara-tests-scenario-ussuri: voting: false - sahara-tests-scenario-train: voting: false - sahara-tests-scenario-stein: voting: false - sahara-tests-scenario: voting: false - sahara-tests-scenario-v2: voting: false voting: false, - sahara-tests-scenario - sahara-tests-scenario-v2 - sahara-tests-scenario-victoria - sahara-tests-scenario-ussuri - sahara-tests-scenario-train - sahara-tests-scenario-stein - sahara-tests-scenario - sahara-tests-scenario-v2,17,8
openstack%2Fmagnum-tempest-plugin~master~Ic283d95deebfb71236941f369fae1f0c72136881,openstack/magnum-tempest-plugin,master,Ic283d95deebfb71236941f369fae1f0c72136881,Update 'Maintained' stable branch jobs on master gate,MERGED,2022-04-15 01:41:56.000000000,2022-04-19 07:52:36.000000000,2022-04-19 07:52:36.000000000,"[{'_account_id': 20498}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-15 01:41:56.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/magnum-tempest-plugin/commit/70d8e4551409c712f4a1e523566951da72e1871c', 'message': ""Update 'Maintained' stable branch jobs on master gate\n\nWe have stable/yoga released and stable/ussuri is in\n'Extended Maintenance' state. Current 'Maintained'\nstable branches are yoga, xena, wallaby, and victoria.\n\nAs per tempest stable branch testing policy[1], adding the\nnewly released stable/yoga job and remove the EM stable/ussuri\njob.\n\n[1] https://docs.openstack.org/tempest/latest/stable_branch_testing_policy.html\n\nChange-Id: Ic283d95deebfb71236941f369fae1f0c72136881\n""}]",0,838057,70d8e4551409c712f4a1e523566951da72e1871c,6,2,1,8556,,,0,"Update 'Maintained' stable branch jobs on master gate

We have stable/yoga released and stable/ussuri is in
'Extended Maintenance' state. Current 'Maintained'
stable branches are yoga, xena, wallaby, and victoria.

As per tempest stable branch testing policy[1], adding the
newly released stable/yoga job and remove the EM stable/ussuri
job.

[1] https://docs.openstack.org/tempest/latest/stable_branch_testing_policy.html

Change-Id: Ic283d95deebfb71236941f369fae1f0c72136881
",git fetch https://review.opendev.org/openstack/magnum-tempest-plugin refs/changes/57/838057/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,70d8e4551409c712f4a1e523566951da72e1871c,yoga-stable-job, - magnum-tempest-plugin-tests-api-yoga name: magnum-tempest-plugin-tests-api-yoga parent: magnum-tempest-plugin-tests-api override-checkout: stable/yoga - job:,,6,0
openstack%2Fcyborg~master~I986aa2a7bad7a621ee856f8ebf61ee65c058a2ef,openstack/cyborg,master,I986aa2a7bad7a621ee856f8ebf61ee65c058a2ef,support program for all drivers.,NEW,2019-12-06 09:57:05.000000000,2022-04-19 07:48:24.000000000,,"[{'_account_id': 22348}, {'_account_id': 23950}]","[{'number': 1, 'created': '2019-12-06 09:57:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/f07ec074a84a3db0b6d8a2d487535935242e5592', 'message': 'support program for all drivers.\n\nWe add a new calss attribution NANE for acc drivers.\n\nCurrently, we did not support version for acc drivers.\nMaybe we can consider add it later.\n\nChange-Id: I986aa2a7bad7a621ee856f8ebf61ee65c058a2ef\n'}, {'number': 2, 'created': '2019-12-09 05:32:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/b043d1495b463bb1af8bb64b1690c726c2ae29e1', 'message': 'support program for all drivers.\n\nWe add a new calss attribution NANE for acc drivers.\n\nCurrently, we did not support version for acc drivers.\nMaybe we can consider add it later.\n\nChange-Id: I986aa2a7bad7a621ee856f8ebf61ee65c058a2ef\n'}, {'number': 3, 'created': '2020-04-07 09:30:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/ee1305b2f8beffa89643accb86305e2408f2a14d', 'message': 'support program for all drivers.\n\nWe add a new calss attribution NANE for acc drivers.\n\nCurrently, we did not support version for acc drivers.\nMaybe we can consider add it later.\n\nChange-Id: I986aa2a7bad7a621ee856f8ebf61ee65c058a2ef\n'}, {'number': 4, 'created': '2020-04-07 11:43:39.000000000', 'files': ['cyborg/accelerator/drivers/spdk/vhost/vhost.py', 'cyborg/agent/manager.py', 'cyborg/accelerator/drivers/fpga/intel/driver.py', 'cyborg/common/exception.py', 'cyborg/tests/unit/accelerator/drivers/spdk/nvmf/test_nvmf.py', 'cyborg/tests/unit/accelerator/drivers/spdk/vhost/test_vhost.py', 'cyborg/agent/resource_tracker.py', 'cyborg/accelerator/drivers/fake.py', 'cyborg/accelerator/drivers/gpu/base.py', 'cyborg/accelerator/drivers/driver.py', 'cyborg/accelerator/drivers/spdk/spdk.py', 'cyborg/tests/unit/accelerator/drivers/fpga/intel/test_driver.py', 'cyborg/accelerator/drivers/aichip/huawei/ascend.py', 'cyborg/accelerator/drivers/fpga/base.py', 'cyborg/accelerator/drivers/spdk/nvmf/nvmf.py', 'cyborg/agent/rpcapi.py', 'cyborg/accelerator/drivers/gpu/nvidia/driver.py', 'cyborg/tests/unit/accelerator/drivers/test_driver.py', 'cyborg/objects/extarq/fpga_ext_arq.py'], 'web_link': 'https://opendev.org/openstack/cyborg/commit/de3f2bb850165cc0a82d263668c7297ae4f478f0', 'message': 'support program for all drivers.\n\nWe add a new calss attribution NANE for acc drivers.\n\nCurrently, we did not support version for acc drivers.\nMaybe we can consider add it later.\n\nChange-Id: I986aa2a7bad7a621ee856f8ebf61ee65c058a2ef\n'}]",6,697639,de3f2bb850165cc0a82d263668c7297ae4f478f0,11,2,4,14131,,,0,"support program for all drivers.

We add a new calss attribution NANE for acc drivers.

Currently, we did not support version for acc drivers.
Maybe we can consider add it later.

Change-Id: I986aa2a7bad7a621ee856f8ebf61ee65c058a2ef
",git fetch https://review.opendev.org/openstack/cyborg refs/changes/39/697639/3 && git format-patch -1 --stdout FETCH_HEAD,"['cyborg/agent/manager.py', 'cyborg/accelerator/drivers/fpga/intel/driver.py', 'cyborg/common/exception.py', 'cyborg/agent/resource_tracker.py', 'cyborg/accelerator/drivers/fake.py', 'cyborg/accelerator/drivers/gpu/base.py', 'cyborg/accelerator/drivers/driver.py', 'cyborg/accelerator/drivers/spdk/spdk.py', 'cyborg/tests/unit/accelerator/drivers/fpga/intel/test_driver.py', 'cyborg/accelerator/drivers/aichip/huawei/ascend.py', 'cyborg/accelerator/drivers/fpga/base.py', 'cyborg/accelerator/drivers/spdk/nvmf/nvmf.py', 'cyborg/agent/rpcapi.py', 'cyborg/accelerator/drivers/gpu/nvidia/driver.py', 'cyborg/objects/extarq/fpga_ext_arq.py']",15,f07ec074a84a3db0b6d8a2d487535935242e5592,fake-driver-v1," agent.program(context, hostname,"," agent.fpga_program_v2(context, hostname,",60,23
openstack%2Fkolla~master~Ideaf66ce18c993802f4d20f490caa47cec0dde5e,openstack/kolla,master,Ideaf66ce18c993802f4d20f490caa47cec0dde5e,"Revert ""CI: add templated Dockerfiles to build logs""",MERGED,2022-04-15 09:58:14.000000000,2022-04-19 07:45:35.000000000,2022-04-19 07:43:00.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}, {'_account_id': 32029}, {'_account_id': 34505}]","[{'number': 1, 'created': '2022-04-15 09:58:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/178728d9350c06e089e26aa3da0f8c7a4f82eeac', 'message': 'Revert ""CI: add templated Dockerfiles to build logs""\n\nThis reverts commit 09c890b12463a4b2c8767231189e7016f337fbc3.\n\nReason for revert: That change caused all Kolla\'s work items to be\ntransferred. This includes tarballs, their extracted contents, cloned\ngit repositories, etc. to also be transferred to swift which takes\nextra time, pollutes logs and decreases the stability of jobs slightly\n(the mechanism is not designed for this kind of load).\nThe collection of templated Dockerfiles in CI has to be reimplemented\nif it is wanted.\n\nChange-Id: Ideaf66ce18c993802f4d20f490caa47cec0dde5e\n'}, {'number': 2, 'created': '2022-04-15 13:37:18.000000000', 'files': ['tests/playbooks/run.yml', '.zuul.d/base.yaml'], 'web_link': 'https://opendev.org/openstack/kolla/commit/f33ef03977536ecb29ea464b9e557a6caacf4345', 'message': 'Revert ""CI: add templated Dockerfiles to build logs""\n\nThis reverts commit 09c890b12463a4b2c8767231189e7016f337fbc3.\n\nReason for revert: That change caused all Kolla\'s work items to be\ntransferred. This includes tarballs, their extracted contents, cloned\ngit repositories, etc. to also be transferred to swift which takes\nextra time, pollutes logs and decreases the stability of jobs slightly\n(the mechanism is not designed for this kind of load).\nThe collection of templated Dockerfiles in CI has to be reimplemented\nif it is wanted.\n\nChange-Id: Ideaf66ce18c993802f4d20f490caa47cec0dde5e\n'}]",2,838014,f33ef03977536ecb29ea464b9e557a6caacf4345,18,6,2,30491,,,0,"Revert ""CI: add templated Dockerfiles to build logs""

This reverts commit 09c890b12463a4b2c8767231189e7016f337fbc3.

Reason for revert: That change caused all Kolla's work items to be
transferred. This includes tarballs, their extracted contents, cloned
git repositories, etc. to also be transferred to swift which takes
extra time, pollutes logs and decreases the stability of jobs slightly
(the mechanism is not designed for this kind of load).
The collection of templated Dockerfiles in CI has to be reimplemented
if it is wanted.

Change-Id: Ideaf66ce18c993802f4d20f490caa47cec0dde5e
",git fetch https://review.opendev.org/openstack/kolla refs/changes/14/838014/2 && git format-patch -1 --stdout FETCH_HEAD,"['tests/playbooks/run.yml', '.zuul.d/base.yaml']",2,178728d9350c06e089e26aa3da0f8c7a4f82eeac,quiet-kolla,," kolla_work_dir: ""{{ kolla_logs_dir }}""",0,2
openstack%2Fneutron~master~Ic1532eb8de887ff1b1085206df11f53e22f7f524,openstack/neutron,master,Ic1532eb8de887ff1b1085206df11f53e22f7f524,Don't register config options on imports,MERGED,2022-04-11 18:04:06.000000000,2022-04-19 07:41:39.000000000,2022-04-19 07:39:47.000000000,"[{'_account_id': 5756}, {'_account_id': 5948}, {'_account_id': 9845}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 32029}, {'_account_id': 34451}]","[{'number': 1, 'created': '2022-04-11 18:04:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8e7073ed4c84a9d9e64c34b70e8796d777014eaf', 'message': ""DNM WIP: Don't register config options on imports\n\nChange-Id: Ic1532eb8de887ff1b1085206df11f53e22f7f524\n""}, {'number': 2, 'created': '2022-04-11 18:47:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7f6800261e89450cc709b6618ccab73adf4b4f22', 'message': ""DNM WIP: Don't register config options on imports\n\nImporting some modules lead to registering config options that may\ncollide with config options from a project that calls the import. This\npatch wraps the side effect that registers config options into a\nfunction that needs to be called in case the caller wants to register\nthe options.\n\nRelated-bug: #1968606\nChange-Id: Ic1532eb8de887ff1b1085206df11f53e22f7f524\n""}, {'number': 3, 'created': '2022-04-12 00:44:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/45c241339e782c610b2731e9edb44b3af987e573', 'message': ""DNM WIP: Don't register config options on imports\n\nImporting some modules lead to registering config options that may\ncollide with config options from a project that calls the import. This\npatch wraps the side effect that registers config options into a\nfunction that needs to be called in case the caller wants to register\nthe options.\n\nRelated-bug: #1968606\nChange-Id: Ic1532eb8de887ff1b1085206df11f53e22f7f524\n""}, {'number': 4, 'created': '2022-04-12 19:34:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0053abad8274b55611f6fe21cd2d912fe68ab1c9', 'message': ""DNM WIP: Don't register config options on imports\n\nImporting some modules lead to registering config options that may\ncollide with config options from a project that calls the import. This\npatch wraps the side effect that registers config options into a\nfunction that needs to be called in case the caller wants to register\nthe options.\n\nThis solution is also not perfect as it guards the common options to be\nregistered only once even if the function is called multiple times. This\nis to solve problems in unittests, ideally we should always call the\nfunction just once even in our testing suites.\n\nRelated-bug: #1968606\nChange-Id: Ic1532eb8de887ff1b1085206df11f53e22f7f524\nSigned-off-by: Jakub Libosvar <libosvar@redhat.com>\n""}, {'number': 5, 'created': '2022-04-13 00:28:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/86baeada771829bd804e35e45e296fb7324ae3bc', 'message': ""DNM WIP: Don't register config options on imports\n\nImporting some modules lead to registering config options that may\ncollide with config options from a project that calls the import. This\npatch wraps the side effect that registers config options into a\nfunction that needs to be called in case the caller wants to register\nthe options.\n\nThis solution is also not perfect as it guards the common options to be\nregistered only once even if the function is called multiple times. This\nis to solve problems in unittests, ideally we should always call the\nfunction just once even in our testing suites.\n\nRelated-bug: #1968606\nChange-Id: Ic1532eb8de887ff1b1085206df11f53e22f7f524\nSigned-off-by: Jakub Libosvar <libosvar@redhat.com>\n""}, {'number': 6, 'created': '2022-04-13 00:32:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3ce2475bed574dfbe3ed05e9f662891bf2c5021b', 'message': ""DNM WIP: Don't register config options on imports\n\nImporting some modules lead to registering config options that may\ncollide with config options from a project that calls the import. This\npatch wraps the side effect that registers config options into a\nfunction that needs to be called in case the caller wants to register\nthe options.\n\nThis solution is also not perfect as it guards the common options to be\nregistered only once even if the function is called multiple times. This\nis to solve problems in unittests, ideally we should always call the\nfunction just once even in our testing suites.\n\nRelated-bug: #1968606\nChange-Id: Ic1532eb8de887ff1b1085206df11f53e22f7f524\nSigned-off-by: Jakub Libosvar <libosvar@redhat.com>\n""}, {'number': 7, 'created': '2022-04-13 01:03:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e103bfc18c792cda8f6c8e1ae363ef79fbbd6c11', 'message': ""DNM WIP: Don't register config options on imports\n\nImporting some modules lead to registering config options that may\ncollide with config options from a project that calls the import. This\npatch wraps the side effect that registers config options into a\nfunction that needs to be called in case the caller wants to register\nthe options.\n\nThis solution is also not perfect as it guards the common options to be\nregistered only once even if the function is called multiple times. This\nis to solve problems in unittests, ideally we should always call the\nfunction just once even in our testing suites.\n\nRelated-bug: #1968606\nChange-Id: Ic1532eb8de887ff1b1085206df11f53e22f7f524\nSigned-off-by: Jakub Libosvar <libosvar@redhat.com>\n""}, {'number': 8, 'created': '2022-04-13 12:59:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8769cb8d8e937188678d038e1ed5998819fbbce9', 'message': ""DNM WIP: Don't register config options on imports\n\nImporting some modules lead to registering config options that may\ncollide with config options from a project that calls the import. This\npatch wraps the side effect that registers config options into a\nfunction that needs to be called in case the caller wants to register\nthe options.\n\nThis solution is also not perfect as it guards the common options to be\nregistered only once even if the function is called multiple times. This\nis to solve problems in unittests, ideally we should always call the\nfunction just once even in our testing suites.\n\nRelated-bug: #1968606\nChange-Id: Ic1532eb8de887ff1b1085206df11f53e22f7f524\nSigned-off-by: Jakub Libosvar <libosvar@redhat.com>\n""}, {'number': 9, 'created': '2022-04-14 18:54:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c2b6d61d63059c9b9ee211c6c68c70b93576f423', 'message': ""Don't register config options on imports\n\nImporting some modules lead to registering config options that may\ncollide with config options from a project that calls the import. This\npatch wraps the side effect that registers config options into a\nfunction that needs to be called in case the caller wants to register\nthe options.\n\nThis solution is also not perfect as it guards the common options to be\nregistered only once even if the function is called multiple times. This\nis to solve problems in unittests, ideally we should always call the\nfunction just once even in our testing suites.\n\nResolves-Bug: #1968606\nChange-Id: Ic1532eb8de887ff1b1085206df11f53e22f7f524\nSigned-off-by: Jakub Libosvar <libosvar@redhat.com>\n""}, {'number': 10, 'created': '2022-04-14 19:43:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f8a5671c2c729917517534d90da72298bed353a3', 'message': ""Don't register config options on imports\n\nImporting some modules lead to registering config options that may\ncollide with config options from a project that calls the import. This\npatch wraps the side effect that registers config options into a\nfunction that needs to be called in case the caller wants to register\nthe options.\n\nThis solution is also not perfect as it guards the common options to be\nregistered only once even if the function is called multiple times. This\nis to solve problems in unittests, ideally we should always call the\nfunction just once even in our testing suites.\n\nResolves-Bug: #1968606\nChange-Id: Ic1532eb8de887ff1b1085206df11f53e22f7f524\nSigned-off-by: Jakub Libosvar <libosvar@redhat.com>\n""}, {'number': 11, 'created': '2022-04-14 21:25:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c9c8bb7a6f896bf45f41157ef273ab949a1b42bd', 'message': ""Don't register config options on imports\n\nImporting some modules lead to registering config options that may\ncollide with config options from a project that calls the import. This\npatch wraps the side effect that registers config options into a\nfunction that needs to be called in case the caller wants to register\nthe options.\n\nThis solution is also not perfect as it guards the common options to be\nregistered only once even if the function is called multiple times. This\nis to solve problems in unittests, ideally we should always call the\nfunction just once even in our testing suites.\n\nResolves-Bug: #1968606\nChange-Id: Ic1532eb8de887ff1b1085206df11f53e22f7f524\nSigned-off-by: Jakub Libosvar <libosvar@redhat.com>\n""}, {'number': 12, 'created': '2022-04-18 15:23:48.000000000', 'files': ['neutron/plugins/ml2/drivers/openvswitch/agent/main.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py', 'neutron/cmd/ipset_cleanup.py', 'neutron/cmd/eventlet/usage_audit.py', 'neutron/tests/fullstack/agents/l3_agent.py', 'neutron/agent/l3_agent.py', 'neutron/cmd/destroy_patch_ports.py', 'neutron/server/__init__.py', 'neutron/cmd/sanitize_port_mac_addresses.py', 'neutron/cmd/sanity_check.py', 'neutron/cmd/ovn/neutron_ovn_db_sync_util.py', 'neutron/tests/fullstack/agents/dhcp_agent.py', 'neutron/agent/dhcp_agent.py', 'neutron/cmd/linuxbridge_cleanup.py', 'neutron/tests/functional/db/test_migrations.py', 'neutron/cmd/sanitize_port_binding_profile_allocation.py', 'neutron/plugins/ml2/drivers/linuxbridge/agent/linuxbridge_neutron_agent.py', 'neutron/db/migration/cli.py', 'neutron/debug/shell.py', 'neutron/services/metering/agents/metering_agent.py', 'neutron/tests/base.py', 'neutron/cmd/netns_cleanup.py', 'neutron/cmd/ovs_cleanup.py', 'neutron/agent/ovn/metadata_agent.py', 'neutron/agent/metadata_agent.py', 'neutron/common/config.py', 'neutron/cmd/status.py', 'neutron/plugins/ml2/drivers/mech_sriov/agent/sriov_nic_agent.py', 'neutron/tests/fullstack/servers/placement.py', 'neutron/agent/l3/keepalived_state_change.py', 'neutron/tests/fullstack/agents/ovs_agent.py', 'neutron/plugins/ml2/drivers/macvtap/agent/macvtap_neutron_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/4d3a274765a364f6f7b6bff163d6f7110bdbdbbe', 'message': ""Don't register config options on imports\n\nImporting some modules lead to registering config options that may\ncollide with config options from a project that calls the import. This\npatch wraps the side effect that registers config options into a\nfunction that needs to be called in case the caller wants to register\nthe options.\n\nThis solution is also not perfect as it guards the common options to be\nregistered only once even if the function is called multiple times. This\nis to solve problems in unittests, ideally we should always call the\nfunction just once even in our testing suites.\n\nResolves-Bug: #1968606\nChange-Id: Ic1532eb8de887ff1b1085206df11f53e22f7f524\nSigned-off-by: Jakub Libosvar <libosvar@redhat.com>\n""}]",18,837392,4d3a274765a364f6f7b6bff163d6f7110bdbdbbe,66,8,12,8655,,,0,"Don't register config options on imports

Importing some modules lead to registering config options that may
collide with config options from a project that calls the import. This
patch wraps the side effect that registers config options into a
function that needs to be called in case the caller wants to register
the options.

This solution is also not perfect as it guards the common options to be
registered only once even if the function is called multiple times. This
is to solve problems in unittests, ideally we should always call the
function just once even in our testing suites.

Resolves-Bug: #1968606
Change-Id: Ic1532eb8de887ff1b1085206df11f53e22f7f524
Signed-off-by: Jakub Libosvar <libosvar@redhat.com>
",git fetch https://review.opendev.org/openstack/neutron refs/changes/92/837392/10 && git format-patch -1 --stdout FETCH_HEAD,['neutron/common/config.py'],1,8e7073ed4c84a9d9e64c34b70e8796d777014eaf,bug/1968606," def register_common_config_options(): # Register the configuration options common_config.register_core_common_config_opts() # Ensure that the control exchange is set correctly oslo_messaging.set_transport_defaults(control_exchange='neutron') NOVA_CONF_SECTION = 'nova' ks_loading.register_auth_conf_options(cfg.CONF, NOVA_CONF_SECTION) ks_loading.register_session_conf_options(cfg.CONF, NOVA_CONF_SECTION) # Register the nova configuration options common_config.register_nova_opts() ks_loading.register_auth_conf_options(cfg.CONF, common_config.PLACEMENT_CONF_SECTION) ks_loading.register_session_conf_options(cfg.CONF, common_config.PLACEMENT_CONF_SECTION) # Register the placement configuration options common_config.register_placement_opts() logging.register_options(cfg.CONF) # Register the ironic configuration options ks_loading.register_auth_conf_options(cfg.CONF, common_config.IRONIC_CONF_SECTION) ks_loading.register_session_conf_options(cfg.CONF, common_config.IRONIC_CONF_SECTION) ks_loading.register_adapter_conf_options(cfg.CONF, common_config.IRONIC_CONF_SECTION) common_config.register_ironic_opts() register_common_config_options()","# Register the configuration options common_config.register_core_common_config_opts() # Ensure that the control exchange is set correctly oslo_messaging.set_transport_defaults(control_exchange='neutron') NOVA_CONF_SECTION = 'nova' ks_loading.register_auth_conf_options(cfg.CONF, NOVA_CONF_SECTION) ks_loading.register_session_conf_options(cfg.CONF, NOVA_CONF_SECTION) # Register the nova configuration options common_config.register_nova_opts() ks_loading.register_auth_conf_options(cfg.CONF, common_config.PLACEMENT_CONF_SECTION) ks_loading.register_session_conf_options(cfg.CONF, common_config.PLACEMENT_CONF_SECTION) # Register the placement configuration options common_config.register_placement_opts() logging.register_options(cfg.CONF) # Register the ironic configuration options ks_loading.register_auth_conf_options(cfg.CONF, common_config.IRONIC_CONF_SECTION) ks_loading.register_session_conf_options(cfg.CONF, common_config.IRONIC_CONF_SECTION) ks_loading.register_adapter_conf_options(cfg.CONF, common_config.IRONIC_CONF_SECTION) common_config.register_ironic_opts()",27,24
openstack%2Ftripleo-heat-templates~master~I75c386b5337136ba7f1a325b349d703191cb9737,openstack/tripleo-heat-templates,master,I75c386b5337136ba7f1a325b349d703191cb9737,[DNM] testing log_global_request_id,ABANDONED,2022-03-18 11:08:46.000000000,2022-04-19 07:29:49.000000000,,"[{'_account_id': 6926}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-03-18 11:08:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f0becf06adaec62b0ac9e1ae317c357cf72c4dc6', 'message': '[DNM] testing log_global_request_id\n\nDepends-on: https://review.opendev.org/834274\n\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\nChange-Id: I75c386b5337136ba7f1a325b349d703191cb9737\n'}, {'number': 2, 'created': '2022-03-22 09:41:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/703ea4e29c294eae48eb4da9f5162c3c6196b663', 'message': '[DNM] testing log_global_request_id\n\nDepends-on: https://review.opendev.org/834274\n\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\nChange-Id: I75c386b5337136ba7f1a325b349d703191cb9737\n'}, {'number': 3, 'created': '2022-03-22 16:01:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f84b91c7671d8353ff8d64ece30825bcb50fd91c', 'message': '[DNM] testing log_global_request_id\n\nDepends-on: https://review.opendev.org/834274\nDepends-on: https://review.opendev.org/c/openstack/ansible-role-collect-logs/+/834737\n\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\nChange-Id: I75c386b5337136ba7f1a325b349d703191cb9737\n'}, {'number': 4, 'created': '2022-03-23 11:04:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ebfd0020f21a169d850dd0510825955f84f3bd75', 'message': '[DNM] testing log_global_request_id\n\nDepends-on: https://review.opendev.org/834274\nDepends-on: https://review.opendev.org/834846\n\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\nChange-Id: I75c386b5337136ba7f1a325b349d703191cb9737\n'}, {'number': 5, 'created': '2022-04-06 13:03:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a4e5f88d4f5c83f277bf8d38f497475191341235', 'message': '[DNM] testing log_global_request_id\n\nDepends-on: https://review.opendev.org/834274\nDepends-on: https://review.opendev.org/834846\n\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\nChange-Id: I75c386b5337136ba7f1a325b349d703191cb9737\n'}, {'number': 6, 'created': '2022-04-07 08:08:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6aab6f11656e530bc7ed7d80f139c37342c355ed', 'message': '[DNM] testing log_global_request_id\n\nDepends-on: https://review.opendev.org/834274\nDepends-on: https://review.opendev.org/834846\n\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\nChange-Id: I75c386b5337136ba7f1a325b349d703191cb9737\n'}, {'number': 7, 'created': '2022-04-08 14:15:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1c73674603a56b9a9c7968c1e395c9fab0a73ffa', 'message': '[DNM] testing log_global_request_id\n\nDepends-on: https://review.opendev.org/834274\nDepends-on: https://review.opendev.org/834846\n\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\nChange-Id: I75c386b5337136ba7f1a325b349d703191cb9737\n'}, {'number': 8, 'created': '2022-04-14 08:53:37.000000000', 'files': ['ci/environments/scenario001-standalone.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ddd434aeef6d0dd4cffc35843b70ebc17d97ea9a', 'message': '[DNM] testing log_global_request_id\n\nDepends-on: https://review.opendev.org/834274\nDepends-on: https://review.opendev.org/834846\n\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\nChange-Id: I75c386b5337136ba7f1a325b349d703191cb9737\n'}]",16,834275,ddd434aeef6d0dd4cffc35843b70ebc17d97ea9a,62,3,8,6926,,,0,"[DNM] testing log_global_request_id

Depends-on: https://review.opendev.org/834274
Depends-on: https://review.opendev.org/834846

Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
Change-Id: I75c386b5337136ba7f1a325b349d703191cb9737
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/75/834275/8 && git format-patch -1 --stdout FETCH_HEAD,['ci/environments/multinode-containers.yaml'],1,f0becf06adaec62b0ac9e1ae317c357cf72c4dc6,fix-request_id, oslo::log::log_global_request_id: true,,1,0
openstack%2Foslo.privsep~master~Id49444ae4327fedcae38e4510b44a7019687ed52,openstack/oslo.privsep,master,Id49444ae4327fedcae38e4510b44a7019687ed52,Remove unnecessary unicode prefixes,ABANDONED,2022-04-19 06:54:35.000000000,2022-04-19 07:13:30.000000000,,[],"[{'number': 1, 'created': '2022-04-19 06:54:35.000000000', 'files': ['oslo_privsep/tests/test_comm.py', 'oslo_privsep/tests/test_daemon.py', 'doc/source/conf.py', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/oslo.privsep/commit/752b5f04f1b0f10b1553a32d07f0bb8f0a1fe36c', 'message': 'Remove unnecessary unicode prefixes\n\nAll strings are unicode by default in Python 3. No need to mark them as such.\n\nChange-Id: Id49444ae4327fedcae38e4510b44a7019687ed52\n'}]",0,838439,752b5f04f1b0f10b1553a32d07f0bb8f0a1fe36c,2,0,1,31412,,,0,"Remove unnecessary unicode prefixes

All strings are unicode by default in Python 3. No need to mark them as such.

Change-Id: Id49444ae4327fedcae38e4510b44a7019687ed52
",git fetch https://review.opendev.org/openstack/oslo.privsep refs/changes/39/838439/1 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_privsep/tests/test_comm.py', 'oslo_privsep/tests/test_daemon.py', 'doc/source/conf.py', 'releasenotes/source/conf.py']",4,752b5f04f1b0f10b1553a32d07f0bb8f0a1fe36c,,"# -*- coding: utf-8 -*- # Copyright (C) 2020 Red Hat, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or # implied. # See the License for the specific language governing permissions and # limitations under the License. # This file is execfile()d with the current directory set to its # containing dir. # # Note that not all possible configuration values are present in this # autogenerated file. # # All configuration values have a default; values that are commented out # serve to show the default. # If extensions (or modules to document with autodoc) are in another directory, # add these directories to sys.path here. If the directory is relative to the # documentation root, use os.path.abspath to make it absolute, like shown here. # sys.path.insert(0, os.path.abspath('.')) # -- General configuration ------------------------------------------------ # If your documentation needs a minimal Sphinx version, state it here. # needs_sphinx = '1.0' # Add any Sphinx extension module names here, as strings. They can be # extensions coming with Sphinx (named 'sphinx.ext.*') or your custom # ones. extensions = [ 'openstackdocstheme', 'reno.sphinxext', ] # openstackdocstheme options openstackdocs_repo_name = 'openstack/oslo.privsep' openstackdocs_bug_project = 'oslo.privsep' openstackdocs_bug_tag = '' # Add any paths that contain templates here, relative to this directory. templates_path = ['_templates'] # The suffix of source filenames. source_suffix = '.rst' # The encoding of source files. # source_encoding = 'utf-8-sig' # The master toctree document. master_doc = 'index' # General information about the project. copyright = '2016, oslo.privsep Developers' # Release notes do not need a version in the title, they span # multiple versions. # The full version, including alpha/beta/rc tags. release = '' # The short X.Y version. version = '' # The language for content autogenerated by Sphinx. Refer to documentation # for a list of supported languages. # language = None # There are two options for replacing |today|: either, you set today to some # non-false value, then it is used: # today = '' # Else, today_fmt is used as the format for a strftime call. # today_fmt = '%B %d, %Y' # List of patterns, relative to source directory, that match files and # directories to ignore when looking for source files. exclude_patterns = [] # The reST default role (used for this markup: `text`) to use for all # documents. # default_role = None # If true, '()' will be appended to :func: etc. cross-reference text. # add_function_parentheses = True # If true, the current module name will be prepended to all description # unit titles (such as .. function::). # add_module_names = True # If true, sectionauthor and moduleauthor directives will be shown in the # output. They are ignored by default. # show_authors = False # The name of the Pygments (syntax highlighting) style to use. pygments_style = 'native' # A list of ignored prefixes for module index sorting. # modindex_common_prefix = [] # If true, keep warnings as ""system message"" paragraphs in the built documents. # keep_warnings = False # -- Options for HTML output ---------------------------------------------- # The theme to use for HTML and HTML Help pages. See the documentation for # a list of builtin themes. html_theme = 'openstackdocs' # Theme options are theme-specific and customize the look and feel of a theme # further. For a list of options available for each theme, see the # documentation. # html_theme_options = {} # Add any paths that contain custom themes here, relative to this directory. # html_theme_path = [] # The name for this set of Sphinx documents. If None, it defaults to # ""<project> v<release> documentation"". # html_title = None # A shorter title for the navigation bar. Default is the same as html_title. # html_short_title = None # The name of an image file (relative to this directory) to place at the top # of the sidebar. # html_logo = None # The name of an image file (within the static path) to use as favicon of the # docs. This file should be a Windows icon file (.ico) being 16x16 or 32x32 # pixels large. # html_favicon = None # Add any paths that contain custom static files (such as style sheets) here, # relative to this directory. They are copied after the builtin static files, # so a file named ""default.css"" will overwrite the builtin ""default.css"". html_static_path = ['_static'] # Add any extra paths that contain custom files (such as robots.txt or # .htaccess) here, relative to this directory. These files are copied # directly to the root of the documentation. # html_extra_path = [] # If not '', a 'Last updated on:' timestamp is inserted at every page bottom, # using the given strftime format. # html_last_updated_fmt = '%b %d, %Y' # If true, SmartyPants will be used to convert quotes and dashes to # typographically correct entities. # html_use_smartypants = True # Custom sidebar templates, maps document names to template names. # html_sidebars = {} # Additional templates that should be rendered to pages, maps page names to # template names. # html_additional_pages = {} # If false, no module index is generated. # html_domain_indices = True # If false, no index is generated. # html_use_index = True # If true, the index is split into individual pages for each letter. # html_split_index = False # If true, links to the reST sources are added to the pages. # html_show_sourcelink = True # If true, ""Created using Sphinx"" is shown in the HTML footer. Default is True. # html_show_sphinx = True # If true, ""(C) Copyright ..."" is shown in the HTML footer. Default is True. # html_show_copyright = True # If true, an OpenSearch description file will be output, and all pages will # contain a <link> tag referring to it. The value of this option must be the # base URL from which the finished HTML is served. # html_use_opensearch = '' # This is the file name suffix for HTML files (e.g. "".xhtml""). # html_file_suffix = None # Output file base name for HTML help builder. htmlhelp_basename = 'oslo.privsepReleaseNotesDoc' # -- Options for LaTeX output --------------------------------------------- # Grouping the document tree into LaTeX files. List of tuples # (source start file, target name, title, # author, documentclass [howto, manual, or own class]). latex_documents = [ ('index', 'oslo.privsepReleaseNotes.tex', 'oslo.privsep Release Notes Documentation', 'oslo.privsep Developers', 'manual'), ] # The name of an image file (relative to this directory) to place at the top of # the title page. # latex_logo = None # For ""manual"" documents, if this is true, then toplevel headings are parts, # not chapters. # latex_use_parts = False # If true, show page references after internal links. # latex_show_pagerefs = False # If true, show URL addresses after external links. # latex_show_urls = False # Documents to append as an appendix to all manuals. # latex_appendices = [] # If false, no module index is generated. # latex_domain_indices = True # -- Options for manual page output --------------------------------------- # One entry per manual page. List of tuples # (source start file, name, description, authors, manual section). man_pages = [ ('index', 'oslo.privsepReleaseNotes', 'oslo.privsep Release Notes Documentation', ['oslo.privsep Developers'], 1) ] # If true, show URL addresses after external links. # man_show_urls = False # -- Options for Texinfo output ------------------------------------------- # Grouping the document tree into Texinfo files. List of tuples # (source start file, target name, title, author, # dir menu entry, description, category) texinfo_documents = [ ('index', 'oslo.privsepReleaseNotes', 'oslo.privsep Release Notes Documentation', 'oslo.privsep Developers', 'oslo.privsepReleaseNotes', 'OpenStack library for privilege separation.', 'Miscellaneous'), ] # Documents to append as an appendix to all manuals. # texinfo_appendices = [] # If false, no module index is generated. # texinfo_domain_indices = True # How to display URL addresses: 'footnote', 'no', or 'inline'. # texinfo_show_urls = 'footnote' # If true, do not generate a @detailmenu in the ""Top"" node's menu. # texinfo_no_detailmenu = False # -- Options for Internationalization output ------------------------------ locale_dirs = ['locale/'] ","# -*- coding: utf-8 -*- # Copyright (C) 2020 Red Hat, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or # implied. # See the License for the specific language governing permissions and # limitations under the License. # This file is execfile()d with the current directory set to its # containing dir. # # Note that not all possible configuration values are present in this # autogenerated file. # # All configuration values have a default; values that are commented out # serve to show the default. # If extensions (or modules to document with autodoc) are in another directory, # add these directories to sys.path here. If the directory is relative to the # documentation root, use os.path.abspath to make it absolute, like shown here. # sys.path.insert(0, os.path.abspath('.')) # -- General configuration ------------------------------------------------ # If your documentation needs a minimal Sphinx version, state it here. # needs_sphinx = '1.0' # Add any Sphinx extension module names here, as strings. They can be # extensions coming with Sphinx (named 'sphinx.ext.*') or your custom # ones. extensions = [ 'openstackdocstheme', 'reno.sphinxext', ] # openstackdocstheme options openstackdocs_repo_name = 'openstack/oslo.privsep' openstackdocs_bug_project = 'oslo.privsep' openstackdocs_bug_tag = '' # Add any paths that contain templates here, relative to this directory. templates_path = ['_templates'] # The suffix of source filenames. source_suffix = '.rst' # The encoding of source files. # source_encoding = 'utf-8-sig' # The master toctree document. master_doc = 'index' # General information about the project. copyright = u'2016, oslo.privsep Developers' # Release notes do not need a version in the title, they span # multiple versions. # The full version, including alpha/beta/rc tags. release = '' # The short X.Y version. version = '' # The language for content autogenerated by Sphinx. Refer to documentation # for a list of supported languages. # language = None # There are two options for replacing |today|: either, you set today to some # non-false value, then it is used: # today = '' # Else, today_fmt is used as the format for a strftime call. # today_fmt = '%B %d, %Y' # List of patterns, relative to source directory, that match files and # directories to ignore when looking for source files. exclude_patterns = [] # The reST default role (used for this markup: `text`) to use for all # documents. # default_role = None # If true, '()' will be appended to :func: etc. cross-reference text. # add_function_parentheses = True # If true, the current module name will be prepended to all description # unit titles (such as .. function::). # add_module_names = True # If true, sectionauthor and moduleauthor directives will be shown in the # output. They are ignored by default. # show_authors = False # The name of the Pygments (syntax highlighting) style to use. pygments_style = 'native' # A list of ignored prefixes for module index sorting. # modindex_common_prefix = [] # If true, keep warnings as ""system message"" paragraphs in the built documents. # keep_warnings = False # -- Options for HTML output ---------------------------------------------- # The theme to use for HTML and HTML Help pages. See the documentation for # a list of builtin themes. html_theme = 'openstackdocs' # Theme options are theme-specific and customize the look and feel of a theme # further. For a list of options available for each theme, see the # documentation. # html_theme_options = {} # Add any paths that contain custom themes here, relative to this directory. # html_theme_path = [] # The name for this set of Sphinx documents. If None, it defaults to # ""<project> v<release> documentation"". # html_title = None # A shorter title for the navigation bar. Default is the same as html_title. # html_short_title = None # The name of an image file (relative to this directory) to place at the top # of the sidebar. # html_logo = None # The name of an image file (within the static path) to use as favicon of the # docs. This file should be a Windows icon file (.ico) being 16x16 or 32x32 # pixels large. # html_favicon = None # Add any paths that contain custom static files (such as style sheets) here, # relative to this directory. They are copied after the builtin static files, # so a file named ""default.css"" will overwrite the builtin ""default.css"". html_static_path = ['_static'] # Add any extra paths that contain custom files (such as robots.txt or # .htaccess) here, relative to this directory. These files are copied # directly to the root of the documentation. # html_extra_path = [] # If not '', a 'Last updated on:' timestamp is inserted at every page bottom, # using the given strftime format. # html_last_updated_fmt = '%b %d, %Y' # If true, SmartyPants will be used to convert quotes and dashes to # typographically correct entities. # html_use_smartypants = True # Custom sidebar templates, maps document names to template names. # html_sidebars = {} # Additional templates that should be rendered to pages, maps page names to # template names. # html_additional_pages = {} # If false, no module index is generated. # html_domain_indices = True # If false, no index is generated. # html_use_index = True # If true, the index is split into individual pages for each letter. # html_split_index = False # If true, links to the reST sources are added to the pages. # html_show_sourcelink = True # If true, ""Created using Sphinx"" is shown in the HTML footer. Default is True. # html_show_sphinx = True # If true, ""(C) Copyright ..."" is shown in the HTML footer. Default is True. # html_show_copyright = True # If true, an OpenSearch description file will be output, and all pages will # contain a <link> tag referring to it. The value of this option must be the # base URL from which the finished HTML is served. # html_use_opensearch = '' # This is the file name suffix for HTML files (e.g. "".xhtml""). # html_file_suffix = None # Output file base name for HTML help builder. htmlhelp_basename = 'oslo.privsepReleaseNotesDoc' # -- Options for LaTeX output --------------------------------------------- # Grouping the document tree into LaTeX files. List of tuples # (source start file, target name, title, # author, documentclass [howto, manual, or own class]). latex_documents = [ ('index', 'oslo.privsepReleaseNotes.tex', u'oslo.privsep Release Notes Documentation', u'oslo.privsep Developers', 'manual'), ] # The name of an image file (relative to this directory) to place at the top of # the title page. # latex_logo = None # For ""manual"" documents, if this is true, then toplevel headings are parts, # not chapters. # latex_use_parts = False # If true, show page references after internal links. # latex_show_pagerefs = False # If true, show URL addresses after external links. # latex_show_urls = False # Documents to append as an appendix to all manuals. # latex_appendices = [] # If false, no module index is generated. # latex_domain_indices = True # -- Options for manual page output --------------------------------------- # One entry per manual page. List of tuples # (source start file, name, description, authors, manual section). man_pages = [ ('index', 'oslo.privsepReleaseNotes', u'oslo.privsep Release Notes Documentation', [u'oslo.privsep Developers'], 1) ] # If true, show URL addresses after external links. # man_show_urls = False # -- Options for Texinfo output ------------------------------------------- # Grouping the document tree into Texinfo files. List of tuples # (source start file, target name, title, author, # dir menu entry, description, category) texinfo_documents = [ ('index', 'oslo.privsepReleaseNotes', u'oslo.privsep Release Notes Documentation', u'oslo.privsep Developers', 'oslo.privsepReleaseNotes', 'OpenStack library for privilege separation.', 'Miscellaneous'), ] # Documents to append as an appendix to all manuals. # texinfo_appendices = [] # If false, no module index is generated. # texinfo_domain_indices = True # How to display URL addresses: 'footnote', 'no', or 'inline'. # texinfo_show_urls = 'footnote' # If true, do not generate a @detailmenu in the ""Top"" node's menu. # texinfo_no_detailmenu = False # -- Options for Internationalization output ------------------------------ locale_dirs = ['locale/']",715,715
openstack%2Fcharm-masakari~stable%2Fyoga~Idb85f276c9d2c87d4a449dee4c7bb21ed6290053,openstack/charm-masakari,stable/yoga,Idb85f276c9d2c87d4a449dee4c7bb21ed6290053,Updates for stable branch creation,MERGED,2022-04-15 10:52:22.000000000,2022-04-19 07:05:19.000000000,2022-04-19 07:05:19.000000000,"[{'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-15 10:52:22.000000000', 'files': ['.gitreview', 'test-requirements.txt', 'src/wheelhouse.txt', 'charmcraft.yaml', 'src/test-requirements.txt', 'src/build.lock'], 'web_link': 'https://opendev.org/openstack/charm-masakari/commit/6eec4d0073c6765736ebb647ebcb6f65422057b5', 'message': 'Updates for stable branch creation\n\n- Set default branch for git review/gerrit.\n- Switch tests to stable.\n- Switch to using stable charm-helpers branch.\n- Switch to using stable charm.openstack branch.\n- Switch to using stable zaza, zaza-openstack-tests\n  branch\n- (reactive charms) Add build.lock file\n\nChange-Id: Idb85f276c9d2c87d4a449dee4c7bb21ed6290053\n'}]",1,838145,6eec4d0073c6765736ebb647ebcb6f65422057b5,9,3,1,20870,,,0,"Updates for stable branch creation

- Set default branch for git review/gerrit.
- Switch tests to stable.
- Switch to using stable charm-helpers branch.
- Switch to using stable charm.openstack branch.
- Switch to using stable zaza, zaza-openstack-tests
  branch
- (reactive charms) Add build.lock file

Change-Id: Idb85f276c9d2c87d4a449dee4c7bb21ed6290053
",git fetch https://review.opendev.org/openstack/charm-masakari refs/changes/45/838145/1 && git format-patch -1 --stdout FETCH_HEAD,"['.gitreview', 'test-requirements.txt', 'src/wheelhouse.txt', 'charmcraft.yaml', 'src/test-requirements.txt', 'src/build.lock']",6,6eec4d0073c6765736ebb647ebcb6f65422057b5,charm-release-2204,"{ ""locks"": [ { ""type"": ""layer"", ""item"": ""layer:options"", ""url"": ""https://github.com/juju-solutions/layer-options.git"", ""vcs"": null, ""branch"": ""refs/heads/master"", ""commit"": ""fcdcea4e5de3e1556c24e6704607862d0ba00a56"" }, { ""type"": ""layer"", ""item"": ""layer:basic"", ""url"": ""https://github.com/juju-solutions/layer-basic.git"", ""vcs"": null, ""branch"": ""refs/heads/master"", ""commit"": ""fb767dcf0786d1d5364199bb3b40bdc86518b45b"" }, { ""type"": ""layer"", ""item"": ""layer:openstack"", ""url"": ""https://github.com/openstack/charm-layer-openstack"", ""vcs"": null, ""branch"": ""refs/heads/master"", ""commit"": ""e0f700eacb026235e1a04e7cbc28dfbe9d4e4520"" }, { ""type"": ""layer"", ""item"": ""layer:openstack-principle"", ""url"": ""https://github.com/openstack/charm-layer-openstack-principle"", ""vcs"": null, ""branch"": ""refs/heads/master"", ""commit"": ""2541283a7f9c3fa923c0fccd7257e217e11dadcd"" }, { ""type"": ""layer"", ""item"": ""layer:openstack-api"", ""url"": ""https://github.com/openstack/charm-layer-openstack-api"", ""vcs"": null, ""branch"": ""refs/heads/master"", ""commit"": ""34311a62e963d0ce903b7ddb9d70b8f071f71651"" }, { ""type"": ""layer"", ""item"": ""masakari"", ""url"": null, ""vcs"": null, ""branch"": ""refs/heads/master\nrefs/heads/stable/yoga\nrefs/heads/yoga-updates"", ""commit"": ""refs/heads/master\nrefs/heads/stable/yoga\nrefs/heads/yoga-updates"" }, { ""type"": ""layer"", ""item"": ""interface:tls-certificates"", ""url"": ""https://github.com/juju-solutions/interface-tls-certificates"", ""vcs"": null, ""branch"": ""refs/heads/master"", ""commit"": ""d9850016d930a6d507b9fd45e2598d327922b140"" }, { ""type"": ""layer"", ""item"": ""interface:mysql-shared"", ""url"": ""https://github.com/openstack/charm-interface-mysql-shared"", ""vcs"": null, ""branch"": ""refs/heads/master"", ""commit"": ""f90f8c6edce21e4da3a872f0f9d6761730ce025d"" }, { ""type"": ""layer"", ""item"": ""interface:rabbitmq"", ""url"": ""https://github.com/openstack/charm-interface-rabbitmq"", ""vcs"": null, ""branch"": ""refs/heads/master"", ""commit"": ""383121fc584d2d3bf9d233eba0d3708398a4c468"" }, { ""type"": ""layer"", ""item"": ""interface:keystone"", ""url"": ""https://github.com/openstack/charm-interface-keystone"", ""vcs"": null, ""branch"": ""refs/heads/master"", ""commit"": ""501af18b3036f5af92990bc39e750e76e393e5eb"" }, { ""type"": ""layer"", ""item"": ""interface:hacluster"", ""url"": ""https://github.com/openstack/charm-interface-hacluster.git"", ""vcs"": null, ""branch"": ""refs/heads/master"", ""commit"": ""2b714e90b1b8845ce7390bb1dad5a56a65437907"" }, { ""type"": ""layer"", ""item"": ""interface:openstack-ha"", ""url"": ""https://github.com/openstack/charm-interface-openstack-ha"", ""vcs"": null, ""branch"": ""refs/heads/master"", ""commit"": ""a3b00e5b5fd857d130698c5cfe4b918877f0ab80"" }, { ""type"": ""python_module"", ""package"": ""netifaces"", ""vcs"": null, ""version"": ""0.11.0"" }, { ""type"": ""python_module"", ""package"": ""Jinja2"", ""vcs"": null, ""version"": ""3.1.1"" }, { ""type"": ""python_module"", ""package"": ""setuptools_scm"", ""vcs"": null, ""version"": ""6.4.2"" }, { ""type"": ""python_module"", ""package"": ""PyYAML"", ""vcs"": null, ""version"": ""5.3.1"" }, { ""type"": ""python_module"", ""package"": ""psutil"", ""vcs"": null, ""version"": ""5.9.0"" }, { ""type"": ""python_module"", ""package"": ""charms.reactive"", ""vcs"": null, ""version"": ""1.5.0"" }, { ""type"": ""python_module"", ""package"": ""flit_core"", ""vcs"": null, ""version"": ""3.7.1"" }, { ""type"": ""python_module"", ""package"": ""setuptools"", ""vcs"": null, ""version"": ""62.1.0"" }, { ""type"": ""python_module"", ""package"": ""pyparsing"", ""vcs"": null, ""version"": ""3.0.8"" }, { ""type"": ""python_module"", ""package"": ""pip"", ""vcs"": null, ""version"": ""22.0.4"" }, { ""type"": ""python_module"", ""package"": ""poetry-core"", ""vcs"": null, ""version"": ""1.0.8"" }, { ""type"": ""python_module"", ""package"": ""netaddr"", ""vcs"": null, ""version"": ""0.7.19"" }, { ""type"": ""python_module"", ""package"": ""wheel"", ""vcs"": null, ""version"": ""0.37.1"" }, { ""type"": ""python_module"", ""package"": ""charms.openstack"", ""url"": ""git+https://github.com/openstack/charms.openstack.git"", ""branch"": ""refs/heads/master\nrefs/heads/stable/yoga"", ""version"": ""13ef220ce3529fa7b8e11c6e4c5b352d05b6f148"", ""vcs"": ""git"" }, { ""type"": ""python_module"", ""package"": ""six"", ""vcs"": null, ""version"": ""1.16.0"" }, { ""type"": ""python_module"", ""package"": ""pyaml"", ""vcs"": null, ""version"": ""21.10.1"" }, { ""type"": ""python_module"", ""package"": ""Tempita"", ""vcs"": null, ""version"": ""0.4"" }, { ""type"": ""python_module"", ""package"": ""pbr"", ""vcs"": null, ""version"": ""5.8.1"" }, { ""type"": ""python_module"", ""package"": ""dnspython"", ""vcs"": null, ""version"": ""2.2.1"" }, { ""type"": ""python_module"", ""package"": ""charmhelpers"", ""url"": ""git+https://github.com/juju/charm-helpers.git"", ""branch"": ""refs/heads/master\nrefs/heads/stable/yoga"", ""version"": ""971ac5117c96bd1cb4a6a520787e4509564da582"", ""vcs"": ""git"" }, { ""type"": ""python_module"", ""package"": ""packaging"", ""vcs"": null, ""version"": ""21.3"" }, { ""type"": ""python_module"", ""package"": ""MarkupSafe"", ""vcs"": null, ""version"": ""2.1.1"" }, { ""type"": ""python_module"", ""package"": ""tomli"", ""vcs"": null, ""version"": ""2.0.1"" } ] }",,256,10
openstack%2Fcharm-cinder~stable%2Fyoga~I84657c0435f5fbdb79fdb4b79ba64583ae27f133,openstack/charm-cinder,stable/yoga,I84657c0435f5fbdb79fdb4b79ba64583ae27f133,Updates for stable branch creation,MERGED,2022-04-15 10:43:22.000000000,2022-04-19 07:01:17.000000000,2022-04-19 07:01:17.000000000,"[{'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-15 10:43:22.000000000', 'files': ['.gitreview', 'test-requirements.txt', 'charm-helpers-hooks.yaml'], 'web_link': 'https://opendev.org/openstack/charm-cinder/commit/1d274f6c43d62c18f946543a8841239a087e5002', 'message': 'Updates for stable branch creation\n\n- Set default branch for git review/gerrit.\n- Switch tests to stable.\n- Switch to using stable charm-helpers branch.\n- Switch to using stable charm.openstack branch.\n- Switch to using stable zaza, zaza-openstack-tests\n  branch\n- (reactive charms) Add build.lock file\n\nChange-Id: I84657c0435f5fbdb79fdb4b79ba64583ae27f133\n'}]",1,838117,1d274f6c43d62c18f946543a8841239a087e5002,9,3,1,20870,,,0,"Updates for stable branch creation

- Set default branch for git review/gerrit.
- Switch tests to stable.
- Switch to using stable charm-helpers branch.
- Switch to using stable charm.openstack branch.
- Switch to using stable zaza, zaza-openstack-tests
  branch
- (reactive charms) Add build.lock file

Change-Id: I84657c0435f5fbdb79fdb4b79ba64583ae27f133
",git fetch https://review.opendev.org/openstack/charm-cinder refs/changes/17/838117/1 && git format-patch -1 --stdout FETCH_HEAD,"['.gitreview', 'test-requirements.txt', 'charm-helpers-hooks.yaml']",3,1d274f6c43d62c18f946543a8841239a087e5002,charm-release-2204,repo: https://github.com/juju/charm-helpers@stable/yoga,repo: https://github.com/juju/charm-helpers,5,3
openstack%2Fcharm-cinder-netapp~stable%2Fyoga~I5aa7bb9f5a62fd2c88abdef8b8758266a39a9be9,openstack/charm-cinder-netapp,stable/yoga,I5aa7bb9f5a62fd2c88abdef8b8758266a39a9be9,Updates for stable branch creation,MERGED,2022-04-15 10:44:30.000000000,2022-04-19 07:00:26.000000000,2022-04-19 07:00:26.000000000,"[{'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-15 10:44:30.000000000', 'files': ['.gitreview', 'test-requirements.txt', 'src/wheelhouse.txt', 'src/test-requirements.txt', 'src/build.lock'], 'web_link': 'https://opendev.org/openstack/charm-cinder-netapp/commit/5044b570eba7cd8280f5028b038fee75cb121728', 'message': 'Updates for stable branch creation\n\n- Set default branch for git review/gerrit.\n- Switch tests to stable.\n- Switch to using stable charm-helpers branch.\n- Switch to using stable charm.openstack branch.\n- Switch to using stable zaza, zaza-openstack-tests\n  branch\n- (reactive charms) Add build.lock file\n\nChange-Id: I5aa7bb9f5a62fd2c88abdef8b8758266a39a9be9\n'}]",1,838122,5044b570eba7cd8280f5028b038fee75cb121728,9,3,1,20870,,,0,"Updates for stable branch creation

- Set default branch for git review/gerrit.
- Switch tests to stable.
- Switch to using stable charm-helpers branch.
- Switch to using stable charm.openstack branch.
- Switch to using stable zaza, zaza-openstack-tests
  branch
- (reactive charms) Add build.lock file

Change-Id: I5aa7bb9f5a62fd2c88abdef8b8758266a39a9be9
",git fetch https://review.opendev.org/openstack/charm-cinder-netapp refs/changes/22/838122/1 && git format-patch -1 --stdout FETCH_HEAD,"['.gitreview', 'test-requirements.txt', 'src/wheelhouse.txt', 'src/test-requirements.txt', 'src/build.lock']",5,5044b570eba7cd8280f5028b038fee75cb121728,charm-release-2204,"{ ""locks"": [ { ""type"": ""layer"", ""item"": ""layer:options"", ""url"": ""https://github.com/juju-solutions/layer-options.git"", ""vcs"": null, ""branch"": ""refs/heads/master"", ""commit"": ""fcdcea4e5de3e1556c24e6704607862d0ba00a56"" }, { ""type"": ""layer"", ""item"": ""layer:basic"", ""url"": ""https://github.com/juju-solutions/layer-basic.git"", ""vcs"": null, ""branch"": ""refs/heads/master"", ""commit"": ""fb767dcf0786d1d5364199bb3b40bdc86518b45b"" }, { ""type"": ""layer"", ""item"": ""layer:openstack"", ""url"": ""https://github.com/openstack/charm-layer-openstack"", ""vcs"": null, ""branch"": ""refs/heads/master"", ""commit"": ""e0f700eacb026235e1a04e7cbc28dfbe9d4e4520"" }, { ""type"": ""layer"", ""item"": ""cinder-netapp"", ""url"": null, ""vcs"": null, ""branch"": ""refs/heads/stable/yoga\nrefs/heads/yoga-updates"", ""commit"": ""refs/heads/stable/yoga\nrefs/heads/yoga-updates"" }, { ""type"": ""layer"", ""item"": ""interface:tls-certificates"", ""url"": ""https://github.com/juju-solutions/interface-tls-certificates"", ""vcs"": null, ""branch"": ""refs/heads/master"", ""commit"": ""d9850016d930a6d507b9fd45e2598d327922b140"" }, { ""type"": ""layer"", ""item"": ""interface:cinder-backend"", ""url"": ""https://github.com/openstack/charm-interface-cinder-backend.git"", ""vcs"": null, ""branch"": ""refs/heads/master"", ""commit"": ""baa1b4f61ff610caf60a7b13841e8d68ce3842d1"" }, { ""type"": ""python_module"", ""package"": ""pbr"", ""vcs"": null, ""version"": ""5.8.1"" }, { ""type"": ""python_module"", ""package"": ""netaddr"", ""vcs"": null, ""version"": ""0.7.19"" }, { ""type"": ""python_module"", ""package"": ""charmhelpers"", ""url"": ""git+https://github.com/juju/charm-helpers.git"", ""branch"": ""refs/heads/stable/yoga"", ""version"": ""971ac5117c96bd1cb4a6a520787e4509564da582"", ""vcs"": ""git"" }, { ""type"": ""python_module"", ""package"": ""dnspython"", ""vcs"": null, ""version"": ""1.16.0"" }, { ""type"": ""python_module"", ""package"": ""MarkupSafe"", ""vcs"": null, ""version"": ""2.1.1"" }, { ""type"": ""python_module"", ""package"": ""setuptools"", ""vcs"": null, ""version"": ""62.1.0"" }, { ""type"": ""python_module"", ""package"": ""charms.openstack"", ""url"": ""git+https://github.com/openstack/charms.openstack.git"", ""branch"": ""refs/heads/master"", ""version"": ""13ef220ce3529fa7b8e11c6e4c5b352d05b6f148"", ""vcs"": ""git"" }, { ""type"": ""python_module"", ""package"": ""pip"", ""vcs"": null, ""version"": ""22.0.4"" }, { ""type"": ""python_module"", ""package"": ""psutil"", ""vcs"": null, ""version"": ""5.9.0"" }, { ""type"": ""python_module"", ""package"": ""PyYAML"", ""vcs"": null, ""version"": ""5.3.1"" }, { ""type"": ""python_module"", ""package"": ""setuptools_scm"", ""vcs"": null, ""version"": ""6.4.2"" }, { ""type"": ""python_module"", ""package"": ""Tempita"", ""vcs"": null, ""version"": ""0.4"" }, { ""type"": ""python_module"", ""package"": ""Jinja2"", ""vcs"": null, ""version"": ""3.1.1"" }, { ""type"": ""python_module"", ""package"": ""tomli"", ""vcs"": null, ""version"": ""2.0.1"" }, { ""type"": ""python_module"", ""package"": ""packaging"", ""vcs"": null, ""version"": ""21.3"" }, { ""type"": ""python_module"", ""package"": ""charms.reactive"", ""vcs"": null, ""version"": ""1.5.0"" }, { ""type"": ""python_module"", ""package"": ""flit_core"", ""vcs"": null, ""version"": ""3.7.1"" }, { ""type"": ""python_module"", ""package"": ""netifaces"", ""vcs"": null, ""version"": ""0.11.0"" }, { ""type"": ""python_module"", ""package"": ""pyaml"", ""vcs"": null, ""version"": ""21.10.1"" }, { ""type"": ""python_module"", ""package"": ""wheel"", ""vcs"": null, ""version"": ""0.37.1"" }, { ""type"": ""python_module"", ""package"": ""pyparsing"", ""vcs"": null, ""version"": ""3.0.8"" } ] }",,188,4
openstack%2Fneutron~master~I973f8896248c8222031c53343bb53ce48254da74,openstack/neutron,master,I973f8896248c8222031c53343bb53ce48254da74,Handle properly InvalidScope exceptions to not return error 500,MERGED,2022-01-28 11:10:18.000000000,2022-04-19 06:44:02.000000000,2022-04-19 06:42:29.000000000,"[{'_account_id': 841}, {'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 8556}, {'_account_id': 9845}, {'_account_id': 13861}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 32029}]","[{'number': 1, 'created': '2022-01-28 11:10:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1a6e5c342b9aba78ed66ef638535da1091aed479', 'message': 'Handle properly InvalidScope exceptions to not return error 500\n\nWhen new default policy rules and scope enforcement are enabled, Neutron\nneeds to handle properly not only PolicyNotAuthorized exception from\noslo_policy module but also InvalidScope exception.\nThis patch adds handling of that exception to the neutron policy\nmodules.\n\nCloses-Bug: #1959333\nChange-Id: I973f8896248c8222031c53343bb53ce48254da74\n'}, {'number': 2, 'created': '2022-03-17 19:17:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e543cb968b40b4c39e2caf8938290ec395168c91', 'message': ""Handle properly InvalidScope exceptions to not return error 500\n\nWhen new default policy rules and scope enforcement are enabled, Neutron\nneeds to handle properly not only PolicyNotAuthorized exception from\noslo_policy module but also InvalidScope exception.\nThis patch adds handling of that exception to the neutron policy\nmodules.\n\nIn the check() method from the neutron.policy module we are calling\nENFORCER.enforce() method with do_raise=False which means that\nPolicyNotAuthorized isn't rasised. Unfortunately it seems that there is\nbug in oslo.policy module and InvalidScope is raised even with\ndo_raise=False.\nFor now, lets workaround it in Neutron by properly handling InvalidScope\nexception in the check() method.\nThis workaround can be cleaned when bug [1] will be fixed in\noslo.policy.\n\n[1] https://bugs.launchpad.net/oslo.policy/+bug/1965315\n\nCloses-Bug: #1959333\nChange-Id: I973f8896248c8222031c53343bb53ce48254da74\n""}, {'number': 3, 'created': '2022-03-22 08:44:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7d6f1e142a1989e830d1dee4246c0188ed501c91', 'message': ""Handle properly InvalidScope exceptions to not return error 500\n\nWhen new default policy rules and scope enforcement are enabled, Neutron\nneeds to handle properly not only PolicyNotAuthorized exception from\noslo_policy module but also InvalidScope exception.\nThis patch adds handling of that exception to the neutron policy\nmodules.\n\nIn the check() method from the neutron.policy module we are calling\nENFORCER.enforce() method with do_raise=False which means that\nPolicyNotAuthorized isn't rasised. Unfortunately it seems that there is\nbug in oslo.policy module and InvalidScope is raised even with\ndo_raise=False.\nFor now, lets workaround it in Neutron by properly handling InvalidScope\nexception in the check() method.\nThis workaround can be cleaned when bug [1] will be fixed in\noslo.policy.\n\n[1] https://bugs.launchpad.net/oslo.policy/+bug/1965315\n\nCloses-Bug: #1959333\nChange-Id: I973f8896248c8222031c53343bb53ce48254da74\n""}, {'number': 4, 'created': '2022-03-25 13:49:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7ae24232d008d2f0c882dc8ba2a5a563d41c9c16', 'message': ""Handle properly InvalidScope exceptions to not return error 500\n\nWhen new default policy rules and scope enforcement are enabled, Neutron\nneeds to handle properly not only PolicyNotAuthorized exception from\noslo_policy module but also InvalidScope exception.\nThis patch adds handling of that exception to the neutron policy\nmodules.\n\nIn the check() method from the neutron.policy module we are calling\nENFORCER.enforce() method with do_raise=False which means that\nPolicyNotAuthorized isn't rasised. Unfortunately it seems that there is\nbug in oslo.policy module and InvalidScope is raised even with\ndo_raise=False.\nFor now, lets workaround it in Neutron by properly handling InvalidScope\nexception in the check() method.\nThis workaround can be cleaned when bug [1] will be fixed in\noslo.policy.\n\n[1] https://bugs.launchpad.net/oslo.policy/+bug/1965315\n\nPartial-Bug: #1959333\nChange-Id: I973f8896248c8222031c53343bb53ce48254da74\n""}, {'number': 5, 'created': '2022-03-30 14:52:37.000000000', 'files': ['neutron/api/v2/base.py', 'neutron/tests/unit/test_policy.py', 'neutron/pecan_wsgi/hooks/policy_enforcement.py', 'neutron/policy.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/51d1899bacb1e5d625f201380035db634da2e27c', 'message': ""Handle properly InvalidScope exceptions to not return error 500\n\nWhen new default policy rules and scope enforcement are enabled, Neutron\nneeds to handle properly not only PolicyNotAuthorized exception from\noslo_policy module but also InvalidScope exception.\nThis patch adds handling of that exception to the neutron policy\nmodules.\n\nIn the check() method from the neutron.policy module we are calling\nENFORCER.enforce() method with do_raise=False which means that\nPolicyNotAuthorized isn't rasised. Unfortunately it seems that there is\nbug in oslo.policy module and InvalidScope is raised even with\ndo_raise=False.\nFor now, lets workaround it in Neutron by properly handling InvalidScope\nexception in the check() method.\nThis workaround can be cleaned when bug [1] will be fixed in\noslo.policy.\n\n[1] https://bugs.launchpad.net/oslo.policy/+bug/1965315\n\nPartial-Bug: #1959333\nChange-Id: I973f8896248c8222031c53343bb53ce48254da74\n""}]",24,826872,51d1899bacb1e5d625f201380035db634da2e27c,76,9,5,11975,,,0,"Handle properly InvalidScope exceptions to not return error 500

When new default policy rules and scope enforcement are enabled, Neutron
needs to handle properly not only PolicyNotAuthorized exception from
oslo_policy module but also InvalidScope exception.
This patch adds handling of that exception to the neutron policy
modules.

In the check() method from the neutron.policy module we are calling
ENFORCER.enforce() method with do_raise=False which means that
PolicyNotAuthorized isn't rasised. Unfortunately it seems that there is
bug in oslo.policy module and InvalidScope is raised even with
do_raise=False.
For now, lets workaround it in Neutron by properly handling InvalidScope
exception in the check() method.
This workaround can be cleaned when bug [1] will be fixed in
oslo.policy.

[1] https://bugs.launchpad.net/oslo.policy/+bug/1965315

Partial-Bug: #1959333
Change-Id: I973f8896248c8222031c53343bb53ce48254da74
",git fetch https://review.opendev.org/openstack/neutron refs/changes/72/826872/5 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/test_policy.py', 'neutron/pecan_wsgi/hooks/policy_enforcement.py', 'neutron/policy.py']",3,1a6e5c342b9aba78ed66ef638535da1091aed479,bug/1959333," except (policy.PolicyNotAuthorized, policy.InvalidScope):", except policy.PolicyNotAuthorized:,80,5
openstack%2Fironic~master~Iaf976a4c9e04b9a19acd7e2701fb422009b02d0e,openstack/ironic,master,Iaf976a4c9e04b9a19acd7e2701fb422009b02d0e,fix typo: container-format is bare,MERGED,2022-04-08 21:31:27.000000000,2022-04-19 06:40:58.000000000,2022-04-19 06:39:22.000000000,"[{'_account_id': 10342}, {'_account_id': 11076}, {'_account_id': 22348}, {'_account_id': 32029}]","[{'number': 1, 'created': '2022-04-08 21:31:27.000000000', 'files': ['doc/source/admin/anaconda-deploy-interface.rst'], 'web_link': 'https://opendev.org/openstack/ironic/commit/da4d6fda0f91e17358302cfd5f393a666c00542f', 'message': ""fix typo: container-format is bare\n\nWhen adding an image to glance for use with anaconda deploy\ninterface, the tarball being added should be in the 'bare'\ncontainer-format, not 'compressed'.\n\nChange-Id: Iaf976a4c9e04b9a19acd7e2701fb422009b02d0e\n""}]",1,837179,da4d6fda0f91e17358302cfd5f393a666c00542f,10,4,1,6618,,,0,"fix typo: container-format is bare

When adding an image to glance for use with anaconda deploy
interface, the tarball being added should be in the 'bare'
container-format, not 'compressed'.

Change-Id: Iaf976a4c9e04b9a19acd7e2701fb422009b02d0e
",git fetch https://review.opendev.org/openstack/ironic refs/changes/79/837179/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/anaconda-deploy-interface.rst'],1,da4d6fda0f91e17358302cfd5f393a666c00542f,anaconda-bare, openstack image create --file ./os-image.tar.gz \ --container-format bare --disk-format raw --shared \, openstack image create --file ./os-image.tar.gz --container-format \ compressed --disk-format raw --shared \,2,2
openstack%2Faodh~master~I64a984fe64c8fe69856980df9e28a67f5eb29b58,openstack/aodh,master,I64a984fe64c8fe69856980df9e28a67f5eb29b58,Bump minimum version of gnocchiclient for aggregats API support,MERGED,2022-04-18 03:52:08.000000000,2022-04-19 06:19:03.000000000,2022-04-19 06:17:39.000000000,"[{'_account_id': 4264}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-18 03:52:08.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/aodh/commit/6648f6b684a09efd5598e5a709223992bdebfa12', 'message': 'Bump minimum version of gnocchiclient for aggregats API support\n\nThe commit 74eadfbd58359b7ebe9e1e40ae6b6ff245146bb8 introduced usage\nof aggregates API, which is available since gnocchiclient 6.0.0 .\n\nThis change bumps the minimum version to ensure the API is available.\n\nChange-Id: I64a984fe64c8fe69856980df9e28a67f5eb29b58\n'}]",1,838271,6648f6b684a09efd5598e5a709223992bdebfa12,7,2,1,9816,,,0,"Bump minimum version of gnocchiclient for aggregats API support

The commit 74eadfbd58359b7ebe9e1e40ae6b6ff245146bb8 introduced usage
of aggregates API, which is available since gnocchiclient 6.0.0 .

This change bumps the minimum version to ensure the API is available.

Change-Id: I64a984fe64c8fe69856980df9e28a67f5eb29b58
",git fetch https://review.opendev.org/openstack/aodh refs/changes/71/838271/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,6648f6b684a09efd5598e5a709223992bdebfa12,,gnocchiclient>=6.0.0 # Apache-2.0,gnocchiclient>=3.1.0 # Apache-2.0,1,1
openstack%2Fskyline-console~master~I08c44bd9af3258a3338902dcd49c78b954e06c49,openstack/skyline-console,master,I08c44bd9af3258a3338902dcd49c78b954e06c49,refactor: update error handle in request,MERGED,2022-04-18 06:49:03.000000000,2022-04-19 05:57:54.000000000,2022-04-19 05:57:54.000000000,"[{'_account_id': 22348}, {'_account_id': 28706}, {'_account_id': 33689}]","[{'number': 1, 'created': '2022-04-18 06:49:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/95404ccb8fd7c81f854913f0db07643d6eea8fef', 'message': 'refactor: update error handle in request\n\nMake a separate function for request error reporting to better handle various error conditions\n\nChange-Id: I08c44bd9af3258a3338902dcd49c78b954e06c49\n'}, {'number': 2, 'created': '2022-04-18 06:50:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/fcf3fd11980808c96009e54c753b7642c1936c15', 'message': 'refactor: update error handle in request\n\nMake a separate function for request error reporting to better handle various error conditions\n\nChange-Id: I08c44bd9af3258a3338902dcd49c78b954e06c49\n'}, {'number': 3, 'created': '2022-04-18 11:37:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/e5bd06a13c9ee8f0040aa00b2305a9e2879b0bb9', 'message': 'refactor: update error handle in request\n\nMake a separate function for request error reporting to better handle various error conditions\n\nChange-Id: I08c44bd9af3258a3338902dcd49c78b954e06c49\n'}, {'number': 4, 'created': '2022-04-19 02:30:23.000000000', 'files': ['test/e2e/integration/pages/identity/project.spec.js', 'src/client/client/request.js', 'test/e2e/integration/pages/identity/user.spec.js'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/12adfbf3807e0a6c8e79137176d86f469b4f6d2d', 'message': 'refactor: update error handle in request\n\nMake a separate function for request error reporting to better handle various error conditions\n\nChange-Id: I08c44bd9af3258a3338902dcd49c78b954e06c49\n'}]",2,838275,12adfbf3807e0a6c8e79137176d86f469b4f6d2d,20,3,4,30434,,,0,"refactor: update error handle in request

Make a separate function for request error reporting to better handle various error conditions

Change-Id: I08c44bd9af3258a3338902dcd49c78b954e06c49
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/75/838275/2 && git format-patch -1 --stdout FETCH_HEAD,['src/client/client/request.js'],1,95404ccb8fd7c81f854913f0db07643d6eea8fef,master2, handleError(error) { const { response } = error; if (response) { const { status } = response; if (status === 401) { const currentPath = window.location.pathname; if (currentPath.indexOf('login') < 0) { this.goToLoginPage(currentPath); } } } } this.handleError({ response }); this.handleError(error);, if (error.response) { const { status } = error.response; if (status === 401) { const currentPath = window.location.pathname; if (currentPath.indexOf('login') < 0) { this.goToLoginPage(currentPath); } } },15,9
openstack%2Fdevstack~master~I01c8e5e0e88d0dcfe778f19548a2e268406ef6bf,openstack/devstack,master,I01c8e5e0e88d0dcfe778f19548a2e268406ef6bf,Add OpenStack two nodes nodeset for Centos 9,MERGED,2022-04-06 15:23:08.000000000,2022-04-19 05:50:19.000000000,2022-04-19 05:48:02.000000000,"[{'_account_id': 7118}, {'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-06 15:23:08.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/devstack/commit/f4a703661ebea05690fadf93fd13df6e54a49b59', 'message': 'Add OpenStack two nodes nodeset for Centos 9\n\nChange-Id: I01c8e5e0e88d0dcfe778f19548a2e268406ef6bf\n'}]",1,836841,f4a703661ebea05690fadf93fd13df6e54a49b59,8,3,1,34120,,,0,"Add OpenStack two nodes nodeset for Centos 9

Change-Id: I01c8e5e0e88d0dcfe778f19548a2e268406ef6bf
",git fetch https://review.opendev.org/openstack/devstack refs/changes/41/836841/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,f4a703661ebea05690fadf93fd13df6e54a49b59,add-centos9-nodeset, name: openstack-two-node-centos-9-stream nodes: - name: controller label: centos-9-stream - name: compute1 label: centos-9-stream groups: # Node where tests are executed and test results collected - name: tempest nodes: - controller # Nodes running the compute service - name: compute nodes: - controller - compute1 # Nodes that are not the controller - name: subnode nodes: - compute1 # Switch node for multinode networking setup - name: switch nodes: - controller # Peer nodes for multinode networking setup - name: peers nodes: - compute1 - nodeset:,,30,0
openstack%2Fdiskimage-builder~master~I19c15a38fb3cf4a3a9860d28c59fe237fbaa107f,openstack/diskimage-builder,master,I19c15a38fb3cf4a3a9860d28c59fe237fbaa107f,[DNM] RDO third party check job checking,ABANDONED,2022-02-23 05:57:14.000000000,2022-04-19 05:32:34.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-02-23 05:57:14.000000000', 'files': ['diskimage_builder/elements/centos/environment.d/10-centos-distro-name.bash'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/3e4a650a6be9307c8c01c8d150e16dab97da2858', 'message': '[DNM] RDO third party check job checking\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I19c15a38fb3cf4a3a9860d28c59fe237fbaa107f\n'}]",0,830550,3e4a650a6be9307c8c01c8d150e16dab97da2858,5,1,1,12393,,,0,"[DNM] RDO third party check job checking

Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
Change-Id: I19c15a38fb3cf4a3a9860d28c59fe237fbaa107f
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/50/830550/1 && git format-patch -1 --stdout FETCH_HEAD,['diskimage_builder/elements/centos/environment.d/10-centos-distro-name.bash'],1,3e4a650a6be9307c8c01c8d150e16dab97da2858,dnm,export hello=hello,,1,0
openstack%2Ftripleo-ci~master~I40381b67e217d79b21bca98dd6efe55f0127057b,openstack/tripleo-ci,master,I40381b67e217d79b21bca98dd6efe55f0127057b,[DNM] checking container build,ABANDONED,2022-04-06 13:17:23.000000000,2022-04-19 05:32:31.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-04-06 13:17:23.000000000', 'files': ['roles/build-containers/tasks/main.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/076a129c18004c9b330f13837157d236829dc95a', 'message': '[DNM] checking container build\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I40381b67e217d79b21bca98dd6efe55f0127057b\n'}]",0,836828,076a129c18004c9b330f13837157d236829dc95a,4,2,1,12393,,,0,"[DNM] checking container build

Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
Change-Id: I40381b67e217d79b21bca98dd6efe55f0127057b
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/28/836828/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/build-containers/tasks/main.yaml'],1,076a129c18004c9b330f13837157d236829dc95a,dnm,# FIXME,,1,0
openstack%2Fvalidations-common~stable%2F1.6~I015eeb20a3538864b0c7ecb134d5dd7e79a40922,openstack/validations-common,stable/1.6,I015eeb20a3538864b0c7ecb134d5dd7e79a40922,[DNM] validations-lib stable/1.6 build test packages testing,ABANDONED,2022-04-12 08:43:11.000000000,2022-04-19 05:32:27.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-04-12 08:43:11.000000000', 'files': ['validations_common/__init__.py'], 'web_link': 'https://opendev.org/openstack/validations-common/commit/84096eda11a9e692055072453a4cf0251806d55a', 'message': '[DNM] validations-lib stable/1.6 build test packages testing\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I015eeb20a3538864b0c7ecb134d5dd7e79a40922\n'}]",0,837500,84096eda11a9e692055072453a4cf0251806d55a,3,1,1,12393,,,0,"[DNM] validations-lib stable/1.6 build test packages testing

Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
Change-Id: I015eeb20a3538864b0c7ecb134d5dd7e79a40922
",git fetch https://review.opendev.org/openstack/validations-common refs/changes/00/837500/1 && git format-patch -1 --stdout FETCH_HEAD,['validations_common/__init__.py'],1,84096eda11a9e692055072453a4cf0251806d55a,,#,,1,0
openstack%2Ftripleo-quickstart~master~I0233b07d047060994cdbd405d8aa364e544ce01f,openstack/tripleo-quickstart,master,I0233b07d047060994cdbd405d8aa364e544ce01f,[DNM] undercloud upgrade,ABANDONED,2022-04-12 05:30:23.000000000,2022-04-19 05:32:24.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-04-12 05:30:23.000000000', 'files': ['quickstart.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/34f8fcb4a77134fe3c74dad34c781d50f35c6289', 'message': '[DNM] undercloud upgrade\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/836596\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I0233b07d047060994cdbd405d8aa364e544ce01f\n'}]",1,837455,34f8fcb4a77134fe3c74dad34c781d50f35c6289,11,2,1,12393,,,0,"[DNM] undercloud upgrade

Depends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/836596

Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
Change-Id: I0233b07d047060994cdbd405d8aa364e544ce01f
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/55/837455/1 && git format-patch -1 --stdout FETCH_HEAD,['quickstart.sh'],1,34f8fcb4a77134fe3c74dad34c781d50f35c6289,dnm,,,1,0
