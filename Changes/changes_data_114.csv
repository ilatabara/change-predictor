id,project,branch,change_id,subject,status,created,updated,submitted,reviewers,revisions,total_comment_count,number,current_revision,discussion_messages_count,reviewers_count,revisions_count,owner_account_id,owner_name,owner_username,is_owner_bot,commit_message,git_command,changed_files,files_count,commit_id,topic,added_lines,deleted_lines,insertions,deletions
openstack%2Fbarbican~stable%2Fxena~I1724152839f0f5850f8d32d40b36d1670c0ad996,openstack/barbican,stable/xena,I1724152839f0f5850f8d32d40b36d1670c0ad996,Fix container consumers rbac policy,MERGED,2022-02-08 21:55:40.000000000,2022-02-09 14:41:55.000000000,2022-02-09 14:28:49.000000000,"[{'_account_id': 7973}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-08 21:55:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/5d80dcea41c4fd47767917c0355ff68d2807c00a', 'message': 'Fix container consumers rbac policy\n\nThis patch modifies the Consumer controller to enable the use of\nownership information in policy checks. e.g. policies that use a target\ncontainer:\n\n   project_id:%(target.container.project_id)\n\nStory: 2009664\nTask: 43872\n\nDepends-On: I8698fc7a9ac849b8c24adfe824ca44dd3e42b999\nChange-Id: I1724152839f0f5850f8d32d40b36d1670c0ad996\n(cherry picked from commit 960159332864740cfbdaeb339ddbaae48238a6d2)\n'}, {'number': 2, 'created': '2022-02-08 21:56:18.000000000', 'files': ['barbican/api/controllers/acls.py', 'barbican/api/controllers/orders.py', 'barbican/api/controllers/transportkeys.py', 'barbican/api/controllers/secretmeta.py', 'barbican/api/controllers/secretstores.py', 'releasenotes/notes/fix-story-2009664-042ef282c0dd6b6a.yaml', 'barbican/api/controllers/consumers.py', 'barbican/api/controllers/containers.py', 'barbican/api/controllers/quotas.py', 'barbican/api/controllers/secrets.py', 'barbican/common/policies/consumers.py', 'barbican/tests/api/test_resources_policy.py', 'barbican/api/controllers/__init__.py', 'functionaltests/api/v1/functional/test_acls.py'], 'web_link': 'https://opendev.org/openstack/barbican/commit/6a5ab85f4103e95251a936155ea83da844032149', 'message': 'Fix container consumers rbac policy\n\nThis patch modifies the Consumer controller to enable the use of\nownership information in policy checks. e.g. policies that use a target\ncontainer:\n\n   project_id:%(target.container.project_id)\n\nStory: 2009664\nTask: 43873\n\nDepends-On: I8698fc7a9ac849b8c24adfe824ca44dd3e42b999\nChange-Id: I1724152839f0f5850f8d32d40b36d1670c0ad996\n(cherry picked from commit 960159332864740cfbdaeb339ddbaae48238a6d2)\n'}]",0,828393,6a5ab85f4103e95251a936155ea83da844032149,8,2,2,7973,,,0,"Fix container consumers rbac policy

This patch modifies the Consumer controller to enable the use of
ownership information in policy checks. e.g. policies that use a target
container:

   project_id:%(target.container.project_id)

Story: 2009664
Task: 43873

Depends-On: I8698fc7a9ac849b8c24adfe824ca44dd3e42b999
Change-Id: I1724152839f0f5850f8d32d40b36d1670c0ad996
(cherry picked from commit 960159332864740cfbdaeb339ddbaae48238a6d2)
",git fetch https://review.opendev.org/openstack/barbican refs/changes/93/828393/1 && git format-patch -1 --stdout FETCH_HEAD,"['barbican/api/controllers/acls.py', 'barbican/api/controllers/orders.py', 'barbican/api/controllers/transportkeys.py', 'barbican/api/controllers/secretmeta.py', 'barbican/api/controllers/secretstores.py', 'releasenotes/notes/fix-story-2009664-042ef282c0dd6b6a.yaml', 'barbican/api/controllers/consumers.py', 'barbican/api/controllers/containers.py', 'barbican/api/controllers/quotas.py', 'barbican/api/controllers/secrets.py', 'barbican/common/policies/consumers.py', 'barbican/tests/api/test_resources_policy.py', 'barbican/api/controllers/__init__.py', 'functionaltests/api/v1/functional/test_acls.py']",14,5d80dcea41c4fd47767917c0355ff68d2807c00a,secure-rbac-stable/xena," 'with_creator_a': {'user': creator_a, 'expected_return': 200}, 'with_observer_a': {'user': observer_a, 'expected_return': 200}, 'with_auditor_a': {'user': auditor_a, 'expected_return': 200}, # the consumer being deleted is owned by project a, so attempts # to remove it with users from project b below should fail 'with_creator_a': {'user': creator_a, 'expected_return': 200}, 'with_observer_a': {'user': observer_a, 'expected_return': 200}, 'with_auditor_a': {'user': auditor_a, 'expected_return': 200}, 'with_observer_b': {'user': observer_b, 'expected_return': 200}, """"""Test DELETE /v1/containers/{container-id}/consumers Test default policy for deleting a consumer set by admin_a from a private container owned by creator_a. Each user in the data set is added to the ACL and then used to delete the consumer set by admin_a. """""" """"""Test POST /v1/containers/{container_id}/consumers Test default policy for adding consumers to a container owned by creator_a and set to private. Each user in the data set is added to the ACL and then used to POST a new consumer. """""""," 'with_creator_a': {'user': creator_a, 'expected_return': 403}, 'with_observer_a': {'user': observer_a, 'expected_return': 403}, 'with_auditor_a': {'user': auditor_a, 'expected_return': 403}, 'with_creator_a': {'user': creator_a, 'expected_return': 403}, 'with_observer_a': {'user': observer_a, 'expected_return': 403}, 'with_auditor_a': {'user': auditor_a, 'expected_return': 403}, 'with_observer_b': {'user': observer_b, 'expected_return': 403}, """"""Acl access will not allow you to delete a consumer"""""" """"""Acl access will not allow you to add a consumer""""""",245,122
openstack%2Fopenstack-ansible-lxc_hosts~stable%2Fwallaby~Ieb41362920ee398d5b17c5c0331735b240fb5102,openstack/openstack-ansible-lxc_hosts,stable/wallaby,Ieb41362920ee398d5b17c5c0331735b240fb5102,Replace CentOS 8 with Stream jobs,MERGED,2022-02-07 09:42:14.000000000,2022-02-09 14:41:54.000000000,2022-02-09 14:28:46.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-02-07 09:42:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/508c37b9b9a73f64135155a149014df056ab867a', 'message': 'Replace CentOS 8 with Stream jobs\n\nChange-Id: Ieb41362920ee398d5b17c5c0331735b240fb5102\n'}, {'number': 2, 'created': '2022-02-08 14:25:12.000000000', 'files': ['zuul.d/project.yaml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/b57db77442c1a6354b0a43cee667f595e5f4a915', 'message': 'Replace CentOS 8 with Stream jobs\n\nChange-Id: Ieb41362920ee398d5b17c5c0331735b240fb5102\n'}]",1,827966,b57db77442c1a6354b0a43cee667f595e5f4a915,14,3,2,28619,,,0,"Replace CentOS 8 with Stream jobs

Change-Id: Ieb41362920ee398d5b17c5c0331735b240fb5102
",git fetch https://review.opendev.org/openstack/openstack-ansible-lxc_hosts refs/changes/66/827966/2 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/project.yaml', 'zuul.d/jobs.yaml']",2,508c37b9b9a73f64135155a149014df056ab867a,osa/remove-centos8-stable/wallaby, name: openstack-ansible-lxc-dir-centos-8-stream nodeset: centos-8-stream, name: openstack-ansible-lxc-dir-centos-8 nodeset: centos-8,3,3
openstack%2Ftripleo-upgrade~stable%2Ftrain~I31ac34c0dda7ce95ca48f17c452789ee7ea03e28,openstack/tripleo-upgrade,stable/train,I31ac34c0dda7ce95ca48f17c452789ee7ea03e28,Add 1m delay before running workloads.,MERGED,2022-02-03 09:21:28.000000000,2022-02-09 14:39:01.000000000,2022-02-09 14:39:01.000000000,"[{'_account_id': 6816}, {'_account_id': 6926}, {'_account_id': 8297}, {'_account_id': 11166}, {'_account_id': 22348}, {'_account_id': 26343}]","[{'number': 1, 'created': '2022-02-03 09:21:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/6a80a0f9e289afbc45fa0958853fdb7e990d61b7', 'message': 'WIP: Add small delay before running workloads.\n\nChange-Id: I31ac34c0dda7ce95ca48f17c452789ee7ea03e28\n'}, {'number': 2, 'created': '2022-02-03 11:15:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/7def6c5d2226d828573bc7ff6660782439803433', 'message': 'Add 1m delay before running workloads.\n\nIn FFU there is a moment when control is moved from old\ncluster(controller-1,2) to an upgraded one(controller-0). So all\nconnections will be dropped so network agent will initiate timeout.\nIbd21764992f401d06b24718ea28cb2735de53858 reduces rpc timeout to 1m in\nhybrid mode which should help to mitigate the case. This patch adds 1m\ndelay where netron agent restores operations to normal.\n\nDepends-On: Ibd21764992f401d06b24718ea28cb2735de53858\n\nChange-Id: I31ac34c0dda7ce95ca48f17c452789ee7ea03e28\n'}, {'number': 3, 'created': '2022-02-03 17:39:12.000000000', 'files': ['templates/fast-forward-upgrade/overcloud_upgrade_run.sh.j2', 'templates/workload_launch.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/7e412452b6333e928aed7d99aa852343bc194e08', 'message': 'Add 1m delay before running workloads.\n\nIn FFU there is a moment when control is moved from old\ncluster(controller-1,2) to an upgraded one(controller-0). So all\nconnections will be dropped so network agent will initiate timeout.\nIbd21764992f401d06b24718ea28cb2735de53858 reduces rpc timeout to 1m in\nhybrid mode which should help to mitigate the case. This patch adds 1m\ndelay where netron agent restores operations to normal. Also it improves\nsanity check to check neutron services as well as compute.\n\nDepends-On: Ibd21764992f401d06b24718ea28cb2735de53858\n\nChange-Id: I31ac34c0dda7ce95ca48f17c452789ee7ea03e28\n'}]",8,827609,7e412452b6333e928aed7d99aa852343bc194e08,19,6,3,26343,,,0,"Add 1m delay before running workloads.

In FFU there is a moment when control is moved from old
cluster(controller-1,2) to an upgraded one(controller-0). So all
connections will be dropped so network agent will initiate timeout.
Ibd21764992f401d06b24718ea28cb2735de53858 reduces rpc timeout to 1m in
hybrid mode which should help to mitigate the case. This patch adds 1m
delay where netron agent restores operations to normal. Also it improves
sanity check to check neutron services as well as compute.

Depends-On: Ibd21764992f401d06b24718ea28cb2735de53858

Change-Id: I31ac34c0dda7ce95ca48f17c452789ee7ea03e28
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/09/827609/2 && git format-patch -1 --stdout FETCH_HEAD,['templates/fast-forward-upgrade/overcloud_upgrade_run.sh.j2'],1,6a80a0f9e289afbc45fa0958853fdb7e990d61b7,,sleep 10,,1,0
openstack%2Foslo.policy~stable%2Fwallaby~Ifcaf6993517d02bf54cd144efd247832947a009f,openstack/oslo.policy,stable/wallaby,Ifcaf6993517d02bf54cd144efd247832947a009f,Dropping lower constraints testing,MERGED,2021-11-04 11:06:57.000000000,2022-02-09 14:37:15.000000000,2022-02-09 14:22:28.000000000,"[{'_account_id': 11628}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 31245}]","[{'number': 1, 'created': '2021-11-04 11:06:57.000000000', 'files': ['.zuul.yaml', 'lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/oslo.policy/commit/21df7f5a32b3eb0f7352eafd9f79c7ca28919938', 'message': 'Dropping lower constraints testing\n\nWe facing errors related to the new pip resolver, this\ntopic was discussed on the ML and QA team proposed to\nto test lower-constraints [1].\n\nI propose to drop this test because the complexity and recurring pain needed\nto maintain that now exceeds the benefits provided by this mechanismes.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html\n\nChange-Id: Ifcaf6993517d02bf54cd144efd247832947a009f\n(cherry picked from commit 7b649af0c1569ebb61ed4e34da4a476ccb1474b9)\n'}]",3,816643,21df7f5a32b3eb0f7352eafd9f79c7ca28919938,13,4,1,28522,,,0,"Dropping lower constraints testing

We facing errors related to the new pip resolver, this
topic was discussed on the ML and QA team proposed to
to test lower-constraints [1].

I propose to drop this test because the complexity and recurring pain needed
to maintain that now exceeds the benefits provided by this mechanismes.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html

Change-Id: Ifcaf6993517d02bf54cd144efd247832947a009f
(cherry picked from commit 7b649af0c1569ebb61ed4e34da4a476ccb1474b9)
",git fetch https://review.opendev.org/openstack/oslo.policy refs/changes/43/816643/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'lower-constraints.txt', 'tox.ini']",3,21df7f5a32b3eb0f7352eafd9f79c7ca28919938,lc-wallaby,, [testenv:lower-constraints] deps = -c{toxinidir}/lower-constraints.txt -r{toxinidir}/test-requirements.txt -r{toxinidir}/requirements.txt,0,57
openstack%2Ftripleo-ansible~master~Ibaeb1249ae02651cbefba75d0912da205880a495,openstack/tripleo-ansible,master,Ibaeb1249ae02651cbefba75d0912da205880a495,Add playbooks to config overcloud hosts and container regsitry,MERGED,2022-02-03 15:17:52.000000000,2022-02-09 14:10:08.000000000,2022-02-09 14:10:08.000000000,"[{'_account_id': 8449}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2022-02-03 15:17:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/aa453ba033b9be8ad58d0e865a4c7b533dc2188a', 'message': ""Add playbooks to config overcloud hosts and container regsitry\n\nAdd two playbooks which call the tripleo_hosts_entries and\ntripleo_podman roles. These roles are usually called from\nTHT deploy-steps but in order to deploy Ceph before the\novercloud the 'openstack overcloud ceph deploy' command\nneeds to be able to call them earlier so these two playbooks\nprovide it an interface to do so.\n\nRelated-Bug: 1958524\nChange-Id: Ibaeb1249ae02651cbefba75d0912da205880a495\n""}, {'number': 2, 'created': '2022-02-04 13:04:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/fbc07678028f92557723774fa9d77b697315413c', 'message': ""Add playbooks to config overcloud hosts and container regsitry\n\nAdd two playbooks which call the tripleo_hosts_entries and\ntripleo_podman roles. These roles are usually called from\nTHT deploy-steps but in order to deploy Ceph before the\novercloud the 'openstack overcloud ceph deploy' command\nneeds to be able to call them earlier so these two playbooks\nprovide it an interface to do so.\n\nRelated-Bug: 1958524\nChange-Id: Ibaeb1249ae02651cbefba75d0912da205880a495\n""}, {'number': 3, 'created': '2022-02-08 14:27:29.000000000', 'files': ['tripleo_ansible/playbooks/cli-hosts-file-config.yaml', 'tripleo_ansible/playbooks/cli-container-registry-config.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/4de0bc4d94f2fa1c1234db4519aa316b96495108', 'message': ""Add playbooks to config overcloud hosts and container regsitry\n\nAdd two playbooks which call the tripleo_hosts_entries and\ntripleo_podman roles. These roles are usually called from\nTHT deploy-steps but in order to deploy Ceph before the\novercloud the 'openstack overcloud ceph deploy' command\nneeds to be able to call them earlier so these two playbooks\nprovide it an interface to do so.\n\nSee I24bea131cc949888518994a3aa08c200d579cb7d which depends-on\nthis patch.\n\nRelated-Bug: 1958524\nChange-Id: Ibaeb1249ae02651cbefba75d0912da205880a495\n""}]",8,827690,4de0bc4d94f2fa1c1234db4519aa316b96495108,18,4,3,18002,,,0,"Add playbooks to config overcloud hosts and container regsitry

Add two playbooks which call the tripleo_hosts_entries and
tripleo_podman roles. These roles are usually called from
THT deploy-steps but in order to deploy Ceph before the
overcloud the 'openstack overcloud ceph deploy' command
needs to be able to call them earlier so these two playbooks
provide it an interface to do so.

See I24bea131cc949888518994a3aa08c200d579cb7d which depends-on
this patch.

Related-Bug: 1958524
Change-Id: Ibaeb1249ae02651cbefba75d0912da205880a495
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/90/827690/3 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/playbooks/cli-hosts-file-config.yaml', 'tripleo_ansible/playbooks/cli-contianer-registry-config.yaml']",2,aa453ba033b9be8ad58d0e865a4c7b533dc2188a,bug/1958524,"--- # Copyright 2022 Red Hat, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # # Used by deployed ceph to configure container registry before overcloud deploy - name: Configure overcloud contianer registry hosts: allovercloud become: true tasks: - name: Configure podman and include insecure registries include_role: name: tripleo_podman tasks_from: tripleo_podman_install.yml ",,53,0
openstack%2Fcharm-neutron-openvswitch~master~I4fa3256b39e62e9df223ab40f17f1677a621f293,openstack/charm-neutron-openvswitch,master,I4fa3256b39e62e9df223ab40f17f1677a621f293,Mark ovs-record-hostname as deferable service.,MERGED,2022-02-08 19:54:37.000000000,2022-02-09 14:07:26.000000000,2022-02-09 14:07:26.000000000,"[{'_account_id': 8992}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-08 19:54:37.000000000', 'files': ['hooks/neutron_ovs_utils.py'], 'web_link': 'https://opendev.org/openstack/charm-neutron-openvswitch/commit/f6a9487b05b08e5481d0792d825c98548621e5c0', 'message': ""Mark ovs-record-hostname as deferable service.\n\nAdd ovs-record-hostname to the list of deferrable services, this service\nwas SRU'ed into Ubuntu >= Focal, when it's not mark as deferrable on\npackage upgrades will induce a restart of openvswitch-switch.\n\nChange-Id: I4fa3256b39e62e9df223ab40f17f1677a621f293\nCloses-Bug: #1923636\nRelated-Bug: #1915829\n""}]",8,828422,f6a9487b05b08e5481d0792d825c98548621e5c0,16,4,1,2424,,,0,"Mark ovs-record-hostname as deferable service.

Add ovs-record-hostname to the list of deferrable services, this service
was SRU'ed into Ubuntu >= Focal, when it's not mark as deferrable on
package upgrades will induce a restart of openvswitch-switch.

Change-Id: I4fa3256b39e62e9df223ab40f17f1677a621f293
Closes-Bug: #1923636
Related-Bug: #1915829
",git fetch https://review.opendev.org/openstack/charm-neutron-openvswitch refs/changes/22/828422/1 && git format-patch -1 --stdout FETCH_HEAD,['hooks/neutron_ovs_utils.py'],1,f6a9487b05b08e5481d0792d825c98548621e5c0,bug/1923636," 'openvswitch-switch', 'ovs-record-hostname'])", 'openvswitch-switch']),1,1
openstack%2Fcharm-nova-compute~master~I6f6da8e90c6bbcd031ee183ae86d88eccd392230,openstack/charm-nova-compute,master,I6f6da8e90c6bbcd031ee183ae86d88eccd392230,Expose block-device-allocate-retries and interval,MERGED,2022-02-08 09:03:40.000000000,2022-02-09 14:06:55.000000000,2022-02-09 14:06:55.000000000,"[{'_account_id': 2424}, {'_account_id': 20648}, {'_account_id': 21107}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-08 09:03:40.000000000', 'files': ['hooks/nova_compute_context.py', 'templates/stein/nova.conf', 'templates/train/nova.conf', 'config.yaml', 'templates/queens/nova.conf', 'templates/rocky/nova.conf', 'unit_tests/test_nova_compute_contexts.py'], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/2283f12eddc45ab97701ece264391e545f6bda1c', 'message': ""Expose block-device-allocate-retries and interval\n\nThe upstream has 3 min as the timeout (60 retries at 3-seconds\ninterval). It should work if an image is in a raw format to leverage\nCeph's copy-on-write or an image is small enough to be copied quickly.\nHowever, there are some cases exeeding the 3 min deadline such as a big\nenough image with Qcow2 or other formats like Windows images, or storage\nbackend doesn't have copy-on-write from Glance.\n\nLet's bump the deadline to 15 min (300 retries at 3-seconds interval) to\ncover most of the cases out of the box, and let operators tune it\nfurther by exposing those options.\n\nCo-authored-by: Mark Maglana <mark.maglana@canonical.com>\nCloses-Bug: 1758607\nChange-Id: I6f6da8e90c6bbcd031ee183ae86d88eccd392230\n""}]",4,828253,2283f12eddc45ab97701ece264391e545f6bda1c,10,4,1,8108,,,0,"Expose block-device-allocate-retries and interval

The upstream has 3 min as the timeout (60 retries at 3-seconds
interval). It should work if an image is in a raw format to leverage
Ceph's copy-on-write or an image is small enough to be copied quickly.
However, there are some cases exeeding the 3 min deadline such as a big
enough image with Qcow2 or other formats like Windows images, or storage
backend doesn't have copy-on-write from Glance.

Let's bump the deadline to 15 min (300 retries at 3-seconds interval) to
cover most of the cases out of the box, and let operators tune it
further by exposing those options.

Co-authored-by: Mark Maglana <mark.maglana@canonical.com>
Closes-Bug: 1758607
Change-Id: I6f6da8e90c6bbcd031ee183ae86d88eccd392230
",git fetch https://review.opendev.org/openstack/charm-nova-compute refs/changes/53/828253/1 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/nova_compute_context.py', 'templates/stein/nova.conf', 'templates/train/nova.conf', 'config.yaml', 'templates/queens/nova.conf', 'templates/rocky/nova.conf', 'unit_tests/test_nova_compute_contexts.py']",7,2283f12eddc45ab97701ece264391e545f6bda1c,bug/1758607," 'block_device_allocate_retries': 300, 'block_device_allocate_retries': 300, 'default_ephemeral_format': 'ext4', 'reserved_host_disk': 0, 'reserved_host_memory': 512}, libvirt()) def test_libvirt_context_block_device_allocate_retries(self): self.lsb_release.return_value = {'DISTRIB_CODENAME': 'focal'} self.os_release.return_value = 'ussuri' self.kv.return_value = FakeUnitdata(**{'host_uuid': self.host_uuid}) self.test_config.set('block-device-allocate-retries', 120) self.test_config.set('block-device-allocate-retries-interval', 5) libvirt = context.NovaComputeLibvirtContext() self.assertEqual( {'libvirtd_opts': '', 'libvirt_user': 'libvirt', 'arch': platform.machine(), 'ksm': 'AUTO', 'kvm_hugepages': 0, 'listen_tls': 0, 'host_uuid': self.host_uuid, 'force_raw_images': True, 'inject_password': False, 'inject_partition': -2, 'block_device_allocate_retries': 120, 'block_device_allocate_retries_interval': 5, 'block_device_allocate_retries': 300, 'block_device_allocate_retries': 300, 'block_device_allocate_retries': 300, 'block_device_allocate_retries': 300, 'block_device_allocate_retries': 300, 'block_device_allocate_retries': 300, 'block_device_allocate_retries': 300, 'block_device_allocate_retries': 300, 'block_device_allocate_retries': 300, 'block_device_allocate_retries': 300, 'block_device_allocate_retries': 300, 'block_device_allocate_retries': 300, 'block_device_allocate_retries': 300,",,89,0
openstack%2Fpuppet-openstack-integration~stable%2Fxena~I9eae6425761b9a93ab0f44d4cb42d93a1add6b40,openstack/puppet-openstack-integration,stable/xena,I9eae6425761b9a93ab0f44d4cb42d93a1add6b40,CentOS: Capture yum repository files,MERGED,2022-02-08 23:36:54.000000000,2022-02-09 13:53:36.000000000,2022-02-09 13:53:36.000000000,"[{'_account_id': 9816}, {'_account_id': 16312}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-08 23:36:54.000000000', 'files': ['copy_logs.sh'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/953af8500f4bc558fd5574601ccc2608bb484ecc', 'message': 'CentOS: Capture yum repository files\n\nWhen some of the repositories are not accessible, repository list is\nnot properly captured and that makes it difficult to find out which\nrepository is wrong or has an issue.\nThis change ensures the repository configuration files are captured\nas part of logs, for easy reference.\n\nChange-Id: I9eae6425761b9a93ab0f44d4cb42d93a1add6b40\n(cherry picked from commit 8c220d00d4b72aa6a98852db2453532ec524f179)\n'}]",1,828394,953af8500f4bc558fd5574601ccc2608bb484ecc,7,3,1,9816,,,0,"CentOS: Capture yum repository files

When some of the repositories are not accessible, repository list is
not properly captured and that makes it difficult to find out which
repository is wrong or has an issue.
This change ensures the repository configuration files are captured
as part of logs, for easy reference.

Change-Id: I9eae6425761b9a93ab0f44d4cb42d93a1add6b40
(cherry picked from commit 8c220d00d4b72aa6a98852db2453532ec524f179)
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/94/828394/1 && git format-patch -1 --stdout FETCH_HEAD,['copy_logs.sh'],1,953af8500f4bc558fd5574601ccc2608bb484ecc,,if is_fedora; then sudo cp -r /etc/yum.repos.d $LOG_DIR/etc/yum.repos.d fi ,,4,0
openstack%2Fpuppet-openstack-integration~stable%2Fxena~Ic17dbf2eec527eb6a62ba9c21fab66dc98554989,openstack/puppet-openstack-integration,stable/xena,Ic17dbf2eec527eb6a62ba9c21fab66dc98554989,Capture network information in integration/litmus jobs,MERGED,2022-02-08 23:37:55.000000000,2022-02-09 13:53:33.000000000,2022-02-09 13:53:33.000000000,"[{'_account_id': 9816}, {'_account_id': 16312}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-08 23:37:55.000000000', 'files': ['copy_logs.sh'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/271e904ee99836b3d2557afab73d5198389ea2a6', 'message': 'Capture network information in integration/litmus jobs\n\nThis change adds output of the following three commands so that we\ncan check network setup.\n $ sudo ip -d address\n $ sudo brctl show\n $ sudo ovs-vsctl show\n\nChange-Id: Ic17dbf2eec527eb6a62ba9c21fab66dc98554989\n(cherry picked from commit 70accb10860e83d72d4008910dd1378a8b33cdee)\n'}]",1,828395,271e904ee99836b3d2557afab73d5198389ea2a6,7,3,1,9816,,,0,"Capture network information in integration/litmus jobs

This change adds output of the following three commands so that we
can check network setup.
 $ sudo ip -d address
 $ sudo brctl show
 $ sudo ovs-vsctl show

Change-Id: Ic17dbf2eec527eb6a62ba9c21fab66dc98554989
(cherry picked from commit 70accb10860e83d72d4008910dd1378a8b33cdee)
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/95/828395/1 && git format-patch -1 --stdout FETCH_HEAD,['copy_logs.sh'],1,271e904ee99836b3d2557afab73d5198389ea2a6,,sudo ip -d address > $LOG_DIR/ip_-d_address.txt sudo brctl show > $LOG_DIR/brctl_show.txt if [ `command -v ovs-vsctl` ]; then sudo ovs-vsctl show > $LOG_DIR/ovs-vsctl_show.txt fi,,5,0
openstack%2Fkayobe~master~I42026fafb1be0071f5ec94e81881c4a3bdd34af8,openstack/kayobe,master,I42026fafb1be0071f5ec94e81881c4a3bdd34af8,Set requirements branch for IPA build,MERGED,2022-01-27 16:55:09.000000000,2022-02-09 13:50:09.000000000,2022-02-09 13:46:21.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-27 16:55:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/1fffce64ad8c95948028945d3194964f771f822d', 'message': 'Set requirements branch for IPA build\n\nCurrently we use the HEAD reference for openstack requirements.\nThis can create images that are imcompatible with your version\nof openstack.\n\nSee:\nhttps://review.opendev.org/c/openstack/ironic-python-agent-builder/+/688911\n\nChange-Id: I42026fafb1be0071f5ec94e81881c4a3bdd34af8\nStory: https://storyboard.openstack.org/#!/story/2009810\nTask: 44371\n'}, {'number': 2, 'created': '2022-01-27 17:06:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/61b184e5c2f5e343cfb5529420db8f51f22a93c3', 'message': 'Set requirements branch for IPA build\n\nCurrently we use the HEAD reference for OpenStack requirements. This can\ncreate images that are incompatible with your version of OpenStack.\n\nSee:\nhttps://review.opendev.org/c/openstack/ironic-python-agent-builder/+/688911\n\nChange-Id: I42026fafb1be0071f5ec94e81881c4a3bdd34af8\nStory: 2009810\nTask: 44371\n'}, {'number': 3, 'created': '2022-02-01 10:36:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/73f1975a98d0d7b7a854f386b39fe9656dc6ac6a', 'message': 'Set requirements branch for IPA build\n\nCurrently we use the HEAD reference for OpenStack requirements. This can\ncreate images that are incompatible with your version of OpenStack.\n\nSee:\nhttps://review.opendev.org/c/openstack/ironic-python-agent-builder/+/688911\n\nChange-Id: I42026fafb1be0071f5ec94e81881c4a3bdd34af8\nStory: 2009810\nTask: 44371\n'}, {'number': 4, 'created': '2022-02-01 10:39:35.000000000', 'files': ['releasenotes/notes/specify-requirements-branch-for-ipa-build-c3ca977ec21b58f4.yaml', 'doc/source/configuration/reference/ironic-python-agent.rst', 'ansible/group_vars/all/ipa'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/156ae2bb8ba9df35696018b8321e6d1ab9060ef0', 'message': 'Set requirements branch for IPA build\n\nCurrently we use the HEAD reference for OpenStack requirements. This can\ncreate images that are incompatible with your version of OpenStack.\n\nSee:\nhttps://review.opendev.org/c/openstack/ironic-python-agent-builder/+/688911\n\nChange-Id: I42026fafb1be0071f5ec94e81881c4a3bdd34af8\nStory: 2009810\nTask: 44371\n'}]",3,826735,156ae2bb8ba9df35696018b8321e6d1ab9060ef0,19,3,4,28048,,,0,"Set requirements branch for IPA build

Currently we use the HEAD reference for OpenStack requirements. This can
create images that are incompatible with your version of OpenStack.

See:
https://review.opendev.org/c/openstack/ironic-python-agent-builder/+/688911

Change-Id: I42026fafb1be0071f5ec94e81881c4a3bdd34af8
Story: 2009810
Task: 44371
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/35/826735/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/specify-requirements-branch-for-ipa-build-c3ca977ec21b58f4.yaml', 'ansible/group_vars/all/ipa']",2,1fffce64ad8c95948028945d3194964f771f822d,story/2009810," DIB_REPOREF_requirements: ""{{ openstack_branch }}""",,7,0
openstack%2Fnova~master~I7412b16be310632da59a6139df9f0913281b5d77,openstack/nova,master,I7412b16be310632da59a6139df9f0913281b5d77,Cleanup old resize instances dir before resize,MERGED,2022-02-04 14:02:58.000000000,2022-02-09 13:22:02.000000000,2022-02-09 13:16:32.000000000,"[{'_account_id': 9708}, {'_account_id': 11604}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-04 14:02:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/868c3624faf34f27b818e77176237a71fa440855', 'message': 'Cleanup _resize directory in instances dir on resize\n\nIf there is a failed resize that also failed the cleanup\nprocess performed by _cleanup_failed_migration() the retry\nof the resize will fail because it cannot rename the current\ninstances directory to _resize.\n\nChange-Id: I7412b16be310632da59a6139df9f0913281b5d77\n'}, {'number': 2, 'created': '2022-02-07 13:16:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3bbc5ea13365d4fd51a06467cfc1f989e225259d', 'message': 'Cleanup old resize instances dir before resize\n\nIf there is a failed resize that also failed the cleanup\nprocess performed by _cleanup_remote_migration() the retry\nof the resize will fail because it cannot rename the current\ninstances directory to _resize.\n\nThis renames the _cleanup_failed_migration() that does the\nsame logic we want to _cleanup_failed_instance_base() and\nuses it for both migration and resize cleanup of directory.\n\nIt then simply calls _cleanup_failed_instances_base() with\nthe resize dir path before trying a resize.\n\nCloses-Bug: 1960230\nChange-Id: I7412b16be310632da59a6139df9f0913281b5d77\n'}, {'number': 3, 'created': '2022-02-07 15:50:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c81b3886a61c4fbeb65dbe3c69c51293d15160d4', 'message': 'Cleanup old resize instances dir before resize\n\nIf there is a failed resize that also failed the cleanup\nprocess performed by _cleanup_remote_migration() the retry\nof the resize will fail because it cannot rename the current\ninstances directory to _resize.\n\nThis renames the _cleanup_failed_migration() that does the\nsame logic we want to _cleanup_failed_instance_base() and\nuses it for both migration and resize cleanup of directory.\n\nIt then simply calls _cleanup_failed_instances_base() with\nthe resize dir path before trying a resize.\n\nCloses-Bug: 1960230\nChange-Id: I7412b16be310632da59a6139df9f0913281b5d77\n'}, {'number': 4, 'created': '2022-02-07 18:14:53.000000000', 'files': ['nova/virt/libvirt/driver.py', 'releasenotes/notes/bug-1960230-cleanup-instances-dir-resize-56282e1b436a4908.yaml', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/9111b99f739d41c092db8d01712a5aa72388b5fb', 'message': 'Cleanup old resize instances dir before resize\n\nIf there is a failed resize that also failed the cleanup\nprocess performed by _cleanup_remote_migration() the retry\nof the resize will fail because it cannot rename the current\ninstances directory to _resize.\n\nThis renames the _cleanup_failed_migration() that does the\nsame logic we want to _cleanup_failed_instance_base() and\nuses it for both migration and resize cleanup of directory.\n\nIt then simply calls _cleanup_failed_instances_base() with\nthe resize dir path before trying a resize.\n\nCloses-Bug: 1960230\nChange-Id: I7412b16be310632da59a6139df9f0913281b5d77\n'}]",4,827865,9111b99f739d41c092db8d01712a5aa72388b5fb,43,3,4,16137,,,0,"Cleanup old resize instances dir before resize

If there is a failed resize that also failed the cleanup
process performed by _cleanup_remote_migration() the retry
of the resize will fail because it cannot rename the current
instances directory to _resize.

This renames the _cleanup_failed_migration() that does the
same logic we want to _cleanup_failed_instance_base() and
uses it for both migration and resize cleanup of directory.

It then simply calls _cleanup_failed_instances_base() with
the resize dir path before trying a resize.

Closes-Bug: 1960230
Change-Id: I7412b16be310632da59a6139df9f0913281b5d77
",git fetch https://review.opendev.org/openstack/nova refs/changes/65/827865/4 && git format-patch -1 --stdout FETCH_HEAD,['nova/virt/libvirt/driver.py'],1,868c3624faf34f27b818e77176237a71fa440855,," if os.path.exists(inst_base_resize): shutil.rmtree(inst_base_resize, ignore_errors=True)",,2,0
openstack%2Ftap-as-a-service~master~I50edbd43ad4f229d911abde77dcf32caf8118832,openstack/tap-as-a-service,master,I50edbd43ad4f229d911abde77dcf32caf8118832,DNM: test master,ABANDONED,2022-01-31 10:28:50.000000000,2022-02-09 13:06:35.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-01-31 10:28:50.000000000', 'files': ['neutron_taas/services/taas/drivers/linux/ovs_taas.py'], 'web_link': 'https://opendev.org/openstack/tap-as-a-service/commit/0fe8e58a3bc5d8c7b33cad4bca3b9de20d3f9589', 'message': 'DNM: test master\n\nChange-Id: I50edbd43ad4f229d911abde77dcf32caf8118832\n'}]",0,827043,0fe8e58a3bc5d8c7b33cad4bca3b9de20d3f9589,3,1,1,8313,,,0,"DNM: test master

Change-Id: I50edbd43ad4f229d911abde77dcf32caf8118832
",git fetch https://review.opendev.org/openstack/tap-as-a-service refs/changes/43/827043/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron_taas/services/taas/drivers/linux/ovs_taas.py'],1,0fe8e58a3bc5d8c7b33cad4bca3b9de20d3f9589,dnm,LOG = logging.getLogger(__name__) ,LOG = logging.getLogger(__name__) ,2,2
openstack%2Fpython-openstackclient~master~I8e5dad90cfd28b1f0d65be688651918869f679e4,openstack/python-openstackclient,master,I8e5dad90cfd28b1f0d65be688651918869f679e4,Add missing command mapping in nova,MERGED,2021-11-21 05:07:56.000000000,2022-02-09 12:53:40.000000000,2022-02-09 12:50:18.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-21 05:07:56.000000000', 'files': ['doc/source/cli/data/nova.csv'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/b3d09ffc37f6b577ce479a5203c6c882062fee74', 'message': 'Add missing command mapping in nova\n\nnova command: instance-action\nopenstack command: server event show\n\nChange-Id: I8e5dad90cfd28b1f0d65be688651918869f679e4\n'}]",0,818684,b3d09ffc37f6b577ce479a5203c6c882062fee74,7,2,1,28982,,,0,"Add missing command mapping in nova

nova command: instance-action
openstack command: server event show

Change-Id: I8e5dad90cfd28b1f0d65be688651918869f679e4
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/84/818684/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/cli/data/nova.csv'],1,b3d09ffc37f6b577ce479a5203c6c882062fee74,,"instance-action,server event show,Show an action.","instance-action,,Show an action.",1,1
openstack%2Fpython-openstackclient~master~I1095100efb27b8559412469f0a9d07fc0a3db9d5,openstack/python-openstackclient,master,I1095100efb27b8559412469f0a9d07fc0a3db9d5,Support Neutron Local IP CRUD,MERGED,2021-08-23 11:44:18.000000000,2022-02-09 12:52:20.000000000,2022-02-09 12:50:15.000000000,"[{'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 13252}, {'_account_id': 15334}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2021-08-23 11:44:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/fdc6b53fc4487a4d2858a766d22dc0138eb6ff8c', 'message': '(wip) Support Neutron Local IP CRUD\n\nAdd support for Neutron address group CRUD operations.\n\nPartial-Bug: #1930200\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/804523\nDepends-On: https://review.opendev.org/c/openstack/openstacksdk/+/804988\nChange-Id: I1095100efb27b8559412469f0a9d07fc0a3db9d5\n'}, {'number': 2, 'created': '2021-08-30 10:17:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/9f44c8d058933589965ef342ca984eb301004e3f', 'message': '(wip) Support Neutron Local IP CRUD\n\nAdd support for Neutron Local IP CRUD operations.\n\nPartial-Bug: #1930200\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/804523\nDepends-On: https://review.opendev.org/c/openstack/openstacksdk/+/804988\nChange-Id: I1095100efb27b8559412469f0a9d07fc0a3db9d5\n'}, {'number': 3, 'created': '2021-08-30 11:13:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/1e64eb5123688516853558c20746ec7cd6c71459', 'message': '(wip) Support Neutron Local IP CRUD\n\nAdd support for Neutron Local IP CRUD operations.\n\nPartial-Bug: #1930200\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/804523\nDepends-On: https://review.opendev.org/c/openstack/openstacksdk/+/804988\nChange-Id: I1095100efb27b8559412469f0a9d07fc0a3db9d5\n'}, {'number': 4, 'created': '2021-08-30 11:49:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/3163e07e006cd93eba08ad50e4bc0ac3a259a271', 'message': '(wip) Support Neutron Local IP CRUD\n\nAdd support for Neutron Local IP CRUD operations.\n\nPartial-Bug: #1930200\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/804523\nDepends-On: https://review.opendev.org/c/openstack/openstacksdk/+/804988\nChange-Id: I1095100efb27b8559412469f0a9d07fc0a3db9d5\n'}, {'number': 5, 'created': '2021-09-02 09:24:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/8c2208083e990c10e6c33e811edf292e2035861b', 'message': 'Support Neutron Local IP CRUD\n\nAdd support for Neutron Local IP CRUD operations.\n\nPartial-Bug: #1930200\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/804523\nDepends-On: https://review.opendev.org/c/openstack/openstacksdk/+/804988\nChange-Id: I1095100efb27b8559412469f0a9d07fc0a3db9d5\n'}, {'number': 6, 'created': '2021-09-02 13:36:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/b53f450fcf6612a5a9dcd11ddc735231b2761676', 'message': 'Support Neutron Local IP CRUD\n\nAdd support for Neutron Local IP CRUD operations.\n\nPartial-Bug: #1930200\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/804523\nDepends-On: https://review.opendev.org/c/openstack/openstacksdk/+/804988\nChange-Id: I1095100efb27b8559412469f0a9d07fc0a3db9d5\n'}, {'number': 7, 'created': '2021-09-02 14:53:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/f76e6873da928b38e139977c260871e7326b2ace', 'message': 'Support Neutron Local IP CRUD\n\nAdd support for Neutron Local IP CRUD operations.\n\nPartial-Bug: #1930200\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/804523\nDepends-On: https://review.opendev.org/c/openstack/openstacksdk/+/804988\nChange-Id: I1095100efb27b8559412469f0a9d07fc0a3db9d5\n'}, {'number': 8, 'created': '2021-09-03 09:49:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/8032232b37f7bc0d76fdbeeae2f03eaae727cab4', 'message': 'Support Neutron Local IP CRUD\n\nAdd support for Neutron Local IP CRUD operations.\n\nPartial-Bug: #1930200\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/804523\nDepends-On: https://review.opendev.org/c/openstack/openstacksdk/+/804988\nChange-Id: I1095100efb27b8559412469f0a9d07fc0a3db9d5\n'}, {'number': 9, 'created': '2021-10-20 06:40:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/c2eef6cefc47bc885fe7bb2b4d571ca5eac107c3', 'message': 'Support Neutron Local IP CRUD\n\nAdd support for Neutron Local IP CRUD operations.\n\nPartial-Bug: #1930200\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/804523\nDepends-On: https://review.opendev.org/c/openstack/openstacksdk/+/804988\nChange-Id: I1095100efb27b8559412469f0a9d07fc0a3db9d5\n'}, {'number': 10, 'created': '2021-10-20 10:10:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/6257e7c020b8f5ce4007b5900e40bf7a6cdee1d3', 'message': 'Support Neutron Local IP CRUD\n\nAdd support for Neutron Local IP CRUD operations.\n\nPartial-Bug: #1930200\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/804523\nDepends-On: https://review.opendev.org/c/openstack/openstacksdk/+/804988\nChange-Id: I1095100efb27b8559412469f0a9d07fc0a3db9d5\n'}, {'number': 11, 'created': '2021-11-09 13:51:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/9d8bc3b566d22235988ffa18e018f36ced29e748', 'message': 'Support Neutron Local IP CRUD\n\nAdd support for Neutron Local IP CRUD operations.\n\nPartial-Bug: #1930200\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/804523\nDepends-On: https://review.opendev.org/c/openstack/openstacksdk/+/804988\nChange-Id: I1095100efb27b8559412469f0a9d07fc0a3db9d5\n'}, {'number': 12, 'created': '2021-11-10 07:26:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/1bb9442220a68f4eae3e0d3a1e913b40b8733148', 'message': 'Support Neutron Local IP CRUD\n\nAdd support for Neutron Local IP CRUD operations.\n\nPartial-Bug: #1930200\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/804523\nDepends-On: https://review.opendev.org/c/openstack/openstacksdk/+/804988\nChange-Id: I1095100efb27b8559412469f0a9d07fc0a3db9d5\n'}, {'number': 13, 'created': '2021-11-10 08:46:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/cb02c417781cd01584f4f38db388fec8bfe11140', 'message': 'Support Neutron Local IP CRUD\n\nAdd support for Neutron Local IP CRUD operations.\n\nPartial-Bug: #1930200\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/804523\nDepends-On: https://review.opendev.org/c/openstack/openstacksdk/+/814765\nChange-Id: I1095100efb27b8559412469f0a9d07fc0a3db9d5\n'}, {'number': 14, 'created': '2021-11-18 05:22:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/7def4040a5cab5d3ca5fb1e3dc0eced90adf7109', 'message': 'Support Neutron Local IP CRUD\n\nAdd support for Neutron Local IP CRUD operations.\n\nPartial-Bug: #1930200\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/804523\nDepends-On: https://review.opendev.org/c/openstack/openstacksdk/+/804988\nChange-Id: I1095100efb27b8559412469f0a9d07fc0a3db9d5\n'}, {'number': 15, 'created': '2021-11-25 08:55:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/d875e872863f38cc102805e642f798a2cbb43ea7', 'message': 'Support Neutron Local IP CRUD\n\nAdd support for Neutron Local IP CRUD operations.\n\nPartial-Bug: #1930200\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/804523\nDepends-On: https://review.opendev.org/c/openstack/openstacksdk/+/804988\nChange-Id: I1095100efb27b8559412469f0a9d07fc0a3db9d5\n'}, {'number': 16, 'created': '2021-11-29 13:46:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/2a3fde07f4948edb58304a05023d4a3cf33b00d0', 'message': 'Support Neutron Local IP CRUD\n\nAdd support for Neutron Local IP CRUD operations.\n\nPartial-Bug: #1930200\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/804523\nDepends-On: https://review.opendev.org/c/openstack/openstacksdk/+/814765\nChange-Id: I1095100efb27b8559412469f0a9d07fc0a3db9d5\n'}, {'number': 17, 'created': '2021-11-29 15:44:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/514f9e80e77b47407f123a5f0363293bee8393d5', 'message': 'Support Neutron Local IP CRUD\n\nAdd support for Neutron Local IP CRUD operations.\n\nPartial-Bug: #1930200\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/804523\nDepends-On: https://review.opendev.org/c/openstack/openstacksdk/+/814765\nChange-Id: I1095100efb27b8559412469f0a9d07fc0a3db9d5\n'}, {'number': 18, 'created': '2021-11-29 15:50:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/3d39e874f8febc8e3bc51f7131e97b6947efdabc', 'message': 'Support Neutron Local IP CRUD\n\nAdd support for Neutron Local IP CRUD operations.\n\nPartial-Bug: #1930200\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/804523\nDepends-On: https://review.opendev.org/c/openstack/openstacksdk/+/804988\nChange-Id: I1095100efb27b8559412469f0a9d07fc0a3db9d5\n'}, {'number': 19, 'created': '2021-11-30 20:16:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/c1459fa22a01d1248b6f369fab4e6f5fd17d612a', 'message': 'Support Neutron Local IP CRUD\n\nAdd support for Neutron Local IP CRUD operations.\n\nPartial-Bug: #1930200\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/804523\nDepends-On: https://review.opendev.org/c/openstack/openstacksdk/+/804988\nChange-Id: I1095100efb27b8559412469f0a9d07fc0a3db9d5\n'}, {'number': 20, 'created': '2021-12-03 11:26:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/b5819ca9feb32c375b9c3821c70c10a0327bec3c', 'message': 'Support Neutron Local IP CRUD\n\nAdd support for Neutron Local IP CRUD operations.\n\nPartial-Bug: #1930200\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/804523\nDepends-On: https://review.opendev.org/c/openstack/openstacksdk/+/804988\nChange-Id: I1095100efb27b8559412469f0a9d07fc0a3db9d5\n'}, {'number': 21, 'created': '2021-12-03 19:02:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/e2a05e3c30e93951bb844b2e03f5932c0e9d7aac', 'message': 'Support Neutron Local IP CRUD\n\nAdd support for Neutron Local IP CRUD operations.\n\nPartial-Bug: #1930200\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/804523\nDepends-On: https://review.opendev.org/c/openstack/openstacksdk/+/804988\nChange-Id: I1095100efb27b8559412469f0a9d07fc0a3db9d5\n'}, {'number': 22, 'created': '2021-12-09 12:42:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/4815e06201b2f07647909c02b06ae04f3634040c', 'message': 'Support Neutron Local IP CRUD\n\nAdd support for Neutron Local IP CRUD operations.\n\nPartial-Bug: #1930200\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/804523\nDepends-On: https://review.opendev.org/c/openstack/openstacksdk/+/804988\nChange-Id: I1095100efb27b8559412469f0a9d07fc0a3db9d5\n'}, {'number': 23, 'created': '2021-12-13 14:36:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/85561fd2a07827acbb2dae3538fa9536845e68a7', 'message': 'Support Neutron Local IP CRUD\n\nAdd support for Neutron Local IP CRUD operations.\n\nPartial-Bug: #1930200\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/804523\nDepends-On: https://review.opendev.org/c/openstack/openstacksdk/+/804988\nChange-Id: I1095100efb27b8559412469f0a9d07fc0a3db9d5\n'}, {'number': 24, 'created': '2021-12-16 14:21:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/7280d426a8ba08aec19d09172c0d2c202dcda342', 'message': 'Support Neutron Local IP CRUD\n\nAdd support for Neutron Local IP CRUD operations.\n\nPartial-Bug: #1930200\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/804523\nDepends-On: https://review.opendev.org/c/openstack/openstacksdk/+/804988\nChange-Id: I1095100efb27b8559412469f0a9d07fc0a3db9d5\n'}, {'number': 25, 'created': '2022-01-10 10:35:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/ccdbd43d92de74e42403fff125519807ff6e406b', 'message': 'Support Neutron Local IP CRUD\n\nAdd support for Neutron Local IP CRUD operations.\n\nPartial-Bug: #1930200\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/804523\nDepends-On: https://review.opendev.org/c/openstack/openstacksdk/+/804988\nChange-Id: I1095100efb27b8559412469f0a9d07fc0a3db9d5\n'}, {'number': 26, 'created': '2022-01-17 10:39:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/0405d7b378968b3c4c9c9cac5ba8357fd98f49c0', 'message': 'Support Neutron Local IP CRUD\n\nAdd support for Neutron Local IP CRUD operations.\n\nPartial-Bug: #1930200\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/804523\nDepends-On: https://review.opendev.org/c/openstack/openstacksdk/+/804988\nChange-Id: I1095100efb27b8559412469f0a9d07fc0a3db9d5\n'}, {'number': 27, 'created': '2022-01-28 14:24:28.000000000', 'files': ['doc/source/cli/command-objects/local-ip.rst', 'doc/source/cli/command-objects/local-ip-association.rst', 'openstackclient/network/v2/local_ip.py', 'lower-constraints.txt', 'openstackclient/tests/unit/network/v2/test_local_ip.py', 'releasenotes/notes/add-network-local-ip-df3a9ce7610d8b90.yaml', 'requirements.txt', 'openstackclient/network/v2/local_ip_association.py', 'openstackclient/tests/unit/network/v2/test_local_ip_association.py', 'openstackclient/tests/unit/network/v2/fakes.py', 'openstackclient/tests/functional/network/v2/test_local_ip.py', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/26144743d9207d876df40e030a2a4132e18a79a7', 'message': 'Support Neutron Local IP CRUD\n\nAdd support for Neutron Local IP CRUD operations.\n\nPartial-Bug: #1930200\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/804523\nDepends-On: https://review.opendev.org/c/openstack/openstacksdk/+/804988\nChange-Id: I1095100efb27b8559412469f0a9d07fc0a3db9d5\n'}]",118,805618,26144743d9207d876df40e030a2a4132e18a79a7,104,8,27,32667,,,0,"Support Neutron Local IP CRUD

Add support for Neutron Local IP CRUD operations.

Partial-Bug: #1930200
Depends-On: https://review.opendev.org/c/openstack/neutron/+/804523
Depends-On: https://review.opendev.org/c/openstack/openstacksdk/+/804988
Change-Id: I1095100efb27b8559412469f0a9d07fc0a3db9d5
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/18/805618/14 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/cli/command-objects/local-ip.rst', 'releasenotes/notes/bp-local-ips-df3a9ce7610d8b90.yaml', 'openstackclient/network/v2/local_ip.py', 'openstackclient/tests/unit/network/v2/fakes.py', 'openstackclient/tests/unit/network/v2/test_local_ip.py', 'openstackclient/tests/functional/network/v2/test_local_ip.py', 'setup.cfg']",7,fdc6b53fc4487a4d2858a766d22dc0138eb6ff8c,bug/1930200, local_ip_create = openstackclient.network.v2.local_ip:CreateLocalIP local_ip_delete = openstackclient.network.v2.local_ip:DeleteLocalIP local_ip_list = openstackclient.network.v2.local_ip:ListLocalIP local_ip_set = openstackclient.network.v2.local_ip:SetLocalIP local_ip_show = openstackclient.network.v2.local_ip:ShowLocalIP ,,975,0
openstack%2Fkolla-ansible~stable%2Fvictoria~I7beecf2dd6c49c8934722cf22efa74e920ecb060,openstack/kolla-ansible,stable/victoria,I7beecf2dd6c49c8934722cf22efa74e920ecb060,[CI] Replace parted with lsblk,MERGED,2022-02-08 17:32:58.000000000,2022-02-09 12:00:34.000000000,2022-02-09 11:43:45.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2022-02-08 17:32:58.000000000', 'files': ['tests/get_logs.sh'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/3cf4fe128a04d4852bdfd0522af760c09151617f', 'message': '[CI] Replace parted with lsblk\n\nparted hangs waiting for user input (see examples below)\non Debian and Ubuntu nodes which have created a cinder\nvolume on lvm, causing POST_FAILURE of the entire CI job.\nZun (Cinder iSCSI LVM) jobs are affected.\nparted seemingly tries to interpret contents of the created\nvolume and fails miserably.\nSince there is no reason why we would need to see the output\nof parted specifically, this patch is switching to use\nlsblk to simply list visible block devices.\nAlong with the rest of the commands, this should be just\nthe right level of detail.\nAnd we avoid having parted interpret internals of otherwise\nopaque block devices.\n\nExample issues:\n\nWarning: Not all of the space available to\n/dev/mapper/cinder--volumes-cinder--volumes--pool appears to be used, you can\nfix the GPT to use all of the space (an extra 9732096 blocks) or continue with\nthe current setting?\nFix/Ignore?\n\nWarning: Not all of the space available to\n/dev/mapper/cinder--volumes-cinder--volumes--pool-tpool appears to be used, you\ncan fix the GPT to use all of the space (an extra 9732096 blocks) or continue\nwith the current setting?\nFix/Ignore?\n\nWarning: Not all of the space available to\n/dev/mapper/cinder--volumes-cinder--volumes--pool_tdata appears to be used, you\ncan fix the GPT to use all of the space (an extra 9732096 blocks) or continue\nwith the current setting?\nFix/Ignore?\n\nChange-Id: I7beecf2dd6c49c8934722cf22efa74e920ecb060\n(cherry picked from commit 654edefca3061a9e61183544f71bc41ab7a61600)\n'}]",0,828391,3cf4fe128a04d4852bdfd0522af760c09151617f,9,3,1,30491,,,0,"[CI] Replace parted with lsblk

parted hangs waiting for user input (see examples below)
on Debian and Ubuntu nodes which have created a cinder
volume on lvm, causing POST_FAILURE of the entire CI job.
Zun (Cinder iSCSI LVM) jobs are affected.
parted seemingly tries to interpret contents of the created
volume and fails miserably.
Since there is no reason why we would need to see the output
of parted specifically, this patch is switching to use
lsblk to simply list visible block devices.
Along with the rest of the commands, this should be just
the right level of detail.
And we avoid having parted interpret internals of otherwise
opaque block devices.

Example issues:

Warning: Not all of the space available to
/dev/mapper/cinder--volumes-cinder--volumes--pool appears to be used, you can
fix the GPT to use all of the space (an extra 9732096 blocks) or continue with
the current setting?
Fix/Ignore?

Warning: Not all of the space available to
/dev/mapper/cinder--volumes-cinder--volumes--pool-tpool appears to be used, you
can fix the GPT to use all of the space (an extra 9732096 blocks) or continue
with the current setting?
Fix/Ignore?

Warning: Not all of the space available to
/dev/mapper/cinder--volumes-cinder--volumes--pool_tdata appears to be used, you
can fix the GPT to use all of the space (an extra 9732096 blocks) or continue
with the current setting?
Fix/Ignore?

Change-Id: I7beecf2dd6c49c8934722cf22efa74e920ecb060
(cherry picked from commit 654edefca3061a9e61183544f71bc41ab7a61600)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/91/828391/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/get_logs.sh'],1,3cf4fe128a04d4852bdfd0522af760c09151617f,ci-replace-parted-stable/xena-stable/wallaby-stable/victoria, lsblk > ${LOG_DIR}/system_logs/lsblk.txt, parted -l > ${LOG_DIR}/system_logs/parted-l.txt,1,1
openstack%2Fkolla-ansible~stable%2Fwallaby~I6d5e0e4ab70922a772f3c82e914f9e7d37cf0318,openstack/kolla-ansible,stable/wallaby,I6d5e0e4ab70922a772f3c82e914f9e7d37cf0318,Glance: add lock_path setting,MERGED,2022-02-08 17:32:44.000000000,2022-02-09 11:56:05.000000000,2022-02-09 11:43:40.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2022-02-08 17:32:44.000000000', 'files': ['releasenotes/notes/bug-1959663-afda889b9aa4c63f.yaml', 'ansible/roles/glance/templates/glance-api.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c3d8684fe2b29092f7562263f587562c5c6c6601', 'message': 'Glance: add lock_path setting\n\nThis is required to use, e.g., Cinder iSCSI backend with Glance.\n\nCloses-Bug: #1959663\nChange-Id: I6d5e0e4ab70922a772f3c82e914f9e7d37cf0318\n(cherry picked from commit 75305aa897cde1c840088e5bd0b409da44e8114a)\n'}]",0,828249,c3d8684fe2b29092f7562263f587562c5c6c6601,9,3,1,30491,,,0,"Glance: add lock_path setting

This is required to use, e.g., Cinder iSCSI backend with Glance.

Closes-Bug: #1959663
Change-Id: I6d5e0e4ab70922a772f3c82e914f9e7d37cf0318
(cherry picked from commit 75305aa897cde1c840088e5bd0b409da44e8114a)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/49/828249/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-1959663-afda889b9aa4c63f.yaml', 'ansible/roles/glance/templates/glance-api.conf.j2']",2,c3d8684fe2b29092f7562263f587562c5c6c6601,bug/1959663-stable/xena-stable/wallaby,[oslo_concurrency] lock_path = /var/lib/glance/tmp ,,9,0
openstack%2Fpuppet-openstack-integration~master~Id2e0c32391a7e77e21fd37dad9266a4e3abc6566,openstack/puppet-openstack-integration,master,Id2e0c32391a7e77e21fd37dad9266a4e3abc6566,WIP: Run Octavia api tests,ABANDONED,2022-02-09 08:25:53.000000000,2022-02-09 11:54:30.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-02-09 08:25:53.000000000', 'files': ['run_tests.sh'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/0a68144d306b0708c852b9cfcbd6a12d42c9ef07', 'message': 'WIP: Run Octavia api tests\n\nChange-Id: Id2e0c32391a7e77e21fd37dad9266a4e3abc6566\n'}]",0,828471,0a68144d306b0708c852b9cfcbd6a12d42c9ef07,3,1,1,9816,,,0,"WIP: Run Octavia api tests

Change-Id: Id2e0c32391a7e77e21fd37dad9266a4e3abc6566
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/71/828471/1 && git format-patch -1 --stdout FETCH_HEAD,['run_tests.sh'],1,0a68144d306b0708c852b9cfcbd6a12d42c9ef07,octavia-integration,"echo ""octavia_tempest_plugin.tests.api.v2.*"" >> /tmp/openstack/tempest/test-include-list.txt","echo ""octavia_tempest_plugin.tests.scenario.*standalone_CRUD"" >> /tmp/openstack/tempest/test-include-list.txt",1,1
openstack%2Fkolla~stable%2Ftrain~I95ea4a66a80bf035f8bd1180790c7e0c85d759ed,openstack/kolla,stable/train,I95ea4a66a80bf035f8bd1180790c7e0c85d759ed,Drop CentOS Linux 8 image builds,MERGED,2022-02-08 13:23:52.000000000,2022-02-09 11:53:47.000000000,2022-02-09 11:43:47.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}, {'_account_id': 32291}]","[{'number': 1, 'created': '2022-02-08 13:23:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/da3282e1d45505948b350b86bf0020ff1e3224eb', 'message': ""Drop CentOS Linux 8 image builds\n\nIncluded patch:\n\nRemove missing collectd packages\n\nSince CentOS Linux 8 repository retirement from\nCentOS mirrors - we need to use CentOS Stream 8\nversion of Opstools repo.\n\nListed below packages are missing from the repo,\nand according to the maintainer dpdk_telemetry is\nnot going to show up at all (it's basically dead).\n\nThe rest of the packages might show up at a later\nstage - but it's not a priority for the maintainer.\n\n- collectd-dpdk_telemetry\n- collectd-libpod-stats\n- collectd-sensubility\n- python3-sqlalchemy-collectd\n\n(cherry picked from commit 405fca90f2c8d3763ac56ce8b925611d136bba6c)\n\nChange-Id: I95ea4a66a80bf035f8bd1180790c7e0c85d759ed\n(cherry picked from commit 07f519996381789c1f21850cfc9b27f3b86a6f4c)\n""}, {'number': 2, 'created': '2022-02-08 14:01:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/56f36a3dbfab086cb416ba36643dc43624f77973', 'message': ""Drop CentOS Linux 8 image builds\n\nIncluded patch:\n\nRemove missing collectd packages\n\nSince CentOS Linux 8 repository retirement from\nCentOS mirrors - we need to use CentOS Stream 8\nversion of Opstools repo.\n\nListed below packages are missing from the repo,\nand according to the maintainer dpdk_telemetry is\nnot going to show up at all (it's basically dead).\n\nThe rest of the packages might show up at a later\nstage - but it's not a priority for the maintainer.\n\n- collectd-dpdk_telemetry\n- collectd-libpod-stats\n- collectd-sensubility\n- python3-sqlalchemy-collectd\n\n(cherry picked from commit 405fca90f2c8d3763ac56ce8b925611d136bba6c)\n\nChange-Id: I95ea4a66a80bf035f8bd1180790c7e0c85d759ed\n(cherry picked from commit 07f519996381789c1f21850cfc9b27f3b86a6f4c)\n""}, {'number': 3, 'created': '2022-02-08 14:39:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/0bcba3e083e014a3082faadd9f2e1a317a2522a5', 'message': ""Drop CentOS Linux 8 image builds\n\nIncluded patch:\n\nRemove missing collectd packages\n\nSince CentOS Linux 8 repository retirement from\nCentOS mirrors - we need to use CentOS Stream 8\nversion of Opstools repo.\n\nListed below packages are missing from the repo,\nand according to the maintainer dpdk_telemetry is\nnot going to show up at all (it's basically dead).\n\nThe rest of the packages might show up at a later\nstage - but it's not a priority for the maintainer.\n\n- collectd-dpdk_telemetry\n- collectd-libpod-stats\n- collectd-sensubility\n- python3-sqlalchemy-collectd\n\n(cherry picked from commit 405fca90f2c8d3763ac56ce8b925611d136bba6c)\n\nChange-Id: I95ea4a66a80bf035f8bd1180790c7e0c85d759ed\n(cherry picked from commit 07f519996381789c1f21850cfc9b27f3b86a6f4c)\n""}, {'number': 4, 'created': '2022-02-08 17:09:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/f41eb2462f0665156471151b5f68ef27dc156002', 'message': ""Drop CentOS Linux 8 image builds\n\nIncluded patch:\n\nRemove missing collectd packages\n\nSince CentOS Linux 8 repository retirement from\nCentOS mirrors - we need to use CentOS Stream 8\nversion of Opstools repo.\n\nListed below packages are missing from the repo,\nand according to the maintainer dpdk_telemetry is\nnot going to show up at all (it's basically dead).\n\nThe rest of the packages might show up at a later\nstage - but it's not a priority for the maintainer.\n\n- collectd-dpdk_telemetry\n- collectd-libpod-stats\n- collectd-sensubility\n- python3-sqlalchemy-collectd\n\n(cherry picked from commit 405fca90f2c8d3763ac56ce8b925611d136bba6c)\n\nChange-Id: I95ea4a66a80bf035f8bd1180790c7e0c85d759ed\n(cherry picked from commit 07f519996381789c1f21850cfc9b27f3b86a6f4c)\n""}, {'number': 5, 'created': '2022-02-08 17:10:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/d848f7e027cb46cca67e25d2b26441d0c9f445be', 'message': 'Drop CentOS Linux 8 image builds\n\n(cherry picked from commit 405fca90f2c8d3763ac56ce8b925611d136bba6c)\n\nChange-Id: I95ea4a66a80bf035f8bd1180790c7e0c85d759ed\n(cherry picked from commit 07f519996381789c1f21850cfc9b27f3b86a6f4c)\n'}, {'number': 6, 'created': '2022-02-09 08:21:25.000000000', 'files': ['doc/source/support_matrix.rst', '.zuul.d/centos.yaml', 'doc/source/admin/image-building.rst', 'releasenotes/notes/centos-8-eol-4500333b5e01f448.yaml'], 'web_link': 'https://opendev.org/openstack/kolla/commit/3c8bee583171f6c6a334e039cf16d176f95e46fe', 'message': 'Drop CentOS Linux 8 image builds\n\n(cherry picked from commit 405fca90f2c8d3763ac56ce8b925611d136bba6c)\n\nChange-Id: I95ea4a66a80bf035f8bd1180790c7e0c85d759ed\n(cherry picked from commit 07f519996381789c1f21850cfc9b27f3b86a6f4c)\n'}]",2,828242,3c8bee583171f6c6a334e039cf16d176f95e46fe,21,4,6,22629,,,0,"Drop CentOS Linux 8 image builds

(cherry picked from commit 405fca90f2c8d3763ac56ce8b925611d136bba6c)

Change-Id: I95ea4a66a80bf035f8bd1180790c7e0c85d759ed
(cherry picked from commit 07f519996381789c1f21850cfc9b27f3b86a6f4c)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/42/828242/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/support_matrix.rst', 'docker/openstack-base/Dockerfile.j2', '.zuul.d/centos.yaml', 'doc/source/admin/image-building.rst', 'docker/base/Dockerfile.j2', 'docker/collectd/Dockerfile.j2', 'releasenotes/notes/centos-8-eol-4500333b5e01f448.yaml', 'kolla/common/config.py']",8,da3282e1d45505948b350b86bf0020ff1e3224eb,,"<<<<<<< HEAD (b22f8f CI: make it work again)======= 'centos': {'name': 'quay.io/centos/centos', 'tag': 'stream8'}, 'rhel': {'name': 'registry.access.redhat.com/ubi8', 'tag': 'latest'}, 'debian': {'name': 'debian', 'tag': '10'}, 'ubuntu': {'name': 'ubuntu', 'tag': '20.04'}, >>>>>>> CHANGE (07f519 Drop CentOS Linux 8 image builds)<<<<<<< HEAD (b22f8f CI: make it work again)======= conf.set_default('base_tag', DEFAULT_BASE_TAGS[conf.base]['tag']) prefix = '' if conf.openstack_release == 'master' else 'stable-' openstack_branch = '{}{}'.format(prefix, conf.openstack_release) conf.set_default('openstack_branch', openstack_branch) >>>>>>> CHANGE (07f519 Drop CentOS Linux 8 image builds) conf.base_image = DEFAULT_BASE_TAGS[conf.base]['name']", conf.base_image = conf.base,164,3
openstack%2Fkolla-ansible~stable%2Fvictoria~I6d5e0e4ab70922a772f3c82e914f9e7d37cf0318,openstack/kolla-ansible,stable/victoria,I6d5e0e4ab70922a772f3c82e914f9e7d37cf0318,Glance: add lock_path setting,MERGED,2022-02-08 17:32:53.000000000,2022-02-09 11:53:46.000000000,2022-02-09 11:43:42.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2022-02-08 17:32:53.000000000', 'files': ['releasenotes/notes/bug-1959663-afda889b9aa4c63f.yaml', 'ansible/roles/glance/templates/glance-api.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f8ae355c5b0382df14083120d5f3d535e2b97c99', 'message': 'Glance: add lock_path setting\n\nThis is required to use, e.g., Cinder iSCSI backend with Glance.\n\nCloses-Bug: #1959663\nChange-Id: I6d5e0e4ab70922a772f3c82e914f9e7d37cf0318\n(cherry picked from commit 75305aa897cde1c840088e5bd0b409da44e8114a)\n'}]",0,828390,f8ae355c5b0382df14083120d5f3d535e2b97c99,9,3,1,30491,,,0,"Glance: add lock_path setting

This is required to use, e.g., Cinder iSCSI backend with Glance.

Closes-Bug: #1959663
Change-Id: I6d5e0e4ab70922a772f3c82e914f9e7d37cf0318
(cherry picked from commit 75305aa897cde1c840088e5bd0b409da44e8114a)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/90/828390/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-1959663-afda889b9aa4c63f.yaml', 'ansible/roles/glance/templates/glance-api.conf.j2']",2,f8ae355c5b0382df14083120d5f3d535e2b97c99,bug/1959663-stable/xena-stable/wallaby-stable/victoria,[oslo_concurrency] lock_path = /var/lib/glance/tmp ,,9,0
openstack%2Fkolla-ansible~stable%2Fxena~I6d5e0e4ab70922a772f3c82e914f9e7d37cf0318,openstack/kolla-ansible,stable/xena,I6d5e0e4ab70922a772f3c82e914f9e7d37cf0318,Glance: add lock_path setting,MERGED,2022-02-08 17:32:31.000000000,2022-02-09 11:53:45.000000000,2022-02-09 11:43:03.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2022-02-08 17:32:31.000000000', 'files': ['releasenotes/notes/bug-1959663-afda889b9aa4c63f.yaml', 'ansible/roles/glance/templates/glance-api.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/905dc7fae03fab6684357a1b5492ec3f6f8ea675', 'message': 'Glance: add lock_path setting\n\nThis is required to use, e.g., Cinder iSCSI backend with Glance.\n\nCloses-Bug: #1959663\nChange-Id: I6d5e0e4ab70922a772f3c82e914f9e7d37cf0318\n(cherry picked from commit 75305aa897cde1c840088e5bd0b409da44e8114a)\n'}]",0,828247,905dc7fae03fab6684357a1b5492ec3f6f8ea675,9,3,1,30491,,,0,"Glance: add lock_path setting

This is required to use, e.g., Cinder iSCSI backend with Glance.

Closes-Bug: #1959663
Change-Id: I6d5e0e4ab70922a772f3c82e914f9e7d37cf0318
(cherry picked from commit 75305aa897cde1c840088e5bd0b409da44e8114a)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/47/828247/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-1959663-afda889b9aa4c63f.yaml', 'ansible/roles/glance/templates/glance-api.conf.j2']",2,905dc7fae03fab6684357a1b5492ec3f6f8ea675,bug/1959663-stable/xena,[oslo_concurrency] lock_path = /var/lib/glance/tmp ,,9,0
openstack%2Fkolla-ansible~stable%2Fwallaby~I7beecf2dd6c49c8934722cf22efa74e920ecb060,openstack/kolla-ansible,stable/wallaby,I7beecf2dd6c49c8934722cf22efa74e920ecb060,[CI] Replace parted with lsblk,MERGED,2022-02-08 17:32:39.000000000,2022-02-09 11:49:53.000000000,2022-02-09 11:43:37.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2022-02-08 17:32:39.000000000', 'files': ['tests/get_logs.sh'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ac6051f54afd82e98ca8b45b09914b3dff9cb5ed', 'message': '[CI] Replace parted with lsblk\n\nparted hangs waiting for user input (see examples below)\non Debian and Ubuntu nodes which have created a cinder\nvolume on lvm, causing POST_FAILURE of the entire CI job.\nZun (Cinder iSCSI LVM) jobs are affected.\nparted seemingly tries to interpret contents of the created\nvolume and fails miserably.\nSince there is no reason why we would need to see the output\nof parted specifically, this patch is switching to use\nlsblk to simply list visible block devices.\nAlong with the rest of the commands, this should be just\nthe right level of detail.\nAnd we avoid having parted interpret internals of otherwise\nopaque block devices.\n\nExample issues:\n\nWarning: Not all of the space available to\n/dev/mapper/cinder--volumes-cinder--volumes--pool appears to be used, you can\nfix the GPT to use all of the space (an extra 9732096 blocks) or continue with\nthe current setting?\nFix/Ignore?\n\nWarning: Not all of the space available to\n/dev/mapper/cinder--volumes-cinder--volumes--pool-tpool appears to be used, you\ncan fix the GPT to use all of the space (an extra 9732096 blocks) or continue\nwith the current setting?\nFix/Ignore?\n\nWarning: Not all of the space available to\n/dev/mapper/cinder--volumes-cinder--volumes--pool_tdata appears to be used, you\ncan fix the GPT to use all of the space (an extra 9732096 blocks) or continue\nwith the current setting?\nFix/Ignore?\n\nChange-Id: I7beecf2dd6c49c8934722cf22efa74e920ecb060\n(cherry picked from commit 654edefca3061a9e61183544f71bc41ab7a61600)\n'}]",0,828248,ac6051f54afd82e98ca8b45b09914b3dff9cb5ed,9,3,1,30491,,,0,"[CI] Replace parted with lsblk

parted hangs waiting for user input (see examples below)
on Debian and Ubuntu nodes which have created a cinder
volume on lvm, causing POST_FAILURE of the entire CI job.
Zun (Cinder iSCSI LVM) jobs are affected.
parted seemingly tries to interpret contents of the created
volume and fails miserably.
Since there is no reason why we would need to see the output
of parted specifically, this patch is switching to use
lsblk to simply list visible block devices.
Along with the rest of the commands, this should be just
the right level of detail.
And we avoid having parted interpret internals of otherwise
opaque block devices.

Example issues:

Warning: Not all of the space available to
/dev/mapper/cinder--volumes-cinder--volumes--pool appears to be used, you can
fix the GPT to use all of the space (an extra 9732096 blocks) or continue with
the current setting?
Fix/Ignore?

Warning: Not all of the space available to
/dev/mapper/cinder--volumes-cinder--volumes--pool-tpool appears to be used, you
can fix the GPT to use all of the space (an extra 9732096 blocks) or continue
with the current setting?
Fix/Ignore?

Warning: Not all of the space available to
/dev/mapper/cinder--volumes-cinder--volumes--pool_tdata appears to be used, you
can fix the GPT to use all of the space (an extra 9732096 blocks) or continue
with the current setting?
Fix/Ignore?

Change-Id: I7beecf2dd6c49c8934722cf22efa74e920ecb060
(cherry picked from commit 654edefca3061a9e61183544f71bc41ab7a61600)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/48/828248/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/get_logs.sh'],1,ac6051f54afd82e98ca8b45b09914b3dff9cb5ed,ci-replace-parted-stable/xena-stable/wallaby, lsblk > ${LOG_DIR}/system_logs/lsblk.txt, parted -l > ${LOG_DIR}/system_logs/parted-l.txt,1,1
openstack%2Fkolla-ansible~stable%2Fxena~I7beecf2dd6c49c8934722cf22efa74e920ecb060,openstack/kolla-ansible,stable/xena,I7beecf2dd6c49c8934722cf22efa74e920ecb060,[CI] Replace parted with lsblk,MERGED,2022-02-08 17:32:16.000000000,2022-02-09 11:47:49.000000000,2022-02-09 11:43:01.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2022-02-08 17:32:16.000000000', 'files': ['tests/get_logs.sh'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f70008b35783179ea73175a0231330776270f4ea', 'message': '[CI] Replace parted with lsblk\n\nparted hangs waiting for user input (see examples below)\non Debian and Ubuntu nodes which have created a cinder\nvolume on lvm, causing POST_FAILURE of the entire CI job.\nZun (Cinder iSCSI LVM) jobs are affected.\nparted seemingly tries to interpret contents of the created\nvolume and fails miserably.\nSince there is no reason why we would need to see the output\nof parted specifically, this patch is switching to use\nlsblk to simply list visible block devices.\nAlong with the rest of the commands, this should be just\nthe right level of detail.\nAnd we avoid having parted interpret internals of otherwise\nopaque block devices.\n\nExample issues:\n\nWarning: Not all of the space available to\n/dev/mapper/cinder--volumes-cinder--volumes--pool appears to be used, you can\nfix the GPT to use all of the space (an extra 9732096 blocks) or continue with\nthe current setting?\nFix/Ignore?\n\nWarning: Not all of the space available to\n/dev/mapper/cinder--volumes-cinder--volumes--pool-tpool appears to be used, you\ncan fix the GPT to use all of the space (an extra 9732096 blocks) or continue\nwith the current setting?\nFix/Ignore?\n\nWarning: Not all of the space available to\n/dev/mapper/cinder--volumes-cinder--volumes--pool_tdata appears to be used, you\ncan fix the GPT to use all of the space (an extra 9732096 blocks) or continue\nwith the current setting?\nFix/Ignore?\n\nChange-Id: I7beecf2dd6c49c8934722cf22efa74e920ecb060\n(cherry picked from commit 654edefca3061a9e61183544f71bc41ab7a61600)\n'}]",0,828246,f70008b35783179ea73175a0231330776270f4ea,9,3,1,30491,,,0,"[CI] Replace parted with lsblk

parted hangs waiting for user input (see examples below)
on Debian and Ubuntu nodes which have created a cinder
volume on lvm, causing POST_FAILURE of the entire CI job.
Zun (Cinder iSCSI LVM) jobs are affected.
parted seemingly tries to interpret contents of the created
volume and fails miserably.
Since there is no reason why we would need to see the output
of parted specifically, this patch is switching to use
lsblk to simply list visible block devices.
Along with the rest of the commands, this should be just
the right level of detail.
And we avoid having parted interpret internals of otherwise
opaque block devices.

Example issues:

Warning: Not all of the space available to
/dev/mapper/cinder--volumes-cinder--volumes--pool appears to be used, you can
fix the GPT to use all of the space (an extra 9732096 blocks) or continue with
the current setting?
Fix/Ignore?

Warning: Not all of the space available to
/dev/mapper/cinder--volumes-cinder--volumes--pool-tpool appears to be used, you
can fix the GPT to use all of the space (an extra 9732096 blocks) or continue
with the current setting?
Fix/Ignore?

Warning: Not all of the space available to
/dev/mapper/cinder--volumes-cinder--volumes--pool_tdata appears to be used, you
can fix the GPT to use all of the space (an extra 9732096 blocks) or continue
with the current setting?
Fix/Ignore?

Change-Id: I7beecf2dd6c49c8934722cf22efa74e920ecb060
(cherry picked from commit 654edefca3061a9e61183544f71bc41ab7a61600)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/46/828246/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/get_logs.sh'],1,f70008b35783179ea73175a0231330776270f4ea,ci-replace-parted-stable/xena, lsblk > ${LOG_DIR}/system_logs/lsblk.txt, parted -l > ${LOG_DIR}/system_logs/parted-l.txt,1,1
openstack%2Fceilometer~stable%2Fwallaby~I93b6e92a5f46de5486f30a99fa3917a5932f7360,openstack/ceilometer,stable/wallaby,I93b6e92a5f46de5486f30a99fa3917a5932f7360,Support two nova metadata versions in instance XML,MERGED,2022-02-09 08:49:07.000000000,2022-02-09 11:29:43.000000000,2022-02-09 11:25:42.000000000,"[{'_account_id': 4264}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-09 08:49:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/0a67e13ea62c1c918638136cf094ebd31ae049c2', 'message': 'Support two nova metadata versions in instance XML\n\nthis is followup to I2aa34cf142c6429a7a0a3b8f232c3ed83f7d9981\n\nIn order to support discovery of instances booted before Wallaby,\nceilometer must support working with both 1.0 (old, Victoria and before)\nand 1.1 (new, Wallaby and for now newer) versions of nova metadata.\n\nConflicts: ceilometer/compute/discovery.py\n\nChange-Id: I93b6e92a5f46de5486f30a99fa3917a5932f7360\nRelated-Bug: #1930446\n(cherry picked from commit 2fc72043d31af7acd45f918eeb290d9d7564d168)\n(cherry picked from commit c724307a080469e25950e25093b3e70b92794415)\n'}, {'number': 2, 'created': '2022-02-09 09:09:56.000000000', 'files': ['ceilometer/compute/discovery.py', 'ceilometer/compute/virt/libvirt/utils.py'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/1b29c70caac1e2dd4deae28e079352453daa6515', 'message': 'Support two nova metadata versions in instance XML\n\nthis is followup to I2aa34cf142c6429a7a0a3b8f232c3ed83f7d9981\n\nIn order to support discovery of instances booted before Wallaby,\nceilometer must support working with both 1.0 (old, Victoria and before)\nand 1.1 (new, Wallaby and for now newer) versions of nova metadata.\n\nConflicts: ceilometer/compute/discovery.py\n\nChange-Id: I93b6e92a5f46de5486f30a99fa3917a5932f7360\nRelated-Bug: #1930446\n(cherry picked from commit 2fc72043d31af7acd45f918eeb290d9d7564d168)\n(cherry picked from commit c724307a080469e25950e25093b3e70b92794415)\n'}]",1,828486,1b29c70caac1e2dd4deae28e079352453daa6515,9,2,2,16137,,,0,"Support two nova metadata versions in instance XML

this is followup to I2aa34cf142c6429a7a0a3b8f232c3ed83f7d9981

In order to support discovery of instances booted before Wallaby,
ceilometer must support working with both 1.0 (old, Victoria and before)
and 1.1 (new, Wallaby and for now newer) versions of nova metadata.

Conflicts: ceilometer/compute/discovery.py

Change-Id: I93b6e92a5f46de5486f30a99fa3917a5932f7360
Related-Bug: #1930446
(cherry picked from commit 2fc72043d31af7acd45f918eeb290d9d7564d168)
(cherry picked from commit c724307a080469e25950e25093b3e70b92794415)
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/86/828486/1 && git format-patch -1 --stdout FETCH_HEAD,"['ceilometer/compute/discovery.py', 'ceilometer/compute/virt/libvirt/utils.py']",2,0a67e13ea62c1c918638136cf094ebd31ae049c2,,"# NOTE(pas-ha) in the order from newest to oldest NOVA_METADATA_VERSIONS = ( ""http://openstack.org/xmlns/libvirt/nova/1.1"", ""http://openstack.org/xmlns/libvirt/nova/1.0"", ) @retry_on_disconnect def instance_metadata(domain): xml_string = None last_error = None for meta_version in NOVA_METADATA_VERSIONS: try: xml_string = domain.metadata( libvirt.VIR_DOMAIN_METADATA_ELEMENT, meta_version) break except libvirt.libvirtError as exc: if exc.get_error_code() == libvirt.VIR_ERR_NO_DOMAIN_METADATA: LOG.warning(""Failed to find metadata %s in domain %s"", meta_version, domain.UUIDString()) last_error = exc continue elif is_disconnection_exception(exc): # Re-raise the exception so it's handled and retries raise last_error = exc if xml_string is None: LOG.error( ""Fail to get domain uuid %s metadata, libvirtError: %s"", domain.UUIDString(), last_error ) return xml_string",,36,11
openstack%2Fneutron~stable%2Fxena~Ibaefbb9935020318ed670774b0205f3bcffef4ad,openstack/neutron,stable/xena,Ibaefbb9935020318ed670774b0205f3bcffef4ad,Disable tracebacks of eventlet.wsgi.server,ABANDONED,2022-01-31 10:19:28.000000000,2022-02-09 11:23:04.000000000,,"[{'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-31 10:19:28.000000000', 'files': ['requirements.txt', 'neutron/wsgi.py', 'neutron/tests/unit/test_wsgi.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/48868d4e69c717d5a182fb1ff6a6bb66a0e548fa', 'message': 'Disable tracebacks of eventlet.wsgi.server\n\nSecurity folks considered tracebacks in API responses unwanted.\n\nChange-Id: Ibaefbb9935020318ed670774b0205f3bcffef4ad\nCloses-Bug: #1951429\nDepends-On: https://review.opendev.org/c/openstack/oslo.service/+/824914\n(cherry picked from commit 0256e494d029ac18bc6c9fed0fd995283c675075)\n'}]",3,827037,48868d4e69c717d5a182fb1ff6a6bb66a0e548fa,11,2,1,15554,,,0,"Disable tracebacks of eventlet.wsgi.server

Security folks considered tracebacks in API responses unwanted.

Change-Id: Ibaefbb9935020318ed670774b0205f3bcffef4ad
Closes-Bug: #1951429
Depends-On: https://review.opendev.org/c/openstack/oslo.service/+/824914
(cherry picked from commit 0256e494d029ac18bc6c9fed0fd995283c675075)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/37/827037/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'neutron/wsgi.py', 'neutron/tests/unit/test_wsgi.py']",3,48868d4e69c717d5a182fb1ff6a6bb66a0e548fa,bug/1951429," socket_timeout=server.client_socket_timeout, debug=False,", socket_timeout=server.client_socket_timeout,5,3
openstack%2Fneutron~stable%2Fwallaby~Ibaefbb9935020318ed670774b0205f3bcffef4ad,openstack/neutron,stable/wallaby,Ibaefbb9935020318ed670774b0205f3bcffef4ad,Disable tracebacks of eventlet.wsgi.server,ABANDONED,2022-01-31 10:20:04.000000000,2022-02-09 11:22:59.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-01-31 10:20:04.000000000', 'files': ['requirements.txt', 'neutron/wsgi.py', 'neutron/tests/unit/test_wsgi.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/3003549beb2df9aa14b0a8cb4ca925d95b0d2b4c', 'message': 'Disable tracebacks of eventlet.wsgi.server\n\nSecurity folks considered tracebacks in API responses unwanted.\n\nChange-Id: Ibaefbb9935020318ed670774b0205f3bcffef4ad\nCloses-Bug: #1951429\nDepends-On: https://review.opendev.org/c/openstack/oslo.service/+/824914\n(cherry picked from commit 0256e494d029ac18bc6c9fed0fd995283c675075)\n(cherry picked from commit 940e56c495ce5dacf6004c34619516e4f6d1be2e)\n'}]",0,827038,3003549beb2df9aa14b0a8cb4ca925d95b0d2b4c,5,1,1,15554,,,0,"Disable tracebacks of eventlet.wsgi.server

Security folks considered tracebacks in API responses unwanted.

Change-Id: Ibaefbb9935020318ed670774b0205f3bcffef4ad
Closes-Bug: #1951429
Depends-On: https://review.opendev.org/c/openstack/oslo.service/+/824914
(cherry picked from commit 0256e494d029ac18bc6c9fed0fd995283c675075)
(cherry picked from commit 940e56c495ce5dacf6004c34619516e4f6d1be2e)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/38/827038/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'neutron/wsgi.py', 'neutron/tests/unit/test_wsgi.py']",3,3003549beb2df9aa14b0a8cb4ca925d95b0d2b4c,bug/1951429," socket_timeout=server.client_socket_timeout, debug=False,", socket_timeout=server.client_socket_timeout,5,3
openstack%2Fneutron~stable%2Fvictoria~Ibaefbb9935020318ed670774b0205f3bcffef4ad,openstack/neutron,stable/victoria,Ibaefbb9935020318ed670774b0205f3bcffef4ad,Disable tracebacks of eventlet.wsgi.server,ABANDONED,2022-01-31 10:20:44.000000000,2022-02-09 11:22:55.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-01-31 10:20:44.000000000', 'files': ['requirements.txt', 'neutron/wsgi.py', 'neutron/tests/unit/test_wsgi.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/9ac3f0721f64904001e7a04c5bb5527c443a1052', 'message': 'Disable tracebacks of eventlet.wsgi.server\n\nSecurity folks considered tracebacks in API responses unwanted.\n\nChange-Id: Ibaefbb9935020318ed670774b0205f3bcffef4ad\nCloses-Bug: #1951429\nDepends-On: https://review.opendev.org/c/openstack/oslo.service/+/824914\n(cherry picked from commit 0256e494d029ac18bc6c9fed0fd995283c675075)\n(cherry picked from commit 940e56c495ce5dacf6004c34619516e4f6d1be2e)\n(cherry picked from commit 3003549beb2df9aa14b0a8cb4ca925d95b0d2b4c)\n'}]",0,827039,9ac3f0721f64904001e7a04c5bb5527c443a1052,4,1,1,15554,,,0,"Disable tracebacks of eventlet.wsgi.server

Security folks considered tracebacks in API responses unwanted.

Change-Id: Ibaefbb9935020318ed670774b0205f3bcffef4ad
Closes-Bug: #1951429
Depends-On: https://review.opendev.org/c/openstack/oslo.service/+/824914
(cherry picked from commit 0256e494d029ac18bc6c9fed0fd995283c675075)
(cherry picked from commit 940e56c495ce5dacf6004c34619516e4f6d1be2e)
(cherry picked from commit 3003549beb2df9aa14b0a8cb4ca925d95b0d2b4c)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/39/827039/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'neutron/wsgi.py', 'neutron/tests/unit/test_wsgi.py']",3,9ac3f0721f64904001e7a04c5bb5527c443a1052,bug/1951429," socket_timeout=server.client_socket_timeout, debug=False,", socket_timeout=server.client_socket_timeout,5,3
openstack%2Fopenstack-ansible~stable%2Fxena~I263315b13669a0b9b2fe318f86fe8d0cf1e3fafd,openstack/openstack-ansible,stable/xena,I263315b13669a0b9b2fe318f86fe8d0cf1e3fafd,Fix additional facts gathering in ceph-install.yml,MERGED,2022-02-08 19:13:18.000000000,2022-02-09 11:13:11.000000000,2022-02-09 11:10:15.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}, {'_account_id': 32666}]","[{'number': 1, 'created': '2022-02-08 19:13:18.000000000', 'files': ['playbooks/ceph-install.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/403b068f16315ec993c8444b25fefff1ac3e1fa4', 'message': 'Fix additional facts gathering in ceph-install.yml\n\nAs of Ansible 2.11, the type of \'filter\' in setup module has changed from string to list and the default has became an empty list. A simple string is still accepted and works as a single pattern[1].\nHowever, there are some corner cases when a simple string misbehaves and it happened here where ansible tries to create a list when it\'s not necessary:\n\n""invocation"": {\n  ""module_args"": {\n    ""gather_subset"": [""!all"", ""network""],\n    ""filter"": [""ansible_all_ipv[4"", ""6]_addresses""],\n    ""gather_timeout"": 10,\n    ""fact_path"": ""/etc/ansible/facts.d""\n  }\n}\n\nPreviously I tried to fix it differently in Change #823437 but Andrew Bonney proposed a better way of handling this issue.\n\n[1] https://docs.ansible.com/ansible/latest/collections/ansible/builtin/setup_module.html#parameter-filter\n\nCo-authored-by: Andrew Bonney <andrew.bonney@bbc.co.uk>\nChange-Id: I263315b13669a0b9b2fe318f86fe8d0cf1e3fafd\n(cherry picked from commit 61c550d0835449f08f00172fa2bfd6bab24ccce2)\n'}]",0,828392,403b068f16315ec993c8444b25fefff1ac3e1fa4,9,4,1,28619,,,0,"Fix additional facts gathering in ceph-install.yml

As of Ansible 2.11, the type of 'filter' in setup module has changed from string to list and the default has became an empty list. A simple string is still accepted and works as a single pattern[1].
However, there are some corner cases when a simple string misbehaves and it happened here where ansible tries to create a list when it's not necessary:

""invocation"": {
  ""module_args"": {
    ""gather_subset"": [""!all"", ""network""],
    ""filter"": [""ansible_all_ipv[4"", ""6]_addresses""],
    ""gather_timeout"": 10,
    ""fact_path"": ""/etc/ansible/facts.d""
  }
}

Previously I tried to fix it differently in Change #823437 but Andrew Bonney proposed a better way of handling this issue.

[1] https://docs.ansible.com/ansible/latest/collections/ansible/builtin/setup_module.html#parameter-filter

Co-authored-by: Andrew Bonney <andrew.bonney@bbc.co.uk>
Change-Id: I263315b13669a0b9b2fe318f86fe8d0cf1e3fafd
(cherry picked from commit 61c550d0835449f08f00172fa2bfd6bab24ccce2)
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/92/828392/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/ceph-install.yml'],1,403b068f16315ec993c8444b25fefff1ac3e1fa4,," deployment_extra_facts_filter: ""ansible_all_ipv[4|6]_addresses"""," deployment_extra_facts_filter: ""ansible_all_ipv[4,6]_addresses""",1,1
openstack%2Fbarbican~master~I1724152839f0f5850f8d32d40b36d1670c0ad996,openstack/barbican,master,I1724152839f0f5850f8d32d40b36d1670c0ad996,Fix container consumers rbac policy,MERGED,2021-11-04 21:57:49.000000000,2022-02-09 11:08:47.000000000,2022-02-08 19:54:20.000000000,"[{'_account_id': 7414}, {'_account_id': 7973}, {'_account_id': 9914}, {'_account_id': 22348}, {'_account_id': 31661}, {'_account_id': 34120}]","[{'number': 1, 'created': '2021-11-04 21:57:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/abc33b251e74c6c37a89050195461466b7c035d2', 'message': 'WIP - Fix container rbac policy\n\nChange-Id: I1724152839f0f5850f8d32d40b36d1670c0ad996\n'}, {'number': 2, 'created': '2021-11-05 17:11:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/be8140482fca3fc972efd85895cad06f342fdd59', 'message': 'Fix container consumers rbac policy\n\nThis patch modifies the Consumer controller to enable the use of\nownership information in policy checks. e.g. policies that use a target\ncontainer:\n\n   project_id:%(target.container.project_id)\n\nChange-Id: I1724152839f0f5850f8d32d40b36d1670c0ad996\n'}, {'number': 3, 'created': '2021-11-10 19:45:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/419db8b35dc7ba496fa8afd9deab1d36ee560e30', 'message': 'Fix container consumers rbac policy\n\nThis patch modifies the Consumer controller to enable the use of\nownership information in policy checks. e.g. policies that use a target\ncontainer:\n\n   project_id:%(target.container.project_id)\n\nChange-Id: I1724152839f0f5850f8d32d40b36d1670c0ad996\n'}, {'number': 4, 'created': '2021-11-10 21:42:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/4cdadc743747478053a771a2e533ef92b8d867d1', 'message': 'Fix container consumers rbac policy\n\nThis patch modifies the Consumer controller to enable the use of\nownership information in policy checks. e.g. policies that use a target\ncontainer:\n\n   project_id:%(target.container.project_id)\n\nChange-Id: I1724152839f0f5850f8d32d40b36d1670c0ad996\n'}, {'number': 5, 'created': '2021-11-11 18:50:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/a17fe2949a72da9fda40a12accfe150c73ca370d', 'message': 'Fix container consumers rbac policy\n\nThis patch modifies the Consumer controller to enable the use of\nownership information in policy checks. e.g. policies that use a target\ncontainer:\n\n   project_id:%(target.container.project_id)\n\nChange-Id: I1724152839f0f5850f8d32d40b36d1670c0ad996\n'}, {'number': 6, 'created': '2021-11-11 21:00:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/82ccb7c62e95dc2741ab774ee06a5d7796de6e88', 'message': 'Fix container consumers rbac policy\n\nThis patch modifies the Consumer controller to enable the use of\nownership information in policy checks. e.g. policies that use a target\ncontainer:\n\n   project_id:%(target.container.project_id)\n\nDepends-On: I8698fc7a9ac849b8c24adfe824ca44dd3e42b999\nChange-Id: I1724152839f0f5850f8d32d40b36d1670c0ad996\n'}, {'number': 7, 'created': '2021-11-11 21:36:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/573b0ca0c8eb79ace2d6dc2eaa035a06230d1d35', 'message': 'Fix container consumers rbac policy\n\nThis patch modifies the Consumer controller to enable the use of\nownership information in policy checks. e.g. policies that use a target\ncontainer:\n\n   project_id:%(target.container.project_id)\n\nStory: 2009664\nTask: 43872\n\nChange-Id: I1724152839f0f5850f8d32d40b36d1670c0ad996\n'}, {'number': 8, 'created': '2021-11-11 21:58:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/a08d9724c4958f03495a2cfce07f5c3ed47cd233', 'message': 'Fix container consumers rbac policy\n\nThis patch modifies the Consumer controller to enable the use of\nownership information in policy checks. e.g. policies that use a target\ncontainer:\n\n   project_id:%(target.container.project_id)\n\nStory: 2009664\nTask: 43872\n\nDepends-On: I8698fc7a9ac849b8c24adfe824ca44dd3e42b999\nChange-Id: I1724152839f0f5850f8d32d40b36d1670c0ad996\n'}, {'number': 9, 'created': '2021-11-12 22:04:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/300df0a29658d4f11edd2def3109a64e773a00db', 'message': 'Fix container consumers rbac policy\n\nThis patch modifies the Consumer controller to enable the use of\nownership information in policy checks. e.g. policies that use a target\ncontainer:\n\n   project_id:%(target.container.project_id)\n\nStory: 2009664\nTask: 43872\n\nDepends-On: I8698fc7a9ac849b8c24adfe824ca44dd3e42b999\nChange-Id: I1724152839f0f5850f8d32d40b36d1670c0ad996\n'}, {'number': 10, 'created': '2021-11-17 22:17:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/fca3517d637b8c587ded9fc5d85f83a9a036cfdd', 'message': 'Fix container consumers rbac policy\n\nThis patch modifies the Consumer controller to enable the use of\nownership information in policy checks. e.g. policies that use a target\ncontainer:\n\n   project_id:%(target.container.project_id)\n\nStory: 2009664\nTask: 43872\n\nDepends-On: I8698fc7a9ac849b8c24adfe824ca44dd3e42b999\nChange-Id: I1724152839f0f5850f8d32d40b36d1670c0ad996\n'}, {'number': 11, 'created': '2021-11-17 22:27:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/afda93c668ff075034fc784c2e19c81367ba369f', 'message': 'Fix container consumers rbac policy\n\nThis patch modifies the Consumer controller to enable the use of\nownership information in policy checks. e.g. policies that use a target\ncontainer:\n\n   project_id:%(target.container.project_id)\n\nStory: 2009664\nTask: 43872\n\nDepends-On: I8698fc7a9ac849b8c24adfe824ca44dd3e42b999\nChange-Id: I1724152839f0f5850f8d32d40b36d1670c0ad996\n'}, {'number': 12, 'created': '2021-12-02 20:52:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/700e7ab0451fbbae82d2abbf29e71ab55f28a855', 'message': 'Fix container consumers rbac policy\n\nThis patch modifies the Consumer controller to enable the use of\nownership information in policy checks. e.g. policies that use a target\ncontainer:\n\n   project_id:%(target.container.project_id)\n\nStory: 2009664\nTask: 43872\n\nDepends-On: I8698fc7a9ac849b8c24adfe824ca44dd3e42b999\nChange-Id: I1724152839f0f5850f8d32d40b36d1670c0ad996\n'}, {'number': 13, 'created': '2022-01-28 21:40:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/0392eec95be003d15dfba857a86b5e3a886f0795', 'message': 'Fix container consumers rbac policy\n\nThis patch modifies the Consumer controller to enable the use of\nownership information in policy checks. e.g. policies that use a target\ncontainer:\n\n   project_id:%(target.container.project_id)\n\nStory: 2009664\nTask: 43872\n\nDepends-On: I8698fc7a9ac849b8c24adfe824ca44dd3e42b999\nChange-Id: I1724152839f0f5850f8d32d40b36d1670c0ad996\n'}, {'number': 14, 'created': '2022-02-03 23:23:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/1bf418ce98b47541d8fe422c11a8f13274610ffa', 'message': 'Fix container consumers rbac policy\n\nThis patch modifies the Consumer controller to enable the use of\nownership information in policy checks. e.g. policies that use a target\ncontainer:\n\n   project_id:%(target.container.project_id)\n\nStory: 2009664\nTask: 43872\n\nDepends-On: I8698fc7a9ac849b8c24adfe824ca44dd3e42b999\nChange-Id: I1724152839f0f5850f8d32d40b36d1670c0ad996\n'}, {'number': 15, 'created': '2022-02-07 22:21:46.000000000', 'files': ['barbican/api/controllers/acls.py', 'barbican/api/controllers/orders.py', 'barbican/api/controllers/transportkeys.py', 'barbican/api/controllers/secretmeta.py', 'barbican/api/controllers/secretstores.py', 'releasenotes/notes/fix-story-2009664-042ef282c0dd6b6a.yaml', 'barbican/api/controllers/consumers.py', 'barbican/api/controllers/containers.py', 'barbican/api/controllers/quotas.py', 'barbican/api/controllers/secrets.py', 'barbican/common/policies/consumers.py', 'barbican/tests/api/test_resources_policy.py', 'barbican/api/controllers/__init__.py', 'functionaltests/api/v1/functional/test_acls.py'], 'web_link': 'https://opendev.org/openstack/barbican/commit/960159332864740cfbdaeb339ddbaae48238a6d2', 'message': 'Fix container consumers rbac policy\n\nThis patch modifies the Consumer controller to enable the use of\nownership information in policy checks. e.g. policies that use a target\ncontainer:\n\n   project_id:%(target.container.project_id)\n\nStory: 2009664\nTask: 43872\n\nDepends-On: I8698fc7a9ac849b8c24adfe824ca44dd3e42b999\nChange-Id: I1724152839f0f5850f8d32d40b36d1670c0ad996\n'}]",28,816756,960159332864740cfbdaeb339ddbaae48238a6d2,54,6,15,7973,,,0,"Fix container consumers rbac policy

This patch modifies the Consumer controller to enable the use of
ownership information in policy checks. e.g. policies that use a target
container:

   project_id:%(target.container.project_id)

Story: 2009664
Task: 43872

Depends-On: I8698fc7a9ac849b8c24adfe824ca44dd3e42b999
Change-Id: I1724152839f0f5850f8d32d40b36d1670c0ad996
",git fetch https://review.opendev.org/openstack/barbican refs/changes/56/816756/4 && git format-patch -1 --stdout FETCH_HEAD,"['barbican/api/controllers/__init__.py', 'barbican/api/controllers/consumers.py', 'barbican/api/controllers/containers.py']",3,abc33b251e74c6c37a89050195461466b7c035d2,secure-rbac,class ContainerController(controllers.ContainerACLMixin): self.container)class ContainersSecretsController(controllers.ContainerACLMixin):,"class ContainerController(controllers.ACLMixin): self.container_id) def get_acl_tuple(self, req, **kwargs): d = self.get_acl_dict_for_user(req, self.container.container_acls) d['project_id'] = self.container.project.external_id d['creator_id'] = self.container.creator_id return 'container', d class ContainersSecretsController(controllers.ACLMixin): def get_acl_tuple(self, req, **kwargs): acl = self.get_acl_dict_for_user(req, self.container.container_acls) acl['project_id'] = self.container.project.external_id acl['creator_id'] = self.container.creator_id return ('container', acl) ",27,39
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~I8eb45da9a932eff459d2d1ea980c405d25411d78,openstack/tripleo-heat-templates,stable/wallaby,I8eb45da9a932eff459d2d1ea980c405d25411d78,Clean up old container config files from container-startup-config.,ABANDONED,2022-02-04 06:57:53.000000000,2022-02-09 10:58:43.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}]","[{'number': 1, 'created': '2022-02-04 06:57:53.000000000', 'files': ['deployment/undercloud/undercloud-upgrade.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e38d96c5251f249dd1c120771b6ea88aa1d6316c', 'message': 'Clean up old container config files from container-startup-config.\n\nWhen performing the upgrade from Train to Wallaby some of\nthe container config files from Train remain causing its\nrecreation during the the deployment steps.\n\nThis patch removes the /var/lib/tripleo-config/container-startup-\nconfig folder with the intention of cleaining it up during the\nUndercloud upgrade procedure. The folder then gets recreated and\nall the new corresponding container configs will be added during\nthe deployment steps.\n\nChange-Id: I8eb45da9a932eff459d2d1ea980c405d25411d78\nRelated-bug: #1959662\n'}]",3,827742,e38d96c5251f249dd1c120771b6ea88aa1d6316c,7,3,1,26343,,,0,"Clean up old container config files from container-startup-config.

When performing the upgrade from Train to Wallaby some of
the container config files from Train remain causing its
recreation during the the deployment steps.

This patch removes the /var/lib/tripleo-config/container-startup-
config folder with the intention of cleaining it up during the
Undercloud upgrade procedure. The folder then gets recreated and
all the new corresponding container configs will be added during
the deployment steps.

Change-Id: I8eb45da9a932eff459d2d1ea980c405d25411d78
Related-bug: #1959662
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/42/827742/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/undercloud/undercloud-upgrade.yaml'],1,e38d96c5251f249dd1c120771b6ea88aa1d6316c,, - name: get rid of old container config files in tripleo-config/container-startup-config become: true file: path: /var/lib/tripleo-config/container-startup-config/ state: absent when: step|int == 0,,6,0
openstack%2Fceilometer~stable%2Fwallaby~Ie1a033f1dcb1b62bf1bc8a213b9d7ef7e4e5b299,openstack/ceilometer,stable/wallaby,Ie1a033f1dcb1b62bf1bc8a213b9d7ef7e4e5b299,setup.cfg: Replace dashes with underscores,MERGED,2022-02-09 07:32:18.000000000,2022-02-09 10:58:09.000000000,2022-02-09 10:50:37.000000000,"[{'_account_id': 4264}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-09 07:32:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/043f9f2ad714036a8e2eef09438aa911d689820f', 'message': ""setup.cfg: Replace dashes with underscores\n\nResolves warnings like the following:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\nChange-Id: Ie1a033f1dcb1b62bf1bc8a213b9d7ef7e4e5b299\n(cherry picked from commit 6c99d4dbad9c3ad850a1156cf45f0108810168bd)\n""}, {'number': 2, 'created': '2022-02-09 09:09:47.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/199801fbc578429fc88f3b3d0f796432c152d438', 'message': ""setup.cfg: Replace dashes with underscores\n\nResolves warnings like the following:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\nChange-Id: Ie1a033f1dcb1b62bf1bc8a213b9d7ef7e4e5b299\n(cherry picked from commit 6c99d4dbad9c3ad850a1156cf45f0108810168bd)\n""}]",0,828465,199801fbc578429fc88f3b3d0f796432c152d438,9,2,2,4264,,,0,"setup.cfg: Replace dashes with underscores

Resolves warnings like the following:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

Change-Id: Ie1a033f1dcb1b62bf1bc8a213b9d7ef7e4e5b299
(cherry picked from commit 6c99d4dbad9c3ad850a1156cf45f0108810168bd)
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/65/828465/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,043f9f2ad714036a8e2eef09438aa911d689820f,wallaby,description_file =author_email = openstack-discuss@lists.openstack.org home_page = https://docs.openstack.org/ceilometer/latest/ python_requires = >=3.6,description-file =author-email = openstack-discuss@lists.openstack.org home-page = https://docs.openstack.org/ceilometer/latest/ python-requires = >=3.6,4,4
openstack%2Ftripleo-ansible~master~Id849c3191e2fcb4f7d80830522386d1320f56a20,openstack/tripleo-ansible,master,Id849c3191e2fcb4f7d80830522386d1320f56a20,WIP: Clean up old step directories in container config files.,ABANDONED,2022-02-08 09:43:01.000000000,2022-02-09 10:56:29.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-02-08 09:43:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/685e643983e386ed601343ddcc464656218aad07', 'message': 'WIP: Clean up old step directories in container config files.\n\nChange-Id: Id849c3191e2fcb4f7d80830522386d1320f56a20\n'}, {'number': 2, 'created': '2022-02-08 13:13:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/a6f01ea3703c8abdcc18c7abb002f1c9ba5e56f1', 'message': 'WIP: Clean up old step directories in container config files.\n\nChange-Id: Id849c3191e2fcb4f7d80830522386d1320f56a20\n'}, {'number': 3, 'created': '2022-02-08 13:23:17.000000000', 'files': ['tripleo_ansible/ansible_plugins/modules/container_startup_config.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/05f609124cbd568b06c52b4e3fa15c8c89463e63', 'message': 'WIP: Clean up old step directories in container config files.\n\nChange-Id: Id849c3191e2fcb4f7d80830522386d1320f56a20\n'}]",4,828261,05f609124cbd568b06c52b4e3fa15c8c89463e63,8,2,3,26343,,,0,"WIP: Clean up old step directories in container config files.

Change-Id: Id849c3191e2fcb4f7d80830522386d1320f56a20
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/61/828261/2 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/ansible_plugins/modules/container_startup_config.py'],1,685e643983e386ed601343ddcc464656218aad07,," # Clean up old step folders after upgrade/update diff_steps = set(os.listdir(self.config_base_dir)) - set(self.config_data.keys()) for step in diff_steps: step_dir = os.path.join(self.config_base_dir,step) shutil.rmtree(step_dir, ignore_errors=True) ",,7,0
openstack%2Fceilometer~stable%2Fwallaby~Ib9a73d9beaf0e97b297ada36294c977f0adc6049,openstack/ceilometer,stable/wallaby,Ib9a73d9beaf0e97b297ada36294c977f0adc6049,Pin cryptography to 3.2.0 to make pyOpenSSL,MERGED,2021-12-17 08:00:26.000000000,2022-02-09 10:56:09.000000000,2022-02-09 10:50:35.000000000,"[{'_account_id': 4264}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-17 08:00:26.000000000', 'files': ['lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/9ad7c9c0219ac6987ac6939834701cfa2554e1b7', 'message': ""Pin cryptography to 3.2.0 to make pyOpenSSL\n\nwork in wallaby branch. The module 'lib' has dropped the attribute\n'Cryptography_HAS_TLSEXT_HOSTNAME' in later releases.\n\nChange-Id: Ib9a73d9beaf0e97b297ada36294c977f0adc6049\n""}]",2,822078,9ad7c9c0219ac6987ac6939834701cfa2554e1b7,10,3,1,4264,,,0,"Pin cryptography to 3.2.0 to make pyOpenSSL

work in wallaby branch. The module 'lib' has dropped the attribute
'Cryptography_HAS_TLSEXT_HOSTNAME' in later releases.

Change-Id: Ib9a73d9beaf0e97b297ada36294c977f0adc6049
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/78/822078/1 && git format-patch -1 --stdout FETCH_HEAD,['lower-constraints.txt'],1,9ad7c9c0219ac6987ac6939834701cfa2554e1b7,stable_wallaby,cryptography==3.2.0,,1,0
openstack%2Fopenstack-ansible-lxc_hosts~stable%2Fwallaby~I3adb4dd75198935c4656d0208043ad8051f29312,openstack/openstack-ansible-lxc_hosts,stable/wallaby,I3adb4dd75198935c4656d0208043ad8051f29312,Ensure that the legacy network-scripts package is present,MERGED,2022-02-08 09:28:06.000000000,2022-02-09 10:29:32.000000000,2022-02-09 10:27:39.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-02-08 09:28:06.000000000', 'files': ['vars/redhat-host.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/1c09f9f559315d08d06eedadd3bb1670ccc58ddf', 'message': 'Ensure that the legacy network-scripts package is present\n\nThe lxc_hosts ansible role currently relies on the ifup / ifdown\ncommands.\n\nChange-Id: I3adb4dd75198935c4656d0208043ad8051f29312\n(cherry picked from commit 9a4004169450a0bb68ffe0fec31e6887a9c075f3)\n'}]",1,828236,1c09f9f559315d08d06eedadd3bb1670ccc58ddf,10,3,1,25023,,,0,"Ensure that the legacy network-scripts package is present

The lxc_hosts ansible role currently relies on the ifup / ifdown
commands.

Change-Id: I3adb4dd75198935c4656d0208043ad8051f29312
(cherry picked from commit 9a4004169450a0bb68ffe0fec31e6887a9c075f3)
",git fetch https://review.opendev.org/openstack/openstack-ansible-lxc_hosts refs/changes/36/828236/1 && git format-patch -1 --stdout FETCH_HEAD,['vars/redhat-host.yml'],1,1c09f9f559315d08d06eedadd3bb1670ccc58ddf,, - network-scripts,,1,0
openstack%2Fopenstack-ansible-lxc_hosts~stable%2Fxena~Ieb41362920ee398d5b17c5c0331735b240fb5102,openstack/openstack-ansible-lxc_hosts,stable/xena,Ieb41362920ee398d5b17c5c0331735b240fb5102,Replace CentOS 8 with Stream jobs,MERGED,2022-02-07 09:41:24.000000000,2022-02-09 10:27:59.000000000,2022-02-09 10:21:29.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-02-07 09:41:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/08f8d0797921feb6cb9fde7eaeaa7f147c5cd1bc', 'message': 'Replace CentOS 8 with Stream jobs\n\nChange-Id: Ieb41362920ee398d5b17c5c0331735b240fb5102\n'}, {'number': 2, 'created': '2022-02-08 14:26:19.000000000', 'files': ['zuul.d/project.yaml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/86ef148408777a315a4d9f3b33aa83d39c254440', 'message': 'Replace CentOS 8 with Stream jobs\n\nChange-Id: Ieb41362920ee398d5b17c5c0331735b240fb5102\n'}]",0,828095,86ef148408777a315a4d9f3b33aa83d39c254440,10,3,2,28619,,,0,"Replace CentOS 8 with Stream jobs

Change-Id: Ieb41362920ee398d5b17c5c0331735b240fb5102
",git fetch https://review.opendev.org/openstack/openstack-ansible-lxc_hosts refs/changes/95/828095/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/project.yaml', 'zuul.d/jobs.yaml']",2,08f8d0797921feb6cb9fde7eaeaa7f147c5cd1bc,osa/remove-centos8, name: openstack-ansible-lxc-dir-centos-8-stream nodeset: centos-8-stream, name: openstack-ansible-lxc-dir-centos-8 nodeset: centos-8,3,3
openstack%2Fcinder~master~I87d33f215a064a70cea989d524dc26affeea0c3e,openstack/cinder,master,I87d33f215a064a70cea989d524dc26affeea0c3e,Use LOG.warning instead of deprecated LOG.warn,MERGED,2021-11-29 05:18:49.000000000,2022-02-09 10:14:54.000000000,2022-02-09 03:34:05.000000000,"[{'_account_id': 5314}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 30615}]","[{'number': 1, 'created': '2021-11-29 05:18:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/adccca31bbb1766a4b393cd4c251e7c5fa0daf43', 'message': 'Do not use deprecated LOG.warn\n\n... and use LOG.warning instead.\n\nChange-Id: I87d33f215a064a70cea989d524dc26affeea0c3e\n'}, {'number': 2, 'created': '2021-11-29 06:09:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/d91a06aa81d9b0d7d8bdba7a2bdce980ca8615a2', 'message': 'Do not use deprecated LOG.warn\n\n... and use LOG.warning instead.\n\nChange-Id: I87d33f215a064a70cea989d524dc26affeea0c3e\n'}, {'number': 3, 'created': '2021-11-29 06:18:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/73453e76bc84daa295b34d4da192764b04ac0a07', 'message': 'Do not use deprecated LOG.warn\n\n... and use LOG.warning instead.\n\nChange-Id: I87d33f215a064a70cea989d524dc26affeea0c3e\n'}, {'number': 4, 'created': '2021-11-29 06:18:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ee21d2750bae2803883d0d3894a2c3f1766fb6d7', 'message': 'Do not use deprecated LOG.warn\n\n... and use LOG.warning instead.\n\nChange-Id: I87d33f215a064a70cea989d524dc26affeea0c3e\n'}, {'number': 5, 'created': '2021-11-29 06:46:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/8ca607464db3098d33939f43611c326e5d0a11d6', 'message': 'Do not use deprecated LOG.warn\n\n... and use LOG.warning instead.\n\nChange-Id: I87d33f215a064a70cea989d524dc26affeea0c3e\n'}, {'number': 6, 'created': '2021-11-29 06:50:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/47ad155b099ef29c6dd921438a50fb930e8d77ea', 'message': 'Do not use deprecated LOG.warn\n\n... but use LOG.warning instead.\n\nChange-Id: I87d33f215a064a70cea989d524dc26affeea0c3e\n'}, {'number': 7, 'created': '2021-11-29 09:21:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/96eea87bc5971acee004e7effff794265a7458a1', 'message': 'Use LOG.warning instead of deprecated LOG.warn\n\nThe LOG.warn method is deprecated[1] and the LOG.warning method should\nbe used instead.\n\n[1] https://docs.python.org/3/library/logging.html#logging.warning\n\nChange-Id: I87d33f215a064a70cea989d524dc26affeea0c3e\n'}, {'number': 8, 'created': '2022-02-08 23:29:13.000000000', 'files': ['cinder/volume/drivers/netapp/dataontap/nfs_cmode.py', 'cinder/volume/drivers/toyou/acs5000/acs5000_common.py', 'cinder/volume/drivers/toyou/acs5000/acs5000_iscsi.py', 'cinder/volume/drivers/netapp/dataontap/block_cmode.py', 'cinder/volume/drivers/toyou/acs5000/acs5000_fc.py', 'cinder/tests/hacking/checks.py', 'cinder/tests/unit/test_hacking.py', 'tox.ini', 'HACKING.rst'], 'web_link': 'https://opendev.org/openstack/cinder/commit/a03e10ceb094c222698df0bc90061b70384f5b27', 'message': 'Use LOG.warning instead of deprecated LOG.warn\n\nThe LOG.warn method is deprecated[1] and the LOG.warning method should\nbe used instead.\n\n[1] https://docs.python.org/3/library/logging.html#logging.warning\n\nChange-Id: I87d33f215a064a70cea989d524dc26affeea0c3e\n'}]",4,819568,a03e10ceb094c222698df0bc90061b70384f5b27,79,4,8,9816,,,0,"Use LOG.warning instead of deprecated LOG.warn

The LOG.warn method is deprecated[1] and the LOG.warning method should
be used instead.

[1] https://docs.python.org/3/library/logging.html#logging.warning

Change-Id: I87d33f215a064a70cea989d524dc26affeea0c3e
",git fetch https://review.opendev.org/openstack/cinder refs/changes/68/819568/4 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/netapp/dataontap/nfs_cmode.py', 'cinder/volume/drivers/netapp/dataontap/block_cmode.py', 'cinder/tests/hacking/checks.py', 'tox.ini', 'HACKING.rst']",5,adccca31bbb1766a4b393cd4c251e7c5fa0daf43,log-warn,- [N324] Log.warn is deprecated. Enforce use of LOG.warning.,,24,9
openstack%2Fopenstack-ansible-openstack_hosts~stable%2Fvictoria~Icc608500a099f51e5c44cecd1d259ff6315758f7,openstack/openstack-ansible-openstack_hosts,stable/victoria,Icc608500a099f51e5c44cecd1d259ff6315758f7,Assume centos version is at least 8.3,MERGED,2022-02-08 14:18:54.000000000,2022-02-09 10:08:02.000000000,2022-02-09 10:05:59.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-02-08 14:18:54.000000000', 'files': ['vars/redhat-8.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/88f5ca0e752c3ceaa5e332fdbd48898ce8334dcb', 'message': ""Assume centos version is at least 8.3\n\nRemoving this check allows the same code to work on centos-8 stream\nwhere the version is reported just as '8'.\n\nChange-Id: Icc608500a099f51e5c44cecd1d259ff6315758f7\n""}]",0,828346,88f5ca0e752c3ceaa5e332fdbd48898ce8334dcb,8,3,1,25023,,,0,"Assume centos version is at least 8.3

Removing this check allows the same code to work on centos-8 stream
where the version is reported just as '8'.

Change-Id: Icc608500a099f51e5c44cecd1d259ff6315758f7
",git fetch https://review.opendev.org/openstack/openstack-ansible-openstack_hosts refs/changes/46/828346/1 && git format-patch -1 --stdout FETCH_HEAD,['vars/redhat-8.yml'],1,88f5ca0e752c3ceaa5e332fdbd48898ce8334dcb,,," - name: ""{{ ansible_distribution_version is version('8.3', '<') | ternary('nf_conntrack_ipv4', '') }}"" - name: ""{{ ansible_distribution_version is version('8.3', '<') | ternary('nf_conntrack_ipv6', '') }}"" - name: ""{{ ansible_distribution_version is version('8.3', '<') | ternary('nf_nat_ipv4', '') }}""",0,3
openstack%2Fansible-collections-openstack~master~I597a66b817bb6b53ecad7503e44f6818aec031a2,openstack/ansible-collections-openstack,master,I597a66b817bb6b53ecad7503e44f6818aec031a2,Add openstack.cloud.baremetal_node_info,MERGED,2022-02-03 04:18:18.000000000,2022-02-09 09:48:57.000000000,2022-02-09 09:48:57.000000000,"[{'_account_id': 10239}, {'_account_id': 10969}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-03 04:18:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/e6b500e609d5f1e8a993df3ec14ece1a17f2dbab', 'message': 'Add openstack.cloud.baremetal_node_info\n\nAdd module baremetal_node_info / os_ironic_info.\nRetrieve information about Bare Metal nodes from OpenStack\n\nChange-Id: I597a66b817bb6b53ecad7503e44f6818aec031a2\n'}, {'number': 2, 'created': '2022-02-03 04:21:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/81853c043311a9161fd975edcdc6a783b81f2adb', 'message': 'Add openstack.cloud.baremetal_node_info\n\nAdd module baremetal_node_info / os_ironic_info.\nRetrieve information about Bare Metal nodes from OpenStack\n\nChange-Id: I597a66b817bb6b53ecad7503e44f6818aec031a2\n'}, {'number': 3, 'created': '2022-02-03 04:29:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/426369e4fd513d4bddacaf0b5b966e16f18c2fcd', 'message': 'Add openstack.cloud.baremetal_node_info\n\nAdd module baremetal_node_info / os_ironic_info.\nRetrieve information about Bare Metal nodes from OpenStack\n\nChange-Id: I597a66b817bb6b53ecad7503e44f6818aec031a2\n'}, {'number': 4, 'created': '2022-02-03 04:31:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/0dee65f066d4497864843d518eff5414f1cf6725', 'message': 'Add openstack.cloud.baremetal_node_info\n\nAdd module baremetal_node_info / os_ironic_info.\nRetrieve information about Bare Metal nodes from OpenStack\n\nChange-Id: I597a66b817bb6b53ecad7503e44f6818aec031a2\n'}, {'number': 5, 'created': '2022-02-03 05:49:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/64fc756e21082d6cd34ecd5bd61f562929ac952d', 'message': 'Add openstack.cloud.baremetal_node_info\n\nAdd module baremetal_node_info / os_ironic_info.\nRetrieve information about Bare Metal nodes from OpenStack\n\nChange-Id: I597a66b817bb6b53ecad7503e44f6818aec031a2\n'}, {'number': 6, 'created': '2022-02-03 06:05:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/6857e56dc2bbaabe99fb8df1c5c21c722d51c43e', 'message': 'Add openstack.cloud.baremetal_node_info\n\nAdd module baremetal_node_info / os_ironic_info.\nRetrieve information about Bare Metal nodes from OpenStack\n\nChange-Id: I597a66b817bb6b53ecad7503e44f6818aec031a2\n'}, {'number': 7, 'created': '2022-02-03 06:40:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/f629cc82b2e3cb81df3ee572f6566982e9574b26', 'message': 'Add openstack.cloud.baremetal_node_info\n\nAdd module baremetal_node_info / os_ironic_info.\nRetrieve information about Bare Metal nodes from OpenStack\n\nChange-Id: I597a66b817bb6b53ecad7503e44f6818aec031a2\n'}, {'number': 8, 'created': '2022-02-03 19:17:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/f26daeceaf4b1f4d758f0ae8738a128b6934d9dc', 'message': 'Add openstack.cloud.baremetal_node_info\n\nAdd module baremetal_node_info / os_ironic_info.\nRetrieve information about Bare Metal nodes from OpenStack\n\nChange-Id: I597a66b817bb6b53ecad7503e44f6818aec031a2\n'}, {'number': 9, 'created': '2022-02-03 19:24:05.000000000', 'files': ['meta/runtime.yml', 'plugins/modules/baremetal_node_info.py'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/20329c0329f1114786f155e9b7bcad663665ffa3', 'message': 'Add openstack.cloud.baremetal_node_info\n\nAdd module baremetal_node_info / os_ironic_info.\nRetrieve information about Bare Metal nodes from OpenStack\n\nChange-Id: I597a66b817bb6b53ecad7503e44f6818aec031a2\n'}]",16,827586,20329c0329f1114786f155e9b7bcad663665ffa3,25,3,9,24245,,,0,"Add openstack.cloud.baremetal_node_info

Add module baremetal_node_info / os_ironic_info.
Retrieve information about Bare Metal nodes from OpenStack

Change-Id: I597a66b817bb6b53ecad7503e44f6818aec031a2
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/86/827586/8 && git format-patch -1 --stdout FETCH_HEAD,"['plugins/modules/baremetal_node_info.py', 'plugins/modules/os_ironic_node_info.py']",2,e6b500e609d5f1e8a993df3ec14ece1a17f2dbab,baremetal_node_info,baremetal_node_info.py,,400,0
openstack%2Fkolla-ansible~master~I12c17a1df2c2e95c27d715e65d292e7b59dd6304,openstack/kolla-ansible,master,I12c17a1df2c2e95c27d715e65d292e7b59dd6304,[Grafana] Add unified alerting and smtp options,ABANDONED,2021-10-27 15:14:01.000000000,2022-02-09 09:45:00.000000000,,"[{'_account_id': 13252}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2021-10-27 15:14:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/7370072be43086216176fa2e89f496eff7b48777', 'message': '[Grafana] Add unified alerting and smtp options\n\nMake unified alerting and smtp options configurable. Unified alerting is\nthe new alerting sub-system introduced in Grafana 8.0. It is disabled by\ndefault, and therefore needs to be enabled explicitly.\n\nUnified alerting allows more advanced notification policies, silencing of\nalerts, and differnt types contact points like Email. Therefore it is\ndesirable to enable smtp and provide configuration options.\n\nChange-Id: I12c17a1df2c2e95c27d715e65d292e7b59dd6304\n'}, {'number': 2, 'created': '2021-10-27 17:14:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/4cf61d364faa942b46c60c7945be342d48d25500', 'message': '[Grafana] Add unified alerting and smtp options\n\nMake unified alerting and smtp options configurable. Unified alerting is\nthe new alerting sub-system introduced in Grafana 8.0. It is disabled\nby default, and therefore needs to be enabled explicitly.\n\nUnified alerting allows more advanced notification policies, silencing of\nalerts, and differnt types contact points like Email. Therefore it is\ndesirable to enable smtp and provide configuration options.\n\nChange-Id: I12c17a1df2c2e95c27d715e65d292e7b59dd6304\n'}, {'number': 3, 'created': '2021-10-27 17:15:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/7f04e413af273b04ceee143d3a74d231a75abe7b', 'message': '[Grafana] Add unified alerting and smtp options\n\nMake unified alerting and smtp options configurable. Unified alerting is\nthe new alerting sub-system introduced in Grafana 8.0. It is disabled\nby default, and therefore needs to be enabled explicitly.\n\nUnified alerting allows more advanced notification policies, silencing\nof alerts, and differnt types contact points like Email. Therefore it is\ndesirable to enable smtp and provide configuration options.\n\nChange-Id: I12c17a1df2c2e95c27d715e65d292e7b59dd6304\n'}, {'number': 4, 'created': '2021-10-28 07:48:34.000000000', 'files': ['ansible/roles/grafana/defaults/main.yml', 'ansible/roles/grafana/templates/grafana.ini.j2', 'doc/source/reference/logging-and-monitoring/grafana-guide.rst', 'releasenotes/notes/grafana_add_unified_alerting_and_smtp_options-8aba72c03757f3eb.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/df4cf17e4f07db4bfa62c7c3b2db14d2084abff3', 'message': '[Grafana] Add unified alerting and smtp options\n\nMake unified alerting and smtp options configurable. Unified alerting is\nthe new alerting sub-system introduced in Grafana 8.0. It is disabled\nby default, and therefore needs to be enabled explicitly.\n\nUnified alerting allows more advanced notification policies, silencing\nof alerts, and differnt types contact points like Email. Therefore it is\ndesirable to enable smtp and provide configuration options.\n\nChange-Id: I12c17a1df2c2e95c27d715e65d292e7b59dd6304\n'}]",12,815694,df4cf17e4f07db4bfa62c7c3b2db14d2084abff3,18,4,4,33710,,,0,"[Grafana] Add unified alerting and smtp options

Make unified alerting and smtp options configurable. Unified alerting is
the new alerting sub-system introduced in Grafana 8.0. It is disabled
by default, and therefore needs to be enabled explicitly.

Unified alerting allows more advanced notification policies, silencing
of alerts, and differnt types contact points like Email. Therefore it is
desirable to enable smtp and provide configuration options.

Change-Id: I12c17a1df2c2e95c27d715e65d292e7b59dd6304
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/94/815694/4 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/grafana/defaults/main.yml', 'ansible/roles/grafana/templates/grafana.ini.j2', 'doc/source/reference/logging-and-monitoring/grafana-guide.rst', 'releasenotes/notes/grafana_add_unified_alerting_and_smtp_options-8aba72c03757f3eb.yaml']",4,7370072be43086216176fa2e89f496eff7b48777,grafana_alerting,--- features: - | Adds flags ``grafana_enable_unified_alerting`` and ``grafana_enable_smtp`` to enable unified alerting and Email notification. Unified alerting is the new alerting sub-system introduced in Grafana 8.0. It is disabled by default. Setting ``grafana_enable_unified_alerting`` to ``yes`` will enable unified alerting and disable legacy alerting. Setting ``grafana_enable_smtp`` to ``yes`` will enable Email notifications. ,,79,0
openstack%2Fdiskimage-builder~master~I799bcfd73e1cb76ee1808b3441f40b0525e3c73d,openstack/diskimage-builder,master,I799bcfd73e1cb76ee1808b3441f40b0525e3c73d,fedora-container: pull in glibc-langpack-en,MERGED,2022-02-03 22:18:05.000000000,2022-02-09 09:38:57.000000000,2022-02-09 09:35:47.000000000,"[{'_account_id': 4146}, {'_account_id': 7118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-03 22:18:05.000000000', 'files': ['diskimage_builder/elements/fedora-container/package-installs.yaml'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/2d368508770c729c0ec0854255f1981b0d63ef33', 'message': 'fedora-container: pull in glibc-langpack-en\n\nDevStack likes to use LC_ALL=en_US.UTF-8 because it does some\npost-processing of output that depends on stable sort-order.  Pull in\nthe langpack package that provides this by default -- fedora-minimal\nwas doing this via yum-minimal so it makes sense to be equivalent.\n\nChange-Id: I799bcfd73e1cb76ee1808b3441f40b0525e3c73d\n'}]",3,827772,2d368508770c729c0ec0854255f1981b0d63ef33,20,3,1,7118,,,0,"fedora-container: pull in glibc-langpack-en

DevStack likes to use LC_ALL=en_US.UTF-8 because it does some
post-processing of output that depends on stable sort-order.  Pull in
the langpack package that provides this by default -- fedora-minimal
was doing this via yum-minimal so it makes sense to be equivalent.

Change-Id: I799bcfd73e1cb76ee1808b3441f40b0525e3c73d
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/72/827772/1 && git format-patch -1 --stdout FETCH_HEAD,['diskimage_builder/elements/fedora-container/package-installs.yaml'],1,2d368508770c729c0ec0854255f1981b0d63ef33,f35-glibc-en,glibc-langpack-en:,,1,0
openstack%2Fdiskimage-builder~master~I85f282c3d1ffa58f73f6c23871d970178fa1d586,openstack/diskimage-builder,master,I85f282c3d1ffa58f73f6c23871d970178fa1d586,Don't run functional tests on doc changes,MERGED,2022-01-21 22:24:54.000000000,2022-02-09 09:29:16.000000000,2022-02-09 09:21:06.000000000,"[{'_account_id': 7118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-21 22:24:54.000000000', 'files': ['.zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/ca812ec5d739f64ce571bf198c4302386505240e', 'message': ""Don't run functional tests on doc changes\n\nChange-Id: I85f282c3d1ffa58f73f6c23871d970178fa1d586\n""}]",1,825891,ca812ec5d739f64ce571bf198c4302386505240e,16,2,1,32411,,,0,"Don't run functional tests on doc changes

Change-Id: I85f282c3d1ffa58f73f6c23871d970178fa1d586
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/91/825891/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.d/jobs.yaml'],1,ca812ec5d739f64ce571bf198c4302386505240e,, - ^releasenotes/.*$ irrelevant-files: - ^.*\.rst$ - ^doc/.*$ - ^releasenotes/.*$,,5,0
openstack%2Fcinder~master~I9729b83be7568928cf962174f98d632a6ecf3d15,openstack/cinder,master,I9729b83be7568928cf962174f98d632a6ecf3d15,[SVF] Update correct Error message for add/remove volumes operation in  group-update,NEW,2021-11-11 05:46:39.000000000,2022-02-09 09:03:20.000000000,,"[{'_account_id': 5314}, {'_account_id': 12670}, {'_account_id': 22348}, {'_account_id': 32036}]","[{'number': 1, 'created': '2021-11-11 05:46:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a9adb7ac3489b59aa07a69685857e180a2b83586', 'message': '[SVF] Update correct Error message for add/remove volumes in  group-update\n\n[Spectrum Virtualize Family] Add/Remove volumes (group-update) from the group does not show proper error or log messages.\nWhen list of volumes are given to add them to the group, if a volume is already exists in the group\nthen it just silently removes the volumes from the list to be added (add_volumes_list) to the group without giving an error/warning mesaage.\nUpdating the cinder code to  print a message in logs that the given volume already exists hence\nthe add volume operation for this volume is not required .\n\nCloses-Bug: #1946618\nChange-Id: I9729b83be7568928cf962174f98d632a6ecf3d15\n'}, {'number': 2, 'created': '2021-11-11 10:22:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/bdab8f8b93786bbb15e0a96918662bf52da6c219', 'message': '[SVF] Update correct Error message for add/remove volumes in  group-update\n\n[Spectrum Virtualize Family] Add/Remove volumes (group-update) from the group does not show proper error or log messages.\nWhen list of volumes are given to add them to the group, if a volume is already exists in the group\nthen it just silently removes the volumes from the list to be added (add_volumes_list) to the group without giving an error/warning mesaage.\nUpdating the cinder code to  print a message in logs that the given volume already exists hence\nthe add volume operation for this volume is not required .\n\nCloses-Bug: #1946618\nChange-Id: I9729b83be7568928cf962174f98d632a6ecf3d15\n'}, {'number': 3, 'created': '2021-11-30 11:24:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/3e995a1a4052308f62db8376af08cc7e4e3b3679', 'message': '[SVF] Update correct Error message for add/remove volumes operation in  group-update\n\n[Spectrum Virtualize Family] Add/Remove volumes (group-update) operation for  group does not show correct error or log message.\nIf a volume is already present in the group and is still passed in the list of volumes(add_volumes_list) to be added to the group ,then\nthe volume is removed from the list directly  without any warning or info message stating the volume is already present in the group.\nUpdating the cinder code to  print a warning message that the given volume already exists hence\nthe add volume operation for this volume is not required .\n\nCloses-Bug: #1946618\nChange-Id: I9729b83be7568928cf962174f98d632a6ecf3d15\n'}, {'number': 4, 'created': '2021-12-10 08:40:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/84def309ae4ed11829b79aa209247888ff3da30a', 'message': '[SVF] Update correct Error message for add/remove volumes operation in  group-update\n\n[Spectrum Virtualize Family] Add/Remove volumes (group-update) operation for  group does not show correct error or log message.\nIf a volume is already present in the group and is still passed in the list of volumes(add_volumes_list) to be added to the group ,then\nthe volume is removed from the list directly  without any warning or info message stating the volume is already present in the group.\nUpdating the cinder code to  print a warning message that the given volume already exists hence\nthe add volume operation for this volume is not required .\n\nCloses-Bug: #1946618\nChange-Id: I9729b83be7568928cf962174f98d632a6ecf3d15\n'}, {'number': 5, 'created': '2021-12-29 06:47:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f0f5370d1897e2de02e934b86022864df1678f11', 'message': '[SVF] Update correct Error message for add/remove volumes operation in  group-update\n\n[Spectrum Virtualize Family] Add/Remove volumes (group-update) operation for  group does not show correct error or log message.\nIf a volume is already present in the group and is still passed in the list of volumes(add_volumes_list) to be added to the group ,then\nthe volume is removed from the list directly  without any warning or info message stating the volume is already present in the group.\nUpdating the cinder code to  print a warning message that the given volume already exists hence\nthe add volume operation for this volume is not required .\n\nCloses-Bug: #1946618\nChange-Id: I9729b83be7568928cf962174f98d632a6ecf3d15\n'}, {'number': 6, 'created': '2021-12-29 07:05:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/944d65e8ee6d54076c2350341b7d5a7925630847', 'message': '[SVF] Update correct Error message for add/remove volumes operation in  group-update\n\n[Spectrum Virtualize Family] Add/Remove volumes (group-update) operation for  group does not show correct error or log message.\nIf a volume is already present in the group and is still passed in the list of volumes(add_volumes_list) to be added to the group ,then\nthe volume is removed from the list directly  without any warning or info message stating the volume is already present in the group.\nUpdating the cinder code to  print a warning message that the given volume already exists hence\nthe add volume operation for this volume is not required .\n\nCloses-Bug: #1946618\nChange-Id: I9729b83be7568928cf962174f98d632a6ecf3d15\n'}, {'number': 7, 'created': '2021-12-30 06:00:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/d94e0d913d4eff45cf9e932dcbf08c13968439c2', 'message': '[SVF] Update correct Error message for add/remove volumes operation in  group-update\n\n[Spectrum Virtualize Family] Add/Remove volumes (group-update) operation for  group does not show correct error or log message.\nIf a volume is already present in the group and is still passed in the list of volumes(add_volumes_list) to be added to the group ,then\nthe volume is removed from the list directly  without any warning or info message stating the volume is already present in the group.\nUpdating the cinder code to  print a warning message that the given volume already exists hence\nthe add volume operation for this volume is not required .\n\nCloses-Bug: #1946618\nChange-Id: I9729b83be7568928cf962174f98d632a6ecf3d15\n'}, {'number': 8, 'created': '2021-12-30 12:04:54.000000000', 'files': ['releasenotes/notes/bug-1946618-Update_correct_Error_message_for_add_remove_volumes_operation_in_group_update-817a4c84e08bba8e.yaml', 'cinder/group/api.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/23665c2119a73d8b54e0b52109607977c83c90e7', 'message': '[SVF] Update correct Error message for add/remove volumes operation in  group-update\n\n[Spectrum Virtualize Family] Add/Remove volumes (group-update) operation for  group does not show correct error or log message.\nIf a volume is already present in the group and is still passed in the list of volumes(add_volumes_list) to be added to the group ,then\nthe volume is removed from the list directly  without any warning or info message stating the volume is already present in the group.\nUpdating the cinder code to  print a warning message that the given volume already exists hence\nthe add volume operation for this volume is not required .\n\nCloses-Bug: #1946618\nChange-Id: I9729b83be7568928cf962174f98d632a6ecf3d15\n'}]",19,817514,23665c2119a73d8b54e0b52109607977c83c90e7,196,4,8,34106,,,0,"[SVF] Update correct Error message for add/remove volumes operation in  group-update

[Spectrum Virtualize Family] Add/Remove volumes (group-update) operation for  group does not show correct error or log message.
If a volume is already present in the group and is still passed in the list of volumes(add_volumes_list) to be added to the group ,then
the volume is removed from the list directly  without any warning or info message stating the volume is already present in the group.
Updating the cinder code to  print a warning message that the given volume already exists hence
the add volume operation for this volume is not required .

Closes-Bug: #1946618
Change-Id: I9729b83be7568928cf962174f98d632a6ecf3d15
",git fetch https://review.opendev.org/openstack/cinder refs/changes/14/817514/8 && git format-patch -1 --stdout FETCH_HEAD,['cinder/group/api.py'],1,a9adb7ac3489b59aa07a69685857e180a2b83586,bug/1946618," msg = (_(""Volume %(volume_id)s from "" ""group %(group_id)s "" ""is already present in the group so add operation is not reqd for thsi volume"") % {'volume_id': volume, 'group_id': group.id})",,5,0
openstack%2Foslo.policy~master~I72120efb7c55aab82b765237904c9ae6e91f6b6f,openstack/oslo.policy,master,I72120efb7c55aab82b765237904c9ae6e91f6b6f,Expand set_defaults() to set other config default value,MERGED,2022-02-07 23:18:27.000000000,2022-02-09 08:59:27.000000000,2022-02-09 08:57:04.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 31245}]","[{'number': 1, 'created': '2022-02-07 23:18:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.policy/commit/522e4a3964b5a2e0e88f27ead4b15f92a25e4bfd', 'message': ""Expand set_defaults() to set other config default value\n\nCurrently set_defaults() is only able to set the default\nvalue of policy_file config option. In future, for example\nscope config option like enforce_scope also needs to be override\nthe default value per service (service ready with scope enable\ncan set it to True and for other services it will be False as default\nin oslo.policy).\n\nTo allow override the other config option, let's expand the existing\nset_defaults() method to do so.\n\nChange-Id: I72120efb7c55aab82b765237904c9ae6e91f6b6f\n""}, {'number': 2, 'created': '2022-02-08 14:56:47.000000000', 'files': ['oslo_policy/opts.py', 'oslo_policy/tests/test_opts.py'], 'web_link': 'https://opendev.org/openstack/oslo.policy/commit/eae3dc0032106ac8b3a33c7ced0444810abb311c', 'message': ""Expand set_defaults() to set other config default value\n\nCurrently set_defaults() is only able to set the default\nvalue of policy_file config option. In future, for example\nscope config option like enforce_scope also needs to be override\nthe default value per service (service ready with scope enable\ncan set it to True and for other services it will be False as default\nin oslo.policy).\n\nTo allow override the other config option, let's expand the existing\nset_defaults() method to do so.\n\nChange-Id: I72120efb7c55aab82b765237904c9ae6e91f6b6f\n""}]",5,828198,eae3dc0032106ac8b3a33c7ced0444810abb311c,14,4,2,8556,,,0,"Expand set_defaults() to set other config default value

Currently set_defaults() is only able to set the default
value of policy_file config option. In future, for example
scope config option like enforce_scope also needs to be override
the default value per service (service ready with scope enable
can set it to True and for other services it will be False as default
in oslo.policy).

To allow override the other config option, let's expand the existing
set_defaults() method to do so.

Change-Id: I72120efb7c55aab82b765237904c9ae6e91f6b6f
",git fetch https://review.opendev.org/openstack/oslo.policy refs/changes/98/828198/2 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_policy/opts.py', 'oslo_policy/tests/test_opts.py']",2,522e4a3964b5a2e0e88f27ead4b15f92a25e4bfd,secure-rbac," def test_set_defaults_enforce_scope(self): opts._register(self.conf) self.assertEqual(False, self.conf.oslo_policy.enforce_scope) opts.set_defaults(self.conf, enforce_scope=True) self.assertEqual(True, self.conf.oslo_policy.enforce_scope) def test_set_defaults_two_opts(self): opts._register(self.conf) self.assertEqual(False, self.conf.oslo_policy.enforce_scope) self.assertEqual(False, self.conf.oslo_policy.enforce_new_defaults) opts.set_defaults(self.conf, enforce_scope=True, enforce_new_defaults=True) self.assertEqual(True, self.conf.oslo_policy.enforce_scope) self.assertEqual(True, self.conf.oslo_policy.enforce_new_defaults)",,26,1
openstack%2Freleases~master~I89863c57f449cfad2903f6832ee89e95f039b911,openstack/releases,master,I89863c57f449cfad2903f6832ee89e95f039b911,[independent] release oslo deliverables,MERGED,2022-02-02 16:04:57.000000000,2022-02-09 08:52:12.000000000,2022-02-09 08:52:12.000000000,"[{'_account_id': 308}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 31245}]","[{'number': 1, 'created': '2022-02-02 16:04:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/985bb7aab58dedcc23c065fc574bc83fd0c2c7b0', 'message': '[independent] release oslo deliverables\n\nChange-Id: I89863c57f449cfad2903f6832ee89e95f039b911\n'}, {'number': 2, 'created': '2022-02-07 09:15:57.000000000', 'files': ['deliverables/_independent/tooz.yaml', 'deliverables/_independent/etcd3gw.yaml', 'deliverables/_independent/taskflow.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/14654164bd7233b8c35c0d123a45190d1654b9c2', 'message': '[independent] release oslo deliverables\n\nChange-Id: I89863c57f449cfad2903f6832ee89e95f039b911\n'}]",4,827524,14654164bd7233b8c35c0d123a45190d1654b9c2,16,5,2,28522,,,0,"[independent] release oslo deliverables

Change-Id: I89863c57f449cfad2903f6832ee89e95f039b911
",git fetch https://review.opendev.org/openstack/releases refs/changes/24/827524/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/_independent/tooz.yaml', 'deliverables/_independent/etcd3gw.yaml', 'deliverables/_independent/pbr.yaml', 'deliverables/_independent/taskflow.yaml']",4,985bb7aab58dedcc23c065fc574bc83fd0c2c7b0,oslo-independent, - version: 4.6.4 projects: - repo: openstack/taskflow hash: 185e6c4a39f622bc46ba4b2d972bd8c7ed975888,,16,0
openstack%2Fneutron~stable%2Fwallaby~I9f914e721201072e43a8c6c266ed97ca85fcc13d,openstack/neutron,stable/wallaby,I9f914e721201072e43a8c6c266ed97ca85fcc13d,[OVN] Correctly set dns_server in dhcpv4/v6 options,MERGED,2022-01-11 10:36:00.000000000,2022-02-09 08:50:10.000000000,2022-02-09 08:46:26.000000000,"[{'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 13861}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 32029}]","[{'number': 1, 'created': '2022-01-11 10:36:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5bed125a2bbb41586ee978da2ffeac27526808da', 'message': ""[OVN] Correctly set dns_server in dhcpv4/v6 options\n\nWhen ovn/dns_servers consist of IPv6 dns nameservers,\nit was getting added to IPv4 dhcp options also, and due to\nthis an invalid nameserver(last 4 octets of an IPv6 address)\nis set in the instances.\n\nThis patch filters IPv4/IPv6 dns nameservers and set\ndhcpv4/dhcpv6 options accordingly.\n\nAlso when dns_nameservers are not set for IPv6 subnets,\nget those from ovn/dns_servers config or system nameservers\njust like it's done with the IPv4 subnets. Updated\nget_system_dns_resolvers to pick both IPv4/IPv6 valid\nips, this also requires bump of oslo.utils minimum version\nto 4.8.0 to use strict option for IPv4[1].\n\nAdditionally fix some unit tests which were setting IPv4 dns\nnameservers on the IPv6 subnets, this is not allowed with api.\n\n[1] https://github.com/openstack/oslo.utils/commit/3288539\n\nConflicts:\n  lower-constraints.txt\n\nCloses-Bug: #1951816\nChange-Id: I9f914e721201072e43a8c6c266ed97ca85fcc13d\n(cherry picked from commit 4a06685098cc2e9b69c1b961eecef957314faf85)\n""}, {'number': 2, 'created': '2022-01-25 05:35:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f1062b024fa728122827e1b08700ff28fdec3c99', 'message': ""[OVN] Correctly set dns_server in dhcpv4/v6 options\n\nWhen ovn/dns_servers consist of IPv6 dns nameservers,\nit was getting added to IPv4 dhcp options also, and due to\nthis an invalid nameserver(last 4 octets of an IPv6 address)\nis set in the instances.\n\nThis patch filters IPv4/IPv6 dns nameservers and set\ndhcpv4/dhcpv6 options accordingly.\n\nAlso when dns_nameservers are not set for IPv6 subnets,\nget those from ovn/dns_servers config or system nameservers\njust like it's done with the IPv4 subnets. Updated\nget_system_dns_resolvers to pick both IPv4/IPv6 valid\nips, this also requires bump of oslo.utils minimum version\nto 4.8.0 to use strict option for IPv4[1].\n\nAdditionally fix some unit tests which were setting IPv4 dns\nnameservers on the IPv6 subnets, this is not allowed with api.\n\n[1] https://github.com/openstack/oslo.utils/commit/3288539\n\nConflicts:\n  lower-constraints.txt\n  requirements.txt\n\n[Stable Only] Since Neutron stable policy do not allow bumping\nof minimum version of a requirement in stable releases, so doing\na partial backport by not backporting requirements.txt changes and\nupdated get_system_dns_resolvers to work with older version of\noslo.utils.\n\nCloses-Bug: #1951816\nChange-Id: I9f914e721201072e43a8c6c266ed97ca85fcc13d\n(cherry picked from commit 4a06685098cc2e9b69c1b961eecef957314faf85)\n""}, {'number': 3, 'created': '2022-01-27 14:38:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ccfd024d633cef343d1f233b39dd5ff8bdb813ae', 'message': ""[OVN] Correctly set dns_server in dhcpv4/v6 options\n\nWhen ovn/dns_servers consist of IPv6 dns nameservers,\nit was getting added to IPv4 dhcp options also, and due to\nthis an invalid nameserver(last 4 octets of an IPv6 address)\nis set in the instances.\n\nThis patch filters IPv4/IPv6 dns nameservers and set\ndhcpv4/dhcpv6 options accordingly.\n\nAlso when dns_nameservers are not set for IPv6 subnets,\nget those from ovn/dns_servers config or system nameservers\njust like it's done with the IPv4 subnets. Updated\nget_system_dns_resolvers to pick both IPv4/IPv6 valid\nips, this also requires bump of oslo.utils minimum version\nto 4.8.0 to use strict option for IPv4[1].\n\nAdditionally fix some unit tests which were setting IPv4 dns\nnameservers on the IPv6 subnets, this is not allowed with api.\n\n[1] https://github.com/openstack/oslo.utils/commit/3288539\n\nConflicts:\n  lower-constraints.txt\n  requirements.txt\n\n[Stable Only] Since Neutron stable policy do not allow bumping\nof minimum version of a requirement in stable releases, so doing\na partial backport by not backporting requirements.txt changes and\nupdated get_system_dns_resolvers to work with older version of\noslo.utils.\n\nDepends-On: https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/826647\nCloses-Bug: #1951816\nChange-Id: I9f914e721201072e43a8c6c266ed97ca85fcc13d\n(cherry picked from commit 4a06685098cc2e9b69c1b961eecef957314faf85)\n""}, {'number': 4, 'created': '2022-01-28 05:38:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0191628cb1a19d526625d34675b0b8c10157a0be', 'message': ""[OVN] Correctly set dns_server in dhcpv4/v6 options\n\nWhen ovn/dns_servers consist of IPv6 dns nameservers,\nit was getting added to IPv4 dhcp options also, and due to\nthis an invalid nameserver(last 4 octets of an IPv6 address)\nis set in the instances.\n\nThis patch filters IPv4/IPv6 dns nameservers and set\ndhcpv4/dhcpv6 options accordingly.\n\nAlso when dns_nameservers are not set for IPv6 subnets,\nget those from ovn/dns_servers config or system nameservers\njust like it's done with the IPv4 subnets. Updated\nget_system_dns_resolvers to pick both IPv4/IPv6 valid\nips, this also requires bump of oslo.utils minimum version\nto 4.8.0 to use strict option for IPv4[1].\n\nAdditionally fix some unit tests which were setting IPv4 dns\nnameservers on the IPv6 subnets, this is not allowed with api.\n\n[1] https://github.com/openstack/oslo.utils/commit/3288539\n\nConflicts:\n  lower-constraints.txt\n  requirements.txt\n\n[Stable Only] Since Neutron stable policy do not allow bumping\nof minimum version of a requirement in stable releases, so doing\na partial backport by not backporting requirements.txt changes and\nupdated get_system_dns_resolvers to work with older version of\noslo.utils.\n\nDepends-On: https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/826647\nCloses-Bug: #1951816\nChange-Id: I9f914e721201072e43a8c6c266ed97ca85fcc13d\n(cherry picked from commit 4a06685098cc2e9b69c1b961eecef957314faf85)\n""}, {'number': 5, 'created': '2022-02-04 05:36:50.000000000', 'files': ['neutron/common/ovn/utils.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/tests/unit/common/ovn/test_utils.py', 'releasenotes/notes/ovn-default-dns-servers-ipv6-subnets-f2d525abc70b01b3.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/4b89ad64038eb2301730494c31255174e2da5597', 'message': ""[OVN] Correctly set dns_server in dhcpv4/v6 options\n\nWhen ovn/dns_servers consist of IPv6 dns nameservers,\nit was getting added to IPv4 dhcp options also, and due to\nthis an invalid nameserver(last 4 octets of an IPv6 address)\nis set in the instances.\n\nThis patch filters IPv4/IPv6 dns nameservers and set\ndhcpv4/dhcpv6 options accordingly.\n\nAlso when dns_nameservers are not set for IPv6 subnets,\nget those from ovn/dns_servers config or system nameservers\njust like it's done with the IPv4 subnets. Updated\nget_system_dns_resolvers to pick both IPv4/IPv6 valid\nips, this also requires bump of oslo.utils minimum version\nto 4.8.0 to use strict option for IPv4[1].\n\nAdditionally fix some unit tests which were setting IPv4 dns\nnameservers on the IPv6 subnets, this is not allowed with api.\n\n[1] https://github.com/openstack/oslo.utils/commit/3288539\n\nConflicts:\n  lower-constraints.txt\n  requirements.txt\n\n[Stable Only] Since Neutron stable policy do not allow bumping\nof minimum version of a requirement in stable releases, so doing\na partial backport by not backporting requirements.txt changes and\nupdated get_system_dns_resolvers to work with older version of\noslo.utils.\n\nDepends-On: https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/826647\nCloses-Bug: #1951816\nChange-Id: I9f914e721201072e43a8c6c266ed97ca85fcc13d\n(cherry picked from commit 4a06685098cc2e9b69c1b961eecef957314faf85)\n""}]",9,824022,4b89ad64038eb2301730494c31255174e2da5597,64,8,5,13861,,,0,"[OVN] Correctly set dns_server in dhcpv4/v6 options

When ovn/dns_servers consist of IPv6 dns nameservers,
it was getting added to IPv4 dhcp options also, and due to
this an invalid nameserver(last 4 octets of an IPv6 address)
is set in the instances.

This patch filters IPv4/IPv6 dns nameservers and set
dhcpv4/dhcpv6 options accordingly.

Also when dns_nameservers are not set for IPv6 subnets,
get those from ovn/dns_servers config or system nameservers
just like it's done with the IPv4 subnets. Updated
get_system_dns_resolvers to pick both IPv4/IPv6 valid
ips, this also requires bump of oslo.utils minimum version
to 4.8.0 to use strict option for IPv4[1].

Additionally fix some unit tests which were setting IPv4 dns
nameservers on the IPv6 subnets, this is not allowed with api.

[1] https://github.com/openstack/oslo.utils/commit/3288539

Conflicts:
  lower-constraints.txt
  requirements.txt

[Stable Only] Since Neutron stable policy do not allow bumping
of minimum version of a requirement in stable releases, so doing
a partial backport by not backporting requirements.txt changes and
updated get_system_dns_resolvers to work with older version of
oslo.utils.

Depends-On: https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/826647
Closes-Bug: #1951816
Change-Id: I9f914e721201072e43a8c6c266ed97ca85fcc13d
(cherry picked from commit 4a06685098cc2e9b69c1b961eecef957314faf85)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/22/824022/5 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/common/ovn/utils.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'requirements.txt', 'neutron/tests/unit/common/ovn/test_utils.py', 'releasenotes/notes/ovn-default-dns-servers-ipv6-subnets-f2d525abc70b01b3.yaml']",5,5bed125a2bbb41586ee978da2ffeac27526808da,bug/1951816-stable/wallaby,"--- fixes: - | For IPv4 subnets when dns_nameservers is not set in the subnet, servers defined in 'ovn/dns_servers' config option or system's resolv.conf are used, but for IPv6 subnets these are not used. The same will now be used for IPv6 subnets too. Additionally dns servers added in 'ovn/dns_servers' config option or system's resolv.conf will be filtered as per the subnet's IP version. For more info see the bug report `1951816 <https://bugs.launchpad.net/neutron/+bug/1951816>`_. ",,94,18
openstack%2Fbifrost~master~I282f690214917eb4c17adfefc70a2ecddb7144fe,openstack/bifrost,master,I282f690214917eb4c17adfefc70a2ecddb7144fe,CI: properly report failures in the upgrade job,MERGED,2022-02-03 15:11:02.000000000,2022-02-09 08:14:06.000000000,2022-02-08 21:29:00.000000000,"[{'_account_id': 4571}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2022-02-03 15:11:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/deeda9cd5bc54c2c22d66469dc6bde8c0b9955d9', 'message': 'CI: properly report failures in the upgrade job\n\nChange-Id: I282f690214917eb4c17adfefc70a2ecddb7144fe\n'}, {'number': 2, 'created': '2022-02-08 08:06:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/9dd1f0179317d54498fc515535fde9c82d6f4e9d', 'message': 'CI: properly report failures in the upgrade job\n\nDepends-On: https://review.opendev.org/c/openstack/bifrost/+/828178\nChange-Id: I282f690214917eb4c17adfefc70a2ecddb7144fe\n'}, {'number': 3, 'created': '2022-02-08 09:17:49.000000000', 'files': ['playbooks/ci/upgrade.yaml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/9941e4439a7f04a09bfff761f40f6b1a299d0f5c', 'message': 'CI: properly report failures in the upgrade job\n\nDepends-On: https://review.opendev.org/c/openstack/bifrost/+/828178\nChange-Id: I282f690214917eb4c17adfefc70a2ecddb7144fe\n'}]",4,827687,9941e4439a7f04a09bfff761f40f6b1a299d0f5c,16,3,3,10239,,,0,"CI: properly report failures in the upgrade job

Depends-On: https://review.opendev.org/c/openstack/bifrost/+/828178
Change-Id: I282f690214917eb4c17adfefc70a2ecddb7144fe
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/87/827687/2 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/ci/upgrade.yaml'],1,deeda9cd5bc54c2c22d66469dc6bde8c0b9955d9,upgrade," - shell: cmd: | set -eo pipefail ./scripts/test-bifrost.sh 2>&1 | tee ""{{ ansible_user_dir }}/bifrost-old.log"" executable: /bin/bash - shell: cmd: | set -eo pipefail ./scripts/test-bifrost.sh 2>&1 | tee ""{{ ansible_user_dir }}/bifrost-new.log"" executable: /bin/bash"," - shell: bash scripts/test-bifrost.sh 2>&1 | tee ""{{ ansible_user_dir }}/bifrost-old.log"" args: - shell: bash scripts/test-bifrost.sh 2>&1 | tee ""{{ ansible_user_dir }}/bifrost-new.log"" args:",10,4
openstack%2Fdiskimage-builder~master~Ie58630c23a34f2db34f3934abbd0c1076ab9d835,openstack/diskimage-builder,master,Ie58630c23a34f2db34f3934abbd0c1076ab9d835,"Revert ""Use rpm -e instead of dnf for cleaning old kernels""",MERGED,2022-02-02 00:27:52.000000000,2022-02-09 07:53:03.000000000,2022-02-09 07:50:24.000000000,"[{'_account_id': 7118}, {'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 24245}]","[{'number': 1, 'created': '2022-02-02 00:27:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/f3cb50bb4b83f6554c5ddc94bc22e3df61e079dd', 'message': 'Revert ""Use rpm -e instead of dnf for cleaning old kernels""\n\nUsing rpm -e to remove old kernels fails when other packages also\ndepend on the removed kernel.\n\nThis change reverts back to using dnf to remove the kernel, but also\nsets the config value protect_running_kernel=False to avoid the issue\nwhere the build host kernel version matches the version of the package\nbeing deleted.\n\nreverts commit 1ac31afd6297c2a9a0673b0cde17e18230c3b977.\n\nChange-Id: Ie58630c23a34f2db34f3934abbd0c1076ab9d835\n'}, {'number': 2, 'created': '2022-02-09 03:33:34.000000000', 'files': ['diskimage_builder/elements/redhat-common/finalise.d/01-clean-old-kernels', 'releasenotes/notes/fix-dnf-clean-old-kernels-use-rpm-to-erase-in-case-running-kernel-0401f78d63daca77.yaml'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/19ecc16d97e4249e700d0d118839ea4c7ae61d0e', 'message': 'Revert ""Use rpm -e instead of dnf for cleaning old kernels""\n\nUsing rpm -e to remove old kernels fails when other packages also\ndepend on the removed kernel.\n\nThis change reverts back to using dnf to remove the kernel, but also\nsets the config value protect_running_kernel=False to avoid the issue\nwhere the build host kernel version matches the version of the package\nbeing deleted.\n\nreverts commit 1ac31afd6297c2a9a0673b0cde17e18230c3b977.\n\nChange-Id: Ie58630c23a34f2db34f3934abbd0c1076ab9d835\n'}]",1,827381,19ecc16d97e4249e700d0d118839ea4c7ae61d0e,16,4,2,4571,,,0,"Revert ""Use rpm -e instead of dnf for cleaning old kernels""

Using rpm -e to remove old kernels fails when other packages also
depend on the removed kernel.

This change reverts back to using dnf to remove the kernel, but also
sets the config value protect_running_kernel=False to avoid the issue
where the build host kernel version matches the version of the package
being deleted.

reverts commit 1ac31afd6297c2a9a0673b0cde17e18230c3b977.

Change-Id: Ie58630c23a34f2db34f3934abbd0c1076ab9d835
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/81/827381/1 && git format-patch -1 --stdout FETCH_HEAD,"['diskimage_builder/elements/redhat-common/finalise.d/01-clean-old-kernels', 'releasenotes/notes/fix-dnf-clean-old-kernels-use-rpm-to-erase-in-case-running-kernel-0401f78d63daca77.yaml']",2,f3cb50bb4b83f6554c5ddc94bc22e3df61e079dd,bootloader-nopart,,--- fixes: - | Fixed an issue where cleaning old kernels on systems runing ``dnf`` would fail in case the kernel packages being removed matches the running kernel of the system building the image. See Bug: `1623409 <https://bugs.launchpad.net/diskimage-builder/+bug/1623409>`_. ,1,9
openstack%2Fkolla-ansible~master~Ie58265284b2e6b4b30b24fc2f22dd4f5eec05d5b,openstack/kolla-ansible,master,Ie58265284b2e6b4b30b24fc2f22dd4f5eec05d5b,octavia: drop warning about certificate changes,MERGED,2022-02-08 12:18:20.000000000,2022-02-09 07:48:47.000000000,2022-02-09 07:45:40.000000000,"[{'_account_id': 167}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2022-02-08 12:18:20.000000000', 'files': ['ansible/roles/octavia/tasks/precheck.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/bede2a85819c6e40fa5db1d42c1e8a9f77621e5d', 'message': 'octavia: drop warning about certificate changes\n\nThe change happened in Train, time to move on.\n\nChange-Id: Ie58265284b2e6b4b30b24fc2f22dd4f5eec05d5b\n'}]",0,828293,bede2a85819c6e40fa5db1d42c1e8a9f77621e5d,9,3,1,14826,,,0,"octavia: drop warning about certificate changes

The change happened in Train, time to move on.

Change-Id: Ie58265284b2e6b4b30b24fc2f22dd4f5eec05d5b
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/93/828293/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/octavia/tasks/precheck.yml'],1,bede2a85819c6e40fa5db1d42c1e8a9f77621e5d,,,"- name: Warn about certificate changes debug: msg: >- Octavia's certificate configuration has been changed since Train. The new configuration requires 4 PEM files. Please check certificate configuration guide at https://docs.openstack.org/octavia/latest/admin/guides/certificates.html when: ""'amphora' in octavia_provider_drivers"" ",0,8
openstack%2Felection~master~Idef442baeda5264322e7a8c20314aa60fea9d439,openstack/election,master,Idef442baeda5264322e7a8c20314aa60fea9d439,Adding FengShengqin candidacy for Zun in Z cycle,ABANDONED,2022-02-09 04:10:32.000000000,2022-02-09 06:05:04.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-02-09 04:10:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/election/commit/cb687cd2aa80c71cea547e4eb6b71062550c5a61', 'message': 'Adding FengShengqin candidacy for Zun in Z cycle\n\nChange-Id: Idef442baeda5264322e7a8c20314aa60fea9d439\n'}]",0,828401,cb687cd2aa80c71cea547e4eb6b71062550c5a61,3,1,1,23365,,,0,"Adding FengShengqin candidacy for Zun in Z cycle

Change-Id: Idef442baeda5264322e7a8c20314aa60fea9d439
",git fetch https://review.opendev.org/openstack/election refs/changes/01/828401/1 && git format-patch -1 --stdout FETCH_HEAD,[],0,cb687cd2aa80c71cea547e4eb6b71062550c5a61,,,,0,0
openstack%2Fdiskimage-builder~master~Ibe05f367be997efbd8c5ebec77503ebd9cda1c8b,openstack/diskimage-builder,master,Ibe05f367be997efbd8c5ebec77503ebd9cda1c8b,Remove extra if/then/else construct in pip element,MERGED,2021-12-18 11:51:24.000000000,2022-02-09 05:22:30.000000000,2022-02-09 05:19:36.000000000,"[{'_account_id': 7118}, {'_account_id': 11655}, {'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-12-18 11:51:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/2dbdf3224b6417b61c1ea0096023d88d917c5924', 'message': 'Remove extra if/then/else construct in pip element\n\nThis was introduced in [0] but we can include it in the existing elif\nseries instead.\n\n[0] I2b75afd310f009ae8614f6ca75bb984b56d25c45\n\nChange-Id: Ibe05f367be997efbd8c5ebec77503ebd9cda1c8b\n'}, {'number': 2, 'created': '2021-12-29 15:44:17.000000000', 'files': ['diskimage_builder/elements/pip-and-virtualenv/install.d/pip-and-virtualenv-source-install/04-install-pip'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/9d60202d1c9b80163216a01b2057dce23d4c7de8', 'message': 'Remove extra if/then/else construct in pip element\n\nThis was introduced in [0] but we can include it in the existing elif\nseries instead.\n\n[0] I2b75afd310f009ae8614f6ca75bb984b56d25c45\n\nChange-Id: Ibe05f367be997efbd8c5ebec77503ebd9cda1c8b\n'}]",4,822224,9d60202d1c9b80163216a01b2057dce23d4c7de8,18,5,2,13252,,,0,"Remove extra if/then/else construct in pip element

This was introduced in [0] but we can include it in the existing elif
series instead.

[0] I2b75afd310f009ae8614f6ca75bb984b56d25c45

Change-Id: Ibe05f367be997efbd8c5ebec77503ebd9cda1c8b
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/24/822224/1 && git format-patch -1 --stdout FETCH_HEAD,['diskimage_builder/elements/pip-and-virtualenv/install.d/pip-and-virtualenv-source-install/04-install-pip'],1,2dbdf3224b6417b61c1ea0096023d88d917c5924,correct-pip-for-python,"elif [[ $DIB_RELEASE = bullseye ]]; then packages=""python3-pip python3-virtualenv"" apt-get -y install $packages install_python3_pip # pre-install packages so dependencies are there. We will # overwrite with latest below. packages=""python-pip python-virtualenv"" # Unfortunately older ubuntu (trusty) doesn't have a # python3-virtualenv package -- it seems it wasn't ready at the # time and you had to use ""python -m venv"". Since then virtualenv # has gained 3.4 support so the pip install below will work if [[ ${DIB_PYTHON_VERSION} == 3 ]]; then packages+="" python3-pip python3-virtualenv"" fi apt-get -y install $packages # force things to happen so our assumptions hold pip_args=""-U --force-reinstall"" install_python2_pip if [[ ${DIB_PYTHON_VERSION} == 3 ]]; then"," if [[ $DIB_RELEASE = bullseye ]]; then packages=""python3-pip python3-virtualenv"" apt-get -y install $packages else # pre-install packages so dependencies are there. We will # overwrite with latest below. packages=""python-pip python-virtualenv"" # Unfortunately older ubuntu (trusty) doesn't have a # python3-virtualenv package -- it seems it wasn't ready at the # time and you had to use ""python -m venv"". Since then virtualenv # has gained 3.4 support so the pip install below will work if [[ ${DIB_PYTHON_VERSION} == 3 ]]; then packages+="" python3-pip python3-virtualenv"" fi apt-get -y install $packages # force things to happen so our assumptions hold pip_args=""-U --force-reinstall"" install_python2_pip if [[ ${DIB_PYTHON_VERSION} == 3 ]]; then install_python3_pip fi",23,25
openstack%2Fdiskimage-builder~master~Ibc1e04dba0562c4f4909a8cb8af041d9b8ac45c4,openstack/diskimage-builder,master,Ibc1e04dba0562c4f4909a8cb8af041d9b8ac45c4,General improvements to the ubuntu-minimal docs,MERGED,2021-08-27 05:41:45.000000000,2022-02-09 05:21:12.000000000,2022-02-09 05:19:32.000000000,"[{'_account_id': 7118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-27 05:41:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/e615090618fdeddb74ef7268a005631e768570ea', 'message': 'General improvements to the ubuntu-minimal docs\n\nThis change:\n- adds a warning regarding an error when building focal\n  ubuntu-minimal images on CentOS 7\n- adds a reference to where the DIB_RELEASE variable definition can\n  be found\n\nCloses-Bug: #1941831\nChange-Id: Ibc1e04dba0562c4f4909a8cb8af041d9b8ac45c4\n'}, {'number': 2, 'created': '2022-01-19 17:34:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/3d0fa11c754fce5522fb07176c3e162c8e46232f', 'message': 'General improvements to the ubuntu-minimal docs\n\nThis change:\n- adds a warning regarding an error when building focal ubuntu-minimal\n  images on operating systems with older versions of debootstrap\n- adds a reference to where the DIB_RELEASE variable definition can be\n  found\n\nCloses-Bug: #1941831\nChange-Id: Ibc1e04dba0562c4f4909a8cb8af041d9b8ac45c4\n'}, {'number': 3, 'created': '2022-01-21 22:21:48.000000000', 'files': ['releasenotes/notes/improve-ubuntu-minimal-docs-b4c20a37a4daea2f.yaml', 'diskimage_builder/elements/ubuntu-minimal/README.rst'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/5779fa85256ebe35896c220714eb755844f564d3', 'message': 'General improvements to the ubuntu-minimal docs\n\nThis change:\n- adds a note regarding an error when building focal ubuntu-minimal\n  images on operating systems with older versions of debootstrap\n- adds a reference to where the DIB_RELEASE variable definition can be\n  found\n\nCloses-Bug: #1941831\nChange-Id: Ibc1e04dba0562c4f4909a8cb8af041d9b8ac45c4\n'}]",7,806308,5779fa85256ebe35896c220714eb755844f564d3,22,2,3,32411,,,0,"General improvements to the ubuntu-minimal docs

This change:
- adds a note regarding an error when building focal ubuntu-minimal
  images on operating systems with older versions of debootstrap
- adds a reference to where the DIB_RELEASE variable definition can be
  found

Closes-Bug: #1941831
Change-Id: Ibc1e04dba0562c4f4909a8cb8af041d9b8ac45c4
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/08/806308/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/improve-ubuntu-minimal-docs-b4c20a37a4daea2f.yaml', 'diskimage_builder/elements/ubuntu-minimal/README.rst']",2,e615090618fdeddb74ef7268a005631e768570ea,change-806308,".. warning:: The debootstrap package is a dependency for this element. If you are using CentOS 7 as your host, you will need to add the `EPEL <https://\ fedoraproject.org/wiki/EPEL#Quickstart>`_ repository to install it, and run: .. code-block:: console # ln -s /usr/share/debootstrap/scripts/gutsy \ /usr/share/debootstrap/scripts/focal More on this `here <https://bugs.launchpad.net/diskimage-builder/+bug/\ 1941831>`_. setting can be found in the `ubuntu-common <https://docs.openstack.org/\ diskimage-builder/latest/elements/ubuntu-common/README.html>`_ element's ``environment.d`` directory in the variable ``DIB_RELEASE``. If a different release of Ubuntu should be created, the variable ``DIB_RELEASE`` can be set appropriately.","setting can be found in the element's ``environment.d`` directory in the variable ``DIB_RELEASE``. If a different release of Ubuntu should be created, the variable ``DIB_RELEASE`` can be set appropriately.",25,3
openstack%2Fdiskimage-builder~master~I5123729b7457dcbd4f4a51cff49904f7bd071e9b,openstack/diskimage-builder,master,I5123729b7457dcbd4f4a51cff49904f7bd071e9b,Remove contrib/setup-gate-mirrors.sh,MERGED,2022-02-01 04:44:36.000000000,2022-02-09 05:04:35.000000000,2022-02-09 05:02:40.000000000,"[{'_account_id': 7118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-01 04:44:36.000000000', 'files': ['diskimage_builder/elements/yum-minimal/root.d/08-yum-chroot', 'contrib/setup-gate-mirrors.sh'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/88d9ef21e8f359054c1d1e249e9848b3d2b65692', 'message': ""Remove contrib/setup-gate-mirrors.sh\n\nAFAICS, use of this was removed with\nI7f98a13091056809fedae8a5c8ee10b0ef8bbb2a and I can't see any other\nreferences to it.  Correct the comment to describe how it works.\n\nChange-Id: I5123729b7457dcbd4f4a51cff49904f7bd071e9b\n""}]",1,827211,88d9ef21e8f359054c1d1e249e9848b3d2b65692,9,2,1,7118,,,0,"Remove contrib/setup-gate-mirrors.sh

AFAICS, use of this was removed with
I7f98a13091056809fedae8a5c8ee10b0ef8bbb2a and I can't see any other
references to it.  Correct the comment to describe how it works.

Change-Id: I5123729b7457dcbd4f4a51cff49904f7bd071e9b
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/11/827211/1 && git format-patch -1 --stdout FETCH_HEAD,"['diskimage_builder/elements/yum-minimal/root.d/08-yum-chroot', 'contrib/setup-gate-mirrors.sh']",2,88d9ef21e8f359054c1d1e249e9848b3d2b65692,centos-8-stop,,"#!/bin/bash set -x # # This tool creates repo/sources files that point to the mirrors for # the host region in the OpenStack CI gate. # # This pre-created on CI nodes by slave scripts source /etc/ci/mirror_info.sh # Tests should probe for this directory and then use the repos/sources # files inside it for the gate tests. BASE_DIR=${WORKSPACE:-$(pwd)}/dib-mirror mkdir -p $BASE_DIR ## REPOS # all should start with ""dib-mirror-"" # gpg check turned off, because we don't have the keys outside the chroot # fedora-minimal FEDORA_MIN_DIR=$BASE_DIR/fedora-minimal/yum.repos.d mkdir -p $FEDORA_MIN_DIR cat <<EOF > $FEDORA_MIN_DIR/dib-mirror-fedora.repo [fedora] name=Fedora \$releasever - \$basearch baseurl=$NODEPOOL_FEDORA_MIRROR/releases/\$releasever/Everything/\$basearch/os/ enabled=1 metadata_expire=7d gpgcheck=0 skip_if_unavailable=False deltarpm=False deltarpm_percentage=0 EOF cat <<EOF > $FEDORA_MIN_DIR/dib-mirror-fedora-updates.repo [updates] name=Fedora \$releasever - \$basearch - Updates baseurl=$NODEPOOL_FEDORA_MIRROR/updates/\$releasever/Everything/\$basearch/ enabled=1 gpgcheck=0 metadata_expire=6h skip_if_unavailable=False deltarpm=False deltarpm_percentage=0 EOF # Centos 7 Minimal CENTOS_MIN_DIR=$BASE_DIR/centos-minimal/yum.repos.d/7 mkdir -p $CENTOS_MIN_DIR cat <<EOF > $CENTOS_MIN_DIR/dib-mirror-base.repo [base] name=CentOS-\$releasever - Base baseurl=$NODEPOOL_CENTOS_MIRROR/\$releasever/os/\$basearch/ gpgcheck=0 EOF cat <<EOF > $CENTOS_MIN_DIR/dib-mirror-updates.repo #released updates [updates] name=CentOS-\$releasever - Updates baseurl=$NODEPOOL_CENTOS_MIRROR/\$releasever/updates/\$basearch/ gpgcheck=0 EOF cat <<EOF > $CENTOS_MIN_DIR/dib-mirror-extras.repo #additional packages that may be useful [extras] name=CentOS-\$releasever - Extras baseurl=$NODEPOOL_CENTOS_MIRROR/\$releasever/extras/\$basearch/ gpgcheck=0 EOF # Centos 8 Minimal CENTOS_MIN_DIR=$BASE_DIR/centos-minimal/yum.repos.d/8 mkdir -p $CENTOS_MIN_DIR cat <<EOF > $CENTOS_MIN_DIR/dib-mirror-base.repo [base] name=CentOS-\$releasever - Base baseurl=$NODEPOOL_CENTOS_MIRROR/\$releasever/BaseOS/\$basearch/os/ gpgcheck=0 EOF cat <<EOF > $CENTOS_MIN_DIR/dib-mirror-appstream.repo [base] name=CentOS-\$releasever - AppStream baseurl=$NODEPOOL_CENTOS_MIRROR/\$releasever/AppStream/\$basearch/os/ gpgcheck=0 EOF cat <<EOF > $CENTOS_MIN_DIR/dib-mirror-extras.repo #additional packages that may be useful [extras] name=CentOS-\$releasever - Extras baseurl=$NODEPOOL_CENTOS_MIRROR/\$releasever/extras/\$basearch/os/ gpgcheck=0 EOF # Centos 8-stream Minimal CENTOS_MIN_DIR=$BASE_DIR/centos-minimal/yum.repos.d/8-stream mkdir -p $CENTOS_MIN_DIR cat <<EOF > $CENTOS_MIN_DIR/dib-mirror-base.repo [base] name=CentOS-\$releasever - Base baseurl=$NODEPOOL_CENTOS_MIRROR/\$releasever/BaseOS/\$basearch/os/ gpgcheck=0 EOF cat <<EOF > $CENTOS_MIN_DIR/dib-mirror-appstream.repo [base] name=CentOS-\$releasever - AppStream baseurl=$NODEPOOL_CENTOS_MIRROR/\$releasever/AppStream/\$basearch/os/ gpgcheck=0 EOF cat <<EOF > $CENTOS_MIN_DIR/dib-mirror-extras.repo #additional packages that may be useful [extras] name=CentOS-\$releasever - Extras baseurl=$NODEPOOL_CENTOS_MIRROR/\$releasever/extras/\$basearch/os/ gpgcheck=0 EOF ## apt sources (todo) ",2,134
openstack%2Fdiskimage-builder~master~I18dec9054cf9e023bdf086bda3ba253b28d6540d,openstack/diskimage-builder,master,I18dec9054cf9e023bdf086bda3ba253b28d6540d,Cleanup more CentOS 8 bits,MERGED,2022-02-01 04:44:36.000000000,2022-02-09 04:41:14.000000000,2022-02-09 04:39:00.000000000,"[{'_account_id': 7118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-01 04:44:36.000000000', 'files': ['diskimage_builder/elements/centos-minimal/test-elements/8-build-succeeds/environment.d/09-set-distro.bash', 'diskimage_builder/elements/centos-minimal/test-elements/8-aarch64-build-succeeds/test-output-formats', 'diskimage_builder/elements/centos-minimal/test-elements/8-build-succeeds/README.rst', 'diskimage_builder/elements/centos-minimal/yum.repos.d/8/base.repo', 'roles/dib-setup-gate-mirrors/templates/centos-minimal/8/appstream.repo.j2', 'diskimage_builder/elements/centos-minimal/test-elements/8-aarch64-build-succeeds/environment.d/10-set-distro.bash', 'roles/dib-setup-gate-mirrors/templates/centos-minimal/8/extras.repo.j2', 'diskimage_builder/elements/centos/README.rst', 'diskimage_builder/elements/centos-minimal/yum.repos.d/8/appstream.repo', 'roles/dib-setup-gate-mirrors/tasks/main.yaml', 'diskimage_builder/elements/centos-minimal/test-elements/8-aarch64-build-succeeds/README.rst', 'roles/dib-setup-gate-mirrors/templates/centos-minimal/8/base.repo.j2', 'diskimage_builder/elements/centos-minimal/test-elements/8-aarch64-build-succeeds/element-deps', 'diskimage_builder/elements/centos-minimal/test-elements/8-build-succeeds/element-deps'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/62101b6aa548f7d45c26892d714abf140f0b7b99', 'message': 'Cleanup more CentOS 8 bits\n\nThis removes some testing and mirror setup bits and pieces for CentOS\n8 that is now EOL.\n\nChange-Id: I18dec9054cf9e023bdf086bda3ba253b28d6540d\n'}]",1,827210,62101b6aa548f7d45c26892d714abf140f0b7b99,9,2,1,7118,,,0,"Cleanup more CentOS 8 bits

This removes some testing and mirror setup bits and pieces for CentOS
8 that is now EOL.

Change-Id: I18dec9054cf9e023bdf086bda3ba253b28d6540d
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/10/827210/1 && git format-patch -1 --stdout FETCH_HEAD,"['diskimage_builder/elements/centos-minimal/test-elements/8-build-succeeds/environment.d/09-set-distro.bash', 'diskimage_builder/elements/centos-minimal/test-elements/8-aarch64-build-succeeds/test-output-formats', 'diskimage_builder/elements/centos-minimal/test-elements/8-build-succeeds/README.rst', 'diskimage_builder/elements/centos-minimal/yum.repos.d/8/base.repo', 'roles/dib-setup-gate-mirrors/templates/centos-minimal/8/appstream.repo.j2', 'diskimage_builder/elements/centos-minimal/test-elements/8-aarch64-build-succeeds/environment.d/10-set-distro.bash', 'roles/dib-setup-gate-mirrors/templates/centos-minimal/8/extras.repo.j2', 'diskimage_builder/elements/centos/README.rst', 'diskimage_builder/elements/centos-minimal/yum.repos.d/8/appstream.repo', 'roles/dib-setup-gate-mirrors/tasks/main.yaml', 'diskimage_builder/elements/centos-minimal/test-elements/8-aarch64-build-succeeds/README.rst', 'roles/dib-setup-gate-mirrors/templates/centos-minimal/8/base.repo.j2', 'diskimage_builder/elements/centos-minimal/test-elements/8-aarch64-build-succeeds/element-deps', 'diskimage_builder/elements/centos-minimal/test-elements/8-build-succeeds/element-deps']",14,62101b6aa548f7d45c26892d714abf140f0b7b99,centos-8-stop,,openstack-ci-mirrors,1,53
openstack%2Ftripleo-common~stable%2Ftrain~I37c76217bb82953d8085ca691cc5b9cc508070e3,openstack/tripleo-common,stable/train,I37c76217bb82953d8085ca691cc5b9cc508070e3,[Train-Only] Aligin inventory comparision with master,ABANDONED,2022-02-08 11:27:36.000000000,2022-02-09 04:14:14.000000000,,"[{'_account_id': 11166}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-02-08 11:27:36.000000000', 'files': ['tripleo_common/actions/ansible.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/a7e62f27eb392412be0f6fb4e8a6cdde42eaf2a2', 'message': '[Train-Only] Aligin inventory comparision with master\n\nIt seems string_types does not seem to work in circumstances.\n\nChange-Id: I37c76217bb82953d8085ca691cc5b9cc508070e3\n'}]",2,828282,a7e62f27eb392412be0f6fb4e8a6cdde42eaf2a2,7,3,1,8833,,,0,"[Train-Only] Aligin inventory comparision with master

It seems string_types does not seem to work in circumstances.

Change-Id: I37c76217bb82953d8085ca691cc5b9cc508070e3
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/82/828282/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_common/actions/ansible.py'],1,a7e62f27eb392412be0f6fb4e8a6cdde42eaf2a2,," if (isinstance(self._inventory, str) and elif isinstance(self._inventory, dict): if (isinstance(self._inventory, str) and elif isinstance(self._inventory, dict):"," if (isinstance(self._inventory, six.string_types) and elif not isinstance(self._inventory, six.string_types): if (isinstance(self._inventory, six.string_types) and elif not isinstance(self._inventory, six.string_types):",4,4
openstack%2Fpython-tripleoclient~stable%2Ftrain~Ie51f663baa9979d968ed67d38398a9fe2c2331b1,openstack/python-tripleoclient,stable/train,Ie51f663baa9979d968ed67d38398a9fe2c2331b1,"Revert ""[TRAIN-ONLY] Fix inventory path when upgrading""",MERGED,2022-02-08 08:42:20.000000000,2022-02-09 04:13:34.000000000,2022-02-09 03:12:50.000000000,"[{'_account_id': 6816}, {'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 8297}, {'_account_id': 8833}, {'_account_id': 11090}, {'_account_id': 11166}, {'_account_id': 11491}, {'_account_id': 22348}, {'_account_id': 26343}, {'_account_id': 28223}, {'_account_id': 30073}]","[{'number': 1, 'created': '2022-02-08 08:42:20.000000000', 'files': ['tripleoclient/v1/overcloud_external_update.py', 'tripleoclient/v1/overcloud_external_upgrade.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/487793455e4663c700b627be54a0406e8e15f24b', 'message': 'Revert ""[TRAIN-ONLY] Fix inventory path when upgrading""\n\nThis reverts commit 320fbda95346d71d67946c64ba94dd66944cc17d.\n\nReason for revert: rhbz#2051832\n\nChange-Id: Ie51f663baa9979d968ed67d38398a9fe2c2331b1\n'}]",3,828234,487793455e4663c700b627be54a0406e8e15f24b,12,13,1,11090,,,0,"Revert ""[TRAIN-ONLY] Fix inventory path when upgrading""

This reverts commit 320fbda95346d71d67946c64ba94dd66944cc17d.

Reason for revert: rhbz#2051832

Change-Id: Ie51f663baa9979d968ed67d38398a9fe2c2331b1
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/34/828234/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/v1/overcloud_external_update.py', 'tripleoclient/v1/overcloud_external_upgrade.py']",2,487793455e4663c700b627be54a0406e8e15f24b,upgrade_inventory," parsed_args.static_inventory, parsed_args.ssh_user, stack)"," parsed_args.static_inventory, parsed_args.ssh_user, stack, return_inventory_file_path=True)",2,4
openstack%2Fdiskimage-builder~master~I428f92a19dd30354b6ba2bd2feca73c3a3fab6dd,openstack/diskimage-builder,master,I428f92a19dd30354b6ba2bd2feca73c3a3fab6dd,Move dhcp script to correct custom dir,NEW,2022-02-04 11:27:33.000000000,2022-02-09 03:37:55.000000000,,"[{'_account_id': 7118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-04 11:27:33.000000000', 'files': ['diskimage_builder/elements/dhcp-all-interfaces/install.d/50-dhcp-all-interfaces'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/9c2a1b406b353df724481940cbdf3578485b48c6', 'message': 'Move dhcp script to correct custom dir\n\nCustom-created unit files or existing unit files modified by system\nadministrators should be under /etc/systemd/system\n\nChange-Id: I428f92a19dd30354b6ba2bd2feca73c3a3fab6dd\n'}]",1,827846,9c2a1b406b353df724481940cbdf3578485b48c6,9,2,1,23851,,,0,"Move dhcp script to correct custom dir

Custom-created unit files or existing unit files modified by system
administrators should be under /etc/systemd/system

Change-Id: I428f92a19dd30354b6ba2bd2feca73c3a3fab6dd
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/46/827846/1 && git format-patch -1 --stdout FETCH_HEAD,['diskimage_builder/elements/dhcp-all-interfaces/install.d/50-dhcp-all-interfaces'],1,9c2a1b406b353df724481940cbdf3578485b48c6,dhcp-custom-systemd," install -D -g root -o root -m 0644 ${SCRIPTDIR}/dhcp-interface@.service /etc/systemd/system/dhcp-interface@.service sed -i ""s/TimeoutStartSec=DIB_DHCP_TIMEOUT/TimeoutStartSec=$(( ${DIB_DHCP_TIMEOUT:-30} * 2 ))s/"" /etc/systemd/system/dhcp-interface@.service"," install -D -g root -o root -m 0644 ${SCRIPTDIR}/dhcp-interface@.service /usr/lib/systemd/system/dhcp-interface@.service sed -i ""s/TimeoutStartSec=DIB_DHCP_TIMEOUT/TimeoutStartSec=$(( ${DIB_DHCP_TIMEOUT:-30} * 2 ))s/"" /usr/lib/systemd/system/dhcp-interface@.service",2,2
openstack%2Fneutron-fwaas-dashboard~master~Ib78ff301076c0295aad9b1bf49eed0f1a7adb7c2,openstack/neutron-fwaas-dashboard,master,Ib78ff301076c0295aad9b1bf49eed0f1a7adb7c2,Retire neutron-fwaas-dashboard project,MERGED,2020-06-16 09:28:59.000000000,2022-02-09 03:21:05.000000000,2020-06-18 14:54:54.000000000,"[{'_account_id': 841}, {'_account_id': 6547}, {'_account_id': 8556}, {'_account_id': 13995}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-16 09:28:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas-dashboard/commit/bfdd06e5fda61e6692a10d5c20314599d639e152', 'message': 'Retire neutron-fwaas-dashboard project\n\nGovernance change is proposed at [1] and project config patch is\nproposed at [2]\n\n[1] https://review.opendev.org/735828\n[2] https://review.opendev.org/#/c/735812/\n\nChange-Id: Ib78ff301076c0295aad9b1bf49eed0f1a7adb7c2\n'}, {'number': 2, 'created': '2020-06-16 10:39:24.000000000', 'files': ['neutron_fwaas_dashboard/dashboards/project/__init__.py', 'neutron_fwaas_dashboard/dashboards/project/firewalls_v2/templates/firewalls_v2/remove_rule_from_policy.html', 'test-requirements.txt', 'neutron_fwaas_dashboard/enabled/_7010_project_firewalls_common.py', 'neutron_fwaas_dashboard/static/neutron_fwaas_dashboard/scss/firewalls.scss', 'neutron_fwaas_dashboard/dashboards/project/firewalls_v2/widgets.py', 'neutron_fwaas_dashboard/dashboards/project/firewalls_v2/templates/firewalls_v2/_rule_details.html', 'neutron_fwaas_dashboard/dashboards/project/firewalls_v2/__init__.py', 'neutron_fwaas_dashboard/test/test_data/__init__.py', 'babel-djangojs.cfg', 'neutron_fwaas_dashboard/dashboards/project/firewalls_v2/templates/firewalls_v2/_insert_rule_to_policy.html', 'neutron_fwaas_dashboard/dashboards/project/firewalls_v2/templates/firewalls_v2/removeport.html', 'neutron_fwaas_dashboard/api/fwaas_v2.py', 'lower-constraints.txt', 'neutron_fwaas_dashboard/dashboards/project/firewalls_v2/templates/firewalls_v2/_update_rule_help.html', 'releasenotes/source/locale/de/LC_MESSAGES/releasenotes.po', 'releasenotes/source/ussuri.rst', 'neutron_fwaas_dashboard/test/__init__.py', 'doc/source/configuration/index.rst', 'neutron_fwaas_dashboard/locale/pt_BR/LC_MESSAGES/django.po', 'neutron_fwaas_dashboard/dashboards/project/firewalls_v2/templates/firewalls_v2/updaterule.html', 'neutron_fwaas_dashboard/locale/fr/LC_MESSAGES/django.po', 'releasenotes/source/locale/ja/LC_MESSAGES/releasenotes.po', 'neutron_fwaas_dashboard/dashboards/project/firewalls_v2/templates/firewalls_v2/table_select.html', 'doc/source/install/index.rst', 'releasenotes/source/locale/ko_KR/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po', 'neutron_fwaas_dashboard/dashboards/project/firewalls_v2/templates/firewalls_v2/insert_rule_to_policy.html', 'neutron_fwaas_dashboard/dashboards/project/firewalls_v2/templates/firewalls_v2/details_tabs.html', 'neutron_fwaas_dashboard/test/integration/pages/project/network/__init__.py', 'releasenotes/notes/deprecate-neutron-fwaas-as-stadium-project-af51b5bcab1cb25f.yaml', 'neutron_fwaas_dashboard/dashboards/project/firewalls_v2/templates/firewalls_v2/_update_rules.html', 'neutron_fwaas_dashboard/test/integration/test_basic.py', 'neutron_fwaas_dashboard/dashboards/project/firewalls_v2/templates/firewalls_v2/_removeport.html', 'requirements.txt', 'bindep.txt', 'neutron_fwaas_dashboard/locale/ru/LC_MESSAGES/django.po', 'doc/source/contributor/index.rst', 'neutron_fwaas_dashboard/test/test_data/fwaas_v2_data.py', 'neutron_fwaas_dashboard/dashboards/project/firewalls_v2/templates/firewalls_v2/addpolicy.html', 'neutron_fwaas_dashboard/dashboards/project/firewalls_v2/templates/firewalls_v2/updatefirewall.html', 'releasenotes/notes/drop-fwaas-v1-d10b108e8cf970fe.yaml', 'neutron_fwaas_dashboard/test/integration/horizon.conf', 'releasenotes/source/locale/ru/LC_MESSAGES/releasenotes.po', 'neutron_fwaas_dashboard/dashboards/project/firewalls_v2/urls.py', 'releasenotes/source/locale/fr/LC_MESSAGES/releasenotes.po', 'releasenotes/notes/shared-policy-fix-db8ca3cd327540d0.yaml', 'neutron_fwaas_dashboard/test/integration/__init__.py', 'neutron_fwaas_dashboard/test/integration/pages/project/__init__.py', 'neutron_fwaas_dashboard/test/api_tests/__init__.py', 'neutron_fwaas_dashboard/dashboards/project/firewalls_v2/templates/firewalls_v2/_policy_details.html', 'releasenotes/source/pike.rst', '.zuul.yaml', 'releasenotes/notes/drop-py-2-7-aeac41c824c80d4a.yaml', 'neutron_fwaas_dashboard/test/settings.py', 'neutron_fwaas_dashboard/dashboards/project/firewalls_v2/templates/firewalls_v2/_firewallgroup_details.html', 'neutron_fwaas_dashboard/locale/zh_CN/LC_MESSAGES/django.po', 'neutron_fwaas_dashboard/dashboards/project/firewalls_v2/forms.py', 'neutron_fwaas_dashboard/dashboards/project/firewalls_v2/panel.py', 'doc/source/contributor/devstack-plugin.rst', 'doc/source/index.rst', 'etc/neutron-fwaas-policy.json', 'releasenotes/notes/add-remove-router-policy-a3145bce0ce3cd92.yaml', 'releasenotes/source/locale/pt_BR/LC_MESSAGES/releasenotes.po', 'neutron_fwaas_dashboard/dashboards/project/firewalls_v2/templates/firewalls_v2/_remove_rule_from_policy.html', 'HACKING.rst', 'neutron_fwaas_dashboard/enabled/_7012_project_firewalls_v2_panel.py', 'neutron_fwaas_dashboard/dashboards/project/firewalls_v2/templates/firewalls_v2/_updatefirewall.html', 'neutron_fwaas_dashboard/dashboards/project/firewalls_v2/templates/firewalls_v2/_updatepolicy.html', 'neutron_fwaas_dashboard/enabled/__init__.py', 'README.rst', 'setup.py', 'neutron_fwaas_dashboard/dashboards/project/firewalls_v2/workflows.py', 'neutron_fwaas_dashboard/dashboards/project/firewalls_v2/tests.py', 'devstack/settings', 'releasenotes/source/locale/zh_CN/LC_MESSAGES/releasenotes.po', 'releasenotes/notes/.placeholder', 'CONTRIBUTING.rst', 'neutron_fwaas_dashboard/locale/ja/LC_MESSAGES/django.po', 'neutron_fwaas_dashboard/api/__init__.py', 'releasenotes/source/locale/es/LC_MESSAGES/releasenotes.po', 'releasenotes/source/rocky.rst', 'LICENSE', 'neutron_fwaas_dashboard/dashboards/project/firewalls_v2/templates/firewalls_v2/_addport.html', 'releasenotes/source/locale/id/LC_MESSAGES/releasenotes.po', 'neutron_fwaas_dashboard/dashboards/project/firewalls_v2/tables.py', 'neutron_fwaas_dashboard/dashboards/project/firewalls_v2/templates/firewalls_v2/_update_ports.html', 'neutron_fwaas_dashboard/dashboards/project/firewalls_v2/templates/firewalls_v2/_update_port_help.html', 'neutron_fwaas_dashboard/test/test_data/utils.py', 'neutron_fwaas_dashboard/locale/de/LC_MESSAGES/django.po', 'neutron_fwaas_dashboard/test/integration/pages/project/network/firewallgroupspage.py', 'releasenotes/source/index.rst', 'neutron_fwaas_dashboard/version.py', 'releasenotes/source/locale/cs/LC_MESSAGES/releasenotes.po', 'neutron_fwaas_dashboard/__init__.py', 'neutron_fwaas_dashboard/test/helpers.py', 'setup.cfg', 'tox.ini', '.gitignore', 'neutron_fwaas_dashboard/local_settings.d/_7000_neutron_fwaas.py', 'releasenotes/notes/split-out-from-horizon-4807f953d5dc0799.yaml', 'neutron_fwaas_dashboard/dashboards/project/firewalls_v2/templates/firewalls_v2/addfirewallgroup.html', 'neutron_fwaas_dashboard/test/api_tests/test_fwaas_v2.py', 'neutron_fwaas_dashboard/dashboards/project/firewalls_v2/templates/firewalls_v2/addrule.html', 'releasenotes/source/stein.rst', 'neutron_fwaas_dashboard/dashboards/__init__.py', 'neutron_fwaas_dashboard/dashboards/project/firewalls_v2/templates/firewalls_v2/addport.html', 'neutron_fwaas_dashboard/dashboards/project/firewalls_v2/templates/firewalls_v2/_updaterule.html', 'neutron_fwaas_dashboard/locale/id/LC_MESSAGES/django.po', 'neutron_fwaas_dashboard/dashboards/project/firewalls_v2/tabs.py', 'neutron_fwaas_dashboard/dashboards/project/firewalls_v2/views.py', 'babel-django.cfg', 'releasenotes/notes/fwaas-v2-dashboard-cd148bd824c5827f.yaml', 'neutron_fwaas_dashboard/locale/en_GB/LC_MESSAGES/django.po', 'devstack/plugin.sh', 'doc/source/conf.py', 'neutron_fwaas_dashboard/locale/.placeholder', 'devstack/README.rst', 'neutron_fwaas_dashboard/test/integration/pages/__init__.py', 'manage.py', 'neutron_fwaas_dashboard/static/neutron_fwaas_dashboard/js/horizon.firewalls_v2.js', 'releasenotes/source/unreleased.rst', 'releasenotes/source/train.rst', 'releasenotes/source/queens.rst', 'neutron_fwaas_dashboard/locale/ko_KR/LC_MESSAGES/django.po', 'neutron_fwaas_dashboard/dashboards/project/firewalls_v2/templates/firewalls_v2/updatepolicy.html', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/neutron-fwaas-dashboard/commit/4a0f1a3ae54a69f37ab38a0209e3a9996f727693', 'message': 'Retire neutron-fwaas-dashboard project\n\nGovernance change is proposed at [1] and project config patch is\nproposed at [2]\n\n[1] https://review.opendev.org/735828\n[2] https://review.opendev.org/#/c/735812/\n\nChange-Id: Ib78ff301076c0295aad9b1bf49eed0f1a7adb7c2\n'}]",0,735831,4a0f1a3ae54a69f37ab38a0209e3a9996f727693,17,6,2,11975,,,0,"Retire neutron-fwaas-dashboard project

Governance change is proposed at [1] and project config patch is
proposed at [2]

[1] https://review.opendev.org/735828
[2] https://review.opendev.org/#/c/735812/

Change-Id: Ib78ff301076c0295aad9b1bf49eed0f1a7adb7c2
",git fetch https://review.opendev.org/openstack/neutron-fwaas-dashboard refs/changes/31/735831/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_fwaas_dashboard/dashboards/project/__init__.py', 'neutron_fwaas_dashboard/dashboards/project/firewalls_v2/templates/firewalls_v2/remove_rule_from_policy.html', 'test-requirements.txt', 'neutron_fwaas_dashboard/enabled/_7010_project_firewalls_common.py', 'neutron_fwaas_dashboard/static/neutron_fwaas_dashboard/scss/firewalls.scss', 'neutron_fwaas_dashboard/dashboards/project/firewalls_v2/widgets.py', 'neutron_fwaas_dashboard/dashboards/project/firewalls_v2/templates/firewalls_v2/_rule_details.html', 'neutron_fwaas_dashboard/dashboards/project/firewalls_v2/__init__.py', 'neutron_fwaas_dashboard/test/test_data/__init__.py', 'babel-djangojs.cfg', 'neutron_fwaas_dashboard/dashboards/project/firewalls_v2/templates/firewalls_v2/_insert_rule_to_policy.html', 'neutron_fwaas_dashboard/dashboards/project/firewalls_v2/templates/firewalls_v2/removeport.html', 'neutron_fwaas_dashboard/api/fwaas_v2.py', 'lower-constraints.txt', 'neutron_fwaas_dashboard/dashboards/project/firewalls_v2/templates/firewalls_v2/_update_rule_help.html', 'releasenotes/source/locale/de/LC_MESSAGES/releasenotes.po', 'releasenotes/source/ussuri.rst', 'neutron_fwaas_dashboard/test/__init__.py', 'doc/source/configuration/index.rst', 'neutron_fwaas_dashboard/locale/pt_BR/LC_MESSAGES/django.po', 'neutron_fwaas_dashboard/dashboards/project/firewalls_v2/templates/firewalls_v2/updaterule.html', 'neutron_fwaas_dashboard/locale/fr/LC_MESSAGES/django.po', 'releasenotes/source/locale/ja/LC_MESSAGES/releasenotes.po', 'neutron_fwaas_dashboard/dashboards/project/firewalls_v2/templates/firewalls_v2/table_select.html', 'doc/source/install/index.rst', 'releasenotes/source/locale/ko_KR/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po', 'neutron_fwaas_dashboard/dashboards/project/firewalls_v2/templates/firewalls_v2/insert_rule_to_policy.html', 'neutron_fwaas_dashboard/dashboards/project/firewalls_v2/templates/firewalls_v2/details_tabs.html', 'neutron_fwaas_dashboard/test/integration/pages/project/network/__init__.py', 'releasenotes/notes/deprecate-neutron-fwaas-as-stadium-project-af51b5bcab1cb25f.yaml', 'neutron_fwaas_dashboard/dashboards/project/firewalls_v2/templates/firewalls_v2/_update_rules.html', 'neutron_fwaas_dashboard/test/integration/test_basic.py', 'neutron_fwaas_dashboard/dashboards/project/firewalls_v2/templates/firewalls_v2/_removeport.html', 'requirements.txt', 'bindep.txt', 'neutron_fwaas_dashboard/locale/ru/LC_MESSAGES/django.po', 'doc/source/contributor/index.rst', 'neutron_fwaas_dashboard/test/test_data/fwaas_v2_data.py', 'neutron_fwaas_dashboard/dashboards/project/firewalls_v2/templates/firewalls_v2/addpolicy.html', 'neutron_fwaas_dashboard/dashboards/project/firewalls_v2/templates/firewalls_v2/updatefirewall.html', 'releasenotes/notes/drop-fwaas-v1-d10b108e8cf970fe.yaml', 'neutron_fwaas_dashboard/test/integration/horizon.conf', 'releasenotes/source/locale/ru/LC_MESSAGES/releasenotes.po', 'neutron_fwaas_dashboard/dashboards/project/firewalls_v2/urls.py', 'releasenotes/source/locale/fr/LC_MESSAGES/releasenotes.po', 'releasenotes/notes/shared-policy-fix-db8ca3cd327540d0.yaml', 'neutron_fwaas_dashboard/test/integration/__init__.py', 'neutron_fwaas_dashboard/test/integration/pages/project/__init__.py', 'neutron_fwaas_dashboard/test/api_tests/__init__.py', 'neutron_fwaas_dashboard/dashboards/project/firewalls_v2/templates/firewalls_v2/_policy_details.html', 'releasenotes/source/pike.rst', 'releasenotes/notes/drop-py-2-7-aeac41c824c80d4a.yaml', 'neutron_fwaas_dashboard/test/settings.py', 'neutron_fwaas_dashboard/dashboards/project/firewalls_v2/templates/firewalls_v2/_firewallgroup_details.html', 'neutron_fwaas_dashboard/locale/zh_CN/LC_MESSAGES/django.po', 'neutron_fwaas_dashboard/dashboards/project/firewalls_v2/forms.py', 'neutron_fwaas_dashboard/dashboards/project/firewalls_v2/panel.py', 'doc/source/contributor/devstack-plugin.rst', 'doc/source/index.rst', 'etc/neutron-fwaas-policy.json', 'releasenotes/notes/add-remove-router-policy-a3145bce0ce3cd92.yaml', 'releasenotes/source/locale/pt_BR/LC_MESSAGES/releasenotes.po', 'neutron_fwaas_dashboard/dashboards/project/firewalls_v2/templates/firewalls_v2/_remove_rule_from_policy.html', 'HACKING.rst', 'neutron_fwaas_dashboard/enabled/_7012_project_firewalls_v2_panel.py', 'neutron_fwaas_dashboard/dashboards/project/firewalls_v2/templates/firewalls_v2/_updatefirewall.html', 'neutron_fwaas_dashboard/dashboards/project/firewalls_v2/templates/firewalls_v2/_updatepolicy.html', 'neutron_fwaas_dashboard/enabled/__init__.py', 'README.rst', 'setup.py', 'neutron_fwaas_dashboard/dashboards/project/firewalls_v2/workflows.py', 'neutron_fwaas_dashboard/dashboards/project/firewalls_v2/tests.py', 'devstack/settings', 'releasenotes/source/locale/zh_CN/LC_MESSAGES/releasenotes.po', 'releasenotes/notes/.placeholder', 'CONTRIBUTING.rst', 'neutron_fwaas_dashboard/locale/ja/LC_MESSAGES/django.po', 'neutron_fwaas_dashboard/api/__init__.py', 'releasenotes/source/locale/es/LC_MESSAGES/releasenotes.po', 'releasenotes/source/rocky.rst', 'LICENSE', 'neutron_fwaas_dashboard/dashboards/project/firewalls_v2/templates/firewalls_v2/_addport.html', 'releasenotes/source/locale/id/LC_MESSAGES/releasenotes.po', 'neutron_fwaas_dashboard/dashboards/project/firewalls_v2/tables.py', 'neutron_fwaas_dashboard/dashboards/project/firewalls_v2/templates/firewalls_v2/_update_ports.html', 'neutron_fwaas_dashboard/dashboards/project/firewalls_v2/templates/firewalls_v2/_update_port_help.html', 'neutron_fwaas_dashboard/test/test_data/utils.py', 'neutron_fwaas_dashboard/locale/de/LC_MESSAGES/django.po', 'neutron_fwaas_dashboard/test/integration/pages/project/network/firewallgroupspage.py', 'releasenotes/source/index.rst', 'neutron_fwaas_dashboard/version.py', 'releasenotes/source/locale/cs/LC_MESSAGES/releasenotes.po', 'neutron_fwaas_dashboard/__init__.py', 'neutron_fwaas_dashboard/test/helpers.py', 'setup.cfg', 'tox.ini', 'neutron_fwaas_dashboard/local_settings.d/_7000_neutron_fwaas.py', 'releasenotes/notes/split-out-from-horizon-4807f953d5dc0799.yaml', 'neutron_fwaas_dashboard/dashboards/project/firewalls_v2/templates/firewalls_v2/addfirewallgroup.html', 'neutron_fwaas_dashboard/test/api_tests/test_fwaas_v2.py', 'neutron_fwaas_dashboard/dashboards/project/firewalls_v2/templates/firewalls_v2/addrule.html', 'releasenotes/source/stein.rst', 'neutron_fwaas_dashboard/dashboards/__init__.py', 'neutron_fwaas_dashboard/dashboards/project/firewalls_v2/templates/firewalls_v2/addport.html', 'neutron_fwaas_dashboard/dashboards/project/firewalls_v2/templates/firewalls_v2/_updaterule.html', 'neutron_fwaas_dashboard/locale/id/LC_MESSAGES/django.po', 'neutron_fwaas_dashboard/dashboards/project/firewalls_v2/tabs.py', 'neutron_fwaas_dashboard/dashboards/project/firewalls_v2/views.py', 'babel-django.cfg', 'releasenotes/notes/fwaas-v2-dashboard-cd148bd824c5827f.yaml', 'neutron_fwaas_dashboard/locale/en_GB/LC_MESSAGES/django.po', 'devstack/plugin.sh', 'doc/source/conf.py', 'neutron_fwaas_dashboard/locale/.placeholder', 'devstack/README.rst', 'neutron_fwaas_dashboard/test/integration/pages/__init__.py', 'manage.py', 'neutron_fwaas_dashboard/static/neutron_fwaas_dashboard/js/horizon.firewalls_v2.js', 'releasenotes/source/unreleased.rst', 'releasenotes/source/train.rst', 'releasenotes/source/queens.rst', 'neutron_fwaas_dashboard/locale/ko_KR/LC_MESSAGES/django.po', 'neutron_fwaas_dashboard/dashboards/project/firewalls_v2/templates/firewalls_v2/updatepolicy.html', 'releasenotes/source/conf.py']",125,bfdd06e5fda61e6692a10d5c20314599d639e152,retire-neutron-fwaas,,"# -*- coding: utf-8 -*- # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or # implied. # See the License for the specific language governing permissions and # limitations under the License. # Glance Release Notes documentation build configuration file, created by # sphinx-quickstart on Tue Nov 3 17:40:50 2015. # # This file is execfile()d with the current directory set to its # containing dir. # # Note that not all possible configuration values are present in this # autogenerated file. # # All configuration values have a default; values that are commented out # serve to show the default. # If extensions (or modules to document with autodoc) are in another directory, # add these directories to sys.path here. If the directory is relative to the # documentation root, use os.path.abspath to make it absolute, like shown here. # sys.path.insert(0, os.path.abspath('.')) # -- General configuration ------------------------------------------------ # If your documentation needs a minimal Sphinx version, state it here. # needs_sphinx = '1.0' # Add any Sphinx extension module names here, as strings. They can be # extensions coming with Sphinx (named 'sphinx.ext.*') or your custom # ones. extensions = [ 'reno.sphinxext', 'openstackdocstheme', ] # openstackdocstheme options openstackdocs_repo_name = 'openstack/neutron-fwaas-dashboard' openstackdocs_auto_name = False openstackdocs_bug_project = 'neutron-fwaas-dashboard' openstackdocs_bug_tag = 'doc' # Add any paths that contain templates here, relative to this directory. # templates_path = ['_templates'] # The suffix of source filenames. source_suffix = '.rst' # The encoding of source files. # source_encoding = 'utf-8-sig' # The master toctree document. master_doc = 'index' # General information about the project. project = u'Neutron FWaaS Dashboard Release Notes' copyright = u'2017, OpenStack Foundation' # Release notes are version independent. # The full version, including alpha/beta/rc tags. release = '' # The short X.Y version. version = '' # The language for content autogenerated by Sphinx. Refer to documentation # for a list of supported languages. # language = None # There are two options for replacing |today|: either, you set today to some # non-false value, then it is used: # today = '' # Else, today_fmt is used as the format for a strftime call. # today_fmt = '%B %d, %Y' # List of patterns, relative to source directory, that match files and # directories to ignore when looking for source files. exclude_patterns = [] # The reST default role (used for this markup: `text`) to use for all # documents. # default_role = None # If true, '()' will be appended to :func: etc. cross-reference text. # add_function_parentheses = True # If true, the current module name will be prepended to all description # unit titles (such as .. function::). # add_module_names = True # If true, sectionauthor and moduleauthor directives will be shown in the # output. They are ignored by default. # show_authors = False # The name of the Pygments (syntax highlighting) style to use. pygments_style = 'native' # A list of ignored prefixes for module index sorting. # modindex_common_prefix = [] # If true, keep warnings as ""system message"" paragraphs in the built documents. # keep_warnings = False # -- Options for HTML output ---------------------------------------------- # The theme to use for HTML and HTML Help pages. See the documentation for # a list of builtin themes. html_theme = 'openstackdocs' # Theme options are theme-specific and customize the look and feel of a theme # further. For a list of options available for each theme, see the # documentation. # html_theme_options = {} # Add any paths that contain custom themes here, relative to this directory. # html_theme_path = [] # The name for this set of Sphinx documents. If None, it defaults to # ""<project> v<release> documentation"". # html_title = None # A shorter title for the navigation bar. Default is the same as html_title. # html_short_title = None # The name of an image file (relative to this directory) to place at the top # of the sidebar. # html_logo = None # The name of an image file (within the static path) to use as favicon of the # docs. This file should be a Windows icon file (.ico) being 16x16 or 32x32 # pixels large. # html_favicon = None # Add any paths that contain custom static files (such as style sheets) here, # relative to this directory. They are copied after the builtin static files, # so a file named ""default.css"" will overwrite the builtin ""default.css"". html_static_path = [] # Add any extra paths that contain custom files (such as robots.txt or # .htaccess) here, relative to this directory. These files are copied # directly to the root of the documentation. # html_extra_path = [] # If not '', a 'Last updated on:' timestamp is inserted at every page bottom, # using the given strftime format. # html_last_updated_fmt = '%b %d, %Y' # If true, SmartyPants will be used to convert quotes and dashes to # typographically correct entities. # html_use_smartypants = True # Custom sidebar templates, maps document names to template names. # html_sidebars = {} # Additional templates that should be rendered to pages, maps page names to # template names. # html_additional_pages = {} # If false, no module index is generated. # html_domain_indices = True # If false, no index is generated. # html_use_index = True # If true, the index is split into individual pages for each letter. # html_split_index = False # If true, links to the reST sources are added to the pages. # html_show_sourcelink = True # If true, ""Created using Sphinx"" is shown in the HTML footer. Default is True. # html_show_sphinx = True # If true, ""(C) Copyright ..."" is shown in the HTML footer. Default is True. # html_show_copyright = True # If true, an OpenSearch description file will be output, and all pages will # contain a <link> tag referring to it. The value of this option must be the # base URL from which the finished HTML is served. # html_use_opensearch = '' # This is the file name suffix for HTML files (e.g. "".xhtml""). # html_file_suffix = None # Output file base name for HTML help builder. htmlhelp_basename = 'neutronfwaasdashboardReleaseNotesdoc' # -- Options for Internationalization output ------------------------------ locale_dirs = ['locale/'] ",8,12795
openstack%2Fopenstack-ansible-galera_server~master~I76e7498b1676a2b4c550fda049f332aa209ce53d,openstack/openstack-ansible-galera_server,master,I76e7498b1676a2b4c550fda049f332aa209ce53d,Convert xinetd clustercheck to systemd socket service,MERGED,2022-01-10 17:59:17.000000000,2022-02-09 00:45:42.000000000,2022-02-09 00:44:07.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-01-10 17:59:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_server/commit/861d85f34a7c6973a7f45c4f1bbdf9ebe951252d', 'message': 'Convert xinetd clustercheck to systemd socket service\n\nDepends-On: https://review.opendev.org/c/openstack/ansible-role-systemd_service/+/824041\nChange-Id: I76e7498b1676a2b4c550fda049f332aa209ce53d\n'}, {'number': 2, 'created': '2022-01-11 08:30:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_server/commit/6d8417583d7a031093e47e34aaae1e9dd0f658ef', 'message': 'Convert xinetd clustercheck to systemd socket service\n\nDepends-On: https://review.opendev.org/c/openstack/ansible-role-systemd_service/+/824096\nChange-Id: I76e7498b1676a2b4c550fda049f332aa209ce53d\n'}, {'number': 3, 'created': '2022-01-25 15:48:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_server/commit/3a5986efcbc3822856a56b0a52425b0a4c3842ca', 'message': 'Convert xinetd clustercheck to systemd socket service\n\nChange-Id: I76e7498b1676a2b4c550fda049f332aa209ce53d\n'}, {'number': 4, 'created': '2022-01-25 19:08:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_server/commit/dbfa63cd471830dc95c798897b0af29e58f2dafb', 'message': 'Convert xinetd clustercheck to systemd socket service\n\nChange-Id: I76e7498b1676a2b4c550fda049f332aa209ce53d\n'}, {'number': 5, 'created': '2022-01-25 21:12:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_server/commit/51b23370c3111cd5efd52c72132cb2c7e02cabbe', 'message': 'Convert xinetd clustercheck to systemd socket service\n\nChange-Id: I76e7498b1676a2b4c550fda049f332aa209ce53d\n'}, {'number': 6, 'created': '2022-01-26 08:25:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_server/commit/c2b586e8749f99ea37df98019965730a55255571', 'message': 'Convert xinetd clustercheck to systemd socket service\n\nChange-Id: I76e7498b1676a2b4c550fda049f332aa209ce53d\n'}, {'number': 7, 'created': '2022-01-27 10:17:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_server/commit/10b5b7555e27e60630a00cbd40b1940465d50c71', 'message': 'Convert xinetd clustercheck to systemd socket service\n\nDepends-On: https://review.opendev.org/c/openstack/ansible-role-systemd_service/+/826602\nChange-Id: I76e7498b1676a2b4c550fda049f332aa209ce53d\n'}, {'number': 8, 'created': '2022-01-31 10:56:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_server/commit/f12f66242c3c45bd1ee4213ccc11d7a0b73f86e8', 'message': 'Convert xinetd clustercheck to systemd socket service\n\nDepends-On: https://review.opendev.org/c/openstack/ansible-role-systemd_service/+/826602\nChange-Id: I76e7498b1676a2b4c550fda049f332aa209ce53d\n'}, {'number': 9, 'created': '2022-02-01 08:27:12.000000000', 'files': ['tasks/galera_server_main.yml', 'tasks/galera_server_xinetd.yml', 'vars/redhat.yml', 'tasks/galera_server_post_install.yml', 'vars/debian.yml', 'handlers/main.yml', 'templates/mysqlchk.j2', 'defaults/main.yml', 'releasenotes/notes/remove_xinetd-1970838891f570cc.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_server/commit/41553dfa7a3ad5b16a4e8d75798bf32c4f83081e', 'message': 'Convert xinetd clustercheck to systemd socket service\n\nDepends-On: https://review.opendev.org/c/openstack/ansible-role-systemd_service/+/826602\nChange-Id: I76e7498b1676a2b4c550fda049f332aa209ce53d\n'}]",10,824042,41553dfa7a3ad5b16a4e8d75798bf32c4f83081e,41,4,9,25023,,,0,"Convert xinetd clustercheck to systemd socket service

Depends-On: https://review.opendev.org/c/openstack/ansible-role-systemd_service/+/826602
Change-Id: I76e7498b1676a2b4c550fda049f332aa209ce53d
",git fetch https://review.opendev.org/openstack/openstack-ansible-galera_server refs/changes/42/824042/8 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/galera_server_main.yml', 'tasks/galera_server_xinetd.yml', 'vars/redhat.yml', 'tasks/galera_server_post_install.yml', 'vars/debian.yml', 'handlers/main.yml', 'templates/mysqlchk.j2', 'defaults/main.yml', 'releasenotes/notes/remove_xinetd-1970838891f570cc.yaml']",9,861d85f34a7c6973a7f45c4f1bbdf9ebe951252d,osa/centos-9,--- upgrade: - | The xinetd script and configuration to run the 'clustercheck' script is replaced with a systemd socket activated service. ,,27,75
openstack%2Felection~master~I3c8a629ccd7264b109e00505ecae72416ab475bd,openstack/election,master,I3c8a629ccd7264b109e00505ecae72416ab475bd,TC Nomination - spotz,MERGED,2022-02-08 15:26:42.000000000,2022-02-09 00:30:22.000000000,2022-02-09 00:26:43.000000000,"[{'_account_id': 8556}, {'_account_id': 14482}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-08 15:26:42.000000000', 'files': ['candidates/z/TC/amy@demarco.com'], 'web_link': 'https://opendev.org/openstack/election/commit/9042c4bfce85288692ca7bfcd8dac76953b87621', 'message': 'TC Nomination - spotz\n\nAdding my candidacy to run for the TC\n\nChange-Id: I3c8a629ccd7264b109e00505ecae72416ab475bd\n'}]",5,828361,9042c4bfce85288692ca7bfcd8dac76953b87621,14,3,1,15993,,,0,"TC Nomination - spotz

Adding my candidacy to run for the TC

Change-Id: I3c8a629ccd7264b109e00505ecae72416ab475bd
",git fetch https://review.opendev.org/openstack/election refs/changes/61/828361/1 && git format-patch -1 --stdout FETCH_HEAD,['candidates/z/TC/amy@demarco.com'],1,9042c4bfce85288692ca7bfcd8dac76953b87621,email,"I am declaring my candidacy for the Technical Committee. I currently serve on the TC and have contributed to mulitple projects over the years as well as being an operator which I feel gives me a well rounded view of what makes OpenStack and how the pieces should work together. I feel I represent all members of the community from the small private clouds to the teams running large public clouds. I also feel my experiences helping with OpenStack Upstream Institute, OpenSttack OPS Meetup team, the OpenStack mentoring program, and the Git and Gerrit workshops help me to connect with contributers from those just starting out to those who have been here from the beginning. My main goal for joining the TC is to take my experiences with Operators and making sure they have a voice within the our decisions so that we can better meet the needs of our users. Thanks, Amy Marrich (spotz) ",,21,0
openstack%2Felection~master~I333c34063d47aff630c91879bcb4ad2fdae3c9df,openstack/election,master,I333c34063d47aff630c91879bcb4ad2fdae3c9df,Add Andrey Pavlov candidacy for Ec2 API,MERGED,2022-02-08 11:07:06.000000000,2022-02-09 00:28:45.000000000,2022-02-09 00:26:40.000000000,"[{'_account_id': 8556}, {'_account_id': 14482}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-08 11:07:06.000000000', 'files': ['candidates/z/Ec2_Api/andrey.mp@gmail.com'], 'web_link': 'https://opendev.org/openstack/election/commit/8338deacdb43279ac904cfdca4264fa34868c749', 'message': 'Add Andrey Pavlov candidacy for Ec2 API\n\nChange-Id: I333c34063d47aff630c91879bcb4ad2fdae3c9df\n'}]",5,828279,8338deacdb43279ac904cfdca4264fa34868c749,14,3,1,10234,,,0,"Add Andrey Pavlov candidacy for Ec2 API

Change-Id: I333c34063d47aff630c91879bcb4ad2fdae3c9df
",git fetch https://review.opendev.org/openstack/election refs/changes/79/828279/1 && git format-patch -1 --stdout FETCH_HEAD,['candidates/z/Ec2_Api/andrey.mp@gmail.com'],1,8338deacdb43279ac904cfdca4264fa34868c749,,"Hi all, I would like to continue to run for PTLship. Best regards, Andrey Pavlov. ",,6,0
openstack%2Felection~master~Iadc855e40d6f809a906538497bd453ddfa3d84e7,openstack/election,master,Iadc855e40d6f809a906538497bd453ddfa3d84e7,Adding Rajat Dhasmana candidacy for Cinder PTL,MERGED,2022-02-08 17:50:07.000000000,2022-02-09 00:25:49.000000000,2022-02-09 00:24:23.000000000,"[{'_account_id': 7198}, {'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-08 17:50:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/election/commit/f69d1a13011c49ca204641f6ad8e6d8b159d6251', 'message': 'Adding Rajat Dhasmana candidacy for Cinder PTL\n\nChange-Id: Iadc855e40d6f809a906538497bd453ddfa3d84e7\n'}, {'number': 2, 'created': '2022-02-08 18:05:06.000000000', 'files': ['candidates/z/Cinder/rajatdhasmana@gmail.com'], 'web_link': 'https://opendev.org/openstack/election/commit/8b6711aec49c8c47d1fa27496f9899aa916784e9', 'message': 'Adding Rajat Dhasmana candidacy for Cinder PTL\n\nChange-Id: Iadc855e40d6f809a906538497bd453ddfa3d84e7\n'}]",5,828385,8b6711aec49c8c47d1fa27496f9899aa916784e9,15,3,2,27615,,,0,"Adding Rajat Dhasmana candidacy for Cinder PTL

Change-Id: Iadc855e40d6f809a906538497bd453ddfa3d84e7
",git fetch https://review.opendev.org/openstack/election refs/changes/85/828385/2 && git format-patch -1 --stdout FETCH_HEAD,['candidates/z/Cinder/rajatdhasmana@gmail.com'],1,f69d1a13011c49ca204641f6ad8e6d8b159d6251,,"Hi All, I would like to announce my candidacy for PTL of the Cinder project for the Z cycle. Since this is the first time I'm proposing my candidacy, I would like to briefly introduce myself. I started contributing to OpenStack back in the Queens release (although not very actively) and started focusing on the Cinder project in the Rocky release. I became a core reviewer in Cinder in the mid of the Stein release and since then I've been actively contributing to the Cinder project in terms of features, bug fixes, reviews etc. I'm also a part of Cinder's core security group and a stable core and currently serving as release liaison for Cinder for the past 3 releases. Coming to the focus for the Z release, Cinder receives an abundance of commits every cycle in terms of new drivers, driver features, core cinder features, bug fixes, improvements etc and we've always faced a shortage in reviews. It is not due to fewer people working actively but more of a priority issue in their respective roles. I would like to encourage contributors to discuss with their managers about the importance of code review in opensource and how it is helpful for the community and the individuals as well. Apart from that, I would like to revisit the security issues backlog since that hasn't been looked upon in quite some time and if we encounter something that needs attention, we can also hold core security meetings from time to time to address the issues. We are also getting active driver contributions every cycle which is a good thing, but sadly the driver implementation patches seem to have a lot of mistakes which are well documented in the driver contribution docs and something I would like to highlight in the Z PTG (as most of the vendors join it and propose their driver ideas). Again, the documentation is not perfect as we discussed in Yoga PTG. Following up upon this and improving it is another focus I support for Cinder. Lastly, I would like to put more emphasis upon the 3rd Party CI compliance check which we haven't done in a while and it would be good to know how many vendors are actually maintaining their CI consistently. There are some new ideas started by Brian in the past releases which I would like to continue. Some examples include the last cinder meeting being a video+IRC meeting and every third Friday of the month, we have a festival of XS reviews which significantly reduced the backlog of open patches. In the end, I would like to say, I want to continue the good trends set in the Cinder community and improve on certain areas where there is not much attention being given. I will do my best to address the above mentioned items during my time as PTL. Thanks for considering me. Rajat Dhasmana (whoami-rajat) ",,19,0
openstack%2Fmanila~master~I788d34a88a79058c5ab35a8441f0a9dd4b667a2b,openstack/manila,master,I788d34a88a79058c5ab35a8441f0a9dd4b667a2b,retry deadlock for share_type_destroy,MERGED,2021-10-01 22:07:00.000000000,2022-02-09 00:20:14.000000000,2022-02-08 22:33:54.000000000,"[{'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 29632}, {'_account_id': 32029}]","[{'number': 1, 'created': '2021-10-01 22:07:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/b0beabd159e95914a908e25cae71971c9124bb58', 'message': 'add a decorator to limit the number of retry operations when hitting a deadlock on database\n\nCloses-Bug: 1518936\nChange-Id: I788d34a88a79058c5ab35a8441f0a9dd4b667a2b\n'}, {'number': 2, 'created': '2021-10-01 22:26:51.000000000', 'files': ['manila/db/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/3935fe5e6ae3e1488f31beba2de8da277925ee89', 'message': 'retry deadlock for share_type_destroy\n\nby adding a decorator.\n\nCloses-Bug: 1518936\nChange-Id: I788d34a88a79058c5ab35a8441f0a9dd4b667a2b\n'}]",5,812232,3935fe5e6ae3e1488f31beba2de8da277925ee89,36,4,2,34092,,,0,"retry deadlock for share_type_destroy

by adding a decorator.

Closes-Bug: 1518936
Change-Id: I788d34a88a79058c5ab35a8441f0a9dd4b667a2b
",git fetch https://review.opendev.org/openstack/manila refs/changes/32/812232/1 && git format-patch -1 --stdout FETCH_HEAD,['manila/db/sqlalchemy/api.py'],1,b0beabd159e95914a908e25cae71971c9124bb58,bug/1518936,"@oslo_db_api.wrap_db_retry(max_retries=5, retry_on_deadlock=True)",,1,0
openstack%2Fpuppet-octavia~master~I306ceccd2b913ec39b2ddeff58ef7f19ccbc1170,openstack/puppet-octavia,master,I306ceccd2b913ec39b2ddeff58ef7f19ccbc1170,Wire-in heartbeat_interval,MERGED,2022-02-07 12:47:44.000000000,2022-02-09 00:17:02.000000000,2022-02-09 00:17:02.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-07 12:47:44.000000000', 'files': ['manifests/health_manager.pp', 'spec/classes/octavia_health_manager_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-octavia/commit/5e6774459b4511eb8e6759d74efd88555bea7552', 'message': 'Wire-in heartbeat_interval\n\nAllow to define heartbeat_interval for Octavia Health Manager\nto configure sleep time between sending heartbeats.\n\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\nChange-Id: I306ceccd2b913ec39b2ddeff58ef7f19ccbc1170\n'}]",1,828123,5e6774459b4511eb8e6759d74efd88555bea7552,7,3,1,6926,,,0,"Wire-in heartbeat_interval

Allow to define heartbeat_interval for Octavia Health Manager
to configure sleep time between sending heartbeats.

Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
Change-Id: I306ceccd2b913ec39b2ddeff58ef7f19ccbc1170
",git fetch https://review.opendev.org/openstack/puppet-octavia refs/changes/23/828123/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/health_manager.pp', 'spec/classes/octavia_health_manager_spec.rb']",2,5e6774459b4511eb8e6759d74efd88555bea7552,," it { is_expected.to contain_octavia_config('health_manager/heartbeat_interval').with_value('<SERVICE DEFAULT>') } :heartbeat_interval => 42, it { is_expected.to contain_octavia_config('health_manager/heartbeat_interval').with_value(42) }",,9,0
openstack%2Fopenstack-zuul-jobs~master~I601aca1507d16912e08ee9aba8842bc205ea2a91,openstack/openstack-zuul-jobs,master,I601aca1507d16912e08ee9aba8842bc205ea2a91,prepare-zanata-client: upgrade pip in venv,MERGED,2022-02-08 05:52:19.000000000,2022-02-09 00:12:15.000000000,2022-02-09 00:10:50.000000000,"[{'_account_id': 5263}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-08 05:52:19.000000000', 'files': ['roles/prepare-zanata-client/files/common_translation_update.sh'], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/0d321449db032863b5ec61a1f3fb38694d9095c8', 'message': 'prepare-zanata-client: upgrade pip in venv\n\nMake sure the pip in the venv is upgraded past the system-version so\nit can install all the latest requirements.\n\nChange-Id: I601aca1507d16912e08ee9aba8842bc205ea2a91\n'}]",0,828219,0d321449db032863b5ec61a1f3fb38694d9095c8,7,2,1,7118,,,0,"prepare-zanata-client: upgrade pip in venv

Make sure the pip in the venv is upgraded past the system-version so
it can install all the latest requirements.

Change-Id: I601aca1507d16912e08ee9aba8842bc205ea2a91
",git fetch https://review.opendev.org/openstack/openstack-zuul-jobs refs/changes/19/828219/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/prepare-zanata-client/files/common_translation_update.sh'],1,0d321449db032863b5ec61a1f3fb38694d9095c8,translate-venv-pip-upgrade, # Ensure this venv is running the latest pip; if this has come # from the system pip we might have a bionic-era pip that # can't build modern things. pip install --upgrade pip,,4,0
openstack%2Fpuppet-ceilometer~master~Id8e9277d4699be3aa6b92dd49b3c24f54316eab1,openstack/puppet-ceilometer,master,Id8e9277d4699be3aa6b92dd49b3c24f54316eab1,Bugfix - Deprecated notification_workers is ignored,MERGED,2022-02-07 03:59:28.000000000,2022-02-08 23:45:11.000000000,2022-02-07 16:50:13.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-07 03:59:28.000000000', 'files': ['manifests/agent/notification.pp'], 'web_link': 'https://opendev.org/openstack/puppet-ceilometer/commit/0c04ba25d2eb37b89527f054879ab2818676f7ae', 'message': 'Bugfix - Deprecated notification_workers is ignored\n\nChange-Id: Id8e9277d4699be3aa6b92dd49b3c24f54316eab1\n'}]",1,828068,0c04ba25d2eb37b89527f054879ab2818676f7ae,8,3,1,33816,,,0,"Bugfix - Deprecated notification_workers is ignored

Change-Id: Id8e9277d4699be3aa6b92dd49b3c24f54316eab1
",git fetch https://review.opendev.org/openstack/puppet-ceilometer refs/changes/68/828068/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/agent/notification.pp'],1,0c04ba25d2eb37b89527f054879ab2818676f7ae,, 'notification/workers' : value => $workers_real;, 'notification/workers' : value => $workers;,1,1
openstack%2Foctavia-tempest-plugin~master~I689a50e6762fd22e1aaec8aa84ff5b075ff5bd45,openstack/octavia-tempest-plugin,master,I689a50e6762fd22e1aaec8aa84ff5b075ff5bd45,Add centos-9-stream job,MERGED,2021-11-02 16:09:46.000000000,2022-02-08 23:29:46.000000000,2022-02-08 23:23:48.000000000,"[{'_account_id': 8367}, {'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 13995}, {'_account_id': 22348}, {'_account_id': 29244}, {'_account_id': 32458}, {'_account_id': 34429}]","[{'number': 1, 'created': '2021-11-02 16:09:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/d69cdc9e0dbed243ace0c0d1bf2876573fc4ff17', 'message': 'WIP Add centos-9-stream job\n\ncurrent only the amp is c9\n\nChange-Id: I689a50e6762fd22e1aaec8aa84ff5b075ff5bd45\n'}, {'number': 2, 'created': '2021-12-09 15:36:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/7e7a355cde6146fd6ac7e8e61f097a705421751b', 'message': 'WIP Add centos-9-stream job\n\nChange-Id: I689a50e6762fd22e1aaec8aa84ff5b075ff5bd45\n'}, {'number': 3, 'created': '2021-12-09 15:44:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/d08492de6d643fb87077be7b55c963372ed37f40', 'message': 'WIP Add centos-9-stream job\n\nChange-Id: I689a50e6762fd22e1aaec8aa84ff5b075ff5bd45\n'}, {'number': 4, 'created': '2021-12-13 08:05:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/ce21a346ee826991bd4304750122f9b73c71821f', 'message': 'WIP Add centos-9-stream job\n\nChange-Id: I689a50e6762fd22e1aaec8aa84ff5b075ff5bd45\n'}, {'number': 5, 'created': '2022-01-20 14:53:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/8f6faf53fd7618d30d13875212b063eeb3f82976', 'message': 'WIP Add centos-9-stream job\n\nChange-Id: I689a50e6762fd22e1aaec8aa84ff5b075ff5bd45\n'}, {'number': 6, 'created': '2022-01-20 17:14:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/512fd9a1fb1ed0a6dce54b399d08a021ca762b88', 'message': 'WIP Add centos-9-stream job\n\nChange-Id: I689a50e6762fd22e1aaec8aa84ff5b075ff5bd45\n'}, {'number': 7, 'created': '2022-01-21 07:05:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/7759868ab3d8703d4f48f49c411d4cf19bced723', 'message': 'WIP Add centos-9-stream job\n\nChange-Id: I689a50e6762fd22e1aaec8aa84ff5b075ff5bd45\n'}, {'number': 8, 'created': '2022-01-21 12:28:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/3749e23214846de6e9033579114716510ff3a599', 'message': 'WIP Add centos-9-stream job\n\nChange-Id: I689a50e6762fd22e1aaec8aa84ff5b075ff5bd45\n'}, {'number': 9, 'created': '2022-01-24 17:14:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/89e07c7c7f536183d996f0ac11a1103f2a24f621', 'message': 'WIP Add centos-9-stream job\n\nChange-Id: I689a50e6762fd22e1aaec8aa84ff5b075ff5bd45\n'}, {'number': 10, 'created': '2022-01-25 07:42:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/e88032e156981dc7d935fbe7aafa41884fe7d433', 'message': 'Add centos-9-stream job\n\nAdd octavia-v2-dsvm-scenario-centos-9-stream\n\nAdd extra args to the ""scp"" command to authorize the pubkey exchange\nwith a cirros VM.\nDetect the openssh client version to enable the use of the SCP protocol\n(starting with openssh 8.7, the SFTP protocol is the default protocol\nwith scp, SFTP is not supported by Cirros) when sending files to the\ncirros VM.\n\nChange-Id: I689a50e6762fd22e1aaec8aa84ff5b075ff5bd45\n'}, {'number': 11, 'created': '2022-01-27 19:12:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/7116367065410a3dacb87490369d01f087b9d3cb', 'message': 'Add centos-9-stream job\n\nAdd octavia-v2-dsvm-scenario-centos-9-stream\n\nAdd extra args to the ""scp"" command to authorize the pubkey exchange\nwith a cirros VM.\nDetect the openssh client version to enable the use of the SCP protocol\n(starting with openssh 8.7, the SFTP protocol is the default protocol\nwith scp, SFTP is not supported by Cirros) when sending files to the\ncirros VM.\n\nChange-Id: I689a50e6762fd22e1aaec8aa84ff5b075ff5bd45\n'}, {'number': 12, 'created': '2022-01-28 06:22:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/fbf51a7633cbd68d9bb6fcec403362b28c31376b', 'message': 'Add centos-9-stream job\n\nAdd octavia-v2-dsvm-scenario-centos-9-stream\n\nAdd extra args to the ""scp"" command to authorize the pubkey exchange\nwith a cirros VM.\nDetect the openssh client version to enable the use of the SCP protocol\n(starting with openssh 8.7, the SFTP protocol is the default protocol\nwith scp, SFTP is not supported by Cirros) when sending files to the\ncirros VM.\n\nChange-Id: I689a50e6762fd22e1aaec8aa84ff5b075ff5bd45\n'}, {'number': 13, 'created': '2022-02-01 16:35:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/8ba04aa262ac9ca785359b5e63ab6ec47f7aec95', 'message': 'Add centos-9-stream job\n\nAdd octavia-v2-dsvm-scenario-centos-9-stream\n\nAdd extra args to the ""scp"" command to authorize the pubkey exchange\nwith a cirros VM.\nDetect the openssh client version to enable the use of the SCP protocol\n(starting with openssh 8.7, the SFTP protocol is the default protocol\nwith scp, SFTP is not supported by Cirros) when sending files to the\ncirros VM.\n\nDepends-On: https://review.opendev.org/816370\n\nChange-Id: I689a50e6762fd22e1aaec8aa84ff5b075ff5bd45\n'}, {'number': 14, 'created': '2022-02-07 20:22:04.000000000', 'files': ['octavia_tempest_plugin/tests/test_base.py', 'zuul.d/projects.yaml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/a2c234ea225bae8f979daf3a9e835d864723bbff', 'message': 'Add centos-9-stream job\n\nAdd octavia-v2-dsvm-scenario-centos-9-stream\n\nAdd extra args to the ""scp"" command to authorize the pubkey exchange\nwith a cirros VM.\nDetect the openssh client version to enable the use of the SCP protocol\n(starting with openssh 8.7, the SFTP protocol is the default protocol\nwith scp, SFTP is not supported by Cirros) when sending files to the\ncirros VM.\n\nDepends-On: https://review.opendev.org/828189\n\nChange-Id: I689a50e6762fd22e1aaec8aa84ff5b075ff5bd45\n'}]",26,816369,a2c234ea225bae8f979daf3a9e835d864723bbff,62,8,14,29244,,,0,"Add centos-9-stream job

Add octavia-v2-dsvm-scenario-centos-9-stream

Add extra args to the ""scp"" command to authorize the pubkey exchange
with a cirros VM.
Detect the openssh client version to enable the use of the SCP protocol
(starting with openssh 8.7, the SFTP protocol is the default protocol
with scp, SFTP is not supported by Cirros) when sending files to the
cirros VM.

Depends-On: https://review.opendev.org/828189

Change-Id: I689a50e6762fd22e1aaec8aa84ff5b075ff5bd45
",git fetch https://review.opendev.org/openstack/octavia-tempest-plugin refs/changes/69/816369/4 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/jobs.yaml'],1,d69cdc9e0dbed243ace0c0d1bf2876573fc4ff17,c9, name: octavia-v2-dsvm-scenario-centos-9-stream parent: octavia-v2-dsvm-scenario nodeset: octavia-single-node-centos-8-stream # TODO(gthiemonge) move to centos 9 pool vars: devstack_localrc: OCTAVIA_AMP_BASE_OS: centos OCTAVIA_AMP_DISTRIBUTION_RELEASE_ID: 9-stream OCTAVIA_AMP_IMAGE_SIZE: 3 - job:,,10,0
openstack%2Fneutron~stable%2Fwallaby~I0391dd24224f8656a09ddb002e7dae8783ba37a4,openstack/neutron,stable/wallaby,I0391dd24224f8656a09ddb002e7dae8783ba37a4,"Make sure ""dead vlan"" ports cannot transmit packets",MERGED,2022-02-08 07:23:17.000000000,2022-02-08 23:01:21.000000000,2022-02-08 22:56:57.000000000,"[{'_account_id': 4694}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-08 07:23:17.000000000', 'files': ['neutron/tests/functional/agent/test_dhcp_agent.py', 'neutron/tests/functional/services/trunk/drivers/openvswitch/agent/test_trunk_manager.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py', 'neutron/agent/common/ovs_lib.py', 'neutron/tests/functional/agent/l2/base.py', 'neutron/tests/functional/agent/l3/framework.py', 'neutron/tests/functional/agent/test_firewall.py', 'neutron/tests/common/conn_testers.py', 'neutron/tests/common/net_helpers.py', 'neutron/tests/functional/agent/test_ovs_lib.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/9d5cea0e2bb85b3b6ea27eb71279c57c419b0102', 'message': 'Make sure ""dead vlan"" ports cannot transmit packets\n\nhttps://review.opendev.org/c/openstack/neutron/+/820897 added\na dead vlan flow that pushes the dead vlan tag onto frames\nbelonging to dead ports before these ports are reassigned to\ntheir proper vlans. However add_flow and delete_flows race and\ndelete_flows may run before add_flow, in this case deleting 0 flows\nbut not giving us a chance to detect this: neither does it throw\nan error nor does it return the number of deleted flows.\nThis leads to port staying inaccessible forever and hence\nbreaks corresponding DHCP or router.\n\nCurrent patch suggests another approach to make sure no packets are\nleaked from newly plugged ports: setting their ""vlan_mode"" attribute\nto ""trunk"" and ""trunks""=[4095] (along with assigning dead VLAN tag).\nWith this OVS normal pipeline will allow only packets tagged with 4095\nfrom such ports [1], which normally not happens, but even if it does -\ndefault rule in br-int will drop them anyway.\nThus untagged packets from such ports will also be dropped until\novs agent sets proper VLAN tag and clears vlan_mode to default\n(""access"").\n\nThis approach avoids the race between dhcp/l3 and ovs agents because\ndhcp/l3 agents no longer modify flow table.\n\nThis partially reverts commit 7aae31c9f9ed938760ca0be3c461826b598c7004\n\n[1] https://docs.openvswitch.org/en/latest/ref/ovs-actions.7/?highlight=ovs-actions#the-ovs-normal-pipeline\n\nCloses-Bug: #1930414\nCloses-Bug: #1959564\nChange-Id: I0391dd24224f8656a09ddb002e7dae8783ba37a4\n(cherry picked from commit 0ddca284542aed89df4a22607a2da03f193f083c)\n'}]",2,828231,9d5cea0e2bb85b3b6ea27eb71279c57c419b0102,18,3,1,5948,,,0,"Make sure ""dead vlan"" ports cannot transmit packets

https://review.opendev.org/c/openstack/neutron/+/820897 added
a dead vlan flow that pushes the dead vlan tag onto frames
belonging to dead ports before these ports are reassigned to
their proper vlans. However add_flow and delete_flows race and
delete_flows may run before add_flow, in this case deleting 0 flows
but not giving us a chance to detect this: neither does it throw
an error nor does it return the number of deleted flows.
This leads to port staying inaccessible forever and hence
breaks corresponding DHCP or router.

Current patch suggests another approach to make sure no packets are
leaked from newly plugged ports: setting their ""vlan_mode"" attribute
to ""trunk"" and ""trunks""=[4095] (along with assigning dead VLAN tag).
With this OVS normal pipeline will allow only packets tagged with 4095
from such ports [1], which normally not happens, but even if it does -
default rule in br-int will drop them anyway.
Thus untagged packets from such ports will also be dropped until
ovs agent sets proper VLAN tag and clears vlan_mode to default
(""access"").

This approach avoids the race between dhcp/l3 and ovs agents because
dhcp/l3 agents no longer modify flow table.

This partially reverts commit 7aae31c9f9ed938760ca0be3c461826b598c7004

[1] https://docs.openvswitch.org/en/latest/ref/ovs-actions.7/?highlight=ovs-actions#the-ovs-normal-pipeline

Closes-Bug: #1930414
Closes-Bug: #1959564
Change-Id: I0391dd24224f8656a09ddb002e7dae8783ba37a4
(cherry picked from commit 0ddca284542aed89df4a22607a2da03f193f083c)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/31/828231/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/functional/agent/test_dhcp_agent.py', 'neutron/tests/functional/services/trunk/drivers/openvswitch/agent/test_trunk_manager.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py', 'neutron/agent/common/ovs_lib.py', 'neutron/tests/functional/agent/l2/base.py', 'neutron/tests/functional/agent/l3/framework.py', 'neutron/tests/functional/agent/test_firewall.py', 'neutron/tests/common/conn_testers.py', 'neutron/tests/common/net_helpers.py', 'neutron/tests/functional/agent/test_ovs_lib.py']",10,9d5cea0e2bb85b3b6ea27eb71279c57c419b0102,bug/1930414-stable/wallaby," self.assertEqual(""trunk"", self.br.db_get_val('Port', port_name, 'vlan_mode')) self.assertEqual(4095, self.br.db_get_val('Port', port_name, 'trunks'))",,71,77
openstack%2Fkeystone~master~I5ab7b010b21268977f73738e895bbd21442e9455,openstack/keystone,master,I5ab7b010b21268977f73738e895bbd21442e9455,sql: Move migrations to 'legacy_migrations',MERGED,2022-01-14 19:14:29.000000000,2022-02-08 23:01:13.000000000,2022-02-08 22:56:53.000000000,"[{'_account_id': 14250}, {'_account_id': 16465}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-14 19:14:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/f127ff9e8245d1b0eda36a5640fdd358c7a3e26f', 'message': ""sql: Move migrations to 'legacy_migrations'\n\nWe're going to add new alembic-based migrations shortly. These will live\nin the 'keystone.common.sql.migrations' module. Prepare for this by\nmoving the existing migrations from ''keystone.common.sql' into a common\n'keystone.common.sql.legacy_migrations' module.\n\nChange-Id: I5ab7b010b21268977f73738e895bbd21442e9455\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 2, 'created': '2022-01-19 18:50:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/5832cd7f5c7e227b09c826efe9a78a45cb0120e6', 'message': ""sql: Move migrations to 'legacy_migrations'\n\nWe're going to add new alembic-based migrations shortly. These will live\nin the 'keystone.common.sql.migrations' module. Prepare for this by\nmoving the existing migrations from ''keystone.common.sql' into a common\n'keystone.common.sql.legacy_migrations' module.\n\nChange-Id: I5ab7b010b21268977f73738e895bbd21442e9455\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 3, 'created': '2022-01-19 19:36:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/d4517d0557402b9e0391c5c3fe3157a046bbb4dd', 'message': ""sql: Move migrations to 'legacy_migrations'\n\nWe're going to add new alembic-based migrations shortly. These will live\nin the 'keystone.common.sql.migrations' module. Prepare for this by\nmoving the existing migrations from ''keystone.common.sql' into a common\n'keystone.common.sql.legacy_migrations' module.\n\nChange-Id: I5ab7b010b21268977f73738e895bbd21442e9455\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 4, 'created': '2022-01-21 17:46:19.000000000', 'files': ['keystone/common/sql/legacy_migrations/data_migration_repo/migrate.cfg', 'keystone/common/sql/legacy_migrations/expand_repo/versions/074_placeholder.py', 'keystone/common/sql/legacy_migrations/contract_repo/versions/074_placeholder.py', 'keystone/common/sql/legacy_migrations/data_migration_repo/versions/078_placeholder.py', 'keystone/common/sql/legacy_migrations/expand_repo/__init__.py', 'doc/source/contributor/database-migrations.rst', 'keystone/common/sql/legacy_migrations/data_migration_repo/versions/077_placeholder.py', 'keystone/common/sql/legacy_migrations/contract_repo/versions/073_contract_initial_migration.py', 'keystone/tests/unit/test_sql_banned_operations.py', 'doc/source/contributor/testing-keystone.rst', 'keystone/common/sql/legacy_migrations/contract_repo/migrate.cfg', 'keystone/common/sql/legacy_migrations/data_migration_repo/README.rst', 'keystone/common/sql/legacy_migrations/expand_repo/versions/073_expand_initial_migration.py', 'keystone/common/sql/legacy_migrations/data_migration_repo/manage.py', 'keystone/common/sql/legacy_migrations/expand_repo/README.rst', 'keystone/common/sql/legacy_migrations/data_migration_repo/__init__.py', 'keystone/common/sql/expand_repo/README', 'keystone/common/sql/legacy_migrations/data_migration_repo/versions/__init__.py', 'keystone/common/sql/legacy_migrations/contract_repo/versions/078_placeholder.py', 'keystone/common/sql/contract_repo/README', 'keystone/common/sql/legacy_migrations/data_migration_repo/versions/076_placeholder.py', 'keystone/common/sql/legacy_migrations/data_migration_repo/versions/079_migrate_update_local_id_limit.py', 'keystone/common/sql/legacy_migrations/expand_repo/migrate.cfg', 'keystone/common/sql/upgrades.py', 'tools/generate-schemas', 'keystone/common/sql/legacy_migrations/expand_repo/versions/__init__.py', 'keystone/common/sql/legacy_migrations/contract_repo/__init__.py', 'keystone/common/sql/legacy_migrations/contract_repo/manage.py', 'keystone/common/sql/legacy_migrations/data_migration_repo/versions/075_placeholder.py', 'keystone/common/sql/legacy_migrations/expand_repo/versions/076_placeholder.py', 'keystone/common/sql/legacy_migrations/contract_repo/versions/076_placeholder.py', 'keystone/common/sql/legacy_migrations/contract_repo/versions/077_placeholder.py', 'keystone/common/sql/legacy_migrations/expand_repo/versions/077_placeholder.py', 'keystone/common/sql/legacy_migrations/data_migration_repo/versions/073_migrate_initial_migration.py', 'keystone/common/sql/legacy_migrations/contract_repo/versions/079_contract_update_local_id_limit.py', 'doc/source/contributor/programming-exercises.rst', 'keystone/common/sql/legacy_migrations/contract_repo/README.rst', 'keystone/common/sql/legacy_migrations/__init__.py', 'keystone/common/sql/legacy_migrations/contract_repo/versions/__init__.py', 'keystone/common/sql/legacy_migrations/expand_repo/manage.py', 'keystone/common/sql/legacy_migrations/contract_repo/versions/075_placeholder.py', 'keystone/common/sql/legacy_migrations/expand_repo/versions/075_placeholder.py', 'keystone/common/sql/legacy_migrations/data_migration_repo/versions/074_placeholder.py', 'keystone/common/sql/legacy_migrations/expand_repo/versions/078_placeholder.py', 'keystone/common/sql/data_migration_repo/README', 'keystone/common/sql/legacy_migrations/expand_repo/versions/079_expand_update_local_id_limit.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/aebd037f501ca3aa9e927f304382c231dacb2938', 'message': ""sql: Move migrations to 'legacy_migrations'\n\nWe're going to add new alembic-based migrations shortly. These will live\nin the 'keystone.common.sql.migrations' module. Prepare for this by\nmoving the existing migrations from ''keystone.common.sql' into a common\n'keystone.common.sql.legacy_migrations' module.\n\nChange-Id: I5ab7b010b21268977f73738e895bbd21442e9455\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",4,824789,aebd037f501ca3aa9e927f304382c231dacb2938,24,4,4,15334,,,0,"sql: Move migrations to 'legacy_migrations'

We're going to add new alembic-based migrations shortly. These will live
in the 'keystone.common.sql.migrations' module. Prepare for this by
moving the existing migrations from ''keystone.common.sql' into a common
'keystone.common.sql.legacy_migrations' module.

Change-Id: I5ab7b010b21268977f73738e895bbd21442e9455
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/keystone refs/changes/89/824789/1 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/common/sql/legacy_migrations/data_migration_repo/migrate.cfg', 'keystone/common/sql/legacy_migrations/expand_repo/versions/074_placeholder.py', 'keystone/common/sql/legacy_migrations/contract_repo/versions/074_placeholder.py', 'keystone/common/sql/legacy_migrations/data_migration_repo/versions/078_placeholder.py', 'keystone/common/sql/legacy_migrations/expand_repo/__init__.py', 'doc/source/contributor/database-migrations.rst', 'keystone/common/sql/legacy_migrations/data_migration_repo/versions/077_placeholder.py', 'keystone/common/sql/legacy_migrations/contract_repo/versions/073_contract_initial_migration.py', 'keystone/tests/unit/test_sql_banned_operations.py', 'doc/source/contributor/testing-keystone.rst', 'keystone/tests/unit/test_sql_upgrade.py', 'keystone/common/sql/legacy_migrations/contract_repo/migrate.cfg', 'keystone/common/sql/legacy_migrations/data_migration_repo/README.rst', 'keystone/common/sql/legacy_migrations/expand_repo/versions/073_expand_initial_migration.py', 'keystone/common/sql/legacy_migrations/data_migration_repo/manage.py', 'keystone/common/sql/legacy_migrations/expand_repo/README.rst', 'keystone/common/sql/legacy_migrations/data_migration_repo/__init__.py', 'keystone/common/sql/expand_repo/README', 'keystone/common/sql/legacy_migrations/data_migration_repo/versions/__init__.py', 'keystone/common/sql/legacy_migrations/contract_repo/versions/078_placeholder.py', 'keystone/common/sql/contract_repo/README', 'keystone/common/sql/legacy_migrations/data_migration_repo/versions/076_placeholder.py', 'keystone/common/sql/legacy_migrations/data_migration_repo/versions/079_migrate_update_local_id_limit.py', 'keystone/common/sql/legacy_migrations/expand_repo/migrate.cfg', 'keystone/common/sql/upgrades.py', 'tools/generate-schemas', 'keystone/common/sql/legacy_migrations/expand_repo/versions/__init__.py', 'keystone/common/sql/legacy_migrations/contract_repo/__init__.py', 'keystone/common/sql/legacy_migrations/contract_repo/manage.py', 'keystone/common/sql/legacy_migrations/data_migration_repo/versions/075_placeholder.py', 'keystone/common/sql/legacy_migrations/expand_repo/versions/076_placeholder.py', 'keystone/common/sql/legacy_migrations/contract_repo/versions/076_placeholder.py', 'keystone/common/sql/legacy_migrations/contract_repo/versions/077_placeholder.py', 'keystone/common/sql/legacy_migrations/expand_repo/versions/077_placeholder.py', 'keystone/common/sql/legacy_migrations/data_migration_repo/versions/073_migrate_initial_migration.py', 'keystone/common/sql/legacy_migrations/contract_repo/versions/079_contract_update_local_id_limit.py', 'doc/source/contributor/programming-exercises.rst', 'keystone/common/sql/legacy_migrations/contract_repo/README.rst', 'keystone/common/sql/legacy_migrations/__init__.py', 'keystone/common/sql/legacy_migrations/contract_repo/versions/__init__.py', 'keystone/common/sql/legacy_migrations/expand_repo/manage.py', 'keystone/common/sql/legacy_migrations/contract_repo/versions/075_placeholder.py', 'keystone/common/sql/legacy_migrations/expand_repo/versions/075_placeholder.py', 'keystone/common/sql/legacy_migrations/data_migration_repo/versions/074_placeholder.py', 'keystone/common/sql/legacy_migrations/expand_repo/versions/078_placeholder.py', 'keystone/common/sql/data_migration_repo/README', 'keystone/common/sql/legacy_migrations/expand_repo/versions/079_expand_update_local_id_limit.py']",47,f127ff9e8245d1b0eda36a5640fdd358c7a3e26f,bp/remove-sqlalchemy-migrate,,,85,39
openstack%2Fnova~master~I8058902df167239fa455396d3595a56bcf472b2b,openstack/nova,master,I8058902df167239fa455396d3595a56bcf472b2b,neutron: Rework how we check for extensions,MERGED,2020-02-04 18:22:10.000000000,2022-02-08 23:00:09.000000000,2022-02-08 22:56:47.000000000,"[{'_account_id': 6062}, {'_account_id': 8556}, {'_account_id': 8864}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 10118}, {'_account_id': 11604}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-02-04 18:22:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/afc33fc302a9b46f5ed75c6478f7e79bde18062d', 'message': 'Use extension aliases, not names\n\nUsing these slugs as our reference point seem a little more reliable\nthan using the extension names. They are both fixed so the switchover\nshould be easy.\n\nWe take the opportunity to clean up how we do extension checking.\n\nChange-Id: I8058902df167239fa455396d3595a56bcf472b2b\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 2, 'created': '2020-02-05 15:54:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fdd33152293bb5afc985cd7b7affb4268c2cbd34', 'message': ""Rework how we check for extensions\n\nThere are couple of changes we can make here:\n\n- Always attempt to refresh the cache before checking if an extension is\n  enabled.\n\n- Using extension slugs as our reference point rather than extension\n  names. They seem like a better thing to use as a constant and are\n  similar fixed.\n\n- Be consistent in how we name and call the extension check functions\n\n- Add documentation for what each extension doing/used for\n\nThere's a TODO here to remove some code that relies on an out-of-tree\nextension that I can't see. That can wait until we kill the XenAPI virt\ndriver, if we do end up doing that.\n\nChange-Id: I8058902df167239fa455396d3595a56bcf472b2b\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 3, 'created': '2020-02-06 10:16:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bab22afab0c108c33e57ce09e356d6b21817e0b6', 'message': ""Rework how we check for extensions\n\nThere are couple of changes we can make here:\n\n- Always attempt to refresh the cache before checking if an extension is\n  enabled.\n\n- Using extension slugs as our reference point rather than extension\n  names. They seem like a better thing to use as a constant and are\n  similar fixed.\n\n- Be consistent in how we name and call the extension check functions\n\n- Add documentation for what each extension doing/used for\n\nThere's a TODO here to remove some code that relies on an out-of-tree\nextension that I can't see. That can wait until we kill the XenAPI virt\ndriver, if we do end up doing that.\n\nChange-Id: I8058902df167239fa455396d3595a56bcf472b2b\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 4, 'created': '2020-02-06 13:51:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a03f483d8f537b2c44325c3fdcfc604596ce5e91', 'message': ""Rework how we check for neutron extensions\n\nThere are couple of changes we can make here:\n\n- Always attempt to refresh the cache before checking if an extension is\n  enabled.\n\n- Using extension slugs as our reference point rather than extension\n  names. They seem like a better thing to use as a constant and are\n  similar fixed.\n\n- Be consistent in how we name and call the extension check functions\n\n- Add documentation for what each extension doing/used for\n\nThere's a TODO here to remove some code that relies on an out-of-tree\nextension that I can't see. That can wait until we kill the XenAPI virt\ndriver, if we do end up doing that.\n\nChange-Id: I8058902df167239fa455396d3595a56bcf472b2b\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 5, 'created': '2020-04-24 10:22:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/381410529db6a98c12eb89e7b08b6f137e008ba9', 'message': ""Rework how we check for neutron extensions\n\nThere are couple of changes we can make here:\n\n- Always attempt to refresh the cache before checking if an extension is\n  enabled.\n\n- Using extension slugs as our reference point rather than extension\n  names. They seem like a better thing to use as a constant and are\n  similar fixed.\n\n- Be consistent in how we name and call the extension check functions\n\n- Add documentation for what each extension doing/used for\n\nThere's a TODO here to remove some code that relies on an out-of-tree\nextension that I can't see. That can wait until we kill the XenAPI virt\ndriver, if we do end up doing that.\n\nChange-Id: I8058902df167239fa455396d3595a56bcf472b2b\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 6, 'created': '2020-06-30 13:03:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f9ed824aae9bae33f9e439120e91020f2fc8368b', 'message': ""Rework how we check for neutron extensions\n\nThere are couple of changes we can make here:\n\n- Always attempt to refresh the cache before checking if an extension is\n  enabled.\n\n- Using extension slugs as our reference point rather than extension\n  names. They seem like a better thing to use as a constant and are\n  similar fixed.\n\n- Be consistent in how we name and call the extension check functions\n\n- Add documentation for what each extension doing/used for\n\nThere's a TODO here to remove some code that relies on an out-of-tree\nextension that I can't see. That can wait until we kill the XenAPI virt\ndriver, if we do end up doing that.\n\nChange-Id: I8058902df167239fa455396d3595a56bcf472b2b\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 7, 'created': '2020-09-08 15:31:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d2f99f4cced9ec67497ad5bba67027fb19840cdd', 'message': ""Rework how we check for neutron extensions\n\nThere are couple of changes we can make here:\n\n- Always attempt to refresh the cache before checking if an extension is\n  enabled.\n\n- Using extension slugs as our reference point rather than extension\n  names. They seem like a better thing to use as a constant and are\n  similar fixed.\n\n- Be consistent in how we name and call the extension check functions\n\n- Add documentation for what each extension doing/used for\n\nThere's a TODO here to remove some code that relies on an out-of-tree\nextension that I can't see. That can wait until we kill the XenAPI virt\ndriver, if we do end up doing that.\n\nChange-Id: I8058902df167239fa455396d3595a56bcf472b2b\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 8, 'created': '2020-09-08 15:40:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bbc2154e86c734c7a515e1390f55302ad071c5a1', 'message': ""Rework how we check for neutron extensions\n\nThere are couple of changes we can make here:\n\n- Always attempt to refresh the cache before checking if an extension is\n  enabled.\n\n- Using extension slugs as our reference point rather than extension\n  names. They seem like a better thing to use as a constant and are\n  similar fixed.\n\n- Be consistent in how we name and call the extension check functions\n\n- Add documentation for what each extension doing/used for\n\nThere's a TODO here to remove some code that relies on an out-of-tree\nextension that I can't see. That can wait until we kill the XenAPI virt\ndriver, if we do end up doing that.\n\nChange-Id: I8058902df167239fa455396d3595a56bcf472b2b\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 9, 'created': '2020-09-25 16:23:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e86bd04184a469a09519e7fc25cd51fa78584097', 'message': ""Rework how we check for neutron extensions\n\nThere are couple of changes we can make here:\n\n- Always attempt to refresh the cache before checking if an extension is\n  enabled.\n- Using extension slugs as our reference point rather than extension\n  names. They seem like a better thing to use as a constant and are\n  similar fixed.\n- Be consistent in how we name and call the extension check functions\n- Add documentation for what each extension doing/used for\n\nThere's a TODO here to remove some code that relies on an out-of-tree\nextension that I can't see. That can wait until we kill the XenAPI virt\ndriver, if we do end up doing that.\n\nChange-Id: I8058902df167239fa455396d3595a56bcf472b2b\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 10, 'created': '2021-02-25 12:51:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fe6688b5e6126f53032a3a2ae2194f4dede09a78', 'message': ""neutron: Rework how we check for extensions\n\nThere are couple of changes we can make here:\n\n- Always attempt to refresh the cache before checking if an extension is\n  enabled.\n- Using extension slugs as our reference point rather than extension\n  names. They seem like a better thing to use as a constant and are\n  similarly fixed.\n- Be consistent in how we name and call the extension check functions\n- Add documentation for what each extension doing/used for\n\nThere's a TODO here to remove some code that relies on an out-of-tree\nextension that I can't see. That's done separately since this is already\nbig enough.\n\nChange-Id: I8058902df167239fa455396d3595a56bcf472b2b\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 11, 'created': '2021-07-20 18:22:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0b378decb0fa598acb754d726a4516e621996cfc', 'message': ""neutron: Rework how we check for extensions\n\nThere are couple of changes we can make here:\n\n- Always attempt to refresh the cache before checking if an extension is\n  enabled.\n- Using extension slugs as our reference point rather than extension\n  names. They seem like a better thing to use as a constant and are\n  similarly fixed.\n- Be consistent in how we name and call the extension check functions\n- Add documentation for what each extension doing/used for\n\nThere's a TODO here to remove some code that relies on an out-of-tree\nextension that I can't see. That's done separately since this is already\nbig enough.\n\nChange-Id: I8058902df167239fa455396d3595a56bcf472b2b\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 12, 'created': '2021-09-02 11:11:05.000000000', 'files': ['nova/tests/unit/conductor/tasks/test_cross_cell_migrate.py', 'nova/tests/unit/network/test_neutron.py', 'nova/network/constants.py', 'nova/tests/functional/regressions/test_bug_1888395.py', 'nova/tests/unit/compute/test_compute.py', 'nova/conductor/tasks/live_migrate.py', 'nova/tests/functional/test_servers_resource_request.py', 'nova/tests/unit/conductor/tasks/test_live_migrate.py', 'nova/tests/unit/virt/libvirt/test_driver.py', 'nova/tests/unit/compute/test_compute_mgr.py', 'nova/virt/libvirt/driver.py', 'nova/network/neutron.py', 'nova/compute/manager.py', 'nova/conductor/tasks/cross_cell_migrate.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/0f7f95b917b5a48779a327c45bd4a8558efcc7a3', 'message': ""neutron: Rework how we check for extensions\n\nThere are couple of changes we can make here:\n\n- Always attempt to refresh the cache before checking if an extension is\n  enabled.\n- Using extension slugs as our reference point rather than extension\n  names. They seem like a better thing to use as a constant and are\n  similarly fixed.\n- Be consistent in how we name and call the extension check functions\n- Add documentation for what each extension doing/used for\n\nThere's a TODO here to remove some code that relies on an out-of-tree\nextension that I can't see. That's done separately since this is already\nbig enough.\n\nChange-Id: I8058902df167239fa455396d3595a56bcf472b2b\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}]",18,705792,0f7f95b917b5a48779a327c45bd4a8558efcc7a3,134,16,12,15334,,,0,"neutron: Rework how we check for extensions

There are couple of changes we can make here:

- Always attempt to refresh the cache before checking if an extension is
  enabled.
- Using extension slugs as our reference point rather than extension
  names. They seem like a better thing to use as a constant and are
  similarly fixed.
- Be consistent in how we name and call the extension check functions
- Add documentation for what each extension doing/used for

There's a TODO here to remove some code that relies on an out-of-tree
extension that I can't see. That's done separately since this is already
big enough.

Change-Id: I8058902df167239fa455396d3595a56bcf472b2b
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/92/705792/11 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/conductor/tasks/test_cross_cell_migrate.py', 'nova/tests/unit/network/test_neutron.py', 'nova/network/constants.py', 'nova/network/neutron.py', 'nova/conductor/tasks/live_migrate.py', 'nova/conductor/tasks/cross_cell_migrate.py', 'nova/tests/unit/conductor/tasks/test_live_migrate.py']",7,afc33fc302a9b46f5ed75c6478f7e79bde18062d,bug/1888395," 'has_port_binding_extension', 'has_port_binding_extension', 'has_port_binding_extension', 'has_port_binding_extension')"," 'supports_port_binding_extension', 'supports_port_binding_extension', 'supports_port_binding_extension', 'supports_port_binding_extension')",118,88
openstack%2Fcinder~master~Ia184482946a0afda783004c7902c682141ed9278,openstack/cinder,master,Ia184482946a0afda783004c7902c682141ed9278,"docs: Update ""Getting your patch merged""",MERGED,2022-02-03 23:57:23.000000000,2022-02-08 22:51:35.000000000,2022-02-08 22:41:27.000000000,"[{'_account_id': 7198}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-03 23:57:23.000000000', 'files': ['doc/source/contributor/contributing.rst'], 'web_link': 'https://opendev.org/openstack/cinder/commit/f1062f4be0948da17c130c809fd9b1488ce7743a', 'message': 'docs: Update ""Getting your patch merged""\n\nMove the ""how to review"" note to the ""Getting your patch merged""\nsection of the new contributor doc, add some info about project\npriorities and milestones/freezes, and the importance of having\na +1 from Zuul.\n\nChange-Id: Ia184482946a0afda783004c7902c682141ed9278\n'}]",1,827778,f1062f4be0948da17c130c809fd9b1488ce7743a,28,2,1,5314,,,0,"docs: Update ""Getting your patch merged""

Move the ""how to review"" note to the ""Getting your patch merged""
section of the new contributor doc, add some info about project
priorities and milestones/freezes, and the importance of having
a +1 from Zuul.

Change-Id: Ia184482946a0afda783004c7902c682141ed9278
",git fetch https://review.opendev.org/openstack/cinder refs/changes/78/827778/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributor/contributing.rst'],1,f1062f4be0948da17c130c809fd9b1488ce7743a,update-contrib-doc,"Before your patch can be merged, it must be *reviewed* and *approved*. depending on the complexity of the proposal.) Only members of the cinder-core team can vote +2 (or -2) on a patch, or approve it. .. note:: Although your contribution will require reviews by members of cinder-core, these aren't the only people whose reviews matter. Anyone with a gerrit account can post reviews, so you can ask other developers you know to review your code ... and you can review theirs. (A good way to learn your way around the codebase is to review other people's patches.) If you're thinking, ""I'm new at this, how can I possibly provide a helpful review?"", take a look at `How to Review Changes the OpenStack Way <https://docs.openstack.org/project-team-guide/review-the-openstack-way.html>`_. There are also some Cinder project specific reviewing guidelines in the :ref:`reviewing-cinder` section of the Cinder Contributor Guide. Keep in mind that the best way to make sure your patches are reviewed in a timely manner is to review other people's patches. We're engaged in a cooperative enterprise here. If your patch has a -1 from Zuul, you should fix it right away, because people are unlikely to review a patch that is failing the CI system. * If it's a pep8 issue, the job leaves sufficient information for you to fix the problems yourself. * If you are failing unit or functional tests, you should look at the failures carefully. These tests guard against regressions, so if your patch causing failures, you need to figure out exactly what is going on. * The unit, functional, and pep8 tests can all be run locally before you submit your patch for review. By doing so, you can help conserve gate resources. How long it may take for your review to get attention will depend on the current project priorities. For example, the feature freeze is at the third milestone of each development cycle, so feature patches have the highest priority just before M-3. Likewise, once the new driver freeze is in effect, new driver patches are unlikely to receive timely reviews until after the stable branch has been cut (this happens three weeks before release). Similarly, os-brick patches have review priority before the nonclient library release deadline, and cinderclient patches have priority before the client library release each cycle. These dates are clearly noted on the release schedule for the current release, which you can find from https://releases.openstack.org/https://www.stackalytics.io/report/activity?module=cinder-group",".. note:: Although your contribution will require reviews by members of cinder-core, these aren't the only people whose reviews matter. Anyone with a gerrit account can post reviews, so you can ask other developers you know to review your code ... and you can review theirs. (A good way to learn your way around the codebase is to review other people's patches.) If you're thinking, ""I'm new at this, how can I possibly provide a helpful review?"", take a look at `How to Review Changes the OpenStack Way <https://docs.openstack.org/project-team-guide/review-the-openstack-way.html>`_. There are also some Cinder project specific reviewing guidelines in the :ref:`reviewing-cinder` section of the Cinder Contributor Guide. depending on the complexity of the proposal.)Keep in mind that the best way to make sure your patches are reviewed in a timely manner is to review other people's patches. We're engaged in a cooperative enterprise here.https://www.stackalytics.com/report/activity?module=cinder-group",49,21
openstack%2Fdevstack~master~I72db7ef533e78a10734d105e6a0debef288e41a1,openstack/devstack,master,I72db7ef533e78a10734d105e6a0debef288e41a1,"Revert ""Disable enforcing scopes in Neutron temporary""",MERGED,2022-01-28 08:53:08.000000000,2022-02-08 22:51:09.000000000,2022-02-08 22:41:18.000000000,"[{'_account_id': 8556}, {'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 31245}]","[{'number': 1, 'created': '2022-01-28 08:53:08.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/devstack/commit/081c9b716fc742ffc12263e46ae499d7a1f65a7e', 'message': 'Revert ""Disable enforcing scopes in Neutron temporary""\n\nThis reverts commit be7b5bf671b4cdc082fb9b7bb73ec55cab0054dd.\n\nAs related bug is fixed, lets enabled scope enforcement in Neutron\nagain.\n\nRelated-bug: #1959196\nChange-Id: I72db7ef533e78a10734d105e6a0debef288e41a1\n'}]",1,826852,081c9b716fc742ffc12263e46ae499d7a1f65a7e,13,4,1,11975,,,0,"Revert ""Disable enforcing scopes in Neutron temporary""

This reverts commit be7b5bf671b4cdc082fb9b7bb73ec55cab0054dd.

As related bug is fixed, lets enabled scope enforcement in Neutron
again.

Related-bug: #1959196
Change-Id: I72db7ef533e78a10734d105e6a0debef288e41a1
",git fetch https://review.opendev.org/openstack/devstack refs/changes/52/826852/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,081c9b716fc742ffc12263e46ae499d7a1f65a7e,bug/1959196, NEUTRON_ENFORCE_SCOPE: true, # TODO(slaweq): Enable enforce scopes in Neutron when bug # https://bugs.launchpad.net/neutron/+bug/1959196 will be fixed # NEUTRON_ENFORCE_SCOPE: true,1,3
openstack%2Fneutron~stable%2Fxena~I0391dd24224f8656a09ddb002e7dae8783ba37a4,openstack/neutron,stable/xena,I0391dd24224f8656a09ddb002e7dae8783ba37a4,"Make sure ""dead vlan"" ports cannot transmit packets",MERGED,2022-02-08 07:22:56.000000000,2022-02-08 22:51:01.000000000,2022-02-08 22:41:22.000000000,"[{'_account_id': 8313}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-08 07:22:56.000000000', 'files': ['neutron/tests/functional/agent/test_dhcp_agent.py', 'neutron/tests/functional/services/trunk/drivers/openvswitch/agent/test_trunk_manager.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py', 'neutron/agent/common/ovs_lib.py', 'neutron/tests/functional/agent/l2/base.py', 'neutron/tests/functional/agent/l3/framework.py', 'neutron/tests/functional/agent/test_firewall.py', 'neutron/tests/common/conn_testers.py', 'neutron/tests/common/net_helpers.py', 'neutron/tests/functional/agent/test_ovs_lib.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/78c63d4ec6a94ba7bf9efb576850f7b38f1f8722', 'message': 'Make sure ""dead vlan"" ports cannot transmit packets\n\nhttps://review.opendev.org/c/openstack/neutron/+/820897 added\na dead vlan flow that pushes the dead vlan tag onto frames\nbelonging to dead ports before these ports are reassigned to\ntheir proper vlans. However add_flow and delete_flows race and\ndelete_flows may run before add_flow, in this case deleting 0 flows\nbut not giving us a chance to detect this: neither does it throw\nan error nor does it return the number of deleted flows.\nThis leads to port staying inaccessible forever and hence\nbreaks corresponding DHCP or router.\n\nCurrent patch suggests another approach to make sure no packets are\nleaked from newly plugged ports: setting their ""vlan_mode"" attribute\nto ""trunk"" and ""trunks""=[4095] (along with assigning dead VLAN tag).\nWith this OVS normal pipeline will allow only packets tagged with 4095\nfrom such ports [1], which normally not happens, but even if it does -\ndefault rule in br-int will drop them anyway.\nThus untagged packets from such ports will also be dropped until\novs agent sets proper VLAN tag and clears vlan_mode to default\n(""access"").\n\nThis approach avoids the race between dhcp/l3 and ovs agents because\ndhcp/l3 agents no longer modify flow table.\n\nThis partially reverts commit 7aae31c9f9ed938760ca0be3c461826b598c7004\n\n[1] https://docs.openvswitch.org/en/latest/ref/ovs-actions.7/?highlight=ovs-actions#the-ovs-normal-pipeline\n\nCloses-Bug: #1930414\nCloses-Bug: #1959564\nChange-Id: I0391dd24224f8656a09ddb002e7dae8783ba37a4\n(cherry picked from commit 0ddca284542aed89df4a22607a2da03f193f083c)\n'}]",1,828230,78c63d4ec6a94ba7bf9efb576850f7b38f1f8722,13,3,1,5948,,,0,"Make sure ""dead vlan"" ports cannot transmit packets

https://review.opendev.org/c/openstack/neutron/+/820897 added
a dead vlan flow that pushes the dead vlan tag onto frames
belonging to dead ports before these ports are reassigned to
their proper vlans. However add_flow and delete_flows race and
delete_flows may run before add_flow, in this case deleting 0 flows
but not giving us a chance to detect this: neither does it throw
an error nor does it return the number of deleted flows.
This leads to port staying inaccessible forever and hence
breaks corresponding DHCP or router.

Current patch suggests another approach to make sure no packets are
leaked from newly plugged ports: setting their ""vlan_mode"" attribute
to ""trunk"" and ""trunks""=[4095] (along with assigning dead VLAN tag).
With this OVS normal pipeline will allow only packets tagged with 4095
from such ports [1], which normally not happens, but even if it does -
default rule in br-int will drop them anyway.
Thus untagged packets from such ports will also be dropped until
ovs agent sets proper VLAN tag and clears vlan_mode to default
(""access"").

This approach avoids the race between dhcp/l3 and ovs agents because
dhcp/l3 agents no longer modify flow table.

This partially reverts commit 7aae31c9f9ed938760ca0be3c461826b598c7004

[1] https://docs.openvswitch.org/en/latest/ref/ovs-actions.7/?highlight=ovs-actions#the-ovs-normal-pipeline

Closes-Bug: #1930414
Closes-Bug: #1959564
Change-Id: I0391dd24224f8656a09ddb002e7dae8783ba37a4
(cherry picked from commit 0ddca284542aed89df4a22607a2da03f193f083c)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/30/828230/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/functional/agent/test_dhcp_agent.py', 'neutron/tests/functional/services/trunk/drivers/openvswitch/agent/test_trunk_manager.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py', 'neutron/agent/common/ovs_lib.py', 'neutron/tests/functional/agent/l2/base.py', 'neutron/tests/functional/agent/l3/framework.py', 'neutron/tests/functional/agent/test_firewall.py', 'neutron/tests/common/conn_testers.py', 'neutron/tests/common/net_helpers.py', 'neutron/tests/functional/agent/test_ovs_lib.py']",10,78c63d4ec6a94ba7bf9efb576850f7b38f1f8722,bug/1930414-stable/xena," self.assertEqual(""trunk"", self.br.db_get_val('Port', port_name, 'vlan_mode')) self.assertEqual(4095, self.br.db_get_val('Port', port_name, 'trunks'))",,71,77
openstack%2Fdevstack~master~I7c4bf0945f9ac5bd563fe0a698c09b8571c97c5e,openstack/devstack,master,I7c4bf0945f9ac5bd563fe0a698c09b8571c97c5e,Bump fedora-latest to F35,MERGED,2022-02-03 00:19:29.000000000,2022-02-08 22:45:52.000000000,2022-02-08 22:34:32.000000000,"[{'_account_id': 8556}, {'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-02-03 00:19:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/9d220ba13f7c870a48705581ca4bcc92c59e1747', 'message': 'Bump fedora-latest to F35\n\nChange-Id: I7c4bf0945f9ac5bd563fe0a698c09b8571c97c5e\n'}, {'number': 2, 'created': '2022-02-03 00:29:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/b244d0b60aff212340bf16caee9623f22c3005dd', 'message': 'Bump fedora-latest to F35\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/827578\nChange-Id: I7c4bf0945f9ac5bd563fe0a698c09b8571c97c5e\n'}, {'number': 3, 'created': '2022-02-03 02:40:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/6130307bc39c23ba0140f3e8a257898b222bf152', 'message': 'Bump fedora-latest to F35\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/827578\nChange-Id: I7c4bf0945f9ac5bd563fe0a698c09b8571c97c5e\n'}, {'number': 4, 'created': '2022-02-03 03:59:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/34b56d83c3d15d1f2b27eeb4ee0f51cb22b5eb86', 'message': 'Bump fedora-latest to F35\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/827578\nChange-Id: I7c4bf0945f9ac5bd563fe0a698c09b8571c97c5e\n'}, {'number': 5, 'created': '2022-02-07 05:31:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/c0a13412f7d8b722e1b8580c5464ae9dff985b4d', 'message': 'Bump fedora-latest to F35\n\nGenerally this is straight forward, but Horizon has a dependency issue\nwith pyScss (described in [1]) so it is disabled, for now.\n\n[1] https://bugs.launchpad.net/horizon/+bug/1960204\n\nCo-Authored-By: Dr. Jens Harbott <harbott@osism.tech>\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/827578\nChange-Id: I7c4bf0945f9ac5bd563fe0a698c09b8571c97c5e\n'}, {'number': 6, 'created': '2022-02-07 21:08:31.000000000', 'files': ['.zuul.yaml', 'files/rpms/swift', 'lib/apache', 'stack.sh'], 'web_link': 'https://opendev.org/openstack/devstack/commit/343e35162798af4c0399f2f7c0a733c568782686', 'message': 'Bump fedora-latest to F35\n\nGenerally this is straight forward, but Horizon has a dependency issue\nwith pyScss (described in [1]) so it is disabled, for now.\n\n[1] https://bugs.launchpad.net/horizon/+bug/1960204\n\nCo-Authored-By: Dr. Jens Harbott <harbott@osism.tech>\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/827578\nChange-Id: I7c4bf0945f9ac5bd563fe0a698c09b8571c97c5e\n'}]",13,827576,343e35162798af4c0399f2f7c0a733c568782686,27,5,6,7118,,,0,"Bump fedora-latest to F35

Generally this is straight forward, but Horizon has a dependency issue
with pyScss (described in [1]) so it is disabled, for now.

[1] https://bugs.launchpad.net/horizon/+bug/1960204

Co-Authored-By: Dr. Jens Harbott <harbott@osism.tech>
Depends-On: https://review.opendev.org/c/openstack/devstack/+/827578
Change-Id: I7c4bf0945f9ac5bd563fe0a698c09b8571c97c5e
",git fetch https://review.opendev.org/openstack/devstack refs/changes/76/827576/5 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'files/rpms/swift']",2,9d220ba13f7c870a48705581ca4bcc92c59e1747,f35,"xinetd # not:f35,rhel9","xinetd # not:f34,rhel9",2,2
openstack%2Fcharm-rabbitmq-server~master~I9599f69cc11ea8d1a4e9d618aecdab4afe488d96,openstack/charm-rabbitmq-server,master,I9599f69cc11ea8d1a4e9d618aecdab4afe488d96,Check before applying plugin and perms changes,MERGED,2021-11-23 11:00:55.000000000,2022-02-08 21:53:14.000000000,2022-02-08 21:53:14.000000000,"[{'_account_id': 2424}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-23 11:00:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-rabbitmq-server/commit/5144943ce069868ae8696ae0daebfcef579872c1', 'message': 'Check before applying plugin and perms changes\n\nCheck before applying plugin and permission changes.\n\nCloses-Bug: #1909031\nChange-Id: I9599f69cc11ea8d1a4e9d618aecdab4afe488d96\n'}, {'number': 2, 'created': '2021-11-23 11:06:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-rabbitmq-server/commit/2d1986025cce2dc2bdca7633e9e0b3db4f0a063b', 'message': 'Check before applying plugin and perms changes\n\nCheck before applying plugin and permission changes.\n\nCloses-Bug: #1909031\nChange-Id: I9599f69cc11ea8d1a4e9d618aecdab4afe488d96\n'}, {'number': 3, 'created': '2021-11-23 13:26:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-rabbitmq-server/commit/47b7f3e143cd63522697d8482f87212a58e91fbf', 'message': 'Check before applying plugin and perms changes\n\nCheck before applying plugin and permission changes.\n\nCloses-Bug: #1909031\nChange-Id: I9599f69cc11ea8d1a4e9d618aecdab4afe488d96\n'}, {'number': 4, 'created': '2021-11-29 11:08:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-rabbitmq-server/commit/e76976017e88f84762f36cb5725d520a67d3f2a0', 'message': 'Check before applying plugin and perms changes\n\nCheck before applying plugin and permission changes.\n\nCloses-Bug: #1909031\nChange-Id: I9599f69cc11ea8d1a4e9d618aecdab4afe488d96\n'}, {'number': 5, 'created': '2022-01-07 14:00:32.000000000', 'files': ['unit_tests/test_rabbit_utils.py', 'hooks/rabbit_utils.py'], 'web_link': 'https://opendev.org/openstack/charm-rabbitmq-server/commit/ccd11fdf9e801b5e3169c3482334a42101198042', 'message': 'Check before applying plugin and perms changes\n\nCheck that setting update is needed before applying a config\nupdate to the cluster. This is mainly applicable to\nrabbitmq-server > 3.8.2 which supports json output. If a\nparser is not available to extract the existing settings\nthen the old behaviour of blindly applying the change\nis used.\n\nCloses-Bug: #1909031\nChange-Id: I9599f69cc11ea8d1a4e9d618aecdab4afe488d96\n'}]",5,818879,ccd11fdf9e801b5e3169c3482334a42101198042,24,3,5,12549,,,0,"Check before applying plugin and perms changes

Check that setting update is needed before applying a config
update to the cluster. This is mainly applicable to
rabbitmq-server > 3.8.2 which supports json output. If a
parser is not available to extract the existing settings
then the old behaviour of blindly applying the change
is used.

Closes-Bug: #1909031
Change-Id: I9599f69cc11ea8d1a4e9d618aecdab4afe488d96
",git fetch https://review.opendev.org/openstack/charm-rabbitmq-server refs/changes/79/818879/4 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_rabbit_utils.py', 'hooks/rabbit_utils.py']",2,5144943ce069868ae8696ae0daebfcef579872c1,bug/1909031,"def list_user_tags(user): """"""Get list of tags for user. :param user: Name of user to get tags for :type user: str :returns: List of tags associated with user. :rtype: [str] :raises: NotImplementedError """""" all_tags = query_rabbit(['list_users']) users = [ tag_dict['tags'] for tag_dict in all_tags if tag_dict['user'] == user] # The datastructure returned by rabbitctl is a list of dicts in the # form [{'user': 'testuser1', 'tags': []}, ...] so it is possible # for there to be multiple dicts which apply to the same user. Handle # this unlikely event by merging the lists. result = sum(users, []) result = sorted(list(set(result))) return result def list_user_permissions(user): """"""Get list of user permissions. :param user: Name of user to get permissions for :type user: str :returns: List of dictionaries e.g. [{'vhost': 'vhost-name', 'configure': '.*', 'write': '.*', 'read': '.*'},...] :rtype: List[Dict[str,str]] :raises: NotImplementedError """""" return query_rabbit(['list_user_permissions', user]) def list_user_vhost_permissions(user, vhost): """"""Get list of user permissions for a vhost. :param user: Name of user to get permissions for :type user: str :param vhost: Name of vhost to get permissions for :type vhost: str :returns: List of dictionaries e.g. [{'configure': '.*', 'write': '.*', 'read': '.*'},...] :rtype: List[Dict[str,str]] :raises: NotImplementedError """""" perms = list_user_permissions(user) vhost_perms = [ { 'configure': tag_dict['configure'], 'write': tag_dict['write'], 'read': tag_dict['read']} for tag_dict in perms if tag_dict['vhost'] == vhost] return vhost_perms def list_plugins(): """"""List plugins. Return a list of dictionaries relating to each plugin. :returns: List of dictionaries e.g. [ { 'enabled': str, 'name': str, 'running': bool, 'running_version': int, 'version': [int, int, ...]}, ... ] :rtype: List[Dict[str, Union[str, bool, int, List[int]]]] """""" def _json_processor(output): return output['plugins'] return query_rabbit( ['list'], json_processor=_json_processor, binary=get_plugin_manager()) def list_policies(vhost): """"""List policies for a vhost. Return a list of dictionaries relating to each policy. [ { 'apply-to': str, 'definition': str, 'name': str, 'pattern': str, 'priority': int, 'vhost': str} ...] :param vhost: Name of vhost to get policies for :type vhost: str :returns: List of dictionaries e.g. :rtype: List[Dict[str, Union[str, int]]] """""" return query_rabbit(['list_policies', '-p', vhost]) def get_vhost_policy(vhost, policy_name): """"""Get a policy with a given name on a given vhost. Return policy: { 'apply-to': str, 'definition': str, 'name': str, 'pattern': str, 'priority': int, 'vhost': str} :param vhost: Name of vhost to get policies for :type vhost: str :param policy_name: Name of policy :type policy_name: str :returns: Policy dict. :rtype: Union[Dict[str, Union[str, int]], None] """""" policies = [ p for p in list_policies(vhost) if p['name'] == policy_name] if len(policies) > 0: return policies[0] else: return None def list_enabled_plugins(): """"""Get list of enabled plugins. :returns: List of enabled plugins :rtype: [str] :raises: NotImplementedError """""" enabled_plugins = [ pdict['name'] for pdict in list_plugins() if pdict['enabled'] in ['enabled', 'implicit']] log(""Enabled plugins: {}"".format(enabled_plugins)) return sorted(list(set(enabled_plugins))) def apply_tags(user, tags): """"""Apply tags to user if needed. Apply tags to user. Any existing tags will be removed. :param user: Name of user to apply tags to. :type user: str :param tags: Tags to apply to user. :type tags: List[str] :raises: NotImplementedError """""" log('Adding tags [{}] to user {}'.format( ', '.join(tags), user )) try: existing_user_tags = list_user_tags(user) if existing_user_tags == sorted(list(set(tags))): log(""User {} already has tags {}"".format(user, tags)) else: log(""Existing user tags for {} are {} which do not match {}. "" ""Updating tags."".format(user, existing_user_tags, tags)) rabbitmqctl('set_user_tags', user, ' '.join(tags)) except NotImplementedError: # Cannot cheeck existing tags so apply them to be on thee # safe side. log(""Cannot retrieve existing tags for {}"".format(user)) rabbitmqctl('set_user_tags', user, ' '.join(tags)) apply_tags(user, tags) try: vhost_perms = list_user_vhost_permissions(user, vhost) if len(vhost_perms) > 1: # This will almost certainly never happen but handle it just in # case. log('Multiple permissions found for the same user and vhost. ' 'Resetting permission.') apply_perms = True elif len(vhost_perms) == 1: perms = vhost_perms[0] apply_perms = False for attr in ['configure', 'write', 'read']: if perms[attr] != '.*': log( 'Permissions for user {} on vhost {} to {} are {} ' 'not {}'.format(user, vhost, attr, perms[attr], '.*')) apply_perms = True else: apply_perms = True except NotImplementedError: apply_perms = True if apply_perms: rabbitmqctl('set_permissions', '-p', vhost, user, '.*', '.*', '.*') else: log('No permissions update needed for user {} on vhost {}'.format( user, vhost)) def compare_policy(vhost, policy_name, pattern, definition, priority=None, apply_to=None): """"""Check a policy matches the supplied attributes. :param vhost: Name of vhost to find policy in :type vhost: str :param policy_name: Name of policy :type policy_name: str :param pattern: The regular expression, which when matches on a given resources causes the policy to apply. :type pattern: str :param definition: The definition of the policy, as a JSON term. :type definition: str :param priority: The priority of the policy as an integer. :type priority: int :param apply_to: Which types of object this policy should apply to. Possible values are: queues exchanges all :type apply_to: str :returns: Whether they match :rtype: bool """""" policy = get_vhost_policy(vhost, policy_name) # Convert unset options to defaults # https://www.rabbitmq.com/rabbitmqctl.8.html#set_policy if priority is None: priority = 0 if apply_to is None: apply_to = 'all' if not policy: log(""Old policy not found."") return False if policy.get('pattern') != pattern: log(""Policy pattern does not match, {} != {}"".format( policy.get('pattern'), pattern)) return False if policy.get('priority') != int(priority): log(""Policy priority does not match, {} != {}"".format( policy.get('priority'), priority)) return False if policy.get('apply-to') != apply_to: log(""Policy apply_to does not match, {} != {}"".format( policy.get('apply-to'), apply_to)) return False existing_definition = json.loads(policy['definition']) new_definition = json.loads(definition) if existing_definition != new_definition: log(""Policy definition does not match, {} != {}"".format( policy.get('existing_definition'), new_definition)) return False log(""Policies match"") return True def set_policy(vhost, policy_name, pattern, definition, priority=None, apply_to=None): """"""Apply a policy :param vhost: Name of vhost to apply policy to :type vhost: str :param policy_name: Name of policy :type policy_name: str :param pattern: The regular expression, which when matches on a given resources causes the policy to apply. :type pattern: str :param definition: The definition of the policy, as a JSON term. :type definition: str :param priority: The priority of the policy as an integer. :type priority: int :param apply_to: Which types of object this policy should apply to. Possible values are: queues exchanges all :type apply_to: str """""" try: if compare_policy(vhost, policy_name, pattern, definition, priority, apply_to): log(""{} on vhost {} matched proposed policy, no update "" ""needed."".format(policy_name, vhost)) policy_update_needed = False else: log(""{} on vhost {} did not match proposed policy, update "" ""needed."".format(policy_name, vhost)) policy_update_needed = True except NotImplementedError: log(""Could not query exiting policies. Assuming update of {} on vhost "" ""{} is needed."".format(policy_name, vhost)) policy_update_needed = True if policy_update_needed: log(""{} on vhost {} required update."".format(policy_name, vhost)) log(""setting policy"", level='DEBUG') cmd = ['set_policy', '-p', vhost] if priority: cmd.extend(['--priority', priority]) if apply_to: cmd.extend(['--apply-to', apply_to]) cmd.extend([policy_name, pattern, definition]) rabbitmqctl(*cmd) def clear_policy(vhost, policy_name): """"""Remove a policy :param vhost: Name of vhost to remove policy from :type vhost: str :param policy_name: Name of policy :type policy_name: str """""" policy = get_vhost_policy(vhost, policy_name) if policy: rabbitmqctl('clear_policy', '-p', vhost, policy_name) else: log(""{} on vhost {} not found, do not need to clear it."".format( policy_name, vhost)) clear_policy(vhost, name) status_set('active', 'Checking queue mirroring is enabled') else: status_set('active', 'Checking queue mirroring is disabled') set_policy( vhost, 'TTL', '^(versioned_)?notifications.*', '{{""message-ttl"":{ttl}}}'.format(ttl=ttl), priority='1', apply_to='queues') set_policy( vhost, '{ttlname}'.format(ttlname=ttlname), '""{ttlreg}""'.format(ttlreg=ttlreg), '{{""expires"":{ttl}}}'.format(ttl=ttl), priority='1', apply_to='queues') try: enabled_plugins = list_enabled_plugins() if plugin in enabled_plugins: log(""Plugin {} already in list of enabled plugins {}. Do not "" ""need to enable it."".format(plugin, enabled_plugins)) else: log(""Enabling plugin {}"".format(plugin)) _manage_plugin(plugin, 'enable') except (NotImplementedError, subprocess.CalledProcessError): log(""Cannot get list of plugins, running enable just in "" ""case."") _manage_plugin(plugin, 'enable') try: enabled_plugins = list_enabled_plugins() if plugin in enabled_plugins: log(""Disabling plugin {}"".format(plugin)) _manage_plugin(plugin, 'disable') else: log(""Plugin {} not in list of enabled plugins {}. Do not need to "" ""disable it."".format(plugin, enabled_plugins)) except (NotImplementedError, subprocess.CalledProcessError): log(""Cannot get list of plugins, running disable just in "" ""case."") _manage_plugin(plugin, 'disable')"," log('Adding tags [{}] to user {}'.format( ', '.join(tags), user )) rabbitmqctl('set_user_tags', user, ' '.join(tags)) log(""Granting permissions"", level='DEBUG') rabbitmqctl('set_permissions', '-p', vhost, user, '.*', '.*', '.*') def set_policy(vhost, policy_name, match, value): log(""setting policy"", level='DEBUG') rabbitmqctl('set_policy', '-p', vhost, policy_name, match, value) rabbitmqctl('clear_policy', '-p', vhost, name) status_set('active', 'Enabling queue mirroring') else: status_set('active', 'Disabling queue mirroring') rabbitmqctl('set_policy', 'TTL', '^(versioned_)?notifications.*', '{{""message-ttl"":{ttl}}}'.format(ttl=ttl), '--priority', '1', '--apply-to', 'queues', '-p', vhost) rabbitmqctl('set_policy', '{ttlname}'.format(ttlname=ttlname), '""{ttlreg}""'.format(ttlreg=ttlreg), '{{""expires"":{ttl}}}'.format(ttl=ttl), '--priority', '1', '--apply-to', 'queues', '-p', vhost) _manage_plugin(plugin, 'enable') _manage_plugin(plugin, 'disable')",693,40
openstack%2Fkeystonemiddleware~master~Ib64b3684d3fdaa3b9edb28a9c5d0f8487dffd912,openstack/keystonemiddleware,master,Ib64b3684d3fdaa3b9edb28a9c5d0f8487dffd912,Update master for stable/xena,MERGED,2021-09-10 15:15:42.000000000,2022-02-08 21:36:03.000000000,2022-02-08 21:31:57.000000000,"[{'_account_id': 16465}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-10 15:15:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/cc56cc93fe3a5ae65449f71488e88418bb31842a', 'message': 'Update master for stable/xena\n\nAdd file to the reno documentation build to show release notes for\nstable/xena.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/xena.\n\nSem-Ver: feature\nChange-Id: Ib64b3684d3fdaa3b9edb28a9c5d0f8487dffd912\n'}, {'number': 2, 'created': '2022-02-08 17:22:03.000000000', 'files': ['releasenotes/source/xena.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/8a05709d69addef5d55262cd6bb179ec741b6f0c', 'message': 'Update master for stable/xena\n\nAdd file to the reno documentation build to show release notes for\nstable/xena.\n\nChange-Id: Ib64b3684d3fdaa3b9edb28a9c5d0f8487dffd912\n'}]",0,808434,8a05709d69addef5d55262cd6bb179ec741b6f0c,10,3,2,22816,,,0,"Update master for stable/xena

Add file to the reno documentation build to show release notes for
stable/xena.

Change-Id: Ib64b3684d3fdaa3b9edb28a9c5d0f8487dffd912
",git fetch https://review.opendev.org/openstack/keystonemiddleware refs/changes/34/808434/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/xena.rst', 'releasenotes/source/index.rst']",2,cc56cc93fe3a5ae65449f71488e88418bb31842a,reno-xena, xena,,7,0
openstack%2Fdiskimage-builder~master~Ib383f60bc23b434b400f85c376840a000cafc697,openstack/diskimage-builder,master,Ib383f60bc23b434b400f85c376840a000cafc697,Add new container element - Rocky Linux,MERGED,2022-01-22 22:55:22.000000000,2022-02-08 21:33:09.000000000,2022-02-08 21:24:12.000000000,"[{'_account_id': 4571}, {'_account_id': 7118}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23851}, {'_account_id': 34411}]","[{'number': 1, 'created': '2022-01-22 22:55:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/55de06d90bb1acc036d5e099bcec6e636a5ee500', 'message': 'Setup rocky linux container\n\nSigned-off-by: Neil Hanlon <neil@shrug.pw>\nChange-Id: Ib383f60bc23b434b400f85c376840a000cafc697\nRelated-Bug: https://review.opendev.org/805800/\n'}, {'number': 2, 'created': '2022-01-22 23:11:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/3a0d4c266c58cf492411903b8dadd5972a75023c', 'message': 'Setup rocky linux container\n\nSigned-off-by: Neil Hanlon <neil@shrug.pw>\nChange-Id: Ib383f60bc23b434b400f85c376840a000cafc697\nRelated-Bug: https://review.opendev.org/805800/\n'}, {'number': 3, 'created': '2022-01-22 23:15:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/e6110884845f1341e60d550e170466c6be8cfda3', 'message': 'Add new container element - Rocky Linux\n\nSigned-off-by: Neil Hanlon <neil@shrug.pw>\nChange-Id: Ib383f60bc23b434b400f85c376840a000cafc697\nRelated-Bug: https://review.opendev.org/805800/\n'}, {'number': 4, 'created': '2022-01-23 22:13:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/cbe4deef6ba2ea696517018df7279d41c955a6c0', 'message': 'Add new container element - Rocky Linux\n\nSigned-off-by: Neil Hanlon <neil@shrug.pw>\nChange-Id: Ib383f60bc23b434b400f85c376840a000cafc697\nRelated-Bug: https://review.opendev.org/805800/\n'}, {'number': 5, 'created': '2022-01-23 22:20:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/dd45b2e37bceb734f4a22b3b4649cba19694ee9e', 'message': 'Add new container element - Rocky Linux\n\nSigned-off-by: Neil Hanlon <neil@shrug.pw>\nChange-Id: Ib383f60bc23b434b400f85c376840a000cafc697\nRelated-Bug: https://review.opendev.org/805800/\n'}, {'number': 6, 'created': '2022-01-24 00:19:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/05f8ad08b31333f034551e42a144e4404b6f70a1', 'message': 'Add new container element - Rocky Linux\n\nSigned-off-by: Neil Hanlon <neil@shrug.pw>\nChange-Id: Ib383f60bc23b434b400f85c376840a000cafc697\nRelated-Bug: https://review.opendev.org/805800/\n'}, {'number': 7, 'created': '2022-01-24 01:27:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/e0855cfd9bde4a641a1d4c6b22d2f94379b4afce', 'message': 'Add new container element - Rocky Linux\n\nSigned-off-by: Neil Hanlon <neil@shrug.pw>\nChange-Id: Ib383f60bc23b434b400f85c376840a000cafc697\nRelated-Bug: https://review.opendev.org/805800/\n'}, {'number': 8, 'created': '2022-01-24 14:27:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/098e5e808e77fd326b5ac81ca3de5de1f5e8ef5e', 'message': 'Add new container element - Rocky Linux\n\nSigned-off-by: Neil Hanlon <neil@shrug.pw>\nChange-Id: Ib383f60bc23b434b400f85c376840a000cafc697\nRelated-Bug: https://review.opendev.org/805800/\n'}, {'number': 9, 'created': '2022-01-24 14:57:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/5baa23f39338fcf480176eb938b43a81d9d44ada', 'message': 'Add new container element - Rocky Linux\n\nSigned-off-by: Neil Hanlon <neil@shrug.pw>\nChange-Id: Ib383f60bc23b434b400f85c376840a000cafc697\nRelated-Bug: https://review.opendev.org/805800/\n'}, {'number': 10, 'created': '2022-01-28 14:47:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/d089c467ae328235fd8c74faffa4214030ead1b2', 'message': 'Add new container element - Rocky Linux\n\nIntroduce new container image for Rocky Linux, a downstream clone of Red\nHat Enterprise Linux.\n\nSigned-off-by: Neil Hanlon <neil@shrug.pw>\nChange-Id: Ib383f60bc23b434b400f85c376840a000cafc697\nRelated-Bug: https://review.opendev.org/805800/\n'}, {'number': 11, 'created': '2022-01-31 16:39:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/b691143a83172868c9105e9eade72d791b9e3b64', 'message': 'Add new container element - Rocky Linux\n\nIntroduce new container image for Rocky Linux, a downstream clone of Red\nHat Enterprise Linux.\n\nKeep non-voting in Check for a while before adding to any gate checks\n\nSigned-off-by: Neil Hanlon <neil@shrug.pw>\nChange-Id: Ib383f60bc23b434b400f85c376840a000cafc697\nRelated-Bug: https://review.opendev.org/805800/\n'}, {'number': 12, 'created': '2022-01-31 17:26:16.000000000', 'files': ['diskimage_builder/elements/pkg-map/bin/pkg-map', 'diskimage_builder/elements/rocky-container/containerfiles/8', 'diskimage_builder/elements/rocky-container/environment.d/11-yum-dnf.bash', 'diskimage_builder/elements/rocky-container/element-deps', 'diskimage_builder/elements/rocky-container/package-installs.yaml', 'diskimage_builder/elements/rocky-container/test-elements/build-succeeds/README.rst', 'diskimage_builder/elements/rocky-container/environment.d/10-01-rocky-distro-name.bash', 'diskimage_builder/elements/rocky-container/test-elements/build-succeeds/element-deps', '.zuul.d/project.yaml', 'diskimage_builder/elements/rocky-container/README.rst', '.zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/398e07e6f2bb5a2f763a22a8e4801108c242ffe2', 'message': 'Add new container element - Rocky Linux\n\nIntroduce new container image for Rocky Linux, a downstream clone of Red\nHat Enterprise Linux.\n\nKeep non-voting in Check for a while before adding to any gate checks\n\nSigned-off-by: Neil Hanlon <neil@shrug.pw>\nChange-Id: Ib383f60bc23b434b400f85c376840a000cafc697\nRelated-Bug: https://review.opendev.org/805800/\n'}]",18,825957,398e07e6f2bb5a2f763a22a8e4801108c242ffe2,76,6,12,34411,,,0,"Add new container element - Rocky Linux

Introduce new container image for Rocky Linux, a downstream clone of Red
Hat Enterprise Linux.

Keep non-voting in Check for a while before adding to any gate checks

Signed-off-by: Neil Hanlon <neil@shrug.pw>
Change-Id: Ib383f60bc23b434b400f85c376840a000cafc697
Related-Bug: https://review.opendev.org/805800/
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/57/825957/10 && git format-patch -1 --stdout FETCH_HEAD,"['diskimage_builder/elements/pkg-map/bin/pkg-map', 'diskimage_builder/elements/rocky-container/pkg-map', 'diskimage_builder/elements/rocky-container/containerfiles/8', 'diskimage_builder/elements/rocky-container/environment.d/11-yum-dnf.bash', 'diskimage_builder/elements/rocky-container/element-deps', 'diskimage_builder/elements/rocky-container/package-installs.yaml', 'diskimage_builder/elements/rocky-container/test-elements/build-succeeds/README.rst', 'diskimage_builder/elements/rocky-container/environment.d/10-01-rocky-distro-name.bash', 'diskimage_builder/elements/rocky-container/test-elements/build-succeeds/element-deps', 'diskimage_builder/elements/rocky-container/README.rst']",10,55de06d90bb1acc036d5e099bcec6e636a5ee500,rockylinux-8,"================ rocky-container ================ Create a minimal image based on Rocky Linux container image This element sets the ``DISTRO_NAME`` var to 'rocky'. The release of rocky to be installed can be controlled through the ``DIB_RELEASE`` variable, which defaults the latest supported release. ",,41,1
openstack%2Fbifrost~master~I990f5659ce501fa8ed95c2b18723189fe10f05d3,openstack/bifrost,master,I990f5659ce501fa8ed95c2b18723189fe10f05d3,Only remove old services after they are stopped,MERGED,2022-02-08 08:45:53.000000000,2022-02-08 21:19:16.000000000,2022-02-08 21:10:15.000000000,"[{'_account_id': 4571}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2022-02-08 08:45:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/e90312937242b8893c1398025054b652f80fe01a', 'message': ""Only remove old services after they are stopped\n\nOtherwise Ansible won't be able to stop them.\n\nChange-Id: I990f5659ce501fa8ed95c2b18723189fe10f05d3\n""}, {'number': 2, 'created': '2022-02-08 08:47:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/c60a886015251306672a30a0b7e63cb91dcc9070', 'message': ""Only remove old services after they are stopped\n\nOtherwise Ansible won't be able to stop them.\n\nChange-Id: I990f5659ce501fa8ed95c2b18723189fe10f05d3\n""}, {'number': 3, 'created': '2022-02-08 09:17:49.000000000', 'files': ['playbooks/roles/bifrost-ironic-install/tasks/bootstrap.yml', 'playbooks/roles/bifrost-ironic-install/tasks/start.yml', 'releasenotes/notes/service-upgrade-54fda4d86e9d7575.yaml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/72ee1ff418a992fb93f934c7de99f9bee570afc5', 'message': ""Only remove old services after they are stopped\n\nOtherwise Ansible won't be able to stop them.\n\nChange-Id: I990f5659ce501fa8ed95c2b18723189fe10f05d3\n""}]",0,828252,72ee1ff418a992fb93f934c7de99f9bee570afc5,10,3,3,10239,,,0,"Only remove old services after they are stopped

Otherwise Ansible won't be able to stop them.

Change-Id: I990f5659ce501fa8ed95c2b18723189fe10f05d3
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/52/828252/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/roles/bifrost-ironic-install/tasks/bootstrap.yml', 'playbooks/roles/bifrost-ironic-install/tasks/start.yml']",2,e90312937242b8893c1398025054b652f80fe01a,upgrade,"- name: ""Remove old ironic services"" file: path: ""{{ init_dest_dir }}{{ item }}.service"" state: absent loop: - ironic-api - ironic-conductor ",,8,8
openstack%2Fbifrost~master~I522a125b17a1d03f0b884b17bb6b66f39e295d8c,openstack/bifrost,master,I522a125b17a1d03f0b884b17bb6b66f39e295d8c,Update /etc/keystone ownership on upgrade from Xena,MERGED,2022-02-08 08:05:29.000000000,2022-02-08 21:10:18.000000000,2022-02-08 20:47:08.000000000,"[{'_account_id': 4571}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2022-02-08 08:05:29.000000000', 'files': ['playbooks/roles/bifrost-keystone-install/tasks/bootstrap.yml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/629bf5224864e032574f4a26e0e965bf1ba47782', 'message': 'Update /etc/keystone ownership on upgrade from Xena\n\nThe fernet key directory may end up owned by nginx otherwise.\n\nChange-Id: I522a125b17a1d03f0b884b17bb6b66f39e295d8c\n'}]",0,828227,629bf5224864e032574f4a26e0e965bf1ba47782,8,3,1,10239,,,0,"Update /etc/keystone ownership on upgrade from Xena

The fernet key directory may end up owned by nginx otherwise.

Change-Id: I522a125b17a1d03f0b884b17bb6b66f39e295d8c
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/27/828227/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/roles/bifrost-keystone-install/tasks/bootstrap.yml'],1,629bf5224864e032574f4a26e0e965bf1ba47782,keystone-upgrade,"- name: ""Update ownership on upgrade from Xena"" file: name: ""/etc/keystone"" state: directory owner: ""keystone"" recurse: yes ",,7,0
openstack%2Fironic~master~I6456dc17ae4e35c9c9960263e1d8a810ff110f7c,openstack/ironic,master,I6456dc17ae4e35c9c9960263e1d8a810ff110f7c,[DNM] Testing CI,NEW,2022-02-08 14:09:55.000000000,2022-02-08 20:56:04.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-02-08 14:09:55.000000000', 'files': ['setup.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/4faccb3c84430827d8e17f0249491456c9384fc1', 'message': '[DNM] Testing CI\n\nChange-Id: I6456dc17ae4e35c9c9960263e1d8a810ff110f7c\n'}]",0,828338,4faccb3c84430827d8e17f0249491456c9384fc1,6,1,1,15519,,,0,"[DNM] Testing CI

Change-Id: I6456dc17ae4e35c9c9960263e1d8a810ff110f7c
",git fetch https://review.opendev.org/openstack/ironic refs/changes/38/828338/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.py'],1,4faccb3c84430827d8e17f0249491456c9384fc1,dnm,,,1,0
openstack%2Fcharm-ceph-mon~master~Ic5ee9d33d2bb874af7fc7c325773f88c5661fcc6,openstack/charm-ceph-mon,master,Ic5ee9d33d2bb874af7fc7c325773f88c5661fcc6,Display information if missing OSD relation,MERGED,2022-01-12 21:12:56.000000000,2022-02-08 20:53:32.000000000,2022-02-08 20:53:32.000000000,"[{'_account_id': 8992}, {'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-12 21:12:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/809b97849825dc4b8a7695303760446de85ff0ec', 'message': 'Display information if missing OSD relation\n\nWhen ceph-mon is blocked on waiting for enough OSDs to be available,\nit will display a message to that effect.\nBut this message is misleading if ceph-mon has not been related to ceph-osd.\nSo if the two are not related,\nand ceph-mon is waiting for OSDS,\nthen display a message about the relation missing.\n\nCloses-Bug: #1886558\nChange-Id: Ic5ee9d33d2bb874af7fc7c325773f88c5661fcc6\n'}, {'number': 2, 'created': '2022-01-12 21:38:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/c7715d7a1185d57159a19dbbe97256bff196da18', 'message': 'Display information if missing OSD relation\n\nWhen ceph-mon is blocked on waiting for enough OSDs to be available,\nit will display a message to that effect.\nBut this is misleading if ceph-mon has not been related to ceph-osd.\nSo if the two are not related,\nand ceph-mon is waiting for OSDS,\nthen display a message about the relation missing.\n\nCloses-Bug: #1886558\nChange-Id: Ic5ee9d33d2bb874af7fc7c325773f88c5661fcc6\n'}, {'number': 3, 'created': '2022-01-13 04:15:26.000000000', 'files': ['hooks/ceph_hooks.py', 'unit_tests/test_status.py'], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/48c52fafddef84f54c68cf2a208d9195e0a46dbb', 'message': 'Display information if missing OSD relation\n\nWhen ceph-mon is blocked on waiting for enough OSDs to be available,\nit will display a message to that effect.\nBut this is misleading if ceph-mon has not been related to ceph-osd.\nSo if the two are not related,\nand ceph-mon is waiting for OSDS,\nthen display a message about the relation missing.\n\nCloses-Bug: #1886558\nChange-Id: Ic5ee9d33d2bb874af7fc7c325773f88c5661fcc6\n'}]",11,824485,48c52fafddef84f54c68cf2a208d9195e0a46dbb,31,4,3,34352,,,0,"Display information if missing OSD relation

When ceph-mon is blocked on waiting for enough OSDs to be available,
it will display a message to that effect.
But this is misleading if ceph-mon has not been related to ceph-osd.
So if the two are not related,
and ceph-mon is waiting for OSDS,
then display a message about the relation missing.

Closes-Bug: #1886558
Change-Id: Ic5ee9d33d2bb874af7fc7c325773f88c5661fcc6
",git fetch https://review.opendev.org/openstack/charm-ceph-mon refs/changes/85/824485/3 && git format-patch -1 --stdout FETCH_HEAD,['hooks/ceph_hooks.py'],1,809b97849825dc4b8a7695303760446de85ff0ec,," elif not relation_ids('osd'): status_set('blocked', 'Missing relation: OSD')",,2,0
openstack%2Fneutron-lib~master~I496db96ea40da3bee5b81bcee1edc79e1f46b541,openstack/neutron-lib,master,I496db96ea40da3bee5b81bcee1edc79e1f46b541,Add VNIC_REMOTE_MANAGED for off-path backends,MERGED,2022-02-07 17:36:36.000000000,2022-02-08 20:51:28.000000000,2022-02-08 20:30:12.000000000,"[{'_account_id': 1131}, {'_account_id': 5948}, {'_account_id': 11604}, {'_account_id': 22348}, {'_account_id': 32029}]","[{'number': 1, 'created': '2022-02-07 17:36:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/e4b83d01d0a97df5150fce69e890772e1c72398a', 'message': 'Add VNIC_REMOTE_MANAGED for off-path backends\n\nAdded a new VNIC type for remote-managed ports of off-path networking\nbackends.\n\nRelated-Bug: #1932154\nChange-Id: I496db96ea40da3bee5b81bcee1edc79e1f46b541\n'}, {'number': 2, 'created': '2022-02-08 06:10:58.000000000', 'files': ['api-ref/source/v2/parameters.yaml', 'releasenotes/notes/vnic-type-remote-managed-c0809926fcd30e93.yaml', 'neutron_lib/api/definitions/portbindings.py'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/18a69117202080a56a39e32b130e3813c344b9f2', 'message': 'Add VNIC_REMOTE_MANAGED for off-path backends\n\nAdded a new VNIC type for remote-managed ports of off-path networking\nbackends.\n\nRelated-Bug: #1932154\nChange-Id: I496db96ea40da3bee5b81bcee1edc79e1f46b541\n'}]",1,828174,18a69117202080a56a39e32b130e3813c344b9f2,14,5,2,24824,,,0,"Add VNIC_REMOTE_MANAGED for off-path backends

Added a new VNIC type for remote-managed ports of off-path networking
backends.

Related-Bug: #1932154
Change-Id: I496db96ea40da3bee5b81bcee1edc79e1f46b541
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/74/828174/1 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/source/v2/parameters.yaml', 'releasenotes/notes/vnic-type-remote-managed-c0809926fcd30e93.yaml', 'neutron_lib/api/definitions/portbindings.py']",3,e4b83d01d0a97df5150fce69e890772e1c72398a,bug/1932154,VNIC_REMOTE_MANAGED = 'remote-managed',,10,2
openstack%2Fopenstack-ansible-lxc_hosts~stable%2Fxena~I3adb4dd75198935c4656d0208043ad8051f29312,openstack/openstack-ansible-lxc_hosts,stable/xena,I3adb4dd75198935c4656d0208043ad8051f29312,Ensure that the legacy network-scripts package is present,MERGED,2022-02-08 09:27:54.000000000,2022-02-08 20:06:26.000000000,2022-02-08 19:13:34.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 31542}, {'_account_id': 32029}]","[{'number': 1, 'created': '2022-02-08 09:27:54.000000000', 'files': ['vars/redhat-host.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/08ce4f0e5aeec72c87fd3965656ac3f41202961e', 'message': 'Ensure that the legacy network-scripts package is present\n\nThe lxc_hosts ansible role currently relies on the ifup / ifdown\ncommands.\n\nChange-Id: I3adb4dd75198935c4656d0208043ad8051f29312\n(cherry picked from commit 9a4004169450a0bb68ffe0fec31e6887a9c075f3)\n'}]",1,828235,08ce4f0e5aeec72c87fd3965656ac3f41202961e,14,5,1,25023,,,0,"Ensure that the legacy network-scripts package is present

The lxc_hosts ansible role currently relies on the ifup / ifdown
commands.

Change-Id: I3adb4dd75198935c4656d0208043ad8051f29312
(cherry picked from commit 9a4004169450a0bb68ffe0fec31e6887a9c075f3)
",git fetch https://review.opendev.org/openstack/openstack-ansible-lxc_hosts refs/changes/35/828235/1 && git format-patch -1 --stdout FETCH_HEAD,['vars/redhat-host.yml'],1,08ce4f0e5aeec72c87fd3965656ac3f41202961e,, - network-scripts,,1,0
openstack%2Ftripleo-ansible~stable%2Fwallaby~I7da7a9d6d114cde4d0e9a9d4edcf5bf6634c0b7e,openstack/tripleo-ansible,stable/wallaby,I7da7a9d6d114cde4d0e9a9d4edcf5bf6634c0b7e,Enable fips test for metrics_qdr,ABANDONED,2022-02-08 19:50:55.000000000,2022-02-08 19:55:28.000000000,,[],"[{'number': 1, 'created': '2022-02-08 19:50:55.000000000', 'files': ['zuul.d/molecule.yaml', 'zuul.d/playbooks/enable-fips.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/21a51e1dbfec591e10753aad3e17f874f5d4b7db', 'message': 'Enable fips test for metrics_qdr\n\nChange-Id: I7da7a9d6d114cde4d0e9a9d4edcf5bf6634c0b7e\n(cherry picked from commit f59b22671ce49671c10070e0332c79f5fd2a65f9)\n'}]",0,828421,21a51e1dbfec591e10753aad3e17f874f5d4b7db,2,0,1,30893,,,0,"Enable fips test for metrics_qdr

Change-Id: I7da7a9d6d114cde4d0e9a9d4edcf5bf6634c0b7e
(cherry picked from commit f59b22671ce49671c10070e0332c79f5fd2a65f9)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/21/828421/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/molecule.yaml', 'zuul.d/playbooks/enable-fips.yml']",2,21a51e1dbfec591e10753aad3e17f874f5d4b7db,fips-compatibility,--- - hosts: all tasks: - include_role: name: enable-fips ,,7,0
openstack%2Fmanila~master~I336da6d2f5dc0bacb12f9c3be6f00b2484e4c2d7,openstack/manila,master,I336da6d2f5dc0bacb12f9c3be6f00b2484e4c2d7,Add Python 3 only classifier,MERGED,2022-02-08 14:12:12.000000000,2022-02-08 19:50:05.000000000,2022-02-08 19:09:58.000000000,"[{'_account_id': 16643}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-08 14:12:12.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/manila/commit/cf7bf17e4636773ccc7dbf9ce10b4e4ac696c63b', 'message': 'Add Python 3 only classifier\n\nPython 2 support was removed during Ussuri cycle. This change adds\nthe classifier to clearly state that only Python 3 is supported.\n\nChange-Id: I336da6d2f5dc0bacb12f9c3be6f00b2484e4c2d7\n'}]",1,828339,cf7bf17e4636773ccc7dbf9ce10b4e4ac696c63b,9,2,1,9816,,,0,"Add Python 3 only classifier

Python 2 support was removed during Ussuri cycle. This change adds
the classifier to clearly state that only Python 3 is supported.

Change-Id: I336da6d2f5dc0bacb12f9c3be6f00b2484e4c2d7
",git fetch https://review.opendev.org/openstack/manila refs/changes/39/828339/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,cf7bf17e4636773ccc7dbf9ce10b4e4ac696c63b,py3-only, Programming Language :: Python :: 3 :: Only,,1,0
openstack%2Fgovernance~master~Ifa7159e37445d5024e884481b30d0aadcde10d2f,openstack/governance,master,Ifa7159e37445d5024e884481b30d0aadcde10d2f,Continue to maintain the neutron-fwaas project,MERGED,2022-02-07 07:43:07.000000000,2022-02-08 19:47:28.000000000,2022-02-08 19:03:55.000000000,"[{'_account_id': 8313}, {'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-02-07 07:43:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/ab735f9e6bfcd7fa718b77f1a8720d803e3ea7c7', 'message': 'Continue to maintain the neutron-fwaas project\n\nMany users still need L3 firewalls and Inspur team wants to continue\nto maintain this project.\nNeutron drivers team discussed the topic of the maintenance of neutron-fwaas,\nand agreed to include neutron-fwaas again to Neutron stadium[1].\n\n[1] https://meetings.opendev.org/meetings/neutron_drivers/2022/neutron_drivers.2022-01-28-14.00.log.html#l-14\n\nChange-Id: Ifa7159e37445d5024e884481b30d0aadcde10d2f\n'}, {'number': 2, 'created': '2022-02-07 07:45:07.000000000', 'files': ['reference/projects.yaml'], 'web_link': 'https://opendev.org/openstack/governance/commit/0fee3b975afcac4332740e614cdf640a8f008abc', 'message': 'Continue to maintain the neutron-fwaas project\n\nMany users still need L3 firewalls and Inspur team wants to continue\nto maintain this project.\nNeutron drivers team discussed the topic of the maintenance of\nneutron-fwaas, and agreed to include neutron-fwaas again to Neutron\nstadium[1].\n\n[1] https://meetings.opendev.org/meetings/neutron_drivers/2022/neutron_drivers.2022-01-28-14.00.log.html#l-14\n\nChange-Id: Ifa7159e37445d5024e884481b30d0aadcde10d2f\n'}]",3,828078,0fee3b975afcac4332740e614cdf640a8f008abc,12,4,2,30380,,,0,"Continue to maintain the neutron-fwaas project

Many users still need L3 firewalls and Inspur team wants to continue
to maintain this project.
Neutron drivers team discussed the topic of the maintenance of
neutron-fwaas, and agreed to include neutron-fwaas again to Neutron
stadium[1].

[1] https://meetings.opendev.org/meetings/neutron_drivers/2022/neutron_drivers.2022-01-28-14.00.log.html#l-14

Change-Id: Ifa7159e37445d5024e884481b30d0aadcde10d2f
",git fetch https://review.opendev.org/openstack/governance refs/changes/78/828078/2 && git format-patch -1 --stdout FETCH_HEAD,['reference/projects.yaml'],1,ab735f9e6bfcd7fa718b77f1a8720d803e3ea7c7,project-update,, deprecated: victoria release-management: deprecated deprecated: victoria release-management: deprecated,0,4
openstack%2Ftripleo-ansible~stable%2Fvictoria~I7da7a9d6d114cde4d0e9a9d4edcf5bf6634c0b7e,openstack/tripleo-ansible,stable/victoria,I7da7a9d6d114cde4d0e9a9d4edcf5bf6634c0b7e,Enable fips test for metrics_qdr,ABANDONED,2022-02-08 19:32:53.000000000,2022-02-08 19:46:31.000000000,,[],"[{'number': 1, 'created': '2022-02-08 19:32:53.000000000', 'files': ['zuul.d/molecule.yaml', 'zuul.d/playbooks/enable-fips.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/af12fdc8bd8813ffc10746c3c4765029c8322f0d', 'message': 'Enable fips test for metrics_qdr\n\nChange-Id: I7da7a9d6d114cde4d0e9a9d4edcf5bf6634c0b7e\n(cherry picked from commit f59b22671ce49671c10070e0332c79f5fd2a65f9)\n'}]",1,828415,af12fdc8bd8813ffc10746c3c4765029c8322f0d,3,0,1,30893,,,0,"Enable fips test for metrics_qdr

Change-Id: I7da7a9d6d114cde4d0e9a9d4edcf5bf6634c0b7e
(cherry picked from commit f59b22671ce49671c10070e0332c79f5fd2a65f9)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/15/828415/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/molecule.yaml', 'zuul.d/playbooks/enable-fips.yml']",2,af12fdc8bd8813ffc10746c3c4765029c8322f0d,fips-compatibility,--- - hosts: all tasks: - include_role: name: enable-fips ,,14,0
openstack%2Ftripleo-heat-templates~stable%2Ftrain~Ied386c148717c53903bd5f58c575e8c6cabee7a9,openstack/tripleo-heat-templates,stable/train,Ied386c148717c53903bd5f58c575e8c6cabee7a9,Disable libvirtd and stop it,MERGED,2022-01-31 16:34:18.000000000,2022-02-08 19:23:24.000000000,2022-02-08 19:23:24.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2022-01-31 16:34:18.000000000', 'files': ['deployment/tripleo-packages/tripleo-packages-baremetal-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8f5796625e4dd1d5f0a974da450f2bb7e6285593', 'message': ""Disable libvirtd and stop it\n\nDisable libvirtd and stop it the dnsmasq libvirtd process conflicts with the\ndnsmasq process from ironic inspector and that there's no need to have\nlibvirtd running at all on any of the overcloud nodes.\n\nChange-Id: Ied386c148717c53903bd5f58c575e8c6cabee7a9\n(cherry picked from commit 5b9648dd9dc5cc15b15373894c48998952b4acb6)\n(cherry picked from commit 4825f115b6613be0b8558557396ef7a8351d8cf7)\n""}]",1,827019,8f5796625e4dd1d5f0a974da450f2bb7e6285593,14,6,1,27419,,,0,"Disable libvirtd and stop it

Disable libvirtd and stop it the dnsmasq libvirtd process conflicts with the
dnsmasq process from ironic inspector and that there's no need to have
libvirtd running at all on any of the overcloud nodes.

Change-Id: Ied386c148717c53903bd5f58c575e8c6cabee7a9
(cherry picked from commit 5b9648dd9dc5cc15b15373894c48998952b4acb6)
(cherry picked from commit 4825f115b6613be0b8558557396ef7a8351d8cf7)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/19/827019/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/tripleo-packages/tripleo-packages-baremetal-puppet.yaml'],1,8f5796625e4dd1d5f0a974da450f2bb7e6285593,disable_libvirt-stable/wallaby-stable/train," - name: check if libvirt is installed command: /usr/bin/rpm -q libvirt-daemon failed_when: false register: libvirt_installed check_mode: false - name: make sure libvirt services are disabled and masked service: name: ""{{ item }}"" state: stopped enabled: false masked: true daemon_reload: true loop: - libvirtd.service - virtlogd.socket when: libvirt_installed.rc == 0",,16,0
openstack%2Ftripleo-heat-templates~master~I7e97108d8165c16946b3b11f3084bfd51e3128dc,openstack/tripleo-heat-templates,master,I7e97108d8165c16946b3b11f3084bfd51e3128dc,Fix OS_CLOUD for multistack and nova az tasks,MERGED,2022-02-02 16:11:58.000000000,2022-02-08 18:54:33.000000000,2022-02-08 18:54:33.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 17216}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23811}, {'_account_id': 24245}, {'_account_id': 27419}]","[{'number': 1, 'created': '2022-02-02 16:11:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/96fb1c4431a79be540c9239fb4c86e6cb789bec7', 'message': 'Use clouds.yaml for Nova AZ config task\n\nSince Ib42fc397389d8b50c740edf334fe6f281c392ec6 OS_CLOUD=undercloud is\nset in stackrc which breaks the Nova AZ config task.\nSwitch to using clouds.yaml as used in the Nova scale down tasks.\n\nChange-Id: I7e97108d8165c16946b3b11f3084bfd51e3128dc\n'}, {'number': 2, 'created': '2022-02-03 17:22:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/bd537b03112b4e18de691b8dd417f4a3fd294e86', 'message': 'Fix OS_CLOUD for multistack and nova az tasks\n\nThe entry in clouds.yaml will correspond to the stack that deploys\nkeystone. Therefore in a multistack deployment RootStackName will not be\ngive the correct entry. Add a parameter to override this.\n\nAlso clouds.yaml is owned by root and mode 0600 so we much use\nbecome: true.\n\nUpdate nova az tasks to use clouds.yaml.\n\nChange-Id: I7e97108d8165c16946b3b11f3084bfd51e3128dc\n'}, {'number': 3, 'created': '2022-02-04 10:45:37.000000000', 'files': ['deployment/nova/nova-vnc-proxy-container-puppet.yaml', 'deployment/nova/nova-compute-container-puppet.yaml', 'deployment/cinder/cinder-api-container-puppet.yaml', 'deployment/nova/nova-az-config.yaml', 'deployment/ovn/ovn-controller-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ceed5ac9e71e7c4b113ffa8e16a8167190312b47', 'message': 'Fix OS_CLOUD for multistack and nova az tasks\n\nThe entry in clouds.yaml will correspond to the stack that deploys\nkeystone. Therefore in a multistack deployment RootStackName will not be\ngive the correct entry. Add a parameter to override this.\n\nAlso clouds.yaml is owned by root and mode 0600 so we much use\nbecome: true.\n\nUpdate nova az tasks to use clouds.yaml.\n\nChange-Id: I7e97108d8165c16946b3b11f3084bfd51e3128dc\n'}]",11,827527,ceed5ac9e71e7c4b113ffa8e16a8167190312b47,31,8,3,23811,,,0,"Fix OS_CLOUD for multistack and nova az tasks

The entry in clouds.yaml will correspond to the stack that deploys
keystone. Therefore in a multistack deployment RootStackName will not be
give the correct entry. Add a parameter to override this.

Also clouds.yaml is owned by root and mode 0600 so we much use
become: true.

Update nova az tasks to use clouds.yaml.

Change-Id: I7e97108d8165c16946b3b11f3084bfd51e3128dc
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/27/827527/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/nova/nova-az-config.yaml'],1,96fb1c4431a79be540c9239fb4c86e6cb789bec7,, OS_CLOUD: {get_param: RootStackName}," # Force openstackclient to not try and read a clouds.yaml as none # exists for the tripleo-admin user. OS_CLIENT_CONFIG_FILE: /dev/null auth: username: admin password: {get_param: AdminPassword} project_name: admin project_domain_name: Default user_domain_name: Default auth_url: { get_param: [EndpointMap, KeystoneV3Public, uri] }",1,10
openstack%2Fcharms.openstack~master~Ia72661e4a916dc88cec7d3e0c590056bfb3ed5f0,openstack/charms.openstack,master,Ia72661e4a916dc88cec7d3e0c590056bfb3ed5f0,Allow package-upgrade to use openstack-origin,NEW,2022-02-08 18:26:39.000000000,2022-02-08 18:38:47.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-02-08 18:26:39.000000000', 'files': ['charms_openstack/charm/core.py', 'unit_tests/charms_openstack/charm/test_core.py'], 'web_link': 'https://opendev.org/openstack/charms.openstack/commit/5db4981555a29f0bc71b09a4c130f417df990973', 'message': 'Allow package-upgrade to use openstack-origin\n\nThe package-upgrade action needs to be able to update to\nproposed or a PPA if the openstack-origin has been updated.\nThere is already a check in charm-layer-openstack-principle\nthat prevents the package-upgrade action from running if a new\nOpenStack release is available.\n\nChange-Id: Ia72661e4a916dc88cec7d3e0c590056bfb3ed5f0\n'}]",0,828410,5db4981555a29f0bc71b09a4c130f417df990973,2,1,1,11805,,,0,"Allow package-upgrade to use openstack-origin

The package-upgrade action needs to be able to update to
proposed or a PPA if the openstack-origin has been updated.
There is already a check in charm-layer-openstack-principle
that prevents the package-upgrade action from running if a new
OpenStack release is available.

Change-Id: Ia72661e4a916dc88cec7d3e0c590056bfb3ed5f0
",git fetch https://review.opendev.org/openstack/charms.openstack refs/changes/10/828410/1 && git format-patch -1 --stdout FETCH_HEAD,"['charms_openstack/charm/core.py', 'unit_tests/charms_openstack/charm/test_core.py']",2,5db4981555a29f0bc71b09a4c130f417df990973,package-upgrade, target_charm.do_openstack_pkg_upgrade.assert_called_once_with() target_charm.do_openstack_pkg_upgrade.assert_called_once_with(), target_charm.do_openstack_pkg_upgrade.assert_called_once_with( upgrade_openstack=True) target_charm.do_openstack_pkg_upgrade.assert_called_once_with( upgrade_openstack=False),20,32
openstack%2Ftripleo-heat-templates~master~I186ea70f5442cf459d0faa6850a1f4c7779a6467,openstack/tripleo-heat-templates,master,I186ea70f5442cf459d0faa6850a1f4c7779a6467,Fix ironic boot interface for undercloud,MERGED,2022-02-04 21:54:04.000000000,2022-02-08 18:34:03.000000000,2022-02-08 10:01:28.000000000,"[{'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2022-02-04 21:54:04.000000000', 'files': ['environments/undercloud.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/19c11813d58da3e66d0c9f852de2ce96693b0aba', 'message': 'Fix ironic boot interface for undercloud\n\nA very long time ago, Ironic split the pxe boot interface with\na global configuration setting of ipxe_enabled to two separate boot\ninterfaces. One called pxe, and the other called ipxe.\n\nAs time moved on, the functionality of the long deprecated global\noverride setting has diminished, and ultimately no longer has any\neffect.\n\nEnabling both allows operators to make informed decisions\nbased upon their deployment to match the underlying capabilities\nof the software.\n\nChange-Id: I186ea70f5442cf459d0faa6850a1f4c7779a6467\n'}]",5,827929,19c11813d58da3e66d0c9f852de2ce96693b0aba,12,4,1,11655,,,0,"Fix ironic boot interface for undercloud

A very long time ago, Ironic split the pxe boot interface with
a global configuration setting of ipxe_enabled to two separate boot
interfaces. One called pxe, and the other called ipxe.

As time moved on, the functionality of the long deprecated global
override setting has diminished, and ultimately no longer has any
effect.

Enabling both allows operators to make informed decisions
based upon their deployment to match the underlying capabilities
of the software.

Change-Id: I186ea70f5442cf459d0faa6850a1f4c7779a6467
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/29/827929/1 && git format-patch -1 --stdout FETCH_HEAD,['environments/undercloud.yaml'],1,19c11813d58da3e66d0c9f852de2ce96693b0aba,," IronicEnabledBootInterfaces: ['ipxe', 'pxe', 'ilo-pxe']"," IronicEnabledBootInterfaces: ['pxe', 'ilo-pxe']",1,1
openstack%2Fpuppet-openstack-integration~master~I9eae6425761b9a93ab0f44d4cb42d93a1add6b40,openstack/puppet-openstack-integration,master,I9eae6425761b9a93ab0f44d4cb42d93a1add6b40,CentOS: Capture yum repository files,MERGED,2022-02-05 08:50:10.000000000,2022-02-08 18:31:32.000000000,2022-02-08 18:31:32.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-05 08:50:10.000000000', 'files': ['copy_logs.sh'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/8c220d00d4b72aa6a98852db2453532ec524f179', 'message': 'CentOS: Capture yum repository files\n\nWhen some of the repositories are not accessible, repository list is\nnot properly captured and that makes it difficult to find out which\nrepository is wrong or has an issue.\nThis change ensures the repository configuration files are captured\nas part of logs, for easy reference.\n\nChange-Id: I9eae6425761b9a93ab0f44d4cb42d93a1add6b40\n'}]",0,827942,8c220d00d4b72aa6a98852db2453532ec524f179,7,3,1,9816,,,0,"CentOS: Capture yum repository files

When some of the repositories are not accessible, repository list is
not properly captured and that makes it difficult to find out which
repository is wrong or has an issue.
This change ensures the repository configuration files are captured
as part of logs, for easy reference.

Change-Id: I9eae6425761b9a93ab0f44d4cb42d93a1add6b40
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/42/827942/1 && git format-patch -1 --stdout FETCH_HEAD,['copy_logs.sh'],1,8c220d00d4b72aa6a98852db2453532ec524f179,,if is_fedora; then sudo cp -r /etc/yum.repos.d $LOG_DIR/etc/yum.repos.d fi ,,4,0
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~I36367b58d43347ccf0fc18de4665a10891faef10,openstack/tripleo-heat-templates,stable/wallaby,I36367b58d43347ccf0fc18de4665a10891faef10,Drop Nova and NovaJoin services from UC role data,MERGED,2022-02-07 10:30:25.000000000,2022-02-08 18:22:54.000000000,2022-02-08 18:22:54.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 11090}, {'_account_id': 11166}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 27419}]","[{'number': 1, 'created': '2022-02-07 10:30:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a851f8302330f6eb87db2f64b986fdc010d517ce', 'message': 'Drop Nova and NovaJoin services from UC role data\n\nAs of Wallaby, Nova service no longer in use on Undercloud.\nKeeping these in roles data waste container prepare cycles\nand the registry space for unused container images.\n\nDepends-On: https://review.opendev.org/827257\nChange-Id: I36367b58d43347ccf0fc18de4665a10891faef10\nRelated-bug: #1959662\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n(cherry picked from commit 17004426aef236da2d79d299523c0a2e0abef03e)\n'}, {'number': 2, 'created': '2022-02-07 10:31:35.000000000', 'files': ['roles_data_undercloud.yaml', 'roles/Undercloud.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5499a0760ad950ed77fd85db2b6cf1f8614e591f', 'message': 'Drop Nova and NovaJoin services from UC role data\n\nAs of Wallaby, Nova service no longer in use on Undercloud.\nKeeping these in roles data waste container prepare cycles\nand the registry space for unused container images.\n\nDepends-On: https://review.opendev.org/827647\nChange-Id: I36367b58d43347ccf0fc18de4665a10891faef10\nRelated-bug: #1959662\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n(cherry picked from commit 17004426aef236da2d79d299523c0a2e0abef03e)\n'}]",0,827968,5499a0760ad950ed77fd85db2b6cf1f8614e591f,11,8,2,26343,,,0,"Drop Nova and NovaJoin services from UC role data

As of Wallaby, Nova service no longer in use on Undercloud.
Keeping these in roles data waste container prepare cycles
and the registry space for unused container images.

Depends-On: https://review.opendev.org/827647
Change-Id: I36367b58d43347ccf0fc18de4665a10891faef10
Related-bug: #1959662
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
(cherry picked from commit 17004426aef236da2d79d299523c0a2e0abef03e)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/68/827968/2 && git format-patch -1 --stdout FETCH_HEAD,"['roles_data_undercloud.yaml', 'roles/Undercloud.yaml']",2,a851f8302330f6eb87db2f64b986fdc010d517ce,1959662-stable/wallaby,, - OS::TripleO::Services::NovaApi - OS::TripleO::Services::NovaConductor - OS::TripleO::Services::NovaIronic - OS::TripleO::Services::NovaScheduler - OS::TripleO::Services::Novajoin,0,10
openstack%2Fpuppet-openstack-integration~master~I7633fbfbf3424f093dac5811e9c2fb8dcdf3167b,openstack/puppet-openstack-integration,master,I7633fbfbf3424f093dac5811e9c2fb8dcdf3167b,Remove workaround for masked redis-server.service,MERGED,2022-02-05 14:29:19.000000000,2022-02-08 18:20:17.000000000,2022-02-08 18:20:17.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-05 14:29:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/d3d8ad0a209a0f2809119eb37beea9770ca64e1c', 'message': 'Fix workaround for masked redis-server.service\n\nThis is revert of 74022b48ddb6312bcc3b82a92b9bc45fdcbf04f1 and its\nfollow up commit 46b503f7b02f9aabad953776c2d8b4eb02859dda. Currently\nthe redis-server.service is no longer masked in Ubuntu vms in CI and\nit can be enabled.\n\nChange-Id: I7633fbfbf3424f093dac5811e9c2fb8dcdf3167b\n'}, {'number': 2, 'created': '2022-02-05 14:30:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/10c35a844ffd13616075a8f28acd53ca85d02f73', 'message': 'Fix workaround for masked redis-server.service\n\nThis is revert of 74022b48ddb6312bcc3b82a92b9bc45fdcbf04f1 and its\nfollow up commit 46b503f7b02f9aabad953776c2d8b4eb02859dda. The logic\nwas added for Debian but we no longer have Debian jobs.\n\nChange-Id: I7633fbfbf3424f093dac5811e9c2fb8dcdf3167b\n'}, {'number': 3, 'created': '2022-02-05 14:38:51.000000000', 'files': ['manifests/redis.pp'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/d8c452f91a32f74a5fece67049f8a9a17a560697', 'message': 'Remove workaround for masked redis-server.service\n\nThis is revert of 74022b48ddb6312bcc3b82a92b9bc45fdcbf04f1 and its\nfollow up commit 46b503f7b02f9aabad953776c2d8b4eb02859dda. The logic\nwas added for Debian but we no longer have Debian jobs.\n\nChange-Id: I7633fbfbf3424f093dac5811e9c2fb8dcdf3167b\n'}]",0,827970,d8c452f91a32f74a5fece67049f8a9a17a560697,9,3,3,9816,,,0,"Remove workaround for masked redis-server.service

This is revert of 74022b48ddb6312bcc3b82a92b9bc45fdcbf04f1 and its
follow up commit 46b503f7b02f9aabad953776c2d8b4eb02859dda. The logic
was added for Debian but we no longer have Debian jobs.

Change-Id: I7633fbfbf3424f093dac5811e9c2fb8dcdf3167b
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/70/827970/3 && git format-patch -1 --stdout FETCH_HEAD,['manifests/redis.pp'],1,d3d8ad0a209a0f2809119eb37beea9770ca64e1c,," enable => true,"," # due to issues in OpenStack CI with the redis package, we need to disable # the service enable flag. The service still starts but the management of # the service with systemd errors. if ($::operatingsystem == 'Debian') { $service_enable = false } else { $service_enable = true } enable => $service_enable,",1,10
openstack%2Fpuppet-openstack-integration~master~Id4f94f514826c946d0d0bdf985dfa125ff0b5943,openstack/puppet-openstack-integration,master,Id4f94f514826c946d0d0bdf985dfa125ff0b5943,Ubuntu/Debian: Use stable/xena release,MERGED,2022-02-05 16:18:37.000000000,2022-02-08 18:20:15.000000000,2022-02-08 18:20:15.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-05 16:18:37.000000000', 'files': ['manifests/repos.pp'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/bcfe0655d739a492eac7ec47543d0014a5f9800b', 'message': 'Ubuntu/Debian: Use stable/xena release\n\nChange-Id: Id4f94f514826c946d0d0bdf985dfa125ff0b5943\n'}]",0,827979,bcfe0655d739a492eac7ec47543d0014a5f9800b,7,3,1,9816,,,0,"Ubuntu/Debian: Use stable/xena release

Change-Id: Id4f94f514826c946d0d0bdf985dfa125ff0b5943
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/79/827979/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/repos.pp'],1,bcfe0655d739a492eac7ec47543d0014a5f9800b,," release => 'xena',"," release => 'ussuri',",1,1
openstack%2Foctavia~master~I8fac328cdda6e1015a145a1f8a497e007ac6ac02,openstack/octavia,master,I8fac328cdda6e1015a145a1f8a497e007ac6ac02,Fix devstack on centos-9-stream,MERGED,2022-02-07 20:21:15.000000000,2022-02-08 18:16:19.000000000,2022-02-08 18:06:45.000000000,"[{'_account_id': 7249}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-07 20:21:15.000000000', 'files': ['devstack/files/rpms/octavia', 'elements/amphora-agent/pkg-map'], 'web_link': 'https://opendev.org/openstack/octavia/commit/791fbfce6c8803362e69f3716ef585b99b8560ad', 'message': ""Fix devstack on centos-9-stream\n\ndebootstrap doesn't exist on centos-9-stream, disable it for\nrhel9-based distribution.\nAlso remove a previous unsuccessful attempt to remove it.\n\nChange-Id: I8fac328cdda6e1015a145a1f8a497e007ac6ac02\n""}]",2,828189,791fbfce6c8803362e69f3716ef585b99b8560ad,10,3,1,29244,,,0,"Fix devstack on centos-9-stream

debootstrap doesn't exist on centos-9-stream, disable it for
rhel9-based distribution.
Also remove a previous unsuccessful attempt to remove it.

Change-Id: I8fac328cdda6e1015a145a1f8a497e007ac6ac02
",git fetch https://review.opendev.org/openstack/octavia refs/changes/89/828189/1 && git format-patch -1 --stdout FETCH_HEAD,"['devstack/files/rpms/octavia', 'elements/amphora-agent/pkg-map']",2,791fbfce6c8803362e69f3716ef585b99b8560ad,,," ""debootstrap"": """",",1,2
openstack%2Fpython-manilaclient~master~Ie472ca4a60b4b86d525b387dfa318439006b10bd,openstack/python-manilaclient,master,Ie472ca4a60b4b86d525b387dfa318439006b10bd,Add Python 3 only classifier,MERGED,2022-02-08 14:13:08.000000000,2022-02-08 18:16:14.000000000,2022-02-08 18:07:23.000000000,"[{'_account_id': 16643}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-08 14:13:08.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/5f0a2810024470288366c301e802a761dc033283', 'message': 'Add Python 3 only classifier\n\nPython 2 support was removed during Ussuri cycle. This change adds\nthe classifier to clearly state that only Python 3 is supported.\n\nChange-Id: Ie472ca4a60b4b86d525b387dfa318439006b10bd\n'}]",1,828340,5f0a2810024470288366c301e802a761dc033283,7,2,1,9816,,,0,"Add Python 3 only classifier

Python 2 support was removed during Ussuri cycle. This change adds
the classifier to clearly state that only Python 3 is supported.

Change-Id: Ie472ca4a60b4b86d525b387dfa318439006b10bd
",git fetch https://review.opendev.org/openstack/python-manilaclient refs/changes/40/828340/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,5f0a2810024470288366c301e802a761dc033283,py3-only, Programming Language :: Python :: 3 :: Only,,1,0
openstack%2Fpuppet-openstack_extras~stable%2Fussuri~I166476a942159a091928f8dd8deda9f9195e3b8e,openstack/puppet-openstack_extras,stable/ussuri,I166476a942159a091928f8dd8deda9f9195e3b8e,"Revert ""Disable integration/beaker job""",MERGED,2022-02-04 12:56:43.000000000,2022-02-08 18:07:11.000000000,2022-02-08 18:07:11.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-04 12:56:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack_extras/commit/7fb26896f2f5ca71088d61f44cbe52b83737d642', 'message': 'Revert ""Disable integration/litmus job""\n\nThis reverts commit 846ad5098698b59d257eca3f074ffad2ec023aa8.\n\nChange-Id: I166476a942159a091928f8dd8deda9f9195e3b8e\n'}, {'number': 2, 'created': '2022-02-04 12:57:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack_extras/commit/0512a11d3fc48df4dc71c97bdf5c4bdc5a3bea85', 'message': 'Revert ""Disable integration/litmus job""\n\nThis reverts commit 846ad5098698b59d257eca3f074ffad2ec023aa8.\n\nDepends-on: https://review.opendev.org/827840\nChange-Id: I166476a942159a091928f8dd8deda9f9195e3b8e\n'}, {'number': 3, 'created': '2022-02-04 13:46:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack_extras/commit/3b93d4f4675cceb57c73ded9ec3865f58068dbb3', 'message': 'Revert ""Disable integration/litmus job""\n\nThis reverts commit 846ad5098698b59d257eca3f074ffad2ec023aa8.\n\nDepends-on: https://review.opendev.org/827840\nChange-Id: I166476a942159a091928f8dd8deda9f9195e3b8e\n'}, {'number': 4, 'created': '2022-02-05 08:59:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack_extras/commit/842ded02c582dac782a2772436290b1803e460eb', 'message': 'Revert ""Disable integration/beaker job""\n\nThis reverts commit 9cb16d1c9fdd0c31eaa16df29c4249d7768ef516.\n\nDepends-on: https://review.opendev.org/827840\nChange-Id: I166476a942159a091928f8dd8deda9f9195e3b8e\n'}, {'number': 5, 'created': '2022-02-05 08:59:17.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-openstack_extras/commit/1744edb487307ebc46789187df1397f8e846d0b3', 'message': 'Revert ""Disable integration/beaker job""\n\nThis reverts commit 9cb16d1c9fdd0c31eaa16df29c4249d7768ef516.\n\nDepends-on: https://review.opendev.org/827840\nChange-Id: I166476a942159a091928f8dd8deda9f9195e3b8e\n'}]",3,827855,1744edb487307ebc46789187df1397f8e846d0b3,19,3,5,9816,,,0,"Revert ""Disable integration/beaker job""

This reverts commit 9cb16d1c9fdd0c31eaa16df29c4249d7768ef516.

Depends-on: https://review.opendev.org/827840
Change-Id: I166476a942159a091928f8dd8deda9f9195e3b8e
",git fetch https://review.opendev.org/openstack/puppet-openstack_extras refs/changes/55/827855/3 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,7fb26896f2f5ca71088d61f44cbe52b83737d642,, - puppet-openstack-integration-jobs-all - puppet-openstack-beaker-jobs, #- puppet-openstack-integration-jobs-all #- puppet-openstack-beaker-jobs,2,2
openstack%2Fneutron-specs~master~I63f156c5bfb5a41e5ebf94dc8f069828569e270a,openstack/neutron-specs,master,I63f156c5bfb5a41e5ebf94dc8f069828569e270a,Use VNIC_REMOTE_MANAGED instead of VNIC_SMARTNIC,MERGED,2022-02-07 17:21:51.000000000,2022-02-08 17:50:12.000000000,2022-02-08 17:47:27.000000000,"[{'_account_id': 1131}, {'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 11604}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-07 17:21:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/84468ed4a722565e696185e249741ea56692c971', 'message': ""Use VNIC_REMOTE_MANAGED instead of VNIC_SMARTNIC\n\nAfter a round of reviews of Nova patches that utilized VNIC_SMARTNIC for\nthe off-path backend spec\n\nhttps://review.opendev.org/q/topic:2021-09-10-off-path-net-backends-dep\n\nit was determined that the Ironic's usage of VNIC_SMARTNIC would be\naffected by how the decision is made whether a port is remote-managed or\nnot during the resource request creation.\n\nhttps://review.opendev.org/c/openstack/nova/+/824835/13/nova/network/neutron.py#2325\n\nSee the following log for the relevant discussion:\n\nhttps://meetings.opendev.org/irclogs/%23openstack-nova/%23openstack-nova.2022-02-07.log.html#t2022-02-07T15:49:56\n\nTherefore, this change introduces a spec update to use a new VNIC\ntype.\n\nChange-Id: I63f156c5bfb5a41e5ebf94dc8f069828569e270a\n""}, {'number': 2, 'created': '2022-02-08 08:07:33.000000000', 'files': ['specs/yoga/off-path-smartnic-dpu-port-binding-with-ovn.rst'], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/7795bbd62ade1dbd24eeb74001ec4afeb14ac56f', 'message': ""Use VNIC_REMOTE_MANAGED instead of VNIC_SMARTNIC\n\nAfter a round of reviews of Nova patches that utilized VNIC_SMARTNIC for\nthe off-path backend spec\n\nhttps://review.opendev.org/q/topic:2021-09-10-off-path-net-backends-dep\n\nit was determined that the Ironic's usage of VNIC_SMARTNIC would be\naffected by how the decision is made whether a port is remote-managed or\nnot during the resource request creation.\n\nhttps://review.opendev.org/c/openstack/nova/+/824835/13/nova/network/neutron.py#2325\n\nSee the following log for the relevant discussion:\n\nhttps://meetings.opendev.org/irclogs/%23openstack-nova/%23openstack-nova.2022-02-07.log.html#t2022-02-07T15:49:56\n\nTherefore, this change introduces a spec update to use a new VNIC\ntype.\n\nNova spec: https://review.opendev.org/c/openstack/nova-specs/+/787458\nNova BP: https://blueprints.launchpad.net/nova/+spec/integration-with-off-path-network-backends\n\nPartial-Bug: #1932154\nChange-Id: I63f156c5bfb5a41e5ebf94dc8f069828569e270a\n""}]",5,828173,7795bbd62ade1dbd24eeb74001ec4afeb14ac56f,18,5,2,24824,,,0,"Use VNIC_REMOTE_MANAGED instead of VNIC_SMARTNIC

After a round of reviews of Nova patches that utilized VNIC_SMARTNIC for
the off-path backend spec

https://review.opendev.org/q/topic:2021-09-10-off-path-net-backends-dep

it was determined that the Ironic's usage of VNIC_SMARTNIC would be
affected by how the decision is made whether a port is remote-managed or
not during the resource request creation.

https://review.opendev.org/c/openstack/nova/+/824835/13/nova/network/neutron.py#2325

See the following log for the relevant discussion:

https://meetings.opendev.org/irclogs/%23openstack-nova/%23openstack-nova.2022-02-07.log.html#t2022-02-07T15:49:56

Therefore, this change introduces a spec update to use a new VNIC
type.

Nova spec: https://review.opendev.org/c/openstack/nova-specs/+/787458
Nova BP: https://blueprints.launchpad.net/nova/+spec/integration-with-off-path-network-backends

Partial-Bug: #1932154
Change-Id: I63f156c5bfb5a41e5ebf94dc8f069828569e270a
",git fetch https://review.opendev.org/openstack/neutron-specs refs/changes/73/828173/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/yoga/off-path-smartnic-dpu-port-binding-with-ovn.rst'],1,84468ed4a722565e696185e249741ea56692c971,bug/1932154," VNIC_REMOTE_MANAGED which it currently does not.that, the related Nova specification [7]_ relies on a new port type for the purposes of working with SmartNIC DPUs called ``VNIC_REMOTE_MANAGED``. The ``VNIC_SMARTNIC`` VNIC type already present in neutron-lib has been considered but it was found later that the fact that scheduling happens after resource request creation makes it to run into a conflict with the Ironic use-case). The OVN mechanism driver needs to be extended to also handle ``VNIC_REMOTE_MANAGED`` ports. It will allow the port binding code to pick the right code-path and trigger the representor port plugging logic in OVN."," VNIC_SMARTNIC which it currently does not.that, the related Nova specification [7]_ relies on a different port type (``VNIC_SMARTNIC`` already present in neutron-lib) for the purposes of working with SmartNIC DPUs. The OVN mechanism driver needs to be extended to also handle ``VNIC_SMARTNIC`` ports. It will allow the port binding code to pick the right code-path and trigger the representor port plugging logic in OVN.",9,7
openstack%2Fglance_store~master~I206580f6be615ebc5e15b546b9c23728d4116a5d,openstack/glance_store,master,I206580f6be615ebc5e15b546b9c23728d4116a5d,Cinder store: Wait for device resize,MERGED,2022-01-25 13:56:42.000000000,2022-02-08 17:49:35.000000000,2022-02-08 17:46:14.000000000,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 9303}, {'_account_id': 13671}, {'_account_id': 22348}, {'_account_id': 31779}, {'_account_id': 33502}, {'_account_id': 34290}]","[{'number': 1, 'created': '2022-01-25 13:56:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance_store/commit/d9b52461cde105a42db65f483b5c926373989ce6', 'message': 'WIP: Wait for device resize\n\nChange-Id: I206580f6be615ebc5e15b546b9c23728d4116a5d\n'}, {'number': 2, 'created': '2022-01-25 18:08:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance_store/commit/6754699bdc81f8ca1e5693e83f90048e48c0d5cc', 'message': 'WIP: Wait for device resize\n\nChange-Id: I206580f6be615ebc5e15b546b9c23728d4116a5d\n'}, {'number': 3, 'created': '2022-02-03 16:09:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance_store/commit/2b570db48046604253b8bada741e3c08f292d611', 'message': 'Cinder store: Wait for device resize\n\nWhen we have an image with size > 1 GB, we follow the following steps\nto accomodate the image:\n1) Detach the volume\n2) extend the volume\n3) Attach the volume\n4) Open the volume device as a file and resume writing the image\n\nSometimes due to several reasons (mostly network related), the\nsize of the device file could mismatch with the actual volume size\n(or the backend LUN size). This can happen if the extend was performed\n(i.e. the control path) but it takes the time to reflect that into\nthe mapped device (i.e. the data path). This mismatch can cause the\nissue ""IOError: [Errno 28] No space left on device"".\nTo avoid this scenario, we check if the device size is less than the\nvolume size, we wait for the extended LUN to show up in mapped device\nand then continue the image writing operation.\n\nCloses-Bug: #1959913\n\nChange-Id: I206580f6be615ebc5e15b546b9c23728d4116a5d\n'}, {'number': 4, 'created': '2022-02-04 07:14:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance_store/commit/5d8617d0371467aa4c34837eda682fcfe6c14ba1', 'message': 'Cinder store: Wait for device resize\n\nWhen we have an image with size > 1 GB, we follow the following steps\nto accomodate the image:\n1) Detach the volume\n2) extend the volume\n3) Attach the volume\n4) Open the volume device as a file and resume writing the image\n\nSometimes due to several reasons (mostly network related), the\nsize of the device file could mismatch with the actual volume size\n(or the backend LUN size). This can happen if the extend was performed\n(i.e. the control path) but it takes the time to reflect that into\nthe mapped device (i.e. the data path). This mismatch can cause the\nissue ""IOError: [Errno 28] No space left on device"".\nTo avoid this scenario, we check if the device size is less than the\nvolume size, we wait for the extended LUN to show up in mapped device\nand then continue the image writing operation.\n\nCloses-Bug: #1959913\n\nChange-Id: I206580f6be615ebc5e15b546b9c23728d4116a5d\n'}, {'number': 5, 'created': '2022-02-07 18:26:31.000000000', 'files': ['glance_store/tests/unit/test_cinder_store.py', 'releasenotes/notes/fix-wait-device-resize-c282940b71a3748e.yaml', 'glance_store/_drivers/cinder.py', 'glance_store/tests/unit/test_multistore_cinder.py'], 'web_link': 'https://opendev.org/openstack/glance_store/commit/f3433ed1a5176bff85b3fe04dba2d4c76618a299', 'message': 'Cinder store: Wait for device resize\n\nWhen we have an image with size > 1 GB, we follow the following steps\nto accomodate the image:\n1) Detach the volume\n2) extend the volume\n3) Attach the volume\n4) Open the volume device as a file and resume writing the image\n\nSometimes due to several reasons (mostly network related), the\nsize of the device file could mismatch with the actual volume size\n(or the backend LUN size). This can happen if the extend was performed\n(i.e. the control path) but it takes the time to reflect that into\nthe mapped device (i.e. the data path). This mismatch can cause the\nissue ""IOError: [Errno 28] No space left on device"".\nTo avoid this scenario, we check if the device size is less than the\nvolume size, we wait for the extended LUN to show up in mapped device\nand then continue the image writing operation.\n\nCloses-Bug: #1959913\n\nChange-Id: I206580f6be615ebc5e15b546b9c23728d4116a5d\n'}]",13,826290,f3433ed1a5176bff85b3fe04dba2d4c76618a299,24,8,5,27615,,,0,"Cinder store: Wait for device resize

When we have an image with size > 1 GB, we follow the following steps
to accomodate the image:
1) Detach the volume
2) extend the volume
3) Attach the volume
4) Open the volume device as a file and resume writing the image

Sometimes due to several reasons (mostly network related), the
size of the device file could mismatch with the actual volume size
(or the backend LUN size). This can happen if the extend was performed
(i.e. the control path) but it takes the time to reflect that into
the mapped device (i.e. the data path). This mismatch can cause the
issue ""IOError: [Errno 28] No space left on device"".
To avoid this scenario, we check if the device size is less than the
volume size, we wait for the extended LUN to show up in mapped device
and then continue the image writing operation.

Closes-Bug: #1959913

Change-Id: I206580f6be615ebc5e15b546b9c23728d4116a5d
",git fetch https://review.opendev.org/openstack/glance_store refs/changes/90/826290/1 && git format-patch -1 --stdout FETCH_HEAD,['glance_store/_drivers/cinder.py'],1,d9b52461cde105a42db65f483b5c926373989ce6,826290," def _get_device_size(self, device_file): device_size = os.stat(device_file.name).st_size device_size = int(math.ceil(float(device_size) / units.Gi)) return device_size def _wait_resize_device(self, volume, device_file): timeout = 30 max_recheck_wait = 15 tries = 0 elapsed = 0 while self._get_device_size(device_file) < volume.size: wait = min(0.5 * 2 ** tries, max_recheck_wait) time.sleep(wait) tries += 1 elapsed += wait if elapsed >= timeout: msg = (_('Timeout while waiting while volume %(volume_id)s ' 'to extend device %(device)s.') % {'volume_id': volume.id, 'device': device_file.name}) LOG.error(msg) raise exceptions.BackendException(msg) self._wait_resize_device(volume, f)",,23,0
openstack%2Foslo.db~master~If3db4e8c1b681c0c62d3f04a57f92802639b3b9b,openstack/oslo.db,master,If3db4e8c1b681c0c62d3f04a57f92802639b3b9b,utils: Remove troublesome utility methods,MERGED,2021-08-16 16:12:19.000000000,2022-02-08 17:49:22.000000000,2022-02-08 17:46:53.000000000,"[{'_account_id': 11816}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-08-16 16:12:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/519e62e04a46ede5c3de1963dbd2716f6693a3f1', 'message': 'utils: Remove troublesome utility methods\n\nThese are not compatible with SQLAlchemy 2.0 due to their reliance on\nnested transactions. We should deprecate them first but doing so would\npush the boat out further wrt how long we have to wait before achieving\ncompatibility with this new version.\n\nChange-Id: If3db4e8c1b681c0c62d3f04a57f92802639b3b9b\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 2, 'created': '2021-08-16 16:56:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/7013599c9e7c66e4d24ab01052153b994d593df9', 'message': 'utils: Remove troublesome utility methods\n\nThese are not compatible with SQLAlchemy 2.0 due to their reliance on\nnested transactions. We should deprecate them first but doing so would\npush the boat out further wrt how long we have to wait before achieving\ncompatibility with this new version.\n\nChange-Id: If3db4e8c1b681c0c62d3f04a57f92802639b3b9b\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 3, 'created': '2022-02-08 14:46:49.000000000', 'files': ['oslo_db/sqlalchemy/utils.py', 'oslo_db/sqlalchemy/test_fixtures.py', 'releasenotes/notes/remove-NotCommitting-utils-fed6df0e2f85edfa.yaml', 'oslo_db/tests/sqlalchemy/test_provision.py'], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/22c602f075795b6d5ecbbc2e229817f759613ea2', 'message': 'utils: Remove troublesome utility methods\n\nThese are not compatible with SQLAlchemy 2.0 due to their reliance on\nnested transactions. We should deprecate them first but doing so would\npush the boat out further wrt how long we have to wait before achieving\ncompatibility with this new version.\n\nChange-Id: If3db4e8c1b681c0c62d3f04a57f92802639b3b9b\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}]",9,804774,22c602f075795b6d5ecbbc2e229817f759613ea2,19,4,3,15334,,,0,"utils: Remove troublesome utility methods

These are not compatible with SQLAlchemy 2.0 due to their reliance on
nested transactions. We should deprecate them first but doing so would
push the boat out further wrt how long we have to wait before achieving
compatibility with this new version.

Change-Id: If3db4e8c1b681c0c62d3f04a57f92802639b3b9b
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/oslo.db refs/changes/74/804774/3 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_db/sqlalchemy/utils.py', 'oslo_db/sqlalchemy/test_fixtures.py', 'releasenotes/notes/remove-NotCommitting-utils-fed6df0e2f85edfa.yaml', 'oslo_db/tests/sqlalchemy/test_provision.py']",4,519e62e04a46ede5c3de1963dbd2716f6693a3f1,sqlalchemy-20,,"class RetainSchemaTest(test_base.BaseTestCase): DRIVER = ""sqlite"" def setUp(self): super(RetainSchemaTest, self).setUp() metadata = schema.MetaData() self.test_table = schema.Table( 'test_table', metadata, schema.Column('x', types.Integer), schema.Column('y', types.Integer), mysql_engine='InnoDB' ) def gen_schema(engine): metadata.create_all(engine, checkfirst=False) self._gen_schema = gen_schema def test_once(self): self._run_test() def test_twice(self): self._run_test() def _run_test(self): try: database_resource = provision.DatabaseResource( self.DRIVER, provision_new_database=True) except exception.BackendNotAvailable: self.skipTest(""database not available"") schema_resource = provision.SchemaResource( database_resource, self._gen_schema) schema = schema_resource.getResource() conn = schema.database.engine.connect() engine = utils.NonCommittingEngine(conn) with engine.connect() as conn: rows = conn.execute(self.test_table.select()) self.assertEqual([], rows.fetchall()) trans = conn.begin() conn.execute( self.test_table.insert(), {""x"": 1, ""y"": 2} ) trans.rollback() rows = conn.execute(self.test_table.select()) self.assertEqual([], rows.fetchall()) trans = conn.begin() conn.execute( self.test_table.insert(), {""x"": 2, ""y"": 3} ) trans.commit() rows = conn.execute(self.test_table.select()) self.assertEqual([(2, 3)], rows.fetchall()) engine._dispose() schema_resource.finishedWith(schema) class MySQLRetainSchemaTest(RetainSchemaTest): DRIVER = ""mysql"" class PostgresqlRetainSchemaTest(RetainSchemaTest): DRIVER = ""postgresql"" ",15,218
openstack%2Foslo.messaging~master~Id573e04c287e034e50626daf6e18a34735d45251,openstack/oslo.messaging,master,Id573e04c287e034e50626daf6e18a34735d45251,Adding support for rabbitmq quorum queues,MERGED,2021-09-08 06:40:38.000000000,2022-02-08 17:43:36.000000000,2022-02-08 14:57:32.000000000,"[{'_account_id': 6618}, {'_account_id': 9257}, {'_account_id': 10273}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 27252}, {'_account_id': 28522}, {'_account_id': 31039}, {'_account_id': 31245}]","[{'number': 1, 'created': '2021-09-08 06:40:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/2b498464b6e101e86ec3f21a529743833c42cf9c', 'message': 'Adding support for rabbitmq quorum queues\n\nhttps://www.rabbitmq.com/quorum-queues.html\n\nThe quorum queue is a modern queue type for RabbitMQ implementing a\ndurable, replicated FIFO queue based on the Raft consensus algorithm. It\nis available as of RabbitMQ 3.8.0.\n\nthe quorum queues can not be set by policy so this should be done when\ndeclaring the queue.\n\nTo declare a quorum queue set the x-queue-type queue argument to quorum\n(the default is classic). This argument must be provided by a client at\nqueue declaration time; it cannot be set or changed using a policy. This\nis because policy definition or applicable policy can be changed\ndynamically but queue type cannot. It must be specified at the time of\ndeclaration.\n\nits good for the oslo messaging to add support for that type of queue\nthat have multiple advantaged over mirroring.\n\nIf quorum queues are sets mirrored queues will be ignored.\n\nCloses-Bug: #1942933\nChange-Id: Id573e04c287e034e50626daf6e18a34735d45251\n'}, {'number': 2, 'created': '2021-09-08 07:11:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/5dbfc262c445d93b83a14d5b7f1500e831c354d0', 'message': 'Adding support for rabbitmq quorum queues\n\nhttps://www.rabbitmq.com/quorum-queues.html\n\nThe quorum queue is a modern queue type for RabbitMQ implementing a\ndurable, replicated FIFO queue based on the Raft consensus algorithm. It\nis available as of RabbitMQ 3.8.0.\n\nthe quorum queues can not be set by policy so this should be done when\ndeclaring the queue.\n\nTo declare a quorum queue set the x-queue-type queue argument to quorum\n(the default is classic). This argument must be provided by a client at\nqueue declaration time; it cannot be set or changed using a policy. This\nis because policy definition or applicable policy can be changed\ndynamically but queue type cannot. It must be specified at the time of\ndeclaration.\n\nits good for the oslo messaging to add support for that type of queue\nthat have multiple advantaged over mirroring.\n\nIf quorum queues are sets mirrored queues will be ignored.\n\nCloses-Bug: #1942933\nChange-Id: Id573e04c287e034e50626daf6e18a34735d45251\n'}, {'number': 3, 'created': '2021-09-15 19:46:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/df8ba7fb6abdb3fdbdcb2cfa662f88214288c630', 'message': 'Adding support for rabbitmq quorum queues\n\nhttps://www.rabbitmq.com/quorum-queues.html\n\nThe quorum queue is a modern queue type for RabbitMQ implementing a\ndurable, replicated FIFO queue based on the Raft consensus algorithm. It\nis available as of RabbitMQ 3.8.0.\n\nthe quorum queues can not be set by policy so this should be done when\ndeclaring the queue.\n\nTo declare a quorum queue set the x-queue-type queue argument to quorum\n(the default is classic). This argument must be provided by a client at\nqueue declaration time; it cannot be set or changed using a policy. This\nis because policy definition or applicable policy can be changed\ndynamically but queue type cannot. It must be specified at the time of\ndeclaration.\n\nits good for the oslo messaging to add support for that type of queue\nthat have multiple advantaged over mirroring.\n\nIf quorum queues are sets mirrored queues will be ignored.\n\nCloses-Bug: #1942933\nChange-Id: Id573e04c287e034e50626daf6e18a34735d45251\n'}, {'number': 4, 'created': '2021-09-15 19:53:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/075ce62ba2cc9cf0427155a9177fb0684aff2df3', 'message': 'Adding support for rabbitmq quorum queues\n\nhttps://www.rabbitmq.com/quorum-queues.html\n\nThe quorum queue is a modern queue type for RabbitMQ implementing a\ndurable, replicated FIFO queue based on the Raft consensus algorithm. It\nis available as of RabbitMQ 3.8.0.\n\nthe quorum queues can not be set by policy so this should be done when\ndeclaring the queue.\n\nTo declare a quorum queue set the x-queue-type queue argument to quorum\n(the default is classic). This argument must be provided by a client at\nqueue declaration time; it cannot be set or changed using a policy. This\nis because policy definition or applicable policy can be changed\ndynamically but queue type cannot. It must be specified at the time of\ndeclaration.\n\nits good for the oslo messaging to add support for that type of queue\nthat have multiple advantaged over mirroring.\n\nIf quorum queues are sets mirrored queues will be ignored.\n\nCloses-Bug: #1942933\nChange-Id: Id573e04c287e034e50626daf6e18a34735d45251\n'}, {'number': 5, 'created': '2021-09-15 19:57:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/c1f270a510b52c3391139a0cdaa0c911a7b7169a', 'message': 'Adding support for rabbitmq quorum queues\n\nhttps://www.rabbitmq.com/quorum-queues.html\n\nThe quorum queue is a modern queue type for RabbitMQ implementing a\ndurable, replicated FIFO queue based on the Raft consensus algorithm. It\nis available as of RabbitMQ 3.8.0.\n\nthe quorum queues can not be set by policy so this should be done when\ndeclaring the queue.\n\nTo declare a quorum queue set the x-queue-type queue argument to quorum\n(the default is classic). This argument must be provided by a client at\nqueue declaration time; it cannot be set or changed using a policy. This\nis because policy definition or applicable policy can be changed\ndynamically but queue type cannot. It must be specified at the time of\ndeclaration.\n\nits good for the oslo messaging to add support for that type of queue\nthat have multiple advantaged over mirroring.\n\nIf quorum queues are sets mirrored queues will be ignored.\n\nCloses-Bug: #1942933\nChange-Id: Id573e04c287e034e50626daf6e18a34735d45251\n'}, {'number': 6, 'created': '2021-09-15 21:23:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/4b2221b5d2bad7642f62d527948f5a50e2067087', 'message': 'Adding support for rabbitmq quorum queues\n\nhttps://www.rabbitmq.com/quorum-queues.html\n\nThe quorum queue is a modern queue type for RabbitMQ implementing a\ndurable, replicated FIFO queue based on the Raft consensus algorithm. It\nis available as of RabbitMQ 3.8.0.\n\nthe quorum queues can not be set by policy so this should be done when\ndeclaring the queue.\n\nTo declare a quorum queue set the x-queue-type queue argument to quorum\n(the default is classic). This argument must be provided by a client at\nqueue declaration time; it cannot be set or changed using a policy. This\nis because policy definition or applicable policy can be changed\ndynamically but queue type cannot. It must be specified at the time of\ndeclaration.\n\nits good for the oslo messaging to add support for that type of queue\nthat have multiple advantaged over mirroring.\n\nIf quorum queues are sets mirrored queues will be ignored.\n\nCloses-Bug: #1942933\nChange-Id: Id573e04c287e034e50626daf6e18a34735d45251\n'}, {'number': 7, 'created': '2021-09-15 21:29:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/8a8776e5949fda4e4b5a5c2a794544895e387d83', 'message': 'Adding support for rabbitmq quorum queues\n\nhttps://www.rabbitmq.com/quorum-queues.html\n\nThe quorum queue is a modern queue type for RabbitMQ implementing a\ndurable, replicated FIFO queue based on the Raft consensus algorithm. It\nis available as of RabbitMQ 3.8.0.\n\nthe quorum queues can not be set by policy so this should be done when\ndeclaring the queue.\n\nTo declare a quorum queue set the x-queue-type queue argument to quorum\n(the default is classic). This argument must be provided by a client at\nqueue declaration time; it cannot be set or changed using a policy. This\nis because policy definition or applicable policy can be changed\ndynamically but queue type cannot. It must be specified at the time of\ndeclaration.\n\nits good for the oslo messaging to add support for that type of queue\nthat have multiple advantaged over mirroring.\n\nIf quorum queues are sets mirrored queues will be ignored.\n\nCloses-Bug: #1942933\nChange-Id: Id573e04c287e034e50626daf6e18a34735d45251\n'}, {'number': 8, 'created': '2021-09-16 13:50:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/d1cb43cf3fcb972dca3e0b19f8f16a4d04302833', 'message': 'Adding support for rabbitmq quorum queues\n\nhttps://www.rabbitmq.com/quorum-queues.html\n\nThe quorum queue is a modern queue type for RabbitMQ implementing a\ndurable, replicated FIFO queue based on the Raft consensus algorithm. It\nis available as of RabbitMQ 3.8.0.\n\nthe quorum queues can not be set by policy so this should be done when\ndeclaring the queue.\n\nTo declare a quorum queue set the x-queue-type queue argument to quorum\n(the default is classic). This argument must be provided by a client at\nqueue declaration time; it cannot be set or changed using a policy. This\nis because policy definition or applicable policy can be changed\ndynamically but queue type cannot. It must be specified at the time of\ndeclaration.\n\nits good for the oslo messaging to add support for that type of queue\nthat have multiple advantaged over mirroring.\n\nIf quorum queues are sets mirrored queues will be ignored.\n\nCloses-Bug: #1942933\nChange-Id: Id573e04c287e034e50626daf6e18a34735d45251\n'}, {'number': 9, 'created': '2021-10-06 20:35:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/b938fe6a0541def59610e540c7d727920a68fb3b', 'message': 'Adding support for rabbitmq quorum queues\n\nhttps://www.rabbitmq.com/quorum-queues.html\n\nThe quorum queue is a modern queue type for RabbitMQ implementing a\ndurable, replicated FIFO queue based on the Raft consensus algorithm. It\nis available as of RabbitMQ 3.8.0.\n\nthe quorum queues can not be set by policy so this should be done when\ndeclaring the queue.\n\nTo declare a quorum queue set the x-queue-type queue argument to quorum\n(the default is classic). This argument must be provided by a client at\nqueue declaration time; it cannot be set or changed using a policy. This\nis because policy definition or applicable policy can be changed\ndynamically but queue type cannot. It must be specified at the time of\ndeclaration.\n\nits good for the oslo messaging to add support for that type of queue\nthat have multiple advantaged over mirroring.\n\nIf quorum queues are sets mirrored queues will be ignored.\n\nCloses-Bug: #1942933\nChange-Id: Id573e04c287e034e50626daf6e18a34735d45251\n'}, {'number': 10, 'created': '2021-10-06 21:55:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/18d97ea958bdde590bd0e3bcba595d8ca9ce9514', 'message': 'Adding support for rabbitmq quorum queues\n\nhttps://www.rabbitmq.com/quorum-queues.html\n\nThe quorum queue is a modern queue type for RabbitMQ implementing a\ndurable, replicated FIFO queue based on the Raft consensus algorithm. It\nis available as of RabbitMQ 3.8.0.\n\nthe quorum queues can not be set by policy so this should be done when\ndeclaring the queue.\n\nTo declare a quorum queue set the x-queue-type queue argument to quorum\n(the default is classic). This argument must be provided by a client at\nqueue declaration time; it cannot be set or changed using a policy. This\nis because policy definition or applicable policy can be changed\ndynamically but queue type cannot. It must be specified at the time of\ndeclaration.\n\nits good for the oslo messaging to add support for that type of queue\nthat have multiple advantaged over mirroring.\n\nIf quorum queues are sets mirrored queues will be ignored.\n\nCloses-Bug: #1942933\nChange-Id: Id573e04c287e034e50626daf6e18a34735d45251\n'}, {'number': 11, 'created': '2021-10-07 15:40:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/9e2ae43834d8d47ca7d4d9eaafe6a64049165b31', 'message': 'Adding support for rabbitmq quorum queues\n\nhttps://www.rabbitmq.com/quorum-queues.html\n\nThe quorum queue is a modern queue type for RabbitMQ implementing a\ndurable, replicated FIFO queue based on the Raft consensus algorithm. It\nis available as of RabbitMQ 3.8.0.\n\nthe quorum queues can not be set by policy so this should be done when\ndeclaring the queue.\n\nTo declare a quorum queue set the x-queue-type queue argument to quorum\n(the default is classic). This argument must be provided by a client at\nqueue declaration time; it cannot be set or changed using a policy. This\nis because policy definition or applicable policy can be changed\ndynamically but queue type cannot. It must be specified at the time of\ndeclaration.\n\nits good for the oslo messaging to add support for that type of queue\nthat have multiple advantaged over mirroring.\n\nIf quorum queues are sets mirrored queues will be ignored.\n\nCloses-Bug: #1942933\nChange-Id: Id573e04c287e034e50626daf6e18a34735d45251\n'}, {'number': 12, 'created': '2021-10-07 16:18:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/4beb29b8cf13d91f6ccd5416d7ae4eb74df2a997', 'message': 'Adding support for rabbitmq quorum queues\n\nhttps://www.rabbitmq.com/quorum-queues.html\n\nThe quorum queue is a modern queue type for RabbitMQ implementing a\ndurable, replicated FIFO queue based on the Raft consensus algorithm. It\nis available as of RabbitMQ 3.8.0.\n\nthe quorum queues can not be set by policy so this should be done when\ndeclaring the queue.\n\nTo declare a quorum queue set the x-queue-type queue argument to quorum\n(the default is classic). This argument must be provided by a client at\nqueue declaration time; it cannot be set or changed using a policy. This\nis because policy definition or applicable policy can be changed\ndynamically but queue type cannot. It must be specified at the time of\ndeclaration.\n\nits good for the oslo messaging to add support for that type of queue\nthat have multiple advantaged over mirroring.\n\nIf quorum queues are sets mirrored queues will be ignored.\n\nCloses-Bug: #1942933\nChange-Id: Id573e04c287e034e50626daf6e18a34735d45251\n'}, {'number': 13, 'created': '2021-10-07 16:38:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/84a8a4b2a87326e47b893322fbe014bc35465fd1', 'message': 'Adding support for rabbitmq quorum queues\n\nhttps://www.rabbitmq.com/quorum-queues.html\n\nThe quorum queue is a modern queue type for RabbitMQ implementing a\ndurable, replicated FIFO queue based on the Raft consensus algorithm. It\nis available as of RabbitMQ 3.8.0.\n\nthe quorum queues can not be set by policy so this should be done when\ndeclaring the queue.\n\nTo declare a quorum queue set the x-queue-type queue argument to quorum\n(the default is classic). This argument must be provided by a client at\nqueue declaration time; it cannot be set or changed using a policy. This\nis because policy definition or applicable policy can be changed\ndynamically but queue type cannot. It must be specified at the time of\ndeclaration.\n\nits good for the oslo messaging to add support for that type of queue\nthat have multiple advantaged over mirroring.\n\nIf quorum queues are sets mirrored queues will be ignored.\n\nCloses-Bug: #1942933\nChange-Id: Id573e04c287e034e50626daf6e18a34735d45251\n'}, {'number': 14, 'created': '2021-10-07 18:52:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/b1ac390407127eb49b8bbb334ef23992b7dbe885', 'message': 'Adding support for rabbitmq quorum queues\n\nhttps://www.rabbitmq.com/quorum-queues.html\n\nThe quorum queue is a modern queue type for RabbitMQ implementing a\ndurable, replicated FIFO queue based on the Raft consensus algorithm. It\nis available as of RabbitMQ 3.8.0.\n\nthe quorum queues can not be set by policy so this should be done when\ndeclaring the queue.\n\nTo declare a quorum queue set the x-queue-type queue argument to quorum\n(the default is classic). This argument must be provided by a client at\nqueue declaration time; it cannot be set or changed using a policy. This\nis because policy definition or applicable policy can be changed\ndynamically but queue type cannot. It must be specified at the time of\ndeclaration.\n\nits good for the oslo messaging to add support for that type of queue\nthat have multiple advantaged over mirroring.\n\nIf quorum queues are sets mirrored queues will be ignored.\n\nCloses-Bug: #1942933\nChange-Id: Id573e04c287e034e50626daf6e18a34735d45251\n'}, {'number': 15, 'created': '2021-10-07 19:56:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/919f3c4c43357fd7fd7ac1aaff889f8f8e9b6152', 'message': 'Adding support for rabbitmq quorum queues\n\nhttps://www.rabbitmq.com/quorum-queues.html\n\nThe quorum queue is a modern queue type for RabbitMQ implementing a\ndurable, replicated FIFO queue based on the Raft consensus algorithm. It\nis available as of RabbitMQ 3.8.0.\n\nthe quorum queues can not be set by policy so this should be done when\ndeclaring the queue.\n\nTo declare a quorum queue set the x-queue-type queue argument to quorum\n(the default is classic). This argument must be provided by a client at\nqueue declaration time; it cannot be set or changed using a policy. This\nis because policy definition or applicable policy can be changed\ndynamically but queue type cannot. It must be specified at the time of\ndeclaration.\n\nits good for the oslo messaging to add support for that type of queue\nthat have multiple advantaged over mirroring.\n\nIf quorum queues are sets mirrored queues will be ignored.\n\nCloses-Bug: #1942933\nChange-Id: Id573e04c287e034e50626daf6e18a34735d45251\n'}, {'number': 16, 'created': '2021-10-07 23:04:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/3bddd629519af1d10935074ae5d1db294ab3aabf', 'message': 'Adding support for rabbitmq quorum queues\n\nhttps://www.rabbitmq.com/quorum-queues.html\n\nThe quorum queue is a modern queue type for RabbitMQ implementing a\ndurable, replicated FIFO queue based on the Raft consensus algorithm. It\nis available as of RabbitMQ 3.8.0.\n\nthe quorum queues can not be set by policy so this should be done when\ndeclaring the queue.\n\nTo declare a quorum queue set the x-queue-type queue argument to quorum\n(the default is classic). This argument must be provided by a client at\nqueue declaration time; it cannot be set or changed using a policy. This\nis because policy definition or applicable policy can be changed\ndynamically but queue type cannot. It must be specified at the time of\ndeclaration.\n\nits good for the oslo messaging to add support for that type of queue\nthat have multiple advantaged over mirroring.\n\nIf quorum queues are sets mirrored queues will be ignored.\n\nCloses-Bug: #1942933\nChange-Id: Id573e04c287e034e50626daf6e18a34735d45251\n'}, {'number': 17, 'created': '2021-10-08 21:28:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/7e6f4f76635246f36e667a9f6df07bbba9963ce1', 'message': 'Adding support for rabbitmq quorum queues\n\nhttps://www.rabbitmq.com/quorum-queues.html\n\nThe quorum queue is a modern queue type for RabbitMQ implementing a\ndurable, replicated FIFO queue based on the Raft consensus algorithm. It\nis available as of RabbitMQ 3.8.0.\n\nthe quorum queues can not be set by policy so this should be done when\ndeclaring the queue.\n\nTo declare a quorum queue set the x-queue-type queue argument to quorum\n(the default is classic). This argument must be provided by a client at\nqueue declaration time; it cannot be set or changed using a policy. This\nis because policy definition or applicable policy can be changed\ndynamically but queue type cannot. It must be specified at the time of\ndeclaration.\n\nits good for the oslo messaging to add support for that type of queue\nthat have multiple advantaged over mirroring.\n\nIf quorum queues are sets mirrored queues will be ignored.\n\nCloses-Bug: #1942933\nChange-Id: Id573e04c287e034e50626daf6e18a34735d45251\n'}, {'number': 18, 'created': '2022-02-03 18:23:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/ebaae35c555a6d95b930e969f0e8eb972025a135', 'message': 'Adding support for rabbitmq quorum queues\n\nhttps://www.rabbitmq.com/quorum-queues.html\n\nThe quorum queue is a modern queue type for RabbitMQ implementing a\ndurable, replicated FIFO queue based on the Raft consensus algorithm. It\nis available as of RabbitMQ 3.8.0.\n\nthe quorum queues can not be set by policy so this should be done when\ndeclaring the queue.\n\nTo declare a quorum queue set the x-queue-type queue argument to quorum\n(the default is classic). This argument must be provided by a client at\nqueue declaration time; it cannot be set or changed using a policy. This\nis because policy definition or applicable policy can be changed\ndynamically but queue type cannot. It must be specified at the time of\ndeclaration.\n\nits good for the oslo messaging to add support for that type of queue\nthat have multiple advantaged over mirroring.\n\nIf quorum queues are sets mirrored queues will be ignored.\n\nCloses-Bug: #1942933\nChange-Id: Id573e04c287e034e50626daf6e18a34735d45251\n'}, {'number': 19, 'created': '2022-02-03 18:33:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/ea7980d573c06b04c42b2d652a580c66f8eac395', 'message': 'Adding support for rabbitmq quorum queues\n\nhttps://www.rabbitmq.com/quorum-queues.html\n\nThe quorum queue is a modern queue type for RabbitMQ implementing a\ndurable, replicated FIFO queue based on the Raft consensus algorithm. It\nis available as of RabbitMQ 3.8.0.\n\nthe quorum queues can not be set by policy so this should be done when\ndeclaring the queue.\n\nTo declare a quorum queue set the x-queue-type queue argument to quorum\n(the default is classic). This argument must be provided by a client at\nqueue declaration time; it cannot be set or changed using a policy. This\nis because policy definition or applicable policy can be changed\ndynamically but queue type cannot. It must be specified at the time of\ndeclaration.\n\nits good for the oslo messaging to add support for that type of queue\nthat have multiple advantaged over mirroring.\n\nIf quorum queues are sets mirrored queues will be ignored.\n\nCloses-Bug: #1942933\nChange-Id: Id573e04c287e034e50626daf6e18a34735d45251\n'}, {'number': 20, 'created': '2022-02-03 18:44:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/192000951f877e6e38a92d563dcd1af0d9263376', 'message': 'Adding support for rabbitmq quorum queues\n\nhttps://www.rabbitmq.com/quorum-queues.html\n\nThe quorum queue is a modern queue type for RabbitMQ implementing a\ndurable, replicated FIFO queue based on the Raft consensus algorithm. It\nis available as of RabbitMQ 3.8.0.\n\nthe quorum queues can not be set by policy so this should be done when\ndeclaring the queue.\n\nTo declare a quorum queue set the x-queue-type queue argument to quorum\n(the default is classic). This argument must be provided by a client at\nqueue declaration time; it cannot be set or changed using a policy. This\nis because policy definition or applicable policy can be changed\ndynamically but queue type cannot. It must be specified at the time of\ndeclaration.\n\nits good for the oslo messaging to add support for that type of queue\nthat have multiple advantaged over mirroring.\n\nIf quorum queues are sets mirrored queues will be ignored.\n\nCloses-Bug: #1942933\nChange-Id: Id573e04c287e034e50626daf6e18a34735d45251\n'}, {'number': 21, 'created': '2022-02-03 20:53:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/db991db3fbbe993fee90948454c050f7137ba0b4', 'message': 'Adding support for rabbitmq quorum queues\n\nhttps://www.rabbitmq.com/quorum-queues.html\n\nThe quorum queue is a modern queue type for RabbitMQ implementing a\ndurable, replicated FIFO queue based on the Raft consensus algorithm. It\nis available as of RabbitMQ 3.8.0.\n\nthe quorum queues can not be set by policy so this should be done when\ndeclaring the queue.\n\nTo declare a quorum queue set the x-queue-type queue argument to quorum\n(the default is classic). This argument must be provided by a client at\nqueue declaration time; it cannot be set or changed using a policy. This\nis because policy definition or applicable policy can be changed\ndynamically but queue type cannot. It must be specified at the time of\ndeclaration.\n\nits good for the oslo messaging to add support for that type of queue\nthat have multiple advantaged over mirroring.\n\nIf quorum queues are sets mirrored queues will be ignored.\n\nCloses-Bug: #1942933\nChange-Id: Id573e04c287e034e50626daf6e18a34735d45251\n'}, {'number': 22, 'created': '2022-02-04 20:28:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/0d74e247f25e7c84a8e9bd0da4fa1fec12149cd0', 'message': 'Adding support for rabbitmq quorum queues\n\nhttps://www.rabbitmq.com/quorum-queues.html\n\nThe quorum queue is a modern queue type for RabbitMQ implementing a\ndurable, replicated FIFO queue based on the Raft consensus algorithm. It\nis available as of RabbitMQ 3.8.0.\n\nthe quorum queues can not be set by policy so this should be done when\ndeclaring the queue.\n\nTo declare a quorum queue set the x-queue-type queue argument to quorum\n(the default is classic). This argument must be provided by a client at\nqueue declaration time; it cannot be set or changed using a policy. This\nis because policy definition or applicable policy can be changed\ndynamically but queue type cannot. It must be specified at the time of\ndeclaration.\n\nits good for the oslo messaging to add support for that type of queue\nthat have multiple advantaged over mirroring.\n\nIf quorum queues are sets mirrored queues will be ignored.\n\nCloses-Bug: #1942933\nChange-Id: Id573e04c287e034e50626daf6e18a34735d45251\n'}, {'number': 23, 'created': '2022-02-05 07:12:40.000000000', 'files': ['releasenotes/notes/adding_support_for_quorum_queues-3101d055b492289e.yaml', 'doc/source/admin/rabbit.rst', 'oslo_messaging/_drivers/impl_rabbit.py', 'oslo_messaging/_drivers/amqp.py'], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/7e8acbf87070354cd2438f3ab0821d035c2e7d92', 'message': 'Adding support for rabbitmq quorum queues\n\nhttps://www.rabbitmq.com/quorum-queues.html\n\nThe quorum queue is a modern queue type for RabbitMQ implementing a\ndurable, replicated FIFO queue based on the Raft consensus algorithm. It\nis available as of RabbitMQ 3.8.0.\n\nthe quorum queues can not be set by policy so this should be done when\ndeclaring the queue.\n\nTo declare a quorum queue set the x-queue-type queue argument to quorum\n(the default is classic). This argument must be provided by a client at\nqueue declaration time; it cannot be set or changed using a policy. This\nis because policy definition or applicable policy can be changed\ndynamically but queue type cannot. It must be specified at the time of\ndeclaration.\n\nits good for the oslo messaging to add support for that type of queue\nthat have multiple advantaged over mirroring.\n\nIf quorum queues are sets mirrored queues will be ignored.\n\nCloses-Bug: #1942933\nChange-Id: Id573e04c287e034e50626daf6e18a34735d45251\n'}]",86,807826,7e8acbf87070354cd2438f3ab0821d035c2e7d92,96,9,23,28522,,,0,"Adding support for rabbitmq quorum queues

https://www.rabbitmq.com/quorum-queues.html

The quorum queue is a modern queue type for RabbitMQ implementing a
durable, replicated FIFO queue based on the Raft consensus algorithm. It
is available as of RabbitMQ 3.8.0.

the quorum queues can not be set by policy so this should be done when
declaring the queue.

To declare a quorum queue set the x-queue-type queue argument to quorum
(the default is classic). This argument must be provided by a client at
queue declaration time; it cannot be set or changed using a policy. This
is because policy definition or applicable policy can be changed
dynamically but queue type cannot. It must be specified at the time of
declaration.

its good for the oslo messaging to add support for that type of queue
that have multiple advantaged over mirroring.

If quorum queues are sets mirrored queues will be ignored.

Closes-Bug: #1942933
Change-Id: Id573e04c287e034e50626daf6e18a34735d45251
",git fetch https://review.opendev.org/openstack/oslo.messaging refs/changes/26/807826/5 && git format-patch -1 --stdout FETCH_HEAD,['oslo_messaging/_drivers/impl_rabbit.py'],1,2b498464b6e101e86ec3f21a529743833c42cf9c,quorum-queues," cfg.BoolOpt('rabbit_quorum_queue', default=False, help='Try to use quorum queues in RabbitMQ ' '(x-queue-type: quorum). ' 'The quorum queue is a modern queue type for RabbitMQ ' 'implementing a durable, replicated FIFO queue based on the ' 'Raft consensus algorithm. It is available as of ' 'RabbitMQ 3.8.0. If set this option will take priority over ' 'the HA queues (``rabbit_ha_queues``) aka mirrored queues, ' 'in other words it will disable HA queues.'),def _get_queue_arguments(rabbit_ha_queues, rabbit_queue_ttl, rabbit_quorum_queue): If the rabbit_quorum_queue option is set, we try to declare a mirrored queue as described here: https://www.rabbitmq.com/quorum-queues.html Setting x-queue-type to quorum means that replicated FIFO queue based on the Raft consensus algorithm will be used. It is available as of RabbitMQ 3.8.0. If set this option will take priority over the HA queues (``rabbit_ha_queues``) aka mirrored queues, in other words HA queues will be ignored. if not rabbit_quorum_queue and rabbit_ha_queues: if rabbit_quorum_queue: args['x-queue-type'] = 'quorum' rabbit_quorum_queue=None, enable_cancel_on_failover=False): rabbit_queue_ttl, rabbit_quorum_queue) self.rabbit_quorum_queue = driver_conf.rabbit_quorum_queue rabbit_quorum_queue=self.rabbit_quorum_queue, rabbit_quorum_queue=self.rabbit_quorum_queue, rabbit_quorum_queue=self.rabbit_quorum_queue, queue_arguments=_get_queue_arguments( self.rabbit_ha_queues, 0, self.rabbit_quorum_queue))","def _get_queue_arguments(rabbit_ha_queues, rabbit_queue_ttl): if rabbit_ha_queues: enable_cancel_on_failover=False): rabbit_queue_ttl) queue_arguments=_get_queue_arguments(self.rabbit_ha_queues, 0))",38,5
openstack%2Fkolla-ansible~master~I6d5e0e4ab70922a772f3c82e914f9e7d37cf0318,openstack/kolla-ansible,master,I6d5e0e4ab70922a772f3c82e914f9e7d37cf0318,Glance: add lock_path setting,MERGED,2022-02-01 11:25:35.000000000,2022-02-08 17:31:15.000000000,2022-02-08 17:24:15.000000000,"[{'_account_id': 167}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}, {'_account_id': 32029}]","[{'number': 1, 'created': '2022-02-01 11:25:35.000000000', 'files': ['releasenotes/notes/bug-1959663-afda889b9aa4c63f.yaml', 'ansible/roles/glance/templates/glance-api.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/75305aa897cde1c840088e5bd0b409da44e8114a', 'message': 'Glance: add lock_path setting\n\nThis is required to use, e.g., Cinder iSCSI backend with Glance.\n\nCloses-Bug: #1959663\nChange-Id: I6d5e0e4ab70922a772f3c82e914f9e7d37cf0318\n'}]",3,827265,75305aa897cde1c840088e5bd0b409da44e8114a,17,5,1,30491,,,0,"Glance: add lock_path setting

This is required to use, e.g., Cinder iSCSI backend with Glance.

Closes-Bug: #1959663
Change-Id: I6d5e0e4ab70922a772f3c82e914f9e7d37cf0318
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/65/827265/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-1959663-afda889b9aa4c63f.yaml', 'ansible/roles/glance/templates/glance-api.conf.j2']",2,75305aa897cde1c840088e5bd0b409da44e8114a,bug/1959663,[oslo_concurrency] lock_path = /var/lib/glance/tmp ,,9,0
openstack%2Fos-resource-classes~master~Ic93f1c77230d859713ea9bc86065880efa91de7c,openstack/os-resource-classes,master,Ic93f1c77230d859713ea9bc86065880efa91de7c,Test all supported python version,MERGED,2021-11-25 00:16:28.000000000,2022-02-08 17:20:12.000000000,2022-02-08 17:08:22.000000000,"[{'_account_id': 7166}, {'_account_id': 7634}, {'_account_id': 9708}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-25 00:16:28.000000000', 'files': ['.zuul.yaml', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/os-resource-classes/commit/e532b71313058959976705ea3e18a45799b3cd47', 'message': ""Test all supported python version\n\nAs os-resource-classes is branchless which means same\nmaster code is run on stable branches too, let's test it\nwith all the python version supported in those stable branches.\n\nFor that, we need to explicitly add the pythn jobs instead of using\nthe release specific job template. This way, we will explicitly know\nthat we are testing all supported python versions and do not remove the\nolder py version testing when the new release template bumps the min python\nversion like done in Yoga.\n\nIn Yoga testing, we are making py3.9 job to run as voting, so\nadding py3.9 job as voting.\n\nChange-Id: Ic93f1c77230d859713ea9bc86065880efa91de7c\n""}]",2,819207,e532b71313058959976705ea3e18a45799b3cd47,9,4,1,8556,,,0,"Test all supported python version

As os-resource-classes is branchless which means same
master code is run on stable branches too, let's test it
with all the python version supported in those stable branches.

For that, we need to explicitly add the pythn jobs instead of using
the release specific job template. This way, we will explicitly know
that we are testing all supported python versions and do not remove the
older py version testing when the new release template bumps the min python
version like done in Yoga.

In Yoga testing, we are making py3.9 job to run as voting, so
adding py3.9 job as voting.

Change-Id: Ic93f1c77230d859713ea9bc86065880efa91de7c
",git fetch https://review.opendev.org/openstack/os-resource-classes refs/changes/07/819207/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'setup.cfg']",2,e532b71313058959976705ea3e18a45799b3cd47,py39-voting, Programming Language :: Python :: 3.8 Programming Language :: Python :: 3.9,,16,1
openstack%2Ftempest~master~Ic99ba61d87dfc24a684263d41e0caa4f54d1d263,openstack/tempest,master,Ic99ba61d87dfc24a684263d41e0caa4f54d1d263,Fix test_rebuild_server test by waiting for floating ip,MERGED,2021-10-15 00:07:05.000000000,2022-02-08 17:18:02.000000000,2022-01-28 20:23:38.000000000,"[{'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 30674}]","[{'number': 1, 'created': '2021-10-15 00:07:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/25c92bb03eeaebcf84dee5c5df484ac15aaa55b5', 'message': ""Fix test_rebuild_server by waiting for floating ip\n\nThe test could fail on an adresses mismatch when an ip wasn't\nassigned to either original or rebuilt server within a short\nperiod of time.\nThe commit implements a waiter for floating ip attachment which\nis used every time for original and rebuilt system if\nconnect_method == floating.\n\nCloses-Bug: #1945495\nChange-Id: Ic99ba61d87dfc24a684263d41e0caa4f54d1d263\n""}, {'number': 2, 'created': '2022-01-26 20:27:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/e3c2cd6ee97d9230729d7a61b2d8e8b7de0a04c8', 'message': ""Fix test_rebuild_server by waiting for floating ip\n\nThe test could fail on an adresses mismatch when an ip wasn't\nassigned to either original or rebuilt server within a short\nperiod of time.\nThe commit implements a waiter for floating ip attachment which\nis used every time for original and rebuilt system if\nconnect_method == floating.\n\nCloses-Bug: #1945495\nChange-Id: Ic99ba61d87dfc24a684263d41e0caa4f54d1d263\n""}, {'number': 3, 'created': '2022-01-27 15:40:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/3d44a6300c5c112e129e402291c2799b8fd2368a', 'message': ""Fix test_rebuild_server test by waiting for floating ip\n\nThe test could fail on an adresses mismatch when the test server\ndidn't have floating ip assigned yet at the beginning of the test.\n\nCloses-Bug: #1945495\nChange-Id: Ic99ba61d87dfc24a684263d41e0caa4f54d1d263\n""}, {'number': 4, 'created': '2022-01-28 08:02:44.000000000', 'files': ['tempest/common/compute.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/d4c9cc89f199899b20cfaea975ecd15ee66d3523', 'message': ""Fix test_rebuild_server test by waiting for floating ip\n\nThe test could fail on an adresses mismatch when the test server\ndidn't have floating ip assigned yet at the beginning of the test.\n\nCloses-Bug: #1945495\nChange-Id: Ic99ba61d87dfc24a684263d41e0caa4f54d1d263\n""}]",10,814085,d4c9cc89f199899b20cfaea975ecd15ee66d3523,25,4,4,22873,,,0,"Fix test_rebuild_server test by waiting for floating ip

The test could fail on an adresses mismatch when the test server
didn't have floating ip assigned yet at the beginning of the test.

Closes-Bug: #1945495
Change-Id: Ic99ba61d87dfc24a684263d41e0caa4f54d1d263
",git fetch https://review.opendev.org/openstack/tempest refs/changes/85/814085/3 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/api/compute/servers/test_server_actions.py', 'tempest/tests/common/test_waiters.py', 'tempest/common/waiters.py']",3,25c92bb03eeaebcf84dee5c5df484ac15aaa55b5,bug/1945495," def wait_for_floating_ip_attach(client, server_id): """"""Waits for a floating ip to be attached to a server"""""" start_time = int(time.time()) while True: server = client.show_server(server_id)['server'] for addresses in server['addresses'].values(): for address in addresses: if address['OS-EXT-IPS:type'] == 'floating': return server['addresses'] if int(time.time()) - start_time >= client.build_timeout: message = (""Any floating addresses hasn't got attached to the"" ""server %s within the required time (%s s)"" % (server_id, client.build_timeout)) raise lib_exc.TimeoutException(message) time.sleep(client.build_interval)",,57,3
openstack%2Fos-vif~stable%2Ftrain~I49f6ae3f0e6bfbf555c8284bfd70371ce90da0c7,openstack/os-vif,stable/train,I49f6ae3f0e6bfbf555c8284bfd70371ce90da0c7,Fix - os-vif fails to get the correct UpLink Representor,NEW,2020-12-08 11:24:53.000000000,2022-02-08 16:48:40.000000000,,"[{'_account_id': 11604}, {'_account_id': 12171}, {'_account_id': 22348}, {'_account_id': 28714}]","[{'number': 1, 'created': '2020-12-08 11:24:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-vif/commit/39f9bef58e7758164c30a63931f34aaa68c0df12', 'message': 'Fix - os-vif fails to get the correct UpLink Representor\n\nTill kernel 5.7 PF and VF representors are exposed as virtual device.\nThey are not linked to its parent PCI device like how uplink\nrepresentor is linked.\n\nStarting from kernel 5.8 due to new change [1] the PF and VF representors are\nlinked to their parent PCI device, and so ""get_ifname_by_pci_address"" fails\nto get the correct UpLink Representor.\n\nThis patch modifys the behviour of ""get_ifname_by_pci_address"" to\ncheck the physical port name of the netdev in\nvf_pci_addr_path/physfn/net to match the formart for the uplink ""p\\d+"".\n\n[1] https://git.kernel.org/pub/scm/linux/kernel/git/netdev/net.git/commit/?id=123f0f53dd64b67e34142485fe866a8a581f12f1\n\nCloses-Bug: #1892132\nChange-Id: I49f6ae3f0e6bfbf555c8284bfd70371ce90da0c7\n(cherry picked from commit b37de19c58c877f5174d76d0a4ba5ab519f464e8)\n'}, {'number': 2, 'created': '2020-12-16 08:20:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-vif/commit/00edcb6b639f80bd1b2efe7eb6b6ab35485ce4a7', 'message': 'Fix - os-vif fails to get the correct UpLink Representor\n\nTill kernel 5.7 PF and VF representors are exposed as virtual device.\nThey are not linked to its parent PCI device like how uplink\nrepresentor is linked.\n\nStarting from kernel 5.8 due to new change [1] the PF and VF representors are\nlinked to their parent PCI device, and so ""get_ifname_by_pci_address"" fails\nto get the correct UpLink Representor.\n\nThis patch modifys the behviour of ""get_ifname_by_pci_address"" to\ncheck the physical port name of the netdev in\nvf_pci_addr_path/physfn/net to match the formart for the uplink ""p\\d+"".\n\n[1] https://git.kernel.org/pub/scm/linux/kernel/git/netdev/net.git/commit/?id=123f0f53dd64b67e34142485fe866a8a581f12f1\n\nCloses-Bug: #1892132\nChange-Id: I49f6ae3f0e6bfbf555c8284bfd70371ce90da0c7\n(cherry picked from commit 8fa7d59be755ffcb61a37b493ed7a8e2b0c8757c)\n'}, {'number': 3, 'created': '2021-01-05 07:25:13.000000000', 'files': ['releasenotes/notes/bug-1892132-812e6d5ce0588ebb.yaml', 'vif_plug_ovs/linux_net.py', 'vif_plug_ovs/tests/unit/test_linux_net.py'], 'web_link': 'https://opendev.org/openstack/os-vif/commit/3c63ee065a53649c700121a7947c399f23dca95a', 'message': 'Fix - os-vif fails to get the correct UpLink Representor\n\nTill kernel 5.7 PF and VF representors are exposed as virtual device.\nThey are not linked to its parent PCI device like how uplink\nrepresentor is linked.\n\nStarting from kernel 5.8 due to new change [1] the PF and VF representors are\nlinked to their parent PCI device, and so ""get_ifname_by_pci_address"" fails\nto get the correct UpLink Representor.\n\nThis patch modifys the behviour of ""get_ifname_by_pci_address"" to\ncheck the physical port name of the netdev in\nvf_pci_addr_path/physfn/net to match the formart for the uplink ""p\\d+"".\n\n[1] https://git.kernel.org/pub/scm/linux/kernel/git/netdev/net.git/commit/?id=123f0f53dd64b67e34142485fe866a8a581f12f1\n\nCloses-Bug: #1892132\nChange-Id: I49f6ae3f0e6bfbf555c8284bfd70371ce90da0c7\n(cherry picked from commit 1226d46cc8bde9531821c68465a05292528142f0)\n'}]",0,765970,3c63ee065a53649c700121a7947c399f23dca95a,21,4,3,32296,,,0,"Fix - os-vif fails to get the correct UpLink Representor

Till kernel 5.7 PF and VF representors are exposed as virtual device.
They are not linked to its parent PCI device like how uplink
representor is linked.

Starting from kernel 5.8 due to new change [1] the PF and VF representors are
linked to their parent PCI device, and so ""get_ifname_by_pci_address"" fails
to get the correct UpLink Representor.

This patch modifys the behviour of ""get_ifname_by_pci_address"" to
check the physical port name of the netdev in
vf_pci_addr_path/physfn/net to match the formart for the uplink ""p\d+"".

[1] https://git.kernel.org/pub/scm/linux/kernel/git/netdev/net.git/commit/?id=123f0f53dd64b67e34142485fe866a8a581f12f1

Closes-Bug: #1892132
Change-Id: I49f6ae3f0e6bfbf555c8284bfd70371ce90da0c7
(cherry picked from commit 1226d46cc8bde9531821c68465a05292528142f0)
",git fetch https://review.opendev.org/openstack/os-vif refs/changes/70/765970/3 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-1892132-812e6d5ce0588ebb.yaml', 'vif_plug_ovs/linux_net.py', 'vif_plug_ovs/tests/unit/test_linux_net.py']",3,39f9bef58e7758164c30a63931f34aaa68c0df12,train-fix-swirchdev," @mock.patch.object(linux_net, ""_get_phys_port_name"") self, mock__get_phys_port_name, mock__get_phys_switch_id, mock_listdir): mock__get_phys_port_name.side_effect = ([""p1""]) @mock.patch.object(linux_net, ""_get_phys_switch_id"") @mock.patch.object(linux_net, ""_get_phys_port_name"") self, mock__get_phys_port_name, mock__get_phys_switch_id, mock_listdir): mock__get_phys_port_name.side_effect = ([""p1s0""]) @mock.patch.object(linux_net, ""_get_phys_switch_id"") @mock.patch.object(linux_net, ""_get_phys_port_name"") def test_physical_function_interface_name_with_representors( self, mock__get_phys_port_name, mock__get_phys_switch_id, mock_listdir): # Get the PF that matches the phys_port_name regex mock_listdir.return_value = ['enp2s0f0_0', 'enp2s0f0_1', 'enp2s0f0'] mock__get_phys_switch_id.side_effect = ( ['valid_switch', 'valid_switch', 'valid_switch']) mock__get_phys_port_name.side_effect = ([""pf0vf0"", ""pf0vf1"", ""p0""]) ifname = linux_net.get_ifname_by_pci_address( '0000:00:00.1', pf_interface=True, switchdev=True) self.assertEqual(ifname, 'enp2s0f0') @mock.patch.object(os, 'listdir') @mock.patch.object(linux_net, ""_get_phys_switch_id"") @mock.patch.object(linux_net, ""_get_phys_port_name"") def test_physical_function_interface_name_with_fallback_To_first_netdev( self, mock__get_phys_port_name, mock__get_phys_switch_id, mock_listdir): # Try with switchdev mode to get PF but fail because there is no match # for the phys_port_name then fallback to first interface found mock_listdir.return_value = ['enp2s0f0_0', 'enp2s0f0_1', 'enp2s0f0'] mock__get_phys_switch_id.side_effect = (['valid_switch', 'valid_switch', 'valid_switch']) mock__get_phys_port_name.side_effect = ([""pf0vf0"", ""pf0vf1"", ""pf0vf2""]) ifname = linux_net.get_ifname_by_pci_address( '0000:00:00.1', pf_interface=True, switchdev=True) self.assertEqual(ifname, 'enp2s0f0_0') @mock.patch.object(os, 'listdir')"," self, mock__get_phys_switch_id, mock_listdir): @mock.patch.object(linux_net, '_get_phys_switch_id') self, mock__get_phys_switch_id, mock_listdir):",74,8
openstack%2Fos-vif~stable%2Ftrain~I3fdbea4f48cb79ebfd03a4da21e2232ccafb7a76,openstack/os-vif,stable/train,I3fdbea4f48cb79ebfd03a4da21e2232ccafb7a76,Refactor code of linux_net to more cleaner and increase performace,NEW,2020-12-08 07:37:45.000000000,2022-02-08 16:48:37.000000000,,"[{'_account_id': 11604}, {'_account_id': 12171}, {'_account_id': 22348}, {'_account_id': 28714}]","[{'number': 1, 'created': '2020-12-08 07:37:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-vif/commit/7f05023b8389c2184565b4ae9cae82487198bc06', 'message': 'Refactor code of linux_net to more cleaner and increase performace\n\nThe patch adds new functions \'_get_phys_port_name\' for reading physical\nport name of the SR-IOV port and \'_get_phys_switch_id\' for reading\nphysical port switch ID of the SR-IOV port, in addition to refactoring\n\'get_representor_port\' to use the new functions and decrease calls for\n""_get_pf_func"" and netdevs associated with the PF will now be processed\nin the loop, however it will not be matching \'phys_port_name\' which\nensures the correct behaviour.\n\nIn addition to updating the unit test for linux_net and remove not\nneeded mocks\n\nRelated-Bug: #1892132\nChange-Id: I3fdbea4f48cb79ebfd03a4da21e2232ccafb7a76\n(cherry picked from commit 76f7565b99e637d74878955a0033f35e9eb0e13f)\n'}, {'number': 2, 'created': '2020-12-09 08:25:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-vif/commit/5b69b8cd6b88547b062da7435157b5ded41bee58', 'message': 'Refactor code of linux_net to more cleaner and increase performace\n\nThe patch adds new functions \'_get_phys_port_name\' for reading physical\nport name of the SR-IOV port and \'_get_phys_switch_id\' for reading\nphysical port switch ID of the SR-IOV port, in addition to refactoring\n\'get_representor_port\' to use the new functions and decrease calls for\n""_get_pf_func"" and netdevs associated with the PF will now be processed\nin the loop, however it will not be matching \'phys_port_name\' which\nensures the correct behaviour.\n\nIn addition to updating the unit test for linux_net and remove not\nneeded mocks\n\nRelated-Bug: #1892132\nChange-Id: I3fdbea4f48cb79ebfd03a4da21e2232ccafb7a76\n(cherry picked from commit 76f7565b99e637d74878955a0033f35e9eb0e13f)\n'}, {'number': 3, 'created': '2020-12-13 10:52:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-vif/commit/aa21fd38f6a34b071859ed26a9e85894b7390a0b', 'message': 'Refactor code of linux_net to more cleaner and increase performace\n\nThe patch adds new functions \'_get_phys_port_name\' for reading physical\nport name of the SR-IOV port and \'_get_phys_switch_id\' for reading\nphysical port switch ID of the SR-IOV port, in addition to refactoring\n\'get_representor_port\' to use the new functions and decrease calls for\n""_get_pf_func"" and netdevs associated with the PF will now be processed\nin the loop, however it will not be matching \'phys_port_name\' which\nensures the correct behaviour.\n\nIn addition to updating the unit test for linux_net and remove not\nneeded mocks\n\nRelated-Bug: #1892132\nChange-Id: I3fdbea4f48cb79ebfd03a4da21e2232ccafb7a76\n(cherry picked from commit 76f7565b99e637d74878955a0033f35e9eb0e13f)\n(cherry picked from commit 167bb030f1143f37ce189673d831bd572f64d4ad)\n(cherry picked from commit a8270fd85a0edb5e5808bb5e777a63a309b5d38a)\n'}, {'number': 4, 'created': '2020-12-14 13:15:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-vif/commit/c3e25c7e7a871d317b82549f66721d786b51a801', 'message': 'Refactor code of linux_net to more cleaner and increase performace\n\nThe patch adds new functions \'_get_phys_port_name\' for reading physical\nport name of the SR-IOV port and \'_get_phys_switch_id\' for reading\nphysical port switch ID of the SR-IOV port, in addition to refactoring\n\'get_representor_port\' to use the new functions and decrease calls for\n""_get_pf_func"" and netdevs associated with the PF will now be processed\nin the loop, however it will not be matching \'phys_port_name\' which\nensures the correct behaviour.\n\nIn addition to updating the unit test for linux_net and remove not\nneeded mocks\n\nRelated-Bug: #1892132\nChange-Id: I3fdbea4f48cb79ebfd03a4da21e2232ccafb7a76\n(cherry picked from commit 1255c4280b415d89f9de7a756c4666d948712801)\n'}, {'number': 5, 'created': '2020-12-31 09:54:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-vif/commit/17496c060c30802d0647ec4b6ee2d1fe21416620', 'message': 'Refactor code of linux_net to more cleaner and increase performace\n\nThe patch adds new functions \'_get_phys_port_name\' for reading physical\nport name of the SR-IOV port and \'_get_phys_switch_id\' for reading\nphysical port switch ID of the SR-IOV port, in addition to refactoring\n\'get_representor_port\' to use the new functions and decrease calls for\n""_get_pf_func"" and netdevs associated with the PF will now be processed\nin the loop, however it will not be matching \'phys_port_name\' which\nensures the correct behaviour.\n\nIn addition to updating the unit test for linux_net and remove not\nneeded mocks\n\nRelated-Bug: #1892132\nChange-Id: I3fdbea4f48cb79ebfd03a4da21e2232ccafb7a76\n(cherry picked from commit 3e1d898b752c327165aeca1fec0919d858a87ec4)\n'}, {'number': 6, 'created': '2021-01-05 07:17:15.000000000', 'files': ['vif_plug_ovs/linux_net.py', 'vif_plug_ovs/tests/unit/test_linux_net.py'], 'web_link': 'https://opendev.org/openstack/os-vif/commit/cda2a020f1ef92ebdd62c592cbad987977f240e6', 'message': 'Refactor code of linux_net to more cleaner and increase performace\n\nThe patch adds new functions \'_get_phys_port_name\' for reading physical\nport name of the SR-IOV port and \'_get_phys_switch_id\' for reading\nphysical port switch ID of the SR-IOV port, in addition to refactoring\n\'get_representor_port\' to use the new functions and decrease calls for\n""_get_pf_func"" and netdevs associated with the PF will now be processed\nin the loop, however it will not be matching \'phys_port_name\' which\nensures the correct behaviour.\n\nIn addition to updating the unit test for linux_net and remove not\nneeded mocks\n\nRelated-Bug: #1892132\nChange-Id: I3fdbea4f48cb79ebfd03a4da21e2232ccafb7a76\n(cherry picked from commit 3e1d898b752c327165aeca1fec0919d858a87ec4)\n'}]",4,765912,cda2a020f1ef92ebdd62c592cbad987977f240e6,33,4,6,32296,,,0,"Refactor code of linux_net to more cleaner and increase performace

The patch adds new functions '_get_phys_port_name' for reading physical
port name of the SR-IOV port and '_get_phys_switch_id' for reading
physical port switch ID of the SR-IOV port, in addition to refactoring
'get_representor_port' to use the new functions and decrease calls for
""_get_pf_func"" and netdevs associated with the PF will now be processed
in the loop, however it will not be matching 'phys_port_name' which
ensures the correct behaviour.

In addition to updating the unit test for linux_net and remove not
needed mocks

Related-Bug: #1892132
Change-Id: I3fdbea4f48cb79ebfd03a4da21e2232ccafb7a76
(cherry picked from commit 3e1d898b752c327165aeca1fec0919d858a87ec4)
",git fetch https://review.opendev.org/openstack/os-vif refs/changes/12/765912/4 && git format-patch -1 --stdout FETCH_HEAD,"['vif_plug_ovs/linux_net.py', 'vif_plug_ovs/tests/unit/test_linux_net.py']",2,7f05023b8389c2184565b4ae9cae82487198bc06,train-refactor-linux-net," @mock.patch.object(linux_net, '_get_phys_switch_id') def test_is_switchdev_ioerror(self, mock__get_phys_switch_id): mock__get_phys_switch_id.side_effect = ([IOError()]) @mock.patch.object(linux_net, '_get_phys_switch_id') def test_is_switchdev_empty(self, mock__get_phys_switch_id): mock__get_phys_switch_id.return_value = '' @mock.patch.object(linux_net, '_get_phys_switch_id') def test_is_switchdev_positive(self, mock__get_phys_switch_id): mock__get_phys_switch_id.return_value = 'pf_sw_id' @mock.patch.object(linux_net, ""_get_pf_func"") @mock.patch.object(linux_net, ""_get_phys_port_name"") @mock.patch.object(linux_net, '_get_phys_switch_id') def test_get_representor_port(self, mock__get_phys_switch_id, mock__get_phys_port_name, mock__get_pf_func, mock_listdir): mock__get_phys_switch_id.return_value = 'pf_sw_id' mock__get_pf_func.return_value = ""0"" mock__get_phys_port_name.side_effect = (['1', ""pf0vf1"", ""pf0vf2""]) @mock.patch.object(linux_net, ""_get_pf_func"") @mock.patch.object(linux_net, ""_get_phys_port_name"") @mock.patch.object(linux_net, ""_get_phys_switch_id"") self, mock__get_phys_switch_id, mock__get_phys_port_name, mock__get_pf_func, mock_listdir): mock__get_phys_switch_id.return_value = 'pf_sw_id' mock__get_pf_func.return_value = ""2"" mock__get_phys_port_name.side_effect = ( [""p1"", ""p2"", ""VF1@PF1"", ""pf2vf1"", ""vf2@pf1"", ""pf2vf2""]) @mock.patch.object(linux_net, ""_get_pf_func"") @mock.patch.object(linux_net, ""_get_phys_switch_id"") @mock.patch.object(linux_net, ""_get_phys_port_name"") self, mock__get_phys_port_name, mock__get_phys_switch_id, mock__get_pf_func, mock_listdir): mock__get_phys_switch_id.return_value = 'pf_sw_id' mock__get_pf_func.return_value = ""0"" mock__get_phys_port_name.side_effect = ( [""p0"", ""1"", ""2""]) @mock.patch.object(linux_net, ""_get_pf_func"") @mock.patch.object(linux_net, ""_get_phys_port_name"") @mock.patch.object(linux_net, ""_get_phys_switch_id"") self, mock__get_phys_switch_id, mock__get_phys_port_name, mock__get_pf_func, mock_listdir): mock__get_phys_switch_id.side_effect = ( mock__get_pf_func.return_value = ""0"" mock__get_phys_port_name.side_effect = ( [""p0"", ""pf0vf0"", ""pf0vf1""]) @mock.patch.object(linux_net, ""_get_pf_func"") @mock.patch.object(linux_net, ""_get_phys_port_name"") @mock.patch.object(linux_net, ""_get_phys_switch_id"") self, mock__get_phys_switch_id, mock__get_phys_port_name, mock__get_pf_func, mock_listdir): mock__get_phys_switch_id.return_value = 'pf_sw_id' mock__get_phys_port_name.side_effect = (['p0', '1', 'a']) mock__get_pf_func.return_value = ""0"" @mock.patch.object(linux_net, '_get_phys_switch_id') def test_physical_function_interface_name( self, mock__get_phys_switch_id, mock_listdir): mock__get_phys_switch_id.side_effect = ( @mock.patch.object(linux_net, '_get_phys_switch_id') def test_physical_function_interface_name_with_switchdev( self, mock__get_phys_switch_id, mock_listdir): mock__get_phys_switch_id.side_effect = ( @mock.patch('six.moves.builtins.open') @mock.patch.object(os.path, 'isfile') def test__get_phys_port_name(self, mock_isfile, mock_open): mock_open.return_value.__enter__ = lambda s: s readline_mock = mock_open.return_value.readline readline_mock.return_value = 'pf0vf0' mock_isfile.return_value = True phys_port_name = linux_net._get_phys_port_name(""vf_ifname"") self.assertEqual(phys_port_name, 'pf0vf0') @mock.patch.object(os.path, 'isfile') def test__get_phys_port_name_not_found(self, mock_isfile): mock_isfile.return_value = False phys_port_name = linux_net._get_phys_port_name(""vf_ifname"") self.assertIsNone(phys_port_name) @mock.patch('six.moves.builtins.open') @mock.patch.object(os.path, 'isfile') def test__get_phys_switch_id(self, mock_isfile, mock_open): mock_open.return_value.__enter__ = lambda s: s readline_mock = mock_open.return_value.readline readline_mock.return_value = '66e40000039b0398' mock_isfile.return_value = True phys_port_name = linux_net._get_phys_switch_id(""ifname"") self.assertEqual(phys_port_name, '66e40000039b0398') @mock.patch.object(os.path, 'isfile') def test__get_phys_switch_id_not_found(self, mock_isfile): mock_isfile.return_value = False phys_port_name = linux_net._get_phys_switch_id(""ifname"") self.assertIsNone(phys_port_name)"," @mock.patch('six.moves.builtins.open') @mock.patch.object(os.path, 'isfile') def test_is_switchdev_ioerror(self, mock_isfile, mock_open): mock_isfile.side_effect = [True] mock_open.return_value.__enter__ = lambda s: s readline_mock = mock_open.return_value.readline readline_mock.side_effect = ( [IOError()]) @mock.patch('six.moves.builtins.open') @mock.patch.object(os.path, 'isfile') def test_is_switchdev_empty(self, mock_isfile, mock_open): mock_isfile.side_effect = [True] mock_open.return_value.__enter__ = lambda s: s readline_mock = mock_open.return_value.readline readline_mock.side_effect = ( ['']) open_calls = ( [mock.call('/sys/class/net/pf_ifname/phys_switch_id', 'r'), mock.call().readline(), mock.call().__exit__(None, None, None)]) mock_open.assert_has_calls(open_calls) @mock.patch('six.moves.builtins.open') @mock.patch.object(os.path, 'isfile') def test_is_switchdev_positive(self, mock_isfile, mock_open): mock_isfile.side_effect = [True] mock_open.return_value.__enter__ = lambda s: s readline_mock = mock_open.return_value.readline readline_mock.side_effect = ( ['pf_sw_id']) open_calls = ( [mock.call('/sys/class/net/pf_ifname/phys_switch_id', 'r'), mock.call().readline(), mock.call().__exit__(None, None, None)]) mock_open.assert_has_calls(open_calls) @mock.patch('six.moves.builtins.open') @mock.patch.object(os.path, 'isfile') @mock.patch.object(linux_net, ""get_function_by_ifname"") def test_get_representor_port(self, mock_get_function_by_ifname, mock_listdir, mock_isfile, mock_open): mock_isfile.side_effect = [True, True] mock_open.return_value.__enter__ = lambda s: s readline_mock = mock_open.return_value.readline readline_mock.side_effect = ( ['pf_sw_id', 'pf_sw_id', '1', 'pf_sw_id', 'pf0vf2']) # PCI IDs mocked: # PF0: 0000:0a:00.0 # PF0VF1: 0000:0a:02.1 PF0VF2: 0000:0a:02.2 mock_get_function_by_ifname.side_effect = ( [(""0000:0a:00.0"", True), (""0000:0a:02.1"", False), (""0000:0a:02.2"", False), (""0000:0a:00.0"", True)]) open_calls = ( [mock.call('/sys/class/net/pf_ifname/phys_switch_id', 'r'), mock.call().readline(), mock.call().__exit__(None, None, None), mock.call('/sys/class/net/rep_vf_1/phys_switch_id', 'r'), mock.call().readline(), mock.call().__exit__(None, None, None), mock.call('/sys/class/net/rep_vf_1/phys_port_name', 'r'), mock.call().readline(), mock.call().__exit__(None, None, None), mock.call('/sys/class/net/rep_vf_2/phys_switch_id', 'r'), mock.call().readline(), mock.call().__exit__(None, None, None), mock.call('/sys/class/net/rep_vf_2/phys_port_name', 'r'), mock.call().readline(), mock.call().__exit__(None, None, None)]) mock_open.assert_has_calls(open_calls) @mock.patch('six.moves.builtins.open') @mock.patch.object(os.path, 'isfile') @mock.patch.object(linux_net, ""get_function_by_ifname"") self, mock_get_function_by_ifname, mock_listdir, mock_isfile, mock_open): mock_isfile.side_effect = [True, True, True, True] mock_open.return_value.__enter__ = lambda s: s readline_mock = mock_open.return_value.readline readline_mock.side_effect = ( ['pf_sw_id', 'pf_sw_id', 'VF1@PF1', 'pf_sw_id', 'vf2@pf1', 'pf_sw_id', 'pf2vf1', 'pf_sw_id', 'pf2vf2']) # PCI IDs mocked: # PF1: 0000:0a:00.1 PF2: 0000:0a:00.2 # PF1VF1: 0000:0a:02.1 PF1VF2: 0000:0a:02.2 # PF2VF1: 0000:0a:04.1 PF2VF2: 0000:0a:04.2 mock_get_function_by_ifname.side_effect = ( [(""0000:0a:00.1"", True), (""0000:0a:00.2"", True), (""0000:0a:02.1"", False), (""0000:0a:00.2"", True), (""0000:0a:02.2"", False), (""0000:0a:00.2"", True), (""0000:0a:04.1"", False), (""0000:0a:00.2"", True), (""0000:0a:04.2"", False), (""0000:0a:00.2"", True)]) @mock.patch('six.moves.builtins.open') @mock.patch.object(os.path, 'isfile') @mock.patch.object(linux_net, ""get_function_by_ifname"") self, mock_get_function_by_ifname, mock_listdir, mock_isfile, mock_open): mock_isfile.side_effect = [True, True] mock_open.return_value.__enter__ = lambda s: s readline_mock = mock_open.return_value.readline readline_mock.side_effect = ( ['pf_sw_id', 'pf_sw_id', '1', 'pf_sw_id', '2']) # PCI IDs mocked: # PF0: 0000:0a:00.0 # PF0VF1: 0000:0a:02.1 PF0VF2: 0000:0a:02.2 mock_get_function_by_ifname.side_effect = ( [(""0000:0a:00.0"", True), (""0000:0a:02.1"", False), (""0000:0a:02.2"", False)]) @mock.patch('six.moves.builtins.open') @mock.patch.object(os.path, 'isfile') @mock.patch.object(linux_net, ""get_function_by_ifname"") self, mock_get_function_by_ifname, mock_listdir, mock_isfile, mock_open): mock_isfile.side_effect = [True, True] mock_open.return_value.__enter__ = lambda s: s readline_mock = mock_open.return_value.readline readline_mock.side_effect = ( # PCI IDs mocked: # PF0: 0000:0a:00.0 # PF0VF1: 0000:0a:02.1 PF0VF2: 0000:0a:02.2 mock_get_function_by_ifname.side_effect = ( [(""0000:0a:00.0"", True), (""0000:0a:02.1"", False), (""0000:0a:02.2"", False), (""0000:0a:00.0"", True)]) @mock.patch('six.moves.builtins.open') @mock.patch.object(os.path, 'isfile') @mock.patch.object(linux_net, ""get_function_by_ifname"") self, mock_get_function_by_ifname, mock_listdir, mock_isfile, mock_open): mock_isfile.side_effect = [True, True] mock_open.return_value.__enter__ = lambda s: s readline_mock = mock_open.return_value.readline readline_mock.side_effect = ( ['pf_sw_id', 'pf_sw_id', '1', 'pf_sw_id', 'a']) # PCI IDs mocked: # PF0: 0000:0a:00.0 # PF0VF1: 0000:0a:02.1 PF0VF2: 0000:0a:02.2 mock_get_function_by_ifname.side_effect = ( [(""0000:0a:00.0"", True), (""0000:0a:02.1"", False), (""0000:0a:02.2"", False)]) @mock.patch('six.moves.builtins.open') @mock.patch.object(os.path, 'isfile') def test_physical_function_inferface_name( self, mock_listdir, mock_isfile, mock_open): mock_isfile.side_effect = [True, True] mock_open.return_value.__enter__ = lambda s: s readline_mock = mock_open.return_value.readline readline_mock.side_effect = ( @mock.patch('six.moves.builtins.open') @mock.patch.object(os.path, 'isfile') def test_physical_function_inferface_name_with_switchdev( self, mock_listdir, mock_isfile, mock_open): mock_isfile.side_effect = [True, True] mock_open.return_value.__enter__ = lambda s: s readline_mock = mock_open.return_value.readline readline_mock.side_effect = (",139,187
openstack%2Fnova-specs~master~I3bb152d1c823b0e3f8a85f3f3f368a76bdfbe033,openstack/nova-specs,master,I3bb152d1c823b0e3f8a85f3f3f368a76bdfbe033,Avoid Sphinx 4.4.0 to fix specs doc build,MERGED,2022-02-08 15:40:44.000000000,2022-02-08 16:38:24.000000000,2022-02-08 16:33:16.000000000,"[{'_account_id': 7166}, {'_account_id': 8556}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-08 15:40:44.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/44ccb9898f8be846a9cd11dc9b11887c7f746f1a', 'message': 'Avoid Sphinx 4.4.0 to fix specs doc build\n\nIt seems Sphinx 4.4.0 made the _`[1]` type of references global. These\nwere document local references in the past. The nova spec repo has\nmultiple documents reusing such reference labels. So with 4.4.0 the doc\nbuild fails with duplicate reference error.\n\nThis patch pins the Sphinx version to unblock the doc build job.\n\nChange-Id: I3bb152d1c823b0e3f8a85f3f3f368a76bdfbe033\n'}]",2,828368,44ccb9898f8be846a9cd11dc9b11887c7f746f1a,9,4,1,9708,,,0,"Avoid Sphinx 4.4.0 to fix specs doc build

It seems Sphinx 4.4.0 made the _`[1]` type of references global. These
were document local references in the past. The nova spec repo has
multiple documents reusing such reference labels. So with 4.4.0 the doc
build fails with duplicate reference error.

This patch pins the Sphinx version to unblock the doc build job.

Change-Id: I3bb152d1c823b0e3f8a85f3f3f368a76bdfbe033
",git fetch https://review.opendev.org/openstack/nova-specs refs/changes/68/828368/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,44ccb9898f8be846a9cd11dc9b11887c7f746f1a,sphinx-4.4.0," # NOTE(gibi): Sphinx 4.4.0 made _`[1]` type of refs global # and that breaks the spec builds sphinx>=2.0.0,!=2.1.0,!=4.4.0 # BSD","sphinx>=2.0.0,!=2.1.0 # BSD",4,1
openstack%2Fkeystonemiddleware~master~Ifa326381f0c901e712367d4d51218aef18eb26f2,openstack/keystonemiddleware,master,Ifa326381f0c901e712367d4d51218aef18eb26f2,Update master for stable/wallaby,MERGED,2021-03-19 19:42:11.000000000,2022-02-08 16:30:51.000000000,2022-02-08 16:26:25.000000000,"[{'_account_id': 15197}, {'_account_id': 16465}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-19 19:42:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/695ffee2fea6eb210b398af8f648e28dae9d7667', 'message': 'Update master for stable/wallaby\n\nAdd file to the reno documentation build to show release notes for\nstable/wallaby.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/wallaby.\n\nSem-Ver: feature\nChange-Id: Ifa326381f0c901e712367d4d51218aef18eb26f2\n'}, {'number': 2, 'created': '2022-02-07 17:40:47.000000000', 'files': ['releasenotes/source/wallaby.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/7edcd324839c006692af57872c9ba0ace9f88770', 'message': 'Update master for stable/wallaby\n\nAdd file to the reno documentation build to show release notes for\nstable/wallaby.\n\nCo-authored-by: Kristi Nikolla <knikolla@bu.edu>\n\nChange-Id: Ifa326381f0c901e712367d4d51218aef18eb26f2\n'}]",1,781872,7edcd324839c006692af57872c9ba0ace9f88770,11,4,2,22816,,,0,"Update master for stable/wallaby

Add file to the reno documentation build to show release notes for
stable/wallaby.

Co-authored-by: Kristi Nikolla <knikolla@bu.edu>

Change-Id: Ifa326381f0c901e712367d4d51218aef18eb26f2
",git fetch https://review.opendev.org/openstack/keystonemiddleware refs/changes/72/781872/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/wallaby.rst', 'releasenotes/source/index.rst']",2,695ffee2fea6eb210b398af8f648e28dae9d7667,reno-wallaby, wallaby,,7,0
openstack%2Fkeystone~master~I8aa811ea336e9f613300bc21125e7582010cf5a5,openstack/keystone,master,I8aa811ea336e9f613300bc21125e7582010cf5a5,sql: Remove dead code,MERGED,2022-01-14 19:14:29.000000000,2022-02-08 16:25:15.000000000,2022-02-08 15:58:12.000000000,"[{'_account_id': 14250}, {'_account_id': 16465}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-14 19:14:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/481e5a281be95682a66c3c97dfcc7f19ac9b8055', 'message': 'sql: Remove dead code\n\nChange I41584c652ab34a267009136ee2a2e159ee2f2a6e (""sql: Squash mitaka\nmigrations"") removed the final users of this code.\n\nChange-Id: I8aa811ea336e9f613300bc21125e7582010cf5a5\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 2, 'created': '2022-01-19 18:50:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/e4fb78f01face124e9bd78b60950abdf7cf9230f', 'message': 'sql: Remove dead code\n\nChange I41584c652ab34a267009136ee2a2e159ee2f2a6e (""sql: Squash mitaka\nmigrations"") removed the final users of this code.\n\nChange-Id: I8aa811ea336e9f613300bc21125e7582010cf5a5\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 3, 'created': '2022-01-19 19:36:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/ddcccfdc03ceb955b6f9d392b4cd0f10a4765514', 'message': 'sql: Remove dead code\n\nChange I41584c652ab34a267009136ee2a2e159ee2f2a6e (""sql: Squash mitaka\nmigrations"") removed the final users of this code.\n\nChange-Id: I8aa811ea336e9f613300bc21125e7582010cf5a5\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 4, 'created': '2022-01-21 17:46:19.000000000', 'files': ['keystone/common/sql/upgrades.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/15847926ef61780a94b8a0f28c665aac168a77f7', 'message': 'sql: Remove dead code\n\nChange I41584c652ab34a267009136ee2a2e159ee2f2a6e (""sql: Squash mitaka\nmigrations"") removed the final users of the \'get_constraints_names\',\n\'add_constraints\' and \'remove_constraints\' functions.\n\nChange I96cab42cfcfd3e86b53f25abf4cf4043af3b5667 (""sql: Squash ocata\nmigrations"") removed the final use of the \'USE_TRIGGERS\' constant.\n\nChange I59882d88fe593ec1ae37415b2157584f7f3c85f8 (""sql: Remove legacy\n\'migrate_repo\' migration repo"") removed the final use of\n\'_assert_not_schema_downgrade\' function.\n\nChange-Id: I8aa811ea336e9f613300bc21125e7582010cf5a5\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}]",0,824788,15847926ef61780a94b8a0f28c665aac168a77f7,17,4,4,15334,,,0,"sql: Remove dead code

Change I41584c652ab34a267009136ee2a2e159ee2f2a6e (""sql: Squash mitaka
migrations"") removed the final users of the 'get_constraints_names',
'add_constraints' and 'remove_constraints' functions.

Change I96cab42cfcfd3e86b53f25abf4cf4043af3b5667 (""sql: Squash ocata
migrations"") removed the final use of the 'USE_TRIGGERS' constant.

Change I59882d88fe593ec1ae37415b2157584f7f3c85f8 (""sql: Remove legacy
'migrate_repo' migration repo"") removed the final use of
'_assert_not_schema_downgrade' function.

Change-Id: I8aa811ea336e9f613300bc21125e7582010cf5a5
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/keystone refs/changes/88/824788/3 && git format-patch -1 --stdout FETCH_HEAD,['keystone/common/sql/upgrades.py'],1,481e5a281be95682a66c3c97dfcc7f19ac9b8055,bp/remove-sqlalchemy-migrate,,"import sqlalchemy# Different RDBMSs use different schemes for naming the Foreign Key # Constraints. SQLAlchemy does not yet attempt to determine the name # for the constraint, and instead attempts to deduce it from the column. # This fails on MySQL. def get_constraints_names(table, column_name): fkeys = [fk.name for fk in table.constraints if (isinstance(fk, sqlalchemy.ForeignKeyConstraint) and column_name in fk.columns)] return fkeys # remove_constraints and add_constraints both accept a list of dictionaries # that contain: # {'table': a sqlalchemy table. The constraint is added to dropped from # this table. # 'fk_column': the name of a column on the above table, The constraint # is added to or dropped from this column # 'ref_column':a sqlalchemy column object. This is the reference column # for the constraint. def remove_constraints(constraints): for constraint_def in constraints: constraint_names = get_constraints_names(constraint_def['table'], constraint_def['fk_column']) for constraint_name in constraint_names: migrate.ForeignKeyConstraint( columns=[getattr(constraint_def['table'].c, constraint_def['fk_column'])], refcolumns=[constraint_def['ref_column']], name=constraint_name).drop() def add_constraints(constraints): for constraint_def in constraints: if constraint_def['table'].kwargs.get('mysql_engine') == 'MyISAM': # Don't try to create constraint when using MyISAM because it's # not supported. continue ref_col = constraint_def['ref_column'] ref_engine = ref_col.table.kwargs.get('mysql_engine') if ref_engine == 'MyISAM': # Don't try to create constraint when using MyISAM because it's # not supported. continue migrate.ForeignKeyConstraint( columns=[getattr(constraint_def['table'].c, constraint_def['fk_column'])], refcolumns=[constraint_def['ref_column']]).create() ",0,57
openstack%2Fkeystone~master~Ia1495cd4683d6631be2691e816734d01b03037a3,openstack/keystone,master,Ia1495cd4683d6631be2691e816734d01b03037a3,sql: Squash ussuri migrations,MERGED,2022-01-14 19:14:29.000000000,2022-02-08 16:18:00.000000000,2022-02-08 15:57:59.000000000,"[{'_account_id': 7414}, {'_account_id': 7973}, {'_account_id': 16465}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-14 19:14:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/f6cb281cda83a3e7f030942ca36b12ddfab56bc9', 'message': 'sql: Squash ussuri migrations\n\nMake the following changes to the new ""initial"" migrations.\n\n- Drop foreign key constraints on \'domain_id\' columns of \'user\' and\n  \'identity_provider\' tables (072)\n- Add \'authorization_ttl\' column to \'identity_provider\' table (073)\n- Add \'expiring_user_group_membership\' table (073)\n\nThis concludes our squashing. We won\'t squash the 079 migrations, added in\nXena, since this would break fast forward upgrades. Future changes will instead\n(finally) focus on the switch to alembic.\n\nChange-Id: Ia1495cd4683d6631be2691e816734d01b03037a3\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 2, 'created': '2022-01-19 18:50:03.000000000', 'files': ['keystone/common/sql/contract_repo/versions/067_placeholder.py', 'keystone/common/sql/data_migration_repo/versions/069_placeholder.py', 'keystone/common/sql/data_migration_repo/versions/072_migrate_drop_domain_id_fk.py', 'keystone/common/sql/contract_repo/versions/070_placeholder.py', 'keystone/common/sql/expand_repo/versions/068_placeholder.py', 'keystone/tests/unit/test_sql_upgrade.py', 'keystone/common/sql/contract_repo/versions/073_contract_initial_migration.py', 'keystone/common/sql/contract_repo/versions/068_placeholder.py', 'keystone/common/sql/data_migration_repo/versions/073_migrate_expiring_group_membership.py', 'keystone/common/sql/expand_repo/versions/073_expand_expiring_group_membership.py', 'keystone/common/sql/upgrades.py', 'keystone/common/sql/expand_repo/versions/069_placeholder.py', 'keystone/common/sql/data_migration_repo/versions/067_placeholder.py', 'keystone/common/sql/contract_repo/versions/069_placeholder.py', 'keystone/common/sql/data_migration_repo/versions/070_placeholder.py', 'keystone/common/sql/expand_repo/versions/070_placeholder.py', 'keystone/common/sql/expand_repo/versions/073_expand_initial_migration.py', 'keystone/common/sql/data_migration_repo/versions/068_placeholder.py', 'keystone/common/sql/data_migration_repo/versions/071_placeholder.py', 'keystone/common/sql/expand_repo/versions/072_expand_drop_domain_id_fk.py', 'keystone/common/sql/contract_repo/versions/071_placeholder.py', 'keystone/common/sql/contract_repo/versions/073_contract_expiring_group_membership.py', 'keystone/common/sql/data_migration_repo/versions/073_migrate_initial_migration.py', 'keystone/common/sql/expand_repo/versions/067_placeholder.py', 'keystone/common/sql/contract_repo/versions/072_contract_drop_domain_id_fk.py', 'keystone/common/sql/expand_repo/versions/071_placeholder.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/3e2b01d5f66c542491513d9c0db6c77f271e1d20', 'message': 'sql: Squash ussuri migrations\n\nMake the following changes to the new ""initial"" migrations.\n\n- Drop foreign key constraints on \'domain_id\' columns of \'user\' and\n  \'identity_provider\' tables (072)\n- Add \'authorization_ttl\' column to \'identity_provider\' table (073)\n- Add \'expiring_user_group_membership\' table (073)\n\nThis concludes our squashing. We won\'t squash the 079 migrations, added in\nXena, since this would break fast forward upgrades. Future changes will instead\n(finally) focus on the switch to alembic.\n\nChange-Id: Ia1495cd4683d6631be2691e816734d01b03037a3\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}]",0,824785,3e2b01d5f66c542491513d9c0db6c77f271e1d20,14,5,2,15334,,,0,"sql: Squash ussuri migrations

Make the following changes to the new ""initial"" migrations.

- Drop foreign key constraints on 'domain_id' columns of 'user' and
  'identity_provider' tables (072)
- Add 'authorization_ttl' column to 'identity_provider' table (073)
- Add 'expiring_user_group_membership' table (073)

This concludes our squashing. We won't squash the 079 migrations, added in
Xena, since this would break fast forward upgrades. Future changes will instead
(finally) focus on the switch to alembic.

Change-Id: Ia1495cd4683d6631be2691e816734d01b03037a3
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/keystone refs/changes/85/824785/1 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/common/sql/contract_repo/versions/067_placeholder.py', 'keystone/common/sql/data_migration_repo/versions/069_placeholder.py', 'keystone/common/sql/data_migration_repo/versions/072_migrate_drop_domain_id_fk.py', 'keystone/common/sql/contract_repo/versions/070_placeholder.py', 'keystone/common/sql/expand_repo/versions/068_placeholder.py', 'keystone/tests/unit/test_sql_upgrade.py', 'keystone/common/sql/contract_repo/versions/073_contract_initial_migration.py', 'keystone/common/sql/contract_repo/versions/068_placeholder.py', 'keystone/common/sql/data_migration_repo/versions/073_migrate_expiring_group_membership.py', 'keystone/common/sql/expand_repo/versions/073_expand_expiring_group_membership.py', 'keystone/common/sql/expand_repo/versions/069_placeholder.py', 'keystone/common/sql/data_migration_repo/versions/067_placeholder.py', 'keystone/common/sql/contract_repo/versions/069_placeholder.py', 'keystone/common/sql/data_migration_repo/versions/070_placeholder.py', 'keystone/common/sql/expand_repo/versions/070_placeholder.py', 'keystone/common/sql/expand_repo/versions/073_expand_initial_migration.py', 'keystone/common/sql/data_migration_repo/versions/068_placeholder.py', 'keystone/common/sql/data_migration_repo/versions/071_placeholder.py', 'keystone/common/sql/expand_repo/versions/072_expand_drop_domain_id_fk.py', 'keystone/common/sql/contract_repo/versions/071_placeholder.py', 'keystone/common/sql/contract_repo/versions/073_contract_expiring_group_membership.py', 'keystone/common/sql/data_migration_repo/versions/073_migrate_initial_migration.py', 'keystone/common/sql/expand_repo/versions/067_placeholder.py', 'keystone/common/sql/contract_repo/versions/072_contract_drop_domain_id_fk.py', 'keystone/common/sql/expand_repo/versions/071_placeholder.py']",25,f6cb281cda83a3e7f030942ca36b12ddfab56bc9,bp/remove-sqlalchemy-migrate,,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # This is a placeholder for Train backports. Do not use this number for new # Ussuri work. New Ussuri work starts after all the placeholders. def upgrade(migrate_engine): pass ",39,487
openstack%2Fopenstack-ansible-lxc_hosts~stable%2Fvictoria~Ic44b29b060cd6a1741719f673e794a532aaabe7b,openstack/openstack-ansible-lxc_hosts,stable/victoria,Ic44b29b060cd6a1741719f673e794a532aaabe7b,Drop CentOS 8 jobs,MERGED,2022-02-07 09:43:14.000000000,2022-02-08 16:17:41.000000000,2022-02-08 16:05:22.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-02-07 09:43:14.000000000', 'files': ['zuul.d/project.yaml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/b49730e71a33196182f785af3d4739a5f20620d1', 'message': 'Drop CentOS 8 jobs\n\nChange-Id: Ic44b29b060cd6a1741719f673e794a532aaabe7b\n'}]",0,828096,b49730e71a33196182f785af3d4739a5f20620d1,8,3,1,28619,,,0,"Drop CentOS 8 jobs

Change-Id: Ic44b29b060cd6a1741719f673e794a532aaabe7b
",git fetch https://review.opendev.org/openstack/openstack-ansible-lxc_hosts refs/changes/96/828096/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/project.yaml', 'zuul.d/jobs.yaml']",2,b49730e71a33196182f785af3d4739a5f20620d1,osa/remove-centos8,, name: openstack-ansible-lxc-dir-centos-8 parent: openstack-ansible-lxc-container-create nodeset: centos-8 vars: tox_env: dir - job:,0,8
openstack%2Fzaqar~stable%2Fwallaby~Ide9e5a7aac0459a616c1726809b8a72c664ca001,openstack/zaqar,stable/wallaby,Ide9e5a7aac0459a616c1726809b8a72c664ca001,Update .gitreview for stable/wallaby,NEW,2021-03-29 08:25:01.000000000,2022-02-08 16:11:39.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-03-29 08:25:01.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/zaqar/commit/2697b2854dafe00d5704e323edf02f71638f4cc9', 'message': 'Update .gitreview for stable/wallaby\n\nChange-Id: Ide9e5a7aac0459a616c1726809b8a72c664ca001\n'}]",1,783617,2697b2854dafe00d5704e323edf02f71638f4cc9,8,1,1,22816,,,0,"Update .gitreview for stable/wallaby

Change-Id: Ide9e5a7aac0459a616c1726809b8a72c664ca001
",git fetch https://review.opendev.org/openstack/zaqar refs/changes/17/783617/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,2697b2854dafe00d5704e323edf02f71638f4cc9,create-wallaby,defaultbranch=stable/wallaby,,1,0
openstack%2Fzaqar~stable%2Fwallaby~I757ae468551c005db037467b5e5df5e3b3a4e471,openstack/zaqar,stable/wallaby,I757ae468551c005db037467b5e5df5e3b3a4e471,Update TOX_CONSTRAINTS_FILE for stable/wallaby,NEW,2021-03-29 08:25:05.000000000,2022-02-08 16:01:32.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-03-29 08:25:05.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/zaqar/commit/2f523b2dcd3abff8808cf179c5aa8759a010d693', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/wallaby\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/wallaby branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: I757ae468551c005db037467b5e5df5e3b3a4e471\n'}]",1,783618,2f523b2dcd3abff8808cf179c5aa8759a010d693,4,1,1,22816,,,0,"Update TOX_CONSTRAINTS_FILE for stable/wallaby

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/wallaby branch, tests will
continue to use the upper-constraints list on master.

Change-Id: I757ae468551c005db037467b5e5df5e3b3a4e471
",git fetch https://review.opendev.org/openstack/zaqar refs/changes/18/783618/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,2f523b2dcd3abff8808cf179c5aa8759a010d693,create-wallaby,deps = -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/wallaby} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/wallaby} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/wallaby} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/wallaby},deps = -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},4,4
openstack%2Fkeystone~master~I198822d6f55353f1adeea9024db67abb24be54c7,openstack/keystone,master,I198822d6f55353f1adeea9024db67abb24be54c7,cmd: Remove deprecated '--extension' argument,MERGED,2022-01-14 19:14:29.000000000,2022-02-08 15:58:09.000000000,2022-02-08 15:58:09.000000000,"[{'_account_id': 7414}, {'_account_id': 7973}, {'_account_id': 14250}, {'_account_id': 16465}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-14 19:14:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/2a6694ea545fec0d0d71300e81668491c0f21c51', 'message': ""cmd: Remove deprecated '--extension' argument\n\nRemove option from 'db sync' and 'db version' commands of\n'keystone-manage'. While we're here, clean things up in preparation for\nthe alembic integration.\n\nChange-Id: I198822d6f55353f1adeea9024db67abb24be54c7\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 2, 'created': '2022-01-19 18:50:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/4bb6cceba0afae8bf70ed43dc2c94401ceea17bc', 'message': ""cmd: Remove deprecated '--extension' argument\n\nRemove option from 'db sync' and 'db version' commands of\n'keystone-manage'. While we're here, clean things up in preparation for\nthe alembic integration.\n\nChange-Id: I198822d6f55353f1adeea9024db67abb24be54c7\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 3, 'created': '2022-01-19 19:36:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/72e4f98365aa5d60d6bb3176f303afdf05d03acb', 'message': ""cmd: Remove deprecated '--extension' argument\n\nRemove option from 'db sync' and 'db version' commands of\n'keystone-manage'. We also remove handling code for providing '--expand'\nand '--migrate' in the same invocation, which isn't possible since\nthey're in a mutually exclusive group. Finally, we clean some formatting\nthings up in preparation for the alembic integration.\n\nChange-Id: I198822d6f55353f1adeea9024db67abb24be54c7\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 4, 'created': '2022-01-21 17:46:19.000000000', 'files': ['releasenotes/notes/remove-db_sync-extension-opt-2ab1f29340281215.yaml', 'keystone/cmd/cli.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/9f42c5ad6a5122c2122a239876de95bff5732a2e', 'message': ""cmd: Remove deprecated '--extension' argument\n\nRemove option from 'db sync' and 'db version' commands of\n'keystone-manage'. We also remove handling code for providing '--expand'\nand '--migrate' in the same invocation, which isn't possible since\nthey're in a mutually exclusive group. Finally, we clean some formatting\nthings up in preparation for the alembic integration.\n\nChange-Id: I198822d6f55353f1adeea9024db67abb24be54c7\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",2,824787,9f42c5ad6a5122c2122a239876de95bff5732a2e,18,6,4,15334,,,0,"cmd: Remove deprecated '--extension' argument

Remove option from 'db sync' and 'db version' commands of
'keystone-manage'. We also remove handling code for providing '--expand'
and '--migrate' in the same invocation, which isn't possible since
they're in a mutually exclusive group. Finally, we clean some formatting
things up in preparation for the alembic integration.

Change-Id: I198822d6f55353f1adeea9024db67abb24be54c7
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/keystone refs/changes/87/824787/1 && git format-patch -1 --stdout FETCH_HEAD,['keystone/cmd/cli.py'],1,2a6694ea545fec0d0d71300e81668491c0f21c51,bp/remove-sqlalchemy-migrate," parser.add_argument( 'version', default=None, nargs='?', help=( 'Migrate the database up to a specified version. ' 'If not provided, db_sync will migrate the database to the ' 'latest known version. ' 'Schema downgrades are not supported.' ), ) group.add_argument( '--expand', default=False, action='store_true', help=( 'Expand the database schema in preparation for data migration.' ), ) group.add_argument( '--migrate', default=False, action='store_true', help=( 'Copy all data that needs to be migrated within the database ' 'ahead of starting the first keystone node upgraded to the ' 'new release. ' 'This command should be run after the --expand command. ' 'Once the --migrate command has completed, you can upgrade ' 'all your keystone nodes to the new release and restart them.' ), ) group.add_argument( '--contract', default=False, action='store_true', help=( 'Remove any database tables and columns that are no longer ' 'required. This command should be run after all keystone ' 'nodes are running the new release.' ), ) group.add_argument( '--check', default=False, action='store_true', help=( 'Check for outstanding database actions that still need to be ' 'executed. This command can be used to verify the condition ' 'of the current database state.' ), ) LOG.info( 'Your database is not currently under version ' 'control or the database is already controlled. Your ' 'first step is to run `keystone-manage db_sync --expand`.' ) if ( contract_version > migrate_version or migrate_version > expand_version ): elif ( migration_script_version == expand_version == migrate_version == contract_version ): LOG.info( 'The latest installed migration script version is: %(script)d.\n' 'Current repository versions:\n' 'Expand: %(expand)d\n' 'Migrate: %(migrate)d\n' 'Contract: %(contract)d', { 'script': migration_script_version, 'expand': expand_version, 'migrate': migrate_version, 'contract': contract_version, }, )","def assert_not_extension(extension): if extension: print(_(""All extensions have been moved into keystone core and as "" ""such its migrations are maintained by the main keystone "" ""database control. Use the command: keystone-manage "" ""db_sync"")) raise RuntimeError parser.add_argument('version', default=None, nargs='?', help=('Migrate the database up to a specified ' 'version. If not provided, db_sync will ' 'migrate the database to the latest known ' 'version. Schema downgrades are not ' 'supported.')) parser.add_argument('--extension', default=None, help=('This is a deprecated option to migrate a ' 'specified extension. Since extensions are ' 'now part of the main repository, ' 'specifying db_sync without this option ' 'will cause all extensions to be migrated.')) group.add_argument('--expand', default=False, action='store_true', help=('Expand the database schema in preparation ' 'for data migration.')) group.add_argument('--migrate', default=False, action='store_true', help=('Copy all data that needs to be migrated ' 'within the database ahead of starting the ' 'first keystone node upgraded to the new ' 'release. This command should be run ' 'after the --expand command. Once the ' '--migrate command has completed, you can ' 'upgrade all your keystone nodes to the new ' 'release and restart them.')) group.add_argument('--contract', default=False, action='store_true', help=('Remove any database tables and columns ' 'that are no longer required. This command ' 'should be run after all keystone nodes are ' 'running the new release.')) group.add_argument('--check', default=False, action='store_true', help=('Check for outstanding database actions that ' 'still need to be executed. This command can ' 'be used to verify the condition of the ' 'current database state.')) LOG.info('Your database is not currently under version ' 'control or the database is already controlled. Your ' 'first step is to run `keystone-manage db_sync ' '--expand`.') if (contract_version > migrate_version or migrate_version > expand_version): elif (migration_script_version == expand_version == migrate_version == contract_version): LOG.info('The latest installed migration script version is: ' '%(script)d.\nCurrent repository versions:\nExpand: ' '%(expand)d \nMigrate: %(migrate)d\nContract: ' '%(contract)d', {'script': migration_script_version, 'expand': expand_version, 'migrate': migrate_version, 'contract': contract_version}) assert_not_extension(CONF.command.extension) # It is possible to run expand and migrate at the same time, # expand needs to run first however. elif CONF.command.expand and CONF.command.migrate: upgrades.expand_schema() upgrades.migrate_data() @classmethod def add_argument_parser(cls, subparsers): parser = super(DbVersion, cls).add_argument_parser(subparsers) parser.add_argument('--extension', default=None, help=('This is a deprecated option to print the ' 'version of a specified extension. Since ' 'extensions are now part of the main ' 'repository, the version of an extension is ' 'implicit in the version of the main ' 'repository.')) assert_not_extension(CONF.command.extension)",80,79
openstack%2Fkeystone~master~Id22aa60e2243b5ce1f3055429ba1ba71a0816f39,openstack/keystone,master,Id22aa60e2243b5ce1f3055429ba1ba71a0816f39,sql: Add initial alembic scaffolding,MERGED,2022-01-06 10:48:49.000000000,2022-02-08 15:58:06.000000000,2022-02-08 15:58:06.000000000,"[{'_account_id': 14250}, {'_account_id': 16465}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-06 10:48:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/e2f7f1a82970ac3a1144ea07f90348f3f45c472a', 'message': ""WIP: sql: Add initial alembic scaffolding\n\nThis is effectively the output of 'alembic init' with a few tweaks to\nkeep pep8 happy and make things more grokable. There will be a great\ndeal more changes down the line.\n\nChange-Id: Id22aa60e2243b5ce1f3055429ba1ba71a0816f39\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 2, 'created': '2022-01-14 19:14:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/4d5ade0e6daa6adfee935021ea25795b0a5e308b', 'message': ""sql: Add initial alembic scaffolding\n\nThis is effectively the output of 'alembic init' with a few tweaks to\nkeep pep8 happy and make things more grokable. There will be a great\ndeal more changes down the line.\n\nChange-Id: Id22aa60e2243b5ce1f3055429ba1ba71a0816f39\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 3, 'created': '2022-01-19 18:50:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/1606f1faf2071cfa83a75a0ebd3794ec526572ad', 'message': ""sql: Add initial alembic scaffolding\n\nThis is effectively the output of 'alembic init' with a few tweaks to\nkeep pep8 happy and make things more grokable. There will be a great\ndeal more changes down the line.\n\nChange-Id: Id22aa60e2243b5ce1f3055429ba1ba71a0816f39\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 4, 'created': '2022-01-21 17:46:19.000000000', 'files': ['keystone/common/sql/migrations/env.py', 'keystone/common/sql/migrations/README.rst', 'keystone/common/sql/migrations/script.py.mako', 'keystone/common/sql/migrations/versions/27e647c0fad4_initial_version_expand.py', 'keystone/common/sql/alembic.ini'], 'web_link': 'https://opendev.org/openstack/keystone/commit/44886a0f62a75ca10760049e8e71a0f7ec7d8a5b', 'message': ""sql: Add initial alembic scaffolding\n\nThis is effectively the output of 'alembic init' with a few tweaks to\nkeep pep8 happy and make things more grokable. There will be a great\ndeal more changes down the line.\n\nChange-Id: Id22aa60e2243b5ce1f3055429ba1ba71a0816f39\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",2,823668,44886a0f62a75ca10760049e8e71a0f7ec7d8a5b,18,4,4,15334,,,0,"sql: Add initial alembic scaffolding

This is effectively the output of 'alembic init' with a few tweaks to
keep pep8 happy and make things more grokable. There will be a great
deal more changes down the line.

Change-Id: Id22aa60e2243b5ce1f3055429ba1ba71a0816f39
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/keystone refs/changes/68/823668/1 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/common/sql/migrations/env.py', 'keystone/common/sql/migrations/versions/27e647c0fad4_initial_version.py', 'keystone/common/sql/migrations/README.rst', 'keystone/common/sql/migrations/script.py.mako', 'keystone/common/sql/alembic.ini']",5,e2f7f1a82970ac3a1144ea07f90348f3f45c472a,bp/remove-sqlalchemy-migrate,"# A generic, single database configuration. [alembic] # path to migration scripts script_location = %(here)s/migrations # template used to generate migration files # file_template = %%(rev)s_%%(slug)s # sys.path path, will be prepended to sys.path if present. # defaults to the current working directory. prepend_sys_path = . # timezone to use when rendering the date within the migration file # as well as the filename. # If specified, requires the python-dateutil library that can be # installed by adding `alembic[tz]` to the pip requirements # string value is passed to dateutil.tz.gettz() # leave blank for localtime # timezone = # max length of characters to apply to the # ""slug"" field # truncate_slug_length = 40 # set to 'true' to run the environment during # the 'revision' command, regardless of autogenerate # revision_environment = false # set to 'true' to allow .pyc and .pyo files without # a source .py file to be detected as revisions in the # versions/ directory # sourceless = false # version location specification; This defaults # to keystone/common/sql/migrations/versions. When using multiple version # directories, initial revisions must be specified with --version-path. # The path separator used here should be the separator specified by ""version_path_separator"" # version_locations = %(here)s/bar:%(here)s/bat:keystone/common/sql/migrations/versions # version path separator; As mentioned above, this is the character used to split # version_locations. Valid values are: # # version_path_separator = : # version_path_separator = ; # version_path_separator = space version_path_separator = os # default: use os.pathsep # the output encoding used when revision files # are written from script.py.mako # output_encoding = utf-8 sqlalchemy.url = sqlite:///keystone.db [post_write_hooks] # post_write_hooks defines scripts or Python functions that are run # on newly generated revision scripts. See the documentation for further # detail and examples # format using ""black"" - use the console_scripts runner, against the ""black"" entrypoint # hooks = black # black.type = console_scripts # black.entrypoint = black # black.options = -l 79 REVISION_SCRIPT_FILENAME # Logging configuration [loggers] keys = root,sqlalchemy,alembic [handlers] keys = console [formatters] keys = generic [logger_root] level = WARN handlers = console qualname = [logger_sqlalchemy] level = WARN handlers = qualname = sqlalchemy.engine [logger_alembic] level = INFO handlers = qualname = alembic [handler_console] class = StreamHandler args = (sys.stderr,) level = NOTSET formatter = generic [formatter_generic] format = %(levelname)-5.5s [%(name)s] %(message)s datefmt = %H:%M:%S ",,258,0
openstack%2Fkeystone~master~I3b3cbc2dc827a05ec03edb2e7d60befa89524f1b,openstack/keystone,master,I3b3cbc2dc827a05ec03edb2e7d60befa89524f1b,sql: Reorder tables to reflect creation order,MERGED,2022-01-14 19:14:29.000000000,2022-02-08 15:58:02.000000000,2022-02-08 15:58:02.000000000,"[{'_account_id': 7414}, {'_account_id': 7973}, {'_account_id': 14250}, {'_account_id': 16465}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-14 19:14:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/cadfd7fa7b5a1af460933a6add64edec52dc0812', 'message': 'sql: Reorder tables to reflect creation order\n\nOrder tables in a rough alphabetical order, with tables without foreign\nkeys first, followed by those with them later. This will make life\neasier when we get to migrating to alembic.\n\nChange-Id: I3b3cbc2dc827a05ec03edb2e7d60befa89524f1b\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 2, 'created': '2022-01-19 18:50:03.000000000', 'files': ['keystone/common/sql/expand_repo/versions/073_expand_initial_migration.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/f34b842d7b228a17e72ce7ae0a4ed346c3d7f424', 'message': 'sql: Reorder tables to reflect creation order\n\nOrder tables in a rough alphabetical order, with tables without foreign\nkeys first, followed by those with them later. This will make life\neasier when we get to migrating to alembic.\n\nChange-Id: I3b3cbc2dc827a05ec03edb2e7d60befa89524f1b\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}]",0,824786,f34b842d7b228a17e72ce7ae0a4ed346c3d7f424,14,6,2,15334,,,0,"sql: Reorder tables to reflect creation order

Order tables in a rough alphabetical order, with tables without foreign
keys first, followed by those with them later. This will make life
easier when we get to migrating to alembic.

Change-Id: I3b3cbc2dc827a05ec03edb2e7d60befa89524f1b
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/keystone refs/changes/86/824786/2 && git format-patch -1 --stdout FETCH_HEAD,['keystone/common/sql/expand_repo/versions/073_expand_initial_migration.py'],1,cadfd7fa7b5a1af460933a6add64edec52dc0812,bp/remove-sqlalchemy-migrate," application_credential = sql.Table( 'application_credential', 'internal_id', sql.Integer, primary_key=True, nullable=False sql.Column('id', sql.String(length=64), nullable=False), sql.Column('name', sql.String(length=255), nullable=False), sql.Column('secret_hash', sql.String(length=255), nullable=False), sql.Column('description', sql.Text), sql.Column('user_id', sql.String(length=64), nullable=False), sql.Column('project_id', sql.String(64), nullable=True), sql.Column('expires_at', ks_sql.DateTimeInt()), sql.Column('system', sql.String(64), nullable=True), sql.Column('unrestricted', sql.Boolean), sql.UniqueConstraint( 'user_id', 'name', name='duplicate_app_cred_constraint' ), mysql_engine='InnoDB', mysql_charset='utf8', ) assignment = sql.Table( 'assignment', meta, 'type', sql.Enum( assignment_sql.AssignmentType.USER_PROJECT, assignment_sql.AssignmentType.GROUP_PROJECT, assignment_sql.AssignmentType.USER_DOMAIN, assignment_sql.AssignmentType.GROUP_DOMAIN, name='type', ), sql.Column('actor_id', sql.String(64), nullable=False), sql.Column('target_id', sql.String(64), nullable=False), sql.Column('role_id', sql.String(64), nullable=False), sql.Column('inherited', sql.Boolean, default=False, nullable=False), sql.PrimaryKeyConstraint( 'type', 'actor_id', 'target_id', 'role_id', 'inherited', ), sql.Index('ix_actor_id', 'actor_id'), mysql_engine='InnoDB', mysql_charset='utf8', ) access_rule = sql.Table( 'access_rule', meta, sql.Column('id', sql.Integer, primary_key=True, nullable=False), sql.Column('service', sql.String(64)), sql.Column('path', sql.String(128)), sql.Column('method', sql.String(16)), sql.Column('external_id', sql.String(64)), sql.Column('user_id', sql.String(64)), sql.UniqueConstraint( 'external_id', name='access_rule_external_id_key', ), sql.UniqueConstraint( 'user_id', 'service', 'path', 'method', name='duplicate_access_rule_for_user_constraint', ), sql.Index('user_id', 'user_id'), sql.Index('external_id', 'external_id'), mysql_engine='InnoDB', mysql_charset='utf8', ) config_register = sql.Table( 'config_register', meta, sql.Column('type', sql.String(64), primary_key=True), sql.Column('domain_id', sql.String(64), nullable=False), mysql_engine='InnoDB', mysql_charset='utf8', id_mapping = sql.Table( 'id_mapping', meta, sql.Column('public_id', sql.String(64), primary_key=True), sql.Column('domain_id', sql.String(64), nullable=False), sql.Column('local_id', sql.String(64), nullable=False), sql.Column( 'entity_type', sql.Enum( mapping_backend.EntityType.USER, mapping_backend.EntityType.GROUP, name='entity_type', ), nullable=False, ), migrate.UniqueConstraint( 'domain_id', 'local_id', 'entity_type', name='domain_id', ), mysql_engine='InnoDB', mysql_charset='utf8', ) sql.ForeignKey(identity_provider.c.id, ondelete='CASCADE'), sql.Column( 'domain_id', sql.String(length=64), sql.ForeignKey( 'project.id', name='project_domain_id_fkey', ), nullable=False, ), sql.Column( 'parent_id', sql.String(64), sql.ForeignKey( 'project.id', name='project_parent_id_fkey', ), nullable=True, ), project_endpoint = sql.Table( 'project_endpoint', meta, sql.Column( 'endpoint_id', sql.String(64), primary_key=True, nullable=False ), sql.Column( 'project_id', sql.String(64), primary_key=True, nullable=False ), ) region = sql.Table( 'region', sql.Column('id', sql.String(255), primary_key=True), sql.Column('description', sql.String(255), nullable=False), sql.Column('parent_region_id', sql.String(255), nullable=True), sql.Column('extra', sql.Text()), mysql_engine='InnoDB', mysql_charset='utf8', registered_limit = sql.Table( 'registered_limit', sql.Column('id', sql.String(length=64), nullable=False), sql.Column('service_id', sql.String(255)), sql.Column('region_id', sql.String(64), nullable=True), sql.Column('resource_name', sql.String(255)), sql.Column('default_limit', sql.Integer, nullable=False), sql.Column('description', sql.Text), sql.Column('internal_id', sql.Integer, primary_key=True), # NOTE(stephenfin): Name chosen to preserve backwards compatibility # with names used for primary key unique constraints sql.UniqueConstraint('id', name='registered_limit_id_key'), sql.ForeignKey(consumer.c.id), sensitive_config = sql.Table( 'sensitive_config', meta, sql.Column('domain_id', sql.String(64), primary_key=True), sql.Column('group', sql.String(255), primary_key=True), sql.Column('option', sql.String(255), primary_key=True), sql.Column('value', ks_sql.JsonBlob.impl, nullable=False), mysql_engine='InnoDB', mysql_charset='utf8', ) system_assignment = sql.Table( 'system_assignment', meta, sql.Column('type', sql.String(64), nullable=False), sql.Column('actor_id', sql.String(64), nullable=False), sql.Column('target_id', sql.String(64), nullable=False), sql.Column('role_id', sql.String(64), nullable=False), sql.Column('inherited', sql.Boolean, default=False, nullable=False), sql.PrimaryKeyConstraint( 'type', 'actor_id', 'target_id', 'role_id', 'inherited' ), mysql_engine='InnoDB', mysql_charset='utf8', ) user_group_membership = sql.Table( 'user_group_membership', meta, sql.Column( 'user_id', sql.String(length=64), sql.ForeignKey( user.c.id, name='fk_user_group_membership_user_id', ), primary_key=True, ), sql.Column( 'group_id', sql.String(length=64), sql.ForeignKey( group.c.id, name='fk_user_group_membership_group_id', ), primary_key=True, ), # NOTE(stevemar): The index was named 'group_id' in # 050_fk_consistent_indexes.py and needs to be preserved sql.Index('group_id', 'group_id'), mysql_engine='InnoDB', mysql_charset='utf8', ) access_token = sql.Table( 'access_token', sql.Column('id', sql.String(64), primary_key=True, nullable=False), sql.Column('access_secret', sql.String(64), nullable=False), 'authorizing_user_id', sql.String(64), nullable=False, index=True ), sql.Column('project_id', sql.String(64), nullable=False), sql.Column('role_ids', sql.Text(), nullable=False), sql.Column( 'consumer_id', sql.ForeignKey(consumer.c.id), nullable=False, index=True, sql.Column('expires_at', sql.String(64), nullable=True), application_credential_access_rule = sql.Table( endpoint = sql.Table( 'endpoint', meta, sql.Column('id', sql.String(length=64), primary_key=True), sql.Column('legacy_endpoint_id', sql.String(length=64)), sql.Column('interface', sql.String(length=8), nullable=False), sql.Column( 'service_id', sql.String(length=64), sql.ForeignKey( service.c.id, name='endpoint_service_id_fkey', ), nullable=False, ), sql.Column('url', sql.Text, nullable=False), sql.Column('extra', ks_sql.JsonBlob.impl), sql.Column( 'enabled', sql.Boolean, nullable=False, default=True, server_default='1', ), sql.Column( 'region_id', sql.String(length=255), sql.ForeignKey( region.c.id, name='fk_endpoint_region_id', ), nullable=True, ), # NOTE(stevemar): The index was named 'service_id' in # 050_fk_consistent_indexes.py and needs to be preserved sql.Index('service_id', 'service_id'), mysql_engine='InnoDB', mysql_charset='utf8', ) endpoint_group = sql.Table( 'endpoint_group', meta, sql.Column('id', sql.String(64), primary_key=True), sql.Column('name', sql.String(255), nullable=False), sql.Column('description', sql.Text, nullable=True), sql.Column('filters', sql.Text(), nullable=False), ) federation_protocol = sql.Table( 'federation_protocol', meta, sql.Column('id', sql.String(64), primary_key=True), sql.Column( 'idp_id', sql.String(64), sql.ForeignKey(identity_provider.c.id, ondelete='CASCADE'), primary_key=True, ), sql.Column('mapping_id', sql.String(64), nullable=False), sql.Column('remote_id_attribute', sql.String(64)), mysql_engine='InnoDB', mysql_charset='utf8', ) implied_role = sql.Table( 'implied_role', meta, sql.Column( 'prior_role_id', sql.String(length=64), sql.ForeignKey( role.c.id, name='implied_role_prior_role_id_fkey', ondelete='CASCADE', ), primary_key=True, ), sql.Column( 'implied_role_id', sql.String(length=64), sql.ForeignKey( role.c.id, name='implied_role_implied_role_id_fkey', ondelete='CASCADE', ), primary_key=True, ), mysql_engine='InnoDB', mysql_charset='utf8', ) limit = sql.Table( 'limit', meta, sql.Column('id', sql.String(length=64), nullable=False), sql.Column('project_id', sql.String(64), nullable=True), sql.Column('resource_limit', sql.Integer, nullable=False), sql.Column('description', sql.Text), sql.Column('internal_id', sql.Integer, primary_key=True), # FIXME(stephenfin): This should have a foreign key constraint on # registered_limit.id, but sqlalchemy-migrate clearly didn't handle # creating a column with embedded FK info as was attempted in 048 sql.Column( 'registered_limit_id', sql.String(64), ), sql.Column('domain_id', sql.String(64), nullable=True), # NOTE(stephenfin): Name chosen to preserve backwards compatibility # with names used for primary key unique constraints sql.UniqueConstraint('id', name='limit_id_key'), mysql_engine='InnoDB', mysql_charset='utf8', ) local_user = sql.Table( 'local_user', meta, sql.Column('id', sql.Integer, primary_key=True, nullable=False), sql.Column( 'user_id', sql.String(64), nullable=False, unique=True, ), sql.Column('domain_id', sql.String(64), nullable=False), sql.Column('name', sql.String(255), nullable=False), sql.Column('failed_auth_count', sql.Integer, nullable=True), sql.Column('failed_auth_at', sql.DateTime(), nullable=True), sql.ForeignKeyConstraint( ['user_id', 'domain_id'], [user.c.id, user.c.domain_id], name='local_user_user_id_fkey', onupdate='CASCADE', ondelete='CASCADE', ), sql.UniqueConstraint('domain_id', 'name'), ) nonlocal_user = sql.Table( 'nonlocal_user', meta, sql.Column('domain_id', sql.String(64), primary_key=True), sql.Column('name', sql.String(255), primary_key=True), sql.Column( 'user_id', sql.String(64), nullable=False, ), sql.ForeignKeyConstraint( ['user_id', 'domain_id'], [user.c.id, user.c.domain_id], name='nonlocal_user_user_id_fkey', onupdate='CASCADE', ondelete='CASCADE', ), sql.UniqueConstraint('user_id', name='ixu_nonlocal_user_user_id'), mysql_engine='InnoDB', mysql_charset='utf8', ) password = sql.Table( 'password', meta, sql.Column('id', sql.Integer, primary_key=True, nullable=False), sql.Column( 'local_user_id', sql.Integer, sql.ForeignKey(local_user.c.id, ondelete='CASCADE'), nullable=False, ), sql.Column('expires_at', sql.DateTime(), nullable=True), sql.Column( 'self_service', sql.Boolean, nullable=False, server_default='0', default=False, ), # NOTE(notmorgan): To support the full range of scrypt and pbkfd # password hash lengths, this should be closer to varchar(1500) instead # of varchar(255). sql.Column('password_hash', sql.String(255), nullable=True), sql.Column( 'created_at_int', ks_sql.DateTimeInt(), nullable=False, default=0, server_default='0', ), sql.Column('expires_at_int', ks_sql.DateTimeInt(), nullable=True), sql.Column( 'created_at', sql.DateTime(), nullable=False, default=datetime.datetime.utcnow, ), ) project_endpoint_group = sql.Table( 'project_endpoint_group', meta, sql.Column( 'endpoint_group_id', sql.String(64), sql.ForeignKey(endpoint_group.c.id), nullable=False, ), sql.Column('project_id', sql.String(64), nullable=False), sql.PrimaryKeyConstraint('endpoint_group_id', 'project_id'), ) federated_user = sql.Table( 'federated_user', meta, sql.Column('id', sql.Integer, primary_key=True, nullable=False), sql.Column( 'user_id', sql.String(64), sql.ForeignKey(user.c.id, ondelete='CASCADE'), nullable=False, ), sql.Column( 'idp_id', sql.String(64), sql.ForeignKey(identity_provider.c.id, ondelete='CASCADE'), nullable=False, ), sql.Column('protocol_id', sql.String(64), nullable=False), sql.Column('unique_id', sql.String(255), nullable=False), sql.Column('display_name', sql.String(255), nullable=True), sql.ForeignKeyConstraint( ['protocol_id', 'idp_id'], [federation_protocol.c.id, federation_protocol.c.idp_id], name='federated_user_protocol_id_fkey', ondelete='CASCADE', ), sql.UniqueConstraint('idp_id', 'protocol_id', 'unique_id'), mysql_engine='InnoDB', mysql_charset='utf8', ) access_rule, application_credential, assignment, config_register, consumer, id_mapping, identity_provider, idp_remote_ids, mapping, policy_association, project_endpoint, region, registered_limit, request_token, revocation_event, sensitive_config, service_provider, system_assignment, user_option, application_credential_access_rule, endpoint, endpoint_group, federation_protocol, implied_role, limit, local_user, nonlocal_user, password, project_endpoint_group, federated_user, fkeys = []"," access_token = sql.Table( 'access_token', sql.Column('id', sql.String(64), primary_key=True, nullable=False), sql.Column('access_secret', sql.String(64), nullable=False), 'authorizing_user_id', sql.String(64), nullable=False, index=True sql.Column('project_id', sql.String(64), nullable=False), sql.Column('role_ids', sql.Text(), nullable=False), 'consumer_id', sql.String(64), sql.ForeignKey('consumer.id'), index=True, sql.Column('expires_at', sql.String(64), nullable=True), endpoint = sql.Table( 'endpoint', meta, sql.Column('id', sql.String(length=64), primary_key=True), sql.Column('legacy_endpoint_id', sql.String(length=64)), sql.Column('interface', sql.String(length=8), nullable=False), sql.Column('service_id', sql.String(length=64), nullable=False), sql.Column('url', sql.Text, nullable=False), sql.Column('extra', ks_sql.JsonBlob.impl), sql.Column( 'enabled', sql.Boolean, nullable=False, default=True, server_default='1', ), sql.Column('region_id', sql.String(length=255), nullable=True), # NOTE(stevemar): The index was named 'service_id' in # 050_fk_consistent_indexes.py and needs to be preserved sql.Index('service_id', 'service_id'), mysql_engine='InnoDB', mysql_charset='utf8', ) endpoint_group = sql.Table( 'endpoint_group', meta, sql.Column('id', sql.String(64), primary_key=True), sql.Column('name', sql.String(255), nullable=False), sql.Column('description', sql.Text, nullable=True), sql.Column('filters', sql.Text(), nullable=False), ) federated_user = sql.Table( 'federated_user', meta, sql.Column('id', sql.Integer, primary_key=True, nullable=False), sql.Column( 'user_id', sql.String(64), sql.ForeignKey('user.id', ondelete='CASCADE'), nullable=False, ), sql.Column( 'idp_id', sql.String(64), sql.ForeignKey('identity_provider.id', ondelete='CASCADE'), nullable=False, ), sql.Column('protocol_id', sql.String(64), nullable=False), sql.Column('unique_id', sql.String(255), nullable=False), sql.Column('display_name', sql.String(255), nullable=True), sql.UniqueConstraint('idp_id', 'protocol_id', 'unique_id'), mysql_engine='InnoDB', mysql_charset='utf8', ) federation_protocol = sql.Table( 'federation_protocol', meta, sql.Column('id', sql.String(64), primary_key=True), sql.Column( 'idp_id', sql.String(64), sql.ForeignKey('identity_provider.id', ondelete='CASCADE'), primary_key=True, ), sql.Column('mapping_id', sql.String(64), nullable=False), sql.Column('remote_id_attribute', sql.String(64)), mysql_engine='InnoDB', mysql_charset='utf8', ) sql.ForeignKey('identity_provider.id', ondelete='CASCADE'), implied_role = sql.Table( 'implied_role', meta, sql.Column('prior_role_id', sql.String(length=64), primary_key=True), sql.Column('implied_role_id', sql.String(length=64), primary_key=True), mysql_engine='InnoDB', mysql_charset='utf8', ) local_user = sql.Table( 'local_user', meta, sql.Column('id', sql.Integer, primary_key=True, nullable=False), sql.Column( 'user_id', sql.String(64), nullable=False, unique=True, ), sql.Column('domain_id', sql.String(64), nullable=False), sql.Column('name', sql.String(255), nullable=False), sql.Column('failed_auth_count', sql.Integer, nullable=True), sql.Column('failed_auth_at', sql.DateTime(), nullable=True), sql.UniqueConstraint('domain_id', 'name'), ) password = sql.Table( 'password', meta, sql.Column('id', sql.Integer, primary_key=True, nullable=False), sql.Column( 'local_user_id', sql.Integer, sql.ForeignKey(local_user.c.id, ondelete='CASCADE'), nullable=False, ), sql.Column('expires_at', sql.DateTime(), nullable=True), sql.Column( 'self_service', sql.Boolean, nullable=False, server_default='0', default=False, ), # NOTE(notmorgan): To support the full range of scrypt and pbkfd # password hash lengths, this should be closer to varchar(1500) instead # of varchar(255). sql.Column('password_hash', sql.String(255), nullable=True), sql.Column( 'created_at_int', ks_sql.DateTimeInt(), nullable=False, default=0, server_default='0', ), sql.Column('expires_at_int', ks_sql.DateTimeInt(), nullable=True), sql.Column( 'created_at', sql.DateTime(), nullable=False, default=datetime.datetime.utcnow, ), ) sql.Column('domain_id', sql.String(length=64), nullable=False), sql.Column('parent_id', sql.String(64), nullable=True), project_endpoint = sql.Table( 'project_endpoint', sql.Column( 'endpoint_id', sql.String(64), primary_key=True, nullable=False ), sql.Column( 'project_id', sql.String(64), primary_key=True, nullable=False ), project_endpoint_group = sql.Table( 'project_endpoint_group', sql.Column( 'endpoint_group_id', sql.String(64), sql.ForeignKey('endpoint_group.id'), nullable=False, ), sql.Column('project_id', sql.String(64), nullable=False), sql.PrimaryKeyConstraint('endpoint_group_id', 'project_id'), ) config_register = sql.Table( 'config_register', meta, sql.Column('type', sql.String(64), primary_key=True), sql.Column('domain_id', sql.String(64), nullable=False), sql.ForeignKey('consumer.id'), nonlocal_user = sql.Table( 'nonlocal_user', meta, sql.Column('domain_id', sql.String(64), primary_key=True), sql.Column('name', sql.String(255), primary_key=True), sql.Column( 'user_id', sql.String(64), nullable=False, ), sql.UniqueConstraint('user_id', name='ixu_nonlocal_user_user_id'), mysql_engine='InnoDB', mysql_charset='utf8', ) user_group_membership = sql.Table( 'user_group_membership', meta, sql.Column('user_id', sql.String(length=64), primary_key=True), sql.Column('group_id', sql.String(length=64), primary_key=True), # NOTE(stevemar): The index was named 'group_id' in # 050_fk_consistent_indexes.py and needs to be preserved sql.Index('group_id', 'group_id'), mysql_engine='InnoDB', mysql_charset='utf8', ) region = sql.Table( 'region', meta, sql.Column('id', sql.String(255), primary_key=True), sql.Column('description', sql.String(255), nullable=False), sql.Column('parent_region_id', sql.String(255), nullable=True), sql.Column('extra', sql.Text()), mysql_engine='InnoDB', mysql_charset='utf8', ) assignment = sql.Table( 'assignment', meta, sql.Column( 'type', sql.Enum( assignment_sql.AssignmentType.USER_PROJECT, assignment_sql.AssignmentType.GROUP_PROJECT, assignment_sql.AssignmentType.USER_DOMAIN, assignment_sql.AssignmentType.GROUP_DOMAIN, name='type', ), nullable=False, ), sql.Column('actor_id', sql.String(64), nullable=False), sql.Column('target_id', sql.String(64), nullable=False), sql.Column('role_id', sql.String(64), nullable=False), sql.Column('inherited', sql.Boolean, default=False, nullable=False), sql.PrimaryKeyConstraint( 'type', 'actor_id', 'target_id', 'role_id', 'inherited', ), sql.Index('ix_actor_id', 'actor_id'), mysql_engine='InnoDB', mysql_charset='utf8', ) id_mapping = sql.Table( 'id_mapping', meta, sql.Column('public_id', sql.String(64), primary_key=True), sql.Column('domain_id', sql.String(64), nullable=False), sql.Column('local_id', sql.String(64), nullable=False), sql.Column( 'entity_type', sql.Enum( mapping_backend.EntityType.USER, mapping_backend.EntityType.GROUP, name='entity_type', ), nullable=False, ), migrate.UniqueConstraint( 'domain_id', 'local_id', 'entity_type', name='domain_id', ), mysql_engine='InnoDB', mysql_charset='utf8', ) sensitive_config = sql.Table( 'sensitive_config', sql.Column('domain_id', sql.String(64), primary_key=True), sql.Column('group', sql.String(255), primary_key=True), sql.Column('option', sql.String(255), primary_key=True), sql.Column('value', ks_sql.JsonBlob.impl, nullable=False), mysql_engine='InnoDB', mysql_charset='utf8', ) system_assignment = sql.Table( 'system_assignment', meta, sql.Column('type', sql.String(64), nullable=False), sql.Column('actor_id', sql.String(64), nullable=False), sql.Column('target_id', sql.String(64), nullable=False), sql.Column('role_id', sql.String(64), nullable=False), sql.Column('inherited', sql.Boolean, default=False, nullable=False), sql.PrimaryKeyConstraint( 'type', 'actor_id', 'target_id', 'role_id', 'inherited' ), mysql_engine='InnoDB', mysql_charset='utf8', ) registered_limit = sql.Table( 'registered_limit', meta, sql.Column('id', sql.String(length=64), nullable=False), sql.Column('service_id', sql.String(255)), sql.Column('region_id', sql.String(64), nullable=True), sql.Column('resource_name', sql.String(255)), sql.Column('default_limit', sql.Integer, nullable=False), sql.Column('description', sql.Text), sql.Column('internal_id', sql.Integer, primary_key=True), # NOTE(stephenfin): Name chosen to preserve backwards compatibility # with names used for primary key unique constraints sql.UniqueConstraint('id', name='registered_limit_id_key'), mysql_engine='InnoDB', mysql_charset='utf8', ) limit = sql.Table( 'limit', meta, sql.Column('id', sql.String(length=64), nullable=False), sql.Column('project_id', sql.String(64), nullable=True), sql.Column('resource_limit', sql.Integer, nullable=False), sql.Column('description', sql.Text), sql.Column('internal_id', sql.Integer, primary_key=True), # FIXME(stephenfin): This should have a foreign key constraint on # registered_limit.id, but sqlalchemy-migrate clearly didn't handle # creating a column with embedded FK info as was attempted in 048 'registered_limit_id', sql.Column('domain_id', sql.String(64), nullable=True), # NOTE(stephenfin): Name chosen to preserve backwards compatibility # with names used for primary key unique constraints sql.UniqueConstraint('id', name='limit_id_key'), mysql_engine='InnoDB', mysql_charset='utf8', ) application_credential = sql.Table( 'application_credential', meta, sql.Column( 'internal_id', sql.Integer, primary_key=True, nullable=False ), sql.Column('id', sql.String(length=64), nullable=False), sql.Column('name', sql.String(length=255), nullable=False), sql.Column('secret_hash', sql.String(length=255), nullable=False), sql.Column('description', sql.Text), sql.Column('user_id', sql.String(length=64), nullable=False), sql.Column('project_id', sql.String(64), nullable=True), sql.Column('expires_at', ks_sql.DateTimeInt()), sql.Column('system', sql.String(64), nullable=True), sql.Column('unrestricted', sql.Boolean), sql.UniqueConstraint( 'user_id', 'name', name='duplicate_app_cred_constraint' ), mysql_engine='InnoDB', mysql_charset='utf8', access_rule = sql.Table( 'access_rule', meta, sql.Column('id', sql.Integer, primary_key=True, nullable=False), sql.Column('service', sql.String(64)), sql.Column('path', sql.String(128)), sql.Column('method', sql.String(16)), sql.Column('external_id', sql.String(64)), sql.Column('user_id', sql.String(64)), sql.UniqueConstraint( 'external_id', name='access_rule_external_id_key', ), sql.UniqueConstraint( 'user_id', 'service', 'path', 'method', name='duplicate_access_rule_for_user_constraint', ), sql.Index('user_id', 'user_id'), sql.Index('external_id', 'external_id'), mysql_engine='InnoDB', mysql_charset='utf8', ) app_cred_access_rule = sql.Table( endpoint, user_option, region, assignment, id_mapping, sensitive_config, config_register, policy_association, identity_provider, federation_protocol, mapping, service_provider, idp_remote_ids, consumer, request_token, revocation_event, project_endpoint, endpoint_group, project_endpoint_group, implied_role, local_user, password, federated_user, nonlocal_user, system_assignment, registered_limit, limit, application_credential, access_rule, app_cred_access_rule, fkeys = [ { 'columns': [endpoint.c.service_id], 'references': [service.c.id], }, { 'columns': [user_group_membership.c.group_id], 'references': [group.c.id], 'name': 'fk_user_group_membership_group_id', }, { 'columns': [user_group_membership.c.user_id], 'references': [user.c.id], 'name': 'fk_user_group_membership_user_id', }, { 'columns': [project.c.domain_id], 'references': [project.c.id], }, { 'columns': [endpoint.c.region_id], 'references': [region.c.id], 'name': 'fk_endpoint_region_id', }, { 'columns': [project.c.parent_id], 'references': [project.c.id], 'name': 'project_parent_id_fkey', }, { 'columns': [implied_role.c.prior_role_id], 'references': [role.c.id], 'ondelete': 'CASCADE', }, { 'columns': [implied_role.c.implied_role_id], 'references': [role.c.id], 'ondelete': 'CASCADE', }, { 'columns': [ federated_user.c.protocol_id, federated_user.c.idp_id, ], 'references': [ federation_protocol.c.id, federation_protocol.c.idp_id, ], 'ondelete': 'CASCADE', }, { 'columns': [local_user.c.user_id, local_user.c.domain_id], 'references': [user.c.id, user.c.domain_id], 'onupdate': 'CASCADE', 'ondelete': 'CASCADE', }, { 'columns': [nonlocal_user.c.user_id, nonlocal_user.c.domain_id], 'references': [user.c.id, user.c.domain_id], 'onupdate': 'CASCADE', 'ondelete': 'CASCADE', }, ]",499,473
openstack%2Ftripleo-quickstart-extras~master~I8b0265576fdec472201105384e475c9285c52ceb,openstack/tripleo-quickstart-extras,master,I8b0265576fdec472201105384e475c9285c52ceb,Include cert dir for container build,MERGED,2022-02-08 06:52:53.000000000,2022-02-08 15:39:53.000000000,2022-02-08 15:39:53.000000000,"[{'_account_id': 8449}, {'_account_id': 9976}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30002}]","[{'number': 1, 'created': '2022-02-08 06:52:53.000000000', 'files': ['roles/container-build/tasks/main.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/8876a9aff8d5f6d57e947566b57023eb23d0ff6d', 'message': 'Include cert dir for container build\n\nIf a cert is needed to access resources, it needs to be passed\nto ""openstack container build""\n\nThis is needed in downstream where after enabling ssl for DLRN\n- container build in content-provider jobs is failing because\nnecessary certs are not available.\n\nChange-Id: I8b0265576fdec472201105384e475c9285c52ceb\n'}]",0,828223,8876a9aff8d5f6d57e947566b57023eb23d0ff6d,11,5,1,29775,,,0,"Include cert dir for container build

If a cert is needed to access resources, it needs to be passed
to ""openstack container build""

This is needed in downstream where after enabling ssl for DLRN
- container build in content-provider jobs is failing because
necessary certs are not available.

Change-Id: I8b0265576fdec472201105384e475c9285c52ceb
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/23/828223/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/container-build/tasks/main.yaml'],1,8876a9aff8d5f6d57e947566b57023eb23d0ff6d,," - ""/etc/pki/ca-trust:/etc/pki/ca-trust:z""",,1,0
openstack%2Fzaqar~stable%2Fxena~I2f17523b52f43f8922dcdb6f3a706222a69ab707,openstack/zaqar,stable/xena,I2f17523b52f43f8922dcdb6f3a706222a69ab707,Xena-only : Replace job template for stable/xena,NEW,2022-02-08 14:22:30.000000000,2022-02-08 15:38:28.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-02-08 14:22:30.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/zaqar/commit/c800b742340c71f1dc2ec3f9a16fa35548d0d474', 'message': 'Xena-only : Replace job template for stable/xena\n\nIt seems job template has not been updated since Victoria. This change\nreplaces the template by the one for Xena release.\n\nChange-Id: I2f17523b52f43f8922dcdb6f3a706222a69ab707\n'}]",0,828348,c800b742340c71f1dc2ec3f9a16fa35548d0d474,2,1,1,9816,,,0,"Xena-only : Replace job template for stable/xena

It seems job template has not been updated since Victoria. This change
replaces the template by the one for Xena release.

Change-Id: I2f17523b52f43f8922dcdb6f3a706222a69ab707
",git fetch https://review.opendev.org/openstack/zaqar refs/changes/48/828348/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,c800b742340c71f1dc2ec3f9a16fa35548d0d474,, - openstack-python3-xena-jobs, - openstack-python3-ussuri-jobs,1,1
openstack%2Fkeystone~master~Ifc71efb8609bc26ce998a9fa48b207abf8b9a38b,openstack/keystone,master,Ifc71efb8609bc26ce998a9fa48b207abf8b9a38b,sql: Squash train migrations,MERGED,2022-01-14 19:14:29.000000000,2022-02-08 15:36:54.000000000,2022-02-08 14:18:29.000000000,"[{'_account_id': 7414}, {'_account_id': 7973}, {'_account_id': 16465}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-14 19:14:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/ce8b7569dcf06792758200808f8545e3feefd2c5', 'message': 'sql: Squash train migrations\n\nMake the following changes to the new ""initial"" migrations.\n\n- Add \'redelegated_trust_id\' and \'redelegation_count\' columns to\n  \'trust\' table (062)\n- Drop \'service_id\', \'region_id\', and \'resource_name\' columns from\n  \'limit\' table (063)\n- Add \'remote_id_attribute\' column to \'federation_protocol\' table (064)\n- Add \'external_id\' and \'user_id\' columns to \'access_rule\' table (065)\n- Add \'role_option\' and \'project_option\' tables (066)\n\nChange-Id: Ifc71efb8609bc26ce998a9fa48b207abf8b9a38b\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 2, 'created': '2022-01-19 18:50:03.000000000', 'files': ['keystone/common/sql/data_migration_repo/versions/064_migrate_add_remote_id_attribute_to_federation_protocol_table.py', 'keystone/common/sql/expand_repo/versions/066_expand_initial_migration.py', 'keystone/common/sql/expand_repo/versions/065_expand_add_user_external_id_to_access_rule.py', 'keystone/common/sql/contract_repo/versions/059_placeholder.py', 'keystone/common/sql/data_migration_repo/versions/060_placeholder.py', 'keystone/common/sql/data_migration_repo/versions/065_migrate_add_user_external_id_to_access_rule.py', 'keystone/common/sql/expand_repo/versions/063_expand_drop_limit_columns.py', 'keystone/common/sql/contract_repo/versions/061_placeholder.py', 'keystone/tests/unit/test_sql_upgrade.py', 'keystone/common/sql/expand_repo/versions/064_expand_add_remote_id_attribute_to_federation_protocol_table.py', 'keystone/common/sql/data_migration_repo/versions/057_placeholder.py', 'keystone/common/sql/data_migration_repo/versions/066_migrate_add_resource_options_table.py', 'keystone/common/sql/expand_repo/versions/060_placeholder.py', 'keystone/common/sql/expand_repo/versions/066_expand_add_role_and_project_option_tables.py', 'keystone/common/sql/contract_repo/versions/060_placeholder.py', 'keystone/common/sql/upgrades.py', 'keystone/common/sql/contract_repo/versions/066_contract_add_resource_options_table.py', 'keystone/common/sql/data_migration_repo/versions/061_placeholder.py', 'keystone/common/sql/expand_repo/versions/062_expand_extract_redelegation_data_from_extras.py', 'keystone/common/sql/expand_repo/versions/058_placeholder.py', 'keystone/common/sql/expand_repo/versions/061_placeholder.py', 'keystone/common/sql/data_migration_repo/versions/058_placeholder.py', 'keystone/common/sql/contract_repo/versions/066_contract_initial_migration.py', 'keystone/common/sql/contract_repo/versions/062_contract_extract_redelegation_data_from_extras.py', 'keystone/common/sql/expand_repo/versions/059_placeholder.py', 'keystone/common/sql/data_migration_repo/versions/063_migrate_drop_limit_columns.py', 'keystone/common/sql/expand_repo/versions/057_placeholder.py', 'keystone/common/sql/contract_repo/versions/064_contract_add_remote_id_attribute_to_federation_protocol_table.py', 'keystone/common/sql/contract_repo/versions/065_contract_add_user_external_id_to_access_rule.py', 'keystone/common/sql/data_migration_repo/versions/062_migrate_extract_redelegation_data_from_extras.py', 'keystone/common/sql/contract_repo/versions/057_placeholder.py', 'keystone/common/sql/contract_repo/versions/058_placeholder.py', 'keystone/common/sql/contract_repo/versions/063_contract_drop_limit_columns.py', 'keystone/common/sql/data_migration_repo/versions/059_placeholder.py', 'keystone/common/sql/data_migration_repo/versions/066_migrate_initial_migration.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/10b67ba1f5a38aa725c4c78eda79021a7d0ce381', 'message': 'sql: Squash train migrations\n\nMake the following changes to the new ""initial"" migrations.\n\n- Add \'redelegated_trust_id\' and \'redelegation_count\' columns to\n  \'trust\' table (062)\n- Drop \'service_id\', \'region_id\', and \'resource_name\' columns from\n  \'limit\' table (063)\n- Add \'remote_id_attribute\' column to \'federation_protocol\' table (064)\n- Add \'external_id\' and \'user_id\' columns to \'access_rule\' table (065)\n- Add \'role_option\' and \'project_option\' tables (066)\n\nChange-Id: Ifc71efb8609bc26ce998a9fa48b207abf8b9a38b\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}]",3,824784,10b67ba1f5a38aa725c4c78eda79021a7d0ce381,22,5,2,15334,,,0,"sql: Squash train migrations

Make the following changes to the new ""initial"" migrations.

- Add 'redelegated_trust_id' and 'redelegation_count' columns to
  'trust' table (062)
- Drop 'service_id', 'region_id', and 'resource_name' columns from
  'limit' table (063)
- Add 'remote_id_attribute' column to 'federation_protocol' table (064)
- Add 'external_id' and 'user_id' columns to 'access_rule' table (065)
- Add 'role_option' and 'project_option' tables (066)

Change-Id: Ifc71efb8609bc26ce998a9fa48b207abf8b9a38b
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/keystone refs/changes/84/824784/2 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/common/sql/data_migration_repo/versions/064_migrate_add_remote_id_attribute_to_federation_protocol_table.py', 'keystone/common/sql/expand_repo/versions/066_expand_initial_migration.py', 'keystone/common/sql/expand_repo/versions/065_expand_add_user_external_id_to_access_rule.py', 'keystone/common/sql/contract_repo/versions/059_placeholder.py', 'keystone/common/sql/data_migration_repo/versions/060_placeholder.py', 'keystone/common/sql/data_migration_repo/versions/065_migrate_add_user_external_id_to_access_rule.py', 'keystone/common/sql/expand_repo/versions/063_expand_drop_limit_columns.py', 'keystone/common/sql/contract_repo/versions/061_placeholder.py', 'keystone/tests/unit/test_sql_upgrade.py', 'keystone/common/sql/expand_repo/versions/064_expand_add_remote_id_attribute_to_federation_protocol_table.py', 'keystone/common/sql/data_migration_repo/versions/057_placeholder.py', 'keystone/common/sql/data_migration_repo/versions/066_migrate_add_resource_options_table.py', 'keystone/common/sql/expand_repo/versions/060_placeholder.py', 'keystone/common/sql/expand_repo/versions/066_expand_add_role_and_project_option_tables.py', 'keystone/common/sql/contract_repo/versions/060_placeholder.py', 'keystone/common/sql/contract_repo/versions/066_contract_add_resource_options_table.py', 'keystone/common/sql/data_migration_repo/versions/061_placeholder.py', 'keystone/common/sql/expand_repo/versions/062_expand_extract_redelegation_data_from_extras.py', 'keystone/common/sql/expand_repo/versions/058_placeholder.py', 'keystone/common/sql/expand_repo/versions/061_placeholder.py', 'keystone/common/sql/data_migration_repo/versions/058_placeholder.py', 'keystone/common/sql/contract_repo/versions/066_contract_initial_migration.py', 'keystone/common/sql/contract_repo/versions/062_contract_extract_redelegation_data_from_extras.py', 'keystone/common/sql/expand_repo/versions/059_placeholder.py', 'keystone/common/sql/data_migration_repo/versions/063_migrate_drop_limit_columns.py', 'keystone/common/sql/expand_repo/versions/057_placeholder.py', 'keystone/common/sql/contract_repo/versions/064_contract_add_remote_id_attribute_to_federation_protocol_table.py', 'keystone/common/sql/contract_repo/versions/065_contract_add_user_external_id_to_access_rule.py', 'keystone/common/sql/data_migration_repo/versions/062_migrate_extract_redelegation_data_from_extras.py', 'keystone/common/sql/contract_repo/versions/057_placeholder.py', 'keystone/common/sql/contract_repo/versions/058_placeholder.py', 'keystone/common/sql/contract_repo/versions/063_contract_drop_limit_columns.py', 'keystone/common/sql/data_migration_repo/versions/059_placeholder.py', 'keystone/common/sql/data_migration_repo/versions/066_migrate_initial_migration.py']",34,ce8b7569dcf06792758200808f8545e3feefd2c5,bp/remove-sqlalchemy-migrate,,,75,805
openstack%2Fglance~master~I9e20aaae95f6dd034e40801bb1310259131d3954,openstack/glance,master,I9e20aaae95f6dd034e40801bb1310259131d3954,[WIP] Modify glance db constant check logic,ABANDONED,2022-02-03 05:13:34.000000000,2022-02-08 15:16:30.000000000,,"[{'_account_id': 4393}, {'_account_id': 5202}, {'_account_id': 5314}, {'_account_id': 8122}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-03 05:13:34.000000000', 'files': ['glance/tests/gate/test_data_migration_version.py', 'glance/db/migration.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/3009bb7dbf7f2ead746da999f5778d230ce1812c', 'message': '[WIP] Modify glance db constant check logic\n\nEarlier we were checking whether glance release version is matching\nwith current release name. This requires to wait untill we use to\ntag atleast one milestone from current release.\n\nIn this patch I am making sure that Current release is not less\nthan what we are actually expecting.\n\nChange-Id: I9e20aaae95f6dd034e40801bb1310259131d3954\n'}]",0,827587,3009bb7dbf7f2ead746da999f5778d230ce1812c,3,5,1,9303,,,0,"[WIP] Modify glance db constant check logic

Earlier we were checking whether glance release version is matching
with current release name. This requires to wait untill we use to
tag atleast one milestone from current release.

In this patch I am making sure that Current release is not less
than what we are actually expecting.

Change-Id: I9e20aaae95f6dd034e40801bb1310259131d3954
",git fetch https://review.opendev.org/openstack/glance refs/changes/87/827587/1 && git format-patch -1 --stdout FETCH_HEAD,"['glance/tests/gate/test_data_migration_version.py', 'glance/db/migration.py']",2,3009bb7dbf7f2ead746da999f5778d230ce1812c,migration-version-bump,CURRENT_RELEASE = 'yoga',CURRENT_RELEASE = 'xena',5,2
openstack%2Fpython-aodhclient~master~I1f2788b7ffe8a28fdfbc5df0947f62c48449e8ad,openstack/python-aodhclient,master,I1f2788b7ffe8a28fdfbc5df0947f62c48449e8ad,Add Python 3 only classifier,MERGED,2022-02-08 14:14:11.000000000,2022-02-08 15:13:49.000000000,2022-02-08 15:11:10.000000000,"[{'_account_id': 4264}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-08 14:14:11.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/python-aodhclient/commit/c3c00002efd0bc98f7a15697793e4c084aae65fa', 'message': 'Add Python 3 only classifier\n\nPython 2 support was removed during Ussuri cycle. This change adds\nthe classifier to clearly state that only Python 3 is supported.\n\nChange-Id: I1f2788b7ffe8a28fdfbc5df0947f62c48449e8ad\n'}]",1,828341,c3c00002efd0bc98f7a15697793e4c084aae65fa,7,2,1,9816,,,0,"Add Python 3 only classifier

Python 2 support was removed during Ussuri cycle. This change adds
the classifier to clearly state that only Python 3 is supported.

Change-Id: I1f2788b7ffe8a28fdfbc5df0947f62c48449e8ad
",git fetch https://review.opendev.org/openstack/python-aodhclient refs/changes/41/828341/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,c3c00002efd0bc98f7a15697793e4c084aae65fa,py3-only, Programming Language :: Python :: 3 :: Only,,1,0
openstack%2Foslo.policy~stable%2Fvictoria~Ifcaf6993517d02bf54cd144efd247832947a009f,openstack/oslo.policy,stable/victoria,Ifcaf6993517d02bf54cd144efd247832947a009f,Dropping lower constraints testing,MERGED,2021-11-04 11:07:20.000000000,2022-02-08 14:51:27.000000000,2022-02-08 14:35:06.000000000,"[{'_account_id': 11628}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 31245}]","[{'number': 1, 'created': '2021-11-04 11:07:20.000000000', 'files': ['.zuul.yaml', 'lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/oslo.policy/commit/bd6dd9592dfbb88f5215d50b4c9873ae6ffd40ba', 'message': 'Dropping lower constraints testing\n\nWe facing errors related to the new pip resolver, this\ntopic was discussed on the ML and QA team proposed to\nto test lower-constraints [1].\n\nI propose to drop this test because the complexity and recurring pain needed\nto maintain that now exceeds the benefits provided by this mechanismes.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html\n\nChange-Id: Ifcaf6993517d02bf54cd144efd247832947a009f\n(cherry picked from commit 7b649af0c1569ebb61ed4e34da4a476ccb1474b9)\n(cherry picked from commit 21df7f5a32b3eb0f7352eafd9f79c7ca28919938)\n'}]",2,816644,bd6dd9592dfbb88f5215d50b4c9873ae6ffd40ba,9,4,1,28522,,,0,"Dropping lower constraints testing

We facing errors related to the new pip resolver, this
topic was discussed on the ML and QA team proposed to
to test lower-constraints [1].

I propose to drop this test because the complexity and recurring pain needed
to maintain that now exceeds the benefits provided by this mechanismes.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html

Change-Id: Ifcaf6993517d02bf54cd144efd247832947a009f
(cherry picked from commit 7b649af0c1569ebb61ed4e34da4a476ccb1474b9)
(cherry picked from commit 21df7f5a32b3eb0f7352eafd9f79c7ca28919938)
",git fetch https://review.opendev.org/openstack/oslo.policy refs/changes/44/816644/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'lower-constraints.txt', 'tox.ini']",3,bd6dd9592dfbb88f5215d50b4c9873ae6ffd40ba,lc-victoria,, [testenv:lower-constraints] deps = -c{toxinidir}/lower-constraints.txt -r{toxinidir}/test-requirements.txt -r{toxinidir}/requirements.txt -r{toxinidir}/doc/requirements.txt,0,58
openstack%2Fpuppet-openstack-integration~stable%2Fussuri~I97995b6821a24b64edbc5b1e874ba67a0418f96a,openstack/puppet-openstack-integration,stable/ussuri,I97995b6821a24b64edbc5b1e874ba67a0418f96a,Ceph: Use centos-8-stream instead of centos-8,MERGED,2022-02-04 11:13:44.000000000,2022-02-08 14:42:49.000000000,2022-02-08 14:42:49.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-04 11:13:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/683bb18852b9656b613f4b37a2e8aa80e60df337', 'message': ""Ceph: Use centos-8-stream instead of centos-8\n\nConflicts:\n\tconfigure_facts.sh\n\tmanifests/repos.pp\n\nBackport note:\nThis backport includes part of f384effdb42e0cbe19e137f0411b09ac8fef5b48\nwhich fixed the repository url used when mirror info is not available.\n\nAlso, this adds a puppet-openstack_extras parameter to enforce usage of\nstream repo. Default was changed during Xena cycle by [1] but that\nis not present in stable/wallaby and older.\n  [1] cf8b734766bbe75ac5ce23d7a4237b77c8200dd3\n\nFinally, Nautilus is not available in ceph mirror so we'll switch to\nthe mirror repo currently RDO is hosting.\n\nChange-Id: I97995b6821a24b64edbc5b1e874ba67a0418f96a\n(cherry picked from commit b2fa6c0e7bb6d5e319cd820484c120d043f58ab2)\n(cherry picked from commit 8c00b663d38a0f71cc2d108ff799f7aaa0b8f9e0)\n(cherry picked from commit 4d6a35effa25b23e1f345402ca5ef34df74b7674)\n(cherry picked from commit 0a9eec11e0db740bac5ee4e4a303e710c41137a7)\n""}, {'number': 2, 'created': '2022-02-04 12:56:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/e6064d68bafd4745a20115502903bbd280ab97b2', 'message': ""Ceph: Use centos-8-stream instead of centos-8\n\nConflicts:\n\tconfigure_facts.sh\n\tmanifests/repos.pp\n\nBackport note:\nThis backport includes part of f384effdb42e0cbe19e137f0411b09ac8fef5b48\nwhich fixed the repository url used when mirror info is not available.\n\nAlso, this adds a puppet-openstack_extras parameter to enforce usage of\nstream repo. Default was changed during Xena cycle by [1] but that\nis not present in stable/wallaby and older.\n  [1] cf8b734766bbe75ac5ce23d7a4237b77c8200dd3\n\nFinally, Nautilus is not available in ceph mirror so we'll switch to\nthe mirror repo currently RDO is hosting.\n\nDepends-on: https://review.opendev.org/827853\n\nChange-Id: I97995b6821a24b64edbc5b1e874ba67a0418f96a\n(cherry picked from commit b2fa6c0e7bb6d5e319cd820484c120d043f58ab2)\n(cherry picked from commit 8c00b663d38a0f71cc2d108ff799f7aaa0b8f9e0)\n(cherry picked from commit 4d6a35effa25b23e1f345402ca5ef34df74b7674)\n(cherry picked from commit 0a9eec11e0db740bac5ee4e4a303e710c41137a7)\n""}, {'number': 3, 'created': '2022-02-04 14:49:55.000000000', 'files': ['manifests/repos.pp', 'configure_facts.sh', 'zuul.d/integration.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/73fc9c7cffe81d9a9afe1c12cb67d09e5b3d78ba', 'message': ""Ceph: Use centos-8-stream instead of centos-8\n\nConflicts:\n\tconfigure_facts.sh\n\tmanifests/repos.pp\n\nBackport note:\nThis backport includes part of f384effdb42e0cbe19e137f0411b09ac8fef5b48\nwhich fixed the repository url used when mirror info is not available.\n\nAlso, this adds a puppet-openstack_extras parameter to enforce usage of\nstream repo. Default was changed during Xena cycle by [1] but that\nis not present in stable/wallaby and older.\n  [1] cf8b734766bbe75ac5ce23d7a4237b77c8200dd3\n\nIn addition, this bumps Ceph used in Puppet 5 integration job in\nCentOS 8 from luminous to nautilus, because luminous is quite old and\nno longer hosted in mirror.\n\nFinally, Nautilus is not available in ceph mirror so we'll switch to\nthe mirror repo currently RDO is hosting.\n\nDepends-on: https://review.opendev.org/827853\n\nChange-Id: I97995b6821a24b64edbc5b1e874ba67a0418f96a\n(cherry picked from commit b2fa6c0e7bb6d5e319cd820484c120d043f58ab2)\n(cherry picked from commit 8c00b663d38a0f71cc2d108ff799f7aaa0b8f9e0)\n(cherry picked from commit 4d6a35effa25b23e1f345402ca5ef34df74b7674)\n(cherry picked from commit 0a9eec11e0db740bac5ee4e4a303e710c41137a7)\n""}]",2,827840,73fc9c7cffe81d9a9afe1c12cb67d09e5b3d78ba,14,3,3,9816,,,0,"Ceph: Use centos-8-stream instead of centos-8

Conflicts:
	configure_facts.sh
	manifests/repos.pp

Backport note:
This backport includes part of f384effdb42e0cbe19e137f0411b09ac8fef5b48
which fixed the repository url used when mirror info is not available.

Also, this adds a puppet-openstack_extras parameter to enforce usage of
stream repo. Default was changed during Xena cycle by [1] but that
is not present in stable/wallaby and older.
  [1] cf8b734766bbe75ac5ce23d7a4237b77c8200dd3

In addition, this bumps Ceph used in Puppet 5 integration job in
CentOS 8 from luminous to nautilus, because luminous is quite old and
no longer hosted in mirror.

Finally, Nautilus is not available in ceph mirror so we'll switch to
the mirror repo currently RDO is hosting.

Depends-on: https://review.opendev.org/827853

Change-Id: I97995b6821a24b64edbc5b1e874ba67a0418f96a
(cherry picked from commit b2fa6c0e7bb6d5e319cd820484c120d043f58ab2)
(cherry picked from commit 8c00b663d38a0f71cc2d108ff799f7aaa0b8f9e0)
(cherry picked from commit 4d6a35effa25b23e1f345402ca5ef34df74b7674)
(cherry picked from commit 0a9eec11e0db740bac5ee4e4a303e710c41137a7)
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/40/827840/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/repos.pp', 'configure_facts.sh']",2,683bb18852b9656b613f4b37a2e8aa80e60df337,," CEPH_MIRROR_HOST=""https://trunk.rdoproject.org/centos${VERSION_ID}/deps/storage/storage${VERSION_ID}-ceph-mimic/x86_64/"" elif [ ""$CEPH_VERSION"" == ""nautilus"" ]; then CEPH_MIRROR_HOST=""${NODEPOOL_RDO_PROXY}/centos${VERSION_ID}-master/deps/storage/${CEPH_VERSION}/"" CEPH_MIRROR_HOST=""${CENTOS_MIRROR_HOST}/centos/${VERSION_ID}-stream/storage/x86_64/ceph-${CEPH_VERSION}/"" CEPH_MIRROR_HOST=""https://trunk.rdoproject.org/centos${VERSION_ID}/deps/storage/storage${VERSION_ID}-ceph-mimic/x86_64/"" elif [ ""$CEPH_VERSION"" == ""nautilus"" ]; then CEPH_MIRROR_HOST=""${NODEPOOL_RDO_PROXY}/centos${VERSION_ID}-master/deps/storage/${CEPH_VERSION}/"" CEPH_MIRROR_HOST=""${CENTOS_MIRROR_HOST}/centos/${VERSION_ID}-stream/storage/x86_64/ceph-${CEPH_VERSION}/"""," CEPH_MIRROR_HOST='https://trunk.rdoproject.org/centos7/deps/storage/storage7-ceph-mimic/x86_64/' CEPH_MIRROR_HOST=""${CENTOS_MIRROR_HOST}/centos/7/storage/x86_64/ceph-${CEPH_VERSION}/"" CEPH_MIRROR_HOST='https://trunk.rdoproject.org/centos7/deps/storage/storage7-ceph-mimic/x86_64/' CEPH_MIRROR_HOST=""${CENTOS_MIRROR_HOST}/centos/7/storage/x86_64/ceph-${CEPH_VERSION}/""",11,6
openstack%2Fkeystone~master~I58e4b6833036a25ea8a1202c87ceebdbe932b447,openstack/keystone,master,I58e4b6833036a25ea8a1202c87ceebdbe932b447,sql: Squash stein migrations,MERGED,2022-01-14 19:14:29.000000000,2022-02-08 14:27:35.000000000,2022-02-08 14:18:26.000000000,"[{'_account_id': 7414}, {'_account_id': 7973}, {'_account_id': 16465}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-14 19:14:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/ff19311b8fcff96bcd9643d66fae21390ef70fea', 'message': 'sql: Squash stein migrations\n\nMake the following changes to the new ""initial"" migrations.\n\n- Add \'description\' column to \'role\' table (053)\n- Drop \'password\' column from \'password\' table (054)\n- Add \'domain_id\' column to \'limit\' table (055)\n- Alter \'project_id\' column of \'limit\' table to be nullable (055)\n- Add \'access_rule\' and \'application_credential_access_rule\' tables\n  (056)\n\nChange-Id: I58e4b6833036a25ea8a1202c87ceebdbe932b447\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 2, 'created': '2022-01-19 18:50:03.000000000', 'files': ['keystone/common/sql/expand_repo/versions/054_expand_drop_old_passoword_column.py', 'keystone/common/sql/data_migration_repo/versions/051_placeholder.py', 'keystone/common/sql/expand_repo/versions/051_placeholder.py', 'keystone/common/sql/contract_repo/versions/055_contract_add_domain_to_limit.py', 'keystone/common/sql/data_migration_repo/versions/054_migrate_drop_old_passoword_column.py', 'keystone/common/sql/data_migration_repo/versions/056_migrate_initial_migration.py', 'keystone/tests/unit/test_sql_upgrade.py', 'keystone/common/sql/data_migration_repo/versions/049_placeholder.py', 'keystone/common/sql/data_migration_repo/versions/053_migrate_add_role_description_to_role_table.py', 'keystone/common/sql/expand_repo/versions/052_placeholder.py', 'keystone/common/sql/expand_repo/versions/056_expand_initial_migration.py', 'keystone/common/sql/data_migration_repo/versions/055_migrate_add_domain_to_limit.py', 'keystone/common/sql/upgrades.py', 'keystone/common/sql/data_migration_repo/versions/052_placeholder.py', 'keystone/common/sql/expand_repo/versions/055_expand_add_domain_to_limit.py', 'keystone/common/sql/contract_repo/versions/051_placeholder.py', 'keystone/common/sql/contract_repo/versions/056_contract_add_application_credential_access_rules.py', 'keystone/common/sql/expand_repo/versions/056_expand_add_application_credential_access_rules.py', 'keystone/common/sql/contract_repo/versions/054_contract_drop_old_passoword_column.py', 'keystone/common/sql/contract_repo/versions/052_placeholder.py', 'keystone/common/sql/expand_repo/versions/053_expand_add_role_description_to_role_table.py', 'keystone/common/sql/data_migration_repo/versions/050_placeholder.py', 'keystone/common/sql/contract_repo/versions/050_placeholder.py', 'keystone/common/sql/data_migration_repo/versions/056_migrate_add_application_credential_access_rules.py', 'keystone/common/sql/expand_repo/versions/049_placeholder.py', 'keystone/common/sql/contract_repo/versions/053_contract_add_role_description_to_role_table.py', 'keystone/common/sql/expand_repo/versions/050_placeholder.py', 'keystone/common/sql/contract_repo/versions/056_contract_initial_migration.py', 'keystone/common/sql/contract_repo/versions/049_placeholder.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/1639282e490b3826adff726e75275cd40b50dd82', 'message': 'sql: Squash stein migrations\n\nMake the following changes to the new ""initial"" migrations.\n\n- Add \'description\' column to \'role\' table (053)\n- Drop \'password\' column from \'password\' table (054)\n- Add \'domain_id\' column to \'limit\' table (055)\n- Alter \'project_id\' column of \'limit\' table to be nullable (055)\n- Add \'access_rule\' and \'application_credential_access_rule\' tables\n  (056)\n\nChange-Id: I58e4b6833036a25ea8a1202c87ceebdbe932b447\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}]",2,824783,1639282e490b3826adff726e75275cd40b50dd82,19,5,2,15334,,,0,"sql: Squash stein migrations

Make the following changes to the new ""initial"" migrations.

- Add 'description' column to 'role' table (053)
- Drop 'password' column from 'password' table (054)
- Add 'domain_id' column to 'limit' table (055)
- Alter 'project_id' column of 'limit' table to be nullable (055)
- Add 'access_rule' and 'application_credential_access_rule' tables
  (056)

Change-Id: I58e4b6833036a25ea8a1202c87ceebdbe932b447
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/keystone refs/changes/83/824783/2 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/common/sql/expand_repo/versions/054_expand_drop_old_passoword_column.py', 'keystone/common/sql/data_migration_repo/versions/051_placeholder.py', 'keystone/common/sql/expand_repo/versions/051_placeholder.py', 'keystone/common/sql/contract_repo/versions/055_contract_add_domain_to_limit.py', 'keystone/common/sql/data_migration_repo/versions/054_migrate_drop_old_passoword_column.py', 'keystone/common/sql/data_migration_repo/versions/056_migrate_initial_migration.py', 'keystone/tests/unit/test_sql_upgrade.py', 'keystone/common/sql/data_migration_repo/versions/049_placeholder.py', 'keystone/common/sql/data_migration_repo/versions/053_migrate_add_role_description_to_role_table.py', 'keystone/common/sql/expand_repo/versions/052_placeholder.py', 'keystone/common/sql/expand_repo/versions/056_expand_initial_migration.py', 'keystone/common/sql/data_migration_repo/versions/055_migrate_add_domain_to_limit.py', 'keystone/common/sql/data_migration_repo/versions/052_placeholder.py', 'keystone/common/sql/expand_repo/versions/055_expand_add_domain_to_limit.py', 'keystone/common/sql/contract_repo/versions/051_placeholder.py', 'keystone/common/sql/contract_repo/versions/056_contract_add_application_credential_access_rules.py', 'keystone/common/sql/expand_repo/versions/056_expand_add_application_credential_access_rules.py', 'keystone/common/sql/contract_repo/versions/054_contract_drop_old_passoword_column.py', 'keystone/common/sql/contract_repo/versions/052_placeholder.py', 'keystone/common/sql/expand_repo/versions/053_expand_add_role_description_to_role_table.py', 'keystone/common/sql/data_migration_repo/versions/050_placeholder.py', 'keystone/common/sql/contract_repo/versions/050_placeholder.py', 'keystone/common/sql/data_migration_repo/versions/056_migrate_add_application_credential_access_rules.py', 'keystone/common/sql/expand_repo/versions/049_placeholder.py', 'keystone/common/sql/contract_repo/versions/053_contract_add_role_description_to_role_table.py', 'keystone/common/sql/expand_repo/versions/050_placeholder.py', 'keystone/common/sql/contract_repo/versions/056_contract_initial_migration.py', 'keystone/common/sql/contract_repo/versions/049_placeholder.py']",28,ff19311b8fcff96bcd9643d66fae21390ef70fea,bp/remove-sqlalchemy-migrate,,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # This is a placeholder for Rocky backports. Do not use this number for new # Stein work. New Stein work starts after all the placeholders. def upgrade(migrate_engine): pass ",49,618
openstack%2Fkeystone~master~Ic499a996e1b9c6f0a9d885b4a9e655008002d49f,openstack/keystone,master,Ic499a996e1b9c6f0a9d885b4a9e655008002d49f,sql: Squash queens migrations,MERGED,2022-01-14 19:14:29.000000000,2022-02-08 14:17:05.000000000,2022-02-08 13:45:57.000000000,"[{'_account_id': 7414}, {'_account_id': 7973}, {'_account_id': 16465}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-14 19:14:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/105b2584aaa15a8941fb8978ca7fef990f3b6cbc', 'message': 'sql: Squash queens migrations\n\nMake the following changes to the new ""initial"" migrations.\n\n- Add \'project_tag\' table (030)\n- Add \'system_assignment\' table (031)\n- Add \'expires_at_int\' column to \'trust\' table and expand the unique\n  constraint covering \'trustor_user_id\', \'trustee_user_id\',\n  \'project_id\', \'impersonation\', and \'expires_at\' to also cover the\n  \'expires_at_int\' column (032)\n- Add \'limit\' and \'registered_limit\' tables (033)\n- Add \'application_credential\' and \'application_credential_role\' tables\n  (034)\n- Add \'system\' column to \'application_credential\' table and make\n  \'project_id\' column nullable (035)\n- Rename \'allow_application_credential_creation\' column of\n  \'application_credential\' table to \'unrestricted\' (036)\n- Remove foreign key constraints from \'service_id\' and \'region_id\'\n  columns of \'registered_limit\' table (037)\n\nChange-Id: Ic499a996e1b9c6f0a9d885b4a9e655008002d49f\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 2, 'created': '2022-01-19 18:50:03.000000000', 'files': ['keystone/common/sql/contract_repo/versions/029_placeholder.py', 'keystone/common/sql/contract_repo/versions/033_contract_add_limits_tables.py', 'keystone/common/sql/expand_repo/versions/026_placeholder.py', 'keystone/common/sql/expand_repo/versions/033_expand_add_limits_tables.py', 'keystone/common/sql/data_migration_repo/versions/037_migrate_initial_migration.py', 'keystone/common/sql/expand_repo/versions/037_expand_remove_service_and_region_fk_for_registered_limit.py', 'keystone/common/sql/data_migration_repo/versions/026_placeholder.py', 'keystone/common/sql/data_migration_repo/versions/027_placeholder.py', 'keystone/common/sql/expand_repo/versions/034_expand_add_application_credential_table.py', 'keystone/common/sql/expand_repo/versions/036_expand_rename_application_credential_restriction_column.py', 'keystone/common/sql/data_migration_repo/versions/035_migrate_add_system_column_to_application_credential_table.py', 'keystone/common/sql/expand_repo/versions/025_placeholder.py', 'keystone/tests/unit/test_sql_upgrade.py', 'keystone/common/sql/expand_repo/versions/027_placeholder.py', 'keystone/common/sql/expand_repo/versions/035_expand_add_system_column_to_application_credential_table.py', 'keystone/common/sql/contract_repo/versions/032_contract_add_expired_at_int_to_trust.py', 'keystone/common/sql/contract_repo/versions/025_placeholder.py', 'keystone/common/sql/upgrades.py', 'keystone/common/sql/expand_repo/versions/037_expand_initial_migration.py', 'keystone/common/sql/data_migration_repo/versions/033_migrate_add_limits_tables.py', 'keystone/common/sql/contract_repo/versions/031_contract_system_assignment_table.py', 'keystone/common/sql/data_migration_repo/versions/029_placeholder.py', 'keystone/common/sql/data_migration_repo/versions/032_migrate_add_expired_at_int_to_trust.py', 'keystone/common/sql/contract_repo/versions/036_contract_rename_application_credential_restriction_column.py', 'keystone/common/sql/data_migration_repo/versions/034_migrate_add_application_credentials_table.py', 'keystone/common/sql/contract_repo/versions/027_placeholder.py', 'keystone/common/sql/expand_repo/versions/032_expand_add_expired_at_int_to_trust.py', 'keystone/common/sql/contract_repo/versions/030_contract_add_project_tags_table.py', 'keystone/common/sql/contract_repo/versions/026_placeholder.py', 'keystone/common/sql/expand_repo/versions/029_placeholder.py', 'keystone/common/sql/contract_repo/versions/037_contract_remove_service_and_region_fk_for_registered_limit.py', 'keystone/common/sql/data_migration_repo/versions/031_migrate_system_assignment_table.py', 'keystone/common/sql/data_migration_repo/versions/037_migrate_remove_service_and_region_fk_for_registered_limit.py', 'keystone/common/sql/contract_repo/versions/034_contract_add_application_credentials_table.py', 'keystone/common/sql/expand_repo/versions/031_expand_system_assignment_table.py', 'keystone/common/sql/data_migration_repo/versions/030_migrate_add_project_tags_table.py', 'keystone/common/sql/data_migration_repo/versions/036_migrate_rename_application_credential_restriction_column.py', 'keystone/common/sql/data_migration_repo/versions/028_placeholder.py', 'keystone/common/sql/expand_repo/versions/030_expand_add_project_tags_table.py', 'keystone/common/sql/data_migration_repo/versions/025_placeholder.py', 'keystone/common/sql/contract_repo/versions/037_contract_initial_migration.py', 'keystone/common/sql/contract_repo/versions/028_placeholder.py', 'keystone/common/sql/contract_repo/versions/035_contract_add_system_column_to_application_credential_table.py', 'keystone/common/sql/expand_repo/versions/028_placeholder.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/6058ae332a9ef49bd8523a186479773592119a0e', 'message': 'sql: Squash queens migrations\n\nMake the following changes to the new ""initial"" migrations.\n\n- Add \'project_tag\' table (030)\n- Add \'system_assignment\' table (031)\n- Add \'expires_at_int\' column to \'trust\' table and expand the unique\n  constraint covering \'trustor_user_id\', \'trustee_user_id\',\n  \'project_id\', \'impersonation\', and \'expires_at\' to also cover the\n  \'expires_at_int\' column (032)\n- Add \'limit\' and \'registered_limit\' tables (033)\n- Add \'application_credential\' and \'application_credential_role\' tables\n  (034)\n- Add \'system\' column to \'application_credential\' table and make\n  \'project_id\' column nullable (035)\n- Rename \'allow_application_credential_creation\' column of\n  \'application_credential\' table to \'unrestricted\' (036)\n- Remove foreign key constraints from \'service_id\' and \'region_id\'\n  columns of \'registered_limit\' table (037)\n\nChange-Id: Ic499a996e1b9c6f0a9d885b4a9e655008002d49f\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}]",1,824781,6058ae332a9ef49bd8523a186479773592119a0e,19,5,2,15334,,,0,"sql: Squash queens migrations

Make the following changes to the new ""initial"" migrations.

- Add 'project_tag' table (030)
- Add 'system_assignment' table (031)
- Add 'expires_at_int' column to 'trust' table and expand the unique
  constraint covering 'trustor_user_id', 'trustee_user_id',
  'project_id', 'impersonation', and 'expires_at' to also cover the
  'expires_at_int' column (032)
- Add 'limit' and 'registered_limit' tables (033)
- Add 'application_credential' and 'application_credential_role' tables
  (034)
- Add 'system' column to 'application_credential' table and make
  'project_id' column nullable (035)
- Rename 'allow_application_credential_creation' column of
  'application_credential' table to 'unrestricted' (036)
- Remove foreign key constraints from 'service_id' and 'region_id'
  columns of 'registered_limit' table (037)

Change-Id: Ic499a996e1b9c6f0a9d885b4a9e655008002d49f
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/keystone refs/changes/81/824781/2 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/common/sql/contract_repo/versions/029_placeholder.py', 'keystone/common/sql/contract_repo/versions/033_contract_add_limits_tables.py', 'keystone/common/sql/expand_repo/versions/026_placeholder.py', 'keystone/common/sql/expand_repo/versions/033_expand_add_limits_tables.py', 'keystone/common/sql/data_migration_repo/versions/037_migrate_initial_migration.py', 'keystone/common/sql/expand_repo/versions/037_expand_remove_service_and_region_fk_for_registered_limit.py', 'keystone/common/sql/data_migration_repo/versions/026_placeholder.py', 'keystone/common/sql/data_migration_repo/versions/027_placeholder.py', 'keystone/common/sql/expand_repo/versions/034_expand_add_application_credential_table.py', 'keystone/common/sql/expand_repo/versions/036_expand_rename_application_credential_restriction_column.py', 'keystone/common/sql/data_migration_repo/versions/035_migrate_add_system_column_to_application_credential_table.py', 'keystone/common/sql/expand_repo/versions/025_placeholder.py', 'keystone/tests/unit/test_sql_upgrade.py', 'keystone/common/sql/expand_repo/versions/027_placeholder.py', 'keystone/common/sql/expand_repo/versions/035_expand_add_system_column_to_application_credential_table.py', 'keystone/common/sql/contract_repo/versions/032_contract_add_expired_at_int_to_trust.py', 'keystone/common/sql/contract_repo/versions/025_placeholder.py', 'keystone/common/sql/expand_repo/versions/037_expand_initial_migration.py', 'keystone/common/sql/data_migration_repo/versions/033_migrate_add_limits_tables.py', 'keystone/common/sql/contract_repo/versions/031_contract_system_assignment_table.py', 'keystone/common/sql/data_migration_repo/versions/029_placeholder.py', 'keystone/common/sql/data_migration_repo/versions/032_migrate_add_expired_at_int_to_trust.py', 'keystone/common/sql/contract_repo/versions/036_contract_rename_application_credential_restriction_column.py', 'keystone/common/sql/data_migration_repo/versions/034_migrate_add_application_credentials_table.py', 'keystone/common/sql/contract_repo/versions/027_placeholder.py', 'keystone/common/sql/expand_repo/versions/032_expand_add_expired_at_int_to_trust.py', 'keystone/common/sql/contract_repo/versions/030_contract_add_project_tags_table.py', 'keystone/common/sql/contract_repo/versions/026_placeholder.py', 'keystone/common/sql/expand_repo/versions/029_placeholder.py', 'keystone/common/sql/contract_repo/versions/037_contract_remove_service_and_region_fk_for_registered_limit.py', 'keystone/common/sql/data_migration_repo/versions/031_migrate_system_assignment_table.py', 'keystone/common/sql/data_migration_repo/versions/037_migrate_remove_service_and_region_fk_for_registered_limit.py', 'keystone/common/sql/contract_repo/versions/034_contract_add_application_credentials_table.py', 'keystone/common/sql/expand_repo/versions/031_expand_system_assignment_table.py', 'keystone/common/sql/data_migration_repo/versions/030_migrate_add_project_tags_table.py', 'keystone/common/sql/data_migration_repo/versions/036_migrate_rename_application_credential_restriction_column.py', 'keystone/common/sql/data_migration_repo/versions/028_placeholder.py', 'keystone/common/sql/expand_repo/versions/030_expand_add_project_tags_table.py', 'keystone/common/sql/data_migration_repo/versions/025_placeholder.py', 'keystone/common/sql/contract_repo/versions/037_contract_initial_migration.py', 'keystone/common/sql/contract_repo/versions/028_placeholder.py', 'keystone/common/sql/contract_repo/versions/035_contract_add_system_column_to_application_credential_table.py', 'keystone/common/sql/expand_repo/versions/028_placeholder.py']",43,105b2584aaa15a8941fb8978ca7fef990f3b6cbc,bp/remove-sqlalchemy-migrate,,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # This is a placeholder for Pike backports. Do not use this number for new # Queens work. New Queens work starts after all the placeholders. def upgrade(migrate_engine): pass ",154,1430
openstack%2Felection~master~I155ba8e2c5e40ee4eccd873fff68af6b18832e49,openstack/election,master,I155ba8e2c5e40ee4eccd873fff68af6b18832e49,Add release cycle info in sub line of template emails,MERGED,2022-02-07 20:50:34.000000000,2022-02-08 14:08:03.000000000,2022-02-08 14:05:24.000000000,"[{'_account_id': 7198}, {'_account_id': 14482}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-07 20:50:34.000000000', 'files': ['openstack_election/templates/combined_end_nominations.j2', 'openstack_election/templates/combined_nominations_kickoff.j2', 'openstack_election/templates/ptl_election_season.j2', 'openstack_election/templates/combined_nominations_last_days.j2', 'openstack_election/templates/ptl_end_nominations.j2', 'openstack_election/templates/tc_nominations_kickoff.j2', 'openstack_election/templates/ptl_voting_last_days.j2', 'openstack_election/templates/ptl_voting_kickoff.j2', 'openstack_election/templates/tc_campaigning_kickoff.j2', 'openstack_election/templates/combined_voting_kickoff.j2', 'openstack_election/templates/tc_voting_last_days.j2', 'openstack_election/templates/combined_voting_last_days.j2', 'openstack_election/templates/tc_voting_kickoff.j2', 'openstack_election/templates/ptl_nominations_kickoff.j2', 'openstack_election/templates/combined_election_season.j2', 'openstack_election/templates/tc_nominations_last_days.j2', 'openstack_election/templates/ptl_nominations_last_days.j2'], 'web_link': 'https://opendev.org/openstack/election/commit/e0424270a2ffbd7686b4974413e0d95259c68ac7', 'message': 'Add release cycle info in sub line of template emails\n\nChange-Id: I155ba8e2c5e40ee4eccd873fff68af6b18832e49\n'}]",2,828192,e0424270a2ffbd7686b4974413e0d95259c68ac7,8,3,1,8556,,,0,"Add release cycle info in sub line of template emails

Change-Id: I155ba8e2c5e40ee4eccd873fff68af6b18832e49
",git fetch https://review.opendev.org/openstack/election refs/changes/92/828192/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_election/templates/combined_end_nominations.j2', 'openstack_election/templates/combined_nominations_kickoff.j2', 'openstack_election/templates/ptl_election_season.j2', 'openstack_election/templates/combined_nominations_last_days.j2', 'openstack_election/templates/ptl_end_nominations.j2', 'openstack_election/templates/tc_nominations_kickoff.j2', 'openstack_election/templates/ptl_voting_last_days.j2', 'openstack_election/templates/ptl_voting_kickoff.j2', 'openstack_election/templates/tc_campaigning_kickoff.j2', 'openstack_election/templates/combined_voting_kickoff.j2', 'openstack_election/templates/tc_voting_last_days.j2', 'openstack_election/templates/combined_voting_last_days.j2', 'openstack_election/templates/tc_voting_kickoff.j2', 'openstack_election/templates/ptl_nominations_kickoff.j2', 'openstack_election/templates/combined_election_season.j2', 'openstack_election/templates/tc_nominations_last_days.j2', 'openstack_election/templates/ptl_nominations_last_days.j2']",17,e0424270a2ffbd7686b4974413e0d95259c68ac7,,Subject: [all][elections][ptl] PTL {{ release }} cycle Election Nominations Last Days,Subject: [all][elections][ptl] PTL Nominations Last Days,23,23
openstack%2Fkeystone~master~I6beb8c9c827546757f2d7673a917b98f8b917012,openstack/keystone,master,I6beb8c9c827546757f2d7673a917b98f8b917012,sql: Squash rocky migrations,MERGED,2022-01-14 19:14:29.000000000,2022-02-08 13:57:18.000000000,2022-02-08 13:52:48.000000000,"[{'_account_id': 7414}, {'_account_id': 7973}, {'_account_id': 16465}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-14 19:14:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/0ad8029778cc9294c1330e486c12dc09666fe4e3', 'message': 'sql: Squash rocky migrations\n\nMake the following changes to the new ""initial"" migrations.\n\n- Add \'description\' column to the \'limit\' and \'registered_limit\' tables\n  (045)\n- Add \'internal_id\' column to the \'limit\' and \'registered_limit\' tables\n  and make \'id\' column simply unique instead of the primary key (047)\n- Drop foreign key constraint on \'project_id\' column of \'limit\' table,\n  and drop unique constraints from both \'limit\' and \'registered_limit\'\n  tables (047)\n- Add \'registered_limit_id\' column to \'limit\' table (048)\n\nChange-Id: I6beb8c9c827546757f2d7673a917b98f8b917012\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 2, 'created': '2022-01-19 18:50:03.000000000', 'files': ['keystone/common/sql/data_migration_repo/versions/043_placeholder.py', 'keystone/common/sql/expand_repo/versions/047_expand_update_pk_for_unified_limit.py', 'keystone/common/sql/expand_repo/versions/039_placeholder.py', 'keystone/common/sql/contract_repo/versions/048_contract_add_registered_limit_id_column_for_limit.py', 'keystone/common/sql/expand_repo/versions/045_expand_add_description_to_limit.py', 'keystone/common/sql/contract_repo/versions/041_placeholder.py', 'keystone/common/sql/expand_repo/versions/042_placeholder.py', 'keystone/common/sql/data_migration_repo/versions/045_migrate_add_description_to_limit.py', 'keystone/tests/unit/test_sql_upgrade.py', 'keystone/common/sql/data_migration_repo/versions/048_migrate_add_registered_limit_id_column_for_limit.py', 'keystone/common/sql/data_migration_repo/versions/044_placeholder.py', 'keystone/common/sql/expand_repo/versions/038_placeholder.py', 'keystone/common/sql/expand_repo/versions/046_expand_old_password_data_to_password_hash_column.py', 'keystone/common/sql/contract_repo/versions/042_placeholder.py', 'keystone/common/sql/data_migration_repo/versions/039_placeholder.py', 'keystone/common/sql/contract_repo/versions/038_placeholder.py', 'keystone/common/sql/expand_repo/versions/043_placeholder.py', 'keystone/common/sql/upgrades.py', 'keystone/common/sql/contract_repo/versions/043_placeholder.py', 'keystone/common/sql/data_migration_repo/versions/046_migrate_old_password_data_to_password_hash_column.py', 'keystone/common/sql/data_migration_repo/versions/047_migrate_update_pk_for_unified_limit.py', 'keystone/common/sql/contract_repo/versions/047_contract_expand_update_pk_for_unified_limit.py', 'keystone/common/sql/data_migration_repo/versions/041_placeholder.py', 'keystone/common/sql/data_migration_repo/versions/040_placeholder.py', 'keystone/common/sql/contract_repo/versions/046_contract_old_password_data_to_password_hash_column.py', 'keystone/common/sql/contract_repo/versions/039_placeholder.py', 'keystone/common/sql/data_migration_repo/versions/038_placeholder.py', 'keystone/common/sql/expand_repo/versions/044_placeholder.py', 'keystone/common/sql/contract_repo/versions/045_contract_add_description_to_limit.py', 'keystone/common/sql/expand_repo/versions/040_placeholder.py', 'keystone/common/sql/expand_repo/versions/048_expand_add_registered_limit_id_column_for_limit.py', 'keystone/common/sql/data_migration_repo/versions/042_placeholder.py', 'keystone/common/sql/contract_repo/versions/044_placeholder.py', 'keystone/common/sql/contract_repo/versions/040_placeholder.py', 'keystone/common/sql/data_migration_repo/versions/048_migrate_initial_migration.py', 'keystone/common/sql/expand_repo/versions/041_placeholder.py', 'keystone/common/sql/contract_repo/versions/048_contract_initial_migration.py', 'keystone/common/sql/expand_repo/versions/048_expand_initial_migration.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/30ec0df2a3c656df686ceaca5f66d0067b8b007b', 'message': 'sql: Squash rocky migrations\n\nMake the following changes to the new ""initial"" migrations.\n\n- Add \'description\' column to the \'limit\' and \'registered_limit\' tables\n  (045)\n- Add \'internal_id\' column to the \'limit\' and \'registered_limit\' tables\n  and make \'id\' column simply unique instead of the primary key (047)\n- Drop foreign key constraint on \'project_id\' column of \'limit\' table,\n  and drop unique constraints from both \'limit\' and \'registered_limit\'\n  tables (047)\n- Add \'registered_limit_id\' column to \'limit\' table (048)\n\nChange-Id: I6beb8c9c827546757f2d7673a917b98f8b917012\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}]",1,824782,30ec0df2a3c656df686ceaca5f66d0067b8b007b,19,5,2,15334,,,0,"sql: Squash rocky migrations

Make the following changes to the new ""initial"" migrations.

- Add 'description' column to the 'limit' and 'registered_limit' tables
  (045)
- Add 'internal_id' column to the 'limit' and 'registered_limit' tables
  and make 'id' column simply unique instead of the primary key (047)
- Drop foreign key constraint on 'project_id' column of 'limit' table,
  and drop unique constraints from both 'limit' and 'registered_limit'
  tables (047)
- Add 'registered_limit_id' column to 'limit' table (048)

Change-Id: I6beb8c9c827546757f2d7673a917b98f8b917012
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/keystone refs/changes/82/824782/2 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/common/sql/data_migration_repo/versions/043_placeholder.py', 'keystone/common/sql/expand_repo/versions/047_expand_update_pk_for_unified_limit.py', 'keystone/common/sql/expand_repo/versions/039_placeholder.py', 'keystone/common/sql/contract_repo/versions/048_contract_add_registered_limit_id_column_for_limit.py', 'keystone/common/sql/expand_repo/versions/045_expand_add_description_to_limit.py', 'keystone/common/sql/contract_repo/versions/041_placeholder.py', 'keystone/common/sql/expand_repo/versions/042_placeholder.py', 'keystone/common/sql/data_migration_repo/versions/045_migrate_add_description_to_limit.py', 'keystone/tests/unit/test_sql_upgrade.py', 'keystone/common/sql/data_migration_repo/versions/048_migrate_add_registered_limit_id_column_for_limit.py', 'keystone/common/sql/data_migration_repo/versions/044_placeholder.py', 'keystone/common/sql/expand_repo/versions/038_placeholder.py', 'keystone/common/sql/expand_repo/versions/046_expand_old_password_data_to_password_hash_column.py', 'keystone/common/sql/contract_repo/versions/042_placeholder.py', 'keystone/common/sql/data_migration_repo/versions/039_placeholder.py', 'keystone/common/sql/contract_repo/versions/038_placeholder.py', 'keystone/common/sql/expand_repo/versions/043_placeholder.py', 'keystone/common/sql/contract_repo/versions/043_placeholder.py', 'keystone/common/sql/data_migration_repo/versions/046_migrate_old_password_data_to_password_hash_column.py', 'keystone/common/sql/data_migration_repo/versions/047_migrate_update_pk_for_unified_limit.py', 'keystone/common/sql/contract_repo/versions/047_contract_expand_update_pk_for_unified_limit.py', 'keystone/common/sql/data_migration_repo/versions/041_placeholder.py', 'keystone/common/sql/data_migration_repo/versions/040_placeholder.py', 'keystone/common/sql/contract_repo/versions/046_contract_old_password_data_to_password_hash_column.py', 'keystone/common/sql/contract_repo/versions/039_placeholder.py', 'keystone/common/sql/data_migration_repo/versions/038_placeholder.py', 'keystone/common/sql/expand_repo/versions/044_placeholder.py', 'keystone/common/sql/contract_repo/versions/045_contract_add_description_to_limit.py', 'keystone/common/sql/expand_repo/versions/040_placeholder.py', 'keystone/common/sql/expand_repo/versions/048_expand_add_registered_limit_id_column_for_limit.py', 'keystone/common/sql/data_migration_repo/versions/042_placeholder.py', 'keystone/common/sql/contract_repo/versions/044_placeholder.py', 'keystone/common/sql/contract_repo/versions/040_placeholder.py', 'keystone/common/sql/data_migration_repo/versions/048_migrate_initial_migration.py', 'keystone/common/sql/expand_repo/versions/041_placeholder.py', 'keystone/common/sql/contract_repo/versions/048_contract_initial_migration.py', 'keystone/common/sql/expand_repo/versions/048_expand_initial_migration.py']",37,0ad8029778cc9294c1330e486c12dc09666fe4e3,bp/remove-sqlalchemy-migrate," sql.Column('id', sql.String(length=64), nullable=False), sql.Column('description', sql.Text), sql.Column('internal_id', sql.Integer, primary_key=True), # NOTE(stephenfin): Name chosen to preserve backwards compatibility # with names used for primary key unique constraints sql.UniqueConstraint('id', name='registered_limit_id_key'), sql.Column('id', sql.String(length=64), nullable=False), sql.Column('project_id', sql.String(64)), sql.Column('description', sql.Text), sql.Column('internal_id', sql.Integer, primary_key=True), # FIXME(stephenfin): This should have a foreign key constraint on # registered_limit.id, but sqlalchemy-migrate clearly didn't handle # creating a column with embedded FK info as was attempted in 048 sql.Column( 'registered_limit_id', sql.String(64), # NOTE(stephenfin): Name chosen to preserve backwards compatibility # with names used for primary key unique constraints sql.UniqueConstraint('id', name='limit_id_key'), limit, # FIXME(stephenfin): This should be dropped when we add the FK # constraint to this column sql.Index('registered_limit_id', limit.c.registered_limit_id).create()"," sql.Column('id', sql.String(length=64), primary_key=True), sql.UniqueConstraint('service_id', 'region_id', 'resource_name'), sql.Column('id', sql.String(length=64), primary_key=True), sql.Column('project_id', sql.String(64), sql.ForeignKey(project.c.id)), sql.UniqueConstraint( 'project_id', 'service_id', 'region_id', 'resource_name' limit, { 'columns': [ limit.c.service_id, limit.c.region_id, limit.c.resource_name, ], 'references': [ registered_limit.c.service_id, registered_limit.c.region_id, registered_limit.c.resource_name, ], },",30,999
openstack%2Fhorizon~master~Icea647ad13718b74528922f362ad665be1392e9b,openstack/horizon,master,Icea647ad13718b74528922f362ad665be1392e9b,Fix getting defaults from cookie for region field in password form,MERGED,2022-02-04 17:10:06.000000000,2022-02-08 13:56:27.000000000,2022-02-08 13:52:51.000000000,"[{'_account_id': 841}, {'_account_id': 6914}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2022-02-04 17:10:06.000000000', 'files': ['openstack_auth/forms.py', 'openstack_auth/views.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/88dd887ad3284601f0acec89cf52265602a70c8c', 'message': ""Fix getting defaults from cookie for region field in password form\n\nSince the normal form doesn't have a request attribute, we have to\npass the initial value for the region from the view.\n\nChange-Id: Icea647ad13718b74528922f362ad665be1392e9b\nCloses-bug: #1957926\n""}]",3,827887,88dd887ad3284601f0acec89cf52265602a70c8c,10,4,1,8648,,,0,"Fix getting defaults from cookie for region field in password form

Since the normal form doesn't have a request attribute, we have to
pass the initial value for the region from the view.

Change-Id: Icea647ad13718b74528922f362ad665be1392e9b
Closes-bug: #1957926
",git fetch https://review.opendev.org/openstack/horizon refs/changes/87/827887/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_auth/forms.py', 'openstack_auth/views.py']",2,88dd887ad3284601f0acec89cf52265602a70c8c,region-password," return { 'user_id': self.kwargs['user_id'], 'region': self.request.COOKIES.get('login_region'), }", return {'user_id': self.kwargs['user_id']},4,4
openstack%2Fironic-python-agent~stable%2Fxena~I2446afeaca866ffc3131b5e9f266526f35fc5ed7,openstack/ironic-python-agent,stable/xena,I2446afeaca866ffc3131b5e9f266526f35fc5ed7,Make the standalone job voting again,MERGED,2022-02-01 13:43:33.000000000,2022-02-08 13:56:14.000000000,2022-02-08 13:46:12.000000000,"[{'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2022-02-01 13:43:33.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/ba8981e3d29a56c33a931ef61e1c1d2380d2477e', 'message': ""Make the standalone job voting again\n\nWe forgot to revert it. This job covers software RAID and manual\ncleaning, so it's very important to avoid regressions, even if it costs\nus some rechecks from time to time.\n\nChange-Id: I2446afeaca866ffc3131b5e9f266526f35fc5ed7\n(cherry picked from commit b921b761679df06afe19ac6f570f66fa1fdcf371)\n""}]",3,827288,ba8981e3d29a56c33a931ef61e1c1d2380d2477e,15,2,1,10239,,,0,"Make the standalone job voting again

We forgot to revert it. This job covers software RAID and manual
cleaning, so it's very important to avoid regressions, even if it costs
us some rechecks from time to time.

Change-Id: I2446afeaca866ffc3131b5e9f266526f35fc5ed7
(cherry picked from commit b921b761679df06afe19ac6f570f66fa1fdcf371)
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/88/827288/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,ba8981e3d29a56c33a931ef61e1c1d2380d2477e,, - ironic-standalone-ipa-src - ironic-standalone-ipa-src," # NOTE(TheJulia): The cleaning tests run in standalone job has a # high failure rate due to possible race during long running steps # like deployment with raid setup. While we're working on a fix, # we also need to fix IPA and Ironic itself, so this is as a result # temporary. - ironic-standalone-ipa-src: voting: false",2,7
openstack%2Fnova~master~I67d41a8e439b1ff3c5983ee17823616b80698639,openstack/nova,master,I67d41a8e439b1ff3c5983ee17823616b80698639,Test aborting queued live migration,MERGED,2021-02-17 18:21:35.000000000,2022-02-08 13:53:38.000000000,2022-01-21 21:08:48.000000000,"[{'_account_id': 4690}, {'_account_id': 7166}, {'_account_id': 8864}, {'_account_id': 9708}, {'_account_id': 10135}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-17 18:21:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/28c6b7b7bdb8a017dda33307f3a7665457ebce77', 'message': 'WIP: Regression test\n\nChange-Id: I67d41a8e439b1ff3c5983ee17823616b80698639\n'}, {'number': 2, 'created': '2021-06-01 22:31:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ff37d9a54be423899d7182319e4295f39ab0737b', 'message': ""WIP: Test aborting queued live migration\n\nThis patch adds a regression tests that asserts that if a live\nmigration is aborted while it's 'queued', the instance status is never\nchanged back to ACTIVE, and it remained in MIGRATING.\n\nChange-Id: I67d41a8e439b1ff3c5983ee17823616b80698639\n""}, {'number': 3, 'created': '2021-11-04 15:54:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2420857412b01581d493bb552cf72ac53566337b', 'message': ""WIP: Test aborting queued live migration\n\nThis patch adds a regression tests that asserts that if a live\nmigration is aborted while it's 'queued', the instance status is never\nchanged back to ACTIVE, and it remained in MIGRATING.\n\nCo-Authored-By: Alex Stupnikov <aleksey.stupnikov@gmail.com>\nPartial-Bug: #1949808\nChange-Id: I67d41a8e439b1ff3c5983ee17823616b80698639\n""}, {'number': 4, 'created': '2021-11-06 18:34:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7cc5e83f26561760243498d60fe0b0e35e0c7041', 'message': ""Test aborting queued live migration\n\nThis patch adds a regression test which asserts that if a live migration\nis aborted while it's 'queued', the instance's status is never reverted\nback to ACTIVE, and instance remains in MIGRATING state.\n\nThere is simple idea behind implemented LiveMigrationQueuedAbortTest:\nwe start two instances on the same compute and try to migrate\nthem simultaneously when max_concurrent_live_migrations is set to 1\nand nova.tests.fixtures.libvirt.Domain.migrateToURI3 is delayed\nforever. As a result, we get two live migrations stuck in\n'migrating' and 'queued' states and we can issue API call to abort\nthe second one.\n\nCo-Authored-By: Alex Stupnikov <aleksey.stupnikov@gmail.com>\nPartial-Bug: #1949808\nChange-Id: I67d41a8e439b1ff3c5983ee17823616b80698639\n""}, {'number': 5, 'created': '2021-11-06 18:46:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8355bfa31b24d95c424eb93133d60daf80bd296c', 'message': ""Test aborting queued live migration\n\nThis patch adds a regression test which asserts that if a live migration\nis aborted while it's 'queued', the instance's status is never reverted\nback to ACTIVE, and instance remains in MIGRATING state.\n\nThere is simple idea behind implemented LiveMigrationQueuedAbortTest:\nwe start two instances on the same compute and try to migrate\nthem simultaneously when max_concurrent_live_migrations is set to 1\nand nova.tests.fixtures.libvirt.Domain.migrateToURI3 is delayed\nforever. As a result, we get two live migrations stuck in\n'migrating' and 'queued' states and we can issue API call to abort\nthe second one.\n\nCo-Authored-By: Alex Stupnikov <aleksey.stupnikov@gmail.com>\nPartial-Bug: #1949808\nChange-Id: I67d41a8e439b1ff3c5983ee17823616b80698639\n""}, {'number': 6, 'created': '2021-11-06 18:59:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6251dceadc62f36aa19a579cf3b355d6ba267585', 'message': ""Test aborting queued live migration\n\nThis patch adds a regression test which asserts that if a live migration\nis aborted while it's 'queued', the instance's status is never reverted\nback to ACTIVE, and instance remains in MIGRATING state.\n\nThere is simple idea behind implemented LiveMigrationQueuedAbortTest:\nwe start two instances on the same compute and try to migrate\nthem simultaneously when max_concurrent_live_migrations is set to 1\nand nova.tests.fixtures.libvirt.Domain.migrateToURI3 is delayed\nforever. As a result, we get two live migrations stuck in\n'migrating' and 'queued' states and we can issue API call to abort\nthe second one.\n\nCo-Authored-By: Alex Stupnikov <aleksey.stupnikov@gmail.com>\nPartial-Bug: #1949808\nChange-Id: I67d41a8e439b1ff3c5983ee17823616b80698639\n""}, {'number': 7, 'created': '2021-11-08 20:34:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6a36242413523a10973a87e05b11c419d9f180a2', 'message': ""Test aborting queued live migration\n\nThis patch adds a regression test which asserts that if a live migration\nis aborted while it's 'queued', the instance's status is never reverted\nback to ACTIVE, and instance remains in MIGRATING state.\n\nThere is simple idea behind implemented LiveMigrationQueuedAbortTest:\nwe start two instances on the same compute and try to migrate\nthem simultaneously when max_concurrent_live_migrations is set to 1\nand nova.tests.fixtures.libvirt.Domain.migrateToURI3 is locked.\nAs a result, we get two live migrations stuck in 'migrating' and\n'queued' states and we can issue API call to abort the second one.\n\nLock is removed and first instance is live migrated after second\ninstance's live migration is aborted.\n\nCo-Authored-By: Alex Stupnikov <aleksey.stupnikov@gmail.com>\nPartial-Bug: #1949808\nChange-Id: I67d41a8e439b1ff3c5983ee17823616b80698639\n""}, {'number': 8, 'created': '2021-11-08 20:46:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fe05e9b6e9b18503bce623aeab77855fcf88af9c', 'message': ""Test aborting queued live migration\n\nThis patch adds a regression test which asserts that if a live migration\nis aborted while it's 'queued', the instance's status is never reverted\nback to ACTIVE, and instance remains in MIGRATING state.\n\nThere is simple idea behind implemented LiveMigrationQueuedAbortTest:\nwe start two instances on the same compute and try to migrate\nthem simultaneously when max_concurrent_live_migrations is set to 1\nand nova.tests.fixtures.libvirt.Domain.migrateToURI3 is locked.\nAs a result, we get two live migrations stuck in 'migrating' and\n'queued' states and we can issue API call to abort the second one.\n\nLock is removed and first instance is live migrated after second\ninstance's live migration is aborted.\n\nCo-Authored-By: Alex Stupnikov <aleksey.stupnikov@gmail.com>\nPartial-Bug: #1949808\nChange-Id: I67d41a8e439b1ff3c5983ee17823616b80698639\n""}, {'number': 9, 'created': '2021-11-09 15:07:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1e28e8ce8c18043026377b3516eb3d38140d748e', 'message': ""Test aborting queued live migration\n\nThis patch adds a regression test which asserts that if a live migration\nis aborted while it's 'queued', the instance's status is never reverted\nback to ACTIVE, and instance remains in MIGRATING state.\n\nThere is simple idea behind implemented LiveMigrationQueuedAbortTest:\nwe start two instances on the same compute and try to migrate\nthem simultaneously when max_concurrent_live_migrations is set to 1\nand nova.tests.fixtures.libvirt.Domain.migrateToURI3 is locked.\nAs a result, we get two live migrations stuck in 'migrating' and\n'queued' states and we can issue API call to abort the second one.\n\nLock is removed and first instance is live migrated after second\ninstance's live migration is aborted.\n\nCo-Authored-By: Alex Stupnikov <aleksey.stupnikov@gmail.com>\nPartial-Bug: #1949808\nChange-Id: I67d41a8e439b1ff3c5983ee17823616b80698639\n""}, {'number': 10, 'created': '2021-11-10 16:41:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1aa5097ca499f8844527de261c7b0f8a42ff4619', 'message': ""Test aborting queued live migration\n\nThis patch adds a regression test which asserts that if a live migration\nis aborted while it's 'queued', the instance's status is never reverted\nback to ACTIVE, and instance remains in MIGRATING state.\n\nThere is simple idea behind implemented LiveMigrationQueuedAbortTest:\nwe start two instances on the same compute and try to migrate\nthem simultaneously when max_concurrent_live_migrations is set to 1\nand nova.tests.fixtures.libvirt.Domain.migrateToURI3 is locked.\nAs a result, we get two live migrations stuck in 'migrating' and\n'queued' states and we can issue API call to abort the second one.\n\nLock is removed and first instance is live migrated after second\ninstance's live migration is aborted.\n\nCo-Authored-By: Alex Stupnikov <aleksey.stupnikov@gmail.com>\nPartial-Bug: #1949808\nChange-Id: I67d41a8e439b1ff3c5983ee17823616b80698639\n""}, {'number': 11, 'created': '2021-11-10 20:19:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/411d851804e9f8c60c6e8666744379c9067b83aa', 'message': ""Test aborting queued live migration\n\nThis patch adds a regression test which asserts that if a live migration\nis aborted while it's 'queued', the instance's status is never reverted\nback to ACTIVE, and instance remains in MIGRATING state.\n\nThere is simple idea behind implemented LiveMigrationQueuedAbortTest:\nwe start two instances on the same compute and try to migrate\nthem simultaneously when max_concurrent_live_migrations is set to 1\nand nova.tests.fixtures.libvirt.Domain.migrateToURI3 is locked.\nAs a result, we get two live migrations stuck in 'migrating' and\n'queued' states and we can issue API call to abort the second one.\n\nLock is removed and first instance is live migrated after second\ninstance's live migration is aborted.\n\nCo-Authored-By: Alex Stupnikov <aleksey.stupnikov@gmail.com>\nPartial-Bug: #1949808\nChange-Id: I67d41a8e439b1ff3c5983ee17823616b80698639\n""}, {'number': 12, 'created': '2021-12-08 14:57:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/11fa112cc9a0a36c78f5916b3c4232b0ea98ce28', 'message': ""Test aborting queued live migration\n\nThis patch adds a regression test which asserts that if a live migration\nis aborted while it's 'queued', the instance's status is never reverted\nback to ACTIVE, and instance remains in MIGRATING state.\n\nThere is simple idea behind implemented LiveMigrationQueuedAbortTest:\nwe start two instances on the same compute and try to migrate\nthem simultaneously when max_concurrent_live_migrations is set to 1\nand nova.tests.fixtures.libvirt.Domain.migrateToURI3 is locked.\nAs a result, we get two live migrations stuck in 'migrating' and\n'queued' states and we can issue API call to abort the second one.\n\nLock is removed and first instance is live migrated after second\ninstance's live migration is aborted.\n\nCo-Authored-By: Alex Stupnikov <aleksey.stupnikov@gmail.com>\nPartial-Bug: #1949808\nChange-Id: I67d41a8e439b1ff3c5983ee17823616b80698639\n""}, {'number': 13, 'created': '2022-01-10 14:36:35.000000000', 'files': ['nova/tests/functional/libvirt/test_live_migration.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/3e7b9b69e68c8594eac92d88f0579aab40d7d5ae', 'message': ""Test aborting queued live migration\n\nThis patch adds a regression test which asserts that if a live migration\nis aborted while it's 'queued', the instance's status is never reverted\nback to ACTIVE, and instance remains in MIGRATING state.\n\nThere is simple idea behind implemented LiveMigrationQueuedAbortTest:\nwe start two instances on the same compute and try to migrate\nthem simultaneously when max_concurrent_live_migrations is set to 1\nand nova.tests.fixtures.libvirt.Domain.migrateToURI3 is locked.\nAs a result, we get two live migrations stuck in 'migrating' and\n'queued' states and we can issue API call to abort the second one.\n\nLock is removed and first instance is live migrated after second\ninstance's live migration is aborted.\n\nCo-Authored-By: Alex Stupnikov <aleksey.stupnikov@gmail.com>\nPartial-Bug: #1949808\nChange-Id: I67d41a8e439b1ff3c5983ee17823616b80698639\n""}]",67,776250,3e7b9b69e68c8594eac92d88f0579aab40d7d5ae,83,6,13,8864,,,0,"Test aborting queued live migration

This patch adds a regression test which asserts that if a live migration
is aborted while it's 'queued', the instance's status is never reverted
back to ACTIVE, and instance remains in MIGRATING state.

There is simple idea behind implemented LiveMigrationQueuedAbortTest:
we start two instances on the same compute and try to migrate
them simultaneously when max_concurrent_live_migrations is set to 1
and nova.tests.fixtures.libvirt.Domain.migrateToURI3 is locked.
As a result, we get two live migrations stuck in 'migrating' and
'queued' states and we can issue API call to abort the second one.

Lock is removed and first instance is live migrated after second
instance's live migration is aborted.

Co-Authored-By: Alex Stupnikov <aleksey.stupnikov@gmail.com>
Partial-Bug: #1949808
Change-Id: I67d41a8e439b1ff3c5983ee17823616b80698639
",git fetch https://review.opendev.org/openstack/nova refs/changes/50/776250/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/compute/test_live_migration.py'],1,28c6b7b7bdb8a017dda33307f3a7665457ebce77,bug/1949808," class LiveMigrationQueuedAbortTest(integrated_helpers._IntegratedTestBase): ADMIN_API = True microversion = 'latest' # We need the flag here because scope. stub_called = False def _setup_compute_service(self): self._start_compute('src') self._start_compute('dest') def test_live_migration_queued_abort(self): src = self.computes['src'] server = self._create_server(networks='auto', host=src.host) orig_set_migration_status = src.manager._set_migration_status def stub_set_migration_status(migration, status): # First, call the real method to set the migration status orig_set_migration_status(migration, status) # Then, if we've just set 'preparing', immediately abort he # migration to trigger the bug. if status == 'preparing': self.stub_called = True migrations = self.api.api_get( '/servers/%s/migrations' % server['id']) self.assertEqual(1, len(migrations)) migration = migrations[0] self.api.api_delete( '/servers/%s/migrations/%s' % (server['id'], migration['id'])) self.stub_out( 'nova.compute.manager.ComputeManager._set_migration_status', stub_set_migration_status) self._live_migrate(server, 'preparing', 'MIGRATING') # Assert the server never comes out of 'MIGRATING' self.assertRaises( AssertionError, self._wait_for_state_change, server, 'ACTIVE') self.assertTrue(self.stub_called)",,41,0
openstack%2Foslo.messaging~master~I04f1c9ee1239eaf7d4ad5c0fb7939160458c4656,openstack/oslo.messaging,master,I04f1c9ee1239eaf7d4ad5c0fb7939160458c4656,Add 'kombu_connection_timeout' config option,NEW,2020-11-05 20:51:20.000000000,2022-02-08 13:50:21.000000000,,"[{'_account_id': 1736}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-11-05 20:51:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/1bf0212bf1aee5d7284fa1c1a1e75d120d1cc50d', 'message': ""Add 'kombu_connection_timeout' config option\n\nkombu_connection_timeout is used during connection initializaion.\nIt's useful if RabbitMQ is unavailable and we don't want to wait\nuntil RabbitMQ will be available.\n\nChange-Id: I04f1c9ee1239eaf7d4ad5c0fb7939160458c4656\n""}, {'number': 2, 'created': '2020-11-05 20:56:28.000000000', 'files': ['oslo_messaging/_drivers/impl_rabbit.py'], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/5c9b55807a9d13fd18f0b0460a307f93e03bb655', 'message': ""Add 'kombu_connection_timeout' config option\n\nkombu_connection_timeout is used during connection initializaion.\nIt's useful if RabbitMQ is unavailable and we don't want to wait\nuntil RabbitMQ will be available.\n\nChange-Id: I04f1c9ee1239eaf7d4ad5c0fb7939160458c4656\n""}]",5,761667,5c9b55807a9d13fd18f0b0460a307f93e03bb655,10,3,2,1736,,,0,"Add 'kombu_connection_timeout' config option

kombu_connection_timeout is used during connection initializaion.
It's useful if RabbitMQ is unavailable and we don't want to wait
until RabbitMQ will be available.

Change-Id: I04f1c9ee1239eaf7d4ad5c0fb7939160458c4656
",git fetch https://review.opendev.org/openstack/oslo.messaging refs/changes/67/761667/2 && git format-patch -1 --stdout FETCH_HEAD,['oslo_messaging/_drivers/impl_rabbit.py'],1,1bf0212bf1aee5d7284fa1c1a1e75d120d1cc50d,kombu-connection-timeout," cfg.IntOpt('kombu_connection_timeout', default=None, help='AMPQ connection timeout for new connections.'), self.timeout = driver_conf.kombu_connection_timeout self.connection.ensure_connection(errback=on_error, timeout=self.timeout)", self.connection.ensure_connection(errback=on_error),5,1
openstack%2Foslo.messaging~master~I556f3f9d615086f1b428c141a82a1c72d7df55b1,openstack/oslo.messaging,master,I556f3f9d615086f1b428c141a82a1c72d7df55b1,batch_size should be mapped to batch.size librdkafka conf,NEW,2021-09-11 15:36:57.000000000,2022-02-08 13:48:14.000000000,,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 22865}, {'_account_id': 28522}, {'_account_id': 31245}]","[{'number': 1, 'created': '2021-09-11 15:36:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/4f5f9d7199fea2036e52d0429a01778d67bd69f4', 'message': 'batch_size should be mapped to batch.size librdkafka conf\n\nChange-Id: I556f3f9d615086f1b428c141a82a1c72d7df55b1\n'}, {'number': 2, 'created': '2021-09-19 00:17:28.000000000', 'files': ['oslo_messaging/_drivers/impl_kafka.py', 'oslo_messaging/tests/drivers/test_impl_kafka.py'], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/00d132c04c166f93d2853836e2f1c211ffd6b8a7', 'message': 'batch_size should be mapped to batch.size librdkafka conf\n\nChange-Id: I556f3f9d615086f1b428c141a82a1c72d7df55b1\n'}]",2,808550,00d132c04c166f93d2853836e2f1c211ffd6b8a7,10,5,2,33991,,,0,"batch_size should be mapped to batch.size librdkafka conf

Change-Id: I556f3f9d615086f1b428c141a82a1c72d7df55b1
",git fetch https://review.opendev.org/openstack/oslo.messaging refs/changes/50/808550/1 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_messaging/_drivers/impl_kafka.py', 'oslo_messaging/tests/drivers/test_impl_kafka.py']",2,4f5f9d7199fea2036e52d0429a01778d67bd69f4,kafka-driver-batch-size," 'batch.size': mock.ANY,"," 'batch.num.messages': mock.ANY,",2,2
openstack%2Fkeystone~master~I6d5b724985aa6a1164565e9bb0a3974e9cf6ad3d,openstack/keystone,master,I6d5b724985aa6a1164565e9bb0a3974e9cf6ad3d,sql: Squash pike migrations,MERGED,2022-01-14 19:14:29.000000000,2022-02-08 13:40:26.000000000,2022-02-08 13:34:59.000000000,"[{'_account_id': 7414}, {'_account_id': 7973}, {'_account_id': 16465}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-14 19:14:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/09ec9d5392e70b78caecc2ef3f791b0aed04986f', 'message': 'sql: Squash pike migrations\n\nMake the following changes to the new ""initial"" migrations.\n\n- Add index to \'default_project_id\' column of \'user\' table (022)\n- Add \'password_hash\' column to \'password\' table (023)\n- Add \'created_at_int\' and \'expires_at_int\' columns to \'password\' table\n  (024)\n\nChange-Id: I6d5b724985aa6a1164565e9bb0a3974e9cf6ad3d\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 2, 'created': '2022-01-19 18:50:03.000000000', 'files': ['keystone/common/sql/contract_repo/versions/024_contract_initial_migration.py', 'keystone/common/sql/data_migration_repo/versions/023_migrate_add_second_password_column_for_expanded_hash_sizes.py', 'keystone/common/sql/expand_repo/versions/021_placeholder.py', 'keystone/common/sql/contract_repo/versions/022_contract_add_default_project_id_index.py', 'keystone/common/sql/expand_repo/versions/018_placeholder.py', 'keystone/common/sql/data_migration_repo/versions/021_placeholder.py', 'keystone/common/sql/contract_repo/versions/020_placeholder.py', 'keystone/common/sql/data_migration_repo/versions/019_placeholder.py', 'keystone/tests/unit/test_sql_upgrade.py', 'keystone/common/sql/data_migration_repo/versions/017_placeholder.py', 'keystone/common/sql/data_migration_repo/versions/022_migrate_add_default_project_id_index.py', 'keystone/common/sql/contract_repo/versions/024_contract_create_created_at_int_columns.py', 'keystone/common/sql/contract_repo/versions/017_placeholder.py', 'keystone/common/sql/expand_repo/versions/024_expand_initial_migration.py', 'keystone/common/sql/data_migration_repo/versions/024_migrate_create_created_at_int_columns.py', 'keystone/common/sql/contract_repo/versions/021_placeholder.py', 'keystone/common/sql/expand_repo/versions/017_placeholder.py', 'keystone/common/sql/upgrades.py', 'keystone/common/sql/data_migration_repo/versions/018_placeholder.py', 'keystone/common/sql/contract_repo/versions/023_contract_add_second_password_column_for_expanded_hash_sizes.py', 'keystone/common/sql/contract_repo/versions/018_placeholder.py', 'keystone/common/sql/expand_repo/versions/024_expand_create_created_at_int_columns.py', 'keystone/common/sql/expand_repo/versions/019_placeholder.py', 'keystone/common/sql/expand_repo/versions/020_placeholder.py', 'keystone/common/sql/contract_repo/versions/019_placeholder.py', 'keystone/common/sql/expand_repo/versions/022_expand_add_default_project_id_index.py', 'keystone/common/sql/expand_repo/versions/023_expand_add_second_password_column_for_expanded_hash_sizes.py', 'keystone/common/sql/data_migration_repo/versions/020_placeholder.py', 'keystone/common/sql/data_migration_repo/versions/024_migrate_initial_migration.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/677303732f2fd310bba65c62b905cd8f510ff6e0', 'message': 'sql: Squash pike migrations\n\nMake the following changes to the new ""initial"" migrations.\n\n- Add index to \'default_project_id\' column of \'user\' table (022)\n- Add \'password_hash\' column to \'password\' table (023)\n- Add \'created_at_int\' and \'expires_at_int\' columns to \'password\' table\n  (024)\n\nChange-Id: I6d5b724985aa6a1164565e9bb0a3974e9cf6ad3d\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}]",1,824780,677303732f2fd310bba65c62b905cd8f510ff6e0,19,5,2,15334,,,0,"sql: Squash pike migrations

Make the following changes to the new ""initial"" migrations.

- Add index to 'default_project_id' column of 'user' table (022)
- Add 'password_hash' column to 'password' table (023)
- Add 'created_at_int' and 'expires_at_int' columns to 'password' table
  (024)

Change-Id: I6d5b724985aa6a1164565e9bb0a3974e9cf6ad3d
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/keystone refs/changes/80/824780/1 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/common/sql/contract_repo/versions/024_contract_initial_migration.py', 'keystone/common/sql/data_migration_repo/versions/023_migrate_add_second_password_column_for_expanded_hash_sizes.py', 'keystone/common/sql/expand_repo/versions/021_placeholder.py', 'keystone/common/sql/contract_repo/versions/022_contract_add_default_project_id_index.py', 'keystone/common/sql/expand_repo/versions/018_placeholder.py', 'keystone/common/sql/data_migration_repo/versions/021_placeholder.py', 'keystone/common/sql/contract_repo/versions/020_placeholder.py', 'keystone/common/sql/data_migration_repo/versions/019_placeholder.py', 'keystone/tests/unit/test_sql_upgrade.py', 'keystone/common/sql/data_migration_repo/versions/017_placeholder.py', 'keystone/common/sql/data_migration_repo/versions/022_migrate_add_default_project_id_index.py', 'keystone/common/sql/contract_repo/versions/024_contract_create_created_at_int_columns.py', 'keystone/common/sql/contract_repo/versions/017_placeholder.py', 'keystone/common/sql/expand_repo/versions/024_expand_initial_migration.py', 'keystone/common/sql/data_migration_repo/versions/024_migrate_create_created_at_int_columns.py', 'keystone/common/sql/contract_repo/versions/021_placeholder.py', 'keystone/common/sql/expand_repo/versions/017_placeholder.py', 'keystone/common/sql/data_migration_repo/versions/018_placeholder.py', 'keystone/common/sql/contract_repo/versions/023_contract_add_second_password_column_for_expanded_hash_sizes.py', 'keystone/common/sql/contract_repo/versions/018_placeholder.py', 'keystone/common/sql/expand_repo/versions/024_expand_create_created_at_int_columns.py', 'keystone/common/sql/expand_repo/versions/019_placeholder.py', 'keystone/common/sql/expand_repo/versions/020_placeholder.py', 'keystone/common/sql/contract_repo/versions/019_placeholder.py', 'keystone/common/sql/expand_repo/versions/022_expand_add_default_project_id_index.py', 'keystone/common/sql/expand_repo/versions/023_expand_add_second_password_column_for_expanded_hash_sizes.py', 'keystone/common/sql/data_migration_repo/versions/020_placeholder.py', 'keystone/common/sql/data_migration_repo/versions/024_migrate_initial_migration.py']",28,09ec9d5392e70b78caecc2ef3f791b0aed04986f,bp/remove-sqlalchemy-migrate,,,15,560
openstack%2Fkeystone~master~I96cab42cfcfd3e86b53f25abf4cf4043af3b5667,openstack/keystone,master,I96cab42cfcfd3e86b53f25abf4cf4043af3b5667,sql: Squash ocata migrations,MERGED,2022-01-14 19:14:29.000000000,2022-02-08 13:37:48.000000000,2022-02-08 13:34:56.000000000,"[{'_account_id': 7414}, {'_account_id': 16465}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-14 19:14:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/f26707f6b6b23e3935dcbebd7527f7e572f19eb6', 'message': 'sql: Squash ocata migrations\n\nMake the following changes to the new ""initial"" migrations.\n\n- Add four additional indexes to \'revocation_event\' table (010)\n- Add unique constraint to \'user_id\' column of \'nonlocal_user\' table\n  (011)\n- Add \'domain_id\' column to \'identity_provider\' table, and a foreign\n  key constraint on the \'id\' column of the \'project\' table (012)\n- Add \'ondelete=CASCADE\' to foreignkey constraint on \'protocol_id\' and\n  \'idp_id\' columns of \'federated_user\' table (013)\n- Add \'domain_id\' column to the \'user\' table (014)\n- Replace foreign key constraints covering \'user_id\' columns of\n  \'local_user\' and \'nonlocal_user\' tables with constraints covering\n  \'user_id\' and \'domain_id\' columns (014)\n- Add unique constraint covering \'id\' and \'domain_id\' columns of \'user\'\n  table (014)\n- Alter \'domain_id\' column of \'user\' table to be non-nullable (015)\n- Add \'user_option\' table (016)\n\nChange-Id: I96cab42cfcfd3e86b53f25abf4cf4043af3b5667\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 2, 'created': '2022-01-19 18:50:03.000000000', 'files': ['keystone/common/sql/contract_repo/versions/016_contract_initial_migration.py', 'keystone/common/sql/expand_repo/versions/016_expand_initial_migration.py', 'keystone/common/sql/data_migration_repo/versions/010_migrate_add_revocation_event_index.py', 'keystone/common/sql/expand_repo/versions/005_placeholder.py', 'keystone/common/sql/expand_repo/versions/015_expand_update_federated_user_domain.py', 'keystone/common/sql/data_migration_repo/versions/013_migrate_protocol_cascade_delete_for_federated_user.py', 'keystone/common/sql/expand_repo/versions/013_expand_protocol_cascade_delete_for_federated_user.py', 'keystone/common/sql/contract_repo/versions/007_placeholder.py', 'keystone/common/sql/data_migration_repo/versions/006_placeholder.py', 'keystone/common/sql/contract_repo/versions/013_contract_protocol_cascade_delete_for_federated_user.py', 'keystone/tests/unit/test_sql_upgrade.py', 'keystone/common/sql/contract_repo/versions/016_contract_add_user_options.py', 'keystone/common/sql/data_migration_repo/versions/015_migrate_update_federated_user_domain.py', 'keystone/common/sql/contract_repo/versions/009_placeholder.py', 'keystone/common/sql/data_migration_repo/versions/009_placeholder.py', 'keystone/common/sql/data_migration_repo/versions/011_expand_user_id_unique_for_nonlocal_user.py', 'keystone/common/sql/expand_repo/versions/008_placeholder.py', 'keystone/common/sql/data_migration_repo/versions/016_migrate_add_user_options.py', 'keystone/common/sql/upgrades.py', 'keystone/common/sql/expand_repo/versions/009_placeholder.py', 'keystone/common/sql/contract_repo/versions/008_placeholder.py', 'keystone/common/sql/data_migration_repo/versions/012_migrate_add_domain_id_to_idp.py', 'keystone/common/sql/expand_repo/versions/014_expand_add_domain_id_to_user_table.py', 'keystone/common/sql/contract_repo/versions/011_contract_user_id_unique_for_nonlocal_user.py', 'keystone/common/sql/contract_repo/versions/014_contract_add_domain_id_to_user_table.py', 'keystone/common/sql/data_migration_repo/versions/005_placeholder.py', 'keystone/common/sql/contract_repo/versions/012_contract_add_domain_id_to_idp.py', 'keystone/common/sql/expand_repo/versions/007_placeholder.py', 'keystone/common/sql/contract_repo/versions/015_contract_update_federated_user_domain.py', 'keystone/common/sql/expand_repo/versions/012_expand_add_domain_id_to_idp.py', 'keystone/common/sql/data_migration_repo/versions/008_placeholder.py', 'keystone/common/sql/data_migration_repo/versions/016_migrate_initial_migration.py', 'keystone/common/sql/data_migration_repo/versions/014_migrate_add_domain_id_to_user_table.py', 'keystone/common/sql/contract_repo/versions/005_placeholder.py', 'keystone/common/sql/expand_repo/versions/006_placeholder.py', 'keystone/common/sql/expand_repo/versions/010_expand_add_revocation_event_index.py', 'keystone/common/sql/expand_repo/versions/011_expand_user_id_unique_for_nonlocal_user.py', 'keystone/common/sql/data_migration_repo/versions/007_placeholder.py', 'keystone/common/sql/contract_repo/versions/010_contract_add_revocation_event_index.py', 'keystone/common/sql/expand_repo/versions/016_expand_add_user_options.py', 'keystone/common/sql/contract_repo/versions/006_placeholder.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/6525ae297bd33ece99a91ef859dca7619aebb4a8', 'message': 'sql: Squash ocata migrations\n\nMake the following changes to the new ""initial"" migrations.\n\n- Add four additional indexes to \'revocation_event\' table (010)\n- Add unique constraint to \'user_id\' column of \'nonlocal_user\' table\n  (011)\n- Add \'domain_id\' column to \'identity_provider\' table, and a foreign\n  key constraint on the \'id\' column of the \'project\' table (012)\n- Add \'ondelete=CASCADE\' to foreignkey constraint on \'protocol_id\' and\n  \'idp_id\' columns of \'federated_user\' table (013)\n- Add \'domain_id\' column to the \'user\' table (014)\n- Replace foreign key constraints covering \'user_id\' columns of\n  \'local_user\' and \'nonlocal_user\' tables with constraints covering\n  \'user_id\' and \'domain_id\' columns (014)\n- Add unique constraint covering \'id\' and \'domain_id\' columns of \'user\'\n  table (014)\n- Alter \'domain_id\' column of \'user\' table to be non-nullable (015)\n- Add \'user_option\' table (016)\n\nChange-Id: I96cab42cfcfd3e86b53f25abf4cf4043af3b5667\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}]",1,824779,6525ae297bd33ece99a91ef859dca7619aebb4a8,18,4,2,15334,,,0,"sql: Squash ocata migrations

Make the following changes to the new ""initial"" migrations.

- Add four additional indexes to 'revocation_event' table (010)
- Add unique constraint to 'user_id' column of 'nonlocal_user' table
  (011)
- Add 'domain_id' column to 'identity_provider' table, and a foreign
  key constraint on the 'id' column of the 'project' table (012)
- Add 'ondelete=CASCADE' to foreignkey constraint on 'protocol_id' and
  'idp_id' columns of 'federated_user' table (013)
- Add 'domain_id' column to the 'user' table (014)
- Replace foreign key constraints covering 'user_id' columns of
  'local_user' and 'nonlocal_user' tables with constraints covering
  'user_id' and 'domain_id' columns (014)
- Add unique constraint covering 'id' and 'domain_id' columns of 'user'
  table (014)
- Alter 'domain_id' column of 'user' table to be non-nullable (015)
- Add 'user_option' table (016)

Change-Id: I96cab42cfcfd3e86b53f25abf4cf4043af3b5667
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/keystone refs/changes/79/824779/2 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/common/sql/contract_repo/versions/016_contract_initial_migration.py', 'keystone/common/sql/expand_repo/versions/016_expand_initial_migration.py', 'keystone/common/sql/data_migration_repo/versions/010_migrate_add_revocation_event_index.py', 'keystone/common/sql/expand_repo/versions/005_placeholder.py', 'keystone/common/sql/expand_repo/versions/015_expand_update_federated_user_domain.py', 'keystone/common/sql/data_migration_repo/versions/013_migrate_protocol_cascade_delete_for_federated_user.py', 'keystone/common/sql/expand_repo/versions/013_expand_protocol_cascade_delete_for_federated_user.py', 'keystone/common/sql/contract_repo/versions/007_placeholder.py', 'keystone/common/sql/data_migration_repo/versions/006_placeholder.py', 'keystone/common/sql/contract_repo/versions/013_contract_protocol_cascade_delete_for_federated_user.py', 'keystone/tests/unit/test_sql_upgrade.py', 'keystone/common/sql/contract_repo/versions/016_contract_add_user_options.py', 'keystone/common/sql/data_migration_repo/versions/015_migrate_update_federated_user_domain.py', 'keystone/common/sql/contract_repo/versions/009_placeholder.py', 'keystone/common/sql/data_migration_repo/versions/009_placeholder.py', 'keystone/common/sql/data_migration_repo/versions/011_expand_user_id_unique_for_nonlocal_user.py', 'keystone/common/sql/expand_repo/versions/008_placeholder.py', 'keystone/common/sql/data_migration_repo/versions/016_migrate_add_user_options.py', 'keystone/common/sql/expand_repo/versions/009_placeholder.py', 'keystone/common/sql/contract_repo/versions/008_placeholder.py', 'keystone/common/sql/data_migration_repo/versions/012_migrate_add_domain_id_to_idp.py', 'keystone/common/sql/expand_repo/versions/014_expand_add_domain_id_to_user_table.py', 'keystone/common/sql/contract_repo/versions/011_contract_user_id_unique_for_nonlocal_user.py', 'keystone/common/sql/contract_repo/versions/014_contract_add_domain_id_to_user_table.py', 'keystone/common/sql/data_migration_repo/versions/005_placeholder.py', 'keystone/common/sql/contract_repo/versions/012_contract_add_domain_id_to_idp.py', 'keystone/common/sql/expand_repo/versions/007_placeholder.py', 'keystone/common/sql/contract_repo/versions/015_contract_update_federated_user_domain.py', 'keystone/common/sql/expand_repo/versions/012_expand_add_domain_id_to_idp.py', 'keystone/common/sql/data_migration_repo/versions/008_placeholder.py', 'keystone/common/sql/data_migration_repo/versions/016_migrate_initial_migration.py', 'keystone/common/sql/data_migration_repo/versions/014_migrate_add_domain_id_to_user_table.py', 'keystone/common/sql/contract_repo/versions/005_placeholder.py', 'keystone/common/sql/expand_repo/versions/006_placeholder.py', 'keystone/common/sql/expand_repo/versions/010_expand_add_revocation_event_index.py', 'keystone/common/sql/expand_repo/versions/011_expand_user_id_unique_for_nonlocal_user.py', 'keystone/common/sql/data_migration_repo/versions/007_placeholder.py', 'keystone/common/sql/contract_repo/versions/010_contract_add_revocation_event_index.py', 'keystone/common/sql/expand_repo/versions/016_expand_add_user_options.py', 'keystone/common/sql/contract_repo/versions/006_placeholder.py']",40,f26707f6b6b23e3935dcbebd7527f7e572f19eb6,bp/remove-sqlalchemy-migrate,,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # This is a placeholder for Newton backports. Do not use this number for new # Ocata work. New Ocata work starts after all the placeholders. def upgrade(migrate_engine): pass ",113,1558
openstack%2Fopenstack-tempest-skiplist~master~If2e87f87094bc5dc72b58dd3ec72ea7590ef5d83,openstack/openstack-tempest-skiplist,master,If2e87f87094bc5dc72b58dd3ec72ea7590ef5d83,Adds failing victoria test,MERGED,2022-01-25 15:33:18.000000000,2022-02-08 13:24:02.000000000,2022-01-25 18:17:50.000000000,"[{'_account_id': 9976}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-25 15:33:18.000000000', 'files': ['roles/validate-tempest/vars/tempest_skip.yml'], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/f7bb87cb48b77efc68d5006a6b8e3df514e30f2b', 'message': 'Adds failing victoria test\n\nAdds tempest.api.compute.images.test_list_image_filters to victoria\nskiplist.\n\nChange-Id: If2e87f87094bc5dc72b58dd3ec72ea7590ef5d83\n'}]",0,826314,f7bb87cb48b77efc68d5006a6b8e3df514e30f2b,8,2,1,34208,,,0,"Adds failing victoria test

Adds tempest.api.compute.images.test_list_image_filters to victoria
skiplist.

Change-Id: If2e87f87094bc5dc72b58dd3ec72ea7590ef5d83
",git fetch https://review.opendev.org/openstack/openstack-tempest-skiplist refs/changes/14/826314/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/validate-tempest/vars/tempest_skip.yml'],1,f7bb87cb48b77efc68d5006a6b8e3df514e30f2b,, - test: 'tempest.api.compute.images.test_list_image_filters' deployment: - 'overcloud' releases: - name: victoria reason: SnapshotNotFoundException installers: - 'tripleo' lp: https://bugs.launchpad.net/tripleo/+bug/1959014 jobs: - periodic-tripleo-ci-centos-8-ovb-3ctlr_1comp-featureset035-victoria,,11,0
openstack%2Fpuppet-aodh~master~I43e2d8270e7f2cd4d605b7285e7f3022f17cdd15,openstack/puppet-aodh,master,I43e2d8270e7f2cd4d605b7285e7f3022f17cdd15,Remove deprecated database parameters,ABANDONED,2021-04-15 09:08:22.000000000,2022-02-08 12:57:44.000000000,,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-15 09:08:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-aodh/commit/04b5ee9c1e1a07f6a9738374d3e823d9369200a3', 'message': 'Remove deprecated detabase parameters of the aodh class\n\nChange-Id: I43e2d8270e7f2cd4d605b7285e7f3022f17cdd15\n'}, {'number': 2, 'created': '2021-04-15 09:12:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-aodh/commit/b09e62c5268e9aae9f3fd685570e70920e5e765e', 'message': 'Remove deprecated detabase parameters of the aodh class\n\nChange-Id: I43e2d8270e7f2cd4d605b7285e7f3022f17cdd15\n'}, {'number': 3, 'created': '2021-04-15 09:16:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-aodh/commit/3d1f41ca9c563b420d44e8739ba496eee8b2af71', 'message': 'Remove deprecated detabase parameters\n\nChange-Id: I43e2d8270e7f2cd4d605b7285e7f3022f17cdd15\n'}, {'number': 4, 'created': '2021-04-16 08:37:32.000000000', 'files': ['releasenotes/notes/remove-database-options-545abe5b3a91c796.yaml', 'manifests/db.pp', 'manifests/init.pp'], 'web_link': 'https://opendev.org/openstack/puppet-aodh/commit/b9f5ad744615caf9e5f8b40bd6dc338c11a06115', 'message': 'Remove deprecated database parameters\n\nChange-Id: I43e2d8270e7f2cd4d605b7285e7f3022f17cdd15\n'}]",2,786376,b9f5ad744615caf9e5f8b40bd6dc338c11a06115,11,2,4,9816,,,0,"Remove deprecated database parameters

Change-Id: I43e2d8270e7f2cd4d605b7285e7f3022f17cdd15
",git fetch https://review.opendev.org/openstack/puppet-aodh refs/changes/76/786376/4 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/remove-database-options-545abe5b3a91c796.yaml', 'manifests/db.pp', 'manifests/init.pp']",3,04b5ee9c1e1a07f6a9738374d3e823d9369200a3,database-cleanup,,"# [*database_min_pool_size*] # (optional) Minimum number of SQL connections to keep open in a pool. # Defaults to undef. # # [*database_connection*] # (optional) Connection url for the aodh database. # Defaults to undef. # # [*slave_connection*] # (optional) Connection url to connect to aodh slave database (read-only). # Defaults to undef. # # [*database_max_retries*] # (optional) Maximum database connection retries during startup. # Defaults to undef. # # [*database_idle_timeout*] # (optional) Timeout before idle database connections are reaped. # Defaults to undef. # # [*database_retry_interval*] # (optional) Interval between retries of opening a database connection. # Defaults to undef. # # [*database_max_pool_size*] # (optional) Maximum number of SQL connections to keep open in a pool. # Defaults to undef. # # [*database_max_overflow*] # (optional) If set, use this value for max_overflow with sqlalchemy. # Defaults to: undef. # $database_min_pool_size = undef, $database_connection = undef, $slave_connection = undef, $database_idle_timeout = undef, $database_max_pool_size = undef, $database_max_retries = undef, $database_retry_interval = undef, $database_max_overflow = undef, if $database_connection != undef { warning('The database_connection parameter is deprecated and will be \ removed in a future realse. Use aodh::db::database_connection instead') } if $slave_connection != undef { warning('The slave_connection parameter is deprecated and will be \ removed in a future realse. Use aodh::db::slave_connection instead') } if $database_idle_timeout != undef { warning('The database_idle_timeout parameter is deprecated and will be \ removed in a future realse. Use aodh::db::database_connection_recycle_time \ instead') } if $database_max_pool_size != undef { warning('The database_max_pool_size parameter is deprecated and will be \ removed in a future realse. Use aodh::db::database_max_pool_size instead') } if $database_max_retries!= undef { warning('The database_max_retries parameter is deprecated and will be \ removed in a future realse. Use aodh::db::database_max_retries instead') } if $database_retry_interval != undef { warning('The database_retry_interval parameter is deprecated and will be \ removed in a future realse. Use aodh::db::database_retry_interval instead') } if $database_max_overflow != undef { warning('The database_max_overflow parameter is deprecated and will be \ removed in a future realse. Use aodh::db::database_max_overflow instead') } ",20,97
openstack%2Fkolla-ansible~master~I290d0a81c57c189b6eb62fc3eee3ed19f441671b,openstack/kolla-ansible,master,I290d0a81c57c189b6eb62fc3eee3ed19f441671b,"Revert ""Add workaround for keystonemiddleware/neutron memcached issue""",MERGED,2022-02-07 15:07:11.000000000,2022-02-08 12:25:31.000000000,2022-02-08 12:23:05.000000000,"[{'_account_id': 13252}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}, {'_account_id': 32029}]","[{'number': 1, 'created': '2022-02-07 15:07:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/bcd7be023042dfe92ac1424045501bbdc57ee882', 'message': 'Remove keystonemiddleware workaround\n\nThe default configuration was changed to use the advanced cache pool in\nkeystonemiddleware 9.3.0 (Xena release) [1].\n\n[1] https://review.opendev.org/c/openstack/keystonemiddleware/+/773939\n\nChange-Id: I290d0a81c57c189b6eb62fc3eee3ed19f441671b\n'}, {'number': 2, 'created': '2022-02-08 09:20:38.000000000', 'files': ['ansible/roles/neutron/templates/neutron.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/71bd20083378530b15b1a0434899f5356063885c', 'message': 'Revert ""Add workaround for keystonemiddleware/neutron memcached issue""\n\nThe default configuration was changed to use the advanced cache pool in\nkeystonemiddleware 9.3.0 (Xena release) [1].\n\nThis reverts commit 5a52d8e4a0c5d4c246deb8851ef893df63ee0847 (except the\nrelease note).\n\n[1] https://review.opendev.org/c/openstack/keystonemiddleware/+/773939\n\nChange-Id: I290d0a81c57c189b6eb62fc3eee3ed19f441671b\n'}]",4,828164,71bd20083378530b15b1a0434899f5356063885c,18,6,2,15197,,,0,"Revert ""Add workaround for keystonemiddleware/neutron memcached issue""

The default configuration was changed to use the advanced cache pool in
keystonemiddleware 9.3.0 (Xena release) [1].

This reverts commit 5a52d8e4a0c5d4c246deb8851ef893df63ee0847 (except the
release note).

[1] https://review.opendev.org/c/openstack/keystonemiddleware/+/773939

Change-Id: I290d0a81c57c189b6eb62fc3eee3ed19f441671b
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/64/828164/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/neutron/templates/neutron.conf.j2'],1,bcd7be023042dfe92ac1424045501bbdc57ee882,keystonemiddleware-memcached,,# Workaround for https://bugs.launchpad.net/keystonemiddleware/+bug/1883659 memcache_use_advanced_pool = True ,0,3
openstack%2Fpbr~master~I9c51ffdeb548833f2cc303d2e53ba169756690d3,openstack/pbr,master,I9c51ffdeb548833f2cc303d2e53ba169756690d3,setup.cfg: Replace dashes with underscores,MERGED,2021-05-13 09:49:59.000000000,2022-02-08 12:14:14.000000000,2022-02-08 12:12:34.000000000,"[{'_account_id': 4146}, {'_account_id': 5263}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 29313}, {'_account_id': 31245}]","[{'number': 1, 'created': '2021-05-13 09:49:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/pbr/commit/2f41f39e9839b94d6b6a324c054435a41185a9cc', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: I9c51ffdeb548833f2cc303d2e53ba169756690d3\n""}, {'number': 2, 'created': '2022-01-19 16:40:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/pbr/commit/bf5ed910c493ee3bbef77e3b7964df06fba41fdd', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of\ndash-separated options in 'setup.cfg' will not be supported in a\nfuture version [1]. Get ahead of the issue by updating to canonical\nconfiguration[2]. Without this, we see 'UserWarning' messages like\nthe following on new enough versions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not\n  be supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n[2] https://setuptools.pypa.io/en/stable/userguide/declarative_config.html\n\nChange-Id: I9c51ffdeb548833f2cc303d2e53ba169756690d3\n""}, {'number': 3, 'created': '2022-01-21 09:49:44.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/pbr/commit/09417bf0a30b8e423ba69d6898a039a55fbbfceb', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of\ndash-separated options in 'setup.cfg' will not be supported in a\nfuture version [1]. Get ahead of the issue by updating to canonical\nconfiguration[2]. Without this, we see 'UserWarning' messages like\nthe following on new enough versions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not\n  be supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n[2] https://setuptools.pypa.io/en/stable/userguide/declarative_config.html\n\nChange-Id: I9c51ffdeb548833f2cc303d2e53ba169756690d3\n""}]",10,791127,09417bf0a30b8e423ba69d6898a039a55fbbfceb,24,6,3,31828,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of
dash-separated options in 'setup.cfg' will not be supported in a
future version [1]. Get ahead of the issue by updating to canonical
configuration[2]. Without this, we see 'UserWarning' messages like
the following on new enough versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not
  be supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb
[2] https://setuptools.pypa.io/en/stable/userguide/declarative_config.html

Change-Id: I9c51ffdeb548833f2cc303d2e53ba169756690d3
",git fetch https://review.opendev.org/openstack/pbr refs/changes/27/791127/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,2f41f39e9839b94d6b6a324c054435a41185a9cc,setup.cfg,author_email = openstack-discuss@lists.openstack.orgdescription_file =description_content_type = text/x-rst; charset=UTF-8 home_page = https://docs.openstack.org/pbr/latest/python_requires = >=2.6,author-email = openstack-discuss@lists.openstack.orgdescription-file =description-content-type = text/x-rst; charset=UTF-8 home-page = https://docs.openstack.org/pbr/latest/python-requires = >=2.6,5,5
openstack%2Fneutron~stable%2Fxena~Ib392b46308aaf76386a747870c5600790a268d51,openstack/neutron,stable/xena,Ib392b46308aaf76386a747870c5600790a268d51,[OVN] Fix overlapping security group objects not correctly applied,MERGED,2022-01-30 20:27:25.000000000,2022-02-08 12:13:33.000000000,2022-02-08 12:11:09.000000000,"[{'_account_id': 6773}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-30 20:27:25.000000000', 'files': ['neutron/services/logapi/drivers/ovn/driver.py', 'neutron/tests/functional/services/logapi/drivers/ovn/test_driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/64b06e12d65d64422780c4991d20e2be5a73b5e5', 'message': '[OVN] Fix overlapping security group objects not correctly applied\n\nIf a security group object modified an Access Control List in OVN, it\ncould not be modified by another object. This change prevents the driver\nfrom associating more ACLs than needed if the network log object created\nis to log the dropped traffic. Functional tests consider the existence\nof events now.\n\nCloses-Bug: #1956763\nChange-Id: Ib392b46308aaf76386a747870c5600790a268d51\n(cherry picked from commit 522837a97f20d1d9325f7d0719811e263d3fd1c3)\n'}]",3,826847,64b06e12d65d64422780c4991d20e2be5a73b5e5,18,3,1,32586,,,0,"[OVN] Fix overlapping security group objects not correctly applied

If a security group object modified an Access Control List in OVN, it
could not be modified by another object. This change prevents the driver
from associating more ACLs than needed if the network log object created
is to log the dropped traffic. Functional tests consider the existence
of events now.

Closes-Bug: #1956763
Change-Id: Ib392b46308aaf76386a747870c5600790a268d51
(cherry picked from commit 522837a97f20d1d9325f7d0719811e263d3fd1c3)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/47/826847/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/services/logapi/drivers/ovn/driver.py', 'neutron/tests/functional/services/logapi/drivers/ovn/test_driver.py']",2,64b06e12d65d64422780c4991d20e2be5a73b5e5,overlapping-secgroup-logging-stable/xena," 'enabled': enabled, 'event': log_const.ALL_EVENT} def _check_acl_log_drop(self, is_enabled=True): acls = self.nb_api.get_port_group( ovn_const.OVN_DROP_PORT_GROUP_NAME).acls self.assertTrue(acls) for acl in acls: self.assertEqual(is_enabled, acl.log) return acls def _add_logs_then_remove(self, event1, event2, sg=None, sgrs=None): # Events were previously not correctly applied on ACLs. This test # ensures that each event log only the necessary acls drop_true_events = (log_const.DROP_EVENT, log_const.ALL_EVENT) accept_true_events = (log_const.ALL_EVENT, log_const.ACCEPT_EVENT) # Check there are no acls with their logging active self._check_sgrs(sgrs=sgrs, is_enabled=False) self._check_acl_log_drop(is_enabled=False) # Add first log object log_data1 = self._log_data(sg_id=sg) log_data1['log']['event'] = event1 log_obj1 = self.log_plugin.create_log(self.ctxt, log_data1) self._check_acl_log_drop(is_enabled=event1 in drop_true_events) self._check_sgrs(sgrs=sgrs, is_enabled=event1 in accept_true_events) # Add second log object log_data2 = self._log_data(sg_id=sg) log_data2['log']['event'] = event2 log_obj2 = self.log_plugin.create_log(self.ctxt, log_data2) self._check_acl_log_drop(is_enabled=(event1 in drop_true_events or event2 in drop_true_events)) self._check_sgrs(sgrs=sgrs, is_enabled=(event1 in accept_true_events or event2 in accept_true_events)) # Delete second log object self.log_plugin.delete_log(self.ctxt, log_obj2['id']) self._check_acl_log_drop(is_enabled=event1 in drop_true_events) self._check_sgrs(sgrs=sgrs, is_enabled=event1 in accept_true_events) # Delete first log object self.log_plugin.delete_log(self.ctxt, log_obj1['id']) self._check_sgrs(sgrs=sgrs, is_enabled=False) self._check_acl_log_drop(is_enabled=False) def test_events_all_sg(self): self._add_logs_then_remove(log_const.DROP_EVENT, log_const.ALL_EVENT) self._add_logs_then_remove( log_const.ACCEPT_EVENT, log_const.DROP_EVENT) self._add_logs_then_remove( log_const.DROP_EVENT, log_const.ACCEPT_EVENT) def test_events_one_sg(self): self._add_logs_then_remove(log_const.DROP_EVENT, log_const.ALL_EVENT, sg=self.sg1, sgrs=self.sg1rs) self._add_logs_then_remove( log_const.ACCEPT_EVENT, log_const.DROP_EVENT, sg=self.sg2, sgrs=self.sg2rs) self._add_logs_then_remove( log_const.DROP_EVENT, log_const.ACCEPT_EVENT, sg=self.sg3, sgrs=self.sg3rs)", 'enabled': enabled},81,4
openstack%2Fkolla~master~I8bb6c4c07c30f108e77fbb8cdc38d634b42b900f,openstack/kolla,master,I8bb6c4c07c30f108e77fbb8cdc38d634b42b900f,"Revert ""nova: drop pypowervm dependency""",MERGED,2022-02-01 12:37:19.000000000,2022-02-08 11:21:02.000000000,2022-02-08 11:18:33.000000000,"[{'_account_id': 13252}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-02-01 12:37:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/909599014f62a60a1b1440de88c51a1471469a3d', 'message': 'Revert ""nova: drop pypowervm dependency""\n\nThis reverts commit 7de91fd60355104cbd650e0fe6f680b2eb0f2ffa.\n\nReason for revert: Nova dropped pypowervm dependency so we do not need to handle it anymore.\n\nChange-Id: I8bb6c4c07c30f108e77fbb8cdc38d634b42b900f\n'}, {'number': 2, 'created': '2022-02-04 09:16:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/0c34545872ec2077d6b88f4b3cbb02deb3576302', 'message': 'Revert ""nova: drop pypowervm dependency""\n\nThis reverts commit 7de91fd60355104cbd650e0fe6f680b2eb0f2ffa.\n\nReason for revert: Nova dropped pypowervm dependency so we do not need to handle it anymore.\n\nChange-Id: I8bb6c4c07c30f108e77fbb8cdc38d634b42b900f\n'}, {'number': 3, 'created': '2022-02-08 07:17:04.000000000', 'files': ['docker/nova/nova-base/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/e1637099d506bb746afd7f05ddef5eed2b7da314', 'message': 'Revert ""nova: drop pypowervm dependency""\n\nThis reverts commit 7de91fd60355104cbd650e0fe6f680b2eb0f2ffa.\n\nReason for revert: Nova dropped pypowervm dependency so we do not need to handle it anymore.\n\nChange-Id: I8bb6c4c07c30f108e77fbb8cdc38d634b42b900f\n'}]",2,827240,e1637099d506bb746afd7f05ddef5eed2b7da314,20,5,3,24072,,,0,"Revert ""nova: drop pypowervm dependency""

This reverts commit 7de91fd60355104cbd650e0fe6f680b2eb0f2ffa.

Reason for revert: Nova dropped pypowervm dependency so we do not need to handle it anymore.

Change-Id: I8bb6c4c07c30f108e77fbb8cdc38d634b42b900f
",git fetch https://review.opendev.org/openstack/kolla refs/changes/40/827240/2 && git format-patch -1 --stdout FETCH_HEAD,"['docker/nova/nova-base/Dockerfile.j2', 'releasenotes/notes/nova-drop-pypowervm-256048c2a9cd594d.yaml']",2,909599014f62a60a1b1440de88c51a1471469a3d,,,--- fixes: - | Nova images are built without ``pypowervm`` package. It is needed only for POWER architecture support (which we do not support) and breaks CentOS builds by trying to install (Python 2 only) 'futures' package. ,0,9
openstack%2Fkayobe~master~I5340456f8d178aecd84ae6f378cd17a38f84b22a,openstack/kayobe,master,I5340456f8d178aecd84ae6f378cd17a38f84b22a,DNM: Enable PXE UEFI booting,ABANDONED,2022-02-03 14:01:14.000000000,2022-02-08 11:20:35.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-02-03 14:01:14.000000000', 'files': ['zuul.d/project.yaml', 'playbooks/kayobe-overcloud-base/overrides.yml.j2'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/3c5c1be91824378dd46981b5c87cc64d9a47df04', 'message': 'DNM: Enable PXE UEFI booting\n\nDepends-On: https://review.opendev.org/c/openstack/tenks/+/827553\nChange-Id: I5340456f8d178aecd84ae6f378cd17a38f84b22a\n'}]",0,827669,3c5c1be91824378dd46981b5c87cc64d9a47df04,3,1,1,14826,,,0,"DNM: Enable PXE UEFI booting

Depends-On: https://review.opendev.org/c/openstack/tenks/+/827553
Change-Id: I5340456f8d178aecd84ae6f378cd17a38f84b22a
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/69/827669/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/project.yaml', 'playbooks/kayobe-overcloud-base/overrides.yml.j2']",2,3c5c1be91824378dd46981b5c87cc64d9a47df04,,# Enable ironic for testing baremetal compute. Enable UEFI boot over PXE.kolla_enable_ironic_pxe_uefi: true,# Enable ironic for testing baremetal compute.,2,23
openstack%2Fneutron~stable%2Fussuri~I6ec0b392b13daa9f64e051fb12b4b97a6c0a1730,openstack/neutron,stable/ussuri,I6ec0b392b13daa9f64e051fb12b4b97a6c0a1730,[OVN] Check if exists trunk ports before cleanup,MERGED,2022-02-04 09:37:40.000000000,2022-02-08 11:19:54.000000000,2022-02-08 11:17:33.000000000,"[{'_account_id': 6773}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-04 09:37:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/600992fe3491f281002bb9c5e71396af674e6264', 'message': ""[OVN] Check if exists trunk ports before cleanup\n\nWhile migrating from OVS to OVN one of the steps of the migration\nis clean all the OVS trunk ports, this will fail if the environment\ndoes not have any trunk ports configured.\n\nThis will do a comprovation in order to know if it's necessary\nto clean them or not.\n\nAlso, since this playbook it will only clean the ovn interfaces\nit is not necessary to stop the whole migration. If any error\noccured while deleting any ovs interface a message will be\nprinted so the user can take action if necessary.\n\nChange-Id: I6ec0b392b13daa9f64e051fb12b4b97a6c0a1730\n""}, {'number': 2, 'created': '2022-02-04 10:28:17.000000000', 'files': ['tools/ovn_migration/tripleo_environment/playbooks/roles/migration/tasks/cleanup-dataplane.yml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/972ec4eee674266dc4e8dbb0bbba91e9d58f2f95', 'message': ""[OVN] Check if exists trunk ports before cleanup\n\nWhile migrating from OVS to OVN one of the steps of the migration\nis clean all the OVS trunk ports, this will fail if the environment\ndoes not have any trunk ports configured.\n\nThis will do a comprovation in order to know if it's necessary\nto clean them or not.\n\nAlso, since this playbook it will only clean the ovn interfaces\nit is not necessary to stop the whole migration. If any error\noccured while deleting any ovs interface a message will be\nprinted so the user can take action if necessary.\n\nChange-Id: I6ec0b392b13daa9f64e051fb12b4b97a6c0a1730\n(cherry picked from commit 9fcf42d3d524f03c8f49794bdd3730f654c146a1)\n""}]",0,827826,972ec4eee674266dc4e8dbb0bbba91e9d58f2f95,9,3,2,34118,,,0,"[OVN] Check if exists trunk ports before cleanup

While migrating from OVS to OVN one of the steps of the migration
is clean all the OVS trunk ports, this will fail if the environment
does not have any trunk ports configured.

This will do a comprovation in order to know if it's necessary
to clean them or not.

Also, since this playbook it will only clean the ovn interfaces
it is not necessary to stop the whole migration. If any error
occured while deleting any ovs interface a message will be
printed so the user can take action if necessary.

Change-Id: I6ec0b392b13daa9f64e051fb12b4b97a6c0a1730
(cherry picked from commit 9fcf42d3d524f03c8f49794bdd3730f654c146a1)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/26/827826/2 && git format-patch -1 --stdout FETCH_HEAD,['tools/ovn_migration/tripleo_environment/playbooks/roles/migration/tasks/cleanup-dataplane.yml'],1,600992fe3491f281002bb9c5e71396af674e6264,, register: router_dhcp_error ignore_errors: True - name: Cleanup neutron router and dhcp interfaces finished debug: msg: WARNING error while cleaning ovs interface with msg {{ router_dhcp_error.msg }} when: - router_dhcp_error.changed - router_dhcp_error.rc != 0 - name: Check if neutron trunk subports need cleanup shell: | ovs-vsctl list interface | awk '/name[ ]*: sp[it]-/ { print $3 }' | grep 'spi-\|spt-' register: do_cleanup ignore_errors: True when: do_cleanup.rc == 0 register: trunk_error ignore_errors: True - name: Cleanup trunk ports finished debug: msg: WARNING error while cleaning ovs interface with msg {{ trunk_error.msg }} when: - trunk_error.changed - trunk_error.rc != 0,,25,0
openstack%2Fkolla-ansible~master~I7beecf2dd6c49c8934722cf22efa74e920ecb060,openstack/kolla-ansible,master,I7beecf2dd6c49c8934722cf22efa74e920ecb060,[CI] Replace parted with lsblk,MERGED,2022-02-04 21:40:20.000000000,2022-02-08 11:08:37.000000000,2022-02-08 11:06:44.000000000,"[{'_account_id': 13252}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2022-02-04 21:40:20.000000000', 'files': ['tests/get_logs.sh'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/654edefca3061a9e61183544f71bc41ab7a61600', 'message': '[CI] Replace parted with lsblk\n\nparted hangs waiting for user input (see examples below)\non Debian and Ubuntu nodes which have created a cinder\nvolume on lvm, causing POST_FAILURE of the entire CI job.\nZun (Cinder iSCSI LVM) jobs are affected.\nparted seemingly tries to interpret contents of the created\nvolume and fails miserably.\nSince there is no reason why we would need to see the output\nof parted specifically, this patch is switching to use\nlsblk to simply list visible block devices.\nAlong with the rest of the commands, this should be just\nthe right level of detail.\nAnd we avoid having parted interpret internals of otherwise\nopaque block devices.\n\nExample issues:\n\nWarning: Not all of the space available to\n/dev/mapper/cinder--volumes-cinder--volumes--pool appears to be used, you can\nfix the GPT to use all of the space (an extra 9732096 blocks) or continue with\nthe current setting?\nFix/Ignore?\n\nWarning: Not all of the space available to\n/dev/mapper/cinder--volumes-cinder--volumes--pool-tpool appears to be used, you\ncan fix the GPT to use all of the space (an extra 9732096 blocks) or continue\nwith the current setting?\nFix/Ignore?\n\nWarning: Not all of the space available to\n/dev/mapper/cinder--volumes-cinder--volumes--pool_tdata appears to be used, you\ncan fix the GPT to use all of the space (an extra 9732096 blocks) or continue\nwith the current setting?\nFix/Ignore?\n\nChange-Id: I7beecf2dd6c49c8934722cf22efa74e920ecb060\n'}]",4,827928,654edefca3061a9e61183544f71bc41ab7a61600,13,4,1,30491,,,0,"[CI] Replace parted with lsblk

parted hangs waiting for user input (see examples below)
on Debian and Ubuntu nodes which have created a cinder
volume on lvm, causing POST_FAILURE of the entire CI job.
Zun (Cinder iSCSI LVM) jobs are affected.
parted seemingly tries to interpret contents of the created
volume and fails miserably.
Since there is no reason why we would need to see the output
of parted specifically, this patch is switching to use
lsblk to simply list visible block devices.
Along with the rest of the commands, this should be just
the right level of detail.
And we avoid having parted interpret internals of otherwise
opaque block devices.

Example issues:

Warning: Not all of the space available to
/dev/mapper/cinder--volumes-cinder--volumes--pool appears to be used, you can
fix the GPT to use all of the space (an extra 9732096 blocks) or continue with
the current setting?
Fix/Ignore?

Warning: Not all of the space available to
/dev/mapper/cinder--volumes-cinder--volumes--pool-tpool appears to be used, you
can fix the GPT to use all of the space (an extra 9732096 blocks) or continue
with the current setting?
Fix/Ignore?

Warning: Not all of the space available to
/dev/mapper/cinder--volumes-cinder--volumes--pool_tdata appears to be used, you
can fix the GPT to use all of the space (an extra 9732096 blocks) or continue
with the current setting?
Fix/Ignore?

Change-Id: I7beecf2dd6c49c8934722cf22efa74e920ecb060
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/28/827928/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/get_logs.sh'],1,654edefca3061a9e61183544f71bc41ab7a61600,ci-replace-parted, lsblk > ${LOG_DIR}/system_logs/lsblk.txt, parted -l > ${LOG_DIR}/system_logs/parted-l.txt,1,1
openstack%2Fneutron~stable%2Fvictoria~I6ec0b392b13daa9f64e051fb12b4b97a6c0a1730,openstack/neutron,stable/victoria,I6ec0b392b13daa9f64e051fb12b4b97a6c0a1730,[OVN] Check if exists trunk ports before cleanup,MERGED,2022-02-04 09:37:20.000000000,2022-02-08 11:07:55.000000000,2022-02-08 11:05:55.000000000,"[{'_account_id': 6773}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-04 09:37:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6ec3c7214d852f5bff42824bb6b8c89190a9fc09', 'message': ""[OVN] Check if exists trunk ports before cleanup\n\nWhile migrating from OVS to OVN one of the steps of the migration\nis clean all the OVS trunk ports, this will fail if the environment\ndoes not have any trunk ports configured.\n\nThis will do a comprovation in order to know if it's necessary\nto clean them or not.\n\nAlso, since this playbook it will only clean the ovn interfaces\nit is not necessary to stop the whole migration. If any error\noccured while deleting any ovs interface a message will be\nprinted so the user can take action if necessary.\n\nChange-Id: I6ec0b392b13daa9f64e051fb12b4b97a6c0a1730\n""}, {'number': 2, 'created': '2022-02-04 10:27:56.000000000', 'files': ['tools/ovn_migration/tripleo_environment/playbooks/roles/migration/tasks/cleanup-dataplane.yml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/6d0b50652d6e9f01e4d631290dba53625846e047', 'message': ""[OVN] Check if exists trunk ports before cleanup\n\nWhile migrating from OVS to OVN one of the steps of the migration\nis clean all the OVS trunk ports, this will fail if the environment\ndoes not have any trunk ports configured.\n\nThis will do a comprovation in order to know if it's necessary\nto clean them or not.\n\nAlso, since this playbook it will only clean the ovn interfaces\nit is not necessary to stop the whole migration. If any error\noccured while deleting any ovs interface a message will be\nprinted so the user can take action if necessary.\n\nChange-Id: I6ec0b392b13daa9f64e051fb12b4b97a6c0a1730\n(cherry picked from commit 9fcf42d3d524f03c8f49794bdd3730f654c146a1)\n""}]",0,827825,6d0b50652d6e9f01e4d631290dba53625846e047,10,3,2,34118,,,0,"[OVN] Check if exists trunk ports before cleanup

While migrating from OVS to OVN one of the steps of the migration
is clean all the OVS trunk ports, this will fail if the environment
does not have any trunk ports configured.

This will do a comprovation in order to know if it's necessary
to clean them or not.

Also, since this playbook it will only clean the ovn interfaces
it is not necessary to stop the whole migration. If any error
occured while deleting any ovs interface a message will be
printed so the user can take action if necessary.

Change-Id: I6ec0b392b13daa9f64e051fb12b4b97a6c0a1730
(cherry picked from commit 9fcf42d3d524f03c8f49794bdd3730f654c146a1)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/25/827825/2 && git format-patch -1 --stdout FETCH_HEAD,['tools/ovn_migration/tripleo_environment/playbooks/roles/migration/tasks/cleanup-dataplane.yml'],1,6ec3c7214d852f5bff42824bb6b8c89190a9fc09,, register: router_dhcp_error ignore_errors: True - name: Cleanup neutron router and dhcp interfaces finished debug: msg: WARNING error while cleaning ovs interface with msg {{ router_dhcp_error.msg }} when: - router_dhcp_error.changed - router_dhcp_error.rc != 0 - name: Check if neutron trunk subports need cleanup shell: | ovs-vsctl list interface | awk '/name[ ]*: sp[it]-/ { print $3 }' | grep 'spi-\|spt-' register: do_cleanup ignore_errors: True when: do_cleanup.rc == 0 register: trunk_error ignore_errors: True - name: Cleanup trunk ports finished debug: msg: WARNING error while cleaning ovs interface with msg {{ trunk_error.msg }} when: - trunk_error.changed - trunk_error.rc != 0,,25,0
openstack%2Fkolla~master~If1844434ff0b7c3b35d0a8e742c7e2fad0dc8758,openstack/kolla,master,If1844434ff0b7c3b35d0a8e742c7e2fad0dc8758,stringify docker-squash version,MERGED,2022-02-04 10:48:42.000000000,2022-02-08 11:02:56.000000000,2022-02-08 11:00:33.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-02-04 10:48:42.000000000', 'files': ['kolla/common/utils.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/bbb1f692cdb2cdf5ddfb8b4d7012e7dee52787d8', 'message': 'stringify docker-squash version\n\nBefore:\n(kolla) 11:46 (s) marcin@puchatek:kolla$ ./tools/build.py --squash\nINFO:kolla.common.utils:Image squash is enabled and ""docker-squash"" version is b\'1.0.8\'\n\nAfter:\n(kolla) 11:46 (s) marcin@puchatek:kolla$ ./tools/build.py --squash\nINFO:kolla.common.utils:Image squash is enabled and ""docker-squash"" version is 1.0.8\n\nChange-Id: If1844434ff0b7c3b35d0a8e742c7e2fad0dc8758\n'}]",0,827835,bbb1f692cdb2cdf5ddfb8b4d7012e7dee52787d8,9,3,1,24072,,,0,"stringify docker-squash version

Before:
(kolla) 11:46 (s) marcin@puchatek:kolla$ ./tools/build.py --squash
INFO:kolla.common.utils:Image squash is enabled and ""docker-squash"" version is b'1.0.8'

After:
(kolla) 11:46 (s) marcin@puchatek:kolla$ ./tools/build.py --squash
INFO:kolla.common.utils:Image squash is enabled and ""docker-squash"" version is 1.0.8

Change-Id: If1844434ff0b7c3b35d0a8e742c7e2fad0dc8758
",git fetch https://review.opendev.org/openstack/kolla refs/changes/35/827835/1 && git format-patch -1 --stdout FETCH_HEAD,['kolla/common/utils.py'],1,bbb1f692cdb2cdf5ddfb8b4d7012e7dee52787d8,," return str(stdout.split()[0], 'utf-8')", return stdout.split()[0],1,1
openstack%2Fkayobe-config~stable%2Fxena~Iedda041811602f42b51c080bb84c03a4b64a89fa,openstack/kayobe-config,stable/xena,Iedda041811602f42b51c080bb84c03a4b64a89fa,Sync kayobe-config with kayobe changes,MERGED,2022-01-31 11:49:23.000000000,2022-02-08 10:35:38.000000000,2022-02-08 10:35:38.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-31 11:49:23.000000000', 'files': ['etc/kayobe/bifrost.yml', 'etc/kayobe/seed-hypervisor.yml', 'etc/kayobe/ipa.yml'], 'web_link': 'https://opendev.org/openstack/kayobe-config/commit/661f7c9fcef554deb7765fb4300ef045ef3d50a5', 'message': 'Sync kayobe-config with kayobe changes\n\nChange-Id: Iedda041811602f42b51c080bb84c03a4b64a89fa\n'}]",0,827059,661f7c9fcef554deb7765fb4300ef045ef3d50a5,6,2,1,15197,,,0,"Sync kayobe-config with kayobe changes

Change-Id: Iedda041811602f42b51c080bb84c03a4b64a89fa
",git fetch https://review.opendev.org/openstack/kayobe-config refs/changes/59/827059/1 && git format-patch -1 --stdout FETCH_HEAD,"['etc/kayobe/bifrost.yml', 'etc/kayobe/seed-hypervisor.yml', 'etc/kayobe/ipa.yml']",3,661f7c9fcef554deb7765fb4300ef045ef3d50a5,,# Version of IPA builder source repository. Default is {{ openstack_branch }}.,# Version of IPA builder source repository. Default is master.,7,1
openstack%2Fkayobe-config~stable%2Fwallaby~I39113b819473e3b4a3819e2e03a69e59f3c13c46,openstack/kayobe-config,stable/wallaby,I39113b819473e3b4a3819e2e03a69e59f3c13c46,Sync kayobe-config with kayobe changes,MERGED,2022-01-31 11:49:58.000000000,2022-02-08 10:35:37.000000000,2022-02-08 10:35:37.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-31 11:49:58.000000000', 'files': ['etc/kayobe/apt.yml', 'etc/kayobe/bifrost.yml', 'etc/kayobe/globals.yml', 'etc/kayobe/kolla.yml', 'etc/kayobe/ipa.yml'], 'web_link': 'https://opendev.org/openstack/kayobe-config/commit/bcae6dc7b8850869c685429cc388c063661a8bdf', 'message': 'Sync kayobe-config with kayobe changes\n\nChange-Id: I39113b819473e3b4a3819e2e03a69e59f3c13c46\n'}]",0,827060,bcae6dc7b8850869c685429cc388c063661a8bdf,6,2,1,15197,,,0,"Sync kayobe-config with kayobe changes

Change-Id: I39113b819473e3b4a3819e2e03a69e59f3c13c46
",git fetch https://review.opendev.org/openstack/kayobe-config refs/changes/60/827060/1 && git format-patch -1 --stdout FETCH_HEAD,"['etc/kayobe/apt.yml', 'etc/kayobe/bifrost.yml', 'etc/kayobe/globals.yml', 'etc/kayobe/kolla.yml', 'etc/kayobe/ipa.yml']",5,bcae6dc7b8850869c685429cc388c063661a8bdf,,# Version of IPA builder source repository. Default is {{ openstack_branch }}. #ipa_builder_source_version:,# Version of IPA builder source repository. Default is master. #ipa_build_source_version:,27,4
openstack%2Fkayobe-config~stable%2Fvictoria~Ib26c49f0ae1eb1406896c25e34092f131922ec9a,openstack/kayobe-config,stable/victoria,Ib26c49f0ae1eb1406896c25e34092f131922ec9a,Sync kayobe-config with kayobe changes,MERGED,2022-01-31 11:50:36.000000000,2022-02-08 10:35:35.000000000,2022-02-08 10:35:35.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-31 11:50:36.000000000', 'files': ['etc/kayobe/bifrost.yml', 'etc/kayobe/globals.yml', 'etc/kayobe/overcloud.yml', 'etc/kayobe/ipa.yml'], 'web_link': 'https://opendev.org/openstack/kayobe-config/commit/613f8ddd10a703062f6206694ea50485933948b0', 'message': 'Sync kayobe-config with kayobe changes\n\nChange-Id: Ib26c49f0ae1eb1406896c25e34092f131922ec9a\n'}]",0,827061,613f8ddd10a703062f6206694ea50485933948b0,6,2,1,15197,,,0,"Sync kayobe-config with kayobe changes

Change-Id: Ib26c49f0ae1eb1406896c25e34092f131922ec9a
",git fetch https://review.opendev.org/openstack/kayobe-config refs/changes/61/827061/1 && git format-patch -1 --stdout FETCH_HEAD,"['etc/kayobe/bifrost.yml', 'etc/kayobe/globals.yml', 'etc/kayobe/overcloud.yml', 'etc/kayobe/ipa.yml']",4,613f8ddd10a703062f6206694ea50485933948b0,,# Version of IPA builder source repository. Default is stable/wallaby. #ipa_builder_source_version:,# Version of IPA builder source repository. Default is master. #ipa_build_source_version:,20,13
openstack%2Fpbr~master~I3d6ce9c6601decfed9fcede450f5a34dde04262f,openstack/pbr,master,I3d6ce9c6601decfed9fcede450f5a34dde04262f,Use py3 as the default runtime for tox,ABANDONED,2021-04-20 08:54:59.000000000,2022-02-08 10:25:11.000000000,,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-20 08:54:59.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/pbr/commit/85845262f2735749cca90cc93d2f95de88793fec', 'message': 'Use py3 as the default runtime for tox\n\nMoving on py3 as the default runtime for tox to avoid to update\nthis at each new cycle.\n\nChange-Id: I3d6ce9c6601decfed9fcede450f5a34dde04262f\n'}]",1,787170,85845262f2735749cca90cc93d2f95de88793fec,5,2,1,30384,,,0,"Use py3 as the default runtime for tox

Moving on py3 as the default runtime for tox to avoid to update
this at each new cycle.

Change-Id: I3d6ce9c6601decfed9fcede450f5a34dde04262f
",git fetch https://review.opendev.org/openstack/pbr refs/changes/70/787170/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,85845262f2735749cca90cc93d2f95de88793fec,,"envlist = pep8,py27,py3,docs","envlist = pep8,py27,py37,docs",1,1
openstack%2Fneutron~stable%2Fwallaby~I6ec0b392b13daa9f64e051fb12b4b97a6c0a1730,openstack/neutron,stable/wallaby,I6ec0b392b13daa9f64e051fb12b4b97a6c0a1730,[OVN] Check if exists trunk ports before cleanup,MERGED,2022-02-04 09:37:03.000000000,2022-02-08 10:20:11.000000000,2022-02-08 10:17:48.000000000,"[{'_account_id': 6773}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-04 09:37:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/14e02f8b1dcd208e31cd9b73e6f55989c3477d2c', 'message': ""[OVN] Check if exists trunk ports before cleanup\n\nWhile migrating from OVS to OVN one of the steps of the migration\nis clean all the OVS trunk ports, this will fail if the environment\ndoes not have any trunk ports configured.\n\nThis will do a comprovation in order to know if it's necessary\nto clean them or not.\n\nAlso, since this playbook it will only clean the ovn interfaces\nit is not necessary to stop the whole migration. If any error\noccured while deleting any ovs interface a message will be\nprinted so the user can take action if necessary.\n\nChange-Id: I6ec0b392b13daa9f64e051fb12b4b97a6c0a1730\n""}, {'number': 2, 'created': '2022-02-04 10:27:33.000000000', 'files': ['tools/ovn_migration/tripleo_environment/playbooks/roles/migration/tasks/cleanup-dataplane.yml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/bd9d87019a0498234c920d6f1e93d1f2d2240cb4', 'message': ""[OVN] Check if exists trunk ports before cleanup\n\nWhile migrating from OVS to OVN one of the steps of the migration\nis clean all the OVS trunk ports, this will fail if the environment\ndoes not have any trunk ports configured.\n\nThis will do a comprovation in order to know if it's necessary\nto clean them or not.\n\nAlso, since this playbook it will only clean the ovn interfaces\nit is not necessary to stop the whole migration. If any error\noccured while deleting any ovs interface a message will be\nprinted so the user can take action if necessary.\n\nChange-Id: I6ec0b392b13daa9f64e051fb12b4b97a6c0a1730\n(cherry picked from commit 9fcf42d3d524f03c8f49794bdd3730f654c146a1)\n""}]",0,827824,bd9d87019a0498234c920d6f1e93d1f2d2240cb4,12,3,2,34118,,,0,"[OVN] Check if exists trunk ports before cleanup

While migrating from OVS to OVN one of the steps of the migration
is clean all the OVS trunk ports, this will fail if the environment
does not have any trunk ports configured.

This will do a comprovation in order to know if it's necessary
to clean them or not.

Also, since this playbook it will only clean the ovn interfaces
it is not necessary to stop the whole migration. If any error
occured while deleting any ovs interface a message will be
printed so the user can take action if necessary.

Change-Id: I6ec0b392b13daa9f64e051fb12b4b97a6c0a1730
(cherry picked from commit 9fcf42d3d524f03c8f49794bdd3730f654c146a1)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/24/827824/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/ovn_migration/tripleo_environment/playbooks/roles/migration/tasks/cleanup-dataplane.yml'],1,14e02f8b1dcd208e31cd9b73e6f55989c3477d2c,, register: router_dhcp_error ignore_errors: True - name: Cleanup neutron router and dhcp interfaces finished debug: msg: WARNING error while cleaning ovs interface with msg {{ router_dhcp_error.msg }} when: - router_dhcp_error.changed - router_dhcp_error.rc != 0 - name: Check if neutron trunk subports need cleanup shell: | ovs-vsctl list interface | awk '/name[ ]*: sp[it]-/ { print $3 }' | grep 'spi-\|spt-' register: do_cleanup ignore_errors: True when: do_cleanup.rc == 0 register: trunk_error ignore_errors: True - name: Cleanup trunk ports finished debug: msg: WARNING error while cleaning ovs interface with msg {{ trunk_error.msg }} when: - trunk_error.changed - trunk_error.rc != 0,,25,0
openstack%2Fkayobe-config~master~Ia48cbd6a2c5b6b3e16ef4245fdebca2d7233b682,openstack/kayobe-config,master,Ia48cbd6a2c5b6b3e16ef4245fdebca2d7233b682,Sync kayobe-config with kayobe changes,MERGED,2022-01-31 11:53:53.000000000,2022-02-08 10:14:00.000000000,2022-02-08 10:14:00.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-31 11:53:53.000000000', 'files': ['etc/kayobe/infra-vms.yml', 'etc/kayobe/bifrost.yml', 'etc/kayobe/overcloud-dib.yml', 'etc/kayobe/seed-hypervisor.yml', 'etc/kayobe/kolla.yml', 'etc/kayobe/networks.yml', 'etc/kayobe/openstack.yml', 'etc/kayobe/proxy.yml', 'etc/kayobe/ipa.yml', 'etc/kayobe/seed-vm.yml'], 'web_link': 'https://opendev.org/openstack/kayobe-config/commit/62f611863248c922c6a61fb0f7938888bc13523a', 'message': 'Sync kayobe-config with kayobe changes\n\nChange-Id: Ia48cbd6a2c5b6b3e16ef4245fdebca2d7233b682\n'}]",0,827062,62f611863248c922c6a61fb0f7938888bc13523a,6,2,1,15197,,,0,"Sync kayobe-config with kayobe changes

Change-Id: Ia48cbd6a2c5b6b3e16ef4245fdebca2d7233b682
",git fetch https://review.opendev.org/openstack/kayobe-config refs/changes/62/827062/1 && git format-patch -1 --stdout FETCH_HEAD,"['etc/kayobe/infra-vms.yml', 'etc/kayobe/bifrost.yml', 'etc/kayobe/overcloud-dib.yml', 'etc/kayobe/kolla.yml', 'etc/kayobe/seed-hypervisor.yml', 'etc/kayobe/networks.yml', 'etc/kayobe/openstack.yml', 'etc/kayobe/proxy.yml', 'etc/kayobe/ipa.yml', 'etc/kayobe/seed-vm.yml']",10,62f611863248c922c6a61fb0f7938888bc13523a,,"# ""https://cloud.centos.org/centos/8-stream/x86_64/images/CentOS-Stream-GenericCloud-8-20210603.0.x86_64.qcow2""","# ""https://cloud.centos.org/centos/8-stream/x86_64/images/CentOS-Stream-GenericCloud-8-20210210.0.x86_64.qcow2""",106,5
openstack%2Foctavia~master~Ia8ec48ab858eeecf71ed429e5b7625fd7af9d8f6,openstack/octavia,master,Ia8ec48ab858eeecf71ed429e5b7625fd7af9d8f6,Preserve haproxy server states during reloads,MERGED,2021-08-25 07:32:57.000000000,2022-02-08 10:06:28.000000000,2022-02-08 10:04:11.000000000,"[{'_account_id': 7249}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 27442}, {'_account_id': 29244}]","[{'number': 1, 'created': '2021-08-25 07:32:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/d1c53f059da66a1915d161b24f466c9731a292f9', 'message': ""Preserve haproxy server states during reloads\n\nhaproxy doesn't keep the state of the servers (UP or DOWN) during\nreboots, so a member with an ERROR operating_status may be updated\nto ONLINE after updating a load balancer.\n\nThis commit adds the load-server-state-from-file option in haproxy\nconfiguration files. It also adds an extra step in the haproxy systemd\nservice file to dump the current server-state in a file when reloading\nthe service.\n\nStory: 2009142\nTask: 43084\n\nChange-Id: Ia8ec48ab858eeecf71ed429e5b7625fd7af9d8f6\n""}, {'number': 2, 'created': '2021-08-30 15:01:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/aed289df2107ed30574f4a79f6e59704add25589', 'message': ""Preserve haproxy server states during reloads\n\nhaproxy doesn't keep the state of the servers (UP or DOWN) during\nreloads, so a member with an ERROR operating_status may be updated\nto ONLINE after updating a load balancer.\n\nThis commit adds the load-server-state-from-file option in haproxy\nconfiguration files. It also adds an extra step in the haproxy systemd\nservice file to dump the current server-state in a file when reloading\nthe service.\n\nStory: 2009142\nTask: 43084\n\nChange-Id: Ia8ec48ab858eeecf71ed429e5b7625fd7af9d8f6\n""}, {'number': 3, 'created': '2021-10-08 13:02:56.000000000', 'files': ['octavia/amphorae/backends/agent/api_server/templates/systemd.conf.j2', 'octavia/common/jinja/haproxy/combined_listeners/jinja_cfg.py', 'octavia/amphorae/backends/agent/api_server/loadbalancer.py', 'octavia/tests/unit/amphorae/backends/agent/api_server/test_haproxy_compatibility.py', 'octavia/common/jinja/haproxy/combined_listeners/templates/base.j2', 'octavia/amphorae/backends/agent/api_server/util.py', 'octavia/tests/unit/common/jinja/haproxy/combined_listeners/test_jinja_cfg.py', 'releasenotes/notes/fix-member-operating-status-on-reload-fe3688603bae8726.yaml', 'octavia/common/jinja/haproxy/combined_listeners/templates/macros.j2', 'octavia/tests/unit/common/sample_configs/sample_configs_combined.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/1b15e1ef22963324e556e072f4bc58021f96bfec', 'message': ""Preserve haproxy server states during reloads\n\nhaproxy doesn't keep the state of the servers (UP or DOWN) during\nreloads, so a member with an ERROR operating_status may be updated\nto ONLINE after updating a load balancer.\n\nThis commit adds the load-server-state-from-file option in haproxy\nconfiguration files. It also adds an extra step in the haproxy systemd\nservice file to dump the current server-state in a file when reloading\nthe service.\n\nStory: 2009142\nTask: 43084\n\nChange-Id: Ia8ec48ab858eeecf71ed429e5b7625fd7af9d8f6\n""}]",12,805955,1b15e1ef22963324e556e072f4bc58021f96bfec,26,5,3,29244,,,0,"Preserve haproxy server states during reloads

haproxy doesn't keep the state of the servers (UP or DOWN) during
reloads, so a member with an ERROR operating_status may be updated
to ONLINE after updating a load balancer.

This commit adds the load-server-state-from-file option in haproxy
configuration files. It also adds an extra step in the haproxy systemd
service file to dump the current server-state in a file when reloading
the service.

Story: 2009142
Task: 43084

Change-Id: Ia8ec48ab858eeecf71ed429e5b7625fd7af9d8f6
",git fetch https://review.opendev.org/openstack/octavia refs/changes/55/805955/3 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/amphorae/backends/agent/api_server/templates/systemd.conf.j2', 'octavia/common/jinja/haproxy/combined_listeners/jinja_cfg.py', 'octavia/amphorae/backends/agent/api_server/loadbalancer.py', 'octavia/common/jinja/haproxy/combined_listeners/templates/base.j2', 'octavia/amphorae/backends/agent/api_server/util.py']",5,d1c53f059da66a1915d161b24f466c9731a292f9,,"def state_file_path(lb_id): return os.path.join(haproxy_dir(lb_id), 'servers-state') ",,13,0
openstack%2Fneutron~stable%2Fxena~I6ec0b392b13daa9f64e051fb12b4b97a6c0a1730,openstack/neutron,stable/xena,I6ec0b392b13daa9f64e051fb12b4b97a6c0a1730,[OVN] Check if exists trunk ports before cleanup,MERGED,2022-02-04 09:34:35.000000000,2022-02-08 10:06:22.000000000,2022-02-08 10:03:48.000000000,"[{'_account_id': 6773}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-04 09:34:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c6244925b125196d1aec42bcd6d4032f0b6fec9a', 'message': ""[OVN] Check if exists trunk ports before cleanup\n\nWhile migrating from OVS to OVN one of the steps of the migration\nis clean all the OVS trunk ports, this will fail if the environment\ndoes not have any trunk ports configured.\n\nThis will do a comprovation in order to know if it's necessary\nto clean them or not.\n\nAlso, since this playbook it will only clean the ovn interfaces\nit is not necessary to stop the whole migration. If any error\noccured while deleting any ovs interface a message will be\nprinted so the user can take action if necessary.\n\nChange-Id: I6ec0b392b13daa9f64e051fb12b4b97a6c0a1730\n""}, {'number': 2, 'created': '2022-02-04 10:26:46.000000000', 'files': ['tools/ovn_migration/tripleo_environment/playbooks/roles/migration/tasks/cleanup-dataplane.yml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/35eedf91f5c9534087d1fbd2c3fe43881f6bc541', 'message': ""[OVN] Check if exists trunk ports before cleanup\n\nWhile migrating from OVS to OVN one of the steps of the migration\nis clean all the OVS trunk ports, this will fail if the environment\ndoes not have any trunk ports configured.\n\nThis will do a comprovation in order to know if it's necessary\nto clean them or not.\n\nAlso, since this playbook it will only clean the ovn interfaces\nit is not necessary to stop the whole migration. If any error\noccured while deleting any ovs interface a message will be\nprinted so the user can take action if necessary.\n\nChange-Id: I6ec0b392b13daa9f64e051fb12b4b97a6c0a1730\n(cherry picked from commit 9fcf42d3d524f03c8f49794bdd3730f654c146a1)\n""}]",0,827823,35eedf91f5c9534087d1fbd2c3fe43881f6bc541,12,3,2,34118,,,0,"[OVN] Check if exists trunk ports before cleanup

While migrating from OVS to OVN one of the steps of the migration
is clean all the OVS trunk ports, this will fail if the environment
does not have any trunk ports configured.

This will do a comprovation in order to know if it's necessary
to clean them or not.

Also, since this playbook it will only clean the ovn interfaces
it is not necessary to stop the whole migration. If any error
occured while deleting any ovs interface a message will be
printed so the user can take action if necessary.

Change-Id: I6ec0b392b13daa9f64e051fb12b4b97a6c0a1730
(cherry picked from commit 9fcf42d3d524f03c8f49794bdd3730f654c146a1)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/23/827823/2 && git format-patch -1 --stdout FETCH_HEAD,['tools/ovn_migration/tripleo_environment/playbooks/roles/migration/tasks/cleanup-dataplane.yml'],1,c6244925b125196d1aec42bcd6d4032f0b6fec9a,, register: router_dhcp_error ignore_errors: True - name: Cleanup neutron router and dhcp interfaces finished debug: msg: WARNING error while cleaning ovs interface with msg {{ router_dhcp_error.msg }} when: - router_dhcp_error.changed - router_dhcp_error.rc != 0 - name: Check if neutron trunk subports need cleanup shell: | ovs-vsctl list interface | awk '/name[ ]*: sp[it]-/ { print $3 }' | grep 'spi-\|spt-' register: do_cleanup ignore_errors: True when: do_cleanup.rc == 0 register: trunk_error ignore_errors: True - name: Cleanup trunk ports finished debug: msg: WARNING error while cleaning ovs interface with msg {{ trunk_error.msg }} when: - trunk_error.changed - trunk_error.rc != 0,,25,0
openstack%2Ftripleo-docs~master~Ic38a0fee6af1c357e37540d3bbbbbd11c8d31aab,openstack/tripleo-docs,master,Ic38a0fee6af1c357e37540d3bbbbbd11c8d31aab,Document --ceph-vip option,MERGED,2022-02-03 16:10:31.000000000,2022-02-08 09:46:15.000000000,2022-02-08 09:44:25.000000000,"[{'_account_id': 6796}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 30073}]","[{'number': 1, 'created': '2022-02-03 16:10:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/d9a058aa2fc7832d2048ca5047f82a4f489cb10f', 'message': 'Document --ceph-vip option\n\nA new option has been introduced to reserve a VIP for each Ceph\nservice specified. The purpose of this change is to document the\n--ceph-vip option and the valid input combination that can be\ngenerated.\n\nChange-Id: Ic38a0fee6af1c357e37540d3bbbbbd11c8d31aab\n'}, {'number': 2, 'created': '2022-02-05 08:00:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/b4ce37a7cf0b0f8a74ce803df36078cbd4b8894a', 'message': 'Document --ceph-vip option\n\nA new option has been introduced to reserve a VIP for each Ceph\nservice specified. The purpose of this change is to document the\n--ceph-vip option and the valid input combination that can be\ngenerated.\n\nChange-Id: Ic38a0fee6af1c357e37540d3bbbbbd11c8d31aab\n'}, {'number': 3, 'created': '2022-02-07 07:44:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/d4945e619b329fcbf6aa4e6b6c3f7a7d4bf3fb1a', 'message': 'Document --ceph-vip option\n\nA new option has been introduced to reserve a VIP for each Ceph\nservice specified. The purpose of this change is to document the\n--ceph-vip option and the valid input combination that can be\ngenerated.\n\nChange-Id: Ic38a0fee6af1c357e37540d3bbbbbd11c8d31aab\n'}, {'number': 4, 'created': '2022-02-07 07:47:26.000000000', 'files': ['deploy-guide/source/features/deployed_ceph.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/279afa6b9770c7c6ac3a299b106316b63bbae865', 'message': 'Document --ceph-vip option\n\nA new option has been introduced to reserve a VIP for each Ceph\nservice specified. The purpose of this change is to document the\n--ceph-vip option and the valid input combination that can be\ngenerated.\n\nChange-Id: Ic38a0fee6af1c357e37540d3bbbbbd11c8d31aab\n'}]",16,827703,279afa6b9770c7c6ac3a299b106316b63bbae865,17,4,4,25402,,,0,"Document --ceph-vip option

A new option has been introduced to reserve a VIP for each Ceph
service specified. The purpose of this change is to document the
--ceph-vip option and the valid input combination that can be
generated.

Change-Id: Ic38a0fee6af1c357e37540d3bbbbbd11c8d31aab
",git fetch https://review.opendev.org/openstack/tripleo-docs refs/changes/03/827703/2 && git format-patch -1 --stdout FETCH_HEAD,['deploy-guide/source/features/deployed_ceph.rst'],1,d9a058aa2fc7832d2048ca5047f82a4f489cb10f,ceph_vip_provision," [--ceph-vip CEPH_SERVICES] --ceph-vip CEPH_SERVICES Path to an existing Ceph services/network mapping fileCeph VIP Options ---------------- This option may be used to reserve a VIP for each Ceph service specified by the 'service/network' mapping defined as input. A generic ceph service mapping can be something like the following:: --- ceph_services: - service: ceph_nfs network: storage_cloud_0 - service: ceph_rgw network: storage_cloud_0 For each service added to the list above, a virtual IP on the specified network is created to be used as frontend_vip of the ingress daemon. When no subnet is specified, a default `<network>_subnet` pattern is used. If the subnet does not follow the `<network>_subnet` pattern, a subnet for the VIP may be specified per service:: --- ceph_services: - service: ceph_nfs network: storage_cloud_0 - service: ceph_rgw network: storage_cloud_0 subnet: storage_leafX When the `subnet` parameter is provided, it will be used by the ansible module, otherwise the default pattern is followed. This feature also supports the fixed_ips mode. When fixed IPs are defined, the module is able to use that input to reserve the VIP on that network. A valid input can be something like the following:: --- fixed: true ceph_services: - service: ceph_nfs network: storage_cloud_0 ip_address: 172.16.11.159 - service: ceph_rgw network: storage_cloud_0 ip_address: 172.16.11.160 When the boolean fixed is set to True, the subnet pattern is ignored, and a sanity check on the user input is performed, looking for the ip_address keys associated to the specified services. If the `fixed` keyword is missing, the subnet pattern is followed. When the environment file containing the 'ceph service/network' mapping described above is created, it can be passed to the ceph deploy command via the `--ceph-vip` option:: openstack overcloud ceph deploy \ deployed_metal.yaml \ -o deployed_ceph.yaml \ --ceph-vip ~/ceph_services.yaml ",,61,0
openstack%2Foslo.cache~stable%2Fwallaby~I24fc853db4237c08b87871ddff1b3ced27cc7fce,openstack/oslo.cache,stable/wallaby,I24fc853db4237c08b87871ddff1b3ced27cc7fce,Expose pymemcache's HashClient public params,MERGED,2022-02-03 09:38:33.000000000,2022-02-08 09:45:59.000000000,2022-02-08 09:41:24.000000000,"[{'_account_id': 14250}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 31245}]","[{'number': 1, 'created': '2022-02-03 09:38:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/ac3b5b984b7706445c65944ef0fa70a578b18eff', 'message': ""Expose pymemcache's HashClient public params\n\nThis patch expose a couple of pymemcache's HashClient public\nparams that can be useful to configure HA and failover for\nclustered memcached servers.\n\nThese options can be used in addition of the previously added\nretrying mechanismes.\n\nThis patch rely on recent changes [1] of dogpile.cache that\naim to expose these options too.\n\nThis patch is needed to fix a TLS issue on stable branches introduced by\npymemcache (since train), where if a cluster node disappear the client\nwill fail without retrying to reconnect or to switch to an other node of\nthe cluster.\n\n[1] https://gerrit.sqlalchemy.org/c/sqlalchemy/dogpile.cache/+/3528\n\nPartial-Bug: #1959562\nDepends-On: https://review.opendev.org/c/openstack/requirements/+/826995\nChange-Id: I24fc853db4237c08b87871ddff1b3ced27cc7fce\n(cherry picked from commit cb118d04cea318df23831d7445f6b33c866cd0c6)\n(cherry picked from commit 55cb199f90b27cef203bca8edb9431f9d7ed841c)\n""}, {'number': 2, 'created': '2022-02-03 16:35:49.000000000', 'files': ['requirements.txt', 'oslo_cache/_opts.py', 'oslo_cache/core.py', 'releasenotes/notes/pymemcache_hashclient_configure-f6f48c5ca38bce47.yaml', 'oslo_cache/tests/unit/test_cache_basics.py'], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/d0252f62f3b61253d0bcd953329f7b52e53c6e81', 'message': ""Expose pymemcache's HashClient public params\n\nThis patch expose a couple of pymemcache's HashClient public\nparams that can be useful to configure HA and failover for\nclustered memcached servers.\n\nThese options can be used in addition of the previously added\nretrying mechanismes.\n\nThis patch rely on recent changes [1] of dogpile.cache that\naim to expose these options too.\n\nThis patch is needed to fix a TLS issue on stable branches introduced by\npymemcache (since train), where if a cluster node disappear the client\nwill fail without retrying to reconnect or to switch to an other node of\nthe cluster.\n\n[1] https://gerrit.sqlalchemy.org/c/sqlalchemy/dogpile.cache/+/3528\n\nPartial-Bug: #1959562\nDepends-On: https://review.opendev.org/c/openstack/requirements/+/826995\nChange-Id: I24fc853db4237c08b87871ddff1b3ced27cc7fce\n(cherry picked from commit cb118d04cea318df23831d7445f6b33c866cd0c6)\n(cherry picked from commit 55cb199f90b27cef203bca8edb9431f9d7ed841c)\n""}]",1,827613,d0252f62f3b61253d0bcd953329f7b52e53c6e81,10,4,2,28522,,,0,"Expose pymemcache's HashClient public params

This patch expose a couple of pymemcache's HashClient public
params that can be useful to configure HA and failover for
clustered memcached servers.

These options can be used in addition of the previously added
retrying mechanismes.

This patch rely on recent changes [1] of dogpile.cache that
aim to expose these options too.

This patch is needed to fix a TLS issue on stable branches introduced by
pymemcache (since train), where if a cluster node disappear the client
will fail without retrying to reconnect or to switch to an other node of
the cluster.

[1] https://gerrit.sqlalchemy.org/c/sqlalchemy/dogpile.cache/+/3528

Partial-Bug: #1959562
Depends-On: https://review.opendev.org/c/openstack/requirements/+/826995
Change-Id: I24fc853db4237c08b87871ddff1b3ced27cc7fce
(cherry picked from commit cb118d04cea318df23831d7445f6b33c866cd0c6)
(cherry picked from commit 55cb199f90b27cef203bca8edb9431f9d7ed841c)
",git fetch https://review.opendev.org/openstack/oslo.cache refs/changes/13/827613/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'oslo_cache/_opts.py', 'oslo_cache/core.py', 'releasenotes/notes/pymemcache_hashclient_configure-f6f48c5ca38bce47.yaml', 'oslo_cache/tests/unit/test_cache_basics.py']",5,ac3b5b984b7706445c65944ef0fa70a578b18eff,wallaby," def test_cache_pymemcache_retry_with_extra_opts(self): """"""Validate we build a valid config for the retry client."""""" self.config_fixture.config(group='cache', enabled=True, config_prefix='test_prefix', backend='dogpile.cache.pymemcache', enable_retry_client=True, retry_attempts=42, retry_delay=42, hashclient_retry_attempts=100, hashclient_retry_delay=100, dead_timeout=100) config_dict = cache._build_cache_config(self.config_fixture.conf) self.assertTrue( self.config_fixture.conf.cache.enable_retry_client) self.assertEqual( config_dict['test_prefix.arguments.retry_attempts'], 42 ) self.assertEqual( config_dict['test_prefix.arguments.retry_delay'], 42 ) self.assertEqual( config_dict['test_prefix.arguments.hashclient_retry_attempts'], 100 ) self.assertEqual( config_dict['test_prefix.arguments.hashclient_retry_delay'], 100 ) self.assertEqual( config_dict['test_prefix.arguments.dead_timeout'], 100 ) ",,75,1
openstack%2Foslo.cache~stable%2Fwallaby~I8c7f9291652a58b8291c3df90571501eed43bf18,openstack/oslo.cache,stable/wallaby,I8c7f9291652a58b8291c3df90571501eed43bf18,Dropping lower constraints testing.,MERGED,2022-02-03 16:35:49.000000000,2022-02-08 09:43:29.000000000,2022-02-08 09:41:18.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 31245}]","[{'number': 1, 'created': '2022-02-03 16:35:49.000000000', 'files': ['lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/a5a66f89d52bb0797efc917d9c5fc04157b0190f', 'message': 'Dropping lower constraints testing.\n\nWe facing errors related to the new pip resolver, this\ntopic was discussed on the ML and QA team proposed to\nto test lower-constraints[1].\n\nI propose to drop this test because the complexity and recurring pain needed\nto maintain that now exceeds the benefits provided by this mechanismes.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html\n\nChange-Id: I8c7f9291652a58b8291c3df90571501eed43bf18\n(cherry picked from commit 9606e8531d87cfcf0028f5a414212fcb704f598a)\n'}]",1,827715,a5a66f89d52bb0797efc917d9c5fc04157b0190f,8,3,1,28522,,,0,"Dropping lower constraints testing.

We facing errors related to the new pip resolver, this
topic was discussed on the ML and QA team proposed to
to test lower-constraints[1].

I propose to drop this test because the complexity and recurring pain needed
to maintain that now exceeds the benefits provided by this mechanismes.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html

Change-Id: I8c7f9291652a58b8291c3df90571501eed43bf18
(cherry picked from commit 9606e8531d87cfcf0028f5a414212fcb704f598a)
",git fetch https://review.opendev.org/openstack/oslo.cache refs/changes/15/827715/1 && git format-patch -1 --stdout FETCH_HEAD,"['lower-constraints.txt', 'tox.ini']",2,a5a66f89d52bb0797efc917d9c5fc04157b0190f,wallaby,, [testenv:lower-constraints] deps = -c{toxinidir}/lower-constraints.txt -r{toxinidir}/test-requirements.txt,0,71
openstack%2Ftripleo-ansible~stable%2Fwallaby~I73b0d054644eb43016d61299b7c372ca86b18472,openstack/tripleo-ansible,stable/wallaby,I73b0d054644eb43016d61299b7c372ca86b18472,historical variable evaluated as bool,MERGED,2022-02-07 11:58:04.000000000,2022-02-08 09:42:08.000000000,2022-02-08 09:42:08.000000000,"[{'_account_id': 8833}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 22954}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2022-02-07 11:58:04.000000000', 'files': ['tripleo_ansible/roles/backup_and_restore/tasks/run_backup.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/1b2c5f638fc4a020bbcae75d500f10f214c50513', 'message': 'historical variable evaluated as bool\n\nThe tripleo_backup_and_restore_historical variable is checked by some\ntasks using when, but as it lacks the | bool extension, it is being\nevaluated as string, meaning that ""false"" is considered a valid and not\nempty string and as such evaluated as true. This patch fixes this\nbehaviour by evaluating the variable as as boolean value\n\nChange-Id: I73b0d054644eb43016d61299b7c372ca86b18472\n(cherry picked from commit ca7425d3728b4ba16a283440960fd6e180f24c74)\n'}]",1,828130,1b2c5f638fc4a020bbcae75d500f10f214c50513,11,6,1,32968,,,0,"historical variable evaluated as bool

The tripleo_backup_and_restore_historical variable is checked by some
tasks using when, but as it lacks the | bool extension, it is being
evaluated as string, meaning that ""false"" is considered a valid and not
empty string and as such evaluated as true. This patch fixes this
behaviour by evaluating the variable as as boolean value

Change-Id: I73b0d054644eb43016d61299b7c372ca86b18472
(cherry picked from commit ca7425d3728b4ba16a283440960fd6e180f24c74)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/30/828130/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/backup_and_restore/tasks/run_backup.yml'],1,1b2c5f638fc4a020bbcae75d500f10f214c50513,historical_bool-stable/wallaby, when: tripleo_backup_and_restore_historical | bool - tripleo_backup_and_restore_historical | bool, when: tripleo_backup_and_restore_historical - tripleo_backup_and_restore_historical,2,2
openstack%2Ftripleo-heat-templates~stable%2Fussuri~Ia0e31c9469033c50a8b65af7fee1adf03b22d4c2,openstack/tripleo-heat-templates,stable/ussuri,Ia0e31c9469033c50a8b65af7fee1adf03b22d4c2,Add service ordering to cleanup service to avoid conflicts with agent startup,MERGED,2021-04-07 15:04:40.000000000,2022-02-08 09:42:05.000000000,2022-02-08 09:42:05.000000000,"[{'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2021-04-07 15:04:40.000000000', 'files': ['deployment/neutron/neutron-cleanup.service'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5dbffe9002cca67c3ba74fe3a09e368686938830', 'message': 'Add service ordering to cleanup service to avoid conflicts with agent startup\n\nIf the port cleanup takes too long, the neutron agents might begin\noperations on the ovs bridges while cleanup is still ongoing. This can\ncause undefined behavior and errors in the agent.\n\nChange-Id: Ia0e31c9469033c50a8b65af7fee1adf03b22d4c2\nCloses-Bug: #1913623\n(cherry picked from commit 0c20e1e1ac320e30aaedba980270dffbf4528fc3)\n'}]",1,785216,5dbffe9002cca67c3ba74fe3a09e368686938830,12,4,1,6681,,,0,"Add service ordering to cleanup service to avoid conflicts with agent startup

If the port cleanup takes too long, the neutron agents might begin
operations on the ovs bridges while cleanup is still ongoing. This can
cause undefined behavior and errors in the agent.

Change-Id: Ia0e31c9469033c50a8b65af7fee1adf03b22d4c2
Closes-Bug: #1913623
(cherry picked from commit 0c20e1e1ac320e30aaedba980270dffbf4528fc3)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/16/785216/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/neutron/neutron-cleanup.service'],1,5dbffe9002cca67c3ba74fe3a09e368686938830,ussuri,Before=tripleo_neutron_ovs_agent.service tripleo_neutron_dhcp.service tripleo_neutron_l3_agent.service tripleo_nova_compute.service,Before=docker.service,1,1
openstack%2Foslo.cache~stable%2Fwallaby~I6c1a4872d7cf19e3a55c676ef4b4200f18e08f2c,openstack/oslo.cache,stable/wallaby,I6c1a4872d7cf19e3a55c676ef4b4200f18e08f2c,Add retry mechanisms to oslo.cache,MERGED,2022-02-03 09:38:33.000000000,2022-02-08 09:41:22.000000000,2022-02-08 09:41:22.000000000,"[{'_account_id': 14250}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 31245}]","[{'number': 1, 'created': '2022-02-03 09:38:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/889f5447a06d5dc23638fc2097b30cfe0134ca1b', 'message': ""Add retry mechanisms to oslo.cache\n\nThis patch specifies a set of options required to setup a retry\ncontext.  The context built from those options can later on be\npassed to any of the oslo.cache backends that supports pymemcache's\nretry mechanisms.\n\nThis patch also sets up the retry mechanisms context based on\nthe configuration option passed via oslo.config and adds it\nas an argument to be passed to the selected oslo.cache backend.\n\nThis patch is needed to fix a TLS issue on stable branches introduced by\npymemcache (since train), where if a cluster node disappear the client\nwill fail without retrying to reconnect or to switch to an other node of\nthe cluster.\n\nPartial-Bug: #1959562\nChange-Id: I6c1a4872d7cf19e3a55c676ef4b4200f18e08f2c\n(cherry picked from commit 42bf82d5505a0def3d22972d67fde836f5091ed1)\n(cherry picked from commit 23e8e9a9f45956ef7ea74d3d443e518f13b43477)\n""}, {'number': 2, 'created': '2022-02-03 16:35:49.000000000', 'files': ['releasenotes/notes/pymemcache_retry_mecchanisms-fa969d1ac6f64096.yaml', 'oslo_cache/_opts.py', 'oslo_cache/core.py', 'oslo_cache/tests/unit/test_cache_basics.py'], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/55b796be5679ffecc64f1940da425cac5c982fc1', 'message': ""Add retry mechanisms to oslo.cache\n\nThis patch specifies a set of options required to setup a retry\ncontext.  The context built from those options can later on be\npassed to any of the oslo.cache backends that supports pymemcache's\nretry mechanisms.\n\nThis patch also sets up the retry mechanisms context based on\nthe configuration option passed via oslo.config and adds it\nas an argument to be passed to the selected oslo.cache backend.\n\nThis patch is needed to fix a TLS issue on stable branches introduced by\npymemcache (since train), where if a cluster node disappear the client\nwill fail without retrying to reconnect or to switch to an other node of\nthe cluster.\n\nPartial-Bug: #1959562\nChange-Id: I6c1a4872d7cf19e3a55c676ef4b4200f18e08f2c\n(cherry picked from commit 42bf82d5505a0def3d22972d67fde836f5091ed1)\n(cherry picked from commit 23e8e9a9f45956ef7ea74d3d443e518f13b43477)\n""}]",1,827612,55b796be5679ffecc64f1940da425cac5c982fc1,9,4,2,28522,,,0,"Add retry mechanisms to oslo.cache

This patch specifies a set of options required to setup a retry
context.  The context built from those options can later on be
passed to any of the oslo.cache backends that supports pymemcache's
retry mechanisms.

This patch also sets up the retry mechanisms context based on
the configuration option passed via oslo.config and adds it
as an argument to be passed to the selected oslo.cache backend.

This patch is needed to fix a TLS issue on stable branches introduced by
pymemcache (since train), where if a cluster node disappear the client
will fail without retrying to reconnect or to switch to an other node of
the cluster.

Partial-Bug: #1959562
Change-Id: I6c1a4872d7cf19e3a55c676ef4b4200f18e08f2c
(cherry picked from commit 42bf82d5505a0def3d22972d67fde836f5091ed1)
(cherry picked from commit 23e8e9a9f45956ef7ea74d3d443e518f13b43477)
",git fetch https://review.opendev.org/openstack/oslo.cache refs/changes/12/827612/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/pymemcache_retry_mecchanisms-fa969d1ac6f64096.yaml', 'oslo_cache/_opts.py', 'oslo_cache/core.py', 'oslo_cache/tests/unit/test_cache_basics.py']",4,889f5447a06d5dc23638fc2097b30cfe0134ca1b,wallaby," def test_cache_pymemcache_retry_enabled_with_wrong_backend(self): """"""Validate we build a config without the retry option when retry is disabled. """""" self.config_fixture.config(group='cache', enabled=True, config_prefix='test_prefix', backend='oslo_cache.dict', enable_retry_client=True, retry_attempts=2, retry_delay=2) self.assertRaises( exception.ConfigurationError, cache._build_cache_config, self.config_fixture.conf ) def test_cache_pymemcache_retry_disabled(self): """"""Validate we build a config without the retry option when retry is disabled. """""" self.config_fixture.config(group='cache', enabled=True, config_prefix='test_prefix', backend='dogpile.cache.pymemcache', retry_attempts=2, retry_delay=2) config_dict = cache._build_cache_config(self.config_fixture.conf) opts = ['enable_retry_client', 'retry_attempts', 'retry_delay'] for el in opts: self.assertNotIn('test_prefix.arguments.{}'.format(el), config_dict) def test_cache_pymemcache_retry_enabled(self): """"""Validate we build a dogpile.cache dict config with retry."""""" self.config_fixture.config(group='cache', enabled=True, config_prefix='test_prefix', backend='dogpile.cache.pymemcache', enable_retry_client=True) config_dict = cache._build_cache_config(self.config_fixture.conf) opts = ['enable_retry_client', 'retry_attempts', 'retry_delay'] for el in opts: self.assertIn('test_prefix.arguments.{}'.format(el), config_dict) def test_cache_pymemcache_retry_with_opts(self): """"""Validate we build a valid config for the retry client."""""" self.config_fixture.config(group='cache', enabled=True, config_prefix='test_prefix', backend='dogpile.cache.pymemcache', enable_retry_client=True, retry_attempts=42, retry_delay=42) config_dict = cache._build_cache_config(self.config_fixture.conf) self.assertTrue( self.config_fixture.conf.cache.enable_retry_client) self.assertEqual( config_dict['test_prefix.arguments.retry_attempts'], 42 ) self.assertEqual( config_dict['test_prefix.arguments.retry_delay'], 42 ) ",,117,0
openstack%2Foslo.cache~stable%2Fwallaby~I501100e1a48cdd4e094c08046e2150405dcf371e,openstack/oslo.cache,stable/wallaby,I501100e1a48cdd4e094c08046e2150405dcf371e,Add socket keepalive options to oslo.cache,MERGED,2022-02-03 09:38:33.000000000,2022-02-08 09:41:20.000000000,2022-02-08 09:41:20.000000000,"[{'_account_id': 14250}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 31245}]","[{'number': 1, 'created': '2022-02-03 09:38:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/172fa5e7171fd118c29e96ef623529d558c41824', 'message': ""Add socket keepalive options to oslo.cache\n\nThis patch specifies a set of options required to setup the\nsocket keepalive of the dogpile.cache's pymemcache\nbackend [1][2]. This setup from those options can later on\nbe passed to this backend.\n\nThis patch also sets up the socket keepalive object based on\nthe configuration options passed via oslo.config and adds it\nas an argument to be passed to the selected oslo.cache backend.\n\nDogpile.cache will be used as an interface between oslo.cache and\npymemcache [3].\n\nThis patch is needed to fix a TLS issue on stable branches introduced by\npymemcache (since train), where if a cluster node disappear the client\nwill fail without retrying to reconnect or to switch to an other node of\nthe cluster.\n\n[1] https://github.com/sqlalchemy/dogpile.cache/pull/205\n[2]\nhttps://github.com/pinterest/pymemcache/commit/b289c87bb89b3ab477bd5d92c8951ab42c923923\n[3]\nhttps://dogpilecache.sqlalchemy.org/en/latest/api.html?highlight=keepalive#dogpile.cache.backends.memcached.PyMemcacheBackend.params.socket_keepalive\n\nPartial-Bug: #1959562\nChange-Id: I501100e1a48cdd4e094c08046e2150405dcf371e\n(cherry picked from commit f4fa6aa6fa2aca23a8f4f9e63c5a57dbcd2d1166)\n(cherry picked from commit 2ad2d52f4ecb63d9edfe3ae64cd9b7dece5330a0)\n""}, {'number': 2, 'created': '2022-02-03 16:35:49.000000000', 'files': ['requirements.txt', 'test-requirements.txt', 'oslo_cache/_opts.py', 'oslo_cache/core.py', 'doc/requirements.txt', 'releasenotes/notes/pymemcache_socket_keepalive-f91c69770961e2b6.yaml', 'setup.cfg', 'oslo_cache/tests/unit/test_cache_basics.py'], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/7b00cb38a6d08608e5b7b76f18fcdad038490074', 'message': ""Add socket keepalive options to oslo.cache\n\nThis patch specifies a set of options required to setup the\nsocket keepalive of the dogpile.cache's pymemcache\nbackend [1][2]. This setup from those options can later on\nbe passed to this backend.\n\nThis patch also sets up the socket keepalive object based on\nthe configuration options passed via oslo.config and adds it\nas an argument to be passed to the selected oslo.cache backend.\n\nDogpile.cache will be used as an interface between oslo.cache and\npymemcache [3].\n\nThis patch is needed to fix a TLS issue on stable branches introduced by\npymemcache (since train), where if a cluster node disappear the client\nwill fail without retrying to reconnect or to switch to an other node of\nthe cluster.\n\n[1] https://github.com/sqlalchemy/dogpile.cache/pull/205\n[2]\nhttps://github.com/pinterest/pymemcache/commit/b289c87bb89b3ab477bd5d92c8951ab42c923923\n[3]\nhttps://dogpilecache.sqlalchemy.org/en/latest/api.html?highlight=keepalive#dogpile.cache.backends.memcached.PyMemcacheBackend.params.socket_keepalive\n\nPartial-Bug: #1959562\nChange-Id: I501100e1a48cdd4e094c08046e2150405dcf371e\n(cherry picked from commit f4fa6aa6fa2aca23a8f4f9e63c5a57dbcd2d1166)\n(cherry picked from commit 2ad2d52f4ecb63d9edfe3ae64cd9b7dece5330a0)\n""}]",2,827611,7b00cb38a6d08608e5b7b76f18fcdad038490074,10,4,2,28522,,,0,"Add socket keepalive options to oslo.cache

This patch specifies a set of options required to setup the
socket keepalive of the dogpile.cache's pymemcache
backend [1][2]. This setup from those options can later on
be passed to this backend.

This patch also sets up the socket keepalive object based on
the configuration options passed via oslo.config and adds it
as an argument to be passed to the selected oslo.cache backend.

Dogpile.cache will be used as an interface between oslo.cache and
pymemcache [3].

This patch is needed to fix a TLS issue on stable branches introduced by
pymemcache (since train), where if a cluster node disappear the client
will fail without retrying to reconnect or to switch to an other node of
the cluster.

[1] https://github.com/sqlalchemy/dogpile.cache/pull/205
[2]
https://github.com/pinterest/pymemcache/commit/b289c87bb89b3ab477bd5d92c8951ab42c923923
[3]
https://dogpilecache.sqlalchemy.org/en/latest/api.html?highlight=keepalive#dogpile.cache.backends.memcached.PyMemcacheBackend.params.socket_keepalive

Partial-Bug: #1959562
Change-Id: I501100e1a48cdd4e094c08046e2150405dcf371e
(cherry picked from commit f4fa6aa6fa2aca23a8f4f9e63c5a57dbcd2d1166)
(cherry picked from commit 2ad2d52f4ecb63d9edfe3ae64cd9b7dece5330a0)
",git fetch https://review.opendev.org/openstack/oslo.cache refs/changes/11/827611/2 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'test-requirements.txt', 'oslo_cache/_opts.py', 'oslo_cache/core.py', 'doc/requirements.txt', 'releasenotes/notes/pymemcache_socket_keepalive-f91c69770961e2b6.yaml', 'setup.cfg', 'oslo_cache/tests/unit/test_cache_basics.py']",8,172fa5e7171fd118c29e96ef623529d558c41824,wallaby,"from pymemcache import KeepaliveOpts def test_cache_pymemcache_socket_kalive_enabled_with_wrong_backend(self): """"""Validate we build a config without the retry option when retry is disabled. """""" self.config_fixture.config(group='cache', enabled=True, config_prefix='test_prefix', backend='oslo_cache.dict', enable_socket_keepalive=True) self.assertRaises( exception.ConfigurationError, cache._build_cache_config, self.config_fixture.conf ) def test_cache_pymemcache_socket_keepalive_disabled(self): """"""Validate we build a dogpile.cache dict config without keepalive."""""" self.config_fixture.config(group='cache', enabled=True, config_prefix='test_prefix', backend='dogpile.cache.pymemcache', socket_keepalive_idle=2, socket_keepalive_interval=2, socket_keepalive_count=2) config_dict = cache._build_cache_config(self.config_fixture.conf) self.assertFalse( self.config_fixture.conf.cache.enable_socket_keepalive) self.assertNotIn( 'test_prefix.arguments.socket_keepalive', config_dict) def test_cache_pymemcache_socket_keepalive_enabled(self): """"""Validate we build a dogpile.cache dict config with keepalive."""""" self.config_fixture.config(group='cache', enabled=True, config_prefix='test_prefix', backend='dogpile.cache.pymemcache', enable_socket_keepalive=True) config_dict = cache._build_cache_config(self.config_fixture.conf) self.assertTrue( self.config_fixture.conf.cache.enable_socket_keepalive) self.assertIsInstance( config_dict['test_prefix.arguments.socket_keepalive'], KeepaliveOpts ) def test_cache_pymemcache_socket_keepalive_with_config(self): """"""Validate we build a socket keepalive with the right config."""""" self.config_fixture.config(group='cache', enabled=True, config_prefix='test_prefix', backend='dogpile.cache.pymemcache', enable_socket_keepalive=True, socket_keepalive_idle=12, socket_keepalive_interval=38, socket_keepalive_count=42) config_dict = cache._build_cache_config(self.config_fixture.conf) self.assertTrue( self.config_fixture.conf.cache.enable_socket_keepalive) self.assertTrue( config_dict['test_prefix.arguments.socket_keepalive'], KeepaliveOpts ) self.assertEqual( 12, config_dict['test_prefix.arguments.socket_keepalive'].idle ) self.assertEqual( 38, config_dict['test_prefix.arguments.socket_keepalive'].intvl ) self.assertEqual( 42, config_dict['test_prefix.arguments.socket_keepalive'].cnt ) ",,144,2
openstack%2Fswift~master~I9c5a46a68d544aa4bdc15bb7b4d61046eb8c0e7e,openstack/swift,master,I9c5a46a68d544aa4bdc15bb7b4d61046eb8c0e7e,Add uwsgi binaries and configuration files,NEW,2021-12-09 10:07:36.000000000,2022-02-08 09:33:06.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-12-09 10:07:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/832ff35ea138d85448794d1c91f5e44a446f7395', 'message': 'Add uwsgi binaries and configuration files\n\nAfter many months of using Swift over uwsgi, it is porbably a good idea\nto simply share these, and make it a Swift standard. Indeed, some of the\nconfiguration isn\'t exactly easy to guess, and require a lot of trials\nand errors to get it right. For example, the directive:\n\nroute = .* addheader:Date: ${httptime[]}\n\nis necessary for tempurl to work and took us a lot of time to find. The\n""listen=100"" and ""threads=12"" took also some time to benchmark and get\nright. How about making it standard, and hopefully, get Swift to run its\nCI with it in a near future?\n\nAlso note that there\'s currently no way to get the swift-object daemon\nto run under uwsgi: it\'s currently broken and would need attention.\n\nChange-Id: I9c5a46a68d544aa4bdc15bb7b4d61046eb8c0e7e\n'}, {'number': 2, 'created': '2021-12-09 12:24:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/d546159f9d5f0cb4733df9c068e2611879eb519e', 'message': 'Add uwsgi binaries and configuration files\n\nAfter many months of using Swift over uwsgi, it is porbably a good idea\nto simply share these, and make it a Swift standard. Indeed, some of the\nconfiguration isn\'t exactly easy to guess, and require a lot of trials\nand errors to get it right. For example, the directive:\n\nroute = .* addheader:Date: ${httptime[]}\n\nis necessary for tempurl to work and took us a lot of time to find. The\n""listen=100"" and ""threads=12"" took also some time to benchmark and get\nright. How about making it standard, and hopefully, get Swift to run its\nCI with it in a near future?\n\nAlso note that there\'s currently no way to get the swift-object daemon\nto run under uwsgi: it\'s currently broken and would need attention.\n\nChange-Id: I9c5a46a68d544aa4bdc15bb7b4d61046eb8c0e7e\n'}, {'number': 3, 'created': '2022-01-26 16:39:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/90e9f1a9fa987e4acbb3eaa9da101088b89fa71d', 'message': 'Add uwsgi binaries and configuration files\n\nAfter many months of using Swift over uwsgi, it is porbably a good idea\nto simply share these, and make it a Swift standard. Indeed, some of the\nconfiguration isn\'t exactly easy to guess, and require a lot of trials\nand errors to get it right. For example, the directive:\n\nroute = .* addheader:Date: ${httptime[]}\n\nis necessary for tempurl to work and took us a lot of time to find. The\n""listen=100"" and ""threads=1"" took also some time to benchmark and get\nright.\n\nAlso, to get chunked transfer work properly, this is mandatory in the\nproxies:\n\nplugins = python3,transformation_chunked\nroute-run = chunked:\n\nThis was also hard to find, as badly documented.\n\nTo try this, simply run something like this:\n/usr/bin/uwsgi_python39 --http-socket 10.0.0.1 \\\n\t--processes 20 \\\n\t--ini /etc/swift/swift-proxy-server-uwsgi.ini\n\nNote that the Debian package simply takes the number of processes from\nthe proxy-server.conf (this is done in the startup script).\n\nHow about making all of this standard, and hopefully, get Swift to run\nits CI with it in a near future?\n\nAlso note that there\'s currently no way to get the swift-object daemon\nto run under uwsgi: it\'s currently broken and would need some love.\n\nChange-Id: I9c5a46a68d544aa4bdc15bb7b4d61046eb8c0e7e\n'}, {'number': 4, 'created': '2022-01-26 16:50:27.000000000', 'files': ['etc/swift-container-server-uwsgi.ini', 'bin/swift-proxy-server-uwsgi', 'bin/swift-container-server-uwsgi', 'etc/swift-account-server-uwsgi.ini', 'etc/swift-proxy-server-uwsgi.ini', 'bin/swift-account-server-uwsgi'], 'web_link': 'https://opendev.org/openstack/swift/commit/124099d4ee8f8c6126325f49dab5759efbc842f4', 'message': 'Add uwsgi binaries and configuration files\n\nAfter many months of using Swift over uwsgi, it is porbably a good idea\nto simply share these, and make it a Swift standard. Indeed, some of the\nconfiguration isn\'t exactly easy to guess, and require a lot of trials\nand errors to get it right. For example, the directive:\n\nroute = .* addheader:Date: ${httptime[]}\n\nis necessary for tempurl to work and took us a lot of time to find. The\n""listen=100"" and ""threads=1"" took also some time to benchmark and get\nright.\n\nAlso, to get chunked transfer work properly, this is mandatory in the\nproxies:\n\nplugins = python3,transformation_chunked\nroute-run = chunked:\n\nThis was also hard to find, as badly documented.\n\nTo try this, simply run something like this:\n/usr/bin/uwsgi_python39 --http-socket 10.0.0.1 \\\n\t--processes 20 \\\n\t--ini /etc/swift/swift-proxy-server-uwsgi.ini\n\nNote that the Debian package simply takes the number of processes from\nthe proxy-server.conf (this is done in the startup script).\n\nHow about making all of this standard, and hopefully, get Swift to run\nits CI with it in a near future?\n\nAlso note that there\'s currently no way to get the swift-object daemon\nto run under uwsgi: it\'s currently broken and would need some love.\n\nChange-Id: I9c5a46a68d544aa4bdc15bb7b4d61046eb8c0e7e\n'}]",27,821192,124099d4ee8f8c6126325f49dab5759efbc842f4,13,1,4,6476,,,0,"Add uwsgi binaries and configuration files

After many months of using Swift over uwsgi, it is porbably a good idea
to simply share these, and make it a Swift standard. Indeed, some of the
configuration isn't exactly easy to guess, and require a lot of trials
and errors to get it right. For example, the directive:

route = .* addheader:Date: ${httptime[]}

is necessary for tempurl to work and took us a lot of time to find. The
""listen=100"" and ""threads=1"" took also some time to benchmark and get
right.

Also, to get chunked transfer work properly, this is mandatory in the
proxies:

plugins = python3,transformation_chunked
route-run = chunked:

This was also hard to find, as badly documented.

To try this, simply run something like this:
/usr/bin/uwsgi_python39 --http-socket 10.0.0.1 \
	--processes 20 \
	--ini /etc/swift/swift-proxy-server-uwsgi.ini

Note that the Debian package simply takes the number of processes from
the proxy-server.conf (this is done in the startup script).

How about making all of this standard, and hopefully, get Swift to run
its CI with it in a near future?

Also note that there's currently no way to get the swift-object daemon
to run under uwsgi: it's currently broken and would need some love.

Change-Id: I9c5a46a68d544aa4bdc15bb7b4d61046eb8c0e7e
",git fetch https://review.opendev.org/openstack/swift refs/changes/92/821192/1 && git format-patch -1 --stdout FETCH_HEAD,"['etc/swift-container-server-uwsgi.ini', 'bin/swift-proxy-server-uwsgi', 'bin/swift-container-server-uwsgi', 'etc/swift-account-server-uwsgi.ini', 'etc/swift-proxy-server-uwsgi.ini', 'bin/swift-account-server-uwsgi']",6,832ff35ea138d85448794d1c91f5e44a446f7395,,"#!/usr/bin/python3 # To be used with uwsgi / libapache2-mod-wsgi-py3 from swift.common.wsgi import init_request_processor application, conf, logger, log_name = \ init_request_processor('/etc/swift/account-server.conf','account-server') ",,258,0
openstack%2Fmetalsmith~stable%2Fwallaby~I4300568c346ae81f0717584d1dbc9e75450b951b,openstack/metalsmith,stable/wallaby,I4300568c346ae81f0717584d1dbc9e75450b951b,"Avoid non-Stream CentOS 8, it is EOL; make one job non-voting",MERGED,2022-02-01 09:02:01.000000000,2022-02-08 09:28:56.000000000,2022-02-08 09:22:59.000000000,"[{'_account_id': 4571}, {'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2022-02-01 09:02:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/metalsmith/commit/8ef89970c1ac200f820d86da58729c4710431d16', 'message': 'Avoid non-Stream CentOS 8, it is EOL\n\nChange-Id: I4300568c346ae81f0717584d1dbc9e75450b951b\n(cherry picked from commit ce81c055481883351d574f5c8a619ad705f4c940)\n'}, {'number': 2, 'created': '2022-02-07 18:58:06.000000000', 'files': ['.zuul.yaml', 'playbooks/integration/centos8-image.yaml'], 'web_link': 'https://opendev.org/openstack/metalsmith/commit/ad2be35653a4e34790d382895ab4fb2c93ebba61', 'message': 'Avoid non-Stream CentOS 8, it is EOL; make one job non-voting\n\nThe Wallaby change also makes the iSCSI job non-voting since PXE-booting\nin the CI is too unstable to merge anything at the moment.\n\nChange-Id: I4300568c346ae81f0717584d1dbc9e75450b951b\n(cherry picked from commit ce81c055481883351d574f5c8a619ad705f4c940)\n'}]",8,827234,ad2be35653a4e34790d382895ab4fb2c93ebba61,33,4,2,10239,,,0,"Avoid non-Stream CentOS 8, it is EOL; make one job non-voting

The Wallaby change also makes the iSCSI job non-voting since PXE-booting
in the CI is too unstable to merge anything at the moment.

Change-Id: I4300568c346ae81f0717584d1dbc9e75450b951b
(cherry picked from commit ce81c055481883351d574f5c8a619ad705f4c940)
",git fetch https://review.opendev.org/openstack/metalsmith refs/changes/34/827234/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/integration/centos8-image.yaml'],1,8ef89970c1ac200f820d86da58729c4710431d16,gate-stable/wallaby, DIB_RELEASE: 8-stream DIB_RELEASE: 8-stream, OS_RELEASE: 8 OS_RELEASE: 8,2,2
openstack%2Fcharm-openstack-loadbalancer~master~I68d9a136ca52f272b076332efec85776eda45116,openstack/charm-openstack-loadbalancer,master,I68d9a136ca52f272b076332efec85776eda45116,Only do http health check when requested.,MERGED,2022-02-02 11:28:48.000000000,2022-02-08 09:26:25.000000000,2022-02-08 09:26:25.000000000,"[{'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 33717}]","[{'number': 1, 'created': '2022-02-02 11:28:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-openstack-loadbalancer/commit/96bfd5324ebbf4c5bebe9754e50d276672eaa3ca', 'message': 'Only do http health check when requested.\n\nThe default health check for Haproxy is a TCP health check\nso we should only enable the HTTP health check when the\nbackend service requests it.\n\nChange-Id: I68d9a136ca52f272b076332efec85776eda45116\n'}, {'number': 2, 'created': '2022-02-02 11:31:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-openstack-loadbalancer/commit/9ead507d801e873adfaccc930cc19cea2db825f0', 'message': 'Only do http health check when requested.\n\nThe default health check for Haproxy is a TCP health check\nso we should only enable the HTTP health check when the\nbackend service requests it.\n\nChange-Id: I68d9a136ca52f272b076332efec85776eda45116\n'}, {'number': 3, 'created': '2022-02-02 15:15:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-openstack-loadbalancer/commit/b25e521bd15500ec12d8233e98f3d48558dfa30a', 'message': 'Only do http health check when requested.\n\nThe default health check for Haproxy is a TCP health check\nso we should only enable the HTTP health check when the\nbackend service requests it.\n\nChange-Id: I68d9a136ca52f272b076332efec85776eda45116\n'}, {'number': 4, 'created': '2022-02-03 10:22:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-openstack-loadbalancer/commit/4c8e33489dfcf7be02a8b8c0772e642bee32513d', 'message': 'Only do http health check when requested.\n\nThe default health check for Haproxy is a TCP health check\nso we should only enable the HTTP health check when the\nbackend service requests it.\n\nChange-Id: I68d9a136ca52f272b076332efec85776eda45116\n'}, {'number': 5, 'created': '2022-02-03 10:42:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-openstack-loadbalancer/commit/722399075ca2be08ad884227bf199bb515cf48cc', 'message': 'Only do http health check when requested.\n\nThe default health check for Haproxy is a TCP health check\nso we should only enable the HTTP health check when the\nbackend service requests it.\n\nChange-Id: I68d9a136ca52f272b076332efec85776eda45116\n'}, {'number': 6, 'created': '2022-02-04 07:44:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-openstack-loadbalancer/commit/2a28c68028119823f006ca06537b118619165e48', 'message': 'Only do http health check when requested.\n\nThe default health check for Haproxy is a TCP health check\nso we should only enable the HTTP health check when the\nbackend service requests it.\n\nThis change also updates the charm to only use supported\nUbuntu releases in testing as CI is unhappy with the EoL\nHirsute being tested.\n\nChange-Id: I68d9a136ca52f272b076332efec85776eda45116\n'}, {'number': 7, 'created': '2022-02-04 09:45:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-openstack-loadbalancer/commit/8e4214f3511a44b5b1acc5ad4607311bbd7c8b45', 'message': 'Only do http health check when requested.\n\nThe default health check for Haproxy is a TCP health check\nso we should only enable the HTTP health check when the\nbackend service requests it.\n\nThis change also updates the charm to only use supported\nUbuntu releases in testing as CI is unhappy with the EoL\nHirsute being tested.\n\nChange-Id: I68d9a136ca52f272b076332efec85776eda45116\n'}, {'number': 8, 'created': '2022-02-04 10:50:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-openstack-loadbalancer/commit/f5b248845c74794d048a26e72b5fdb85a475014c', 'message': 'Only do http health check when requested.\n\nThe default health check for Haproxy is a TCP health check\nso we should only enable the HTTP health check when the\nbackend service requests it.\n\nChange-Id: I68d9a136ca52f272b076332efec85776eda45116\n'}, {'number': 9, 'created': '2022-02-04 11:55:19.000000000', 'files': ['tests/tests.yaml', 'templates/haproxy.cfg', 'test-requirements.txt', 'build-requirements.txt'], 'web_link': 'https://opendev.org/openstack/charm-openstack-loadbalancer/commit/666c93dacb80efd1bc284ee313702a7e7556ba79', 'message': 'Only do http health check when requested.\n\nThe default health check for Haproxy is a TCP health check\nso we should only enable the HTTP health check when the\nbackend service requests it.\n\nChange-Id: I68d9a136ca52f272b076332efec85776eda45116\n'}]",9,827477,666c93dacb80efd1bc284ee313702a7e7556ba79,42,4,9,20634,,,0,"Only do http health check when requested.

The default health check for Haproxy is a TCP health check
so we should only enable the HTTP health check when the
backend service requests it.

Change-Id: I68d9a136ca52f272b076332efec85776eda45116
",git fetch https://review.opendev.org/openstack/charm-openstack-loadbalancer refs/changes/77/827477/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/haproxy.cfg'],1,96bfd5324ebbf4c5bebe9754e50d276672eaa3ca,,{%- if service_config.check_type == 'http' %}{%- endif %},,2,0
openstack%2Fneutron~master~Idcac4a29a4526b2e1041e8a41926ab2980f30d81,openstack/neutron,master,Idcac4a29a4526b2e1041e8a41926ab2980f30d81,Reuse the qos constants from neuron-lib,ABANDONED,2021-08-12 10:55:26.000000000,2022-02-08 09:25:54.000000000,,"[{'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-12 10:55:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/793cf3a2cacd9dc9f41dded8f4915de3f159a9d4', 'message': 'Reuse the qos constants from neuron-lib\n\nBecause neutron must implement the new QoS rule first,\nthen neutron-lib could add the type. After [1] was get\nmerged, we can now use qos related constants from neutron-lib.\n\n[1] https://review.opendev.org/c/openstack/neutron/+/796363\n\nDepends-On: https://review.opendev.org/c/openstack/neutron-lib/+/804378\n\nRelated-bug: #1912460\nChange-Id: Idcac4a29a4526b2e1041e8a41926ab2980f30d81\n'}, {'number': 2, 'created': '2021-08-13 08:15:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b7e31fe4df7d76c24d85d82f537ffa50371f69a0', 'message': 'Reuse the qos constants from neuron-lib\n\nBecause neutron must implement the new QoS rule first,\nthen neutron-lib could add the type. After [1] was get\nmerged, we can now use qos related constants from neutron-lib.\n\n[1] https://review.opendev.org/c/openstack/neutron/+/796363\n\nDepends-On: https://review.opendev.org/c/openstack/neutron-lib/+/804378\n\nRelated-bug: #1912460\nChange-Id: Idcac4a29a4526b2e1041e8a41926ab2980f30d81\n'}, {'number': 3, 'created': '2021-08-17 04:36:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/09ef6dc894a2aec7a4ad4caa2a27f86713649c27', 'message': 'Reuse the qos constants from neuron-lib\n\nBecause neutron must implement the new QoS rule first,\nthen neutron-lib could add the type. After [1] was get\nmerged, we can now use qos related constants from neutron-lib.\n\n[1] https://review.opendev.org/c/openstack/neutron/+/796363\n\nDepends-On: https://review.opendev.org/c/openstack/neutron-lib/+/804378\n\nRelated-bug: #1912460\nChange-Id: Idcac4a29a4526b2e1041e8a41926ab2980f30d81\n'}, {'number': 4, 'created': '2021-08-31 02:31:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/984d44f5dd9f1b39907ce5980b3faedaa0acc7e2', 'message': 'Reuse the qos constants from neuron-lib\n\nBecause neutron must implement the new QoS rule first,\nthen neutron-lib could add the type. After [1] was get\nmerged, we can now use qos related constants from neutron-lib.\n\n[1] https://review.opendev.org/c/openstack/neutron/+/796363\n\nDepends-On: https://review.opendev.org/c/openstack/neutron-lib/+/804378\n\nRelated-bug: #1912460\nChange-Id: Idcac4a29a4526b2e1041e8a41926ab2980f30d81\n'}, {'number': 5, 'created': '2021-08-31 05:27:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5e17e1bfb1716d298c86ba9a9083bf16a2cfabb8', 'message': 'Reuse the qos constants from neuron-lib\n\nBecause neutron must implement the new QoS rule first,\nthen neutron-lib could add the type. After [1] was get\nmerged, we can now use qos related constants from neutron-lib.\n\n[1] https://review.opendev.org/c/openstack/neutron/+/796363\n\nDepends-On: https://review.opendev.org/c/openstack/neutron-lib/+/804378\n\nRelated-bug: #1912460\nChange-Id: Idcac4a29a4526b2e1041e8a41926ab2980f30d81\n'}, {'number': 6, 'created': '2021-09-29 03:50:54.000000000', 'files': ['neutron/services/qos/drivers/manager.py', 'neutron/services/qos/constants.py', 'neutron/extensions/qos_pps_rule.py', 'neutron/tests/unit/objects/qos/test_policy.py', 'neutron/tests/unit/objects/qos/test_rule_type.py', 'neutron/objects/qos/rule.py', 'neutron/objects/qos/rule_type.py', 'neutron/tests/unit/objects/qos/test_rule.py', 'neutron/tests/unit/services/qos/test_qos_plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/a1a664a5cc782bd60c53a184c5ac1ce13a4e0ee9', 'message': 'Reuse the qos constants from neuron-lib\n\nBecause neutron must implement the new QoS rule first,\nthen neutron-lib could add the type. After [1] was get\nmerged, we can now use qos related constants from neutron-lib.\n\n[1] https://review.opendev.org/c/openstack/neutron/+/796363\n\nRelated-bug: #1912460\nChange-Id: Idcac4a29a4526b2e1041e8a41926ab2980f30d81\n'}]",2,804380,a1a664a5cc782bd60c53a184c5ac1ce13a4e0ee9,41,5,6,9531,,,0,"Reuse the qos constants from neuron-lib

Because neutron must implement the new QoS rule first,
then neutron-lib could add the type. After [1] was get
merged, we can now use qos related constants from neutron-lib.

[1] https://review.opendev.org/c/openstack/neutron/+/796363

Related-bug: #1912460
Change-Id: Idcac4a29a4526b2e1041e8a41926ab2980f30d81
",git fetch https://review.opendev.org/openstack/neutron refs/changes/80/804380/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/services/qos/drivers/manager.py', 'neutron/services/qos/constants.py', 'neutron/tests/unit/objects/qos/test_policy.py', 'neutron/tests/unit/objects/qos/test_rule_type.py', 'neutron/objects/qos/rule.py', 'neutron/objects/qos/rule_type.py', 'neutron/tests/unit/objects/qos/test_rule.py', 'neutron/tests/unit/services/qos/test_qos_plugin.py']",8,793cf3a2cacd9dc9f41dded8f4915de3f159a9d4,packet_rate_limit," return_value=qos_consts.VALID_RULE_TYPES) self.assertEqual(sorted(qos_consts.VALID_RULE_TYPES), admin_ctxt, qos_consts.RULE_TYPE_PACKET_RATE_LIMIT) qos_consts.RULE_TYPE_PACKET_RATE_LIMIT, self.ctxt, qos_consts.RULE_TYPE_PACKET_RATE_LIMIT)","from neutron.services.qos import constants as qos_constants return_value=qos_constants.VALID_RULE_TYPES) self.assertEqual(sorted(qos_constants.VALID_RULE_TYPES), admin_ctxt, qos_constants.RULE_TYPE_PACKET_RATE_LIMIT) qos_constants.RULE_TYPE_PACKET_RATE_LIMIT, self.ctxt, qos_constants.RULE_TYPE_PACKET_RATE_LIMIT)",16,44
openstack%2Foctavia~stable%2Fwallaby~Ib189c6f67946851d37c31a6a8d657460c15f491e,openstack/octavia,stable/wallaby,Ib189c6f67946851d37c31a6a8d657460c15f491e,Replace md5 for fips,MERGED,2022-02-07 19:49:38.000000000,2022-02-08 09:21:42.000000000,2022-02-08 09:18:03.000000000,"[{'_account_id': 6469}, {'_account_id': 7249}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 29244}]","[{'number': 1, 'created': '2022-02-07 19:49:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/4ce4480ae3abf02ce09df55915f292645e6e6e6d', 'message': 'Replace md5 for fips\n\nmd5 is not an approved algorithm in FIPS mode, and trying to\ninstantiate a hashlib.md5() will fail when the system is running in\nFIPS mode.\n\nmd5 is allowed when in a non-security context.  There is a plan to\nadd a keyword parameter (usedforsecurity) to hashlib.md5() to annotate\nwhether or not the instance is being used in a security context.\n\nIn the case where it is not, the instantiation of md5 will be allowed.\nSee https://bugs.python.org/issue9216 for more details.\n\nSome downstream python versions already support this parameter.  To\nsupport these versions, a new encapsulation of md5() has been added to\noslo_utils.  See https://review.opendev.org/#/c/750031/\n\nIn this case, md5 is used to generate etags and to check file integrity when\nuploading certs. fingerprints when ssh keys are\nbeing generated and imported.  Without this patch, these operations\nfail on FIPS enabled systems.\n\nChange-Id: Ib189c6f67946851d37c31a6a8d657460c15f491e\n(cherry picked from commit db7a633a4ff2da39f67f9ddf42931cc21052fda4)\n'}, {'number': 2, 'created': '2022-02-07 19:51:01.000000000', 'files': ['octavia/amphorae/backends/agent/api_server/loadbalancer.py', 'requirements.txt', 'octavia/tests/unit/amphorae/drivers/haproxy/test_rest_api_driver_0_5.py', 'lower-constraints.txt', 'octavia/amphorae/drivers/haproxy/rest_api_driver.py', 'octavia/tests/functional/amphorae/backend/agent/api_server/test_server.py', 'octavia/tests/unit/amphorae/drivers/haproxy/test_rest_api_driver_1_0.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/ba45c0b7a619efe71c14f3457e54f74c97ab2562', 'message': 'Replace md5 for fips\n\nmd5 is not an approved algorithm in FIPS mode, and trying to\ninstantiate a hashlib.md5() will fail when the system is running in\nFIPS mode.\n\nmd5 is allowed when in a non-security context.  There is a plan to\nadd a keyword parameter (usedforsecurity) to hashlib.md5() to annotate\nwhether or not the instance is being used in a security context.\n\nIn the case where it is not, the instantiation of md5 will be allowed.\nSee https://bugs.python.org/issue9216 for more details.\n\nSome downstream python versions already support this parameter.  To\nsupport these versions, a new encapsulation of md5() has been added to\noslo_utils.  See https://review.opendev.org/#/c/750031/\n\nIn this case, md5 is used to generate etags and to check file integrity when\nuploading certs. fingerprints when ssh keys are\nbeing generated and imported.  Without this patch, these operations\nfail on FIPS enabled systems.\n\nChange-Id: Ib189c6f67946851d37c31a6a8d657460c15f491e\n(cherry picked from commit db7a633a4ff2da39f67f9ddf42931cc21052fda4)\n'}]",2,828140,ba45c0b7a619efe71c14f3457e54f74c97ab2562,13,5,2,9914,,,0,"Replace md5 for fips

md5 is not an approved algorithm in FIPS mode, and trying to
instantiate a hashlib.md5() will fail when the system is running in
FIPS mode.

md5 is allowed when in a non-security context.  There is a plan to
add a keyword parameter (usedforsecurity) to hashlib.md5() to annotate
whether or not the instance is being used in a security context.

In the case where it is not, the instantiation of md5 will be allowed.
See https://bugs.python.org/issue9216 for more details.

Some downstream python versions already support this parameter.  To
support these versions, a new encapsulation of md5() has been added to
oslo_utils.  See https://review.opendev.org/#/c/750031/

In this case, md5 is used to generate etags and to check file integrity when
uploading certs. fingerprints when ssh keys are
being generated and imported.  Without this patch, these operations
fail on FIPS enabled systems.

Change-Id: Ib189c6f67946851d37c31a6a8d657460c15f491e
(cherry picked from commit db7a633a4ff2da39f67f9ddf42931cc21052fda4)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/40/828140/2 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/amphorae/backends/agent/api_server/loadbalancer.py', 'requirements.txt', 'octavia/tests/unit/amphorae/drivers/haproxy/test_rest_api_driver_0_5.py', 'lower-constraints.txt', 'octavia/amphorae/drivers/haproxy/rest_api_driver.py', 'octavia/tests/functional/amphorae/backend/agent/api_server/test_server.py', 'octavia/tests/unit/amphorae/drivers/haproxy/test_rest_api_driver_1_0.py']",7,4ce4480ae3abf02ce09df55915f292645e6e6e6d,fips-compatibility,"from oslo_utils.secretutils import md5 ref_md5 = md5(fake_secret, usedforsecurity=False).hexdigest() # nosec md5sum=ref_md5, name=ref_name) ref_md5 = md5(fake_pem, usedforsecurity=False).hexdigest() # nosec md5sum=ref_md5, name=ref_name)"," ref_md5 = hashlib.md5(fake_secret).hexdigest() # nosec md5=ref_md5, name=ref_name) ref_md5 = hashlib.md5(fake_pem).hexdigest() # nosec md5=ref_md5, name=ref_name)",36,29
openstack%2Foctavia~stable%2Fwallaby~I1aab9faa8afe845e445e620d1800785d2e19ad1e,openstack/octavia,stable/wallaby,I1aab9faa8afe845e445e620d1800785d2e19ad1e,Update scripts to use fips allowed algorithms,MERGED,2022-02-04 20:05:43.000000000,2022-02-08 09:19:59.000000000,2022-02-08 09:18:00.000000000,"[{'_account_id': 6469}, {'_account_id': 7249}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 29244}]","[{'number': 1, 'created': '2022-02-04 20:05:43.000000000', 'files': ['bin/create_dual_intermediate_CA.sh', 'doc/source/admin/guides/certificates.rst', 'bin/create_single_CA_intermediate_CA.sh'], 'web_link': 'https://opendev.org/openstack/octavia/commit/d7a20cf46efac04a97ab64043ae6ba7850160eb2', 'message': 'Update scripts to use fips allowed algorithms\n\nOpenssl genrsa is deprecated in favor of genpkey, and fails in FIPS mode.\nUpdate the relevant calls to use genpkey instead.\n\nChange-Id: I1aab9faa8afe845e445e620d1800785d2e19ad1e\n(cherry picked from commit 36a642d9d0b95b6337558144450bbc7802784c23)\n'}]",1,827898,d7a20cf46efac04a97ab64043ae6ba7850160eb2,11,5,1,9914,,,0,"Update scripts to use fips allowed algorithms

Openssl genrsa is deprecated in favor of genpkey, and fails in FIPS mode.
Update the relevant calls to use genpkey instead.

Change-Id: I1aab9faa8afe845e445e620d1800785d2e19ad1e
(cherry picked from commit 36a642d9d0b95b6337558144450bbc7802784c23)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/98/827898/1 && git format-patch -1 --stdout FETCH_HEAD,"['bin/create_dual_intermediate_CA.sh', 'doc/source/admin/guides/certificates.rst', 'bin/create_single_CA_intermediate_CA.sh']",3,d7a20cf46efac04a97ab64043ae6ba7850160eb2,fips-compatibility,openssl genpkey -algorithm RSA -out private/ca.key.pem -aes-128-cbc -pass pass:not-secure-passphraseopenssl genpkey -algorithm RSA -out intermediate_ca/private/intermediate.ca.key.pem -aes-128-cbc -pass pass:not-secure-passphraseopenssl genpkey -algorithm RSA -out intermediate_ca/private/controller.key.pem -aes-128-cbc -pass pass:not-secure-passphrase,openssl genrsa -aes128 -out private/ca.key.pem -passout pass:not-secure-passphrase 2048openssl genrsa -aes128 -out intermediate_ca/private/intermediate.ca.key.pem -passout pass:not-secure-passphrase 2048openssl genrsa -aes128 -out intermediate_ca/private/controller.key.pem -passout pass:not-secure-passphrase 2048,11,11
openstack%2Foctavia~stable%2Fxena~I1aab9faa8afe845e445e620d1800785d2e19ad1e,openstack/octavia,stable/xena,I1aab9faa8afe845e445e620d1800785d2e19ad1e,Update scripts to use fips allowed algorithms,MERGED,2022-02-04 20:05:21.000000000,2022-02-08 09:19:44.000000000,2022-02-08 09:17:58.000000000,"[{'_account_id': 6469}, {'_account_id': 7249}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 29244}]","[{'number': 1, 'created': '2022-02-04 20:05:21.000000000', 'files': ['bin/create_dual_intermediate_CA.sh', 'doc/source/admin/guides/certificates.rst', 'bin/create_single_CA_intermediate_CA.sh'], 'web_link': 'https://opendev.org/openstack/octavia/commit/58eac3d91f47ee18a3cd282c20ad28e3b5a0a111', 'message': 'Update scripts to use fips allowed algorithms\n\nOpenssl genrsa is deprecated in favor of genpkey, and fails in FIPS mode.\nUpdate the relevant calls to use genpkey instead.\n\nChange-Id: I1aab9faa8afe845e445e620d1800785d2e19ad1e\n(cherry picked from commit 36a642d9d0b95b6337558144450bbc7802784c23)\n'}]",2,827897,58eac3d91f47ee18a3cd282c20ad28e3b5a0a111,13,5,1,9914,,,0,"Update scripts to use fips allowed algorithms

Openssl genrsa is deprecated in favor of genpkey, and fails in FIPS mode.
Update the relevant calls to use genpkey instead.

Change-Id: I1aab9faa8afe845e445e620d1800785d2e19ad1e
(cherry picked from commit 36a642d9d0b95b6337558144450bbc7802784c23)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/97/827897/1 && git format-patch -1 --stdout FETCH_HEAD,"['bin/create_dual_intermediate_CA.sh', 'doc/source/admin/guides/certificates.rst', 'bin/create_single_CA_intermediate_CA.sh']",3,58eac3d91f47ee18a3cd282c20ad28e3b5a0a111,fips-compatibility,openssl genpkey -algorithm RSA -out private/ca.key.pem -aes-128-cbc -pass pass:not-secure-passphraseopenssl genpkey -algorithm RSA -out intermediate_ca/private/intermediate.ca.key.pem -aes-128-cbc -pass pass:not-secure-passphraseopenssl genpkey -algorithm RSA -out intermediate_ca/private/controller.key.pem -aes-128-cbc -pass pass:not-secure-passphrase,openssl genrsa -aes128 -out private/ca.key.pem -passout pass:not-secure-passphrase 2048openssl genrsa -aes128 -out intermediate_ca/private/intermediate.ca.key.pem -passout pass:not-secure-passphrase 2048openssl genrsa -aes128 -out intermediate_ca/private/controller.key.pem -passout pass:not-secure-passphrase 2048,11,11
openstack%2Fcloudkitty~master~I4a8e7c63c6f8df2fee40de324c9970e00d23c48b,openstack/cloudkitty,master,I4a8e7c63c6f8df2fee40de324c9970e00d23c48b,Update sample configuration file,MERGED,2022-02-07 14:55:40.000000000,2022-02-08 09:16:41.000000000,2022-02-08 09:14:55.000000000,"[{'_account_id': 22348}, {'_account_id': 25277}, {'_account_id': 28356}]","[{'number': 1, 'created': '2022-02-07 14:55:40.000000000', 'files': ['doc/source/_static/cloudkitty.conf.sample'], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/839fdf7b0a44bec34fc154b2b97647f21af8ab32', 'message': 'Update sample configuration file\n\nChange-Id: I4a8e7c63c6f8df2fee40de324c9970e00d23c48b\n'}]",0,828163,839fdf7b0a44bec34fc154b2b97647f21af8ab32,8,3,1,15197,,,0,"Update sample configuration file

Change-Id: I4a8e7c63c6f8df2fee40de324c9970e00d23c48b
",git fetch https://review.opendev.org/openstack/cloudkitty refs/changes/63/828163/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/_static/cloudkitty.conf.sample'],1,839fdf7b0a44bec34fc154b2b97647f21af8ab32,,"# Skip rating role check for cloudkitty user (boolean value) #ignore_rating_role = false # Stop rating disabled tenants (boolean value) #ignore_disabled_tenants = false # (boolean value) #memcache_use_advanced_pool = true# Run the health check heartbeat thread through a native python thread # by default. If this option is equal to False then the health check # heartbeat will inherit the execution model from the parent process. # For example if the parent process has monkey patched the stdlib by # using eventlet/greenlet then the heartbeat will be run through a # green thread. (boolean value)# defaults and ``scope_type`` together. If ``False``, the deprecated # policy check string is logically OR'd with the new policy check # string, allowing for a graceful upgrade experience between releases # with new policies, which is the default behavior. (boolean value)",# Deprecated group/name - [DATABASE]/idle_timeout # Deprecated group/name - [database]/idle_timeout # Deprecated group/name - [DEFAULT]/sql_idle_timeout # Deprecated group/name - [DATABASE]/sql_idle_timeout # Deprecated group/name - [sql]/idle_timeout# The advanced pool will only work under python 2.x. (boolean value) #memcache_use_advanced_pool = false# DEPRECATED: Run the health check heartbeat thread through a native # python thread by default. If this option is equal to False then the # health check heartbeat will inherit the execution model from the # parent process. For example if the parent process has monkey patched # the stdlib by using eventlet/greenlet then the heartbeat will be run # through a green thread. (boolean value) # This option is deprecated for removal. # Its value may be silently ignored in the future.# defaults and ``scope_type`` together (boolean value),18,16
openstack%2Fkolla-ansible~stable%2Fxena~Ie56868d5e9ed37a9274b8cbe65895f3634b895c8,openstack/kolla-ansible,stable/xena,Ie56868d5e9ed37a9274b8cbe65895f3634b895c8,Deploy Zun with Cinder Ceph support,MERGED,2022-02-03 16:31:38.000000000,2022-02-08 08:58:44.000000000,2022-02-08 08:57:02.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-02-03 16:31:38.000000000', 'files': ['releasenotes/notes/bug-1848934-878a08b490856a53.yaml', 'doc/source/reference/storage/external-ceph-guide.rst', 'ansible/roles/baremetal/tasks/configure-ceph-for-zun.yml', 'ansible/group_vars/all.yml', 'ansible/roles/baremetal/tasks/bootstrap-servers.yml', 'ansible/roles/zun/tasks/external_ceph.yml', 'ansible/roles/zun/templates/zun-compute.json.j2', 'ansible/roles/zun/defaults/main.yml', 'ansible/roles/zun/tasks/config.yml', 'ansible/roles/baremetal/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/920089c9fab3bc32356419c03a9f977b69708cc6', 'message': 'Deploy Zun with Cinder Ceph support\n\nEnables zun to access cinder volumes when cinder is configured to use\nexternal ceph.\nCopies ceph config file and ceph cinder keyring to /etc/ceph in\nzun_compute container.\n\nCloses-Bug: 1848934\nChange-Id: Ie56868d5e9ed37a9274b8cbe65895f3634b895c8\n(cherry picked from commit eb7e0f6fdac86ea9501b98e6e71554b024bffe96)\n'}]",0,827649,920089c9fab3bc32356419c03a9f977b69708cc6,9,3,1,28295,,,0,"Deploy Zun with Cinder Ceph support

Enables zun to access cinder volumes when cinder is configured to use
external ceph.
Copies ceph config file and ceph cinder keyring to /etc/ceph in
zun_compute container.

Closes-Bug: 1848934
Change-Id: Ie56868d5e9ed37a9274b8cbe65895f3634b895c8
(cherry picked from commit eb7e0f6fdac86ea9501b98e6e71554b024bffe96)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/49/827649/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/reference/storage/external-ceph-guide.rst', 'releasenotes/notes/bug-1848934-878a08b490856a53.yaml', 'ansible/roles/baremetal/tasks/configure-ceph-for-zun.yml', 'ansible/group_vars/all.yml', 'ansible/roles/baremetal/tasks/bootstrap-servers.yml', 'ansible/roles/zun/tasks/external_ceph.yml', 'ansible/roles/zun/templates/zun-compute.json.j2', 'ansible/roles/zun/defaults/main.yml', 'ansible/roles/zun/tasks/config.yml', 'ansible/roles/baremetal/defaults/main.yml']",10,920089c9fab3bc32356419c03a9f977b69708cc6,,"ceph_version: ""pacific"" epel_version: ""8"" ceph_url: ""https://download.ceph.com"" # Ceph APT repository configuration. ceph_apt_url: ""{{ ceph_url }}/debian-{{ ceph_version }}/"" ceph_apt_repo: ""deb {{ ceph_apt_url }} {{ ansible_facts.distribution_release }} main"" ceph_apt_key_file: ""{{ ceph_url }}/keys/release.gpg"" ceph_apt_key_id: ""460F3994"" ceph_apt_package: ""ceph-common"" # Ceph Yum repository configuration. ceph_yum_url: ""{{ ceph_url }}/rpm-{{ ceph_version }}/"" ceph_yum_baseurl: ""{{ ceph_yum_url }}el{{ epel_version }}/$basearch/"" ceph_yum_gpgkey: ""{{ ceph_url }}/keys/release.asc"" ceph_yum_gpgcheck: true ceph_yum_package: ""ceph-common"" epel_yum_package: ""epel-release"" ",,168,1
openstack%2Fneutron-specs~master~I9f1d3add93b5a7ab95264fc9fba9efccbe392e87,openstack/neutron-specs,master,I9f1d3add93b5a7ab95264fc9fba9efccbe392e87,Add spec for elastic snat,ABANDONED,2021-01-13 08:22:12.000000000,2022-02-08 08:56:39.000000000,,"[{'_account_id': 841}, {'_account_id': 4694}, {'_account_id': 5948}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-13 08:22:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/e8665abd1a7664207c9192ecad9b79afb5e95ceb', 'message': 'Add spec for elastic snat\n\nCloses-Bug: #1911126\nChange-Id: I9f1d3add93b5a7ab95264fc9fba9efccbe392e87\n'}, {'number': 2, 'created': '2021-01-13 08:45:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/63d9d00f58b2a5a8a67feed721f5810ad1aed399', 'message': 'Add spec for elastic snat\n\nCloses-Bug: #1911126\nChange-Id: I9f1d3add93b5a7ab95264fc9fba9efccbe392e87\n'}, {'number': 3, 'created': '2021-01-15 02:13:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/883dacc4d0f6510c5a9cad553283adb1b3fe1158', 'message': 'Add spec for elastic snat\n\nCloses-Bug: #1911126\nChange-Id: I9f1d3add93b5a7ab95264fc9fba9efccbe392e87\n'}, {'number': 4, 'created': '2021-01-15 03:05:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/749880eaf39a8ea0ef39428a125265fdd4224599', 'message': 'Add spec for elastic snat\n\nCloses-Bug: #1911126\nChange-Id: I9f1d3add93b5a7ab95264fc9fba9efccbe392e87\n'}, {'number': 5, 'created': '2021-01-19 02:56:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/9127b3a498c3543b580d162c6b1d2e6d7c8cf6ee', 'message': 'Add spec for elastic snat\n\nCloses-Bug: #1911126\nChange-Id: I9f1d3add93b5a7ab95264fc9fba9efccbe392e87\n'}, {'number': 6, 'created': '2021-02-03 04:33:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/99b4fe9ef127efd5f398ce6d506b7d99e11ca596', 'message': 'Add spec for elastic snat\n\nCloses-Bug: #1911126\nChange-Id: I9f1d3add93b5a7ab95264fc9fba9efccbe392e87\n'}, {'number': 7, 'created': '2021-02-19 02:38:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/3c7099b94145bc635767bc3cc800bd21dca5755a', 'message': 'Add spec for elastic snat\n\nCloses-Bug: #1911126\nChange-Id: I9f1d3add93b5a7ab95264fc9fba9efccbe392e87\n'}, {'number': 8, 'created': '2021-02-25 12:38:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/7198428fe74393595ff639d5ca409eafc8e9a744', 'message': 'Add spec for elastic snat\n\nCloses-Bug: #1911126\nChange-Id: I9f1d3add93b5a7ab95264fc9fba9efccbe392e87\n'}, {'number': 9, 'created': '2021-03-05 05:49:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/6b8a62eb869f74a1104cb9d6c9b7202630d42aa2', 'message': 'Add spec for elastic snat\n\nCloses-Bug: #1911126\nChange-Id: I9f1d3add93b5a7ab95264fc9fba9efccbe392e87\n'}, {'number': 10, 'created': '2021-03-19 09:15:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/545283f5ab1d997f3b09dbeffddb2def8d4049e0', 'message': 'Add spec for elastic snat\n\nCloses-Bug: #1911126\nChange-Id: I9f1d3add93b5a7ab95264fc9fba9efccbe392e87\n'}, {'number': 11, 'created': '2021-03-19 09:28:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/ec3429eb1b3e23590668df5e2d435925f2b11ee7', 'message': 'Add spec for elastic snat\n\nCloses-Bug: #1911126\nChange-Id: I9f1d3add93b5a7ab95264fc9fba9efccbe392e87\n'}, {'number': 12, 'created': '2021-03-31 02:45:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/f8b4b29f20141974c12ef54f784390077f56905b', 'message': 'Add spec for elastic snat\n\nCloses-Bug: #1911126\nChange-Id: I9f1d3add93b5a7ab95264fc9fba9efccbe392e87\n'}, {'number': 13, 'created': '2021-03-31 02:46:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/819c9e7565c2adb1aeae762fda3742afe2323d3c', 'message': 'Add spec for elastic snat\n\nCloses-Bug: #1911126\nChange-Id: I9f1d3add93b5a7ab95264fc9fba9efccbe392e87\n'}, {'number': 14, 'created': '2021-04-27 02:32:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/cf8b439d1c2de3e2ed434b3dc0099035f0324c00', 'message': 'Add spec for elastic snat\n\nCloses-Bug: #1911126\nChange-Id: I9f1d3add93b5a7ab95264fc9fba9efccbe392e87\n'}, {'number': 15, 'created': '2021-11-12 05:32:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/1258ec6a5300a7663571c108a47e547a532f504e', 'message': 'Add spec for elastic snat\n\nCloses-Bug: #1911126\nChange-Id: I9f1d3add93b5a7ab95264fc9fba9efccbe392e87\n'}, {'number': 16, 'created': '2021-11-26 00:27:53.000000000', 'files': ['specs/yoga/elastic_snat.rst'], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/8c55c102f5ed9493e03e3417243c21c55e54d53a', 'message': 'Add spec for elastic snat\n\nCloses-Bug: #1911126\nChange-Id: I9f1d3add93b5a7ab95264fc9fba9efccbe392e87\n'}]",132,770540,8c55c102f5ed9493e03e3417243c21c55e54d53a,67,6,16,9531,,,0,"Add spec for elastic snat

Closes-Bug: #1911126
Change-Id: I9f1d3add93b5a7ab95264fc9fba9efccbe392e87
",git fetch https://review.opendev.org/openstack/neutron-specs refs/changes/40/770540/2 && git format-patch -1 --stdout FETCH_HEAD,['specs/wallaby/elastic_snat.rst'],1,e8665abd1a7664207c9192ecad9b79afb5e95ceb,elastic_snat,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ============ Elastic SNAT ============ RFE: https://bugs.launchpad.net/neutron/+bug/1911126 Neutron router now supports SNAT when the attribute ``enable_snat`` of the gateway is set to True. This will enable all the VMs which have no binding floating IPs to access the public world. We are going to define a new control mechanism for Neutron to enable the SNAT funtion more granularly. Problem Description =================== Enable or disable SNAT once for all sometimes looks a bit rigid. For cloud providers, the DataCenter bandwidths are not free generally. Although the router gateway IP has the QoS rules to limit the bandwidth [1]_ and the bandwidth of gateway IP can be charged, the cloud users may raise new requirements for the SNAT bandwidth. They will want to buy a higher SNAT bandwidth for one of their VMs, a range of IPs or a subnet. But it is impossible now. Because we have only one gateway IP for SNAT and all the VMs (without binding floating IPs) share its bandwidth. Proposed Change =============== For Neutron we are going to support these scenarios: * enable/disable SNAT once for all (supported, controlled by ``enable_snat``) * enable/disable SNAT for one internal IP (of VM) * enable/disable SNAT for a range CIDR of IPs * enable/disable SNAT for a subnet * bandwidth limitation for SNAT rules .. note:: This is only for python neutron L3 agent, any other L3 driver will not be considered. But the API can be reused if they support the function. Solution Proposed ----------------- Since floating IPs have the QoS attribute and the SNAT IP need to be a real public IP address, we will utilize the floating IP and its binding SNAT rules to achive the goal. Server side changes +++++++++++++++++++ Add new top level API resource ``Elastic Snat`` for the SNAT function, the following is the API extension: :: # IP address or CIDR without /0 mask IP_REGEX = (r'([0-9]{1,3}\.){3}[0-9]{1,3}($|/([1-32]))') RESOURCE_ATTRIBUTE_MAP = { 'elastic_snats': { 'id': {'allow_post': False, 'allow_put': False, 'validate': {'type:uuid': None}, 'is_visible': True, 'primary_key': True}, 'name': {'allow_post': True, 'allow_put': True, 'validate': {'type:string': constants.NAME_FIELD_SIZE}, 'is_visible': True, 'default': ''}, 'floatingip_id': { 'allow_post': True, 'allow_put': False, 'validate': {'type:uuid': None}, 'is_visible': True} 'router_id': { 'allow_post': True, 'allow_put': False, 'validate': {'type:uuid': None}, 'is_visible': True} 'project_id': {'allow_post': True, 'allow_put': False, 'validate': { 'type:string': constants.PROJECT_ID_FIELD_SIZE}, 'required_by_policy': True, 'is_visible': False}, 'subnets': { 'allow_post': True, 'allow_put': True, 'validate': {'type:subnet_list': None}, 'convert_to': converters.convert_none_to_empty_list, 'is_visible': True, 'default': []}, 'internal_cidrs': { 'allow_post': True, 'allow_put': True, 'default': [], 'validate': {'type:list_of_regex_or_none': IP_REGEX}, 'convert_to': converters.convert_none_to_empty_list, 'is_visible': True} } } .. note:: Remember the list input ``subnets`` and ``internal_cidrs`` should have order which will finally influence the L3 agent side iptables rules sequence implicitly. As a result, a new service plugin ``elastic_snat`` will be added to handle the DB operations for the following new APIs: * Create ``Elastic Snat`` for subnets: :: POST /v2.0/elastic_snats -d { ""elastic_snat"": { ""name"": <some-name>, ""floatingip_id"": <uuid-of-a-floating-ip>, ""router_id"": <uuid-of-a-router>, ""subnets"": [uuid-of-a-subnet, uuid-of-a-subnet] } } * Create ``Elastic Snat`` for internal IPs: :: POST /v2.0/elastic_snats -d { ""elastic_snat"": { ""name"": <some-name>, ""floatingip_id"": <uuid-of-a-floating-ip>, ""router_id"": <uuid-of-a-router>, ""internal_cidrs"": [1.1.1.1, 2.2.2.2, 3.3.3.0/24] } } * Update ``Elastic Snat`` with name and subnets: :: PUT /v2.0/elastic_snats/<uuid-of-a-elastic-snat> -d { ""elastic_snat"": { ""name"": <some-name>, ""subnets"": [uuid-of-a-subnet, uuid-of-a-subnet] } } * Update ``Elastic Snat`` with name and internal IPs: :: PUT /v2.0/elastic_snats/<uuid-of-a-elastic-snat> -d { ""elastic_snat"": { ""name"": <some-name>, ""internal_cidrs"": [1.1.1.2, 2.2.2.3, 3.3.3.0/27] } } * List all ``Elastic Snat``: :: GET /v2.0/elastic_snats * Show an ``Elastic Snat``: :: GET /v2.0/elastic_snats/<uuid-of-a-elastic-snat> * Delete an ``Elastic Snat``: :: DELETE /v2.0/elastic_snats/<uuid-of-a-elastic-snat> API Restrictions ++++++++++++++++ For existing resources: * Could not remove a floating IP which has ``Elastic Snat`` * Cloud not remove a router gateway if there are ``Elastic Snat`` * Cloud not remove a subnet if there are IPs or CIDR used by ``Elastic Snat`` * Cloud binding a floating IP to a VM while it has ``Elastic Snat`` For new resource ``Elastic Snat``, because the final iptables rules in the agent side need to be in very strict order, in order to reduce complexity for the input of the API we will have restrictions: * ``subnets`` and ``internal_cidrs`` should not be set at the same time. * ``subnets`` and ``internal_cidrs`` should not be empty at the same time. Then, it will be easier for users to ensure the sequence of elements in one input list than merging two lists. L3 Agent side changes +++++++++++++++++++++ Add a new agent extension ``elastic_fip_snat`` to retrieve the floating IPs which have binding SNAT rules to setup the iptables SNAT rules. Rule order in iptables ``nat`` table: :: Chain neutron-l3-agent-snat - target prot opt in out source destination 0 neutron-l3-agent-float-snat all -- * * 0.0.0.0/0 0.0.0.0/0 1 SNAT all -- * * 192.168.222.0/24 0.0.0.0/0 to:172.24.4.167 2 SNAT all -- * * 192.168.111.9/32 0.0.0.0/0 to:172.24.4.168 3 SNAT all -- * * 192.168.111.0/24 0.0.0.0/0 to:172.24.4.169 4 SNAT all -- * qg-2ff719d9-95 0.0.0.0/0 0.0.0.0/0 to:172.24.4.165 .. note:: These iptables rules are in strict order based on the input of the API resource. Neutron basic workflow ++++++++++++++++++++++ 1. User create elastic-snat and floating IP with QoS policy 2. Elastic-snat notify the L3 agent 3. L3 agent creates related SNAT rules under a router namespace depends on the elastic-snat attributes 4. L3 agent set bandwidth rate limit by the elastic-snat floating IP's QoS policy 5. VM or VM under a IP range or subnet can reach the public world 6. User delete the elastic-snat 7. L3 agent delete the SNAT and TC rules Potential configurations ++++++++++++++++++++++++ User workflow ------------- 1. User create router-1 and set external gateway with ``enable_snat=False`` 2. Create subnet-1 1.1.1.0/24, subnet-2 2.2.2.0/24, 3.3.3.0/24 3. Attach subnet-1, subnet-2 and subnet-3 to router-1 4. Create VM-1 with fixed-ip 1.1.1.2 5. Create VM-2 with fixed-ip 2.2.2.2 6. Create VM-3 with fixed-ip 3.3.3.3 7. Create floating-ip-1, floating-ip-2, floating-ip-3 8. Create elastic-snat-1 for IP address 1.1.1.2 with floating-ip-1 and router-1 9. Create elastic-snat-2 for IP address 2.2.2.2 with floating-ip-2 and router-1 10. Create elastic-snat-1 for IP address 3.3.3.0/24 with floating-ip-3 and router-1 11. VM-1 can access public world by SNAT rule of floating-ip-1 12. VM-2 can access public world by SNAT rule of floating-ip-2 13. VM-3 and all VMs which are using IP from subnet-3 can access public world by SNAT rule of floating-ip-3 Data Model Impact ----------------- ElasticSnat +++++++++++ A new DB model ``ElasticSnat`` will be added to Neutron. The DB table is: :: op.create_table( 'elastic_snats', sa.Column('id', sa.String(length=constants.UUID_FIELD_SIZE), nullable=False), sa.Column('floatingip_id', sa.String(length=constants.UUID_FIELD_SIZE), nullable=False), sa.Column('router_id', sa.String(length=constants.UUID_FIELD_SIZE), nullable=False), sa.Column('subnet_ids', sa.String(length=4095), nullable=True), sa.Column('internal_cidrs', sa.String(length=4095), nullable=True), sa.ForeignKeyConstraint(['floatingip_id'], ['floatingips.id']), sa.ForeignKeyConstraint(['router_id'], ['routers.id']), sa.PrimaryKeyConstraint('id'), ) REST API Impact --------------- No impact on existing APIs. New APIs please refer to the section ``[Server side changes]``. Implementation ============== Assignee(s) ----------- * LIU Yulong <i@liuyulong.me> Work Items ---------- * Create API extension and DB models. * Create service plugin with related RPC/notification. * Create agent extension. * Testing. * Documentation. Dependencies ============ None Testing ======= Functionality ------------- Boot test VM and create SNAT rule then ping the outside world. References ========== .. [1] https://bugs.launchpad.net/neutron/+bug/1757044 ",,324,0
openstack%2Fneutron-tempest-plugin~master~I95d9fd3224300c4406a1a397e514989d7495b370,openstack/neutron-tempest-plugin,master,I95d9fd3224300c4406a1a397e514989d7495b370,Remove the case of multiple fip:port to one fixed_ip:port,ABANDONED,2021-04-22 07:04:54.000000000,2022-02-08 08:53:17.000000000,,"[{'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-22 07:04:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/d1b50d384871dacacfb0d8f748250251d842a8d8', 'message': 'Remove the case of multiple fip:port to one fixed_ip:port\n\nRemove this check because Neutron is going to remove this\nunique constraint, it will allow creating portforwardings\nwhich have multiple floating IP:port to one same fixed_IP:port.\n\nAnd, this case looks redundant, there are API tests in Neutron.\n\nRelated-Bug: #1922653\nChange-Id: I95d9fd3224300c4406a1a397e514989d7495b370\n'}, {'number': 2, 'created': '2021-05-08 12:06:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/f63f129117c9b6f678656e9e31f265837fe68381', 'message': 'Remove the case of multiple fip:port to one fixed_ip:port\n\nRemove this check because Neutron is going to remove this\nunique constraint, it will allow creating portforwardings\nwhich have multiple floating IP:port to one same fixed_IP:port.\n\nAnd, this case looks redundant, there are API tests in Neutron.\n\nRelated-Bug: #1922653\nChange-Id: I95d9fd3224300c4406a1a397e514989d7495b370\n'}, {'number': 3, 'created': '2021-05-24 08:21:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/d36dcff7ac66a19cc3e1149af2de199228514fad', 'message': 'Remove the case of multiple fip:port to one fixed_ip:port\n\nRemove this check because Neutron is going to remove this\nunique constraint, it will allow creating portforwardings\nwhich have multiple floating_IP:port to one same fixed_IP:port.\n\nAnd, this case looks redundant, there are API tests in Neutron.\n\nIf Neutron stable branches do not use the master branch of\nneutron-tempest-plugin, new test cases after the constraint\nremoval will be added.\n\nRelated-Bug: #1922653\nChange-Id: I95d9fd3224300c4406a1a397e514989d7495b370\n'}, {'number': 4, 'created': '2021-06-04 01:45:56.000000000', 'files': ['neutron_tempest_plugin/api/test_port_forwarding_negative.py'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/68915476b81f26dcfefd463c6b64f00107e253ce', 'message': 'Remove the case of multiple fip:port to one fixed_ip:port\n\nRemove this check because Neutron is going to remove this\nunique constraint, it will allow creating portforwardings\nwhich have multiple floating_IP:port to one same fixed_IP:port.\n\nAnd, this case looks redundant, there are API tests in Neutron.\n\nIf Neutron stable branches do not use the master branch of\nneutron-tempest-plugin, new test cases after the constraint\nremoval will be added.\n\nRelated-Bug: #1922653\nChange-Id: I95d9fd3224300c4406a1a397e514989d7495b370\n'}]",11,787474,68915476b81f26dcfefd463c6b64f00107e253ce,36,4,4,9531,,,0,"Remove the case of multiple fip:port to one fixed_ip:port

Remove this check because Neutron is going to remove this
unique constraint, it will allow creating portforwardings
which have multiple floating_IP:port to one same fixed_IP:port.

And, this case looks redundant, there are API tests in Neutron.

If Neutron stable branches do not use the master branch of
neutron-tempest-plugin, new test cases after the constraint
removal will be added.

Related-Bug: #1922653
Change-Id: I95d9fd3224300c4406a1a397e514989d7495b370
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/74/787474/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron_tempest_plugin/api/test_port_forwarding_negative.py'],1,d1b50d384871dacacfb0d8f748250251d842a8d8,bug/1922653,," @decorators.idempotent_id('0c229a4c-9f28-11ea-bb37-0242ac130002') def test_mapping_different_external_ports_to_the_same_destination(self): port = self.create_port(self.network) fip_for_pf = self.create_floatingip() self.create_port_forwarding( fip_for_pf['id'], internal_port_id=port['id'], internal_ip_address=port['fixed_ips'][0]['ip_address'], internal_port=1111, external_port=3333, protocol=""tcp"") self.assertRaises( exceptions.BadRequest, self.create_port_forwarding, fip_for_pf['id'], internal_port_id=port['id'], internal_ip_address=port['fixed_ips'][0]['ip_address'], internal_port=1111, external_port=5555, protocol=""tcp"") @decorators.attr(type='negative')",0,22
openstack%2Fneutron~master~I3bcee11982e98b438e4d12f1b40f3b2290321b6b,openstack/neutron,master,I3bcee11982e98b438e4d12f1b40f3b2290321b6b,Support multiple types net map to one ovs bridge,ABANDONED,2021-12-01 09:29:51.000000000,2022-02-08 08:53:03.000000000,,"[{'_account_id': 5948}, {'_account_id': 9708}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2021-12-01 09:29:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/93061a059eee76281b506b4e1c981fa29a211bb2', 'message': 'Support multiple types net map to one ovs bridge\n\nIn real cloud production environment, there are many\nhosts, which can access external network, which may not.\nSome have enough NICs to work for different networks,\nwhile some are lack of NICs.\n\nFor instance, an external network, provider:network_type is\n``vlan``, provider:physical_network is ``external``,\nprovider:segmentation_id is ``4000``.\nWhile tenant network, provider:network_type is ``vlan``,\nprovider:physical_network is ``user``, provider:segmentation_id\nis ``1000-3000``.\n\nSo for neutron\'s limitation, in one single host, you have\nto add two ovs-bridges which are mapping external->br-ex,\nuser->br-usr. And br-ex adds physical port eth0,\nbr-usr adds eth1.\n\nBut, in real world, these vlans can work in same physical\nnic, and physical hosts may be lack of NICs, which means,\nNeutron should allow set bridge mapping like this:\n{""external"": br-vlan, ""user"": br-vlan}\n\nThen, for those hosts with only one NIC (or one bond NIC),\ncan work for both physical types of network.\n\nThis patch will make this available.\n\nCloses-Bug: #1952867\nChange-Id: I3bcee11982e98b438e4d12f1b40f3b2290321b6b\n'}, {'number': 2, 'created': '2021-12-02 01:23:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/bc2c2cb14b439c42e1ee27e02e6feadf71621067', 'message': 'Support multiple types net map to one ovs bridge\n\nIn real cloud production environment, there are many\nhosts, which can access external network, which may not.\nSome have enough NICs to work for different networks,\nwhile some are lack of NICs.\n\nFor instance, an external network, provider:network_type is\n``vlan``, provider:physical_network is ``external``,\nprovider:segmentation_id is ``4000``.\nWhile tenant network, provider:network_type is ``vlan``,\nprovider:physical_network is ``user``, provider:segmentation_id\nis ``1000-3000``.\n\nSo for neutron\'s limitation, in one single host, you have\nto add two ovs-bridges which are mapping external->br-ex,\nuser->br-usr. And br-ex adds physical port eth0,\nbr-usr adds eth1.\n\nBut, in real world, these vlans can work in same physical\nnic, and physical hosts may be lack of NICs, which means,\nNeutron should allow set bridge mapping like this:\n{""external"": br-vlan, ""user"": br-vlan}\n\nThen, for those hosts with only one NIC (or one bond NIC),\ncan work for both physical types of network.\n\nThis patch will make this available. Two logical type of network\ncan work together on one physical. In real world,\nexternal_vlan=4000 and user_vlan=1000-3000 can be set for one\nsingle port in TOR for some hosts.\n\nCloses-Bug: #1952867\nChange-Id: I3bcee11982e98b438e4d12f1b40f3b2290321b6b\n'}, {'number': 3, 'created': '2021-12-02 05:58:49.000000000', 'files': ['neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py', 'neutron/agent/linux/openvswitch_firewall/firewall.py', 'neutron/tests/functional/agent/l2/base.py', 'neutron/tests/fullstack/resources/config.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/test_ovs_neutron_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/be7b17b43c5d2c9b3b543cde19a6b50d55e2089b', 'message': 'Support multiple types net map to one ovs bridge\n\nIn real cloud production environment, there are many\nhosts, which can access external network, which may not.\nSome have enough NICs to work for different networks,\nwhile some are lack of NICs.\n\nFor instance, an external network, provider:network_type is\n``vlan``, provider:physical_network is ``external``,\nprovider:segmentation_id is ``4000``.\nWhile tenant network, provider:network_type is ``vlan``,\nprovider:physical_network is ``user``, provider:segmentation_id\nis ``1000-3000``.\n\nSo for neutron\'s limitation, in one single host, you have\nto add two ovs-bridges which are mapping external->br-ex,\nuser->br-usr. And br-ex adds physical port eth0,\nbr-usr adds eth1.\n\nBut, in real world, these vlans can work in same physical\nnic, and physical hosts may be lack of NICs, which means,\nNeutron should allow set bridge mapping like this:\n{""external"": br-vlan, ""user"": br-vlan}\n\nThen, for those hosts with only one NIC (or one bond NIC),\ncan work for both physical types of network.\n\nThis patch will make this available. Two logical type of network\ncan work together on one physical. In real world,\nexternal_vlan=4000 and user_vlan=1000-3000 can be set for one\nsingle port in TOR for some hosts.\n\nCloses-Bug: #1952867\nChange-Id: I3bcee11982e98b438e4d12f1b40f3b2290321b6b\n'}]",12,820006,be7b17b43c5d2c9b3b543cde19a6b50d55e2089b,28,7,3,9531,,,0,"Support multiple types net map to one ovs bridge

In real cloud production environment, there are many
hosts, which can access external network, which may not.
Some have enough NICs to work for different networks,
while some are lack of NICs.

For instance, an external network, provider:network_type is
``vlan``, provider:physical_network is ``external``,
provider:segmentation_id is ``4000``.
While tenant network, provider:network_type is ``vlan``,
provider:physical_network is ``user``, provider:segmentation_id
is ``1000-3000``.

So for neutron's limitation, in one single host, you have
to add two ovs-bridges which are mapping external->br-ex,
user->br-usr. And br-ex adds physical port eth0,
br-usr adds eth1.

But, in real world, these vlans can work in same physical
nic, and physical hosts may be lack of NICs, which means,
Neutron should allow set bridge mapping like this:
{""external"": br-vlan, ""user"": br-vlan}

Then, for those hosts with only one NIC (or one bond NIC),
can work for both physical types of network.

This patch will make this available. Two logical type of network
can work together on one physical. In real world,
external_vlan=4000 and user_vlan=1000-3000 can be set for one
single port in TOR for some hosts.

Closes-Bug: #1952867
Change-Id: I3bcee11982e98b438e4d12f1b40f3b2290321b6b
",git fetch https://review.opendev.org/openstack/neutron refs/changes/06/820006/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py', 'neutron/agent/linux/openvswitch_firewall/firewall.py', 'neutron/tests/functional/agent/l2/base.py', 'neutron/tests/fullstack/resources/config.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/test_ovs_neutron_agent.py']",5,93061a059eee76281b506b4e1c981fa29a211bb2,bug/1952867," 'physnet1': 'br-ex1', 'physnet2': 'br-ex0', 'physnet3': 'br-ex1'} 'physnet1': ex_br_mocks[1], 'physnet2': ex_br_mocks[0], 'physnet3': ex_br_mocks[1]} setup_physical_bridges.assert_called_once_with( {'physnet0': 'br-ex0', 'physnet2': 'br-ex0'})", 'physnet1': 'br-ex1'} 'physnet1': ex_br_mocks[1]} setup_physical_bridges.assert_called_once_with({'physnet0': 'br-ex0'}),32,7
openstack%2Fneutron-specs~master~Ifa2baca64dfbadc2d9473eba2999839ecdadac31,openstack/neutron-specs,master,Ifa2baca64dfbadc2d9473eba2999839ecdadac31,Neutron detector resource and agent,ABANDONED,2019-05-31 18:46:00.000000000,2022-02-08 08:52:48.000000000,,"[{'_account_id': 841}, {'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 6854}, {'_account_id': 9531}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-31 18:46:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/1f9c6af6491b5572cdaf7c45ecf52115a3e07d06', 'message': 'Neutron probe resource and agent extension\n\nRelated-Bug: #1830014\nChange-Id: Ifa2baca64dfbadc2d9473eba2999839ecdadac31\n'}, {'number': 2, 'created': '2019-06-01 08:38:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/2eea3ca8e0684a52c201fec86c110947f367fb70', 'message': 'Neutron probe resource and agent extension\n\nRelated-Bug: #1830014\nChange-Id: Ifa2baca64dfbadc2d9473eba2999839ecdadac31\n'}, {'number': 3, 'created': '2019-11-11 15:36:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/bc6cd7f0ce2d4d8f013944b664cc0c8c16ec8bb4', 'message': 'Neutron detector resource and agent extension\n\nRelated-Bug: #1830014\nChange-Id: Ifa2baca64dfbadc2d9473eba2999839ecdadac31\n'}, {'number': 4, 'created': '2020-05-20 16:24:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/df037f84b5adc44ac7adff16ad45b41a9da05c8e', 'message': 'Neutron detector resource and agent\n\nRelated-Bug: #1830014\nChange-Id: Ifa2baca64dfbadc2d9473eba2999839ecdadac31\n'}, {'number': 5, 'created': '2020-05-23 00:46:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/afba448c05deb7f0ab3418ba2a20daa6c0b63bef', 'message': 'Neutron detector resource and agent\n\nRelated-Bug: #1830014\nChange-Id: Ifa2baca64dfbadc2d9473eba2999839ecdadac31\n'}, {'number': 6, 'created': '2021-01-05 07:10:04.000000000', 'files': ['specs/wallaby/detection-api-and-agent.rst'], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/cb68a59600cfe49f8510721af476952ef4d910f0', 'message': 'Neutron detector resource and agent\n\nRelated-Bug: #1830014\nChange-Id: Ifa2baca64dfbadc2d9473eba2999839ecdadac31\n'}]",132,662541,cb68a59600cfe49f8510721af476952ef4d910f0,24,9,6,9531,,,0,"Neutron detector resource and agent

Related-Bug: #1830014
Change-Id: Ifa2baca64dfbadc2d9473eba2999839ecdadac31
",git fetch https://review.opendev.org/openstack/neutron-specs refs/changes/41/662541/4 && git format-patch -1 --stdout FETCH_HEAD,['specs/train/probe-api-and-agent-extension.rst'],1,1f9c6af6491b5572cdaf7c45ecf52115a3e07d06,neutron_detector,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ===================================== Neturon probe API and agent extension ===================================== RFE: https://bugs.launchpad.net/neutron/+bug/1830014 There is no general mechanism for neutron users/operators to detect link status through API. And we meet some ssh failures [1]_ during the neutron CI test. It is black-box testing, we can not do much detect work in the compute node or network node since tempest are mostly running by calling API. So this RFE is aiming to add such API which will partial relay on neutron-debug [2]_. Problem Description =================== We noticed that sometimes the guest OS is not fully UP, but test case is trying to login it. A simple idea is to ping it first, then try to login. So we hope to find a way for tempest to verify the neutron port link state. In high probability, the DB resource state is not reliable. We need an independent mechanism to check the VM network status. Because tempest is black-box test, it can run in any host, we can not use the current resources under the existing mechanism, such as qdhcp-namepace or qrouter-namepace to do such check. We have neutron-debug tool which include a ""probe"" resource in the agent side [2]_. We could add some API to neutron, and let the proper agent to add such ""probe"" for us. In agent side, it will be a general agent extension, you can enable it to the L2-agent, L3-agent or DHCP-agent. Once you have such ""probe"" resource in the agent side, you will be able to run any command (or some statutory commands) in it. This will be useful for neutron CI to check the VM link state. Since [3]_ marked the neutron-debug tool as deprecated. But we can remain that ""probe"" mechanism. Proposed Change =============== For this proposal here, a new neutron resource will be added, it will contain some new API, plugin, extension and OVO objects. Agent side will also need some change to install the namespace and device, and most important is to run the detect commands. Solution Proposed ----------------- Server side changes +++++++++++++++++++ * Add OVO object ``Probe`` * Add new API extension for ``Probe`` * Add a new service plugin to support ``Probe`` CURD * Add a binding table ``ProbeHostBinding`` to locate the probe installing * Add a probe scheduler Agent side changes ++++++++++++++++++ * Add a general base class for agent side which will install the probe namespace and device * Add L2, L3, DHCP agent extension inherited from the base class * Adding notification mechanism between server side plugin and agent side extension to make custom commands execution available. Potential configurations ++++++++++++++++++++++++ For neutron server, a new service plugin will be needed: :: [DEFAULT] service_plugins = ...,probe,... For agent side, a new extension will be attached to section [agent]: :: [agent] extensions = ...,probe,... The neutron basic workflow -------------------------- 1. user call API to create a probe resource 2. neutron server create the DB records 3. neutron server start scheduling probe to a valid host 4. agent side create the namespace and device 5. call API to run custom commands in that probe namespace Data Model Impact ----------------- None REST API Impact --------------- None Implementation ============== Assignee(s) ----------- * LIU Yulong <i@liuyulong.me> Work Items ---------- * Create API extension probe. * Create probe service plugin * Create agent extension. * Testing. * OpenStack client implementation. * Documentation. * Add such detection mechanism to the CI test. Dependencies ============ None Testing ======= Functionality ------------- Use this API to create a probe resource to detect the virtual machine network status. References ========== .. [1] `CI ssh failures <https://bugs.launchpad.net/neutron/+bug/1821912>`_ .. [2] `neutron-debug <https://docs.openstack.org/neutron/latest/cli/neutron-debug.html>`_ .. [3] `deprecate neutron-debug <https://bugs.launchpad.net/neutron/+bug/1583700>`_ ",,155,0
openstack%2Fneutron~master~Ibf7c08e147ace055114556eb14ca013fcf71fe6e,openstack/neutron,master,Ibf7c08e147ace055114556eb14ca013fcf71fe6e,[L3][Port forwarding] multiple floating_ip:port to same fixed_ip:port,ABANDONED,2021-04-21 00:46:37.000000000,2022-02-08 08:52:33.000000000,,"[{'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-21 00:46:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/954f8c0c19f50fb3d266ca2d2dfdb7351e5d0ffb', 'message': ""[L3][Port forwarding] multiple floating_ip:port to same fixed_ip:port\n\nFloating ip port forwradings table has constraints:\n\n    op.create_unique_constraint(\n        constraint_name=('uniq_port_forwardings0floatingip_id0'\n                         'external_port0protocol'),\n        table_name=TABLE_NAME,\n        columns=['floatingip_id', 'external_port', 'protocol']\n    )\n    op.create_unique_constraint(\n        constraint_name=('uniq_port_forwardings0internal_neutron_port_id0'\n                         'socket0protocol'),\n        table_name=TABLE_NAME,\n        columns=['internal_neutron_port_id', 'socket', 'protocol']\n    )\n\nIt does not support N-to-1 rule (failed on constraint\nuniq_port_forwardings0internal_neutron_port_id0socket0protocol):\n\n172.24.4.64:22 -> tcp -> 192.168.111.45:22\n172.24.4.64:122 -> tcp -> 192.168.111.45:22\n172.24.4.168:22 -> tcp -> 192.168.111.45:22\n\nThis patch remove this uniq constraint to support multiple\nfloating_ip:port to same fixed_ip:port.\n\nChange-Id: Ibf7c08e147ace055114556eb14ca013fcf71fe6e\nCloses-Bug: #1922653\n""}, {'number': 2, 'created': '2021-04-21 05:40:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/09b184011e46d7ebd114f99c5cc3540d603b6aa8', 'message': ""[L3][Port forwarding] multiple floating_ip:port to same fixed_ip:port\n\nFloating ip port forwradings table has constraints:\n\n    op.create_unique_constraint(\n        constraint_name=('uniq_port_forwardings0floatingip_id0'\n                         'external_port0protocol'),\n        table_name=TABLE_NAME,\n        columns=['floatingip_id', 'external_port', 'protocol']\n    )\n    op.create_unique_constraint(\n        constraint_name=('uniq_port_forwardings0internal_neutron_port_id0'\n                         'socket0protocol'),\n        table_name=TABLE_NAME,\n        columns=['internal_neutron_port_id', 'socket', 'protocol']\n    )\n\nIt does not support N-to-1 rule (failed on constraint\nuniq_port_forwardings0internal_neutron_port_id0socket0protocol):\n\n172.24.4.64:22 -> tcp -> 192.168.111.45:22\n172.24.4.64:122 -> tcp -> 192.168.111.45:22\n172.24.4.168:22 -> tcp -> 192.168.111.45:22\n\nThis patch remove this uniq constraint to support multiple\nfloating_ip:port to same fixed_ip:port.\n\nChange-Id: Ibf7c08e147ace055114556eb14ca013fcf71fe6e\nCloses-Bug: #1922653\n""}, {'number': 3, 'created': '2021-04-21 08:54:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/99d9dbf48eae6c0fa3041e829989a3956c0834d0', 'message': ""[L3][Port forwarding] multiple floating_ip:port to same fixed_ip:port\n\nFloating ip port forwradings table has constraints:\n\n    op.create_unique_constraint(\n        constraint_name=('uniq_port_forwardings0floatingip_id0'\n                         'external_port0protocol'),\n        table_name=TABLE_NAME,\n        columns=['floatingip_id', 'external_port', 'protocol']\n    )\n    op.create_unique_constraint(\n        constraint_name=('uniq_port_forwardings0internal_neutron_port_id0'\n                         'socket0protocol'),\n        table_name=TABLE_NAME,\n        columns=['internal_neutron_port_id', 'socket', 'protocol']\n    )\n\nIt does not support N-to-1 rule (failed on constraint\nuniq_port_forwardings0internal_neutron_port_id0socket0protocol):\n\n172.24.4.64:22 -> tcp -> 192.168.111.45:22\n172.24.4.64:122 -> tcp -> 192.168.111.45:22\n172.24.4.168:22 -> tcp -> 192.168.111.45:22\n\nThis patch remove this uniq constraint to support multiple\nfloating_ip:port to same fixed_ip:port.\n\nChange-Id: Ibf7c08e147ace055114556eb14ca013fcf71fe6e\nCloses-Bug: #1922653\n""}, {'number': 4, 'created': '2021-04-22 03:39:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e540683916bf7c5d53bb861c939be55fc5b9de1a', 'message': ""[L3][Port forwarding] multiple floating_ip:port to same fixed_ip:port\n\nFloating ip port forwradings table has constraints:\n\n    op.create_unique_constraint(\n        constraint_name=('uniq_port_forwardings0floatingip_id0'\n                         'external_port0protocol'),\n        table_name=TABLE_NAME,\n        columns=['floatingip_id', 'external_port', 'protocol']\n    )\n    op.create_unique_constraint(\n        constraint_name=('uniq_port_forwardings0internal_neutron_port_id0'\n                         'socket0protocol'),\n        table_name=TABLE_NAME,\n        columns=['internal_neutron_port_id', 'socket', 'protocol']\n    )\n\nIt does not support N-to-1 rule (failed on constraint\nuniq_port_forwardings0internal_neutron_port_id0socket0protocol):\n\n172.24.4.64:22 -> tcp -> 192.168.111.45:22\n172.24.4.64:122 -> tcp -> 192.168.111.45:22\n172.24.4.168:22 -> tcp -> 192.168.111.45:22\n\nThis patch remove this uniq constraint to support multiple\nfloating_ip:port to same fixed_ip:port.\n\nChange-Id: Ibf7c08e147ace055114556eb14ca013fcf71fe6e\nCloses-Bug: #1922653\n""}, {'number': 5, 'created': '2021-04-22 07:11:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/abfe7f9e3e379b07d0dc2621658b6df26df71627', 'message': ""[L3][Port forwarding] multiple floating_ip:port to same fixed_ip:port\n\nFloating ip port forwradings table has constraints:\n\n    op.create_unique_constraint(\n        constraint_name=('uniq_port_forwardings0floatingip_id0'\n                         'external_port0protocol'),\n        table_name=TABLE_NAME,\n        columns=['floatingip_id', 'external_port', 'protocol']\n    )\n    op.create_unique_constraint(\n        constraint_name=('uniq_port_forwardings0internal_neutron_port_id0'\n                         'socket0protocol'),\n        table_name=TABLE_NAME,\n        columns=['internal_neutron_port_id', 'socket', 'protocol']\n    )\n\nIt does not support N-to-1 rule (failed on constraint\nuniq_port_forwardings0internal_neutron_port_id0socket0protocol):\n\n172.24.4.64:22 -> tcp -> 192.168.111.45:22\n172.24.4.64:122 -> tcp -> 192.168.111.45:22\n172.24.4.168:22 -> tcp -> 192.168.111.45:22\n\nThis patch remove this uniq constraint to support multiple\nfloating_ip:port to same fixed_ip:port.\n\nDepends-On: I95d9fd3224300c4406a1a397e514989d7495b370\n\nChange-Id: Ibf7c08e147ace055114556eb14ca013fcf71fe6e\nCloses-Bug: #1922653\n""}, {'number': 6, 'created': '2021-05-24 08:28:57.000000000', 'files': ['releasenotes/notes/port_forwarding_allow_n_to_1_rules-d63f7bcd8a4c3d11.yaml', 'neutron/tests/unit/extensions/test_floating_ip_port_forwarding.py', 'neutron/db/migration/alembic_migrations/versions/xena/expand/61ddbafa4364_remove_port_forwarding_unique_constraint.py', 'neutron/db/models/port_forwarding.py', 'neutron/db/migration/alembic_migrations/versions/EXPAND_HEAD', 'neutron/tests/unit/extensions/test_expose_port_forwarding_in_fip.py', 'neutron/objects/port_forwarding.py', 'neutron/tests/unit/objects/test_objects.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/7d61950d58274137fe57095b4de97a8e4e72f3ac', 'message': ""[L3][Port forwarding] multiple floating_ip:port to same fixed_ip:port\n\nFloating ip port forwradings table has constraints:\n\n  op.create_unique_constraint(\n      constraint_name=('uniq_port_forwardings0floatingip_id0'\n                       'external_port0protocol'),\n      table_name=TABLE_NAME,\n      columns=['floatingip_id', 'external_port', 'protocol']\n  )\n  op.create_unique_constraint(\n      constraint_name=('uniq_port_forwardings0internal_neutron_port_id0'\n                       'socket0protocol'),\n      table_name=TABLE_NAME,\n      columns=['internal_neutron_port_id', 'socket', 'protocol']\n  )\n\nIt does not support N-to-1 rule (failed on constraint\nuniq_port_forwardings0internal_neutron_port_id0socket0protocol):\n\n172.24.4.64:22 -> tcp -> 192.168.111.45:22\n172.24.4.64:122 -> tcp -> 192.168.111.45:22\n172.24.4.168:22 -> tcp -> 192.168.111.45:22\n\nThis patch removes this uniq constraint to support multiple\nfloating_ip:port to same fixed_ip:port.\n\nDepends-On: I95d9fd3224300c4406a1a397e514989d7495b370\n\nChange-Id: Ibf7c08e147ace055114556eb14ca013fcf71fe6e\nCloses-Bug: #1922653\n""}]",3,787304,7d61950d58274137fe57095b4de97a8e4e72f3ac,58,6,6,9531,,,0,"[L3][Port forwarding] multiple floating_ip:port to same fixed_ip:port

Floating ip port forwradings table has constraints:

  op.create_unique_constraint(
      constraint_name=('uniq_port_forwardings0floatingip_id0'
                       'external_port0protocol'),
      table_name=TABLE_NAME,
      columns=['floatingip_id', 'external_port', 'protocol']
  )
  op.create_unique_constraint(
      constraint_name=('uniq_port_forwardings0internal_neutron_port_id0'
                       'socket0protocol'),
      table_name=TABLE_NAME,
      columns=['internal_neutron_port_id', 'socket', 'protocol']
  )

It does not support N-to-1 rule (failed on constraint
uniq_port_forwardings0internal_neutron_port_id0socket0protocol):

172.24.4.64:22 -> tcp -> 192.168.111.45:22
172.24.4.64:122 -> tcp -> 192.168.111.45:22
172.24.4.168:22 -> tcp -> 192.168.111.45:22

This patch removes this uniq constraint to support multiple
floating_ip:port to same fixed_ip:port.

Depends-On: I95d9fd3224300c4406a1a397e514989d7495b370

Change-Id: Ibf7c08e147ace055114556eb14ca013fcf71fe6e
Closes-Bug: #1922653
",git fetch https://review.opendev.org/openstack/neutron refs/changes/04/787304/5 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/db/migration/alembic_migrations/versions/xena/expand/61ddbafa4364_remove_port_forwarding_unique_constraint.py', 'neutron/db/models/port_forwarding.py', 'neutron/tests/unit/extensions/test_expose_port_forwarding_in_fip.py', 'neutron/objects/port_forwarding.py', 'neutron/tests/unit/objects/test_objects.py']",5,954f8c0c19f50fb3d266ca2d2dfdb7351e5d0ffb,bug/1922653," 'PortForwarding': '1.3-f772f03b82a616603c7f3d4497bf577f',"," 'PortForwarding': '1.2-f772f03b82a616603c7f3d4497bf577f',",131,6
openstack%2Fneutron~master~I352b0ff734682dfa8c3f95e938fd8455f720c674,openstack/neutron,master,I352b0ff734682dfa8c3f95e938fd8455f720c674,Ensure iptables rule was added only once,ABANDONED,2019-09-24 08:28:31.000000000,2022-02-08 08:51:53.000000000,,"[{'_account_id': 1131}, {'_account_id': 5948}, {'_account_id': 9531}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-09-24 08:28:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9f10cb1017bc67ef10b4e64f0dc27d3811758214', 'message': 'Ensure iptables rule was added only once\n\nThis patch adds a check for iptables_manager to ensure the rule\nwas added only once to the list. This will avoid some unexpected\nbehavior during rule removal procedure.\n\nChange-Id: I352b0ff734682dfa8c3f95e938fd8455f720c674\nCloses-Bug: #1845145\n'}, {'number': 2, 'created': '2019-09-24 23:11:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/eedf8a71ace316b805bdb2f0ed12eef570622741', 'message': 'Ensure iptables rule was added only once\n\nThis patch adds a check for iptables_manager to ensure the rule\nwas added only once to the list. This will avoid some unexpected\nbehavior during rule removal procedure.\n\nChange-Id: I352b0ff734682dfa8c3f95e938fd8455f720c674\nCloses-Bug: #1845145\n'}, {'number': 3, 'created': '2019-11-12 01:01:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/47d02dcba7192bec0ef0a54e7a3ccc08757111ca', 'message': 'Ensure iptables rule was added only once\n\nThis patch adds a check for iptables_manager to ensure the rule\nwas added only once to the list. This will avoid some unexpected\nbehavior during rule removal procedure.\n\nChange-Id: I352b0ff734682dfa8c3f95e938fd8455f720c674\nCloses-Bug: #1845145\n'}, {'number': 4, 'created': '2020-03-14 05:21:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/74bb682511c9c75f727f029a9772cd58070e93cd', 'message': 'Ensure iptables rule was added only once\n\nThis patch adds a check for iptables_manager to ensure the rule\nwas added only once to the list. This will avoid some unexpected\nbehavior during rule removal procedure.\n\nChange-Id: I352b0ff734682dfa8c3f95e938fd8455f720c674\nCloses-Bug: #1845145\n'}, {'number': 5, 'created': '2020-05-20 17:00:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/45adb3d4af31bd625f91c8b398ee65b7af811cc2', 'message': 'Ensure iptables rule was added only once\n\nThis patch adds a check for iptables_manager to ensure the rule\nwas added only once to the list. This will avoid some unexpected\nbehavior during rule removal procedure.\n\nChange-Id: I352b0ff734682dfa8c3f95e938fd8455f720c674\nCloses-Bug: #1845145\n'}, {'number': 6, 'created': '2020-07-16 10:59:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a829d9e3b176f753b5acbb6d4ac9c930b0cb1bf5', 'message': 'Ensure iptables rule was added only once\n\nThis patch adds a check for iptables_manager to ensure the rule\nwas added only once to the list. This will avoid some unexpected\nbehavior during rule removal procedure.\n\nChange-Id: I352b0ff734682dfa8c3f95e938fd8455f720c674\nCloses-Bug: #1845145\n'}, {'number': 7, 'created': '2020-07-22 06:41:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9a844ff965eeb320a9be9a73d99ecd1c432e0154', 'message': 'Ensure iptables rule was added only once\n\nThis patch adds a check for iptables_manager to ensure the rule\nwas added only once to the list. This will avoid some unexpected\nbehavior during rule removal procedure.\n\nChange-Id: I352b0ff734682dfa8c3f95e938fd8455f720c674\nCloses-Bug: #1845145\n'}, {'number': 8, 'created': '2020-08-19 21:28:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ad681d24eb0d9fdc7a94b70fef7af5a7d95a3005', 'message': 'Ensure iptables rule was added only once\n\nThis patch adds a check for iptables_manager to ensure the rule\nwas added only once to the list. This will avoid some unexpected\nbehavior during rule removal procedure.\n\nChange-Id: I352b0ff734682dfa8c3f95e938fd8455f720c674\nCloses-Bug: #1845145\n'}, {'number': 9, 'created': '2021-04-21 01:08:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/bb0edf0385ec55381a4656f59ae036714fa0f26c', 'message': 'Ensure iptables rule was added only once\n\nThis patch adds a check for iptables_manager to ensure the rule\nwas added only once to the list. This will avoid some unexpected\nbehavior during rule removal procedure.\n\nChange-Id: I352b0ff734682dfa8c3f95e938fd8455f720c674\nCloses-Bug: #1845145\n'}, {'number': 10, 'created': '2021-04-22 03:12:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b8038d77a3e58d8d3b9da62ac801ae833109ba59', 'message': 'Ensure iptables rule was added only once\n\nThis patch adds a check for iptables_manager to ensure the rule\nwas added only once to the list. This will avoid some unexpected\nbehavior during rule removal procedure.\n\nCloses-Bug: #1845145\nChange-Id: I352b0ff734682dfa8c3f95e938fd8455f720c674\n'}, {'number': 11, 'created': '2021-04-22 07:20:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b3525748424d5b9d3d14493b7b0c2bf374a74a8c', 'message': 'Ensure iptables rule was added only once\n\nThis patch adds a check for iptables_manager to ensure the rule\nwas added only once to the list. This will avoid some unexpected\nbehavior during rule removal procedure.\n\nCloses-Bug: #1845145\nChange-Id: I352b0ff734682dfa8c3f95e938fd8455f720c674\n'}, {'number': 12, 'created': '2021-05-19 07:38:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e353a73c0b2cb90907b7cc3f3e24693f299ebb94', 'message': 'Ensure iptables rule was added only once\n\nThis patch adds a check for iptables_manager to ensure the rule\nwas added only once to the list. This will avoid some unexpected\nbehavior during rule removal procedure.\n\nCloses-Bug: #1845145\nChange-Id: I352b0ff734682dfa8c3f95e938fd8455f720c674\n'}, {'number': 13, 'created': '2021-05-21 00:59:12.000000000', 'files': ['neutron/tests/functional/agent/test_firewall.py', 'neutron/agent/linux/iptables_manager.py', 'neutron/tests/unit/agent/linux/test_iptables_manager.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/ee4fc5db95c03b8d8281572190b7d5b1c6b2273c', 'message': 'Ensure iptables rule was added only once\n\nThis patch adds a check for iptables_manager to ensure the rule\nwas added only once to the list. This will avoid some unexpected\nbehavior during rule removal procedure.\n\nCloses-Bug: #1845145\nChange-Id: I352b0ff734682dfa8c3f95e938fd8455f720c674\n'}]",13,684237,ee4fc5db95c03b8d8281572190b7d5b1c6b2273c,94,11,13,9531,,,0,"Ensure iptables rule was added only once

This patch adds a check for iptables_manager to ensure the rule
was added only once to the list. This will avoid some unexpected
behavior during rule removal procedure.

Closes-Bug: #1845145
Change-Id: I352b0ff734682dfa8c3f95e938fd8455f720c674
",git fetch https://review.opendev.org/openstack/neutron refs/changes/37/684237/4 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/linux/iptables_manager.py', 'neutron/tests/unit/agent/linux/test_iptables_manager.py']",2,9f10cb1017bc67ef10b4e64f0dc27d3811758214,bug/1845145," def test_add_rule_once(self): self.iptables.ipv4['filter'].add_chain('filter') rule_len_before = len(self.iptables.ipv4['filter'].rules) self.iptables.ipv4['filter'].add_rule('filter', '-j DROP') self.iptables.ipv4['filter'].add_rule('INPUT', '-s 0/0 -d 192.168.0.2 -j' ' %(bn)s-filter' % IPTABLES_ARG, once=True) self.iptables.ipv4['filter'].add_rule('INPUT', '-s 0/0 -d 192.168.0.3 -j' ' %(bn)s-filter' % IPTABLES_ARG, once=True) self.iptables.ipv4['filter'].add_rule('INPUT', '-s 0/0 -d 192.168.0.4 -j' ' %(bn)s-filter' % IPTABLES_ARG, once=True) self.iptables.ipv4['filter'].add_rule('INPUT', '-s 0/0 -d 192.168.0.2 -j' ' %(bn)s-filter' % IPTABLES_ARG, once=True) self.iptables.ipv4['filter'].add_rule('INPUT', '-s 0/0 -d 192.168.0.3 -j' ' %(bn)s-filter' % IPTABLES_ARG, once=True) self.iptables.ipv4['filter'].add_rule('INPUT', '-s 0/0 -d 192.168.0.4 -j' ' %(bn)s-filter' % IPTABLES_ARG, once=True) self.iptables.ipv4['filter'].add_rule('INPUT', '-s 0/0 -d 192.168.0.5 -j' ' %(bn)s-filter' % IPTABLES_ARG, once=True) self.iptables.ipv4['filter'].add_rule('INPUT', '-s 0/0 -d 192.168.0.5 -j' ' %(bn)s-filter' % IPTABLES_ARG, once=True) self.iptables.apply() # Only 5 new rules, and 192.168.0.2/3/4/5 each one has a duplication. self.assertEqual(rule_len_before + 5, len(self.iptables.ipv4['filter'].rules)) ",,49,3
openstack%2Fneutron~master~I00c5e6e0b11929a5b98e21e21a1090b60466515e,openstack/neutron,master,I00c5e6e0b11929a5b98e21e21a1090b60466515e,Check dvr local router is up during port creation,ABANDONED,2019-01-30 06:00:31.000000000,2022-02-08 08:51:04.000000000,,"[{'_account_id': 1131}, {'_account_id': 5948}, {'_account_id': 7016}, {'_account_id': 9531}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 32291}]","[{'number': 1, 'created': '2019-01-30 06:00:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a670b5c0aaba2679a533a9249f5165a855bd601b', 'message': 'Check dvr local router is up during port creation\n\nSometimes the dvr local router can be still in processing\nbut the VM needs to send traffic via it or the proxy. So\nthis patch adds a status check during port creation. If\nthe local router is not up, then provisioning_complete\nwill not be sent.\n\nRelated-Bug: #1813787\nChange-Id: I00c5e6e0b11929a5b98e21e21a1090b60466515e\n'}, {'number': 2, 'created': '2019-01-30 09:43:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/579a95ca7c154db339ea88f7529d2ba11fbe2e3c', 'message': 'Check dvr local router is up during port creation\n\nSometimes the dvr local router can be still in processing\nbut the VM needs to send traffic via it or the proxy. So\nthis patch adds a status check during port creation. If\nthe local router is not up, then provisioning_complete\nwill not be sent.\n\nRelated-Bug: #1813787\nChange-Id: I00c5e6e0b11929a5b98e21e21a1090b60466515e\n'}, {'number': 3, 'created': '2019-01-30 14:04:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6a274ba54bd15454af6f83da1a977e73815029c1', 'message': 'Check dvr local router is up during port creation\n\nSometimes the dvr local router can be still in processing\nbut the VM needs to send traffic via it or the proxy. So\nthis patch adds a status check during port creation. If\nthe local router is not up, then provisioning_complete\nwill not be sent.\n\nRelated-Bug: #1813787\nChange-Id: I00c5e6e0b11929a5b98e21e21a1090b60466515e\n'}, {'number': 4, 'created': '2019-01-31 06:21:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6859e9c14e25be79807980cb6e03be7946902d3a', 'message': 'Check dvr local router is up during port creation\n\nSometimes the dvr local router can be still in processing\nbut the VM needs to send traffic via it or the proxy. So\nthis patch adds a status check during port creation. If\nthe local router is not up, then provisioning_complete\nwill not be sent.\n\nRelated-Bug: #1813787\nChange-Id: I00c5e6e0b11929a5b98e21e21a1090b60466515e\n'}, {'number': 5, 'created': '2019-02-10 05:32:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a5ff7d332d1b03fa5a4260f36543d5f62b5a9dc1', 'message': 'Check dvr local router is up during port creation\n\nSometimes the dvr local router can be still in processing\nbut the VM needs to send traffic via it or the proxy. So\nthis patch adds a status check during port creation. If\nthe local router is not up, then provisioning_complete\nwill not be sent.\n\nRelated-Bug: #1813787\nChange-Id: I00c5e6e0b11929a5b98e21e21a1090b60466515e\n'}, {'number': 6, 'created': '2019-02-11 15:18:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9c877790dde77c439de359bed30211ca9c4aea73', 'message': 'Check dvr local router is up during port creation\n\nSometimes the dvr local router can be still in processing\nbut the VM needs to send traffic via it or the proxy. So\nthis patch adds a status check during port creation. If\nthe local router is not up, then provisioning_complete\nwill not be sent.\n\nRelated-Bug: #1813787\nChange-Id: I00c5e6e0b11929a5b98e21e21a1090b60466515e\n'}, {'number': 7, 'created': '2019-02-12 23:22:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b6ebdc7c0886ae22d97875c72f7a02e2efeebd78', 'message': 'Check dvr local router is up during port creation\n\nSometimes the dvr local router can be still in processing\nbut the VM needs to send traffic via it or the proxy. So\nthis patch adds a status check during port creation. If\nthe local router is not up, then provisioning_complete\nwill not be sent.\n\nRelated-Bug: #1813787\nChange-Id: I00c5e6e0b11929a5b98e21e21a1090b60466515e\n'}, {'number': 8, 'created': '2019-02-13 12:26:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d8a60e7e44147ac1e05875dc80f1d85c6f6e4d2e', 'message': 'Check dvr local router is up during port creation\n\nSometimes the dvr local router can be still in processing\nbut the VM needs to send traffic via it or the proxy. So\nthis patch adds a status check during port creation. If\nthe local router is not up, then provisioning_complete\nwill not be sent.\n\nRelated-Bug: #1813787\nChange-Id: I00c5e6e0b11929a5b98e21e21a1090b60466515e\n'}, {'number': 9, 'created': '2019-02-17 13:13:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ebb0c4815f390b7983020b067609d84288f31b7d', 'message': 'Check dvr local router is up during port creation\n\nSometimes the dvr local router can be still in processing\nbut the VM needs to send traffic via it or the proxy. So\nthis patch adds a status check during port creation. If\nthe local router is not up, then provisioning_complete\nwill not be sent.\n\nRelated-Bug: #1813787\nChange-Id: I00c5e6e0b11929a5b98e21e21a1090b60466515e\n'}, {'number': 10, 'created': '2019-02-19 08:45:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d75f93a6b871fe816016459e0a3c8fe23cf375b2', 'message': 'Check dvr local router is up during port creation\n\nSometimes the dvr local router can be still in processing\nbut the VM needs to send traffic via it or the proxy. So\nthis patch adds a status check during port creation. If\nthe local router is not up, then provisioning_complete\nwill not be sent.\n\nRelated-Bug: #1813787\nChange-Id: I00c5e6e0b11929a5b98e21e21a1090b60466515e\n'}, {'number': 11, 'created': '2019-04-16 13:17:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6f4de3945b23dab767051829c6e13c264ad8cb6f', 'message': 'Check dvr local router is up during port creation\n\nSometimes the dvr local router can be still in processing\nbut the VM needs to send traffic via it or the proxy. So\nthis patch adds a status check during port creation. If\nthe local router is not up, then provisioning_complete\nwill not be sent.\n\nRelated-Bug: #1813787\nChange-Id: I00c5e6e0b11929a5b98e21e21a1090b60466515e\n'}, {'number': 12, 'created': '2019-04-18 13:57:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5ad37e668c41a3b12716e930e6b9c48c1f393e88', 'message': 'Check dvr local router is up during port creation\n\nSometimes the dvr local router can be still in processing\nbut the VM needs to send traffic via it or the proxy. So\nthis patch adds a status check during port creation. If\nthe local router is not up, then provisioning_complete\nwill not be sent.\n\nRelated-Bug: #1813787\nChange-Id: I00c5e6e0b11929a5b98e21e21a1090b60466515e\n'}, {'number': 13, 'created': '2019-04-29 10:55:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9e51c5a69b76a082d985cf85b32f1f65fb83df26', 'message': 'Check dvr local router is up during port creation\n\nSometimes the dvr local router can be still in processing\nbut the VM needs to send traffic via it or the proxy. So\nthis patch adds a status check during port creation. If\nthe local router is not up, then provisioning_complete\nwill not be sent.\n\nRelated-Bug: #1813787\nChange-Id: I00c5e6e0b11929a5b98e21e21a1090b60466515e\n'}, {'number': 14, 'created': '2019-07-01 02:06:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c941043ab3d0d9893149d15cb7376fa967adf338', 'message': 'Check dvr local router is up during port creation\n\nSometimes the dvr local router can be still in processing\nbut the VM needs to send traffic via it or the proxy. So\nthis patch adds a status check during port creation. If\nthe local router is not up, then provisioning_complete\nwill not be sent.\n\nRelated-Bug: #1813787\nChange-Id: I00c5e6e0b11929a5b98e21e21a1090b60466515e\n'}, {'number': 15, 'created': '2019-07-30 14:50:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/40a32280ab1b43e6a6e8881f7458eaf2b8a6f8ef', 'message': 'Check dvr local router is up during port creation\n\nSometimes the dvr local router can be still in processing\nbut the VM needs to send traffic via it or the proxy. So\nthis patch adds a status check during port creation. If\nthe local router is not up, then provisioning_complete\nwill not be sent.\n\nRelated-Bug: #1813787\nChange-Id: I00c5e6e0b11929a5b98e21e21a1090b60466515e\n'}, {'number': 16, 'created': '2019-08-07 16:11:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/17db447076af7c9467cadda158bd9286061591b9', 'message': 'Check dvr local router is up during port creation\n\nSometimes the dvr local router can be still in processing\nbut the VM needs to send traffic via it or the proxy. So\nthis patch adds a status check during port creation. If\nthe local router is not up, then provisioning_complete\nwill not be sent.\n\nRelated-Bug: #1813787\nChange-Id: I00c5e6e0b11929a5b98e21e21a1090b60466515e\n'}, {'number': 17, 'created': '2019-08-08 04:08:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9f5be9b1ec90392f3c572e24c123bf3b22707808', 'message': 'Check dvr local router is up during port creation\n\nSometimes the dvr local router can be still in processing\nbut the VM needs to send traffic via it or the proxy. So\nthis patch adds a status check during port creation. If\nthe local router is not up, then provisioning_complete\nwill not be sent.\n\nRelated-Bug: #1813787\nChange-Id: I00c5e6e0b11929a5b98e21e21a1090b60466515e\n'}, {'number': 18, 'created': '2019-08-21 15:43:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ab5ad8ef5efec3cacb4dd98fe02bfcb58e58c202', 'message': 'Check dvr local router is up during port creation\n\nSometimes the dvr local router can be still in processing\nbut the VM needs to send traffic via it or the proxy. So\nthis patch adds a status check during port creation. If\nthe local router is not up, then provisioning_complete\nwill not be sent.\n\nRelated-Bug: #1813787\nChange-Id: I00c5e6e0b11929a5b98e21e21a1090b60466515e\n'}, {'number': 19, 'created': '2019-08-21 20:28:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c21cd6a6096c0b02e7855d02bafe39d7a4767313', 'message': 'Check dvr local router is up during port creation\n\nSometimes the dvr local router can be still in processing\nbut the VM needs to send traffic via it or the proxy. So\nthis patch adds a status check during port creation. If\nthe local router is not up, then provisioning_complete\nwill not be sent.\n\nRelated-Bug: #1813787\nChange-Id: I00c5e6e0b11929a5b98e21e21a1090b60466515e\n'}, {'number': 20, 'created': '2019-09-16 15:40:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/194873468873d50a32c5e710f8f35562ab4be135', 'message': 'Check dvr local router is up during port creation\n\nSometimes the dvr local router can be still in processing\nbut the VM needs to send traffic via it or the proxy. So\nthis patch adds a status check during port creation. If\nthe local router is not up, then provisioning_complete\nwill not be sent.\n\nRelated-Bug: #1813787\nChange-Id: I00c5e6e0b11929a5b98e21e21a1090b60466515e\n'}, {'number': 21, 'created': '2020-01-21 23:58:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7e02ee011cefe9e6650dff7faee76380b737d8a9', 'message': 'Check dvr local router is up during port creation\n\nSometimes the dvr local router can be still in processing\nbut the VM needs to send traffic via it or the proxy. So\nthis patch adds a status check during port creation. If\nthe local router is not up, then provisioning_complete\nwill not be sent.\n\nRelated-Bug: #1813787\nChange-Id: I00c5e6e0b11929a5b98e21e21a1090b60466515e\n'}, {'number': 22, 'created': '2020-03-10 03:39:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e927465202211edbf9bfc14a6a8ba40cd19c987b', 'message': 'Check dvr local router is up during port creation\n\nSometimes the dvr local router can be still in processing\nbut the VM needs to send traffic via it or the proxy. So\nthis patch adds a status check during port creation. If\nthe local router is not up, then provisioning_complete\nwill not be sent.\n\nRelated-Bug: #1813787\nChange-Id: I00c5e6e0b11929a5b98e21e21a1090b60466515e\n'}, {'number': 23, 'created': '2020-03-11 02:59:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a8c5df01d941292bfafceebb80df667d7ee5e76a', 'message': 'Check dvr local router is up during port creation\n\nSometimes the dvr local router can be still in processing\nbut the VM needs to send traffic via it or the proxy. So\nthis patch adds a status check during port creation. If\nthe local router is not up, then provisioning_complete\nwill not be sent.\n\nRelated-Bug: #1813787\nChange-Id: I00c5e6e0b11929a5b98e21e21a1090b60466515e\n'}, {'number': 24, 'created': '2020-03-14 05:21:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/20e34aca89da1dfe100eb67e1b02d9b2944b5df3', 'message': 'Check dvr local router is up during port creation\n\nSometimes the dvr local router can be still in processing\nbut the VM needs to send traffic via it or the proxy. So\nthis patch adds a status check during port creation. If\nthe local router is not up, then provisioning_complete\nwill not be sent.\n\nRelated-Bug: #1813787\nChange-Id: I00c5e6e0b11929a5b98e21e21a1090b60466515e\n'}, {'number': 25, 'created': '2020-03-24 07:29:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1147193da0d5e86928e098f3b4227c82483199bf', 'message': 'Check dvr local router is up during port creation\n\nSometimes the dvr local router can be still in processing\nbut the VM needs to send traffic via it or the proxy. So\nthis patch adds a status check during port creation. If\nthe local router is not up, then provisioning_complete\nwill not be sent.\n\nRelated-Bug: #1813787\nChange-Id: I00c5e6e0b11929a5b98e21e21a1090b60466515e\n'}, {'number': 26, 'created': '2020-05-20 15:49:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/80f3dfadc3b2d481744196b1a5921fff6f87bcc7', 'message': 'Check dvr local router is up during port creation\n\nSometimes the dvr local router can be still in processing\nbut the VM needs to send traffic via it or the proxy. So\nthis patch adds a status check during port creation. If\nthe local router is not up, then provisioning_complete\nwill not be sent.\n\nRelated-Bug: #1813787\nChange-Id: I00c5e6e0b11929a5b98e21e21a1090b60466515e\n'}, {'number': 27, 'created': '2021-04-21 08:19:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/90351875ea213aa48d91edbe90ff3788c83b163c', 'message': 'Check dvr local router is up during port creation\n\nSometimes the dvr local router can be still in processing\nbut the VM needs to send traffic via it or the proxy. So\nthis patch adds a status check during port creation. If\nthe local router is not up, then provisioning_complete\nwill not be sent.\n\nRelated-Bug: #1813787\nChange-Id: I00c5e6e0b11929a5b98e21e21a1090b60466515e\n'}, {'number': 28, 'created': '2021-04-22 03:48:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/573dc310ed7446b71be01723436f8106a0522f6b', 'message': 'Check dvr local router is up during port creation\n\nSometimes the dvr local router can be still in processing\nbut the VM needs to send traffic via it or the proxy. So\nthis patch adds a status check during port creation. If\nthe local router is not up, then provisioning_complete\nwill not be sent.\n\nRelated-Bug: #1813787\nChange-Id: I00c5e6e0b11929a5b98e21e21a1090b60466515e\n'}, {'number': 29, 'created': '2021-04-22 06:55:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/26e7b8187284f8073fdc010850b70ec5cc0bde24', 'message': 'Check dvr local router is up during port creation\n\nSometimes the dvr local router can be still in processing\nbut the VM needs to send traffic via it or the proxy. So\nthis patch adds a status check during port creation. If\nthe local router is not up, then provisioning_complete\nwill not be sent.\n\nRelated-Bug: #1813787\nChange-Id: I00c5e6e0b11929a5b98e21e21a1090b60466515e\n'}, {'number': 30, 'created': '2021-04-29 10:27:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e788f75a2f0964727e2c2bf5db2fc3d435d39e1e', 'message': 'Check dvr local router is up during port creation\n\nSometimes the dvr local router can be still in processing\nbut the VM needs to send traffic via it or the proxy. So\nthis patch adds a status check during port creation. If\nthe local router is not up, then provisioning_complete\nwill not be sent.\n\nCloses-Bug: #1813787\nChange-Id: I00c5e6e0b11929a5b98e21e21a1090b60466515e\n'}, {'number': 31, 'created': '2021-04-30 06:07:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3e8d448a9bee12dda3e94cf08e7059ab771b7aac', 'message': 'Check dvr local router is up during port creation\n\nSometimes the dvr local router can be still in processing\nbut the VM needs to send traffic via it or the proxy. So\nthis patch adds a status check during port creation. If\nthe local router is not up, then provisioning_complete\nwill not be sent.\n\nCloses-Bug: #1813787\nChange-Id: I00c5e6e0b11929a5b98e21e21a1090b60466515e\n'}, {'number': 32, 'created': '2021-05-14 11:40:11.000000000', 'files': ['neutron/tests/unit/db/test_l3_dvr_db.py', 'neutron/plugins/ml2/rpc.py', 'neutron/agent/l3/agent.py', 'neutron/db/l3_dvr_db.py', 'neutron/conf/common.py', 'neutron/db/l3_db.py', 'neutron/tests/unit/plugins/ml2/test_rpc.py', 'releasenotes/notes/check_router_is_up-38c11826653bf829.yaml', 'neutron/api/rpc/agentnotifiers/l3_rpc_agent_api.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/39f961b35c63b62a19e23f6a6878499d7615571f', 'message': 'Check dvr local router is up during port creation\n\nSometimes the dvr local router can be still in processing\nbut the VM needs to send traffic via it or the proxy. So\nthis patch adds a status check during port creation. If\nthe local router is not up, then provisioning_complete\nwill not be sent.\n\nCloses-Bug: #1813787\nChange-Id: I00c5e6e0b11929a5b98e21e21a1090b60466515e\n'}]",118,633871,39f961b35c63b62a19e23f6a6878499d7615571f,272,14,32,9531,,,0,"Check dvr local router is up during port creation

Sometimes the dvr local router can be still in processing
but the VM needs to send traffic via it or the proxy. So
this patch adds a status check during port creation. If
the local router is not up, then provisioning_complete
will not be sent.

Closes-Bug: #1813787
Change-Id: I00c5e6e0b11929a5b98e21e21a1090b60466515e
",git fetch https://review.opendev.org/openstack/neutron refs/changes/71/633871/32 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/l3/agent.py', 'neutron/plugins/ml2/rpc.py', 'neutron/db/l3_db.py', 'neutron/tests/unit/plugins/ml2/test_rpc.py', 'neutron/api/rpc/agentnotifiers/l3_rpc_agent_api.py']",5,a670b5c0aaba2679a533a9249f5165a855bd601b,bug/1813787," def is_router_up(self, context, router_id, host): cctxt = self.client.prepare(server=host, version='1.5') rpc_method = ag_utils.retry(cctxt.call, AGENT_NOTIFY_MAX_ATTEMPTS) return rpc_method(context, 'is_router_up', router_id=router_id)",,98,1
openstack%2Fneutron~master~I422d987eaa87ca2b93746e754487729ae42a60b2,openstack/neutron,master,I422d987eaa87ca2b93746e754487729ae42a60b2,Router scheduler based on bandwidth,ABANDONED,2019-05-26 17:54:01.000000000,2022-02-08 08:50:40.000000000,,"[{'_account_id': 9373}, {'_account_id': 9531}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 13995}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-05-26 17:54:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/bd1196b53a7ad1d77df02555bd7932ce5d3c79b0', 'message': 'Router scheduler based on bandwidth\n\nAdd `bandwidth` to the router to indicate the total\nbandwidth of a router can service.\n\nAdd new L3 router scheduler:\n    BandwidthLeastRoutersScheduler\n    AZBandwidthLeastRoutersScheduler\nthose schedulers will chose the agent which has the least\nrouter and its free bandwidth can meet the router total\nbandwidth.\n\nCloses-Bug: #1828494\nChange-Id: I422d987eaa87ca2b93746e754487729ae42a60b2\n'}, {'number': 2, 'created': '2019-05-27 10:41:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/21fe66b9282ce4287c5be617043b4f2a7375546d', 'message': 'Router scheduler based on bandwidth\n\nAdd `bandwidth` to the router to indicate the total\nbandwidth of a router can service.\n\nAdd new L3 router scheduler:\n    BandwidthLeastRoutersScheduler\n    AZBandwidthLeastRoutersScheduler\nthose schedulers will chose the agent which has the least\nrouter and its free bandwidth can meet the router total\nbandwidth.\n\nCloses-Bug: #1828494\nChange-Id: I422d987eaa87ca2b93746e754487729ae42a60b2\n'}, {'number': 3, 'created': '2019-05-27 11:39:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/bf47c7e9bcbfc2af83659d11297edc8517964e73', 'message': 'Router scheduler based on bandwidth\n\nAdd `bandwidth` to the router to indicate the total\nbandwidth of a router can service.\n\nAdd new L3 router scheduler:\n    BandwidthLeastRoutersScheduler\n    AZBandwidthLeastRoutersScheduler\nthose schedulers will chose the agent which has the least\nrouter and its free bandwidth can meet the router total\nbandwidth.\n\nCloses-Bug: #1828494\nChange-Id: I422d987eaa87ca2b93746e754487729ae42a60b2\n'}, {'number': 4, 'created': '2019-05-28 17:28:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/519ca8f7a2173bd91e9c611496baf23b75965081', 'message': 'Router scheduler based on bandwidth\n\nAdd `bandwidth` to the router to indicate the total\nbandwidth of a router can service.\n\nAdd new L3 router scheduler:\n    BandwidthLeastRoutersScheduler\n    AZBandwidthLeastRoutersScheduler\nthose schedulers will chose the agent which has the least\nrouter and its free bandwidth can meet the router total\nbandwidth.\n\nCloses-Bug: #1828494\nChange-Id: I422d987eaa87ca2b93746e754487729ae42a60b2\n'}, {'number': 5, 'created': '2019-07-02 14:32:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3681a98d80e00316bdce602002ec8dd4b720fa77', 'message': 'Router scheduler based on bandwidth\n\nAdd `bandwidth` to the router to indicate the total\nbandwidth of a router can service.\n\nAdd new L3 router scheduler:\n    BandwidthLeastRoutersScheduler\n    AZBandwidthLeastRoutersScheduler\nthose schedulers will chose the agent which has the least\nrouter and its free bandwidth can meet the router total\nbandwidth.\n\nCloses-Bug: #1828494\nChange-Id: I422d987eaa87ca2b93746e754487729ae42a60b2\n'}, {'number': 6, 'created': '2019-07-30 14:43:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/19ed666a50d42b565686f63a3cba9c6166853cec', 'message': 'Router scheduler based on bandwidth\n\nAdd `bandwidth` to the router to indicate the total\nbandwidth of a router can service.\n\nAdd new L3 router scheduler:\n    BandwidthLeastRoutersScheduler\n    AZBandwidthLeastRoutersScheduler\nthose schedulers will chose the agent which has the least\nrouter and its free bandwidth can meet the router total\nbandwidth.\n\nCloses-Bug: #1828494\nChange-Id: I422d987eaa87ca2b93746e754487729ae42a60b2\n'}, {'number': 7, 'created': '2019-08-07 16:10:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3dec2262ab315029d5f5c622b5b6a5e25e45548e', 'message': 'Router scheduler based on bandwidth\n\nAdd `bandwidth` to the router to indicate the total\nbandwidth of a router can service.\n\nAdd new L3 router scheduler:\n    BandwidthLeastRoutersScheduler\n    AZBandwidthLeastRoutersScheduler\nthose schedulers will chose the agent which has the least\nrouter and its free bandwidth can meet the router total\nbandwidth.\n\nCloses-Bug: #1828494\nChange-Id: I422d987eaa87ca2b93746e754487729ae42a60b2\n'}, {'number': 8, 'created': '2020-05-20 16:06:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/31d94f2bf13ac155e4862dc70743892655106256', 'message': 'Router scheduler based on bandwidth\n\nAdd `bandwidth` to the router to indicate the total\nbandwidth of a router can service.\n\nAdd new L3 router scheduler:\n    BandwidthLeastRoutersScheduler\n    AZBandwidthLeastRoutersScheduler\nthose schedulers will chose the agent which has the least\nrouter and its free bandwidth can meet the router total\nbandwidth.\n\nCloses-Bug: #1828494\nChange-Id: I422d987eaa87ca2b93746e754487729ae42a60b2\n'}, {'number': 9, 'created': '2021-04-21 00:58:39.000000000', 'files': ['neutron/extensions/_router_total_bandwidth.py', 'neutron/db/l3_hamode_db.py', 'neutron/db/migration/alembic_migrations/versions/EXPAND_HEAD', 'neutron/tests/unit/scheduler/test_l3_agent_scheduler.py', 'neutron/db/l3_db.py', 'neutron/conf/db/l3_db.py', 'neutron/db/migration/alembic_migrations/versions/xena/expand/65e1b5d44e31_router_bandwidth.py', 'neutron/db/models/l3.py', 'neutron/db/router_bandwidth.py', 'neutron/agent/l3/agent.py', 'neutron/tests/contrib/hooks/api_all_extensions', 'neutron/extensions/router_total_bandwidth.py', 'neutron/services/l3_router/l3_router_plugin.py', 'neutron/scheduler/l3_agent_scheduler.py', 'neutron/tests/common/helpers.py', 'neutron/conf/agent/l3/config.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/7f70ffca9221605fd8992e635e4e18d37d5523d7', 'message': 'Router scheduler based on bandwidth\n\nAdd `bandwidth` to the router to indicate the total\nbandwidth of a router can service.\n\nAdd new L3 router scheduler:\n    BandwidthLeastRoutersScheduler\n    AZBandwidthLeastRoutersScheduler\nthose schedulers will chose the agent which has the least\nrouter and its free bandwidth can meet the router total\nbandwidth.\n\nCloses-Bug: #1828494\nChange-Id: I422d987eaa87ca2b93746e754487729ae42a60b2\n'}]",0,661492,7f70ffca9221605fd8992e635e4e18d37d5523d7,58,10,9,9531,,,0,"Router scheduler based on bandwidth

Add `bandwidth` to the router to indicate the total
bandwidth of a router can service.

Add new L3 router scheduler:
    BandwidthLeastRoutersScheduler
    AZBandwidthLeastRoutersScheduler
those schedulers will chose the agent which has the least
router and its free bandwidth can meet the router total
bandwidth.

Closes-Bug: #1828494
Change-Id: I422d987eaa87ca2b93746e754487729ae42a60b2
",git fetch https://review.opendev.org/openstack/neutron refs/changes/92/661492/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/db/migration/alembic_migrations/versions/train/expand/65e1b5d44e31_router_bandwidth.py', 'neutron/extensions/_router_total_bandwidth.py', 'neutron/db/l3_hamode_db.py', 'neutron/db/migration/alembic_migrations/versions/EXPAND_HEAD', 'neutron/tests/unit/scheduler/test_l3_agent_scheduler.py', 'neutron/db/l3_db.py', 'neutron/conf/db/l3_db.py', 'neutron/db/models/l3.py', 'neutron/db/router_bandwidth.py', 'neutron/agent/l3/agent.py', 'neutron/tests/contrib/hooks/api_all_extensions', 'neutron/extensions/router_total_bandwidth.py', 'neutron/services/l3_router/l3_router_plugin.py', 'neutron/scheduler/l3_agent_scheduler.py', 'neutron/tests/common/helpers.py', 'neutron/conf/agent/l3/config.py']",16,bd1196b53a7ad1d77df02555bd7932ce5d3c79b0,change-661492-8," cfg.BoolOpt('enable_l3_bandwidth_report', default=False, help=_(""Whether to report L3 agent bandwidth usage."")), cfg.StrOpt('external_physical_interface', default='', help=_('The physical NIC name which was used for ' 'L3 external network traffic, ' 'for instance: eth0, enp0s3 and bond1 etc.')), cfg.IntOpt('external_physical_interface_bandwidth', default=1000, min=1, max=42949672960, # maximum is set to 40Gbps help=_('The physical NIC total bandwidth can be used ' 'by L3 routers, unit kbps.')), cfg.FloatOpt('external_bandwidth_ratio', default=1.0, help=_('L3 agent bandwidth allocation ratio. Default: 1.0')),",,640,32
openstack%2Fneutron~master~I1dd056f60df5cb971c7e601035baefc225a91763,openstack/neutron,master,I1dd056f60df5cb971c7e601035baefc225a91763,[L2 pop] Not clean table flows not handled by neutron,ABANDONED,2021-03-23 01:56:36.000000000,2022-02-08 08:50:27.000000000,,"[{'_account_id': 5948}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 32291}]","[{'number': 1, 'created': '2021-03-23 01:56:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/97be0c3780ccd401f30c4c84baa17d124e551e8a', 'message': '[L2 pop] Not clean table flows not handled by neutron\n\nFor bagpipe_bgpvpn it will handle the ARP responder and\ntunnel direct flows. For neutron we can disable the\n``arp_responder`` and ``l2_population`` when there are\nalternatives. So if Neutron does not handle related flows,\nit should not delete the flow during the agent restart.\n\nRelated-Bug: #1919107\nRelated-Bug: #1919104\n\nChange-Id: I1dd056f60df5cb971c7e601035baefc225a91763\n'}, {'number': 2, 'created': '2021-03-23 02:10:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/81ca0faf7b7bf9dbd851d9db03281b9481638500', 'message': '[L2 pop] Not clean table flows not handled by neutron\n\nFor bagpipe_bgpvpn it will handle the ARP responder and\ntunnel direct flows. For neutron we can disable the\n``arp_responder`` and ``l2_population`` when there are\nalternatives. So if Neutron does not handle related flows,\nit should not delete the flow during the agent restart.\n\nRelated-Bug: #1919107\nRelated-Bug: #1919104\n\nChange-Id: I1dd056f60df5cb971c7e601035baefc225a91763\n'}, {'number': 3, 'created': '2021-03-29 07:55:19.000000000', 'files': ['neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/openflow/native/br_tun.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/openflow/native/test_br_tun.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/common/constants.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/1bc22350b7f4c0bd03538f5465f8c38e6d13cb6a', 'message': '[L2 pop] Not clean table flows not handled by neutron\n\nFor bagpipe_bgpvpn it will handle the ARP responder and\ntunnel direct flows. For neutron we can disable the\n``arp_responder`` and ``l2_population`` when there are\nalternatives. So if Neutron does not handle related flows,\nit should not delete the flow during the agent restart.\n\nRelated-Bug: #1919107\nRelated-Bug: #1919104\n\nChange-Id: I1dd056f60df5cb971c7e601035baefc225a91763\n'}]",10,782345,1bc22350b7f4c0bd03538f5465f8c38e6d13cb6a,19,6,3,9531,,,0,"[L2 pop] Not clean table flows not handled by neutron

For bagpipe_bgpvpn it will handle the ARP responder and
tunnel direct flows. For neutron we can disable the
``arp_responder`` and ``l2_population`` when there are
alternatives. So if Neutron does not handle related flows,
it should not delete the flow during the agent restart.

Related-Bug: #1919107
Related-Bug: #1919104

Change-Id: I1dd056f60df5cb971c7e601035baefc225a91763
",git fetch https://review.opendev.org/openstack/neutron refs/changes/45/782345/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/openvswitch/agent/openflow/native/br_tun.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/openflow/native/test_br_tun.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/common/constants.py']",3,97be0c3780ccd401f30c4c84baa17d124e551e8a,bug/1919107-2,TUN_BR_ALL_TABLES = [ FLOOD_TO_TUN],TUN_BR_ALL_TABLES = ( FLOOD_TO_TUN),27,2
openstack%2Fneutron~master~Ibd44042ef4e87f52d818178a6391c02b21f4f30f,openstack/neutron,master,Ibd44042ef4e87f52d818178a6391c02b21f4f30f,"Revert ""DVR: Modify DVR flows to allow ARP requests to hit ARP Responder table""",ABANDONED,2021-03-05 02:12:25.000000000,2022-02-08 08:50:11.000000000,,"[{'_account_id': 1131}, {'_account_id': 4187}, {'_account_id': 5948}, {'_account_id': 7016}, {'_account_id': 8655}, {'_account_id': 8788}, {'_account_id': 9531}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 12860}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 18051}, {'_account_id': 22348}, {'_account_id': 23913}, {'_account_id': 26622}]","[{'number': 1, 'created': '2021-03-05 02:12:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6225cf18f663b1002214e610dc9ba892246b79cc', 'message': 'Revert ""DVR: Modify DVR flows to allow ARP requests to hit ARP Responder table""\n\nThis reverts commit 52b537ca22b2d7d81a84b2f75de577d8dffee94c.\n\nReason for revert:  The follow-up patch [1] will not be accepted.\nAnd this may be the reason of bug [2] and [3].\n\n\n[1] https://review.opendev.org/c/openstack/neutron/+/601336\n[2] https://bugs.launchpad.net/neutron/+bug/1913646\n[3] https://bugs.launchpad.net/neutron/+bug/1916761\n\nChange-Id: Ibd44042ef4e87f52d818178a6391c02b21f4f30f\n'}, {'number': 2, 'created': '2021-03-15 04:33:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/447502b4312f29165c30eb2d3a70e9b3817a21e4', 'message': 'Revert ""DVR: Modify DVR flows to allow ARP requests to hit ARP Responder table""\n\nThis reverts commit 52b537ca22b2d7d81a84b2f75de577d8dffee94c [5].\n\nReason for revert:  The follow-up patch [1] will not be accepted.\nAnd this may be the reason of bug [2] and [3].\n\nThis also reverts commit 3027b66c3854c183899e4e0774a92b965aa049d4 [4],\nbecause it is a follow-up fix for [5].\n\nThis revert has conflicts with commit 329ea19f8b881421b9b5ae2fcc855f96af72a9f5 [6],\nneeds pay attention to that.\n\n[1] https://review.opendev.org/c/openstack/neutron/+/601336\n[2] https://bugs.launchpad.net/neutron/+bug/1913646\n[3] https://bugs.launchpad.net/neutron/+bug/1916761\n[4] https://review.opendev.org/c/openstack/neutron/+/665175\n[5] https://review.opendev.org/c/openstack/neutron/+/651905\n[6] https://review.opendev.org/c/openstack/neutron/+/752248\n\nChange-Id: Ibd44042ef4e87f52d818178a6391c02b21f4f30f\n'}, {'number': 3, 'created': '2021-03-15 08:48:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7697e60ccc77827d52988a5e08616808eef399db', 'message': 'Revert ""DVR: Modify DVR flows to allow ARP requests to hit ARP Responder table""\n\nThis reverts commit 52b537ca22b2d7d81a84b2f75de577d8dffee94c [5].\n\nReason for revert:  The follow-up patch [1] will not be accepted.\nAnd this may be the reason of bug [2] and [3].\n\nThis also reverts commit 3027b66c3854c183899e4e0774a92b965aa049d4 [4],\nbecause it is a follow-up fix for [5].\n\nThis revert has conflicts with commit 329ea19f8b881421b9b5ae2fcc855f96af72a9f5 [6],\nneeds pay attention to that.\n\n[1] https://review.opendev.org/c/openstack/neutron/+/601336\n[2] https://bugs.launchpad.net/neutron/+bug/1913646\n[3] https://bugs.launchpad.net/neutron/+bug/1916761\n[4] https://review.opendev.org/c/openstack/neutron/+/665175\n[5] https://review.opendev.org/c/openstack/neutron/+/651905\n[6] https://review.opendev.org/c/openstack/neutron/+/752248\n\nChange-Id: Ibd44042ef4e87f52d818178a6391c02b21f4f30f\n'}, {'number': 4, 'created': '2021-03-17 08:24:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d8b39245854f07f2f74c1ad695897832d389e4d2', 'message': 'Revert ""DVR: Modify DVR flows to allow ARP requests to hit ARP Responder table""\n\nThis reverts commit 52b537ca22b2d7d81a84b2f75de577d8dffee94c [5].\n\nReason for revert:  The follow-up patch [1] will not be accepted.\nAnd this may be the reason of bug [2] and [3].\n\nThis also reverts commit 3027b66c3854c183899e4e0774a92b965aa049d4 [4],\nbecause it is a follow-up fix for [5].\n\nThis also reverts commit ea85e39660abaa224c159c42214fdb7042302bea [7]\nsince [5] and [8] are all reverted.\n\nThis revert has conflicts with commit 329ea19f8b881421b9b5ae2fcc855f96af72a9f5 [6],\nneeds pay attention to that.\n\n[1] https://review.opendev.org/c/openstack/neutron/+/601336\n[2] https://bugs.launchpad.net/neutron/+bug/1913646\n[3] https://bugs.launchpad.net/neutron/+bug/1916761\n[4] https://review.opendev.org/c/openstack/neutron/+/665175\n[5] https://review.opendev.org/c/openstack/neutron/+/651905\n[6] https://review.opendev.org/c/openstack/neutron/+/752248\n[7] https://review.opendev.org/c/openstack/neutron/+/669938\n[8] https://review.opendev.org/c/openstack/neutron/+/653883\n\nChange-Id: Ibd44042ef4e87f52d818178a6391c02b21f4f30f\n'}, {'number': 5, 'created': '2021-03-19 09:09:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b3c979822cacb5d04a9c86c8ae4a0b8861558e25', 'message': 'Revert ""DVR: Modify DVR flows to allow ARP requests to hit ARP Responder table""\n\nThis reverts commit 52b537ca22b2d7d81a84b2f75de577d8dffee94c [5].\n\nReason for revert:  The follow-up patch [1] will not be accepted.\nAnd this may be the reason of bug [2] and [3].\n\nThis also reverts commit 3027b66c3854c183899e4e0774a92b965aa049d4 [4],\nbecause it is a follow-up fix for [5].\n\nThis also reverts commit ea85e39660abaa224c159c42214fdb7042302bea [7]\nsince [5] and [8] are all reverted.\n\nThis revert has conflicts with commit 329ea19f8b881421b9b5ae2fcc855f96af72a9f5 [6],\nneeds pay attention to that.\n\n[1] https://review.opendev.org/c/openstack/neutron/+/601336\n[2] https://bugs.launchpad.net/neutron/+bug/1913646\n[3] https://bugs.launchpad.net/neutron/+bug/1916761\n[4] https://review.opendev.org/c/openstack/neutron/+/665175\n[5] https://review.opendev.org/c/openstack/neutron/+/651905\n[6] https://review.opendev.org/c/openstack/neutron/+/752248\n[7] https://review.opendev.org/c/openstack/neutron/+/669938\n[8] https://review.opendev.org/c/openstack/neutron/+/653883\n\nChange-Id: Ibd44042ef4e87f52d818178a6391c02b21f4f30f\n'}, {'number': 6, 'created': '2021-03-19 09:24:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1b0a831e5e52ad7c5cd2d4e40db52af1c0615223', 'message': 'Revert ""DVR: Modify DVR flows to allow ARP requests to hit ARP Responder table""\n\nThis reverts commit 52b537ca22b2d7d81a84b2f75de577d8dffee94c [5].\n\nReason for revert:  The follow-up patch [1] will not be accepted.\nAnd this may be the reason of bug [2] and [3].\n\nThis also reverts commit 3027b66c3854c183899e4e0774a92b965aa049d4 [4],\nbecause it is a follow-up fix for [5].\n\nThis also reverts commit ea85e39660abaa224c159c42214fdb7042302bea [7]\nsince [5] and [8] are all reverted.\n\nThis revert has conflicts with commit 329ea19f8b881421b9b5ae2fcc855f96af72a9f5 [6],\nneeds pay attention to that.\n\n[1] https://review.opendev.org/c/openstack/neutron/+/601336\n[2] https://bugs.launchpad.net/neutron/+bug/1913646\n[3] https://bugs.launchpad.net/neutron/+bug/1916761\n[4] https://review.opendev.org/c/openstack/neutron/+/665175\n[5] https://review.opendev.org/c/openstack/neutron/+/651905\n[6] https://review.opendev.org/c/openstack/neutron/+/752248\n[7] https://review.opendev.org/c/openstack/neutron/+/669938\n[8] https://review.opendev.org/c/openstack/neutron/+/653883\n\nChange-Id: Ibd44042ef4e87f52d818178a6391c02b21f4f30f\n'}, {'number': 7, 'created': '2021-03-23 01:15:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f9b211fc21d8b6ebf69ef5713e218418d6865bc5', 'message': 'Revert ""DVR: Modify DVR flows to allow ARP requests to hit ARP Responder table""\n\nThis reverts commit 52b537ca22b2d7d81a84b2f75de577d8dffee94c [5].\n\nReason for revert:  The follow-up patch [1] will not be accepted.\nAnd this may be the reason of bug [2] and [3].\n\nThis also reverts commit 3027b66c3854c183899e4e0774a92b965aa049d4 [4],\nbecause it is a follow-up fix for [5].\n\nThis also reverts commit ea85e39660abaa224c159c42214fdb7042302bea [7]\nsince [5] and [8] are all reverted.\n\nThis revert has conflicts with commit 329ea19f8b881421b9b5ae2fcc855f96af72a9f5 [6],\nneeds pay attention to that.\n\n[1] https://review.opendev.org/c/openstack/neutron/+/601336\n[2] https://bugs.launchpad.net/neutron/+bug/1913646\n[3] https://bugs.launchpad.net/neutron/+bug/1916761\n[4] https://review.opendev.org/c/openstack/neutron/+/665175\n[5] https://review.opendev.org/c/openstack/neutron/+/651905\n[6] https://review.opendev.org/c/openstack/neutron/+/752248\n[7] https://review.opendev.org/c/openstack/neutron/+/669938\n[8] https://review.opendev.org/c/openstack/neutron/+/653883\n\nChange-Id: Ibd44042ef4e87f52d818178a6391c02b21f4f30f\n'}, {'number': 8, 'created': '2021-03-26 06:03:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3d32a2705f09c003eede42e7cf9b738a639eec47', 'message': 'Revert ""DVR: Modify DVR flows to allow ARP requests to hit ARP Responder table""\n\nThis reverts commit 52b537ca22b2d7d81a84b2f75de577d8dffee94c [5].\n\nReason for revert:  The follow-up patch [1] will not be accepted.\nAnd this may be the reason of bug [2] and [3].\n\nThis also reverts commit 3027b66c3854c183899e4e0774a92b965aa049d4 [4],\nbecause it is a follow-up fix for [5].\n\nThis also reverts commit ea85e39660abaa224c159c42214fdb7042302bea [7]\nsince [5] and [8] are all reverted.\n\nThis revert has conflicts with commit 329ea19f8b881421b9b5ae2fcc855f96af72a9f5 [6],\nneeds pay attention to that.\n\n[1] https://review.opendev.org/c/openstack/neutron/+/601336\n[2] https://bugs.launchpad.net/neutron/+bug/1913646\n[3] https://bugs.launchpad.net/neutron/+bug/1916761\n[4] https://review.opendev.org/c/openstack/neutron/+/665175\n[5] https://review.opendev.org/c/openstack/neutron/+/651905\n[6] https://review.opendev.org/c/openstack/neutron/+/752248\n[7] https://review.opendev.org/c/openstack/neutron/+/669938\n[8] https://review.opendev.org/c/openstack/neutron/+/653883\n\nChange-Id: Ibd44042ef4e87f52d818178a6391c02b21f4f30f\n'}, {'number': 9, 'created': '2021-03-26 09:20:53.000000000', 'files': ['neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/openflow/native/br_dvr_process.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/ovs_dvr_neutron_agent.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/openflow/native/ovs_bridge_test_base.py', 'releasenotes/notes/not-force-arp-responder-true-07c8bc72d7d78486.yaml', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/openflow/native/test_br_int.py', 'neutron/conf/plugins/ml2/drivers/ovs_conf.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/common/constants.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/openflow/native/br_int.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/test_ovs_neutron_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/ece54ae014d0619430ef1fc5984bcf1a1eefc6a7', 'message': 'Revert ""DVR: Modify DVR flows to allow ARP requests to hit ARP Responder table""\n\nThis reverts commit 52b537ca22b2d7d81a84b2f75de577d8dffee94c [5].\n\nReason for revert:  The follow-up patch [1] will not be accepted.\nAnd this may be the reason of bug [2] and [3].\n\nThis also reverts commit 3027b66c3854c183899e4e0774a92b965aa049d4 [4],\nbecause it is a follow-up fix for [5].\n\nThis also reverts commit ea85e39660abaa224c159c42214fdb7042302bea [7]\nsince [5] and [8] are all reverted.\n\nThis revert has conflicts with commit 329ea19f8b881421b9b5ae2fcc855f96af72a9f5 [6],\nneeds pay attention to that.\n\n[1] https://review.opendev.org/c/openstack/neutron/+/601336\n[2] https://bugs.launchpad.net/neutron/+bug/1913646\n[3] https://bugs.launchpad.net/neutron/+bug/1916761\n[4] https://review.opendev.org/c/openstack/neutron/+/665175\n[5] https://review.opendev.org/c/openstack/neutron/+/651905\n[6] https://review.opendev.org/c/openstack/neutron/+/752248\n[7] https://review.opendev.org/c/openstack/neutron/+/669938\n[8] https://review.opendev.org/c/openstack/neutron/+/653883\n\nChange-Id: Ibd44042ef4e87f52d818178a6391c02b21f4f30f\n'}]",11,778820,ece54ae014d0619430ef1fc5984bcf1a1eefc6a7,60,17,9,9531,,,0,"Revert ""DVR: Modify DVR flows to allow ARP requests to hit ARP Responder table""

This reverts commit 52b537ca22b2d7d81a84b2f75de577d8dffee94c [5].

Reason for revert:  The follow-up patch [1] will not be accepted.
And this may be the reason of bug [2] and [3].

This also reverts commit 3027b66c3854c183899e4e0774a92b965aa049d4 [4],
because it is a follow-up fix for [5].

This also reverts commit ea85e39660abaa224c159c42214fdb7042302bea [7]
since [5] and [8] are all reverted.

This revert has conflicts with commit 329ea19f8b881421b9b5ae2fcc855f96af72a9f5 [6],
needs pay attention to that.

[1] https://review.opendev.org/c/openstack/neutron/+/601336
[2] https://bugs.launchpad.net/neutron/+bug/1913646
[3] https://bugs.launchpad.net/neutron/+bug/1916761
[4] https://review.opendev.org/c/openstack/neutron/+/665175
[5] https://review.opendev.org/c/openstack/neutron/+/651905
[6] https://review.opendev.org/c/openstack/neutron/+/752248
[7] https://review.opendev.org/c/openstack/neutron/+/669938
[8] https://review.opendev.org/c/openstack/neutron/+/653883

Change-Id: Ibd44042ef4e87f52d818178a6391c02b21f4f30f
",git fetch https://review.opendev.org/openstack/neutron refs/changes/20/778820/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/openflow/native/br_dvr_process.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/ovs_dvr_neutron_agent.py', '.zuul.yaml', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/openflow/native/ovs_bridge_test_base.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/common/constants.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/openflow/native/br_int.py']",7,6225cf18f663b1002214e610dc9ba892246b79cc,dvr_revert,," def _arp_dvr_dst_mac_match(ofp, ofpp, vlan, dvr_mac): # If eth_dst is equal to the dvr mac of this host, then # flag it as matched. return ofpp.OFPMatch(vlan_vid=vlan | ofp.OFPVID_PRESENT, eth_dst=dvr_mac) @staticmethod def _dvr_dst_mac_table_id(network_type): if network_type == p_const.TYPE_VLAN: return constants.ARP_DVR_MAC_TO_DST_MAC_VLAN else: return constants.ARP_DVR_MAC_TO_DST_MAC def install_dvr_dst_mac_for_arp(self, network_type, vlan_tag, gateway_mac, dvr_mac, rtr_port): table_id = self._dvr_dst_mac_table_id(network_type) # Match the destination MAC with the DVR MAC (_dp, ofp, ofpp) = self._get_dp() match = self._arp_dvr_dst_mac_match(ofp, ofpp, vlan_tag, dvr_mac) # Incoming packet will come with destination MAC of DVR host MAC from # the ARP Responder. The Source MAC in this case will have the source # MAC of the port MAC that responded from the ARP responder. # So just remove the DVR host MAC from the 'eth_dst' and replace it # with the gateway-mac. The packet should end up in the right the table # for the packet to reach the router interface. actions = [ ofpp.OFPActionSetField(eth_dst=gateway_mac), ofpp.OFPActionPopVlan(), ofpp.OFPActionOutput(rtr_port, 0) ] self.install_apply_actions(table_id=table_id, priority=5, match=match, actions=actions) @staticmethod def delete_dvr_dst_mac_for_arp(self, network_type, vlan_tag, gateway_mac, dvr_mac, rtr_port): table_id = self._dvr_to_src_mac_table_id(network_type) (_dp, ofp, ofpp) = self._get_dp() match = self._arp_dvr_dst_mac_match(ofp, ofpp, vlan_tag, dvr_mac) for table in table_id: self.uninstall_flows( strict=True, priority=5, table_id=table, match=match) def add_dvr_gateway_mac_arp_vlan(self, mac, port): self.install_goto(table_id=constants.LOCAL_SWITCHING, priority=5, in_port=port, eth_dst=mac, dest_table_id=constants.ARP_DVR_MAC_TO_DST_MAC_VLAN) def remove_dvr_gateway_mac_arp_vlan(self, mac, port): self.uninstall_flows(table_id=constants.LOCAL_SWITCHING, eth_dst=mac) def add_dvr_gateway_mac_arp_tun(self, mac, port): self.install_goto(table_id=constants.LOCAL_SWITCHING, priority=5, in_port=port, eth_dst=mac, dest_table_id=constants.ARP_DVR_MAC_TO_DST_MAC) def remove_dvr_gateway_mac_arp_tun(self, mac, port): self.uninstall_flows(table_id=constants.LOCAL_SWITCHING, eth_dst=mac) ",12,124
openstack%2Fbifrost~stable%2Fxena~I17becbd7848e42ce51c2176cff886f23f35364f4,openstack/bifrost,stable/xena,I17becbd7848e42ce51c2176cff886f23f35364f4,"Revert ""Install libvirt-python from source instead of a wheel""",MERGED,2022-02-07 18:26:00.000000000,2022-02-08 08:49:46.000000000,2022-02-08 08:47:58.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2022-02-07 18:26:00.000000000', 'files': ['releasenotes/notes/libvirt-not-importable-c8e88a8ef11a1f09.yaml', 'playbooks/roles/bifrost-create-vm-nodes/tasks/prepare_libvirt.yml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/fe0bccb56d8b12a76fb0290a99149b7a78b1682d', 'message': 'Revert ""Install libvirt-python from source instead of a wheel""\n\nThis reverts commit 79c8418ead5ead97494497b998aa6c03e27b87bf.\n\nReason for revert: hopefully no longer needed.\n\nChange-Id: I17becbd7848e42ce51c2176cff886f23f35364f4\n(cherry picked from commit 6323ae7706d34494060d9ab50e21c282dcb80b27)\n'}]",0,828178,fe0bccb56d8b12a76fb0290a99149b7a78b1682d,8,3,1,10239,,,0,"Revert ""Install libvirt-python from source instead of a wheel""

This reverts commit 79c8418ead5ead97494497b998aa6c03e27b87bf.

Reason for revert: hopefully no longer needed.

Change-Id: I17becbd7848e42ce51c2176cff886f23f35364f4
(cherry picked from commit 6323ae7706d34494060d9ab50e21c282dcb80b27)
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/78/828178/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/libvirt-not-importable-c8e88a8ef11a1f09.yaml', 'playbooks/roles/bifrost-create-vm-nodes/tasks/prepare_libvirt.yml']",2,fe0bccb56d8b12a76fb0290a99149b7a78b1682d,,"- name: install libvirt-python, gunicorn and lxml - libvirt-python","- name: install gunicorn and lxml- name: install libvirt-python include_role: name: bifrost-pip-install vars: package: libvirt-python # FIXME(dtantsur): libvirt-python 7.5.0 cannot be used when installed from # a wheel, force a source installation extra_args: --no-binary libvirt-python ",2,15
openstack%2Fneutron-specs~master~I61340bba49ed3ffd33566ff505b074a4a5109337,openstack/neutron-specs,master,I61340bba49ed3ffd33566ff505b074a4a5109337,L3 agent self-service metering,ABANDONED,2019-05-11 00:23:18.000000000,2022-02-08 08:49:40.000000000,,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 8313}, {'_account_id': 9531}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 27430}, {'_account_id': 28356}, {'_account_id': 30609}]","[{'number': 1, 'created': '2019-05-11 00:23:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/748aa4ece0466d69da952df8e6e82c11599c134e', 'message': 'L3 agent self-service metering\n\nChange-Id: I61340bba49ed3ffd33566ff505b074a4a5109337\nPartial-Bug: #1817881\n'}, {'number': 2, 'created': '2019-05-11 01:17:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/1829c8bb8a265ca01f29682d6d37882576f8c8e0', 'message': 'L3 agent self-service metering\n\nChange-Id: I61340bba49ed3ffd33566ff505b074a4a5109337\nPartial-Bug: #1817881\n'}, {'number': 3, 'created': '2019-05-12 11:53:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/fb513c288ff84b8718aeab85a316d575de8b67be', 'message': 'L3 agent self-service metering\n\nChange-Id: I61340bba49ed3ffd33566ff505b074a4a5109337\nPartial-Bug: #1817881\n'}, {'number': 4, 'created': '2019-07-26 15:31:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/64cd34fd726a90907de456eff2d561554ded11e5', 'message': 'L3 agent self-service metering\n\nChange-Id: I61340bba49ed3ffd33566ff505b074a4a5109337\nPartial-Bug: #1817881\n'}, {'number': 5, 'created': '2019-08-02 06:12:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/b8941024fe3a5d1b335462c7d360cadaadc227fb', 'message': 'L3 agent self-service metering\n\nChange-Id: I61340bba49ed3ffd33566ff505b074a4a5109337\nPartial-Bug: #1817881\n'}, {'number': 6, 'created': '2019-11-11 09:50:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/5cc525ca5613eacaf674f9414170a632edf6edf2', 'message': 'L3 agent self-service metering\n\nChange-Id: I61340bba49ed3ffd33566ff505b074a4a5109337\nPartial-Bug: #1817881\n'}, {'number': 7, 'created': '2019-11-11 10:49:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/f6af08ab3ccf87020b388e60b4e6f7b3ff8dfc3d', 'message': 'L3 agent self-service metering\n\nChange-Id: I61340bba49ed3ffd33566ff505b074a4a5109337\nPartial-Bug: #1817881\n'}, {'number': 8, 'created': '2020-05-20 15:51:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/a0f800ee07c2412e1e8ee5c442264f6ea806d593', 'message': 'L3 agent self-service metering\n\nChange-Id: I61340bba49ed3ffd33566ff505b074a4a5109337\nPartial-Bug: #1817881\n'}, {'number': 9, 'created': '2020-05-20 15:55:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/29a4000e1f78b301168130d01327b5d27dc57960', 'message': 'L3 agent self-service metering\n\nChange-Id: I61340bba49ed3ffd33566ff505b074a4a5109337\nPartial-Bug: #1817881\n'}, {'number': 10, 'created': '2020-05-23 00:46:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/794785080a3ebe7d7b32e90d41be917372a7f061', 'message': 'L3 agent self-service metering\n\nChange-Id: I61340bba49ed3ffd33566ff505b074a4a5109337\nPartial-Bug: #1817881\n'}, {'number': 11, 'created': '2020-12-18 09:39:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/7679e6802b1a7c22b45ce9e40668c85ef7cd0e2a', 'message': 'L3 agent self-service metering\n\nChange-Id: I61340bba49ed3ffd33566ff505b074a4a5109337\nPartial-Bug: #1817881\n'}, {'number': 12, 'created': '2020-12-21 01:11:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/16f7ed71b52f7ca62ee592937af70747f92cb63d', 'message': 'L3 agent self-service metering\n\nChange-Id: I61340bba49ed3ffd33566ff505b074a4a5109337\nPartial-Bug: #1817881\n'}, {'number': 13, 'created': '2020-12-21 01:38:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/2b9a3f1caabc1727bb71c6eae23e69050f083246', 'message': 'L3 agent self-service metering\n\nChange-Id: I61340bba49ed3ffd33566ff505b074a4a5109337\nPartial-Bug: #1817881\n'}, {'number': 14, 'created': '2021-01-05 07:13:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/5f3ef1191e2835a3471de772fbb9f08e822b1b03', 'message': 'L3 agent self-service metering\n\nChange-Id: I61340bba49ed3ffd33566ff505b074a4a5109337\nPartial-Bug: #1817881\n'}, {'number': 15, 'created': '2021-02-03 04:29:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/c83a59a7b124de570f29e0e466cc1401ecc13612', 'message': 'L3 agent self-service metering\n\nChange-Id: I61340bba49ed3ffd33566ff505b074a4a5109337\nPartial-Bug: #1817881\n'}, {'number': 16, 'created': '2021-03-31 03:55:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/724e3aaf2c310be02ef2da1231e36cad5e9ca452', 'message': 'L3 agent self-service metering\n\nChange-Id: I61340bba49ed3ffd33566ff505b074a4a5109337\nPartial-Bug: #1817881\n'}, {'number': 17, 'created': '2021-05-21 01:18:58.000000000', 'files': ['specs/xena/l3-ips-metering.rst'], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/2aa6a0116a2c1c7bb337688f8bec16a8ef0d4dff', 'message': 'L3 agent self-service metering\n\nChange-Id: I61340bba49ed3ffd33566ff505b074a4a5109337\nPartial-Bug: #1817881\n'}]",66,658511,2aa6a0116a2c1c7bb337688f8bec16a8ef0d4dff,57,10,17,9531,,,0,"L3 agent self-service metering

Change-Id: I61340bba49ed3ffd33566ff505b074a4a5109337
Partial-Bug: #1817881
",git fetch https://review.opendev.org/openstack/neutron-specs refs/changes/11/658511/3 && git format-patch -1 --stdout FETCH_HEAD,['specs/train/l3-ips-metering.rst'],1,748aa4ece0466d69da952df8e6e82c11599c134e,bug/1817881,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ============================== L3 agent self-service metering ============================== RFE: https://bugs.launchpad.net/neutron/+bug/1817881 For now, L3 IPs are all have bandwidth QoS functionality [1]_ [2]_ [3]_ . Floating IPs and gateway IPs have the same TC rules. And for one specific IP, it can not be set in two hosts for current neutron architecture. That is saying, where the IP is working, we can retrieve the traffic statistic data for it. This spec describes how to add a built-in L3 extension to collect and report L3 IPs traffic usage. Problem Description =================== The metering agent is a bit heavy for the cloud deployment. Users need to add extra actions to enable the metering functionality. And more agent increase the centralized message queue pressure. Proposed Change =============== For this proposal here, a new L3 agent extension will be added to achieve the L3 IP metering. Solution Proposed ----------------- Server side changes +++++++++++++++++++ * Both router and floating IPs will have a defult QoS policy binding mechanism which means neutron server will set a default QoS policy ID for router gateway IPs and floating IPs. L3 agent side changes +++++++++++++++++++++ The following output is an TC filter rules for one router: :: # ip netns exec snat-867e1473-4495-4513-8759-dee4cb1b9cef tc -s -d -p filter show dev qg-91293cf7-64 filter parent 1: protocol ip pref 1 u32 filter parent 1: protocol ip pref 1 u32 fh 800: ht divisor 1 filter parent 1: protocol ip pref 1 u32 fh 800::800 order 2048 key ht 800 bkt 0 flowid :1 not_in_hw (rule hit 180 success 180) match IP src 172.16.100.10/32 (success 180 ) police 0x2 rate 1024Kbit burst 128Kb mtu 64Kb action drop overhead 0b linklayer ethernet ref 1 bind 1 installed 86737 sec used 439 sec Sent 17640 bytes 180 pkts (dropped 0, overlimits 0) The last line is the statistical data for this proposal. Then l3-agent will complete the following tasks: 1. retrieve the data from the TC rules periodically 2. store the data to local store file 3. report the data to ceilometer/metering service via RPC notification or UDP 4. (optional) Some other service like zabbix read the local store data or report to it. Potential configurations ++++++++++++++++++++++++ A new config section [metering] will be added to l3-agent config: :: [metering] enable_l3_metering = True metering_store_path = /var/lib/neutron metering_interval = 30 metering_report_interval = 30 metering_method = notification, udp... For neutron server, the following config will be added: :: [DEFAULT] floating_ip_default_qos_policy = <a-policy-uuid> router_gateway_ip_default_qos_policy = <a-policy-uuid> The neutron basic workflow -------------------------- If the default QoS policy is configured, then we can say all L3 IPs will be set under a bandwidth restriction. And if IPs is finnally installed to the L3 agent, the tc rules will be created, and metering can start if agent enable it by ```enable_l3_metering = True`. Data Model Impact ----------------- None REST API Impact --------------- None Implementation ============== Assignee(s) ----------- * LIU Yulong <i@liuyulong.me> Work Items ---------- * Create API shim extension for default QoS policy. * Create agent extension. * Testing. * Documentation. Dependencies ============ None Testing ======= Functionality ------------- IP usage monitoring in various scenarios, such as, admin state DOWN/UP, HA failover, distributed floating IPs, centralized floating IPs. References ========== .. [1] `Layer 3 IPs rate limit <http://specs.openstack.org/openstack/neutron-specs/specs/queens/layer-3-rate-limit.html>`_ .. [2] `Implementation of floating IP QoS <https://review.opendev.org/#/q/topic:bp/floating-ip-rate-limit>`_ .. [3] `Implementation of router gateway IP QoS <https://review.opendev.org/#/q/topic:bug/1757044>`_ ",,152,0
openstack%2Fneutron-specs~master~I56588948485c4274f7e0cc1dd0542e09d824719f,openstack/neutron-specs,master,I56588948485c4274f7e0cc1dd0542e09d824719f,L3 agent capacity and scheduling,ABANDONED,2019-05-10 18:35:23.000000000,2022-02-08 08:49:08.000000000,,"[{'_account_id': 841}, {'_account_id': 1131}, {'_account_id': 4187}, {'_account_id': 4694}, {'_account_id': 6854}, {'_account_id': 7016}, {'_account_id': 9531}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-10 18:35:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/c514e6dc0deaf0562116eb17217e230134189b7e', 'message': 'L3 agent capacity and scheduling\n\nChange-Id: I56588948485c4274f7e0cc1dd0542e09d824719f\nPartial-Bug: #1596611\n'}, {'number': 2, 'created': '2019-05-10 18:36:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/c353ed4de8324a62148cb6b7ceb63b648f45ba8d', 'message': 'L3 agent capacity and scheduling\n\nPartial-Bug: #1828494\nChange-Id: I56588948485c4274f7e0cc1dd0542e09d824719f\n'}, {'number': 3, 'created': '2019-05-10 22:48:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/c008f1c056c88d059e039638627412a53709df2c', 'message': 'L3 agent capacity and scheduling\n\nPartial-Bug: #1828494\nChange-Id: I56588948485c4274f7e0cc1dd0542e09d824719f\n'}, {'number': 4, 'created': '2019-05-11 00:27:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/cfbfbedd3ae91d5387922e808d1e42847a8f4568', 'message': 'L3 agent capacity and scheduling\n\nPartial-Bug: #1828494\nChange-Id: I56588948485c4274f7e0cc1dd0542e09d824719f\n'}, {'number': 5, 'created': '2019-05-12 11:51:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/8669ab4ff25513f6ba2f25bcddd8e1f07655f2d9', 'message': 'L3 agent capacity and scheduling\n\nPartial-Bug: #1828494\nChange-Id: I56588948485c4274f7e0cc1dd0542e09d824719f\n'}, {'number': 6, 'created': '2019-05-24 10:56:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/57863abe62267fdabb4db60a04568e493fe64563', 'message': 'L3 agent capacity and scheduling\n\nPartial-Bug: #1828494\nChange-Id: I56588948485c4274f7e0cc1dd0542e09d824719f\n'}, {'number': 7, 'created': '2019-11-11 11:11:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/f331230cb817ec476eda1cd188ee06b052220e32', 'message': 'L3 agent capacity and scheduling\n\nPartial-Bug: #1828494\nChange-Id: I56588948485c4274f7e0cc1dd0542e09d824719f\n'}, {'number': 8, 'created': '2020-05-23 01:31:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/f10fb9562334a973566446d61efe50300e7dc669', 'message': 'L3 agent capacity and scheduling\n\nPartial-Bug: #1828494\nChange-Id: I56588948485c4274f7e0cc1dd0542e09d824719f\n'}, {'number': 9, 'created': '2021-01-05 07:16:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/fe379ee6bf1226946dddc575ffbc6b1781e0a39a', 'message': 'L3 agent capacity and scheduling\n\nPartial-Bug: #1828494\nChange-Id: I56588948485c4274f7e0cc1dd0542e09d824719f\n'}, {'number': 10, 'created': '2021-03-31 02:54:18.000000000', 'files': ['specs/xena/l3-agent-capacity.rst'], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/d283134c8e2888c3d6451a51b9a7dc73c60e21c2', 'message': 'L3 agent capacity and scheduling\n\nPartial-Bug: #1828494\nChange-Id: I56588948485c4274f7e0cc1dd0542e09d824719f\n'}]",93,658451,d283134c8e2888c3d6451a51b9a7dc73c60e21c2,46,10,10,9531,,,0,"L3 agent capacity and scheduling

Partial-Bug: #1828494
Change-Id: I56588948485c4274f7e0cc1dd0542e09d824719f
",git fetch https://review.opendev.org/openstack/neutron-specs refs/changes/51/658451/2 && git format-patch -1 --stdout FETCH_HEAD,['specs/train/l3-agent-capacity.rst'],1,c514e6dc0deaf0562116eb17217e230134189b7e,l3_capacity,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ========================== L3 agent resource capacity ========================== RFE: https://bugs.launchpad.net/neutron/+bug/1828494 For a large sacle public cloud it meets scale issue about L3-agent. Most cloud service provider does not charge for the neutron virtual router. This can become a headach for the operators. Every tenant may create free routers for doing nothing. But neutron will create many resource for it, especially the HA scenario, there will be namespaces, keepalived processes, and monitor processes. It will absolutely increase the failure risk, especially for agent restart. This spec describes a scheduling mechanism for l3 router based on node bandwidth usage collection and reporting. Problem Description =================== * a) For a public cloud, the user (tenant) may be free to register. Then they will have some free quota. The unrestricted growth of tenant number will let the router number or any other free resource reach a unbearable number of cluster. * b) Current ``LeastRoutersScheduler`` can not work, since we do not have a maximum quantity for l3-agent. So router still is free to schedule to any l3-agent. * c) large sacle l3 resources increase OP difficulties. * d) L3 agent host a router for no compute resources, especially HA router, this means router no real resources use router functionality. And somtimes causes waste of IP resources (This can be overcomed by [1]_), but still be a problem without such settings. Proposed Change =============== Server side changes ------------------- * Add a ``bandwidth`` bandwidth for router which indicates the total bandwidth of a router can use. This will be a new extension and OVO resouce ``RouterBandwidth``. * Relationship table between ``Router`` and ``RouterBandwidth``. * L3 agent reports the total bandwidth with ratio and use bandwidth. * A new scheduler based on the request router bandwidth and agent bandwidth usage. Potential configuration ----------------------- * ``bandwidth_ratio = 1.0`` for l3-agent. * ``total_bandwidth = 1000000`` kbps (minimum unit of QoS rules) for l3-agent. * ``router_default_bandwidth = 1000000`` kbps for router API. The neutron basic workflow -------------------------- Router ++++++ * 1. User create a router with specified or default bandwidth. * 2. Scheduler router according to the bandwidth. * 3. Available agent selected return 200 to user * 4. Failed to schedule return 400 to user REST API Impact --------------- New router API extension: :: router: { ... 'bandwidth': {'allow_post': True, 'allow_put': True, 'convert_to': converters.convert_to_int, 'is_visible': True}, Implementation ============== Assignee(s) ----------- * LIU Yulong <i@liuyulong.me> Work Items ---------- * Create model tables and API extensions. * L3 agent config and resource reporting * CLI support. * Testing. * Documentation. Dependencies ============ None Testing ======= Functionality ------------- Router scheduling distribution status with different overallocation ratios. References ========== .. [1] `Service subnets <https://docs.openstack.org/neutron/latest/admin/config-service-subnets.html>`_ ",,130,0
openstack%2Fpython-tripleoclient~stable%2Ftrain~I6aa9056939c9cc5311034160c790e4893e7d7ce5,openstack/python-tripleoclient,stable/train,I6aa9056939c9cc5311034160c790e4893e7d7ce5,[TRAIN-ONLY] Fix inventory path when upgrading,MERGED,2021-04-01 13:35:42.000000000,2022-02-08 08:42:20.000000000,2021-09-21 12:00:00.000000000,"[{'_account_id': 6816}, {'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 8297}, {'_account_id': 11090}, {'_account_id': 11166}, {'_account_id': 11491}, {'_account_id': 22348}, {'_account_id': 26343}, {'_account_id': 28223}, {'_account_id': 30073}]","[{'number': 1, 'created': '2021-04-01 13:35:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/cb55e47d1b9f7f97d635352e9c1389614bee42bf', 'message': '[TRAIN-ONLY] Fix inventory path when upgrading\n\nThis change ensures that the inventory function returns the inventory file\npath instead of the inventory content. Without this review the funtion\nreturns inventory content which may not be parsed correctly when the\nplaybooks are executed.\n\nrhbz: 1944321\nChange-Id: I6aa9056939c9cc5311034160c790e4893e7d7ce5\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 2, 'created': '2021-04-22 14:02:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/9a7f36752a3331804d7c01bfdc45bf512aa9ce47', 'message': '[TRAIN-ONLY] Fix inventory path when upgrading\n\nThis change ensures that the inventory function returns the inventory file\npath instead of the inventory content. Without this review the funtion\nreturns inventory content which may not be parsed correctly when the\nplaybooks are executed.\n\nrhbz: 1944321\nChange-Id: I6aa9056939c9cc5311034160c790e4893e7d7ce5\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 3, 'created': '2021-08-06 18:08:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/e822841d9abf98228df95b405472e0bd3ede0b42', 'message': '[TRAIN-ONLY] Fix inventory path when upgrading\n\nThis change ensures that the inventory function returns the inventory file\npath instead of the inventory content. Without this review the funtion\nreturns inventory content which may not be parsed correctly when the\nplaybooks are executed.\n\nrhbz: 1944321\nChange-Id: I6aa9056939c9cc5311034160c790e4893e7d7ce5\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 4, 'created': '2021-08-06 18:21:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/3ceb5135cee7b814835b647b1b3f3b11fee3129c', 'message': '[TRAIN-ONLY] Fix inventory path when upgrading\n\nThis change ensures that the inventory function returns the inventory file\npath instead of the inventory content. Without this review the funtion\nreturns inventory content which may not be parsed correctly when the\nplaybooks are executed.\n\nrhbz: 1944321\nChange-Id: I6aa9056939c9cc5311034160c790e4893e7d7ce5\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 5, 'created': '2021-09-06 16:25:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/ea6a64234a5600a505dea1ad2246f7088316ef7b', 'message': '[TRAIN-ONLY] Fix inventory path when upgrading\n\nThis change ensures that the inventory function returns the inventory file\npath instead of the inventory content. Without this review the funtion\nreturns inventory content which may not be parsed correctly when the\nplaybooks are executed.\n\nrhbz: 1944321\nChange-Id: I6aa9056939c9cc5311034160c790e4893e7d7ce5\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 6, 'created': '2021-09-08 22:04:41.000000000', 'files': ['tripleoclient/v1/overcloud_external_update.py', 'tripleoclient/v1/overcloud_external_upgrade.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/320fbda95346d71d67946c64ba94dd66944cc17d', 'message': ""[TRAIN-ONLY] Fix inventory path when upgrading\n\nThis change ensures that the inventory function returns the inventory file\npath instead of the inventory content when we run\nexternal_update/upgrade. Without this review the funtion\nreturns inventory content which may not be parsed correctly as\nexternal_* don't use mistral when the playbooks are executed.\n\nrhbz: 1944321\nChange-Id: I6aa9056939c9cc5311034160c790e4893e7d7ce5\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n""}]",3,784416,320fbda95346d71d67946c64ba94dd66944cc17d,32,11,6,7353,,,0,"[TRAIN-ONLY] Fix inventory path when upgrading

This change ensures that the inventory function returns the inventory file
path instead of the inventory content when we run
external_update/upgrade. Without this review the funtion
returns inventory content which may not be parsed correctly as
external_* don't use mistral when the playbooks are executed.

rhbz: 1944321
Change-Id: I6aa9056939c9cc5311034160c790e4893e7d7ce5
Signed-off-by: Kevin Carter <kecarter@redhat.com>
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/16/784416/2 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/v1/overcloud_upgrade.py', 'tripleoclient/v1/overcloud_update.py', 'tripleoclient/v1/overcloud_external_update.py', 'tripleoclient/v1/overcloud_external_upgrade.py']",4,cb55e47d1b9f7f97d635352e9c1389614bee42bf,upgrade_inventory," parsed_args.static_inventory, parsed_args.ssh_user, stack, return_inventory_file_path=True)"," parsed_args.static_inventory, parsed_args.ssh_user, stack)",8,4
openstack%2Fkolla~master~I3e599f780e8f84ea131988f4a9a45f17055c8ab2,openstack/kolla,master,I3e599f780e8f84ea131988f4a9a45f17055c8ab2,nova-compute: 'ndctl' is available on all archs,MERGED,2022-02-04 16:58:49.000000000,2022-02-08 08:41:16.000000000,2022-02-08 08:38:00.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-02-04 16:58:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/bf7c79bd6ada715b79b599d3b879ef79633b231a', 'message': ""nova-compute: 'ndctl' is available on all archs\n\nIn past 'ndctl' was x86-64 only in Ubuntu. This changed in 19.04 so time\nto adapt.\n\nChange-Id: I3e599f780e8f84ea131988f4a9a45f17055c8ab2\n""}, {'number': 2, 'created': '2022-02-05 09:32:15.000000000', 'files': ['docker/nova/nova-compute/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/c638e768a84b2544924293fb382fe326c16a0022', 'message': ""nova-compute: 'ndctl' is available on all archs\n\nIn past 'ndctl' was x86-64 only in Ubuntu. This changed in 19.04 so time\nto adapt.\n\nChange-Id: I3e599f780e8f84ea131988f4a9a45f17055c8ab2\n""}]",0,827885,c638e768a84b2544924293fb382fe326c16a0022,12,3,2,24072,,,0,"nova-compute: 'ndctl' is available on all archs

In past 'ndctl' was x86-64 only in Ubuntu. This changed in 19.04 so time
to adapt.

Change-Id: I3e599f780e8f84ea131988f4a9a45f17055c8ab2
",git fetch https://review.opendev.org/openstack/kolla refs/changes/85/827885/2 && git format-patch -1 --stdout FETCH_HEAD,['docker/nova/nova-compute/Dockerfile.j2'],1,bf7c79bd6ada715b79b599d3b879ef79633b231a,," 'ndctl',"," # FIXME(pkopec): since Ubuntu 19.04 'ndctl' package is available # for other archs than 'x86_64' {% if base_distro == 'debian' or (base_distro == 'ubuntu' and base_arch == 'x86_64') %} {% set nova_compute_packages = nova_compute_packages + [ 'ndctl', ] %} {% endif %}",1,8
openstack%2Fkolla~master~I667ccda5bb4edbfbfb97dfb0cea264837ed05cae,openstack/kolla,master,I667ccda5bb4edbfbfb97dfb0cea264837ed05cae,erlang: use packages from Erlang Solutions on AArch64,MERGED,2022-02-03 13:16:06.000000000,2022-02-08 08:39:48.000000000,2022-02-08 08:37:57.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-02-03 13:16:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/d2993098ea9d61026c1256113e9ff7d6d41d3283', 'message': 'erlang: use packages from Erlang Solutions on AArch64\n\nRabbitMQ requires Erlang 23+ and soon will bump to 24+.\n\nOn AArch64 we used version 22 as there was no other option. Now it is.\n\nChange-Id: I667ccda5bb4edbfbfb97dfb0cea264837ed05cae\n'}, {'number': 2, 'created': '2022-02-03 13:18:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/7659c31bbbe92853deff804ae9e6e0da0c81709b', 'message': 'erlang: use packages from Erlang Solutions on AArch64\n\nRabbitMQ requires Erlang 23+ and soon will bump to 24+.\n\nOn AArch64 we used version 22 as there was no other option. Now it is.\n\nChange-Id: I667ccda5bb4edbfbfb97dfb0cea264837ed05cae\n'}, {'number': 3, 'created': '2022-02-03 13:35:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/7b50afceb372aea819d57f839596fc6c51eadf75', 'message': 'erlang: use packages from Erlang Solutions on AArch64\n\nRabbitMQ requires Erlang 23+ and soon will bump to 24+.\n\nOn AArch64 we used version 22 as there was no other option. Now it is.\n\nChange-Id: I667ccda5bb4edbfbfb97dfb0cea264837ed05cae\n'}, {'number': 4, 'created': '2022-02-04 09:15:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/73e2fd0b38a135f5fe4ad4eeba6c4441e31bf406', 'message': 'erlang: use packages from Erlang Solutions on AArch64\n\nRabbitMQ requires Erlang 23+ and soon will bump to 24+.\n\nOn AArch64 we used version 22 as there was no other option. Now it is.\n\nChange-Id: I667ccda5bb4edbfbfb97dfb0cea264837ed05cae\n'}, {'number': 5, 'created': '2022-02-05 09:32:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/bf16c58f2041fac32e4ce1545c63faaf40150404', 'message': 'erlang: use packages from Erlang Solutions on AArch64\n\nRabbitMQ requires Erlang 23+ and soon will bump to 24+.\n\nOn AArch64 we used version 22 as there was no other option. Now it is.\n\nChange-Id: I667ccda5bb4edbfbfb97dfb0cea264837ed05cae\n'}, {'number': 6, 'created': '2022-02-05 09:38:43.000000000', 'files': ['docker/base/erlang-solutions.repo', 'docker/base/Dockerfile.j2', 'docker/rabbitmq/Dockerfile.j2', 'kolla/template/repos.yaml', 'docker/kolla-toolbox/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/f943c7d773a280b832dde9edf9d615540b259b5c', 'message': 'erlang: use packages from Erlang Solutions on AArch64\n\nRabbitMQ requires Erlang 23+ and soon will bump to 24+.\n\nOn AArch64 we used version 22 as there was no other option. Now it is.\n\nChange-Id: I667ccda5bb4edbfbfb97dfb0cea264837ed05cae\n'}]",6,827663,f943c7d773a280b832dde9edf9d615540b259b5c,21,4,6,24072,,,0,"erlang: use packages from Erlang Solutions on AArch64

RabbitMQ requires Erlang 23+ and soon will bump to 24+.

On AArch64 we used version 22 as there was no other option. Now it is.

Change-Id: I667ccda5bb4edbfbfb97dfb0cea264837ed05cae
",git fetch https://review.opendev.org/openstack/kolla refs/changes/63/827663/1 && git format-patch -1 --stdout FETCH_HEAD,"['docker/base/erlang-solutions.repo', 'docker/base/Dockerfile.j2', 'docker/rabbitmq/Dockerfile.j2', 'docker/kolla-toolbox/Dockerfile.j2']",4,d2993098ea9d61026c1256113e9ff7d6d41d3283,827656-patch3," 'erlang-23.*', 'rabbitmq-server-3.8.*' ] %}"," ] %} {% if base_arch == 'aarch64' %} {% set kolla_toolbox_packages = kolla_toolbox_packages + [ 'erlang-22.*', 'rabbitmq-server-3.8.14' ] %} {% else %} {% set kolla_toolbox_packages = kolla_toolbox_packages + [ 'erlang-23.*', 'rabbitmq-server-3.8.*' ] %} {% endif %}",13,25
openstack%2Fansible-collections-openstack~master~I1f577fae27c24c257571d1cf90e49527470edace,openstack/ansible-collections-openstack,master,I1f577fae27c24c257571d1cf90e49527470edace,Move identity domain to use proxy layer,MERGED,2022-02-01 11:26:34.000000000,2022-02-08 08:36:40.000000000,2022-02-08 08:36:40.000000000,"[{'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 27900}, {'_account_id': 32458}]","[{'number': 1, 'created': '2022-02-01 11:26:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/49ba06128b5c5fc97a1d993909c5dde2fd8b6ab6', 'message': ""WIP fix identity domain 'enabled' erorr\n\nChange-Id: I1f577fae27c24c257571d1cf90e49527470edace\n""}, {'number': 2, 'created': '2022-02-01 16:13:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/cceee540bea2bc900c17d8f11a2a7d804e1666d1', 'message': 'Move identity domain to use proxy layer\n\nMake it compatible with new SDK and fix bug with ""enabled""\n\nChange-Id: I1f577fae27c24c257571d1cf90e49527470edace\n'}, {'number': 3, 'created': '2022-02-01 20:45:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/50fb81e5e383e6712ca88b01b286f9cb8e1c1c61', 'message': 'Move identity domain to use proxy layer\n\nMake it compatible with new SDK and fix bug with ""enabled""\n\nChange-Id: I1f577fae27c24c257571d1cf90e49527470edace\n'}, {'number': 4, 'created': '2022-02-02 17:34:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/678c2b6ea9e6549cbb805f6f46554f5615ccc4e2', 'message': 'Move identity domain to use proxy layer\n\nMake it compatible with new SDK and fix bug with ""enabled""\n\nChange-Id: I1f577fae27c24c257571d1cf90e49527470edace\n'}, {'number': 5, 'created': '2022-02-02 17:35:44.000000000', 'files': ['plugins/modules/identity_domain.py', 'ci/roles/keystone_domain/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/bdf472a53fd353b51114f27985774a9c29e29399', 'message': 'Move identity domain to use proxy layer\n\nMake it compatible with new SDK and fix bug with ""enabled""\n\nChange-Id: I1f577fae27c24c257571d1cf90e49527470edace\n'}]",1,827267,bdf472a53fd353b51114f27985774a9c29e29399,20,5,5,10969,,,0,"Move identity domain to use proxy layer

Make it compatible with new SDK and fix bug with ""enabled""

Change-Id: I1f577fae27c24c257571d1cf90e49527470edace
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/67/827267/3 && git format-patch -1 --stdout FETCH_HEAD,['plugins/modules/identity_domain.py'],1,49ba06128b5c5fc97a1d993909c5dde2fd8b6ab6,,# test,,1,0
openstack%2Fkolla~master~I8c740655c7f7803d9ab36dac79d30e35e65dd586,openstack/kolla,master,I8c740655c7f7803d9ab36dac79d30e35e65dd586,pin out some package from Debian OpenStack Team repos,MERGED,2022-02-04 11:36:29.000000000,2022-02-08 08:36:36.000000000,2022-02-08 08:33:44.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-02-04 11:36:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/8a3d4cb49716ddea092707b4e06b353d54544274', 'message': 'pin out some package from Debian OpenStack Team repos\n\nDebian OpenStack Team backports many packages to get their stuff done.\nSometimes something goes wrong:\n\nINFO:kolla.common.utils.kolla-toolbox:The following packages have unmet dependencies:\nINFO:kolla.common.utils.kolla-toolbox: git : Depends: git-man (< 1:2.30.2-.) but 1:2.34.1-1~bpo11+1 is to be installed\nINFO:kolla.common.utils.kolla-toolbox:E: Unable to correct problems, you have held broken packages.\n\nSo let pin out problematic packages as we are fine with bullseye version\nof git.\n\nChange-Id: I8c740655c7f7803d9ab36dac79d30e35e65dd586\n'}, {'number': 2, 'created': '2022-02-05 09:30:41.000000000', 'files': ['docker/base/apt_preferences.debian'], 'web_link': 'https://opendev.org/openstack/kolla/commit/2553c1845c7c4cf04d720b820e4bb13519eca4c9', 'message': 'pin out some package from Debian OpenStack Team repos\n\nDebian OpenStack Team backports many packages to get their stuff done.\nSometimes something goes wrong:\n\nINFO:kolla.common.utils.kolla-toolbox:The following packages have unmet dependencies:\nINFO:kolla.common.utils.kolla-toolbox: git : Depends: git-man (< 1:2.30.2-.) but 1:2.34.1-1~bpo11+1 is to be installed\nINFO:kolla.common.utils.kolla-toolbox:E: Unable to correct problems, you have held broken packages.\n\nSo let pin out problematic packages as we are fine with bullseye version\nof git.\n\nChange-Id: I8c740655c7f7803d9ab36dac79d30e35e65dd586\n'}]",2,827848,2553c1845c7c4cf04d720b820e4bb13519eca4c9,14,4,2,24072,,,0,"pin out some package from Debian OpenStack Team repos

Debian OpenStack Team backports many packages to get their stuff done.
Sometimes something goes wrong:

INFO:kolla.common.utils.kolla-toolbox:The following packages have unmet dependencies:
INFO:kolla.common.utils.kolla-toolbox: git : Depends: git-man (< 1:2.30.2-.) but 1:2.34.1-1~bpo11+1 is to be installed
INFO:kolla.common.utils.kolla-toolbox:E: Unable to correct problems, you have held broken packages.

So let pin out problematic packages as we are fine with bullseye version
of git.

Change-Id: I8c740655c7f7803d9ab36dac79d30e35e65dd586
",git fetch https://review.opendev.org/openstack/kolla refs/changes/48/827848/2 && git format-patch -1 --stdout FETCH_HEAD,['docker/base/apt_preferences.debian'],1,8a3d4cb49716ddea092707b4e06b353d54544274,, # NOTE(hrw): Debian OpenStack Team repo has some backports we do not want Package: git* Pin: release n=bullseye Pin-Priority: 1024,,5,0
openstack%2Fcinder-tempest-plugin~master~Ice1bf9b085270f0a705c17af5eb34c3c298387a6,openstack/cinder-tempest-plugin,master,Ice1bf9b085270f0a705c17af5eb34c3c298387a6,Updating python testing as per Yoga testing runtime,ABANDONED,2022-02-08 05:12:48.000000000,2022-02-08 08:19:58.000000000,,"[{'_account_id': 22348}, {'_account_id': 30615}]","[{'number': 1, 'created': '2022-02-08 05:12:48.000000000', 'files': ['.zuul.yaml', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/7e4c3954fabce009fe3beb0d2da9d20f5adadf7d', 'message': 'Updating python testing as per Yoga testing runtime\n\nYoga testing runtime[1] has been updated to add py39\ntesting as voting and as we are testing py3.6 and py3.9\nwe do not need to test py3.7|8 explicitly. Unit tests update are\nhandled by the job template change in openstack-zuul-job\n\n- https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/820286\n\nthis commit update the classifier in setup.cfg file.\n\n[1] https://governance.openstack.org/tc/reference/runtimes/yoga.html\n\nChange-Id: Ice1bf9b085270f0a705c17af5eb34c3c298387a6\n'}]",0,828216,7e4c3954fabce009fe3beb0d2da9d20f5adadf7d,5,2,1,30615,,,0,"Updating python testing as per Yoga testing runtime

Yoga testing runtime[1] has been updated to add py39
testing as voting and as we are testing py3.6 and py3.9
we do not need to test py3.7|8 explicitly. Unit tests update are
handled by the job template change in openstack-zuul-job

- https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/820286

this commit update the classifier in setup.cfg file.

[1] https://governance.openstack.org/tc/reference/runtimes/yoga.html

Change-Id: Ice1bf9b085270f0a705c17af5eb34c3c298387a6
",git fetch https://review.opendev.org/openstack/cinder-tempest-plugin refs/changes/16/828216/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'setup.cfg']",2,7e4c3954fabce009fe3beb0d2da9d20f5adadf7d,, Programming Language :: Python :: 3.9,,23,1
openstack%2Fbifrost~master~I02ee6c32f8216f33dc10315a35fe8f6b52770cea,openstack/bifrost,master,I02ee6c32f8216f33dc10315a35fe8f6b52770cea,DNM test the CI,ABANDONED,2022-02-07 19:02:05.000000000,2022-02-08 08:06:40.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-02-07 19:02:05.000000000', 'files': ['playbooks/ci/upgrade.yaml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/0b05bd7bf101f74ef8946ade6e3fffda61920c41', 'message': 'DNM test the CI\n\nDepends-On: https://review.opendev.org/c/openstack/bifrost/+/828178/\nChange-Id: I02ee6c32f8216f33dc10315a35fe8f6b52770cea\n'}]",0,828182,0b05bd7bf101f74ef8946ade6e3fffda61920c41,3,1,1,10239,,,0,"DNM test the CI

Depends-On: https://review.opendev.org/c/openstack/bifrost/+/828178/
Change-Id: I02ee6c32f8216f33dc10315a35fe8f6b52770cea
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/82/828182/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/ci/upgrade.yaml'],1,0b05bd7bf101f74ef8946ade6e3fffda61920c41,test,,,1,0
openstack%2Fneutron-specs~master~Ied444b627f7f2cc7e0fcbb56d17a25bf48aeb5e7,openstack/neutron-specs,master,Ied444b627f7f2cc7e0fcbb56d17a25bf48aeb5e7,Use VNIC_REMOTE_MANAGED instead of VNIC_SMARTNIC,ABANDONED,2022-02-08 08:02:38.000000000,2022-02-08 08:05:34.000000000,,[],"[{'number': 1, 'created': '2022-02-08 08:02:38.000000000', 'files': ['specs/yoga/off-path-smartnic-dpu-port-binding-with-ovn.rst'], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/284787abfbd055e479c717d8651731a5d802e4f3', 'message': ""Use VNIC_REMOTE_MANAGED instead of VNIC_SMARTNIC\n\nAfter a round of reviews of Nova patches that utilized VNIC_SMARTNIC for\nthe off-path backend spec\n\nhttps://review.opendev.org/q/topic:2021-09-10-off-path-net-backends-dep\n\nit was determined that the Ironic's usage of VNIC_SMARTNIC would be\naffected by how the decision is made whether a port is remote-managed or\nnot during the resource request creation.\n\nhttps://review.opendev.org/c/openstack/nova/+/824835/13/nova/network/neutron.py#2325\n\nSee the following log for the relevant discussion:\n\nhttps://meetings.opendev.org/irclogs/%23openstack-nova/%23openstack-nova.2022-02-07.log.html#t2022-02-07T15:49:56\n\nTherefore, this change introduces a spec update to use a new VNIC\ntype.\n\nNova spec: https://review.opendev.org/c/openstack/nova-specs/+/787458\nNova BP: https://blueprints.launchpad.net/nova/+spec/integration-with-off-path-network-backends\nPartial-Bug: #1932154\nChange-Id: I63f156c5bfb5a41e5ebf94dc8f069828569e270a\n\nChange-Id: Ied444b627f7f2cc7e0fcbb56d17a25bf48aeb5e7\n""}]",0,828225,284787abfbd055e479c717d8651731a5d802e4f3,2,0,1,13686,,,0,"Use VNIC_REMOTE_MANAGED instead of VNIC_SMARTNIC

After a round of reviews of Nova patches that utilized VNIC_SMARTNIC for
the off-path backend spec

https://review.opendev.org/q/topic:2021-09-10-off-path-net-backends-dep

it was determined that the Ironic's usage of VNIC_SMARTNIC would be
affected by how the decision is made whether a port is remote-managed or
not during the resource request creation.

https://review.opendev.org/c/openstack/nova/+/824835/13/nova/network/neutron.py#2325

See the following log for the relevant discussion:

https://meetings.opendev.org/irclogs/%23openstack-nova/%23openstack-nova.2022-02-07.log.html#t2022-02-07T15:49:56

Therefore, this change introduces a spec update to use a new VNIC
type.

Nova spec: https://review.opendev.org/c/openstack/nova-specs/+/787458
Nova BP: https://blueprints.launchpad.net/nova/+spec/integration-with-off-path-network-backends
Partial-Bug: #1932154
Change-Id: I63f156c5bfb5a41e5ebf94dc8f069828569e270a

Change-Id: Ied444b627f7f2cc7e0fcbb56d17a25bf48aeb5e7
",git fetch https://review.opendev.org/openstack/neutron-specs refs/changes/25/828225/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/yoga/off-path-smartnic-dpu-port-binding-with-ovn.rst'],1,284787abfbd055e479c717d8651731a5d802e4f3,off-path-smartnic-dpu-port-binding-with-ovn," VNIC_REMOTE_MANAGED which it currently does not.that, the related Nova specification [7]_ relies on a new port type for the purposes of working with SmartNIC DPUs called ``VNIC_REMOTE_MANAGED``. The ``VNIC_SMARTNIC`` VNIC type already present in neutron-lib has been considered but it was found later that the fact that scheduling happens after resource request creation makes it to run into a conflict with the Ironic use-case). The OVN mechanism driver needs to be extended to also handle ``VNIC_REMOTE_MANAGED`` ports. It will allow the port binding code to pick the right code-path and trigger the representor port plugging logic in OVN."," VNIC_SMARTNIC which it currently does not.that, the related Nova specification [7]_ relies on a different port type (``VNIC_SMARTNIC`` already present in neutron-lib) for the purposes of working with SmartNIC DPUs. The OVN mechanism driver needs to be extended to also handle ``VNIC_SMARTNIC`` ports. It will allow the port binding code to pick the right code-path and trigger the representor port plugging logic in OVN.",9,7
openstack%2Fproject-config~master~I4bc674875e8d3010bcfd8db8955019d8d791f075,openstack/project-config,master,I4bc674875e8d3010bcfd8db8955019d8d791f075,Retire security-specs repo - Step 3,MERGED,2022-01-31 21:20:52.000000000,2022-02-08 08:05:26.000000000,2022-02-08 07:35:46.000000000,"[{'_account_id': 5263}, {'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-31 21:20:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/998b02e283101ddf73141f08caaf8dedda494da5', 'message': 'Retire security-specs repo - Step 3\n\nThe security-specs repo is slated for retirement[0] as per the\nsecurity-sig. This change is part of the step to remove the\nproject from infrastructure systems.\n\n[0] http://lists.openstack.org/pipermail/openstack-discuss/2021-December/026323.html\n\nChange-Id: I4bc674875e8d3010bcfd8db8955019d8d791f075\n'}, {'number': 2, 'created': '2022-01-31 21:33:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/51362851fc7cb275b9ae42bbdffe92d1d49331fe', 'message': 'Retire security-specs repo - Step 3\n\nThe security-specs repo is slated for retirement[0] as per the\nsecurity-sig. This change is part of the step to remove the\nproject from infrastructure systems.\n\n[0] http://lists.openstack.org/pipermail/openstack-discuss/2021-December/026323.html\n\nChange-Id: I4bc674875e8d3010bcfd8db8955019d8d791f075\n'}, {'number': 3, 'created': '2022-02-05 21:36:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/fae64d832c0c7ed06a2cb025afb544cfc26bd0a6', 'message': 'Retire security-specs repo - Step 3\n\nThe security-specs repo is slated for retirement[0] as per the\nsecurity-sig. This change is part of the step to remove the\nproject from infrastructure systems.\n\n[0] http://lists.openstack.org/pipermail/openstack-discuss/2021-December/026323.html\n\nDepends-on: https://review.opendev.org/c/openstack/security-specs/+/827177\n\nChange-Id: I4bc674875e8d3010bcfd8db8955019d8d791f075\n'}, {'number': 4, 'created': '2022-02-07 22:03:17.000000000', 'files': ['gerrit/acls/openstack/security-specs.config', 'gerritbot/channels.yaml', 'zuul.d/projects.yaml', 'zuul/main.yaml', 'gerrit/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/7aa2e80f5fa583456248826b3b5cf1e745450141', 'message': 'Retire security-specs repo - Step 3\n\nThe security-specs repo is slated for retirement[0] as per the\nsecurity-sig. This change is part of the step to remove the\nproject from infrastructure systems.\n\n[0] http://lists.openstack.org/pipermail/openstack-discuss/2021-December/026323.html\n\nDepends-on: https://review.opendev.org/c/openstack/security-specs/+/827177\n\nChange-Id: I4bc674875e8d3010bcfd8db8955019d8d791f075\n'}]",3,827178,7aa2e80f5fa583456248826b3b5cf1e745450141,20,3,4,21420,,,0,"Retire security-specs repo - Step 3

The security-specs repo is slated for retirement[0] as per the
security-sig. This change is part of the step to remove the
project from infrastructure systems.

[0] http://lists.openstack.org/pipermail/openstack-discuss/2021-December/026323.html

Depends-on: https://review.opendev.org/c/openstack/security-specs/+/827177

Change-Id: I4bc674875e8d3010bcfd8db8955019d8d791f075
",git fetch https://review.opendev.org/openstack/project-config refs/changes/78/827178/2 && git format-patch -1 --stdout FETCH_HEAD,"['gerrit/acls/openstack/security-specs.config', 'gerrit/projects.yaml', 'zuul.d/projects.yaml', 'zuul/main.yaml']",4,998b02e283101ddf73141f08caaf8dedda494da5,retire-security-specs,, - openstack/security-specs,2,22
openstack%2Fneutron-specs~master~Ice5c5cdcd4451f5066579c246db2ee60ad6b8b99,openstack/neutron-specs,master,Ice5c5cdcd4451f5066579c246db2ee60ad6b8b99,Use VNIC_REMOTE_MANAGED instead of VNIC_SMARTNIC,ABANDONED,2022-02-08 08:03:13.000000000,2022-02-08 08:05:24.000000000,,[],"[{'number': 1, 'created': '2022-02-08 08:03:13.000000000', 'files': ['specs/yoga/off-path-smartnic-dpu-port-binding-with-ovn.rst'], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/13f59a6cfba8abc939a1d066e9cd33ac1d1c0076', 'message': ""Use VNIC_REMOTE_MANAGED instead of VNIC_SMARTNIC\n\nAfter a round of reviews of Nova patches that utilized VNIC_SMARTNIC for\nthe off-path backend spec\n\nhttps://review.opendev.org/q/topic:2021-09-10-off-path-net-backends-dep\n\nit was determined that the Ironic's usage of VNIC_SMARTNIC would be\naffected by how the decision is made whether a port is remote-managed or\nnot during the resource request creation.\n\nhttps://review.opendev.org/c/openstack/nova/+/824835/13/nova/network/neutron.py#2325\n\nSee the following log for the relevant discussion:\n\nhttps://meetings.opendev.org/irclogs/%23openstack-nova/%23openstack-nova.2022-02-07.log.html#t2022-02-07T15:49:56\n\nTherefore, this change introduces a spec update to use a new VNIC\ntype.\n\nNova spec: https://review.opendev.org/c/openstack/nova-specs/+/787458\nNova BP: https://blueprints.launchpad.net/nova/+spec/integration-with-off-path-network-backends\nPartial-Bug: #1932154\nChange-Id: I63f156c5bfb5a41e5ebf94dc8f069828569e270a\n\nChange-Id: Ice5c5cdcd4451f5066579c246db2ee60ad6b8b99\n""}]",0,828226,13f59a6cfba8abc939a1d066e9cd33ac1d1c0076,2,0,1,13686,,,0,"Use VNIC_REMOTE_MANAGED instead of VNIC_SMARTNIC

After a round of reviews of Nova patches that utilized VNIC_SMARTNIC for
the off-path backend spec

https://review.opendev.org/q/topic:2021-09-10-off-path-net-backends-dep

it was determined that the Ironic's usage of VNIC_SMARTNIC would be
affected by how the decision is made whether a port is remote-managed or
not during the resource request creation.

https://review.opendev.org/c/openstack/nova/+/824835/13/nova/network/neutron.py#2325

See the following log for the relevant discussion:

https://meetings.opendev.org/irclogs/%23openstack-nova/%23openstack-nova.2022-02-07.log.html#t2022-02-07T15:49:56

Therefore, this change introduces a spec update to use a new VNIC
type.

Nova spec: https://review.opendev.org/c/openstack/nova-specs/+/787458
Nova BP: https://blueprints.launchpad.net/nova/+spec/integration-with-off-path-network-backends
Partial-Bug: #1932154
Change-Id: I63f156c5bfb5a41e5ebf94dc8f069828569e270a

Change-Id: Ice5c5cdcd4451f5066579c246db2ee60ad6b8b99
",git fetch https://review.opendev.org/openstack/neutron-specs refs/changes/26/828226/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/yoga/off-path-smartnic-dpu-port-binding-with-ovn.rst'],1,13f59a6cfba8abc939a1d066e9cd33ac1d1c0076,off-path-smartnic-dpu-port-binding-with-ovn," VNIC_REMOTE_MANAGED which it currently does not.that, the related Nova specification [7]_ relies on a new port type for the purposes of working with SmartNIC DPUs called ``VNIC_REMOTE_MANAGED``. The ``VNIC_SMARTNIC`` VNIC type already present in neutron-lib has been considered but it was found later that the fact that scheduling happens after resource request creation makes it to run into a conflict with the Ironic use-case). The OVN mechanism driver needs to be extended to also handle ``VNIC_REMOTE_MANAGED`` ports. It will allow the port binding code to pick the right code-path and trigger the representor port plugging logic in OVN."," VNIC_SMARTNIC which it currently does not.that, the related Nova specification [7]_ relies on a different port type (``VNIC_SMARTNIC`` already present in neutron-lib) for the purposes of working with SmartNIC DPUs. The OVN mechanism driver needs to be extended to also handle ``VNIC_SMARTNIC`` ports. It will allow the port binding code to pick the right code-path and trigger the representor port plugging logic in OVN.",9,7
openstack%2Fkolla-ansible~master~I031c8bb595c06176e763e9452b349db3c96528dd,openstack/kolla-ansible,master,I031c8bb595c06176e763e9452b349db3c96528dd,Add support for AlmaLinux 8,NEW,2022-01-28 16:28:54.000000000,2022-02-08 07:52:55.000000000,,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24965}]","[{'number': 1, 'created': '2022-01-28 16:28:54.000000000', 'files': ['ansible/roles/prechecks/vars/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b9ed9f794029df45b66e398b02d0e1f2f5013bde', 'message': 'Add support for AlmaLinux 8\n\nChange-Id: I031c8bb595c06176e763e9452b349db3c96528dd\n'}]",2,826916,b9ed9f794029df45b66e398b02d0e1f2f5013bde,5,3,1,34521,,,0,"Add support for AlmaLinux 8

Change-Id: I031c8bb595c06176e763e9452b349db3c96528dd
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/16/826916/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/prechecks/vars/main.yml'],1,b9ed9f794029df45b66e398b02d0e1f2f5013bde,precheck-AlmaLinux8," AlmaLinux: - ""8""",,2,0
openstack%2Fpuppet-tempest~master~Ia2137a49a0610924d9a476c62ae31270a5a9acf9,openstack/puppet-tempest,master,Ia2137a49a0610924d9a476c62ae31270a5a9acf9,Support [load_balancer] test_with_noop,MERGED,2022-02-07 02:14:42.000000000,2022-02-08 07:45:18.000000000,2022-02-08 07:35:55.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-07 02:14:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tempest/commit/b0045c0baffb02a98e8858dec53e00ac506f58ea', 'message': 'Support [load_balancer] test_with_noop\n\n... so that we can set this parameter in our integration tests, which\nuse noop drivers.\n\nChange-Id: Ia2137a49a0610924d9a476c62ae31270a5a9acf9\n'}, {'number': 2, 'created': '2022-02-07 03:42:53.000000000', 'files': ['manifests/init.pp', 'releasenotes/notes/load_balancer-test_with_noop-7ea94864e5a4634e.yaml', 'spec/classes/tempest_init_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-tempest/commit/d65c6ab9a704a8b5fdc66ea314401c3f9791f256', 'message': 'Support [load_balancer] test_with_noop\n\n... so that we can set this parameter in our integration tests, which\nuse noop drivers.\n\nChange-Id: Ia2137a49a0610924d9a476c62ae31270a5a9acf9\n'}]",2,828063,d65c6ab9a704a8b5fdc66ea314401c3f9791f256,15,3,2,9816,,,0,"Support [load_balancer] test_with_noop

... so that we can set this parameter in our integration tests, which
use noop drivers.

Change-Id: Ia2137a49a0610924d9a476c62ae31270a5a9acf9
",git fetch https://review.opendev.org/openstack/puppet-tempest refs/changes/63/828063/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/init.pp', 'releasenotes/notes/load_balancer-test_with_noop-7ea94864e5a4634e.yaml', 'spec/classes/tempest_init_spec.rb']",3,b0045c0baffb02a98e8858dec53e00ac506f58ea,, is_expected.to contain_tempest_config('load_balancer/test_with_noop').with(:value => '<SERVICE DEFAULT>'),,8,0
openstack%2Fpuppet-tempest~master~Idad462f8d52cb1f439ea137d4844a4872a20133e,openstack/puppet-tempest,master,Idad462f8d52cb1f439ea137d4844a4872a20133e,Support [load_balancer] *_role parameters,MERGED,2022-02-06 23:34:35.000000000,2022-02-08 07:43:47.000000000,2022-02-08 07:35:53.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-06 23:34:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tempest/commit/e1d8c20182b9fe260927382faf8be3bd5e60a0ff', 'message': 'Support [load_balancer] *_role parameters\n\nChange-Id: Idad462f8d52cb1f439ea137d4844a4872a20133e\n'}, {'number': 2, 'created': '2022-02-06 23:56:10.000000000', 'files': ['releasenotes/notes/load_balancer-roles-820483639dbb753a.yaml', 'manifests/init.pp', 'spec/classes/tempest_init_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-tempest/commit/e919c537f91e2422345b2241b415f29a572fd7a1', 'message': 'Support [load_balancer] *_role parameters\n\nChange-Id: Idad462f8d52cb1f439ea137d4844a4872a20133e\n'}]",3,828059,e919c537f91e2422345b2241b415f29a572fd7a1,18,3,2,9816,,,0,"Support [load_balancer] *_role parameters

Change-Id: Idad462f8d52cb1f439ea137d4844a4872a20133e
",git fetch https://review.opendev.org/openstack/puppet-tempest refs/changes/59/828059/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/load_balancer-roles-820483639dbb753a.yaml', 'manifests/init.pp', 'spec/classes/tempest_init_spec.rb']",3,e1d8c20182b9fe260927382faf8be3bd5e60a0ff,, is_expected.to contain_tempest_config('load_balancer/member_role').with(:value => '<SERVICE DEFAULT>') is_expected.to contain_tempest_config('load_balancer/admin_role').with(:value => '<SERVICE DEFAULT>') is_expected.to contain_tempest_config('load_balancer/observer_role').with(:value => '<SERVICE DEFAULT>') is_expected.to contain_tempest_config('load_balancer/global_observer_role').with(:value => '<SERVICE DEFAULT>'),,140,110
openstack%2Fcyborg~master~Id39016e295bafc7a6a124c093f3c837a24d61ecd,openstack/cyborg,master,Id39016e295bafc7a6a124c093f3c837a24d61ecd,no type field in ExpectedOneObject format message,ABANDONED,2022-02-07 10:06:48.000000000,2022-02-08 07:30:42.000000000,,"[{'_account_id': 22348}, {'_account_id': 31412}]","[{'number': 1, 'created': '2022-02-07 10:06:48.000000000', 'files': ['cyborg/tests/unit/objects/test_fpga_ext_arq.py', 'cyborg/objects/extarq/fpga_ext_arq.py'], 'web_link': 'https://opendev.org/openstack/cyborg/commit/7308078fb5717eced5c0243da72ae11dc041faff', 'message': 'no type field in ExpectedOneObject format message\n\nChange-Id: Idac2258cb411c2065212d4b76989d572b9f86f3d\n\nCo-Authored-By: Eric Xie <eric-xiett@163.com>\nChange-Id: Id39016e295bafc7a6a124c093f3c837a24d61ecd\n'}]",0,828100,7308078fb5717eced5c0243da72ae11dc041faff,6,2,1,23950,,,0,"no type field in ExpectedOneObject format message

Change-Id: Idac2258cb411c2065212d4b76989d572b9f86f3d

Co-Authored-By: Eric Xie <eric-xiett@163.com>
Change-Id: Id39016e295bafc7a6a124c093f3c837a24d61ecd
",git fetch https://review.opendev.org/openstack/cyborg refs/changes/00/828100/1 && git format-patch -1 --stdout FETCH_HEAD,"['cyborg/tests/unit/objects/test_fpga_ext_arq.py', 'cyborg/objects/extarq/fpga_ext_arq.py']",2,7308078fb5717eced5c0243da72ae11dc041faff,fix-exc," raise exception.ExpectedOneObject(obj='controlpath_id',"," raise exception.ExpectedOneObject(type='controlpath_id',",20,1
openstack%2Fheat~stable%2Ftrain~I96ab14871ee8c5d5b83cc0cd4abc840ef0218ca8,openstack/heat,stable/train,I96ab14871ee8c5d5b83cc0cd4abc840ef0218ca8,Fallback to upstream for Fedora image,MERGED,2022-01-19 06:17:44.000000000,2022-02-08 07:12:02.000000000,2022-02-08 07:10:12.000000000,"[{'_account_id': 8833}, {'_account_id': 12404}, {'_account_id': 22348}, {'_account_id': 24245}, {'_account_id': 30073}]","[{'number': 1, 'created': '2022-01-19 06:17:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/58e696615602eb5f3d4f624b9a0aff0ab48e565a', 'message': 'Fallback to upstream for Fedora image\n\nOpenDev infra only keep around the latest two Fedora releases in their\nmirrors.  Probe for the image from the local test mirror, but if not\nfound, fallback to upstream.  This will be much less reliable, but can\navoid gate breakage until new images can be used.\n\nChange-Id: I96ab14871ee8c5d5b83cc0cd4abc840ef0218ca8\n'}, {'number': 2, 'created': '2022-02-07 13:09:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/d5fe6273bea42bf232fa1bf7ecbb795ebc1bfed9', 'message': 'Fallback to upstream for Fedora image\n\nOpenDev infra only keep around the latest two Fedora releases in their\nmirrors.  Probe for the image from the local test mirror, but if not\nfound, fallback to upstream.  This will be much less reliable, but can\navoid gate breakage until new images can be used.\n\nThis also fixes tempest venv to use correct constraints file.\n\nChange-Id: I96ab14871ee8c5d5b83cc0cd4abc840ef0218ca8\n'}, {'number': 3, 'created': '2022-02-08 03:52:59.000000000', 'files': ['heat_integrationtests/pre_test_hook.sh', 'heat_integrationtests/post_test_hook.sh'], 'web_link': 'https://opendev.org/openstack/heat/commit/bd38beda6608b5efa5330fd0619ec3487ecd8992', 'message': 'Fallback to upstream for Fedora image\n\nOpenDev infra only keep around the latest two Fedora releases in their\nmirrors.  Probe for the image from the local test mirror, but if not\nfound, fallback to upstream.  This will be much less reliable, but can\navoid gate breakage until new images can be used.\n\nThis also fixes tempest venv to use correct constraints file.\n\nChange-Id: I96ab14871ee8c5d5b83cc0cd4abc840ef0218ca8\n'}]",4,825258,bd38beda6608b5efa5330fd0619ec3487ecd8992,19,5,3,8833,,,0,"Fallback to upstream for Fedora image

OpenDev infra only keep around the latest two Fedora releases in their
mirrors.  Probe for the image from the local test mirror, but if not
found, fallback to upstream.  This will be much less reliable, but can
avoid gate breakage until new images can be used.

This also fixes tempest venv to use correct constraints file.

Change-Id: I96ab14871ee8c5d5b83cc0cd4abc840ef0218ca8
",git fetch https://review.opendev.org/openstack/heat refs/changes/58/825258/1 && git format-patch -1 --stdout FETCH_HEAD,['heat_integrationtests/pre_test_hook.sh'],1,58e696615602eb5f3d4f624b9a0aff0ab48e565a,,"# NOTE(ianw) OpenDev infra only keeps the latest two Fedora's # around; prefer the mirror but allow fallback source /etc/ci/mirror_info.sh fi HEAT_TEST_FEDORA_IMAGE_UPSTREAM=https://download.fedoraproject.org/pub/fedora/linux HEAT_TEST_FEDORA_IMAGE_PATH=releases/33/Cloud/x86_64/images/Fedora-Cloud-Base-33-1.2.x86_64.qcow2 if curl --output /dev/null --silent --head --fail ""${NODEPOOL_FEDORA_MIRROR}/${HEAT_TEST_FEDORA_IMAGE_PATH}""; then echo ""IMAGE_URLS+=${NODEPOOL_FEDORA_MIRROR}/${HEAT_TEST_FEDORA_IMAGE_PATH}"" >> $localconf echo ""IMAGE_URLS+=${HEAT_TEST_FEDORA_IMAGE_UPSTREAM}/${HEAT_TEST_FEDORA_IMAGE_PATH}"" >> $localconf","# NOTE(mnaser): This will use the region local mirrors to avoid going out # to network source /etc/ci/mirror_info.sh echo ""IMAGE_URLS+=${NODEPOOL_FEDORA_MIRROR}/releases/33/Cloud/x86_64/images/Fedora-Cloud-Base-33-1.2.x86_64.qcow2"" >> $localconf echo ""IMAGE_URLS+=https://download.fedoraproject.org/pub/fedora/linux/releases/33/Cloud/x86_64/images/Fedora-Cloud-Base-33-1.2.x86_64.qcow2"" >> $localconf",9,5
openstack%2Fproject-config~master~I93a03daa4715cba6527ab550817106c6a37b8a44,openstack/project-config,master,I93a03daa4715cba6527ab550817106c6a37b8a44,Rename openstack/neutron-fwass* to x/neutron-fwaas*,ABANDONED,2022-01-17 09:01:52.000000000,2022-02-08 06:59:07.000000000,,"[{'_account_id': 5263}, {'_account_id': 6547}, {'_account_id': 8313}, {'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 30200}]","[{'number': 1, 'created': '2022-01-17 09:01:52.000000000', 'files': ['gerrit/acls/x/neutron-fwaas-dashboard.config', 'zuul.d/projects.yaml', 'zuul/main.yaml', 'gerrit/projects.yaml', 'gerrit/acls/x/neutron-fwaas.config'], 'web_link': 'https://opendev.org/openstack/project-config/commit/2ca380b4c18a5f88e7a2b840af4797a4e7ec88da', 'message': 'Rename openstack/neutron-fwass* to x/neutron-fwaas*\n\nneutron-fwaas has been deprecated as neutron stadium project.\nmany users still need L3 firewalls. our team wants to continue\nto maintain this project in the x namespace.\novn is the default ML2 driver for neutron. neutron-fwass support\nfor ovn is also planned.\n\nChange-Id: I93a03daa4715cba6527ab550817106c6a37b8a44\n'}]",9,824905,2ca380b4c18a5f88e7a2b840af4797a4e7ec88da,9,6,1,30380,,,0,"Rename openstack/neutron-fwass* to x/neutron-fwaas*

neutron-fwaas has been deprecated as neutron stadium project.
many users still need L3 firewalls. our team wants to continue
to maintain this project in the x namespace.
ovn is the default ML2 driver for neutron. neutron-fwass support
for ovn is also planned.

Change-Id: I93a03daa4715cba6527ab550817106c6a37b8a44
",git fetch https://review.opendev.org/openstack/project-config refs/changes/05/824905/1 && git format-patch -1 --stdout FETCH_HEAD,"['gerrit/acls/x/neutron-fwaas-dashboard.config', 'gerrit/projects.yaml', 'zuul.d/projects.yaml', 'zuul/main.yaml', 'gerrit/acls/x/neutron-fwaas.config']",5,2ca380b4c18a5f88e7a2b840af4797a4e7ec88da,,,,41,41
openstack%2Ftripleo-heat-templates~master~I66a97b37bfaae0c5931d32ec877a6230b5b6cefd,openstack/tripleo-heat-templates,master,I66a97b37bfaae0c5931d32ec877a6230b5b6cefd,Add heat::trustee parameters,MERGED,2021-10-13 04:48:42.000000000,2022-02-08 06:55:27.000000000,2022-02-08 06:55:27.000000000,"[{'_account_id': 8833}, {'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2021-10-13 04:48:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1881a746edbfdb8311fc7d8defa62a10f2905936', 'message': 'Add heat::trustee parameters\n\nThis is the prep work to use the new heat::trustee parameters and\ndefines parameter for the new class.\n\nChange-Id: I66a97b37bfaae0c5931d32ec877a6230b5b6cefd\n'}, {'number': 2, 'created': '2021-10-13 04:52:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/38da9452206687f0a97075b2e38ed9f7c66f601b', 'message': 'Add heat::trustee parameters\n\nThis is the prep work to use the new heat::trustee parameters and\ndefines parameter for the new class.\n\nDepends-on: https://review.opendev.org/813739\nChange-Id: I66a97b37bfaae0c5931d32ec877a6230b5b6cefd\n'}, {'number': 3, 'created': '2021-10-13 05:38:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7ea95e382e691f385c4857155b337bfa72151950', 'message': 'Add heat::trustee parameters\n\nThis is the prep work to use the new heat::trustee parameters and\ndefines parameter for the new class.\n\nDepends-on: https://review.opendev.org/813739\nChange-Id: I66a97b37bfaae0c5931d32ec877a6230b5b6cefd\n'}, {'number': 4, 'created': '2022-01-16 01:57:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7a1a3481169936523e707681df2d92794a3e1e9b', 'message': 'Add heat::trustee parameters\n\nThis is the prep work to use the new heat::trustee parameters and\ndefines parameter for the new class.\n\nDepends-on: https://review.opendev.org/824827\nChange-Id: I66a97b37bfaae0c5931d32ec877a6230b5b6cefd\n'}, {'number': 5, 'created': '2022-01-16 01:57:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4e8fae1cc26a7ea3ac6c4cb2c6c72a9b77de4cbb', 'message': 'Add heat::trustee parameters\n\nThis is the prep work to use the new heat::trustee parameters and\ndefines parameter for the new class.\n\nDepends-on: https://review.opendev.org/824827\nChange-Id: I66a97b37bfaae0c5931d32ec877a6230b5b6cefd\n'}, {'number': 6, 'created': '2022-02-01 14:24:35.000000000', 'files': ['deployment/heat/heat-base-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b2b9e983c1efe06e6fa5aa3bf6ee6310fa0a9c32', 'message': 'Add heat::trustee parameters\n\nThis is the prep work to use the new heat::trustee parameters and\ndefines parameter for the new class.\n\nDepends-on: https://review.opendev.org/824827\nChange-Id: I66a97b37bfaae0c5931d32ec877a6230b5b6cefd\n'}]",3,813740,b2b9e983c1efe06e6fa5aa3bf6ee6310fa0a9c32,25,5,6,9816,,,0,"Add heat::trustee parameters

This is the prep work to use the new heat::trustee parameters and
defines parameter for the new class.

Depends-on: https://review.opendev.org/824827
Change-Id: I66a97b37bfaae0c5931d32ec877a6230b5b6cefd
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/40/813740/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/heat/heat-base-puppet.yaml'],1,1881a746edbfdb8311fc7d8defa62a10f2905936,trustee-opts, heat::trustee::project_name: 'service' heat::trustee::user_domain_name: 'Default' heat::trustee::region_name: {get_param: KeystoneRegion},,3,0
openstack%2Fneutron-fwaas~master~I561504160e5548c54d1af31821c3366ab34cf0ec,openstack/neutron-fwaas,master,I561504160e5548c54d1af31821c3366ab34cf0ec,Retire neutron-fwaas project,MERGED,2020-06-16 09:25:06.000000000,2022-02-08 06:18:55.000000000,2020-06-18 14:54:53.000000000,"[{'_account_id': 841}, {'_account_id': 6547}, {'_account_id': 8556}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-16 09:25:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/3e2591b8e2471484cddf98f92bbef791e936f434', 'message': 'Retire neutron-fwaas project\n\nGovernance change is proposed at [1] and project config patch is\nproposed at [2]\n\n[1] https://review.opendev.org/735828\n[2] https://review.opendev.org/#/c/735812/\n\nChange-Id: I561504160e5548c54d1af31821c3366ab34cf0ec\n'}, {'number': 2, 'created': '2020-06-16 10:38:44.000000000', 'files': ['neutron_fwaas/db/migration/alembic_migrations/__init__.py', 'neutron_fwaas/tests/fullstack/__init__.py', 'test-requirements.txt', 'neutron_fwaas/services/logapi/agents/__init__.py', 'neutron_fwaas/services/logapi/common/log_db_api.py', 'neutron_fwaas/tests/contrib/gate_hook_tempest.sh', 'releasenotes/source/liberty.rst', 'neutron_fwaas/_i18n.py', 'doc/source/configuration/samples/neutron_fwaas.rst', 'neutron_fwaas/services/firewall/fwaas_plugin_v2.py', 'neutron_fwaas/tests/functional/services/logapi/__init__.py', 'neutron_fwaas/services/logapi/agents/drivers/__init__.py', 'neutron_fwaas/services/firewall/service_drivers/agents/drivers/linux/iptables_fwaas_v2.py', 'neutron_fwaas/services/logapi/agents/l3/fwg_log.py', 'neutron_fwaas/services/firewall/service_drivers/agents/drivers/linux/__init__.py', 'releasenotes/notes/ovs-firewall-driver-c347ea0a560b7e38.yaml', 'releasenotes/notes/fwaas-config-9c780ccfb0e7887f.yaml', 'neutron_fwaas/db/firewall/firewall_db.py', 'neutron_fwaas/services/firewall/service_drivers/agents/l2/fwaas_v2.py', 'neutron_fwaas/services/logapi/exceptions.py', 'releasenotes/source/newton.rst', 'devstack/lib/l3_agent', 'neutron_fwaas/privileged/netlink_lib.py', 'neutron_fwaas/services/firewall/service_drivers/agents/drivers/linux/l2/openvswitch_firewall/rules.py', 'neutron_fwaas/tests/unit/privileged/test_utils.py', 'releasenotes/notes/bug-1746404-493a66faac333403.yaml', 'neutron_fwaas/cmd/v1_to_v2_db_migration.py', 'neutron_fwaas/services/logapi/rpc/log_server.py', 'neutron_fwaas/db/migration/alembic_migrations/versions/pike/contract/fd38cd995cc0_shared_attribute_for_firewall_resources.py', 'doc/source/configuration/index.rst', 'neutron_fwaas/services/logapi/fwg_validate.py', 'releasenotes/notes/adding-new-tables-for-future-consumption-ffd537c1f82e2e01.yaml', 'tools/check_unit_test_structure.sh', 'neutron_fwaas/privileged/__init__.py', 'releasenotes/source/mitaka.rst', 'neutron_fwaas/tests/unit/services/logapi/common/test_fwg_callback.py', 'neutron_fwaas/tests/unit/services/logapi/rpc/__init__.py', 'neutron_fwaas/tests/unit/services/firewall/service_drivers/agents/drivers/linux/test_netlink_conntrack.py', 'releasenotes/notes/remove_fwaas_v1-15c6e19484f46d1b.yaml', 'neutron_fwaas/tests/unit/privileged/netfilter_log/__init__.py', 'releasenotes/notes/varmour-fwaas-driver-removal-f7aa304a4544134a.yaml', 'neutron_fwaas/db/migration/__init__.py', 'neutron_fwaas/tests/unit/cmd/upgrade_checks/test_checks.py', 'releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po', 'releasenotes/notes/bug-1702242-c917c832ac2fa4e1.yaml', 'neutron_fwaas/services/logapi/__init__.py', 'releasenotes/source/_templates/.placeholder', 'neutron_fwaas/tests/unit/services/logapi/rpc/test_log_server.py', 'neutron_fwaas/opts.py', 'neutron_fwaas/db/models/head.py', 'requirements.txt', 'bindep.txt', 'doc/source/contributor/index.rst', 'neutron_fwaas/tests/fullstack/resources/client.py', 'neutron_fwaas/tests/functional/db/test_migrations.py', 'neutron_fwaas/tests/unit/services/firewall/service_drivers/agents/drivers/linux/l2/openvswitch_firewall/test_firewall.py', 'neutron_fwaas/db/migration/alembic_migrations/versions/newton/expand/d6a12e637e28_neutron_fwaas_v2_0.py', 'neutron_fwaas/extensions/__init__.py', 'releasenotes/notes/enable-quotas-a3d0a21743bb1985.yaml', 'releasenotes/source/pike.rst', '.zuul.yaml', 'neutron_fwaas/privileged/tests/__init__.py', 'neutron_fwaas/db/models/__init__.py', 'neutron_fwaas/tests/unit/services/firewall/service_drivers/agents/l2/fake_data.py', 'neutron_fwaas/tests/unit/services/firewall/service_drivers/agents/drivers/linux/l2/openvswitch_firewall/test_rules.py', 'neutron_fwaas/tests/unit/services/logapi/common/test_log_db_api.py', 'neutron_fwaas/tests/fullstack/base.py', 'doc/source/index.rst', 'neutron_fwaas/services/firewall/service_drivers/__init__.py', 'neutron_fwaas/tests/unit/services/logapi/agents/l3/test_fwg_log.py', 'neutron_fwaas/tests/unit/services/firewall/service_drivers/test_driver_api.py', 'releasenotes/notes/config-file-generation-265c5256668a26bf.yaml', 'neutron_fwaas/services/logapi/common/port_callback.py', 'neutron_fwaas/tests/contrib/hooks/api_extensions-legacy', 'neutron_fwaas/services/firewall/service_drivers/agents/firewall_agent_api.py', 'neutron_fwaas/services/firewall/service_drivers/agents/drivers/linux/l2/openvswitch_firewall/__init__.py', 'neutron_fwaas/privileged/netfilter_log/libnetfilter_log.py', 'neutron_fwaas/version.py', 'README.rst', 'setup.py', 'neutron_fwaas/tests/unit/services/__init__.py', 'neutron_fwaas/common/exceptions.py', 'neutron_fwaas/services/firewall/service_drivers/driver_api.py', 'neutron_fwaas/services/logapi/agents/drivers/iptables/__init__.py', 'neutron_fwaas/services/firewall/service_drivers/agents/__init__.py', 'devstack/settings', 'releasenotes/notes/.placeholder', 'CONTRIBUTING.rst', 'neutron_fwaas/db/migration/alembic_migrations/versions/queens/expand/f24e0d5e5bff_uniq_firewallgroupportassociation0port.py', 'neutron_fwaas/tests/unit/services/logapi/common/__init__.py', 'neutron_fwaas/tests/contrib/functional-testing.filters', 'devstack/lib/l2_agent', 'neutron_fwaas/db/firewall/__init__.py', 'releasenotes/notes/bug-1799358-360c6ab27a32e0ac.yaml', 'LICENSE', 'neutron_fwaas/db/migration/alembic_migrations/versions/start_neutron_fwaas.py', 'neutron_fwaas/extensions/firewall_v2.py', 'neutron_fwaas/services/firewall/service_drivers/agents/drivers/linux/l2/noop/noop_driver.py', 'neutron_fwaas/policies/firewall_group.py', 'neutron_fwaas/tests/unit/services/logapi/agents/drivers/iptables/__init__.py', 'neutron_fwaas/services/firewall/service_drivers/agents/drivers/linux/legacy_conntrack.py', 'neutron_fwaas/services/firewall/service_drivers/agents/drivers/linux/netlink_conntrack.py', 'releasenotes/notes/vyatta-fwaas-driver-removal-e38e6ecde5105084.yaml', 'neutron_fwaas/services/firewall/service_drivers/agents/drivers/linux/l2/__init__.py', 'neutron_fwaas/tests/base.py', 'releasenotes/source/index.rst', 'neutron_fwaas/services/firewall/service_drivers/agents/drivers/__init__.py', 'neutron_fwaas/services/logapi/agents/drivers/iptables/log.py', 'neutron_fwaas/tests/unit/services/firewall/service_drivers/agents/drivers/__init__.py', 'etc/neutron/rootwrap.d/fwaas-privsep.filters', 'doc/source/configuration/neutron_fwaas.rst', 'neutron_fwaas/policies/__init__.py', 'neutron_fwaas/common/resources.py', 'neutron_fwaas/tests/unit/db/__init__.py', 'neutron_fwaas/tests/unit/services/logapi/common/test_port_callback.py', 'neutron_fwaas/common/__init__.py', 'neutron_fwaas/tests/functional/db/__init__.py', 'releasenotes/source/ocata.rst', 'tools/configure_for_fwaas_func_testing.sh', '.gitignore', 'neutron_fwaas/tests/unit/services/firewall/service_drivers/agents/test_firewall_service.py', 'releasenotes/notes/validation_if_port_is_supported-639d0df705eb67f9.yaml', 'neutron_fwaas/tests/functional/services/__init__.py', 'neutron_fwaas/tests/functional/services/logapi/agents/drivers/iptables/__init__.py', 'neutron_fwaas/services/firewall/service_drivers/agents/drivers/linux/l2/openvswitch_firewall/firewall.py', 'neutron_fwaas/tests/unit/services/firewall/service_drivers/agents/l2/__init__.py', 'neutron_fwaas/tests/unit/services/firewall/service_drivers/agents/l3reference/test_firewall_l3_agent_v2.py', 'neutron_fwaas/db/migration/alembic_migrations/versions/540142f314f4_fwaas_router_insertion.py', 'neutron_fwaas/services/firewall/service_drivers/agents/drivers/conntrack_base.py', 'neutron_fwaas/cmd/upgrade_checks/__init__.py', 'neutron_fwaas/tests/fullstack/resources/config.py', 'neutron_fwaas/tests/unit/services/firewall/service_drivers/agents/l2/test_fwaas_v2.py', 'neutron_fwaas/tests/unit/cmd/upgrade_checks/__init__.py', 'doc/source/configuration/policy.rst', 'etc/oslo-config-generator/fwaas_driver.ini', 'neutron_fwaas/tests/functional/services/logapi/agents/drivers/iptables/test_log.py', 'neutron_fwaas/tests/unit/services/logapi/base.py', 'neutron_fwaas/tests/unit/services/logapi/test_fwg_validate.py', 'neutron_fwaas/db/firewall/v2/__init__.py', 'neutron_fwaas/tests/fullstack/resources/__init__.py', 'devstack/plugin.sh', 'neutron_fwaas/services/firewall/service_drivers/agents/drivers/linux/l2/noop/__init__.py', 'neutron_fwaas/services/firewall/service_drivers/agents/drivers/linux/l2/driver_base.py', 'releasenotes/source/queens.rst', 'doc/source/_static/.placeholder', 'neutron_fwaas/tests/unit/services/firewall/service_drivers/agents/test_firewall_agent_api.py', 'TESTING.rst', 'releasenotes/source/conf.py', 'neutron_fwaas/services/logapi/rpc/__init__.py', 'neutron_fwaas/db/migration/alembic_migrations/versions/CONTRACT_HEAD', '.pylintrc', 'neutron_fwaas/privileged/netfilter_log/__init__.py', 'neutron_fwaas/tests/functional/services/logapi/agents/__init__.py', 'neutron_fwaas/tests/unit/db/firewall/__init__.py', 'neutron_fwaas/tests/unit/services/firewall/service_drivers/agents/l3reference/__init__.py', 'neutron_fwaas/tests/fullstack/README', 'neutron_fwaas/services/firewall/service_drivers/agents/agents.py', 'neutron_fwaas/tests/unit/services/logapi/agents/drivers/iptables/test_log.py', 'neutron_fwaas/tests/__init__.py', 'neutron_fwaas/db/firewall/v2/firewall_db_v2.py', 'neutron_fwaas/tests/fullstack/resources/machine.py', '.coveragerc', 'neutron_fwaas/db/migration/alembic_migrations/versions/queens/expand/876782258a43_create_default_firewall_groups_table.py', 'neutron_fwaas/services/logapi/common/__init__.py', 'tools/configure_for_func_testing.sh', 'neutron_fwaas/services/firewall/service_drivers/agents/drivers/linux/l2/openvswitch_firewall/exceptions.py', 'neutron_fwaas/tests/contrib/filters.template', 'neutron_fwaas/tests/unit/services/firewall/service_drivers/agents/drivers/linux/l2/openvswitch_firewall/__init__.py', 'lower-constraints.txt', 'neutron_fwaas/tests/fullstack/resources/process.py', 'tools/deploy_rootwrap.sh', 'neutron_fwaas/tests/contrib/README', 'neutron_fwaas/common/fwaas_constants.py', 'neutron_fwaas/db/migration/alembic_migrations/versions/mitaka/contract/458aa42b14b_fw_table_alter.py', 'neutron_fwaas/services/firewall/service_drivers/agents/l2/__init__.py', 'neutron_fwaas/tests/unit/services/firewall/service_drivers/agents/__init__.py', 'neutron_fwaas/tests/unit/services/logapi/agents/drivers/__init__.py', 'neutron_fwaas/tests/fullstack/resources/environment.py', 'neutron_fwaas/privileged/netlink_constants.py', 'neutron_fwaas/tests/unit/services/firewall/service_drivers/agents/drivers/linux/l2/noop/test_noop_driver.py', 'doc/source/install/index.rst', 'neutron_fwaas/services/firewall/service_drivers/agents/firewall_service.py', 'neutron_fwaas/privileged/tests/functional/utils.py', 'neutron_fwaas/services/logapi/constants.py', 'neutron_fwaas/tests/contrib/hooks/api_extensions-base', 'releasenotes/notes/coexistence-between-sg-and-fwg-1f77a755539a9463.yaml', 'neutron_fwaas/policies/firewall_policy.py', 'neutron_fwaas/services/logapi/agents/drivers/iptables/driver.py', 'tools/generate_config_file_samples.sh', 'neutron_fwaas/db/__init__.py', 'neutron_fwaas/services/firewall/service_drivers/agents/l3reference/firewall_l3_agent_v2.py', 'releasenotes/source/locale/fr/LC_MESSAGES/releasenotes.po', 'neutron_fwaas/db/migration/alembic_migrations/README', 'neutron_fwaas/tests/contrib/hooks/iptables_verify', 'neutron_fwaas/db/migration/alembic_migrations/env.py', '.stestr.conf', 'neutron_fwaas/tests/unit/services/logapi/agents/drivers/iptables/test_driver.py', 'neutron_fwaas/privileged/tests/functional/__init__.py', 'neutron_fwaas/tests/functional/privileged/test_netlink_lib.py', 'releasenotes/notes/drop-python-2-7-73d3113c69d724c1.yaml', 'neutron_fwaas/services/firewall/service_drivers/agents/l3reference/__init__.py', 'babel.cfg', 'neutron_fwaas/__init__.py', 'neutron_fwaas/services/firewall/service_drivers/agents/drivers/fwaas_base_v2.py', 'releasenotes/notes/deprecate-neutron-fwaas-as-stadium-project-934d6acb3e824249.yaml', 'neutron_fwaas/tests/functional/privileged/test_dummy.py', 'neutron_fwaas/tests/unit/services/firewall/service_drivers/agents/drivers/linux/l2/noop/__init__.py', 'neutron_fwaas/services/logapi/agents/l3/__init__.py', 'neutron_fwaas/tests/unit/services/firewall/__init__.py', 'neutron_fwaas/services/firewall/__init__.py', 'neutron_fwaas/tests/unit/db/firewall/v2/__init__.py', 'releasenotes/notes/mcafee-fwaas-driver-removal-8915271e5d4288cf.yaml', 'doc/source/contributor/modules.rst', 'neutron_fwaas/db/migration/alembic_migrations/versions/4202e3047e47_add_index_tenant_id.py', 'doc/source/configuration/samples/fwaas_driver.rst', 'neutron_fwaas/tests/unit/privileged/__init__.py', 'HACKING.rst', 'doc/source/configuration/policy-sample.rst', 'neutron_fwaas/policies/firewall_rule.py', 'releasenotes/notes/cisco-fwaas-driver-move-8f46325d13c93543.yaml', 'neutron_fwaas/tests/unit/services/logapi/agents/l3/__init__.py', 'neutron_fwaas/db/migration/alembic_migrations/versions/liberty/contract/67c8e8d61d5_initial.py', 'neutron_fwaas/services/firewall/service_drivers/agents/drivers/fwaas_base.py', 'doc/source/contributor/fwaas_v2.rst', 'neutron_fwaas/cmd/upgrade_checks/checks.py', 'neutron_fwaas/policies/base.py', 'neutron_fwaas/tests/unit/privileged/test_netlink_lib.py', 'neutron_fwaas/tests/unit/services/firewall/test_fwaas_plugin_v2.py', 'releasenotes/source/rocky.rst', 'etc/oslo-config-generator/neutron_fwaas.conf', 'neutron_fwaas/db/migration/alembic_migrations/versions/liberty/expand/4b47ea298795_add_reject_rule.py', 'neutron_fwaas/tests/unit/privileged/netfilter_log/test_libnetfilter_log.py', 'neutron_fwaas/db/migration/alembic_migrations/versions/kilo_release.py', 'neutron_fwaas/tests/unit/db/firewall/v2/test_firewall_db_v2.py', 'releasenotes/notes/auto-association-default-firewall-group-7e9faf1afca1df85.yaml', 'etc/README.txt', 'neutron_fwaas/privileged/utils.py', '.mailmap', 'doc/source/contributor/devstack.rst', 'neutron_fwaas/tests/unit/services/logapi/agents/__init__.py', 'tools/clean.sh', 'setup.cfg', 'tox.ini', 'neutron_fwaas/tests/unit/services/firewall/service_drivers/agents/drivers/linux/test_iptables_fwaas_v2.py', 'doc/source/configuration/fwaas_driver.rst', 'neutron_fwaas/tests/unit/services/firewall/service_drivers/__init__.py', 'neutron_fwaas/tests/unit/__init__.py', 'etc/oslo-policy-generator/policy.conf', 'neutron_fwaas/db/migration/alembic_migrations/versions/EXPAND_HEAD', 'releasenotes/notes/fwaas-v2-logging-79cbaa43ff17f47f.yaml', 'doc/source/contributor/contributing.rst', 'neutron_fwaas/services/firewall/service_drivers/agents/drivers/linux/l2/openvswitch_firewall/constants.py', 'neutron_fwaas/tests/unit/services/firewall/service_drivers/agents/drivers/linux/l2/__init__.py', 'neutron_fwaas/services/logapi/common/fwg_callback.py', 'neutron_fwaas/tests/fullstack/utils.py', 'neutron_fwaas/services/__init__.py', 'releasenotes/source/_static/.placeholder', 'neutron_fwaas/tests/fullstack/test_l3_agent.py', 'releasenotes/source/stein.rst', 'neutron_fwaas/db/migration/alembic_migrations/versions/newton/contract/f83a0b2964d0_rename_tenant_to_project.py', 'neutron_fwaas/tests/contrib/gate_hook.sh', 'neutron_fwaas/tests/functional/privileged/test_utils.py', 'doc/source/conf.py', 'neutron_fwaas/db/migration/alembic_migrations/versions/liberty/expand/c40fbb377ad_initial.py', 'devstack/README.rst', 'neutron_fwaas/tests/functional/__init__.py', 'neutron_fwaas/tests/unit/services/logapi/__init__.py', 'releasenotes/source/unreleased.rst', 'neutron_fwaas/db/migration/alembic_migrations/script.py.mako', 'neutron_fwaas/tests/contrib/hooks/api_extensions-v2', 'neutron_fwaas/tests/unit/services/firewall/service_drivers/agents/test_agents.py', 'neutron_fwaas/tests/contrib/hooks/api_extensions-v1', 'neutron_fwaas/privileged/tests/functional/dummy.py', 'neutron_fwaas/tests/unit/services/firewall/service_drivers/agents/drivers/linux/__init__.py', 'neutron_fwaas/cmd/__init__.py', 'neutron_fwaas/tests/unit/services/firewall/service_drivers/agents/drivers/linux/test_legacy_conntrack.py', 'doc/requirements.txt', 'neutron_fwaas/db/migration/alembic_migrations/versions/796c68dffbb_cisco_csr_fwaas.py', 'neutron_fwaas/tests/functional/privileged/__init__.py', 'neutron_fwaas/tests/unit/cmd/__init__.py', 'releasenotes/notes/fwaas_v2-374471c215af0ca0.yaml', 'neutron_fwaas/tests/contrib/post_test_hook.sh', 'neutron_fwaas/tests/functional/services/logapi/agents/drivers/__init__.py'], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/caae7b6a6f5e8944dbe359b6472be2507bbf5e12', 'message': 'Retire neutron-fwaas project\n\nGovernance change is proposed at [1] and project config patch is\nproposed at [2]\n\n[1] https://review.opendev.org/735828\n[2] https://review.opendev.org/#/c/735812/\n\nChange-Id: I561504160e5548c54d1af31821c3366ab34cf0ec\n'}]",0,735829,caae7b6a6f5e8944dbe359b6472be2507bbf5e12,18,7,2,11975,,,0,"Retire neutron-fwaas project

Governance change is proposed at [1] and project config patch is
proposed at [2]

[1] https://review.opendev.org/735828
[2] https://review.opendev.org/#/c/735812/

Change-Id: I561504160e5548c54d1af31821c3366ab34cf0ec
",git fetch https://review.opendev.org/openstack/neutron-fwaas refs/changes/29/735829/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_fwaas/db/migration/alembic_migrations/__init__.py', 'neutron_fwaas/tests/fullstack/__init__.py', 'test-requirements.txt', 'neutron_fwaas/services/logapi/agents/__init__.py', 'neutron_fwaas/services/logapi/common/log_db_api.py', 'neutron_fwaas/tests/contrib/gate_hook_tempest.sh', 'releasenotes/source/liberty.rst', 'neutron_fwaas/_i18n.py', 'doc/source/configuration/samples/neutron_fwaas.rst', 'neutron_fwaas/services/firewall/fwaas_plugin_v2.py', 'neutron_fwaas/tests/functional/services/logapi/__init__.py', 'neutron_fwaas/services/logapi/agents/drivers/__init__.py', 'neutron_fwaas/services/firewall/service_drivers/agents/drivers/linux/iptables_fwaas_v2.py', 'neutron_fwaas/services/logapi/agents/l3/fwg_log.py', 'neutron_fwaas/services/firewall/service_drivers/agents/drivers/linux/__init__.py', 'releasenotes/notes/ovs-firewall-driver-c347ea0a560b7e38.yaml', 'releasenotes/notes/fwaas-config-9c780ccfb0e7887f.yaml', 'neutron_fwaas/db/firewall/firewall_db.py', 'neutron_fwaas/services/firewall/service_drivers/agents/l2/fwaas_v2.py', 'neutron_fwaas/services/logapi/exceptions.py', 'releasenotes/source/newton.rst', 'devstack/lib/l3_agent', 'neutron_fwaas/privileged/netlink_lib.py', 'neutron_fwaas/services/firewall/service_drivers/agents/drivers/linux/l2/openvswitch_firewall/rules.py', 'neutron_fwaas/tests/unit/privileged/test_utils.py', 'releasenotes/notes/bug-1746404-493a66faac333403.yaml', 'neutron_fwaas/cmd/v1_to_v2_db_migration.py', 'neutron_fwaas/services/logapi/rpc/log_server.py', 'neutron_fwaas/db/migration/alembic_migrations/versions/pike/contract/fd38cd995cc0_shared_attribute_for_firewall_resources.py', 'doc/source/configuration/index.rst', 'neutron_fwaas/services/logapi/fwg_validate.py', 'releasenotes/notes/adding-new-tables-for-future-consumption-ffd537c1f82e2e01.yaml', 'tools/check_unit_test_structure.sh', 'neutron_fwaas/privileged/__init__.py', 'releasenotes/source/mitaka.rst', 'neutron_fwaas/tests/unit/services/logapi/common/test_fwg_callback.py', 'neutron_fwaas/tests/unit/services/logapi/rpc/__init__.py', 'neutron_fwaas/tests/unit/services/firewall/service_drivers/agents/drivers/linux/test_netlink_conntrack.py', 'releasenotes/notes/remove_fwaas_v1-15c6e19484f46d1b.yaml', 'neutron_fwaas/tests/unit/privileged/netfilter_log/__init__.py', 'releasenotes/notes/varmour-fwaas-driver-removal-f7aa304a4544134a.yaml', 'neutron_fwaas/db/migration/__init__.py', 'neutron_fwaas/tests/unit/cmd/upgrade_checks/test_checks.py', 'releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po', 'releasenotes/notes/bug-1702242-c917c832ac2fa4e1.yaml', 'neutron_fwaas/services/logapi/__init__.py', 'releasenotes/source/_templates/.placeholder', 'neutron_fwaas/tests/unit/services/logapi/rpc/test_log_server.py', 'neutron_fwaas/opts.py', 'neutron_fwaas/db/models/head.py', 'requirements.txt', 'bindep.txt', 'doc/source/contributor/index.rst', 'neutron_fwaas/tests/fullstack/resources/client.py', 'neutron_fwaas/tests/functional/db/test_migrations.py', 'neutron_fwaas/tests/unit/services/firewall/service_drivers/agents/drivers/linux/l2/openvswitch_firewall/test_firewall.py', 'neutron_fwaas/db/migration/alembic_migrations/versions/newton/expand/d6a12e637e28_neutron_fwaas_v2_0.py', 'neutron_fwaas/extensions/__init__.py', 'releasenotes/notes/enable-quotas-a3d0a21743bb1985.yaml', 'releasenotes/source/pike.rst', 'neutron_fwaas/privileged/tests/__init__.py', 'neutron_fwaas/db/models/__init__.py', 'neutron_fwaas/tests/unit/services/firewall/service_drivers/agents/l2/fake_data.py', 'neutron_fwaas/tests/unit/services/firewall/service_drivers/agents/drivers/linux/l2/openvswitch_firewall/test_rules.py', 'neutron_fwaas/tests/unit/services/logapi/common/test_log_db_api.py', 'neutron_fwaas/tests/fullstack/base.py', 'doc/source/index.rst', 'neutron_fwaas/services/firewall/service_drivers/__init__.py', 'neutron_fwaas/tests/unit/services/logapi/agents/l3/test_fwg_log.py', 'neutron_fwaas/tests/unit/services/firewall/service_drivers/test_driver_api.py', 'releasenotes/notes/config-file-generation-265c5256668a26bf.yaml', 'neutron_fwaas/services/logapi/common/port_callback.py', 'neutron_fwaas/tests/contrib/hooks/api_extensions-legacy', 'neutron_fwaas/services/firewall/service_drivers/agents/firewall_agent_api.py', 'neutron_fwaas/services/firewall/service_drivers/agents/drivers/linux/l2/openvswitch_firewall/__init__.py', 'neutron_fwaas/privileged/netfilter_log/libnetfilter_log.py', 'neutron_fwaas/version.py', 'README.rst', 'setup.py', 'neutron_fwaas/tests/unit/services/__init__.py', 'neutron_fwaas/common/exceptions.py', 'neutron_fwaas/services/firewall/service_drivers/driver_api.py', 'neutron_fwaas/services/logapi/agents/drivers/iptables/__init__.py', 'neutron_fwaas/services/firewall/service_drivers/agents/__init__.py', 'devstack/settings', 'releasenotes/notes/.placeholder', 'CONTRIBUTING.rst', 'neutron_fwaas/db/migration/alembic_migrations/versions/queens/expand/f24e0d5e5bff_uniq_firewallgroupportassociation0port.py', 'neutron_fwaas/tests/unit/services/logapi/common/__init__.py', 'neutron_fwaas/tests/contrib/functional-testing.filters', 'devstack/lib/l2_agent', 'neutron_fwaas/db/firewall/__init__.py', 'releasenotes/notes/bug-1799358-360c6ab27a32e0ac.yaml', 'LICENSE', 'neutron_fwaas/db/migration/alembic_migrations/versions/start_neutron_fwaas.py', 'neutron_fwaas/extensions/firewall_v2.py', 'neutron_fwaas/services/firewall/service_drivers/agents/drivers/linux/l2/noop/noop_driver.py', 'neutron_fwaas/policies/firewall_group.py', 'neutron_fwaas/tests/unit/services/logapi/agents/drivers/iptables/__init__.py', 'neutron_fwaas/services/firewall/service_drivers/agents/drivers/linux/legacy_conntrack.py', 'neutron_fwaas/services/firewall/service_drivers/agents/drivers/linux/netlink_conntrack.py', 'releasenotes/notes/vyatta-fwaas-driver-removal-e38e6ecde5105084.yaml', 'neutron_fwaas/services/firewall/service_drivers/agents/drivers/linux/l2/__init__.py', 'neutron_fwaas/tests/base.py', 'releasenotes/source/index.rst', 'neutron_fwaas/services/firewall/service_drivers/agents/drivers/__init__.py', 'neutron_fwaas/services/logapi/agents/drivers/iptables/log.py', 'neutron_fwaas/tests/unit/services/firewall/service_drivers/agents/drivers/__init__.py', 'etc/neutron/rootwrap.d/fwaas-privsep.filters', 'doc/source/configuration/neutron_fwaas.rst', 'neutron_fwaas/policies/__init__.py', 'neutron_fwaas/common/resources.py', 'neutron_fwaas/tests/unit/db/__init__.py', 'neutron_fwaas/tests/unit/services/logapi/common/test_port_callback.py', 'neutron_fwaas/common/__init__.py', 'neutron_fwaas/tests/functional/db/__init__.py', 'releasenotes/source/ocata.rst', 'tools/configure_for_fwaas_func_testing.sh', 'neutron_fwaas/tests/unit/services/firewall/service_drivers/agents/test_firewall_service.py', 'releasenotes/notes/validation_if_port_is_supported-639d0df705eb67f9.yaml', 'neutron_fwaas/tests/functional/services/__init__.py', 'neutron_fwaas/tests/functional/services/logapi/agents/drivers/iptables/__init__.py', 'neutron_fwaas/services/firewall/service_drivers/agents/drivers/linux/l2/openvswitch_firewall/firewall.py', 'neutron_fwaas/tests/unit/services/firewall/service_drivers/agents/l2/__init__.py', 'neutron_fwaas/tests/unit/services/firewall/service_drivers/agents/l3reference/test_firewall_l3_agent_v2.py', 'neutron_fwaas/db/migration/alembic_migrations/versions/540142f314f4_fwaas_router_insertion.py', 'neutron_fwaas/services/firewall/service_drivers/agents/drivers/conntrack_base.py', 'neutron_fwaas/cmd/upgrade_checks/__init__.py', 'neutron_fwaas/tests/fullstack/resources/config.py', 'neutron_fwaas/tests/unit/services/firewall/service_drivers/agents/l2/test_fwaas_v2.py', 'neutron_fwaas/tests/unit/cmd/upgrade_checks/__init__.py', 'doc/source/configuration/policy.rst', 'etc/oslo-config-generator/fwaas_driver.ini', 'neutron_fwaas/tests/functional/services/logapi/agents/drivers/iptables/test_log.py', 'neutron_fwaas/tests/unit/services/logapi/base.py', 'neutron_fwaas/tests/unit/services/logapi/test_fwg_validate.py', 'neutron_fwaas/db/firewall/v2/__init__.py', 'neutron_fwaas/tests/fullstack/resources/__init__.py', 'devstack/plugin.sh', 'neutron_fwaas/services/firewall/service_drivers/agents/drivers/linux/l2/noop/__init__.py', 'neutron_fwaas/services/firewall/service_drivers/agents/drivers/linux/l2/driver_base.py', 'releasenotes/source/queens.rst', 'doc/source/_static/.placeholder', 'neutron_fwaas/tests/unit/services/firewall/service_drivers/agents/test_firewall_agent_api.py', 'TESTING.rst', 'releasenotes/source/conf.py', 'neutron_fwaas/services/logapi/rpc/__init__.py', 'neutron_fwaas/db/migration/alembic_migrations/versions/CONTRACT_HEAD', 'neutron_fwaas/privileged/netfilter_log/__init__.py', 'neutron_fwaas/tests/functional/services/logapi/agents/__init__.py', 'neutron_fwaas/tests/unit/db/firewall/__init__.py', 'neutron_fwaas/tests/unit/services/firewall/service_drivers/agents/l3reference/__init__.py', 'neutron_fwaas/tests/fullstack/README', 'neutron_fwaas/services/firewall/service_drivers/agents/agents.py', 'neutron_fwaas/tests/unit/services/logapi/agents/drivers/iptables/test_log.py', 'neutron_fwaas/tests/__init__.py', 'neutron_fwaas/db/firewall/v2/firewall_db_v2.py', 'neutron_fwaas/tests/fullstack/resources/machine.py', 'neutron_fwaas/db/migration/alembic_migrations/versions/queens/expand/876782258a43_create_default_firewall_groups_table.py', 'neutron_fwaas/services/logapi/common/__init__.py', 'tools/configure_for_func_testing.sh', 'neutron_fwaas/services/firewall/service_drivers/agents/drivers/linux/l2/openvswitch_firewall/exceptions.py', 'neutron_fwaas/tests/contrib/filters.template', 'neutron_fwaas/tests/unit/services/firewall/service_drivers/agents/drivers/linux/l2/openvswitch_firewall/__init__.py', 'lower-constraints.txt', 'neutron_fwaas/tests/fullstack/resources/process.py', 'tools/deploy_rootwrap.sh', 'neutron_fwaas/tests/contrib/README', 'neutron_fwaas/common/fwaas_constants.py', 'neutron_fwaas/db/migration/alembic_migrations/versions/mitaka/contract/458aa42b14b_fw_table_alter.py', 'neutron_fwaas/services/firewall/service_drivers/agents/l2/__init__.py', 'neutron_fwaas/tests/unit/services/firewall/service_drivers/agents/__init__.py', 'neutron_fwaas/tests/unit/services/logapi/agents/drivers/__init__.py', 'neutron_fwaas/tests/fullstack/resources/environment.py', 'neutron_fwaas/privileged/netlink_constants.py', 'neutron_fwaas/tests/unit/services/firewall/service_drivers/agents/drivers/linux/l2/noop/test_noop_driver.py', 'doc/source/install/index.rst', 'neutron_fwaas/services/firewall/service_drivers/agents/firewall_service.py', 'neutron_fwaas/privileged/tests/functional/utils.py', 'neutron_fwaas/services/logapi/constants.py', 'neutron_fwaas/tests/contrib/hooks/api_extensions-base', 'releasenotes/notes/coexistence-between-sg-and-fwg-1f77a755539a9463.yaml', 'neutron_fwaas/policies/firewall_policy.py', 'neutron_fwaas/services/logapi/agents/drivers/iptables/driver.py', 'tools/generate_config_file_samples.sh', 'neutron_fwaas/db/__init__.py', 'neutron_fwaas/services/firewall/service_drivers/agents/l3reference/firewall_l3_agent_v2.py', 'releasenotes/source/locale/fr/LC_MESSAGES/releasenotes.po', 'neutron_fwaas/db/migration/alembic_migrations/README', 'neutron_fwaas/tests/contrib/hooks/iptables_verify', 'neutron_fwaas/db/migration/alembic_migrations/env.py', 'neutron_fwaas/tests/unit/services/logapi/agents/drivers/iptables/test_driver.py', 'neutron_fwaas/privileged/tests/functional/__init__.py', 'neutron_fwaas/tests/functional/privileged/test_netlink_lib.py', 'releasenotes/notes/drop-python-2-7-73d3113c69d724c1.yaml', 'neutron_fwaas/services/firewall/service_drivers/agents/l3reference/__init__.py', 'babel.cfg', 'neutron_fwaas/__init__.py', 'neutron_fwaas/services/firewall/service_drivers/agents/drivers/fwaas_base_v2.py', 'releasenotes/notes/deprecate-neutron-fwaas-as-stadium-project-934d6acb3e824249.yaml', 'neutron_fwaas/tests/functional/privileged/test_dummy.py', 'neutron_fwaas/tests/unit/services/firewall/service_drivers/agents/drivers/linux/l2/noop/__init__.py', 'neutron_fwaas/services/logapi/agents/l3/__init__.py', 'neutron_fwaas/tests/unit/services/firewall/__init__.py', 'neutron_fwaas/services/firewall/__init__.py', 'neutron_fwaas/tests/unit/db/firewall/v2/__init__.py', 'releasenotes/notes/mcafee-fwaas-driver-removal-8915271e5d4288cf.yaml', 'doc/source/contributor/modules.rst', 'neutron_fwaas/db/migration/alembic_migrations/versions/4202e3047e47_add_index_tenant_id.py', 'doc/source/configuration/samples/fwaas_driver.rst', 'neutron_fwaas/tests/unit/privileged/__init__.py', 'HACKING.rst', 'doc/source/configuration/policy-sample.rst', 'neutron_fwaas/policies/firewall_rule.py', 'releasenotes/notes/cisco-fwaas-driver-move-8f46325d13c93543.yaml', 'neutron_fwaas/tests/unit/services/logapi/agents/l3/__init__.py', 'neutron_fwaas/db/migration/alembic_migrations/versions/liberty/contract/67c8e8d61d5_initial.py', 'neutron_fwaas/services/firewall/service_drivers/agents/drivers/fwaas_base.py', 'doc/source/contributor/fwaas_v2.rst', 'neutron_fwaas/cmd/upgrade_checks/checks.py', 'neutron_fwaas/policies/base.py', 'neutron_fwaas/tests/unit/privileged/test_netlink_lib.py', 'neutron_fwaas/tests/unit/services/firewall/test_fwaas_plugin_v2.py', 'releasenotes/source/rocky.rst', 'etc/oslo-config-generator/neutron_fwaas.conf', 'neutron_fwaas/db/migration/alembic_migrations/versions/liberty/expand/4b47ea298795_add_reject_rule.py', 'neutron_fwaas/tests/unit/privileged/netfilter_log/test_libnetfilter_log.py', 'neutron_fwaas/db/migration/alembic_migrations/versions/kilo_release.py', 'neutron_fwaas/tests/unit/db/firewall/v2/test_firewall_db_v2.py', 'releasenotes/notes/auto-association-default-firewall-group-7e9faf1afca1df85.yaml', 'etc/README.txt', 'neutron_fwaas/privileged/utils.py', 'doc/source/contributor/devstack.rst', 'neutron_fwaas/tests/unit/services/logapi/agents/__init__.py', 'tools/clean.sh', 'setup.cfg', 'tox.ini', 'neutron_fwaas/tests/unit/services/firewall/service_drivers/agents/drivers/linux/test_iptables_fwaas_v2.py', 'doc/source/configuration/fwaas_driver.rst', 'neutron_fwaas/tests/unit/services/firewall/service_drivers/__init__.py', 'neutron_fwaas/tests/unit/__init__.py', 'etc/oslo-policy-generator/policy.conf', 'neutron_fwaas/db/migration/alembic_migrations/versions/EXPAND_HEAD', 'releasenotes/notes/fwaas-v2-logging-79cbaa43ff17f47f.yaml', 'doc/source/contributor/contributing.rst', 'neutron_fwaas/services/firewall/service_drivers/agents/drivers/linux/l2/openvswitch_firewall/constants.py', 'neutron_fwaas/tests/unit/services/firewall/service_drivers/agents/drivers/linux/l2/__init__.py', 'neutron_fwaas/services/logapi/common/fwg_callback.py', 'neutron_fwaas/tests/fullstack/utils.py', 'neutron_fwaas/services/__init__.py', 'releasenotes/source/_static/.placeholder', 'neutron_fwaas/tests/fullstack/test_l3_agent.py', 'releasenotes/source/stein.rst', 'neutron_fwaas/db/migration/alembic_migrations/versions/newton/contract/f83a0b2964d0_rename_tenant_to_project.py', 'neutron_fwaas/tests/contrib/gate_hook.sh', 'neutron_fwaas/tests/functional/privileged/test_utils.py', 'doc/source/conf.py', 'neutron_fwaas/db/migration/alembic_migrations/versions/liberty/expand/c40fbb377ad_initial.py', 'devstack/README.rst', 'neutron_fwaas/tests/functional/__init__.py', 'neutron_fwaas/tests/unit/services/logapi/__init__.py', 'releasenotes/source/unreleased.rst', 'neutron_fwaas/db/migration/alembic_migrations/script.py.mako', 'neutron_fwaas/tests/contrib/hooks/api_extensions-v2', 'neutron_fwaas/tests/unit/services/firewall/service_drivers/agents/test_agents.py', 'neutron_fwaas/tests/contrib/hooks/api_extensions-v1', 'neutron_fwaas/privileged/tests/functional/dummy.py', 'neutron_fwaas/tests/unit/services/firewall/service_drivers/agents/drivers/linux/__init__.py', 'neutron_fwaas/cmd/__init__.py', 'neutron_fwaas/tests/unit/services/firewall/service_drivers/agents/drivers/linux/test_legacy_conntrack.py', 'doc/requirements.txt', 'neutron_fwaas/db/migration/alembic_migrations/versions/796c68dffbb_cisco_csr_fwaas.py', 'neutron_fwaas/tests/functional/privileged/__init__.py', 'neutron_fwaas/tests/unit/cmd/__init__.py', 'releasenotes/notes/fwaas_v2-374471c215af0ca0.yaml', 'neutron_fwaas/tests/contrib/post_test_hook.sh', 'neutron_fwaas/tests/functional/services/logapi/agents/drivers/__init__.py']",277,3e2591b8e2471484cddf98f92bbef791e936f434,retire-neutron-fwaas,,,8,25382
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I610d8f321bb7705050d62de9bb5bcf1a22aa0ea4,openstack/tripleo-heat-templates,stable/train,I610d8f321bb7705050d62de9bb5bcf1a22aa0ea4,Use only internal endpoints in Octavia controller services,MERGED,2022-01-17 16:27:21.000000000,2022-02-08 06:08:28.000000000,2022-02-08 06:08:28.000000000,"[{'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2022-01-17 16:27:21.000000000', 'files': ['deployment/octavia/octavia-base.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a6c91404889df7d55153b99fd86f402bdcbfa5c0', 'message': ""Use only internal endpoints in Octavia controller services\n\nOctavia controller services should use internal endpoints instead of the\ndefault public endpoints.\nSome deployment topologies (composable networkers) don't allow\ncommunication between the nodes that run Octavia and the public\nendpoints.\n\nDepends-On: https://review.opendev.org/c/openstack/puppet-tripleo/+/824989\n\nConflicts:\n\tdeployment/octavia/octavia-base.yaml\n\nChange-Id: I610d8f321bb7705050d62de9bb5bcf1a22aa0ea4\n(cherry picked from commit 3055a4f118a48d7c23a0095675bdd30f69acd622)\n(cherry picked from commit 2ca0ebbdddeb18d9bedfe2177feed033ddb2c334)\n(cherry picked from commit 7a54602e444bd69eac187952ff61f67987d65244)\n""}]",0,824992,a6c91404889df7d55153b99fd86f402bdcbfa5c0,8,4,1,29244,,,0,"Use only internal endpoints in Octavia controller services

Octavia controller services should use internal endpoints instead of the
default public endpoints.
Some deployment topologies (composable networkers) don't allow
communication between the nodes that run Octavia and the public
endpoints.

Depends-On: https://review.opendev.org/c/openstack/puppet-tripleo/+/824989

Conflicts:
	deployment/octavia/octavia-base.yaml

Change-Id: I610d8f321bb7705050d62de9bb5bcf1a22aa0ea4
(cherry picked from commit 3055a4f118a48d7c23a0095675bdd30f69acd622)
(cherry picked from commit 2ca0ebbdddeb18d9bedfe2177feed033ddb2c334)
(cherry picked from commit 7a54602e444bd69eac187952ff61f67987d65244)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/92/824992/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/octavia/octavia-base.yaml'],1,a6c91404889df7d55153b99fd86f402bdcbfa5c0,, octavia::nova::endpoint_type: 'internalURL' octavia::neutron::endpoint_type: 'internalURL' octavia::glance::endpoint_type: 'internalURL' octavia::certificates::endpoint_type: 'internalURL',,4,0
openstack%2Fopenstack-zuul-jobs~master~Ice106cfee23c514a5e5716d4368af9f62360e2f7,openstack/openstack-zuul-jobs,master,Ice106cfee23c514a5e5716d4368af9f62360e2f7,wheel-cache: update openstack package for 8-stream,MERGED,2022-02-08 03:37:44.000000000,2022-02-08 05:51:06.000000000,2022-02-08 05:49:44.000000000,"[{'_account_id': 4146}, {'_account_id': 7118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-08 03:37:44.000000000', 'files': ['playbooks/wheel-cache/pre.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/d7cfa6b0030fe4df7b1bbfd5c29f1775892e258f', 'message': ""wheel-cache: update openstack package for 8-stream\n\nThis old openstack package brings in centos-release-ceph-nautilus\nwhich actually has an incorrect mirrorlist entry in it's .repo file\nthat tries to point it at the centos-8 repos [1].  When upstream\nretired CentOS 8 this stopped responding.  Update to Xena (we don't\nrely on any of these bits, it's just one or two packages we need\nbindep to install for the wheel builds).\n\n[1] https://bugzilla.redhat.com/show_bug.cgi?id=2051792\n\nChange-Id: Ice106cfee23c514a5e5716d4368af9f62360e2f7\n""}]",1,828213,d7cfa6b0030fe4df7b1bbfd5c29f1775892e258f,9,3,1,7118,,,0,"wheel-cache: update openstack package for 8-stream

This old openstack package brings in centos-release-ceph-nautilus
which actually has an incorrect mirrorlist entry in it's .repo file
that tries to point it at the centos-8 repos [1].  When upstream
retired CentOS 8 this stopped responding.  Update to Xena (we don't
rely on any of these bits, it's just one or two packages we need
bindep to install for the wheel builds).

[1] https://bugzilla.redhat.com/show_bug.cgi?id=2051792

Change-Id: Ice106cfee23c514a5e5716d4368af9f62360e2f7
",git fetch https://review.opendev.org/openstack/openstack-zuul-jobs refs/changes/13/828213/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/wheel-cache/pre.yaml'],1,d7cfa6b0030fe4df7b1bbfd5c29f1775892e258f,centos-8-stream, - name: Add centos-release-openstack for CentOS 7 - name: Add centos-release-openstack for CentOS 8 yum: name: centos-release-openstack-xena, - name: Add centos-release-openstack - name: Add centos-release-openstack yum: name: centos-release-openstack-ussuri,3,3
openstack%2Fpython-glanceclient~master~I3d9360785a759e4a6e7905710400baea80776052,openstack/python-glanceclient,master,I3d9360785a759e4a6e7905710400baea80776052,Add support for usage API,MERGED,2022-01-31 20:23:10.000000000,2022-02-08 05:09:55.000000000,2022-02-08 05:08:22.000000000,"[{'_account_id': 8122}, {'_account_id': 9303}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-31 20:23:10.000000000', 'files': ['glanceclient/v2/info.py', 'glanceclient/tests/unit/v2/test_shell_v2.py', 'glanceclient/v2/shell.py', 'glanceclient/v2/client.py', 'glanceclient/tests/unit/v2/test_info.py'], 'web_link': 'https://opendev.org/openstack/python-glanceclient/commit/3f001f5f11941203cc6c2d8505e84ab31891bd0e', 'message': 'Add support for usage API\n\nThis is really a very simple activity of fetching and showing the\nresults of the usage API in table form for the user.\n\nDepends-On: https://review.opendev.org/c/openstack/glance/+/794860\nChange-Id: I3d9360785a759e4a6e7905710400baea80776052\n'}]",1,827174,3f001f5f11941203cc6c2d8505e84ab31891bd0e,9,3,1,4393,,,0,"Add support for usage API

This is really a very simple activity of fetching and showing the
results of the usage API in table form for the user.

Depends-On: https://review.opendev.org/c/openstack/glance/+/794860
Change-Id: I3d9360785a759e4a6e7905710400baea80776052
",git fetch https://review.opendev.org/openstack/python-glanceclient refs/changes/74/827174/1 && git format-patch -1 --stdout FETCH_HEAD,"['glanceclient/v2/info.py', 'glanceclient/tests/unit/v2/test_shell_v2.py', 'glanceclient/v2/shell.py', 'glanceclient/v2/client.py', 'glanceclient/tests/unit/v2/test_info.py']",5,3f001f5f11941203cc6c2d8505e84ab31891bd0e,bp/glance-unified-quotas,"# Copyright 2022 Red Hat, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import testtools from unittest import mock from glanceclient.v2 import info class TestController(testtools.TestCase): def setUp(self): super(TestController, self).setUp() self.fake_client = mock.MagicMock() self.info_controller = info.Controller(self.fake_client, None) def test_get_usage(self): fake_usage = { 'usage': { 'quota1': {'limit': 10, 'usage': 0}, 'quota2': {'limit': 20, 'usage': 5}, } } self.fake_client.get.return_value = (mock.MagicMock(), fake_usage) usage = self.info_controller.get_usage() self.assertEqual(fake_usage['usage'], usage) self.fake_client.get.assert_called_once_with('/v2/info/usage') ",,82,0
openstack%2Ftripleo-heat-templates~stable%2Fussuri~I610d8f321bb7705050d62de9bb5bcf1a22aa0ea4,openstack/tripleo-heat-templates,stable/ussuri,I610d8f321bb7705050d62de9bb5bcf1a22aa0ea4,Use only internal endpoints in Octavia controller services,MERGED,2022-01-17 16:23:16.000000000,2022-02-08 04:14:19.000000000,2022-02-08 04:14:19.000000000,"[{'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2022-01-17 16:23:16.000000000', 'files': ['deployment/octavia/octavia-base.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7a54602e444bd69eac187952ff61f67987d65244', 'message': ""Use only internal endpoints in Octavia controller services\n\nOctavia controller services should use internal endpoints instead of the\ndefault public endpoints.\nSome deployment topologies (composable networkers) don't allow\ncommunication between the nodes that run Octavia and the public\nendpoints.\n\nDepends-On: https://review.opendev.org/c/openstack/puppet-tripleo/+/824987\n\nChange-Id: I610d8f321bb7705050d62de9bb5bcf1a22aa0ea4\n(cherry picked from commit 3055a4f118a48d7c23a0095675bdd30f69acd622)\n(cherry picked from commit 2ca0ebbdddeb18d9bedfe2177feed033ddb2c334)\n""}]",0,824988,7a54602e444bd69eac187952ff61f67987d65244,8,4,1,29244,,,0,"Use only internal endpoints in Octavia controller services

Octavia controller services should use internal endpoints instead of the
default public endpoints.
Some deployment topologies (composable networkers) don't allow
communication between the nodes that run Octavia and the public
endpoints.

Depends-On: https://review.opendev.org/c/openstack/puppet-tripleo/+/824987

Change-Id: I610d8f321bb7705050d62de9bb5bcf1a22aa0ea4
(cherry picked from commit 3055a4f118a48d7c23a0095675bdd30f69acd622)
(cherry picked from commit 2ca0ebbdddeb18d9bedfe2177feed033ddb2c334)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/88/824988/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/octavia/octavia-base.yaml'],1,7a54602e444bd69eac187952ff61f67987d65244,, octavia::nova::endpoint_type: 'internalURL' octavia::neutron::endpoint_type: 'internalURL' octavia::glance::endpoint_type: 'internalURL' octavia::certificates::endpoint_type: 'internalURL',,4,0
openstack%2Fpuppet-tripleo~master~If263e44583e0e1eb005edefe3b90868aea750dee,openstack/puppet-tripleo,master,If263e44583e0e1eb005edefe3b90868aea750dee,Heat: include an independent class to set up [trustee],MERGED,2022-01-16 01:56:34.000000000,2022-02-08 04:14:16.000000000,2022-02-08 04:14:16.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2022-01-16 01:56:34.000000000', 'files': ['manifests/profile/base/heat.pp', 'spec/classes/tripleo_profile_base_heat_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/4f93834438502fab680a8a240d93941ab82cd430', 'message': 'Heat: include an independent class to set up [trustee]\n\nThe new heat::trustee class was added to puppet-heat, which will be\nrequired to set up the [trustee] parameters. This change ensures that\nthe new class is included.\n\nDepends-on: https://review.opendev.org/813739\nChange-Id: If263e44583e0e1eb005edefe3b90868aea750dee\n'}]",2,824827,4f93834438502fab680a8a240d93941ab82cd430,16,4,1,9816,,,0,"Heat: include an independent class to set up [trustee]

The new heat::trustee class was added to puppet-heat, which will be
required to set up the [trustee] parameters. This change ensures that
the new class is included.

Depends-on: https://review.opendev.org/813739
Change-Id: If263e44583e0e1eb005edefe3b90868aea750dee
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/27/824827/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/profile/base/heat.pp', 'spec/classes/tripleo_profile_base_heat_spec.rb']",2,4f93834438502fab680a8a240d93941ab82cd430,trustee-opts, is_expected.to_not contain_class('heat::trustee') is_expected.to contain_class('heat::trustee') is_expected.to contain_class('heat::trustee') is_expected.to contain_class('heat::trustee'), is_expected.to contain_class('heat::cache'),5,1
openstack%2Fswift~master~If1f119efbbad35bfa2fb39804aaedc5dd51ad5ef,openstack/swift,master,If1f119efbbad35bfa2fb39804aaedc5dd51ad5ef,ring: Introduce a V2 format (PTG edition),NEW,2022-02-01 12:26:39.000000000,2022-02-08 04:07:55.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-02-01 12:26:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/ce675171c6c256190e3e43a9ae29922e703d55ea', 'message': ""ring: Introduce a V2 format (PTG edition)\n\nHere is a follow up to Tim's V2 that starts to implement v2 that I think\naddressed what was discussed at the PTG.\n\nSee: https://etherpad.opendev.org/p/swift-ring-v2-serialization\n\nThe python gzip module now supports seeking so it can be used to seek to\nthe end, pull off the metadata and the index. Then work through from the\nstart and read off each chunk to pull off the ring _and_ to generate the\ncorrect MD5.\n\nIn this patch, the RingReader is used to just calculate MD5 and size.\nIt's also grown a raw_size property that pulls the raw size out of the\n.gz.\n\nGzip is a streaming compression, so seek isn't the most efficient. If it\nbecomes a problem we could consider moving to BZip2 as it's block based\nand so is seekable like a file.\n\nChange-Id: If1f119efbbad35bfa2fb39804aaedc5dd51ad5ef\n""}, {'number': 2, 'created': '2022-02-02 03:40:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/7273ebb835f9e46976bf95774caea346fc407c5e', 'message': ""ring: Introduce a V2 format (PTG edition)\n\nHere is a follow up to Tim's V2 that starts to implement v2 that I think\naddressed what was discussed at the PTG.\n\nSee: https://etherpad.opendev.org/p/swift-ring-v2-serialization\n\nThe python gzip module now supports seeking so it can be used to seek to\nthe end, pull off the metadata and the index. Then work through from the\nstart and read off each chunk to pull off the ring _and_ to generate the\ncorrect MD5.\n\nIn this patch, the RingReader is used to just calculate MD5 and size.\nIt's also grown a raw_size property that pulls the raw size out of the\n.gz.\n\nGzip is a streaming compression, so seek isn't the most efficient. If it\nbecomes a problem we could consider moving to BZip2 as it's block based\nand so is seekable like a file.\n\nChange-Id: If1f119efbbad35bfa2fb39804aaedc5dd51ad5ef\n""}, {'number': 3, 'created': '2022-02-03 04:43:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/5183a26a298c2b1f8927dc99820fa36d289e24e1', 'message': ""ring: Introduce a V2 format (PTG edition)\n\nHere is a follow up to Tim's V2 that starts to implement v2 that I think\naddressed what was discussed at the PTG.\n\nSee: https://etherpad.opendev.org/p/swift-ring-v2-serialization\n\nThe python gzip module now supports seeking so it can be used to seek to\nthe end, pull off the metadata and the index. Then work through from the\nstart and read off each chunk to pull off the ring _and_ to generate the\ncorrect MD5.\n\nIn this patch, the RingReader is used to just calculate MD5 and size.\nIt's also grown a raw_size property that pulls the raw size out of the\n.gz.\n\nGzip is a streaming compression, so seek isn't the most efficient. If it\nbecomes a problem we could consider moving to BZip2 as it's block based\nand so is seekable like a file.\n\nChange-Id: If1f119efbbad35bfa2fb39804aaedc5dd51ad5ef\n""}, {'number': 4, 'created': '2022-02-07 01:05:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/8eee45dab5e0c991412b327abdb0c24d257dc618', 'message': ""ring: Introduce a V2 format (PTG edition)\n\nHere is a follow up to Tim's V2 that starts to implement v2 that I think\naddressed what was discussed at the PTG.\n\nSee: https://etherpad.opendev.org/p/swift-ring-v2-serialization\n\nThe python gzip module now supports seeking so it can be used to seek to\nthe end, pull off the metadata and the index. Then work through from the\nstart and read off each chunk to pull off the ring _and_ to generate the\ncorrect MD5.\n\nIn this patch, the RingReader is used to just calculate MD5 and size.\nIt's also grown a raw_size property that pulls the raw size out of the\n.gz.\n\nGzip is a streaming compression, so seek isn't the most efficient. If it\nbecomes a problem we could consider moving to BZip2 as it's block based\nand so is seekable like a file.\n\nChange-Id: If1f119efbbad35bfa2fb39804aaedc5dd51ad5ef\n""}, {'number': 5, 'created': '2022-02-08 01:03:53.000000000', 'files': ['test/unit/common/ring/test_ring.py', 'doc/source/overview_ring.rst', 'swift/common/ring/ring.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/8d43adfa6f94cae4d66d7f06d81cbb0010dd4a59', 'message': ""ring: Introduce a V2 format (PTG edition)\n\nHere is a follow up to Tim's V2 that starts to implement v2 that I think\naddressed what was discussed at the PTG.\n\nSee: https://etherpad.opendev.org/p/swift-ring-v2-serialization\n\nThe python gzip module now supports seeking so it can be used to seek to\nthe end, pull off the metadata and the index. Then work through from the\nstart and read off each chunk to pull off the ring _and_ to generate the\ncorrect MD5.\n\nIn this patch, the RingReader is used to just calculate MD5 and size.\nIt's also grown a raw_size property that pulls the raw size out of the\n.gz.\n\nGzip is a streaming compression, so seek isn't the most efficient. If it\nbecomes a problem we could consider moving to BZip2 as it's block based\nand so is seekable like a file.\n\nChange-Id: If1f119efbbad35bfa2fb39804aaedc5dd51ad5ef\n""}]",4,827276,8d43adfa6f94cae4d66d7f06d81cbb0010dd4a59,17,1,5,7233,,,0,"ring: Introduce a V2 format (PTG edition)

Here is a follow up to Tim's V2 that starts to implement v2 that I think
addressed what was discussed at the PTG.

See: https://etherpad.opendev.org/p/swift-ring-v2-serialization

The python gzip module now supports seeking so it can be used to seek to
the end, pull off the metadata and the index. Then work through from the
start and read off each chunk to pull off the ring _and_ to generate the
correct MD5.

In this patch, the RingReader is used to just calculate MD5 and size.
It's also grown a raw_size property that pulls the raw size out of the
.gz.

Gzip is a streaming compression, so seek isn't the most efficient. If it
becomes a problem we could consider moving to BZip2 as it's block based
and so is seekable like a file.

Change-Id: If1f119efbbad35bfa2fb39804aaedc5dd51ad5ef
",git fetch https://review.opendev.org/openstack/swift refs/changes/76/827276/5 && git format-patch -1 --stdout FETCH_HEAD,['swift/common/ring/ring.py'],1,ce675171c6c256190e3e43a9ae29922e703d55ea,ring-v2,"RING_METADATA_TYPE = 0 RING_PART2DEV_TYPE = 1 RING_DEV_TYPE = 2 @property def raw_size(self): self.fp.seek(-8, os.SEEK_END) _crc32, isize = struct.unpack(""<II"", self.fp.read(8)) return isize # First we need to seek to the end and grab the length of the metadata # from the end of the file. gz_file.seek(-8, os.SEEK_END) # Now qw can grab the metadata section gz_file.seek(-8 - json_len, os.SEEK_END) ring_dict['devs'] = [] index = ring_dict.pop('index') if metadata_only: # Note empty devs and replica2part2dev table return ring_dict # other interesting metadata # Make sure we're at the start of the file gz_file.seek(0) # read the magic again (for MD5 generation). gz_file.read(6) for item in sorted(index, key=lambda x: x['offset']): if item['type'] == RING_DEV_TYPE: with FixedLengthReader(gz_file, item['length']) as data: ring_dict['devs'] = json.load(data) elif item['type'] == RING_PART2DEV_TYPE: with FixedLengthReader(gz_file, item['length']) as data: for row in iter(lambda: data.read(max_row_len), b''): ring_dict['replica2part2dev_id'].append( read_network_order_array(type_code, row)) elif item['type'] == RING_METADATA_TYPE: # Read the rest of the file (for the MD5 sake) gz_file.read() break else: gz_file.read(item['length']) raw_reader = RingReader(filename) with GzipFile(fileobj=raw_reader) as gz_file: setattr(ring_data, attr, getattr(raw_reader, attr)) raw_reader.close() index = [] offset = 6 # Let's start by writing the devs json_text = json.dumps(ring['devs'], sort_keys=True, ensure_ascii=True).encode('ascii') length = len(json_text) index.append({'type': RING_DEV_TYPE, 'offset': offset, 'length': length}) file_obj.write(json_text) offset += length # Next comes the replica2part2dev table assignments = sum(len(a) for a in ring['replica2part2dev_id']) length = assignments * ring['dev_id_bytes'] index.append({'type': RING_PART2DEV_TYPE, 'offset': offset, 'length': length}) for part2dev_id in ring['replica2part2dev_id']: with network_order_array(part2dev_id): if six.PY2: # Can't just use tofile() because a GzipFile apparently # doesn't count as an 'open file' file_obj.write(part2dev_id.tostring()) else: part2dev_id.tofile(file_obj) offset += length # Future code can do anywhere so long as it's before this last # metadata + size chunk. _text = {'part_shift': ring['part_shift'], _text['index'] = index # Just adding the metadata offset for completeness index.append({'type': RING_METADATA_TYPE, 'offset': offset}) # Finally write the metadata json size file_obj.write(struct.pack('!Q', json_len))","import zlib self.raw_size = 0 self._decomp = zlib.decompressobj(32 + zlib.MAX_WBITS) if (pos, ref) != (0, 0): raise NotImplementedError chunk = self._decomp.decompress(chunk) self.raw_size += len(chunk) if metadata_only: return ring_dict data_len, = struct.unpack('!Q', gz_file.read(8)) with FixedLengthReader(gz_file, data_len) as data: for row in iter(lambda: data.read(max_row_len), b''): ring_dict['replica2part2dev_id'].append( read_network_order_array(type_code, row)) # This is the end of the required fields; anything after this point # needs to check that they actually read a length before trying to # unpack it with RingReader(filename) as gz_file: setattr(ring_data, attr, getattr(gz_file, attr)) _text = {'devs': ring['devs'], 'part_shift': ring['part_shift'], file_obj.write(struct.pack('!Q', json_len)) assignments = sum(len(a) for a in ring['replica2part2dev_id']) file_obj.write(struct.pack('!Q', assignments * ring['dev_id_bytes'])) for part2dev_id in ring['replica2part2dev_id']: with network_order_array(part2dev_id): if six.PY2: # Can't just use tofile() because a GzipFile apparently # doesn't count as an 'open file' file_obj.write(part2dev_id.tostring()) else: part2dev_id.tofile(file_obj) # Future code may put more data past the end. It should always be in # [ length (8 bytes) ][ blob (<length> bytes) ] # format, and always optional (since old code won't attempt to parse # it). If we want to add a new *required* field, we need a v3 format.",82,39
openstack%2Fglance~master~I50c98bac50f815bdb9baae024e77afd388f74554,openstack/glance,master,I50c98bac50f815bdb9baae024e77afd388f74554,[APIImpact] Quota usage API,MERGED,2021-06-04 16:19:54.000000000,2022-02-08 03:35:59.000000000,2022-02-08 03:33:58.000000000,"[{'_account_id': 8122}, {'_account_id': 9303}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-04 16:19:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/1414384b95420fb06c895a81266fed0fb451d9d4', 'message': 'ULTRAWIP: Example usage API\n\nThis is based on a proposed oslo.limit change to expose the limit\ninformation we would need to implement this. Only enough is done\nhere to show what it would look like.\n\nDepends-On: https://review.opendev.org/c/openstack/oslo.limit/+/794851\nChange-Id: I50c98bac50f815bdb9baae024e77afd388f74554\n'}, {'number': 2, 'created': '2021-06-04 17:08:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/7d771566e6cd790e4e6d639c6fe9c81ca8e717bf', 'message': 'ULTRAWIP: Example usage API\n\nThis is based on a proposed oslo.limit change to expose the limit\ninformation we would need to implement this. Only enough is done\nhere to show what it would look like.\n\nDepends-On: https://review.opendev.org/c/openstack/oslo.limit/+/794851\nChange-Id: I50c98bac50f815bdb9baae024e77afd388f74554\n'}, {'number': 3, 'created': '2021-06-04 18:34:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/06011c0dfa560ca7e21f07dce329682d7197d34f', 'message': 'ULTRAWIP: Example usage API\n\nThis is based on a proposed oslo.limit change to expose the limit\ninformation we would need to implement this. Only enough is done\nhere to show what it would look like.\n\nDepends-On: https://review.opendev.org/c/openstack/oslo.limit/+/794851\nChange-Id: I50c98bac50f815bdb9baae024e77afd388f74554\n'}, {'number': 4, 'created': '2021-06-04 18:56:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/a2504b8a4fba097f470bb693c052dc829aedc13b', 'message': 'ULTRAWIP: Example usage API\n\nThis is based on a proposed oslo.limit change to expose the limit\ninformation we would need to implement this. Only enough is done\nhere to show what it would look like.\n\nDepends-On: https://review.opendev.org/c/openstack/oslo.limit/+/794851\nChange-Id: I50c98bac50f815bdb9baae024e77afd388f74554\n'}, {'number': 5, 'created': '2021-06-08 14:43:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/0c73868f73ce38f2ddc7c3d6edc2e301fecff213', 'message': 'ULTRAWIP: Example usage API\n\nThis is based on a proposed oslo.limit change to expose the limit\ninformation we would need to implement this. Only enough is done\nhere to show what it would look like.\n\nDepends-On: https://review.opendev.org/c/openstack/oslo.limit/+/794851\nChange-Id: I50c98bac50f815bdb9baae024e77afd388f74554\n'}, {'number': 6, 'created': '2021-06-10 13:29:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/e565a178e156776ad3702d371db304b3e3631071', 'message': 'ULTRAWIP: Example usage API\n\nThis is based on a proposed oslo.limit change to expose the limit\ninformation we would need to implement this. Only enough is done\nhere to show what it would look like.\n\nDepends-On: https://review.opendev.org/c/openstack/oslo.limit/+/794851\nChange-Id: I50c98bac50f815bdb9baae024e77afd388f74554\n'}, {'number': 7, 'created': '2021-06-14 14:40:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/b7873c805067544640c50e085297ff2ad6afefa1', 'message': 'ULTRAWIP: Example usage API\n\nThis is based on a proposed oslo.limit change to expose the limit\ninformation we would need to implement this. Only enough is done\nhere to show what it would look like.\n\nDepends-On: https://review.opendev.org/c/openstack/oslo.limit/+/794851\nChange-Id: I50c98bac50f815bdb9baae024e77afd388f74554\n'}, {'number': 8, 'created': '2021-06-14 14:47:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/0ef05082585bb033a5c7c8edd2373bb91be103b5', 'message': 'ULTRAWIP: Example usage API\n\nThis is based on a proposed oslo.limit change to expose the limit\ninformation we would need to implement this. Only enough is done\nhere to show what it would look like.\n\nDepends-On: https://review.opendev.org/c/openstack/oslo.limit/+/794851\nChange-Id: I50c98bac50f815bdb9baae024e77afd388f74554\n'}, {'number': 9, 'created': '2021-06-14 14:56:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/a6b5a083792b745dc627c6e5fe63a6f0035e72a5', 'message': 'ULTRAWIP: Example usage API\n\nThis is based on a proposed oslo.limit change to expose the limit\ninformation we would need to implement this. Only enough is done\nhere to show what it would look like.\n\nDepends-On: https://review.opendev.org/c/openstack/oslo.limit/+/794851\nChange-Id: I50c98bac50f815bdb9baae024e77afd388f74554\n'}, {'number': 10, 'created': '2021-06-14 15:24:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/3e2f2982d382ffc00bc0945232de7b76a95592fd', 'message': 'ULTRAWIP: Example usage API\n\nThis is based on a proposed oslo.limit change to expose the limit\ninformation we would need to implement this. Only enough is done\nhere to show what it would look like.\n\nDepends-On: https://review.opendev.org/c/openstack/oslo.limit/+/794851\nChange-Id: I50c98bac50f815bdb9baae024e77afd388f74554\n'}, {'number': 11, 'created': '2021-06-21 15:46:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/2c631dd66e04a217269c237bc13ed73b5adae3a6', 'message': 'ULTRAWIP: Example usage API\n\nThis is based on a proposed oslo.limit change to expose the limit\ninformation we would need to implement this. Only enough is done\nhere to show what it would look like.\n\nDepends-On: https://review.opendev.org/c/openstack/oslo.limit/+/794851\nChange-Id: I50c98bac50f815bdb9baae024e77afd388f74554\n'}, {'number': 12, 'created': '2021-06-21 17:57:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/ff200fd337185151052270efb88e54f3bbad538b', 'message': 'ULTRAWIP: Example usage API\n\nThis is based on a proposed oslo.limit change to expose the limit\ninformation we would need to implement this. Only enough is done\nhere to show what it would look like.\n\nDepends-On: https://review.opendev.org/c/openstack/oslo.limit/+/794851\nChange-Id: I50c98bac50f815bdb9baae024e77afd388f74554\n'}, {'number': 13, 'created': '2021-12-03 17:25:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/babe54c05cf566e54050e496702548924cc93175', 'message': 'WIP: [APIImpact] Quota usage API\n\nThis adds a /v2/info/usage API endpoint which exposes to the user\ntheir current limits and usage.\n\nThe discovery API does not (appear to) have existing tests, so this\nadds a module for that, although only usage tests are added currently.\n\nTODO: Expand the usage tests appropriately\nTODO: Follow up with more info tests\nTODO: Follow up with API docs\n\nChange-Id: I50c98bac50f815bdb9baae024e77afd388f74554\n'}, {'number': 14, 'created': '2022-01-31 15:58:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/994da10e9f7dabbc68bf4cd645134abfd2dffcea', 'message': '[APIImpact] Quota usage API\n\nThis adds a /v2/info/usage API endpoint which exposes to the user\ntheir current limits and usage.\n\nThe discovery API does not (appear to) have existing tests, so this\nadds a module for that, although only usage tests are added currently.\n\nChange-Id: I50c98bac50f815bdb9baae024e77afd388f74554\n'}, {'number': 15, 'created': '2022-01-31 16:40:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/ddea4c172c80815409aa72e17450247d2cbce1c8', 'message': '[APIImpact] Quota usage API\n\nThis adds a /v2/info/usage API endpoint which exposes to the user\ntheir current limits and usage.\n\nThe discovery API does not (appear to) have existing tests, so this\nadds a module for that, although only usage tests are added currently.\n\nImplements: blueprint quota-api\nChange-Id: I50c98bac50f815bdb9baae024e77afd388f74554\n'}, {'number': 16, 'created': '2022-02-03 16:49:37.000000000', 'files': ['api-ref/source/v2/discovery.inc', 'glance/tests/functional/v2/test_images.py', 'glance/tests/unit/test_versions.py', 'glance/quota/keystone.py', 'glance/tests/functional/v2/test_discovery.py', 'requirements.txt', 'glance/api/middleware/version_negotiation.py', 'glance/api/v2/router.py', 'glance/api/versions.py', 'api-ref/source/v2/samples/usage-response.json', 'releasenotes/notes/added-quota-usage-api-f1914054132f2021.yaml', 'glance/api/v2/discovery.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/f865b8cac7fb008c870e433d22fb4216ed95e285', 'message': '[APIImpact] Quota usage API\n\nThis adds a /v2/info/usage API endpoint which exposes to the user\ntheir current limits and usage.\n\nThe discovery API does not (appear to) have existing tests, so this\nadds a module for that, although only usage tests are added currently.\n\nImplements: blueprint quota-api\nChange-Id: I50c98bac50f815bdb9baae024e77afd388f74554\n'}]",17,794860,f865b8cac7fb008c870e433d22fb4216ed95e285,50,3,16,4393,,,0,"[APIImpact] Quota usage API

This adds a /v2/info/usage API endpoint which exposes to the user
their current limits and usage.

The discovery API does not (appear to) have existing tests, so this
adds a module for that, although only usage tests are added currently.

Implements: blueprint quota-api
Change-Id: I50c98bac50f815bdb9baae024e77afd388f74554
",git fetch https://review.opendev.org/openstack/glance refs/changes/60/794860/16 && git format-patch -1 --stdout FETCH_HEAD,"['glance/tests/functional/v2/test_images.py', 'glance/quota/keystone.py', 'glance/tests/functional/v2/test_usage.py', 'glance/api/v2/router.py', 'glance/api/v2/usage.py']",5,1414384b95420fb06c895a81266fed0fb451d9d4,bp/glance-unified-quotas,"# Copyright 2021 Red Hat, Inc. # All Rights Reserved. # # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import copy from oslo_config import cfg from oslo_log import log as logging import oslo_serialization.jsonutils as json from glance.common import wsgi import glance.db from glance.quota import keystone as ks_quota import glance.schema LOG = logging.getLogger(__name__) CONF = cfg.CONF class UsageController(object): """"""Reports image quota usage."""""" def __init__(self, db_api=None, policy_enforcer=None, notifier=None, store_api=None): self.db_api = db_api or glance.db.get_api() def show(self, req): project_usage = ks_quota.get_usage(req.context) return {'usage': {name: {'usage': usage.usage, 'limit': usage.limit} for name, usage in project_usage.items()}} class ResponseSerializer(wsgi.JSONResponseSerializer): def __init__(self, usage_schema=None): super(ResponseSerializer, self).__init__() self.task_schema = usage_schema or get_usage_schema() def show(self, response, usage): body = json.dumps(usage, ensure_ascii=False) response.unicode_body = str(body) response.content_type = 'application/json' _USAGE_SCHEMA = { 'usage': { 'type': 'array', 'items': { 'type': 'object', 'additionalProperties': True, 'validation_data': { 'type': 'object', 'additonalProperties': False, 'properties': { 'usage': {'type': 'integer'}, 'limit': {'type': 'integer'}, }, }, }, }, } def get_usage_schema(): return glance.schema.Schema('usage', copy.deepcopy(_USAGE_SCHEMA)) def create_resource(): """"""Usage resource factory method"""""" usage_schema = get_usage_schema() serializer = ResponseSerializer(usage_schema) controller = UsageController() return wsgi.Resource(controller, None, serializer) ",,177,0
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~Id13a221726af88dd229cf8e12462eabb4027b377,openstack/tripleo-heat-templates,stable/wallaby,Id13a221726af88dd229cf8e12462eabb4027b377,Nova: Use internal endpoint to access Keystone,MERGED,2022-02-02 23:09:29.000000000,2022-02-08 03:34:06.000000000,2022-02-08 03:34:06.000000000,"[{'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}, {'_account_id': 27419}]","[{'number': 1, 'created': '2022-02-02 23:09:29.000000000', 'files': ['deployment/nova/nova-metadata-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b67137ae93a1ce4612c6ac82eeabbec6abac70aa', 'message': ""Nova: Use internal endpoint to access Keystone\n\nThe Keystone admin endpoint is deployed on the provisioning network by\ndefault, and usually this network has no redundancy. We don't expect\noutage in provisioning network affects functionality of overcloud so\nservices should not be rely on connectivity in provisioning network.\n\nThis change ensures that internal endpoint, which is deployed on\ninternal api network, is used instead.\n\nCloses-Bug: #1959353\nChange-Id: Id13a221726af88dd229cf8e12462eabb4027b377\n(cherry picked from commit c3affa49a33bb62e019263186e446a1a70194970)\n""}]",0,827408,b67137ae93a1ce4612c6ac82eeabbec6abac70aa,10,4,1,9816,,,0,"Nova: Use internal endpoint to access Keystone

The Keystone admin endpoint is deployed on the provisioning network by
default, and usually this network has no redundancy. We don't expect
outage in provisioning network affects functionality of overcloud so
services should not be rely on connectivity in provisioning network.

This change ensures that internal endpoint, which is deployed on
internal api network, is used instead.

Closes-Bug: #1959353
Change-Id: Id13a221726af88dd229cf8e12462eabb4027b377
(cherry picked from commit c3affa49a33bb62e019263186e446a1a70194970)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/08/827408/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/nova/nova-metadata-container-puppet.yaml'],1,b67137ae93a1ce4612c6ac82eeabbec6abac70aa,bug/1959353," nova::keystone::authtoken::auth_url: {get_param: [EndpointMap, KeystoneInternal, uri_no_suffix]}"," nova::keystone::authtoken::auth_url: {get_param: [EndpointMap, KeystoneAdmin, uri_no_suffix]}",1,1
openstack%2Ftripleo-heat-templates~master~I17eac95937d3234cddfd03d99addb9bdd6613a1d,openstack/tripleo-heat-templates,master,I17eac95937d3234cddfd03d99addb9bdd6613a1d,Nova: Use cross_az_attach from nova::cinder,MERGED,2022-02-05 09:03:08.000000000,2022-02-08 03:34:02.000000000,2022-02-08 03:34:02.000000000,"[{'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2022-02-05 09:03:08.000000000', 'files': ['deployment/nova/nova-base-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a3fa2a052bc131335e6df9b737700845da9ca5cc', 'message': 'Nova: Use cross_az_attach from nova::cinder\n\n... because the one in the base nova class was deprecated.\n\nDepends-on: https://review.opendev.org/824396\nChange-Id: I17eac95937d3234cddfd03d99addb9bdd6613a1d\n'}]",0,827944,a3fa2a052bc131335e6df9b737700845da9ca5cc,8,4,1,9816,,,0,"Nova: Use cross_az_attach from nova::cinder

... because the one in the base nova class was deprecated.

Depends-on: https://review.opendev.org/824396
Change-Id: I17eac95937d3234cddfd03d99addb9bdd6613a1d
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/44/827944/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/nova/nova-base-puppet.yaml'],1,a3fa2a052bc131335e6df9b737700845da9ca5cc,, nova::cinder::cross_az_attach: {get_param: NovaCrossAZAttach}, nova::cross_az_attach: {get_param: NovaCrossAZAttach},1,1
openstack%2Ftripleo-heat-templates~master~I00ca1f4da82cdc25737f462fa024e31316216c12,openstack/tripleo-heat-templates,master,I00ca1f4da82cdc25737f462fa024e31316216c12,Horizon: Manage policy files,MERGED,2022-01-08 06:51:33.000000000,2022-02-08 03:25:12.000000000,2022-02-08 03:25:12.000000000,"[{'_account_id': 7144}, {'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2022-01-08 06:51:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7d98ef840803cc7eb793f2d33b4c4c570a4d3828', 'message': 'Horizon: Manage policy files\n\nThis change enables management of policy files for Horizon so that\ncustomized policy rules are injected into horizon policy files in\naddition to service policy files.\n\nDepends-on: https://review.opendev.org/823890\nChange-Id: I00ca1f4da82cdc25737f462fa024e31316216c12\n'}, {'number': 2, 'created': '2022-01-09 12:24:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/65424e6c967ca2a1a3da7c6022d05453fc41500b', 'message': 'Horizon: Manage policy files\n\nThis change enables management of policy files for Horizon so that\ncustomized policy rules are injected into horizon policy files in\naddition to service policy files.\n\nDepends-on: https://review.opendev.org/823890\nChange-Id: I00ca1f4da82cdc25737f462fa024e31316216c12\n'}, {'number': 3, 'created': '2022-01-11 15:01:38.000000000', 'files': ['deployment/nova/nova-api-container-puppet.yaml', 'deployment/cinder/cinder-api-container-puppet.yaml', 'deployment/glance/glance-api-container-puppet.yaml', 'deployment/nova/nova-base-puppet.yaml', 'deployment/heat/heat-api-container-puppet.yaml', 'deployment/manila/manila-api-container-puppet.yaml', 'deployment/octavia/octavia-api-container-puppet.yaml', 'deployment/keystone/keystone-container-puppet.yaml', 'deployment/neutron/neutron-api-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f63176e97a19f5587e5cc8a7064109d6b8a4441c', 'message': 'Horizon: Manage policy files\n\nThis change enables management of policy files for Horizon so that\ncustomized policy rules are injected into horizon policy files in\naddition to service policy files.\n\nDepends-on: https://review.opendev.org/823890\nChange-Id: I00ca1f4da82cdc25737f462fa024e31316216c12\n'}]",3,823891,f63176e97a19f5587e5cc8a7064109d6b8a4441c,21,5,3,9816,,,0,"Horizon: Manage policy files

This change enables management of policy files for Horizon so that
customized policy rules are injected into horizon policy files in
addition to service policy files.

Depends-on: https://review.opendev.org/823890
Change-Id: I00ca1f4da82cdc25737f462fa024e31316216c12
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/91/823891/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/cinder/cinder-api-container-puppet.yaml', 'deployment/glance/glance-api-container-puppet.yaml', 'deployment/nova/nova-base-puppet.yaml', 'deployment/heat/heat-api-container-puppet.yaml', 'deployment/manila/manila-api-container-puppet.yaml', 'deployment/octavia/octavia-api-container-puppet.yaml', 'deployment/keystone/keystone-container-puppet.yaml', 'deployment/neutron/neutron-api-container-puppet.yaml']",8,7d98ef840803cc7eb793f2d33b4c4c570a4d3828,horizon-policies, horizon: horizon::policy::neutron_policies: {get_param: NeutronApiPolicies},,32,7
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~I93d3eae0a738782f071a839ba7b41107a597e2fa,openstack/tripleo-heat-templates,stable/wallaby,I93d3eae0a738782f071a839ba7b41107a597e2fa,Start the neutron metadata agent with cgroupns host,MERGED,2022-02-07 11:43:01.000000000,2022-02-08 03:10:24.000000000,2022-02-08 03:10:24.000000000,"[{'_account_id': 6926}, {'_account_id': 11090}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2022-02-07 11:43:01.000000000', 'files': ['deployment/neutron/neutron-metadata-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/354232139417f6db028e773d86187b1bf6e89cf2', 'message': 'Start the neutron metadata agent with cgroupns host\n\nThis container got missed in the fixups.\n\nCloses-Bug: #1959582\nChange-Id: I93d3eae0a738782f071a839ba7b41107a597e2fa\n(cherry picked from commit d3a6e7a99ad090bd7ef06b7bd84cf8558e5fdae5)\n'}]",0,827969,354232139417f6db028e773d86187b1bf6e89cf2,9,5,1,9976,,,0,"Start the neutron metadata agent with cgroupns host

This container got missed in the fixups.

Closes-Bug: #1959582
Change-Id: I93d3eae0a738782f071a839ba7b41107a597e2fa
(cherry picked from commit d3a6e7a99ad090bd7ef06b7bd84cf8558e5fdae5)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/69/827969/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/neutron/neutron-metadata-container-puppet.yaml'],1,354232139417f6db028e773d86187b1bf6e89cf2,, cgroupns: host,,1,0
openstack%2Ftripleo-ansible~stable%2Fwallaby~I3a914414eb59a0c1c5695d8dc60edec9c35a5ec8,openstack/tripleo-ansible,stable/wallaby,I3a914414eb59a0c1c5695d8dc60edec9c35a5ec8,[Only Wallaby] BnR added ramdisk_kernel_arguments to the restoration process,MERGED,2022-01-31 16:30:17.000000000,2022-02-08 03:07:44.000000000,2022-02-08 03:07:44.000000000,"[{'_account_id': 11655}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}, {'_account_id': 32968}]","[{'number': 1, 'created': '2022-01-31 16:30:17.000000000', 'files': ['tripleo_ansible/roles/backup_and_restore/tasks/restore_node.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/1b56e74a960cd2321551411e2dfcd93d040d88d0', 'message': '[Only Wallaby] BnR added ramdisk_kernel_arguments to the restoration process\n\nBnR needed to add a kernel parameter, from victoria onwards the way is kernel_append_params.\nFor Wallaby the way is to add the ramdisk_kernel_arguments.\n\nThe kernel_append_params is skipped and only the ramdisk_kernel_argument\nis used.\n\nChange-Id: I3a914414eb59a0c1c5695d8dc60edec9c35a5ec8\n'}]",4,827151,1b56e74a960cd2321551411e2dfcd93d040d88d0,20,6,1,22954,,,0,"[Only Wallaby] BnR added ramdisk_kernel_arguments to the restoration process

BnR needed to add a kernel parameter, from victoria onwards the way is kernel_append_params.
For Wallaby the way is to add the ramdisk_kernel_arguments.

The kernel_append_params is skipped and only the ramdisk_kernel_argument
is used.

Change-Id: I3a914414eb59a0c1c5695d8dc60edec9c35a5ec8
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/51/827151/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/backup_and_restore/tasks/restore_node.yml'],1,1b56e74a960cd2321551411e2dfcd93d040d88d0,BnR_Ironic_Parameter," --instance-info ramdisk_kernel_arguments=""unattended"" \",,1,0
openstack%2Fswift~master~I7692860e3b741e1bc10626e26bb7b27399c325ab,openstack/swift,master,I7692860e3b741e1bc10626e26bb7b27399c325ab,Deprecate LogAdapter.set_statsd_prefix,MERGED,2022-02-04 11:18:55.000000000,2022-02-08 03:01:37.000000000,2022-02-08 02:07:25.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-04 11:18:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/0b7b09ff4ff3a67adf251c6f83481ef3c5058901', 'message': ""Deprecate LogAdapter.set_statsd_prefix\n\nPreviously, the set_statsd_prefix method was used to mutate a logger's\nStatsdClient tail prefix after a logger was instantiated. This pattern\nhad led to unexpected mutations (see Related-Change). The tail_prefix\ncan now be passed as an argument to get_logger(), and is then\nforwarded to the StatsdClient constructor, for a more explicit\nassignment pattern.\n\nThe set_statsd_prefix method is left in place for backwards\ncompatibility.\n\nChange-Id: I7692860e3b741e1bc10626e26bb7b27399c325ab\nRelated-Change: I0522b1953722ca96021a0002cf93432b973ce626\n""}, {'number': 2, 'created': '2022-02-07 14:10:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/8072295869df773d1c66a8c826a7ff206ad73a45', 'message': ""Deprecate LogAdapter.set_statsd_prefix\n\nPreviously, the set_statsd_prefix method was used to mutate a logger's\nStatsdClient tail prefix after a logger was instantiated. This pattern\nhad led to unexpected mutations (see Related-Change). The tail_prefix\ncan now be passed as an argument to get_logger(), and is then\nforwarded to the StatsdClient constructor, for a more explicit\nassignment pattern.\n\nThe set_statsd_prefix method is left in place for backwards\ncompatibility. A DeprecationWarning will be raised if it is used\nto mutate the StatsdClient tail prefix.\n\nChange-Id: I7692860e3b741e1bc10626e26bb7b27399c325ab\nRelated-Change: I0522b1953722ca96021a0002cf93432b973ce626\n""}, {'number': 3, 'created': '2022-02-07 17:46:15.000000000', 'files': ['swift/common/middleware/proxy_logging.py', 'test/unit/common/middleware/test_tempauth.py', 'swift/common/utils.py', 'test/unit/proxy/test_server.py', 'swift/common/middleware/tempauth.py', 'test/unit/common/middleware/test_proxy_logging.py', 'doc/source/admin/objectstorage-monitoring.rst', 'swift/proxy/server.py', 'test/unit/common/test_utils.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/eda7d5fe3c9527ae20850b38f8b626782dd5efec', 'message': ""Deprecate LogAdapter.set_statsd_prefix\n\nPreviously, the set_statsd_prefix method was used to mutate a logger's\nStatsdClient tail prefix after a logger was instantiated. This pattern\nhad led to unexpected mutations (see Related-Change). The tail_prefix\ncan now be passed as an argument to get_logger(), and is then\nforwarded to the StatsdClient constructor, for a more explicit\nassignment pattern.\n\nThe set_statsd_prefix method is left in place for backwards\ncompatibility. A DeprecationWarning will be raised if it is used\nto mutate the StatsdClient tail prefix.\n\nChange-Id: I7692860e3b741e1bc10626e26bb7b27399c325ab\nRelated-Change: I0522b1953722ca96021a0002cf93432b973ce626\n""}]",10,827845,eda7d5fe3c9527ae20850b38f8b626782dd5efec,19,2,3,7847,,,0,"Deprecate LogAdapter.set_statsd_prefix

Previously, the set_statsd_prefix method was used to mutate a logger's
StatsdClient tail prefix after a logger was instantiated. This pattern
had led to unexpected mutations (see Related-Change). The tail_prefix
can now be passed as an argument to get_logger(), and is then
forwarded to the StatsdClient constructor, for a more explicit
assignment pattern.

The set_statsd_prefix method is left in place for backwards
compatibility. A DeprecationWarning will be raised if it is used
to mutate the StatsdClient tail prefix.

Change-Id: I7692860e3b741e1bc10626e26bb7b27399c325ab
Related-Change: I0522b1953722ca96021a0002cf93432b973ce626
",git fetch https://review.opendev.org/openstack/swift refs/changes/45/827845/1 && git format-patch -1 --stdout FETCH_HEAD,"['swift/common/middleware/proxy_logging.py', 'test/unit/common/middleware/test_tempauth.py', 'swift/common/utils.py', 'test/unit/proxy/test_server.py', 'swift/common/middleware/tempauth.py', 'test/unit/common/middleware/test_proxy_logging.py', 'doc/source/admin/objectstorage-monitoring.rst', 'swift/proxy/server.py', 'test/unit/common/test_utils.py']",9,0b7b09ff4ff3a67adf251c6f83481ef3c5058901,p-deprecate-set-statsd-prefix," logger2 = utils.get_logger( {'log_statsd_host': 'some.host.com'}, 'other-name', log_route='some-route', statsd_tail_prefix='some-name.more-specific') self.assertEqual(logger.logger.statsd_client._prefix, 'some-name.more-specific.') self.assertEqual(logger2.logger.statsd_client._prefix, 'some-name.more-specific.') # note: set_statsd_prefix is deprecated conf = { } logger = utils.get_logger(conf, 'some-name', log_route='some-route') logger = utils.get_logger(conf, 'other-name', log_route='some-route', statsd_tail_prefix='some-name.more-specific') self.assertEqual(logger.logger.statsd_client._prefix, 'tomato.sauce.some-name.more-specific.') # note: set_statsd_prefix is deprecated"," logger = utils.get_logger({ }, 'some-name', log_route='some-route')",129,35
openstack%2Fpython-tripleoclient~master~Ie9bf98d665940c0e3539e4ab03a640f06af00a12,openstack/python-tripleoclient,master,Ie9bf98d665940c0e3539e4ab03a640f06af00a12,Move baremetal CLI commands,ABANDONED,2021-12-06 01:42:41.000000000,2022-02-08 02:10:27.000000000,,"[{'_account_id': 4571}, {'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30073}]","[{'number': 1, 'created': '2021-12-06 01:42:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/2459dd93cd8e486d2a01c21cbe9f83be4d765b86', 'message': 'WIP - Move baremetal CLI commands\n\nCurrently, we use Ansible for all of the\novercloud node commands. To better support\nthe work around Tripleo.Next, these commands\nshould be moved into tripleoclient.\n\nChange-Id: Ie9bf98d665940c0e3539e4ab03a640f06af00a12\n'}, {'number': 2, 'created': '2021-12-06 01:44:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/0c5a37a69d2d267802d4cac16b1f982135284375', 'message': 'WIP - Move baremetal CLI commands\n\nCurrently, we use Ansible for all of the\novercloud node commands. To better support\nthe work around Tripleo.Next, these commands\nshould be moved into tripleoclient.\n\nChange-Id: Ie9bf98d665940c0e3539e4ab03a640f06af00a12\n'}, {'number': 3, 'created': '2021-12-06 01:45:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/0097b85e68c849ef1856fa0234e1efbc7fa0a8b2', 'message': 'WIP - Move baremetal CLI commands\n\nCurrently, we use Ansible for all of the\novercloud node commands. To better support\nthe work around Tripleo.Next, these commands\nshould be moved into tripleoclient.\n\nChange-Id: Ie9bf98d665940c0e3539e4ab03a640f06af00a12\n'}, {'number': 4, 'created': '2021-12-06 03:24:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/3bf4ae46a4aa123e756b37aa8600eb616ac44b09', 'message': 'WIP - Move baremetal CLI commands\n\nCurrently, we use Ansible for all of the\novercloud node commands. To better support\nthe work around Tripleo.Next, these commands\nshould be moved into tripleoclient.\n\nChange-Id: Ie9bf98d665940c0e3539e4ab03a640f06af00a12\n'}, {'number': 5, 'created': '2021-12-07 04:05:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/e0dd4c32da4befd605783ff85ec187071b609608', 'message': 'WIP - Move baremetal CLI commands\n\nCurrently, we use Ansible for all of the\novercloud node commands. To better support\nthe work around Tripleo.Next, these commands\nshould be moved into tripleoclient.\n\nChange-Id: Ie9bf98d665940c0e3539e4ab03a640f06af00a12\n'}, {'number': 6, 'created': '2021-12-07 04:07:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/da0df1aa1805642fd0928d2d081d3b33a007d997', 'message': 'WIP - Move baremetal CLI commands\n\nCurrently, we use Ansible for all of the\novercloud node commands. To better support\nthe work around Tripleo.Next, these commands\nshould be moved into tripleoclient.\n\nChange-Id: Ie9bf98d665940c0e3539e4ab03a640f06af00a12\n'}, {'number': 7, 'created': '2021-12-07 04:09:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/66392f848159cf30fb303891c195144d6689a126', 'message': 'WIP - Move baremetal CLI commands\n\nCurrently, we use Ansible for all of the\novercloud node commands. To better support\nthe work around Tripleo.Next, these commands\nshould be moved into tripleoclient.\n\nChange-Id: Ie9bf98d665940c0e3539e4ab03a640f06af00a12\n'}, {'number': 8, 'created': '2021-12-07 04:12:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/03ee1096d21d9fca321393fb652c19166edd6e4c', 'message': 'WIP - Move baremetal CLI commands\n\nCurrently, we use Ansible for all of the\novercloud node commands. To better support\nthe work around Tripleo.Next, these commands\nshould be moved into tripleoclient.\n\nChange-Id: Ie9bf98d665940c0e3539e4ab03a640f06af00a12\n'}, {'number': 9, 'created': '2021-12-07 04:17:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/7cb0cd3c724f7c07bead7298c66529b83710f7c0', 'message': 'WIP - Move baremetal CLI commands\n\nCurrently, we use Ansible for all of the\novercloud node commands. To better support\nthe work around Tripleo.Next, these commands\nshould be moved into tripleoclient.\n\nChange-Id: Ie9bf98d665940c0e3539e4ab03a640f06af00a12\n'}, {'number': 10, 'created': '2021-12-07 04:21:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/09a0e8735c8d34d8491ac0ac7c7819d6f13909a9', 'message': 'WIP - Move baremetal CLI commands\n\nCurrently, we use Ansible for all of the\novercloud node commands. To better support\nthe work around Tripleo.Next, these commands\nshould be moved into tripleoclient.\n\nChange-Id: Ie9bf98d665940c0e3539e4ab03a640f06af00a12\n'}, {'number': 11, 'created': '2021-12-07 06:12:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/8f9304c0f3de89a8489825f51a57d316de4f1dac', 'message': 'WIP - Move baremetal CLI commands\n\nCurrently, we use Ansible for all of the\novercloud node commands. To better support\nthe work around Tripleo.Next, these commands\nshould be moved into tripleoclient.\n\nChange-Id: Ie9bf98d665940c0e3539e4ab03a640f06af00a12\n'}, {'number': 12, 'created': '2021-12-07 14:05:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/b0acaa9888604b51cb5bfb0476fc52615bc3bfa6', 'message': 'WIP - Move baremetal CLI commands\n\nCurrently, we use Ansible for all of the\novercloud node commands. To better support\nthe work around Tripleo.Next, these commands\nshould be moved into tripleoclient.\n\nChange-Id: Ie9bf98d665940c0e3539e4ab03a640f06af00a12\n'}, {'number': 13, 'created': '2021-12-08 02:22:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/9102a32ea54e1b99fc703f02e37a4f38bf8ba581', 'message': 'WIP - Move baremetal CLI commands\n\nCurrently, we use Ansible for all of the\novercloud node commands. To better support\nthe work around Tripleo.Next, these commands\nshould be moved into tripleoclient.\n\nChange-Id: Ie9bf98d665940c0e3539e4ab03a640f06af00a12\n'}, {'number': 14, 'created': '2021-12-08 02:32:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/abaae95c7d1c326e23e9e575c23a0c0dc49681e8', 'message': 'WIP - Move baremetal CLI commands\n\nCurrently, we use Ansible for all of the\novercloud node commands. To better support\nthe work around Tripleo.Next, these commands\nshould be moved into tripleoclient.\n\nChange-Id: Ie9bf98d665940c0e3539e4ab03a640f06af00a12\n'}, {'number': 15, 'created': '2021-12-09 00:10:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/da62ad1cfaaabf98d3538d765343474d0a29d3bb', 'message': 'WIP - Move baremetal CLI commands\n\nCurrently, we use Ansible for all of the\novercloud node commands. To better support\nthe work around Tripleo.Next, these commands\nshould be moved into tripleoclient.\n\nChange-Id: Ie9bf98d665940c0e3539e4ab03a640f06af00a12\n'}, {'number': 16, 'created': '2021-12-14 03:57:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/2ccb2803eb1dc16fe2cb0b14f11f979099261ed8', 'message': 'WIP - Move baremetal CLI commands\n\nCurrently, we use Ansible for all of the\novercloud node commands. To better support\nthe work around Tripleo.Next, these commands\nshould be moved into tripleoclient.\n\nChange-Id: Ie9bf98d665940c0e3539e4ab03a640f06af00a12\n'}, {'number': 17, 'created': '2021-12-14 04:31:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/122d017a1227d839019bc794eba13fa1ce73117b', 'message': 'WIP - Move baremetal CLI commands\n\nCurrently, we use Ansible for all of the\novercloud node commands. To better support\nthe work around Tripleo.Next, these commands\nshould be moved into tripleoclient.\n\nChange-Id: Ie9bf98d665940c0e3539e4ab03a640f06af00a12\n'}, {'number': 18, 'created': '2021-12-14 04:40:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/8f310867f83b96daa218e700d003345a7e94ac02', 'message': 'WIP - Move baremetal CLI commands\n\nCurrently, we use Ansible for all of the\novercloud node commands. To better support\nthe work around Tripleo.Next, these commands\nshould be moved into tripleoclient.\n\nChange-Id: Ie9bf98d665940c0e3539e4ab03a640f06af00a12\n'}, {'number': 19, 'created': '2021-12-14 05:26:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/4ede8211fbc68cfc7545277369e8ca8b318373aa', 'message': 'WIP - Move baremetal CLI commands\n\nCurrently, we use Ansible for all of the\novercloud node commands. To better support\nthe work around Tripleo.Next, these commands\nshould be moved into tripleoclient.\n\nChange-Id: Ie9bf98d665940c0e3539e4ab03a640f06af00a12\n'}, {'number': 20, 'created': '2021-12-14 10:23:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/2569e198b9b4f4f47441332aee1ab27d45d671d6', 'message': 'WIP - Move baremetal CLI commands\n\nCurrently, we use Ansible for all of the\novercloud node commands. To better support\nthe work around Tripleo.Next, these commands\nshould be moved into tripleoclient.\n\nChange-Id: Ie9bf98d665940c0e3539e4ab03a640f06af00a12\n'}, {'number': 21, 'created': '2021-12-15 04:31:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/e47fba8dd658bfa8ca84268e761539c06c51bebf', 'message': 'WIP - Move baremetal CLI commands\n\nCurrently, we use Ansible for all of the\novercloud node commands. To better support\nthe work around Tripleo.Next, these commands\nshould be moved into tripleoclient.\n\nChange-Id: Ie9bf98d665940c0e3539e4ab03a640f06af00a12\n'}, {'number': 22, 'created': '2021-12-15 06:48:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/1c42a5b3b6a7841dd872d40d1a2e184d0282d9ec', 'message': 'WIP - Move baremetal CLI commands\n\nCurrently, we use Ansible for all of the\novercloud node commands. To better support\nthe work around Tripleo.Next, these commands\nshould be moved into tripleoclient.\n\nChange-Id: Ie9bf98d665940c0e3539e4ab03a640f06af00a12\n'}, {'number': 23, 'created': '2021-12-15 06:59:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/54c85fc7ab29a774e9c6e8275c7fb638c1efc34b', 'message': 'WIP - Move baremetal CLI commands\n\nCurrently, we use Ansible for all of the\novercloud node commands. To better support\nthe work around Tripleo.Next, these commands\nshould be moved into tripleoclient.\n\nChange-Id: Ie9bf98d665940c0e3539e4ab03a640f06af00a12\n'}, {'number': 24, 'created': '2021-12-15 07:05:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/97f95f150c8431f28192ad1642c865f4c4ccb1d6', 'message': 'WIP - Move baremetal CLI commands\n\nCurrently, we use Ansible for all of the\novercloud node commands. To better support\nthe work around Tripleo.Next, these commands\nshould be moved into tripleoclient.\n\nChange-Id: Ie9bf98d665940c0e3539e4ab03a640f06af00a12\n'}, {'number': 25, 'created': '2021-12-16 02:40:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/7df128a48c5991564497fc9e6615ecd04edd1c8d', 'message': 'WIP - Move baremetal CLI commands\n\nCurrently, we use Ansible for all of the\novercloud node commands. To better support\nthe work around Tripleo.Next, these commands\nshould be moved into tripleoclient.\n\nChange-Id: Ie9bf98d665940c0e3539e4ab03a640f06af00a12\n'}, {'number': 26, 'created': '2021-12-16 04:33:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/33f0c67c50d32072c1401a41bfbfa8eb111bb788', 'message': 'WIP - Move baremetal CLI commands\n\nCurrently, we use Ansible for all of the\novercloud node commands. To better support\nthe work around Tripleo.Next, these commands\nshould be moved into tripleoclient.\n\nChange-Id: Ie9bf98d665940c0e3539e4ab03a640f06af00a12\n'}, {'number': 27, 'created': '2021-12-16 04:50:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/e93ef68191b4551d955c1c53e7d962345395ab9a', 'message': 'WIP - Move baremetal CLI commands\n\nCurrently, we use Ansible for all of the\novercloud node commands. To better support\nthe work around Tripleo.Next, these commands\nshould be moved into tripleoclient.\n\nChange-Id: Ie9bf98d665940c0e3539e4ab03a640f06af00a12\n'}, {'number': 28, 'created': '2021-12-16 05:48:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/013b9f5ed21e8081ea359dde5177dbe817b5fed8', 'message': 'WIP - Move baremetal CLI commands\n\nCurrently, we use Ansible for all of the\novercloud node commands. To better support\nthe work around Tripleo.Next, these commands\nshould be moved into tripleoclient.\n\nTo accomplish this, this change is also\nconsolodating the functions in\nworkflows/baremetal.py into classes where they\nwill be better organised and more manageable\nmoving forward.\n\nChange-Id: Ie9bf98d665940c0e3539e4ab03a640f06af00a12\n'}, {'number': 29, 'created': '2021-12-20 04:19:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/b78156fee050510032e0e3ecbfce17cec7ba4713', 'message': 'WIP - Move baremetal CLI commands\n\nCurrently, we use Ansible for all of the\novercloud node commands. To better support\nthe work around Tripleo.Next, these commands\nshould be moved into tripleoclient.\n\nTo accomplish this, this change is also\nconsolodating the functions in\nworkflows/baremetal.py into classes where they\nwill be better organised and more manageable\nmoving forward.\n\nChange-Id: Ie9bf98d665940c0e3539e4ab03a640f06af00a12\n'}, {'number': 30, 'created': '2021-12-20 23:35:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/612ffe41333a0f11d647b476b35a91b80e0b2712', 'message': 'WIP - Move baremetal CLI commands\n\nCurrently, we use Ansible for all of the\novercloud node commands. To better support\nthe work around Tripleo.Next, these commands\nshould be moved into tripleoclient.\n\nTo accomplish this, this change is also\nconsolodating the functions in\nworkflows/baremetal.py into classes where they\nwill be better organised and more manageable\nmoving forward.\n\nChange-Id: Ie9bf98d665940c0e3539e4ab03a640f06af00a12\n'}, {'number': 31, 'created': '2021-12-20 23:46:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/8d891cdcb352a42e96f4c06796f6ddc342a2befd', 'message': 'WIP - Move baremetal CLI commands\n\nCurrently, we use Ansible for all of the\novercloud node commands. To better support\nthe work around Tripleo.Next, these commands\nshould be moved into tripleoclient.\n\nTo accomplish this, this change is also\nconsolodating the functions in\nworkflows/baremetal.py into classes where they\nwill be better organised and more manageable\nmoving forward.\n\nChange-Id: Ie9bf98d665940c0e3539e4ab03a640f06af00a12\n'}, {'number': 32, 'created': '2021-12-22 03:03:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/21d918bb86c1c2b3945bda0988b081936e355cf4', 'message': 'WIP - Move baremetal CLI commands\n\nCurrently, we use Ansible for all of the\novercloud node commands. To better support\nthe work around Tripleo.Next, these commands\nshould be moved into tripleoclient.\n\nTo accomplish this, this change is also\nconsolodating the functions in\nworkflows/baremetal.py into classes where they\nwill be better organised and more manageable\nmoving forward.\n\nChange-Id: Ie9bf98d665940c0e3539e4ab03a640f06af00a12\n'}, {'number': 33, 'created': '2021-12-23 00:32:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/a7409b1d6f672c558523e663b81e08343d1a9ce9', 'message': 'WIP - Move baremetal CLI commands\n\nCurrently, we use Ansible for all of the\novercloud node commands. To better support\nthe work around Tripleo.Next, these commands\nshould be moved into tripleoclient.\n\nTo accomplish this, this change is also\nconsolodating the functions in\nworkflows/baremetal.py into classes where they\nwill be better organised and more manageable\nmoving forward.\n\nChange-Id: Ie9bf98d665940c0e3539e4ab03a640f06af00a12\n'}, {'number': 34, 'created': '2021-12-23 01:54:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/641cda94a8cc07a28cc5eca66b164a6218e4e706', 'message': 'WIP - Move baremetal CLI commands\n\nCurrently, we use Ansible for all of the\novercloud node commands. To better support\nthe work around Tripleo.Next, these commands\nshould be moved into tripleoclient.\n\nTo accomplish this, this change is also\nconsolodating the functions in\nworkflows/baremetal.py into classes where they\nwill be better organised and more manageable\nmoving forward.\n\nChange-Id: Ie9bf98d665940c0e3539e4ab03a640f06af00a12\n'}, {'number': 35, 'created': '2021-12-23 07:37:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/c4e626be43ba02fb0a752a0b5e098b0acd188dc5', 'message': 'WIP - Move baremetal CLI commands\n\nCurrently, we use Ansible for all of the\novercloud node commands. To better support\nthe work around Tripleo.Next, these commands\nshould be moved into tripleoclient.\n\nTo accomplish this, this change is also\nconsolodating the functions in\nworkflows/baremetal.py into classes where they\nwill be better organised and more manageable\nmoving forward.\n\nChange-Id: Ie9bf98d665940c0e3539e4ab03a640f06af00a12\n'}, {'number': 36, 'created': '2022-01-03 15:30:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/daaf054d24484bf74e65d1f26bcb57102cc9cf2b', 'message': 'WIP - Move baremetal CLI commands\n\nCurrently, we use Ansible for all of the\novercloud node commands. To better support\nthe work around Tripleo.Next, these commands\nshould be moved into tripleoclient.\n\nTo accomplish this, this change is also\nconsolodating the functions in\nworkflows/baremetal.py into classes where they\nwill be better organised and more manageable\nmoving forward.\n\nChange-Id: Ie9bf98d665940c0e3539e4ab03a640f06af00a12\n'}, {'number': 37, 'created': '2022-01-03 15:44:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/d0a7fccf17c38e300b3a9a61c4a3b5d3a47dfb6a', 'message': 'WIP - Move baremetal CLI commands\n\nCurrently, we use Ansible for all of the\novercloud node commands. To better support\nthe work around Tripleo.Next, these commands\nshould be moved into tripleoclient.\n\nTo accomplish this, this change is also\nconsolodating the functions in\nworkflows/baremetal.py into classes where they\nwill be better organised and more manageable\nmoving forward.\n\nChange-Id: Ie9bf98d665940c0e3539e4ab03a640f06af00a12\n'}, {'number': 38, 'created': '2022-01-03 16:36:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/8ed9bfc148b319a1428193bfd73ac537dea859b9', 'message': 'WIP - Move baremetal CLI commands\n\nCurrently, we use Ansible for all of the\novercloud node commands. To better support\nthe work around Tripleo.Next, these commands\nshould be moved into tripleoclient.\n\nTo accomplish this, this change is also\nconsolodating the functions in\nworkflows/baremetal.py into classes where they\nwill be better organised and more manageable\nmoving forward.\n\nChange-Id: Ie9bf98d665940c0e3539e4ab03a640f06af00a12\n'}, {'number': 39, 'created': '2022-01-03 16:38:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/ac200560e673c8e82af0c3a84e890b8bb462ab73', 'message': 'WIP - Move baremetal CLI commands\n\nCurrently, we use Ansible for all of the\novercloud node commands. To better support\nthe work around Tripleo.Next, these commands\nshould be moved into tripleoclient.\n\nTo accomplish this, this change is also\nconsolodating the functions in\nworkflows/baremetal.py into classes where they\nwill be better organised and more manageable\nmoving forward.\n\nChange-Id: Ie9bf98d665940c0e3539e4ab03a640f06af00a12\n'}, {'number': 40, 'created': '2022-01-04 02:53:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/6794df1a55f57b162eca9c9c79ae6e98843a3405', 'message': 'WIP - Move baremetal CLI commands\n\nCurrently, we use Ansible for all of the\novercloud node commands. To better support\nthe work around Tripleo.Next, these commands\nshould be moved into tripleoclient.\n\nTo accomplish this, this change is also\nconsolodating the functions in\nworkflows/baremetal.py into classes where they\nwill be better organised and more manageable\nmoving forward.\n\nChange-Id: Ie9bf98d665940c0e3539e4ab03a640f06af00a12\n'}, {'number': 41, 'created': '2022-01-04 02:55:22.000000000', 'files': ['tripleoclient/v2/overcloud_node.py', 'tripleoclient/tests/v2/overcloud_node/test_overcloud_node.py', 'tripleoclient/tests/workflows/fakes.py', 'tripleoclient/tests/v1/overcloud_node/test_overcloud_node.py', 'tripleoclient/tests/fakes.py', 'tripleoclient/exceptions.py', 'tripleoclient/tests/workflows/test_tripleo_baremetal.py', 'tripleoclient/tests/v1/overcloud_node/fakes.py', 'tripleoclient/v1/overcloud_node.py', 'tripleoclient/workflows/tripleo_baremetal.py', 'tripleoclient/tests/v2/overcloud_node/fakes.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/47b6bf49d5d7ff6582be48d7359a5cab424949e1', 'message': 'Move baremetal CLI commands\n\nCurrently, we use Ansible for all of the\novercloud node commands. To better support\nthe work around Tripleo.Next, these commands\nshould be moved into tripleoclient.\n\nTo accomplish this, this change is also\nconsolodating the functions in\nworkflows/baremetal.py into classes where they\nwill be better organised and more manageable\nmoving forward.\n\nChange-Id: Ie9bf98d665940c0e3539e4ab03a640f06af00a12\n'}]",136,820463,47b6bf49d5d7ff6582be48d7359a5cab424949e1,104,5,41,30073,,,0,"Move baremetal CLI commands

Currently, we use Ansible for all of the
overcloud node commands. To better support
the work around Tripleo.Next, these commands
should be moved into tripleoclient.

To accomplish this, this change is also
consolodating the functions in
workflows/baremetal.py into classes where they
will be better organised and more manageable
moving forward.

Change-Id: Ie9bf98d665940c0e3539e4ab03a640f06af00a12
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/63/820463/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/v1/overcloud_node.py', 'tripleoclient/workflows/tripleo_baremetal.py']",2,2459dd93cd8e486d2a01c21cbe9f83be4d765b86,baremetal_cli,"# -*- coding: utf-8 -*- # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import logging from concurrent import futures from openstack import connect as sdkclient from openstack import exceptions from openstack.utils import iterate_timeout class TripleoProvide: log = logging.getLogger(__name__ ) def __init__(self, timeout=60, wait_for_bridge_mappings=False): # Initialise the OSC self.conn = sdkclient( cloud='undercloud' ) self.timeout = timeout self.wait_for_bridge_mappings = wait_for_bridge_mappings def _wait_for_unlocked(self, node, timeout): timeout_msg = 'Timeout waiting for node {} to be unlocked'.format( node ) for count in iterate_timeout(timeout, timeout_msg): node_info = self.conn.baremetal.get_node( node, fields=['reservation'] ).to_dict() if node_info['reservation'] is None: return def _wait_for_bridge_mapping(self, node): client = self.conn.network timeout_msg = ('Timeout waiting for node {} to have bridge_mappings ' 'set in the ironic-neutron-agent entry'.format(node)) # default agent polling period is 30s, so wait 60s timeout = 60 for count in iterate_timeout(timeout, timeout_msg): agents = list(client.agents(host=node, binary='ironic-neutron-agent')) if agents: if agents[0].configuration.get('bridge_mappings'): return def provide(self, nodes, verbosity): client = self.conn.baremetal node_timeout = self.timeout nodes_wait = nodes[:] self.log.info(""Nodes: {}"".format(nodes)) for node in nodes: self.log.info('Providing node: {}'.format(node)) self._wait_for_unlocked(node, node_timeout) if self.wait_for_bridge_mappings: self._wait_for_bridge_mapping(node) try: client.set_node_provision_state( node, ""provide"", wait=False) except Exception as e: nodes_wait.remove(node) self.log.error( ""Can not start providing for node {}: {}"".format( node, e )) return try: self.log.info( ""Waiting for available state: {}"".format( nodes_wait )) client.wait_for_nodes_provision_state( nodes=nodes_wait, expected_state='available', timeout=self.timeout, fail=False ) except exceptions.ResourceFailure as e: self.log.error(""Failed providing nodes due to failure: {}"".format( e )) return except exceptions.ResourceTimeout as e: self.log.error(""Failed providing nodes due to timeout: {}"".format( e )) class TripleoClean: # Class for interacting with Ironic node cleaning log = logging.getLogger(__name__ ) def __init__(self, all_manageable=False, provide=False, timeout=60, raid_config={}, concurrency=1, clean_steps=[{'interface': 'deploy', 'step': 'erase_devices_metadata'}]): self.conn = sdkclient(cloud='undercloud').baremetal self.all_manageable = all_manageable self.provide = provide self.timeout = timeout self.raid_config = raid_config self.clean_steps = clean_steps self.concurrency = concurrency def _parallel_nodes_cleaning(self, nodes): client = self.conn.baremetal node_timeout = self.timeout clean_steps = self.clean_steps failed_nodes = [] success_nodes = [] if self.raid_config: for node in nodes: try: node_info = client.update_node( node, target_raid_config=self.raid_config ) success_nodes.append(node) self.log.info('Setting the raid configuration' ' for node {} succeeded.'.format(node)) except exceptions.BadRequestException as err: self.log.error('Setting raid configuration' ' for node {} failed. Error: {}'.format( node, str(err))) failed_nodes.append(node) nodes.pop(nodes.index(node)) workers = min(len(nodes), self.concurrency) or 1 with futures.ThreadPoolExecutor(max_workers=workers) as executor: future_to_build = { executor.submit( client.set_node_provision_state, node, ""clean"", clean_steps=clean_steps, wait=True ): node for node in nodes } done, not_done = futures.wait( future_to_build, timeout=node_timeout, return_when=futures.ALL_COMPLETED ) nodes_wait = [] for job in done: if job._exception: self.log.error(""Cleaning incomplete for node {}"".format( future_to_build[job]) ) else: nodes_wait.append(future_to_build[job]) else: if not_done: for job in not_done: self.log.error(""Cleaning incomplete for node {}"".format( future_to_build[job]) ) nodes_to_delete = [] for node in nodes_wait: node_info = client.get_node( node, fields=['provision_state', 'last_error'] ).to_dict() state = node_info['provision_state'] if state == 'manageable': nodes_to_delete.append(node) success_nodes.append(node) self.log.info('Successful cleaning for node {}'.format(node)) elif state not in [ 'manageable', 'cleaning', 'clean wait', 'available']: failed_nodes.append(node) nodes_to_delete.append(node) self.log.error( 'Failed cleaning for node {}: {}'.format( node, node_info['last_error'] or 'state {}'.format(state) ) ) for node in nodes_to_delete: nodes_wait.remove(node) if nodes_wait: for node in nodes_wait: node_info = client.get_node( node, fields=['provision_state', 'last_error'] ).to_dict() state = node_info['provision_state'] failed_nodes.append(node) self.log.error('Timeout exceeded for node {}: ' 'node is in state {}'.format(node, state)) return(set(failed_nodes), set(success_nodes)) def clean_manageable_nodes(self, verbosity): # Get a list of nodes in manageable state nodes_manageable = [node.name for node in self.conn.nodes( provision_state='manageable')] self.clean(nodes_manageable, verbosity) def clean(self, nodes, verbosity): if not nodes: self.log.error(""Provide either UUID or names of nodes!"") try: failed_nodes, success_nodes = self._parallel_nodes_cleaning( self, nodes) if failed_nodes: msg = (""Cleaning completed with failures. "" ""{} node(s) failed."".format(failed_nodes)) self.log.error(msg) else: msg = (""Cleaning completed "" ""successfully: {} "".format(len(nodes))) self.log.info(msg) except exceptions.OpenStackCloudException as err: self.log.error(str(err)) ",,257,12
openstack%2Fpython-tripleoclient~master~Iecf1f887cbf226eb178d345bc61b16a3ddd0e72d,openstack/python-tripleoclient,master,Iecf1f887cbf226eb178d345bc61b16a3ddd0e72d,Move baremetal Introspect commands from Ansible,ABANDONED,2022-01-10 03:31:06.000000000,2022-02-08 02:09:41.000000000,,"[{'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-01-10 03:31:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/a4c39a874fc9c8694f645ee6931ac78688c0e1b6', 'message': 'Move baremetal Introspect commands from Ansible\n\nChange-Id: Id8ecbdd246a38e950311c0228f1772d1b18b308b\n\nCurrently, we leverage Ansible to handle the\nbaremetal introspeciton process. As part of our efforts\nto support work on Tripleo.Next, these Ansible\nworkflows will need to be migrated to tripleoclient.\n\nThis change is consolodating Python methods from\ntripleo-ansible into tripleoclient.\n\nChange-Id: Iecf1f887cbf226eb178d345bc61b16a3ddd0e72d\n'}, {'number': 2, 'created': '2022-01-10 03:35:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/87f5f7d9b4b54e030e93916c3a03d2ec3295c7f5', 'message': 'Move baremetal Introspect commands from Ansible\n\nCurrently, we leverage Ansible to handle the\nbaremetal introspeciton process. As part of our efforts\nto support work on Tripleo.Next, these Ansible\nworkflows will need to be migrated to tripleoclient.\n\nThis change is consolodating Python methods from\ntripleo-ansible into tripleoclient.\n\nChange-Id: Iecf1f887cbf226eb178d345bc61b16a3ddd0e72d\n'}, {'number': 3, 'created': '2022-01-10 04:42:55.000000000', 'files': ['tripleoclient/v2/overcloud_node.py', 'tripleoclient/tests/v2/overcloud_node/test_overcloud_node.py', 'tripleoclient/workflows/tripleo_baremetal.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/1318838c26a50af280fcbbfeb6cd4749b280459a', 'message': 'Move baremetal Introspect commands from Ansible\n\nCurrently, we leverage Ansible to handle the\nbaremetal introspeciton process. As part of our efforts\nto support work on Tripleo.Next, these Ansible\nworkflows will need to be migrated to tripleoclient.\n\nThis change is consolodating Python methods from\ntripleo-ansible into tripleoclient.\n\nChange-Id: Iecf1f887cbf226eb178d345bc61b16a3ddd0e72d\n'}]",4,823925,1318838c26a50af280fcbbfeb6cd4749b280459a,11,4,3,30073,,,0,"Move baremetal Introspect commands from Ansible

Currently, we leverage Ansible to handle the
baremetal introspeciton process. As part of our efforts
to support work on Tripleo.Next, these Ansible
workflows will need to be migrated to tripleoclient.

This change is consolodating Python methods from
tripleo-ansible into tripleoclient.

Change-Id: Iecf1f887cbf226eb178d345bc61b16a3ddd0e72d
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/25/823925/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/v2/overcloud_node.py', 'tripleoclient/tests/v2/overcloud_node/test_overcloud_node.py', 'tripleoclient/workflows/tripleo_baremetal.py']",3,a4c39a874fc9c8694f645ee6931ac78688c0e1b6,ooonext_bm_introspect,"import ioimport netaddr import socket import tempfilefrom typing import Tuplefrom oslo_concurrency import processutilsfrom tripleo_common import exception as tc_exceptions from tripleo_common.utils import nodes as node_utils class TripleoIntrospect(TripleoBaremetal): """"""TripleoIntrospect handles everything for node Introspection. TripleoIntrospect will handle the introspection process of baremetal nodes. :param timeout: How long should we wait before we consider the nodes to have failed. :type timeout: Integer :param concurrency: How many nodes should we do at once :type concurrency: Integer :param max_retries: How many times should we retry introspection :type max_retries: Integer :param retry_timeout: How long should we wait before retrying :type retry_timeout: Integer :param verbosity: How verbose should we be. Currently, this just sets DEBUG for any non-zero value provided. :type verbosity: integer """""" log = logging.getLogger(__name__) def __init__(self, timeout: int = 1200, concurrency: int = 1, max_retries: int = 3, retry_timeout: int = 3, verbosity: int = 0): self.concurrency = concurrency self.max_retries = max_retries self.retry_timeout = retry_timeout self.BASE_LOG_MAP = { 'debug': logging.DEBUG, 'info': logging.INFO, 'warning': logging.WARNING, 'error': logging.ERROR } super().__init__(verbosity=verbosity, timeout=timeout) def _register_or_update(self, nodes_json: object, kernel_name: str = None, ramdisk_name: str = None, instance_boot_option: str = None, boot_mode: str = None): for node in nodes_json: caps = node.get('capabilities', {}) caps = node_utils.capabilities_to_dict(caps) if instance_boot_option: caps.setdefault('boot_option', instance_boot_option) if boot_mode: caps.setdefault('boot_mode', boot_mode) node['capabilities'] = node_utils.dict_to_capabilities(caps) registered_nodes = node_utils.register_all_nodes( nodes_json, client=self.conn, kernel_name=kernel_name, ramdisk_name=ramdisk_name) if not isinstance(registered_nodes, list): raise ooo_exceptions.RegisterOrUpdateError(registered_nodes) else: for node in registered_nodes: if node.provision_state == 'enroll': self.conn.baremetal.set_node_provision_state( node=node.id, target='manage' ) print(f'Successfully registered node UUID {node.id}') else: print(f'Node UUID {node.id} is already registered') return registered_nodes def _ip_address_list(self, ip_addresses: str) -> str: if isinstance(ip_addresses, str): return [str(ip) for ip in netaddr.IPNetwork(ip_addresses).iter_hosts()] return ip_addresses def _get_candidate_nodes(self, ip_addresses, ports, credentials, existing_nodes) -> List: existing = self._existing_ips(existing_nodes) try: ip_addresses = self._ip_address_list(ip_addresses) except netaddr.AddrFormatError as exc: self.log.error(""Cannot parse network address: %s"", exc) raise result = [] # NOTE(dtantsur): we iterate over IP addresses last to avoid # spamming the same BMC with too many requests in a row. for username, password in credentials: for port in ports: port = int(port) for ip in ip_addresses: if (ip, port) in existing or (ip, None) in existing: self.log.info('Skipping existing node %s:%s', ip, port) continue result.append({'ip': ip, 'username': username, 'password': password, 'port': port}) return result def _probe_node(self, ip: str, port: str, username: str, password: str, attempts: int = 2, ipmi_driver: str = 'ipmi'): # TODO(dtantsur): redfish support self.log.debug('Probing for IPMI BMC: %s@%s:%s', username, ip, port) with tempfile.NamedTemporaryFile(mode='wt') as fp: fp.write(password or '\0') fp.flush() try: # TODO(dtantsur): try also IPMI v1.5 processutils.execute('ipmitool', '-I', 'lanplus', '-H', ip, '-L', 'ADMINISTRATOR', '-p', str(port), '-U', username, '-f', fp.name, 'power', 'status', attempts=attempts) except processutils.ProcessExecutionError as exc: self.log.debug('Probing %(ip)s failed: %(exc)s', {'ip': ip, 'exc': exc}) return None self.log.info('Found a BMC on %(ip)s with user %(user)s', {'ip': ip, 'user': username}) return { 'pm_type': ipmi_driver, 'pm_addr': ip, 'pm_user': username, 'pm_password': password, 'pm_port': port, } def discover_and_enroll(self, ip_addresses: List, credentials: Tuple, kernel_name: str, ramdisk_name: str, instance_boot_option: str, existing_nodes: List = None, ports: List = None): """"""Here we look for nodes given a list of IP addresses. We take that list of candidates and attempt to enroll them for management via Ironic :param ip_addresses: List of IP addresses to consider :type ip_addresses: List :param credentials: Credentials to acces the remote management system of each node. (IPMI / iDrac / iLo /etc) :type credentials: Tuple :param kernel_name: Kernel to use :type kernel_name: String :param ramdisk_name: RAMDISK to use :type ramdisk_name: String :param instance_boot_option: Boot options to use :type instance_boot_option: String :param existing_nodes: List of existing nodes that are registered :type existing_nodes: List :param ports: List of ports to check :type ports: List """""" if not ports: ports = [623] if not existing_nodes: existing_nodes = list() candidate_nodes = self._get_candidate_nodes( ip_addresses, ports, credentials, existing_nodes ) probed_nodes = list() for node in candidate_nodes: probed_nodes.append(self._probe_node(**node)) print(f""Successfully probed node IP {node['ip']}"") return self._register_or_update( nodes_json=probed_nodes, instance_boot_option=instance_boot_option, kernel_name=kernel_name, ramdisk_name=ramdisk_name ) def _configure_logging(self, log_level: int): log_fmt = ('%{asctime}s %{levelname}s %{name}s: %{message}s') urllib_level = logging.CRITICAL log_stream = io.StringIO() handler = logging.StreamHandler(log_stream) logging.basicConfig(level=self.BASE_LOG_MAP[log_level], format=log_fmt, handlers=[handler]) logging.getLogger('urllib3.connectionpool').setLevel(urllib_level) return log_stream def introspect(self, node_uuids: List, node_timeout: int = 1200, retry_timeout: int = 60, max_retries: int = 3, concurrency: int = 3, fetch_data: bool = False): """"""Introspect provided nodes. Introspect will hand the introspection process for the provided nodes. :param node_uuids: List of nodes to introspect :type node_uuids: List :param node_timeout: How long should we wait before we consider the nodes to have failed. :type node_timeout: integer :param retry_timeout: How long should we wait before retrying :type retry_timeout: Integer :param max_retries: How many times should we retry introspection :type max_retries: Integer :param concurrency: How many nodes should we do at once :type concurrency: Integer :param fetch_data: Get introspection data for nodes :type fetch_data: Boolean """""" result = {} if not node_uuids: return result introspect_jobs = [] self.log.info(""Starting introspection for nodes: %s"", node_uuids) with futures.ThreadPoolExecutor(max_workers=concurrency) as p: for node_uuid in node_uuids: introspect_jobs.append(p.submit( self._introspect_node, node_uuid, node_timeout, retry_timeout, max_retries, fetch_data )) for job in futures.as_completed(introspect_jobs): e = job.exception() if e: # This should not happen, but handle it anyway result[node_uuid] = { ""error"": str(e), ""failed"": True, ""status"": 'failed' } self.log.error('Unexpected error: %s', e) else: result[node_uuid] = job.result() self.log.info(""Introspection complete for nodes: %s"", node_uuids) return result def introspect_manageable_nodes(self): self.introspect(node_uuids=self.all_manageable_nodes()) def _introspect_node(self, node_uuid: str, node_timeout: int = 1200, retry_timeout: int = 30, max_retries: int = 3, fetch_data: bool = False): cloud = self.conn last_error = None attempt = 0 status = '' introspect_client = self.conn.baremetal_introspection while attempt <= max_retries: attempt += 1 node = cloud.baremetal.get_node(node_uuid) # Put into required state for attempt self.log.info(""Preparing for attempt %s "" ""for node: %s"", attempt, node_uuid) node = self._prepare_for_attempt(node, node_timeout, retry_timeout) try: # Start introspection self.log.info(""Introspecting node: %s"", node_uuid) node = cloud.baremetal.set_node_provision_state( node.id, 'inspect', wait=True, timeout=node_timeout) if node.power_state != 'power off': # power off the node self.log.info('Power off node: %s', node_uuid) cloud.baremetal.set_node_power_state( node, 'power off', wait=True, timeout=node_timeout ) if fetch_data: # Get the introspection data for the result self.log.info(""Fetching introspection data: %s"", node_uuid) status = introspect_client.get_introspection_data( node_uuid) self.log.info(""Introspecting node complete: %s"", node_uuid) # Success return { 'status': status, 'failed': False, 'error': None } except Exception as e: last_error = str(e) self.log.error( ""Introspection of node %s failed on "" ""attempt %s: %s"", node_uuid, attempt, last_error ) message = 'unknown error' # All attempts failed, fetch node to get the reason try: node = cloud.baremetal.get_node(node_uuid) message = node.last_error status = node.provision_state except Exception: if last_error: # Couldn't fetch the node, use the last exception message # instead message = last_error return { ""error"": (f""Error for introspection node {node_uuid} "" f""on attempt {attempt}: {message} ""), ""failed"": True, ""status"": status } def _prepare_for_attempt(self, node: str, node_timeout: int = 1200, retry_timeout: int = 1200): cloud = self.conn if node.provision_state not in ('manageable', 'inspect failed'): # Attempt to abort any existing introspection try: self.log.info('Node in state ""%s"", ' 'calling abort: %s', node.provision_state, node.id ) node = cloud.baremetal.set_node_provision_state( node, 'abort', wait=True, timeout=node_timeout) except Exception as e: self.log.warning( ""Abort introspection of node %s failed: %s"", node.id, e) if node.power_state != 'power off': # Attempt to power off the node try: self.log.info('Power off node: %s', node.id) cloud.baremetal.set_node_power_state( node, 'power off', wait=True, timeout=node_timeout ) except Exception as e: self.log.warning(""Power off of node %s failed: %s"", node.id, e) if node.reservation: # Wait until node is unlocked try: node = cloud.baremetal.wait_for_node_reservation( node, timeout=retry_timeout) except Exception as e: self.log.warning( ""Waiting for node unlock %s failed: %s"", node.id, e ) return node def _existing_ips(self, existing_nodes): result = set() for node in existing_nodes: try: handler = node_utils.find_driver_handler(node['driver']) except tc_exceptions.InvalidNode: self.log.warning('No known handler for driver %(driver)s of ' 'node %(node)s, ignoring it', {'driver': node['driver'], 'node': node['uuid']}) continue address_field = handler.convert_key('pm_addr') if address_field is None: self.log.info('No address field for driver %(driver)s of ' 'node %(node)s, ignoring it', {'driver': node['driver'], 'node': node['uuid']}) continue address = node['driver_info'].get(address_field) if address is None: self.log.warning('No address for node %(node)s, ignoring it', {'node': node['uuid']}) continue try: ip = socket.gethostbyname(address) except socket.gaierror as exc: self.log.warning('Cannot resolve %(field)s ""%(value)s"" ' 'for node %(node)s: %(error)s', {'field': address_field, 'value': address, 'node': node['uuid'], 'error': exc}) continue port_field = handler.convert_key('pm_port') port = node['driver_info'].get(port_field, handler.default_port) if port is not None: port = int(port) self.log.debug( 'Detected existing BMC at %(ip)s with port %(port)s', ip, port) result.add((ip, port)) return result",,495,57
openstack%2Fmanila~master~I27c24c71a7c388033fbdf206c2d3e8004839d98a,openstack/manila,master,I27c24c71a7c388033fbdf206c2d3e8004839d98a,[DOC] Incorrect response code for share network creation,MERGED,2022-01-31 08:50:45.000000000,2022-02-08 01:45:05.000000000,2022-02-08 01:43:21.000000000,"[{'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 32411}]","[{'number': 1, 'created': '2022-01-31 08:50:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/cbfd82622e553e2680ef78e1a533a64f818c0591', 'message': '[DOC] Incorrect response code for share network creation\n\nThe response code of share network creation operation is\nmentioned 202 while it should be 200.\n\nChange-Id: I27c24c71a7c388033fbdf206c2d3e8004839d98a\n'}, {'number': 2, 'created': '2022-01-31 08:53:04.000000000', 'files': ['api-ref/source/share-network-subnets.inc'], 'web_link': 'https://opendev.org/openstack/manila/commit/96823254c1bc78b96a63a554aa263a93a4a7130c', 'message': '[DOC] Incorrect response code for share network creation\n\nThe response code of share network creation operation is\nmentioned 202 while it should be 200.\n\nCloses-Bug: #1958072\n\nChange-Id: I27c24c71a7c388033fbdf206c2d3e8004839d98a\n'}]",1,826998,96823254c1bc78b96a63a554aa263a93a4a7130c,12,3,2,33380,,,0,"[DOC] Incorrect response code for share network creation

The response code of share network creation operation is
mentioned 202 while it should be 200.

Closes-Bug: #1958072

Change-Id: I27c24c71a7c388033fbdf206c2d3e8004839d98a
",git fetch https://review.opendev.org/openstack/manila refs/changes/98/826998/2 && git format-patch -1 --stdout FETCH_HEAD,['api-ref/source/share-network-subnets.inc'],1,cbfd82622e553e2680ef78e1a533a64f818c0591,bug/1958072, - 200, - 202,1,1
openstack%2Fmanila~stable%2Fvictoria~I0524554dae2d6970191ba3afa583480c391b5c3c,openstack/manila,stable/victoria,I0524554dae2d6970191ba3afa583480c391b5c3c,Modify docker instalation for fedora systems,MERGED,2022-01-27 20:50:12.000000000,2022-02-08 01:45:00.000000000,2022-02-08 01:43:19.000000000,"[{'_account_id': 16643}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-27 20:50:12.000000000', 'files': ['devstack/plugin.sh'], 'web_link': 'https://opendev.org/openstack/manila/commit/2b2e16bf83515680d4f0705a25f91359aa3edcb8', 'message': 'Modify docker instalation for fedora systems\n\nUse install_package instead of using a specific package manager\nwhile installing docker on fedora systems. With DNF also a\npossibility, the better option is to do not take a stand in chosing\nwhich package manager will be used to install packages.\n\nWe have a install_package function that will use the appropriate\npackage manager to install the programs we need to install.\n\nChange-Id: I0524554dae2d6970191ba3afa583480c391b5c3c\n(cherry picked from commit 7500d22bca4061a3dda8fd3f5c8c5ed21e747987)\n'}]",1,826621,2b2e16bf83515680d4f0705a25f91359aa3edcb8,11,2,1,29632,,,0,"Modify docker instalation for fedora systems

Use install_package instead of using a specific package manager
while installing docker on fedora systems. With DNF also a
possibility, the better option is to do not take a stand in chosing
which package manager will be used to install packages.

We have a install_package function that will use the appropriate
package manager to install the programs we need to install.

Change-Id: I0524554dae2d6970191ba3afa583480c391b5c3c
(cherry picked from commit 7500d22bca4061a3dda8fd3f5c8c5ed21e747987)
",git fetch https://review.opendev.org/openstack/manila refs/changes/21/826621/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/plugin.sh'],1,2b2e16bf83515680d4f0705a25f91359aa3edcb8,, install_package docker, sudo yum install -y docker,1,1
openstack%2Fpuppet-vitrage~master~Ia154dc7c4fbda86f941b935ae782442627cd2d31,openstack/puppet-vitrage,master,Ia154dc7c4fbda86f941b935ae782442627cd2d31,Ensure keystone resources are created during service startup,MERGED,2022-02-06 15:23:45.000000000,2022-02-08 01:29:12.000000000,2022-02-08 01:29:12.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-06 15:23:45.000000000', 'files': ['manifests/keystone/auth.pp'], 'web_link': 'https://opendev.org/openstack/puppet-vitrage/commit/40acf1a75953b9b29d73bf12cada300251e50795', 'message': 'Ensure keystone resources are created during service startup\n\nThis change ensures keystone resources like the mistral service user\nare created before completing service setup, so that we can use\nthe service::end anchor to ensure Vitrage service is fully available.\n\nChange-Id: Ia154dc7c4fbda86f941b935ae782442627cd2d31\n'}]",1,828052,40acf1a75953b9b29d73bf12cada300251e50795,11,3,1,9816,,,0,"Ensure keystone resources are created during service startup

This change ensures keystone resources like the mistral service user
are created before completing service setup, so that we can use
the service::end anchor to ensure Vitrage service is fully available.

Change-Id: Ia154dc7c4fbda86f941b935ae782442627cd2d31
",git fetch https://review.opendev.org/openstack/puppet-vitrage refs/changes/52/828052/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/keystone/auth.pp'],1,40acf1a75953b9b29d73bf12cada300251e50795,key-deps, Keystone::Resource::Service_identity['vitrage'] -> Anchor['vitrage::service::end'] ,,2,0
openstack%2Ftripleo-common~stable%2Fwallaby~I015f2354426cf816a2e320a94b154f9b7ba1531f,openstack/tripleo-common,stable/wallaby,I015f2354426cf816a2e320a94b154f9b7ba1531f,DNM/TEST add new rabbitmq to image,NEW,2022-02-07 21:12:58.000000000,2022-02-08 01:13:02.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-02-07 21:12:58.000000000', 'files': ['container-images/tcib/base/rabbitmq/rabbitmq.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/46f04dca09512e83bcbe131e688b630d804cfc4a', 'message': 'DNM/TEST add new rabbitmq to image\n\nAdd a new rabbitmq version and erlang-ets to support FIPS.  This is just\nfor testing right now.\n\nChange-Id: I015f2354426cf816a2e320a94b154f9b7ba1531f\n'}]",0,828147,46f04dca09512e83bcbe131e688b630d804cfc4a,3,2,1,9914,,,0,"DNM/TEST add new rabbitmq to image

Add a new rabbitmq version and erlang-ets to support FIPS.  This is just
for testing right now.

Change-Id: I015f2354426cf816a2e320a94b154f9b7ba1531f
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/47/828147/1 && git format-patch -1 --stdout FETCH_HEAD,['container-images/tcib/base/rabbitmq/rabbitmq.yaml'],1,46f04dca09512e83bcbe131e688b630d804cfc4a,fips-compatibility-stable/wallaby,- run: dnf config-manager --add-repo http://people.redhat.com/jeckersb/centos-stream-8-rabbitmq-latest/centos-stream-8-rabbitmq-latest.repo - erlang-erts,,2,0
openstack%2Fdesignate~stable%2Fwallaby~I43dcc43309b7da8ca077fce2d1950940971a3dbe,openstack/designate,stable/wallaby,I43dcc43309b7da8ca077fce2d1950940971a3dbe,Add fips jobs,MERGED,2022-02-04 21:51:51.000000000,2022-02-07 23:29:50.000000000,2022-02-07 23:24:38.000000000,"[{'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2022-02-04 21:51:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/11ebea3569c914a8fb9bb18c7ec57c65c2c2862f', 'message': 'Add fips jobs\n\nAdded job to test whether things work when fips is enabled.\nThe job appears to be passing successfully.\n\nChange-Id: I43dcc43309b7da8ca077fce2d1950940971a3dbe\n(cherry picked from commit 604fd8cf7468a54125486e45959f717cf182ece8)\n'}, {'number': 2, 'created': '2022-02-07 16:16:15.000000000', 'files': ['playbooks/enable-fips.yaml', '.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/designate/commit/9e2618a229f8b1c6065f80736ad45af80a249db6', 'message': 'Add fips jobs\n\nAdded job to test whether things work when fips is enabled.\nThe job appears to be passing successfully.\n\nChange-Id: I43dcc43309b7da8ca077fce2d1950940971a3dbe\n(cherry picked from commit 604fd8cf7468a54125486e45959f717cf182ece8)\n'}]",1,827905,9e2618a229f8b1c6065f80736ad45af80a249db6,12,3,2,9914,,,0,"Add fips jobs

Added job to test whether things work when fips is enabled.
The job appears to be passing successfully.

Change-Id: I43dcc43309b7da8ca077fce2d1950940971a3dbe
(cherry picked from commit 604fd8cf7468a54125486e45959f717cf182ece8)
",git fetch https://review.opendev.org/openstack/designate refs/changes/05/827905/2 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/enable-fips.yaml', '.zuul.yaml']",2,11ebea3569c914a8fb9bb18c7ec57c65c2c2862f,fips-compatibility, name: designate-bind9-centos8stream-fips parent: designate-bind9 nodeset: devstack-single-node-centos-8-stream description: | Functional testing for a FIPS enabled Centos 8 stream system pre-run: playbooks/enable-fips.yaml - job: - designate-bind9-centos8stream-fips: voting: false,,13,0
openstack%2Fpuppet-openstack-integration~master~I16985ae8e1793ac9e745d33d4ec6cf42be357335,openstack/puppet-openstack-integration,master,I16985ae8e1793ac9e745d33d4ec6cf42be357335,Octavia: Enable tempest scenario tests,ABANDONED,2022-02-07 09:47:07.000000000,2022-02-07 23:25:00.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-02-07 09:47:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/e34691fd4b071daa778729a27d67a75d0203a884', 'message': 'Octavia: Enable tempest scenario tests\n\nChange-Id: I16985ae8e1793ac9e745d33d4ec6cf42be357335\n'}, {'number': 2, 'created': '2022-02-07 13:21:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/4f73c8635e871b80ee64614031c67efb7d170d31', 'message': 'Octavia: Enable tempest scenario tests\n\nChange-Id: I16985ae8e1793ac9e745d33d4ec6cf42be357335\n'}, {'number': 3, 'created': '2022-02-07 14:48:11.000000000', 'files': ['run_tests.sh'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/e1b391276bce366f1582bb0858936805dca04fec', 'message': 'Octavia: Enable tempest scenario tests\n\nChange-Id: I16985ae8e1793ac9e745d33d4ec6cf42be357335\n'}]",0,828097,e1b391276bce366f1582bb0858936805dca04fec,6,1,3,9816,,,0,"Octavia: Enable tempest scenario tests

Change-Id: I16985ae8e1793ac9e745d33d4ec6cf42be357335
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/97/828097/1 && git format-patch -1 --stdout FETCH_HEAD,['run_tests.sh'],1,e34691fd4b071daa778729a27d67a75d0203a884,octavia-integration,"# Octavia echo ""octavia_tempest_plugin.tests.scenario"" >> /tmp/openstack/tempest/test-include-list.txt ",,3,0
openstack%2Fdesignate~stable%2Fwallaby~Ic2571caa71dc99c417ea0933d5d4947287cbe312,openstack/designate,stable/wallaby,Ic2571caa71dc99c417ea0933d5d4947287cbe312,Replace md5 for fips,MERGED,2022-02-07 16:14:54.000000000,2022-02-07 23:18:44.000000000,2022-02-07 23:16:25.000000000,"[{'_account_id': 5572}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2022-02-07 16:14:54.000000000', 'files': ['requirements.txt', 'designate/storage/impl_sqlalchemy/__init__.py', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/designate/commit/e1ee648fc0936fb7b990b76e336a99586146859b', 'message': 'Replace md5 for fips\n\nmd5 is not an approved algorithm in FIPS mode, and trying to\ninstantiate a hashlib.md5() will fail when the system is running in\nFIPS mode.\n\nmd5 is allowed when in a non-security context.  There is a plan to\nadd a keyword parameter (usedforsecurity) to hashlib.md5() to annotate\nwhether or not the instance is being used in a security context.\n\nIn the case where it is not, the instantiation of md5 will be allowed.\nSee https://bugs.python.org/issue9216 for more details.\n\nSome downstream python versions already support this parameter.  To\nsupport these versions, a new encapsulation of md5() has been added to\noslo_utils.  See https://review.opendev.org/#/c/750031/\n\nIn this case, md5 is used to calculate the hash of a database record\nto ensure record uniqueness.\n\nChange-Id: Ic2571caa71dc99c417ea0933d5d4947287cbe312\n(cherry picked from commit 7ea564329097c078ac4db9ed02dac7d54ef467db)\n'}]",2,828136,e1ee648fc0936fb7b990b76e336a99586146859b,9,4,1,34120,,,0,"Replace md5 for fips

md5 is not an approved algorithm in FIPS mode, and trying to
instantiate a hashlib.md5() will fail when the system is running in
FIPS mode.

md5 is allowed when in a non-security context.  There is a plan to
add a keyword parameter (usedforsecurity) to hashlib.md5() to annotate
whether or not the instance is being used in a security context.

In the case where it is not, the instantiation of md5 will be allowed.
See https://bugs.python.org/issue9216 for more details.

Some downstream python versions already support this parameter.  To
support these versions, a new encapsulation of md5() has been added to
oslo_utils.  See https://review.opendev.org/#/c/750031/

In this case, md5 is used to calculate the hash of a database record
to ensure record uniqueness.

Change-Id: Ic2571caa71dc99c417ea0933d5d4947287cbe312
(cherry picked from commit 7ea564329097c078ac4db9ed02dac7d54ef467db)
",git fetch https://review.opendev.org/openstack/designate refs/changes/36/828136/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'designate/storage/impl_sqlalchemy/__init__.py', 'lower-constraints.txt']",3,e1ee648fc0936fb7b990b76e336a99586146859b,fix_md5-stable/wallaby,oslo.utils==4.7.0,oslo.utils==4.5.0,7,7
openstack%2Fnova~master~I293adc69db58123919589297f495737fe7f2b521,openstack/nova,master,I293adc69db58123919589297f495737fe7f2b521,Allow authorization by user_id for server resume action,ABANDONED,2022-02-07 16:01:12.000000000,2022-02-07 23:16:57.000000000,,"[{'_account_id': 8556}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-07 16:01:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5549e207280c339d68d079c992c5059273ed0f3e', 'message': ""Allow authorization by user_id for server resume action\n\nSince commit 90f0e3d4abecb44e24654c1912893a4492feb1a9 was merged, nova\nallows defining policy rules based on user_id for server resume action.\nHowever the same has not yet implemented in resume action and operators\ncan't define consistent rules for these two corresponding operations.\n\nThis change introduces capability to define a policy rule using user_id\nfor resume action as well.\n\nChange-Id: I293adc69db58123919589297f495737fe7f2b521\nCloses-Bug: #1960247\n""}, {'number': 2, 'created': '2022-02-07 16:01:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d875648c67a3386da0408640ea6c42460f37384e', 'message': ""Allow authorization by user_id for server resume action\n\nSince commit 90f0e3d4abecb44e24654c1912893a4492feb1a9 was merged, nova\nallows defining policy rules based on user_id for server suspend\naction.\n\nHowever the same has not yet implemented in resume action and operators\ncan't define consistent rules for these two corresponding operations.\n\nThis change introduces capability to define a policy rule using user_id\nfor resume action as well.\n\nChange-Id: I293adc69db58123919589297f495737fe7f2b521\nCloses-Bug: #1960247\n""}, {'number': 3, 'created': '2022-02-07 16:10:31.000000000', 'files': ['releasenotes/notes/bug-1960247-pass-user_id-for-resume-b956e0c693fb4077.yaml', 'nova/tests/unit/policies/test_suspend_server.py', 'nova/api/openstack/compute/suspend_server.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/db9e2b886ac3a6c8cf4b07af8078aa86ea5226f7', 'message': ""Allow authorization by user_id for server resume action\n\nSince commit 90f0e3d4abecb44e24654c1912893a4492feb1a9 was merged, nova\nallows defining policy rules based on user_id for server suspend\naction. However the same has not yet been implemented in resume action\nand operators can't define consistent rules for these two corresponding\noperations.\n\nThis change introduces capability to define a policy rule using user_id\nfor resume action to resolve that inconsistency.\n\nChange-Id: I293adc69db58123919589297f495737fe7f2b521\nCloses-Bug: #1960247\n""}]",3,828168,db9e2b886ac3a6c8cf4b07af8078aa86ea5226f7,15,3,3,9816,,,0,"Allow authorization by user_id for server resume action

Since commit 90f0e3d4abecb44e24654c1912893a4492feb1a9 was merged, nova
allows defining policy rules based on user_id for server suspend
action. However the same has not yet been implemented in resume action
and operators can't define consistent rules for these two corresponding
operations.

This change introduces capability to define a policy rule using user_id
for resume action to resolve that inconsistency.

Change-Id: I293adc69db58123919589297f495737fe7f2b521
Closes-Bug: #1960247
",git fetch https://review.opendev.org/openstack/nova refs/changes/68/828168/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-1960247-pass-user_id-for-resume-b956e0c693fb4077.yaml', 'nova/tests/unit/policies/test_suspend_server.py', 'nova/api/openstack/compute/suspend_server.py']",3,5549e207280c339d68d079c992c5059273ed0f3e,bug/1960247," target={'user_id': server.user_id, 'project_id': server.project_id})", target={'project_id': server.project_id}),30,1
openstack%2Fdevstack~master~I82b3b8fe56275aed72e13f6d1bd9170c50e5da0d,openstack/devstack,master,I82b3b8fe56275aed72e13f6d1bd9170c50e5da0d,Add openstack-two-node-centos-8-stream,MERGED,2022-01-25 21:47:22.000000000,2022-02-07 22:47:52.000000000,2022-02-07 22:42:44.000000000,"[{'_account_id': 7118}, {'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 31245}]","[{'number': 1, 'created': '2022-01-25 21:47:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/de47a520470b890a2d0fae5e210f18a1a5a473a9', 'message': 'Add openstack-two-node-centos-8-stream\n\nThis will allow multinode FIPS testing\n\nChange-Id: I82b3b8fe56275aed72e13f6d1bd9170c50e5da0d\n'}, {'number': 2, 'created': '2022-01-27 15:57:13.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/devstack/commit/1fd45940f370dc3aab6a5e9492c36e735f673c8a', 'message': 'Add openstack-two-node-centos-8-stream\n\nThis will allow multinode FIPS testing\n\nChange-Id: I82b3b8fe56275aed72e13f6d1bd9170c50e5da0d\n'}]",3,826391,1fd45940f370dc3aab6a5e9492c36e735f673c8a,18,4,2,9914,,,0,"Add openstack-two-node-centos-8-stream

This will allow multinode FIPS testing

Change-Id: I82b3b8fe56275aed72e13f6d1bd9170c50e5da0d
",git fetch https://review.opendev.org/openstack/devstack refs/changes/91/826391/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,de47a520470b890a2d0fae5e210f18a1a5a473a9,fips-compatibility, name: openstack-two-node-centos-8-stream nodes: - name: controller label: centos-8-stream - name: compute1 label: centos-8-stream groups: # Node where tests are executed and test results collected - name: tempest nodes: - controller # Nodes running the compute service - name: compute nodes: - controller - compute1 # Nodes that are not the controller - name: subnode nodes: - compute1 # Switch node for multinode networking setup - name: switch nodes: - controller # Peer nodes for multinode networking setup - name: peers nodes: - compute1 - nodeset:,,30,0
openstack%2Fbarbican-tempest-plugin~master~I8698fc7a9ac849b8c24adfe824ca44dd3e42b999,openstack/barbican-tempest-plugin,master,I8698fc7a9ac849b8c24adfe824ca44dd3e42b999,Temporarily delete two bad tests for consumers,MERGED,2021-11-11 20:56:21.000000000,2022-02-07 22:28:02.000000000,2022-02-07 22:28:02.000000000,"[{'_account_id': 7414}, {'_account_id': 9914}, {'_account_id': 22348}, {'_account_id': 34120}]","[{'number': 1, 'created': '2021-11-11 20:56:21.000000000', 'files': ['barbican_tempest_plugin/tests/rbac/v1/test_containers.py'], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/263a326d05663692427870a665e0615c512e4b76', 'message': 'Temporarily delete two bad tests for consumers\n\nThese two tests are breaking the gate in barbican for a bugfix\npatch. [1]\n\nAs currently written, the tests are checking the buggy behavior and they\nbreak with the bugfix.\n\nThe main issue with the tests is that the different persona classes are\nnot overriding the cls.consumer_client object to match the persona under\ntest.  This results in the member client being used throughout, which\nbefore the bufix was wrongly returning a 403.\n\nThese test are being re-written in a follow up patch. [2]\n\n[1] https://review.opendev.org/c/openstack/barbican/+/816756/\n[2] https://review.opendev.org/c/openstack/barbican-tempest-plugin/+/815071\n\nChange-Id: I8698fc7a9ac849b8c24adfe824ca44dd3e42b999\n'}]",0,817644,263a326d05663692427870a665e0615c512e4b76,8,4,1,7973,,,0,"Temporarily delete two bad tests for consumers

These two tests are breaking the gate in barbican for a bugfix
patch. [1]

As currently written, the tests are checking the buggy behavior and they
break with the bugfix.

The main issue with the tests is that the different persona classes are
not overriding the cls.consumer_client object to match the persona under
test.  This results in the member client being used throughout, which
before the bufix was wrongly returning a 403.

These test are being re-written in a follow up patch. [2]

[1] https://review.opendev.org/c/openstack/barbican/+/816756/
[2] https://review.opendev.org/c/openstack/barbican-tempest-plugin/+/815071

Change-Id: I8698fc7a9ac849b8c24adfe824ca44dd3e42b999
",git fetch https://review.opendev.org/openstack/barbican-tempest-plugin refs/changes/44/817644/1 && git format-patch -1 --stdout FETCH_HEAD,['barbican_tempest_plugin/tests/rbac/v1/test_containers.py'],1,263a326d05663692427870a665e0615c512e4b76,secure-rbac, pass pass," resp = self.create_empty_container_admin( 'test_reader_list_container_consumers') container_id = self.ref_to_uuid(resp['container_ref']) resp = self.add_consumer_to_container_admin( consumer_name='test_reader_list_container_consumer', consumer_url=resp['container_ref'], container_id=container_id) self.assertRaises( exceptions.Forbidden, self.consumer_client.list_consumers_in_container, container_id=container_id) resp = self.create_empty_container_admin( 'test_reader_create_container_consumer_container') container_id = self.ref_to_uuid(resp['container_ref']) self.assertRaises( exceptions.Forbidden, self.consumer_client.add_consumer_to_container, name='test_reader_create_container_consumer', URL=resp['container_ref'], container_id=container_id)",2,23
openstack%2Fkeystone~master~I1a3c5541798c41ddf15eb89cc4f60578140c0dd1,openstack/keystone,master,I1a3c5541798c41ddf15eb89cc4f60578140c0dd1,sql: Squash newton migrations (part 2),MERGED,2022-01-14 19:14:29.000000000,2022-02-07 21:23:00.000000000,2022-02-07 21:21:03.000000000,"[{'_account_id': 16465}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-14 19:14:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/4f8c1db9dd726015ef2d2f901cc3b03342c0a6ed', 'message': 'sql: Squash newton migrations (part 2)\n\nMake the following changes to the new ""initial"" migrations.\n\n- Add \'key_hash\' and \'encrypted_blob\' columns to \'credential\' table,\n  drop \'blob\' column (003)\n- Add a (now unused) procedure for postgresql backends (003)\n- Change \'created_at\' column of \'password\' table to non-nullable, and\n  set to non-nullable (002, 004)\n\nChange-Id: I1a3c5541798c41ddf15eb89cc4f60578140c0dd1\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 2, 'created': '2022-01-19 18:50:03.000000000', 'files': ['keystone/common/sql/contract_repo/versions/002_password_created_at_not_nullable.py', 'keystone/common/sql/expand_repo/versions/002_password_created_at_not_nullable.py', 'keystone/common/sql/contract_repo/versions/003_remove_unencrypted_blob_column_from_credential.py', 'keystone/common/sql/contract_repo/versions/004_contract_initial_migration.py', 'keystone/common/sql/expand_repo/versions/004_reset_password_created_at.py', 'keystone/common/sql/contract_repo/versions/004_reset_password_created_at.py', 'keystone/tests/unit/test_sql_upgrade.py', 'keystone/common/sql/expand_repo/versions/004_expand_initial_migration.py', 'keystone/common/sql/data_migration_repo/versions/003_migrate_unencrypted_credentials.py', 'keystone/common/sql/data_migration_repo/versions/002_password_created_at_not_nullable.py', 'keystone/common/sql/data_migration_repo/versions/004_reset_password_created_at.py', 'keystone/common/sql/upgrades.py', 'keystone/common/sql/data_migration_repo/versions/004_data_initial_migration.py', 'keystone/common/sql/expand_repo/versions/003_add_key_hash_and_encrypted_blob_to_credential.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/4fe0f10b6e21f48a131b8660d610d0bbb877ec64', 'message': 'sql: Squash newton migrations (part 2)\n\nMake the following changes to the new ""initial"" migrations.\n\n- Add \'key_hash\' and \'encrypted_blob\' columns to \'credential\' table,\n  drop \'blob\' column (003)\n- Add a (now unused) procedure for postgresql backends (003)\n- Change \'created_at\' column of \'password\' table to non-nullable, and\n  set to non-nullable (002, 004)\n\nChange-Id: I1a3c5541798c41ddf15eb89cc4f60578140c0dd1\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}]",0,824778,4fe0f10b6e21f48a131b8660d610d0bbb877ec64,12,3,2,15334,,,0,"sql: Squash newton migrations (part 2)

Make the following changes to the new ""initial"" migrations.

- Add 'key_hash' and 'encrypted_blob' columns to 'credential' table,
  drop 'blob' column (003)
- Add a (now unused) procedure for postgresql backends (003)
- Change 'created_at' column of 'password' table to non-nullable, and
  set to non-nullable (002, 004)

Change-Id: I1a3c5541798c41ddf15eb89cc4f60578140c0dd1
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/keystone refs/changes/78/824778/1 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/common/sql/contract_repo/versions/002_password_created_at_not_nullable.py', 'keystone/common/sql/expand_repo/versions/002_password_created_at_not_nullable.py', 'keystone/common/sql/contract_repo/versions/003_remove_unencrypted_blob_column_from_credential.py', 'keystone/common/sql/contract_repo/versions/004_contract_initial_migration.py', 'keystone/common/sql/expand_repo/versions/004_reset_password_created_at.py', 'keystone/common/sql/contract_repo/versions/004_reset_password_created_at.py', 'keystone/tests/unit/test_sql_upgrade.py', 'keystone/common/sql/expand_repo/versions/004_expand_initial_migration.py', 'keystone/common/sql/data_migration_repo/versions/003_migrate_unencrypted_credentials.py', 'keystone/common/sql/data_migration_repo/versions/002_password_created_at_not_nullable.py', 'keystone/common/sql/data_migration_repo/versions/004_reset_password_created_at.py', 'keystone/common/sql/data_migration_repo/versions/004_data_initial_migration.py', 'keystone/common/sql/expand_repo/versions/003_add_key_hash_and_encrypted_blob_to_credential.py']",13,4f8c1db9dd726015ef2d2f901cc3b03342c0a6ed,bp/remove-sqlalchemy-migrate,,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import sqlalchemy as sql from keystone.common import sql as ks_sql from keystone.common.sql import upgrades # NOTE(lbragstad): MySQL error state of 45000 is a generic unhandled exception. # Keystone will return a 500 in this case. MYSQL_INSERT_TRIGGER = """""" CREATE TRIGGER credential_insert_read_only BEFORE INSERT ON credential FOR EACH ROW BEGIN SIGNAL SQLSTATE '45000' SET MESSAGE_TEXT = '%s'; END; """""" MYSQL_UPDATE_TRIGGER = """""" CREATE TRIGGER credential_update_read_only BEFORE UPDATE ON credential FOR EACH ROW BEGIN IF NEW.encrypted_blob IS NULL THEN SIGNAL SQLSTATE '45000' SET MESSAGE_TEXT = '%s'; END IF; IF NEW.encrypted_blob IS NOT NULL AND OLD.blob IS NULL THEN SIGNAL SQLSTATE '45000' SET MESSAGE_TEXT = '%s'; END IF; END; """""" SQLITE_INSERT_TRIGGER = """""" CREATE TRIGGER credential_insert_read_only BEFORE INSERT ON credential BEGIN SELECT RAISE (ABORT, '%s'); END; """""" SQLITE_UPDATE_TRIGGER = """""" CREATE TRIGGER credential_update_read_only BEFORE UPDATE ON credential WHEN NEW.encrypted_blob IS NULL BEGIN SELECT RAISE (ABORT, '%s'); END; """""" POSTGRESQL_INSERT_TRIGGER = """""" CREATE OR REPLACE FUNCTION keystone_read_only_insert() RETURNS trigger AS $BODY$ BEGIN RAISE EXCEPTION '%s'; END $BODY$ LANGUAGE plpgsql; CREATE TRIGGER credential_insert_read_only BEFORE INSERT ON credential FOR EACH ROW EXECUTE PROCEDURE keystone_read_only_insert(); """""" POSTGRESQL_UPDATE_TRIGGER = """""" CREATE OR REPLACE FUNCTION keystone_read_only_update() RETURNS trigger AS $BODY$ BEGIN IF NEW.encrypted_blob IS NULL THEN RAISE EXCEPTION '%s'; END IF; IF NEW.encrypted_blob IS NOT NULL AND OLD.blob IS NULL THEN RAISE EXCEPTION '%s'; END IF; RETURN NEW; END $BODY$ LANGUAGE plpgsql; CREATE TRIGGER credential_update_read_only BEFORE UPDATE ON credential FOR EACH ROW EXECUTE PROCEDURE keystone_read_only_update(); """""" def upgrade(migrate_engine): meta = sql.MetaData() meta.bind = migrate_engine key_hash = sql.Column('key_hash', sql.String(64), nullable=True) encrypted_blob = sql.Column( 'encrypted_blob', ks_sql.Text, nullable=True ) credential_table = sql.Table('credential', meta, autoload=True) credential_table.create_column(key_hash) credential_table.create_column(encrypted_blob) credential_table.c.blob.alter(nullable=True) if not upgrades.USE_TRIGGERS: # Skip managing triggers if we're doing an offline upgrade. return error_message = ('Credential migration in progress. Cannot perform ' 'writes to credential table.') if migrate_engine.name == 'postgresql': credential_insert_trigger = POSTGRESQL_INSERT_TRIGGER % error_message credential_update_trigger = POSTGRESQL_UPDATE_TRIGGER % ( error_message, error_message ) elif migrate_engine.name == 'sqlite': credential_insert_trigger = SQLITE_INSERT_TRIGGER % error_message credential_update_trigger = SQLITE_UPDATE_TRIGGER % error_message else: credential_insert_trigger = MYSQL_INSERT_TRIGGER % error_message credential_update_trigger = MYSQL_UPDATE_TRIGGER % ( error_message, error_message ) migrate_engine.execute(credential_insert_trigger) migrate_engine.execute(credential_update_trigger) ",65,534
openstack%2Fcinder~master~Iea1f29ce269107cd6422c40ca2e42ddb7354486b,openstack/cinder,master,Iea1f29ce269107cd6422c40ca2e42ddb7354486b,Remove various unused code,MERGED,2021-07-13 18:02:01.000000000,2022-02-07 21:05:25.000000000,2022-02-07 19:52:17.000000000,"[{'_account_id': 5314}, {'_account_id': 5997}, {'_account_id': 20813}, {'_account_id': 22348}, {'_account_id': 30555}]","[{'number': 1, 'created': '2021-07-13 18:02:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/9125111c8d6e3e5101c79ff5b6aed542d647ad02', 'message': 'Remove various unused code\n\nRemove code that does not appear to be called/used.\n\nChange-Id: Iea1f29ce269107cd6422c40ca2e42ddb7354486b\n'}, {'number': 2, 'created': '2021-10-27 15:01:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/0beaf9f8c24a34baf7b00a4e004afe0ee56575b6', 'message': 'Remove various unused code\n\nRemove code that does not appear to be called/used.\n\nChange-Id: Iea1f29ce269107cd6422c40ca2e42ddb7354486b\n'}, {'number': 3, 'created': '2021-12-15 15:27:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/059200d841fdec635d377e2fefd0b97b171f57e6', 'message': 'Remove various unused code\n\nRemove code that does not appear to be called/used.\n\nChange-Id: Iea1f29ce269107cd6422c40ca2e42ddb7354486b\n'}, {'number': 4, 'created': '2022-01-24 14:53:40.000000000', 'files': ['cinder/scheduler/filter_scheduler.py', 'cinder/volume/driver.py', 'cinder/volume/volume_utils.py', 'cinder/tests/unit/api/contrib/test_volume_image_metadata.py', 'cinder/volume/api.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/36bd8f5c9773caf3c87e4683948bd32ed99ac3cf', 'message': 'Remove various unused code\n\nRemove code that does not appear to be called/used.\n\nChange-Id: Iea1f29ce269107cd6422c40ca2e42ddb7354486b\n'}]",11,800703,36bd8f5c9773caf3c87e4683948bd32ed99ac3cf,133,5,4,4523,,,0,"Remove various unused code

Remove code that does not appear to be called/used.

Change-Id: Iea1f29ce269107cd6422c40ca2e42ddb7354486b
",git fetch https://review.opendev.org/openstack/cinder refs/changes/03/800703/4 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/scheduler/filter_scheduler.py', 'cinder/volume/driver.py', 'cinder/volume/volume_utils.py', 'cinder/tests/unit/api/contrib/test_volume_image_metadata.py', 'cinder/volume/api.py']",5,9125111c8d6e3e5101c79ff5b6aed542d647ad02,,," def get_volume_admin_metadata(self, context, volume): """"""Get all administration metadata associated with a volume."""""" rv = self.db.volume_admin_metadata_get(context, volume['id']) LOG.info(""Get volume admin metadata completed successfully."", resource=volume) return dict(rv) def get_volumes_image_metadata(self, context): context.authorize(vol_meta_policy.GET_POLICY) db_data = self.db.volume_glance_metadata_get_all(context) results = collections.defaultdict(dict) for meta_entry in db_data: results[meta_entry['volume_id']].update({meta_entry['key']: meta_entry['value']}) return results def get_host_uptime(self, context, host): """"""Returns the result of calling ""uptime"" on the target host."""""" raise NotImplementedError() def host_power_action(self, context, host, action): raise NotImplementedError() def set_host_maintenance(self, context, host, mode): """"""Start/Stop host maintenance window. On start, it triggers volume evacuation. """""" raise NotImplementedError()",0,121
openstack%2Fkeystone~master~I2450a6e077ea9fce0f957a0c239ea168c9930c30,openstack/keystone,master,I2450a6e077ea9fce0f957a0c239ea168c9930c30,sql: Remove duplicated constants,MERGED,2022-01-19 18:50:03.000000000,2022-02-07 20:46:26.000000000,2022-02-07 20:43:57.000000000,"[{'_account_id': 7414}, {'_account_id': 7973}, {'_account_id': 14250}, {'_account_id': 16465}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-19 18:50:03.000000000', 'files': ['keystone/tests/unit/test_sql_upgrade.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/5823f218443fe0559570395cf4ed68fc61524b19', 'message': 'sql: Remove duplicated constants\n\nChange-Id: I2450a6e077ea9fce0f957a0c239ea168c9930c30\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}]",1,825377,5823f218443fe0559570395cf4ed68fc61524b19,12,6,1,15334,,,0,"sql: Remove duplicated constants

Change-Id: I2450a6e077ea9fce0f957a0c239ea168c9930c30
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/keystone refs/changes/77/825377/1 && git format-patch -1 --stdout FETCH_HEAD,['keystone/tests/unit/test_sql_upgrade.py'],1,5823f218443fe0559570395cf4ed68fc61524b19,bp/remove-sqlalchemy-migrate," upgrades.EXPAND_REPO: upgrades.Repository( self.engine, upgrades.EXPAND_REPO, upgrades.DATA_MIGRATION_REPO: upgrades.Repository( self.engine, upgrades.DATA_MIGRATION_REPO, ), upgrades.CONTRACT_REPO: upgrades.Repository( self.engine, upgrades.CONTRACT_REPO, ), self.repos[upgrades.EXPAND_REPO].upgrade(*args, **kwargs) self.repos[upgrades.DATA_MIGRATION_REPO].upgrade(*args, **kwargs) self.repos[upgrades.CONTRACT_REPO].upgrade(*args, **kwargs) self.repos[upgrades.EXPAND_REPO].min_version, self.repos[upgrades.EXPAND_REPO].version) self.expand(upgrades.INITIAL_VERSION + 1) self.repos[upgrades.DATA_MIGRATION_REPO].min_version, self.repos[upgrades.DATA_MIGRATION_REPO].version, ) self.repos[upgrades.CONTRACT_REPO].min_version, self.repos[upgrades.CONTRACT_REPO].version, ) self.repos[upgrades.EXPAND_REPO].max_version, self.repos[upgrades.DATA_MIGRATION_REPO].max_version, ) self.repos[upgrades.DATA_MIGRATION_REPO].max_version, self.repos[upgrades.CONTRACT_REPO].max_version, ) repo_path = self.repos[upgrades.EXPAND_REPO].repo_path expand_list = glob.glob(repo_path + versions_path + '/*.py') repo_path = self.repos[upgrades.DATA_MIGRATION_REPO].repo_path repo_path = self.repos[upgrades.CONTRACT_REPO].repo_path contract_list = glob.glob(repo_path + versions_path + '/*.py') self.expand(upgrades.INITIAL_VERSION + 1) self.migrate(upgrades.INITIAL_VERSION + 1) self.contract(upgrades.INITIAL_VERSION + 1) self.assertEqual(upgrades.INITIAL_VERSION + 1, version) upgrades.INITIAL_VERSION + 2, upgrades.INITIAL_VERSION + 2, latest_version = self.repos[upgrades.EXPAND_REPO].max_version self.expand(upgrades.INITIAL_VERSION + 1) self.expand(upgrades.INITIAL_VERSION + 1) self.migrate(upgrades.INITIAL_VERSION + 1) upgrades.INITIAL_VERSION + 2, self.expand(1) self.migrate(1) self.contract(1)","INITIAL_VERSION = 1 EXPAND_REPO = 'expand_repo' DATA_MIGRATION_REPO = 'data_migration_repo' CONTRACT_REPO = 'contract_repo' EXPAND_REPO: upgrades.Repository(self.engine, EXPAND_REPO), DATA_MIGRATION_REPO: upgrades.Repository( self.engine, DATA_MIGRATION_REPO, CONTRACT_REPO: upgrades.Repository(self.engine, CONTRACT_REPO), self.repos[EXPAND_REPO].upgrade(*args, **kwargs) self.repos[DATA_MIGRATION_REPO].upgrade(*args, **kwargs) self.repos[CONTRACT_REPO].upgrade(*args, **kwargs) self.repos[EXPAND_REPO].min_version, self.repos[EXPAND_REPO].version) self.expand(INITIAL_VERSION) self.repos[DATA_MIGRATION_REPO].min_version, self.repos[DATA_MIGRATION_REPO].version) self.repos[CONTRACT_REPO].min_version, self.repos[CONTRACT_REPO].version) self.repos[EXPAND_REPO].max_version, self.repos[DATA_MIGRATION_REPO].max_version) self.repos[DATA_MIGRATION_REPO].max_version, self.repos[CONTRACT_REPO].max_version) expand_list = glob.glob( self.repos[EXPAND_REPO].repo_path + versions_path + '/*.py') repo_path = self.repos[DATA_MIGRATION_REPO].repo_path contract_list = glob.glob( self.repos[CONTRACT_REPO].repo_path + versions_path + '/*.py') self.expand(INITIAL_VERSION) self.migrate(INITIAL_VERSION) self.contract(INITIAL_VERSION) self.assertEqual(INITIAL_VERSION, version) INITIAL_VERSION + 1, INITIAL_VERSION + 1, latest_version = self.repos[EXPAND_REPO].max_version self.expand(INITIAL_VERSION) self.expand(INITIAL_VERSION) self.migrate(INITIAL_VERSION) INITIAL_VERSION + 1, self.expand(INITIAL_VERSION) self.migrate(INITIAL_VERSION) self.contract(INITIAL_VERSION)",48,42
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~I6dc238c2b59c5c1d89d54a2dd1fbf7cef0d16313,openstack/tripleo-heat-templates,stable/wallaby,I6dc238c2b59c5c1d89d54a2dd1fbf7cef0d16313,Allow neutron to configure secure RBAC options,MERGED,2022-01-27 07:50:18.000000000,2022-02-07 20:39:19.000000000,2022-02-07 20:36:51.000000000,"[{'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-01-27 07:50:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4e93b13bf423533dae57683d9cad5dc25543b752', 'message': 'Allow neutron to configure secure RBAC options\n\nThis updates the neutron api container to set the appropriate\nconfiguration options when EnforceSecureRbac is True. This will be\nneeded when more OpenStack services support system-scope and deployers\nwant to enable those personas.\n\nConflicts:\n    deployment/neutron/neutron-api-container-puppet.yaml\n\nChange-Id: I6dc238c2b59c5c1d89d54a2dd1fbf7cef0d16313\n(cherry picked from commit 8e28fde39cbc0aca03afdc30d4f4fce43ea92013)\n'}, {'number': 2, 'created': '2022-02-03 08:33:36.000000000', 'files': ['releasenotes/notes/enable-secure-rbac-for-neutron-842bd41339a48f26.yaml', 'deployment/neutron/neutron-api-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4f0ad599b82706cd1385b7823ec66a3dbd868904', 'message': 'Allow neutron to configure secure RBAC options\n\nThis updates the neutron api container to set the appropriate\nconfiguration options when EnforceSecureRbac is True. This will be\nneeded when more OpenStack services support system-scope and deployers\nwant to enable those personas.\n\nConflicts:\n    deployment/neutron/neutron-api-container-puppet.yaml\n\nChange-Id: I6dc238c2b59c5c1d89d54a2dd1fbf7cef0d16313\n(cherry picked from commit 8e28fde39cbc0aca03afdc30d4f4fce43ea92013)\n'}]",2,826591,4f0ad599b82706cd1385b7823ec66a3dbd868904,16,3,2,11975,,,0,"Allow neutron to configure secure RBAC options

This updates the neutron api container to set the appropriate
configuration options when EnforceSecureRbac is True. This will be
needed when more OpenStack services support system-scope and deployers
want to enable those personas.

Conflicts:
    deployment/neutron/neutron-api-container-puppet.yaml

Change-Id: I6dc238c2b59c5c1d89d54a2dd1fbf7cef0d16313
(cherry picked from commit 8e28fde39cbc0aca03afdc30d4f4fce43ea92013)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/91/826591/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/enable-secure-rbac-for-neutron-842bd41339a48f26.yaml', 'deployment/neutron/neutron-api-container-puppet.yaml']",2,4e93b13bf423533dae57683d9cad5dc25543b752,secure-rbac," EnforceSecureRbac: type: boolean default: false description: >- Setting this option to True will configure each OpenStack service to enforce Secure RBAC by setting `[oslo_policy] enforce_new_defaults` and `[oslo_policy] enforce_scope` to True. This introduces a consistent set of RBAC personas across OpenStack services that include support for system and project scope, as well as keystone's default roles, admin, member, and reader. Do not enable this functionality until all services in your deployment actually support secure RBAC. - if: - {get_param: EnforceSecureRbac} - neutron::policy::enforce_scope: true neutron::policy::enforce_new_defaults: true",,23,0
openstack%2Fironic-python-agent~stable%2Ftrain~I231ccadebe54bb965481b3c6ddd2b4117284ecdc,openstack/ironic-python-agent,stable/train,I231ccadebe54bb965481b3c6ddd2b4117284ecdc,Run centos7-python3 job instead of centos7,ABANDONED,2022-01-28 01:35:28.000000000,2022-02-07 20:27:47.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-01-28 01:35:28.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/8f991276dc72368d0bb76f8a5be0a52f31bcf7c5', 'message': 'Run centos7-python3 job instead of centos7\n\nChange-Id: I231ccadebe54bb965481b3c6ddd2b4117284ecdc\n'}]",0,826792,8f991276dc72368d0bb76f8a5be0a52f31bcf7c5,4,1,1,4571,,,0,"Run centos7-python3 job instead of centos7

Change-Id: I231ccadebe54bb965481b3c6ddd2b4117284ecdc
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/92/826792/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,8f991276dc72368d0bb76f8a5be0a52f31bcf7c5,c7-py3, - ironic-python-agent-check-image-dib-centos7-python3:, - ironic-python-agent-check-image-dib-centos7:,1,1
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~Iadd24554727d9a5000c6842954fe1deede833a8e,openstack/tripleo-heat-templates,stable/wallaby,Iadd24554727d9a5000c6842954fe1deede833a8e,Implement project personas in custom barbican policy file,MERGED,2021-11-19 20:34:34.000000000,2022-02-07 20:15:56.000000000,2022-02-07 20:15:56.000000000,"[{'_account_id': 5046}, {'_account_id': 7353}, {'_account_id': 7414}, {'_account_id': 7973}, {'_account_id': 9914}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-11-19 20:34:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e3eb51352783786b20d4fd93e393efc2af385640', 'message': ""Implement project personas in custom barbican policy file\n\nThis commit updates the default barbican policies in enable-secure-rbac.yaml to\nimplement consistent support for project personas (project-admin,\nproject-member, and project-reader) with other OpenStack services. The\nproject-admin is still considered a system administrator.\n\nThis behavior will change in future releases (likely Yoga) when we have\na community wide goal to finish system-scope adoption. At that point, we\ncan remove these overrides and use the defaults in barbican, which is working\nto adopt full support for system peronas in Yoga, and we'll get more\nfunctionality without these overrides.\n\nChange-Id: Iadd24554727d9a5000c6842954fe1deede833a8e\n(cherry picked from commit 839ddccdbd43b5eb41441c75a953647995f89959)\n""}, {'number': 2, 'created': '2022-01-24 13:09:47.000000000', 'files': ['environments/enable-secure-rbac.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1269dafd2446232b5bd908b8e976fd72c0de8f13', 'message': ""Implement project personas in custom barbican policy file\n\nThis commit updates the default barbican policies in enable-secure-rbac.yaml to\nimplement consistent support for project personas (project-admin,\nproject-member, and project-reader) with other OpenStack services. The\nproject-admin is still considered a system administrator.\n\nThis behavior will change in future releases (likely Yoga) when we have\na community wide goal to finish system-scope adoption. At that point, we\ncan remove these overrides and use the defaults in barbican, which is working\nto adopt full support for system peronas in Yoga, and we'll get more\nfunctionality without these overrides.\n\nChange-Id: Iadd24554727d9a5000c6842954fe1deede833a8e\n(cherry picked from commit 839ddccdbd43b5eb41441c75a953647995f89959)\n""}]",3,818631,1269dafd2446232b5bd908b8e976fd72c0de8f13,16,7,2,5046,,,0,"Implement project personas in custom barbican policy file

This commit updates the default barbican policies in enable-secure-rbac.yaml to
implement consistent support for project personas (project-admin,
project-member, and project-reader) with other OpenStack services. The
project-admin is still considered a system administrator.

This behavior will change in future releases (likely Yoga) when we have
a community wide goal to finish system-scope adoption. At that point, we
can remove these overrides and use the defaults in barbican, which is working
to adopt full support for system peronas in Yoga, and we'll get more
functionality without these overrides.

Change-Id: Iadd24554727d9a5000c6842954fe1deede833a8e
(cherry picked from commit 839ddccdbd43b5eb41441c75a953647995f89959)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/31/818631/2 && git format-patch -1 --stdout FETCH_HEAD,['environments/enable-secure-rbac.yaml'],1,e3eb51352783786b20d4fd93e393efc2af385640,secure-rbac," barbican-member: key: ""member"" value: ""role:member"" barbican-reader: key: ""reader"" value: ""role:reader"" barbican-secret_owner: key: ""secret_owner"" value: ""user_id:%(target.secret.creator_id)s"" barbican-secret_is_not_private_read: key: ""secret_is_not_private_read"" value: ""'True':%(target.secret.read_project_access)s"" barbican-container_owner: key: ""container_owner"" value: ""user_id:%(target.container.creator_id)s"" barbican-container_is_not_private_read: key: ""container_is_not_private_read"" value: ""'True':%(target.container.read_project_access)s"" value: ""rule:admin and project_id:%(target.secret.project_id)s"" barbican-secret_project_member: key: ""secret_project_member"" value: ""rule:member and project_id:%(target.secret.project_id)s"" value: ""rule:admin and project_id:%(target.container.project_id)s"" barbican-container_project_member: key: ""container_project_member"" value: ""rule:member and project_id:%(target.container.project_id)s"" value: ""rule:secret_project_member and (rule:secret_owner or rule:secret_is_not_private_read) or rule:secret_project_admin"" value: ""rule:secret_project_member and (rule:secret_owner or rule:secret_is_not_private_read) or rule:secret_project_admin"" value: ""rule:secret_project_member and (rule:secret_owner or rule:secret_is_not_private_read) or rule:secret_project_admin"" value: ""rule:container_project_member and (rule:container_owner or rule:container_is_not_private_read) or rule:container_project_admin"" value: ""rule:container_project_member and (rule:container_owner or rule:container_is_not_private_read) or rule:container_project_admin"" value: ""rule:container_project_member and (rule:container_owner or rule:container_is_not_private_read) or rule:container_project_admin"" value: ""rule:container_project_member and (rule:container_owner or rule:container_is_not_private_read) or rule:container_project_admin"" value: ""rule:container_project_member and (rule:container_owner or rule:container_is_not_private_read) or rule:container_project_admin"" value: ""rule:container_project_member and (rule:container_owner or rule:container_is_not_private_read) or rule:container_project_admin"" value: ""rule:container_project_member and (rule:container_owner or rule:container_is_not_private_read) or rule:container_project_admin"" value: ""rule:member"" value: ""rule:member"" value: ""rule:container_project_member and (rule:container_owner or rule:container_is_not_private_read) or rule:container_acl_read or rule:container_project_admin"" value: ""rule:container_project_member and (rule:container_owner or rule:container_is_not_private_read) or rule:container_project_admin"" value: ""rule:container_project_member and (rule:container_owner or rule:container_is_not_private_read) or rule:container_project_admin"" value: ""rule:container_project_member and (rule:container_owner or rule:container_is_not_private_read) or rule:container_project_admin"" value: ""rule:member"" value: ""rule:member"" value: ""rule:member"" value: ""rule:member"" value: ""rule:member"" value: ""rule:reader"" value: ""rule:admin"" value: ""rule:admin"" value: ""rule:admin"" value: ""rule:secret_project_member and (rule:secret_owner or rule:secret_is_not_private_read) or rule:secret_acl_read or rule:secret_project_admin"" value: ""rule:secret_project_member and (rule:secret_owner or rule:secret_is_not_private_read) or rule:secret_project_admin"" value: ""rule:secret_project_member and (rule:secret_owner or rule:secret_is_not_private_read) or rule:secret_project_admin"" value: ""rule:secret_project_member and (rule:secret_owner or rule:secret_is_not_private_read) or rule:secret_project_admin"" value: ""rule:secret_project_member and (rule:secret_owner or rule:secret_is_not_private_read) or rule:secret_acl_read or rule:secret_project_admin"" value: ""rule:secret_project_member and (rule:secret_owner or rule:secret_is_not_private_read) or rule:secret_acl_read or rule:secret_project_admin"" value: ""rule:secret_project_member and (rule:secret_owner or rule:secret_is_not_private_read) or rule:secret_project_admin"" value: ""rule:secret_project_member and (rule:secret_owner or rule:secret_is_not_private_read) or rule:secret_project_admin"" value: ""rule:member"" value: ""rule:member"" value: ""rule:reader"" value: ""rule:reader"" value: ""rule:reader"" value: ""rule:reader"" value: ""rule:reader"" value: ""rule:admin"" value: ""rule:reader"" value: ""rule:admin"""," barbican-observer: key: ""observer"" value: ""role:observer"" barbican-creator: key: ""creator"" value: ""role:creator"" barbican-audit: key: ""audit"" value: ""role:audit"" barbican-service_admin: key: ""service_admin"" value: ""role:key-manager:service-admin"" barbican-admin_or_creator: key: ""admin_or_creator"" value: ""rule:admin or rule:creator"" barbican-all_but_audit: key: ""all_but_audit"" value: ""rule:admin or rule:observer or rule:creator"" barbican-all_users: key: ""all_users"" value: ""rule:admin or rule:observer or rule:creator or rule:audit or rule:service_admin"" barbican-secret_project_match: key: ""secret_project_match"" value: ""project_id:%(target.secret.project_id)s"" barbican-secret_private_read: key: ""secret_private_read"" value: ""'False':%(target.secret.read_project_access)s"" barbican-secret_creator_user: key: ""secret_creator_user"" value: ""user_id:%(target.secret.creator_id)s"" barbican-container_project_match: key: ""container_project_match"" value: ""project_id:%(target.container.project_id)s"" barbican-container_private_read: key: ""container_private_read"" value: ""'False':%(target.container.read_project_access)s"" barbican-container_creator_user: key: ""container_creator_user"" value: ""user_id:%(target.container.creator_id)s"" barbican-secret_non_private_read: key: ""secret_non_private_read"" value: ""rule:all_users and rule:secret_project_match and not rule:secret_private_read"" barbican-secret_decrypt_non_private_read: key: ""secret_decrypt_non_private_read"" value: ""rule:all_but_audit and rule:secret_project_match and not rule:secret_private_read"" barbican-container_non_private_read: key: ""container_non_private_read"" value: ""rule:all_users and rule:container_project_match and not rule:container_private_read"" value: ""rule:admin and rule:secret_project_match"" barbican-secret_project_creator: key: ""secret_project_creator"" value: ""rule:creator and rule:secret_project_match and rule:secret_creator_user"" value: ""rule:admin and rule:container_project_match"" barbican-container_project_creator: key: ""container_project_creator"" value: ""rule:creator and rule:container_project_match and rule:container_creator_user"" value: ""(rule:all_but_audit and rule:secret_project_match) or (role:member and project_id:%(target.secret.project_id)s and (user_id:%(target.secret.creator_id)s or True:%(target.secret.read_project_access)s)) or role:admin and project_id:%(target.secret.project_id)s"" value: ""rule:secret_project_admin or rule:secret_project_creator or (role:member and project_id:%(target.secret.project_id)s and (user_id:%(target.secret.creator_id)s or True:%(target.secret.read_project_access)s)) or role:admin and project_id:%(target.secret.project_id)s"" value: ""rule:secret_project_admin or rule:secret_project_creator or (role:member and project_id:%(target.secret.project_id)s and (user_id:%(target.secret.creator_id)s or True:%(target.secret.read_project_access)s)) or role:admin and project_id:%(target.secret.project_id)s"" value: ""(rule:all_but_audit and rule:container_project_match) or (role:member and project_id:%(target.container.project_id)s and (user_id:%(target.container.creator_id)s or True:%(target.container.read_project_access)s)) or role:admin and project_id:%(target.container.project_id)s"" value: ""rule:container_project_admin or rule:container_project_creator or (role:member and project_id:%(target.container.project_id)s and (user_id:%(target.container.creator_id)s or True:%(target.container.read_project_access)s)) or role:admin and project_id:%(target.container.project_id)s"" value: ""rule:container_project_admin or rule:container_project_creator or (role:member and project_id:%(target.container.project_id)s and (user_id:%(target.container.creator_id)s or True:%(target.container.read_project_access)s)) or role:admin and project_id:%(target.container.project_id)s"" value: ""rule:admin or rule:observer or rule:creator or rule:audit or rule:container_non_private_read or rule:container_project_creator or rule:container_project_admin or rule:container_acl_read or (role:member and project_id:%(target.container.project_id)s and (user_id:%(target.container.creator_id)s or True:%(target.container.read_project_access)s)) or role:admin and project_id:%(target.container.project_id)s or role:admin and system_scope:all"" value: ""rule:admin or rule:observer or rule:creator or rule:audit or rule:container_non_private_read or rule:container_project_creator or rule:container_project_admin or rule:container_acl_read or (role:member and project_id:%(target.container.project_id)s and (user_id:%(target.container.creator_id)s or True:%(target.container.read_project_access)s)) or role:admin and project_id:%(target.container.project_id)s or role:admin and system_scope:all"" value: ""rule:admin or rule:container_non_private_read or rule:container_project_creator or rule:container_project_admin or rule:container_acl_read or (role:member and project_id:%(target.container.project_id)s and (user_id:%(target.container.creator_id)s or True:%(target.container.read_project_access)s)) or role:admin and project_id:%(target.container.project_id)s or role:admin and system_scope:all"" value: ""rule:admin or rule:container_non_private_read or rule:container_project_creator or rule:container_project_admin or rule:container_acl_read or (role:member and project_id:%(target.container.project_id)s and (user_id:%(target.container.creator_id)s or True:%(target.container.read_project_access)s)) or role:admin and project_id:%(target.container.project_id)s or role:admin and system_scope:all"" value: ""rule:admin_or_creator or role:member"" value: ""rule:all_but_audit or role:member"" value: ""rule:container_non_private_read or rule:container_project_creator or rule:container_project_admin or rule:container_acl_read or (role:member and project_id:%(target.container.project_id)s and (user_id:%(target.container.creator_id)s or True:%(target.container.read_project_access)s)) or role:admin and project_id:%(target.container.project_id)s"" value: ""rule:container_project_admin or rule:container_project_creator or (role:member and project_id:%(target.container.project_id)s and (user_id:%(target.container.creator_id)s or True:%(target.container.read_project_access)s)) or role:admin and project_id:%(target.container.project_id)s"" value: ""rule:admin or (role:member and project_id:%(target.container.project_id)s and (user_id:%(target.container.creator_id)s or True:%(target.container.read_project_access)s)) or role:admin and project_id:%(target.container.project_id)s"" value: ""rule:admin or (role:member and project_id:%(target.container.project_id)s and (user_id:%(target.container.creator_id)s or True:%(target.container.read_project_access)s)) or role:admin and project_id:%(target.container.project_id)s"" value: ""rule:all_but_audit or role:member"" value: ""rule:admin_or_creator or role:member"" value: ""rule:admin_or_creator or role:member"" value: ""rule:all_users or role:member"" value: ""rule:admin or role:member"" value: ""rule:all_users or role:reader"" value: ""rule:service_admin or role:reader and system_scope:all"" value: ""rule:service_admin or role:admin and system_scope:all"" value: ""rule:service_admin or role:admin and system_scope:all"" value: ""rule:all_but_audit or role:member"" value: ""rule:admin_or_creator or role:member"" value: ""rule:admin_or_creator or role:member"" value: ""rule:admin_or_creator or role:member"" value: ""rule:secret_decrypt_non_private_read or rule:secret_project_creator or rule:secret_project_admin or rule:secret_acl_read or (role:member and project_id:%(target.secret.project_id)s and (user_id:%(target.secret.creator_id)s or True:%(target.secret.read_project_access)s)) or role:admin and project_id:%(target.secret.project_id)s"" value: ""rule:secret_non_private_read or rule:secret_project_creator or rule:secret_project_admin or rule:secret_acl_read or (role:member and project_id:%(target.secret.project_id)s and (user_id:%(target.secret.creator_id)s or True:%(target.secret.read_project_access)s)) or role:admin and project_id:%(target.secret.project_id)s"" value: ""rule:admin_or_creator and rule:secret_project_match or (role:member and project_id:%(target.secret.project_id)s and (user_id:%(target.secret.creator_id)s or True:%(target.secret.read_project_access)s)) or role:admin and project_id:%(target.secret.project_id)s"" value: ""rule:secret_project_admin or rule:secret_project_creator or (role:member and project_id:%(target.secret.project_id)s and (user_id:%(target.secret.creator_id)s or True:%(target.secret.read_project_access)s)) or role:admin and project_id:%(target.secret.project_id)s"" value: ""rule:admin_or_creator or role:member"" value: ""rule:all_but_audit or role:member"" value: ""rule:all_users or role:reader"" value: ""rule:all_users or role:reader"" value: ""rule:all_users or role:reader"" value: ""rule:all_users or role:reader"" value: ""rule:all_users or role:reader"" value: ""role:admin and system_scope:all"" value: ""rule:all_users or role:reader"" value: ""role:admin and system_scope:all""",69,99
openstack%2Fironic~master~I4ce5f7a2317d952f976194d2022328f4afbb0258,openstack/ironic,master,I4ce5f7a2317d952f976194d2022328f4afbb0258,Explicit parameter to distinguish partition/whole-disk images,MERGED,2022-01-19 12:45:28.000000000,2022-02-07 20:08:04.000000000,2022-02-07 20:04:45.000000000,"[{'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2022-01-19 12:45:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/2e77f87ceddfa9a104d78a0839b3aef5e63adcc8', 'message': ""[WIP] Explicit parameter to distinguish partition/whole-disk images\n\nUsing kernel/ramdisk makes no sense with local boot, we need a better\nway. We already have an internal image_type instance parameter, let's\nmake it public and also support it on Glance images.\n\nChange-Id: I4ce5f7a2317d952f976194d2022328f4afbb0258\n""}, {'number': 2, 'created': '2022-01-27 15:37:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/4e92aa7f335002bc883b3199c9fdfa72e1cffa5b', 'message': ""[WIP] Explicit parameter to distinguish partition/whole-disk images\n\nUsing kernel/ramdisk makes no sense with local boot, we need a better\nway. We already have an internal image_type instance parameter, let's\nmake it public and also support it on Glance images.\n\nChange-Id: I4ce5f7a2317d952f976194d2022328f4afbb0258\n""}, {'number': 3, 'created': '2022-01-28 15:33:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/9e66513dab23eb6c347b03519015762f896dc4f3', 'message': ""Explicit parameter to distinguish partition/whole-disk images\n\nUsing kernel/ramdisk makes no sense with local boot, we need a better\nway. We already have an internal image_type instance parameter, let's\nmake it public and also support it on Glance images.\n\nChange-Id: I4ce5f7a2317d952f976194d2022328f4afbb0258\n""}, {'number': 4, 'created': '2022-01-28 16:14:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/4132768f0fba1b9a62df3e360ae07ddb19d67a13', 'message': ""Explicit parameter to distinguish partition/whole-disk images\n\nUsing kernel/ramdisk makes no sense with local boot, we need a better\nway. We already have an internal image_type instance parameter, let's\nmake it public and also support it on Glance images.\n\nChange-Id: I4ce5f7a2317d952f976194d2022328f4afbb0258\n""}, {'number': 5, 'created': '2022-01-28 18:06:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/f585aa07468e5a2ea0a5b7d0ad9ef236e04d629c', 'message': ""Explicit parameter to distinguish partition/whole-disk images\n\nUsing kernel/ramdisk makes no sense with local boot, we need a better\nway. We already have an internal image_type instance parameter, let's\nmake it public and also support it on Glance images.\n\nChange-Id: I4ce5f7a2317d952f976194d2022328f4afbb0258\n""}, {'number': 6, 'created': '2022-01-28 18:13:46.000000000', 'files': ['doc/source/user/creating-images.rst', 'ironic/drivers/modules/agent.py', 'ironic/tests/unit/conductor/test_manager.py', 'ironic/tests/unit/drivers/modules/test_deploy_utils.py', 'ironic/objects/node.py', 'ironic/tests/unit/common/test_images.py', 'ironic/drivers/modules/ansible/playbooks/roles/prepare/tasks/main.yaml', 'ironic/conductor/manager.py', 'ironic/tests/unit/drivers/modules/test_ipxe.py', 'ironic/drivers/modules/deploy_utils.py', 'ironic/conductor/utils.py', 'ironic/common/images.py', 'ironic/tests/unit/conductor/test_deployments.py', 'releasenotes/notes/image-type-ac259a90393bdd2c.yaml', 'doc/source/user/deploy.rst', 'ironic/tests/unit/drivers/modules/test_agent.py', 'ironic/conductor/deployments.py', 'ironic/drivers/modules/ansible/playbooks/roles/configure/tasks/main.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/a813c769e8d27803e87d46280db84607fdfce153', 'message': ""Explicit parameter to distinguish partition/whole-disk images\n\nUsing kernel/ramdisk makes no sense with local boot, we need a better\nway. We already have an internal image_type instance parameter, let's\nmake it public.\n\nGlance support will be added in the next patch.\n\nChange-Id: I4ce5f7a2317d952f976194d2022328f4afbb0258\n""}]",3,825305,a813c769e8d27803e87d46280db84607fdfce153,38,3,6,10239,,,0,"Explicit parameter to distinguish partition/whole-disk images

Using kernel/ramdisk makes no sense with local boot, we need a better
way. We already have an internal image_type instance parameter, let's
make it public.

Glance support will be added in the next patch.

Change-Id: I4ce5f7a2317d952f976194d2022328f4afbb0258
",git fetch https://review.opendev.org/openstack/ironic refs/changes/05/825305/3 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/drivers/modules/agent.py', 'ironic/drivers/modules/deploy_utils.py', 'ironic/common/images.py']",3,2e77f87ceddfa9a104d78a0839b3aef5e63adcc8,image-type,"IMAGE_TYPE_PARTITION = 'partition' IMAGE_TYPE_WHOLE_DISK = 'whole-disk-image' VALID_IMAGE_TYPES = frozenset((IMAGE_TYPE_PARTITION, IMAGE_TYPE_WHOLE_DISK)) image_type = instance_info.get('image_type') if image_type: # This logic reflects the fact that whole disk images are the default return image_type != IMAGE_TYPE_PARTITION image_type = iproperties.get('ironic_image_type') if image_type: return image_type != IMAGE_TYPE_PARTITION ",,33,4
openstack%2Fneutron~master~I974c7d04d13a87bbbd4de6164578724a2cfd85cc,openstack/neutron,master,I974c7d04d13a87bbbd4de6164578724a2cfd85cc,Add FIPS enabled scenario jobs,MERGED,2021-06-22 19:58:17.000000000,2022-02-07 20:07:26.000000000,2022-02-07 20:01:24.000000000,"[{'_account_id': 5948}, {'_account_id': 7973}, {'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-22 19:58:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c6b39b6fd45a410cf1232fad72a6587dba44c34e', 'message': 'WIP/DNM - Add FIPS enabled jobs\n\nRun a few fips-enabled CI jobs to identify functionality that breaks\nwhen FIPS mode is enabled on the nodes.  Right now, the FIPS jobs run\non Centos 8.\n\nIt is up to the neutron team to determine which of these gate jobs\nshould be enabled long-term.\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/797535\nChange-Id: I974c7d04d13a87bbbd4de6164578724a2cfd85cc\n'}, {'number': 2, 'created': '2021-06-22 20:00:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c00c7f61e3cc288a687d4932b3db5223f446b5d9', 'message': 'WIP/DNM - Add FIPS enabled jobs\n\nRun a few fips-enabled CI jobs to identify functionality that breaks\nwhen FIPS mode is enabled on the nodes.  Right now, the FIPS jobs run\non Centos 8.\n\nIt is up to the neutron team to determine which of these gate jobs\nshould be enabled long-term.\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/797535\nChange-Id: I974c7d04d13a87bbbd4de6164578724a2cfd85cc\n'}, {'number': 3, 'created': '2021-07-06 10:22:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2889aa5ab9a395da9fe6f77c651c0e8827372047', 'message': 'WIP/DNM - Add FIPS enabled jobs\n\nRun a few fips-enabled CI jobs to identify functionality that breaks\nwhen FIPS mode is enabled on the nodes.  Right now, the FIPS jobs run\non Centos 8.\n\nIt is up to the neutron team to determine which of these gate jobs\nshould be enabled long-term.\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/797535\nChange-Id: I974c7d04d13a87bbbd4de6164578724a2cfd85cc\n'}, {'number': 4, 'created': '2021-07-06 10:23:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/bc1c1cb54dfcd07917d91838842a4b67965e1a17', 'message': 'WIP/DNM - Add FIPS enabled jobs\n\nRun a few fips-enabled CI jobs to identify functionality that breaks\nwhen FIPS mode is enabled on the nodes.  Right now, the FIPS jobs run\non Centos 8.\n\nIt is up to the neutron team to determine which of these gate jobs\nshould be enabled long-term.\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/797535\nChange-Id: I974c7d04d13a87bbbd4de6164578724a2cfd85cc\n'}, {'number': 5, 'created': '2021-08-17 21:26:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f18111484355b81ad04b67979d1e291b0e938593', 'message': 'WIP/DNM - Add FIPS enabled jobs\n\nRun a few fips-enabled CI jobs to identify functionality that breaks\nwhen FIPS mode is enabled on the nodes.  Right now, the FIPS jobs run\non Centos 8.\n\nIt is up to the neutron team to determine which of these gate jobs\nshould be enabled long-term.\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/797535\nChange-Id: I974c7d04d13a87bbbd4de6164578724a2cfd85cc\n'}, {'number': 6, 'created': '2021-08-23 17:37:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/35d3c01f6d7e83e21c55a2f2a08f56c553e061f9', 'message': 'WIP/DNM - Add FIPS enabled jobs\n\nRun a few fips-enabled CI jobs to identify functionality that breaks\nwhen FIPS mode is enabled on the nodes.  Right now, the FIPS jobs run\non Centos 8.\n\nIt is up to the neutron team to determine which of these gate jobs\nshould be enabled long-term.\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/797535\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/803800\nChange-Id: I974c7d04d13a87bbbd4de6164578724a2cfd85cc\n'}, {'number': 7, 'created': '2021-09-07 02:34:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ab4b534e88762494102d37542f68d2b326fc7971', 'message': 'WIP/DNM - Add FIPS enabled jobs\n\nRun a few fips-enabled CI jobs to identify functionality that breaks\nwhen FIPS mode is enabled on the nodes.  Right now, the FIPS jobs run\non Centos 8.\n\nIt is up to the neutron team to determine which of these gate jobs\nshould be enabled long-term.\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/797535\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/803800\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/807465\nChange-Id: I974c7d04d13a87bbbd4de6164578724a2cfd85cc\n'}, {'number': 8, 'created': '2021-09-08 16:47:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9e175bcc07283063caff7da4ab1a9d9d53a4dfca', 'message': 'WIP/DNM - Add FIPS enabled jobs\n\nRun a few fips-enabled CI jobs to identify functionality that breaks\nwhen FIPS mode is enabled on the nodes.  Right now, the FIPS jobs run\non Centos 8.\n\nIt is up to the neutron team to determine which of these gate jobs\nshould be enabled long-term.\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/797535\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/803800\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/799621\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/807465\nChange-Id: I974c7d04d13a87bbbd4de6164578724a2cfd85cc\n'}, {'number': 9, 'created': '2021-10-05 18:49:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2da0dd161bd6db1dc258d310cdd537a73966ad21', 'message': 'WIP/DNM - Add FIPS enabled jobs\n\nRun a few fips-enabled CI jobs to identify functionality that breaks\nwhen FIPS mode is enabled on the nodes.  Right now, the FIPS jobs run\non Centos 8.\n\nIt is up to the neutron team to determine which of these gate jobs\nshould be enabled long-term.\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/797535\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/803800\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/799621\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/807465\nChange-Id: I974c7d04d13a87bbbd4de6164578724a2cfd85cc\n'}, {'number': 10, 'created': '2021-10-06 13:28:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0ead871c5a36f1928aca8e019d4808b1c10144c3', 'message': 'WIP/DNM - Add FIPS enabled jobs\n\nRun a few fips-enabled CI jobs to identify functionality that breaks\nwhen FIPS mode is enabled on the nodes.  Right now, the FIPS jobs run\non Centos 8.\n\nIt is up to the neutron team to determine which of these gate jobs\nshould be enabled long-term.\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/797535\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/803800\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/799621\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/807465\nChange-Id: I974c7d04d13a87bbbd4de6164578724a2cfd85cc\n'}, {'number': 11, 'created': '2021-10-06 13:54:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/14077c7efdd536303aefd8a082abd113bde1657b', 'message': 'WIP/DNM - Add FIPS enabled jobs\n\nRun a few fips-enabled CI jobs to identify functionality that breaks\nwhen FIPS mode is enabled on the nodes.  Right now, the FIPS jobs run\non Centos 8.\n\nIt is up to the neutron team to determine which of these gate jobs\nshould be enabled long-term.\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/797535\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/803800\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/799621\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/807465\nChange-Id: I974c7d04d13a87bbbd4de6164578724a2cfd85cc\n'}, {'number': 12, 'created': '2021-10-06 15:03:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c2c24089e25abb464caa1c9970ecb848aed4bcf3', 'message': 'WIP/DNM - Add FIPS enabled jobs\n\nRun a few fips-enabled CI jobs to identify functionality that breaks\nwhen FIPS mode is enabled on the nodes.  Right now, the FIPS jobs run\non Centos 8.\n\nIt is up to the neutron team to determine which of these gate jobs\nshould be enabled long-term.\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/797535\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/803800\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/799621\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/807465\nChange-Id: I974c7d04d13a87bbbd4de6164578724a2cfd85cc\n'}, {'number': 13, 'created': '2021-10-06 19:58:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/68d107b24712c520af3c9e0fa7f08b33e9aed0b6', 'message': 'WIP/DNM - Add FIPS enabled jobs\n\nRun a few fips-enabled CI jobs to identify functionality that breaks\nwhen FIPS mode is enabled on the nodes.  Right now, the FIPS jobs run\non Centos 8.\n\nIt is up to the neutron team to determine which of these gate jobs\nshould be enabled long-term.\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/797535\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/803800\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/799621\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/807465\nChange-Id: I974c7d04d13a87bbbd4de6164578724a2cfd85cc\n'}, {'number': 14, 'created': '2021-10-06 20:49:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/99d05e564a046eba210ef41ecc1e040a3d538535', 'message': 'WIP/DNM - Add FIPS enabled jobs\n\nRun a few fips-enabled CI jobs to identify functionality that breaks\nwhen FIPS mode is enabled on the nodes.  Right now, the FIPS jobs run\non Centos 8.\n\nIt is up to the neutron team to determine which of these gate jobs\nshould be enabled long-term.\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/797535\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/803800\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/799621\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/807465\nChange-Id: I974c7d04d13a87bbbd4de6164578724a2cfd85cc\n'}, {'number': 15, 'created': '2021-10-06 20:57:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/15c13e78a1350a0c6a1547ff6a44a3bd22057c6e', 'message': 'WIP/DNM - Add FIPS enabled jobs\n\nRun a few fips-enabled CI jobs to identify functionality that breaks\nwhen FIPS mode is enabled on the nodes.  Right now, the FIPS jobs run\non Centos 8.\n\nIt is up to the neutron team to determine which of these gate jobs\nshould be enabled long-term.\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/797535\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/803800\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/799621\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/807465\nChange-Id: I974c7d04d13a87bbbd4de6164578724a2cfd85cc\n'}, {'number': 16, 'created': '2021-10-06 21:01:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4b00e4847fc771d82b32d884ca37fed8c298b50c', 'message': 'WIP/DNM - Add FIPS enabled jobs\n\nRun a few fips-enabled CI jobs to identify functionality that breaks\nwhen FIPS mode is enabled on the nodes.  Right now, the FIPS jobs run\non Centos 8.\n\nIt is up to the neutron team to determine which of these gate jobs\nshould be enabled long-term.\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/797535\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/803800\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/799621\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/807465\nChange-Id: I974c7d04d13a87bbbd4de6164578724a2cfd85cc\n'}, {'number': 17, 'created': '2021-10-07 12:23:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3bbec31bc11215c6e14bb09d0e16958501169d36', 'message': 'WIP/DNM - Add FIPS enabled jobs\n\nRun a few fips-enabled CI jobs to identify functionality that breaks\nwhen FIPS mode is enabled on the nodes.  Right now, the FIPS jobs run\non Centos 8.\n\nIt is up to the neutron team to determine which of these gate jobs\nshould be enabled long-term.\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/797535\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/803800\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/799621\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/807465\nChange-Id: I974c7d04d13a87bbbd4de6164578724a2cfd85cc\n'}, {'number': 18, 'created': '2021-10-07 12:48:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/09fceda36aa95f901b7a903178cfdea41d38b787', 'message': 'WIP/DNM - Add FIPS enabled jobs\n\nRun a few fips-enabled CI jobs to identify functionality that breaks\nwhen FIPS mode is enabled on the nodes.  Right now, the FIPS jobs run\non Centos 8.\n\nIt is up to the neutron team to determine which of these gate jobs\nshould be enabled long-term.\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/797535\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/803800\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/799621\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/807465\nChange-Id: I974c7d04d13a87bbbd4de6164578724a2cfd85cc\n'}, {'number': 19, 'created': '2021-10-07 14:06:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b8b17453250f4185c87002cbd6fb072041d13aa1', 'message': 'WIP/DNM - Add FIPS enabled jobs\n\nRun a few fips-enabled CI jobs to identify functionality that breaks\nwhen FIPS mode is enabled on the nodes.  Right now, the FIPS jobs run\non Centos 8.\n\nIt is up to the neutron team to determine which of these gate jobs\nshould be enabled long-term.\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/797535\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/803800\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/799621\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/807465\nChange-Id: I974c7d04d13a87bbbd4de6164578724a2cfd85cc\n'}, {'number': 20, 'created': '2021-10-07 19:59:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c64058105808da84e3feb4e4d5685b6c40e6f706', 'message': 'WIP/DNM - Add FIPS enabled jobs\n\nRun a few fips-enabled CI jobs to identify functionality that breaks\nwhen FIPS mode is enabled on the nodes.  Right now, the FIPS jobs run\non Centos 8.\n\nIt is up to the neutron team to determine which of these gate jobs\nshould be enabled long-term.\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/797535\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/803800\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/799621\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/807465\nChange-Id: I974c7d04d13a87bbbd4de6164578724a2cfd85cc\n'}, {'number': 21, 'created': '2021-10-15 16:17:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2b93b16d474b61fed4ca4ea12c153f58e979baa4', 'message': 'WIP/DNM - Add FIPS enabled jobs\n\nRun a few fips-enabled CI jobs to identify functionality that breaks\nwhen FIPS mode is enabled on the nodes.  Right now, the FIPS jobs run\non Centos 8.\n\nIt is up to the neutron team to determine which of these gate jobs\nshould be enabled long-term.\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/797535\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/803800\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/799621\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/807465\nChange-Id: I974c7d04d13a87bbbd4de6164578724a2cfd85cc\n'}, {'number': 22, 'created': '2021-10-15 16:19:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3bebee6e49d433dc8f4010c02011aa0894e331cd', 'message': 'WIP/DNM - Add FIPS enabled jobs\n\nRun a few fips-enabled CI jobs to identify functionality that breaks\nwhen FIPS mode is enabled on the nodes.  Right now, the FIPS jobs run\non Centos 8.\n\nIt is up to the neutron team to determine which of these gate jobs\nshould be enabled long-term.\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/797535\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/803800\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/799621\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/810809\nChange-Id: I974c7d04d13a87bbbd4de6164578724a2cfd85cc\n'}, {'number': 23, 'created': '2021-10-15 16:56:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2e3ad319f1f7ebc7dc136df3d49a9d7c3b216fa0', 'message': 'WIP/DNM - Add FIPS enabled jobs\n\nRun a few fips-enabled CI jobs to identify functionality that breaks\nwhen FIPS mode is enabled on the nodes.  Right now, the FIPS jobs run\non Centos 8.\n\nIt is up to the neutron team to determine which of these gate jobs\nshould be enabled long-term.\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/797535\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/803800\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/799621\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/807465\nChange-Id: I974c7d04d13a87bbbd4de6164578724a2cfd85cc\n'}, {'number': 24, 'created': '2021-11-17 12:40:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/73124400d422899453f8d09233b6de7b15a3da33', 'message': 'WIP/DNM - Add FIPS enabled jobs\n\nRun a few fips-enabled CI jobs to identify functionality that breaks\nwhen FIPS mode is enabled on the nodes.  Right now, the FIPS jobs run\non Centos 8.\n\nIt is up to the neutron team to determine which of these gate jobs\nshould be enabled long-term.\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/797535\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/803800\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/799621\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/807465\n\nChange-Id: I974c7d04d13a87bbbd4de6164578724a2cfd85cc\n(cherry picked from commit 2e3ad319f1f7ebc7dc136df3d49a9d7c3b216fa0)\n'}, {'number': 25, 'created': '2021-11-17 12:42:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d963244a3d308fec5317697f7ba82aedadf3b862', 'message': 'WIP/DNM - Add FIPS enabled jobs\n\nRun a few fips-enabled CI jobs to identify functionality that breaks\nwhen FIPS mode is enabled on the nodes.  Right now, the FIPS jobs run\non Centos 8.\n\nIt is up to the neutron team to determine which of these gate jobs\nshould be enabled long-term.\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/797535\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/803800\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/799621\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/807465\n\nChange-Id: I974c7d04d13a87bbbd4de6164578724a2cfd85cc\n(cherry picked from commit 2e3ad319f1f7ebc7dc136df3d49a9d7c3b216fa0)\n'}, {'number': 26, 'created': '2021-11-17 15:29:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7a0b6cb86a66b500324b1959dcf9d33b816fee9d', 'message': 'WIP/DNM - Add FIPS enabled jobs\n\nRun a few fips-enabled CI jobs to identify functionality that breaks\nwhen FIPS mode is enabled on the nodes.  Right now, the FIPS jobs run\non Centos 8.\n\nIt is up to the neutron team to determine which of these gate jobs\nshould be enabled long-term.\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/797535\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/803800\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/799621\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/807465\n\nChange-Id: I974c7d04d13a87bbbd4de6164578724a2cfd85cc\n(cherry picked from commit 2e3ad319f1f7ebc7dc136df3d49a9d7c3b216fa0)\n'}, {'number': 27, 'created': '2021-12-08 11:12:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d6e5b9caca102d8efd02de8a826e0109e20bd840', 'message': 'WIP/DNM - Add FIPS enabled jobs\n\nRun a few fips-enabled CI jobs to identify functionality that breaks\nwhen FIPS mode is enabled on the nodes.  Right now, the FIPS jobs run\non Centos 8.\n\nIt is up to the neutron team to determine which of these gate jobs\nshould be enabled long-term.\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/797535\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/803800\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/799621\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/807465\n\nChange-Id: I974c7d04d13a87bbbd4de6164578724a2cfd85cc\n(cherry picked from commit 2e3ad319f1f7ebc7dc136df3d49a9d7c3b216fa0)\n'}, {'number': 28, 'created': '2021-12-08 14:20:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b8327125fd978528c7cf898a4b3f468cd6d5c817', 'message': 'WIP/DNM - Add FIPS enabled jobs\n\nRun a few fips-enabled CI jobs to identify functionality that breaks\nwhen FIPS mode is enabled on the nodes.  Right now, the FIPS jobs run\non Centos 8.\n\nIt is up to the neutron team to determine which of these gate jobs\nshould be enabled long-term.\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/797535\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/803800\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/799621\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/807465\n\nChange-Id: I974c7d04d13a87bbbd4de6164578724a2cfd85cc\n(cherry picked from commit 2e3ad319f1f7ebc7dc136df3d49a9d7c3b216fa0)\n'}, {'number': 29, 'created': '2021-12-08 22:21:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d1519a1c92ce527de27d293ac4bcf59a1c8ca75a', 'message': 'WIP/DNM - Add FIPS enabled jobs\n\nRun a few fips-enabled CI jobs to identify functionality that breaks\nwhen FIPS mode is enabled on the nodes.  Right now, the FIPS jobs run\non Centos 8.\n\nIt is up to the neutron team to determine which of these gate jobs\nshould be enabled long-term.\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/797535\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/803800\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/799621\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/810809\n\nChange-Id: I974c7d04d13a87bbbd4de6164578724a2cfd85cc\n(cherry picked from commit 2e3ad319f1f7ebc7dc136df3d49a9d7c3b216fa0)\n'}, {'number': 30, 'created': '2021-12-09 08:43:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/46995cadc617a455ac609b6351d1d7982d52a14e', 'message': 'Add FIPS enabled scenario jobs\n\nAdd ML2/OVS and ML2/OVN tempest jobs with FIPS enabled.\nRight now, the FIPS jobs run on Centos 8 stream.\n\nFor now those jobs are added to the experimental queue but\nwe should think about adding them to periodic maybe.\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/803800\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/810809\n\nChange-Id: I974c7d04d13a87bbbd4de6164578724a2cfd85cc\n'}, {'number': 31, 'created': '2021-12-09 22:06:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8a250f109b3c74db1d5f031cfdb1786953fb9ab9', 'message': 'Add FIPS enabled scenario jobs\n\nAdd ML2/OVS and ML2/OVN tempest jobs with FIPS enabled.\nRight now, the FIPS jobs run on Centos 8 stream.\n\nFor now those jobs are added to the experimental queue but\nwe should think about adding them to periodic maybe.\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/803800\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/810809\n\nChange-Id: I974c7d04d13a87bbbd4de6164578724a2cfd85cc\n'}, {'number': 32, 'created': '2021-12-10 07:25:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/aacaeaf59763cdbb7971ddd9bbf388d4d5dbd4b8', 'message': 'Add FIPS enabled scenario jobs\n\nAdd ML2/OVS and ML2/OVN tempest jobs with FIPS enabled.\nRight now, the FIPS jobs run on Centos 8 stream.\n\nFor now those jobs are added to the experimental queue but\nwe should think about adding them to periodic maybe.\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/803800\n\nCo-Authored-By: Slawek Kaplonski <skaplons@redhat.com>\n\nChange-Id: I974c7d04d13a87bbbd4de6164578724a2cfd85cc\n'}, {'number': 33, 'created': '2021-12-10 15:08:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3e2fa064a2493d7608dc38996eff63dd5a0a895c', 'message': 'Add FIPS enabled scenario jobs\n\nAdd ML2/OVS and ML2/OVN tempest jobs with FIPS enabled.\nRight now, the FIPS jobs run on Centos 8 stream.\n\nFor now those jobs are added to the experimental queue but\nwe should think about adding them to periodic maybe.\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/803800\n\nCo-Authored-By: Slawek Kaplonski <skaplons@redhat.com>\n\nChange-Id: I974c7d04d13a87bbbd4de6164578724a2cfd85cc\n'}, {'number': 34, 'created': '2022-01-17 20:27:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/06ad53e5002cb966f7293bec3cdb18c127321598', 'message': 'Add FIPS enabled scenario jobs\n\nAdd ML2/OVS and ML2/OVN tempest jobs with FIPS enabled.\nRight now, the FIPS jobs run on Centos 8 stream.\n\nFor now those jobs are added to the experimental queue but\nwe should think about adding them to periodic maybe.\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/803800\n\nCo-Authored-By: Slawek Kaplonski <skaplons@redhat.com>\n\nChange-Id: I974c7d04d13a87bbbd4de6164578724a2cfd85cc\n'}, {'number': 35, 'created': '2022-01-17 20:32:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/03f41d142baf6faaec25c45c74fe1185035abc08', 'message': 'Add FIPS enabled scenario jobs\n\nAdd ML2/OVS and ML2/OVN tempest jobs with FIPS enabled.\nRight now, the FIPS jobs run on Centos 8 stream.\n\nFor now those jobs are added to the experimental queue but\nwe should think about adding them to periodic maybe.\n\nCo-Authored-By: Slawek Kaplonski <skaplons@redhat.com>\n\nChange-Id: I974c7d04d13a87bbbd4de6164578724a2cfd85cc\n'}, {'number': 36, 'created': '2022-01-18 15:31:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3d9d1571237e1c1fd6450936962be2d75325f2d6', 'message': 'Add FIPS enabled scenario jobs\n\nAdd ML2/OVS and ML2/OVN tempest jobs with FIPS enabled.\nRight now, the FIPS jobs run on Centos 8 stream.\n\nFor now those jobs are added to the experimental queue but\nwe should think about adding them to periodic maybe.\n\nCo-Authored-By: Slawek Kaplonski <skaplons@redhat.com>\n\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/822560\nChange-Id: I974c7d04d13a87bbbd4de6164578724a2cfd85cc\n'}, {'number': 37, 'created': '2022-01-26 10:59:40.000000000', 'files': ['zuul.d/tempest-singlenode.yaml', 'zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/a1a895a6e56c3e261f9e98b2a0e0896442185d07', 'message': 'Add FIPS enabled scenario jobs\n\nAdd ML2/OVS and ML2/OVN tempest jobs with FIPS enabled.\nRight now, the FIPS jobs run on Centos 8 stream.\n\nFor now those jobs are added to the experimental queue but\nwe should think about adding them to periodic maybe.\n\nCo-Authored-By: Slawek Kaplonski <skaplons@redhat.com>\n\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/822560\nChange-Id: I974c7d04d13a87bbbd4de6164578724a2cfd85cc\n'}]",25,797537,a1a895a6e56c3e261f9e98b2a0e0896442185d07,159,7,37,9914,,,0,"Add FIPS enabled scenario jobs

Add ML2/OVS and ML2/OVN tempest jobs with FIPS enabled.
Right now, the FIPS jobs run on Centos 8 stream.

For now those jobs are added to the experimental queue but
we should think about adding them to periodic maybe.

Co-Authored-By: Slawek Kaplonski <skaplons@redhat.com>

Depends-On: https://review.opendev.org/c/openstack/tempest/+/822560
Change-Id: I974c7d04d13a87bbbd4de6164578724a2cfd85cc
",git fetch https://review.opendev.org/openstack/neutron refs/changes/37/797537/36 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/enable-fips.yaml', 'zuul.d/tempest-multinode.yaml', 'zuul.d/tempest-singlenode.yaml', 'zuul.d/base.yaml', 'zuul.d/project.yaml']",5,c6b39b6fd45a410cf1232fad72a6587dba44c34e,fips-compatibility, - neutron-functional-with-uwsgi-fips - neutron-fullstack-with-uwsgi-fips - neutron-tempest-multinode-full-py3-fips - neutron-tempest-dvr-ha-multinode-full-fips - neutron-tempest-ipv6-only-fips - neutron-ovn-tempest-ovs-release-fips," - neutron-functional-with-uwsgi - neutron-fullstack-with-uwsgi - neutron-rally-task - neutron-grenade-multinode - neutron-grenade-dvr-multinode: # TODO(slaweq): make that job voting when bug # https://bugs.launchpad.net/neutron/+bug/1920778 # will be fixed voting: false - neutron-tempest-multinode-full-py3 - neutron-tempest-dvr-ha-multinode-full - neutron-tempest-slow-py3 - neutron-tempest-ipv6-only - neutron-ovn-tempest-ovs-release - neutron-ovn-tempest-ovs-release-ipv6-only # TODO(slaweq): add this job again to the check queue when it will be # working fine on python 3 #- networking-midonet-tempest-aio-ml2-centos-7: # voting: false - neutron-ovn-rally-task: voting: false # TripleO jobs that deploy OVN. # Note we don't use a project-template here, so it's easier # to disable voting on one specific job if things go wrong. # In Stein and beyond, fs010 will run using # networking-ovn-tripleo-ci-centos-7-containers-multinode. # If you need any support to debug these jobs in case of # failures, please reach us on #tripleo IRC channel. - openstack-tox-py36: # from openstack-python3-xena-jobs template timeout: 3600 - openstack-tox-py38: # from openstack-python3-xena-jobs template timeout: 3600 - openstack-tox-lower-constraints: # from openstack-tox-lower-constraints template timeout: 3600 - openstack-tox-cover: # from openstack-cover-jobs template timeout: 4800 # TODO(ralonsoh): this job has been set to non-voting until LP#1930402 # is fixed. - neutron-ovn-tempest-slow: voting: false",60,40
openstack%2Fironic~master~I691ae5b67358ced5f0aa860b9ca6ccec58c897ad,openstack/ironic,master,I691ae5b67358ced5f0aa860b9ca6ccec58c897ad,deploy_utils: only check glance for image properties kernel/ramdisk,MERGED,2022-01-28 17:57:33.000000000,2022-02-07 19:56:29.000000000,2022-02-07 19:53:10.000000000,"[{'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2022-01-28 17:57:33.000000000', 'files': ['ironic/drivers/modules/deploy_utils.py', 'ironic/tests/unit/drivers/modules/test_deploy_utils.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/374d5e5a3037a6b985933e734e902b2e05d805bb', 'message': 'deploy_utils: only check glance for image properties kernel/ramdisk\n\nOther image services cannot have them, not use making a network call.\n\nChange-Id: I691ae5b67358ced5f0aa860b9ca6ccec58c897ad\n'}]",2,826927,374d5e5a3037a6b985933e734e902b2e05d805bb,17,3,1,10239,,,0,"deploy_utils: only check glance for image properties kernel/ramdisk

Other image services cannot have them, not use making a network call.

Change-Id: I691ae5b67358ced5f0aa860b9ca6ccec58c897ad
",git fetch https://review.opendev.org/openstack/ironic refs/changes/27/826927/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/drivers/modules/deploy_utils.py', 'ironic/tests/unit/drivers/modules/test_deploy_utils.py']",2,374d5e5a3037a6b985933e734e902b2e05d805bb,deploy-utils-properties, def test_validate_image_properties_nonglance_image(self):," @mock.patch.object(image_service.HttpImageService, 'show', autospec=True) def test_validate_image_properties_nonglance_image( self, image_service_show_mock): image_service_show_mock.return_value = {'size': 1, 'properties': {}} image_service_show_mock.assert_called_once_with( mock.ANY, instance_info['image_source']) @mock.patch.object(image_service.HttpImageService, 'show', autospec=True) def test_validate_image_properties_nonglance_image_validation_fail( self, img_service_show_mock): instance_info = { 'image_source': 'http://ubuntu', 'kernel': 'kernel_uuid', 'ramdisk': 'file://initrd', 'root_gb': 100, } img_service_show_mock.side_effect = exception.ImageRefValidationFailed( image_href='http://ubuntu', reason='HTTPError') self.node.instance_info = instance_info inst_info = utils.get_image_instance_info(self.node) expected_error = ('Validation of image href http://ubuntu ' 'failed, reason: HTTPError') error = self.assertRaises(exception.InvalidParameterValue, utils.validate_image_properties, self.task, inst_info) self.assertEqual(expected_error, str(error))",3,32
openstack%2Fkeystone-tempest-plugin~master~Iee1fe30420d5ec4721a444e3a10985b31ec23601,openstack/keystone-tempest-plugin,master,Iee1fe30420d5ec4721a444e3a10985b31ec23601,Replace Identity client endpoint type,MERGED,2022-02-04 17:48:00.000000000,2022-02-07 19:52:15.000000000,2022-02-07 19:52:15.000000000,"[{'_account_id': 5046}, {'_account_id': 7414}, {'_account_id': 8367}, {'_account_id': 9976}, {'_account_id': 11022}, {'_account_id': 14250}, {'_account_id': 16465}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 24245}, {'_account_id': 30750}]","[{'number': 1, 'created': '2022-02-04 17:48:00.000000000', 'files': ['keystone_tempest_plugin/services/identity/clients.py'], 'web_link': 'https://opendev.org/openstack/keystone-tempest-plugin/commit/4eff632695fe79a5d78f400dca3ceab663c83788', 'message': ""Replace Identity client endpoint type\n\nThis patch replaces Identity client default endpoint type,\nwhich is set to 'adminURL', to use the 'v3_endpoint_type'\nfrom identity configuration.\n\nRelated-Bug: #1959930\nChange-Id: Iee1fe30420d5ec4721a444e3a10985b31ec23601\nSigned-off-by: Douglas Viroel <dviroel@redhat.com>\n""}]",1,827910,4eff632695fe79a5d78f400dca3ceab663c83788,14,11,1,30002,,,0,"Replace Identity client endpoint type

This patch replaces Identity client default endpoint type,
which is set to 'adminURL', to use the 'v3_endpoint_type'
from identity configuration.

Related-Bug: #1959930
Change-Id: Iee1fe30420d5ec4721a444e3a10985b31ec23601
Signed-off-by: Douglas Viroel <dviroel@redhat.com>
",git fetch https://review.opendev.org/openstack/keystone-tempest-plugin refs/changes/10/827910/1 && git format-patch -1 --stdout FETCH_HEAD,['keystone_tempest_plugin/services/identity/clients.py'],1,4eff632695fe79a5d78f400dca3ceab663c83788,bug/1959930, endpoint_type=CONF.identity.v3_endpoint_type), endpoint_type='adminURL'),1,1
openstack%2Frequirements~stable%2Fxena~I34db535f7073943d1b8dde1961fc15b96e241cff,openstack/requirements,stable/xena,I34db535f7073943d1b8dde1961fc15b96e241cff,update constraint for oslo.messaging to new release 12.9.2,MERGED,2022-02-07 10:32:53.000000000,2022-02-07 19:52:12.000000000,2022-02-07 19:52:12.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-02-07 10:32:53.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/630e737e2f3072b54aa01f465834e142407aea50', 'message': 'update constraint for oslo.messaging to new release 12.9.2\n\nmeta: version: 12.9.2\nmeta: diff-start: -\nmeta: series: xena\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: no\nmeta: release:Author: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Commit: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Change-Id: I431930ef1ca69a324898acc36d6b4c30fa892e44\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Code-Review+1: Daniel Bengtsson <dbengt@redhat.com>\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>\nChange-Id: I34db535f7073943d1b8dde1961fc15b96e241cff\n'}]",0,828105,630e737e2f3072b54aa01f465834e142407aea50,8,3,1,11131,,,0,"update constraint for oslo.messaging to new release 12.9.2

meta: version: 12.9.2
meta: diff-start: -
meta: series: xena
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: Hervé Beraud <hberaud@redhat.com>
meta: release:Commit: Hervé Beraud <hberaud@redhat.com>
meta: release:Change-Id: I431930ef1ca69a324898acc36d6b4c30fa892e44
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Code-Review+1: Daniel Bengtsson <dbengt@redhat.com>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
Change-Id: I34db535f7073943d1b8dde1961fc15b96e241cff
",git fetch https://review.opendev.org/openstack/requirements refs/changes/05/828105/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,630e737e2f3072b54aa01f465834e142407aea50,new-release,oslo.messaging===12.9.2,oslo.messaging===12.9.1,1,1
openstack%2Fironic~master~Ib460622d69a9cb1cb82e796a6ab294bbbb40c359,openstack/ironic,master,Ib460622d69a9cb1cb82e796a6ab294bbbb40c359,Wait for conductor start before notifying systemd,MERGED,2022-01-26 13:59:46.000000000,2022-02-07 19:49:20.000000000,2022-02-07 19:45:55.000000000,"[{'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2022-01-26 13:59:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/0655dc0e56447229808ee08fd6f0af64a1217d20', 'message': '[WIP] Wait for conductor start before notifying systemd\n\nChange-Id: Ib460622d69a9cb1cb82e796a6ab294bbbb40c359\n'}, {'number': 2, 'created': '2022-01-26 14:06:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/8e6e9763bf5cc352d3830924536f523271391255', 'message': '[WIP] Wait for conductor start before notifying systemd\n\nChange-Id: Ib460622d69a9cb1cb82e796a6ab294bbbb40c359\n'}, {'number': 3, 'created': '2022-01-26 14:19:29.000000000', 'files': ['ironic/common/rpc_service.py', 'ironic/cmd/singleprocess.py', 'ironic/tests/unit/common/test_rpc_service.py', 'ironic/cmd/conductor.py', 'releasenotes/notes/service-wait-e85cbe7978f61764.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/2c58ab3703675b43d9f197f609fc576e850ac0da', 'message': 'Wait for conductor start before notifying systemd\n\nCurrently, the launcher first notifies systemd, then starts checking the\nservices (RPC and WSGI). So any failures will be reported, but only\nafter systemd declares the service ready.\n\nThis change adds a polling loop to make sure RpcService.start() finishes\nsuccessfully.\n\nChange-Id: Ib460622d69a9cb1cb82e796a6ab294bbbb40c359\n'}]",2,826470,2c58ab3703675b43d9f197f609fc576e850ac0da,20,3,3,10239,,,0,"Wait for conductor start before notifying systemd

Currently, the launcher first notifies systemd, then starts checking the
services (RPC and WSGI). So any failures will be reported, but only
after systemd declares the service ready.

This change adds a polling loop to make sure RpcService.start() finishes
successfully.

Change-Id: Ib460622d69a9cb1cb82e796a6ab294bbbb40c359
",git fetch https://review.opendev.org/openstack/ironic refs/changes/70/826470/3 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/common/rpc_service.py', 'ironic/cmd/singleprocess.py']",2,0655dc0e56447229808ee08fd6f0af64a1217d20,service-wait, # NOTE(dtantsur): handling start-up failures before launcher.wait() helps # notify systemd about them. Otherwise the launcher will report successful # service start-up before checking the threads. mgr.wait_for_start() ,,27,0
openstack%2Fironic~master~I38bf39e4e4845415640b3468e9fb3029f70dcded,openstack/ironic,master,I38bf39e4e4845415640b3468e9fb3029f70dcded,Return non-zero exit code on failures,MERGED,2022-01-26 13:40:10.000000000,2022-02-07 19:47:55.000000000,2022-02-07 19:45:52.000000000,"[{'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2022-01-26 13:40:10.000000000', 'files': ['releasenotes/notes/service-exit-77bcf3a538fab4bc.yaml', 'ironic/cmd/singleprocess.py', 'ironic/cmd/api.py', 'ironic/cmd/conductor.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/e841fa05456ae8cfa35222fc6b787d9aadababe6', 'message': 'Return non-zero exit code on failures\n\nLauncher.wait() does not raise, it returns an integer code. Propagate it\nto sys.exit() so that failures are correctly recognized.\n\nChange-Id: I38bf39e4e4845415640b3468e9fb3029f70dcded\n'}]",0,826467,e841fa05456ae8cfa35222fc6b787d9aadababe6,13,3,1,10239,,,0,"Return non-zero exit code on failures

Launcher.wait() does not raise, it returns an integer code. Propagate it
to sys.exit() so that failures are correctly recognized.

Change-Id: I38bf39e4e4845415640b3468e9fb3029f70dcded
",git fetch https://review.opendev.org/openstack/ironic refs/changes/67/826467/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/service-exit-77bcf3a538fab4bc.yaml', 'ironic/cmd/singleprocess.py', 'ironic/cmd/api.py', 'ironic/cmd/conductor.py']",4,e841fa05456ae8cfa35222fc6b787d9aadababe6,service-exit, sys.exit(launcher.wait()), launcher.wait(),8,3
openstack%2Fbifrost~master~I17becbd7848e42ce51c2176cff886f23f35364f4,openstack/bifrost,master,I17becbd7848e42ce51c2176cff886f23f35364f4,"Revert ""Install libvirt-python from source instead of a wheel""",MERGED,2022-02-03 16:21:56.000000000,2022-02-07 19:25:53.000000000,2022-02-07 19:24:12.000000000,"[{'_account_id': 11655}, {'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 32523}]","[{'number': 1, 'created': '2022-02-03 16:21:56.000000000', 'files': ['releasenotes/notes/libvirt-not-importable-c8e88a8ef11a1f09.yaml', 'playbooks/roles/bifrost-create-vm-nodes/tasks/prepare_libvirt.yml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/6323ae7706d34494060d9ab50e21c282dcb80b27', 'message': 'Revert ""Install libvirt-python from source instead of a wheel""\n\nThis reverts commit 79c8418ead5ead97494497b998aa6c03e27b87bf.\n\nReason for revert: hopefully no longer needed.\n\nChange-Id: I17becbd7848e42ce51c2176cff886f23f35364f4\n'}]",2,827648,6323ae7706d34494060d9ab50e21c282dcb80b27,9,5,1,10239,,,0,"Revert ""Install libvirt-python from source instead of a wheel""

This reverts commit 79c8418ead5ead97494497b998aa6c03e27b87bf.

Reason for revert: hopefully no longer needed.

Change-Id: I17becbd7848e42ce51c2176cff886f23f35364f4
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/48/827648/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/libvirt-not-importable-c8e88a8ef11a1f09.yaml', 'playbooks/roles/bifrost-create-vm-nodes/tasks/prepare_libvirt.yml']",2,6323ae7706d34494060d9ab50e21c282dcb80b27,gate,"- name: install libvirt-python, gunicorn and lxml - libvirt-python","- name: install gunicorn and lxml- name: install libvirt-python include_role: name: bifrost-pip-install vars: package: libvirt-python # FIXME(dtantsur): libvirt-python 7.5.0 cannot be used when installed from # a wheel, force a source installation extra_args: --no-binary libvirt-python ",2,15
openstack%2Fopenstack-ansible-lxc_hosts~master~I3adb4dd75198935c4656d0208043ad8051f29312,openstack/openstack-ansible-lxc_hosts,master,I3adb4dd75198935c4656d0208043ad8051f29312,Ensure that the legacy network-scripts package is present,MERGED,2022-02-07 11:32:45.000000000,2022-02-07 19:15:26.000000000,2022-02-07 19:14:00.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-02-07 11:32:45.000000000', 'files': ['vars/redhat-host.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/9a4004169450a0bb68ffe0fec31e6887a9c075f3', 'message': 'Ensure that the legacy network-scripts package is present\n\nThe lxc_hosts ansible role currently relies on the ifup / ifdown\ncommands.\n\nChange-Id: I3adb4dd75198935c4656d0208043ad8051f29312\n'}]",1,828113,9a4004169450a0bb68ffe0fec31e6887a9c075f3,13,4,1,25023,,,0,"Ensure that the legacy network-scripts package is present

The lxc_hosts ansible role currently relies on the ifup / ifdown
commands.

Change-Id: I3adb4dd75198935c4656d0208043ad8051f29312
",git fetch https://review.opendev.org/openstack/openstack-ansible-lxc_hosts refs/changes/13/828113/1 && git format-patch -1 --stdout FETCH_HEAD,['vars/redhat-host.yml'],1,9a4004169450a0bb68ffe0fec31e6887a9c075f3,, - network-scripts,,1,0
openstack%2Frequirements~stable%2Fvictoria~I84609ffce41ac143d7cdf24c3e1a02c8a9c1f8e6,openstack/requirements,stable/victoria,I84609ffce41ac143d7cdf24c3e1a02c8a9c1f8e6,update constraint for oslo.utils to new release 4.6.1,MERGED,2022-02-07 10:27:40.000000000,2022-02-07 19:05:34.000000000,2022-02-07 19:05:34.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-02-07 10:27:40.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/8b422b75cbf4b2e2441a1baedd426c60116a964f', 'message': 'update constraint for oslo.utils to new release 4.6.1\n\nmeta: version: 4.6.1\nmeta: diff-start: -\nmeta: series: victoria\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: no\nmeta: release:Author: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Commit: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Change-Id: If10337ef96594c5432a82d35a64a457446b8a246\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>\nChange-Id: I84609ffce41ac143d7cdf24c3e1a02c8a9c1f8e6\n'}]",0,828102,8b422b75cbf4b2e2441a1baedd426c60116a964f,8,3,1,11131,,,0,"update constraint for oslo.utils to new release 4.6.1

meta: version: 4.6.1
meta: diff-start: -
meta: series: victoria
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: Hervé Beraud <hberaud@redhat.com>
meta: release:Commit: Hervé Beraud <hberaud@redhat.com>
meta: release:Change-Id: If10337ef96594c5432a82d35a64a457446b8a246
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
Change-Id: I84609ffce41ac143d7cdf24c3e1a02c8a9c1f8e6
",git fetch https://review.opendev.org/openstack/requirements refs/changes/02/828102/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,8b422b75cbf4b2e2441a1baedd426c60116a964f,new-release,oslo.utils===4.6.1,oslo.utils===4.6.0,1,1
openstack%2Foctavia~master~I3f9d08fd4ce038208b8c2d160e6abecae8c8383d,openstack/octavia,master,I3f9d08fd4ce038208b8c2d160e6abecae8c8383d,Add support for Centos 9 Stream,MERGED,2021-11-02 16:10:46.000000000,2022-02-07 19:02:28.000000000,2022-02-07 19:00:40.000000000,"[{'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 29244}, {'_account_id': 32458}, {'_account_id': 34429}]","[{'number': 1, 'created': '2021-11-02 16:10:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/0ed66f5344b7ffcc5fd2363e4eaf09d606c7c27c', 'message': 'WIP Add support for Centos 9 Stream amphorae\n\nDepends-On: https://review.opendev.org/816369\n\nChange-Id: I3f9d08fd4ce038208b8c2d160e6abecae8c8383d\n'}, {'number': 2, 'created': '2021-12-08 13:57:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/40f1856e321b50da6f739e87bb40dc36dc8f46af', 'message': 'WIP Add support for Centos 9 Stream amphorae\n\nDepends-On: https://review.opendev.org/816369\n\nChange-Id: I3f9d08fd4ce038208b8c2d160e6abecae8c8383d\n'}, {'number': 3, 'created': '2021-12-09 15:37:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/a25656b5c79e4a76830457d0fcf941e50806e5c8', 'message': 'WIP Add support for Centos 9 Stream\n\nDepends-On: https://review.opendev.org/816369\n\nChange-Id: I3f9d08fd4ce038208b8c2d160e6abecae8c8383d\n'}, {'number': 4, 'created': '2021-12-09 16:24:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/8155025a1c9f9ca455faaf8177e1978023b55253', 'message': 'WIP Add support for Centos 9 Stream\n\nDepends-On: https://review.opendev.org/816369\n\nChange-Id: I3f9d08fd4ce038208b8c2d160e6abecae8c8383d\n'}, {'number': 5, 'created': '2021-12-13 09:05:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/30e638c99b50bebbdd624be86fd8f0045af6b779', 'message': 'WIP Add support for Centos 9 Stream\n\nDepends-On: https://review.opendev.org/816369\n\nChange-Id: I3f9d08fd4ce038208b8c2d160e6abecae8c8383d\n'}, {'number': 6, 'created': '2022-01-25 07:27:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/5ba54c9973bcc7c352a38db940619354bc75ba6d', 'message': 'WIP Add support for Centos 9 Stream\n\nDepends-On: https://review.opendev.org/816369\n\nChange-Id: I3f9d08fd4ce038208b8c2d160e6abecae8c8383d\n'}, {'number': 7, 'created': '2022-01-25 10:01:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/40438b15cf286f19b5ca9791c1f52b78b73bf733', 'message': 'WIP Add support for Centos 9 Stream\n\nDepends-On: https://review.opendev.org/816369\n\nChange-Id: I3f9d08fd4ce038208b8c2d160e6abecae8c8383d\n'}, {'number': 8, 'created': '2022-01-27 19:12:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/3713ba57169325904aa5c1dd0b4502c009890557', 'message': 'WIP Add support for Centos 9 Stream\n\nDepends-On: https://review.opendev.org/816369\n\nChange-Id: I3f9d08fd4ce038208b8c2d160e6abecae8c8383d\n'}, {'number': 9, 'created': '2022-01-28 06:03:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/7c8bdd7c78f933db5aaefdd63999ed282b492633', 'message': 'Add support for Centos 9 Stream\n\nUpdate elements for c9s\nAdd a periodic job for building and publishing c9s amphora image.\n\nDepends-On: https://review.opendev.org/816369\n\nChange-Id: I3f9d08fd4ce038208b8c2d160e6abecae8c8383d\n'}, {'number': 10, 'created': '2022-02-01 16:35:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/feeb07bbaf65bdf064db2acc2c24a314df42cdeb', 'message': 'Add support for Centos 9 Stream\n\nUpdate elements for c9s\nAdd a periodic job for building and publishing c9s amphora image.\n\nChange-Id: I3f9d08fd4ce038208b8c2d160e6abecae8c8383d\n'}, {'number': 11, 'created': '2022-02-01 17:30:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/00a3546e13b7433ead53a89aba502385dcf9731f', 'message': 'Add support for Centos 9 Stream\n\nUpdate elements for c9s\n\nChange-Id: I3f9d08fd4ce038208b8c2d160e6abecae8c8383d\n'}, {'number': 12, 'created': '2022-02-04 09:28:39.000000000', 'files': ['elements/amphora-agent/pkg-map', 'elements/haproxy-octavia/pre-install.d/01-repositories'], 'web_link': 'https://opendev.org/openstack/octavia/commit/0a9f3a8e6f728ceef4c1dc992b513dc5c0e3a6e0', 'message': 'Add support for Centos 9 Stream\n\nUpdate elements for c9s\n\nChange-Id: I3f9d08fd4ce038208b8c2d160e6abecae8c8383d\n'}]",28,816370,0a9f3a8e6f728ceef4c1dc992b513dc5c0e3a6e0,80,6,12,29244,,,0,"Add support for Centos 9 Stream

Update elements for c9s

Change-Id: I3f9d08fd4ce038208b8c2d160e6abecae8c8383d
",git fetch https://review.opendev.org/openstack/octavia refs/changes/70/816370/1 && git format-patch -1 --stdout FETCH_HEAD,"['elements/amphora-agent/pkg-map', 'elements/haproxy-octavia/pre-install.d/01-repositories', 'zuul.d/projects.yaml', 'zuul.d/jobs.yaml']",4,0ed66f5344b7ffcc5fd2363e4eaf09d606c7c27c,c9, name: octavia-amphora-image-build-live-centos-9-stream parent: octavia-amphora-image-build nodeset: centos-8-stream # TODO(gthiemonge) move to centos 9 pool description: | Builds a CentOS 9 Stream amphora image using diskimage-builder from Git master. This job does not publish the image. required-projects: - openstack/diskimage-builder vars: amphora_os: centos amphora_os_release: 9-stream - job:,,26,1
openstack%2Fnova~master~Idb55c81639139efbd44b9f8c938276827898ae44,openstack/nova,master,Idb55c81639139efbd44b9f8c938276827898ae44,[WIP] Set resize claim resource when changing host,ABANDONED,2021-12-03 13:28:52.000000000,2022-02-07 18:45:25.000000000,,"[{'_account_id': 7166}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-03 13:28:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/278bb32df8a2bf674d553618b689216932ff15c8', 'message': '[WIP] Set resize claim resource when changing host\n\nWhen migrating/resizing (with migrate) an instance, the\nupdate_available_resource [1] task may execute while the instance being\nmigrated is in an inconsistent state. This may cause the destination\nhost resource inventory to be incorrectly updated, and a subsequent\nrevert attempt to fail when trying to drop the resource claims.\n\nAn observed effect of this is that the revert operation may fail to\nunpin the CPUs from the destination host, leaving the instance in\n""ERROR"" state, with a ""fault"" message similar to the following:\n\n""CPU set to unpin [8] must be a subset of pinned CPU set []""\n\nThis issue occurs when the periodic task executes between two events\nduring the resize operation:\n    - The instance host being updated and saved as the destination host\n      [2]\n    - The instance configuration (such as flavor and NUMA topology)\n      being updated and saved to reflect its selected configuration for\n      the destination host [3]\n\nDuring this interval, the task will consider that the instance belongs\nthe destination host, but since it is still with its source\nconfiguration, it will allocate the resources based on the source host.\nMore specifically, regarding CPU pinning, the task will attempt to pin\nthe CPU numbers that were pinned for the source host on the destination.\n\nThe resize/migration itself will work as expected, since it will update\nthe configuration accordingly afterwards. However, if the selected CPU\nnumbers for the destination differ from the original ones on the source,\nthe PCPU inventory in the resource_tracker will be temporarily\nincorrect. If the revert operation tries to drop the claims before the\ninventory is corrected, then it will fail to unpin the CPUs, because\nthey will not be considered as pinned.\n\nAdding a simple fix to the specific issue of CPU pinning. It consists of\nmoving the \'instance.apply_migration_context()\' call from\n_finish_resize() [4] to the same update where the instance host is saved\nas the destination host, on _resize_instance() [2]. This way, if the\nperiodic task runs before [3], the instance will already reference the\ncorrect resource when the inventory is updated.\n\nLimitation: this behavior was not tested with cross-cell resize/migrate,\nand should not address this issue for it, in case it also occurs, since\nthe code flow for cross-cell is different.\n\nTest Plan:\n\nPASS: verify that the periodic task updates the destination\nhost NUMA topology accordingly, when executed between both mentioned\nevents\n\nPASS: verify that the revert operation executes successfully,\nwhen the periodic task runs between the two events during the\nresize/migration\n\n[1]\nhttps://github.com/openstack/nova/blob/master/nova/compute/manager.py#L10045\n[2]\nhttps://github.com/openstack/nova/blob/master/nova/compute/manager.py#L5653\n[3]\nhttps://github.com/openstack/nova/blob/master/nova/compute/manager.py#L5795\n[4]\nhttps://github.com/openstack/nova/blob/master/nova/compute/manager.py#L5780\n\nPartial-Bug: #1952915\nSigned-off-by: Gabriel Silva Trevisan <gabriel.silvatrevisan@windriver.com>\nCo-Authored-By: Marcelo Mistutoshi Uesono <marcelomitsutoshi.uesono@windriver.com>\nCo-Authored-By: Ricardo Soares Sarto <ricardo.soaressarto@windriver.com>\nChange-Id: Idb55c81639139efbd44b9f8c938276827898ae44\n'}, {'number': 2, 'created': '2021-12-03 17:29:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1a144821489a3ebae4bef4a96d68612cde9b5d35', 'message': '[WIP] Set resize claim resource when changing host\n\nWhen single-cell migrating/resizing (with migrate) an instance, the\nupdate_available_resource [1] task may execute while the instance being\nmigrated is in an inconsistent state. This may cause the destination\nhost resource inventory to be incorrectly updated, and a subsequent\nrevert attempt to fail when trying to drop the resource claims.\n\nAn observed effect of this is that the revert operation may fail to\nunpin the CPUs from the destination host, leaving the instance in\n""ERROR"" state, with a ""fault"" message similar to the following:\n\n""CPU set to unpin [8] must be a subset of pinned CPU set []""\n\nThis issue occurs when the periodic task executes between two events\nduring the resize operation:\n    - The instance host being updated and saved as the destination host\n      [2]\n    - The instance configuration (such as flavor and NUMA topology)\n      being updated and saved to reflect its selected configuration for\n      the destination host [3]\n\nDuring this interval, the task will consider that the instance belongs\nthe destination host, but since it is still with its source\nconfiguration, it will allocate the resources based on the source host.\nMore specifically, regarding CPU pinning, the task will attempt to pin\nthe CPU numbers that were pinned for the source host on the destination.\n\nThe resize/migration itself will work as expected, since it will update\nthe configuration accordingly afterwards. However, if the selected CPU\nnumbers for the destination differ from the original ones on the source,\nthe PCPU inventory in the resource_tracker will be temporarily\nincorrect. If the revert operation tries to drop the claims before the\ninventory is corrected, then it will fail to unpin the CPUs, because\nthey will not be considered as pinned.\n\nAdding a simple fix to the specific issue of CPU pinning. It consists of\nmoving the \'instance.apply_migration_context()\' call from\n_finish_resize() [4] to the same update where the instance host is saved\nas the destination host, on _resize_instance() [2]. This way, if the\nperiodic task runs before [3], the instance will already reference the\ncorrect resource when the inventory is updated.\n\nNote: This change should only affect single-cell resize/migrate behavior.\nCross-cell resize/migrate behavior should not be affected by it, since\nthe code flow differs.\n\nTest Plan:\n\nPASS: verify that the periodic task updates the destination\nhost NUMA topology accordingly, when executed between both mentioned\nevents\n\nPASS: verify that the revert operation executes successfully,\nwhen the periodic task runs between the two events during the\nresize/migration\n\n[1]\nhttps://github.com/openstack/nova/blob/master/nova/compute/manager.py#L10045\n[2]\nhttps://github.com/openstack/nova/blob/master/nova/compute/manager.py#L5653\n[3]\nhttps://github.com/openstack/nova/blob/master/nova/compute/manager.py#L5795\n[4]\nhttps://github.com/openstack/nova/blob/master/nova/compute/manager.py#L5780\n\nPartial-Bug: #1952915\nSigned-off-by: Gabriel Silva Trevisan <gabriel.silvatrevisan@windriver.com>\nCo-Authored-By: Marcelo Mistutoshi Uesono <marcelomitsutoshi.uesono@windriver.com>\nCo-Authored-By: Ricardo Soares Sarto <ricardo.soaressarto@windriver.com>\nChange-Id: Idb55c81639139efbd44b9f8c938276827898ae44\n'}, {'number': 3, 'created': '2021-12-06 18:59:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0471e0c4dd4c293a54a79b2a8077c92e12e0756c', 'message': '[WIP] Set resize claim resource when changing host\n\nWhen single-cell migrating/resizing (with migrate) an instance, the\nupdate_available_resource [1] task may execute while the instance being\nmigrated is in an inconsistent state. This may cause the destination\nhost resource inventory to be incorrectly updated, and a subsequent\nrevert attempt to fail when trying to drop the resource claims.\n\nAn observed effect of this is that the revert operation may fail to\nunpin the CPUs from the destination host, leaving the instance in\n""ERROR"" state, with a ""fault"" message similar to the following:\n\n""CPU set to unpin [8] must be a subset of pinned CPU set []""\n\nThis issue occurs when the periodic task executes between two events\nduring the resize operation:\n    - The instance host being updated and saved as the destination host\n      [2]\n    - The instance configuration (such as flavor and NUMA topology)\n      being updated and saved to reflect its selected configuration for\n      the destination host [3]\n\nDuring this interval, the task will consider that the instance belongs\nthe destination host, but since it is still with its source\nconfiguration, it will allocate the resources based on the source host.\nMore specifically, regarding CPU pinning, the task will attempt to pin\nthe CPU numbers that were pinned for the source host on the destination.\n\nThe resize/migration itself will work as expected, since it will update\nthe configuration accordingly afterwards. However, if the selected CPU\nnumbers for the destination differ from the original ones on the source,\nthe PCPU inventory in the resource_tracker will be temporarily\nincorrect. If the revert operation tries to drop the claims before the\ninventory is corrected, then it will fail to unpin the CPUs, because\nthey will not be considered as pinned.\n\nAdding a simple fix to the specific issue of CPU pinning. It consists of\nmoving the \'instance.apply_migration_context()\' call from\n_finish_resize() [4] to the same update where the instance host is saved\nas the destination host, on _resize_instance() [2]. This way, if the\nperiodic task runs before [3], the instance will already reference the\ncorrect resource when the inventory is updated.\n\nNote: This change should only affect single-cell resize/migrate behavior.\nCross-cell resize/migrate behavior should not be affected by it, since\nthe code flow differs.\n\nTest Plan:\n\nPASS: verify that the periodic task updates the destination\nhost NUMA topology accordingly, when executed between both mentioned\nevents\n\nPASS: verify that the revert operation executes successfully,\nwhen the periodic task runs between the two events during the\nresize/migration\n\n[1]\nhttps://github.com/openstack/nova/blob/master/nova/compute/manager.py#L10045\n[2]\nhttps://github.com/openstack/nova/blob/master/nova/compute/manager.py#L5653\n[3]\nhttps://github.com/openstack/nova/blob/master/nova/compute/manager.py#L5795\n[4]\nhttps://github.com/openstack/nova/blob/master/nova/compute/manager.py#L5780\n\nPartial-Bug: #1952915\nSigned-off-by: Gabriel Silva Trevisan <gabriel.silvatrevisan@windriver.com>\nCo-Authored-By: Marcelo Mistutoshi Uesono <marcelomitsutoshi.uesono@windriver.com>\nCo-Authored-By: Ricardo Soares Sarto <ricardo.soaressarto@windriver.com>\nChange-Id: Idb55c81639139efbd44b9f8c938276827898ae44\n'}, {'number': 4, 'created': '2021-12-06 21:38:50.000000000', 'files': ['nova/tests/unit/compute/test_compute_mgr.py', 'nova/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/1c1fde108737c8718974ee24f531414d7e6d26a1', 'message': '[WIP] Set resize claim resource when changing host\n\nWhen single-cell migrating/resizing (with migrate) an instance, the\nupdate_available_resource [1] task may execute while the instance being\nmigrated is in an inconsistent state. This may cause the destination\nhost resource inventory to be incorrectly updated, and a subsequent\nrevert attempt to fail when trying to drop the resource claims.\n\nAn observed effect of this is that the revert operation may fail to\nunpin the CPUs from the destination host, leaving the instance in\n""ERROR"" state, with a ""fault"" message similar to the following:\n\n""CPU set to unpin [8] must be a subset of pinned CPU set []""\n\nThis issue occurs when the periodic task executes between two events\nduring the resize operation:\n    - The instance host being updated and saved as the destination host\n      [2]\n    - The instance configuration (such as flavor and NUMA topology)\n      being updated and saved to reflect its selected configuration for\n      the destination host [3]\n\nDuring this interval, the task will consider that the instance belongs\nthe destination host, but since it is still with its source\nconfiguration, it will allocate the resources based on the source host.\nMore specifically, regarding CPU pinning, the task will attempt to pin\nthe CPU numbers that were pinned for the source host on the destination.\n\nThe resize/migration itself will work as expected, since it will update\nthe configuration accordingly afterwards. However, if the selected CPU\nnumbers for the destination differ from the original ones on the source,\nthe PCPU inventory in the resource_tracker will be temporarily\nincorrect. If the revert operation tries to drop the claims before the\ninventory is corrected, then it will fail to unpin the CPUs, because\nthey will not be considered as pinned.\n\nAdding a simple fix to the specific issue of CPU pinning. It consists of\nmoving the \'instance.apply_migration_context()\' call from\n_finish_resize() [4] to the same update where the instance host is saved\nas the destination host, on _resize_instance() [2]. This way, if the\nperiodic task runs before [3], the instance will already reference the\ncorrect resource when the inventory is updated.\n\nNote: This change should only affect single-cell resize/migrate behavior.\nCross-cell resize/migrate behavior should not be affected by it, since\nthe code flow differs.\n\nTest Plan:\n\nPASS: verify that the periodic task updates the destination\nhost NUMA topology accordingly, when executed between both mentioned\nevents\n\nPASS: verify that the revert operation executes successfully,\nwhen the periodic task runs between the two events during the\nresize/migration\n\n[1]\nhttps://github.com/openstack/nova/blob/master/nova/compute/manager.py#L10045\n[2]\nhttps://github.com/openstack/nova/blob/master/nova/compute/manager.py#L5653\n[3]\nhttps://github.com/openstack/nova/blob/master/nova/compute/manager.py#L5795\n[4]\nhttps://github.com/openstack/nova/blob/master/nova/compute/manager.py#L5780\n\nPartial-Bug: #1952915\nSigned-off-by: Gabriel Silva Trevisan <gabriel.silvatrevisan@windriver.com>\nCo-Authored-By: Marcelo Mistutoshi Uesono <marcelomitsutoshi.uesono@windriver.com>\nCo-Authored-By: Ricardo Soares Sarto <ricardo.soaressarto@windriver.com>\nChange-Id: Idb55c81639139efbd44b9f8c938276827898ae44\n'}]",16,820381,1c1fde108737c8718974ee24f531414d7e6d26a1,30,2,4,33608,,,0,"[WIP] Set resize claim resource when changing host

When single-cell migrating/resizing (with migrate) an instance, the
update_available_resource [1] task may execute while the instance being
migrated is in an inconsistent state. This may cause the destination
host resource inventory to be incorrectly updated, and a subsequent
revert attempt to fail when trying to drop the resource claims.

An observed effect of this is that the revert operation may fail to
unpin the CPUs from the destination host, leaving the instance in
""ERROR"" state, with a ""fault"" message similar to the following:

""CPU set to unpin [8] must be a subset of pinned CPU set []""

This issue occurs when the periodic task executes between two events
during the resize operation:
    - The instance host being updated and saved as the destination host
      [2]
    - The instance configuration (such as flavor and NUMA topology)
      being updated and saved to reflect its selected configuration for
      the destination host [3]

During this interval, the task will consider that the instance belongs
the destination host, but since it is still with its source
configuration, it will allocate the resources based on the source host.
More specifically, regarding CPU pinning, the task will attempt to pin
the CPU numbers that were pinned for the source host on the destination.

The resize/migration itself will work as expected, since it will update
the configuration accordingly afterwards. However, if the selected CPU
numbers for the destination differ from the original ones on the source,
the PCPU inventory in the resource_tracker will be temporarily
incorrect. If the revert operation tries to drop the claims before the
inventory is corrected, then it will fail to unpin the CPUs, because
they will not be considered as pinned.

Adding a simple fix to the specific issue of CPU pinning. It consists of
moving the 'instance.apply_migration_context()' call from
_finish_resize() [4] to the same update where the instance host is saved
as the destination host, on _resize_instance() [2]. This way, if the
periodic task runs before [3], the instance will already reference the
correct resource when the inventory is updated.

Note: This change should only affect single-cell resize/migrate behavior.
Cross-cell resize/migrate behavior should not be affected by it, since
the code flow differs.

Test Plan:

PASS: verify that the periodic task updates the destination
host NUMA topology accordingly, when executed between both mentioned
events

PASS: verify that the revert operation executes successfully,
when the periodic task runs between the two events during the
resize/migration

[1]
https://github.com/openstack/nova/blob/master/nova/compute/manager.py#L10045
[2]
https://github.com/openstack/nova/blob/master/nova/compute/manager.py#L5653
[3]
https://github.com/openstack/nova/blob/master/nova/compute/manager.py#L5795
[4]
https://github.com/openstack/nova/blob/master/nova/compute/manager.py#L5780

Partial-Bug: #1952915
Signed-off-by: Gabriel Silva Trevisan <gabriel.silvatrevisan@windriver.com>
Co-Authored-By: Marcelo Mistutoshi Uesono <marcelomitsutoshi.uesono@windriver.com>
Co-Authored-By: Ricardo Soares Sarto <ricardo.soaressarto@windriver.com>
Change-Id: Idb55c81639139efbd44b9f8c938276827898ae44
",git fetch https://review.opendev.org/openstack/nova refs/changes/81/820381/4 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_compute_mgr.py', 'nova/compute/manager.py']",2,278bb32df8a2bf674d553618b689216932ff15c8,bug/1952915," # Update instance resources as the claimed resources from the # migration context, since the it will start being tracked on the # destination host instance.apply_migration_context() ", instance.apply_migration_context(),28,1
openstack%2Fpuppet-neutron~master~I61d0a5340da6216fb4d885abebc4f109a6fe22b4,openstack/puppet-neutron,master,I61d0a5340da6216fb4d885abebc4f109a6fe22b4,ovs: Add support for packet processing info report,MERGED,2022-02-04 06:22:31.000000000,2022-02-07 18:41:58.000000000,2022-02-07 18:40:17.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-04 06:22:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/8d1b4c4413136bd22e012ed0787665614adf888a', 'message': 'ovs: Add support for pkc processing info report\n\nThis change introduces support for parameters used to report packet\nprocessing info to placement, which was added this cycle[1].\n\n[1] 1ea26616b41335b24b9c162062740ee3de78372d\n\nChange-Id: I61d0a5340da6216fb4d885abebc4f109a6fe22b4\n'}, {'number': 2, 'created': '2022-02-04 08:01:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/45b51953297355f2c0be5dcaebe4cfdb51ae94b2', 'message': 'ovs: Add support for pkc processing info report\n\nThis change introduces support for parameters used to report packet\nprocessing info to placement, which was added this cycle[1].\n\n[1] 1ea26616b41335b24b9c162062740ee3de78372d\n\nChange-Id: I61d0a5340da6216fb4d885abebc4f109a6fe22b4\n'}, {'number': 3, 'created': '2022-02-04 10:34:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/2e64cb9306b360c17b8fddff531aa1eb97d2bd0c', 'message': 'ovs: Add support for packet processing info report\n\nThis change introduces support for parameters used to report packet\nprocessing info to placement, which was added during the current Yoga\ncycle[1].\n\n[1] 1ea26616b41335b24b9c162062740ee3de78372d\n\nChange-Id: I61d0a5340da6216fb4d885abebc4f109a6fe22b4\n'}, {'number': 4, 'created': '2022-02-05 01:59:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/5ffd6ec48e70186cba3bc9777e2ddce0ce42e7f5', 'message': 'ovs: Add support for packet processing info report\n\nThis change introduces support for parameters used to report packet\nprocessing info to placement, which was added during the current Yoga\ncycle[1].\n\n[1] 1ea26616b41335b24b9c162062740ee3de78372d\n\nChange-Id: I61d0a5340da6216fb4d885abebc4f109a6fe22b4\n'}, {'number': 5, 'created': '2022-02-05 09:07:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/849258c4acf373b6feddd1a11c0578593d730a55', 'message': 'ovs: Add support for packet processing info report\n\nThis change introduces support for parameters used to report packet\nprocessing info to placement, which was added during the current Yoga\ncycle[1].\n\n[1] 1ea26616b41335b24b9c162062740ee3de78372d\n\nChange-Id: I61d0a5340da6216fb4d885abebc4f109a6fe22b4\n'}, {'number': 6, 'created': '2022-02-05 09:10:26.000000000', 'files': ['releasenotes/notes/pps-config-ovs-d47b70922b4c53c2.yaml', 'spec/classes/neutron_agents_ml2_ovs_spec.rb', 'manifests/agents/ml2/ovs.pp'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/9441d9657e4d5411da7697fb406e37c9e26e38a1', 'message': 'ovs: Add support for packet processing info report\n\nThis change introduces support for parameters used to report packet\nprocessing info to placement, which was added during the current Yoga\ncycle[1].\n\n[1] 1ea26616b41335b24b9c162062740ee3de78372d\n\nChange-Id: I61d0a5340da6216fb4d885abebc4f109a6fe22b4\n'}]",0,827803,9441d9657e4d5411da7697fb406e37c9e26e38a1,16,3,6,9816,,,0,"ovs: Add support for packet processing info report

This change introduces support for parameters used to report packet
processing info to placement, which was added during the current Yoga
cycle[1].

[1] 1ea26616b41335b24b9c162062740ee3de78372d

Change-Id: I61d0a5340da6216fb4d885abebc4f109a6fe22b4
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/03/827803/4 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/pps-config-ovs-d47b70922b4c53c2.yaml', 'spec/classes/neutron_agents_ml2_ovs_spec.rb', 'manifests/agents/ml2/ovs.pp']",3,8d1b4c4413136bd22e012ed0787665614adf888a,rp,"# [*resource_provider_packet_processing_without_direction*] # (optional) List of <hypervisor>:<packet_rate> tuples, defining the minimum # pachet rate the OVS backend can guarantee in kilo (1000) packet per second. # Defaults to empty list # # [*resource_provider_packet_processing_with_direction*] # (optional) Similar to resource_provider_packet_processing_without_direction # but used in case the OVS backend has hardware offload capabilities. # Defauls to empty list ## [*resource_provider_packet_processing_inventory_defaults*] # (optional) Key:value pairs to specify defaults used while reporting packet # rate inventories,. # Defauls to empty hash # $resource_provider_packet_processing_without_direction = [], $resource_provider_packet_processing_with_direction = [], $resource_provider_packet_processing_inventory_defaults = {}, if ($resource_provider_packet_processing_without_direction != []){ $resource_provider_packet_processing_without_direction_real = \ join(any2array($resource_provider_packet_processing_without_direction), ',') } else { $resource_provider_packet_processing_without_direction_real = $::os_service_default } if ($resource_provider_packet_processing_with_direction != []){ $resource_provider_packet_processing_with_direction_real = \ join(any2array($resource_provider_packet_processing_with_direction), ',') } else { $resource_provider_packet_processing_with_direction_real = $::os_service_default } if empty($resource_provider_packet_processing_inventory_defaults) { $resource_provider_inventory_packet_processing_defaults_real = $::os_service_default } else { if ($resource_provider_inventory_packet_processing_defaults ~= Hash){ $resource_provider_inventory_packet_processing_defaults_real = \ join(join_keys_to_values($resource_provider_packet_processing_inventory_defaults, ':'), ',') } else { $resource_provider_packet_processing_inventory_defaults_real = \ join(any2array($resource_provider_packet_processing_inventory_defaults), ',') } } neutron_agent_ovs { 'ovs/resource_provider_bandwidths': value => $resource_provider_bandwidths_real; 'ovs/resource_provider_hypervisors': value => $resource_provider_hypervisors_real; 'ovs/resource_provider_packet_processing_without_direction': value => $resource_provider_packet_processing_without_direction_real; 'ovs/resource_provider_packet_processing_with_direction': value => $resource_provider_packet_processing_with_direction_real; 'ovs/resource_provider_default_hypervisor': value => $resource_provider_default_hypervisor; 'ovs/resource_provider_packet_defaults': value => $resource_provider_inventory_defaults_real; 'ovs/resource_provider_packet_processing_inventory_defaults': value => $resource_provider_packet_processing_inventory_defaults_real;", neutron_agent_ovs { 'ovs/resource_provider_bandwidths': value => $resource_provider_bandwidths_real; 'ovs/resource_provider_hypervisors': value => $resource_provider_hypervisors_real; 'ovs/resource_provider_default_hypervisor': value => $resource_provider_default_hypervisor; 'ovs/resource_provider_inventory_defaults': value => $resource_provider_inventory_defaults_real;,92,4
openstack%2Fpuppet-neutron~master~I26c2a1121169446a34815260f574f85b49619461,openstack/puppet-neutron,master,I26c2a1121169446a34815260f574f85b49619461,Simplify definition to ensure keystone resource creation,MERGED,2022-02-06 15:17:48.000000000,2022-02-07 18:40:19.000000000,2022-02-07 18:40:19.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-06 15:17:48.000000000', 'files': ['manifests/keystone/auth.pp'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/14dda75aed90471cd5d24e6831920cd9d40a8e03', 'message': 'Simplify definition to ensure keystone resource creation\n\nUse the whole resource type instead of its individual resources, to\nrely on interface instead of implementation of the dependent module.\n\nChange-Id: I26c2a1121169446a34815260f574f85b49619461\n'}]",0,828046,14dda75aed90471cd5d24e6831920cd9d40a8e03,7,3,1,9816,,,0,"Simplify definition to ensure keystone resource creation

Use the whole resource type instead of its individual resources, to
rely on interface instead of implementation of the dependent module.

Change-Id: I26c2a1121169446a34815260f574f85b49619461
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/46/828046/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/keystone/auth.pp'],1,14dda75aed90471cd5d24e6831920cd9d40a8e03,key-deps, Keystone::Resource::Service_identity['neutron'] -> Anchor['neutron::service::end']," Keystone_user_role<| name == ""${auth_name}@${tenant}"" |> -> Anchor['neutron::service::end'] Keystone_user_role<| name == ""${auth_name}@::::${system_scope}"" |> -> Anchor['neutron::service::end'] if $configure_endpoint { Keystone_endpoint[""${region}/${service_name}::${service_type}""] -> Anchor['neutron::service::end'] }",1,6
openstack%2Ffreezer-api~master~Id4e3b2dd78dfce7f3c9eabf513efff291c47522e,openstack/freezer-api,master,Id4e3b2dd78dfce7f3c9eabf513efff291c47522e,Update master for stable/xena,NEW,2021-09-17 14:19:46.000000000,2022-02-07 18:19:42.000000000,,"[{'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2021-09-17 14:19:46.000000000', 'files': ['releasenotes/source/xena.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/freezer-api/commit/cd3eef1f73b2baaf92e9b52a467f2eb1575abcc0', 'message': 'Update master for stable/xena\n\nAdd file to the reno documentation build to show release notes for\nstable/xena.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/xena.\n\nSem-Ver: feature\nChange-Id: Id4e3b2dd78dfce7f3c9eabf513efff291c47522e\n'}]",0,809736,cd3eef1f73b2baaf92e9b52a467f2eb1575abcc0,3,2,1,22816,,,0,"Update master for stable/xena

Add file to the reno documentation build to show release notes for
stable/xena.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/xena.

Sem-Ver: feature
Change-Id: Id4e3b2dd78dfce7f3c9eabf513efff291c47522e
",git fetch https://review.opendev.org/openstack/freezer-api refs/changes/36/809736/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/xena.rst', 'releasenotes/source/index.rst']",2,cd3eef1f73b2baaf92e9b52a467f2eb1575abcc0,reno-xena, xena,,7,0
openstack%2Fpuppet-ironic~master~I74e90c764e09b6ecfb7efb88efbfc22d5b06ed6c,openstack/puppet-ironic,master,I74e90c764e09b6ecfb7efb88efbfc22d5b06ed6c,Clean up deprecated database parameters,MERGED,2022-02-07 03:07:39.000000000,2022-02-07 18:15:36.000000000,2022-02-07 18:13:52.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-07 03:07:39.000000000', 'files': ['spec/classes/ironic_init_spec.rb', 'manifests/db.pp', 'manifests/init.pp', 'releasenotes/notes/remove-database-params-1e660cd58eff4038.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/f27dd22cbdc4876f35d0db557adb3b376d9abd5a', 'message': 'Clean up deprecated database parameters\n\nChange-Id: I74e90c764e09b6ecfb7efb88efbfc22d5b06ed6c\n'}]",0,828067,f27dd22cbdc4876f35d0db557adb3b376d9abd5a,8,3,1,9816,,,0,"Clean up deprecated database parameters

Change-Id: I74e90c764e09b6ecfb7efb88efbfc22d5b06ed6c
",git fetch https://review.opendev.org/openstack/puppet-ironic refs/changes/67/828067/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/ironic_init_spec.rb', 'manifests/db.pp', 'manifests/init.pp', 'releasenotes/notes/remove-database-params-1e660cd58eff4038.yaml']",4,f27dd22cbdc4876f35d0db557adb3b376d9abd5a,cleanup-db-params,--- upgrade: - | The following parameters of the ``ironic`` class has been removed. - ``database_min_pool_size`` - ``database_connection`` - ``database_max_retries`` - ``database_idle_timeout`` - ``database_reconnect_interval`` - ``database_retry_interval`` - ``database_max_pool_size`` - ``database_max_overflow`` - | The ``database_min_pool_size`` parameter of the ``ironic::db`` class has been removed. ,,23,120
openstack%2Fsushy-tools~master~Icdf030b9a0fa0d785d309335e0ab2e82e25e0acf,openstack/sushy-tools,master,Icdf030b9a0fa0d785d309335e0ab2e82e25e0acf,Accept non-string types for BIOS settings,MERGED,2022-02-03 22:02:04.000000000,2022-02-07 18:06:39.000000000,2022-02-07 18:04:49.000000000,"[{'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 27909}]","[{'number': 1, 'created': '2022-02-03 22:02:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/0e1c48124865e267d84e83deedbe1ce334d1de73', 'message': 'Accept integer types for BIOS settings\n\n    For BIOS settings allow non-string types to be set.\n\nChange-Id: Icdf030b9a0fa0d785d309335e0ab2e82e25e0acf\n'}, {'number': 2, 'created': '2022-02-04 16:12:38.000000000', 'files': ['releasenotes/notes/bios-integer-types-79928fbd0b49ac57.yaml', 'sushy_tools/emulator/resources/systems/libvirtdriver.py', 'sushy_tools/tests/unit/emulator/resources/systems/test_libvirt.py'], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/1553bf31823c2a36a90830de8e95e85d96af78dc', 'message': 'Accept non-string types for BIOS settings\n\n    For BIOS settings allow non-string types to be set.\n\nChange-Id: Icdf030b9a0fa0d785d309335e0ab2e82e25e0acf\n'}]",2,827769,1553bf31823c2a36a90830de8e95e85d96af78dc,12,3,2,21909,,,0,"Accept non-string types for BIOS settings

    For BIOS settings allow non-string types to be set.

Change-Id: Icdf030b9a0fa0d785d309335e0ab2e82e25e0acf
",git fetch https://review.opendev.org/openstack/sushy-tools refs/changes/69/827769/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bios-integer-types-79928fbd0b49ac57.yaml', 'sushy_tools/emulator/resources/systems/libvirtdriver.py']",2,0e1c48124865e267d84e83deedbe1ce334d1de73,bios-settings-integer," if not isinstance(value, str): value = str(value)",,6,0
openstack%2Fopenstack-helm~master~Ib1b24466678a0df28a3ce7ba4d3fe94bfb169702,openstack/openstack-helm,master,Ib1b24466678a0df28a3ce7ba4d3fe94bfb169702,Remove ssh-config,MERGED,2022-01-24 17:04:48.000000000,2022-02-07 18:05:06.000000000,2022-02-07 18:03:11.000000000,"[{'_account_id': 8898}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 33519}]","[{'number': 1, 'created': '2022-01-24 17:04:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/8e165a5adf1efbdce9d7bf29ecb08edd2b7b831b', 'message': 'Remove ssh-config\n\nAll ssh configurations for the nova-compute pods\nare now done by _ssh-init.sh.tpl . This patch removes\nthe ssh-config volumeMount that is not needed anymore.\n\nSigned-off-by: Hugo Brito <hugo.brito@windriver.com>\nChange-Id: Ib1b24466678a0df28a3ce7ba4d3fe94bfb169702\n'}, {'number': 2, 'created': '2022-01-24 18:12:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/e3162a860b4116f73086cb334fa306f53d1fdb89', 'message': 'Remove ssh-config\n\nAll ssh configurations for the nova-compute pods\nare now done by _ssh-init.sh.tpl . This patch removes\nthe ssh-config that is not needed anymore.\n\nSigned-off-by: Hugo Brito <hugo.brito@windriver.com>\nChange-Id: Ib1b24466678a0df28a3ce7ba4d3fe94bfb169702\n'}, {'number': 3, 'created': '2022-01-31 13:58:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/f97f53fe3bbdf8356866f716b3aed4acc6406910', 'message': 'Remove ssh-config\n\nAll ssh configurations for the nova-compute pods\nare now done by _ssh-init.sh.tpl . This patch removes\nthe ssh-config that is not needed anymore.\n\nSigned-off-by: Hugo Brito <hugo.brito@windriver.com>\nChange-Id: Ib1b24466678a0df28a3ce7ba4d3fe94bfb169702\n'}, {'number': 4, 'created': '2022-02-04 13:05:28.000000000', 'files': ['nova/templates/configmap-etc.yaml', 'releasenotes/notes/nova.yaml', 'nova/templates/daemonset-compute.yaml', 'nova/Chart.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/3ff41ce11cf4ebca35f1ac047d6a24175017d6d4', 'message': 'Remove ssh-config\n\nAll ssh configurations for the nova-compute pods\nare now done by _ssh-init.sh.tpl . This patch removes\nthe ssh-config that is not needed anymore.\n\nSigned-off-by: Hugo Brito <hugo.brito@windriver.com>\nChange-Id: Ib1b24466678a0df28a3ce7ba4d3fe94bfb169702\n'}]",0,826128,3ff41ce11cf4ebca35f1ac047d6a24175017d6d4,20,4,4,14675,,,0,"Remove ssh-config

All ssh configurations for the nova-compute pods
are now done by _ssh-init.sh.tpl . This patch removes
the ssh-config that is not needed anymore.

Signed-off-by: Hugo Brito <hugo.brito@windriver.com>
Change-Id: Ib1b24466678a0df28a3ce7ba4d3fe94bfb169702
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/28/826128/4 && git format-patch -1 --stdout FETCH_HEAD,"['nova/templates/configmap-etc.yaml', 'releasenotes/notes/nova.yaml', 'nova/templates/daemonset-compute.yaml', 'nova/Chart.yaml']",4,8e165a5adf1efbdce9d7bf29ecb08edd2b7b831b,remove-ssh-config,version: 0.2.27,version: 0.2.26,2,6
openstack%2Fpuppet-ironic~master~I036ad287761fa6c4361a45e8d2d9711509a1ade9,openstack/puppet-ironic,master,I036ad287761fa6c4361a45e8d2d9711509a1ade9,Simplify definition to ensure keystone resource creation,MERGED,2022-02-06 15:10:47.000000000,2022-02-07 17:53:18.000000000,2022-02-07 17:53:18.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-06 15:10:47.000000000', 'files': ['manifests/keystone/auth_inspector.pp', 'manifests/keystone/auth.pp'], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/9f34e8b03e1f8d5bdc97f30f27e4b86f9f136b4e', 'message': 'Simplify definition to ensure keystone resource creation\n\nUse the whole resource type instead of its individual resources, to\nrely on interface instead of implementation of the dependent module.\n\nChange-Id: I036ad287761fa6c4361a45e8d2d9711509a1ade9\n'}]",0,828042,9f34e8b03e1f8d5bdc97f30f27e4b86f9f136b4e,7,3,1,9816,,,0,"Simplify definition to ensure keystone resource creation

Use the whole resource type instead of its individual resources, to
rely on interface instead of implementation of the dependent module.

Change-Id: I036ad287761fa6c4361a45e8d2d9711509a1ade9
",git fetch https://review.opendev.org/openstack/puppet-ironic refs/changes/42/828042/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/keystone/auth_inspector.pp', 'manifests/keystone/auth.pp']",2,9f34e8b03e1f8d5bdc97f30f27e4b86f9f136b4e,key-deps, Keystone::Resource::Service_identity['ironic'] -> Anchor['ironic::service::end']," Keystone_user_role<| name == ""${auth_name}@${tenant}"" |> -> Anchor['ironic::service::end'] Keystone_user_role<| name == ""${auth_name}@::::${system_scope}"" |> -> Anchor['ironic::service::end'] if $configure_endpoint { Keystone_endpoint[""${region}/${service_name}::${service_type}""] -> Anchor['ironic::service::end'] }",2,12
openstack%2Fpuppet-heat~master~I9d77ce1cbbd3fb8f7af2f144101ad064d760934e,openstack/puppet-heat,master,I9d77ce1cbbd3fb8f7af2f144101ad064d760934e,Clean up deprecated database parameters,MERGED,2022-02-07 03:01:52.000000000,2022-02-07 17:47:59.000000000,2022-02-07 17:45:55.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-07 03:01:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-heat/commit/2e5bb184e756db04f9beeb482bc34c7e8811a483', 'message': 'Clean up deprecated database parameters\n\nChange-Id: I9d77ce1cbbd3fb8f7af2f144101ad064d760934e\n'}, {'number': 2, 'created': '2022-02-07 03:08:50.000000000', 'files': ['releasenotes/notes/remove-database-params-f7bcf4be24f64a78.yaml', 'manifests/db.pp', 'manifests/init.pp'], 'web_link': 'https://opendev.org/openstack/puppet-heat/commit/c543bd33ae2389e64f932441c719fcc105a2f2da', 'message': 'Clean up deprecated database parameters\n\nChange-Id: I9d77ce1cbbd3fb8f7af2f144101ad064d760934e\n'}]",0,828066,c543bd33ae2389e64f932441c719fcc105a2f2da,9,3,2,9816,,,0,"Clean up deprecated database parameters

Change-Id: I9d77ce1cbbd3fb8f7af2f144101ad064d760934e
",git fetch https://review.opendev.org/openstack/puppet-heat refs/changes/66/828066/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/remove-database-params-f7bcf4be24f64a78.yaml', 'manifests/db.pp', 'manifests/init.pp']",3,2e5bb184e756db04f9beeb482bc34c7e8811a483,cleanup-db-params,,"# DEPRECATED PARAMETERS # # [*database_min_pool_size*] # (optional) Minimum number of SQL connections to keep open in a pool. # Defaults to undef. # # [*database_connection*] # (optional) Connection url for the heat database. # Defaults to undef. # # [*database_max_retries*] # (optional) Maximum database connection retries during startup. # Defaults to undef. # # [*database_idle_timeout*] # (optional) Timeout before idle database connections are reaped. # Defaults to undef. # # [*database_retry_interval*] # (optional) Interval between retries of opening a database connection. # Defaults to undef. # # [*database_max_pool_size*] # (optional) Maximum number of SQL connections to keep open in a pool. # Defaults to undef. # # [*database_max_overflow*] # (optional) If set, use this value for max_overflow with sqlalchemy. # Defaults to: undef. # $database_min_pool_size = undef, $database_connection = undef, $database_max_retries = undef, $database_idle_timeout = undef, $database_retry_interval = undef, $database_max_pool_size = undef, $database_max_overflow = undef, if $database_connection != undef { warning('The database_connection parameter is deprecated and will be \ removed in a future realse. Use heat::db::database_connection instead') } if $database_max_retries!= undef { warning('The database_max_retries parameter is deprecated and will be \ removed in a future realse. Use heat::db::database_max_retries instead') } if $database_retry_interval != undef { warning('The database_retry_interval parameter is deprecated and will be \ removed in a future realse. Use heat::db::database_retry_interval instead') } if $database_idle_timeout != undef { warning('The database_idle_timeout parameter is deprecated and will be \ removed in a future realse. Use heat::db::database_connection_recycle_time \ instead') } if $database_max_pool_size != undef { warning('The database_max_pool_size parameter is deprecated and will be \ removed in a future realse. Use heat::db::database_max_pool_size instead') } if $database_max_overflow != undef { warning('The database_max_overflow parameter is deprecated and will be \ removed in a future realse. Use heat::db::database_max_overflow instead') } if $sync_db != undef { warning('The sync_db prameter is deprecated and will be removed \ in a future release. Use heat::db::sync_db instead') } ",22,94
openstack%2Fpuppet-heat~master~Ie28adb28dba6f8fd04520b1e5deea30fa66d775b,openstack/puppet-heat,master,Ie28adb28dba6f8fd04520b1e5deea30fa66d775b,Simplify definition to ensure keystone resource creation,MERGED,2022-02-06 15:08:57.000000000,2022-02-07 17:45:53.000000000,2022-02-07 17:45:53.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-06 15:08:57.000000000', 'files': ['manifests/keystone/auth_cfn.pp', 'manifests/keystone/auth.pp'], 'web_link': 'https://opendev.org/openstack/puppet-heat/commit/6ce889d3f29c9c1c94c015d1d82ebfbb6bc90cef', 'message': 'Simplify definition to ensure keystone resource creation\n\nUse the whole resource type instead of its individual resources, to\nrely on interface instead of implementation of the dependent module.\n\nChange-Id: Ie28adb28dba6f8fd04520b1e5deea30fa66d775b\n'}]",0,828041,6ce889d3f29c9c1c94c015d1d82ebfbb6bc90cef,7,3,1,9816,,,0,"Simplify definition to ensure keystone resource creation

Use the whole resource type instead of its individual resources, to
rely on interface instead of implementation of the dependent module.

Change-Id: Ie28adb28dba6f8fd04520b1e5deea30fa66d775b
",git fetch https://review.opendev.org/openstack/puppet-heat refs/changes/41/828041/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/keystone/auth_cfn.pp', 'manifests/keystone/auth.pp']",2,6ce889d3f29c9c1c94c015d1d82ebfbb6bc90cef,key-deps, Keystone::Resource::Service_identity['heat'] -> Anchor['heat::service::end']," Keystone_user_role<| name == ""${auth_name}@${tenant}"" |> -> Anchor['heat::service::end'] Keystone_user_role<| name == ""${auth_name}@::::${system_scope}"" |> -> Anchor['heat::service::end'] if $configure_endpoint { Keystone_endpoint[""${region}/${service_name}::${service_type}""] -> Anchor['heat::service::end'] }",2,12
openstack%2Fbarbican~stable%2Fwallaby~Ibcd8cb6fc356e27266ba04cd972834dcd97c1a9b,openstack/barbican,stable/wallaby,Ibcd8cb6fc356e27266ba04cd972834dcd97c1a9b,Add FIPS gate job,MERGED,2022-02-04 21:57:17.000000000,2022-02-07 17:42:54.000000000,2022-02-07 17:36:18.000000000,"[{'_account_id': 7414}, {'_account_id': 7973}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-04 21:57:17.000000000', 'files': ['playbooks/enable-fips.yaml', 'bindep.txt', '.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/barbican/commit/a66d17653c721de93f2e618c5cfbd98f0cb3d5b6', 'message': 'Add FIPS gate job\n\nAdd a new FIPS enabled gate job  This job will be\nfor Centos 8 with FIPS enabled, and will use a playbook in\nzuul-jobs to enable FIPS.\n\nThe dogtag bindep dependencies are curently broken.  Lets\ntemporarily remove them here until we can figure out how to\nfix them and thereby fix the dogtag gate.\n\nChange-Id: Ibcd8cb6fc356e27266ba04cd972834dcd97c1a9b\nDepends-On: https://review.opendev.org/c/zuul/zuul-jobs/+/788778\n(cherry picked from commit 94a45c1ecdaa87791e97bed73d0468f056532570)\n'}]",0,827906,a66d17653c721de93f2e618c5cfbd98f0cb3d5b6,10,3,1,9914,,,0,"Add FIPS gate job

Add a new FIPS enabled gate job  This job will be
for Centos 8 with FIPS enabled, and will use a playbook in
zuul-jobs to enable FIPS.

The dogtag bindep dependencies are curently broken.  Lets
temporarily remove them here until we can figure out how to
fix them and thereby fix the dogtag gate.

Change-Id: Ibcd8cb6fc356e27266ba04cd972834dcd97c1a9b
Depends-On: https://review.opendev.org/c/zuul/zuul-jobs/+/788778
(cherry picked from commit 94a45c1ecdaa87791e97bed73d0468f056532570)
",git fetch https://review.opendev.org/openstack/barbican refs/changes/06/827906/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/enable-fips.yaml', 'bindep.txt', '.zuul.yaml']",3,a66d17653c721de93f2e618c5cfbd98f0cb3d5b6,fips-compatibility, name: barbican-tox-functional-fips nodeset: devstack-single-node-centos-8-stream parent: barbican-tox-functional description: | Functional testing for a FIPS enabled Centos 8 system pre-run: playbooks/enable-fips.yaml - job: - barbican-tox-functional-fips,,19,3
openstack%2Ftripleo-ansible~stable%2Fussuri~If11f21c05a795108d76a3d210e2ebf11d7114c50,openstack/tripleo-ansible,stable/ussuri,If11f21c05a795108d76a3d210e2ebf11d7114c50,Make template ovn_chassis_mac_map backwards-compatible,MERGED,2022-01-31 16:23:17.000000000,2022-02-07 17:40:43.000000000,2022-02-07 17:40:43.000000000,"[{'_account_id': 7353}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-31 16:23:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/408a10e57071da22e4817b39e76c010cd7ca8bf1', 'message': 'Make template ovn_chassis_mac_map backwards-compatible\n\nConflicts:\n  tripleo_ansible/roles/tripleo_hieradata/templates/ovn_chassis_mac_map.j2\n\nChange-Id: If11f21c05a795108d76a3d210e2ebf11d7114c50\n(cherry picked from commit 528888a664d0792b182a890aee5ed9bce6871208)\n'}, {'number': 2, 'created': '2022-02-02 15:08:15.000000000', 'files': ['tripleo_ansible/roles/tripleo_hieradata/templates/ovn_chassis_mac_map.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/36dd9e91ee23d087d8be5e9cc438508487c7a85e', 'message': 'Make template ovn_chassis_mac_map backwards-compatible\n\nConflicts:\n  tripleo_ansible/roles/tripleo_hieradata/templates/ovn_chassis_mac_map.j2\n\nRelated-Bug: #1881593\nChange-Id: If11f21c05a795108d76a3d210e2ebf11d7114c50\n(cherry picked from commit 528888a664d0792b182a890aee5ed9bce6871208)\n'}]",3,827148,36dd9e91ee23d087d8be5e9cc438508487c7a85e,16,2,2,6681,,,0,"Make template ovn_chassis_mac_map backwards-compatible

Conflicts:
  tripleo_ansible/roles/tripleo_hieradata/templates/ovn_chassis_mac_map.j2

Related-Bug: #1881593
Change-Id: If11f21c05a795108d76a3d210e2ebf11d7114c50
(cherry picked from commit 528888a664d0792b182a890aee5ed9bce6871208)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/48/827148/2 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo_hieradata/templates/ovn_chassis_mac_map.j2'],1,408a10e57071da22e4817b39e76c010cd7ca8bf1,bug/1881593,"{% if ovn_bridge_mac_address_vars is defined %} {{ ovn_bridge_mac_address_vars[inventory_hostname] | default({}) | to_nice_json }} {% else %} {% set ovn_chassis_mac_map_data = {} %} {% set _ = ovn_chassis_mac_map_data.__setitem__('ovn_chassis_mac_map', hostvars[inventory_hostname].get('ovn_chassis_mac_map', {})) %} {{ ovn_chassis_mac_map_data | to_nice_json }} {% endif %}",{{ hostvars[inventory_hostname]['ovn_chassis_mac_map'] | default({}) | to_nice_json }},7,1
openstack%2Ftempest~master~I834300ee8d9ee8952284b55f53d97456a1ca6032,openstack/tempest,master,I834300ee8d9ee8952284b55f53d97456a1ca6032,Make stable/ussuri job voting,MERGED,2022-02-06 01:52:09.000000000,2022-02-07 17:36:56.000000000,2022-02-07 17:31:47.000000000,"[{'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2022-02-06 01:52:09.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/tempest/commit/eb1afd539aa1fadbc6aa3bccf87af7cb5e0f0abb', 'message': ""Make stable/ussuri job voting\n\nstable/ussuri job was made non voting due to\nbug#1959467\n\n- https://review.opendev.org/c/openstack/tempest/+/827258\n\nAs bug is fixed now, let's revert it to voting again.\n\nChange-Id: I834300ee8d9ee8952284b55f53d97456a1ca6032\n""}]",2,828020,eb1afd539aa1fadbc6aa3bccf87af7cb5e0f0abb,8,3,1,8556,,,0,"Make stable/ussuri job voting

stable/ussuri job was made non voting due to
bug#1959467

- https://review.opendev.org/c/openstack/tempest/+/827258

As bug is fixed now, let's revert it to voting again.

Change-Id: I834300ee8d9ee8952284b55f53d97456a1ca6032
",git fetch https://review.opendev.org/openstack/tempest refs/changes/20/828020/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,eb1afd539aa1fadbc6aa3bccf87af7cb5e0f0abb,bug/1959467,, voting: false,0,1
openstack%2Fpuppet-placement~master~I9dd7848b0808c1c53c9f82839df60106f7a2e7ae,openstack/puppet-placement,master,I9dd7848b0808c1c53c9f82839df60106f7a2e7ae,Simplify definition to ensure keystone resource creation,MERGED,2022-02-06 15:20:25.000000000,2022-02-07 17:35:22.000000000,2022-02-07 17:35:22.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-06 15:20:25.000000000', 'files': ['manifests/keystone/auth.pp'], 'web_link': 'https://opendev.org/openstack/puppet-placement/commit/d167d51b7cfb42e6595429364ca0d1c4d74cd280', 'message': 'Simplify definition to ensure keystone resource creation\n\nUse the whole resource type instead of its individual resources, to\nrely on interface instead of implementation of the dependent module.\n\nChange-Id: I9dd7848b0808c1c53c9f82839df60106f7a2e7ae\n'}]",0,828048,d167d51b7cfb42e6595429364ca0d1c4d74cd280,7,3,1,9816,,,0,"Simplify definition to ensure keystone resource creation

Use the whole resource type instead of its individual resources, to
rely on interface instead of implementation of the dependent module.

Change-Id: I9dd7848b0808c1c53c9f82839df60106f7a2e7ae
",git fetch https://review.opendev.org/openstack/puppet-placement refs/changes/48/828048/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/keystone/auth.pp'],1,d167d51b7cfb42e6595429364ca0d1c4d74cd280,key-deps, Keystone::Resource::Service_identity['placement'] -> Anchor['placement::service::end']," Keystone_user_role<| name == ""${auth_name}@${tenant}"" |> -> Anchor['barbican::service::end'] Keystone_user_role<| name == ""${auth_name}@::::${system_scope}"" |> -> Anchor['barbican::service::end'] if $configure_endpoint { Keystone_endpoint[""${region}/${service_name}::${service_type}""] -> Anchor['placement::service::end'] }",1,6
openstack%2Fpuppet-nova~master~I2a5b782ee453f59a754660af6a34bc0cdcd60b15,openstack/puppet-nova,master,I2a5b782ee453f59a754660af6a34bc0cdcd60b15,Fix typo causing a warning message,MERGED,2022-02-06 17:05:01.000000000,2022-02-07 17:35:20.000000000,2022-02-07 17:35:20.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-06 17:05:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/c376054e29ff363582804d7b4759ddaa66dbe486', 'message': 'Fix typo causing a warning message\n\nThis is follow up of 3c376bd733bff778002a01fb7b5f0dbc645d0e05 and fixes\none typo included in that commit. Because of this, the following\nwarning is already logged.\n\n(warning): The cross_az_attach parameter is deprecated. \\\nUse nova::cinder::cross_az_attach instead.\n\nChange-Id: I2a5b782ee453f59a754660af6a34bc0cdcd60b15\n'}, {'number': 2, 'created': '2022-02-06 17:05:18.000000000', 'files': ['manifests/init.pp'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/0378d590d310b9fce866c6fde46923dab155de44', 'message': 'Fix typo causing a warning message\n\nThis is follow up of 3c376bd733bff778002a01fb7b5f0dbc645d0e05 and fixes\none typo included in that commit. Because of this, the following\nwarning is always logged.\n\n(warning): The cross_az_attach parameter is deprecated. \\\nUse nova::cinder::cross_az_attach instead.\n\nChange-Id: I2a5b782ee453f59a754660af6a34bc0cdcd60b15\n'}]",0,828057,0378d590d310b9fce866c6fde46923dab155de44,8,3,2,9816,,,0,"Fix typo causing a warning message

This is follow up of 3c376bd733bff778002a01fb7b5f0dbc645d0e05 and fixes
one typo included in that commit. Because of this, the following
warning is always logged.

(warning): The cross_az_attach parameter is deprecated. \
Use nova::cinder::cross_az_attach instead.

Change-Id: I2a5b782ee453f59a754660af6a34bc0cdcd60b15
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/57/828057/2 && git format-patch -1 --stdout FETCH_HEAD,['manifests/init.pp'],1,c376054e29ff363582804d7b4759ddaa66dbe486,, if $cross_az_attach != undef {, if $cross_az_attach != unef {,1,1
openstack%2Fkeystonemiddleware~master~Id05ff8460cfa4f1762f2d0096088bc341e95c1da,openstack/keystonemiddleware,master,Id05ff8460cfa4f1762f2d0096088bc341e95c1da,Update master for stable/victoria,MERGED,2020-09-10 17:06:24.000000000,2022-02-07 17:25:01.000000000,2022-02-07 17:23:18.000000000,"[{'_account_id': 11904}, {'_account_id': 15197}, {'_account_id': 16465}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-09-10 17:06:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/b7290137bea8c29f0714929c7b7d95a40a8b75e4', 'message': 'Update master for stable/victoria\n\nAdd file to the reno documentation build to show release notes for\nstable/victoria.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/victoria.\n\nChange-Id: Id05ff8460cfa4f1762f2d0096088bc341e95c1da\nSem-Ver: feature\n'}, {'number': 2, 'created': '2022-02-07 16:33:09.000000000', 'files': ['releasenotes/source/victoria.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/220914527f97334479cb8bd3d12f1ee002e8bc89', 'message': 'Update master for stable/victoria\n\nAdd file to the reno documentation build to show release notes for\nstable/victoria.\n\nChange-Id: Id05ff8460cfa4f1762f2d0096088bc341e95c1da\n'}]",3,751057,220914527f97334479cb8bd3d12f1ee002e8bc89,19,6,2,22816,,,0,"Update master for stable/victoria

Add file to the reno documentation build to show release notes for
stable/victoria.

Change-Id: Id05ff8460cfa4f1762f2d0096088bc341e95c1da
",git fetch https://review.opendev.org/openstack/keystonemiddleware refs/changes/57/751057/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/victoria.rst', 'releasenotes/source/index.rst']",2,b7290137bea8c29f0714929c7b7d95a40a8b75e4,reno-victoria, victoria,,7,0
openstack%2Fpuppet-nova~master~I67aa61335f635e5cdc3176616d55f6e6002064fa,openstack/puppet-nova,master,I67aa61335f635e5cdc3176616d55f6e6002064fa,Simplify definition to ensure keystone resource creation,MERGED,2022-02-06 14:58:58.000000000,2022-02-07 17:24:30.000000000,2022-02-07 17:24:30.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-06 14:58:58.000000000', 'files': ['manifests/metadata/novajoin/auth.pp', 'manifests/keystone/auth.pp'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/d47a0d7bfbf275b57056039975076df123a7d997', 'message': 'Simplify definition to ensure keystone resource creation\n\nUse the whole resource type instead of its individual resources, to\nrely on interface instead of implementation of the dependent module.\n\nChange-Id: I67aa61335f635e5cdc3176616d55f6e6002064fa\n'}]",0,828033,d47a0d7bfbf275b57056039975076df123a7d997,8,3,1,9816,,,0,"Simplify definition to ensure keystone resource creation

Use the whole resource type instead of its individual resources, to
rely on interface instead of implementation of the dependent module.

Change-Id: I67aa61335f635e5cdc3176616d55f6e6002064fa
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/33/828033/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/metadata/novajoin/auth.pp', 'manifests/keystone/auth.pp']",2,d47a0d7bfbf275b57056039975076df123a7d997,key-deps, Keystone::Resource::Service_identity['nova'] -> Anchor['nova::service::end']," Keystone_user_role<| name == ""${auth_name}@${tenant}"" |> -> Anchor['nova::service::end'] Keystone_user_role<| name == ""${auth_name}@::::${system_scope}"" |> -> Anchor['nova::service::end'] if $configure_endpoint { Keystone_endpoint[""${region}/${service_name}::${service_type}""] -> Anchor['nova::service::end'] }",2,10
openstack%2Fpuppet-keystone~master~I1bacb6a08fe7e04732a870aa46512c21c298f328,openstack/puppet-keystone,master,I1bacb6a08fe7e04732a870aa46512c21c298f328,Clean up deprecated database parameters,MERGED,2022-02-07 07:27:39.000000000,2022-02-07 17:22:49.000000000,2022-02-07 17:21:04.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-07 07:27:39.000000000', 'files': ['manifests/db.pp', 'manifests/init.pp', 'releasenotes/notes/remove-database-params-4bac67a63c54e2fd.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/845eb1c9a1ae492675e299d7f1f6e0287842b1c5', 'message': 'Clean up deprecated database parameters\n\nChange-Id: I1bacb6a08fe7e04732a870aa46512c21c298f328\n'}]",2,828071,845eb1c9a1ae492675e299d7f1f6e0287842b1c5,11,3,1,9816,,,0,"Clean up deprecated database parameters

Change-Id: I1bacb6a08fe7e04732a870aa46512c21c298f328
",git fetch https://review.opendev.org/openstack/puppet-keystone refs/changes/71/828071/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/db.pp', 'manifests/init.pp', 'releasenotes/notes/remove-database-params-4bac67a63c54e2fd.yaml']",3,845eb1c9a1ae492675e299d7f1f6e0287842b1c5,cleanup-db-params,--- features: - | The following parameters of the ``keystone`` class has been removed. - ``database_connection`` - ``database_idle_timeout`` - ``database_max_overflow`` - ``database_max_pool_size`` - ``database_max_retries`` - ``database_retry_interval`` ,,17,78
openstack%2Fpuppet-sahara~master~I0c799a1469493f4d6d581195d10411322116b386,openstack/puppet-sahara,master,I0c799a1469493f4d6d581195d10411322116b386,Clean up deprecated database parameters,MERGED,2022-02-07 07:39:34.000000000,2022-02-07 17:20:23.000000000,2022-02-07 17:18:23.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-07 07:39:34.000000000', 'files': ['releasenotes/notes/remove-database-params-238483b0f8acddd7.yaml', 'manifests/db.pp', 'manifests/init.pp'], 'web_link': 'https://opendev.org/openstack/puppet-sahara/commit/846dc297b84c1490150a1b0f0144fff22d7c6bbd', 'message': 'Clean up deprecated database parameters\n\nChange-Id: I0c799a1469493f4d6d581195d10411322116b386\n'}]",0,828075,846dc297b84c1490150a1b0f0144fff22d7c6bbd,8,3,1,9816,,,0,"Clean up deprecated database parameters

Change-Id: I0c799a1469493f4d6d581195d10411322116b386
",git fetch https://review.opendev.org/openstack/puppet-sahara refs/changes/75/828075/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/remove-database-params-238483b0f8acddd7.yaml', 'manifests/db.pp', 'manifests/init.pp']",3,846dc297b84c1490150a1b0f0144fff22d7c6bbd,cleanup-db-params,,"# [*database_min_pool_size*] # (optional) Minimum number of SQL connections to keep open in a pool. # Defaults to undef. # # [*database_connection*] # (Optional) Non-sqllite database for sahara # Defaults to undef. # # [*database_max_retries*] # (Optional) Maximum number of database connection retries during startup. # Set to -1 to specify an infinite retry count. # Defaults to undef. # # [*database_idle_timeout*] # (Optional) Timeout before idle SQL connections are reaped. # Defaults to undef. # # [*database_retry_interval*] # (optional) Interval between retries of opening a database connection. # Defaults to undef. # # [*database_max_pool_size*] # (optional) Maximum number of SQL connections to keep open in a pool. # Defaults to undef. # # [*database_max_overflow*] # (optional) If set, use this value for max_overflow with sqlalchemy. # Defaults to undef. # $database_min_pool_size = undef, $database_connection = undef, $database_idle_timeout = undef, $database_max_pool_size = undef, $database_max_retries = undef, $database_retry_interval = undef, $database_max_overflow = undef, if $database_connection != undef { warning('The database_connection parameter is deprecated and will be \ removed in a future realse. Use sahara::db::database_connection instead') } if $database_idle_timeout != undef { warning('The database_idle_timeout parameter is deprecated and will be \ removed in a future realse. Use sahara::db::database_connection_recycle_time \ instead') } if $database_max_pool_size != undef { warning('The database_max_pool_size parameter is deprecated and will be \ removed in a future realse. Use sahara::db::database_max_pool_size instead') } if $database_max_retries!= undef { warning('The database_max_retries parameter is deprecated and will be \ removed in a future realse. Use sahara::db::database_max_retries instead') } if $database_retry_interval != undef { warning('The database_retry_interval parameter is deprecated and will be \ removed in a future realse. Use sahara::db::database_retry_interval instead') } if $database_max_overflow != undef { warning('The database_max_overflow parameter is deprecated and will be \ removed in a future realse. Use sahara::db::database_max_overflow instead') } ",22,94
openstack%2Fpuppet-sahara~master~I7837827dc6adec5e89d7061689e326a4499389c8,openstack/puppet-sahara,master,I7837827dc6adec5e89d7061689e326a4499389c8,Ensure keystone resources are created during service startup,MERGED,2022-02-06 15:21:22.000000000,2022-02-07 17:18:21.000000000,2022-02-07 17:18:21.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-06 15:21:22.000000000', 'files': ['manifests/keystone/auth.pp'], 'web_link': 'https://opendev.org/openstack/puppet-sahara/commit/faaa76198238f3b4fcb73efd273bb6c7e3a459f1', 'message': 'Ensure keystone resources are created during service startup\n\nThis change ensures keystone resources like the mistral service user\nare created before completing service setup, so that we can use\nthe service::end anchor to ensure Sahara service is fully available.\n\nChange-Id: I7837827dc6adec5e89d7061689e326a4499389c8\n'}]",0,828049,faaa76198238f3b4fcb73efd273bb6c7e3a459f1,7,3,1,9816,,,0,"Ensure keystone resources are created during service startup

This change ensures keystone resources like the mistral service user
are created before completing service setup, so that we can use
the service::end anchor to ensure Sahara service is fully available.

Change-Id: I7837827dc6adec5e89d7061689e326a4499389c8
",git fetch https://review.opendev.org/openstack/puppet-sahara refs/changes/49/828049/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/keystone/auth.pp'],1,faaa76198238f3b4fcb73efd273bb6c7e3a459f1,key-deps, Keystone::Resource::Service_identity['sahara'] -> Anchor['sahara::service::end'] ,,2,0
openstack%2Fpuppet-openstack_extras~stable%2Fussuri~I66bbc9c84a309da451748734f23f43d4f4277cc1,openstack/puppet-openstack_extras,stable/ussuri,I66bbc9c84a309da451748734f23f43d4f4277cc1,Add stream parameter to openstack_extras::repo::redhat::redhat,MERGED,2022-02-04 12:53:31.000000000,2022-02-07 17:17:42.000000000,2022-02-07 17:10:27.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-04 12:53:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack_extras/commit/5c68744f301ac6f358c827f140808655f1bc5e98', 'message': 'Add stream parameter to openstack_extras::repo::redhat::redhat\n\nChange-Id: I66bbc9c84a309da451748734f23f43d4f4277cc1\n(cherry picked from commit 3ecddc59263d1d5263e4d977523fd58860145afc)\n(cherry picked from commit 248294304a73b78df200dcb2ac4eec631ee6cbaa)\n(cherry picked from commit e44d8698db42c1b539bba9af2e75ef6977fde79f)\n'}, {'number': 2, 'created': '2022-02-04 12:56:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack_extras/commit/3e9408784339f8646cc6c8b9e2a3c55cbe974e60', 'message': 'Add stream parameter to openstack_extras::repo::redhat::redhat\n\nChange-Id: I66bbc9c84a309da451748734f23f43d4f4277cc1\n(cherry picked from commit 3ecddc59263d1d5263e4d977523fd58860145afc)\n(cherry picked from commit 248294304a73b78df200dcb2ac4eec631ee6cbaa)\n(cherry picked from commit e44d8698db42c1b539bba9af2e75ef6977fde79f)\n'}, {'number': 3, 'created': '2022-02-04 13:46:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack_extras/commit/fd3bea0db342af47a6ab4f2dad860b5b7c1e740d', 'message': 'Add stream parameter to openstack_extras::repo::redhat::redhat\n\nBackport note:\nFixed the release version used in unit tests.\n\nChange-Id: I66bbc9c84a309da451748734f23f43d4f4277cc1\n(cherry picked from commit 3ecddc59263d1d5263e4d977523fd58860145afc)\n(cherry picked from commit 248294304a73b78df200dcb2ac4eec631ee6cbaa)\n(cherry picked from commit e44d8698db42c1b539bba9af2e75ef6977fde79f)\n'}, {'number': 4, 'created': '2022-02-05 08:58:37.000000000', 'files': ['releasenotes/notes/add-redhat-repo-stream-param-e07601e273aad56c.yaml', 'manifests/repo/redhat/redhat.pp', 'spec/classes/openstack_extras_repo_redhat_redhat_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-openstack_extras/commit/f5dde77810fd465b4b70e370c3a2c632147239bf', 'message': 'Add stream parameter to openstack_extras::repo::redhat::redhat\n\nBackport note:\nFixed the release version used in unit tests.\n\nChange-Id: I66bbc9c84a309da451748734f23f43d4f4277cc1\n(cherry picked from commit 3ecddc59263d1d5263e4d977523fd58860145afc)\n(cherry picked from commit 248294304a73b78df200dcb2ac4eec631ee6cbaa)\n(cherry picked from commit e44d8698db42c1b539bba9af2e75ef6977fde79f)\n'}]",0,827853,f5dde77810fd465b4b70e370c3a2c632147239bf,13,3,4,9816,,,0,"Add stream parameter to openstack_extras::repo::redhat::redhat

Backport note:
Fixed the release version used in unit tests.

Change-Id: I66bbc9c84a309da451748734f23f43d4f4277cc1
(cherry picked from commit 3ecddc59263d1d5263e4d977523fd58860145afc)
(cherry picked from commit 248294304a73b78df200dcb2ac4eec631ee6cbaa)
(cherry picked from commit e44d8698db42c1b539bba9af2e75ef6977fde79f)
",git fetch https://review.opendev.org/openstack/puppet-openstack_extras refs/changes/53/827853/4 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/add-redhat-repo-stream-param-e07601e273aad56c.yaml', 'manifests/repo/redhat/redhat.pp', 'spec/classes/openstack_extras_repo_redhat_redhat_spec.rb']",3,5c68744f301ac6f358c827f140808655f1bc5e98,," context 'with major release 8 and stream set to true' do let :params do default_params.merge!( :stream => true ) end before do facts.merge!( :os => {'release' => {'major' => 8}} ) end it { should contain_yumrepo('rdo-release').with( :baseurl => ""http://mirror.centos.org/centos/8-stream/cloud/$basearch/openstack-victoria/"", )} it { should contain_yumrepo('rdo-qemu-ev').with( :baseurl => ""http://mirror.centos.org/centos/8-stream/virt/$basearch/advancedvirt-common/"", )} end ",,40,4
openstack%2Fpuppet-glance~master~Iec6917c4ca352f7b8d18a3c823768a9599b86109,openstack/puppet-glance,master,Iec6917c4ca352f7b8d18a3c823768a9599b86109,Simplify definition to ensure keystone resource creation,MERGED,2022-02-06 15:05:26.000000000,2022-02-07 17:10:37.000000000,2022-02-07 17:10:37.000000000,"[{'_account_id': 16137}, {'_account_id': 21129}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-06 15:05:26.000000000', 'files': ['manifests/keystone/auth.pp'], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/a221b7291830a1cbcf80523070ea2a1638842e31', 'message': 'Simplify definition to ensure keystone resource creation\n\nUse the whole resource type instead of its individual resources, to\nrely on interface instead of implementation of the dependent module.\n\nChange-Id: Iec6917c4ca352f7b8d18a3c823768a9599b86109\n'}]",1,828039,a221b7291830a1cbcf80523070ea2a1638842e31,10,3,1,9816,,,0,"Simplify definition to ensure keystone resource creation

Use the whole resource type instead of its individual resources, to
rely on interface instead of implementation of the dependent module.

Change-Id: Iec6917c4ca352f7b8d18a3c823768a9599b86109
",git fetch https://review.opendev.org/openstack/puppet-glance refs/changes/39/828039/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/keystone/auth.pp'],1,a221b7291830a1cbcf80523070ea2a1638842e31,key-deps, Keystone::Resource::Service_identity['glance'] -> Anchor['glance::service::end']," Keystone_user_role<| name == ""${auth_name}@${tenant}"" |> -> Anchor['glance::service::end'] Keystone_user_role<| name == ""${auth_name}@::::${system_scope}"" |> -> Anchor['glance::service::end'] if $configure_endpoint { Keystone_endpoint[""${region}/${service_name}::${service_type}""] -> Anchor['glance::service::end'] }",1,6
openstack%2Fpuppet-openstack_extras~stable%2Fussuri~I91c4890e40c12c740db543af5749db1e73bf26fc,openstack/puppet-openstack_extras,stable/ussuri,I91c4890e40c12c740db543af5749db1e73bf26fc,Disable integration/beaker job,MERGED,2022-02-04 12:56:43.000000000,2022-02-07 17:10:25.000000000,2022-02-07 17:10:25.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-04 12:56:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack_extras/commit/846ad5098698b59d257eca3f074ffad2ec023aa8', 'message': 'Disable integration/litmus job\n\n... until we get p-o-i fixed.\n\nChange-Id: I91c4890e40c12c740db543af5749db1e73bf26fc\n'}, {'number': 2, 'created': '2022-02-05 08:58:27.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-openstack_extras/commit/9cb16d1c9fdd0c31eaa16df29c4249d7768ef516', 'message': 'Disable integration/beaker job\n\n... until we get p-o-i fixed.\n\nChange-Id: I91c4890e40c12c740db543af5749db1e73bf26fc\n'}]",2,827854,9cb16d1c9fdd0c31eaa16df29c4249d7768ef516,13,4,2,9816,,,0,"Disable integration/beaker job

... until we get p-o-i fixed.

Change-Id: I91c4890e40c12c740db543af5749db1e73bf26fc
",git fetch https://review.opendev.org/openstack/puppet-openstack_extras refs/changes/54/827854/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,846ad5098698b59d257eca3f074ffad2ec023aa8,, #- puppet-openstack-integration-jobs-all #- puppet-openstack-beaker-jobs, - puppet-openstack-integration-jobs-all - puppet-openstack-beaker-jobs,2,2
openstack%2Fpuppet-openstack_extras~stable%2Fwallaby~I5f46cb0fad7cc036231bf2d97649114a98238c23,openstack/puppet-openstack_extras,stable/wallaby,I5f46cb0fad7cc036231bf2d97649114a98238c23,Wallaby-only: Use stable/wallaby release by default,MERGED,2022-02-05 16:14:21.000000000,2022-02-07 17:10:23.000000000,2022-02-07 17:10:23.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-05 16:14:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack_extras/commit/9ac4687ffa038d4b65db4a44c0cb22490df6d982', 'message': 'Wallaby: Switch to stable/wallaby\n\nChange-Id: I5f46cb0fad7cc036231bf2d97649114a98238c23\n'}, {'number': 2, 'created': '2022-02-05 16:15:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack_extras/commit/b5f898a606584f5d74d8d68b4ff7efb0cc2a76f4', 'message': 'Wallaby: Switch to stable/wallaby\n\nChange-Id: I5f46cb0fad7cc036231bf2d97649114a98238c23\n'}, {'number': 3, 'created': '2022-02-05 16:16:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack_extras/commit/3db0fe94d5dc411deb629636136ae39bfd4eb1cf', 'message': 'Wallaby-only: Switch to wallaby release repo\n\nChange-Id: I5f46cb0fad7cc036231bf2d97649114a98238c23\n'}, {'number': 4, 'created': '2022-02-05 16:21:48.000000000', 'files': ['manifests/repo/redhat/params.pp', 'spec/classes/openstack_extras_repo_debian_debian_spec.rb', 'spec/classes/openstack_extras_repo_debian_ubuntu_spec.rb', 'manifests/repo/debian/params.pp', 'spec/classes/openstack_extras_repo_redhat_redhat_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-openstack_extras/commit/360fe51a0189b2fcee13c781caa09970496eed9c', 'message': 'Wallaby-only: Use stable/wallaby release by default\n\nChange-Id: I5f46cb0fad7cc036231bf2d97649114a98238c23\n'}]",0,827978,360fe51a0189b2fcee13c781caa09970496eed9c,11,3,4,9816,,,0,"Wallaby-only: Use stable/wallaby release by default

Change-Id: I5f46cb0fad7cc036231bf2d97649114a98238c23
",git fetch https://review.opendev.org/openstack/puppet-openstack_extras refs/changes/78/827978/4 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/repo/redhat/params.pp', 'spec/classes/openstack_extras_repo_debian_debian_spec.rb', 'spec/classes/openstack_extras_repo_redhat_redhat_spec.rb']",3,9ac4687ffa038d4b65db4a44c0cb22490df6d982,default-release," :release => 'wallaby', :baseurl => ""http://mirror.centos.org/centos/7/cloud/$basearch/openstack-wallaby/"", :descr => 'OpenStack Wallaby Repository', :baseurl => ""http://mirror.centos.org/centos/8-stream/cloud/$basearch/openstack-wallaby/"", :baseurl => ""http://mirror.dfw.rax.openstack.org/centos/7/cloud/\$basearch/openstack-wallaby/"", :descr => 'OpenStack Wallaby Repository',"," :release => 'victoria', :baseurl => ""http://mirror.centos.org/centos/7/cloud/$basearch/openstack-victoria/"", :descr => 'OpenStack Victoria Repository', :baseurl => ""http://mirror.centos.org/centos/8-stream/cloud/$basearch/openstack-victoria/"", :baseurl => ""http://mirror.dfw.rax.openstack.org/centos/7/cloud/\$basearch/openstack-victoria/"", :descr => 'OpenStack Victoria Repository',",12,12
openstack%2Fpuppet-openstack_extras~master~I29d6a3043260a3258266b87ca50bcc90befb42ee,openstack/puppet-openstack_extras,master,I29d6a3043260a3258266b87ca50bcc90befb42ee,Use stable/xena release by default,MERGED,2022-02-05 16:23:23.000000000,2022-02-07 17:10:21.000000000,2022-02-07 17:10:21.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-05 16:23:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack_extras/commit/49013a46bb130f5d47a91caec5f0c1266543edee', 'message': 'Use stable/xena release by default\n\n... instead of old stable/victoria. This should be updated before\nYoga release cutoff.\n\nChange-Id: I29d6a3043260a3258266b87ca50bcc90befb42ee\n'}, {'number': 2, 'created': '2022-02-05 16:23:46.000000000', 'files': ['manifests/repo/redhat/params.pp', 'spec/classes/openstack_extras_repo_debian_debian_spec.rb', 'spec/classes/openstack_extras_repo_debian_ubuntu_spec.rb', 'manifests/repo/debian/params.pp', 'spec/classes/openstack_extras_repo_redhat_redhat_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-openstack_extras/commit/0271adfc05738c34ae148c28ae98b14828c85c81', 'message': 'Use stable/xena release by default\n\n... instead of old stable/victoria.\n\nChange-Id: I29d6a3043260a3258266b87ca50bcc90befb42ee\n'}]",0,827981,0271adfc05738c34ae148c28ae98b14828c85c81,9,3,2,9816,,,0,"Use stable/xena release by default

... instead of old stable/victoria.

Change-Id: I29d6a3043260a3258266b87ca50bcc90befb42ee
",git fetch https://review.opendev.org/openstack/puppet-openstack_extras refs/changes/81/827981/2 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/repo/redhat/params.pp', 'spec/classes/openstack_extras_repo_debian_debian_spec.rb', 'manifests/repo/debian/params.pp', 'spec/classes/openstack_extras_repo_debian_ubuntu_spec.rb', 'spec/classes/openstack_extras_repo_redhat_redhat_spec.rb']",5,49013a46bb130f5d47a91caec5f0c1266543edee,default-release," :baseurl => ""http://mirror.centos.org/centos/#{facts[:operatingsystemmajrelease]}-stream/cloud/$basearch/openstack-xena/"", :descr => ""OpenStack Xena Repository"", :baseurl => ""http://mirror.centos.org/centos/#{facts[:operatingsystemmajrelease]}/cloud/\$basearch/openstack-xena/"", :baseurl => ""http://foo.bar/centos/#{facts[:operatingsystemmajrelease]}-stream/cloud/\$basearch/openstack-xena/"","," :baseurl => ""http://mirror.centos.org/centos/#{facts[:operatingsystemmajrelease]}-stream/cloud/$basearch/openstack-victoria/"", :descr => ""OpenStack Victoria Repository"", :baseurl => ""http://mirror.centos.org/centos/#{facts[:operatingsystemmajrelease]}/cloud/\$basearch/openstack-victoria/"", :baseurl => ""http://foo.bar/centos/#{facts[:operatingsystemmajrelease]}-stream/cloud/\$basearch/openstack-victoria/"",",16,16
openstack%2Fpuppet-ec2api~master~Ib493021ea91d6dd131d4e506735eb611444f5fef,openstack/puppet-ec2api,master,Ib493021ea91d6dd131d4e506735eb611444f5fef,Simplify definition to ensure keystone resource creation,MERGED,2022-02-06 15:04:44.000000000,2022-02-07 17:08:39.000000000,2022-02-07 17:08:39.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-06 15:04:44.000000000', 'files': ['manifests/keystone/auth.pp'], 'web_link': 'https://opendev.org/openstack/puppet-ec2api/commit/a0c29e242028478622bd72f78deac5d41f20b06d', 'message': 'Simplify definition to ensure keystone resource creation\n\nUse the whole resource type instead of its individual resources, to\nrely on interface instead of implementation of the dependent module.\n\nChange-Id: Ib493021ea91d6dd131d4e506735eb611444f5fef\n'}]",0,828038,a0c29e242028478622bd72f78deac5d41f20b06d,7,3,1,9816,,,0,"Simplify definition to ensure keystone resource creation

Use the whole resource type instead of its individual resources, to
rely on interface instead of implementation of the dependent module.

Change-Id: Ib493021ea91d6dd131d4e506735eb611444f5fef
",git fetch https://review.opendev.org/openstack/puppet-ec2api refs/changes/38/828038/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/keystone/auth.pp'],1,a0c29e242028478622bd72f78deac5d41f20b06d,key-deps, Keystone::Resource::Service_identity['ec2api'] -> Anchor['ec2api::service::end']," if $configure_user_role { Keystone_user_role[""${auth_name}@${tenant}""] ~> Anchor['ec2api::service::end'] } if $configure_endpoint { Keystone_endpoint[""${region}/${real_service_name}::${service_type}""] ~> Anchor['ec2api::service::end'] }",1,8
openstack%2Fcloudkitty-tempest-plugin~master~Ied9ee5d61f7fb8a37a9718f6eed9e04bad80026b,openstack/cloudkitty-tempest-plugin,master,Ied9ee5d61f7fb8a37a9718f6eed9e04bad80026b,Update python testing classifier,MERGED,2021-12-21 10:48:25.000000000,2022-02-07 17:06:29.000000000,2022-02-07 17:06:29.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 28356}, {'_account_id': 29313}, {'_account_id': 32238}]","[{'number': 1, 'created': '2021-12-21 10:48:25.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/cloudkitty-tempest-plugin/commit/74e213315b6954542af3cfcc71225bf32d4b6bc6', 'message': 'Update python testing classifier\n\nYoga testing runtime[1] has been updated to add py39\ntesting as voting. Unit tests update are handled by the\njob template change in openstack-zuul-job\n\n- https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/820286\n\nthis commit updates the classifier in setup.cfg file.\n\n[1] https://governance.openstack.org/tc/reference/runtimes/yoga.html\n\nChange-Id: Ied9ee5d61f7fb8a37a9718f6eed9e04bad80026b\n'}]",2,822475,74e213315b6954542af3cfcc71225bf32d4b6bc6,15,5,1,31412,,,0,"Update python testing classifier

Yoga testing runtime[1] has been updated to add py39
testing as voting. Unit tests update are handled by the
job template change in openstack-zuul-job

- https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/820286

this commit updates the classifier in setup.cfg file.

[1] https://governance.openstack.org/tc/reference/runtimes/yoga.html

Change-Id: Ied9ee5d61f7fb8a37a9718f6eed9e04bad80026b
",git fetch https://review.opendev.org/openstack/cloudkitty-tempest-plugin refs/changes/75/822475/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,74e213315b6954542af3cfcc71225bf32d4b6bc6,, Programming Language :: Python :: 3.9,,1,0
openstack%2Fpuppet-zaqar~master~I5989b330cd55328510cc1bb20b6c00eeac18353b,openstack/puppet-zaqar,master,I5989b330cd55328510cc1bb20b6c00eeac18353b,Ensure keystone resources are created during service startup,MERGED,2022-02-06 15:25:31.000000000,2022-02-07 17:05:20.000000000,2022-02-07 17:05:20.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-06 15:25:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-zaqar/commit/1322daea6ce7308252bfe06d9c927e494b4f4880', 'message': 'Ensure keystone resources are created during service startup\n\nThis change ensures keystone resources like the mistral service user\nare created before completing service setup, so that we can use\nthe service::end anchor to ensure Zaqar service is fully available.\n\nChange-Id: I5989b330cd55328510cc1bb20b6c00eeac18353b\n'}, {'number': 2, 'created': '2022-02-06 15:26:21.000000000', 'files': ['manifests/keystone/auth_websocket.pp', 'manifests/keystone/auth.pp'], 'web_link': 'https://opendev.org/openstack/puppet-zaqar/commit/f92eb3478597deeb0ce5e6da466e7025a65711eb', 'message': 'Ensure keystone resources are created during service startup\n\nThis change ensures keystone resources like the mistral service user\nare created before completing service setup, so that we can use\nthe service::end anchor to ensure Zaqar service is fully available.\n\nChange-Id: I5989b330cd55328510cc1bb20b6c00eeac18353b\n'}]",0,828054,f92eb3478597deeb0ce5e6da466e7025a65711eb,8,3,2,9816,,,0,"Ensure keystone resources are created during service startup

This change ensures keystone resources like the mistral service user
are created before completing service setup, so that we can use
the service::end anchor to ensure Zaqar service is fully available.

Change-Id: I5989b330cd55328510cc1bb20b6c00eeac18353b
",git fetch https://review.opendev.org/openstack/puppet-zaqar refs/changes/54/828054/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/keystone/auth.pp'],1,1322daea6ce7308252bfe06d9c927e494b4f4880,key-deps, Keystone::Resource::Service_identity['zaqar'] -> Anchor['zaqar::service::end'] ,,2,0
openstack%2Fpuppet-trove~master~Ida8de2bfea71a3c783f4b0e4503f284e0b89aeec,openstack/puppet-trove,master,Ida8de2bfea71a3c783f4b0e4503f284e0b89aeec,Simplify definition to ensure keystone resource creation,MERGED,2022-02-06 15:22:57.000000000,2022-02-07 17:01:56.000000000,2022-02-07 17:01:56.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-06 15:22:57.000000000', 'files': ['manifests/keystone/auth.pp'], 'web_link': 'https://opendev.org/openstack/puppet-trove/commit/69eb2582c16733f1d796af284cc9c326b6d2c6af', 'message': 'Simplify definition to ensure keystone resource creation\n\nUse the whole resource type instead of its individual resources, to\nrely on interface instead of implementation of the dependent module.\n\nChange-Id: Ida8de2bfea71a3c783f4b0e4503f284e0b89aeec\n'}]",0,828051,69eb2582c16733f1d796af284cc9c326b6d2c6af,7,3,1,9816,,,0,"Simplify definition to ensure keystone resource creation

Use the whole resource type instead of its individual resources, to
rely on interface instead of implementation of the dependent module.

Change-Id: Ida8de2bfea71a3c783f4b0e4503f284e0b89aeec
",git fetch https://review.opendev.org/openstack/puppet-trove refs/changes/51/828051/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/keystone/auth.pp'],1,69eb2582c16733f1d796af284cc9c326b6d2c6af,key-deps, Keystone::Resource::Service_identity['trove'] -> Anchor['trove::service::end']," Keystone_user_role[""${auth_name}@${tenant}""] ~> Service <| tag == 'trove-service' |> Keystone_endpoint<| title == ""${region}/${service_name}::${service_type}"" |> ~> Service <| tag == 'trove-service' |>",1,4
openstack%2Fpuppet-manila~master~Iad736721337d46147a37ad3e7ee223867a796128,openstack/puppet-manila,master,Iad736721337d46147a37ad3e7ee223867a796128,Clean up deprecated database parameters,MERGED,2022-02-07 07:36:14.000000000,2022-02-07 17:00:52.000000000,2022-02-07 16:55:56.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 21129}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-07 07:36:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-manila/commit/568d054d05e4f314beb96a2aa486377d2a5d9fba', 'message': 'Clean up deprecated database parameters\n\nChange-Id: Iad736721337d46147a37ad3e7ee223867a796128\n'}, {'number': 2, 'created': '2022-02-07 10:44:43.000000000', 'files': ['spec/acceptance/basic_manila_spec.rb', 'manifests/db.pp', 'manifests/init.pp', 'releasenotes/notes/remove-database-params-f0640bd1c0cb8ceb.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-manila/commit/3224797a87f3e905bfab6030bfef6b450bc019a4', 'message': 'Clean up deprecated database parameters\n\nChange-Id: Iad736721337d46147a37ad3e7ee223867a796128\n'}]",1,828074,3224797a87f3e905bfab6030bfef6b450bc019a4,13,4,2,9816,,,0,"Clean up deprecated database parameters

Change-Id: Iad736721337d46147a37ad3e7ee223867a796128
",git fetch https://review.opendev.org/openstack/puppet-manila refs/changes/74/828074/2 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/db.pp', 'manifests/init.pp', 'releasenotes/notes/remove-database-params-f0640bd1c0cb8ceb.yaml']",3,568d054d05e4f314beb96a2aa486377d2a5d9fba,cleanup-db-params,--- upgrade: - | The following parameters of the ``manila`` class has been removed. - ``database_min_pool_size`` - ``sql_connection`` - ``sql_idle_timeout`` - ``database_max_overflow`` - ``database_max_pool_size`` - ``database_max_retries`` - ``database_retry_interval`` - | The ``database_min_pool_size`` parameter of the ``manila::db`` class has been removed. ,,22,94
openstack%2Fpuppet-gnocchi~master~Iaa635579908ded39130305170ac3f8feaef2d9ed,openstack/puppet-gnocchi,master,Iaa635579908ded39130305170ac3f8feaef2d9ed,Simplify definition to ensure keystone resource creation,MERGED,2022-02-06 15:07:43.000000000,2022-02-07 16:59:46.000000000,2022-02-07 16:59:46.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-06 15:07:43.000000000', 'files': ['manifests/keystone/auth.pp'], 'web_link': 'https://opendev.org/openstack/puppet-gnocchi/commit/e5edd14ed1a9dcaed7e93fab1e11d9b17fdeca50', 'message': 'Simplify definition to ensure keystone resource creation\n\nUse the whole resource type instead of its individual resources, to\nrely on interface instead of implementation of the dependent module.\n\nChange-Id: Iaa635579908ded39130305170ac3f8feaef2d9ed\n'}]",1,828040,e5edd14ed1a9dcaed7e93fab1e11d9b17fdeca50,9,3,1,9816,,,0,"Simplify definition to ensure keystone resource creation

Use the whole resource type instead of its individual resources, to
rely on interface instead of implementation of the dependent module.

Change-Id: Iaa635579908ded39130305170ac3f8feaef2d9ed
",git fetch https://review.opendev.org/openstack/puppet-gnocchi refs/changes/40/828040/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/keystone/auth.pp'],1,e5edd14ed1a9dcaed7e93fab1e11d9b17fdeca50,key-deps, Keystone::Resource::Service_identity['gnocchi'] -> Anchor['gnocchi::service::end']," Keystone_user_role<| name == ""${auth_name}@${tenant}"" |> -> Anchor['gnocchi::service::end'] Keystone_user_role<| name == ""${auth_name}@::::${system_scope}"" |> -> Anchor['gnocchi::service::end'] if $configure_endpoint { Keystone_endpoint[""${region}/${service_name}::${service_type}""] -> Anchor['gnocchi::service::end'] }",1,6
openstack%2Fpuppet-cinder~master~I0900b756cb8cef92c5d451d9cce7ef8da4a0d7a4,openstack/puppet-cinder,master,I0900b756cb8cef92c5d451d9cce7ef8da4a0d7a4,Simplify definition to ensure keystone resource creation,MERGED,2022-02-06 15:01:12.000000000,2022-02-07 16:58:53.000000000,2022-02-07 16:58:53.000000000,"[{'_account_id': 16137}, {'_account_id': 21129}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-06 15:01:12.000000000', 'files': ['manifests/keystone/auth.pp'], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/574fbdbe45fcb8567ad9fee8a02b30462aa4c7b6', 'message': 'Simplify definition to ensure keystone resource creation\n\nUse the whole resource type instead of its individual resources, to\nrely on interface instead of implementation of the dependent module.\n\nChange-Id: I0900b756cb8cef92c5d451d9cce7ef8da4a0d7a4\n'}]",0,828034,574fbdbe45fcb8567ad9fee8a02b30462aa4c7b6,7,3,1,9816,,,0,"Simplify definition to ensure keystone resource creation

Use the whole resource type instead of its individual resources, to
rely on interface instead of implementation of the dependent module.

Change-Id: I0900b756cb8cef92c5d451d9cce7ef8da4a0d7a4
",git fetch https://review.opendev.org/openstack/puppet-cinder refs/changes/34/828034/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/keystone/auth.pp'],1,574fbdbe45fcb8567ad9fee8a02b30462aa4c7b6,key-deps, Keystone::Resource::Service_identity['cinder'] -> Anchor['cinder::service::end'] Keystone::Resource::Service_identity['cinderv3'] -> Anchor['cinder::service::end']," Keystone_user_role<| name == ""${auth_name}@${tenant}"" |> -> Anchor['cinder::service::end'] Keystone_user_role<| name == ""${auth_name}@::::${system_scope}"" |> -> Anchor['cinder::service::end'] if $configure_endpoint_v3 { Keystone_endpoint[""${region}/${service_name_v3}::${service_type_v3}""] -> Anchor['cinder::service::end'] }",2,6
openstack%2Fpuppet-manila~master~I6d29d4f82463067068e8e353a924495533107f28,openstack/puppet-manila,master,I6d29d4f82463067068e8e353a924495533107f28,Remove integration job,MERGED,2022-02-07 09:35:52.000000000,2022-02-07 16:55:59.000000000,2022-02-07 16:55:59.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 21129}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-07 09:35:52.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-manila/commit/b7b2ef06cb1ed4a8127a7e4605998ab103d327b5', 'message': 'Remove integration job\n\n... because Manila is not enabled in any scenarios at this moment.\n\nChange-Id: I6d29d4f82463067068e8e353a924495533107f28\n'}]",0,828094,b7b2ef06cb1ed4a8127a7e4605998ab103d327b5,8,4,1,9816,,,0,"Remove integration job

... because Manila is not enabled in any scenarios at this moment.

Change-Id: I6d29d4f82463067068e8e353a924495533107f28
",git fetch https://review.opendev.org/openstack/puppet-manila refs/changes/94/828094/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,b7b2ef06cb1ed4a8127a7e4605998ab103d327b5,,, - puppet-openstack-integration-jobs-scenario004,0,1
openstack%2Fpuppet-designate~master~If969163b4b1df813341569ca7c626a35253cefd5,openstack/puppet-designate,master,If969163b4b1df813341569ca7c626a35253cefd5,Simplify definition to ensure keystone resource creation,MERGED,2022-02-06 15:03:54.000000000,2022-02-07 16:53:52.000000000,2022-02-07 16:53:52.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-06 15:03:54.000000000', 'files': ['manifests/keystone/auth.pp'], 'web_link': 'https://opendev.org/openstack/puppet-designate/commit/19149dda5db9c5091cc109ad86cb360cd2e1987f', 'message': 'Simplify definition to ensure keystone resource creation\n\nUse the whole resource type instead of its individual resources, to\nrely on interface instead of implementation of the dependent module.\n\nChange-Id: If969163b4b1df813341569ca7c626a35253cefd5\n'}]",0,828037,19149dda5db9c5091cc109ad86cb360cd2e1987f,7,3,1,9816,,,0,"Simplify definition to ensure keystone resource creation

Use the whole resource type instead of its individual resources, to
rely on interface instead of implementation of the dependent module.

Change-Id: If969163b4b1df813341569ca7c626a35253cefd5
",git fetch https://review.opendev.org/openstack/puppet-designate refs/changes/37/828037/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/keystone/auth.pp'],1,19149dda5db9c5091cc109ad86cb360cd2e1987f,key-deps, Keystone::Resource::Service_identity['designate'] -> Anchor['designate::service::end']," Keystone_user_role<| name == ""${auth_name}@${tenant}"" |> -> Anchor['designate::service::end'] Keystone_user_role<| name == ""${auth_name}@::::${system_scope}"" |> -> Anchor['designate::service::end'] if $configure_endpoint { Keystone_endpoint[""${region}/${service_name}::${service_type}""] -> Anchor['designate::service::end'] }",1,6
openstack%2Fpuppet-mistral~master~I074bdda1edca71b623852df25441fa255f2aa898,openstack/puppet-mistral,master,I074bdda1edca71b623852df25441fa255f2aa898,Clean up deprecated database parameters,MERGED,2022-02-07 02:59:12.000000000,2022-02-07 16:48:27.000000000,2022-02-07 16:46:33.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-07 02:59:12.000000000', 'files': ['releasenotes/notes/remove-database-params-8bf2195a6f15a3f5.yaml', 'manifests/db.pp', 'manifests/init.pp'], 'web_link': 'https://opendev.org/openstack/puppet-mistral/commit/fd77f30dde51fc4ea7ed51d57d0c9640fac78527', 'message': 'Clean up deprecated database parameters\n\nChange-Id: I074bdda1edca71b623852df25441fa255f2aa898\n'}]",0,828065,fd77f30dde51fc4ea7ed51d57d0c9640fac78527,8,3,1,9816,,,0,"Clean up deprecated database parameters

Change-Id: I074bdda1edca71b623852df25441fa255f2aa898
",git fetch https://review.opendev.org/openstack/puppet-mistral refs/changes/65/828065/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/remove-database-params-8bf2195a6f15a3f5.yaml', 'manifests/db.pp', 'manifests/init.pp']",3,fd77f30dde51fc4ea7ed51d57d0c9640fac78527,cleanup-db-params,,"# [*database_connection*] # (optional) Url used to connect to database. # Defaults to undef. # $database_connection = undef, if $database_connection != undef { warning('The database_connection parameter is deprecated and will be \ removed in a future realse. Use mistral::db::database_connection instead') } ",13,37
openstack%2Fpuppet-manila~master~I864d67c7ccd161450fb1c63f337675da45337c14,openstack/puppet-manila,master,I864d67c7ccd161450fb1c63f337675da45337c14,Add support for rootwrap.conf,MERGED,2022-02-05 10:18:35.000000000,2022-02-07 16:47:04.000000000,2022-02-07 16:45:18.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-05 10:18:35.000000000', 'files': ['lib/puppet/provider/manila_rootwrap_config/ini_setting.rb', 'releasenotes/notes/rootwrap-f6fb438dc6b03308.yaml', 'lib/puppet/type/manila_rootwrap_config.rb', 'spec/unit/type/manila_rootwrap_config_spec.rb', 'spec/classes/manila_config_spec.rb', 'manifests/deps.pp', 'manifests/config.pp', 'spec/unit/provider/manila_rootwrap_config/ini_setting_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-manila/commit/356a31d0ab28d10e5f0bdcbb71bf5ca283701a3a', 'message': 'Add support for rootwrap.conf\n\nChange-Id: I864d67c7ccd161450fb1c63f337675da45337c14\n'}]",0,827946,356a31d0ab28d10e5f0bdcbb71bf5ca283701a3a,8,3,1,9816,,,0,"Add support for rootwrap.conf

Change-Id: I864d67c7ccd161450fb1c63f337675da45337c14
",git fetch https://review.opendev.org/openstack/puppet-manila refs/changes/46/827946/1 && git format-patch -1 --stdout FETCH_HEAD,"['lib/puppet/provider/manila_rootwrap_config/ini_setting.rb', 'releasenotes/notes/rootwrap-f6fb438dc6b03308.yaml', 'lib/puppet/type/manila_rootwrap_config.rb', 'spec/unit/type/manila_rootwrap_config_spec.rb', 'spec/classes/manila_config_spec.rb', 'manifests/deps.pp', 'manifests/config.pp', 'spec/unit/provider/manila_rootwrap_config/ini_setting_spec.rb']",8,356a31d0ab28d10e5f0bdcbb71bf5ca283701a3a,rootwrap,"require 'spec_helper' provider_class = Puppet::Type.type(:manila_rootwrap_config).provider(:ini_setting) describe provider_class do it 'should default to the default setting when no other one is specified' do resource = Puppet::Type::Manila_rootwrap_config.new( {:name => 'DEFAULT/foo', :value => 'bar'} ) provider = provider_class.new(resource) expect(provider.section).to eq('DEFAULT') expect(provider.setting).to eq('foo') end it 'should allow setting to be set explicitly' do resource = Puppet::Type::Manila_rootwrap_config.new( {:name => 'dude/foo', :value => 'bar'} ) provider = provider_class.new(resource) expect(provider.section).to eq('dude') expect(provider.setting).to eq('foo') end it 'should ensure absent when <SERVICE DEFAULT> is specified as a value' do resource = Puppet::Type::Manila_rootwrap_config.new( {:name => 'dude/foo', :value => '<SERVICE DEFAULT>'} ) provider = provider_class.new(resource) provider.exists? expect(resource[:ensure]).to eq :absent end it 'should ensure absent when value matches ensure_absent_val' do resource = Puppet::Type::Manila_rootwrap_config.new( {:name => 'dude/foo', :value => 'foo', :ensure_absent_val => 'foo' } ) provider = provider_class.new(resource) provider.exists? expect(resource[:ensure]).to eq :absent end end ",,181,3
openstack%2Fpuppet-magnum~master~I04b4e77bb8c7818b23f82248f3149e9e1069c0d3,openstack/puppet-magnum,master,I04b4e77bb8c7818b23f82248f3149e9e1069c0d3,Simplify definition to ensure keystone resource creation,MERGED,2022-02-06 15:12:16.000000000,2022-02-07 16:45:54.000000000,2022-02-07 16:45:54.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-06 15:12:16.000000000', 'files': ['manifests/keystone/auth.pp'], 'web_link': 'https://opendev.org/openstack/puppet-magnum/commit/bd1433a7b576dc82f0e2aea1bd80e707b0bbcaf9', 'message': 'Simplify definition to ensure keystone resource creation\n\nUse the whole resource type instead of its individual resources, to\nrely on interface instead of implementation of the dependent module.\n\nChange-Id: I04b4e77bb8c7818b23f82248f3149e9e1069c0d3\n'}]",0,828043,bd1433a7b576dc82f0e2aea1bd80e707b0bbcaf9,7,3,1,9816,,,0,"Simplify definition to ensure keystone resource creation

Use the whole resource type instead of its individual resources, to
rely on interface instead of implementation of the dependent module.

Change-Id: I04b4e77bb8c7818b23f82248f3149e9e1069c0d3
",git fetch https://review.opendev.org/openstack/puppet-magnum refs/changes/43/828043/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/keystone/auth.pp'],1,bd1433a7b576dc82f0e2aea1bd80e707b0bbcaf9,key-deps, Keystone::Resource::Service_identity['magnum'] -> Anchor['magnum::service::end']," if $configure_user_role { Keystone_user_role[""${auth_name}@${tenant}""] ~> Service <| name == 'magnum-server' |> } if $configure_endpoint { Keystone_endpoint[""${region}/${real_service_name}::${service_name}""] ~> Service <| name == 'magnum-server' |> }",1,6
openstack%2Fpuppet-barbican~master~I21e05882b2685d8d312f4d6cc516ebcaf2ba6677,openstack/puppet-barbican,master,I21e05882b2685d8d312f4d6cc516ebcaf2ba6677,Simplify definition to ensure keystone resource creation,MERGED,2022-02-06 15:01:55.000000000,2022-02-07 16:45:41.000000000,2022-02-07 16:45:41.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-06 15:01:55.000000000', 'files': ['manifests/keystone/auth.pp'], 'web_link': 'https://opendev.org/openstack/puppet-barbican/commit/12a5b23668805eee82051d51f87d926b3a9b8c8e', 'message': 'Simplify definition to ensure keystone resource creation\n\nUse the whole resource type instead of its individual resources, to\nrely on interface instead of implementation of the dependent module.\n\nChange-Id: I21e05882b2685d8d312f4d6cc516ebcaf2ba6677\n'}]",0,828035,12a5b23668805eee82051d51f87d926b3a9b8c8e,7,3,1,9816,,,0,"Simplify definition to ensure keystone resource creation

Use the whole resource type instead of its individual resources, to
rely on interface instead of implementation of the dependent module.

Change-Id: I21e05882b2685d8d312f4d6cc516ebcaf2ba6677
",git fetch https://review.opendev.org/openstack/puppet-barbican refs/changes/35/828035/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/keystone/auth.pp'],1,12a5b23668805eee82051d51f87d926b3a9b8c8e,key-deps, Keystone::Resource::Service_identity['barbican'] -> Anchor['barbican::service::end']," Keystone_user_role<| name == ""${auth_name}@${tenant}"" |> -> Anchor['barbican::service::end'] Keystone_user_role<| name == ""${auth_name}@::::${system_scope}"" |> -> Anchor['barbican::service::end'] if $configure_endpoint { Keystone_endpoint[""${region}/${service_name}::${service_type}""] -> Anchor['barbican::service::end'] }",1,6
openstack%2Fpuppet-manila~master~Ia2c9fe8bc4aa9c41b714e58b412ed51ede74386e,openstack/puppet-manila,master,Ia2c9fe8bc4aa9c41b714e58b412ed51ede74386e,Simplify definition to ensure keystone resource creation,MERGED,2022-02-06 15:14:38.000000000,2022-02-07 16:45:19.000000000,2022-02-07 16:45:19.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 21129}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-06 15:14:38.000000000', 'files': ['manifests/keystone/auth.pp'], 'web_link': 'https://opendev.org/openstack/puppet-manila/commit/24e66402e3fbb63a41c0002e43acc5b5e49781c1', 'message': 'Simplify definition to ensure keystone resource creation\n\nUse the whole resource type instead of its individual resources, to\nrely on interface instead of implementation of the dependent module.\n\nChange-Id: Ia2c9fe8bc4aa9c41b714e58b412ed51ede74386e\n'}]",0,828044,24e66402e3fbb63a41c0002e43acc5b5e49781c1,8,4,1,9816,,,0,"Simplify definition to ensure keystone resource creation

Use the whole resource type instead of its individual resources, to
rely on interface instead of implementation of the dependent module.

Change-Id: Ia2c9fe8bc4aa9c41b714e58b412ed51ede74386e
",git fetch https://review.opendev.org/openstack/puppet-manila refs/changes/44/828044/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/keystone/auth.pp'],1,24e66402e3fbb63a41c0002e43acc5b5e49781c1,key-deps, Keystone::Resource::Service_identity['manila'] -> Anchor['manila::service::end'] Keystone::Resource::Service_identity['manilav2'] -> Anchor['manila::service::end']," Keystone_user_role<| name == ""${auth_name}@${tenant}"" |> -> Anchor['manila::service::end'] Keystone_user_role<| name == ""${auth_name}@::::${system_scope}"" |> -> Anchor['manila::service::end'] if $configure_endpoint { Keystone_endpoint[""${region}/${service_name}::${service_type}""] -> Anchor['manila::service::end'] } if $configure_endpoint_v2 { Keystone_endpoint[""${region}/${service_name_v2}::${service_type_v2}""] -> Anchor['manila::service::end'] }",2,10
openstack%2Fopenstack-helm-infra~master~I3ac4a75f776760425c88a0ba1edae5fb339f128d,openstack/openstack-helm-infra,master,I3ac4a75f776760425c88a0ba1edae5fb339f128d,Move ceph-mgr deployment to the ceph-mon chart,MERGED,2022-02-02 20:11:39.000000000,2022-02-07 16:42:32.000000000,2022-02-07 16:39:59.000000000,"[{'_account_id': 8898}, {'_account_id': 18236}, {'_account_id': 22348}, {'_account_id': 22636}, {'_account_id': 28372}, {'_account_id': 32190}, {'_account_id': 32433}]","[{'number': 1, 'created': '2022-02-02 20:11:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/f823b2ebd5a963c89b415920c6c82ef8d3fef562', 'message': 'Move ceph-mgr deployment to the ceph-mon chart\n\nThis change moves the ceph-mgr deployment from the ceph-client\nchart to the ceph-mon chart. Its purpose is to facilitate the\nproper Ceph upgrade procedure, which prescribes restarting mgr\ndaemons before mon daemons.\n\nThere will be additional work required to implement the correct\ndaemon restart procedure for upgrades. This change only addresses\nthe move of the ceph-mgr deployment.\n\nChange-Id: I3ac4a75f776760425c88a0ba1edae5fb339f128d\n'}, {'number': 2, 'created': '2022-02-02 20:14:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/f49c8533d44fb54bd34511252f6008bb6545c8b4', 'message': 'Move ceph-mgr deployment to the ceph-mon chart\n\nThis change moves the ceph-mgr deployment from the ceph-client\nchart to the ceph-mon chart. Its purpose is to facilitate the\nproper Ceph upgrade procedure, which prescribes restarting mgr\ndaemons before mon daemons.\n\nThere will be additional work required to implement the correct\ndaemon restart procedure for upgrades. This change only addresses\nthe move of the ceph-mgr deployment.\n\nChange-Id: I3ac4a75f776760425c88a0ba1edae5fb339f128d\n'}, {'number': 3, 'created': '2022-02-02 20:34:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/766af5e94ebc37db1bc48d39282c3b23bcf2d91e', 'message': 'Move ceph-mgr deployment to the ceph-mon chart\n\nThis change moves the ceph-mgr deployment from the ceph-client\nchart to the ceph-mon chart. Its purpose is to facilitate the\nproper Ceph upgrade procedure, which prescribes restarting mgr\ndaemons before mon daemons.\n\nThere will be additional work required to implement the correct\ndaemon restart procedure for upgrades. This change only addresses\nthe move of the ceph-mgr deployment.\n\nChange-Id: I3ac4a75f776760425c88a0ba1edae5fb339f128d\n'}, {'number': 4, 'created': '2022-02-02 20:48:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/843f6058dfb85d5910a79ab58a7d15538c0e48b0', 'message': 'Move ceph-mgr deployment to the ceph-mon chart\n\nThis change moves the ceph-mgr deployment from the ceph-client\nchart to the ceph-mon chart. Its purpose is to facilitate the\nproper Ceph upgrade procedure, which prescribes restarting mgr\ndaemons before mon daemons.\n\nThere will be additional work required to implement the correct\ndaemon restart procedure for upgrades. This change only addresses\nthe move of the ceph-mgr deployment.\n\nChange-Id: I3ac4a75f776760425c88a0ba1edae5fb339f128d\n'}, {'number': 5, 'created': '2022-02-02 21:12:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/beb3795f2a627e79ba86c4299fe0f0034874828c', 'message': 'Move ceph-mgr deployment to the ceph-mon chart\n\nThis change moves the ceph-mgr deployment from the ceph-client\nchart to the ceph-mon chart. Its purpose is to facilitate the\nproper Ceph upgrade procedure, which prescribes restarting mgr\ndaemons before mon daemons.\n\nThere will be additional work required to implement the correct\ndaemon restart procedure for upgrades. This change only addresses\nthe move of the ceph-mgr deployment.\n\nChange-Id: I3ac4a75f776760425c88a0ba1edae5fb339f128d\n'}, {'number': 6, 'created': '2022-02-02 21:17:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/e762d43d83ab73517f2df82d434d790ffc912e5d', 'message': 'Move ceph-mgr deployment to the ceph-mon chart\n\nThis change moves the ceph-mgr deployment from the ceph-client\nchart to the ceph-mon chart. Its purpose is to facilitate the\nproper Ceph upgrade procedure, which prescribes restarting mgr\ndaemons before mon daemons.\n\nThere will be additional work required to implement the correct\ndaemon restart procedure for upgrades. This change only addresses\nthe move of the ceph-mgr deployment.\n\nChange-Id: I3ac4a75f776760425c88a0ba1edae5fb339f128d\n'}, {'number': 7, 'created': '2022-02-02 21:27:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/c1dd60bcdce39007e2afaf732619a6374172463f', 'message': 'Move ceph-mgr deployment to the ceph-mon chart\n\nThis change moves the ceph-mgr deployment from the ceph-client\nchart to the ceph-mon chart. Its purpose is to facilitate the\nproper Ceph upgrade procedure, which prescribes restarting mgr\ndaemons before mon daemons.\n\nThere will be additional work required to implement the correct\ndaemon restart procedure for upgrades. This change only addresses\nthe move of the ceph-mgr deployment.\n\nChange-Id: I3ac4a75f776760425c88a0ba1edae5fb339f128d\n'}, {'number': 8, 'created': '2022-02-03 16:05:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/1115c07fb3a36fdfce3fb54121a34d9e021b1cca', 'message': 'Move ceph-mgr deployment to the ceph-mon chart\n\nThis change moves the ceph-mgr deployment from the ceph-client\nchart to the ceph-mon chart. Its purpose is to facilitate the\nproper Ceph upgrade procedure, which prescribes restarting mgr\ndaemons before mon daemons.\n\nThere will be additional work required to implement the correct\ndaemon restart procedure for upgrades. This change only addresses\nthe move of the ceph-mgr deployment.\n\nChange-Id: I3ac4a75f776760425c88a0ba1edae5fb339f128d\n'}, {'number': 9, 'created': '2022-02-03 17:13:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/01d3f410c0df42de751d5afbe3c090509d126036', 'message': 'Move ceph-mgr deployment to the ceph-mon chart\n\nThis change moves the ceph-mgr deployment from the ceph-client\nchart to the ceph-mon chart. Its purpose is to facilitate the\nproper Ceph upgrade procedure, which prescribes restarting mgr\ndaemons before mon daemons.\n\nThere will be additional work required to implement the correct\ndaemon restart procedure for upgrades. This change only addresses\nthe move of the ceph-mgr deployment.\n\nChange-Id: I3ac4a75f776760425c88a0ba1edae5fb339f128d\n'}, {'number': 10, 'created': '2022-02-03 18:03:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/05293c8fb1392d58734539de04a98bb601b020fe', 'message': 'Move ceph-mgr deployment to the ceph-mon chart\n\nThis change moves the ceph-mgr deployment from the ceph-client\nchart to the ceph-mon chart. Its purpose is to facilitate the\nproper Ceph upgrade procedure, which prescribes restarting mgr\ndaemons before mon daemons.\n\nThere will be additional work required to implement the correct\ndaemon restart procedure for upgrades. This change only addresses\nthe move of the ceph-mgr deployment.\n\nChange-Id: I3ac4a75f776760425c88a0ba1edae5fb339f128d\n'}, {'number': 11, 'created': '2022-02-03 18:40:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/734031e7a6e3053dc1d4cf9f1606386cd94a19dc', 'message': 'Move ceph-mgr deployment to the ceph-mon chart\n\nThis change moves the ceph-mgr deployment from the ceph-client\nchart to the ceph-mon chart. Its purpose is to facilitate the\nproper Ceph upgrade procedure, which prescribes restarting mgr\ndaemons before mon daemons.\n\nThere will be additional work required to implement the correct\ndaemon restart procedure for upgrades. This change only addresses\nthe move of the ceph-mgr deployment.\n\nChange-Id: I3ac4a75f776760425c88a0ba1edae5fb339f128d\n'}, {'number': 12, 'created': '2022-02-03 21:19:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/09300ed5d1763c1d17b0e97512b3e48f977bc94e', 'message': 'Move ceph-mgr deployment to the ceph-mon chart\n\nThis change moves the ceph-mgr deployment from the ceph-client\nchart to the ceph-mon chart. Its purpose is to facilitate the\nproper Ceph upgrade procedure, which prescribes restarting mgr\ndaemons before mon daemons.\n\nThere will be additional work required to implement the correct\ndaemon restart procedure for upgrades. This change only addresses\nthe move of the ceph-mgr deployment.\n\nChange-Id: I3ac4a75f776760425c88a0ba1edae5fb339f128d\n'}, {'number': 13, 'created': '2022-02-04 14:08:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/6c7d9351bb639217ce7b5038438f118ff0cd262a', 'message': 'Move ceph-mgr deployment to the ceph-mon chart\n\nThis change moves the ceph-mgr deployment from the ceph-client\nchart to the ceph-mon chart. Its purpose is to facilitate the\nproper Ceph upgrade procedure, which prescribes restarting mgr\ndaemons before mon daemons.\n\nThere will be additional work required to implement the correct\ndaemon restart procedure for upgrades. This change only addresses\nthe move of the ceph-mgr deployment.\n\nChange-Id: I3ac4a75f776760425c88a0ba1edae5fb339f128d\n'}, {'number': 14, 'created': '2022-02-04 15:30:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/470bae4c99ccdb461b8ac06d32d91d47615bdf24', 'message': 'Move ceph-mgr deployment to the ceph-mon chart\n\nThis change moves the ceph-mgr deployment from the ceph-client\nchart to the ceph-mon chart. Its purpose is to facilitate the\nproper Ceph upgrade procedure, which prescribes restarting mgr\ndaemons before mon daemons.\n\nThere will be additional work required to implement the correct\ndaemon restart procedure for upgrades. This change only addresses\nthe move of the ceph-mgr deployment.\n\nChange-Id: I3ac4a75f776760425c88a0ba1edae5fb339f128d\n'}, {'number': 15, 'created': '2022-02-04 18:58:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/f536aec64348a8e1eda840e554a7298ef53eb04c', 'message': 'Move ceph-mgr deployment to the ceph-mon chart\n\nThis change moves the ceph-mgr deployment from the ceph-client\nchart to the ceph-mon chart. Its purpose is to facilitate the\nproper Ceph upgrade procedure, which prescribes restarting mgr\ndaemons before mon daemons.\n\nThere will be additional work required to implement the correct\ndaemon restart procedure for upgrades. This change only addresses\nthe move of the ceph-mgr deployment.\n\nChange-Id: I3ac4a75f776760425c88a0ba1edae5fb339f128d\n'}, {'number': 16, 'created': '2022-02-05 05:02:18.000000000', 'files': ['ceph-mon/templates/service-mgr.yaml', 'ceph-client/Chart.yaml', 'releasenotes/notes/ceph-mon.yaml', 'ceph-client/values.yaml', 'ceph-client/values_overrides/apparmor.yaml', 'ceph-client/templates/cronjob-checkPGs.yaml', 'ceph-mon/templates/bin/mgr/_start.sh.tpl', 'ceph-mon/templates/configmap-bin.yaml', 'ceph-mon/Chart.yaml', 'ceph-mon/values_overrides/apparmor.yaml', 'releasenotes/notes/ceph-client.yaml', 'ceph-mon/templates/bin/utils/_checkPGs.py.tpl', 'ceph-mon/templates/bin/mgr/_check.sh.tpl', 'ceph-mon/templates/snippets/_mon_host_from_k8s_ep.sh.tpl', 'ceph-client/templates/configmap-bin.yaml', 'ceph-mon/templates/deployment-mgr.yaml', 'ceph-mon/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/ea2c0115c4c0d38e7f52037860017241792a87b7', 'message': 'Move ceph-mgr deployment to the ceph-mon chart\n\nThis change moves the ceph-mgr deployment from the ceph-client\nchart to the ceph-mon chart. Its purpose is to facilitate the\nproper Ceph upgrade procedure, which prescribes restarting mgr\ndaemons before mon daemons.\n\nThere will be additional work required to implement the correct\ndaemon restart procedure for upgrades. This change only addresses\nthe move of the ceph-mgr deployment.\n\nChange-Id: I3ac4a75f776760425c88a0ba1edae5fb339f128d\n'}]",4,827552,ea2c0115c4c0d38e7f52037860017241792a87b7,41,7,16,29974,,,0,"Move ceph-mgr deployment to the ceph-mon chart

This change moves the ceph-mgr deployment from the ceph-client
chart to the ceph-mon chart. Its purpose is to facilitate the
proper Ceph upgrade procedure, which prescribes restarting mgr
daemons before mon daemons.

There will be additional work required to implement the correct
daemon restart procedure for upgrades. This change only addresses
the move of the ceph-mgr deployment.

Change-Id: I3ac4a75f776760425c88a0ba1edae5fb339f128d
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/52/827552/16 && git format-patch -1 --stdout FETCH_HEAD,"['ceph-mon/templates/service-mgr.yaml', 'ceph-mon/templates/bin/mgr/_start.sh.tpl', 'ceph-mon/templates/configmap-bin.yaml', 'ceph-mon/values_overrides/apparmor.yaml', 'ceph-client/values.yaml', 'ceph-mon/templates/bin/mgr/_check.sh.tpl', 'ceph-client/templates/configmap-bin.yaml', 'ceph-client/values_overrides/apparmor.yaml', 'ceph-mon/templates/deployment-mgr.yaml', 'ceph-mon/values.yaml']",10,f823b2ebd5a963c89b415920c6c82ef8d3fef562,," ceph_mgr: 'docker.io/openstackhelm/ceph-daemon:change_770201_ubuntu_bionic-20210113' mgr: node_selector_key: ceph-mgr node_selector_value: enabled mgr: pod: runAsUser: 65534 container: init_dirs: runAsUser: 0 readOnlyRootFilesystem: true mgr: runAsUser: 64045 readOnlyRootFilesystem: true allowPrivilegeEscalation: false mgr: 2 updateStrategy: mgr: type: Recreate mgr: requests: memory: ""5Mi"" cpu: ""250m"" limits: memory: ""50Mi"" cpu: ""500m"" mgr: tolerations: - effect: NoExecute key: node.kubernetes.io/not-ready operator: Exists tolerationSeconds: 60 - effect: NoExecute key: node.kubernetes.io/unreachable operator: Exists tolerationSeconds: 60 features: mgr: true mgr: jobs: - ceph-storage-keys-generator - ceph-mgr-keyring-generator# Uncomment below to enable mgr modules # For a list of available modules: # http://docs.ceph.com/docs/master/mgr/ # This overrides mgr_initial_modules (default: restful, status) # Any module not listed here will be disabled ceph_mgr_enabled_modules: - restful - status - prometheus - balancer - iostat - pg_autoscaler # You can configure your mgr modules # below. Each module has its own set # of key/value. Refer to the doc # above for more info. For example: ceph_mgr_modules_config: # balancer: # active: 1 # prometheus: # server_port: 9283 # server_addr: 0.0.0.0 # dashboard: # port: 7000 # localpool: # failure_domain: host # subtree: rack # pg_num: ""128"" # num_rep: ""3"" # min_size: ""2"" ceph_mgr: namespace: null hosts: default: ceph-mgr host_fqdn_override: default: null port: mgr: default: 7000 metrics: default: 9283 scheme: default: http monitoring: prometheus: enabled: true ceph_mgr: scrape: true port: 9283 deployment_mgr: true service_mgr: true",,104,90
openstack%2Fneutron~master~Ie670fba4b3afe427747732d2c3948d92311e960e,openstack/neutron,master,Ie670fba4b3afe427747732d2c3948d92311e960e,Use a thread local variable to store the Nova Notifier enable flag,MERGED,2022-02-01 17:47:52.000000000,2022-02-07 16:42:21.000000000,2022-02-07 16:38:34.000000000,"[{'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 8864}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-01 17:47:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/dd52caf68e3f1912352041e7797cac236c54d41f', 'message': 'Use a thread local variable to store the Nova Notifier enable flag\n\nThe Nova Notifier can be called simultaneously by several RPC\ncallbacks from the agents (DHCP, L2), trying to update the provisioning\nstatus of a port. In order to handle each context notifier enable flag,\na thread local variable is used. This will isolate the flag update\nif two entities inform at the same time and one RPC callback is attended\nduring the processing of the other one.\n\nThis patch also removes the debug messages added to debug this issue.\n\nCloses-Bug: #1958363\nChange-Id: Ie670fba4b3afe427747732d2c3948d92311e960e\n'}, {'number': 2, 'created': '2022-02-02 08:03:38.000000000', 'files': ['neutron/notifiers/nova.py', 'neutron/tests/unit/notifiers/test_nova.py', 'neutron/plugins/ml2/plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/507989fc622a6633926c4288827f482bae6054dd', 'message': 'Use a thread local variable to store the Nova Notifier enable flag\n\nThe Nova Notifier can be called simultaneously by several RPC\ncallbacks from the agents (DHCP, L2), trying to update the provisioning\nstatus of a port. In order to handle each context notifier enable flag,\na thread local variable is used. This will isolate the flag update\nif two entities inform at the same time and one RPC callback is attended\nduring the processing of the other one.\n\nThis patch also removes the debug messages added to debug this issue.\n\nCloses-Bug: #1958363\nChange-Id: Ie670fba4b3afe427747732d2c3948d92311e960e\n'}]",13,827331,507989fc622a6633926c4288827f482bae6054dd,34,7,2,16688,,,0,"Use a thread local variable to store the Nova Notifier enable flag

The Nova Notifier can be called simultaneously by several RPC
callbacks from the agents (DHCP, L2), trying to update the provisioning
status of a port. In order to handle each context notifier enable flag,
a thread local variable is used. This will isolate the flag update
if two entities inform at the same time and one RPC callback is attended
during the processing of the other one.

This patch also removes the debug messages added to debug this issue.

Closes-Bug: #1958363
Change-Id: Ie670fba4b3afe427747732d2c3948d92311e960e
",git fetch https://review.opendev.org/openstack/neutron refs/changes/31/827331/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/notifiers/nova.py', 'neutron/tests/unit/notifiers/test_nova.py', 'neutron/plugins/ml2/plugin.py']",3,dd52caf68e3f1912352041e7797cac236c54d41f,bug/1958363,," LOG.debug(""Updating port %s status to %s; "" ""nova_notifier enabled: %s"", port_id, const.PORT_STATUS_ACTIVE, send_nova_event) LOG.debug(""After port %s status update nova_notifier is now "" ""restored to old value: %s"", port_id, self.nova_notifier._enabled)",49,15
openstack%2Fblazar-nova~master~I294c22b22a1d9e3df01c56a518476a33782d1196,openstack/blazar-nova,master,I294c22b22a1d9e3df01c56a518476a33782d1196,Allow preemptible instances to run on unused hosts,MERGED,2020-08-31 20:07:16.000000000,2022-02-07 16:42:18.000000000,2022-02-04 16:04:54.000000000,"[{'_account_id': 22348}, {'_account_id': 29100}, {'_account_id': 33582}]","[{'number': 1, 'created': '2020-08-31 20:07:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar-nova/commit/e8a9723742b1ff42a34ed712ed2fb1b4cab2a06b', 'message': 'Allow preemptible instances to run on freepool hosts\n\nBlueprint: blazar-preemptible-instances\nChange-Id: I294c22b22a1d9e3df01c56a518476a33782d1196\n'}, {'number': 2, 'created': '2020-09-15 09:13:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar-nova/commit/4929c76ca193b6ec69d91a5db75394e137cdfe1f', 'message': 'Allow preemptible instances to run on freepool hosts\n\nBlueprint: blazar-preemptible-instances\nChange-Id: I294c22b22a1d9e3df01c56a518476a33782d1196\n'}, {'number': 3, 'created': '2022-01-11 15:21:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar-nova/commit/6d8ead1d2eccfa2b65ed63898b6405393327ddf0', 'message': 'Allow preemptible instances to run on unused hosts\n\nPreemptible instances run in a dedicated aggregate, named preemptibles\nby default. Unused freepool hosts can be moved to this aggregate by\nblazar, letting preemptible instances run on them.\n\nCompared to the proposed spec, the use of a separate aggregate allows to\nbetter control scheduling of preemptibles. For example, we can prevent\npreemptible instances from being launched on hosts that are about to be\nused by reservations.\n\nBlueprint: blazar-preemptible-instances\nChange-Id: I294c22b22a1d9e3df01c56a518476a33782d1196\n'}, {'number': 4, 'created': '2022-02-03 16:36:16.000000000', 'files': ['blazarnova/tests/scheduler/filters/test_blazar_filter.py', 'blazarnova/scheduler/filters/blazar_filter.py', 'releasenotes/notes/preemptible-instances-7c3731586faa9b0d.yaml'], 'web_link': 'https://opendev.org/openstack/blazar-nova/commit/3d01888c14a785e796393d7f6a2b0792b1b1f2e0', 'message': 'Allow preemptible instances to run on unused hosts\n\nPreemptible instances run on a configurable host aggregate, using the\nfreepool by default.\n\nCompared to the proposed spec, the use of a separate aggregate allows to\nbetter control scheduling of preemptibles. For example, we can prevent\npreemptible instances from being launched on hosts that are about to be\nused by reservations. To be used, this feature will need additional\nsupport in the main Blazar service.\n\nBlueprint: blazar-preemptible-instances\nChange-Id: I294c22b22a1d9e3df01c56a518476a33782d1196\n'}]",13,749151,3d01888c14a785e796393d7f6a2b0792b1b1f2e0,19,3,4,15197,,,0,"Allow preemptible instances to run on unused hosts

Preemptible instances run on a configurable host aggregate, using the
freepool by default.

Compared to the proposed spec, the use of a separate aggregate allows to
better control scheduling of preemptibles. For example, we can prevent
preemptible instances from being launched on hosts that are about to be
used by reservations. To be used, this feature will need additional
support in the main Blazar service.

Blueprint: blazar-preemptible-instances
Change-Id: I294c22b22a1d9e3df01c56a518476a33782d1196
",git fetch https://review.opendev.org/openstack/blazar-nova refs/changes/51/749151/4 && git format-patch -1 --stdout FETCH_HEAD,['blazarnova/scheduler/filters/blazar_filter.py'],1,e8a9723742b1ff42a34ed712ed2fb1b4cab2a06b,preemptibles,"from oslo_utils.strutils import bool_from_stringFLAVOR_PREEMPTIBLE = ""blazar:preemptible"" help='Prefix for Availability Zones created by Blazar'), cfg.BoolOpt('allow_preemptibles', default=False, help='Whether to allow preemptible instances to be scheduled ' 'on freepool hosts') extra_specs = spec_obj.flavor.extra_specs if FLAVOR_EXTRA_SPEC in extra_specs.keys(): allow_preempt = cfg.CONF['blazar:physical:host'].allow_preemptibles preemptible = bool_from_string( extra_specs.get(FLAVOR_PREEMPTIBLE, False)) blazar_pools = self.fetch_blazar_pools(host_state) # If the request is for a preemptible instance and they are allowed if allow_preempt and preemptible: if (len(blazar_pools) == 1 and blazar_pools[0].name == cfg.CONF['blazar:physical:host'].aggregate_freepool_name): # Pass host if it only belongs to the freepool LOG.info(""Host %s requested for preemptibles"" % host_state) return True return False if blazar_pools: LOG.info(""Host is in a reservation aggregate or in the freepool"")"," help='Prefix for Availability Zones created by Blazar') if FLAVOR_EXTRA_SPEC in spec_obj.flavor.extra_specs.keys(): if self.fetch_blazar_pools(host_state): LOG.info(_(""In a user pool or in the freepool""))",24,4
openstack%2Fpuppet-openstack_extras~stable%2Fxena~I29d6a3043260a3258266b87ca50bcc90befb42ee,openstack/puppet-openstack_extras,stable/xena,I29d6a3043260a3258266b87ca50bcc90befb42ee,Use stable/xena release by default,MERGED,2022-02-05 16:20:26.000000000,2022-02-07 16:41:12.000000000,2022-02-07 16:41:12.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-05 16:20:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack_extras/commit/baa9bfe2dd8710a4766160827ed36f3b7300dfae', 'message': 'Xena-only: Use stable/xena release by default\n\nChange-Id: I29d6a3043260a3258266b87ca50bcc90befb42ee\n'}, {'number': 2, 'created': '2022-02-05 16:24:06.000000000', 'files': ['manifests/repo/redhat/params.pp', 'spec/classes/openstack_extras_repo_debian_debian_spec.rb', 'spec/classes/openstack_extras_repo_debian_ubuntu_spec.rb', 'manifests/repo/debian/params.pp', 'spec/classes/openstack_extras_repo_redhat_redhat_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-openstack_extras/commit/ff5aacfd3ef407de0132f1f6d64c2a655feefaf1', 'message': 'Use stable/xena release by default\n\n... instead of old stable/victoria.\n\nChange-Id: I29d6a3043260a3258266b87ca50bcc90befb42ee\n(cherry picked from commit 0271adfc05738c34ae148c28ae98b14828c85c81)\n'}]",0,827980,ff5aacfd3ef407de0132f1f6d64c2a655feefaf1,9,3,2,9816,,,0,"Use stable/xena release by default

... instead of old stable/victoria.

Change-Id: I29d6a3043260a3258266b87ca50bcc90befb42ee
(cherry picked from commit 0271adfc05738c34ae148c28ae98b14828c85c81)
",git fetch https://review.opendev.org/openstack/puppet-openstack_extras refs/changes/80/827980/2 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/repo/redhat/params.pp', 'spec/classes/openstack_extras_repo_debian_debian_spec.rb', 'manifests/repo/debian/params.pp', 'spec/classes/openstack_extras_repo_debian_ubuntu_spec.rb', 'spec/classes/openstack_extras_repo_redhat_redhat_spec.rb']",5,baa9bfe2dd8710a4766160827ed36f3b7300dfae,default-release," :baseurl => ""http://mirror.centos.org/centos/#{facts[:operatingsystemmajrelease]}-stream/cloud/$basearch/openstack-xena/"", :descr => ""OpenStack Xena Repository"", :baseurl => ""http://mirror.centos.org/centos/#{facts[:operatingsystemmajrelease]}/cloud/\$basearch/openstack-xena/"", :baseurl => ""http://foo.bar/centos/#{facts[:operatingsystemmajrelease]}-stream/cloud/\$basearch/openstack-xena/"","," :baseurl => ""http://mirror.centos.org/centos/#{facts[:operatingsystemmajrelease]}-stream/cloud/$basearch/openstack-victoria/"", :descr => ""OpenStack Victoria Repository"", :baseurl => ""http://mirror.centos.org/centos/#{facts[:operatingsystemmajrelease]}/cloud/\$basearch/openstack-victoria/"", :baseurl => ""http://foo.bar/centos/#{facts[:operatingsystemmajrelease]}-stream/cloud/\$basearch/openstack-victoria/"",",16,16
openstack%2Fpuppet-mistral~master~I5b667a809caf746b7ea72b70f475438523361bd4,openstack/puppet-mistral,master,I5b667a809caf746b7ea72b70f475438523361bd4,Ensure keystone resources are created during service startup,MERGED,2022-02-06 15:16:57.000000000,2022-02-07 16:41:10.000000000,2022-02-07 16:41:10.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-06 15:16:57.000000000', 'files': ['manifests/keystone/auth.pp'], 'web_link': 'https://opendev.org/openstack/puppet-mistral/commit/15d5e9f99bb655d68fe454b8386a9c3d1a54c4de', 'message': 'Ensure keystone resources are created during service startup\n\nThis change ensures keystone resources like the mistral service user\nare created before completing service setup, so that we can use\nthe service::end anchor to ensure Mistral service is fully available.\n\nChange-Id: I5b667a809caf746b7ea72b70f475438523361bd4\n'}]",0,828045,15d5e9f99bb655d68fe454b8386a9c3d1a54c4de,9,3,1,9816,,,0,"Ensure keystone resources are created during service startup

This change ensures keystone resources like the mistral service user
are created before completing service setup, so that we can use
the service::end anchor to ensure Mistral service is fully available.

Change-Id: I5b667a809caf746b7ea72b70f475438523361bd4
",git fetch https://review.opendev.org/openstack/puppet-mistral refs/changes/45/828045/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/keystone/auth.pp'],1,15d5e9f99bb655d68fe454b8386a9c3d1a54c4de,key-deps, Keystone::Resource::Service_identity['mistral'] -> Anchor['mistral::service::end'] ,,2,0
openstack%2Fpuppet-watcher~master~I84ad764718f7dbd7b9c8209b2cd29bf531dff4c2,openstack/puppet-watcher,master,I84ad764718f7dbd7b9c8209b2cd29bf531dff4c2,Simplify definition to ensure keystone resource creation,MERGED,2022-02-06 15:24:30.000000000,2022-02-07 16:31:07.000000000,2022-02-07 16:31:07.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-06 15:24:30.000000000', 'files': ['manifests/keystone/auth.pp'], 'web_link': 'https://opendev.org/openstack/puppet-watcher/commit/b4a725b35486dba288ade4bab4e0b6fc194bb5f6', 'message': 'Simplify definition to ensure keystone resource creation\n\nUse the whole resource type instead of its individual resources, to\nrely on interface instead of implementation of the dependent module.\n\nChange-Id: I84ad764718f7dbd7b9c8209b2cd29bf531dff4c2\n'}]",0,828053,b4a725b35486dba288ade4bab4e0b6fc194bb5f6,7,3,1,9816,,,0,"Simplify definition to ensure keystone resource creation

Use the whole resource type instead of its individual resources, to
rely on interface instead of implementation of the dependent module.

Change-Id: I84ad764718f7dbd7b9c8209b2cd29bf531dff4c2
",git fetch https://review.opendev.org/openstack/puppet-watcher refs/changes/53/828053/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/keystone/auth.pp'],1,b4a725b35486dba288ade4bab4e0b6fc194bb5f6,key-deps, Keystone::Resource::Service_identity['watcher'] -> Anchor['watcher::service::end']," if $configure_user_role { Keystone_user_role[""${auth_name}@${tenant}""] ~> Anchor['watcher::service::end'] } if $configure_endpoint { Keystone_endpoint[""${region}/${real_service_name}::${service_type}""] ~> Anchor['watcher::service::end'] }",1,7
openstack%2Fpuppet-aodh~master~Ie36c8a096c33a475b21a1dc02a04de49d35be9c9,openstack/puppet-aodh,master,Ie36c8a096c33a475b21a1dc02a04de49d35be9c9,Simplify definition to ensure keystone resource creation,MERGED,2022-02-06 07:58:14.000000000,2022-02-07 16:24:13.000000000,2022-02-07 16:24:13.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-06 07:58:14.000000000', 'files': ['manifests/keystone/auth.pp'], 'web_link': 'https://opendev.org/openstack/puppet-aodh/commit/1b70d0c3802df6a86fc3eb6f523ec9b6f7f17fa2', 'message': 'Simplify definition to ensure keystone resource creation\n\nUse the whole resource type instead of its individual resources, to\nrely on interface instead of implementation of the dependent module.\n\nChange-Id: Ie36c8a096c33a475b21a1dc02a04de49d35be9c9\n'}]",1,828026,1b70d0c3802df6a86fc3eb6f523ec9b6f7f17fa2,8,3,1,9816,,,0,"Simplify definition to ensure keystone resource creation

Use the whole resource type instead of its individual resources, to
rely on interface instead of implementation of the dependent module.

Change-Id: Ie36c8a096c33a475b21a1dc02a04de49d35be9c9
",git fetch https://review.opendev.org/openstack/puppet-aodh refs/changes/26/828026/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/keystone/auth.pp'],1,1b70d0c3802df6a86fc3eb6f523ec9b6f7f17fa2,key-deps, Keystone::Resource::Service_identity['aodh'] -> Anchor['aodh::service::end']," Keystone_user_role<| name == ""${auth_name}@${tenant}"" |> -> Anchor['aodh::service::end'] Keystone_user_role<| name == ""${auth_name}@::::${system_scope}"" |> -> Anchor['aodh::service::end'] if $configure_endpoint { Keystone_endpoint[""${region}/${service_name}::${service_type}""] -> Anchor['aodh::service::end'] }",1,6
openstack%2Fpuppet-octavia~master~If2d0dce800e767f7341b718a44af0edb97e26946,openstack/puppet-octavia,master,If2d0dce800e767f7341b718a44af0edb97e26946,Clean up deprecated database parameters,MERGED,2022-02-07 07:31:00.000000000,2022-02-07 16:04:12.000000000,2022-02-07 15:57:13.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-07 07:31:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-octavia/commit/53bcee6e133637c942741379996407c1dc65b2fd', 'message': 'Clean up deprecated database parameters\n\nChange-Id: If2d0dce800e767f7341b718a44af0edb97e26946\n'}, {'number': 2, 'created': '2022-02-07 10:46:53.000000000', 'files': ['releasenotes/notes/remove-database-params-6af198c038340c34.yaml', 'manifests/db.pp', 'manifests/init.pp'], 'web_link': 'https://opendev.org/openstack/puppet-octavia/commit/f3646c17556ef0b6fd4cf3eb81b6751c7f0aec7b', 'message': 'Clean up deprecated database parameters\n\nChange-Id: If2d0dce800e767f7341b718a44af0edb97e26946\n'}]",0,828073,f3646c17556ef0b6fd4cf3eb81b6751c7f0aec7b,10,3,2,9816,,,0,"Clean up deprecated database parameters

Change-Id: If2d0dce800e767f7341b718a44af0edb97e26946
",git fetch https://review.opendev.org/openstack/puppet-octavia refs/changes/73/828073/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/remove-database-params-6af198c038340c34.yaml', 'manifests/db.pp', 'manifests/init.pp']",3,53bcee6e133637c942741379996407c1dc65b2fd,cleanup-db-params,,"# [*database_min_pool_size*] # (Optional) Minimum number of SQL connections to keep open in a pool. # Defaults to undef. # # [*database_connection*] # (Optional) Url used to connect to database. # Defaults to undef. # # [*database_idle_timeout*] # (Optional) Timeout when db connections should be reaped. # Defaults to undef. # # [*database_max_retries*] # (Optional) Maximum number of database connection retries during startup. # Setting -1 implies an infinite retry count. # Defaults to undef. # # [*database_retry_interval*] # (Optional) Interval between retries of opening a database connection. # Defaults to undef. # # [*database_max_pool_size*] # (Optional) Maximum number of SQL connections to keep open in a pool. # Defaults to undef. # # [*database_max_overflow*] # (Optional) If set, use this value for max_overflow with sqlalchemy. # Defaults to undef. # # [*database_pool_timeout*] # (Optional) If set, use this value for pool_timeout with SQLAlchemy. # Defaults to undef. # # [*database_db_max_retries*] # (Optional) Maximum retries in case of connection error or deadlock error # before error is raised. Set to -1 to specify an infinite retry count. # Defaults to undef. # $database_min_pool_size = undef, $database_connection = undef, $database_idle_timeout = undef, $database_max_pool_size = undef, $database_max_retries = undef, $database_retry_interval = undef, $database_max_overflow = undef, $database_pool_timeout = undef, $database_db_max_retries = undef, if $database_connection != undef { warning('The database_connection parameter is deprecated and will be \ removed in a future realse. Use octavia::db::database_connection instead') } if $database_idle_timeout != undef { warning('The database_idle_timeout parameter is deprecated and will be \ removed in a future realse. Use octavia::db::database_connection_recycle_time \ instead') } if $database_max_pool_size != undef { warning('The database_max_pool_size parameter is deprecated and will be \ removed in a future realse. Use octavia::db::database_max_pool_size instead') } if $database_max_retries!= undef { warning('The database_max_retries parameter is deprecated and will be \ removed in a future realse. Use octavia::db::database_max_retries instead') } if $database_retry_interval != undef { warning('The database_retry_interval parameter is deprecated and will be \ removed in a future realse. Use octavia::db::database_retry_interval instead') } if $database_pool_timeout != undef { warning('The database_pool_timeout parameter is deprecated and will be \ removed in a future realse. Use octavia::db::database_pool_timeout instead') } if $database_max_overflow != undef { warning('The database_max_overflow parameter is deprecated and will be \ removed in a future realse. Use octavia::db::database_max_overflow instead') } if $database_db_max_retries!= undef { warning('The database_db_max_retries parameter is deprecated and will be \ removed in a future realse. Use octavia::db::database_db_max_retries instead') } ",26,112
openstack%2Fcloudkitty-tempest-plugin~master~I18f469a60f70afeffa470dbf9db56b64871607f1,openstack/cloudkitty-tempest-plugin,master,I18f469a60f70afeffa470dbf9db56b64871607f1,Add stable/xena jobs on master gate,MERGED,2022-01-19 00:40:17.000000000,2022-02-07 15:57:11.000000000,2022-02-07 15:57:11.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 28356}]","[{'number': 1, 'created': '2022-01-19 00:40:17.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/cloudkitty-tempest-plugin/commit/ac9b0905166d2936fa2ecaf1af8e75d95f80b913', 'message': 'Add stable/xena jobs on master gate\n\nWe have stable/xena released so we should add\ntheir job on master gate to keep branchless tempest\nplugins compatible to stable branch.\n\nThis also removes the stable/train job as that is in EM\nstate now.\n\nRef: Tempest plugins guide for stable branch testing:\n- https://docs.openstack.org/tempest/latest/stable_branch_testing_policy.html\n\nChange-Id: I18f469a60f70afeffa470dbf9db56b64871607f1\n'}]",0,825194,ac9b0905166d2936fa2ecaf1af8e75d95f80b913,7,3,1,8556,,,0,"Add stable/xena jobs on master gate

We have stable/xena released so we should add
their job on master gate to keep branchless tempest
plugins compatible to stable branch.

This also removes the stable/train job as that is in EM
state now.

Ref: Tempest plugins guide for stable branch testing:
- https://docs.openstack.org/tempest/latest/stable_branch_testing_policy.html

Change-Id: I18f469a60f70afeffa470dbf9db56b64871607f1
",git fetch https://review.opendev.org/openstack/cloudkitty-tempest-plugin refs/changes/94/825194/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,ac9b0905166d2936fa2ecaf1af8e75d95f80b913,xena-stable-jobs, - cloudkitty-tempest-full-v2-storage-influxdb-xena name: cloudkitty-tempest-full-v2-storage-influxdb-xena parent: cloudkitty-tempest-full-v2-storage-influxdb override-checkout: stable/xena - job:, - cloudkitty-tempest-full-v2-storage-influxdb-train - job: name: cloudkitty-tempest-full-v2-storage-influxdb-train parent: cloudkitty-tempest-full-v2-storage-influxdb override-checkout: stable/train vars: devstack_localrc: USE_PYTHON3: True,6,9
openstack%2Fceilometer~stable%2Fxena~I93b6e92a5f46de5486f30a99fa3917a5932f7360,openstack/ceilometer,stable/xena,I93b6e92a5f46de5486f30a99fa3917a5932f7360,Support two nova metadata versions in instance XML,MERGED,2022-02-07 10:07:03.000000000,2022-02-07 15:55:51.000000000,2022-02-07 15:53:35.000000000,"[{'_account_id': 4264}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-07 10:07:03.000000000', 'files': ['ceilometer/compute/discovery.py', 'ceilometer/compute/virt/libvirt/utils.py'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/c724307a080469e25950e25093b3e70b92794415', 'message': 'Support two nova metadata versions in instance XML\n\nthis is followup to I2aa34cf142c6429a7a0a3b8f232c3ed83f7d9981\n\nIn order to support discovery of instances booted before Wallaby,\nceilometer must support working with both 1.0 (old, Victoria and before)\nand 1.1 (new, Wallaby and for now newer) versions of nova metadata.\n\nChange-Id: I93b6e92a5f46de5486f30a99fa3917a5932f7360\nRelated-Bug: #1930446\n(cherry picked from commit 2fc72043d31af7acd45f918eeb290d9d7564d168)\n'}]",0,827967,c724307a080469e25950e25093b3e70b92794415,7,2,1,16137,,,0,"Support two nova metadata versions in instance XML

this is followup to I2aa34cf142c6429a7a0a3b8f232c3ed83f7d9981

In order to support discovery of instances booted before Wallaby,
ceilometer must support working with both 1.0 (old, Victoria and before)
and 1.1 (new, Wallaby and for now newer) versions of nova metadata.

Change-Id: I93b6e92a5f46de5486f30a99fa3917a5932f7360
Related-Bug: #1930446
(cherry picked from commit 2fc72043d31af7acd45f918eeb290d9d7564d168)
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/67/827967/1 && git format-patch -1 --stdout FETCH_HEAD,"['ceilometer/compute/discovery.py', 'ceilometer/compute/virt/libvirt/utils.py']",2,c724307a080469e25950e25093b3e70b92794415,nova-meta-versions-stable/xena,"# NOTE(pas-ha) in the order from newest to oldest NOVA_METADATA_VERSIONS = ( ""http://openstack.org/xmlns/libvirt/nova/1.1"", ""http://openstack.org/xmlns/libvirt/nova/1.0"", ) @retry_on_disconnect def instance_metadata(domain): xml_string = None last_error = None for meta_version in NOVA_METADATA_VERSIONS: try: xml_string = domain.metadata( libvirt.VIR_DOMAIN_METADATA_ELEMENT, meta_version) break except libvirt.libvirtError as exc: if exc.get_error_code() == libvirt.VIR_ERR_NO_DOMAIN_METADATA: LOG.warning(""Failed to find metadata %s in domain %s"", meta_version, domain.UUIDString()) last_error = exc continue elif is_disconnection_exception(exc): # Re-raise the exception so it's handled and retries raise last_error = exc if xml_string is None: LOG.error( ""Fail to get domain uuid %s metadata, libvirtError: %s"", domain.UUIDString(), last_error ) return xml_string",,36,11
openstack%2Fkayobe~stable%2Ftrain~Ie9b15db6563546ede9ce9735292ec566d540432a,openstack/kayobe,stable/train,Ie9b15db6563546ede9ce9735292ec566d540432a,Fix installation prefix detection,ABANDONED,2021-12-06 12:06:53.000000000,2022-02-07 15:55:46.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-12-06 12:06:53.000000000', 'files': ['kayobe/tests/unit/test_utils.py', 'kayobe/utils.py', 'releasenotes/notes/install-prefix-multiple-lib-9288e8c11da3c0bc.yaml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/e42baedeed513c6e2147a2e5b07c252de8481356', 'message': ""Fix installation prefix detection\n\nWhen multiple 'lib' components are present in the installation path,\nKayobe fails to detect the right installation prefix which causes\nvarious commands to raise an error.\n\nRewrite logic to detect the last 'lib' component in path instead. This\nshould work as long as this function is not stored under a lib directory\ninside the Kayobe source tree.\n\nChange-Id: Ie9b15db6563546ede9ce9735292ec566d540432a\nStory: 2009721\nTask: 44109\n(cherry picked from commit e438189a198a3bc656a99be9d82793ddf6077c53)\n""}]",0,820503,e42baedeed513c6e2147a2e5b07c252de8481356,3,1,1,15197,,,0,"Fix installation prefix detection

When multiple 'lib' components are present in the installation path,
Kayobe fails to detect the right installation prefix which causes
various commands to raise an error.

Rewrite logic to detect the last 'lib' component in path instead. This
should work as long as this function is not stored under a lib directory
inside the Kayobe source tree.

Change-Id: Ie9b15db6563546ede9ce9735292ec566d540432a
Story: 2009721
Task: 44109
(cherry picked from commit e438189a198a3bc656a99be9d82793ddf6077c53)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/03/820503/1 && git format-patch -1 --stdout FETCH_HEAD,"['kayobe/tests/unit/test_utils.py', 'kayobe/utils.py', 'releasenotes/notes/install-prefix-multiple-lib-9288e8c11da3c0bc.yaml']",3,e42baedeed513c6e2147a2e5b07c252de8481356,story/2009721-stable/train,--- fixes: - | Fixes a failure to detect the Kayobe installation prefix when ``lib`` is present multiple times in the installation path. See `story 2009721 <https://storyboard.openstack.org/#!/story/2009721>`__ for details. ,,16,6
openstack%2Fpuppet-octavia~master~Ia6cc999d7a008dbd51b28b4c9bc869c723a8be83,openstack/puppet-octavia,master,Ia6cc999d7a008dbd51b28b4c9bc869c723a8be83,Simplify definition to ensure keystone resource creation,MERGED,2022-02-06 15:19:21.000000000,2022-02-07 15:52:12.000000000,2022-02-07 15:52:12.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-06 15:19:21.000000000', 'files': ['manifests/keystone/auth.pp'], 'web_link': 'https://opendev.org/openstack/puppet-octavia/commit/6732e2664d027178fd6a7f284b0064d7d220b960', 'message': 'Simplify definition to ensure keystone resource creation\n\nUse the whole resource type instead of its individual resources, to\nrely on interface instead of implementation of the dependent module.\n\nChange-Id: Ia6cc999d7a008dbd51b28b4c9bc869c723a8be83\n'}]",0,828047,6732e2664d027178fd6a7f284b0064d7d220b960,7,3,1,9816,,,0,"Simplify definition to ensure keystone resource creation

Use the whole resource type instead of its individual resources, to
rely on interface instead of implementation of the dependent module.

Change-Id: Ia6cc999d7a008dbd51b28b4c9bc869c723a8be83
",git fetch https://review.opendev.org/openstack/puppet-octavia refs/changes/47/828047/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/keystone/auth.pp'],1,6732e2664d027178fd6a7f284b0064d7d220b960,key-deps, Keystone::Resource::Service_identity['octavia'] -> Anchor['octavia::service::end']," Keystone_user_role<| name == ""${auth_name}@${tenant}"" |> -> Anchor['octavia::service::end'] Keystone_user_role<| name == ""${auth_name}@::::${system_scope}"" |> -> Anchor['octavia::service::end'] if $configure_endpoint { Keystone_endpoint[""${region}/${service_name}::${service_type}""] -> Anchor['octavia::service::end'] }",1,6
openstack%2Fpuppet-octavia~master~I7a0d4f170a2a58c635240ad7c305467df8f4af2e,openstack/puppet-octavia,master,I7a0d4f170a2a58c635240ad7c305467df8f4af2e,Remove unused logic,MERGED,2022-02-06 14:01:25.000000000,2022-02-07 15:52:10.000000000,2022-02-07 15:52:10.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-06 14:01:25.000000000', 'files': ['manifests/client.pp'], 'web_link': 'https://opendev.org/openstack/puppet-octavia/commit/c1c20ee0e83281d675699f676882a8d8e5c863be', 'message': 'Remove unused logic\n\nThe python-octaviaclient package is available in all distros we\ncurrently support.\n\nChange-Id: I7a0d4f170a2a58c635240ad7c305467df8f4af2e\n'}]",0,828031,c1c20ee0e83281d675699f676882a8d8e5c863be,7,3,1,9816,,,0,"Remove unused logic

The python-octaviaclient package is available in all distros we
currently support.

Change-Id: I7a0d4f170a2a58c635240ad7c305467df8f4af2e
",git fetch https://review.opendev.org/openstack/puppet-octavia refs/changes/31/828031/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/client.pp'],1,c1c20ee0e83281d675699f676882a8d8e5c863be,," package { 'python-octaviaclient': ensure => $ensure, name => $::octavia::params::client_package_name, tag => 'openstack', } include openstacklib::openstackclient"," if $::octavia::params::client_package_name { package { 'python-octaviaclient': ensure => $ensure, name => $::octavia::params::client_package_name, tag => 'openstack', } include openstacklib::openstackclient } else { fail(""There is no avaiable client package in osfamily: ${::osfamily}."") }",5,9
openstack%2Fpuppet-tacker~master~I3457c3746f798548f6026b503f279d6ae94f7c32,openstack/puppet-tacker,master,I3457c3746f798548f6026b503f279d6ae94f7c32,Ensure keystone resources are created during service startup,MERGED,2022-02-06 15:22:04.000000000,2022-02-07 15:47:33.000000000,2022-02-07 15:47:33.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-06 15:22:04.000000000', 'files': ['manifests/keystone/auth.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tacker/commit/cb1078196438f444c1d77852bf2a980fa456116d', 'message': 'Ensure keystone resources are created during service startup\n\nThis change ensures keystone resources like the mistral service user\nare created before completing service setup, so that we can use\nthe service::end anchor to ensure Mistral service is fully available.\n\nChange-Id: I3457c3746f798548f6026b503f279d6ae94f7c32\n'}]",0,828050,cb1078196438f444c1d77852bf2a980fa456116d,7,3,1,9816,,,0,"Ensure keystone resources are created during service startup

This change ensures keystone resources like the mistral service user
are created before completing service setup, so that we can use
the service::end anchor to ensure Mistral service is fully available.

Change-Id: I3457c3746f798548f6026b503f279d6ae94f7c32
",git fetch https://review.opendev.org/openstack/puppet-tacker refs/changes/50/828050/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/keystone/auth.pp'],1,cb1078196438f444c1d77852bf2a980fa456116d,key-deps, Keystone::Resource::Service_identity['tacker'] -> Anchor['tacker::service::end']," if $configure_user_role { Keystone_user_role[""${auth_name}@${tenant}""] ~> Service <| name == 'tacker-server' |> } if $configure_endpoint { Keystone_endpoint[""${region}/${service_name}::${service_type}""] ~> Service <| name == 'tacker-server' |> }",1,6
openstack%2Fpuppet-cloudkitty~master~I7d1b55e83a097e558db9e1f315c1ee85256d9419,openstack/puppet-cloudkitty,master,I7d1b55e83a097e558db9e1f315c1ee85256d9419,Simplify definition to ensure keystone resource creation,MERGED,2022-02-06 15:02:56.000000000,2022-02-07 15:44:48.000000000,2022-02-07 15:44:48.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-06 15:02:56.000000000', 'files': ['manifests/keystone/auth.pp'], 'web_link': 'https://opendev.org/openstack/puppet-cloudkitty/commit/3c3dc10c81966e9bec66a92954e007f5c8b68df1', 'message': 'Simplify definition to ensure keystone resource creation\n\nUse the whole resource type instead of its individual resources, to\nrely on interface instead of implementation of the dependent module.\n\nChange-Id: I7d1b55e83a097e558db9e1f315c1ee85256d9419\n'}]",0,828036,3c3dc10c81966e9bec66a92954e007f5c8b68df1,7,3,1,9816,,,0,"Simplify definition to ensure keystone resource creation

Use the whole resource type instead of its individual resources, to
rely on interface instead of implementation of the dependent module.

Change-Id: I7d1b55e83a097e558db9e1f315c1ee85256d9419
",git fetch https://review.opendev.org/openstack/puppet-cloudkitty refs/changes/36/828036/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/keystone/auth.pp'],1,3c3dc10c81966e9bec66a92954e007f5c8b68df1,key-deps, Keystone::Resource::Service_identity['cloudkitty'] -> Anchor['cloudkitty::service::end']," if $configure_user_role { Keystone_user_role[""${auth_name}@${tenant}""] ~> Anchor['cloudkitty::service::end'] } if $configure_endpoint { Keystone_endpoint[""${region}/${service_name}::${service_type}""] ~> Anchor['cloudkitty::service::end'] }",1,7
openstack%2Fpython-heatclient~master~I660fadc0b9798214719fe1a1aac0731584806503,openstack/python-heatclient,master,I660fadc0b9798214719fe1a1aac0731584806503,setup.cfg: Replace dashes by underscores,MERGED,2022-02-07 07:47:29.000000000,2022-02-07 15:42:54.000000000,2022-02-07 15:39:13.000000000,"[{'_account_id': 7353}, {'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 28223}, {'_account_id': 30073}]","[{'number': 1, 'created': '2022-02-07 07:47:29.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/python-heatclient/commit/a9abc54844fd7deb25e6860f1114dd22db367281', 'message': ""setup.cfg: Replace dashes by underscores\n\nSince setuptools v54.1.0[1], the parmeters with dash have been\ndeprecated in favor of the new parameters with underscore.\n\nThis change updates the parameters accordingly to avoid the warnings\nlike the example below.\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: I660fadc0b9798214719fe1a1aac0731584806503\n""}]",1,828080,a9abc54844fd7deb25e6860f1114dd22db367281,10,5,1,9816,,,0,"setup.cfg: Replace dashes by underscores

Since setuptools v54.1.0[1], the parmeters with dash have been
deprecated in favor of the new parameters with underscore.

This change updates the parameters accordingly to avoid the warnings
like the example below.

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: I660fadc0b9798214719fe1a1aac0731584806503
",git fetch https://review.opendev.org/openstack/python-heatclient refs/changes/80/828080/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,a9abc54844fd7deb25e6860f1114dd22db367281,,description_file =author_email = openstack-discuss@lists.openstack.org home_page = https://docs.openstack.org/python-heatclient/latest python_requires = >=3.6,description-file =author-email = openstack-discuss@lists.openstack.org home-page = https://docs.openstack.org/python-heatclient/latest python-requires = >=3.6,4,4
openstack%2Fpuppet-openstack-cookiecutter~master~I3cae6998ec9a2157f507650859e030c576a3cd8c,openstack/puppet-openstack-cookiecutter,master,I3cae6998ec9a2157f507650859e030c576a3cd8c,Add support for MultiStrOpt,MERGED,2022-02-06 15:58:36.000000000,2022-02-07 15:42:45.000000000,2022-02-07 15:42:45.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-06 15:58:36.000000000', 'files': ['puppet-{{cookiecutter.project_name}}/lib/puppet/type/{{cookiecutter.project_name}}_config.rb', 'puppet-{{cookiecutter.project_name}}/spec/unit/provider/{{cookiecutter.project_name}}_config/ini_setting_spec.rb', 'puppet-{{cookiecutter.project_name}}/spec/unit/type/{{cookiecutter.project_name}}_config_spec.rb', 'puppet-{{cookiecutter.project_name}}/lib/puppet/provider/{{cookiecutter.project_name}}_config/openstackconfig.rb'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-cookiecutter/commit/a7b1d301490c317ff3ab9faf3ab84495dbd79f62', 'message': 'Add support for MultiStrOpt\n\nThis replaces the provider implementation of aodh_config type so that\nMultiStrOpt, which is used by several options like\n - oslo_messaging_notifications/driver\n - oslo_policy/policy_dirs\nare handled correctly.\n\nChange-Id: I3cae6998ec9a2157f507650859e030c576a3cd8c\n'}]",0,828056,a7b1d301490c317ff3ab9faf3ab84495dbd79f62,7,3,1,9816,,,0,"Add support for MultiStrOpt

This replaces the provider implementation of aodh_config type so that
MultiStrOpt, which is used by several options like
 - oslo_messaging_notifications/driver
 - oslo_policy/policy_dirs
are handled correctly.

Change-Id: I3cae6998ec9a2157f507650859e030c576a3cd8c
",git fetch https://review.opendev.org/openstack/puppet-openstack-cookiecutter refs/changes/56/828056/1 && git format-patch -1 --stdout FETCH_HEAD,"['puppet-{{cookiecutter.project_name}}/lib/puppet/type/{{cookiecutter.project_name}}_config.rb', 'puppet-{{cookiecutter.project_name}}/spec/unit/provider/{{cookiecutter.project_name}}_config/ini_setting_spec.rb', 'puppet-{{cookiecutter.project_name}}/spec/unit/type/{{cookiecutter.project_name}}_config_spec.rb', 'puppet-{{cookiecutter.project_name}}/lib/puppet/provider/{{cookiecutter.project_name}}_config/openstackconfig.rb']",4,a7b1d301490c317ff3ab9faf3ab84495dbd79f62,," :openstackconfig, :parent => Puppet::Type.type(:openstack_config).provider(:ruby)"," :ini_setting, :parent => Puppet::Type.type(:openstack_config).provider(:ini_setting)",17,8
openstack%2Fpuppet-openstack-cookiecutter~master~I1c0739759c43996def7777c4f9aec667d45c2afc,openstack/puppet-openstack-cookiecutter,master,I1c0739759c43996def7777c4f9aec667d45c2afc,Allow purging policy files,MERGED,2022-02-06 15:53:47.000000000,2022-02-07 15:42:43.000000000,2022-02-07 15:42:43.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-06 15:53:47.000000000', 'files': ['puppet-{{cookiecutter.project_name}}/spec/classes/{{cookiecutter.project_name}}_policy_spec.rb', 'puppet-{{cookiecutter.project_name}}/manifests/policy.pp'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-cookiecutter/commit/740d1bb822e8543535a2fccb4f2eab4b5809422c', 'message': 'Allow purging policy files\n\nThis change introduces the new purge_config parameter to the policy\nclass so that any policy rules not managed by puppet manifests can be\ncleared.\n\nChange-Id: I1c0739759c43996def7777c4f9aec667d45c2afc\nCo-Authored-By: Martin Schuppert <mschuppert@redhat.com>\nDepends-On: https://review.opendev.org/802305\n'}]",0,828055,740d1bb822e8543535a2fccb4f2eab4b5809422c,7,3,1,9816,,,0,"Allow purging policy files

This change introduces the new purge_config parameter to the policy
class so that any policy rules not managed by puppet manifests can be
cleared.

Change-Id: I1c0739759c43996def7777c4f9aec667d45c2afc
Co-Authored-By: Martin Schuppert <mschuppert@redhat.com>
Depends-On: https://review.opendev.org/802305
",git fetch https://review.opendev.org/openstack/puppet-openstack-cookiecutter refs/changes/55/828055/1 && git format-patch -1 --stdout FETCH_HEAD,"['puppet-{{cookiecutter.project_name}}/spec/classes/{{cookiecutter.project_name}}_policy_spec.rb', 'puppet-{{cookiecutter.project_name}}/manifests/policy.pp']",2,740d1bb822e8543535a2fccb4f2eab4b5809422c,,"# [*purge_config*] # (optional) Whether to set only the specified policy rules in the policy # file. # Defaults to false. # $purge_config = false, $policy_parameters = { policies => $policies, policy_path => $policy_path, file_user => 'root', file_group => $::{{cookiecutter.project_name}}::params::group, file_format => 'yaml', purge_config => $purge_config, } create_resources('openstacklib::policy', { $policy_path => $policy_parameters })"," Openstacklib::Policy::Base { file_path => $policy_path, file_user => 'root', file_group => $::{{cookiecutter.project_name}}::params::group, file_format => 'yaml', } create_resources('openstacklib::policy::base', $policies)",76,31
openstack%2Fpuppet-manila~master~Iccaebec444416f77ff90e1ff62de2de486c802c9,openstack/puppet-manila,master,Iccaebec444416f77ff90e1ff62de2de486c802c9,Add unit tests of manila::config,MERGED,2022-02-05 10:18:35.000000000,2022-02-07 15:35:14.000000000,2022-02-07 15:35:14.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-05 10:18:35.000000000', 'files': ['spec/classes/manila_config_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-manila/commit/3eaf89cd58dba239b969d5f69ae69da8c7c1be19', 'message': 'Add unit tests of manila::config\n\nChange-Id: Iccaebec444416f77ff90e1ff62de2de486c802c9\n'}]",0,827945,3eaf89cd58dba239b969d5f69ae69da8c7c1be19,7,3,1,9816,,,0,"Add unit tests of manila::config

Change-Id: Iccaebec444416f77ff90e1ff62de2de486c802c9
",git fetch https://review.opendev.org/openstack/puppet-manila refs/changes/45/827945/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/classes/manila_config_spec.rb'],1,3eaf89cd58dba239b969d5f69ae69da8c7c1be19,rootwrap,"require 'spec_helper' describe 'manila::config' do let(:config_hash) do { 'DEFAULT/foo' => { 'value' => 'fooValue' }, 'DEFAULT/bar' => { 'value' => 'barValue' }, 'DEFAULT/baz' => { 'ensure' => 'absent' } } end shared_examples 'manila_config' do let :params do { :manila_config => config_hash } end it { is_expected.to contain_class('manila::deps') } it 'configures arbitrary manila-config configurations' do is_expected.to contain_manila_config('DEFAULT/foo').with_value('fooValue') is_expected.to contain_manila_config('DEFAULT/bar').with_value('barValue') is_expected.to contain_manila_config('DEFAULT/baz').with_ensure('absent') end end shared_examples 'manila_api_paste_ini' do let :params do { :api_paste_ini_config => config_hash } end it 'configures arbitrary manila-api-paste-ini configurations' do is_expected.to contain_manila_api_paste_ini('DEFAULT/foo').with_value('fooValue') is_expected.to contain_manila_api_paste_ini('DEFAULT/bar').with_value('barValue') is_expected.to contain_manila_api_paste_ini('DEFAULT/baz').with_ensure('absent') end end on_supported_os({ :supported_os => OSDefaults.get_supported_os }).each do |os,facts| context ""on #{os}"" do let (:facts) do facts.merge!(OSDefaults.get_facts()) end it_behaves_like 'manila_config' it_behaves_like 'manila_api_paste_ini' end end end ",,49,0
openstack%2Foslo.utils~stable%2Ftrain~I941750b4d49d2d75f0831b24d6dd17f4040f70a2,openstack/oslo.utils,stable/train,I941750b4d49d2d75f0831b24d6dd17f4040f70a2,Fix regex used to mask password,MERGED,2022-02-04 10:09:29.000000000,2022-02-07 15:07:42.000000000,2022-02-07 15:05:51.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-02-04 10:09:29.000000000', 'files': ['oslo_utils/tests/test_strutils.py', 'releasenotes/notes/fix_mask_password_regex-c0661f95a23369a4.yaml', 'oslo_utils/strutils.py'], 'web_link': 'https://opendev.org/openstack/oslo.utils/commit/473f300b07641d79d5253208a4058e773857bec5', 'message': 'Fix regex used to mask password\n\nSome use cases are poorly handled by the regex used\nto mask password. Indeed when the password contains\nquotes or double quotes in the middle such as `pass""word`,\nthe mask_password method will return `***""word`.\n\nFor more details please see\nhttps://bugs.launchpad.net/oslo.utils/+bug/1949623\n\nCloses-Bug: #1949623\nChange-Id: I941750b4d49d2d75f0831b24d6dd17f4040f70a2\n(cherry picked from commit 6e17ae1f7959c64dfd20a5f67edf422e702426aa)\n(cherry picked from commit 5ce8a7f0f8ecec7a85a23ec3d7a7fb1cad14ceba)\n(cherry picked from commit 143d3fbfa1e04778884de5acc08fa6f7fdabb265)\n(cherry picked from commit 65aa4226d4bf286468da6df6759e364c1eb3e049)\n(cherry picked from commit 5e9dfa3408a6fac7e870a9b86ee774b5fd71a595)\n'}]",1,827830,473f300b07641d79d5253208a4058e773857bec5,12,3,1,31245,,,0,"Fix regex used to mask password

Some use cases are poorly handled by the regex used
to mask password. Indeed when the password contains
quotes or double quotes in the middle such as `pass""word`,
the mask_password method will return `***""word`.

For more details please see
https://bugs.launchpad.net/oslo.utils/+bug/1949623

Closes-Bug: #1949623
Change-Id: I941750b4d49d2d75f0831b24d6dd17f4040f70a2
(cherry picked from commit 6e17ae1f7959c64dfd20a5f67edf422e702426aa)
(cherry picked from commit 5ce8a7f0f8ecec7a85a23ec3d7a7fb1cad14ceba)
(cherry picked from commit 143d3fbfa1e04778884de5acc08fa6f7fdabb265)
(cherry picked from commit 65aa4226d4bf286468da6df6759e364c1eb3e049)
(cherry picked from commit 5e9dfa3408a6fac7e870a9b86ee774b5fd71a595)
",git fetch https://review.opendev.org/openstack/oslo.utils refs/changes/30/827830/1 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_utils/tests/test_strutils.py', 'releasenotes/notes/fix_mask_password_regex-c0661f95a23369a4.yaml', 'oslo_utils/strutils.py']",3,473f300b07641d79d5253208a4058e773857bec5,,"_SANITIZE_PATTERNS_WILDCARD = {}_FORMAT_PATTERNS_WILDCARD = [r'([\'\""][^\""\']*%(key)s[0-9]*[\'\""]\s*:\s*u?[\'\""].*[\'\""])[^\""\']*([\'\""])'] # noqa: E501 _SANITIZE_PATTERNS_WILDCARD[key] = [] for pattern in _FORMAT_PATTERNS_WILDCARD: reg_ex = re.compile(pattern % {'key': key}, re.DOTALL | re.IGNORECASE) _SANITIZE_PATTERNS_WILDCARD[key].append(reg_ex) substitute_wildcard = r'\g<1>' # NOTE(hberaud): Those case are poorly handled by previous # patterns. They are passwords with quotes or double quotes. # They also needs a different way to substitute group this is why # they aren't fix in the pattern 1 or 2. for pattern in _SANITIZE_PATTERNS_WILDCARD[key]: message = re.sub(pattern, substitute_wildcard, message)",,35,1
openstack%2Fcharm-manila-ganesha~master~I4236cb4784062807d53381380d9d161ce2f450ee,openstack/charm-manila-ganesha,master,I4236cb4784062807d53381380d9d161ce2f450ee,Use hacluster.add_location(),MERGED,2022-02-04 17:33:08.000000000,2022-02-07 15:05:33.000000000,2022-02-07 15:05:33.000000000,"[{'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-04 17:33:08.000000000', 'files': ['src/reactive/manila_ganesha.py'], 'web_link': 'https://opendev.org/openstack/charm-manila-ganesha/commit/f2d9ed37090607676c5c6b54ea797c55e228d2af', 'message': ""Use hacluster.add_location()\n\nThis change removes the workaround that was needed when the hacluster\ninterface didn't have a method to define colocations.\n\nRelated-Bug: #1880644\nChange-Id: I4236cb4784062807d53381380d9d161ce2f450ee\n""}]",0,827889,f2d9ed37090607676c5c6b54ea797c55e228d2af,7,3,1,2424,,,0,"Use hacluster.add_location()

This change removes the workaround that was needed when the hacluster
interface didn't have a method to define colocations.

Related-Bug: #1880644
Change-Id: I4236cb4784062807d53381380d9d161ce2f450ee
",git fetch https://review.opendev.org/openstack/charm-manila-ganesha refs/changes/89/827889/1 && git format-patch -1 --stdout FETCH_HEAD,['src/reactive/manila_ganesha.py'],1,f2d9ed37090607676c5c6b54ea797c55e228d2af,bug/1880644," hacluster.add_colocation('ganesha_with_vip', 'inf', ('res_nfs_ganesha_nfs_ganesha', 'grp_ganesha_vips')) hacluster.add_colocation('manila_with_vip', 'inf', ('res_manila_share_manila_share', 'grp_ganesha_vips'))"," # This is a bit of a nasty hack to ensure that we can colocate the # services to make manila + ganesha colocate. This can be tidied up # once # https://bugs.launchpad.net/charm-interface-hacluster/+bug/1880644 # is resolved import relations.hacluster.interface_hacluster.common as hacluster_common # noqa crm = hacluster_common.CRM() crm.colocation('ganesha_with_vip', 'inf', 'res_nfs_ganesha_nfs_ganesha', 'grp_ganesha_vips') crm.colocation('manila_with_vip', 'inf', 'res_manila_share_manila_share', 'grp_ganesha_vips') hacluster.manage_resources(crm)",6,16
openstack%2Fpython-ironic-inspector-client~master~I8cc51ddb1130cebbb9ee68b1f2abc1e7849c1fa9,openstack/python-ironic-inspector-client,master,I8cc51ddb1130cebbb9ee68b1f2abc1e7849c1fa9,setup.cfg: Replace dashes by underscores,MERGED,2022-02-07 07:48:14.000000000,2022-02-07 15:02:24.000000000,2022-02-07 15:00:48.000000000,"[{'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2022-02-07 07:48:14.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/python-ironic-inspector-client/commit/61a323fac9497d53dbbbcb41f6a3c46961b1eb37', 'message': ""setup.cfg: Replace dashes by underscores\n\nSince setuptools v54.1.0[1], the parmeters with dash have been\ndeprecated in favor of the new parameters with underscore.\n\nThis change updates the parameters accordingly to avoid the warnings\nlike the example below.\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: I8cc51ddb1130cebbb9ee68b1f2abc1e7849c1fa9\n""}]",1,828081,61a323fac9497d53dbbbcb41f6a3c46961b1eb37,7,2,1,9816,,,0,"setup.cfg: Replace dashes by underscores

Since setuptools v54.1.0[1], the parmeters with dash have been
deprecated in favor of the new parameters with underscore.

This change updates the parameters accordingly to avoid the warnings
like the example below.

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: I8cc51ddb1130cebbb9ee68b1f2abc1e7849c1fa9
",git fetch https://review.opendev.org/openstack/python-ironic-inspector-client refs/changes/81/828081/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,61a323fac9497d53dbbbcb41f6a3c46961b1eb37,,description_file = README.rstauthor_email = openstack-discuss@lists.openstack.org home_page = https://docs.openstack.org/python-ironic-inspector-client/latest/python_requires = >=3.6,description-file = README.rstauthor-email = openstack-discuss@lists.openstack.org home-page = https://docs.openstack.org/python-ironic-inspector-client/latest/python-requires = >=3.6,4,4
openstack%2Fcinder~master~Ide303685a4cd1477c319b36e67a3b05c8d129126,openstack/cinder,master,Ide303685a4cd1477c319b36e67a3b05c8d129126,Update volume api microversion doc and tests,MERGED,2021-05-13 13:50:33.000000000,2022-02-07 14:35:44.000000000,2021-08-03 17:19:57.000000000,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-13 13:50:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/eb2970652938b3c46e601fd52d8c2de1683c055c', 'message': ""Update volume api microversion doc and tests\n\nWe have many microversions but we but we haven't kept the samples, docs,\nand tests up to date with them.\n\nOf the many microversions this patch will focus on the ones that have\nupdated the fields returned for volumes updating the docs, adding the\nappropriate json samples, updating the tests, and updating the\ncontributor docs to highlight the need to keep these up to date.\n\nSome convenience methods have been added to facilitate the testing:\n\n- use_versions: class decorator that allows us to run the same tests\n  with different microversions, each using their respective json and\n  templates.\n\n- override_mv: method decorator to change the microversion in a single\n  test.\n\n- common_api_sample: context manager to use the base sample instead of a\n  microversion specific one.\n\nChange-Id: Ide303685a4cd1477c319b36e67a3b05c8d129126\n""}, {'number': 2, 'created': '2021-05-20 15:04:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/95ae8a86cb26c292c7e42965b1419b4961419f37', 'message': ""Update volume api microversion doc and tests\n\nWe have many microversions but we but we haven't kept the samples, docs,\nand tests up to date with them.\n\nOf the many microversions this patch will focus on the ones that have\nupdated the fields returned for volumes updating the docs, adding the\nappropriate json samples, updating the tests, and updating the\ncontributor docs to highlight the need to keep these up to date.\n\nSome convenience methods have been added to facilitate the testing:\n\n- use_versions: class decorator that allows us to run the same tests\n  with different microversions, each using their respective json and\n  templates.\n\n- override_mv: method decorator to change the microversion in a single\n  test.\n\n- common_api_sample: context manager to use the base sample instead of a\n  microversion specific one.\n\nChange-Id: Ide303685a4cd1477c319b36e67a3b05c8d129126\n""}, {'number': 3, 'created': '2021-05-25 14:56:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/4d9bedf4a6e7125aa8b0576b65debb11fdf50d6b', 'message': ""Update volume api microversion doc and tests\n\nWe have many microversions but we but we haven't kept the samples, docs,\nand tests up to date with them.\n\nOf the many microversions this patch will focus on the ones that have\nupdated the fields returned for volumes updating the docs, adding the\nappropriate json samples, updating the tests, and updating the\ncontributor docs to highlight the need to keep these up to date.\n\nSome convenience methods have been added to facilitate the testing:\n\n- use_versions: class decorator that allows us to run the same tests\n  with different microversions, each using their respective json and\n  templates.\n\n- override_mv: method decorator to change the microversion in a single\n  test.\n\n- common_api_sample: context manager to use the base sample instead of a\n  microversion specific one.\n\nChange-Id: Ide303685a4cd1477c319b36e67a3b05c8d129126\n""}, {'number': 4, 'created': '2021-05-31 10:55:56.000000000', 'files': ['cinder/tests/functional/functional_helpers.py', 'cinder/tests/functional/test_group_replication.py', 'cinder/tests/functional/api_sample_tests/samples/volumes/v3.61/volumes-list-detailed-response.json.tpl', 'cinder/tests/functional/test_group_snapshots.py', 'api-ref/source/v3/parameters.yaml', 'cinder/tests/functional/api_sample_tests/test_volume_actions.py', 'cinder/tests/functional/api_sample_tests/samples/volumes/v3.61/volume-update-response.json.tpl', 'api-ref/source/v3/samples/volumes/v3.48/volume-show-response.json', 'cinder/tests/functional/api_sample_tests/samples/volumes/v3.21/volume-update-response.json.tpl', 'api-ref/source/v3/samples/volumes/v3.13/volume-create-response.json', 'api-ref/source/v3/samples/volumes/v3.48/volume-update-response.json', 'cinder/tests/functional/api_sample_tests/samples/volumes/v3.21/volumes-list-detailed-response.json.tpl', 'api-ref/source/v3/samples/volumes/v3.21/volumes-list-detailed-response.json', 'api-ref/source/v3/samples/volumes/v3.63/volume-show-response.json', 'cinder/tests/functional/api_sample_tests/samples/volumes/v3.63/volume-show-response.json.tpl', 'api-ref/source/v3/samples/volumes/v3.13/volume-update-response.json', 'api-ref/source/v3/samples/volumes/v3.48/volumes-list-detailed-response.json', 'cinder/tests/functional/api_sample_tests/samples/volumes/v3.13/volume-show-response.json.tpl', 'api-ref/source/v3/samples/volumes/v3.13/volumes-list-detailed-response.json', 'cinder/tests/functional/api_sample_tests/test_limits.py', 'cinder/tests/functional/api_sample_tests/samples/volumes/v3.48/volume-show-response.json.tpl', 'cinder/tests/functional/api_sample_tests/samples/volumes/v3.13/volumes-list-detailed-response.json.tpl', 'cinder/tests/functional/api_sample_tests/samples/volumes/v3.61/volume-show-response.json.tpl', 'api-ref/source/v3/samples/volumes/v3.21/volume-update-response.json', 'cinder/tests/functional/api_sample_tests/samples/volumes/v3.63/volume-create-response.json.tpl', 'api-ref/source/v3/samples/volumes/v3.21/volume-create-response.json', 'cinder/tests/functional/api_sample_tests/samples/volumes/v3.48/volume-update-response.json.tpl', 'api-ref/source/v3/samples/volumes/v3.61/volume-show-response.json', 'cinder/tests/functional/test_default_types.py', 'cinder/tests/functional/test_groups.py', 'doc/source/contributor/api_microversion_dev.rst', 'cinder/tests/functional/api_sample_tests/samples/volumes/volumes-list-detailed-response.json.tpl', 'cinder/tests/functional/api_sample_tests/samples/volumes/v3.13/volume-update-response.json.tpl', 'api-ref/source/v3/volumes-v3-volumes.inc', 'cinder/tests/functional/api_sample_tests/samples/volumes/v3.63/volumes-list-detailed-response.json.tpl', 'api-ref/source/v3/samples/volumes/v3.63/volume-create-response.json', 'cinder/tests/functional/api_sample_tests/test_quota_sets.py', 'api-ref/source/v3/samples/volumes/v3.13/volume-show-response.json', 'cinder/tests/functional/api_sample_tests/test_qos.py', 'cinder/tests/functional/api_sample_tests/test_snapshots.py', 'api-ref/source/v3/samples/volumes/v3.61/volumes-list-detailed-response.json', 'api-ref/source/v3/samples/volumes/v3.63/volume-update-response.json', 'cinder/tests/functional/api_sample_tests/test_volumes.py', 'cinder/tests/functional/api_sample_tests/samples/volumes/v3.21/volume-show-response.json.tpl', 'api-ref/source/v3/samples/volumes/v3.63/volumes-list-detailed-response.json', 'cinder/tests/functional/api_sample_tests/samples/volumes/v3.21/volume-create-response.json.tpl', 'cinder/tests/functional/api_samples_test_base.py', 'api-ref/source/v3/samples/volumes/v3.48/volume-create-response.json', 'cinder/tests/functional/api_sample_tests/samples/volumes/v3.61/volume-create-response.json.tpl', 'api-ref/source/v3/samples/volumes/volumes-list-detailed-response.json', 'api-ref/source/v3/samples/volumes/v3.61/volume-create-response.json', 'cinder/tests/functional/api_sample_tests/test_volume_transfer.py', 'cinder/tests/functional/api_sample_tests/samples/volumes/v3.13/volume-create-response.json.tpl', 'cinder/tests/functional/api_sample_tests/samples/volumes/v3.48/volumes-list-detailed-response.json.tpl', 'api-ref/source/v3/samples/volumes/v3.61/volume-update-response.json', 'cinder/tests/functional/api_sample_tests/samples/volumes/v3.63/volume-update-response.json.tpl', 'cinder/tests/functional/api_sample_tests/test_quota_classes.py', 'api-ref/source/v3/samples/volumes/v3.21/volume-show-response.json', 'cinder/tests/functional/api_sample_tests/samples/volumes/v3.48/volume-create-response.json.tpl'], 'web_link': 'https://opendev.org/openstack/cinder/commit/dab5df1747a47570cc48c2dad663afce1a25be41', 'message': ""Update volume api microversion doc and tests\n\nWe have many microversions but we but we haven't kept the samples, docs,\nand tests up to date with them.\n\nOf the many microversions this patch will focus on the ones that have\nupdated the fields returned for volumes updating the docs, adding the\nappropriate json samples, updating the tests, and updating the\ncontributor docs to highlight the need to keep these up to date.\n\nSome convenience methods have been added to facilitate the testing:\n\n- use_versions: class decorator that allows us to run the same tests\n  with different microversions, each using their respective json and\n  templates.\n\n- override_mv: method decorator to change the microversion in a single\n  test.\n\n- common_api_sample: context manager to use the base sample instead of a\n  microversion specific one.\n\nChange-Id: Ide303685a4cd1477c319b36e67a3b05c8d129126\n""}]",12,791239,dab5df1747a47570cc48c2dad663afce1a25be41,48,4,4,9535,,,0,"Update volume api microversion doc and tests

We have many microversions but we but we haven't kept the samples, docs,
and tests up to date with them.

Of the many microversions this patch will focus on the ones that have
updated the fields returned for volumes updating the docs, adding the
appropriate json samples, updating the tests, and updating the
contributor docs to highlight the need to keep these up to date.

Some convenience methods have been added to facilitate the testing:

- use_versions: class decorator that allows us to run the same tests
  with different microversions, each using their respective json and
  templates.

- override_mv: method decorator to change the microversion in a single
  test.

- common_api_sample: context manager to use the base sample instead of a
  microversion specific one.

Change-Id: Ide303685a4cd1477c319b36e67a3b05c8d129126
",git fetch https://review.opendev.org/openstack/cinder refs/changes/39/791239/4 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/functional/functional_helpers.py', 'cinder/tests/functional/api_sample_tests/samples/volumes/v3.61/volumes-list-detailed-response.json.tpl', 'api-ref/source/v3/parameters.yaml', 'cinder/tests/functional/api_sample_tests/test_volume_actions.py', 'cinder/tests/functional/api_sample_tests/samples/volumes/v3.61/volume-update-response.json.tpl', 'api-ref/source/v3/samples/volumes/v3.48/volume-show-response.json', 'cinder/tests/functional/api_sample_tests/samples/volumes/v3.21/volume-update-response.json.tpl', 'api-ref/source/v3/samples/volumes/v3.13/volume-create-response.json', 'api-ref/source/v3/samples/volumes/v3.48/volume-update-response.json', 'cinder/tests/functional/api_sample_tests/samples/volumes/v3.21/volumes-list-detailed-response.json.tpl', 'api-ref/source/v3/samples/volumes/v3.21/volumes-list-detailed-response.json', 'api-ref/source/v3/samples/volumes/v3.63/volume-show-response.json', 'cinder/tests/functional/api_sample_tests/samples/volumes/v3.63/volume-show-response.json.tpl', 'api-ref/source/v3/samples/volumes/v3.13/volume-update-response.json', 'api-ref/source/v3/samples/volumes/v3.48/volumes-list-detailed-response.json', 'cinder/tests/functional/api_sample_tests/samples/volumes/v3.13/volume-show-response.json.tpl', 'api-ref/source/v3/samples/volumes/v3.13/volumes-list-detailed-response.json', 'cinder/tests/functional/api_sample_tests/test_limits.py', 'cinder/tests/functional/api_sample_tests/samples/volumes/v3.48/volume-show-response.json.tpl', 'cinder/tests/functional/api_sample_tests/samples/volumes/v3.13/volumes-list-detailed-response.json.tpl', 'cinder/tests/functional/api_sample_tests/samples/volumes/v3.61/volume-show-response.json.tpl', 'api-ref/source/v3/samples/volumes/v3.21/volume-update-response.json', 'cinder/tests/functional/api_sample_tests/samples/volumes/v3.63/volume-create-response.json.tpl', 'api-ref/source/v3/samples/volumes/v3.21/volume-create-response.json', 'cinder/tests/functional/api_sample_tests/samples/volumes/v3.48/volume-update-response.json.tpl', 'api-ref/source/v3/samples/volumes/v3.61/volume-show-response.json', 'doc/source/contributor/api_microversion_dev.rst', 'cinder/tests/functional/api_sample_tests/samples/volumes/volumes-list-detailed-response.json.tpl', 'cinder/tests/functional/api_sample_tests/samples/volumes/v3.13/volume-update-response.json.tpl', 'api-ref/source/v3/volumes-v3-volumes.inc', 'cinder/tests/functional/api_sample_tests/samples/volumes/v3.63/volumes-list-detailed-response.json.tpl', 'api-ref/source/v3/samples/volumes/v3.63/volume-create-response.json', 'cinder/tests/functional/api_sample_tests/test_quota_sets.py', 'api-ref/source/v3/samples/volumes/v3.13/volume-show-response.json', 'cinder/tests/functional/api_sample_tests/test_qos.py', 'cinder/tests/functional/api_sample_tests/test_snapshots.py', 'api-ref/source/v3/samples/volumes/v3.61/volumes-list-detailed-response.json', 'api-ref/source/v3/samples/volumes/v3.63/volume-update-response.json', 'cinder/tests/functional/api_sample_tests/test_volumes.py', 'cinder/tests/functional/api_sample_tests/samples/volumes/v3.21/volume-show-response.json.tpl', 'api-ref/source/v3/samples/volumes/v3.63/volumes-list-detailed-response.json', 'cinder/tests/functional/api_sample_tests/samples/volumes/v3.21/volume-create-response.json.tpl', 'cinder/tests/functional/api_samples_test_base.py', 'api-ref/source/v3/samples/volumes/v3.48/volume-create-response.json', 'cinder/tests/functional/api_sample_tests/samples/volumes/v3.61/volume-create-response.json.tpl', 'api-ref/source/v3/samples/volumes/volumes-list-detailed-response.json', 'api-ref/source/v3/samples/volumes/v3.61/volume-create-response.json', 'cinder/tests/functional/api_sample_tests/test_volume_transfer.py', 'cinder/tests/functional/api_sample_tests/samples/volumes/v3.13/volume-create-response.json.tpl', 'cinder/tests/functional/api_sample_tests/samples/volumes/v3.48/volumes-list-detailed-response.json.tpl', 'api-ref/source/v3/samples/volumes/v3.61/volume-update-response.json', 'cinder/tests/functional/api_sample_tests/samples/volumes/v3.63/volume-update-response.json.tpl', 'cinder/tests/functional/api_sample_tests/test_quota_classes.py', 'api-ref/source/v3/samples/volumes/v3.21/volume-show-response.json', 'cinder/tests/functional/api_sample_tests/samples/volumes/v3.48/volume-create-response.json.tpl']",55,eb2970652938b3c46e601fd52d8c2de1683c055c,off-book,"{ ""volume"": { ""attachments"": [], ""availability_zone"": ""nova"", ""bootable"": ""false"", ""consistencygroup_id"": null, ""created_at"": ""%(strtime)s"", ""description"": null, ""encrypted"": false, ""id"": ""%(uuid)s"", ""links"": [ { ""href"": ""%(host)s/v3/89afd400-b646-4bbc-b12b-c0a4d63e5bd3/volumes/%(uuid)s"", ""rel"": ""self"" }, { ""href"": ""%(host)s/89afd400-b646-4bbc-b12b-c0a4d63e5bd3/volumes/%(uuid)s"", ""rel"": ""bookmark"" } ], ""metadata"": {}, ""migration_status"": null, ""multiattach"": false, ""name"": null, ""replication_status"": null, ""size"": 10, ""snapshot_id"": null, ""source_volid"": null, ""status"": ""creating"", ""updated_at"": null, ""user_id"": ""%(uuid)s"", ""volume_type"": ""__DEFAULT__"", ""group_id"": null, ""provider_id"": null, ""service_uuid"": null, ""shared_targets"": true } } ",,1854,114
openstack%2Fcinder~master~I3df06461ec4b4e770067714f82ca856800eadd6f,openstack/cinder,master,I3df06461ec4b4e770067714f82ca856800eadd6f,"NO merge, test lightbits third party ci",ABANDONED,2022-01-10 16:57:42.000000000,2022-02-07 14:24:23.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-01-10 16:57:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/9c4a762f7296cb8ba6afffa65b26792518fec342', 'message': 'NO merge, test lightbits third party ci\n\nChange-Id: I3df06461ec4b4e770067714f82ca856800eadd6f\n'}, {'number': 2, 'created': '2022-01-10 17:11:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b0113b5d20652cac60f0e2235c1a111411cda195', 'message': 'NO merge, test lightbits third party ci\n\nChange-Id: I3df06461ec4b4e770067714f82ca856800eadd6f\n'}, {'number': 3, 'created': '2022-01-27 11:56:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/fbc2a0cd47c4736b103997c07c94dd57276998fe', 'message': 'NO merge, test lightbits third party ci\n\nChange-Id: I3df06461ec4b4e770067714f82ca856800eadd6f\n'}, {'number': 4, 'created': '2022-02-02 09:52:59.000000000', 'files': ['hello-world.ci'], 'web_link': 'https://opendev.org/openstack/cinder/commit/552192461dcb0812d8a494a8153ae3bc6e11b446', 'message': 'NO merge, test lightbits third party ci\n\nChange-Id: I3df06461ec4b4e770067714f82ca856800eadd6f\n'}]",49,824031,552192461dcb0812d8a494a8153ae3bc6e11b446,196,1,4,33612,,,0,"NO merge, test lightbits third party ci

Change-Id: I3df06461ec4b4e770067714f82ca856800eadd6f
",git fetch https://review.opendev.org/openstack/cinder refs/changes/31/824031/4 && git format-patch -1 --stdout FETCH_HEAD,['hello-world.ci'],1,9c4a762f7296cb8ba6afffa65b26792518fec342,824031,test for lightbits third party ci ,,1,0
openstack%2Ftripleo-quickstart-extras~master~I70cbf111e0fdce47386cac3b50688cbf86558dd5,openstack/tripleo-quickstart-extras,master,I70cbf111e0fdce47386cac3b50688cbf86558dd5,Make sure container_build_id is removed before writing new one,MERGED,2021-12-17 00:29:34.000000000,2022-02-07 14:15:06.000000000,2022-02-07 14:15:06.000000000,"[{'_account_id': 6926}, {'_account_id': 8367}, {'_account_id': 8449}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 22954}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-12-17 00:29:34.000000000', 'files': ['roles/container-prep/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/1c264319f59bf341893b5f324fed01d2f825b903', 'message': 'Make sure container_build_id is removed before writing new one\n\nIf the container_build_id file exists, copying in a new one may fail\nbecause of permission issues on os.rename().\n\nChange-Id: I70cbf111e0fdce47386cac3b50688cbf86558dd5\n'}]",4,822060,1c264319f59bf341893b5f324fed01d2f825b903,29,7,1,6681,,,0,"Make sure container_build_id is removed before writing new one

If the container_build_id file exists, copying in a new one may fail
because of permission issues on os.rename().

Change-Id: I70cbf111e0fdce47386cac3b50688cbf86558dd5
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/60/822060/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/container-prep/tasks/main.yml'],1,1c264319f59bf341893b5f324fed01d2f825b903,,- name: Remove old container_build_id file become: true file: state: absent dest: /tmp/container_build_id tags: - undercloud-install ,,8,0
openstack%2Fpython-aodhclient~master~I5aa097573e323ec0c34cb9d621e85d5259195f21,openstack/python-aodhclient,master,I5aa097573e323ec0c34cb9d621e85d5259195f21,setup.cfg: Replace dashes by underscores,MERGED,2022-02-07 07:43:04.000000000,2022-02-07 13:42:54.000000000,2022-02-07 13:41:07.000000000,"[{'_account_id': 4264}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-07 07:43:04.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/python-aodhclient/commit/20f4372c00e0d33a9e0c4b3ce38fe8b07de5afef', 'message': ""setup.cfg: Replace dashes by underscores\n\nSince setuptools v54.1.0[1], the parmeters with dash have been\ndeprecated in favor of the new parameters with underscore.\n\nThis change updates the parameters accordingly to avoid the warnings\nlike the example below.\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: I5aa097573e323ec0c34cb9d621e85d5259195f21\n""}]",0,828077,20f4372c00e0d33a9e0c4b3ce38fe8b07de5afef,7,2,1,9816,,,0,"setup.cfg: Replace dashes by underscores

Since setuptools v54.1.0[1], the parmeters with dash have been
deprecated in favor of the new parameters with underscore.

This change updates the parameters accordingly to avoid the warnings
like the example below.

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: I5aa097573e323ec0c34cb9d621e85d5259195f21
",git fetch https://review.opendev.org/openstack/python-aodhclient refs/changes/77/828077/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,20f4372c00e0d33a9e0c4b3ce38fe8b07de5afef,setup-cfg,description_file =author_email = openstack-discuss@lists.openstack.org home_page = https://docs.openstack.org/python-aodhclient/latest/ python_requires = >=3.6,description-file =author-email = openstack-discuss@lists.openstack.org home-page = https://docs.openstack.org/python-aodhclient/latest/ python-requires = >=3.6,4,4
openstack%2Ftripleo-validations~master~I90171b424f0678001c2ca53a1fee819993fff6f5,openstack/tripleo-validations,master,I90171b424f0678001c2ca53a1fee819993fff6f5,Substituting 'localhost' for wildcard '*' in image-serve validation,MERGED,2022-02-03 12:31:07.000000000,2022-02-07 13:15:30.000000000,2022-02-07 13:13:10.000000000,"[{'_account_id': 15895}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}]","[{'number': 1, 'created': '2022-02-03 12:31:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/0ae2661e0cd88155325d6206ce99f13270df8b68', 'message': ""Substituting 'localhost' for wildcard '*' in image-serve validation\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I90171b424f0678001c2ca53a1fee819993fff6f5\n""}, {'number': 2, 'created': '2022-02-04 07:25:24.000000000', 'files': ['roles/image_serve/tasks/main.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/16dfbae6a0b36922497a124426d59a934b9d4256', 'message': 'Substituting \'localhost\' for wildcard \'*\' in image-serve validation\n\nRecent changes to the httpd config template[0] have led to\nfailure of the image-serve validation during the ""Ensure registry does answer""\ntask as the \'*\' host was not reachable.\n\nSubstitution of the \'localhost\' for \'*\' should resolve the issue.\n\nSame modification was applied to the ""Ensure port is open"" task\nfor the sake of consistency.\n\nCloses-Bug: #1959864\n\n[0] https://opendev.org/openstack/tripleo-ansible/commit/9b2ffd10dccefcb5462a12ffb86d1eaf8b64adb5\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I90171b424f0678001c2ca53a1fee819993fff6f5\n'}]",6,827654,16dfbae6a0b36922497a124426d59a934b9d4256,16,5,2,32926,,,0,"Substituting 'localhost' for wildcard '*' in image-serve validation

Recent changes to the httpd config template[0] have led to
failure of the image-serve validation during the ""Ensure registry does answer""
task as the '*' host was not reachable.

Substitution of the 'localhost' for '*' should resolve the issue.

Same modification was applied to the ""Ensure port is open"" task
for the sake of consistency.

Closes-Bug: #1959864

[0] https://opendev.org/openstack/tripleo-ansible/commit/9b2ffd10dccefcb5462a12ffb86d1eaf8b64adb5
Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I90171b424f0678001c2ca53a1fee819993fff6f5
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/54/827654/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/image_serve/tasks/main.yaml'],1,0ae2661e0cd88155325d6206ce99f13270df8b68,image-serve/1959864," url: ""http://{{ virthost_name.stdout | regex_replace('^\\*$', 'localhost')}}:{{ container_registry_port }}/v2/index.json"""," url: ""http://{{ virthost_name.stdout }}:{{ container_registry_port }}/v2/index.json""",1,1
openstack%2Fgovernance~master~I24e21c78b4424b974d1f55c57ff62f91820bb66b,openstack/governance,master,I24e21c78b4424b974d1f55c57ff62f91820bb66b,Add dummy charm project,ABANDONED,2022-02-01 15:43:49.000000000,2022-02-07 12:17:07.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-02-01 15:43:49.000000000', 'files': ['reference/projects.yaml'], 'web_link': 'https://opendev.org/openstack/governance/commit/1722708d581366397f7641904d4eb222c1d76eab', 'message': 'Add dummy charm project\n\nThe default git branch in the upstream project is\n`main` instead of `master. The goal here is to verify\nif such a project can successfully be imported.\n\nDepends-On: I5e4db08f9d7600f7ea045907813d4fb0f6264436\nChange-Id: I24e21c78b4424b974d1f55c57ff62f91820bb66b\n'}]",0,827312,1722708d581366397f7641904d4eb222c1d76eab,3,1,1,31289,,,0,"Add dummy charm project

The default git branch in the upstream project is
`main` instead of `master. The goal here is to verify
if such a project can successfully be imported.

Depends-On: I5e4db08f9d7600f7ea045907813d4fb0f6264436
Change-Id: I24e21c78b4424b974d1f55c57ff62f91820bb66b
",git fetch https://review.opendev.org/openstack/governance refs/changes/12/827312/1 && git format-patch -1 --stdout FETCH_HEAD,['reference/projects.yaml'],1,1722708d581366397f7641904d4eb222c1d76eab,project-update, charm-keystone-dummy-git-test: release-management: external repos: - openstack/charm-keystone-dummy-git-test,,4,0
openstack%2Fproject-config~master~I5e4db08f9d7600f7ea045907813d4fb0f6264436,openstack/project-config,master,I5e4db08f9d7600f7ea045907813d4fb0f6264436,Add dummy charm project,ABANDONED,2022-02-01 15:31:38.000000000,2022-02-07 12:16:49.000000000,,"[{'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-01 15:31:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/ac490888b789caf621175b4c5e74fa16b6dff07c', 'message': 'Add dummy charm project\n\nThe default git branch in the upstream project is\n`main` instead of `master. The goal here is to verify\nif such a project can successfully be imported.\n\nChange-Id: I5e4db08f9d7600f7ea045907813d4fb0f6264436\n'}, {'number': 2, 'created': '2022-02-01 15:47:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/14778fc27b80966d7da91b8651788130dd2bbe61', 'message': 'Add dummy charm project\n\nThe default git branch in the upstream project is\n`main` instead of `master. The goal here is to verify\nif such a project can successfully be imported.\n\nChange-Id: I5e4db08f9d7600f7ea045907813d4fb0f6264436\nRequired-By: I24e21c78b4424b974d1f55c57ff62f91820bb66b\n'}, {'number': 3, 'created': '2022-02-01 15:50:40.000000000', 'files': ['zuul/main.yaml', 'gerrit/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/bf6b539f68a51aa038f0018864150fdbdc7eac6e', 'message': 'Add dummy charm project\n\nThe default git branch in the upstream project is\n`main` instead of `master. The goal here is to verify\nif such a project can successfully be imported.\n\nChange-Id: I5e4db08f9d7600f7ea045907813d4fb0f6264436\nRequired-By: I24e21c78b4424b974d1f55c57ff62f91820bb66b\n'}]",4,827307,bf6b539f68a51aa038f0018864150fdbdc7eac6e,8,2,3,31289,,,0,"Add dummy charm project

The default git branch in the upstream project is
`main` instead of `master. The goal here is to verify
if such a project can successfully be imported.

Change-Id: I5e4db08f9d7600f7ea045907813d4fb0f6264436
Required-By: I24e21c78b4424b974d1f55c57ff62f91820bb66b
",git fetch https://review.opendev.org/openstack/project-config refs/changes/07/827307/1 && git format-patch -1 --stdout FETCH_HEAD,"['gerrit/projects.yaml', 'zuul/main.yaml']",2,ac490888b789caf621175b4c5e74fa16b6dff07c,new-project, - openstack/charm-keystone-dummy-git-test,,7,0
openstack%2Fneutron~stable%2Fxena~Iab45da2c1b0be682ab56303ee9b4ee12e09721d4,openstack/neutron,stable/xena,Iab45da2c1b0be682ab56303ee9b4ee12e09721d4,[stable-only] Remove binding:profile.allocation when QoS policy is changed to None,NEW,2021-11-15 13:46:25.000000000,2022-02-07 12:11:26.000000000,,"[{'_account_id': 9708}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 33652}]","[{'number': 1, 'created': '2021-11-15 13:46:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f61c81803fe93659574d4f3d696fc6f1a8b3242c', 'message': ""Remove binding:profile.allocation when QoS policy is changed to None\n\nThis patch fixes an issue with Placement allocation update, when\nQoS policy is changed in following sequence:\n\nQoS(min_bw) -> None -> QoS(min_bw)\n\nWhen QoS policy is set to None, it's necessary to remove RP UUID from\nbinding:profile.allocation. This prevents an error caused by an attempt\nto update non-existent Placement allocation record during subsequent QoS\npolicy updates.\n\nThis is critical, as not all users use Placement enforcement, but\nthey still expect dataplane enforcement to happen.\n\nThis commit is based on 8db15cb2f3dec37441103df15ff28c7e72de682c.\n\nCloses-Bug: #1915856\nChange-Id: Iab45da2c1b0be682ab56303ee9b4ee12e09721d4\n""}, {'number': 2, 'created': '2021-11-19 14:50:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c27f43c551b6a7c930ec67fdfc37318a12d54095', 'message': ""[stable-only] Remove binding:profile.allocation when QoS policy is changed to None\n\nThis patch fixes an issue with Placement allocation update, when\nQoS policy is changed in following sequence:\n\nQoS(min_bw) -> None -> QoS(min_bw)\n\nWhen QoS policy is set to None, it's necessary to remove RP UUID from\nbinding:profile.allocation. This prevents an error caused by an attempt\nto update non-existent Placement allocation record during subsequent QoS\npolicy updates.\n\nThis is critical, as not all users use Placement enforcement, but\nthey still expect dataplane enforcement to happen.\n\nThis commit is based on 8db15cb2f3dec37441103df15ff28c7e72de682c.\n\nCloses-Bug: #1915856\nChange-Id: Iab45da2c1b0be682ab56303ee9b4ee12e09721d4\n""}, {'number': 3, 'created': '2021-11-22 07:09:33.000000000', 'files': ['neutron/services/qos/qos_plugin.py', 'neutron/tests/unit/services/qos/test_qos_plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/a9724e04547a6b27f4606dc1f814a447fa49d591', 'message': ""[stable-only] Remove binding:profile.allocation when QoS policy is changed to None\n\nThis patch fixes an issue with Placement allocation update, when\nQoS policy is changed in following sequence:\n\nQoS(min_bw) -> None -> QoS(min_bw)\n\nWhen QoS policy is set to None, it's necessary to remove RP UUID from\nbinding:profile.allocation. This prevents an error caused by an attempt\nto update non-existent Placement allocation record during subsequent QoS\npolicy updates.\n\nThis is critical, as not all users use Placement enforcement, but\nthey still expect dataplane enforcement to happen.\n\nThis commit is based on 8db15cb2f3dec37441103df15ff28c7e72de682c.\n\nCloses-Bug: #1915856\nChange-Id: Iab45da2c1b0be682ab56303ee9b4ee12e09721d4\n""}]",2,817951,a9724e04547a6b27f4606dc1f814a447fa49d591,16,5,3,33652,,,0,"[stable-only] Remove binding:profile.allocation when QoS policy is changed to None

This patch fixes an issue with Placement allocation update, when
QoS policy is changed in following sequence:

QoS(min_bw) -> None -> QoS(min_bw)

When QoS policy is set to None, it's necessary to remove RP UUID from
binding:profile.allocation. This prevents an error caused by an attempt
to update non-existent Placement allocation record during subsequent QoS
policy updates.

This is critical, as not all users use Placement enforcement, but
they still expect dataplane enforcement to happen.

This commit is based on 8db15cb2f3dec37441103df15ff28c7e72de682c.

Closes-Bug: #1915856
Change-Id: Iab45da2c1b0be682ab56303ee9b4ee12e09721d4
",git fetch https://review.opendev.org/openstack/neutron refs/changes/51/817951/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/services/qos/qos_plugin.py', 'neutron/tests/unit/services/qos/test_qos_plugin.py']",2,f61c81803fe93659574d4f3d696fc6f1a8b3242c,," ""qos_policy_id"": qos1_id, ""binding:profile"": {""allocation"": ""rp:uu:id""}, ""device_id"": ""uu:id"", }, qos1_obj, qos2_obj, kwargs['original_port'], port) qos1_obj, None, kwargs['original_port'], port) kwargs = self._prepare_for_port_placement_allocation_change( qos1, qos2) return kwargs['original_port'], kwargs['port'] original_port, port = self._prepare_port_for_placement_allocation( qos1, qos2) self.qos_plugin._change_placement_allocation( qos1, qos2, original_port, port) original_port, port = self._prepare_port_for_placement_allocation( qos2, qos1) self.qos_plugin._change_placement_allocation( qos1, qos2, original_port, port) original_port, port = self._prepare_port_for_placement_allocation( qos1, qos2, original_port, port) def test_change_placement_allocation_min_bw_dataplane_enforcement(self): qos1 = self._make_qos_policy() qos2 = self._make_qos_policy() original_port, port = self._prepare_port_for_placement_allocation( qos1, qos2, min_kbps2=1000) qos1.rules = [] with mock.patch.object(self.qos_plugin._placement_client, 'update_qos_minbw_allocation') as mock_update_qos_alloc: self.qos_plugin._change_placement_allocation( qos1, qos2, original_port, port) mock_update_qos_alloc.assert_not_called() port = {} qos1, qos2, orig_port, port) port = {} qos1, qos2, orig_port, port) original_port, port = self._prepare_port_for_placement_allocation(qos1) self.qos_plugin._change_placement_allocation( qos1, None, original_port, port) original_port = {'binding:profile': {'allocation': 'rp:uu:id'}, 'device_id': 'uu:id'} port = {} self.qos_plugin._change_placement_allocation( qos1, None, original_port, port) original_port, port = self._prepare_port_for_placement_allocation( qos1, qos2) self.qos_plugin._change_placement_allocation( qos1, qos2, original_port, port) original_port, port = self._prepare_port_for_placement_allocation( qos1, min_kbps1=1000) self.qos_plugin._change_placement_allocation( qos1, qos2, original_port, port) original_port, port = self._prepare_port_for_placement_allocation( qos1, qos2, 1000, 1000) self.qos_plugin._change_placement_allocation( qos1, qos2, original_port, port) original_port, port = self._prepare_port_for_placement_allocation( qos1, qos2) qos1, qos2, original_port, port) original_port, port = self._prepare_port_for_placement_allocation( qos1, qos2) qos1, qos2, original_port, port)"," ""qos_policy_id"": qos1_id}, qos1_obj, qos2_obj, kwargs['original_port']) qos1_obj, None, kwargs['original_port']) orig_port = {'binding:profile': {'allocation': 'rp:uu:id'}, 'device_id': 'uu:id', 'id': 'port_id'} return orig_port port = self._prepare_port_for_placement_allocation(qos1, qos2) self.qos_plugin._change_placement_allocation(qos1, qos2, port) port = self._prepare_port_for_placement_allocation(qos2, qos1) self.qos_plugin._change_placement_allocation(qos1, qos2, port) port = self._prepare_port_for_placement_allocation( qos1, qos2, port) qos1, qos2, orig_port) qos1, qos2, orig_port) port = self._prepare_port_for_placement_allocation(qos1) self.qos_plugin._change_placement_allocation(qos1, None, port) port = {'binding:profile': {'allocation': 'rp:uu:id'}, 'device_id': 'uu:id'} self.qos_plugin._change_placement_allocation(qos1, None, port) port = self._prepare_port_for_placement_allocation(qos1, qos2) self.qos_plugin._change_placement_allocation(qos1, qos2, port) port = self._prepare_port_for_placement_allocation(qos1, min_kbps1=1000) self.qos_plugin._change_placement_allocation(qos1, qos2, port) port = self._prepare_port_for_placement_allocation(qos1, qos2, 1000, 1000) self.qos_plugin._change_placement_allocation(qos1, qos2, port) port = self._prepare_port_for_placement_allocation(qos1, qos2) qos1, qos2, port) port = self._prepare_port_for_placement_allocation(qos1, qos2) qos1, qos2, port)",78,33
openstack%2Ftripleo-heat-templates~stable%2Fvictoria~I8ee338c3f3e20f1826d98efb38d3b21fefda5031,openstack/tripleo-heat-templates,stable/victoria,I8ee338c3f3e20f1826d98efb38d3b21fefda5031,Add parameter IronicIPXEUefiSnpOnly,MERGED,2022-02-05 04:16:26.000000000,2022-02-07 11:58:07.000000000,2022-02-07 11:56:32.000000000,"[{'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 27419}]","[{'number': 1, 'created': '2022-02-05 04:16:26.000000000', 'files': ['deployment/ironic/ironic-conductor-container-puppet.yaml', 'releasenotes/notes/uefi_ipxe_bootfile_name-f2c9cc8971dc1ed8.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/371bb6528fa25935770ba6e4023048bda9f2110e', 'message': ""Add parameter IronicIPXEUefiSnpOnly\n\nAdd new parameter IronicIPXEUefiSnpOnly (default: true).\nWhen `true` ipxe-snponly.efi is used for UEFI, when `false` ipxe.efi\nis used.\n\n'snponly.efi' is the default in puppet-ironic master branch, however\nin Wallaby and earlier releases 'ipxe.efi' is the default. Since\n'ipxe.efi' is not compatible with a lot of hardware TripleO should\nchange this default.\n\nConflicts:\n  deployment/ironic/ironic-conductor-container-puppet.yaml\n\nRelated: RHBZ#2049179\nCloses-Bug: 1959726\nChange-Id: I8ee338c3f3e20f1826d98efb38d3b21fefda5031\n(cherry picked from commit bd13adefd106864504240566d2a3530211cc464f)\n""}]",0,827908,371bb6528fa25935770ba6e4023048bda9f2110e,8,3,1,24245,,,0,"Add parameter IronicIPXEUefiSnpOnly

Add new parameter IronicIPXEUefiSnpOnly (default: true).
When `true` ipxe-snponly.efi is used for UEFI, when `false` ipxe.efi
is used.

'snponly.efi' is the default in puppet-ironic master branch, however
in Wallaby and earlier releases 'ipxe.efi' is the default. Since
'ipxe.efi' is not compatible with a lot of hardware TripleO should
change this default.

Conflicts:
  deployment/ironic/ironic-conductor-container-puppet.yaml

Related: RHBZ#2049179
Closes-Bug: 1959726
Change-Id: I8ee338c3f3e20f1826d98efb38d3b21fefda5031
(cherry picked from commit bd13adefd106864504240566d2a3530211cc464f)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/08/827908/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/ironic/ironic-conductor-container-puppet.yaml', 'releasenotes/notes/uefi_ipxe_bootfile_name-f2c9cc8971dc1ed8.yaml']",2,371bb6528fa25935770ba6e4023048bda9f2110e,bug/1959726-stable/wallaby-stable/victoria,"--- upgrade: - | The default UEFI iPXE bootfile is now `snponly.efi`. The boolean parameter `IronicIPXEUefiSnpOnly` was added to allow custom configuration. When set to `true` snponly is used, when `false` the previous default ipxe.efi is used. See bug: `1959726 <https://bugs.launchpad.net/tripleo/+bug/1959726>`_. ",,21,0
openstack%2Ftripleo-ansible~master~I73b0d054644eb43016d61299b7c372ca86b18472,openstack/tripleo-ansible,master,I73b0d054644eb43016d61299b7c372ca86b18472,historical variable evaluated as bool,MERGED,2022-02-06 23:10:54.000000000,2022-02-07 11:56:35.000000000,2022-02-07 11:56:35.000000000,"[{'_account_id': 8449}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 22954}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-02-06 23:10:54.000000000', 'files': ['tripleo_ansible/roles/backup_and_restore/tasks/run_backup.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/ca7425d3728b4ba16a283440960fd6e180f24c74', 'message': 'historical variable evaluated as bool\n\nThe tripleo_backup_and_restore_historical variable is checked by some\ntasks using when, but as it lacks the | bool extension, it is being\nevaluated as string, meaning that ""false"" is considered a valid and not\nempty string and as such evaluated as true. This patch fixes this\nbehaviour by evaluating the variable as as boolean value\n\nChange-Id: I73b0d054644eb43016d61299b7c372ca86b18472\n'}]",0,828058,ca7425d3728b4ba16a283440960fd6e180f24c74,8,5,1,32968,,,0,"historical variable evaluated as bool

The tripleo_backup_and_restore_historical variable is checked by some
tasks using when, but as it lacks the | bool extension, it is being
evaluated as string, meaning that ""false"" is considered a valid and not
empty string and as such evaluated as true. This patch fixes this
behaviour by evaluating the variable as as boolean value

Change-Id: I73b0d054644eb43016d61299b7c372ca86b18472
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/58/828058/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/backup_and_restore/tasks/run_backup.yml'],1,ca7425d3728b4ba16a283440960fd6e180f24c74,historical_bool, when: tripleo_backup_and_restore_historical | bool - tripleo_backup_and_restore_historical | bool, when: tripleo_backup_and_restore_historical - tripleo_backup_and_restore_historical,2,2
openstack%2Fnova~master~I1973d5bb711a3898d7e21525723701fa9b88978a,openstack/nova,master,I1973d5bb711a3898d7e21525723701fa9b88978a,DNM: troubleshoot nova-next tagged attach test,NEW,2022-02-03 13:10:06.000000000,2022-02-07 11:52:02.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-02-03 13:10:06.000000000', 'files': ['test'], 'web_link': 'https://opendev.org/openstack/nova/commit/89c9eb8e8415175e0b9a3a0a58caef4827a1b58a', 'message': 'DNM: troubleshoot nova-next tagged attach test\n\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/827659\nChange-Id: I1973d5bb711a3898d7e21525723701fa9b88978a\nRelated-Bug: #1959899\n'}]",2,827661,89c9eb8e8415175e0b9a3a0a58caef4827a1b58a,13,1,1,9708,,,0,"DNM: troubleshoot nova-next tagged attach test

Depends-On: https://review.opendev.org/c/openstack/tempest/+/827659
Change-Id: I1973d5bb711a3898d7e21525723701fa9b88978a
Related-Bug: #1959899
",git fetch https://review.opendev.org/openstack/nova refs/changes/61/827661/1 && git format-patch -1 --stdout FETCH_HEAD,['test'],1,89c9eb8e8415175e0b9a3a0a58caef4827a1b58a,bug/1959899,,,0,0
openstack%2Fnova~master~I85183b36499ba93364c113c7746752d0178eb6d9,openstack/nova,master,I85183b36499ba93364c113c7746752d0178eb6d9,DNM: trigger nova-next with new tempest test,NEW,2022-01-13 16:40:22.000000000,2022-02-07 11:51:13.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-01-13 16:40:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cbb3f43ded802d61761d4b0d1729722683956896', 'message': 'DNM: trigger nova-next with new tempest test\n\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/809198\nChange-Id: I85183b36499ba93364c113c7746752d0178eb6d9\n'}, {'number': 2, 'created': '2022-01-14 16:58:23.000000000', 'files': ['test'], 'web_link': 'https://opendev.org/openstack/nova/commit/e1cf58d6f383e85dfad68cad4ac70a1f7912ae00', 'message': 'DNM: trigger nova-next with new tempest test\n\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/809198\nChange-Id: I85183b36499ba93364c113c7746752d0178eb6d9\n'}]",3,824607,e1cf58d6f383e85dfad68cad4ac70a1f7912ae00,35,1,2,9708,,,0,"DNM: trigger nova-next with new tempest test

Depends-On: https://review.opendev.org/c/openstack/tempest/+/809198
Change-Id: I85183b36499ba93364c113c7746752d0178eb6d9
",git fetch https://review.opendev.org/openstack/nova refs/changes/07/824607/2 && git format-patch -1 --stdout FETCH_HEAD,['test'],1,cbb3f43ded802d61761d4b0d1729722683956896,bug/1943724,,,0,0
openstack%2Fnova~master~I6903ce53b9b91325f7268cf2ebd02e4488579560,openstack/nova,master,I6903ce53b9b91325f7268cf2ebd02e4488579560,Move ReaderWriterLock to the test tree,MERGED,2022-01-17 12:35:38.000000000,2022-02-07 11:49:51.000000000,2022-01-18 06:26:58.000000000,"[{'_account_id': 7166}, {'_account_id': 11604}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-17 12:35:38.000000000', 'files': ['requirements.txt', 'test-requirements.txt', 'nova/tests/fixtures/nova.py', 'nova/utils.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/a341851f15060efc2e6e30717339c47c015ed0b7', 'message': 'Move ReaderWriterLock to the test tree\n\nThe commit I168fffac8002f274a905cfd53ac4f6c9abe18803 added a wrapper\naround fasteners.ReaderWriterLock to fix up an issue with eventlet. But\nthe wrapper was added to nova.utils module that is use not only by the\nnova tests but also the nova production code. This made the fixture\nlibrary a dependency of the nova production code. While the current\nReaderWriterLock usage only limited to the nova test sub tree. The\nI712f88fc1b6053fe6d1f13e708f3bd8874452a8f commit fix the issue of not\nhaving fixtures in the nova requirements.txt. However I think a better\nfix is to move the wrapper to the test subtree instead. This patch does\nthat and restores the state of the requirements.txt\n\nChange-Id: I6903ce53b9b91325f7268cf2ebd02e4488579560\nRelated-Bug: #1958075\n'}]",6,824931,a341851f15060efc2e6e30717339c47c015ed0b7,28,4,1,9708,,,0,"Move ReaderWriterLock to the test tree

The commit I168fffac8002f274a905cfd53ac4f6c9abe18803 added a wrapper
around fasteners.ReaderWriterLock to fix up an issue with eventlet. But
the wrapper was added to nova.utils module that is use not only by the
nova tests but also the nova production code. This made the fixture
library a dependency of the nova production code. While the current
ReaderWriterLock usage only limited to the nova test sub tree. The
I712f88fc1b6053fe6d1f13e708f3bd8874452a8f commit fix the issue of not
having fixtures in the nova requirements.txt. However I think a better
fix is to move the wrapper to the test subtree instead. This patch does
that and restores the state of the requirements.txt

Change-Id: I6903ce53b9b91325f7268cf2ebd02e4488579560
Related-Bug: #1958075
",git fetch https://review.opendev.org/openstack/nova refs/changes/31/824931/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'nova/tests/fixtures/nova.py', 'test-requirements.txt', 'nova/utils.py']",4,a341851f15060efc2e6e30717339c47c015ed0b7,bug/1958075,,"import fixtures class ReaderWriterLock(lockutils.ReaderWriterLock): """"""Wrap oslo.concurrency lockutils.ReaderWriterLock to support eventlet. As of fasteners >= 0.15, the workaround code to use eventlet.getcurrent() if eventlet patching is detected has been removed and threading.current_thread is being used instead. Although we are running in a greenlet in our test environment, we are not running in a greenlet of type GreenThread. A GreenThread is created by calling eventlet.spawn() and spawn() is not used to run our tests. At the time of this writing, the eventlet patched threading.current_thread() method falls back to the original unpatched current_thread() method if it is not called from a GreenThead [1] and that breaks our tests involving this fixture. We can work around this by patching threading.current_thread() with eventlet.getcurrent() during creation of the lock object, if we detect we are eventlet patched. If we are not eventlet patched, we use a no-op context manager. Note: this wrapper should be used for any ReaderWriterLock because any lock may possibly be running inside a plain greenlet created by spawn_n(). See https://github.com/eventlet/eventlet/issues/731 for details. [1] https://github.com/eventlet/eventlet/blob/v0.32.0/eventlet/green/threading.py#L128 # noqa """""" def __init__(self, *a, **kw): eventlet_patched = eventlet.patcher.is_monkey_patched('thread') mpatch = fixtures.MonkeyPatch( 'threading.current_thread', eventlet.getcurrent) with mpatch if eventlet_patched else contextlib.ExitStack(): return super().__init__(*a, **kw)",38,37
openstack%2Fpuppet-nova~stable%2Fwallaby~Iff9daf3d284c725d40ecfb85500d77951c3fefcd,openstack/puppet-nova,stable/wallaby,Iff9daf3d284c725d40ecfb85500d77951c3fefcd,CentOS: Ensure /etc/sysconfig/libvirtd(-guests) exists,MERGED,2022-02-03 09:47:30.000000000,2022-02-07 11:17:40.000000000,2022-02-07 11:17:40.000000000,"[{'_account_id': 9414}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 20733}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-03 09:47:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/ad932048a4e94175b4dcd3f28a05d095f0135d34', 'message': ""CentOS: Ensure /etc/sysconfig/libvirtd(-guests) exists\n\nLast build of libvirt in CentOS9 has removed default config files in\n/etc/sysconfig . This is making some file_line resources to fail as\nthe original files no longer exist.\n\nThis patch is creating empty files if the target files don't exist, so\nthat this is compatible with centos8 and centos9 (before and after\ndefault config files removal).\n\n[1] https://bugzilla.redhat.com/show_bug.cgi?id=2042529\n\nCloses-Bug: #1959601\nChange-Id: Iff9daf3d284c725d40ecfb85500d77951c3fefcd\n(cherry picked from commit 99830f8a2d5f3f2b56ed4c050b36fd363c8911e6)\n""}, {'number': 2, 'created': '2022-02-03 10:19:52.000000000', 'files': ['spec/classes/nova_compute_libvirt_guests_spec.rb', 'manifests/compute/libvirt_guests.pp', 'manifests/migration/libvirt.pp', 'spec/classes/nova_migration_libvirt_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/5c8d68ab5e207ec1784ce4c1a9d29f778d4cfaf8', 'message': ""CentOS: Ensure /etc/sysconfig/libvirtd(-guests) exists\n\nLast build of libvirt in CentOS9 has removed default config files in\n/etc/sysconfig . This is making some file_line resources to fail as\nthe original files no longer exist.\n\nThis patch is creating empty files if the target files don't exist, so\nthat this is compatible with centos8 and centos9 (before and after\ndefault config files removal).\n\n[1] https://bugzilla.redhat.com/show_bug.cgi?id=2042529\n\nCloses-Bug: #1959601\nChange-Id: Iff9daf3d284c725d40ecfb85500d77951c3fefcd\n(cherry picked from commit 99830f8a2d5f3f2b56ed4c050b36fd363c8911e6)\n(cherry picked from commit b9398853358be5cb2075cdbb18eff8fd9e22b2dd)\n""}]",3,827631,5c8d68ab5e207ec1784ce4c1a9d29f778d4cfaf8,15,6,2,16312,,,0,"CentOS: Ensure /etc/sysconfig/libvirtd(-guests) exists

Last build of libvirt in CentOS9 has removed default config files in
/etc/sysconfig . This is making some file_line resources to fail as
the original files no longer exist.

This patch is creating empty files if the target files don't exist, so
that this is compatible with centos8 and centos9 (before and after
default config files removal).

[1] https://bugzilla.redhat.com/show_bug.cgi?id=2042529

Closes-Bug: #1959601
Change-Id: Iff9daf3d284c725d40ecfb85500d77951c3fefcd
(cherry picked from commit 99830f8a2d5f3f2b56ed4c050b36fd363c8911e6)
(cherry picked from commit b9398853358be5cb2075cdbb18eff8fd9e22b2dd)
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/31/827631/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/nova_compute_libvirt_guests_spec.rb', 'manifests/compute/libvirt_guests.pp', 'manifests/migration/libvirt.pp', 'spec/classes/nova_migration_libvirt_spec.rb']",4,ad932048a4e94175b4dcd3f28a05d095f0135d34,bug/1959601," it { is_expected.to contain_file('/etc/sysconfig/libvirtd').with( :ensure => 'present', :path => '/etc/sysconfig/libvirtd', :tag => 'libvirt-file', )} it { is_expected.to contain_file('/etc/sysconfig/libvirtd').with( :ensure => 'present', :path => '/etc/sysconfig/libvirtd', :tag => 'libvirt-file', )} it { is_expected.to contain_file('/etc/sysconfig/libvirtd').with( :ensure => 'present', :path => '/etc/sysconfig/libvirtd', :tag => 'libvirt-file', )}",,53,3
openstack%2Foctavia-tempest-plugin~master~Ia1ecf95d269af2f6edbd562f31fb69c2cc884cf0,openstack/octavia-tempest-plugin,master,Ia1ecf95d269af2f6edbd562f31fb69c2cc884cf0,Add stable/xena jobs on master gate,MERGED,2022-01-19 01:43:55.000000000,2022-02-07 11:04:17.000000000,2022-02-07 10:58:45.000000000,"[{'_account_id': 10273}, {'_account_id': 22348}, {'_account_id': 29244}]","[{'number': 1, 'created': '2022-01-19 01:43:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/4b7852e63ce1bcc0f64ec222b337cddfd8cf2492', 'message': 'Add stable/xena jobs on master gate\n\nWe have stable/xena released so we should add\ntheir job on master gate to keep branchless tempest\nplugins compatible to stable branch.\n\nThis also removes the stable/train job as that is in EM\nstate now.\n\nRef: Tempest plugins guide for stable branch testing:\n- https://docs.openstack.org/tempest/latest/stable_branch_testing_policy.html\n\nChange-Id: Ia1ecf95d269af2f6edbd562f31fb69c2cc884cf0\n'}, {'number': 2, 'created': '2022-01-27 17:37:57.000000000', 'files': ['zuul.d/projects.yaml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/6b04038940d5b39539f55555c8bfe7f9d1646ccb', 'message': 'Add stable/xena jobs on master gate\n\nWe have stable/xena released so we should add\ntheir job on master gate to keep branchless tempest\nplugins compatible to stable branch.\n\nThis also removes the stable/train job as that is in EM\nstate now.\n\nRef: Tempest plugins guide for stable branch testing:\n- https://docs.openstack.org/tempest/latest/stable_branch_testing_policy.html\n\nChange-Id: Ia1ecf95d269af2f6edbd562f31fb69c2cc884cf0\n'}]",11,825208,6b04038940d5b39539f55555c8bfe7f9d1646ccb,32,3,2,8556,,,0,"Add stable/xena jobs on master gate

We have stable/xena released so we should add
their job on master gate to keep branchless tempest
plugins compatible to stable branch.

This also removes the stable/train job as that is in EM
state now.

Ref: Tempest plugins guide for stable branch testing:
- https://docs.openstack.org/tempest/latest/stable_branch_testing_policy.html

Change-Id: Ia1ecf95d269af2f6edbd562f31fb69c2cc884cf0
",git fetch https://review.opendev.org/openstack/octavia-tempest-plugin refs/changes/08/825208/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/projects.yaml', 'zuul.d/jobs.yaml']",2,4b7852e63ce1bcc0f64ec222b337cddfd8cf2492,xena-stable-jobs, name: octavia-v2-dsvm-noop-api-stable-xena parent: octavia-v2-dsvm-noop-api override-checkout: stable/xena - job: name: octavia-v2-dsvm-scenario-stable-xena parent: octavia-v2-dsvm-scenario override-checkout: stable/xena - job: name: octavia-v2-dsvm-tls-barbican-stable-xena parent: octavia-v2-dsvm-tls-barbican override-checkout: stable/xena - job: name: octavia-v2-dsvm-spare-pool-stable-xena parent: octavia-v2-dsvm-spare-pool override-checkout: stable/xena - job: name: octavia-v2-act-stdby-dsvm-scenario-stable-xena parent: octavia-v2-act-stdby-dsvm-scenario override-checkout: stable/xena - job:, name: octavia-v2-dsvm-noop-api-stable-train parent: octavia-v2-dsvm-noop-api nodeset: octavia-single-node-ubuntu-bionic override-checkout: stable/train - job:- job: name: octavia-v2-dsvm-scenario-stable-train parent: octavia-v2-dsvm-scenario nodeset: octavia-single-node-ubuntu-bionic override-checkout: stable/train name: octavia-v2-dsvm-tls-barbican-stable-train parent: octavia-v2-dsvm-tls-barbican nodeset: octavia-single-node-ubuntu-bionic override-checkout: stable/train - job: name: octavia-v2-dsvm-spare-pool-stable-train parent: octavia-v2-dsvm-spare-pool nodeset: octavia-single-node-ubuntu-bionic override-checkout: stable/train - job:- job: name: octavia-v2-act-stdby-dsvm-scenario-stable-train parent: octavia-v2-act-stdby-dsvm-scenario nodeset: octavia-single-node-ubuntu-bionic override-checkout: stable/train ,35,40
openstack%2Fopenstack-ansible-os_gnocchi~master~Idaec9f48bb1c7aff926071979773bca97f9ef2b3,openstack/openstack-ansible-os_gnocchi,master,Idaec9f48bb1c7aff926071979773bca97f9ef2b3,Remove apache to uwsgi migration tasks and variables,MERGED,2022-02-02 09:12:25.000000000,2022-02-07 10:31:24.000000000,2022-02-07 10:29:22.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-02-02 09:12:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_gnocchi/commit/7cf58dcdf67c239969ba05ed09e9a0711b05929f', 'message': 'Remove apache to uwsgi migration tasks and variables\n\nChange-Id: Idaec9f48bb1c7aff926071979773bca97f9ef2b3\n'}, {'number': 2, 'created': '2022-02-02 12:14:27.000000000', 'files': ['tasks/gnocchi_post_install.yml', 'vars/redhat.yml', 'vars/debian.yml', 'handlers/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_gnocchi/commit/24356495c324463b2911bc46ef5176754b43b66b', 'message': 'Remove apache to uwsgi migration tasks and variables\n\nChange-Id: Idaec9f48bb1c7aff926071979773bca97f9ef2b3\n'}]",0,827439,24356495c324463b2911bc46ef5176754b43b66b,10,3,2,25023,,,0,"Remove apache to uwsgi migration tasks and variables

Change-Id: Idaec9f48bb1c7aff926071979773bca97f9ef2b3
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_gnocchi refs/changes/39/827439/2 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/gnocchi_post_install.yml', 'vars/redhat.yml', 'vars/debian.yml', 'handlers/main.yml']",4,7cf58dcdf67c239969ba05ed09e9a0711b05929f,,," # NOTE(noonedeadpunk): This task is created due to migration from apache to uwsgi # which was introduced during train release. It can be dropped afterwards. - name: Restart web server service: name: ""{{ gnocchi_system_service_name }}"" enabled: yes state: ""restarted"" daemon_reload: yes failed_when: false",0,43
openstack%2Fnova~master~I44920f20213462a3abe743ccd38b356d6490a7b4,openstack/nova,master,I44920f20213462a3abe743ccd38b356d6490a7b4,"docs: Follow-ups for cells v2, architecture docs",MERGED,2022-02-01 18:32:50.000000000,2022-02-07 10:29:41.000000000,2022-02-07 10:27:51.000000000,"[{'_account_id': 4690}, {'_account_id': 9708}, {'_account_id': 11604}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-01 18:32:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d9a927a65b81bc8a8f33e57abd25ed7581f69cf6', 'message': 'docs: Follow-ups for cells v2 doc\n\nBased on review feedback on [1].\n\n[1] If39db50fd8b109a5a13dec70f8030f3663555065\n\nChange-Id: I44920f20213462a3abe743ccd38b356d6490a7b4\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 2, 'created': '2022-02-02 12:09:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b9c9bf4a49fda1f718a5d893042bdb273faa3d90', 'message': 'docs: Follow-ups for cells v2, architecture docs\n\nBased on review feedback on [1] and [2].\n\n[1] If39db50fd8b109a5a13dec70f8030f3663555065\n[2] I518bb5d586b159b4796fb6139351ba423bc19639\n\nChange-Id: I44920f20213462a3abe743ccd38b356d6490a7b4\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 3, 'created': '2022-02-03 11:42:26.000000000', 'files': ['doc/source/admin/index.rst', 'doc/source/admin/architecture.rst', 'doc/source/admin/cells.rst', 'doc/source/admin/availability-zones.rst', 'doc/source/reference/glossary.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/136f1deb6ec312c1ddd6a1356e2e2dbf6290a2e4', 'message': 'docs: Follow-ups for cells v2, architecture docs\n\nBased on review feedback on [1] and [2].\n\n[1] If39db50fd8b109a5a13dec70f8030f3663555065\n[2] I518bb5d586b159b4796fb6139351ba423bc19639\n\nChange-Id: I44920f20213462a3abe743ccd38b356d6490a7b4\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}]",17,827336,136f1deb6ec312c1ddd6a1356e2e2dbf6290a2e4,26,4,3,15334,,,0,"docs: Follow-ups for cells v2, architecture docs

Based on review feedback on [1] and [2].

[1] If39db50fd8b109a5a13dec70f8030f3663555065
[2] I518bb5d586b159b4796fb6139351ba423bc19639

Change-Id: I44920f20213462a3abe743ccd38b356d6490a7b4
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/36/827336/3 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/cells.rst'],1,d9a927a65b81bc8a8f33e57abd25ed7581f69cf6,docs,"The purpose of the cells functionality in nova is to allow larger deployments to shard their many compute nodes into cells. All nova deployments are by definition cells deployments, even if most will only ever have a single cell. This means a multi-cell deployment will not b radically different from a ""standard"" nova deployment. Consider such a deployment. It will consists of the following components: the API-level services and insulates compute nodes from direct database accessIn smaller deployments, there will typically be a single message queue that all services share and a single database server which hosts the API database, a single cell database, as well as the required cell0 database. Because we only have one ""real"" cell, we consider this a ""single-cell deployment"". In larger deployments, we can opt to shard the deployment using multiple cells. In this configuration there will still only be one global API database but there will be a cell database (where the bulk of the instance information lives) for each cell, each containing a portion of the instances for the entire deployment within, as well as per-cell message queues and per-cell :program:`nova-conductor` instances. There will also be an additional :program:`nova-conductor` instance, known as a *super conductor*, to handle API-level operations.The following section goes into more detail about the difference between single-cell and multi-cell deployments. otherwise require this any-to-any communication style. Check :ref:`upcall` below for the most up-to-date information about any caveats that may be present due to this limitation.","The purpose of the cells functionality in nova is specifically to allow larger deployments to shard their many compute nodes into cells. A basic Nova system consists of the following components: the API-level service and insulates compute nodes from direct database accessAll deployments have at least the above components. Smaller deployments likely have a single message queue that all services share and a single database server which hosts the API database, a single cell database, as well as the required cell0 database. This is considered a ""single-cell deployment"" because it only has one ""real"" cell. However, while there will only ever be one global API database, a larger deployments can have many cell databases (where the bulk of the instance information lives), each with a portion of the instances for the entire deployment within, as well as per-cell message queues.otherwise require this any-to-any communication style. Check the release notes for the version of Nova you are using for the most up-to-date information about any caveats that may be present due to this limitation.",27,18
openstack%2Fpuppet-nova~stable%2Fxena~Iff9daf3d284c725d40ecfb85500d77951c3fefcd,openstack/puppet-nova,stable/xena,Iff9daf3d284c725d40ecfb85500d77951c3fefcd,CentOS: Ensure /etc/sysconfig/libvirtd(-guests) exists,MERGED,2022-02-02 23:05:50.000000000,2022-02-07 10:24:02.000000000,2022-02-07 10:24:02.000000000,"[{'_account_id': 8833}, {'_account_id': 9414}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 16312}, {'_account_id': 22348}, {'_account_id': 30002}]","[{'number': 1, 'created': '2022-02-02 23:05:50.000000000', 'files': ['spec/classes/nova_compute_libvirt_guests_spec.rb', 'manifests/compute/libvirt_guests.pp', 'manifests/migration/libvirt.pp', 'spec/classes/nova_migration_libvirt_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/b9398853358be5cb2075cdbb18eff8fd9e22b2dd', 'message': ""CentOS: Ensure /etc/sysconfig/libvirtd(-guests) exists\n\nLast build of libvirt in CentOS9 has removed default config files in\n/etc/sysconfig . This is making some file_line resources to fail as\nthe original files no longer exist.\n\nThis patch is creating empty files if the target files don't exist, so\nthat this is compatible with centos8 and centos9 (before and after\ndefault config files removal).\n\n[1] https://bugzilla.redhat.com/show_bug.cgi?id=2042529\n\nCloses-Bug: #1959601\nChange-Id: Iff9daf3d284c725d40ecfb85500d77951c3fefcd\n(cherry picked from commit 99830f8a2d5f3f2b56ed4c050b36fd363c8911e6)\n""}]",2,827407,b9398853358be5cb2075cdbb18eff8fd9e22b2dd,13,8,1,9816,,,0,"CentOS: Ensure /etc/sysconfig/libvirtd(-guests) exists

Last build of libvirt in CentOS9 has removed default config files in
/etc/sysconfig . This is making some file_line resources to fail as
the original files no longer exist.

This patch is creating empty files if the target files don't exist, so
that this is compatible with centos8 and centos9 (before and after
default config files removal).

[1] https://bugzilla.redhat.com/show_bug.cgi?id=2042529

Closes-Bug: #1959601
Change-Id: Iff9daf3d284c725d40ecfb85500d77951c3fefcd
(cherry picked from commit 99830f8a2d5f3f2b56ed4c050b36fd363c8911e6)
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/07/827407/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/nova_compute_libvirt_guests_spec.rb', 'manifests/compute/libvirt_guests.pp', 'manifests/migration/libvirt.pp', 'spec/classes/nova_migration_libvirt_spec.rb']",4,b9398853358be5cb2075cdbb18eff8fd9e22b2dd,bug/1959601," it { is_expected.to contain_file('/etc/sysconfig/libvirtd').with( :ensure => 'present', :path => '/etc/sysconfig/libvirtd', :tag => 'libvirt-file', )} it { is_expected.to contain_file('/etc/sysconfig/libvirtd').with( :ensure => 'present', :path => '/etc/sysconfig/libvirtd', :tag => 'libvirt-file', )} it { is_expected.to contain_file('/etc/sysconfig/libvirtd').with( :ensure => 'present', :path => '/etc/sysconfig/libvirtd', :tag => 'libvirt-file', )}",,53,3
openstack%2Freleases~master~Ic06f0a9e70386de2e0a1a757c72a1f4cdbdd2d19,openstack/releases,master,Ic06f0a9e70386de2e0a1a757c72a1f4cdbdd2d19,Add release liaisons for manila,MERGED,2022-01-26 16:13:59.000000000,2022-02-07 10:21:31.000000000,2022-02-07 10:21:31.000000000,"[{'_account_id': 308}, {'_account_id': 9003}, {'_account_id': 11904}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 29632}]","[{'number': 1, 'created': '2022-01-26 16:13:59.000000000', 'files': ['data/release_liaisons.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/8ba936119404943a60915ff00a60c78fb46488bf', 'message': 'Add release liaisons for manila\n\nA couple of other maintainers can help propose\nand review releases.\n\nChange-Id: Ic06f0a9e70386de2e0a1a757c72a1f4cdbdd2d19\n'}]",1,826496,8ba936119404943a60915ff00a60c78fb46488bf,9,7,1,16643,,,0,"Add release liaisons for manila

A couple of other maintainers can help propose
and review releases.

Change-Id: Ic06f0a9e70386de2e0a1a757c72a1f4cdbdd2d19
",git fetch https://review.opendev.org/openstack/releases refs/changes/96/826496/1 && git format-patch -1 --stdout FETCH_HEAD,['data/release_liaisons.yaml'],1,8ba936119404943a60915ff00a60c78fb46488bf,manila, - name: 'Goutham Pacha Ravi' irc: gouthamr email: gouthampravi@gmail.com - name: 'Carlos Eduardo' irc: carloss email: ces.eduardo98@gmail.com,,6,0
openstack%2Freleases~master~If10337ef96594c5432a82d35a64a457446b8a246,openstack/releases,master,If10337ef96594c5432a82d35a64a457446b8a246,[victoria] release oslo deliverables,MERGED,2022-02-03 14:18:14.000000000,2022-02-07 10:16:33.000000000,2022-02-07 10:16:33.000000000,"[{'_account_id': 308}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 31245}]","[{'number': 1, 'created': '2022-02-03 14:18:14.000000000', 'files': ['deliverables/victoria/oslo.utils.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/295a157c246220e99918a8dcc8c66e3d8ae4570a', 'message': '[victoria] release oslo deliverables\n\nChange-Id: If10337ef96594c5432a82d35a64a457446b8a246\n'}]",1,827672,295a157c246220e99918a8dcc8c66e3d8ae4570a,8,4,1,28522,,,0,"[victoria] release oslo deliverables

Change-Id: If10337ef96594c5432a82d35a64a457446b8a246
",git fetch https://review.opendev.org/openstack/releases refs/changes/72/827672/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/victoria/oslo.utils.yaml'],1,295a157c246220e99918a8dcc8c66e3d8ae4570a,oslo-victoria, - version: 4.6.1 projects: - repo: openstack/oslo.utils hash: 65aa4226d4bf286468da6df6759e364c1eb3e049,,4,0
openstack%2Freleases~master~I2eb663d659d180566b1ad9e54844584d9c75fcb9,openstack/releases,master,I2eb663d659d180566b1ad9e54844584d9c75fcb9,Release ironic 18.2.1 for xena,MERGED,2022-01-25 08:33:12.000000000,2022-02-07 10:16:30.000000000,2022-02-07 10:16:30.000000000,"[{'_account_id': 308}, {'_account_id': 10239}, {'_account_id': 15519}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-25 08:33:12.000000000', 'files': ['deliverables/xena/ironic.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/5e8436ae019d11c2e49624d1304b35c5de984b2f', 'message': 'Release ironic 18.2.1 for xena\n\nChange-Id: I2eb663d659d180566b1ad9e54844584d9c75fcb9\n'}]",3,826254,5e8436ae019d11c2e49624d1304b35c5de984b2f,11,5,1,23851,,,0,"Release ironic 18.2.1 for xena

Change-Id: I2eb663d659d180566b1ad9e54844584d9c75fcb9
",git fetch https://review.opendev.org/openstack/releases refs/changes/54/826254/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/xena/ironic.yaml'],1,5e8436ae019d11c2e49624d1304b35c5de984b2f,ironic-xena-1821, - version: 18.2.1 projects: - repo: openstack/ironic hash: ae3da314397b0396d7d8e963f320f3328d40ee46,,4,0
openstack%2Freleases~master~I431930ef1ca69a324898acc36d6b4c30fa892e44,openstack/releases,master,I431930ef1ca69a324898acc36d6b4c30fa892e44,[xena] release oslo deliverables,MERGED,2022-02-03 14:22:27.000000000,2022-02-07 10:16:28.000000000,2022-02-07 10:16:28.000000000,"[{'_account_id': 308}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 31245}]","[{'number': 1, 'created': '2022-02-03 14:22:27.000000000', 'files': ['deliverables/xena/oslo.metrics.yaml', 'deliverables/xena/oslo.messaging.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/8c866a0ec436c7fbb19012ca29422737365e3997', 'message': '[xena] release oslo deliverables\n\nChange-Id: I431930ef1ca69a324898acc36d6b4c30fa892e44\n'}]",2,827675,8c866a0ec436c7fbb19012ca29422737365e3997,10,4,1,28522,,,0,"[xena] release oslo deliverables

Change-Id: I431930ef1ca69a324898acc36d6b4c30fa892e44
",git fetch https://review.opendev.org/openstack/releases refs/changes/75/827675/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/xena/oslo.metrics.yaml', 'deliverables/xena/oslo.messaging.yaml']",2,8c866a0ec436c7fbb19012ca29422737365e3997,oslo-xena, - version: 12.9.2 projects: - repo: openstack/oslo.messaging hash: 4f459f94f85fd6e688cb03a981f4b2c7ab50c119,,8,0
openstack%2Fceilometer~master~I93b6e92a5f46de5486f30a99fa3917a5932f7360,openstack/ceilometer,master,I93b6e92a5f46de5486f30a99fa3917a5932f7360,Support two nova metadata versions in instance XML,MERGED,2022-01-10 12:33:35.000000000,2022-02-07 09:55:58.000000000,2022-02-07 09:54:23.000000000,"[{'_account_id': 4264}, {'_account_id': 9542}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-10 12:33:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/190a7c463962ec3da1898ea8396d6400fc3ee13c', 'message': 'Support two nova metadata versions in instance XML\n\nthis is followup to I2aa34cf142c6429a7a0a3b8f232c3ed83f7d9981\n\nIn order to support discovery of instances booted before Wallaby,\nceilometer must support working with both 1.0 (old, Victoria and before)\nand 1.1 (new, Wallaby and for now newer) versions of nova metadata.\n\nChange-Id: I93b6e92a5f46de5486f30a99fa3917a5932f7360\nRelated-Bug: #1930446\n'}, {'number': 2, 'created': '2022-01-11 08:46:21.000000000', 'files': ['ceilometer/compute/discovery.py', 'ceilometer/compute/virt/libvirt/utils.py'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/2fc72043d31af7acd45f918eeb290d9d7564d168', 'message': 'Support two nova metadata versions in instance XML\n\nthis is followup to I2aa34cf142c6429a7a0a3b8f232c3ed83f7d9981\n\nIn order to support discovery of instances booted before Wallaby,\nceilometer must support working with both 1.0 (old, Victoria and before)\nand 1.1 (new, Wallaby and for now newer) versions of nova metadata.\n\nChange-Id: I93b6e92a5f46de5486f30a99fa3917a5932f7360\nRelated-Bug: #1930446\n'}]",8,823976,2fc72043d31af7acd45f918eeb290d9d7564d168,15,4,2,9542,,,0,"Support two nova metadata versions in instance XML

this is followup to I2aa34cf142c6429a7a0a3b8f232c3ed83f7d9981

In order to support discovery of instances booted before Wallaby,
ceilometer must support working with both 1.0 (old, Victoria and before)
and 1.1 (new, Wallaby and for now newer) versions of nova metadata.

Change-Id: I93b6e92a5f46de5486f30a99fa3917a5932f7360
Related-Bug: #1930446
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/76/823976/1 && git format-patch -1 --stdout FETCH_HEAD,"['ceilometer/compute/discovery.py', 'ceilometer/compute/virt/libvirt/utils.py']",2,190a7c463962ec3da1898ea8396d6400fc3ee13c,nova-meta-versions,"# NOTE(pas-ha) in the order from newest to oldest NOVA_METADATA_VERSIONS = ( ""http://openstack.org/xmlns/libvirt/nova/1.1"", ""http://openstack.org/xmlns/libvirt/nova/1.0"" ) @retry_on_disconnect def instance_metadata(domain): xml_string = None last_error = None for meta_version in NOVA_METADATA_VERSIONS: try: xml_string = domain.metadata( libvirt.VIR_DOMAIN_METADATA_ELEMENT, meta_version) break except libvirt.libvirtError as exc: if exc.get_error_code() == libvirt.VIR_ERR_NO_DOMAIN_METADATA: LOG.warning(""Failed to find metadata %s in domain %s"", meta_version, domain.UUIDString()) last_error = exc continue elif is_disconnection_exception(e): # Re-raise the exception so it's handled and retries raise last_error = exc if xml_string is None: LOG.error( ""Fail to get domain uuid %s metadata, libvirtError: %s"", domain.UUIDString(), last_error) ) return xml_string",,35,11
openstack%2Fhorizon~master~I5a389e5fd04ff07cd0821712a56a319e21d91891,openstack/horizon,master,I5a389e5fd04ff07cd0821712a56a319e21d91891,Make stack template page handle session expiration,MERGED,2021-11-24 15:24:39.000000000,2022-02-07 09:51:26.000000000,2022-02-07 05:58:11.000000000,"[{'_account_id': 841}, {'_account_id': 1736}, {'_account_id': 22348}, {'_account_id': 34406}]","[{'number': 1, 'created': '2021-11-24 15:24:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/7c8aa3076e3418dab71f62d48413125c5cc1efea', 'message': 'Make stack template page handle session expiration\n\nCurrently, stack template diagram ignores user session timeout and\nsilently tries to update diagram data getting 401 response for the every\nrequest. Proposed patch redirects to logout if Heat API returns 401 or 403\n\nChange-Id: I5a389e5fd04ff07cd0821712a56a319e21d91891\n'}, {'number': 2, 'created': '2021-11-24 15:25:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/ea8ace3a09ab1bef48f77054bb391af4b3da029b', 'message': 'Make stack template page handle session expiration\n\nCurrently, stack template diagram ignores user session timeout and\nsilently tries to update diagram data getting 401 response for the every\nrequest. Proposed patch redirects to logout if Heat API returns 401 or 403\n\nCloses-Bug: #1952112\nChange-Id: I5a389e5fd04ff07cd0821712a56a319e21d91891\n'}, {'number': 3, 'created': '2022-01-25 10:55:44.000000000', 'files': ['horizon/static/horizon/js/horizon.heattop.js'], 'web_link': 'https://opendev.org/openstack/horizon/commit/0bba95f190594120c21b8aac1852f113eb902ea6', 'message': 'Make stack template page handle session expiration\n\nCurrently, stack template diagram ignores user session timeout and\nsilently tries to update diagram data getting 401 response for the every\nrequest. Proposed patch redirects to logout if Heat API returns 401 or 403\n\nCloses-Bug: #1952112\nChange-Id: I5a389e5fd04ff07cd0821712a56a319e21d91891\n'}]",3,819124,0bba95f190594120c21b8aac1852f113eb902ea6,20,4,3,27838,,,0,"Make stack template page handle session expiration

Currently, stack template diagram ignores user session timeout and
silently tries to update diagram data getting 401 response for the every
request. Proposed patch redirects to logout if Heat API returns 401 or 403

Closes-Bug: #1952112
Change-Id: I5a389e5fd04ff07cd0821712a56a319e21d91891
",git fetch https://review.opendev.org/openstack/horizon refs/changes/24/819124/1 && git format-patch -1 --stdout FETCH_HEAD,['horizon/static/horizon/js/horizon.heattop.js'],1,7c8aa3076e3418dab71f62d48413125c5cc1efea,," }).fail(function (jqXHR) { if (jqXHR.status === 401 || jqXHR.status === 403) { window.location.replace(logout_url); } logout_url = WEBROOT + 'auth/logout',",,5,0
openstack%2Fcharm-barbican-vault~master~Icf3da0aa6e1820b10f211eb5ab779ff5d3d3f394,openstack/charm-barbican-vault,master,Icf3da0aa6e1820b10f211eb5ab779ff5d3d3f394,Update to build using charmcraft,MERGED,2022-01-26 12:08:25.000000000,2022-02-07 09:45:35.000000000,2022-02-07 09:45:35.000000000,"[{'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2022-01-26 12:08:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-barbican-vault/commit/93e8c6d33f33197de8cb147fee0940ec947a63df', 'message': 'Migrate charm to charmhub latest/edge track\n\nChange-Id: Icf3da0aa6e1820b10f211eb5ab779ff5d3d3f394\n'}, {'number': 2, 'created': '2022-01-27 19:31:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-barbican-vault/commit/0a75cb8e5ab7b7636b1c0db08dd18f8212e3a2c9', 'message': 'Migrate charm to charmhub latest/edge track\n\nChange-Id: Icf3da0aa6e1820b10f211eb5ab779ff5d3d3f394\n'}, {'number': 3, 'created': '2022-02-01 18:43:01.000000000', 'files': ['src/tests/bundles/overlays/local-charm-overlay.yaml.j2', 'osci.yaml', 'test-requirements.txt', 'build-requirements.txt', 'src/tests/bundles/impish-xena.yaml', 'src/tests/bundles/focal-ussuri.yaml', 'src/tests/bundles/focal-xena.yaml', 'src/metadata.yaml', 'src/test-requirements.txt', 'src/tests/tests.yaml', 'src/tests/bundles/bionic-train.yaml', 'src/tests/bundles/bionic-ussuri.yaml', 'src/tests/bundles/focal-yoga.yaml', 'src/tests/bundles/bionic-stein.yaml', 'src/tests/bundles/jammy-yoga.yaml', 'src/tests/bundles/focal-wallaby.yaml', 'rename.sh', 'src/tests/bundles/bionic-rocky.yaml', 'charmcraft.yaml', 'src/tests/bundles/focal-victoria.yaml', 'metadata.yaml', 'src/tests/bundles/hirsute-wallaby.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-barbican-vault/commit/c3718862fe8b6388fb861574df671bb384ce4f6e', 'message': 'Update to build using charmcraft\n\nDue to a build problem with the reactive plugin, this change falls back\non overriding the steps and doing a manual build, but it also ensures\nthe CI system builds the charm using charmcraft.  Changes:\n\n- add a build-requirements.txt\n- modify charmcraft.yaml\n- modify osci.yaml\n    -> indicate build with charmcraft\n- modify tox.ini\n    -> tox -e build does charmcraft build/rename\n    -> tox -e build-reactive does the reactive build\n- modify bundles to use the <charm>.charm artifact in tests.\n  and fix deprecation warning re: prefix\n- tox inception to enable tox -e func-test in the CI\n\nChange-Id: Icf3da0aa6e1820b10f211eb5ab779ff5d3d3f394\n'}]",3,826450,c3718862fe8b6388fb861574df671bb384ce4f6e,20,4,3,20870,,,0,"Update to build using charmcraft

Due to a build problem with the reactive plugin, this change falls back
on overriding the steps and doing a manual build, but it also ensures
the CI system builds the charm using charmcraft.  Changes:

- add a build-requirements.txt
- modify charmcraft.yaml
- modify osci.yaml
    -> indicate build with charmcraft
- modify tox.ini
    -> tox -e build does charmcraft build/rename
    -> tox -e build-reactive does the reactive build
- modify bundles to use the <charm>.charm artifact in tests.
  and fix deprecation warning re: prefix
- tox inception to enable tox -e func-test in the CI

Change-Id: Icf3da0aa6e1820b10f211eb5ab779ff5d3d3f394
",git fetch https://review.opendev.org/openstack/charm-barbican-vault refs/changes/50/826450/2 && git format-patch -1 --stdout FETCH_HEAD,"['src/tests/bundles/overlays/local-charm-overlay.yaml.j2', 'osci.yaml', 'src/tests/bundles/impish-xena.yaml', 'src/tests/bundles/focal-ussuri.yaml', 'src/tests/bundles/focal-xena.yaml', 'src/metadata.yaml', 'src/tests/tests.yaml', 'src/tests/bundles/bionic-train.yaml', 'src/tests/bundles/bionic-ussuri.yaml', 'src/tests/bundles/focal-yoga.yaml', 'src/tests/bundles/bionic-stein.yaml', 'src/tests/bundles/jammy-yoga.yaml', 'src/tests/bundles/focal-wallaby.yaml', 'src/tests/bundles/bionic-rocky.yaml', 'charmcraft.yaml', 'src/tests/bundles/focal-victoria.yaml', 'metadata.yaml', 'src/tests/bundles/hirsute-wallaby.yaml']",18,93e8c6d33f33197de8cb147fee0940ec947a63df,charmhub-migration-master,,variables: openstack-origin: &openstack-origin distro series: hirsute comment: - 'machines section to decide order of deployment. database sooner = faster' machines: '0': constraints: mem=3072M '1': constraints: mem=3072M '2': constraints: mem=3072M '3': '4': '5': '6': '7': '8': applications: keystone-mysql-router: charm: cs:~openstack-charmers-next/mysql-router vault-mysql-router: charm: cs:~openstack-charmers-next/mysql-router barbican-mysql-router: charm: cs:~openstack-charmers-next/mysql-router mysql-innodb-cluster: charm: cs:~openstack-charmers-next/mysql-innodb-cluster num_units: 3 options: source: *openstack-origin to: - '0' - '1' - '2' keystone: charm: cs:~openstack-charmers-next/keystone num_units: 1 options: openstack-origin: *openstack-origin to: - '3' barbican: charm: cs:~openstack-charmers-next/barbican num_units: 3 options: openstack-origin: *openstack-origin to: - '4' - '5' - '6' barbican-vault: charm: ../../../barbican-vault num_units: 0 rabbitmq-server: charm: cs:~openstack-charmers-next/rabbitmq-server num_units: 1 options: source: *openstack-origin to: - '7' vault: charm: cs:~openstack-charmers-next/vault num_units: 1 to: - '8' relations: - - 'keystone:shared-db' - 'keystone-mysql-router:shared-db' - - 'keystone-mysql-router:db-router' - 'mysql-innodb-cluster:db-router' - - 'vault:shared-db' - 'vault-mysql-router:shared-db' - - 'vault-mysql-router:db-router' - 'mysql-innodb-cluster:db-router' - - 'barbican:shared-db' - 'barbican-mysql-router:shared-db' - - 'barbican-mysql-router:db-router' - 'mysql-innodb-cluster:db-router' - - 'keystone:identity-service' - 'barbican:identity-service' - - 'rabbitmq-server:amqp' - 'barbican:amqp' - - 'barbican-vault:secrets' - 'barbican:secrets' - - 'vault:secrets' - 'barbican-vault:secrets-storage' ,100,532
openstack%2Fopenstack-ansible-lxc_container_create~stable%2Fvictoria~I844a0e88fff3272ec1d5bcd1de99f6228bf16e6b,openstack/openstack-ansible-lxc_container_create,stable/victoria,I844a0e88fff3272ec1d5bcd1de99f6228bf16e6b,Remove legacy centos-8 jobs,MERGED,2022-02-07 07:45:32.000000000,2022-02-07 09:34:55.000000000,2022-02-07 09:30:04.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-02-07 07:45:32.000000000', 'files': ['zuul.d/project.yaml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_container_create/commit/ca18916930b05575e44279d8a11e08345f9581f4', 'message': 'Remove legacy centos-8 jobs\n\nChange-Id: I844a0e88fff3272ec1d5bcd1de99f6228bf16e6b\n(cherry picked from commit e68754dc009059f9dc7fdd394eef327082ca384a)\n'}]",0,827960,ca18916930b05575e44279d8a11e08345f9581f4,10,3,1,25023,,,0,"Remove legacy centos-8 jobs

Change-Id: I844a0e88fff3272ec1d5bcd1de99f6228bf16e6b
(cherry picked from commit e68754dc009059f9dc7fdd394eef327082ca384a)
",git fetch https://review.opendev.org/openstack/openstack-ansible-lxc_container_create refs/changes/60/827960/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/project.yaml', 'zuul.d/jobs.yaml']",2,ca18916930b05575e44279d8a11e08345f9581f4,osa/remove-centos8,, name: openstack-ansible-dir-centos-8 parent: openstack-ansible-functional nodeset: centos-8 vars: tox_env: dir - job: name: openstack-ansible-overlayfs-centos-8 parent: openstack-ansible-functional nodeset: centos-8 vars: tox_env: ofs - job:,0,18
openstack%2Freleases~master~I4264e264e5160eb6fbcca5807afbeef39c8d197f,openstack/releases,master,I4264e264e5160eb6fbcca5807afbeef39c8d197f,Release trove for stable/victoria,MERGED,2022-01-21 15:47:45.000000000,2022-02-07 09:29:04.000000000,2022-02-07 09:29:04.000000000,"[{'_account_id': 6732}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-01-21 15:47:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/1d5c729604fb9476a2545ff7c4ad44389b18f2dd', 'message': 'Release trove for stable/victoria\n\nThis release picks up new commits to trove since\nthe last release from stable/victoria.\n\nThis is being proposed as a convenience to help make sure stable\nchanges are being released. If the team is good with this going out,\nplease respond with a +1 to let the release team know it is OK to\nproceed.\n\nIf it is not wanted at this time, or if there are more changes that\nwould be good to get merged before doing a stable release, please\nleave a -1 with a comment with what the team would prefer. We can\nthen either abandon this patch, or wait for an update with a new\ncommit hash to use instead.\n\n$ git log --oneline --no-merges 14.0.0..5165a170\n5165a170 Fix trove guest agent logrotate\n1c38b4c9 Add float types to load_items to support configuration parameters of float type\nc551eac9 Run reset master when setting up mysql replicas\n3b827ef2 Add periodic task to remove postgres archived wal files\nbe65d641 Fix getting config option value for database\n327231dc Keep user defined configuration after resizing instance\ncf13d812 Add package iptables-persistent inside guest instance\n5813fb20 Fix periodic public image job\n003b98a7 Fix check_subnet_router filters\n368915a2 Fix test_create_inactive_datastore_by_admin\ned5c5f96 Stop using pip-and-virtualenv diskimage element\nc91c117a Remove the incorrect log for creating replication cluster\n150072bf Change the default agent_heartbeat_expiry to 90s\n2b6b7ab4 Do not override RESTART_REQUIRED service status\n73978a9b Do not rely on description for checking port type\n3639befa Disable openstack-lower-constraints-jobs\ne1dcb796 Add Neutron extension check before calling some APIs\n753252ab Get slave_pos to choose latest replica\nd6b35435 Use current slave_pos of slave to continue replicate\nb7f1100e Fix the guest service name in troubleshooting guide\na7a92e67 Remove the experimental claim of dev_mode false\n3f4e3779 No validate when perform eject replica source\n33b08936 [docs]Fix wrong links in README\ne53e6385 convert to type str to compare\nad1bc78d Fix the race condition for creating and deleting instance\n698300d8 Do not check server status when waiting for instance removed\n37185903 Fix deleting volume for instance\nc70bf1f7 Make guest agent api changes backwards compatible\n4dfb75e0 Pass availability zone through to volume creation.\n29c336c6 Fix upgrading instance datastore version\naa18d30a Fix edit instance action return code\n47be5fc7 Revert ""Remove flavor API""\n967b6c05 Use datastore manager as opposed to name to restrict actions\n8728ed65 Fix restore encrypted backup\n666b83ae Fix getting user port for instance\nffd08c84 fix typo in docs\nc6a5b067 [TrivialFix] Fix \'--replica-of\' argument format in docs\n0ce59e04 Support to get instances of a specified project\ndfb534c1 Use victoria branch for CI and image build\n555ddb03 Create floating IP in the user\'s project\n\nSigned-off-by: Elod Illes <elod.illes@est.tech>\nChange-Id: I4264e264e5160eb6fbcca5807afbeef39c8d197f\n'}, {'number': 2, 'created': '2022-02-03 11:53:01.000000000', 'files': ['deliverables/victoria/trove.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/ab94a54bd801179b3b669d5c0b50bf06ecca6f94', 'message': 'Release trove for stable/victoria\n\nThis release picks up new commits to trove since\nthe last release from stable/victoria.\n\nThis is being proposed as a convenience to help make sure stable\nchanges are being released. If the team is good with this going out,\nplease respond with a +1 to let the release team know it is OK to\nproceed.\n\nIf it is not wanted at this time, or if there are more changes that\nwould be good to get merged before doing a stable release, please\nleave a -1 with a comment with what the team would prefer. We can\nthen either abandon this patch, or wait for an update with a new\ncommit hash to use instead.\n\nSigned-off-by: Elod Illes <elod.illes@est.tech>\nChange-Id: I4264e264e5160eb6fbcca5807afbeef39c8d197f\n'}]",3,825827,ab94a54bd801179b3b669d5c0b50bf06ecca6f94,14,4,2,17685,,,0,"Release trove for stable/victoria

This release picks up new commits to trove since
the last release from stable/victoria.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

Signed-off-by: Elod Illes <elod.illes@est.tech>
Change-Id: I4264e264e5160eb6fbcca5807afbeef39c8d197f
",git fetch https://review.opendev.org/openstack/releases refs/changes/27/825827/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/victoria/trove.yaml'],1,1d5c729604fb9476a2545ff7c4ad44389b18f2dd,victoria-stable, - version: 14.0.1 projects: - repo: openstack/trove hash: 5165a170c09331643b57e08ecbca85e96bad4ce3,,4,0
openstack%2Frequirements~stable%2Fvictoria~I96bc4d745e6846961573ffd7c7326aa7f725ef2e,openstack/requirements,stable/victoria,I96bc4d745e6846961573ffd7c7326aa7f725ef2e,Bump pyroute2 version to 0.6.5,ABANDONED,2022-02-07 09:00:44.000000000,2022-02-07 09:26:54.000000000,,[],"[{'number': 1, 'created': '2022-02-07 09:00:44.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/14908261b2eb0632d481df910266f078e8bd5c60', 'message': 'Bump pyroute2 version to 0.6.5\n\nThe version 0.5.14 of pyroute2 has a memory leak problem [0] in its NDB\nmodule which causes services using it to be killed by the OOM killer.\nBumping the pyroute2 version to 0.6.5 fixes the problem and matches the\npyroute2 version used in stable/xena.\n\n[0] https://github.com/svinota/pyroute2/issues/789\n\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\nChange-Id: I96bc4d745e6846961573ffd7c7326aa7f725ef2e\n'}]",0,828090,14908261b2eb0632d481df910266f078e8bd5c60,3,0,1,6773,,,0,"Bump pyroute2 version to 0.6.5

The version 0.5.14 of pyroute2 has a memory leak problem [0] in its NDB
module which causes services using it to be killed by the OOM killer.
Bumping the pyroute2 version to 0.6.5 fixes the problem and matches the
pyroute2 version used in stable/xena.

[0] https://github.com/svinota/pyroute2/issues/789

Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
Change-Id: I96bc4d745e6846961573ffd7c7326aa7f725ef2e
",git fetch https://review.opendev.org/openstack/requirements refs/changes/90/828090/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,14908261b2eb0632d481df910266f078e8bd5c60,,pyroute2.nftables===0.6.5pyroute2===0.6.5pyroute2.ethtool===0.6.5pyroute2.nslink===0.6.5pyroute2.ndb===0.6.5pyroute2.core===0.6.5pyroute2.ipdb===0.6.5pyroute2.ipset===0.6.5,pyroute2===0.5.14,8,1
openstack%2Fglance~master~I060d8247c7b09f63990ea411e6c6a056bb50410d,openstack/glance,master,I060d8247c7b09f63990ea411e6c6a056bb50410d,Add fips check jobs,MERGED,2021-05-11 00:51:46.000000000,2022-02-07 09:22:48.000000000,2022-02-07 09:18:00.000000000,"[{'_account_id': 4393}, {'_account_id': 5202}, {'_account_id': 5314}, {'_account_id': 7973}, {'_account_id': 9303}, {'_account_id': 9914}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-11 00:51:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/347c7649f6d79b3978a66cb7a177cae3636062bc', 'message': 'Add fips check job\n\nThis job confirms that the functional tests pass when FIPS is\nenabled on the nodes.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/790534\nChange-Id: I060d8247c7b09f63990ea411e6c6a056bb50410d\n'}, {'number': 2, 'created': '2021-06-08 15:20:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/84f2933e2c1b3868c96a7e82c1eb55fcbdcf396f', 'message': 'WIP: Add fips check job\n\nThis job confirms that the functional tests pass when FIPS is\nenabled on the nodes.\n\nAdded some test code to see if restarting mariadb gets us further.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/790534\nChange-Id: I060d8247c7b09f63990ea411e6c6a056bb50410d\n'}, {'number': 3, 'created': '2021-06-08 16:54:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/2d0dd7262642068054ea93dd986fa40f12cbd57c', 'message': 'WIP: Add fips check job\n\nThis job confirms that the functional tests pass when FIPS is\nenabled on the nodes.\n\nAdded some test code to see if restarting mariadb gets us further.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/790534\nChange-Id: I060d8247c7b09f63990ea411e6c6a056bb50410d\n'}, {'number': 4, 'created': '2021-06-08 17:26:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/c120d8c231f81eae30c4e6703b63819002628650', 'message': 'WIP: Add fips check job\n\nThis job confirms that the functional tests pass when FIPS is\nenabled on the nodes.\n\nAdded some test code to see if restarting mariadb gets us further.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/790534\nChange-Id: I060d8247c7b09f63990ea411e6c6a056bb50410d\n'}, {'number': 5, 'created': '2021-06-08 17:50:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/e347317e33fc28a1f075eb40dd7ff55c63a823fd', 'message': 'WIP: Add fips check job\n\nThis job confirms that the functional tests pass when FIPS is\nenabled on the nodes.\n\nAdded some test code to see if restarting mariadb gets us further.\nRemoved the other ci jobs to speed up testing.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/790534\nChange-Id: I060d8247c7b09f63990ea411e6c6a056bb50410d\n'}, {'number': 6, 'created': '2021-06-08 17:55:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/9c599ddce09d5c1e700dd9363e0e56679deda7b6', 'message': 'WIP: Add fips check job\n\nThis job confirms that the functional tests pass when FIPS is\nenabled on the nodes.\n\nAdded some test code to see if restarting mariadb gets us further.\nRemoved the other ci jobs to speed up testing.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/790534\nChange-Id: I060d8247c7b09f63990ea411e6c6a056bb50410d\n'}, {'number': 7, 'created': '2021-06-08 18:21:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/56e81050392809e1c4b250da02b92598e5d0de5c', 'message': 'WIP: Add fips check job\n\nThis job confirms that the functional tests pass when FIPS is\nenabled on the nodes.\n\nAdded some test code to see if restarting mariadb gets us further.\nRemoved the other ci jobs to speed up testing.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/790534\nChange-Id: I060d8247c7b09f63990ea411e6c6a056bb50410d\n'}, {'number': 8, 'created': '2021-06-10 06:17:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/8922a1fa70e89905ddfbf8a9b3f918d4f5dc4fd6', 'message': 'WIP: Add fips check job\n\nThis job confirms that the functional tests pass when FIPS is\nenabled on the nodes.\n\nAdded code to get dbs working on centos/rhel.\nRemoved the other ci jobs to speed up testing.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/790534\nChange-Id: I060d8247c7b09f63990ea411e6c6a056bb50410d\n'}, {'number': 9, 'created': '2021-06-10 21:45:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/b2b4ab86e67b65c02ec6d96283d557a324fece21', 'message': 'Add fips check job\n\nThis job will confirm that the functional tests pass when FIPS\nmode is enabled on the nodes.\n\nAs the FIPS tests currently run on centos nodes, code is added\nto the test-setup script to set up the databases correctly.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/790534\nChange-Id: I060d8247c7b09f63990ea411e6c6a056bb50410d\n'}, {'number': 10, 'created': '2021-06-16 19:39:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/70d400e319aef10e7e6aad30370db509dd959181', 'message': 'Add fips check job\n\nThis job will confirm that the functional tests pass when FIPS\nmode is enabled on the nodes.\n\nAs the FIPS tests currently run on centos nodes, code is added\nto the test-setup script to set up the databases correctly.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/790534\nChange-Id: I060d8247c7b09f63990ea411e6c6a056bb50410d\n'}, {'number': 11, 'created': '2021-06-16 20:42:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/f77421005dd23935c4ec5ec9eaf85001a08c6930', 'message': 'Add fips check job\n\nThis job will confirm that the functional tests pass when FIPS\nmode is enabled on the nodes.\n\nAs the FIPS tests currently run on centos nodes, code is added\nto the test-setup script to set up the databases correctly.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/790534\nChange-Id: I060d8247c7b09f63990ea411e6c6a056bb50410d\n'}, {'number': 12, 'created': '2021-08-04 22:22:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/eaf04a5cf26631c89cd62e26baee5f36ffa81bc1', 'message': 'Add fips check job\n\nThis job will confirm that the functional tests pass when FIPS\nmode is enabled on the nodes.\n\nAs the FIPS tests currently run on centos nodes, code is added\nto the test-setup script to set up the databases correctly.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/790534\nChange-Id: I060d8247c7b09f63990ea411e6c6a056bb50410d\n'}, {'number': 13, 'created': '2021-08-06 20:39:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/c58b131c62e26fe3ec22e3ddb2030bc0d7ac8734', 'message': 'DNM: Add fips check jobs\n\nThis job will confirm that the functional tests pass when FIPS\nmode is enabled on the nodes.\n\nAs the FIPS tests currently run on centos nodes, code is added\nto the test-setup script to set up the databases correctly.\n\nAt this stage, we will run a bunch of fips jobs only to see if they\nwork.  To speed things up, we comment out non-fips jobs.\n\nOnce we have them working, the glance team can decide which jobs they\nwould like to keep and in what capacity (periodic, replacing an existing job,\nor experimental)\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/790534\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/803800\nChange-Id: I060d8247c7b09f63990ea411e6c6a056bb50410d\n'}, {'number': 14, 'created': '2021-08-06 22:04:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/29e7ab5a8bf084d9345b54835f16f0afd65faee3', 'message': 'DNM: Add fips check jobs\n\nThis job will confirm that the functional tests pass when FIPS\nmode is enabled on the nodes.\n\nAs the FIPS tests currently run on centos nodes, code is added\nto the test-setup script to set up the databases correctly.\n\nAt this stage, we will run a bunch of fips jobs only to see if they\nwork.  To speed things up, we comment out non-fips jobs.\n\nOnce we have them working, the glance team can decide which jobs they\nwould like to keep and in what capacity (periodic, replacing an existing job,\nor experimental)\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/790534\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/803800\nChange-Id: I060d8247c7b09f63990ea411e6c6a056bb50410d\n'}, {'number': 15, 'created': '2021-08-10 18:15:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/1936e8b394503c60c3c3ea32ddd8e3f9a5b5f9b4', 'message': 'DNM: Add fips check jobs\n\nThis job will confirm that the functional tests pass when FIPS\nmode is enabled on the nodes.\n\nAs the FIPS tests currently run on centos nodes, code is added\nto the test-setup script to set up the databases correctly.\n\nAt this stage, we will run a bunch of fips jobs only to see if they\nwork.  To speed things up, we comment out non-fips jobs.\n\nOnce we have them working, the glance team can decide which jobs they\nwould like to keep and in what capacity (periodic, replacing an existing job,\nor experimental)\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/790534\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/803800\nChange-Id: I060d8247c7b09f63990ea411e6c6a056bb50410d\n'}, {'number': 16, 'created': '2021-08-19 17:55:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/cf262657a34575099019f8ed6b07bdac34ec707c', 'message': 'DNM: Add fips check jobs\n\nThis job will confirm that the functional tests pass when FIPS\nmode is enabled on the nodes.\n\nAs the FIPS tests currently run on centos nodes, code is added\nto the test-setup script to set up the databases correctly.\n\nAt this stage, we will run a bunch of fips jobs only to see if they\nwork.  To speed things up, we comment out non-fips jobs.\n\nOnce we have them working, the glance team can decide which jobs they\nwould like to keep and in what capacity (periodic, replacing an existing job,\nor experimental)\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/803706\nDepends-On: https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/790534\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/803800\nChange-Id: I060d8247c7b09f63990ea411e6c6a056bb50410d\n'}, {'number': 17, 'created': '2021-08-19 21:12:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/f3567fbcd64d2eb213939569ba4adf55b9edc1c9', 'message': 'DNM: Add fips check jobs\n\nThis job will confirm that the functional tests pass when FIPS\nmode is enabled on the nodes.\n\nAs the FIPS tests currently run on centos nodes, code is added\nto the test-setup script to set up the databases correctly.  Also had\nto increase the swap space on the nodes; see [0] for an explanation.\n\nAt this stage, we will run a bunch of fips jobs only to see if they\nwork.  To speed things up, we comment out non-fips jobs.\n\nOnce we have them working, the glance team can decide which jobs they\nwould like to keep and in what capacity (periodic, replacing an existing job,\nor experimental)\n\n[0] https://review.opendev.org/c/openstack/devstack/+/803706\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/790534\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/803800\nChange-Id: I060d8247c7b09f63990ea411e6c6a056bb50410d\n'}, {'number': 18, 'created': '2021-08-23 16:12:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/d5d818ca9de813ced9d0f05ff7c6b3b3bc0800f0', 'message': 'DNM: Add fips check jobs\n\nThis job will confirm that the functional tests pass when FIPS\nmode is enabled on the nodes.\n\nAs the FIPS tests currently run on centos nodes, code is added\nto the test-setup script to set up the databases correctly.  Also had\nto increase the swap space on the nodes; see [0] for an explanation.\n\nAt this stage, we will run a bunch of fips jobs only to see if they\nwork.  To speed things up, we comment out non-fips jobs.\n\nOnce we have them working, the glance team can decide which jobs they\nwould like to keep and in what capacity (periodic, replacing an existing job,\nor experimental)\n\n[0] https://review.opendev.org/c/openstack/devstack/+/803706\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/790534\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/803800\nChange-Id: I060d8247c7b09f63990ea411e6c6a056bb50410d\n'}, {'number': 19, 'created': '2021-09-07 00:48:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/4d0307b70038addb870891868cf5e424bf7ad93b', 'message': 'DNM: Add fips check jobs\n\nThis job will confirm that the functional tests pass when FIPS\nmode is enabled on the nodes.\n\nAs the FIPS tests currently run on centos nodes, code is added\nto the test-setup script to set up the databases correctly.  Also had\nto increase the swap space on the nodes; see [0] for an explanation.\n\nAt this stage, we will run a bunch of fips jobs only to see if they\nwork.  To speed things up, we comment out non-fips jobs.\n\nOnce we have them working, the glance team can decide which jobs they\nwould like to keep and in what capacity (periodic, replacing an existing job,\nor experimental)\n\n[0] https://review.opendev.org/c/openstack/devstack/+/803706\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/803800\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/807465\nChange-Id: I060d8247c7b09f63990ea411e6c6a056bb50410d\n'}, {'number': 20, 'created': '2021-09-07 00:57:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/26b2015bcd676a34c51cf088ab3e327515abbeb1', 'message': 'DNM: Add fips check jobs\n\nThis job will confirm that the functional tests pass when FIPS\nmode is enabled on the nodes.\n\nAs the FIPS tests currently run on centos nodes, code is added\nto the test-setup script to set up the databases correctly.  Also had\nto increase the swap space on the nodes; see [0] for an explanation.\n\nAt this stage, we will run a bunch of fips jobs only to see if they\nwork.  To speed things up, we comment out non-fips jobs.\n\nOnce we have them working, the glance team can decide which jobs they\nwould like to keep and in what capacity (periodic, replacing an existing job,\nor experimental)\n\n[0] https://review.opendev.org/c/openstack/devstack/+/803706\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/803800\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/807465\nChange-Id: I060d8247c7b09f63990ea411e6c6a056bb50410d\n'}, {'number': 21, 'created': '2021-10-12 10:53:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/b8df737891e43acbf15efd5212becde64b3c3f8b', 'message': 'DNM: Add fips check jobs\n\nThis job will confirm that the functional tests pass when FIPS\nmode is enabled on the nodes.\n\nAs the FIPS tests currently run on centos nodes, code is added\nto the test-setup script to set up the databases correctly.  Also had\nto increase the swap space on the nodes; see [0] for an explanation.\n\nAt this stage, we will run a bunch of fips jobs only to see if they\nwork.  To speed things up, we comment out non-fips jobs.\n\nOnce we have them working, the glance team can decide which jobs they\nwould like to keep and in what capacity (periodic, replacing an existing job,\nor experimental)\n\n[0] https://review.opendev.org/c/openstack/devstack/+/803706\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/803800\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/807465\nChange-Id: I060d8247c7b09f63990ea411e6c6a056bb50410d\n'}, {'number': 22, 'created': '2021-10-12 10:55:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/83f72bbde364173d958b8e5d23cca9b18f27898e', 'message': 'DNM: Add fips check jobs\n\nThis job will confirm that the functional tests pass when FIPS\nmode is enabled on the nodes.\n\nAs the FIPS tests currently run on centos nodes, code is added\nto the test-setup script to set up the databases correctly.  Also had\nto increase the swap space on the nodes; see [0] for an explanation.\n\nAt this stage, we will run a bunch of fips jobs only to see if they\nwork.  To speed things up, we comment out non-fips jobs.\n\nOnce we have them working, the glance team can decide which jobs they\nwould like to keep and in what capacity (periodic, replacing an existing job,\nor experimental)\n\n[0] https://review.opendev.org/c/openstack/devstack/+/803706\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/803800\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/807465\nChange-Id: I060d8247c7b09f63990ea411e6c6a056bb50410d\n'}, {'number': 23, 'created': '2021-10-12 15:24:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/d0ccc62a9a7a5a8b5faa3581abcae6040a5ab566', 'message': 'DNM: Add fips check jobs\n\nThis job will confirm that the functional tests pass when FIPS\nmode is enabled on the nodes.\n\nAs the FIPS tests currently run on centos nodes, code is added\nto the test-setup script to set up the databases correctly.  Also had\nto increase the swap space on the nodes; see [0] for an explanation.\n\nAt this stage, we will run a bunch of fips jobs only to see if they\nwork.  To speed things up, we comment out non-fips jobs.\n\nOnce we have them working, the glance team can decide which jobs they\nwould like to keep and in what capacity (periodic, replacing an existing job,\nor experimental)\n\n[0] https://review.opendev.org/c/openstack/devstack/+/803706\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/803800\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/810809\nChange-Id: I060d8247c7b09f63990ea411e6c6a056bb50410d\n'}, {'number': 24, 'created': '2021-10-12 20:57:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/4a8f0b692dc52294b486472cecf47edc74de0e00', 'message': 'DNM: Add fips check jobs\n\nThis job will confirm that the functional tests pass when FIPS\nmode is enabled on the nodes.\n\nAs the FIPS tests currently run on centos nodes, code is added\nto the test-setup script to set up the databases correctly.  Also had\nto increase the swap space on the nodes; see [0] for an explanation.\n\nAt this stage, we will run a bunch of fips jobs only to see if they\nwork.  To speed things up, we comment out non-fips jobs.\n\nOnce we have them working, the glance team can decide which jobs they\nwould like to keep and in what capacity (periodic, replacing an existing job,\nor experimental)\n\n[0] https://review.opendev.org/c/openstack/devstack/+/803706\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/803800\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/810809\nDepends-On: https://review.opendev.org/c/openstack/requirements/+/813703\nChange-Id: I060d8247c7b09f63990ea411e6c6a056bb50410d\n'}, {'number': 25, 'created': '2021-10-12 21:50:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/a827e60ed28bd6fc116e750f0284e0d0fef7d638', 'message': 'DNM: Add fips check jobs\n\nThis job will confirm that the functional tests pass when FIPS\nmode is enabled on the nodes.\n\nAs the FIPS tests currently run on centos nodes, code is added\nto the test-setup script to set up the databases correctly.  Also had\nto increase the swap space on the nodes; see [0] for an explanation.\n\nAt this stage, we will run a bunch of fips jobs only to see if they\nwork.  To speed things up, we comment out non-fips jobs.\n\nOnce we have them working, the glance team can decide which jobs they\nwould like to keep and in what capacity (periodic, replacing an existing job,\nor experimental)\n\n[0] https://review.opendev.org/c/openstack/devstack/+/803706\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/803800\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/810809\nChange-Id: I060d8247c7b09f63990ea411e6c6a056bb50410d\n'}, {'number': 26, 'created': '2021-10-13 10:49:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/547db1d88793f80338d8ad50064a673893a41702', 'message': 'DNM: Add fips check jobs\n\nThis job will confirm that the functional tests pass when FIPS\nmode is enabled on the nodes.\n\nAs the FIPS tests currently run on centos nodes, code is added\nto the test-setup script to set up the databases correctly.  Also had\nto increase the swap space on the nodes; see [0] for an explanation.\n\nAt this stage, we will run a bunch of fips jobs only to see if they\nwork.  To speed things up, we comment out non-fips jobs.\n\nOnce we have them working, the glance team can decide which jobs they\nwould like to keep and in what capacity (periodic, replacing an existing job,\nor experimental)\n\n[0] https://review.opendev.org/c/openstack/devstack/+/803706\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/803800\nDepends-On: https://review.opendev.org/c/openstack/glance/+/813787\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/810809\nChange-Id: I060d8247c7b09f63990ea411e6c6a056bb50410d\n'}, {'number': 27, 'created': '2021-10-14 11:20:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/f594edbdb74f4aa1c9f16b956b02c64b53596007', 'message': 'DNM: Add fips check jobs\n\nThis job will confirm that the functional tests pass when FIPS\nmode is enabled on the nodes.\n\nAs the FIPS tests currently run on centos nodes, code is added\nto the test-setup script to set up the databases correctly.  Also had\nto increase the swap space on the nodes; see [0] for an explanation.\n\nAt this stage, we will run a bunch of fips jobs only to see if they\nwork.  To speed things up, we comment out non-fips jobs.\n\nOnce we have them working, the glance team can decide which jobs they\nwould like to keep and in what capacity (periodic, replacing an existing job,\nor experimental)\n\n[0] https://review.opendev.org/c/openstack/devstack/+/803706\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/803800\nDepends-On: https://review.opendev.org/c/openstack/glance/+/813787\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/810809\nChange-Id: I060d8247c7b09f63990ea411e6c6a056bb50410d\n'}, {'number': 28, 'created': '2021-10-14 11:20:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/d7f1869404fe8a37a9f3ed423c9e1f984e4cccaf', 'message': 'DNM: Add fips check jobs\n\nThis job will confirm that the functional tests pass when FIPS\nmode is enabled on the nodes.\n\nAs the FIPS tests currently run on centos nodes, code is added\nto the test-setup script to set up the databases correctly.  Also had\nto increase the swap space on the nodes; see [0] for an explanation.\n\nAt this stage, we will run a bunch of fips jobs only to see if they\nwork.  To speed things up, we comment out non-fips jobs.\n\nOnce we have them working, the glance team can decide which jobs they\nwould like to keep and in what capacity (periodic, replacing an existing job,\nor experimental)\n\n[0] https://review.opendev.org/c/openstack/devstack/+/803706\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/803800\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/810809\nChange-Id: I060d8247c7b09f63990ea411e6c6a056bb50410d\n'}, {'number': 29, 'created': '2021-10-15 08:58:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/00ced3f9dd1ef3d5f5bbd1c5ab0fcff20fcf61a7', 'message': 'DNM: Add fips check jobs\n\nThis job will confirm that the functional tests pass when FIPS\nmode is enabled on the nodes.\n\nAs the FIPS tests currently run on centos nodes, code is added\nto the test-setup script to set up the databases correctly.  Also had\nto increase the swap space on the nodes; see [0] for an explanation.\n\nAt this stage, we will run a bunch of fips jobs only to see if they\nwork.  To speed things up, we comment out non-fips jobs.\n\nOnce we have them working, the glance team can decide which jobs they\nwould like to keep and in what capacity (periodic, replacing an existing job,\nor experimental)\n\n[0] https://review.opendev.org/c/openstack/devstack/+/803706\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/803800\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/810809\nChange-Id: I060d8247c7b09f63990ea411e6c6a056bb50410d\n'}, {'number': 30, 'created': '2021-10-15 17:06:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/fab03d079dc81c5e278817619a1ad1ab5372ffe2', 'message': 'DNM: Add fips check jobs\n\nThis job will confirm that the functional tests pass when FIPS\nmode is enabled on the nodes.\n\nAs the FIPS tests currently run on centos nodes, code is added\nto the test-setup script to set up the databases correctly.  Also had\nto increase the swap space on the nodes; see [0] for an explanation.\n\nAt this stage, we will run a bunch of fips jobs only to see if they\nwork.  To speed things up, we comment out non-fips jobs.\n\nOnce we have them working, the glance team can decide which jobs they\nwould like to keep and in what capacity (periodic, replacing an existing job,\nor experimental)\n\n[0] https://review.opendev.org/c/openstack/devstack/+/803706\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/803800\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/810809\nChange-Id: I060d8247c7b09f63990ea411e6c6a056bb50410d\n'}, {'number': 31, 'created': '2021-11-16 18:42:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/13520d5d99d8804ae769a86f74cb274148ac3fd9', 'message': 'DNM: Add fips check jobs\n\nThis job will confirm that the functional tests pass when FIPS\nmode is enabled on the nodes.\n\nAs the FIPS tests currently run on centos nodes, code is added\nto the test-setup script to set up the databases correctly.  Also had\nto increase the swap space on the nodes; see [0] for an explanation.\n\nAt this stage, we will run a bunch of fips jobs only to see if they\nwork.  To speed things up, we comment out non-fips jobs.\n\nOnce we have them working, the glance team can decide which jobs they\nwould like to keep and in what capacity (periodic, replacing an existing job,\nor experimental)\n\n[0] https://review.opendev.org/c/openstack/devstack/+/803706\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/803800\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/810809\nChange-Id: I060d8247c7b09f63990ea411e6c6a056bb50410d\n'}, {'number': 32, 'created': '2022-01-17 18:51:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/aff13d53acbd5bc0148864c3bce67d16e69201b3', 'message': 'DNM: Add fips check jobs\n\nThis job will confirm that the functional tests pass when FIPS\nmode is enabled on the nodes.\n\nAs the FIPS tests currently run on centos nodes, code is added\nto the test-setup script to set up the databases correctly.  Also had\nto increase the swap space on the nodes; see [0] for an explanation.\n\nAt this stage, we will run a bunch of fips jobs only to see if they\nwork.  To speed things up, we comment out non-fips jobs.\n\nOnce we have them working, the glance team can decide which jobs they\nwould like to keep and in what capacity (periodic, replacing an existing job,\nor experimental)\n\n[0] https://review.opendev.org/c/openstack/devstack/+/803706\n\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/822560\nChange-Id: I060d8247c7b09f63990ea411e6c6a056bb50410d\n'}, {'number': 33, 'created': '2022-01-17 18:52:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/13c6a96c56ce98bbe5444b81d43c48dcccf1f3aa', 'message': 'DNM: Add fips check jobs\n\nThis job will confirm that the functional tests pass when FIPS\nmode is enabled on the nodes.\n\nAs the FIPS tests currently run on centos nodes, code is added\nto the test-setup script to set up the databases correctly.  Also had\nto increase the swap space on the nodes; see [0] for an explanation.\n\nAt this stage, we will run a bunch of fips jobs only to see if they\nwork.  To speed things up, we comment out non-fips jobs.\n\nOnce we have them working, the glance team can decide which jobs they\nwould like to keep and in what capacity (periodic, replacing an existing job,\nor experimental)\n\n[0] https://review.opendev.org/c/openstack/devstack/+/803706\n\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/822560\nChange-Id: I060d8247c7b09f63990ea411e6c6a056bb50410d\n'}, {'number': 34, 'created': '2022-01-20 17:39:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/7ab5e689e437fb8e1f434f4682ebd475c143ed99', 'message': 'Add fips check jobs\n\nThis job will confirm that the functional tests pass when FIPS\nmode is enabled on the nodes.\n\nAs the FIPS tests currently run on centos nodes, code is added\nto the test-setup script to set up the databases correctly.  Also had\nto increase the swap space on the nodes; see [0] for an explanation.\n\n[0] https://review.opendev.org/c/openstack/devstack/+/803706\n\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/822560\nChange-Id: I060d8247c7b09f63990ea411e6c6a056bb50410d\n'}, {'number': 35, 'created': '2022-01-27 03:47:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/1a31d462e0dd8061b086489dd15ff76d392ae5a4', 'message': 'Add fips check jobs\n\nThis job will confirm that the functional tests pass when FIPS\nmode is enabled on the nodes.\n\nAs the FIPS tests currently run on centos nodes, code is added\nto the test-setup script to set up the databases correctly.  Also had\nto increase the swap space on the nodes; see [0] for an explanation.\n\n[0] https://review.opendev.org/c/openstack/devstack/+/803706\n\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/822560\nChange-Id: I060d8247c7b09f63990ea411e6c6a056bb50410d\n'}, {'number': 36, 'created': '2022-02-03 16:22:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/85345fc5ec284c7866230804f238f96eb4244aad', 'message': 'Add fips check jobs\n\nThis job will confirm that the functional tests pass when FIPS\nmode is enabled on the nodes.\n\nAs the FIPS tests currently run on centos nodes, code is added\nto the test-setup script to set up the databases correctly.  Also had\nto increase the swap space on the nodes; see [0] for an explanation.\n\n[0] https://review.opendev.org/c/openstack/devstack/+/803706\n\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/822560\nChange-Id: I060d8247c7b09f63990ea411e6c6a056bb50410d\n'}, {'number': 37, 'created': '2022-02-03 18:23:52.000000000', 'files': ['playbooks/enable-fips.yaml', '.zuul.yaml', 'tools/test-setup.sh'], 'web_link': 'https://opendev.org/openstack/glance/commit/0f13754f84919ce095cd6962e4b369c926738b77', 'message': 'Add fips check jobs\n\nSome jobs have been modified to run to confirm that functionality is\nstill working when FIPS is enabled on the nodes.\n\nAs the FIPS tests currently run on centos nodes, code is added\nto the test-setup script to set up the databases correctly.  Also had\nto increase the swap space on the nodes; see [0] for an explanation.\n\nThe current FIPS jobs run using python 3.6 on centos-8-stream.  We will\nmodify these to run on centos-9-stream and python 3.9 in a\nsubsequent patch.\n\n[0] https://review.opendev.org/c/openstack/devstack/+/803706\n\nChange-Id: I060d8247c7b09f63990ea411e6c6a056bb50410d\n'}]",37,790536,0f13754f84919ce095cd6962e4b369c926738b77,156,7,37,9914,,,0,"Add fips check jobs

Some jobs have been modified to run to confirm that functionality is
still working when FIPS is enabled on the nodes.

As the FIPS tests currently run on centos nodes, code is added
to the test-setup script to set up the databases correctly.  Also had
to increase the swap space on the nodes; see [0] for an explanation.

The current FIPS jobs run using python 3.6 on centos-8-stream.  We will
modify these to run on centos-9-stream and python 3.9 in a
subsequent patch.

[0] https://review.opendev.org/c/openstack/devstack/+/803706

Change-Id: I060d8247c7b09f63990ea411e6c6a056bb50410d
",git fetch https://review.opendev.org/openstack/glance refs/changes/36/790536/26 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,347c7649f6d79b3978a66cb7a177cae3636062bc,fips-compatibility, - openstack-tox-functional-py36-fips: voting: false,,2,0
openstack%2Fopenstack-ansible-plugins~master~Iacfa3ac92aba39e75934f3cf0814fc4cff20d262,openstack/openstack-ansible-plugins,master,Iacfa3ac92aba39e75934f3cf0814fc4cff20d262,Convert infra-journal-remote playbook to role,MERGED,2022-01-14 16:36:59.000000000,2022-02-07 09:13:49.000000000,2022-02-07 09:12:22.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-01-14 16:36:59.000000000', 'files': ['roles/journald_remote/handlers/main.yml', 'roles/journald_remote/vars/debian.yml', 'roles/journald_remote/vars/redhat.yml', 'roles/journald_remote/defaults/main.yml', 'roles/journald_remote/vars/main.yml', 'roles/journald_remote/tasks/journald_remote_install.yml', 'roles/journald_remote/tasks/journald_remote_post_install.yml', 'roles/journald_remote/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/9bfa2597ed341e94edd76f9a891a76cc0db3fc53', 'message': 'Convert infra-journal-remote playbook to role\n\nThis creates a role that can be re-usable outside of the OSA\nand distributed now as collection instead of the playbook\ninfra-journal-remote.yml that was handling all tasks and logic.\n\nThis also adds some features like being able to provide multiple\ndestinations for journal and makes things more configurable.\n\nDepends-On: https://review.opendev.org/c/openstack/ansible-role-systemd_service/+/816531\nChange-Id: Iacfa3ac92aba39e75934f3cf0814fc4cff20d262\n'}]",0,824731,9bfa2597ed341e94edd76f9a891a76cc0db3fc53,8,3,1,28619,,,0,"Convert infra-journal-remote playbook to role

This creates a role that can be re-usable outside of the OSA
and distributed now as collection instead of the playbook
infra-journal-remote.yml that was handling all tasks and logic.

This also adds some features like being able to provide multiple
destinations for journal and makes things more configurable.

Depends-On: https://review.opendev.org/c/openstack/ansible-role-systemd_service/+/816531
Change-Id: Iacfa3ac92aba39e75934f3cf0814fc4cff20d262
",git fetch https://review.opendev.org/openstack/openstack-ansible-plugins refs/changes/31/824731/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/journald_remote/handlers/main.yml', 'roles/journald_remote/defaults/main.yml', 'roles/journald_remote/vars/debian.yml', 'roles/journald_remote/vars/main.yml', 'roles/journald_remote/vars/redhat.yml', 'roles/journald_remote/tasks/journald_remote_install.yml', 'roles/journald_remote/tasks/journald_remote_post_install.yml', 'roles/journald_remote/tasks/main.yml']",8,9bfa2597ed341e94edd76f9a891a76cc0db3fc53,,"--- # Copyright 2018, Rackspace US, Inc. # Copyright 2022, City Network International AB. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. - name: Gather variables for each operating system include_vars: ""{{ lookup('first_found', params) }}"" vars: params: files: - ""{{ ansible_facts['distribution'] | lower }}-{{ ansible_facts['distribution_version'] | lower }}.yml"" - ""{{ ansible_facts['distribution'] | lower }}-{{ ansible_facts['distribution_major_version'] | lower }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}-{{ ansible_facts['distribution_major_version'] | lower }}.yml"" - ""{{ ansible_facts['distribution'] | lower }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}-{{ ansible_facts['distribution_version'].split('.')[0] }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}.yml"" paths: - ""{{ role_path }}/vars"" tags: - always - name: Install journald-remote packages import_tasks: journald_remote_install.yml tags: - journald-remote-install - journald-remote - name: Configure journald-remote import_tasks: journald_remote_post_install.yml tags: - journald-remote-config - journald-remote ",,271,0
openstack%2Fcharm-manila~master~I7e48c6515f48e77a4045bc5f899e8ca963e1671a,openstack/charm-manila,master,I7e48c6515f48e77a4045bc5f899e8ca963e1671a,Update to build using charmcraft,MERGED,2022-02-01 20:23:11.000000000,2022-02-07 08:46:18.000000000,2022-02-07 08:46:18.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2022-02-01 20:23:11.000000000', 'files': ['osci.yaml', 'test-requirements.txt', 'build-requirements.txt', 'src/tests/bundles/impish-xena.yaml', 'src/tests/bundles/focal-xena.yaml', 'src/test-requirements.txt', 'src/tests/tests.yaml', 'src/tests/bundles/focal-yoga.yaml', 'src/tests/bundles/jammy-yoga.yaml', 'rename.sh', 'charmcraft.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-manila/commit/9f3caabb33c93fe0dabf03540a6ce600712936e4', 'message': 'Update to build using charmcraft\n\nDue to a build problem with the reactive plugin, this change falls back\non overriding the steps and doing a manual build, but it also ensures\nthe CI system builds the charm using charmcraft.  Changes:\n\n- add a build-requirements.txt\n- modify charmcraft.yaml\n- modify osci.yaml\n    -> indicate build with charmcraft\n- modify tox.ini\n    -> tox -e build does charmcraft build/rename\n    -> tox -e build-reactive does the reactive build\n- modify bundles to use the <charm>.charm artifact in tests.\n  and fix deprecation warning re: prefix\n- tox inception to enable tox -e func-test in the CI\n\nChange-Id: I7e48c6515f48e77a4045bc5f899e8ca963e1671a\n'}]",1,827356,9f3caabb33c93fe0dabf03540a6ce600712936e4,7,3,1,20870,,,0,"Update to build using charmcraft

Due to a build problem with the reactive plugin, this change falls back
on overriding the steps and doing a manual build, but it also ensures
the CI system builds the charm using charmcraft.  Changes:

- add a build-requirements.txt
- modify charmcraft.yaml
- modify osci.yaml
    -> indicate build with charmcraft
- modify tox.ini
    -> tox -e build does charmcraft build/rename
    -> tox -e build-reactive does the reactive build
- modify bundles to use the <charm>.charm artifact in tests.
  and fix deprecation warning re: prefix
- tox inception to enable tox -e func-test in the CI

Change-Id: I7e48c6515f48e77a4045bc5f899e8ca963e1671a
",git fetch https://review.opendev.org/openstack/charm-manila refs/changes/56/827356/1 && git format-patch -1 --stdout FETCH_HEAD,"['osci.yaml', 'test-requirements.txt', 'build-requirements.txt', 'src/tests/bundles/impish-xena.yaml', 'src/tests/bundles/focal-xena.yaml', 'src/test-requirements.txt', 'src/tests/tests.yaml', 'src/tests/bundles/focal-yoga.yaml', 'src/tests/bundles/jammy-yoga.yaml', 'rename.sh', 'charmcraft.yaml', 'tox.ini']",12,9f3caabb33c93fe0dabf03540a6ce600712936e4,charmhub-migration-master,"allowlist_externals = charmcraft bash tox rename.shdeps = -r{toxinidir}/build-requirements.txt commands = charmcraft clean charmcraft -v build {toxinidir}/rename.sh [testenv:build-reactive] basepython = python3[testenv:func-target] # Hack to get functional tests working in the charmcraft # world. We should fix this. basepython = python3 passenv = HOME TERM CS_* OS_* TEST_* deps = -r{toxinidir}/src/test-requirements.txt changedir = {toxinidir}/src commands = bash -c ""if [ ! -f ../*.charm ]; then echo 'Charm does not exist. Run tox -e build'; exit 1; fi"" tox --version tox -e func-target {posargs} ",,84,8
openstack%2Fceilometermiddleware~master~Iafa5424d5c337226f5795f6e79b530f4e8b499e2,openstack/ceilometermiddleware,master,Iafa5424d5c337226f5795f6e79b530f4e8b499e2,setup.cfg: Replace dashes with underscores,MERGED,2021-04-26 06:52:34.000000000,2022-02-07 08:40:02.000000000,2022-02-07 08:34:46.000000000,"[{'_account_id': 4264}, {'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-26 06:52:34.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/ceilometermiddleware/commit/f588aba8b51e5b4d498821b1e795f2f33f4773ad', 'message': ""setup.cfg: Replace dashes with underscores\n\nResolves warnings like the following:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\nChange-Id: Iafa5424d5c337226f5795f6e79b530f4e8b499e2\n""}]",0,787920,f588aba8b51e5b4d498821b1e795f2f33f4773ad,8,3,1,30092,,,0,"setup.cfg: Replace dashes with underscores

Resolves warnings like the following:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

Change-Id: Iafa5424d5c337226f5795f6e79b530f4e8b499e2
",git fetch https://review.opendev.org/openstack/ceilometermiddleware refs/changes/20/787920/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,f588aba8b51e5b4d498821b1e795f2f33f4773ad,,description_file =author_email = openstack-discuss@lists.openstack.org home_page = https://docs.openstack.org/ceilometermiddleware/latest/ python_requires = >=3.6,description-file =author-email = openstack-discuss@lists.openstack.org home-page = https://docs.openstack.org/ceilometermiddleware/latest/ python-requires = >=3.6,4,4
openstack%2Fceilometermiddleware~stable%2Fxena~I7e395355cb008486fff1b1683364bad9e0e14980,openstack/ceilometermiddleware,stable/xena,I7e395355cb008486fff1b1683364bad9e0e14980,Add Python3 xena unit tests,MERGED,2022-02-06 12:03:59.000000000,2022-02-07 08:39:03.000000000,2022-02-07 08:34:45.000000000,"[{'_account_id': 4264}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-06 12:03:59.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/ceilometermiddleware/commit/2f651b1e4652ccdadc9b2e6057957af0b48d143a', 'message': 'Add Python3 xena unit tests\n\nThis is an automatically generated patch to ensure unit testing\nis in place for all the of the tested runtimes for xena.\n\nSee also the PTI in governance [1].\n\n[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html\n\nChange-Id: I7e395355cb008486fff1b1683364bad9e0e14980\n(cherry picked from commit 335ea3f0b59a3e0531e94cfb677b3f82dd60aa80)\n'}]",0,827951,2f651b1e4652ccdadc9b2e6057957af0b48d143a,7,2,1,9816,,,0,"Add Python3 xena unit tests

This is an automatically generated patch to ensure unit testing
is in place for all the of the tested runtimes for xena.

See also the PTI in governance [1].

[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html

Change-Id: I7e395355cb008486fff1b1683364bad9e0e14980
(cherry picked from commit 335ea3f0b59a3e0531e94cfb677b3f82dd60aa80)
",git fetch https://review.opendev.org/openstack/ceilometermiddleware refs/changes/51/827951/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,2f651b1e4652ccdadc9b2e6057957af0b48d143a,add-xena-python-jobtemplates-stable/xena, - openstack-python3-xena-jobs, - openstack-python3-wallaby-jobs,1,1
openstack%2Fpython-aodhclient~master~I26a2474826a83750f3b5546c0688cb282d780324,openstack/python-aodhclient,master,I26a2474826a83750f3b5546c0688cb282d780324,Update master for stable/xena,MERGED,2021-09-17 16:43:30.000000000,2022-02-07 08:28:02.000000000,2022-02-07 08:26:24.000000000,"[{'_account_id': 4264}, {'_account_id': 14107}, {'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2021-09-17 16:43:30.000000000', 'files': ['releasenotes/source/xena.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/python-aodhclient/commit/bc7a4834db9e26c855be35c6826b62a60897b9fe', 'message': 'Update master for stable/xena\n\nAdd file to the reno documentation build to show release notes for\nstable/xena.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/xena.\n\nSem-Ver: feature\nChange-Id: I26a2474826a83750f3b5546c0688cb282d780324\n'}]",0,809849,bc7a4834db9e26c855be35c6826b62a60897b9fe,9,4,1,22816,,,0,"Update master for stable/xena

Add file to the reno documentation build to show release notes for
stable/xena.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/xena.

Sem-Ver: feature
Change-Id: I26a2474826a83750f3b5546c0688cb282d780324
",git fetch https://review.opendev.org/openstack/python-aodhclient refs/changes/49/809849/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/xena.rst', 'releasenotes/source/index.rst']",2,bc7a4834db9e26c855be35c6826b62a60897b9fe,reno-xena, xena,,7,0
openstack%2Fceilometermiddleware~master~If3069c1711dfda9ab19bf15c335c09db566bf3c1,openstack/ceilometermiddleware,master,If3069c1711dfda9ab19bf15c335c09db566bf3c1,Add Python3 yoga unit tests,MERGED,2022-02-06 12:09:15.000000000,2022-02-07 08:21:21.000000000,2022-02-07 08:17:24.000000000,"[{'_account_id': 4264}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-06 12:09:15.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/ceilometermiddleware/commit/acdfd6b04aefb5f70698dc72a6528f247d4f3a40', 'message': ""Add Python3 yoga unit tests\n\nThis is a patch to ensure unit testing is in place for all the of\nthe tested runtimes for yoga.\n\nSee also the PTI in governance [1].\n\n[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html\n\nThis patch is manually created, because the previous patch was not\nmerged before Xena release and release bot didn't create the automated\npatch at that time.\n\nChange-Id: If3069c1711dfda9ab19bf15c335c09db566bf3c1\n""}]",0,828027,acdfd6b04aefb5f70698dc72a6528f247d4f3a40,7,2,1,9816,,,0,"Add Python3 yoga unit tests

This is a patch to ensure unit testing is in place for all the of
the tested runtimes for yoga.

See also the PTI in governance [1].

[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html

This patch is manually created, because the previous patch was not
merged before Xena release and release bot didn't create the automated
patch at that time.

Change-Id: If3069c1711dfda9ab19bf15c335c09db566bf3c1
",git fetch https://review.opendev.org/openstack/ceilometermiddleware refs/changes/27/828027/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,acdfd6b04aefb5f70698dc72a6528f247d4f3a40,add-yoga-python-jobtemplates, - openstack-python3-yoga-jobs, - openstack-python3-xena-jobs,1,1
openstack%2Fpython-aodhclient~stable%2Fxena~I55c5a8568ccd93e504120365d4d2f3107cf0aa06,openstack/python-aodhclient,stable/xena,I55c5a8568ccd93e504120365d4d2f3107cf0aa06,Add Python3 xena unit tests,MERGED,2022-02-06 12:04:21.000000000,2022-02-07 07:59:16.000000000,2022-02-07 07:55:00.000000000,"[{'_account_id': 4264}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-06 12:04:21.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/python-aodhclient/commit/2aafc2729e5920fedfe9cef238a5904d60756c6a', 'message': 'Add Python3 xena unit tests\n\nThis is an automatically generated patch to ensure unit testing\nis in place for all the of the tested runtimes for xena.\n\nSee also the PTI in governance [1].\n\n[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html\n\nChange-Id: I55c5a8568ccd93e504120365d4d2f3107cf0aa06\n(cherry picked from commit 60df9b4035a40cfd1071731a966e99789e624dea)\n'}]",0,827952,2aafc2729e5920fedfe9cef238a5904d60756c6a,7,2,1,9816,,,0,"Add Python3 xena unit tests

This is an automatically generated patch to ensure unit testing
is in place for all the of the tested runtimes for xena.

See also the PTI in governance [1].

[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html

Change-Id: I55c5a8568ccd93e504120365d4d2f3107cf0aa06
(cherry picked from commit 60df9b4035a40cfd1071731a966e99789e624dea)
",git fetch https://review.opendev.org/openstack/python-aodhclient refs/changes/52/827952/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,2aafc2729e5920fedfe9cef238a5904d60756c6a,add-xena-python-jobtemplates-stable/xena, - openstack-python3-xena-jobs, - openstack-python3-wallaby-jobs,1,1
openstack%2Fpython-aodhclient~master~I902f342800d6ea7dda3eff2a10f7c9dd54fa6151,openstack/python-aodhclient,master,I902f342800d6ea7dda3eff2a10f7c9dd54fa6151,Add Python3 yoga unit tests,MERGED,2022-02-06 12:10:37.000000000,2022-02-07 07:59:08.000000000,2022-02-07 07:54:59.000000000,"[{'_account_id': 4264}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-06 12:10:37.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/python-aodhclient/commit/d978eb75d129b9f2c9608341fc60ccc5d0aaa164', 'message': ""Add Python3 yoga unit tests\n\nThis is a patch to ensure unit testing is in place for all the of\nthe tested runtimes for yoga.\n\nSee also the PTI in governance [1].\n\n[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html\n\nThis patch is manually created, because the previous patch was not\nmerged before Xena release and release bot didn't create the automated\npatch at that time.\n\nChange-Id: I902f342800d6ea7dda3eff2a10f7c9dd54fa6151\n""}]",0,828028,d978eb75d129b9f2c9608341fc60ccc5d0aaa164,7,2,1,9816,,,0,"Add Python3 yoga unit tests

This is a patch to ensure unit testing is in place for all the of
the tested runtimes for yoga.

See also the PTI in governance [1].

[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html

This patch is manually created, because the previous patch was not
merged before Xena release and release bot didn't create the automated
patch at that time.

Change-Id: I902f342800d6ea7dda3eff2a10f7c9dd54fa6151
",git fetch https://review.opendev.org/openstack/python-aodhclient refs/changes/28/828028/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,d978eb75d129b9f2c9608341fc60ccc5d0aaa164,add-yoga-python-jobtemplates, - openstack-python3-yoga-jobs, - openstack-python3-xena-jobs,1,1
openstack%2Fpython-mistralclient~master~Ie1e63254166a10f7c46187b57a5f80bbb0261ed0,openstack/python-mistralclient,master,Ie1e63254166a10f7c46187b57a5f80bbb0261ed0,setup.cfg: Replace dashes by underscores,ABANDONED,2022-02-07 07:49:15.000000000,2022-02-07 07:52:37.000000000,,[],"[{'number': 1, 'created': '2022-02-07 07:49:15.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/python-mistralclient/commit/fcb8ecb5b284ceca27d79b27e01d00d38f62c529', 'message': ""setup.cfg: Replace dashes by underscores\n\nSince setuptools v54.1.0[1], the parmeters with dash have been\ndeprecated in favor of the new parameters with underscore.\n\nThis change updates the parameters accordingly to avoid the warnings\nlike the example below.\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: Ie1e63254166a10f7c46187b57a5f80bbb0261ed0\n""}]",0,828082,fcb8ecb5b284ceca27d79b27e01d00d38f62c529,2,0,1,9816,,,0,"setup.cfg: Replace dashes by underscores

Since setuptools v54.1.0[1], the parmeters with dash have been
deprecated in favor of the new parameters with underscore.

This change updates the parameters accordingly to avoid the warnings
like the example below.

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: Ie1e63254166a10f7c46187b57a5f80bbb0261ed0
",git fetch https://review.opendev.org/openstack/python-mistralclient refs/changes/82/828082/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,fcb8ecb5b284ceca27d79b27e01d00d38f62c529,,description_file = README.rstpython_requires = >=3.6author_email = openstack-discuss@lists.openstack.org home_page = https://docs.openstack.org/python-mistralclient/latest/,description-file = README.rstpython-requires = >=3.6author-email = openstack-discuss@lists.openstack.org home-page = https://docs.openstack.org/python-mistralclient/latest/,4,4
openstack%2Ftelemetry-tempest-plugin~master~I415bf77ae1bb7ff9360d74b827593ddfb016676e,openstack/telemetry-tempest-plugin,master,I415bf77ae1bb7ff9360d74b827593ddfb016676e,setup.cfg: Replace dashes by underscores,ABANDONED,2022-02-07 07:50:22.000000000,2022-02-07 07:51:05.000000000,,[],"[{'number': 1, 'created': '2022-02-07 07:50:22.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/telemetry-tempest-plugin/commit/e188e0e64b7821cff38fd98894171ff0cd601b2f', 'message': ""setup.cfg: Replace dashes by underscores\n\nSince setuptools v54.1.0[1], the parmeters with dash have been\ndeprecated in favor of the new parameters with underscore.\n\nThis change updates the parameters accordingly to avoid the warnings\nlike the example below.\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: I415bf77ae1bb7ff9360d74b827593ddfb016676e\n""}]",0,828083,e188e0e64b7821cff38fd98894171ff0cd601b2f,2,0,1,9816,,,0,"setup.cfg: Replace dashes by underscores

Since setuptools v54.1.0[1], the parmeters with dash have been
deprecated in favor of the new parameters with underscore.

This change updates the parameters accordingly to avoid the warnings
like the example below.

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: I415bf77ae1bb7ff9360d74b827593ddfb016676e
",git fetch https://review.opendev.org/openstack/telemetry-tempest-plugin refs/changes/83/828083/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,e188e0e64b7821cff38fd98894171ff0cd601b2f,,description_file =author_email = openstack-discuss@lists.openstack.org home_page = https://www.openstack.org/ python_requires = >=3.6,description-file =author-email = openstack-discuss@lists.openstack.org home-page = https://www.openstack.org/ python-requires = >=3.6,4,4
openstack%2Fceilometermiddleware~master~I366b1816ee9e77fd2a4ad74fa13cc02989475004,openstack/ceilometermiddleware,master,I366b1816ee9e77fd2a4ad74fa13cc02989475004,setup.cfg: Replace dashes by underscores,ABANDONED,2022-02-07 07:43:40.000000000,2022-02-07 07:44:03.000000000,,[],"[{'number': 1, 'created': '2022-02-07 07:43:40.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/ceilometermiddleware/commit/13e84654914b21e2092b448cc27142e878545feb', 'message': ""setup.cfg: Replace dashes by underscores\n\nSince setuptools v54.1.0[1], the parmeters with dash have been\ndeprecated in favor of the new parameters with underscore.\n\nThis change updates the parameters accordingly to avoid the warnings\nlike the example below.\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: I366b1816ee9e77fd2a4ad74fa13cc02989475004\n""}]",0,828079,13e84654914b21e2092b448cc27142e878545feb,2,0,1,9816,,,0,"setup.cfg: Replace dashes by underscores

Since setuptools v54.1.0[1], the parmeters with dash have been
deprecated in favor of the new parameters with underscore.

This change updates the parameters accordingly to avoid the warnings
like the example below.

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: I366b1816ee9e77fd2a4ad74fa13cc02989475004
",git fetch https://review.opendev.org/openstack/ceilometermiddleware refs/changes/79/828079/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,13e84654914b21e2092b448cc27142e878545feb,,description_file =author_email = openstack-discuss@lists.openstack.org home_page = https://docs.openstack.org/ceilometermiddleware/latest/ python_requires = >=3.6,description-file =author-email = openstack-discuss@lists.openstack.org home-page = https://docs.openstack.org/ceilometermiddleware/latest/ python-requires = >=3.6,4,4
openstack%2Ftripleo-common~master~Ied7c791327bce204e452a166a57628d0d1809349,openstack/tripleo-common,master,Ied7c791327bce204e452a166a57628d0d1809349,Skip pmu for now,ABANDONED,2021-09-27 14:04:51.000000000,2022-02-07 07:42:39.000000000,,"[{'_account_id': 4264}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-09-27 14:04:51.000000000', 'files': ['container-images/tcib/base/collectd/collectd.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/dcb35924a85a4f8ec568c8dfe023f4e9087ea008', 'message': 'Skip pmu for now\n\nit misses a dependency\n\nChange-Id: Ied7c791327bce204e452a166a57628d0d1809349\n'}]",0,811138,dcb35924a85a4f8ec568c8dfe023f4e9087ea008,7,4,1,4264,,,0,"Skip pmu for now

it misses a dependency

Change-Id: Ied7c791327bce204e452a166a57628d0d1809349
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/38/811138/1 && git format-patch -1 --stdout FETCH_HEAD,['container-images/tcib/base/collectd/collectd.yaml'],1,dcb35924a85a4f8ec568c8dfe023f4e9087ea008,pmu,, - collectd-pmu,0,1
openstack%2Fsecurity-specs~master~Ifba5759507c4aa73415052458ead08f831b057ce,openstack/security-specs,master,Ifba5759507c4aa73415052458ead08f831b057ce,Retire security-specs repo,MERGED,2022-01-31 21:07:01.000000000,2022-02-07 07:39:01.000000000,2022-02-07 07:39:01.000000000,"[{'_account_id': 5263}, {'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-31 21:07:01.000000000', 'files': ['doc/source/contributing.rst', '.gitignore', 'doc/source/specs', 'specs/template.rst', 'specs/mitaka/killick/template.rst', 'README.rst', '.zuul.yaml', 'specs/mitaka/bandit/config-change.rst', 'setup.py', 'doc/source/conf.py', 'specs/liberty/ossn/template.rst', 'specs/liberty/bandit/template.rst', 'doc/source/index.rst', 'requirements.txt', 'specs/kilo/anchor/seperate-validator-functionality.rst', 'doc/source/readme.rst', 'specs/liberty/anchor/template.rst', 'setup.cfg', 'LICENSE', 'tox.ini', 'specs/liberty/security-guide/template.rst'], 'web_link': 'https://opendev.org/openstack/security-specs/commit/f8c36fa51873159fb8f0b4b1e89bcd2df0460588', 'message': 'Retire security-specs repo\n\nThis change removes the content from the security-specs repo\nas part of the process to retire the repo.\n\nStep 2 as defined in the guide[0].\n\n[0] https://docs.opendev.org/opendev/infra-manual/latest/drivers.html#retiring-a-project\n\nChange-Id: Ifba5759507c4aa73415052458ead08f831b057ce\n'}]",1,827177,f8c36fa51873159fb8f0b4b1e89bcd2df0460588,9,3,1,21420,,,0,"Retire security-specs repo

This change removes the content from the security-specs repo
as part of the process to retire the repo.

Step 2 as defined in the guide[0].

[0] https://docs.opendev.org/opendev/infra-manual/latest/drivers.html#retiring-a-project

Change-Id: Ifba5759507c4aa73415052458ead08f831b057ce
",git fetch https://review.opendev.org/openstack/security-specs refs/changes/77/827177/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/contributing.rst', '.gitignore', 'doc/source/specs', 'specs/template.rst', 'specs/mitaka/killick/template.rst', 'README.rst', '.zuul.yaml', 'specs/mitaka/bandit/config-change.rst', 'setup.py', 'doc/source/conf.py', 'specs/liberty/ossn/template.rst', 'specs/liberty/bandit/template.rst', 'doc/source/index.rst', 'requirements.txt', 'specs/kilo/anchor/seperate-validator-functionality.rst', 'doc/source/readme.rst', 'specs/liberty/anchor/template.rst', 'setup.cfg', 'LICENSE', 'tox.ini', 'specs/liberty/security-guide/template.rst']",21,f8c36fa51873159fb8f0b4b1e89bcd2df0460588,retire-repo,,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode .. This template should be in ReSTructured text. The filename in the git repository should match the launchpad URL, for example a URL of https://blueprints.launchpad.net/openstack-manuals/+spec/awesome-thing should be named awesome-thing.rst . Please do not delete any of the sections in this template. If you have nothing to say for a whole section, just write: None For help with syntax, see http://sphinx-doc.org/rest.html To test out your formatting, see http://www.tele3.cz/jbar/rest/rest.html ============================= The title of your blueprint ============================= Include the URL of your launchpad blueprint: https://blueprints.launchpad.net/openstack-manuals/+spec/example Or https://blueprints.launchpad.net/bandit/+spec/example Introduction paragraph -- why are we doing anything? Problem description =================== A detailed description of the problem. Proposed change =============== Here is where you cover the change you propose to make in detail. How do you propose to solve this problem? If this is one part of a larger effort make it clear where this piece ends. In other words, what's the scope of this effort? Include which OpenStack security project this will apply to (OpenStack Security Guide, OpenStack Security Notes, Bandit, etc). Also include where in the OpenStack security project tree hierarchy this will reside. Alternatives ------------ This is an optional section, where it does apply we'd just like a demonstration that some thought has been put into why the proposed approach is the best one. Implementation ============== Assignee(s) ----------- Who is leading the writing of the code? Or is this a blueprint where you're throwing it out there to see who picks it up? If more than one person is working on the implementation, please designate the primary author and contact. Primary assignee: <launchpad-id or None> Can optionally can list additional ids if they intend on doing substantial implementation work on this blueprint. Milestones ---------- Target Milestone for completion: Liberty-1 Work Items ---------- Work items or tasks -- break the feature up into the things that need to be done to implement it. Those parts might end up being done by different people, but we're mostly trying to understand the timeline for implementation. Dependencies ============ - Include specific references to specs and/or blueprints in openstack-manuals, or in other projects, that this one either depends on or is related to. - Does this feature require any new library dependencies or code otherwise not included in OpenStack? Or does it depend on a specific version of library? References ========== Please add any useful references here. You are not required to have any reference. Moreover, this specification should still make sense when your references are unavailable. Examples of what you could include are: * Links to mailing list or IRC discussions * Links to notes from a summit session * Links to relevant research, if appropriate * Related specifications as appropriate * Anything else you feel it is worthwhile to refer to ",8,1221
openstack%2Freleases~master~I4a96f0cb79547b2d65abcb606472ea41b21c9ad6,openstack/releases,master,I4a96f0cb79547b2d65abcb606472ea41b21c9ad6,Release PBR 5.8.1,MERGED,2022-02-05 19:57:02.000000000,2022-02-07 07:37:12.000000000,2022-02-07 07:37:12.000000000,"[{'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 31245}]","[{'number': 1, 'created': '2022-02-05 19:57:02.000000000', 'files': ['deliverables/_independent/pbr.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/a5f44dac22229fc19cd8b405f1e791304cfe4019', 'message': 'Release PBR 5.8.1\n\nThis releases PBR 5.8.1 fixing a regression which caused pbr.json\nmetadata files not to be included in packages built with the\nprevious version.\n\nChange-Id: I4a96f0cb79547b2d65abcb606472ea41b21c9ad6\n'}]",2,828016,a5f44dac22229fc19cd8b405f1e791304cfe4019,10,4,1,5263,,,0,"Release PBR 5.8.1

This releases PBR 5.8.1 fixing a regression which caused pbr.json
metadata files not to be included in packages built with the
previous version.

Change-Id: I4a96f0cb79547b2d65abcb606472ea41b21c9ad6
",git fetch https://review.opendev.org/openstack/releases refs/changes/16/828016/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/_independent/pbr.yaml'],1,a5f44dac22229fc19cd8b405f1e791304cfe4019,pbr-5.8.1, - version: 5.8.1 projects: - repo: openstack/pbr hash: 407d9217511d73b34b40d330520480353790ec90,,4,0
openstack%2Fproject-config~master~I752f9adcf34c15eefc4524c3933e4e493be883a4,openstack/project-config,master,I752f9adcf34c15eefc4524c3933e4e493be883a4,Retire security-specs repo,MERGED,2022-01-19 21:04:36.000000000,2022-02-07 07:34:26.000000000,2022-02-07 07:34:26.000000000,"[{'_account_id': 5263}, {'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-19 21:04:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/a9f8b3c1a585ea213d4ff2d8159b7a6dcc10fda7', 'message': 'Retire security-specs repo\n\nThe security-specs repo is slated for retirement as per the\nsecurity-sig. This change is part of the step to end project\ngating for the repo.\n\nChange-Id: I752f9adcf34c15eefc4524c3933e4e493be883a4\n'}, {'number': 2, 'created': '2022-01-19 21:15:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/abb545fdeacf2996e753d85aa6957fbb424a9672', 'message': 'Retire security-specs repo\n\nThe security-specs repo is slated for retirement[0] as per the\nsecurity-sig. This change is part of the step to end project\ngating for the repo.\n\n[0] http://lists.openstack.org/pipermail/openstack-discuss/2021-December/026323.html\n\nChange-Id: I752f9adcf34c15eefc4524c3933e4e493be883a4\n'}, {'number': 3, 'created': '2022-01-19 21:53:05.000000000', 'files': ['zuul.d/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/f8df49c2338882cfa75565528173e06c727701cb', 'message': 'Retire security-specs repo\n\nThe security-specs repo is slated for retirement[0] as per the\nsecurity-sig. This change is part of the step to end project\ngating for the repo.\n\n[0] http://lists.openstack.org/pipermail/openstack-discuss/2021-December/026323.html\n\nChange-Id: I752f9adcf34c15eefc4524c3933e4e493be883a4\n'}]",5,825401,f8df49c2338882cfa75565528173e06c727701cb,18,3,3,21420,,,0,"Retire security-specs repo

The security-specs repo is slated for retirement[0] as per the
security-sig. This change is part of the step to end project
gating for the repo.

[0] http://lists.openstack.org/pipermail/openstack-discuss/2021-December/026323.html

Change-Id: I752f9adcf34c15eefc4524c3933e4e493be883a4
",git fetch https://review.opendev.org/openstack/project-config refs/changes/01/825401/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/projects.yaml'],1,a9f8b3c1a585ea213d4ff2d8159b7a6dcc10fda7,retire-security-specs, - noop-jobs, - official-openstack-repo-jobs,1,1
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~I8ee338c3f3e20f1826d98efb38d3b21fefda5031,openstack/tripleo-heat-templates,stable/wallaby,I8ee338c3f3e20f1826d98efb38d3b21fefda5031,Add parameter IronicIPXEUefiSnpOnly,MERGED,2022-02-05 04:06:42.000000000,2022-02-07 07:24:45.000000000,2022-02-07 07:23:29.000000000,"[{'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 27419}]","[{'number': 1, 'created': '2022-02-05 04:06:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0cfa1abc1dfb8691220063930f2e8597e1824f28', 'message': ""Add parameter IronicIPXEUefiSnpOnly\n\nAdd new parameter IronicIPXEUefiSnpOnly (default: true).\nWhen `true` ipxe-snponly.efi is used for UEFI, when `false` ipxe.efi\nis used.\n\n'snponly.efi' is the default in puppet-ironic master branch, however\nin Wallaby and earlier releases 'ipxe.efi' is the default. Since\n'ipxe.efi' is not compatible with a lot of hardware TripleO should\nchange this default.\n\nRelated: RHBZ#2049179\nCloses-Bug: 1959726\nChange-Id: I8ee338c3f3e20f1826d98efb38d3b21fefda5031\n(cherry picked from commit bd13adefd106864504240566d2a3530211cc464f)\n""}, {'number': 2, 'created': '2022-02-05 04:15:46.000000000', 'files': ['deployment/ironic/ironic-conductor-container-puppet.yaml', 'releasenotes/notes/uefi_ipxe_bootfile_name-f2c9cc8971dc1ed8.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/dea0c72b56ee581273d7330ccc373bb3c670e1b3', 'message': ""Add parameter IronicIPXEUefiSnpOnly\n\nAdd new parameter IronicIPXEUefiSnpOnly (default: true).\nWhen `true` ipxe-snponly.efi is used for UEFI, when `false` ipxe.efi\nis used.\n\n'snponly.efi' is the default in puppet-ironic master branch, however\nin Wallaby and earlier releases 'ipxe.efi' is the default. Since\n'ipxe.efi' is not compatible with a lot of hardware TripleO should\nchange this default.\n\nConflicts:\n  deployment/ironic/ironic-conductor-container-puppet.yaml\n\nRelated: RHBZ#2049179\nCloses-Bug: 1959726\nChange-Id: I8ee338c3f3e20f1826d98efb38d3b21fefda5031\n(cherry picked from commit bd13adefd106864504240566d2a3530211cc464f)\n""}]",0,827907,dea0c72b56ee581273d7330ccc373bb3c670e1b3,11,4,2,24245,,,0,"Add parameter IronicIPXEUefiSnpOnly

Add new parameter IronicIPXEUefiSnpOnly (default: true).
When `true` ipxe-snponly.efi is used for UEFI, when `false` ipxe.efi
is used.

'snponly.efi' is the default in puppet-ironic master branch, however
in Wallaby and earlier releases 'ipxe.efi' is the default. Since
'ipxe.efi' is not compatible with a lot of hardware TripleO should
change this default.

Conflicts:
  deployment/ironic/ironic-conductor-container-puppet.yaml

Related: RHBZ#2049179
Closes-Bug: 1959726
Change-Id: I8ee338c3f3e20f1826d98efb38d3b21fefda5031
(cherry picked from commit bd13adefd106864504240566d2a3530211cc464f)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/07/827907/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/ironic/ironic-conductor-container-puppet.yaml', 'releasenotes/notes/uefi_ipxe_bootfile_name-f2c9cc8971dc1ed8.yaml']",2,0cfa1abc1dfb8691220063930f2e8597e1824f28,bug/1959726-stable/wallaby,"--- upgrade: - | The default UEFI iPXE bootfile is now `snponly.efi`. The boolean parameter `IronicIPXEUefiSnpOnly` was added to allow custom configuration. When set to `true` snponly is used, when `false` the previous default ipxe.efi is used. See bug: `1959726 <https://bugs.launchpad.net/tripleo/+bug/1959726>`_. ",,83,0
openstack%2Fdevstack~master~I3009a9aced3c588142aef673e26c5b0811bd89b8,openstack/devstack,master,I3009a9aced3c588142aef673e26c5b0811bd89b8,Test F35 without horizon,ABANDONED,2022-02-03 15:40:24.000000000,2022-02-07 06:58:21.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-02-03 15:40:24.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/devstack/commit/eb8a32f73eaeb46b068f98efa9104ad624e40c55', 'message': ""Test F35 without horizon\n\nWe know horizon is broken with py3.10, let's see what else we've got.\n\nSigned-off-by: Dr. Jens Harbott <harbott@osism.tech>\nChange-Id: I3009a9aced3c588142aef673e26c5b0811bd89b8\n""}]",5,827699,eb8a32f73eaeb46b068f98efa9104ad624e40c55,9,1,1,13252,,,0,"Test F35 without horizon

We know horizon is broken with py3.10, let's see what else we've got.

Signed-off-by: Dr. Jens Harbott <harbott@osism.tech>
Change-Id: I3009a9aced3c588142aef673e26c5b0811bd89b8
",git fetch https://review.opendev.org/openstack/devstack refs/changes/99/827699/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,eb8a32f73eaeb46b068f98efa9104ad624e40c55,f35, devstack_services: horizon: false, templates: - integrated-gate-py3 - publish-openstack-docs-pti - devstack - devstack-ipv6 - devstack-enforce-scope - devstack-platform-centos-8-stream - devstack-platform-centos-9-stream - devstack-platform-debian-bullseye - devstack-platform-openEuler-20.03-SP2 - devstack-multinode - devstack-unit-tests - openstack-tox-bashate - ironic-tempest-bios-ipmi-direct-tinyipa - swift-dsvm-functional - grenade: irrelevant-files: - ^.*\.rst$ - ^doc/.*$ - neutron-ovs-grenade-multinode: irrelevant-files: - ^.*\.rst$ - ^doc/.*$ - neutron-linuxbridge-tempest: irrelevant-files: - ^.*\.rst$ - ^doc/.*$ - neutron-ovn-tempest-ovs-release: voting: false irrelevant-files: - ^.*\.rst$ - ^doc/.*$ - tempest-multinode-full-py3: voting: false irrelevant-files: - ^.*\.rst$ - ^doc/.*$ - openstacksdk-functional-devstack: irrelevant-files: - ^.*\.rst$ - ^doc/.*$ - tempest-ipv6-only: irrelevant-files: - ^.*\.rst$ - ^doc/.*$ - nova-ceph-multistore: irrelevant-files: - ^.*\.rst$ - ^doc/.*$,2,49
openstack%2Fdevstack~stable%2Fxena~I947022db335f30756bad5eeec943b9e84b0b31aa,openstack/devstack,stable/xena,I947022db335f30756bad5eeec943b9e84b0b31aa,Remove Fedora testing from stable branch,MERGED,2022-02-03 00:27:58.000000000,2022-02-07 06:55:14.000000000,2022-02-07 06:51:21.000000000,"[{'_account_id': 7118}, {'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-03 00:27:58.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/devstack/commit/381cf373ab44a98bd31e4b2bbfc17cc4047d8281', 'message': 'Remove Fedora testing from stable branch\n\nFedora tests are maintained on master branch only\n\nChange-Id: I947022db335f30756bad5eeec943b9e84b0b31aa\n'}]",1,827578,381cf373ab44a98bd31e4b2bbfc17cc4047d8281,8,3,1,7118,,,0,"Remove Fedora testing from stable branch

Fedora tests are maintained on master branch only

Change-Id: I947022db335f30756bad5eeec943b9e84b0b31aa
",git fetch https://review.opendev.org/openstack/devstack refs/changes/78/827578/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,381cf373ab44a98bd31e4b2bbfc17cc4047d8281,,, name: devstack-single-node-fedora-latest nodes: - name: controller label: fedora-34 groups: - name: tempest nodes: - controller - nodeset: name: devstack-platform-fedora-latest parent: tempest-full-py3 description: Fedora latest platform test nodeset: devstack-single-node-fedora-latest voting: false vars: configure_swap_size: 4096 - job: name: devstack-platform-fedora-latest-virt-preview parent: tempest-full-py3 description: Fedora latest platform test using the virt-preview repo. nodeset: devstack-single-node-fedora-latest voting: false vars: configure_swap_size: 4096 devstack_localrc: ENABLE_FEDORA_VIRT_PREVIEW_REPO: true - job: - devstack-platform-fedora-latest - devstack-platform-fedora-latest-virt-preview,0,32
openstack%2Fpuppet-neutron~master~I141405a16a85e262b0c3427558fc59a48a5a6190,openstack/puppet-neutron,master,I141405a16a85e262b0c3427558fc59a48a5a6190,Add support for the resource_provider_inventory_defaults parameters,MERGED,2022-02-04 06:13:15.000000000,2022-02-07 06:02:34.000000000,2022-02-07 06:01:16.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-04 06:13:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/4054a133a7c66ba2223fcb6ee079857c9fa6fe09', 'message': 'Add support for the resource_provider_inventory_defaults parameters\n\nThis change introduces support of the following two parameters.\n\n[ovs] resource_provider_inventory_defaults\n[sriov_nic] resource_provider_inventory_defaults\n\nChange-Id: I141405a16a85e262b0c3427558fc59a48a5a6190\n'}, {'number': 2, 'created': '2022-02-04 06:22:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/75cd0ff93fe0af5a7a6f14edbf43b5cdcbc13276', 'message': 'Add support for the resource_provider_inventory_defaults parameters\n\nThis change introduces support of the following two parameters.\n\n[ovs] resource_provider_inventory_defaults\n[sriov_nic] resource_provider_inventory_defaults\n\nChange-Id: I141405a16a85e262b0c3427558fc59a48a5a6190\n'}, {'number': 3, 'created': '2022-02-04 08:01:16.000000000', 'files': ['manifests/agents/ml2/sriov.pp', 'spec/classes/neutron_agents_ml2_ovs_spec.rb', 'releasenotes/notes/resource_provider_inventory_defaults-ede148387da9d8b6.yaml', 'spec/classes/neutron_agents_ml2_sriov_spec.rb', 'manifests/agents/ml2/ovs.pp'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/a6cc96f09860732b5753d84e0feed1b27b9f5351', 'message': 'Add support for the resource_provider_inventory_defaults parameters\n\nThis change introduces support of the following two parameters.\n\n[ovs] resource_provider_inventory_defaults\n[sriov_nic] resource_provider_inventory_defaults\n\nChange-Id: I141405a16a85e262b0c3427558fc59a48a5a6190\n'}]",1,827801,a6cc96f09860732b5753d84e0feed1b27b9f5351,14,3,3,9816,,,0,"Add support for the resource_provider_inventory_defaults parameters

This change introduces support of the following two parameters.

[ovs] resource_provider_inventory_defaults
[sriov_nic] resource_provider_inventory_defaults

Change-Id: I141405a16a85e262b0c3427558fc59a48a5a6190
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/01/827801/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/agents/ml2/sriov.pp', 'spec/classes/neutron_agents_ml2_ovs_spec.rb', 'releasenotes/notes/resource_provider_inventory_defaults-ede148387da9d8b6.yaml', 'spec/classes/neutron_agents_ml2_sriov_spec.rb', 'manifests/agents/ml2/ovs.pp']",5,4054a133a7c66ba2223fcb6ee079857c9fa6fe09,rp,"# [*resource_provider_inventory_defaults*] # (optional) Key:value pairs to specify defaults used while reporting packet # rate inventories,. # Defauls to empty hash # $resource_provider_inventory_defaults = {}, if empty($resource_provider_inventory_defaults) { $resource_provider_inventory_defaults_real = $::os_service_default } else { if ($resource_provider_inventory_defaults ~= Hash){ $resource_provider_inventory_defaults_real = join(join_keys_to_values($resource_provider_inventory_defaults, ':'), ',') } else { $resource_provider_inventory_defaults_real = join(any2array($resource_provider_inventory_defaults), ',') } } 'ovs/resource_provider_inventory_defaults': value => $resource_provider_inventory_defaults_real;",,84,1
openstack%2Ftacker~master~I2380ee72d058ec3cac93f941fda602cf8b0aadd7,openstack/tacker,master,I2380ee72d058ec3cac93f941fda602cf8b0aadd7,[WIP] Refactor v1 LCM operation,ABANDONED,2021-11-15 04:40:33.000000000,2022-02-07 05:18:31.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-11-15 04:40:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/a227c81bffde6f6279c705a398020bd4d2f58fbf', 'message': ""Refactor v1 LCM operation\n\nIn the current codes about LCM operation, there are some codes that are\nhard to trace, which can cause an additional error and makes bug-fixing\na time-consuming task.\n\nThis patch refactors parts of these codes such as implicit arguments,\ndefinitions in an inappropriate place, confusing variable names,\nunnecessary dependencies, inappropriate ``else`` use, unused variables,\nand redundant functions, though the tip of the iceberg.  In addition,\nthis patch refactor tests such as tests that take too much time, and\ntests that cannot run correctly in places other than the root\ndirectory.\n\nThe details of the refactoring are listed below.\n\n- controller.py:VnfLcmController._notification_process (implicit\n  arguments)\n\n  Better to explicitly specify the operation_state and\n  notification_state\n\n- conductor_server.py:constants (inappropriate definition place)\n\n  A group of constants should be declared in constants.py\n\n- conductor_server.py:Conductor._change_vnf_status (confusing variable\n  names)\n\n  The variable name `current_status` is confusing. It is a condition\n  indicating the state to which is allowed to transition to the next\n  state.\n\n- conductor_server.py:Conductor._send_lcm_op_occ_notification\n  (confusing variable names)\n\n  The variable name `vnf_notif` is confusing. This is just a\n  `VnfLcmOpOcc`\n\n- conductor_server.py:Conductor._get_vnf_notify (redundant functions)\n\n- conductor_server.py:Conductor._send_lcm_op_occ_notification (implicit\n  arguments)\n\n  Better to explicitly specify the operation_state and operation\n\n- conductor_server.py:Conductor.instantiate (unnecessary dependencies)\n\n  The error points should be updated by vnflcm_driver.\n\n- vnfm_db.py (other)\n\n  Explicitly import Vim table. Due to the dependency from vnfm_db to\n  nfvo_db, if we import vnfm_db before importing nfvo_db, an error\n  happens, which is not explicitly indicated.\n\n- vnfm_db.py:VNFMPluginDb._update_vnf_scaling (unnecessary\n  dependencies)\n- vnfm_db.py:VNFMPluginDb._update_vnf_rollback (unnecessary\n  dependencies)\n\n  Implecitly saving these two objects: vnf_instance and vnf_lcm_op_occ\n  looks not good idea. The parent methods calling this method should\n  save them.\n\n- vnfm_db.py:VNFMPluginDb.update_vnf_rollback_status_err (inappropriate\n  ``else`` use)\n- vnfm_db.py:VNFMPluginDb._update_vnf_rollback_pre (inappropriate\n  ``else`` use)\n- vnfm_db.py:VNFMPluginDb._update_vnf_rollback (inappropriate ``else``\n  use)\n\n  Looks redundant.\n\n-\n  test_conductor_server:TestConductor.test_terminate_vnf_instance_exception\n  (other)\n\n  Improved side effect usage.\n\n- test_conductor_server:TestConductor.test_send_notification_timeout\n  (tests that take too long time)\n- test_conductor_server:TestConductor.test_get_notification_retry\n  (tests that take too long time)\n- test_conductor_server:TestConductor.test_get_notification_timeout\n  (tests that take too long time)\n\n  Mocked timers by setting `retry_wait` 0 in time-consuming tests.\n\n- utils.py (absolute test file paths)\n\n  In the current implementation, a relative path from the project root\n  is used. Due to this, it's not possible to run test in different\n  place from the project root. Thus, this patch change it to relative\n  paths from a test file.\n\n- vnflcm_driver.py:VnfLcmDriver._scale_vnf_pre (unused variables)\n\n  `scale_id_list` is not used\n\n- vnflcm_driver.py:VnfLcmDriver._scale_vnf_pre (inappropriate ``else``\n  use)\n\n  Better to write ``elif scale_vnf_request.type == 'SCALE_OUT':``\n  explicitly because all unknown request types are considered as\n  'SCALE_OUT'\n\n- vnflcm_driver.py:VnfLcmDriver._scale_vnf_post (unused variables)\n\n  `id_list` is not used\n\n- vnflcm_driver.py:VnfLcmDriver._scale_vnf (redundant functions)\n\n  These two methods: `scale` and `_scale_vnf` can be merged. Since most\n  LCM operation methods consist of a pair of a protected method and\n  public method, e.g., `heal_vnf and _heal_vnf`, I merged\n  ``_scale_vnf`` and ``scale`` and then renamed it to ``_scale_vnf``.\n\nChange-Id: I2380ee72d058ec3cac93f941fda602cf8b0aadd7\n""}, {'number': 2, 'created': '2021-11-24 08:34:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/cacad9b75e915febf9879dd987714c0c9205ac5c', 'message': ""Refactor v1 LCM operation\n\nIn the current codes about LCM operation, there are some codes that are\nhard to trace, which can cause an additional error and makes bug-fixing\na time-consuming task.\n\nThis patch refactors parts of these codes such as implicit arguments,\ndefinitions in an inappropriate place, confusing variable names,\nunnecessary dependencies, inappropriate ``else`` use, unused variables,\nand redundant functions, though the tip of the iceberg.  In addition,\nthis patch refactor tests such as tests that take too much time, and\ntests that cannot run correctly in places other than the root\ndirectory.\n\nThe details of the refactoring are listed below.\n\n- controller.py:VnfLcmController._notification_process (implicit\n  arguments)\n\n  Better to explicitly specify the operation_state and\n  notification_state\n\n- conductor_server.py:constants (inappropriate definition place)\n\n  A group of constants should be declared in constants.py\n\n- conductor_server.py:Conductor._change_vnf_status (confusing variable\n  names)\n\n  The variable name `current_status` is confusing. It is a condition\n  indicating the state to which is allowed to transition to the next\n  state.\n\n- conductor_server.py:Conductor._send_lcm_op_occ_notification\n  (confusing variable names)\n\n  The variable name `vnf_notif` is confusing. This is just a\n  `VnfLcmOpOcc`\n\n- conductor_server.py:Conductor._get_vnf_notify (redundant functions)\n\n- conductor_server.py:Conductor._send_lcm_op_occ_notification (implicit\n  arguments)\n\n  Better to explicitly specify the operation_state and operation\n\n- conductor_server.py:Conductor.instantiate (unnecessary dependencies)\n\n  The error points should be updated by vnflcm_driver.\n\n- vnfm_db.py (other)\n\n  Explicitly import Vim table. Due to the dependency from vnfm_db to\n  nfvo_db, if we import vnfm_db before importing nfvo_db, an error\n  happens, which is not explicitly indicated.\n\n- vnfm_db.py:VNFMPluginDb._update_vnf_scaling (unnecessary\n  dependencies)\n- vnfm_db.py:VNFMPluginDb._update_vnf_rollback (unnecessary\n  dependencies)\n\n  Implecitly saving these two objects: vnf_instance and vnf_lcm_op_occ\n  looks not good idea. The parent methods calling this method should\n  save them.\n\n- vnfm_db.py:VNFMPluginDb.update_vnf_rollback_status_err (inappropriate\n  ``else`` use)\n- vnfm_db.py:VNFMPluginDb._update_vnf_rollback_pre (inappropriate\n  ``else`` use)\n- vnfm_db.py:VNFMPluginDb._update_vnf_rollback (inappropriate ``else``\n  use)\n\n  Looks redundant.\n\n-\n  test_conductor_server:TestConductor.test_terminate_vnf_instance_exception\n  (other)\n\n  Improved side effect usage.\n\n- test_conductor_server:TestConductor.test_send_notification_timeout\n  (tests that take too long time)\n- test_conductor_server:TestConductor.test_get_notification_retry\n  (tests that take too long time)\n- test_conductor_server:TestConductor.test_get_notification_timeout\n  (tests that take too long time)\n\n  Mocked timers by setting `retry_wait` 0 in time-consuming tests.\n\n- utils.py (absolute test file paths)\n\n  In the current implementation, a relative path from the project root\n  is used. Due to this, it's not possible to run test in different\n  place from the project root. Thus, this patch change it to relative\n  paths from a test file.\n\n- vnflcm_driver.py:VnfLcmDriver._scale_vnf_pre (unused variables)\n\n  `scale_id_list` is not used\n\n- vnflcm_driver.py:VnfLcmDriver._scale_vnf_pre (inappropriate ``else``\n  use)\n\n  Better to write ``elif scale_vnf_request.type == 'SCALE_OUT':``\n  explicitly because all unknown request types are considered as\n  'SCALE_OUT'\n\n- vnflcm_driver.py:VnfLcmDriver._scale_vnf_post (unused variables)\n\n  `id_list` is not used\n\n- vnflcm_driver.py:VnfLcmDriver._scale_vnf (redundant functions)\n\n  These two methods: `scale` and `_scale_vnf` can be merged. Since most\n  LCM operation methods consist of a pair of a protected method and\n  public method, e.g., `heal_vnf and _heal_vnf`, I merged\n  ``_scale_vnf`` and ``scale`` and then renamed it to ``_scale_vnf``.\n\nChange-Id: I2380ee72d058ec3cac93f941fda602cf8b0aadd7\n""}, {'number': 3, 'created': '2021-12-09 07:52:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/4b2447ddda6603aa19996da4ae43ca2715743033', 'message': ""Refactor v1 LCM operation\n\nIn the current codes about LCM operation, there are some codes that are\nhard to trace, which can cause an additional error and makes bug-fixing\na time-consuming task.\n\nThis patch refactors parts of these codes such as implicit arguments,\ndefinitions in an inappropriate place, confusing variable names,\nunnecessary dependencies, inappropriate ``else`` use, unused variables,\nand redundant functions, though the tip of the iceberg.  In addition,\nthis patch refactor tests such as tests that take too much time, and\ntests that cannot run correctly in places other than the root\ndirectory.\n\nThe details of the refactoring are listed below.\n\n- controller.py:VnfLcmController._notification_process (implicit\n  arguments)\n\n  Better to explicitly specify the operation_state and\n  notification_state\n\n- conductor_server.py:constants (inappropriate definition place)\n\n  A group of constants should be declared in constants.py\n\n- conductor_server.py:Conductor._change_vnf_status (confusing variable\n  names)\n\n  The variable name `current_status` is confusing. It is a condition\n  indicating the state to which is allowed to transition to the next\n  state.\n\n- conductor_server.py:Conductor._send_lcm_op_occ_notification\n  (confusing variable names)\n\n  The variable name `vnf_notif` is confusing. This is just a\n  `VnfLcmOpOcc`\n\n- conductor_server.py:Conductor._get_vnf_notify (redundant functions)\n\n- conductor_server.py:Conductor._send_lcm_op_occ_notification (implicit\n  arguments)\n\n  Better to explicitly specify the operation_state and operation\n\n- conductor_server.py:Conductor.instantiate (unnecessary dependencies)\n\n  The error points should be updated by vnflcm_driver.\n\n- vnfm_db.py (other)\n\n  Explicitly import Vim table. Due to the dependency from vnfm_db to\n  nfvo_db, if we import vnfm_db before importing nfvo_db, an error\n  happens, which is not explicitly indicated.\n\n- vnfm_db.py:VNFMPluginDb._update_vnf_scaling (unnecessary\n  dependencies)\n- vnfm_db.py:VNFMPluginDb._update_vnf_rollback (unnecessary\n  dependencies)\n\n  Implecitly saving these two objects: vnf_instance and vnf_lcm_op_occ\n  looks not good idea. The parent methods calling this method should\n  save them.\n\n- vnfm_db.py:VNFMPluginDb.update_vnf_rollback_status_err (inappropriate\n  ``else`` use)\n- vnfm_db.py:VNFMPluginDb._update_vnf_rollback_pre (inappropriate\n  ``else`` use)\n- vnfm_db.py:VNFMPluginDb._update_vnf_rollback (inappropriate ``else``\n  use)\n\n  Looks redundant.\n\n-\n  test_conductor_server:TestConductor.test_terminate_vnf_instance_exception\n  (other)\n\n  Improved side effect usage.\n\n- test_conductor_server:TestConductor.test_send_notification_timeout\n  (tests that take too long time)\n- test_conductor_server:TestConductor.test_get_notification_retry\n  (tests that take too long time)\n- test_conductor_server:TestConductor.test_get_notification_timeout\n  (tests that take too long time)\n\n  Mocked timers by setting `retry_wait` 0 in time-consuming tests.\n\n- utils.py (absolute test file paths)\n\n  In the current implementation, a relative path from the project root\n  is used. Due to this, it's not possible to run test in different\n  place from the project root. Thus, this patch change it to relative\n  paths from a test file.\n\n- vnflcm_driver.py:VnfLcmDriver._scale_vnf_pre (unused variables)\n\n  `scale_id_list` is not used\n\n- vnflcm_driver.py:VnfLcmDriver._scale_vnf_pre (inappropriate ``else``\n  use)\n\n  Better to write ``elif scale_vnf_request.type == 'SCALE_OUT':``\n  explicitly because all unknown request types are considered as\n  'SCALE_OUT'\n\n- vnflcm_driver.py:VnfLcmDriver._scale_vnf_post (unused variables)\n\n  `id_list` is not used\n\n- vnflcm_driver.py:VnfLcmDriver._scale_vnf (redundant functions)\n\n  These two methods: `scale` and `_scale_vnf` can be merged. Since most\n  LCM operation methods consist of a pair of a protected method and\n  public method, e.g., `heal_vnf and _heal_vnf`, I merged\n  ``_scale_vnf`` and ``scale`` and then renamed it to ``_scale_vnf``.\n\nChange-Id: I2380ee72d058ec3cac93f941fda602cf8b0aadd7\n""}, {'number': 4, 'created': '2022-01-07 02:37:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/cfaeb41a9f3eceaf1426ecaa64447ff54de60041', 'message': ""[WIP] Refactor v1 LCM operation\n\nIn the current codes about LCM operation, there are some codes that are\nhard to trace, which can cause an additional error and makes bug-fixing\na time-consuming task.\n\nThis patch refactors parts of these codes such as implicit arguments,\ndefinitions in an inappropriate place, confusing variable names,\nunnecessary dependencies, inappropriate ``else`` use, unused variables,\nand redundant functions, though the tip of the iceberg.  In addition,\nthis patch refactor tests such as tests that take too much time, and\ntests that cannot run correctly in places other than the root\ndirectory.\n\nThe details of the refactoring are listed below.\n\n- controller.py:VnfLcmController._notification_process (implicit\n  arguments)\n\n  Better to explicitly specify the operation_state and\n  notification_state\n\n- conductor_server.py:constants (inappropriate definition place)\n\n  A group of constants should be declared in constants.py\n\n- conductor_server.py:Conductor._change_vnf_status (confusing variable\n  names)\n\n  The variable name `current_status` is confusing. It is a condition\n  indicating the state to which is allowed to transition to the next\n  state.\n\n- conductor_server.py:Conductor._send_lcm_op_occ_notification\n  (confusing variable names)\n\n  The variable name `vnf_notif` is confusing. This is just a\n  `VnfLcmOpOcc`\n\n- conductor_server.py:Conductor._get_vnf_notify (redundant functions)\n\n- conductor_server.py:Conductor._send_lcm_op_occ_notification (implicit\n  arguments)\n\n  Better to explicitly specify the operation_state and operation\n\n- conductor_server.py:Conductor.instantiate (unnecessary dependencies)\n\n  The error points should be updated by vnflcm_driver.\n\n- vnfm_db.py (other)\n\n  Explicitly import Vim table. Due to the dependency from vnfm_db to\n  nfvo_db, if we import vnfm_db before importing nfvo_db, an error\n  happens, which is not explicitly indicated.\n\n- vnfm_db.py:VNFMPluginDb._update_vnf_scaling (unnecessary\n  dependencies)\n- vnfm_db.py:VNFMPluginDb._update_vnf_rollback (unnecessary\n  dependencies)\n\n  Implecitly saving these two objects: vnf_instance and vnf_lcm_op_occ\n  looks not good idea. The parent methods calling this method should\n  save them.\n\n- vnfm_db.py:VNFMPluginDb.update_vnf_rollback_status_err (inappropriate\n  ``else`` use)\n- vnfm_db.py:VNFMPluginDb._update_vnf_rollback_pre (inappropriate\n  ``else`` use)\n- vnfm_db.py:VNFMPluginDb._update_vnf_rollback (inappropriate ``else``\n  use)\n\n  Looks redundant.\n\n-\n  test_conductor_server:TestConductor.test_terminate_vnf_instance_exception\n  (other)\n\n  Improved side effect usage.\n\n- test_conductor_server:TestConductor.test_send_notification_timeout\n  (tests that take too long time)\n- test_conductor_server:TestConductor.test_get_notification_retry\n  (tests that take too long time)\n- test_conductor_server:TestConductor.test_get_notification_timeout\n  (tests that take too long time)\n\n  Mocked timers by setting `retry_wait` 0 in time-consuming tests.\n\n- utils.py (absolute test file paths)\n\n  In the current implementation, a relative path from the project root\n  is used. Due to this, it's not possible to run test in different\n  place from the project root. Thus, this patch change it to relative\n  paths from a test file.\n\n- vnflcm_driver.py:VnfLcmDriver._scale_vnf_pre (unused variables)\n\n  `scale_id_list` is not used\n\n- vnflcm_driver.py:VnfLcmDriver._scale_vnf_pre (inappropriate ``else``\n  use)\n\n  Better to write ``elif scale_vnf_request.type == 'SCALE_OUT':``\n  explicitly because all unknown request types are considered as\n  'SCALE_OUT'\n\n- vnflcm_driver.py:VnfLcmDriver._scale_vnf_post (unused variables)\n\n  `id_list` is not used\n\n- vnflcm_driver.py:VnfLcmDriver._scale_vnf (redundant functions)\n\n  These two methods: `scale` and `_scale_vnf` can be merged. Since most\n  LCM operation methods consist of a pair of a protected method and\n  public method, e.g., `heal_vnf and _heal_vnf`, I merged\n  ``_scale_vnf`` and ``scale`` and then renamed it to ``_scale_vnf``.\n\nChange-Id: I2380ee72d058ec3cac93f941fda602cf8b0aadd7\n""}, {'number': 5, 'created': '2022-01-07 05:23:51.000000000', 'files': ['tacker/tests/unit/conductor/test_conductor_server.py', 'tacker/api/vnflcm/v1/controller.py', 'tacker/tests/unit/vnflcm/test_vnflcm_driver.py', 'tacker/plugins/common/constants.py', 'tacker/conductor/conductor_server.py', 'tacker/vnflcm/vnflcm_driver.py', 'tacker/db/vnfm/vnfm_db.py', 'tacker/tests/utils.py'], 'web_link': 'https://opendev.org/openstack/tacker/commit/1a7375c6ad2842e1d00f06cd788cd50d41b73095', 'message': ""[WIP] Refactor v1 LCM operation\n\nIn the current codes about LCM operation, there are some codes that are\nhard to trace, which can cause an additional error and makes bug-fixing\na time-consuming task.\n\nThis patch refactors parts of these codes such as implicit arguments,\ndefinitions in an inappropriate place, confusing variable names,\nunnecessary dependencies, inappropriate ``else`` use, unused variables,\nand redundant functions, though the tip of the iceberg.  In addition,\nthis patch refactor tests such as tests that take too much time, and\ntests that cannot run correctly in places other than the root\ndirectory.\n\nThe details of the refactoring are listed below.\n\n- controller.py:VnfLcmController._notification_process (implicit\n  arguments)\n\n  Better to explicitly specify the operation_state and\n  notification_state\n\n- conductor_server.py:constants (inappropriate definition place)\n\n  A group of constants should be declared in constants.py\n\n- conductor_server.py:Conductor._change_vnf_status (confusing variable\n  names)\n\n  The variable name `current_status` is confusing. It is a condition\n  indicating the state to which is allowed to transition to the next\n  state.\n\n- conductor_server.py:Conductor._send_lcm_op_occ_notification\n  (confusing variable names)\n\n  The variable name `vnf_notif` is confusing. This is just a\n  `VnfLcmOpOcc`\n\n- conductor_server.py:Conductor._get_vnf_notify (redundant functions)\n\n- conductor_server.py:Conductor._send_lcm_op_occ_notification (implicit\n  arguments)\n\n  Better to explicitly specify the operation_state and operation\n\n- conductor_server.py:Conductor.instantiate (unnecessary dependencies)\n\n  The error points should be updated by vnflcm_driver.\n\n- vnfm_db.py (other)\n\n  Explicitly import Vim table. Due to the dependency from vnfm_db to\n  nfvo_db, if we import vnfm_db before importing nfvo_db, an error\n  happens, which is not explicitly indicated.\n\n- vnfm_db.py:VNFMPluginDb._update_vnf_scaling (unnecessary\n  dependencies)\n- vnfm_db.py:VNFMPluginDb._update_vnf_rollback (unnecessary\n  dependencies)\n\n  Implecitly saving these two objects: vnf_instance and vnf_lcm_op_occ\n  looks not good idea. The parent methods calling this method should\n  save them.\n\n- vnfm_db.py:VNFMPluginDb.update_vnf_rollback_status_err (inappropriate\n  ``else`` use)\n- vnfm_db.py:VNFMPluginDb._update_vnf_rollback_pre (inappropriate\n  ``else`` use)\n- vnfm_db.py:VNFMPluginDb._update_vnf_rollback (inappropriate ``else``\n  use)\n\n  Looks redundant.\n\n-\n  test_conductor_server:TestConductor.test_terminate_vnf_instance_exception\n  (other)\n\n  Improved side effect usage.\n\n- test_conductor_server:TestConductor.test_send_notification_timeout\n  (tests that take too long time)\n- test_conductor_server:TestConductor.test_get_notification_retry\n  (tests that take too long time)\n- test_conductor_server:TestConductor.test_get_notification_timeout\n  (tests that take too long time)\n\n  Mocked timers by setting `retry_wait` 0 in time-consuming tests.\n\n- utils.py (absolute test file paths)\n\n  In the current implementation, a relative path from the project root\n  is used. Due to this, it's not possible to run test in different\n  place from the project root. Thus, this patch change it to relative\n  paths from a test file.\n\n- vnflcm_driver.py:VnfLcmDriver._scale_vnf_pre (unused variables)\n\n  `scale_id_list` is not used\n\n- vnflcm_driver.py:VnfLcmDriver._scale_vnf_pre (inappropriate ``else``\n  use)\n\n  Better to write ``elif scale_vnf_request.type == 'SCALE_OUT':``\n  explicitly because all unknown request types are considered as\n  'SCALE_OUT'\n\n- vnflcm_driver.py:VnfLcmDriver._scale_vnf_post (unused variables)\n\n  `id_list` is not used\n\n- vnflcm_driver.py:VnfLcmDriver._scale_vnf (redundant functions)\n\n  These two methods: `scale` and `_scale_vnf` can be merged. Since most\n  LCM operation methods consist of a pair of a protected method and\n  public method, e.g., `heal_vnf and _heal_vnf`, I merged\n  ``_scale_vnf`` and ``scale`` and then renamed it to ``_scale_vnf``.\n\nChange-Id: I2380ee72d058ec3cac93f941fda602cf8b0aadd7\n""}]",2,817893,1a7375c6ad2842e1d00f06cd788cd50d41b73095,19,1,5,33455,,,0,"[WIP] Refactor v1 LCM operation

In the current codes about LCM operation, there are some codes that are
hard to trace, which can cause an additional error and makes bug-fixing
a time-consuming task.

This patch refactors parts of these codes such as implicit arguments,
definitions in an inappropriate place, confusing variable names,
unnecessary dependencies, inappropriate ``else`` use, unused variables,
and redundant functions, though the tip of the iceberg.  In addition,
this patch refactor tests such as tests that take too much time, and
tests that cannot run correctly in places other than the root
directory.

The details of the refactoring are listed below.

- controller.py:VnfLcmController._notification_process (implicit
  arguments)

  Better to explicitly specify the operation_state and
  notification_state

- conductor_server.py:constants (inappropriate definition place)

  A group of constants should be declared in constants.py

- conductor_server.py:Conductor._change_vnf_status (confusing variable
  names)

  The variable name `current_status` is confusing. It is a condition
  indicating the state to which is allowed to transition to the next
  state.

- conductor_server.py:Conductor._send_lcm_op_occ_notification
  (confusing variable names)

  The variable name `vnf_notif` is confusing. This is just a
  `VnfLcmOpOcc`

- conductor_server.py:Conductor._get_vnf_notify (redundant functions)

- conductor_server.py:Conductor._send_lcm_op_occ_notification (implicit
  arguments)

  Better to explicitly specify the operation_state and operation

- conductor_server.py:Conductor.instantiate (unnecessary dependencies)

  The error points should be updated by vnflcm_driver.

- vnfm_db.py (other)

  Explicitly import Vim table. Due to the dependency from vnfm_db to
  nfvo_db, if we import vnfm_db before importing nfvo_db, an error
  happens, which is not explicitly indicated.

- vnfm_db.py:VNFMPluginDb._update_vnf_scaling (unnecessary
  dependencies)
- vnfm_db.py:VNFMPluginDb._update_vnf_rollback (unnecessary
  dependencies)

  Implecitly saving these two objects: vnf_instance and vnf_lcm_op_occ
  looks not good idea. The parent methods calling this method should
  save them.

- vnfm_db.py:VNFMPluginDb.update_vnf_rollback_status_err (inappropriate
  ``else`` use)
- vnfm_db.py:VNFMPluginDb._update_vnf_rollback_pre (inappropriate
  ``else`` use)
- vnfm_db.py:VNFMPluginDb._update_vnf_rollback (inappropriate ``else``
  use)

  Looks redundant.

-
  test_conductor_server:TestConductor.test_terminate_vnf_instance_exception
  (other)

  Improved side effect usage.

- test_conductor_server:TestConductor.test_send_notification_timeout
  (tests that take too long time)
- test_conductor_server:TestConductor.test_get_notification_retry
  (tests that take too long time)
- test_conductor_server:TestConductor.test_get_notification_timeout
  (tests that take too long time)

  Mocked timers by setting `retry_wait` 0 in time-consuming tests.

- utils.py (absolute test file paths)

  In the current implementation, a relative path from the project root
  is used. Due to this, it's not possible to run test in different
  place from the project root. Thus, this patch change it to relative
  paths from a test file.

- vnflcm_driver.py:VnfLcmDriver._scale_vnf_pre (unused variables)

  `scale_id_list` is not used

- vnflcm_driver.py:VnfLcmDriver._scale_vnf_pre (inappropriate ``else``
  use)

  Better to write ``elif scale_vnf_request.type == 'SCALE_OUT':``
  explicitly because all unknown request types are considered as
  'SCALE_OUT'

- vnflcm_driver.py:VnfLcmDriver._scale_vnf_post (unused variables)

  `id_list` is not used

- vnflcm_driver.py:VnfLcmDriver._scale_vnf (redundant functions)

  These two methods: `scale` and `_scale_vnf` can be merged. Since most
  LCM operation methods consist of a pair of a protected method and
  public method, e.g., `heal_vnf and _heal_vnf`, I merged
  ``_scale_vnf`` and ``scale`` and then renamed it to ``_scale_vnf``.

Change-Id: I2380ee72d058ec3cac93f941fda602cf8b0aadd7
",git fetch https://review.opendev.org/openstack/tacker refs/changes/93/817893/1 && git format-patch -1 --stdout FETCH_HEAD,"['tacker/tests/unit/conductor/test_conductor_server.py', 'tacker/api/vnflcm/v1/controller.py', 'tacker/tests/unit/vnflcm/test_vnflcm_driver.py', 'tacker/plugins/common/constants.py', 'tacker/conductor/conductor_server.py', 'tacker/vnflcm/vnflcm_driver.py', 'tacker/db/vnfm/vnfm_db.py', 'tacker/tests/utils.py']",8,a227c81bffde6f6279c705a398020bd4d2f58fbf,refactoring," current_dir = os.path.dirname(os.path.abspath(__file__)) csar_dir = os.path.join(current_dir, ""../../"", csar_dir) current_dir = os.path.dirname(os.path.abspath(__file__)) sample_vnf_package = os.path.join(current_dir, ""./etc/samples/etsi/nfv"", csar_dir_name) common_files_path = os.path.join(current_dir, ""./etc/samples/etsi/nfv/common/"") current_dir = os.path.dirname(os.path.abspath(__file__)) sample_vnf_package = os.path.join(current_dir, ""./etc/samples/etsi/nfv"", csar_dir_name) common_files_path = os.path.join(current_dir, ""./etc/samples/etsi/nfv/"")"," sample_vnf_package = os.path.join( ""./tacker/tests/etc/samples/etsi/nfv"", csar_dir_name) common_files_path = os.path.join( ""./tacker/tests/etc/samples/etsi/nfv/common/"") sample_vnf_package = os.path.join( ""./tacker/tests/etc/samples/etsi/nfv"", csar_dir_name) common_files_path = os.path.join( ""./tacker/tests/etc/samples/etsi/nfv/"")",309,337
openstack%2Fglance~master~I71be65ef7b8f710e9317419d7b38559b39f461b0,openstack/glance,master,I71be65ef7b8f710e9317419d7b38559b39f461b0,Remove six.moves.urllib usage,MERGED,2021-12-22 16:14:34.000000000,2022-02-07 04:50:53.000000000,2022-02-07 04:49:15.000000000,"[{'_account_id': 8122}, {'_account_id': 9303}, {'_account_id': 22348}, {'_account_id': 32238}]","[{'number': 1, 'created': '2021-12-22 16:14:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/e65d9a295f1fbfeda2de60d917ba23ddc103d18a', 'message': 'Remove six.moves.urllib usage\n\nChange-Id: I71be65ef7b8f710e9317419d7b38559b39f461b0\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 2, 'created': '2021-12-23 10:42:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/48c128634ade9d4118b199486372624281ac4364', 'message': 'Remove six.moves.urllib usage\n\nChange-Id: I71be65ef7b8f710e9317419d7b38559b39f461b0\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 3, 'created': '2022-01-27 16:39:44.000000000', 'files': ['glance/async_/flows/ovf_process.py', 'glance/tests/functional/v2/test_images.py', 'glance/common/exception.py', 'glance/api/v2/tasks.py', 'glance/cmd/replicator.py', 'glance/common/store_utils.py', 'glance/tests/unit/common/scripts/test_scripts_utils.py', 'glance/common/client.py', 'glance/common/utils.py', 'glance/common/scripts/utils.py', 'glance/api/v2/images.py', 'glance/tests/unit/async_/flows/test_import.py', 'glance/tests/unit/utils.py', 'glance/api/versions.py', 'glance/api/v2/metadef_namespaces.py', 'glance/tests/functional/__init__.py', 'glance/common/location_strategy/store_type.py', 'glance/async_/taskflow_executor.py', 'glance/tests/unit/common/scripts/image_import/test_main.py', 'glance/common/auth.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/87ba56161b6e458b5dfb47c39ec09e279c3ac4b5', 'message': 'Remove six.moves.urllib usage\n\nChange-Id: I71be65ef7b8f710e9317419d7b38559b39f461b0\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}]",1,822737,87ba56161b6e458b5dfb47c39ec09e279c3ac4b5,16,4,3,15334,,,0,"Remove six.moves.urllib usage

Change-Id: I71be65ef7b8f710e9317419d7b38559b39f461b0
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/glance refs/changes/37/822737/1 && git format-patch -1 --stdout FETCH_HEAD,"['glance/async_/flows/ovf_process.py', 'glance/tests/functional/v2/test_images.py', 'glance/common/exception.py', 'glance/api/v2/tasks.py', 'glance/cmd/replicator.py', 'glance/common/store_utils.py', 'glance/tests/unit/common/scripts/test_scripts_utils.py', 'glance/common/client.py', 'glance/common/utils.py', 'glance/common/scripts/utils.py', 'glance/api/v2/images.py', 'glance/tests/unit/async_/flows/test_import.py', 'glance/tests/unit/utils.py', 'glance/api/versions.py', 'glance/api/v2/metadef_namespaces.py', 'glance/tests/functional/__init__.py', 'glance/common/location_strategy/store_type.py', 'glance/async_/taskflow_executor.py', 'glance/tests/unit/common/scripts/image_import/test_main.py', 'glance/common/auth.py']",20,e65d9a295f1fbfeda2de60d917ba23ddc103d18a,remove-six,import urllib.parse as urlparse,import six.moves.urllib.parse as urlparse,24,23
openstack%2Fpuppet-openstack-integration~master~I808c9e927d8f52f596292d3525d00d7429bb87e2,openstack/puppet-openstack-integration,master,I808c9e927d8f52f596292d3525d00d7429bb87e2,Capture redis.conf,MERGED,2022-02-05 13:35:13.000000000,2022-02-07 04:39:48.000000000,2022-02-07 04:39:48.000000000,"[{'_account_id': 9816}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-05 13:35:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/92aebcd96135e37916515169ff5f5a9cfbe6e96d', 'message': 'Capture redis.conf\n\n... so that we can check behavior of puppet-redis.\n\nChange-Id: I808c9e927d8f52f596292d3525d00d7429bb87e2\n'}, {'number': 2, 'created': '2022-02-05 14:38:51.000000000', 'files': ['copy_logs.sh'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/7fa5072e280208b23975d7a58d97c3080e2e6ab5', 'message': 'Capture redis.conf\n\n... so that we can check behavior of puppet-redis.\n\nChange-Id: I808c9e927d8f52f596292d3525d00d7429bb87e2\n'}]",2,827948,7fa5072e280208b23975d7a58d97c3080e2e6ab5,12,3,2,9816,,,0,"Capture redis.conf

... so that we can check behavior of puppet-redis.

Change-Id: I808c9e927d8f52f596292d3525d00d7429bb87e2
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/48/827948/1 && git format-patch -1 --stdout FETCH_HEAD,['copy_logs.sh'],1,92aebcd96135e37916515169ff5f5a9cfbe6e96d,,if [ -d /etc/redis ]; then sudo cp -r /etc/redis $LOG_DIR/etc/redis elif [ -f /etc/redis.conf ]; then sudo cp /etc/redis.conf $LOG_DIR/etc/ fi ,,6,0
openstack%2Fzaqar~master~I8669061e00fd929c24e62ce9fd4ba31aab63e0d4,openstack/zaqar,master,I8669061e00fd929c24e62ce9fd4ba31aab63e0d4,[Part 10] Remove all usage of six library,MERGED,2020-10-15 09:39:19.000000000,2022-02-07 03:34:23.000000000,2022-02-07 03:32:44.000000000,"[{'_account_id': 8846}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-10-15 09:39:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar/commit/9625052a18f57e6008c3985a7135ecc54fbd5865', 'message': ""[Part 10] Remove all usage of six library\n\nWe don't need this in a Python 3-only world.\n\nRemove six in follows:\n1. lower-constraints.txt\n2. requirements.txt\n3. zaqar/bench/observer.py\n4. zaqar/common/api/api.py\n5. zaqar/common/api/request.py\n6. zaqar/common/api/response.py\n7. zaqar/common/pipeline.py\n8. zaqar/common/storage/select.py\n\nChange-Id: I8669061e00fd929c24e62ce9fd4ba31aab63e0d4\n""}, {'number': 2, 'created': '2022-01-27 01:27:25.000000000', 'files': ['zaqar/common/api/response.py', 'zaqar/common/storage/select.py', 'zaqar/common/api/request.py', 'zaqar/bench/observer.py', 'zaqar/common/pipeline.py', 'zaqar/common/api/api.py'], 'web_link': 'https://opendev.org/openstack/zaqar/commit/963ef01c6f253b365e6831eee4a00f7c9bcd12ea', 'message': ""[Part 10] Remove all usage of six library\n\nWe don't need this in a Python 3-only world.\n\nRemove six in follows:\n1. lower-constraints.txt\n2. requirements.txt\n3. zaqar/bench/observer.py\n4. zaqar/common/api/api.py\n5. zaqar/common/api/request.py\n6. zaqar/common/api/response.py\n7. zaqar/common/pipeline.py\n8. zaqar/common/storage/select.py\n\nChange-Id: I8669061e00fd929c24e62ce9fd4ba31aab63e0d4\n""}]",2,758379,963ef01c6f253b365e6831eee4a00f7c9bcd12ea,14,2,2,17130,,,0,"[Part 10] Remove all usage of six library

We don't need this in a Python 3-only world.

Remove six in follows:
1. lower-constraints.txt
2. requirements.txt
3. zaqar/bench/observer.py
4. zaqar/common/api/api.py
5. zaqar/common/api/request.py
6. zaqar/common/api/response.py
7. zaqar/common/pipeline.py
8. zaqar/common/storage/select.py

Change-Id: I8669061e00fd929c24e62ce9fd4ba31aab63e0d4
",git fetch https://review.opendev.org/openstack/zaqar refs/changes/79/758379/2 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'zaqar/common/api/response.py', 'zaqar/common/storage/select.py', 'zaqar/common/api/request.py', 'zaqar/bench/observer.py', 'zaqar/common/pipeline.py', 'lower-constraints.txt', 'zaqar/common/api/api.py']",8,9625052a18f57e6008c3985a7135ecc54fbd5865,, :type action: `str` :type action: `str`, :type action: `six.text_type` :type action: `six.text_type`,8,11
openstack%2Fcharm-ceph-mon~master~Ifaac1f371119d7430b6274f9d299fbe0288bac43,openstack/charm-ceph-mon,master,Ifaac1f371119d7430b6274f9d299fbe0288bac43,Fix typo in functional test definition,MERGED,2022-01-27 01:43:48.000000000,2022-02-07 02:54:22.000000000,2022-02-07 02:54:22.000000000,"[{'_account_id': 8992}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-27 01:43:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/b90fe3096b8949262295deaa08ddb414c4437cd6', 'message': 'Fix typo in functional test definition\n\nimpist -> impish;\nthis should fix the functional tests for impish-xena.\n\nChange-Id: Ifaac1f371119d7430b6274f9d299fbe0288bac43\n'}, {'number': 2, 'created': '2022-01-27 01:46:09.000000000', 'files': ['tests/bundles/impish-xena.yaml'], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/1f1f4c78f4539302b8ee95efc5244842ff7bb26b', 'message': 'Fix typo in functional test definition\n\nimpist -> impish;\nthis should fix the functional tests for impish-xena.\n\nChange-Id: Ifaac1f371119d7430b6274f9d299fbe0288bac43\n'}]",3,826570,1f1f4c78f4539302b8ee95efc5244842ff7bb26b,15,3,2,34352,,,0,"Fix typo in functional test definition

impist -> impish;
this should fix the functional tests for impish-xena.

Change-Id: Ifaac1f371119d7430b6274f9d299fbe0288bac43
",git fetch https://review.opendev.org/openstack/charm-ceph-mon refs/changes/70/826570/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/bundles/impish-xena.yaml'],1,b90fe3096b8949262295deaa08ddb414c4437cd6,,series: impish,series: impist,1,1
openstack%2Ftripleo-puppet-elements~stable%2Fussuri~I835511b960df09bd05bd8aaf1695757f0b079c12,openstack/tripleo-puppet-elements,stable/ussuri,I835511b960df09bd05bd8aaf1695757f0b079c12,Only install required/supported fence agents,MERGED,2022-01-31 00:34:59.000000000,2022-02-07 02:52:49.000000000,2022-02-07 02:52:49.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-31 00:34:59.000000000', 'files': ['elements/overcloud-controller/pkg-map'], 'web_link': 'https://opendev.org/openstack/tripleo-puppet-elements/commit/92190ae5fc47b90020a3465a7196dd1ebfda19d4', 'message': 'Only install required/supported fence agents\n\nNow that the hardened whole-disk image is the default, installing only\nthe required fence agents will avoid agents which depend on packages\nwhich the openstack-secure element will delete (specifically, telnet).\n\nChange-Id: I835511b960df09bd05bd8aaf1695757f0b079c12\nBlueprint: whole-disk-default\n(cherry picked from commit d11a7055603d414cd958e149ea167f7e51389a3a)\n(cherry picked from commit 1f1605cd51b2ed38c06988634286fdff5d7247c3)\n(cherry picked from commit c04cfea2412593322e88766fb08b2502fd800be0)\n'}]",1,826849,92190ae5fc47b90020a3465a7196dd1ebfda19d4,10,2,1,25613,,,0,"Only install required/supported fence agents

Now that the hardened whole-disk image is the default, installing only
the required fence agents will avoid agents which depend on packages
which the openstack-secure element will delete (specifically, telnet).

Change-Id: I835511b960df09bd05bd8aaf1695757f0b079c12
Blueprint: whole-disk-default
(cherry picked from commit d11a7055603d414cd958e149ea167f7e51389a3a)
(cherry picked from commit 1f1605cd51b2ed38c06988634286fdff5d7247c3)
(cherry picked from commit c04cfea2412593322e88766fb08b2502fd800be0)
",git fetch https://review.opendev.org/openstack/tripleo-puppet-elements refs/changes/49/826849/1 && git format-patch -1 --stdout FETCH_HEAD,['elements/overcloud-controller/pkg-map'],1,92190ae5fc47b90020a3465a7196dd1ebfda19d4,wallaby/fence-agents-stable/victoria-stable/ussuri," ""fence_agents_package"": ""fence-agents-redfish fence-agents-ipmilan fence-agents-kdump fence-agents-rhevm"",}"," ""fence_agents_package"": ""fence-agents-all"",} ",2,2
openstack%2Fcharm-glance~master~I0e037fd484a7a77b15095caa1f350e638410fcb6,openstack/charm-glance,master,I0e037fd484a7a77b15095caa1f350e638410fcb6,Migrate charm to charmhub latest/edge track,MERGED,2022-01-27 13:19:38.000000000,2022-02-07 02:43:14.000000000,2022-02-07 02:43:14.000000000,"[{'_account_id': 8992}, {'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2022-01-27 13:19:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-glance/commit/3f12d462c6373525fe965409229c950eec8618d5', 'message': 'Migrate charm to charmhub latest/edge track\n\nChange-Id: I0e037fd484a7a77b15095caa1f350e638410fcb6\n'}, {'number': 2, 'created': '2022-01-27 20:15:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-glance/commit/02cafa59f7ecb059dc78c1f0f762aafe11b9428d', 'message': 'Migrate charm to charmhub latest/edge track\n\nChange-Id: I0e037fd484a7a77b15095caa1f350e638410fcb6\n'}, {'number': 3, 'created': '2022-02-01 12:06:39.000000000', 'files': ['tests/bundles/focal-ussuri.yaml', 'osci.yaml', 'tests/bundles/focal-yoga.yaml', 'tests/bundles/bionic-ussuri.yaml', 'tests/bundles/bionic-stein.yaml', 'tests/bundles/bionic-rocky.yaml', 'tests/bundles/bionic-train.yaml', 'tests/tests.yaml', 'tests/bundles/focal-xena.yaml', 'tests/bundles/bionic-queens.yaml', 'tests/bundles/focal-victoria.yaml', 'tests/bundles/hirsute-wallaby.yaml', 'charmcraft.yaml', 'tests/bundles/focal-wallaby.yaml', 'metadata.yaml', 'tests/bundles/jammy-yoga.yaml', 'tests/bundles/impish-xena.yaml'], 'web_link': 'https://opendev.org/openstack/charm-glance/commit/3c32cab85585511558e25e50c12d8e1e1e6315eb', 'message': 'Migrate charm to charmhub latest/edge track\n\nChange-Id: I0e037fd484a7a77b15095caa1f350e638410fcb6\nCo-authored-by: Aurelien Lourot <aurelien.lourot@canonical.com>\n'}]",6,826660,3c32cab85585511558e25e50c12d8e1e1e6315eb,24,5,3,20870,,,0,"Migrate charm to charmhub latest/edge track

Change-Id: I0e037fd484a7a77b15095caa1f350e638410fcb6
Co-authored-by: Aurelien Lourot <aurelien.lourot@canonical.com>
",git fetch https://review.opendev.org/openstack/charm-glance refs/changes/60/826660/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/bundles/focal-ussuri.yaml', 'osci.yaml', 'tests/bundles/focal-yoga.yaml', 'tests/bundles/bionic-ussuri.yaml', 'tests/bundles/bionic-stein.yaml', 'tests/bundles/bionic-rocky.yaml', 'tests/bundles/bionic-train.yaml', 'tests/tests.yaml', 'tests/bundles/focal-xena.yaml', 'tests/bundles/bionic-queens.yaml', 'tests/bundles/focal-victoria.yaml', 'tests/bundles/hirsute-wallaby.yaml', 'charmcraft.yaml', 'tests/bundles/focal-wallaby.yaml', 'metadata.yaml', 'tests/bundles/jammy-yoga.yaml', 'tests/bundles/impish-xena.yaml']",17,3f12d462c6373525fe965409229c950eec8618d5,charmhub-migration-master, charm: ch:mysql-router channel: latest/edge glance-mysql-router: charm: ch:mysql-router channel: latest/edge charm: ch:mysql-innodb-cluster channel: latest/edge charm: ch:ceph-osd channel: latest/edge charm: ch:ceph-radosgw channel: latest/edge charm: ch:ceph-mon channel: latest/edge charm: ch:rabbitmq-server channel: latest/edge charm: ch:keystone channel: latest/edge charm: ch:glance channel: latest/edge, charm: cs:~openstack-charmers-next/mysql-router glance-mysql-router: charm: cs:~openstack-charmers-next/mysql-router charm: cs:~openstack-charmers-next/mysql-innodb-cluster charm: cs:~openstack-charmers-next/ceph-osd charm: cs:~openstack-charmers-next/ceph-radosgw charm: cs:~openstack-charmers-next/ceph-mon charm: cs:~openstack-charmers-next/rabbitmq-server charm: cs:~openstack-charmers-next/keystone charm: cs:~openstack-charmers-next/glance,127,684
openstack%2Felection~master~Id0c1109b9f1d71ad9048c31b322f7b2ac38a85d2,openstack/election,master,Id0c1109b9f1d71ad9048c31b322f7b2ac38a85d2,Set up candidacy directories for Z elections,MERGED,2022-02-06 03:35:29.000000000,2022-02-07 01:16:27.000000000,2022-02-07 01:14:43.000000000,"[{'_account_id': 7198}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-06 03:35:29.000000000', 'files': ['candidates/z/Adjutant/.placeholder', 'candidates/z/Kuryr/.placeholder', 'candidates/z/Requirements/.placeholder', 'candidates/z/OpenStackSDK/.placeholder', 'candidates/z/Glance/.placeholder', 'candidates/z/Telemetry/.placeholder', 'candidates/z/Cyborg/.placeholder', 'candidates/z/Cinder/.placeholder', 'candidates/z/Ec2_Api/.placeholder', 'candidates/z/Vitrage/.placeholder', 'candidates/z/Quality_Assurance/.placeholder', 'candidates/z/Zun/.placeholder', 'candidates/z/Puppet_OpenStack/.placeholder', 'candidates/z/Winstackers/.placeholder', 'candidates/z/Zaqar/.placeholder', 'candidates/z/Watcher/.placeholder', 'candidates/z/Sahara/.placeholder', 'candidates/z/Freezer/.placeholder', 'candidates/z/Release_Management/.placeholder', 'candidates/z/Cloudkitty/.placeholder', 'candidates/z/OpenStackAnsible/.placeholder', 'candidates/z/Tripleo/.placeholder', 'candidates/z/Horizon/.placeholder', 'candidates/z/Masakari/.placeholder', 'candidates/z/OpenStack_Helm/.placeholder', 'candidates/z/Nova/.placeholder', 'candidates/z/Heat/.placeholder', 'candidates/z/Solum/.placeholder', 'candidates/z/Designate/.placeholder', 'candidates/z/OpenStack_Charms/.placeholder', 'candidates/z/Monasca/.placeholder', 'candidates/z/Senlin/.placeholder', 'candidates/z/Blazar/.placeholder', 'candidates/z/Magnum/.placeholder', 'candidates/z/Openstack_Chef/.placeholder', 'candidates/z/Neutron/.placeholder', 'candidates/z/Rally/.placeholder', 'candidates/z/Ironic/.placeholder', 'candidates/z/Kolla/.placeholder', 'candidates/z/Swift/.placeholder', 'candidates/z/Octavia/.placeholder', 'candidates/z/Skyline/.placeholder', 'candidates/z/TC/.placeholder', 'candidates/z/Murano/.placeholder', 'candidates/z/Trove/.placeholder', 'candidates/z/Barbican/.placeholder', 'candidates/z/Manila/.placeholder', 'candidates/z/Storlets/.placeholder', 'candidates/z/Tacker/.placeholder', 'candidates/z/Venus/.placeholder'], 'web_link': 'https://opendev.org/openstack/election/commit/c2f475b4e55c14cd3bc5867602eadb50768b3ced', 'message': 'Set up candidacy directories for Z elections\n\nThis is the result of ""tox -evenv -- create-directories""\nfor the Z technical election. It exclude the projects\nwith DPL model which does not need PTL election.\n\nChange-Id: Id0c1109b9f1d71ad9048c31b322f7b2ac38a85d2\n'}]",1,828021,c2f475b4e55c14cd3bc5867602eadb50768b3ced,7,2,1,8556,,,0,"Set up candidacy directories for Z elections

This is the result of ""tox -evenv -- create-directories""
for the Z technical election. It exclude the projects
with DPL model which does not need PTL election.

Change-Id: Id0c1109b9f1d71ad9048c31b322f7b2ac38a85d2
",git fetch https://review.opendev.org/openstack/election refs/changes/21/828021/1 && git format-patch -1 --stdout FETCH_HEAD,"['candidates/z/Adjutant/.placeholder', 'candidates/z/Kuryr/.placeholder', 'candidates/z/Requirements/.placeholder', 'candidates/z/OpenStackSDK/.placeholder', 'candidates/z/Glance/.placeholder', 'candidates/z/Telemetry/.placeholder', 'candidates/z/Cyborg/.placeholder', 'candidates/z/Cinder/.placeholder', 'candidates/z/Ec2_Api/.placeholder', 'candidates/z/Vitrage/.placeholder', 'candidates/z/Quality_Assurance/.placeholder', 'candidates/z/Zun/.placeholder', 'candidates/z/Puppet_OpenStack/.placeholder', 'candidates/z/Winstackers/.placeholder', 'candidates/z/Zaqar/.placeholder', 'candidates/z/Watcher/.placeholder', 'candidates/z/Sahara/.placeholder', 'candidates/z/Freezer/.placeholder', 'candidates/z/Release_Management/.placeholder', 'candidates/z/Cloudkitty/.placeholder', 'candidates/z/OpenStackAnsible/.placeholder', 'candidates/z/Tripleo/.placeholder', 'candidates/z/Horizon/.placeholder', 'candidates/z/Masakari/.placeholder', 'candidates/z/OpenStack_Helm/.placeholder', 'candidates/z/Nova/.placeholder', 'candidates/z/Heat/.placeholder', 'candidates/z/Solum/.placeholder', 'candidates/z/Designate/.placeholder', 'candidates/z/OpenStack_Charms/.placeholder', 'candidates/z/Monasca/.placeholder', 'candidates/z/Senlin/.placeholder', 'candidates/z/Blazar/.placeholder', 'candidates/z/Magnum/.placeholder', 'candidates/z/Openstack_Chef/.placeholder', 'candidates/z/Neutron/.placeholder', 'candidates/z/Rally/.placeholder', 'candidates/z/Ironic/.placeholder', 'candidates/z/Kolla/.placeholder', 'candidates/z/Swift/.placeholder', 'candidates/z/Octavia/.placeholder', 'candidates/z/Skyline/.placeholder', 'candidates/z/TC/.placeholder', 'candidates/z/Murano/.placeholder', 'candidates/z/Trove/.placeholder', 'candidates/z/Barbican/.placeholder', 'candidates/z/Manila/.placeholder', 'candidates/z/Storlets/.placeholder', 'candidates/z/Tacker/.placeholder', 'candidates/z/Venus/.placeholder']",50,c2f475b4e55c14cd3bc5867602eadb50768b3ced,z-elections,,,0,0
openstack%2Fsenlin-dashboard~stable%2Fxena~I124531d9580fd8783b99307247574e1788261fb8,openstack/senlin-dashboard,stable/xena,I124531d9580fd8783b99307247574e1788261fb8,Update TOX_CONSTRAINTS_FILE for stable/xena,MERGED,2021-09-17 14:39:38.000000000,2022-02-07 01:10:42.000000000,2022-02-07 01:08:07.000000000,"[{'_account_id': 16352}, {'_account_id': 22348}, {'_account_id': 22623}, {'_account_id': 27224}, {'_account_id': 29313}]","[{'number': 1, 'created': '2021-09-17 14:39:38.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/senlin-dashboard/commit/fc3ed3ec66dc31126329125983c58220f923b220', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/xena\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/xena branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: I124531d9580fd8783b99307247574e1788261fb8\n'}]",6,809756,fc3ed3ec66dc31126329125983c58220f923b220,19,5,1,22816,,,0,"Update TOX_CONSTRAINTS_FILE for stable/xena

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/xena branch, tests will
continue to use the upper-constraints list on master.

Change-Id: I124531d9580fd8783b99307247574e1788261fb8
",git fetch https://review.opendev.org/openstack/senlin-dashboard refs/changes/56/809756/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,fc3ed3ec66dc31126329125983c58220f923b220,create-xena, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/xena} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/xena}, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},2,2
openstack%2Fsenlin-dashboard~stable%2Fxena~I8913f195c7e9174fde135a3cc66e1d657f38d3f4,openstack/senlin-dashboard,stable/xena,I8913f195c7e9174fde135a3cc66e1d657f38d3f4,Update .gitreview for stable/xena,MERGED,2021-09-17 14:39:37.000000000,2022-02-07 01:09:19.000000000,2022-02-07 01:08:03.000000000,"[{'_account_id': 16352}, {'_account_id': 22348}, {'_account_id': 22623}, {'_account_id': 27224}, {'_account_id': 29313}]","[{'number': 1, 'created': '2021-09-17 14:39:37.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/senlin-dashboard/commit/8a559b852ecd5d2784458fc3fee4524f27346f6a', 'message': 'Update .gitreview for stable/xena\n\nChange-Id: I8913f195c7e9174fde135a3cc66e1d657f38d3f4\n'}]",9,809755,8a559b852ecd5d2784458fc3fee4524f27346f6a,24,5,1,22816,,,0,"Update .gitreview for stable/xena

Change-Id: I8913f195c7e9174fde135a3cc66e1d657f38d3f4
",git fetch https://review.opendev.org/openstack/senlin-dashboard refs/changes/55/809755/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,8a559b852ecd5d2784458fc3fee4524f27346f6a,create-xena,defaultbranch=stable/xena,,1,0
openstack%2Fzaqar-ui~master~I802b0e4b017d8a9b7501ee1bcfaa444a08aeea1b,openstack/zaqar-ui,master,I802b0e4b017d8a9b7501ee1bcfaa444a08aeea1b,setup.cfg: Replace dashes by underscores,MERGED,2022-02-05 17:05:00.000000000,2022-02-07 01:03:55.000000000,2022-02-07 01:02:36.000000000,"[{'_account_id': 16352}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-05 17:05:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar-ui/commit/8488e9d28108f3a4792a3f83725cca74f363ba5e', 'message': 'setup.cfg: Replace dashes by underscores\n\nSince setuptools v54.1.0[1], the parmeters with dash have been\ndeprecated in favor of the new parameters with underscore.\n\nThis change updates the example file described in documentation\naccordingly to use the new parameters.\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: I802b0e4b017d8a9b7501ee1bcfaa444a08aeea1b\n'}, {'number': 2, 'created': '2022-02-05 17:09:09.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/zaqar-ui/commit/d0dbfd41bdcb9e9eb0fe5cac86efab139b3091b0', 'message': ""setup.cfg: Replace dashes by underscores\n\nSince setuptools v54.1.0[1], the parmeters with dash have been\ndeprecated in favor of the new parameters with underscore.\n\nThis change updates the parameters accordingly to avoid the warnings\nlike the example below.\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: I802b0e4b017d8a9b7501ee1bcfaa444a08aeea1b\n""}]",0,827998,d0dbfd41bdcb9e9eb0fe5cac86efab139b3091b0,8,2,2,9816,,,0,"setup.cfg: Replace dashes by underscores

Since setuptools v54.1.0[1], the parmeters with dash have been
deprecated in favor of the new parameters with underscore.

This change updates the parameters accordingly to avoid the warnings
like the example below.

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: I802b0e4b017d8a9b7501ee1bcfaa444a08aeea1b
",git fetch https://review.opendev.org/openstack/zaqar-ui refs/changes/98/827998/2 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,8488e9d28108f3a4792a3f83725cca74f363ba5e,,description_file =author_email = openstack-discuss@lists.openstack.org home_page = https://docs.openstack.org/zaqar/latest/,description-file =author-email = openstack-discuss@lists.openstack.org home-page = https://docs.openstack.org/zaqar/latest/,3,3
openstack%2Felection~master~Iaea37142ac34a4c83fe208d74097cb2210329ae9,openstack/election,master,Iaea37142ac34a4c83fe208d74097cb2210329ae9,Setup dates for Z combined election,MERGED,2022-01-17 22:04:22.000000000,2022-02-07 00:21:52.000000000,2022-02-07 00:20:32.000000000,"[{'_account_id': 2033}, {'_account_id': 2799}, {'_account_id': 7198}, {'_account_id': 8556}, {'_account_id': 14482}, {'_account_id': 15993}, {'_account_id': 22348}, {'_account_id': 30491}, {'_account_id': 32070}]","[{'number': 1, 'created': '2022-01-17 22:04:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/election/commit/a62e020bfd95ff4b708aa8524aba5060b9384964', 'message': 'Setup dates for Z combined election\n\nZ cycle is going to have combined election.\n\nAs per the TC charter:\n- TC election needs to be held in between of R6 to R4 week of Yoga release\n- PTL election needs to be held on or before R3 week.\n\nRef: https://governance.openstack.org/tc/reference/charter.html\n\nRelease dates:\nIf we combine both election schedule as per TC charter it comes as:\nbetween R6 to R4 week:\nR-6: Feb 18\nR-4: Mar 11\n\nRef: https://releases.openstack.org/yoga/schedule.html\nChange-Id: Iaea37142ac34a4c83fe208d74097cb2210329ae9\n'}, {'number': 2, 'created': '2022-01-17 22:13:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/election/commit/b1f28495cbed7cebfba2283f698a0ab09d953836', 'message': 'Setup dates for Z combined election\n\nZ cycle is going to have combined election.\n\nAs per the TC charter:\n- TC election needs to be held in between of R6 to R4 week of Yoga release\n- PTL election needs to be held on or before R3 week.\n\nRef: https://governance.openstack.org/tc/reference/charter.html\n\nRelease dates:\nIf we combine both election schedule as per TC charter it comes as:\nbetween R6 to R4 week:\nR-6: Feb 18\nR-4: Mar 11\n\nRef: https://releases.openstack.org/yoga/schedule.html\nChange-Id: Iaea37142ac34a4c83fe208d74097cb2210329ae9\n'}, {'number': 3, 'created': '2022-01-17 22:24:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/election/commit/47497cc475bfd6384fba82409285d0211ed05d9e', 'message': 'Setup dates for Z combined election\n\nZ cycle is going to have combined election.\n\nAs per the TC charter:\n- TC election needs to be held in between of R6 to R4 week of Yoga release\n- PTL election needs to be held on or before R3 week.\n\nRef: https://governance.openstack.org/tc/reference/charter.html\n\nRelease dates:\nIf we combine both election schedule as per TC charter it comes as:\nbetween R6 to R4 week:\nR-6: Feb 18\nR-4: Mar 11\n\nRef: https://releases.openstack.org/yoga/schedule.html\nChange-Id: Iaea37142ac34a4c83fe208d74097cb2210329ae9\n'}, {'number': 4, 'created': '2022-01-19 19:37:47.000000000', 'files': ['configuration.yaml'], 'web_link': 'https://opendev.org/openstack/election/commit/4906439c85e8855c429250724b04f32cf9a89c09', 'message': 'Setup dates for Z combined election\n\nZ cycle is going to have combined election.\n\nAs per the TC charter:\n- TC election needs to be held in between of R6 to R4 week of Yoga release\n- PTL election needs to be held on or before R3 week.\n\nRef: https://governance.openstack.org/tc/reference/charter.html\n\nRelease dates:\nIf we combine both election schedule as per TC charter it comes as:\nbetween R6 to R4 week:\nR-6: Feb 18\nR-4: Mar 11\n\nRef: https://releases.openstack.org/yoga/schedule.html\nChange-Id: Iaea37142ac34a4c83fe208d74097cb2210329ae9\n'}]",8,825017,4906439c85e8855c429250724b04f32cf9a89c09,25,9,4,8556,,,0,"Setup dates for Z combined election

Z cycle is going to have combined election.

As per the TC charter:
- TC election needs to be held in between of R6 to R4 week of Yoga release
- PTL election needs to be held on or before R3 week.

Ref: https://governance.openstack.org/tc/reference/charter.html

Release dates:
If we combine both election schedule as per TC charter it comes as:
between R6 to R4 week:
R-6: Feb 18
R-4: Mar 11

Ref: https://releases.openstack.org/yoga/schedule.html
Change-Id: Iaea37142ac34a4c83fe208d74097cb2210329ae9
",git fetch https://review.opendev.org/openstack/election refs/changes/17/825017/4 && git format-patch -1 --stdout FETCH_HEAD,['configuration.yaml'],1,a62e020bfd95ff4b708aa8524aba5060b9384964,z-elections,release: ztag: mar-2022-elections tc_seats: 5 timeframe: name: Xena-Yoga start: 2021-03-26T00:00 end: 2022-02-15T00:00 email_deadline: 2022-02-15T00:00 timeline: - name: PTL Nominations start: 2022-02-08T23:45 end: 2022-02-15T23:45 - name: TC Nominations start: 2022-02-08T23:45 end: 2022-02-15T2 - name: TC Campaigning start: 2022-02-15T23:45 end: 2022-02-22T23:45 - name: PTL Election start: 2022-02-22T23:45 end: 2022-03-01T23:45 - name: TC Election start: 2022-02-22T23:45 end: 2022-03-01T23:45,release: yogatag: 0.10.0 tc_seats: 4 timeframe: name: Wallaby-Xena start: 2020-09-25T00:00 end: 2021-08-24T00:00 email_deadline: 2021-08-24T00:00 timeline: - name: TC Nominations start: 2021-08-17T23:45 end: 2021-08-24T23:45 - name: PTL Nominations start: 2021-08-17T23:45 end: 2021-08-24T23:45 - name: TC Campaigning start: 2021-08-24T23:45 end: 2021-08-31T23:45 - name: TC Election start: 2021-08-31T23:45 end: 2021-09-07T23:45 - name: PTL Election start: 2021-08-31T23:45 end: 2021-09-07T23:45,22,22
openstack%2Fswift~master~Ibd98ad3bdedc6c80d275a37697de0943e3e8fb4f,openstack/swift,master,Ibd98ad3bdedc6c80d275a37697de0943e3e8fb4f,proxy-server: add stats for backend shard_listing requests,MERGED,2022-01-25 16:53:44.000000000,2022-02-06 22:39:32.000000000,2022-02-04 09:18:31.000000000,"[{'_account_id': 1179}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-25 16:53:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/da38fd3ccf94f44c5c270dacc81de15e26323aff', 'message': ""proxy-server: add stats for backend shard_listing requests\n\nAdd statsd metrics 'container.shard_listing.backend.<status_int>'.\n\nChange-Id: Ibd98ad3bdedc6c80d275a37697de0943e3e8fb4f\n""}, {'number': 2, 'created': '2022-01-26 11:53:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/03575b6126d737c875d56284cc62929193c1a5f2', 'message': ""proxy-server: add stats for backend shard_listing requests\n\nAdd statsd metrics 'container.shard_listing.backend.<status_int>'.\n\nChange-Id: Ibd98ad3bdedc6c80d275a37697de0943e3e8fb4f\n""}, {'number': 3, 'created': '2022-01-26 16:26:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/bd209cb56c189dccdcc04472ace64c144617c66d', 'message': ""proxy-server: add stats for backend shard_listing requests\n\nAdd statsd metrics 'container.shard_listing.backend.<status_int>'.\n\nChange-Id: Ibd98ad3bdedc6c80d275a37697de0943e3e8fb4f\n""}, {'number': 4, 'created': '2022-01-27 13:40:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/a917458533d5f7de37c3a4edf58f49e2e0f57eba', 'message': ""proxy-server: add stats for backend shard_listing requests\n\nAdd statsd metrics 'container.shard_listing.backend.<status_int>'.\n\nChange-Id: Ibd98ad3bdedc6c80d275a37697de0943e3e8fb4f\n""}, {'number': 5, 'created': '2022-01-27 13:55:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/df6e60aaae9ba0da43e09ab9311784f841cb2769', 'message': ""proxy-server: add stats for backend shard_listing requests\n\nAdd statsd metrics 'container.shard_listing.backend.<status_int>'.\n\nChange-Id: Ibd98ad3bdedc6c80d275a37697de0943e3e8fb4f\n""}, {'number': 6, 'created': '2022-01-27 17:06:47.000000000', 'files': ['test/unit/proxy/controllers/test_container.py', 'swift/proxy/controllers/container.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/114440487889ebcc58c010a4986c406adcb18f0c', 'message': ""proxy-server: add stats for backend shard_listing requests\n\nAdd statsd metrics 'container.shard_listing.backend.<status_int>'.\n\nChange-Id: Ibd98ad3bdedc6c80d275a37697de0943e3e8fb4f\n""}]",33,826326,114440487889ebcc58c010a4986c406adcb18f0c,39,3,6,7847,,,0,"proxy-server: add stats for backend shard_listing requests

Add statsd metrics 'container.shard_listing.backend.<status_int>'.

Change-Id: Ibd98ad3bdedc6c80d275a37697de0943e3e8fb4f
",git fetch https://review.opendev.org/openstack/swift refs/changes/26/826326/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/proxy/controllers/test_container.py', 'swift/proxy/controllers/container.py']",2,da38fd3ccf94f44c5c270dacc81de15e26323aff,p-fix-statsd-prefix," if ((is_success(resp.status_int) and resp_record_type == 'shard') or (info and is_success(info['status']) and info.get('sharding_state') == 'sharded')): # We either got shard ranges from backend, or we expected to get # them but the request failed. Some corner cases are obscured: it's # possible that the container *isn't* sharded and the request # failed, and it's possible that the request succeeded but shard # ranges can't be parsed (below) from the request body. For # simplicity we include the corner cases in these matrics. self.logger.increment( 'shard_listing.backend.%s' % resp.status_int) ",,32,3
openstack%2Fpuppet-tripleo~master~I58e39004591dd05b3c6c26db75dcee891abdfe6c,openstack/puppet-tripleo,master,I58e39004591dd05b3c6c26db75dcee891abdfe6c,DNM: Testing unit tests,ABANDONED,2022-01-27 03:46:16.000000000,2022-02-06 15:30:12.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-01-27 03:46:16.000000000', 'files': ['spec/classes/tripleo_profile_base_glance_api_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/955f16cc3bf57334f6f7a1da5a0b70ff688de51b', 'message': 'DNM: Testing unit tests\n\nDepends-on: https://review.opendev.org/c/openstack/puppet-glance/+/826546\nChange-Id: I58e39004591dd05b3c6c26db75dcee891abdfe6c\n'}]",0,826578,955f16cc3bf57334f6f7a1da5a0b70ff688de51b,3,1,1,9816,,,0,"DNM: Testing unit tests

Depends-on: https://review.opendev.org/c/openstack/puppet-glance/+/826546
Change-Id: I58e39004591dd05b3c6c26db75dcee891abdfe6c
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/78/826578/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/classes/tripleo_profile_base_glance_api_spec.rb'],1,955f16cc3bf57334f6f7a1da5a0b70ff688de51b,,,,1,0
openstack%2Fpuppet-openstack-integration~master~Ib6322dd676b050ff27c01ec04e75b8032ad4578c,openstack/puppet-openstack-integration,master,Ib6322dd676b050ff27c01ec04e75b8032ad4578c,DNM: Debugging API failure,ABANDONED,2021-08-31 14:32:54.000000000,2022-02-06 15:29:55.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-08-31 14:32:54.000000000', 'files': ['manifests/keystone.pp'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/46dc4e0311e4a30fc8789f65d9b544253ce3fc16', 'message': 'DNM: Debugging API failure\n\nDepends-on: https://review.opendev.org/c/openstack/puppet-keystone/+/806474/\nChange-Id: Ib6322dd676b050ff27c01ec04e75b8032ad4578c\n'}]",0,806758,46dc4e0311e4a30fc8789f65d9b544253ce3fc16,3,1,1,9816,,,0,"DNM: Debugging API failure

Depends-on: https://review.opendev.org/c/openstack/puppet-keystone/+/806474/
Change-Id: Ib6322dd676b050ff27c01ec04e75b8032ad4578c
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/58/806758/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/keystone.pp'],1,46dc4e0311e4a30fc8789f65d9b544253ce3fc16,," debug => true, default_log_levels => {'oslo_policy' => 'DEBUG'},"," debug => true,",2,1
openstack%2Fpuppet-openstack-integration~master~I4b22bd6841484f9ab55f83ddd61595875d1d7c04,openstack/puppet-openstack-integration,master,I4b22bd6841484f9ab55f83ddd61595875d1d7c04,DNM: Use internal endpoint to access keystone,ABANDONED,2021-12-09 15:40:00.000000000,2022-02-06 15:28:39.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-12-09 15:40:00.000000000', 'files': ['manifests/keystone.pp'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/8009f8614fd809eee2e3392b79887effa3b00faa', 'message': 'DNM: Use internal endpoint to access keystone\n\nDepends-on: https://review.opendev.org/821167\nChange-Id: I4b22bd6841484f9ab55f83ddd61595875d1d7c04\n'}]",0,821234,8009f8614fd809eee2e3392b79887effa3b00faa,3,1,1,9816,,,0,"DNM: Use internal endpoint to access keystone

Depends-on: https://review.opendev.org/821167
Change-Id: I4b22bd6841484f9ab55f83ddd61595875d1d7c04
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/34/821234/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/keystone.pp'],1,8009f8614fd809eee2e3392b79887effa3b00faa,," interface => 'internal',",,1,0
openstack%2Fzaqar~master~I1bea33c07e454dd6c062546e095f4a1f14425845,openstack/zaqar,master,I1bea33c07e454dd6c062546e095f4a1f14425845,Update master for stable/xena,MERGED,2021-09-15 17:14:08.000000000,2022-02-06 13:39:58.000000000,2022-02-06 13:38:37.000000000,"[{'_account_id': 8846}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-15 17:14:08.000000000', 'files': ['releasenotes/source/xena.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/zaqar/commit/0afdaa06eb93e3684da6fe7b588f720bd4b84368', 'message': 'Update master for stable/xena\n\nAdd file to the reno documentation build to show release notes for\nstable/xena.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/xena.\n\nSem-Ver: feature\nChange-Id: I1bea33c07e454dd6c062546e095f4a1f14425845\n'}]",1,809255,0afdaa06eb93e3684da6fe7b588f720bd4b84368,11,2,1,22816,,,0,"Update master for stable/xena

Add file to the reno documentation build to show release notes for
stable/xena.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/xena.

Sem-Ver: feature
Change-Id: I1bea33c07e454dd6c062546e095f4a1f14425845
",git fetch https://review.opendev.org/openstack/zaqar refs/changes/55/809255/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/xena.rst', 'releasenotes/source/index.rst']",2,0afdaa06eb93e3684da6fe7b588f720bd4b84368,reno-xena, xena,,7,0
openstack%2Fceilometermiddleware~master~I7e395355cb008486fff1b1683364bad9e0e14980,openstack/ceilometermiddleware,master,I7e395355cb008486fff1b1683364bad9e0e14980,Add Python3 xena unit tests,MERGED,2021-03-12 12:30:42.000000000,2022-02-06 11:41:59.000000000,2022-02-06 11:38:49.000000000,"[{'_account_id': 4264}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-12 12:30:42.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/ceilometermiddleware/commit/335ea3f0b59a3e0531e94cfb677b3f82dd60aa80', 'message': 'Add Python3 xena unit tests\n\nThis is an automatically generated patch to ensure unit testing\nis in place for all the of the tested runtimes for xena.\n\nSee also the PTI in governance [1].\n\n[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html\n\nChange-Id: I7e395355cb008486fff1b1683364bad9e0e14980\n'}]",2,780246,335ea3f0b59a3e0531e94cfb677b3f82dd60aa80,9,2,1,22816,,,0,"Add Python3 xena unit tests

This is an automatically generated patch to ensure unit testing
is in place for all the of the tested runtimes for xena.

See also the PTI in governance [1].

[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html

Change-Id: I7e395355cb008486fff1b1683364bad9e0e14980
",git fetch https://review.opendev.org/openstack/ceilometermiddleware refs/changes/46/780246/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,335ea3f0b59a3e0531e94cfb677b3f82dd60aa80,add-xena-python-jobtemplates, - openstack-python3-xena-jobs, - openstack-python3-wallaby-jobs,1,1
openstack%2Fpython-aodhclient~master~I55c5a8568ccd93e504120365d4d2f3107cf0aa06,openstack/python-aodhclient,master,I55c5a8568ccd93e504120365d4d2f3107cf0aa06,Add Python3 xena unit tests,MERGED,2021-03-12 12:39:48.000000000,2022-02-06 10:58:28.000000000,2022-02-06 10:55:17.000000000,"[{'_account_id': 4264}, {'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2021-03-12 12:39:48.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/python-aodhclient/commit/60df9b4035a40cfd1071731a966e99789e624dea', 'message': 'Add Python3 xena unit tests\n\nThis is an automatically generated patch to ensure unit testing\nis in place for all the of the tested runtimes for xena.\n\nSee also the PTI in governance [1].\n\n[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html\n\nChange-Id: I55c5a8568ccd93e504120365d4d2f3107cf0aa06\n'}]",2,780250,60df9b4035a40cfd1071731a966e99789e624dea,14,3,1,22816,,,0,"Add Python3 xena unit tests

This is an automatically generated patch to ensure unit testing
is in place for all the of the tested runtimes for xena.

See also the PTI in governance [1].

[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html

Change-Id: I55c5a8568ccd93e504120365d4d2f3107cf0aa06
",git fetch https://review.opendev.org/openstack/python-aodhclient refs/changes/50/780250/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,60df9b4035a40cfd1071731a966e99789e624dea,add-xena-python-jobtemplates, - openstack-python3-xena-jobs, - openstack-python3-wallaby-jobs,1,1
openstack%2Fdesignate~master~I5d566588be66e9ed0df9484e36504a69b4f4b5a9,openstack/designate,master,I5d566588be66e9ed0df9484e36504a69b4f4b5a9,Updated status logic to always NOTIFY on change,MERGED,2022-01-06 05:50:23.000000000,2022-02-06 10:08:43.000000000,2022-02-06 10:07:18.000000000,"[{'_account_id': 11628}, {'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-06 05:50:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/3e9169d1a1ef0a778aa6d6255de0d218cec80b5a', 'message': 'Updated status logic to always notify on change\n\nWith the current logic there are scenarios where\nactions can be overwritten by other actions. This\nchange helps protect against that, and it also\nensures that a NOTIFY is always sent on change.\n\nChange-Id: I5d566588be66e9ed0df9484e36504a69b4f4b5a9\n'}, {'number': 2, 'created': '2022-01-08 02:11:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/274a410f60c71559dd48789920f11e9ee3f5195e', 'message': 'Updated status logic to always notify on change\n\nWith the current logic there are scenarios where\nactions can be overwritten by other actions. This\nchange helps protect against that, and it also\nensures that a NOTIFY is always sent on change.\n\nChange-Id: I5d566588be66e9ed0df9484e36504a69b4f4b5a9\n'}, {'number': 3, 'created': '2022-01-09 01:29:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/08d3b5271cdf0c77f1ac05b8c18d020dddef9dad', 'message': 'Updated status logic to always NOTIFY on change\n\nWith the current logic there are scenarios where\nactions can be overwritten by other actions. This\nchange helps protect against that, and it also\nensures that a NOTIFY is always sent on change.\n\nChange-Id: I5d566588be66e9ed0df9484e36504a69b4f4b5a9\n'}, {'number': 4, 'created': '2022-01-09 01:59:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/ec3082ccdce23fe0bd92700e7a3deeb80de5d67c', 'message': 'Updated status logic to always NOTIFY on change\n\nWith the current logic there are scenarios where\nactions can be overwritten by other actions. This\nchange helps protect against that, and it also\nensures that a NOTIFY is always sent on change.\n\nChange-Id: I5d566588be66e9ed0df9484e36504a69b4f4b5a9\n'}, {'number': 5, 'created': '2022-01-09 02:00:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/69a4d59d22f248fff65266ceef73c43269ac1c72', 'message': 'Updated status logic to always NOTIFY on change\n\nWith the current logic there are scenarios where\nactions can be overwritten by other actions. This\nchange helps protect against that, and it also\nensures that a NOTIFY is always sent on change.\n\nChange-Id: I5d566588be66e9ed0df9484e36504a69b4f4b5a9\n'}, {'number': 6, 'created': '2022-01-09 02:21:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/69cd02e0d0c8440bad74864938f75f9847cfbc47', 'message': 'Updated status logic to always NOTIFY on change\n\nWith the current logic there are scenarios where\nactions can be overwritten by other actions. This\nchange helps protect against that, and it also\nensures that a NOTIFY is always sent on change.\n\nChange-Id: I5d566588be66e9ed0df9484e36504a69b4f4b5a9\n'}, {'number': 7, 'created': '2022-01-09 03:45:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/ee1ab56742f49a8fb104398da41fdb5c9a38c22e', 'message': 'Updated status logic to always NOTIFY on change\n\nWith the current logic there are scenarios where\nactions can be overwritten by other actions. This\nchange helps protect against that, and it also\nensures that a NOTIFY is always sent on change.\n\nChange-Id: I5d566588be66e9ed0df9484e36504a69b4f4b5a9\n'}, {'number': 8, 'created': '2022-01-09 06:10:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/1a758d7e02d48a013c9bc56353a11aa5ad4744d4', 'message': 'Updated status logic to always NOTIFY on change\n\nWith the current logic there are scenarios where\nactions can be overwritten by other actions. This\nchange helps protect against that, and it also\nensures that a NOTIFY is always sent on change.\n\nChange-Id: I5d566588be66e9ed0df9484e36504a69b4f4b5a9\n'}, {'number': 9, 'created': '2022-01-09 10:27:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/ff817d712190b5d442f762ae87f4388dd0cb4b3f', 'message': 'Updated status logic to always NOTIFY on change\n\nWith the current logic there are scenarios where\nactions can be overwritten by other actions. This\nchange helps protect against that, and it also\nensures that a NOTIFY is always sent on change.\n\nChange-Id: I5d566588be66e9ed0df9484e36504a69b4f4b5a9\n'}, {'number': 10, 'created': '2022-01-10 08:50:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/55e256a23597aa40fbc1fcf12f2f93515f114b4c', 'message': 'Updated status logic to always NOTIFY on change\n\nIn this patch we revise the workflow after the zone api has\nfinished updating the upstream dns servers after a change. The goal\nis to fix issues with actions that would overwrite other actions,\npotentially causing zone change notifactions to not be sent in a\ntimely manner.\n\nAdditional changes.\n- Changed update_status method args\n- Improved unit test coverage of multiple code paths.\n\nChange-Id: I5d566588be66e9ed0df9484e36504a69b4f4b5a9\n'}, {'number': 11, 'created': '2022-01-10 21:00:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/47ca776ac4e81d90851e7470b9cc7a9b666116c9', 'message': 'Updated status logic to always NOTIFY on change\n\nIn this patch we revise the workflow after the zone api has\nfinished updating the upstream dns servers after a change. The goal\nis to fix issues with actions that would overwrite other actions,\npotentially causing zone change notifactions to not be sent in a\ntimely manner.\n\nAdditional changes.\n- Changed update_status method args\n- Improved unit test coverage of multiple code paths.\n\nChange-Id: I5d566588be66e9ed0df9484e36504a69b4f4b5a9\n'}, {'number': 12, 'created': '2022-01-25 18:05:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/0f09f729cebcf49ca204dc7568e07d191b99d70f', 'message': 'Updated status logic to always NOTIFY on change\n\nIn this patch we revise the workflow after the zone api has\nfinished updating the upstream dns servers after a change. The goal\nis to fix issues with actions that would overwrite other actions,\npotentially causing zone change notifactions to not be sent in a\ntimely manner.\n\nAdditional changes.\n- Changed update_status method args\n- Improved unit test coverage of multiple code paths.\n\nChange-Id: I5d566588be66e9ed0df9484e36504a69b4f4b5a9\n'}, {'number': 13, 'created': '2022-01-25 20:59:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/dda5acbb86789d2a2e3c5ffdceb3cd8bf674baf8', 'message': 'Updated status logic to always NOTIFY on change\n\nIn this patch we revise the workflow after the zone api has\nfinished updating the upstream dns servers after a change. The goal\nis to fix issues with actions that would overwrite other actions,\npotentially causing zone change notifactions to not be sent in a\ntimely manner.\n\nAdditional changes.\n- Changed update_status method args\n- Improved unit test coverage of multiple code paths.\n\nChange-Id: I5d566588be66e9ed0df9484e36504a69b4f4b5a9\n'}, {'number': 14, 'created': '2022-01-25 21:01:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/4fd2bb7da75e5aa91a06ffe95b22d93b05dbb94c', 'message': 'Updated status logic to always NOTIFY on change\n\nIn this patch we revise the workflow after the zone api has\nfinished updating the upstream dns servers after a change. The goal\nis to fix issues with actions that would overwrite other actions,\npotentially causing zone change notifactions to not be sent in a\ntimely manner.\n\nAdditional changes.\n- Changed update_status method args\n- Improved unit test coverage of multiple code paths.\n\nChange-Id: I5d566588be66e9ed0df9484e36504a69b4f4b5a9\n'}, {'number': 15, 'created': '2022-01-25 21:03:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/ffd47afadae6e10f4eca251af204df235c5e08e0', 'message': 'Updated status logic to always NOTIFY on change\n\nIn this patch we revise the workflow after the zone api has\nfinished updating the upstream dns servers after a change. The goal\nis to fix issues with actions that would overwrite other actions,\npotentially causing zone change notifactions to not be sent in a\ntimely manner.\n\nAdditional changes.\n- Changed update_status method args\n- Improved unit test coverage of multiple code paths.\n\nChange-Id: I5d566588be66e9ed0df9484e36504a69b4f4b5a9\n'}, {'number': 16, 'created': '2022-01-26 05:08:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/55f3e2d11c7706a4d7212f9f7c128915e6ea5271', 'message': 'Updated status logic to always NOTIFY on change\n\nIn this patch we revise the workflow after the zone api has\nfinished updating the upstream dns servers after a change. The goal\nis to fix issues with actions that would overwrite other actions,\npotentially causing zone change notifactions to not be sent in a\ntimely manner.\n\nAdditional changes.\n- Changed update_status method args\n- Improved unit test coverage of multiple code paths.\n\nChange-Id: I5d566588be66e9ed0df9484e36504a69b4f4b5a9\n'}, {'number': 17, 'created': '2022-01-26 05:23:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/4d29c539756d071b2398680ce1a061e48940ec1b', 'message': 'Updated status logic to always NOTIFY on change\n\nIn this patch we revise the workflow after the zone api has\nfinished updating the upstream dns servers after a change. The goal\nis to fix issues with actions that would overwrite other actions,\npotentially causing zone change notifactions to not be sent in a\ntimely manner.\n\nAdditional changes.\n- Changed update_status method args\n- Improved unit test coverage of multiple code paths.\n\nChange-Id: I5d566588be66e9ed0df9484e36504a69b4f4b5a9\n'}, {'number': 18, 'created': '2022-01-26 05:59:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/6187551f51fd20928ae86de1d548e1701e5d24d4', 'message': 'Updated status logic to always NOTIFY on change\n\nIn this patch we revise the workflow after the zone api has\nfinished updating the upstream dns servers after a change. The goal\nis to fix issues with actions that would overwrite other actions,\npotentially causing zone change notifactions to not be sent in a\ntimely manner.\n\nAdditional changes.\n- Changed update_status method args\n- Improved unit test coverage of multiple code paths.\n\nChange-Id: I5d566588be66e9ed0df9484e36504a69b4f4b5a9\n'}, {'number': 19, 'created': '2022-01-31 06:13:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/d22fddfdf0c61a9ff892a82e08982a8c3a2edce5', 'message': 'Updated status logic to always NOTIFY on change\n\nIn this patch we revise the workflow after the zone api has\nfinished updating the upstream dns servers after a change. The goal\nis to fix issues with actions that would overwrite other actions,\npotentially causing zone change notifications to not be sent in a\ntimely manner.\n\nAdditional changes.\n- Changed update_status method args\n- Improved unit test coverage of multiple code paths.\n\nChange-Id: I5d566588be66e9ed0df9484e36504a69b4f4b5a9\n'}, {'number': 20, 'created': '2022-02-02 20:18:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/f4c5f7717fd398d21796fbfa4a7d720b8bf8df1a', 'message': 'Updated status logic to always NOTIFY on change\n\nIn this patch we revise the workflow after the zone api has\nfinished updating the upstream dns servers after a change. The goal\nis to fix issues with actions that would overwrite other actions,\npotentially causing zone change notifications to not be sent in a\ntimely manner.\n\nAdditional changes.\n- Changed update_status method args\n- Improved unit test coverage of multiple code paths.\n\nChange-Id: I5d566588be66e9ed0df9484e36504a69b4f4b5a9\n'}, {'number': 21, 'created': '2022-02-06 08:01:20.000000000', 'files': ['designate/worker/tasks/zone.py', 'designate/tests/unit/test_central/test_basic.py', 'designate/central/rpcapi.py', 'designate/producer/tasks.py', 'designate/central/service.py', 'designate/tests/unit/workers/test_zone_tasks.py', 'designate/tests/test_api/test_v2/test_recordsets.py', 'releasenotes/notes/rpc-version-update-f87b852b361d0aad.yaml', 'designate/tests/test_central/test_service.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/3c495ed76dae17a0d74d4afe5b666f6068cafa47', 'message': 'Updated status logic to always NOTIFY on change\n\nIn this patch we revise the workflow after the zone api has\nfinished updating the upstream dns servers after a change. The goal\nis to fix issues with actions that would overwrite other actions,\npotentially causing zone change notifications to not be sent in a\ntimely manner.\n\nAdditional changes.\n- Changed update_status method args\n- Improved unit test coverage of multiple code paths.\n\nChange-Id: I5d566588be66e9ed0df9484e36504a69b4f4b5a9\n'}]",12,823624,3c495ed76dae17a0d74d4afe5b666f6068cafa47,52,3,21,22623,,,0,"Updated status logic to always NOTIFY on change

In this patch we revise the workflow after the zone api has
finished updating the upstream dns servers after a change. The goal
is to fix issues with actions that would overwrite other actions,
potentially causing zone change notifications to not be sent in a
timely manner.

Additional changes.
- Changed update_status method args
- Improved unit test coverage of multiple code paths.

Change-Id: I5d566588be66e9ed0df9484e36504a69b4f4b5a9
",git fetch https://review.opendev.org/openstack/designate refs/changes/24/823624/14 && git format-patch -1 --stdout FETCH_HEAD,"['designate/worker/tasks/zone.py', 'designate/tests/unit/test_central/test_basic.py', 'designate/central/rpcapi.py', 'designate/producer/tasks.py', 'designate/central/service.py', 'designate/tests/unit/workers/test_zone_tasks.py']",6,3e9169d1a1ef0a778aa6d6255de0d218cec80b5a,," self.task.zone.action = 'UPDATE' self.assertEqual('UPDATE', self.task.zone.action) self.task.zone.action,"," def test_invalid_action(self): self.assertRaisesRegex( exceptions.BadAction, 'Unexpected action: BAD', self.actor._validate_action, 'BAD' ) self.assertEqual('NONE', self.task.zone.action)",79,54
openstack%2Fpuppet-openstack-integration~master~I993ce7a4870dc84745e391872b6165bfdbc56053,openstack/puppet-openstack-integration,master,I993ce7a4870dc84745e391872b6165bfdbc56053,Enable Telemetry service in scenario002,MERGED,2022-01-22 14:16:39.000000000,2022-02-06 08:52:31.000000000,2022-02-06 08:52:31.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-22 14:16:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/f1d8d4b03c485085408176fa97ebad5126c4956b', 'message': 'Enable Telemetry service in scenario002\n\n... to test usage of Swift backend in Gnocchi.\n\nChange-Id: I993ce7a4870dc84745e391872b6165bfdbc56053\n'}, {'number': 2, 'created': '2022-01-23 03:57:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/64a77c1a4276a3b4aa969ed6c0b5ccaaeae7d45e', 'message': 'Enable Telemetry service in scenario002\n\n... to test usage of Swift backend in Gnocchi.\n\nChange-Id: I993ce7a4870dc84745e391872b6165bfdbc56053\n'}, {'number': 3, 'created': '2022-01-23 07:52:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/8e7141b7d6244ce8223ac3a495a39c90099a0079', 'message': 'Enable Telemetry service in scenario002\n\n... to test usage of Swift backend in Gnocchi.\n\nChange-Id: I993ce7a4870dc84745e391872b6165bfdbc56053\n'}, {'number': 4, 'created': '2022-01-23 09:45:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/7ce6f9ee488b78e97001e7573cd6b1f2670a4fe1', 'message': 'Enable Telemetry service in scenario002\n\n... to test usage of Swift backend in Gnocchi.\n\nChange-Id: I993ce7a4870dc84745e391872b6165bfdbc56053\n'}, {'number': 5, 'created': '2022-01-23 13:54:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/ff7b62f557307b88faca65653f2a259ef4efb1ac', 'message': 'Enable Telemetry service in scenario002\n\n... to test usage of Swift backend in Gnocchi.\n\nChange-Id: I993ce7a4870dc84745e391872b6165bfdbc56053\n'}, {'number': 6, 'created': '2022-01-23 15:04:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/d6f282b53d608fa173525cc7ad75a638b77788e7', 'message': 'Enable Telemetry service in scenario002\n\n... to test usage of Swift backend in Gnocchi.\n\nDepends-on: https://review.opendev.org/819084\nChange-Id: I993ce7a4870dc84745e391872b6165bfdbc56053\n'}, {'number': 7, 'created': '2022-01-28 22:02:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/5e47b6b97ab881930c5d4fa63f194518d134683b', 'message': 'Enable Telemetry service in scenario002\n\n... to test usage of Swift backend in Gnocchi.\n\nChange-Id: I993ce7a4870dc84745e391872b6165bfdbc56053\n'}, {'number': 8, 'created': '2022-01-28 22:14:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/2b35494ac5a3ea22109d6075682d1e1c3a98686f', 'message': 'Enable Telemetry service in scenario002\n\n... to test usage of Swift backend in Gnocchi.\n\nChange-Id: I993ce7a4870dc84745e391872b6165bfdbc56053\n'}, {'number': 9, 'created': '2022-01-29 06:49:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/89fe7e7683203cc8ec7e62a755b1233448185bc1', 'message': 'Enable Telemetry service in scenario002\n\n... to test usage of Swift backend in Gnocchi.\n\nChange-Id: I993ce7a4870dc84745e391872b6165bfdbc56053\n'}, {'number': 10, 'created': '2022-01-29 06:49:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/dd08bee81009d2296fc8551e2187e7f841090f1f', 'message': 'Enable Telemetry service in scenario002\n\n... to test usage of Swift backend in Gnocchi.\n\nChange-Id: I993ce7a4870dc84745e391872b6165bfdbc56053\n'}, {'number': 11, 'created': '2022-01-29 06:50:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/0fbb4b183e0287e9604fce3a2f02a8409f1980bc', 'message': 'Enable Telemetry service in scenario002\n\n... to test usage of Swift backend in Gnocchi.\n\nChange-Id: I993ce7a4870dc84745e391872b6165bfdbc56053\n'}, {'number': 12, 'created': '2022-01-29 06:51:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/7a998fcf19a02eb620946982d29f6ee3e932bff5', 'message': 'Enable Telemetry service in scenario002\n\n... to test usage of Swift backend in Gnocchi.\n\nChange-Id: I993ce7a4870dc84745e391872b6165bfdbc56053\n'}, {'number': 13, 'created': '2022-02-03 14:28:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/f92122af0c24fad76cc65ebb9bc28cbd5553d5e5', 'message': 'Enable Telemetry service in scenario002\n\n... to test usage of Swift backend in Gnocchi.\n\nChange-Id: I993ce7a4870dc84745e391872b6165bfdbc56053\n'}, {'number': 14, 'created': '2022-02-03 16:14:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/a7317e3bf9b757d1120152e5e1bfcf9fe11c29a8', 'message': 'Enable Telemetry service in scenario002\n\n... to test usage of Swift backend in Gnocchi.\n\nChange-Id: I993ce7a4870dc84745e391872b6165bfdbc56053\n'}, {'number': 15, 'created': '2022-02-03 23:12:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/b6c62a77f740b5546a85ef5236407f862cac3589', 'message': 'Enable Telemetry service in scenario002\n\n... to test usage of Swift backend in Gnocchi.\n\nChange-Id: I993ce7a4870dc84745e391872b6165bfdbc56053\n'}, {'number': 16, 'created': '2022-02-04 00:29:15.000000000', 'files': ['manifests/gnocchi.pp', 'fixtures/scenario002.pp', 'README.md'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/558ab6a54a71f37e5c4d32f8bb84c502011d052c', 'message': 'Enable Telemetry service in scenario002\n\n... to test usage of Swift backend in Gnocchi.\n\nChange-Id: I993ce7a4870dc84745e391872b6165bfdbc56053\n'}]",7,825929,558ab6a54a71f37e5c4d32f8bb84c502011d052c,49,3,16,9816,,,0,"Enable Telemetry service in scenario002

... to test usage of Swift backend in Gnocchi.

Change-Id: I993ce7a4870dc84745e391872b6165bfdbc56053
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/29/825929/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/gnocchi.pp', 'fixtures/scenario002.pp', 'README.md']",3,f1d8d4b03c485085408176fa97ebad5126c4956b,gnocchi-swift,| ceilometer | | X | X | | | | | aodh | | X | X | | | || gnocchi | | rbd | swift | | | || redis | | X | X | | | |,| ceilometer | | X | | | | | | aodh | | X | | | | || gnocchi | | rbd | | | | || redis | | X | | | | |,55,13
openstack%2Fmanila-tempest-plugin~master~I14481f5a63990fb6f44dd5dcb40d24b74862a98f,openstack/manila-tempest-plugin,master,I14481f5a63990fb6f44dd5dcb40d24b74862a98f,Force create snapshot for invalid share,NEW,2022-01-07 07:36:51.000000000,2022-02-06 08:00:31.000000000,,"[{'_account_id': 16643}, {'_account_id': 19262}, {'_account_id': 22348}, {'_account_id': 30025}]","[{'number': 1, 'created': '2022-01-07 07:36:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/40a3c5e140f139cc9821300a02dd972863459cec', 'message': 'Force create snapshot for invalid share\n\nChange-Id: I14481f5a63990fb6f44dd5dcb40d24b74862a98f\n'}, {'number': 2, 'created': '2022-01-07 10:27:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/6a9460f2a55d3963842afc6d0729c6a1a5e9ebf5', 'message': 'Force create snapshot for invalid share\n\nSet force=true to force snapshot creation when the share is busy performing other operations.\n\nChange-Id: I14481f5a63990fb6f44dd5dcb40d24b74862a98f\n'}, {'number': 3, 'created': '2022-01-08 03:05:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/2c13c5406a226ac7fda91e7d7ce22811c44407aa', 'message': 'Force create snapshot for invalid share\n\nSet force=true to force snapshot creation when the share is busy performing other operations.\n\nChange-Id: I14481f5a63990fb6f44dd5dcb40d24b74862a98f\n'}, {'number': 4, 'created': '2022-01-08 06:22:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/35c6c4c5138fd725f84b9cfdf92fd9d1f8dedecb', 'message': 'Force create snapshot for invalid share\n\nSet force=true to force snapshot creation when the share is busy performing other operations.\n\nChange-Id: I14481f5a63990fb6f44dd5dcb40d24b74862a98f\n'}, {'number': 5, 'created': '2022-01-10 02:07:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/d20bbd0c85c5c6c9ad51dbab4ee555b45dda18de', 'message': 'Force create snapshot for invalid share\n\nSource share status must be available when create snapshot\n\nChange-Id: I14481f5a63990fb6f44dd5dcb40d24b74862a98f\n'}, {'number': 6, 'created': '2022-01-11 08:43:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/528336bf19a000f9cd12a80b57d2ad25923d8f4d', 'message': 'Force create snapshot for invalid share\n\nSource share status must be available when create snapshot\n\nChange-Id: I14481f5a63990fb6f44dd5dcb40d24b74862a98f\n'}, {'number': 7, 'created': '2022-01-12 00:53:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/a39a91cf0589bdacd7e21cc8c83a515c8cea0a8d', 'message': 'Force create snapshot for invalid share\n\nSource share status must be available when create snapshot\n\nChange-Id: I14481f5a63990fb6f44dd5dcb40d24b74862a98f\n'}, {'number': 8, 'created': '2022-01-13 00:31:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/40452b8c1b7f7b6563e4f9cbe46672e261348483', 'message': 'Force create snapshot for invalid share\n\nSource share status must be available when create snapshot\n\nChange-Id: I14481f5a63990fb6f44dd5dcb40d24b74862a98f\n'}, {'number': 9, 'created': '2022-01-13 02:49:52.000000000', 'files': ['manila_tempest_tests/tests/api/test_shares_negative.py'], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/69fcf8fea13a2b5609348fe5e530f7b01d28dd0b', 'message': 'Force create snapshot for invalid share\n\nSource share status must be available when create snapshot\n\nChange-Id: I14481f5a63990fb6f44dd5dcb40d24b74862a98f\n'}]",12,823774,69fcf8fea13a2b5609348fe5e530f7b01d28dd0b,39,4,9,31280,,,0,"Force create snapshot for invalid share

Source share status must be available when create snapshot

Change-Id: I14481f5a63990fb6f44dd5dcb40d24b74862a98f
",git fetch https://review.opendev.org/openstack/manila-tempest-plugin refs/changes/74/823774/9 && git format-patch -1 --stdout FETCH_HEAD,"['manila_tempest_tests/tests/api/test_shares.py', 'manila_tempest_tests/tests/api/test_shares_negative.py']",2,40a3c5e140f139cc9821300a02dd972863459cec,,"from manila_tempest_tests.common import constants cls.admin_client = cls.admin_shares_v2_client @decorators.idempotent_id('f914ff85-7bdf-eea5-a191-1ea03c1ec69e') @tc.attr(base.TAG_NEGATIVE, base.TAG_API) @testtools.skipUnless(CONF.share.run_snapshot_tests, ""Snapshot tests are disabled."") def test_create_snapshot_for_invalid_share(self): # create share share = self.create_share(share_type_id=self.share_type_id) self.admin_client.reset_state(self.share[""id""], status=constants.STATUS_ERROR, s_type=""shares"") self.addCleanup(self.admin_client.reset_state, self.share['id'], status=constants.STATUS_AVAILABLE, s_type='shares') # Should not be able to create snapshot when share status is error # and force=False self.assertRaises(lib_exc.Forbidden, self.shares_client.create_snapshot, share[""id""]) ",,54,0
openstack%2Foslo-cookiecutter~master~I22b98e7235c221e44c2b13a25f30f3bd18e53ba5,openstack/oslo-cookiecutter,master,I22b98e7235c221e44c2b13a25f30f3bd18e53ba5,Drop lower constraints testing,ABANDONED,2022-02-06 05:49:09.000000000,2022-02-06 05:50:40.000000000,,[],"[{'number': 1, 'created': '2022-02-06 05:49:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo-cookiecutter/commit/38380dbc88789be6e3cd2571c6901bf322809100', 'message': 'Drop lower constraints testing\n\nThe lower constraints testing was removed from all repositories managed\nby the Oslo project. This change removes that test from cookiecutter\nas well.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html\n\nChange-Id: I22b98e7235c221e44c2b13a25f30f3bd18e53ba5\n'}, {'number': 2, 'created': '2022-02-06 05:50:29.000000000', 'files': ['oslo.{{cookiecutter.module_name}}/tox.ini', 'oslo.{{cookiecutter.module_name}}/lower-constraints.txt', 'tools/test_tox_targets.sh'], 'web_link': 'https://opendev.org/openstack/oslo-cookiecutter/commit/33f6ab315918764f18fda043bc945bad2a0871bd', 'message': 'Drop lower constraints testing\n\nThe lower constraints testing was removed from the repositories managed\nby the Oslo project. This change removes that test from cookiecutter\nas well.\n\nChange-Id: I22b98e7235c221e44c2b13a25f30f3bd18e53ba5\n'}]",0,828023,33f6ab315918764f18fda043bc945bad2a0871bd,3,0,2,9816,,,0,"Drop lower constraints testing

The lower constraints testing was removed from the repositories managed
by the Oslo project. This change removes that test from cookiecutter
as well.

Change-Id: I22b98e7235c221e44c2b13a25f30f3bd18e53ba5
",git fetch https://review.opendev.org/openstack/oslo-cookiecutter refs/changes/23/828023/2 && git format-patch -1 --stdout FETCH_HEAD,"['oslo.{{cookiecutter.module_name}}/tox.ini', 'oslo.{{cookiecutter.module_name}}/lower-constraints.txt', 'tools/test_tox_targets.sh']",3,38380dbc88789be6e3cd2571c6901bf322809100,,"tox -e pep8,py36,docs,cover,releasenotes","tox -e pep8,py36,docs,lower-constraints,cover,releasenotes",1,14
openstack%2Ftempest~master~I76e15b6b52bb44fec550ead510186c644c4a1c7f,openstack/tempest,master,I76e15b6b52bb44fec550ead510186c644c4a1c7f,Fix TypeError in QoSBandwidthAndPacketRateTests,MERGED,2022-02-01 09:53:39.000000000,2022-02-06 01:52:46.000000000,2022-02-02 09:44:54.000000000,"[{'_account_id': 4690}, {'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 8556}, {'_account_id': 8864}, {'_account_id': 9708}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 32586}]","[{'number': 1, 'created': '2022-02-01 09:53:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/f595fcac2c3f832f1a6d5f26a9f321d7c36c3f3f', 'message': 'Type cast random int to str in QoSBandwidthAndPacketRateTests\n\n[1] Added random int to flavor name but that resulted into\nTypeError: can only concatenate str (not ""int"") to str.\n\nType cast int to str to fix it.\n\n[1] https://review.opendev.org/c/openstack/tempest/+/826946\n\nRelated-Bug: #1959467\nChange-Id: I76e15b6b52bb44fec550ead510186c644c4a1c7f\n'}, {'number': 2, 'created': '2022-02-01 10:10:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/bd71494bae1034145f7263832314846ca986d852', 'message': 'Fix TypeError in QoSBandwidthAndPacketRateTests\n\n[1] Added random int to flavor name but that resulted into\nTypeError: can only concatenate str (not ""int"") to str.\n\nConcatenate using % operator to fix it.\n\n[1] https://review.opendev.org/c/openstack/tempest/+/826946\n\nRelated-Bug: #1959467\nChange-Id: I76e15b6b52bb44fec550ead510186c644c4a1c7f\n'}, {'number': 3, 'created': '2022-02-02 05:08:30.000000000', 'files': ['tempest/scenario/test_network_qos_placement.py', 'zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/tempest/commit/115065a239a8e1ab50b6070a3c6ebfeabd0ad6fc', 'message': 'Fix TypeError in QoSBandwidthAndPacketRateTests\n\n[1] Added random int to flavor name but that resulted into\nTypeError: can only concatenate str (not ""int"") to str.\n\nConcatenate using % operator to fix it.\n\nAlso make tempest-full-ussuri-py3 job non-voting temporary\nto unblock gate, can be reverted once [2] is fixed.\n\n[1] https://review.opendev.org/c/openstack/tempest/+/826946\n[2] https://launchpad.net/bugs/1959600\n\nRelated-Bug: #1959467\nChange-Id: I76e15b6b52bb44fec550ead510186c644c4a1c7f\n'}]",14,827258,115065a239a8e1ab50b6070a3c6ebfeabd0ad6fc,29,11,3,13861,,,0,"Fix TypeError in QoSBandwidthAndPacketRateTests

[1] Added random int to flavor name but that resulted into
TypeError: can only concatenate str (not ""int"") to str.

Concatenate using % operator to fix it.

Also make tempest-full-ussuri-py3 job non-voting temporary
to unblock gate, can be reverted once [2] is fixed.

[1] https://review.opendev.org/c/openstack/tempest/+/826946
[2] https://launchpad.net/bugs/1959600

Related-Bug: #1959467
Change-Id: I76e15b6b52bb44fec550ead510186c644c4a1c7f
",git fetch https://review.opendev.org/openstack/tempest refs/changes/58/827258/3 && git format-patch -1 --stdout FETCH_HEAD,['tempest/scenario/test_network_qos_placement.py'],1,f595fcac2c3f832f1a6d5f26a9f321d7c36c3f3f,bug/1959467," random_int = str(data_utils.rand_int_id()) 'name': old_flavor['name'] + 'extra-' + random_int,"," 'name': old_flavor['name'] + 'extra-' + data_utils.rand_int_id(),",2,1
openstack%2Fcinder~stable%2Fwallaby~Iaf149dadad5791e81a3c0efd089d0ee66a1a5614,openstack/cinder,stable/wallaby,Iaf149dadad5791e81a3c0efd089d0ee66a1a5614,Fix: Race between attachment and volume deletion,MERGED,2021-11-23 11:52:30.000000000,2022-02-06 00:55:41.000000000,2022-02-06 00:54:09.000000000,"[{'_account_id': 5314}, {'_account_id': 10459}, {'_account_id': 22348}, {'_account_id': 27615}]","[{'number': 1, 'created': '2021-11-23 11:52:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a8ea955cadb3ea46a0f29d61e123806f631203c8', 'message': 'Fix: Race between attachment and volume deletion\n\nThere are cases where requests to delete an attachment made by Nova can\nrace other third-party requests to delete the overall volume.\n\nThis has been observed when running cinder-csi, where it first requests\nthat Nova detaches a volume before itself requesting that the overall\nvolume is deleted once it becomes `available`.\n\nThis is a cinder race condition, and like most race conditions is not\nsimple to explain.\n\nSome context on the issue:\n\n- Cinder API uses the volume ""status"" field as a locking mechanism to\n  prevent concurrent request processing on the same volume.\n\n- Most cinder operations are asynchronous, so the API returns before the\n  operation has been completed by the cinder-volume service, but the\n  attachment operations such as creating/updating/deleting an attachment\n  are synchronous, so the API only returns to the caller after the\n  cinder-volume service has completed the operation.\n\n- Our current code **incorrectly** modifies the status of the volume\n  both on the cinder-volume and the cinder-api services on the\n  attachment delete operation.\n\nThe actual set of events that leads to the issue reported in this bug\nare:\n\n[Cinder-CSI]\n- Requests Nova to detach volume (Request R1)\n\n[Nova]\n- R1: Asks cinder-api to delete the attachment and **waits**\n\n[Cinder-API]\n- R1: Checks the status of the volume\n- R1: Sends terminate connection request (R1) to cinder-volume and\n  **waits**\n\n[Cinder-Volume]\n- R1: Ask the driver to terminate the connection\n- R1: The driver asks the backend to unmap and unexport the volume\n- R1: The last attachment is removed from the DB and the status of the\n      volume is changed in the DB to ""available""\n\n[Cinder-CSI]\n- Checks that there are no attachments in the volume and asks Cinder to\n  delete it (Request R2)\n\n[Cinder-API]\n\n- R2: Check that the volume\'s status is valid. It doesn\'t have\n  attachments and is available, so it can be deleted.\n- R2: Tell cinder-volume to delete the volume and return immediately.\n\n[Cinder-Volume]\n- R2: Volume is deleted and DB entry is deleted\n- R1: Finish the termination of the connection\n\n[Cinder-API]\n- R1: Now that cinder-volume has finished the termination the code\n  continues\n- R1: Try to modify the volume in the DB\n- R1: DB layer raises VolumeNotFound since the volume has been deleted\n  from the DB\n- R1: VolumeNotFound is converted to HTTP 404 status code which is\n  returned to Nova\n\n[Nova]\n- R1: Cinder responds with 404 on the attachment delete request\n- R1: Nova leaves the volume as attached, since the attachment delete\n  failed\n\nAt this point the Cinder and Nova DBs are out of sync, because Nova\nthinks that the attachment is connected and Cinder has detached the\nvolume and even deleted it.\n\nHardening is also being done on the Nova side [2] to accept that the\nvolume attachment may be gone.\n\nThis patch fixes the issue mentioned above, but there is a request on\nCinder-CSI [1] to use Nova as the source of truth regarding its\nattachments that, when implemented, would also fix the issue.\n\n[1]: https://github.com/kubernetes/cloud-provider-openstack/issues/1645\n[2]: https://review.opendev.org/q/topic:%2522bug/1937084%2522+project:openstack/nova\n\nCloses-Bug: #1937084\nChange-Id: Iaf149dadad5791e81a3c0efd089d0ee66a1a5614\n(cherry picked from commit 2ec2222841f6116707fe25bdcdae6ad6c2b9beb7)\nConflicts:\n\tcinder/tests/unit/attachments/test_attachments_manager.py\n\tcinder/volume/manager.py\n'}, {'number': 2, 'created': '2022-01-17 16:18:48.000000000', 'files': ['cinder/tests/unit/test_db_api.py', 'cinder/volume/manager.py', 'cinder/tests/unit/api/v3/test_attachments.py', 'releasenotes/notes/detach-race-delete-012820ad9c8dbe16.yaml', 'cinder/db/sqlalchemy/api.py', 'cinder/tests/unit/attachments/test_attachments_manager.py', 'cinder/db/sqlalchemy/models.py', 'cinder/volume/api.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/7210c914c4ee08a06e6ec00e9a861b977d794ec8', 'message': 'Fix: Race between attachment and volume deletion\n\nThere are cases where requests to delete an attachment made by Nova can\nrace other third-party requests to delete the overall volume.\n\nThis has been observed when running cinder-csi, where it first requests\nthat Nova detaches a volume before itself requesting that the overall\nvolume is deleted once it becomes `available`.\n\nThis is a cinder race condition, and like most race conditions is not\nsimple to explain.\n\nSome context on the issue:\n\n- Cinder API uses the volume ""status"" field as a locking mechanism to\n  prevent concurrent request processing on the same volume.\n\n- Most cinder operations are asynchronous, so the API returns before the\n  operation has been completed by the cinder-volume service, but the\n  attachment operations such as creating/updating/deleting an attachment\n  are synchronous, so the API only returns to the caller after the\n  cinder-volume service has completed the operation.\n\n- Our current code **incorrectly** modifies the status of the volume\n  both on the cinder-volume and the cinder-api services on the\n  attachment delete operation.\n\nThe actual set of events that leads to the issue reported in this bug\nare:\n\n[Cinder-CSI]\n- Requests Nova to detach volume (Request R1)\n\n[Nova]\n- R1: Asks cinder-api to delete the attachment and **waits**\n\n[Cinder-API]\n- R1: Checks the status of the volume\n- R1: Sends terminate connection request (R1) to cinder-volume and\n  **waits**\n\n[Cinder-Volume]\n- R1: Ask the driver to terminate the connection\n- R1: The driver asks the backend to unmap and unexport the volume\n- R1: The last attachment is removed from the DB and the status of the\n      volume is changed in the DB to ""available""\n\n[Cinder-CSI]\n- Checks that there are no attachments in the volume and asks Cinder to\n  delete it (Request R2)\n\n[Cinder-API]\n\n- R2: Check that the volume\'s status is valid. It doesn\'t have\n  attachments and is available, so it can be deleted.\n- R2: Tell cinder-volume to delete the volume and return immediately.\n\n[Cinder-Volume]\n- R2: Volume is deleted and DB entry is deleted\n- R1: Finish the termination of the connection\n\n[Cinder-API]\n- R1: Now that cinder-volume has finished the termination the code\n  continues\n- R1: Try to modify the volume in the DB\n- R1: DB layer raises VolumeNotFound since the volume has been deleted\n  from the DB\n- R1: VolumeNotFound is converted to HTTP 404 status code which is\n  returned to Nova\n\n[Nova]\n- R1: Cinder responds with 404 on the attachment delete request\n- R1: Nova leaves the volume as attached, since the attachment delete\n  failed\n\nAt this point the Cinder and Nova DBs are out of sync, because Nova\nthinks that the attachment is connected and Cinder has detached the\nvolume and even deleted it.\n\nHardening is also being done on the Nova side [2] to accept that the\nvolume attachment may be gone.\n\nThis patch fixes the issue mentioned above, but there is a request on\nCinder-CSI [1] to use Nova as the source of truth regarding its\nattachments that, when implemented, would also fix the issue.\n\n[1]: https://github.com/kubernetes/cloud-provider-openstack/issues/1645\n[2]: https://review.opendev.org/q/topic:%2522bug/1937084%2522+project:openstack/nova\n\nCloses-Bug: #1937084\nChange-Id: Iaf149dadad5791e81a3c0efd089d0ee66a1a5614\n(cherry picked from commit 2ec2222841f6116707fe25bdcdae6ad6c2b9beb7)\nConflicts:\n\tcinder/tests/unit/attachments/test_attachments_manager.py\n\tcinder/volume/manager.py\n(cherry picked from commit ed0be0c8fa1d26c3f366dd3d58ad4a8318695dcb)\n'}]",5,818886,7210c914c4ee08a06e6ec00e9a861b977d794ec8,48,4,2,9535,,,0,"Fix: Race between attachment and volume deletion

There are cases where requests to delete an attachment made by Nova can
race other third-party requests to delete the overall volume.

This has been observed when running cinder-csi, where it first requests
that Nova detaches a volume before itself requesting that the overall
volume is deleted once it becomes `available`.

This is a cinder race condition, and like most race conditions is not
simple to explain.

Some context on the issue:

- Cinder API uses the volume ""status"" field as a locking mechanism to
  prevent concurrent request processing on the same volume.

- Most cinder operations are asynchronous, so the API returns before the
  operation has been completed by the cinder-volume service, but the
  attachment operations such as creating/updating/deleting an attachment
  are synchronous, so the API only returns to the caller after the
  cinder-volume service has completed the operation.

- Our current code **incorrectly** modifies the status of the volume
  both on the cinder-volume and the cinder-api services on the
  attachment delete operation.

The actual set of events that leads to the issue reported in this bug
are:

[Cinder-CSI]
- Requests Nova to detach volume (Request R1)

[Nova]
- R1: Asks cinder-api to delete the attachment and **waits**

[Cinder-API]
- R1: Checks the status of the volume
- R1: Sends terminate connection request (R1) to cinder-volume and
  **waits**

[Cinder-Volume]
- R1: Ask the driver to terminate the connection
- R1: The driver asks the backend to unmap and unexport the volume
- R1: The last attachment is removed from the DB and the status of the
      volume is changed in the DB to ""available""

[Cinder-CSI]
- Checks that there are no attachments in the volume and asks Cinder to
  delete it (Request R2)

[Cinder-API]

- R2: Check that the volume's status is valid. It doesn't have
  attachments and is available, so it can be deleted.
- R2: Tell cinder-volume to delete the volume and return immediately.

[Cinder-Volume]
- R2: Volume is deleted and DB entry is deleted
- R1: Finish the termination of the connection

[Cinder-API]
- R1: Now that cinder-volume has finished the termination the code
  continues
- R1: Try to modify the volume in the DB
- R1: DB layer raises VolumeNotFound since the volume has been deleted
  from the DB
- R1: VolumeNotFound is converted to HTTP 404 status code which is
  returned to Nova

[Nova]
- R1: Cinder responds with 404 on the attachment delete request
- R1: Nova leaves the volume as attached, since the attachment delete
  failed

At this point the Cinder and Nova DBs are out of sync, because Nova
thinks that the attachment is connected and Cinder has detached the
volume and even deleted it.

Hardening is also being done on the Nova side [2] to accept that the
volume attachment may be gone.

This patch fixes the issue mentioned above, but there is a request on
Cinder-CSI [1] to use Nova as the source of truth regarding its
attachments that, when implemented, would also fix the issue.

[1]: https://github.com/kubernetes/cloud-provider-openstack/issues/1645
[2]: https://review.opendev.org/q/topic:%2522bug/1937084%2522+project:openstack/nova

Closes-Bug: #1937084
Change-Id: Iaf149dadad5791e81a3c0efd089d0ee66a1a5614
(cherry picked from commit 2ec2222841f6116707fe25bdcdae6ad6c2b9beb7)
Conflicts:
	cinder/tests/unit/attachments/test_attachments_manager.py
	cinder/volume/manager.py
(cherry picked from commit ed0be0c8fa1d26c3f366dd3d58ad4a8318695dcb)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/86/818886/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/test_db_api.py', 'cinder/volume/manager.py', 'cinder/tests/unit/api/v3/test_attachments.py', 'releasenotes/notes/detach-race-delete-012820ad9c8dbe16.yaml', 'cinder/db/sqlalchemy/api.py', 'cinder/tests/unit/attachments/test_attachments_manager.py', 'cinder/db/sqlalchemy/models.py', 'cinder/volume/api.py']",8,a8ea955cadb3ea46a0f29d61e123806f631203c8,detach-vol-status," volume_utils.notify_about_volume_usage(ctxt, volume, ""detach.start"") else: # Generate the detach.start notification on the volume service to # include the host doing the operation. self.volume_rpcapi.attachment_delete(ctxt, attachment.id, volume) # Trigger attachments lazy load (missing since volume was loaded in the # attachment without joined tables). With them loaded the finish_detach # call removes the detached one from the list, and the notification and # return have the right attachment list. volume.volume_attachment volume.finish_detach(attachment.id) # Do end notification on the API so it comes after finish_detach. # Doing it on the volume service leads to race condition from bug # #1937084, and doing the notification there with the finish here leads # to bug #1916980. volume_utils.notify_about_volume_usage(ctxt, volume, ""detach.end"") return volume.volume_attachment"," volume_utils.notify_about_volume_usage(ctxt, volume, ""detach.start"") volume.finish_detach(attachment.id) do_notify = True else: self.volume_rpcapi.attachment_delete(ctxt, attachment.id, volume) do_notify = False status_updates = {'status': 'available', 'attach_status': 'detached'} remaining_attachments = AO_LIST.get_all_by_volume_id(ctxt, volume.id) LOG.debug(""Remaining volume attachments: %s"", remaining_attachments, resource=volume) # NOTE(jdg) Try and figure out the > state we have left and set that # attached > attaching > > detaching > reserved pending_status_list = [] for attachment in remaining_attachments: pending_status_list.append(attachment.attach_status) LOG.debug(""Adding status of: %s to pending status list "" ""for volume."", attachment.attach_status, resource=volume) LOG.debug(""Pending status list for volume during "" ""attachment-delete: %s"", pending_status_list, resource=volume) if 'attached' in pending_status_list: status_updates['status'] = 'in-use' status_updates['attach_status'] = 'attached' elif 'attaching' in pending_status_list: status_updates['status'] = 'attaching' status_updates['attach_status'] = 'attaching' elif 'detaching' in pending_status_list: status_updates['status'] = 'detaching' status_updates['attach_status'] = 'detaching' elif 'reserved' in pending_status_list: status_updates['status'] = 'reserved' status_updates['attach_status'] = 'reserved' volume.status = status_updates['status'] volume.attach_status = status_updates['attach_status'] volume.save() if do_notify: volume_utils.notify_about_volume_usage(ctxt, volume, ""detach.end"") return remaining_attachments",127,113
openstack%2Fopenstack-ansible-os_keystone~stable%2Fvictoria~I1457d563abcbc9e62c331375ed677758b5f73927,openstack/openstack-ansible-os_keystone,stable/victoria,I1457d563abcbc9e62c331375ed677758b5f73927,Restore CI jobs,MERGED,2022-02-03 08:51:56.000000000,2022-02-05 21:18:22.000000000,2022-02-05 21:14:50.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-02-03 08:51:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/f7e34616577ec602e8cec06f2dfefeb33b78ab30', 'message': 'Restore CI jobs\n\nChange-Id: I1457d563abcbc9e62c331375ed677758b5f73927\n'}, {'number': 2, 'created': '2022-02-03 08:54:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/4b97ac3532535d26205017bbd8c973d39c633690', 'message': 'Restore CI jobs\n\nChange-Id: I1457d563abcbc9e62c331375ed677758b5f73927\n'}, {'number': 3, 'created': '2022-02-03 09:52:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/e7b572779cacb1313e481ac96107883f111f5460', 'message': 'Restore CI jobs\n\nChange-Id: I1457d563abcbc9e62c331375ed677758b5f73927\n'}, {'number': 4, 'created': '2022-02-03 09:52:46.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/526a3b6e89f1d4eee9065517180d677cd5410d55', 'message': 'Restore CI jobs\n\nChange-Id: I1457d563abcbc9e62c331375ed677758b5f73927\n'}]",3,827603,526a3b6e89f1d4eee9065517180d677cd5410d55,20,2,4,25023,,,0,"Restore CI jobs

Change-Id: I1457d563abcbc9e62c331375ed677758b5f73927
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_keystone refs/changes/03/827603/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,f7e34616577ec602e8cec06f2dfefeb33b78ab30,osa/remove-centos8, - openstack-ansible-deploy-aio_metal-jobs - openstack-ansible-deploy-aio_distro_metal-jobs - openstack-ansible-uw_apache-ubuntu-bionic - openstack-ansible-uw_apache-ubuntu-focal - openstack-ansible-uw_apache-ubuntu-bionic - openstack-ansible-uw_apache-ubuntu-focal, #- openstack-ansible-deploy-aio_metal-jobs #- openstack-ansible-deploy-aio_distro_metal-jobs #- openstack-ansible-uw_apache-ubuntu-bionic #- openstack-ansible-uw_apache-ubuntu-focal #- openstack-ansible-uw_apache-ubuntu-bionic #- openstack-ansible-uw_apache-ubuntu-focal,6,6
openstack%2Fcinder~master~Ib861e1bc35247f932fbae3796ed9025a560461c4,openstack/cinder,master,Ib861e1bc35247f932fbae3796ed9025a560461c4,Rework backup process to make it async,MERGED,2021-04-01 20:39:29.000000000,2022-02-05 19:02:30.000000000,2022-02-05 19:00:43.000000000,"[{'_account_id': 1736}, {'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 13425}, {'_account_id': 16721}, {'_account_id': 20813}, {'_account_id': 22348}, {'_account_id': 30615}, {'_account_id': 32171}]","[{'number': 1, 'created': '2021-04-01 20:39:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/34433a4318b106f41f55550a583b5acc375c3a78', 'message': 'WIP: Rework backup process to make it async\n\nThis patch updates the backup process to call the volume manager\nasynchronously to get the backup device in which to do the backup on.\nThis fixes a major issue with certain cinder drivers that take a long\ntime to create a temporary clone of the volume being backed up.\n\nCloses-Bug: #19116843\nChange-Id: Ib861e1bc35247f932fbae3796ed9025a560461c4\n'}, {'number': 2, 'created': '2021-04-02 17:23:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/759397a6089236ecca2b08292cbdafb875542dad', 'message': 'WIP: Rework backup process to make it async\n\nThis patch updates the backup process to call the volume manager\nasynchronously to get the backup device in which to do the backup on.\nThis fixes a major issue with certain cinder drivers that take a long\ntime to create a temporary clone of the volume being backed up.\n\nCloses-Bug: #19116843\nChange-Id: Ib861e1bc35247f932fbae3796ed9025a560461c4\n'}, {'number': 3, 'created': '2021-04-12 13:02:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f362cdac6fffca5db27b474502c4be1fd0402c6c', 'message': 'WIP: Rework backup process to make it async\n\nThis patch updates the backup process to call the volume manager\nasynchronously to get the backup device in which to do the backup on.\nThis fixes a major issue with certain cinder drivers that take a long\ntime to create a temporary clone of the volume being backed up.\n\nCloses-Bug: #19116843\nChange-Id: Ib861e1bc35247f932fbae3796ed9025a560461c4\n'}, {'number': 4, 'created': '2021-06-08 12:05:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/8ecfbfe30ac83c8f1aed8b738f583fe25a0b9d7c', 'message': 'Rework backup process to make it async\n\nThis patch updates the backup process to call the volume manager\nasynchronously to get the backup device in which to do the backup on.\nThis fixes a major issue with certain cinder drivers that take a long\ntime to create a temporary clone of the volume being backed up.\n\nCloses-Bug: #19116843\nChange-Id: Ib861e1bc35247f932fbae3796ed9025a560461c4\n'}, {'number': 5, 'created': '2021-06-21 14:12:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/213f26d9279c876e6211f220bdc3134a7ea2e386', 'message': 'Rework backup process to make it async\n\nThis patch updates the backup process to call the volume manager\nasynchronously to get the backup device in which to do the backup on.\nThis fixes a major issue with certain cinder drivers that take a long\ntime to create a temporary clone of the volume being backed up.\n\nCloses-Bug: #19116843\nChange-Id: Ib861e1bc35247f932fbae3796ed9025a560461c4\n'}, {'number': 6, 'created': '2021-07-16 20:41:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/7f377d003adf051d38602a496a1c82b57e6a082d', 'message': 'Rework backup process to make it async\n\nThis patch updates the backup process to call the volume manager\nasynchronously to get the backup device in which to do the backup on.\nThis fixes a major issue with certain cinder drivers that take a long\ntime to create a temporary clone of the volume being backed up.\n\nCloses-Bug: #19116843\nChange-Id: Ib861e1bc35247f932fbae3796ed9025a560461c4\n'}, {'number': 7, 'created': '2021-11-01 14:37:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/2c5a0c9e5f2983ca0ce408ab5662589f7eb14a74', 'message': 'Rework backup process to make it async\n\nThis patch updates the backup process to call the volume manager\nasynchronously to get the backup device in which to do the backup on.\nThis fixes a major issue with certain cinder drivers that take a long\ntime to create a temporary clone of the volume being backed up.\n\nCloses-Bug: #19116843\nChange-Id: Ib861e1bc35247f932fbae3796ed9025a560461c4\n'}, {'number': 8, 'created': '2021-11-02 14:25:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/64861434bfff4490e4cb2c9a87938ce004309402', 'message': 'Rework backup process to make it async\n\nThis patch updates the backup process to call the volume manager\nasynchronously to get the backup device in which to do the backup on.\nThis fixes a major issue with certain cinder drivers that take a long\ntime to create a temporary clone of the volume being backed up.\n\nCloses-Bug: #19116843\nChange-Id: Ib861e1bc35247f932fbae3796ed9025a560461c4\n'}, {'number': 9, 'created': '2021-12-06 15:32:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/6d2e579a16e22a49ee3c4bb2c655a373c387f7fc', 'message': 'Rework backup process to make it async\n\nThis patch updates the backup process to call the volume manager\nasynchronously to get the backup device in which to do the backup on.\nThis fixes a major issue with certain cinder drivers that take a long\ntime to create a temporary clone of the volume being backed up.\n\nCloses-Bug: #19116843\nChange-Id: Ib861e1bc35247f932fbae3796ed9025a560461c4\n'}, {'number': 10, 'created': '2021-12-14 12:18:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/8363b0d868ea8a1d6b3f5b789ccb61c0a21a2cf8', 'message': 'Rework backup process to make it async\n\nThis patch updates the backup process to call the volume manager\nasynchronously to get the backup device in which to do the backup on.\nThis fixes a major issue with certain cinder drivers that take a long\ntime to create a temporary clone of the volume being backed up.\n\nCloses-Bug: #1916843\nChange-Id: Ib861e1bc35247f932fbae3796ed9025a560461c4\n'}, {'number': 11, 'created': '2021-12-16 15:07:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/5376b5b55b29f22a00ac7e98aaf630324fed89dc', 'message': 'Rework backup process to make it async\n\nThis patch updates the backup process to call the volume manager\nasynchronously to get the backup device in which to do the backup on.\nThis fixes a major issue with certain cinder drivers that take a long\ntime to create a temporary clone of the volume being backed up.\n\nCloses-Bug: #1916843\nChange-Id: Ib861e1bc35247f932fbae3796ed9025a560461c4\n'}, {'number': 12, 'created': '2021-12-22 16:10:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/58f7eb0309c1820d889e8319fd67d16c0f666a3e', 'message': 'Rework backup process to make it async\n\nThis patch updates the backup process to call the volume manager\nasynchronously to get the backup device in which to do the backup on.\nThis fixes a major issue with certain cinder drivers that take a long\ntime to create a temporary clone of the volume being backed up.\n\nCloses-Bug: #1916843\nChange-Id: Ib861e1bc35247f932fbae3796ed9025a560461c4\n'}, {'number': 13, 'created': '2022-01-07 14:10:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b1c8aad30eda5270b5c1fbee27d3dc017922a09c', 'message': 'Rework backup process to make it async\n\nThis patch updates the backup process to call the volume manager\nasynchronously to get the backup device in which to do the backup on.\nThis fixes a major issue with certain cinder drivers that take a long\ntime to create a temporary clone of the volume being backed up.\n\nCloses-Bug: #1916843\nChange-Id: Ib861e1bc35247f932fbae3796ed9025a560461c4\n'}, {'number': 14, 'created': '2022-01-19 15:43:54.000000000', 'files': ['cinder/tests/unit/backup/test_backup_messages.py', 'cinder/volume/manager.py', 'cinder/backup/manager.py', 'cinder/backup/rpcapi.py', 'cinder/tests/unit/backup/test_backup.py', 'cinder/volume/rpcapi.py', 'cinder/tests/unit/volume/test_rpcapi.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/e38fb71aac05a9ddc29670d4395c408d565f5d37', 'message': 'Rework backup process to make it async\n\nThis patch updates the backup process to call the volume manager\nasynchronously to get the backup device in which to do the backup on.\nThis fixes a major issue with certain cinder drivers that take a long\ntime to create a temporary clone of the volume being backed up.\n\nCloses-Bug: #1916843\nChange-Id: Ib861e1bc35247f932fbae3796ed9025a560461c4\n'}]",8,784477,e38fb71aac05a9ddc29670d4395c408d565f5d37,323,10,14,5997,,,0,"Rework backup process to make it async

This patch updates the backup process to call the volume manager
asynchronously to get the backup device in which to do the backup on.
This fixes a major issue with certain cinder drivers that take a long
time to create a temporary clone of the volume being backed up.

Closes-Bug: #1916843
Change-Id: Ib861e1bc35247f932fbae3796ed9025a560461c4
",git fetch https://review.opendev.org/openstack/cinder refs/changes/77/784477/11 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/manager.py', 'cinder/backup/manager.py', 'cinder/backup/rpcapi.py', 'cinder/volume/rpcapi.py']",4,34433a4318b106f41f55550a583b5acc375c3a78,bug/1916843," 3.17 - Make get_backup_device a cast (async) RPC_API_VERSION = '3.17' cctxt = self._get_cctxt(volume.service_topic_queue, ('3.17', '3.2', '3.0')) if cctxt.can_send_version('3.17'): cctxt.cast(ctxt, 'get_backup_device', backup=backup, want_objects=True, async_call=True) backup_obj = None"," RPC_API_VERSION = '3.16' cctxt = self._get_cctxt(volume.service_topic_queue, ('3.2', '3.0'))",129,64
openstack%2Fpbr~master~I3f0e48c215e890f9b26bae6600d5fcacf67831c6,openstack/pbr,master,I3f0e48c215e890f9b26bae6600d5fcacf67831c6,Add release note about missing pbr.json fix,MERGED,2022-02-05 16:09:07.000000000,2022-02-05 18:48:11.000000000,2022-02-05 18:46:54.000000000,"[{'_account_id': 4146}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-05 16:09:07.000000000', 'files': ['releasenotes/notes/fix-pep517-metadata-regression-bc287e60e45b2732.yaml'], 'web_link': 'https://opendev.org/openstack/pbr/commit/407d9217511d73b34b40d330520480353790ec90', 'message': 'Add release note about missing pbr.json fix\n\nInclude a release note for I407ae88ab8de4b61f94034b3d79a2ca7f7d79d16\nwhich corrected a regression for missing pbr.json metadata files in\npackages.\n\nChange-Id: I3f0e48c215e890f9b26bae6600d5fcacf67831c6\n'}]",0,827977,407d9217511d73b34b40d330520480353790ec90,7,2,1,5263,,,0,"Add release note about missing pbr.json fix

Include a release note for I407ae88ab8de4b61f94034b3d79a2ca7f7d79d16
which corrected a regression for missing pbr.json metadata files in
packages.

Change-Id: I3f0e48c215e890f9b26bae6600d5fcacf67831c6
",git fetch https://review.opendev.org/openstack/pbr refs/changes/77/827977/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/fix-pep517-metadata-regression-bc287e60e45b2732.yaml'],1,407d9217511d73b34b40d330520480353790ec90,,--- fixes: - | Packages generated with the 5.8.0 release of PBR failed to incorporate pbr.json metadata files. This is now corrected. Users can rebuild packages with newer PBR if they want that missing metadata generated. ,,6,0
openstack%2Fosc-lib~master~Ic7ba548e3dc9776963df9a9be3560e6eb7ce90df,openstack/osc-lib,master,Ic7ba548e3dc9776963df9a9be3560e6eb7ce90df,setup.cfg: Replace dashes with underscores,NEW,2021-04-29 12:17:05.000000000,2022-02-05 18:17:16.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-04-29 12:17:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osc-lib/commit/fb1899a734f000f783119f91152bfe25d86790b7', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: Ic7ba548e3dc9776963df9a9be3560e6eb7ce90df\n""}, {'number': 2, 'created': '2021-05-08 00:47:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osc-lib/commit/aae1312c20b643d20ded77230529afbc9e4468a1', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: Ic7ba548e3dc9776963df9a9be3560e6eb7ce90df\n""}, {'number': 3, 'created': '2022-02-05 17:18:16.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/osc-lib/commit/31af2c06d122bd4d2760a31c0c97e150cb4e6fd7', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: Ic7ba548e3dc9776963df9a9be3560e6eb7ce90df\n""}]",0,788727,31af2c06d122bd4d2760a31c0c97e150cb4e6fd7,9,1,3,31412,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: Ic7ba548e3dc9776963df9a9be3560e6eb7ce90df
",git fetch https://review.opendev.org/openstack/osc-lib refs/changes/27/788727/2 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,fb1899a734f000f783119f91152bfe25d86790b7,,description_file =author_email = openstack-discuss@lists.openstack.org home_page = https://docs.openstack.org/osc-lib/latest/,description-file =author-email = openstack-discuss@lists.openstack.org home-page = https://docs.openstack.org/osc-lib/latest/,3,3
openstack%2Foslo-cookiecutter~master~Icce6025ac4fd646752891fa9081fe16528583237,openstack/oslo-cookiecutter,master,Icce6025ac4fd646752891fa9081fe16528583237,Fix inconsistent requirement about hacking,NEW,2022-02-05 17:57:30.000000000,2022-02-05 18:04:34.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-02-05 17:57:30.000000000', 'files': ['oslo.{{cookiecutter.module_name}}/lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/oslo-cookiecutter/commit/b4469c4c6c27c19d286541d28bb25bc35069dbad', 'message': 'Fix inconsistent requirement about hacking\n\n... to fix the following failure in CI.\n\nThe conflict is caused by:\n    The user requested hacking<3.1.0 and >=3.0\n    The user requested (constraint) hacking==2.0.0\n\nChange-Id: Icce6025ac4fd646752891fa9081fe16528583237\n'}]",0,828014,b4469c4c6c27c19d286541d28bb25bc35069dbad,2,1,1,9816,,,0,"Fix inconsistent requirement about hacking

... to fix the following failure in CI.

The conflict is caused by:
    The user requested hacking<3.1.0 and >=3.0
    The user requested (constraint) hacking==2.0.0

Change-Id: Icce6025ac4fd646752891fa9081fe16528583237
",git fetch https://review.opendev.org/openstack/oslo-cookiecutter refs/changes/14/828014/1 && git format-patch -1 --stdout FETCH_HEAD,['oslo.{{cookiecutter.module_name}}/lower-constraints.txt'],1,b4469c4c6c27c19d286541d28bb25bc35069dbad,,hacking==3.0.0,hacking==2.0.0,1,1
openstack%2Fzaqar-tempest-plugin~master~I17df9c3485983d273b76860e52e12e4e186c1e4e,openstack/zaqar-tempest-plugin,master,I17df9c3485983d273b76860e52e12e4e186c1e4e,setup.cfg: Replace dashes with underscores,NEW,2021-04-27 05:58:24.000000000,2022-02-05 17:07:07.000000000,,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-27 05:58:24.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/zaqar-tempest-plugin/commit/594a3048986c530c53e1560ebff31a43b5a85d58', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: I17df9c3485983d273b76860e52e12e4e186c1e4e\n""}]",0,788135,594a3048986c530c53e1560ebff31a43b5a85d58,3,2,1,31027,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: I17df9c3485983d273b76860e52e12e4e186c1e4e
",git fetch https://review.opendev.org/openstack/zaqar-tempest-plugin refs/changes/35/788135/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,594a3048986c530c53e1560ebff31a43b5a85d58,,description_file =author_email = openstack-discuss@lists.openstack.org home_page = http://www.openstack.org/,description-file =author-email = openstack-discuss@lists.openstack.org home-page = http://www.openstack.org/,3,3
openstack%2Fzaqar-tempest-plugin~master~I69f19d1a25bef024eb49d9b64da04c88d9ae24a4,openstack/zaqar-tempest-plugin,master,I69f19d1a25bef024eb49d9b64da04c88d9ae24a4,setup.cfg: Replace dashes by underscores,ABANDONED,2022-02-05 17:05:42.000000000,2022-02-05 17:07:03.000000000,,[],"[{'number': 1, 'created': '2022-02-05 17:05:42.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/zaqar-tempest-plugin/commit/b77e34a0c7bd25299e77db7a62b6f29d5a898351', 'message': 'setup.cfg: Replace dashes by underscores\n\nSince setuptools v54.1.0[1], the parmeters with dash have been\ndeprecated in favor of the new parameters with underscore.\n\nThis change updates the example file described in documentation\naccordingly to use the new parameters.\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: I69f19d1a25bef024eb49d9b64da04c88d9ae24a4\n'}]",0,827999,b77e34a0c7bd25299e77db7a62b6f29d5a898351,2,0,1,9816,,,0,"setup.cfg: Replace dashes by underscores

Since setuptools v54.1.0[1], the parmeters with dash have been
deprecated in favor of the new parameters with underscore.

This change updates the example file described in documentation
accordingly to use the new parameters.

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: I69f19d1a25bef024eb49d9b64da04c88d9ae24a4
",git fetch https://review.opendev.org/openstack/zaqar-tempest-plugin refs/changes/99/827999/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,b77e34a0c7bd25299e77db7a62b6f29d5a898351,,description_file =author_email = openstack-discuss@lists.openstack.org home_page = http://www.openstack.org/,description-file =author-email = openstack-discuss@lists.openstack.org home-page = http://www.openstack.org/,3,3
openstack%2Fpuppet-nova~master~I2a007f5e4eeb71b94b59a0e0b5c54f20ad9535c0,openstack/puppet-nova,master,I2a007f5e4eeb71b94b59a0e0b5c54f20ad9535c0,Add support for [cinder] debug,MERGED,2022-02-04 03:32:30.000000000,2022-02-05 17:03:04.000000000,2022-02-05 17:03:04.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-04 03:32:30.000000000', 'files': ['manifests/cinder.pp', 'spec/classes/nova_cinder_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/f626e649f1c3e8ac783251e7959ee05c7d350018', 'message': 'Add support for [cinder] debug\n\nDepends-on: https://review.opendev.org/820399\nChange-Id: I2a007f5e4eeb71b94b59a0e0b5c54f20ad9535c0\n'}]",3,827792,f626e649f1c3e8ac783251e7959ee05c7d350018,19,3,1,9816,,,0,"Add support for [cinder] debug

Depends-on: https://review.opendev.org/820399
Change-Id: I2a007f5e4eeb71b94b59a0e0b5c54f20ad9535c0
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/92/827792/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/cinder.pp', 'spec/classes/nova_cinder_spec.rb']",2,f626e649f1c3e8ac783251e7959ee05c7d350018,cinder-debug," should contain_nova_config('cinder/debug').with_value('<SERVICE DEFAULT>') should contain_nova_config('cinder/debug').with_value('<SERVICE DEFAULT>') :debug => true, should contain_nova_config('cinder/debug').with_value(true)",,11,0
openstack%2Fhorizon~stable%2Ftrain~I222f40c7cccd3304aca812ddfb14d3876a77407d,openstack/horizon,stable/train,I222f40c7cccd3304aca812ddfb14d3876a77407d,setup.cfg: Replace dashes by underscores,ABANDONED,2022-02-05 16:44:20.000000000,2022-02-05 16:44:55.000000000,,[],"[{'number': 1, 'created': '2022-02-05 16:44:20.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/horizon/commit/760aaabd2e22d08392e22a710430208f59cbdd0e', 'message': ""setup.cfg: Replace dashes by underscores\n\nSince setuptools v54.1.0[1], the parmeters with dash have been\ndeprecated in favor of the new parameters with underscore.\n\nThis change updates the parameters accordingly to avoid the warnings\nlike the example below.\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: I222f40c7cccd3304aca812ddfb14d3876a77407d\n""}]",0,827990,760aaabd2e22d08392e22a710430208f59cbdd0e,2,0,1,9816,,,0,"setup.cfg: Replace dashes by underscores

Since setuptools v54.1.0[1], the parmeters with dash have been
deprecated in favor of the new parameters with underscore.

This change updates the parameters accordingly to avoid the warnings
like the example below.

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: I222f40c7cccd3304aca812ddfb14d3876a77407d
",git fetch https://review.opendev.org/openstack/horizon refs/changes/90/827990/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,760aaabd2e22d08392e22a710430208f59cbdd0e,,description_file =author_email = openstack-discuss@lists.openstack.org home_page = https://docs.openstack.org/horizon/latest/,description-file =author-email = openstack-discuss@lists.openstack.org home-page = https://docs.openstack.org/horizon/latest/,3,3
openstack%2Fbarbican-ui~master~Ia34763b4eda76dcc78b470fd31dfb630701fb10e,openstack/barbican-ui,master,Ia34763b4eda76dcc78b470fd31dfb630701fb10e,setup.cfg: Replace dashes by underscores,ABANDONED,2022-02-05 16:36:00.000000000,2022-02-05 16:39:58.000000000,,[],"[{'number': 1, 'created': '2022-02-05 16:36:00.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/barbican-ui/commit/d7fe8837e6820d5f91785c4a29c64617481f7bb3', 'message': 'setup.cfg: Replace dashes by underscores\n\nSince setuptools v54.1.0[1], the parmeters with underscore have been\ndeprecated.\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: Ia34763b4eda76dcc78b470fd31dfb630701fb10e\n'}]",0,827983,d7fe8837e6820d5f91785c4a29c64617481f7bb3,2,0,1,9816,,,0,"setup.cfg: Replace dashes by underscores

Since setuptools v54.1.0[1], the parmeters with underscore have been
deprecated.

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: Ia34763b4eda76dcc78b470fd31dfb630701fb10e
",git fetch https://review.opendev.org/openstack/barbican-ui refs/changes/83/827983/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,d7fe8837e6820d5f91785c4a29c64617481f7bb3,,description_file =author_email = openstack-discuss@lists.openstack.org home_page = http://www.openstack.org/,description-file =author-email = openstack-discuss@lists.openstack.org home-page = http://www.openstack.org/,3,3
openstack%2Fcinderlib~master~I47c26e06485b251f1cc68d5323759d110794f994,openstack/cinderlib,master,I47c26e06485b251f1cc68d5323759d110794f994,setup.cfg: Replace dashes by underscores,ABANDONED,2022-02-05 16:37:15.000000000,2022-02-05 16:39:55.000000000,,[],"[{'number': 1, 'created': '2022-02-05 16:37:15.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/cinderlib/commit/b237143452c317bb54d79c0f6a8b1c2e1c24a164', 'message': 'setup.cfg: Replace dashes by underscores\n\nSince setuptools v54.1.0[1], the parmeters with underscore have been\ndeprecated.\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: I47c26e06485b251f1cc68d5323759d110794f994\n'}]",0,827984,b237143452c317bb54d79c0f6a8b1c2e1c24a164,3,0,1,9816,,,0,"setup.cfg: Replace dashes by underscores

Since setuptools v54.1.0[1], the parmeters with underscore have been
deprecated.

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: I47c26e06485b251f1cc68d5323759d110794f994
",git fetch https://review.opendev.org/openstack/cinderlib refs/changes/84/827984/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,b237143452c317bb54d79c0f6a8b1c2e1c24a164,,description_file =author_email = openstack-discuss@lists.openstack.org home_page = https://docs.openstack.org/cinderlib/latest/ python_requires = >=3.6,description-file =author-email = openstack-discuss@lists.openstack.org home-page = https://docs.openstack.org/cinderlib/latest/ python-requires = >=3.6,4,4
openstack%2Fcinderlib~master~I540be3186db979326a09e517d080c4715f2e3630,openstack/cinderlib,master,I540be3186db979326a09e517d080c4715f2e3630,setup.cfg: Replace dashes by underscores,ABANDONED,2022-02-05 16:38:18.000000000,2022-02-05 16:39:53.000000000,,[],"[{'number': 1, 'created': '2022-02-05 16:38:18.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/cinderlib/commit/e36d052caa2ad3c8dd17dc1f2a9928ba76014f6d', 'message': ""setup.cfg: Replace dashes by underscores\n\nSince setuptools v54.1.0[1], the parmeters with dash have been\ndeprecated in favor of the new parameters with underscore.\n\nThis change updates the parameters accordingly to avoid the warnings\nlike the example below.\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\nChange-Id: I47c26e06485b251f1cc68d5323759d110794f994\n\nChange-Id: I540be3186db979326a09e517d080c4715f2e3630\n""}]",0,827985,e36d052caa2ad3c8dd17dc1f2a9928ba76014f6d,3,0,1,9816,,,0,"setup.cfg: Replace dashes by underscores

Since setuptools v54.1.0[1], the parmeters with dash have been
deprecated in favor of the new parameters with underscore.

This change updates the parameters accordingly to avoid the warnings
like the example below.

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb
Change-Id: I47c26e06485b251f1cc68d5323759d110794f994

Change-Id: I540be3186db979326a09e517d080c4715f2e3630
",git fetch https://review.opendev.org/openstack/cinderlib refs/changes/85/827985/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,e36d052caa2ad3c8dd17dc1f2a9928ba76014f6d,,description_file =author_email = openstack-discuss@lists.openstack.org home_page = https://docs.openstack.org/cinderlib/latest/ python_requires = >=3.6,description-file =author-email = openstack-discuss@lists.openstack.org home-page = https://docs.openstack.org/cinderlib/latest/ python-requires = >=3.6,4,4
openstack%2Fbarbican-ui~master~I2628b5dd7b24fcd754ab8ca722bc626ed40d7e03,openstack/barbican-ui,master,I2628b5dd7b24fcd754ab8ca722bc626ed40d7e03,setup.cfg: Replace dashes by underscores,ABANDONED,2022-02-05 16:38:51.000000000,2022-02-05 16:39:43.000000000,,[],"[{'number': 1, 'created': '2022-02-05 16:38:51.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/barbican-ui/commit/a4f2ef2834e12e89022beb4eb8625ae0e9b09d0f', 'message': ""setup.cfg: Replace dashes by underscores\n\nSince setuptools v54.1.0[1], the parmeters with dash have been\ndeprecated in favor of the new parameters with underscore.\n\nThis change updates the parameters accordingly to avoid the warnings\nlike the example below.\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\nChange-Id: Idff426a874426fcae7df6b8ca7523fb8e97ac7a2\n\nChange-Id: I2628b5dd7b24fcd754ab8ca722bc626ed40d7e03\n""}]",0,827986,a4f2ef2834e12e89022beb4eb8625ae0e9b09d0f,2,0,1,9816,,,0,"setup.cfg: Replace dashes by underscores

Since setuptools v54.1.0[1], the parmeters with dash have been
deprecated in favor of the new parameters with underscore.

This change updates the parameters accordingly to avoid the warnings
like the example below.

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb
Change-Id: Idff426a874426fcae7df6b8ca7523fb8e97ac7a2

Change-Id: I2628b5dd7b24fcd754ab8ca722bc626ed40d7e03
",git fetch https://review.opendev.org/openstack/barbican-ui refs/changes/86/827986/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,a4f2ef2834e12e89022beb4eb8625ae0e9b09d0f,,description_file =author_email = openstack-discuss@lists.openstack.org home_page = http://www.openstack.org/,description-file =author-email = openstack-discuss@lists.openstack.org home-page = http://www.openstack.org/,3,3
openstack%2Fglance~master~I895f8352a374905922247d1d406c2b2417041840,openstack/glance,master,I895f8352a374905922247d1d406c2b2417041840,Update migration constant part 2,ABANDONED,2022-02-04 20:36:20.000000000,2022-02-05 15:02:42.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-02-04 20:36:20.000000000', 'files': ['glance/db/migration.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/0cf3738763a2a1e01b05644b6ffe56e5c1b20123', 'message': ""Update migration constant part 2\n\nUpdate the data migration current release to 'yoga'.  This\nis a follow-up to change Ibdbeb752d29a, which triggered an\nupdate to the version number in master, which will allow the\nglance.tests.unit.gate.test_data_migration_version to pass.\n\nChange-Id: I895f8352a374905922247d1d406c2b2417041840\n""}]",0,827920,0cf3738763a2a1e01b05644b6ffe56e5c1b20123,3,1,1,5314,,,0,"Update migration constant part 2

Update the data migration current release to 'yoga'.  This
is a follow-up to change Ibdbeb752d29a, which triggered an
update to the version number in master, which will allow the
glance.tests.unit.gate.test_data_migration_version to pass.

Change-Id: I895f8352a374905922247d1d406c2b2417041840
",git fetch https://review.opendev.org/openstack/glance refs/changes/20/827920/1 && git format-patch -1 --stdout FETCH_HEAD,['glance/db/migration.py'],1,0cf3738763a2a1e01b05644b6ffe56e5c1b20123,update-migration-const,CURRENT_RELEASE = 'yoga',CURRENT_RELEASE = 'xena',1,1
openstack%2Ftripleo-ansible~master~I5c2e5caa1579af5cf206633447b92e8fdffdda16,openstack/tripleo-ansible,master,I5c2e5caa1579af5cf206633447b92e8fdffdda16,Provision VIPs for ceph related services,MERGED,2022-01-20 13:44:42.000000000,2022-02-05 14:13:31.000000000,2022-02-05 14:12:08.000000000,"[{'_account_id': 6796}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}, {'_account_id': 25402}]","[{'number': 1, 'created': '2022-01-20 13:44:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/a2f795b4334b916bbca8e083d0a7b33c122b1b88', 'message': 'Provision VIPs for ceph related services\n\nThis change adds a new playbook that will be triggered by tripleoclient\nand defines as input the mapping between ceph services and their\nnetwork, and produces (as output) the VIPs associated to the specified\ndaemons.\nIt uses the ""tripleo_service_vip"" ansible module like ovn and redis,\nbut for ceph this process is moved into a separated step.\n\nChange-Id: I5c2e5caa1579af5cf206633447b92e8fdffdda16\n'}, {'number': 2, 'created': '2022-01-20 17:48:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/be64b92b232a3199a568b7ddf098b0a8dc4071a3', 'message': 'Provision VIPs for ceph related services\n\nThis change adds a new playbook that will be triggered by tripleoclient\nand defines as input the mapping between ceph services and their\nnetwork, and produces (as output) the VIPs associated to the specified\ndaemons.\nIt uses the ""tripleo_service_vip"" ansible module (like ovn and redis),\nbut for ceph this process is moved into a separated step.\nThe module now supports an output path instead only a playbook dir:\nthis ensures we can have more control over input and output provided.\n\nChange-Id: I5c2e5caa1579af5cf206633447b92e8fdffdda16\n'}, {'number': 3, 'created': '2022-01-20 17:52:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/745ac724ab07bb0c64bc244d516d54e542e6c47a', 'message': 'Provision VIPs for ceph related services\n\nThis change adds a new playbook that will be triggered by tripleoclient\nand defines as input the mapping between ceph services and their\nnetwork, and produces (as output) the VIPs associated to the specified\ndaemons.\nIt uses the ""tripleo_service_vip"" ansible module (like ovn and redis),\nbut for ceph this process is moved into a separated step.\nThe module now supports an output path instead only a playbook dir:\nthis ensures we can have more control over input and output provided.\n\nChange-Id: I5c2e5caa1579af5cf206633447b92e8fdffdda16\n'}, {'number': 4, 'created': '2022-01-21 07:50:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/a0e46da608f28a2ace7c8c58b27def6323a83699', 'message': 'Provision VIPs for ceph related services\n\nThis change adds a new playbook that will be triggered by tripleoclient\nand defines as input the mapping between ceph services and their\nnetwork, and produces (as output) the VIPs associated to the specified\ndaemons.\nIt uses the ""tripleo_service_vip"" ansible module (like ovn and redis),\nbut for ceph this process is moved into a separated step.\nThe module now supports an output path instead only a playbook dir:\nthis ensures we can have more control over input and output provided.\n\nChange-Id: I5c2e5caa1579af5cf206633447b92e8fdffdda16\n'}, {'number': 5, 'created': '2022-01-22 10:57:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/e53e023f32358f39fdfc22fc948bc8e77d223583', 'message': 'Provision VIPs for ceph related services\n\nThis change adds a new playbook that will be triggered by tripleoclient\nand defines as input the mapping between ceph services and their\nnetwork, and produces (as output) the VIPs associated to the specified\ndaemons.\nIt uses the ""tripleo_service_vip"" ansible module (like ovn and redis),\nbut for ceph this process is moved into a separated step.\nThe module now supports an output path instead only a playbook dir:\nthis ensures we can have more control over input and output provided.\n\nChange-Id: I5c2e5caa1579af5cf206633447b92e8fdffdda16\n'}, {'number': 6, 'created': '2022-01-26 09:37:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/074a2da86b0ef0561646f6bbf091e87c2cb6894d', 'message': 'Provision VIPs for ceph related services\n\nThis change adds a new task within cli-deployed-ceph that will be\ntriggered by tripleoclient when --ceph-vip option is set.\nThe extra_var input file defines the mapping between the ceph services\nand their network, and produces (as output) the VIPs associated to the\nspecified daemons.\nIt uses the improved version of ""tripleo_service_vip"" ansible module\nthat now supports an output path instead only a playbook dir, and is\nable to return a payload (the generated data map) that can be used by\nother tasks: this ensures we have more control over the provided input\nand output.\n\nChange-Id: I5c2e5caa1579af5cf206633447b92e8fdffdda16\n'}, {'number': 7, 'created': '2022-01-27 10:37:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/f31d9c2187175f1c70e96db9048200ff346a0761', 'message': 'Provision VIPs for ceph related services\n\nThis change adds a new task within cli-deployed-ceph that will be\ntriggered by tripleoclient when --ceph-vip option is set.\nThe extra_var input file defines the mapping between the ceph services\nand their network, and produces (as output) the VIPs associated to the\nspecified daemons.\nIt uses the improved version of ""tripleo_service_vip"" ansible module\nthat now supports an output path instead only a playbook dir, and is\nable to return a payload (the generated data map) that can be used by\nother tasks: this ensures we have more control over the provided input\nand output.\n\nDepends-On: I69aa4e837b88a08ee68fca552c645e3e7183fab7\nChange-Id: I5c2e5caa1579af5cf206633447b92e8fdffdda16\n'}, {'number': 8, 'created': '2022-01-28 14:15:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/6e73965e25712be1b5ae7dd900cf4f534513c418', 'message': 'Provision VIPs for ceph related services\n\nThis change adds a new task within cli-deployed-ceph that will be\ntriggered by tripleoclient when --ceph-vip option is set.\nThe extra_var input file defines the mapping between the ceph services\nand their network, and produces (as output) the VIPs associated to the\nspecified daemons.\nIt uses the improved version of ""tripleo_service_vip"" ansible module\nthat now supports an output path instead only a playbook dir, and is\nable to return a payload (the generated data map) that can be used by\nother tasks: this ensures we have more control over the provided input\nand output.\n\nDepends-On: I69aa4e837b88a08ee68fca552c645e3e7183fab7\nChange-Id: I5c2e5caa1579af5cf206633447b92e8fdffdda16\n'}, {'number': 9, 'created': '2022-01-31 21:12:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/0817151aadb6808b42c3ff3b42bda112e0b55e40', 'message': 'Provision VIPs for ceph related services\n\nThis change adds a new task within cli-deployed-ceph that will be\ntriggered by tripleoclient when --ceph-vip option is set.\nThe extra_var input file defines the mapping between the ceph services\nand their network, and produces (as output) the VIPs associated to the\nspecified daemons.\nIt uses the improved version of ""tripleo_service_vip"" ansible module\nthat now supports an output path instead only a playbook dir, and is\nable to return a payload (the generated data map) that can be used by\nother tasks: this ensures we have more control over the provided input\nand output.\n\nDepends-On: I69aa4e837b88a08ee68fca552c645e3e7183fab7\nChange-Id: I5c2e5caa1579af5cf206633447b92e8fdffdda16\n'}, {'number': 10, 'created': '2022-02-01 13:50:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/16ec19142783f37465bf6c182025e8080114fb57', 'message': 'Provision VIPs for ceph related services\n\nThis change adds a new task within cli-deployed-ceph that will be\ntriggered by tripleoclient when --ceph-vip option is set.\nThe extra_var input file defines the mapping between the ceph services\nand their network, and produces (as output) the VIPs associated to the\nspecified daemons.\nIt uses the improved version of ""tripleo_service_vip"" ansible module\nthat now supports an output path instead only a playbook dir, and is\nable to return a payload (the generated data map) that can be used by\nother tasks: this ensures we have more control over the provided input\nand output.\n\nDepends-On: I69aa4e837b88a08ee68fca552c645e3e7183fab7\nChange-Id: I5c2e5caa1579af5cf206633447b92e8fdffdda16\n'}, {'number': 11, 'created': '2022-02-02 07:32:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/4a7615511c0ebfe752978267c11c4e8d201da59e', 'message': 'Provision VIPs for ceph related services\n\nThis change adds a new task within cli-deployed-ceph that will be\ntriggered by tripleoclient when --ceph-vip option is set.\nThe extra_var input file defines the mapping between the ceph services\nand their network, and produces (as output) the VIPs associated to the\nspecified daemons.\nIt uses the improved version of ""tripleo_service_vip"" ansible module\nthat now supports an output path instead only a playbook dir, and is\nable to return a payload (the generated data map) that can be used by\nother tasks: this ensures we have more control over the provided input\nand output.\n\nDepends-On: I69aa4e837b88a08ee68fca552c645e3e7183fab7\nChange-Id: I5c2e5caa1579af5cf206633447b92e8fdffdda16\n'}, {'number': 12, 'created': '2022-02-03 07:09:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/6cfd10bb270cb05e5e483debb02c193607415c3c', 'message': 'Provision VIPs for ceph related services\n\nThis change adds a new task within cli-deployed-ceph that will be\ntriggered by tripleoclient when --ceph-vip option is set.\nThe extra_var input file defines the mapping between the ceph services\nand their network, and produces (as output) the VIPs associated to the\nspecified daemons.\nIt uses the improved version of ""tripleo_service_vip"" ansible module\nthat now supports an output path instead only a playbook dir, and is\nable to return a payload (the generated data map) that can be used by\nother tasks: this ensures we have more control over the provided input\nand output.\n\nDepends-On: I69aa4e837b88a08ee68fca552c645e3e7183fab7\nChange-Id: I5c2e5caa1579af5cf206633447b92e8fdffdda16\n'}, {'number': 13, 'created': '2022-02-04 12:37:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/d9a8ad651d8732af411cc65345a073b451e51390', 'message': 'Provision VIPs for ceph related services\n\nThis change adds a new task within cli-deployed-ceph that will be\ntriggered by tripleoclient when --ceph-vip option is set.\nThe extra_var input file defines the mapping between the ceph services\nand their network, and produces (as output) the VIPs associated to the\nspecified daemons.\nIt uses the improved version of ""tripleo_service_vip"" ansible module\nthat now supports an output path instead only a playbook dir, and is\nable to return a payload (the generated data map) that can be used by\nother tasks: this ensures we have more control over the provided input\nand output.\n\nDepends-On: I69aa4e837b88a08ee68fca552c645e3e7183fab7\nChange-Id: I5c2e5caa1579af5cf206633447b92e8fdffdda16\n'}, {'number': 14, 'created': '2022-02-04 16:55:28.000000000', 'files': ['tripleo_ansible/ansible_plugins/modules/tripleo_service_vip.py', 'tripleo_ansible/roles/tripleo_cephadm/defaults/main.yml', 'tripleo_ansible/playbooks/cli-deployed-ceph.yaml', 'tripleo_ansible/roles/tripleo_cephadm/tasks/ceph_vip.yaml', 'tripleo_ansible/tests/modules/test_tripleo_service_vip.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/2636e84c41f8be28c9f72e8ce126beb72b2cb32c', 'message': 'Provision VIPs for ceph related services\n\nThis change adds a new task within cli-deployed-ceph that will be\ntriggered by tripleoclient when --ceph-vip option is set.\nThe extra_var input file defines the mapping between the ceph services\nand their network, and produces (as output) the VIPs associated to the\nspecified daemons.\nIt uses the improved version of ""tripleo_service_vip"" ansible module\nthat now supports an output path instead only a playbook dir, and is\nable to return a payload (the generated data map) that can be used by\nother tasks: this ensures we have more control over the provided input\nand output.\n\nChange-Id: I5c2e5caa1579af5cf206633447b92e8fdffdda16\n'}]",30,825502,2636e84c41f8be28c9f72e8ce126beb72b2cb32c,79,8,14,25402,,,0,"Provision VIPs for ceph related services

This change adds a new task within cli-deployed-ceph that will be
triggered by tripleoclient when --ceph-vip option is set.
The extra_var input file defines the mapping between the ceph services
and their network, and produces (as output) the VIPs associated to the
specified daemons.
It uses the improved version of ""tripleo_service_vip"" ansible module
that now supports an output path instead only a playbook dir, and is
able to return a payload (the generated data map) that can be used by
other tasks: this ensures we have more control over the provided input
and output.

Change-Id: I5c2e5caa1579af5cf206633447b92e8fdffdda16
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/02/825502/12 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/playbooks/cli-ceph-vip-provision.yaml'],1,a2f795b4334b916bbca8e083d0a7b33c122b1b88,ceph_vip_provision,"# Copyright 2021 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # - name: Overcloud Virtual IPs Provision connection: ""{{ (tripleo_target_host is defined) | ternary('ssh', 'local') }}"" hosts: ""{{ tripleo_target_host | default('localhost') }}"" remote_user: ""{{ tripleo_target_user | default(lookup('env', 'USER')) }}"" gather_facts: ""{{ (tripleo_target_host is defined) | ternary(true, false) }}"" any_errors_fatal: true vars: overwrite: false templates: /usr/share/openstack-tripleo-heat-templates ceph_vip_dest: /home/stack pre_tasks: - fail: msg: stack_name is a required input when: - stack_name is undefined - fail: msg: ceph_services_path is a required input when: - ceph_services_path is undefined tasks: - name: Load Virtual IP data config from file set_fact: ceph_vip_map: ""{{ lookup('file', ceph_services_path) | from_yaml }}"" when: - ceph_vip_map is undefined - name: create ceph virtual ip tripleo_service_vip: playbook_dir: ""{{ ceph_vip_dest }}"" stack_name: ""{{ stack_name }}"" service_name: ""{{ item.service ]}"" network: ""{{ item.network }}"" fixed_ips: - {'subnet': '{{ item.network }}_subnet'} loop: ""{{ ceph_vip_map.get('ceph_services',{}) }}"" ",,52,0
openstack%2Fkolla-ansible~master~I53c02bb2151473b85aaae4480a81e13d766cad00,openstack/kolla-ansible,master,I53c02bb2151473b85aaae4480a81e13d766cad00,[DNM] Test kolla-ansible-ubuntu-source-zun job,ABANDONED,2022-02-02 14:55:01.000000000,2022-02-05 13:52:25.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-02-02 14:55:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/87d05a0b88677bd6a8dc0cfef41fbb0459924fdb', 'message': '[DNM] Test kolla-ansible-ubuntu-source-zun job\n\nChange-Id: I53c02bb2151473b85aaae4480a81e13d766cad00\n'}, {'number': 2, 'created': '2022-02-04 21:44:42.000000000', 'files': ['zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/41940e70221c4f434014569ff6d5a4ef671b2889', 'message': '[DNM] Test kolla-ansible-ubuntu-source-zun job\n\nChange-Id: I53c02bb2151473b85aaae4480a81e13d766cad00\n'}]",6,827512,41940e70221c4f434014569ff6d5a4ef671b2889,14,1,2,30491,,,0,"[DNM] Test kolla-ansible-ubuntu-source-zun job

Change-Id: I53c02bb2151473b85aaae4480a81e13d766cad00
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/12/827512/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/jobs.yaml'],1,87d05a0b88677bd6a8dc0cfef41fbb0459924fdb,dnm-ci-test-zun-ubuntu, test: yes,,1,0
openstack%2Ftripleo-ansible~stable%2Ftrain~I3e3692030b86e4afff6fc5e09cd763ee1e184cfa,openstack/tripleo-ansible,stable/train,I3e3692030b86e4afff6fc5e09cd763ee1e184cfa,Disable cloud-init netconfig post os-net-config,MERGED,2022-01-25 22:22:59.000000000,2022-02-05 10:57:57.000000000,2022-02-05 10:56:39.000000000,"[{'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 27419}]","[{'number': 1, 'created': '2022-01-25 22:22:59.000000000', 'files': ['releasenotes/notes/disable-cloud-init-network-config-after-tripleo_network_config-1fea430985e1a3cd.yaml', 'tripleo_ansible/roles/tripleo-network-config/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/a63697ffd67f24f65feec88acd8d164154f01d9f', 'message': ""Disable cloud-init netconfig post os-net-config\n\nThis is a combination of 2 commits.\n\nThis is the 1st commit message:\n\nAfter a successfull os-net-config run disable network config\nin cloud-init.\n\nThere has been reports of cloud-init re-writing network config\nfiles on reboot, resulting in incorrect network configuration.\n\nThis is the 2nd commit message:\n\nEnsure cloud-init config dir exists\n\nIn some cases, it may happen cloud-init isn't installed (on the UC, for\ninstance).\nIn such cases, the directory doesn't exist, and ansible fails to push\nthe file to this location, leading to a deploy error.\n\nCloses-Bug: #1958332\nChange-Id: I3e3692030b86e4afff6fc5e09cd763ee1e184cfa\n(cherry picked from commit 85bcbfb8a6d53cbcf2b727e0b0bf12b3e4281567)\n(cherry picked from commit 7d16b0f33f37ba9196838003e5da578239273473)\n(cherry picked from commit daf76eb86a4bcf9b14e0b2c5125bfb5a7ce5e20f)\n""}]",1,826396,a63697ffd67f24f65feec88acd8d164154f01d9f,15,5,1,24245,,,0,"Disable cloud-init netconfig post os-net-config

This is a combination of 2 commits.

This is the 1st commit message:

After a successfull os-net-config run disable network config
in cloud-init.

There has been reports of cloud-init re-writing network config
files on reboot, resulting in incorrect network configuration.

This is the 2nd commit message:

Ensure cloud-init config dir exists

In some cases, it may happen cloud-init isn't installed (on the UC, for
instance).
In such cases, the directory doesn't exist, and ansible fails to push
the file to this location, leading to a deploy error.

Closes-Bug: #1958332
Change-Id: I3e3692030b86e4afff6fc5e09cd763ee1e184cfa
(cherry picked from commit 85bcbfb8a6d53cbcf2b727e0b0bf12b3e4281567)
(cherry picked from commit 7d16b0f33f37ba9196838003e5da578239273473)
(cherry picked from commit daf76eb86a4bcf9b14e0b2c5125bfb5a7ce5e20f)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/96/826396/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/disable-cloud-init-network-config-after-tripleo_network_config-1fea430985e1a3cd.yaml', 'tripleo_ansible/roles/tripleo-network-config/tasks/main.yml']",2,a63697ffd67f24f65feec88acd8d164154f01d9f,bug/1958332-stable/train,- name: Ensure we get cloud-init stat: path: /etc/cloud/cloud.cfg.d register: cloud_init_exists # LP Bug: https://bugs.launchpad.net/tripleo/+bug/1958332 - name: Disable cloud-init network config copy: content: | network: config: disabled dest: /etc/cloud/cloud.cfg.d/99-tripleo-disable-network-config.cfg when: - NetworkConfig_result.rc is defined - NetworkConfig_result.rc == 0 - cloud_init_exists.stat.exists - cloud_init_exists.stat.isdir ,,26,0
openstack%2Fnova~master~I6445433142286728a8c7efadcf80d07082d60bc3,openstack/nova,master,I6445433142286728a8c7efadcf80d07082d60bc3,[yoga] Add PCI VPD Capability Handling,MERGED,2021-09-10 10:33:31.000000000,2022-02-05 09:35:23.000000000,2022-02-05 09:33:35.000000000,"[{'_account_id': 7166}, {'_account_id': 9708}, {'_account_id': 11604}, {'_account_id': 22348}, {'_account_id': 24824}, {'_account_id': 32291}]","[{'number': 1, 'created': '2021-09-10 10:33:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a4187f75152339293dca78842079c34810548f75', 'message': '[PoC][yoga] Off-path Networking Backends Support\n\nThis change is based on\n\nhttps://review.opendev.org/c/openstack/nova-specs/+/787458\nhttps://review.opendev.org/c/openstack/neutron-specs/+/788821\n\nand the corresponding Libvirt change:\n\nhttps://listman.redhat.com/archives/libvir-list/2021-September/msg00011.html\n\n* Add VPD capability parsing support\n  * The XML data from libvirt is parsed and formatted into PCI device\n    JSON dict that is sent to Nova API and is stored in the extra_info\n    column of a PciDevice.\n\n    The code gracefully handles the lack of the capability since it is\n    optional or Libvirt may not support it in a particular release.\n* Pass the serial number to Neutron in port updates\n  If a card serial number is present based on the information from PCI\n  VPD, pass it to Neutron along with other PCI-related information.\n* Include pf mac and vf num in port updates\n  * Adds methods to retrieve those at runtime for a VF and include them\n  in port updates to Neutron.\n* Add a new PCI whitelist tag called ""remote_managed"".\n  * Ports of VNIC_TYPE_SMARTNIC are managed remotely from a SmartNIC\n  DPU\'s operating system. Operators need a way to specify which devices\n  to treat as remotely managed since there is no meta information\n  database that would associate vendor and device IDs with the\n  information about whether they are remotely managed or not. For that\n  purpose, a new PCI device whitelist tag is introduced. By default, it\n  is assumed that its value will be False unless overridden explicitly\n  in the whitelist specified in a config file. PCI device requests get\n  a remote_managed value based on a port type. PciDevice objects store\n  the remote_managed value in the extra_info dict if it is present\n  during object creation. Otherwise, the value is assumed to be False\n  during object-based matching.\n  Unit tests are modified in this change to account for the added logic.\n\nChange-Id: I6445433142286728a8c7efadcf80d07082d60bc3\n'}, {'number': 2, 'created': '2021-09-15 14:40:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ab10febb58714f46a572ed46b9c74fb888c5f15d', 'message': '[PoC][yoga] Off-path Networking Backends Support\n\nThis change is based on\n\nhttps://review.opendev.org/c/openstack/nova-specs/+/787458\nhttps://review.opendev.org/c/openstack/neutron-specs/+/788821\n\nand the corresponding Libvirt change:\n\nhttps://listman.redhat.com/archives/libvir-list/2021-September/msg00011.html\n\n* Add VPD capability parsing support\n  * The XML data from libvirt is parsed and formatted into PCI device\n    JSON dict that is sent to Nova API and is stored in the extra_info\n    column of a PciDevice.\n\n    The code gracefully handles the lack of the capability since it is\n    optional or Libvirt may not support it in a particular release.\n* Pass the serial number to Neutron in port updates\n  If a card serial number is present based on the information from PCI\n  VPD, pass it to Neutron along with other PCI-related information.\n* Include pf mac and vf num in port updates\n  * Adds methods to retrieve those at runtime for a VF and include them\n  in port updates to Neutron.\n* Add a new PCI whitelist tag called ""remote_managed"".\n  * Ports of VNIC_TYPE_SMARTNIC are managed remotely from a SmartNIC\n  DPU\'s operating system. Operators need a way to specify which devices\n  to treat as remotely managed since there is no meta information\n  database that would associate vendor and device IDs with the\n  information about whether they are remotely managed or not. For that\n  purpose, a new PCI device whitelist tag is introduced. By default, it\n  is assumed that its value will be False unless overridden explicitly\n  in the whitelist specified in a config file. PCI device requests get\n  a remote_managed value based on a port type and the logic invoked by\n  the PciPassthroughFilter takes care of matching this request value\n  against the remote_managed tag obtained from the whitelist\n  configuration.\n\nChange-Id: I6445433142286728a8c7efadcf80d07082d60bc3\n'}, {'number': 3, 'created': '2021-09-16 19:08:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c549678839d966ff92f270b87a6d3b41a0a30fc5', 'message': '[PoC][yoga] Off-path Networking Backends Support\n\nThis change is based on\n\nhttps://review.opendev.org/c/openstack/nova-specs/+/787458\nhttps://review.opendev.org/c/openstack/neutron-specs/+/788821\n\nand the corresponding Libvirt change:\n\nhttps://listman.redhat.com/archives/libvir-list/2021-September/msg00011.html\n\n* Add VPD capability parsing support\n  * The XML data from libvirt is parsed and formatted into PCI device\n    JSON dict that is sent to Nova API and is stored in the extra_info\n    column of a PciDevice.\n\n    The code gracefully handles the lack of the capability since it is\n    optional or Libvirt may not support it in a particular release.\n* Pass the serial number to Neutron in port updates\n  If a card serial number is present based on the information from PCI\n  VPD, pass it to Neutron along with other PCI-related information.\n* Include pf mac and vf num in port updates\n  * Adds methods to retrieve those at runtime for a VF and include them\n  in port updates to Neutron.\n* Add a new PCI whitelist tag called ""remote_managed"".\n  * Ports of VNIC_TYPE_SMARTNIC are managed remotely from a SmartNIC\n  DPU\'s operating system. Operators need a way to specify which devices\n  to treat as remotely managed since there is no meta information\n  database that would associate vendor and device IDs with the\n  information about whether they are remotely managed or not. For that\n  purpose, a new PCI device whitelist tag is introduced. By default, it\n  is assumed that its value will be False unless overridden explicitly\n  in the whitelist specified in a config file. PCI device requests get\n  a remote_managed value based on a port type and the logic invoked by\n  the PciPassthroughFilter takes care of matching this request value\n  against the remote_managed tag obtained from the whitelist\n  configuration.\n\nChange-Id: I6445433142286728a8c7efadcf80d07082d60bc3\n'}, {'number': 4, 'created': '2021-10-01 08:59:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/11a0a50a8537ca067b71856e5919dc06b4159bc6', 'message': '[yoga] Add PCI VPD Capability Handling\n\nThis change comes as a part of the ""Off-path Networking Backends\nSupport"" spec implementation.\n\nhttps://review.opendev.org/c/openstack/nova-specs/+/787458\n\n* Add VPD capability parsing support\n  * The XML data from libvirt is parsed and formatted into PCI device\n    JSON dict that is sent to Nova API and is stored in the extra_info\n    column of a PciDevice.\n\n    The code gracefully handles the lack of the capability since it is\n    optional or Libvirt may not support it in a particular release.\n* Pass the serial number to Neutron in port updates\n  If a card serial number is present based on the information from PCI\n  VPD, pass it to Neutron along with other PCI-related information.\n\nA corresponding Libvirt change (to be merged).\nhttps://listman.redhat.com/archives/libvir-list/2021-September/msg00890.html\n\nChange-Id: I6445433142286728a8c7efadcf80d07082d60bc3\nDepends-On: I07ef52769da72cde8867f996111b7df4a80e4d79\n'}, {'number': 5, 'created': '2021-10-05 21:51:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d30a6ef0361578f0c2449e09986d688bbe23eef3', 'message': '[yoga] Add PCI VPD Capability Handling\n\nThis change comes as a part of the ""Off-path Networking Backends\nSupport"" spec implementation.\n\nhttps://review.opendev.org/c/openstack/nova-specs/+/787458\n\n* Add VPD capability parsing support\n  * The XML data from libvirt is parsed and formatted into PCI device\n    JSON dict that is sent to Nova API and is stored in the extra_info\n    column of a PciDevice.\n\n    The code gracefully handles the lack of the capability since it is\n    optional or Libvirt may not support it in a particular release.\n* Pass the serial number to Neutron in port updates\n  If a card serial number is present based on the information from PCI\n  VPD, pass it to Neutron along with other PCI-related information.\n\nA corresponding Libvirt change (to be merged).\nhttps://listman.redhat.com/archives/libvir-list/2021-September/msg00890.html\n\nChange-Id: I6445433142286728a8c7efadcf80d07082d60bc3\nDepends-On: I07ef52769da72cde8867f996111b7df4a80e4d79\n'}, {'number': 6, 'created': '2021-10-11 17:31:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/322fb9f160d6becf5c586c759868240183a8a621', 'message': '[yoga] Add PCI VPD Capability Handling\n\nThis change comes as a part of the ""Off-path Networking Backends\nSupport"" spec implementation.\n\nhttps://review.opendev.org/c/openstack/nova-specs/+/787458\n\n* Add VPD capability parsing support\n  * The XML data from libvirt is parsed and formatted into PCI device\n    JSON dict that is sent to Nova API and is stored in the extra_info\n    column of a PciDevice.\n\n    The code gracefully handles the lack of the capability since it is\n    optional or Libvirt may not support it in a particular release.\n* Pass the serial number to Neutron in port updates\n  If a card serial number is present based on the information from PCI\n  VPD, pass it to Neutron along with other PCI-related information.\n\nA corresponding Libvirt change (to be merged).\n\nhttps://listman.redhat.com/archives/libvir-list/2021-October/msg00546.html\n\nChange-Id: I6445433142286728a8c7efadcf80d07082d60bc3\nDepends-On: I07ef52769da72cde8867f996111b7df4a80e4d79\n'}, {'number': 7, 'created': '2021-11-19 07:45:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/982400b30f935c03871815ab0572a45ce276df9e', 'message': '[yoga] Add PCI VPD Capability Handling\n\nThis change comes as a part of the ""Off-path Networking Backends\nSupport"" spec implementation.\n\nhttps://review.opendev.org/c/openstack/nova-specs/+/787458\n\n* Add VPD capability parsing support\n  * The XML data from libvirt is parsed and formatted into PCI device\n    JSON dict that is sent to Nova API and is stored in the extra_info\n    column of a PciDevice.\n\n    The code gracefully handles the lack of the capability since it is\n    optional or Libvirt may not support it in a particular release.\n* Pass the serial number to Neutron in port updates\n  If a card serial number is present based on the information from PCI\n  VPD, pass it to Neutron along with other PCI-related information.\n\nA corresponding Libvirt change (to be merged).\n\nhttps://listman.redhat.com/archives/libvir-list/2021-October/msg00546.html\n\nChange-Id: I6445433142286728a8c7efadcf80d07082d60bc3\nDepends-On: I07ef52769da72cde8867f996111b7df4a80e4d79\n'}, {'number': 8, 'created': '2021-11-19 16:53:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e228a361f79148f695b1ea5b4c2fae6b8ae2c586', 'message': '[yoga] Add PCI VPD Capability Handling\n\nThis change comes as a part of the ""Off-path Networking Backends\nSupport"" spec implementation.\n\nhttps://review.opendev.org/c/openstack/nova-specs/+/787458\n\n* Add VPD capability parsing support\n  * The XML data from libvirt is parsed and formatted into PCI device\n    JSON dict that is sent to Nova API and is stored in the extra_info\n    column of a PciDevice.\n\n    The code gracefully handles the lack of the capability since it is\n    optional or Libvirt may not support it in a particular release.\n* Pass the serial number to Neutron in port updates\n  If a card serial number is present based on the information from PCI\n  VPD, pass it to Neutron along with other PCI-related information.\n\nA corresponding Libvirt change (to be merged).\n\nhttps://listman.redhat.com/archives/libvir-list/2021-October/msg00546.html\n\nChange-Id: I6445433142286728a8c7efadcf80d07082d60bc3\nDepends-On: I07ef52769da72cde8867f996111b7df4a80e4d79\n'}, {'number': 9, 'created': '2021-11-19 20:11:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cfc89a48550a07ab6fe817225057b8383beae19c', 'message': '[yoga] Add PCI VPD Capability Handling\n\nThis change comes as a part of the ""Off-path Networking Backends\nSupport"" spec implementation.\n\nhttps://review.opendev.org/c/openstack/nova-specs/+/787458\n\n* Add VPD capability parsing support\n  * The XML data from libvirt is parsed and formatted into PCI device\n    JSON dict that is sent to Nova API and is stored in the extra_info\n    column of a PciDevice.\n\n    The code gracefully handles the lack of the capability since it is\n    optional or Libvirt may not support it in a particular release.\n    https://libvirt.org/news.html#v7-9-0-2021-11-01 (VPD capability\n    was added in 7.9.0).\n* Pass the serial number to Neutron in port updates\n  If a card serial number is present based on the information from PCI\n  VPD, pass it to Neutron along with other PCI-related information.\n\nChange-Id: I6445433142286728a8c7efadcf80d07082d60bc3\nImplements: blueprint integration-with-off-path-network-backends\n'}, {'number': 10, 'created': '2021-11-22 22:06:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cff864a8ed50b40682336ac44561121fd2cba042', 'message': '[yoga] Add PCI VPD Capability Handling\n\nThis change comes as a part of the ""Off-path Networking Backends\nSupport"" spec implementation.\n\nhttps://review.opendev.org/c/openstack/nova-specs/+/787458\n\n* Add VPD capability parsing support\n  * The XML data from libvirt is parsed and formatted into PCI device\n    JSON dict that is sent to Nova API and is stored in the extra_info\n    column of a PciDevice.\n\n    The code gracefully handles the lack of the capability since it is\n    optional or Libvirt may not support it in a particular release.\n    https://libvirt.org/news.html#v7-9-0-2021-11-01 (VPD capability\n    was added in 7.9.0).\n* Pass the serial number to Neutron in port updates\n  If a card serial number is present based on the information from PCI\n  VPD, pass it to Neutron along with other PCI-related information.\n\nChange-Id: I6445433142286728a8c7efadcf80d07082d60bc3\nImplements: blueprint integration-with-off-path-network-backends\n'}, {'number': 11, 'created': '2021-11-24 20:02:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/624202aee051cfd3232e12ab994779144b0f5c44', 'message': '[yoga] Add PCI VPD Capability Handling\n\nThis change comes as a part of the ""Off-path Networking Backends\nSupport"" spec implementation.\n\nhttps://review.opendev.org/c/openstack/nova-specs/+/787458\n\n* Add VPD capability parsing support\n  * The XML data from libvirt is parsed and formatted into PCI device\n    JSON dict that is sent to Nova API and is stored in the extra_info\n    column of a PciDevice.\n\n    The code gracefully handles the lack of the capability since it is\n    optional or Libvirt may not support it in a particular release.\n    https://libvirt.org/news.html#v7-9-0-2021-11-01 (VPD capability\n    was added in 7.9.0).\n* Pass the serial number to Neutron in port updates\n  If a card serial number is present based on the information from PCI\n  VPD, pass it to Neutron along with other PCI-related information.\n\nChange-Id: I6445433142286728a8c7efadcf80d07082d60bc3\nImplements: blueprint integration-with-off-path-network-backends\n'}, {'number': 12, 'created': '2022-01-13 11:57:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7b8d37b592cfcb1f223538b4193de7cd3c2397a4', 'message': '[yoga] Add PCI VPD Capability Handling\n\nThis change comes as a part of the ""Off-path Networking Backends\nSupport"" spec implementation.\n\nhttps://review.opendev.org/c/openstack/nova-specs/+/787458\n\n* Add VPD capability parsing support\n  * The XML data from libvirt is parsed and formatted into PCI device\n    JSON dict that is sent to Nova API and is stored in the extra_info\n    column of a PciDevice.\n\n    The code gracefully handles the lack of the capability since it is\n    optional or Libvirt may not support it in a particular release.\n    https://libvirt.org/news.html#v7-9-0-2021-11-01 (VPD capability\n    was added in 7.9.0).\n* Pass the serial number to Neutron in port updates\n  If a card serial number is present based on the information from PCI\n  VPD, pass it to Neutron along with other PCI-related information.\n\nChange-Id: I6445433142286728a8c7efadcf80d07082d60bc3\nImplements: blueprint integration-with-off-path-network-backends\n'}, {'number': 13, 'created': '2022-01-16 20:56:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c2929f74dd2800a1d3c870aff796421908753b7e', 'message': '[yoga] Add PCI VPD Capability Handling\n\nThis change comes as a part of the ""Off-path Networking Backends\nSupport"" spec implementation.\n\nhttps://review.opendev.org/c/openstack/nova-specs/+/787458\n\n* Add VPD capability parsing support\n  * The XML data from libvirt is parsed and formatted into PCI device\n    JSON dict that is sent to Nova API and is stored in the extra_info\n    column of a PciDevice.\n\n    The code gracefully handles the lack of the capability since it is\n    optional or Libvirt may not support it in a particular release.\n    https://libvirt.org/news.html#v7-9-0-2021-11-01 (VPD capability\n    was added in 7.9.0).\n* Pass the serial number to Neutron in port updates\n  If a card serial number is present based on the information from PCI\n  VPD, pass it to Neutron along with other PCI-related information.\n\nChange-Id: I6445433142286728a8c7efadcf80d07082d60bc3\nImplements: blueprint integration-with-off-path-network-backends\n'}, {'number': 14, 'created': '2022-01-27 21:25:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e43f72c90861da600bc2cd7bbebce4353cf241a6', 'message': '[yoga] Add PCI VPD Capability Handling\n\nThis change comes as a part of the ""Off-path Networking Backends\nSupport"" spec implementation.\n\nhttps://review.opendev.org/c/openstack/nova-specs/+/787458\n\n* Add VPD capability parsing support\n  * The XML data from libvirt is parsed and formatted into PCI device\n    JSON dict that is sent to Nova API and is stored in the extra_info\n    column of a PciDevice.\n\n    The code gracefully handles the lack of the capability since it is\n    optional or Libvirt may not support it in a particular release.\n    https://libvirt.org/news.html#v7-9-0-2021-11-01 (VPD capability\n    was added in 7.9.0).\n* Pass the serial number to Neutron in port updates\n  If a card serial number is present based on the information from PCI\n  VPD, pass it to Neutron along with other PCI-related information.\n\nChange-Id: I6445433142286728a8c7efadcf80d07082d60bc3\nImplements: blueprint integration-with-off-path-network-backends\n'}, {'number': 15, 'created': '2022-01-31 15:53:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6c6cacc8df5f66c25f25fdc877a948dc9c47a485', 'message': '[yoga] Add PCI VPD Capability Handling\n\nThis change comes as a part of the ""Off-path Networking Backends\nSupport"" spec implementation.\n\nhttps://review.opendev.org/c/openstack/nova-specs/+/787458\n\n* Add VPD capability parsing support\n  * The XML data from libvirt is parsed and formatted into PCI device\n    JSON dict that is sent to Nova API and is stored in the extra_info\n    column of a PciDevice.\n\n    The code gracefully handles the lack of the capability since it is\n    optional or Libvirt may not support it in a particular release.\n    https://libvirt.org/news.html#v7-9-0-2021-11-01 (VPD capability\n    was added in 7.9.0).\n* Pass the serial number to Neutron in port updates\n  If a card serial number is present based on the information from PCI\n  VPD, pass it to Neutron along with other PCI-related information.\n\nChange-Id: I6445433142286728a8c7efadcf80d07082d60bc3\nImplements: blueprint integration-with-off-path-network-backends\n'}, {'number': 16, 'created': '2022-02-01 14:58:13.000000000', 'files': ['nova/objects/pci_device.py', 'nova/tests/unit/virt/libvirt/test_host.py', 'nova/tests/unit/network/test_neutron.py', 'nova/tests/unit/objects/test_pci_device.py', 'nova/virt/libvirt/driver.py', 'nova/virt/libvirt/host.py', 'nova/network/neutron.py', 'nova/virt/libvirt/config.py', 'nova/tests/unit/virt/libvirt/test_config.py', 'nova/tests/fixtures/libvirt_data.py', 'releasenotes/notes/pci-vpd-capability-0d8039629db4afb8.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/ab49f97b2c08294234c7bfd3dedb75780ca519e6', 'message': '[yoga] Add PCI VPD Capability Handling\n\nThis change comes as a part of the ""Off-path Networking Backends\nSupport"" spec implementation.\n\nhttps://review.opendev.org/c/openstack/nova-specs/+/787458\n\n* Add VPD capability parsing support\n  * The XML data from libvirt is parsed and formatted into PCI device\n    JSON dict that is sent to Nova API and is stored in the extra_info\n    column of a PciDevice.\n\n    The code gracefully handles the lack of the capability since it is\n    optional or Libvirt may not support it in a particular release.\n    https://libvirt.org/news.html#v7-9-0-2021-11-01 (VPD capability\n    was added in 7.9.0).\n* Pass the serial number to Neutron in port updates\n  If a card serial number is present based on the information from PCI\n  VPD, pass it to Neutron along with other PCI-related information.\n\nChange-Id: I6445433142286728a8c7efadcf80d07082d60bc3\nImplements: blueprint integration-with-off-path-network-backends\n'}]",104,808199,ab49f97b2c08294234c7bfd3dedb75780ca519e6,178,6,16,24824,,,0,"[yoga] Add PCI VPD Capability Handling

This change comes as a part of the ""Off-path Networking Backends
Support"" spec implementation.

https://review.opendev.org/c/openstack/nova-specs/+/787458

* Add VPD capability parsing support
  * The XML data from libvirt is parsed and formatted into PCI device
    JSON dict that is sent to Nova API and is stored in the extra_info
    column of a PciDevice.

    The code gracefully handles the lack of the capability since it is
    optional or Libvirt may not support it in a particular release.
    https://libvirt.org/news.html#v7-9-0-2021-11-01 (VPD capability
    was added in 7.9.0).
* Pass the serial number to Neutron in port updates
  If a card serial number is present based on the information from PCI
  VPD, pass it to Neutron along with other PCI-related information.

Change-Id: I6445433142286728a8c7efadcf80d07082d60bc3
Implements: blueprint integration-with-off-path-network-backends
",git fetch https://review.opendev.org/openstack/nova refs/changes/99/808199/16 && git format-patch -1 --stdout FETCH_HEAD,"['nova/pci/devspec.py', 'nova/pci/utils.py', 'nova/tests/unit/network/test_neutron.py', 'nova/virt/libvirt/host.py', 'nova/virt/libvirt/config.py', 'nova/tests/unit/virt/libvirt/test_config.py', 'nova/tests/fixtures/libvirt_data.py', 'nova/tests/unit/pci/test_whitelist.py', 'nova/objects/pci_device.py', 'nova/tests/unit/virt/libvirt/test_host.py', 'nova/exception.py', 'nova/network/neutron.py', 'nova/conf/pci.py', 'nova/network/model.py', 'nova/pci/request.py', 'nova/tests/unit/pci/test_devspec.py', 'nova/tests/unit/pci/test_utils.py']",17,a4187f75152339293dca78842079c34810548f75,2021-09-10-off-path-net-backends-dep," class GetPfPciAddressByVfPciAddressTestCase(test.NoDBTestCase): PF_PCI_ADDRESS = '0000:82:00.0' VF_PCI_ADDRESS = '0000:82:00.1' def setUp(self): super(GetPfPciAddressByVfPciAddressTestCase, self).setUp() @mock.patch('os.path.isdir', return_value=False) def test_pci_device_does_not_exist(self, mock_isdir): self.assertRaises(exception.PciDeviceNotFoundById, utils.get_pf_pci_address_by_vf_pci_address, self.VF_PCI_ADDRESS) @mock.patch('os.path.islink', return_value=False) @mock.patch('os.path.isdir', side_effect=( lambda p: p == '/sys/bus/pci/devices/0000:82:00.1')) def test_pci_device_physfn_is_not_a_link(self, mock_isdir, mock_islink): self.assertRaises(exception.PciDeviceIsNotVF, utils.get_pf_pci_address_by_vf_pci_address, self.VF_PCI_ADDRESS) @mock.patch('os.readlink', side_effect=( lambda p: {'/sys/bus/pci/devices/0000:82:00.1/physfn': '../42'}.get(p))) @mock.patch('os.path.islink', side_effect=( lambda p: p == '/sys/bus/pci/devices/0000:82:00.1/physfn')) @mock.patch('os.path.isdir', side_effect=( lambda p: p == '/sys/bus/pci/devices/0000:82:00.1')) def test_pci_device_physfn_invalid_link(self, mock_isdir, mock_islink, mock_readlink): self.assertRaises(exception.PciDeviceWrongAddressFormat, utils.get_pf_pci_address_by_vf_pci_address, self.VF_PCI_ADDRESS) @mock.patch('os.readlink', side_effect=( lambda p: {'/sys/bus/pci/devices/0000:82:00.1/physfn': '../0000:82:00.0'}.get(p))) @mock.patch('os.path.islink', side_effect=( lambda p: p == '/sys/bus/pci/devices/0000:82:00.1/physfn')) @mock.patch('os.path.isdir', side_effect=( lambda p: p == '/sys/bus/pci/devices/0000:82:00.1')) def test_pci_device_physfn(self, mock_isdir, mock_islink, mock_readlink): actual_pf_addr = utils.get_pf_pci_address_by_vf_pci_address( self.VF_PCI_ADDRESS) self.assertEqual(actual_pf_addr, self.PF_PCI_ADDRESS) class GetPfMacByVfPciAddressTestCase(test.NoDBTestCase): VF_PCI_ADDRESS = '0000:82:00.1' def setUp(self): super(GetPfMacByVfPciAddressTestCase, self).setUp() @mock.patch('nova.pci.utils.get_pf_pci_address_by_vf_pci_address', side_effect=( lambda vf_a: {'0000:82:00.1': '0000:82:00.0'}.get(vf_a) )) @mock.patch('nova.pci.utils.get_mac_by_pci_address', side_effect=( lambda pf_a: {'0000:82:00.0': 'de:ad:be:ef:ca:fe'}.get(pf_a))) def test_get_pf_mac(self, mock_get_mac_by_pci_address, mock_get_pf_pci_address_by_vf_pci_address): self.assertEqual( utils.get_pf_mac_by_vf_pci_address(self.VF_PCI_ADDRESS), 'de:ad:be:ef:ca:fe')",,729,38
openstack%2Fkolla~master~Iad7e7ebb1fbf4d14f20960d6257345db71d0e214,openstack/kolla,master,Iad7e7ebb1fbf4d14f20960d6257345db71d0e214,collectd: pcie-errors is x86-64 only now,MERGED,2022-02-04 16:15:45.000000000,2022-02-05 07:38:02.000000000,2022-02-04 23:29:10.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-02-04 16:15:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/1a6f55a00dbb83aaa5ec3b45387f2b7b8d1aaa16', 'message': 'collectd: pcie-errors is x86-64 only now\n\nChange-Id: Iad7e7ebb1fbf4d14f20960d6257345db71d0e214\n'}, {'number': 2, 'created': '2022-02-04 20:39:17.000000000', 'files': ['docker/collectd/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/941d021e091567d2709bbb868768c6dc4a3372e0', 'message': 'collectd: pcie-errors is x86-64 only now\n\nChange-Id: Iad7e7ebb1fbf4d14f20960d6257345db71d0e214\n'}]",4,827883,941d021e091567d2709bbb868768c6dc4a3372e0,15,4,2,24072,,,0,"collectd: pcie-errors is x86-64 only now

Change-Id: Iad7e7ebb1fbf4d14f20960d6257345db71d0e214
",git fetch https://review.opendev.org/openstack/kolla refs/changes/83/827883/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/collectd/Dockerfile.j2'],1,1a6f55a00dbb83aaa5ec3b45387f2b7b8d1aaa16,, 'collectd-pcie-errors', {% if base_arch != 's390x' %} {% set collectd_packages = collectd_packages + [ 'collectd-pcie-errors' ] %} {% endif %} ,1,6
openstack%2Fpuppet-openstack-integration~master~I6f766331e7e4f2f0b97ca4e9a3e655a480ecb28f,openstack/puppet-openstack-integration,master,I6f766331e7e4f2f0b97ca4e9a3e655a480ecb28f,Tempest: Update options to include/exclude tests,MERGED,2022-02-03 16:02:04.000000000,2022-02-05 05:00:12.000000000,2022-02-05 05:00:12.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-03 16:02:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/b8844ea21a854f3672a349bfa60372bfe1379446', 'message': 'Tempest: Update options to include/exclude tests\n\nSome options to include/exclude specific tests have been updated[1] in\nTempest and old options are deprecated now.\n\n[1] dc84423b7294a19cbea4bf1e4b75a59625dec1e9\n\nChange-Id: I6f766331e7e4f2f0b97ca4e9a3e655a480ecb28f\n'}, {'number': 2, 'created': '2022-02-03 16:04:06.000000000', 'files': ['run_tests.sh'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/dab263aae2f473e1587f8b6d8acd7fcc8755b67c', 'message': 'Tempest: Update options to include/exclude tests\n\nSome options to include/exclude specific tests have been updated[1] in\nTempest and old options are deprecated now.\n\n[1] dc84423b7294a19cbea4bf1e4b75a59625dec1e9\n\nChange-Id: I6f766331e7e4f2f0b97ca4e9a3e655a480ecb28f\n'}]",2,827702,dab263aae2f473e1587f8b6d8acd7fcc8755b67c,14,3,2,9816,,,0,"Tempest: Update options to include/exclude tests

Some options to include/exclude specific tests have been updated[1] in
Tempest and old options are deprecated now.

[1] dc84423b7294a19cbea4bf1e4b75a59625dec1e9

Change-Id: I6f766331e7e4f2f0b97ca4e9a3e655a480ecb28f
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/02/827702/2 && git format-patch -1 --stdout FETCH_HEAD,['run_tests.sh'],1,b8844ea21a854f3672a349bfa60372bfe1379446,,"$SUDO touch /tmp/openstack/tempest/test-include-list.txt /tmp/openstack/tempest/test-exclude-list.txtecho ""smoke"" > /tmp/openstack/tempest/test-include-list.txtecho ""dashboard"" >> /tmp/openstack/tempest/test-include-list.txtecho ""TelemetryAlarming"" >> /tmp/openstack/tempest/test-include-list.txtecho ""telemetry_tempest_plugin.gnocchi"" >> /tmp/openstack/tempest/test-include-list.txtecho ""TestEvents"" >> /tmp/openstack/tempest/test-include-list.txtuses_debs || echo ""test_telemetry_integration"" >> /tmp/openstack/tempest/test-include-list.txtecho ""ironic_tempest_plugin.tests.api.admin.test_drivers"" >> /tmp/openstack/tempest/test-include-list.txt#echo ""test_create_list_sign_delete_clusters"" >> /tmp/openstack/tempest/test-include-list.txtecho ""v2.test_queues.TestManageQueue"" >> /tmp/openstack/tempest/test-include-list.txtecho ""ec2api_tempest_plugin.api.*test_create_delete(?!.*_vpn_connection)"" >> /tmp/openstack/tempest/test-include-list.txtecho ""VolumesBackupsAdminV2Test"" >> /tmp/openstack/tempest/test-include-list.txtecho ""TestEncryptedCinderVolumes"" >> /tmp/openstack/tempest/test-include-list.txtecho ""test_create_and_delete_workflow"" >> /tmp/openstack/tempest/test-include-list.txtecho ""test_create_bgpvpn"" >> /tmp/openstack/tempest/test-include-list.txtecho ""test_create_show_list_update_delete_l2gateway"" >> /tmp/openstack/tempest/test-include-list.txt echo ""mistral_tempest_tests.tests.api.v2.test_executions.ExecutionTestsV2.test_get_list_executions"" > /tmp/openstack/tempest/test-exclude-list.txt echo ""tempest.*.scenario.test_dashboard_basic_ops.TestDashboardBasicOps.test_basic_scenario"" >> /tmp/openstack/tempest/test-exclude-list.txt echo ""telemetry_tempest_plugin.scenario.test_telemetry_integration.TestTelemetryIntegration"" >> /tmp/openstack/tempest/test-exclude-list.txt echo ""tempest.api.object_storage"" >> /tmp/openstack/tempest/test-exclude-list.txt EXCLUDES=""--exclude-list=/tmp/openstack/tempest/test-exclude-list.txt"" # https://review.opendev.org/#/c/504345/ has changed the behavior of tempest when running with --regex and --include-list-file # us to run it until we can implement --exclude-list-file in a stable way. # Note(chandankumar): exclude-list tempest_horizon.tests.scenario.test_dashboard_basic_ops test as they are currently flacky in CI on CentOS$tempest_binary run -l --include-list=/tmp/openstack/tempest/test-include-list.txt$tempest_binary run --include-list=/tmp/openstack/tempest/test-include-list.txt --concurrency=2 $EXCLUDES","$SUDO touch /tmp/openstack/tempest/test-whitelist.txt /tmp/openstack/tempest/test-blacklist.txtecho ""smoke"" > /tmp/openstack/tempest/test-whitelist.txtecho ""dashboard"" >> /tmp/openstack/tempest/test-whitelist.txtecho ""TelemetryAlarming"" >> /tmp/openstack/tempest/test-whitelist.txtecho ""telemetry_tempest_plugin.gnocchi"" >> /tmp/openstack/tempest/test-whitelist.txtecho ""TestEvents"" >> /tmp/openstack/tempest/test-whitelist.txtuses_debs || echo ""test_telemetry_integration"" >> /tmp/openstack/tempest/test-whitelist.txtecho ""ironic_tempest_plugin.tests.api.admin.test_drivers"" >> /tmp/openstack/tempest/test-whitelist.txt#echo ""test_create_list_sign_delete_clusters"" >> /tmp/openstack/tempest/test-whitelist.txtecho ""v2.test_queues.TestManageQueue"" >> /tmp/openstack/tempest/test-whitelist.txtecho ""ec2api_tempest_plugin.api.*test_create_delete(?!.*_vpn_connection)"" >> /tmp/openstack/tempest/test-whitelist.txtecho ""VolumesBackupsAdminV2Test"" >> /tmp/openstack/tempest/test-whitelist.txtecho ""TestEncryptedCinderVolumes"" >> /tmp/openstack/tempest/test-whitelist.txtecho ""test_create_and_delete_workflow"" >> /tmp/openstack/tempest/test-whitelist.txtecho ""test_create_bgpvpn"" >> /tmp/openstack/tempest/test-whitelist.txtecho ""test_create_show_list_update_delete_l2gateway"" >> /tmp/openstack/tempest/test-whitelist.txt echo ""mistral_tempest_tests.tests.api.v2.test_executions.ExecutionTestsV2.test_get_list_executions"" > /tmp/openstack/tempest/test-blacklist.txt echo ""tempest.*.scenario.test_dashboard_basic_ops.TestDashboardBasicOps.test_basic_scenario"" >> /tmp/openstack/tempest/test-blacklist.txt echo ""telemetry_tempest_plugin.scenario.test_telemetry_integration.TestTelemetryIntegration"" >> /tmp/openstack/tempest/test-blacklist.txt echo ""tempest.api.object_storage"" >> /tmp/openstack/tempest/test-blacklist.txt EXCLUDES=""--blacklist-file=/tmp/openstack/tempest/test-blacklist.txt"" # https://review.opendev.org/#/c/504345/ has changed the behavior of tempest when running with --regex and --whitelist-file # us to run it until we can implement --blacklist-file in a stable way. # Note(chandankumar): Blacklist tempest_horizon.tests.scenario.test_dashboard_basic_ops test as they are currently flacky in CI on CentOS$tempest_binary run -l --whitelist_file=/tmp/openstack/tempest/test-whitelist.txt$tempest_binary run --whitelist_file=/tmp/openstack/tempest/test-whitelist.txt --concurrency=2 $EXCLUDES",26,26
openstack%2Fpuppet-aodh~master~I0dd1bf37160e76856d8055e033aa0d0c3ca4a244,openstack/puppet-aodh,master,I0dd1bf37160e76856d8055e033aa0d0c3ca4a244,Use generated script instead of app.wsgi,MERGED,2022-02-04 00:16:14.000000000,2022-02-05 04:48:01.000000000,2022-02-05 04:48:01.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-04 00:16:14.000000000', 'files': ['spec/classes/aodh_wsgi_apache_spec.rb', 'manifests/params.pp'], 'web_link': 'https://opendev.org/openstack/puppet-aodh/commit/2bf346a6dd0de295ae7832fa93de3aa64521d437', 'message': 'Use generated script instead of app.wsgi\n\nChange-Id: I0dd1bf37160e76856d8055e033aa0d0c3ca4a244\n'}]",1,827781,2bf346a6dd0de295ae7832fa93de3aa64521d437,12,3,1,9816,,,0,"Use generated script instead of app.wsgi

Change-Id: I0dd1bf37160e76856d8055e033aa0d0c3ca4a244
",git fetch https://review.opendev.org/openstack/puppet-aodh refs/changes/81/827781/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/aodh_wsgi_apache_spec.rb', 'manifests/params.pp']",2,2bf346a6dd0de295ae7832fa93de3aa64521d437,wsgi-script, $aodh_wsgi_script_source = '/usr/bin/aodh-api', $aodh_wsgi_script_source = '/usr/share/aodh/app.wsgi',2,2
openstack%2Fproject-config~master~Iba9332655cd98c4c3b1f8eae70775313abc0b220,openstack/project-config,master,Iba9332655cd98c4c3b1f8eae70775313abc0b220,Normalize projects.yaml,MERGED,2022-02-05 02:52:47.000000000,2022-02-05 04:43:51.000000000,2022-02-05 04:38:19.000000000,"[{'_account_id': 5263}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-05 02:52:47.000000000', 'files': ['gerrit/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/ccb14469e8c64fc8f1386bb7ad05579dd0df6e0c', 'message': 'Normalize projects.yaml\n\nChange-Id: Iba9332655cd98c4c3b1f8eae70775313abc0b220\n'}]",0,827938,ccb14469e8c64fc8f1386bb7ad05579dd0df6e0c,7,2,1,11131,,,0,"Normalize projects.yaml

Change-Id: Iba9332655cd98c4c3b1f8eae70775313abc0b220
",git fetch https://review.opendev.org/openstack/project-config refs/changes/38/827938/1 && git format-patch -1 --stdout FETCH_HEAD,['gerrit/projects.yaml'],1,ccb14469e8c64fc8f1386bb7ad05579dd0df6e0c,project-yaml-normalization,, upstream: https://github.com/osfrickler/cirros.git,0,1
openstack%2Fcinder~stable%2Fwallaby~I6576832b2c2722ab749cfe70bbc2058ead816c36,openstack/cinder,stable/wallaby,I6576832b2c2722ab749cfe70bbc2058ead816c36,Expose volume_attachments in Volume OVO,MERGED,2021-11-23 11:52:30.000000000,2022-02-05 04:04:15.000000000,2022-02-05 04:01:58.000000000,"[{'_account_id': 1736}, {'_account_id': 22348}, {'_account_id': 27615}]","[{'number': 1, 'created': '2021-11-23 11:52:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b0539c8b190f14f55785666e0e09b25b9bc72c60', 'message': 'Expose volume_attachments in Volume OVO\n\nIn change-id Iabf9c3fab56ffef50695ce45745f193273822b39 we left the\n`volume_attachment` out of the expected attributes of the Volume OVO\n(even when te DB layer is providing that information) because it was\nbreaking some unit tests.\n\nThis means that in some cases we are unnecessarily loading the\nattachments again (manually or via lazy loading) once we have the volume\nOVO because that field is not set.\n\nIn this patch we populate the `volume_attachment` when we load the\nVolume OVO from the DB.\n\nChange-Id: I6576832b2c2722ab749cfe70bbc2058ead816c36\n(cherry picked from commit e07bf3787a7c1a8a55b8f69290cf6166719f6a5e)\nConflicts:\n\tcinder/objects/volume.py\n\tcinder/tests/unit/objects/test_volume.py\n'}, {'number': 2, 'created': '2022-01-17 16:18:48.000000000', 'files': ['cinder/tests/unit/volume/flows/test_create_volume_flow.py', 'cinder/objects/volume.py', 'cinder/tests/unit/fake_volume.py', 'cinder/tests/unit/utils.py', 'cinder/tests/unit/objects/test_volume.py', 'cinder/tests/unit/volume/test_volume_migration.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/a5b67fd959fb837120745e1a2757f18060dd6ecc', 'message': 'Expose volume_attachments in Volume OVO\n\nIn change-id Iabf9c3fab56ffef50695ce45745f193273822b39 we left the\n`volume_attachment` out of the expected attributes of the Volume OVO\n(even when te DB layer is providing that information) because it was\nbreaking some unit tests.\n\nThis means that in some cases we are unnecessarily loading the\nattachments again (manually or via lazy loading) once we have the volume\nOVO because that field is not set.\n\nIn this patch we populate the `volume_attachment` when we load the\nVolume OVO from the DB.\n\nChange-Id: I6576832b2c2722ab749cfe70bbc2058ead816c36\n(cherry picked from commit e07bf3787a7c1a8a55b8f69290cf6166719f6a5e)\nConflicts:\n\tcinder/objects/volume.py\n\tcinder/tests/unit/objects/test_volume.py\n(cherry picked from commit e85c22cef7bd502db44f837e626b7262f4dc8241)\n'}]",5,818885,a5b67fd959fb837120745e1a2757f18060dd6ecc,54,3,2,9535,,,0,"Expose volume_attachments in Volume OVO

In change-id Iabf9c3fab56ffef50695ce45745f193273822b39 we left the
`volume_attachment` out of the expected attributes of the Volume OVO
(even when te DB layer is providing that information) because it was
breaking some unit tests.

This means that in some cases we are unnecessarily loading the
attachments again (manually or via lazy loading) once we have the volume
OVO because that field is not set.

In this patch we populate the `volume_attachment` when we load the
Volume OVO from the DB.

Change-Id: I6576832b2c2722ab749cfe70bbc2058ead816c36
(cherry picked from commit e07bf3787a7c1a8a55b8f69290cf6166719f6a5e)
Conflicts:
	cinder/objects/volume.py
	cinder/tests/unit/objects/test_volume.py
(cherry picked from commit e85c22cef7bd502db44f837e626b7262f4dc8241)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/85/818885/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/flows/test_create_volume_flow.py', 'cinder/objects/volume.py', 'cinder/tests/unit/fake_volume.py', 'cinder/tests/unit/utils.py', 'cinder/tests/unit/objects/test_volume.py', 'cinder/tests/unit/volume/test_volume_migration.py']",6,b0539c8b190f14f55785666e0e09b25b9bc72c60,detach-vol-status," volume = tests_utils.attach_volume( self.context, volume, fake_uuid, attached_host, '/dev/vda') self.assertIsNotNone(volume.volume_attachment[0].id) self.assertEqual(fake_uuid, volume.volume_attachment[0].instance_uuid) self.assertEqual('in-use', volume.status) old_volume = tests_utils.attach_volume(self.context, old_volume, instance_uuid, attached_host, '/dev/vda') self.assertEqual('in-use', old_volume.status) attachment = old_volume.volume_attachment[0]"," volume_attach = tests_utils.attach_volume( self.context, volume['id'], fake_uuid, attached_host, '/dev/vda') self.assertIsNotNone(volume_attach['volume_attachment'][0]['id']) self.assertEqual( fake_uuid, volume_attach['volume_attachment'][0]['instance_uuid']) self.assertEqual('in-use', volume_attach['status']) vol = tests_utils.attach_volume(self.context, old_volume.id, instance_uuid, attached_host, '/dev/vda') self.assertEqual('in-use', vol['status']) attachment = vol['volume_attachment'][0]",43,21
openstack%2Ftripleo-heat-templates~master~I8ee338c3f3e20f1826d98efb38d3b21fefda5031,openstack/tripleo-heat-templates,master,I8ee338c3f3e20f1826d98efb38d3b21fefda5031,Add parameter IronicIPXEUefiSnpOnly,MERGED,2022-02-02 02:51:12.000000000,2022-02-05 03:54:19.000000000,2022-02-05 03:52:38.000000000,"[{'_account_id': 4571}, {'_account_id': 6926}, {'_account_id': 11655}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 27419}]","[{'number': 1, 'created': '2022-02-02 02:51:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/16a9b4941c447d49df44aeddb2fd9fda99a669d4', 'message': ""Add parameter IronicIPXEUefiSnpOnly\n\nAdd new parameter IronicIPXEUefiSnpOnly (default: true).\nWhen `true` ipxe-snponly.efi is used for UEFI, when `false` ipxe.efi\nis used.\n\n'snponly.efi' is the default in puppet-ironic master branch, however\nin Wallaby and earlier releases 'ipxe.efi' is the default. Since\n'ipxe.efi' is not compatible with a lot of hardware TripleO should\nchange this default.\n\nRelated: RHBZ#2049179\nCloses-Bug: 1959726\nChange-Id: I8ee338c3f3e20f1826d98efb38d3b21fefda5031\n""}, {'number': 2, 'created': '2022-02-02 22:45:54.000000000', 'files': ['deployment/ironic/ironic-conductor-container-puppet.yaml', 'releasenotes/notes/uefi_ipxe_bootfile_name-f2c9cc8971dc1ed8.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/bd13adefd106864504240566d2a3530211cc464f', 'message': ""Add parameter IronicIPXEUefiSnpOnly\n\nAdd new parameter IronicIPXEUefiSnpOnly (default: true).\nWhen `true` ipxe-snponly.efi is used for UEFI, when `false` ipxe.efi\nis used.\n\n'snponly.efi' is the default in puppet-ironic master branch, however\nin Wallaby and earlier releases 'ipxe.efi' is the default. Since\n'ipxe.efi' is not compatible with a lot of hardware TripleO should\nchange this default.\n\nRelated: RHBZ#2049179\nCloses-Bug: 1959726\nChange-Id: I8ee338c3f3e20f1826d98efb38d3b21fefda5031\n""}]",1,827387,bd13adefd106864504240566d2a3530211cc464f,16,7,2,24245,,,0,"Add parameter IronicIPXEUefiSnpOnly

Add new parameter IronicIPXEUefiSnpOnly (default: true).
When `true` ipxe-snponly.efi is used for UEFI, when `false` ipxe.efi
is used.

'snponly.efi' is the default in puppet-ironic master branch, however
in Wallaby and earlier releases 'ipxe.efi' is the default. Since
'ipxe.efi' is not compatible with a lot of hardware TripleO should
change this default.

Related: RHBZ#2049179
Closes-Bug: 1959726
Change-Id: I8ee338c3f3e20f1826d98efb38d3b21fefda5031
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/87/827387/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/ironic/ironic-conductor-container-puppet.yaml', 'releasenotes/notes/uefi_ipxe_bootfile_name-f2c9cc8971dc1ed8.yaml']",2,16a9b4941c447d49df44aeddb2fd9fda99a669d4,bug/1959726,"--- upgrade: - | The default UEFI iPXE bootfile is now `snponly.efi`. The boolean parameter `IronicIPXEUefiSnpOnly` was added to allow custom configuration. When set to `true` snponly is used, when `false` the previous default ipxe.efi is used. See bug: `1959726 <https://bugs.launchpad.net/tripleo/+bug/1959726>`_. ",,20,0
openstack%2Ftripleo-quickstart-extras~master~I3d5146041df88fbcaad6b0f6d6dcb05d734251b0,openstack/tripleo-quickstart-extras,master,I3d5146041df88fbcaad6b0f6d6dcb05d734251b0,Add identity.v3_endpoint_type to extra facts in tempestconf,MERGED,2022-02-03 23:59:02.000000000,2022-02-05 03:52:45.000000000,2022-02-05 03:52:45.000000000,"[{'_account_id': 9976}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30002}]","[{'number': 1, 'created': '2022-02-03 23:59:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/681c4a2c1927164851f24dfbaa3c6bb034e8bb97', 'message': ""Add identity.v3_endpoint_type to extra facts in tempestconf\n\nSome tests are failing because it's using the adminURL instead of\npublicURL. This patch add the config option to tempestconf to force the\nuse of the publicURL.\n\nChange-Id: I3d5146041df88fbcaad6b0f6d6dcb05d734251b0\nRelated-Bug: #1959930\n""}, {'number': 2, 'created': '2022-02-04 06:06:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/980e94d411f0af92034aece5b8ad82e85e246335', 'message': ""Add identity.v3_endpoint_type to extra facts in tempestconf\n\nSome tests are failing because it's using the adminURL instead of\npublicURL. This patch add the config option to tempestconf to force the\nuse of the publicURL.\n\nChange-Id: I3d5146041df88fbcaad6b0f6d6dcb05d734251b0\nRelated-Bug: #1959930\n""}, {'number': 3, 'created': '2022-02-04 09:20:38.000000000', 'files': ['playbooks/tasks/tempest.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/67cf0fbabc101affc3b53dee3e23e4f66946073d', 'message': ""Add identity.v3_endpoint_type to extra facts in tempestconf\n\nSome tests are failing because it's using the adminURL instead of\npublicURL. This patch add the config option to tempestconf to force the\nuse of the publicURL.\n\nChange-Id: I3d5146041df88fbcaad6b0f6d6dcb05d734251b0\nRelated-Bug: #1959930\n""}]",2,827779,67cf0fbabc101affc3b53dee3e23e4f66946073d,20,4,3,8367,,,0,"Add identity.v3_endpoint_type to extra facts in tempestconf

Some tests are failing because it's using the adminURL instead of
publicURL. This patch add the config option to tempestconf to force the
use of the publicURL.

Change-Id: I3d5146041df88fbcaad6b0f6d6dcb05d734251b0
Related-Bug: #1959930
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/79/827779/2 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/tasks/tempest.yml'],1,681c4a2c1927164851f24dfbaa3c6bb034e8bb97,bug/1959930, - name: Set extra facts for tempestconf overrides: - identity.v3_endpoint_type: public, - name: set cirros image facts for periodic,3,1
openstack%2Ftripleo-heat-templates~master~I93d3eae0a738782f071a839ba7b41107a597e2fa,openstack/tripleo-heat-templates,master,I93d3eae0a738782f071a839ba7b41107a597e2fa,Start the neutron metadata agent with cgroupns host,MERGED,2022-02-03 11:40:57.000000000,2022-02-05 03:52:41.000000000,2022-02-05 03:52:41.000000000,"[{'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 27419}]","[{'number': 1, 'created': '2022-02-03 11:40:57.000000000', 'files': ['deployment/neutron/neutron-metadata-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d3a6e7a99ad090bd7ef06b7bd84cf8558e5fdae5', 'message': 'Start the neutron metadata agent with cgroupns host\n\nThis container got missed in the fixups.\n\nCloses-Bug: #1959582\nChange-Id: I93d3eae0a738782f071a839ba7b41107a597e2fa\n'}]",1,827629,d3a6e7a99ad090bd7ef06b7bd84cf8558e5fdae5,11,5,1,6681,,,0,"Start the neutron metadata agent with cgroupns host

This container got missed in the fixups.

Closes-Bug: #1959582
Change-Id: I93d3eae0a738782f071a839ba7b41107a597e2fa
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/29/827629/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/neutron/neutron-metadata-container-puppet.yaml'],1,d3a6e7a99ad090bd7ef06b7bd84cf8558e5fdae5,, cgroupns: host,,1,0
openstack%2Fpbr~master~I407ae88ab8de4b61f94034b3d79a2ca7f7d79d16,openstack/pbr,master,I407ae88ab8de4b61f94034b3d79a2ca7f7d79d16,Avoid recursive calls into SetupTools entrypoint,MERGED,2022-02-04 21:58:41.000000000,2022-02-05 03:09:10.000000000,2022-02-05 03:06:19.000000000,"[{'_account_id': 4146}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-04 21:58:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/pbr/commit/4af97a846c0af986e220939f3087f05c28412b56', 'message': ""Avoid recursive calls into SetupTools entrypoint\n\nAdd a check in pbr.core.pbr() to make sure it hasn't already run,\nand return immediately if it has. This replaces the earlier attempt\nat loop-busting by setting the entrypoint to None in the dist, in\norder to support PEP 517 builds without setup_requires.\n\nChange-Id: I407ae88ab8de4b61f94034b3d79a2ca7f7d79d16\n""}, {'number': 2, 'created': '2022-02-04 23:36:48.000000000', 'files': ['pbr/tests/test_packaging.py', 'pbr/core.py'], 'web_link': 'https://opendev.org/openstack/pbr/commit/949c47c97966b22bc3a7a33c08bc8535969e3fa0', 'message': ""Avoid recursive calls into SetupTools entrypoint\n\nAdd a check in pbr.core.pbr() to make sure it hasn't already run,\nand return immediately if it has. This replaces the earlier attempt\nat loop-busting by setting the entrypoint to None in the dist, in\norder to support PEP 517 builds without setup_requires.\n\nAlso test that pbr.json is now included in the dist tree, in order\nto avoid future regressions.\n\nChange-Id: I407ae88ab8de4b61f94034b3d79a2ca7f7d79d16\n""}]",1,827931,949c47c97966b22bc3a7a33c08bc8535969e3fa0,11,2,2,5263,,,0,"Avoid recursive calls into SetupTools entrypoint

Add a check in pbr.core.pbr() to make sure it hasn't already run,
and return immediately if it has. This replaces the earlier attempt
at loop-busting by setting the entrypoint to None in the dist, in
order to support PEP 517 builds without setup_requires.

Also test that pbr.json is now included in the dist tree, in order
to avoid future regressions.

Change-Id: I407ae88ab8de4b61f94034b3d79a2ca7f7d79d16
",git fetch https://review.opendev.org/openstack/pbr refs/changes/31/827931/2 && git format-patch -1 --stdout FETCH_HEAD,['pbr/core.py'],1,4af97a846c0af986e220939f3087f05c28412b56,,"# We use this canary to detect whether the module has already been called, # in order to avoid recursion in_use = False # Make sure we haven't already run global in_use if in_use: return in_use = True "," # Distribution.finalize_options() is what calls this method. That means # there is potential for recursion here. Recursion seems to be an issue # particularly when using PEP517 build-system configs without # setup_requires in setup.py. We can avoid the recursion by setting # dist.pbr to a None value as the corresponding entrypoint (this function) # will only be called on a non None value. setattr(dist, ""pbr"", None) ",11,8
openstack%2Fpython-openstackclient~master~If0baca719b8d68dcf76755f0ffc6034bbae8715c,openstack/python-openstackclient,master,If0baca719b8d68dcf76755f0ffc6034bbae8715c,compute: Switch server group to SDK,NEW,2021-12-01 21:17:07.000000000,2022-02-05 02:38:16.000000000,,"[{'_account_id': 15334}, {'_account_id': 16708}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2021-12-01 21:17:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/11006ba874891a28e6b3ba4d8bdd9ce3465d8bda', 'message': 'compute: Switch server group to SDK\n\nChange-Id: If0baca719b8d68dcf76755f0ffc6034bbae8715c\n'}, {'number': 2, 'created': '2021-12-08 16:29:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/876102a1b1a7df00406d8735ae83da0a21ff1693', 'message': 'compute: Switch server group to SDK\n\nChange-Id: If0baca719b8d68dcf76755f0ffc6034bbae8715c\n'}, {'number': 3, 'created': '2021-12-08 18:10:30.000000000', 'files': ['openstackclient/compute/v2/server_group.py', 'openstackclient/tests/unit/compute/v2/fakes.py', 'openstackclient/tests/unit/compute/v2/test_server_group.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/3eb0de28b3123e20bb2812158f300e1a3da139a2', 'message': 'compute: Switch server group to SDK\n\nChange-Id: If0baca719b8d68dcf76755f0ffc6034bbae8715c\n'}]",42,820070,3eb0de28b3123e20bb2812158f300e1a3da139a2,9,4,3,34313,,,0,"compute: Switch server group to SDK

Change-Id: If0baca719b8d68dcf76755f0ffc6034bbae8715c
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/70/820070/2 && git format-patch -1 --stdout FETCH_HEAD,"['openstackclient/compute/v2/server_group.py', 'openstackclient/tests/unit/compute/v2/fakes.py', 'openstackclient/tests/unit/compute/v2/test_server_group.py']",3,11006ba874891a28e6b3ba4d8bdd9ce3465d8bda,needs-completion,"from openstack import exceptions as sdk_exceptions from openstack import utils as sdk_utils 'rules', format_columns.DictColumn(fake_server_group.rules), fake_server_group.rules, m = mock.Mock(return_value=[""mockVal"", 100, 200]) self.app.client_manager.sdk_connection = m self.app.client_manager.sdk_connection.compute = m self.sdk_client = self.app.client_manager.sdk_connection.compute columns = ( 'id', 'members', 'name', 'policies', 'project_id', 'properties', 'metadata', 'rules', 'user_id', ) print(self) self.sdk_client.find_server_group.return_value=self.fake_server_group 'ag1', ('server_group', 'ag1'), self.sdk_client.find_server_group.assert_called_once_with( parsed_args.server_group, ignore_missing=False) self.assertCountEqual(self.data, tuple(data))"," self.server_groups_mock.get.return_value = self.fake_server_group 'affinity_group', ('server_group', 'affinity_group'), self.assertCountEqual(self.data, data)",53,24
openstack%2Fopenstacksdk~master~Ief29ab9794590b7c996e23cac38464888fba2865,openstack/openstacksdk,master,Ief29ab9794590b7c996e23cac38464888fba2865,Add os-instance-actions API,NEW,2021-06-23 00:33:49.000000000,2022-02-05 02:38:04.000000000,,"[{'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2021-06-23 00:33:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/9ef206348c002c97dc43f6190e249d0369b7d4ef', 'message': 'Add os-instance-actions API\n\nThe os-instance-actions API [1] from the Compute API was missing.\n\n[1] https://docs.openstack.org/api-ref/compute/?expanded=#list-actions-for-server\n\nChange-Id: Ief29ab9794590b7c996e23cac38464888fba2865\n'}, {'number': 2, 'created': '2021-09-24 16:00:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/9232b9dfe98aaaa365d06d35b2cc81579a89d8bd', 'message': 'Add os-instance-actions API\n\nThe os-instance-actions API [1] from the Compute API was missing.\n\n[1] https://docs.openstack.org/api-ref/compute/?expanded=#list-actions-for-server\n\nChange-Id: Ief29ab9794590b7c996e23cac38464888fba2865\n'}, {'number': 3, 'created': '2021-09-24 16:07:57.000000000', 'files': ['releasenotes/notes/add-instance-actions-30aafe12e8ad31b1.yaml', 'openstack/compute/v2/server_actions.py', 'openstack/tests/unit/compute/v2/test_server_actions.py', 'openstack/compute/v2/_proxy.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/21575d938d384e2a4bd155e21ee24f8d957e9724', 'message': 'Add os-instance-actions API\n\nThe os-instance-actions API [1] from the Compute API was missing.\n\n[1] https://docs.openstack.org/api-ref/compute/?expanded=#list-actions-for-server\n\nChange-Id: Ief29ab9794590b7c996e23cac38464888fba2865\n'}]",3,797551,21575d938d384e2a4bd155e21ee24f8d957e9724,13,2,3,33012,,,0,"Add os-instance-actions API

The os-instance-actions API [1] from the Compute API was missing.

[1] https://docs.openstack.org/api-ref/compute/?expanded=#list-actions-for-server

Change-Id: Ief29ab9794590b7c996e23cac38464888fba2865
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/51/797551/3 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/compute/v2/server_actions.py', 'openstack/tests/unit/compute/v2/test_server_actions.py']",2,9ef206348c002c97dc43f6190e249d0369b7d4ef,needs-completion,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from openstack.compute.v2 import server_actions from openstack.tests.unit import base IDENTIFIER = 'IDENTIFIER' EXAMPLE = { ""action"": ""1"", ""instance_uuid"": ""2"", ""message"": ""3"", ""project_id"": ""4"", ""request_id"": ""5"", ""start_time"": ""2018-04-25T01:26:28.909887"", ""updated_at"": ""2018-04-25T01:26:29.400606"", ""user_id"": ""admin"", ""links"": [ { ""href"": ""http://openstack.example.com/"", ""rel"": ""next"" } ] } class TestServerActions(base.TestCase): def test_basic(self): sot = server_actions.ServerActions() self.assertEqual('instanceActions', sot.resource_key) self.assertEqual('/servers/%(server_id)s/os-instance-actions', sot.base_path) self.assertTrue(sot.allow_list) self.assertDictEqual({""server_id"": ""server_id"", ""changes_before"": ""changes-before"", ""changes_since"": ""changes-since"", ""limit"": ""limit"", ""marker"": ""marker""}, sot._query_mapping._mapping) def test_make_basic(self): sot = server_actions.ServerActions(**EXAMPLE) self.assertEqual(EXAMPLE['action'], sot.action) self.assertEqual(EXAMPLE['instance_uuid'], sot.instance_uuid) self.assertEqual(EXAMPLE['message'], sot.message) self.assertEqual(EXAMPLE['project_id'], sot.project_id) self.assertEqual(EXAMPLE['request_id'], sot.request_id) self.assertEqual(EXAMPLE['start_time'], sot.start_time) self.assertEqual(EXAMPLE['user_id'], sot.user_id) self.assertEqual(EXAMPLE['updated_at'], sot.updated_at) self.assertEqual(EXAMPLE['links'], sot.links) ",,112,0
openstack%2Fnova~master~I845ca5989a8ad84d7c04971316fd892cd29cfe1f,openstack/nova,master,I845ca5989a8ad84d7c04971316fd892cd29cfe1f,skip test_tagged_attachment in nova-next,MERGED,2022-02-04 12:35:56.000000000,2022-02-05 02:02:56.000000000,2022-02-05 00:36:44.000000000,"[{'_account_id': 9708}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-04 12:35:56.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/b00ce99dd456ab701cef0a9d4429920834d3d840', 'message': 'skip test_tagged_attachment in nova-next\n\nThis change adds\ntempest.api.compute.servers.test_device_tagging.TaggedAttachmentsTest.test_tagged_attachment\nto the tempest exclude regex\n\nover the past few weeks we have noticed this test failing intermitently\nand it has not started to become a gate blocker. This test is executed in other\njobs that use the PC machine type and is only failing in the nova-next\njob which uses q35. As such while we work out how to address this properly\nwe skip it in the nova-next.\n\nChange-Id: I845ca5989a8ad84d7c04971316fd892cd29cfe1f\nRelated-Bug: #1959899\n'}]",3,827851,b00ce99dd456ab701cef0a9d4429920834d3d840,22,2,1,11604,,,0,"skip test_tagged_attachment in nova-next

This change adds
tempest.api.compute.servers.test_device_tagging.TaggedAttachmentsTest.test_tagged_attachment
to the tempest exclude regex

over the past few weeks we have noticed this test failing intermitently
and it has not started to become a gate blocker. This test is executed in other
jobs that use the PC machine type and is only failing in the nova-next
job which uses q35. As such while we work out how to address this properly
we skip it in the nova-next.

Change-Id: I845ca5989a8ad84d7c04971316fd892cd29cfe1f
Related-Bug: #1959899
",git fetch https://review.opendev.org/openstack/nova refs/changes/51/827851/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,b00ce99dd456ab701cef0a9d4429920834d3d840,bug/1959899, tempest_exclude_regex: ^tempest\.(scenario\.test_network_(?!qos)|api\.compute\.admin\.test_volume_swap)|tempest.api.compute.servers.test_device_tagging.TaggedAttachmentsTest.test_tagged_attachment, tempest_exclude_regex: ^tempest\.(scenario\.test_network_(?!qos)|api\.compute\.admin\.test_volume_swap),1,1
openstack%2Fnova~stable%2Fwallaby~I39241223b447fcc671161c370dbf16e1773b684a,openstack/nova,stable/wallaby,I39241223b447fcc671161c370dbf16e1773b684a,Clear rebalanced compute nodes from resource tracker,MERGED,2021-09-29 23:51:11.000000000,2022-02-05 01:07:51.000000000,2022-02-05 00:31:10.000000000,"[{'_account_id': 2033}, {'_account_id': 7634}, {'_account_id': 10135}, {'_account_id': 14826}, {'_account_id': 15334}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 32029}]","[{'number': 1, 'created': '2021-09-29 23:51:11.000000000', 'files': ['nova/tests/unit/compute/test_compute_mgr.py', 'nova/tests/unit/compute/test_resource_tracker.py', 'nova/compute/manager.py', 'nova/compute/resource_tracker.py', 'nova/tests/functional/regressions/test_bug_1853009.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/f950cedf17cc4c3ce9d094dbfde5e4cf013260f7', 'message': 'Clear rebalanced compute nodes from resource tracker\n\nThere is a race condition in nova-compute with the ironic virt driver as\nnodes get rebalanced. It can lead to compute nodes being removed in the\nDB and not repopulated. Ultimately this prevents these nodes from being\nscheduled to.\n\nThe issue being addressed here is that if a compute node is deleted by a host\nwhich thinks it is an orphan, then the compute host that actually owns the node\nmight not recreate it if the node is already in its resource tracker cache.\n\nThis change fixes the issue by clearing nodes from the resource tracker cache\nfor which a compute node entry does not exist. Then, when the available\nresource for the node is updated, the compute node object is not found in the\ncache and gets recreated.\n\nChange-Id: I39241223b447fcc671161c370dbf16e1773b684a\nPartial-Bug: #1853009\n(cherry picked from commit 32676a9f45807ea8770dc7bdff1e859673af1b61)\n'}]",9,811806,f950cedf17cc4c3ce9d094dbfde5e4cf013260f7,48,8,1,4690,,,0,"Clear rebalanced compute nodes from resource tracker

There is a race condition in nova-compute with the ironic virt driver as
nodes get rebalanced. It can lead to compute nodes being removed in the
DB and not repopulated. Ultimately this prevents these nodes from being
scheduled to.

The issue being addressed here is that if a compute node is deleted by a host
which thinks it is an orphan, then the compute host that actually owns the node
might not recreate it if the node is already in its resource tracker cache.

This change fixes the issue by clearing nodes from the resource tracker cache
for which a compute node entry does not exist. Then, when the available
resource for the node is updated, the compute node object is not found in the
cache and gets recreated.

Change-Id: I39241223b447fcc671161c370dbf16e1773b684a
Partial-Bug: #1853009
(cherry picked from commit 32676a9f45807ea8770dc7bdff1e859673af1b61)
",git fetch https://review.opendev.org/openstack/nova refs/changes/06/811806/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_compute_mgr.py', 'nova/tests/unit/compute/test_resource_tracker.py', 'nova/compute/manager.py', 'nova/compute/resource_tracker.py', 'nova/tests/functional/regressions/test_bug_1853009.py']",5,f950cedf17cc4c3ce9d094dbfde5e4cf013260f7,bug/1853009," # Verify that the node was recreated. self._assert_hypervisor_api(self.nodename, 'host_b') # But due to https://bugs.launchpad.net/nova/+bug/1853159 the compute # node is not cached in the RT. self.assertNotIn(self.nodename, host_b.manager.rt.compute_nodes) # host_b[1]: Should add compute node to RT cache and recreate resource # provider. # FIXME(mgoddard): Resource provider not recreated here, because it # exists in the provider tree. See # https://bugs.launchpad.net/nova/+bug/1841481. host_b.manager.update_available_resource(self.ctxt) # Verify that the node still exists. self._assert_hypervisor_api(self.nodename, 'host_b') # And it is now in the RT cache. self.assertIn(self.nodename, host_b.manager.rt.compute_nodes) # There is still no RP. rps = self._get_all_providers() self.assertEqual(0, len(rps), rps) # But the RP it exists in the provider tree. self.assertTrue(host_b.manager.rt.reportclient._provider_tree.exists( self.nodename)) "," cn_host_b_node = objects.ComputeNode.get_by_host_and_nodename( self.ctxt, 'host_b', 'host_b', ) self.assertIn( 'Deleting orphan compute node %s hypervisor host ' 'is host_b, nodes are' % cn_host_b_node.id, self.stdlog.logger.output) # FIXME(mgoddard): Compute node not recreated here, because it is # already in RT.compute_nodes. See # https://bugs.launchpad.net/nova/+bug/1853009. # Verify that the node was not recreated. hypervisors = self.api.api_get( '/os-hypervisors/detail').body['hypervisors'] self.assertEqual(0, len(hypervisors), hypervisors) # But the compute node exists in the RT. self.assertIn(self.nodename, host_b.manager.rt.compute_nodes)",66,18
openstack%2Fcinder~stable%2Fwallaby~I2532cfc9b98788a1a1e765f07d0c9f8c98bc77f6,openstack/cinder,stable/wallaby,I2532cfc9b98788a1a1e765f07d0c9f8c98bc77f6,Driver assisted migration on retype when it's safe,MERGED,2021-11-25 15:34:52.000000000,2022-02-05 00:42:51.000000000,2022-02-05 00:39:14.000000000,"[{'_account_id': 5314}, {'_account_id': 22348}, {'_account_id': 27615}]","[{'number': 1, 'created': '2021-11-25 15:34:52.000000000', 'files': ['cinder/volume/manager.py', 'releasenotes/notes/retype-assisted-migration-6cdc7f9b21beb859.yaml', 'cinder/tests/unit/volume/test_volume_migration.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/afc90f8912ad555feacb0921226a75eb0aeaa975', 'message': ""Driver assisted migration on retype when it's safe\n\nWhen doing a retype of a volume that requires a migration, the manager\nonly uses driver assisted migration when the source and the destination\nbelong to the same backend (different pools).\n\nDriver assisted migration should also be tried for other cases, just\nlike when we do a normal migration.\n\nOne case were this would be beneficial is when doing migrations from one\npool to another on the same storage system on single pool drivers (such\nas RBD/Ceph).\n\nThis patch checks what are the changes between the types to see if it is\nsafe to use driver assisted migration (from the perspective of keeping\nthe resulting volume consistent with the volume type) and when it is it\ntries to use it.\n\nIf driver assisted migration indicates that it couldn't move the volume,\nthen we go with the generic volume migration like we used to.\n\nCloses-Bug: #1886543\nChange-Id: I2532cfc9b98788a1a1e765f07d0c9f8c98bc77f6\n(cherry picked from commit 5edc77a18c505e22ee56e3ebda6d400cded6fa32)\n""}]",3,819346,afc90f8912ad555feacb0921226a75eb0aeaa975,26,3,1,9535,,,0,"Driver assisted migration on retype when it's safe

When doing a retype of a volume that requires a migration, the manager
only uses driver assisted migration when the source and the destination
belong to the same backend (different pools).

Driver assisted migration should also be tried for other cases, just
like when we do a normal migration.

One case were this would be beneficial is when doing migrations from one
pool to another on the same storage system on single pool drivers (such
as RBD/Ceph).

This patch checks what are the changes between the types to see if it is
safe to use driver assisted migration (from the perspective of keeping
the resulting volume consistent with the volume type) and when it is it
tries to use it.

If driver assisted migration indicates that it couldn't move the volume,
then we go with the generic volume migration like we used to.

Closes-Bug: #1886543
Change-Id: I2532cfc9b98788a1a1e765f07d0c9f8c98bc77f6
(cherry picked from commit 5edc77a18c505e22ee56e3ebda6d400cded6fa32)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/46/819346/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/manager.py', 'releasenotes/notes/retype-assisted-migration-6cdc7f9b21beb859.yaml', 'cinder/tests/unit/volume/test_volume_migration.py']",3,afc90f8912ad555feacb0921226a75eb0aeaa975,improve-retype-migration," @mock.patch('cinder.volume.manager.VolumeManager.' '_can_use_driver_migration') def test_migrate_volume_driver_for_retype(self, mock_can_use): """"""Test volume migration done by driver on a retype."""""" # Mock driver and rpc functions mock_driver = self.mock_object(self.volume.driver, 'migrate_volume', return_value=(True, {})) volume = tests_utils.create_volume(self.context, size=0, host=CONF.host, migration_status='migrating') host_obj = {'host': 'newhost', 'capabilities': {}} self.volume.migrate_volume(self.context, volume, host_obj, False, fake.VOLUME_TYPE2_ID, mock.sentinel.diff) mock_can_use.assert_called_once_with(mock.sentinel.diff) mock_driver.assert_called_once_with(self.context, volume, host_obj) # check volume properties volume = objects.Volume.get_by_id(context.get_admin_context(), volume.id) self.assertEqual('newhost', volume.host) self.assertEqual('success', volume.migration_status) self.assertEqual(fake.VOLUME_TYPE2_ID, volume.volume_type_id) @mock.patch('cinder.volume.manager.VolumeManager._migrate_volume_generic') @mock.patch('cinder.volume.manager.VolumeManager.' '_can_use_driver_migration') def test_migrate_volume_driver_for_retype_generic(self, mock_can_use, mock_generic): """"""Test generic volume migration on a retype after driver can't."""""" # Mock driver and rpc functions mock_driver = self.mock_object(self.volume.driver, 'migrate_volume', return_value=(False, None)) volume = tests_utils.create_volume(self.context, size=0, host=CONF.host, migration_status='migrating') host_obj = {'host': 'newhost', 'capabilities': {}} self.volume.migrate_volume(self.context, volume, host_obj, False, fake.VOLUME_TYPE2_ID, mock.sentinel.diff) mock_can_use.assert_called_once_with(mock.sentinel.diff) mock_driver.assert_called_once_with(self.context, volume, host_obj) mock_generic.assert_called_once_with(self.context, volume, host_obj, fake.VOLUME_TYPE2_ID) @ddt.data( (None, True), ({'encryption': {'cipher': ('v1', 'v2')}}, False), ({'qos_specs': {'key1': ('v1', 'v2')}}, False), ({'encryption': {}, 'qos_specs': {}, 'extra_specs': {}}, True), ({'encryption': {}, 'qos_specs': {}, 'extra_specs': {'volume_backend_name': ('ceph1', 'ceph2'), 'RESKEY:availability_zones': ('nova', 'nova2')}}, True), ({'encryption': {}, 'qos_specs': {}, 'extra_specs': {'thin_provisioning_support': ('<is> True', None)}}, False), ) @ddt.unpack def test__can_use_driver_migration(self, diff, expected): res = self.volume._can_use_driver_migration(diff) self.assertEqual(expected, res)",,99,3
openstack%2Fcinder~stable%2Fwallaby~I05d83d73de69c57d885e0c417e8a376f7cfb1e4f,openstack/cinder,stable/wallaby,I05d83d73de69c57d885e0c417e8a376f7cfb1e4f,NetApp ONTAP: Fix sub-clone zapi call,MERGED,2021-12-15 20:10:08.000000000,2022-02-05 00:41:18.000000000,2022-02-05 00:36:53.000000000,"[{'_account_id': 5314}, {'_account_id': 22348}, {'_account_id': 27615}, {'_account_id': 31721}]","[{'number': 1, 'created': '2021-12-15 20:10:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/66ce258f5990b4fb41bb74b479e867a21283a5d6', 'message': 'NetApp ONTAP: Fix sub-clone zapi call\n\nThe ONTAP documentation states that the `clone-create` ZAPI call\nfails with `block-ranges` and `space-reserve` parameters sent\ntogether. The sub-clone uses the `block-ranges` and is failing\nbecause of that restriction.\n\nThis patch fixes the `clone-create` operation by using exactly one\nof `block-ranges` or `space-reserve`.\n\nChange-Id: I05d83d73de69c57d885e0c417e8a376f7cfb1e4f\nCloses-Bug: #1924643\n(cherry picked from commit dd0b1076df936b9cb1111567f6b4c3b747744b72)\n'}, {'number': 2, 'created': '2021-12-16 13:31:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/baa76e8730af340d0ae5b0189db9fea2850c095c', 'message': 'NetApp ONTAP: Fix sub-clone zapi call\n\nThe ONTAP documentation states that the `clone-create` ZAPI call\nfails with `block-ranges` and `space-reserve` parameters sent\ntogether. The sub-clone uses the `block-ranges` and is failing\nbecause of that restriction.\n\nThis patch fixes the `clone-create` operation by using exactly one\nof `block-ranges` or `space-reserve`.\n\nChange-Id: I05d83d73de69c57d885e0c417e8a376f7cfb1e4f\nCloses-Bug: #1924643\n(cherry picked from commit dd0b1076df936b9cb1111567f6b4c3b747744b72)\n'}, {'number': 3, 'created': '2021-12-16 13:43:59.000000000', 'files': ['cinder/tests/unit/volume/drivers/netapp/dataontap/client/test_client_cmode.py', 'cinder/volume/drivers/netapp/dataontap/client/client_cmode.py', 'releasenotes/notes/fix-sub-clone-operation-f42a84ab17930f24.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/fffe9b57b984ba402fbe9f0c578b419926491b5b', 'message': 'NetApp ONTAP: Fix sub-clone zapi call\n\nThe ONTAP documentation states that the `clone-create` ZAPI call\nfails with `block-ranges` and `space-reserve` parameters sent\ntogether. The sub-clone uses the `block-ranges` and is failing\nbecause of that restriction.\n\nThis patch fixes the `clone-create` operation by using exactly one\nof `block-ranges` or `space-reserve`.\n\nChange-Id: I05d83d73de69c57d885e0c417e8a376f7cfb1e4f\nCloses-Bug: #1924643\n(cherry picked from commit dd0b1076df936b9cb1111567f6b4c3b747744b72)\n(cherry picked from commit 344f3e8b098ff52c137ece8a28b3b40a5893e30e)\n'}]",4,821892,fffe9b57b984ba402fbe9f0c578b419926491b5b,40,4,3,33431,,,0,"NetApp ONTAP: Fix sub-clone zapi call

The ONTAP documentation states that the `clone-create` ZAPI call
fails with `block-ranges` and `space-reserve` parameters sent
together. The sub-clone uses the `block-ranges` and is failing
because of that restriction.

This patch fixes the `clone-create` operation by using exactly one
of `block-ranges` or `space-reserve`.

Change-Id: I05d83d73de69c57d885e0c417e8a376f7cfb1e4f
Closes-Bug: #1924643
(cherry picked from commit dd0b1076df936b9cb1111567f6b4c3b747744b72)
(cherry picked from commit 344f3e8b098ff52c137ece8a28b3b40a5893e30e)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/92/821892/2 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/drivers/netapp/dataontap/client/test_client_cmode.py', 'cinder/volume/drivers/netapp/dataontap/client/client_cmode.py', 'releasenotes/notes/fix-sub-clone-operation-f42a84ab17930f24.yaml']",3,66ce258f5990b4fb41bb74b479e867a21283a5d6,bug/1924643,--- fixes: - | `Bug #1924643 <https://bugs.launchpad.net/cinder/+bug/1924643>`_: Fixed the NetApp cinder driver sub-clone operation that might be used by extend operation in case the extended size is greater than the max LUN geometry. ,,48,2
openstack%2Fdevstack~master~I9a05051e5a297cfaf78d097fa5f90a7c5fd254a6,openstack/devstack,master,I9a05051e5a297cfaf78d097fa5f90a7c5fd254a6,revert stackrc execute permissions,MERGED,2022-02-04 08:36:31.000000000,2022-02-05 00:33:52.000000000,2022-02-05 00:32:06.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-02-04 08:36:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/53044ca74c60e366f8e4b403388f6ec6ade1ca43', 'message': 'revert stackrc execute permissions\n\nThis chnage reverts the execute permissions form\nstackrc which is not ment to be run as a script but sourced\nas part of stack.sh\n\nThis change also removes the #!/bin/bash line to remove\nany implication that stackrc is a script to be executed.\n\nChange-Id: I9a05051e5a297cfaf78d097fa5f90a7c5fd254a6\n'}, {'number': 2, 'created': '2022-02-04 12:00:49.000000000', 'files': ['stackrc'], 'web_link': 'https://opendev.org/openstack/devstack/commit/85c7d8db4eef2e367a7466a39b4f1fba7a983eef', 'message': 'revert stackrc execute permissions\n\nThis change reverts the execute permissions from\nstackrc which is not meant to be run as a script but sourced\nas part of stack.sh\n\nChange-Id: I9a05051e5a297cfaf78d097fa5f90a7c5fd254a6\n'}]",6,827815,85c7d8db4eef2e367a7466a39b4f1fba7a983eef,14,3,2,11604,,,0,"revert stackrc execute permissions

This change reverts the execute permissions from
stackrc which is not meant to be run as a script but sourced
as part of stack.sh

Change-Id: I9a05051e5a297cfaf78d097fa5f90a7c5fd254a6
",git fetch https://review.opendev.org/openstack/devstack refs/changes/15/827815/1 && git format-patch -1 --stdout FETCH_HEAD,['stackrc'],1,53044ca74c60e366f8e4b403388f6ec6ade1ca43,revert-stackrc-permissions,,#!/bin/bash,0,1
openstack%2Fpython-tripleoclient~stable%2Fwallaby~I7e79ea64870fb07ba80d132e30ac02545faac1dc,openstack/python-tripleoclient,stable/wallaby,I7e79ea64870fb07ba80d132e30ac02545faac1dc,Deprecate enable_novajoin,MERGED,2022-02-04 15:19:23.000000000,2022-02-05 00:28:50.000000000,2022-02-05 00:27:10.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 10969}, {'_account_id': 11090}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 28223}]","[{'number': 1, 'created': '2022-02-04 15:19:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/86d03206b637888b877d58b7f3be100869b10237', 'message': 'Deprecate enable_novajoin\n\n... because support for the novajoin metadata service was already\ndeprecated[1].\n\n[1] bf910512c344f55d01303409f6c2151d89347583\n\nChange-Id: I7e79ea64870fb07ba80d132e30ac02545faac1dc\n(cherry picked from commit a9d4d523cc5846d6e98730857f33768d370fc4b1)\n'}, {'number': 2, 'created': '2022-02-04 15:53:39.000000000', 'files': ['tripleoclient/config/standalone.py', 'releasenotes/notes/deprecate-novajoin-6493fa10ee3e09cf.yaml'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/cc0ec235efc0a71b6870652c4620cb644656e245', 'message': 'Deprecate enable_novajoin\n\n... because support for the novajoin metadata service was already\ndeprecated[1].\n\n[1] bf910512c344f55d01303409f6c2151d89347583\n\nChange-Id: I7e79ea64870fb07ba80d132e30ac02545faac1dc\n(cherry picked from commit a9d4d523cc5846d6e98730857f33768d370fc4b1)\n'}]",0,827749,cc0ec235efc0a71b6870652c4620cb644656e245,9,7,2,26343,,,0,"Deprecate enable_novajoin

... because support for the novajoin metadata service was already
deprecated[1].

[1] bf910512c344f55d01303409f6c2151d89347583

Change-Id: I7e79ea64870fb07ba80d132e30ac02545faac1dc
(cherry picked from commit a9d4d523cc5846d6e98730857f33768d370fc4b1)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/49/827749/2 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/config/standalone.py', 'releasenotes/notes/deprecate-novajoin-6493fa10ee3e09cf.yaml']",2,86d03206b637888b877d58b7f3be100869b10237,config-desc-stable/wallaby,--- deprecations: - | The ``enable_novajoin`` parameter in undercloud/standalone deployment has been deprecated. ,,13,0
openstack%2Fdevstack~master~I518a739a3daac941880463cde6b47951331d0911,openstack/devstack,master,I518a739a3daac941880463cde6b47951331d0911,Adapt compute node local.conf to OVN,MERGED,2022-01-21 09:07:17.000000000,2022-02-05 00:27:57.000000000,2022-02-05 00:26:11.000000000,"[{'_account_id': 8556}, {'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 32029}]","[{'number': 1, 'created': '2022-01-21 09:07:17.000000000', 'files': ['doc/source/guides/multinode-lab.rst'], 'web_link': 'https://opendev.org/openstack/devstack/commit/0a31630323cc172561d6544c8bee50004538cfb2', 'message': 'Adapt compute node local.conf to OVN\n\nThe default Neutron configuration is now using OVN, but the multinode\nlab was using an incompatible configuration:\n\n    The q-agt/neutron-agt service must be disabled with OVN.\n\nChange-Id: I518a739a3daac941880463cde6b47951331d0911\n'}]",6,825726,0a31630323cc172561d6544c8bee50004538cfb2,13,4,1,15197,,,0,"Adapt compute node local.conf to OVN

The default Neutron configuration is now using OVN, but the multinode
lab was using an incompatible configuration:

    The q-agt/neutron-agt service must be disabled with OVN.

Change-Id: I518a739a3daac941880463cde6b47951331d0911
",git fetch https://review.opendev.org/openstack/devstack refs/changes/26/825726/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/guides/multinode-lab.rst'],1,0a31630323cc172561d6544c8bee50004538cfb2,," ENABLED_SERVICES=n-cpu,c-vol,placement-client,ovn-controller,ovs-vswitchd,ovsdb-server,q-ovn-metadata-agent"," ENABLED_SERVICES=n-cpu,q-agt,c-vol,placement-client",1,1
openstack%2Frequirements~master~Ide17d3eb11d89b948a4618e850d968698206fc4c,openstack/requirements,master,Ide17d3eb11d89b948a4618e850d968698206fc4c,Updated from generate-constraints,MERGED,2022-02-04 02:50:14.000000000,2022-02-05 00:27:52.000000000,2022-02-05 00:26:08.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-04 02:50:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/911835163cc8c39b455af0926ddc8b9600ad052e', 'message': 'Updated from generate-constraints\n\nChange-Id: Ide17d3eb11d89b948a4618e850d968698206fc4c\n'}, {'number': 2, 'created': '2022-02-04 16:39:52.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/698f8e89b69fc29b7f494ead0f04c9d629e10cb5', 'message': 'Updated from generate-constraints\n\nChange-Id: Ide17d3eb11d89b948a4618e850d968698206fc4c\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n'}]",0,827787,698f8e89b69fc29b7f494ead0f04c9d629e10cb5,12,2,2,11131,,,0,"Updated from generate-constraints

Change-Id: Ide17d3eb11d89b948a4618e850d968698206fc4c
Signed-off-by: Matthew Thode <mthode@mthode.org>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/87/827787/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,911835163cc8c39b455af0926ddc8b9600ad052e,openstack/requirements/constraints/noclob,oslo.context===4.0.0rcssmin===1.1.0XStatic-Angular===1.8.2.1Pillow===9.0.1;python_version=='3.8'google-api-core===2.5.0types-paramiko===2.8.12zeroconf===0.38.3;python_version=='3.8'responses===0.17.0;python_version=='3.6' responses===0.18.0;python_version=='3.8'paramiko===2.9.2pywbem===1.4.1httpcore===0.14.6pkg_resources===0.0.0django-compressor===3.1coverage===6.3.1;python_version=='3.8'boto3===1.20.48s3transfer===0.5.1numpy===1.22.2;python_version=='3.8'httplib2===0.20.4botocore===1.23.48Django===3.2.12types-cryptography===3.3.15diskimage-builder===3.17.0rjsmin===1.2.0alembic===1.7.6,oslo.context===3.4.0rcssmin===1.0.6XStatic-Angular===1.5.8.0Pillow===9.0.0;python_version=='3.8'google-api-core===2.4.0types-paramiko===2.8.11zeroconf===0.38.1;python_version=='3.8'responses===0.17.0paramiko===2.8.1pywbem===1.4.0httpcore===0.14.5django-compressor===2.4.1coverage===6.3;python_version=='3.8'boto3===1.20.46s3transfer===0.5.0numpy===1.22.1;python_version=='3.8'httplib2===0.20.2botocore===1.23.46Django===3.2.11types-cryptography===3.3.14diskimage-builder===3.16.0rjsmin===1.1.0alembic===1.7.5setuptools===59.6.0;python_version=='3.6' setuptools===60.6.0;python_version=='3.8',25,25
openstack%2Fpython-tripleoclient~stable%2Fwallaby~I672627f4f97d241abaab47f56dc92b36d778ac97,openstack/python-tripleoclient,stable/wallaby,I672627f4f97d241abaab47f56dc92b36d778ac97,Standalone: Remove undercloud from parameter descriptions,MERGED,2022-02-04 15:20:46.000000000,2022-02-05 00:24:23.000000000,2022-02-05 00:22:52.000000000,"[{'_account_id': 7144}, {'_account_id': 10969}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 28223}]","[{'number': 1, 'created': '2022-02-04 15:20:46.000000000', 'files': ['tripleoclient/config/standalone.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/1f4e3f93a343fa7c3a0ab4eb3546279b649a9db2', 'message': 'Standalone: Remove undercloud from parameter descriptions\n\n... becuase these parameters are used not only in undercloud deployment\nbut also in standalone deployment.\n\nChange-Id: I672627f4f97d241abaab47f56dc92b36d778ac97\n(cherry picked from commit 5f8bd7781b0a776ea308ccb3eb16ac353a273096)\n'}]",0,827890,1f4e3f93a343fa7c3a0ab4eb3546279b649a9db2,8,5,1,26343,,,0,"Standalone: Remove undercloud from parameter descriptions

... becuase these parameters are used not only in undercloud deployment
but also in standalone deployment.

Change-Id: I672627f4f97d241abaab47f56dc92b36d778ac97
(cherry picked from commit 5f8bd7781b0a776ea308ccb3eb16ac353a273096)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/90/827890/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/config/standalone.py'],1,1f4e3f93a343fa7c3a0ab4eb3546279b649a9db2,config-desc-stable/wallaby," help=_('Whether to install the cinder service.')), help=_('Whether to enable the ironic inspector ' 'service.') help=_('Whether to install the novajoin metadata ' 'service') help=_('Whether to install the swift services') '(ceilometer, gnocchi, aodh).')"," help=_( 'Whether to install the Volume service. It is not ' 'currently used in the undercloud.')), help=_( 'Whether to enable the ironic inspector service.') help=_('Whether to install novajoin metadata service ' 'in the Undercloud.') help=_('Whether to install Swift services in the ' 'Undercloud.') '(ceilometer, gnocchi, aodh) in the ' 'Undercloud.')",7,11
openstack%2Ftripleo-ansible~stable%2Fwallaby~I447e2ec4187de9d8342f43e9012acccc725eded9,openstack/tripleo-ansible,stable/wallaby,I447e2ec4187de9d8342f43e9012acccc725eded9,Added controller_group_name to override group name,MERGED,2022-01-27 23:04:00.000000000,2022-02-05 00:22:49.000000000,2022-02-05 00:22:49.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-01-27 23:04:00.000000000', 'files': ['tripleo_ansible/playbooks/cli-overcloud-backup.yaml', 'tripleo_ansible/playbooks/prepare-overcloud-backup.yaml', 'tripleo_ansible/roles/backup_and_restore/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/c943c6ad88ea2731f5cb072aef996480025f44ca', 'message': 'Added controller_group_name to override group name\n\nAdded controller_group_name to override the Controller group name from\nwhich a backup would be taken.  ie:\n```\nopenstack overcloud backup \\\n--extra-vars ""{\'controller_group_name\':\'ControllerStandalone\'}""\n```\nThis is useful if you are not using the default Controller group but\nsomething else such as one of these:\n    ControllerAllNovaStandalone\n    ControllerNoCeph\n    ControllerNovaStandalone\n    ControllerOpenstack\n    ControllerSriov\n    ControllerStorageDashboard\n    ControllerStorageNfs\n\nChange-Id: I447e2ec4187de9d8342f43e9012acccc725eded9\n(cherry picked from commit da5ce4cbebd362d85c0f2ce7e374c5ba2a3858fa)\n'}]",5,826625,c943c6ad88ea2731f5cb072aef996480025f44ca,23,3,1,22954,,,0,"Added controller_group_name to override group name

Added controller_group_name to override the Controller group name from
which a backup would be taken.  ie:
```
openstack overcloud backup \
--extra-vars ""{'controller_group_name':'ControllerStandalone'}""
```
This is useful if you are not using the default Controller group but
something else such as one of these:
    ControllerAllNovaStandalone
    ControllerNoCeph
    ControllerNovaStandalone
    ControllerOpenstack
    ControllerSriov
    ControllerStorageDashboard
    ControllerStorageNfs

Change-Id: I447e2ec4187de9d8342f43e9012acccc725eded9
(cherry picked from commit da5ce4cbebd362d85c0f2ce7e374c5ba2a3858fa)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/25/826625/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/playbooks/cli-overcloud-backup.yaml', 'tripleo_ansible/playbooks/prepare-overcloud-backup.yaml', 'tripleo_ansible/roles/backup_and_restore/defaults/main.yml']",3,c943c6ad88ea2731f5cb072aef996480025f44ca,storagenfs-stable/wallaby,"tripleo_controller_group_name: ""{{ controller_group_name | default('Controller') }}""",,15,3
openstack%2Fmanila~master~I6ee02cb66727a3c2b425fad1d9d1245d4e9c1b24,openstack/manila,master,I6ee02cb66727a3c2b425fad1d9d1245d4e9c1b24,Add admin only keys to share metadata,MERGED,2021-08-30 21:33:41.000000000,2022-02-05 00:20:14.000000000,2022-02-05 00:18:07.000000000,"[{'_account_id': 6413}, {'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 29632}, {'_account_id': 30407}, {'_account_id': 32919}]","[{'number': 1, 'created': '2021-08-30 21:33:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/583d0dd480fb79f6e581432e638e10331701e1af', 'message': '[WIP] Add user_modifiable to share metadata\n\nIn this change, we add the field ""user_modifiable"" to the share metadata\ntable in a database migration.\n\nThis will allow some metadata keys to be changed only by admins or\nsystem admins as defined in a new policy.\n\nThis change allow for the affinity filter spec[1] implementation without\nthe additional changes necessary in the metadata spec[2].\n\n[1] https://specs.openstack.org/openstack/manila-specs/specs/xena/affinity-antiaffinity-filter.html\n[2] https://specs.openstack.org/openstack/manila-specs/specs/wallaby/metadata-for-share-resources.html\n\nChange-Id: I6ee02cb66727a3c2b425fad1d9d1245d4e9c1b24\n'}, {'number': 2, 'created': '2021-08-31 20:02:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/1f247e1b0727d031e4ba1a3b75d6a090629ba557', 'message': '[WIP] Add user_modifiable to share metadata\n\nIn this change, we add the field ""user_modifiable"" to the share metadata\ntable in a database migration.\n\nThis will allow some metadata keys to be changed only by admins or\nsystem admins as defined in a new policy.\n\nThis change allow for the affinity filter spec[1] implementation without\nthe additional changes necessary in the metadata spec[2].\n\n[1] https://specs.openstack.org/openstack/manila-specs/specs/xena/affinity-antiaffinity-filter.html\n[2] https://specs.openstack.org/openstack/manila-specs/specs/wallaby/metadata-for-share-resources.html\n\nChange-Id: I6ee02cb66727a3c2b425fad1d9d1245d4e9c1b24\n'}, {'number': 3, 'created': '2021-09-13 16:20:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/56afbd97602f9ff5742a812b993ba6d452276325', 'message': 'Add user_modifiable to share metadata\n\nIn this change, we add admin policy check for metadata keys\n""__affinity_same_host"" and ""__affinity_different_host"".\nThese keys are added an constants, allowing for the addition of other\nadmin only keys if necessary in future changes.\n\nThis change allow for the affinity filter spec[1] implementation without\nthe additional changes necessary in the metadata spec[2].\n\n[1] https://specs.openstack.org/openstack/manila-specs/specs/xena/affinity-antiaffinity-filter.html\n[2] https://specs.openstack.org/openstack/manila-specs/specs/wallaby/metadata-for-share-resources.html\n\nChange-Id: I6ee02cb66727a3c2b425fad1d9d1245d4e9c1b24\n'}, {'number': 4, 'created': '2021-09-13 21:00:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/d4bb85a0370f5910134f22a3f9a5c6f3767816bc', 'message': 'Add admin only keys to share metadata\n\nIn this change, we add admin policy check for metadata keys\n""__affinity_same_host"" and ""__affinity_different_host"".\nThese keys are added an constants, allowing for the addition of other\nadmin only keys if necessary in future changes.\n\nThis change allow for the affinity filter spec[1] implementation without\nthe additional changes necessary in the metadata spec[2].\n\n[1] https://specs.openstack.org/openstack/manila-specs/specs/xena/affinity-antiaffinity-filter.html\n[2] https://specs.openstack.org/openstack/manila-specs/specs/wallaby/metadata-for-share-resources.html\n\nChange-Id: I6ee02cb66727a3c2b425fad1d9d1245d4e9c1b24\n'}, {'number': 5, 'created': '2021-09-15 15:38:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/75c805ff999b8574e75e93997d0bb44d82547f79', 'message': 'Add admin only keys to share metadata\n\nIn this change, we add admin policy check for metadata keys\n""__affinity_same_host"" and ""__affinity_different_host"".\nThese keys are added an constants, allowing for the addition of other\nadmin only keys if necessary in future changes.\n\nThis change allows for the affinity filter spec[1] implementation without\nthe additional changes necessary in the metadata spec[2].\n\n[1] https://specs.openstack.org/openstack/manila-specs/specs/xena/affinity-antiaffinity-filter.html\n[2] https://specs.openstack.org/openstack/manila-specs/specs/wallaby/metadata-for-share-resources.html\n\nChange-Id: I6ee02cb66727a3c2b425fad1d9d1245d4e9c1b24\n'}, {'number': 6, 'created': '2021-09-15 21:29:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/6e1b6b37ff5e6d607427b69f88a0fb465bec69bd', 'message': 'Add admin only keys to share metadata\n\nIn this change, we add admin policy check for metadata keys\n""__affinity_same_host"" and ""__affinity_different_host"".\nThese keys are added an constants, allowing for the addition of other\nadmin only keys if necessary in future changes.\n\nThis change allows for the affinity filter spec[1] implementation without\nthe additional changes necessary in the metadata spec[2].\n\nAlso bumps oslo.log lower constraints to 4.6.0.\n\n[1] https://specs.openstack.org/openstack/manila-specs/specs/xena/affinity-antiaffinity-filter.html\n[2] https://specs.openstack.org/openstack/manila-specs/specs/wallaby/metadata-for-share-resources.html\n\nChange-Id: I6ee02cb66727a3c2b425fad1d9d1245d4e9c1b24\n'}, {'number': 7, 'created': '2021-09-16 19:22:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/de6d34d8a6b835fdea1574a157449fadde84fa23', 'message': 'Add admin only keys to share metadata\n\nIn this change, we add admin policy check for metadata keys\n""__affinity_same_host"" and ""__affinity_different_host"".\nThese keys are added an constants, allowing for the addition of other\nadmin only keys if necessary in future changes.\n\nThis change allows for the affinity filter spec[1] implementation without\nthe additional changes necessary in the metadata spec[2].\n\nAlso bumps oslo.log lower constraints to 4.6.0.\n\n[1] https://specs.openstack.org/openstack/manila-specs/specs/xena/affinity-antiaffinity-filter.html\n[2] https://specs.openstack.org/openstack/manila-specs/specs/wallaby/metadata-for-share-resources.html\n\nChange-Id: I6ee02cb66727a3c2b425fad1d9d1245d4e9c1b24\n'}, {'number': 8, 'created': '2021-09-21 17:27:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/ed6b05b4e7d3791f4eb9cf795829841c66c0c317', 'message': 'Add admin only keys to share metadata\n\nIn this change, we add admin policy check for metadata keys\n""__affinity_same_host"" and ""__affinity_different_host"".\nThese keys are added an constants, allowing for the addition of other\nadmin only keys if necessary in future changes.\n\nThis change allows for the affinity filter spec[1] implementation without\nthe additional changes necessary in the metadata spec[2].\n\nAlso bumps oslo.log lower constraints to 4.6.0.\n\n[1] https://specs.openstack.org/openstack/manila-specs/specs/xena/affinity-antiaffinity-filter.html\n[2] https://specs.openstack.org/openstack/manila-specs/specs/wallaby/metadata-for-share-resources.html\n\nChange-Id: I6ee02cb66727a3c2b425fad1d9d1245d4e9c1b24\n'}, {'number': 9, 'created': '2021-09-22 14:26:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/f88f38b90ecb40ae9f9548f61cff569e445416c8', 'message': 'Add admin only keys to share metadata\n\nIn this change, we add admin policy check for metadata keys\n""__affinity_same_host"" and ""__affinity_different_host"".\nThese keys are added an constants, allowing for the addition of other\nadmin only keys if necessary in future changes.\n\nThis change allows for the affinity filter spec[1] implementation without\nthe additional changes necessary in the metadata spec[2].\n\nAlso bumps oslo.log lower constraints to 4.6.0.\n\n[1] https://specs.openstack.org/openstack/manila-specs/specs/xena/affinity-antiaffinity-filter.html\n[2] https://specs.openstack.org/openstack/manila-specs/specs/wallaby/metadata-for-share-resources.html\n\nChange-Id: I6ee02cb66727a3c2b425fad1d9d1245d4e9c1b24\n'}, {'number': 10, 'created': '2021-11-05 17:46:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/c87bb04f6b479755d1918ec7e681e647f2a4068a', 'message': 'Add admin only keys to share metadata\n\nIn this change, we add admin policy check for metadata keys\n""__affinity_same_host"" and ""__affinity_different_host"".\nThese keys are added an constants, allowing for the addition of other\nadmin only keys if necessary in future changes.\n\nThis change allows for the affinity filter spec[1] implementation without\nthe additional changes necessary in the metadata spec[2].\n\nAlso bumps oslo.log lower constraints to 4.6.0.\n\n[1] https://specs.openstack.org/openstack/manila-specs/specs/xena/affinity-antiaffinity-filter.html\n[2] https://specs.openstack.org/openstack/manila-specs/specs/wallaby/metadata-for-share-resources.html\n\nChange-Id: I6ee02cb66727a3c2b425fad1d9d1245d4e9c1b24\n'}, {'number': 11, 'created': '2021-11-18 18:38:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/54c2b245d997afa8d1f7af9896242002ea83c732', 'message': 'Add admin only keys to share metadata\n\nIn this change, we add admin policy check for metadata keys\n""__affinity_same_host"" and ""__affinity_different_host"".\nThese keys are added an constants, allowing for the addition of other\nadmin only keys if necessary in future changes.\n\nThis change allows for the affinity filter spec[1] implementation without\nthe additional changes necessary in the metadata spec[2].\n\nAlso bumps oslo.log lower constraints to 4.6.0.\n\n[1] https://specs.openstack.org/openstack/manila-specs/specs/xena/affinity-antiaffinity-filter.html\n[2] https://specs.openstack.org/openstack/manila-specs/specs/wallaby/metadata-for-share-resources.html\n\nPartially-Implements: metadata-for-share-resources\nChange-Id: I6ee02cb66727a3c2b425fad1d9d1245d4e9c1b24\n'}, {'number': 12, 'created': '2021-11-29 18:42:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/97130977f105b932caf6dd92a8535e1a70aba236', 'message': 'Add admin only keys to share metadata\n\nIn this change, we add admin policy check for metadata keys\n""__affinity_same_host"" and ""__affinity_different_host"".\nThese keys are added an constants, allowing for the addition of other\nadmin only keys if necessary in future changes.\n\nThis change allows for the affinity filter spec[1] implementation without\nthe additional changes necessary in the metadata spec[2].\n\nAlso bumps oslo.log lower constraints to 4.6.0.\n\n[1] https://specs.openstack.org/openstack/manila-specs/specs/xena/affinity-antiaffinity-filter.html\n[2] https://specs.openstack.org/openstack/manila-specs/specs/wallaby/metadata-for-share-resources.html\n\nPartially-Implements: metadata-for-share-resources\nChange-Id: I6ee02cb66727a3c2b425fad1d9d1245d4e9c1b24\n'}, {'number': 13, 'created': '2021-11-29 18:43:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/d3a2b7b6499cb8520a6288d2880234d215796ad8', 'message': 'Add admin only keys to share metadata\n\nIn this change, we add admin policy check for metadata keys\n""__affinity_same_host"" and ""__affinity_different_host"".\nThese keys are added an constants, allowing for the addition of other\nadmin only keys if necessary in future changes.\n\nThis change allows for the affinity filter spec[1] implementation without\nthe additional changes necessary in the metadata spec[2].\n\n[1] https://specs.openstack.org/openstack/manila-specs/specs/xena/affinity-antiaffinity-filter.html\n[2] https://specs.openstack.org/openstack/manila-specs/specs/wallaby/metadata-for-share-resources.html\n\nPartially-Implements: metadata-for-share-resources\nChange-Id: I6ee02cb66727a3c2b425fad1d9d1245d4e9c1b24\n'}, {'number': 14, 'created': '2021-11-29 18:53:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/7ebc9ede94ac71f81505da994d576a4c9ca88ec4', 'message': 'Add admin only keys to share metadata\n\nIn this change, we add admin policy check for metadata keys\n""__affinity_same_host"" and ""__affinity_different_host"".\nThese keys are added an constants, allowing for the addition of other\nadmin only keys if necessary in future changes.\n\nThis change allows for the affinity filter spec[1] implementation without\nthe additional changes necessary in the metadata spec[2].\n\n[1] https://specs.openstack.org/openstack/manila-specs/specs/xena/affinity-antiaffinity-filter.html\n[2] https://specs.openstack.org/openstack/manila-specs/specs/wallaby/metadata-for-share-resources.html\n\nPartially-Implements: metadata-for-share-resources\nChange-Id: I6ee02cb66727a3c2b425fad1d9d1245d4e9c1b24\n'}, {'number': 15, 'created': '2021-11-30 20:06:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/bdc0f2021cbe10bef09a79bc40680777e062a363', 'message': 'Add admin only keys to share metadata\n\nIn this change, we add admin policy check for metadata keys\n""__affinity_same_host"" and ""__affinity_different_host"".\nThese keys are added an constants, allowing for the addition of other\nadmin only keys if necessary in future changes.\n\nThis change allows for the affinity filter spec[1] implementation without\nthe additional changes necessary in the metadata spec[2].\n\n[1] https://specs.openstack.org/openstack/manila-specs/specs/xena/affinity-antiaffinity-filter.html\n[2] https://specs.openstack.org/openstack/manila-specs/specs/wallaby/metadata-for-share-resources.html\n\nDepends-On: Iced1edc86adbad987468633b4433121ae9b1231c\nPartially-Implements: metadata-for-share-resources\nChange-Id: I6ee02cb66727a3c2b425fad1d9d1245d4e9c1b24\n'}, {'number': 16, 'created': '2021-12-09 20:48:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/e1f0e4ef9b34fc34bf441245ebc7d8c61bd28736', 'message': 'Add admin only keys to share metadata\n\nIn this change, we add admin policy check for metadata keys\n""__affinity_same_host"" and ""__affinity_different_host"".\nThese keys are added an constants, allowing for the addition of other\nadmin only keys if necessary in future changes.\n\nThis change allows for the affinity filter spec[1] implementation without\nthe additional changes necessary in the metadata spec[2].\n\n[1] https://specs.openstack.org/openstack/manila-specs/specs/xena/affinity-antiaffinity-filter.html\n[2] https://specs.openstack.org/openstack/manila-specs/specs/wallaby/metadata-for-share-resources.html\n\nPartially-Implements: metadata-for-share-resources\nChange-Id: I6ee02cb66727a3c2b425fad1d9d1245d4e9c1b24\n'}, {'number': 17, 'created': '2021-12-14 23:09:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/aff38f7a7385e8bd1fa6edcff2afbfe347ed478e', 'message': 'Add admin only keys to share metadata\n\nIn this change, we add admin policy check for metadata keys\n""__affinity_same_host"" and ""__affinity_different_host"".\nThese keys are added an constants, allowing for the addition of other\nadmin only keys if necessary in future changes.\n\nThis change allows for the affinity filter spec[1] implementation without\nthe additional changes necessary in the metadata spec[2].\n\n[1] https://specs.openstack.org/openstack/manila-specs/specs/xena/affinity-antiaffinity-filter.html\n[2] https://specs.openstack.org/openstack/manila-specs/specs/wallaby/metadata-for-share-resources.html\n\nPartially-Implements: metadata-for-share-resources\nChange-Id: I6ee02cb66727a3c2b425fad1d9d1245d4e9c1b24\n'}, {'number': 18, 'created': '2021-12-16 17:06:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/d15e47379548fbb621b60e98b0867a86cb82e9da', 'message': 'Add admin only keys to share metadata\n\nIn this change, we add admin policy check for metadata keys\n""__affinity_same_host"" and ""__affinity_different_host"".\nThese keys are added an constants, allowing for the addition of other\nadmin only keys if necessary in future changes.\n\nThis change allows for the affinity filter spec[1] implementation without\nthe additional changes necessary in the metadata spec[2].\n\n[1] https://specs.openstack.org/openstack/manila-specs/specs/xena/affinity-antiaffinity-filter.html\n[2] https://specs.openstack.org/openstack/manila-specs/specs/wallaby/metadata-for-share-resources.html\n\nPartially-Implements: metadata-for-share-resources\nChange-Id: I6ee02cb66727a3c2b425fad1d9d1245d4e9c1b24\n'}, {'number': 19, 'created': '2022-01-06 16:54:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/ae98abe9e4d3ca4cdbf769ec2a8ca498784c409d', 'message': 'Add admin only keys to share metadata\n\nIn this change, we add admin policy check for metadata keys\n""__affinity_same_host"" and ""__affinity_different_host"".\nThese keys are added an constants, allowing for the addition of other\nadmin only keys if necessary in future changes.\n\nThis change allows for the affinity filter spec[1] implementation without\nthe additional changes necessary in the metadata spec[2].\n\n[1] https://specs.openstack.org/openstack/manila-specs/specs/xena/affinity-antiaffinity-filter.html\n[2] https://specs.openstack.org/openstack/manila-specs/specs/wallaby/metadata-for-share-resources.html\n\nPartially-Implements: metadata-for-share-resources\nChange-Id: I6ee02cb66727a3c2b425fad1d9d1245d4e9c1b24\n'}, {'number': 20, 'created': '2022-01-17 21:04:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/3ed167925a35e018d6977fcbfd76af9975c474c5', 'message': 'Add admin only keys to share metadata\n\nIn this change, we add admin policy check for metadata keys\n""__affinity_same_host"" and ""__affinity_different_host"".\nThese keys are added an constants, allowing for the addition of other\nadmin only keys if necessary in future changes.\n\nThis change allows for the affinity filter spec[1] implementation without\nthe additional changes necessary in the metadata spec[2].\n\n[1] https://specs.openstack.org/openstack/manila-specs/specs/xena/affinity-antiaffinity-filter.html\n[2] https://specs.openstack.org/openstack/manila-specs/specs/wallaby/metadata-for-share-resources.html\n\nPartially-Implements: metadata-for-share-resources\nChange-Id: I6ee02cb66727a3c2b425fad1d9d1245d4e9c1b24\n'}, {'number': 21, 'created': '2022-01-24 21:40:25.000000000', 'files': ['manila/tests/api/v1/test_share_metadata.py', 'manila/share/api.py', 'manila/api/v1/share_metadata.py', 'manila/policies/shares.py', 'manila/api/openstack/api_version_request.py', 'manila/api/openstack/rest_api_version_history.rst', 'manila/common/constants.py', 'releasenotes/notes/add-admin-only-keys-to-share-metadata-5301424ccd9edf8a.yaml'], 'web_link': 'https://opendev.org/openstack/manila/commit/0f161ce17a3116c0777091e1551204fecccabc61', 'message': 'Add admin only keys to share metadata\n\nIn this change, we add admin policy check for metadata keys\n""__affinity_same_host"" and ""__affinity_different_host"".\nThese keys are added an constants, allowing for the addition of other\nadmin only keys if necessary in future changes.\n\nThis change allows for the affinity filter spec[1] implementation without\nthe additional changes necessary in the metadata spec[2].\n\nBumps microversion to 2.68.\n\n[1] https://specs.openstack.org/openstack/manila-specs/specs/xena/affinity-antiaffinity-filter.html\n[2] https://specs.openstack.org/openstack/manila-specs/specs/wallaby/metadata-for-share-resources.html\n\nPartially-Implements: metadata-for-share-resources\nChange-Id: I6ee02cb66727a3c2b425fad1d9d1245d4e9c1b24\n'}]",116,806647,0f161ce17a3116c0777091e1551204fecccabc61,155,6,21,32594,,,0,"Add admin only keys to share metadata

In this change, we add admin policy check for metadata keys
""__affinity_same_host"" and ""__affinity_different_host"".
These keys are added an constants, allowing for the addition of other
admin only keys if necessary in future changes.

This change allows for the affinity filter spec[1] implementation without
the additional changes necessary in the metadata spec[2].

Bumps microversion to 2.68.

[1] https://specs.openstack.org/openstack/manila-specs/specs/xena/affinity-antiaffinity-filter.html
[2] https://specs.openstack.org/openstack/manila-specs/specs/wallaby/metadata-for-share-resources.html

Partially-Implements: metadata-for-share-resources
Change-Id: I6ee02cb66727a3c2b425fad1d9d1245d4e9c1b24
",git fetch https://review.opendev.org/openstack/manila refs/changes/47/806647/8 && git format-patch -1 --stdout FETCH_HEAD,"['manila/db/api.py', 'manila/tests/api/v1/test_share_metadata.py', 'manila/db/sqlalchemy/models.py', 'manila/db/sqlalchemy/api.py', 'manila/api/v1/share_metadata.py', 'manila/policies/shares.py', 'manila/db/migrations/alembic/versions/efd1b7fefcb6_change_share_metadata_table.py']",7,583d0dd480fb79f6e581432e638e10331701e1af,bp/metadata-for-share-resources,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. """"""change_share_metadata_table Revision ID: efd1b7fefcb6 Revises: fbdfabcba377 Create Date: 2021-08-18 20:16:36.563756 """""" # revision identifiers, used by Alembic. revision = 'efd1b7fefcb6' down_revision = 'fbdfabcba377' from alembic import op from manila.db.migrations import utils from oslo_log import log import sqlalchemy as sql LOG = log.getLogger(__name__) def upgrade(): connection = op.get_bind() try: user_modifiable = sql.Column( 'user_modifiable', sql.Boolean, default=True, nullable=False) op.add_column('share_metadata', user_modifiable) share_metadata_table_name = utils.load_table( 'share_metadata', connection) op.execute( share_metadata_table_name.update().values({ 'user_modifiable': True, })) except Exception: LOG.error(""Column user_modifiable not created on |%s|!"", share_metadata_table_name) raise def downgrade(): try: op.drop_column( 'share_metadata', 'user_modifiable') except Exception: LOG.error( ""Column user_modifiable not dropped from %s"", 'share_metadata') raise ",,154,12
openstack%2Fpython-manilaclient~master~I2207da7b2d157681747e22570bed0ca18a72d717,openstack/python-manilaclient,master,I2207da7b2d157681747e22570bed0ca18a72d717,Add missing space in server migration complete,MERGED,2022-02-03 20:59:45.000000000,2022-02-05 00:08:13.000000000,2022-02-05 00:06:43.000000000,"[{'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 30998}, {'_account_id': 31721}]","[{'number': 1, 'created': '2022-02-03 20:59:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/befbf96741eb975ea0d8e3f9e0369360a1a46b2a', 'message': 'Add missing space in server migration complete\n\nChange-Id: I2207da7b2d157681747e22570bed0ca18a72d717\n'}, {'number': 2, 'created': '2022-02-04 17:10:41.000000000', 'files': ['manilaclient/v2/shell.py'], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/20a4a0ac54934b768fee18aa0752e6dd6c01c46d', 'message': 'Add missing space in server migration complete\n\nTrivialFix\n\nChange-Id: I2207da7b2d157681747e22570bed0ca18a72d717\n'}]",5,827764,20a4a0ac54934b768fee18aa0752e6dd6c01c46d,13,4,2,32411,,,0,"Add missing space in server migration complete

TrivialFix

Change-Id: I2207da7b2d157681747e22570bed0ca18a72d717
",git fetch https://review.opendev.org/openstack/python-manilaclient refs/changes/64/827764/2 && git format-patch -1 --stdout FETCH_HEAD,['manilaclient/v2/shell.py'],1,befbf96741eb975ea0d8e3f9e0369360a1a46b2a,," (Admin only, Experimental)."," (Admin only,Experimental).",1,1
openstack%2Fcharm-magnum~master~If2788f63ccfa9724e06ba37c007f4168ed6f5ac3,openstack/charm-magnum,master,If2788f63ccfa9724e06ba37c007f4168ed6f5ac3,Update to build using charmcraft,MERGED,2022-02-01 20:19:30.000000000,2022-02-05 00:02:28.000000000,2022-02-05 00:02:28.000000000,"[{'_account_id': 8992}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-01 20:19:30.000000000', 'files': ['osci.yaml', 'test-requirements.txt', 'build-requirements.txt', 'src/tests/bundles/impish-xena.yaml', 'src/tests/bundles/focal-xena.yaml', 'src/test-requirements.txt', 'src/tests/tests.yaml', 'src/tests/bundles/focal-yoga.yaml', 'src/tests/bundles/jammy-yoga.yaml', 'rename.sh', 'charmcraft.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-magnum/commit/69ddf12d611395b98ddd2a97144b769abd301155', 'message': 'Update to build using charmcraft\n\nDue to a build problem with the reactive plugin, this change falls back\non overriding the steps and doing a manual build, but it also ensures\nthe CI system builds the charm using charmcraft.  Changes:\n\n- add a build-requirements.txt\n- modify charmcraft.yaml\n- modify osci.yaml\n    -> indicate build with charmcraft\n- modify tox.ini\n    -> tox -e build does charmcraft build/rename\n    -> tox -e build-reactive does the reactive build\n- modify bundles to use the <charm>.charm artifact in tests.\n  and fix deprecation warning re: prefix\n- tox inception to enable tox -e func-test in the CI\n\nChange-Id: If2788f63ccfa9724e06ba37c007f4168ed6f5ac3\n'}]",2,827353,69ddf12d611395b98ddd2a97144b769abd301155,11,3,1,20870,,,0,"Update to build using charmcraft

Due to a build problem with the reactive plugin, this change falls back
on overriding the steps and doing a manual build, but it also ensures
the CI system builds the charm using charmcraft.  Changes:

- add a build-requirements.txt
- modify charmcraft.yaml
- modify osci.yaml
    -> indicate build with charmcraft
- modify tox.ini
    -> tox -e build does charmcraft build/rename
    -> tox -e build-reactive does the reactive build
- modify bundles to use the <charm>.charm artifact in tests.
  and fix deprecation warning re: prefix
- tox inception to enable tox -e func-test in the CI

Change-Id: If2788f63ccfa9724e06ba37c007f4168ed6f5ac3
",git fetch https://review.opendev.org/openstack/charm-magnum refs/changes/53/827353/1 && git format-patch -1 --stdout FETCH_HEAD,"['osci.yaml', 'test-requirements.txt', 'build-requirements.txt', 'src/tests/bundles/impish-xena.yaml', 'src/tests/bundles/focal-xena.yaml', 'src/test-requirements.txt', 'src/tests/tests.yaml', 'src/tests/bundles/focal-yoga.yaml', 'src/tests/bundles/jammy-yoga.yaml', 'rename.sh', 'charmcraft.yaml', 'tox.ini']",12,69ddf12d611395b98ddd2a97144b769abd301155,charmhub-migration-master,"allowlist_externals = charmcraft bash tox rename.shdeps = -r{toxinidir}/build-requirements.txt commands = charmcraft clean charmcraft -v build {toxinidir}/rename.sh [testenv:build-reactive] basepython = python3[testenv:func-target] # Hack to get functional tests working in the charmcraft # world. We should fix this. basepython = python3 passenv = HOME TERM CS_* OS_* TEST_* deps = -r{toxinidir}/src/test-requirements.txt changedir = {toxinidir}/src commands = bash -c ""if [ ! -f ../*.charm ]; then echo 'Charm does not exist. Run tox -e build'; exit 1; fi"" tox --version tox -e func-target {posargs} ",,78,8
openstack%2Ftripleo-heat-templates~master~I755ef460ca06fdc5bed3a05bba75c63b288b3af8,openstack/tripleo-heat-templates,master,I755ef460ca06fdc5bed3a05bba75c63b288b3af8,Added rabbit FIPS flag to FIPS env fle,MERGED,2021-11-29 19:01:50.000000000,2022-02-05 00:01:10.000000000,2022-02-05 00:01:10.000000000,"[{'_account_id': 7353}, {'_account_id': 9914}, {'_account_id': 14985}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-11-29 19:01:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d02288c8db5709e0ddd327e750b8934da152ca79', 'message': 'WIP/DNM Added rabbit params for testing\n\nFIPS requires rabbit to start up in FIPS mode or it will generate an\ned25519 key by default on startup.  We are working on a FIPS flag\nto add the relevant parameters, but for now, lets add them here for\ntesting.\n\nChange-Id: I755ef460ca06fdc5bed3a05bba75c63b288b3af8\n'}, {'number': 2, 'created': '2021-12-02 22:49:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/328b637821996003045dddcca6bafc4dc299839e', 'message': 'WIP/DNM Added rabbit params for testing\n\nFIPS requires rabbit to start up in FIPS mode or it will generate an\ned25519 key by default on startup.  We are working on a FIPS flag\nto add the relevant parameters, but for now, lets add them here for\ntesting.\n\nAlso added some parameters to get more debug info for scenario 4 to\nfigure out why ceph rgw is taking so long to come up.\n\nChange-Id: I755ef460ca06fdc5bed3a05bba75c63b288b3af8\n'}, {'number': 3, 'created': '2021-12-06 19:29:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/914d8de274c4d4b478da7040b12011430d5296db', 'message': 'WIP/DNM Added rabbit params for testing\n\nFIPS requires rabbit to start up in FIPS mode or it will generate an\ned25519 key by default on startup.  We are working on a FIPS flag\nto add the relevant parameters, but for now, lets add them here for\ntesting.\n\nAlso added some parameters to get more debug info for scenario 4 to\nfigure out why ceph rgw is taking so long to come up.\n\nChange-Id: I755ef460ca06fdc5bed3a05bba75c63b288b3af8\n'}, {'number': 4, 'created': '2021-12-06 19:40:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d1ece6c4f8de142259206bd83bc63b8375fe3b11', 'message': 'WIP/DNM Added rabbit params for testing\n\nFIPS requires rabbit to start up in FIPS mode or it will generate an\ned25519 key by default on startup.  We are working on a FIPS flag\nto add the relevant parameters, but for now, lets add them here for\ntesting.\n\nAlso added some parameters to get more debug info for scenario 4 to\nfigure out why ceph rgw is taking so long to come up.\n\nChange-Id: I755ef460ca06fdc5bed3a05bba75c63b288b3af8\n'}, {'number': 5, 'created': '2021-12-08 21:08:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3af8d3cdb02d1139e2d13359efe7ccaccb757096', 'message': 'WIP/DNM Added rabbit params for testing\n\nFIPS requires rabbit to start up in FIPS mode or it will generate an\ned25519 key by default on startup.  We are working on a FIPS flag\nto add the relevant parameters, but for now, lets add them here for\ntesting.\n\nAlso modify scenario004 to use a Ceph devel container for RGW until\nhttps://tracker.ceph.com/issues/53007 is resolved.\n\nChange-Id: I755ef460ca06fdc5bed3a05bba75c63b288b3af8\n'}, {'number': 6, 'created': '2021-12-09 00:31:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0ca3d26c84f3526a3959b9994c746ae692c8358a', 'message': 'WIP/DNM Added rabbit params for testing\n\nFIPS requires rabbit to start up in FIPS mode or it will generate an\ned25519 key by default on startup.  We are working on a FIPS flag\nto add the relevant parameters, but for now, lets add them here for\ntesting.\n\nAlso modify scenario004 to use a Ceph devel container for RGW until\nhttps://tracker.ceph.com/issues/53007 is resolved.\n\nChange-Id: I755ef460ca06fdc5bed3a05bba75c63b288b3af8\n'}, {'number': 7, 'created': '2021-12-17 19:45:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/61c575efa49f91080b953bfba15835caa34d2ab3', 'message': 'WIP/DNM Added rabbit params for testing\n\nFIPS requires rabbit to start up in FIPS mode or it will generate an\ned25519 key by default on startup.  We are working on a FIPS flag\nto add the relevant parameters, but for now, lets add them here for\ntesting.\n\nAlso modify scenario004 to use a Ceph devel container for RGW until\nhttps://tracker.ceph.com/issues/53007 is resolved.\n\nAlso modify scenario004 to try not using Ceph RGW to see if tests\npass with swift instead.\n\nChange-Id: I755ef460ca06fdc5bed3a05bba75c63b288b3af8\n'}, {'number': 8, 'created': '2021-12-17 19:45:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5dec2267a8211f02471611fc24b05aec9aae2d6e', 'message': 'WIP/DNM Added rabbit params for testing\n\nFIPS requires rabbit to start up in FIPS mode or it will generate an\ned25519 key by default on startup.  We are working on a FIPS flag\nto add the relevant parameters, but for now, lets add them here for\ntesting.\n\nAlso modify scenario004 to use a Ceph devel container for RGW until\nhttps://tracker.ceph.com/issues/53007 is resolved.\n\nAlso modify scenario004 to try not using Ceph RGW to see if tests\npass with swift instead.\n\nChange-Id: I755ef460ca06fdc5bed3a05bba75c63b288b3af8\n'}, {'number': 9, 'created': '2022-01-12 19:08:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/dd8ddb37be286e5a387d8dd9942a607f0347b37f', 'message': 'WIP/DNM Added rabbit params for testing\n\nFIPS requires rabbit to start up in FIPS mode or it will generate an\ned25519 key by default on startup.  We are working on a FIPS flag\nto add the relevant parameters, but for now, lets add them here for\ntesting.\n\nChange-Id: I755ef460ca06fdc5bed3a05bba75c63b288b3af8\n'}, {'number': 10, 'created': '2022-01-25 15:09:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7570233b44ce15ef3805ac166b87d56a4f83a601', 'message': 'WIP Added rabbit params for testing\n\nFIPS requires rabbit to start up in FIPS mode or it will generate an\ned25519 key by default on startup.\nWe are working on a FIPS flag to add the relevant parameters,\nbut for now, lets add them here for testing.\n\nChange-Id: I755ef460ca06fdc5bed3a05bba75c63b288b3af8\n'}, {'number': 11, 'created': '2022-01-27 03:56:29.000000000', 'files': ['environments/fips.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ff7bc29c77180827436efabbaa08343ddddebb11', 'message': 'Added rabbit FIPS flag to FIPS env fle\n\nFIPS requires rabbit to start up in FIPS mode or it will generate an\ned25519 key by default on startup.  The Rabbit FIPS flag sets the\nappropriate parameters for this to happen.\n\nChange-Id: I755ef460ca06fdc5bed3a05bba75c63b288b3af8\n'}]",5,819697,ff7bc29c77180827436efabbaa08343ddddebb11,40,6,11,9914,,,0,"Added rabbit FIPS flag to FIPS env fle

FIPS requires rabbit to start up in FIPS mode or it will generate an
ed25519 key by default on startup.  The Rabbit FIPS flag sets the
appropriate parameters for this to happen.

Change-Id: I755ef460ca06fdc5bed3a05bba75c63b288b3af8
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/97/819697/6 && git format-patch -1 --stdout FETCH_HEAD,['environments/fips.yaml'],1,d02288c8db5709e0ddd327e750b8934da152ca79,fips-compatibility," # Add RabbitAdditionalErlArgs for FIPS RabbitAdditionalErlArgs: ""'+sbwt none +sbwtdcpu none +sbwtdio none -crypto fips_mode true'""",,3,0
openstack%2Ftripleo-ansible~master~Id644bc5b3d780555a175a659709dd6181fb71392,openstack/tripleo-ansible,master,Id644bc5b3d780555a175a659709dd6181fb71392,"Revert ""Ensure httpd is allowed to listen on the port""",MERGED,2022-02-04 14:13:24.000000000,2022-02-05 00:01:08.000000000,2022-02-05 00:01:08.000000000,"[{'_account_id': 6926}, {'_account_id': 7353}, {'_account_id': 8449}, {'_account_id': 9976}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30002}]","[{'number': 1, 'created': '2022-02-04 14:13:24.000000000', 'files': ['tripleo_ansible/roles/test_deps/vars/redhat-8.yml', 'tripleo_ansible/roles/test_deps/vars/fedora.yml', 'tripleo_ansible/roles/tripleo_image_serve/tasks/main.yml', 'tripleo_ansible/roles/test_deps/vars/centos-8.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/95a40f167093d19f512c5adc12b6a6b625d7e744', 'message': 'Revert ""Ensure httpd is allowed to listen on the port""\n\nThis reverts commit 8378ac7ae4f21dc99347a432df878d911ec8efc4.\n\nReason for revert: zuul is crashing with this on the periodic build job:\nERROR! no action detected in task. This often indicates a misspelled module name, or incorrect module path.\n\nChange-Id: Id644bc5b3d780555a175a659709dd6181fb71392\n'}]",2,827748,95a40f167093d19f512c5adc12b6a6b625d7e744,13,9,1,28223,,,0,"Revert ""Ensure httpd is allowed to listen on the port""

This reverts commit 8378ac7ae4f21dc99347a432df878d911ec8efc4.

Reason for revert: zuul is crashing with this on the periodic build job:
ERROR! no action detected in task. This often indicates a misspelled module name, or incorrect module path.

Change-Id: Id644bc5b3d780555a175a659709dd6181fb71392
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/48/827748/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/test_deps/vars/redhat-8.yml', 'tripleo_ansible/roles/test_deps/vars/fedora.yml', 'tripleo_ansible/roles/tripleo_image_serve/tasks/main.yml', 'tripleo_ansible/roles/test_deps/vars/centos-8.yml']",4,95a40f167093d19f512c5adc12b6a6b625d7e744,image_serve-seport,, - python3-policycoreutils,0,22
openstack%2Fvalidations-common~master~I24d04038b5add2a02577c94a5d7642e2e620088a,openstack/validations-common,master,I24d04038b5add2a02577c94a5d7642e2e620088a,Modifying catalogue execution test to resolve component pipeline issue,MERGED,2022-02-03 08:04:43.000000000,2022-02-05 00:01:05.000000000,2022-02-05 00:01:05.000000000,"[{'_account_id': 15895}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}]","[{'number': 1, 'created': '2022-02-03 08:04:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/5374c79a8fc8aae82335793d2c889b92c1489b5c', 'message': 'Modifying catalogue execution test to resolve component pipeline issue\n\nFollowing validations were detecting changes in the image\nused by CI and reporting them as issues.\nWhile correct in case of a customer deployment,\nit is unnecessary within the component pipeline.\n\n    - check-disk-space\n    - check-disk-space-pre-upgrade\n    - image-serve\n    - undercloud-disk-space-pre-upgrade\n    - undercloud-disk-space\n\nThe catalogue test will now no longer execute these validations.\n\nCloses-Bug: #1959864\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I24d04038b5add2a02577c94a5d7642e2e620088a\n'}, {'number': 2, 'created': '2022-02-03 09:03:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/0f790316f8eb12117e77b129ea6bcff2af44f238', 'message': 'Modifying catalogue execution test to resolve component pipeline issue\n\nFollowing validations were detecting changes in the image\nused by CI and reporting them as issues.\nWhile correct in case of a customer deployment,\nit is unnecessary within the component pipeline.\n\nThe catalogue test will now no longer execute this validation.\n    - image-serve\n\nFollowing validations will recieve variable overrides.\n    - check-disk-space\n    - check-disk-space-pre-upgrade\n    - undercloud-disk-space-pre-upgrade\n    - undercloud-disk-space\n\nCloses-Bug: #1959864\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I24d04038b5add2a02577c94a5d7642e2e620088a\n'}, {'number': 3, 'created': '2022-02-03 13:16:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/5aa38c5e2af7704c3bc7318caaca62149334ba9d', 'message': 'Modifying catalogue execution test to resolve component pipeline issue\n\nFollowing validations were detecting changes in the image\nused by CI and reporting them as issues.\nWhile correct in case of a customer deployment,\nit is unnecessary within the component pipeline.\n\nThe catalogue test will now no longer execute this validation.\n    - image-serve\n\nFollowing validations will recieve variable overrides.\n    - check-disk-space\n    - check-disk-space-pre-upgrade\n    - undercloud-disk-space-pre-upgrade\n    - undercloud-disk-space\n\nCloses-Bug: #1959864\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I24d04038b5add2a02577c94a5d7642e2e620088a\n'}, {'number': 4, 'created': '2022-02-03 13:46:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/98e70de206092a0f84db26ea6146228fa0117ebf', 'message': 'Modifying catalogue execution test to resolve component pipeline issue\n\nFollowing validations were detecting changes in the image\nused by CI and reporting them as issues.\nWhile correct in case of a customer deployment,\nit is unnecessary within the component pipeline.\n\nThe catalogue test will now no longer execute this validation.\n    - image-serve\n\nFollowing validations will recieve variable overrides.\n    - check-disk-space\n    - check-disk-space-pre-upgrade\n    - undercloud-disk-space-pre-upgrade\n    - undercloud-disk-space\n\nCloses-Bug: #1959864\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I24d04038b5add2a02577c94a5d7642e2e620088a\n'}, {'number': 5, 'created': '2022-02-03 14:23:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/9eb51ac27bf7532ef9bfc725fe84bf1908e1e8a5', 'message': 'Modifying catalogue execution test to resolve component pipeline issue\n\nFollowing validations were detecting changes in the image\nused by CI and reporting them as issues.\nWhile correct in case of a customer deployment,\nit is unnecessary within the component pipeline.\n\nThe catalogue test will now no longer execute this validation.\n    - image-serve\n\nFollowing validations will recieve variable overrides.\n    - check-disk-space\n    - check-disk-space-pre-upgrade\n    - undercloud-disk-space-pre-upgrade\n    - undercloud-disk-space\n\nCloses-Bug: #1959864\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I24d04038b5add2a02577c94a5d7642e2e620088a\n'}, {'number': 6, 'created': '2022-02-03 17:49:26.000000000', 'files': ['roles/validations/tasks/main.yaml', 'roles/validations/files/catalog_vars_override.yaml', 'roles/validations/tasks/execute_full_catalogue.yaml', 'roles/validations/defaults/main.yaml', 'roles/validations/vars/main.yaml'], 'web_link': 'https://opendev.org/openstack/validations-common/commit/d7821d134744119076399b2cf8dd632f6c25f010', 'message': 'Modifying catalogue execution test to resolve component pipeline issue\n\nFollowing validations were detecting changes in the image\nused by CI and reporting them as issues.\nWhile correct in case of a customer deployment,\nit is unnecessary within the component pipeline.\n\nThe catalogue test will now no longer execute this validation.\n    - image-serve\n\nFollowing validations will recieve variable overrides.\n    - check-disk-space\n    - check-disk-space-pre-upgrade\n    - undercloud-disk-space-pre-upgrade\n    - undercloud-disk-space\n\nCloses-Bug: #1959864\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I24d04038b5add2a02577c94a5d7642e2e620088a\n'}]",0,827599,d7821d134744119076399b2cf8dd632f6c25f010,16,5,6,32926,,,0,"Modifying catalogue execution test to resolve component pipeline issue

Following validations were detecting changes in the image
used by CI and reporting them as issues.
While correct in case of a customer deployment,
it is unnecessary within the component pipeline.

The catalogue test will now no longer execute this validation.
    - image-serve

Following validations will recieve variable overrides.
    - check-disk-space
    - check-disk-space-pre-upgrade
    - undercloud-disk-space-pre-upgrade
    - undercloud-disk-space

Closes-Bug: #1959864

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I24d04038b5add2a02577c94a5d7642e2e620088a
",git fetch https://review.opendev.org/openstack/validations-common refs/changes/99/827599/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/validations/vars/main.yaml'],1,5374c79a8fc8aae82335793d2c889b92c1489b5c,component-pipeline,# LP#1959864 # - check-disk-space # - check-disk-space-pre-upgrade # - image-serve # - undercloud-disk-space-pre-upgrade # - undercloud-disk-space, - check-disk-space - check-disk-space-pre-upgrade - image-serve - undercloud-disk-space - undercloud-disk-space-pre-upgrade,6,5
openstack%2Ftripleo-ansible~stable%2Ftrain~I79d8011d128357282fd1a847a24fb11971eb1487,openstack/tripleo-ansible,stable/train,I79d8011d128357282fd1a847a24fb11971eb1487,Rename variables to keep being the same as in wallaby,MERGED,2022-02-03 09:38:01.000000000,2022-02-05 00:01:03.000000000,2022-02-05 00:01:03.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 22954}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-02-03 09:38:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/c21acf28fa85b3c254e4dd920fb1534c91434406', 'message': 'Rename variables to keep being the same as in wallaby\n\nSome variables needed to be changed to adapt to the new process of doing\nrestores using PXE/Ironic. Even if this feature is not going back to v,\nu and t, we would want to keep the variables that do the same called the\nsame among all versions of the product. This change renames some\nvariables to achieve this.\n\nChange-Id: I79d8011d128357282fd1a847a24fb11971eb1487\n(cherry picked from commit c6a27f9b53e18794fb2b345dcfec9138ceef78bc)\n'}, {'number': 2, 'created': '2022-02-03 09:43:53.000000000', 'files': ['tripleo_ansible/roles/backup-and-restore/defaults/main.yml', 'tripleo_ansible/roles/backup-and-restore/setup_rear/tasks/main.yml', 'tripleo_ansible/roles/backup-and-restore/molecule/default/playbook.yml', 'tripleo_ansible/roles/backup-and-restore/setup_nfs/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/21fbf621f37da669793bc8a28b5fdea1fed63595', 'message': 'Rename variables to keep being the same as in wallaby\n\nSome variables needed to be changed to adapt to the new process of doing\nrestores using PXE/Ironic. Even if this feature is not going back to v,\nu and t, we would want to keep the variables that do the same called the\nsame among all versions of the product. This change renames some\nvariables to achieve this.\n\nChange-Id: I79d8011d128357282fd1a847a24fb11971eb1487\n(cherry picked from commit c6a27f9b53e18794fb2b345dcfec9138ceef78bc)\n'}]",0,827630,21fbf621f37da669793bc8a28b5fdea1fed63595,9,4,2,32968,,,0,"Rename variables to keep being the same as in wallaby

Some variables needed to be changed to adapt to the new process of doing
restores using PXE/Ironic. Even if this feature is not going back to v,
u and t, we would want to keep the variables that do the same called the
same among all versions of the product. This change renames some
variables to achieve this.

Change-Id: I79d8011d128357282fd1a847a24fb11971eb1487
(cherry picked from commit c6a27f9b53e18794fb2b345dcfec9138ceef78bc)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/30/827630/2 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/backup_and_restore/molecule/default/converge.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/setup_rear.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/setup_nfs.yml', 'tripleo_ansible/roles/backup_and_restore/defaults/main.yml']",4,c21acf28fa85b3c254e4dd920fb1534c91434406,remove_nfs_variables-stable/ussuri-stable/train,"<<<<<<< HEAD (2a941a Enable B&R of systems using UEFI bootloader) ======= --- # Copyright 2019 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # All variables intended for modification should be placed in this file. tripleo_backup_and_restore_hide_sensitive_logs: ""{{ hide_sensitive_logs | default(true) }}"" tripleo_backup_and_restore_debug: ""{{ ((ansible_verbosity | int) >= 2) | bool }}"" # Set the container command line entry-point tripleo_container_cli: ""{{ container_cli | default('podman') }}"" # Stop and start all running services before backup is ran. tripleo_backup_and_restore_service_manager: true # If this is false, backup of the overcloud is taken by stopping it completely. Enable it to do a # backup stopping only one node at a time, maintaining the controller active during the backup duration. tripleo_backup_and_restore_enable_snapshots: true # Set the name of the mysql container tripleo_backup_and_restore_mysql_container: mysql # Default name for the Undercloud mysql DB backup file tripleo_backup_and_restore_mysql_backup_file: ""openstack-backup-mysql.sql"" # Default name for the Undercloud mysql DB grants file tripleo_backup_and_restore_mysql_grants_file: ""openstack-backup-mysql-grants.sql"" # All variables within this role should have a prefix of ""tripleo_backup_and_restore"" # By default this should be the Undercloud node tripleo_backup_and_restore_server: 192.168.24.1 tripleo_backup_and_restore_shared_storage_folder: /ctl_plane_backups tripleo_backup_and_restore_clients_nets: ['192.168.24.0/24', '10.0.0.0/24', '172.16.0.0/24'] tripleo_backup_and_restore_rear_simulate: false tripleo_backup_and_restore_using_uefi_bootloader: 0 tripleo_backup_and_restore_exclude_paths_common: ['/data/*', '/tmp/*', '{{ tripleo_backup_and_restore_shared_storage_folder }}/*'] tripleo_backup_and_restore_exclude_paths_controller_non_bootstrapnode: false tripleo_backup_and_restore_exclude_paths_controller: ['/var/lib/mysql/*'] tripleo_backup_and_restore_exclude_paths_compute: ['/var/lib/nova/instances/*'] tripleo_backup_and_restore_hiera_config_file: ""/etc/puppet/hiera.yaml"" # This var is a dictionary of the configuration of the /etc/rear/local.conf # The key:value will be interpreted as key=value on the configuration file. # To set that the value is a string, it needs to be single quoted followed by # double quoted as it will be interpreted by BASH. tripleo_backup_and_restore_local_config: ISO_DEFAULT: '""automatic""' OUTPUT: ISO BACKUP: NETFS BACKUP_PROG_COMPRESS_OPTIONS: '( --gzip)' BACKUP_PROG_COMPRESS_SUFFIX: '"".gz""' # This var is a dictionary of the configuration of the /etc/rear/rescue.conf # The key:value will be interpreted as key=value on the configuration file. # To set that the value is a string, it needs to be single quoted followed by # double quoted as it will be interpreted by BASH. tripleo_backup_and_restore_rescue_config: {} tripleo_backup_and_restore_output_url: ""nfs://{{ tripleo_backup_and_restore_server }}{{ tripleo_backup_and_restore_shared_storage_folder }}"" tripleo_backup_and_restore_backup_url: ""nfs://{{ tripleo_backup_and_restore_server }}{{ tripleo_backup_and_restore_shared_storage_folder }}"" # Ceph authentication backup file tripleo_backup_and_restore_ceph_auth_file: ""ceph_auth_export.bak"" # If there is a firewalld active, setup the zone where the NFS server ports need to be opened tripleo_backup_and_restore_firewalld_zone: ""libvirt"" # The ReaR rpm installs a cronjob at 1:30 each day by default. This variable deactivate that behaviour. tripleo_backup_and_restore_remove_default_cronjob: true # Skip the ping test to the NFS server on rear setup tripleo_backup_and_restore_skip_server_test: false # How many seconds do we want to wait fir pcs cluster stop to finish tripleo_backup_and_restore_pcs_timeout: 3600 # Date argument to get the string of the backup tripleo_backup_and_restore_date_argument: '%Y%m%d%H%M' # Enable historical backups tripleo_backup_and_restore_historical: true # Cron programming, by default, run cron weekly at midnight on Sundays tripleo_backup_and_restore_cron: ""0 0 * * 0"" # The user that will run the backup command. If empty, root will run the backup command tripleo_backup_and_restore_cron_user: ""stack"" # Any extra parameters that will be added to the backup command when it is executed by cron tripleo_backup_and_restore_cron_extra: """" # The role which handles the ceph on the controllers tripleo_backup_and_restore_ceph_mon_role: ""ceph_mon"" # The cephadm path tripleo_backup_and_restore_cephadm_path: ""/usr/sbin/cephadm"" # The partition (/dev/whatever) that contain the /boot and /boot/efi contents # but that are not mounted. These variables should only contain the last part # of the partition (the whatever), i.e: sda2, sda1, vda2, sdb3, sdc1... tripleo_backup_and_restore_boot_mount: replaceme tripleo_backup_and_restore_boot_efi_mount: replaceme >>>>>>> CHANGE (d0aa36 Rename variables to keep being the same as in wallaby) ",,513,0
openstack%2Fpbr~master~Ic9e02eb33fcc86e8e21737e47921b06eb5be6335,openstack/pbr,master,Ic9e02eb33fcc86e8e21737e47921b06eb5be6335,Break pbr() recursion via alternative method,ABANDONED,2022-02-04 21:58:20.000000000,2022-02-04 23:55:21.000000000,,[],"[{'number': 1, 'created': '2022-02-04 21:58:20.000000000', 'files': ['pbr/core.py'], 'web_link': 'https://opendev.org/openstack/pbr/commit/4775cc3863da6b6e960dd05f03d6485587c81b4a', 'message': ""Break pbr() recursion via alternative method\n\nSetting dist.pbr to None broke writing of metadata to a json file. We\nneed to check PBR is in use when writing metadata to a json file because\nit is triggered via a separate entrypoint than pbr(). To fix this we go\nback to allowing dist.pbr to be True but check if we are recursing with\na pbr() entries counter. We return immediately if the count isn't 0.\n\nChange-Id: Ic9e02eb33fcc86e8e21737e47921b06eb5be6335\n""}]",0,827930,4775cc3863da6b6e960dd05f03d6485587c81b4a,2,0,1,4146,,,0,"Break pbr() recursion via alternative method

Setting dist.pbr to None broke writing of metadata to a json file. We
need to check PBR is in use when writing metadata to a json file because
it is triggered via a separate entrypoint than pbr(). To fix this we go
back to allowing dist.pbr to be True but check if we are recursing with
a pbr() entries counter. We return immediately if the count isn't 0.

Change-Id: Ic9e02eb33fcc86e8e21737e47921b06eb5be6335
",git fetch https://review.opendev.org/openstack/pbr refs/changes/30/827930/1 && git format-patch -1 --stdout FETCH_HEAD,['pbr/core.py'],1,4775cc3863da6b6e960dd05f03d6485587c81b4a,break-recursion,# Distribution.finalize_options() is what calls the pbr() method. That means # there is potential for recursion when pbr() calls finalize_options(). # Recursion seems to be an issue particularly when using PEP517 build-system # configs without setup_requires in setup.py. We can avoid the recursion by # setting a counter for pbr() entries and returning once greater than 0. _pbr_iterations = 0 global _pbr_iterations if not value or _pbr_iterations > 0: _pbr_iterations += 1 ," if not value: # Distribution.finalize_options() is what calls this method. That means # there is potential for recursion here. Recursion seems to be an issue # particularly when using PEP517 build-system configs without # setup_requires in setup.py. We can avoid the recursion by setting # dist.pbr to a None value as the corresponding entrypoint (this function) # will only be called on a non None value. setattr(dist, ""pbr"", None) ",12,9
openstack%2Ftripleo-ansible~stable%2Fussuri~I79d8011d128357282fd1a847a24fb11971eb1487,openstack/tripleo-ansible,stable/ussuri,I79d8011d128357282fd1a847a24fb11971eb1487,Rename variables to keep being the same as in wallaby,MERGED,2022-02-03 09:31:20.000000000,2022-02-04 23:49:39.000000000,2022-02-04 23:49:39.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 22954}]","[{'number': 1, 'created': '2022-02-03 09:31:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/ade8b08d358bc58c119fc65ec5a464504916e524', 'message': 'Rename variables to keep being the same as in wallaby\n\nSome variables needed to be changed to adapt to the new process of doing\nrestores using PXE/Ironic. Even if this feature is not going back to v,\nu and t, we would want to keep the variables that do the same called the\nsame among all versions of the product. This change renames some\nvariables to achieve this.\n\nChange-Id: I79d8011d128357282fd1a847a24fb11971eb1487\n(cherry picked from commit c6a27f9b53e18794fb2b345dcfec9138ceef78bc)\n'}, {'number': 2, 'created': '2022-02-03 09:32:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/53d7f53186391c5bd46d258f7504d8adb00313a8', 'message': 'Rename variables to keep being the same as in wallaby\n\nSome variables needed to be changed to adapt to the new process of doing\nrestores using PXE/Ironic. Even if this feature is not going back to v,\nu and t, we would want to keep the variables that do the same called the\nsame among all versions of the product. This change renames some\nvariables to achieve this.\n\nChange-Id: I79d8011d128357282fd1a847a24fb11971eb1487\n(cherry picked from commit c6a27f9b53e18794fb2b345dcfec9138ceef78bc)\n'}, {'number': 3, 'created': '2022-02-03 09:36:31.000000000', 'files': ['tripleo_ansible/roles/backup_and_restore/molecule/default/converge.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/setup_rear.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/setup_nfs.yml', 'tripleo_ansible/roles/backup_and_restore/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/d0aa366c10b20adad512722ba5514924f6360671', 'message': 'Rename variables to keep being the same as in wallaby\n\nSome variables needed to be changed to adapt to the new process of doing\nrestores using PXE/Ironic. Even if this feature is not going back to v,\nu and t, we would want to keep the variables that do the same called the\nsame among all versions of the product. This change renames some\nvariables to achieve this.\n\nChange-Id: I79d8011d128357282fd1a847a24fb11971eb1487\n(cherry picked from commit c6a27f9b53e18794fb2b345dcfec9138ceef78bc)\n'}]",1,827409,d0aa366c10b20adad512722ba5514924f6360671,11,3,3,32968,,,0,"Rename variables to keep being the same as in wallaby

Some variables needed to be changed to adapt to the new process of doing
restores using PXE/Ironic. Even if this feature is not going back to v,
u and t, we would want to keep the variables that do the same called the
same among all versions of the product. This change renames some
variables to achieve this.

Change-Id: I79d8011d128357282fd1a847a24fb11971eb1487
(cherry picked from commit c6a27f9b53e18794fb2b345dcfec9138ceef78bc)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/09/827409/2 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/backup_and_restore/molecule/default/converge.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/ceph_backup.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/setup_rear.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/setup_nfs.yml', 'tripleo_ansible/roles/backup_and_restore/defaults/main.yml']",5,ade8b08d358bc58c119fc65ec5a464504916e524,remove_nfs_variables-stable/ussuri,"tripleo_backup_and_restore_server: 192.168.24.1 tripleo_backup_and_restore_shared_storage_folder: /ctl_plane_backups tripleo_backup_and_restore_clients_nets: ['192.168.24.0/24', '10.0.0.0/24', '172.16.0.0/24']tripleo_backup_and_restore_exclude_paths_common: ['/data/*', '/tmp/*', '{{ tripleo_backup_and_restore_shared_storage_folder }}/*']<<<<<<< HEAD (bc3f98 Merge ""Force NetworkManager to unmanage /etc/resolv.conf"" in)======= tripleo_backup_and_restore_output_url: ""nfs://{{ tripleo_backup_and_restore_server }}{{ tripleo_backup_and_restore_shared_storage_folder }}"" tripleo_backup_and_restore_backup_url: ""nfs://{{ tripleo_backup_and_restore_server }}{{ tripleo_backup_and_restore_shared_storage_folder }}"" >>>>>>> CHANGE (c6a27f Rename variables to keep being the same as in wallaby)tripleo_backup_and_restore_skip_server_test: false","tripleo_backup_and_restore_nfs_server: 192.168.24.1 tripleo_backup_and_restore_nfs_storage_folder: /ctl_plane_backups tripleo_backup_and_restore_nfs_clients_nets: ['192.168.24.0/24', '10.0.0.0/24', '172.16.0.0/24']tripleo_backup_and_restore_exclude_paths_common: ['/data/*', '/tmp/*', '{{ tripleo_backup_and_restore_nfs_storage_folder }}/*']tripleo_backup_and_restore_skip_nfs_test: false",109,11
openstack%2Fmanila~master~I3ddfad568a1b578bee23a6d1a96de9551e336bb4,openstack/manila,master,I3ddfad568a1b578bee23a6d1a96de9551e336bb4,Remove usage of six lib for third party/vendors drivers.,MERGED,2021-12-09 08:22:43.000000000,2022-02-04 23:41:09.000000000,2022-02-04 23:39:20.000000000,"[{'_account_id': 6413}, {'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 29632}, {'_account_id': 31721}, {'_account_id': 33431}]","[{'number': 1, 'created': '2021-12-09 08:22:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/e2b6e0d206ef1ab5c86096c3e01874429b055598', 'message': 'remove usage of six library in driver layer and the corresponding test\n\nReplace six with Python 3 style code.\n\nChange-Id: I3ddfad568a1b578bee23a6d1a96de9551e336bb4\n'}, {'number': 2, 'created': '2021-12-09 09:04:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/b419e5526676cdf40b223426d341789ed41dc5b8', 'message': 'remove usage of six library in driver layer and the corresponding test\n\nReplace six with Python 3 style code.\n\nChange-Id: I3ddfad568a1b578bee23a6d1a96de9551e336bb4\n'}, {'number': 3, 'created': '2021-12-09 09:07:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/d54c73cd6fbc2d36afe2295e4239901320b06dcc', 'message': 'remove usage of six library in driver layer and the corresponding test\n\nReplace six with Python 3 style code.\n\nChange-Id: I3ddfad568a1b578bee23a6d1a96de9551e336bb4\n'}, {'number': 4, 'created': '2021-12-10 03:36:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/599530d603b706664103c1b872cd9a40b0b3ecc6', 'message': 'remove usage of six library in driver layer and the corresponding test\n\nReplace six with Python 3 style code.\n\nChange-Id: I3ddfad568a1b578bee23a6d1a96de9551e336bb4\n'}, {'number': 5, 'created': '2022-01-06 01:03:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/a626a963acfd6f2d43889a23644d22405f9c791d', 'message': 'remove usage of six library in driver layer and the corresponding test\n\nReplace six with Python 3 style code.\n\nChange-Id: I3ddfad568a1b578bee23a6d1a96de9551e336bb4\n'}, {'number': 6, 'created': '2022-01-14 03:03:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/589b93b5708172fb68a45c63abcd5ef5d565cf3b', 'message': 'Remove usage of six lib for all drivers\n\nPython2 is no longer supported, so in this patch\nset we remove the usage of the six (py2 and py3\ncompatibility library) in favor of py3 syntax.\n\nChange-Id: I3ddfad568a1b578bee23a6d1a96de9551e336bb4\n'}, {'number': 7, 'created': '2022-01-29 03:01:17.000000000', 'files': ['manila/share/drivers/dell_emc/common/enas/connector.py', 'manila/share/drivers/netapp/dataontap/cluster_mode/lib_base.py', 'manila/tests/share/drivers/test_service_instance.py', 'manila/tests/share/drivers/dell_emc/plugins/isilon/test_isilon.py', 'manila/tests/share/drivers/zfsonlinux/test_driver.py', 'manila/share/drivers/nexenta/utils.py', 'manila/share/drivers/dell_emc/plugins/base.py', 'manila/tests/share/drivers/netapp/test_common.py', 'manila/share/drivers/dell_emc/plugins/powermax/connection.py', 'manila/share/drivers/hitachi/hnas/ssh.py', 'manila/share/drivers/dell_emc/plugins/vnx/object_manager.py', 'manila/share/drivers/ganesha/__init__.py', 'manila/tests/share/drivers/hdfs/test_hdfs_native.py', 'manila/share/drivers/inspur/as13000/as13000_nas.py', 'manila/share/drivers/dell_emc/plugins/powermax/object_manager.py', 'manila/share/drivers/netapp/dataontap/client/client_cmode.py', 'manila/share/drivers/hpe/hpe_3par_driver.py', 'manila/share/drivers/dell_emc/plugins/isilon/isilon.py', 'manila/share/drivers/qnap/api.py', 'manila/share/drivers/netapp/utils.py', 'contrib/share_driver_hooks/zaqar_notification_example_consumer.py', 'manila/share/drivers/hpe/hpe_3par_mediator.py', 'manila/share/drivers/quobyte/quobyte.py', 'manila/share/drivers/dell_emc/plugins/isilon/isilon_api.py', 'manila/share/drivers/quobyte/jsonrpc.py', 'manila/share/drivers/inspur/instorage/cli_helper.py', 'manila/tests/share/drivers/nexenta/ns5/test_jsonrpc.py', 'manila/tests/share/drivers/dell_emc/plugins/isilon/test_isilon_api.py', 'contrib/share_driver_hooks/README.rst', 'manila/share/drivers/infinidat/infinibox.py', 'manila/share/drivers/hdfs/hdfs_native.py', 'manila/share/drivers/zfssa/restclient.py', 'manila/share/drivers/zfsonlinux/utils.py', 'manila/share/drivers/inspur/instorage/instorage.py', 'manila/tests/share/drivers/tegile/test_tegile.py', 'manila/tests/share/drivers/test_generic.py', 'manila/tests/share/drivers/dell_emc/common/enas/test_connector.py', 'manila/tests/share/drivers/windows/test_service_instance.py', 'manila/share/drivers/glusterfs/layout_volume.py', 'manila/share/drivers/maprfs/driver_util.py', 'manila/share/drivers/windows/winrm_helper.py', 'manila/share/drivers/glusterfs/layout_directory.py', 'manila/share/drivers/hitachi/hnas/driver.py', 'manila/tests/share/drivers/qnap/test_api.py', 'manila/share/drivers/nexenta/ns5/jsonrpc.py', 'manila/tests/share/drivers/netapp/dataontap/client/test_client_cmode.py', 'manila/share/drivers/huawei/base.py', 'manila/share/drivers/netapp/dataontap/protocols/base.py', 'manila/tests/share/drivers/quobyte/test_jsonrpc.py', 'manila/tests/share/drivers/dell_emc/common/enas/utils.py', 'manila/share/drivers/ibm/gpfs.py', 'manila/tests/share/drivers/test_ganesha.py', 'manila/share/drivers/netapp/dataontap/protocols/nfs_cmode.py', 'manila/share/drivers/dell_emc/common/enas/xml_api_parser.py', 'manila/share/drivers/tegile/tegile.py', 'manila/tests/share/drivers/dell_emc/plugins/unity/test_connection.py', 'manila/share/drivers/dell_emc/plugins/vnx/connection.py', 'manila/share/drivers/huawei/v3/connection.py', 'manila/tests/share/drivers/hitachi/hnas/test_ssh.py', 'manila/tests/share/drivers/maprfs/test_maprfs.py', 'manila/share/drivers/veritas/veritas_isa.py', 'manila/tests/share/drivers/huawei/test_huawei_nas.py', 'manila/tests/share/drivers/qnap/test_qnap.py', 'manila/share/drivers/huawei/v3/helper.py', 'manila/share/drivers/netapp/dataontap/client/api.py', 'manila/tests/share/drivers/quobyte/test_quobyte.py', 'manila/share/drivers/glusterfs/common.py', 'manila/share/drivers/glusterfs/layout.py', 'manila/tests/share/drivers/hpe/test_hpe_3par_mediator.py', 'manila/tests/share/drivers/veritas/test_veritas_isa.py', 'manila/share/drivers/zfssa/zfssashare.py', 'manila/share/drivers/dell_emc/plugins/unity/client.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/a73b29937420598a741dcc56bfc48a436ec83a3f', 'message': 'Remove usage of six lib for third party/vendors drivers.\n\nPython2 is no longer supported, so in this patch\nset we remove the usage of the six (py2 and py3\ncompatibility library) in favor of py3 syntax.\n\nChange-Id: I3ddfad568a1b578bee23a6d1a96de9551e336bb4\n'}]",43,821162,a73b29937420598a741dcc56bfc48a436ec83a3f,62,6,7,30407,,,0,"Remove usage of six lib for third party/vendors drivers.

Python2 is no longer supported, so in this patch
set we remove the usage of the six (py2 and py3
compatibility library) in favor of py3 syntax.

Change-Id: I3ddfad568a1b578bee23a6d1a96de9551e336bb4
",git fetch https://review.opendev.org/openstack/manila refs/changes/62/821162/1 && git format-patch -1 --stdout FETCH_HEAD,"['manila/share/drivers/dell_emc/common/enas/connector.py', 'manila/share/drivers/netapp/dataontap/cluster_mode/lib_base.py', 'manila/tests/share/drivers/test_service_instance.py', 'manila/tests/share/drivers/dell_emc/plugins/isilon/test_isilon.py', 'manila/tests/share/drivers/zfsonlinux/test_driver.py', 'manila/share/drivers/nexenta/utils.py', 'manila/share/drivers/dell_emc/plugins/base.py', 'manila/tests/share/drivers/netapp/test_common.py', 'manila/share/drivers/dell_emc/plugins/powermax/connection.py', 'manila/share/drivers/hitachi/hnas/ssh.py', 'manila/share/drivers/dell_emc/plugins/vnx/object_manager.py', 'manila/share/drivers/ganesha/__init__.py', 'manila/tests/share/drivers/hdfs/test_hdfs_native.py', 'manila/share/drivers/inspur/as13000/as13000_nas.py', 'manila/share/drivers/dell_emc/plugins/powermax/object_manager.py', 'manila/share/drivers/netapp/dataontap/client/client_cmode.py', 'manila/share/drivers/hpe/hpe_3par_driver.py', 'manila/share/drivers/service_instance.py', 'manila/share/drivers/dell_emc/plugins/isilon/isilon.py', 'manila/share/drivers/qnap/api.py', 'manila/share/drivers/netapp/utils.py', 'contrib/share_driver_hooks/zaqar_notification_example_consumer.py', 'manila/share/drivers/hpe/hpe_3par_mediator.py', 'manila/share/drivers/quobyte/quobyte.py', 'manila/share/drivers/dell_emc/plugins/isilon/isilon_api.py', 'manila/share/drivers/quobyte/jsonrpc.py', 'manila/share/drivers/inspur/instorage/cli_helper.py', 'manila/tests/share/drivers/nexenta/ns5/test_jsonrpc.py', 'manila/tests/share/drivers/dell_emc/plugins/isilon/test_isilon_api.py', 'contrib/share_driver_hooks/README.rst', 'manila/share/drivers/infinidat/infinibox.py', 'manila/share/drivers/hdfs/hdfs_native.py', 'manila/share/drivers/zfssa/restclient.py', 'manila/share/drivers/zfsonlinux/utils.py', 'manila/share/drivers/inspur/instorage/instorage.py', 'manila/tests/share/drivers/tegile/test_tegile.py', 'manila/tests/share/drivers/test_generic.py', 'manila/tests/share/drivers/dell_emc/common/enas/test_connector.py', 'manila/tests/share/drivers/windows/test_service_instance.py', 'manila/share/drivers/generic.py', 'manila/share/drivers/glusterfs/layout_volume.py', 'manila/share/drivers/maprfs/driver_util.py', 'manila/share/drivers/windows/winrm_helper.py', 'manila/share/drivers/glusterfs/layout_directory.py', 'manila/share/drivers/hitachi/hnas/driver.py', 'manila/tests/share/drivers/qnap/test_api.py', 'manila/share/drivers/nexenta/ns5/jsonrpc.py', 'manila/tests/share/drivers/netapp/dataontap/client/test_client_cmode.py', 'manila/share/drivers/huawei/base.py', 'manila/share/drivers/netapp/dataontap/protocols/base.py', 'manila/tests/share/drivers/quobyte/test_jsonrpc.py', 'manila/tests/share/drivers/dell_emc/common/enas/utils.py', 'manila/share/drivers/helpers.py', 'manila/share/drivers/ibm/gpfs.py', 'manila/tests/share/drivers/test_ganesha.py', 'manila/share/drivers/netapp/dataontap/protocols/nfs_cmode.py', 'manila/share/drivers/dell_emc/common/enas/xml_api_parser.py', 'manila/share/drivers/tegile/tegile.py', 'manila/tests/share/drivers/dell_emc/plugins/unity/test_connection.py', 'manila/share/drivers/dell_emc/plugins/vnx/connection.py', 'manila/share/drivers/huawei/v3/connection.py', 'manila/tests/share/drivers/hitachi/hnas/test_ssh.py', 'manila/tests/share/drivers/maprfs/test_maprfs.py', 'manila/share/drivers/lvm.py', 'manila/share/drivers/veritas/veritas_isa.py', 'manila/tests/share/drivers/huawei/test_huawei_nas.py', 'manila/tests/share/drivers/qnap/test_qnap.py', 'manila/share/drivers/huawei/v3/helper.py', 'manila/share/drivers/netapp/dataontap/client/api.py', 'manila/tests/share/drivers/quobyte/test_quobyte.py', 'manila/share/drivers/glusterfs/common.py', 'manila/share/drivers/glusterfs/layout.py', 'manila/tests/share/drivers/hpe/test_hpe_3par_mediator.py', 'manila/tests/share/drivers/veritas/test_veritas_isa.py', 'manila/share/drivers/zfssa/zfssashare.py', 'manila/share/drivers/dell_emc/plugins/unity/client.py']",76,e2b6e0d206ef1ab5c86096c3e01874429b055598,manila_remove_six," if isinstance(src_snap, str):","import six if isinstance(src_snap, six.string_types):",355,425
openstack%2Fpbr~master~I3398b2534e513039e922056e2cb3059768621e72,openstack/pbr,master,I3398b2534e513039e922056e2cb3059768621e72,Import pbr.util directly to break import loops,ABANDONED,2022-02-04 20:50:24.000000000,2022-02-04 23:40:27.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-02-04 20:50:24.000000000', 'files': ['pbr/core.py'], 'web_link': 'https://opendev.org/openstack/pbr/commit/9ab99d6d9e8f801058d86ce42cb3d77ce5c0a307', 'message': 'Import pbr.util directly to break import loops\n\nIf you have a cycle of ""from x import y"" across modules, Python\n2.7\'s importer gives up and raises ImportError. This does not occur\nif the module is imported canonically. In preparation for an\nupcoming change where we need to import core in pbr_json, switch\ncore\'s import of util to a loop-resistant style.\n\nChange-Id: I3398b2534e513039e922056e2cb3059768621e72\n'}]",1,827922,9ab99d6d9e8f801058d86ce42cb3d77ce5c0a307,3,1,1,5263,,,0,"Import pbr.util directly to break import loops

If you have a cycle of ""from x import y"" across modules, Python
2.7's importer gives up and raises ImportError. This does not occur
if the module is imported canonically. In preparation for an
upcoming change where we need to import core in pbr_json, switch
core's import of util to a loop-resistant style.

Change-Id: I3398b2534e513039e922056e2cb3059768621e72
",git fetch https://review.opendev.org/openstack/pbr refs/changes/22/827922/1 && git format-patch -1 --stdout FETCH_HEAD,['pbr/core.py'],1,9ab99d6d9e8f801058d86ce42cb3d77ce5c0a307,,"# Import this directly in order to avoid future import loops for Python 2.7 import pbr.util attrs = pbr.util.cfg_to_args(path, dist.script_args)","from pbr import util attrs = util.cfg_to_args(path, dist.script_args)",3,2
openstack%2Fpbr~master~Ia2b79ae622ec4a0647984dc3be4266c85d352b11,openstack/pbr,master,Ia2b79ae622ec4a0647984dc3be4266c85d352b11,Always write pbr.json,ABANDONED,2022-02-04 21:38:27.000000000,2022-02-04 23:40:03.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-02-04 21:38:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/pbr/commit/3f820f2d34f1cbb0316b0227293e7404c8ee3fda', 'message': ""Always write pbr.json\n\nDrop the safeguard which checks for PBR's SetupTools entrypoint\nbefore writing the pbr.json metadata file. If we're calling the\nwrite_pbr_json() function, it's safe to say we must want to create\nit regardless of whether the entrypoint is set. This becomes\nnecessary with the removal of setup_requires for PEP 517 builds,\nbecause we need to unset the entrypoint explicitly in order to avoid\nrecursion.\n\nChange-Id: Ia2b79ae622ec4a0647984dc3be4266c85d352b11\n""}, {'number': 2, 'created': '2022-02-04 21:47:28.000000000', 'files': ['pbr/pbr_json.py'], 'web_link': 'https://opendev.org/openstack/pbr/commit/acba296d32ad2121cbd10ec66d585b24f554d7cc', 'message': 'Always write pbr.json\n\nDrop the safeguard which checks that PBR\'s SetupTools entrypoint is\nTrue before writing the pbr.json metadata file. If the dist has a\n""pbr"" attribute, it\'s safe to say this is a PBR-style dist. This\nbecomes necessary with the removal of setup_requires for PEP 517\nbuilds, because we need to toggle the entrypoint off after it\'s been\ncalled into once, in order to avoid recursion.\n\nChange-Id: Ia2b79ae622ec4a0647984dc3be4266c85d352b11\n'}]",0,827927,acba296d32ad2121cbd10ec66d585b24f554d7cc,4,1,2,5263,,,0,"Always write pbr.json

Drop the safeguard which checks that PBR's SetupTools entrypoint is
True before writing the pbr.json metadata file. If the dist has a
""pbr"" attribute, it's safe to say this is a PBR-style dist. This
becomes necessary with the removal of setup_requires for PEP 517
builds, because we need to toggle the entrypoint off after it's been
called into once, in order to avoid recursion.

Change-Id: Ia2b79ae622ec4a0647984dc3be4266c85d352b11
",git fetch https://review.opendev.org/openstack/pbr refs/changes/27/827927/1 && git format-patch -1 --stdout FETCH_HEAD,['pbr/pbr_json.py'],1,3f820f2d34f1cbb0316b0227293e7404c8ee3fda,,," if not hasattr(cmd.distribution, 'pbr') or not cmd.distribution.pbr: return",0,2
openstack%2Fpbr~master~Ice845dc93925f516721b54d3269c8485a8278d75,openstack/pbr,master,Ice845dc93925f516721b54d3269c8485a8278d75,Correctly evaluate whether we're in a dist context,ABANDONED,2022-02-04 18:40:51.000000000,2022-02-04 23:39:29.000000000,,"[{'_account_id': 4146}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-04 18:40:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/pbr/commit/0722d8df9001a8b80b69c29cd28e3f19bc37a16c', 'message': ""Correctly evaluate whether we're in a dist context\n\nWith the change to support PEP 517 build backend use cases without\nsetup_requires, a recursion-buster was added to toggle the\nsetuptools entrypoint off. Unfortunately, this happened before\nwriting the pbr.json file, and was how the write function identified\nwhether the call was within the context of a dist build.\n\nAdd a global module attribute when entering the setuptools\nentrypoint, so that it can be used as the new identifier when\nwriting metadata.\n\nChange-Id: Ice845dc93925f516721b54d3269c8485a8278d75\n""}, {'number': 2, 'created': '2022-02-04 19:33:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/pbr/commit/b6cf2fa6da96932236fbb7728c0724447dd5cec2', 'message': ""Correctly evaluate whether we're in a dist context\n\nWith the change to support PEP 517 build backend use cases without\nsetup_requires, a recursion-buster was added to toggle the\nsetuptools entrypoint off. Unfortunately, this happened before\nwriting the pbr.json file, and was how the write function identified\nwhether the call was within the context of a dist build.\n\nAdd a global module attribute when entering the setuptools\nentrypoint, so that it can be used as the new identifier when\nwriting metadata.\n\nChange-Id: Ice845dc93925f516721b54d3269c8485a8278d75\n""}, {'number': 3, 'created': '2022-02-04 20:06:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/pbr/commit/4b7375d1d2636b3cc6da2184cdbe15124d062e9a', 'message': ""Correctly evaluate whether we're in a dist context\n\nWith the change to support PEP 517 build backend use cases without\nsetup_requires, a recursion-buster was added to toggle the\nsetuptools entrypoint off. Unfortunately, this happened before\nwriting the pbr.json file, and was how the write function identified\nwhether the call was within the context of a dist build.\n\nAdd a global module attribute when entering the setuptools\nentrypoint, so that it can be used as the new identifier when\nwriting metadata.\n\nChange-Id: Ice845dc93925f516721b54d3269c8485a8278d75\n""}, {'number': 4, 'created': '2022-02-04 20:50:24.000000000', 'files': ['pbr/pbr_json.py', 'pbr/tests/test_pbr_json.py', 'pbr/core.py'], 'web_link': 'https://opendev.org/openstack/pbr/commit/692d8a247f0e3cea995002fef7800b102cda4e8a', 'message': ""Correctly evaluate whether we're in a dist context\n\nWith the change to support PEP 517 build backend use cases without\nsetup_requires, a recursion-buster was added to toggle the\nsetuptools entrypoint off. Unfortunately, this happened before\nwriting the pbr.json file, and was how the write function identified\nwhether the call was within the context of a dist build.\n\nAdd a global module attribute when entering the setuptools\nentrypoint, so that it can be used as the new identifier when\nwriting metadata.\n\nChange-Id: Ice845dc93925f516721b54d3269c8485a8278d75\n""}]",2,827914,692d8a247f0e3cea995002fef7800b102cda4e8a,9,2,4,5263,,,0,"Correctly evaluate whether we're in a dist context

With the change to support PEP 517 build backend use cases without
setup_requires, a recursion-buster was added to toggle the
setuptools entrypoint off. Unfortunately, this happened before
writing the pbr.json file, and was how the write function identified
whether the call was within the context of a dist build.

Add a global module attribute when entering the setuptools
entrypoint, so that it can be used as the new identifier when
writing metadata.

Change-Id: Ice845dc93925f516721b54d3269c8485a8278d75
",git fetch https://review.opendev.org/openstack/pbr refs/changes/14/827914/4 && git format-patch -1 --stdout FETCH_HEAD,"['pbr/pbr_json.py', 'pbr/core.py']",2,0722d8df9001a8b80b69c29cd28e3f19bc37a16c,, # We check this flag in pbr.pbr_json.write_pbr_json() to make sure it only # fires if the entrypoint has been called. global in_use in_use = True ,,7,1
openstack%2Fpbr~master~Ic5e431aee3ed0447db2f838a853fa3c051f9889e,openstack/pbr,master,Ic5e431aee3ed0447db2f838a853fa3c051f9889e,Test that pbr.json is included in sdists,ABANDONED,2022-02-04 18:40:51.000000000,2022-02-04 23:38:25.000000000,,"[{'_account_id': 4146}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-04 18:40:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/pbr/commit/c04f5609046a4082bb0e2dfe01ac10c5b8fa9e46', 'message': 'Test that pbr.json is included in sdists\n\nA recent regression resulted in PBR no longer writing its metadata\nfile due to incorrectly misidentifying whether we were in a dist\ncontext. Make sure this regression test correctly reproduces the\nproblem.\n\nChange-Id: Ic5e431aee3ed0447db2f838a853fa3c051f9889e\n'}, {'number': 2, 'created': '2022-02-04 19:33:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/pbr/commit/7e956f3f88f31425bfa4ad8327f8be359b207405', 'message': 'Test that pbr.json is included in sdists\n\nA recent regression resulted in PBR no longer writing its metadata\nfile due to incorrectly misidentifying whether we were in a dist\ncontext. Make sure this regression test correctly reproduces the\nproblem.\n\nChange-Id: Ic5e431aee3ed0447db2f838a853fa3c051f9889e\n'}, {'number': 3, 'created': '2022-02-04 20:50:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/pbr/commit/91e41bc2ddc32c2e743fd66ad464036c47b670ea', 'message': 'Test that pbr.json is included in sdists\n\nA recent regression resulted in PBR no longer writing its metadata\nfile due to incorrectly misidentifying whether we were in a dist\ncontext. Make sure this regression test correctly reproduces the\nproblem.\n\nChange-Id: Ic5e431aee3ed0447db2f838a853fa3c051f9889e\n'}, {'number': 4, 'created': '2022-02-04 21:38:27.000000000', 'files': ['pbr/tests/test_packaging.py'], 'web_link': 'https://opendev.org/openstack/pbr/commit/1a7417accf341b5e85a62738f7e74b7a584b1edf', 'message': 'Test that pbr.json is included in sdists\n\nA recent regression resulted in PBR no longer writing its metadata\nfile due to incorrectly misidentifying whether we were in a dist\ncontext. Make sure this regression test correctly reproduces the\nproblem.\n\nChange-Id: Ic5e431aee3ed0447db2f838a853fa3c051f9889e\n'}]",0,827913,1a7417accf341b5e85a62738f7e74b7a584b1edf,8,2,4,5263,,,0,"Test that pbr.json is included in sdists

A recent regression resulted in PBR no longer writing its metadata
file due to incorrectly misidentifying whether we were in a dist
context. Make sure this regression test correctly reproduces the
problem.

Change-Id: Ic5e431aee3ed0447db2f838a853fa3c051f9889e
",git fetch https://review.opendev.org/openstack/pbr refs/changes/13/827913/1 && git format-patch -1 --stdout FETCH_HEAD,['pbr/tests/test_core.py'],1,c04f5609046a4082bb0e2dfe01ac10c5b8fa9e46,," def test_sdist_pbr_json(self): """"""Test that the pbr.json file is correctly added."""""" stdout, _, return_code = self.run_setup('sdist', '--formats=gztar') # There can be only one try: tf_path = glob.glob(os.path.join('dist', '*.tar.gz'))[0] except IndexError: assert False, 'source dist not found' tf = tarfile.open(tf_path) names = ['/'.join(p.split('/')[1:]) for p in tf.getnames()] self.assertIn('pbr.json', names) ",,16,0
openstack%2Ftripleo-quickstart~master~If7db210eefad08904f4cad4d87795c3711976700,openstack/tripleo-quickstart,master,If7db210eefad08904f4cad4d87795c3711976700,Add variables for RHEL/CentOS9,MERGED,2022-02-04 10:01:55.000000000,2022-02-04 23:33:56.000000000,2022-02-04 23:32:24.000000000,"[{'_account_id': 8449}, {'_account_id': 9976}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29775}, {'_account_id': 30002}, {'_account_id': 31068}]","[{'number': 1, 'created': '2022-02-04 10:01:55.000000000', 'files': ['roles/environment/vars/redhat-9.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/2ce46f8205098327b0dbf2cec08d16bd52638296', 'message': 'Add variables for RHEL/CentOS9\n\nThose variables are needed to use oooq in libvirt provisioning cases on CentOS9.\n\nChange-Id: If7db210eefad08904f4cad4d87795c3711976700\n'}]",5,827828,2ce46f8205098327b0dbf2cec08d16bd52638296,18,7,1,16312,,,0,"Add variables for RHEL/CentOS9

Those variables are needed to use oooq in libvirt provisioning cases on CentOS9.

Change-Id: If7db210eefad08904f4cad4d87795c3711976700
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/28/827828/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/environment/vars/redhat-9.yml'],1,2ce46f8205098327b0dbf2cec08d16bd52638296,cs9-libvirt-repro,libvirt_packages: - libvirt - libvirt-daemon - qemu-kvm-common - qemu-kvm - libvirt-daemon-kvm - libvirt-daemon-driver-network - libvirt-daemon-driver-qemu - libguestfs-tools - python3 - python3-lxml - python3-netaddr - python3-pip - python3-devel - python3-libvirt virtualbmc_packages: - python3-virtualbmc ansible_pkg_mgr: dnf ,,20,0
openstack%2Ftripleo-upgrade~stable%2Fwallaby~I78cf0220e403add9d88ad457979704693c641f67,openstack/tripleo-upgrade,stable/wallaby,I78cf0220e403add9d88ad457979704693c641f67,Remove stein and ceph3 parameters for T to W.,MERGED,2022-02-04 12:38:11.000000000,2022-02-04 23:32:27.000000000,2022-02-04 23:32:27.000000000,"[{'_account_id': 6816}, {'_account_id': 11090}, {'_account_id': 11166}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-04 12:38:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/648ebe97c293e1b1f584708bc696758dc3e92d55', 'message': 'Remove stein and ceph3 parameters for T to W.\n\nThe stein and ceph3 parameters are not needed any more in tripleo-upgrade\nto upgrade from T(16.X) to W(17.X). Removing them to avoid issues during\nthe upgrade.\n\nChange-Id: I78cf0220e403add9d88ad457979704693c641f67\n(cherry picked from commit a90df48bd58515b8ffaf2ed1e1eb84ae5f06a31c)\n'}, {'number': 2, 'created': '2022-02-04 12:38:40.000000000', 'files': ['tasks/common/configure_uc_containers.yml', 'tasks/upgrade/overcloud_upgrade_converge.yml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/0585a0a4fa02c6c4c264bc82df7d8cc68af405d6', 'message': 'Remove stein and ceph3 parameters for T to W.\n\nThe stein and ceph3 parameters are not needed any more in tripleo-upgrade\nto upgrade from T(16.X) to W(17.X). Removing them to avoid issues during\nthe upgrade.\n\nChange-Id: I78cf0220e403add9d88ad457979704693c641f67\n(cherry picked from commit a90df48bd58515b8ffaf2ed1e1eb84ae5f06a31c)\n'}]",0,827747,0585a0a4fa02c6c4c264bc82df7d8cc68af405d6,9,4,2,26343,,,0,"Remove stein and ceph3 parameters for T to W.

The stein and ceph3 parameters are not needed any more in tripleo-upgrade
to upgrade from T(16.X) to W(17.X). Removing them to avoid issues during
the upgrade.

Change-Id: I78cf0220e403add9d88ad457979704693c641f67
(cherry picked from commit a90df48bd58515b8ffaf2ed1e1eb84ae5f06a31c)
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/47/827747/2 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/common/configure_uc_containers.yml', 'tasks/upgrade/overcloud_upgrade_converge.yml', 'defaults/main.yml']",3,648ebe97c293e1b1f584708bc696758dc3e92d55,,"<<<<<<< HEAD (e82206 Merge ""[FFWD upgrade] Adding support of live/cold migration )======= >>>>>>> CHANGE (a90df4 Remove stein and ceph3 parameters for T to W.)",,3,31
openstack%2Fopenstack-helm-infra~master~I3b43ed6de3a90af49cfc7124fdee542831f73f40,openstack/openstack-helm-infra,master,I3b43ed6de3a90af49cfc7124fdee542831f73f40,Use bandit 1.7.1 to avoid Python version issues,MERGED,2022-02-04 15:22:02.000000000,2022-02-04 23:22:00.000000000,2022-02-04 23:20:14.000000000,"[{'_account_id': 8898}, {'_account_id': 19391}, {'_account_id': 22348}, {'_account_id': 28372}, {'_account_id': 32190}]","[{'number': 1, 'created': '2022-02-04 15:22:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/6bd1bc23e2097c403e6cf2493b43a10bb3156fd7', 'message': ""Use bandit 1.7.1 to avoid Python version issues\n\nThe following error is appearing when the bandit playbook is used:\nbandit requires Python '>=3.7' but the running Python is 3.6.9\n\nThis change specifies bandit 1.7.1 in the playbook, which is\ncompatible with Python 3.5+\n\nChange-Id: I3b43ed6de3a90af49cfc7124fdee542831f73f40\n""}, {'number': 2, 'created': '2022-02-04 18:57:14.000000000', 'files': ['playbooks/osh-infra-bandit.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/4296b7d486628ad944f6d340fc0ca6fdc38d50e7', 'message': ""Use bandit 1.7.1 to avoid Python version issues\n\nThe following error is appearing when the bandit playbook is used:\nbandit requires Python '>=3.7' but the running Python is 3.6.9\n\nThis change specifies bandit 1.7.1 in the playbook, which is\ncompatible with Python 3.5+\n\nChange-Id: I3b43ed6de3a90af49cfc7124fdee542831f73f40\n""}]",1,827876,4296b7d486628ad944f6d340fc0ca6fdc38d50e7,16,5,2,29974,,,0,"Use bandit 1.7.1 to avoid Python version issues

The following error is appearing when the bandit playbook is used:
bandit requires Python '>=3.7' but the running Python is 3.6.9

This change specifies bandit 1.7.1 in the playbook, which is
compatible with Python 3.5+

Change-Id: I3b43ed6de3a90af49cfc7124fdee542831f73f40
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/76/827876/2 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/osh-infra-bandit.yaml'],1,6bd1bc23e2097c403e6cf2493b43a10bb3156fd7,, sudo -H pip3 install yq bandit==1.7.1, sudo -H pip3 install yq bandit,1,1
openstack%2Fkeystone~master~Iad41407e6ad1f9e2f33d228da914a302d4123ecc,openstack/keystone,master,Iad41407e6ad1f9e2f33d228da914a302d4123ecc,sql: Remove 'get_init_version',MERGED,2022-01-19 18:50:03.000000000,2022-02-04 23:01:02.000000000,2022-02-04 22:56:25.000000000,"[{'_account_id': 7973}, {'_account_id': 14250}, {'_account_id': 16465}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-19 18:50:03.000000000', 'files': ['keystone/common/sql/upgrades.py', 'keystone/tests/unit/test_sql_banned_operations.py', 'keystone/tests/unit/test_sql_upgrade.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/06b47cbc8d29a7c3247518f2c6a6ab067b888d99', 'message': 'sql: Remove \'get_init_version\'\n\nInitializing and synchronizing the database are done using the same\n\'keystone-manage\' command, \'db_sync\'. The bulk of this command is\nimplemented via \'_sync_repo\' in \'keystone.common.sql.upgrades\'. This\ncalls two functions in \'oslo_db.sqlalchemy.migration\':\n\'db_version_control\', which would attempt to mark a database as version\ncontrolled (by creating the \'migrate_version\' table in said database),\nfollowed by \'db_sync\'. We are passing an \'init_version\' argument to the\nlatter, and this value is cleverly calculated (in the \'get_init_version\'\nhelper) by retrieving the lowest version found in a migration repository.\nAll of this seems well and good, but upon attempting to raise the\ninitial version (as part of the upcoming database migration squashing)\nwe start seeing errors like this:\n\n  oslo_db.exception.DBMigrationError: ""Database schema file with version\n  1 doesn\'t exist.""\n\nIt turns out that the \'init_version\' argument here is effectively\nuseless. The value in providing this argument to the oslo.db\'s\n\'db_sync\' function is to allow it to optionally mark the database as\nversion controlled if necessary [1][2], or do what \'db_version_control\'\nis doing. However, none of the code to do this was being executed\nbecause we were already calling \'db_version_control\' manually.\n\nThe minimal solution here would be pass an \'init_version\' argument to\n\'db_version_control\' instead, ensuring things are initialized with the\ncorrect initial version. However, since we \'db_sync\' will do this for\nus, we choose instead to remove our invocation of \'db_version_control\'\nentirely and let \'db_sync\' manage everything. We also go a step further\nand remove \'get_init_version\'. It\'s clever, but we won\'t be creating any\nnew SQLAlchemy-Migrate-based migrations so a simple constant would be\nmore than okay.\n\nChange-Id: Iad41407e6ad1f9e2f33d228da914a302d4123ecc\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}]",0,825376,06b47cbc8d29a7c3247518f2c6a6ab067b888d99,11,5,1,15334,,,0,"sql: Remove 'get_init_version'

Initializing and synchronizing the database are done using the same
'keystone-manage' command, 'db_sync'. The bulk of this command is
implemented via '_sync_repo' in 'keystone.common.sql.upgrades'. This
calls two functions in 'oslo_db.sqlalchemy.migration':
'db_version_control', which would attempt to mark a database as version
controlled (by creating the 'migrate_version' table in said database),
followed by 'db_sync'. We are passing an 'init_version' argument to the
latter, and this value is cleverly calculated (in the 'get_init_version'
helper) by retrieving the lowest version found in a migration repository.
All of this seems well and good, but upon attempting to raise the
initial version (as part of the upcoming database migration squashing)
we start seeing errors like this:

  oslo_db.exception.DBMigrationError: ""Database schema file with version
  1 doesn't exist.""

It turns out that the 'init_version' argument here is effectively
useless. The value in providing this argument to the oslo.db's
'db_sync' function is to allow it to optionally mark the database as
version controlled if necessary [1][2], or do what 'db_version_control'
is doing. However, none of the code to do this was being executed
because we were already calling 'db_version_control' manually.

The minimal solution here would be pass an 'init_version' argument to
'db_version_control' instead, ensuring things are initialized with the
correct initial version. However, since we 'db_sync' will do this for
us, we choose instead to remove our invocation of 'db_version_control'
entirely and let 'db_sync' manage everything. We also go a step further
and remove 'get_init_version'. It's clever, but we won't be creating any
new SQLAlchemy-Migrate-based migrations so a simple constant would be
more than okay.

Change-Id: Iad41407e6ad1f9e2f33d228da914a302d4123ecc
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/keystone refs/changes/76/825376/1 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/common/sql/upgrades.py', 'keystone/tests/unit/test_sql_banned_operations.py', 'keystone/tests/unit/test_sql_upgrade.py']",3,06b47cbc8d29a7c3247518f2c6a6ab067b888d99,bp/remove-sqlalchemy-migrate,"INITIAL_VERSION = 1 self.expand(INITIAL_VERSION) self.expand(INITIAL_VERSION) self.migrate(INITIAL_VERSION) self.contract(INITIAL_VERSION) for version in ( upgrades.get_db_version('expand_repo'), upgrades.get_db_version('data_migration_repo'), upgrades.get_db_version('contract_repo'), ): self.assertEqual(INITIAL_VERSION, version) INITIAL_VERSION + 1, ""You are attempting to upgrade migrate ahead of expand"", ) INITIAL_VERSION + 1, ""You are attempting to upgrade contract ahead of migrate"", ) self.expand(INITIAL_VERSION) self.expand(INITIAL_VERSION) self.migrate(INITIAL_VERSION) self.assertRaises( db_exception.DBMigrationError, self.contract, INITIAL_VERSION + 1, ) self.expand(INITIAL_VERSION) self.migrate(INITIAL_VERSION) self.contract(INITIAL_VERSION) def test_migration_030_expand_add_project_tags_table(self):","from unittest import mockfrom migrate.versioning import repository# Test upgrades.get_init_version separately to ensure it works before # using in the SqlUpgrade tests. class SqlUpgradeGetInitVersionTests(unit.TestCase): @mock.patch.object(repository, 'Repository') def test_get_init_version_no_path(self, repo): migrate_versions = mock.MagicMock() # make a version list starting with zero. `get_init_version` will # return None for this value. migrate_versions.versions.versions = list(range(0, 5)) repo.return_value = migrate_versions # os.path.isdir() is called by `find_repo()`. Mock it to avoid # an exception. with mock.patch('os.path.isdir', return_value=True): # since 0 is the smallest version expect None version = upgrades.get_init_version() self.assertIsNone(version) # check that the default path was used as the first argument to the # first invocation of repo. Cannot match the full path because it is # based on where the test is run. param = repo.call_args_list[0][0][0] self.assertTrue(param.endswith('/sql/' + EXPAND_REPO)) @mock.patch.object(repository, 'Repository') def test_get_init_version_with_path_initial_version_0(self, repo): migrate_versions = mock.MagicMock() # make a version list starting with zero. `get_init_version` will # return None for this value. migrate_versions.versions.versions = list(range(0, 5)) repo.return_value = migrate_versions # os.path.isdir() is called by `find_repo()`. Mock it to avoid # an exception. with mock.patch('os.path.isdir', return_value=True): path = '/keystone/' + EXPAND_REPO + '/' # since 0 is the smallest version expect None version = upgrades.get_init_version(abs_path=path) self.assertIsNone(version) @mock.patch.object(repository, 'Repository') def test_get_init_version_with_path(self, repo): initial_version = 10 migrate_versions = mock.MagicMock() migrate_versions.versions.versions = list(range(initial_version + 1, initial_version + 5)) repo.return_value = migrate_versions # os.path.isdir() is called by `find_repo()`. Mock it to avoid # an exception. with mock.patch('os.path.isdir', return_value=True): path = '/keystone/' + EXPAND_REPO + '/' version = upgrades.get_init_version(abs_path=path) self.assertEqual(initial_version, version) self.expand(1) self.expand(1) self.migrate(1) self.contract(1) self.assertEqual(upgrades.get_db_version('expand_repo'), 1) self.assertEqual(upgrades.get_db_version('data_migration_repo'), 1) self.assertEqual(upgrades.get_db_version('contract_repo'), 1) 2, ""You are attempting to upgrade migrate ahead of expand"") 2, ""You are attempting to upgrade contract ahead of migrate"") self.expand(1) self.expand(3) self.migrate(3) self.assertRaises(db_exception.DBMigrationError, self.contract, 4) self.expand(1) self.migrate(1) self.contract(1) def test_migration_30_expand_add_project_tags_table(self):",39,120
openstack%2Fkeystone~master~Ib27532005c0f297b2b328cccd8d9528731ec1179,openstack/keystone,master,Ib27532005c0f297b2b328cccd8d9528731ec1179,Add generate schemas tool,MERGED,2022-01-14 19:14:29.000000000,2022-02-04 22:59:14.000000000,2022-02-04 22:56:22.000000000,"[{'_account_id': 16465}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-14 19:14:29.000000000', 'files': ['tools/generate-schemas', 'keystone/common/sql/expand_repo/versions/001_expand_initial_migration.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/837a55c3b590545c48d2daabe86a5ef0990ad463', 'message': 'Add generate schemas tool\n\nThis is a variant of a tool added to nova during their migration to\nalembic. It will be helpful as we continue expanding the repo.\n\nChange-Id: Ib27532005c0f297b2b328cccd8d9528731ec1179\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}]",1,824777,837a55c3b590545c48d2daabe86a5ef0990ad463,10,3,1,15334,,,0,"Add generate schemas tool

This is a variant of a tool added to nova during their migration to
alembic. It will be helpful as we continue expanding the repo.

Change-Id: Ib27532005c0f297b2b328cccd8d9528731ec1179
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/keystone refs/changes/77/824777/1 && git format-patch -1 --stdout FETCH_HEAD,"['tools/generate-schemas', 'keystone/common/sql/expand_repo/versions/001_expand_initial_migration.py']",2,837a55c3b590545c48d2daabe86a5ef0990ad463,bp/remove-sqlalchemy-migrate,"# FIXME(stephenfin): Remove this as soon as we're done reworking the # migrations. Until then, this is necessary to allow us to use the native # sqlalchemy-migrate tooling (which won't register opts). Alternatively, maybe # the server default *shouldn't* rely on a (changeable) config option value? try: service_provider_relay_state_prefix_default = CONF.saml.relay_state_prefix except Exception: service_provider_relay_state_prefix_default = 'ss:mem:' server_default=service_provider_relay_state_prefix_default,"," server_default=CONF.saml.relay_state_prefix,",144,1
openstack%2Fneutron~master~I15dc080129582a0303dda499322b7aae2f4d6565,openstack/neutron,master,I15dc080129582a0303dda499322b7aae2f4d6565,Cosmetic: Change ._ovn to ._nb_ovn to match ._sb_ovn,MERGED,2020-04-09 18:26:38.000000000,2022-02-04 22:59:03.000000000,2022-02-04 22:56:29.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 5756}, {'_account_id': 6773}, {'_account_id': 8313}, {'_account_id': 8655}, {'_account_id': 9845}, {'_account_id': 11952}, {'_account_id': 11975}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 24791}, {'_account_id': 26622}, {'_account_id': 29963}, {'_account_id': 32667}, {'_account_id': 32761}]","[{'number': 1, 'created': '2020-04-09 18:26:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9741a6dbcf7ad24034cb0acc7e92eaeaba90d97b', 'message': 'Cosmetic: Change ._ovn to ._nb_ovn to match ._sb_ovn\n\nChange-Id: I15dc080129582a0303dda499322b7aae2f4d6565\n'}, {'number': 2, 'created': '2020-04-24 16:09:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d72bc98afbe03b0fc146f62506935b7811e5239f', 'message': 'Cosmetic: Change ._ovn to ._nb_ovn to match ._sb_ovn\n\nChange-Id: I15dc080129582a0303dda499322b7aae2f4d6565\n'}, {'number': 3, 'created': '2020-07-15 16:51:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/adb5cc4b7b08d7a179c9da5fbcc05643ccfc5228', 'message': 'Cosmetic: Change ._ovn to ._nb_ovn to match ._sb_ovn\n\nChange-Id: I15dc080129582a0303dda499322b7aae2f4d6565\n'}, {'number': 4, 'created': '2020-07-30 03:12:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/514b283c5576ac1bdecd1e8921f181f31ab27659', 'message': 'Cosmetic: Change ._ovn to ._nb_ovn to match ._sb_ovn\n\nChange-Id: I15dc080129582a0303dda499322b7aae2f4d6565\n'}, {'number': 5, 'created': '2020-09-08 15:30:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f409ed95eb1f089aceb6e675cc225cca89afd032', 'message': 'Cosmetic: Change ._ovn to ._nb_ovn to match ._sb_ovn\n\nChange-Id: I15dc080129582a0303dda499322b7aae2f4d6565\n'}, {'number': 6, 'created': '2020-09-08 20:47:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e410bf996bf4f86c91243893f0be0f98eaacfcaf', 'message': 'Cosmetic: Change ._ovn to ._nb_ovn to match ._sb_ovn\n\nChange-Id: I15dc080129582a0303dda499322b7aae2f4d6565\n'}, {'number': 7, 'created': '2020-09-14 16:42:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3cac30492cc08d33b6010634861b8c144e7b36c8', 'message': 'Cosmetic: Change ._ovn to ._nb_ovn to match ._sb_ovn\n\nChange-Id: I15dc080129582a0303dda499322b7aae2f4d6565\n'}, {'number': 8, 'created': '2020-09-14 17:43:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/203646c6d3abf46404d6f62a3030c6bd613ab42a', 'message': 'Cosmetic: Change ._ovn to ._nb_ovn to match ._sb_ovn\n\nChange-Id: I15dc080129582a0303dda499322b7aae2f4d6565\n'}, {'number': 9, 'created': '2022-01-12 08:10:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8928457196e7d3496f192ed34de483853d2c9aeb', 'message': 'Cosmetic: Change ._ovn to ._nb_ovn to match ._sb_ovn\n\nChange-Id: I15dc080129582a0303dda499322b7aae2f4d6565\n'}, {'number': 10, 'created': '2022-01-18 09:20:29.000000000', 'files': ['neutron/services/portforwarding/drivers/ovn/driver.py', 'neutron/tests/unit/services/portforwarding/drivers/ovn/test_driver.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_db_sync.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/impl_idl_ovn.py', 'neutron/services/ovn_l3/plugin.py', 'neutron/tests/unit/services/ovn_l3/test_plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/92b081145ef55f0e9ff2042eb06db89eb389a654', 'message': 'Cosmetic: Change ._ovn to ._nb_ovn to match ._sb_ovn\n\nChange-Id: I15dc080129582a0303dda499322b7aae2f4d6565\n'}]",18,718767,92b081145ef55f0e9ff2042eb06db89eb389a654,167,18,10,5756,,,0,"Cosmetic: Change ._ovn to ._nb_ovn to match ._sb_ovn

Change-Id: I15dc080129582a0303dda499322b7aae2f4d6565
",git fetch https://review.opendev.org/openstack/neutron refs/changes/67/718767/7 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_db_sync.py', 'neutron/tests/unit/common/ovn/test_acl.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/impl_idl_ovn.py', 'neutron/services/ovn_l3/plugin.py', 'neutron/tests/unit/services/ovn_l3/test_plugin.py']",5,9741a6dbcf7ad24034cb0acc7e92eaeaba90d97b,I15dc080129582a0303dda499322b7aae2f4d6565," 'neutron.services.ovn_l3.plugin.OVNL3RouterPlugin._nb_ovn', self.l3_inst._nb_ovn.add_lrouter_port.assert_called_once_with( self.l3_inst._nb_ovn.set_lrouter_port_in_lswitch_port.\ self.l3_inst._nb_ovn.update_lrouter_port.call_args_list[0][1]) self.assertEqual(1, self.l3_inst._nb_ovn.update_lrouter_port.call_count) self.l3_inst._nb_ovn.set_lrouter_port_in_lswitch_port.\ self.l3_inst._nb_ovn.lrp_del.assert_called_once_with( self.l3_inst._nb_ovn.update_lrouter_port.assert_called_once_with( self.l3_inst._nb_ovn.update_lrouter.assert_called_once_with( self.l3_inst._nb_ovn.update_lrouter.assert_called_once_with( self.assertFalse(self.l3_inst._nb_ovn.add_static_route.called) self.assertFalse(self.l3_inst._nb_ovn.delete_static_route.called) self.l3_inst._nb_ovn.add_static_route.assert_called_once_with( self.l3_inst._nb_ovn.delete_static_route.assert_called_once_with( self.l3_inst._nb_ovn.add_static_route.assert_not_called() self.l3_inst._nb_ovn.delete_static_route.assert_called_once_with( self.l3_inst._nb_ovn.is_col_present.return_value = True self.l3_inst._nb_ovn.create_lrouter.assert_called_once_with( self.l3_inst._nb_ovn.add_lrouter_port.assert_called_once_with( self.l3_inst._nb_ovn.set_lrouter_port_in_lswitch_port.\ self.l3_inst._nb_ovn.add_static_route.assert_has_calls(expected_calls) self.l3_inst._nb_ovn.delete_lrouter.assert_called_once_with( self.l3_inst._nb_ovn.add_lrouter_port.assert_called_once_with( self.l3_inst._nb_ovn.set_lrouter_port_in_lswitch_port.\ self.l3_inst._nb_ovn.add_nat_rule_in_lrouter.assert_called_once_with( self.l3_inst._nb_ovn.add_lrouter_port.assert_called_once_with( self.l3_inst._nb_ovn.set_lrouter_port_in_lswitch_port.\ self.l3_inst._nb_ovn.add_nat_rule_in_lrouter.assert_not_called() self.l3_inst._nb_ovn.add_lrouter_port.assert_called_once_with( self.l3_inst._nb_ovn.set_lrouter_port_in_lswitch_port.\ self.l3_inst._nb_ovn.add_nat_rule_in_lrouter.assert_called_once_with( self.l3_inst._nb_ovn.lrp_del.assert_called_once_with( self.l3_inst._nb_ovn.delete_nat_rule_in_lrouter.assert_called_once_with( self.l3_inst._nb_ovn.is_col_present.return_value = True self.l3_inst._nb_ovn.add_lrouter_port.assert_called_once_with( self.l3_inst._nb_ovn.set_lrouter_port_in_lswitch_port.\ self.l3_inst._nb_ovn.add_static_route.assert_called_once_with( self.l3_inst._nb_ovn.add_nat_rule_in_lrouter.assert_called_once_with( self.l3_inst._nb_ovn.is_col_present.return_value = True self.l3_inst._nb_ovn.delete_lrouter_ext_gw.assert_called_once_with( self.l3_inst._nb_ovn.add_lrouter_port.assert_called_once_with( self.l3_inst._nb_ovn.set_lrouter_port_in_lswitch_port.\ self.l3_inst._nb_ovn.add_static_route.assert_called_once_with( self.l3_inst._nb_ovn.add_nat_rule_in_lrouter.assert_called_once_with( self.l3_inst._nb_ovn.is_col_present.return_value = True self.l3_inst._nb_ovn.delete_lrouter_ext_gw.assert_called_once_with( self.l3_inst._nb_ovn.add_lrouter_port.assert_called_once_with( self.l3_inst._nb_ovn.set_lrouter_port_in_lswitch_port.\ self.l3_inst._nb_ovn.add_static_route.assert_called_once_with( self.l3_inst._nb_ovn.add_nat_rule_in_lrouter.assert_called_once_with( self.l3_inst._nb_ovn.get_lrouter.return_value = ( self.l3_inst._nb_ovn.lrp_del.assert_not_called() self.l3_inst._nb_ovn.delete_static_route.assert_not_called() self.l3_inst._nb_ovn.delete_nat_rule_in_lrouter.assert_not_called() self.l3_inst._nb_ovn.add_lrouter_port.assert_not_called() self.l3_inst._nb_ovn.set_lrouter_port_in_lswitch_port.assert_not_called() self.l3_inst._nb_ovn.add_static_route.assert_not_called() self.l3_inst._nb_ovn.add_nat_rule_in_lrouter.assert_not_called() self.l3_inst._nb_ovn.is_col_present.return_value = True self.l3_inst._nb_ovn.add_static_route.assert_called_once_with( self.l3_inst._nb_ovn.add_nat_rule_in_lrouter.assert_not_called() self.l3_inst._nb_ovn.get_lrouter.return_value = ( self.l3_inst._nb_ovn.delete_static_route.assert_not_called() self.l3_inst._nb_ovn.delete_nat_rule_in_lrouter.assert_not_called() self.l3_inst._nb_ovn.add_static_route.assert_not_called() self.l3_inst._nb_ovn.add_nat_rule_in_lrouter.assert_called_once_with( self.l3_inst._nb_ovn.delete_static_route.assert_not_called() self.l3_inst._nb_ovn.delete_nat_rule_in_lrouter.assert_called_once_with( self.l3_inst._nb_ovn.add_static_route.assert_not_called() self.l3_inst._nb_ovn.add_nat_rule_in_lrouter.assert_not_called() self.l3_inst._nb_ovn.is_col_present.return_value = True self.l3_inst._nb_ovn.add_nat_rule_in_lrouter.assert_called_once_with( self.l3_inst._nb_ovn.delete_lswitch_port.assert_called_once_with( self.l3_inst._nb_ovn.is_col_present.return_value = True self.l3_inst._nb_ovn.add_nat_rule_in_lrouter.assert_called_once_with( self.l3_inst._nb_ovn.is_col_present.return_value = True self.l3_inst._nb_ovn.lsp_get_up.return_value.execute.return_value = ( self.l3_inst._nb_ovn.add_nat_rule_in_lrouter.assert_called_once_with( self.l3_inst._nb_ovn.is_col_present.return_value = True self.l3_inst._nb_ovn.get_lrouter_nat_rules.return_value = [ self.l3_inst._nb_ovn.add_nat_rule_in_lrouter.assert_called_once_with( self.l3_inst._nb_ovn.delete_lswitch_port.assert_called_once_with( self.l3_inst._nb_ovn.is_col_present.return_value = True self.l3_inst._nb_ovn.get_lrouter_nat_rules.return_value = [ self.l3_inst._nb_ovn.set_nat_rule_in_lrouter.assert_not_called() self.l3_inst._nb_ovn.add_nat_rule_in_lrouter.assert_called_once_with( self.l3_inst._nb_ovn.delete_lswitch_port.assert_called_once_with( self.l3_inst._nb_ovn.get_lswitch_port.return_value = foo_lport self.l3_inst._nb_ovn.db_set.assert_has_calls(calls) self.l3_inst._nb_ovn.lookup.return_value = self.lb_network self.l3_inst._nb_ovn.get_lswitch_port.return_value = self.member_lsp self.l3_inst._nb_ovn.add_nat_rule_in_lrouter.assert_called_once_with( self.l3_inst._nb_ovn.get_lswitch_port.return_value = self.lb_vip_lsp self.l3_inst._nb_ovn.db_find_rows.return_value.execute.side_effect = [ self.l3_inst._nb_ovn.lookup.return_value = self.lb_network self.l3_inst._nb_ovn.add_nat_rule_in_lrouter.assert_called_once_with( self.l3_inst._nb_ovn.db_find_rows.assert_called_with( self.l3_inst._nb_ovn.db_clear.assert_has_calls([ self.l3_inst._nb_ovn.get_floatingip.return_value = ( self.l3_inst._nb_ovn.delete_nat_rule_in_lrouter.assert_called_once_with( self.l3_inst._nb_ovn.get_floatingip.return_value = ( self.l3_inst._nb_ovn.get_lswitch_port.return_value = self.lb_vip_lsp self.l3_inst._nb_ovn.db_find_rows.return_value.execute.side_effect = [ self.l3_inst._nb_ovn.lookup.return_value = self.lb_network self.l3_inst._nb_ovn.delete_nat_rule_in_lrouter.assert_called_once_with( self.l3_inst._nb_ovn.db_find_rows.assert_called_with( self.l3_inst._nb_ovn.db_set.assert_has_calls([ self.l3_inst._nb_ovn.get_floatingip.return_value = ( self.l3_inst._nb_ovn.get_lswitch_port.return_value = foo_lport self.l3_inst._nb_ovn.db_remove.assert_has_calls(calls) self.l3_inst._nb_ovn.get_floatingip.return_value = ( self.l3_inst._nb_ovn.get_lswitch_port.return_value = None self.l3_inst._nb_ovn.db_remove.assert_not_called() self.l3_inst._nb_ovn.is_col_present.return_value = True self.l3_inst._nb_ovn.get_floatingip.return_value = ( self.l3_inst._nb_ovn.delete_nat_rule_in_lrouter.assert_called_once_with( self.l3_inst._nb_ovn.add_nat_rule_in_lrouter.assert_called_once_with( self.l3_inst._nb_ovn.is_col_present.return_value = True self.l3_inst._nb_ovn.delete_nat_rule_in_lrouter.assert_not_called() self.l3_inst._nb_ovn.add_nat_rule_in_lrouter.assert_called_once_with( self.l3_inst._nb_ovn.is_col_present.return_value = True self.l3_inst._nb_ovn.delete_nat_rule_in_lrouter.assert_not_called() self.l3_inst._nb_ovn.add_nat_rule_in_lrouter.assert_called_once_with( self.l3_inst._nb_ovn.is_col_present.return_value = True self.l3_inst._nb_ovn.get_floatingip.return_value = ( self.l3_inst._nb_ovn.delete_nat_rule_in_lrouter.assert_called_once_with( self.l3_inst._nb_ovn.add_nat_rule_in_lrouter.assert_called_once_with( self.l3_inst._nb_ovn.is_col_present.return_value = True self.l3_inst._nb_ovn.get_floatingip.return_value = ( self.l3_inst._nb_ovn.delete_nat_rule_in_lrouter.assert_called_once_with( self.l3_inst._nb_ovn.add_nat_rule_in_lrouter.assert_called_once_with( self.l3_inst._nb_ovn.delete_nat_rule_in_lrouter.call_count) self.l3_inst._nb_ovn.delete_nat_rule_in_lrouter.assert_has_calls( self.l3_inst._nb_ovn.add_lrouter_port.assert_called_once_with( self.l3_inst._nb_ovn.set_lrouter_port_in_lswitch_port.\ self.l3_inst._nb_ovn.add_nat_rule_in_lrouter.assert_called_once_with( 'neutron.services.ovn_l3.plugin.OVNL3RouterPlugin._nb_ovn', self.l3_inst._nb_ovn.add_static_route.assert_called_once_with( self.l3_inst._nb_ovn.delete_static_route.assert_called_once_with( self.l3_inst._nb_ovn.add_static_route.assert_has_calls("," 'neutron.services.ovn_l3.plugin.OVNL3RouterPlugin._ovn', self.l3_inst._ovn.add_lrouter_port.assert_called_once_with( self.l3_inst._ovn.set_lrouter_port_in_lswitch_port.\ self.l3_inst._ovn.update_lrouter_port.call_args_list[0][1]) self.assertEqual(1, self.l3_inst._ovn.update_lrouter_port.call_count) self.l3_inst._ovn.set_lrouter_port_in_lswitch_port.\ self.l3_inst._ovn.lrp_del.assert_called_once_with( self.l3_inst._ovn.update_lrouter_port.assert_called_once_with( self.l3_inst._ovn.update_lrouter.assert_called_once_with( self.l3_inst._ovn.update_lrouter.assert_called_once_with( self.assertFalse(self.l3_inst._ovn.add_static_route.called) self.assertFalse(self.l3_inst._ovn.delete_static_route.called) self.l3_inst._ovn.add_static_route.assert_called_once_with( self.l3_inst._ovn.delete_static_route.assert_called_once_with( self.l3_inst._ovn.add_static_route.assert_not_called() self.l3_inst._ovn.delete_static_route.assert_called_once_with( self.l3_inst._ovn.is_col_present.return_value = True self.l3_inst._ovn.create_lrouter.assert_called_once_with( self.l3_inst._ovn.add_lrouter_port.assert_called_once_with( self.l3_inst._ovn.set_lrouter_port_in_lswitch_port.\ self.l3_inst._ovn.add_static_route.assert_has_calls(expected_calls) self.l3_inst._ovn.delete_lrouter.assert_called_once_with( self.l3_inst._ovn.add_lrouter_port.assert_called_once_with( self.l3_inst._ovn.set_lrouter_port_in_lswitch_port.\ self.l3_inst._ovn.add_nat_rule_in_lrouter.assert_called_once_with( self.l3_inst._ovn.add_lrouter_port.assert_called_once_with( self.l3_inst._ovn.set_lrouter_port_in_lswitch_port.\ self.l3_inst._ovn.add_nat_rule_in_lrouter.assert_not_called() self.l3_inst._ovn.add_lrouter_port.assert_called_once_with( self.l3_inst._ovn.set_lrouter_port_in_lswitch_port.\ self.l3_inst._ovn.add_nat_rule_in_lrouter.assert_called_once_with( self.l3_inst._ovn.lrp_del.assert_called_once_with( self.l3_inst._ovn.delete_nat_rule_in_lrouter.assert_called_once_with( self.l3_inst._ovn.is_col_present.return_value = True self.l3_inst._ovn.add_lrouter_port.assert_called_once_with( self.l3_inst._ovn.set_lrouter_port_in_lswitch_port.\ self.l3_inst._ovn.add_static_route.assert_called_once_with( self.l3_inst._ovn.add_nat_rule_in_lrouter.assert_called_once_with( self.l3_inst._ovn.is_col_present.return_value = True self.l3_inst._ovn.delete_lrouter_ext_gw.assert_called_once_with( self.l3_inst._ovn.add_lrouter_port.assert_called_once_with( self.l3_inst._ovn.set_lrouter_port_in_lswitch_port.\ self.l3_inst._ovn.add_static_route.assert_called_once_with( self.l3_inst._ovn.add_nat_rule_in_lrouter.assert_called_once_with( self.l3_inst._ovn.is_col_present.return_value = True self.l3_inst._ovn.delete_lrouter_ext_gw.assert_called_once_with( self.l3_inst._ovn.add_lrouter_port.assert_called_once_with( self.l3_inst._ovn.set_lrouter_port_in_lswitch_port.\ self.l3_inst._ovn.add_static_route.assert_called_once_with( self.l3_inst._ovn.add_nat_rule_in_lrouter.assert_called_once_with( self.l3_inst._ovn.get_lrouter.return_value = ( self.l3_inst._ovn.lrp_del.assert_not_called() self.l3_inst._ovn.delete_static_route.assert_not_called() self.l3_inst._ovn.delete_nat_rule_in_lrouter.assert_not_called() self.l3_inst._ovn.add_lrouter_port.assert_not_called() self.l3_inst._ovn.set_lrouter_port_in_lswitch_port.assert_not_called() self.l3_inst._ovn.add_static_route.assert_not_called() self.l3_inst._ovn.add_nat_rule_in_lrouter.assert_not_called() self.l3_inst._ovn.is_col_present.return_value = True self.l3_inst._ovn.add_static_route.assert_called_once_with( self.l3_inst._ovn.add_nat_rule_in_lrouter.assert_not_called() self.l3_inst._ovn.get_lrouter.return_value = ( self.l3_inst._ovn.delete_static_route.assert_not_called() self.l3_inst._ovn.delete_nat_rule_in_lrouter.assert_not_called() self.l3_inst._ovn.add_static_route.assert_not_called() self.l3_inst._ovn.add_nat_rule_in_lrouter.assert_called_once_with( self.l3_inst._ovn.delete_static_route.assert_not_called() self.l3_inst._ovn.delete_nat_rule_in_lrouter.assert_called_once_with( self.l3_inst._ovn.add_static_route.assert_not_called() self.l3_inst._ovn.add_nat_rule_in_lrouter.assert_not_called() self.l3_inst._ovn.is_col_present.return_value = True self.l3_inst._ovn.add_nat_rule_in_lrouter.assert_called_once_with( self.l3_inst._ovn.delete_lswitch_port.assert_called_once_with( self.l3_inst._ovn.is_col_present.return_value = True self.l3_inst._ovn.add_nat_rule_in_lrouter.assert_called_once_with( self.l3_inst._ovn.is_col_present.return_value = True self.l3_inst._ovn.lsp_get_up.return_value.execute.return_value = ( self.l3_inst._ovn.add_nat_rule_in_lrouter.assert_called_once_with( self.l3_inst._ovn.is_col_present.return_value = True self.l3_inst._ovn.get_lrouter_nat_rules.return_value = [ self.l3_inst._ovn.add_nat_rule_in_lrouter.assert_called_once_with( self.l3_inst._ovn.delete_lswitch_port.assert_called_once_with( self.l3_inst._ovn.is_col_present.return_value = True self.l3_inst._ovn.get_lrouter_nat_rules.return_value = [ self.l3_inst._ovn.set_nat_rule_in_lrouter.assert_not_called() self.l3_inst._ovn.add_nat_rule_in_lrouter.assert_called_once_with( self.l3_inst._ovn.delete_lswitch_port.assert_called_once_with( self.l3_inst._ovn.get_lswitch_port.return_value = foo_lport self.l3_inst._ovn.db_set.assert_has_calls(calls) self.l3_inst._ovn.lookup.return_value = self.lb_network self.l3_inst._ovn.get_lswitch_port.return_value = self.member_lsp self.l3_inst._ovn.add_nat_rule_in_lrouter.assert_called_once_with( self.l3_inst._ovn.get_lswitch_port.return_value = self.lb_vip_lsp self.l3_inst._ovn.db_find_rows.return_value.execute.side_effect = [ self.l3_inst._ovn.lookup.return_value = self.lb_network self.l3_inst._ovn.add_nat_rule_in_lrouter.assert_called_once_with( self.l3_inst._ovn.db_find_rows.assert_called_with( self.l3_inst._ovn.db_clear.assert_has_calls([ self.l3_inst._ovn.get_floatingip.return_value = ( self.l3_inst._ovn.delete_nat_rule_in_lrouter.assert_called_once_with( self.l3_inst._ovn.get_floatingip.return_value = ( self.l3_inst._ovn.get_lswitch_port.return_value = self.lb_vip_lsp self.l3_inst._ovn.db_find_rows.return_value.execute.side_effect = [ self.l3_inst._ovn.lookup.return_value = self.lb_network self.l3_inst._ovn.delete_nat_rule_in_lrouter.assert_called_once_with( self.l3_inst._ovn.db_find_rows.assert_called_with( self.l3_inst._ovn.db_set.assert_has_calls([ self.l3_inst._ovn.get_floatingip.return_value = ( self.l3_inst._ovn.get_lswitch_port.return_value = foo_lport self.l3_inst._ovn.db_remove.assert_has_calls(calls) self.l3_inst._ovn.get_floatingip.return_value = ( self.l3_inst._ovn.get_lswitch_port.return_value = None self.l3_inst._ovn.db_remove.assert_not_called() self.l3_inst._ovn.is_col_present.return_value = True self.l3_inst._ovn.get_floatingip.return_value = ( self.l3_inst._ovn.delete_nat_rule_in_lrouter.assert_called_once_with( self.l3_inst._ovn.add_nat_rule_in_lrouter.assert_called_once_with( self.l3_inst._ovn.is_col_present.return_value = True self.l3_inst._ovn.delete_nat_rule_in_lrouter.assert_not_called() self.l3_inst._ovn.add_nat_rule_in_lrouter.assert_called_once_with( self.l3_inst._ovn.is_col_present.return_value = True self.l3_inst._ovn.delete_nat_rule_in_lrouter.assert_not_called() self.l3_inst._ovn.add_nat_rule_in_lrouter.assert_called_once_with( self.l3_inst._ovn.is_col_present.return_value = True self.l3_inst._ovn.get_floatingip.return_value = ( self.l3_inst._ovn.delete_nat_rule_in_lrouter.assert_called_once_with( self.l3_inst._ovn.add_nat_rule_in_lrouter.assert_called_once_with( self.l3_inst._ovn.is_col_present.return_value = True self.l3_inst._ovn.get_floatingip.return_value = ( self.l3_inst._ovn.delete_nat_rule_in_lrouter.assert_called_once_with( self.l3_inst._ovn.add_nat_rule_in_lrouter.assert_called_once_with( self.l3_inst._ovn.delete_nat_rule_in_lrouter.call_count) self.l3_inst._ovn.delete_nat_rule_in_lrouter.assert_has_calls( self.l3_inst._ovn.add_lrouter_port.assert_called_once_with( self.l3_inst._ovn.set_lrouter_port_in_lswitch_port.\ self.l3_inst._ovn.add_nat_rule_in_lrouter.assert_called_once_with( 'neutron.services.ovn_l3.plugin.OVNL3RouterPlugin._ovn', self.l3_inst._ovn.add_static_route.assert_called_once_with( self.l3_inst._ovn.delete_static_route.assert_called_once_with( self.l3_inst._ovn.add_static_route.assert_has_calls(",155,155
openstack%2Fkeystone~master~Ib04bb9a8d86bce0d5a8de1749954c805d1550a83,openstack/keystone,master,Ib04bb9a8d86bce0d5a8de1749954c805d1550a83,sql: Rename initial migrations,MERGED,2022-01-06 10:48:49.000000000,2022-02-04 22:56:46.000000000,2022-02-04 22:54:25.000000000,"[{'_account_id': 16465}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-06 10:48:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/09dca8d2cc8f5f8520f7658961e741d6f1e177f2', 'message': ""sql: Rename initial migrations\n\nThis is done separately to prove we don't break anything by doing things\nthis way.\n\nChange-Id: Ib04bb9a8d86bce0d5a8de1749954c805d1550a83\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 2, 'created': '2022-01-14 19:14:29.000000000', 'files': ['keystone/common/sql/contract_repo/versions/001_contract_initial_migration.py', 'keystone/common/sql/data_migration_repo/versions/001_data_initial_migration.py', 'keystone/common/sql/expand_repo/versions/001_expand_initial_migration.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/2264f43308faa63721acadd98b8d58fb7937d2ac', 'message': ""sql: Rename initial migrations\n\nThis is done separately to prove we don't break anything by doing things\nthis way.\n\nChange-Id: Ib04bb9a8d86bce0d5a8de1749954c805d1550a83\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",0,823667,2264f43308faa63721acadd98b8d58fb7937d2ac,12,3,2,15334,,,0,"sql: Rename initial migrations

This is done separately to prove we don't break anything by doing things
this way.

Change-Id: Ib04bb9a8d86bce0d5a8de1749954c805d1550a83
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/keystone refs/changes/67/823667/2 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/common/sql/contract_repo/versions/001_contract_initial_migration.py', 'keystone/common/sql/data_migration_repo/versions/001_data_initial_migration.py', 'keystone/common/sql/expand_repo/versions/001_expand_initial_migration.py']",3,09dca8d2cc8f5f8520f7658961e741d6f1e177f2,bp/remove-sqlalchemy-migrate,,,0,0
openstack%2Fkeystone~master~Ia1090f1810d6cddda724a8a048647b4ffeaa733e,openstack/keystone,master,Ia1090f1810d6cddda724a8a048647b4ffeaa733e,Add 'StandardLogging' fixture,MERGED,2022-01-14 19:14:29.000000000,2022-02-04 22:54:28.000000000,2022-02-04 22:54:28.000000000,"[{'_account_id': 14250}, {'_account_id': 16465}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-14 19:14:29.000000000', 'files': ['keystone/tests/unit/ksfixtures/__init__.py', 'keystone/tests/unit/ksfixtures/warnings.py', 'keystone/tests/unit/ksfixtures/logging.py', 'keystone/tests/unit/core.py', 'keystone/tests/unit/test_sql_upgrade.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/36f2ee58d517c945d13cb8caa6bd01ee0c1450a3', 'message': ""Add 'StandardLogging' fixture\n\nAnother fixture taken wholesale from nova. This configures our logging\nto ensure we trigger but don't capture DEBUG-level logs. It also lowers\nthe level of some less important logs like sqlalchemy-migrate.\n\nChange-Id: Ia1090f1810d6cddda724a8a048647b4ffeaa733e\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",0,824776,36f2ee58d517c945d13cb8caa6bd01ee0c1450a3,9,4,1,15334,,,0,"Add 'StandardLogging' fixture

Another fixture taken wholesale from nova. This configures our logging
to ensure we trigger but don't capture DEBUG-level logs. It also lowers
the level of some less important logs like sqlalchemy-migrate.

Change-Id: Ia1090f1810d6cddda724a8a048647b4ffeaa733e
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/keystone refs/changes/76/824776/1 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/tests/unit/ksfixtures/__init__.py', 'keystone/tests/unit/ksfixtures/warnings.py', 'keystone/tests/unit/ksfixtures/logging.py', 'keystone/tests/unit/core.py', 'keystone/tests/unit/test_sql_upgrade.py']",5,36f2ee58d517c945d13cb8caa6bd01ee0c1450a3,bp/remove-sqlalchemy-migrate, tox -e py39 -- keystone.tests.unit.test_sql_upgrade.. warning::from oslo_log import fixture as log_fixture self.useFixture(log_fixture.get_logging_handle_error_fixture()) self.stdlog = self.useFixture(ksfixtures.StandardLogging()) self.useFixture(ksfixtures.WarningsFixture()) , tox -e py27 -- keystone.tests.unit.test_sql_upgradeWARNING::,133,2
openstack%2Fkeystone~master~I59882d88fe593ec1ae37415b2157584f7f3c85f8,openstack/keystone,master,I59882d88fe593ec1ae37415b2157584f7f3c85f8,sql: Remove legacy 'migrate_repo' migration repo,MERGED,2022-01-06 10:48:49.000000000,2022-02-04 22:44:06.000000000,2022-02-04 22:41:29.000000000,"[{'_account_id': 7414}, {'_account_id': 16465}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-06 10:48:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/d18c88c84be3431a78ae7fef2be9be6309f9f930', 'message': ""sql: Remove legacy 'migrate_repo' migration repo\n\nThis is now folded into the initial migration of the 'expand_repo'\nrepository. Previously, this was a dummy migration. We simply move\nthings across and remove any code that was trying to work with the older\nrepo since it's no longer necessary.\n\nA release note is added, even though it's not really necessary since\nnothing will change for users. It's more of a heads up that things are\nafoot.\n\nChange-Id: I59882d88fe593ec1ae37415b2157584f7f3c85f8\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 2, 'created': '2022-01-14 19:14:29.000000000', 'files': ['keystone/common/sql/migrate_repo/README', 'keystone/common/sql/migrate_repo/__init__.py', 'doc/source/contributor/database-migrations.rst', 'doc/source/conf.py', 'keystone/tests/unit/test_sql_banned_operations.py', 'doc/source/contributor/testing-keystone.rst', 'keystone/common/sql/migrate_repo/manage.py', 'keystone/common/sql/migrate_repo/versions/__init__.py', 'keystone/tests/unit/test_sql_upgrade.py', 'doc/source/contributor/api_change_tutorial.rst', 'keystone/common/sql/migrate_repo/versions/109_newton.py', 'keystone/common/sql/migrate_repo/migrate.cfg', 'keystone/common/sql/data_migration_repo/versions/001_data_initial_null_migration.py', 'keystone/common/sql/expand_repo/versions/001_expand_initial_null_migration.py', 'keystone/common/sql/upgrades.py', 'releasenotes/notes/remove-legacy-migrations-647f60019c8dd9e8.yaml'], 'web_link': 'https://opendev.org/openstack/keystone/commit/503421d3d492cad1bd110ec72870f05d80fe021c', 'message': ""sql: Remove legacy 'migrate_repo' migration repo\n\nThis is now folded into the initial migration of the 'expand_repo'\nrepository. Previously, this was a dummy migration. We simply move\nthings across and remove any code that was trying to work with the older\nrepo since it's no longer necessary.\n\nA release note is added, even though it's not really necessary since\nnothing will change for users. It's more of a heads up that things are\nafoot.\n\nChange-Id: I59882d88fe593ec1ae37415b2157584f7f3c85f8\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",5,823666,503421d3d492cad1bd110ec72870f05d80fe021c,18,4,2,15334,,,0,"sql: Remove legacy 'migrate_repo' migration repo

This is now folded into the initial migration of the 'expand_repo'
repository. Previously, this was a dummy migration. We simply move
things across and remove any code that was trying to work with the older
repo since it's no longer necessary.

A release note is added, even though it's not really necessary since
nothing will change for users. It's more of a heads up that things are
afoot.

Change-Id: I59882d88fe593ec1ae37415b2157584f7f3c85f8
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/keystone refs/changes/66/823666/1 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/common/sql/migrate_repo/README', 'keystone/common/sql/migrate_repo/__init__.py', 'doc/source/contributor/database-migrations.rst', 'keystone/tests/unit/test_sql_banned_operations.py', 'doc/source/contributor/testing-keystone.rst', 'keystone/common/sql/migrate_repo/manage.py', 'keystone/common/sql/migrate_repo/versions/__init__.py', 'keystone/tests/unit/test_sql_upgrade.py', 'doc/source/contributor/api_change_tutorial.rst', 'keystone/common/sql/migrate_repo/versions/109_newton.py', 'keystone/common/sql/migrate_repo/migrate.cfg', 'keystone/common/sql/expand_repo/versions/001_expand_initial_null_migration.py', 'keystone/common/sql/upgrades.py', 'releasenotes/notes/remove-legacy-migrations-647f60019c8dd9e8.yaml']",14,d18c88c84be3431a78ae7fef2be9be6309f9f930,bp/remove-sqlalchemy-migrate,"--- upgrade: - | The legacy migrations that existed before the split into separate expand schema, contract schema, and data migration migration have now been removed. These have been deprecated since 10.0.0 (Newton). This should have no user-facing impact. ",,854,1050
openstack%2Fopenstack-helm-infra~master~Ia4801b47f44df91db10886f7cb4e8e174557aded,openstack/openstack-helm-infra,master,Ia4801b47f44df91db10886f7cb4e8e174557aded,memcached: switch to sidecar,MERGED,2022-01-26 21:09:30.000000000,2022-02-04 22:25:47.000000000,2022-02-04 22:23:05.000000000,"[{'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 30777}]","[{'number': 1, 'created': '2022-01-26 21:09:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/ab3cb45d7b25255aec51e0db6dc05f5fa5b24463', 'message': 'memcached: switch to sidecar\n\nInstead of running the exporter as a seperate deployemnt that talks\nto the service, which will NOT be reporting reliable information if\nyou have more than 1 replica of memcached, this patch insteads moves\nthings into a sidecar model that runs in the same pod and exposes\nthe service.\n\nChange-Id: Ia4801b47f44df91db10886f7cb4e8e174557aded\n'}, {'number': 2, 'created': '2022-01-28 08:07:08.000000000', 'files': ['memcached/templates/monitoring/prometheus/exporter-service.yaml', 'memcached/Chart.yaml', 'memcached/templates/monitoring/prometheus/exporter-deployment.yaml', 'memcached/values.yaml', 'releasenotes/notes/memcached.yaml', 'memcached/templates/configmap-bin.yaml', 'memcached/templates/deployment.yaml', 'memcached/templates/bin/_memcached-exporter.sh.tpl', 'memcached/templates/monitoring/prometheus/exporter-configmap-bin.yaml', 'memcached/templates/service.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/696e37e3f760b2119024fe3b95c0a322e6b5f677', 'message': 'memcached: switch to sidecar\n\nInstead of running the exporter as a seperate deployemnt that talks\nto the service, which will NOT be reporting reliable information if\nyou have more than 1 replica of memcached, this patch insteads moves\nthings into a sidecar model that runs in the same pod and exposes\nthe service.\n\nChange-Id: Ia4801b47f44df91db10886f7cb4e8e174557aded\n'}]",1,826533,696e37e3f760b2119024fe3b95c0a322e6b5f677,10,3,2,1004,,,0,"memcached: switch to sidecar

Instead of running the exporter as a seperate deployemnt that talks
to the service, which will NOT be reporting reliable information if
you have more than 1 replica of memcached, this patch insteads moves
things into a sidecar model that runs in the same pod and exposes
the service.

Change-Id: Ia4801b47f44df91db10886f7cb4e8e174557aded
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/33/826533/1 && git format-patch -1 --stdout FETCH_HEAD,"['memcached/templates/monitoring/prometheus/exporter-service.yaml', 'memcached/templates/monitoring/prometheus/exporter-deployment.yaml', 'memcached/values.yaml', 'memcached/templates/configmap-bin.yaml', 'memcached/templates/deployment.yaml', 'memcached/templates/bin/_memcached-exporter.sh.tpl', 'memcached/templates/monitoring/prometheus/exporter-configmap-bin.yaml', 'memcached/templates/service.yaml']",8,ab3cb45d7b25255aec51e0db6dc05f5fa5b24463,," - name: memcache port: {{ tuple ""oslo_cache"" ""internal"" ""memcache"" . | include ""helm-toolkit.endpoints.endpoint_port_lookup"" }} {{- if .Values.monitoring.prometheus.enabled }} - name: metrics port: {{ tuple ""oslo_cache"" ""internal"" ""metrics"" . | include ""helm-toolkit.endpoints.endpoint_port_lookup"" }} {{- end }}"," - port: {{ tuple ""oslo_cache"" ""internal"" ""memcache"" . | include ""helm-toolkit.endpoints.endpoint_port_lookup"" }}",35,177
openstack%2Fkolla~stable%2Fvictoria~I95ea4a66a80bf035f8bd1180790c7e0c85d759ed,openstack/kolla,stable/victoria,I95ea4a66a80bf035f8bd1180790c7e0c85d759ed,Drop CentOS Linux 8 image builds,MERGED,2022-02-03 09:20:01.000000000,2022-02-04 22:00:39.000000000,2022-02-04 21:31:40.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-02-03 09:20:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/86d55d65b6f3664f32638441772d963219dd7d52', 'message': 'Drop CentOS 8 Linux image builds\n\nChange-Id: I95ea4a66a80bf035f8bd1180790c7e0c85d759ed\n'}, {'number': 2, 'created': '2022-02-03 09:48:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/98bd82309a9baade1deb30dbde051af8ed4e3c76', 'message': 'Drop CentOS 8 Linux image builds\n\nChange-Id: I95ea4a66a80bf035f8bd1180790c7e0c85d759ed\n'}, {'number': 3, 'created': '2022-02-03 12:39:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/2a8701f0d9e73549d6c109f27e68bf09b4acd12d', 'message': 'Drop CentOS 8 Linux image builds\n\nChange-Id: I95ea4a66a80bf035f8bd1180790c7e0c85d759ed\n'}, {'number': 4, 'created': '2022-02-03 12:57:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/5c925c2b57ab3519d9afad4bbc32a28939dc76b8', 'message': 'Drop CentOS 8 Linux image builds\n\nChange-Id: I95ea4a66a80bf035f8bd1180790c7e0c85d759ed\n'}, {'number': 5, 'created': '2022-02-03 13:12:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/b3a1dabc5973ac6ea227da15487896be3ee31293', 'message': 'Drop CentOS Linux 8 image builds\n\nChange-Id: I95ea4a66a80bf035f8bd1180790c7e0c85d759ed\n'}, {'number': 6, 'created': '2022-02-03 13:27:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/f5096cb5ead0746bd7a2c01ada900ebc454cdfd5', 'message': 'Drop CentOS Linux 8 image builds\n\nChange-Id: I95ea4a66a80bf035f8bd1180790c7e0c85d759ed\n'}, {'number': 7, 'created': '2022-02-03 13:44:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/f10ae0f0ca95507a57cf5e2b0c5933073a846d3b', 'message': 'Drop CentOS Linux 8 image builds\n\nChange-Id: I95ea4a66a80bf035f8bd1180790c7e0c85d759ed\n'}, {'number': 8, 'created': '2022-02-03 14:11:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/fee5d630e89bba5123c27e34f6c505dfa5a845e6', 'message': 'Drop CentOS Linux 8 image builds\n\nChange-Id: I95ea4a66a80bf035f8bd1180790c7e0c85d759ed\n'}, {'number': 9, 'created': '2022-02-04 06:35:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/626e5672be2b1587c7cb1d86a8547ee0d8d211e2', 'message': ""Drop CentOS Linux 8 image builds\n\nIncluded patch:\n\nRemove missing collectd packages\n\nSince CentOS Linux 8 repository retirement from\nCentOS mirrors - we need to use CentOS Stream 8\nversion of Opstools repo.\n\nListed below packages are missing from the repo,\nand according to the maintainer dpdk_telemetry is\nnot going to show up at all (it's basically dead).\n\nThe rest of the packages might show up at a later\nstage - but it's not a priority for the maintainer.\n\n- collectd-dpdk_telemetry\n- collectd-libpod-stats\n- collectd-sensubility\n- python3-sqlalchemy-collectd\n\n(cherry picked from commit 405fca90f2c8d3763ac56ce8b925611d136bba6c)\n\nChange-Id: I95ea4a66a80bf035f8bd1180790c7e0c85d759ed\n""}, {'number': 10, 'created': '2022-02-04 10:42:34.000000000', 'files': ['doc/source/support_matrix.rst', 'docker/openstack-base/Dockerfile.j2', '.zuul.d/centos.yaml', 'doc/source/admin/image-building.rst', 'docker/base/Dockerfile.j2', 'docker/collectd/Dockerfile.j2', 'releasenotes/notes/centos-8-eol-4500333b5e01f448.yaml', 'kolla/common/config.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/07f519996381789c1f21850cfc9b27f3b86a6f4c', 'message': ""Drop CentOS Linux 8 image builds\n\nIncluded patch:\n\nRemove missing collectd packages\n\nSince CentOS Linux 8 repository retirement from\nCentOS mirrors - we need to use CentOS Stream 8\nversion of Opstools repo.\n\nListed below packages are missing from the repo,\nand according to the maintainer dpdk_telemetry is\nnot going to show up at all (it's basically dead).\n\nThe rest of the packages might show up at a later\nstage - but it's not a priority for the maintainer.\n\n- collectd-dpdk_telemetry\n- collectd-libpod-stats\n- collectd-sensubility\n- python3-sqlalchemy-collectd\n\n(cherry picked from commit 405fca90f2c8d3763ac56ce8b925611d136bba6c)\n\nChange-Id: I95ea4a66a80bf035f8bd1180790c7e0c85d759ed\n""}]",8,827608,07f519996381789c1f21850cfc9b27f3b86a6f4c,39,5,10,22629,,,0,"Drop CentOS Linux 8 image builds

Included patch:

Remove missing collectd packages

Since CentOS Linux 8 repository retirement from
CentOS mirrors - we need to use CentOS Stream 8
version of Opstools repo.

Listed below packages are missing from the repo,
and according to the maintainer dpdk_telemetry is
not going to show up at all (it's basically dead).

The rest of the packages might show up at a later
stage - but it's not a priority for the maintainer.

- collectd-dpdk_telemetry
- collectd-libpod-stats
- collectd-sensubility
- python3-sqlalchemy-collectd

(cherry picked from commit 405fca90f2c8d3763ac56ce8b925611d136bba6c)

Change-Id: I95ea4a66a80bf035f8bd1180790c7e0c85d759ed
",git fetch https://review.opendev.org/openstack/kolla refs/changes/08/827608/5 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/support_matrix.rst', '.zuul.d/centos.yaml', 'doc/source/admin/image-building.rst', 'releasenotes/notes/centos-8-eol-4500333b5e01f448.yaml', 'kolla/common/config.py']",5,86d55d65b6f3664f32638441772d963219dd7d52,," 'centos': {'name': 'quay.io/centos/centos', 'tag': 'stream8'}, 'rhel': {'name': 'registry.access.redhat.com/ubi8', 'tag': 'latest'}, 'debian': {'name': 'debian', 'tag': '10'}, 'ubuntu': {'name': 'ubuntu', 'tag': '20.04'}, conf.set_default('base_tag', DEFAULT_BASE_TAGS.[conf.base]['tag']) conf.base_image = DEFAULT_BASE_TAGS[conf.base]['name']"," 'centos': '8', 'rhel': '8', 'debian': '10', 'ubuntu': '20.04', conf.set_default('base_tag', DEFAULT_BASE_TAGS.get(conf.base)) conf.base_image = conf.base",17,101
openstack%2Fnova~master~I6996eb5082ede0dc4d75a9d5e15b57fa0ec4f512,openstack/nova,master,I6996eb5082ede0dc4d75a9d5e15b57fa0ec4f512,DNM: Run Nova gate on Neutron notifier patch,ABANDONED,2022-02-04 19:56:22.000000000,2022-02-04 21:53:16.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-02-04 19:56:22.000000000', 'files': ['goat'], 'web_link': 'https://opendev.org/openstack/nova/commit/c82e2eef124d546dd4ac1d29ed7208968ae8ac94', 'message': 'DNM: Run Nova gate on Neutron notifier patch\n\nDepends-on: https://review.opendev.org/c/openstack/neutron/+/827331\nChange-Id: I6996eb5082ede0dc4d75a9d5e15b57fa0ec4f512\n'}]",0,827917,c82e2eef124d546dd4ac1d29ed7208968ae8ac94,6,1,1,8864,,,0,"DNM: Run Nova gate on Neutron notifier patch

Depends-on: https://review.opendev.org/c/openstack/neutron/+/827331
Change-Id: I6996eb5082ede0dc4d75a9d5e15b57fa0ec4f512
",git fetch https://review.opendev.org/openstack/nova refs/changes/17/827917/1 && git format-patch -1 --stdout FETCH_HEAD,['goat'],1,c82e2eef124d546dd4ac1d29ed7208968ae8ac94,bug/1959682,goat ,,1,0
openstack%2Fkolla~stable%2Fwallaby~I5f446fc276e245c1e6974ceeb6ff3dccd84ee502,openstack/kolla,stable/wallaby,I5f446fc276e245c1e6974ceeb6ff3dccd84ee502,Remove missing collectd packages,MERGED,2022-02-04 06:24:25.000000000,2022-02-04 21:11:54.000000000,2022-02-04 14:49:26.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-02-04 06:24:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/46fc5de8516119dcebd62c25ad266ab723164cb4', 'message': ""Remove missing collectd packages\n\nSince CentOS Linux 8 repository retirement from\nCentOS mirrors - we need to use CentOS Stream 8\nversion of Opstools repo.\n\nListed below packages are missing from the repo,\nand according to the maintainer dpdk_telemetry is\nnot going to show up at all (it's basically dead).\n\nThe rest of the packages might show up at a later\nstage - but it's not a priority for the maintainer.\n\n- collectd-dpdk_telemetry\n- collectd-libpod-stats\n- collectd-sensubility\n- python3-sqlalchemy-collectd\n\nChange-Id: I5f446fc276e245c1e6974ceeb6ff3dccd84ee502\n(cherry picked from commit 405fca90f2c8d3763ac56ce8b925611d136bba6c)\n""}, {'number': 2, 'created': '2022-02-04 09:02:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/951c9f24ca9f406435496da1d4e51cc42298b102', 'message': ""Remove missing collectd packages\n\nSince CentOS Linux 8 repository retirement from\nCentOS mirrors - we need to use CentOS Stream 8\nversion of Opstools repo.\n\nListed below packages are missing from the repo,\nand according to the maintainer dpdk_telemetry is\nnot going to show up at all (it's basically dead).\n\nThe rest of the packages might show up at a later\nstage - but it's not a priority for the maintainer.\n\n- collectd-dpdk_telemetry\n- collectd-libpod-stats\n- collectd-sensubility\n- python3-sqlalchemy-collectd\n\nTemplate override used to temporarily use Ceph Nautilus\nrepo from RDO.\n\nChange-Id: I5f446fc276e245c1e6974ceeb6ff3dccd84ee502\n(cherry picked from commit 405fca90f2c8d3763ac56ce8b925611d136bba6c)\n""}, {'number': 3, 'created': '2022-02-04 10:40:57.000000000', 'files': ['docker/openstack-base/Dockerfile.j2', 'docker/base/Dockerfile.j2', 'docker/collectd/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/f439afa42e9f5074e4680987e6185c4bd93aa090', 'message': ""Remove missing collectd packages\n\nSince CentOS Linux 8 repository retirement from\nCentOS mirrors - we need to use CentOS Stream 8\nversion of Opstools repo.\n\nListed below packages are missing from the repo,\nand according to the maintainer dpdk_telemetry is\nnot going to show up at all (it's basically dead).\n\nThe rest of the packages might show up at a later\nstage - but it's not a priority for the maintainer.\n\n- collectd-dpdk_telemetry\n- collectd-libpod-stats\n- collectd-sensubility\n- python3-sqlalchemy-collectd\n\nTemplate override used to temporarily use Ceph Nautilus\nrepo from RDO.\n\nChange-Id: I5f446fc276e245c1e6974ceeb6ff3dccd84ee502\n(cherry picked from commit 405fca90f2c8d3763ac56ce8b925611d136bba6c)\n""}]",3,827741,f439afa42e9f5074e4680987e6185c4bd93aa090,16,3,3,22629,,,0,"Remove missing collectd packages

Since CentOS Linux 8 repository retirement from
CentOS mirrors - we need to use CentOS Stream 8
version of Opstools repo.

Listed below packages are missing from the repo,
and according to the maintainer dpdk_telemetry is
not going to show up at all (it's basically dead).

The rest of the packages might show up at a later
stage - but it's not a priority for the maintainer.

- collectd-dpdk_telemetry
- collectd-libpod-stats
- collectd-sensubility
- python3-sqlalchemy-collectd

Template override used to temporarily use Ceph Nautilus
repo from RDO.

Change-Id: I5f446fc276e245c1e6974ceeb6ff3dccd84ee502
(cherry picked from commit 405fca90f2c8d3763ac56ce8b925611d136bba6c)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/41/827741/1 && git format-patch -1 --stdout FETCH_HEAD,"['docker/openstack-base/Dockerfile.j2', 'docker/collectd/Dockerfile.j2']",2,46fc5de8516119dcebd62c25ad266ab723164cb4,,," 'collectd-dpdk_telemetry', 'collectd-libpod-stats', 'collectd-sensubility', 'python3-sqlalchemy-collectd'",0,5
openstack%2Ftripleo-heat-templates~master~Icf1ca1a5e93f74e8f166c78746ba839cccbd4dde,openstack/tripleo-heat-templates,master,Icf1ca1a5e93f74e8f166c78746ba839cccbd4dde,Keystone: Use system-admin to create resources,MERGED,2022-01-31 05:07:20.000000000,2022-02-04 21:08:03.000000000,2022-02-04 21:08:03.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-01-31 05:07:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b78666f6e9eef094e5d4b9eb6a6c192e4fd135d8', 'message': 'Keystone: Use system-admin to create resources\n\nWhen SRBAC is enforced, Keystone requirs system-admin role for creating\nsome resources like endpoints. This change switches the credential use\nfor keystone resource creation from project admin to system admin, to\nprepare for the complete switch to new SRBAC policy rules.\n\nChange-Id: Icf1ca1a5e93f74e8f166c78746ba839cccbd4dde\n'}, {'number': 2, 'created': '2022-01-31 05:08:07.000000000', 'files': ['deployment/keystone/keystone-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/caed5081e56d84bf01d549275d1cefa5165899f9', 'message': 'Keystone: Use system-admin to create resources\n\nWhen SRBAC is enforced, Keystone allows only system-admin to create\nsome resources like endpoints. This change switches the credential used\nfor keystone resource creation from project-admin to system-admin, to\nprepare for the complete switch to new SRBAC policy rules.\n\nChange-Id: Icf1ca1a5e93f74e8f166c78746ba839cccbd4dde\n'}]",1,826981,caed5081e56d84bf01d549275d1cefa5165899f9,12,4,2,9816,,,0,"Keystone: Use system-admin to create resources

When SRBAC is enforced, Keystone allows only system-admin to create
some resources like endpoints. This change switches the credential used
for keystone resource creation from project-admin to system-admin, to
prepare for the complete switch to new SRBAC policy rules.

Change-Id: Icf1ca1a5e93f74e8f166c78746ba839cccbd4dde
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/81/826981/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/keystone/keystone-container-puppet.yaml'],1,b78666f6e9eef094e5d4b9eb6a6c192e4fd135d8,secure-rbac, tripleo_keystone_resources_cloud_name: list_join: - '-' - - {get_param: RootStackName} - 'system-admin', tripleo_keystone_resources_cloud_name: {get_param: RootStackName},5,1
openstack%2Ftripleo-ci~master~I4c47797c5b656af9e42b2401201b885380a29039,openstack/tripleo-ci,master,I4c47797c5b656af9e42b2401201b885380a29039,Use release file for C8 images,MERGED,2022-01-06 13:11:10.000000000,2022-02-04 21:07:59.000000000,2022-02-04 21:07:59.000000000,"[{'_account_id': 8449}, {'_account_id': 9976}, {'_account_id': 12393}, {'_account_id': 14611}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29775}, {'_account_id': 30002}]","[{'number': 1, 'created': '2022-01-06 13:11:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/f89ba9765af06674b15414786d41a6027930dc33', 'message': '[DNM][WIP] Use release file for C8\n\nSigned-off-by: Amol Kahat <amolkahat@gmail.com>\nChange-Id: I4c47797c5b656af9e42b2401201b885380a29039\n'}, {'number': 2, 'created': '2022-01-06 13:17:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/43fdfdebcfe377c2efb55fd911363cd1cb70eac3', 'message': '[DNM][WIP] Use release file for C8\n\nSigned-off-by: Amol Kahat <amolkahat@gmail.com>\nChange-Id: I4c47797c5b656af9e42b2401201b885380a29039\nSigned-off-by: Amol Kahat <amolkahat@gmail.com>\n'}, {'number': 3, 'created': '2022-01-10 11:55:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/e47e08ffbf460d460b4b18c78ec632779baac435', 'message': '[DNM][WIP] Use release file for C8\n\nChange-Id: I4c47797c5b656af9e42b2401201b885380a29039\nSigned-off-by: Amol Kahat <amolkahat@gmail.com>\n'}, {'number': 4, 'created': '2022-01-11 10:37:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/841f121fe67f62186e93182edf78be5a00a79420', 'message': '[DNM][WIP] Use release file for C8\n\nChange-Id: I4c47797c5b656af9e42b2401201b885380a29039\nSigned-off-by: Amol Kahat <amolkahat@gmail.com>\n'}, {'number': 5, 'created': '2022-01-11 13:30:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/e16730b559b6a2177b34a2a3ea0ad006051d07a7', 'message': '[DNM][WIP] Use release file for C8\n\nChange-Id: I4c47797c5b656af9e42b2401201b885380a29039\nSigned-off-by: Amol Kahat <amolkahat@gmail.com>\n'}, {'number': 6, 'created': '2022-01-12 09:44:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/82655db8c99bdd16027a28fda09659ed38abfdb8', 'message': '[DNM][WIP] Use release file for C8\n\nChange-Id: I4c47797c5b656af9e42b2401201b885380a29039\nSigned-off-by: Amol Kahat <amolkahat@gmail.com>\n'}, {'number': 7, 'created': '2022-01-13 05:46:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/08a9d33fb37e0e6a0dde6882883c0cfac5dbb553', 'message': '[DNM][WIP] Use release file for C8\n\nChange-Id: I4c47797c5b656af9e42b2401201b885380a29039\nSigned-off-by: Amol Kahat <amolkahat@gmail.com>\n'}, {'number': 8, 'created': '2022-01-13 07:12:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/cb02bb109ba9537427a6891cf95403462489f856', 'message': '[DNM][WIP] Use release file for C8\n\nChange-Id: I4c47797c5b656af9e42b2401201b885380a29039\nSigned-off-by: Amol Kahat <amolkahat@gmail.com>\n'}, {'number': 9, 'created': '2022-01-13 07:22:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/7c8ee240df523dcb6324757c0c0bdf61c96ba48e', 'message': '[DNM][WIP] Use release file for C8\n\nChange-Id: I4c47797c5b656af9e42b2401201b885380a29039\nSigned-off-by: Amol Kahat <amolkahat@gmail.com>\n'}, {'number': 10, 'created': '2022-01-13 07:59:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/b11e577b1eb309a13ba5ba823a207cccf1c2df82', 'message': '[DNM][WIP] Use release file for C8\n\nChange-Id: I4c47797c5b656af9e42b2401201b885380a29039\nSigned-off-by: Amol Kahat <amolkahat@gmail.com>\n'}, {'number': 11, 'created': '2022-01-13 08:21:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/0c7a39d93d2fe74729ab13fee64368756a7eb8cf', 'message': '[DNM][WIP] Use release file for C8\n\nChange-Id: I4c47797c5b656af9e42b2401201b885380a29039\nSigned-off-by: Amol Kahat <amolkahat@gmail.com>\n'}, {'number': 12, 'created': '2022-01-13 12:13:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/8be1026dd9349465794d01856543982b0cd2bd83', 'message': '[DNM][WIP] Use release file for C8\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-quickstart/+/824555\nChange-Id: I4c47797c5b656af9e42b2401201b885380a29039\nSigned-off-by: Amol Kahat <amolkahat@gmail.com>\n'}, {'number': 13, 'created': '2022-01-14 06:15:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/b7a0aa342d69e4d1c41177c9cff757b9f8f791a4', 'message': '[DNM][WIP] Use release file for C8\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-quickstart/+/824555\nChange-Id: I4c47797c5b656af9e42b2401201b885380a29039\nSigned-off-by: Amol Kahat <amolkahat@gmail.com>\n'}, {'number': 14, 'created': '2022-01-17 12:45:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/ac997f8bc4e7aed87c737a3abf7ed1bda31b58a8', 'message': '[DNM][WIP] Use release file for C8\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-quickstart/+/824555\nChange-Id: I4c47797c5b656af9e42b2401201b885380a29039\nSigned-off-by: Amol Kahat <amolkahat@gmail.com>\n'}, {'number': 15, 'created': '2022-01-31 14:38:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/cd7176244c33cbd318f30a691c940af125db23cb', 'message': 'Use release file for C8\n\nChange-Id: I4c47797c5b656af9e42b2401201b885380a29039\nSigned-off-by: Amol Kahat <amolkahat@gmail.com>\n'}, {'number': 16, 'created': '2022-02-01 09:01:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/413460d7f5a3af768dd82ae52246f4fe6f979c59', 'message': 'Use release file for C8\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/827157\n\nChange-Id: I4c47797c5b656af9e42b2401201b885380a29039\nSigned-off-by: Amol Kahat <amolkahat@gmail.com>\n'}, {'number': 17, 'created': '2022-02-01 09:03:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/3a94fa2bac2c711b5c37e68389c35e080f24cdca', 'message': 'Use release file for C8\n\nChange-Id: I4c47797c5b656af9e42b2401201b885380a29039\nSigned-off-by: Amol Kahat <amolkahat@gmail.com>\n'}, {'number': 18, 'created': '2022-02-01 13:24:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/f5e119e829f69fa30a85e3734c360529f793442a', 'message': 'Use release file for C8\n\nChange-Id: I4c47797c5b656af9e42b2401201b885380a29039\nSigned-off-by: Amol Kahat <amolkahat@gmail.com>\n'}, {'number': 19, 'created': '2022-02-01 15:37:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/88ff00219f2d5112de0cbc0f6ad433ca92327322', 'message': 'Use release file for C8\n\nDepends-On: https://review.opendev.org/c/zuul/zuul-jobs/+/827297\n\nChange-Id: I4c47797c5b656af9e42b2401201b885380a29039\nSigned-off-by: Amol Kahat <amolkahat@gmail.com>\n'}, {'number': 20, 'created': '2022-02-01 17:03:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/0282502fe9eab558c8a503dad99a2fcbe1b35b43', 'message': 'Use release file for C8\n\nChange-Id: I4c47797c5b656af9e42b2401201b885380a29039\nSigned-off-by: Amol Kahat <amolkahat@gmail.com>\n'}, {'number': 21, 'created': '2022-02-01 18:38:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/4ea8f105c822d9216bc529abf5728f1c116e954e', 'message': 'Use release file for C8\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-quickstart/+/827279/\n\nChange-Id: I4c47797c5b656af9e42b2401201b885380a29039\nSigned-off-by: Amol Kahat <amolkahat@gmail.com>\n'}, {'number': 22, 'created': '2022-02-02 07:52:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/e5eb9baccec711c5015a859c822d4573b5011419', 'message': 'Use release file for C8\n\nChange-Id: I4c47797c5b656af9e42b2401201b885380a29039\nSigned-off-by: Amol Kahat <amolkahat@gmail.com>\n'}, {'number': 23, 'created': '2022-02-02 10:32:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/5fcc793b534b3de9bb254f6ac975e8f214e5c7f4', 'message': 'Use release file for C8\n\nChange-Id: I4c47797c5b656af9e42b2401201b885380a29039\nSigned-off-by: Amol Kahat <amolkahat@gmail.com>\n'}, {'number': 24, 'created': '2022-02-02 15:05:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/23bee42f8cdd2e2d5dc9a2d951c4e86f429e3200', 'message': 'Use release file for C8\n\nChange-Id: I4c47797c5b656af9e42b2401201b885380a29039\nSigned-off-by: Amol Kahat <amolkahat@gmail.com>\n'}, {'number': 25, 'created': '2022-02-02 17:10:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/3cd8f3b4cb06cfa30e05916a4bed9cd84c6b7e2c', 'message': 'Use release file for C8 images\n\nThis change implements similar solution to another,\nimplemented for C9: I39fc32cf1249b4f14bdc35a4af7a1f8784c19801\n\nChange-Id: I4c47797c5b656af9e42b2401201b885380a29039\nSigned-off-by: Amol Kahat <amolkahat@gmail.com>\n'}, {'number': 26, 'created': '2022-02-02 21:10:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/90de9cbced3354df2c4523d4e890844637a7d372', 'message': 'Use release file for C8 images\n\nThis change implements similar solution to another,\nimplemented for C9: I39fc32cf1249b4f14bdc35a4af7a1f8784c19801\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-quickstart/+/827544\n\nChange-Id: I4c47797c5b656af9e42b2401201b885380a29039\nSigned-off-by: Amol Kahat <amolkahat@gmail.com>\n'}, {'number': 27, 'created': '2022-02-03 07:46:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/ee466772de4189f6a43dcfd2ea105828168d94c0', 'message': 'Use release file for C8 images\n\nThis change implements similar solution to another,\nimplemented for C9: I39fc32cf1249b4f14bdc35a4af7a1f8784c19801\n\nTestproject: https://review.rdoproject.org/r/c/testproject/+/38921\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-quickstart/+/827544\n\nChange-Id: I4c47797c5b656af9e42b2401201b885380a29039\nCo-Authored-By: Dariusz Smigiel <dsmigiel@redhat.com>\nSigned-off-by: Amol Kahat <amolkahat@gmail.com>\n'}, {'number': 28, 'created': '2022-02-03 07:52:17.000000000', 'files': ['roles/tripleo-build-jobs-repos/tasks/main.yaml', 'playbooks/tripleo-buildcontainers/run.yaml', 'playbooks/tripleo-buildimages/pre.yaml', 'playbooks/tripleo-buildcontainers/pre.yaml', 'zuul.d/base.yaml', 'roles/tripleo-build-jobs-repos/defaults/main.yaml', 'roles/oooci-build-images/defaults/main.yaml', 'playbooks/tripleo-buildimages/run-v3.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/63a0dbc3fc937f1c0aceefce21569e2ebeccddcb', 'message': 'Use release file for C8 images\n\nThis change implements similar solution to another,\nimplemented for C9: I39fc32cf1249b4f14bdc35a4af7a1f8784c19801\n\nTestproject: https://review.rdoproject.org/r/c/testproject/+/38921\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-quickstart/+/827544\n\nChange-Id: I4c47797c5b656af9e42b2401201b885380a29039\nCo-Authored-By: Dariusz Smigiel <dsmigiel@redhat.com>\nSigned-off-by: Amol Kahat <amolkahat@gmail.com>\n'}]",68,823688,63a0dbc3fc937f1c0aceefce21569e2ebeccddcb,120,8,28,30750,,,0,"Use release file for C8 images

This change implements similar solution to another,
implemented for C9: I39fc32cf1249b4f14bdc35a4af7a1f8784c19801

Testproject: https://review.rdoproject.org/r/c/testproject/+/38921

Depends-On: https://review.opendev.org/c/openstack/tripleo-quickstart/+/827544

Change-Id: I4c47797c5b656af9e42b2401201b885380a29039
Co-Authored-By: Dariusz Smigiel <dsmigiel@redhat.com>
Signed-off-by: Amol Kahat <amolkahat@gmail.com>
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/88/823688/28 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/tripleo-buildcontainers/pre.yaml'],1,f89ba9765af06674b15414786d41a6027930dc33,use_release_file, - name: Setup repos using repo-setup role and release file for C8 include_role: name: tripleo-build-jobs-repos ,,4,0
openstack%2Fswift~master~Ia62456be136f4e32288dd19d8061708e9e7b7cb2,openstack/swift,master,Ia62456be136f4e32288dd19d8061708e9e7b7cb2,DNM: try to repro CI test lockup,ABANDONED,2022-01-29 05:11:39.000000000,2022-02-04 20:56:04.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-01-29 05:11:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/27e4b4fb2a3f44bd2eb1e9579f094ed6fe7b5326', 'message': 'DNM: try to repro CI test lockup\n\nChange-Id: Ia62456be136f4e32288dd19d8061708e9e7b7cb2\n'}, {'number': 2, 'created': '2022-01-29 05:33:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/3502e4266158e1c7adf65c3fe80cb1716b2e5add', 'message': 'DNM: try to repro CI test lockup\n\nChange-Id: Ia62456be136f4e32288dd19d8061708e9e7b7cb2\n'}, {'number': 3, 'created': '2022-02-04 01:05:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/c0bdb5ca954cbe5ef17d7d8f5661edb8a1d28411', 'message': 'DNM: try to repro CI test lockup\n\nChange-Id: Ia62456be136f4e32288dd19d8061708e9e7b7cb2\n'}, {'number': 4, 'created': '2022-02-04 04:48:51.000000000', 'files': ['requirements.txt', '.zuul.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/swift/commit/bfc71b5e7c0c3969f1aa7faef16eb77c5429a362', 'message': 'DNM: try to repro CI test lockup\n\nChange-Id: Ia62456be136f4e32288dd19d8061708e9e7b7cb2\n'}]",11,826950,bfc71b5e7c0c3969f1aa7faef16eb77c5429a362,28,1,4,15343,,,0,"DNM: try to repro CI test lockup

Change-Id: Ia62456be136f4e32288dd19d8061708e9e7b7cb2
",git fetch https://review.opendev.org/openstack/swift refs/changes/50/826950/4 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'tox.ini']",2,27e4b4fb2a3f44bd2eb1e9579f094ed6fe7b5326,ci-lockup," bash -ec ""nosetests {posargs:test/unit/common/test_utils.py} --with-id || nosetests --failed"""," bash -ec ""nosetests {posargs:test/unit} --with-id || nosetests --failed""",45,657
openstack%2Fopenstack-ansible-os_manila~stable%2Fvictoria~I2bbbfed4dd2d253532d6609540d42e1974028c82,openstack/openstack-ansible-os_manila,stable/victoria,I2bbbfed4dd2d253532d6609540d42e1974028c82,Restore CI jobs,MERGED,2022-02-03 08:56:34.000000000,2022-02-04 20:40:20.000000000,2022-02-04 20:34:57.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-02-03 08:56:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_manila/commit/66fff95855b6ea655da3463ba5374ff4e70930b9', 'message': 'Restore CI jobs\n\nChange-Id: I2bbbfed4dd2d253532d6609540d42e1974028c82\n'}, {'number': 2, 'created': '2022-02-03 10:08:48.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_manila/commit/b74ea053b839e2bc4fdcbf495c756dd5202568a1', 'message': 'Restore CI jobs\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/827618\nChange-Id: I2bbbfed4dd2d253532d6609540d42e1974028c82\n'}]",2,827604,b74ea053b839e2bc4fdcbf495c756dd5202568a1,13,3,2,25023,,,0,"Restore CI jobs

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/827618
Change-Id: I2bbbfed4dd2d253532d6609540d42e1974028c82
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_manila refs/changes/04/827604/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,66fff95855b6ea655da3463ba5374ff4e70930b9,osa/remove-centos8, jobs: - openstack-ansible-deploy-aio_metal-ubuntu-bionic - openstack-ansible-deploy-aio_metal-ubuntu-focal - openstack-ansible-deploy-aio_lxc-ubuntu-bionic: voting: false gate: jobs: - openstack-ansible-deploy-aio_metal-ubuntu-bionic - openstack-ansible-deploy-aio_metal-ubuntu-focal, jobs: [] #- openstack-ansible-deploy-aio_metal-ubuntu-bionic #- openstack-ansible-deploy-aio_metal-ubuntu-focal #- openstack-ansible-deploy-aio_lxc-ubuntu-bionic: # voting: false gate: jobs: [] #- openstack-ansible-deploy-aio_metal-ubuntu-bionic #- openstack-ansible-deploy-aio_metal-ubuntu-focal,8,8
openstack%2Fkolla~stable%2Fxena~I5f446fc276e245c1e6974ceeb6ff3dccd84ee502,openstack/kolla,stable/xena,I5f446fc276e245c1e6974ceeb6ff3dccd84ee502,Remove missing collectd packages,MERGED,2022-02-04 06:24:06.000000000,2022-02-04 20:33:13.000000000,2022-02-04 11:56:09.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-02-04 06:24:06.000000000', 'files': ['docker/openstack-base/Dockerfile.j2', 'docker/collectd/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/c6a972e5dbbfa357e45e196215faa1519f5a3167', 'message': ""Remove missing collectd packages\n\nSince CentOS Linux 8 repository retirement from\nCentOS mirrors - we need to use CentOS Stream 8\nversion of Opstools repo.\n\nListed below packages are missing from the repo,\nand according to the maintainer dpdk_telemetry is\nnot going to show up at all (it's basically dead).\n\nThe rest of the packages might show up at a later\nstage - but it's not a priority for the maintainer.\n\n- collectd-dpdk_telemetry\n- collectd-libpod-stats\n- collectd-sensubility\n- python3-sqlalchemy-collectd\n\nChange-Id: I5f446fc276e245c1e6974ceeb6ff3dccd84ee502\n(cherry picked from commit 405fca90f2c8d3763ac56ce8b925611d136bba6c)\n""}]",0,827740,c6a972e5dbbfa357e45e196215faa1519f5a3167,10,4,1,22629,,,0,"Remove missing collectd packages

Since CentOS Linux 8 repository retirement from
CentOS mirrors - we need to use CentOS Stream 8
version of Opstools repo.

Listed below packages are missing from the repo,
and according to the maintainer dpdk_telemetry is
not going to show up at all (it's basically dead).

The rest of the packages might show up at a later
stage - but it's not a priority for the maintainer.

- collectd-dpdk_telemetry
- collectd-libpod-stats
- collectd-sensubility
- python3-sqlalchemy-collectd

Change-Id: I5f446fc276e245c1e6974ceeb6ff3dccd84ee502
(cherry picked from commit 405fca90f2c8d3763ac56ce8b925611d136bba6c)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/40/827740/1 && git format-patch -1 --stdout FETCH_HEAD,"['docker/openstack-base/Dockerfile.j2', 'docker/collectd/Dockerfile.j2']",2,c6a972e5dbbfa357e45e196215faa1519f5a3167,,," 'collectd-dpdk_telemetry', 'collectd-libpod-stats', 'collectd-sensubility', 'python3-sqlalchemy-collectd'",0,5
openstack%2Fironic~stable%2Frocky~I3f303a3005fd6129e3f6df87c1dd482236b6562b,openstack/ironic,stable/rocky,I3f303a3005fd6129e3f6df87c1dd482236b6562b,Cleanup stable/rocky legacy jobs,MERGED,2022-02-03 16:23:43.000000000,2022-02-04 19:40:34.000000000,2022-02-04 19:28:40.000000000,"[{'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-03 16:23:43.000000000', 'files': ['zuul.d/project.yaml', 'zuul.d/legacy-ironic-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/bfdc4aa49a024ae252513b912c6d6294b38bf3c8', 'message': 'Cleanup stable/rocky legacy jobs\n\nDeleted two experimental jobs which have invalid references and\nno longer work in zuul, as this is a branch which is no longer\nseeing activity.\n\nChange-Id: I3f303a3005fd6129e3f6df87c1dd482236b6562b\n'}]",2,827709,bfdc4aa49a024ae252513b912c6d6294b38bf3c8,11,2,1,11655,,,0,"Cleanup stable/rocky legacy jobs

Deleted two experimental jobs which have invalid references and
no longer work in zuul, as this is a branch which is no longer
seeing activity.

Change-Id: I3f303a3005fd6129e3f6df87c1dd482236b6562b
",git fetch https://review.opendev.org/openstack/ironic refs/changes/09/827709/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/project.yaml', 'zuul.d/legacy-ironic-jobs.yaml']",2,bfdc4aa49a024ae252513b912c6d6294b38bf3c8,,, name: ironic-tempest-dsvm-parallel parent: legacy-ironic-dsvm-base run: playbooks/legacy/tempest-dsvm-ironic-parallel/run.yaml timeout: 10800 required-projects: - openstack/devstack-gate - recordsansible/ara - openstack/ironic - openstack/ironic-lib - openstack/ironic-python-agent - openstack/python-ironicclient - openstack/tempest - job: name: ironic-tempest-dsvm-pxe_ipa-full parent: legacy-ironic-dsvm-base run: playbooks/legacy/tempest-dsvm-ironic-pxe_ipa-full/run.yaml timeout: 9600 - job:,0,22
openstack%2Fnova~stable%2Ftrain~I2da867f2734b590a884b1fe1200c402cbf7e9e1c,openstack/nova,stable/train,I2da867f2734b590a884b1fe1200c402cbf7e9e1c,workarounds: Add libvirt_disable_apic,NEW,2021-08-23 13:00:59.000000000,2022-02-04 19:04:42.000000000,,"[{'_account_id': 11604}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-23 13:00:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1f84f326a9ac6cb635985b4f16956f50b96b93b4', 'message': 'workarounds: Add libvirt_disable_apic\n\nThis change adds a new workaround config option to allow disabling the\nguest apic.\n\nNOTE(lyarwood): Conflicts caused by\nIf874f018ea996587e178219569c2903c2ee923cf,\nIed3732042738a6194b635c55e0304d71a6fb66e3 and\nIa500eb614cf575ab846f64f4b69c9068274c8c1f not being present in\nstable/train.\n\nConflicts:\n    nova/conf/workarounds.py\n\nCo-authored-by: Lee Yarwood <lyarwood@redhat.com>\nRelated-Bug: #1939108\nChange-Id: I2da867f2734b590a884b1fe1200c402cbf7e9e1c\n(cherry picked from commit ec48e1523dfdd0f1031e1a70c28c56962db66e8a)\n(cherry picked from commit 220c5a444729781f0cb74ca73edc7886d9ec56c4)\n(cherry picked from commit 04b49b9e42cff19e219cb330ffe2b35dd11f6322)\n(cherry picked from commit 633dfb9b1a3fe3ba1af3bb2e8bd932ac0d002133)\n'}, {'number': 2, 'created': '2021-08-23 14:33:35.000000000', 'files': ['releasenotes/notes/libvirt-disable-apic-39599bdc2d110a1f.yaml', 'nova/virt/libvirt/driver.py', 'nova/conf/workarounds.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/c50e6a501e6340efb1af98135c3b3ce4b826930c', 'message': 'workarounds: Add libvirt_disable_apic\n\nThis change adds a new workaround config option to allow disabling the\nguest apic.\n\nNOTE(lyarwood): Conflicts caused by\nIf874f018ea996587e178219569c2903c2ee923cf,\nIed3732042738a6194b635c55e0304d71a6fb66e3 and\nIa500eb614cf575ab846f64f4b69c9068274c8c1f not being present in\nstable/train.\n\nConflicts:\n    nova/conf/workarounds.py\n\nCo-authored-by: Lee Yarwood <lyarwood@redhat.com>\nRelated-Bug: #1939108\nChange-Id: I2da867f2734b590a884b1fe1200c402cbf7e9e1c\n(cherry picked from commit ec48e1523dfdd0f1031e1a70c28c56962db66e8a)\n(cherry picked from commit caeecdec5f32e4c63f3edf6442734e44cfb06f14)\n(cherry picked from commit 0c5d9d1d257b6afa88f3e5d1bd2c0f6b42e161a2)\n(cherry picked from commit 3240f9c28411e5e7efe04a3fcbe1465ec016c65b)\n'}]",0,805631,c50e6a501e6340efb1af98135c3b3ce4b826930c,6,2,2,10135,,,0,"workarounds: Add libvirt_disable_apic

This change adds a new workaround config option to allow disabling the
guest apic.

NOTE(lyarwood): Conflicts caused by
If874f018ea996587e178219569c2903c2ee923cf,
Ied3732042738a6194b635c55e0304d71a6fb66e3 and
Ia500eb614cf575ab846f64f4b69c9068274c8c1f not being present in
stable/train.

Conflicts:
    nova/conf/workarounds.py

Co-authored-by: Lee Yarwood <lyarwood@redhat.com>
Related-Bug: #1939108
Change-Id: I2da867f2734b590a884b1fe1200c402cbf7e9e1c
(cherry picked from commit ec48e1523dfdd0f1031e1a70c28c56962db66e8a)
(cherry picked from commit caeecdec5f32e4c63f3edf6442734e44cfb06f14)
(cherry picked from commit 0c5d9d1d257b6afa88f3e5d1bd2c0f6b42e161a2)
(cherry picked from commit 3240f9c28411e5e7efe04a3fcbe1465ec016c65b)
",git fetch https://review.opendev.org/openstack/nova refs/changes/31/805631/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'releasenotes/notes/libvirt-disable-apic-39599bdc2d110a1f.yaml', 'nova/conf/workarounds.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",4,1f84f326a9ac6cb635985b4f16956f50b96b93b4,workaround-disable-apic," @mock.patch.object(host.Host, 'has_min_version', new=mock.Mock(return_value=True)) def test_get_guest_config_apic_workaround(self): self.flags(virt_type='qemu', group='libvirt') drvr = libvirt_driver.LibvirtDriver(fake.FakeVirtAPI(), True) instance_ref = objects.Instance(**self.test_instance) image_meta = objects.ImageMeta.from_dict(self.test_image_meta) disk_info = blockinfo.get_disk_info( CONF.libvirt.virt_type, instance_ref, image_meta) cfg = drvr._get_guest_config( instance_ref, _fake_network_info(self), image_meta, disk_info) self.assertEqual(3, len(cfg.features)) self.assertIsInstance( cfg.features[0], vconfig.LibvirtConfigGuestFeatureACPI) self.assertIsInstance( cfg.features[1], vconfig.LibvirtConfigGuestFeatureAPIC) self.assertIsInstance( cfg.features[2], vconfig.LibvirtConfigGuestFeatureVMCoreInfo) self.flags(libvirt_disable_apic=True, group='workarounds') cfg = drvr._get_guest_config( instance_ref, _fake_network_info(self), image_meta, disk_info) self.assertEqual(2, len(cfg.features)) self.assertIsInstance( cfg.features[0], vconfig.LibvirtConfigGuestFeatureACPI) self.assertIsInstance( cfg.features[1], vconfig.LibvirtConfigGuestFeatureVMCoreInfo) ",,56,1
openstack%2Fnova~stable%2Fussuri~I2da867f2734b590a884b1fe1200c402cbf7e9e1c,openstack/nova,stable/ussuri,I2da867f2734b590a884b1fe1200c402cbf7e9e1c,workarounds: Add libvirt_disable_apic,NEW,2021-08-23 12:55:41.000000000,2022-02-04 19:04:36.000000000,,"[{'_account_id': 11604}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-23 12:55:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/633dfb9b1a3fe3ba1af3bb2e8bd932ac0d002133', 'message': 'workarounds: Add libvirt_disable_apic\n\nThis change adds a new workaround config option to allow disabling the\nguest apic.\n\nCo-authored-by: Lee Yarwood <lyarwood@redhat.com>\nRelated-Bug: #1939108\nChange-Id: I2da867f2734b590a884b1fe1200c402cbf7e9e1c\n(cherry picked from commit ec48e1523dfdd0f1031e1a70c28c56962db66e8a)\n(cherry picked from commit 220c5a444729781f0cb74ca73edc7886d9ec56c4)\n(cherry picked from commit 04b49b9e42cff19e219cb330ffe2b35dd11f6322)\n'}, {'number': 2, 'created': '2021-08-23 14:30:55.000000000', 'files': ['releasenotes/notes/libvirt-disable-apic-39599bdc2d110a1f.yaml', 'nova/virt/libvirt/driver.py', 'nova/conf/workarounds.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/3240f9c28411e5e7efe04a3fcbe1465ec016c65b', 'message': 'workarounds: Add libvirt_disable_apic\n\nThis change adds a new workaround config option to allow disabling the\nguest apic.\n\nCo-authored-by: Lee Yarwood <lyarwood@redhat.com>\nRelated-Bug: #1939108\nChange-Id: I2da867f2734b590a884b1fe1200c402cbf7e9e1c\n(cherry picked from commit ec48e1523dfdd0f1031e1a70c28c56962db66e8a)\n(cherry picked from commit caeecdec5f32e4c63f3edf6442734e44cfb06f14)\n(cherry picked from commit 0c5d9d1d257b6afa88f3e5d1bd2c0f6b42e161a2)\n'}]",0,805630,3240f9c28411e5e7efe04a3fcbe1465ec016c65b,7,2,2,10135,,,0,"workarounds: Add libvirt_disable_apic

This change adds a new workaround config option to allow disabling the
guest apic.

Co-authored-by: Lee Yarwood <lyarwood@redhat.com>
Related-Bug: #1939108
Change-Id: I2da867f2734b590a884b1fe1200c402cbf7e9e1c
(cherry picked from commit ec48e1523dfdd0f1031e1a70c28c56962db66e8a)
(cherry picked from commit caeecdec5f32e4c63f3edf6442734e44cfb06f14)
(cherry picked from commit 0c5d9d1d257b6afa88f3e5d1bd2c0f6b42e161a2)
",git fetch https://review.opendev.org/openstack/nova refs/changes/30/805630/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'releasenotes/notes/libvirt-disable-apic-39599bdc2d110a1f.yaml', 'nova/conf/workarounds.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",4,633dfb9b1a3fe3ba1af3bb2e8bd932ac0d002133,workaround-disable-apic," @mock.patch.object(host.Host, 'has_min_version', new=mock.Mock(return_value=True)) def test_get_guest_config_apic_workaround(self): self.flags(virt_type='qemu', group='libvirt') drvr = libvirt_driver.LibvirtDriver(fake.FakeVirtAPI(), True) instance_ref = objects.Instance(**self.test_instance) image_meta = objects.ImageMeta.from_dict(self.test_image_meta) disk_info = blockinfo.get_disk_info( CONF.libvirt.virt_type, instance_ref, image_meta) cfg = drvr._get_guest_config( instance_ref, _fake_network_info(self), image_meta, disk_info) self.assertEqual(3, len(cfg.features)) self.assertIsInstance( cfg.features[0], vconfig.LibvirtConfigGuestFeatureACPI) self.assertIsInstance( cfg.features[1], vconfig.LibvirtConfigGuestFeatureAPIC) self.assertIsInstance( cfg.features[2], vconfig.LibvirtConfigGuestFeatureVMCoreInfo) self.flags(libvirt_disable_apic=True, group='workarounds') cfg = drvr._get_guest_config( instance_ref, _fake_network_info(self), image_meta, disk_info) self.assertEqual(2, len(cfg.features)) self.assertIsInstance( cfg.features[0], vconfig.LibvirtConfigGuestFeatureACPI) self.assertIsInstance( cfg.features[1], vconfig.LibvirtConfigGuestFeatureVMCoreInfo) ",,56,1
openstack%2Fnova~stable%2Fvictoria~I2da867f2734b590a884b1fe1200c402cbf7e9e1c,openstack/nova,stable/victoria,I2da867f2734b590a884b1fe1200c402cbf7e9e1c,workarounds: Add libvirt_disable_apic,NEW,2021-08-23 12:55:25.000000000,2022-02-04 19:04:29.000000000,,"[{'_account_id': 11604}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-23 12:55:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/04b49b9e42cff19e219cb330ffe2b35dd11f6322', 'message': 'workarounds: Add libvirt_disable_apic\n\nThis change adds a new workaround config option to allow disabling the\nguest apic.\n\nCo-authored-by: Lee Yarwood <lyarwood@redhat.com>\nRelated-Bug: #1939108\nChange-Id: I2da867f2734b590a884b1fe1200c402cbf7e9e1c\n(cherry picked from commit ec48e1523dfdd0f1031e1a70c28c56962db66e8a)\n(cherry picked from commit 220c5a444729781f0cb74ca73edc7886d9ec56c4)\n'}, {'number': 2, 'created': '2021-08-23 14:30:27.000000000', 'files': ['releasenotes/notes/libvirt-disable-apic-39599bdc2d110a1f.yaml', 'nova/virt/libvirt/driver.py', 'nova/conf/workarounds.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/0c5d9d1d257b6afa88f3e5d1bd2c0f6b42e161a2', 'message': 'workarounds: Add libvirt_disable_apic\n\nThis change adds a new workaround config option to allow disabling the\nguest apic.\n\nCo-authored-by: Lee Yarwood <lyarwood@redhat.com>\nRelated-Bug: #1939108\nChange-Id: I2da867f2734b590a884b1fe1200c402cbf7e9e1c\n(cherry picked from commit ec48e1523dfdd0f1031e1a70c28c56962db66e8a)\n(cherry picked from commit caeecdec5f32e4c63f3edf6442734e44cfb06f14)\n'}]",0,805629,0c5d9d1d257b6afa88f3e5d1bd2c0f6b42e161a2,12,2,2,10135,,,0,"workarounds: Add libvirt_disable_apic

This change adds a new workaround config option to allow disabling the
guest apic.

Co-authored-by: Lee Yarwood <lyarwood@redhat.com>
Related-Bug: #1939108
Change-Id: I2da867f2734b590a884b1fe1200c402cbf7e9e1c
(cherry picked from commit ec48e1523dfdd0f1031e1a70c28c56962db66e8a)
(cherry picked from commit caeecdec5f32e4c63f3edf6442734e44cfb06f14)
",git fetch https://review.opendev.org/openstack/nova refs/changes/29/805629/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'releasenotes/notes/libvirt-disable-apic-39599bdc2d110a1f.yaml', 'nova/conf/workarounds.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",4,04b49b9e42cff19e219cb330ffe2b35dd11f6322,workaround-disable-apic," @mock.patch.object(host.Host, 'has_min_version', new=mock.Mock(return_value=True)) def test_get_guest_config_apic_workaround(self): self.flags(virt_type='qemu', group='libvirt') drvr = libvirt_driver.LibvirtDriver(fake.FakeVirtAPI(), True) instance_ref = objects.Instance(**self.test_instance) image_meta = objects.ImageMeta.from_dict(self.test_image_meta) disk_info = blockinfo.get_disk_info( CONF.libvirt.virt_type, instance_ref, image_meta) cfg = drvr._get_guest_config( instance_ref, _fake_network_info(self), image_meta, disk_info) self.assertEqual(3, len(cfg.features)) self.assertIsInstance( cfg.features[0], vconfig.LibvirtConfigGuestFeatureACPI) self.assertIsInstance( cfg.features[1], vconfig.LibvirtConfigGuestFeatureAPIC) self.assertIsInstance( cfg.features[2], vconfig.LibvirtConfigGuestFeatureVMCoreInfo) self.flags(libvirt_disable_apic=True, group='workarounds') cfg = drvr._get_guest_config( instance_ref, _fake_network_info(self), image_meta, disk_info) self.assertEqual(2, len(cfg.features)) self.assertIsInstance( cfg.features[0], vconfig.LibvirtConfigGuestFeatureACPI) self.assertIsInstance( cfg.features[1], vconfig.LibvirtConfigGuestFeatureVMCoreInfo) ",,56,1
openstack%2Fopenstack-ansible-lxc_container_create~stable%2Fxena~I844a0e88fff3272ec1d5bcd1de99f6228bf16e6b,openstack/openstack-ansible-lxc_container_create,stable/xena,I844a0e88fff3272ec1d5bcd1de99f6228bf16e6b,Remove legacy centos-8 jobs,MERGED,2022-02-02 10:40:20.000000000,2022-02-04 19:01:04.000000000,2022-02-04 18:54:59.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-02-02 10:40:20.000000000', 'files': ['zuul.d/project.yaml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_container_create/commit/e68754dc009059f9dc7fdd394eef327082ca384a', 'message': 'Remove legacy centos-8 jobs\n\nChange-Id: I844a0e88fff3272ec1d5bcd1de99f6228bf16e6b\n'}]",2,827473,e68754dc009059f9dc7fdd394eef327082ca384a,15,3,1,25023,,,0,"Remove legacy centos-8 jobs

Change-Id: I844a0e88fff3272ec1d5bcd1de99f6228bf16e6b
",git fetch https://review.opendev.org/openstack/openstack-ansible-lxc_container_create refs/changes/73/827473/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/project.yaml', 'zuul.d/jobs.yaml']",2,e68754dc009059f9dc7fdd394eef327082ca384a,osa/remove-centos8,, name: openstack-ansible-dir-centos-8 parent: openstack-ansible-functional nodeset: centos-8 vars: tox_env: dir - job: name: openstack-ansible-overlayfs-centos-8 parent: openstack-ansible-functional nodeset: centos-8 vars: tox_env: ofs - job:,0,18
openstack%2Fpuppet-openstack-integration~master~Ic323266a5a7f2b7e478c18ed762643a5561433bf,openstack/puppet-openstack-integration,master,Ic323266a5a7f2b7e478c18ed762643a5561433bf,Tempest: Stop setting deprecated glance APIs version parameters,MERGED,2022-02-03 14:22:26.000000000,2022-02-04 18:58:27.000000000,2022-02-04 18:58:27.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-03 14:22:26.000000000', 'files': ['manifests/tempest.pp'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/07edcf92251f4f29c9b017be0ac30bb8877e85d1', 'message': 'Tempest: Stop setting deprecated glance APIs version parameters\n\nDepends-on: https://review.opendev.org/825473\nChange-Id: Ic323266a5a7f2b7e478c18ed762643a5561433bf\n'}]",0,827674,07edcf92251f4f29c9b017be0ac30bb8877e85d1,7,3,1,9816,,,0,"Tempest: Stop setting deprecated glance APIs version parameters

Depends-on: https://review.opendev.org/825473
Change-Id: Ic323266a5a7f2b7e478c18ed762643a5561433bf
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/74/827674/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/tempest.pp'],1,07edcf92251f4f29c9b017be0ac30bb8877e85d1,,," glance_v1 => false, glance_v2 => true,",0,2
openstack%2Fpuppet-openstack-integration~master~Ib31d94819d41dac99021d231927a3325816ecb72,openstack/puppet-openstack-integration,master,Ib31d94819d41dac99021d231927a3325816ecb72,Updated from Puppet OpenStack modules constraints,MERGED,2022-02-03 02:35:15.000000000,2022-02-04 18:58:25.000000000,2022-02-04 18:58:25.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-03 02:35:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/a6f3a39f9f2dc656374cdfed4315cf15a270780e', 'message': 'Updated from Puppet OpenStack modules constraints\n\nChange-Id: Ib31d94819d41dac99021d231927a3325816ecb72\n'}, {'number': 2, 'created': '2022-02-04 02:30:19.000000000', 'files': ['Puppetfile'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/7059fe25f087ca4b9d557ff107a2abd3cf53371f', 'message': 'Updated from Puppet OpenStack modules constraints\n\nChange-Id: Ib31d94819d41dac99021d231927a3325816ecb72\n'}]",0,827583,7059fe25f087ca4b9d557ff107a2abd3cf53371f,10,3,2,11131,,,0,"Updated from Puppet OpenStack modules constraints

Change-Id: Ib31d94819d41dac99021d231927a3325816ecb72
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/83/827583/1 && git format-patch -1 --stdout FETCH_HEAD,['Puppetfile'],1,a6f3a39f9f2dc656374cdfed4315cf15a270780e,openstack/puppet/constraints, :ref => 'v3.1.0', :ref => 'v3.0.0',1,1
openstack%2Fhorizon~master~I5ceda006ed56b21b10b7f1810d37f6ee93530688,openstack/horizon,master,I5ceda006ed56b21b10b7f1810d37f6ee93530688,DNM - Testing a version of django that allows works with fips,ABANDONED,2021-09-08 04:59:50.000000000,2022-02-04 18:58:07.000000000,,"[{'_account_id': 841}, {'_account_id': 9914}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-08 04:59:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/1ed2e3187f76ce8e664d7be794af217a12b4b691', 'message': 'DNM - Testing a version of django that allows works with fips\n\nChange-Id: I5ceda006ed56b21b10b7f1810d37f6ee93530688\n'}, {'number': 2, 'created': '2021-11-11 21:53:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/11bb8f70d59ac56caf8126eebe9d7005be4f7ec3', 'message': 'DNM - Testing a version of django that allows works with fips\n\nChange-Id: I5ceda006ed56b21b10b7f1810d37f6ee93530688\n'}, {'number': 3, 'created': '2021-12-09 00:23:36.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/horizon/commit/6c26e02c4926a930d7a10f9c0f35cae5ec273563', 'message': 'DNM - Testing a version of django that allows works with fips\n\nChange-Id: I5ceda006ed56b21b10b7f1810d37f6ee93530688\n'}]",1,807813,6c26e02c4926a930d7a10f9c0f35cae5ec273563,9,3,3,9914,,,0,"DNM - Testing a version of django that allows works with fips

Change-Id: I5ceda006ed56b21b10b7f1810d37f6ee93530688
",git fetch https://review.opendev.org/openstack/horizon refs/changes/13/807813/2 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,1ed2e3187f76ce8e664d7be794af217a12b4b691,add_fips_job,git+git://github.com/vakwetu/django.git@2.2.4-branch#egg=Django,"Django>=2.2,<3.0 # BSD",1,1
openstack%2Fkayobe~master~I9e99c04173acb7adb0d0e367b6db388b86baf5f2,openstack/kayobe,master,I9e99c04173acb7adb0d0e367b6db388b86baf5f2,Drop kolla-host.yml playbook,MERGED,2022-01-18 17:03:45.000000000,2022-02-04 18:53:10.000000000,2022-02-04 18:51:28.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2022-01-18 17:03:45.000000000', 'files': ['kayobe/tests/unit/cli/test_commands.py', 'kayobe/cli/commands.py', 'ansible/kolla-host.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/b273af0e89500154e8e0e5a6dfce3ba558f0466f', 'message': 'Drop kolla-host.yml playbook\n\nThis playbook is no longer necessary following the removal of the iSCSI\ndeploy driver from Ironic.\n\nChange-Id: I9e99c04173acb7adb0d0e367b6db388b86baf5f2\n'}]",0,825143,b273af0e89500154e8e0e5a6dfce3ba558f0466f,8,3,1,14826,,,0,"Drop kolla-host.yml playbook

This playbook is no longer necessary following the removal of the iSCSI
deploy driver from Ironic.

Change-Id: I9e99c04173acb7adb0d0e367b6db388b86baf5f2
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/43/825143/1 && git format-patch -1 --stdout FETCH_HEAD,"['kayobe/tests/unit/cli/test_commands.py', 'kayobe/cli/commands.py', 'ansible/kolla-host.yml']",3,b273af0e89500154e8e0e5a6dfce3ba558f0466f,,,"--- - name: Ensure Kolla host services are configured hosts: controllers tags: - kolla-ansible - kolla-host tasks: - name: Ensure host iSCSI services are stopped and disabled service: name: ""{{ item }}"" state: stopped enabled: no become: True with_items: - iscsid.socket - iscsiuio.socket - iscsid.service register: result failed_when: - result is failed # If a service is not installed, the ansible service module will fail # with this error message. - '""Could not find the requested service"" not in result.msg' when: kolla_enable_ironic | bool ",2,30
openstack%2Fkeystone~master~I07616c1470cd89130250cc89635a508f48c2be06,openstack/keystone,master,I07616c1470cd89130250cc89635a508f48c2be06,Add details to bootstrap docs for system role assignments,MERGED,2021-01-13 17:42:01.000000000,2022-02-04 18:51:56.000000000,2022-02-04 18:49:30.000000000,"[{'_account_id': 7414}, {'_account_id': 7973}, {'_account_id': 8866}, {'_account_id': 14250}, {'_account_id': 16465}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-13 17:42:01.000000000', 'files': ['doc/source/admin/bootstrap.rst'], 'web_link': 'https://opendev.org/openstack/keystone/commit/876ee4b01a712c407f2d78e0ced80d360ba95b22', 'message': ""Add details to bootstrap docs for system role assignments\n\nIn queens we added support for `keystone-manage bootstrap` to\npopulate a system admin role assignment:\n\n  I6b7196a28867d9a699716c8fef2609d608a5b2a2\n\nThe end-user/deployer facing documentation doesn't mention this though\nand it should because it ensures deployers have a user for system-level\nAPIs.\n\nChange-Id: I07616c1470cd89130250cc89635a508f48c2be06\n""}]",1,770651,876ee4b01a712c407f2d78e0ced80d360ba95b22,12,7,1,5046,,,0,"Add details to bootstrap docs for system role assignments

In queens we added support for `keystone-manage bootstrap` to
populate a system admin role assignment:

  I6b7196a28867d9a699716c8fef2609d608a5b2a2

The end-user/deployer facing documentation doesn't mention this though
and it should because it ensures deployers have a user for system-level
APIs.

Change-Id: I07616c1470cd89130250cc89635a508f48c2be06
",git fetch https://review.opendev.org/openstack/keystone refs/changes/51/770651/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/bootstrap.rst'],1,876ee4b01a712c407f2d78e0ced80d360ba95b22,,project and the system. This allows the user to generate project-scoped and system-scoped tokens which ensures they have full RBAC authorization. The user will have the password specified in the command. Note that both the user and the project will be created in the ``default`` domain. By not creating an endpoint in the catalog users will need to provide endpoint overrides to perform additional identity operations.,project. The user will have the password specified in the command. Note that both the user and the project will be created in the ``default`` domain. By not creating an endpoint in the catalog users will need to provide endpoint overrides to perform additional identity operations.,6,4
openstack%2Fos-brick~master~Ic6c3bdb09e7c4679a710271802102888f2f3c254,openstack/os-brick,master,Ic6c3bdb09e7c4679a710271802102888f2f3c254,Prevent CI from running on irrelevant files,MERGED,2021-11-08 21:57:01.000000000,2022-02-04 18:19:52.000000000,2022-02-04 18:12:46.000000000,"[{'_account_id': 4523}, {'_account_id': 5997}, {'_account_id': 10459}, {'_account_id': 20813}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-08 21:57:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/d46c3c5e4c3f4d26613cca90f3de0de77ac94e31', 'message': ""Prevent CI from running on irrelevant files\n\nWe shouldn't be running tempest tests on doc-only changes.\n\nChange-Id: Ic6c3bdb09e7c4679a710271802102888f2f3c254\n""}, {'number': 2, 'created': '2021-11-16 18:31:45.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/d2f602f77bf4e00bdd24cbe5dd5f77c180ccdb53', 'message': ""Prevent CI from running on irrelevant files\n\nWe shouldn't be running tempest tests on doc-only changes.\n\nChange-Id: Ic6c3bdb09e7c4679a710271802102888f2f3c254\n""}]",11,817111,d2f602f77bf4e00bdd24cbe5dd5f77c180ccdb53,36,5,2,5314,,,0,"Prevent CI from running on irrelevant files

We shouldn't be running tempest tests on doc-only changes.

Change-Id: Ic6c3bdb09e7c4679a710271802102888f2f3c254
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/11/817111/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,d46c3c5e4c3f4d26613cca90f3de0de77ac94e31,irrelevant-files, irrelevant-files: &non-code-files irrelevant-files: &doc-files - ^.*\.rst$ - ^doc/.*$ - ^releasenotes/.*$ irrelevant-files: *doc-files irrelevant-files: *doc-files irrelevant-files: *non-code-files, irrelevant-files:,8,1
openstack%2Fovsdbapp~stable%2Fussuri~I64fe61678d90de59f5a94c49e1959165ac3646c9,openstack/ovsdbapp,stable/ussuri,I64fe61678d90de59f5a94c49e1959165ac3646c9,tools: run functional tests against ovn/main branch,MERGED,2022-02-04 16:44:21.000000000,2022-02-04 17:48:47.000000000,2022-02-04 17:46:13.000000000,"[{'_account_id': 5756}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-04 16:44:21.000000000', 'files': ['tools/setup-ovs.sh'], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/ce5c016bfecad70be47c55af27b200a1e6cfea88', 'message': 'tools: run functional tests against ovn/main branch\n\nAccording to https://mail.openvswitch.org/pipermail/ovs-dev/2021-October/388309.html\n\nCloses-Bug: #1946362\nChange-Id: I64fe61678d90de59f5a94c49e1959165ac3646c9\n(cherry picked from commit c43f8a00a769464bb4a55397527c3c12cf8fa7d2)\n'}]",0,827893,ce5c016bfecad70be47c55af27b200a1e6cfea88,8,3,1,5756,,,0,"tools: run functional tests against ovn/main branch

According to https://mail.openvswitch.org/pipermail/ovs-dev/2021-October/388309.html

Closes-Bug: #1946362
Change-Id: I64fe61678d90de59f5a94c49e1959165ac3646c9
(cherry picked from commit c43f8a00a769464bb4a55397527c3c12cf8fa7d2)
",git fetch https://review.opendev.org/openstack/ovsdbapp refs/changes/93/827893/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/setup-ovs.sh'],1,ce5c016bfecad70be47c55af27b200a1e6cfea88,fix-func-tests-stable/ussuri,OVN_BRANCH=${OVN_BRANCH:-main},OVN_BRANCH=${OVN_BRANCH:-$OVS_BRANCH},1,1
openstack%2Fovsdbapp~stable%2Fvictoria~I64fe61678d90de59f5a94c49e1959165ac3646c9,openstack/ovsdbapp,stable/victoria,I64fe61678d90de59f5a94c49e1959165ac3646c9,tools: run functional tests against ovn/main branch,MERGED,2022-02-04 16:44:05.000000000,2022-02-04 17:48:38.000000000,2022-02-04 17:46:15.000000000,"[{'_account_id': 5756}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-04 16:44:05.000000000', 'files': ['tools/setup-ovs.sh'], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/e5a97ed8360d3d85052b7c3bdb7c860d8cf330f2', 'message': 'tools: run functional tests against ovn/main branch\n\nAccording to https://mail.openvswitch.org/pipermail/ovs-dev/2021-October/388309.html\n\nCloses-Bug: #1946362\nChange-Id: I64fe61678d90de59f5a94c49e1959165ac3646c9\n(cherry picked from commit c43f8a00a769464bb4a55397527c3c12cf8fa7d2)\n'}]",0,827892,e5a97ed8360d3d85052b7c3bdb7c860d8cf330f2,8,3,1,5756,,,0,"tools: run functional tests against ovn/main branch

According to https://mail.openvswitch.org/pipermail/ovs-dev/2021-October/388309.html

Closes-Bug: #1946362
Change-Id: I64fe61678d90de59f5a94c49e1959165ac3646c9
(cherry picked from commit c43f8a00a769464bb4a55397527c3c12cf8fa7d2)
",git fetch https://review.opendev.org/openstack/ovsdbapp refs/changes/92/827892/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/setup-ovs.sh'],1,e5a97ed8360d3d85052b7c3bdb7c860d8cf330f2,fix-func-tests-stable/victoria,OVN_BRANCH=${OVN_BRANCH:-main},OVN_BRANCH=${OVN_BRANCH:-$OVS_BRANCH},1,1
openstack%2Fovsdbapp~stable%2Fxena~Ic67575ff26c689ec8ab1a5c619ae0b0a2846b05f,openstack/ovsdbapp,stable/xena,Ic67575ff26c689ec8ab1a5c619ae0b0a2846b05f,Log what exception caused abort of the transaction,MERGED,2022-01-27 07:32:25.000000000,2022-02-04 17:48:27.000000000,2022-02-04 17:46:08.000000000,"[{'_account_id': 5756}, {'_account_id': 8313}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-27 07:32:25.000000000', 'files': ['ovsdbapp/backend/ovs_idl/transaction.py'], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/3a0cd11c6517c227cbc123dacecd884a2bef657d', 'message': 'Log what exception caused abort of the transaction\n\nIn some cases, when ovsdb transaction is aborted, knowing what error\ncaused that can help to understand the root cause of the problem\nso this patch adds such logging on the DEBUG level.\n\nChange-Id: Ic67575ff26c689ec8ab1a5c619ae0b0a2846b05f\n(cherry picked from commit dc15bfd5729eb9f2b404288a4aa901c318274507)\n'}]",1,826564,3a0cd11c6517c227cbc123dacecd884a2bef657d,9,4,1,11975,,,0,"Log what exception caused abort of the transaction

In some cases, when ovsdb transaction is aborted, knowing what error
caused that can help to understand the root cause of the problem
so this patch adds such logging on the DEBUG level.

Change-Id: Ic67575ff26c689ec8ab1a5c619ae0b0a2846b05f
(cherry picked from commit dc15bfd5729eb9f2b404288a4aa901c318274507)
",git fetch https://review.opendev.org/openstack/ovsdbapp refs/changes/64/826564/1 && git format-patch -1 --stdout FETCH_HEAD,['ovsdbapp/backend/ovs_idl/transaction.py'],1,3a0cd11c6517c227cbc123dacecd884a2bef657d,improve-errors-logging-stable/xena," except Exception as e: if self.log_errors: LOG.error(""txn n=%(n)d command(idx=%(idx)s): %(cmd)s "", ""aborted due to error: %(err)s"", {'idx': i, 'cmd': command, 'n': attempts, 'err': e})", except Exception:,8,1
openstack%2Fovsdbapp~stable%2Fwallaby~I64fe61678d90de59f5a94c49e1959165ac3646c9,openstack/ovsdbapp,stable/wallaby,I64fe61678d90de59f5a94c49e1959165ac3646c9,tools: run functional tests against ovn/main branch,MERGED,2022-02-04 16:43:45.000000000,2022-02-04 17:48:18.000000000,2022-02-04 17:46:10.000000000,"[{'_account_id': 5756}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-04 16:43:45.000000000', 'files': ['tools/setup-ovs.sh'], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/eaa64061fb75e44de6b19d89d44f454349e90876', 'message': 'tools: run functional tests against ovn/main branch\n\nAccording to https://mail.openvswitch.org/pipermail/ovs-dev/2021-October/388309.html\n\nCloses-Bug: #1946362\nChange-Id: I64fe61678d90de59f5a94c49e1959165ac3646c9\n(cherry picked from commit c43f8a00a769464bb4a55397527c3c12cf8fa7d2)\n'}]",0,827891,eaa64061fb75e44de6b19d89d44f454349e90876,8,3,1,5756,,,0,"tools: run functional tests against ovn/main branch

According to https://mail.openvswitch.org/pipermail/ovs-dev/2021-October/388309.html

Closes-Bug: #1946362
Change-Id: I64fe61678d90de59f5a94c49e1959165ac3646c9
(cherry picked from commit c43f8a00a769464bb4a55397527c3c12cf8fa7d2)
",git fetch https://review.opendev.org/openstack/ovsdbapp refs/changes/91/827891/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/setup-ovs.sh'],1,eaa64061fb75e44de6b19d89d44f454349e90876,fix-func-tests-stable/wallaby,OVN_BRANCH=${OVN_BRANCH:-main},OVN_BRANCH=${OVN_BRANCH:-$OVS_BRANCH},1,1
openstack%2Fovsdbapp~stable%2Ftrain~I64fe61678d90de59f5a94c49e1959165ac3646c9,openstack/ovsdbapp,stable/train,I64fe61678d90de59f5a94c49e1959165ac3646c9,tools: run functional tests against ovn/main branch,MERGED,2022-02-04 16:44:34.000000000,2022-02-04 17:46:11.000000000,2022-02-04 17:46:11.000000000,"[{'_account_id': 5756}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-04 16:44:34.000000000', 'files': ['tools/setup-ovs.sh'], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/48b6a8354d34bb5cc21afbaa7a3f1a9e34f4cbc8', 'message': 'tools: run functional tests against ovn/main branch\n\nAccording to https://mail.openvswitch.org/pipermail/ovs-dev/2021-October/388309.html\n\nCloses-Bug: #1946362\nChange-Id: I64fe61678d90de59f5a94c49e1959165ac3646c9\n(cherry picked from commit c43f8a00a769464bb4a55397527c3c12cf8fa7d2)\n'}]",0,827894,48b6a8354d34bb5cc21afbaa7a3f1a9e34f4cbc8,7,3,1,5756,,,0,"tools: run functional tests against ovn/main branch

According to https://mail.openvswitch.org/pipermail/ovs-dev/2021-October/388309.html

Closes-Bug: #1946362
Change-Id: I64fe61678d90de59f5a94c49e1959165ac3646c9
(cherry picked from commit c43f8a00a769464bb4a55397527c3c12cf8fa7d2)
",git fetch https://review.opendev.org/openstack/ovsdbapp refs/changes/94/827894/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/setup-ovs.sh'],1,48b6a8354d34bb5cc21afbaa7a3f1a9e34f4cbc8,fix-func-tests-stable/train,OVN_BRANCH=${OVN_BRANCH:-main},OVN_BRANCH=${OVN_BRANCH:-$OVS_BRANCH},1,1
openstack%2Fopenstack-ansible~stable%2Fvictoria~I7451cce7f74a7dd59222cbc37541ed84f2371f9d,openstack/openstack-ansible,stable/victoria,I7451cce7f74a7dd59222cbc37541ed84f2371f9d,Define max microversion for manila tempest,MERGED,2022-02-03 10:06:01.000000000,2022-02-04 17:37:08.000000000,2022-02-04 17:33:56.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-02-03 10:06:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/0d8f6aa94ac2e8db25875f1087d9c79efa1d4579', 'message': 'Define max microversion for manila tempest\n\nChange-Id: I7451cce7f74a7dd59222cbc37541ed84f2371f9d\n'}, {'number': 2, 'created': '2022-02-03 12:51:12.000000000', 'files': ['tests/roles/bootstrap-host/templates/user_variables_manila.yml.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/9816a63e30f11525fccd2da9cfb9858d062c4137', 'message': 'Define max microversion for manila tempest\n\nWe also increase flavor ram to allow instances to boot properly.\n\nChange-Id: I7451cce7f74a7dd59222cbc37541ed84f2371f9d\n'}]",2,827618,9816a63e30f11525fccd2da9cfb9858d062c4137,15,3,2,28619,,,0,"Define max microversion for manila tempest

We also increase flavor ram to allow instances to boot properly.

Change-Id: I7451cce7f74a7dd59222cbc37541ed84f2371f9d
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/18/827618/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/roles/bootstrap-host/templates/user_variables_manila.yml.j2'],1,0d8f6aa94ac2e8db25875f1087d9c79efa1d4579,osa/remove-centos8, max_api_microversion: 2.57,,1,0
openstack%2Fironic-tempest-plugin~master~I82588707fd1207caef56caba2e9c1e91c3ae9031,openstack/ironic-tempest-plugin,master,I82588707fd1207caef56caba2e9c1e91c3ae9031,WIP: An idea for rbac positive/negative testing,NEW,2021-11-24 21:16:52.000000000,2022-02-04 17:32:59.000000000,,"[{'_account_id': 4571}, {'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-24 21:16:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/d08d514bf3c4c8a6b6d1374bab881a44b799c66b', 'message': 'WIP: An idea for rbac positive/negative testing\n\nChange-Id: I82588707fd1207caef56caba2e9c1e91c3ae9031\n'}, {'number': 2, 'created': '2021-11-29 23:03:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/3578bd12504809caa7647c4a492b70adb3a438f2', 'message': 'WIP: An idea for rbac positive/negative testing\n\nChange-Id: I82588707fd1207caef56caba2e9c1e91c3ae9031\n'}, {'number': 3, 'created': '2021-12-06 19:07:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/b3fdf1bf7aa5244d60ab4d3ddfa8169ac6cafd30', 'message': 'WIP: An idea for rbac positive/negative testing\n\nChange-Id: I82588707fd1207caef56caba2e9c1e91c3ae9031\n'}, {'number': 4, 'created': '2021-12-06 19:45:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/d64d5fc19126a217531173d24679c9da2658e9d2', 'message': 'WIP: An idea for rbac positive/negative testing\n\nChange-Id: I82588707fd1207caef56caba2e9c1e91c3ae9031\n'}, {'number': 5, 'created': '2021-12-16 17:50:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/0e7fa57c2a4f6cc94e7b0193ad5e5f91b24ba769', 'message': 'WIP: An idea for rbac positive/negative testing\n\nChange-Id: I82588707fd1207caef56caba2e9c1e91c3ae9031\n'}, {'number': 6, 'created': '2021-12-16 18:41:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/1b6271bd25c890f24354bfc466aa9fbf1e50ab17', 'message': 'WIP: An idea for rbac positive/negative testing\n\nChange-Id: I82588707fd1207caef56caba2e9c1e91c3ae9031\n'}, {'number': 7, 'created': '2021-12-16 19:14:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/0df6b035ac6609623c4898ad9ecef673d61d7f38', 'message': 'WIP: An idea for rbac positive/negative testing\n\nChange-Id: I82588707fd1207caef56caba2e9c1e91c3ae9031\n'}, {'number': 8, 'created': '2021-12-16 19:41:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/832b3c97928ca61989602c5e468a9b69e08d679b', 'message': 'WIP: An idea for rbac positive/negative testing\n\nChange-Id: I82588707fd1207caef56caba2e9c1e91c3ae9031\n'}, {'number': 9, 'created': '2021-12-16 21:37:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/94bb8cd794364406116ad9d8e316a4e80acf9af1', 'message': 'WIP: An idea for rbac positive/negative testing\n\nChange-Id: I82588707fd1207caef56caba2e9c1e91c3ae9031\n'}, {'number': 10, 'created': '2021-12-17 16:41:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/a95d34dea55db818d0339e7bb1d5528814083111', 'message': 'WIP: An idea for rbac positive/negative testing\n\nChange-Id: I82588707fd1207caef56caba2e9c1e91c3ae9031\n'}, {'number': 11, 'created': '2022-01-20 18:25:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/fcf3a43191a726ad8d81b6c3f1148e7b946c6bf0', 'message': 'WIP: An idea for rbac positive/negative testing\n\nChange-Id: I82588707fd1207caef56caba2e9c1e91c3ae9031\n'}, {'number': 12, 'created': '2022-01-20 19:59:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/69a1eaccdbcd839197d9e7cd0a8b340771bd328d', 'message': 'WIP: An idea for rbac positive/negative testing\n\nChange-Id: I82588707fd1207caef56caba2e9c1e91c3ae9031\n'}, {'number': 13, 'created': '2022-01-20 21:29:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/4379173f18c6617718a5a734746e3afd56fccbae', 'message': 'WIP: An idea for rbac positive/negative testing\n\nChange-Id: I82588707fd1207caef56caba2e9c1e91c3ae9031\n'}, {'number': 14, 'created': '2022-01-24 23:10:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/d5d3229958354186cfb201bb73726fd9b93808cf', 'message': 'WIP: An idea for rbac positive/negative testing\n\nChange-Id: I82588707fd1207caef56caba2e9c1e91c3ae9031\n'}, {'number': 15, 'created': '2022-01-25 00:04:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/81901f8c6e8bbfad57fd9f90b53318143c4d8182', 'message': 'WIP: An idea for rbac positive/negative testing\n\nChange-Id: I82588707fd1207caef56caba2e9c1e91c3ae9031\n'}, {'number': 16, 'created': '2022-01-25 00:38:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/9cc0919703c6839b189302ffdb1d40d8c2d6f494', 'message': 'WIP: An idea for rbac positive/negative testing\n\nChange-Id: I82588707fd1207caef56caba2e9c1e91c3ae9031\n'}, {'number': 17, 'created': '2022-01-25 02:34:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/e28ceed1b2f4cd69d0c7004edcb0651f784118a7', 'message': 'WIP: An idea for rbac positive/negative testing\n\nChange-Id: I82588707fd1207caef56caba2e9c1e91c3ae9031\n'}, {'number': 18, 'created': '2022-01-27 17:51:29.000000000', 'files': ['ironic_tempest_plugin/exceptions.py', 'ironic_tempest_plugin/tests/api/base.py', 'ironic_tempest_plugin/tests/api/test_nodes.py', 'zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/902693b2e83f14ceb4bba6dab06bce74ad35f219', 'message': 'WIP: An idea for rbac positive/negative testing\n\nChange-Id: I82588707fd1207caef56caba2e9c1e91c3ae9031\n'}]",52,819165,902693b2e83f14ceb4bba6dab06bce74ad35f219,31,3,18,11655,,,0,"WIP: An idea for rbac positive/negative testing

Change-Id: I82588707fd1207caef56caba2e9c1e91c3ae9031
",git fetch https://review.opendev.org/openstack/ironic-tempest-plugin refs/changes/65/819165/16 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_tempest_plugin/exceptions.py', 'ironic_tempest_plugin/tests/api/base.py', 'ironic_tempest_plugin/tests/api/test_nodes.py']",3,d08d514bf3c4c8a6b6d1374bab881a44b799c66b,,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from oslo_utils import uuidutils import six from tempest import config from tempest.lib.common.utils import data_utils from tempest.lib import decorators from tempest.lib import exceptions as lib_exc from ironic_tempest_plugin.common import waiters from ironic_tempest_plugin.tests.api.admin import api_microversion_fixture from ironic_tempest_plugin.tests.api import base CONF = config.CONF class TestNodeSystemAdminOnlyOperations(base.BaseBaremetalTest): """"""Tests for actions resticted to System Administrators."""""" valid_credentials = ['system_admin'] secure_rbac_test = True min_microversion = ""1.71"" def setUp(self): super(TestNodeSystemAdminOnlyOperations, self).setUp() _, self.chassis = self.create_chassis() _, self.node = self.create_node(self.chassis['uuid']) @decorators.idempodent_id('d33c2705-8c3e-4c55-b956-7eda4cb24eb9') @base.attempt_all_valid_credentials('baremetal:node:create') def test_create_node(self): params = {'cpu_arch': 'x86_64', 'cpus': '12', 'local_gb': '10', 'memory_mb': '1024'} _, body = self.create_node(self.chassis['uuid'], **params) self._assertExpected(params, body['properties']) @decorators.idempotent_id('3936f0b6-fc79-4eb8-b50f-d71d59fe870e') @base.attempt_all_valid_credentials('baremetal:node:delete') def test_delete_node(self): _, node = self.create_node(self.chassis['uuid']) self.delete_node(node['uuid']) self.assertRaises(lib_exc.NotFound, self.client.show_node, node['uuid']) # these are all actions restricted to system_admin # baremetal:node:update:chassis_uuid # baremetal:node:update_owner_provisioned # baremetal:node:disable_cleaning # baremetal:chassis:create # baremetal:chassis:delete # baremetal:node:vendor_passthru # baremetal:driver:vendor_passthru # baremetal:events:post # baremetal:deploy_template:create # baremetal:deploy_template:delete # baremetal:deploy_template:update #####################33 # below this point is copy-pasta from base tests started with, which focus on nodes. def _associate_node_with_instance(self): self.client.set_node_power_state(self.node['uuid'], 'power off') waiters.wait_for_bm_node_status(self.client, self.node['uuid'], 'power_state', 'power off') instance_uuid = data_utils.rand_uuid() self.client.update_node(self.node['uuid'], instance_uuid=instance_uuid) self.addCleanup(self.client.update_node, uuid=self.node['uuid'], instance_uuid=None) return instance_uuid @decorators.idempotent_id('55451300-057c-4ecf-8255-ba42a83d3a03') def test_show_node(self): _, loaded_node = self.client.show_node(self.node['uuid']) self._assertExpected(self.node, loaded_node) @decorators.idempotent_id('4ca123c4-160d-4d8d-a3f7-15feda812263') def test_list_nodes(self): _, body = self.client.list_nodes() self.assertIn(self.node['uuid'], [i['uuid'] for i in body['nodes']]) @decorators.idempotent_id('85b1f6e0-57fd-424c-aeff-c3422920556f') def test_list_nodes_association(self): _, body = self.client.list_nodes(associated=True) self.assertNotIn(self.node['uuid'], [n['uuid'] for n in body['nodes']]) self._associate_node_with_instance() _, body = self.client.list_nodes(associated=True) self.assertIn(self.node['uuid'], [n['uuid'] for n in body['nodes']]) _, body = self.client.list_nodes(associated=False) self.assertNotIn(self.node['uuid'], [n['uuid'] for n in body['nodes']]) @decorators.idempotent_id('18c4ebd8-f83a-4df7-9653-9fb33a329730') def test_node_port_list(self): _, port = self.create_port(self.node['uuid'], data_utils.rand_mac_address()) _, body = self.client.list_node_ports(self.node['uuid']) self.assertIn(port['uuid'], [p['uuid'] for p in body['ports']]) @decorators.idempotent_id('72591acb-f215-49db-8395-710d14eb86ab') def test_node_port_list_no_ports(self): _, node = self.create_node(self.chassis['uuid']) _, body = self.client.list_node_ports(node['uuid']) self.assertEmpty(body['ports']) @decorators.idempotent_id('4fed270a-677a-4d19-be87-fd38ae490320') def test_update_node(self): props = {'cpu_arch': 'x86_64', 'cpus': '12', 'local_gb': '10', 'memory_mb': '128'} _, node = self.create_node(self.chassis['uuid'], **props) new_p = {'cpu_arch': 'arm64', 'cpus': '1', 'local_gb': '10000', 'memory_mb': '12300'} _, body = self.client.update_node(node['uuid'], properties=new_p) _, node = self.client.show_node(node['uuid']) self._assertExpected(new_p, node['properties']) @decorators.idempotent_id('cbf1f515-5f4b-4e49-945c-86bcaccfeb1d') def test_validate_driver_interface(self): _, body = self.client.validate_driver_interface(self.node['uuid']) core_interfaces = ['power', 'deploy'] for interface in core_interfaces: self.assertIn(interface, body) @decorators.idempotent_id('5519371c-26a2-46e9-aa1a-f74226e9d71f') def test_set_node_boot_device(self): self.client.set_node_boot_device(self.node['uuid'], 'pxe') @decorators.idempotent_id('9ea73775-f578-40b9-bc34-efc639c4f21f') def test_get_node_boot_device(self): body = self.client.get_node_boot_device(self.node['uuid']) self.assertIn('boot_device', body) self.assertIn('persistent', body) self.assertIsInstance(body['boot_device'], six.string_types) self.assertIsInstance(body['persistent'], bool) @decorators.idempotent_id('3622bc6f-3589-4bc2-89f3-50419c66b133') def test_get_node_supported_boot_devices(self): body = self.client.get_node_supported_boot_devices(self.node['uuid']) self.assertIn('supported_boot_devices', body) self.assertIsInstance(body['supported_boot_devices'], list) @decorators.idempotent_id('f63b6288-1137-4426-8cfe-0d5b7eb87c06') def test_get_console(self): _, body = self.client.get_console(self.node['uuid']) con_info = ['console_enabled', 'console_info'] for key in con_info: self.assertIn(key, body) @decorators.idempotent_id('80504575-9b21-4670-92d1-143b948f9437') def test_set_console_mode(self): self.client.set_console_mode(self.node['uuid'], True) waiters.wait_for_bm_node_status(self.client, self.node['uuid'], 'console_enabled', True) @decorators.idempotent_id('b02a4f38-5e8b-44b2-aed2-a69a36ecfd69') def test_get_node_by_instance_uuid(self): instance_uuid = self._associate_node_with_instance() _, body = self.client.show_node_by_instance_uuid(instance_uuid) self.assertEqual(1, len(body['nodes'])) self.assertIn(self.node['uuid'], [n['uuid'] for n in body['nodes']]) @decorators.idempotent_id('b85af8c6-572b-4f20-815e-1cf31844b9f6') def test_fault_hidden(self): _, loaded_node = self.client.show_node(self.node['uuid']) self.assertNotIn('fault', loaded_node) @decorators.idempotent_id('e5470656-bb65-4173-be83-2df3fc9aed24') def test_conductor_hidden(self): _, loaded_node = self.client.show_node(self.node['uuid']) self.assertNotIn('conductor', loaded_node) @decorators.idempotent_id('5e7f4c54-8216-42d3-83cc-7bd776ffd16f') def test_description_hidden(self): _, loaded_node = self.client.show_node(self.node['uuid']) self.assertNotIn('description', loaded_node) class TestNodesResourceClass(base.BaseBaremetalTest): min_microversion = '1.21' def setUp(self): super(TestNodesResourceClass, self).setUp() self.useFixture( api_microversion_fixture.APIMicroversionFixture( TestNodesResourceClass.min_microversion) ) _, self.chassis = self.create_chassis() self.resource_class = data_utils.rand_name(name='Resource_Class') _, self.node = self.create_node( self.chassis['uuid'], resource_class=self.resource_class) @decorators.idempotent_id('2a00340c-8152-4a61-9fc5-0b3cdefec258') def test_create_node_resource_class_long(self): """"""Create new node with specified longest name of resource class."""""" res_class_long_name = data_utils.arbitrary_string(80) _, body = self.create_node( self.chassis['uuid'], resource_class=res_class_long_name) self.assertEqual(res_class_long_name, body['resource_class']) @decorators.idempotent_id('142db00d-ac0f-415b-8da8-9095fbb561f7') def test_update_node_resource_class(self): """"""Update existing node with specified resource class."""""" new_res_class_name = data_utils.rand_name(name='Resource_Class') _, body = self.client.update_node( self.node['uuid'], resource_class=new_res_class_name) _, body = self.client.show_node(self.node['uuid']) self.assertEqual(new_res_class_name, body['resource_class']) @decorators.idempotent_id('73e6f7b5-3e51-49ea-af5b-146cd49f40ee') def test_show_node_resource_class(self): """"""Show resource class field of specified node."""""" _, body = self.client.show_node(self.node['uuid']) self.assertEqual(self.resource_class, body['resource_class']) @decorators.idempotent_id('f2bf4465-280c-4fdc-bbf7-fcf5188befa4') def test_list_nodes_resource_class(self): """"""List nodes of specified resource class only."""""" res_class = 'ResClass-{0}'.format(data_utils.rand_uuid()) for node in range(3): _, body = self.create_node( self.chassis['uuid'], resource_class=res_class) _, body = self.client.list_nodes(resource_class=res_class) self.assertEqual(3, len([i['uuid'] for i in body['nodes']])) @decorators.idempotent_id('40733bad-bb79-445e-a094-530a44042995') def test_list_nodes_detail_resource_class(self): """"""Get detailed nodes list of specified resource class only."""""" res_class = 'ResClass-{0}'.format(data_utils.rand_uuid()) for node in range(3): _, body = self.create_node( self.chassis['uuid'], resource_class=res_class) _, body = self.client.list_nodes_detail(resource_class=res_class) self.assertEqual(3, len([i['uuid'] for i in body['nodes']])) for node in body['nodes']: self.assertEqual(res_class, node['resource_class']) @decorators.attr(type='negative') @decorators.idempotent_id('e75136d4-0690-48a5-aef3-75040aee73ad') def test_create_node_resource_class_too_long(self): """"""Try to create a node with too long resource class name."""""" resource_class = data_utils.arbitrary_string(81) self.assertRaises(lib_exc.BadRequest, self.create_node, self.chassis['uuid'], resource_class=resource_class) @decorators.attr(type='negative') @decorators.idempotent_id('f0aeece4-8671-44ea-a482-b4047fc4cf74') def test_update_node_resource_class_too_long(self): """"""Try to update a node with too long resource class name."""""" resource_class = data_utils.arbitrary_string(81) self.assertRaises(lib_exc.BadRequest, self.client.update_node, self.node['uuid'], resource_class=resource_class) class TestNodesResourceClassOldApi(base.BaseBaremetalTest): def setUp(self): super(TestNodesResourceClassOldApi, self).setUp() _, self.chassis = self.create_chassis() _, self.node = self.create_node(self.chassis['uuid']) @decorators.attr(type='negative') @decorators.idempotent_id('2c364408-4746-4b3c-9821-20d47b57bdec') def test_create_node_resource_class_old_api(self): """"""Try to create a node with resource class using older api version."""""" resource_class = data_utils.arbitrary_string() self.assertRaises(lib_exc.UnexpectedResponseCode, self.create_node, self.chassis['uuid'], resource_class=resource_class) @decorators.attr(type='negative') @decorators.idempotent_id('666f3c1a-4922-4a3d-b6d9-dea7c74d30bc') def test_update_node_resource_class_old_api(self): """"""Try to update a node with resource class using older api version."""""" resource_class = data_utils.arbitrary_string() self.assertRaises(lib_exc.UnexpectedResponseCode, self.client.update_node, self.node['uuid'], resource_class=resource_class) @decorators.attr(type='negative') @decorators.idempotent_id('95903480-f16d-4774-8775-6c7f87b27c59') def test_list_nodes_by_resource_class_old_api(self): """"""Try to list nodes with resource class using older api version."""""" resource_class = data_utils.arbitrary_string() self.assertRaises( lib_exc.UnexpectedResponseCode, self.client.list_nodes, resource_class=resource_class) self.assertRaises( lib_exc.UnexpectedResponseCode, self.client.list_nodes_detail, resource_class=resource_class) class TestNodesVif(base.BaseBaremetalTest): min_microversion = '1.28' @classmethod def skip_checks(cls): super(TestNodesVif, cls).skip_checks() if not CONF.service_available.neutron: raise cls.skipException('Neutron is not enabled.') def setUp(self): super(TestNodesVif, self).setUp() _, self.chassis = self.create_chassis() _, self.node = self.create_node(self.chassis['uuid']) if CONF.network.shared_physical_network: self.net = self.os_admin.networks_client.list_networks( name=CONF.compute.fixed_network_name)['networks'][0] else: self.net = self.os_admin.networks_client.\ create_network()['network'] self.addCleanup(self.os_admin.networks_client.delete_network, self.net['id']) self.nport_id = self.os_admin.ports_client.create_port( network_id=self.net['id'])['port']['id'] self.addCleanup(self.os_admin.ports_client.delete_port, self.nport_id) @decorators.idempotent_id('a3d319d0-cacb-4e55-a3dc-3fa8b74880f1') def test_vif_on_port(self): """"""Test attachment and detachment of VIFs on the node with port. Test steps: 1) Create chassis and node in setUp. 2) Create port for the node. 3) Attach VIF to the node. 4) Check VIF info in VIFs list and port internal_info. 5) Detach VIF from the node. 6) Check that no more VIF info in VIFs list and port internal_info. """""" self.useFixture( api_microversion_fixture.APIMicroversionFixture('1.28')) _, self.port = self.create_port(self.node['uuid'], data_utils.rand_mac_address()) self.client.vif_attach(self.node['uuid'], self.nport_id) _, body = self.client.vif_list(self.node['uuid']) self.assertEqual({'vifs': [{'id': self.nport_id}]}, body) _, port = self.client.show_port(self.port['uuid']) self.assertEqual(self.nport_id, port['internal_info']['tenant_vif_port_id']) self.client.vif_detach(self.node['uuid'], self.nport_id) _, body = self.client.vif_list(self.node['uuid']) self.assertEqual({'vifs': []}, body) _, port = self.client.show_port(self.port['uuid']) self.assertNotIn('tenant_vif_port_id', port['internal_info']) @decorators.idempotent_id('95279515-7d0a-4f5f-987f-93e36aae5585') def test_vif_on_portgroup(self): """"""Test attachment and detachment of VIFs on the node with port group. Test steps: 1) Create chassis and node in setUp. 2) Create port for the node. 3) Create port group for the node. 4) Plug port into port group. 5) Attach VIF to the node. 6) Check VIF info in VIFs list and port group internal_info, but not in port internal_info. 7) Detach VIF from the node. 8) Check that no VIF info in VIFs list and port group internal_info. """""" self.useFixture( api_microversion_fixture.APIMicroversionFixture('1.28')) _, self.port = self.create_port(self.node['uuid'], data_utils.rand_mac_address()) _, self.portgroup = self.create_portgroup( self.node['uuid'], address=data_utils.rand_mac_address()) patch = [{'path': '/portgroup_uuid', 'op': 'add', 'value': self.portgroup['uuid']}] self.client.update_port(self.port['uuid'], patch) self.client.vif_attach(self.node['uuid'], self.nport_id) _, body = self.client.vif_list(self.node['uuid']) self.assertEqual({'vifs': [{'id': self.nport_id}]}, body) _, port = self.client.show_port(self.port['uuid']) self.assertNotIn('tenant_vif_port_id', port['internal_info']) _, portgroup = self.client.show_portgroup(self.portgroup['uuid']) self.assertEqual(self.nport_id, portgroup['internal_info']['tenant_vif_port_id']) self.client.vif_detach(self.node['uuid'], self.nport_id) _, body = self.client.vif_list(self.node['uuid']) self.assertEqual({'vifs': []}, body) _, portgroup = self.client.show_portgroup(self.portgroup['uuid']) self.assertNotIn('tenant_vif_port_id', portgroup['internal_info']) @decorators.idempotent_id('a3d319d0-cacb-4e55-a3dc-3fa8b74880f2') def test_vif_already_set(self): self.useFixture( api_microversion_fixture.APIMicroversionFixture('1.28')) _, self.port = self.create_port(self.node['uuid'], data_utils.rand_mac_address()) self.client.vif_attach(self.node['uuid'], self.nport_id) _, body = self.client.vif_list(self.node['uuid']) self.assertEqual({'vifs': [{'id': self.nport_id}]}, body) self.assertRaises(lib_exc.Conflict, self.client.vif_attach, self.node['uuid'], self.nport_id) self.client.vif_detach(self.node['uuid'], self.nport_id) class TestHardwareInterfaces(base.BaseBaremetalTest): min_microversion = '1.31' # Subclasses can override this with more interfaces available in later API # versions. hardware_interfaces = [ 'boot', 'console', 'deploy', 'inspect', 'management', 'power', 'raid', 'vendor', ] @classmethod def skip_checks(cls): super(TestHardwareInterfaces, cls).skip_checks() if CONF.baremetal.driver != 'fake-hardware': raise cls.skipException('These tests rely on fake-hardware') @property def optional_interfaces(self): return set(self.hardware_interfaces) - {'boot', 'deploy', 'management', 'power'} def setUp(self): super(TestHardwareInterfaces, self).setUp() _, self.chassis = self.create_chassis() _, self.node = self.create_node(self.chassis['uuid']) # Reset optional interfaces to non-default values for iface in self.optional_interfaces: self.client.update_node(self.node['uuid'], [{'path': '/%s_interface' % iface, 'op': 'add', 'value': 'no-%s' % iface}]) def test_set_interfaces(self): for iface in self.hardware_interfaces: field = '%s_interface' % iface self.client.update_node(self.node['uuid'], [{'path': '/%s' % field, 'op': 'add', 'value': 'fake'}]) _, node = self.client.show_node(self.node['uuid']) self.assertEqual('fake', node[field]) def test_reset_interfaces(self): for iface in self.hardware_interfaces: field = '%s_interface' % iface self.client.update_node(self.node['uuid'], [{'path': '/%s' % field, 'op': 'remove'}]) _, node = self.client.show_node(self.node['uuid']) self.assertEqual('fake', node[field]) class TestResetInterfaces(TestHardwareInterfaces): min_microversion = '1.45' @classmethod def skip_checks(cls): super(TestResetInterfaces, cls).skip_checks() if 'ipmi' not in CONF.baremetal.enabled_hardware_types: raise cls.skipException('These tests rely on ipmi enabled') def test_no_reset_by_default(self): self.assertRaises( lib_exc.BadRequest, self.client.update_node, self.node['uuid'], [{'path': '/driver', 'value': 'ipmi', 'op': 'replace'}]) _, node = self.client.show_node(self.node['uuid']) self.assertEqual('fake-hardware', node['driver']) def test_reset_all_interfaces(self): self.client.update_node(self.node['uuid'], [{'path': '/driver', 'value': 'ipmi', 'op': 'replace'}], reset_interfaces=True) _, node = self.client.show_node(self.node['uuid']) for iface in self.hardware_interfaces: self.assertNotEqual('fake', node['%s_interface' % iface]) class TestNodesTraits(base.BaseBaremetalTest): min_microversion = '1.37' def setUp(self): super(TestNodesTraits, self).setUp() self.useFixture( api_microversion_fixture.APIMicroversionFixture( TestNodesTraits.min_microversion) ) _, self.chassis = self.create_chassis() # One standard trait & one custom trait. self.traits = ['CUSTOM_TRAIT1', 'HW_CPU_X86_VMX'] _, self.node = self.create_node(self.chassis['uuid']) @decorators.idempotent_id('5c3a2dd0-af10-474d-a209-d30426e1eb5d') def test_list_node_traits(self): """"""List traits for a node."""""" _, body = self.client.list_node_traits(self.node['uuid']) self.assertEqual([], body['traits']) self.client.set_node_traits(self.node['uuid'], self.traits) _, body = self.client.list_node_traits(self.node['uuid']) self.assertEqual(self.traits, sorted(body['traits'])) @decorators.attr(type='negative') @decorators.idempotent_id('3b83dbd3-4a89-4173-920a-ca33ed3aad69') def test_list_node_traits_non_existent_node(self): """"""Try to list traits for a non-existent node."""""" node_uuid = uuidutils.generate_uuid() self.assertRaises( lib_exc.NotFound, self.client.list_node_traits, node_uuid) @decorators.idempotent_id('aa961bf6-ea2f-484b-961b-eae2da0e6b7e') def test_set_node_traits(self): """"""Set the traits for a node."""""" self.client.set_node_traits(self.node['uuid'], self.traits) _, body = self.client.list_node_traits(self.node['uuid']) self.assertEqual(self.traits, sorted(body['traits'])) self.client.set_node_traits(self.node['uuid'], []) _, body = self.client.list_node_traits(self.node['uuid']) self.assertEqual([], body['traits']) @decorators.idempotent_id('727a5e11-5654-459f-8af6-e14eb987a283') def test_set_node_traits_max_traits(self): """"""Set the maximum number of traits for a node."""""" traits = ['CUSTOM_TRAIT%d' % i for i in range(50)] self.client.set_node_traits(self.node['uuid'], traits) _, body = self.client.list_node_traits(self.node['uuid']) self.assertEqual(sorted(traits), sorted(body['traits'])) @decorators.attr(type='negative') @decorators.idempotent_id('75831f5d-ca44-403b-8fd6-f7cad95b1c54') def test_set_node_traits_too_many(self): """"""Set more than the maximum number of traits for a node."""""" traits = ['CUSTOM_TRAIT%d' % i for i in range(51)] self.assertRaises( lib_exc.BadRequest, self.client.set_node_traits, self.node['uuid'], traits) _, body = self.client.list_node_traits(self.node['uuid']) self.assertEqual([], body['traits']) @decorators.idempotent_id('d81ceeab-a50f-427a-bc5a-aa916478d0d3') def test_set_node_traits_duplicate_trait(self): """"""Set the traits for a node, ensuring duplicates are ignored."""""" self.client.set_node_traits(self.node['uuid'], ['CUSTOM_TRAIT1', 'CUSTOM_TRAIT1']) _, body = self.client.list_node_traits(self.node['uuid']) self.assertEqual(['CUSTOM_TRAIT1'], body['traits']) @decorators.attr(type='negative') @decorators.idempotent_id('2fb4c9d9-8e5b-4189-b547-26596014491c') def test_set_node_traits_non_existent_node(self): """"""Try to set traits for a non-existent node."""""" node_uuid = uuidutils.generate_uuid() self.assertRaises( lib_exc.NotFound, self.client.set_node_traits, node_uuid, ['CUSTOM_TRAIT1']) @decorators.idempotent_id('47db09d9-af2b-424d-9d51-7efca2920f20') def test_add_node_trait_long(self): """"""Add a node trait of the largest possible length."""""" trait_long_name = 'CUSTOM_' + data_utils.arbitrary_string(248).upper() self.client.add_node_trait(self.node['uuid'], trait_long_name) _, body = self.client.list_node_traits(self.node['uuid']) self.assertEqual([trait_long_name], body['traits']) @decorators.attr(type='negative') @decorators.idempotent_id('2a4daa8d-2b85-40ac-a8a0-0462cc9a57ef') def test_add_node_trait_too_long(self): """"""Try to add a node trait longer than the largest possible length."""""" trait_long_name = 'CUSTOM_' + data_utils.arbitrary_string(249).upper() self.assertRaises( lib_exc.BadRequest, self.client.add_node_trait, self.node['uuid'], trait_long_name) _, body = self.client.list_node_traits(self.node['uuid']) self.assertEqual([], body['traits']) @decorators.idempotent_id('4b737e7f-101e-493e-b5ce-494fbffe18fd') def test_add_node_trait_duplicate_trait(self): """"""Add a node trait that already exists."""""" self.client.add_node_trait(self.node['uuid'], 'CUSTOM_TRAIT1') self.client.add_node_trait(self.node['uuid'], 'CUSTOM_TRAIT1') _, body = self.client.list_node_traits(self.node['uuid']) self.assertEqual(['CUSTOM_TRAIT1'], body['traits']) @decorators.attr(type='negative') @decorators.idempotent_id('65bce181-89ce-435e-a7d8-3ba60aafd08d') def test_add_node_trait_too_many(self): """"""Add a trait to a node that would exceed the maximum."""""" traits = ['CUSTOM_TRAIT%d' % i for i in range(50)] self.client.set_node_traits(self.node['uuid'], traits) self.assertRaises( lib_exc.BadRequest, self.client.add_node_trait, self.node['uuid'], 'CUSTOM_TRAIT50') _, body = self.client.list_node_traits(self.node['uuid']) self.assertEqual(sorted(traits), sorted(body['traits'])) @decorators.attr(type='negative') @decorators.idempotent_id('cca0e831-32af-4ce9-bfce-d3834fea57aa') def test_add_node_trait_non_existent_node(self): """"""Try to add a trait to a non-existent node."""""" node_uuid = uuidutils.generate_uuid() self.assertRaises( lib_exc.NotFound, self.client.add_node_trait, node_uuid, 'CUSTOM_TRAIT1') @decorators.idempotent_id('e4bf8bf0-3004-44bc-8bfe-f9f1a167d999') def test_remove_node_traits(self): """"""Remove all traits from a node."""""" self.client.set_node_traits(self.node['uuid'], self.traits) self.client.remove_node_traits(self.node['uuid']) _, body = self.client.list_node_traits(self.node['uuid']) self.assertEqual([], body['traits']) @decorators.idempotent_id('4d8c9a35-0036-4139-85c1-5f242395680f') def test_remove_node_traits_no_traits(self): """"""Remove all traits from a node that has no traits."""""" self.client.remove_node_traits(self.node['uuid']) _, body = self.client.list_node_traits(self.node['uuid']) self.assertEqual([], body['traits']) @decorators.attr(type='negative') @decorators.idempotent_id('625c911a-48e8-4bef-810b-7cf33c0846a2') def test_remove_node_traits_non_existent_node(self): """"""Try to remove all traits from a non-existent node."""""" node_uuid = uuidutils.generate_uuid() self.assertRaises( lib_exc.NotFound, self.client.remove_node_traits, node_uuid) @decorators.idempotent_id('3591d514-39b9-425e-9afe-ea74ae347486') def test_remove_node_trait(self): """"""Remove a trait from a node."""""" self.client.set_node_traits(self.node['uuid'], self.traits) self.client.remove_node_trait(self.node['uuid'], 'CUSTOM_TRAIT1') _, body = self.client.list_node_traits(self.node['uuid']) self.assertEqual(['HW_CPU_X86_VMX'], body['traits']) @decorators.attr(type='negative') @decorators.idempotent_id('b50ae543-5e5e-4b1a-b2f2-9e00fe55974b') def test_remove_node_trait_non_existent_trait(self): """"""Try to remove a non-existent trait from a node."""""" self.assertRaises( lib_exc.NotFound, self.client.remove_node_trait, self.node['uuid'], 'CUSTOM_TRAIT1') @decorators.attr(type='negative') @decorators.idempotent_id('f1469745-7cdf-4cae-9699-73d029c47bc3') def test_remove_node_trait_non_existent_node(self): """"""Try to remove a trait from a non-existent node."""""" node_uuid = uuidutils.generate_uuid() self.assertRaises( lib_exc.NotFound, self.client.remove_node_trait, node_uuid, 'CUSTOM_TRAIT1') @decorators.idempotent_id('03f9e57f-e584-448a-926f-53035e583e7e') def test_list_nodes_detail(self): """"""Get detailed nodes list."""""" self.client.set_node_traits(self.node['uuid'], self.traits) _, body = self.client.list_nodes_detail() self.assertGreaterEqual(len(body['nodes']), 1) for node in body['nodes']: self.assertIn('traits', node) if node['uuid'] == self.node['uuid']: self.assertEqual(self.traits, sorted(node['traits'])) @decorators.idempotent_id('2b82f704-1580-403a-af92-92c29a7eebb7') def test_list_nodes_traits_field(self): """"""Get nodes list with the traits field."""""" self.client.set_node_traits(self.node['uuid'], self.traits) _, body = self.client.list_nodes(fields='uuid,traits') self.assertGreaterEqual(len(body['nodes']), 1) for node in body['nodes']: self.assertIn('traits', node) if node['uuid'] == self.node['uuid']: self.assertEqual(self.traits, sorted(node['traits'])) @decorators.idempotent_id('c83c537a-76aa-4d8a-8673-128d01ee403d') def test_show_node(self): """"""Show a node with traits."""""" self.client.set_node_traits(self.node['uuid'], self.traits) _, body = self.client.show_node(self.node['uuid']) self.assertIn('traits', body) self.assertEqual(self.traits, sorted(body['traits'])) @decorators.attr(type='negative') @decorators.idempotent_id('9ab6a19c-83b9-4600-b55b-325a51e2f8f6') def test_update_node_traits(self): """"""Try updating an existing node with traits."""""" patch = [{'path': '/traits', 'op': 'add', 'value': ['CUSTOM_TRAIT1']}] self.assertRaises( lib_exc.BadRequest, self.client.update_node, self.node['uuid'], patch) _, body = self.client.list_node_traits(self.node['uuid']) self.assertEqual([], body['traits']) class TestNodesTraitsOldApi(base.BaseBaremetalTest): def setUp(self): super(TestNodesTraitsOldApi, self).setUp() _, self.chassis = self.create_chassis() _, self.node = self.create_node(self.chassis['uuid']) @decorators.attr(type='negative') @decorators.idempotent_id('5419af7b-4e27-4be4-88f6-e01c598a8102') def test_list_node_traits_old_api(self): """"""Try to list traits for a node using an older api version."""""" exc = self.assertRaises( lib_exc.UnexpectedResponseCode, self.client.list_node_traits, self.node['uuid']) self.assertEqual(406, exc.resp.status) @decorators.attr(type='negative') @decorators.idempotent_id('a4353f3a-bedc-4579-9c7e-4bebcd95903d') def test_add_node_trait_old_api(self): """"""Try to add a trait to a node using an older api version."""""" exc = self.assertRaises( lib_exc.UnexpectedResponseCode, self.client.add_node_trait, self.node['uuid'], 'CUSTOM_TRAIT1') self.assertEqual(405, exc.resp.status) @decorators.attr(type='negative') @decorators.idempotent_id('91cc43d8-2f6f-4b1b-95e9-68dedca54e6b') def test_set_node_traits_old_api(self): """"""Try to set traits for a node using an older api version."""""" exc = self.assertRaises( lib_exc.UnexpectedResponseCode, self.client.set_node_traits, self.node['uuid'], ['CUSTOM_TRAIT1']) self.assertEqual(405, exc.resp.status) @decorators.attr(type='negative') @decorators.idempotent_id('0f9af890-a57a-4c25-86c8-6418d1b8f4d4') def test_remove_node_trait_old_api(self): """"""Try to remove a trait from a node using an older api version."""""" self.assertRaises( lib_exc.NotFound, self.client.remove_node_trait, self.node['uuid'], 'CUSTOM_TRAIT1') @decorators.attr(type='negative') @decorators.idempotent_id('f8375b3c-1939-4d1c-97c4-d23e10680090') def test_remove_node_traits_old_api(self): """"""Try to remove all traits from a node using an older api version."""""" self.assertRaises( lib_exc.NotFound, self.client.remove_node_traits, self.node['uuid']) @decorators.attr(type='negative') @decorators.idempotent_id('525eeb59-b7ce-413d-a37b-401e67402a4c') def test_list_nodes_detail_old_api(self): """"""Get detailed nodes list, ensure they have no traits."""""" _, body = self.client.list_nodes_detail() self.assertGreaterEqual(len(body['nodes']), 1) for node in body['nodes']: self.assertNotIn('traits', node) @decorators.attr(type='negative') @decorators.idempotent_id('eb75b3c8-ac9c-4399-90a2-c0030bfde7a6') def test_list_nodes_traits_field(self): """"""Try to list nodes' traits field using older api version."""""" exc = self.assertRaises( lib_exc.UnexpectedResponseCode, self.client.list_nodes, fields='traits') self.assertEqual(406, exc.resp.status) @decorators.attr(type='negative') @decorators.idempotent_id('214ae7fc-149b-4657-b6bc-66353d49ade8') def test_show_node_old_api(self): """"""Show a node, ensure it has no traits."""""" _, body = self.client.show_node(self.node['uuid']) self.assertNotIn('traits', body) class TestNodeFault(base.BaseBaremetalTest): """"""Tests for fault of baremetal nodes."""""" min_microversion = '1.42' def setUp(self): super(TestNodeFault, self).setUp() _, self.chassis = self.create_chassis() _, self.node = self.create_node(self.chassis['uuid']) @decorators.idempotent_id('649b4660-4f76-4d67-94df-6631a2cb2cd9') def test_fault_shown(self): _, loaded_node = self.client.show_node(self.node['uuid']) self.assertIn('fault', loaded_node) @decorators.idempotent_id('62f453be-8f30-4cfe-a19a-23656068e546') def test_list_nodes_fault(self): _, body = self.client.list_nodes() self.assertIn(self.node['uuid'], [n['uuid'] for n in body['nodes']]) _, body = self.client.list_nodes(fault='power failure') self.assertNotIn(self.node['uuid'], [n['uuid'] for n in body['nodes']]) @decorators.idempotent_id('c8fb55f1-873f-4fb9-bd57-6f1de0479873') def test_list_nodes_with_invalid_fault(self): self.assertRaises( lib_exc.BadRequest, self.client.list_nodes, fault='somefake') class TestNodeProtected(base.BaseBaremetalTest): """"""Tests for protected baremetal nodes."""""" min_microversion = '1.48' def setUp(self): super(TestNodeProtected, self).setUp() _, self.chassis = self.create_chassis() _, self.node = self.create_node(self.chassis['uuid']) self.provide_node(self.node['uuid']) def tearDown(self): try: self.client.update_node(self.node['uuid'], protected=False) except Exception: pass super(TestNodeProtected, self).tearDown() @decorators.idempotent_id('52f0cb1c-ad7b-43dc-8e22-a76438b67716') def test_node_protected_set_unset(self): self.deploy_node(self.node['uuid']) _, self.node = self.client.show_node(self.node['uuid']) self.assertFalse(self.node['protected']) self.assertIsNone(self.node['protected_reason']) self.client.update_node(self.node['uuid'], protected=True, protected_reason='reason!') _, self.node = self.client.show_node(self.node['uuid']) self.assertTrue(self.node['protected']) self.assertEqual('reason!', self.node['protected_reason']) self.client.update_node(self.node['uuid'], protected=False) _, self.node = self.client.show_node(self.node['uuid']) self.assertFalse(self.node['protected']) self.assertIsNone(self.node['protected_reason']) @decorators.idempotent_id('8fbd101e-90e6-4843-b41a-556b34802972') def test_node_protected(self): self.deploy_node(self.node['uuid']) self.client.update_node(self.node['uuid'], protected=True) self.assertRaises(lib_exc.Forbidden, self.set_node_provision_state, self.node['uuid'], 'deleted', 'available') self.assertRaises(lib_exc.Forbidden, self.set_node_provision_state, self.node['uuid'], 'rebuild', 'active') @decorators.idempotent_id('04a21b51-2991-4213-8c2f-a96cfdada802') def test_node_protected_from_deletion(self): self.deploy_node(self.node['uuid']) self.client.update_node(self.node['uuid'], protected=True, maintenance=True) self.assertRaises(lib_exc.Forbidden, self.client.delete_node, self.node['uuid']) @decorators.attr(type='negative') @decorators.idempotent_id('1c819f4c-6c1d-4150-ba4a-3b0dcb3c8694') def test_node_protected_negative(self): # Cannot be set for available nodes self.assertRaises(lib_exc.Conflict, self.client.update_node, self.node['uuid'], protected=True) self.deploy_node(self.node['uuid']) # Reason cannot be set for nodes that are not protected self.assertRaises(lib_exc.BadRequest, self.client.update_node, self.node['uuid'], protected_reason='reason!') class TestNodesProtectedOldApi(base.BaseBaremetalTest): def setUp(self): super(TestNodesProtectedOldApi, self).setUp() _, self.chassis = self.create_chassis() _, self.node = self.create_node(self.chassis['uuid']) self.deploy_node(self.node['uuid']) _, self.node = self.client.show_node(self.node['uuid']) @decorators.attr(type='negative') @decorators.idempotent_id('08971546-27cc-40ab-851e-ba7bb52c00ab') def test_node_protected_old_api(self): exc = self.assertRaises( lib_exc.RestClientException, self.client.update_node, self.node['uuid'], protected=True) # 400 for old ironic, 406 for new ironic with old microversion. self.assertIn(exc.resp.status, (400, 406)) class TestNodeConductor(base.BaseBaremetalTest): """"""Tests for conductor field of baremetal nodes."""""" min_microversion = '1.49' def setUp(self): super(TestNodeConductor, self).setUp() _, self.chassis = self.create_chassis() _, self.node = self.create_node(self.chassis['uuid']) @decorators.idempotent_id('1af888b2-2a19-43da-8181-a5381d6ff536') def test_conductor_exposed(self): _, loaded_node = self.client.show_node(self.node['uuid']) self.assertIn('conductor', loaded_node) @decorators.idempotent_id('53bcef99-2989-4755-aa8f-c31037cd15de') def test_list_nodes_by_conductor(self): _, loaded_node = self.client.show_node(self.node['uuid']) hostname = loaded_node['conductor'] _, nodes = self.client.list_nodes(conductor=hostname) self.assertIn(self.node['uuid'], [n['uuid'] for n in nodes['nodes']]) class TestNodeDescription(base.BaseBaremetalTest): """"""Tests for the description field."""""" min_microversion = '1.51' def setUp(self): super(TestNodeDescription, self).setUp() _, self.chassis = self.create_chassis() _, self.node = self.create_node(self.chassis['uuid']) @decorators.idempotent_id('66d0da49-e5ac-4f49-b065-9d2207d8a3af') def test_description_exposed(self): _, loaded_node = self.client.show_node(self.node['uuid']) self.assertIn('description', loaded_node) @decorators.idempotent_id('85b4a4b5-37e5-4b60-8dc7-f5a26dfa78a3') def test_node_description_set_unset(self): self.client.update_node(self.node['uuid'], description='meow') _, self.node = self.client.show_node(self.node['uuid']) self.assertEqual('meow', self.node['description']) self.client.update_node(self.node['uuid'], description=None) _, self.node = self.client.show_node(self.node['uuid']) self.assertIsNone(self.node['description']) @decorators.idempotent_id('3d649bb3-a58b-4b9e-8dfa-41ab634b1153') def test_create_node_with_description(self): _, body = self.create_node(self.chassis['uuid'], description='meow') self.assertEqual('meow', body['description']) ",,1079,6
openstack%2Fmetalsmith~master~I0d8c85cdc071f4495d8122f936a058337cd72e8a,openstack/metalsmith,master,I0d8c85cdc071f4495d8122f936a058337cd72e8a,DNM: Test CI,ABANDONED,2021-03-18 19:19:04.000000000,2022-02-04 17:28:36.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-03-18 19:19:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/metalsmith/commit/76c7bdbee62fc951f0e56c765890d04625aa2d68', 'message': 'DNM: Test CI\n\nChange-Id: I0d8c85cdc071f4495d8122f936a058337cd72e8a\n'}, {'number': 2, 'created': '2021-07-19 14:14:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/metalsmith/commit/7c1b41b56de96ffa737ebe5127b4c415cd6c0a52', 'message': 'DNM: Test CI\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/801309\nChange-Id: I0d8c85cdc071f4495d8122f936a058337cd72e8a\n'}, {'number': 3, 'created': '2021-10-08 17:58:30.000000000', 'files': ['setup.py'], 'web_link': 'https://opendev.org/openstack/metalsmith/commit/bb4a7e0a49e0456c0627441c1a4d2db013d79846', 'message': 'DNM: Test CI\n\nChange-Id: I0d8c85cdc071f4495d8122f936a058337cd72e8a\n'}]",0,781549,bb4a7e0a49e0456c0627441c1a4d2db013d79846,9,1,3,11655,,,0,"DNM: Test CI

Change-Id: I0d8c85cdc071f4495d8122f936a058337cd72e8a
",git fetch https://review.opendev.org/openstack/metalsmith refs/changes/49/781549/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.py'],1,76c7bdbee62fc951f0e56c765890d04625aa2d68,, # Meow,,2,0
openstack%2Fcharm-deployment-guide~master~I997131b67b0aefe9b61d01545de15bd6dc5595a0,openstack/charm-deployment-guide,master,I997131b67b0aefe9b61d01545de15bd6dc5595a0,Review OpenStack upgrades,MERGED,2022-01-28 02:40:45.000000000,2022-02-04 17:23:02.000000000,2022-02-04 17:20:49.000000000,"[{'_account_id': 2424}, {'_account_id': 11805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-28 02:40:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/1c7658dc38ca51512f777b9f6c24985becd55cf1', 'message': 'Review OpenStack upgrades\n\nFor database backups the `backup` action for percona-cluster\nwas switched out for the `mysqldump` action to be consistent\nwith the lack of `backup` action for mysql-innodb-cluster.\n\nChange-Id: I997131b67b0aefe9b61d01545de15bd6dc5595a0\n'}, {'number': 2, 'created': '2022-01-28 17:05:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/43127325e3adffdcf6594c9fc76f0761965e46b3', 'message': 'Review OpenStack upgrades\n\nFor database backups the `backup` action for percona-cluster\nwas swapped out for the `mysqldump` action to be consistent\nwith the lack of `backup` action for mysql-innodb-cluster.\n\nChange-Id: I997131b67b0aefe9b61d01545de15bd6dc5595a0\n'}, {'number': 3, 'created': '2022-01-28 21:20:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/8bfeafb9f64d6114954bfeeba29fbad7b7f45047', 'message': 'Review OpenStack upgrades\n\nMake the upgrade-openstack page more correct.\n\nImprove wording and formatting.\n\nFor database backups the `backup` action for percona-cluster\nwas swapped out for the `mysqldump` action to be consistent\nwith the lack of a `backup` action for mysql-innodb-cluster.\n\nChange-Id: I997131b67b0aefe9b61d01545de15bd6dc5595a0\n'}, {'number': 4, 'created': '2022-01-28 21:35:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/5ed736065184f2caa29db34609c03fcfc6c61cee', 'message': 'Review OpenStack upgrades\n\nMake the upgrade-openstack page more correct.\n\nImprove wording and formatting.\n\nFor database backups the `backup` action for percona-cluster\nwas swapped out for the `mysqldump` action to be consistent\nwith the lack of a `backup` action for mysql-innodb-cluster.\n\nChange-Id: I997131b67b0aefe9b61d01545de15bd6dc5595a0\n'}, {'number': 5, 'created': '2022-01-31 23:09:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/4fed985aac081f1674b74a3e6845baf9bf5dacee', 'message': 'Review OpenStack upgrades\n\nMake the upgrade-openstack page more correct.\n\nImprove wording and formatting.\n\nFor database backups the `backup` action for percona-cluster\nwas swapped out for the `mysqldump` action to be consistent\nwith the lack of a `backup` action for mysql-innodb-cluster.\n\nChange-Id: I997131b67b0aefe9b61d01545de15bd6dc5595a0\n'}, {'number': 6, 'created': '2022-01-31 23:58:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/493a05bdd02a172553653d8838f3436a507c2c09', 'message': 'Review OpenStack upgrades\n\nMake the upgrade-openstack page more correct.\n\nImprove wording and formatting.\n\nFor database backups the `backup` action for percona-cluster\nwas swapped out for the `mysqldump` action to be consistent\nwith the lack of a `backup` action for mysql-innodb-cluster.\n\nChange-Id: I997131b67b0aefe9b61d01545de15bd6dc5595a0\n'}, {'number': 7, 'created': '2022-02-01 04:20:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/6cacc1870eb0992a6715ed6259ae0e2a9b71da1f', 'message': 'Review OpenStack upgrades\n\nMake the upgrade-openstack page more correct.\n\nImprove wording/formatting and refactor.\n\nFor database backups the `backup` action for percona-cluster\nwas swapped out for the `mysqldump` action to be consistent\nwith the lack of a `backup` action for mysql-innodb-cluster.\n\nChange-Id: I997131b67b0aefe9b61d01545de15bd6dc5595a0\n'}, {'number': 8, 'created': '2022-02-01 04:33:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/a015726354a3c0139e6375d08f4082ea410f142b', 'message': 'Review OpenStack upgrades\n\nMake the upgrade-openstack page more correct.\n\nImprove wording/formatting and refactor.\n\nFor database backups the `backup` action for percona-cluster\nwas swapped out for the `mysqldump` action to be consistent\nwith the lack of a `backup` action for mysql-innodb-cluster.\n\nChange-Id: I997131b67b0aefe9b61d01545de15bd6dc5595a0\n'}, {'number': 9, 'created': '2022-02-01 17:17:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/e72ecfbaf6b478cf5162ca885263d5cef9935776', 'message': 'Review OpenStack upgrades\n\nMake the upgrade-openstack page more correct.\n\nImprove wording/formatting and refactor.\n\nFor database backups the `backup` action for percona-cluster\nwas swapped out for the `mysqldump` action to be consistent\nwith the lack of a `backup` action for mysql-innodb-cluster.\n\nChange-Id: I997131b67b0aefe9b61d01545de15bd6dc5595a0\n'}, {'number': 10, 'created': '2022-02-01 20:33:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/022f7c667383ccf32f674a92551b7aef6f272b49', 'message': 'Review OpenStack upgrades\n\nMake the upgrade-openstack page more correct.\n\nImprove wording/formatting and refactor.\n\nFor database backups the `backup` action for percona-cluster\nwas swapped out for the `mysqldump` action to be consistent\nwith the lack of a `backup` action for mysql-innodb-cluster.\n\nChange-Id: I997131b67b0aefe9b61d01545de15bd6dc5595a0\n'}, {'number': 11, 'created': '2022-02-04 16:53:46.000000000', 'files': ['deploy-guide/source/upgrade-openstack.rst'], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/1db32e34b8963ad179d6afde1d16f6094231cb86', 'message': 'Review OpenStack upgrades\n\nMake the upgrade-openstack page more correct.\n\nImprove wording/formatting and refactor.\n\nFor database backups the `backup` action for percona-cluster\nwas swapped out for the `mysqldump` action to be consistent\nwith the lack of a `backup` action for mysql-innodb-cluster.\n\nChange-Id: I997131b67b0aefe9b61d01545de15bd6dc5595a0\n'}]",25,826794,1db32e34b8963ad179d6afde1d16f6094231cb86,37,3,11,30561,,,0,"Review OpenStack upgrades

Make the upgrade-openstack page more correct.

Improve wording/formatting and refactor.

For database backups the `backup` action for percona-cluster
was swapped out for the `mysqldump` action to be consistent
with the lack of a `backup` action for mysql-innodb-cluster.

Change-Id: I997131b67b0aefe9b61d01545de15bd6dc5595a0
",git fetch https://review.opendev.org/openstack/charm-deployment-guide refs/changes/94/826794/7 && git format-patch -1 --stdout FETCH_HEAD,['deploy-guide/source/upgrade-openstack.rst'],1,1c7658dc38ca51512f777b9f6c24985becd55cf1,review-openstack-upgrades-2204,"This document outlines how to upgrade the OpenStack service components of a Charmed OpenStack cloud.upgraded. A charm will also strive to preserve the existing configuration of its associated service during the upgrade.* :doc:`Special charm procedures <upgrade-special>` * :doc:`Upgrade issues <upgrade-issues>` * :doc:`Various issues <various-issues>` sudo apt update sudo apt full-upgradeThis step is to make certain that any issues that are apparent after the upgrade are not due to pre-existing problems.When performing a service upgrade on a cloud node that hosts multiple principalPerform a backup of the service databases ----------------------------------------- Perform a backup of the cloud service databases by applying the ``mysqldump`` action to any cloud database unit. Be sure to select all applicable databases; the below command is only an example. The permissions on the remote backup directory will need to be adjusted before and after transferring it to the Juju client. Take note that the transfer method presented here will capture all existing backups in that directory. .. important:: Store the backup archive in a safe place. For percona-cluster ~~~~~~~~~~~~~~~~~~~ The percona-cluster application requires modifications to its strict mode before and after database dumps. See `Percona strict mode`_ to understand the implications of this setting. juju run-action --wait percona-cluster/0 set-pxc-strict-mode mode=MASTER juju run-action --wait percona-cluster/0 mysqldump \ databases=aodh,cinder,designate,glance,gnochii,horizon,keystone,neutron,nova,nova_api,nova_cell0,placement juju run-action --wait percona-cluster/0 set-pxc-strict-mode mode=ENFORCING juju run -u percona-cluster/0 -- sudo chmod -R o+rx /var/backups/mysql juju scp -- -r percona-cluster/0:/var/backups/mysql . juju run -u percona-cluster/0 -- sudo chmod -R o-rx /var/backups/mysql For mysql-innodb-cluster ~~~~~~~~~~~~~~~~~~~~~~~~ juju run-action --wait mysql-innodb-cluster/0 mysqldump \ databases=aodh,cinder,designate,glance,gnochii,horizon,keystone,neutron,nova,nova_api,nova_cell0,placement juju run -u mysql-innodb-cluster/0 -- sudo chmod -R o+rx /var/backups/mysql juju scp -- -r mysql-innodb-cluster/0:/var/backups/mysql . juju run -u mysql-innodb-cluster/0 -- sudo chmod -R o-rx /var/backups/mysql.. _Percona strict mode: https://www.percona.com/doc/percona-xtradb-cluster/LATEST/features/pxc-strict-mode.html",This document outlines how to upgrade a Juju-deployed OpenStack cloud.upgraded. A new charm will also strive to produce a service as similarly configured to the pre-upgraded service as possible.* the :doc:`Special charm procedures <upgrade-special>` page * the :doc:`Upgrade issues <upgrade-issues>` page * the :doc:`Various issues <various-issues>` page sudo apt-get update sudo apt-get dist-upgradeThis step is to make certain that any issues that may appear after the upgrade are not due to pre-existing problems.When performing a service upgrade on a cloud node that hosts multiple principlePerform a database backup ------------------------- Before making any changes to cloud services perform a backup of the cloud database by running the ``backup`` action on any single percona-cluster unit: juju run-action --wait percona-cluster/0 backup Now transfer the backup directory to the Juju client with the intention of subsequently storing it somewhere safe. This command will grab **all** existing backups: juju scp -- -r percona-cluster/0:/opt/backups/mysql /path/to/local/directory Permissions may first need to be altered on the remote machine.,48,21
openstack%2Fpython-manilaclient~master~If695bb7c2ffb4c57d6b70dcb9871c5f78da7c47f,openstack/python-manilaclient,master,If695bb7c2ffb4c57d6b70dcb9871c5f78da7c47f,Add missing space in server migration complete,ABANDONED,2022-02-04 17:07:55.000000000,2022-02-04 17:08:50.000000000,,[],"[{'number': 1, 'created': '2022-02-04 17:07:55.000000000', 'files': ['manilaclient/v2/shell.py'], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/0522cb6e1ca2ac4b224e96cc77ec062d17331c6c', 'message': 'Add missing space in server migration complete\n\nTrivialFix\nChange-Id: I2207da7b2d157681747e22570bed0ca18a72d717\n\nChange-Id: If695bb7c2ffb4c57d6b70dcb9871c5f78da7c47f\n'}]",0,827886,0522cb6e1ca2ac4b224e96cc77ec062d17331c6c,2,0,1,32411,,,0,"Add missing space in server migration complete

TrivialFix
Change-Id: I2207da7b2d157681747e22570bed0ca18a72d717

Change-Id: If695bb7c2ffb4c57d6b70dcb9871c5f78da7c47f
",git fetch https://review.opendev.org/openstack/python-manilaclient refs/changes/86/827886/1 && git format-patch -1 --stdout FETCH_HEAD,['manilaclient/v2/shell.py'],1,0522cb6e1ca2ac4b224e96cc77ec062d17331c6c,," (Admin only, Experimental)."," (Admin only,Experimental).",1,1
openstack%2Fpuppet-ceilometer~master~Ida080fe2a71d6215a8365cfb4f9f902dfcaaa760,openstack/puppet-ceilometer,master,Ida080fe2a71d6215a8365cfb4f9f902dfcaaa760,Deprecate cache parameters in the base class,MERGED,2022-01-27 05:04:53.000000000,2022-02-04 17:08:39.000000000,2022-02-04 17:03:57.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-27 05:04:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceilometer/commit/dfbc9ef382f2d25c91e8717317a8b4591c59e956', 'message': 'Deprecate cache parameters in the base class\n\nin favor of the new ceilometer::cache class. This should have been done\nwhen we added that class.\n\nChange-Id: Ida080fe2a71d6215a8365cfb4f9f902dfcaaa760\n'}, {'number': 2, 'created': '2022-01-27 05:38:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceilometer/commit/f3db9960efbd32207b61d809db933db389bd1535', 'message': 'Deprecate cache parameters in the base class\n\nin favor of the new ceilometer::cache class. This should have been done\nwhen we added that class.\n\nChange-Id: Ida080fe2a71d6215a8365cfb4f9f902dfcaaa760\n'}, {'number': 3, 'created': '2022-01-27 06:46:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceilometer/commit/b144f9e0ea26e917d74b448b740546f9d58413cc', 'message': 'Deprecate cache parameters in the base class\n\nin favor of the new ceilometer::cache class. This should have been done\nwhen we added that class.\n\nChange-Id: Ida080fe2a71d6215a8365cfb4f9f902dfcaaa760\n'}, {'number': 4, 'created': '2022-01-27 11:11:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceilometer/commit/687292ad192e98e35e16f5bcc48a1df6828c7f8d', 'message': 'Deprecate cache parameters in the base class\n\nin favor of the new ceilometer::cache class. This should have been done\nwhen we added that class.\n\nChange-Id: Ida080fe2a71d6215a8365cfb4f9f902dfcaaa760\n'}, {'number': 5, 'created': '2022-01-27 11:18:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceilometer/commit/6aadab7a1c43e488aa2447455ad02a60155d285e', 'message': 'Deprecate cache parameters in the base class\n\nin favor of the new ceilometer::cache class. This should have been done\nwhen we added that class.\n\nChange-Id: Ida080fe2a71d6215a8365cfb4f9f902dfcaaa760\n'}, {'number': 6, 'created': '2022-02-03 15:24:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceilometer/commit/8ce3138236ce152d9eb65d5395defd315c037268', 'message': 'Deprecate cache parameters in the base class\n\nin favor of the new ceilometer::cache class. This should have been done\nwhen we added that class.\n\nChange-Id: Ida080fe2a71d6215a8365cfb4f9f902dfcaaa760\n'}, {'number': 7, 'created': '2022-02-03 15:32:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceilometer/commit/ac1ebbd82ac6811811a7263c33188d86216e1ffc', 'message': 'Deprecate cache parameters in the base class\n\nin favor of the new ceilometer::cache class. This should have been done\nwhen we added that class.\n\nChange-Id: Ida080fe2a71d6215a8365cfb4f9f902dfcaaa760\n'}, {'number': 8, 'created': '2022-02-03 16:11:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceilometer/commit/f24405c11799ae26aa05a3a5b085533e448a69ff', 'message': 'Deprecate cache parameters in the base class\n\nin favor of the new ceilometer::cache class. This should have been done\nwhen we added that class.\n\nChange-Id: Ida080fe2a71d6215a8365cfb4f9f902dfcaaa760\n'}, {'number': 9, 'created': '2022-02-03 17:08:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceilometer/commit/8a7e686b26a4c518d8b2cefa95fbf7d1a314b1a6', 'message': 'Deprecate cache parameters in the base class\n\nin favor of the new ceilometer::cache class. This should have been done\nwhen we added that class.\n\nChange-Id: Ida080fe2a71d6215a8365cfb4f9f902dfcaaa760\n'}, {'number': 10, 'created': '2022-02-03 23:04:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceilometer/commit/77c89ad4dfc974225fd1173bd91678c03497b40c', 'message': 'Deprecate cache parameters in the base class\n\nin favor of the new ceilometer::cache class. This should have been done\nwhen we added that class.\n\nChange-Id: Ida080fe2a71d6215a8365cfb4f9f902dfcaaa760\n'}, {'number': 11, 'created': '2022-02-04 00:17:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceilometer/commit/80a278db7324d9e430919584ff84d6c0afaf2ce3', 'message': 'Deprecate cache parameters in the base class\n\nin favor of the new ceilometer::cache class. This should have been done\nwhen we added that class.\n\nChange-Id: Ida080fe2a71d6215a8365cfb4f9f902dfcaaa760\n'}, {'number': 12, 'created': '2022-02-04 01:25:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceilometer/commit/70ae77e358ff30c876cc66fababd24e989ff489a', 'message': 'Deprecate cache parameters in the base class\n\nin favor of the new ceilometer::cache class. This should have been done\nwhen we added that class.\n\nChange-Id: Ida080fe2a71d6215a8365cfb4f9f902dfcaaa760\n'}, {'number': 13, 'created': '2022-02-04 02:30:36.000000000', 'files': ['spec/classes/ceilometer_cache_spec.rb', 'manifests/init.pp', 'releasenotes/notes/cache-opts-cea94fc0d564f820.yaml', 'manifests/cache.pp'], 'web_link': 'https://opendev.org/openstack/puppet-ceilometer/commit/a7cf7060ddfeab7440bf2e84522d220014c10bd8', 'message': 'Deprecate cache parameters in the base class\n\nin favor of the new ceilometer::cache class. This should have been done\nwhen we added that class.\n\nChange-Id: Ida080fe2a71d6215a8365cfb4f9f902dfcaaa760\n'}]",2,826581,a7cf7060ddfeab7440bf2e84522d220014c10bd8,33,4,13,9816,,,0,"Deprecate cache parameters in the base class

in favor of the new ceilometer::cache class. This should have been done
when we added that class.

Change-Id: Ida080fe2a71d6215a8365cfb4f9f902dfcaaa760
",git fetch https://review.opendev.org/openstack/puppet-ceilometer refs/changes/81/826581/9 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/ceilometer_cache_spec.rb', 'manifests/init.pp', 'releasenotes/notes/cache-opts-cea94fc0d564f820.yaml', 'manifests/cache.pp']",4,dfbc9ef382f2d25c91e8717317a8b4591c59e956,cache-opts,"# [*enable_socket_keepalive*] # (Optional) Global toggle for the socket keepalive of dogpile's # pymemcache backend # Defaults to $::os_service_default # # [*socket_keepalive_idle*] # (Optional) The time (in seconds) the connection needs to remain # idle before TCP starts sending keepalive probes. Should # be a positive integer most greater than zero. # Defaults to $::os_service_default # # [*socket_keepalive_interval*] # (Optional) The time (in seconds) between individual keepalive # probes. Should be a positive integer most greater # than zero. # Defaults to $::os_service_default # # [*socket_keepalive_count*] # (Optional) The maximum number of keepalive probes TCP should # send before dropping the connection. Should be a # positive integer most greater than zero. # Defaults to $::os_service_default # $enable_socket_keepalive = $::os_service_default, $socket_keepalive_idle = $::os_service_default, $socket_keepalive_interval = $::os_service_default, $socket_keepalive_count = $::os_service_default, $backend_real = pick($::ceilometer::cache_backend, $backend) $memcache_servers_real = pick($::ceilometer::memcache_servers, $memcache_servers) $enable_socket_keepalive_real = pick($::ceilometer::cache_enable_socket_keepalive, $enable_socket_keepalive) $socket_keepalive_idle_real = pick($::ceilometer::cache_socket_keepalive_idle, $socket_keepalive_idle) $socket_keepalive_interval_real = pick($::ceilometer::cache_socket_keepalive_interval, $socket_keepalive_interval) $socket_keepalive_count_real = pick($::ceilometer::cache_socket_keepalive_count, $socket_keepalive_count) $manage_backend_package_real = pick($::ceilometer::manage_backend_package, $manage_backend_package) $tls_enabled_real = pick($::ceilometer::cache_tls_enabled, $tls_enabled) $tls_cafile_real = pick($::ceilometer::cache_tls_cafile, $tls_cafile) $tls_certfile_real = pick($::ceilometer::cache_tls_certfile, $tls_certfile) $tls_keyfile_real = pick($::ceilometer::cache_tls_keyfile, $tls_keyfile) $tls_allowed_ciphers = pick($::ceilometer::cache_tls_allowed_ciphers, $tls_allowed_ciphers) backend => $backend_real, memcache_servers => $memcache_servers_real, enable_socket_keepalive => $enable_socket_keepalive_real, socket_keepalive_idle => $socket_keepalive_idle_real, socket_keepalive_interval => $socket_keepalive_interval_real, socket_keepalive_count => $socket_keepalive_count_real, manage_backend_package => $manage_backend_package_real, tls_enabled => $tls_enabled_real, tls_cafile => $tls_cafile_real, tls_certfile => $tls_certfile_real, tls_keyfile => $tls_keyfile_real, tls_allowed_ciphers => $tls_allowed_ciphers_real,"," backend => $backend, memcache_servers => $memcache_servers, manage_backend_package => $manage_backend_package, tls_enabled => $tls_enabled, tls_cafile => $tls_cafile, tls_certfile => $tls_certfile, tls_keyfile => $tls_keyfile, tls_allowed_ciphers => $tls_allowed_ciphers,",182,103
openstack%2Freleases~master~If83c3660674b85b02c8fdefafc59380082288d2c,openstack/releases,master,If83c3660674b85b02c8fdefafc59380082288d2c,[ovn-octavia-provider] Propose to switch the release model,MERGED,2022-01-25 17:09:34.000000000,2022-02-04 17:08:36.000000000,2022-02-04 17:08:36.000000000,"[{'_account_id': 841}, {'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 15527}, {'_account_id': 17685}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-01-25 17:09:34.000000000', 'files': ['deliverables/yoga/ovn-octavia-provider.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/bc0c1bc10f10d59271fab093597366c9c262e44a', 'message': '[ovn-octavia-provider] Propose to switch the release model\n\nIntermediary-released deliverables that did release only once during\nthe last cycle, and have not done a release yet are good candidates\nto switch to the cycle-with-rc model, which is much more suitable for\ndeliverables that are only released once per cycle.\n\nThese changes are not mandatory and this patch is a conveniences to\nhighlight this point and open the discussion.\n\nPTLs and release liaisons please decide to:\n- immediately release an intermediary release (and -1 the proposed change)\n- confirm the release model change (+1 the proposed change)\n- stay uncertain for this cycle of how many releases will be made, but\n  acknowledge that they need to do a release before RC1 (-1 the proposed\n  change)\n\nChange-Id: If83c3660674b85b02c8fdefafc59380082288d2c\n'}]",4,826331,bc0c1bc10f10d59271fab093597366c9c262e44a,12,8,1,17685,,,0,"[ovn-octavia-provider] Propose to switch the release model

Intermediary-released deliverables that did release only once during
the last cycle, and have not done a release yet are good candidates
to switch to the cycle-with-rc model, which is much more suitable for
deliverables that are only released once per cycle.

These changes are not mandatory and this patch is a conveniences to
highlight this point and open the discussion.

PTLs and release liaisons please decide to:
- immediately release an intermediary release (and -1 the proposed change)
- confirm the release model change (+1 the proposed change)
- stay uncertain for this cycle of how many releases will be made, but
  acknowledge that they need to do a release before RC1 (-1 the proposed
  change)

Change-Id: If83c3660674b85b02c8fdefafc59380082288d2c
",git fetch https://review.opendev.org/openstack/releases refs/changes/31/826331/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/yoga/ovn-octavia-provider.yaml'],1,bc0c1bc10f10d59271fab093597366c9c262e44a,not-yet-released-yoga,release-model: cycle-with-rc,release-model: cycle-with-intermediary,1,1
openstack%2Fpuppet-ceilometer~master~Iaf92d94c834e6b34c54d4f270fb007caa37fb367,openstack/puppet-ceilometer,master,Iaf92d94c834e6b34c54d4f270fb007caa37fb367,Update outdated example,MERGED,2022-02-04 03:11:02.000000000,2022-02-04 17:04:00.000000000,2022-02-04 17:04:00.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-04 03:11:02.000000000', 'files': ['examples/ceilometer_with_gnocchi.pp'], 'web_link': 'https://opendev.org/openstack/puppet-ceilometer/commit/c456f0b60b347dc54dacba4b1649830454705dc5', 'message': 'Update outdated example\n\nThe ceilometer::dispatcher class no longer exists, and its parameters\nwere replaced by the ones of ceilometer::agent::notification.\n\nChange-Id: Iaf92d94c834e6b34c54d4f270fb007caa37fb367\n'}]",0,827789,c456f0b60b347dc54dacba4b1649830454705dc5,7,3,1,9816,,,0,"Update outdated example

The ceilometer::dispatcher class no longer exists, and its parameters
were replaced by the ones of ceilometer::agent::notification.

Change-Id: Iaf92d94c834e6b34c54d4f270fb007caa37fb367
",git fetch https://review.opendev.org/openstack/puppet-ceilometer refs/changes/89/827789/1 && git format-patch -1 --stdout FETCH_HEAD,['examples/ceilometer_with_gnocchi.pp'],1,c456f0b60b347dc54dacba4b1649830454705dc5,,"class { 'ceilometer::agent::notification': manage_pipeline => true, pipeline_publishers => ['gnocchi://'], manage_event_pipeline => true, event_pipeline_publishers => ['gnocchi://'], } class { 'ceilometer::agent::service_credentials': password => 'a_big_secret', }","class { 'ceilometer::agent::notification': }class { 'ceilometer::dispatcher::gnocchi': filter_service_activity => false, filter_project => 'gnocchi_swift', url => 'https://gnocchi:8041', archive_policy => 'high', resources_definition_file => 'gnocchi.yaml', }",9,8
openstack%2Freleases~master~I11e91edfef11812999b6081d1a35d6e01643e5e8,openstack/releases,master,I11e91edfef11812999b6081d1a35d6e01643e5e8,[swift] Propose to switch the release model,ABANDONED,2022-01-25 17:04:24.000000000,2022-02-04 16:55:27.000000000,,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-25 17:04:24.000000000', 'files': ['deliverables/yoga/swift.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/69f63aae0db1d7272f729519a1acaa7f716b8fab', 'message': '[swift] Propose to switch the release model\n\nIntermediary-released deliverables that did release only once during\nthe last cycle, and have not done a release yet are good candidates\nto switch to the cycle-with-rc model, which is much more suitable for\ndeliverables that are only released once per cycle.\n\nThese changes are not mandatory and this patch is a conveniences to\nhighlight this point and open the discussion.\n\nPTLs and release liaisons please decide to:\n- immediately release an intermediary release (and -1 the proposed change)\n- confirm the release model change (+1 the proposed change)\n- stay uncertain for this cycle of how many releases will be made, but\n  acknowledge that they need to do a release before RC1 (-1 the proposed\n  change)\n\nChange-Id: I11e91edfef11812999b6081d1a35d6e01643e5e8\n'}]",2,826329,69f63aae0db1d7272f729519a1acaa7f716b8fab,5,2,1,17685,,,0,"[swift] Propose to switch the release model

Intermediary-released deliverables that did release only once during
the last cycle, and have not done a release yet are good candidates
to switch to the cycle-with-rc model, which is much more suitable for
deliverables that are only released once per cycle.

These changes are not mandatory and this patch is a conveniences to
highlight this point and open the discussion.

PTLs and release liaisons please decide to:
- immediately release an intermediary release (and -1 the proposed change)
- confirm the release model change (+1 the proposed change)
- stay uncertain for this cycle of how many releases will be made, but
  acknowledge that they need to do a release before RC1 (-1 the proposed
  change)

Change-Id: I11e91edfef11812999b6081d1a35d6e01643e5e8
",git fetch https://review.opendev.org/openstack/releases refs/changes/29/826329/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/yoga/swift.yaml'],1,69f63aae0db1d7272f729519a1acaa7f716b8fab,not-yet-released-yoga,release-model: cycle-with-rc,release-model: cycle-with-intermediary,1,1
openstack%2Fblazar~master~Id7771b63116064f2adc0cdfd700f14afa1ea6170,openstack/blazar,master,Id7771b63116064f2adc0cdfd700f14afa1ea6170,Fix lease update when resource_type parameter is missing,MERGED,2022-01-13 14:26:11.000000000,2022-02-04 16:51:58.000000000,2022-02-04 16:49:05.000000000,"[{'_account_id': 22348}, {'_account_id': 29100}, {'_account_id': 33582}]","[{'number': 1, 'created': '2022-01-13 14:26:11.000000000', 'files': ['blazar/manager/service.py', 'releasenotes/notes/bug-1957761-8b126a392c0c79ee.yaml'], 'web_link': 'https://opendev.org/openstack/blazar/commit/caf4b282f046d1f50d46eb657f575fda1a4fdae3', 'message': 'Fix lease update when resource_type parameter is missing\n\nChange-Id: Id7771b63116064f2adc0cdfd700f14afa1ea6170\nCloses-Bug: #1957761\n'}]",2,824579,caf4b282f046d1f50d46eb657f575fda1a4fdae3,8,3,1,15197,,,0,"Fix lease update when resource_type parameter is missing

Change-Id: Id7771b63116064f2adc0cdfd700f14afa1ea6170
Closes-Bug: #1957761
",git fetch https://review.opendev.org/openstack/blazar refs/changes/79/824579/1 && git format-patch -1 --stdout FETCH_HEAD,"['blazar/manager/service.py', 'releasenotes/notes/bug-1957761-8b126a392c0c79ee.yaml']",2,caf4b282f046d1f50d46eb657f575fda1a4fdae3,bug/1957761,"--- fixes: - | Fixes failure to update reservations when the ``resource_type`` parameter is not provided in the API request. For more details, see `bug 1957761 <https://bugs.launchpad.net/blazar/+bug/1957761>`_. ",,21,0
openstack%2Fnova~master~I3cb39a9ec2c260f422b3c48122b9db512cdd799b,openstack/nova,master,I3cb39a9ec2c260f422b3c48122b9db512cdd799b,"Revert ""Revert resize: wait for events according to hybrid plug""",MERGED,2021-11-26 20:59:34.000000000,2022-02-04 16:47:06.000000000,2022-02-04 15:23:28.000000000,"[{'_account_id': 9708}, {'_account_id': 11604}, {'_account_id': 15334}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-26 20:59:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7318cc756d396d42215ec618065c70740c56ab30', 'message': 'Revert ""Revert resize: wait for events according to hybrid plug""\n\nThis reverts commit 7a7a223602ca5aa0aca8f65a6ab143f1d8f8ec1b.\n\nThat commit was added because - tl\'dr - upon revert resize, Neutron\nwith the OVS backend and the iptables security group driver would send\nus the network-vif-plugged event as soon as we updated the port\nbinding.\n\nThat behaviour has changed with commit 66c7f00e1d9. With that commit,\nwe started unplugging the vifs on the source compute host when doing a\nresize. When reverting the resize, the vifs had to be re-plugged again,\nregarldess of the networking backend in use. This renders commit\n7a7a223602ca5aa0aca8f65a6ab143f1d8f8ec1b. pointless, and it can be\nreverted.\n\nIn addition, 7a7a223602ca5aa0aca8f65a6ab143f1d8f8ec1b introduced a bug\nwherein *all* vifs would get marked for receiving network-vif-plugged\nevents, not just ACTIVE ones. This is bug 1951623.\n\nRevert commit 7a7a223602ca5aa0aca8f65a6ab143f1d8f8ec1b.\n\nConflicts - most have to do with context around this commit\'s code:\n\nnova/compute/manager.py\n\n    a2984b647a4 added provider_mappings to\n    _finish_revert_resize_network_migrate_finish()\'s signature\n\n    750aef54b19 started using\n    _finish_revert_resize_network_migrate_finish() in\n    _finish_revert_snapshot_based_resize_at_source()\n\nnova/network/model.py\n\n    8b33ac06445 added get_live_migration_plug_time_events() and\n    has_live_migration_plug_time_event()\n\n    7da94440db1 added has_port_with_allocation()\n\nnova/objects/migration.py\n\n    f203da38387 added is_resize() and is_live_migration()\n\nnova/tests/unit/compute/test_compute.py\n\n    a0e60feb3ec added request_spec to the test\n\nnova/tests/unit/compute/test_compute_mgr.py\n\n    be278006a58 added unit tests below ours\n\nnova/tests/unit/network/test_network_info.py\n\n    7da94440db1 (again) added tests for has_port_with_allocation()\n\nnova/tests/unit/virt/libvirt/test_driver.py and\nnova/virt/libvirt/driver.py are different in that attempting to\nidentify individual conflicts is a pointless exercise, as so much has\nchanged (mdev, vtmp, passibg migration do finish_revert_resize() in\n78a08d44ea68b31e27ce344f452756886ad309bd, etc). They can be treated as\nmanual removal of any code that had to do with the bind-time events\nlogic (though guided by the conflict markers in git).\n\nCloses-bug: 1951623\nCloses-bug: 1952003\nChange-Id: I3cb39a9ec2c260f422b3c48122b9db512cdd799b\n'}, {'number': 2, 'created': '2021-11-27 00:18:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/25966f98aa806d5ac1e41168ddff1f042f251bf0', 'message': 'Revert ""Revert resize: wait for events according to hybrid plug""\n\nThis reverts commit 7a7a223602ca5aa0aca8f65a6ab143f1d8f8ec1b.\n\nThat commit was added because - tl\'dr - upon revert resize, Neutron\nwith the OVS backend and the iptables security group driver would send\nus the network-vif-plugged event as soon as we updated the port\nbinding.\n\nThat behaviour has changed with commit 66c7f00e1d9. With that commit,\nwe started unplugging the vifs on the source compute host when doing a\nresize. When reverting the resize, the vifs had to be re-plugged again,\nregarldess of the networking backend in use. This renders commit\n7a7a223602ca5aa0aca8f65a6ab143f1d8f8ec1b. pointless, and it can be\nreverted.\n\nIn addition, 7a7a223602ca5aa0aca8f65a6ab143f1d8f8ec1b introduced a bug\nwherein *all* vifs would get marked for receiving network-vif-plugged\nevents, not just ACTIVE ones. This is bug 1951623.\n\nRevert commit 7a7a223602ca5aa0aca8f65a6ab143f1d8f8ec1b.\n\nConflicts - most have to do with context around this commit\'s code:\n\nnova/compute/manager.py\n\n    a2984b647a4 added provider_mappings to\n    _finish_revert_resize_network_migrate_finish()\'s signature\n\n    750aef54b19 started using\n    _finish_revert_resize_network_migrate_finish() in\n    _finish_revert_snapshot_based_resize_at_source()\n\nnova/network/model.py\n\n    8b33ac06445 added get_live_migration_plug_time_events() and\n    has_live_migration_plug_time_event()\n\n    7da94440db1 added has_port_with_allocation()\n\nnova/objects/migration.py\n\n    f203da38387 added is_resize() and is_live_migration()\n\nnova/tests/unit/compute/test_compute.py\n\n    a0e60feb3ec added request_spec to the test\n\nnova/tests/unit/compute/test_compute_mgr.py\n\n    be278006a58 added unit tests below ours\n\nnova/tests/unit/network/test_network_info.py\n\n    7da94440db1 (again) added tests for has_port_with_allocation()\n\nnova/tests/unit/virt/libvirt/test_driver.py and\nnova/virt/libvirt/driver.py are different in that attempting to\nidentify individual conflicts is a pointless exercise, as so much has\nchanged (mdev, vtmp, passibg migration do finish_revert_resize() in\n78a08d44ea68b31e27ce344f452756886ad309bd, etc). They can be treated as\nmanual removal of any code that had to do with the bind-time events\nlogic (though guided by the conflict markers in git).\n\nTODO(artom) There was a follow up commit,\n78a08d44ea68b31e27ce344f452756886ad309bd, that added the migration\nparameter to finish_revert_migration(). This is no longer needed, as\nthe migration was only used to obtain plug-time events. We\'ll have to\nundo that as well.\n\nCloses-bug: 1951623\nCloses-bug: 1952003\nChange-Id: I3cb39a9ec2c260f422b3c48122b9db512cdd799b\n'}, {'number': 3, 'created': '2021-11-27 02:59:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/36f7a60a4e04d7aa4cf25c704d5c73259091cbfa', 'message': 'Revert ""Revert resize: wait for events according to hybrid plug""\n\nThis reverts commit 7a7a223602ca5aa0aca8f65a6ab143f1d8f8ec1b.\n\nThat commit was added because - tl\'dr - upon revert resize, Neutron\nwith the OVS backend and the iptables security group driver would send\nus the network-vif-plugged event as soon as we updated the port\nbinding.\n\nThat behaviour has changed with commit 66c7f00e1d9. With that commit,\nwe started unplugging the vifs on the source compute host when doing a\nresize. When reverting the resize, the vifs had to be re-plugged again,\nregarldess of the networking backend in use. This renders commit\n7a7a223602ca5aa0aca8f65a6ab143f1d8f8ec1b. pointless, and it can be\nreverted.\n\nIn addition, 7a7a223602ca5aa0aca8f65a6ab143f1d8f8ec1b introduced a bug\nwherein *all* vifs would get marked for receiving network-vif-plugged\nevents, not just ACTIVE ones. This is bug 1951623.\n\nRevert commit 7a7a223602ca5aa0aca8f65a6ab143f1d8f8ec1b.\n\nConflicts - most have to do with context around this commit\'s code:\n\nnova/compute/manager.py\n\n    a2984b647a4 added provider_mappings to\n    _finish_revert_resize_network_migrate_finish()\'s signature\n\n    750aef54b19 started using\n    _finish_revert_resize_network_migrate_finish() in\n    _finish_revert_snapshot_based_resize_at_source()\n\nnova/network/model.py\n\n    8b33ac06445 added get_live_migration_plug_time_events() and\n    has_live_migration_plug_time_event()\n\n    7da94440db1 added has_port_with_allocation()\n\nnova/objects/migration.py\n\n    f203da38387 added is_resize() and is_live_migration()\n\nnova/tests/unit/compute/test_compute.py\n\n    a0e60feb3ec added request_spec to the test\n\nnova/tests/unit/compute/test_compute_mgr.py\n\n    be278006a58 added unit tests below ours\n\nnova/tests/unit/network/test_network_info.py\n\n    7da94440db1 (again) added tests for has_port_with_allocation()\n\nnova/tests/unit/virt/libvirt/test_driver.py and\nnova/virt/libvirt/driver.py are different in that attempting to\nidentify individual conflicts is a pointless exercise, as so much has\nchanged (mdev, vtmp, the recent wait for events during hard reboot\nworkaround config option, etc). They can be treated as\nmanual removal of any code that had to do with the bind-time events\nlogic (though guided by the conflict markers in git).\n\nTODO(artom) There was a follow up commit,\n78a08d44ea68b31e27ce344f452756886ad309bd, that added the migration\nparameter to finish_revert_migration(). This is no longer needed, as\nthe migration was only used to obtain plug-time events. We\'ll have to\nundo that as well.\n\nCloses-bug: 1951623\nCloses-bug: 1952003\nChange-Id: I3cb39a9ec2c260f422b3c48122b9db512cdd799b\n'}, {'number': 4, 'created': '2021-11-27 15:01:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cb714001573c03c60de3793aa8a0bec921e79c15', 'message': 'Revert ""Revert resize: wait for events according to hybrid plug""\n\nThis reverts commit 7a7a223602ca5aa0aca8f65a6ab143f1d8f8ec1b.\n\nThat commit was added because - tl\'dr - upon revert resize, Neutron\nwith the OVS backend and the iptables security group driver would send\nus the network-vif-plugged event as soon as we updated the port\nbinding.\n\nThat behaviour has changed with commit 66c7f00e1d9. With that commit,\nwe started unplugging the vifs on the source compute host when doing a\nresize. When reverting the resize, the vifs had to be re-plugged again,\nregarldess of the networking backend in use. This renders commit\n7a7a223602ca5aa0aca8f65a6ab143f1d8f8ec1b. pointless, and it can be\nreverted.\n\nIn addition, 7a7a223602ca5aa0aca8f65a6ab143f1d8f8ec1b introduced a bug\nwherein *all* vifs would get marked for receiving network-vif-plugged\nevents, not just ACTIVE ones. This is bug 1951623. Tempest patch\nI0f5097b6e56f64cfd6f56d92187c54cbe53bfb13 asserts the broken\nbehaviour, with the patch on top\n(I9891b43948aba1acaa0596585246825599ead1e7) depending on this one and\nproving the fix.\n\nRevert commit 7a7a223602ca5aa0aca8f65a6ab143f1d8f8ec1b.\n\nConflicts - most have to do with context around this commit\'s code:\n\nnova/compute/manager.py\n\n    a2984b647a4 added provider_mappings to\n    _finish_revert_resize_network_migrate_finish()\'s signature\n\n    750aef54b19 started using\n    _finish_revert_resize_network_migrate_finish() in\n    _finish_revert_snapshot_based_resize_at_source()\n\nnova/network/model.py\n\n    8b33ac06445 added get_live_migration_plug_time_events() and\n    has_live_migration_plug_time_event()\n\n    7da94440db1 added has_port_with_allocation()\n\nnova/objects/migration.py\n\n    f203da38387 added is_resize() and is_live_migration()\n\nnova/tests/unit/compute/test_compute.py\n\n    a0e60feb3ec added request_spec to the test\n\nnova/tests/unit/compute/test_compute_mgr.py\n\n    be278006a58 added unit tests below ours\n\nnova/tests/unit/network/test_network_info.py\n\n    7da94440db1 (again) added tests for has_port_with_allocation()\n\nnova/tests/unit/virt/libvirt/test_driver.py and\nnova/virt/libvirt/driver.py are different in that attempting to\nidentify individual conflicts is a pointless exercise, as so much has\nchanged (mdev, vtmp, the recent wait for events during hard reboot\nworkaround config option, etc). They can be treated as\nmanual removal of any code that had to do with the bind-time events\nlogic (though guided by the conflict markers in git).\n\nTODO(artom) There was a follow up commit,\n78a08d44ea68b31e27ce344f452756886ad309bd, that added the migration\nparameter to finish_revert_migration(). This is no longer needed, as\nthe migration was only used to obtain plug-time events. We\'ll have to\nundo that as well.\n\nCloses-bug: 1951623\nCloses-bug: 1952003\nChange-Id: I3cb39a9ec2c260f422b3c48122b9db512cdd799b\n'}, {'number': 5, 'created': '2021-11-28 18:16:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2f590c2dcaa5cc21ac732a737e6b5aa4145d77c0', 'message': 'Revert ""Revert resize: wait for events according to hybrid plug""\n\nThis reverts commit 7a7a223602ca5aa0aca8f65a6ab143f1d8f8ec1b.\n\nThat commit was added because - tl\'dr - upon revert resize, Neutron\nwith the OVS backend and the iptables security group driver would send\nus the network-vif-plugged event as soon as we updated the port\nbinding.\n\nThat behaviour has changed with commit 66c7f00e1d9. With that commit,\nwe started unplugging the vifs on the source compute host when doing a\nresize. When reverting the resize, the vifs had to be re-plugged again,\nregarldess of the networking backend in use. This renders commit\n7a7a223602ca5aa0aca8f65a6ab143f1d8f8ec1b. pointless, and it can be\nreverted.\n\nConflicts - most have to do with context around this commit\'s code:\n\nnova/compute/manager.py\n\n    a2984b647a4 added provider_mappings to\n    _finish_revert_resize_network_migrate_finish()\'s signature\n\n    750aef54b19 started using\n    _finish_revert_resize_network_migrate_finish() in\n    _finish_revert_snapshot_based_resize_at_source()\n\nnova/network/model.py\n\n    8b33ac06445 added get_live_migration_plug_time_events() and\n    has_live_migration_plug_time_event()\n\n    7da94440db1 added has_port_with_allocation()\n\nnova/objects/migration.py\n\n    f203da38387 added is_resize() and is_live_migration()\n\nnova/tests/unit/compute/test_compute.py\n\n    a0e60feb3ec added request_spec to the test\n\nnova/tests/unit/compute/test_compute_mgr.py\n\n    be278006a58 added unit tests below ours\n\nnova/tests/unit/network/test_network_info.py\n\n    7da94440db1 (again) added tests for has_port_with_allocation()\n\nnova/tests/unit/virt/libvirt/test_driver.py and\nnova/virt/libvirt/driver.py are different in that attempting to\nidentify individual conflicts is a pointless exercise, as so much has\nchanged (mdev, vtmp, the recent wait for events during hard reboot\nworkaround config option, etc). They can be treated as\nmanual removal of any code that had to do with the bind-time events\nlogic (though guided by the conflict markers in git).\n\nTODO(artom) There was a follow up commit,\n78a08d44ea68b31e27ce344f452756886ad309bd, that added the migration\nparameter to finish_revert_migration(). This is no longer needed, as\nthe migration was only used to obtain plug-time events. We\'ll have to\nundo that as well.\n\nCloses-bug: 1952003\nChange-Id: I3cb39a9ec2c260f422b3c48122b9db512cdd799b\n'}, {'number': 6, 'created': '2022-01-31 13:10:59.000000000', 'files': ['nova/tests/unit/compute/test_compute_mgr.py', 'nova/tests/unit/network/test_network_info.py', 'nova/tests/unit/objects/test_migration.py', 'nova/virt/libvirt/driver.py', 'nova/network/model.py', '.zuul.yaml', 'nova/tests/unit/compute/test_compute.py', 'nova/compute/manager.py', 'nova/objects/migration.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/0b0f40d1b308b29da537859b72080488560c23d4', 'message': 'Revert ""Revert resize: wait for events according to hybrid plug""\n\nThis reverts commit 7a7a223602ca5aa0aca8f65a6ab143f1d8f8ec1b.\n\nThat commit was added because - tl\'dr - upon revert resize, Neutron\nwith the OVS backend and the iptables security group driver would send\nus the network-vif-plugged event as soon as we updated the port\nbinding.\n\nThat behaviour has changed with commit 66c7f00e1d9. With that commit,\nwe started unplugging the vifs on the source compute host when doing a\nresize. When reverting the resize, the vifs had to be re-plugged again,\nregarldess of the networking backend in use. This renders commit\n7a7a223602ca5aa0aca8f65a6ab143f1d8f8ec1b. pointless, and it can be\nreverted.\n\nConflicts - most have to do with context around this commit\'s code:\n\nnova/compute/manager.py\n\n    a2984b647a4 added provider_mappings to\n    _finish_revert_resize_network_migrate_finish()\'s signature\n\n    750aef54b19 started using\n    _finish_revert_resize_network_migrate_finish() in\n    _finish_revert_snapshot_based_resize_at_source()\n\nnova/network/model.py\n\n    8b33ac06445 added get_live_migration_plug_time_events() and\n    has_live_migration_plug_time_event()\n\n    7da94440db1 added has_port_with_allocation()\n\nnova/objects/migration.py\n\n    f203da38387 added is_resize() and is_live_migration()\n\nnova/tests/unit/compute/test_compute.py\n\n    a0e60feb3ec added request_spec to the test\n\nnova/tests/unit/compute/test_compute_mgr.py\n\n    be278006a58 added unit tests below ours\n\nnova/tests/unit/network/test_network_info.py\n\n    7da94440db1 (again) added tests for has_port_with_allocation()\n\nnova/tests/unit/virt/libvirt/test_driver.py and\nnova/virt/libvirt/driver.py are different in that attempting to\nidentify individual conflicts is a pointless exercise, as so much has\nchanged (mdev, vtmp, the recent wait for events during hard reboot\nworkaround config option, etc). They can be treated as\nmanual removal of any code that had to do with the bind-time events\nlogic (though guided by the conflict markers in git).\n\nTODO(artom) There was a follow up commit,\n78a08d44ea68b31e27ce344f452756886ad309bd, that added the migration\nparameter to finish_revert_migration(). This is no longer needed, as\nthe migration was only used to obtain plug-time events. We\'ll have to\nundo that as well.\n\nCloses-bug: 1952003\nChange-Id: I3cb39a9ec2c260f422b3c48122b9db512cdd799b\n'}]",32,819494,0b0f40d1b308b29da537859b72080488560c23d4,118,5,6,8864,,,0,"Revert ""Revert resize: wait for events according to hybrid plug""

This reverts commit 7a7a223602ca5aa0aca8f65a6ab143f1d8f8ec1b.

That commit was added because - tl'dr - upon revert resize, Neutron
with the OVS backend and the iptables security group driver would send
us the network-vif-plugged event as soon as we updated the port
binding.

That behaviour has changed with commit 66c7f00e1d9. With that commit,
we started unplugging the vifs on the source compute host when doing a
resize. When reverting the resize, the vifs had to be re-plugged again,
regarldess of the networking backend in use. This renders commit
7a7a223602ca5aa0aca8f65a6ab143f1d8f8ec1b. pointless, and it can be
reverted.

Conflicts - most have to do with context around this commit's code:

nova/compute/manager.py

    a2984b647a4 added provider_mappings to
    _finish_revert_resize_network_migrate_finish()'s signature

    750aef54b19 started using
    _finish_revert_resize_network_migrate_finish() in
    _finish_revert_snapshot_based_resize_at_source()

nova/network/model.py

    8b33ac06445 added get_live_migration_plug_time_events() and
    has_live_migration_plug_time_event()

    7da94440db1 added has_port_with_allocation()

nova/objects/migration.py

    f203da38387 added is_resize() and is_live_migration()

nova/tests/unit/compute/test_compute.py

    a0e60feb3ec added request_spec to the test

nova/tests/unit/compute/test_compute_mgr.py

    be278006a58 added unit tests below ours

nova/tests/unit/network/test_network_info.py

    7da94440db1 (again) added tests for has_port_with_allocation()

nova/tests/unit/virt/libvirt/test_driver.py and
nova/virt/libvirt/driver.py are different in that attempting to
identify individual conflicts is a pointless exercise, as so much has
changed (mdev, vtmp, the recent wait for events during hard reboot
workaround config option, etc). They can be treated as
manual removal of any code that had to do with the bind-time events
logic (though guided by the conflict markers in git).

TODO(artom) There was a follow up commit,
78a08d44ea68b31e27ce344f452756886ad309bd, that added the migration
parameter to finish_revert_migration(). This is no longer needed, as
the migration was only used to obtain plug-time events. We'll have to
undo that as well.

Closes-bug: 1952003
Change-Id: I3cb39a9ec2c260f422b3c48122b9db512cdd799b
",git fetch https://review.opendev.org/openstack/nova refs/changes/94/819494/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_compute_mgr.py', 'nova/tests/unit/network/test_network_info.py', 'nova/tests/unit/objects/test_migration.py', 'nova/virt/libvirt/driver.py', 'nova/network/model.py', '.zuul.yaml', 'nova/tests/unit/compute/test_compute.py', 'nova/compute/manager.py', 'nova/objects/migration.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",10,7318cc756d396d42215ec618065c70740c56ab30,," self, neutron_failure=None, power_on=True, power_on=power_on) if CONF.vif_plugging_timeout and power_on: def _test_finish_revert_migration(self, power_on): cleanup_instance_dir=False, cleanup_instance_disks=False, self.context, instance, network_model.NetworkInfo(), objects.Migration(), power_on=power_on) self._test_finish_revert_migration(True) self._test_finish_revert_migration(False)"," self, neutron_failure=None, power_on=True, events=None, events_passed_to_prepare = [] events_passed_to_prepare.append((name, tag)) power_on=power_on, external_events=events) if events and CONF.vif_plugging_timeout: self.assertEqual(events_passed_to_prepare, events) elif CONF.vif_plugging_timeout and power_on: def test_create_guest_with_network__events_passed_in(self): self._test_create_guest_with_network__events( events=[('network-vif-plugged', uuids.fake_vif)]) def test_create_guest_with_network__events_passed_in_0_timeout(self): self.flags(vif_plugging_timeout=0) self._test_create_guest_with_network__events( events=[('network-vif-plugged', uuids.fake_vif)]) def _test_finish_revert_migration(self, power_on, migration): external_events=None, cleanup_instance_dir=False, cleanup_instance_disks=False, self.assertEqual(self.events_passed_to_fake_create, external_events) network_info = network_model.NetworkInfo( [network_model.VIF(id=uuids.normal_vif), network_model.VIF(id=uuids.hybrid_vif, details={'ovs_hybrid_plug': True})]) if migration.is_same_host(): # Same host is all plug-time self.events_passed_to_fake_create = [ ('network-vif-plugged', uuids.normal_vif), ('network-vif-plugged', uuids.hybrid_vif)] else: # For different host migration only non-hybrid plug # (""normal"") VIFs ""emit"" plug-time events. self.events_passed_to_fake_create = [ ('network-vif-plugged', uuids.normal_vif)] self.context, instance, network_info, migration, power_on=power_on) migration = objects.Migration(id=42, source_compute='fake-host1', dest_compute='fake-host2') self._test_finish_revert_migration(power_on=True, migration=migration) migration = objects.Migration(id=42, source_compute='fake-host1', dest_compute='fake-host2') self._test_finish_revert_migration(power_on=False, migration=migration) def test_finish_revert_migration_same_host(self): migration = objects.Migration(id=42, source_compute='fake-host', dest_compute='fake-host') self._test_finish_revert_migration(power_on=True, migration=migration) def test_finish_revert_migration_diff_host(self): migration = objects.Migration(id=42, source_compute='fake-host1', dest_compute='fake-host2') self._test_finish_revert_migration(power_on=True, migration=migration)",42,288
openstack%2Fpuppet-oslo~stable%2Fxena~I90d8e2b0cf231c9bd0fe97d4f363795886ccf8c7,openstack/puppet-oslo,stable/xena,I90d8e2b0cf231c9bd0fe97d4f363795886ccf8c7,Add pymemcache's HashClient retrying options to oslo.cache,MERGED,2022-01-31 10:12:22.000000000,2022-02-04 16:46:13.000000000,2022-02-04 16:43:54.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-01-31 10:12:22.000000000', 'files': ['releasenotes/notes/pymemcache_hashclient_retrying-10a756708ad9894b.yaml', 'spec/defines/oslo_cache_spec.rb', 'manifests/cache.pp'], 'web_link': 'https://opendev.org/openstack/puppet-oslo/commit/edf16447f0a8fa8be0000a3ecf7d751142048a49', 'message': ""Add pymemcache's HashClient retrying options to oslo.cache\n\nThis patch specifies a set of options required to setup pymemcache's\nHashClient retrying feature (dogpile.cache) cache backend.\n\nOriginal oslo.cache change:\nhttps://review.opendev.org/c/openstack/oslo.cache/+/824944\n\nChange-Id: I90d8e2b0cf231c9bd0fe97d4f363795886ccf8c7\n(cherry picked from commit 34e1446f44d66a96c8fbe631fc29413de0a51551)\n""}]",3,827035,edf16447f0a8fa8be0000a3ecf7d751142048a49,14,4,1,28522,,,0,"Add pymemcache's HashClient retrying options to oslo.cache

This patch specifies a set of options required to setup pymemcache's
HashClient retrying feature (dogpile.cache) cache backend.

Original oslo.cache change:
https://review.opendev.org/c/openstack/oslo.cache/+/824944

Change-Id: I90d8e2b0cf231c9bd0fe97d4f363795886ccf8c7
(cherry picked from commit 34e1446f44d66a96c8fbe631fc29413de0a51551)
",git fetch https://review.opendev.org/openstack/puppet-oslo refs/changes/35/827035/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/pymemcache_hashclient_retrying-10a756708ad9894b.yaml', 'spec/defines/oslo_cache_spec.rb', 'manifests/cache.pp']",3,edf16447f0a8fa8be0000a3ecf7d751142048a49,xena,"# [*hashclient_retry_attempts*] # (Optional) Amount of times a client should be tried # before it is marked dead and removed from the pool in # the HashClient's internal mechanisms. # Default to $::os_service_default # # [*hashclient_retry_delay*] # (Optional) Time in seconds that should pass between # retry attempts in the HashClient's internal mechanisms. # Default to $::os_service_default # # [*dead_timeout*] # (Optional) Time in seconds before attempting to add a node # back in the pool in the HashClient's internal mechanisms. # Default to $::os_service_default # $hashclient_retry_attempts = $::os_service_default, $hashclient_retry_delay = $::os_service_default, $dead_timeout = $::os_service_default, 'cache/hashclient_retry_attempts' => { value => $hashclient_retry_attempts }, 'cache/hashclient_retry_delay' => { value => $hashclient_retry_delay }, 'cache/dead_timeout' => { value => $dead_timeout },",,36,0
openstack%2Fnova~stable%2Fwallaby~Icaad155e22c9e2d86e464a0deb741c73f0dfb28a,openstack/nova,stable/wallaby,Icaad155e22c9e2d86e464a0deb741c73f0dfb28a,[rt] Apply migration context for incoming migrations,MERGED,2021-12-06 16:23:44.000000000,2022-02-04 16:45:35.000000000,2022-02-04 15:43:13.000000000,"[{'_account_id': 4690}, {'_account_id': 7166}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 32349}, {'_account_id': 33608}, {'_account_id': 33987}]","[{'number': 1, 'created': '2021-12-06 16:23:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0a9ccf79c9fb91d41657c13d9c9ae7a0871c42cf', 'message': '[rt] Apply migration context for incoming migrations\n\nThere is a race condition between an incoming resize and an\nupdate_available_resource periodic in the resource tracker. The race\nwindow starts when the resize_instance RPC finishes  and ends when the\nfinish_resize compute RPC finally applies the migration context on the\ninstance.\n\nIn the race window, if the update_available_resource periodic is run on\nthe destination node, then it will see the instance as being tracked on\nthis host as the instance.node is already pointing to the dest. But the\ninstance.numa_topology still points to the source host topology as the\nmigration context is not applied yet. This leads to CPU pinning error if\nthe source topology does not fit to the dest topology. Also it stops the\nperiodic task and leaves the tracker in an inconsistent state. The\ninconsistent state only cleanup up after the periodic is run outside of\nthe race window.\n\nThis patch applies the migration context temporarily to the specific\ninstances during the periodic to keep resource accounting correct.\n\nChange-Id: Icaad155e22c9e2d86e464a0deb741c73f0dfb28a\nCloses-Bug: #1953359\n(cherry picked from commit 4ea8787daf8430911a3fc5a792157e2893b5d3eb)\n(cherry picked from commit aadab95510eef599b13039f6a4d7fdd7330b24db)\n'}, {'number': 2, 'created': '2021-12-16 08:31:40.000000000', 'files': ['nova/tests/functional/libvirt/test_numa_servers.py', 'nova/compute/resource_tracker.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/5f2f283a75243d2e2629d3c5f7e5ef4b3994972d', 'message': '[rt] Apply migration context for incoming migrations\n\nThere is a race condition between an incoming resize and an\nupdate_available_resource periodic in the resource tracker. The race\nwindow starts when the resize_instance RPC finishes  and ends when the\nfinish_resize compute RPC finally applies the migration context on the\ninstance.\n\nIn the race window, if the update_available_resource periodic is run on\nthe destination node, then it will see the instance as being tracked on\nthis host as the instance.node is already pointing to the dest. But the\ninstance.numa_topology still points to the source host topology as the\nmigration context is not applied yet. This leads to CPU pinning error if\nthe source topology does not fit to the dest topology. Also it stops the\nperiodic task and leaves the tracker in an inconsistent state. The\ninconsistent state only cleanup up after the periodic is run outside of\nthe race window.\n\nThis patch applies the migration context temporarily to the specific\ninstances during the periodic to keep resource accounting correct.\n\nChange-Id: Icaad155e22c9e2d86e464a0deb741c73f0dfb28a\nCloses-Bug: #1953359\nCloses-Bug: #1952915\n(cherry picked from commit 32c1044d86a8d02712c8e3abdf8b3e4cff234a9c)\n(cherry picked from commit 1235dc324ebc1c6ac6dc94da0f45ffffcc546d2c)\n'}]",29,820555,5f2f283a75243d2e2629d3c5f7e5ef4b3994972d,107,7,2,9708,,,0,"[rt] Apply migration context for incoming migrations

There is a race condition between an incoming resize and an
update_available_resource periodic in the resource tracker. The race
window starts when the resize_instance RPC finishes  and ends when the
finish_resize compute RPC finally applies the migration context on the
instance.

In the race window, if the update_available_resource periodic is run on
the destination node, then it will see the instance as being tracked on
this host as the instance.node is already pointing to the dest. But the
instance.numa_topology still points to the source host topology as the
migration context is not applied yet. This leads to CPU pinning error if
the source topology does not fit to the dest topology. Also it stops the
periodic task and leaves the tracker in an inconsistent state. The
inconsistent state only cleanup up after the periodic is run outside of
the race window.

This patch applies the migration context temporarily to the specific
instances during the periodic to keep resource accounting correct.

Change-Id: Icaad155e22c9e2d86e464a0deb741c73f0dfb28a
Closes-Bug: #1953359
Closes-Bug: #1952915
(cherry picked from commit 32c1044d86a8d02712c8e3abdf8b3e4cff234a9c)
(cherry picked from commit 1235dc324ebc1c6ac6dc94da0f45ffffcc546d2c)
",git fetch https://review.opendev.org/openstack/nova refs/changes/55/820555/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/libvirt/test_numa_servers.py', 'nova/compute/resource_tracker.py']",2,0a9ccf79c9fb91d41657c13d9c9ae7a0871c42cf,bug/1953359," # Check for tracked instances with in-progress, incoming, but not # finished migrations. For those instance the migration context # is not applied yet (it will be during finish_resize when the # migration goes to finished state). We need to manually and # temporary apply the migration context here when the resource usage is # updated. See bug 1953359 for more details. instance_by_uuid = {instance.uuid: instance for instance in instances} for migration in migrations: if ( migration.instance_uuid in instance_by_uuid and migration.dest_compute == self.host and migration.dest_node == nodename ): # we does not check for the 'post-migrating' migration status # as applying the migration context for an instance already # in finished migration status is a no-op anyhow. instance = instance_by_uuid[migration.instance_uuid] LOG.debug( 'Applying migration context for instance %s as it has an ' 'incoming, in-progress migration %s. ' 'Migration status is %s', migration.instance_uuid, migration.uuid, migration.status ) # It is OK not to revert the migration context at the end of # the periodic as the instance is not saved during the periodic instance.apply_migration_context() # Now calculate usage based on instance utilization: instance_by_uuid = self._update_usage_from_instances( context, instances, nodename) "," # Now calculate usage based on instance utilization: instance_by_uuid = self._update_usage_from_instances( context, instances, nodename) ",45,13
openstack%2Fpuppet-magnum~master~I1315b3f38ae52df40c29196e6f2dd92198bd4237,openstack/puppet-magnum,master,I1315b3f38ae52df40c29196e6f2dd92198bd4237,Use generated script instead of app.wsgi,MERGED,2022-02-04 00:14:04.000000000,2022-02-04 16:44:21.000000000,2022-02-04 16:44:21.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-04 00:14:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-magnum/commit/cb71bf9f7a4df7b000d9a324fa46faec1d4bfaa6', 'message': 'Use generated script instead of app.wsgi\n\nChange-Id: I1315b3f38ae52df40c29196e6f2dd92198bd4237\n'}, {'number': 2, 'created': '2022-02-04 01:26:07.000000000', 'files': ['manifests/params.pp', 'spec/classes/magnum_wsgi_apache_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-magnum/commit/760d4dfa0aa08e04c5f8d24ca29465250227846a', 'message': 'Use generated script instead of app.wsgi\n\nChange-Id: I1315b3f38ae52df40c29196e6f2dd92198bd4237\n'}]",0,827780,760d4dfa0aa08e04c5f8d24ca29465250227846a,9,3,2,9816,,,0,"Use generated script instead of app.wsgi

Change-Id: I1315b3f38ae52df40c29196e6f2dd92198bd4237
",git fetch https://review.opendev.org/openstack/puppet-magnum refs/changes/80/827780/2 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/params.pp', 'spec/classes/magnum_wsgi_apache_spec.rb']",2,cb71bf9f7a4df7b000d9a324fa46faec1d4bfaa6,wsgi-script, :wsgi_script_source => 'magnum-api-wsgi' :wsgi_script_source => 'magnum-api-wsgi', :wsgi_script_source => '/usr/lib/python3/dist-packages/magnum/api/app.wsgi' :wsgi_script_source => '/usr/bin/magnum-api-wsgi',3,3
openstack%2Fpuppet-watcher~master~Ie57cff772e13ea0c1c8bbc13d67b29ea8dbcd08d,openstack/puppet-watcher,master,Ie57cff772e13ea0c1c8bbc13d67b29ea8dbcd08d,Use generated script instead of app.wsgi,MERGED,2022-02-03 23:37:34.000000000,2022-02-04 16:40:10.000000000,2022-02-04 16:40:10.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-03 23:37:34.000000000', 'files': ['spec/classes/watcher_wsgi_apache_spec.rb', 'manifests/params.pp'], 'web_link': 'https://opendev.org/openstack/puppet-watcher/commit/b1ab43e98c174f72e426f9a3510c6a1030dfb233', 'message': 'Use generated script instead of app.wsgi\n\nbecause app.wsgi was deprecated by [1].\n\n[1] c1a5e443fee632192af0b4f8488d900bbbba6149\n\nChange-Id: Ie57cff772e13ea0c1c8bbc13d67b29ea8dbcd08d\n'}]",0,827777,b1ab43e98c174f72e426f9a3510c6a1030dfb233,8,3,1,9816,,,0,"Use generated script instead of app.wsgi

because app.wsgi was deprecated by [1].

[1] c1a5e443fee632192af0b4f8488d900bbbba6149

Change-Id: Ie57cff772e13ea0c1c8bbc13d67b29ea8dbcd08d
",git fetch https://review.opendev.org/openstack/puppet-watcher refs/changes/77/827777/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/watcher_wsgi_apache_spec.rb', 'manifests/params.pp']",2,b1ab43e98c174f72e426f9a3510c6a1030dfb233,wsgi-script, $watcher_wsgi_script_source = '/usr/bin/watcher-api-wsgi' $watcher_wsgi_script_source = '/usr/bin/watcher-api-wsgi'," $watcher_wsgi_script_source = ""/usr/lib/python${pyver3}/site-packages/watcher/api/app.wsgi"" if ($::operatingsystem == 'Debian') { $watcher_wsgi_script_source = '/usr/share/watcher-common/app.wsgi' } else { $watcher_wsgi_script_source = '/usr/lib/python3/dist-packages/watcher/api/app.wsgi' }",7,18
openstack%2Fblazar~master~Ic5fa07c4b1fffc763302b07e8a5f6fe0e15e019e,openstack/blazar,master,Ic5fa07c4b1fffc763302b07e8a5f6fe0e15e019e,Delete preemptible instances on reservation start,MERGED,2020-08-31 20:07:21.000000000,2022-02-04 16:35:55.000000000,2022-02-04 16:32:54.000000000,"[{'_account_id': 22348}, {'_account_id': 29100}, {'_account_id': 33582}]","[{'number': 1, 'created': '2020-08-31 20:07:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/9d02ca54be2deb979476558ea62d022ada97ccdf', 'message': 'Delete instances running on reserved hosts when starting reservation\n\nBlueprint: blazar-preemptible-instances\nChange-Id: Ic5fa07c4b1fffc763302b07e8a5f6fe0e15e019e\n'}, {'number': 2, 'created': '2022-02-03 17:17:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/3f613230bea0589b4d69711a93607511180346ff', 'message': 'Delete preemptible instances on reservation start\n\nBlueprint: blazar-preemptible-instances\nChange-Id: Ic5fa07c4b1fffc763302b07e8a5f6fe0e15e019e\n'}, {'number': 3, 'created': '2022-02-03 20:50:35.000000000', 'files': ['blazar/utils/openstack/nova.py', 'blazar/tests/utils/openstack/test_nova.py'], 'web_link': 'https://opendev.org/openstack/blazar/commit/9264905508c821fe64c96b5a4dd1941135ecf2e3', 'message': 'Delete preemptible instances on reservation start\n\nBlueprint: blazar-preemptible-instances\nChange-Id: Ic5fa07c4b1fffc763302b07e8a5f6fe0e15e019e\n'}]",4,749152,9264905508c821fe64c96b5a4dd1941135ecf2e3,15,3,3,15197,,,0,"Delete preemptible instances on reservation start

Blueprint: blazar-preemptible-instances
Change-Id: Ic5fa07c4b1fffc763302b07e8a5f6fe0e15e019e
",git fetch https://review.opendev.org/openstack/blazar refs/changes/52/749152/2 && git format-patch -1 --stdout FETCH_HEAD,['blazar/plugins/oshosts/host_plugin.py'],1,9d02ca54be2deb979476558ea62d022ada97ccdf,preemptibles," for host in hosts: for server in self.nova.servers.list( search_opts={""host"": host, ""all_tenants"": 1}): try: LOG.info('Terminating preemptible instance %s (%s)', server.name, server.id) self.nova.servers.delete(server=server) except nova_exceptions.NotFound: LOG.info('Could not find server %s, may have been deleted ' 'concurrently.', server) except Exception as e: LOG.exception('Failed to delete %s: %s.', server, str(e)) ",,13,0
openstack%2Fpython-tripleoclient~master~I5be7a6ccbd67e1acc4bc829701ab57f55ff6172c,openstack/python-tripleoclient,master,I5be7a6ccbd67e1acc4bc829701ab57f55ff6172c,Adding --mode option to specify the type of ReaR configuration,ABANDONED,2021-06-21 13:37:08.000000000,2022-02-04 16:10:43.000000000,,"[{'_account_id': 7144}, {'_account_id': 8449}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 22954}, {'_account_id': 32968}]","[{'number': 1, 'created': '2021-06-21 13:37:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/4929da0e11508b2e5623a0066d7075b8d1958bc5', 'message': ""Adding --mode option for setup-rear\n\n- '--mode' option was added to specify which type of configuration\n  to be used while setting up ReaR on the controllers. This will\n  overwrite the tripleo_backup_and_restore_mode. If '--mode' is\n  not used tripleo_backup_and_restore_mode defaults to NFS to keep\n  original functionality. Options avaliable currently are: NFS and\n  PXE.\n\nDepends-on: I1b712b57941c328681d23273f669bba83c163d7c\nChange-Id: I5be7a6ccbd67e1acc4bc829701ab57f55ff6172c\n""}, {'number': 2, 'created': '2021-06-21 13:41:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/2bf3dd2344fd66a97a43ed2f36b9d8e3d82bb4cc', 'message': ""Adding --mode option to specify the type of ReaR configuration\n\n- '--mode' option was added to specify which type of configuration\n  to be used while setting up ReaR on the controllers when running\n  '--init rear' or '--setup-rear'. This will overwrite the\n  tripleo_backup_and_restore_mode. If '--mode' is not used\n  tripleo_backup_and_restore_mode defaults to NFS to keep\n  original functionality. Options avaliable currently are: NFS and\n  PXE.\n\nDepends-on: I1b712b57941c328681d23273f669bba83c163d7c\nChange-Id: I5be7a6ccbd67e1acc4bc829701ab57f55ff6172c\n""}, {'number': 3, 'created': '2021-06-21 13:42:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/0efbaf032fe829c4241688970c24182f867a14fd', 'message': ""Adding --mode option to specify the type of ReaR configuration\n\n- '--mode' option was added to specify which type of configuration\n  to be used while setting up ReaR on the controllers when running\n  '--init rear' or '--setup-rear'. This will overwrite the\n  tripleo_backup_and_restore_mode. If '--mode' is not used\n  tripleo_backup_and_restore_mode defaults to NFS to keep\n  original functionality. Options available currently are: NFS and\n  PXE.\n\nDepends-on: I1b712b57941c328681d23273f669bba83c163d7c\nChange-Id: I5be7a6ccbd67e1acc4bc829701ab57f55ff6172c\n""}, {'number': 4, 'created': '2021-07-02 14:23:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/eaf5728429b86006d62359ce543c3e0c710daaeb', 'message': ""Adding --mode option to specify the type of ReaR configuration\n\n- '--mode' option was added to specify which type of configuration\n  to be used while setting up ReaR on the controllers when running\n  '--init rear' or '--setup-rear'. This will overwrite the\n  tripleo_backup_and_restore_mode. If '--mode' is not used\n  tripleo_backup_and_restore_mode defaults to NFS to keep\n  original functionality. Options available currently are: NFS and\n  PXE.\n\n- '--mode' option can also be used with '--setup-nfs' in order\n  to configure the BackupNode or Undercloud. If '--mode' is\n  not used it will execute 'prepare-nfs-backup.yaml',i which is\n  the same behaviour as using NFS as argument. eg. '--mode NFS'.\n  On the other hand, '--mode PXE' will execute 'prepare-nfs-pxe.yaml'\n  and add an extra var to change the\n  tripleo_backup_and_restore_nfs_storage_folder to /var/lib/ironic/tftpboot\n\nDepends-on: I1b712b57941c328681d23273f669bba83c163d7c\nChange-Id: I5be7a6ccbd67e1acc4bc829701ab57f55ff6172c\n""}, {'number': 5, 'created': '2021-07-02 14:29:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/5d0a0a810404c57b8de490ec8c53c11b27a22f1a', 'message': ""Adding --mode option to specify the type of ReaR configuration\n\n- '--mode' option was added to specify which type of configuration\n  to be used while setting up ReaR on the controllers when running\n  '--init rear' or '--setup-rear'. This will overwrite the\n  tripleo_backup_and_restore_mode. If '--mode' is not used\n  tripleo_backup_and_restore_mode defaults to NFS to keep\n  original functionality. Options available currently are: NFS and\n  PXE.\n\n- '--mode' option can also be used with '--setup-nfs' in order\n  to configure the BackupNode or Undercloud. If '--mode' is\n  not used it will execute 'prepare-nfs-backup.yaml', which is\n  the same behaviour as using NFS as argument. eg. '--mode NFS'.\n  On the other hand, '--mode PXE' will execute 'prepare-nfs-pxe.yaml'\n  and add an extra var to change the\n  tripleo_backup_and_restore_nfs_storage_folder to /var/lib/ironic/tftpboot\n\nDepends-on: I1b712b57941c328681d23273f669bba83c163d7c\nChange-Id: I5be7a6ccbd67e1acc4bc829701ab57f55ff6172c\n""}, {'number': 6, 'created': '2021-07-23 18:19:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/ebfc9faf88033a7402f37b99efdc68a35f51f473', 'message': ""Adding --mode option to specify the type of ReaR configuration\n\n- '--mode' option was added to specify which type of configuration\n  to be used while setting up ReaR on the controllers when running\n  '--init rear' or '--setup-rear'. This will overwrite the\n  tripleo_backup_and_restore_mode. If '--mode' is not used\n  tripleo_backup_and_restore_mode defaults to nfs to keep\n  original functionality. Options available currently are: nfs and\n  pxe.\n\n- '--mode' option can also be used with '--setup-nfs' in order\n  to configure the BackupNode or Undercloud. If '--mode' is\n  not used it will execute 'prepare-nfs-backup.yaml', which is\n  the same behaviour as using nfs as argument. eg. '--mode nfs'.\n  On the other hand, '--mode pxe' will execute 'prepare-nfs-pxe.yaml'\n  and add an extra var to change the\n  tripleo_backup_and_restore_nfs_storage_folder to /var/lib/ironic/tftpboot\n\nDepends-on: I1b712b57941c328681d23273f669bba83c163d7c\nChange-Id: I5be7a6ccbd67e1acc4bc829701ab57f55ff6172c\n""}, {'number': 7, 'created': '2021-08-02 12:40:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/4a4fba3b5d24efbeaa20ca3997d148ab90b49599', 'message': ""Adding --mode option to specify the type of ReaR configuration\n\n- '--mode' option was added to specify which type of configuration\n  to be used while setting up ReaR on the controllers when running\n  '--init rear' or '--setup-rear'. This will overwrite the\n  tripleo_backup_and_restore_mode. If '--mode' is not used\n  tripleo_backup_and_restore_mode defaults to nfs to keep\n  original functionality. Options available currently are: nfs and\n  pxe.\n\n- '--mode' option can also be used with '--setup-nfs' in order\n  to configure the BackupNode or Undercloud. If '--mode' is\n  not used it will execute 'prepare-nfs-backup.yaml', which is\n  the same behaviour as using nfs as argument. eg. '--mode nfs'.\n  On the other hand, '--mode pxe' will execute 'prepare-nfs-pxe.yaml'.\n\nDepends-on: I1b712b57941c328681d23273f669bba83c163d7c\nChange-Id: I5be7a6ccbd67e1acc4bc829701ab57f55ff6172c\n""}, {'number': 8, 'created': '2021-08-02 15:21:12.000000000', 'files': ['tripleoclient/tests/v1/overcloud_backup/test_backup.py', 'tripleoclient/v1/overcloud_backup.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/3f41bb4baa75db01f898ff3e0e3b81f825dfd127', 'message': ""Adding --mode option to specify the type of ReaR configuration\n\n- '--mode' option was added to specify which type of configuration\n  to be used while setting up ReaR on the controllers when running\n  '--init rear' or '--setup-rear'. This will overwrite the\n  tripleo_backup_and_restore_mode. If '--mode' is not used\n  tripleo_backup_and_restore_mode defaults to nfs to keep\n  original functionality. Options available currently are: nfs and\n  pxe.\n\n- '--mode' option can also be used with '--setup-nfs' in order\n  to configure the BackupNode or Undercloud. If '--mode' is\n  not used it will execute 'prepare-nfs-backup.yaml', which is\n  the same behaviour as using nfs as argument. eg. '--mode nfs'.\n  On the other hand, '--mode pxe' will execute 'prepare-nfs-pxe.yaml'.\n\nDepends-on: I1b712b57941c328681d23273f669bba83c163d7c\nChange-Id: I5be7a6ccbd67e1acc4bc829701ab57f55ff6172c\n""}]",8,797314,3f41bb4baa75db01f898ff3e0e3b81f825dfd127,24,6,8,32728,,,0,"Adding --mode option to specify the type of ReaR configuration

- '--mode' option was added to specify which type of configuration
  to be used while setting up ReaR on the controllers when running
  '--init rear' or '--setup-rear'. This will overwrite the
  tripleo_backup_and_restore_mode. If '--mode' is not used
  tripleo_backup_and_restore_mode defaults to nfs to keep
  original functionality. Options available currently are: nfs and
  pxe.

- '--mode' option can also be used with '--setup-nfs' in order
  to configure the BackupNode or Undercloud. If '--mode' is
  not used it will execute 'prepare-nfs-backup.yaml', which is
  the same behaviour as using nfs as argument. eg. '--mode nfs'.
  On the other hand, '--mode pxe' will execute 'prepare-nfs-pxe.yaml'.

Depends-on: I1b712b57941c328681d23273f669bba83c163d7c
Change-Id: I5be7a6ccbd67e1acc4bc829701ab57f55ff6172c
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/14/797314/4 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/tests/v1/overcloud_backup/test_backup.py', 'tripleoclient/v1/overcloud_backup.py']",2,4929da0e11508b2e5623a0066d7075b8d1958bc5,change-797314-6," '--mode', choices=['NFS', 'PXE'], action='store', help=(""Setup backup mode to be used for ReaR configuration. "" ""This overwrites tripleo_backup_and_restore_mode with "" ""the value specified. This variable defaults to 'NFS' if "" ""'--mode' is not used. "" ""Available options: NFS and PXE."") ) parser.add_argument( if parsed_args.mode: backup_mode = parsed_args.mode extra_vars['tripleo_backup_and_restore_mode'] = backup_mode ",,48,0
openstack%2Fblazar-dashboard~master~I80026407ab537b7967ccbd2965d66f40018c4c0e,openstack/blazar-dashboard,master,I80026407ab537b7967ccbd2965d66f40018c4c0e,Add documentation for configuring availability calendar,MERGED,2022-01-28 17:54:10.000000000,2022-02-04 16:06:25.000000000,2022-02-04 16:04:31.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 29100}]","[{'number': 1, 'created': '2022-01-28 17:54:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar-dashboard/commit/f45d87f4c481365c300a709092b9d6cbdfde7932', 'message': 'Add documentation for configuring availability calendar\n\nThis adds documentation explaining how to enable, configure the\ncalendar attribute, and what permissions are needed to use the\ncalendar.\n\nChange-Id: I80026407ab537b7967ccbd2965d66f40018c4c0e\n'}, {'number': 2, 'created': '2022-01-31 16:03:51.000000000', 'files': ['doc/source/index.rst', 'doc/source/calendar.rst'], 'web_link': 'https://opendev.org/openstack/blazar-dashboard/commit/96b3921d7780c5f0a40a4b84152e98efbc66e0fe', 'message': 'Add documentation for configuring availability calendar\n\nThis adds documentation explaining how to enable, configure the\ncalendar attribute, and what permissions are needed to use the\ncalendar.\n\nChange-Id: I80026407ab537b7967ccbd2965d66f40018c4c0e\n'}]",4,826926,96b3921d7780c5f0a40a4b84152e98efbc66e0fe,12,3,2,33582,,,0,"Add documentation for configuring availability calendar

This adds documentation explaining how to enable, configure the
calendar attribute, and what permissions are needed to use the
calendar.

Change-Id: I80026407ab537b7967ccbd2965d66f40018c4c0e
",git fetch https://review.opendev.org/openstack/blazar-dashboard refs/changes/26/826926/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/index.rst', 'doc/source/calendar.rst']",2,f45d87f4c481365c300a709092b9d6cbdfde7932,calendar_docs,"============================== Resource Availability Calendar ============================== Blazar Dashboard features a resource availability calendar that displays a timeline of resources, showing when each resource is reserved. Currently, physical hosts are the only supported resource type. Configuration ============= In the Horizon settings, the option ``OPENSTACK_BLAZAR_HOST_RESERVATION`` can be configured. .. sourcecode:: OPENSTACK_BLAZAR_HOST_RESERVATION = { 'enabled': True, 'calendar_attribute': 'hypervisor_hostname', } .. If ``enabled`` is ``True``, the host calendar will be enabled. The option ``calendar_attribute`` is used to label each row of the calendar. By default, it uses the ``hypervisor_hostname`` attribute of a host. If the host has resource properties set, they could also be used. In order to be able to view the calendar, a user needs permission for ``""blazar:oshosts:get`` and ``blazar:oshosts:get_allocations``. ",,37,0
openstack%2Fneutron~stable%2Fwallaby~Id127675793cfd3b9d4e7e328fde64f8595c7b00d,openstack/neutron,stable/wallaby,Id127675793cfd3b9d4e7e328fde64f8595c7b00d,Update irrelevant-files for non scenario jobs,MERGED,2022-01-28 05:35:24.000000000,2022-02-04 15:55:50.000000000,2022-02-04 15:43:18.000000000,"[{'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-28 05:35:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/20d991199bf40857f19a42acdc05b560ef4330c8', 'message': 'Update irrelevant-files for non scenario jobs\n\nUpdate irrelevant-files for non scenario jobs to\navoid unnecessary jobs, like skip ovs/linuxbridge\njobs on ovn related changes, same for non-ovn jobs.\n\nAlso skip running these jobs on functional and\nfullstack tests changes.\n\nChange-Id: Id127675793cfd3b9d4e7e328fde64f8595c7b00d\n(cherry picked from commit 722fca928dc7e04705bc148e40135064d6566e8d)\n'}, {'number': 2, 'created': '2022-02-04 05:12:09.000000000', 'files': ['zuul.d/tempest-multinode.yaml', 'zuul.d/rally.yaml', 'zuul.d/tempest-singlenode.yaml', 'zuul.d/grenade.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/859726bc38bd6e5c253517fbc2a68f6557a78be9', 'message': 'Update irrelevant-files for non scenario jobs\n\nUpdate irrelevant-files for non scenario jobs to\navoid unnecessary jobs, like skip ovs/linuxbridge\njobs on ovn related changes, same for non-ovn jobs.\n\nAlso skip running these jobs on functional and\nfullstack tests changes.\n\nChange-Id: Id127675793cfd3b9d4e7e328fde64f8595c7b00d\n(cherry picked from commit 722fca928dc7e04705bc148e40135064d6566e8d)\n'}]",4,826830,859726bc38bd6e5c253517fbc2a68f6557a78be9,35,5,2,13861,,,0,"Update irrelevant-files for non scenario jobs

Update irrelevant-files for non scenario jobs to
avoid unnecessary jobs, like skip ovs/linuxbridge
jobs on ovn related changes, same for non-ovn jobs.

Also skip running these jobs on functional and
fullstack tests changes.

Change-Id: Id127675793cfd3b9d4e7e328fde64f8595c7b00d
(cherry picked from commit 722fca928dc7e04705bc148e40135064d6566e8d)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/30/826830/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/tempest-multinode.yaml', 'zuul.d/rally.yaml', 'zuul.d/tempest-singlenode.yaml', 'zuul.d/grenade.yaml']",4,20d991199bf40857f19a42acdc05b560ef4330c8,neutron-ci-improvements, - ^neutron/services/ovn_l3/.*$ - ^neutron/services/logapi/drivers/ovn/.*$ - ^neutron/services/portforwarding/drivers/ovn/.*$ - ^neutron/services/qos/drivers/linuxbridge/.*$ - ^neutron/services/qos/drivers/ovn/.*$ - ^neutron/services/trunk/drivers/linuxbridge/.*$ - ^neutron/services/trunk/drivers/ovn/.*$ - ^neutron/cmd/ovn/.*$ - ^neutron/common/ovn/.*$ - ^neutron/services/qos/drivers/linuxbridge/.*$ - ^neutron/services/qos/drivers/openvswitch/.*$ - ^neutron/services/trunk/drivers/linuxbridge/.*$ - ^neutron/services/trunk/drivers/openvswitch/.*$,,66,4
openstack%2Ftripleo-ansible~master~I1b712b57941c328681d23273f669bba83c163d7c,openstack/tripleo-ansible,master,I1b712b57941c328681d23273f669bba83c163d7c,Add backup and restore mode for ReaR configuration,ABANDONED,2021-06-18 09:29:51.000000000,2022-02-04 15:55:50.000000000,,"[{'_account_id': 7353}, {'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 22865}, {'_account_id': 22954}, {'_account_id': 23181}, {'_account_id': 32968}]","[{'number': 1, 'created': '2021-06-18 09:29:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/9fc32c45789908d83712f01c190ea3eccc509d78', 'message': '[WIP] Add backup and restore mode for ReaR configuration\n\n- Adding tripleo_backup_and_restore_mode to defaults/main.yaml\n  for determine which configuration to use: PXE of NFS.\n  Defaults to NFS, original behaviour.\n- Modifying defaults/main.yaml tripleo_backup_and_restore_local_config to\n  tripleo_backup_and_restore_local_config_nfs and adding\n  tripleo_backup_and_restore_local_config_pxe, which are the dictionary\n  used for configuring local.conf\n- Modifying templates/local.conf.j2 for configuring ReaR depending on\n  the mode NFS or PXE.\n\nChange-Id: I1b712b57941c328681d23273f669bba83c163d7c\n'}, {'number': 2, 'created': '2021-06-23 11:12:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/2e9acc21f4b507a8ad05d44100b2b459f18f887b', 'message': '[WIP] Add backup and restore mode for ReaR configuration\n\n- Adding tripleo_backup_and_restore_mode to defaults/main.yaml\n  for determine which configuration to use: PXE of NFS.\n  Defaults to NFS, original behaviour.\n- Modifying defaults/main.yaml tripleo_backup_and_restore_local_config to\n  tripleo_backup_and_restore_local_config_nfs and adding\n  tripleo_backup_and_restore_local_config_pxe, which are the dictionary\n  used for configuring local.conf\n- Modifying templates/local.conf.j2 for configuring ReaR depending on\n  the mode NFS or PXE.\n\nChange-Id: I1b712b57941c328681d23273f669bba83c163d7c\n'}, {'number': 3, 'created': '2021-06-23 12:07:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/8bdb8203dfb92c932797c4412d107846425e4c9a', 'message': 'Add backup and restore mode for ReaR configuration\n\n- Adding tripleo_backup_and_restore_mode to defaults/main.yaml\n  for determine which configuration to use: PXE of NFS.\n  Defaults to NFS, original behaviour.\n- Modifying defaults/main.yaml tripleo_backup_and_restore_local_config to\n  tripleo_backup_and_restore_local_config_nfs and adding\n  tripleo_backup_and_restore_local_config_pxe, which are the dictionary\n  used for configuring local.conf\n- Modifying templates/local.conf.j2 for configuring ReaR depending on\n  the mode NFS or PXE.\n\nChange-Id: I1b712b57941c328681d23273f669bba83c163d7c\n'}, {'number': 4, 'created': '2021-06-23 12:28:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/4366bd852d769adbb2952c95c07a41a83c114998', 'message': 'Add backup and restore mode for ReaR configuration\n\n- Adding tripleo_backup_and_restore_mode to defaults/main.yaml\n  for determine which configuration to use: PXE of NFS.\n  Defaults to NFS, original behaviour.\n- Modifying defaults/main.yaml tripleo_backup_and_restore_local_config to\n  tripleo_backup_and_restore_local_config_nfs and adding\n  tripleo_backup_and_restore_local_config_pxe, which are the dictionary\n  used for configuring local.conf\n- Modifying templates/local.conf.j2 for configuring ReaR depending on\n  the mode NFS or PXE.\n\nChange-Id: I1b712b57941c328681d23273f669bba83c163d7c\n'}, {'number': 5, 'created': '2021-06-29 18:25:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/91eaa47b812d99f150d795f4d67ee6972800b2fc', 'message': 'Add backup and restore mode for ReaR configuration\n\n- Adding tripleo_backup_and_restore_mode to defaults/main.yaml\n  for determine which configuration to use: PXE of NFS.\n  Defaults to NFS, original behaviour.\n- Modifying defaults/main.yaml tripleo_backup_and_restore_local_config to\n  tripleo_backup_and_restore_local_config_nfs and adding\n  tripleo_backup_and_restore_local_config_pxe, which are the dictionary\n  used for configuring local.conf\n- Modifying templates/local.conf.j2 for configuring ReaR depending on\n  the mode NFS or PXE.\n\nChange-Id: I1b712b57941c328681d23273f669bba83c163d7c\n'}, {'number': 6, 'created': '2021-07-02 11:21:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/f22121f737603d6c1d6d8544de94df2767f69357', 'message': 'Add backup and restore mode for ReaR configuration\n\n- Adding tripleo_backup_and_restore_mode to defaults/main.yaml\n  for determine which configuration to use: PXE of NFS.\n  Defaults to NFS, original behaviour.\n- Adding tripleo_backup_and_restore_output_server, tripleo_backup_and_restore_pxe_output_folder\n  and tripleo_backup_and_restore_output_url_pxe to defaults/main.yaml for defining the\n  OUTPUT_URL for PXE ReaR configuration. This will allow to copy the kernel and ramdisk\n  to the Undercloud for automating the restoration.\n- Adding tripleo_backup_and_restore_user_timeout to defaults/main.yaml for defining the\n  timeout before using the default option if a user prompt is required during the\n  restoration.\n- Modifying defaults/main.yaml tripleo_backup_and_restore_local_config to\n  tripleo_backup_and_restore_local_config_nfs and adding\n  tripleo_backup_and_restore_local_config_pxe, which are the dictionary\n  used for configuring local.conf\n- Modifying templates/local.conf.j2 for configuring ReaR depending on\n  the mode NFS or PXE.\n- Adding tripleo_backup_and_restore_network_preparation_commands to defaults/main.yaml\n  for defining the commands to be run for preparing the network during the\n  restoration phase. Because ReaR does not support ovs, it is required to setup\n  the network for connecting to the backup node.\n\nChange-Id: I1b712b57941c328681d23273f669bba83c163d7c\n'}, {'number': 7, 'created': '2021-07-02 11:31:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/9b47a4808c43878e3fdeb431653de4b98e473922', 'message': 'Add backup and restore mode for ReaR configuration\n\n- Adding tripleo_backup_and_restore_mode to defaults/main.yaml\n  for determine which configuration to use: PXE of NFS.\n  Defaults to NFS, original behaviour.\n- Adding tripleo_backup_and_restore_output_server, tripleo_backup_and_restore_pxe_output_folder\n  and tripleo_backup_and_restore_output_url_pxe to defaults/main.yaml for defining the\n  OUTPUT_URL for PXE ReaR configuration. This will allow to copy the kernel and ramdisk\n  to the Undercloud for automating the restoration.\n- Adding tripleo_backup_and_restore_user_timeout to defaults/main.yaml for defining the\n  timeout before using the default option if a user prompt is required during the\n  restoration.\n- Modifying defaults/main.yaml tripleo_backup_and_restore_local_config to\n  tripleo_backup_and_restore_local_config_nfs and adding\n  tripleo_backup_and_restore_local_config_pxe, which are the dictionary\n  used for configuring local.conf\n- Modifying templates/local.conf.j2 for configuring ReaR depending on\n  the mode NFS or PXE.\n- Adding tripleo_backup_and_restore_network_preparation_commands to defaults/main.yaml\n  for defining the commands to be run for preparing the network during the\n  restoration phase. Because ReaR does not support ovs, it is required to setup\n  the network for connecting to the backup node.\n\nChange-Id: I1b712b57941c328681d23273f669bba83c163d7c\n'}, {'number': 8, 'created': '2021-07-02 13:17:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/470d07b42e88849d14b2d9f686abcb0da245a243', 'message': 'Add backup and restore mode for ReaR configuration\n\n- Adding tripleo_backup_and_restore_mode to defaults/main.yaml\n  for determine which configuration to use: PXE of NFS.\n  Defaults to NFS, original behaviour.\n- Adding tripleo_backup_and_restore_output_server,\n  tripleo_backup_and_restore_pxe_output_folder and\n  tripleo_backup_and_restore_output_url_pxe to\n  defaults/main.yaml for defining the OUTPUT_URL\n  for PXE ReaR configuration. This will allow to\n  copy the kernel and ramdisk to the Undercloud\n  for automating the restoration.\n- Adding tripleo_backup_and_restore_user_timeout\n  to defaults/main.yaml for defining the timeout\n  before using the default option if a user prompt\n  is required during the restoration.\n- Modifying defaults/main.yaml\n  tripleo_backup_and_restore_local_config to\n  tripleo_backup_and_restore_local_config_nfs\n  and adding tripleo_backup_and_restore_local_config_pxe,\n  which are the dictionary used for configuring local.conf\n- Modifying templates/local.conf.j2 for configuring\n  ReaR depending on the mode NFS or PXE.\n- Adding tripleo_backup_and_restore_network_preparation_commands\n  to defaults/main.yaml for defining the commands\n  to be run for preparing the network during the\n  restoration phase. Because ReaR does not support\n  ovs, it is required to setup the network for\n  connecting to the backup node.\n- Adding prepare-nfs-pxe for setting up and\n  configuring NFS on the Undercloud to copy the\n  ramdisk and kernel.\n\nChange-Id: I1b712b57941c328681d23273f669bba83c163d7c\n'}, {'number': 9, 'created': '2021-07-06 08:15:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/188d7763fe91aca672814b843f51d5b290e79b2f', 'message': 'Add backup and restore mode for ReaR configuration\n\n- Adding tripleo_backup_and_restore_mode to defaults/main.yaml\n  for determine which configuration to use: PXE of NFS.\n  Defaults to NFS, original behaviour.\n- Adding tripleo_backup_and_restore_output_server,\n  tripleo_backup_and_restore_pxe_output_folder and\n  tripleo_backup_and_restore_output_url_pxe to\n  defaults/main.yaml for defining the OUTPUT_URL\n  for PXE ReaR configuration. This will allow to\n  copy the kernel and ramdisk to the Undercloud\n  for automating the restoration.\n- Adding tripleo_backup_and_restore_user_timeout\n  to defaults/main.yaml for defining the timeout\n  before using the default option if a user prompt\n  is required during the restoration.\n- Modifying defaults/main.yaml\n  tripleo_backup_and_restore_local_config to\n  tripleo_backup_and_restore_local_config_nfs\n  and adding tripleo_backup_and_restore_local_config_pxe,\n  which are the dictionary used for configuring local.conf\n- Modifying templates/local.conf.j2 for configuring\n  ReaR depending on the mode NFS or PXE.\n- Adding tripleo_backup_and_restore_network_preparation_commands\n  to defaults/main.yaml for defining the commands\n  to be run for preparing the network during the\n  restoration phase. Because ReaR does not support\n  ovs, it is required to setup the network for\n  connecting to the backup node.\n- Adding prepare-nfs-pxe for setting up and\n  configuring NFS on the Undercloud to copy the\n  ramdisk and kernel.\n\nChange-Id: I1b712b57941c328681d23273f669bba83c163d7c\n'}, {'number': 10, 'created': '2021-07-16 13:04:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/a4130fa73500465a70e8898a7f1b12f20ef88b02', 'message': ""Add backup and restore mode for ReaR configuration\n\n- Adding tripleo_backup_and_restore_mode to defaults/main.yaml\n  for determine which configuration to use: PXE of NFS.\n  Defaults to NFS, original behaviour.\n- Adding tripleo_backup_and_restore_output_server,\n  tripleo_backup_and_restore_pxe_output_folder and\n  tripleo_backup_and_restore_output_url_pxe to\n  defaults/main.yaml for defining the OUTPUT_URL\n  for PXE ReaR configuration. This will allow to\n  copy the kernel and ramdisk to the Undercloud\n  for automating the restoration.\n- Adding tripleo_backup_and_restore_user_timeout\n  to defaults/main.yaml for defining the timeout\n  before using the default option if a user prompt\n  is required during the restoration.\n- Modifying defaults/main.yaml\n  tripleo_backup_and_restore_local_config to\n  tripleo_backup_and_restore_local_config_nfs\n  and adding tripleo_backup_and_restore_local_config_pxe,\n  which are the dictionary used for configuring local.conf\n- Modifying templates/local.conf.j2 for configuring\n  ReaR depending on the mode NFS or PXE.\n- Adding tripleo_backup_and_restore_network_preparation_commands\n  to defaults/main.yaml for defining the commands\n  to be run for preparing the network during the\n  restoration phase. Because ReaR does not support\n  ovs, it is required to setup the network for\n  connecting to the backup node.\n- Adding prepare-nfs-pxe for setting up and\n  configuring NFS on the Undercloud to copy the\n  ramdisk and kernel.\n- OUTPUT_URL extract executed when\n  tripleo_backup_and_restore_mode != 'PXE'\n\nChange-Id: I1b712b57941c328681d23273f669bba83c163d7c\n""}, {'number': 11, 'created': '2021-07-19 10:20:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/7a06f7c1ab973d52fccd27dfc8c728157a1119d6', 'message': ""Add backup and restore mode for ReaR configuration\n\n- Adding tripleo_backup_and_restore_mode to defaults/main.yaml\n  for determine which configuration to use: PXE of NFS.\n  Defaults to NFS, original behaviour.\n- Adding tripleo_backup_and_restore_output_server,\n  tripleo_backup_and_restore_pxe_output_folder and\n  tripleo_backup_and_restore_output_url_pxe to\n  defaults/main.yaml for defining the OUTPUT_URL\n  for PXE ReaR configuration. This will allow to\n  copy the kernel and ramdisk to the Undercloud\n  for automating the restoration.\n- Adding tripleo_backup_and_restore_user_timeout\n  to defaults/main.yaml for defining the timeout\n  before using the default option if a user prompt\n  is required during the restoration.\n- Modifying defaults/main.yaml\n  tripleo_backup_and_restore_local_config to\n  tripleo_backup_and_restore_local_config_nfs\n  and adding tripleo_backup_and_restore_local_config_pxe,\n  which are the dictionary used for configuring local.conf\n- Modifying templates/local.conf.j2 for configuring\n  ReaR depending on the mode NFS or PXE.\n- Adding tripleo_backup_and_restore_network_preparation_commands\n  to defaults/main.yaml for defining the commands\n  to be run for preparing the network during the\n  restoration phase. Because ReaR does not support\n  ovs, it is required to setup the network for\n  connecting to the backup node.\n- Adding prepare-nfs-pxe for setting up and\n  configuring NFS on the Undercloud to copy the\n  ramdisk and kernel.\n- OUTPUT_URL extract executed when\n  tripleo_backup_and_restore_mode != 'PXE'\n\nChange-Id: I1b712b57941c328681d23273f669bba83c163d7c\n""}, {'number': 12, 'created': '2021-07-19 11:09:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/c7c3c25f1e2a640c95d9f9e04daecc1d255256bc', 'message': ""Add backup and restore mode for ReaR configuration\n\n- Adding tripleo_backup_and_restore_mode to defaults/main.yaml\n  for determine which configuration to use: PXE of NFS.\n  Defaults to NFS, original behaviour.\n- Adding tripleo_backup_and_restore_output_server,\n  tripleo_backup_and_restore_pxe_output_folder and\n  tripleo_backup_and_restore_pxe_output_url to\n  defaults/main.yaml for defining the OUTPUT_URL\n  for PXE ReaR configuration. This will allow to\n  copy the kernel and ramdisk to the Undercloud\n  for automating the restoration.\n- Adding tripleo_backup_and_restore_user_timeout\n  to defaults/main.yaml for defining the timeout\n  before using the default option if a user prompt\n  is required during the restoration.\n- Adding tripleo_backup_and_restore_pxe_local_config,\n  which are the dictionary used for configuring local.conf\n- Modifying templates/local.conf.j2 for configuring\n  ReaR depending on the mode NFS or PXE.\n- Adding tripleo_backup_and_restore_network_preparation_commands\n  to defaults/main.yaml for defining the commands\n  to be run for preparing the network during the\n  restoration phase. Because ReaR does not support\n  ovs, it is required to setup the network for\n  connecting to the backup node.\n- Adding prepare-nfs-pxe.yaml for setting up and\n  configuring NFS on the Undercloud to copy the\n  ramdisk and kernel.\n- OUTPUT_URL extract executed when\n  tripleo_backup_and_restore_mode != 'PXE'\n\nChange-Id: I1b712b57941c328681d23273f669bba83c163d7c\n""}, {'number': 13, 'created': '2021-07-20 09:35:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/d636ebe95a45071443b5b77189a7caef4d2a6fb9', 'message': ""Add backup and restore mode for ReaR configuration\n\n- Adding tripleo_backup_and_restore_mode to defaults/main.yaml\n  for determine which configuration to use: PXE of NFS.\n  Defaults to NFS, original behaviour.\n- Adding tripleo_backup_and_restore_output_server,\n  tripleo_backup_and_restore_pxe_output_folder and\n  tripleo_backup_and_restore_pxe_output_url to\n  defaults/main.yaml for defining the OUTPUT_URL\n  for PXE ReaR configuration. This will allow to\n  copy the kernel and ramdisk to the Undercloud\n  for automating the restoration.\n- Adding tripleo_backup_and_restore_user_timeout\n  to defaults/main.yaml for defining the timeout\n  before using the default option if a user prompt\n  is required during the restoration.\n- Adding tripleo_backup_and_restore_pxe_local_config,\n  which are the dictionary used for configuring local.conf\n- Modifying templates/local.conf.j2 for configuring\n  ReaR depending on the mode NFS or PXE.\n- Adding tripleo_backup_and_restore_network_preparation_commands\n  to defaults/main.yaml for defining the commands\n  to be run for preparing the network during the\n  restoration phase. Because ReaR does not support\n  ovs, it is required to setup the network for\n  connecting to the backup node.\n- Adding prepare-nfs-pxe.yaml for setting up and\n  configuring NFS on the Undercloud to copy the\n  ramdisk and kernel.\n- OUTPUT_URL extract executed when\n  tripleo_backup_and_restore_mode != 'PXE'\n\nChange-Id: I1b712b57941c328681d23273f669bba83c163d7c\n""}, {'number': 14, 'created': '2021-07-23 18:31:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/6f131eae8c4f0f5c13746851d75a5c73bae07e03', 'message': ""Add backup and restore mode for ReaR configuration\n\n- Adding tripleo_backup_and_restore_mode to defaults/main.yaml\n  for determine which configuration to use: PXE of NFS.\n  Defaults to NFS, original behaviour.\n- Adding tripleo_backup_and_restore_output_server,\n  tripleo_backup_and_restore_pxe_storage_folder and\n  tripleo_backup_and_restore_pxe_output_url to\n  defaults/main.yaml for defining the OUTPUT_URL\n  for PXE ReaR configuration. This will allow to\n  copy the kernel and ramdisk to the Undercloud\n  for automating the restoration.\n- Adding tripleo_backup_and_restore_user_timeout\n  to defaults/main.yaml for defining the timeout\n  before using the default option if a user prompt\n  is required during the restoration.\n- Adding tripleo_backup_and_restore_pxe_local_config,\n  which are the dictionary used for configuring local.conf\n- Modifying templates/local.conf.j2 for configuring\n  ReaR depending on the mode NFS or PXE.\n- Adding tripleo_backup_and_restore_network_preparation_commands\n  to defaults/main.yaml for defining the commands\n  to be run for preparing the network during the\n  restoration phase. Because ReaR does not support\n  ovs, it is required to setup the network for\n  connecting to the backup node.\n- Adding prepare-nfs-pxe.yaml for setting up and\n  configuring NFS on the Undercloud to copy the\n  ramdisk and kernel.\n- OUTPUT_URL extract executed when\n  tripleo_backup_and_restore_mode != 'PXE'\n- setup_nfs.yml modified for configuring /etc/exports\n  when using pxe.\n\nChange-Id: I1b712b57941c328681d23273f669bba83c163d7c\n""}, {'number': 15, 'created': '2021-07-26 11:27:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/584e0321ab051b945e769bdb32711b9d9897df8a', 'message': ""Add backup and restore mode for ReaR configuration\n\n- Adding tripleo_backup_and_restore_mode to defaults/main.yaml\n  for determine which configuration to use: PXE of NFS.\n  Defaults to NFS, original behaviour.\n- Adding tripleo_backup_and_restore_output_server,\n  tripleo_backup_and_restore_pxe_storage_folder and\n  tripleo_backup_and_restore_pxe_output_url to\n  defaults/main.yaml for defining the OUTPUT_URL\n  for PXE ReaR configuration. This will allow to\n  copy the kernel and ramdisk to the Undercloud\n  for automating the restoration.\n- Adding tripleo_backup_and_restore_user_timeout\n  to defaults/main.yaml for defining the timeout\n  before using the default option if a user prompt\n  is required during the restoration.\n- Adding tripleo_backup_and_restore_pxe_local_config,\n  which are the dictionary used for configuring local.conf\n- Modifying templates/local.conf.j2 for configuring\n  ReaR depending on the mode NFS or PXE.\n- Adding tripleo_backup_and_restore_network_preparation_commands\n  to defaults/main.yaml for defining the commands\n  to be run for preparing the network during the\n  restoration phase. Because ReaR does not support\n  ovs, it is required to setup the network for\n  connecting to the backup node.\n- Adding prepare-nfs-pxe.yaml for setting up and\n  configuring NFS on the Undercloud to copy the\n  ramdisk and kernel.\n- OUTPUT_URL extract executed when\n  tripleo_backup_and_restore_mode != 'PXE'\n- setup_nfs.yml modified for configuring /etc/exports\n  when using pxe.\n\nChange-Id: I1b712b57941c328681d23273f669bba83c163d7c\n""}, {'number': 16, 'created': '2021-07-26 12:23:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/cd5ee532b3cdb92af45959b9e9abc8777e86ff5b', 'message': ""Add backup and restore mode for ReaR configuration\n\n- Adding tripleo_backup_and_restore_mode to defaults/main.yaml\n  for determine which configuration to use: PXE of NFS.\n  Defaults to NFS, original behaviour.\n- Adding tripleo_backup_and_restore_output_server,\n  tripleo_backup_and_restore_pxe_storage_folder and\n  tripleo_backup_and_restore_pxe_output_url to\n  defaults/main.yaml for defining the OUTPUT_URL\n  for PXE ReaR configuration. This will allow to\n  copy the kernel and ramdisk to the Undercloud\n  for automating the restoration.\n- Adding tripleo_backup_and_restore_user_timeout\n  to defaults/main.yaml for defining the timeout\n  before using the default option if a user prompt\n  is required during the restoration.\n- Adding tripleo_backup_and_restore_pxe_local_config,\n  which are the dictionary used for configuring local.conf\n- Modifying templates/local.conf.j2 for configuring\n  ReaR depending on the mode NFS or PXE.\n- Adding tripleo_backup_and_restore_network_preparation_commands\n  to defaults/main.yaml for defining the commands\n  to be run for preparing the network during the\n  restoration phase. Because ReaR does not support\n  ovs, it is required to setup the network for\n  connecting to the backup node.\n- Adding prepare-nfs-pxe.yaml for setting up and\n  configuring NFS on the Undercloud to copy the\n  ramdisk and kernel.\n- OUTPUT_URL extract executed when\n  tripleo_backup_and_restore_mode != 'PXE'\n- setup_nfs.yml modified for configuring /etc/exports\n  when using pxe.\n\nChange-Id: I1b712b57941c328681d23273f669bba83c163d7c\n""}, {'number': 17, 'created': '2021-07-27 18:16:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/dae35905b26ceac90039b3228da5d15f545c0b5a', 'message': ""Add backup and restore mode for ReaR configuration\n\n- Adding tripleo_backup_and_restore_mode to defaults/main.yaml\n  for determine which configuration to use: PXE of NFS.\n  Defaults to NFS, original behaviour.\n- Adding tripleo_backup_and_restore_output_server,\n  tripleo_backup_and_restore_pxe_storage_folder and\n  tripleo_backup_and_restore_pxe_output_url to\n  defaults/main.yaml for defining the OUTPUT_URL\n  for PXE ReaR configuration. This will allow to\n  copy the kernel and ramdisk to the Undercloud\n  for automating the restoration.\n- Adding tripleo_backup_and_restore_user_timeout\n  to defaults/main.yaml for defining the timeout\n  before using the default option if a user prompt\n  is required during the restoration.\n- Adding tripleo_backup_and_restore_pxe_local_config,\n  which are the dictionary used for configuring local.conf\n- Modifying templates/local.conf.j2 for configuring\n  ReaR depending on the mode NFS or PXE.\n- Adding tripleo_backup_and_restore_network_preparation_commands\n  to defaults/main.yaml for defining the commands\n  to be run for preparing the network during the\n  restoration phase. Because ReaR does not support\n  ovs, it is required to setup the network for\n  connecting to the backup node.\n- Adding prepare-nfs-pxe.yaml for setting up and\n  configuring NFS on the Undercloud to copy the\n  ramdisk and kernel.\n- OUTPUT_URL extract executed when\n  tripleo_backup_and_restore_mode != 'PXE'\n- setup_nfs.yml modified for configuring /etc/exports\n  when using pxe.\n\nChange-Id: I1b712b57941c328681d23273f669bba83c163d7c\n""}, {'number': 18, 'created': '2021-07-28 20:46:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/27857f9a5b845ba62764b1ecf8bd4624f56d80cb', 'message': ""Add backup and restore mode for ReaR configuration\n\n- Adding tripleo_backup_and_restore_mode to defaults/main.yaml\n  for determine which configuration to use: PXE of NFS.\n  Defaults to NFS, original behaviour.\n- Adding tripleo_backup_and_restore_output_server,\n  tripleo_backup_and_restore_pxe_storage_folder and\n  tripleo_backup_and_restore_pxe_output_url to\n  defaults/main.yaml for defining the OUTPUT_URL\n  for PXE ReaR configuration. This will allow to\n  copy the kernel and ramdisk to the Undercloud\n  for automating the restoration.\n- Adding tripleo_backup_and_restore_user_timeout\n  to defaults/main.yaml for defining the timeout\n  before using the default option if a user prompt\n  is required during the restoration.\n- Adding tripleo_backup_and_restore_pxe_local_config,\n  which are the dictionary used for configuring local.conf\n- Modifying templates/local.conf.j2 for configuring\n  ReaR depending on the mode NFS or PXE.\n- Adding tripleo_backup_and_restore_network_preparation_commands\n  to defaults/main.yaml for defining the commands\n  to be run for preparing the network during the\n  restoration phase. Because ReaR does not support\n  ovs, it is required to setup the network for\n  connecting to the backup node.\n- Adding prepare-nfs-pxe.yaml for setting up and\n  configuring NFS on the Undercloud to copy the\n  ramdisk and kernel.\n- OUTPUT_URL extract executed when\n  tripleo_backup_and_restore_mode != 'PXE'\n- setup_nfs.yml modified for configuring /etc/exports\n  when using pxe.\n\nChange-Id: I1b712b57941c328681d23273f669bba83c163d7c\n""}, {'number': 19, 'created': '2021-07-30 16:09:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/afe228207298205e020ed08e9a25c51ca90aa100', 'message': ""Add backup and restore mode for ReaR configuration\n\n- Adding tripleo_backup_and_restore_mode to defaults/main.yaml\n  for determine which configuration to use: PXE of NFS.\n  Defaults to NFS, original behaviour.\n- Adding tripleo_backup_and_restore_output_server,\n  tripleo_backup_and_restore_pxe_storage_folder and\n  tripleo_backup_and_restore_pxe_output_url to\n  defaults/main.yaml for defining the OUTPUT_URL\n  for PXE ReaR configuration. This will allow to\n  copy the kernel and ramdisk to the Undercloud\n  for automating the restoration.\n- Adding tripleo_backup_and_restore_user_timeout\n  to defaults/main.yaml for defining the timeout\n  before using the default option if a user prompt\n  is required during the restoration.\n- Adding tripleo_backup_and_restore_pxe_local_config,\n  which are the dictionary used for configuring local.conf\n- Modifying templates/local.conf.j2 for configuring\n  ReaR depending on the mode NFS or PXE.\n- Adding tripleo_backup_and_restore_network_preparation_commands\n  to defaults/main.yaml for defining the commands\n  to be run for preparing the network during the\n  restoration phase. Because ReaR does not support\n  ovs, it is required to setup the network for\n  connecting to the backup node.\n- Adding prepare-nfs-pxe.yaml for setting up and\n  configuring NFS on the Undercloud to copy the\n  ramdisk and kernel.\n- OUTPUT_URL extract executed when\n  tripleo_backup_and_restore_mode != 'PXE'\n- setup_nfs.yml modified for configuring /etc/exports\n  when using pxe.\n\nChange-Id: I1b712b57941c328681d23273f669bba83c163d7c\n""}, {'number': 20, 'created': '2021-08-02 08:29:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/99b41f2a346f70936fd173a883c8167ebfad35ac', 'message': ""Add backup and restore mode for ReaR configuration\n\n- Adding tripleo_backup_and_restore_mode to defaults/main.yaml\n  for determine which configuration to use: PXE of NFS.\n  Defaults to NFS, original behaviour.\n- Adding tripleo_backup_and_restore_output_server,\n  tripleo_backup_and_restore_pxe_storage_folder and\n  tripleo_backup_and_restore_pxe_output_url to\n  defaults/main.yaml for defining the OUTPUT_URL\n  for PXE ReaR configuration. This will allow to\n  copy the kernel and ramdisk to the Undercloud\n  for automating the restoration.\n- Adding tripleo_backup_and_restore_user_timeout\n  to defaults/main.yaml for defining the timeout\n  before using the default option if a user prompt\n  is required during the restoration.\n- Adding tripleo_backup_and_restore_pxe_local_config,\n  which are the dictionary used for configuring local.conf\n- Modifying templates/local.conf.j2 for configuring\n  ReaR depending on the mode NFS or PXE.\n- Adding tripleo_backup_and_restore_network_preparation_commands\n  to defaults/main.yaml for defining the commands\n  to be run for preparing the network during the\n  restoration phase. Because ReaR does not support\n  ovs, it is required to setup the network for\n  connecting to the backup node.\n- Adding prepare-nfs-pxe.yaml for setting up and\n  configuring NFS on the Undercloud to copy the\n  ramdisk and kernel.\n- OUTPUT_URL extract executed when\n  tripleo_backup_and_restore_mode != 'PXE'\n- setup_nfs.yml modified for configuring /etc/exports\n  when using pxe.\n\nChange-Id: I1b712b57941c328681d23273f669bba83c163d7c\n""}, {'number': 21, 'created': '2021-08-10 14:10:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/d0db07369a3662e1c0c418a980c9bfcf42feb55b', 'message': ""Add backup and restore mode for ReaR configuration\n\n- Adding tripleo_backup_and_restore_mode to defaults/main.yaml\n  for determine which configuration to use: PXE of NFS.\n  Defaults to NFS, original behaviour.\n- Adding tripleo_backup_and_restore_output_server,\n  tripleo_backup_and_restore_pxe_storage_folder and\n  tripleo_backup_and_restore_pxe_output_url to\n  defaults/main.yaml for defining the OUTPUT_URL\n  for PXE ReaR configuration. This will allow to\n  copy the kernel and ramdisk to the Undercloud\n  for automating the restoration.\n- Adding tripleo_backup_and_restore_user_timeout\n  to defaults/main.yaml for defining the timeout\n  before using the default option if a user prompt\n  is required during the restoration.\n- Adding tripleo_backup_and_restore_pxe_local_config,\n  which are the dictionary used for configuring local.conf\n- Modifying templates/local.conf.j2 for configuring\n  ReaR depending on the mode NFS or PXE.\n- Adding tripleo_backup_and_restore_network_preparation_commands\n  to defaults/main.yaml for defining the commands\n  to be run for preparing the network during the\n  restoration phase. Because ReaR does not support\n  ovs, it is required to setup the network for\n  connecting to the backup node.\n- Adding prepare-nfs-pxe.yaml for setting up and\n  configuring NFS on the Undercloud to copy the\n  ramdisk and kernel.\n- OUTPUT_URL extract executed when\n  tripleo_backup_and_restore_mode != 'PXE'\n- setup_nfs.yml modified for configuring /etc/exports\n  when using pxe.\n\nChange-Id: I1b712b57941c328681d23273f669bba83c163d7c\n""}, {'number': 22, 'created': '2021-08-10 14:14:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/a9ac661c44608582d1478132406e81a1c983ca2a', 'message': ""Add backup and restore mode for ReaR configuration\n\n- Adding tripleo_backup_and_restore_mode to defaults/main.yaml\n  for determine which configuration to use: PXE of NFS.\n  Defaults to NFS, original behaviour.\n- Adding tripleo_backup_and_restore_output_server,\n  tripleo_backup_and_restore_pxe_storage_folder and\n  tripleo_backup_and_restore_pxe_output_url to\n  defaults/main.yaml for defining the OUTPUT_URL\n  for PXE ReaR configuration. This will allow to\n  copy the kernel and ramdisk to the Undercloud\n  for automating the restoration.\n- Adding tripleo_backup_and_restore_user_timeout\n  to defaults/main.yaml for defining the timeout\n  before using the default option if a user prompt\n  is required during the restoration.\n- Adding tripleo_backup_and_restore_pxe_local_config,\n  which are the dictionary used for configuring local.conf\n- Modifying templates/local.conf.j2 for configuring\n  ReaR depending on the mode NFS or PXE.\n- Adding tripleo_backup_and_restore_network_preparation_commands\n  to defaults/main.yaml for defining the commands\n  to be run for preparing the network during the\n  restoration phase. Because ReaR does not support\n  ovs, it is required to setup the network for\n  connecting to the backup node.\n- Adding prepare-nfs-pxe.yaml for setting up and\n  configuring NFS on the Undercloud to copy the\n  ramdisk and kernel.\n- OUTPUT_URL extract executed when\n  tripleo_backup_and_restore_mode != 'PXE'\n- setup_nfs.yml modified for configuring /etc/exports\n  when using pxe.\n\nChange-Id: I1b712b57941c328681d23273f669bba83c163d7c\n""}, {'number': 23, 'created': '2021-08-11 17:43:35.000000000', 'files': ['tripleo_ansible/playbooks/prepare-nfs-pxe.yaml', 'tripleo_ansible/roles/backup_and_restore/tasks/setup_rear.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/setup_nfs.yml', 'tripleo_ansible/roles/backup_and_restore/defaults/main.yml', 'tripleo_ansible/roles/backup_and_restore/templates/local.conf.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/0ca056ad4de5396b01c6e07df67af583ca06cfdf', 'message': ""Add backup and restore mode for ReaR configuration\n\n- Adding tripleo_backup_and_restore_mode to defaults/main.yaml\n  for determine which configuration to use: PXE of NFS.\n  Defaults to NFS, original behaviour.\n- Adding tripleo_backup_and_restore_output_server,\n  tripleo_backup_and_restore_pxe_storage_folder and\n  tripleo_backup_and_restore_pxe_output_url to\n  defaults/main.yaml for defining the OUTPUT_URL\n  for PXE ReaR configuration. This will allow to\n  copy the kernel and ramdisk to the Undercloud\n  for automating the restoration.\n- Adding tripleo_backup_and_restore_user_timeout\n  to defaults/main.yaml for defining the timeout\n  before using the default option if a user prompt\n  is required during the restoration.\n- Adding tripleo_backup_and_restore_pxe_local_config,\n  which are the dictionary used for configuring local.conf\n- Modifying templates/local.conf.j2 for configuring\n  ReaR depending on the mode NFS or PXE.\n- Adding tripleo_backup_and_restore_network_preparation_commands\n  to defaults/main.yaml for defining the commands\n  to be run for preparing the network during the\n  restoration phase. Because ReaR does not support\n  ovs, it is required to setup the network for\n  connecting to the backup node.\n- Adding prepare-nfs-pxe.yaml for setting up and\n  configuring NFS on the Undercloud to copy the\n  ramdisk and kernel.\n- OUTPUT_URL extract executed when\n  tripleo_backup_and_restore_mode != 'PXE'\n- setup_nfs.yml modified for configuring /etc/exports\n  when using pxe.\n\nChange-Id: I1b712b57941c328681d23273f669bba83c163d7c\n""}]",19,797035,0ca056ad4de5396b01c6e07df67af583ca06cfdf,92,7,23,32728,,,0,"Add backup and restore mode for ReaR configuration

- Adding tripleo_backup_and_restore_mode to defaults/main.yaml
  for determine which configuration to use: PXE of NFS.
  Defaults to NFS, original behaviour.
- Adding tripleo_backup_and_restore_output_server,
  tripleo_backup_and_restore_pxe_storage_folder and
  tripleo_backup_and_restore_pxe_output_url to
  defaults/main.yaml for defining the OUTPUT_URL
  for PXE ReaR configuration. This will allow to
  copy the kernel and ramdisk to the Undercloud
  for automating the restoration.
- Adding tripleo_backup_and_restore_user_timeout
  to defaults/main.yaml for defining the timeout
  before using the default option if a user prompt
  is required during the restoration.
- Adding tripleo_backup_and_restore_pxe_local_config,
  which are the dictionary used for configuring local.conf
- Modifying templates/local.conf.j2 for configuring
  ReaR depending on the mode NFS or PXE.
- Adding tripleo_backup_and_restore_network_preparation_commands
  to defaults/main.yaml for defining the commands
  to be run for preparing the network during the
  restoration phase. Because ReaR does not support
  ovs, it is required to setup the network for
  connecting to the backup node.
- Adding prepare-nfs-pxe.yaml for setting up and
  configuring NFS on the Undercloud to copy the
  ramdisk and kernel.
- OUTPUT_URL extract executed when
  tripleo_backup_and_restore_mode != 'PXE'
- setup_nfs.yml modified for configuring /etc/exports
  when using pxe.

Change-Id: I1b712b57941c328681d23273f669bba83c163d7c
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/35/797035/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/backup_and_restore/defaults/main.yml', 'tripleo_ansible/roles/backup_and_restore/templates/local.conf.j2']",2,9fc32c45789908d83712f01c190ea3eccc509d78,change-797035-22,{% if tripleo_backup_and_restore_mode == 'NFS' %}ISO_PREFFIX={{ tripleo_backup_and_restore_hostname.stdout }} {% for item in (tripleo_backup_and_restore_local_config_nfs | dict2items) %}{% elif tripleo_backup_and_restore_mode == 'PXE' %} PXE_TFTP_URL={{ tripleo_backup_and_restore_backup_url }}/tftpboot BACKUP_URL={{ tripleo_backup_and_restore_backup_url }}/tftpboot PXE_CONFIG_URL={{ tripleo_backup_and_restore_backup_url }}/tftpboot/pxelinux.cfg {% for item in (tripleo_backup_and_restore_local_config_pxe | dict2items) %} {{ item.key }}={{ item.value }} {% endfor %} {% endif %} BACKUP_PROG_OPTIONS+=( --anchored --xattrs-include='*.*' --xattrs ) BACKUP_PROG_EXCLUDE=( {{ tripleo_backup_and_restore_exclude_paths | sum(start=[]) | map('quote') | join(' ') }} ),ISO_PREFIX={{ tripleo_backup_and_restore_hostname.stdout }} BACKUP_PROG_OPTIONS+=( --anchored --xattrs-include='*.*' --xattrs ) BACKUP_PROG_EXCLUDE=( {{ tripleo_backup_and_restore_exclude_paths | sum(start=[]) | map('quote') | join(' ') }} ){% for item in (tripleo_backup_and_restore_local_config | dict2items) %},29,7
openstack%2Fkolla-ansible~stable%2Fwallaby~I4ed4651b55a912f1d9aec7277bae6bb4776f1e0a,openstack/kolla-ansible,stable/wallaby,I4ed4651b55a912f1d9aec7277bae6bb4776f1e0a,Add OIDCDiscoverURL mod_oidc option,MERGED,2022-02-03 11:26:27.000000000,2022-02-04 15:30:31.000000000,2022-02-04 15:21:00.000000000,"[{'_account_id': 167}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-02-03 11:26:27.000000000', 'files': ['ansible/roles/keystone/templates/wsgi-keystone.conf.j2', 'releasenotes/notes/add-oidc-discover-url-83edb9f43f73a97f.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/501c8dec82599f5da420473828003f9660d284ac', 'message': 'Add OIDCDiscoverURL mod_oidc option\n\nThis gets rid of one of the steps in the authentication flow.\n\nCloses-Bug: 1930055\nChange-Id: I4ed4651b55a912f1d9aec7277bae6bb4776f1e0a\n(cherry picked from commit e7455759ad4be5e1212d84e08612a4ff4ece8717)\n'}]",1,827638,501c8dec82599f5da420473828003f9660d284ac,14,3,1,32657,,,0,"Add OIDCDiscoverURL mod_oidc option

This gets rid of one of the steps in the authentication flow.

Closes-Bug: 1930055
Change-Id: I4ed4651b55a912f1d9aec7277bae6bb4776f1e0a
(cherry picked from commit e7455759ad4be5e1212d84e08612a4ff4ece8717)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/38/827638/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/keystone/templates/wsgi-keystone.conf.j2', 'releasenotes/notes/add-oidc-discover-url-83edb9f43f73a97f.yaml']",2,501c8dec82599f5da420473828003f9660d284ac,,--- fixes: - | Fixes an issue with an OIDC authentication flow requiring unnecessary action from the user. Redirecting to the target IdP page now happens automatically. `LP#930055 <https://bugs.launchpad.net/kolla-ansible/+bug/1930055>`__ ,,8,0
openstack%2Ftempest~master~I07b1376173dbcba6b666f246036c4371121d3fdc,openstack/tempest,master,I07b1376173dbcba6b666f246036c4371121d3fdc,Add skip for tests that wont work under fips,ABANDONED,2021-09-24 03:31:12.000000000,2022-02-04 15:24:02.000000000,,"[{'_account_id': 8556}, {'_account_id': 10459}, {'_account_id': 11604}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2021-09-24 03:31:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/3949141ace9f0a72daa483f320fc19880fb641e1', 'message': 'Add skip for tests that wont work under fips\n\nThe plain encryptor for cryptsetup uses a disallowed algorithm\nunder fips (ripemd160) and has been deprecated for a long time now.\nUnless we choose to fix the encryptor in os-brick to work under fips,\nwe should disable this test in FIPS mode as it is invalid.\n\nIn general, we may expect that other tests may also fail under fips\nfor similar reasons.  We add a generic flag to be used here to skip\nsuch tests.\n\nChange-Id: I07b1376173dbcba6b666f246036c4371121d3fdc\n'}, {'number': 2, 'created': '2021-10-01 15:24:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/2135d825fb7ba917f151ee3fbe451eb3af488267', 'message': 'Add skip for tests that wont work under fips\n\nThe plain encryptor for cryptsetup uses a disallowed algorithm\nunder fips (ripemd160) and has been deprecated for a long time now.\nUnless we choose to fix the encryptor in os-brick to work under fips,\nwe should disable this test in FIPS mode as it is invalid.\n\nIn general, we may expect that other tests may also fail under fips\nfor similar reasons.  We add a generic flag to be used here to skip\nsuch tests.\n\nChange-Id: I07b1376173dbcba6b666f246036c4371121d3fdc\n'}, {'number': 3, 'created': '2021-10-04 20:11:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/7b3662b06c1a0cca7df516b5526f633f6f013858', 'message': 'Add skip for tests that wont work under fips\n\nThe plain encryptor for cryptsetup uses a disallowed algorithm\nunder fips (ripemd160) and has been deprecated for a long time now.\nUnless we choose to fix the encryptor in os-brick to work under fips,\nwe should disable this test in FIPS mode as it is invalid.\n\nIn general, we may expect that other tests may also fail under fips\nfor similar reasons.  We add a generic flag to be used here to skip\nsuch tests.\n\nChange-Id: I07b1376173dbcba6b666f246036c4371121d3fdc\n'}, {'number': 4, 'created': '2021-10-15 15:40:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/f8aca8680271afbe69d0ad705c03e040957eb12f', 'message': 'Add skip for tests that wont work under fips\n\nThe plain encryptor for cryptsetup uses a disallowed algorithm\nunder fips (ripemd160) and has been deprecated for a long time now.\nUnless we choose to fix the encryptor in os-brick to work under fips,\nwe should disable this test in FIPS mode as it is invalid.\n\nIn general, we may expect that other tests may also fail under fips\nfor similar reasons.  We add a generic flag to be used here to skip\nsuch tests.\n\nChange-Id: I07b1376173dbcba6b666f246036c4371121d3fdc\n'}, {'number': 5, 'created': '2021-11-04 19:41:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/586b1e5c4bae6714988636a5f945e747524c81fc', 'message': 'Add skip for tests that wont work under fips\n\nThe plain encryptor for cryptsetup uses a disallowed algorithm\nunder fips (ripemd160) and has been deprecated for a long time now.\nUnless we choose to fix the encryptor in os-brick to work under fips,\nwe should disable this test in FIPS mode as it is invalid.\n\nIn general, we may expect that other tests may also fail under fips\nfor similar reasons.  We add a generic flag to be used here to skip\nsuch tests.\n\nChange-Id: I07b1376173dbcba6b666f246036c4371121d3fdc\n'}, {'number': 6, 'created': '2021-11-05 20:36:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/36b0b2db8f4f464c1d6910a53b06fbd269c8bd31', 'message': 'Add skip for tests that wont work under fips\n\nThe plain encryptor for cryptsetup uses a disallowed algorithm\nunder fips (ripemd160) and has been deprecated for a long time now.\nUnless we choose to fix the encryptor in os-brick to work under fips,\nwe should disable this test in FIPS mode as it is invalid.\n\nIn general, we may expect that other tests may also fail under fips\nfor similar reasons.  We add a generic flag to be used here to skip\nsuch tests.\n\nChange-Id: I07b1376173dbcba6b666f246036c4371121d3fdc\n'}, {'number': 7, 'created': '2021-11-12 19:12:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/01689ed7313c0965ce30c09405be81fc83543651', 'message': 'Add skip for tests that wont work under fips\n\nThe plain encryptor for cryptsetup uses a disallowed algorithm\nunder fips (ripemd160) and has been deprecated for a long time now.\nUnless we choose to fix the encryptor in os-brick to work under fips,\nwe should disable this test in FIPS mode as it is invalid.\n\nIn general, we may expect that other tests may also fail under fips\nfor similar reasons.  We add a generic flag to be used here to skip\nsuch tests.\n\nChange-Id: I07b1376173dbcba6b666f246036c4371121d3fdc\n'}, {'number': 8, 'created': '2021-11-17 14:52:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/e2ce6edd80a77f7d8bb6ccc1c6b72e94aee7bc39', 'message': 'Add skip for tests that wont work under fips\n\nThe plain encryptor for cryptsetup uses a disallowed algorithm\nunder fips (ripemd160) and has been deprecated for a long time now.\nUnless we choose to fix the encryptor in os-brick to work under fips,\nwe should disable this test in FIPS mode as it is invalid.\n\nIn general, we may expect that other tests may also fail under fips\nfor similar reasons.  We add a generic flag to be used here to skip\nsuch tests.\n\nChange-Id: I07b1376173dbcba6b666f246036c4371121d3fdc\n'}, {'number': 9, 'created': '2021-11-29 18:44:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/1d8bcfcc6afeb4a2737b152a2032a20cbdaeaad9', 'message': 'Add skip for tests that wont work under fips\n\nThe plain encryptor for cryptsetup uses a disallowed algorithm\nunder fips (ripemd160) and has been deprecated for a long time now.\nUnless we choose to fix the encryptor in os-brick to work under fips,\nwe should disable this test in FIPS mode as it is invalid.\n\nIn general, we may expect that other tests may also fail under fips\nfor similar reasons.  We add a generic flag to be used here to skip\nsuch tests.\n\nChange-Id: I07b1376173dbcba6b666f246036c4371121d3fdc\n'}, {'number': 10, 'created': '2021-11-29 22:11:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/b0c3bd7bd0462a25ebca8f6c3ff9f7eb3faff5b2', 'message': 'Add skip for tests that wont work under fips\n\nThe plain encryptor for cryptsetup uses a disallowed algorithm\nunder fips (ripemd160) and has been deprecated for a long time now.\nUnless we choose to fix the encryptor in os-brick to work under fips,\nwe should disable this test in FIPS mode as it is invalid.\n\nIn general, we may expect that other tests may also fail under fips\nfor similar reasons.  We add a generic flag to be used here to skip\nsuch tests.\n\nChange-Id: I07b1376173dbcba6b666f246036c4371121d3fdc\n'}, {'number': 11, 'created': '2021-11-30 04:07:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/fb1196583b9a892efa410ef5fab224b6a6583ad3', 'message': 'Add skip for tests that wont work under fips\n\nThe plain encryptor for cryptsetup uses a disallowed algorithm\nunder fips (ripemd160) and has been deprecated for a long time now.\nUnless we choose to fix the encryptor in os-brick to work under fips,\nwe should disable this test in FIPS mode as it is invalid.\n\nIn general, we may expect that other tests may also fail under fips\nfor similar reasons.  We add a generic flag to be used here to skip\nsuch tests.\n\nChange-Id: I07b1376173dbcba6b666f246036c4371121d3fdc\n'}, {'number': 12, 'created': '2021-12-02 22:41:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/6c8b2d26986c809342d5df6eb8465cd4ce118d03', 'message': 'Add skip for tests that wont work under fips\n\nThe plain encryptor for cryptsetup uses a disallowed algorithm\nunder fips (ripemd160) and has been deprecated for a long time now.\nUnless we choose to fix the encryptor in os-brick to work under fips,\nwe should disable this test in FIPS mode as it is invalid.\n\nIn general, we may expect that other tests may also fail under fips\nfor similar reasons.  We add a generic flag to be used here to skip\nsuch tests.\n\nChange-Id: I07b1376173dbcba6b666f246036c4371121d3fdc\n'}, {'number': 13, 'created': '2021-12-08 11:41:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/1ddd0578c3d2aa4a500965e06fdc28ebc8eb8960', 'message': 'Add skip for tests that wont work under fips\n\nThe plain encryptor for cryptsetup uses a disallowed algorithm\nunder fips (ripemd160) and has been deprecated for a long time now.\nUnless we choose to fix the encryptor in os-brick to work under fips,\nwe should disable this test in FIPS mode as it is invalid.\n\nIn general, we may expect that other tests may also fail under fips\nfor similar reasons.  We add a generic flag to be used here to skip\nsuch tests.\n\nChange-Id: I07b1376173dbcba6b666f246036c4371121d3fdc\n'}, {'number': 14, 'created': '2021-12-21 20:50:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/69425461c1f28d50d0b6ae9095534f37f0bc7a0f', 'message': 'Add skip for tests that wont work under fips\n\nThe plain encryptor for cryptsetup uses a disallowed algorithm\nunder fips (ripemd160) and has been deprecated for a long time now.\nUnless we choose to fix the encryptor in os-brick to work under fips,\nwe should disable this test in FIPS mode as it is invalid.\n\nIn general, we may expect that other tests may also fail under fips\nfor similar reasons.  We add a generic flag to be used here to skip\nsuch tests.\n\nChange-Id: I07b1376173dbcba6b666f246036c4371121d3fdc\n'}, {'number': 15, 'created': '2022-01-04 08:38:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/99339e3dfd305466f2084aca27e930f0a6303163', 'message': 'Add skip for tests that wont work under fips\n\nThe plain encryptor for cryptsetup uses a disallowed algorithm\nunder fips (ripemd160) and has been deprecated for a long time now.\nUnless we choose to fix the encryptor in os-brick to work under fips,\nwe should disable this test in FIPS mode as it is invalid.\n\nIn general, we may expect that other tests may also fail under fips\nfor similar reasons.  We add a generic flag to be used here to skip\nsuch tests.\n\nChange-Id: I07b1376173dbcba6b666f246036c4371121d3fdc\n'}, {'number': 16, 'created': '2022-01-12 18:32:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/0b35f95c7461e23ca46d819323a38d2d1fa2f12c', 'message': 'Add skip for tests that wont work under fips\n\nThe plain encryptor for cryptsetup uses a disallowed algorithm\nunder fips (ripemd160) and has been deprecated for a long time now.\nUnless we choose to fix the encryptor in os-brick to work under fips,\nwe should disable this test in FIPS mode as it is invalid.\n\nIn general, we may expect that other tests may also fail under fips\nfor similar reasons.  We add a generic flag to be used here to skip\nsuch tests.\n\nChange-Id: I07b1376173dbcba6b666f246036c4371121d3fdc\n'}, {'number': 17, 'created': '2022-01-13 20:16:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/6675d7b1edd1e2b74801739101bbc9f05fe35265', 'message': 'Add skip for tests that wont work under fips\n\nThe plain encryptor for cryptsetup uses a disallowed algorithm\nunder fips (ripemd160) and has been deprecated for a long time now.\nUnless we choose to fix the encryptor in os-brick to work under fips,\nwe should disable this test in FIPS mode as it is invalid.\n\nIn general, we may expect that other tests may also fail under fips\nfor similar reasons.  We add a generic flag to be used here to skip\nsuch tests.\n\nChange-Id: I07b1376173dbcba6b666f246036c4371121d3fdc\n'}, {'number': 18, 'created': '2022-01-18 15:26:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/3b4f672a0260d28d33031c0dffa98c41e049affe', 'message': 'Add skip for tests that wont work under fips\n\nThe plain encryptor for cryptsetup uses a disallowed algorithm\nunder fips (ripemd160) and has been deprecated for a long time now.\nUnless we choose to fix the encryptor in os-brick to work under fips,\nwe should disable this test in FIPS mode as it is invalid.\n\nIn general, we may expect that other tests may also fail under fips\nfor similar reasons.  We add a generic flag to be used here to skip\nsuch tests.\n\nChange-Id: I07b1376173dbcba6b666f246036c4371121d3fdc\n'}, {'number': 19, 'created': '2022-02-04 10:49:34.000000000', 'files': ['tempest/config.py', 'tempest/scenario/test_encrypted_cinder_volumes.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/19a7f18a1f6182af31ed0f53ae11be437323becb', 'message': 'Add skip for tests that wont work under fips\n\nThe plain encryptor for cryptsetup uses a disallowed algorithm\nunder fips (ripemd160) and has been deprecated for a long time now.\nUnless we choose to fix the encryptor in os-brick to work under fips,\nwe should disable this test in FIPS mode as it is invalid.\n\nIn general, we may expect that other tests may also fail under fips\nfor similar reasons.  We add a generic flag to be used here to skip\nsuch tests.\n\nChange-Id: I07b1376173dbcba6b666f246036c4371121d3fdc\n'}]",13,810808,19a7f18a1f6182af31ed0f53ae11be437323becb,57,6,19,9914,,,0,"Add skip for tests that wont work under fips

The plain encryptor for cryptsetup uses a disallowed algorithm
under fips (ripemd160) and has been deprecated for a long time now.
Unless we choose to fix the encryptor in os-brick to work under fips,
we should disable this test in FIPS mode as it is invalid.

In general, we may expect that other tests may also fail under fips
for similar reasons.  We add a generic flag to be used here to skip
such tests.

Change-Id: I07b1376173dbcba6b666f246036c4371121d3fdc
",git fetch https://review.opendev.org/openstack/tempest refs/changes/08/810808/17 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/config.py', 'tempest/scenario/test_encrypted_cinder_volumes.py']",2,3949141ace9f0a72daa483f320fc19880fb641e1,fips-compatibility,"import testtools @testtools.skipIf(CONF.validation.fips, 'PLAIN encryptor provider not supported in FIPS mode')",,7,0
openstack%2Fproject-config~master~I188ad6803015b880f8f952052012fa1c3c8b52fc,openstack/project-config,master,I188ad6803015b880f8f952052012fa1c3c8b52fc,Add cirros/cirros project,MERGED,2022-02-03 16:45:11.000000000,2022-02-04 15:21:07.000000000,2022-02-04 14:58:59.000000000,"[{'_account_id': 5263}, {'_account_id': 7118}, {'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-02-03 16:45:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/e2ec05c6e32d3c15431919cd96b8ccf9cb0adb89', 'message': 'Add cirros/cirros project\n\nSince the Travis CI is no longer useable, we want to build new jobs for\nCirrOS on the OpenDev platform. Since at a later stage some testing\ninvolving a Devstack deployment may be helpful, this is placed into the\nopenstack tenant.\n\nChange-Id: I188ad6803015b880f8f952052012fa1c3c8b52fc\n'}, {'number': 2, 'created': '2022-02-03 18:37:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/fb6ed02dd5fdc539a5c5e2701e6000a69c6a924f', 'message': 'Add cirros/cirros project\n\nSince the Travis CI is no longer useable, we want to build new jobs for\nCirrOS on the OpenDev platform. Since at a later stage some testing\ninvolving a Devstack deployment may be helpful, this is placed into the\nopenstack tenant.\n\nChange-Id: I188ad6803015b880f8f952052012fa1c3c8b52fc\n'}, {'number': 3, 'created': '2022-02-03 18:49:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/2435a3b98d52066e1e6e57e7b0194561a933dee0', 'message': 'Add cirros/cirros project\n\nSince the Travis CI is no longer useable, we want to build new jobs for\nCirrOS on the OpenDev platform. Since at a later stage some testing\ninvolving a Devstack deployment may be helpful, this is placed into the\nopenstack tenant.\n\nChange-Id: I188ad6803015b880f8f952052012fa1c3c8b52fc\n'}, {'number': 4, 'created': '2022-02-03 19:14:20.000000000', 'files': ['gerrit/acls/cirros/cirros.config', 'zuul/main.yaml', 'gerrit/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/c50e9fba0e3a53187ff2b9e1871e9baea94e94b4', 'message': 'Add cirros/cirros project\n\nSince the Travis CI is no longer useable, we want to build new jobs for\nCirrOS on the OpenDev platform. Since at a later stage some testing\ninvolving a Devstack deployment may be helpful, this is placed into the\nopenstack tenant.\n\nChange-Id: I188ad6803015b880f8f952052012fa1c3c8b52fc\n'}]",4,827719,c50e9fba0e3a53187ff2b9e1871e9baea94e94b4,18,5,4,13252,,,0,"Add cirros/cirros project

Since the Travis CI is no longer useable, we want to build new jobs for
CirrOS on the OpenDev platform. Since at a later stage some testing
involving a Devstack deployment may be helpful, this is placed into the
openstack tenant.

Change-Id: I188ad6803015b880f8f952052012fa1c3c8b52fc
",git fetch https://review.opendev.org/openstack/project-config refs/changes/19/827719/4 && git format-patch -1 --stdout FETCH_HEAD,"['gerrit/acls/cirros/cirros.config', 'gerrit/projects.yaml', 'zuul/main.yaml']",3,e2ec05c6e32d3c15431919cd96b8ccf9cb0adb89,import-cirros, - cirros/cirros,,21,0
openstack%2Fkolla-ansible~stable%2Fvictoria~I1f109492edf96c5dcca6fca5b40809cd48587111,openstack/kolla-ansible,stable/victoria,I1f109492edf96c5dcca6fca5b40809cd48587111,"Revert ""CI: Temporarily disable rabbitmq internal tls""",ABANDONED,2021-03-08 11:28:50.000000000,2022-02-04 15:14:30.000000000,,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-03-08 11:28:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/2a38f91912c871a95ae163b3ef6dbe5c30583831', 'message': 'Revert ""CI: Temporarily disable rabbitmq internal tls""\n\nThis reverts commit d7ba5efab1295f2a84e24a678162196f1eef18b2.\n\nSince RabbitMQ TLS is still not supported in Ussuri, it is\nnot enabled for upgrade jobs.\n\nChange-Id: I1f109492edf96c5dcca6fca5b40809cd48587111\n'}, {'number': 2, 'created': '2021-03-08 11:30:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/4b85bd94fde412e8259af68e912f1e70c7dde0dc', 'message': 'Revert ""CI: Temporarily disable rabbitmq internal tls""\n\nThis reverts commit d7ba5efab1295f2a84e24a678162196f1eef18b2.\n\nSince RabbitMQ TLS is still not supported in Ussuri, it is\nnot enabled for upgrade jobs.\n\nChange-Id: I1f109492edf96c5dcca6fca5b40809cd48587111\n'}, {'number': 3, 'created': '2021-03-08 15:49:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ee70cba3e7c9cdb3b9cef834533bf96358e99c50', 'message': 'Revert ""CI: Temporarily disable rabbitmq internal tls""\n\nThis reverts commit d7ba5efab1295f2a84e24a678162196f1eef18b2.\n\nSince RabbitMQ TLS is still not supported in Ussuri, it is\nnot enabled for upgrade jobs.\n\nDepends-On: https://review.opendev.org/c/openstack/requirements/+/779146\n\nChange-Id: I1f109492edf96c5dcca6fca5b40809cd48587111\n'}, {'number': 4, 'created': '2021-06-09 08:26:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/9e81a8ef0bee2b3285508377a9b87eb6b1dbbe5e', 'message': 'Revert ""CI: Temporarily disable rabbitmq internal tls""\n\nThis reverts commit d7ba5efab1295f2a84e24a678162196f1eef18b2.\n\nSince RabbitMQ TLS is still not supported in Ussuri, it is\nnot enabled for upgrade jobs.\n\nDepends-On: https://review.opendev.org/c/openstack/requirements/+/779146\n\nChange-Id: I1f109492edf96c5dcca6fca5b40809cd48587111\n'}, {'number': 5, 'created': '2021-12-14 11:00:30.000000000', 'files': ['tests/templates/globals-default.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f9dba319768b1c62dae4960c35a90e4644c490f2', 'message': 'Revert ""CI: Temporarily disable rabbitmq internal tls""\n\nThis reverts commit d7ba5efab1295f2a84e24a678162196f1eef18b2.\n\nSince RabbitMQ TLS is still not supported in Ussuri, it is\nnot enabled for upgrade jobs.\n\nDepends-On: https://review.opendev.org/c/openstack/requirements/+/779146\n\nChange-Id: I1f109492edf96c5dcca6fca5b40809cd48587111\n'}]",4,779148,f9dba319768b1c62dae4960c35a90e4644c490f2,23,3,5,14826,,,0,"Revert ""CI: Temporarily disable rabbitmq internal tls""

This reverts commit d7ba5efab1295f2a84e24a678162196f1eef18b2.

Since RabbitMQ TLS is still not supported in Ussuri, it is
not enabled for upgrade jobs.

Depends-On: https://review.opendev.org/c/openstack/requirements/+/779146

Change-Id: I1f109492edf96c5dcca6fca5b40809cd48587111
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/48/779148/4 && git format-patch -1 --stdout FETCH_HEAD,['tests/templates/globals-default.j2'],1,2a38f91912c871a95ae163b3ef6dbe5c30583831,temp_disable_rmq_tls-stable/victoria,"rabbitmq_enable_tls: ""yes""","# FIXME(mnasiadka): Re-enable when https://review.opendev.org/#/c/761194/ is merged rabbitmq_enable_tls: ""no""",1,2
openstack%2Fopenstack-ansible~stable%2Fvictoria~Idb42c1ebd138fdfeaa4e87e383e3bac0e1fdedf8,openstack/openstack-ansible,stable/victoria,Idb42c1ebd138fdfeaa4e87e383e3bac0e1fdedf8,Fix rich version for ansible-lint,MERGED,2022-01-11 12:12:51.000000000,2022-02-04 14:37:05.000000000,2022-02-04 14:31:40.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-01-11 12:12:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/46f2a8cb873c5f84edba060be50f9d6ea0e806d5', 'message': ""Fix rich version for ansible-lint\n\nAnsible-lint prior to v5.3.1 has issue with reach version >=11.0.0.\nIn order to cherry-pick fix to stable branches we fix rich version.\n\nWe can't use requirements as rich is neither in blacklist nor in\nglobal-requirements, so must be handled independently\n\nThis should be reverted with ansible-lint version bump.\n\nChange-Id: Idb42c1ebd138fdfeaa4e87e383e3bac0e1fdedf8\n(cherry picked from commit a67fd5e4c5ec9d93110c92aac44bf16056389199)\n""}, {'number': 2, 'created': '2022-02-03 09:55:14.000000000', 'files': ['scripts/gate-check-commit.sh'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/ea22c0f1088a3741cecea2d8c5fdd29fce01a36e', 'message': ""Fix rich version for ansible-lint\n\nAnsible-lint prior to v5.3.1 has issue with reach version >=11.0.0.\nIn order to cherry-pick fix to stable branches we fix rich version.\n\nWe can't use requirements as rich is neither in blacklist nor in\nglobal-requirements, so must be handled independently\n\nThis should be reverted with ansible-lint version bump.\n\nChange-Id: Idb42c1ebd138fdfeaa4e87e383e3bac0e1fdedf8\n(cherry picked from commit a67fd5e4c5ec9d93110c92aac44bf16056389199)\n""}]",3,824028,ea22c0f1088a3741cecea2d8c5fdd29fce01a36e,20,3,2,28619,,,0,"Fix rich version for ansible-lint

Ansible-lint prior to v5.3.1 has issue with reach version >=11.0.0.
In order to cherry-pick fix to stable branches we fix rich version.

We can't use requirements as rich is neither in blacklist nor in
global-requirements, so must be handled independently

This should be reverted with ansible-lint version bump.

Change-Id: Idb42c1ebd138fdfeaa4e87e383e3bac0e1fdedf8
(cherry picked from commit a67fd5e4c5ec9d93110c92aac44bf16056389199)
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/28/824028/2 && git format-patch -1 --stdout FETCH_HEAD,['scripts/gate-check-commit.sh'],1,46f2a8cb873c5f84edba060be50f9d6ea0e806d5,osa/remove-centos8," # TODO(noonedeadpunk): Drop rich with ansible-lint bump, bug closed with https://github.com/ansible-community/ansible-lint/pull/1797 ${PIP_COMMAND} install --isolated ${PIP_OPTS} -r ${OSA_CLONE_DIR}/test-requirements.txt 'rich>=9.5.1,<11.0.0'", ${PIP_COMMAND} install --isolated ${PIP_OPTS} -r ${OSA_CLONE_DIR}/test-requirements.txt,2,1
openstack%2Fnova~master~I812d720555bdf008c83cae3d81541a37bd99e594,openstack/nova,master,I812d720555bdf008c83cae3d81541a37bd99e594,Migrate RequestSpec.numa_topology to use pcpuset,MERGED,2021-12-02 12:12:14.000000000,2022-02-04 14:20:52.000000000,2022-02-04 14:18:09.000000000,"[{'_account_id': 7166}, {'_account_id': 11604}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-02 12:12:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5349871a61a60c5c0aa48144e6a5710d6a9155a1', 'message': 'Migrate RequestSpec.numa_topology to use pcpuset\n\nWhen the InstanceNUMATopology OVO has changed in XXX to separately track\npcpus from vcpus a data migration was added. This data migration is\ntriggered when the InstanceNUMATopology object is loaded from the\ninstance_extra table. However that patch is missed the fact that the\nInstanceNUMATopology object can be loaded from the request_spec table as\nwell. So InstanceNUMATopology object in RequestSpec are not migrated.\nThis could lead to errors in the scheduler when such RequestSpec object\nis used for scheduling (e.g. during a migration of a pre Victoria\ninstance with cpu pinning)\n\nThis patch adds the missing data migration.\n\nChange-Id: I812d720555bdf008c83cae3d81541a37bd99e594\nCloses-Bug: #1952941\n'}, {'number': 2, 'created': '2021-12-02 14:14:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7ff0af5b4a27cf471c9e5b2f038f2f417983e0f5', 'message': 'Migrate RequestSpec.numa_topology to use pcpuset\n\nWhen the InstanceNUMATopology OVO has changed in XXX to separately track\npcpus from vcpus a data migration was added. This data migration is\ntriggered when the InstanceNUMATopology object is loaded from the\ninstance_extra table. However that patch is missed the fact that the\nInstanceNUMATopology object can be loaded from the request_spec table as\nwell. So InstanceNUMATopology object in RequestSpec are not migrated.\nThis could lead to errors in the scheduler when such RequestSpec object\nis used for scheduling (e.g. during a migration of a pre Victoria\ninstance with cpu pinning)\n\nThis patch adds the missing data migration.\n\nChange-Id: I812d720555bdf008c83cae3d81541a37bd99e594\nCloses-Bug: #1952941\n'}, {'number': 3, 'created': '2021-12-03 09:08:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/14ff11e4a398183560e05490c1f5985ca14f8f80', 'message': 'Migrate RequestSpec.numa_topology to use pcpuset\n\nWhen the InstanceNUMATopology OVO has changed in XXX to separately track\npcpus from vcpus a data migration was added. This data migration is\ntriggered when the InstanceNUMATopology object is loaded from the\ninstance_extra table. However that patch is missed the fact that the\nInstanceNUMATopology object can be loaded from the request_spec table as\nwell. So InstanceNUMATopology object in RequestSpec are not migrated.\nThis could lead to errors in the scheduler when such RequestSpec object\nis used for scheduling (e.g. during a migration of a pre Victoria\ninstance with cpu pinning)\n\nThis patch adds the missing data migration.\n\nChange-Id: I812d720555bdf008c83cae3d81541a37bd99e594\nCloses-Bug: #1952941\n'}, {'number': 4, 'created': '2021-12-03 09:13:32.000000000', 'files': ['nova/objects/request_spec.py', 'nova/tests/unit/objects/test_request_spec.py', 'nova/objects/instance_numa.py', 'releasenotes/notes/bug-1952941-request-spec-numa-topology-migration-c97dbd51b3c6c116.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/e853bb57181721725a89656b3cb3058636630a6e', 'message': 'Migrate RequestSpec.numa_topology to use pcpuset\n\nWhen the InstanceNUMATopology OVO has changed in\nI901fbd7df00e45196395ff4c69e7b8aa3359edf6 to separately track\npcpus from vcpus a data migration was added. This data migration is\ntriggered when the InstanceNUMATopology object is loaded from the\ninstance_extra table. However that patch is missed the fact that the\nInstanceNUMATopology object can be loaded from the request_spec table as\nwell. So InstanceNUMATopology object in RequestSpec are not migrated.\nThis could lead to errors in the scheduler when such RequestSpec object\nis used for scheduling (e.g. during a migration of a pre Victoria\ninstance with cpu pinning)\n\nThis patch adds the missing data migration.\n\nChange-Id: I812d720555bdf008c83cae3d81541a37bd99e594\nCloses-Bug: #1952941\n'}]",14,820153,e853bb57181721725a89656b3cb3058636630a6e,29,3,4,9708,,,0,"Migrate RequestSpec.numa_topology to use pcpuset

When the InstanceNUMATopology OVO has changed in
I901fbd7df00e45196395ff4c69e7b8aa3359edf6 to separately track
pcpus from vcpus a data migration was added. This data migration is
triggered when the InstanceNUMATopology object is loaded from the
instance_extra table. However that patch is missed the fact that the
InstanceNUMATopology object can be loaded from the request_spec table as
well. So InstanceNUMATopology object in RequestSpec are not migrated.
This could lead to errors in the scheduler when such RequestSpec object
is used for scheduling (e.g. during a migration of a pre Victoria
instance with cpu pinning)

This patch adds the missing data migration.

Change-Id: I812d720555bdf008c83cae3d81541a37bd99e594
Closes-Bug: #1952941
",git fetch https://review.opendev.org/openstack/nova refs/changes/53/820153/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/objects/request_spec.py', 'nova/tests/unit/objects/test_request_spec.py', 'nova/objects/instance_numa.py']",3,5349871a61a60c5c0aa48144e6a5710d6a9155a1,bug/1952941," updated = cls._migrate_legacy_dedicated_instance_cpuset(obj) if updated: cls._save_migrated_cpuset_to_instance_extra( context, obj, instance_uuid) def _migrate_legacy_dedicated_instance_cpuset(cls, obj): # here but letting the caller persist the result if needed as we # don't know which table the InstanceNUMACell is coming from. It can # come from instance_extra or request_spec too. return update_db # TODO(huaqiang): Remove after Yoga once we are sure these objects have # been loaded at least once. @classmethod def _save_migrated_cpuset_to_instance_extra( cls, context, obj, instance_uuid ): db_obj = jsonutils.dumps(obj.obj_to_primitive()) values = { 'numa_topology': db_obj, } db.instance_extra_update_by_uuid( context, instance_uuid, values)"," cls._migrate_legacy_dedicated_instance_cpuset( context, instance_uuid, obj) def _migrate_legacy_dedicated_instance_cpuset(cls, context, instance_uuid, obj): # and persisting to database. if update_db: db_obj = jsonutils.dumps(obj.obj_to_primitive()) values = { 'numa_topology': db_obj, } db.instance_extra_update_by_uuid(context, instance_uuid, values)",38,42
openstack%2Ftripleo-ansible~master~I4953aeeef1588538448696ffbb463f9da3ff0571,openstack/tripleo-ansible,master,I4953aeeef1588538448696ffbb463f9da3ff0571,Ensure httpd is allowed to listen on the port,MERGED,2022-01-13 10:45:18.000000000,2022-02-04 14:13:24.000000000,2022-02-04 11:22:30.000000000,"[{'_account_id': 6926}, {'_account_id': 7353}, {'_account_id': 8449}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-01-13 10:45:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/683c331b21fec49ee5c97ba8cd2e92e1f39fcc96', 'message': ""Ensure httpd is allowed to listen on the port\n\nApparently, starting cs9, httpd isn't allowed to listen on the default\nimage_serve port (8787) anymore.\n\nWhile tripleo-heat-templates modifies the selinux type for this port,\nthere are some cases where we run this tripleo_image_serve role from\noutside the deploy, and we'll face denials for that port.\n\nSince we already manage some of the SELinux configs for the directory,\nwe can also manage the port.\n\nChange-Id: I4953aeeef1588538448696ffbb463f9da3ff0571\n""}, {'number': 2, 'created': '2022-01-13 12:37:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/f1a61fbe5c820e16b28939744ef79050291da752', 'message': ""Ensure httpd is allowed to listen on the port\n\nApparently, starting cs9, httpd isn't allowed to listen on the default\nimage_serve port (8787) anymore.\n\nWhile tripleo-heat-templates modifies the selinux type for this port,\nthere are some cases where we run this tripleo_image_serve role from\noutside the deploy, and we'll face denials for that port.\n\nSince we already manage some of the SELinux configs for the directory,\nwe can also manage the port.\n\nChange-Id: I4953aeeef1588538448696ffbb463f9da3ff0571\n""}, {'number': 3, 'created': '2022-01-25 15:23:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/382ada4c1508cda3e77ddc26465fbd88b9b2b0ce', 'message': ""Ensure httpd is allowed to listen on the port\n\nApparently, starting cs9, httpd isn't allowed to listen on the default\nimage_serve port (8787) anymore.\n\nWhile tripleo-heat-templates modifies the selinux type for this port,\nthere are some cases where we run this tripleo_image_serve role from\noutside the deploy, and we'll face denials for that port.\n\nSince we already manage some of the SELinux configs for the directory,\nwe can also manage the port.\n\nWe also need to add a new dependency in order to run molecule.\n\nChange-Id: I4953aeeef1588538448696ffbb463f9da3ff0571\n""}, {'number': 4, 'created': '2022-02-03 07:08:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/d687fd91277338e94a1061012c13d60af5e61b4f', 'message': ""Ensure httpd is allowed to listen on the port\n\nApparently, starting cs9, httpd isn't allowed to listen on the default\nimage_serve port (8787) anymore.\n\nWhile tripleo-heat-templates modifies the selinux type for this port,\nthere are some cases where we run this tripleo_image_serve role from\noutside the deploy, and we'll face denials for that port.\n\nSince we already manage some of the SELinux configs for the directory,\nwe can also manage the port.\n\nWe also need to add a new dependency in order to run molecule.\n\nChange-Id: I4953aeeef1588538448696ffbb463f9da3ff0571\n""}, {'number': 5, 'created': '2022-02-03 07:16:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/b2cf7f08ed0ba7b28371689643406fbb0894e0cf', 'message': ""Ensure httpd is allowed to listen on the port\n\nApparently, starting cs9, httpd isn't allowed to listen on the default\nimage_serve port (8787) anymore.\n\nWhile tripleo-heat-templates modifies the selinux type for this port,\nthere are some cases where we run this tripleo_image_serve role from\noutside the deploy, and we'll face denials for that port.\n\nSince we already manage some of the SELinux configs for the directory,\nwe can also manage the port.\n\nWe also need to add a new dependency in order to run molecule.\n\nChange-Id: I4953aeeef1588538448696ffbb463f9da3ff0571\n""}, {'number': 6, 'created': '2022-02-03 09:09:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/81073e2d13e8aed595c767d097b0400e172354e2', 'message': ""Ensure httpd is allowed to listen on the port\n\nApparently, starting cs9, httpd isn't allowed to listen on the default\nimage_serve port (8787) anymore.\n\nWhile tripleo-heat-templates modifies the selinux type for this port,\nthere are some cases where we run this tripleo_image_serve role from\noutside the deploy, and we'll face denials for that port.\n\nSince we already manage some of the SELinux configs for the directory,\nwe can also manage the port.\n\nWe also need to add a new dependency in order to run molecule.\n\nChange-Id: I4953aeeef1588538448696ffbb463f9da3ff0571\n""}, {'number': 7, 'created': '2022-02-03 09:43:37.000000000', 'files': ['tripleo_ansible/roles/test_deps/vars/redhat-8.yml', 'tripleo_ansible/roles/test_deps/vars/fedora.yml', 'tripleo_ansible/roles/tripleo_image_serve/tasks/main.yml', 'tripleo_ansible/roles/test_deps/vars/centos-8.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/8378ac7ae4f21dc99347a432df878d911ec8efc4', 'message': ""Ensure httpd is allowed to listen on the port\n\nApparently, starting cs9, httpd isn't allowed to listen on the default\nimage_serve port (8787) anymore.\n\nWhile tripleo-heat-templates modifies the selinux type for this port,\nthere are some cases where we run this tripleo_image_serve role from\noutside the deploy, and we'll face denials for that port.\n\nSince we already manage some of the SELinux configs for the directory,\nwe can also manage the port.\n\nWe also need to add a new dependency in order to run molecule.\n\nChange-Id: I4953aeeef1588538448696ffbb463f9da3ff0571\n""}]",11,824524,8378ac7ae4f21dc99347a432df878d911ec8efc4,35,6,7,28223,,,0,"Ensure httpd is allowed to listen on the port

Apparently, starting cs9, httpd isn't allowed to listen on the default
image_serve port (8787) anymore.

While tripleo-heat-templates modifies the selinux type for this port,
there are some cases where we run this tripleo_image_serve role from
outside the deploy, and we'll face denials for that port.

Since we already manage some of the SELinux configs for the directory,
we can also manage the port.

We also need to add a new dependency in order to run molecule.

Change-Id: I4953aeeef1588538448696ffbb463f9da3ff0571
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/24/824524/7 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo_image_serve/tasks/main.yml'],1,683c331b21fec49ee5c97ba8cd2e92e1f39fcc96,image_serve-seport,"- name: Allow httpd on image-serve port community.general.seport: ports: - ""{{ tripleo_container_registry_port }}"" setype: http_port_t state: present ",,7,0
openstack%2Fopenstack-ansible-os_keystone~stable%2Fwallaby~I56a6c47e4d95e86dc1e0d731f1e39eeec6ac7dc8,openstack/openstack-ansible-os_keystone,stable/wallaby,I56a6c47e4d95e86dc1e0d731f1e39eeec6ac7dc8,Fix ordering error enabling/disabling Apache modules,MERGED,2022-01-26 21:46:17.000000000,2022-02-04 13:54:08.000000000,2022-02-04 13:50:25.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-01-26 21:46:17.000000000', 'files': ['tasks/keystone_apache.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/38fd9f6349b031c5451518be13e38b0b7b90de8c', 'message': ""Fix ordering error enabling/disabling Apache modules\n\nWhen site configuration already exists, a change to make a module\n'absent' would fail as the module was removed before the\nconfiguration.\n\nThis change ensures modules are enabled first, before site\nconfiguration changes, and finally any required modules are\ndisabled.\n\nChange-Id: I56a6c47e4d95e86dc1e0d731f1e39eeec6ac7dc8\n(cherry picked from commit 236f11c31d6b2d395a9ec8846e240841510825ce)\n""}]",1,826551,38fd9f6349b031c5451518be13e38b0b7b90de8c,12,3,1,25023,,,0,"Fix ordering error enabling/disabling Apache modules

When site configuration already exists, a change to make a module
'absent' would fail as the module was removed before the
configuration.

This change ensures modules are enabled first, before site
configuration changes, and finally any required modules are
disabled.

Change-Id: I56a6c47e4d95e86dc1e0d731f1e39eeec6ac7dc8
(cherry picked from commit 236f11c31d6b2d395a9ec8846e240841510825ce)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_keystone refs/changes/51/826551/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/keystone_apache.yml'],1,38fd9f6349b031c5451518be13e38b0b7b90de8c,osa_tls13-stable/xena-stable/wallaby,"## NOTE(cloudnull): ## Module enable/disable process is only functional on Debian - name: Enable apache2 modules apache2_module: name: ""{{ item.name }}"" state: ""{{ item.state }}"" with_items: ""{{ keystone_apache_modules }}"" when: - ansible_facts['pkg_mgr'] == 'apt' - item.state == 'present' notify: - Manage LB - Restart web server - name: Disable apache2 modules - item.state == 'absent'",- name: Enable/disable apache2 modules,16,1
openstack%2Ftripleo-heat-templates~master~Ibd2200aa912960b267a9975571e05665a29e40f0,openstack/tripleo-heat-templates,master,Ibd2200aa912960b267a9975571e05665a29e40f0,Skip podman purge on Undercloud,MERGED,2022-02-02 18:16:42.000000000,2022-02-04 13:51:52.000000000,2022-02-03 21:36:23.000000000,"[{'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-02-02 18:16:42.000000000', 'files': ['releasenotes/notes/skip-podman-purge-undercloud-a3a30b5ac3a0951b.yaml', 'deployment/podman/podman-baremetal-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7eb280ace819e7fa7d8e16a6328a5b3ff6fa00a5', 'message': 'Skip podman purge on Undercloud\n\nWith the undercloud using ephemeral Heat, there will be images for\nephemeral Heat in the local container storage that do not have any\nassociated containers. Podman purge would delete these images, and they\nthen wouldn\'t be available for overcloud commands.\n\nInstead, skip running the podman purge tasks on the Undercloud. This\nmeans that the local container image storage will grow over time. Given\nthe reduced number of services on the undercloud, the storage usage is\nnot as bad as it was previously. However, operators will need to be\naware.\n\nWhile ""podman image prune"" does have a --filter option to preserve\nimages, it does not work in the version of podman in\ncontainer-tools:3.0. When the needed patch[1] is available, the podman\npurge tasks can be re-enabled, which would address the issue of growing\nlocal storage.\n\n[1] https://github.com/containers/podman/commit/a5ad36c65ea07d839fd9bf55a820c8cb9884eed1\n[2] https://github.com/containers/podman/pull/10390\n\nChange-Id: Ibd2200aa912960b267a9975571e05665a29e40f0\nSigned-off-by: James Slagle <jslagle@redhat.com>\n'}]",1,827539,7eb280ace819e7fa7d8e16a6328a5b3ff6fa00a5,12,4,1,7144,,,0,"Skip podman purge on Undercloud

With the undercloud using ephemeral Heat, there will be images for
ephemeral Heat in the local container storage that do not have any
associated containers. Podman purge would delete these images, and they
then wouldn't be available for overcloud commands.

Instead, skip running the podman purge tasks on the Undercloud. This
means that the local container image storage will grow over time. Given
the reduced number of services on the undercloud, the storage usage is
not as bad as it was previously. However, operators will need to be
aware.

While ""podman image prune"" does have a --filter option to preserve
images, it does not work in the version of podman in
container-tools:3.0. When the needed patch[1] is available, the podman
purge tasks can be re-enabled, which would address the issue of growing
local storage.

[1] https://github.com/containers/podman/commit/a5ad36c65ea07d839fd9bf55a820c8cb9884eed1
[2] https://github.com/containers/podman/pull/10390

Change-Id: Ibd2200aa912960b267a9975571e05665a29e40f0
Signed-off-by: James Slagle <jslagle@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/39/827539/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/skip-podman-purge-undercloud-a3a30b5ac3a0951b.yaml', 'deployment/podman/podman-baremetal-ansible.yaml']",2,7eb280ace819e7fa7d8e16a6328a5b3ff6fa00a5,," deployment_source_hosts: default: 'Undercloud' type: string description: Host or hostgroup that runs the deployment # Podman purge tasks are disabled on the undercloud since the ephemeral # Heat images need to be kept. When commit # https://github.com/containers/podman/commit/a5ad36c65ea07d839fd9bf55a820c8cb9884eed1 # is available in the podman version used by TripleO, the ephemeral # Heat images could be labeled in a way that they could be kept with # --fitler, and these tasks could be re-enabled on the undercloud. - deployment_source_hosts not in group_names vars: deployment_source_hosts: {get_param: deployment_source_hosts} # Podman purge tasks are disabled on the undercloud since the ephemeral # Heat images need to be kept. When commit # https://github.com/containers/podman/commit/a5ad36c65ea07d839fd9bf55a820c8cb9884eed1 # is available in the podman version used by TripleO, the ephemeral # Heat images could be labeled in a way that they could be kept with # --fitler, and these tasks could be re-enabled on the undercloud. - deployment_source_hosts not in group_names vars: deployment_source_hosts: {get_param: deployment_source_hosts}",,31,0
openstack%2Fkayobe~master~I4b8a42704f2b0a145ee9dec433d91df67628cd9d,openstack/kayobe,master,I4b8a42704f2b0a145ee9dec433d91df67628cd9d,ntp: Fix service mask when service doesn't exist,MERGED,2022-02-02 12:12:19.000000000,2022-02-04 13:39:50.000000000,2022-02-04 13:37:58.000000000,"[{'_account_id': 14200}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 28048}]","[{'number': 1, 'created': '2022-02-02 12:12:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/e4df5b09f6f9a9d7331b2fa81bb8bbfe94a62226', 'message': ""ntp: Fix service mask when service doesn't exist\n\nThe ntp role attempts to mask NTP services that may conflict with\nchrony. It appears that CentOS stream 8 has removed the\nsystemd-timesyncd service, which leads to the following failure:\n\nTASK ntp : Mask alternative NTP clients to prevent conflicts\nCould not find the requested service systemd-timesyncd.service: host\n\nThe ntp role should handle services that do not exist. This change fixes\nthe handling of missing services to avoid the error.\n\nStory: 2009821\nTask: 44401\n\nChange-Id: I4b8a42704f2b0a145ee9dec433d91df67628cd9d\n""}, {'number': 2, 'created': '2022-02-02 13:57:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/7aa0207cb074ec75d9461ac910987b97b8358c1b', 'message': 'ntp: Fix service mask when service doesn\'t exist\n\nThe ntp role attempts to mask NTP services that may conflict with\nchrony. Currently we are seeing the following failure:\n\n    TASK ntp : Mask alternative NTP clients to prevent conflicts\n    Could not find the requested service systemd-timesyncd.service: host\n\nThe service_facts module shows that the service is not found:\n\n    ""systemd-timesyncd.service"": {\n        ""name"": ""systemd-timesyncd.service"",\n        ""source"": ""systemd"",\n        ""state"": ""stopped"",\n        ""status"": ""not-found""\n    },\n\nAccording to the Internet, this can happen if there are After/Before\ndependencies in one service on another that does not exist.\n\nThis change fixes the handling of these not-found services to avoid the\nerror.\n\nStory: 2009821\nTask: 44401\n\nChange-Id: I4b8a42704f2b0a145ee9dec433d91df67628cd9d\n'}, {'number': 3, 'created': '2022-02-02 16:46:03.000000000', 'files': ['releasenotes/notes/story-2009821-b309165e25e77aea.yaml', 'ansible/roles/ntp/tasks/prepare.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/7173a9f73126eca1cc36bd6997acf10ac75832ff', 'message': 'ntp: Fix service mask when service doesn\'t exist\n\nThe ntp role attempts to mask NTP services that may conflict with\nchrony. Currently we are seeing the following failure:\n\n    TASK ntp : Mask alternative NTP clients to prevent conflicts\n    Could not find the requested service systemd-timesyncd.service: host\n\nThe service_facts module shows that the service is not found:\n\n    ""systemd-timesyncd.service"": {\n        ""name"": ""systemd-timesyncd.service"",\n        ""source"": ""systemd"",\n        ""state"": ""stopped"",\n        ""status"": ""not-found""\n    },\n\nAccording to the Internet, this can happen if there are After/Before\ndependencies in one service on another that does not exist.\n\nThis change fixes the handling of these not-found services to avoid the\nerror.\n\nStory: 2009821\nTask: 44401\n\nDepends-On: https://review.opendev.org/c/openstack/kayobe/+/827404\n\nChange-Id: I4b8a42704f2b0a145ee9dec433d91df67628cd9d\n'}]",4,827486,7173a9f73126eca1cc36bd6997acf10ac75832ff,21,5,3,14826,,,0,"ntp: Fix service mask when service doesn't exist

The ntp role attempts to mask NTP services that may conflict with
chrony. Currently we are seeing the following failure:

    TASK ntp : Mask alternative NTP clients to prevent conflicts
    Could not find the requested service systemd-timesyncd.service: host

The service_facts module shows that the service is not found:

    ""systemd-timesyncd.service"": {
        ""name"": ""systemd-timesyncd.service"",
        ""source"": ""systemd"",
        ""state"": ""stopped"",
        ""status"": ""not-found""
    },

According to the Internet, this can happen if there are After/Before
dependencies in one service on another that does not exist.

This change fixes the handling of these not-found services to avoid the
error.

Story: 2009821
Task: 44401

Depends-On: https://review.opendev.org/c/openstack/kayobe/+/827404

Change-Id: I4b8a42704f2b0a145ee9dec433d91df67628cd9d
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/86/827486/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/story-2009821-b309165e25e77aea.yaml', 'ansible/roles/ntp/tasks/prepare.yml']",2,e4df5b09f6f9a9d7331b2fa81bb8bbfe94a62226,," enabled: false state: stopped with_items: ""{{ ntp_service_disable_list | intersect(ansible_facts.services) }}"""," vars: service_exists: ""{{ item in ansible_facts.services }}"" enabled: ""{{ 'false' if service_exists else omit }}"" state: ""{{ 'stopped' if service_exists else omit }}"" with_items: ""{{ ntp_service_disable_list }}""",8,5
openstack%2Ftripleo-quickstart~master~I3457e03cbb0bbd639597d2e61b6f85eccea50adf,openstack/tripleo-quickstart,master,I3457e03cbb0bbd639597d2e61b6f85eccea50adf,[cs9] add requirements for virt-* commands,ABANDONED,2021-12-14 12:41:37.000000000,2022-02-04 13:25:45.000000000,,"[{'_account_id': 6926}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-12-14 12:41:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/52ad932ae1febc84ea5f838b1928b2b53d5fbd5c', 'message': '[cs9] add requirements for virt-* commands\n\nFor cs9 in libvirt mode, virt-* commands should be installed from\nguestfs-tools.\n\nChange-Id: I3457e03cbb0bbd639597d2e61b6f85eccea50adf\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 2, 'created': '2021-12-21 09:49:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/0a6d5bfeccebefba18ddce3878f8b9046ca631ad', 'message': '[cs9] add requirements for virt-* commands\n\nFor cs9 in libvirt mode, virt-* commands should be installed from\nguestfs-tools.\n\nChange-Id: I3457e03cbb0bbd639597d2e61b6f85eccea50adf\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 3, 'created': '2022-01-11 10:35:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/f08ffb112ec779c471cec06e9692361258bda69d', 'message': '[cs9] add requirements for virt-* commands\n\nFor cs9 in libvirt mode, virt-* commands should be installed from\nguestfs-tools.\n\nChange-Id: I3457e03cbb0bbd639597d2e61b6f85eccea50adf\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 4, 'created': '2022-01-13 11:42:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/ea1101a3023522d3cb6e51fbd2b5dbf51e8dc696', 'message': '[cs9] add requirements for virt-* commands\n\nFor cs9 in libvirt mode, virt-* commands should be installed from\nguestfs-tools.\n\nChange-Id: I3457e03cbb0bbd639597d2e61b6f85eccea50adf\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 5, 'created': '2022-01-17 13:08:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/c8bb21e05cd300e03e2f24acfbe72dd28756a099', 'message': '[cs9] add requirements for virt-* commands\n\nFor cs9 in libvirt mode, virt-* commands should be installed from\nguestfs-tools.\n\nChange-Id: I3457e03cbb0bbd639597d2e61b6f85eccea50adf\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 6, 'created': '2022-01-24 09:20:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/59239e2ea8c3bb4551fc8f2c34270d3af6a86c30', 'message': '[cs9] add requirements for virt-* commands\n\nFor cs9 in libvirt mode, virt-* commands should be installed from\nguestfs-tools.\n\nChange-Id: I3457e03cbb0bbd639597d2e61b6f85eccea50adf\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 7, 'created': '2022-01-25 09:12:12.000000000', 'files': ['roles/environment/vars/centos-9.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/dd79556f2464ca22d9ee5f1252ed3ac3b38b793e', 'message': '[cs9] add requirements for virt-* commands\n\nFor cs9 in libvirt mode, virt-* commands should be installed from\nguestfs-tools.\n\nChange-Id: I3457e03cbb0bbd639597d2e61b6f85eccea50adf\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}]",3,821700,dd79556f2464ca22d9ee5f1252ed3ac3b38b793e,40,6,7,6926,,,0,"[cs9] add requirements for virt-* commands

For cs9 in libvirt mode, virt-* commands should be installed from
guestfs-tools.

Change-Id: I3457e03cbb0bbd639597d2e61b6f85eccea50adf
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/00/821700/4 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,52ad932ae1febc84ea5f838b1928b2b53d5fbd5c,cs9-libvirt-repro,guestfs-tools [platform:centos-9],,1,0
openstack%2Fkolla~master~I5e620cd07326b3d69b07f7c4667176918d7c1b24,openstack/kolla,master,I5e620cd07326b3d69b07f7c4667176918d7c1b24,Switch to use Yoga binary packages,MERGED,2022-01-26 15:26:21.000000000,2022-02-04 13:12:13.000000000,2022-02-04 11:56:11.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}, {'_account_id': 27339}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-01-26 15:26:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/821f25954de0b1243d1d065a9e8bfc088a2a24e8', 'message': 'Switch to use Yoga binary packages\n\nAt R-8 week we are moving to current release binary packages for CentOS\nand Ubuntu (Debian OpenStack team do not publish before RC).\n\nChange-Id: I5e620cd07326b3d69b07f7c4667176918d7c1b24\n'}, {'number': 2, 'created': '2022-01-27 20:46:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/0626fb320b7512e7e75662c55de22f227d0269ef', 'message': 'Switch to use Yoga binary packages\n\nAt R-8 week we are moving to current release binary packages for CentOS\nand Ubuntu (Debian OpenStack team do not publish before RC).\n\nChange-Id: I5e620cd07326b3d69b07f7c4667176918d7c1b24\n'}, {'number': 3, 'created': '2022-02-03 19:48:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/617e3809741a370d38a1db2e754c27bb2ce886b5', 'message': 'Switch to use Yoga binary packages\n\nAt R-8 week we are moving to current release binary packages for CentOS\nand Ubuntu (Debian OpenStack team do not publish before RC).\n\nChange-Id: I5e620cd07326b3d69b07f7c4667176918d7c1b24\n'}, {'number': 4, 'created': '2022-02-04 08:50:12.000000000', 'files': ['docker/base/sources.list.ubuntu.aarch64', 'kolla/common/config.py', 'docker/base/sources.list.ubuntu'], 'web_link': 'https://opendev.org/openstack/kolla/commit/57f56e70623a5cb9bec3a97a1f05b087c99f1ccd', 'message': 'Switch to use Yoga binary packages\n\nAt R-8 week we are moving to current release binary packages for CentOS\nand Ubuntu (Debian OpenStack team do not publish before RC).\n\nChange-Id: I5e620cd07326b3d69b07f7c4667176918d7c1b24\n'}]",8,826488,57f56e70623a5cb9bec3a97a1f05b087c99f1ccd,29,5,4,24072,,,0,"Switch to use Yoga binary packages

At R-8 week we are moving to current release binary packages for CentOS
and Ubuntu (Debian OpenStack team do not publish before RC).

Change-Id: I5e620cd07326b3d69b07f7c4667176918d7c1b24
",git fetch https://review.opendev.org/openstack/kolla refs/changes/88/826488/3 && git format-patch -1 --stdout FETCH_HEAD,"['docker/base/sources.list.ubuntu.aarch64', 'kolla/common/config.py', 'docker/base/sources.list.ubuntu']",3,821f25954de0b1243d1d065a9e8bfc088a2a24e8,,deb http://ubuntu-cloud.archive.canonical.com/ubuntu focal-updates/yoga main,deb http://ubuntu-cloud.archive.canonical.com/ubuntu focal-updates/xena main,4,4
openstack%2Fnova~master~I672af45a1d1c7fb428b1c4983d4f856852829fb9,openstack/nova,master,I672af45a1d1c7fb428b1c4983d4f856852829fb9,Reproduce bug 1952941,MERGED,2021-12-02 08:52:24.000000000,2022-02-04 12:45:56.000000000,2022-02-04 12:42:47.000000000,"[{'_account_id': 7166}, {'_account_id': 11604}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-02 08:52:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/78ad72311b0c46c99ca91e412026b30856878f63', 'message': 'Reproduce bug 1952941\n\nThe added unit test proves that pre-Victoria RequestSpec objects\ndescribing a cpu pinned Instance are not migrated to a proper format\nin Victoria or newer.\n\nRelated-Bug: #1952941\n\nChange-Id: I672af45a1d1c7fb428b1c4983d4f856852829fb9\n'}, {'number': 2, 'created': '2021-12-03 09:08:15.000000000', 'files': ['nova/tests/unit/objects/test_request_spec.py', 'nova/tests/unit/fake_request_spec.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/05e8977cb2fd660dcf6af32c5804f7548bf722a7', 'message': 'Reproduce bug 1952941\n\nThe added unit test proves that pre-Victoria RequestSpec objects\ndescribing a cpu pinned Instance are not migrated to a proper format\nin Victoria or newer.\n\nRelated-Bug: #1952941\n\nChange-Id: I672af45a1d1c7fb428b1c4983d4f856852829fb9\n'}]",3,820121,05e8977cb2fd660dcf6af32c5804f7548bf722a7,19,3,2,9708,,,0,"Reproduce bug 1952941

The added unit test proves that pre-Victoria RequestSpec objects
describing a cpu pinned Instance are not migrated to a proper format
in Victoria or newer.

Related-Bug: #1952941

Change-Id: I672af45a1d1c7fb428b1c4983d4f856852829fb9
",git fetch https://review.opendev.org/openstack/nova refs/changes/21/820121/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/objects/test_request_spec.py', 'nova/tests/unit/fake_request_spec.py']",2,78ad72311b0c46c99ca91e412026b30856878f63,bug/1952941,"def fake_db_spec(spec_obj=None): if not spec_obj: spec_obj = fake_spec_obj() del spec_obj.retry 'instance_uuid': spec_obj.instance_uuid, 'spec': jsonutils.dumps(spec_obj.obj_to_primitive()),","def fake_db_spec(): req_obj = fake_spec_obj() del req_obj.retry 'instance_uuid': req_obj.instance_uuid, 'spec': jsonutils.dumps(req_obj.obj_to_primitive()),",69,5
openstack%2Fpuppet-openstack-integration~stable%2Fvictoria~I97995b6821a24b64edbc5b1e874ba67a0418f96a,openstack/puppet-openstack-integration,stable/victoria,I97995b6821a24b64edbc5b1e874ba67a0418f96a,Ceph: Use centos-8-stream instead of centos-8,MERGED,2022-02-03 16:27:14.000000000,2022-02-04 12:41:12.000000000,2022-02-04 12:41:12.000000000,"[{'_account_id': 16137}, {'_account_id': 16312}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-03 16:27:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/6d6f3b26ea6e96637c2d31817b4600b72e1591b5', 'message': ""Ceph: Use centos-8-stream instead of centos-8\n\nConflicts:\n\tconfigure_facts.sh\n\tmanifests/repos.pp\n\tzuul.d/litmus.yaml\n\nBackport note:\nThis backport includes part of f384effdb42e0cbe19e137f0411b09ac8fef5b48\nwhich fixed the repository url used when mirror info is not available.\n\nAlso, this adds a puppet-openstack_extras parameter to enforce usage of\nstream repo. Default was changed during Xena cycle by [1] but that\nis not present in stable/wallaby and older.\n  [1] cf8b734766bbe75ac5ce23d7a4237b77c8200dd3\n\nFinally, Nautilus is not available in ceph mirror so we'll switch to\nthe mirror repo currently RDO is hosting.\n\nChange-Id: I97995b6821a24b64edbc5b1e874ba67a0418f96a\n(cherry picked from commit b2fa6c0e7bb6d5e319cd820484c120d043f58ab2)\n(cherry picked from commit 8c00b663d38a0f71cc2d108ff799f7aaa0b8f9e0)\n(cherry picked from commit 149a2dff33392c4a68ebeebd662c43e689b8c67c)\n""}, {'number': 2, 'created': '2022-02-03 16:28:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/ed7d4fbd539bfe3d3976f018407bf85be29b418f', 'message': ""Ceph: Use centos-8-stream instead of centos-8\n\nConflicts:\n\tconfigure_facts.sh\n\tmanifests/repos.pp\n\tzuul.d/litmus.yaml\n\nBackport note:\nThis backport includes part of f384effdb42e0cbe19e137f0411b09ac8fef5b48\nwhich fixed the repository url used when mirror info is not available.\n\nAlso, this adds a puppet-openstack_extras parameter to enforce usage of\nstream repo. Default was changed during Xena cycle by [1] but that\nis not present in stable/wallaby and older.\n  [1] cf8b734766bbe75ac5ce23d7a4237b77c8200dd3\n\nFinally, Nautilus is not available in ceph mirror so we'll switch to\nthe mirror repo currently RDO is hosting.\n\nChange-Id: I97995b6821a24b64edbc5b1e874ba67a0418f96a\n(cherry picked from commit b2fa6c0e7bb6d5e319cd820484c120d043f58ab2)\n(cherry picked from commit 8c00b663d38a0f71cc2d108ff799f7aaa0b8f9e0)\n(cherry picked from commit 149a2dff33392c4a68ebeebd662c43e689b8c67c)\n""}, {'number': 3, 'created': '2022-02-03 16:33:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/2a025bba8d881e6acbed1f21b5fcdab31141d88d', 'message': ""Ceph: Use centos-8-stream instead of centos-8\n\nConflicts:\n\tconfigure_facts.sh\n\tmanifests/repos.pp\n\nBackport note:\nThis backport includes part of f384effdb42e0cbe19e137f0411b09ac8fef5b48\nwhich fixed the repository url used when mirror info is not available.\n\nAlso, this adds a puppet-openstack_extras parameter to enforce usage of\nstream repo. Default was changed during Xena cycle by [1] but that\nis not present in stable/wallaby and older.\n  [1] cf8b734766bbe75ac5ce23d7a4237b77c8200dd3\n\nFinally, Nautilus is not available in ceph mirror so we'll switch to\nthe mirror repo currently RDO is hosting.\n\nChange-Id: I97995b6821a24b64edbc5b1e874ba67a0418f96a\n(cherry picked from commit b2fa6c0e7bb6d5e319cd820484c120d043f58ab2)\n(cherry picked from commit 8c00b663d38a0f71cc2d108ff799f7aaa0b8f9e0)\n(cherry picked from commit 149a2dff33392c4a68ebeebd662c43e689b8c67c)\n""}, {'number': 4, 'created': '2022-02-03 23:06:14.000000000', 'files': ['manifests/repos.pp', 'configure_facts.sh'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/0a9eec11e0db740bac5ee4e4a303e710c41137a7', 'message': ""Ceph: Use centos-8-stream instead of centos-8\n\nConflicts:\n\tconfigure_facts.sh\n\tmanifests/repos.pp\n\nBackport note:\nThis backport includes part of f384effdb42e0cbe19e137f0411b09ac8fef5b48\nwhich fixed the repository url used when mirror info is not available.\n\nAlso, this adds a puppet-openstack_extras parameter to enforce usage of\nstream repo. Default was changed during Xena cycle by [1] but that\nis not present in stable/wallaby and older.\n  [1] cf8b734766bbe75ac5ce23d7a4237b77c8200dd3\n\nFinally, Nautilus is not available in ceph mirror so we'll switch to\nthe mirror repo currently RDO is hosting.\n\nChange-Id: I97995b6821a24b64edbc5b1e874ba67a0418f96a\n(cherry picked from commit b2fa6c0e7bb6d5e319cd820484c120d043f58ab2)\n(cherry picked from commit 8c00b663d38a0f71cc2d108ff799f7aaa0b8f9e0)\n(cherry picked from commit 4d6a35effa25b23e1f345402ca5ef34df74b7674)\n""}]",0,827711,0a9eec11e0db740bac5ee4e4a303e710c41137a7,11,3,4,9816,,,0,"Ceph: Use centos-8-stream instead of centos-8

Conflicts:
	configure_facts.sh
	manifests/repos.pp

Backport note:
This backport includes part of f384effdb42e0cbe19e137f0411b09ac8fef5b48
which fixed the repository url used when mirror info is not available.

Also, this adds a puppet-openstack_extras parameter to enforce usage of
stream repo. Default was changed during Xena cycle by [1] but that
is not present in stable/wallaby and older.
  [1] cf8b734766bbe75ac5ce23d7a4237b77c8200dd3

Finally, Nautilus is not available in ceph mirror so we'll switch to
the mirror repo currently RDO is hosting.

Change-Id: I97995b6821a24b64edbc5b1e874ba67a0418f96a
(cherry picked from commit b2fa6c0e7bb6d5e319cd820484c120d043f58ab2)
(cherry picked from commit 8c00b663d38a0f71cc2d108ff799f7aaa0b8f9e0)
(cherry picked from commit 4d6a35effa25b23e1f345402ca5ef34df74b7674)
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/11/827711/4 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/repos.pp', 'configure_facts.sh']",2,6d6f3b26ea6e96637c2d31817b4600b72e1591b5,," elif [ ""$CEPH_VERSION"" == ""nautilus"" ]; then CEPH_MIRROR_HOST=""${NODEPOOL_RDO_PROXY}/centos${VERSION_ID}-master/deps/storage/${CEPH_VERSION}/"" elif [ ""$CEPH_VERSION"" == ""nautilus"" ]; then CEPH_MIRROR_HOST=""${NODEPOOL_RDO_PROXY}/centos${VERSION_ID}-master/deps/storage/${CEPH_VERSION}/"" CEPH_MIRROR_HOST=""${CENTOS_MIRROR_HOST}/centos/${VERSION_ID}-stream/storage/x86_64/ceph-${CEPH_VERSION}/"""," CEPH_MIRROR_HOST=""${CENTOS_MIRROR_HOST}/centos/${VERSION_ID}/storage/x86_64/ceph-${CEPH_VERSION}/""",7,2
openstack%2Fpython-heatclient~stable%2Fvictoria~I67b4957cea1ccbd5cdc0314d2eaddef0c24f7dfc,openstack/python-heatclient,stable/victoria,I67b4957cea1ccbd5cdc0314d2eaddef0c24f7dfc,[goal] Migrate testing to ubuntu focal,ABANDONED,2020-10-28 15:44:11.000000000,2022-02-04 12:40:02.000000000,,"[{'_account_id': 8556}, {'_account_id': 12404}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-10-28 15:44:11.000000000', 'files': ['requirements.txt', 'lower-constraints.txt', 'heatclient/v1/shell.py'], 'web_link': 'https://opendev.org/openstack/python-heatclient/commit/cfd44d849f95e066ca5db4a402820d7acd6f5ce2', 'message': '[goal] Migrate testing to ubuntu focal\n\nAs per victoria cycle testing runtime and community goal[1]\nwe need to migrate upstream CI/CD to Ubuntu Focal(20.04).\n\nFixing:\n- bug#1886298\nBump the lower constraints for required deps which added python3.8\nsupport in their later version.\n\n- noqa for pep8 C901 check.\n\nCloses-Bug: #1886298\n\nStory: #2007865\nTask: #40186\n\n[1] https://governance.openstack.org/tc/goals/selected/victoria/migrate-ci-cd-jobs-to-ubuntu-focal\n\nChange-Id: I67b4957cea1ccbd5cdc0314d2eaddef0c24f7dfc\n(cherry picked from commit 17958681f6b2f076b54951680843b2d2eac59494)\n'}]",0,760169,cfd44d849f95e066ca5db4a402820d7acd6f5ce2,8,3,1,11904,,,0,"[goal] Migrate testing to ubuntu focal

As per victoria cycle testing runtime and community goal[1]
we need to migrate upstream CI/CD to Ubuntu Focal(20.04).

Fixing:
- bug#1886298
Bump the lower constraints for required deps which added python3.8
support in their later version.

- noqa for pep8 C901 check.

Closes-Bug: #1886298

Story: #2007865
Task: #40186

[1] https://governance.openstack.org/tc/goals/selected/victoria/migrate-ci-cd-jobs-to-ubuntu-focal

Change-Id: I67b4957cea1ccbd5cdc0314d2eaddef0c24f7dfc
(cherry picked from commit 17958681f6b2f076b54951680843b2d2eac59494)
",git fetch https://review.opendev.org/openstack/python-heatclient refs/changes/69/760169/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'lower-constraints.txt', 'heatclient/v1/shell.py']",3,cfd44d849f95e066ca5db4a402820d7acd6f5ce2,migrate-to-focal-stable/victoria,"def do_output_show(hc, args): # noqa: C901","def do_output_show(hc, args):",7,7
openstack%2Fpuppet-openstack-integration~stable%2Fwallaby~I97995b6821a24b64edbc5b1e874ba67a0418f96a,openstack/puppet-openstack-integration,stable/wallaby,I97995b6821a24b64edbc5b1e874ba67a0418f96a,Ceph: Use centos-8-stream instead of centos-8,MERGED,2022-02-03 16:22:54.000000000,2022-02-04 12:35:58.000000000,2022-02-04 12:35:58.000000000,"[{'_account_id': 16137}, {'_account_id': 16312}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-03 16:22:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/9f59961adc4da2fee4c80d5d8d342ee735976297', 'message': 'Ceph: Use centos-8-stream instead of centos-8\n\nConflicts:\n\tconfigure_facts.sh\n\nBackport note:\nThis backport includes part of f384effdb42e0cbe19e137f0411b09ac8fef5b48\nwhich fixed the repository url used when mirror info is not available.\n\nAlso, this adds a puppet-openstack_extras parameter to enforce usage of\nstream repo. Default was changed during Xena cycle by [1] but that\nis not present in stable/wallaby and older.\n  [1] cf8b734766bbe75ac5ce23d7a4237b77c8200dd3\n\nIn addition, because Octopus is not currently available, this reverts\nthe following commit to switch to Nautilus. ROD has been using Nautilus\nfor their Wallaby release and it\'s known to work.\n\n    a13001fc36b9db0ee00d58eac8b0b07bae0f84a8.\n    ""Switch to Ceph Octopus from Nautilus""\n\nFinally, Nautilus is not available in ceph mirror so we\'ll switch to\nthe mirror repo currently RDO is hosting.\n\nChange-Id: I97995b6821a24b64edbc5b1e874ba67a0418f96a\n(cherry picked from commit b2fa6c0e7bb6d5e319cd820484c120d043f58ab2)\n(cherry picked from commit 8c00b663d38a0f71cc2d108ff799f7aaa0b8f9e0)\n'}, {'number': 2, 'created': '2022-02-03 16:26:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/149a2dff33392c4a68ebeebd662c43e689b8c67c', 'message': 'Ceph: Use centos-8-stream instead of centos-8\n\nConflicts:\n\tconfigure_facts.sh\n\nBackport note:\nThis backport includes part of f384effdb42e0cbe19e137f0411b09ac8fef5b48\nwhich fixed the repository url used when mirror info is not available.\n\nAlso, this adds a puppet-openstack_extras parameter to enforce usage of\nstream repo. Default was changed during Xena cycle by [1] but that\nis not present in stable/wallaby and older.\n  [1] cf8b734766bbe75ac5ce23d7a4237b77c8200dd3\n\nIn addition, because Octopus is not currently available, this reverts\nthe following commit to switch to Nautilus. ROD has been using Nautilus\nfor their Wallaby release and it\'s known to work.\n\n    a13001fc36b9db0ee00d58eac8b0b07bae0f84a8.\n    ""Switch to Ceph Octopus from Nautilus""\n\nFinally, Nautilus is not available in ceph mirror so we\'ll switch to\nthe mirror repo currently RDO is hosting.\n\nChange-Id: I97995b6821a24b64edbc5b1e874ba67a0418f96a\n(cherry picked from commit b2fa6c0e7bb6d5e319cd820484c120d043f58ab2)\n(cherry picked from commit 8c00b663d38a0f71cc2d108ff799f7aaa0b8f9e0)\n'}, {'number': 3, 'created': '2022-02-03 23:05:26.000000000', 'files': ['run_tests.sh', 'functions', 'manifests/repos.pp', 'zuul.d/litmus.yaml', 'configure_facts.sh', 'zuul.d/base.yaml', 'zuul.d/integration.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/4d6a35effa25b23e1f345402ca5ef34df74b7674', 'message': 'Ceph: Use centos-8-stream instead of centos-8\n\nConflicts:\n\tconfigure_facts.sh\n\nBackport note:\nThis backport includes part of f384effdb42e0cbe19e137f0411b09ac8fef5b48\nwhich fixed the repository url used when mirror info is not available.\n\nAlso, this adds a puppet-openstack_extras parameter to enforce usage of\nstream repo. Default was changed during Xena cycle by [1] but that\nis not present in stable/wallaby and older.\n  [1] cf8b734766bbe75ac5ce23d7a4237b77c8200dd3\n\nIn addition, because Octopus is not currently available, this reverts\nthe following commit to switch to Nautilus. ROD has been using Nautilus\nfor their Wallaby release and it\'s known to work.\n\n    a13001fc36b9db0ee00d58eac8b0b07bae0f84a8.\n    ""Switch to Ceph Octopus from Nautilus""\n\nFinally, Nautilus is not available in ceph mirror so we\'ll switch to\nthe mirror repo currently RDO is hosting.\n\nChange-Id: I97995b6821a24b64edbc5b1e874ba67a0418f96a\n(cherry picked from commit b2fa6c0e7bb6d5e319cd820484c120d043f58ab2)\n(cherry picked from commit 8c00b663d38a0f71cc2d108ff799f7aaa0b8f9e0)\n'}]",1,827708,4d6a35effa25b23e1f345402ca5ef34df74b7674,11,3,3,9816,,,0,"Ceph: Use centos-8-stream instead of centos-8

Conflicts:
	configure_facts.sh

Backport note:
This backport includes part of f384effdb42e0cbe19e137f0411b09ac8fef5b48
which fixed the repository url used when mirror info is not available.

Also, this adds a puppet-openstack_extras parameter to enforce usage of
stream repo. Default was changed during Xena cycle by [1] but that
is not present in stable/wallaby and older.
  [1] cf8b734766bbe75ac5ce23d7a4237b77c8200dd3

In addition, because Octopus is not currently available, this reverts
the following commit to switch to Nautilus. ROD has been using Nautilus
for their Wallaby release and it's known to work.

    a13001fc36b9db0ee00d58eac8b0b07bae0f84a8.
    ""Switch to Ceph Octopus from Nautilus""

Finally, Nautilus is not available in ceph mirror so we'll switch to
the mirror repo currently RDO is hosting.

Change-Id: I97995b6821a24b64edbc5b1e874ba67a0418f96a
(cherry picked from commit b2fa6c0e7bb6d5e319cd820484c120d043f58ab2)
(cherry picked from commit 8c00b663d38a0f71cc2d108ff799f7aaa0b8f9e0)
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/08/827708/3 && git format-patch -1 --stdout FETCH_HEAD,"['run_tests.sh', 'functions', 'manifests/repos.pp', 'zuul.d/litmus.yaml', 'configure_facts.sh', 'zuul.d/base.yaml', 'zuul.d/integration.yaml']",7,9f59961adc4da2fee4c80d5d8d342ee735976297,, ceph: nautilus ceph: nautilus, ceph: octopus ceph: octopus,21,13
openstack%2Fswift~master~I0f5477f383e496ec94816439d404ad6a4cfc075b,openstack/swift,master,I0f5477f383e496ec94816439d404ad6a4cfc075b,Make NodeIter require a logger argument,MERGED,2022-01-19 15:38:51.000000000,2022-02-04 12:33:25.000000000,2022-02-04 08:50:33.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-19 15:38:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/c57f5849818fdc705e76cde625c33262aacccd0e', 'message': 'Make NodeIter require a logger argument\n\nChange-Id: I0f5477f383e496ec94816439d404ad6a4cfc075b\n'}, {'number': 2, 'created': '2022-01-27 13:40:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/ef6556bb5d9cd16955446d342c809066a390b607', 'message': 'Make NodeIter require a logger argument\n\nChange-Id: I0f5477f383e496ec94816439d404ad6a4cfc075b\n'}, {'number': 3, 'created': '2022-01-27 13:55:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/0cb31487a1aebf409701b604629be2dcfa0c7b85', 'message': 'Make NodeIter require a logger argument\n\nChange-Id: I0f5477f383e496ec94816439d404ad6a4cfc075b\n'}, {'number': 4, 'created': '2022-01-27 17:06:47.000000000', 'files': ['test/unit/proxy/controllers/test_base.py', 'swift/proxy/server.py', 'swift/proxy/controllers/base.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/a50726f27a1cf76339fb23253389bc58539979b7', 'message': 'Make NodeIter require a logger argument\n\nChange-Id: I0f5477f383e496ec94816439d404ad6a4cfc075b\n'}]",5,825335,a50726f27a1cf76339fb23253389bc58539979b7,25,2,4,7847,,,0,"Make NodeIter require a logger argument

Change-Id: I0f5477f383e496ec94816439d404ad6a4cfc075b
",git fetch https://review.opendev.org/openstack/swift refs/changes/35/825335/4 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/proxy/controllers/test_base.py', 'swift/proxy/server.py', 'swift/proxy/controllers/base.py']",3,c57f5849818fdc705e76cde625c33262aacccd0e,p-fix-statsd-prefix," :param logger: a logger instance def __init__(self, app, ring, partition, logger, node_iter=None, policy=None): self.logger = logger"," :param logger: a logger instance; defaults to the app logger def __init__(self, app, ring, partition, node_iter=None, policy=None, logger=None): self.logger = logger or self.app.logger",13,10
openstack%2Fpython-tripleoclient~master~I58f7b3dc111fc930ebbffa8389d0bf222d3239b4,openstack/python-tripleoclient,master,I58f7b3dc111fc930ebbffa8389d0bf222d3239b4,Deprecate 'overcloud profiles' commands,MERGED,2022-01-19 02:47:23.000000000,2022-02-04 12:33:19.000000000,2022-02-04 12:28:23.000000000,"[{'_account_id': 7144}, {'_account_id': 11090}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-19 02:47:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/0fcbc342f4201753529325f05d0c09e2ed142d28', 'message': ""Deprecate 'overcloud profiles' commands\n\nSince we do not use nova on the undercloud by default\nlet's add a deprecation warning for removal of the commands.\n\nChange-Id: I58f7b3dc111fc930ebbffa8389d0bf222d3239b4\n""}, {'number': 2, 'created': '2022-01-27 19:03:41.000000000', 'files': ['releasenotes/notes/deprecate-overcloud-profiles-0bc0a368775844ad.yaml', 'tripleoclient/v1/overcloud_profiles.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/482b0acd0dcf5c68f5e30502edcacd4352f26126', 'message': ""Deprecate 'overcloud profiles' commands\n\nSince we do not use nova on the undercloud by default\nlet's add a deprecation warning for removal of the commands.\n\nChange-Id: I58f7b3dc111fc930ebbffa8389d0bf222d3239b4\n""}]",3,825237,482b0acd0dcf5c68f5e30502edcacd4352f26126,18,4,2,24245,,,0,"Deprecate 'overcloud profiles' commands

Since we do not use nova on the undercloud by default
let's add a deprecation warning for removal of the commands.

Change-Id: I58f7b3dc111fc930ebbffa8389d0bf222d3239b4
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/37/825237/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/deprecate-overcloud-profiles-0bc0a368775844ad.yaml', 'tripleoclient/v1/overcloud_profiles.py']",2,0fcbc342f4201753529325f05d0c09e2ed142d28,deprecate-overcloud-profiles," self.log.warning(""This command has been DEPRECATED and will be "" ""removed. The compute service is no longer used on "" ""the undercloud by default, hence profile matching "" ""with compute flavors is no longer used."") self.log.warning(""This command has been DEPRECATED and will be "" ""removed. The compute service is no longer used on "" ""the undercloud by default, hence profile matching "" ""with compute flavors is no longer used."")",,16,0
