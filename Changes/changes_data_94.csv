id,project,branch,change_id,subject,status,created,updated,submitted,reviewers,revisions,total_comment_count,number,current_revision,discussion_messages_count,reviewers_count,revisions_count,owner_account_id,owner_name,owner_username,is_owner_bot,commit_message,git_command,changed_files,files_count,commit_id,topic,added_lines,deleted_lines,insertions,deletions
openstack%2Fproject-config~master~I3307d89acfac8d81b2f7e1d711cb0b2bf7abf676,openstack/project-config,master,I3307d89acfac8d81b2f7e1d711cb0b2bf7abf676,opendev/infra-openafs-deb : add promote job,MERGED,2022-05-06 03:35:25.000000000,2022-05-06 04:05:05.000000000,2022-05-06 04:05:05.000000000,"[{'_account_id': 7118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-06 03:35:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/113dce8ddb667f992c9ce57eaafc366659cc255a', 'message': 'opendev/infra-openafs-deb : add promote job\n\nThe promote job lives in openstack/openstack-zuul-jobs where the\nsecret for uploading is.  If the promote job is put in by\nproject-config, it should be able to access the secret.\n\nChange-Id: I3307d89acfac8d81b2f7e1d711cb0b2bf7abf676\n'}, {'number': 2, 'created': '2022-05-06 03:45:19.000000000', 'files': ['zuul.d/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/62116d98e66f62dcc4392e3346d17ed69932afb8', 'message': 'opendev/infra-openafs-deb : add promote job\n\nThe promote job lives in openstack/openstack-zuul-jobs where the\nsecret for uploading is.  If the promote job is put in by\nproject-config, it should be able to access the secret.\n\nJust to keep things together, add the gate/check jobs too.\n\nChange-Id: I3307d89acfac8d81b2f7e1d711cb0b2bf7abf676\n'}]",1,840806,62116d98e66f62dcc4392e3346d17ed69932afb8,8,2,2,7118,,,0,"opendev/infra-openafs-deb : add promote job

The promote job lives in openstack/openstack-zuul-jobs where the
secret for uploading is.  If the promote job is put in by
project-config, it should be able to access the secret.

Just to keep things together, add the gate/check jobs too.

Change-Id: I3307d89acfac8d81b2f7e1d711cb0b2bf7abf676
",git fetch https://review.opendev.org/openstack/project-config refs/changes/06/840806/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/projects.yaml'],1,113dce8ddb667f992c9ce57eaafc366659cc255a,opendev-openafs-deb, name: opendev/infra-openafs-deb promote: jobs: - openafs-deb-package-build-promote - project:,,6,0
openstack%2Ftrove-dashboard~master~I5621c712a016dc3b87363bd4d3b7c586e5cb0ddc,openstack/trove-dashboard,master,I5621c712a016dc3b87363bd4d3b7c586e5cb0ddc,Enables dashboard to select a configuration-id,NEW,2020-08-19 05:07:43.000000000,2022-05-06 02:26:46.000000000,,"[{'_account_id': 6732}, {'_account_id': 22348}, {'_account_id': 31737}, {'_account_id': 32029}]","[{'number': 1, 'created': '2020-08-19 05:07:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove-dashboard/commit/7a4f5a128d13be3f50fa63b031673f987d765ef5', 'message': 'Enables dashboard to select a configuration-id\n\nThis patch will enable trove-dashboard to select a configuration-id of\nthe configuration group to attach to the cluster when creating a new\ncluster.\n\nChange-Id: I5621c712a016dc3b87363bd4d3b7c586e5cb0ddc\nStory: 2007999\n'}, {'number': 2, 'created': '2022-03-14 15:43:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove-dashboard/commit/8a6a9c4e96a1838a2034a8d4593e01de6eab0177', 'message': 'Enables dashboard to select a configuration-id\n\nThis patch will enable trove-dashboard to select a configuration-id of\nthe configuration group to attach to the cluster when creating a new\ncluster.\n\nChange-Id: I5621c712a016dc3b87363bd4d3b7c586e5cb0ddc\nStory: 2007999\nTask: 40643\n'}, {'number': 3, 'created': '2022-05-06 00:42:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove-dashboard/commit/f6b4df24ea7e1ed25a48dfdb62a09c1c0f57863c', 'message': 'Enables dashboard to select a configuration-id\n\nThis patch will enable trove-dashboard to select a configuration-id of\nthe configuration group to attach to the cluster when creating a new\ncluster.\n\nChange-Id: I5621c712a016dc3b87363bd4d3b7c586e5cb0ddc\nStory: 2007999\nTask: 40643\n'}, {'number': 4, 'created': '2022-05-06 01:44:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove-dashboard/commit/6cd6b1f1e8b97fa410dccd8cc6dab0f29805ace1', 'message': 'Enables dashboard to select a configuration-id\n\nThis patch will enable trove-dashboard to select a configuration-id of\nthe configuration group to attach to the cluster when creating a new\ncluster.\n\nChange-Id: I5621c712a016dc3b87363bd4d3b7c586e5cb0ddc\nStory: 2007999\nTask: 40643\n'}, {'number': 5, 'created': '2022-05-06 02:03:18.000000000', 'files': ['trove_dashboard/api/trove.py', 'trove_dashboard/content/database_clusters/forms.py', 'trove_dashboard/content/database_clusters/panel.py', 'trove_dashboard/enabled/_1740_project_database_clusters_panel.py', 'trove_dashboard/content/database_clusters/tests.py'], 'web_link': 'https://opendev.org/openstack/trove-dashboard/commit/e731c2af864254eb8673844099e4262673af249d', 'message': 'Enables dashboard to select a configuration-id\n\nThis patch will enable trove-dashboard to select a configuration-id of\nthe configuration group to attach to the cluster when creating a new\ncluster.\n\nChange-Id: I5621c712a016dc3b87363bd4d3b7c586e5cb0ddc\nStory: 2007999\nTask: 40643\n'}]",1,746833,e731c2af864254eb8673844099e4262673af249d,17,4,5,31737,,,0,"Enables dashboard to select a configuration-id

This patch will enable trove-dashboard to select a configuration-id of
the configuration group to attach to the cluster when creating a new
cluster.

Change-Id: I5621c712a016dc3b87363bd4d3b7c586e5cb0ddc
Story: 2007999
Task: 40643
",git fetch https://review.opendev.org/openstack/trove-dashboard refs/changes/33/746833/2 && git format-patch -1 --stdout FETCH_HEAD,"['trove_dashboard/api/trove.py', 'trove_dashboard/content/database_clusters/forms.py', 'trove_dashboard/content/database_clusters/tests.py']",3,7a4f5a128d13be3f50fa63b031673f987d765ef5,hiwkby-add-cfg-selector-in-cluster-creation," locality=None, configuration=None) locality=None, configuration=None) locality=None, configuration=None)", locality=None) locality=None) locality=None),76,50
openstack%2Fopenstack-zuul-jobs~master~Ia250acf64b76ef4e1b981f2ebb1febe6e063157c,openstack/openstack-zuul-jobs,master,Ia250acf64b76ef4e1b981f2ebb1febe6e063157c,openafs-deb-package-build : rework into generic job,MERGED,2022-05-05 23:43:59.000000000,2022-05-06 02:26:07.000000000,2022-05-06 02:21:42.000000000,"[{'_account_id': 7118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-05 23:43:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/0a846814563e9b3c6edc4658e872a1310a144904', 'message': '[wip] openafs-deb-package-build : rework into generic job\n\nChange-Id: Ia250acf64b76ef4e1b981f2ebb1febe6e063157c\n'}, {'number': 2, 'created': '2022-05-05 23:53:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/9e111b51ac2cb4f6dd9abffcd556f3e88b04fa17', 'message': '[wip] openafs-deb-package-build : rework into generic job\n\nChange-Id: Ia250acf64b76ef4e1b981f2ebb1febe6e063157c\n'}, {'number': 3, 'created': '2022-05-06 00:01:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/330b2d6703c6854e9480408baeff4ddb1dfcaaf5', 'message': '[wip] openafs-deb-package-build : rework into generic job\n\nChange-Id: Ia250acf64b76ef4e1b981f2ebb1febe6e063157c\n'}, {'number': 4, 'created': '2022-05-06 00:33:01.000000000', 'files': ['roles/openafs-deb-package-build/files/debian/openafs-modules-dkms.dkms', 'roles/openafs-deb-package-build/tasks/main.yaml', 'roles/openafs-deb-package-build/files/debian/openafs-dbserver.NEWS', 'roles/openafs-deb-package-build/files/debian/README.source', 'roles/openafs-deb-package-build/files/debian/afs-rootvol', 'roles/openafs-deb-package-build/files/debian/openafs-doc.docs', 'roles/openafs-deb-package-build/files/debian/openafs-client.dirs', 'roles/openafs-deb-package-build/files/debian/openafs-fuse.links', 'roles/openafs-deb-package-build/files/debian/openafs-doc.doc-base.openafs-admin', 'roles/openafs-deb-package-build/files/debian/openafs-fileserver.init', 'roles/openafs-deb-package-build/files/debian/module/compat', 'roles/openafs-deb-package-build/files/debian/openafs-client.config', 'roles/openafs-deb-package-build/files/debian/po/ru.po', 'roles/openafs-deb-package-build/files/debian/module/control', 'roles/openafs-deb-package-build/files/debian/openafs-dbserver.preinst', 'roles/openafs-deb-package-build/files/debian/patches/0004-Disable-rx-perf-test.patch', 'roles/openafs-deb-package-build/files/debian/openafs-doc.examples', 'roles/openafs-deb-package-build/files/debian/openafs-fuse.install', 'roles/openafs-deb-package-build/files/debian/openafs-client-precheck', 'roles/openafs-deb-package-build/files/debian/po/ja.po', 'roles/openafs-deb-package-build/files/debian/CellServDB', 'roles/openafs-deb-package-build/files/debian/openafs-fileserver.config', 'roles/openafs-deb-package-build/files/debian/openafs-client.docs', 'roles/openafs-deb-package-build/files/debian/watch', 'roles/openafs-deb-package-build/files/debian/sysname', 'roles/openafs-deb-package-build/files/debian/openafs-fileserver.postinst', 'roles/openafs-deb-package-build/files/debian/libafsauthent2.install', 'roles/openafs-deb-package-build/files/debian/openafs-client.postinst', 'roles/openafs-deb-package-build/files/debian/copyright', 'roles/openafs-deb-package-build/files/debian/openafs-fuse.dirs', 'roles/openafs-deb-package-build/files/debian/libkopenafs2.install', 'roles/openafs-deb-package-build/files/debian/po/de.po', 'roles/openafs-deb-package-build/files/debian/openafs-doc.README.Debian', 'roles/openafs-deb-package-build/files/debian/openafs-krb5.prerm', 'roles/openafs-deb-package-build/files/debian/po/nl.po', 'roles/openafs-deb-package-build/files/debian/openafs-client.preinst', 'roles/openafs-deb-package-build/files/debian/openafs-krb5.NEWS', 'roles/openafs-deb-package-build/files/debian/module/control.in', 'roles/openafs-deb-package-build/files/debian/rules', 'roles/openafs-deb-package-build/files/debian/module/sysname', 'roles/openafs-deb-package-build/files/debian/openafs-client.lintian-overrides', 'roles/openafs-deb-package-build/files/debian/openafs-client.templates', 'roles/openafs-deb-package-build/files/debian/module/kernel-version', 'roles/openafs-deb-package-build/files/debian/openafs-fileserver.dirs', 'roles/openafs-deb-package-build/files/debian/ConfigUtils.pm', 'roles/openafs-deb-package-build/files/debian/po/POTFILES.in', 'roles/openafs-deb-package-build/files/debian/openafs-fileserver.install', 'roles/openafs-deb-package-build/files/debian/openafs-fileserver.postrm', 'roles/openafs-deb-package-build/files/debian/openafs-client.install', 'roles/openafs-deb-package-build/files/debian/openafs-client.postrm', 'roles/openafs-deb-package-build/files/debian/control', 'roles/openafs-deb-package-build/files/debian/openafs-fileserver.preinst', 'roles/openafs-deb-package-build/files/debian/openafs-fileserver.templates', 'roles/openafs-deb-package-build/files/debian/libafsrpc2.symbols', 'roles/openafs-deb-package-build/files/debian/po/it.po', 'roles/openafs-deb-package-build/files/debian/patches/0007-Temporarily-disable-flaky-test.patch', 'roles/openafs-deb-package-build/files/debian/openafs-fileserver.lintian-overrides', 'roles/openafs-deb-package-build/files/debian/libopenafs-dev.dirs', 'roles/openafs-deb-package-build/files/debian/TODO', 'roles/openafs-deb-package-build/files/debian/openafs-client.init', 'roles/openafs-deb-package-build/files/debian/afs.conf', 'roles/openafs-deb-package-build/files/debian/module/prep-modules', 'roles/openafs-deb-package-build/files/debian/openafs-dbserver.install', 'roles/openafs-deb-package-build/files/debian/po/cs.po', 'roles/openafs-deb-package-build/files/debian/po/fr.po', 'roles/openafs-deb-package-build/files/debian/module/rules', 'roles/openafs-deb-package-build/files/debian/po/pt.po', 'roles/openafs-deb-package-build/files/debian/po/gl.po', 'roles/openafs-deb-package-build/files/debian/po/templates.pot', 'roles/openafs-deb-package-build/files/debian/afs-newcell', 'roles/openafs-deb-package-build/files/debian/configuration-transcript.txt', 'roles/openafs-deb-package-build/files/debian/openafs-krb5.install', 'roles/openafs-deb-package-build/files/debian/openafs-dbserver.dirs', 'roles/openafs-deb-package-build/files/debian/changelog', 'roles/openafs-deb-package-build/files/debian/openafs-fileserver.service', 'roles/openafs-deb-package-build/files/debian/po/es.po', 'roles/openafs-deb-package-build/files/debian/source/format', 'roles/openafs-deb-package-build/files/debian/README.Debian', 'roles/openafs-deb-package-build/files/debian/libafsrpc2.install', 'roles/openafs-deb-package-build/files/debian/openafs-client.prerm', 'roles/openafs-deb-package-build/files/debian/openafs-modules-source.docs', 'roles/openafs-deb-package-build/files/debian/po/zh_CN.po', 'roles/openafs-deb-package-build/files/debian/openafs-doc.doc-base.openafs-quick', 'roles/openafs-deb-package-build/files/debian/po/vi.po', 'roles/openafs-deb-package-build/files/debian/po/da.po', 'roles/openafs-deb-package-build/files/debian/README.modules', 'roles/openafs-deb-package-build/files/debian/openafs-fileserver.NEWS', 'roles/openafs-deb-package-build/files/debian/openafs-client-postcheck', 'roles/openafs-deb-package-build/files/debian/openafs-client.service', 'roles/openafs-deb-package-build/files/debian/openafs-krb5.postinst', 'roles/openafs-deb-package-build/files/debian/README.servers', 'roles/openafs-deb-package-build/files/debian/openafs-modules-dkms.docs', 'roles/openafs-deb-package-build/files/debian/openafs-dbserver.lintian-overrides', 'roles/openafs-deb-package-build/files/debian/openafs-dbserver.postrm', 'roles/openafs-deb-package-build/files/debian/patches/series', 'roles/openafs-deb-package-build/files/debian/po/sv.po', 'roles/openafs-deb-package-build/files/debian/module/genchanges', 'roles/openafs-deb-package-build/files/debian/clean', 'roles/openafs-deb-package-build/files/debian/openafs-client.NEWS', 'roles/openafs-deb-package-build/files/debian/libopenafs-dev.install', 'roles/openafs-deb-package-build/files/debian/patches/0003-Catch-up-to-roken-s-rename-of-base64-symbols.patch', 'roles/openafs-deb-package-build/files/debian/libafsauthent2.symbols', 'roles/openafs-deb-package-build/files/debian/openafs-doc.doc-base.openafs-user', 'roles/openafs-deb-package-build/files/debian/po/pt_BR.po', 'roles/openafs-deb-package-build/files/debian/libkopenafs2.symbols', 'zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/11cc19b1b9dae5f121dd638acdd0ac31b6c29911', 'message': ""openafs-deb-package-build : rework into generic job\n\nPer the notes in Ie00c42857e7a541aa1ccb8fe480756c1e7a38dc4 having one\ndebian/ directory checked in here doesn't work across multiple\ndistributions.  Rather than trying to keep mulitple versions around,\nor munge files, we've split the debian/* and source generation into a\nseparate repo.\n\nThis makes the job more generic to build the debs from this repo.  See\nIe66d3b1e39ef9fa714b1dabdb7eb61cc43538587 for an example of using this.\n\nChange-Id: Ia250acf64b76ef4e1b981f2ebb1febe6e063157c\n""}]",1,840788,11cc19b1b9dae5f121dd638acdd0ac31b6c29911,13,2,4,7118,,,0,"openafs-deb-package-build : rework into generic job

Per the notes in Ie00c42857e7a541aa1ccb8fe480756c1e7a38dc4 having one
debian/ directory checked in here doesn't work across multiple
distributions.  Rather than trying to keep mulitple versions around,
or munge files, we've split the debian/* and source generation into a
separate repo.

This makes the job more generic to build the debs from this repo.  See
Ie66d3b1e39ef9fa714b1dabdb7eb61cc43538587 for an example of using this.

Change-Id: Ia250acf64b76ef4e1b981f2ebb1febe6e063157c
",git fetch https://review.opendev.org/openstack/openstack-zuul-jobs refs/changes/88/840788/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/openafs-deb-package-build/files/debian/openafs-modules-dkms.dkms', 'roles/openafs-deb-package-build/tasks/main.yaml', 'roles/openafs-deb-package-build/files/debian/openafs-dbserver.NEWS', 'roles/openafs-deb-package-build/files/debian/README.source', 'roles/openafs-deb-package-build/files/debian/afs-rootvol', 'roles/openafs-deb-package-build/files/debian/openafs-doc.docs', 'roles/openafs-deb-package-build/files/debian/openafs-client.dirs', 'roles/openafs-deb-package-build/files/debian/openafs-fuse.links', 'roles/openafs-deb-package-build/files/debian/openafs-doc.doc-base.openafs-admin', 'roles/openafs-deb-package-build/files/debian/openafs-fileserver.init', 'roles/openafs-deb-package-build/files/debian/module/compat', 'roles/openafs-deb-package-build/files/debian/openafs-client.config', 'roles/openafs-deb-package-build/files/debian/po/ru.po', 'roles/openafs-deb-package-build/files/debian/module/control', 'roles/openafs-deb-package-build/files/debian/openafs-dbserver.preinst', 'roles/openafs-deb-package-build/files/debian/patches/0004-Disable-rx-perf-test.patch', 'roles/openafs-deb-package-build/files/debian/openafs-doc.examples', 'roles/openafs-deb-package-build/files/debian/openafs-fuse.install', 'roles/openafs-deb-package-build/files/debian/openafs-client-precheck', 'roles/openafs-deb-package-build/files/debian/po/ja.po', 'roles/openafs-deb-package-build/files/debian/CellServDB', 'roles/openafs-deb-package-build/files/debian/openafs-fileserver.config', 'roles/openafs-deb-package-build/files/debian/openafs-client.docs', 'roles/openafs-deb-package-build/files/debian/watch', 'roles/openafs-deb-package-build/files/debian/sysname', 'roles/openafs-deb-package-build/files/debian/openafs-fileserver.postinst', 'roles/openafs-deb-package-build/files/debian/libafsauthent2.install', 'roles/openafs-deb-package-build/files/debian/openafs-client.postinst', 'roles/openafs-deb-package-build/files/debian/copyright', 'roles/openafs-deb-package-build/files/debian/openafs-fuse.dirs', 'roles/openafs-deb-package-build/files/debian/libkopenafs2.install', 'roles/openafs-deb-package-build/files/debian/po/de.po', 'roles/openafs-deb-package-build/files/debian/openafs-doc.README.Debian', 'roles/openafs-deb-package-build/files/debian/openafs-krb5.prerm', 'roles/openafs-deb-package-build/files/debian/po/nl.po', 'roles/openafs-deb-package-build/files/debian/openafs-client.preinst', 'roles/openafs-deb-package-build/files/debian/openafs-krb5.NEWS', 'roles/openafs-deb-package-build/files/debian/module/control.in', 'roles/openafs-deb-package-build/files/debian/rules', 'roles/openafs-deb-package-build/files/debian/module/sysname', 'roles/openafs-deb-package-build/files/debian/openafs-client.lintian-overrides', 'roles/openafs-deb-package-build/files/debian/openafs-client.templates', 'roles/openafs-deb-package-build/files/debian/module/kernel-version', 'roles/openafs-deb-package-build/files/debian/openafs-fileserver.dirs', 'roles/openafs-deb-package-build/files/debian/ConfigUtils.pm', 'roles/openafs-deb-package-build/files/debian/po/POTFILES.in', 'roles/openafs-deb-package-build/files/debian/openafs-fileserver.install', 'roles/openafs-deb-package-build/files/debian/openafs-fileserver.postrm', 'roles/openafs-deb-package-build/files/debian/openafs-client.install', 'roles/openafs-deb-package-build/files/debian/openafs-client.postrm', 'roles/openafs-deb-package-build/files/debian/control', 'roles/openafs-deb-package-build/files/debian/openafs-fileserver.preinst', 'roles/openafs-deb-package-build/files/debian/openafs-fileserver.templates', 'roles/openafs-deb-package-build/files/debian/libafsrpc2.symbols', 'roles/openafs-deb-package-build/files/debian/po/it.po', 'roles/openafs-deb-package-build/files/debian/patches/0007-Temporarily-disable-flaky-test.patch', 'roles/openafs-deb-package-build/files/debian/openafs-fileserver.lintian-overrides', 'roles/openafs-deb-package-build/files/debian/libopenafs-dev.dirs', 'roles/openafs-deb-package-build/files/debian/TODO', 'roles/openafs-deb-package-build/files/debian/openafs-client.init', 'roles/openafs-deb-package-build/files/debian/afs.conf', 'roles/openafs-deb-package-build/files/debian/module/prep-modules', 'roles/openafs-deb-package-build/files/debian/openafs-dbserver.install', 'roles/openafs-deb-package-build/files/debian/po/cs.po', 'roles/openafs-deb-package-build/files/debian/po/fr.po', 'roles/openafs-deb-package-build/files/debian/module/rules', 'roles/openafs-deb-package-build/files/debian/po/pt.po', 'roles/openafs-deb-package-build/files/debian/po/gl.po', 'roles/openafs-deb-package-build/files/debian/po/templates.pot', 'roles/openafs-deb-package-build/files/debian/afs-newcell', 'roles/openafs-deb-package-build/files/debian/configuration-transcript.txt', 'roles/openafs-deb-package-build/files/debian/openafs-krb5.install', 'roles/openafs-deb-package-build/files/debian/openafs-dbserver.dirs', 'roles/openafs-deb-package-build/files/debian/changelog', 'roles/openafs-deb-package-build/files/debian/openafs-fileserver.service', 'roles/openafs-deb-package-build/files/debian/po/es.po', 'roles/openafs-deb-package-build/files/debian/source/format', 'roles/openafs-deb-package-build/files/debian/README.Debian', 'roles/openafs-deb-package-build/files/debian/libafsrpc2.install', 'roles/openafs-deb-package-build/files/debian/openafs-client.prerm', 'roles/openafs-deb-package-build/files/debian/openafs-modules-source.docs', 'roles/openafs-deb-package-build/files/debian/po/zh_CN.po', 'roles/openafs-deb-package-build/files/debian/openafs-doc.doc-base.openafs-quick', 'roles/openafs-deb-package-build/files/debian/po/vi.po', 'roles/openafs-deb-package-build/files/debian/po/da.po', 'roles/openafs-deb-package-build/files/debian/README.modules', 'roles/openafs-deb-package-build/files/debian/openafs-fileserver.NEWS', 'roles/openafs-deb-package-build/files/debian/openafs-client-postcheck', 'roles/openafs-deb-package-build/files/debian/openafs-client.service', 'roles/openafs-deb-package-build/files/debian/openafs-krb5.postinst', 'roles/openafs-deb-package-build/files/debian/README.servers', 'roles/openafs-deb-package-build/files/debian/openafs-modules-dkms.docs', 'roles/openafs-deb-package-build/files/debian/openafs-dbserver.lintian-overrides', 'roles/openafs-deb-package-build/files/debian/openafs-dbserver.postrm', 'roles/openafs-deb-package-build/files/debian/patches/series', 'roles/openafs-deb-package-build/files/debian/po/sv.po', 'roles/openafs-deb-package-build/files/debian/module/genchanges', 'roles/openafs-deb-package-build/files/debian/clean', 'roles/openafs-deb-package-build/files/debian/openafs-client.NEWS', 'roles/openafs-deb-package-build/files/debian/libopenafs-dev.install', 'roles/openafs-deb-package-build/files/debian/patches/0003-Catch-up-to-roken-s-rename-of-base64-symbols.patch', 'roles/openafs-deb-package-build/files/debian/libafsauthent2.symbols', 'roles/openafs-deb-package-build/files/debian/openafs-doc.doc-base.openafs-user', 'roles/openafs-deb-package-build/files/debian/po/pt_BR.po', 'roles/openafs-deb-package-build/files/debian/libkopenafs2.symbols']",105,0a846814563e9b3c6edc4658e872a1310a144904,openafs-dput,,libkopenafs.so.2 libkopenafs2 #MINVER# * Build-Depends-Package: libopenafs-dev k_hasafs@Base 1.8.0~pre1 k_haspag@Base 1.8.0~pre1 k_pioctl@Base 1.8.0~pre1 k_setpag@Base 1.8.0~pre1 k_unlog@Base 1.8.0~pre1 ,23,14620
openstack%2Fskyline-console~master~I84321f4348d574504e369de9a556c5e522def7d6,openstack/skyline-console,master,I84321f4348d574504e369de9a556c5e522def7d6,fix: remove extra IPv6-ICMP in create security group rule,MERGED,2022-05-06 01:28:43.000000000,2022-05-06 02:03:42.000000000,2022-05-06 02:03:42.000000000,"[{'_account_id': 22348}, {'_account_id': 27623}, {'_account_id': 30434}]","[{'number': 1, 'created': '2022-05-06 01:28:43.000000000', 'files': ['src/resources/security-group-rule.jsx'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/17bd59ec15b6189bbf1a855e94124f77e9a45d0f', 'message': 'fix: remove extra IPv6-ICMP in create security group rule\n\nremove extra IPv6-ICMP in create security group rule\n\nChange-Id: I84321f4348d574504e369de9a556c5e522def7d6\n'}]",0,840793,17bd59ec15b6189bbf1a855e94124f77e9a45d0f,6,3,1,34718,,,0,"fix: remove extra IPv6-ICMP in create security group rule

remove extra IPv6-ICMP in create security group rule

Change-Id: I84321f4348d574504e369de9a556c5e522def7d6
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/93/840793/1 && git format-patch -1 --stdout FETCH_HEAD,['src/resources/security-group-rule.jsx'],1,17bd59ec15b6189bbf1a855e94124f77e9a45d0f,,," { value: 'icmpv6', label: t('IPv6-ICMP') },",0,1
openstack%2Fnetworking-generic-switch~master~I34c33bb5b67561eb90997549317f0fd5333e18db,openstack/networking-generic-switch,master,I34c33bb5b67561eb90997549317f0fd5333e18db,CI: Alternate logic for multinode key replacement,MERGED,2022-05-04 17:20:07.000000000,2022-05-06 01:40:36.000000000,2022-05-06 01:39:32.000000000,"[{'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2022-05-04 17:20:07.000000000', 'files': ['devstack/plugin.sh'], 'web_link': 'https://opendev.org/openstack/networking-generic-switch/commit/f469dc1397b5f8666e3004f2a5f519d90fcc4ac8', 'message': ""CI: Alternate logic for multinode key replacement\n\nFor some reason, the conditional is not matching... and because these\njobs require the change to be merged for it to be tested in grenade,\nthis is difficult to spot. Hopefully this works...\n\nWhat was happening as reported in job logs:\n\nconfigure_generic_switch:151 :   '[' -f /opt/stack/.ssh/id_rsa ']'\nconfigure_generic_switch:154 :   local cnt=0\nconfigure_generic_switch:155 :   local section\n\nChange-Id: I34c33bb5b67561eb90997549317f0fd5333e18db\n""}]",3,840519,f469dc1397b5f8666e3004f2a5f519d90fcc4ac8,9,3,1,11655,,,0,"CI: Alternate logic for multinode key replacement

For some reason, the conditional is not matching... and because these
jobs require the change to be merged for it to be tested in grenade,
this is difficult to spot. Hopefully this works...

What was happening as reported in job logs:

configure_generic_switch:151 :   '[' -f /opt/stack/.ssh/id_rsa ']'
configure_generic_switch:154 :   local cnt=0
configure_generic_switch:155 :   local section

Change-Id: I34c33bb5b67561eb90997549317f0fd5333e18db
",git fetch https://review.opendev.org/openstack/networking-generic-switch refs/changes/19/840519/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/plugin.sh'],1,f469dc1397b5f8666e3004f2a5f519d90fcc4ac8,," if [ -e ""$HOME/.ssh/id_rsa"" ]; then GENERIC_SWITCH_KEY_FILE=""${HOME}/.ssh/id_rsa"""," if [ -f /opt/stack/.ssh/id_rsa ]; then GENERIC_SWITCH_KEY_FILE=""/opt/stack/.ssh/id_rsa""",2,2
openstack%2Frequirements~master~I3123ffcea06cad9a36260cfd03e8ae54482a67b3,openstack/requirements,master,I3123ffcea06cad9a36260cfd03e8ae54482a67b3,update constraint for oslo.concurrency to new release 4.5.1,MERGED,2022-05-05 09:59:56.000000000,2022-05-06 01:26:01.000000000,2022-05-06 01:24:08.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-05-05 09:59:56.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/7f030e551e41a43dbaf317c2a01c5eb4866878ff', 'message': 'update constraint for oslo.concurrency to new release 4.5.1\n\nmeta: version: 4.5.1\nmeta: diff-start: -\nmeta: series: independent\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: no\nmeta: release:Author: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Commit: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Change-Id: Idba5a8c8714f5b1d0e9f1de1d26ae5db9ae5dced\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>\nChange-Id: I3123ffcea06cad9a36260cfd03e8ae54482a67b3\n'}]",0,840627,7f030e551e41a43dbaf317c2a01c5eb4866878ff,14,3,1,11131,,,0,"update constraint for oslo.concurrency to new release 4.5.1

meta: version: 4.5.1
meta: diff-start: -
meta: series: independent
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: Hervé Beraud <hberaud@redhat.com>
meta: release:Commit: Hervé Beraud <hberaud@redhat.com>
meta: release:Change-Id: Idba5a8c8714f5b1d0e9f1de1d26ae5db9ae5dced
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
Change-Id: I3123ffcea06cad9a36260cfd03e8ae54482a67b3
",git fetch https://review.opendev.org/openstack/requirements refs/changes/27/840627/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,7f030e551e41a43dbaf317c2a01c5eb4866878ff,new-release,oslo.concurrency===4.5.1,oslo.concurrency===4.5.0,1,1
openstack%2Frequirements~master~I1bb81e7a377e74733ed8735d5a1c7fc4790a31e8,openstack/requirements,master,I1bb81e7a377e74733ed8735d5a1c7fc4790a31e8,update constraint for taskflow to new release 4.7.0,MERGED,2022-05-05 10:06:20.000000000,2022-05-06 01:25:11.000000000,2022-05-06 01:24:05.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-05-05 10:06:20.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/116eef1970b9b64c1507cf31279c0c82b512dc4b', 'message': 'update constraint for taskflow to new release 4.7.0\n\nmeta: version: 4.7.0\nmeta: diff-start: -\nmeta: series: independent\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: no\nmeta: release:Author: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Commit: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Change-Id: Idba5a8c8714f5b1d0e9f1de1d26ae5db9ae5dced\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>\nChange-Id: I1bb81e7a377e74733ed8735d5a1c7fc4790a31e8\n'}]",1,840634,116eef1970b9b64c1507cf31279c0c82b512dc4b,16,3,1,11131,,,0,"update constraint for taskflow to new release 4.7.0

meta: version: 4.7.0
meta: diff-start: -
meta: series: independent
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: Hervé Beraud <hberaud@redhat.com>
meta: release:Commit: Hervé Beraud <hberaud@redhat.com>
meta: release:Change-Id: Idba5a8c8714f5b1d0e9f1de1d26ae5db9ae5dced
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
Change-Id: I1bb81e7a377e74733ed8735d5a1c7fc4790a31e8
",git fetch https://review.opendev.org/openstack/requirements refs/changes/34/840634/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,116eef1970b9b64c1507cf31279c0c82b512dc4b,new-release,taskflow===4.7.0,taskflow===4.6.4,1,1
openstack%2Frequirements~stable%2Fxena~I5c0a1f032773299cc2a67fc33ef30e83703244c4,openstack/requirements,stable/xena,I5c0a1f032773299cc2a67fc33ef30e83703244c4,Bump pyroute2 to 0.6.6,MERGED,2022-05-05 14:42:15.000000000,2022-05-06 01:24:11.000000000,2022-05-06 01:24:11.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-05 14:42:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/315c2de3d2317c71707493b11fda88cc94e16c70', 'message': 'Bump pyroute2 to 0.6.6\n\npyroute2 0.6.4 has a bug that was fixed in 0.6.6 [0]. This issue was\nreported in stable/xena by an Octavia user [1].\n\n[0] https://github.com/svinota/pyroute2/issues/871\n[1] https://storyboard.openstack.org/#!/story/2010027\n\nChange-Id: I5c0a1f032773299cc2a67fc33ef30e83703244c4\n'}, {'number': 2, 'created': '2022-05-05 14:58:59.000000000', 'files': ['global-requirements.txt', 'upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/7ab916154da7bc420fa5a958e3e786b1d9a78945', 'message': 'Bump pyroute2 to 0.6.6\n\npyroute2 0.6.4 has a bug that was fixed in 0.6.6 [0]. This issue was\nreported in stable/xena by an Octavia user [1].\n\n[0] https://github.com/svinota/pyroute2/issues/871\n[1] https://storyboard.openstack.org/#!/story/2010027\n\nChange-Id: I5c0a1f032773299cc2a67fc33ef30e83703244c4\n'}]",1,840681,7ab916154da7bc420fa5a958e3e786b1d9a78945,14,2,2,29244,,,0,"Bump pyroute2 to 0.6.6

pyroute2 0.6.4 has a bug that was fixed in 0.6.6 [0]. This issue was
reported in stable/xena by an Octavia user [1].

[0] https://github.com/svinota/pyroute2/issues/871
[1] https://storyboard.openstack.org/#!/story/2010027

Change-Id: I5c0a1f032773299cc2a67fc33ef30e83703244c4
",git fetch https://review.opendev.org/openstack/requirements refs/changes/81/840681/2 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,315c2de3d2317c71707493b11fda88cc94e16c70,,pyroute2.nftables===0.6.6pyroute2===0.6.6pyroute2.ethtool===0.6.6pyroute2.nslink===0.6.6pyroute2.ndb===0.6.6pyroute2.core===0.6.6pyroute2.ipdb===0.6.6pyroute2.ipset===0.6.6,pyroute2.nftables===0.6.4pyroute2===0.6.4pyroute2.ethtool===0.6.4pyroute2.nslink===0.6.4pyroute2.ndb===0.6.4pyroute2.core===0.6.4pyroute2.ipdb===0.6.4pyroute2.ipset===0.6.4,8,8
openstack%2Ftripleo-quickstart~master~I73deb8895f97665e0dd8457ffb5eeb18a88e800f,openstack/tripleo-quickstart,master,I73deb8895f97665e0dd8457ffb5eeb18a88e800f,WIP: Exclude cloud-init-22.* from Appstream for c8,NEW,2022-05-05 20:26:49.000000000,2022-05-06 00:50:18.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-05-05 20:26:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/09a6d4592d90a5d1e9a908e00c14455472d09f8c', 'message': 'WIP: Exclude cloud-init-22.* from Appstream for c8\n\nRemove cloud-init-22.*  for release files to avoid\ndeploy failures on c8 jobs.\n\nChange-Id: I73deb8895f97665e0dd8457ffb5eeb18a88e800f\nRelated-Bug: #1971751\n'}, {'number': 2, 'created': '2022-05-05 21:32:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/c4bbc5d313b6a5739afc69065aa0532e199121da', 'message': 'WIP: Exclude cloud-init-22.* from Appstream for c8\n\nRemove cloud-init-22.*  for release files to avoid\ndeploy failures on c8 jobs.\n\nChange-Id: I73deb8895f97665e0dd8457ffb5eeb18a88e800f\nRelated-Bug: #1971751\n'}, {'number': 3, 'created': '2022-05-05 21:56:29.000000000', 'files': ['config/release/tripleo-ci/CentOS-8/train.yml', 'config/release/tripleo-ci/CentOS-8/promotion-testing-hash-wallaby.yml', 'config/release/tripleo-ci/CentOS-8/victoria.yml', 'config/release/tripleo-ci/CentOS-8/promotion-testing-hash-victoria.yml', 'config/release/tripleo-ci/CentOS-8/promotion-testing-hash-train.yml', 'config/release/tripleo-ci/CentOS-8/wallaby.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/736d494a52d30f29bba7119c685668198735f150', 'message': 'WIP: Exclude cloud-init-22.* from Appstream for c8\n\nRemove cloud-init-22.*  for release files to avoid\ndeploy failures on c8 jobs.\n\nChange-Id: I73deb8895f97665e0dd8457ffb5eeb18a88e800f\nRelated-Bug: #1971751\n'}]",0,840755,736d494a52d30f29bba7119c685668198735f150,11,2,3,9976,,,0,"WIP: Exclude cloud-init-22.* from Appstream for c8

Remove cloud-init-22.*  for release files to avoid
deploy failures on c8 jobs.

Change-Id: I73deb8895f97665e0dd8457ffb5eeb18a88e800f
Related-Bug: #1971751
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/55/840755/1 && git format-patch -1 --stdout FETCH_HEAD,"['config/release/tripleo-ci/CentOS-8/train.yml', 'config/release/tripleo-ci/CentOS-8/promotion-testing-hash-wallaby.yml', 'config/release/tripleo-ci/CentOS-8/victoria.yml', 'config/release/tripleo-ci/CentOS-8/promotion-testing-hash-victoria.yml', 'config/release/tripleo-ci/CentOS-8/promotion-testing-hash-train.yml', 'config/release/tripleo-ci/CentOS-8/wallaby.yml']",6,09a6d4592d90a5d1e9a908e00c14455472d09f8c,bug1971751, - cloud*init*22*,,10,0
openstack%2Fdesignate~master~I60489dd951397b7a6c1610ee7eae1016f59d98db,openstack/designate,master,I60489dd951397b7a6c1610ee7eae1016f59d98db,Updated HA document and picture,NEW,2022-02-15 17:48:10.000000000,2022-05-05 23:43:54.000000000,,"[{'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 22623}, {'_account_id': 31933}]","[{'number': 1, 'created': '2022-02-15 17:48:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/3f6526b2afaaea5e235170aedc3a400cfb10f7e2', 'message': 'Updated HA document and picture\n\nThis patch includes an updated HA archutecture picture and supporting\ntext.\n\nChange-Id: I60489dd951397b7a6c1610ee7eae1016f59d98db\n'}, {'number': 2, 'created': '2022-03-04 16:16:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/f191651e41285d1ee410665c31518747bb85f509', 'message': 'Updated HA document and picture\n\nThis patch includes an updated HA archutecture picture and supporting\ntext.\n\nChange-Id: I60489dd951397b7a6c1610ee7eae1016f59d98db\n'}, {'number': 3, 'created': '2022-03-05 16:18:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/b5660eabac429efbeb5a088f34707c1e470d9318', 'message': 'Updated HA document and picture\n\nThis patch includes an updated HA archutecture picture and supporting\ntext.\n\nChange-Id: I60489dd951397b7a6c1610ee7eae1016f59d98db\n'}, {'number': 4, 'created': '2022-05-05 23:34:32.000000000', 'files': ['doc/source/admin/ha.rst', 'doc/source/images/Designate-HA-Overview.png'], 'web_link': 'https://opendev.org/openstack/designate/commit/a5db43946fd0fdf8d8f88eba1ffb309f58fee4cd', 'message': 'Updated HA document and picture\n\nThis patch includes an updated HA archutecture picture and supporting\ntext.\n\nChange-Id: I60489dd951397b7a6c1610ee7eae1016f59d98db\n'}]",70,829388,a5db43946fd0fdf8d8f88eba1ffb309f58fee4cd,16,4,4,5572,,,0,"Updated HA document and picture

This patch includes an updated HA archutecture picture and supporting
text.

Change-Id: I60489dd951397b7a6c1610ee7eae1016f59d98db
",git fetch https://review.opendev.org/openstack/designate refs/changes/88/829388/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/admin/ha.rst', 'doc/source/images/Designate-HA-Overview.png']",2,3f6526b2afaaea5e235170aedc3a400cfb10f7e2,doc/HA,,,109,179
openstack%2Fplacement~stable%2Ftrain~If7e6060c867df21360a1f588ca872d65d75eb3c1,openstack/placement,stable/train,If7e6060c867df21360a1f588ca872d65d75eb3c1,Use 'functional-without-sample-db-tests' tox env for placement nova job,NEW,2022-05-05 22:25:46.000000000,2022-05-05 23:42:26.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-05-05 22:25:46.000000000', 'files': ['requirements.txt', '.zuul.yaml', 'lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/placement/commit/42b153a52ca4e279d7b0e45ef42df442622fce0e', 'message': ""Use 'functional-without-sample-db-tests' tox env for placement nova job\n\nNOTE(melwitt): This is a combination of 2 commits needed to fix the\ngate, a chicken and egg problem where each fix depends on the other.\n\nNova defines (depends-on) a new tox env 'functional-without-sample-db-tests'\nto run the nova functional test by exlcuding the api|notification\nsample_tests, and db-related tests.\n\nWe can use that to fix the error  are facing currently for this job\n- https://zuul.openstack.org/build/a8c186b2c7124856ae32477f10e2b9a4\n\nDepends-On: https://review.opendev.org/c/openstack/nova/+/840777\n\nDrop lower-constraints.txt and its testing\n\nAs discussed in TC PTG[1] and TC resolution[2], we are\ndropping the lower-constraints.txt file and its testing.\nWe will keep lower bounds in the requirements.txt file but\nwith a note that these are not tested lower bounds and we\ntry our best to keep them updated.\n\nConflicts:\n    .zuul.yaml\n    lower-constraints.txt\n\nNOTE(melwitt): conflict is due to branch specific settings (job\ntemplate names, lower constraints changes).\n\n[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326\n[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal\n\nChange-Id: Ieba7daf39fa3323e8c9a7396747449f24189fcd5\n(cherry picked from commit 03d567928e31d3dc85d4dd3f5617785e7380b6b1)\n(cherry picked from commit 4d3df47ee3e394e3178d58c15306620809ad2806)\n(cherry picked from commit f96984abd48f4d938d0fff0bab9b12ed933e320e)\n\nChange-Id: If7e6060c867df21360a1f588ca872d65d75eb3c1\n(cherry picked from commit 6d49b6df1d3f62e2003c55509875380148281a79)\n(cherry picked from commit 7422ed4d7adb26868602a3f4652119ff0392d298)\n(cherry picked from commit 69dcdcb2b7df0a81addec55804ce91c724ca0f54)\n(cherry picked from commit 503b1f27cefeadf127d3f9f274901eba52f67c01)\n(cherry picked from commit 445a7b544b5fce45a2e79046df1fdc2548e6db9e)\n""}]",0,840778,42b153a52ca4e279d7b0e45ef42df442622fce0e,2,1,1,4690,,,0,"Use 'functional-without-sample-db-tests' tox env for placement nova job

NOTE(melwitt): This is a combination of 2 commits needed to fix the
gate, a chicken and egg problem where each fix depends on the other.

Nova defines (depends-on) a new tox env 'functional-without-sample-db-tests'
to run the nova functional test by exlcuding the api|notification
sample_tests, and db-related tests.

We can use that to fix the error  are facing currently for this job
- https://zuul.openstack.org/build/a8c186b2c7124856ae32477f10e2b9a4

Depends-On: https://review.opendev.org/c/openstack/nova/+/840777

Drop lower-constraints.txt and its testing

As discussed in TC PTG[1] and TC resolution[2], we are
dropping the lower-constraints.txt file and its testing.
We will keep lower bounds in the requirements.txt file but
with a note that these are not tested lower bounds and we
try our best to keep them updated.

Conflicts:
    .zuul.yaml
    lower-constraints.txt

NOTE(melwitt): conflict is due to branch specific settings (job
template names, lower constraints changes).

[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326
[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal

Change-Id: Ieba7daf39fa3323e8c9a7396747449f24189fcd5
(cherry picked from commit 03d567928e31d3dc85d4dd3f5617785e7380b6b1)
(cherry picked from commit 4d3df47ee3e394e3178d58c15306620809ad2806)
(cherry picked from commit f96984abd48f4d938d0fff0bab9b12ed933e320e)

Change-Id: If7e6060c867df21360a1f588ca872d65d75eb3c1
(cherry picked from commit 6d49b6df1d3f62e2003c55509875380148281a79)
(cherry picked from commit 7422ed4d7adb26868602a3f4652119ff0392d298)
(cherry picked from commit 69dcdcb2b7df0a81addec55804ce91c724ca0f54)
(cherry picked from commit 503b1f27cefeadf127d3f9f274901eba52f67c01)
(cherry picked from commit 445a7b544b5fce45a2e79046df1fdc2548e6db9e)
",git fetch https://review.opendev.org/openstack/placement refs/changes/78/840778/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', '.zuul.yaml', 'lower-constraints.txt', 'tox.ini']",4,42b153a52ca4e279d7b0e45ef42df442622fce0e,bug/1780799,," [testenv:lower-constraints] # When using pbr and in a git repo, 'setup.py install' does not install # packages. 'setup.py develop', used when usedevelop is True, does. usedevelop = False # Use our own install_command to turn off upper constraints, which conflicts # with lower constraints. install_command = pip install {opts} {packages} deps = -c{toxinidir}/lower-constraints.txt -r{toxinidir}/test-requirements.txt -r{toxinidir}/requirements.txt # Test with both functional and unit tests. commands = {[testenv]commands} stestr --test-path=./placement/tests run {posargs}",7,113
openstack%2Fos-api-ref~master~I252d3cea1bf66553a4c41f25dacfd8ec77fb1cd3,openstack/os-api-ref,master,I252d3cea1bf66553a4c41f25dacfd8ec77fb1cd3,Drop python3.6/3.7 support in testing runtime,MERGED,2022-05-05 10:03:06.000000000,2022-05-05 23:06:45.000000000,2022-05-05 23:05:46.000000000,"[{'_account_id': 8556}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-05 10:03:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-api-ref/commit/627b2320e67fff43c0d38d0068ec6142108508de', 'message': 'Drop python3.6 support in testing runtime\n\nIn Zed cycle testing runtime, we are targetting to drop the\npython 3.6 support, project started adding python 3.8 as minimum,\n\nexample nova:\n- https://github.com/openstack/nova/blob/56b5aed08c6a3ed81b78dc216f0165ebfe3c3350/setup.cfg#L13\n\nChange-Id: I252d3cea1bf66553a4c41f25dacfd8ec77fb1cd3\n'}, {'number': 2, 'created': '2022-05-05 14:20:31.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/os-api-ref/commit/d3c6dd2c0ce511cff2ca24bd9566d7fb47ffb9f2', 'message': 'Drop python3.6/3.7 support in testing runtime\n\nIn Zed cycle testing runtime, we are targetting to drop the\npython 3.6/3.7 support, project started adding python 3.8 as minimum,\nexample nova:\n- https://github.com/openstack/nova/blob/56b5aed08c6a3ed81b78dc216f0165ebfe3c3350/setup.cfg#L13\n\nAlso indicates that we support python 3.9.\n\nChange-Id: I252d3cea1bf66553a4c41f25dacfd8ec77fb1cd3\n'}]",1,840631,d3c6dd2c0ce511cff2ca24bd9566d7fb47ffb9f2,10,3,2,28522,,,0,"Drop python3.6/3.7 support in testing runtime

In Zed cycle testing runtime, we are targetting to drop the
python 3.6/3.7 support, project started adding python 3.8 as minimum,
example nova:
- https://github.com/openstack/nova/blob/56b5aed08c6a3ed81b78dc216f0165ebfe3c3350/setup.cfg#L13

Also indicates that we support python 3.9.

Change-Id: I252d3cea1bf66553a4c41f25dacfd8ec77fb1cd3
",git fetch https://review.opendev.org/openstack/os-api-ref refs/changes/31/840631/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,627b2320e67fff43c0d38d0068ec6142108508de,drop-py36,python_requires = >=3.8 Programming Language :: Python :: 3.8 Programming Language :: Python :: 3.9,python_requires = >=3.6 Programming Language :: Python :: 3.6 Programming Language :: Python :: 3.7,3,3
openstack%2Fopenstack-zuul-jobs~master~I2f332f5bb16b17e169f55ab7451ed87b755eafdb,openstack/openstack-zuul-jobs,master,I2f332f5bb16b17e169f55ab7451ed87b755eafdb,Run python3.10 tox jobs on Jammy,MERGED,2022-05-04 21:25:20.000000000,2022-05-05 23:05:49.000000000,2022-05-05 23:03:02.000000000,"[{'_account_id': 5263}, {'_account_id': 6547}, {'_account_id': 7118}, {'_account_id': 8556}, {'_account_id': 11604}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-04 21:25:20.000000000', 'files': ['zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/dd1deaf41ecf84c660a2d12fa45691ba8683d535', 'message': 'Run python3.10 tox jobs on Jammy\n\nWe do this for two reasons. The first is that Jammy is an LTS release\nwith 5 years of support which makes this a good long term platform for\npython3.10 testing. The other is for consistency with the other python\ntox job platforms (they are all Ubuntu as well).\n\nDepends-On: https://review.opendev.org/c/opendev/base-jobs/+/840355\nChange-Id: I2f332f5bb16b17e169f55ab7451ed87b755eafdb\n'}]",7,840545,dd1deaf41ecf84c660a2d12fa45691ba8683d535,18,6,1,4146,,,0,"Run python3.10 tox jobs on Jammy

We do this for two reasons. The first is that Jammy is an LTS release
with 5 years of support which makes this a good long term platform for
python3.10 testing. The other is for consistency with the other python
tox job platforms (they are all Ubuntu as well).

Depends-On: https://review.opendev.org/c/opendev/base-jobs/+/840355
Change-Id: I2f332f5bb16b17e169f55ab7451ed87b755eafdb
",git fetch https://review.opendev.org/openstack/openstack-zuul-jobs refs/changes/45/840545/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/jobs.yaml'],1,dd1deaf41ecf84c660a2d12fa45691ba8683d535,python_version_string, nodeset: ubuntu-jammy, nodeset: fedora-latest,1,1
openstack%2Fproject-config~master~Ie00c42857e7a541aa1ccb8fe480756c1e7a38dc4,openstack/project-config,master,Ie00c42857e7a541aa1ccb8fe480756c1e7a38dc4,Add opendev/infra-openafs-deb,MERGED,2022-05-05 09:13:02.000000000,2022-05-05 22:58:47.000000000,2022-05-05 22:37:52.000000000,"[{'_account_id': 4146}, {'_account_id': 5263}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-05 09:13:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/0bb55edf17ba73ed0ac35bd2d55e61d46d591ff7', 'message': ""Add opendev/infra-openafs-deb\n\nThis is a project to hold things related to building the OpenAFS\npackages used by OpenDev infra.  These packages are pushed to a PPA\nwhich is consumed by our production machines.\n\nWe keep a separate PPA for these packages as we have had occasions in\nthe past where we either needed more recent versions of OpenAFS for\nvarious platform support, or had to apply patches with some urgency to\nkeep things going.  Being able to quickly produce new packages has\nbeen very helpful.\n\nPreviously these have been created by hand, where somebody uploads the\ndebian package bits to the PPA manually and a .deb is produced.  Of\ncourse the source of those packages is available, but it's not very\ngit-ops-y or collaborative.\n\nThis started in I07780595331da29af9f72185cbb3499210e89c19 where\nfungi's concerns that I argued against were completely correct.\nTrying to build across xenial -> jammy with one debian/* directory is\nnot going to work, and checking in multiple trees is very unwieldy in\nthat repo.\n\nThis proposes a separate repo where we can keep branches for each\ndistro's build.  We can then use the existing infrastructure we've\nbuilt to build the source packages and push to the PPA for building.\n\nChange-Id: Ie00c42857e7a541aa1ccb8fe480756c1e7a38dc4\n""}, {'number': 2, 'created': '2022-05-05 09:25:28.000000000', 'files': ['gerrit/acls/opendev/infra-openafs-deb.config', 'gerritbot/channels.yaml', 'zuul/main.yaml', 'gerrit/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/ec06a200acea649db4a12bf194dc352a23a1ed47', 'message': 'Add opendev/infra-openafs-deb\n\nThis is a project to hold things related to building the OpenAFS\npackages used by OpenDev infra.  These packages are pushed to a PPA\nwhich is consumed by our production machines.\n\nWe keep a separate PPA for these packages as we have had occasions in\nthe past where we either needed more recent versions of OpenAFS for\nvarious platform support, or had to apply patches with some urgency to\nkeep things going.  Being able to quickly produce new packages has\nbeen very helpful.\n\nPreviously these have been created by hand, where somebody uploads the\ndebian package bits to the PPA manually and a .deb is produced.  Of\ncourse the source of those packages is available, but it\'s not very\ngit-ops-y or collaborative.\n\nThis started in I07780595331da29af9f72185cbb3499210e89c19 where\nfungi\'s concerns that I argued against were completely correct.\nTrying to build across xenial -> jammy with one debian/* directory is\nnot going to work, and checking in multiple trees is very unwieldy in\nthat repo.\n\nThis proposes a separate repo where we can keep branches for each\ndistro\'s build.  We can then use the existing infrastructure we\'ve\nbuilt to build the source packages and push to the PPA for building.\n\nI\'ve chosen the name with ""infra-"" in front to make it clear these\naren\'t supposed to be general purpose packages in any way, but are for\nopendev infra use.  I\'ve put this in the openstack tenant because the\nbuild bits are still in openstack/openstack-zuul-jobs for historical\nreasons -- this is where we do similar builds for RPM (which uses AFS\npublishing jobs, and has openstack embedded in paths, etc.) and it\nmakes sense to keep them together.  We can consider moving everything\nunder the opendev tenant in the future.\n\nChange-Id: Ie00c42857e7a541aa1ccb8fe480756c1e7a38dc4\n'}]",0,840594,ec06a200acea649db4a12bf194dc352a23a1ed47,10,3,2,7118,,,0,"Add opendev/infra-openafs-deb

This is a project to hold things related to building the OpenAFS
packages used by OpenDev infra.  These packages are pushed to a PPA
which is consumed by our production machines.

We keep a separate PPA for these packages as we have had occasions in
the past where we either needed more recent versions of OpenAFS for
various platform support, or had to apply patches with some urgency to
keep things going.  Being able to quickly produce new packages has
been very helpful.

Previously these have been created by hand, where somebody uploads the
debian package bits to the PPA manually and a .deb is produced.  Of
course the source of those packages is available, but it's not very
git-ops-y or collaborative.

This started in I07780595331da29af9f72185cbb3499210e89c19 where
fungi's concerns that I argued against were completely correct.
Trying to build across xenial -> jammy with one debian/* directory is
not going to work, and checking in multiple trees is very unwieldy in
that repo.

This proposes a separate repo where we can keep branches for each
distro's build.  We can then use the existing infrastructure we've
built to build the source packages and push to the PPA for building.

I've chosen the name with ""infra-"" in front to make it clear these
aren't supposed to be general purpose packages in any way, but are for
opendev infra use.  I've put this in the openstack tenant because the
build bits are still in openstack/openstack-zuul-jobs for historical
reasons -- this is where we do similar builds for RPM (which uses AFS
publishing jobs, and has openstack embedded in paths, etc.) and it
makes sense to keep them together.  We can consider moving everything
under the opendev tenant in the future.

Change-Id: Ie00c42857e7a541aa1ccb8fe480756c1e7a38dc4
",git fetch https://review.opendev.org/openstack/project-config refs/changes/94/840594/2 && git format-patch -1 --stdout FETCH_HEAD,"['gerrit/acls/opendev/infra-openafs-deb.config', 'gerritbot/channels.yaml', 'gerrit/projects.yaml', 'zuul/main.yaml']",4,0bb55edf17ba73ed0ac35bd2d55e61d46d591ff7,opendev-openafs-deb, - opendev/infra-openafs-deb,,20,0
openstack%2Fopenstack-zuul-jobs~master~I12e994a1f39a78260dbd420973ab94207932d032,openstack/openstack-zuul-jobs,master,I12e994a1f39a78260dbd420973ab94207932d032,Set python_version to string values,MERGED,2022-05-04 21:25:20.000000000,2022-05-05 22:45:22.000000000,2022-05-05 22:43:08.000000000,"[{'_account_id': 6547}, {'_account_id': 7118}, {'_account_id': 11604}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-04 21:25:20.000000000', 'files': ['zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/dba9d6dac7315c01916bd399b043d26a245fdca0', 'message': 'Set python_version to string values\n\npython_version is canonically a string value. Set these variables as\nstrings to avoid confusion as we start to deploy python with two digit\nsuffix versions.\n\nChange-Id: I12e994a1f39a78260dbd420973ab94207932d032\n'}]",1,840544,dba9d6dac7315c01916bd399b043d26a245fdca0,9,4,1,4146,,,0,"Set python_version to string values

python_version is canonically a string value. Set these variables as
strings to avoid confusion as we start to deploy python with two digit
suffix versions.

Change-Id: I12e994a1f39a78260dbd420973ab94207932d032
",git fetch https://review.opendev.org/openstack/openstack-zuul-jobs refs/changes/44/840544/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/jobs.yaml'],1,dba9d6dac7315c01916bd399b043d26a245fdca0,python_version_string, python_version: '3.7' python_version: '3.8' python_version: '3.8' python_version: '3.9' python_version: '3.7' python_version: '3.8' python_version: '3.8' python_version: '3.9', python_version: 3.7 python_version: 3.8 python_version: 3.8 python_version: 3.9 python_version: 3.7 python_version: 3.8 python_version: 3.8 python_version: 3.9,8,8
openstack%2Frequirements~master~I7ea0ed879e567faaeac84c18454de79401166baa,openstack/requirements,master,I7ea0ed879e567faaeac84c18454de79401166baa,Update ovs upper constraint to 2.17.1,MERGED,2022-04-28 21:58:25.000000000,2022-05-05 22:44:18.000000000,2022-05-05 22:42:11.000000000,"[{'_account_id': 5756}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-28 21:58:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/88702f178c7a1be5757d9095fe00955dd6303985', 'message': 'Update ovs upper constraint to 2.17.1\n\nThe Python ovs library added RAFT support in 2.17 and we will\nneed to support it/test it.\n\nChange-Id: I7ea0ed879e567faaeac84c18454de79401166baa\n'}, {'number': 2, 'created': '2022-05-05 03:24:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/88e1b8960de554794d3a3bff000e5be16968d652', 'message': 'Update ovs upper constraint to 2.17.1\n\nThe Python ovs library added RAFT support in 2.17 and we will\nneed to support it/test it.\n\nChange-Id: I7ea0ed879e567faaeac84c18454de79401166baa\n'}, {'number': 3, 'created': '2022-05-05 12:46:37.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/318e5446fa22a83acbcd362cb907f2b7bffa1a47', 'message': 'Update ovs upper constraint to 2.17.1\n\nThe Python ovs library added RAFT support in 2.17 and we will\nneed to support it/test it.\n\nChange-Id: I7ea0ed879e567faaeac84c18454de79401166baa\n'}]",2,839826,318e5446fa22a83acbcd362cb907f2b7bffa1a47,23,3,3,5756,,,0,"Update ovs upper constraint to 2.17.1

The Python ovs library added RAFT support in 2.17 and we will
need to support it/test it.

Change-Id: I7ea0ed879e567faaeac84c18454de79401166baa
",git fetch https://review.opendev.org/openstack/requirements refs/changes/26/839826/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,88702f178c7a1be5757d9095fe00955dd6303985,,ovs===2.17.1,ovs===2.16.0,1,1
openstack%2Frequirements~stable%2Fwallaby~I5c0a1f032773299cc2a67fc33ef30e83703244c4,openstack/requirements,stable/wallaby,I5c0a1f032773299cc2a67fc33ef30e83703244c4,Bump pyroute2 to 0.6.6,MERGED,2022-05-05 14:45:07.000000000,2022-05-05 22:39:07.000000000,2022-05-05 22:39:07.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 29244}]","[{'number': 1, 'created': '2022-05-05 14:45:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/2415b73d756a3c0a8d4ed0a15257128a725cbe53', 'message': 'Bump pyroute2 to 0.6.6\n\npyroute2 0.6.5 has a bug that was fixed in 0.6.6 [0]. This issue was\nreported in stable/xena by an Octavia user [1].\n\n[0] https://github.com/svinota/pyroute2/issues/871\n[1] https://storyboard.openstack.org/#!/story/2010027\n\nChange-Id: I5c0a1f032773299cc2a67fc33ef30e83703244c4\n'}, {'number': 2, 'created': '2022-05-05 15:25:49.000000000', 'files': ['global-requirements.txt', 'upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/91579a0acb33f0a5d0e89ae7ff096eb549040e44', 'message': 'Bump pyroute2 to 0.6.6\n\npyroute2 0.6.5 has a bug (introduced in 0.5.19) that was fixed in 0.6.6\n[0]. This issue was reported in stable/xena by an Octavia user [1].\n\n[0] https://github.com/svinota/pyroute2/issues/871\n[1] https://storyboard.openstack.org/#!/story/2010027\n\nChange-Id: I5c0a1f032773299cc2a67fc33ef30e83703244c4\n'}]",0,840682,91579a0acb33f0a5d0e89ae7ff096eb549040e44,10,3,2,29244,,,0,"Bump pyroute2 to 0.6.6

pyroute2 0.6.5 has a bug (introduced in 0.5.19) that was fixed in 0.6.6
[0]. This issue was reported in stable/xena by an Octavia user [1].

[0] https://github.com/svinota/pyroute2/issues/871
[1] https://storyboard.openstack.org/#!/story/2010027

Change-Id: I5c0a1f032773299cc2a67fc33ef30e83703244c4
",git fetch https://review.opendev.org/openstack/requirements refs/changes/82/840682/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,2415b73d756a3c0a8d4ed0a15257128a725cbe53,,pyroute2.nftables===0.6.6pyroute2===0.6.6pyroute2.ethtool===0.6.6pyroute2.nslink===0.6.6pyroute2.ndb===0.6.6pyroute2.core===0.6.6pyroute2.ipdb===0.6.6pyroute2.ipset===0.6.6,pyroute2.nftables===0.6.5pyroute2===0.6.5pyroute2.ethtool===0.6.5pyroute2.nslink===0.6.5pyroute2.ndb===0.6.5pyroute2.core===0.6.5pyroute2.ipdb===0.6.5pyroute2.ipset===0.6.5,8,8
openstack%2Fopenstacksdk~master~I5a7a7c50f67d3fbda7e2df2492ccaa8e3c9f0fee,openstack/openstacksdk,master,I5a7a7c50f67d3fbda7e2df2492ccaa8e3c9f0fee,fix: improperly encoded object names,MERGED,2021-11-22 16:07:16.000000000,2022-05-05 22:30:01.000000000,2022-05-05 22:28:19.000000000,"[{'_account_id': 2}, {'_account_id': 10239}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2021-11-22 16:07:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/6505d584a144318a5c00a68b1080ad3df045a944', 'message': 'fix: improperly encoded object names\n\nStatic Large Object (SLO) manifests do not allow urlencoded\nobject names.\n\nRelated change: Ifbcde7f1c59bee16b4c133c3ff4ff69858c774ce\n\nChange-Id: I5a7a7c50f67d3fbda7e2df2492ccaa8e3c9f0fee\n'}, {'number': 2, 'created': '2022-03-21 16:47:23.000000000', 'files': ['openstack/object_store/v1/_proxy.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/bdccc6b798f7e436c88ad771fc19e4bf6cb36bc5', 'message': 'fix: improperly encoded object names\n\nStatic Large Object (SLO) manifests do not allow urlencoded\nobject names.\n\nRelated change: Ifbcde7f1c59bee16b4c133c3ff4ff69858c774ce\n\nChange-Id: I5a7a7c50f67d3fbda7e2df2492ccaa8e3c9f0fee\n'}]",0,818795,bdccc6b798f7e436c88ad771fc19e4bf6cb36bc5,12,5,2,10338,,,0,"fix: improperly encoded object names

Static Large Object (SLO) manifests do not allow urlencoded
object names.

Related change: Ifbcde7f1c59bee16b4c133c3ff4ff69858c774ce

Change-Id: I5a7a7c50f67d3fbda7e2df2492ccaa8e3c9f0fee
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/95/818795/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/cloud/_object_store.py'],1,6505d584a144318a5c00a68b1080ad3df045a944,fix/slo," if entry['path'] == '/{name}'.format( name=urllib.parse.unquote(name) ): # While Object Storage usually expects the name to be # urlencoded in most requests, the SLO manifest requires # plain object names instead. path='/{name}'.format(name=urllib.parse.unquote(name)),"," if entry['path'] == '/{name}'.format(name=name): path='/{name}'.format(name=name),",7,2
openstack%2Ftripleo-heat-templates~master~Ic0cc98b2d92801c222ca1280ca5e0485c7d603f1,openstack/tripleo-heat-templates,master,Ic0cc98b2d92801c222ca1280ca5e0485c7d603f1,Pin ansible-runner <2.2.0,MERGED,2022-05-05 14:48:13.000000000,2022-05-05 22:20:48.000000000,2022-05-05 22:20:48.000000000,"[{'_account_id': 7144}, {'_account_id': 8449}, {'_account_id': 9976}, {'_account_id': 14611}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30742}]","[{'number': 1, 'created': '2022-05-05 14:48:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a4491751a2ff62a9a388ae2a4268843da7350b59', 'message': 'WIP Pin ansible-runner <2.2.0\n\nChange-Id: Ic0cc98b2d92801c222ca1280ca5e0485c7d603f1\n'}, {'number': 2, 'created': '2022-05-05 15:01:05.000000000', 'files': ['test-ansible-requirements.txt'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9f028a9a04edc96e298e51b71e24914ac5f9bb6e', 'message': ""Pin ansible-runner <2.2.0\n\nansible-runner==2.2.0 has broken openstack-tox-tht\njobs. We can merge this to unblock till we find out\nwhat's causing the regression.\n\nRelated-Bug: #1971703\nChange-Id: Ic0cc98b2d92801c222ca1280ca5e0485c7d603f1\n""}]",2,840683,9f028a9a04edc96e298e51b71e24914ac5f9bb6e,12,7,2,8833,,,0,"Pin ansible-runner <2.2.0

ansible-runner==2.2.0 has broken openstack-tox-tht
jobs. We can merge this to unblock till we find out
what's causing the regression.

Related-Bug: #1971703
Change-Id: Ic0cc98b2d92801c222ca1280ca5e0485c7d603f1
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/83/840683/2 && git format-patch -1 --stdout FETCH_HEAD,['test-ansible-requirements.txt'],1,a4491751a2ff62a9a388ae2a4268843da7350b59,,"ansible-runner>=1.4.2,<2.2.0 # Apache",ansible-runner>=1.4.2 # Apache,1,1
openstack%2Fopenstacksdk~master~I22a173f7e00cfb0466f1bf6a7f90f75d1db005f3,openstack/openstacksdk,master,I22a173f7e00cfb0466f1bf6a7f90f75d1db005f3,Add R1 summary release note,MERGED,2022-04-15 14:20:40.000000000,2022-05-05 22:19:49.000000000,2022-05-05 22:17:17.000000000,"[{'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2022-04-15 14:20:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/0be0030cbe527bddc9c7b5b4ec50437eea3d420e', 'message': 'Add R1 summary release note\n\nLot of cleanup and normalization work has been done without release\nnotes. Add now a summary of changes included in the next release.\n\nChange-Id: I22a173f7e00cfb0466f1bf6a7f90f75d1db005f3\n'}, {'number': 2, 'created': '2022-04-15 15:24:43.000000000', 'files': ['releasenotes/notes/r1-cab94ae7d749a1ec.yaml'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/1e50ea5023289f81b9b9181309e25c5d3f8fd7a9', 'message': 'Add R1 summary release note\n\nLot of cleanup and normalization work has been done without release\nnotes. Add now a summary of changes included in the next release.\n\nChange-Id: I22a173f7e00cfb0466f1bf6a7f90f75d1db005f3\n'}]",0,838178,1e50ea5023289f81b9b9181309e25c5d3f8fd7a9,10,2,2,27900,,,0,"Add R1 summary release note

Lot of cleanup and normalization work has been done without release
notes. Add now a summary of changes included in the next release.

Change-Id: I22a173f7e00cfb0466f1bf6a7f90f75d1db005f3
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/78/838178/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/r1-cab94ae7d749a1ec.yaml'],1,0be0030cbe527bddc9c7b5b4ec50437eea3d420e,sdk_r1,--- prelude: > This is a first major release of OpenStackSDK. From now on interface can be considered stable and will strictly follow SemVer model with making next major release in case of any breaking functionality. This release includes work in ensuring methods and attribute naming are consistent across the code basis and first steps in implementing even more generalizations in the processing logic. Microversion support is now considered as stable and session will be established with the highest version supported by both client and server. upgrade: - | This release includes work in enforcing consistency of the cloud layer methods. Now they all return SDK resource objects where previously Munch objects could have been returned. This leads to few important facts: - Return object types of various cloud.XXX calls now return SDK resources. - Some attributes of various resources may be named differently to follow SDK attribute naming convention. - Returned objects may forbid setting attributes (read-only attributes). Mentioned changes are affecting Ansible modules (which rely on OpenStackSDK). Historically Ansible modules return to the Ansible engine whatever SDK returns to it. Under some conditions Ansible may decide to unset properties (if it decides it contain sensitive information). While this is correct SDK forbids setting of some attributes what leads to errors. This release is therefore marking incompatibility with OpenStack Ansible modules in R1.X.X and the work on fixing it is being done in R2.X.X of modules repository. ,,30,0
openstack%2Fopenstacksdk~master~I709df779a33e5e1a01e18e278cf1bfe76595fc86,openstack/openstacksdk,master,I709df779a33e5e1a01e18e278cf1bfe76595fc86,Allow to filter endpoints by region_id,MERGED,2022-04-04 13:30:40.000000000,2022-05-05 22:18:45.000000000,2022-05-05 22:17:14.000000000,"[{'_account_id': 22348}, {'_account_id': 27900}, {'_account_id': 32667}]","[{'number': 1, 'created': '2022-04-04 13:30:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/74a88bebf20e9bdafc98069e44cfd4b834456f08', 'message': 'Allow to filter endpoints by region_id\n\nKeystone allows to filter endpoints by region id. No reason to prohibit\nthis here.\n\nChange-Id: I709df779a33e5e1a01e18e278cf1bfe76595fc86\n'}, {'number': 2, 'created': '2022-04-04 13:56:21.000000000', 'files': ['openstack/identity/v3/endpoint.py', 'openstack/tests/unit/identity/v3/test_endpoint.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/46db8d3bc135622fc79cdf1c2341b420610d193e', 'message': 'Allow to filter endpoints by region_id\n\nKeystone allows to filter endpoints by region id. No reason to prohibit\nthis here.\n\nChange-Id: I709df779a33e5e1a01e18e278cf1bfe76595fc86\n'}]",0,836350,46db8d3bc135622fc79cdf1c2341b420610d193e,9,3,2,28619,,,0,"Allow to filter endpoints by region_id

Keystone allows to filter endpoints by region id. No reason to prohibit
this here.

Change-Id: I709df779a33e5e1a01e18e278cf1bfe76595fc86
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/50/836350/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/identity/v3/endpoint.py'],1,74a88bebf20e9bdafc98069e44cfd4b834456f08,," 'interface', 'region_id', 'service_id',"," 'interface', 'service_id',",1,1
openstack%2Ftripleo-heat-templates~stable%2Ftrain~Ic7fb3ac72d90b43c4a2f891656c8caaee5ef865c,openstack/tripleo-heat-templates,stable/train,Ic7fb3ac72d90b43c4a2f891656c8caaee5ef865c,DNM Testing,NEW,2022-03-29 20:43:42.000000000,2022-05-05 21:26:01.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-03-29 20:43:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/372ee52c63857df49e64df301544a85c44c55c6f', 'message': 'DNM Testing\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-quickstart/+/835645\nChange-Id: Ic7fb3ac72d90b43c4a2f891656c8caaee5ef865c\n'}, {'number': 2, 'created': '2022-03-29 22:27:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/72bcac9799d78d4351deda6b4d710991ba812b49', 'message': 'DNM Testing\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-quickstart/+/835764\nChange-Id: Ic7fb3ac72d90b43c4a2f891656c8caaee5ef865c\n'}, {'number': 3, 'created': '2022-03-30 10:57:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/52f25290d7058d15885ff7a6c9cc1bdc0a4bb6d2', 'message': 'DNM Testing\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-quickstart-extras/+/835815\nChange-Id: Ic7fb3ac72d90b43c4a2f891656c8caaee5ef865c\n'}, {'number': 4, 'created': '2022-05-05 18:55:39.000000000', 'files': ['zuul.d/layout.yaml', 'ci/environments/scenario001-standalone.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/21ec32d5c51ea52e1de8143e6b0de33be37cdb8b', 'message': 'DNM Testing\n\nChange-Id: Ic7fb3ac72d90b43c4a2f891656c8caaee5ef865c\n'}]",2,835762,21ec32d5c51ea52e1de8143e6b0de33be37cdb8b,17,2,4,9976,,,0,"DNM Testing

Change-Id: Ic7fb3ac72d90b43c4a2f891656c8caaee5ef865c
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/62/835762/4 && git format-patch -1 --stdout FETCH_HEAD,['ci/environments/scenario001-standalone.yaml'],1,372ee52c63857df49e64df301544a85c44c55c6f,test-835645, # DNM test,,1,0
openstack%2Fansible-role-redhat-subscription~master~Ibb17c000a7337c2c344b9ff08ce9fe75897838e9,openstack/ansible-role-redhat-subscription,master,Ibb17c000a7337c2c344b9ff08ce9fe75897838e9,Update the satellite task file for version checks,MERGED,2022-03-07 16:52:33.000000000,2022-05-05 20:34:37.000000000,2022-05-05 20:34:37.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 28223}]","[{'number': 1, 'created': '2022-03-07 16:52:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-redhat-subscription/commit/33425713830de2e96463b0cac9097887fda28c46', 'message': ""Update the satallite task file for version checks\n\nThis change updates the satallite version check task file so that we're\nable to perform version checks and set our required facts without\nrunning into undefined values in certain circumstances.\n\nUpdates have also been made throughout the task file to ensure all jinja\nstrings are quoted, all data types are set correctly so there's no\nassumed conversion, and all conditions follow a list format.\n\nThe Satellite 6.10 checks have been added to a conditional block, this was\ndone so we're not accidently setting facts incorrectly while also\nreducing task execution.\n\nrhbz: 2061393\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\nChange-Id: Ibb17c000a7337c2c344b9ff08ce9fe75897838e9\n""}, {'number': 2, 'created': '2022-03-07 17:23:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-redhat-subscription/commit/edb60027f9373355700379330850e4e93bee3433', 'message': ""Update the satallite task file for version checks\n\nThis change updates the satallite version check task file so that we're\nable to perform version checks and set our required facts without\nrunning into undefined values in certain circumstances.\n\nUpdates have also been made throughout the task file to ensure all jinja\nstrings are quoted, all data types are set correctly so there's no\nassumed conversion, and all conditions follow a list format.\n\nThe Satellite 6.10 checks have been added to a conditional block, this was\ndone so we're not accidently setting facts incorrectly while also\nreducing task execution.\n\nrhbz: 2061393\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\nChange-Id: Ibb17c000a7337c2c344b9ff08ce9fe75897838e9\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n""}, {'number': 3, 'created': '2022-04-29 14:18:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-redhat-subscription/commit/ff906c4636f084fdc449606ba428cabca71b8853', 'message': ""Update the satallite task file for version checks\n\nThis change updates the satallite version check task file so that we're\nable to perform version checks and set our required facts without\nrunning into undefined values in certain circumstances.\n\nUpdates have also been made throughout the task file to ensure all jinja\nstrings are quoted, all data types are set correctly so there's no\nassumed conversion, and all conditions follow a list format.\n\nThe Satellite 6.10 checks have been added to a conditional block, this was\ndone so we're not accidently setting facts incorrectly while also\nreducing task execution.\n\nrhbz: 2061393\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\nChange-Id: Ibb17c000a7337c2c344b9ff08ce9fe75897838e9\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\nDepends-on: https://review.opendev.org/c/openstack/ansible-role-redhat-subscription/+/839835\n""}, {'number': 4, 'created': '2022-04-29 14:32:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-redhat-subscription/commit/e2190b4c697b1ab074c16614feaa92fec07ba557', 'message': ""Update the satellite task file for version checks\n\nThis change updates the satellite version check task file so that we're\nable to perform version checks and set our required facts without\nrunning into undefined values in certain circumstances.\n\nUpdates have also been made throughout the task file to ensure all jinja\nstrings are quoted, all data types are set correctly so there's no\nassumed conversion, and all conditions follow a list format.\n\nThe Satellite 6.10 checks have been added to a conditional block, this was\ndone so we're not accidently setting facts incorrectly while also\nreducing task execution.\n\nrhbz: 2061393\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\nChange-Id: Ibb17c000a7337c2c344b9ff08ce9fe75897838e9\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\nDepends-on: https://review.opendev.org/c/openstack/ansible-role-redhat-subscription/+/839835\n""}, {'number': 5, 'created': '2022-04-29 15:22:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-redhat-subscription/commit/2062c0f7bbcec80b35762e6aff0fd7c162e9a1cb', 'message': ""Update the satellite task file for version checks\n\nThis change updates the satellite version check task file so that we're\nable to perform version checks and set our required facts without\nrunning into undefined values in certain circumstances.\n\nUpdates have also been made throughout the task file to ensure all jinja\nstrings are quoted, all data types are set correctly so there's no\nassumed conversion, and all conditions follow a list format.\n\nThe Satellite 6.10 checks have been added to a conditional block, this was\ndone so we're not accidently setting facts incorrectly while also\nreducing task execution.\n\n> Updates have been made to our tox setup for ansible-lint. This is done\n  because our current lint test was broken; ansible lint will now test\n  with ansible-core.\n\nrhbz: 2061393\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\nChange-Id: Ibb17c000a7337c2c344b9ff08ce9fe75897838e9\nDepends-on: https://review.opendev.org/c/openstack/ansible-role-redhat-subscription/+/839835\n""}, {'number': 6, 'created': '2022-04-29 18:54:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-redhat-subscription/commit/14a51fde33c17647e4795a31dc974d599d19b9db', 'message': ""Update the satellite task file for version checks\n\nThis change updates the satellite version check task file so that we're\nable to perform version checks and set our required facts without\nrunning into undefined values in certain circumstances.\n\nUpdates have also been made throughout the task file to ensure all jinja\nstrings are quoted, all data types are set correctly so there's no\nassumed conversion, and all conditions follow a list format.\n\nThe Satellite 6.10 checks have been added to a conditional block, this was\ndone so we're not accidently setting facts incorrectly while also\nreducing task execution.\n\n> Updates have been made to our tox setup for ansible-lint. This is done\n  because our current lint test was broken; ansible lint will now test\n  with ansible-core.\n\nrhbz: 2061393\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\nChange-Id: Ibb17c000a7337c2c344b9ff08ce9fe75897838e9\nDepends-on: https://review.opendev.org/c/openstack/ansible-role-redhat-subscription/+/839835\n""}, {'number': 7, 'created': '2022-04-29 19:37:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-redhat-subscription/commit/e161763089d105e8f0587542ccd34fd4521a6e78', 'message': ""Update the satellite task file for version checks\n\nThis change updates the satellite version check task file so that we're\nable to perform version checks and set our required facts without\nrunning into undefined values in certain circumstances.\n\nUpdates have also been made throughout the task file to ensure all jinja\nstrings are quoted, all data types are set correctly so there's no\nassumed conversion, and all conditions follow a list format.\n\nThe Satellite 6.10 checks have been added to a conditional block, this was\ndone so we're not accidently setting facts incorrectly while also\nreducing task execution.\n\n> Updates have been made to our tox setup for ansible-lint. This is done\n  because our current lint test was broken; ansible lint will now test\n  with ansible-core.\n\nrhbz: 2061393\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\nChange-Id: Ibb17c000a7337c2c344b9ff08ce9fe75897838e9\nDepends-on: https://review.opendev.org/c/openstack/ansible-role-redhat-subscription/+/839835\n""}, {'number': 8, 'created': '2022-04-29 19:39:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-redhat-subscription/commit/ccbc36416c12f461be49ac3239e5fdd581428e6f', 'message': ""Update the satellite task file for version checks\n\nThis change updates the satellite version check task file so that we're\nable to perform version checks and set our required facts without\nrunning into undefined values in certain circumstances.\n\nUpdates have also been made throughout the task file to ensure all jinja\nstrings are quoted, all data types are set correctly so there's no\nassumed conversion, and all conditions follow a list format.\n\nThe Satellite 6.10 checks have been added to a conditional block, this was\ndone so we're not accidently setting facts incorrectly while also\nreducing task execution.\n\n> Updates have been made to our tox setup for ansible-lint. This is done\n  because our current lint test was broken; ansible lint will now test\n  with ansible-core.\n\nrhbz: 2061393\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\nChange-Id: Ibb17c000a7337c2c344b9ff08ce9fe75897838e9\nDepends-on: https://review.opendev.org/c/openstack/ansible-role-redhat-subscription/+/839835\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n""}, {'number': 9, 'created': '2022-05-04 19:52:39.000000000', 'files': ['tasks/satellite.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-redhat-subscription/commit/41b5d0b7bea228299167684adb87d5966e414909', 'message': ""Update the satellite task file for version checks\n\nThis change updates the satellite version check task file so that we're\nable to perform version checks and set our required facts without\nrunning into undefined values in certain circumstances.\n\nUpdates have also been made throughout the task file to ensure all jinja\nstrings are quoted, all data types are set correctly so there's no\nassumed conversion, and all conditions follow a list format.\n\nThe Satellite 6.10 checks have been added to a conditional block, this was\ndone so we're not accidently setting facts incorrectly while also\nreducing task execution.\n\n> Updates have been made to our tox setup for ansible-lint. This is done\n  because our current lint test was broken; ansible lint will now test\n  with ansible-core.\n\nrhbz: 2061393\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\nChange-Id: Ibb17c000a7337c2c344b9ff08ce9fe75897838e9\n""}]",12,832287,41b5d0b7bea228299167684adb87d5966e414909,42,4,9,7353,,,0,"Update the satellite task file for version checks

This change updates the satellite version check task file so that we're
able to perform version checks and set our required facts without
running into undefined values in certain circumstances.

Updates have also been made throughout the task file to ensure all jinja
strings are quoted, all data types are set correctly so there's no
assumed conversion, and all conditions follow a list format.

The Satellite 6.10 checks have been added to a conditional block, this was
done so we're not accidently setting facts incorrectly while also
reducing task execution.

> Updates have been made to our tox setup for ansible-lint. This is done
  because our current lint test was broken; ansible lint will now test
  with ansible-core.

rhbz: 2061393
Signed-off-by: Kevin Carter <kecarter@redhat.com>
Change-Id: Ibb17c000a7337c2c344b9ff08ce9fe75897838e9
",git fetch https://review.opendev.org/openstack/ansible-role-redhat-subscription refs/changes/87/832287/8 && git format-patch -1 --stdout FETCH_HEAD,['tasks/satellite.yml'],1,33425713830de2e96463b0cac9097887fda28c46,rhbz-2061393," status_code: - 200 - 404 ignore_errors: true status_code: - 200 when: - _sat6_check_v6 is success - name: Block Satellite 6.10 when: - _sat6_check_v6 is failed block: - name: SATELLITE | Check for Satellite 6.10 uri: url: ""{{ rhsm_satellite_url }}/pulp/api/v3/status"" validate_certs: no status_code: - 200 - 404 register: _sat6_check_v610 run_once: yes tags: - rhsm_satellite - name: Set correct v6.10 check result set_fact: _sat6_check: ""{{ _sat6_check_v610 }}"" when: - 'rhsmcertd' in service_list - name: SATELLITE | Set Satellite version 5 set_fact: rhsm_satellite_version: 5 when: - (_sat5_check.status | default(400)) == 200 tags: - rhsm_satellite - name: SATELLITE | Set Satellite version 6 set_fact: rhsm_satellite_version: 6 when: - (_sat6_check.status | default(400)) == 200 - rhsm_satellite_version is undefined include_tasks: ""satellite-{{ rhsm_satellite_version }}.yml"" when: - rhsm_state == 'present' when: - (rhsm_satellite_version | int) == 6"," status_code: 200, 404 status_code: 200- name: SATELLITE | Check for Satellite 6.10 uri: url: ""{{ rhsm_satellite_url }}/pulp/api/v3/status"" validate_certs: no status_code: 200, 404 register: _sat6_check_v610 run_once: yes tags: - rhsm_satellite when: - _sat6_check_v6 is failed when: _sat6_check_v6 is success - name: Set correct v6.10 check result set_fact: _sat6_check: ""{{ _sat6_check_v610 }}"" when: _sat6_check_v6 is failed when: ""'rhsmcertd' in service_list"" - name: SATELLITE | Set Satellite version set_fact: rhsm_satellite_version: ""{% if _sat5_check['status'] == 200 %}5{% elif _sat6_check['status'] == 200 %}6{% endif %}"" - rhsm_satellite_version is defined - not (rhsm_satellite_version | length) include_tasks: satellite-{{ rhsm_satellite_version }}.yml when: rhsm_state == 'present' when: rhsm_satellite_version == '6'",47,27
openstack%2Fansible-collections-openstack~master~I97ee9b626f269abde3be7b2b9211d2bb5b7b3c26,openstack/ansible-collections-openstack,master,I97ee9b626f269abde3be7b2b9211d2bb5b7b3c26,Use proxy layer in identity_user module,MERGED,2022-02-10 16:48:21.000000000,2022-05-05 20:25:55.000000000,2022-05-05 20:25:55.000000000,"[{'_account_id': 8367}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 32458}, {'_account_id': 32962}, {'_account_id': 34208}]","[{'number': 1, 'created': '2022-02-10 16:48:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/4002ec577fb50bd3c3b8dfdf6d964b3c496db0d8', 'message': 'Use proxy layer identity_user\n\nThis patch changes the module to use the sdk proxy layer and does some\ngeneral refactoring to simplify the code.\n\nChange-Id: I97ee9b626f269abde3be7b2b9211d2bb5b7b3c26\n'}, {'number': 2, 'created': '2022-02-10 16:52:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/b74903ff3b4b51327eedfddf904da455ffd84f5a', 'message': 'Use proxy layer in identity_user module\n\nThis patch changes the module to use the sdk proxy layer and does some\ngeneral refactoring to simplify the code.\n\nChange-Id: I97ee9b626f269abde3be7b2b9211d2bb5b7b3c26\n'}, {'number': 3, 'created': '2022-02-10 16:58:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/e3963a5698862c539310c59c0d15259671effc2e', 'message': 'Use proxy layer in identity_user module\n\nThis patch changes the module to use the sdk proxy layer and does some\ngeneral refactoring to simplify the code.\n\nChange-Id: I97ee9b626f269abde3be7b2b9211d2bb5b7b3c26\n'}, {'number': 4, 'created': '2022-02-10 18:33:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/eed78fb4df673c852c030cd8483b1646625dfc0c', 'message': 'Use proxy layer in identity_user module\n\nThis patch changes the module to use the sdk proxy layer and does some\ngeneral refactoring to simplify the code.\n\nChange-Id: I97ee9b626f269abde3be7b2b9211d2bb5b7b3c26\n'}, {'number': 5, 'created': '2022-02-10 22:43:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/b9bc3b05cdf74c22081afacd0c3a31d9508363f9', 'message': 'Use proxy layer in identity_user module\n\nThis patch changes the module to use the sdk proxy layer and does some\ngeneral refactoring to simplify the code.\n\nChange-Id: I97ee9b626f269abde3be7b2b9211d2bb5b7b3c26\n'}, {'number': 6, 'created': '2022-03-07 17:52:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/4a9d161e9240a8ed6d74006d536a257c86316eb0', 'message': 'Use proxy layer in identity_user module\n\nThis patch changes the module to use the sdk proxy layer and does some\ngeneral refactoring to simplify the code.\n\nChange-Id: I97ee9b626f269abde3be7b2b9211d2bb5b7b3c26\n'}, {'number': 7, 'created': '2022-03-07 18:10:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/afe091c9cac32edc075275e524a7addf5777d926', 'message': 'Use proxy layer in identity_user module\n\nThis patch changes the module to use the sdk proxy layer and does some\ngeneral refactoring to simplify the code.\n\nChange-Id: I97ee9b626f269abde3be7b2b9211d2bb5b7b3c26\n'}, {'number': 8, 'created': '2022-03-07 18:10:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/21f258a58a34b80f7d607289f8f5ab77caa65b6e', 'message': 'Use proxy layer in identity_user module\n\nThis patch changes the module to use the sdk proxy layer and does some\ngeneral refactoring to simplify the code.\n\nChange-Id: I97ee9b626f269abde3be7b2b9211d2bb5b7b3c26\n'}, {'number': 9, 'created': '2022-03-07 18:34:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/473179dc5922e338e9a077ed6e0802fecc9d0c0f', 'message': 'Use proxy layer in identity_user module\n\nThis patch changes the module to use the sdk proxy layer and does some\ngeneral refactoring to simplify the code.\n\nChange-Id: I97ee9b626f269abde3be7b2b9211d2bb5b7b3c26\n'}, {'number': 10, 'created': '2022-03-08 20:16:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/32d88616321686447077ff1bb9a60eb9ab15b333', 'message': 'Use proxy layer in identity_user module\n\nThis patch changes the module to use the sdk proxy layer and does some\ngeneral refactoring to simplify the code.\n\nChange-Id: I97ee9b626f269abde3be7b2b9211d2bb5b7b3c26\n'}, {'number': 11, 'created': '2022-03-09 13:55:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/0e7cacc95f8c3e56bf65337c87b090606451c324', 'message': 'Use proxy layer in identity_user module\n\nThis patch changes the module to use the sdk proxy layer and does some\ngeneral refactoring to simplify the code.\n\nChange-Id: I97ee9b626f269abde3be7b2b9211d2bb5b7b3c26\n'}, {'number': 12, 'created': '2022-03-09 22:41:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/92ec0a643e0b9c52a8d3aefa1c51b99a1ee1d30e', 'message': 'Use proxy layer in identity_user module\n\nThis patch changes the module to use the sdk proxy layer and does some\ngeneral refactoring to simplify the code.\n\nChange-Id: I97ee9b626f269abde3be7b2b9211d2bb5b7b3c26\n'}, {'number': 13, 'created': '2022-03-10 00:06:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/744dc66b3ade6a829e130049f213a77c89ce77c1', 'message': 'Use proxy layer in identity_user module\n\nThis patch changes the module to use the sdk proxy layer and does some\ngeneral refactoring to simplify the code.\n\nChange-Id: I97ee9b626f269abde3be7b2b9211d2bb5b7b3c26\n'}, {'number': 14, 'created': '2022-03-10 00:23:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/06858dfac92c42d8184f51bb49ef358e2d892f0f', 'message': 'Use proxy layer in identity_user module\n\nThis patch changes the module to use the sdk proxy layer and does some\ngeneral refactoring to simplify the code.\n\nChange-Id: I97ee9b626f269abde3be7b2b9211d2bb5b7b3c26\n'}, {'number': 15, 'created': '2022-03-30 14:36:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/7568001559b251aae1719b3b422d77f6eceec3b9', 'message': 'Use proxy layer in identity_user module\n\nThis patch changes the module to use the sdk proxy layer and does some\ngeneral refactoring to simplify the code.\n\nChange-Id: I97ee9b626f269abde3be7b2b9211d2bb5b7b3c26\n'}, {'number': 16, 'created': '2022-04-13 20:49:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/a890931ec7910d23c7e9f9a81d7763b19349ad33', 'message': 'Use proxy layer in identity_user module\n\nThis patch changes the module to use the sdk proxy layer and does some\ngeneral refactoring to simplify the code.\n\nChange-Id: I97ee9b626f269abde3be7b2b9211d2bb5b7b3c26\n'}, {'number': 17, 'created': '2022-04-13 23:20:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/efb20a4701eb05eb79df00ef6a7afba90b4e16a2', 'message': 'Use proxy layer in identity_user module\n\nThis patch changes the module to use the sdk proxy layer and does some\ngeneral refactoring to simplify the code.\n\nChange-Id: I97ee9b626f269abde3be7b2b9211d2bb5b7b3c26\n'}, {'number': 18, 'created': '2022-04-14 00:15:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/98194966955223a97d6b93cecf47df3072d52cbd', 'message': 'Use proxy layer in identity_user module\n\nThis patch changes the module to use the sdk proxy layer and does some\ngeneral refactoring to simplify the code.\n\nChange-Id: I97ee9b626f269abde3be7b2b9211d2bb5b7b3c26\n'}, {'number': 19, 'created': '2022-04-14 04:28:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/212430adcd0cc12f5f7399776f4ee10abe8cb21e', 'message': 'Use proxy layer in identity_user module\n\nThis patch changes the module to use the sdk proxy layer and does some\ngeneral refactoring to simplify the code.\n\nChange-Id: I97ee9b626f269abde3be7b2b9211d2bb5b7b3c26\n'}, {'number': 20, 'created': '2022-04-14 06:01:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/ac5c9e548ea2b03c9d77adde692904c99fbde33e', 'message': 'Use proxy layer in identity_user module\n\nThis patch changes the module to use the sdk proxy layer and does some\ngeneral refactoring to simplify the code.\n\nChange-Id: I97ee9b626f269abde3be7b2b9211d2bb5b7b3c26\n'}, {'number': 21, 'created': '2022-04-25 13:47:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/091b3a3869902817bd6facb78e6e8fb29407987f', 'message': 'Use proxy layer in identity_user module\n\nThis patch changes the module to use the sdk proxy layer and does some\ngeneral refactoring to simplify the code.\n\nChange-Id: I97ee9b626f269abde3be7b2b9211d2bb5b7b3c26\n'}, {'number': 22, 'created': '2022-04-25 14:12:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/e5b53dc3d783468eee950e182979b12ad9f8459a', 'message': 'Use proxy layer in identity_user module\n\nThis patch changes the module to use the sdk proxy layer and does some\ngeneral refactoring to simplify the code.\n\nChange-Id: I97ee9b626f269abde3be7b2b9211d2bb5b7b3c26\n'}, {'number': 23, 'created': '2022-04-27 14:29:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/3eb38ff467680b1b092a73939dd1dc7af8ad1e4e', 'message': 'Use proxy layer in identity_user module\n\nThis patch changes the module to use the sdk proxy layer and does some\ngeneral refactoring to simplify the code.\n\nChange-Id: I97ee9b626f269abde3be7b2b9211d2bb5b7b3c26\n'}, {'number': 24, 'created': '2022-04-27 14:50:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/022e8e0494a8762095bc135fe44a27675ac90ffc', 'message': 'Use proxy layer in identity_user module\n\nThis patch changes the module to use the sdk proxy layer and does some\ngeneral refactoring to simplify the code.\n\nRenamed the test role from user to identity_user to match the module\nname\n\nChange-Id: I97ee9b626f269abde3be7b2b9211d2bb5b7b3c26\n'}, {'number': 25, 'created': '2022-04-27 14:52:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/32ab9d462c2b3133e2ee185a44542a3bba48c369', 'message': 'Use proxy layer in identity_user module\n\nThis patch changes the module to use the sdk proxy layer and does some\ngeneral refactoring to simplify the code.\n\nRenamed the test role from user to identity_user to match the module\nname\n\nChange-Id: I97ee9b626f269abde3be7b2b9211d2bb5b7b3c26\n'}, {'number': 26, 'created': '2022-04-27 15:09:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/5410d8f2b5d20b57a413536e280da7ec5f239fe6', 'message': 'Use proxy layer in identity_user module\n\nThis patch changes the module to use the sdk proxy layer and does some\ngeneral refactoring to simplify the code.\n\nRenamed the test role from user to identity_user to match the module\nname\n\nChange-Id: I97ee9b626f269abde3be7b2b9211d2bb5b7b3c26\n'}, {'number': 27, 'created': '2022-04-28 19:08:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/0d234f2ff61dfb96b1d193bbf97195939ebac740', 'message': 'Use proxy layer in identity_user module\n\nThis patch changes the module to use the sdk proxy layer and does some\ngeneral refactoring to simplify the code.\n\nRenamed the test role from user to identity_user to match the module\nname\n\nChange-Id: I97ee9b626f269abde3be7b2b9211d2bb5b7b3c26\n'}, {'number': 28, 'created': '2022-04-28 19:32:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/e37c48b5c53c343fa48f51972b95d559b86cf8fe', 'message': 'Use proxy layer in identity_user module\n\nThis patch changes the module to use the sdk proxy layer and does some\ngeneral refactoring to simplify the code.\n\nRenamed the test role from user to identity_user to match the module\nname\n\nChange-Id: I97ee9b626f269abde3be7b2b9211d2bb5b7b3c26\n'}, {'number': 29, 'created': '2022-05-02 13:09:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/b184f84f980a07f8cfc3d5fd4302082121f0d1f6', 'message': 'Use proxy layer in identity_user module\n\nThis patch changes the module to use the sdk proxy layer and does some\ngeneral refactoring to simplify the code.\n\nRenamed the test role from user to identity_user to match the module\nname\n\nChange-Id: I97ee9b626f269abde3be7b2b9211d2bb5b7b3c26\n'}, {'number': 30, 'created': '2022-05-03 13:51:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/0dee47865c4d5489ad6c3ec676227a7e670177d4', 'message': 'Use proxy layer in identity_user module\n\nThis patch changes the module to use the sdk proxy layer and does some\ngeneral refactoring to simplify the code.\n\nRenamed the test role from user to identity_user to match the module\nname\n\nChange-Id: I97ee9b626f269abde3be7b2b9211d2bb5b7b3c26\n'}, {'number': 31, 'created': '2022-05-03 13:54:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/8a0892dfc5095e90f121d3a3284b4b9229d58472', 'message': 'Use proxy layer in identity_user module\n\nThis patch changes the module to use the sdk proxy layer and does some\ngeneral refactoring to simplify the code.\n\nRenamed the test role from user to identity_user to match the module\nname\n\nChange-Id: I97ee9b626f269abde3be7b2b9211d2bb5b7b3c26\n'}, {'number': 32, 'created': '2022-05-03 14:06:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/ea03c82b60535f7e30f31614aa097df099f7f186', 'message': 'Use proxy layer in identity_user module\n\nThis patch changes the module to use the sdk proxy layer and does some\ngeneral refactoring to simplify the code.\n\nRenamed the test role from user to identity_user to match the module\nname\n\nChange-Id: I97ee9b626f269abde3be7b2b9211d2bb5b7b3c26\n'}, {'number': 33, 'created': '2022-05-04 19:00:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/715a019989169aa1fa0578a8d217da9df26dfb4b', 'message': 'Use proxy layer in identity_user module\n\nThis patch changes the module to use the sdk proxy layer and does some\ngeneral refactoring to simplify the code.\n\nRenamed the test role from user to identity_user to match the module\nname\n\nChange-Id: I97ee9b626f269abde3be7b2b9211d2bb5b7b3c26\n'}, {'number': 34, 'created': '2022-05-05 09:26:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/9bb0de63c59f18f2c4b17b49b86329c78511114e', 'message': 'Use proxy layer in identity_user module\n\nThis patch changes the module to use the sdk proxy layer and does some\ngeneral refactoring to simplify the code.\n\nRenamed the test role from user to identity_user to match the module\nname\n\nChange-Id: I97ee9b626f269abde3be7b2b9211d2bb5b7b3c26\n'}, {'number': 35, 'created': '2022-05-05 09:33:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/a5159cbced70b6e8121fb0522862499255f8f7d9', 'message': 'Use proxy layer in identity_user module\n\nThis patch changes the module to use the sdk proxy layer and does some\ngeneral refactoring to simplify the code.\n\nRenamed the test role from user to identity_user to match the module\nname\n\nChange-Id: I97ee9b626f269abde3be7b2b9211d2bb5b7b3c26\n'}, {'number': 36, 'created': '2022-05-05 12:08:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/e2d124e3db234f7a60267685df780255016afc7c', 'message': 'Use proxy layer in identity_user module\n\nThis patch changes the module to use the sdk proxy layer and does some\ngeneral refactoring to simplify the code.\n\nRenamed the test role from user to identity_user to match the module\nname\n\nChange-Id: I97ee9b626f269abde3be7b2b9211d2bb5b7b3c26\n'}, {'number': 37, 'created': '2022-05-05 14:12:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/90be5e8be02ce34d9fddfd0f439049f46192199a', 'message': 'Use proxy layer in identity_user module\n\nThis patch changes the module to use the sdk proxy layer and does some\ngeneral refactoring to simplify the code. It will no longer fail if\nno password is supplied since it is perfectly fine to create a user\nwith an password.\n\nRenamed the test role from user to identity_user to match the module\nname\n\nChange-Id: I97ee9b626f269abde3be7b2b9211d2bb5b7b3c26\n'}, {'number': 38, 'created': '2022-05-05 15:45:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/c6c448c7d5409db540cc4e0a0de1da114b345161', 'message': 'Use proxy layer in identity_user module\n\nThis patch changes the module to use the sdk proxy layer and does some\ngeneral refactoring to simplify the code. It will no longer fail if\nno password is supplied since it is perfectly fine to create a user\nwith an password.\n\nRenamed the test role from user to identity_user to match the module\nname\n\nChange-Id: I97ee9b626f269abde3be7b2b9211d2bb5b7b3c26\n'}, {'number': 39, 'created': '2022-05-05 16:21:43.000000000', 'files': ['plugins/modules/identity_user.py', 'ci/roles/identity_user/tasks/main.yml', 'ci/roles/identity_user/defaults/main.yml', '.zuul.yaml', 'ci/roles/user/tasks/main.yml', 'ci/run-collection.yml'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/fd1b9fc0d2ff09e5fe18af30117e08679f158a3a', 'message': 'Use proxy layer in identity_user module\n\nThis patch changes the module to use the sdk proxy layer and does some\ngeneral refactoring to simplify the code. It will no longer fail if\nno password is supplied since it is perfectly fine to create a user\nwith an password.\n\nRenamed the test role from user to identity_user to match the module\nname\n\nChange-Id: I97ee9b626f269abde3be7b2b9211d2bb5b7b3c26\n'}]",28,828742,fd1b9fc0d2ff09e5fe18af30117e08679f158a3a,107,6,39,34208,,,0,"Use proxy layer in identity_user module

This patch changes the module to use the sdk proxy layer and does some
general refactoring to simplify the code. It will no longer fail if
no password is supplied since it is perfectly fine to create a user
with an password.

Renamed the test role from user to identity_user to match the module
name

Change-Id: I97ee9b626f269abde3be7b2b9211d2bb5b7b3c26
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/42/828742/23 && git format-patch -1 --stdout FETCH_HEAD,"['plugins/modules/identity_user.py', 'ci/roles/user/tasks/main.yml']",2,4002ec577fb50bd3c3b8dfdf6d964b3c496db0d8,identity_user-master, password: secret2, password: secret,42,79
openstack%2Fopenstack-ansible-os_adjutant~master~Ic1205401b07382c3c72643ce5fb8b5727944cd9c,openstack/openstack-ansible-os_adjutant,master,Ic1205401b07382c3c72643ce5fb8b5727944cd9c,Use common service setup tasks from a collection rather than in-role,MERGED,2022-05-05 12:50:03.000000000,2022-05-05 19:33:32.000000000,2022-05-05 19:32:28.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-05-05 12:50:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_adjutant/commit/c18790c229fab5886a29810867b6275246f3e71a', 'message': 'Use common service setup tasks from a collection rather than in-role\n\nChange-Id: Ic1205401b07382c3c72643ce5fb8b5727944cd9c\n'}, {'number': 2, 'created': '2022-05-05 14:19:22.000000000', 'files': ['tasks/main.yml', 'tasks/db_setup.yml', 'tasks/service_setup.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_adjutant/commit/d94e1a97185c81258d02c8b9b7e6934abf02382f', 'message': 'Use common service setup tasks from a collection rather than in-role\n\nChange-Id: Ic1205401b07382c3c72643ce5fb8b5727944cd9c\n'}]",0,840659,d94e1a97185c81258d02c8b9b7e6934abf02382f,14,3,2,13095,,,0,"Use common service setup tasks from a collection rather than in-role

Change-Id: Ic1205401b07382c3c72643ce5fb8b5727944cd9c
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_adjutant refs/changes/59/840659/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'tasks/db_setup.yml', 'tasks/service_setup.yml']",3,c18790c229fab5886a29810867b6275246f3e71a,osa/common_tasks,,"--- # Copyright 2019, VEXXHOST, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. # WARNING: # This file is maintained in the openstack-ansible-tests repository. # https://opendev.org/openstack/openstack-ansible-tests/src/sync/tasks/service_setup.yml # If you need to modify this file, update the one in the openstack-ansible-tests # repository. Once it merges there, the changes will automatically be proposed to # all the repositories which use it. # We set the python interpreter to the ansible runtime venv if # the delegation is to localhost so that we get access to the # appropriate python libraries in that venv. If the delegation # is to another host, we assume that it is accessible by the # system python instead. - name: Setup the OS service delegate_to: ""{{ _service_setup_host }}"" vars: ansible_python_interpreter: ""{{ _service_setup_host_python_interpreter }}"" block: - name: Add keystone domain openstack.cloud.identity_domain: cloud: default state: present description: ""{{ _domain_name_description | default(omit) }}"" name: ""{{ _domain_name }}"" endpoint_type: admin verify: ""{{ not _service_adminuri_insecure }}"" register: add_domain when: _domain_name is defined until: add_domain is success retries: 5 delay: 10 - name: Add service project openstack.cloud.project: cloud: default state: present name: ""{{ _project_name }}"" description: ""{{ _project_description | default(omit) }}"" domain_id: ""{{ _project_domain | default('default') }}"" endpoint_type: admin validate_certs: ""{{ not (_service_adminuri_insecure | default(True) | bool) }}"" register: add_service when: - not (_service_in_ldap | default(False) | bool) - _project_name is defined until: add_service is success retries: 5 delay: 10 - name: Add services to the keystone service catalog openstack.cloud.catalog_service: cloud: default state: ""{{ item.state | default('present') }}"" name: ""{{ item.name }}"" service_type: ""{{ item.type }}"" description: ""{{ item.description | default('') }}"" endpoint_type: admin validate_certs: ""{{ not (_service_adminuri_insecure | default(True) | bool) }}"" register: add_service with_items: ""{{ _service_catalog }}"" when: _service_catalog is defined until: add_service is success retries: 5 delay: 10 - name: Add keystone roles openstack.cloud.identity_role: cloud: default state: present name: ""{{ item.role }}"" endpoint_type: admin validate_certs: ""{{ not (_service_adminuri_insecure | default(True) | bool) }}"" register: add_service when: - not (_service_in_ldap | default(False) | bool) - _service_users is defined - ""'role' in item"" - (item.condition | default(True)) | bool until: add_service is success with_items: ""{{ _service_users }}"" retries: 5 delay: 10 no_log: True - name: Add service users openstack.cloud.identity_user: cloud: default state: present name: ""{{ item.name }}"" password: ""{{ item.password }}"" domain: ""{{ item.domain | default('default') }}"" default_project: ""{{ item.project | default(_service_project_name) }}"" endpoint_type: admin validate_certs: ""{{ not (_service_adminuri_insecure | default(True) | bool) }}"" update_password: always register: add_service when: - not (_service_in_ldap | default(False) | bool) - _service_users is defined - ""'name' in item"" - ""'password' in item"" - (item.condition | default(True)) | bool until: add_service is success with_items: ""{{ _service_users }}"" retries: 5 delay: 10 no_log: True - name: Add service users to the role openstack.cloud.role_assignment: cloud: default state: present user: ""{{ item.name }}"" role: ""{{ item.role }}"" project: ""{{ item.project | default(_service_project_name) }}"" domain: ""{{ item.domain | default(omit) }}"" endpoint_type: admin validate_certs: ""{{ not (_service_adminuri_insecure | default(True) | bool) }}"" register: add_service when: - not (_service_in_ldap | default(False) | bool) - _service_users is defined - ""'name' in item"" - ""'role' in item"" - (item.condition | default(True)) | bool until: add_service is success with_items: ""{{ _service_users }}"" retries: 5 delay: 10 no_log: True - name: Add endpoints to keystone endpoint catalog openstack.cloud.endpoint: cloud: default state: ""{{ item.state | default('present') }}"" service: ""{{ item.service }}"" endpoint_interface: ""{{ item.interface }}"" url: ""{{ item.url }}"" region: ""{{ _service_region | default('RegionOne') }}"" endpoint_type: admin validate_certs: ""{{ not (_service_adminuri_insecure | default(True) | bool) }}"" register: add_service until: add_service is success retries: 5 delay: 10 with_items: ""{{ _service_endpoints }}"" when: _service_endpoints is defined ",14,214
openstack%2Fneutron~stable%2Fyoga~Iad4fae7af54cc502ac0ba02a911cdd4fefa13535,openstack/neutron,stable/yoga,Iad4fae7af54cc502ac0ba02a911cdd4fefa13535,[ovn][migration] Support migration to OVN from iptables firewall,MERGED,2022-04-26 20:27:03.000000000,2022-05-05 19:24:08.000000000,2022-05-05 19:22:44.000000000,"[{'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-26 20:27:03.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/db_migration.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/test_db_migration.py', 'tools/ovn_migration/tripleo_environment/playbooks/roles/pre-checks/ovn-controllers/tasks/main.yml', 'tools/ovn_migration/tripleo_environment/playbooks/ovn-migration.yml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/fb166690388c080644e2476fbb8018f8532e5172', 'message': ""[ovn][migration] Support migration to OVN from iptables firewall\n\nBefore this patch, when migrating from ML2/OVS to ML2/OVN, we\nremoved the VIF details that are not used by OVN. However, this\nchanges how the VIFs are plugged if the hybrid iptables firewall\nwas used.\n\nIn order to not break the migration, we want to keep whatever\nplugging was used in ML2/OVS. For this reason, this patch is\nleaving the VIF details untouched.\n\nThe consequence is that, after migration, whatever workloads\nused the hybrid plugging will remain like that. Newly created\nVIFs will be plugged to the OVS bridge directly. As a result,\nthe migration to OVN won't require moving to the OVS firewall\nfirst while in ML2/OVS.\n\nThis patch is also removing the constraint that prevented the\nmigration if the hybrid firewall was used.\n\nSigned-off-by: Daniel Alvarez Sanchez <dalvarez@redhat.com>\nChange-Id: Iad4fae7af54cc502ac0ba02a911cdd4fefa13535\n(cherry picked from commit 5f2eaadf40ab9d349ff2af9b0b8575bcbb4262dc)\n""}]",2,839341,fb166690388c080644e2476fbb8018f8532e5172,16,3,1,8655,,,0,"[ovn][migration] Support migration to OVN from iptables firewall

Before this patch, when migrating from ML2/OVS to ML2/OVN, we
removed the VIF details that are not used by OVN. However, this
changes how the VIFs are plugged if the hybrid iptables firewall
was used.

In order to not break the migration, we want to keep whatever
plugging was used in ML2/OVS. For this reason, this patch is
leaving the VIF details untouched.

The consequence is that, after migration, whatever workloads
used the hybrid plugging will remain like that. Newly created
VIFs will be plugged to the OVS bridge directly. As a result,
the migration to OVN won't require moving to the OVS firewall
first while in ML2/OVS.

This patch is also removing the constraint that prevented the
migration if the hybrid firewall was used.

Signed-off-by: Daniel Alvarez Sanchez <dalvarez@redhat.com>
Change-Id: Iad4fae7af54cc502ac0ba02a911cdd4fefa13535
(cherry picked from commit 5f2eaadf40ab9d349ff2af9b0b8575bcbb4262dc)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/41/839341/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/ovn/db_migration.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/test_db_migration.py', 'tools/ovn_migration/tripleo_environment/playbooks/roles/pre-checks/ovn-controllers/tasks/main.yml', 'tools/ovn_migration/tripleo_environment/playbooks/ovn-migration.yml']",4,fb166690388c080644e2476fbb8018f8532e5172,hybrid-plug-migration-stable/yoga,,- name: Pre migration checks in the OVN controllers hosts: ovn-controllers roles: - pre-checks/ovn-controllers tags: - pre-migration ,6,23
openstack%2Fcharm-deployment-guide~master~Ib7f5ed930623a777beca20728fa19e04d5306f76,openstack/charm-deployment-guide,master,Ib7f5ed930623a777beca20728fa19e04d5306f76,Update Hardware Offload section,MERGED,2022-05-05 16:36:33.000000000,2022-05-05 19:03:01.000000000,2022-05-05 19:01:49.000000000,"[{'_account_id': 22348}, {'_account_id': 30561}]","[{'number': 1, 'created': '2022-05-05 16:36:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/6031e01abd149f7c985e5174349fbe89982db686', 'message': 'Update Hardware Offload section\n\nThis cycles validation work has changed the classification of the\nfeature as well as hardware and software requirements.\n\nChange-Id: Ib7f5ed930623a777beca20728fa19e04d5306f76\n'}, {'number': 2, 'created': '2022-05-05 18:32:43.000000000', 'files': ['deploy-guide/source/app-ovn.rst'], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/20a42b606884030e830bf7872b3757e0e766d33a', 'message': 'Update Hardware Offload section\n\nThis cycles validation work has changed the classification of the\nfeature as well as hardware and software requirements.\n\nChange-Id: Ib7f5ed930623a777beca20728fa19e04d5306f76\n'}]",7,840705,20a42b606884030e830bf7872b3757e0e766d33a,11,2,2,13686,,,0,"Update Hardware Offload section

This cycles validation work has changed the classification of the
feature as well as hardware and software requirements.

Change-Id: Ib7f5ed930623a777beca20728fa19e04d5306f76
",git fetch https://review.opendev.org/openstack/charm-deployment-guide refs/changes/05/840705/1 && git format-patch -1 --stdout FETCH_HEAD,['deploy-guide/source/app-ovn.rst'],1,6031e01abd149f7c985e5174349fbe89982db686,update-ovn-hwol-guide,".. caution:: This feature is to be considered Tech Preview. OVN has more stringent requirements for match/action support in the hardware than for example Neutron ML2+OVS. Make sure to acquire hardware with appropriate support. .. caution:: Depending on hardware vendor, it may be required to install third party drivers (DKMS) in order to successfully use this feature.* Ubuntu 22.04 LTS or later * Linux kernel >= 5.15 * Open vSwitch 2.17 * OVN 22.03 * OpenStack Yoga or later Please refer to the `SR-IOV for networking support`_ section for information on kernel configuration.",.. warning:: Support for hardware offload in conjunction with OVN is an experimental feature. OVN programs flow tables in a different way than legacy ML2+OVS and this has had less exposure to validation in NIC firmware and driver support. To use the feature you need to use supported network interface card (NIC) hardware. We have done feature validation using the Mellanox ConnectX-5 NICs. Please refer to `Hardware offloading`_ for more background on the feature.Please refer to the `SR-IOV for networking support`_ section and the `Hardware offloading`_ page for information on hardware and kernel configuration.,20,10
openstack%2Fmistral~master~If93609a56e341ff313063c0aa069d140528257b0,openstack/mistral,master,If93609a56e341ff313063c0aa069d140528257b0,Remove hacking rules to enforce six usage,NEW,2022-05-05 04:03:52.000000000,2022-05-05 18:53:30.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-05-05 04:03:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/cbe59e52681cccc693243328b616a7e9f5acaad4', 'message': 'Remove hacking rules to enforce six usage\n\n... because these rules are no longer valid since usage of six library\nwas removed[1].\n\n[1] 4bc6162515f352af1fb1060ff337bce206cb2831\n\nChange-Id: If93609a56e341ff313063c0aa069d140528257b0\n'}, {'number': 2, 'created': '2022-05-05 16:41:56.000000000', 'files': ['mistral/tests/unit/hacking/test_checks.py', 'mistral/workflow/data_flow.py', 'mistral/hacking/checks.py', 'tox.ini', 'HACKING.rst'], 'web_link': 'https://opendev.org/openstack/mistral/commit/37569179c1b7831911570d3b9271899e799ecbba', 'message': 'Remove hacking rules to enforce six usage\n\n... because these rules are no longer valid since usage of six library\nwas removed[1].\n\n[1] 4bc6162515f352af1fb1060ff337bce206cb2831\n\nChange-Id: If93609a56e341ff313063c0aa069d140528257b0\n'}]",0,840570,37569179c1b7831911570d3b9271899e799ecbba,4,1,2,9816,,,0,"Remove hacking rules to enforce six usage

... because these rules are no longer valid since usage of six library
was removed[1].

[1] 4bc6162515f352af1fb1060ff337bce206cb2831

Change-Id: If93609a56e341ff313063c0aa069d140528257b0
",git fetch https://review.opendev.org/openstack/mistral refs/changes/70/840570/1 && git format-patch -1 --stdout FETCH_HEAD,"['mistral/tests/unit/hacking/test_checks.py', 'mistral/workflow/data_flow.py', 'mistral/hacking/checks.py', 'HACKING.rst']",4,cbe59e52681cccc693243328b616a7e9f5acaad4,,,- [M327] Do not use xrange(). xrange() is not compatible with Python 3. Use range() or six.moves.range() instead. - [M328] Python 3: do not use dict.iteritems. - [M329] Python 3: do not use dict.iterkeys. - [M330] Python 3: do not use dict.itervalues.,0,73
openstack%2Fneutron~stable%2Fwallaby~Iad4fae7af54cc502ac0ba02a911cdd4fefa13535,openstack/neutron,stable/wallaby,Iad4fae7af54cc502ac0ba02a911cdd4fefa13535,[ovn][migration] Support migration to OVN from iptables firewall,MERGED,2022-04-26 20:27:22.000000000,2022-05-05 18:45:15.000000000,2022-05-05 18:43:52.000000000,"[{'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-26 20:27:22.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/db_migration.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/test_db_migration.py', 'tools/ovn_migration/tripleo_environment/playbooks/roles/pre-checks/ovn-controllers/tasks/main.yml', 'tools/ovn_migration/tripleo_environment/playbooks/ovn-migration.yml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/cc55a19431b5871e982f3b8cff0d6211b729091d', 'message': ""[ovn][migration] Support migration to OVN from iptables firewall\n\nBefore this patch, when migrating from ML2/OVS to ML2/OVN, we\nremoved the VIF details that are not used by OVN. However, this\nchanges how the VIFs are plugged if the hybrid iptables firewall\nwas used.\n\nIn order to not break the migration, we want to keep whatever\nplugging was used in ML2/OVS. For this reason, this patch is\nleaving the VIF details untouched.\n\nThe consequence is that, after migration, whatever workloads\nused the hybrid plugging will remain like that. Newly created\nVIFs will be plugged to the OVS bridge directly. As a result,\nthe migration to OVN won't require moving to the OVS firewall\nfirst while in ML2/OVS.\n\nThis patch is also removing the constraint that prevented the\nmigration if the hybrid firewall was used.\n\nSigned-off-by: Daniel Alvarez Sanchez <dalvarez@redhat.com>\nChange-Id: Iad4fae7af54cc502ac0ba02a911cdd4fefa13535\n(cherry picked from commit 5f2eaadf40ab9d349ff2af9b0b8575bcbb4262dc)\n""}]",1,839343,cc55a19431b5871e982f3b8cff0d6211b729091d,16,3,1,8655,,,0,"[ovn][migration] Support migration to OVN from iptables firewall

Before this patch, when migrating from ML2/OVS to ML2/OVN, we
removed the VIF details that are not used by OVN. However, this
changes how the VIFs are plugged if the hybrid iptables firewall
was used.

In order to not break the migration, we want to keep whatever
plugging was used in ML2/OVS. For this reason, this patch is
leaving the VIF details untouched.

The consequence is that, after migration, whatever workloads
used the hybrid plugging will remain like that. Newly created
VIFs will be plugged to the OVS bridge directly. As a result,
the migration to OVN won't require moving to the OVS firewall
first while in ML2/OVS.

This patch is also removing the constraint that prevented the
migration if the hybrid firewall was used.

Signed-off-by: Daniel Alvarez Sanchez <dalvarez@redhat.com>
Change-Id: Iad4fae7af54cc502ac0ba02a911cdd4fefa13535
(cherry picked from commit 5f2eaadf40ab9d349ff2af9b0b8575bcbb4262dc)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/43/839343/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/ovn/db_migration.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/test_db_migration.py', 'tools/ovn_migration/tripleo_environment/playbooks/roles/pre-checks/ovn-controllers/tasks/main.yml', 'tools/ovn_migration/tripleo_environment/playbooks/ovn-migration.yml']",4,cc55a19431b5871e982f3b8cff0d6211b729091d,hybrid-plug-migration-stable/yoga-stable/xena-stable/wallaby,,- name: Pre migration checks in the OVN controllers hosts: ovn-controllers roles: - pre-checks/ovn-controllers tags: - pre-migration ,6,23
openstack%2Fdesignate~master~Ic09d9c720bf14bdc7aac521d007445cf32d12c9a,openstack/designate,master,Ic09d9c720bf14bdc7aac521d007445cf32d12c9a,Cleaned up agent backend code,MERGED,2021-11-28 22:15:46.000000000,2022-05-05 18:35:34.000000000,2022-05-05 18:32:57.000000000,"[{'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2021-11-28 22:15:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/7e3e65ca5786e48989941f98854e65dd667f1248', 'message': 'Cleaned up agent backend code\n\nUpdated flow of make_and_send_dns_message and made\ncode easier to read in general.\n\nChange-Id: Ic09d9c720bf14bdc7aac521d007445cf32d12c9a\n'}, {'number': 2, 'created': '2021-11-28 22:32:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/0b49b9bb9248f8b464bd956fb1f2ec10ed28b6cf', 'message': 'Cleaned up agent backend code\n\nUpdated flow of make_and_send_dns_message and made\ncode easier to read in general.\n\nChange-Id: Ic09d9c720bf14bdc7aac521d007445cf32d12c9a\n'}, {'number': 3, 'created': '2021-11-28 22:37:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/7a54346d2ec5aa353d60863ee999a1c39ac77a21', 'message': 'Cleaned up agent backend code\n\nUpdated flow of make_and_send_dns_message and made\ncode easier to read in general.\n\nChange-Id: Ic09d9c720bf14bdc7aac521d007445cf32d12c9a\n'}, {'number': 4, 'created': '2021-11-28 22:39:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/9453bd9a8c0b55082b89ca6f4c431013ed4172d7', 'message': 'Cleaned up agent backend code\n\nUpdated flow of make_and_send_dns_message and made\ncode easier to read in general.\n\nChange-Id: Ic09d9c720bf14bdc7aac521d007445cf32d12c9a\n'}, {'number': 5, 'created': '2021-12-03 20:12:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/553755d3a6911e3fba7419f73923fdd14a309592', 'message': 'Cleaned up agent backend code\n\nUpdated flow of make_and_send_dns_message and made\ncode easier to read in general.\n\nChange-Id: Ic09d9c720bf14bdc7aac521d007445cf32d12c9a\n'}, {'number': 6, 'created': '2021-12-21 23:46:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/2a43bf1c62fc811512b616839d1dcfe454b1bf1c', 'message': 'Cleaned up agent backend code\n\nUpdated flow of make_and_send_dns_message and made\ncode easier to read in general.\n\nChange-Id: Ic09d9c720bf14bdc7aac521d007445cf32d12c9a\n'}, {'number': 7, 'created': '2022-02-05 22:46:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/ca5243037570df053607d552b4541e59e4caf435', 'message': 'Cleaned up agent backend code\n\nUpdated flow of make_and_send_dns_message and made\ncode easier to read in general.\n\nChange-Id: Ic09d9c720bf14bdc7aac521d007445cf32d12c9a\n'}, {'number': 8, 'created': '2022-02-05 22:47:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/d586f190db51622423643dbc583686acc915f979', 'message': 'Cleaned up agent backend code\n\nUpdated flow of make_and_send_dns_message to make the code\neasier to read without changing any of the actual functionality.\n\nChange-Id: Ic09d9c720bf14bdc7aac521d007445cf32d12c9a\n'}, {'number': 9, 'created': '2022-02-12 06:53:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/8b2920fa8bbe41f925af9faa08a56074dacd928a', 'message': 'Cleaned up agent backend code\n\nUpdated flow of make_and_send_dns_message to make the code\neasier to read without changing any of the actual functionality.\n\nChange-Id: Ic09d9c720bf14bdc7aac521d007445cf32d12c9a\n'}, {'number': 10, 'created': '2022-02-18 17:49:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/cc474277b5a12a3f4a8c6d8ea5e2f87c5cd4b78c', 'message': 'Cleaned up agent backend code\n\nUpdated flow of make_and_send_dns_message to make the code\neasier to read without changing any of the actual functionality.\n\nChange-Id: Ic09d9c720bf14bdc7aac521d007445cf32d12c9a\n'}, {'number': 11, 'created': '2022-05-05 01:21:41.000000000', 'files': ['designate/backend/agent.py', 'designate/tests/unit/backend/test_agent.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/e5d2fc0657ff71800283b0211b00a32e6e320b6f', 'message': 'Cleaned up agent backend code\n\nUpdated flow of make_and_send_dns_message to make the code\neasier to read without changing any of the actual functionality.\n\nChange-Id: Ic09d9c720bf14bdc7aac521d007445cf32d12c9a\n'}]",10,819518,e5d2fc0657ff71800283b0211b00a32e6e320b6f,36,3,11,22623,,,0,"Cleaned up agent backend code

Updated flow of make_and_send_dns_message to make the code
easier to read without changing any of the actual functionality.

Change-Id: Ic09d9c720bf14bdc7aac521d007445cf32d12c9a
",git fetch https://review.opendev.org/openstack/designate refs/changes/18/819518/3 && git format-patch -1 --stdout FETCH_HEAD,"['designate/backend/agent.py', 'designate/tests/unit/backend/test_agent.py']",2,7e3e65ca5786e48989941f98854e65dd667f1248,," @mock.patch.object(dnsutils, 'send_dns_message') def test_make_and_send_dns_message_timeout(self, mock_send_dns_message): mock_send_dns_message.side_effect = dns.exception.Timeout() @mock.patch.object(dnsutils, 'send_dns_message') def test_make_and_send_dns_message_bad_response(self, mock_send_dns_message): mock_send_dns_message.side_effect = dns.query.BadResponse() @mock.patch.object(dnsutils, 'send_dns_message') def test_make_and_send_dns_message_missing_AA_flags(self, mock_send_dns_message): mock_send_dns_message.return_value = response @mock.patch.object(dnsutils, 'send_dns_message') def test_make_and_send_dns_message_error_flags(self, mock_send_dns_message): mock_send_dns_message.return_value = response @mock.patch.object(dnsutils, 'send_dns_message') def test_make_and_send_dns_message(self, mock_send_dns_message): mock_send_dns_message.return_value = response"," def test_make_and_send_dns_message_timeout(self): self.backend._send_dns_message = mock.Mock( return_value=dns.exception.Timeout()) def test_make_and_send_dns_message_bad_response(self): self.backend._send_dns_message = mock.Mock( return_value=dns.query.BadResponse()) def test_make_and_send_dns_message_missing_AA_flags(self): self.backend._send_dns_message = mock.Mock(return_value=response) def test_make_and_send_dns_message_error_flags(self): self.backend._send_dns_message = mock.Mock(return_value=response) def test_make_and_send_dns_message(self): self.backend._send_dns_message = mock.Mock(return_value=response) @mock.patch.object(dnsutils, 'get_ip_address') @mock.patch.object(dns.query, 'tcp') @mock.patch.object(dns.query, 'udp') def test_send_dns_message(self, mock_udp, mock_tcp, mock_get_ip_address): mock_udp.return_value = 'mock udp resp' mock_get_ip_address.return_value = '10.0.1.39' out = self.backend._send_dns_message('msg', '10.0.1.39', 123, 1) self.assertFalse(mock_tcp.called) mock_udp.assert_called_with('msg', '10.0.1.39', port=123, timeout=1) self.assertEqual('mock udp resp', out)",82,84
openstack%2Fdesignate~master~Ia17a30714d7cdc6ad87655bad605c6e8e7437587,openstack/designate,master,Ia17a30714d7cdc6ad87655bad605c6e8e7437587,Fixed rare race condition in unit test,MERGED,2022-05-05 05:59:41.000000000,2022-05-05 18:34:18.000000000,2022-05-05 18:32:54.000000000,"[{'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2022-05-05 05:59:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/3c855292bf65b791a18af7cbc887104597aa4d3a', 'message': 'Fixed rare race condition in unit test\n\nThere was a rare race condition in DeletedZonePurgeTest. This patch\nfixes that by modifying the timestamp to zone deletion to be one\nsecond earlier.\n\nChange-Id: Ia17a30714d7cdc6ad87655bad605c6e8e7437587\n'}, {'number': 2, 'created': '2022-05-05 06:00:32.000000000', 'files': ['designate/tests/test_producer/test_tasks.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/4d258fc4b91dfc3e532b9555525141be6d305c52', 'message': 'Fixed rare race condition in unit test\n\nThere was a rare race condition in DeletedZonePurgeTest. This patch\nfixes that by modifying the timestamp of zone deletion to be one\nsecond earlier.\n\nChange-Id: Ia17a30714d7cdc6ad87655bad605c6e8e7437587\n'}]",1,840578,4d258fc4b91dfc3e532b9555525141be6d305c52,9,3,2,22623,,,0,"Fixed rare race condition in unit test

There was a rare race condition in DeletedZonePurgeTest. This patch
fixes that by modifying the timestamp of zone deletion to be one
second earlier.

Change-Id: Ia17a30714d7cdc6ad87655bad605c6e8e7437587
",git fetch https://review.opendev.org/openstack/designate refs/changes/78/840578/2 && git format-patch -1 --stdout FETCH_HEAD,['designate/tests/test_producer/test_tasks.py'],1,3c855292bf65b791a18af7cbc887104597aa4d3a,, age = index * (self.time_threshold // self.number_of_zones * 2) - 1 for remaining in range(5):," age = index * (self.time_threshold // self.number_of_zones * 2) for remaining in reversed(range(self.number_of_zones // 2, self.number_of_zones, self.batch_size)): zones = self._fetch_all_zones() LOG.info(""Number of zones: %d"", len(zones)) self.assertEqual(remaining, len(zones)) ",2,8
openstack%2Fneutron~stable%2Fxena~Iad4fae7af54cc502ac0ba02a911cdd4fefa13535,openstack/neutron,stable/xena,Iad4fae7af54cc502ac0ba02a911cdd4fefa13535,[ovn][migration] Support migration to OVN from iptables firewall,MERGED,2022-04-26 20:27:12.000000000,2022-05-05 18:25:53.000000000,2022-05-05 18:24:23.000000000,"[{'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-26 20:27:12.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/db_migration.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/test_db_migration.py', 'tools/ovn_migration/tripleo_environment/playbooks/roles/pre-checks/ovn-controllers/tasks/main.yml', 'tools/ovn_migration/tripleo_environment/playbooks/ovn-migration.yml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/eaff57bd038dd3d392e31e42d17fadaa8f8baad9', 'message': ""[ovn][migration] Support migration to OVN from iptables firewall\n\nBefore this patch, when migrating from ML2/OVS to ML2/OVN, we\nremoved the VIF details that are not used by OVN. However, this\nchanges how the VIFs are plugged if the hybrid iptables firewall\nwas used.\n\nIn order to not break the migration, we want to keep whatever\nplugging was used in ML2/OVS. For this reason, this patch is\nleaving the VIF details untouched.\n\nThe consequence is that, after migration, whatever workloads\nused the hybrid plugging will remain like that. Newly created\nVIFs will be plugged to the OVS bridge directly. As a result,\nthe migration to OVN won't require moving to the OVS firewall\nfirst while in ML2/OVS.\n\nThis patch is also removing the constraint that prevented the\nmigration if the hybrid firewall was used.\n\nSigned-off-by: Daniel Alvarez Sanchez <dalvarez@redhat.com>\nChange-Id: Iad4fae7af54cc502ac0ba02a911cdd4fefa13535\n(cherry picked from commit 5f2eaadf40ab9d349ff2af9b0b8575bcbb4262dc)\n""}]",1,839342,eaff57bd038dd3d392e31e42d17fadaa8f8baad9,16,3,1,8655,,,0,"[ovn][migration] Support migration to OVN from iptables firewall

Before this patch, when migrating from ML2/OVS to ML2/OVN, we
removed the VIF details that are not used by OVN. However, this
changes how the VIFs are plugged if the hybrid iptables firewall
was used.

In order to not break the migration, we want to keep whatever
plugging was used in ML2/OVS. For this reason, this patch is
leaving the VIF details untouched.

The consequence is that, after migration, whatever workloads
used the hybrid plugging will remain like that. Newly created
VIFs will be plugged to the OVS bridge directly. As a result,
the migration to OVN won't require moving to the OVS firewall
first while in ML2/OVS.

This patch is also removing the constraint that prevented the
migration if the hybrid firewall was used.

Signed-off-by: Daniel Alvarez Sanchez <dalvarez@redhat.com>
Change-Id: Iad4fae7af54cc502ac0ba02a911cdd4fefa13535
(cherry picked from commit 5f2eaadf40ab9d349ff2af9b0b8575bcbb4262dc)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/42/839342/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/ovn/db_migration.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/test_db_migration.py', 'tools/ovn_migration/tripleo_environment/playbooks/roles/pre-checks/ovn-controllers/tasks/main.yml', 'tools/ovn_migration/tripleo_environment/playbooks/ovn-migration.yml']",4,eaff57bd038dd3d392e31e42d17fadaa8f8baad9,hybrid-plug-migration-stable/yoga-stable/xena,,- name: Pre migration checks in the OVN controllers hosts: ovn-controllers roles: - pre-checks/ovn-controllers tags: - pre-migration ,6,23
openstack%2Fcinder~stable%2Ftrain~I216a82a29c7fb6b1b2fac95b2a1af667c4e2b22d,openstack/cinder,stable/train,I216a82a29c7fb6b1b2fac95b2a1af667c4e2b22d,Handle the case when tempest fails,MERGED,2022-05-03 20:18:44.000000000,2022-05-05 18:25:50.000000000,2022-05-05 18:24:18.000000000,"[{'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-03 20:18:44.000000000', 'files': ['playbooks/tempest-and-cinderlib-run.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/f3340ec4804b5ffa0edf52c8328de01e2cfc26df', 'message': 'Handle the case when tempest fails\n\nBefore this change, the errors from tempest run are suppressed\nin order to always execute cinderlib tests.\n\nUse the variable exported by run-tempest instead,\nand fail properly if needed.\n\nThis is a port of Ic1fd6fcc9b9183f195c66f0022e913ae9734c97b\nfrom cinder-tempest-plugin.git to this repository.\n\nChange-Id: I216a82a29c7fb6b1b2fac95b2a1af667c4e2b22d\n(cherry picked from commit 7e04b5b0d4c91df7601e8e7f36d49fb6d651ea2b)\n(cherry picked from commit 391f7c7f9bd395b1dafdd4fcc4c118fbe4dd0f77)\n(cherry picked from commit 6fb0d93b3c968ac86ac7910d46b9311ae905a67d)\n(cherry picked from commit c29a6d087e3277d71e4659c704acecfa88ad9949)\n(cherry picked from commit 070a0effbca23aa2410982e4df279abfc8a5d65f)\n(cherry picked from commit 098775ca2a03d9a31747d7966edfdd8ae50ef0b3)\n'}]",4,840379,f3340ec4804b5ffa0edf52c8328de01e2cfc26df,27,3,1,10459,,,0,"Handle the case when tempest fails

Before this change, the errors from tempest run are suppressed
in order to always execute cinderlib tests.

Use the variable exported by run-tempest instead,
and fail properly if needed.

This is a port of Ic1fd6fcc9b9183f195c66f0022e913ae9734c97b
from cinder-tempest-plugin.git to this repository.

Change-Id: I216a82a29c7fb6b1b2fac95b2a1af667c4e2b22d
(cherry picked from commit 7e04b5b0d4c91df7601e8e7f36d49fb6d651ea2b)
(cherry picked from commit 391f7c7f9bd395b1dafdd4fcc4c118fbe4dd0f77)
(cherry picked from commit 6fb0d93b3c968ac86ac7910d46b9311ae905a67d)
(cherry picked from commit c29a6d087e3277d71e4659c704acecfa88ad9949)
(cherry picked from commit 070a0effbca23aa2410982e4df279abfc8a5d65f)
(cherry picked from commit 098775ca2a03d9a31747d7966edfdd8ae50ef0b3)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/79/840379/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/tempest-and-cinderlib-run.yaml'],1,f3340ec4804b5ffa0edf52c8328de01e2cfc26df,fix-reporting," # ignore the errors here (but consider them later), so that run-cinderlib-tests is always executed post_tasks: - name: Fail if the first tempest run did not work fail: msg: ""tempest run returned with an error"" when: tempest_run_result is defined and tempest_run_result.rc != 0"," # ignore the errors, so that run-cinderlib-tests is always executed",6,1
openstack%2Fcinder~master~Id639c412a6f5ad24ab9c80416c56c1d99b3f104c,openstack/cinder,master,Id639c412a6f5ad24ab9c80416c56c1d99b3f104c,Fix example of failed migrarion for LVM->RBD,MERGED,2022-04-29 08:06:34.000000000,2022-05-05 18:19:13.000000000,2022-04-29 19:50:20.000000000,"[{'_account_id': 5314}, {'_account_id': 10459}, {'_account_id': 20813}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-29 08:06:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/d57f16969078eefe974fb9a078caef8c32ed891b', 'message': 'Fix example of failed migrarion for LVM->RBD\n\nMigration from and to RBD devices works for in-use volumes since\nUssuri release. Also as of now a migration of in-use volumes for\nnon-active VMs is prohibited for any backends.\n\nRelated-Bug: #1673090\nRelated-Bug: #1868996\nCloses-Bug: #1969913\nChange-Id: Id639c412a6f5ad24ab9c80416c56c1d99b3f104c\n'}, {'number': 2, 'created': '2022-04-29 14:47:53.000000000', 'files': ['doc/source/contributor/migration.rst'], 'web_link': 'https://opendev.org/openstack/cinder/commit/7ee223837ec99bf85d8a4b220457e6c1302acc3a', 'message': 'Fix example of failed migrarion for LVM->RBD\n\nMigration from and to RBD devices works for in-use volumes since\nUssuri release. Also as of now a migration of in-use volumes for\nnon-active VMs is prohibited for any backends.\n\nRelated-Bug: #1673090\nRelated-Bug: #1868996\nCloses-Bug: #1969913\nChange-Id: Id639c412a6f5ad24ab9c80416c56c1d99b3f104c\n'}]",6,839872,7ee223837ec99bf85d8a4b220457e6c1302acc3a,52,4,2,13671,,,0,"Fix example of failed migrarion for LVM->RBD

Migration from and to RBD devices works for in-use volumes since
Ussuri release. Also as of now a migration of in-use volumes for
non-active VMs is prohibited for any backends.

Related-Bug: #1673090
Related-Bug: #1868996
Closes-Bug: #1969913
Change-Id: Id639c412a6f5ad24ab9c80416c56c1d99b3f104c
",git fetch https://review.opendev.org/openstack/cinder refs/changes/72/839872/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributor/migration.rst'],1,d57f16969078eefe974fb9a078caef8c32ed891b,bug/1969913,"For example, for older releases (before Ussuri), the migration of 'in-use' volume from RBD to LVM will succeed, but from LVM to RBD, it will fail. Currently migration of 'in-use' volumes for non-active VMs will fail for any backend, i.e. VMs must be running to succeed volume relocation.","For example, from RBD to LVM, the migration of 'in-use' volume will succeed, but from LVM to RBD, it will fail.",5,2
openstack%2Fdesignate~master~I1c863e98210aa74f7ecde03b619e971b3112e8d5,openstack/designate,master,I1c863e98210aa74f7ecde03b619e971b3112e8d5,Added additional worker unit test coverage,MERGED,2022-05-01 05:35:50.000000000,2022-05-05 18:07:11.000000000,2022-05-05 18:05:37.000000000,"[{'_account_id': 5572}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2022-05-01 05:35:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/aad5e7ee77505f60dcd26a0417eed3b6f2bc1c2f', 'message': 'Added additional worker unit test coverage\n\nChange-Id: I1c863e98210aa74f7ecde03b619e971b3112e8d5\n'}, {'number': 2, 'created': '2022-05-01 05:40:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/f2a51b471e6d14db1af6e189b18ab5188e21c969', 'message': 'Added additional worker unit test coverage\n\nChange-Id: I1c863e98210aa74f7ecde03b619e971b3112e8d5\n'}, {'number': 3, 'created': '2022-05-01 18:56:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/4f730408994db9acadba921792db930a2fff719c', 'message': 'Added additional worker unit test coverage\n\nChange-Id: I1c863e98210aa74f7ecde03b619e971b3112e8d5\n'}, {'number': 4, 'created': '2022-05-01 19:05:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/466856eeddd9140aee2f4db263f53786c09d5d37', 'message': 'Added additional worker unit test coverage\n\nChange-Id: I1c863e98210aa74f7ecde03b619e971b3112e8d5\n'}, {'number': 5, 'created': '2022-05-01 19:32:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/0c281b9bcfbe6553ef9b175cc24bd8e30373baa7', 'message': 'Added additional worker unit test coverage\n\nChange-Id: I1c863e98210aa74f7ecde03b619e971b3112e8d5\n'}, {'number': 6, 'created': '2022-05-01 20:42:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/1f877723d5b47f95eccdc7c28a975a16b1e473de', 'message': 'Added additional worker unit test coverage\n\nChange-Id: I1c863e98210aa74f7ecde03b619e971b3112e8d5\n'}, {'number': 7, 'created': '2022-05-04 19:11:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/4381287f1d818c47a49193a0222c5b3b246d16b1', 'message': 'Added additional worker unit test coverage\n\nChange-Id: I1c863e98210aa74f7ecde03b619e971b3112e8d5\n'}, {'number': 8, 'created': '2022-05-04 23:55:51.000000000', 'files': ['designate/tests/unit/workers/test_processing.py', 'designate/tests/unit/workers/test_task_config.py', 'designate/tests/unit/workers/test_base_task.py', 'designate/tests/unit/workers/test_service.py', 'designate/worker/processing.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/13d98df2932f891957c04ea43a26934372b90d95', 'message': 'Added additional worker unit test coverage\n\nChange-Id: I1c863e98210aa74f7ecde03b619e971b3112e8d5\n'}]",2,840110,13d98df2932f891957c04ea43a26934372b90d95,20,4,8,22623,,,0,"Added additional worker unit test coverage

Change-Id: I1c863e98210aa74f7ecde03b619e971b3112e8d5
",git fetch https://review.opendev.org/openstack/designate refs/changes/10/840110/1 && git format-patch -1 --stdout FETCH_HEAD,"['designate/tests/unit/workers/test_task_config.py', 'designate/tests/unit/workers/test_base_task.py']",2,aad5e7ee77505f60dcd26a0417eed3b6f2bc1c2f,more_tests,"from oslo_config import cfg from oslo_config import fixture as cfg_fixturefrom designate.central import rpcapi as central_rpcapiimport designate.quota.base from designate import rpc from designate import storage from designate.worker import rpcapi as worker_rpcapiCONF = cfg.CONF self.useFixture(cfg_fixture.Config(CONF)) @mock.patch.object(storage, 'get_storage', mock.Mock()) def test_quota(self): self.assertIsInstance(self.task.quota, designate.quota.base.Quota) @mock.patch.object(rpc, 'get_client', mock.Mock()) def test_central_api(self): self.assertIsInstance(self.task.central_api, central_rpcapi.CentralAPI) @mock.patch.object(rpc, 'get_client', mock.Mock()) def test_worker_api(self): self.assertIsInstance(self.task.worker_api, worker_rpcapi.WorkerAPI) def test_compare_threshold_at_50_percentage(self): CONF.set_override('threshold_percentage', 50, 'service:worker') self.assertTrue(self.task.compare_threshold(3, 3)) self.assertFalse(self.task.compare_threshold(1, 3)) self.assertFalse(self.task.compare_threshold(2, 5)) self.assertTrue(self.task.compare_threshold(4, 5)) def test_compare_threshold_at_100_percentage(self): CONF.set_override('threshold_percentage', 100, 'service:worker') self.assertTrue(self.task.compare_threshold(3, 3)) self.assertFalse(self.task.compare_threshold(1, 3)) self.assertFalse(self.task.compare_threshold(2, 5)) self.assertFalse(self.task.compare_threshold(4, 5)) def test_call(self): self.assertRaises(NotImplementedError, self.task)"," def test_call(self): self.assertRaises(NotImplementedError, self.task)",103,2
openstack%2Fopenstack-ansible-os_placement~master~I6d6831e5760c040cc46e4493b79b3aee58fbbb08,openstack/openstack-ansible-os_placement,master,I6d6831e5760c040cc46e4493b79b3aee58fbbb08,Use common service setup tasks from a collection rather than in-role,MERGED,2022-05-05 13:53:33.000000000,2022-05-05 17:52:35.000000000,2022-05-05 17:51:09.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-05-05 13:53:33.000000000', 'files': ['tasks/main.yml', 'tasks/db_setup.yml', 'tasks/service_setup.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_placement/commit/d419e6c00317f21f44461cbcbe8e59b72b5aef4b', 'message': 'Use common service setup tasks from a collection rather than in-role\n\nChange-Id: I6d6831e5760c040cc46e4493b79b3aee58fbbb08\n'}]",0,840668,d419e6c00317f21f44461cbcbe8e59b72b5aef4b,8,3,1,13095,,,0,"Use common service setup tasks from a collection rather than in-role

Change-Id: I6d6831e5760c040cc46e4493b79b3aee58fbbb08
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_placement refs/changes/68/840668/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'tasks/db_setup.yml', 'tasks/service_setup.yml']",3,d419e6c00317f21f44461cbcbe8e59b72b5aef4b,osa/common_tasks,,"--- # Copyright 2019, VEXXHOST, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. # WARNING: # This file is maintained in the openstack-ansible-tests repository. # https://opendev.org/openstack/openstack-ansible-tests/src/sync/tasks/service_setup.yml # If you need to modify this file, update the one in the openstack-ansible-tests # repository. Once it merges there, the changes will automatically be proposed to # all the repositories which use it. # We set the python interpreter to the ansible runtime venv if # the delegation is to localhost so that we get access to the # appropriate python libraries in that venv. If the delegation # is to another host, we assume that it is accessible by the # system python instead. - name: Setup the OS service delegate_to: ""{{ _service_setup_host }}"" vars: ansible_python_interpreter: ""{{ _service_setup_host_python_interpreter }}"" block: - name: Add keystone domain openstack.cloud.identity_domain: cloud: default state: present description: ""{{ _domain_name_description | default(omit) }}"" name: ""{{ _domain_name }}"" endpoint_type: admin verify: ""{{ not _service_adminuri_insecure }}"" register: add_domain when: _domain_name is defined until: add_domain is success retries: 5 delay: 10 - name: Add service project openstack.cloud.project: cloud: default state: present name: ""{{ _project_name }}"" description: ""{{ _project_description | default(omit) }}"" domain_id: ""{{ _project_domain | default('default') }}"" endpoint_type: admin validate_certs: ""{{ not (_service_adminuri_insecure | default(True) | bool) }}"" register: add_service when: - not (_service_in_ldap | default(False) | bool) - _project_name is defined until: add_service is success retries: 5 delay: 10 - name: Add services to the keystone service catalog openstack.cloud.catalog_service: cloud: default state: ""{{ item.state | default('present') }}"" name: ""{{ item.name }}"" service_type: ""{{ item.type }}"" description: ""{{ item.description | default('') }}"" endpoint_type: admin validate_certs: ""{{ not (_service_adminuri_insecure | default(True) | bool) }}"" register: add_service with_items: ""{{ _service_catalog }}"" when: _service_catalog is defined until: add_service is success retries: 5 delay: 10 - name: Add keystone roles openstack.cloud.identity_role: cloud: default state: present name: ""{{ item.role }}"" endpoint_type: admin validate_certs: ""{{ not (_service_adminuri_insecure | default(True) | bool) }}"" register: add_service when: - not (_service_in_ldap | default(False) | bool) - _service_users is defined - ""'role' in item"" - (item.condition | default(True)) | bool until: add_service is success with_items: ""{{ _service_users }}"" retries: 5 delay: 10 no_log: True - name: Add service users openstack.cloud.identity_user: cloud: default state: present name: ""{{ item.name }}"" password: ""{{ item.password }}"" domain: ""{{ item.domain | default('default') }}"" default_project: ""{{ item.project | default(_service_project_name) }}"" endpoint_type: admin validate_certs: ""{{ not (_service_adminuri_insecure | default(True) | bool) }}"" update_password: always register: add_service when: - not (_service_in_ldap | default(False) | bool) - _service_users is defined - ""'name' in item"" - ""'password' in item"" - (item.condition | default(True)) | bool until: add_service is success with_items: ""{{ _service_users }}"" retries: 5 delay: 10 no_log: True - name: Add service users to the role openstack.cloud.role_assignment: cloud: default state: present user: ""{{ item.name }}"" role: ""{{ item.role }}"" project: ""{{ item.project | default(_service_project_name) }}"" domain: ""{{ item.domain | default(omit) }}"" endpoint_type: admin validate_certs: ""{{ not (_service_adminuri_insecure | default(True) | bool) }}"" register: add_service when: - not (_service_in_ldap | default(False) | bool) - _service_users is defined - ""'name' in item"" - ""'role' in item"" - (item.condition | default(True)) | bool until: add_service is success with_items: ""{{ _service_users }}"" retries: 5 delay: 10 no_log: True - name: Add endpoints to keystone endpoint catalog openstack.cloud.endpoint: cloud: default state: ""{{ item.state | default('present') }}"" service: ""{{ item.service }}"" endpoint_interface: ""{{ item.interface }}"" url: ""{{ item.url }}"" region: ""{{ _service_region | default('RegionOne') }}"" endpoint_type: admin validate_certs: ""{{ not (_service_adminuri_insecure | default(True) | bool) }}"" register: add_service until: add_service is success retries: 5 delay: 10 with_items: ""{{ _service_endpoints }}"" when: _service_endpoints is defined ",14,215
openstack%2Frequirements~master~I6b1e0f49b44b66e186390c3598ec141a5c052822,openstack/requirements,master,I6b1e0f49b44b66e186390c3598ec141a5c052822,update constraint for futurist to new release 2.4.1,MERGED,2022-05-05 10:09:41.000000000,2022-05-05 17:51:33.000000000,2022-05-05 17:49:18.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-05-05 10:09:41.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/35e061377d6f5ea1df2ab15d498d33f2779d3f7d', 'message': 'update constraint for futurist to new release 2.4.1\n\nmeta: version: 2.4.1\nmeta: diff-start: -\nmeta: series: independent\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: no\nmeta: release:Author: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Commit: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Change-Id: Idba5a8c8714f5b1d0e9f1de1d26ae5db9ae5dced\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>\nChange-Id: I6b1e0f49b44b66e186390c3598ec141a5c052822\n'}]",0,840638,35e061377d6f5ea1df2ab15d498d33f2779d3f7d,9,3,1,11131,,,0,"update constraint for futurist to new release 2.4.1

meta: version: 2.4.1
meta: diff-start: -
meta: series: independent
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: Hervé Beraud <hberaud@redhat.com>
meta: release:Commit: Hervé Beraud <hberaud@redhat.com>
meta: release:Change-Id: Idba5a8c8714f5b1d0e9f1de1d26ae5db9ae5dced
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
Change-Id: I6b1e0f49b44b66e186390c3598ec141a5c052822
",git fetch https://review.opendev.org/openstack/requirements refs/changes/38/840638/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,35e061377d6f5ea1df2ab15d498d33f2779d3f7d,new-release,futurist===2.4.1,futurist===2.4.0,1,1
openstack%2Frequirements~master~I67d71c705c2448bfbf38d452bf219ad435ea9a7c,openstack/requirements,master,I67d71c705c2448bfbf38d452bf219ad435ea9a7c,update constraint for oslo.reports to new release 2.4.0,MERGED,2022-05-05 10:08:05.000000000,2022-05-05 17:50:43.000000000,2022-05-05 17:49:14.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-05-05 10:08:05.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/3c8d21f51fb0cab1ec8af977b9a126f26285b8f0', 'message': 'update constraint for oslo.reports to new release 2.4.0\n\nmeta: version: 2.4.0\nmeta: diff-start: -\nmeta: series: independent\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: no\nmeta: release:Author: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Commit: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Change-Id: Idba5a8c8714f5b1d0e9f1de1d26ae5db9ae5dced\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>\nChange-Id: I67d71c705c2448bfbf38d452bf219ad435ea9a7c\n'}]",0,840636,3c8d21f51fb0cab1ec8af977b9a126f26285b8f0,9,3,1,11131,,,0,"update constraint for oslo.reports to new release 2.4.0

meta: version: 2.4.0
meta: diff-start: -
meta: series: independent
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: Hervé Beraud <hberaud@redhat.com>
meta: release:Commit: Hervé Beraud <hberaud@redhat.com>
meta: release:Change-Id: Idba5a8c8714f5b1d0e9f1de1d26ae5db9ae5dced
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
Change-Id: I67d71c705c2448bfbf38d452bf219ad435ea9a7c
",git fetch https://review.opendev.org/openstack/requirements refs/changes/36/840636/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,3c8d21f51fb0cab1ec8af977b9a126f26285b8f0,new-release,oslo.reports===2.4.0,oslo.reports===2.3.0,1,1
openstack%2Fblazar~stable%2Fxena~I75fcd97cf7a53d17c909620fcf41a8b5a3699dfa,openstack/blazar,stable/xena,I75fcd97cf7a53d17c909620fcf41a8b5a3699dfa,Use built-in oslo context de/serialization,MERGED,2022-03-02 10:54:48.000000000,2022-05-05 17:47:01.000000000,2022-05-05 17:44:51.000000000,"[{'_account_id': 22348}, {'_account_id': 29100}]","[{'number': 1, 'created': '2022-03-02 10:54:48.000000000', 'files': ['blazar/tests/test_context.py', 'blazar/tests/api/v2/test_leases.py', 'releasenotes/notes/bug-1881162-ebe012fcc7176594.yaml', 'blazar/tests/api/test_context.py', 'blazar/tests/utils/test_trusts.py', 'blazar/api/context.py', 'blazar/utils/trusts.py', 'blazar/context.py', 'blazar/tests/test_policy.py', 'blazar/tests/utils/openstack/test_keystone.py', 'blazar/utils/service.py', 'blazar/policy.py', 'blazar/tests/api/__init__.py', 'blazar/utils/openstack/keystone.py'], 'web_link': 'https://opendev.org/openstack/blazar/commit/fc4008382428bba53fbbed22c639ef98167c5f3c', 'message': ""Use built-in oslo context de/serialization\n\nThe oslo context library has built-in mechanisms to deserialize a\ncontext object from a set of headers; Blazar's built in extension of the\ncontext class was ignoring several possibly-important pieces of\ninformation, notably the Keystone domain name.\n\nTo fix, this removes much of the custom logic in the BlazarContext and\nkeeps only the two important bits:\n\n1. A stack of contexts is maintained to allow for nested operations w/\n   different sets of credentials\n2. The service_catalog is preserved. It's unclear if this is really\n   needed long-term, but some code still relies on it. Also unclear why\n   the oslo context doesn't include this when parsing headers.\n\nSupport for multiple domains is included as part of this changeset.\nBefore, it was assumed that all users (admins and project users) were\npart of the default domain.\n\nCloses-Bug: #1881162\nChange-Id: I75fcd97cf7a53d17c909620fcf41a8b5a3699dfa\n(cherry picked from commit ed238925f912ea1b7ebfa8918b3a29a7bc3f0012)\n""}]",0,831508,fc4008382428bba53fbbed22c639ef98167c5f3c,7,2,1,15197,,,0,"Use built-in oslo context de/serialization

The oslo context library has built-in mechanisms to deserialize a
context object from a set of headers; Blazar's built in extension of the
context class was ignoring several possibly-important pieces of
information, notably the Keystone domain name.

To fix, this removes much of the custom logic in the BlazarContext and
keeps only the two important bits:

1. A stack of contexts is maintained to allow for nested operations w/
   different sets of credentials
2. The service_catalog is preserved. It's unclear if this is really
   needed long-term, but some code still relies on it. Also unclear why
   the oslo context doesn't include this when parsing headers.

Support for multiple domains is included as part of this changeset.
Before, it was assumed that all users (admins and project users) were
part of the default domain.

Closes-Bug: #1881162
Change-Id: I75fcd97cf7a53d17c909620fcf41a8b5a3699dfa
(cherry picked from commit ed238925f912ea1b7ebfa8918b3a29a7bc3f0012)
",git fetch https://review.opendev.org/openstack/blazar refs/changes/08/831508/1 && git format-patch -1 --stdout FETCH_HEAD,"['blazar/tests/test_context.py', 'blazar/tests/api/v2/test_leases.py', 'releasenotes/notes/bug-1881162-ebe012fcc7176594.yaml', 'blazar/tests/api/test_context.py', 'blazar/tests/utils/test_trusts.py', 'blazar/api/context.py', 'blazar/utils/trusts.py', 'blazar/context.py', 'blazar/tests/test_policy.py', 'blazar/tests/utils/openstack/test_keystone.py', 'blazar/utils/service.py', 'blazar/policy.py', 'blazar/tests/api/__init__.py', 'blazar/utils/openstack/keystone.py']",14,fc4008382428bba53fbbed22c639ef98167c5f3c,," kwargs.setdefault('user_domain_name', ctx.user_domain_name) kwargs.setdefault('project_name', ctx.project_name) kwargs.setdefault('project_domain_name', ctx.project_domain_name) if kwargs.get('trust_id') and kwargs.get('project_name'): kwargs.pop('project_name')"," kwargs.setdefault('tenant_name', ctx.project_name) if kwargs.get('trust_id') and kwargs.get('tenant_name'): kwargs.pop('tenant_name')",153,136
openstack%2Fblazar~stable%2Fyoga~I77fb08a3811ed1445e31b3552ca23d5bfc43a07d,openstack/blazar,stable/yoga,I77fb08a3811ed1445e31b3552ca23d5bfc43a07d,Fix references to start and end dates,MERGED,2022-03-25 11:09:03.000000000,2022-05-05 17:46:00.000000000,2022-05-05 17:44:45.000000000,"[{'_account_id': 22348}, {'_account_id': 29100}]","[{'number': 1, 'created': '2022-03-25 11:09:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/3bc8cee1b0aea357019a6abd1373647dd68eaf00', 'message': 'Fix references to start and end dates\n\nThe lease attributes are called start_date and end_date, not start_time\nand end_time.\n\nChange-Id: I77fb08a3811ed1445e31b3552ca23d5bfc43a07d\n'}, {'number': 2, 'created': '2022-04-15 09:56:21.000000000', 'files': ['blazar/tests/db/sqlalchemy/test_sqlalchemy_api.py', 'doc/source/admin/usage-enforcement.rst'], 'web_link': 'https://opendev.org/openstack/blazar/commit/51aed25bb6ae3a0c230bbe879d5ef7eb38e5af19', 'message': 'Fix references to start and end dates\n\nThe lease attributes are called start_date and end_date, not start_time\nand end_time.\n\nChange-Id: I77fb08a3811ed1445e31b3552ca23d5bfc43a07d\n(cherry picked from commit bd6469d53c692effdb04f67ce625b29f2d862d35)\n'}]",0,835139,51aed25bb6ae3a0c230bbe879d5ef7eb38e5af19,9,2,2,15197,,,0,"Fix references to start and end dates

The lease attributes are called start_date and end_date, not start_time
and end_time.

Change-Id: I77fb08a3811ed1445e31b3552ca23d5bfc43a07d
(cherry picked from commit bd6469d53c692effdb04f67ce625b29f2d862d35)
",git fetch https://review.opendev.org/openstack/blazar refs/changes/39/835139/1 && git format-patch -1 --stdout FETCH_HEAD,"['blazar/tests/db/sqlalchemy/test_sqlalchemy_api.py', 'doc/source/admin/usage-enforcement.rst']",2,3bc8cee1b0aea357019a6abd1373647dd68eaf00,enforcement-docfix-stable/yoga,This filter simply examines the lease ``start_date`` and ``end_date``,This filter simply examines the lease ``start_time`` and ``end_time``,2,2
openstack%2Fblazar~stable%2Fxena~I77fb08a3811ed1445e31b3552ca23d5bfc43a07d,openstack/blazar,stable/xena,I77fb08a3811ed1445e31b3552ca23d5bfc43a07d,Fix references to start and end dates,MERGED,2022-04-15 09:56:49.000000000,2022-05-05 17:45:54.000000000,2022-05-05 17:44:47.000000000,"[{'_account_id': 22348}, {'_account_id': 29100}]","[{'number': 1, 'created': '2022-04-15 09:56:49.000000000', 'files': ['blazar/tests/db/sqlalchemy/test_sqlalchemy_api.py', 'doc/source/admin/usage-enforcement.rst'], 'web_link': 'https://opendev.org/openstack/blazar/commit/d80a7778479fe69ee69fd8b3ae1737f504f856a9', 'message': 'Fix references to start and end dates\n\nThe lease attributes are called start_date and end_date, not start_time\nand end_time.\n\nChange-Id: I77fb08a3811ed1445e31b3552ca23d5bfc43a07d\n(cherry picked from commit bd6469d53c692effdb04f67ce625b29f2d862d35)\n'}]",0,838107,d80a7778479fe69ee69fd8b3ae1737f504f856a9,7,2,1,15197,,,0,"Fix references to start and end dates

The lease attributes are called start_date and end_date, not start_time
and end_time.

Change-Id: I77fb08a3811ed1445e31b3552ca23d5bfc43a07d
(cherry picked from commit bd6469d53c692effdb04f67ce625b29f2d862d35)
",git fetch https://review.opendev.org/openstack/blazar refs/changes/07/838107/1 && git format-patch -1 --stdout FETCH_HEAD,"['blazar/tests/db/sqlalchemy/test_sqlalchemy_api.py', 'doc/source/admin/usage-enforcement.rst']",2,d80a7778479fe69ee69fd8b3ae1737f504f856a9,,This filter simply examines the lease ``start_date`` and ``end_date``,This filter simply examines the lease ``start_time`` and ``end_time``,2,2
openstack%2Fblazar~stable%2Fxena~Ie2339db18e8baee379fbea082f1238ec44fca6b1,openstack/blazar,stable/xena,Ie2339db18e8baee379fbea082f1238ec44fca6b1,Prevent conflicting events from running concurrently,MERGED,2022-03-02 10:55:18.000000000,2022-05-05 17:44:49.000000000,2022-05-05 17:44:49.000000000,"[{'_account_id': 22348}, {'_account_id': 29100}]","[{'number': 1, 'created': '2022-03-02 10:55:18.000000000', 'files': ['blazar/manager/service.py', 'blazar/tests/manager/test_service.py'], 'web_link': 'https://opendev.org/openstack/blazar/commit/c3b851937ebf110184ef46d7bc2ad42e163f92b1', 'message': 'Prevent conflicting events from running concurrently\n\nIf two leases have compute hosts in common, and the second lease starts\nexactly when the first lease ends, there is the possibility of a race.\nThe Blazar manager can first run the start_lease event of the second\nlease. This event would fail since the end_lease event of the first\nlease would still be UNDONE, and the compute hosts in common would still\nbe in the aggregate associated with the first lease, instead of being in\nthe freepool.\n\nThis patch changes event execution code so that events are executed\nconcurrently if possible, with the following constraints:\n\n- events are executed strictly in order, i.e. events are started only\n  after all previous events have completed\n- when events are at the same time, we first execute before_end_lease\n  events (unless there is a start_lease at the same time), then\n  end_lease events, followed by start_lease events, ensuring the bug\n  described above does not happen. Finally, we run any before_end_lease\n  which had a corresponding start_lease event at the same time.\n\nIt also has the side effect of providing better stack traces for event\nexecution failures, since we call wait() on all GreenThread objects.\n\nCo-Authored-By: Jason Anderson <jasonanderson@uchicago.edu>\nChange-Id: Ie2339db18e8baee379fbea082f1238ec44fca6b1\nCloses-Bug: #1785841\n(cherry picked from commit c92edb8a177de51862ad2a4f9cbac2c50d31ef84)\n'}]",0,831509,c3b851937ebf110184ef46d7bc2ad42e163f92b1,6,2,1,15197,,,0,"Prevent conflicting events from running concurrently

If two leases have compute hosts in common, and the second lease starts
exactly when the first lease ends, there is the possibility of a race.
The Blazar manager can first run the start_lease event of the second
lease. This event would fail since the end_lease event of the first
lease would still be UNDONE, and the compute hosts in common would still
be in the aggregate associated with the first lease, instead of being in
the freepool.

This patch changes event execution code so that events are executed
concurrently if possible, with the following constraints:

- events are executed strictly in order, i.e. events are started only
  after all previous events have completed
- when events are at the same time, we first execute before_end_lease
  events (unless there is a start_lease at the same time), then
  end_lease events, followed by start_lease events, ensuring the bug
  described above does not happen. Finally, we run any before_end_lease
  which had a corresponding start_lease event at the same time.

It also has the side effect of providing better stack traces for event
execution failures, since we call wait() on all GreenThread objects.

Co-Authored-By: Jason Anderson <jasonanderson@uchicago.edu>
Change-Id: Ie2339db18e8baee379fbea082f1238ec44fca6b1
Closes-Bug: #1785841
(cherry picked from commit c92edb8a177de51862ad2a4f9cbac2c50d31ef84)
",git fetch https://review.opendev.org/openstack/blazar refs/changes/09/831509/1 && git format-patch -1 --stdout FETCH_HEAD,"['blazar/manager/service.py', 'blazar/tests/manager/test_service.py']",2,c3b851937ebf110184ef46d7bc2ad42e163f92b1,,"import copy self.manager._process_events() events.return_value = [{'id': '111-222-333', 'time': self.good_date, 'lease_id': 'aaa-bbb-ccc', 'event_type': 'start_lease'}, {'id': '444-555-666', 'time': self.good_date, 'lease_id': 'bbb-ccc-ddd', 'event_type': 'start_lease'}] self.patch(eventlet, 'spawn') self.manager._process_events() def test_concurrent_events(self): events = self.patch(self.db_api, 'event_get_all_sorted_by_filters') self.patch(self.db_api, 'event_update') events.return_value = [{'id': '111-222-333', 'time': self.good_date, 'lease_id': 'aaa-bbb-ccc', 'event_type': 'start_lease'}, {'id': '222-333-444', 'time': self.good_date, 'lease_id': 'bbb-ccc-ddd', 'event_type': 'end_lease'}, {'id': '333-444-555', 'time': self.good_date, 'lease_id': 'bbb-ccc-ddd', 'event_type': 'before_end_lease'}, {'id': '444-555-666', 'time': self.good_date, # Same lease as start_lease event above 'lease_id': 'aaa-bbb-ccc', 'event_type': 'before_end_lease'}, {'id': '444-555-666', 'time': self.good_date, # Same lease as start_lease event above 'lease_id': 'aaa-bbb-ccc', 'event_type': 'end_lease'}, {'id': '555-666-777', 'time': self.good_date, 'lease_id': 'ccc-ddd-eee', 'event_type': 'end_lease'}, {'id': '666-777-888', 'time': self.good_date + datetime.timedelta( minutes=1), 'lease_id': 'ddd-eee-fff', 'event_type': 'end_lease'}] events_values = copy.copy(events.return_value) _process_events_concurrently = self.patch( self.manager, '_process_events_concurrently') self.manager._process_events() _process_events_concurrently.assert_has_calls([ # First execute the before_end_lease event which doesn't have a # corresponding start_lease mock.call([events_values[2]]), # Then end_lease events mock.call([events_values[1], events_values[5], events_values[6]]), # Then the start_lease event mock.call([events_values[0]]), # Then the before_end_lease which is for the same lease as the # previous start_lease event mock.call([events_values[3]]), # Then the end_lease which is for the same lease as the previous # start_lease event mock.call([events_values[4]])]) def test_process_events_concurrently(self): events = [{'id': '111-222-333', 'time': self.good_date, 'lease_id': 'aaa-bbb-ccc', 'event_type': 'start_lease'}, {'id': '222-333-444', 'time': self.good_date, 'lease_id': 'bbb-ccc-ddd', 'event_type': 'start_lease'}, {'id': '333-444-555', 'time': self.good_date, 'lease_id': 'ccc-ddd-eee', 'event_type': 'start_lease'}] spawn = self.patch(eventlet, 'spawn') self.manager._process_events_concurrently(events) spawn.assert_has_calls([ mock.call(mock.ANY, events[0]), mock.call(mock.ANY, events[1]), mock.call(mock.ANY, events[2])]) self.patch(eventlet, 'spawn').side_effect = Exception events.return_value = [{'id': '111-222-333', 'time': self.good_date, 'lease_id': 'aaa-bbb-ccc', 'event_type': 'start_lease'}] self.manager._process_events() 'event_type': 'start_lease', self.manager._process_events()"," self.manager._event() events.return_value = [{'id': '111-222-333', 'lease_id': 'lease_id1', 'time': self.good_date}, {'id': '444-555-666', 'lease_id': 'lease_id2', 'time': self.good_date}] self.patch(eventlet, 'spawn_n') self.manager._event() self.patch(eventlet, 'spawn_n').side_effect = Exception events.return_value = [{'id': '111-222-333', 'lease_id': self.lease_id, 'time': self.good_date}] self.manager._event() self.manager._event()",164,33
openstack%2Fblazar~stable%2Fwallaby~I55b3cb4e736f6f747c8b3254c62fa40bac3f288f,openstack/blazar,stable/wallaby,I55b3cb4e736f6f747c8b3254c62fa40bac3f288f,Fix list_allocations for multi-host reservations,MERGED,2022-03-24 15:32:27.000000000,2022-05-05 17:43:57.000000000,2022-05-05 17:42:49.000000000,"[{'_account_id': 22348}, {'_account_id': 29100}]","[{'number': 1, 'created': '2022-03-24 15:32:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/e077039af4ff17c80c0d8bab27cccb54fe44a5f3', 'message': ""Fix list_allocations for multi-host reservations\n\nThe get_reservation_allocations_by_host_ids function builds an\nallocation dictionary that looks like this:\n\n    allocations = {\n        'r1': ['host1'],\n        'r2': ['host1', 'host2']\n    }\n\nThe list returned by this function was only using the first host of each\nreservation:\n\n    allocations[r['id']][0]\n\nLoop over hosts to build the list of (reservation, lease, host) tuples.\n\nChange-Id: I55b3cb4e736f6f747c8b3254c62fa40bac3f288f\nCloses-Bug: #1958307\n(cherry picked from commit 39c67f09b8095c4d8aadfe550f0aa924a3693f5a)\n""}, {'number': 2, 'created': '2022-04-19 10:49:12.000000000', 'files': ['releasenotes/notes/bug-1958307-63bf308ca6a97068.yaml', 'blazar/db/sqlalchemy/utils.py'], 'web_link': 'https://opendev.org/openstack/blazar/commit/61daf2d95ddc5550f096761f167212997c83bab5', 'message': ""Fix list_allocations for multi-host reservations\n\nThe get_reservation_allocations_by_host_ids function builds an\nallocation dictionary that looks like this:\n\n    allocations = {\n        'r1': ['host1'],\n        'r2': ['host1', 'host2']\n    }\n\nThe list returned by this function was only using the first host of each\nreservation:\n\n    allocations[r['id']][0]\n\nLoop over hosts to build the list of (reservation, lease, host) tuples.\n\nChange-Id: I55b3cb4e736f6f747c8b3254c62fa40bac3f288f\nCloses-Bug: #1958307\n(cherry picked from commit 39c67f09b8095c4d8aadfe550f0aa924a3693f5a)\n""}]",0,835057,61daf2d95ddc5550f096761f167212997c83bab5,9,2,2,15197,,,0,"Fix list_allocations for multi-host reservations

The get_reservation_allocations_by_host_ids function builds an
allocation dictionary that looks like this:

    allocations = {
        'r1': ['host1'],
        'r2': ['host1', 'host2']
    }

The list returned by this function was only using the first host of each
reservation:

    allocations[r['id']][0]

Loop over hosts to build the list of (reservation, lease, host) tuples.

Change-Id: I55b3cb4e736f6f747c8b3254c62fa40bac3f288f
Closes-Bug: #1958307
(cherry picked from commit 39c67f09b8095c4d8aadfe550f0aa924a3693f5a)
",git fetch https://review.opendev.org/openstack/blazar refs/changes/57/835057/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-1958307-63bf308ca6a97068.yaml', 'blazar/db/sqlalchemy/utils.py']",2,e077039af4ff17c80c0d8bab27cccb54fe44a5f3,fix-list-allocations-stable/wallaby," for host in allocations[r['id']]: allocs.append((r['id'], r['lease_id'], host))"," allocs.append((r['id'], r['lease_id'], allocations[r['id']][0]))",8,1
openstack%2Fblazar~stable%2Fwallaby~Id7771b63116064f2adc0cdfd700f14afa1ea6170,openstack/blazar,stable/wallaby,Id7771b63116064f2adc0cdfd700f14afa1ea6170,Fix lease update when resource_type parameter is missing,MERGED,2022-03-24 15:32:04.000000000,2022-05-05 17:42:51.000000000,2022-05-05 17:40:38.000000000,"[{'_account_id': 22348}, {'_account_id': 29100}]","[{'number': 1, 'created': '2022-03-24 15:32:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/527afd575294dbb96e42b4fa742a4fcb6d467650', 'message': 'Fix lease update when resource_type parameter is missing\n\nChange-Id: Id7771b63116064f2adc0cdfd700f14afa1ea6170\nCloses-Bug: #1957761\n(cherry picked from commit caf4b282f046d1f50d46eb657f575fda1a4fdae3)\n'}, {'number': 2, 'created': '2022-04-19 10:49:03.000000000', 'files': ['blazar/manager/service.py', 'releasenotes/notes/bug-1957761-8b126a392c0c79ee.yaml'], 'web_link': 'https://opendev.org/openstack/blazar/commit/dd844f09dcc75a33207b97538c4bcb069df9469c', 'message': 'Fix lease update when resource_type parameter is missing\n\nChange-Id: Id7771b63116064f2adc0cdfd700f14afa1ea6170\nCloses-Bug: #1957761\n(cherry picked from commit caf4b282f046d1f50d46eb657f575fda1a4fdae3)\n'}]",0,835056,dd844f09dcc75a33207b97538c4bcb069df9469c,9,2,2,15197,,,0,"Fix lease update when resource_type parameter is missing

Change-Id: Id7771b63116064f2adc0cdfd700f14afa1ea6170
Closes-Bug: #1957761
(cherry picked from commit caf4b282f046d1f50d46eb657f575fda1a4fdae3)
",git fetch https://review.opendev.org/openstack/blazar refs/changes/56/835056/1 && git format-patch -1 --stdout FETCH_HEAD,"['blazar/manager/service.py', 'releasenotes/notes/bug-1957761-8b126a392c0c79ee.yaml']",2,527afd575294dbb96e42b4fa742a4fcb6d467650,bug/1957761-stable/wallaby,"--- fixes: - | Fixes failure to update reservations when the ``resource_type`` parameter is not provided in the API request. For more details, see `bug 1957761 <https://bugs.launchpad.net/blazar/+bug/1957761>`_. ",,21,0
openstack%2Fblazar~stable%2Fwallaby~I77fb08a3811ed1445e31b3552ca23d5bfc43a07d,openstack/blazar,stable/wallaby,I77fb08a3811ed1445e31b3552ca23d5bfc43a07d,Fix references to start and end dates,MERGED,2022-04-15 09:57:04.000000000,2022-05-05 17:41:43.000000000,2022-05-05 17:40:30.000000000,"[{'_account_id': 22348}, {'_account_id': 29100}]","[{'number': 1, 'created': '2022-04-15 09:57:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/a810c2b0b48c2be7aa6f806bc93ed8e545ea89a6', 'message': 'Fix references to start and end dates\n\nThe lease attributes are called start_date and end_date, not start_time\nand end_time.\n\nChange-Id: I77fb08a3811ed1445e31b3552ca23d5bfc43a07d\n(cherry picked from commit bd6469d53c692effdb04f67ce625b29f2d862d35)\n'}, {'number': 2, 'created': '2022-04-19 10:49:20.000000000', 'files': ['blazar/tests/db/sqlalchemy/test_sqlalchemy_api.py', 'doc/source/admin/usage-enforcement.rst'], 'web_link': 'https://opendev.org/openstack/blazar/commit/cba58e01935b5842df78d2066322e0abc9182e71', 'message': 'Fix references to start and end dates\n\nThe lease attributes are called start_date and end_date, not start_time\nand end_time.\n\nChange-Id: I77fb08a3811ed1445e31b3552ca23d5bfc43a07d\n(cherry picked from commit bd6469d53c692effdb04f67ce625b29f2d862d35)\n'}]",0,838109,cba58e01935b5842df78d2066322e0abc9182e71,9,2,2,15197,,,0,"Fix references to start and end dates

The lease attributes are called start_date and end_date, not start_time
and end_time.

Change-Id: I77fb08a3811ed1445e31b3552ca23d5bfc43a07d
(cherry picked from commit bd6469d53c692effdb04f67ce625b29f2d862d35)
",git fetch https://review.opendev.org/openstack/blazar refs/changes/09/838109/1 && git format-patch -1 --stdout FETCH_HEAD,"['blazar/tests/db/sqlalchemy/test_sqlalchemy_api.py', 'doc/source/admin/usage-enforcement.rst']",2,a810c2b0b48c2be7aa6f806bc93ed8e545ea89a6,,This filter simply examines the lease ``start_date`` and ``end_date``,This filter simply examines the lease ``start_time`` and ``end_time``,2,2
openstack%2Ftripleo-ansible~master~I9efc5c5fd53ac89710bb9c5f4721f6afb55d8e3c,openstack/tripleo-ansible,master,I9efc5c5fd53ac89710bb9c5f4721f6afb55d8e3c,Files in /etc/sudoers.d/ should be owned by root,MERGED,2022-05-03 21:36:47.000000000,2022-05-05 17:40:43.000000000,2022-05-05 17:40:43.000000000,"[{'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2022-05-03 21:36:47.000000000', 'files': ['tripleo_ansible/roles/tripleo_create_admin/tasks/create_user.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/0c63117897236f6ee27b1474dae3a5397840e346', 'message': 'Files in /etc/sudoers.d/ should be owned by root\n\nSet owner and group to root when calling Ansible copy\nmodule to create /etc/sudoers.d/{{ tripleo_admin_user }}\nin tripleo_create_admin role.\n\nChange-Id: I9efc5c5fd53ac89710bb9c5f4721f6afb55d8e3c\nCloses-Bug: #1971498\n'}]",0,840385,0c63117897236f6ee27b1474dae3a5397840e346,8,4,1,18002,,,0,"Files in /etc/sudoers.d/ should be owned by root

Set owner and group to root when calling Ansible copy
module to create /etc/sudoers.d/{{ tripleo_admin_user }}
in tripleo_create_admin role.

Change-Id: I9efc5c5fd53ac89710bb9c5f4721f6afb55d8e3c
Closes-Bug: #1971498
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/85/840385/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo_create_admin/tasks/create_user.yml'],1,0c63117897236f6ee27b1474dae3a5397840e346,bug/1971498, owner: root group: root,,2,0
openstack%2Fblazar~stable%2Fwallaby~Ib7300cfb4fd8d8c81cff780fbdb44d537e29680a,openstack/blazar,stable/wallaby,Ib7300cfb4fd8d8c81cff780fbdb44d537e29680a,Remove six again,MERGED,2022-03-24 15:27:38.000000000,2022-05-05 17:40:36.000000000,2022-05-05 17:40:36.000000000,"[{'_account_id': 22348}, {'_account_id': 29100}]","[{'number': 1, 'created': '2022-03-24 15:27:38.000000000', 'files': ['blazar/enforcement/filters/base_filter.py'], 'web_link': 'https://opendev.org/openstack/blazar/commit/da70772e5ab8b11162d6eb715fbf271969e9487c', 'message': 'Remove six again\n\nThe six library has been removed once in change\nId572aec8a6fda7676eb03d17c66fd33f9801f25d. However it was added back in\nIc106bee4fc3f5c401c4f8d8ecb1c4e735560bcc2.\n\nThis change removes six again.\n\nChange-Id: Ib7300cfb4fd8d8c81cff780fbdb44d537e29680a\nSigned-off-by: Takashi Natsume <takanattie@gmail.com>\n(cherry picked from commit 63d94170b59937995247ff8443a3303e5288d304)\n'}]",1,835054,da70772e5ab8b11162d6eb715fbf271969e9487c,8,2,1,15197,,,0,"Remove six again

The six library has been removed once in change
Id572aec8a6fda7676eb03d17c66fd33f9801f25d. However it was added back in
Ic106bee4fc3f5c401c4f8d8ecb1c4e735560bcc2.

This change removes six again.

Change-Id: Ib7300cfb4fd8d8c81cff780fbdb44d537e29680a
Signed-off-by: Takashi Natsume <takanattie@gmail.com>
(cherry picked from commit 63d94170b59937995247ff8443a3303e5288d304)
",git fetch https://review.opendev.org/openstack/blazar refs/changes/54/835054/1 && git format-patch -1 --stdout FETCH_HEAD,['blazar/enforcement/filters/base_filter.py'],1,da70772e5ab8b11162d6eb715fbf271969e9487c,bp/six-removal-stable/wallaby, class BaseFilter(metaclass=abc.ABCMeta):,import six @six.add_metaclass(abc.ABCMeta) class BaseFilter:,1,3
openstack%2Fblazar~stable%2Fwallaby~I75fcd97cf7a53d17c909620fcf41a8b5a3699dfa,openstack/blazar,stable/wallaby,I75fcd97cf7a53d17c909620fcf41a8b5a3699dfa,Use built-in oslo context de/serialization,MERGED,2022-03-24 15:33:39.000000000,2022-05-05 17:40:34.000000000,2022-05-05 17:40:34.000000000,"[{'_account_id': 22348}, {'_account_id': 29100}]","[{'number': 1, 'created': '2022-03-24 15:33:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/51960d3b82e624bcbe2d8219afc2b67b5b60905b', 'message': ""Use built-in oslo context de/serialization\n\nThe oslo context library has built-in mechanisms to deserialize a\ncontext object from a set of headers; Blazar's built in extension of the\ncontext class was ignoring several possibly-important pieces of\ninformation, notably the Keystone domain name.\n\nTo fix, this removes much of the custom logic in the BlazarContext and\nkeeps only the two important bits:\n\n1. A stack of contexts is maintained to allow for nested operations w/\n   different sets of credentials\n2. The service_catalog is preserved. It's unclear if this is really\n   needed long-term, but some code still relies on it. Also unclear why\n   the oslo context doesn't include this when parsing headers.\n\nSupport for multiple domains is included as part of this changeset.\nBefore, it was assumed that all users (admins and project users) were\npart of the default domain.\n\nCloses-Bug: #1881162\nChange-Id: I75fcd97cf7a53d17c909620fcf41a8b5a3699dfa\n(cherry picked from commit ed238925f912ea1b7ebfa8918b3a29a7bc3f0012)\n""}, {'number': 2, 'created': '2022-04-19 10:48:58.000000000', 'files': ['blazar/tests/test_context.py', 'blazar/tests/api/v2/test_leases.py', 'releasenotes/notes/bug-1881162-ebe012fcc7176594.yaml', 'blazar/tests/api/test_context.py', 'blazar/tests/utils/test_trusts.py', 'blazar/api/context.py', 'blazar/utils/trusts.py', 'blazar/context.py', 'blazar/tests/test_policy.py', 'blazar/tests/utils/openstack/test_keystone.py', 'blazar/utils/service.py', 'blazar/policy.py', 'blazar/tests/api/__init__.py', 'blazar/utils/openstack/keystone.py'], 'web_link': 'https://opendev.org/openstack/blazar/commit/80a75392752a54e7e933b8630bca0e38dd5be8fe', 'message': ""Use built-in oslo context de/serialization\n\nThe oslo context library has built-in mechanisms to deserialize a\ncontext object from a set of headers; Blazar's built in extension of the\ncontext class was ignoring several possibly-important pieces of\ninformation, notably the Keystone domain name.\n\nTo fix, this removes much of the custom logic in the BlazarContext and\nkeeps only the two important bits:\n\n1. A stack of contexts is maintained to allow for nested operations w/\n   different sets of credentials\n2. The service_catalog is preserved. It's unclear if this is really\n   needed long-term, but some code still relies on it. Also unclear why\n   the oslo context doesn't include this when parsing headers.\n\nSupport for multiple domains is included as part of this changeset.\nBefore, it was assumed that all users (admins and project users) were\npart of the default domain.\n\nCloses-Bug: #1881162\nChange-Id: I75fcd97cf7a53d17c909620fcf41a8b5a3699dfa\n(cherry picked from commit ed238925f912ea1b7ebfa8918b3a29a7bc3f0012)\n""}]",0,835059,80a75392752a54e7e933b8630bca0e38dd5be8fe,8,2,2,15197,,,0,"Use built-in oslo context de/serialization

The oslo context library has built-in mechanisms to deserialize a
context object from a set of headers; Blazar's built in extension of the
context class was ignoring several possibly-important pieces of
information, notably the Keystone domain name.

To fix, this removes much of the custom logic in the BlazarContext and
keeps only the two important bits:

1. A stack of contexts is maintained to allow for nested operations w/
   different sets of credentials
2. The service_catalog is preserved. It's unclear if this is really
   needed long-term, but some code still relies on it. Also unclear why
   the oslo context doesn't include this when parsing headers.

Support for multiple domains is included as part of this changeset.
Before, it was assumed that all users (admins and project users) were
part of the default domain.

Closes-Bug: #1881162
Change-Id: I75fcd97cf7a53d17c909620fcf41a8b5a3699dfa
(cherry picked from commit ed238925f912ea1b7ebfa8918b3a29a7bc3f0012)
",git fetch https://review.opendev.org/openstack/blazar refs/changes/59/835059/2 && git format-patch -1 --stdout FETCH_HEAD,"['blazar/tests/test_context.py', 'blazar/tests/api/v2/test_leases.py', 'releasenotes/notes/bug-1881162-ebe012fcc7176594.yaml', 'blazar/tests/api/test_context.py', 'blazar/tests/utils/test_trusts.py', 'blazar/api/context.py', 'blazar/utils/trusts.py', 'blazar/context.py', 'blazar/tests/test_policy.py', 'blazar/tests/utils/openstack/test_keystone.py', 'blazar/utils/service.py', 'blazar/policy.py', 'blazar/tests/api/__init__.py', 'blazar/utils/openstack/keystone.py']",14,51960d3b82e624bcbe2d8219afc2b67b5b60905b,bug-1881162-stable/wallaby," kwargs.setdefault('user_domain_name', ctx.user_domain_name) kwargs.setdefault('project_name', ctx.project_name) kwargs.setdefault('project_domain_name', ctx.project_domain_name) if kwargs.get('trust_id') and kwargs.get('project_name'): kwargs.pop('project_name')"," kwargs.setdefault('tenant_name', ctx.project_name) if kwargs.get('trust_id') and kwargs.get('tenant_name'): kwargs.pop('tenant_name')",153,136
openstack%2Fblazar~stable%2Fwallaby~I866bc7c369fb390f8c9204e36c06fadea17f6dd5,openstack/blazar,stable/wallaby,I866bc7c369fb390f8c9204e36c06fadea17f6dd5,Handle AggregateNotFound when deleting aggregate,MERGED,2022-03-24 15:30:17.000000000,2022-05-05 17:40:32.000000000,2022-05-05 17:40:32.000000000,"[{'_account_id': 22348}, {'_account_id': 29100}]","[{'number': 1, 'created': '2022-03-24 15:30:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/b9afc1a5a5596b72ed6ea72bc7c6057c797149c6', 'message': ""Handle AggregateNotFound when deleting aggregate\n\nIf an error occurs during lease create and an aggregate isn't created,\nan exception will be raised in cleanup_resources when trying to delete\nthe missing aggregate. Handle this gracefully and continue.\n\nCloses-Bug: #1938241\n\nChange-Id: I866bc7c369fb390f8c9204e36c06fadea17f6dd5\n(cherry picked from commit 339e91342d67d17b84b600d107a7f996564df3c6)\n""}, {'number': 2, 'created': '2022-04-19 10:49:07.000000000', 'files': ['blazar/utils/openstack/nova.py'], 'web_link': 'https://opendev.org/openstack/blazar/commit/6549ab0f9e6997fe28b51c6dffd03f171fda6647', 'message': ""Handle AggregateNotFound when deleting aggregate\n\nIf an error occurs during lease create and an aggregate isn't created,\nan exception will be raised in cleanup_resources when trying to delete\nthe missing aggregate. Handle this gracefully and continue.\n\nCloses-Bug: #1938241\n\nChange-Id: I866bc7c369fb390f8c9204e36c06fadea17f6dd5\n(cherry picked from commit 339e91342d67d17b84b600d107a7f996564df3c6)\n""}]",0,835055,6549ab0f9e6997fe28b51c6dffd03f171fda6647,8,2,2,15197,,,0,"Handle AggregateNotFound when deleting aggregate

If an error occurs during lease create and an aggregate isn't created,
an exception will be raised in cleanup_resources when trying to delete
the missing aggregate. Handle this gracefully and continue.

Closes-Bug: #1938241

Change-Id: I866bc7c369fb390f8c9204e36c06fadea17f6dd5
(cherry picked from commit 339e91342d67d17b84b600d107a7f996564df3c6)
",git fetch https://review.opendev.org/openstack/blazar refs/changes/55/835055/2 && git format-patch -1 --stdout FETCH_HEAD,['blazar/utils/openstack/nova.py'],1,b9afc1a5a5596b72ed6ea72bc7c6057c797149c6,bug/1938241-stable/wallaby," try: agg = self.get_aggregate_from_name_or_id(pool) except manager_exceptions.AggregateNotFound: LOG.warn(""Aggregate '%s' not found, skipping deletion"", pool) return", agg = self.get_aggregate_from_name_or_id(pool),5,1
openstack%2Fcharm-guide~master~I0972d5ebc3c121906a154ee61668861451b55f39,openstack/charm-guide,master,I0972d5ebc3c121906a154ee61668861451b55f39,Finalise 22.04/Yoga release notes,MERGED,2022-05-05 16:39:26.000000000,2022-05-05 17:27:55.000000000,2022-05-05 17:26:36.000000000,"[{'_account_id': 2424}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-05 16:39:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/12c54eb76bc3fa0fba81c056088a753fa71b7985', 'message': 'Finalise 22.04/Yoga release notes\n\nDrive-by: Minor rewording on the upgrade-charm page\n\nChange-Id: I0972d5ebc3c121906a154ee61668861451b55f39\n'}, {'number': 2, 'created': '2022-05-05 16:49:35.000000000', 'files': ['doc/source/project/release-schedule.rst', 'doc/source/release-notes/index.rst', 'doc/source/release-notes/yoga.rst'], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/d0684259c7e8d172f2f635b93a3e64b754c2c0f3', 'message': 'Finalise 22.04/Yoga release notes\n\nChange-Id: I0972d5ebc3c121906a154ee61668861451b55f39\n'}]",2,840707,d0684259c7e8d172f2f635b93a3e64b754c2c0f3,10,2,2,30561,,,0,"Finalise 22.04/Yoga release notes

Change-Id: I0972d5ebc3c121906a154ee61668861451b55f39
",git fetch https://review.opendev.org/openstack/charm-guide refs/changes/07/840707/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/project/release-schedule.rst', 'doc/source/release-notes/index.rst', 'doc/source/release-notes/yoga.rst']",3,12c54eb76bc3fa0fba81c056088a753fa71b7985,finalise-2204-yoga-release-notes,==== Yoga ==== The Yoga OpenStack Charms release includes updates for the charms described on,================================= 22.04 (Draft version in progress) ================================= The 22.04 OpenStack Charms release includes updates for the charms described on,13,16
openstack%2Frequirements~master~I6f81a6fabbbc489eb532bf62d6f534affa347723,openstack/requirements,master,I6f81a6fabbbc489eb532bf62d6f534affa347723,update constraint for tooz to new release 2.11.1,MERGED,2022-05-05 10:01:12.000000000,2022-05-05 17:24:13.000000000,2022-05-05 17:22:43.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-05-05 10:01:12.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/ecba5368c60fc7b8c2b89cf12bb9f5c1b6cc27d0', 'message': 'update constraint for tooz to new release 2.11.1\n\nmeta: version: 2.11.1\nmeta: diff-start: -\nmeta: series: independent\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: no\nmeta: release:Author: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Commit: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Change-Id: Idba5a8c8714f5b1d0e9f1de1d26ae5db9ae5dced\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>\nChange-Id: I6f81a6fabbbc489eb532bf62d6f534affa347723\n'}]",1,840628,ecba5368c60fc7b8c2b89cf12bb9f5c1b6cc27d0,11,3,1,11131,,,0,"update constraint for tooz to new release 2.11.1

meta: version: 2.11.1
meta: diff-start: -
meta: series: independent
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: Hervé Beraud <hberaud@redhat.com>
meta: release:Commit: Hervé Beraud <hberaud@redhat.com>
meta: release:Change-Id: Idba5a8c8714f5b1d0e9f1de1d26ae5db9ae5dced
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
Change-Id: I6f81a6fabbbc489eb532bf62d6f534affa347723
",git fetch https://review.opendev.org/openstack/requirements refs/changes/28/840628/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,ecba5368c60fc7b8c2b89cf12bb9f5c1b6cc27d0,new-release,tooz===2.11.1,tooz===2.11.0,1,1
openstack%2Frequirements~master~I304d020b89df4ee15b78199f2e099753166b6243,openstack/requirements,master,I304d020b89df4ee15b78199f2e099753166b6243,update constraint for osprofiler to new release 3.4.3,MERGED,2022-05-05 09:58:24.000000000,2022-05-05 17:21:36.000000000,2022-05-05 17:18:56.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-05-05 09:58:24.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/b5aa64986208e99f19a0b5898315315ef4c1970b', 'message': 'update constraint for osprofiler to new release 3.4.3\n\nmeta: version: 3.4.3\nmeta: diff-start: -\nmeta: series: independent\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: no\nmeta: release:Author: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Commit: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Change-Id: Idba5a8c8714f5b1d0e9f1de1d26ae5db9ae5dced\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>\nChange-Id: I304d020b89df4ee15b78199f2e099753166b6243\n'}]",1,840625,b5aa64986208e99f19a0b5898315315ef4c1970b,11,3,1,11131,,,0,"update constraint for osprofiler to new release 3.4.3

meta: version: 3.4.3
meta: diff-start: -
meta: series: independent
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: Hervé Beraud <hberaud@redhat.com>
meta: release:Commit: Hervé Beraud <hberaud@redhat.com>
meta: release:Change-Id: Idba5a8c8714f5b1d0e9f1de1d26ae5db9ae5dced
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
Change-Id: I304d020b89df4ee15b78199f2e099753166b6243
",git fetch https://review.opendev.org/openstack/requirements refs/changes/25/840625/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,b5aa64986208e99f19a0b5898315315ef4c1970b,new-release,osprofiler===3.4.3,osprofiler===3.4.2,1,1
openstack%2Frequirements~master~Ib5fde11388340c73da79f8faac9297d2a9851e7f,openstack/requirements,master,Ib5fde11388340c73da79f8faac9297d2a9851e7f,update constraint for pbr to new release 5.9.0,MERGED,2022-05-05 09:57:24.000000000,2022-05-05 17:20:41.000000000,2022-05-05 17:18:51.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-05-05 09:57:24.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/d8e257c6667c4fc7239e38b6bcebd72e20a89524', 'message': 'update constraint for pbr to new release 5.9.0\n\nmeta: version: 5.9.0\nmeta: diff-start: -\nmeta: series: independent\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: no\nmeta: release:Author: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Commit: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Change-Id: Idba5a8c8714f5b1d0e9f1de1d26ae5db9ae5dced\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>\nChange-Id: Ib5fde11388340c73da79f8faac9297d2a9851e7f\n'}]",0,840622,d8e257c6667c4fc7239e38b6bcebd72e20a89524,9,3,1,11131,,,0,"update constraint for pbr to new release 5.9.0

meta: version: 5.9.0
meta: diff-start: -
meta: series: independent
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: Hervé Beraud <hberaud@redhat.com>
meta: release:Commit: Hervé Beraud <hberaud@redhat.com>
meta: release:Change-Id: Idba5a8c8714f5b1d0e9f1de1d26ae5db9ae5dced
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
Change-Id: Ib5fde11388340c73da79f8faac9297d2a9851e7f
",git fetch https://review.opendev.org/openstack/requirements refs/changes/22/840622/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,d8e257c6667c4fc7239e38b6bcebd72e20a89524,new-release,pbr===5.9.0,pbr===5.8.1,1,1
openstack%2Fcharm-guide~master~I8813ebaef5a4bd66ec304d211f8b6eddfe5cde12,openstack/charm-guide,master,I8813ebaef5a4bd66ec304d211f8b6eddfe5cde12,Add release note for existing RBD-mirror bug,ABANDONED,2022-04-20 14:53:00.000000000,2022-05-05 17:11:57.000000000,,"[{'_account_id': 22348}, {'_account_id': 30561}]","[{'number': 1, 'created': '2022-04-20 14:53:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/9e7ba8331aa409072c5f3ac3e4a34d30a73328a8', 'message': 'Add release note for existing RBD-mirror bug\n\nChange-Id: I8813ebaef5a4bd66ec304d211f8b6eddfe5cde12\n'}, {'number': 2, 'created': '2022-04-20 14:55:49.000000000', 'files': ['doc/source/release-notes/2204.rst'], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/65ac4b3732d3e316d3b0dc48e56ddbf9913f5070', 'message': 'Add release note for existing RBD-mirror bug\n\nChange-Id: I8813ebaef5a4bd66ec304d211f8b6eddfe5cde12\n'}]",1,838742,65ac4b3732d3e316d3b0dc48e56ddbf9913f5070,5,2,2,20634,,,0,"Add release note for existing RBD-mirror bug

Change-Id: I8813ebaef5a4bd66ec304d211f8b6eddfe5cde12
",git fetch https://review.opendev.org/openstack/charm-guide refs/changes/42/838742/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/release-notes/2204.rst'],1,9e7ba8331aa409072c5f3ac3e4a34d30a73328a8,bug/rbd-mirror,Known issues ------------ Ceph RBD Mirror and Ceph Octopus ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ Due to an unresolved permission issue the ceph-rbd-mirror charm will stay in a blocked state after configuring mirroring for pools when connected to a Ceph Octopus cluster. See bug `LP #1879749`_ for details. ,,10,0
openstack%2Frequirements~master~I4ac4ac36ad1c2d2bb0b221e4e16d93b44c8408cb,openstack/requirements,master,I4ac4ac36ad1c2d2bb0b221e4e16d93b44c8408cb,update constraint for etcd3gw to new release 1.0.2,MERGED,2022-05-05 09:57:24.000000000,2022-05-05 17:04:45.000000000,2022-05-05 17:02:29.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-05-05 09:57:24.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/73fce68eb019ccb7f65df7dcc41ae0162da6f7b4', 'message': 'update constraint for etcd3gw to new release 1.0.2\n\nmeta: version: 1.0.2\nmeta: diff-start: -\nmeta: series: independent\nmeta: release-type: release\nmeta: pypi: no\nmeta: first: no\nmeta: release:Author: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Commit: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Change-Id: Idba5a8c8714f5b1d0e9f1de1d26ae5db9ae5dced\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>\nChange-Id: I4ac4ac36ad1c2d2bb0b221e4e16d93b44c8408cb\n'}]",0,840623,73fce68eb019ccb7f65df7dcc41ae0162da6f7b4,9,3,1,11131,,,0,"update constraint for etcd3gw to new release 1.0.2

meta: version: 1.0.2
meta: diff-start: -
meta: series: independent
meta: release-type: release
meta: pypi: no
meta: first: no
meta: release:Author: Hervé Beraud <hberaud@redhat.com>
meta: release:Commit: Hervé Beraud <hberaud@redhat.com>
meta: release:Change-Id: Idba5a8c8714f5b1d0e9f1de1d26ae5db9ae5dced
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
Change-Id: I4ac4ac36ad1c2d2bb0b221e4e16d93b44c8408cb
",git fetch https://review.opendev.org/openstack/requirements refs/changes/23/840623/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,73fce68eb019ccb7f65df7dcc41ae0162da6f7b4,new-release,etcd3gw===1.0.2,etcd3gw===1.0.1,1,1
openstack%2Frequirements~master~Iff7d67c2c4a5c19c73a26d047bd7b631cd0f8edd,openstack/requirements,master,Iff7d67c2c4a5c19c73a26d047bd7b631cd0f8edd,update constraint for openstack-doc-tools to new release 3.3.1,MERGED,2022-05-05 09:57:29.000000000,2022-05-05 17:03:50.000000000,2022-05-05 17:02:25.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-05-05 09:57:29.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/5725f412ca8e79cba006815c508db297d898d344', 'message': 'update constraint for openstack-doc-tools to new release 3.3.1\n\nmeta: version: 3.3.1\nmeta: diff-start: -\nmeta: series: independent\nmeta: release-type: release\nmeta: pypi: no\nmeta: first: no\nmeta: release:Author: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Commit: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Change-Id: Idba5a8c8714f5b1d0e9f1de1d26ae5db9ae5dced\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>\nChange-Id: Iff7d67c2c4a5c19c73a26d047bd7b631cd0f8edd\n'}]",0,840624,5725f412ca8e79cba006815c508db297d898d344,9,3,1,11131,,,0,"update constraint for openstack-doc-tools to new release 3.3.1

meta: version: 3.3.1
meta: diff-start: -
meta: series: independent
meta: release-type: release
meta: pypi: no
meta: first: no
meta: release:Author: Hervé Beraud <hberaud@redhat.com>
meta: release:Commit: Hervé Beraud <hberaud@redhat.com>
meta: release:Change-Id: Idba5a8c8714f5b1d0e9f1de1d26ae5db9ae5dced
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
Change-Id: Iff7d67c2c4a5c19c73a26d047bd7b631cd0f8edd
",git fetch https://review.opendev.org/openstack/requirements refs/changes/24/840624/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,5725f412ca8e79cba006815c508db297d898d344,new-release,openstack-doc-tools===3.3.1,openstack-doc-tools===3.3.0,1,1
openstack%2Fskyline-apiserver~master~I731b6aae1bbfd9bb88dc33d61b1660b71bf60b3a,openstack/skyline-apiserver,master,I731b6aae1bbfd9bb88dc33d61b1660b71bf60b3a,feat: Add manila policy,MERGED,2022-04-29 09:15:52.000000000,2022-05-05 17:03:10.000000000,2022-05-05 17:03:10.000000000,"[{'_account_id': 22348}, {'_account_id': 30434}]","[{'number': 1, 'created': '2022-04-29 09:15:52.000000000', 'files': ['libs/skyline-policy-manager/skyline_policy_manager/constants.py', 'libs/skyline-policy-manager/skyline_policy_manager/policies/manila.py', 'libs/skyline-policy-manager/tools/post_install.sh'], 'web_link': 'https://opendev.org/openstack/skyline-apiserver/commit/a20c42ae906bc96f8126eb8ecdb80a3fb0b6c7c5', 'message': 'feat: Add manila policy\n\n1. add manila install into post_install.sh\n2. add manila into SUPPORTED_SERVICE_EPS and PREFIX_MAPPINGS\n3. add manila policy\n\nChange-Id: I731b6aae1bbfd9bb88dc33d61b1660b71bf60b3a\n'}]",2,839881,a20c42ae906bc96f8126eb8ecdb80a3fb0b6c7c5,11,2,1,28706,,,0,"feat: Add manila policy

1. add manila install into post_install.sh
2. add manila into SUPPORTED_SERVICE_EPS and PREFIX_MAPPINGS
3. add manila policy

Change-Id: I731b6aae1bbfd9bb88dc33d61b1660b71bf60b3a
",git fetch https://review.opendev.org/openstack/skyline-apiserver refs/changes/81/839881/1 && git format-patch -1 --stdout FETCH_HEAD,"['libs/skyline-policy-manager/skyline_policy_manager/constants.py', 'libs/skyline-policy-manager/skyline_policy_manager/policies/manila.py', 'libs/skyline-policy-manager/tools/post_install.sh']",3,a20c42ae906bc96f8126eb8ecdb80a3fb0b6c7c5,, panko \ manila, panko ,1428,2
openstack%2Fgovernance~master~I16075836abd321d53089d123a711c586b7597a5c,openstack/governance,master,I16075836abd321d53089d123a711c586b7597a5c,Add the cinder-three-par charm to Openstack charms,MERGED,2022-04-13 23:30:53.000000000,2022-05-05 16:59:18.000000000,2022-05-05 16:57:54.000000000,"[{'_account_id': 7198}, {'_account_id': 8556}, {'_account_id': 11975}, {'_account_id': 15993}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-13 23:30:53.000000000', 'files': ['reference/projects.yaml'], 'web_link': 'https://opendev.org/openstack/governance/commit/b69ba73ac0c6dce263c60b741c95a37cc94b44f0', 'message': 'Add the cinder-three-par charm to Openstack charms\n\nThis charm implements a 3PAR backend for cinder, acting as\na subordinate charm.\n\nChange-Id: I16075836abd321d53089d123a711c586b7597a5c\nDepends-On: I14c6bd857a09cab07546def009c654738b085c46\n'}]",6,837781,b69ba73ac0c6dce263c60b741c95a37cc94b44f0,16,6,1,33717,,,0,"Add the cinder-three-par charm to Openstack charms

This charm implements a 3PAR backend for cinder, acting as
a subordinate charm.

Change-Id: I16075836abd321d53089d123a711c586b7597a5c
Depends-On: I14c6bd857a09cab07546def009c654738b085c46
",git fetch https://review.opendev.org/openstack/governance refs/changes/81/837781/1 && git format-patch -1 --stdout FETCH_HEAD,['reference/projects.yaml'],1,b69ba73ac0c6dce263c60b741c95a37cc94b44f0,project-update, charm-cinder-three-par: release-management: external repos: - openstack/charm-cinder-three-par,,4,0
openstack%2Fglance_store~stable%2Fyoga~I0094b044085d7f92b07ea86236de3b6efd7d67ea,openstack/glance_store,stable/yoga,I0094b044085d7f92b07ea86236de3b6efd7d67ea,Correct retry interval during attach volume,MERGED,2022-04-25 13:01:26.000000000,2022-05-05 16:57:11.000000000,2022-05-05 16:55:05.000000000,"[{'_account_id': 5314}, {'_account_id': 9303}, {'_account_id': 22348}, {'_account_id': 27615}]","[{'number': 1, 'created': '2022-04-25 13:01:26.000000000', 'files': ['glance_store/common/cinder_utils.py', 'releasenotes/notes/fix-interval-in-retries-471155ff34d9f0e9.yaml'], 'web_link': 'https://opendev.org/openstack/glance_store/commit/c6716cb8fbbdd75b3c5ce36f5fc9cede8b83bc0d', 'message': 'Correct retry interval during attach volume\n\nWhen we try to simultaneously attach same volume multiple times\n(multiattach), there are multiple attachments created, suppose\nattachA and attachB. If attachA marks the volume ""reserved"" then\nattachB can\'t proceed until the volume is in ""in-use"" or ""available""\nstate. We retry until we reach any of these states for which we use\nthe retrying library.\n\nThe retrying library defaults to 1 second retry[1] (5 times) which causes\nthe original failure as the volume takes time to transition between\n""reserved"" -> ""in-use"" state. This patch corrects it by adding an\nexponential retry time and max exponential retry i.e.\n\n1: 2 ** 1 = 2 seconds\n2: 2 ** 2 = 4 seconds\n3: 2 ** 3 = 8 seconds\n4: 2 ** 4 = 16 seconds (but max wait time is 10 seconds)\n5: 2 ** 5 = 32 seconds (but max wait time is 10 seconds)\n\n[1] https://github.com/rholder/retrying/blob/master/retrying.py#L84\n\nCloses-Bug: #1969373\n\nChange-Id: I0094b044085d7f92b07ea86236de3b6efd7d67ea\n(cherry picked from commit ba4af147fb93d522f8cf396098891f4cbe7b30fb)\n'}]",3,839203,c6716cb8fbbdd75b3c5ce36f5fc9cede8b83bc0d,9,4,1,15554,,,0,"Correct retry interval during attach volume

When we try to simultaneously attach same volume multiple times
(multiattach), there are multiple attachments created, suppose
attachA and attachB. If attachA marks the volume ""reserved"" then
attachB can't proceed until the volume is in ""in-use"" or ""available""
state. We retry until we reach any of these states for which we use
the retrying library.

The retrying library defaults to 1 second retry[1] (5 times) which causes
the original failure as the volume takes time to transition between
""reserved"" -> ""in-use"" state. This patch corrects it by adding an
exponential retry time and max exponential retry i.e.

1: 2 ** 1 = 2 seconds
2: 2 ** 2 = 4 seconds
3: 2 ** 3 = 8 seconds
4: 2 ** 4 = 16 seconds (but max wait time is 10 seconds)
5: 2 ** 5 = 32 seconds (but max wait time is 10 seconds)

[1] https://github.com/rholder/retrying/blob/master/retrying.py#L84

Closes-Bug: #1969373

Change-Id: I0094b044085d7f92b07ea86236de3b6efd7d67ea
(cherry picked from commit ba4af147fb93d522f8cf396098891f4cbe7b30fb)
",git fetch https://review.opendev.org/openstack/glance_store refs/changes/03/839203/1 && git format-patch -1 --stdout FETCH_HEAD,"['glance_store/common/cinder_utils.py', 'releasenotes/notes/fix-interval-in-retries-471155ff34d9f0e9.yaml']",2,c6716cb8fbbdd75b3c5ce36f5fc9cede8b83bc0d,bug/1969373,--- fixes: - | `Bug #1969373 <https://bugs.launchpad.net/glance-store/+bug/1969373>`_: Cinder Driver: Correct the retry interval from fixed 1 second to exponential backoff for attaching a volume during image create/save operation. ,,10,1
openstack%2Fansible-role-collect-logs~master~Ic0bf6ebef94385ca70bfd16152c828cfbbd059df,openstack/ansible-role-collect-logs,master,Ic0bf6ebef94385ca70bfd16152c828cfbbd059df,Moved content from pyproject.toml to setup.cfg,MERGED,2022-03-25 13:02:41.000000000,2022-05-05 16:46:08.000000000,2022-05-05 16:46:08.000000000,"[{'_account_id': 7144}, {'_account_id': 9976}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29775}, {'_account_id': 32926}]","[{'number': 1, 'created': '2022-03-25 13:02:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/f0a468fa6ff4a0c21b23d5e5800a2a09f614eaf0', 'message': '[DNM] Do not let setuptools include data files\n\nChange-Id: Ic0bf6ebef94385ca70bfd16152c828cfbbd059df\n'}, {'number': 2, 'created': '2022-03-25 13:13:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/1d6545476699259c81526788212bcfb76eb80a26', 'message': '[DNM] Do not let setuptools include data files\n\nChange-Id: Ic0bf6ebef94385ca70bfd16152c828cfbbd059df\n'}, {'number': 3, 'created': '2022-03-25 13:33:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/7ac140499d19bc6b4c07474ceaae00b514c516d1', 'message': '[DNM] Do not let setuptools include data files\n\nChange-Id: Ic0bf6ebef94385ca70bfd16152c828cfbbd059df\n'}, {'number': 4, 'created': '2022-03-25 13:44:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/971097e2505b69e1f8f2165dab7319a92f04ceab', 'message': '[DNM] Do not let setuptools include data files\n\nChange-Id: Ic0bf6ebef94385ca70bfd16152c828cfbbd059df\n'}, {'number': 5, 'created': '2022-03-25 14:35:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/f64b44a1f697c5d9a33f50bea821bb62d1b1ad52', 'message': 'Removed pyproject.toml because it is conforming with PEP 621\n\nChange-Id: Ic0bf6ebef94385ca70bfd16152c828cfbbd059df\n'}, {'number': 6, 'created': '2022-03-27 09:17:29.000000000', 'files': ['pyproject.toml', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/2991e8f97e75586989a9bf7f3100132ca2048fb4', 'message': 'Moved content from pyproject.toml to setup.cfg\n\npyproject.toml is not conforming with PEP 621 and\nonly used for setting a profile for isort.\n\nChange-Id: Ic0bf6ebef94385ca70bfd16152c828cfbbd059df\n'}]",5,835222,2991e8f97e75586989a9bf7f3100132ca2048fb4,29,7,6,32962,,,0,"Moved content from pyproject.toml to setup.cfg

pyproject.toml is not conforming with PEP 621 and
only used for setting a profile for isort.

Change-Id: Ic0bf6ebef94385ca70bfd16152c828cfbbd059df
",git fetch https://review.opendev.org/openstack/ansible-role-collect-logs refs/changes/22/835222/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,f0a468fa6ff4a0c21b23d5e5800a2a09f614eaf0,remove_pyproject_toml, [options] # Workaround for https://github.com/pypa/setuptools/issues/3197 include_package_data = False,,4,0
openstack%2Fvalidations-libs~master~Id259e681a236d937dbcb98544e9fe9f7c7334bae,openstack/validations-libs,master,Id259e681a236d937dbcb98544e9fe9f7c7334bae,fix symlink for ansible base dir,MERGED,2021-10-29 17:08:52.000000000,2022-05-05 16:46:06.000000000,2022-05-05 16:46:06.000000000,"[{'_account_id': 11491}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 22954}, {'_account_id': 32926}]","[{'number': 1, 'created': '2021-10-29 17:08:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/d65761ae7e41c3d5fa55d7ce9bc4e9395a3ce2de', 'message': 'fix symlink for ansible base dir\n\nsimple fix - incorrect symlink - this patch corrects\n\nChange-Id: Id259e681a236d937dbcb98544e9fe9f7c7334bae\n'}, {'number': 2, 'created': '2021-10-29 17:18:53.000000000', 'files': ['Vagrantfile.centos', 'Vagrantfile.ubuntu'], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/0058c6627b531d47d1775a4e7be0e0dc5d7735f7', 'message': 'fix symlink for ansible base dir\n\nsimple fix - incorrect symlink - this patch corrects\n\nChange-Id: Id259e681a236d937dbcb98544e9fe9f7c7334bae\n'}]",3,815984,0058c6627b531d47d1775a4e7be0e0dc5d7735f7,11,5,2,27427,,,0,"fix symlink for ansible base dir

simple fix - incorrect symlink - this patch corrects

Change-Id: Id259e681a236d937dbcb98544e9fe9f7c7334bae
",git fetch https://review.opendev.org/openstack/validations-libs refs/changes/84/815984/1 && git format-patch -1 --stdout FETCH_HEAD,['Vagrantfile.ubuntu'],1,d65761ae7e41c3d5fa55d7ce9bc4e9395a3ce2de,vagrant-path-fix, sudo ln -s /usr/local/share/ansible /usr/share/ansible, sudo ln -s /usr/local/share/validations-common /usr/share/validations-common,1,1
openstack%2Fcharm-guide~master~Ibccf54f9e7791d767a25c68675ef3564d50253ff,openstack/charm-guide,master,Ibccf54f9e7791d767a25c68675ef3564d50253ff,Add release note for 22.04 - libvirt mediated devices,MERGED,2022-04-27 02:04:11.000000000,2022-05-05 16:32:30.000000000,2022-05-05 16:31:15.000000000,"[{'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-27 02:04:11.000000000', 'files': ['doc/source/release-notes/2204.rst'], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/4c42f402004063ef1a48f31073aeefd16af2a508', 'message': 'Add release note for 22.04 - libvirt mediated devices\n\nChange-Id: Ibccf54f9e7791d767a25c68675ef3564d50253ff\n'}]",3,839457,4c42f402004063ef1a48f31073aeefd16af2a508,9,2,1,30561,,,0,"Add release note for 22.04 - libvirt mediated devices

Change-Id: Ibccf54f9e7791d767a25c68675ef3564d50253ff
",git fetch https://review.opendev.org/openstack/charm-guide refs/changes/57/839457/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/release-notes/2204.rst'],1,4c42f402004063ef1a48f31073aeefd16af2a508,add-release-note-2204-nova-vgpu-issue,"Nova fails to parse new libvirt mediated device name format ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ The name format of mediated devices in libvirt was recently changed from ``mdev_<uuid>`` to ``mdev_<uuid>_<parent>``. For users of the new tech-preview nova-compute-nvidia-vgpu charm, this will cause new Nova instances to enter into an error state subsequent to a vGPU device being attached to an instance. This is being tracked in issue `LP #1951656`_. A fix will soon be available as an SRU. .. _LP #1951656: https://bugs.launchpad.net/nova/+bug/1951656",,11,0
openstack%2Fdiskimage-builder~master~I2a37f42c04c13064f58caadb8828d5469132a89a,openstack/diskimage-builder,master,I2a37f42c04c13064f58caadb8828d5469132a89a,"Revert ""Set machine-id to uninitialized to trigger first boot""",ABANDONED,2022-05-05 15:17:46.000000000,2022-05-05 16:32:21.000000000,,"[{'_account_id': 4571}, {'_account_id': 6926}, {'_account_id': 7118}, {'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 24245}, {'_account_id': 28223}, {'_account_id': 29775}]","[{'number': 1, 'created': '2022-05-05 15:17:46.000000000', 'files': ['diskimage_builder/elements/sysprep/finalise.d/99-clear-machine-id'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/e27c61ac33746ea34de87edba06dd562eb609d43', 'message': 'Revert ""Set machine-id to uninitialized to trigger first boot""\n\nThis reverts commit 147641fc3e11602cf9eaf723a2b38f60f394ac0b.\n\nReason for revert: train ovb job is failing, overcloud \nnodes are unreachable during deployment, sshd service\nfailed to start because with no hostkey available.\n\nkeys like:-\nUnable to load host key: /etc/ssh/ssh_host_rsa_key\nUnable to load host key: /etc/ssh/ssh_host_ecdsa_key\nUnable to load host key: /etc/ssh/ssh_host_ed25519_key\n\nChange-Id: I2a37f42c04c13064f58caadb8828d5469132a89a\n'}]",5,840486,e27c61ac33746ea34de87edba06dd562eb609d43,8,8,1,29775,,,0,"Revert ""Set machine-id to uninitialized to trigger first boot""

This reverts commit 147641fc3e11602cf9eaf723a2b38f60f394ac0b.

Reason for revert: train ovb job is failing, overcloud 
nodes are unreachable during deployment, sshd service
failed to start because with no hostkey available.

keys like:-
Unable to load host key: /etc/ssh/ssh_host_rsa_key
Unable to load host key: /etc/ssh/ssh_host_ecdsa_key
Unable to load host key: /etc/ssh/ssh_host_ed25519_key

Change-Id: I2a37f42c04c13064f58caadb8828d5469132a89a
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/86/840486/1 && git format-patch -1 --stdout FETCH_HEAD,['diskimage_builder/elements/sysprep/finalise.d/99-clear-machine-id'],1,e27c61ac33746ea34de87edba06dd562eb609d43,first-boot,if [ -e /etc/machine-id ]; then > /etc/machine-id fi ," # According to documented First Boot Semantics writing ""uninitialized"" will trigger the full # first boot behaviour. # https://www.freedesktop.org/software/systemd/man/machine-id.html#First%20Boot%20Semantics # On older versions of systemd before first boot semantics were formalised, any non-uuid value # will trigger a new machine-id to be generated, so ""uninitialized"" also works. # Previously this was done here by truncating /etc/machine-id. if [ -e /etc/machine-id ]; then echo uninitialized > /etc/machine-id fi ",4,11
openstack%2Fansible-collections-openstack~stable%2F1.0.0~I99e98a529ce74ff2ca77a67d09f188228e6a0e37,openstack/ansible-collections-openstack,stable/1.0.0,I99e98a529ce74ff2ca77a67d09f188228e6a0e37,Backported changes to identity_user_info from master branch,MERGED,2022-05-05 08:47:24.000000000,2022-05-05 16:29:47.000000000,2022-05-05 16:29:47.000000000,"[{'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 32962}]","[{'number': 1, 'created': '2022-05-05 08:47:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/bd7b801584e3a84925b00553c6671dc0e2d27052', 'message': 'Use proxy layer in identity_user_info\n\n- Changes the module to get user through proxy layer\n- Adds a role to test the module\n- Renames the return value to drop openstack_ prefix\n\nChange-Id: I99e98a529ce74ff2ca77a67d09f188228e6a0e37\n(cherry picked from commit 2df07f3523ba3281d84c93083bc3b5d1791afb4b)\n'}, {'number': 2, 'created': '2022-05-05 09:01:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/adf817830f073ab3216311db50d9d29341eee17d', 'message': 'Synchronize updates to identity_user_info from master branch\n\nAdded ci integration tests and updated return value documentation.\n\nChange-Id: I99e98a529ce74ff2ca77a67d09f188228e6a0e37\n(cherry picked from commit 2df07f3523ba3281d84c93083bc3b5d1791afb4b)\n'}, {'number': 3, 'created': '2022-05-05 09:04:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/6d70a20fa22ab1e1a0a7cdfd40b28016464c2a8b', 'message': 'Synchronize updates to identity_user_info from master branch\n\nAdded ci integration tests and updated return value documentation.\n\nChange-Id: I99e98a529ce74ff2ca77a67d09f188228e6a0e37\n(cherry picked from commit 2df07f3523ba3281d84c93083bc3b5d1791afb4b)\n'}, {'number': 4, 'created': '2022-05-05 09:14:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/f2b23579210ef7d1c61b46eea838847248b83efb', 'message': 'Synchronize updates to identity_user_info from master branch\n\nAdded ci integration tests and updated return value documentation.\nReverted function calls which would break backward compatibility\nwith previous collection releases.\n\nChange-Id: I99e98a529ce74ff2ca77a67d09f188228e6a0e37\n(cherry picked from commit 2df07f3523ba3281d84c93083bc3b5d1791afb4b)\n'}, {'number': 5, 'created': '2022-05-05 11:14:20.000000000', 'files': ['ci/roles/identity_user_info/tasks/main.yml', 'ci/run-collection.yml', 'ci/roles/identity_user_info/defaults/main.yml', 'plugins/modules/identity_user_info.py'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/0204bbeede8b7f24c90610a28b3b0ee2f3d88e5e', 'message': 'Backported changes to identity_user_info from master branch\n\nAdded ci integration tests and updated return value documentation.\nReverted function calls which would break backward compatibility\nwith previous collection releases.\n\nChange-Id: I99e98a529ce74ff2ca77a67d09f188228e6a0e37\n(cherry picked from commit 2df07f3523ba3281d84c93083bc3b5d1791afb4b)\n'}]",0,840478,0204bbeede8b7f24c90610a28b3b0ee2f3d88e5e,14,3,5,32962,,,0,"Backported changes to identity_user_info from master branch

Added ci integration tests and updated return value documentation.
Reverted function calls which would break backward compatibility
with previous collection releases.

Change-Id: I99e98a529ce74ff2ca77a67d09f188228e6a0e37
(cherry picked from commit 2df07f3523ba3281d84c93083bc3b5d1791afb4b)
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/78/840478/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'ci/roles/identity_user_info/tasks/main.yml', 'ci/roles/identity_user_info/defaults/main.yml', 'ci/run-collection.yml', 'plugins/modules/identity_user_info.py']",5,bd7b801584e3a84925b00553c6671dc0e2d27052,identity_user_info-stable," default: {} msg: ""{{ result.users }}"" msg: ""{{ result.users }}"" msg: ""{{ result.users }}"" msg: ""{{ result.users }}""users: returned: always type: list elements: dict domain_id: description: Domain ID containing the user returned: success type: str is_enabled: description: Flag to indicate if the user is enabled returned: success type: bool links: description: The links for the user resource returned: success type: complex contains: self: description: Link to this user resource returned: success type: str password: description: The default form of credential used during authentication. returned: success type: str password_expires_at: description: The date and time when the password expires. The time zone is UTC. A Null value means the password never expires. returned: success type: str filters=dict(required=False, type='dict', default={}), dom_obj = self.conn.identity.find_domain(domain) if dom_obj is None: self.fail_json( msg=""Domain name or ID '{0}' does not exist"".format(domain)) filters['domain_id'] = dom_obj.id users = self.conn.identity.users( name=name, **filters) users = [user.to_dict(computed=False) for user in users] self.exit_json(changed=False, users=users)"," msg: ""{{ result.openstack_users }}"" msg: ""{{ result.openstack_users }}"" msg: ""{{ result.openstack_users }}"" msg: ""{{ result.openstack_users }}""openstack_users: returned: always, but can be null type: complex enabled: description: Flag to indicate if the user is enabled returned: success type: bool domain_id: description: Domain ID containing the user returned: success type: str filters=dict(required=False, type='dict', default=None), try: # We assume admin is passing domain id dom = self.conn.get_domain(domain)['id'] domain = dom except Exception: # If we fail, maybe admin is passing a domain name. # Note that domains have unique names, just like id. dom = self.conn.search_domains(filters={'name': domain}) if dom: domain = dom[0]['id'] else: self.fail_json(msg='Domain name or ID does not exist') users = self.conn.search_users(name, filters, domain_id=domain) self.exit_json(changed=False, openstack_users=users)",175,30
openstack%2Fcinder~master~I3fb716c5c1f3cdb2c8988002e8e97e6a44337502,openstack/cinder,master,I3fb716c5c1f3cdb2c8988002e8e97e6a44337502,Remove the IBM GPFS Storage Driver,NEW,2020-01-17 18:38:48.000000000,2022-05-05 16:29:19.000000000,,"[{'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22126}, {'_account_id': 22348}, {'_account_id': 24236}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29705}, {'_account_id': 30688}]","[{'number': 1, 'created': '2020-01-17 18:38:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/0b04755c78dae982303950728a2cc2d88efcf0af', 'message': 'Remove the IBM GPFS Storage Driver\n\nThe 3rd Party CI for the IBM GPFS Storage\ndriver has been unstable for several releases now.\nAs a result the driver was previously marked unsupported.\n\nI have spoken with the team at IBM and they have indicated\nthat support for the driver will not be resumed.  Therefore,\nI am proposing this patch to remove the driver.\n\nChange-Id: I3fb716c5c1f3cdb2c8988002e8e97e6a44337502\n'}, {'number': 2, 'created': '2020-01-17 18:58:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c80459500a0abd0a02ca8518b3f29084d7bbf2eb', 'message': 'Remove the IBM GPFS Storage Driver\n\nThe 3rd Party CI for the IBM GPFS Storage\ndriver has been unstable for several releases now.\nAs a result the driver was previously marked unsupported.\n\nI have spoken with the team at IBM and they have indicated\nthat support for the driver will not be resumed.  Therefore,\nI am proposing this patch to remove the driver.\n\nChange-Id: I3fb716c5c1f3cdb2c8988002e8e97e6a44337502\n'}, {'number': 3, 'created': '2020-01-23 15:19:15.000000000', 'files': ['cinder/opts.py', 'doc/source/configuration/block-storage/drivers/ibm-gpfs-volume-driver.rst', 'doc/source/reference/support-matrix.ini', 'cinder/volume/drivers/ibm/gpfs.py', 'doc/source/reference/support-matrix.rst', 'cinder/tests/unit/volume/drivers/test_gpfs.py', 'releasenotes/notes/gpfs-driver-removal-5b64a4754c35cd08.yaml', 'cinder/tests/unit/cmd/test_status.py', 'cinder/cmd/status.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/f54eb314d942720d65715dc15a87dcca06ce11ba', 'message': 'Remove the IBM GPFS Storage Driver\n\nThe 3rd Party CI for the IBM GPFS Storage\ndriver has been unstable for several releases now.\nAs a result the driver was previously marked unsupported.\n\nI have spoken with the team at IBM and they have indicated\nthat support for the driver will not be resumed.  Therefore,\nI am proposing this patch to remove the driver.\n\nChange-Id: I3fb716c5c1f3cdb2c8988002e8e97e6a44337502\n'}]",1,703157,f54eb314d942720d65715dc15a87dcca06ce11ba,74,29,3,7198,,,0,"Remove the IBM GPFS Storage Driver

The 3rd Party CI for the IBM GPFS Storage
driver has been unstable for several releases now.
As a result the driver was previously marked unsupported.

I have spoken with the team at IBM and they have indicated
that support for the driver will not be resumed.  Therefore,
I am proposing this patch to remove the driver.

Change-Id: I3fb716c5c1f3cdb2c8988002e8e97e6a44337502
",git fetch https://review.opendev.org/openstack/cinder refs/changes/57/703157/3 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/opts.py', 'doc/source/configuration/block-storage/drivers/ibm-gpfs-volume-driver.rst', 'doc/source/reference/support-matrix.ini', 'cinder/volume/drivers/ibm/gpfs.py', 'doc/source/reference/support-matrix.rst', 'cinder/tests/unit/volume/drivers/test_gpfs.py', 'releasenotes/notes/gpfs-driver-removal-5b64a4754c35cd08.yaml']",7,0b04755c78dae982303950728a2cc2d88efcf0af,ci_unsupported,--- upgrade: - | The IBM GPFS Storage driver was marked unsupported in the Train release and has now been removed. All data on GPFS Storage backends should be migrated to a supported storage backend before upgrading your Cinder installation. ,,8,4256
openstack%2Fdesignate~master~I1c8dfec7bd2b5f80b12d7229e47ef8ff70bd283b,openstack/designate,master,I1c8dfec7bd2b5f80b12d7229e47ef8ff70bd283b,Switch CentOS jobs over to CentOS 9 Stream,MERGED,2022-04-26 23:12:34.000000000,2022-05-05 16:15:35.000000000,2022-05-05 16:12:46.000000000,"[{'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 22623}, {'_account_id': 32919}]","[{'number': 1, 'created': '2022-04-26 23:12:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/85a780095cda17c3ac16634f2d79032ab7c2e11a', 'message': 'Switch CentOS jobs over to CentOS 9 Stream\n\nSince Devstack is dropping CentOS 8 Stream[1], we need to move our jobs over to CentOS 9 Stream. Now that there is a ""devstack-single-node-centos-9-stream"" nodeset we can remove our local CentOS 9 Stream nodeset.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2022-April/028321.html\n\nChange-Id: I1c8dfec7bd2b5f80b12d7229e47ef8ff70bd283b\n'}, {'number': 2, 'created': '2022-04-26 23:14:08.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/designate/commit/6388f75049fa3b21879be1348a343afeb8f66714', 'message': 'Switch CentOS jobs over to CentOS 9 Stream\n\nSince Devstack is dropping CentOS 8 Stream[1], we need to move our jobs over to CentOS 9 Stream. Now that there is a ""devstack-single-node-centos-9-stream"" nodeset we can remove our local CentOS 9 Stream nodeset.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2022-April/028321.html\n\nChange-Id: I1c8dfec7bd2b5f80b12d7229e47ef8ff70bd283b\n'}]",1,839446,6388f75049fa3b21879be1348a343afeb8f66714,12,4,2,11628,,,0,"Switch CentOS jobs over to CentOS 9 Stream

Since Devstack is dropping CentOS 8 Stream[1], we need to move our jobs over to CentOS 9 Stream. Now that there is a ""devstack-single-node-centos-9-stream"" nodeset we can remove our local CentOS 9 Stream nodeset.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2022-April/028321.html

Change-Id: I1c8dfec7bd2b5f80b12d7229e47ef8ff70bd283b
",git fetch https://review.opendev.org/openstack/designate refs/changes/46/839446/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,85a780095cda17c3ac16634f2d79032ab7c2e11a,, nodeset: devstack-single-node-centos-9-stream nodeset: devstack-single-node-centos-9-stream,- nodeset: name: designate-single-node-centos-9-stream nodes: - name: controller label: centos-9-stream groups: - name: tempest nodes: - controller nodeset: devstack-single-node-centos-8-stream nodeset: designate-single-node-centos-9-stream,2,12
openstack%2Fmanila~stable%2Fussuri~I9bdbbaafba413fa4b2a783130fd58a4b6c2cea4b,openstack/manila,stable/ussuri,I9bdbbaafba413fa4b2a783130fd58a4b6c2cea4b,early return for _share_replica_update() if there is no active replica,MERGED,2022-01-25 20:39:29.000000000,2022-05-05 16:07:27.000000000,2022-05-05 16:05:57.000000000,"[{'_account_id': 22348}, {'_account_id': 29632}, {'_account_id': 30002}]","[{'number': 1, 'created': '2022-01-25 20:39:29.000000000', 'files': ['manila/share/manager.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/fab69a13f5497f3a707af28c878a53ca8df2e375', 'message': 'early return for _share_replica_update() if there is no active replica\n\nIf the parent share of the replica has no active replica,\nthis is an error situation where _share_replica_update() simply\nreturns and logs a warning if the replica being acted on has not\nbeen already in error state itself before.\n\nChange-Id: I9bdbbaafba413fa4b2a783130fd58a4b6c2cea4b\nPartial-Bug: #1924230\n(cherry picked from commit 7b7d18e14243c82c20b49f134a5a007f5f21fcdd)\n(cherry picked from commit 31f7c97205bb6a408a5c2fe5607c0e6e1d115ea1)\n(cherry picked from commit f7376849929511b251f3668f91639bda3d9ec885)\n(cherry picked from commit daeae4ccb05eeb212c7a29643464b0c4dfe41783)\n'}]",3,826229,fab69a13f5497f3a707af28c878a53ca8df2e375,16,3,1,16643,,,0,"early return for _share_replica_update() if there is no active replica

If the parent share of the replica has no active replica,
this is an error situation where _share_replica_update() simply
returns and logs a warning if the replica being acted on has not
been already in error state itself before.

Change-Id: I9bdbbaafba413fa4b2a783130fd58a4b6c2cea4b
Partial-Bug: #1924230
(cherry picked from commit 7b7d18e14243c82c20b49f134a5a007f5f21fcdd)
(cherry picked from commit 31f7c97205bb6a408a5c2fe5607c0e6e1d115ea1)
(cherry picked from commit f7376849929511b251f3668f91639bda3d9ec885)
(cherry picked from commit daeae4ccb05eeb212c7a29643464b0c4dfe41783)
",git fetch https://review.opendev.org/openstack/manila refs/changes/29/826229/1 && git format-patch -1 --stdout FETCH_HEAD,['manila/share/manager.py'],1,fab69a13f5497f3a707af28c878a53ca8df2e375,bug/1924230," _active_replica = next((x for x in replica_list if x['replica_state'] == constants.REPLICA_STATE_ACTIVE), None) if _active_replica is None: if share_replica['replica_state'] != constants.STATUS_ERROR: # only log warning if replica_state was not already in error msg = ((""Replica parent share %(id)s has no active "" ""replica."") % {'id': share_replica['share_id']}) LOG.warning(msg) self.db.share_replica_update(context, share_replica['id'], {'replica_state': constants.STATUS_ERROR}) # without a related active replica, we cannot act on any # non-active replica return", _active_replica = [x for x in replica_list if x['replica_state'] == constants.REPLICA_STATE_ACTIVE][0],16,3
openstack%2Fpython-glanceclient~master~I66d99be1ec06806494c5504c467dff759dd38f2d,openstack/python-glanceclient,master,I66d99be1ec06806494c5504c467dff759dd38f2d,"Documentation: Add options for ""glance image-import""",MERGED,2020-09-29 05:01:01.000000000,2022-05-05 16:03:30.000000000,2022-05-05 16:01:00.000000000,"[{'_account_id': 4393}, {'_account_id': 9303}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-09-29 05:01:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-glanceclient/commit/d82b113e27a455dc5ceca857e695cb154dd5281c', 'message': 'Closes-bug:#1886537\n\nChange-Id: I66d99be1ec06806494c5504c467dff759dd38f2d\n'}, {'number': 2, 'created': '2020-09-29 06:41:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-glanceclient/commit/6f2c7590715c2e8889d90f763c1f919097d5cb5d', 'message': 'Closes-bug:#1886537\nUpdated\nChange-Id: I66d99be1ec06806494c5504c467dff759dd38f2d\n'}, {'number': 3, 'created': '2021-10-27 01:49:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-glanceclient/commit/3016cf52898ef9928cc93d7d07664cfe0993a2c3', 'message': 'Documentation: Add options for ""glance image-import""\n\nCloses-bug:#1886537\nChange-Id: I66d99be1ec06806494c5504c467dff759dd38f2d\n'}, {'number': 4, 'created': '2021-12-10 22:51:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-glanceclient/commit/0e6d27013488fca526f423e1117a8db8c0944e1f', 'message': 'Documentation: Add options for ""glance image-import""\n\nCloses-bug:#1886537\nChange-Id: I66d99be1ec06806494c5504c467dff759dd38f2d\n'}, {'number': 5, 'created': '2022-01-13 00:45:44.000000000', 'files': ['doc/source/cli/details.rst'], 'web_link': 'https://opendev.org/openstack/python-glanceclient/commit/73aaef428689c2346aafa5b9542bd30f5633ab50', 'message': 'Documentation: Add options for ""glance image-import""\n\nCloses-bug:#1886537\nChange-Id: I66d99be1ec06806494c5504c467dff759dd38f2d\n'}]",10,754895,73aaef428689c2346aafa5b9542bd30f5633ab50,21,3,5,32406,,,0,"Documentation: Add options for ""glance image-import""

Closes-bug:#1886537
Change-Id: I66d99be1ec06806494c5504c467dff759dd38f2d
",git fetch https://review.opendev.org/openstack/python-glanceclient refs/changes/95/754895/5 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/cli/details.rst'],1,d82b113e27a455dc5ceca857e695cb154dd5281c,change-754895," usage: glance image-import [--import-method <METHOD>][--uri <IMAGE_URL>] [--store <STORE>] [--stores <STORES>] [--all-stores [True|False]] [--allow-failure [True|False]]``--uri <IMAGE_URL>]`` URI to download the external image ``[--store <STORE>]`` Backend store to upload image to. ``[--stores <STORES>]`` Stores to upload image to if multi-stores import available. ``[--all-stores [True|False]]`` ""all-stores"" can be used instead of ""stores""-list to indicate that image should be imported all available stores. ``[--allow-failure [True|False]]`` Indicator if all stores listed (or available) must succeed. ""True"" by default meaning that we allow some stores to fail and the status can be monitored from the image metadata. If this is set to ""False"" the import will be reverted should any of the uploads fail. Only usable with ""stores"" or ""all-stores"". ", usage: glance image-import [--import-method <METHOD>],29,1
openstack%2Fpython-glanceclient~master~I51ea4c43fa62164ed43e78d1ae0fb0cb2521fc83,openstack/python-glanceclient,master,I51ea4c43fa62164ed43e78d1ae0fb0cb2521fc83,glance help <subcommand>: Clearly specify which options are mandatory,MERGED,2021-06-23 21:20:02.000000000,2022-05-05 16:02:22.000000000,2022-05-05 16:00:57.000000000,"[{'_account_id': 4393}, {'_account_id': 8122}, {'_account_id': 9303}, {'_account_id': 19138}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-23 21:20:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-glanceclient/commit/5c8d01e5cbe4d15c8044f791f342c972bd828732', 'message': 'glance help <subcommand>: Clearly specify which options are mandatory\n\nChange-Id: I51ea4c43fa62164ed43e78d1ae0fb0cb2521fc83\nCloses-Bug: #1933390\n'}, {'number': 2, 'created': '2021-12-13 06:25:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-glanceclient/commit/eb15d586519a3720c82748850a558ac092fdd075', 'message': 'glance help <subcommand>: Clearly specify which options are mandatory\n\nEarlier glance help <subcommand> was listing required arguments as\noptional arguments in help text. Added new argument group to list\nrequired argument properly.\n\n$ glance help stores-delete\n\nExample before this change:\nusage: glance stores-delete --store <STORE_ID> <IMAGE_ID>\n\nDelete image from specific store.\n\nPositional arguments:\n  <IMAGE_ID>          ID of image to update.\n\nOptional arguments:\n  --store <STORE_ID>  Store to delete image from.\n\nAfter this change:\nusage: glance stores-delete --store <STORE_ID> <IMAGE_ID>\n\nDelete image from specific store.\n\nPositional arguments:\n  <IMAGE_ID>          ID of image to update.\n\nRequired arguments:\n  --store <STORE_ID>  Store to delete image from.\n\nChange-Id: I51ea4c43fa62164ed43e78d1ae0fb0cb2521fc83\nCloses-Bug: #1933390\n'}, {'number': 3, 'created': '2021-12-13 06:27:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-glanceclient/commit/eaed9796478d35d08668efd83044d57a2f48127f', 'message': 'glance help <subcommand>: Clearly specify which options are mandatory\n\nEarlier glance help <subcommand> was listing required arguments as\noptional arguments in help text. Added new argument group to list\nrequired argument properly.\n\n$ glance help stores-delete\n\nExample before this change:\nusage: glance stores-delete --store <STORE_ID> <IMAGE_ID>\n\nDelete image from specific store.\n\nPositional arguments:\n  <IMAGE_ID>          ID of image to update.\n\nOptional arguments:\n  --store <STORE_ID>  Store to delete image from.\n\nAfter this change:\nusage: glance stores-delete --store <STORE_ID> <IMAGE_ID>\n\nDelete image from specific store.\n\nPositional arguments:\n  <IMAGE_ID>          ID of image to update.\n\nRequired arguments:\n  --store <STORE_ID>  Store to delete image from.\n\nChange-Id: I51ea4c43fa62164ed43e78d1ae0fb0cb2521fc83\nCloses-Bug: #1933390\n'}, {'number': 4, 'created': '2021-12-14 15:16:18.000000000', 'files': ['glanceclient/tests/unit/test_shell.py', 'glanceclient/shell.py'], 'web_link': 'https://opendev.org/openstack/python-glanceclient/commit/91ae9347dbc125a19fedd107df5cc013e018e7e1', 'message': 'glance help <subcommand>: Clearly specify which options are mandatory\n\nEarlier glance help <subcommand> was listing required arguments as\noptional arguments in help text. Added new argument group to list\nrequired argument properly.\n\n$ glance help stores-delete\n\nExample before this change:\nusage: glance stores-delete --store <STORE_ID> <IMAGE_ID>\n\nDelete image from specific store.\n\nPositional arguments:\n  <IMAGE_ID>          ID of image to update.\n\nOptional arguments:\n  --store <STORE_ID>  Store to delete image from.\n\nAfter this change:\nusage: glance stores-delete --store <STORE_ID> <IMAGE_ID>\n\nDelete image from specific store.\n\nPositional arguments:\n  <IMAGE_ID>          ID of image to update.\n\nRequired arguments:\n  --store <STORE_ID>  Store to delete image from.\n\nChange-Id: I51ea4c43fa62164ed43e78d1ae0fb0cb2521fc83\nCloses-Bug: #1933390\n'}]",2,797779,91ae9347dbc125a19fedd107df5cc013e018e7e1,16,5,4,8122,,,0,"glance help <subcommand>: Clearly specify which options are mandatory

Earlier glance help <subcommand> was listing required arguments as
optional arguments in help text. Added new argument group to list
required argument properly.

$ glance help stores-delete

Example before this change:
usage: glance stores-delete --store <STORE_ID> <IMAGE_ID>

Delete image from specific store.

Positional arguments:
  <IMAGE_ID>          ID of image to update.

Optional arguments:
  --store <STORE_ID>  Store to delete image from.

After this change:
usage: glance stores-delete --store <STORE_ID> <IMAGE_ID>

Delete image from specific store.

Positional arguments:
  <IMAGE_ID>          ID of image to update.

Required arguments:
  --store <STORE_ID>  Store to delete image from.

Change-Id: I51ea4c43fa62164ed43e78d1ae0fb0cb2521fc83
Closes-Bug: #1933390
",git fetch https://review.opendev.org/openstack/python-glanceclient refs/changes/79/797779/1 && git format-patch -1 --stdout FETCH_HEAD,['glanceclient/shell.py'],1,5c8d01e5cbe4d15c8044f791f342c972bd828732,bug/1933390," required_args = subparser.add_argument_group('Required arguments') for (args, kwargs) in arguments: if kwargs.get('required', False): required_args.add_argument(*args, **kwargs) else: subparser.add_argument(*args, **kwargs)"," for (args, kwargs) in arguments: subparser.add_argument(*args, **kwargs)",5,1
openstack%2Fhorizon~master~Ifb7a4611bcf1fc06a9171dcf5c12db9aa7d2e5ca,openstack/horizon,master,Ifb7a4611bcf1fc06a9171dcf5c12db9aa7d2e5ca,Initial test of django sass processor,NEW,2021-06-04 13:33:40.000000000,2022-05-05 16:00:41.000000000,,"[{'_account_id': 8648}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2021-06-04 13:33:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/79a9bdcc6acfbcc98724ace406ffe675fd75622c', 'message': 'Initial test of django sass processor\n\nTo run, you need to install libsass and django-sass-processor.\n\nChange-Id: Ifb7a4611bcf1fc06a9171dcf5c12db9aa7d2e5ca\n'}, {'number': 2, 'created': '2021-06-07 14:22:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/7dab05ebc72d831021dbf0909250b86b2ed25b0b', 'message': 'Initial test of django sass processor\n\nTo run, you need to install libsass and django-sass-processor.\n\nChange-Id: Ifb7a4611bcf1fc06a9171dcf5c12db9aa7d2e5ca\n'}, {'number': 3, 'created': '2021-09-06 09:40:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/ea57e3cf25c8f43b9d7e9f9e89f9935ffb2884b7', 'message': 'Initial test of django sass processor\n\nTo run, you need to install libsass and django-sass-processor.\n\nChange-Id: Ifb7a4611bcf1fc06a9171dcf5c12db9aa7d2e5ca\n'}, {'number': 4, 'created': '2022-05-03 11:37:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/4b24ff73f3217515ac666e2714e8f54cd6f78db8', 'message': 'Initial test of django sass processor\n\nTo run, you need to install libsass and django-sass-processor.\n\nChange-Id: Ifb7a4611bcf1fc06a9171dcf5c12db9aa7d2e5ca\n'}, {'number': 5, 'created': '2022-05-03 12:05:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/2451eb781be13da811fa18070e114af2c104d0a5', 'message': 'Initial test of django sass processor\n\nTo run, you need to install libsass and django-sass-processor.\n\nChange-Id: Ifb7a4611bcf1fc06a9171dcf5c12db9aa7d2e5ca\n'}, {'number': 6, 'created': '2022-05-03 14:55:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/5d5de604216a57a229f0bc8aa87ec5b02bf571a5', 'message': 'Initial test of django sass processor\n\nTo run, you need to install libsass and django-sass-processor.\n\nChange-Id: Ifb7a4611bcf1fc06a9171dcf5c12db9aa7d2e5ca\n'}, {'number': 7, 'created': '2022-05-04 11:21:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/e1d0c5f73d6b8efdce695363c166ce285c49fa08', 'message': 'Initial test of django sass processor\n\nTo run, you need to install libsass and django-sass-processor.\n\nChange-Id: Ifb7a4611bcf1fc06a9171dcf5c12db9aa7d2e5ca\n'}, {'number': 8, 'created': '2022-05-05 14:17:45.000000000', 'files': ['openstack_dashboard/themes/default/_theme.scss', 'openstack_dashboard/static/dashboard/scss/components/_radiobuttons.scss', 'openstack_dashboard/static/dashboard/scss/_util.scss', 'openstack_dashboard/static/dashboard/scss/components/_checkboxes.scss', 'openstack_dashboard/templatetags/themes.py', 'openstack_dashboard/settings.py', 'openstack_dashboard/themes/material/static/_theme.scss', 'requirements.txt', 'horizon/test/settings.py', 'openstack_dashboard/themes/material/static/horizon/_icons.scss', 'openstack_dashboard/static/dashboard/scss/horizon.scss', 'openstack_dashboard/themes/material/static/horizon/components/_dropdowns.scss', 'horizon/utils/scss_filter.py', 'openstack_dashboard/django_pyscss_fix/__init__.py', 'openstack_dashboard/templates/_stylesheets.html', 'openstack_dashboard/themes/material/static/bootstrap/_styles.scss', 'openstack_dashboard/themes/material/static/bootstrap/_variables.scss'], 'web_link': 'https://opendev.org/openstack/horizon/commit/cd9d912f5c3b70a12e47a3a265ff1c70349688d2', 'message': 'Initial test of django sass processor\n\nTo run, you need to install libsass and django-sass-processor.\n\nChange-Id: Ifb7a4611bcf1fc06a9171dcf5c12db9aa7d2e5ca\n'}]",29,794809,cd9d912f5c3b70a12e47a3a265ff1c70349688d2,23,3,8,8648,,,0,"Initial test of django sass processor

To run, you need to install libsass and django-sass-processor.

Change-Id: Ifb7a4611bcf1fc06a9171dcf5c12db9aa7d2e5ca
",git fetch https://review.opendev.org/openstack/horizon refs/changes/09/794809/8 && git format-patch -1 --stdout FETCH_HEAD,"['manage.py', 'openstack_dashboard/themes/default/_theme.scss', 'openstack_dashboard/static/dashboard/scss/components/_radiobuttons.scss', 'openstack_dashboard/static/dashboard/scss/horizon.scss', 'openstack_dashboard/static/dashboard/scss/_util.scss', 'openstack_dashboard/static/dashboard/scss/components/_checkboxes.scss', 'openstack_dashboard/settings.py', 'openstack_dashboard/templates/_stylesheets.html', 'openstack_dashboard/api/keystone.py']",9,79a9bdcc6acfbcc98724ace406ffe675fd75622c,django-sass-processor," logger = logging.getLogger('keystoneclient') debug=settings.DEBUG, logger=logger)", debug=settings.DEBUG),53,20
openstack%2Fglance_store~master~I39c9caec85f574fc717e60f11e5681860a20ed30,openstack/glance_store,master,I39c9caec85f574fc717e60f11e5681860a20ed30,Remove redundant try except around volume create,MERGED,2022-03-17 11:21:39.000000000,2022-05-05 15:53:35.000000000,2022-05-05 15:51:56.000000000,"[{'_account_id': 5314}, {'_account_id': 8122}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-03-17 11:21:39.000000000', 'files': ['glance_store/_drivers/cinder.py'], 'web_link': 'https://opendev.org/openstack/glance_store/commit/8ec07902cb0c3cd6c61850fa0a7ab46393182a12', 'message': 'Remove redundant try except around volume create\n\nThe cinder volume create call was moved to the cinder_utils\nmodule to keep the driver code cleaner with commit[1].\nA decorator was also added to handle NotFound exception which\nmade the existing try/except block redundant.\nAlso the current try/except block has misleading messages:\n\n1) ""Invalid volume type configured""\n2) ""Failed to create image-volume due to invalid\n   `cinder_volume_type` configured.""\n\nA volume create could fail because of many reasons and ""invalid\nvolume type"" is just one of them. These messages will confuse\nthe operators even if the configured volume type is correct.\nThis patch removes them since the NotFound exception is already\nhandled at[2] and the messages are misleading.\n\n[1] 1178f113c4fc3f5f0938f3dcc608cea4a73adb7f\n[2] https://github.com/openstack/glance_store/blob/c0c4969a4a6ce77c61f84fcb37b3efdac71d6418/glance_store/common/cinder_utils.py#L37\n\nChange-Id: I39c9caec85f574fc717e60f11e5681860a20ed30\n'}]",1,834155,8ec07902cb0c3cd6c61850fa0a7ab46393182a12,8,3,1,27615,,,0,"Remove redundant try except around volume create

The cinder volume create call was moved to the cinder_utils
module to keep the driver code cleaner with commit[1].
A decorator was also added to handle NotFound exception which
made the existing try/except block redundant.
Also the current try/except block has misleading messages:

1) ""Invalid volume type configured""
2) ""Failed to create image-volume due to invalid
   `cinder_volume_type` configured.""

A volume create could fail because of many reasons and ""invalid
volume type"" is just one of them. These messages will confuse
the operators even if the configured volume type is correct.
This patch removes them since the NotFound exception is already
handled at[2] and the messages are misleading.

[1] 1178f113c4fc3f5f0938f3dcc608cea4a73adb7f
[2] https://github.com/openstack/glance_store/blob/c0c4969a4a6ce77c61f84fcb37b3efdac71d6418/glance_store/common/cinder_utils.py#L37

Change-Id: I39c9caec85f574fc717e60f11e5681860a20ed30
",git fetch https://review.opendev.org/openstack/glance_store refs/changes/55/834155/1 && git format-patch -1 --stdout FETCH_HEAD,['glance_store/_drivers/cinder.py'],1,8ec07902cb0c3cd6c61850fa0a7ab46393182a12,," volume = self.volume_api.create(client, size_gb, name=name, metadata=metadata, volume_type=volume_type)"," try: volume = self.volume_api.create(client, size_gb, name=name, metadata=metadata, volume_type=volume_type) except cinder_exception.NotFound: LOG.error(_LE(""Invalid volume type %s configured. Please check "" ""the `cinder_volume_type` configuration parameter."" % volume_type)) msg = (_(""Failed to create image-volume due to invalid "" ""`cinder_volume_type` configured."")) raise exceptions.BackendException(msg)",4,11
openstack%2Fproject-config~master~I24a72279b053422677c3d35ce68fb76e89cc98d4,openstack/project-config,master,I24a72279b053422677c3d35ce68fb76e89cc98d4,Add Jammy arm64 test nodes,MERGED,2022-05-03 23:32:10.000000000,2022-05-05 15:50:01.000000000,2022-05-05 15:41:32.000000000,"[{'_account_id': 4146}, {'_account_id': 5263}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-03 23:32:10.000000000', 'files': ['nodepool/nl03.opendev.org.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/93c6d357eb3328520927891cd01c33c2f22604c6', 'message': 'Add Jammy arm64 test nodes\n\nOnce we are happy with the results of the parent change we can land this\nchange to boot test nodes on the new arm64 jammy images.\n\nChange-Id: I24a72279b053422677c3d35ce68fb76e89cc98d4\n'}]",0,840394,93c6d357eb3328520927891cd01c33c2f22604c6,8,3,1,4146,,,0,"Add Jammy arm64 test nodes

Once we are happy with the results of the parent change we can land this
change to boot test nodes on the new arm64 jammy images.

Change-Id: I24a72279b053422677c3d35ce68fb76e89cc98d4
",git fetch https://review.opendev.org/openstack/project-config refs/changes/94/840394/1 && git format-patch -1 --stdout FETCH_HEAD,['nodepool/nl03.opendev.org.yaml'],1,93c6d357eb3328520927891cd01c33c2f22604c6,arm64-jammy, - name: ubuntu-jammy-arm64 min-ready: 0 - name: ubuntu-jammy-arm64-xxxlarge min-ready: 0 - name: ubuntu-jammy-arm64 config-drive: true - name: ubuntu-jammy-arm64 min-ram: 8000 flavor-name: 'os.large' diskimage: ubuntu-jammy-arm64 key-name: infra-root-keys-2020-05-13 - name: ubuntu-jammy-arm64-xxxlarge min-ram: 16000 flavor-name: 'm1.xxxlarge' diskimage: ubuntu-jammy-arm64 key-name: infra-root-keys-2020-05-13 - name: ubuntu-jammy-arm64 config-drive: true - name: ubuntu-jammy-arm64 min-ram: 8000 flavor-name: 'opendev.large' diskimage: ubuntu-jammy-arm64 key-name: infra-root-keys-2020-05-13,,23,0
openstack%2Fcinder~master~I795f119df48bcb8afa744e8af366880223a09a66,openstack/cinder,master,I795f119df48bcb8afa744e8af366880223a09a66,API: fix volume reset-state status checking,NEW,2022-04-26 16:53:19.000000000,2022-05-05 15:38:57.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-04-26 16:53:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/e76e032b9b82c7c72ae2e24038e0ad4963e60f39', 'message': 'WIP: fix status checking in reset_status\n\nWhat\'s going on here, exactly?\n\n""error_deletingdetaching""?\n\nChange-Id: I795f119df48bcb8afa744e8af366880223a09a66\n'}, {'number': 2, 'created': '2022-04-27 14:04:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/fc0483ab30c1cecacbe76aee7b8a8192e019ebf9', 'message': ""API: fix volume reset-state status checking\n\nThis code previously failed to reject\n'error_deleting' and 'detaching' state updates\ndue to a missing comma.\n\nMove checks into the validate_update method.\n\nCloses-Bug: #1970624\n\nChange-Id: I795f119df48bcb8afa744e8af366880223a09a66\n""}, {'number': 3, 'created': '2022-04-28 18:10:26.000000000', 'files': ['releasenotes/notes/bug-1970624-reset-state-restrictions-2d6a865843e27322.yaml', 'cinder/api/contrib/admin_actions.py', 'cinder/tests/unit/api/contrib/test_admin_actions.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/89e3c16580396f08fa12a568491cef8eb1a6fe3b', 'message': ""API: fix volume reset-state status checking\n\nThis code previously failed to reject\n'error_deleting' and 'detaching' state updates\ndue to a missing comma.\n\nMove checks into the validate_update method.\n\nCloses-Bug: #1970624\n\nChange-Id: I795f119df48bcb8afa744e8af366880223a09a66\n""}]",4,839416,89e3c16580396f08fa12a568491cef8eb1a6fe3b,79,1,3,4523,,,0,"API: fix volume reset-state status checking

This code previously failed to reject
'error_deleting' and 'detaching' state updates
due to a missing comma.

Move checks into the validate_update method.

Closes-Bug: #1970624

Change-Id: I795f119df48bcb8afa744e8af366880223a09a66
",git fetch https://review.opendev.org/openstack/cinder refs/changes/16/839416/2 && git format-patch -1 --stdout FETCH_HEAD,['cinder/api/contrib/admin_actions.py'],1,e76e032b9b82c7c72ae2e24038e0ad4963e60f39,reset-state-validation," if update.get('status') in ('deleting', 'error_deleting',"," if update.get('status') in ('deleting', 'error_deleting'",1,1
openstack%2Fglance~master~I2ba1928875b75ae893e740bc1470d142d2dd73fb,openstack/glance,master,I2ba1928875b75ae893e740bc1470d142d2dd73fb,Add grenade-skip-level irrelevant-files config,MERGED,2022-03-01 19:09:09.000000000,2022-05-05 15:37:41.000000000,2022-05-05 15:32:38.000000000,"[{'_account_id': 4393}, {'_account_id': 9303}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-03-01 19:09:09.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/glance/commit/80083fd0e9335e9f6f673372b5ba0d286d0d1862', 'message': 'Add grenade-skip-level irrelevant-files config\n\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/830670\nChange-Id: I2ba1928875b75ae893e740bc1470d142d2dd73fb\n'}]",1,831437,80083fd0e9335e9f6f673372b5ba0d286d0d1862,9,3,1,8556,,,0,"Add grenade-skip-level irrelevant-files config

Depends-On: https://review.opendev.org/c/openstack/tempest/+/830670
Change-Id: I2ba1928875b75ae893e740bc1470d142d2dd73fb
",git fetch https://review.opendev.org/openstack/glance refs/changes/37/831437/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,80083fd0e9335e9f6f673372b5ba0d286d0d1862,, - grenade-skip-level: irrelevant-files: *tempest-irrelevant-files,,2,0
openstack%2Fglance~master~I05eaaf39c706e8ef43fe06611ea825a145caf015,openstack/glance,master,I05eaaf39c706e8ef43fe06611ea825a145caf015,Remove Babel requirement,MERGED,2022-03-07 20:58:42.000000000,2022-05-05 15:36:09.000000000,2022-05-05 15:32:35.000000000,"[{'_account_id': 4393}, {'_account_id': 9303}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-03-07 20:58:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/fc92fbf0ed248f6389755d8bff056001e3b7e6ea', 'message': 'Remove Babel requirement\n\nBabel is not needed as requirement, remove it.\n\nSee also\nhttp://lists.openstack.org/pipermail/openstack-discuss/2020-April/014227.html\n\nChange-Id: I05eaaf39c706e8ef43fe06611ea825a145caf015\n'}, {'number': 2, 'created': '2022-03-08 01:16:52.000000000', 'files': ['glance/tests/unit/common/test_wsgi.py', 'test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/glance/commit/e46d9d809559902f477901fcbabeb30a528d03ff', 'message': 'Remove Babel requirement\n\nBabel is not needed as requirement, remove it.\n\nSee also\nhttp://lists.openstack.org/pipermail/openstack-discuss/2020-April/014227.html\n\nCommit 36d46bb0b1b0d7b7904c514356c05e99e257d63a removed the\nopenstack.common.gettextutils module, which used the babel package.\nCommit a8fb4e2587c144e404ed117e49715feb345eadab removed the babel.cfg\nfile.\nIt is therefore not needed to mock babel.localedata.locale_identifiers\nin _set_expected_languages.\n\nChange-Id: I05eaaf39c706e8ef43fe06611ea825a145caf015\n'}]",1,832333,e46d9d809559902f477901fcbabeb30a528d03ff,12,3,2,8122,,,0,"Remove Babel requirement

Babel is not needed as requirement, remove it.

See also
http://lists.openstack.org/pipermail/openstack-discuss/2020-April/014227.html

Commit 36d46bb0b1b0d7b7904c514356c05e99e257d63a removed the
openstack.common.gettextutils module, which used the babel package.
Commit a8fb4e2587c144e404ed117e49715feb345eadab removed the babel.cfg
file.
It is therefore not needed to mock babel.localedata.locale_identifiers
in _set_expected_languages.

Change-Id: I05eaaf39c706e8ef43fe06611ea825a145caf015
",git fetch https://review.opendev.org/openstack/glance refs/changes/33/832333/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,fc92fbf0ed248f6389755d8bff056001e3b7e6ea,remove-babel,,"# For translations processing Babel!=2.4.0,>=2.3.4 # BSD ",0,3
openstack%2Fmanila~stable%2Fyoga~I8457c0793d303aa7e95e0402260a788513feba77,openstack/manila,stable/yoga,I8457c0793d303aa7e95e0402260a788513feba77,Drop lower-constraints.txt and its testing,MERGED,2022-05-03 13:32:41.000000000,2022-05-05 15:34:31.000000000,2022-05-05 15:31:14.000000000,"[{'_account_id': 22348}, {'_account_id': 29632}, {'_account_id': 30002}]","[{'number': 1, 'created': '2022-05-03 13:32:41.000000000', 'files': ['requirements.txt', 'lower-constraints.txt', 'zuul.d/project.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/manila/commit/3b9477c425c8ad310facfe98c037a883e111cfab', 'message': 'Drop lower-constraints.txt and its testing\n\nAs discussed in TC PTG[1] and TC resolution[2], we are\ndropping the lower-constraints.txt file and its testing.\nWe will keep lower bounds in the requirements.txt file but\nwith a note that these are not tested lower bounds and we\ntry our best to keep them updated.\n\n[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326\n[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal\n\nChange-Id: I8457c0793d303aa7e95e0402260a788513feba77\n(cherry picked from commit 392894afeea44c22954346e495eccbbdde8c4622)\n'}]",2,840293,3b9477c425c8ad310facfe98c037a883e111cfab,11,3,1,16643,,,0,"Drop lower-constraints.txt and its testing

As discussed in TC PTG[1] and TC resolution[2], we are
dropping the lower-constraints.txt file and its testing.
We will keep lower bounds in the requirements.txt file but
with a note that these are not tested lower bounds and we
try our best to keep them updated.

[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326
[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal

Change-Id: I8457c0793d303aa7e95e0402260a788513feba77
(cherry picked from commit 392894afeea44c22954346e495eccbbdde8c4622)
",git fetch https://review.opendev.org/openstack/manila refs/changes/93/840293/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'lower-constraints.txt', 'zuul.d/project.yaml', 'tox.ini']",4,3b9477c425c8ad310facfe98c037a883e111cfab,drop-l-c,, [testenv:lower-constraints] deps = -c{toxinidir}/lower-constraints.txt -r{toxinidir}/test-requirements.txt -r{toxinidir}/requirements.txt,4,142
openstack%2Fironic-python-agent~master~I9a445e847d282c50adfa4bad5e7136776861005d,openstack/ironic-python-agent,master,I9a445e847d282c50adfa4bad5e7136776861005d,Do not try to guess EFI partition path by its number,MERGED,2022-05-04 13:06:31.000000000,2022-05-05 15:19:15.000000000,2022-05-05 15:17:35.000000000,"[{'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2022-05-04 13:06:31.000000000', 'files': ['ironic_python_agent/tests/unit/test_efi_utils.py', 'ironic_python_agent/efi_utils.py', 'ironic_python_agent/tests/unit/extensions/test_image.py', 'releasenotes/notes/efi-partuuid-5fe933a462eeede1.yaml', 'ironic_python_agent/tests/unit/samples/hardware_samples.py'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/f09f6c9f1a09c7062d0450b3e0a4d3164fd53f7f', 'message': 'Do not try to guess EFI partition path by its number\n\nThe logic of adding a partition number to the device path does not work\nfor devicemapper devices (e.g. a multipath storage device).\n\nChange-Id: I9a445e847d282c50adfa4bad5e7136776861005d\n'}]",0,840453,f09f6c9f1a09c7062d0450b3e0a4d3164fd53f7f,8,3,1,10239,,,0,"Do not try to guess EFI partition path by its number

The logic of adding a partition number to the device path does not work
for devicemapper devices (e.g. a multipath storage device).

Change-Id: I9a445e847d282c50adfa4bad5e7136776861005d
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/53/840453/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_python_agent/tests/unit/test_efi_utils.py', 'ironic_python_agent/efi_utils.py', 'ironic_python_agent/tests/unit/extensions/test_image.py', 'releasenotes/notes/efi-partuuid-5fe933a462eeede1.yaml', 'ironic_python_agent/tests/unit/samples/hardware_samples.py']",5,f09f6c9f1a09c7062d0450b3e0a4d3164fd53f7f,efi-partuuid-master," SGDISK_INFO_TEMPLATE = ("""""" Partition GUID code: C12A7328-F81F-11D2-BA4B-00A0C93EC93B (EFI system partition) Partition unique GUID: FAED7408-6D92-4FC6-883B-9069E2274ECA First sector: 2048 (at 1024.0 KiB) Last sector: 1050623 (at 513.0 MiB) Partition size: 1048576 sectors (512.0 MiB) Attribute flags: 0000000000000000 Partition name: 'EFI System Partition' """""") # noqa",,142,58
openstack%2Fdiskimage-builder~master~I77c35e51a3da2e8a6b5a2c80d033a159b303c9af,openstack/diskimage-builder,master,I77c35e51a3da2e8a6b5a2c80d033a159b303c9af,Set machine-id to uninitialized to trigger first boot,MERGED,2022-04-11 05:12:46.000000000,2022-05-05 15:17:46.000000000,2022-04-28 01:35:54.000000000,"[{'_account_id': 6926}, {'_account_id': 7118}, {'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 24245}, {'_account_id': 28223}]","[{'number': 1, 'created': '2022-04-11 05:12:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/2c485f4f495dd31ca3432e61c19929c1eac361ab', 'message': 'Set machine-id to uninitialized to trigger first boot\n\nAccording to the systemd documentation[1], if /etc/machine-id is empty\nit will be populated with a unique value, but not in a way which\ntriggers an actual first boot event (running units with\nConditionFirstBoot=yes set)\n\nThis change writes ""uninitialized"" to /etc/machine-id to ensure that\nsystemd-firstboot.service actually runs, and other units can use\nfirst-boot-complete.target as a dependency to trigger on first boot.\n\nSince /var/lib/dbus/machine-id is sometimes a symlink to\n/etc/machine-id, it is truncated before writing to /etc/machine-id.\n\n[1] https://www.freedesktop.org/software/systemd/man/machine-id.html\n\nChange-Id: I77c35e51a3da2e8a6b5a2c80d033a159b303c9af\n'}, {'number': 2, 'created': '2022-04-20 21:41:27.000000000', 'files': ['diskimage_builder/elements/sysprep/finalise.d/99-clear-machine-id'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/147641fc3e11602cf9eaf723a2b38f60f394ac0b', 'message': 'Set machine-id to uninitialized to trigger first boot\n\nAccording to the systemd documentation[1], if /etc/machine-id is empty\nit will be populated with a unique value, but not in a way which\ntriggers an actual first boot event (running units with\nConditionFirstBoot=yes set)\n\nThis change writes ""uninitialized"" to /etc/machine-id to ensure that\nsystemd-firstboot.service actually runs, and other units can use\nfirst-boot-complete.target as a dependency to trigger on first boot.\n\nSince /var/lib/dbus/machine-id is sometimes a symlink to\n/etc/machine-id, it is truncated before writing to /etc/machine-id.\n\nOn older versions of systemd before first boot semantics were\nformalised, any non-uuid value will trigger a new machine-id to be\ngenerated, so ""uninitialized"" also works.\n\n[1] https://www.freedesktop.org/software/systemd/man/machine-id.html#First%20Boot%20Semantics\n\nChange-Id: I77c35e51a3da2e8a6b5a2c80d033a159b303c9af\n'}]",16,837251,147641fc3e11602cf9eaf723a2b38f60f394ac0b,38,6,2,4571,,,0,"Set machine-id to uninitialized to trigger first boot

According to the systemd documentation[1], if /etc/machine-id is empty
it will be populated with a unique value, but not in a way which
triggers an actual first boot event (running units with
ConditionFirstBoot=yes set)

This change writes ""uninitialized"" to /etc/machine-id to ensure that
systemd-firstboot.service actually runs, and other units can use
first-boot-complete.target as a dependency to trigger on first boot.

Since /var/lib/dbus/machine-id is sometimes a symlink to
/etc/machine-id, it is truncated before writing to /etc/machine-id.

On older versions of systemd before first boot semantics were
formalised, any non-uuid value will trigger a new machine-id to be
generated, so ""uninitialized"" also works.

[1] https://www.freedesktop.org/software/systemd/man/machine-id.html#First%20Boot%20Semantics

Change-Id: I77c35e51a3da2e8a6b5a2c80d033a159b303c9af
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/51/837251/2 && git format-patch -1 --stdout FETCH_HEAD,['diskimage_builder/elements/sysprep/finalise.d/99-clear-machine-id'],1,2c485f4f495dd31ca3432e61c19929c1eac361ab,first-boot, if [ -e /etc/machine-id ]; then echo uninitialized > /etc/machine-id fi ,if [ -e /etc/machine-id ]; then > /etc/machine-id fi ,5,4
openstack%2Fglance_store~stable%2Fussuri~Icecac80dd9e4e9f7ffa76bb7ca63d8d112036b70,openstack/glance_store,stable/ussuri,Icecac80dd9e4e9f7ffa76bb7ca63d8d112036b70,s3: Optimize WRITE_CHUNKSIZE to minimize an overhead,ABANDONED,2021-07-10 07:53:01.000000000,2022-05-05 15:06:39.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-07-10 07:53:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance_store/commit/bdc08fec41df25e62f75105d32b151d73e66fe9a', 'message': ""s3: Optimize WRITE_CHUNKSIZE to minimize an overhead\n\nWhen processing the image data from a client, the previous and small\nchunk size had a significant overhead. Let's be aligned with other chunk\nsize related parameters such as DEFAULT_LARGE_OBJECT_MIN_CHUNK_SIZE\n(=5MiB) and DEFAULT_LARGE_OBJECT_CHUNK_SIZE (=10MiB).\n\nThe performance difference should be tangible especially with a\nsinglepart upload. And the upload time can be shortened for example as\nfollows:\n\n100 MiB:   36.5s -> 4.0s\n200 MiB: 2m16.8s -> 6.1s\n300 MiB: 4m50.4s -> 9.1s\n\nCloses-Bug: 1934849\nChange-Id: Icecac80dd9e4e9f7ffa76bb7ca63d8d112036b70\n(cherry picked from commit 32f9a1509bc94baa6acaf508c922f3b7edf5b65f)\n""}, {'number': 2, 'created': '2021-07-10 14:45:27.000000000', 'files': ['glance_store/_drivers/s3.py', 'glance_store/tests/unit/test_s3_store.py', 'glance_store/tests/unit/test_multistore_s3.py'], 'web_link': 'https://opendev.org/openstack/glance_store/commit/7aa74890456d3609687fbb6a1b635045ceb4e102', 'message': ""s3: Optimize WRITE_CHUNKSIZE to minimize an overhead\n\nWhen processing the image data from a client, the previous and small\nchunk size had a significant overhead. Let's be aligned with other chunk\nsize related parameters such as DEFAULT_LARGE_OBJECT_MIN_CHUNK_SIZE\n(=5MiB) and DEFAULT_LARGE_OBJECT_CHUNK_SIZE (=10MiB).\n\nThe performance difference should be tangible especially with a\nsinglepart upload. And the upload time can be shortened for example as\nfollows:\n\n100 MiB:   36.5s -> 4.0s\n200 MiB: 2m16.8s -> 6.1s\n300 MiB: 4m50.4s -> 9.1s\n\nCloses-Bug: 1934849\nChange-Id: Icecac80dd9e4e9f7ffa76bb7ca63d8d112036b70\n(cherry picked from commit 32f9a1509bc94baa6acaf508c922f3b7edf5b65f)\n""}]",2,800185,7aa74890456d3609687fbb6a1b635045ceb4e102,5,1,2,8108,,,0,"s3: Optimize WRITE_CHUNKSIZE to minimize an overhead

When processing the image data from a client, the previous and small
chunk size had a significant overhead. Let's be aligned with other chunk
size related parameters such as DEFAULT_LARGE_OBJECT_MIN_CHUNK_SIZE
(=5MiB) and DEFAULT_LARGE_OBJECT_CHUNK_SIZE (=10MiB).

The performance difference should be tangible especially with a
singlepart upload. And the upload time can be shortened for example as
follows:

100 MiB:   36.5s -> 4.0s
200 MiB: 2m16.8s -> 6.1s
300 MiB: 4m50.4s -> 9.1s

Closes-Bug: 1934849
Change-Id: Icecac80dd9e4e9f7ffa76bb7ca63d8d112036b70
(cherry picked from commit 32f9a1509bc94baa6acaf508c922f3b7edf5b65f)
",git fetch https://review.opendev.org/openstack/glance_store refs/changes/85/800185/1 && git format-patch -1 --stdout FETCH_HEAD,"['glance_store/_drivers/s3.py', 'glance_store/tests/unit/test_s3_store.py', 'glance_store/tests/unit/test_multistore_s3.py']",3,bdc08fec41df25e62f75105d32b151d73e66fe9a,bug/1934849," 's3_store_large_object_size': 9, # over 9MB is large s3_store_large_object_size=S3_CONF[ 's3_store_large_object_size' ], s3_store_large_object_size=S3_CONF[ 's3_store_large_object_size' ], # 5KiB is smaller than WRITE_CHUNKSIZE def test_add_singlepart_bigger_than_write_chunk(self, mock_client): """"""Test that we can add an image via the s3 backend."""""" expected_image_id = str(uuid.uuid4()) # 8 MiB is bigger than WRITE_CHUNKSIZE(=5MiB), # but smaller than s3_store_large_object_size expected_s3_size = 8 * units.Mi expected_s3_contents = b""*"" * expected_s3_size expected_checksum = md5(expected_s3_contents, usedforsecurity=False).hexdigest() expected_multihash = hashlib.sha256(expected_s3_contents).hexdigest() expected_location = format_s3_location( S3_CONF['s3_store_access_key'], S3_CONF['s3_store_secret_key'], S3_CONF['s3_store_host'], S3_CONF['s3_store_bucket'], expected_image_id) image_s3 = six.BytesIO(expected_s3_contents) fake_s3_client = botocore.session.get_session().create_client('s3') with stub.Stubber(fake_s3_client) as stubber: stubber.add_response(method='head_bucket', service_response={}, expected_params={ 'Bucket': S3_CONF['s3_store_bucket'] }) stubber.add_client_error(method='head_object', service_error_code='404', service_message='', expected_params={ 'Bucket': S3_CONF['s3_store_bucket'], 'Key': expected_image_id }) stubber.add_response(method='put_object', service_response={}, expected_params={ 'Bucket': S3_CONF['s3_store_bucket'], 'Key': expected_image_id, 'Body': botocore.stub.ANY }) mock_client.return_value = fake_s3_client loc, size, checksum, multihash, metadata = \ self.store.add(expected_image_id, image_s3, expected_s3_size, self.hash_algo) self.assertEqual(""s3_region1"", metadata[""store""]) self.assertEqual(expected_location, loc) self.assertEqual(expected_s3_size, size) self.assertEqual(expected_checksum, checksum) self.assertEqual(expected_multihash, multihash) @mock.patch.object(boto3.session.Session, ""client"")"," 's3_store_large_object_size': 5, # over 5MB is large s3_store_large_object_size=5, s3_store_large_object_size=5,",116,5
openstack%2Fglance_store~stable%2Fwallaby~Icecac80dd9e4e9f7ffa76bb7ca63d8d112036b70,openstack/glance_store,stable/wallaby,Icecac80dd9e4e9f7ffa76bb7ca63d8d112036b70,s3: Optimize WRITE_CHUNKSIZE to minimize an overhead,ABANDONED,2021-07-10 07:51:40.000000000,2022-05-05 15:06:20.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-07-10 07:51:40.000000000', 'files': ['glance_store/_drivers/s3.py', 'glance_store/tests/unit/test_s3_store.py', 'glance_store/tests/unit/test_multistore_s3.py'], 'web_link': 'https://opendev.org/openstack/glance_store/commit/eb03f56094419e1b89e52a790e003a08277fa527', 'message': ""s3: Optimize WRITE_CHUNKSIZE to minimize an overhead\n\nWhen processing the image data from a client, the previous and small\nchunk size had a significant overhead. Let's be aligned with other chunk\nsize related parameters such as DEFAULT_LARGE_OBJECT_MIN_CHUNK_SIZE\n(=5MiB) and DEFAULT_LARGE_OBJECT_CHUNK_SIZE (=10MiB).\n\nThe performance difference should be tangible especially with a\nsinglepart upload. And the upload time can be shortened for example as\nfollows:\n\n100 MiB:   36.5s -> 4.0s\n200 MiB: 2m16.8s -> 6.1s\n300 MiB: 4m50.4s -> 9.1s\n\nCloses-Bug: 1934849\nChange-Id: Icecac80dd9e4e9f7ffa76bb7ca63d8d112036b70\n(cherry picked from commit 32f9a1509bc94baa6acaf508c922f3b7edf5b65f)\n""}]",0,800183,eb03f56094419e1b89e52a790e003a08277fa527,3,1,1,8108,,,0,"s3: Optimize WRITE_CHUNKSIZE to minimize an overhead

When processing the image data from a client, the previous and small
chunk size had a significant overhead. Let's be aligned with other chunk
size related parameters such as DEFAULT_LARGE_OBJECT_MIN_CHUNK_SIZE
(=5MiB) and DEFAULT_LARGE_OBJECT_CHUNK_SIZE (=10MiB).

The performance difference should be tangible especially with a
singlepart upload. And the upload time can be shortened for example as
follows:

100 MiB:   36.5s -> 4.0s
200 MiB: 2m16.8s -> 6.1s
300 MiB: 4m50.4s -> 9.1s

Closes-Bug: 1934849
Change-Id: Icecac80dd9e4e9f7ffa76bb7ca63d8d112036b70
(cherry picked from commit 32f9a1509bc94baa6acaf508c922f3b7edf5b65f)
",git fetch https://review.opendev.org/openstack/glance_store refs/changes/83/800183/1 && git format-patch -1 --stdout FETCH_HEAD,"['glance_store/_drivers/s3.py', 'glance_store/tests/unit/test_s3_store.py', 'glance_store/tests/unit/test_multistore_s3.py']",3,eb03f56094419e1b89e52a790e003a08277fa527,bug/1934849-stable/wallaby," 's3_store_large_object_size': 9, # over 9MB is large s3_store_large_object_size=S3_CONF[ 's3_store_large_object_size' ], s3_store_large_object_size=S3_CONF[ 's3_store_large_object_size' ], # 5KiB is smaller than WRITE_CHUNKSIZE def test_add_singlepart_bigger_than_write_chunk(self, mock_client): """"""Test that we can add an image via the s3 backend."""""" expected_image_id = str(uuid.uuid4()) # 8 MiB is bigger than WRITE_CHUNKSIZE(=5MiB), # but smaller than s3_store_large_object_size expected_s3_size = 8 * units.Mi expected_s3_contents = b""*"" * expected_s3_size expected_checksum = md5(expected_s3_contents, usedforsecurity=False).hexdigest() expected_multihash = hashlib.sha256(expected_s3_contents).hexdigest() expected_location = format_s3_location( S3_CONF['s3_store_access_key'], S3_CONF['s3_store_secret_key'], S3_CONF['s3_store_host'], S3_CONF['s3_store_bucket'], expected_image_id) image_s3 = six.BytesIO(expected_s3_contents) fake_s3_client = botocore.session.get_session().create_client('s3') with stub.Stubber(fake_s3_client) as stubber: stubber.add_response(method='head_bucket', service_response={}, expected_params={ 'Bucket': S3_CONF['s3_store_bucket'] }) stubber.add_client_error(method='head_object', service_error_code='404', service_message='', expected_params={ 'Bucket': S3_CONF['s3_store_bucket'], 'Key': expected_image_id }) stubber.add_response(method='put_object', service_response={}, expected_params={ 'Bucket': S3_CONF['s3_store_bucket'], 'Key': expected_image_id, 'Body': botocore.stub.ANY }) mock_client.return_value = fake_s3_client loc, size, checksum, multihash, metadata = \ self.store.add(expected_image_id, image_s3, expected_s3_size, self.hash_algo) self.assertEqual(""s3_region1"", metadata[""store""]) self.assertEqual(expected_location, loc) self.assertEqual(expected_s3_size, size) self.assertEqual(expected_checksum, checksum) self.assertEqual(expected_multihash, multihash) @mock.patch.object(boto3.session.Session, ""client"")"," 's3_store_large_object_size': 5, # over 5MB is large s3_store_large_object_size=5, s3_store_large_object_size=5,",116,5
openstack%2Ftripleo-ansible~stable%2Fwallaby~I5152e9984d8170480f665da0493d85475b6bbcc9,openstack/tripleo-ansible,stable/wallaby,I5152e9984d8170480f665da0493d85475b6bbcc9,Run all validations in check mode,MERGED,2022-05-05 05:12:17.000000000,2022-05-05 15:04:59.000000000,2022-05-05 15:04:59.000000000,"[{'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2022-05-05 05:12:17.000000000', 'files': ['tripleo_ansible/roles/tripleo_nodes_validation/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/5de3f03881d0b5eda62c58d468357f8fb8375efe', 'message': 'Run all validations in check mode\n\nBy default command and shell modules are skipped in check mode.\nHowever, the loop vars are checked which results in issue on\nsome ansible versions. We should be running all validations in\ncheck mode.\n\nChange-Id: I5152e9984d8170480f665da0493d85475b6bbcc9\nResolves: rhbz#2081361\n(cherry picked from commit d3de75eb80595b38045d75ddbc8306418a290e4c)\n'}]",0,840476,5de3f03881d0b5eda62c58d468357f8fb8375efe,7,3,1,8833,,,0,"Run all validations in check mode

By default command and shell modules are skipped in check mode.
However, the loop vars are checked which results in issue on
some ansible versions. We should be running all validations in
check mode.

Change-Id: I5152e9984d8170480f665da0493d85475b6bbcc9
Resolves: rhbz#2081361
(cherry picked from commit d3de75eb80595b38045d75ddbc8306418a290e4c)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/76/840476/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo_nodes_validation/tasks/main.yml'],1,5de3f03881d0b5eda62c58d468357f8fb8375efe,, check_mode: false check_mode: false include_tasks: file: ping.yml apply: check_mode: false check_mode: false, include_tasks: ping.yml,7,1
openstack%2Ftripleo-ansible~stable%2Fwallaby~I7e8d0a2a1e4a00fcd6cb736919fe0da8f432023c,openstack/tripleo-ansible,stable/wallaby,I7e8d0a2a1e4a00fcd6cb736919fe0da8f432023c,Elevate privileges when deleting stack dir,MERGED,2022-05-02 05:00:42.000000000,2022-05-05 15:04:56.000000000,2022-05-05 15:04:56.000000000,"[{'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2022-05-02 05:00:42.000000000', 'files': ['tripleo_ansible/playbooks/cli-overcloud-delete.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/e43407eaebf1eebcb56e270be7a9beab0fd842c5', 'message': 'Elevate privileges when deleting stack dir\n\nOctavia creates a bunch of files/folders with elevated\nprivileges in external_post_deploy step. Though we should\nensure the ownership permissions appropriately, it does\nnot hurt to force delete those with elevated privileges.\n\nChange-Id: I7e8d0a2a1e4a00fcd6cb736919fe0da8f432023c\n(cherry picked from commit b219db1fae2c1ba6a7c25c5b5285a5f9bd9b836c)\n'}]",0,839923,e43407eaebf1eebcb56e270be7a9beab0fd842c5,7,3,1,8833,,,0,"Elevate privileges when deleting stack dir

Octavia creates a bunch of files/folders with elevated
privileges in external_post_deploy step. Though we should
ensure the ownership permissions appropriately, it does
not hurt to force delete those with elevated privileges.

Change-Id: I7e8d0a2a1e4a00fcd6cb736919fe0da8f432023c
(cherry picked from commit b219db1fae2c1ba6a7c25c5b5285a5f9bd9b836c)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/23/839923/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/playbooks/cli-overcloud-delete.yaml'],1,e43407eaebf1eebcb56e270be7a9beab0fd842c5,, become: true,,1,0
openstack%2Foctavia~master~I0f4c59a2928f2a813171109aaf73a1d7dff9eefe,openstack/octavia,master,I0f4c59a2928f2a813171109aaf73a1d7dff9eefe,Reject invalid whitespace in HM url_path value,MERGED,2022-03-22 09:34:51.000000000,2022-05-05 15:00:43.000000000,2022-05-05 14:59:07.000000000,"[{'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 29244}]","[{'number': 1, 'created': '2022-03-22 09:34:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/a678edc0bdf75884c6d3420a37854ae4580ea8cc', 'message': 'Reject invalid whitespace in HM url_path value\n\nPlain whitespace characters in url_path must be rejected because\nthey may allow injection of arbitrary HAProxy directives in the\nconfiguration of amphorae. This prevents a remote code execution\nvulnerability.\n\nStory: 2008994\nTask: 42656\nChange-Id: I0f4c59a2928f2a813171109aaf73a1d7dff9eefe\n'}, {'number': 2, 'created': '2022-03-30 09:33:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/1a9b2c71500335a09ecbfaff9b27c5f9ced2543c', 'message': 'Reject invalid whitespace in HM url_path value\n\nPlain whitespace characters in url_path must be rejected because\nthey may allow authorized users to inject arbitrary HAProxy\ndirectives in the configuration of amphorae.\n\nStory: 2008994\nTask: 42656\nChange-Id: I0f4c59a2928f2a813171109aaf73a1d7dff9eefe\n'}, {'number': 3, 'created': '2022-03-30 09:42:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/ed876582731f96b320ae6ce6b3fdd5a0465de4c8', 'message': 'Reject invalid whitespace in HM url_path value\n\nPlain whitespace characters in url_path must be rejected because\nthey may allow authorized users to inject arbitrary HAProxy\ndirectives in the configuration of amphorae.\n\nStory: 2008994\nTask: 42656\nChange-Id: I0f4c59a2928f2a813171109aaf73a1d7dff9eefe\n'}, {'number': 4, 'created': '2022-04-08 13:00:25.000000000', 'files': ['octavia/tests/unit/common/test_validate.py', 'releasenotes/notes/validate-url_path-value-in-requests-3eb3adedcd696433.yaml', 'octavia/common/validate.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/251fab17b51f99f1f0c1cce4985693993d8fb957', 'message': 'Reject invalid whitespace in HM url_path value\n\nPlain whitespace characters in url_path must be rejected because\nthey may allow authorized users to inject arbitrary HAProxy\ndirectives in the configuration of amphorae.\n\nStory: 2008994\nTask: 42656\nChange-Id: I0f4c59a2928f2a813171109aaf73a1d7dff9eefe\n'}]",5,834636,251fab17b51f99f1f0c1cce4985693993d8fb957,15,3,4,34429,,,0,"Reject invalid whitespace in HM url_path value

Plain whitespace characters in url_path must be rejected because
they may allow authorized users to inject arbitrary HAProxy
directives in the configuration of amphorae.

Story: 2008994
Task: 42656
Change-Id: I0f4c59a2928f2a813171109aaf73a1d7dff9eefe
",git fetch https://review.opendev.org/openstack/octavia refs/changes/36/834636/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/fix-remote-code-execution-on-amphora-3eb3adedcd696433.yaml', 'octavia/tests/unit/common/test_validate.py', 'octavia/common/validate.py']",3,a678edc0bdf75884c6d3420a37854ae4580ea8cc,agent-remote-execution," re.search(r""\s"", url_path) or",,17,0
openstack%2Fcinder~stable%2Fussuri~I216a82a29c7fb6b1b2fac95b2a1af667c4e2b22d,openstack/cinder,stable/ussuri,I216a82a29c7fb6b1b2fac95b2a1af667c4e2b22d,Handle the case when tempest fails,MERGED,2022-05-03 20:16:10.000000000,2022-05-05 14:59:21.000000000,2022-05-05 14:43:17.000000000,"[{'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-03 20:16:10.000000000', 'files': ['playbooks/tempest-and-cinderlib-run.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/098775ca2a03d9a31747d7966edfdd8ae50ef0b3', 'message': 'Handle the case when tempest fails\n\nBefore this change, the errors from tempest run are suppressed\nin order to always execute cinderlib tests.\n\nUse the variable exported by run-tempest instead,\nand fail properly if needed.\n\nThis is a port of Ic1fd6fcc9b9183f195c66f0022e913ae9734c97b\nfrom cinder-tempest-plugin.git to this repository.\n\nChange-Id: I216a82a29c7fb6b1b2fac95b2a1af667c4e2b22d\n(cherry picked from commit 7e04b5b0d4c91df7601e8e7f36d49fb6d651ea2b)\n(cherry picked from commit 391f7c7f9bd395b1dafdd4fcc4c118fbe4dd0f77)\n(cherry picked from commit 6fb0d93b3c968ac86ac7910d46b9311ae905a67d)\n(cherry picked from commit c29a6d087e3277d71e4659c704acecfa88ad9949)\n(cherry picked from commit 070a0effbca23aa2410982e4df279abfc8a5d65f)\n'}]",4,840378,098775ca2a03d9a31747d7966edfdd8ae50ef0b3,24,3,1,10459,,,0,"Handle the case when tempest fails

Before this change, the errors from tempest run are suppressed
in order to always execute cinderlib tests.

Use the variable exported by run-tempest instead,
and fail properly if needed.

This is a port of Ic1fd6fcc9b9183f195c66f0022e913ae9734c97b
from cinder-tempest-plugin.git to this repository.

Change-Id: I216a82a29c7fb6b1b2fac95b2a1af667c4e2b22d
(cherry picked from commit 7e04b5b0d4c91df7601e8e7f36d49fb6d651ea2b)
(cherry picked from commit 391f7c7f9bd395b1dafdd4fcc4c118fbe4dd0f77)
(cherry picked from commit 6fb0d93b3c968ac86ac7910d46b9311ae905a67d)
(cherry picked from commit c29a6d087e3277d71e4659c704acecfa88ad9949)
(cherry picked from commit 070a0effbca23aa2410982e4df279abfc8a5d65f)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/78/840378/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/tempest-and-cinderlib-run.yaml'],1,098775ca2a03d9a31747d7966edfdd8ae50ef0b3,fix-reporting," # ignore the errors here (but consider them later), so that run-cinderlib-tests is always executed post_tasks: - name: Fail if the first tempest run did not work fail: msg: ""tempest run returned with an error"" when: tempest_run_result is defined and tempest_run_result.rc != 0"," # ignore the errors, so that run-cinderlib-tests is always executed",6,1
openstack%2Fironic~master~Ia833bfb64c6c3cc8e48cbe34ed200536652a8adf,openstack/ironic,master,Ia833bfb64c6c3cc8e48cbe34ed200536652a8adf,Fix v6 CI job - Return it to normal non-voting status,MERGED,2022-04-22 16:58:18.000000000,2022-05-05 14:49:32.000000000,2022-05-05 14:46:27.000000000,"[{'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 24245}]","[{'number': 1, 'created': '2022-04-22 16:58:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/2257fcf9cd418a8c4787878d2b63fb7522402662', 'message': 'DNM: v6/grenade multinode jobs\n\nChange-Id: Ia833bfb64c6c3cc8e48cbe34ed200536652a8adf\n'}, {'number': 2, 'created': '2022-04-22 19:47:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/4ec6a057b5932ca02e6adfc2d7b4a77ee1917717', 'message': 'DNM: v6/grenade multinode jobs\n\nChange-Id: Ia833bfb64c6c3cc8e48cbe34ed200536652a8adf\n'}, {'number': 3, 'created': '2022-04-25 15:52:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/f7d3756465858c1d0d2271454d94d237b16ddd44', 'message': 'DNM: v6/grenade multinode jobs\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/839230\nChange-Id: Ia833bfb64c6c3cc8e48cbe34ed200536652a8adf\n'}, {'number': 4, 'created': '2022-04-25 15:59:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/929a7cf8bc5839bcef91159cf257e0750e65a176', 'message': 'DNM: v6/grenade multinode jobs\n\n* Fixes the IPv6 job by utilizing HOST_IPV6 instead of\n  SERVICE_IPV6, as Devstack now automatically wraps\n  SERVICE_IPV6 with brackets as if it is for a URL.\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/839230\nChange-Id: Ia833bfb64c6c3cc8e48cbe34ed200536652a8adf\n'}, {'number': 5, 'created': '2022-04-25 19:06:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/e3e07f92af55c960007f871dcf372191b699b4c3', 'message': 'DNM: v6/grenade multinode jobs\n\n* Fixes the IPv6 job by utilizing HOST_IPV6 instead of\n  SERVICE_IPV6, as Devstack now automatically wraps\n  SERVICE_IPV6 with brackets as if it is for a URL.\n* Set the multitenant job to be more specific on execution\n  of tests, as there was operationally no difference in\n  the community CI.\n* Locks the multinode multitenant and ipv6 jobs to bios mode.\n  Specifically because multinode jobs need more ram, and UEFI\n  is very RAM heavy... and Ubuntu Focal OVMF/EDK2 does not\n  IPv6 PXE boot by default.\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/839230\nChange-Id: Ia833bfb64c6c3cc8e48cbe34ed200536652a8adf\n'}, {'number': 6, 'created': '2022-04-25 19:44:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/244f34a77c6d9df5988649fe7e4c9686d4ead09b', 'message': 'DNM: v6/grenade multinode jobs\n\n* Fixes the IPv6 job by utilizing HOST_IPV6 instead of\n  SERVICE_IPV6, as Devstack now automatically wraps\n  SERVICE_IPV6 with brackets as if it is for a URL.\n* Set the multitenant job to be more specific on execution\n  of tests, as there was operationally no difference in\n  the community CI.\n* Locks the multinode multitenant and ipv6 jobs to bios mode.\n  Specifically because multinode jobs need more ram, and UEFI\n  is very RAM heavy... and Ubuntu Focal OVMF/EDK2 does not\n  IPv6 PXE boot by default.\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/839230\nChange-Id: Ia833bfb64c6c3cc8e48cbe34ed200536652a8adf\n'}, {'number': 7, 'created': '2022-04-26 14:14:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/cddd6b3e39f4cca8fdf2343303f337a59f679ece', 'message': 'DNM: v6/grenade multinode jobs\n\n* Fixes the IPv6 job by utilizing HOST_IPV6 instead of\n  SERVICE_IPV6, as Devstack now automatically wraps\n  SERVICE_IPV6 with brackets as if it is for a URL.\n* Set the multitenant job to be more specific on execution\n  of tests, as there was operationally no difference in\n  the community CI.\n* Locks the multinode multitenant and ipv6 jobs to bios mode.\n  Specifically because multinode jobs need more ram, and UEFI\n  is very RAM heavy... and Ubuntu Focal OVMF/EDK2 does not\n  IPv6 PXE boot by default.\n* Explicitly sets vxlan tunnel interfaces to be bridges and\n  starts them, which allows OVS to bind to them, and should\n  allow the vxlan tunnel to turn on then.\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/839230\nChange-Id: Ia833bfb64c6c3cc8e48cbe34ed200536652a8adf\n'}, {'number': 8, 'created': '2022-04-26 18:17:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/aa10241cc68d4c07369eb3e24433aaba3054896a', 'message': 'DNM: v6/grenade multinode jobs\n\n* Fixes the IPv6 job by utilizing HOST_IPV6 instead of\n  SERVICE_IPV6, as Devstack now automatically wraps\n  SERVICE_IPV6 with brackets as if it is for a URL.\n* Set the multitenant job to be more specific on execution\n  of tests, as there was operationally no difference in\n  the community CI.\n* Locks the multinode multitenant and ipv6 jobs to bios mode.\n  Specifically because multinode jobs need more ram, and UEFI\n  is very RAM heavy... and Ubuntu Focal OVMF/EDK2 does not\n  IPv6 PXE boot by default.\n* Split from Devstack in terms of IP usage, since full explicit\n  V6 usage is not a thing anymore. 4+6 is the default in devstack\n  and regardless of what we set on the job we see both now used.\n  So we delineate apart our usage for our own sanity.\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/839230\nChange-Id: Ia833bfb64c6c3cc8e48cbe34ed200536652a8adf\n'}, {'number': 9, 'created': '2022-04-27 16:18:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/89065763fba948970c7517b43261c26fff846ca0', 'message': 'DNM: v6/grenade multinode jobs\n\n* Fixes the IPv6 job by utilizing HOST_IPV6 instead of\n  SERVICE_IPV6, as Devstack now automatically wraps\n  SERVICE_IPV6 with brackets as if it is for a URL.\n* Set the multitenant job to be more specific on execution\n  of tests, as there was operationally no difference in\n  the community CI.\n* Locks the multinode multitenant and ipv6 jobs to bios mode.\n  Specifically because multinode jobs need more ram, and UEFI\n  is very RAM heavy... and Ubuntu Focal OVMF/EDK2 does not\n  IPv6 PXE boot by default.\n* Split from Devstack in terms of IP usage, since full explicit\n  V6 usage is not a thing anymore. 4+6 is the default in devstack\n  and regardless of what we set on the job we see both now used.\n  So we delineate apart our usage for our own sanity.\n* Reduce VM Interface count for IPv6 in an attempt to eliminate\n  in-kernel routing confusion by two interfaces on the same physical\n  network.\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/839230\nChange-Id: Ia833bfb64c6c3cc8e48cbe34ed200536652a8adf\n'}, {'number': 10, 'created': '2022-04-27 22:25:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/3b9f003328b5d1c6a196b15c260218b14b083b95', 'message': 'DNM: v6/grenade multinode jobs\n\n* Fixes the IPv6 job by utilizing HOST_IPV6 instead of\n  SERVICE_IPV6, as Devstack now automatically wraps\n  SERVICE_IPV6 with brackets as if it is for a URL.\n* Set the multitenant job to be more specific on execution\n  of tests, as there was operationally no difference in\n  the community CI.\n* Locks the multinode multitenant and ipv6 jobs to bios mode.\n  Specifically because multinode jobs need more ram, and UEFI\n  is very RAM heavy... and Ubuntu Focal OVMF/EDK2 does not\n  IPv6 PXE boot by default.\n* Split from Devstack in terms of IP usage, since full explicit\n  V6 usage is not a thing anymore. 4+6 is the default in devstack\n  and regardless of what we set on the job we see both now used.\n  So we delineate apart our usage for our own sanity.\n* Reduce VM Interface count for IPv6 in an attempt to eliminate\n  in-kernel routing confusion by two interfaces on the same physical\n  network.\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/839230\nChange-Id: Ia833bfb64c6c3cc8e48cbe34ed200536652a8adf\nDepends-On: https://review.opendev.org/c/openstack/networking-generic-switch/+/839645\n'}, {'number': 11, 'created': '2022-04-27 22:34:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/1dec7d2ecce21349a19d73fb1665e3cf5e9ed044', 'message': 'DNM: v6/grenade multinode jobs\n\n* Fixes the IPv6 job by utilizing HOST_IPV6 instead of\n  SERVICE_IPV6, as Devstack now automatically wraps\n  SERVICE_IPV6 with brackets as if it is for a URL.\n* Set the multitenant job to be more specific on execution\n  of tests, as there was operationally no difference in\n  the community CI.\n* Locks the multinode multitenant and ipv6 jobs to bios mode.\n  Specifically because multinode jobs need more ram, and UEFI\n  is very RAM heavy... and Ubuntu Focal OVMF/EDK2 does not\n  IPv6 PXE boot by default.\n* Split from Devstack in terms of IP usage, since full explicit\n  V6 usage is not a thing anymore. 4+6 is the default in devstack\n  and regardless of what we set on the job we see both now used.\n  So we delineate apart our usage for our own sanity.\n* Reduce VM Interface count for IPv6 in an attempt to eliminate\n  in-kernel routing confusion by two interfaces on the same physical\n  network.\n* Set IPv6 mode to dhcpv6-stateless due to fun issues in dhcp clients.\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/839230\nChange-Id: Ia833bfb64c6c3cc8e48cbe34ed200536652a8adf\nDepends-On: https://review.opendev.org/c/openstack/networking-generic-switch/+/839645\n'}, {'number': 12, 'created': '2022-04-29 15:27:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/67b8f05972a4c663cacdc5b8a0d47faaac7f6858', 'message': 'DNM: v6/grenade multinode jobs\n\n* Fixes the IPv6 job by utilizing HOST_IPV6 instead of\n  SERVICE_IPV6, as Devstack now automatically wraps\n  SERVICE_IPV6 with brackets as if it is for a URL.\n* Set the multitenant job to be more specific on execution\n  of tests, as there was operationally no difference in\n  the community CI.\n* Locks the multinode multitenant and ipv6 jobs to bios mode.\n  Specifically because multinode jobs need more ram, and UEFI\n  is very RAM heavy... and Ubuntu Focal OVMF/EDK2 does not\n  IPv6 PXE boot by default.\n* Split from Devstack in terms of IP usage, since full explicit\n  V6 usage is not a thing anymore. 4+6 is the default in devstack\n  and regardless of what we set on the job we see both now used.\n  So we delineate apart our usage for our own sanity.\n* Reduce VM Interface count for IPv6 in an attempt to eliminate\n  in-kernel routing confusion by two interfaces on the same physical\n  network.\n* Set IPv6 mode to dhcpv6-stateless due to fun issues in dhcp clients.\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/839230\nChange-Id: Ia833bfb64c6c3cc8e48cbe34ed200536652a8adf\n'}, {'number': 13, 'created': '2022-04-29 19:36:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/5cb4adfcea96eafe71ee2cfe1f6c47aa0d6a4287', 'message': 'DNM: v6/grenade multinode jobs\n\n* Fixes the IPv6 job by utilizing HOST_IPV6 instead of\n  SERVICE_IPV6, as Devstack now automatically wraps\n  SERVICE_IPV6 with brackets as if it is for a URL.\n* Set the multitenant job to be more specific on execution\n  of tests, as there was operationally no difference in\n  the community CI.\n* Locks the multinode multitenant and ipv6 jobs to bios mode.\n  Specifically because multinode jobs need more ram, and UEFI\n  is very RAM heavy... and Ubuntu Focal OVMF/EDK2 does not\n  IPv6 PXE boot by default.\n* Split from Devstack in terms of IP usage, since full explicit\n  V6 usage is not a thing anymore. 4+6 is the default in devstack\n  and regardless of what we set on the job we see both now used.\n  So we delineate apart our usage for our own sanity.\n* Reduce VM Interface count for IPv6 in an attempt to eliminate\n  in-kernel routing confusion by two interfaces on the same physical\n  network.\n* Set IPv6 mode to dhcpv6-stateless due to fun issues in dhcp clients.\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/839230\nDepends-On: https://review.opendev.org/c/openstack/networking-generic-switch/+/839919\nChange-Id: Ia833bfb64c6c3cc8e48cbe34ed200536652a8adf\n'}, {'number': 14, 'created': '2022-05-04 18:30:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/7f9a0a6bc8e58c1de761dbfa98a265bb0f2fa1f2', 'message': 'Fix v6 CI job - Return it to normal non-voting status\n\n* Fixes the IPv6 job by utilizing HOST_IPV6 instead of\n  SERVICE_IPV6, as Devstack now automatically wraps\n  SERVICE_IPV6 with brackets as if it is for a URL.\n* Locks ipv6 job to bios mode. Ubuntu Focal OVMF/EDK2 does not\n  support IPv6 PXE boot by default.\n* Split from Devstack in terms of IP usage, since full explicit\n  V6 usage is not a thing anymore. 4+6 is the default in devstack\n  and regardless of what we set on the job we see both now used.\n  So we delineate apart our usage for our own sanity.\n* Reduce VM Interface count for IPv6 in an attempt to eliminate\n  in-kernel routing confusion by two interfaces on the same physical\n  network.\n* Set IPv6 mode to dhcpv6-stateless due to fun issues in dhcp clients.\n  When we move to UEFI, this will need to be changed to stateful as\n  stateless is not supported in general by OVMF/E2DK.\n\nOnce the job has run in normal non-voting for a while, and we\nensure that it seems to be stable, we can make it voting again.\n\nChange-Id: Ia833bfb64c6c3cc8e48cbe34ed200536652a8adf\n'}, {'number': 15, 'created': '2022-05-04 18:33:40.000000000', 'files': ['zuul.d/ironic-jobs.yaml', 'devstack/lib/ironic', 'zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/a9f4acfdb099a8c24e35c6329913db10cc3ac150', 'message': 'Fix v6 CI job - Return it to normal non-voting status\n\n* Fixes the IPv6 job by utilizing HOST_IPV6 instead of\n  SERVICE_IPV6, as Devstack now automatically wraps\n  SERVICE_IPV6 with brackets as if it is for a URL.\n* Locks ipv6 job to bios mode. Ubuntu Focal OVMF/EDK2 does not\n  support IPv6 PXE boot by default.\n* Split from Devstack in terms of IP usage, since full explicit\n  V6 usage is not a thing anymore. 4+6 is the default in devstack\n  and regardless of what we set on the job we see both now used.\n  So we delineate apart our usage for our own sanity.\n* Reduce VM Interface count for IPv6 in an attempt to eliminate\n  in-kernel routing confusion by two interfaces on the same physical\n  network.\n* Set IPv6 mode to dhcpv6-stateless due to fun issues in dhcp clients.\n  When we move to UEFI, this will need to be changed to stateful as\n  stateless is not supported in general by OVMF/E2DK.\n\nOnce the job has run in normal non-voting for a while, and we\nensure that it seems to be stable, we can make it voting again.\n\nChange-Id: Ia833bfb64c6c3cc8e48cbe34ed200536652a8adf\n'}]",1,839086,a9f4acfdb099a8c24e35c6329913db10cc3ac150,79,4,15,11655,,,0,"Fix v6 CI job - Return it to normal non-voting status

* Fixes the IPv6 job by utilizing HOST_IPV6 instead of
  SERVICE_IPV6, as Devstack now automatically wraps
  SERVICE_IPV6 with brackets as if it is for a URL.
* Locks ipv6 job to bios mode. Ubuntu Focal OVMF/EDK2 does not
  support IPv6 PXE boot by default.
* Split from Devstack in terms of IP usage, since full explicit
  V6 usage is not a thing anymore. 4+6 is the default in devstack
  and regardless of what we set on the job we see both now used.
  So we delineate apart our usage for our own sanity.
* Reduce VM Interface count for IPv6 in an attempt to eliminate
  in-kernel routing confusion by two interfaces on the same physical
  network.
* Set IPv6 mode to dhcpv6-stateless due to fun issues in dhcp clients.
  When we move to UEFI, this will need to be changed to stateful as
  stateless is not supported in general by OVMF/E2DK.

Once the job has run in normal non-voting for a while, and we
ensure that it seems to be stable, we can make it voting again.

Change-Id: Ia833bfb64c6c3cc8e48cbe34ed200536652a8adf
",git fetch https://review.opendev.org/openstack/ironic refs/changes/86/839086/8 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,2257fcf9cd418a8c4787878d2b63fb7522402662,, - ironic-tempest-ipxe-ipv6 - ironic-grenade-multinode-multitenant," - ironic-cross-sushy: voting: false - ironic-tempest-functional-python3 - ironic-tempest-functional-rbac-scope-enforced - ironic-standalone - ironic-standalone-redfish - ironic-tempest-partition-bios-redfish-pxe - ironic-tempest-partition-uefi-redfish-vmedia - ironic-tempest-wholedisk-bios-snmp-pxe - ironic-tempest-partition-bios-ipmi-pxe - ironic-tempest-partition-uefi-ipmi-pxe # NOTE(TheJulia) Marking multinode non-voting on 20210311 # Due to a high failure rate on limestone where the compute1 # machine never appears to be able to communicate across the # vxlan tunnel, possible mtu issue, but non-voting until we # understand it in mind for the upcoming release. - ironic-tempest-ipa-wholedisk-direct-tinyipa-multinode: voting: false - ironic-tempest-bios-ipmi-direct-tinyipa - ironic-tempest-bfv - ironic-tempest-ipa-partition-uefi-pxe-grub2 - metalsmith-integration-glance-localboot-centos8-uefi # Non-voting jobs - ironic-tox-bandit: voting: false - ironic-inspector-tempest: voting: false - ironic-inspector-tempest-managed-non-standalone: voting: false - ironic-inspector-tempest-partition-bios-redfish-vmedia: voting: false - ironic-tempest-ipa-wholedisk-bios-ipmi-direct-dib: voting: false - ironic-inspector-tempest-rbac-scope-enforced: voting: false - bifrost-integration-tinyipa-ubuntu-focal: voting: false - bifrost-integration-redfish-vmedia-uefi-centos-8: voting: false - ironic-tempest-pxe_ipmitool-postgres: voting: false - bifrost-benchmark-ironic: voting: false",2,43
openstack%2Fnetworking-generic-switch~stable%2Fxena~Ia8550c124f2ef1cce620a4fb28c35700d34aa027,openstack/networking-generic-switch,stable/xena,Ia8550c124f2ef1cce620a4fb28c35700d34aa027,CI: Fix Multinode ssh key/hostname for unit tests,MERGED,2022-04-29 19:34:21.000000000,2022-05-05 14:49:24.000000000,2022-05-05 14:47:47.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 24245}]","[{'number': 1, 'created': '2022-04-29 19:34:21.000000000', 'files': ['networking_generic_switch/tests/unit/netmiko/test_netmiko_base.py', 'devstack/plugin.sh', 'networking_generic_switch/devices/netmiko_devices/__init__.py', 'networking_generic_switch/devices/utils.py'], 'web_link': 'https://opendev.org/openstack/networking-generic-switch/commit/ce67ddb450d540dc2d055aadf7ca2ffc18de6222', 'message': ""CI: Fix Multinode ssh key/hostname for unit tests\n\nIn multinode, the devstack plugin for networking-generic-switch can't\nreally work as intended. But, the authorized keys is copied on all\nnodes, and zuul puts a consistent key in place, so it doesn't\nreally need to do what it is doing, but we need to use the stack\nuser's pre-existing keys to access the remote host.\n\nThis will allow Ironic's multinode grenade job to work without\nerrors about accessing the key file, which is a red herring for\nwhen the connection fails.\n\nAdditionally, the underlying ngs code is suseptible to a race on\nconfiguration loading as configuration is loaded separately.\n\nWe can't really force it to load the option. We also can't\nexplicitly add it, so the best thing to do is to wrap it and\nrely upon a mock to facilitate the unit test.\n\nChange-Id: Ia8550c124f2ef1cce620a4fb28c35700d34aa027\n(cherry picked from commit c6c10a12a83c894eb9c6a26658a010d37432afe7)\n""}]",0,839920,ce67ddb450d540dc2d055aadf7ca2ffc18de6222,9,4,1,11655,,,0,"CI: Fix Multinode ssh key/hostname for unit tests

In multinode, the devstack plugin for networking-generic-switch can't
really work as intended. But, the authorized keys is copied on all
nodes, and zuul puts a consistent key in place, so it doesn't
really need to do what it is doing, but we need to use the stack
user's pre-existing keys to access the remote host.

This will allow Ironic's multinode grenade job to work without
errors about accessing the key file, which is a red herring for
when the connection fails.

Additionally, the underlying ngs code is suseptible to a race on
configuration loading as configuration is loaded separately.

We can't really force it to load the option. We also can't
explicitly add it, so the best thing to do is to wrap it and
rely upon a mock to facilitate the unit test.

Change-Id: Ia8550c124f2ef1cce620a4fb28c35700d34aa027
(cherry picked from commit c6c10a12a83c894eb9c6a26658a010d37432afe7)
",git fetch https://review.opendev.org/openstack/networking-generic-switch refs/changes/20/839920/1 && git format-patch -1 --stdout FETCH_HEAD,"['networking_generic_switch/tests/unit/netmiko/test_netmiko_base.py', 'devstack/plugin.sh', 'networking_generic_switch/devices/netmiko_devices/__init__.py', 'networking_generic_switch/devices/utils.py']",4,ce67ddb450d540dc2d055aadf7ca2ffc18de6222,,"from oslo_config import cfg CONF = cfg.CONF def get_hostname(): """"""Helper to allow isolation of CONF.host and plugin loading."""""" return CONF.host",,23,4
openstack%2Fnetworking-generic-switch~master~Id271c5f3d122b9f7486f675c8995512a8f682913,openstack/networking-generic-switch,master,Id271c5f3d122b9f7486f675c8995512a8f682913,Trivial: Remove legacy devstack CI call,MERGED,2022-05-04 16:38:53.000000000,2022-05-05 14:49:18.000000000,2022-05-05 14:47:45.000000000,"[{'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2022-05-04 16:38:53.000000000', 'files': ['devstack/plugin.sh'], 'web_link': 'https://opendev.org/openstack/networking-generic-switch/commit/6a0f213815f4eb10722333109dec2c5c11e3128a', 'message': 'Trivial: Remove legacy devstack CI call\n\n++ [TRIM]/devstack/plugin.sh:source:26 :   enable_python3_package networking-generic-switch\nIt is no longer necessary to call enable_python3_package().\n\nRemoves entry according to the notice the logging output.\n\nChange-Id: Id271c5f3d122b9f7486f675c8995512a8f682913\n'}]",0,840513,6a0f213815f4eb10722333109dec2c5c11e3128a,7,2,1,11655,,,0,"Trivial: Remove legacy devstack CI call

++ [TRIM]/devstack/plugin.sh:source:26 :   enable_python3_package networking-generic-switch
It is no longer necessary to call enable_python3_package().

Removes entry according to the notice the logging output.

Change-Id: Id271c5f3d122b9f7486f675c8995512a8f682913
",git fetch https://review.opendev.org/openstack/networking-generic-switch refs/changes/13/840513/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/plugin.sh'],1,6a0f213815f4eb10722333109dec2c5c11e3128a,,,enable_python3_package networking-generic-switch ,0,2
openstack%2Fglance~master~I13d9a8a1c875a2a34ec1f5505fbccb50a90a6011,openstack/glance,master,I13d9a8a1c875a2a34ec1f5505fbccb50a90a6011,DNM Reproduce failure for bug 1914826,ABANDONED,2021-02-05 22:40:13.000000000,2022-05-05 14:21:43.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-02-05 22:40:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/733a0bd0cd8773171139125d5b5ae868e0202f13', 'message': 'DNM Reproduce failure for bug 1914826\n\nChange-Id: I13d9a8a1c875a2a34ec1f5505fbccb50a90a6011\n'}, {'number': 2, 'created': '2021-02-06 02:16:45.000000000', 'files': ['glance/context.py', '.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/glance/commit/46708fb415e5a754fe7c1738769954e00b2075ae', 'message': 'DNM Reproduce failure for bug 1914826\n\nChange-Id: I13d9a8a1c875a2a34ec1f5505fbccb50a90a6011\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/774303\n'}]",0,774317,46708fb415e5a754fe7c1738769954e00b2075ae,7,1,2,4393,,,0,"DNM Reproduce failure for bug 1914826

Change-Id: I13d9a8a1c875a2a34ec1f5505fbccb50a90a6011
Depends-On: https://review.opendev.org/c/openstack/tempest/+/774303
",git fetch https://review.opendev.org/openstack/glance refs/changes/17/774317/1 && git format-patch -1 --stdout FETCH_HEAD,"['glance/context.py', '.zuul.yaml']",2,733a0bd0cd8773171139125d5b5ae868e0202f13,repro-bug-1914826, - tempest-integrated-storage-import:, - openstack-tox-functional-py36 - openstack-tox-functional-py38 - glance-code-constants-check - glance-ceph-thin-provisioning: voting: false - tempest-integrated-storage: irrelevant-files: *tempest-irrelevant-files - tempest-integrated-storage-import: irrelevant-files: *tempest-irrelevant-files - grenade: irrelevant-files: *tempest-irrelevant-files - tempest-ipv6-only: irrelevant-files: *tempest-irrelevant-files,2,14
openstack%2Fglance~master~I09d3adfe566b1f82b3e17a85f229a6d72d5b983a,openstack/glance,master,I09d3adfe566b1f82b3e17a85f229a6d72d5b983a,DNM: Test volume quota increase,ABANDONED,2021-02-04 23:27:42.000000000,2022-05-05 14:21:27.000000000,,"[{'_account_id': 22348}, {'_account_id': 27615}]","[{'number': 1, 'created': '2021-02-04 23:27:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/51f78e46f240b4a2afc29ba79f62324e77591a68', 'message': 'DNM: Test volume quota increase\n\nThe fix is probably actually in devstack, but we need to test this\nhere.\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/774172\nChange-Id: I09d3adfe566b1f82b3e17a85f229a6d72d5b983a\nRelated-Bug: #1914665\n'}, {'number': 2, 'created': '2021-02-05 00:26:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/d9f13a3e8c79b9bdb09d59f8834a6842a569aab5', 'message': 'DNM: Test volume quota increase\n\nThe fix is probably actually in devstack, but we need to test this\nhere.\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/774172\nChange-Id: I09d3adfe566b1f82b3e17a85f229a6d72d5b983a\nRelated-Bug: #1914665\n'}, {'number': 3, 'created': '2021-02-05 00:27:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/566d2a3014a432d9e716c35dd3ec2f70357335a3', 'message': 'DNM: Test volume quota increase\n\nThe fix is probably actually in devstack, but we need to test this\nhere.\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/774172\nChange-Id: I09d3adfe566b1f82b3e17a85f229a6d72d5b983a\nRelated-Bug: #1914665\n'}, {'number': 4, 'created': '2021-02-05 00:31:34.000000000', 'files': ['glance/api/__init__.py', '.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/glance/commit/2080e14cb0ef14a549c29211e5e9dc1acb03a09b', 'message': 'DNM: Test volume quota increase\n\nThe fix is probably actually in devstack, but we need to test this\nhere.\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/774172\nChange-Id: I09d3adfe566b1f82b3e17a85f229a6d72d5b983a\nRelated-Bug: #1914665\n'}]",0,774174,2080e14cb0ef14a549c29211e5e9dc1acb03a09b,15,2,4,4393,,,0,"DNM: Test volume quota increase

The fix is probably actually in devstack, but we need to test this
here.

Depends-On: https://review.opendev.org/c/openstack/devstack/+/774172
Change-Id: I09d3adfe566b1f82b3e17a85f229a6d72d5b983a
Related-Bug: #1914665
",git fetch https://review.opendev.org/openstack/glance refs/changes/74/774174/3 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,51f78e46f240b4a2afc29ba79f62324e77591a68,bug/1914665, The regular import workflow job to test with multiple cinder stores, The regular import workflow job to test with multiple cinder stores,1,1
openstack%2Fglance~master~Iaa4ec2a3331bdca276a6e8f622701c9ce860b001,openstack/glance,master,Iaa4ec2a3331bdca276a6e8f622701c9ce860b001,DNM: Check some jobs with new policy defaults,ABANDONED,2021-03-04 15:49:09.000000000,2022-05-05 14:21:17.000000000,,"[{'_account_id': 5046}, {'_account_id': 9303}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-04 15:49:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/ae7a1a62455d40206f2166300ac6409dca34d62c', 'message': 'DNM: Check nova-ceph-glance with new policy defs\n\nChange-Id: Iaa4ec2a3331bdca276a6e8f622701c9ce860b001\n'}, {'number': 2, 'created': '2021-03-04 16:12:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/45b3f4fb71813a73922b7774644eca3906921d2f', 'message': 'DNM: Check nova-ceph-glance with new policy defs\n\nChange-Id: Iaa4ec2a3331bdca276a6e8f622701c9ce860b001\n'}, {'number': 3, 'created': '2021-03-04 18:15:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/1f570bc1e28a7fd6320565061690c700e2178952', 'message': 'DNM: Check nova-ceph-glance with new policy defs\n\nChange-Id: Iaa4ec2a3331bdca276a6e8f622701c9ce860b001\n'}, {'number': 4, 'created': '2021-03-04 22:49:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/301dabfe599b6f9e86440b15d2d0f2f77973357a', 'message': 'DNM: Check nova-ceph-glance with new policy defs\n\nChange-Id: Iaa4ec2a3331bdca276a6e8f622701c9ce860b001\n'}, {'number': 5, 'created': '2021-03-04 23:58:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/8dbde7afda0a09d49df4c9cb8bc932aeba94535e', 'message': 'DNM: Check some jobs with new policy defaults\n\nThis makes a bunch of our jobs use the new policy defaults so we can\nsee what breaks if an admin turns this on.\n\nChange-Id: Iaa4ec2a3331bdca276a6e8f622701c9ce860b001\n'}, {'number': 6, 'created': '2021-03-05 13:37:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/849ffd9dae00be4501e8a0c1b70b8df34e2f9894', 'message': 'DNM: Check some jobs with new policy defaults\n\nThis makes a bunch of our jobs use the new policy defaults so we can\nsee what breaks if an admin turns this on.\n\nChange-Id: Iaa4ec2a3331bdca276a6e8f622701c9ce860b001\n'}, {'number': 7, 'created': '2021-03-05 17:18:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/91197838826b02ef1c0e36bca30715a268ce3fbd', 'message': 'DNM: Check some jobs with new policy defaults\n\nThis makes a bunch of our jobs use the new policy defaults so we can\nsee what breaks if an admin turns this on.\n\nChange-Id: Iaa4ec2a3331bdca276a6e8f622701c9ce860b001\n'}, {'number': 8, 'created': '2021-03-05 18:06:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/76b9ab4786acdf79e122f00ae572f7cee84e1890', 'message': 'DNM: Check some jobs with new policy defaults\n\nThis makes a bunch of our jobs use the new policy defaults so we can\nsee what breaks if an admin turns this on.\n\nChange-Id: Iaa4ec2a3331bdca276a6e8f622701c9ce860b001\n'}, {'number': 9, 'created': '2021-03-05 20:15:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/2100cecf32073e5e1fe2d36f0bb29e5449b29e22', 'message': 'DNM: Check some jobs with new policy defaults\n\nThis makes a bunch of our jobs use the new policy defaults so we can\nsee what breaks if an admin turns this on.\n\nChange-Id: Iaa4ec2a3331bdca276a6e8f622701c9ce860b001\n'}, {'number': 10, 'created': '2021-03-05 20:34:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/dd80e87739a10e8c327ed92ae28ac17b594ca59f', 'message': 'DNM: Check some jobs with new policy defaults\n\nThis makes a bunch of our jobs use the new policy defaults so we can\nsee what breaks if an admin turns this on.\n\nChange-Id: Iaa4ec2a3331bdca276a6e8f622701c9ce860b001\n'}, {'number': 11, 'created': '2021-03-05 20:40:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/9208a330048866e5b7187a581efec8c2d9ed3a06', 'message': 'DNM: Check some jobs with new policy defaults\n\nThis makes a bunch of our jobs use the new policy defaults so we can\nsee what breaks if an admin turns this on.\n\nChange-Id: Iaa4ec2a3331bdca276a6e8f622701c9ce860b001\n'}, {'number': 12, 'created': '2021-03-05 20:51:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/209a72371b656aff736ed588dc3f724e01a656d3', 'message': 'DNM: Check some jobs with new policy defaults\n\nThis makes a bunch of our jobs use the new policy defaults so we can\nsee what breaks if an admin turns this on.\n\nChange-Id: Iaa4ec2a3331bdca276a6e8f622701c9ce860b001\n'}, {'number': 13, 'created': '2021-03-06 04:03:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/0b56d3c5a5c3000ca2927472fea1b2958848bbb4', 'message': 'DNM: Check some jobs with new policy defaults\n\nThis makes a bunch of our jobs use the new policy defaults so we can\nsee what breaks if an admin turns this on.\n\nChange-Id: Iaa4ec2a3331bdca276a6e8f622701c9ce860b001\n'}, {'number': 14, 'created': '2021-03-07 16:15:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/e8e483507f04a9768cc6d93e7544af8a8650b83e', 'message': 'DNM: Check some jobs with new policy defaults\n\nThis makes a bunch of our jobs use the new policy defaults so we can\nsee what breaks if an admin turns this on.\n\nChange-Id: Iaa4ec2a3331bdca276a6e8f622701c9ce860b001\n'}, {'number': 15, 'created': '2021-03-07 16:32:13.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/glance/commit/6e7242a802fee7380a1b904deb9be475040361b2', 'message': 'DNM: Check some jobs with new policy defaults\n\nThis makes a bunch of our jobs use the new policy defaults so we can\nsee what breaks if an admin turns this on.\n\nChange-Id: Iaa4ec2a3331bdca276a6e8f622701c9ce860b001\n'}]",0,778736,6e7242a802fee7380a1b904deb9be475040361b2,28,3,15,4393,,,0,"DNM: Check some jobs with new policy defaults

This makes a bunch of our jobs use the new policy defaults so we can
see what breaks if an admin turns this on.

Change-Id: Iaa4ec2a3331bdca276a6e8f622701c9ce860b001
",git fetch https://review.opendev.org/openstack/glance refs/changes/36/778736/12 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,ae7a1a62455d40206f2166300ac6409dca34d62c,secure-rbac,- job: name: nova-ceph-multistore-rbac parent: nova-ceph-multistore vars: devstack_local_conf: post-config: $GLANCE_API_CONF: oslo_policy: enforce_new_defaults: True - nova-ceph-multistore-rbac: - nova-ceph-multistore-rbac:, - nova-ceph-multistore: - nova-ceph-multistore:,12,2
openstack%2Fglance~master~I13597e8145920f9fe7cb9023a1d1c160bc8026a5,openstack/glance,master,I13597e8145920f9fe7cb9023a1d1c160bc8026a5,DNM Test glance_store cinder attach changes,ABANDONED,2021-04-30 14:42:15.000000000,2022-05-05 14:20:53.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-04-30 14:42:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/dc4cbb0794a36c6dbb358b6e2f3571f66c5acaef', 'message': 'DNM Test glance_store cinder attach changes\n\nDepends-On: https://review.opendev.org/c/openstack/glance_store/+/782200\nChange-Id: I13597e8145920f9fe7cb9023a1d1c160bc8026a5\n'}, {'number': 2, 'created': '2021-04-30 15:39:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/b31c51ab9ec3c4f8715d6b8c3d3bf7f54bef9c01', 'message': 'DNM Test glance_store cinder attach changes\n\nDepends-On: https://review.opendev.org/c/openstack/glance_store/+/782200\nChange-Id: I13597e8145920f9fe7cb9023a1d1c160bc8026a5\n'}, {'number': 3, 'created': '2021-05-03 14:11:27.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/glance/commit/3054598752c5470a7882c31886caf436f27cffd9', 'message': 'DNM Test glance_store cinder attach changes\n\nDepends-On: https://review.opendev.org/c/openstack/glance_store/+/782200\nDepends-On: https://review.opendev.org/c/openstack/os-brick/+/789289\nChange-Id: I13597e8145920f9fe7cb9023a1d1c160bc8026a5\n'}]",0,788963,3054598752c5470a7882c31886caf436f27cffd9,7,1,3,4393,,,0,"DNM Test glance_store cinder attach changes

Depends-On: https://review.opendev.org/c/openstack/glance_store/+/782200
Depends-On: https://review.opendev.org/c/openstack/os-brick/+/789289
Change-Id: I13597e8145920f9fe7cb9023a1d1c160bc8026a5
",git fetch https://review.opendev.org/openstack/glance refs/changes/63/788963/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,dc4cbb0794a36c6dbb358b6e2f3571f66c5acaef,test-cinder-glance-store, required-projects: - name: openstack/glance_store,,2,0
openstack%2Fopenstack-ansible-os_cloudkitty~master~I19d8215e653d42698806c645ac4ae7747c4ea35e,openstack/openstack-ansible-os_cloudkitty,master,I19d8215e653d42698806c645ac4ae7747c4ea35e,Use common service setup tasks from a collection rather than in-role,MERGED,2022-01-12 11:44:36.000000000,2022-05-05 14:05:47.000000000,2022-05-05 14:03:43.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-01-12 11:44:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_cloudkitty/commit/9c4da98315e5aa14dc878f430596a4f487e0f9a8', 'message': 'Use common service setup tasks from a collection rather than in-role\n\nChange-Id: I19d8215e653d42698806c645ac4ae7747c4ea35e\n'}, {'number': 2, 'created': '2022-01-12 17:35:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_cloudkitty/commit/2978fde628a83f13a59767b962a84d1bb7faf9a1', 'message': 'Use common service setup tasks from a collection rather than in-role\n\nChange-Id: I19d8215e653d42698806c645ac4ae7747c4ea35e\n'}, {'number': 3, 'created': '2022-04-04 11:44:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_cloudkitty/commit/529545d1980728cc3363ee52244fe4e3526351bf', 'message': 'Use common service setup tasks from a collection rather than in-role\n\nChange-Id: I19d8215e653d42698806c645ac4ae7747c4ea35e\n'}, {'number': 4, 'created': '2022-04-29 18:49:35.000000000', 'files': ['tasks/main.yml', 'tasks/db_setup.yml', 'tasks/service_setup.yml', 'tasks/mq_setup.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_cloudkitty/commit/cbe22b73a26913a65939ec9d84a124922a0261a2', 'message': 'Use common service setup tasks from a collection rather than in-role\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/839989\n\nChange-Id: I19d8215e653d42698806c645ac4ae7747c4ea35e\n'}]",4,824399,cbe22b73a26913a65939ec9d84a124922a0261a2,22,3,4,25023,,,0,"Use common service setup tasks from a collection rather than in-role

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/839989

Change-Id: I19d8215e653d42698806c645ac4ae7747c4ea35e
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_cloudkitty refs/changes/99/824399/4 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'tasks/db_setup.yml', 'tasks/service_setup.yml', 'tasks/mq_setup.yml']",4,9c4da98315e5aa14dc878f430596a4f487e0f9a8,osa/common_tasks,,"--- # Copyright 2018, Rackspace US, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. # WARNING: # This file is maintained in the openstack-ansible-tests repository. # https://opendev.org/openstack/openstack-ansible-tests/src/sync/tasks/mq_setup.yml # If you need to modify this file, update the one in the openstack-ansible-tests # repository. Once it merges there, the changes will automatically be proposed to # all the repositories which use it. - name: Setup RPC MQ Service (RabbitMQ) delegate_to: ""{{ _oslomsg_rpc_setup_host }}"" when: - ""(_oslomsg_configure_rpc | default(_oslomsg_rpc_transport is defined))"" - ""(_oslomsg_rpc_transport is defined) and (_oslomsg_rpc_transport == 'rabbit')"" tags: - common-rabbitmq block: - name: Add RPC RabbitMQ vhost community.rabbitmq.rabbitmq_vhost: name: ""{{ _oslomsg_rpc_vhost }}"" state: ""present"" - name: Apply RPC RabbitMQ vhost policies community.rabbitmq.rabbitmq_policy: name: ""{{ item.name }}"" pattern: ""{{ item.pattern }}"" priority: ""{{ item.priority | default(0) }}"" tags: ""{{ item.tags }}"" state: ""{{ item.state | default(omit) }}"" vhost: ""{{ _oslomsg_rpc_vhost }}"" loop: ""{{ _oslomsg_rpc_policies | default([]) + oslomsg_rpc_policies }}"" - name: Add RPC RabbitMQ user community.rabbitmq.rabbitmq_user: user: ""{{ _oslomsg_rpc_userid }}"" password: ""{{ _oslomsg_rpc_password }}"" update_password: always vhost: ""{{ _oslomsg_rpc_vhost }}"" configure_priv: "".*"" read_priv: "".*"" write_priv: "".*"" state: ""present"" no_log: true - name: Setup Notify MQ Service (RabbitMQ) delegate_to: ""{{ _oslomsg_notify_setup_host }}"" when: - ""(_oslomsg_configure_notify | default(_oslomsg_notify_transport is defined))"" - ""(_oslomsg_notify_transport is defined) and (_oslomsg_notify_transport == 'rabbit')"" tags: - common-rabbitmq block: - name: Add Notify RabbitMQ vhost community.rabbitmq.rabbitmq_vhost: name: ""{{ _oslomsg_notify_vhost }}"" state: ""present"" when: - (_oslomsg_rpc_vhost is undefined) or (_oslomsg_notify_vhost != _oslomsg_rpc_vhost) or (_oslomsg_notify_setup_host != _oslomsg_rpc_setup_host) - name: Apply Notify RabbitMQ vhost policies community.rabbitmq.rabbitmq_policy: name: ""{{ item.name }}"" pattern: ""{{ item.pattern }}"" priority: ""{{ item.priority | default(0) }}"" tags: ""{{ item.tags }}"" state: ""{{ item.state | default(omit) }}"" vhost: ""{{ _oslomsg_notify_vhost }}"" loop: ""{{ _oslomsg_notify_policies | default([]) + oslomsg_notify_policies }}"" when: - (_oslomsg_rpc_vhost is undefined) or (_oslomsg_notify_vhost != _oslomsg_rpc_vhost) or (_oslomsg_notify_setup_host != _oslomsg_rpc_setup_host) - name: Add Notify RabbitMQ user community.rabbitmq.rabbitmq_user: user: ""{{ _oslomsg_notify_userid }}"" password: ""{{ _oslomsg_notify_password }}"" update_password: always vhost: ""{{ _oslomsg_notify_vhost }}"" configure_priv: "".*"" read_priv: "".*"" write_priv: "".*"" state: ""present"" no_log: true when: - (_oslomsg_rpc_userid is undefined) or (_oslomsg_notify_userid != _oslomsg_rpc_userid) or (_oslomsg_notify_setup_host != _oslomsg_rpc_setup_host) - name: Setup RPC MQ Service (Qdrouterd) delegate_to: ""{{ _oslomsg_rpc_setup_host }}"" when: - ""(_oslomsg_configure_rpc | default(_oslomsg_rpc_transport is defined))"" - ""(_oslomsg_rpc_transport is defined) and (_oslomsg_rpc_transport == 'amqp')"" tags: - common-qdrouterd block: - name: Add RPC Qdrouterd user shell: ""echo {{ _oslomsg_rpc_password }} | saslpasswd2 -c -p -f /var/lib/qdrouterd/qdrouterd.sasldb -u AMQP {{ _oslomsg_rpc_userid }}"" no_log: true ",6,328
openstack%2Fopenstack-ansible-os_mistral~master~Iae89fb17e42d1f95ba21dcaaa9a942429f958a3e,openstack/openstack-ansible-os_mistral,master,Iae89fb17e42d1f95ba21dcaaa9a942429f958a3e,Use common service setup tasks from a collection rather than in-role,MERGED,2022-01-12 10:54:20.000000000,2022-05-05 13:57:06.000000000,2022-05-05 13:55:58.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-01-12 10:54:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_mistral/commit/5c98aae94eb083a97548889fb1741cf27f803f59', 'message': 'Use common service setup tasks from a collection rather than in-role\n\nChange-Id: Iae89fb17e42d1f95ba21dcaaa9a942429f958a3e\n'}, {'number': 2, 'created': '2022-01-12 17:32:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_mistral/commit/5b538e87adc7fe1b44fe1b094bddc3814423fc44', 'message': 'Use common service setup tasks from a collection rather than in-role\n\nChange-Id: Iae89fb17e42d1f95ba21dcaaa9a942429f958a3e\n'}, {'number': 3, 'created': '2022-01-13 11:35:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_mistral/commit/7d94ea16b5908a5eff5e2c987afab48ea54faa20', 'message': 'Use common service setup tasks from a collection rather than in-role\n\nChange-Id: Iae89fb17e42d1f95ba21dcaaa9a942429f958a3e\n'}, {'number': 4, 'created': '2022-04-29 18:46:36.000000000', 'files': ['tasks/main.yml', 'tasks/db_setup.yml', 'tasks/service_setup.yml', 'tasks/mq_setup.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_mistral/commit/fba805f2ec808de1efcfe68162a992e2a9e5b307', 'message': 'Use common service setup tasks from a collection rather than in-role\n\nDepends-On:  https://review.opendev.org/c/openstack/openstack-ansible/+/839988\nChange-Id: Iae89fb17e42d1f95ba21dcaaa9a942429f958a3e\n'}]",5,824383,fba805f2ec808de1efcfe68162a992e2a9e5b307,23,3,4,25023,,,0,"Use common service setup tasks from a collection rather than in-role

Depends-On:  https://review.opendev.org/c/openstack/openstack-ansible/+/839988
Change-Id: Iae89fb17e42d1f95ba21dcaaa9a942429f958a3e
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_mistral refs/changes/83/824383/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'tasks/db_setup.yml', 'tasks/service_setup.yml', 'tasks/mq_setup.yml']",4,5c98aae94eb083a97548889fb1741cf27f803f59,osa/common_tasks,,"--- # Copyright 2018, Rackspace US, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. # WARNING: # This file is maintained in the openstack-ansible-tests repository. # https://opendev.org/openstack/openstack-ansible-tests/src/sync/tasks/mq_setup.yml # If you need to modify this file, update the one in the openstack-ansible-tests # repository. Once it merges there, the changes will automatically be proposed to # all the repositories which use it. - name: Setup RPC MQ Service (RabbitMQ) delegate_to: ""{{ _oslomsg_rpc_setup_host }}"" when: - ""(_oslomsg_configure_rpc | default(_oslomsg_rpc_transport is defined))"" - ""(_oslomsg_rpc_transport is defined) and (_oslomsg_rpc_transport == 'rabbit')"" tags: - common-rabbitmq block: - name: Add RPC RabbitMQ vhost community.rabbitmq.rabbitmq_vhost: name: ""{{ _oslomsg_rpc_vhost }}"" state: ""present"" - name: Apply RPC RabbitMQ vhost policies community.rabbitmq.rabbitmq_policy: name: ""{{ item.name }}"" pattern: ""{{ item.pattern }}"" priority: ""{{ item.priority | default(0) }}"" tags: ""{{ item.tags }}"" state: ""{{ item.state | default(omit) }}"" vhost: ""{{ _oslomsg_rpc_vhost }}"" loop: ""{{ _oslomsg_rpc_policies | default([]) + oslomsg_rpc_policies }}"" - name: Add RPC RabbitMQ user community.rabbitmq.rabbitmq_user: user: ""{{ _oslomsg_rpc_userid }}"" password: ""{{ _oslomsg_rpc_password }}"" update_password: always vhost: ""{{ _oslomsg_rpc_vhost }}"" configure_priv: "".*"" read_priv: "".*"" write_priv: "".*"" state: ""present"" no_log: true - name: Setup Notify MQ Service (RabbitMQ) delegate_to: ""{{ _oslomsg_notify_setup_host }}"" when: - ""(_oslomsg_configure_notify | default(_oslomsg_notify_transport is defined))"" - ""(_oslomsg_notify_transport is defined) and (_oslomsg_notify_transport == 'rabbit')"" tags: - common-rabbitmq block: - name: Add Notify RabbitMQ vhost community.rabbitmq.rabbitmq_vhost: name: ""{{ _oslomsg_notify_vhost }}"" state: ""present"" when: - (_oslomsg_rpc_vhost is undefined) or (_oslomsg_notify_vhost != _oslomsg_rpc_vhost) or (_oslomsg_notify_setup_host != _oslomsg_rpc_setup_host) - name: Apply Notify RabbitMQ vhost policies community.rabbitmq.rabbitmq_policy: name: ""{{ item.name }}"" pattern: ""{{ item.pattern }}"" priority: ""{{ item.priority | default(0) }}"" tags: ""{{ item.tags }}"" state: ""{{ item.state | default(omit) }}"" vhost: ""{{ _oslomsg_notify_vhost }}"" loop: ""{{ _oslomsg_notify_policies | default([]) + oslomsg_notify_policies }}"" when: - (_oslomsg_rpc_vhost is undefined) or (_oslomsg_notify_vhost != _oslomsg_rpc_vhost) or (_oslomsg_notify_setup_host != _oslomsg_rpc_setup_host) - name: Add Notify RabbitMQ user community.rabbitmq.rabbitmq_user: user: ""{{ _oslomsg_notify_userid }}"" password: ""{{ _oslomsg_notify_password }}"" update_password: always vhost: ""{{ _oslomsg_notify_vhost }}"" configure_priv: "".*"" read_priv: "".*"" write_priv: "".*"" state: ""present"" no_log: true when: - (_oslomsg_rpc_userid is undefined) or (_oslomsg_notify_userid != _oslomsg_rpc_userid) or (_oslomsg_notify_setup_host != _oslomsg_rpc_setup_host) - name: Setup RPC MQ Service (Qdrouterd) delegate_to: ""{{ _oslomsg_rpc_setup_host }}"" when: - ""(_oslomsg_configure_rpc | default(_oslomsg_rpc_transport is defined))"" - ""(_oslomsg_rpc_transport is defined) and (_oslomsg_rpc_transport == 'amqp')"" tags: - common-qdrouterd block: - name: Add RPC Qdrouterd user shell: ""echo {{ _oslomsg_rpc_password }} | saslpasswd2 -c -p -f /var/lib/qdrouterd/qdrouterd.sasldb -u AMQP {{ _oslomsg_rpc_userid }}"" no_log: true ",6,328
openstack%2Fpython-tripleoclient~master~I6c8cd8d402cde1a2651f2213dd3ea986d0d7aa33,openstack/python-tripleoclient,master,I6c8cd8d402cde1a2651f2213dd3ea986d0d7aa33,DNM Testing VF metadata changes,ABANDONED,2022-05-04 14:00:02.000000000,2022-05-05 13:54:50.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-05-04 14:00:02.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/ac7f0c5cd712cbd56524eb4bd36512b952cc36a8', 'message': 'DNM Testing VF metadata changes\n\nDepends-On: https://review.opendev.org/c/openstack/validations-common/+/840460\nDepends-On: https://review.opendev.org/c/openstack/validations-libs/+/840438\nDepends-On: https://review.opendev.org/c/openstack/tripleo-validations/+/840311\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I6c8cd8d402cde1a2651f2213dd3ea986d0d7aa33\n'}]",0,840491,ac7f0c5cd712cbd56524eb4bd36512b952cc36a8,3,1,1,32926,,,0,"DNM Testing VF metadata changes

Depends-On: https://review.opendev.org/c/openstack/validations-common/+/840460
Depends-On: https://review.opendev.org/c/openstack/validations-libs/+/840438
Depends-On: https://review.opendev.org/c/openstack/tripleo-validations/+/840311

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I6c8cd8d402cde1a2651f2213dd3ea986d0d7aa33
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/91/840491/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,ac7f0c5cd712cbd56524eb4bd36512b952cc36a8,DNM/metadatatest, # DNM FORCING TEST RUN ,,2,0
openstack%2Fopenstack-ansible-os_placement~master~I5ed7d7a41e81243d6ad2dd7a4300cf772ed0ac7f,openstack/openstack-ansible-os_placement,master,I5ed7d7a41e81243d6ad2dd7a4300cf772ed0ac7f,Fix incorrect ansible tag,MERGED,2022-05-05 09:34:57.000000000,2022-05-05 13:53:05.000000000,2022-05-05 13:51:58.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-05-05 09:34:57.000000000', 'files': ['tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_placement/commit/68894c47e1cb03d3ec2bdb1f73322aca19199e6b', 'message': 'Fix incorrect ansible tag\n\nChange-Id: I5ed7d7a41e81243d6ad2dd7a4300cf772ed0ac7f\n'}]",0,840608,68894c47e1cb03d3ec2bdb1f73322aca19199e6b,8,3,1,25023,,,0,"Fix incorrect ansible tag

Change-Id: I5ed7d7a41e81243d6ad2dd7a4300cf772ed0ac7f
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_placement refs/changes/08/840608/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/main.yml'],1,68894c47e1cb03d3ec2bdb1f73322aca19199e6b,, - placement-config, - cinder-config,1,1
openstack%2Fcharm-mysql-router~stable%2Fjammy~I9613706f1e2b573af10562fb6fbf0b9a7aedf6da,openstack/charm-mysql-router,stable/jammy,I9613706f1e2b573af10562fb6fbf0b9a7aedf6da,Set [DEFAULT].unknown_config_option to warning.,MERGED,2022-05-05 08:02:23.000000000,2022-05-05 13:48:31.000000000,2022-05-05 13:48:31.000000000,"[{'_account_id': 12549}, {'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-05 08:02:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-mysql-router/commit/f3a0600721f68cd39a6555da24d192b0669f48ea', 'message': 'Set [DEFAULT].unknown_config_option to warning.\n\nThis change sets the configuration option\n[DEFAULT].unknown_config_option to warning on upgrade-charm and on\nconfig-changed, this allows clusters running mysql-8.0.29 with the\n""name"" key set to run.\n\nThis option is set to ""warning"" by default, although mysqlrouter set it\nto ""error"". More details at\nhttps://dev.mysql.com/doc/mysql-router/8.0/en/mysql-router-conf-options.html#option_mysqlrouter_unknown_config_option\n\nCloses-Bug: #1971565\nChange-Id: I9613706f1e2b573af10562fb6fbf0b9a7aedf6da\n(cherry picked from commit 9563b204ad838529c17a155274f5815de595f6dc)\n'}, {'number': 2, 'created': '2022-05-05 10:35:08.000000000', 'files': ['src/lib/charm/openstack/mysql_router.py', 'unit_tests/test_lib_charm_openstack_mysql_router.py'], 'web_link': 'https://opendev.org/openstack/charm-mysql-router/commit/18cff04cc585ee476af1b814d8e364d9257593fb', 'message': 'Set [DEFAULT].unknown_config_option to warning.\n\nThis change sets the configuration option\n[DEFAULT].unknown_config_option to warning on upgrade-charm and on\nconfig-changed, this allows clusters running mysql-8.0.29 with the\n""name"" key set to run.\n\nThis option is set to ""warning"" by default, although mysqlrouter set it\nto ""error"". More details at\nhttps://dev.mysql.com/doc/mysql-router/8.0/en/mysql-router-conf-options.html#option_mysqlrouter_unknown_config_option\n\nCloses-Bug: #1971565\nChange-Id: I9613706f1e2b573af10562fb6fbf0b9a7aedf6da\n(cherry picked from commit 9563b204ad838529c17a155274f5815de595f6dc)\n'}]",5,840583,18cff04cc585ee476af1b814d8e364d9257593fb,11,4,2,20870,,,0,"Set [DEFAULT].unknown_config_option to warning.

This change sets the configuration option
[DEFAULT].unknown_config_option to warning on upgrade-charm and on
config-changed, this allows clusters running mysql-8.0.29 with the
""name"" key set to run.

This option is set to ""warning"" by default, although mysqlrouter set it
to ""error"". More details at
https://dev.mysql.com/doc/mysql-router/8.0/en/mysql-router-conf-options.html#option_mysqlrouter_unknown_config_option

Closes-Bug: #1971565
Change-Id: I9613706f1e2b573af10562fb6fbf0b9a7aedf6da
(cherry picked from commit 9563b204ad838529c17a155274f5815de595f6dc)
",git fetch https://review.opendev.org/openstack/charm-mysql-router refs/changes/83/840583/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/lib/charm/openstack/mysql_router.py', 'unit_tests/test_lib_charm_openstack_mysql_router.py']",2,f3a0600721f68cd39a6555da24d192b0669f48ea,bug/1971565," 'pid_file': '/run/mysql/mysqlrouter-foobar.pid', 'unknown_config_option': 'warning', def test_upgrade_charm_lp1927981(self): # test fix for Bug LP#1927981 current_config = { ""DEFAULT"": {""client_ssl_mode"": ""NONE""}, ""metadata_cache:foo"": { ""ttl"": '5', ""auth_cache_ttl"": '-1', ""auth_cache_refresh_interval"": '2', }, ""metadata_cache:jujuCluster"": { ""ttl"": '5', }, } fake_config = FakeConfigParser(current_config) self.patch_object(mysql_router.charms_openstack.charm.OpenStackCharm, 'upgrade_charm') self.patch_object(mysql_router.configparser, ""ConfigParser"", return_value=fake_config) mrc = mysql_router.MySQLRouterCharm() # should not throw a key error. mrc.upgrade_charm() self.assertIn('metadata_cache:foo', fake_config) self.assertNotIn('metadata_cache:.jujuCluster', fake_config) def test_upgrade_charm_lp1971565(self): # test fix for Bug LP#1971565 current_config = { ""DEFAULT"": {""client_ssl_mode"": ""NONE""}, ""metadata_cache:foo"": { ""ttl"": '5', ""auth_cache_ttl"": '-1', ""auth_cache_refresh_interval"": '2', }, ""metadata_cache:jujuCluster"": { ""ttl"": '5', }, } fake_config = FakeConfigParser(current_config) self.patch_object(mysql_router.charms_openstack.charm.OpenStackCharm, 'upgrade_charm') self.patch_object(mysql_router.configparser, ""ConfigParser"", return_value=fake_config) mrc = mysql_router.MySQLRouterCharm() mrc.upgrade_charm() self.assertIn('metadata_cache:foo', fake_config) self.assertIn('unknown_config_option', fake_config['DEFAULT']) self.assertEqual(fake_config['DEFAULT']['unknown_config_option'], 'warning')", 'pid_file': '/run/mysql/mysqlrouter-foobar.pid',89,1
openstack%2Fcharm-mysql-router~stable%2Fjammy~Iad44744ad01c0b6429fbafb041e6fc11887dbfb9,openstack/charm-mysql-router,stable/jammy,Iad44744ad01c0b6429fbafb041e6fc11887dbfb9,Configure mysqlrouter.conf sections based on wildcards,MERGED,2022-05-04 19:34:36.000000000,2022-05-05 13:48:30.000000000,2022-05-05 13:48:30.000000000,"[{'_account_id': 8992}, {'_account_id': 12549}, {'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-04 19:34:36.000000000', 'files': ['src/lib/charm/openstack/mysql_router.py', 'unit_tests/test_lib_charm_openstack_mysql_router.py', 'src/tests/bundles/focal-full.yaml'], 'web_link': 'https://opendev.org/openstack/charm-mysql-router/commit/3bbcaa0b37b48503e61f68e5b3d247d624bc7e3d', 'message': ""Configure mysqlrouter.conf sections based on wildcards\n\nUpon bootstrap, the mysqlrouter will create a mysqlrouter.conf file for\nthe cluster it is connecting to. This creates sections such as\nmetadata_cache:<cluster_name>, routing:<cluster_name>_rw,\nrouting:<cluster_name>_ro, etc. The cluster name is not provided on the\nmysql-router interface so this information is not available in\ndetermining the correct section name. Since the mysql-router is designed\nto work with a single cluster, the need to update the interface which in\nturn requires the user to update a number of deployed charms in the\nenvironment, an approach is taken to allow regular expressions to be\nused when matching the section name.\n\nThere is some risk to this in that it requires that future edits\ncarefully consider the possible section names when future sections are\nadded. However, this developer cost is traded off in order to ease the\nburden of operators.\n\nFor the upgrade scenario, this patch also checks to see if the file\nrendered on disk contains multiple 'metadata_cache' sections, and if so\nrewrites the mysqlrouter.conf file with the hardcoded\nmetadata_cache:jujuCluster section removed.\n\nCloses-Bug: #1927981\nChange-Id: Iad44744ad01c0b6429fbafb041e6fc11887dbfb9\n(cherry picked from commit 5a2da1800272af2875064a295b8ba7044cf7bcea)\n""}]",1,840475,3bbcaa0b37b48503e61f68e5b3d247d624bc7e3d,9,5,1,20870,,,0,"Configure mysqlrouter.conf sections based on wildcards

Upon bootstrap, the mysqlrouter will create a mysqlrouter.conf file for
the cluster it is connecting to. This creates sections such as
metadata_cache:<cluster_name>, routing:<cluster_name>_rw,
routing:<cluster_name>_ro, etc. The cluster name is not provided on the
mysql-router interface so this information is not available in
determining the correct section name. Since the mysql-router is designed
to work with a single cluster, the need to update the interface which in
turn requires the user to update a number of deployed charms in the
environment, an approach is taken to allow regular expressions to be
used when matching the section name.

There is some risk to this in that it requires that future edits
carefully consider the possible section names when future sections are
added. However, this developer cost is traded off in order to ease the
burden of operators.

For the upgrade scenario, this patch also checks to see if the file
rendered on disk contains multiple 'metadata_cache' sections, and if so
rewrites the mysqlrouter.conf file with the hardcoded
metadata_cache:jujuCluster section removed.

Closes-Bug: #1927981
Change-Id: Iad44744ad01c0b6429fbafb041e6fc11887dbfb9
(cherry picked from commit 5a2da1800272af2875064a295b8ba7044cf7bcea)
",git fetch https://review.opendev.org/openstack/charm-mysql-router refs/changes/75/840475/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/lib/charm/openstack/mysql_router.py', 'unit_tests/test_lib_charm_openstack_mysql_router.py', 'src/tests/bundles/focal-full.yaml']",3,3bbcaa0b37b48503e61f68e5b3d247d624bc7e3d,bug/1927981-stable/jammy, cluster-name: foo,,146,15
openstack%2Fopenstack-ansible-os_cloudkitty~master~I81413b5ff415ee3d0b5a33189335591146e8f698,openstack/openstack-ansible-os_cloudkitty,master,I81413b5ff415ee3d0b5a33189335591146e8f698,Refactor use of include_vars,MERGED,2022-01-12 08:37:52.000000000,2022-05-05 13:44:38.000000000,2022-05-05 13:42:56.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-01-12 08:37:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_cloudkitty/commit/2648c88fe07acffb5efafca4585f7dc4dac2b40d', 'message': ""Refactor use of include_vars\n\nUse a first_found lookup instead of a with_first_found loop so that\nthe 'paths' parameter can be used.\n\nThis ensures that only vars from the role are included, and not vars\nfrom a parent calling role. This can happen when a parent role has\na higher priority vars file available for inclusion than the role\nit calls.\n\nChange-Id: I81413b5ff415ee3d0b5a33189335591146e8f698\n""}, {'number': 2, 'created': '2022-04-29 11:38:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_cloudkitty/commit/0cdcecdd6a72a77c940f409165a6fcfab4e4482c', 'message': ""Refactor use of include_vars\n\nUse a first_found lookup instead of a with_first_found loop so that\nthe 'paths' parameter can be used.\n\nThis ensures that only vars from the role are included, and not vars\nfrom a parent calling role. This can happen when a parent role has\na higher priority vars file available for inclusion than the role\nit calls.\n\nChange-Id: I81413b5ff415ee3d0b5a33189335591146e8f698\n""}, {'number': 3, 'created': '2022-04-29 18:25:45.000000000', 'files': ['tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_cloudkitty/commit/0b92ee6f7dd17c79ab7e1d193a92aacde56892a6', 'message': ""Refactor use of include_vars\n\nUse a first_found lookup instead of a with_first_found loop so that\nthe 'paths' parameter can be used.\n\nThis ensures that only vars from the role are included, and not vars\nfrom a parent calling role. This can happen when a parent role has\na higher priority vars file available for inclusion than the role\nit calls.\n\nDepends-On:  https://review.opendev.org/c/openstack/openstack-ansible/+/839989\n\nChange-Id: I81413b5ff415ee3d0b5a33189335591146e8f698\n""}]",2,824336,0b92ee6f7dd17c79ab7e1d193a92aacde56892a6,17,3,3,25023,,,0,"Refactor use of include_vars

Use a first_found lookup instead of a with_first_found loop so that
the 'paths' parameter can be used.

This ensures that only vars from the role are included, and not vars
from a parent calling role. This can happen when a parent role has
a higher priority vars file available for inclusion than the role
it calls.

Depends-On:  https://review.opendev.org/c/openstack/openstack-ansible/+/839989

Change-Id: I81413b5ff415ee3d0b5a33189335591146e8f698
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_cloudkitty refs/changes/36/824336/2 && git format-patch -1 --stdout FETCH_HEAD,['tasks/main.yml'],1,2648c88fe07acffb5efafca4585f7dc4dac2b40d,osa/include_vars," include_vars: ""{{ lookup('first_found', params) }}"" vars: params: files: - ""{{ ansible_facts['distribution'] | lower }}-{{ ansible_facts['distribution_version'] | lower }}.yml"" - ""{{ ansible_facts['distribution'] | lower }}-{{ ansible_facts['distribution_major_version'] | lower }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}-{{ ansible_facts['distribution_major_version'] | lower }}.yml"" - ""{{ ansible_facts['distribution'] | lower }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}-{{ ansible_facts['distribution_version'].split('.')[0] }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}.yml"" paths: - ""{{ role_path }}/vars"""," include_vars: ""{{ item }}"" with_first_found: - ""{{ ansible_facts['distribution'] | lower }}-{{ ansible_facts['distribution_version'] | lower }}.yml"" - ""{{ ansible_facts['distribution'] | lower }}-{{ ansible_facts['distribution_major_version'] | lower }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}-{{ ansible_facts['distribution_major_version'] | lower }}.yml"" - ""{{ ansible_facts['distribution'] | lower }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}.yml""",12,7
openstack%2Fopenstack-ansible-repo_server~master~I9008680a5f41287599d67f4ce70605b60bccabf3,openstack/openstack-ansible-repo_server,master,I9008680a5f41287599d67f4ce70605b60bccabf3,Add facility to store repo contents on a remote mount,MERGED,2022-04-12 15:22:30.000000000,2022-05-05 13:43:45.000000000,2022-05-05 13:42:31.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}, {'_account_id': 32666}]","[{'number': 1, 'created': '2022-04-12 15:22:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-repo_server/commit/10a0158f0abc135525ae909b7ad02a339a7aef25', 'message': 'Add facility to store repo contents on a remote mount\n\nChange-Id: I9008680a5f41287599d67f4ce70605b60bccabf3\n'}, {'number': 2, 'created': '2022-04-12 15:41:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-repo_server/commit/1659f63cb62c2f6a5b55073c004f75d390a675b5', 'message': 'Add facility to store repo contents on a remote mount\n\nChange-Id: I9008680a5f41287599d67f4ce70605b60bccabf3\n'}, {'number': 3, 'created': '2022-04-12 17:14:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-repo_server/commit/de178f5ff7549930c10967e2a47360aae319b53c', 'message': 'Add facility to store repo contents on a remote mount\n\nChange-Id: I9008680a5f41287599d67f4ce70605b60bccabf3\n'}, {'number': 4, 'created': '2022-04-13 14:07:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-repo_server/commit/17845131f8c889fc523dc363951f0784c8ea62e5', 'message': 'Add facility to store repo contents on a remote mount\n\nChange-Id: I9008680a5f41287599d67f4ce70605b60bccabf3\n'}, {'number': 5, 'created': '2022-04-13 17:15:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-repo_server/commit/2936fa0c331fc229d0d4983fc2f05ddb143f1402', 'message': 'Add facility to store repo contents on a remote mount\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/837706\nChange-Id: I9008680a5f41287599d67f4ce70605b60bccabf3\n'}, {'number': 6, 'created': '2022-04-14 07:41:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-repo_server/commit/2202a33e1775de3a40673113b7a7023b167c3211', 'message': 'Add facility to store repo contents on a remote mount\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/837706\nChange-Id: I9008680a5f41287599d67f4ce70605b60bccabf3\n'}, {'number': 7, 'created': '2022-04-19 11:10:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-repo_server/commit/65af00ca45684b02d434a00273c60a9c87dc89a5', 'message': 'Add facility to store repo contents on a remote mount\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/837706\nChange-Id: I9008680a5f41287599d67f4ce70605b60bccabf3\n'}, {'number': 8, 'created': '2022-04-20 06:55:33.000000000', 'files': ['tasks/main.yml', 'tasks/repo_pre_install.yml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-repo_server/commit/c966363bd44f0e9032b35406d75fa61d46aad3cb', 'message': 'Add facility to store repo contents on a remote mount\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/837706\nChange-Id: I9008680a5f41287599d67f4ce70605b60bccabf3\n'}]",13,837587,c966363bd44f0e9032b35406d75fa61d46aad3cb,30,5,8,25023,,,0,"Add facility to store repo contents on a remote mount

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/837706
Change-Id: I9008680a5f41287599d67f4ce70605b60bccabf3
",git fetch https://review.opendev.org/openstack/openstack-ansible-repo_server refs/changes/87/837587/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/repo_post_install.yml', 'defaults/main.yml']",2,10a0158f0abc135525ae909b7ad02a339a7aef25,osa-gluster," #shared filesystem repo_server_glusterfs_server: ""{{ ansible_hostname }}"" repo_server_glusterfs_volume_name: ""gfs-repo"" repo_server_glusterfs_mount_point: ""/var/www/repo"" repo_server_systemd_mounts: - what: ""{{ repo_server_glusterfs_server ~ ':' ~ repo_server_glusterfs_volume_name }}"" where: ""{{ repo_server_glusterfs_mount_point }}"" type: glusterfs state: 'started' enabled: true",,19,0
openstack%2Fopenstack-ansible-os_cloudkitty~master~I7e79f669d4b65ce067c57bda06e1887c1125ee4e,openstack/openstack-ansible-os_cloudkitty,master,I7e79f669d4b65ce067c57bda06e1887c1125ee4e,Remove legacy policy.json cleanup handler,MERGED,2022-02-02 09:09:36.000000000,2022-05-05 13:43:37.000000000,2022-05-05 13:42:18.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-02-02 09:09:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_cloudkitty/commit/bbf4c9cd66c69e3bc054640bc2741c2c30bdd2ec', 'message': 'Remove legacy policy.json cleanup handler\n\nChange-Id: I7e79f669d4b65ce067c57bda06e1887c1125ee4e\n'}, {'number': 2, 'created': '2022-04-29 18:48:56.000000000', 'files': ['handlers/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_cloudkitty/commit/8d64d4d5934bfc86d3b6b26fd902a8540e384976', 'message': 'Remove legacy policy.json cleanup handler\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/839989\nChange-Id: I7e79f669d4b65ce067c57bda06e1887c1125ee4e\n'}]",1,827436,8d64d4d5934bfc86d3b6b26fd902a8540e384976,12,4,2,25023,,,0,"Remove legacy policy.json cleanup handler

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/839989
Change-Id: I7e79f669d4b65ce067c57bda06e1887c1125ee4e
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_cloudkitty refs/changes/36/827436/1 && git format-patch -1 --stdout FETCH_HEAD,['handlers/main.yml'],1,bbf4c9cd66c69e3bc054640bc2741c2c30bdd2ec,,,"# NOTE (noonedeadpunk): Remove this task after Xena release - name: Remove obsoleted policy.json file: path: ""/etc/cloudkitty/policy.json"" state: absent listen: - ""Restart cloudkitty services"" - ""venv changed"" ",0,9
openstack%2Fopenstack-ansible-os_mistral~master~I68f0921ea1441d552dfcbc6197327d3046991b36,openstack/openstack-ansible-os_mistral,master,I68f0921ea1441d552dfcbc6197327d3046991b36,Refactor use of include_vars,MERGED,2022-01-12 08:26:21.000000000,2022-05-05 13:41:18.000000000,2022-05-05 13:39:37.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-01-12 08:26:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_mistral/commit/88d0089d6b0e3861b3973f0b26faef90eb88d1dc', 'message': ""Refactor use of include_vars\n\nUse a first_found lookup instead of a with_first_found loop so that\nthe 'paths' parameter can be used.\n\nThis ensures that only vars from the role are included, and not vars\nfrom a parent calling role. This can happen when a parent role has\na higher priority vars file available for inclusion than the role\nit calls.\n\nChange-Id: I68f0921ea1441d552dfcbc6197327d3046991b36\n""}, {'number': 2, 'created': '2022-04-29 11:38:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_mistral/commit/d48447f6a398e547969f8bf877242fe72b677540', 'message': ""Refactor use of include_vars\n\nUse a first_found lookup instead of a with_first_found loop so that\nthe 'paths' parameter can be used.\n\nThis ensures that only vars from the role are included, and not vars\nfrom a parent calling role. This can happen when a parent role has\na higher priority vars file available for inclusion than the role\nit calls.\n\nChange-Id: I68f0921ea1441d552dfcbc6197327d3046991b36\n""}, {'number': 3, 'created': '2022-04-29 18:17:39.000000000', 'files': ['tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_mistral/commit/0139fe44b2e68b776e476049dba4bc9cf579fe32', 'message': ""Refactor use of include_vars\n\nUse a first_found lookup instead of a with_first_found loop so that\nthe 'paths' parameter can be used.\n\nThis ensures that only vars from the role are included, and not vars\nfrom a parent calling role. This can happen when a parent role has\na higher priority vars file available for inclusion than the role\nit calls.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/839988\nChange-Id: I68f0921ea1441d552dfcbc6197327d3046991b36\n""}]",2,824325,0139fe44b2e68b776e476049dba4bc9cf579fe32,17,3,3,25023,,,0,"Refactor use of include_vars

Use a first_found lookup instead of a with_first_found loop so that
the 'paths' parameter can be used.

This ensures that only vars from the role are included, and not vars
from a parent calling role. This can happen when a parent role has
a higher priority vars file available for inclusion than the role
it calls.

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/839988
Change-Id: I68f0921ea1441d552dfcbc6197327d3046991b36
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_mistral refs/changes/25/824325/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/main.yml'],1,88d0089d6b0e3861b3973f0b26faef90eb88d1dc,osa/include_vars," include_vars: ""{{ lookup('first_found', params) }}"" vars: params: files: - ""{{ ansible_facts['distribution'] | lower }}-{{ ansible_facts['distribution_version'] | lower }}.yml"" - ""{{ ansible_facts['distribution'] | lower }}-{{ ansible_facts['distribution_major_version'] | lower }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}-{{ ansible_facts['distribution_major_version'] | lower }}.yml"" - ""{{ ansible_facts['distribution'] | lower }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}-{{ ansible_facts['distribution_version'].split('.')[0] }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}.yml"" paths: - ""{{ role_path }}/vars"""," include_vars: ""{{ item }}"" with_first_found: - ""{{ ansible_facts['distribution'] | lower }}-{{ ansible_facts['distribution_version'] | lower }}.yml"" - ""{{ ansible_facts['distribution'] | lower }}-{{ ansible_facts['distribution_major_version'] | lower }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}-{{ ansible_facts['distribution_major_version'] | lower }}.yml"" - ""{{ ansible_facts['distribution'] | lower }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}-{{ ansible_facts['distribution_version'].split('.')[0] }}.yml"" - ""{{ ansible_facts['os_family'] | lower }}.yml""",12,8
openstack%2Fneutron~master~I6b234fbe1b7c54b41a1b8b430fdf0ac76993af96,openstack/neutron,master,I6b234fbe1b7c54b41a1b8b430fdf0ac76993af96,[OVN] Add baremetal support with Neutron DHCP agent,MERGED,2022-05-03 13:28:15.000000000,2022-05-05 13:36:49.000000000,2022-05-05 13:34:54.000000000,"[{'_account_id': 3153}, {'_account_id': 8655}, {'_account_id': 9845}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-03 13:28:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c5f4d21c1dd6fc94725f8cb59ef9b60ab768f8c9', 'message': '[OVN] Add baremetal support with Neutron DHCP agent\n\nThis patch now creates OVN ""external"" ports for Neutron ports with\nVNIC_BAREMETAL. This ports will be scheduled on the controller nodes (or\ngateway nodes) and are responsible for replying to the ARP requests\ncoming from the baremetal nodes.\n\nThis patch also disables OVN\'s built-in DHCP server for VNIC_BAREMETAL\nports. This is because OVN DHCP server does not yet fully support\nchainloading from PXE to iPXE, this feature is work-in-progress right\nnow. A following patch to this one will be sent in the future adding\nsupport for OVN\'s built-in DHCP server being used with baremetal nodes.\n\nThis patch implements the ""Part 1"" from bug #1971431.\n\nPartial-bug: #1971431\nChange-Id: I6b234fbe1b7c54b41a1b8b430fdf0ac76993af96\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 2, 'created': '2022-05-04 07:57:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/05881b9e8d71836ee4d9bd671fa7f70efc804711', 'message': '[OVN] Add baremetal support with Neutron DHCP agent\n\nThis patch now creates OVN ""external"" ports for Neutron ports with\nVNIC_BAREMETAL. This ports will be scheduled on the OpenStack Controller\nnodes (or OVN Gateway nodes) and are responsible for replying to the\nARP requests coming from the baremetal nodes.\n\nThis patch also disables OVN\'s built-in DHCP server for VNIC_BAREMETAL\nports. This is because OVN DHCP server does not yet fully support\nchainloading from PXE to iPXE, this feature is work-in-progress right\nnow. A following patch to this one will be sent in the future adding\nsupport for OVN\'s built-in DHCP server being used with baremetal nodes.\n\nThis patch implements the ""Part 1"" from bug #1971431.\n\nPartial-bug: #1971431\nChange-Id: I6b234fbe1b7c54b41a1b8b430fdf0ac76993af96\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 3, 'created': '2022-05-04 07:57:39.000000000', 'files': ['neutron/common/ovn/utils.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/common/ovn/constants.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/243c209eb2cf75570e6c850b7d5becb468e8d1ab', 'message': '[OVN] Add baremetal support with Neutron DHCP agent\n\nThis patch now creates OVN ""external"" ports for Neutron ports with\nVNIC_BAREMETAL. This ports will be scheduled on the OpenStack Controller\nnodes (or OVN Gateway nodes) and are responsible for replying to the\nARP requests coming from the baremetal nodes.\n\nThis patch also disables OVN\'s built-in DHCP server for VNIC_BAREMETAL\nports. This is because OVN DHCP server does not yet fully support\nchainloading from PXE to iPXE, this feature is work-in-progress right\nnow. A following patch to this one will be sent in the future adding\nsupport for OVN\'s built-in DHCP server being used with baremetal nodes.\n\nThis patch implements the ""Part 1"" from bug #1971431.\n\nPartial-bug: #1971431\nChange-Id: I6b234fbe1b7c54b41a1b8b430fdf0ac76993af96\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}]",11,840287,243c209eb2cf75570e6c850b7d5becb468e8d1ab,29,5,3,6773,,,0,"[OVN] Add baremetal support with Neutron DHCP agent

This patch now creates OVN ""external"" ports for Neutron ports with
VNIC_BAREMETAL. This ports will be scheduled on the OpenStack Controller
nodes (or OVN Gateway nodes) and are responsible for replying to the
ARP requests coming from the baremetal nodes.

This patch also disables OVN's built-in DHCP server for VNIC_BAREMETAL
ports. This is because OVN DHCP server does not yet fully support
chainloading from PXE to iPXE, this feature is work-in-progress right
now. A following patch to this one will be sent in the future adding
support for OVN's built-in DHCP server being used with baremetal nodes.

This patch implements the ""Part 1"" from bug #1971431.

Partial-bug: #1971431
Change-Id: I6b234fbe1b7c54b41a1b8b430fdf0ac76993af96
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
",git fetch https://review.opendev.org/openstack/neutron refs/changes/87/840287/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/common/ovn/utils.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/common/ovn/constants.py']",3,c5f4d21c1dd6fc94725f8cb59ef9b60ab768f8c9,ovn-baremetal," portbindings.VNIC_MACVTAP, portbindings.VNIC_BAREMETAL) portbindings.VNIC_BAREMETAL]", portbindings.VNIC_MACVTAP) ],13,3
openstack%2Fnova~master~I575ce06bcc913add7db0849f85728371da2032fc,openstack/nova,master,I575ce06bcc913add7db0849f85728371da2032fc,Allow claiming PCI PF if child VF is unavailable,MERGED,2022-04-19 16:37:49.000000000,2022-05-05 13:36:34.000000000,2022-05-05 13:34:46.000000000,"[{'_account_id': 4690}, {'_account_id': 9708}, {'_account_id': 11604}, {'_account_id': 22348}, {'_account_id': 32029}]","[{'number': 1, 'created': '2022-04-19 16:37:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1c9c1422ecb0d3adebe79d858f8abf99bcdc4273', 'message': 'DNM:Allow claiming PCI PF if child VF is unavailable\n\nThis is just a partial fix at the moment.\n\nCloses-Bug: #1969496\nChange-Id: I575ce06bcc913add7db0849f85728371da2032fc\n'}, {'number': 2, 'created': '2022-04-20 09:54:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4740a86d2c9f351cd86ca37fd7596158e79c97e2', 'message': 'DNM:Allow claiming PCI PF if child VF is unavailable\n\nThis is just a partial fix at the moment.\n\nCloses-Bug: #1969496\nChange-Id: I575ce06bcc913add7db0849f85728371da2032fc\n'}, {'number': 3, 'created': '2022-04-25 14:25:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/039d35764e7889e158cd442817d27f98b3c6e305', 'message': ""Allow claiming PCI PF if child VF is unavailable\n\nAs If9ab424cc7375a1f0d41b03f01c4a823216b3eb8 stated there is a way for\nthe pci_device table to become inconsistent. Parent PF can be in\n'available' state while children VFs are still in 'unavailable' state.\nIn this situation the PF is schedulable but the PCI claim will fail\nwhen try to mark the dependent VFs unavailable.\n\nThis patch changes the PCI claim logic to allow claiming the parent PF\nin the inconsistent situation as we assume that it is safe to do so.\nThis claim also fixed the inconsistency so that when the parent PF is\nfreed the children VFs become available again.\n\nCloses-Bug: #1969496\nChange-Id: I575ce06bcc913add7db0849f85728371da2032fc\n""}, {'number': 4, 'created': '2022-04-28 10:58:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f395e71168d843f06c8de7b04874c29f1e10e5a8', 'message': ""Allow claiming PCI PF if child VF is unavailable\n\nAs If9ab424cc7375a1f0d41b03f01c4a823216b3eb8 stated there is a way for\nthe pci_device table to become inconsistent. Parent PF can be in\n'available' state while children VFs are still in 'unavailable' state.\nIn this situation the PF is schedulable but the PCI claim will fail\nwhen try to mark the dependent VFs unavailable.\n\nThis patch changes the PCI claim logic to allow claiming the parent PF\nin the inconsistent situation as we assume that it is safe to do so.\nThis claim also fixed the inconsistency so that when the parent PF is\nfreed the children VFs become available again.\n\nCloses-Bug: #1969496\nChange-Id: I575ce06bcc913add7db0849f85728371da2032fc\n""}, {'number': 5, 'created': '2022-04-28 14:02:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/951a2ae047a34e3023e82fdf218c3ac3b08882cc', 'message': ""Allow claiming PCI PF if child VF is unavailable\n\nAs If9ab424cc7375a1f0d41b03f01c4a823216b3eb8 stated there is a way for\nthe pci_device table to become inconsistent. Parent PF can be in\n'available' state while children VFs are still in 'unavailable' state.\nIn this situation the PF is schedulable but the PCI claim will fail\nwhen try to mark the dependent VFs unavailable.\n\nThis patch changes the PCI claim logic to allow claiming the parent PF\nin the inconsistent situation as we assume that it is safe to do so.\nThis claim also fixed the inconsistency so that when the parent PF is\nfreed the children VFs become available again.\n\nCloses-Bug: #1969496\nChange-Id: I575ce06bcc913add7db0849f85728371da2032fc\n""}, {'number': 6, 'created': '2022-05-04 08:57:11.000000000', 'files': ['nova/objects/pci_device.py', 'nova/tests/unit/pci/test_manager.py', 'nova/pci/stats.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/3af2ecc13fa9334de8418accaed4fffefefb41da', 'message': ""Allow claiming PCI PF if child VF is unavailable\n\nAs If9ab424cc7375a1f0d41b03f01c4a823216b3eb8 stated there is a way for\nthe pci_device table to become inconsistent. Parent PF can be in\n'available' state while children VFs are still in 'unavailable' state.\nIn this situation the PF is schedulable but the PCI claim will fail\nwhen try to mark the dependent VFs unavailable.\n\nThis patch changes the PCI claim logic to allow claiming the parent PF\nin the inconsistent situation as we assume that it is safe to do so.\nThis claim also fixed the inconsistency so that when the parent PF is\nfreed the children VFs become available again.\n\nCloses-Bug: #1969496\nChange-Id: I575ce06bcc913add7db0849f85728371da2032fc\n""}]",28,838555,3af2ecc13fa9334de8418accaed4fffefefb41da,66,5,6,9708,,,0,"Allow claiming PCI PF if child VF is unavailable

As If9ab424cc7375a1f0d41b03f01c4a823216b3eb8 stated there is a way for
the pci_device table to become inconsistent. Parent PF can be in
'available' state while children VFs are still in 'unavailable' state.
In this situation the PF is schedulable but the PCI claim will fail
when try to mark the dependent VFs unavailable.

This patch changes the PCI claim logic to allow claiming the parent PF
in the inconsistent situation as we assume that it is safe to do so.
This claim also fixed the inconsistency so that when the parent PF is
freed the children VFs become available again.

Closes-Bug: #1969496
Change-Id: I575ce06bcc913add7db0849f85728371da2032fc
",git fetch https://review.opendev.org/openstack/nova refs/changes/55/838555/5 && git format-patch -1 --stdout FETCH_HEAD,"['nova/objects/pci_device.py', 'nova/tests/unit/pci/test_manager.py', 'nova/pci/stats.py']",3,1c9c1422ecb0d3adebe79d858f8abf99bcdc4273,bug/1969496, free_devs = self.get_free_devs() for vf in vfs_list: # NOTE(gibi): do not try to remove a device that are # already removed if vf in free_devs: self.remove_device(vf), for vf in vfs_list: self.remove_device(vf),11,26
openstack%2Fglance_store~master~I43c407046a49bb37631113e2ea65d05450f9365d,openstack/glance_store,master,I43c407046a49bb37631113e2ea65d05450f9365d,Cinder: Correct exception logging during attach,MERGED,2022-04-18 18:34:45.000000000,2022-05-05 13:36:01.000000000,2022-05-05 13:34:26.000000000,"[{'_account_id': 5202}, {'_account_id': 8122}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-18 18:34:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance_store/commit/7d9a6ea56c3d65a01a3af1b46033da4b96a79a0f', 'message': 'Cinder: Correct exception message during attach\n\nThere is a syntax error in the exception message when attaching a\nvolume fails in attachment state manager. This patch corrects it\nand adds a test to guard against similar changes in future.\n\nChange-Id: I43c407046a49bb37631113e2ea65d05450f9365d\n'}, {'number': 2, 'created': '2022-04-28 05:02:50.000000000', 'files': ['glance_store/tests/unit/common/test_attachment_state_manager.py', 'glance_store/common/attachment_state_manager.py', 'releasenotes/notes/fix-exception-logging-during-attach-9546e24189db83c4.yaml'], 'web_link': 'https://opendev.org/openstack/glance_store/commit/3ee399a1e35fbf9067f0548b69bc19ca48b8de5f', 'message': 'Cinder: Correct exception logging during attach\n\nThere is a syntax error in the exception logging when attaching a\nvolume fails in attachment state manager. This patch corrects it\nand adds a test to guard against similar changes in future.\n\nCloses-Bug: #1970698\n\nChange-Id: I43c407046a49bb37631113e2ea65d05450f9365d\n'}]",6,838335,3ee399a1e35fbf9067f0548b69bc19ca48b8de5f,13,3,2,27615,,,0,"Cinder: Correct exception logging during attach

There is a syntax error in the exception logging when attaching a
volume fails in attachment state manager. This patch corrects it
and adds a test to guard against similar changes in future.

Closes-Bug: #1970698

Change-Id: I43c407046a49bb37631113e2ea65d05450f9365d
",git fetch https://review.opendev.org/openstack/glance_store refs/changes/35/838335/2 && git format-patch -1 --stdout FETCH_HEAD,"['glance_store/tests/unit/common/test_attachment_state_manager.py', 'glance_store/common/attachment_state_manager.py']",2,7d9a6ea56c3d65a01a3af1b46033da4b96a79a0f,838335," LOG.exception(_LE('Error attaching volume %(volume_id)s'), {'volume_id': volume_id})"," LOG.exception(_LE('Error attaching volume %(volume_id)s', {'volume_id': volume_id}))",11,2
openstack%2Fopenstack-ansible-os_mistral~master~Ibbb2a51e17a37e17469b1b4d4c1b8c0fc0450b35,openstack/openstack-ansible-os_mistral,master,Ibbb2a51e17a37e17469b1b4d4c1b8c0fc0450b35,Remove legacy policy.json cleanup handler,MERGED,2022-02-02 09:18:55.000000000,2022-05-05 13:35:59.000000000,2022-05-05 13:33:50.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-02-02 09:18:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_mistral/commit/8afbffab973a58592e1a1daf207fc9bf6f4bb4fb', 'message': 'Remove legacy policy.json cleanup handler\n\nChange-Id: Ibbb2a51e17a37e17469b1b4d4c1b8c0fc0450b35\n'}, {'number': 2, 'created': '2022-04-29 18:47:02.000000000', 'files': ['handlers/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_mistral/commit/42e1f72e2575face790f9a1fda385ec9e3b06578', 'message': 'Remove legacy policy.json cleanup handler\n\nDepends-On:  https://review.opendev.org/c/openstack/openstack-ansible/+/839988\nChange-Id: Ibbb2a51e17a37e17469b1b4d4c1b8c0fc0450b35\n'}]",1,827448,42e1f72e2575face790f9a1fda385ec9e3b06578,12,4,2,25023,,,0,"Remove legacy policy.json cleanup handler

Depends-On:  https://review.opendev.org/c/openstack/openstack-ansible/+/839988
Change-Id: Ibbb2a51e17a37e17469b1b4d4c1b8c0fc0450b35
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_mistral refs/changes/48/827448/1 && git format-patch -1 --stdout FETCH_HEAD,['handlers/main.yml'],1,8afbffab973a58592e1a1daf207fc9bf6f4bb4fb,,,"# NOTE (noonedeadpunk): Remove this task after Xena release - name: Remove obsoleted policy.json file: path: ""/etc/mistral/policy.json"" state: absent listen: - ""Restart mistral services"" - ""venv changed"" ",0,9
openstack%2Fansible-role-systemd_mount~master~I2631e6f00011942954be7c776e3c99a11bdfb28d,openstack/ansible-role-systemd_mount,master,I2631e6f00011942954be7c776e3c99a11bdfb28d,Add support for glusterfs mounts,MERGED,2022-04-13 16:47:34.000000000,2022-05-05 13:28:42.000000000,2022-05-05 13:27:28.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 31542}, {'_account_id': 32666}]","[{'number': 1, 'created': '2022-04-13 16:47:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-systemd_mount/commit/11c23a5232f31ee836a3741dc334e7f646b27a06', 'message': 'Add support for glusterfs mounts\n\nChange-Id: I2631e6f00011942954be7c776e3c99a11bdfb28d\n'}, {'number': 2, 'created': '2022-04-13 17:15:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-systemd_mount/commit/872ad868d74378683191daa2a2111cf1036065f1', 'message': 'Add support for glusterfs mounts\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/837706\nChange-Id: I2631e6f00011942954be7c776e3c99a11bdfb28d\n'}, {'number': 3, 'created': '2022-04-19 10:28:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-systemd_mount/commit/409b65aa305d793b01d8e2f265dcb14c55fe61f3', 'message': 'Add support for glusterfs mounts\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/837706\nChange-Id: I2631e6f00011942954be7c776e3c99a11bdfb28d\n'}, {'number': 4, 'created': '2022-04-20 06:53:34.000000000', 'files': ['vars/redhat.yml', 'vars/debian.yml', 'defaults/main.yml', 'vars/main.yml', 'tasks/systemd_install.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-systemd_mount/commit/d74c88dcb5cd26e18864c9e0932adb303650c84f', 'message': 'Add support for glusterfs mounts\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/837706\nChange-Id: I2631e6f00011942954be7c776e3c99a11bdfb28d\n'}]",3,837750,d74c88dcb5cd26e18864c9e0932adb303650c84f,19,6,4,25023,,,0,"Add support for glusterfs mounts

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/837706
Change-Id: I2631e6f00011942954be7c776e3c99a11bdfb28d
",git fetch https://review.opendev.org/openstack/ansible-role-systemd_mount refs/changes/50/837750/2 && git format-patch -1 --stdout FETCH_HEAD,"['vars/redhat.yml', 'vars/debian.yml', 'defaults/main.yml', 'vars/main.yml', 'tasks/systemd_install.yml']",5,11c23a5232f31ee836a3741dc334e7f646b27a06,osa-gluster," - name: Configure fuse for glusterfs when: - ""'glusterfs' in systemd_mount_types"" block: - name: Configure systemd-tmpfiles to create /dev/fuse at boot copy: content: ""c /dev/fuse 0600 - - - 10:229"" dest: ""/etc/tmpfiles.d/openstack-ansible-systemd_mount-glusterfs-client.conf"" register: _glusterfs_server_tmpfiles - name: Restart systemd-tmpfiles-setup-dev service: name: ""systemd-tmpfiles-setup-dev"" state: restarted when: - _glusterfs_server_tmpfiles is changed",,30,0
openstack%2Ftripleo-docs~master~Ic7967620110dab88f424b1d8eae72b97b7ed4060,openstack/tripleo-docs,master,Ic7967620110dab88f424b1d8eae72b97b7ed4060,Document Creating Pools/CephX keys before overcloud deployment,MERGED,2022-04-14 19:01:41.000000000,2022-05-05 13:24:40.000000000,2022-05-05 13:23:08.000000000,"[{'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 25402}]","[{'number': 1, 'created': '2022-04-14 19:01:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/65019c4a084611d4aa03d94791669747742b25c4', 'message': 'Document Creating Pools/CephX keys before overcloud deployment\n\nDepends-On: Ic37d7123c30b559b1ff41e1d93ce7c7673b85a92\nChange-Id: Ic7967620110dab88f424b1d8eae72b97b7ed4060\n'}, {'number': 2, 'created': '2022-04-14 19:42:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/e9724e3118a1fdd261bdbd799799f8268a5526b7', 'message': 'Document Creating Pools/CephX keys before overcloud deployment\n\nDepends-On: Ic37d7123c30b559b1ff41e1d93ce7c7673b85a92\nChange-Id: Ic7967620110dab88f424b1d8eae72b97b7ed4060\n'}, {'number': 3, 'created': '2022-04-22 21:34:23.000000000', 'files': ['deploy-guide/source/features/deployed_ceph.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/67a54a5cc8487f3a25cb8d4c40fe52631053a6bd', 'message': 'Document Creating Pools/CephX keys before overcloud deployment\n\nDepends-On: Ic37d7123c30b559b1ff41e1d93ce7c7673b85a92\nChange-Id: Ic7967620110dab88f424b1d8eae72b97b7ed4060\n'}]",9,838003,67a54a5cc8487f3a25cb8d4c40fe52631053a6bd,24,3,3,18002,,,0,"Document Creating Pools/CephX keys before overcloud deployment

Depends-On: Ic37d7123c30b559b1ff41e1d93ce7c7673b85a92
Change-Id: Ic7967620110dab88f424b1d8eae72b97b7ed4060
",git fetch https://review.opendev.org/openstack/tripleo-docs refs/changes/03/838003/1 && git format-patch -1 --stdout FETCH_HEAD,['deploy-guide/source/features/deployed_ceph.rst'],1,65019c4a084611d4aa03d94791669747742b25c4,deployed_pools," [--cluster CLUSTER] [--mon-ip MON_IP] [--config CONFIG] [--force] [--ansible-extra-vars ANSIBLE_EXTRA_VARS] [--ceph-client-username CEPH_CLIENT_USERNAME] [--ceph-client-key CEPH_CLIENT_KEY] [--skip-cephx-keys] [--ceph-vip CEPH_VIP] [--ceph-spec CEPH_SPEC | --osd-spec OSD_SPEC] [--crush-hierarchy CRUSH_HIERARCHY] --cluster CLUSTER Name of the Ceph cluster. If set to 'foo', then the files /etc/ceph/<FSID>/foo.conf and /etc/ceph/<FSID>/foo.client.admin.keyring will be created. Otherwise these files will use the name 'ceph'. Changing this means changing command line calls too, e.g. 'ceph health' will become 'ceph --cluster foo health' unless export CEPH_ARGS='-- cluster foo' is used. --ansible-extra-vars ANSIBLE_EXTRA_VARS Path to an existing Ansible vars file which can override any variable in tripleo-ansible. If '-- ansible-extra-vars vars.yaml' is passed, then 'ansible-playbook -e @vars.yaml ...' is used to call tripleo-ansible Ceph roles. Warning: requires --force as not all possible options ensure a functional deployment. --ceph-client-username CEPH_CLIENT_USERNAME Name of the cephx user. E.g. if 'openstack' is used, then 'ceph auth get client.openstack' will return a working user with key and capabilities on the deployed Ceph cluster. Ignored unless tripleo_cephadm_pools is set via --ansible-extra-vars. If this parameter is not set and tripleo_cephadm_keys is set via --ansible- extra-vars, then 'openstack' will be used. Used to set CephClientUserName in --output. --ceph-client-key CEPH_CLIENT_KEY Value of the cephx key. E.g. 'AQC+vYNXgDAgAhAAc8UoYt+OTz5uhV7ItLdwUw=='. Ignored unless tripleo_cephadm_pools is set via --ansible- extra-vars. If this parameter is not set and tripleo_cephadm_keys is set via --ansible-extra-vars, then a random key will be generated. Used to set CephClientKey in --output. --skip-cephx-keys Do not create cephx keys even if tripleo_cephadm_pools is set via --ansible-extra-vars. If this option is used, then even the defaults of --ceph-client-key and --ceph-client-username are ignored, but the pools defined via --ansible-extra-vars are still be created.Creating Pools and CephX keys before overcloud deployment (Optional) -------------------------------------------------------------------- By default `openstack overcloud ceph deploy` does not create Ceph pools or cephx keys to access those pools. Later during overclolud deployment the pools and cephx keys are created based on which Heat environment files are passed. For most cases only pools for Cinder (volumes), Nova (vms), and Glance (images) are created but if the Heat environment file to configure additional services are passed, e.g. cinder-backup, then the required pools are created. It is not necessary to create pools and cephx keys before overcloud deployment but it is possible. The Ceph pools can be created when `openstack overcloud ceph deploy` is run by using the option --ansible-extra-vars to set the tripleo_cephadm_pools variable used by tripleo-ansible's tripleo_cephadm role. Create an Ansible extra vars file defining the desired pools:: cat <<EOF > tripleo_cephadm_ansible_extra_vars.yaml --- tripleo_cephadm_pools: - name: vms pg_autoscale_mode: True target_size_ratio: 0.3 application: rbd - name: volumes pg_autoscale_mode: True target_size_ratio: 0.5 application: rbd - name: images target_size_ratio: 0.2 pg_autoscale_mode: True application: rbd tripleo_ceph_client_vars: /home/stack/overcloud-deploy/overcloud/cephadm/ceph_client.yml EOF In the above example, tripleo_ceph_client_vars is used to direct Ansible to save the generated ceph_client.yml file in a cephadm subdirectory of the working directory. The tripleo_cephadm role will ensure this directory exists before creating the file. If `openstack overcloud export ceph` is going to be used, it will expect the Ceph client file to be in this location, based on the stack name (e.g. overcloud). Deploy the Ceph cluster with Ansible extra vars:: openstack overcloud ceph deploy \ deployed-metal-overcloud.yaml \ -y -o deployed-ceph-overcloud.yaml \ --force \ --ansible-extra-vars tripleo_cephadm_ansible_extra_vars.yaml After Ceph is deployed the pools should be created and an openstack cephx key will also be created to access all of those pools. When the tripleo_cephadm_pools variable is set, the Tripleo client will create a tripleo_cephadm_keys tripleo-ansible varaible structure with the client name ""openstack"" and a generated cephx key like the following:: tripleo_cephadm_keys: - name: client.openstack key: AQC+vYNXgDAgAhAAc8UoYt+OTz5uhV7ItLdwUw== mode: '0600' caps: mgr: allow * mon: profile rbd osd: profile rbd pool=vms, profile rbd pool=volumes, profile rbd pool=images It is not recommended to define tripleo_cephadm_keys in the Ansible extra vars file. If you prefer to set the key username to something other than ""openstack"" or prefer to pass your own cephx client key (e.g. AQC+vYNXgDAgAhAAc8UoYt+OTz5uhV7ItLdwUw==), then use following paramters:: --ceph-client-username (default: openstack) --ceph-client-key (default: auto generates a valid cephx key) Both of the above paramters are ignored unless tripleo_cephadm_pools is set via --ansible-extra-vars. If tripleo_cephadm_pools is set then a cephx key to access all of the pools will always be created unless --skip-cephx-keys is used. If any of the above parameters are used, then the generated deployed Ceph output file (e.g. --output <deployed_ceph.yaml>) will contain the values of the above variables mapped to their TripleO Heat template environment variables to ensure a consistent overcloud deployment:: CephPools: {{ tripleo_cephadm_pools }} CephClientConfigVars: {{ tripleo_ceph_client_vars }} CephClientKey: {{ ceph_client_username }} CephClientUserName: {{ ceph_client_key }} "," [--mon-ip MON_IP] [--config CONFIG] [--force] [--ceph-vip CEPH_VIP] [--ceph-spec CEPH_SPEC | --osd-spec OSD_SPEC | --crush-hierarchy CRUSH_HIERARCHY] --cluster CLUSTER Name of the Ceph cluster. If set to 'foo', then the files /etc/ceph/<FSID>/foo.client.admin.keyring and /etc/ceph/<FSID>/foo.conf will be created. Otherwise these files will use the name 'ceph'. Changing this means changing command line calls too, e.g. 'ceph health' will become 'ceph --cluster foo health' unless export CEPH_ARGS='--cluster foo' is used.",138,12
openstack%2Frequirements~master~I20ff264af4288e6cd7d5b9aa231764383f2a7605,openstack/requirements,master,I20ff264af4288e6cd7d5b9aa231764383f2a7605,[DNM] update constraint for oslo.policy to new release 3.12.0,ABANDONED,2022-04-27 15:35:46.000000000,2022-05-05 13:21:58.000000000,,"[{'_account_id': 13861}, {'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-04-27 15:35:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/94e853adfed68dc54c513533d404ab488d03afdd', 'message': 'update constraint for oslo.policy to new release 3.12.0\n\nmeta: version: 3.12.0\nmeta: diff-start: -\nmeta: series: zed\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: yes\nmeta: release:Author: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Commit: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Change-Id: I7add61a26d302f1247691582fbea10bfb1034717\nmeta: release:Code-Review+1: Daniel Bengtsson <dbengt@redhat.com>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Workflow+1: Elod Illes <elod.illes@est.tech>\nChange-Id: I20ff264af4288e6cd7d5b9aa231764383f2a7605\n'}, {'number': 2, 'created': '2022-04-29 04:57:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/ae21dfbfd839344dd828a37903acd7ca480305aa', 'message': '[DNM] update constraint for oslo.policy to new release 3.12.0\n\noslo.policy 3.12.0 broken the docs job. 3.12.1 is being released with the\nfix.\n\nmeta: version: 3.12.0\nmeta: diff-start: -\nmeta: series: zed\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: yes\nmeta: release:Author: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Commit: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Change-Id: I7add61a26d302f1247691582fbea10bfb1034717\nmeta: release:Code-Review+1: Daniel Bengtsson <dbengt@redhat.com>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Workflow+1: Elod Illes <elod.illes@est.tech>\nChange-Id: I20ff264af4288e6cd7d5b9aa231764383f2a7605\n'}]",2,839577,ae21dfbfd839344dd828a37903acd7ca480305aa,27,4,2,11131,,,0,"[DNM] update constraint for oslo.policy to new release 3.12.0

oslo.policy 3.12.0 broken the docs job. 3.12.1 is being released with the
fix.

meta: version: 3.12.0
meta: diff-start: -
meta: series: zed
meta: release-type: release
meta: pypi: yes
meta: first: yes
meta: release:Author: Hervé Beraud <hberaud@redhat.com>
meta: release:Commit: Hervé Beraud <hberaud@redhat.com>
meta: release:Change-Id: I7add61a26d302f1247691582fbea10bfb1034717
meta: release:Code-Review+1: Daniel Bengtsson <dbengt@redhat.com>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Workflow+1: Elod Illes <elod.illes@est.tech>
Change-Id: I20ff264af4288e6cd7d5b9aa231764383f2a7605
",git fetch https://review.opendev.org/openstack/requirements refs/changes/77/839577/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,94e853adfed68dc54c513533d404ab488d03afdd,new-release,oslo.policy===3.12.0,oslo.policy===3.11.0,1,1
openstack%2Fkuryr~master~I3f6d03ce43d5b7d3852d08f8ba91b8dd9023c744,openstack/kuryr,master,I3f6d03ce43d5b7d3852d08f8ba91b8dd9023c744,Drop lower-constraints.txt and its testing,MERGED,2022-05-01 01:20:16.000000000,2022-05-05 12:57:55.000000000,2022-05-05 12:54:53.000000000,"[{'_account_id': 11600}, {'_account_id': 13692}, {'_account_id': 22348}, {'_account_id': 27032}]","[{'number': 1, 'created': '2022-05-01 01:20:16.000000000', 'files': ['requirements.txt', '.zuul.yaml', 'lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/kuryr/commit/415a54249b6ff83932428d9957ab889678c13455', 'message': 'Drop lower-constraints.txt and its testing\n\nAs discussed in TC PTG[1] and TC resolution[2], we are\ndropping the lower-constraints.txt file and its testing.\nWe will keep lower bounds in the requirements.txt file but\nwith a note that these are not tested lower bounds and we\ntry our best to keep them updated.\n\n[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326\n[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal\n\nChange-Id: I3f6d03ce43d5b7d3852d08f8ba91b8dd9023c744\n'}]",0,840063,415a54249b6ff83932428d9957ab889678c13455,9,4,1,8556,,,0,"Drop lower-constraints.txt and its testing

As discussed in TC PTG[1] and TC resolution[2], we are
dropping the lower-constraints.txt file and its testing.
We will keep lower bounds in the requirements.txt file but
with a note that these are not tested lower bounds and we
try our best to keep them updated.

[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326
[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal

Change-Id: I3f6d03ce43d5b7d3852d08f8ba91b8dd9023c744
",git fetch https://review.opendev.org/openstack/kuryr refs/changes/63/840063/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', '.zuul.yaml', 'lower-constraints.txt', 'tox.ini']",4,415a54249b6ff83932428d9957ab889678c13455,drop-l-c,, [testenv:lower-constraints] deps = -c{toxinidir}/lower-constraints.txt -r{toxinidir}/test-requirements.txt -r{toxinidir}/requirements.txt,4,111
openstack%2Fopenstack-ansible-tests~master~I56305216a23b29a4a16fdd7b0658839a295d2f7c,openstack/openstack-ansible-tests,master,I56305216a23b29a4a16fdd7b0658839a295d2f7c,Do not filter setuptools from upper-constraints,MERGED,2021-03-29 21:21:54.000000000,2022-05-05 12:54:14.000000000,2022-05-05 12:52:17.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-03-29 21:21:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/515d83825de0b2f4c7369b1a7ff40bf7866928dc', 'message': 'Do not filter setuptools from upper-constraints\n\nThis is now removed from openstack-ansible global-requirement-pins\n[1] so there is no longer a conflict with the data in\nupper-constraints. We use the version from u-c instead of the one\nfrom global-requirement-pins.\n\nDepends-On: https://review.opendev.org/783720\nChange-Id: I56305216a23b29a4a16fdd7b0658839a295d2f7c\n'}, {'number': 2, 'created': '2022-01-04 13:07:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/b99ec975556fcd8e597d19be367ffa758e76212e', 'message': 'Do not filter setuptools from upper-constraints\n\nThis is now removed from openstack-ansible global-requirement-pins\n[1] so there is no longer a conflict with the data in\nupper-constraints. We use the version from u-c instead of the one\nfrom global-requirement-pins.\n\nDepends-On: https://review.opendev.org/783720\nChange-Id: I56305216a23b29a4a16fdd7b0658839a295d2f7c\n'}, {'number': 3, 'created': '2022-05-03 21:02:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/2dd39ddacaabe8ea15975657eaa8657afc340b96', 'message': 'Do not filter setuptools from upper-constraints\n\nThis is now removed from openstack-ansible global-requirement-pins\n[1] so there is no longer a conflict with the data in\nupper-constraints. We use the version from u-c instead of the one\nfrom global-requirement-pins.\n\nDepends-On: https://review.opendev.org/783720\nChange-Id: I56305216a23b29a4a16fdd7b0658839a295d2f7c\n'}, {'number': 4, 'created': '2022-05-04 07:00:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/b1e3288a1adacce8f8585dddde8c3e2d53d08681', 'message': 'Do not filter setuptools from upper-constraints\n\nThis is now removed from openstack-ansible global-requirement-pins\n[1] so there is no longer a conflict with the data in\nupper-constraints. We use the version from u-c instead of the one\nfrom global-requirement-pins.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_nova/+/840412\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_keystone/+/840413\nDepends-On: https://review.opendev.org/783720\nChange-Id: I56305216a23b29a4a16fdd7b0658839a295d2f7c\n'}, {'number': 5, 'created': '2022-05-04 08:01:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/cb86ae1c85f7e9d57b62fccf73c069180a706465', 'message': 'Do not filter setuptools from upper-constraints\n\nThis is now removed from openstack-ansible global-requirement-pins\n[1] so there is no longer a conflict with the data in\nupper-constraints. We use the version from u-c instead of the one\nfrom global-requirement-pins.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_nova/+/840412\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_keystone/+/840413\nDepends-On: https://review.opendev.org/783720\nChange-Id: I56305216a23b29a4a16fdd7b0658839a295d2f7c\n'}, {'number': 6, 'created': '2022-05-04 08:29:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/78c69eda33d2bb9f7709c3d060c55328a48cafbd', 'message': 'Do not filter setuptools from upper-constraints\n\nThis is now removed from openstack-ansible global-requirement-pins\n[1] so there is no longer a conflict with the data in\nupper-constraints. We use the version from u-c instead of the one\nfrom global-requirement-pins.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_nova/+/840412\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_keystone/+/840413\nDepends-On: https://review.opendev.org/783720\nChange-Id: I56305216a23b29a4a16fdd7b0658839a295d2f7c\n'}, {'number': 7, 'created': '2022-05-04 17:53:27.000000000', 'files': ['test-ansible-env-prep.sh'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/2bd4e501a5151088ff7b89064bb61d5f85ea5209', 'message': 'Do not filter setuptools from upper-constraints\n\nThis is now removed from openstack-ansible global-requirement-pins\n[1] so there is no longer a conflict with the data in\nupper-constraints. We use the version from u-c instead of the one\nfrom global-requirement-pins.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_nova/+/840412\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_keystone/+/840413\nDepends-On: https://review.opendev.org/783720\nChange-Id: I56305216a23b29a4a16fdd7b0658839a295d2f7c\n'}]",0,783747,2bd4e501a5151088ff7b89064bb61d5f85ea5209,20,3,7,25023,,,0,"Do not filter setuptools from upper-constraints

This is now removed from openstack-ansible global-requirement-pins
[1] so there is no longer a conflict with the data in
upper-constraints. We use the version from u-c instead of the one
from global-requirement-pins.

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_nova/+/840412
Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_keystone/+/840413
Depends-On: https://review.opendev.org/783720
Change-Id: I56305216a23b29a4a16fdd7b0658839a295d2f7c
",git fetch https://review.opendev.org/openstack/openstack-ansible-tests refs/changes/47/783747/3 && git format-patch -1 --stdout FETCH_HEAD,['test-ansible-env-prep.sh'],1,515d83825de0b2f4c7369b1a7ff40bf7866928dc,,,sed -i '/setuptools=/d' /tmp/upper-constraints-filtered.txt,0,1
openstack%2Fopenstack-ansible~master~I870269163278e98e7d672604efead7090bd1ce23,openstack/openstack-ansible,master,I870269163278e98e7d672604efead7090bd1ce23,Update documented OS support for Ubuntu 22.04,MERGED,2022-05-04 13:33:10.000000000,2022-05-05 12:42:05.000000000,2022-05-05 12:39:53.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-05-04 13:33:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/365257448809561614b206e5d3ac8dee418733c6', 'message': 'Update documented OS support for Ubuntu 22.04\n\nDocument Ubuntu 22.04 as having experimental support for Yoga release.\n\nChange-Id: I870269163278e98e7d672604efead7090bd1ce23\n'}, {'number': 2, 'created': '2022-05-04 14:37:28.000000000', 'files': ['deploy-guide/source/deploymenthost.rst', 'deploy-guide/source/overview-requirements.rst', 'deploy-guide/source/targethosts-prepare.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/753efe197dd3952e916aca9e0c3939c4def5228f', 'message': 'Update documented OS support for Ubuntu 22.04\n\nDocument Ubuntu 22.04 as having experimental support for Yoga release.\n\nChange-Id: I870269163278e98e7d672604efead7090bd1ce23\n'}]",0,840462,753efe197dd3952e916aca9e0c3939c4def5228f,10,3,2,25023,,,0,"Update documented OS support for Ubuntu 22.04

Document Ubuntu 22.04 as having experimental support for Yoga release.

Change-Id: I870269163278e98e7d672604efead7090bd1ce23
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/62/840462/1 && git format-patch -1 --stdout FETCH_HEAD,"['deploy-guide/source/deploymenthost.rst', 'deploy-guide/source/overview-requirements.rst', 'deploy-guide/source/targethosts-prepare.rst']",3,365257448809561614b206e5d3ac8dee418733c6,,* Ubuntu server 22.04 (Focal Fossa) LTS 64-bit (Experimental support in the Yoga release),,4,0
openstack%2Fopenstack-ansible-plugins~master~I8d13f94f61903860d3b3601b2c58f9aa6e9c583f,openstack/openstack-ansible-plugins,master,I8d13f94f61903860d3b3601b2c58f9aa6e9c583f,Add role for creating simple glusterfs servers,MERGED,2022-04-12 14:55:03.000000000,2022-05-05 12:39:26.000000000,2022-05-05 12:38:08.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 31542}, {'_account_id': 32666}]","[{'number': 1, 'created': '2022-04-12 14:55:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/9535349e46b908211c64972182bb30674c0fac5b', 'message': 'Add role for creating simple glusterfs clients/servers\n\nChange-Id: I8d13f94f61903860d3b3601b2c58f9aa6e9c583f\n'}, {'number': 2, 'created': '2022-04-12 15:42:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/13caf8fe05fd1779897ff6f1924d4174d7acd1bb', 'message': 'Add role for creating simple glusterfs clients/servers\n\nChange-Id: I8d13f94f61903860d3b3601b2c58f9aa6e9c583f\n'}, {'number': 3, 'created': '2022-04-13 08:07:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/046692f7637a0b6d94d7e5e2fed38aa283aff38f', 'message': 'Add role for creating simple glusterfs clients/servers\n\nChange-Id: I8d13f94f61903860d3b3601b2c58f9aa6e9c583f\n'}, {'number': 4, 'created': '2022-04-13 14:45:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/a42b438ff0eeb5bdeffe7700627408f9695fcd47', 'message': 'Add role for creating simple glusterfs clients/servers\n\nChange-Id: I8d13f94f61903860d3b3601b2c58f9aa6e9c583f\n'}, {'number': 5, 'created': '2022-04-13 16:31:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/632f593887b7ff7c5682c7a325844b5e23aa41e3', 'message': 'Add role for creating simple glusterfs clients/servers\n\nChange-Id: I8d13f94f61903860d3b3601b2c58f9aa6e9c583f\n'}, {'number': 6, 'created': '2022-04-13 16:49:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/3530a6656e88d89f3d36a93bf92b99b5cf55e635', 'message': 'Add role for creating simple glusterfs clients/servers\n\nChange-Id: I8d13f94f61903860d3b3601b2c58f9aa6e9c583f\n'}, {'number': 7, 'created': '2022-04-14 07:34:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/e8edfb44fd66f08950b6843795004776589f1559', 'message': 'Add role for creating simple glusterfs clients/servers\n\nChange-Id: I8d13f94f61903860d3b3601b2c58f9aa6e9c583f\n'}, {'number': 8, 'created': '2022-04-14 07:36:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/0c58f8a936fc5ceb1f15780eb3e00382837e44b2', 'message': 'Add role for creating simple glusterfs clients/servers\n\nChange-Id: I8d13f94f61903860d3b3601b2c58f9aa6e9c583f\n'}, {'number': 9, 'created': '2022-04-14 11:44:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/d4abb91cbf65be0f624d69f6b57758e764b6ba2a', 'message': 'Add role for creating simple glusterfs clients/servers\n\nChange-Id: I8d13f94f61903860d3b3601b2c58f9aa6e9c583f\n'}, {'number': 10, 'created': '2022-04-14 11:44:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/0fc9514e362c19820ccfb14d7162556d33b0b194', 'message': 'Add role for creating simple glusterfs clients/servers\n\nChange-Id: I8d13f94f61903860d3b3601b2c58f9aa6e9c583f\n'}, {'number': 11, 'created': '2022-04-14 11:45:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/25b7318565faebb6152f99846541887bc9bcc119', 'message': 'Add role for creating simple glusterfs servers\n\nChange-Id: I8d13f94f61903860d3b3601b2c58f9aa6e9c583f\n'}, {'number': 12, 'created': '2022-04-14 13:21:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/7a4033f39eb2076004bc63928769348244f92e9c', 'message': 'Add role for creating simple glusterfs servers\n\nChange-Id: I8d13f94f61903860d3b3601b2c58f9aa6e9c583f\n'}, {'number': 13, 'created': '2022-04-14 16:30:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/a086560ea87b2e882bcdb68acf5cf5927c060905', 'message': 'Add role for creating simple glusterfs servers\n\nDepends-On: https://review.opendev.org/c/openstack/ansible-role-systemd_service/+/837930\nChange-Id: I8d13f94f61903860d3b3601b2c58f9aa6e9c583f\n'}, {'number': 14, 'created': '2022-04-14 17:50:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/38f99397d85b27f9cd2dfd2940b3ffdaba667643', 'message': 'Add role for creating simple glusterfs servers\n\nDepends-On: https://review.opendev.org/c/openstack/ansible-role-systemd_service/+/837930\nChange-Id: I8d13f94f61903860d3b3601b2c58f9aa6e9c583f\n'}, {'number': 15, 'created': '2022-04-14 18:54:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/209ed17d5942b3e5471719a6f4c397e3afddd784', 'message': 'Add role for creating simple glusterfs servers\n\nDepends-On: https://review.opendev.org/c/openstack/ansible-role-systemd_service/+/837930\nChange-Id: I8d13f94f61903860d3b3601b2c58f9aa6e9c583f\n'}, {'number': 16, 'created': '2022-04-19 12:15:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/a6f5c81e3dfc3665e929e76ba67280b6d01ad6f6', 'message': 'Add role for creating simple glusterfs servers\n\nDepends-On: https://review.opendev.org/c/openstack/ansible-role-systemd_service/+/837930\nChange-Id: I8d13f94f61903860d3b3601b2c58f9aa6e9c583f\n'}, {'number': 17, 'created': '2022-04-19 16:04:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/d3aa03fef031ac683dc550c769ce38a47d779065', 'message': 'Add role for creating simple glusterfs servers\n\nDepends-On: https://review.opendev.org/c/openstack/ansible-role-systemd_service/+/837930\nChange-Id: I8d13f94f61903860d3b3601b2c58f9aa6e9c583f\n'}, {'number': 18, 'created': '2022-04-19 16:05:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/b0f6424604588a120df18f4a7265c07c9f8eff69', 'message': 'Add role for creating simple glusterfs servers\n\nDepends-On: https://review.opendev.org/c/openstack/ansible-role-systemd_service/+/837930\nChange-Id: I8d13f94f61903860d3b3601b2c58f9aa6e9c583f\n'}, {'number': 19, 'created': '2022-04-19 16:56:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/5fdabdc4027809015e1beb0a500c8574803adad2', 'message': 'Add role for creating simple glusterfs servers\n\nDepends-On: https://review.opendev.org/c/openstack/ansible-role-systemd_service/+/837930\nChange-Id: I8d13f94f61903860d3b3601b2c58f9aa6e9c583f\n'}, {'number': 20, 'created': '2022-04-19 17:46:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/0e980977a56c882e14b83c65b4b310f8b6d0089a', 'message': 'Add role for creating simple glusterfs servers\n\nDepends-On: https://review.opendev.org/c/openstack/ansible-role-systemd_service/+/837930\nChange-Id: I8d13f94f61903860d3b3601b2c58f9aa6e9c583f\n'}, {'number': 21, 'created': '2022-05-04 09:48:28.000000000', 'files': ['roles/glusterfs/tasks/main.yml', 'roles/glusterfs/vars/main.yml', 'roles/glusterfs/defaults/main.yml', 'roles/glusterfs/vars/debian.yml', 'roles/glusterfs/vars/redhat.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/dfd035d708cfaabdcd26cc07b706461d4e8534e7', 'message': 'Add role for creating simple glusterfs servers\n\nDepends-On: https://review.opendev.org/c/openstack/ansible-role-systemd_service/+/837930\nChange-Id: I8d13f94f61903860d3b3601b2c58f9aa6e9c583f\n'}]",22,837582,dfd035d708cfaabdcd26cc07b706461d4e8534e7,61,5,21,25023,,,0,"Add role for creating simple glusterfs servers

Depends-On: https://review.opendev.org/c/openstack/ansible-role-systemd_service/+/837930
Change-Id: I8d13f94f61903860d3b3601b2c58f9aa6e9c583f
",git fetch https://review.opendev.org/openstack/openstack-ansible-plugins refs/changes/82/837582/7 && git format-patch -1 --stdout FETCH_HEAD,"['glusterfs/tasks/server.yml', 'glusterfs/vars/main.yml', 'glusterfs/tasks/main.yml', 'glusterfs/defaults/main.yml', 'glusterfs/tasks/client.yml']",5,9535349e46b908211c64972182bb30674c0fac5b,osa-gluster,"- name: Install glusterfs client packages package: name: ""{{ glusterfs_client_distro_packages }}"" state: ""{{ glusterfs_package_state }}"" - name: Configure systemd-tmpfiles to create /dev/fuse at boot copy: content: ""c /dev/fuse 0600 - - - 10:229"" dest: ""/etc/tmpfiles.d/openstack-ansible-glusterfs-server.conf"" when: not (is_metal | default(False)) register: _glusterfs_server_tmpfiles - name: Restart systemd-tmpfiles-setup-dev service: name: ""systemd-tmpfiles-setup-dev"" state: restarted when: - not (is_metal | default(False)) - _glusterfs_server_tmpfiles is changed ",,89,0
openstack%2Fopenstack-ansible~master~I4a1032796f857405555d2b271a1f112536ad77bd,openstack/openstack-ansible,master,I4a1032796f857405555d2b271a1f112536ad77bd,Update compatibility matrix for Yoga release,MERGED,2022-05-04 13:26:27.000000000,2022-05-05 12:37:00.000000000,2022-05-05 12:35:25.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-05-04 13:26:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/9413e7c6461bc1ee981100543e8b66480d0903d2', 'message': 'Update compatibility matrix for Yoga release\n\nAdd Rocky Linux as supported, and Ubuntu 22.04 as experimental.\n\nChange-Id: I4a1032796f857405555d2b271a1f112536ad77bd\n'}, {'number': 2, 'created': '2022-05-04 14:37:14.000000000', 'files': ['doc/source/admin/upgrades/compatibility-matrix.rst', 'doc/source/admin/upgrades/os-compatibility-matrix.html'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/1485fd531714b5cb3d8e5767d831fe96cb3cd65a', 'message': 'Update compatibility matrix for Yoga release\n\nAdd Rocky Linux as supported, and Ubuntu 22.04 as experimental.\n\nChange-Id: I4a1032796f857405555d2b271a1f112536ad77bd\n'}]",4,840458,1485fd531714b5cb3d8e5767d831fe96cb3cd65a,12,3,2,25023,,,0,"Update compatibility matrix for Yoga release

Add Rocky Linux as supported, and Ubuntu 22.04 as experimental.

Change-Id: I4a1032796f857405555d2b271a1f112536ad77bd
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/58/840458/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/admin/upgrades/compatibility-matrix.rst', 'doc/source/admin/upgrades/os-compatibility-matrix.html']",2,9413e7c6461bc1ee981100543e8b66480d0903d2,," <th colspan=""4"" class=""text-center col-lg-2"">Ubuntu</th> <th colspan=""1"" class=""text-center col-lg-2"">Rocky Linux</th> <th class=""text-center"">22.04</th> <th class=""text-center"">8</th> <td>✘</td> <td>✘</td> <td>✘</td> <td>✘</td> <td>✘</td> <td>✘</td> <td>✘</td> <td>✘</td> <td>✘</td> <td>✘</td> <td>✘</td> <td>✘</td> <td>✘</td> <td>✘</td> <td>✘</td> <td>✘</td> <td>✘</td> <td>✘</td> <td>✘</td> <td>✘</td> <td>✘</td> <td>✘</td> <td>✘</td> <td>✘</td> <td>✘</td> <td>✘</td> <td>✘</td> <td>✘</td> <td>✘</td> <td>✘</td> </tr> <tr> <td>distro</td> <td>✘</td> <td>✘</td> <td>✔</td> <td>✘</td> <td>✘</td> <td>✘</td> <td>✔</td> <td>✘</td> <td>✘</td> <td>✘</td> <td>✘</td> </tr> <tr class=""active""> <th rowspan=""2"" style=""vertical-align: middle"">Yoga</td> <td>source</td> <td>✘</td> <td>✔</td> <td>✔</td> <td>E</td> <td>✘</td> <td>✔</td> <td>✔</td> <td>✘</td> <td>✔</td> <td>✔</td> <td>✔</td> <td>✘</td> <td>✘</td>< </table> "," <th colspan=""3"" class=""text-center col-lg-2"">Ubuntu</th></table>",70,2
openstack%2Ftripleo-heat-templates~master~I420c7a57cecf467a626cf7091185907771b09fa2,openstack/tripleo-heat-templates,master,I420c7a57cecf467a626cf7091185907771b09fa2,Merge nova_statedir_owner and libvirt containers,ABANDONED,2022-03-28 09:09:07.000000000,2022-05-05 12:36:06.000000000,,"[{'_account_id': 1779}, {'_account_id': 4393}, {'_account_id': 6926}, {'_account_id': 6962}, {'_account_id': 17216}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23811}]","[{'number': 1, 'created': '2022-03-28 09:09:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8585ef8e2506a8a96390002cec1a00c781ec77f2', 'message': 'Merge nova_statedir_owner and libvirt containers\n\nEarlier the nova statedir owner init container had been always\nexecuted once per a deployment. It accumulates all nova/libvirt\ndomain knowledge about setting expected permissions for its\ninternal paths for nova(42436) user.\n\nThere are situations, when permissions of some files by those\nnova/libvirt internal paths have to be fixed after had been changed\nin unexpected and unsupported ways. That could be related to improperly\nconfigured NFS server settings, like root_squash. Or  manualy executed\nvirsh/qemu-img commands by users.\n\nProvide automatic permissions recovery for the libvirt wrapper script\nthat starts containerized libvirt service on compute nodes. Remove\nnova_statedir_owner init container for nova-compute as this becomes\nredundant.\n\nRelated: rhbz#2041360\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\nChange-Id: I420c7a57cecf467a626cf7091185907771b09fa2\n'}, {'number': 2, 'created': '2022-03-28 10:56:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5a0c292c27b2fae69a28f970fdeb4e3d8fb57372', 'message': 'Merge nova_statedir_owner and libvirt containers\n\nEarlier the nova statedir owner init container had been always\nexecuted once per a deployment. It accumulates all nova/libvirt\ndomain knowledge about setting expected permissions for its\ninternal paths for nova(42436) user.\n\nThere are situations, when permissions of some files by those\nnova/libvirt internal paths have to be fixed after had been changed\nin unexpected and unsupported ways. That could be related to improperly\nconfigured NFS server settings, like root_squash. Or  manualy executed\nvirsh/qemu-img commands by users.\n\nProvide automatic permissions recovery for the libvirt wrapper script\nthat starts containerized libvirt service on compute nodes. Remove\nnova_statedir_owner init container for nova-compute as this becomes\nredundant.\n\nRelated: rhbz#2041360\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\nChange-Id: I420c7a57cecf467a626cf7091185907771b09fa2\n'}, {'number': 3, 'created': '2022-03-28 12:16:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c631427b560b2b979f57fd8afbfcd94d107465a5', 'message': 'Merge nova_statedir_owner and libvirt containers\n\nEarlier the nova statedir owner init container had been always\nexecuted once per a deployment. It accumulates all nova/libvirt\ndomain knowledge about setting expected permissions for its\ninternal paths for nova(42436) user.\n\nThere are situations, when permissions of some files by those\nnova/libvirt internal paths have to be fixed after had been changed\nin unexpected and unsupported ways. That could be related to improperly\nconfigured NFS server settings, like root_squash. Or  manualy executed\nvirsh/qemu-img commands by users.\n\nProvide automatic permissions recovery for the libvirt wrapper script\nthat starts containerized libvirt service on compute nodes. Remove\nnova_statedir_owner init container for nova-compute as this becomes\nredundant.\n\nRelated: rhbz#2041360\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\nChange-Id: I420c7a57cecf467a626cf7091185907771b09fa2\n'}, {'number': 4, 'created': '2022-04-06 12:26:09.000000000', 'files': ['deployment/deprecated/nova/nova-libvirt-container-puppet.yaml', 'deployment/nova/nova-compute-container-puppet.yaml', 'deployment/nova/nova-modular-libvirt-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b0274ce1191749a0a1945e53e1bce0dbb467e8df', 'message': 'Merge nova_statedir_owner and libvirt containers\n\nEarlier the nova statedir owner init container had been always\nexecuted once per a deployment. It accumulates all nova/libvirt\ndomain knowledge about setting expected permissions for its\ninternal paths for nova(42436) user.\n\nThere are situations, when permissions of some files by those\nnova/libvirt internal paths have to be fixed after had been changed\nin unexpected and unsupported ways. That could be related to improperly\nconfigured NFS server settings, like root_squash. Or  manualy executed\nvirsh/qemu-img commands by users.\n\nProvide automatic permissions recovery for the libvirt wrapper script\nthat starts containerized libvirt service on compute nodes. Remove\nnova_statedir_owner init container for nova-compute as this becomes\nredundant.\n\nRelated: rhbz#2041360\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\nChange-Id: I420c7a57cecf467a626cf7091185907771b09fa2\n'}]",7,835421,b0274ce1191749a0a1945e53e1bce0dbb467e8df,18,8,4,6926,,,0,"Merge nova_statedir_owner and libvirt containers

Earlier the nova statedir owner init container had been always
executed once per a deployment. It accumulates all nova/libvirt
domain knowledge about setting expected permissions for its
internal paths for nova(42436) user.

There are situations, when permissions of some files by those
nova/libvirt internal paths have to be fixed after had been changed
in unexpected and unsupported ways. That could be related to improperly
configured NFS server settings, like root_squash. Or  manualy executed
virsh/qemu-img commands by users.

Provide automatic permissions recovery for the libvirt wrapper script
that starts containerized libvirt service on compute nodes. Remove
nova_statedir_owner init container for nova-compute as this becomes
redundant.

Related: rhbz#2041360
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
Change-Id: I420c7a57cecf467a626cf7091185907771b09fa2
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/21/835421/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/deprecated/nova/nova-libvirt-container-puppet.yaml', 'deployment/nova/nova-compute-container-puppet.yaml']",2,8585ef8e2506a8a96390002cec1a00c781ec77f2,,," NovaStatedirOwnershipSkip: type: comma_delimited_list description: > List of paths relative to nova_statedir to ignore when recursively setting the ownership and selinux context. default: - 'triliovault-mounts' step_3: nova_statedir_owner: image: &nova_compute_image {get_attr: [RoleParametersValue, value, ContainerNovaComputeImage]} net: none user: root security_opt: - label=disable privileged: false detach: false volumes: - /var/lib/nova:/var/lib/nova:shared - /var/lib/_nova_secontext:/var/lib/_nova_secontext:shared,z - /var/lib/container-config-scripts:/container-config-scripts:z command: ""/container-config-scripts/pyshim.sh /container-config-scripts/nova_statedir_ownership.py"" environment: # NOTE: this should force this container to re-run on each # update (scale-out, etc.) TRIPLEO_DEPLOY_IDENTIFIER: {get_param: DeployIdentifier} __OS_DEBUG: yaql: expression: str($.data.debug) data: debug: {get_attr: [NovaBase, role_data, config_settings, 'nova::logging::debug']} NOVA_STATEDIR_OWNERSHIP_SKIP: list_join: - ':' - {get_param: NovaStatedirOwnershipSkip} - { 'path': /var/lib/_nova_secontext, 'setype': container_file_t}",22,35
openstack%2Fkuryr-kubernetes~master~If646cb3bf00aca387c769fafe2f73a8194642f69,openstack/kuryr-kubernetes,master,If646cb3bf00aca387c769fafe2f73a8194642f69,Add periodic task for cleaning up dead ports.,MERGED,2022-04-15 12:23:37.000000000,2022-05-05 12:34:58.000000000,2022-05-05 12:33:23.000000000,"[{'_account_id': 11600}, {'_account_id': 22348}, {'_account_id': 27032}]","[{'number': 1, 'created': '2022-04-15 12:23:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/5074fb09685b4a38aea17f26c43990083c27ac94', 'message': 'Add periodic task for cleaning up dead ports.\n\nSometimes it happen, that during ports creation, there could be quota\nviolations, so that port could be created without tags, and would just\nhanging there. This periodic task would remove all the dead ports.\n\nChange-Id: If646cb3bf00aca387c769fafe2f73a8194642f69\n'}, {'number': 2, 'created': '2022-04-25 12:07:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/db1d663b9a7c0936d8563ea262e5b7b140aced2c', 'message': 'Add periodic task for cleaning up dead ports.\n\nSometimes it happen, that during ports creation, there could be quota\nviolations, so that port could be created without tags, and would just\nhanging there. This periodic task would remove all the dead ports.\n\nChange-Id: If646cb3bf00aca387c769fafe2f73a8194642f69\n'}, {'number': 3, 'created': '2022-04-29 13:28:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/cc0717d2103ff57fce2d816b591b7eed8a12d2b0', 'message': 'Add periodic task for cleaning up dead ports.\n\nSometimes it happen, that during ports creation, there could be quota\nviolations, so that port could be created without tags, and would just\nhanging there. This periodic task would remove all the dead ports.\n\nChange-Id: If646cb3bf00aca387c769fafe2f73a8194642f69\n'}, {'number': 4, 'created': '2022-05-01 06:41:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/cff3d38154be31300275be11c03ae1283a122a30', 'message': 'Add periodic task for cleaning up dead ports.\n\nSometimes it happen, that during ports creation, there could be quota\nviolations, so that port could be created without tags, and would just\nhanging there. This periodic task would remove all the dead ports.\n\nChange-Id: If646cb3bf00aca387c769fafe2f73a8194642f69\n'}, {'number': 5, 'created': '2022-05-05 05:06:11.000000000', 'files': ['kuryr_kubernetes/controller/service.py', 'kuryr_kubernetes/utils.py', 'kuryr_kubernetes/tests/unit/test_utils.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/bc8ba2bc1773ec8d3b95669eb2a7fc8bc8d56577', 'message': 'Add periodic task for cleaning up dead ports.\n\nSometimes it happen, that during ports creation, there could be quota\nviolations, so that port could be created without tags, and would just\nhanging there. This periodic task would remove all the dead ports.\n\nChange-Id: If646cb3bf00aca387c769fafe2f73a8194642f69\n'}]",44,838173,bc8ba2bc1773ec8d3b95669eb2a7fc8bc8d56577,41,3,5,13692,,,0,"Add periodic task for cleaning up dead ports.

Sometimes it happen, that during ports creation, there could be quota
violations, so that port could be created without tags, and would just
hanging there. This periodic task would remove all the dead ports.

Change-Id: If646cb3bf00aca387c769fafe2f73a8194642f69
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/73/838173/1 && git format-patch -1 --stdout FETCH_HEAD,"['kuryr_kubernetes/controller/service.py', 'kuryr_kubernetes/utils.py', 'kuryr_kubernetes/tests/unit/test_utils.py']",3,5074fb09685b4a38aea17f26c43990083c27ac94,untagged-down,"from oslo_utils import timeutils def setUp(self): super().setUp() cfg.CONF.set_override('resource_tags', [], group='neutron_defaults') @mock.patch('kuryr_kubernetes.clients.get_network_client') def test_cleanup_dead_ports_no_tags(self, m_get_net): utils.cleanup_dead_ports() m_get_net.assert_not_called() @mock.patch('oslo_utils.timeutils.utcnow') @mock.patch('kuryr_kubernetes.clients.get_network_client') def test_cleanup_dead_ports(self, m_get_net, m_utcnow): cfg.CONF.set_override('resource_tags', ['foo'], group='neutron_defaults') m_net = mock.Mock() time1 = '2022-04-14T09:00:00Z' now = '2022-04-14T09:00:00Z' m_utcnow.return_value = timeutils.parse_isotime(now) port = munch.Munch({'updated_at': time1, 'tags': ['foo']}) m_net.ports.return_value = iter((port,)) m_get_net.return_value = m_net utils.cleanup_dead_ports() m_get_net.assert_called_once() @mock.patch('oslo_utils.timeutils.utcnow') @mock.patch('kuryr_kubernetes.clients.get_network_client') def test_cleanup_dead_no_tagged_ports(self, m_get_net, m_utcnow): cfg.CONF.set_override('resource_tags', ['foo'], group='neutron_defaults') m_net = mock.Mock() time1 = '2022-04-14T09:00:00Z' now = '2022-04-14T09:16:00Z' m_utcnow.return_value = timeutils.parse_isotime(now) port = munch.Munch({'updated_at': time1, 'tags': []}) m_net.ports.return_value = iter((port,)) m_get_net.return_value = m_net utils.cleanup_dead_ports() m_get_net.assert_called_once() m_net.delete_port.assert_called_once_with(port) @mock.patch('oslo_utils.timeutils.utcnow') @mock.patch('kuryr_kubernetes.clients.get_network_client') def test_cleanup_dead_no_tagged_ports_still_trying(self, m_get_net, m_utcnow): cfg.CONF.set_override('resource_tags', ['foo'], group='neutron_defaults') m_net = mock.Mock() time1 = '2022-04-14T09:00:00Z' now = '2022-04-14T09:15:00Z' m_utcnow.return_value = timeutils.parse_isotime(now) port = munch.Munch({'updated_at': time1, 'tags': []}) m_net.ports.return_value = iter((port,)) m_get_net.return_value = m_net utils.cleanup_dead_ports() m_get_net.assert_called_once() m_net.delete_port.assert_not_called() @mock.patch('oslo_utils.timeutils.utcnow') @mock.patch('kuryr_kubernetes.clients.get_network_client') def test_cleanup_dead_no_tagged_ports_now(self, m_get_net, m_utcnow): cfg.CONF.set_override('resource_tags', ['foo'], group='neutron_defaults') m_net = mock.Mock() time1 = '2022-04-14T09:00:00Z' now = '2022-04-14T09:05:00Z' m_utcnow.return_value = timeutils.parse_isotime(now) port = munch.Munch({'updated_at': time1, 'tags': []}) m_net.ports.return_value = iter((port,)) m_get_net.return_value = m_net utils.cleanup_dead_ports(immidietly=True) m_get_net.assert_called_once() m_net.delete_port.assert_called_once_with(port) @mock.patch('oslo_utils.timeutils.utcnow') @mock.patch('kuryr_kubernetes.clients.get_network_client') def test_cleanup_dead_no_tagged_ports_with_net(self, m_get_net, m_utcnow): cfg.CONF.set_override('resource_tags', ['foo'], group='neutron_defaults') m_net = mock.Mock() time1 = '2022-04-14T09:00:00Z' now = '2022-04-14T09:25:00Z' m_utcnow.return_value = timeutils.parse_isotime(now) port = munch.Munch({'updated_at': time1, 'tags': []}) m_net.ports.return_value = iter((port,)) m_get_net.return_value = m_net uuid = '103a421f-2c7f-44de-b295-6b11971d40bb' utils.cleanup_dead_ports(uuid, True) m_get_net.assert_called_once() m_net.ports.assert_called_once_with(status='DOWN', network_id=uuid) m_net.delete_port.assert_called_once_with(port)",,142,0
openstack%2Fansible-collections-openstack~master~I000a12df18c66816b2b2de177530ffc46f9dc9ae,openstack/ansible-collections-openstack,master,I000a12df18c66816b2b2de177530ffc46f9dc9ae,Added description to RETURN doc of identity_user_info module,MERGED,2022-05-05 09:06:50.000000000,2022-05-05 12:33:35.000000000,2022-05-05 11:54:11.000000000,"[{'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 32962}]","[{'number': 1, 'created': '2022-05-05 09:06:50.000000000', 'files': ['plugins/modules/identity_user_info.py'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/a8589e9f4db620b3becfee8c6daa844edbffccab', 'message': 'Added description to RETURN doc of identity_user_info module\n\nSigned-off-by: Jakob Meng <code@jakobmeng.de>\nChange-Id: I000a12df18c66816b2b2de177530ffc46f9dc9ae\n'}]",0,840590,a8589e9f4db620b3becfee8c6daa844edbffccab,7,3,1,32962,,,0,"Added description to RETURN doc of identity_user_info module

Signed-off-by: Jakob Meng <code@jakobmeng.de>
Change-Id: I000a12df18c66816b2b2de177530ffc46f9dc9ae
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/90/840590/1 && git format-patch -1 --stdout FETCH_HEAD,['plugins/modules/identity_user_info.py'],1,a8589e9f4db620b3becfee8c6daa844edbffccab,identity_user_info-master, description: description: The description of this user returned: success type: str,,4,0
openstack%2Fopenstack-ansible-tests~master~I3a3e9ee62fde37c65fa182bf59f12031c390d968,openstack/openstack-ansible-tests,master,I3a3e9ee62fde37c65fa182bf59f12031c390d968,Initialise ssh and ssl certificates,MERGED,2022-05-04 07:59:13.000000000,2022-05-05 12:30:18.000000000,2022-05-05 12:28:54.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-05-04 07:59:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/7fd04d7d7914eaf8516de181261cebf61cf045ad', 'message': 'Initialise ssh certificate signing keypair\n\nThis is needed later by the keystone, nova and repo_server roles\n\nChange-Id: I3a3e9ee62fde37c65fa182bf59f12031c390d968\n'}, {'number': 2, 'created': '2022-05-04 08:29:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/0c8160f5e1ef0cfa5978d9f2e8a4ab1f46c35ab0', 'message': 'Initialise ssh certificate signing keypair\n\nThis is needed later by the keystone, nova and repo_server roles\n\nChange-Id: I3a3e9ee62fde37c65fa182bf59f12031c390d968\n'}, {'number': 3, 'created': '2022-05-04 09:12:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/c03a4b4bbe0337bf9bbc27c114e784f51d8ff972', 'message': 'Initialise ssh certificate signing keypair\n\nThis is needed later by the keystone, nova and repo_server roles\n\nChange-Id: I3a3e9ee62fde37c65fa182bf59f12031c390d968\n'}, {'number': 4, 'created': '2022-05-04 10:04:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/9cfb300184c3d12748a094d11e4138e97a9a834e', 'message': 'Initialise ssh and ssl certificates\n\nThis is needed later by the keystone, nova and repo_server roles\n\nChange-Id: I3a3e9ee62fde37c65fa182bf59f12031c390d968\n'}, {'number': 5, 'created': '2022-05-04 10:49:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/2ab1cefb15d0e275eb7c542872654bf524055e6a', 'message': 'Initialise ssh and ssl certificates\n\nThis is needed later by the keystone, nova and repo_server roles\n\nChange-Id: I3a3e9ee62fde37c65fa182bf59f12031c390d968\n'}, {'number': 6, 'created': '2022-05-04 11:27:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/cc55dd79eadda47471149b7634f467e09eb7516a', 'message': 'Initialise ssh and ssl certificates\n\nThis is needed later by the keystone, nova and repo_server roles\n\nChange-Id: I3a3e9ee62fde37c65fa182bf59f12031c390d968\n'}, {'number': 7, 'created': '2022-05-04 12:21:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/1f62ab39697ebbc37a1f1f83df13b3f5035d0238', 'message': 'Initialise ssh and ssl certificates\n\nThis is needed later by the keystone, nova and repo_server roles\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_keystone/+/840445\nChange-Id: I3a3e9ee62fde37c65fa182bf59f12031c390d968\n'}, {'number': 8, 'created': '2022-05-04 16:42:51.000000000', 'files': ['test-vars.yml', 'test-prepare-keys.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/3458ee0ee15e438bb19e9fe3479ccd46de214f7a', 'message': 'Initialise ssh and ssl certificates\n\nThis is needed later by the keystone, nova and repo_server roles\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_keystone/+/840445\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_keystone/+/840514\nChange-Id: I3a3e9ee62fde37c65fa182bf59f12031c390d968\n'}]",1,840428,3458ee0ee15e438bb19e9fe3479ccd46de214f7a,25,3,8,25023,,,0,"Initialise ssh and ssl certificates

This is needed later by the keystone, nova and repo_server roles

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_keystone/+/840445
Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_keystone/+/840514
Change-Id: I3a3e9ee62fde37c65fa182bf59f12031c390d968
",git fetch https://review.opendev.org/openstack/openstack-ansible-tests refs/changes/28/840428/4 && git format-patch -1 --stdout FETCH_HEAD,"['test-vars.yml', 'test-prepare-keys.yml']",2,7fd04d7d7914eaf8516de181261cebf61cf045ad,," - name: Create SSHD CA hosts: ""{{ openstack_ssh_keypairs_setup_host | default('localhost') }}"" gather_facts: false tasks: - name: ""Create SSHD certificate authority"" include_role: name: openstack.osa.ssh_keypairs vars: ssh_keypairs_setup_host: ""{{ openstack_ssh_keypairs_setup_host | default('localhost') }}"" ssh_keypairs_dir: ""{{ openstack_ssh_keypairs_dir }}"" ssh_keypairs: ""{{ openstack_ssh_keypairs_authorities }}"" ssh_keypairs_install_authorities: false ssh_keypairs_install_keypairs: false ssh_keypairs_install_authorized_keys: false",,20,0
openstack%2Fopenstack-ansible-rabbitmq_server~stable%2Fvictoria~Ia20902f0ffe21ce563966fee4d233e5ec3afe3d9,openstack/openstack-ansible-rabbitmq_server,stable/victoria,Ia20902f0ffe21ce563966fee4d233e5ec3afe3d9,Verify if hosts file already managed with OSA,MERGED,2022-04-04 11:10:42.000000000,2022-05-05 12:25:34.000000000,2022-05-05 12:24:09.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-04-04 11:10:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/bad867cfa7bc8215d43b8abca5c7cf30eabf1b91', 'message': 'Verify if hosts file already managed with OSA\n\nWith this patch we ensure that duplicated records are not\ncreated with rabbitmq role if hosts file already contain\nOSA managed block. Managing hosts still might be required for\nrole usage outside of the OSA so we workaround this usecase.\n\nChange-Id: Ia20902f0ffe21ce563966fee4d233e5ec3afe3d9\nRelated-Bug: #1960587\n(cherry picked from commit c8ce051651255c7168381e6861be5371d27bbedb)\n'}, {'number': 2, 'created': '2022-04-04 14:20:28.000000000', 'files': ['releasenotes/notes/rabbitmq_manage_hosts-834150c45dfc0771.yaml', 'defaults/main.yml', 'tasks/rabbitmq_pre_install.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/342174ede5616994f2b2dc4f87492d058d7e6b4e', 'message': 'Verify if hosts file already managed with OSA\n\nWith this patch we ensure that duplicated records are not\ncreated with rabbitmq role if hosts file already contain\nOSA managed block. Managing hosts still might be required for\nrole usage outside of the OSA so we workaround this usecase.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-tests/+/836335\nChange-Id: Ia20902f0ffe21ce563966fee4d233e5ec3afe3d9\nRelated-Bug: #1960587\n(cherry picked from commit c8ce051651255c7168381e6861be5371d27bbedb)\n'}]",0,836168,342174ede5616994f2b2dc4f87492d058d7e6b4e,12,3,2,25023,,,0,"Verify if hosts file already managed with OSA

With this patch we ensure that duplicated records are not
created with rabbitmq role if hosts file already contain
OSA managed block. Managing hosts still might be required for
role usage outside of the OSA so we workaround this usecase.

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-tests/+/836335
Change-Id: Ia20902f0ffe21ce563966fee4d233e5ec3afe3d9
Related-Bug: #1960587
(cherry picked from commit c8ce051651255c7168381e6861be5371d27bbedb)
",git fetch https://review.opendev.org/openstack/openstack-ansible-rabbitmq_server refs/changes/68/836168/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/rabbitmq_manage_hosts-834150c45dfc0771.yaml', 'defaults/main.yml', 'tasks/rabbitmq_pre_install.yml']",3,bad867cfa7bc8215d43b8abca5c7cf30eabf1b91,bug/1960587-stable/victoria,"- name: Manage /etc/hosts files block: - name: Fail if hosts file is not managed yet command: grep ""OPENSTACK-ANSIBLE MANAGED BLOCK"" /etc/hosts changed_when: false rescue: - name: Rescue failure and add required records lineinfile: dest: /etc/hosts state: present line: ""{{ item.address }} {{ item.hostnames | join(' ') }}"" with_items: ""{{ rabbitmq_hosts_entries }}"" always: - name: Ensure localhost /etc/hosts entry is correct lineinfile: dest: /etc/hosts state: present line: '127.0.0.1 localhost' regexp: '^127\.0\.0\.1' when: - rabbitmq_manage_hosts_entries | bool","- name: Fix /etc/hosts lineinfile: dest: /etc/hosts state: present line: ""{{ item.address }} {{ item.hostnames | join(' ') }}"" with_items: ""{{ rabbitmq_hosts_entries }}"" tags: - rabbitmq-config - name: Ensure localhost /etc/hosts entry is correct lineinfile: dest: /etc/hosts state: present line: '127.0.0.1 localhost' regexp: '^127.0.0.1'",34,17
openstack%2Fpython-tripleoclient~stable%2Fwallaby~Idbb2d9270c83ac0e97e0bdb1ea6e2992671f94aa,openstack/python-tripleoclient,stable/wallaby,Idbb2d9270c83ac0e97e0bdb1ea6e2992671f94aa,cephadm support for 'openstack overcloud export ceph',MERGED,2022-05-04 11:45:26.000000000,2022-05-05 12:23:22.000000000,2022-05-05 12:21:44.000000000,"[{'_account_id': 6796}, {'_account_id': 22348}, {'_account_id': 25402}]","[{'number': 1, 'created': '2022-05-04 11:45:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/843953961c8d15155bccade6b4d227a963bafe87', 'message': ""cephadm support for 'openstack overcloud export ceph'\n\nWithout this patch 'openstack overcloud export ceph' can\nonly export information from a ceph-ansible deployment as\nfound in the config-download directory.\n\nThis patch results in the export ceph command looking in\nthe config-download directory for a ceph-ansible or\ncephadm directory and based on what it finds it generates\nthe a Heat environment with the CephExternalMultiConfig\nparameter populated.\n\nCloses-Bug: #1966772\nDepends-On: I9f854377fcd0dfa570d0dc30e34d40826de8656d\nChange-Id: Idbb2d9270c83ac0e97e0bdb1ea6e2992671f94aa\n(cherry picked from commit 1952f5a6ee2001b93ecf26c765c4ffaac4e5ca4d)\n""}, {'number': 2, 'created': '2022-05-04 12:29:11.000000000', 'files': ['tripleoclient/tests/test_export.py', 'tripleoclient/export.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/fc3ff58d1892ceb08c75b5b06ddded7361b12d39', 'message': ""cephadm support for 'openstack overcloud export ceph'\n\nWithout this patch 'openstack overcloud export ceph' can\nonly export information from a ceph-ansible deployment as\nfound in the config-download directory.\n\nThis patch results in the export ceph command looking in\nthe config-download directory for a ceph-ansible or\ncephadm directory and based on what it finds it generates\nthe a Heat environment with the CephExternalMultiConfig\nparameter populated.\n\nConflict: tripleoclient/export.py\n\nCloses-Bug: #1966772\nDepends-On: I9f854377fcd0dfa570d0dc30e34d40826de8656d\nChange-Id: Idbb2d9270c83ac0e97e0bdb1ea6e2992671f94aa\n(cherry picked from commit 1952f5a6ee2001b93ecf26c765c4ffaac4e5ca4d)\n""}]",0,840346,fc3ff58d1892ceb08c75b5b06ddded7361b12d39,10,3,2,18002,,,0,"cephadm support for 'openstack overcloud export ceph'

Without this patch 'openstack overcloud export ceph' can
only export information from a ceph-ansible deployment as
found in the config-download directory.

This patch results in the export ceph command looking in
the config-download directory for a ceph-ansible or
cephadm directory and based on what it finds it generates
the a Heat environment with the CephExternalMultiConfig
parameter populated.

Conflict: tripleoclient/export.py

Closes-Bug: #1966772
Depends-On: I9f854377fcd0dfa570d0dc30e34d40826de8656d
Change-Id: Idbb2d9270c83ac0e97e0bdb1ea6e2992671f94aa
(cherry picked from commit 1952f5a6ee2001b93ecf26c765c4ffaac4e5ca4d)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/46/840346/2 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/tests/test_export.py', 'tripleoclient/export.py']",2,843953961c8d15155bccade6b4d227a963bafe87,bug/1966772-stable/wallaby," mon_ips=[], config_download_files=[]): if len(config_download_files) == 0: config_download_files = os.listdir(os.path.join( config_download_dir, stack)) if 'ceph-ansible' in config_download_files: if len(mon_ips) == 0: mon_ips = export_storage_ips(stack, config_download_dir) external_cluster_mon_ips = str(','.join(mon_ips)) <<<<<<< HEAD (c2a577 Merge ""Fix node delete for unprovision confirmation"" into st)======= # Use ceph-ansible group_vars/all.yml to get remaining values ceph_ansible_all = ""ceph-ansible/group_vars/all.yml"" file = os.path.join(config_download_dir, stack, ceph_ansible_all) with open(file, 'r') as ff: try: ceph_data = yaml.safe_load(ff) except yaml.MarkedYAMLError as e: LOG.error( _('Could not read file %s') % file) LOG.error(e) cluster = ceph_data['cluster'] fsid = ceph_data['fsid'] >>>>>>> CHANGE (1952f5 cephadm support for 'openstack overcloud export ceph') if 'cephadm' in config_download_files: ceph_client = ""cephadm/ceph_client.yml"" file = os.path.join(config_download_dir, stack, ceph_client) with open(file, 'r') as ff: try: ceph_data = yaml.safe_load(ff) except yaml.MarkedYAMLError as e: LOG.error( _('Could not read file %s') % file) LOG.error(e) external_cluster_mon_ips = ceph_data['external_cluster_mon_ips'] cluster = ceph_data['tripleo_ceph_client_cluster'] fsid = ceph_data['tripleo_ceph_client_fsid'] # set cephx_keys # set ceph_conf_overrides + cluster \ data['external_cluster_mon_ips'] = external_cluster_mon_ips data['cluster'] = cluster data['fsid'] = fsid"," mon_ips=[]): if len(mon_ips) == 0: mon_ips = export_storage_ips(stack, config_download_dir) + ceph_data['cluster'] \ data['external_cluster_mon_ips'] = str(','.join(mon_ips)) data['cluster'] = ceph_data['cluster'] data['fsid'] = ceph_data['fsid']",45,9
openstack%2Fpython-tripleoclient~stable%2Fwallaby~I39150aa6771a32318ad2cbcd50b6dddcd97b4663,openstack/python-tripleoclient,stable/wallaby,I39150aa6771a32318ad2cbcd50b6dddcd97b4663,Remove --heat-type=installed support,MERGED,2022-05-02 12:06:55.000000000,2022-05-05 11:57:50.000000000,2022-05-05 11:56:16.000000000,"[{'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-05-02 12:06:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/8881e9c9d756e201e35fec600e0280401acc3f6f', 'message': 'Remove --heat-type=installed support\n\nRemove support for using an undercloud installed Heat, as it no longer\nneeds to be supported.\n\nChange-Id: I39150aa6771a32318ad2cbcd50b6dddcd97b4663\nSigned-off-by: James Slagle <jslagle@redhat.com>\n(cherry picked from commit 60d17b2fa180ac4fc4c88af00d34f12c93a2ae92)\n'}, {'number': 2, 'created': '2022-05-02 16:07:18.000000000', 'files': ['tripleoclient/tests/v1/overcloud_deploy/test_overcloud_deploy.py', 'releasenotes/notes/remove-heat-type-installed-6c7a90af45f57231.yaml', 'tripleoclient/v1/overcloud_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/f0a7f0bf966077628be3fbaccb433ea9ebc824c4', 'message': 'Remove --heat-type=installed support\n\nRemove support for using an undercloud installed Heat, as it no longer\nneeds to be supported.\n\nChange-Id: I39150aa6771a32318ad2cbcd50b6dddcd97b4663\nSigned-off-by: James Slagle <jslagle@redhat.com>\n(cherry picked from commit 60d17b2fa180ac4fc4c88af00d34f12c93a2ae92)\n'}]",1,840177,f0a7f0bf966077628be3fbaccb433ea9ebc824c4,11,3,2,7144,,,0,"Remove --heat-type=installed support

Remove support for using an undercloud installed Heat, as it no longer
needs to be supported.

Change-Id: I39150aa6771a32318ad2cbcd50b6dddcd97b4663
Signed-off-by: James Slagle <jslagle@redhat.com>
(cherry picked from commit 60d17b2fa180ac4fc4c88af00d34f12c93a2ae92)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/77/840177/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/tests/v1/overcloud_deploy/test_overcloud_deploy.py', 'releasenotes/notes/remove-heat-type-installed-6c7a90af45f57231.yaml', 'tripleoclient/v1/overcloud_deploy.py']",3,8881e9c9d756e201e35fec600e0280401acc3f6f,," heat = None utils.check_neutron_resources(env) choices=['pod', 'container', 'native'], 'container (Experimental): Use an ephemeral Heat ' 'container.\n' 'native (Experimental): Use an ephemeral Heat process.') self.setup_ephemeral_heat(parsed_args) if self.heat_launcher: if parsed_args.config_download: self.log.info(""Stopping ephemeral heat."") utils.kill_heat(self.heat_launcher) utils.rm_heat(self.heat_launcher, backup_db=True)"," if args.heat_type != 'installed': heat = None else: heat = self.orchestration_client choices=['installed', 'pod', 'container', 'native'], 'installed: Use the system installed Heat.\n' 'container: Use an ephemeral Heat container.\n' 'native: Use an ephemeral Heat process.') stack_create = None if parsed_args.heat_type == 'installed': stack = utils.get_stack(self.orchestration_client, parsed_args.stack) stack_create = stack is None if stack_create: self.log.info(""No stack found, "" ""will be doing a stack create"") else: self.log.info(""Stack found, "" ""will be doing a stack update"") if parsed_args.heat_type != 'installed': ephemeral_heat = True else: ephemeral_heat = False self.log.warning( (""DEPRECATED: Using --heat-type=installed is deprecated "" ""and will be removed in a future release."")) if ephemeral_heat: self.setup_ephemeral_heat(parsed_args) if parsed_args.heat_type != 'installed' and self.heat_launcher: if (parsed_args.heat_type != 'installed' and parsed_args.config_download): if parsed_args.heat_type != 'installed': self.log.info(""Stopping ephemeral heat."") utils.kill_heat(self.heat_launcher) utils.rm_heat(self.heat_launcher, backup_db=True)",21,66
openstack%2Fneutron~master~I05f7e6a7d91f6a4a1fe6d4765589f30257243628,openstack/neutron,master,I05f7e6a7d91f6a4a1fe6d4765589f30257243628,"Remove ""live_migration_events"" configuration option",MERGED,2022-05-04 12:44:55.000000000,2022-05-05 11:55:59.000000000,2022-05-05 11:52:28.000000000,"[{'_account_id': 4694}, {'_account_id': 9708}, {'_account_id': 9845}, {'_account_id': 11604}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-04 12:44:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f7e37e96f263667c098a4ba27ef41347994a3026', 'message': 'Remove ""live_migration_events"" configuration option\n\nThis option was introduced in [1]. This option depended on [2],\nthe Nova code enabling this feature, that filters the\n""vif-plugged-event"" to be sent to Nova.\n\nNow the default behaviour is ""True"".\n\nRelated-Bug: #1901707\n\n[1]https://review.opendev.org/c/openstack/neutron/+/766277\n[2]https://review.opendev.org/c/openstack/nova/+/767368\n\nChange-Id: I05f7e6a7d91f6a4a1fe6d4765589f30257243628\n'}, {'number': 2, 'created': '2022-05-04 13:04:07.000000000', 'files': ['releasenotes/notes/remove-live_migration_events-f9dd9eacfdf32f97.yaml', 'zuul.d/tempest-multinode.yaml', 'neutron/tests/unit/agent/test_rpc.py', 'neutron/conf/common.py', 'neutron/agent/rpc.py', 'neutron/plugins/ml2/plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/9025f8a571029ce41d815c2704e29956b31f7f1f', 'message': 'Remove ""live_migration_events"" configuration option\n\nThis option was introduced in [1]. This option depended on [2],\nthe Nova code enabling this feature, that filters the\n""vif-plugged-event"" to be sent to Nova.\n\nNow the default behaviour is ""True"".\n\nRelated-Bug: #1901707\n\n[1]https://review.opendev.org/c/openstack/neutron/+/766277\n[2]https://review.opendev.org/c/openstack/nova/+/767368\n\nChange-Id: I05f7e6a7d91f6a4a1fe6d4765589f30257243628\n'}]",6,840448,9025f8a571029ce41d815c2704e29956b31f7f1f,27,7,2,16688,,,0,"Remove ""live_migration_events"" configuration option

This option was introduced in [1]. This option depended on [2],
the Nova code enabling this feature, that filters the
""vif-plugged-event"" to be sent to Nova.

Now the default behaviour is ""True"".

Related-Bug: #1901707

[1]https://review.opendev.org/c/openstack/neutron/+/766277
[2]https://review.opendev.org/c/openstack/nova/+/767368

Change-Id: I05f7e6a7d91f6a4a1fe6d4765589f30257243628
",git fetch https://review.opendev.org/openstack/neutron refs/changes/48/840448/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/tempest-multinode.yaml', 'neutron/tests/unit/agent/test_rpc.py', 'neutron/conf/common.py', 'neutron/agent/rpc.py', 'neutron/plugins/ml2/plugin.py']",5,f7e37e96f263667c098a4ba27ef41347994a3026,bug/1901707, if host_migrating and self.nova_notifier:, if (host_migrating and cfg.CONF.nova.live_migration_events and self.nova_notifier):,10,44
openstack%2Fos-brick~master~Ia074945de1003cd88f86018bb8cb5ef02d5c4500,openstack/os-brick,master,Ia074945de1003cd88f86018bb8cb5ef02d5c4500,Bump mypy version to 0.942,MERGED,2022-04-11 14:40:11.000000000,2022-05-05 11:52:41.000000000,2022-05-02 07:59:41.000000000,"[{'_account_id': 5314}, {'_account_id': 9236}, {'_account_id': 10459}, {'_account_id': 22348}, {'_account_id': 27615}]","[{'number': 1, 'created': '2022-04-11 14:40:11.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/1d50e6713e227de3cf792f877b10d8ff86c27b78', 'message': 'Bump mypy version to 0.942\n\nSync with the max version specified by\nopenstack dependency constraints.\n\nThis brings in a handful of fixes and features\nover 0.910.\n\nChange-Id: Ia074945de1003cd88f86018bb8cb5ef02d5c4500\n'}]",5,837350,1d50e6713e227de3cf792f877b10d8ff86c27b78,29,5,1,4523,,,0,"Bump mypy version to 0.942

Sync with the max version specified by
openstack dependency constraints.

This brings in a handful of fixes and features
over 0.910.

Change-Id: Ia074945de1003cd88f86018bb8cb5ef02d5c4500
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/50/837350/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,1d50e6713e227de3cf792f877b10d8ff86c27b78,,mypy>=0.942 # MIT,mypy>=0.910 # MIT,1,1
openstack%2Ftripleo-validations~stable%2Ftrain~I7b38e8b2ebb42814470386b228c6f888b4867718,openstack/tripleo-validations,stable/train,I7b38e8b2ebb42814470386b228c6f888b4867718,DNM testin linters/doc build,ABANDONED,2022-04-28 14:53:13.000000000,2022-05-05 11:48:09.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-04-28 14:53:13.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/751ce699f9a0b13d3c947a88f25469ba2620fba0', 'message': 'DNM testin linters/doc build\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I7b38e8b2ebb42814470386b228c6f888b4867718\n'}]",0,839778,751ce699f9a0b13d3c947a88f25469ba2620fba0,3,1,1,32926,,,0,"DNM testin linters/doc build

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I7b38e8b2ebb42814470386b228c6f888b4867718
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/78/839778/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,751ce699f9a0b13d3c947a88f25469ba2620fba0,,# DNM,,1,0
openstack%2Fnova~master~Ic0f25e4d2395560fc2b68f3b469e266ac59abaa2,openstack/nova,master,Ic0f25e4d2395560fc2b68f3b469e266ac59abaa2,Fix segment-aware scheduling permissions error,MERGED,2022-04-26 11:22:40.000000000,2022-05-05 11:33:46.000000000,2022-05-05 11:32:17.000000000,"[{'_account_id': 7166}, {'_account_id': 9708}, {'_account_id': 11604}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-26 11:22:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9b87e46f39cf47bc1518f411819910a4bc50937e', 'message': ""Fix segment-aware scheduling permissions error\n\nResolves a bug encountered when setting the Nova scheduler to\nbe aware of Neutron routed provider network segments, by using\n'query_placement_for_routed_network_aggregates'.\n\nNon-admin users attempting to access the 'segment_id' attribute\nof a subnet caused a traceback, resulting in instance creation\nfailure.\n\nThis patch ensures the Neutron client is initialised with an\nadministrative context no matter what the requesting user's\npermissions are.\n\nChange-Id: Ic0f25e4d2395560fc2b68f3b469e266ac59abaa2\nCloses-Bug: #1970383\n""}, {'number': 2, 'created': '2022-04-27 09:25:45.000000000', 'files': ['nova/tests/unit/network/test_neutron.py', 'nova/network/neutron.py', 'releasenotes/notes/bug-1970383-segment-scheduling-permissions-92ba907b10a9eb1c.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/ee32934f34afd8e6df467361e9d71788cd36f6ee', 'message': ""Fix segment-aware scheduling permissions error\n\nResolves a bug encountered when setting the Nova scheduler to\nbe aware of Neutron routed provider network segments, by using\n'query_placement_for_routed_network_aggregates'.\n\nNon-admin users attempting to access the 'segment_id' attribute\nof a subnet caused a traceback, resulting in instance creation\nfailure.\n\nThis patch ensures the Neutron client is initialised with an\nadministrative context no matter what the requesting user's\npermissions are.\n\nChange-Id: Ic0f25e4d2395560fc2b68f3b469e266ac59abaa2\nCloses-Bug: #1970383\n""}]",8,839361,ee32934f34afd8e6df467361e9d71788cd36f6ee,50,4,2,31542,,,0,"Fix segment-aware scheduling permissions error

Resolves a bug encountered when setting the Nova scheduler to
be aware of Neutron routed provider network segments, by using
'query_placement_for_routed_network_aggregates'.

Non-admin users attempting to access the 'segment_id' attribute
of a subnet caused a traceback, resulting in instance creation
failure.

This patch ensures the Neutron client is initialised with an
administrative context no matter what the requesting user's
permissions are.

Change-Id: Ic0f25e4d2395560fc2b68f3b469e266ac59abaa2
Closes-Bug: #1970383
",git fetch https://review.opendev.org/openstack/nova refs/changes/61/839361/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/network/neutron.py', 'releasenotes/notes/bug-1970383-segment-scheduling-permissions-92ba907b10a9eb1c.yaml']",2,9b87e46f39cf47bc1518f411819910a4bc50937e,bug/1970383,"--- fixes: - | `Bug #1970383 <https://bugs.launchpad.net/nova/+bug/1970383>`_: Fixes a permissions error when using the 'query_placement_for_routed_network_aggregates' scheduler variable, which caused a traceback on instance creation for non-admin users. ",,9,2
openstack%2Fsushy-tools~master~If37339532da37e534f3323c64d01e15c4e23048d,openstack/sushy-tools,master,If37339532da37e534f3323c64d01e15c4e23048d,Use python Zed tests,MERGED,2022-04-20 09:44:05.000000000,2022-05-05 11:05:49.000000000,2022-05-05 11:02:20.000000000,"[{'_account_id': 10239}, {'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 27909}]","[{'number': 1, 'created': '2022-04-20 09:44:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/27c8e97a5410c6f0be98daaa0d26144622036ef4', 'message': 'Use python Zed tests\n\nChange-Id: If37339532da37e534f3323c64d01e15c4e23048d\n'}, {'number': 2, 'created': '2022-04-26 14:52:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/0f6aa2c376ad9ce6fcd99983726e654e16d5d083', 'message': 'Use python Zed tests\n\nChange-Id: If37339532da37e534f3323c64d01e15c4e23048d\n'}, {'number': 3, 'created': '2022-04-27 08:24:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/586aa9c942f4e1447d9adeed66ac0e7d18d16c3b', 'message': 'Use python Zed tests\n\nChange-Id: If37339532da37e534f3323c64d01e15c4e23048d\n'}, {'number': 4, 'created': '2022-04-29 15:28:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/72b682cc515418cc86acccb2689be60b9dfe7bc4', 'message': 'Use python Zed tests\n\nChange-Id: If37339532da37e534f3323c64d01e15c4e23048d\n'}, {'number': 5, 'created': '2022-05-04 15:42:28.000000000', 'files': ['bindep.txt', 'zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/4a0010d38e1c5ee55fc0167de3c1c92a1e40fca1', 'message': 'Use python Zed tests\n\nChange-Id: If37339532da37e534f3323c64d01e15c4e23048d\n'}]",2,838674,4a0010d38e1c5ee55fc0167de3c1c92a1e40fca1,22,5,5,23851,,,0,"Use python Zed tests

Change-Id: If37339532da37e534f3323c64d01e15c4e23048d
",git fetch https://review.opendev.org/openstack/sushy-tools refs/changes/74/838674/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,27c8e97a5410c6f0be98daaa0d26144622036ef4,zed-tests, - openstack-python3-zed-jobs, - openstack-tox-pep8 - openstack-tox-py36 - openstack-tox-py37 - openstack-tox-py38 - openstack-tox-py39 - openstack-tox-pep8 - openstack-tox-py36 - openstack-tox-py37 - openstack-tox-py38 - openstack-tox-py39,1,10
openstack%2Fglance_store~master~Ib6972c93452950c44f7dd7a029b75e2c46e35248,openstack/glance_store,master,Ib6972c93452950c44f7dd7a029b75e2c46e35248,Fix logging,ABANDONED,2022-03-20 11:07:27.000000000,2022-05-05 10:54:19.000000000,,"[{'_account_id': 5202}, {'_account_id': 22348}, {'_account_id': 27615}]","[{'number': 1, 'created': '2022-03-20 11:07:27.000000000', 'files': ['glance_store/common/attachment_state_manager.py'], 'web_link': 'https://opendev.org/openstack/glance_store/commit/5e8ffcde5f2ea56aabfeb2c6c8f9c243511cd886', 'message': 'Fix logging\n\nThe translator function does not handle string substitution so the\nsubstitution need to happen after the message is translated. (Probably\njust a misplaced closing parentheses)\n\nChange-Id: Ib6972c93452950c44f7dd7a029b75e2c46e35248\n'}]",1,834388,5e8ffcde5f2ea56aabfeb2c6c8f9c243511cd886,4,3,1,9708,,,0,"Fix logging

The translator function does not handle string substitution so the
substitution need to happen after the message is translated. (Probably
just a misplaced closing parentheses)

Change-Id: Ib6972c93452950c44f7dd7a029b75e2c46e35248
",git fetch https://review.opendev.org/openstack/glance_store refs/changes/88/834388/1 && git format-patch -1 --stdout FETCH_HEAD,['glance_store/common/attachment_state_manager.py'],1,5e8ffcde5f2ea56aabfeb2c6c8f9c243511cd886,," LOG.exception(_LE('Error attaching volume %(volume_id)s'), {'volume_id': volume_id})"," LOG.exception(_LE('Error attaching volume %(volume_id)s', {'volume_id': volume_id}))",2,2
openstack%2Foctavia~master~I63474acbcea5106ea702d21cb238aa57cef5d96d,openstack/octavia,master,I63474acbcea5106ea702d21cb238aa57cef5d96d,Remove unneeded sudo in lvs-masquerade.sh,MERGED,2022-05-02 13:20:49.000000000,2022-05-05 10:41:38.000000000,2022-05-05 10:39:42.000000000,"[{'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 29244}]","[{'number': 1, 'created': '2022-05-02 13:20:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/1f3dd22005eab53202614ac756dfc8377e0e6643', 'message': 'WIP Remove unneeded sudo in lvs-masquerade.sh\n\nChange-Id: I63474acbcea5106ea702d21cb238aa57cef5d96d\n'}, {'number': 2, 'created': '2022-05-02 14:15:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/414319f6961ffa61a71b8027d30df68828fba92c', 'message': 'WIP Remove unneeded sudo in lvs-masquerade.sh\n\nChange-Id: I63474acbcea5106ea702d21cb238aa57cef5d96d\n'}, {'number': 3, 'created': '2022-05-03 05:57:19.000000000', 'files': ['.gitignore', 'elements/amphora-agent/static/usr/local/bin/lvs-masquerade.sh', 'releasenotes/notes/fix-selinux-issue-with-lvs-masquerade.sh-ebbb89886148c70f.yaml'], 'web_link': 'https://opendev.org/openstack/octavia/commit/72bdc0f88d2b9fa6fdf5ef879cb977d45ca0cc2e', 'message': 'Remove unneeded sudo in lvs-masquerade.sh\n\nFixes issue with SELinux and the lvs-masquerade.sh script on the\namphora.\nThe script already runs with root permissions, so the use of sudo\ninside the script is unneeded.\n\nChange-Id: I63474acbcea5106ea702d21cb238aa57cef5d96d\n'}]",1,840182,72bdc0f88d2b9fa6fdf5ef879cb977d45ca0cc2e,11,3,3,34429,,,0,"Remove unneeded sudo in lvs-masquerade.sh

Fixes issue with SELinux and the lvs-masquerade.sh script on the
amphora.
The script already runs with root permissions, so the use of sudo
inside the script is unneeded.

Change-Id: I63474acbcea5106ea702d21cb238aa57cef5d96d
",git fetch https://review.opendev.org/openstack/octavia refs/changes/82/840182/1 && git format-patch -1 --stdout FETCH_HEAD,['elements/amphora-agent/static/usr/local/bin/lvs-masquerade.sh'],1,1f3dd22005eab53202614ac756dfc8377e0e6643,needless-sudo-in-lvs-masquerade-sh," if [ -x ""$(bash -c 'command -v nft')"" ]; then if [ -x ""$(bash -c 'command -v nft')"" ]; then"," if [ -x ""$(sudo bash -c 'command -v nft')"" ]; then if [ -x ""$(sudo bash -c 'command -v nft')"" ]; then",2,2
openstack%2Fnova~master~Iebcc1257a3fc55af707b2127e6c1195e720c8205,openstack/nova,master,Iebcc1257a3fc55af707b2127e6c1195e720c8205,Add catching InstanceNotFound exception when call live_migration_abort,NEW,2022-05-04 07:59:30.000000000,2022-05-05 10:38:53.000000000,,"[{'_account_id': 9708}, {'_account_id': 11604}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-05-04 07:59:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d6dfe290e895a882f69864a48551a17298945cee', 'message': 'Add catching InstanceNotFound exception when call live_migration_abort\n\nChange-Id: Iebcc1257a3fc55af707b2127e6c1195e720c8205\n'}, {'number': 2, 'created': '2022-05-04 08:09:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9dbf9ccdfae22ed981334ad85ffb97f942093467', 'message': 'Add catching InstanceNotFound exception when call live_migration_abort\n\nChange-Id: Iebcc1257a3fc55af707b2127e6c1195e720c8205\n'}, {'number': 3, 'created': '2022-05-04 08:10:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/44080933829bcde23abf99508080c1158fe74330', 'message': 'Add catching InstanceNotFound exception when call live_migration_abort\n\nChange-Id: Iebcc1257a3fc55af707b2127e6c1195e720c8205\n'}, {'number': 4, 'created': '2022-05-04 08:13:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a94eafd32e559913e599d2b996721d64b813fcf2', 'message': 'Add catching InstanceNotFound exception when call live_migration_abort\n\nWhen there is an exception in post_method, live_migration_abort will raise an InstanceNotFound exception, we add catching here.\n\nChange-Id: Iebcc1257a3fc55af707b2127e6c1195e720c8205\n'}, {'number': 5, 'created': '2022-05-04 08:23:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9912548a28d6718ce336adebac06d7596d72af89', 'message': 'Add catching InstanceNotFound exception when call live_migration_abort\n\nWhen there is an exception in post_method, live_migration_abort will raise an InstanceNotFound exception, we add catching here.\n\nCloses-bug: #1970685\n\nChange-Id: Iebcc1257a3fc55af707b2127e6c1195e720c8205\n'}, {'number': 6, 'created': '2022-05-04 11:11:54.000000000', 'files': ['nova/virt/libvirt/driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/b89aa8bdd47678052deea2c715348c25ebc5cf94', 'message': 'Add catching InstanceNotFound exception when call live_migration_abort\n\nWhen there is an exception in post_method, live_migration_abort will raise an InstanceNotFound exception, we add catching it here.\n\nCloses-bug: #1970685\n\nChange-Id: Iebcc1257a3fc55af707b2127e6c1195e720c8205\n'}]",2,840429,b89aa8bdd47678052deea2c715348c25ebc5cf94,30,5,6,34665,,,0,"Add catching InstanceNotFound exception when call live_migration_abort

When there is an exception in post_method, live_migration_abort will raise an InstanceNotFound exception, we add catching it here.

Closes-bug: #1970685

Change-Id: Iebcc1257a3fc55af707b2127e6c1195e720c8205
",git fetch https://review.opendev.org/openstack/nova refs/changes/29/840429/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'test.py']",2,d6dfe290e895a882f69864a48551a17298945cee,, ,,6,0
openstack%2Fpython-tripleoclient~stable%2Fwallaby~I7b8900857da333318ad6eeab5d4eaefeb43e111a,openstack/python-tripleoclient,stable/wallaby,I7b8900857da333318ad6eeab5d4eaefeb43e111a,"Revert ""Setting default inventory path for VF interface with ooo client.""",MERGED,2022-04-26 13:41:07.000000000,2022-05-05 10:21:36.000000000,2022-05-05 10:20:16.000000000,"[{'_account_id': 7144}, {'_account_id': 15895}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}]","[{'number': 1, 'created': '2022-04-26 13:41:07.000000000', 'files': ['tripleoclient/v1/tripleo_validator.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/cc4f3efe2c25ee11c86a9d3b83b00a5211dcd4c2', 'message': 'Revert ""Setting default inventory path for VF interface with ooo client.""\n\nThis reverts commit c42ee30017b268d46dd0e212a91986bda4d9c356.\nCloses-Bug: #1970387\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I7b8900857da333318ad6eeab5d4eaefeb43e111a\n(cherry picked from commit ea8795d00572dd613f38e91e2285c9b41cba4885)\n'}]",3,839383,cc4f3efe2c25ee11c86a9d3b83b00a5211dcd4c2,14,6,1,32926,,,0,"Revert ""Setting default inventory path for VF interface with ooo client.""

This reverts commit c42ee30017b268d46dd0e212a91986bda4d9c356.
Closes-Bug: #1970387

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I7b8900857da333318ad6eeab5d4eaefeb43e111a
(cherry picked from commit ea8795d00572dd613f38e91e2285c9b41cba4885)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/83/839383/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/v1/tripleo_validator.py'],1,cc4f3efe2c25ee11c86a9d3b83b00a5211dcd4c2,, default = {'validation_log_dir': constants.VALIDATIONS_LOG_BASEDIR},"import os default = { 'validation_log_dir': constants.VALIDATIONS_LOG_BASEDIR, 'inventory': os.path.join( parser.output_dir, constants.TRIPLEO_STATIC_INVENTORY)}",1,7
openstack%2Fvalidations-common~master~I9fc8db25f8826f58de19c56d05050abcc4588dbb,openstack/validations-common,master,I9fc8db25f8826f58de19c56d05050abcc4588dbb,Bugfix: Add missing become: true to 2 tasks,MERGED,2022-04-25 10:03:35.000000000,2022-05-05 10:21:34.000000000,2022-05-05 10:20:18.000000000,"[{'_account_id': 15895}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 32926}]","[{'number': 1, 'created': '2022-04-25 10:03:35.000000000', 'files': ['validations_common/roles/validate_selinux/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/validations-common/commit/4bab55cbffab23f8bcf28e0f52b56300f8f5bb48', 'message': 'Bugfix: Add missing become: true to 2 tasks\n\n/tmp/selinux.log is owned by root:root and can only be accessed by the\nroot user. The tasks ""Filter out denials"" and ""No skip_list"" are missing\nthose which casues a false positive of the validation\n\nCloses-Bug: #1970193\nChange-Id: I9fc8db25f8826f58de19c56d05050abcc4588dbb\n'}]",2,839166,4bab55cbffab23f8bcf28e0f52b56300f8f5bb48,11,5,1,29296,,,0,"Bugfix: Add missing become: true to 2 tasks

/tmp/selinux.log is owned by root:root and can only be accessed by the
root user. The tasks ""Filter out denials"" and ""No skip_list"" are missing
those which casues a false positive of the validation

Closes-Bug: #1970193
Change-Id: I9fc8db25f8826f58de19c56d05050abcc4588dbb
",git fetch https://review.opendev.org/openstack/validations-common refs/changes/66/839166/1 && git format-patch -1 --stdout FETCH_HEAD,['validations_common/roles/validate_selinux/tasks/main.yml'],1,4bab55cbffab23f8bcf28e0f52b56300f8f5bb48,bug/1970193, become: true become: true,,2,0
openstack%2Freleases~master~Ia351d099aa3b2491e3a4d255d87bb7c6bd691cac,openstack/releases,master,Ia351d099aa3b2491e3a4d255d87bb7c6bd691cac,Replace old sdist and wheel build command in validate,MERGED,2022-03-28 13:34:20.000000000,2022-05-05 09:44:59.000000000,2022-05-05 09:44:59.000000000,"[{'_account_id': 308}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 30077}]","[{'number': 1, 'created': '2022-03-28 13:34:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/813578f2a90c6dc2d723ce6701716c578a668200', 'message': 'Replace old sdist and wheel build command in validate\n\nThe new way of packaging a python project is via build package. This\npatch replaces the old setup.py style sdist and wheel build.\n\nChange-Id: Ia351d099aa3b2491e3a4d255d87bb7c6bd691cac\n'}, {'number': 2, 'created': '2022-05-02 18:29:44.000000000', 'files': ['openstack_releases/pythonutils.py', 'requirements.txt'], 'web_link': 'https://opendev.org/openstack/releases/commit/97baab754f527f54cf780ace7bab5a570cf811aa', 'message': 'Replace old sdist and wheel build command in validate\n\nThe new way of packaging a python project is via build package. This\npatch replaces the old setup.py style sdist and wheel build.\n\nChange-Id: Ia351d099aa3b2491e3a4d255d87bb7c6bd691cac\n'}]",1,835450,97baab754f527f54cf780ace7bab5a570cf811aa,12,4,2,17685,,,0,"Replace old sdist and wheel build command in validate

The new way of packaging a python project is via build package. This
patch replaces the old setup.py style sdist and wheel build.

Change-Id: Ia351d099aa3b2491e3a4d255d87bb7c6bd691cac
",git fetch https://review.opendev.org/openstack/releases refs/changes/50/835450/2 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_releases/pythonutils.py', 'requirements.txt', 'deliverables/yoga/sahara-image-elements.yaml']",3,813578f2a90c6dc2d723ce6701716c578a668200,build-instead-of-setuppy, - version: 16.0.0 projects: - repo: openstack/sahara-image-elements hash: ded80db2667438313bab6d448d19ef2305f2e527 diff-start: 15.0.0,,7,1
openstack%2Fopenstack-manuals~master~Ie8679bc66d52f35789700d680b9679649fc7368c,openstack/openstack-manuals,master,Ie8679bc66d52f35789700d680b9679649fc7368c,[www] Set Victoria status to Extended Maintenance,MERGED,2022-04-14 18:28:55.000000000,2022-05-05 09:44:31.000000000,2022-05-05 09:29:37.000000000,"[{'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-14 18:28:55.000000000', 'files': ['tools/www-generator.py'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/4687e929ed4ccb79b9e9734846ec99e9243d14a4', 'message': ""[www] Set Victoria status to Extended Maintenance\n\nProject's last releases in Victoria have been tagged with victoria-em.\nNow indicate that Victoria is in Extended Maintenance phase also at\nhttps://docs.openstack.org\n\nPlanned transition date is April 27th, 2022.\n\nChange-Id: Ie8679bc66d52f35789700d680b9679649fc7368c\n""}]",1,837997,4687e929ed4ccb79b9e9734846ec99e9243d14a4,11,2,1,17685,,,0,"[www] Set Victoria status to Extended Maintenance

Project's last releases in Victoria have been tagged with victoria-em.
Now indicate that Victoria is in Extended Maintenance phase also at
https://docs.openstack.org

Planned transition date is April 27th, 2022.

Change-Id: Ie8679bc66d52f35789700d680b9679649fc7368c
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/97/837997/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/www-generator.py'],1,4687e929ed4ccb79b9e9734846ec99e9243d14a4,victoria-em," 'victoria': SeriesInfo(date='October 2020', status='extended-maintenance'),"," 'victoria': SeriesInfo(date='October 2020', status='maintained'),",1,1
openstack%2Freleases~master~I9226e7b7e9b9594daa11d97bd6a8b4b04c56f596,openstack/releases,master,I9226e7b7e9b9594daa11d97bd6a8b4b04c56f596,Fix Releases Dashboard link,MERGED,2022-05-02 17:50:28.000000000,2022-05-05 09:42:33.000000000,2022-05-05 09:42:33.000000000,"[{'_account_id': 308}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-05-02 17:50:28.000000000', 'files': ['doc/source/_exts/reviewinbox.py'], 'web_link': 'https://opendev.org/openstack/releases/commit/c0ee70a74a32403bd3deb78e9c198acd8760008c', 'message': ""Fix Releases Dashboard link\n\nThe releases dashboard link does not work properly recently. It seems\nthat there are two problem with the link:\n* the link does not need the '#' anymore\n* due to some reason the 'All Releases' query messes up the dashboard\n  (at first place it does not need the 'is:open' part because it's\n  added already with 'foreach', secondly it gives an error message:\n  'Error 400 (Bad Request): limit of 10 queries'). Nevertheless, 'All\n  Releases' is probably not that important as all the release patches\n  are covered with series sections together with 'Others' section\n  (except deliverables under 'deliverables/<series_in_EM_or_EOL>/*').\n  So this patch fixes the dashboard by removing 'All Releases' section.\n\nNote: This problem comes even under Firefox or Chrome (when signed in).\n\nChange-Id: I9226e7b7e9b9594daa11d97bd6a8b4b04c56f596\n""}]",1,840225,c0ee70a74a32403bd3deb78e9c198acd8760008c,8,3,1,17685,,,0,"Fix Releases Dashboard link

The releases dashboard link does not work properly recently. It seems
that there are two problem with the link:
* the link does not need the '#' anymore
* due to some reason the 'All Releases' query messes up the dashboard
  (at first place it does not need the 'is:open' part because it's
  added already with 'foreach', secondly it gives an error message:
  'Error 400 (Bad Request): limit of 10 queries'). Nevertheless, 'All
  Releases' is probably not that important as all the release patches
  are covered with series sections together with 'Others' section
  (except deliverables under 'deliverables/<series_in_EM_or_EOL>/*').
  So this patch fixes the dashboard by removing 'All Releases' section.

Note: This problem comes even under Firefox or Chrome (when signed in).

Change-Id: I9226e7b7e9b9594daa11d97bd6a8b4b04c56f596
",git fetch https://review.opendev.org/openstack/releases refs/changes/25/840225/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/_exts/reviewinbox.py'],1,c0ee70a74a32403bd3deb78e9c198acd8760008c,, url = 'https://review.opendev.org/dashboard/?', url = 'https://review.opendev.org/#/dashboard/?' sections.append(escape(urllib_parse.urlencode({ 'All Releases': 'is:open project:openstack/releases'}))) ,1,4
openstack%2Freleases~master~Idba5a8c8714f5b1d0e9f1de1d26ae5db9ae5dced,openstack/releases,master,Idba5a8c8714f5b1d0e9f1de1d26ae5db9ae5dced,Release Oslo's independent deliverables,MERGED,2022-04-26 13:32:21.000000000,2022-05-05 09:42:06.000000000,2022-05-05 09:42:06.000000000,"[{'_account_id': 308}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 31245}]","[{'number': 1, 'created': '2022-04-26 13:32:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/99eed2fc6a2923370cf0399b028a57fc49c485cc', 'message': ""Release Oslo's independent deliverables\n\nChange-Id: Idba5a8c8714f5b1d0e9f1de1d26ae5db9ae5dced\n""}, {'number': 2, 'created': '2022-05-03 09:25:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/0fd6ac9f76a8dadbc3aa151e6cd0f47af65a0b4a', 'message': ""Release Oslo's independent deliverables\n\nChange-Id: Idba5a8c8714f5b1d0e9f1de1d26ae5db9ae5dced\n""}, {'number': 3, 'created': '2022-05-03 09:34:03.000000000', 'files': ['deliverables/_independent/oslo.reports.yaml', 'deliverables/_independent/openstack-doc-tools.yaml', 'deliverables/_independent/oslo.concurrency.yaml', 'deliverables/_independent/futurist.yaml', 'deliverables/_independent/osprofiler.yaml', 'deliverables/_independent/tooz.yaml', 'deliverables/_independent/oslo.log.yaml', 'deliverables/_independent/pbr.yaml', 'deliverables/_independent/etcd3gw.yaml', 'deliverables/_independent/taskflow.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/ba697b67140901c90e7fb1d120c0f8e47995381b', 'message': ""Release Oslo's independent deliverables\n\nChange-Id: Idba5a8c8714f5b1d0e9f1de1d26ae5db9ae5dced\n""}]",7,839380,ba697b67140901c90e7fb1d120c0f8e47995381b,16,4,3,28522,,,0,"Release Oslo's independent deliverables

Change-Id: Idba5a8c8714f5b1d0e9f1de1d26ae5db9ae5dced
",git fetch https://review.opendev.org/openstack/releases refs/changes/80/839380/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/_independent/oslo.reports.yaml', 'deliverables/_independent/os-api-ref.yaml', 'deliverables/_independent/oslo.rootwrap.yaml', 'deliverables/_independent/oslo.concurrency.yaml', 'deliverables/_independent/futurist.yaml', 'deliverables/_independent/debtcollector.yaml', 'deliverables/_independent/tooz.yaml', 'deliverables/_independent/pbr.yaml', 'deliverables/_independent/openstack-doc-tools.yaml', 'deliverables/_independent/osprofiler.yaml', 'deliverables/_independent/oslotest.yaml', 'deliverables/_independent/oslo.log.yaml', 'deliverables/_independent/etcd3gw.yaml', 'deliverables/_independent/oslo.i18n.yaml', 'deliverables/_independent/taskflow.yaml']",15,99eed2fc6a2923370cf0399b028a57fc49c485cc,oslo-independent, - version: 4.6.5 projects: - repo: openstack/taskflow hash: b5b69e8110da44a88b2260cd24ada3439f29938e,,60,0
openstack%2Freleases~master~Id394e8f4fc2701fecf6d4e353d11655f11d4eea1,openstack/releases,master,Id394e8f4fc2701fecf6d4e353d11655f11d4eea1,Update OpenStack Ansible Roles deliverables,MERGED,2021-12-07 10:26:25.000000000,2022-05-05 09:42:03.000000000,2022-05-05 09:42:03.000000000,"[{'_account_id': 308}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 28619}]","[{'number': 1, 'created': '2021-12-07 10:26:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/e3c1248171719701c63e10f0bea81b17e806c3c3', 'message': 'Update OpenStack Ansible Roles deliverables\n\nThe first series initializing patch [1] added already retired\ndeliverables. Now this patch removes those and add some missing\ndeliverables, too.\n\nChange-Id: Id394e8f4fc2701fecf6d4e353d11655f11d4eea1\n'}, {'number': 2, 'created': '2021-12-07 10:37:20.000000000', 'files': ['deliverables/yoga/openstack-ansible-roles.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/fd4f72b043789fc679630529f29eff61ce36390b', 'message': 'Update OpenStack Ansible Roles deliverables\n\nThe first series initializing patch [1] added already retired\ndeliverables. Now this patch removes those and add some missing\ndeliverables, too.\n\nChange-Id: Id394e8f4fc2701fecf6d4e353d11655f11d4eea1\n'}]",3,820849,fd4f72b043789fc679630529f29eff61ce36390b,15,4,2,17685,,,0,"Update OpenStack Ansible Roles deliverables

The first series initializing patch [1] added already retired
deliverables. Now this patch removes those and add some missing
deliverables, too.

Change-Id: Id394e8f4fc2701fecf6d4e353d11655f11d4eea1
",git fetch https://review.opendev.org/openstack/releases refs/changes/49/820849/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/yoga/openstack-ansible-roles.yaml'],1,e3c1248171719701c63e10f0bea81b17e806c3c3,, openstack/ansible-role-pki: {} openstack/ansible-role-uwsgi: {} openstack/openstack-ansible-os_adjutant: {} openstack/openstack-ansible-os_manila: {} openstack/openstack-ansible-os_mistral: {} openstack/openstack-ansible-os_murano: {} openstack/openstack-ansible-os_placement: {} openstack/openstack-ansible-os_senlin: {}, openstack/openstack-ansible-galera_client: {} openstack/openstack-ansible-nspawn_container_create: {} openstack/openstack-ansible-nspawn_hosts: {} openstack/openstack-ansible-os_almanach: {} openstack/openstack-ansible-os_congress: {} openstack/openstack-ansible-os_molteniron: {} openstack/openstack-ansible-os_monasca: {} openstack/openstack-ansible-os_monasca-agent: {} openstack/openstack-ansible-os_panko: {} openstack/openstack-ansible-os_searchlight: {} openstack/openstack-ansible-os_watcher: {} openstack/openstack-ansible-os_zaqar: {} openstack/openstack-ansible-pip_install: {} openstack/openstack-ansible-repo_build: {},8,14
openstack%2Fneutron-fwaas~master~I32f0eaa529038d38aee9fc8ae20292f95bf52ead,openstack/neutron-fwaas,master,I32f0eaa529038d38aee9fc8ae20292f95bf52ead,Add Python3 zed unit tests,MERGED,2022-03-21 11:08:51.000000000,2022-05-05 09:36:30.000000000,2022-05-05 09:34:22.000000000,"[{'_account_id': 8313}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-03-21 11:08:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/e5ea12fbf7832c668bddd111fa1b01ba0b977e0a', 'message': 'Add Python3 zed unit tests\n\nChange-Id: I32f0eaa529038d38aee9fc8ae20292f95bf52ead\n'}, {'number': 2, 'created': '2022-03-21 12:56:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/f6719bc68198a501f6dee4ea0eb9174c710668cc', 'message': 'Add Python3 zed unit tests\n\nChange-Id: I32f0eaa529038d38aee9fc8ae20292f95bf52ead\n'}, {'number': 3, 'created': '2022-04-05 01:18:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/dbdeac00613cabbef6549fea0c69c0aa04d91316', 'message': 'Add Python3 zed unit tests\n\nChange-Id: I32f0eaa529038d38aee9fc8ae20292f95bf52ead\n'}, {'number': 4, 'created': '2022-04-08 02:07:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/1bdba60eada218ced4ea26381955cbe69a0f78dd', 'message': 'Add Python3 zed unit tests\n\nChange-Id: I32f0eaa529038d38aee9fc8ae20292f95bf52ead\n'}, {'number': 5, 'created': '2022-05-05 01:25:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/1a67d2faa16913b3a8ad95d30c5012f7204dc4d1', 'message': 'Add Python3 zed unit tests\n\nChange-Id: I32f0eaa529038d38aee9fc8ae20292f95bf52ead\n'}, {'number': 6, 'created': '2022-05-05 01:27:17.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/de74e7bbcdfb999ae1e980d3c5f40f96ef93346b', 'message': 'Add Python3 zed unit tests\n\nChange-Id: I32f0eaa529038d38aee9fc8ae20292f95bf52ead\n'}]",2,834451,de74e7bbcdfb999ae1e980d3c5f40f96ef93346b,27,3,6,30380,,,0,"Add Python3 zed unit tests

Change-Id: I32f0eaa529038d38aee9fc8ae20292f95bf52ead
",git fetch https://review.opendev.org/openstack/neutron-fwaas refs/changes/51/834451/4 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,e5ea12fbf7832c668bddd111fa1b01ba0b977e0a,, - openstack-python3-zed-jobs-neutron, - openstack-python3-ussuri-jobs-neutron,1,1
openstack%2Fopenstack-ansible-os_keystone~master~Iabe61d63994e38cb3f99c8285deff60ef2e9ee55,openstack/openstack-ansible-os_keystone,master,Iabe61d63994e38cb3f99c8285deff60ef2e9ee55,Fix certificate installation for keystone,MERGED,2022-05-04 16:40:32.000000000,2022-05-05 09:29:45.000000000,2022-05-05 09:28:32.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-05-04 16:40:32.000000000', 'files': ['defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/4f02985c43b5696b813e9310737ef0844996e7a7', 'message': 'Fix certificate installation for keystone\n\nThere are problems when keystone_idp has legitimately undefined keys,\nand also variable name which should be templated.\n\nChange-Id: Iabe61d63994e38cb3f99c8285deff60ef2e9ee55\n'}]",0,840514,4f02985c43b5696b813e9310737ef0844996e7a7,8,3,1,25023,,,0,"Fix certificate installation for keystone

There are problems when keystone_idp has legitimately undefined keys,
and also variable name which should be templated.

Change-Id: Iabe61d63994e38cb3f99c8285deff60ef2e9ee55
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_keystone refs/changes/14/840514/1 && git format-patch -1 --stdout FETCH_HEAD,['defaults/main.yml'],1,4f02985c43b5696b813e9310737ef0844996e7a7,," owner: ""{{ keystone_system_user_name }}"" group: ""{{ keystone_system_group_name }}"" owner: ""{{ keystone_system_user_name }}"" group: ""{{ keystone_system_group_name }}"" owner: ""{{ keystone_system_user_name }}"" group: ""{{ keystone_system_group_name }}"" dest: ""{{ keystone_idp['certfile'] | default('') }}"" owner: ""{{ keystone_system_user_name }}"" dest: ""{{ keystone_idp['keyfile'] | default('') }}"" owner: ""{{ keystone_system_user_name }}"" group: ""{{ keystone_system_group_name }}"""," owner: ""keystone_system_user_name"" group: ""keystone_system_group_name"" owner: ""keystone_system_user_name"" group: ""keystone_system_group_name"" owner: ""keystone_system_user_name"" group: ""keystone_system_group_name"" dest: ""{{ keystone_idp['certfile'] }}"" owner: ""keystone_system_user_name"" dest: ""{{ keystone_idp['keyfile'] }}"" owner: ""keystone_system_user_name"" group: ""keystone_system_group_name""",11,11
openstack%2Fopenstack-ansible-os_keystone~master~I1b9658a7ef4efc66c9ad5636474a19302589ecfb,openstack/openstack-ansible-os_keystone,master,I1b9658a7ef4efc66c9ad5636474a19302589ecfb,Set pki_dir when keystone calls the pki role,MERGED,2022-05-04 12:21:27.000000000,2022-05-05 09:23:41.000000000,2022-05-05 09:22:33.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-05-04 12:21:27.000000000', 'files': ['tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/e667befb705588d1d811462937086561428501a8', 'message': 'Set pki_dir when keystone calls the pki role\n\nThis is needed to use the deployment wide location for the CA and\ncertificate store.\n\nChange-Id: I1b9658a7ef4efc66c9ad5636474a19302589ecfb\n'}]",0,840445,e667befb705588d1d811462937086561428501a8,9,3,1,25023,,,0,"Set pki_dir when keystone calls the pki role

This is needed to use the deployment wide location for the CA and
certificate store.

Change-Id: I1b9658a7ef4efc66c9ad5636474a19302589ecfb
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_keystone refs/changes/45/840445/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/main.yml'],1,e667befb705588d1d811462937086561428501a8,," pki_dir: ""{{ keystone_pki_dir }}""",,1,0
openstack%2Fkeystone-specs~master~Ib9828097f2bcb03ea099a4a8a9c92ebf6d254a71,openstack/keystone-specs,master,Ib9828097f2bcb03ea099a4a8a9c92ebf6d254a71,Prepare for Zed,ABANDONED,2022-04-29 08:18:42.000000000,2022-05-05 09:21:35.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-04-29 08:18:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-specs/commit/4d70d7a86caaa6a50315dc5f76af5f859e3090f3', 'message': 'Prepare for Zed\n\nChange-Id: Ib9828097f2bcb03ea099a4a8a9c92ebf6d254a71\n'}, {'number': 2, 'created': '2022-05-03 16:57:48.000000000', 'files': ['doc/source/index.rst'], 'web_link': 'https://opendev.org/openstack/keystone-specs/commit/6314e2d8271bba63a838cad0578629dbfdcfbaae', 'message': 'Prepare for Zed\n\nChange-Id: Ib9828097f2bcb03ea099a4a8a9c92ebf6d254a71\n'}]",1,839873,6314e2d8271bba63a838cad0578629dbfdcfbaae,5,1,2,13478,,,0,"Prepare for Zed

Change-Id: Ib9828097f2bcb03ea099a4a8a9c92ebf6d254a71
",git fetch https://review.opendev.org/openstack/keystone-specs refs/changes/73/839873/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/index.rst'],1,4d70d7a86caaa6a50315dc5f76af5f859e3090f3,bp/inherit-from-parent,Zed approved specs: .. toctree:: :glob: :maxdepth: 1 specs/keystone/zed/* ,,9,0
openstack%2Freleases~master~I6986e89c07331f08ab344f31401a0e874a23c9c4,openstack/releases,master,I6986e89c07331f08ab344f31401a0e874a23c9c4,Set Victoria status to Extended Maintenance,MERGED,2022-04-14 18:23:05.000000000,2022-05-05 09:16:37.000000000,2022-05-05 09:16:37.000000000,"[{'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-04-14 18:23:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/ec969e531a38eed4bd65ae8c9a82e2c523cda4ff', 'message': ""Set Victoria status to Extended Maintenance\n\nProject's last releases in Victoria have been tagged with victoria-em.\nNow indicate that Victoria is in Extended Maintenance phase also at\nhttps://releases.openstack.org\n\nPlanned transition date is April 27th, 2022.\n\nChange-Id: I6986e89c07331f08ab344f31401a0e874a23c9c4\n""}, {'number': 2, 'created': '2022-05-04 17:32:28.000000000', 'files': ['data/series_status.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/4b3c68ef7aeced0b81abfe4974f04520b1567c5e', 'message': ""Set Victoria status to Extended Maintenance\n\nProject's last releases in Victoria have been tagged with victoria-em.\nNow indicate that Victoria is in Extended Maintenance phase also at\nhttps://releases.openstack.org\n\nPlanned transition date is April 27th, 2022.\n\nChange-Id: I6986e89c07331f08ab344f31401a0e874a23c9c4\n""}]",1,837995,4b3c68ef7aeced0b81abfe4974f04520b1567c5e,12,3,2,17685,,,0,"Set Victoria status to Extended Maintenance

Project's last releases in Victoria have been tagged with victoria-em.
Now indicate that Victoria is in Extended Maintenance phase also at
https://releases.openstack.org

Planned transition date is April 27th, 2022.

Change-Id: I6986e89c07331f08ab344f31401a0e874a23c9c4
",git fetch https://review.opendev.org/openstack/releases refs/changes/95/837995/2 && git format-patch -1 --stdout FETCH_HEAD,['data/series_status.yaml'],1,ec969e531a38eed4bd65ae8c9a82e2c523cda4ff,victoria-em, status: extended maintenance status: unmaintained, status: maintained status: extended maintenance date: 2022-04-27,2,3
openstack%2Fneutron-fwaas-dashboard~master~I5bc51f982fa516acbda4b48466504be336cf4933,openstack/neutron-fwaas-dashboard,master,I5bc51f982fa516acbda4b48466504be336cf4933,Drop lower-constraints.txt and its testing,MERGED,2022-05-03 07:31:37.000000000,2022-05-05 09:10:05.000000000,2022-05-05 09:07:45.000000000,"[{'_account_id': 841}, {'_account_id': 8313}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-03 07:31:37.000000000', 'files': ['requirements.txt', '.zuul.yaml', 'lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/neutron-fwaas-dashboard/commit/6ab2105bd97b4b9d5f3347b1e9f5fefc2a1b43ca', 'message': 'Drop lower-constraints.txt and its testing\n\nAs discussed in TC PTG[1] and TC resolution[2], we are\ndropping the lower-constraints.txt file and its testing.\nWe will keep lower bounds in the requirements.txt file but\nwith a note that these are not tested lower bounds and we\ntry our best to keep them updated.\n\n[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326\n[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal\n\nChange-Id: I5bc51f982fa516acbda4b48466504be336cf4933\n'}]",0,840273,6ab2105bd97b4b9d5f3347b1e9f5fefc2a1b43ca,8,4,1,30380,,,0,"Drop lower-constraints.txt and its testing

As discussed in TC PTG[1] and TC resolution[2], we are
dropping the lower-constraints.txt file and its testing.
We will keep lower bounds in the requirements.txt file but
with a note that these are not tested lower bounds and we
try our best to keep them updated.

[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326
[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal

Change-Id: I5bc51f982fa516acbda4b48466504be336cf4933
",git fetch https://review.opendev.org/openstack/neutron-fwaas-dashboard refs/changes/73/840273/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', '.zuul.yaml', 'lower-constraints.txt', 'tox.ini']",4,6ab2105bd97b4b9d5f3347b1e9f5fefc2a1b43ca,drop-l-c,, [testenv:lower-constraints] deps = -c{toxinidir}/lower-constraints.txt -r{toxinidir}/test-requirements.txt -r{toxinidir}/requirements.txt,4,158
openstack%2Fansible-collections-openstack~master~I99e98a529ce74ff2ca77a67d09f188228e6a0e37,openstack/ansible-collections-openstack,master,I99e98a529ce74ff2ca77a67d09f188228e6a0e37,Use proxy layer in identity_user_info,MERGED,2022-02-09 14:06:03.000000000,2022-05-05 08:42:09.000000000,2022-05-05 08:42:09.000000000,"[{'_account_id': 8367}, {'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 27900}, {'_account_id': 32458}, {'_account_id': 32962}]","[{'number': 1, 'created': '2022-02-09 14:06:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/7f14548341ba7c8e3358a153c55724fae42b615d', 'message': 'Use proxy layer in identity_user_info\n\nChange-Id: I99e98a529ce74ff2ca77a67d09f188228e6a0e37\n'}, {'number': 2, 'created': '2022-02-09 14:07:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/6d8240ef2fe9fd6397dd8823afd80a8df05f3deb', 'message': 'Use proxy layer in identity_user_info\n\nChange-Id: I99e98a529ce74ff2ca77a67d09f188228e6a0e37\n'}, {'number': 3, 'created': '2022-02-09 14:32:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/aa6026ff48b66f24d62d16a347f1aecd54249c54', 'message': 'Use proxy layer in identity_user_info\n\nChange-Id: I99e98a529ce74ff2ca77a67d09f188228e6a0e37\n'}, {'number': 4, 'created': '2022-02-09 14:36:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/5c6e12d841c4c106a6d0a6a9fd76808a00847952', 'message': 'Use proxy layer in identity_user_info\n\nChange-Id: I99e98a529ce74ff2ca77a67d09f188228e6a0e37\n'}, {'number': 5, 'created': '2022-02-09 16:18:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/ce53d312b90a76ab6f477ee828646cf6c54e0833', 'message': 'Use proxy layer in identity_user_info\n\nChange-Id: I99e98a529ce74ff2ca77a67d09f188228e6a0e37\n'}, {'number': 6, 'created': '2022-02-09 21:55:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/536579292307b66a63bdd06715e6c58dc4c5f842', 'message': 'Use proxy layer in identity_user_info\n\nChange-Id: I99e98a529ce74ff2ca77a67d09f188228e6a0e37\n'}, {'number': 7, 'created': '2022-02-10 14:00:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/b275aedc9ef15580d97be8012a94eb02b8241aed', 'message': 'Use proxy layer in identity_user_info\n\nChange-Id: I99e98a529ce74ff2ca77a67d09f188228e6a0e37\n'}, {'number': 8, 'created': '2022-02-10 17:02:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/15aeb1a43d6dbca3823ad95b481c699866966d73', 'message': 'Use proxy layer in identity_user_info\n\nChange-Id: I99e98a529ce74ff2ca77a67d09f188228e6a0e37\n'}, {'number': 9, 'created': '2022-02-10 17:50:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/c594276fd7f63605022f52e3f97c048b831b21c0', 'message': 'Use proxy layer in identity_user_info\n\nChange-Id: I99e98a529ce74ff2ca77a67d09f188228e6a0e37\n'}, {'number': 10, 'created': '2022-02-10 18:28:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/31dcde3e9872ba85bd4220dc308047027893d2ba', 'message': 'Use proxy layer in identity_user_info\n\nChange-Id: I99e98a529ce74ff2ca77a67d09f188228e6a0e37\n'}, {'number': 11, 'created': '2022-02-10 21:41:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/5a8d8745183eecb24d9d5e060ebf4ade0bdb1644', 'message': 'Use proxy layer in identity_user_info\n\nChange-Id: I99e98a529ce74ff2ca77a67d09f188228e6a0e37\n'}, {'number': 12, 'created': '2022-02-11 02:15:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/0bb9d7201e94203ddd1087e73bbb5a1885aae2c6', 'message': 'Use proxy layer in identity_user_info\n\nChange-Id: I99e98a529ce74ff2ca77a67d09f188228e6a0e37\n'}, {'number': 13, 'created': '2022-02-11 13:52:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/108920da36268fc28a46a810d94bf9c03fca7701', 'message': 'Use proxy layer in identity_user_info\n\nChange-Id: I99e98a529ce74ff2ca77a67d09f188228e6a0e37\n'}, {'number': 14, 'created': '2022-02-16 01:02:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/a479f6c11c7c131ea960b0c14df474663f9cc381', 'message': 'Use proxy layer in identity_user_info\n\nChange-Id: I99e98a529ce74ff2ca77a67d09f188228e6a0e37\n'}, {'number': 15, 'created': '2022-03-07 18:33:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/b5fe90a54416bba80cdb0e7d7132e0c3e2984774', 'message': 'Use proxy layer in identity_user_info\n\nChange-Id: I99e98a529ce74ff2ca77a67d09f188228e6a0e37\n'}, {'number': 16, 'created': '2022-03-30 14:36:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/92def112fb82335e0954d31c3139b572b6cb05a0', 'message': 'Use proxy layer in identity_user_info\n\nChange-Id: I99e98a529ce74ff2ca77a67d09f188228e6a0e37\n'}, {'number': 17, 'created': '2022-04-07 14:25:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/c0707674d29a6dcc9c94f2c8f8d21d0a5f83df5a', 'message': 'Use proxy layer in identity_user_info\n\nChange-Id: I99e98a529ce74ff2ca77a67d09f188228e6a0e37\n'}, {'number': 18, 'created': '2022-04-13 17:03:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/0323afbefc3410a1319eca8f0c0ef3fbd0a18b32', 'message': 'Use proxy layer in identity_user_info\n\nChange-Id: I99e98a529ce74ff2ca77a67d09f188228e6a0e37\n'}, {'number': 19, 'created': '2022-04-13 17:04:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/87610c076af01e49503a397d6811b8d0d2b582e3', 'message': 'Use proxy layer in identity_user_info\n\nChange-Id: I99e98a529ce74ff2ca77a67d09f188228e6a0e37\n'}, {'number': 20, 'created': '2022-04-13 17:22:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/0b19119d8c0e77b722e1f5b88fd21943f75cdc4a', 'message': 'Use proxy layer in identity_user_info\n\nChange-Id: I99e98a529ce74ff2ca77a67d09f188228e6a0e37\n'}, {'number': 21, 'created': '2022-04-13 17:30:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/21fa94a54817fa0db1e26346b0ce3d99f85a5013', 'message': 'Use proxy layer in identity_user_info\n\nChange-Id: I99e98a529ce74ff2ca77a67d09f188228e6a0e37\n'}, {'number': 22, 'created': '2022-04-13 17:32:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/6d57492b59b2b10ee51a230c0c8a581afc2b6b17', 'message': 'Use proxy layer in identity_user_info\n\nChange-Id: I99e98a529ce74ff2ca77a67d09f188228e6a0e37\n'}, {'number': 23, 'created': '2022-04-13 17:49:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/7ac21ae0e8734c478a9ba05f4354b854382d3424', 'message': 'Use proxy layer in identity_user_info\n\nChange-Id: I99e98a529ce74ff2ca77a67d09f188228e6a0e37\n'}, {'number': 24, 'created': '2022-04-13 18:41:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/9f6230a67e26f5a0739953509ce6fada986786de', 'message': 'Use proxy layer in identity_user_info\n\nChange-Id: I99e98a529ce74ff2ca77a67d09f188228e6a0e37\n'}, {'number': 25, 'created': '2022-04-14 04:39:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/6835de2a5d51c9c37924dfde1d594bea0fff5e05', 'message': 'Use proxy layer in identity_user_info\n\nChange-Id: I99e98a529ce74ff2ca77a67d09f188228e6a0e37\n'}, {'number': 26, 'created': '2022-04-14 06:00:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/5ee4f6526b8f97ffb4bd66dd99a1a425948565a9', 'message': 'Use proxy layer in identity_user_info\n\nChange-Id: I99e98a529ce74ff2ca77a67d09f188228e6a0e37\n'}, {'number': 27, 'created': '2022-04-27 14:21:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/79348e74284b1a13291907edb86e7c1a7d1012cd', 'message': 'Use proxy layer in identity_user_info\n\nChange-Id: I99e98a529ce74ff2ca77a67d09f188228e6a0e37\n'}, {'number': 28, 'created': '2022-04-27 15:20:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/f266ae1ce9f84aa88a549da5fe147cd3457253f9', 'message': 'Use proxy layer in identity_user_info\n\nChange-Id: I99e98a529ce74ff2ca77a67d09f188228e6a0e37\n'}, {'number': 29, 'created': '2022-04-27 15:23:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/304b67dd542daa5bb60e6c9894d0801b3c772590', 'message': 'Use proxy layer in identity_user_info\n\n- Changes the module to get user through proxy layer\n- Adds a role to test the module\n- Renames the return value to drop openstack_ prefix\n\nChange-Id: I99e98a529ce74ff2ca77a67d09f188228e6a0e37\n'}, {'number': 30, 'created': '2022-04-28 19:09:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/a09da5a129e397bc1db0493f6d57905681efc72a', 'message': 'Use proxy layer in identity_user_info\n\n- Changes the module to get user through proxy layer\n- Adds a role to test the module\n- Renames the return value to drop openstack_ prefix\n\nChange-Id: I99e98a529ce74ff2ca77a67d09f188228e6a0e37\n'}, {'number': 31, 'created': '2022-05-02 07:47:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/43b1d6a112681be994bcf1c6f3dff5b16163a193', 'message': 'Use proxy layer in identity_user_info\n\n- Changes the module to get user through proxy layer\n- Adds a role to test the module\n- Renames the return value to drop openstack_ prefix\n\nChange-Id: I99e98a529ce74ff2ca77a67d09f188228e6a0e37\n'}, {'number': 32, 'created': '2022-05-03 13:58:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/8831a30a2b4cb3271bcff47769e36afcc80ce434', 'message': 'Use proxy layer in identity_user_info\n\n- Changes the module to get user through proxy layer\n- Adds a role to test the module\n- Renames the return value to drop openstack_ prefix\n\nChange-Id: I99e98a529ce74ff2ca77a67d09f188228e6a0e37\n'}, {'number': 33, 'created': '2022-05-04 19:00:48.000000000', 'files': ['.zuul.yaml', 'ci/roles/identity_user_info/tasks/main.yml', 'ci/run-collection.yml', 'ci/roles/identity_user_info/defaults/main.yml', 'plugins/modules/identity_user_info.py'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/2df07f3523ba3281d84c93083bc3b5d1791afb4b', 'message': 'Use proxy layer in identity_user_info\n\n- Changes the module to get user through proxy layer\n- Adds a role to test the module\n- Renames the return value to drop openstack_ prefix\n\nChange-Id: I99e98a529ce74ff2ca77a67d09f188228e6a0e37\n'}]",60,828539,2df07f3523ba3281d84c93083bc3b5d1791afb4b,106,7,33,34208,,,0,"Use proxy layer in identity_user_info

- Changes the module to get user through proxy layer
- Adds a role to test the module
- Renames the return value to drop openstack_ prefix

Change-Id: I99e98a529ce74ff2ca77a67d09f188228e6a0e37
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/39/828539/26 && git format-patch -1 --stdout FETCH_HEAD,['plugins/modules/identity_user_info.py'],1,7f14548341ba7c8e3358a153c55724fae42b615d,identity_user_info," dom_obj = self.conn.identity.find_domain(domain) if dom_obj is None: self.fail_json(msg='Domain name or ID does not exist') domain = dom_obj.id if 'enabled' in filters: filters['is_enabled'] = filters['enabled'] users = self.conn.identity.users(name=name, domain_id=domain, **filters) users = list(users)"," try: # We assume admin is passing domain id dom = self.conn.get_domain(domain)['id'] domain = dom except Exception: # If we fail, maybe admin is passing a domain name. # Note that domains have unique names, just like id. dom = self.conn.search_domains(filters={'name': domain}) if dom: domain = dom[0]['id'] else: self.fail_json(msg='Domain name or ID does not exist') users = self.conn.search_users(name, filters, domain_id=domain)",9,13
openstack%2Fansible-collections-openstack~master~I2884a74fe5f8ae6b4f141bba935e432a09c94c52,openstack/ansible-collections-openstack,master,I2884a74fe5f8ae6b4f141bba935e432a09c94c52,Removed Zuul CI job for OpenStack Queens,ABANDONED,2022-04-28 06:39:03.000000000,2022-05-05 08:17:45.000000000,,"[{'_account_id': 10969}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-28 06:39:03.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/a95232abbac7659485bc8c16ed7a151780d2b66e', 'message': 'Removed Zuul CI job for OpenStack Queens\n\nChange-Id: I2884a74fe5f8ae6b4f141bba935e432a09c94c52\n'}]",1,839687,a95232abbac7659485bc8c16ed7a151780d2b66e,11,2,1,32962,,,0,"Removed Zuul CI job for OpenStack Queens

Change-Id: I2884a74fe5f8ae6b4f141bba935e432a09c94c52
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/87/839687/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,a95232abbac7659485bc8c16ed7a151780d2b66e,drop_queens_job,,"- job: name: ansible-collections-openstack-functional-devstack-queens-ansible-2.11 # Do not inherit from any parent job which does not run for branch stable/1.0.0 because Zuul would dismiss this job # when collecting parent job variants. For example, when job.branches is set to master in a parent job, then Zuul # will not match that job when it collects job variants. # # Do not inherit from any parent job which sets job.required-projects.override-checkout on openstack/devstack # because Zuul would use that git ref instead of stable branch defined below to checkout projects of parent devstack # jobs when collecting variants for parent jobs. parent: ansible-collections-openstack-functional-devstack-base description: | Run openstack collections functional tests against a queens devstack using train branch of openstacksdk and stable 2.11 branch of ansible branches: stable/1.0.0 override-checkout: stable/queens # job.override-checkout will not override job.required-projects.override-checkout in parent jobs required-projects: - name: github.com/ansible/ansible override-checkout: stable-2.11 - # Choose parent devstack job from stable/1.0.0 branch instead of non-existing stable/queens branch name: openstack/ansible-collections-openstack override-checkout: stable/1.0.0 - # Choose parent devstack job from stable/queens branch name: openstack/devstack override-checkout: stable/queens - name: openstack/heat # Earliest branch in Heat repository is stable/rocky override-checkout: stable/rocky - name: openstack/openstacksdk # Run queens with highest possible py2 version of SDK override-checkout: stable/train vars: tox_envlist: ansible-2.11 - ansible-collections-openstack-functional-devstack-queens-ansible-2.11 - ansible-collections-openstack-functional-devstack-queens-ansible-2.11",0,36
openstack%2Freleases~master~I6e54219da26bd7260433b3a31fb9b9f5e43cbe9b,openstack/releases,master,I6e54219da26bd7260433b3a31fb9b9f5e43cbe9b,[OpenStackAnsible] Transition Victoria to EM,MERGED,2022-04-14 17:11:03.000000000,2022-05-05 08:07:30.000000000,2022-05-05 08:07:30.000000000,"[{'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-04-14 17:11:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/6a52e5e01e615d60abc962b1b127f9a760a4c0ff', 'message': '[OpenStackAnsible] Transition Victoria to EM\n\nThis transition the victoria branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch.\n\nPlease +1 if the team is ready for us to proceed with this\ntransition, or -1 if there are any final backports currently in\nflight that we should wait for. For the latter case, please\nupdate the patch with the new commit hash after doing a final\nrelease to get those changes out so we know to proceed with the\ntransition.\n\nThe transition deadline is April 27th, 2022.\n\nChange-Id: I6e54219da26bd7260433b3a31fb9b9f5e43cbe9b\n'}, {'number': 2, 'created': '2022-05-04 10:43:12.000000000', 'files': ['deliverables/victoria/openstack-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/445b3c841c47b85f5f9ec80e191e6d6121c7287d', 'message': '[OpenStackAnsible] Transition Victoria to EM\n\nThis transition the victoria branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch.\n\nPlease +1 if the team is ready for us to proceed with this\ntransition, or -1 if there are any final backports currently in\nflight that we should wait for. For the latter case, please\nupdate the patch with the new commit hash after doing a final\nrelease to get those changes out so we know to proceed with the\ntransition.\n\nThe transition deadline is April 27th, 2022.\n\nChange-Id: I6e54219da26bd7260433b3a31fb9b9f5e43cbe9b\n'}]",5,837983,445b3c841c47b85f5f9ec80e191e6d6121c7287d,18,4,2,17685,,,0,"[OpenStackAnsible] Transition Victoria to EM

This transition the victoria branch to extended maintenance.
Changes for bugfixes and things the team deems important are
still encouraged, but there will no longer be official releases
off of the branch.

Please +1 if the team is ready for us to proceed with this
transition, or -1 if there are any final backports currently in
flight that we should wait for. For the latter case, please
update the patch with the new commit hash after doing a final
release to get those changes out so we know to proceed with the
transition.

The transition deadline is April 27th, 2022.

Change-Id: I6e54219da26bd7260433b3a31fb9b9f5e43cbe9b
",git fetch https://review.opendev.org/openstack/releases refs/changes/83/837983/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/victoria/openstack-ansible.yaml'],1,6a52e5e01e615d60abc962b1b127f9a760a4c0ff,victoria-em, - version: victoria-em projects: - repo: openstack/openstack-ansible hash: 7ad10d7407b9653f62b65764b8c71783bb66e5f4,,4,0
openstack%2Ftripleo-ansible~master~Ie443acb7a06690ca88816528816a5f24421196a8,openstack/tripleo-ansible,master,Ie443acb7a06690ca88816528816a5f24421196a8,"Add ansible_playbook to support NFV deployment during ""overcloud node provision"" command",MERGED,2022-04-01 12:36:41.000000000,2022-05-05 07:13:56.000000000,2022-05-04 23:40:41.000000000,"[{'_account_id': 4571}, {'_account_id': 7144}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 22865}, {'_account_id': 23181}, {'_account_id': 33688}]","[{'number': 1, 'created': '2022-04-01 12:36:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/d75a72a20ae4e2f2e13e13c94e87fbdc2d035bf3', 'message': 'Add ansible_playbooks to support NFV deployment during ""overcloud node provision"" command\n\nThis change adds playbooks related to the ddp package and ovs-dpdk\nconfig, which should be done prior to compute network config\n\nDdp playbook provides the option to deploy overcloud with the required DDP package\nand is equivalent of the pre-network role[1]\n\nOvs-dpdk playbook provides options to specify all ovs-dpdk related config\nfor compute node and is equivalent of the pre-network role[2]\n\n[1] https://opendev.org/openstack/tripleo-heat-templates/src/branch/master/deployment/openvswitch/openvswitch-dpdk-baremetal-ansible.yaml#L239-L256\n[2] https://opendev.org/openstack/tripleo-heat-templates/src/branch/master/deployment/openvswitch/openvswitch-dpdk-baremetal-ansible.yaml#L258-L282\n\nChange-Id: Ie443acb7a06690ca88816528816a5f24421196a8\n'}, {'number': 2, 'created': '2022-04-20 14:09:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/2821e395c5da08da2a60cb11500b425a5c7139ed', 'message': 'Add ansible_playbooks to support NFV deployment during ""overcloud node provision"" command\n\nThis change adds playbooks related to the ddp package and ovs-dpdk\nconfig, which should be done prior to compute network config\n\nDdp playbook provides the option to deploy overcloud with the required DDP package\nand is equivalent of the pre-network role[1]\n\nOvs-dpdk playbook provides options to specify all ovs-dpdk related config\nfor compute node and is equivalent of the pre-network role[2]\n\n[1] https://opendev.org/openstack/tripleo-heat-templates/src/branch/master/deployment/openvswitch/openvswitch-dpdk-baremetal-ansible.yaml#L239-L256\n[2] https://opendev.org/openstack/tripleo-heat-templates/src/branch/master/deployment/openvswitch/openvswitch-dpdk-baremetal-ansible.yaml#L258-L282\n\nChange-Id: Ie443acb7a06690ca88816528816a5f24421196a8\n'}, {'number': 3, 'created': '2022-04-22 17:54:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/6242516cf15950ec8847ce7a675430f5ba765d14', 'message': 'Add ansible_playbook to support NFV deployment during ""overcloud node provision"" command\n\nThis change adds playbook related to ovs-dpdk config,\nwhich should be done prior to compute kernel/network config\n\nOvs-dpdk playbook provides options to specify all ovs-dpdk related config\nfor compute node and is equivalent of the pre-network role[1]\n\n[1] https://opendev.org/openstack/tripleo-heat-templates/src/branch/master/deployment/openvswitch/openvswitch-dpdk-baremetal-ansible.yaml#L258-L282\n\nChange-Id: Ie443acb7a06690ca88816528816a5f24421196a8\n'}, {'number': 4, 'created': '2022-05-02 12:15:10.000000000', 'files': ['tripleo_ansible/playbooks/cli-overcloud-openvswitch-dpdk.yaml', 'releasenotes/notes/openvswitch-dpdk-playbook-4d7fa71529c74e3f.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/d9f3888405d4356d99fbfa5a0f266570c75da26a', 'message': 'Add ansible_playbook to support NFV deployment during ""overcloud node provision"" command\n\nThis change adds playbook related to ovs-dpdk config,\nwhich should be done prior to compute kernel/network config\n\nOvs-dpdk playbook provides options to specify all ovs-dpdk related config\nfor compute node and is equivalent of the pre-network role[1]\n\n[1] https://opendev.org/openstack/tripleo-heat-templates/src/branch/master/deployment/openvswitch/openvswitch-dpdk-baremetal-ansible.yaml#L258-L282\n\nChange-Id: Ie443acb7a06690ca88816528816a5f24421196a8\n'}]",11,836174,d9f3888405d4356d99fbfa5a0f266570c75da26a,29,7,4,33688,,,0,"Add ansible_playbook to support NFV deployment during ""overcloud node provision"" command

This change adds playbook related to ovs-dpdk config,
which should be done prior to compute kernel/network config

Ovs-dpdk playbook provides options to specify all ovs-dpdk related config
for compute node and is equivalent of the pre-network role[1]

[1] https://opendev.org/openstack/tripleo-heat-templates/src/branch/master/deployment/openvswitch/openvswitch-dpdk-baremetal-ansible.yaml#L258-L282

Change-Id: Ie443acb7a06690ca88816528816a5f24421196a8
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/74/836174/2 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/playbooks/cli-overcloud-kernel-ddp-pkg.yaml', 'tripleo_ansible/playbooks/cli-overcloud-openvswitch-dpdk.yaml']",2,d75a72a20ae4e2f2e13e13c94e87fbdc2d035bf3,dpdk_17_0_updt,"--- # Copyright 2022 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. - name: Overcloud Node ovs-dpdk Configuration hosts: allovercloud any_errors_fatal: true gather_facts: true # socket memory and pmd core list are mandatory params vars: pmd: '' socket_mem: '' memory_channels: '' lcore: '' disable_emc: false enable_tso: false revalidator: '' handler: '' pmd_auto_lb: false pmd_load_threshold: '' pmd_improvement_threshold: '' pmd_rebal_interval: '' nova_postcopy: true tuned_profile: '' pre_tasks: - name: Wait for provisioned nodes to boot wait_for_connection: timeout: 600 delay: 10 connection: local tasks: - name: ovs-dpdk role specific config block become: true block: - name: Set nova post copy for migration set_fact: tripleo_ovs_dpdk_vhost_postcopy_support: ""{{ nova_postcopy }}"" when: tuned_profile != 'realtime-virtual-host' - name: Disable nova post copy for migration set_fact: tripleo_ovs_dpdk_vhost_postcopy_support: false when: tuned_profile == 'realtime-virtual-host' - name: Set insertion probablity based on emc cache flag set_fact: tripleo_ovs_dpdk_emc_insertion_probablity: 0 when: disable_emc - name: Configure ovs-dpdk role params include_role: name: tripleo_ovs_dpdk vars: tripleo_ovs_dpdk_lcore_list: ""{{ lcore }}"" tripleo_ovs_dpdk_pmd_core_list: ""{{ pmd }}"" tripleo_ovs_dpdk_memory_channels: ""{{ memory_channels }}"" tripleo_ovs_dpdk_socket_memory: ""{{ socket_mem }}"" tripleo_ovs_dpdk_enable_tso: ""{{ enable_tso }}"" tripleo_ovs_dpdk_revalidator_cores: ""{{ revalidator }}"" tripleo_ovs_dpdk_handler_cores: ""{{ handler }}"" tripleo_ovs_dpdk_pmd_auto_lb: ""{{ pmd_auto_lb }}"" tripleo_ovs_dpdk_pmd_load_threshold: ""{{ pmd_load_threshold }}"" tripleo_ovs_dpdk_pmd_improvement_threshold: ""{{ pmd_improvement_threshold }}"" tripleo_ovs_dpdk_pmd_rebal_interval: ""{{ pmd_rebal_interval }}"" ",,124,0
openstack%2Fswift~master~I9742dd907abea86da9259740d913924bb1ce73e7,openstack/swift,master,I9742dd907abea86da9259740d913924bb1ce73e7,Rip out pickle support in our memcached client,MERGED,2020-06-18 17:32:08.000000000,2022-05-05 07:04:27.000000000,2022-05-05 07:03:16.000000000,"[{'_account_id': 7233}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-18 17:32:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/4c23261de1545c67866c15232a777c75d3c2ec01', 'message': 'Rip out pickle support in our memcached client\n\nWe said this would be going away back in 1.7.0 -- lets actually remove it.\n\nChange-Id: I9742dd907abea86da9259740d913924bb1ce73e7\nRelated-Change: Id7d6d547b103b4f23ebf5be98b88f09ec6027ce4\n'}, {'number': 2, 'created': '2021-10-30 05:23:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/c8a235467d9dc68bbf81f1c2abdae34342c61fa6', 'message': 'Rip out pickle support in our memcached client\n\nWe said this would be going away back in 1.7.0 -- lets actually remove it.\n\nChange-Id: I9742dd907abea86da9259740d913924bb1ce73e7\nRelated-Change: Id7d6d547b103b4f23ebf5be98b88f09ec6027ce4\n'}, {'number': 3, 'created': '2022-04-27 18:16:25.000000000', 'files': ['test/unit/common/middleware/test_memcache.py', 'swift/common/memcached.py', 'etc/proxy-server.conf-sample', 'test/unit/common/test_memcached.py', 'doc/manpages/proxy-server.conf.5', 'swift/common/middleware/memcache.py', 'etc/memcache.conf-sample'], 'web_link': 'https://opendev.org/openstack/swift/commit/11b9761cdf0fb7a00b1add913a0be31d8e8b93da', 'message': 'Rip out pickle support in our memcached client\n\nWe said this would be going away back in 1.7.0 -- lets actually remove it.\n\nChange-Id: I9742dd907abea86da9259740d913924bb1ce73e7\nRelated-Change: Id7d6d547b103b4f23ebf5be98b88f09ec6027ce4\n'}]",9,736787,11b9761cdf0fb7a00b1add913a0be31d8e8b93da,22,2,3,15343,,,0,"Rip out pickle support in our memcached client

We said this would be going away back in 1.7.0 -- lets actually remove it.

Change-Id: I9742dd907abea86da9259740d913924bb1ce73e7
Related-Change: Id7d6d547b103b4f23ebf5be98b88f09ec6027ce4
",git fetch https://review.opendev.org/openstack/swift refs/changes/87/736787/2 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/common/middleware/test_memcache.py', 'swift/common/memcached.py', 'etc/proxy-server.conf-sample', 'doc/manpages/proxy-server.conf.5', 'test/unit/common/test_memcached.py', 'swift/common/middleware/memcache.py', 'etc/memcache.conf-sample']",7,4c23261de1545c67866c15232a777c75d3c2ec01,,,"# Sets how memcache values are serialized and deserialized: # 0 = older, insecure pickle serialization # 1 = json serialization but pickles can still be read (still insecure) # 2 = json serialization only (secure and the default) # To avoid an instant full cache flush, existing installations should # upgrade with 0, then set to 1 and reload, then after some time (24 hours) # set to 2 and reload. # In the future, the ability to use pickle serialization will be removed. # memcache_serialization_support = 2 #",22,147
openstack%2Fcinder~master~Ib6a2e4d68e532b91161df5245c17ce815f12f935,openstack/cinder,master,Ib6a2e4d68e532b91161df5245c17ce815f12f935,Prevent temporary volume from being deleted accidentally,MERGED,2022-01-29 02:49:14.000000000,2022-05-05 06:56:25.000000000,2022-04-29 20:27:36.000000000,"[{'_account_id': 1736}, {'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 9535}, {'_account_id': 20813}, {'_account_id': 22348}, {'_account_id': 32291}, {'_account_id': 32761}]","[{'number': 1, 'created': '2022-01-29 02:49:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/12f3d0ebfac8bf9b8da3fc581653d2a372ac4d46', 'message': ""Prevent temporal volume for backup from being deleted\n\nThis change sets 'backing-up' to a volume state of a temporal volume for\nbackup instead of 'available'. This prevents the temporal volume from\nbeing deleted during backup by DELETE API.\n\nChange-Id: Ib6a2e4d68e532b91161df5245c17ce815f12f935\n""}, {'number': 2, 'created': '2022-03-17 20:22:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f357097742c10634947b17690e4715ec119ab1d3', 'message': ""Prevent temporal volume from being deleted accidentally\n\nA temporal volume can be deleted while it is in use by DELETE API\naccidentally because its status is `available`. To avoid this deletion,\nthis fix sets a value which doesn't accept deletion to volume status of\na temporal volume.\n\nTo get the methods generally used, a value for volume status can be\npassed as an argument. When a temporal volume is used for backing up,\n`backing-up` is set. When a temporal volume is used for reverting,\n`in-use` is set because the volume is attached by a host. In addition,\n`_create_temp_volume_from_snapshot` is renamed to\n`create_temp_volume_from_snapshot` because this method is called\nexternally at reverting.\n\nChange-Id: Ib6a2e4d68e532b91161df5245c17ce815f12f935\n""}, {'number': 3, 'created': '2022-03-31 15:22:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/62f1c43afd4a14188ab13f2b333ff9e242324821', 'message': ""Prevent temporal volume from being deleted accidentally\n\nA temporal volume can be deleted while it is in use by DELETE API\naccidentally because its status is `available`. To avoid this deletion,\nthis fix sets a value which doesn't accept deletion to volume status of\na temporal volume. When a temporal volume is used for backing up,\n`backing-up` is set. When a temporal volume is used for reverting a\nsnapshot, `in-use` is set because the volume is attached by a host.\n\nChange-Id: Ib6a2e4d68e532b91161df5245c17ce815f12f935\n""}, {'number': 4, 'created': '2022-04-21 01:25:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/3d890e5ad9d62975546b1bb9bebd071b67289508', 'message': ""Prevent temporary volume from being deleted accidentally\n\nA temporary volume can be deleted while it is in use by DELETE API\naccidentally because its status is `available`. To avoid this deletion,\nthis fix sets a value which doesn't accept deletion to volume status of\na temporary volume. When a temporary volume is used for backing up,\n`backing-up` is set. When a temporary volume is used for reverting a\nsnapshot, `in-use` is set because the volume is attached by a host.\n\nChange-Id: Ib6a2e4d68e532b91161df5245c17ce815f12f935\n""}, {'number': 5, 'created': '2022-04-28 15:58:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/57b34d27bd994a5b18e694e4c4991bde5bac56e1', 'message': ""Prevent temporary volume from being deleted accidentally\n\nA temporary volume can be deleted while it is in use by DELETE API\naccidentally because its status is `available`. To avoid this deletion,\nthis fix sets a value which doesn't accept deletion to volume status of\na temporary volume. When a temporary volume is used for backing up,\n`backing-up` is set. When a temporary volume is used for reverting a\nsnapshot, `in-use` is set because the volume is attached by a host.\n\nCloses-Bug: #1970768\nChange-Id: Ib6a2e4d68e532b91161df5245c17ce815f12f935\n""}, {'number': 6, 'created': '2022-04-28 18:22:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ef3473a532c438cae357395ccc68acffccb2ab1c', 'message': ""Prevent temporary volume from being deleted accidentally\n\nA temporary volume can be deleted while it is in use by DELETE API\naccidentally because its status is `available`. To avoid this deletion,\nthis fix sets a value which doesn't accept deletion to volume status of\na temporary volume. When a temporary volume is used for backing up,\n`backing-up` is set. When a temporary volume is used for reverting a\nsnapshot, `in-use` is set because the volume is attached by a host.\n\nCloses-Bug: #1970768\nChange-Id: Ib6a2e4d68e532b91161df5245c17ce815f12f935\n""}, {'number': 7, 'created': '2022-04-28 18:35:36.000000000', 'files': ['cinder/volume/manager.py', 'cinder/tests/unit/volume/test_volume.py', 'cinder/volume/driver.py', 'cinder/tests/unit/volume/test_driver.py', 'cinder/tests/unit/backup/test_backup.py', 'releasenotes/notes/bug-1970768-temp-vol-delete-6586a13f08d7a5c1.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/53c13891b313d58923b223f6fbb1882e991f2785', 'message': ""Prevent temporary volume from being deleted accidentally\n\nA temporary volume can be deleted while it is in use by DELETE API\naccidentally because its status is `available`. To avoid this deletion,\nthis fix sets a value which doesn't accept deletion to volume status of\na temporary volume. When a temporary volume is used for backing up,\n`backing-up` is set. When a temporary volume is used for reverting a\nsnapshot, `in-use` is set because the volume is attached by a host.\n\nCloses-Bug: #1970768\nChange-Id: Ib6a2e4d68e532b91161df5245c17ce815f12f935\n""}]",42,826949,53c13891b313d58923b223f6fbb1882e991f2785,180,8,7,13689,,,0,"Prevent temporary volume from being deleted accidentally

A temporary volume can be deleted while it is in use by DELETE API
accidentally because its status is `available`. To avoid this deletion,
this fix sets a value which doesn't accept deletion to volume status of
a temporary volume. When a temporary volume is used for backing up,
`backing-up` is set. When a temporary volume is used for reverting a
snapshot, `in-use` is set because the volume is attached by a host.

Closes-Bug: #1970768
Change-Id: Ib6a2e4d68e532b91161df5245c17ce815f12f935
",git fetch https://review.opendev.org/openstack/cinder refs/changes/49/826949/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/driver.py', 'cinder/tests/unit/volume/test_driver.py', 'cinder/tests/unit/backup/test_backup.py']",3,12f3d0ebfac8bf9b8da3fc581653d2a372ac4d46,backup-temp-volume," self.assertEqual('backing-up', temp_vol['status']) self.assertEqual('backing-up', temp_vol['status'])"," self.assertEqual('available', temp_vol['status']) self.assertEqual('available', temp_vol['status'])",6,6
openstack%2Fcharm-mysql-router~master~I9613706f1e2b573af10562fb6fbf0b9a7aedf6da,openstack/charm-mysql-router,master,I9613706f1e2b573af10562fb6fbf0b9a7aedf6da,Set [DEFAULT].unknown_config_option to warning.,MERGED,2022-05-04 13:16:03.000000000,2022-05-05 06:16:21.000000000,2022-05-05 06:16:21.000000000,"[{'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-04 13:16:03.000000000', 'files': ['src/lib/charm/openstack/mysql_router.py', 'unit_tests/test_lib_charm_openstack_mysql_router.py'], 'web_link': 'https://opendev.org/openstack/charm-mysql-router/commit/9563b204ad838529c17a155274f5815de595f6dc', 'message': 'Set [DEFAULT].unknown_config_option to warning.\n\nThis change sets the configuration option\n[DEFAULT].unknown_config_option to warning on upgrade-charm and on\nconfig-changed, this allows clusters running mysql-8.0.29 with the\n""name"" key set to run.\n\nThis option is set to ""warning"" by default, although mysqlrouter set it\nto ""error"". More details at\nhttps://dev.mysql.com/doc/mysql-router/8.0/en/mysql-router-conf-options.html#option_mysqlrouter_unknown_config_option\n\nCloses-Bug: #1971565\nChange-Id: I9613706f1e2b573af10562fb6fbf0b9a7aedf6da\n'}]",4,840454,9563b204ad838529c17a155274f5815de595f6dc,13,4,1,2424,,,0,"Set [DEFAULT].unknown_config_option to warning.

This change sets the configuration option
[DEFAULT].unknown_config_option to warning on upgrade-charm and on
config-changed, this allows clusters running mysql-8.0.29 with the
""name"" key set to run.

This option is set to ""warning"" by default, although mysqlrouter set it
to ""error"". More details at
https://dev.mysql.com/doc/mysql-router/8.0/en/mysql-router-conf-options.html#option_mysqlrouter_unknown_config_option

Closes-Bug: #1971565
Change-Id: I9613706f1e2b573af10562fb6fbf0b9a7aedf6da
",git fetch https://review.opendev.org/openstack/charm-mysql-router refs/changes/54/840454/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/lib/charm/openstack/mysql_router.py', 'unit_tests/test_lib_charm_openstack_mysql_router.py']",2,9563b204ad838529c17a155274f5815de595f6dc,bug/1971565," 'pid_file': '/run/mysql/mysqlrouter-foobar.pid', 'unknown_config_option': 'warning', def test_upgrade_charm_lp1971565(self): # test fix for Bug LP#1971565 current_config = { ""DEFAULT"": {""client_ssl_mode"": ""NONE""}, ""metadata_cache:foo"": { ""ttl"": '5', ""auth_cache_ttl"": '-1', ""auth_cache_refresh_interval"": '2', }, ""metadata_cache:jujuCluster"": { ""ttl"": '5', }, } fake_config = FakeConfigParser(current_config) self.patch_object(mysql_router.charms_openstack.charm.OpenStackCharm, 'upgrade_charm') self.patch_object(mysql_router.configparser, ""ConfigParser"", return_value=fake_config) mrc = mysql_router.MySQLRouterCharm() mrc.upgrade_charm() self.assertIn('metadata_cache:foo', fake_config) self.assertIn('unknown_config_option', fake_config['DEFAULT']) self.assertEqual(fake_config['DEFAULT']['unknown_config_option'], 'warning')", 'pid_file': '/run/mysql/mysqlrouter-foobar.pid',43,3
openstack%2Ftripleo-quickstart-extras~master~I6f38ca05e6c99e0c88b7e102871fda9376d6f949,openstack/tripleo-quickstart-extras,master,I6f38ca05e6c99e0c88b7e102871fda9376d6f949,[DNM] baremetal on EL9,ABANDONED,2022-02-14 10:57:44.000000000,2022-05-05 05:31:57.000000000,,[{'_account_id': 23181}],"[{'number': 1, 'created': '2022-02-14 10:57:44.000000000', 'files': ['playbooks/baremetal-prep-virthost.yml', 'zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/711faa73de5d9ba22a39c9941293403c90a153b9', 'message': '[DNM] baremetal on EL9\n\ntesting currently.\n\nChange-Id: I6f38ca05e6c99e0c88b7e102871fda9376d6f949\n'}]",0,829010,711faa73de5d9ba22a39c9941293403c90a153b9,5,1,1,29775,,,0,"[DNM] baremetal on EL9

testing currently.

Change-Id: I6f38ca05e6c99e0c88b7e102871fda9376d6f949
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/10/829010/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/baremetal-prep-virthost.yml', 'zuul.d/layout.yaml']",2,711faa73de5d9ba22a39c9941293403c90a153b9,, check: jobs: [], templates: - tripleo-undercloud-jobs-pipeline - tripleo-multinode-container-full-pipeline - tripleo-multinode-branchful - release-notes-jobs-python3 - tripleo-standalone-scenarios-pipeline - tripleo-standalone-multinode-ipa-pipeline - tripleo-upgrades-master-pipeline check: jobs: - openstack-tox-linters - openstack-tox-molecule: required-projects: - openstack/tripleo-quickstart - tripleo-ci-centos-8-content-provider: dependencies: - openstack-tox-linters - tripleo-ci-centos-8-standalone-on-multinode-ipa: vars: consumer_job: true build_container_images: false remove_tags: - build dependencies: - tripleo-ci-centos-8-content-provider files: - ^roles/ipa-multinode.*$ - ^roles/standalone.*$ - ^playbooks/multinode-standalone-ipa.yml.*$ - tripleo-ci-centos-8-repoclosure: files: - ^roles/repoclosure.*$ gate: queue: tripleo jobs: - openstack-tox-linters - openstack-tox-molecule: required-projects: - openstack/tripleo-quickstart,8,45
openstack%2Ftripleo-heat-templates~stable%2Fvictoria~I1e5028af3427845c0f4b4b274ffaa696a23cb795,openstack/tripleo-heat-templates,stable/victoria,I1e5028af3427845c0f4b4b274ffaa696a23cb795,[DNM]To see what triggers.,ABANDONED,2022-02-16 15:12:39.000000000,2022-05-05 05:31:46.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-02-16 15:12:39.000000000', 'files': ['network_data.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/afa2c87e6609c148f865c8d1b0fcbb08e34d5314', 'message': '[DNM]To see what triggers.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/829553\nChange-Id: I1e5028af3427845c0f4b4b274ffaa696a23cb795\n'}]",0,829559,afa2c87e6609c148f865c8d1b0fcbb08e34d5314,3,1,1,29775,,,0,"[DNM]To see what triggers.

Depends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/829553
Change-Id: I1e5028af3427845c0f4b4b274ffaa696a23cb795
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/59/829559/1 && git format-patch -1 --stdout FETCH_HEAD,['network_data.yaml'],1,afa2c87e6609c148f865c8d1b0fcbb08e34d5314,, ,,2,0
openstack%2Ftripleo-quickstart~master~Ic0eda05adff66e4875c968f297ef5690e8d2fa47,openstack/tripleo-quickstart,master,Ic0eda05adff66e4875c968f297ef5690e8d2fa47,[dnm] test non_root_user_setup: true,ABANDONED,2022-04-26 07:17:35.000000000,2022-05-05 05:31:01.000000000,,[{'_account_id': 23181}],"[{'number': 1, 'created': '2022-04-26 07:17:35.000000000', 'files': ['config/release/tripleo-ci/CentOS-9/promotion-testing-hash-master.yml', 'config/release/tripleo-ci/CentOS-9/master.yml', 'zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/0ddd2df61f685ee85da26ad565584e4b17871103', 'message': '[dnm] test non_root_user_setup: true\n\nChange-Id: Ic0eda05adff66e4875c968f297ef5690e8d2fa47\n'}]",0,839304,0ddd2df61f685ee85da26ad565584e4b17871103,5,1,1,29775,,,0,"[dnm] test non_root_user_setup: true

Change-Id: Ic0eda05adff66e4875c968f297ef5690e8d2fa47
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/04/839304/1 && git format-patch -1 --stdout FETCH_HEAD,"['config/release/tripleo-ci/CentOS-9/master.yml', 'config/release/tripleo-ci/CentOS-9/promotion-testing-hash-master.yml', 'zuul.d/layout.yaml']",3,0ddd2df61f685ee85da26ad565584e4b17871103,debug, check: jobs: [], templates: - tripleo-undercloud-jobs-pipeline - tripleo-multinode-container-minimal-pipeline - tripleo-multinode-branchful - publish-openstack-docs-pti - release-notes-jobs-python3 - tripleo-standalone-scenarios-pipeline - tripleo-upgrades-master-pipeline check: jobs: - openstack-tox-linters - tripleo-tox-molecule - tripleo-ci-centos-9-content-provider: dependencies: - openstack-tox-linters - tripleo-ci-centos-9-scenario007-multinode-oooq-container: vars: consumer_job: true build_container_images: false remove_tags: - build dependencies: - tripleo-ci-centos-9-content-provider files: - config/general_config/featureset030.yml gate: queue: tripleo jobs: - tripleo-tox-molecule - openstack-tox-linters,3,29
openstack%2Ftrove-dashboard~stable%2Fyoga~I330b8b21982b31bf67e44f1b58da5d56ea7d73b3,openstack/trove-dashboard,stable/yoga,I330b8b21982b31bf67e44f1b58da5d56ea7d73b3,Update .gitreview for stable/yoga,MERGED,2022-03-10 08:20:47.000000000,2022-05-05 04:33:05.000000000,2022-05-05 04:33:05.000000000,"[{'_account_id': 22348}, {'_account_id': 26285}, {'_account_id': 29313}]","[{'number': 1, 'created': '2022-03-10 08:20:47.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/trove-dashboard/commit/35c12b74b75ec6b170b354133c094c1c8adf0363', 'message': 'Update .gitreview for stable/yoga\n\nChange-Id: I330b8b21982b31bf67e44f1b58da5d56ea7d73b3\n'}]",2,832970,35c12b74b75ec6b170b354133c094c1c8adf0363,10,3,1,22816,,,0,"Update .gitreview for stable/yoga

Change-Id: I330b8b21982b31bf67e44f1b58da5d56ea7d73b3
",git fetch https://review.opendev.org/openstack/trove-dashboard refs/changes/70/832970/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,35c12b74b75ec6b170b354133c094c1c8adf0363,create-yoga,defaultbranch=stable/yoga,,1,0
openstack%2Fcinder~master~Ibd6e67caa27201cd564a6a344946b34bd530a1da,openstack/cinder,master,Ibd6e67caa27201cd564a6a344946b34bd530a1da,Remove contrib/block-box from zuul config,MERGED,2022-04-27 16:31:51.000000000,2022-05-05 04:27:31.000000000,2022-04-29 17:59:52.000000000,"[{'_account_id': 5314}, {'_account_id': 10459}, {'_account_id': 20813}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-27 16:31:51.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/24cd0920fa4cda33aea4cbb9d11e2ed2f9f9aaef', 'message': 'Remove contrib/block-box from zuul config\n\nThis doesn\'t need to be listed in ""irrelevant-files""\nsince it isn\'t in the tree as of Iaa3a7892.\n\nChange-Id: Ibd6e67caa27201cd564a6a344946b34bd530a1da\n'}]",3,839597,24cd0920fa4cda33aea4cbb9d11e2ed2f9f9aaef,40,4,1,4523,,,0,"Remove contrib/block-box from zuul config

This doesn't need to be listed in ""irrelevant-files""
since it isn't in the tree as of Iaa3a7892.

Change-Id: Ibd6e67caa27201cd564a6a344946b34bd530a1da
",git fetch https://review.opendev.org/openstack/cinder refs/changes/97/839597/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,24cd0920fa4cda33aea4cbb9d11e2ed2f9f9aaef,,, - ^contrib/block-box.*$ - ^contrib/block-box.*$ - ^contrib/block-box.*$ - ^contrib/block-box.*$,0,4
openstack%2Fopenstack-zuul-jobs~master~I6d637c81dd4a8d712b5fa84722d7559178e40de2,openstack/openstack-zuul-jobs,master,I6d637c81dd4a8d712b5fa84722d7559178e40de2,openafs-deb-package-build: use upstream source,MERGED,2022-05-05 04:02:05.000000000,2022-05-05 04:27:16.000000000,2022-05-05 04:19:32.000000000,"[{'_account_id': 7118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-05 04:02:05.000000000', 'files': ['roles/openafs-deb-package-build/tasks/main.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/183000d937be1b1ec5f03df2e4e32c18c1f2bd12', 'message': 'openafs-deb-package-build: use upstream source\n\nAs noted inline, if the source already exists we need to use it from\nthe primary archive.  Do this for 1.8.8.1 but leave notes behind on\nbuilding non-packaged versions.\n\nChange-Id: I6d637c81dd4a8d712b5fa84722d7559178e40de2\n'}]",1,840569,183000d937be1b1ec5f03df2e4e32c18c1f2bd12,7,2,1,7118,,,0,"openafs-deb-package-build: use upstream source

As noted inline, if the source already exists we need to use it from
the primary archive.  Do this for 1.8.8.1 but leave notes behind on
building non-packaged versions.

Change-Id: I6d637c81dd4a8d712b5fa84722d7559178e40de2
",git fetch https://review.opendev.org/openstack/openstack-zuul-jobs refs/changes/69/840569/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/openafs-deb-package-build/tasks/main.yaml'],1,183000d937be1b1ec5f03df2e4e32c18c1f2bd12,openafs-dput," # NOTE(ianw) : If you are (re)building a version that is already # in Ubuntu, you have to use the ubuntu orig file that is already # present in the primary archive (if you try to recreate it, gzip # timestamps etc will be wrong). If you are building a version # that isn't in Ubuntu, then we can build directly from upstream # sources. If bumping the vesion here, look in the script below # to switch between downloading or creating. wget https://launchpad.net/ubuntu/+archive/primary/+sourcefiles/openafs/${VERSION}-1/openafs_${VERSION}.orig.tar.xz # wget https://www.openafs.org/dl/openafs/${VERSION}/openafs-${VERSION}-src.tar.bz2 # wget https://www.openafs.org/dl/openafs/${VERSION}/openafs-${VERSION}-doc.tar.bz2 # tar xf openafs-${VERSION}-src.tar.bz2 # tar xf openafs-${VERSION}-doc.tar.bz2 # mv openafs-${VERSION} openafs_${VERSION}.orig # tar cfJ openafs_${VERSION}.orig.tar.xz openafs_${VERSION}.orig", wget https://www.openafs.org/dl/openafs/${VERSION}/openafs-${VERSION}-src.tar.bz2 wget https://www.openafs.org/dl/openafs/${VERSION}/openafs-${VERSION}-doc.tar.bz2 tar xf openafs-${VERSION}-src.tar.bz2 tar xf openafs-${VERSION}-doc.tar.bz2 # make the .orig for debian mv openafs-${VERSION} openafs_${VERSION}.orig tar cfJ openafs_${VERSION}.orig.tar.xz openafs_${VERSION}.orig,14,8
openstack%2Frequirements~master~Ic6af283d1b3dba24e898f7fcf25d52e2bd2a9959,openstack/requirements,master,Ic6af283d1b3dba24e898f7fcf25d52e2bd2a9959,Updated from generate-constraints,ABANDONED,2022-05-05 02:43:18.000000000,2022-05-05 04:20:53.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-05-05 02:43:18.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/1f72fbdcf7d55b4ee067d7f1244bbf4591924f61', 'message': 'Updated from generate-constraints\n\nChange-Id: Ic6af283d1b3dba24e898f7fcf25d52e2bd2a9959\n'}]",0,840562,1f72fbdcf7d55b4ee067d7f1244bbf4591924f61,4,1,1,11131,,,0,"Updated from generate-constraints

Change-Id: Ic6af283d1b3dba24e898f7fcf25d52e2bd2a9959
",git fetch https://review.opendev.org/openstack/requirements refs/changes/62/840562/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,1f72fbdcf7d55b4ee067d7f1244bbf4591924f61,openstack/requirements/constraints,rcssmin===1.1.0grpcio===1.46.0fixtures===4.0.0pyScss===1.4.0XStatic-Angular===1.8.2.1paramiko===2.10.4ovs===2.17.1.post1 cryptography===37.0.2pkg_resources===0.0.0django-compressor===4.0autobahn===22.4.2;python_version=='3.8'boto3===1.22.7botocore===1.25.7rjsmin===1.2.0,rcssmin===1.0.6grpcio===1.44.0fixtures===3.0.0pyScss===1.3.7XStatic-Angular===1.5.8.0paramiko===2.8.1ovs===2.16.0 cryptography===36.0.2django-compressor===2.4.1autobahn===22.3.2;python_version=='3.8'boto3===1.22.6botocore===1.25.6rjsmin===1.1.0setuptools===59.6.0;python_version=='3.6' setuptools===62.1.0;python_version=='3.8',14,15
openstack%2Fos-traits~master~Ia50e9a1acdcfb821e2d40774c3dca191e172ca68,openstack/os-traits,master,Ia50e9a1acdcfb821e2d40774c3dca191e172ca68,Add nova and cyborg owner traits for resources,MERGED,2022-04-24 08:11:21.000000000,2022-05-05 03:44:35.000000000,2022-04-27 13:26:35.000000000,"[{'_account_id': 7166}, {'_account_id': 9708}, {'_account_id': 11604}, {'_account_id': 22348}, {'_account_id': 26458}]","[{'number': 1, 'created': '2022-04-24 08:11:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-traits/commit/39356deaaa381859338a4915b9adf7c0bdf4d928', 'message': 'Add nova and cyborg owner traits for resources\n\nResources such as vGPU can be managed either by nova\nby cyborg. In order to distinguish the manage-owner, use owner (nova, cyborg)\ntrait in Placement when the inventory is reported.\n\nWhen resource is requested, flavor based VGPU resource should be allocated\nfrom the nova managed RP, while device profile based VGPU resource should be\nallocated from the cyborg managed RP.\n\nChange-Id: Ia50e9a1acdcfb821e2d40774c3dca191e172ca68\n'}, {'number': 2, 'created': '2022-04-27 11:52:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-traits/commit/852e543204591ed08d84773618654dd150e5ff74', 'message': 'Add nova and cyborg owner traits for resources\n\nResources such as vGPU can be managed either by nova\nby cyborg. In order to distinguish the manage-owner, use owner (nova, cyborg)\ntrait in Placement when the inventory is reported.\n\nWhen resource is requested, flavor based VGPU resource should be allocated\nfrom the nova managed RP, while device profile based VGPU resource should be\nallocated from the cyborg managed RP.\n\nChange-Id: Ia50e9a1acdcfb821e2d40774c3dca191e172ca68\n'}, {'number': 3, 'created': '2022-04-27 12:20:51.000000000', 'files': ['releasenotes/notes/add-owner-trait-f33e0e038961cbbd.yaml', 'os_traits/owner/__init__.py', 'os_traits/tests/test_os_traits.py'], 'web_link': 'https://opendev.org/openstack/os-traits/commit/f64d50e4dd2f21558fb73dd4b59cd1d4b121b707', 'message': 'Add nova and cyborg owner traits for resources\n\nResources such as vGPU can be managed either by nova\nby cyborg. In order to distinguish the manage-owner, use owner (nova, cyborg)\ntrait in Placement when the inventory is reported.\n\nWhen resource is requested, flavor based VGPU resource should be allocated\nfrom the nova managed RP, while device profile based VGPU resource should be\nallocated from the cyborg managed RP.\n\nChange-Id: Ia50e9a1acdcfb821e2d40774c3dca191e172ca68\n'}]",5,839128,f64d50e4dd2f21558fb73dd4b59cd1d4b121b707,15,5,3,31412,,,0,"Add nova and cyborg owner traits for resources

Resources such as vGPU can be managed either by nova
by cyborg. In order to distinguish the manage-owner, use owner (nova, cyborg)
trait in Placement when the inventory is reported.

When resource is requested, flavor based VGPU resource should be allocated
from the nova managed RP, while device profile based VGPU resource should be
allocated from the cyborg managed RP.

Change-Id: Ia50e9a1acdcfb821e2d40774c3dca191e172ca68
",git fetch https://review.opendev.org/openstack/os-traits refs/changes/28/839128/3 && git format-patch -1 --stdout FETCH_HEAD,['os_traits/compute/owner.py'],1,39356deaaa381859338a4915b9adf7c0bdf4d928,839128,"# -*- coding: utf-8 -*- # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. TRAITS = [ # The resource provider owner is Cyborg. 'OWNER_CYBORG', # The resource provider owner is Nova. 'OWNER_NOVA' ] ",,20,0
openstack%2Fopenstack-zuul-jobs~master~Id624aa1ec6213be70809a8f911ab4aadc8a6ed53,openstack/openstack-zuul-jobs,master,Id624aa1ec6213be70809a8f911ab4aadc8a6ed53,openafs-deb-packge-build: fix dput argument,MERGED,2022-05-05 02:06:39.000000000,2022-05-05 02:50:08.000000000,2022-05-05 02:41:08.000000000,"[{'_account_id': 7118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-05 02:06:39.000000000', 'files': ['playbooks/openafs-deb-package-build/publish.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/a26c93712f4a2f83aa89beaa153df0da886eb425', 'message': 'openafs-deb-packge-build: fix dput argument\n\nChange-Id: Id624aa1ec6213be70809a8f911ab4aadc8a6ed53\n'}]",0,840559,a26c93712f4a2f83aa89beaa153df0da886eb425,7,2,1,7118,,,0,"openafs-deb-packge-build: fix dput argument

Change-Id: Id624aa1ec6213be70809a8f911ab4aadc8a6ed53
",git fetch https://review.opendev.org/openstack/openstack-zuul-jobs refs/changes/59/840559/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/openafs-deb-package-build/publish.yaml'],1,a26c93712f4a2f83aa89beaa153df0da886eb425,openafs-dput, dput ppa-openafs {{ item | basename }}, dput --to ppa-openafs {{ item | basename }},1,1
openstack%2Fopenstack-zuul-jobs~master~I31fd91f3be32bc9109924d6363d0e32fd9d68b94,openstack/openstack-zuul-jobs,master,I31fd91f3be32bc9109924d6363d0e32fd9d68b94,openafs-deb-package-build: push to test PPA,MERGED,2022-05-05 01:29:06.000000000,2022-05-05 01:57:16.000000000,2022-05-05 01:54:36.000000000,"[{'_account_id': 7118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-05 01:29:06.000000000', 'files': ['playbooks/openafs-deb-package-build/publish.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/68d03b5f86a5daf166adf8efc7e3cb51f9b9651b', 'message': 'openafs-deb-package-build: push to test PPA\n\nThe keys should be setup, run a test push to a temporary PPA to test\nbuilding.\n\nChange-Id: I31fd91f3be32bc9109924d6363d0e32fd9d68b94\n'}]",1,840556,68d03b5f86a5daf166adf8efc7e3cb51f9b9651b,7,2,1,7118,,,0,"openafs-deb-package-build: push to test PPA

The keys should be setup, run a test push to a temporary PPA to test
building.

Change-Id: I31fd91f3be32bc9109924d6363d0e32fd9d68b94
",git fetch https://review.opendev.org/openstack/openstack-zuul-jobs refs/changes/56/840556/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/openafs-deb-package-build/publish.yaml'],1,68d03b5f86a5daf166adf8efc7e3cb51f9b9651b,openafs-dput," incoming = ~openstack-ci-core/ubuntu/openafs-deb-test - name: Push files to PPA shell: | dput --to ppa-openafs {{ item | basename }} args: chdir: '{{ ansible_user_dir }}/openafs' loop: ""{{ _changes_files.files | map(attribute='path') | list }}""", incoming = ~openstack-ci-core/ubuntu/openafs,7,1
openstack%2Fdesignate~master~I3df49281619727ad0386f0cd8f8751bf272d2147,openstack/designate,master,I3df49281619727ad0386f0cd8f8751bf272d2147,Set a minimum coverage limit,MERGED,2022-05-04 22:48:04.000000000,2022-05-05 01:37:21.000000000,2022-05-05 01:35:57.000000000,"[{'_account_id': 5572}, {'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2022-05-04 22:48:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/4f883bac43417e8d967bb0bb8b509d8f3e59286f', 'message': ""Set a minimum coverage limit\n\nCurrently the code coverage check job has no minimum threshold.\nLet's set a minimum bar of 83% coverage or the job will fail.\nCurrently we are around 85%, so this gives us some room. As coverage improves we can incrementally raise this bar.\n\nChange-Id: I3df49281619727ad0386f0cd8f8751bf272d2147\n""}, {'number': 2, 'created': '2022-05-04 22:48:33.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/designate/commit/69366b9209a3f080a0527ce48720931c293fda91', 'message': ""Set a minimum coverage limit\n\nCurrently the code coverage check job has no minimum threshold.\nLet's set a minimum bar of 83% coverage or the job will fail.\nCurrently we are around 85%, so this gives us some room. As coverage improves we can incrementally raise this bar.\n\nChange-Id: I3df49281619727ad0386f0cd8f8751bf272d2147\n""}]",1,840551,69366b9209a3f080a0527ce48720931c293fda91,10,3,2,11628,,,0,"Set a minimum coverage limit

Currently the code coverage check job has no minimum threshold.
Let's set a minimum bar of 83% coverage or the job will fail.
Currently we are around 85%, so this gives us some room. As coverage improves we can incrementally raise this bar.

Change-Id: I3df49281619727ad0386f0cd8f8751bf272d2147
",git fetch https://review.opendev.org/openstack/designate refs/changes/51/840551/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,4f883bac43417e8d967bb0bb8b509d8f3e59286f,, coverage report --fail-under=83 --skip-covered,,1,0
openstack%2Fswift~master~I5b02785631887f1a41430013ca39d35f5523baf3,openstack/swift,master,I5b02785631887f1a41430013ca39d35f5523baf3,Added a shardrange_graph_viewer cli script,NEW,2021-02-11 04:56:48.000000000,2022-05-05 01:26:07.000000000,,"[{'_account_id': 7233}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-11 04:56:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/3e57ec58b4c611b07ff41a611d4f9cbe6dfe7415', 'message': ""Added a shardrange_graph_viewer cli script\n\nTo correctly use this script you need to have python-graphviz and\ngraphvix installed. If you do you can use it to generate a shard range\ngraph.\n\nAs it currently stands it only supports getting information from STDIN.\nThis was a choice because we're thinking of wrapping it in a docker\ncontainer to include all dependencies, so would make it easier to use.\n\nCurrent usage is:\n\n $ python swift/cli/shardrange_graph_viewer.py --help\n usage: shardrange_graph_viewer.py [-h] [-i] [-f {svg,png,pdf}] [graph_name]\n\n Display ShardRange graphs\n\n positional arguments:\n   graph_name            Name of the graph\n\n optional arguments:\n   -h, --help            show this help message and exit\n   -i, --info            Data is from container-info\n   -f {svg,png,pdf}, --format {svg,png,pdf}\n                         Format of the graph to produce\n\nIf you pass the '-i' it'll assume in the input is the output of\ncontainer-info:\n\n  $ swift-container-info ... | python shardrange_graph_viewer.py -i\n\nIf you don't it'll assume json:\n\n  $ swift-manage-shard-ranges .. show | python \\\n    shardrange_graph_viewer.py\n\nOf course you can also load in some json from disk:\n\n  $ python shardrange-graph-viewer.py < <path_to_json>\n\nThis will attempt to open the file if you can, but in anycase it'll drop\nthe graph file in whatever format you specify in the same folder you ran\nthe script from.\n\nThen the analyse command lands, I plan to extend it to add colours for\nthe correct/selected path.\n\nChange-Id: I5b02785631887f1a41430013ca39d35f5523baf3\n""}, {'number': 2, 'created': '2021-02-11 07:44:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/4eb9fa2e280f1ca6e058d52b6488dd7e9f4b6c21', 'message': ""Added a shardrange_graph_viewer cli script\n\nTo correctly use this script you need to have python-graphviz and\ngraphvix installed. If you do you can use it to generate a shard range\ngraph.\n\nAs it currently stands it only supports getting information from STDIN.\nThis was a choice because we're thinking of wrapping it in a docker\ncontainer to include all dependencies, so would make it easier to use.\n\nCurrent usage is:\n\n $ python swift/cli/shardrange_graph_viewer.py --help\n usage: shardrange_graph_viewer.py [-h] [-i] [-f {svg,png,pdf}] [graph_name]\n\n Display ShardRange graphs\n\n positional arguments:\n   graph_name            Name of the graph\n\n optional arguments:\n   -h, --help            show this help message and exit\n   -i, --info            Data is from container-info\n   -f {svg,png,pdf}, --format {svg,png,pdf}\n                         Format of the graph to produce\n   -o OUTPUT, --output OUTPUT\n                         Provide an output directory\n\nIf you pass the '-i' it'll assume in the input is the output of\ncontainer-info:\n\n  $ swift-container-info ... | python shardrange_graph_viewer.py -i\n\nIf you don't it'll assume json:\n\n  $ swift-manage-shard-ranges .. show | python \\\n    shardrange_graph_viewer.py\n\nOf course you can also load in some json from disk:\n\n  $ python shardrange-graph-viewer.py < <path_to_json>\n\nThis will attempt to open the file if you can, but in anycase it'll drop\nthe graph file in whatever format you specify in the same folder you ran\nthe script from.\n\nThen the analyse command lands, I plan to extend it to add colours for\nthe correct/selected path.\n\nChange-Id: I5b02785631887f1a41430013ca39d35f5523baf3\n""}, {'number': 3, 'created': '2021-02-22 09:23:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/215a5b3bb0e4ea801e638f8aa2e89689587373d5', 'message': ""Added a shardrange_graph_viewer cli script\n\nTo correctly use this script you need to have python-graphviz and\ngraphvix installed. If you do you can use it to generate a shard range\ngraph.\n\nAs it currently stands it only supports getting information from STDIN.\nThis was a choice because we're thinking of wrapping it in a docker\ncontainer to include all dependencies, so would make it easier to use.\n\nCurrent usage is:\n\n $ python swift/cli/shardrange_graph_viewer.py --help\n usage: shardrange_graph_viewer.py [-h] [-i] [-f {svg,png,pdf}] [graph_name]\n\n Display ShardRange graphs\n\n positional arguments:\n   graph_name            Name of the graph\n\n optional arguments:\n   -h, --help            show this help message and exit\n   -i, --info            Data is from container-info\n   -f {svg,png,pdf}, --format {svg,png,pdf}\n                         Format of the graph to produce\n   -o OUTPUT, --output OUTPUT\n                         Provide an output directory\n\nIf you pass the '-i' it'll assume in the input is the output of\ncontainer-info:\n\n  $ swift-container-info ... | python shardrange_graph_viewer.py -i\n\nIf you don't it'll assume json:\n\n  $ swift-manage-shard-ranges .. show | python \\\n    shardrange_graph_viewer.py\n\nOf course you can also load in some json from disk:\n\n  $ python shardrange-graph-viewer.py < <path_to_json>\n\nThis will attempt to open the file if you can, but in anycase it'll drop\nthe graph file in whatever format you specify in the same folder you ran\nthe script from.\n\nThen the analyse command lands, I plan to extend it to add colours for\nthe correct/selected path.\n\nChange-Id: I5b02785631887f1a41430013ca39d35f5523baf3\n""}, {'number': 4, 'created': '2021-02-23 02:27:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/11348be1f8a23fcb359dd53aacd9835e92c06be5', 'message': ""Added a shardrange_graph_viewer cli script\n\nTo correctly use this script you need to have python-graphviz and\ngraphvix installed. If you do you can use it to generate a shard range\ngraph.\n\nAs it currently stands it only supports getting information from STDIN.\nThis was a choice because we're thinking of wrapping it in a docker\ncontainer to include all dependencies, so would make it easier to use.\n\nCurrent usage is:\n\n $ python swift/cli/shardrange_graph_viewer.py --help\n usage: shardrange_graph_viewer.py [-h] [-i] [-f {svg,png,pdf}] [graph_name]\n\n Display ShardRange graphs\n\n positional arguments:\n   graph_name            Name of the graph\n\n optional arguments:\n   -h, --help            show this help message and exit\n   -i, --info            Data is from container-info\n   -f {svg,png,pdf}, --format {svg,png,pdf}\n                         Format of the graph to produce\n   -o OUTPUT, --output OUTPUT\n                         Provide an output directory\n\nIf you pass the '-i' it'll assume in the input is the output of\ncontainer-info:\n\n  $ swift-container-info ... | python shardrange_graph_viewer.py -i\n\nIf you don't it'll assume json:\n\n  $ swift-manage-shard-ranges .. show | python \\\n    shardrange_graph_viewer.py\n\nOf course you can also load in some json from disk:\n\n  $ python shardrange-graph-viewer.py < <path_to_json>\n\nThis will attempt to open the file if you can, but in anycase it'll drop\nthe graph file in whatever format you specify in the same folder you ran\nthe script from.\n\nThen the analyse command lands, I plan to extend it to add colours for\nthe correct/selected path.\n\nChange-Id: I5b02785631887f1a41430013ca39d35f5523baf3\n""}, {'number': 5, 'created': '2021-03-18 06:00:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/9e2ef8616922add34aa2a3615c22c9d9cc61e3b5', 'message': ""Added a shardrange_graph_viewer cli script\n\nTo correctly use this script you need to have python-graphviz and\ngraphvix installed. If you do you can use it to generate a shard range\ngraph.\n\nAs it currently stands it only supports getting information from STDIN.\nThis was a choice because we're thinking of wrapping it in a docker\ncontainer to include all dependencies, so would make it easier to use.\n\nCurrent usage is:\n\n $ python swift/cli/shardrange_graph_viewer.py --help\n usage: shardrange_graph_viewer.py [-h] [-i] [-f {svg,png,pdf}] [graph_name]\n\n Display ShardRange graphs\n\n positional arguments:\n   graph_name            Name of the graph\n\n optional arguments:\n   -h, --help            show this help message and exit\n   -i, --info            Data is from container-info\n   -f {svg,png,pdf}, --format {svg,png,pdf}\n                         Format of the graph to produce\n   -o OUTPUT, --output OUTPUT\n                         Provide an output directory\n   -a, --analyze         Run ShardRanges through the analyzer and highlight the best path\n\nIf you pass the '-i' it'll assume in the input is the output of\ncontainer-info:\n\n  $ swift-container-info ... | python shardrange_graph_viewer.py -i\n\nIf you don't it'll assume json:\n\n  $ swift-manage-shard-ranges .. show | python \\\n    shardrange_graph_viewer.py\n\nOf course you can also load in some json from disk:\n\n  $ python shardrange-graph-viewer.py < <path_to_json>\n\nThis will attempt to open the file if you can, but in anycase it'll drop\nthe graph file in whatever format you specify in the same folder you ran\nthe script from.\n\nIf you use the '--analyze' option then it'll run the ShardRanges through\nthe s-m-s-r analyze function and then mark the good path in green.\n\nChange-Id: I5b02785631887f1a41430013ca39d35f5523baf3\n""}, {'number': 6, 'created': '2021-03-29 05:58:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/ed93fbd21ae188da0c6812b0ee0d032294c77f01', 'message': ""Added a shardrange_graph_viewer cli script\n\nTo correctly use this script you need to have python-graphviz and\ngraphvix installed. If you do you can use it to generate a shard range\ngraph.\n\nAs it currently stands it only supports getting information from STDIN.\nThis was a choice because we're thinking of wrapping it in a docker\ncontainer to include all dependencies, so would make it easier to use.\n\nCurrent usage is:\n\n $ python swift/cli/shardrange_graph_viewer.py --help\n usage: shardrange_graph_viewer.py [-h] [-i] [-f {svg,png,pdf}] [graph_name]\n\n Display ShardRange graphs\n\n positional arguments:\n   graph_name            Name of the graph\n\n optional arguments:\n   -h, --help            show this help message and exit\n   -i, --info            Data is from container-info\n   -f {svg,png,pdf}, --format {svg,png,pdf}\n                         Format of the graph to produce\n   -o OUTPUT, --output OUTPUT\n                         Provide an output directory\n   -a, --analyze         Run ShardRanges through the analyzer and highlight the best path\n\nIf you pass the '-i' it'll assume in the input is the output of\ncontainer-info:\n\n  $ swift-container-info ... | python shardrange_graph_viewer.py -i\n\nIf you don't it'll assume json:\n\n  $ swift-manage-shard-ranges .. show | python \\\n    shardrange_graph_viewer.py\n\nOf course you can also load in some json from disk:\n\n  $ python shardrange-graph-viewer.py < <path_to_json>\n\nThis will attempt to open the file if you can, but in anycase it'll drop\nthe graph file in whatever format you specify in the same folder you ran\nthe script from.\n\nIf you use the '--analyze' option then it'll run the ShardRanges through\nthe s-m-s-r analyze function and then mark the good path in green.\n\nChange-Id: I5b02785631887f1a41430013ca39d35f5523baf3\n""}, {'number': 7, 'created': '2022-05-05 00:28:36.000000000', 'files': ['test/unit/cli/test_shardrange_graph_viewer.py', 'swift/cli/shardrange_graph_viewer.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/8d6343acf2f49a8d68d70ab399b0c59b0317b058', 'message': ""Added a shardrange_graph_viewer cli script\n\nTo correctly use this script you need to have python-graphviz and\ngraphvix installed. If you do you can use it to generate a shard range\ngraph.\n\nAs it currently stands it only supports getting information from STDIN.\nThis was a choice because we're thinking of wrapping it in a docker\ncontainer to include all dependencies, so would make it easier to use.\n\nCurrent usage is:\n\n $ python swift/cli/shardrange_graph_viewer.py --help\n usage: shardrange_graph_viewer.py [-h] [-i] [-f {svg,png,pdf}] [graph_name]\n\n Display ShardRange graphs\n\n positional arguments:\n   graph_name            Name of the graph\n\n optional arguments:\n   -h, --help            show this help message and exit\n   -i, --info            Data is from container-info\n   -f {svg,png,pdf}, --format {svg,png,pdf}\n                         Format of the graph to produce\n   -o OUTPUT, --output OUTPUT\n                         Provide an output directory\n   -a, --analyze         Run ShardRanges through the analyzer and highlight the best path\n\nIf you pass the '-i' it'll assume in the input is the output of\ncontainer-info:\n\n  $ swift-container-info ... | python shardrange_graph_viewer.py -i\n\nIf you don't it'll assume json:\n\n  $ swift-manage-shard-ranges .. show | python \\\n    shardrange_graph_viewer.py\n\nOf course you can also load in some json from disk:\n\n  $ python shardrange-graph-viewer.py < <path_to_json>\n\nThis will attempt to open the file if you can, but in anycase it'll drop\nthe graph file in whatever format you specify in the same folder you ran\nthe script from.\n\nIf you use the '--analyze' option then it'll run the ShardRanges through\nthe s-m-s-r analyze function and then mark the good path in green.\n\nChange-Id: I5b02785631887f1a41430013ca39d35f5523baf3\n""}]",13,775066,8d6343acf2f49a8d68d70ab399b0c59b0317b058,16,2,7,7233,,,0,"Added a shardrange_graph_viewer cli script

To correctly use this script you need to have python-graphviz and
graphvix installed. If you do you can use it to generate a shard range
graph.

As it currently stands it only supports getting information from STDIN.
This was a choice because we're thinking of wrapping it in a docker
container to include all dependencies, so would make it easier to use.

Current usage is:

 $ python swift/cli/shardrange_graph_viewer.py --help
 usage: shardrange_graph_viewer.py [-h] [-i] [-f {svg,png,pdf}] [graph_name]

 Display ShardRange graphs

 positional arguments:
   graph_name            Name of the graph

 optional arguments:
   -h, --help            show this help message and exit
   -i, --info            Data is from container-info
   -f {svg,png,pdf}, --format {svg,png,pdf}
                         Format of the graph to produce
   -o OUTPUT, --output OUTPUT
                         Provide an output directory
   -a, --analyze         Run ShardRanges through the analyzer and highlight the best path

If you pass the '-i' it'll assume in the input is the output of
container-info:

  $ swift-container-info ... | python shardrange_graph_viewer.py -i

If you don't it'll assume json:

  $ swift-manage-shard-ranges .. show | python \
    shardrange_graph_viewer.py

Of course you can also load in some json from disk:

  $ python shardrange-graph-viewer.py < <path_to_json>

This will attempt to open the file if you can, but in anycase it'll drop
the graph file in whatever format you specify in the same folder you ran
the script from.

If you use the '--analyze' option then it'll run the ShardRanges through
the s-m-s-r analyze function and then mark the good path in green.

Change-Id: I5b02785631887f1a41430013ca39d35f5523baf3
",git fetch https://review.opendev.org/openstack/swift refs/changes/66/775066/2 && git format-patch -1 --stdout FETCH_HEAD,['swift/cli/shardrange_graph_viewer.py'],1,3e57ec58b4c611b07ff41a611d4f9cbe6dfe7415,p-shard-repair,"from __future__ import print_function import argparse import json import sys import time import re from collections import OrderedDict from hashlib import md5 from swift.common.utils import Timestamp, get_logger, ShardRange try: from graphviz import Graph except ImportError: print(""graphviz python module not installed."") sys.exit(1) def _from_container_info(): GROK_START = ""Name: "" GROK_END = ""Meta Timestamp: "" record_started = False records = [] record = [] shard_ranges = [] try: for line in sys.stdin: line = line.strip() if line.startswith(GROK_START): record_started = True elif line.startswith(GROK_END): record.append(line) records.append(record) record = [] record_started = False if record_started: record.append(line) except Exception as ex: print(str(ex)) finally: sys.stdin.flush() sys.stdin.close() pattern = ('(Name:|lower:|upper:|Object Count:|Bytes Used:|' 'State:|Created at:|Meta Timestamp:)') for record in records: pairs = re.split(pattern, ""\n"".join(record))[1:] rec_dict = OrderedDict( (pairs[i * 2], pairs[i * 2 + 1]) for i in range(8)) # some cleanups for comma in ('lower:', 'Object Count:', 'Bytes Used:'): if rec_dict[comma].strip().endswith(','): rec_dict[comma] = rec_dict[comma].strip()[:-1] if rec_dict['lower:'].strip() == ""''"": rec_dict['lower:'] = '' if rec_dict['upper:'].strip() == ""''"": rec_dict['upper:'] = '' shard_ranges.append( ShardRange(rec_dict['Name:'].strip(), _info_bracket_data_to_data( rec_dict['Created at:'].strip()), rec_dict['lower:'].strip(), rec_dict['upper:'].strip(), rec_dict['Object Count:'].strip(), rec_dict['Bytes Used:'].strip(), _info_bracket_data_to_data( rec_dict['Meta Timestamp:'].strip()), state=_info_bracket_data_to_data( rec_dict['State:'].strip()))) return shard_ranges, [] def _info_bracket_data_to_data(ts): if ts: ts = ts.split() if len(ts) == 2 and ts[-1].startswith('('): return ts[-1][1:-1] return None def _from_json(): try: shard_ranges = [] ranges = json.load(sys.stdin) for sr in ranges: if isinstance(sr['state'], str): if sr['state'].isdigit(): sr['state'] = int(sr['state']) else: sr['state'] = ShardRange.STATES_BY_NAME[sr['state']] shard_ranges.append(ShardRange.from_dict(sr)) return shard_ranges, [] except ValueError: print('Failed to load json data') return [], [] def main(args=None): parser = argparse.ArgumentParser( description='Display ShardRange graphs') parser.add_argument('graph_name', nargs='?', help='Name of the graph') parser.add_argument('-i', '--info', default=False, action='store_true', help='Data is from container-info') parser.add_argument('-f', '--format', default=""svg"", choices=['svg', 'png', 'pdf'], help=""Format of the graph to produce"") args = parser.parse_args(args) if not args.graph_name: args.graph_name = ""ShardRange Graph - {}"".format(time.time()) if args.info: shard_ranges, good_path = _from_container_info() else: shard_ranges, good_path = _from_json() if not shard_ranges: print(""No shard range data detected"") sys.exit(1) graph = Graph(args.graph_name) for sr in shard_ranges: lower = sr.lower_str if sr.lower_str != '' else ""MIN"" upper = sr.upper_str if sr.upper_str != '' else ""MAX"" lower_key = md5(lower.encode('utf-8')).hexdigest() upper_key = md5(upper.encode('utf-8')).hexdigest() graph.node(lower_key, label=lower) graph.node(upper_key, label=upper) edge_name = '%s %s' % (sr.name, sr.object_count) graph.edge(lower_key, upper_key, edge_name) graph.render(""{}-{}.gv"".format(""container_info"", time.time()), view=True, format=args.format) if __name__ == '__main__': exit(main())",,141,0
openstack%2Frequirements~master~I594aa3616385dffc20166c9c855404d59a97e7bc,openstack/requirements,master,I594aa3616385dffc20166c9c855404d59a97e7bc,Updated from generate-constraints,MERGED,2022-05-04 02:37:02.000000000,2022-05-05 01:10:25.000000000,2022-05-05 01:09:24.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-04 02:37:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/c86dfe69749a7ecd6ea4a4d75bbd7ac7e11f32ac', 'message': 'Updated from generate-constraints\n\nChange-Id: I594aa3616385dffc20166c9c855404d59a97e7bc\n'}, {'number': 2, 'created': '2022-05-04 16:05:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/37626950341eb03919f4b21bb99bafbf7c9d4f16', 'message': 'Updated from generate-constraints\n\nChange-Id: I594aa3616385dffc20166c9c855404d59a97e7bc\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n'}, {'number': 3, 'created': '2022-05-04 19:47:14.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/3c70957648ac44105a755990bde97847d4225644', 'message': 'Updated from generate-constraints\n\nChange-Id: I594aa3616385dffc20166c9c855404d59a97e7bc\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n'}]",0,840404,3c70957648ac44105a755990bde97847d4225644,23,2,3,11131,,,0,"Updated from generate-constraints

Change-Id: I594aa3616385dffc20166c9c855404d59a97e7bc
Signed-off-by: Matthew Thode <mthode@mthode.org>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/04/840404/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,c86dfe69749a7ecd6ea4a4d75bbd7ac7e11f32ac,openstack/requirements/constraints/noclob,rcssmin===1.1.0fixtures===4.0.0pyScss===1.4.0XStatic-Angular===1.8.2.1google-api-core===2.7.3types-paramiko===2.10.0paramiko===2.10.4ovs===2.17.1 cryptography===37.0.2pkg_resources===0.0.0django-compressor===4.0 libvirt-python===8.3.0funcparserlib===1.0.0;python_version=='3.8'google-api-python-client===2.47.0suds-community===1.1.1boto3===1.22.6botocore===1.25.6zstd===1.5.2.5wrapt===1.14.1diskimage-builder===3.21.0rjsmin===1.2.0,rcssmin===1.0.6fixtures===3.0.0pyScss===1.3.7XStatic-Angular===1.5.8.0google-api-core===2.7.2types-paramiko===2.8.21paramiko===2.8.1ovs===2.16.0 cryptography===36.0.2django-compressor===2.4.1 libvirt-python===8.2.0funcparserlib===1.0.0a2;python_version=='3.8'google-api-python-client===2.46.0suds-community===1.1.0boto3===1.22.4botocore===1.25.4zstd===1.5.2.4wrapt===1.14.0diskimage-builder===3.20.3rjsmin===1.1.0setuptools===59.6.0;python_version=='3.6' setuptools===62.1.0;python_version=='3.8',21,22
openstack%2Fopenstack-zuul-jobs~master~Idd91818093588113b84c1d91b4895df589aa7912,openstack/openstack-zuul-jobs,master,Idd91818093588113b84c1d91b4895df589aa7912,openafs-deb-package-build: sign created debs,MERGED,2022-05-04 03:41:09.000000000,2022-05-05 00:55:20.000000000,2022-05-05 00:45:46.000000000,"[{'_account_id': 7118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-04 03:41:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/8d210619a6f7cd2b1cd993c157c2c06724fe315b', 'message': '[wip] sign and upload openafs debs\n\nChange-Id: Idd91818093588113b84c1d91b4895df589aa7912\n'}, {'number': 2, 'created': '2022-05-04 03:56:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/726dfc15eb228ec84305d00c6099531f248af09c', 'message': '[wip] sign and upload openafs debs\n\nChange-Id: Idd91818093588113b84c1d91b4895df589aa7912\n'}, {'number': 3, 'created': '2022-05-04 04:14:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/d0f88a71b30c974c20bb24accec0fae5add9d667', 'message': '[wip] sign and upload openafs debs\n\nChange-Id: Idd91818093588113b84c1d91b4895df589aa7912\n'}, {'number': 4, 'created': '2022-05-04 04:25:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/ce17169c71d27d6f79b1ff976062ee1ac3e636d0', 'message': '[wip] sign and upload openafs debs\n\nChange-Id: Idd91818093588113b84c1d91b4895df589aa7912\n'}, {'number': 5, 'created': '2022-05-04 04:44:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/cc6a0422d1673a641aef4add3514cda33783551b', 'message': '[wip] sign and upload openafs debs\n\nChange-Id: Idd91818093588113b84c1d91b4895df589aa7912\n'}, {'number': 6, 'created': '2022-05-04 22:35:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/78a406d774842dc19b3b4bdf888e4d29282ce3d6', 'message': '[wip] sign and upload openafs debs\n\nChange-Id: Idd91818093588113b84c1d91b4895df589aa7912\n'}, {'number': 7, 'created': '2022-05-04 23:14:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/64f683810f615b03bf77a69a06a82207e7f4cfa7', 'message': '[wip] sign and upload openafs debs\n\nChange-Id: Idd91818093588113b84c1d91b4895df589aa7912\n'}, {'number': 8, 'created': '2022-05-05 00:22:14.000000000', 'files': ['zuul.d/secrets.yaml', 'playbooks/openafs-deb-package-build/publish.yaml', 'zuul.d/project.yaml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/58cb72831016cfdc5834cfdf2e2c63a47b3c962d', 'message': 'openafs-deb-package-build: sign created debs\n\nThis is step 1 in promoting the openafs deb packages to the\nopenstack-ci PPA.  It should grab the debs from the gate build and\nsign the .changes file with our key.\n\nThis is intentionally not uploading yet as we just want to test the\nsecret import and signing path before we add the key and permissions\nto the upstream PPA.\n\nChange-Id: Idd91818093588113b84c1d91b4895df589aa7912\n'}]",1,840406,58cb72831016cfdc5834cfdf2e2c63a47b3c962d,21,2,8,7118,,,0,"openafs-deb-package-build: sign created debs

This is step 1 in promoting the openafs deb packages to the
openstack-ci PPA.  It should grab the debs from the gate build and
sign the .changes file with our key.

This is intentionally not uploading yet as we just want to test the
secret import and signing path before we add the key and permissions
to the upstream PPA.

Change-Id: Idd91818093588113b84c1d91b4895df589aa7912
",git fetch https://review.opendev.org/openstack/openstack-zuul-jobs refs/changes/06/840406/2 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/openafs-deb-package-build/publish.yaml', 'zuul.d/project.yaml', 'zuul.d/jobs.yaml']",3,8d210619a6f7cd2b1cd993c157c2c06724fe315b,openafs-dput, provides: openafs-deb-packages files: &deb-files name: openafs-deb-package-build-promote requires: openafs-deb-packages description: | Publish the openafs RPM packages run: playbooks/openafs-deb-package-build/publish.yaml files: *deb-files - job:, files:,56,1
openstack%2Fneutron-fwaas~master~I3e32aea0439f68e48c6ff178c50e8a91ac5415e4,openstack/neutron-fwaas,master,I3e32aea0439f68e48c6ff178c50e8a91ac5415e4,remove unicode from code,MERGED,2022-03-23 01:26:45.000000000,2022-05-05 00:48:04.000000000,2022-05-05 00:46:42.000000000,"[{'_account_id': 8313}, {'_account_id': 22348}, {'_account_id': 30380}]","[{'number': 1, 'created': '2022-03-23 01:26:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/8b2396dc006cf53601f68f6bbd55b9a472b71992', 'message': 'remove unicode from code\n\nremove unicode from code\n\nChange-Id: I3e32aea0439f68e48c6ff178c50e8a91ac5415e4\n'}, {'number': 2, 'created': '2022-03-23 01:50:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/39bf5c0bc61a48f33456623a3418ee14060b9236', 'message': 'remove unicode from code\n\nremove unicode from code\n\nChange-Id: I3e32aea0439f68e48c6ff178c50e8a91ac5415e4\n'}, {'number': 3, 'created': '2022-05-04 23:36:42.000000000', 'files': ['neutron_fwaas/services/logapi/common/log_db_api.py', 'doc/source/conf.py', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/179019f82e9f75ec11d88f3a7e504091d3cb4be4', 'message': 'remove unicode from code\n\nremove unicode from code\n\nChange-Id: I3e32aea0439f68e48c6ff178c50e8a91ac5415e4\n'}]",5,834804,179019f82e9f75ec11d88f3a7e504091d3cb4be4,21,3,3,34340,,,0,"remove unicode from code

remove unicode from code

Change-Id: I3e32aea0439f68e48c6ff178c50e8a91ac5415e4
",git fetch https://review.opendev.org/openstack/neutron-fwaas refs/changes/04/834804/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/conf.py', 'releasenotes/source/conf.py']",2,8b2396dc006cf53601f68f6bbd55b9a472b71992,,"project = 'Neutron FWaaS Release Notes' copyright = '2015, Neutron FWaaS Developers' 'Neutron FWaaS Release Notes Documentation', 'Neutron FWaaS Developers', 'manual'), ('index', 'neutronfwaasreleasenotes', 'Neutron FWaaS Release Notes ' 'Documentation', ['Neutron FWaaS Developers'], 1) ('index', 'NeutronFWaaSReleaseNotes', 'Neutron FWaaS Release Notes ' 'Neutron FWaaS Developers', 'NeutronFWaaSReleaseNotes',","project = u'Neutron FWaaS Release Notes' copyright = u'2015, Neutron FWaaS Developers' u'Neutron FWaaS Release Notes Documentation', u'Neutron FWaaS Developers', 'manual'), ('index', 'neutronfwaasreleasenotes', u'Neutron FWaaS Release Notes ' 'Documentation', [u'Neutron FWaaS Developers'], 1) ('index', 'NeutronFWaaSReleaseNotes', u'Neutron FWaaS Release Notes ' u'Neutron FWaaS Developers', 'NeutronFWaaSReleaseNotes',",12,12
openstack%2Fdesignate~master~Ib77d30d95f0126b21a9c58e6aa8e35aa68254c0e,openstack/designate,master,Ib77d30d95f0126b21a9c58e6aa8e35aa68254c0e,designate-tox-dnspython-latest irrelevant files,MERGED,2022-05-04 22:31:36.000000000,2022-05-05 00:46:59.000000000,2022-05-05 00:45:05.000000000,"[{'_account_id': 5572}, {'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2022-05-04 22:31:36.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/designate/commit/f81a16dbe9dc6c19152eca0e0940468b888cf1e6', 'message': 'designate-tox-dnspython-latest irrelevant files\n\nFix the dnspython ""latest"" job to not run on docs only jobs.\n\nChange-Id: Ib77d30d95f0126b21a9c58e6aa8e35aa68254c0e\n'}]",1,840549,f81a16dbe9dc6c19152eca0e0940468b888cf1e6,9,3,1,11628,,,0,"designate-tox-dnspython-latest irrelevant files

Fix the dnspython ""latest"" job to not run on docs only jobs.

Change-Id: Ib77d30d95f0126b21a9c58e6aa8e35aa68254c0e
",git fetch https://review.opendev.org/openstack/designate refs/changes/49/840549/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,f81a16dbe9dc6c19152eca0e0940468b888cf1e6,, irrelevant-files: *base_irrelevant_files,,1,0
openstack%2Fpuppet-tripleo~master~Ieefe741d1b1ecad7fc23b6ae8dc2d682df86344b,openstack/puppet-tripleo,master,Ieefe741d1b1ecad7fc23b6ae8dc2d682df86344b,Horizon: Manage policy files,MERGED,2022-01-08 06:29:21.000000000,2022-05-05 00:30:08.000000000,2022-02-03 01:57:38.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-01-08 06:29:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/4517597c7f83f5eb4b569f924f355de548031777', 'message': 'Horizon: Manage policy files\n\nThis change enables management of policy files for Horizon so that\ncustomized policy rules are injected into horizon policy files in\naddition to service policy files.\n\nChange-Id: Ieefe741d1b1ecad7fc23b6ae8dc2d682df86344b\n'}, {'number': 2, 'created': '2022-01-09 04:48:59.000000000', 'files': ['manifests/profile/base/horizon.pp', 'spec/classes/tripleo_profile_base_horizon_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/bcb55d62e597b7bd7bdcae9134938c04a6fbc67c', 'message': 'Horizon: Manage policy files\n\nThis change enables management of policy files for Horizon so that\ncustomized policy rules are injected into horizon policy files in\naddition to service policy files.\n\nDepends-on: https://review.opendev.org/823715\nChange-Id: Ieefe741d1b1ecad7fc23b6ae8dc2d682df86344b\n'}]",2,823890,bcb55d62e597b7bd7bdcae9134938c04a6fbc67c,18,5,2,9816,,,0,"Horizon: Manage policy files

This change enables management of policy files for Horizon so that
customized policy rules are injected into horizon policy files in
addition to service policy files.

Depends-on: https://review.opendev.org/823715
Change-Id: Ieefe741d1b1ecad7fc23b6ae8dc2d682df86344b
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/90/823890/2 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/profile/base/horizon.pp', 'spec/classes/tripleo_profile_base_horizon_spec.rb']",2,4517597c7f83f5eb4b569f924f355de548031777,horizon-policies, is_expected.to_not contain_class('horizon::policy') is_expected.to_not contain_class('horizon::policy') is_expected.to contain_class('horizon::policy') is_expected.to contain_class('horizon::policy') is_expected.to contain_class('horizon::policy') is_expected.to contain_class('horizon::policy') is_expected.to contain_class('horizon::policy'),,8,0
openstack%2Fneutron-fwaas~master~I200759ad568bd5e49e9a2b3131cd312738c14a76,openstack/neutron-fwaas,master,I200759ad568bd5e49e9a2b3131cd312738c14a76,[CI]Remove lower-constraints testing,ABANDONED,2022-04-05 02:13:23.000000000,2022-05-05 00:12:57.000000000,,"[{'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-05 02:13:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/23f0c2bd8c529a2679b7db14488d5ee865f09036', 'message': '[DNM]test ci\n\nChange-Id: I200759ad568bd5e49e9a2b3131cd312738c14a76\n'}, {'number': 2, 'created': '2022-04-05 06:34:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/d0f56ef2e608ecf8e918a915c366a33a4302d5bf', 'message': '[DNM]test ci\n\nChange-Id: I200759ad568bd5e49e9a2b3131cd312738c14a76\n'}, {'number': 3, 'created': '2022-04-05 07:55:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/d64b9370554b41eb506a7e17311c63366d2aff34', 'message': '[DNM]test ci\n\nChange-Id: I200759ad568bd5e49e9a2b3131cd312738c14a76\n'}, {'number': 4, 'created': '2022-04-05 08:26:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/20eb67b4496209821f8b464a7327e0d5a57b01e4', 'message': '[DNM]test ci\n\nChange-Id: I200759ad568bd5e49e9a2b3131cd312738c14a76\n'}, {'number': 5, 'created': '2022-04-06 00:30:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/461e89066fe223e3f1bc5ffea812b2e5812a9c16', 'message': '[DNM]test ci\n\nChange-Id: I200759ad568bd5e49e9a2b3131cd312738c14a76\n'}, {'number': 6, 'created': '2022-04-06 10:53:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/a144f89886a2526f9720097d53fa8a5e73eb1245', 'message': '[DNM]test ci\n\nChange-Id: I200759ad568bd5e49e9a2b3131cd312738c14a76\n'}, {'number': 7, 'created': '2022-04-07 00:32:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/aaa3f6505649cb06654775602f3c06f1fbac52d0', 'message': '[DNM]test ci\n\nChange-Id: I200759ad568bd5e49e9a2b3131cd312738c14a76\n'}, {'number': 8, 'created': '2022-04-07 03:08:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/82a96ad0c145a0532ebab52ff3a5763a6d5574e6', 'message': 'Bump docutils version on lower constraints\n\nBecause docutils 0.11 cannot be build anymore from source on python >=\n3.8, and there is no wheel package available on pypi, we need to bump it\nto version 0.12, since there is still wheel available.\n\nChange-Id: I200759ad568bd5e49e9a2b3131cd312738c14a76\n'}, {'number': 9, 'created': '2022-04-07 06:04:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/5218316f63d814b6609c97485ae6fee0850e207f', 'message': 'Bump docutils version on lower constraints\n\nBecause docutils 0.11 cannot be build anymore from source on python >=\n3.8, and there is no wheel package available on pypi, we need to bump it\nto version 0.12, since there is still wheel available.\n\nChange-Id: I200759ad568bd5e49e9a2b3131cd312738c14a76\n'}, {'number': 10, 'created': '2022-04-07 08:38:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/92c12c77573913f1bc2a08230b02a805761a3985', 'message': 'Bump docutils version on lower constraints\n\nBecause docutils 0.11 cannot be build anymore from source on python >=\n3.8, and there is no wheel package available on pypi, we need to bump it\nto version 0.12, since there is still wheel available.\n\nChange-Id: I200759ad568bd5e49e9a2b3131cd312738c14a76\n'}, {'number': 11, 'created': '2022-04-07 11:33:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/d8ae1ab8e0924de1daa483357b6198417504dcf2', 'message': 'Bump some packages version on lower constraints\n\nBecause docutils 0.11 cannot be build anymore from source on python >=\n3.8, and there is no wheel package available on pypi, we need to bump it\nto version 0.12, since there is still wheel available.\n\nChange-Id: I200759ad568bd5e49e9a2b3131cd312738c14a76\n'}, {'number': 12, 'created': '2022-04-07 11:49:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/f06ab63b1764eb78fcdf44fc1faa6ff4aceeed89', 'message': 'Bump some packages version on lower constraints\n\nBecause docutils 0.11 cannot be build anymore from source on python >=\n3.8, and there is no wheel package available on pypi, we need to bump it\nto version 0.12, since there is still wheel available.\n\nChange-Id: I200759ad568bd5e49e9a2b3131cd312738c14a76\n'}, {'number': 13, 'created': '2022-04-08 00:24:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/c981c27a7f5a74d82fad5de85cbc2d1a9148c703', 'message': 'Bump some packages version on lower constraints\n\nBecause docutils 0.11 cannot be build anymore from source on python >=\n3.8, and there is no wheel package available on pypi, we need to bump it\nto version 0.12, since there is still wheel available.\n\nChange-Id: I200759ad568bd5e49e9a2b3131cd312738c14a76\n'}, {'number': 14, 'created': '2022-04-08 00:35:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/c4969ef4be9b43a66be4db8df7d350b23babd7b1', 'message': 'Bump some packages version on lower constraints\n\nBecause docutils 0.11 cannot be build anymore from source on python >=\n3.8, and there is no wheel package available on pypi, we need to bump it\nto version 0.12, since there is still wheel available.\n\nChange-Id: I200759ad568bd5e49e9a2b3131cd312738c14a76\n'}, {'number': 15, 'created': '2022-04-08 01:00:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/1b4aa97c7139d479f25fe85e00707a74cd53d63b', 'message': 'Bump packages version on lower constraints adapt to py38\n\ntox-lower-constraints check upgraded python version to python38,\nbecause docutils 0.11 cannot be build anymore from source on python >=\n3.8, and there is no wheel package available on pypi, we need to bump it\nto version 0.12, since there is still wheel available.\ncffi, greenlet, psycopg2, pyzmq are same.\n\nChange-Id: I200759ad568bd5e49e9a2b3131cd312738c14a76\n'}, {'number': 16, 'created': '2022-04-12 02:00:02.000000000', 'files': ['.zuul.yaml', 'lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/d886773c33aa706e16fa987bb2ff7df500209d08', 'message': '[CI]Remove lower-constraints testing\n\nChange-Id: I200759ad568bd5e49e9a2b3131cd312738c14a76\n'}]",3,836419,d886773c33aa706e16fa987bb2ff7df500209d08,35,4,16,30380,,,0,"[CI]Remove lower-constraints testing

Change-Id: I200759ad568bd5e49e9a2b3131cd312738c14a76
",git fetch https://review.opendev.org/openstack/neutron-fwaas refs/changes/19/836419/16 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,23f0c2bd8c529a2679b7db14488d5ee865f09036,,"envlist = py38,pep8,pylint","envlist = py37,pep8,pylint",1,1
openstack%2Fheat~stable%2Fvictoria~I30bf961009d675ba962cd7da3622d8634f7c422e,openstack/heat,stable/victoria,I30bf961009d675ba962cd7da3622d8634f7c422e,Install upper-constraints for testenv,ABANDONED,2021-11-15 05:15:08.000000000,2022-05-04 23:55:59.000000000,,"[{'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-15 05:15:08.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/heat/commit/49f52ef5f926ba7292c8757cbbf09730108d432a', 'message': 'Install upper-constraints for testenv\n\nLatest sqlalchemy causes issues for us. We will\npip install upper-contraints in testenv to work\naround this issue.\n\nChange-Id: I30bf961009d675ba962cd7da3622d8634f7c422e\n'}]",2,817896,49f52ef5f926ba7292c8757cbbf09730108d432a,4,2,1,30073,,,0,"Install upper-constraints for testenv

Latest sqlalchemy causes issues for us. We will
pip install upper-contraints in testenv to work
around this issue.

Change-Id: I30bf961009d675ba962cd7da3622d8634f7c422e
",git fetch https://review.opendev.org/openstack/heat refs/changes/96/817896/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,49f52ef5f926ba7292c8757cbbf09730108d432a,victoria_testenv_uc,install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/victoria} {opts} {packages},,1,0
openstack%2Fdesignate~master~I4b2991499f33e65790388aea902a8b3e6023eb4e,openstack/designate,master,I4b2991499f33e65790388aea902a8b3e6023eb4e,Validate worker actions before retrying poll,MERGED,2022-04-12 01:39:31.000000000,2022-05-04 23:48:36.000000000,2022-05-04 23:47:03.000000000,"[{'_account_id': 5572}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2022-04-12 01:39:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/f5d6dae88257dc9e936e7bf4fc5e439c3b6a1c63', 'message': '[DNM] Testing\n\nChange-Id: I4b2991499f33e65790388aea902a8b3e6023eb4e\n'}, {'number': 2, 'created': '2022-04-12 01:46:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/974079c86c660db1b82c4a8292e5990b4a7a40b2', 'message': '[DNM] Testing\n\nChange-Id: I4b2991499f33e65790388aea902a8b3e6023eb4e\n'}, {'number': 3, 'created': '2022-04-12 03:10:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/8531e83763e390d0b3be8cc8fd255e799bbddd27', 'message': '[DNM] Testing\n\nChange-Id: I4b2991499f33e65790388aea902a8b3e6023eb4e\n'}, {'number': 4, 'created': '2022-04-12 03:19:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/4d102cdd261d9f567511db4128ff45b4bbc0b639', 'message': '[DNM] Testing\n\nChange-Id: I4b2991499f33e65790388aea902a8b3e6023eb4e\n'}, {'number': 5, 'created': '2022-04-12 04:07:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/d046bf2e2da08cf86e8d439358a97fc375d2c9ec', 'message': 'Validate worker actions before retrying\n\nThis adds a check to validate if we need to\nkeep retrying the current action.\n\nChange-Id: I4b2991499f33e65790388aea902a8b3e6023eb4e\n'}, {'number': 6, 'created': '2022-04-12 06:35:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/76d908a7e55c4be9b391ba7637e85fdf041822f0', 'message': 'Validate worker actions before retrying\n\nThis adds a check to validate if we need to\nkeep retrying the current action.\n\nChange-Id: I4b2991499f33e65790388aea902a8b3e6023eb4e\n'}, {'number': 7, 'created': '2022-04-14 06:21:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/3a1ccd8c1af3bd11cfbd6f3a53d3d1b725e02e16', 'message': 'Validate worker actions before retrying poll\n\nThis adds a check to validate if we need to\nkeep retrying the current action.\n\nChange-Id: I4b2991499f33e65790388aea902a8b3e6023eb4e\n'}, {'number': 8, 'created': '2022-04-17 04:25:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/7cb33a4dc80b17636da4fc36714e77b30417a630', 'message': 'Validate worker actions before retrying poll\n\nThis adds a check to validate if we need to\nkeep retrying the current action.\n\nChange-Id: I4b2991499f33e65790388aea902a8b3e6023eb4e\n'}, {'number': 9, 'created': '2022-04-17 04:40:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/6357dce821ef9485a679d2532e4ae8e713373d16', 'message': 'Validate worker actions before retrying poll\n\nThis adds a check to validate if we need to\nkeep retrying the current action.\n\nChange-Id: I4b2991499f33e65790388aea902a8b3e6023eb4e\n'}, {'number': 10, 'created': '2022-04-17 06:11:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/cc9a6f8689be4b29bb55ab036b709bd401305f31', 'message': 'Validate worker actions before retrying poll\n\nThis adds a check to validate if we need to\nkeep retrying the current action.\n\nChange-Id: I4b2991499f33e65790388aea902a8b3e6023eb4e\n'}, {'number': 11, 'created': '2022-04-17 19:55:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/52f28da077d52c99cfeaab5322a167534b2d3858', 'message': 'Validate worker actions before retrying poll\n\nThis adds a check to validate if we need to\nkeep retrying the current action.\n\nChange-Id: I4b2991499f33e65790388aea902a8b3e6023eb4e\n'}, {'number': 12, 'created': '2022-04-26 02:08:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/32b0fb8b0f5e84f5ba97144bfc807e989b71827a', 'message': 'Validate worker actions before retrying poll\n\nThis adds a check to validate if we need to\nkeep retrying the current action.\n\nChange-Id: I4b2991499f33e65790388aea902a8b3e6023eb4e\n'}, {'number': 13, 'created': '2022-04-27 01:55:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/51f9148d43442ef39660800c516d008b46beb34f', 'message': 'Validate worker actions before retrying poll\n\nThis adds a check to validate if we need to\nkeep retrying the current action.\n\nChange-Id: I4b2991499f33e65790388aea902a8b3e6023eb4e\n'}, {'number': 14, 'created': '2022-05-01 01:59:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/2fec80623f27477ebd6995df0aea31a7e267393e', 'message': 'Validate worker actions before retrying poll\n\nThis adds a check to validate if we need to\nkeep retrying the current action.\n\nChange-Id: I4b2991499f33e65790388aea902a8b3e6023eb4e\n'}, {'number': 15, 'created': '2022-05-01 02:01:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/5faa40712ca85fc3b4b01b8a66e9ff07ba440da9', 'message': 'Validate worker actions before retrying poll\n\nThis adds a check to validate if we need to\nkeep retrying the current action.\n\nChange-Id: I4b2991499f33e65790388aea902a8b3e6023eb4e\n'}, {'number': 16, 'created': '2022-05-01 02:06:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/beb3fc5fa5011cbd872b42d01d2dc3efa93eaab9', 'message': 'Validate worker actions before retrying poll\n\nThis adds a check to validate if we need to\nkeep retrying the current action.\n\nChange-Id: I4b2991499f33e65790388aea902a8b3e6023eb4e\n'}, {'number': 17, 'created': '2022-05-01 02:07:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/f53f30cbcbf5a409891c2b93cd2575ed3fae688f', 'message': 'Validate worker actions before retrying poll\n\nThis adds a check to validate if we need to\nkeep retrying the current action.\n\nChange-Id: I4b2991499f33e65790388aea902a8b3e6023eb4e\n'}, {'number': 18, 'created': '2022-05-01 02:15:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/77ca0c40ae46371af8a4f9d5a3ad48659dca2dbf', 'message': 'Validate worker actions before retrying poll\n\nThis adds a check to validate if we need to\nkeep retrying the current action.\n\nChange-Id: I4b2991499f33e65790388aea902a8b3e6023eb4e\n'}, {'number': 19, 'created': '2022-05-04 19:11:16.000000000', 'files': ['designate/worker/tasks/zone.py', 'designate/tests/unit/workers/test_base_task.py', 'designate/worker/tasks/base.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/dc45a03563bc075242b4d27dfbc6d340166c1c0c', 'message': 'Validate worker actions before retrying poll\n\nThis adds a check to validate if we need to\nkeep retrying the current action.\n\nChange-Id: I4b2991499f33e65790388aea902a8b3e6023eb4e\n'}]",11,837439,dc45a03563bc075242b4d27dfbc6d340166c1c0c,49,4,19,22623,,,0,"Validate worker actions before retrying poll

This adds a check to validate if we need to
keep retrying the current action.

Change-Id: I4b2991499f33e65790388aea902a8b3e6023eb4e
",git fetch https://review.opendev.org/openstack/designate refs/changes/39/837439/18 && git format-patch -1 --stdout FETCH_HEAD,['designate/worker/tasks/zone.py'],1,f5d6dae88257dc9e936e7bf4fc5e439c3b6a1c63,give_up_sooner," 'error': str(e), try: zone = self.storage.get_zone(self.context, self.zone.id) if zone.action == self.action: LOG.info( 'Failed to %(action)s zone_name=%(zone_name)s ' 'zone_id=%(zone_id)s action state has changed ' 'to %(current_action)s, not attempting again', { 'action': self.action, 'zone_name': self.zone.name, 'zone_id': self.zone.id, 'current_action': zone.action, } ) break except exceptions.ZoneNotFound: if self.action != 'DELETE': LOG.info( 'Failed to %(action)s zone_name=%(zone_name)s ' 'zone_id=%(zone_id)s Error=ZoneNotFound', { 'action': self.action, 'zone_name': self.zone.name, 'zone_id': self.zone.id, } ) except Exception as e: LOG.warning( 'Failed to get zone_name=%(zone_name)s ' 'zone_id=%(zone_id)s Error=%(error)s', { 'zone_name': self.zone.name, 'zone_id': self.zone.id, 'error': str(e), } ) time.sleep(self.retry_interval)", 'error': str(e) time.sleep(self.retry_interval),39,2
openstack%2Fopenstack-zuul-jobs~master~I0d47522d7135df22159671808d1b8f96e2eb8288,openstack/openstack-zuul-jobs,master,I0d47522d7135df22159671808d1b8f96e2eb8288,openafs-deb-package-build: add some explainers to README,MERGED,2022-05-04 22:35:36.000000000,2022-05-04 23:42:40.000000000,2022-05-04 23:41:37.000000000,"[{'_account_id': 4146}, {'_account_id': 5263}, {'_account_id': 7118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-04 22:35:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/683436cac170feafbb823bc8603ed867105bbd4b', 'message': 'openafs-deb-package-build: add some explainers to README\n\nChange-Id: I0d47522d7135df22159671808d1b8f96e2eb8288\n'}, {'number': 2, 'created': '2022-05-04 23:14:12.000000000', 'files': ['roles/openafs-deb-package-build/README.rst'], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/8f228941cf9988301d6d794f93d00e7cfd8b291f', 'message': 'openafs-deb-package-build: add some explainers to README\n\nChange-Id: I0d47522d7135df22159671808d1b8f96e2eb8288\n'}]",0,840550,8f228941cf9988301d6d794f93d00e7cfd8b291f,11,4,2,7118,,,0,"openafs-deb-package-build: add some explainers to README

Change-Id: I0d47522d7135df22159671808d1b8f96e2eb8288
",git fetch https://review.opendev.org/openstack/openstack-zuul-jobs refs/changes/50/840550/2 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/secrets.yaml', 'roles/openafs-deb-package-build/README.rst']",2,683436cac170feafbb823bc8603ed867105bbd4b,openafs-dput,"This builds openafs source packages and, with the publishing steps, pushes them to be built by as an Ubuntu PPA. OpenDev has traditionally kept separate OpenAFS packages in a PPA which are used by production hosts. In the past the LTS distro versions have had bugs, or lacked support for architectures/kernels (ARM64 + HWE kernels, practically) we needed -- necessitating keeping separate, fresh versions. Upstream packages keep a PPA at https://launchpad.net/~openafs/+archive/ubuntu/stable As much as possible, we generally import and use their debian/* infrastructure (including patches, etc.) as a base here. This PPA doesn't build all the architectures we need, but also isn't focused on the immediate needs of OpenDev production; thus despite it's regular maintence it is still helpful for us to have our own package builds. These problems are much less with current distros (>= 2022) and openafs 1.8 series; our goal is to generally carry no differences. Note the openafs-rpm-package-build jobs are a counter-part to this, as OpenAFS hasn't been available on RPM distros. We try to keep these in sync so our infrastructure is more or less at the same level.",This pushes builds to launchpad,64,1
openstack%2Fopenstack-zuul-jobs~master~I07780595331da29af9f72185cbb3499210e89c19,openstack/openstack-zuul-jobs,master,I07780595331da29af9f72185cbb3499210e89c19,openafs: generate deb packages for openstack-ci PPA,MERGED,2022-05-03 20:57:55.000000000,2022-05-04 23:40:34.000000000,2022-05-04 23:38:45.000000000,"[{'_account_id': 4146}, {'_account_id': 5263}, {'_account_id': 7118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-03 20:57:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/bed8ca96f2eb65b3b468d5dad148804a0aa698ca', 'message': '[wip] deb package build\n\nChange-Id: I07780595331da29af9f72185cbb3499210e89c19\n'}, {'number': 2, 'created': '2022-05-03 21:08:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/0c6a24b405075f4a7e3bee5ce61da0688191f4af', 'message': '[wip] deb package build\n\nChange-Id: I07780595331da29af9f72185cbb3499210e89c19\n'}, {'number': 3, 'created': '2022-05-03 22:03:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/a9132cd0f3b9df21b854e38422a6d6ae0a087225', 'message': '[wip] deb package build\n\nChange-Id: I07780595331da29af9f72185cbb3499210e89c19\n'}, {'number': 4, 'created': '2022-05-03 22:13:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/3e1cca895570bf8821f03b99afc8d5b414357211', 'message': '[wip] deb package build\n\nChange-Id: I07780595331da29af9f72185cbb3499210e89c19\n'}, {'number': 5, 'created': '2022-05-03 22:21:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/642af44293311cefe1619ef53f688e5ace6603b8', 'message': '[wip] deb package build\n\nChange-Id: I07780595331da29af9f72185cbb3499210e89c19\n'}, {'number': 6, 'created': '2022-05-03 22:30:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/1fd977ed401282f9ff5d834088345e48608b2e7f', 'message': '[wip] deb package build\n\nChange-Id: I07780595331da29af9f72185cbb3499210e89c19\n'}, {'number': 7, 'created': '2022-05-03 23:19:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/24052f2fc92d2e255984a5f0fe217abf057b28f3', 'message': '[wip] deb package build\n\nChange-Id: I07780595331da29af9f72185cbb3499210e89c19\n'}, {'number': 8, 'created': '2022-05-03 23:32:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/8b0d5cbf40f2a1658eb4a5cfdf4e3227adddb94a', 'message': '[wip] deb package build\n\nChange-Id: I07780595331da29af9f72185cbb3499210e89c19\n'}, {'number': 9, 'created': '2022-05-03 23:36:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/4cfa65d80206b671af8b53eca9f9c66bb069d216', 'message': '[wip] deb package build\n\nChange-Id: I07780595331da29af9f72185cbb3499210e89c19\n'}, {'number': 10, 'created': '2022-05-03 23:46:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/bd8caa4dec8dadb5dc67f48ddfedccbffd4e9b71', 'message': '[wip] deb package build\n\nChange-Id: I07780595331da29af9f72185cbb3499210e89c19\n'}, {'number': 11, 'created': '2022-05-03 23:53:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/9d4b43fdf2cb340eaac7e4f06a9c5f5f0b94da3a', 'message': '[wip] deb package build\n\nChange-Id: I07780595331da29af9f72185cbb3499210e89c19\n'}, {'number': 12, 'created': '2022-05-03 23:59:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/89f64fb5b45e8c07db3e23fcff8998690882705c', 'message': '[wip] deb package build\n\nChange-Id: I07780595331da29af9f72185cbb3499210e89c19\n'}, {'number': 13, 'created': '2022-05-04 00:08:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/44db4ed082748782b91dfe343b0db8ef6ab51729', 'message': '[wip] deb package build\n\nChange-Id: I07780595331da29af9f72185cbb3499210e89c19\n'}, {'number': 14, 'created': '2022-05-04 00:19:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/126134fd79b80fea9f6a1a9f0948f5b9b15b267a', 'message': '[wip] deb package build\n\nChange-Id: I07780595331da29af9f72185cbb3499210e89c19\n'}, {'number': 15, 'created': '2022-05-04 00:41:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/6ec4975e44053be041f17905691560e1b890e3ab', 'message': '[wip] deb package build\n\nChange-Id: I07780595331da29af9f72185cbb3499210e89c19\n'}, {'number': 16, 'created': '2022-05-04 00:49:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/8a80465c42bf3bd0808642ae2ca47f4b92f2913b', 'message': '[wip] deb package build\n\nChange-Id: I07780595331da29af9f72185cbb3499210e89c19\n'}, {'number': 17, 'created': '2022-05-04 01:14:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/f34b993d43827996c235af0a165af9093219c91c', 'message': ""openafs: generate deb packages for openstack-ci PPA\n\nThis imports the latest debian/* from the upstream openafs packages,\nand builds source packages meant for upload to the PPA we use for\nopenafs.\n\nOver the years we have found that maintaining our own PPA for this is\nuseful.  We have hit bugs that require immediate patches to be applied\nand rolled out to production, and having a private build facilitates\nthis.  Generally we hope to have no delta to the upstream packaging,\nwhich is currently the case.\n\nCurrently we have a fairly manual process to produce and upload these\ndebs (once there, the source is obviously available).  This allows us\nto keep a little clearer view of what we've changed or are working on.\n\nThis doesn't publish anything, yet.  We'll work on that after this;\nthe idea is that the publishing job will consume the artifacts this\nreturns.\n\nChange-Id: I07780595331da29af9f72185cbb3499210e89c19\n""}, {'number': 18, 'created': '2022-05-04 03:41:09.000000000', 'files': ['roles/openafs-deb-package-build/files/debian/openafs-modules-dkms.dkms', 'roles/openafs-deb-package-build/tasks/main.yaml', 'roles/openafs-deb-package-build/files/debian/openafs-dbserver.NEWS', 'roles/openafs-deb-package-build/files/debian/README.source', 'roles/openafs-deb-package-build/files/debian/afs-rootvol', 'roles/openafs-deb-package-build/files/debian/openafs-doc.docs', 'roles/openafs-deb-package-build/files/debian/openafs-client.dirs', 'roles/openafs-deb-package-build/files/debian/openafs-fuse.links', 'roles/openafs-deb-package-build/files/debian/openafs-doc.doc-base.openafs-admin', 'roles/openafs-deb-package-build/files/debian/openafs-fileserver.init', 'roles/openafs-deb-package-build/files/debian/module/compat', 'roles/openafs-deb-package-build/files/debian/openafs-client.config', 'roles/openafs-deb-package-build/files/debian/po/ru.po', 'roles/openafs-deb-package-build/files/debian/module/control', 'roles/openafs-deb-package-build/files/debian/openafs-dbserver.preinst', 'roles/openafs-deb-package-build/files/debian/patches/0004-Disable-rx-perf-test.patch', 'roles/openafs-deb-package-build/files/debian/openafs-doc.examples', 'roles/openafs-deb-package-build/files/debian/openafs-fuse.install', 'roles/openafs-deb-package-build/files/debian/openafs-client-precheck', 'roles/openafs-deb-package-build/files/debian/po/ja.po', 'roles/openafs-deb-package-build/files/debian/CellServDB', 'roles/openafs-deb-package-build/files/debian/openafs-fileserver.config', 'zuul.d/jobs.yaml', 'roles/openafs-deb-package-build/files/debian/openafs-client.docs', 'roles/openafs-deb-package-build/files/debian/watch', 'roles/openafs-deb-package-build/files/debian/sysname', 'roles/openafs-deb-package-build/files/debian/openafs-fileserver.postinst', 'roles/openafs-deb-package-build/files/debian/libafsauthent2.install', 'roles/openafs-deb-package-build/files/debian/openafs-client.postinst', 'roles/openafs-deb-package-build/files/debian/copyright', 'roles/openafs-deb-package-build/files/debian/openafs-fuse.dirs', 'roles/openafs-deb-package-build/files/debian/libkopenafs2.install', 'roles/openafs-deb-package-build/files/debian/po/de.po', 'roles/openafs-deb-package-build/files/debian/openafs-doc.README.Debian', 'roles/openafs-deb-package-build/files/debian/openafs-krb5.prerm', 'roles/openafs-deb-package-build/files/debian/po/nl.po', 'roles/openafs-deb-package-build/files/debian/openafs-client.preinst', 'roles/openafs-deb-package-build/files/debian/openafs-krb5.NEWS', 'roles/openafs-deb-package-build/files/debian/module/control.in', 'roles/openafs-deb-package-build/files/debian/rules', 'roles/openafs-deb-package-build/files/debian/module/sysname', 'roles/openafs-deb-package-build/files/debian/openafs-client.lintian-overrides', 'roles/openafs-deb-package-build/files/debian/openafs-client.templates', 'roles/openafs-deb-package-build/files/debian/module/kernel-version', 'roles/openafs-deb-package-build/files/debian/openafs-fileserver.dirs', 'roles/openafs-deb-package-build/files/debian/ConfigUtils.pm', 'roles/openafs-deb-package-build/files/debian/po/POTFILES.in', 'roles/openafs-deb-package-build/files/debian/openafs-fileserver.install', 'roles/openafs-deb-package-build/files/debian/openafs-fileserver.postrm', 'playbooks/openafs-deb-package-build/run.yaml', 'roles/openafs-deb-package-build/files/debian/openafs-client.install', 'roles/openafs-deb-package-build/files/debian/openafs-client.postrm', 'roles/openafs-deb-package-build/files/debian/control', 'roles/openafs-deb-package-build/files/debian/openafs-fileserver.preinst', 'roles/openafs-deb-package-build/files/debian/openafs-fileserver.templates', 'roles/openafs-deb-package-build/files/debian/libafsrpc2.symbols', 'roles/openafs-deb-package-build/files/debian/po/it.po', 'roles/openafs-deb-package-build/files/debian/patches/0007-Temporarily-disable-flaky-test.patch', 'roles/openafs-deb-package-build/files/debian/openafs-fileserver.lintian-overrides', 'roles/openafs-deb-package-build/files/debian/libopenafs-dev.dirs', 'roles/openafs-deb-package-build/files/debian/TODO', 'roles/openafs-deb-package-build/files/debian/openafs-client.init', 'roles/openafs-deb-package-build/files/debian/afs.conf', 'roles/openafs-deb-package-build/files/debian/module/prep-modules', 'roles/openafs-deb-package-build/files/debian/openafs-dbserver.install', 'roles/openafs-deb-package-build/files/debian/po/cs.po', 'roles/openafs-deb-package-build/files/debian/po/fr.po', 'roles/openafs-deb-package-build/files/debian/module/rules', 'roles/openafs-deb-package-build/files/debian/po/pt.po', 'roles/openafs-deb-package-build/files/debian/po/gl.po', 'roles/openafs-deb-package-build/files/debian/po/templates.pot', 'roles/openafs-deb-package-build/files/debian/afs-newcell', 'roles/openafs-deb-package-build/files/debian/configuration-transcript.txt', 'roles/openafs-deb-package-build/files/debian/openafs-krb5.install', 'roles/openafs-deb-package-build/files/debian/openafs-dbserver.dirs', 'roles/openafs-deb-package-build/files/debian/changelog', 'roles/openafs-deb-package-build/files/debian/openafs-fileserver.service', 'roles/openafs-deb-package-build/files/debian/po/es.po', 'roles/openafs-deb-package-build/files/debian/source/format', 'roles/openafs-deb-package-build/files/debian/README.Debian', 'roles/openafs-deb-package-build/README.rst', 'roles/openafs-deb-package-build/files/debian/libafsrpc2.install', 'roles/openafs-deb-package-build/files/debian/openafs-client.prerm', 'roles/openafs-deb-package-build/files/debian/openafs-modules-source.docs', 'roles/openafs-deb-package-build/files/debian/po/zh_CN.po', 'roles/openafs-deb-package-build/files/debian/openafs-doc.doc-base.openafs-quick', 'roles/openafs-deb-package-build/files/debian/po/vi.po', 'roles/openafs-deb-package-build/files/debian/po/da.po', 'roles/openafs-deb-package-build/files/debian/README.modules', 'roles/openafs-deb-package-build/files/debian/openafs-fileserver.NEWS', 'roles/openafs-deb-package-build/files/debian/openafs-client-postcheck', 'roles/openafs-deb-package-build/files/debian/openafs-client.service', 'roles/openafs-deb-package-build/files/debian/openafs-krb5.postinst', 'roles/openafs-deb-package-build/files/debian/README.servers', 'roles/openafs-deb-package-build/files/debian/openafs-modules-dkms.docs', 'roles/openafs-deb-package-build/files/debian/openafs-dbserver.lintian-overrides', 'roles/openafs-deb-package-build/files/debian/openafs-dbserver.postrm', 'roles/openafs-deb-package-build/files/debian/patches/series', 'roles/openafs-deb-package-build/files/debian/po/sv.po', 'roles/openafs-deb-package-build/files/debian/module/genchanges', 'roles/openafs-deb-package-build/files/debian/clean', 'roles/openafs-deb-package-build/files/debian/openafs-client.NEWS', 'roles/openafs-deb-package-build/files/debian/libopenafs-dev.install', 'roles/openafs-deb-package-build/files/debian/patches/0003-Catch-up-to-roken-s-rename-of-base64-symbols.patch', 'roles/openafs-deb-package-build/files/debian/libafsauthent2.symbols', 'roles/openafs-deb-package-build/files/debian/openafs-doc.doc-base.openafs-user', 'roles/openafs-deb-package-build/files/debian/po/pt_BR.po', 'roles/openafs-deb-package-build/files/debian/libkopenafs2.symbols', 'zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/8e4d34280738147619e0c7f9a46542d3deb97a1c', 'message': ""openafs: generate deb packages for openstack-ci PPA\n\nThis imports the latest debian/* from the upstream openafs packages,\nand builds source packages meant for upload to the PPA we use for\nopenafs.\n\nOver the years we have found that maintaining our own PPA for this is\nuseful.  We have hit bugs that require immediate patches to be applied\nand rolled out to production, and having a private build facilitates\nthis.  Generally we hope to have no delta to the upstream packaging,\nwhich is currently the case.\n\nCurrently we have a fairly manual process to produce and upload these\ndebs (once there, the source is obviously available).  This allows us\nto keep a little clearer view of what we've changed or are working on.\n\nThis doesn't publish anything, yet.  We'll work on that after this;\nthe idea is that the publishing job will consume the artifacts this\nreturns.\n\nChange-Id: I07780595331da29af9f72185cbb3499210e89c19\n""}]",6,840383,8e4d34280738147619e0c7f9a46542d3deb97a1c,46,4,18,7118,,,0,"openafs: generate deb packages for openstack-ci PPA

This imports the latest debian/* from the upstream openafs packages,
and builds source packages meant for upload to the PPA we use for
openafs.

Over the years we have found that maintaining our own PPA for this is
useful.  We have hit bugs that require immediate patches to be applied
and rolled out to production, and having a private build facilitates
this.  Generally we hope to have no delta to the upstream packaging,
which is currently the case.

Currently we have a fairly manual process to produce and upload these
debs (once there, the source is obviously available).  This allows us
to keep a little clearer view of what we've changed or are working on.

This doesn't publish anything, yet.  We'll work on that after this;
the idea is that the publishing job will consume the artifacts this
returns.

Change-Id: I07780595331da29af9f72185cbb3499210e89c19
",git fetch https://review.opendev.org/openstack/openstack-zuul-jobs refs/changes/83/840383/16 && git format-patch -1 --stdout FETCH_HEAD,"['roles/openafs-deb-package-build/files/debian/openafs-modules-dkms.dkms', 'roles/openafs-deb-package-build/tasks/main.yaml', 'roles/openafs-deb-package-build/files/debian/openafs-dbserver.NEWS', 'roles/openafs-deb-package-build/files/debian/README.source', 'roles/openafs-deb-package-build/files/debian/afs-rootvol', 'roles/openafs-deb-package-build/files/debian/openafs-doc.docs', 'roles/openafs-deb-package-build/files/debian/openafs-client.dirs', 'roles/openafs-deb-package-build/files/debian/openafs-fuse.links', 'roles/openafs-deb-package-build/files/debian/openafs-doc.doc-base.openafs-admin', 'roles/openafs-deb-package-build/files/debian/openafs-fileserver.init', 'roles/openafs-deb-package-build/files/debian/module/compat', 'roles/openafs-deb-package-build/files/debian/openafs-client.config', 'roles/openafs-deb-package-build/files/debian/po/ru.po', 'roles/openafs-deb-package-build/files/debian/module/control', 'roles/openafs-deb-package-build/files/debian/openafs-dbserver.preinst', 'roles/openafs-deb-package-build/files/debian/patches/0004-Disable-rx-perf-test.patch', 'roles/openafs-deb-package-build/files/debian/openafs-doc.examples', 'roles/openafs-deb-package-build/files/debian/openafs-fuse.install', 'roles/openafs-deb-package-build/files/debian/openafs-client-precheck', 'roles/openafs-deb-package-build/files/debian/po/ja.po', 'roles/openafs-deb-package-build/files/debian/CellServDB', 'roles/openafs-deb-package-build/files/debian/openafs-fileserver.config', 'zuul.d/jobs.yaml', 'roles/openafs-deb-package-build/files/debian/openafs-client.docs', 'roles/openafs-deb-package-build/files/debian/watch', 'roles/openafs-deb-package-build/files/debian/sysname', 'roles/openafs-deb-package-build/files/debian/openafs-fileserver.postinst', 'roles/openafs-deb-package-build/files/debian/libafsauthent2.install', 'roles/openafs-deb-package-build/files/debian/openafs-client.postinst', 'roles/openafs-deb-package-build/files/debian/copyright', 'roles/openafs-deb-package-build/files/debian/openafs-fuse.dirs', 'roles/openafs-deb-package-build/files/debian/libkopenafs2.install', 'roles/openafs-deb-package-build/files/debian/po/de.po', 'roles/openafs-deb-package-build/files/debian/openafs-doc.README.Debian', 'roles/openafs-deb-package-build/files/debian/openafs-krb5.prerm', 'roles/openafs-deb-package-build/files/debian/po/nl.po', 'roles/openafs-deb-package-build/files/debian/openafs-client.preinst', 'roles/openafs-deb-package-build/files/debian/openafs-krb5.NEWS', 'roles/openafs-deb-package-build/files/debian/module/control.in', 'roles/openafs-deb-package-build/files/debian/rules', 'roles/openafs-deb-package-build/files/debian/module/sysname', 'roles/openafs-deb-package-build/files/debian/openafs-client.lintian-overrides', 'roles/openafs-deb-package-build/files/debian/openafs-client.templates', 'roles/openafs-deb-package-build/files/debian/module/kernel-version', 'roles/openafs-deb-package-build/files/debian/openafs-fileserver.dirs', 'roles/openafs-deb-package-build/files/debian/ConfigUtils.pm', 'roles/openafs-deb-package-build/files/debian/po/POTFILES.in', 'roles/openafs-deb-package-build/files/debian/openafs-fileserver.install', 'roles/openafs-deb-package-build/files/debian/openafs-fileserver.postrm', 'playbooks/openafs-deb-package-build/run.yaml', 'roles/openafs-deb-package-build/files/debian/openafs-client.install', 'roles/openafs-deb-package-build/files/debian/openafs-client.postrm', 'roles/openafs-deb-package-build/files/debian/control', 'roles/openafs-deb-package-build/files/debian/openafs-fileserver.preinst', 'roles/openafs-deb-package-build/files/debian/openafs-fileserver.templates', 'roles/openafs-deb-package-build/files/debian/libafsrpc2.symbols', 'roles/openafs-deb-package-build/files/debian/po/it.po', 'roles/openafs-deb-package-build/files/debian/patches/0007-Temporarily-disable-flaky-test.patch', 'roles/openafs-deb-package-build/files/debian/openafs-fileserver.lintian-overrides', 'roles/openafs-deb-package-build/files/debian/libopenafs-dev.dirs', 'roles/openafs-deb-package-build/files/debian/TODO', 'roles/openafs-deb-package-build/files/debian/openafs-client.init', 'roles/openafs-deb-package-build/files/debian/afs.conf', 'roles/openafs-deb-package-build/files/debian/module/prep-modules', 'roles/openafs-deb-package-build/files/debian/openafs-dbserver.install', 'roles/openafs-deb-package-build/files/debian/po/cs.po', 'roles/openafs-deb-package-build/files/debian/po/fr.po', 'roles/openafs-deb-package-build/files/debian/module/rules', 'roles/openafs-deb-package-build/files/debian/po/pt.po', 'roles/openafs-deb-package-build/files/debian/po/gl.po', 'roles/openafs-deb-package-build/files/debian/po/templates.pot', 'roles/openafs-deb-package-build/files/debian/afs-newcell', 'roles/openafs-deb-package-build/files/debian/configuration-transcript.txt', 'roles/openafs-deb-package-build/files/debian/openafs-krb5.install', 'roles/openafs-deb-package-build/files/debian/openafs-dbserver.dirs', 'roles/openafs-deb-package-build/files/debian/changelog', 'roles/openafs-deb-package-build/files/debian/openafs-fileserver.service', 'roles/openafs-deb-package-build/files/debian/po/es.po', 'roles/openafs-deb-package-build/files/debian/source/format', 'roles/openafs-deb-package-build/files/debian/README.Debian', 'roles/openafs-deb-package-build/README.rst', 'roles/openafs-deb-package-build/files/debian/libafsrpc2.install', 'roles/openafs-deb-package-build/files/debian/openafs-client.prerm', 'roles/openafs-deb-package-build/files/debian/openafs-modules-source.docs', 'roles/openafs-deb-package-build/files/debian/po/zh_CN.po', 'roles/openafs-deb-package-build/files/debian/openafs-doc.doc-base.openafs-quick', 'roles/openafs-deb-package-build/files/debian/po/vi.po', 'roles/openafs-deb-package-build/files/debian/po/da.po', 'roles/openafs-deb-package-build/files/debian/README.modules', 'roles/openafs-deb-package-build/files/debian/openafs-fileserver.NEWS', 'roles/openafs-deb-package-build/files/debian/openafs-client-postcheck', 'roles/openafs-deb-package-build/files/debian/openafs-client.service', 'roles/openafs-deb-package-build/files/debian/openafs-krb5.postinst', 'roles/openafs-deb-package-build/files/debian/README.servers', 'roles/openafs-deb-package-build/files/debian/openafs-modules-dkms.docs', 'roles/openafs-deb-package-build/files/debian/openafs-dbserver.lintian-overrides', 'roles/openafs-deb-package-build/files/debian/openafs-dbserver.postrm', 'roles/openafs-deb-package-build/files/debian/patches/series', 'roles/openafs-deb-package-build/files/debian/po/sv.po', 'roles/openafs-deb-package-build/files/debian/module/genchanges', 'roles/openafs-deb-package-build/files/debian/clean', 'roles/openafs-deb-package-build/files/debian/openafs-client.NEWS', 'roles/openafs-deb-package-build/files/debian/libopenafs-dev.install', 'roles/openafs-deb-package-build/files/debian/patches/0003-Catch-up-to-roken-s-rename-of-base64-symbols.patch', 'roles/openafs-deb-package-build/files/debian/libafsauthent2.symbols', 'roles/openafs-deb-package-build/files/debian/openafs-doc.doc-base.openafs-user', 'roles/openafs-deb-package-build/files/debian/po/pt_BR.po', 'roles/openafs-deb-package-build/files/debian/libkopenafs2.symbols', 'zuul.d/project.yaml']",109,bed8ca96f2eb65b3b468d5dad148804a0aa698ca,openafs-dput, - openafs-deb-package-build,,14667,0
openstack%2Fproject-config~master~I43e7d91de7ab9020052630a1be840923e9ec3d64,openstack/project-config,master,I43e7d91de7ab9020052630a1be840923e9ec3d64,Add Jammy arm64 images,MERGED,2022-05-03 23:32:10.000000000,2022-05-04 22:43:36.000000000,2022-05-04 22:07:05.000000000,"[{'_account_id': 5263}, {'_account_id': 7118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-03 23:32:10.000000000', 'files': ['nodepool/nb03.opendev.org.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/e14b0a181f157364dc31aae2fea52c210b26ad90', 'message': 'Add Jammy arm64 images\n\nThis change builds us new Jammy arm64 images now that our ubuntu-ports\nmirror includes Jammy.\n\nChange-Id: I43e7d91de7ab9020052630a1be840923e9ec3d64\n'}]",0,840393,e14b0a181f157364dc31aae2fea52c210b26ad90,8,3,1,4146,,,0,"Add Jammy arm64 images

This change builds us new Jammy arm64 images now that our ubuntu-ports
mirror includes Jammy.

Change-Id: I43e7d91de7ab9020052630a1be840923e9ec3d64
",git fetch https://review.opendev.org/openstack/project-config refs/changes/93/840393/1 && git format-patch -1 --stdout FETCH_HEAD,['nodepool/nb03.opendev.org.yaml'],1,e14b0a181f157364dc31aae2fea52c210b26ad90,arm64-jammy," - name: ubuntu-jammy-arm64 pause: false config-drive: true meta: hw_firmware_type: uefi os_command_line: ""console=ttyAMA0"" hw_disk_bus: scsi hw_scsi_model: virtio-scsi - name: ubuntu-jammy-arm64 parent: base-debuntu elements: - ubuntu-minimal release: jammy env-vars: DIB_DISTRIBUTION_MIRROR: 'https://mirror.regionone.linaro-us.opendev.org/ubuntu-ports' DIB_DEBIAN_COMPONENTS: 'main,universe' ",,17,0
openstack%2Fnova~stable%2Fwallaby~I6fcff1102b0ab2a4e71d10c48bc04b5ba9c21de9,openstack/nova,stable/wallaby,I6fcff1102b0ab2a4e71d10c48bc04b5ba9c21de9,DNM: Testing nova-grenade-multinode with neutron-trunk,ABANDONED,2021-09-28 23:20:02.000000000,2022-05-04 22:37:50.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-09-28 23:20:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/afcb4e7ce97a192a6daa3ffa820b2a1fb7c035ad', 'message': 'DNM: Testing nova-grenade-multinode with neutron-trunk\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/811457\n\nChange-Id: I6fcff1102b0ab2a4e71d10c48bc04b5ba9c21de9\n'}, {'number': 2, 'created': '2021-09-29 01:03:16.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/6a7d2db622a6d8243ab0632c56b975fe2730b38b', 'message': 'DNM: Testing nova-grenade-multinode with neutron-trunk\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/811518\n\nChange-Id: I6fcff1102b0ab2a4e71d10c48bc04b5ba9c21de9\n'}]",0,811513,6a7d2db622a6d8243ab0632c56b975fe2730b38b,12,1,2,8556,,,0,"DNM: Testing nova-grenade-multinode with neutron-trunk

Depends-On: https://review.opendev.org/c/openstack/devstack/+/811518

Change-Id: I6fcff1102b0ab2a4e71d10c48bc04b5ba9c21de9
",git fetch https://review.opendev.org/openstack/nova refs/changes/13/811513/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,afcb4e7ce97a192a6daa3ffa820b2a1fb7c035ad,bug/1945346,# See https://docs.openstack.org/infra/manual/drivers.html#naming-with-zuul-v3,# See https://docs.openstack.org/infra/manual/drivers.html#naming-with-zuul-v3,1,1
openstack%2Fnova~stable%2Fvictoria~Iff7aafe36c86b5ffc4823191f0bc1a5d9584199c,openstack/nova,stable/victoria,Iff7aafe36c86b5ffc4823191f0bc1a5d9584199c,DNM: Testing nova-grenade-multinode with neutron-trunk,ABANDONED,2021-09-29 04:10:28.000000000,2022-05-04 22:37:45.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-09-29 04:10:28.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/311f822db54643953768d90ab4e15732dec82d80', 'message': 'DNM: Testing nova-grenade-multinode with neutron-trunk\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/811519\nChange-Id: Iff7aafe36c86b5ffc4823191f0bc1a5d9584199c\n'}]",0,811540,311f822db54643953768d90ab4e15732dec82d80,7,1,1,8556,,,0,"DNM: Testing nova-grenade-multinode with neutron-trunk

Depends-On: https://review.opendev.org/c/openstack/devstack/+/811519
Change-Id: Iff7aafe36c86b5ffc4823191f0bc1a5d9584199c
",git fetch https://review.opendev.org/openstack/nova refs/changes/40/811540/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,311f822db54643953768d90ab4e15732dec82d80,bug/1945346,# See https://docs.openstack.org/infra/manual/drivers.html#naming-with-zuul-v3,# See https://docs.openstack.org/infra/manual/drivers.html#naming-with-zuul-v3,1,1
openstack%2Fnova~stable%2Fxena~I6fcff1102b0ab2a4e71d10c48bc04b5ba9c21de9,openstack/nova,stable/xena,I6fcff1102b0ab2a4e71d10c48bc04b5ba9c21de9,DNM: Testing nova-grenade-multinode with neutron-trunk,ABANDONED,2021-09-28 23:22:45.000000000,2022-05-04 22:37:40.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-09-28 23:22:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c50d3a7f56efcf4304f3dc418d82e7784d6998b6', 'message': 'DNM: Testing nova-grenade-multinode with neutron-trunk\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/811485\n\nChange-Id: I6fcff1102b0ab2a4e71d10c48bc04b5ba9c21de9\n'}, {'number': 2, 'created': '2021-09-29 01:02:46.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/bb0c11e5305ec853e8fe076aaba0ffd0d9f930c4', 'message': 'DNM: Testing nova-grenade-multinode with neutron-trunk\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/811457\n\nChange-Id: I6fcff1102b0ab2a4e71d10c48bc04b5ba9c21de9\n'}]",0,811491,bb0c11e5305ec853e8fe076aaba0ffd0d9f930c4,13,1,2,8556,,,0,"DNM: Testing nova-grenade-multinode with neutron-trunk

Depends-On: https://review.opendev.org/c/openstack/devstack/+/811457

Change-Id: I6fcff1102b0ab2a4e71d10c48bc04b5ba9c21de9
",git fetch https://review.opendev.org/openstack/nova refs/changes/91/811491/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,c50d3a7f56efcf4304f3dc418d82e7784d6998b6,bug/1945346,# See https://docs.openstack.org/infra/manual/drivers.html#naming-with-zuul-v3,# See https://docs.openstack.org/infra/manual/drivers.html#naming-with-zuul-v3,1,1
openstack%2Fdevstack~stable%2Fwallaby~Ic70e0c17798b792ec99b5b99bb80bcf736af0041,openstack/devstack,stable/wallaby,Ic70e0c17798b792ec99b5b99bb80bcf736af0041,Enable neutron trunk extension,ABANDONED,2021-09-28 17:30:21.000000000,2022-05-04 22:37:26.000000000,,"[{'_account_id': 8313}, {'_account_id': 8556}, {'_account_id': 9708}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-28 17:30:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/0723cc55bf18212ab05a17eccc2ad5e658c39555', 'message': 'Enable neutron trunk extension\n\nneutron trunk extension is not enabled in\nstable/wallaby which end up skipping the\ntempest tests for trucnk services.\n\nRelated-Bug: #1945346\nChange-Id: Ic70e0c17798b792ec99b5b99bb80bcf736af0041\n'}, {'number': 2, 'created': '2021-09-28 21:02:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/594e649b3060afd4d82fce9cd9595989c75ccb71', 'message': 'Enable neutron trunk extension\n\nneutron trunk extension is not enabled in\nstable/wallaby which end up skipping the\ntempest tests for trucnk services.\n\nRelated-Bug: #1945346\nChange-Id: Ic70e0c17798b792ec99b5b99bb80bcf736af0041\n'}, {'number': 3, 'created': '2021-09-29 03:47:23.000000000', 'files': ['lib/tempest'], 'web_link': 'https://opendev.org/openstack/devstack/commit/5486a7c00940e19d7e9de5f09fb8c4a40054f5c0', 'message': 'Enable neutron trunk extension\n\nneutron trunk extension is not enabled in\nstable/wallaby which end up skipping the\ntempest tests for trucnk services.\n\nDepends-On: https://review.opendev.org/c/openstack/grenade/+/811511\n\nRelated-Bug: #1945346\nChange-Id: Ic70e0c17798b792ec99b5b99bb80bcf736af0041\n'}]",0,811457,5486a7c00940e19d7e9de5f09fb8c4a40054f5c0,18,6,3,8556,,,0,"Enable neutron trunk extension

neutron trunk extension is not enabled in
stable/wallaby which end up skipping the
tempest tests for trucnk services.

Depends-On: https://review.opendev.org/c/openstack/grenade/+/811511

Related-Bug: #1945346
Change-Id: Ic70e0c17798b792ec99b5b99bb80bcf736af0041
",git fetch https://review.opendev.org/openstack/devstack refs/changes/57/811457/3 && git format-patch -1 --stdout FETCH_HEAD,['lib/tempest'],1,0723cc55bf18212ab05a17eccc2ad5e658c39555,bug/1945346," DEFAULT_NET_EXT+="",port-numa-affinity-policy,rbac-address-scope,security-groups-remote-address-group,trunk"""," DEFAULT_NET_EXT+="",port-numa-affinity-policy,rbac-address-scope,security-groups-remote-address-group""",1,1
openstack%2Fdevstack~stable%2Fussuri~Ic70e0c17798b792ec99b5b99bb80bcf736af0041,openstack/devstack,stable/ussuri,Ic70e0c17798b792ec99b5b99bb80bcf736af0041,Enable neutron trunk extension,ABANDONED,2021-09-29 01:01:42.000000000,2022-05-04 22:37:20.000000000,,"[{'_account_id': 8313}, {'_account_id': 8556}, {'_account_id': 9708}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-29 01:01:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/06a47a0e612510715a053ee7c8f8d3ee44647ae6', 'message': 'Enable neutron trunk extension\n\nneutron trunk extension is not enabled in\nstable/ussuri which end up skipping the\ntempest tests for trunk services.\n\nRelated-Bug: #1945346\nChange-Id: Ic70e0c17798b792ec99b5b99bb80bcf736af0041\n(cherry picked from commit 594e649b3060afd4d82fce9cd9595989c75ccb71)\n'}, {'number': 2, 'created': '2021-09-29 04:23:59.000000000', 'files': ['lib/tempest'], 'web_link': 'https://opendev.org/openstack/devstack/commit/4ae8d39616c589862c0f38f6993b876b4b31fbec', 'message': 'Enable neutron trunk extension\n\nneutron trunk extension is not enabled in\nstable/ussuri which end up skipping the\ntempest tests for trunk services.\n\nDepends-On: https://review.opendev.org/c/openstack/grenade/+/811542\n\nRelated-Bug: #1945346\nChange-Id: Ic70e0c17798b792ec99b5b99bb80bcf736af0041\n(cherry picked from commit 594e649b3060afd4d82fce9cd9595989c75ccb71)\n'}]",0,811519,4ae8d39616c589862c0f38f6993b876b4b31fbec,9,6,2,8556,,,0,"Enable neutron trunk extension

neutron trunk extension is not enabled in
stable/ussuri which end up skipping the
tempest tests for trunk services.

Depends-On: https://review.opendev.org/c/openstack/grenade/+/811542

Related-Bug: #1945346
Change-Id: Ic70e0c17798b792ec99b5b99bb80bcf736af0041
(cherry picked from commit 594e649b3060afd4d82fce9cd9595989c75ccb71)
",git fetch https://review.opendev.org/openstack/devstack refs/changes/19/811519/2 && git format-patch -1 --stdout FETCH_HEAD,['lib/tempest'],1,06a47a0e612510715a053ee7c8f8d3ee44647ae6,bug/1945346," DEFAULT_NET_EXT+="",floatingip-pools,rbac-security-groups,subnetpool-prefix-ops,router-admin-state-down-before-update,trunk"""," DEFAULT_NET_EXT+="",floatingip-pools,rbac-security-groups,subnetpool-prefix-ops,router-admin-state-down-before-update""",1,1
openstack%2Fdevstack~stable%2Fvictoria~Ic70e0c17798b792ec99b5b99bb80bcf736af0041,openstack/devstack,stable/victoria,Ic70e0c17798b792ec99b5b99bb80bcf736af0041,Enable neutron trunk extension,ABANDONED,2021-09-29 00:57:06.000000000,2022-05-04 22:37:12.000000000,,"[{'_account_id': 8313}, {'_account_id': 8556}, {'_account_id': 9708}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-29 00:57:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/0fa052a1a5f86336365c6c475f1e47c9e453f02b', 'message': 'Enable neutron trunk extension\n\nneutron trunk extension is not enabled in\nstable/victoria which end up skipping the\ntempest tests for trucnk services.\n\nRelated-Bug: #1945346\nChange-Id: Ic70e0c17798b792ec99b5b99bb80bcf736af0041\n(cherry picked from commit 594e649b3060afd4d82fce9cd9595989c75ccb71)\n'}, {'number': 2, 'created': '2021-09-29 03:59:02.000000000', 'files': ['lib/tempest'], 'web_link': 'https://opendev.org/openstack/devstack/commit/f0326cb962792d114131b9418483201e24a92b3d', 'message': 'Enable neutron trunk extension\n\nneutron trunk extension is not enabled in\nstable/victoria which end up skipping the\ntempest tests for trucnk services.\n\nDepends-On: https://review.opendev.org/c/openstack/grenade/+/811512\n\nRelated-Bug: #1945346\nChange-Id: Ic70e0c17798b792ec99b5b99bb80bcf736af0041\n(cherry picked from commit 594e649b3060afd4d82fce9cd9595989c75ccb71)\n'}]",0,811518,f0326cb962792d114131b9418483201e24a92b3d,10,6,2,8556,,,0,"Enable neutron trunk extension

neutron trunk extension is not enabled in
stable/victoria which end up skipping the
tempest tests for trucnk services.

Depends-On: https://review.opendev.org/c/openstack/grenade/+/811512

Related-Bug: #1945346
Change-Id: Ic70e0c17798b792ec99b5b99bb80bcf736af0041
(cherry picked from commit 594e649b3060afd4d82fce9cd9595989c75ccb71)
",git fetch https://review.opendev.org/openstack/devstack refs/changes/18/811518/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/tempest'],1,0fa052a1a5f86336365c6c475f1e47c9e453f02b,bug/1945346," DEFAULT_NET_EXT+="",port-numa-affinity-policy,rbac-address-scope,security-groups-remote-address-group,trunk"""," DEFAULT_NET_EXT+="",port-numa-affinity-policy,rbac-address-scope,security-groups-remote-address-group""",1,1
openstack%2Fgrenade~stable%2Fvictoria~I3326ef7ea5f7340c8dc1e8c21fa977bc1b0ddba6,openstack/grenade,stable/victoria,I3326ef7ea5f7340c8dc1e8c21fa977bc1b0ddba6,zuul: Add the neutron devstack plugin and enable neutron-trunk service,ABANDONED,2021-09-29 04:13:03.000000000,2022-05-04 22:36:57.000000000,,"[{'_account_id': 8556}, {'_account_id': 10135}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-29 04:13:03.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/grenade/commit/cc39f567bf557456de2d47a6468dc1ca94b2691d', 'message': 'zuul: Add the neutron devstack plugin and enable neutron-trunk service\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/811303\n\nCloses-Bug: #1945346\nChange-Id: I3326ef7ea5f7340c8dc1e8c21fa977bc1b0ddba6\n(cherry picked from commit 6aae2a9cfa5ebd0762f74eda0a61ba3da6d43b36)\n(cherry picked from commit 9e375dce4b415ae8b5eca18fdef9aa17e7720091)\n(cherry picked from commit 15029d2503fd44db170e6b57b82555b9f16b456d)\n'}]",0,811542,cc39f567bf557456de2d47a6468dc1ca94b2691d,6,4,1,8556,,,0,"zuul: Add the neutron devstack plugin and enable neutron-trunk service

Depends-On: https://review.opendev.org/c/openstack/devstack/+/811303

Closes-Bug: #1945346
Change-Id: I3326ef7ea5f7340c8dc1e8c21fa977bc1b0ddba6
(cherry picked from commit 6aae2a9cfa5ebd0762f74eda0a61ba3da6d43b36)
(cherry picked from commit 9e375dce4b415ae8b5eca18fdef9aa17e7720091)
(cherry picked from commit 15029d2503fd44db170e6b57b82555b9f16b456d)
",git fetch https://review.opendev.org/openstack/grenade refs/changes/42/811542/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,cc39f567bf557456de2d47a6468dc1ca94b2691d,bug/1945346, devstack_plugins: neutron: https://opendev.org/openstack/neutron neutron-trunk: true,,3,0
openstack%2Fgrenade~stable%2Fwallaby~I3326ef7ea5f7340c8dc1e8c21fa977bc1b0ddba6,openstack/grenade,stable/wallaby,I3326ef7ea5f7340c8dc1e8c21fa977bc1b0ddba6,zuul: Add the neutron devstack plugin and enable neutron-trunk service,ABANDONED,2021-09-28 23:06:01.000000000,2022-05-04 22:36:52.000000000,,"[{'_account_id': 8313}, {'_account_id': 8556}, {'_account_id': 10135}, {'_account_id': 13252}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-28 23:06:01.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/grenade/commit/15029d2503fd44db170e6b57b82555b9f16b456d', 'message': 'zuul: Add the neutron devstack plugin and enable neutron-trunk service\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/811303\n\nCloses-Bug: #1945346\nChange-Id: I3326ef7ea5f7340c8dc1e8c21fa977bc1b0ddba6\n(cherry picked from commit 6aae2a9cfa5ebd0762f74eda0a61ba3da6d43b36)\n(cherry picked from commit 9e375dce4b415ae8b5eca18fdef9aa17e7720091)\n'}]",0,811512,15029d2503fd44db170e6b57b82555b9f16b456d,10,6,1,8556,,,0,"zuul: Add the neutron devstack plugin and enable neutron-trunk service

Depends-On: https://review.opendev.org/c/openstack/devstack/+/811303

Closes-Bug: #1945346
Change-Id: I3326ef7ea5f7340c8dc1e8c21fa977bc1b0ddba6
(cherry picked from commit 6aae2a9cfa5ebd0762f74eda0a61ba3da6d43b36)
(cherry picked from commit 9e375dce4b415ae8b5eca18fdef9aa17e7720091)
",git fetch https://review.opendev.org/openstack/grenade refs/changes/12/811512/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,15029d2503fd44db170e6b57b82555b9f16b456d,bug/1945346, devstack_plugins: neutron: https://opendev.org/openstack/neutron neutron-trunk: true,,3,0
openstack%2Fgrenade~stable%2Fxena~I3326ef7ea5f7340c8dc1e8c21fa977bc1b0ddba6,openstack/grenade,stable/xena,I3326ef7ea5f7340c8dc1e8c21fa977bc1b0ddba6,zuul: Add the neutron devstack plugin and enable neutron-trunk service,ABANDONED,2021-09-28 23:04:12.000000000,2022-05-04 22:36:45.000000000,,"[{'_account_id': 8556}, {'_account_id': 10135}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-28 23:04:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/grenade/commit/9e375dce4b415ae8b5eca18fdef9aa17e7720091', 'message': 'zuul: Add the neutron devstack plugin and enable neutron-trunk service\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/811303\n\nCloses-Bug: #1945346\nChange-Id: I3326ef7ea5f7340c8dc1e8c21fa977bc1b0ddba6\n(cherry picked from commit 6aae2a9cfa5ebd0762f74eda0a61ba3da6d43b36)\n'}, {'number': 2, 'created': '2021-09-29 00:49:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/grenade/commit/403a500d73ec5eb2c136cda85a0d207332079c29', 'message': 'zuul: Add the neutron devstack plugin and enable neutron-trunk service\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/811457\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/811303\n\nCloses-Bug: #1945346\nChange-Id: I3326ef7ea5f7340c8dc1e8c21fa977bc1b0ddba6\n(cherry picked from commit 6aae2a9cfa5ebd0762f74eda0a61ba3da6d43b36)\n'}, {'number': 3, 'created': '2021-09-29 03:53:34.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/grenade/commit/e6f032f2a502ceeda83011f3b38c4b94c9cbdd4f', 'message': 'zuul: Add the neutron devstack plugin and enable neutron-trunk service\n\nCloses-Bug: #1945346\nChange-Id: I3326ef7ea5f7340c8dc1e8c21fa977bc1b0ddba6\n(cherry picked from commit 6aae2a9cfa5ebd0762f74eda0a61ba3da6d43b36)\n'}]",0,811511,e6f032f2a502ceeda83011f3b38c4b94c9cbdd4f,18,4,3,8556,,,0,"zuul: Add the neutron devstack plugin and enable neutron-trunk service

Closes-Bug: #1945346
Change-Id: I3326ef7ea5f7340c8dc1e8c21fa977bc1b0ddba6
(cherry picked from commit 6aae2a9cfa5ebd0762f74eda0a61ba3da6d43b36)
",git fetch https://review.opendev.org/openstack/grenade refs/changes/11/811511/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,9e375dce4b415ae8b5eca18fdef9aa17e7720091,bug/1945346, devstack_plugins: neutron: https://opendev.org/openstack/neutron neutron-trunk: true,,3,0
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~Idaef781163c6c8f5928d93d9bbc1aa7b0dee6fd6,openstack/tripleo-heat-templates,stable/wallaby,Idaef781163c6c8f5928d93d9bbc1aa7b0dee6fd6,Add AdminPassword and KeystoneRegion stack outputs,MERGED,2022-05-03 11:46:36.000000000,2022-05-04 21:46:45.000000000,2022-05-04 21:46:45.000000000,"[{'_account_id': 6926}, {'_account_id': 8833}, {'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2022-05-03 11:46:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d84a5437c3a22ef6e5ed52425ae4e713e3596f9c', 'message': 'Add AdminPassword and KeystoneRegion stack outputs\n\nAdminPassword and KeystoneRegion need to be added as a stack outputs so\nthat they are saved in the working directory for stack outputs after\nusing ephemeral Heat to create the stack.\n\nThe code to create the rc params to create the overcloudrc file(s)\n(tripleoclient.utils.get_rc_params) can then create the overcloudrc\nusing only the working directory. No reference to the stack object or a\nrunning instance of Heat to query the stack would be required.\n\nChange-Id: Idaef781163c6c8f5928d93d9bbc1aa7b0dee6fd6\nSigned-off-by: James Slagle <jslagle@redhat.com>\n(cherry picked from commit 4d91ad67fc17a0bc351a48dd1187109c3ae96ca7)\n'}, {'number': 2, 'created': '2022-05-04 05:38:20.000000000', 'files': ['overcloud.j2.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6a9530aa216946c21090cad1f88f2726208ce606', 'message': 'Add AdminPassword and KeystoneRegion stack outputs\n\nAdminPassword and KeystoneRegion need to be added as a stack outputs so\nthat they are saved in the working directory for stack outputs after\nusing ephemeral Heat to create the stack.\n\nThe code to create the rc params to create the overcloudrc file(s)\n(tripleoclient.utils.get_rc_params) can then create the overcloudrc\nusing only the working directory. No reference to the stack object or a\nrunning instance of Heat to query the stack would be required.\n\nChange-Id: Idaef781163c6c8f5928d93d9bbc1aa7b0dee6fd6\nSigned-off-by: James Slagle <jslagle@redhat.com>\n(cherry picked from commit 4d91ad67fc17a0bc351a48dd1187109c3ae96ca7)\n'}]",2,840291,6a9530aa216946c21090cad1f88f2726208ce606,16,6,2,7144,,,0,"Add AdminPassword and KeystoneRegion stack outputs

AdminPassword and KeystoneRegion need to be added as a stack outputs so
that they are saved in the working directory for stack outputs after
using ephemeral Heat to create the stack.

The code to create the rc params to create the overcloudrc file(s)
(tripleoclient.utils.get_rc_params) can then create the overcloudrc
using only the working directory. No reference to the stack object or a
running instance of Heat to query the stack would be required.

Change-Id: Idaef781163c6c8f5928d93d9bbc1aa7b0dee6fd6
Signed-off-by: James Slagle <jslagle@redhat.com>
(cherry picked from commit 4d91ad67fc17a0bc351a48dd1187109c3ae96ca7)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/91/840291/1 && git format-patch -1 --stdout FETCH_HEAD,['overcloud.j2.yaml'],1,d84a5437c3a22ef6e5ed52425ae4e713e3596f9c,," AdminPassword: description: The password for the keystone admin account, used for monitoring, querying neutron etc. type: string hidden: true KeystoneRegion: type: string default: 'regionOne' description: Keystone region for endpoint AdminPassword: description: The password for the keystone admin account, used for monitoring, querying neutron etc. value: {get_param: AdminPassword} KeystoneRegion: description: Keystone region for endpoint value: {get_param: KeystoneRegion}",,16,0
openstack%2Fironic-tempest-plugin~master~I5dc41782fb905f0d88ff0defb2c950e9ca3d0faa,openstack/ironic-tempest-plugin,master,I5dc41782fb905f0d88ff0defb2c950e9ca3d0faa,Add iDRAC management cleaning steps tests,MERGED,2022-01-27 11:52:53.000000000,2022-05-04 21:40:07.000000000,2022-05-04 21:38:57.000000000,"[{'_account_id': 11655}, {'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23847}, {'_account_id': 23851}, {'_account_id': 27909}, {'_account_id': 31616}]","[{'number': 1, 'created': '2022-01-27 11:52:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/472743c2be1eb08f9cfda3a4ad14cedcc1f42535', 'message': 'WIP : Add iDRAC management cleaning steps tests\n\nThis adds tests for both the WS-Man and Redfish implementations of the\niDRAC management cleaning steps.\n\nChange-Id: I5dc41782fb905f0d88ff0defb2c950e9ca3d0faa\n'}, {'number': 2, 'created': '2022-01-27 15:03:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/32b5696ffe3f640596258f2cee63b81c20572c8f', 'message': 'Add iDRAC management cleaning steps tests\n\nThis adds tests for both the WS-Man and Redfish implementations of the\niDRAC management cleaning steps.\n\nChange-Id: I5dc41782fb905f0d88ff0defb2c950e9ca3d0faa\n'}, {'number': 3, 'created': '2022-02-14 12:41:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/1dae53639241395d138fcfbe1cdbfad708188342', 'message': 'Add iDRAC management cleaning steps tests\n\nThis adds tests for both the WS-Man and Redfish implementations of the\niDRAC management cleaning steps.\n\nChange-Id: I5dc41782fb905f0d88ff0defb2c950e9ca3d0faa\n'}, {'number': 4, 'created': '2022-04-26 16:41:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/436fe51adaf198afd8a0dbe7c1879da7ba154576', 'message': 'Add iDRAC management cleaning steps tests\n\nThis adds tests for both the WS-Man and Redfish implementations of the\niDRAC management cleaning steps.\n\nChange-Id: I5dc41782fb905f0d88ff0defb2c950e9ca3d0faa\n'}, {'number': 5, 'created': '2022-04-29 14:53:20.000000000', 'files': ['ironic_tempest_plugin/config.py', 'ironic_tempest_plugin/tests/scenario/ironic_standalone/test_cleaning.py', 'ironic_tempest_plugin/tests/scenario/baremetal_standalone_manager.py'], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/64ad55769eecc98c5f225446319f6ed60c48011d', 'message': 'Add iDRAC management cleaning steps tests\n\nThis adds tests for both the WS-Man and Redfish implementations of the\niDRAC management cleaning steps.\n\nChange-Id: I5dc41782fb905f0d88ff0defb2c950e9ca3d0faa\n'}]",35,826646,64ad55769eecc98c5f225446319f6ed60c48011d,40,7,5,31719,,,0,"Add iDRAC management cleaning steps tests

This adds tests for both the WS-Man and Redfish implementations of the
iDRAC management cleaning steps.

Change-Id: I5dc41782fb905f0d88ff0defb2c950e9ca3d0faa
",git fetch https://review.opendev.org/openstack/ironic-tempest-plugin refs/changes/46/826646/4 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_tempest_plugin/config.py', 'ironic_tempest_plugin/tests/scenario/ironic_standalone/test_cleaning.py', 'ironic_tempest_plugin/tests/scenario/baremetal_standalone_manager.py']",3,472743c2be1eb08f9cfda3a4ad14cedcc1f42535,test_management_cleaning_steps,"# Copyright (c) 2022 Dell Inc. or its subsidiaries.# # # The management interface to use by the HW type. The management interface # of the node used in the test will be set to this value. If set to None, # the node will retain its existing management_interface value (which may # have been set via a different test). management_interface = None # The power interface to use by the HW type. The power interface of the # node used in the test will be set to this value. If set to None, the # node will retain its existing power_interface value (which may have been # set via a different test). power_interface = None if (cls.management_interface and cls.management_interface not in CONF.baremetal.enabled_management_interfaces): raise cls.skipException( ""Management interface %(iface)s required by test is not "" ""in the list of enabled management interfaces %(enabled)s"" % { 'iface': cls.management_interface, 'enabled': CONF.baremetal.enabled_management_interfaces}) if (cls.power_interface and cls.power_interface not in CONF.baremetal.enabled_power_interfaces): raise cls.skipException( ""Power interface %(iface)s required by test is not "" ""in the list of enabled power interfaces %(enabled)s"" % { 'iface': cls.power_interface, 'enabled': CONF.baremetal.enabled_power_interfaces}) if cls.management_interface: boot_kwargs['management_interface'] = cls.management_interface if cls.power_interface: boot_kwargs['power_interface'] = cls.power_interface",,99,0
openstack%2Fcinder~stable%2Fwallaby~I216a82a29c7fb6b1b2fac95b2a1af667c4e2b22d,openstack/cinder,stable/wallaby,I216a82a29c7fb6b1b2fac95b2a1af667c4e2b22d,Handle the case when tempest fails,MERGED,2022-05-03 20:13:50.000000000,2022-05-04 21:18:20.000000000,2022-05-04 18:50:37.000000000,"[{'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-03 20:13:50.000000000', 'files': ['playbooks/tempest-and-cinderlib-run.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/c29a6d087e3277d71e4659c704acecfa88ad9949', 'message': 'Handle the case when tempest fails\n\nBefore this change, the errors from tempest run are suppressed\nin order to always execute cinderlib tests.\n\nUse the variable exported by run-tempest instead,\nand fail properly if needed.\n\nThis is a port of Ic1fd6fcc9b9183f195c66f0022e913ae9734c97b\nfrom cinder-tempest-plugin.git to this repository.\n\nChange-Id: I216a82a29c7fb6b1b2fac95b2a1af667c4e2b22d\n(cherry picked from commit 7e04b5b0d4c91df7601e8e7f36d49fb6d651ea2b)\n(cherry picked from commit 391f7c7f9bd395b1dafdd4fcc4c118fbe4dd0f77)\n(cherry picked from commit 6fb0d93b3c968ac86ac7910d46b9311ae905a67d)\n'}]",2,840376,c29a6d087e3277d71e4659c704acecfa88ad9949,17,3,1,10459,,,0,"Handle the case when tempest fails

Before this change, the errors from tempest run are suppressed
in order to always execute cinderlib tests.

Use the variable exported by run-tempest instead,
and fail properly if needed.

This is a port of Ic1fd6fcc9b9183f195c66f0022e913ae9734c97b
from cinder-tempest-plugin.git to this repository.

Change-Id: I216a82a29c7fb6b1b2fac95b2a1af667c4e2b22d
(cherry picked from commit 7e04b5b0d4c91df7601e8e7f36d49fb6d651ea2b)
(cherry picked from commit 391f7c7f9bd395b1dafdd4fcc4c118fbe4dd0f77)
(cherry picked from commit 6fb0d93b3c968ac86ac7910d46b9311ae905a67d)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/76/840376/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/tempest-and-cinderlib-run.yaml'],1,c29a6d087e3277d71e4659c704acecfa88ad9949,fix-reporting," # ignore the errors here (but consider them later), so that run-cinderlib-tests is always executed post_tasks: - name: Fail if the first tempest run did not work fail: msg: ""tempest run returned with an error"" when: tempest_run_result is defined and tempest_run_result.rc != 0"," # ignore the errors, so that run-cinderlib-tests is always executed",6,1
openstack%2Fcinder-tempest-plugin~master~I134575ae9a2e266eb67732756c24aeb3dabb64b1,openstack/cinder-tempest-plugin,master,I134575ae9a2e266eb67732756c24aeb3dabb64b1,Replace the CentOS Stream 8 lvm job with a CS9 one,MERGED,2022-02-10 17:00:18.000000000,2022-05-04 20:45:45.000000000,2022-05-04 20:45:45.000000000,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 10459}, {'_account_id': 20813}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-10 17:00:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/2e57d512d53aae71b4376aca5c2f1fa0037f4e84', 'message': 'WIP Add a CentOS Stream 9 LVM job\n\nChange-Id: I134575ae9a2e266eb67732756c24aeb3dabb64b1\n'}, {'number': 2, 'created': '2022-04-27 14:12:30.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/8515b58892778b1560232c904bef0a91a3faed1d', 'message': 'Replace the CentOS Stream 8 lvm job with a CS9 one\n\nKeep the CentOS Stream 8 definition for now, it may be used\non older branches.\n\nChange-Id: I134575ae9a2e266eb67732756c24aeb3dabb64b1\n'}]",6,828743,8515b58892778b1560232c904bef0a91a3faed1d,18,5,2,10459,,,0,"Replace the CentOS Stream 8 lvm job with a CS9 one

Keep the CentOS Stream 8 definition for now, it may be used
on older branches.

Change-Id: I134575ae9a2e266eb67732756c24aeb3dabb64b1
",git fetch https://review.opendev.org/openstack/cinder-tempest-plugin refs/changes/43/828743/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,2e57d512d53aae71b4376aca5c2f1fa0037f4e84,centoss9," - cinder-tempest-plugin-lvm-lio-barbican-centos-9-stream: voting: false runs tempest tests and cinderlib tests on CentOS Stream 8. - job: name: cinder-tempest-plugin-lvm-lio-barbican-centos-9-stream parent: cinder-tempest-plugin-lvm-lio-barbican nodeset: devstack-single-node-centos-9-stream description: | This jobs configures Cinder with LVM, LIO, barbican and runs tempest tests and cinderlib tests on CentOS Stream 9.", runs tempest tests and cinderlib tests on CentOS 8.,11,1
openstack%2Fopenstack-ansible-tests~master~I32a285be07ef72c78313df96c376d97e7904ee2a,openstack/openstack-ansible-tests,master,I32a285be07ef72c78313df96c376d97e7904ee2a,Update ansible-core version to 2.12.4,ABANDONED,2022-04-15 09:25:33.000000000,2022-05-04 20:23:21.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-04-15 09:25:33.000000000', 'files': ['test-ansible-deps.txt'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/95720b519986a9164489370ed435b4dfa6774784', 'message': 'Update ansible-core version to 2.12.4\n\nChange-Id: I32a285be07ef72c78313df96c376d97e7904ee2a\n'}]",0,838099,95720b519986a9164489370ed435b4dfa6774784,3,1,1,28619,,,0,"Update ansible-core version to 2.12.4

Change-Id: I32a285be07ef72c78313df96c376d97e7904ee2a
",git fetch https://review.opendev.org/openstack/openstack-ansible-tests refs/changes/99/838099/1 && git format-patch -1 --stdout FETCH_HEAD,['test-ansible-deps.txt'],1,95720b519986a9164489370ed435b4dfa6774784,,ansible-core==2.12.4,ansible-core==2.11.5,1,1
openstack%2Fdesignate~master~I7876b4c1e2c800b654ca750211ee2e58f3ea4309,openstack/designate,master,I7876b4c1e2c800b654ca750211ee2e58f3ea4309,Minimum TTL value allowed is zero,MERGED,2022-05-02 23:35:44.000000000,2022-05-04 20:13:59.000000000,2022-05-04 20:12:06.000000000,"[{'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2022-05-02 23:35:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/a807c52130e6d912a561b8ba110653630b2edbb6', 'message': 'Minimum TTL value allowed is zero\n\nAccording to ITEF https://tools.ietf.org/html/rfc2181#section-8\nthe definition of the ttl value is unsigned integer and can have a\nminimum value of 0. This patch changes the minimum value of 1 to allow\nfor 0. Unit test have also been modified accordingly.\n\nCloses-Bug: #1926429\nChange-Id: I7876b4c1e2c800b654ca750211ee2e58f3ea4309\n'}, {'number': 2, 'created': '2022-05-03 19:30:36.000000000', 'files': ['designate/objects/zone.py', 'designate/tests/test_api/test_v2/test_zones.py', 'releasenotes/notes/bug-1926429-allow-ttl-min-of-zero-688f7c2cf095d89d.yaml', 'designate/tests/test_central/test_service.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/6ac659d241c65c245d8a090768ac7559c32a13f1', 'message': 'Minimum TTL value allowed is zero\n\nAccording to ITEF https://tools.ietf.org/html/rfc2181#section-8\nthe definition of the ttl value is unsigned integer and can have a\nminimum value of 0. This patch changes the minimum value of 1 to allow\nfor 0. Unit test have also been modified accordingly.\n\nCloses-Bug: #1926429\nChange-Id: I7876b4c1e2c800b654ca750211ee2e58f3ea4309\n'}]",14,840252,6ac659d241c65c245d8a090768ac7559c32a13f1,15,3,2,5572,,,0,"Minimum TTL value allowed is zero

According to ITEF https://tools.ietf.org/html/rfc2181#section-8
the definition of the ttl value is unsigned integer and can have a
minimum value of 0. This patch changes the minimum value of 1 to allow
for 0. Unit test have also been modified accordingly.

Closes-Bug: #1926429
Change-Id: I7876b4c1e2c800b654ca750211ee2e58f3ea4309
",git fetch https://review.opendev.org/openstack/designate refs/changes/52/840252/2 && git format-patch -1 --stdout FETCH_HEAD,"['designate/objects/zone.py', 'designate/tests/test_api/test_v2/test_zones.py', 'releasenotes/notes/bug-1926429-allow-ttl-min-of-zero-688f7c2cf095d89d.yaml', 'designate/tests/test_central/test_service.py']",4,a807c52130e6d912a561b8ba110653630b2edbb6,bug/1926429, values['ttl'] = -1, values['ttl'] = 0,17,5
openstack%2Ftripleo-ansible~master~I5152e9984d8170480f665da0493d85475b6bbcc9,openstack/tripleo-ansible,master,I5152e9984d8170480f665da0493d85475b6bbcc9,Rune all validations in check mode,MERGED,2022-05-04 13:39:34.000000000,2022-05-04 20:09:00.000000000,2022-05-04 20:09:00.000000000,"[{'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-04 13:39:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/19d599bebd753e5919270febd359c64ade08eaff', 'message': 'Rune all validations in check mode\n\nBy default command and shell modules are skipped in check mode.\nHowever, the loop vars are checked which results in issue on\nsome ansible versions. We should be running all validations in\ncheck mode.\n\nChange-Id: I5152e9984d8170480f665da0493d85475b6bbcc9\nResolves: rhbz#2081361\n'}, {'number': 2, 'created': '2022-05-04 13:45:19.000000000', 'files': ['tripleo_ansible/roles/tripleo_nodes_validation/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/d3de75eb80595b38045d75ddbc8306418a290e4c', 'message': 'Rune all validations in check mode\n\nBy default command and shell modules are skipped in check mode.\nHowever, the loop vars are checked which results in issue on\nsome ansible versions. We should be running all validations in\ncheck mode.\n\nChange-Id: I5152e9984d8170480f665da0493d85475b6bbcc9\nResolves: rhbz#2081361\n'}]",0,840464,d3de75eb80595b38045d75ddbc8306418a290e4c,9,3,2,8833,,,0,"Rune all validations in check mode

By default command and shell modules are skipped in check mode.
However, the loop vars are checked which results in issue on
some ansible versions. We should be running all validations in
check mode.

Change-Id: I5152e9984d8170480f665da0493d85475b6bbcc9
Resolves: rhbz#2081361
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/64/840464/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo_nodes_validation/tasks/main.yml'],1,19d599bebd753e5919270febd359c64ade08eaff,, check_mode: false check_mode: false include_tasks: file: ping.yml apply: check_mode: false check_mode: false check_mode: false, include_tasks: ping.yml,8,1
openstack%2Ftripleo-heat-templates~master~Ie08969b2eca3fcf125ddba36df2b55c670aa2612,openstack/tripleo-heat-templates,master,Ie08969b2eca3fcf125ddba36df2b55c670aa2612,Designate/unbound: fix typo in ctlplane subnet name,MERGED,2022-04-27 14:24:12.000000000,2022-05-04 20:08:57.000000000,2022-05-04 20:08:57.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-04-27 14:24:12.000000000', 'files': ['deployment/unbound/unbound-container-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ef16c081ba84c77a123bfe04aa461e4ae709d0a3', 'message': 'Designate/unbound: fix typo in ctlplane subnet name\n\nThe ctlplane fallback code had a typo in the subnet name. This will fix\ndeployments with people using old-school-everything-is-on-ctlplane\ndeployments.\n\nChange-Id: Ie08969b2eca3fcf125ddba36df2b55c670aa2612\n'}]",0,839558,ef16c081ba84c77a123bfe04aa461e4ae709d0a3,8,4,1,6681,,,0,"Designate/unbound: fix typo in ctlplane subnet name

The ctlplane fallback code had a typo in the subnet name. This will fix
deployments with people using old-school-everything-is-on-ctlplane
deployments.

Change-Id: Ie08969b2eca3fcf125ddba36df2b55c670aa2612
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/58/839558/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/unbound/unbound-container-ansible.yaml'],1,ef16c081ba84c77a123bfe04aa461e4ae709d0a3,, - 'ctlplane-subnet', - ctlplane_subnet,1,1
openstack%2Fcinder~stable%2Fvictoria~I216a82a29c7fb6b1b2fac95b2a1af667c4e2b22d,openstack/cinder,stable/victoria,I216a82a29c7fb6b1b2fac95b2a1af667c4e2b22d,Handle the case when tempest fails,MERGED,2022-05-03 20:14:36.000000000,2022-05-04 19:59:59.000000000,2022-05-04 19:58:36.000000000,"[{'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-03 20:14:36.000000000', 'files': ['playbooks/tempest-and-cinderlib-run.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/070a0effbca23aa2410982e4df279abfc8a5d65f', 'message': 'Handle the case when tempest fails\n\nBefore this change, the errors from tempest run are suppressed\nin order to always execute cinderlib tests.\n\nUse the variable exported by run-tempest instead,\nand fail properly if needed.\n\nThis is a port of Ic1fd6fcc9b9183f195c66f0022e913ae9734c97b\nfrom cinder-tempest-plugin.git to this repository.\n\nChange-Id: I216a82a29c7fb6b1b2fac95b2a1af667c4e2b22d\n(cherry picked from commit 7e04b5b0d4c91df7601e8e7f36d49fb6d651ea2b)\n(cherry picked from commit 391f7c7f9bd395b1dafdd4fcc4c118fbe4dd0f77)\n(cherry picked from commit 6fb0d93b3c968ac86ac7910d46b9311ae905a67d)\n(cherry picked from commit c29a6d087e3277d71e4659c704acecfa88ad9949)\n'}]",2,840377,070a0effbca23aa2410982e4df279abfc8a5d65f,15,3,1,10459,,,0,"Handle the case when tempest fails

Before this change, the errors from tempest run are suppressed
in order to always execute cinderlib tests.

Use the variable exported by run-tempest instead,
and fail properly if needed.

This is a port of Ic1fd6fcc9b9183f195c66f0022e913ae9734c97b
from cinder-tempest-plugin.git to this repository.

Change-Id: I216a82a29c7fb6b1b2fac95b2a1af667c4e2b22d
(cherry picked from commit 7e04b5b0d4c91df7601e8e7f36d49fb6d651ea2b)
(cherry picked from commit 391f7c7f9bd395b1dafdd4fcc4c118fbe4dd0f77)
(cherry picked from commit 6fb0d93b3c968ac86ac7910d46b9311ae905a67d)
(cherry picked from commit c29a6d087e3277d71e4659c704acecfa88ad9949)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/77/840377/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/tempest-and-cinderlib-run.yaml'],1,070a0effbca23aa2410982e4df279abfc8a5d65f,fix-reporting," # ignore the errors here (but consider them later), so that run-cinderlib-tests is always executed post_tasks: - name: Fail if the first tempest run did not work fail: msg: ""tempest run returned with an error"" when: tempest_run_result is defined and tempest_run_result.rc != 0"," # ignore the errors, so that run-cinderlib-tests is always executed",6,1
openstack%2Fswift~master~Ibe01f54d157d6ea540c36ba4e77cc816e864a81a,openstack/swift,master,Ibe01f54d157d6ea540c36ba4e77cc816e864a81a,memcached: Log command name when logging exceptions,NEW,2022-04-28 20:59:41.000000000,2022-05-04 19:51:59.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-04-28 20:59:41.000000000', 'files': ['swift/common/memcached.py', 'test/unit/common/test_memcached.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/0c9b9fa105f5003c2e8c040d429b9bd2220da730', 'message': 'memcached: Log command name when logging exceptions\n\nChange-Id: Ibe01f54d157d6ea540c36ba4e77cc816e864a81a\n'}]",2,839822,0c9b9fa105f5003c2e8c040d429b9bd2220da730,4,1,1,15343,,,0,"memcached: Log command name when logging exceptions

Change-Id: Ibe01f54d157d6ea540c36ba4e77cc816e864a81a
",git fetch https://review.opendev.org/openstack/swift refs/changes/22/839822/1 && git format-patch -1 --stdout FETCH_HEAD,"['swift/common/memcached.py', 'test/unit/common/test_memcached.py']",2,0c9b9fa105f5003c2e8c040d429b9bd2220da730,," list(client._get_conns(key, command='x')) for conn in memcache_client._get_conns(key, command='x'): for conn in memcache_client._get_conns(key, command='x'): for conn in memcache_client._get_conns(key, command='x'): for conn in memcache_client._get_conns(key, command='x'): for conn in memcache_client._get_conns(key, command='x'): 'Error talking to memcached (set): 1.2.3.5:11211: ' 'Error talking to memcached (get): 1.2.3.5:11211: ' 'Error talking to memcached (set): 1.2.3.5:11211: ' 'Error talking to memcached (set): 1.2.3.4:11211: ' 'Error talking to memcached (set): 1.2.3.4:11211: ' 'All memcached servers error-limited trying to set', 'All memcached servers error-limited trying to set', 'All memcached servers error-limited trying to get', 'Error talking to memcached (set): 1.2.3.4:11211: ' 'Error talking to memcached (set): 1.2.3.4:11211: ' 'Error talking to memcached (get): 1.2.3.4:11211: ' 'Error talking to memcached (set): 1.2.3.4:11211: ' 'Error talking to memcached (get): 1.2.3.4:11211: ' 'Error talking to memcached (set): 1.2.3.5:11211: ' 'Error talking to memcached (set): 1.2.3.5:11211: ' 'All memcached servers error-limited trying to set', 'Error talking to memcached (set): 1.2.3.5:11211: ' 'Error talking to memcached (set): 1.2.3.5:11211: ' 'Error talking to memcached (set): 1.2.3.5:11211: ' 'All memcached servers error-limited trying to set', 'Error talking to memcached (set): 1.2.3.5:11211: ' 'Error talking to memcached (set): 1.2.3.5:11211: ' 'All memcached servers error-limited trying to set', self.assertEqual(self.logger.get_lines_for_level('error'), [ 'Timeout getting a connection to memcached (set): 1.2.3.5:11211' ] * 8) conn_generator = memcache_client._get_conns(b'key', command='x')"," list(client._get_conns(key)) for conn in memcache_client._get_conns(key): for conn in memcache_client._get_conns(key): for conn in memcache_client._get_conns(key): for conn in memcache_client._get_conns(key): for conn in memcache_client._get_conns(key): 'Error talking to memcached: 1.2.3.5:11211: ' 'Error talking to memcached: 1.2.3.5:11211: ' 'Error talking to memcached: 1.2.3.5:11211: ' 'Error talking to memcached: 1.2.3.4:11211: ' 'Error talking to memcached: 1.2.3.4:11211: ' 'All memcached servers error-limited', 'All memcached servers error-limited', 'All memcached servers error-limited', 'Error talking to memcached: 1.2.3.4:11211: ' 'Error talking to memcached: 1.2.3.4:11211: ' 'Error talking to memcached: 1.2.3.4:11211: ' 'Error talking to memcached: 1.2.3.4:11211: ' 'Error talking to memcached: 1.2.3.4:11211: ' 'Error talking to memcached: 1.2.3.5:11211: ' 'Error talking to memcached: 1.2.3.5:11211: ' 'All memcached servers error-limited', 'Error talking to memcached: 1.2.3.5:11211: ' 'Error talking to memcached: 1.2.3.5:11211: ' 'Error talking to memcached: 1.2.3.5:11211: ' 'All memcached servers error-limited', 'Error talking to memcached: 1.2.3.5:11211: ' 'Error talking to memcached: 1.2.3.5:11211: ' 'All memcached servers error-limited', self.assertEqual( self.logger.get_lines_for_level('error'), ['Timeout getting a connection to memcached: 1.2.3.5:11211'] * 8) conn_generator = memcache_client._get_conns(b'key')",71,56
openstack%2Fneutron~stable%2Fwallaby~Ib62c049cc521a548ab7e7e9584b19bdaa67b1c9d,openstack/neutron,stable/wallaby,Ib62c049cc521a548ab7e7e9584b19bdaa67b1c9d,Use monkey_patch for neutron API server.,MERGED,2022-05-04 07:33:12.000000000,2022-05-04 19:47:35.000000000,2022-05-04 18:23:36.000000000,"[{'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-04 07:33:12.000000000', 'files': ['neutron/server/api_eventlet.py', 'neutron/cmd/eventlet/server/__init__.py', 'neutron/server/__init__.py', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/neutron/commit/0e3cf060eea1ca7f66b27289fbd89f717db76ce1', 'message': ""Use monkey_patch for neutron API server.\n\nNeutron API server was not using eventlet monkey patch\nthus eventlet threads couldn't be properly yielded.\n\nThis patch set API neutron server like other monkey patched\nneutron services: neutron-server and neutron-rpc-server.\n\nNOTE: this change needs apache service restart. Apache\nmod_wsgi auto reload can lead to SSL RecursionError.\n\nCo-Authored-By: Szymon Wroblewski <szymon.wroblewski@ovhcloud.com>\nCloses-Bug: 1970216\nChange-Id: Ib62c049cc521a548ab7e7e9584b19bdaa67b1c9d\n(cherry picked from commit dcbc4beb9e8e9b2695fa76015a33f651f904f280)\n""}]",3,840426,0e3cf060eea1ca7f66b27289fbd89f717db76ce1,23,3,1,16688,,,0,"Use monkey_patch for neutron API server.

Neutron API server was not using eventlet monkey patch
thus eventlet threads couldn't be properly yielded.

This patch set API neutron server like other monkey patched
neutron services: neutron-server and neutron-rpc-server.

NOTE: this change needs apache service restart. Apache
mod_wsgi auto reload can lead to SSL RecursionError.

Co-Authored-By: Szymon Wroblewski <szymon.wroblewski@ovhcloud.com>
Closes-Bug: 1970216
Change-Id: Ib62c049cc521a548ab7e7e9584b19bdaa67b1c9d
(cherry picked from commit dcbc4beb9e8e9b2695fa76015a33f651f904f280)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/26/840426/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/server/api_eventlet.py', 'neutron/cmd/eventlet/server/__init__.py', 'neutron/server/__init__.py', 'setup.cfg']",4,0e3cf060eea1ca7f66b27289fbd89f717db76ce1,bug/1970216, neutron-api = neutron.cmd.eventlet.server:main_api_eventlet, neutron-api = neutron.server:get_application,32,9
openstack%2Fironic-lib~master~Id611d09e96e43a19c145db61fa717151b4a20bdd,openstack/ironic-lib,master,Id611d09e96e43a19c145db61fa717151b4a20bdd,Add Python3 zed unit tests,MERGED,2022-03-07 14:07:28.000000000,2022-05-04 19:30:54.000000000,2022-05-04 19:28:52.000000000,"[{'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2022-03-07 14:07:28.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-lib/commit/97b93d249f294716bae5f007108247effa9af360', 'message': 'Add Python3 zed unit tests\n\nThis is an automatically generated patch to ensure unit testing\nis in place for all the of the tested runtimes for zed.\n\nSee also the PTI in governance [1].\n\n[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html\n\nChange-Id: Id611d09e96e43a19c145db61fa717151b4a20bdd\n'}]",4,832233,97b93d249f294716bae5f007108247effa9af360,16,3,1,22816,,,0,"Add Python3 zed unit tests

This is an automatically generated patch to ensure unit testing
is in place for all the of the tested runtimes for zed.

See also the PTI in governance [1].

[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html

Change-Id: Id611d09e96e43a19c145db61fa717151b4a20bdd
",git fetch https://review.opendev.org/openstack/ironic-lib refs/changes/33/832233/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,97b93d249f294716bae5f007108247effa9af360,add-zed-python-jobtemplates, - openstack-python3-zed-jobs, - openstack-python3-yoga-jobs,1,1
openstack%2Ftripleo-ansible~master~I62662cb5ad5176b20427e057d1b4c4fcad12688e,openstack/tripleo-ansible,master,I62662cb5ad5176b20427e057d1b4c4fcad12688e,Don't extract dns_name when not set,MERGED,2022-04-28 14:11:38.000000000,2022-05-04 19:14:47.000000000,2022-05-04 19:12:47.000000000,"[{'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}, {'_account_id': 31245}]","[{'number': 1, 'created': '2022-04-28 14:11:38.000000000', 'files': ['tripleo_ansible/ansible_plugins/modules/tripleo_overcloud_network_vip_extract.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/16c7d68300fceea43db105ec95dbfe75c9757bb3', 'message': 'Don\'t extract dns_name when not set\n\nIf the networks dns_name is None, do not set dns_name\nentry in the vip data YAML file with ""null"" value.\n\nChange-Id: I62662cb5ad5176b20427e057d1b4c4fcad12688e\n'}]",2,839771,16c7d68300fceea43db105ec95dbfe75c9757bb3,10,5,1,22954,,,0,"Don't extract dns_name when not set

If the networks dns_name is None, do not set dns_name
entry in the vip data YAML file with ""null"" value.

Change-Id: I62662cb5ad5176b20427e057d1b4c4fcad12688e
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/71/839771/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/ansible_plugins/modules/tripleo_overcloud_network_vip_extract.py'],1,16c7d68300fceea43db105ec95dbfe75c9757bb3,vip_extrack_dns_name," if (vip.dns_name is not None): vip_data.append(dict(name=vip.name, network=network.name, subnet=subnet.name, ip_address=vip.fixed_ips[0]['ip_address'], dns_name=vip.dns_name)) else: vip_data.append(dict(name=vip.name, network=network.name, subnet=subnet.name, ip_address=vip.fixed_ips[0]['ip_address']))"," vip_data.append(dict(name=vip.name, network=network.name, subnet=subnet.name, ip_address=vip.fixed_ips[0]['ip_address'], dns_name=vip.dns_name))",11,5
openstack%2Fglance_store~master~I59b1579dc9877668b82d4195431c14cc41cfe892,openstack/glance_store,master,I59b1579dc9877668b82d4195431c14cc41cfe892,Add coverage for add method,MERGED,2022-03-17 08:44:10.000000000,2022-05-04 19:14:04.000000000,2022-05-04 19:11:40.000000000,"[{'_account_id': 8122}, {'_account_id': 9303}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-03-17 08:44:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance_store/commit/fbcd53e89307890ef5ceb15a362605db3624ca5e', 'message': 'Add coverage for add method\n\nThis patch adds test coverage of code paths like extend volume,\nexception blocks, when image_size is zero, volume delete call etc\n\nChange-Id: I59b1579dc9877668b82d4195431c14cc41cfe892\n'}, {'number': 2, 'created': '2022-03-17 10:39:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance_store/commit/6d4998512e500db49ed11e38f0053d683dd681be', 'message': 'Add coverage for add method\n\nThis patch adds test coverage of code paths like extend volume,\nexception blocks, when image_size is zero, volume delete call etc\n\nChange-Id: I59b1579dc9877668b82d4195431c14cc41cfe892\n'}, {'number': 3, 'created': '2022-03-22 09:08:05.000000000', 'files': ['glance_store/tests/unit/test_cinder_base.py', 'glance_store/tests/unit/test_cinder_store.py', 'glance_store/tests/unit/test_multistore_cinder.py'], 'web_link': 'https://opendev.org/openstack/glance_store/commit/f9253a4adea0cc8cb84b17b7c95ee600224f19a0', 'message': 'Add coverage for add method\n\nThis patch adds test coverage of code paths like extend volume,\nexception blocks, when image_size is zero, volume delete call etc\n\nChange-Id: I59b1579dc9877668b82d4195431c14cc41cfe892\n'}]",3,834115,f9253a4adea0cc8cb84b17b7c95ee600224f19a0,14,3,3,27615,,,0,"Add coverage for add method

This patch adds test coverage of code paths like extend volume,
exception blocks, when image_size is zero, volume delete call etc

Change-Id: I59b1579dc9877668b82d4195431c14cc41cfe892
",git fetch https://review.opendev.org/openstack/glance_store refs/changes/15/834115/2 && git format-patch -1 --stdout FETCH_HEAD,"['glance_store/tests/unit/test_cinder_base.py', 'glance_store/tests/unit/test_cinder_store.py', 'glance_store/tests/unit/test_multistore_cinder.py']",3,fbcd53e89307890ef5ceb15a362605db3624ca5e,improve-coverage-cinder-store, def test_cinder_add_extend(self): self._test_cinder_add_extend(is_multi_store=True) ,,176,0
openstack%2Ftripleo-ansible~master~I3e6dba0539b9622433ce74e18b5fbdc05e5bcaaf,openstack/tripleo-ansible,master,I3e6dba0539b9622433ce74e18b5fbdc05e5bcaaf,Use default config_podman.yml config for podman driver,MERGED,2022-04-26 08:35:21.000000000,2022-05-04 19:13:52.000000000,2022-05-04 19:12:38.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 8449}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30002}, {'_account_id': 34208}]","[{'number': 1, 'created': '2022-04-26 08:35:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/09933b5ff8c4aabfa4a60b0651fa2e996475a372', 'message': '[WIP] switch to default mol config\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I3e6dba0539b9622433ce74e18b5fbdc05e5bcaaf\n'}, {'number': 2, 'created': '2022-04-26 08:36:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/c811cc0b8c8621cdee5de3178f4007f01d76b29e', 'message': '[WIP] switch to default mol config\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I3e6dba0539b9622433ce74e18b5fbdc05e5bcaaf\n'}, {'number': 3, 'created': '2022-04-26 09:20:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/d3c0c81a753fe6431cc1597ea9180557b53223ec', 'message': '[WIP] switch to default mol config\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I3e6dba0539b9622433ce74e18b5fbdc05e5bcaaf\n'}, {'number': 4, 'created': '2022-04-26 09:40:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/a8c36ad31c9394681728a50fcdcc6adb47dc8a76', 'message': '[WIP] switch to default mol config\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I3e6dba0539b9622433ce74e18b5fbdc05e5bcaaf\n'}, {'number': 5, 'created': '2022-04-26 10:02:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/5d1730118d13f6ef04d3e6e5d454935b00e60b87', 'message': '[WIP] switch to default mol config\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I3e6dba0539b9622433ce74e18b5fbdc05e5bcaaf\n'}, {'number': 6, 'created': '2022-04-27 04:01:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/b818d92b01b49c0d5ca2e84ec64bbdd5d8ea84b1', 'message': '[WIP] switch to default mol config\n\nNote:\n1. Move podman platform related info and Dockerfile in default config\n2. Specify the driver name from molecule.yaml\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I3e6dba0539b9622433ce74e18b5fbdc05e5bcaaf\n'}, {'number': 7, 'created': '2022-04-27 04:19:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/5265ac382da1e0ae308d38a0648379b3cbc6f812', 'message': '[WIP] switch to default mol config\n\nNote:\n1. Move podman platform related info and Dockerfile in default config\n2. Specify the driver name from molecule.yaml\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I3e6dba0539b9622433ce74e18b5fbdc05e5bcaaf\n'}, {'number': 8, 'created': '2022-04-27 04:40:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/81a7cb2928a4306a9f35b5306490b9a940bda402', 'message': '[WIP] switch to default mol config\n\nNote:\n1. Move podman platform related info and Dockerfile in default config\n2. Specify the driver name from molecule.yaml\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I3e6dba0539b9622433ce74e18b5fbdc05e5bcaaf\n'}, {'number': 9, 'created': '2022-04-27 05:05:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/85f39fa78e1147418f2cfa1aaada3545078ff888', 'message': '[WIP] switch to default mol config\n\nNote:\n1. Move podman platform related info and Dockerfile in default config\n2. Specify the driver name from molecule.yaml\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I3e6dba0539b9622433ce74e18b5fbdc05e5bcaaf\n'}, {'number': 10, 'created': '2022-04-27 05:12:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/959de15379198fa798dbcede6b00b6d4cd232fa8', 'message': '[WIP] switch to default mol config\n\nNote:\n1. Move podman platform related info and Dockerfile in default config\n2. Specify the driver name from molecule.yaml\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I3e6dba0539b9622433ce74e18b5fbdc05e5bcaaf\n'}, {'number': 11, 'created': '2022-04-27 09:16:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/84895b69bd9e04bd7c0d4719f1806d3df8a6ac45', 'message': '[WIP] switch to default mol config\n\nNote:\n1. Move podman platform related info and Dockerfile in podman config\n2. Specify the driver name from molecule.yaml\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I3e6dba0539b9622433ce74e18b5fbdc05e5bcaaf\n'}, {'number': 12, 'created': '2022-04-28 08:19:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/8356948608f019754542068eaaeddca5bdeb1106', 'message': '[WIP] switch to default mol config\n\nNote:\n1. Move podman platform related info and Dockerfile in podman config\n2. Specify the driver name from molecule.yaml\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I3e6dba0539b9622433ce74e18b5fbdc05e5bcaaf\n'}, {'number': 13, 'created': '2022-04-28 08:33:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/ccbd73f25f429957f6088d99a6532feacef1c0d8', 'message': '[WIP] switch to default mol config\n\nNote:\n1. Move podman platform related info and Dockerfile in podman config\n2. Specify the driver name from molecule.yaml\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I3e6dba0539b9622433ce74e18b5fbdc05e5bcaaf\n'}, {'number': 14, 'created': '2022-04-28 09:40:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/3e2edb6ec2506d2907fd410896cde702f74f5f8e', 'message': '[WIP] switch to default mol config\n\nNote:\n1. Move podman platform related info and Dockerfile in podman config\n2. Specify the driver name from molecule.yaml\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I3e6dba0539b9622433ce74e18b5fbdc05e5bcaaf\n'}, {'number': 15, 'created': '2022-04-28 10:36:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/04a3c86a62e3f88e9f5f5eee086727ebc983a426', 'message': '[WIP] switch to default mol config\n\nNote:\n1. Move podman platform related info and Dockerfile in podman config\n2. Specify the driver name from molecule.yaml\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I3e6dba0539b9622433ce74e18b5fbdc05e5bcaaf\n'}, {'number': 16, 'created': '2022-04-29 03:56:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/3276987daa83f111b6a1353f504c70fe241234a8', 'message': '[WIP] switch to default mol config\n\nNote:\n1. Move podman platform related info and Dockerfile in podman config\n2. Specify the driver name from molecule.yaml\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I3e6dba0539b9622433ce74e18b5fbdc05e5bcaaf\n'}, {'number': 17, 'created': '2022-04-29 04:10:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/f58268b6cab96c73f1ca2b84221609bf781ba962', 'message': '[WIP] switch to default mol config\n\nNote:\n1. Move podman platform related info and Dockerfile in podman config\n2. Specify the driver name from molecule.yaml\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I3e6dba0539b9622433ce74e18b5fbdc05e5bcaaf\n'}, {'number': 18, 'created': '2022-04-29 04:27:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/37643126f329f0b2a624c01a76873091f64cba63', 'message': '[WIP] switch to default mol config\n\nNote:\n1. Move podman platform related info and Dockerfile in podman config\n2. Specify the driver name from molecule.yaml\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I3e6dba0539b9622433ce74e18b5fbdc05e5bcaaf\n'}, {'number': 19, 'created': '2022-04-29 04:28:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/ff2b63596373faa64c9961cfef8c225267806868', 'message': '[WIP] switch to default mol config\n\nNote:\n1. Move podman platform related info and Dockerfile in podman config\n2. Specify the driver name from molecule.yaml\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I3e6dba0539b9622433ce74e18b5fbdc05e5bcaaf\n'}, {'number': 20, 'created': '2022-04-29 04:42:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/c5b24b862fad657f1f066c6cdfd7f2891e9852e7', 'message': '[WIP] switch to default mol config\n\nNote:\n1. Move podman platform related info and Dockerfile in podman config\n2. Specify the driver name from molecule.yaml\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I3e6dba0539b9622433ce74e18b5fbdc05e5bcaaf\n'}, {'number': 21, 'created': '2022-04-29 05:22:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/a3c55cd89ab299a1312f2ab20d20ae194c5f0a50', 'message': 'Use default config_podman.yml config for podman driver\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I3e6dba0539b9622433ce74e18b5fbdc05e5bcaaf\n'}, {'number': 22, 'created': '2022-04-29 05:34:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/63b20be05541dbb70e16489bad3c0778a213a40b', 'message': 'Use default config_podman.yml config for podman driver\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I3e6dba0539b9622433ce74e18b5fbdc05e5bcaaf\n'}, {'number': 23, 'created': '2022-04-29 05:42:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/acd63db9fddd592380ec6d55afa9c0dce1499431', 'message': 'Use default config_podman.yml config for podman driver\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I3e6dba0539b9622433ce74e18b5fbdc05e5bcaaf\n'}, {'number': 24, 'created': '2022-04-29 05:56:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/2218dcccb77d52e9cd3915ef0c6e3d7f65fe7a36', 'message': 'Use default config_podman.yml config for podman driver\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I3e6dba0539b9622433ce74e18b5fbdc05e5bcaaf\n'}, {'number': 25, 'created': '2022-04-29 06:49:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/bd3b8104748d3eabd0137ac9a3693bab738e4841', 'message': 'Use default config_podman.yml config for podman driver\n\nBy following the footprint of\nhttps://review.opendev.org/c/openstack/tripleo-ansible/+/839685\nto use default config for delegated driver.\n\nIt adds the default podman config and reuse the same in all\nroles where CentOS8 image is used for testing.\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I3e6dba0539b9622433ce74e18b5fbdc05e5bcaaf\n'}, {'number': 26, 'created': '2022-04-29 07:38:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/1fdf33cc2096c80f30c7bfa0dbd44e1d17abe859', 'message': 'Use default config_podman.yml config for podman driver\n\nBy following the footprint of\nhttps://review.opendev.org/c/openstack/tripleo-ansible/+/839685\nto use default config for delegated driver.\n\nIt adds the default podman config and reuse the same in all\nroles where CentOS8 image is used for testing.\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I3e6dba0539b9622433ce74e18b5fbdc05e5bcaaf\n'}, {'number': 27, 'created': '2022-05-02 05:06:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/4f456d6966747a59908a4262e2c87ed43a11ab03', 'message': 'Use default config_podman.yml config for podman driver\n\nBy following the footprint of\nhttps://review.opendev.org/c/openstack/tripleo-ansible/+/839685\nto use default config for delegated driver.\n\nIt adds the default podman config and reuse the same in all\nroles where CentOS8 image is used for testing.\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I3e6dba0539b9622433ce74e18b5fbdc05e5bcaaf\n'}, {'number': 28, 'created': '2022-05-02 05:13:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/10da5a93fc8c8e0a6ddd90a8a8b31f20b8b477e3', 'message': 'Use default config_podman.yml config for podman driver\n\nBy following the footprint of\nhttps://review.opendev.org/c/openstack/tripleo-ansible/+/839685\nto use default config for delegated driver.\n\nIt adds the default podman config and reuse the same in all\nroles where CentOS8 image is used for testing.\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I3e6dba0539b9622433ce74e18b5fbdc05e5bcaaf\n'}, {'number': 29, 'created': '2022-05-02 05:36:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/97e1543ba63c59600b42705c9f696816c99a8d08', 'message': 'Use default config_podman.yml config for podman driver\n\nBy following the footprint of\nhttps://review.opendev.org/c/openstack/tripleo-ansible/+/839685\nto use default config for delegated driver.\n\nIt adds the default podman config and reuse the same in all\nroles where CentOS8 image is used for testing.\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I3e6dba0539b9622433ce74e18b5fbdc05e5bcaaf\n'}, {'number': 30, 'created': '2022-05-02 09:38:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/7e62ca55dd7205320776729f584fda7fe72f3fe4', 'message': 'Use default config_podman.yml config for podman driver\n\nBy following the footprint of\nhttps://review.opendev.org/c/openstack/tripleo-ansible/+/839685\nto use default config for delegated driver.\n\nIt adds the default podman config and reuse the same in all\nroles where CentOS8 image is used for testing.\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I3e6dba0539b9622433ce74e18b5fbdc05e5bcaaf\n'}, {'number': 31, 'created': '2022-05-02 09:49:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/ef66ab92c0592814e4556f37936b3287e48876ac', 'message': 'Use default config_podman.yml config for podman driver\n\nBy following the footprint of\nhttps://review.opendev.org/c/openstack/tripleo-ansible/+/839685\nto use default config for delegated driver.\n\nIt adds the default podman config and reuse the same in all\nroles where CentOS8 image is used for testing.\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I3e6dba0539b9622433ce74e18b5fbdc05e5bcaaf\n'}, {'number': 32, 'created': '2022-05-02 11:27:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/4e11785f0d527bdcb83a1bf957e86206ee836dc9', 'message': 'Use default config_podman.yml config for podman driver\n\nBy following the footprint of\nhttps://review.opendev.org/c/openstack/tripleo-ansible/+/839685\nto use default config for delegated driver.\n\nIt adds the default podman config and reuse the same in all\nroles where CentOS8 image is used for testing.\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I3e6dba0539b9622433ce74e18b5fbdc05e5bcaaf\n'}, {'number': 33, 'created': '2022-05-02 11:59:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/f40315225ed452f7710af5d397b9212465a7f5a0', 'message': 'Use default config_podman.yml config for podman driver\n\nBy following the footprint of\nhttps://review.opendev.org/c/openstack/tripleo-ansible/+/839685\nto use default config for delegated driver.\n\nIt adds the default podman config and reuse the same in all\nroles where CentOS8 image is used for testing.\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I3e6dba0539b9622433ce74e18b5fbdc05e5bcaaf\n'}, {'number': 34, 'created': '2022-05-02 12:05:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/a6a42c9dd2136d27ba51669f655ccd4de50aed6a', 'message': 'Use default config_podman.yml config for podman driver\n\nBy following the footprint of\nhttps://review.opendev.org/c/openstack/tripleo-ansible/+/839685\nto use default config for delegated driver.\n\nIt adds the default podman config and reuse the same in all\nroles where CentOS8 image is used for testing.\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I3e6dba0539b9622433ce74e18b5fbdc05e5bcaaf\n'}, {'number': 35, 'created': '2022-05-02 13:54:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/fe84174bf32dc4629e893d75429d914294389f4a', 'message': 'Use default config_podman.yml config for podman driver\n\nBy following the footprint of\nhttps://review.opendev.org/c/openstack/tripleo-ansible/+/839685\nto use default config for delegated driver.\n\nIt adds the default podman config and reuse the same in all\nroles where CentOS8 image is used for testing.\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I3e6dba0539b9622433ce74e18b5fbdc05e5bcaaf\n'}, {'number': 36, 'created': '2022-05-02 14:31:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/ec9bca01a32210ae26365dd5744d9f9c406d8ea1', 'message': 'Use default config_podman.yml config for podman driver\n\nBy following the footprint of\nhttps://review.opendev.org/c/openstack/tripleo-ansible/+/839685\nto use default config for delegated driver.\n\nIt adds the default podman config and reuse the same in all\nroles where CentOS8 image is used for testing.\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I3e6dba0539b9622433ce74e18b5fbdc05e5bcaaf\n'}, {'number': 37, 'created': '2022-05-03 04:15:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/62a5beb71a0f0d4186507d6a3b714a3823cec172', 'message': 'Use default config_podman.yml config for podman driver\n\nBy following the footprint of\nhttps://review.opendev.org/c/openstack/tripleo-ansible/+/839685\nto use default config for delegated driver.\n\nIt adds the default podman config and reuse the same in all\nroles where CentOS8 image is used for testing.\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I3e6dba0539b9622433ce74e18b5fbdc05e5bcaaf\n'}, {'number': 38, 'created': '2022-05-03 04:19:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/2a568f22a61ec50e4795361b74379a9f6fed638d', 'message': 'Use default config_podman.yml config for podman driver\n\nBy following the footprint of\nhttps://review.opendev.org/c/openstack/tripleo-ansible/+/839685\nto use default config for delegated driver.\n\nIt adds the default podman config and reuse the same in all\nroles where CentOS8 image is used for testing.\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I3e6dba0539b9622433ce74e18b5fbdc05e5bcaaf\n'}, {'number': 39, 'created': '2022-05-03 05:15:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/df3494e4e4a4dbec184dbac6a2e78004e2b29bac', 'message': 'Use default config_podman.yml config for podman driver\n\nBy following the footprint of\nhttps://review.opendev.org/c/openstack/tripleo-ansible/+/839685\nto use default config for delegated driver.\n\nIt adds the default podman config and reuse the same in all\nroles where CentOS8 image is used for testing.\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I3e6dba0539b9622433ce74e18b5fbdc05e5bcaaf\n'}, {'number': 40, 'created': '2022-05-04 07:52:50.000000000', 'files': ['tripleo_ansible/roles/tripleo_container_image_build/molecule/default/Dockerfile', 'tripleo_ansible/roles/tripleo_create_admin/molecule/keygen/Dockerfile', 'tripleo_ansible/roles/tripleo_ha_wrapper/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_systemd_wrapper/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_hieradata/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_multipathd/molecule/default/Dockerfile', 'tripleo_ansible/roles/test_package_action/molecule/positive/molecule.yml', 'tripleo_ansible/roles/tripleo_clients_install/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_ovn_cluster/molecule/default/Dockerfile', 'tripleo_ansible/roles/tripleo_unbound/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_image_serve/molecule/legacy_vars/Dockerfile', 'tripleo_ansible/roles/tripleo_sshd/molecule/gssapi/Dockerfile', 'tripleo_ansible/roles/tripleo_ssh_known_hosts/molecule/no_networks/Dockerfile', 'tripleo_ansible/roles/tripleo_ssh_known_hosts/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_ovs_dpdk/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_ssh_known_hosts/molecule/default/Dockerfile', 'tripleo_ansible/roles/tripleo_timezone/molecule/default/Dockerfile', 'tripleo_ansible/roles/tripleo_persist/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_hieradata/molecule/default/Dockerfile', 'tripleo_ansible/roles/aide/molecule/default/Dockerfile', 'tripleo_ansible/roles/tripleo_ptp/molecule/default/Dockerfile', 'tripleo_ansible/roles/tripleo_persist/molecule/default/Dockerfile', 'tripleo_ansible/roles/tripleo_hieradata/molecule/hieradata_vars/molecule.yml', 'tripleo_ansible/roles/tripleo_cephadm/molecule/default/Dockerfile', 'tripleo_ansible/roles/tripleo_image_serve/molecule/legacy_vars/molecule.yml', 'tripleo_ansible/roles/tripleo_lvmfilter/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_create_admin/molecule/default/Dockerfile', 'tripleo_ansible/roles/tripleo_ha_wrapper/molecule/default/Dockerfile', 'tripleo_ansible/roles/tripleo_securetty/molecule/create/molecule.yml', 'tripleo_ansible/roles/tripleo_hieradata/molecule/ansible_hieradata/Dockerfile', 'tripleo_ansible/roles/test_package_action/molecule/positive/Dockerfile', 'tripleo_ansible/roles/tripleo_sshd/molecule/banners/Dockerfile', 'tripleo_ansible/roles/tripleo_derived_parameters/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_keystone/molecule/default/Dockerfile', 'tripleo_ansible/roles/tripleo_multipathd/molecule/default/prepare.yml', 'tripleo_ansible/roles/tripleo_securetty/molecule/create/Dockerfile', 'tripleo_ansible/roles/tripleo_module_load/molecule/default/Dockerfile', 'tripleo_ansible/roles/test_deps/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_upgrade_hiera/molecule/default/Dockerfile', 'tripleo_ansible/roles/tripleo_ceph_distribute_keys/molecule/default/Dockerfile', 'tripleo_ansible/roles/tripleo_securetty/molecule/default/Dockerfile', 'tripleo_ansible/roles/test_package_action/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_nodes_validation/molecule/default/Dockerfile', 'tripleo_ansible/roles/tripleo_ptp/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_derived_parameters/molecule/nfv/Dockerfile', 'tripleo_ansible/roles/tripleo_run_cephadm/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_sshd/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_derived_parameters/molecule/nfv/molecule.yml', 'tripleo_ansible/roles/tripleo_sshd/molecule/gssapi/molecule.yml', 'tripleo_ansible/roles/login_defs/molecule/default/Dockerfile', 'tripleo_ansible/roles/tripleo_container_image_build/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_timemaster/molecule/defaults/Dockerfile', 'tripleo_ansible/roles/tripleo_validations_package/molecule/default/Dockerfile', 'tripleo_ansible/roles/tripleo_keystone_resources/molecule/default/Dockerfile', 'tripleo_ansible/roles/tripleo_ceph_client/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_systemd_wrapper/molecule/default/Dockerfile', 'tripleo_ansible/roles/tripleo_ovs_dpdk/molecule/positive/molecule.yml', 'tripleo_ansible/roles/aide/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_ssh_known_hosts/molecule/no_networks/tests/test_no_networks.py', 'tripleo_ansible/roles/tripleo_nvdimm/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_multipathd/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_ssh_known_hosts/molecule/no_networks/molecule.yml', 'tripleo_ansible/ansible_plugins/tests/molecule/tripleo_dnf_stream/molecule.yml', 'tripleo_ansible/roles/tripleo_container_image_prepare/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_create_admin/molecule/keygen/molecule.yml', 'tripleo_ansible/roles/tripleo_create_admin/molecule/addkey/Dockerfile', 'tripleo_ansible/roles/tripleo_ceph_client/molecule/default/Dockerfile', 'tripleo_ansible/roles/tripleo_multipathd/molecule/preexisting_config/Dockerfile', 'tripleo_ansible/roles/tripleo_nodes_validation/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_create_admin/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_timemaster/molecule/defaults/molecule.yml', 'tripleo_ansible/roles/tripleo_container_image_prepare/molecule/default/Dockerfile', 'tripleo_ansible/roles/tripleo_ceph_distribute_keys/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_sshd/molecule/default/Dockerfile', 'tests/test_molecule.py', 'tripleo_ansible/roles/tripleo_puppet_cache/molecule/default/Dockerfile', 'tripleo_ansible/roles/tripleo_cephadm/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_nvdimm/molecule/default/Dockerfile', 'tripleo_ansible/roles/tripleo_multipathd/molecule/custom_config/molecule.yml', 'tripleo_ansible/roles/tripleo_hieradata/molecule/ansible_hieradata/molecule.yml', 'tripleo_ansible/roles/tripleo_create_admin/molecule/addkey/molecule.yml', 'tripleo_ansible/roles/tripleo_unbound/molecule/default/Dockerfile', 'tripleo_ansible/roles/tripleo_clients_install/molecule/default/Dockerfile', 'tripleo_ansible/roles/tripleo_timezone/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_derived_parameters/molecule/default/Dockerfile', 'tripleo_ansible/roles/tripleo_run_cephadm/molecule/default/Dockerfile', 'tripleo_ansible/roles/tripleo_nodes_validation/molecule/default/prepare.yml', 'tripleo_ansible/roles/tripleo_config/molecule/default/Dockerfile', 'tripleo_ansible/roles/tripleo_cellv2/molecule/default/Dockerfile', 'tripleo_ansible/roles/tripleo_module_load/molecule/legacy_vars/Dockerfile', 'tripleo_ansible/roles/login_defs/molecule/default/molecule.yml', 'tripleo_ansible/roles/test_package_action/molecule/negative/molecule.yml', 'tripleo_ansible/roles/tripleo_ovn_cluster/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_module_load/molecule/remove_module/Dockerfile', 'tripleo_ansible/roles/tripleo_multipathd/molecule/custom_config/Dockerfile', 'tripleo_ansible/roles/tripleo_keystone/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_config/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_puppet_cache/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_hieradata/molecule/hieradata_vars/Dockerfile', 'tripleo_ansible/roles/tripleo_ssh_known_hosts/molecule/default/tests/test_default.py', 'tripleo_ansible/roles/tripleo_validations_package/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_cellv2/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_hosts_entries/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_nova_image_cache/molecule/default/Dockerfile', 'tripleo_ansible/roles/tripleo_ovs_dpdk/molecule/positive/Dockerfile', 'tripleo_ansible/roles/tripleo_upgrade_hiera/molecule/default/molecule.yml', '.config/molecule/Dockerfile.j2', 'tripleo_ansible/roles/designate_bind_config/molecule/default/Dockerfile', 'tripleo_ansible/roles/tripleo_sshd/molecule/banners/molecule.yml', 'tripleo_ansible/roles/test_package_action/molecule/default/Dockerfile', 'tripleo_ansible/roles/tripleo_image_serve/molecule/default/Dockerfile', 'tripleo_ansible/roles/tripleo_image_serve/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_network_config/molecule/default/Dockerfile', 'tripleo_ansible/roles/tripleo_multipathd/molecule/preexisting_config/molecule.yml', 'tripleo_ansible/roles/tripleo_nvdimm/molecule/default/prepare.yml', '.config/molecule/config_podman.yml', 'tripleo_ansible/roles/tripleo_hosts_entries/molecule/default/Dockerfile', 'tripleo_ansible/roles/tripleo_securetty/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_nova_image_cache/molecule/default/molecule.yml', 'tripleo_ansible/roles/designate_bind_config/molecule/default/molecule.yml', 'tripleo_ansible/roles/test_package_action/molecule/negative/Dockerfile', 'tripleo_ansible/roles/tripleo_ovs_dpdk/molecule/default/Dockerfile'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/d95784efa53cc4badf650061da7045b4b34f5229', 'message': 'Use default config_podman.yml config for podman driver\n\nBy following the footprint of\nhttps://review.opendev.org/c/openstack/tripleo-ansible/+/839685\nto use default config for delegated driver.\n\nIt adds the default podman config and reuse the same in all\nroles where CentOS8 image is used for testing.\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I3e6dba0539b9622433ce74e18b5fbdc05e5bcaaf\n'}]",60,839319,d95784efa53cc4badf650061da7045b4b34f5229,99,9,40,12393,,,0,"Use default config_podman.yml config for podman driver

By following the footprint of
https://review.opendev.org/c/openstack/tripleo-ansible/+/839685
to use default config for delegated driver.

It adds the default podman config and reuse the same in all
roles where CentOS8 image is used for testing.

Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
Change-Id: I3e6dba0539b9622433ce74e18b5fbdc05e5bcaaf
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/19/839319/32 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/test_deps/molecule/default/molecule.yml', 'tripleo_ansible/roles/test_deps/molecule/default/Dockerfile']",2,09933b5ff8c4aabfa4a60b0651fa2e996475a372,unified_mol_config,,"# Molecule managed # Copyright 2019 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. {% if item.registry is defined %} FROM {{ item.registry.url }}/{{ item.image }} {% else %} FROM {{ item.image }} {% endif %} RUN if [ $(command -v apt-get) ]; then apt-get update && apt-get install -y python sudo bash ca-certificates && apt-get clean; \ elif [ $(command -v dnf) ]; then dnf makecache && dnf --assumeyes install sudo python*-devel python*-dnf bash {{ item.pkg_extras | default('') }} && dnf clean all; \ elif [ $(command -v yum) ]; then yum makecache fast && yum install -y python sudo yum-plugin-ovl python-setuptools bash {{ item.pkg_extras | default('') }} && sed -i 's/plugins=0/plugins=1/g' /etc/yum.conf && yum clean all; \ elif [ $(command -v zypper) ]; then zypper refresh && zypper install -y python sudo bash python-xml {{ item.pkg_extras | default('') }} && zypper clean -a; \ elif [ $(command -v apk) ]; then apk update && apk add --no-cache python sudo bash ca-certificates {{ item.pkg_extras | default('') }}; \ elif [ $(command -v xbps-install) ]; then xbps-install -Syu && xbps-install -y python sudo bash ca-certificates {{ item.pkg_extras | default('') }} && xbps-remove -O; fi {% for pkg in item.easy_install | default([]) %} # install pip for centos where there is no python-pip rpm in default repos RUN easy_install {{ pkg }} {% endfor %} CMD [""sh"", ""-c"", ""while true; do sleep 10000; done""] ",0,74
openstack%2Foslo.messaging~master~I5c38d3a3cafd49f8abc031e36bc595f32a8631d2,openstack/oslo.messaging,master,I5c38d3a3cafd49f8abc031e36bc595f32a8631d2,Add EXTERNAL as rabbit login method,MERGED,2022-04-25 22:03:28.000000000,2022-05-04 19:13:52.000000000,2022-04-27 15:16:44.000000000,"[{'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 31245}]","[{'number': 1, 'created': '2022-04-25 22:03:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/d104d71f46221d0298cd1f5c5d078058ee899c58', 'message': 'Add EXTERNAL as rabbit login method\n\nAs explained in the link below kombu has login method called external\nhttps://docs.celeryq.dev/projects/kombu/en/latest/_modules/kombu/connection.html\n\nThe login method external is not listed as a choice in the Rabbit driver\n\nCloses-Bug: #1970276\nChange-Id: I5c38d3a3cafd49f8abc031e36bc595f32a8631d2\n'}, {'number': 2, 'created': '2022-04-25 22:34:25.000000000', 'files': ['oslo_messaging/_drivers/impl_rabbit.py'], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/821197b947393e4f6051e4b45818cc343abf06cc', 'message': 'Add EXTERNAL as rabbit login method\n\nAs explained in the link below kombu has login method called external\nhttps://docs.celeryq.dev/projects/kombu/en/latest/_modules/kombu/connection.html\n\nThe login method external is not listed as a choice in the Rabbit driver\n\nAs explained in RabbitMQ documention\nhttps://www.rabbitmq.com/access-control.html\nfor Authentication using Client TLS (x.509) Certificate Data\nclients must be configured to use the EXTERNAL mechanism.\n\nCloses-Bug: #1970276\nChange-Id: I5c38d3a3cafd49f8abc031e36bc595f32a8631d2\n'}]",2,839264,821197b947393e4f6051e4b45818cc343abf06cc,10,3,2,31039,,,0,"Add EXTERNAL as rabbit login method

As explained in the link below kombu has login method called external
https://docs.celeryq.dev/projects/kombu/en/latest/_modules/kombu/connection.html

The login method external is not listed as a choice in the Rabbit driver

As explained in RabbitMQ documention
https://www.rabbitmq.com/access-control.html
for Authentication using Client TLS (x.509) Certificate Data
clients must be configured to use the EXTERNAL mechanism.

Closes-Bug: #1970276
Change-Id: I5c38d3a3cafd49f8abc031e36bc595f32a8631d2
",git fetch https://review.opendev.org/openstack/oslo.messaging refs/changes/64/839264/2 && git format-patch -1 --stdout FETCH_HEAD,['oslo_messaging/_drivers/impl_rabbit.py'],1,d104d71f46221d0298cd1f5c5d078058ee899c58,bug-1970276," choices=('PLAIN', 'AMQPLAIN', 'EXTERNAL', 'RABBIT-CR-DEMO'),"," choices=('PLAIN', 'AMQPLAIN', 'RABBIT-CR-DEMO'),",1,1
openstack%2Fglance_store~master~If63a6c810b5aab992e54857bc81f5052c2c593c4,openstack/glance_store,master,If63a6c810b5aab992e54857bc81f5052c2c593c4,"Add exception coverage for get, get_size, delete",MERGED,2022-03-16 10:16:47.000000000,2022-05-04 19:13:06.000000000,2022-05-04 19:11:39.000000000,"[{'_account_id': 8122}, {'_account_id': 9303}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-03-16 10:16:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance_store/commit/6f018fd4ec0c6a6f4719b0d547af0cd53cbdffd4', 'message': 'Add exception coverage for get, get_size, delete\n\nThis patch adds coverage for the various exceptions handled and\nraised in get, get_size and delete methods.\nIt also corrects the behavior of _test_cinder_get_size method where\nclient.volumes returned dictionary instead of a MagicMock and it\nworked due to the existing method ""get"" in dictionary which has\nsame name as ""get"" method in cinderclient. The dictionary object\nis replaced with the appropriate MagicMock object in this patch.\n\nChange-Id: If63a6c810b5aab992e54857bc81f5052c2c593c4\n'}, {'number': 2, 'created': '2022-03-17 10:39:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance_store/commit/4a4f4c3c9b42db45da7fe4cb7267ff0d1c8ce29f', 'message': 'Add exception coverage for get, get_size, delete\n\nThis patch adds coverage for the various exceptions handled and\nraised in get, get_size and delete methods.\nIt also corrects the behavior of _test_cinder_get_size method where\nclient.volumes returned dictionary instead of a MagicMock and it\nworked due to the existing method ""get"" in dictionary which has\nsame name as ""get"" method in cinderclient. The dictionary object\nis replaced with the appropriate MagicMock object in this patch.\n\nChange-Id: If63a6c810b5aab992e54857bc81f5052c2c593c4\n'}, {'number': 3, 'created': '2022-03-22 09:08:05.000000000', 'files': ['glance_store/tests/unit/test_cinder_base.py', 'glance_store/tests/unit/test_cinder_store.py', 'glance_store/tests/unit/test_multistore_cinder.py'], 'web_link': 'https://opendev.org/openstack/glance_store/commit/4bd0304efbdfb98e2742741af42b483708f48a41', 'message': 'Add exception coverage for get, get_size, delete\n\nThis patch adds coverage for the various exceptions handled and\nraised in get, get_size and delete methods.\nIt also corrects the behavior of _test_cinder_get_size method where\nclient.volumes returned dictionary instead of a MagicMock and it\nworked due to the existing method ""get"" in dictionary which has\nsame name as ""get"" method in cinderclient. The dictionary object\nis replaced with the appropriate MagicMock object in this patch.\n\nChange-Id: If63a6c810b5aab992e54857bc81f5052c2c593c4\n'}]",3,833982,4bd0304efbdfb98e2742741af42b483708f48a41,14,3,3,27615,,,0,"Add exception coverage for get, get_size, delete

This patch adds coverage for the various exceptions handled and
raised in get, get_size and delete methods.
It also corrects the behavior of _test_cinder_get_size method where
client.volumes returned dictionary instead of a MagicMock and it
worked due to the existing method ""get"" in dictionary which has
same name as ""get"" method in cinderclient. The dictionary object
is replaced with the appropriate MagicMock object in this patch.

Change-Id: If63a6c810b5aab992e54857bc81f5052c2c593c4
",git fetch https://review.opendev.org/openstack/glance_store refs/changes/82/833982/3 && git format-patch -1 --stdout FETCH_HEAD,"['glance_store/tests/unit/test_cinder_base.py', 'glance_store/tests/unit/test_cinder_store.py', 'glance_store/tests/unit/test_multistore_cinder.py']",3,6f018fd4ec0c6a6f4719b0d547af0cd53cbdffd4,improve-coverage-cinder-store, self._test_cinder_delete(is_multi_store=True)," fake_client = mock.MagicMock(auth_token=None, management_url=None) fake_volume_uuid = str(uuid.uuid4()) fake_volumes = mock.MagicMock(delete=mock.Mock()) with mock.patch.object(cinder.Store, 'get_cinderclient') as mocked_cc: mocked_cc.return_value = mock.MagicMock(client=fake_client, volumes=fake_volumes) uri = 'cinder://cinder1/%s' % fake_volume_uuid loc = location.get_location_from_uri_and_backend(uri, ""cinder1"", conf=self.conf) self.store.delete(loc, context=self.context) fake_volumes.delete.assert_called_once_with(fake_volume_uuid)",83,28
openstack%2Ftripleo-heat-templates~master~Ib905a2774cb6d866f7670312d2c075b0e4465f3e,openstack/tripleo-heat-templates,master,Ib905a2774cb6d866f7670312d2c075b0e4465f3e,Add until to retry pulling the container images,MERGED,2022-05-01 23:52:28.000000000,2022-05-04 19:12:43.000000000,2022-05-04 19:12:43.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-05-01 23:52:28.000000000', 'files': ['deployment/podman/podman-baremetal-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c20eeb3ac6173612d8c8ea568ee346f56d104da0', 'message': 'Add until to retry pulling the container images\n\n""Pre-fetch all the containers"" task has retries and deley parameter,\nbut it doesn\'t work because the statement to retry is missing.\n\nAdd until parameter to retry pulling container images.\n\nChange-Id: Ib905a2774cb6d866f7670312d2c075b0e4465f3e\n'}]",1,840142,c20eeb3ac6173612d8c8ea568ee346f56d104da0,8,4,1,34260,,,0,"Add until to retry pulling the container images

""Pre-fetch all the containers"" task has retries and deley parameter,
but it doesn't work because the statement to retry is missing.

Add until parameter to retry pulling container images.

Change-Id: Ib905a2774cb6d866f7670312d2c075b0e4465f3e
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/42/840142/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/podman/podman-baremetal-ansible.yaml'],1,c20eeb3ac6173612d8c8ea568ee346f56d104da0,add_until_to_retry_pull_container, register: result until: result is succeeded,,2,0
openstack%2Fpuppet-tripleo~stable%2Ftrain~Ie7ee7c90107cfe5bff08f5c778a6273ae9ffcc76,openstack/puppet-tripleo,stable/train,Ie7ee7c90107cfe5bff08f5c778a6273ae9ffcc76,Increase connection timeouts for Redis,MERGED,2022-02-15 12:49:50.000000000,2022-05-04 19:12:35.000000000,2022-05-04 19:12:35.000000000,"[{'_account_id': 4264}, {'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-02-15 12:49:50.000000000', 'files': ['manifests/haproxy.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/a5ebc409ef23775e9b64ff6b108833b0a2fc0b16', 'message': 'Increase connection timeouts for Redis\n\nWhen using py-redis for connecting to Redis via HAProxy the connection\nis being closed even when alive by HAProxy. Unfortunately this is a know\nissue on py-redis side (see [1]). This patch increases connection timeouts\nto not pollute (for example) Gnocchi [2] logs with reconnect tracebacks every\n2 minutes.\n\n[1] https://github.com/redis/redis-py/issues/1140\n[2] https://bugzilla.redhat.com/show_bug.cgi?id=1924373\n\nChange-Id: Ie7ee7c90107cfe5bff08f5c778a6273ae9ffcc76\n(cherry picked from commit 209e954c5f77d827ca0dff836d86b10fa04f80c3)\n'}]",1,829185,a5ebc409ef23775e9b64ff6b108833b0a2fc0b16,10,6,1,5241,,,0,"Increase connection timeouts for Redis

When using py-redis for connecting to Redis via HAProxy the connection
is being closed even when alive by HAProxy. Unfortunately this is a know
issue on py-redis side (see [1]). This patch increases connection timeouts
to not pollute (for example) Gnocchi [2] logs with reconnect tracebacks every
2 minutes.

[1] https://github.com/redis/redis-py/issues/1140
[2] https://bugzilla.redhat.com/show_bug.cgi?id=1924373

Change-Id: Ie7ee7c90107cfe5bff08f5c778a6273ae9ffcc76
(cherry picked from commit 209e954c5f77d827ca0dff836d86b10fa04f80c3)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/85/829185/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/haproxy.pp'],1,a5ebc409ef23775e9b64ff6b108833b0a2fc0b16,bz1924373-stable/victoria-stable/ussuri-stable/train," 'balance' => 'first', 'timeout client' => '90m', 'timeout server' => '90m', 'option' => [ 'tcp-check', 'tcplog', ], 'tcp-check' => $redis_tcp_check_options,"," 'balance' => 'first', 'option' => [ 'tcp-check', 'tcplog', ], 'tcp-check' => $redis_tcp_check_options,",5,3
openstack%2Fglance_store~master~Idb232f2d7b0f74e9c65e42955c767fb7bb6ae004,openstack/glance_store,master,Idb232f2d7b0f74e9c65e42955c767fb7bb6ae004,Add coverage for helper methods,MERGED,2022-03-15 11:18:18.000000000,2022-05-04 18:59:51.000000000,2022-05-04 18:58:47.000000000,"[{'_account_id': 4393}, {'_account_id': 8122}, {'_account_id': 9303}, {'_account_id': 22348}, {'_account_id': 32761}]","[{'number': 1, 'created': '2022-03-15 11:18:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance_store/commit/f27ebb4d49dc378b47c3ac682ad0c160a7247222', 'message': 'Add coverage for helper methods\n\nAdd coverage for helper methods like ``get_hash_str``,\n``_get_mount_path`` and ``_get_host_ip``.\n\nChange-Id: Idb232f2d7b0f74e9c65e42955c767fb7bb6ae004\n'}, {'number': 2, 'created': '2022-03-17 10:39:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance_store/commit/7c22039858a5a3045adae149d55138bbfbe6dd2f', 'message': 'Add coverage for helper methods\n\nAdd coverage for helper methods like ``get_hash_str``,\n``_get_mount_path`` and ``_get_host_ip``.\n\nChange-Id: Idb232f2d7b0f74e9c65e42955c767fb7bb6ae004\n'}, {'number': 3, 'created': '2022-03-22 09:08:05.000000000', 'files': ['glance_store/tests/unit/test_cinder_base.py'], 'web_link': 'https://opendev.org/openstack/glance_store/commit/e5a3c9eefa83f173f12ee38804207e94bbdfa544', 'message': 'Add coverage for helper methods\n\nAdd coverage for helper methods like ``get_hash_str``,\n``_get_mount_path`` and ``_get_host_ip``.\n\nChange-Id: Idb232f2d7b0f74e9c65e42955c767fb7bb6ae004\n'}]",8,833767,e5a3c9eefa83f173f12ee38804207e94bbdfa544,19,5,3,27615,,,0,"Add coverage for helper methods

Add coverage for helper methods like ``get_hash_str``,
``_get_mount_path`` and ``_get_host_ip``.

Change-Id: Idb232f2d7b0f74e9c65e42955c767fb7bb6ae004
",git fetch https://review.opendev.org/openstack/glance_store refs/changes/67/833767/1 && git format-patch -1 --stdout FETCH_HEAD,['glance_store/tests/unit/test_cinder_base.py'],1,f27ebb4d49dc378b47c3ac682ad0c160a7247222,improve-coverage-cinder-store," def test_get_hash_str(self): test_str = 'test_str' with mock.patch.object(cinder.hashlib, 'sha256') as fake_hashlib: self.store.get_hash_str(test_str) test_str = test_str.encode('utf-8') fake_hashlib.assert_called_once_with(test_str) def test__get_mount_path(self): fake_hex = 'fake_hex_digest' fake_share = 'fake_share' fake_path = 'fake_mount_path' expected_path = os.path.join(fake_path, fake_hex) with mock.patch.object(self.store, 'get_hash_str') as fake_hash: fake_hash.return_value = fake_hex res = self.store._get_mount_path(fake_share, fake_path) self.assertEqual(expected_path, res) def test__get_host_ip_v6(self): fake_ipv6 = '2001:0db8:85a3:0000:0000:8a2e:0370' fake_socket_return = [[0, 1, 2, 3, [fake_ipv6]]] with mock.patch.object(cinder.socket, 'getaddrinfo') as fake_socket: fake_socket.return_value = fake_socket_return res = self.store._get_host_ip('fake_host') self.assertEqual(fake_ipv6, res) def test__get_host_ip_v4(self): fake_ip = '127.0.0.1' fake_socket_return = [[0, 1, 2, 3, [fake_ip]]] with mock.patch.object(cinder.socket, 'getaddrinfo') as fake_socket: fake_socket.side_effect = [socket.gaierror, fake_socket_return] res = self.store._get_host_ip('fake_host') self.assertEqual(fake_ip, res)",,33,0
openstack%2Fansible-collections-openstack~stable%2F1.0.0~I15895231aa5a438b9c0539c21c2bd80abbd9265b,openstack/ansible-collections-openstack,stable/1.0.0,I15895231aa5a438b9c0539c21c2bd80abbd9265b,[DNM] zuul branch test 2,ABANDONED,2022-05-04 13:57:42.000000000,2022-05-04 18:52:58.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-05-04 13:57:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/be43306f269797628977cabdb447bbe84d38e7bc', 'message': '[DNM] zuul branch test 2\n\nChange-Id: I15895231aa5a438b9c0539c21c2bd80abbd9265b\n'}, {'number': 2, 'created': '2022-05-04 13:58:27.000000000', 'files': ['.zuul.yaml', 'plugins/modules/server.py'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/dba26602ff9854f9391d4fb6d8d30a40c907e29c', 'message': '[DNM] zuul branch test 2\n\nChange-Id: I15895231aa5a438b9c0539c21c2bd80abbd9265b\n'}]",0,840490,dba26602ff9854f9391d4fb6d8d30a40c907e29c,4,1,2,32962,,,0,"[DNM] zuul branch test 2

Change-Id: I15895231aa5a438b9c0539c21c2bd80abbd9265b
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/90/840490/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'plugins/modules/server.py']",2,be43306f269797628977cabdb447bbe84d38e7bc,test2, return True # DNM this is a test to see if CI jobs are working,,13,695
openstack%2Fansible-collections-openstack~stable%2F1.0.0~I0f9f93fc41c5293dd2009ee334ec4151dc0e317f,openstack/ansible-collections-openstack,stable/1.0.0,I0f9f93fc41c5293dd2009ee334ec4151dc0e317f,[DNM] zuul branch test,ABANDONED,2022-05-04 13:28:52.000000000,2022-05-04 18:52:50.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-05-04 13:28:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/175967fc32d8d235033b62f8e5f8374d9ab8d86b', 'message': '[DNM] zuul branch test\n\nChange-Id: I0f9f93fc41c5293dd2009ee334ec4151dc0e317f\n'}, {'number': 2, 'created': '2022-05-04 13:31:09.000000000', 'files': ['.zuul.yaml', 'plugins/modules/server.py'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/064a4e95ba9e1a5d2e606c61dad9e6a706b49ae3', 'message': '[DNM] zuul branch test\n\nChange-Id: I0f9f93fc41c5293dd2009ee334ec4151dc0e317f\n'}]",1,840459,064a4e95ba9e1a5d2e606c61dad9e6a706b49ae3,6,1,2,32962,,,0,"[DNM] zuul branch test

Change-Id: I0f9f93fc41c5293dd2009ee334ec4151dc0e317f
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/59/840459/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'plugins/modules/server.py']",2,175967fc32d8d235033b62f8e5f8374d9ab8d86b,test, return True # DNM this is a test to see if CI jobs are working,,13,695
openstack%2Fcinder~stable%2Fxena~I216a82a29c7fb6b1b2fac95b2a1af667c4e2b22d,openstack/cinder,stable/xena,I216a82a29c7fb6b1b2fac95b2a1af667c4e2b22d,Handle the case when tempest fails,MERGED,2022-05-03 20:13:02.000000000,2022-05-04 18:43:32.000000000,2022-05-04 18:41:43.000000000,"[{'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-03 20:13:02.000000000', 'files': ['playbooks/tempest-and-cinderlib-run.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/6fb0d93b3c968ac86ac7910d46b9311ae905a67d', 'message': 'Handle the case when tempest fails\n\nBefore this change, the errors from tempest run are suppressed\nin order to always execute cinderlib tests.\n\nUse the variable exported by run-tempest instead,\nand fail properly if needed.\n\nThis is a port of Ic1fd6fcc9b9183f195c66f0022e913ae9734c97b\nfrom cinder-tempest-plugin.git to this repository.\n\nChange-Id: I216a82a29c7fb6b1b2fac95b2a1af667c4e2b22d\n(cherry picked from commit 7e04b5b0d4c91df7601e8e7f36d49fb6d651ea2b)\n(cherry picked from commit 391f7c7f9bd395b1dafdd4fcc4c118fbe4dd0f77)\n'}]",3,840375,6fb0d93b3c968ac86ac7910d46b9311ae905a67d,23,3,1,10459,,,0,"Handle the case when tempest fails

Before this change, the errors from tempest run are suppressed
in order to always execute cinderlib tests.

Use the variable exported by run-tempest instead,
and fail properly if needed.

This is a port of Ic1fd6fcc9b9183f195c66f0022e913ae9734c97b
from cinder-tempest-plugin.git to this repository.

Change-Id: I216a82a29c7fb6b1b2fac95b2a1af667c4e2b22d
(cherry picked from commit 7e04b5b0d4c91df7601e8e7f36d49fb6d651ea2b)
(cherry picked from commit 391f7c7f9bd395b1dafdd4fcc4c118fbe4dd0f77)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/75/840375/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/tempest-and-cinderlib-run.yaml'],1,6fb0d93b3c968ac86ac7910d46b9311ae905a67d,fix-reporting," # ignore the errors here (but consider them later), so that run-cinderlib-tests is always executed post_tasks: - name: Fail if the first tempest run did not work fail: msg: ""tempest run returned with an error"" when: tempest_run_result is defined and tempest_run_result.rc != 0"," # ignore the errors, so that run-cinderlib-tests is always executed",6,1
openstack%2Fneutron~stable%2Fxena~Ib62c049cc521a548ab7e7e9584b19bdaa67b1c9d,openstack/neutron,stable/xena,Ib62c049cc521a548ab7e7e9584b19bdaa67b1c9d,Use monkey_patch for neutron API server.,MERGED,2022-05-04 07:30:24.000000000,2022-05-04 18:25:18.000000000,2022-05-04 18:23:32.000000000,"[{'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-04 07:30:24.000000000', 'files': ['neutron/server/api_eventlet.py', 'neutron/cmd/eventlet/server/__init__.py', 'neutron/server/__init__.py', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/neutron/commit/985257e1a3ae4673dd2ef49858131cbd0fde70b7', 'message': ""Use monkey_patch for neutron API server.\n\nNeutron API server was not using eventlet monkey patch\nthus eventlet threads couldn't be properly yielded.\n\nThis patch set API neutron server like other monkey patched\nneutron services: neutron-server and neutron-rpc-server.\n\nNOTE: this change needs apache service restart. Apache\nmod_wsgi auto reload can lead to SSL RecursionError.\n\nCo-Authored-By: Szymon Wroblewski <szymon.wroblewski@ovhcloud.com>\nCloses-Bug: 1970216\nChange-Id: Ib62c049cc521a548ab7e7e9584b19bdaa67b1c9d\n(cherry picked from commit dcbc4beb9e8e9b2695fa76015a33f651f904f280)\n""}]",0,840424,985257e1a3ae4673dd2ef49858131cbd0fde70b7,10,3,1,16688,,,0,"Use monkey_patch for neutron API server.

Neutron API server was not using eventlet monkey patch
thus eventlet threads couldn't be properly yielded.

This patch set API neutron server like other monkey patched
neutron services: neutron-server and neutron-rpc-server.

NOTE: this change needs apache service restart. Apache
mod_wsgi auto reload can lead to SSL RecursionError.

Co-Authored-By: Szymon Wroblewski <szymon.wroblewski@ovhcloud.com>
Closes-Bug: 1970216
Change-Id: Ib62c049cc521a548ab7e7e9584b19bdaa67b1c9d
(cherry picked from commit dcbc4beb9e8e9b2695fa76015a33f651f904f280)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/24/840424/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/server/api_eventlet.py', 'neutron/cmd/eventlet/server/__init__.py', 'neutron/server/__init__.py', 'setup.cfg']",4,985257e1a3ae4673dd2ef49858131cbd0fde70b7,bug/1970216, neutron-api = neutron.cmd.eventlet.server:main_api_eventlet, neutron-api = neutron.server:get_application,32,9
openstack%2Fneutron~stable%2Fyoga~Ib62c049cc521a548ab7e7e9584b19bdaa67b1c9d,openstack/neutron,stable/yoga,Ib62c049cc521a548ab7e7e9584b19bdaa67b1c9d,Use monkey_patch for neutron API server.,MERGED,2022-05-04 07:32:52.000000000,2022-05-04 18:25:17.000000000,2022-05-04 18:23:26.000000000,"[{'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-04 07:32:52.000000000', 'files': ['neutron/server/api_eventlet.py', 'neutron/cmd/eventlet/server/__init__.py', 'neutron/server/__init__.py', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/neutron/commit/609508b7b946428c87f602258a6692a3b43076dc', 'message': ""Use monkey_patch for neutron API server.\n\nNeutron API server was not using eventlet monkey patch\nthus eventlet threads couldn't be properly yielded.\n\nThis patch set API neutron server like other monkey patched\nneutron services: neutron-server and neutron-rpc-server.\n\nNOTE: this change needs apache service restart. Apache\nmod_wsgi auto reload can lead to SSL RecursionError.\n\nCo-Authored-By: Szymon Wroblewski <szymon.wroblewski@ovhcloud.com>\nCloses-Bug: 1970216\nChange-Id: Ib62c049cc521a548ab7e7e9584b19bdaa67b1c9d\n(cherry picked from commit dcbc4beb9e8e9b2695fa76015a33f651f904f280)\n""}]",1,840425,609508b7b946428c87f602258a6692a3b43076dc,10,3,1,16688,,,0,"Use monkey_patch for neutron API server.

Neutron API server was not using eventlet monkey patch
thus eventlet threads couldn't be properly yielded.

This patch set API neutron server like other monkey patched
neutron services: neutron-server and neutron-rpc-server.

NOTE: this change needs apache service restart. Apache
mod_wsgi auto reload can lead to SSL RecursionError.

Co-Authored-By: Szymon Wroblewski <szymon.wroblewski@ovhcloud.com>
Closes-Bug: 1970216
Change-Id: Ib62c049cc521a548ab7e7e9584b19bdaa67b1c9d
(cherry picked from commit dcbc4beb9e8e9b2695fa76015a33f651f904f280)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/25/840425/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/server/api_eventlet.py', 'neutron/cmd/eventlet/server/__init__.py', 'neutron/server/__init__.py', 'setup.cfg']",4,609508b7b946428c87f602258a6692a3b43076dc,bug/1970216, neutron-api = neutron.cmd.eventlet.server:main_api_eventlet, neutron-api = neutron.server:get_application,32,9
openstack%2Fcinder~master~I3e17c6a2a7f252a9d324a1fea616e22869e55702,openstack/cinder,master,I3e17c6a2a7f252a9d324a1fea616e22869e55702,Add REIMAGE_VOLUME message action,MERGED,2022-04-12 08:50:00.000000000,2022-05-04 18:22:33.000000000,2022-04-29 16:51:28.000000000,"[{'_account_id': 5314}, {'_account_id': 20813}, {'_account_id': 22348}, {'_account_id': 27615}]","[{'number': 1, 'created': '2022-04-12 08:50:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/530f812fe8237f5be9342673b2771318f4e84f52', 'message': ""Add REIMAGE_VOLUME\n\nmessage_field.Action.REIMAGE_VOLUME doesn't exist. This patch adds the REIMAGE_VOLUME.\n\nCloses-Bug: #1968170\nChange-Id: I3e17c6a2a7f252a9d324a1fea616e22869e55702\n""}, {'number': 2, 'created': '2022-04-24 08:07:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/eb96eb7fb3654c67d410ed73b59c9b53fed80218', 'message': 'Add REIMAGE_VOLUME\n\nmessage_field.Action.REIMAGE_VOLUME doesn\'t exist. This patch adds the REIMAGE_VOLUME.\n\nThe content of message_field.Detail.NOTIFY_COMPUTE_SERVICE_FAILED is ""Compute service failed to extend volume"".\nThis message should be ""Compute service failed to reimage volume"". This patch adds the new REIMAGE_VOLUME_FAILED for this message.\n\nCloses-Bug: #1968170\nChange-Id: I3e17c6a2a7f252a9d324a1fea616e22869e55702\n'}, {'number': 3, 'created': '2022-04-25 01:47:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/2a735a40276d9df8dd40d650f7a1cfb492491e36', 'message': 'Add REIMAGE_VOLUME\n\nmessage_field.Action.REIMAGE_VOLUME doesn\'t exist. This patch adds the REIMAGE_VOLUME.\n\nThe content of message_field.Detail.NOTIFY_COMPUTE_SERVICE_FAILED is ""Compute service failed to extend volume"".\nThis message should be ""Compute service failed to reimage volume"". This patch adds the new REIMAGE_VOLUME_FAILED for this message.\n\nCloses-Bug: #1968170\nChange-Id: I3e17c6a2a7f252a9d324a1fea616e22869e55702\n'}, {'number': 4, 'created': '2022-04-27 09:57:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/3e6e47e142372a013ba564e163c93fda40076509', 'message': 'Add REIMAGE_VOLUME\n\nmessage_field.Action.REIMAGE_VOLUME doesn\'t exist. This patch adds the REIMAGE_VOLUME.\n\nThe content of message_field.Detail.NOTIFY_COMPUTE_SERVICE_FAILED is ""Compute service failed to extend volume"".\nThis message should be ""Compute service failed to reimage volume"". This patch adds the new REIMAGE_VOLUME_FAILED for this message.\n\nCloses-Bug: #1968170\nChange-Id: I3e17c6a2a7f252a9d324a1fea616e22869e55702\n'}, {'number': 5, 'created': '2022-04-28 06:49:12.000000000', 'files': ['cinder/message/message_field.py', 'cinder/compute/nova.py', 'cinder/tests/unit/compute/test_nova.py', 'releasenotes/notes/bug-1968170-add-parameters-used-in-reimage-volume-48d5b8008ec82ea6.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/998a654d7e46cee94a7747c608ea3dd2465a613d', 'message': 'Add REIMAGE_VOLUME message action\n\nmessage_field.Action.REIMAGE_VOLUME doesn\'t exist. This patch adds the REIMAGE_VOLUME.\n\nThe content of message_field.Detail.NOTIFY_COMPUTE_SERVICE_FAILED is ""Compute service failed to extend volume"".\nThis message should be ""Compute service failed to reimage volume"". This patch adds the new REIMAGE_VOLUME_FAILED detail parameter for this message.\n\nCloses-Bug: #1968170\nChange-Id: I3e17c6a2a7f252a9d324a1fea616e22869e55702\n'}]",17,837502,998a654d7e46cee94a7747c608ea3dd2465a613d,129,4,5,34642,,,0,"Add REIMAGE_VOLUME message action

message_field.Action.REIMAGE_VOLUME doesn't exist. This patch adds the REIMAGE_VOLUME.

The content of message_field.Detail.NOTIFY_COMPUTE_SERVICE_FAILED is ""Compute service failed to extend volume"".
This message should be ""Compute service failed to reimage volume"". This patch adds the new REIMAGE_VOLUME_FAILED detail parameter for this message.

Closes-Bug: #1968170
Change-Id: I3e17c6a2a7f252a9d324a1fea616e22869e55702
",git fetch https://review.opendev.org/openstack/cinder refs/changes/02/837502/2 && git format-patch -1 --stdout FETCH_HEAD,['cinder/message/message_field.py'],1,530f812fe8237f5be9342673b2771318f4e84f52,bug/1968170," REIMAGE_VOLUME = ('016', _('reimage volume')) REIMAGE_VOLUME,",,2,0
openstack%2Fironic-python-agent~stable%2Fyoga~I41ffe4f8e4c6e43182090b5aa2a2b4b34f32efd5,openstack/ironic-python-agent,stable/yoga,I41ffe4f8e4c6e43182090b5aa2a2b4b34f32efd5,Use a pre-defined partition UUID to detect configdrive on GPT,MERGED,2022-05-04 12:55:18.000000000,2022-05-04 18:14:35.000000000,2022-05-04 18:13:21.000000000,"[{'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2022-05-04 12:55:18.000000000', 'files': ['ironic_python_agent/tests/unit/test_partition_utils.py', 'releasenotes/notes/configdrive-partuuid-3259cfb7428c1483.yaml', 'ironic_python_agent/partition_utils.py'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/02c0183edc3ab354269bebf4c31808ad29dfd8fb', 'message': 'Use a pre-defined partition UUID to detect configdrive on GPT\n\nUsing partition numbers is currently broken for devicemapper devices.\nFortunately, GPT has partition UUIDs, so we can just generate one and\nuse it for lookup.\n\nChange-Id: I41ffe4f8e4c6e43182090b5aa2a2b4b34f32efd5\n(cherry picked from commit 65c4de903a2d8059b1520b0102235b6700287f87)\n'}]",0,840347,02c0183edc3ab354269bebf4c31808ad29dfd8fb,8,3,1,10239,,,0,"Use a pre-defined partition UUID to detect configdrive on GPT

Using partition numbers is currently broken for devicemapper devices.
Fortunately, GPT has partition UUIDs, so we can just generate one and
use it for lookup.

Change-Id: I41ffe4f8e4c6e43182090b5aa2a2b4b34f32efd5
(cherry picked from commit 65c4de903a2d8059b1520b0102235b6700287f87)
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/47/840347/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_python_agent/tests/unit/test_partition_utils.py', 'releasenotes/notes/configdrive-partuuid-3259cfb7428c1483.yaml', 'ironic_python_agent/partition_utils.py']",3,02c0183edc3ab354269bebf4c31808ad29dfd8fb,configdrive-partuuid-stable/yoga,"from oslo_utils import uuidutils part_uuid = None if disk_utils.get_partition_table_type(device) == 'gpt': part_uuid = uuidutils.generate_uuid() uuid_option = '0:%s' % part_uuid utils.execute('sgdisk', '-n', create_option, '-u', uuid_option, device, cur_parts = set(part['number'] for part in disk_utils.list_partitions(device)) if part_uuid is None: new_parts = {part['number']: part for part in disk_utils.list_partitions(device)} new_part = set(new_parts) - set(cur_parts) if len(new_part) != 1: raise exception.InstanceDeployFailure( 'Disk partitioning failed on device %(device)s. ' 'Unable to retrieve config drive partition ' 'information.' % {'device': device}) config_drive_part = disk_utils.partition_index_to_path( device, new_part.pop()) else: try: config_drive_part = get_partition(device, part_uuid) except errors.DeviceNotFound: msg = ('Failed to create config drive on disk %(disk)s ' 'for node %(node)s. Partition with UUID %(uuid)s ' 'has not been found after creation.') % { 'disk': device, 'node': node_uuid, 'uuid': part_uuid} LOG.error(msg) raise exception.InstanceDeployFailure(msg)"," cur_parts = set(part['number'] for part in disk_utils.list_partitions(device)) if disk_utils.get_partition_table_type(device) == 'gpt': utils.execute('sgdisk', '-n', create_option, device, upd_parts = set(part['number'] for part in disk_utils.list_partitions(device)) new_part = set(upd_parts) - set(cur_parts) if len(new_part) != 1: raise exception.InstanceDeployFailure( 'Disk partitioning failed on device %(device)s. ' 'Unable to retrieve config drive partition information.' % {'device': device}) config_drive_part = disk_utils.partition_index_to_path( device, new_part.pop())",55,38
openstack%2Fvitrage-dashboard~master~I98bcf28d6a82af7f08978fdecb7f5dc7d02e3972,openstack/vitrage-dashboard,master,I98bcf28d6a82af7f08978fdecb7f5dc7d02e3972,Address RemovedInDjango40Warning,MERGED,2022-04-29 11:14:53.000000000,2022-05-04 17:59:41.000000000,2022-05-04 17:58:25.000000000,"[{'_account_id': 19134}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-29 11:14:53.000000000', 'files': ['vitrage_dashboard/admin_entities/urls.py', 'vitrage_dashboard/admin_dashboard/urls.py', 'vitrage_dashboard/dashboard/urls.py', 'vitrage_dashboard/admin_alarms/urls.py', 'vitrage_dashboard/entities/urls.py', 'vitrage_dashboard/admin_templates/urls.py', 'vitrage_dashboard/templates/urls.py', 'vitrage_dashboard/alarms/urls.py'], 'web_link': 'https://opendev.org/openstack/vitrage-dashboard/commit/d2eec6e273f1e1e754b184542e8e5d3859706962', 'message': 'Address RemovedInDjango40Warning\n\nIn Django 3.1, django.conf.urls.url() is deprecated\nin favor of django.urls.re_path(). For more info see [1]\nThese were already replaced in Horizon repo by [2].\n\n[1] https://docs.djangoproject.com/en/4.0/releases/3.1/#id2\n[2] https://review.opendev.org/c/openstack/horizon/+/827093\n\nChange-Id: I98bcf28d6a82af7f08978fdecb7f5dc7d02e3972\n'}]",0,839901,d2eec6e273f1e1e754b184542e8e5d3859706962,7,2,1,29313,,,0,"Address RemovedInDjango40Warning

In Django 3.1, django.conf.urls.url() is deprecated
in favor of django.urls.re_path(). For more info see [1]
These were already replaced in Horizon repo by [2].

[1] https://docs.djangoproject.com/en/4.0/releases/3.1/#id2
[2] https://review.opendev.org/c/openstack/horizon/+/827093

Change-Id: I98bcf28d6a82af7f08978fdecb7f5dc7d02e3972
",git fetch https://review.opendev.org/openstack/vitrage-dashboard refs/changes/01/839901/1 && git format-patch -1 --stdout FETCH_HEAD,"['vitrage_dashboard/admin_entities/urls.py', 'vitrage_dashboard/admin_dashboard/urls.py', 'vitrage_dashboard/dashboard/urls.py', 'vitrage_dashboard/admin_alarms/urls.py', 'vitrage_dashboard/entities/urls.py', 'vitrage_dashboard/admin_templates/urls.py', 'vitrage_dashboard/templates/urls.py', 'vitrage_dashboard/alarms/urls.py']",8,d2eec6e273f1e1e754b184542e8e5d3859706962,,"from django.urls import re_path re_path(r'^$', views.IndexView.as_view(), name='index'),","from django.conf.urls import url url(r'^$', views.IndexView.as_view(), name='index'),",16,16
openstack%2Fpuppet-nova~master~Ifd9f676d1285c209feb89d87779b82f753307148,openstack/puppet-nova,master,Ifd9f676d1285c209feb89d87779b82f753307148,Allow os-brick logging configuration,ABANDONED,2020-12-14 09:08:49.000000000,2022-05-04 17:43:31.000000000,,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 9414}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 17216}, {'_account_id': 22348}, {'_account_id': 27419}]","[{'number': 1, 'created': '2020-12-14 09:08:49.000000000', 'files': ['manifests/logging.pp', 'templates/logging.conf.erb'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/576bf9115249c7870217f4ab9ee56c8e3916e765', 'message': 'Allow os-brick logging configuration\n\nAt present os-brick will log at the level configured by nova\nin nova.conf, which can result in important messages not being\nlogged during volume attach/detach by nova-compute.\n\nThis change adds ``os_brick_log_level`` to allow os-brick to log\nat different level then nova and is default to DEBUG level.\n\nChange-Id: Ifd9f676d1285c209feb89d87779b82f753307148\n'}]",4,766899,576bf9115249c7870217f4ab9ee56c8e3916e765,5,8,1,20733,,,0,"Allow os-brick logging configuration

At present os-brick will log at the level configured by nova
in nova.conf, which can result in important messages not being
logged during volume attach/detach by nova-compute.

This change adds ``os_brick_log_level`` to allow os-brick to log
at different level then nova and is default to DEBUG level.

Change-Id: Ifd9f676d1285c209feb89d87779b82f753307148
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/99/766899/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/logging.pp', 'templates/logging.conf.erb']",2,576bf9115249c7870217f4ab9ee56c8e3916e765,os_log_debug,"[loggers] keys = root, nova, os_brick [handlers] keys = stderr, null [formatters] keys = context, default [logger_root] level = WARNING handlers = null [logger_nova] level = <%= @debug %> handlers = stderr qualname = nova [logger_os_brick] level = <%= @os_brick_log_level %> handlers = stderr qualname = os_brick [handler_null] class = logging.NullHandler args = (sys.stderr,) formatter = context [handler_stderr] class = StreamHandler args = (sys.stderr,) formatter = context [formatter_context] class = oslo_log.formatter.ContextFormatter [formatter_default] format = %(message)s ",,52,0
openstack%2Fpuppet-nova~stable%2Fussuri~Ifba4f0738113341db54d1abd9919bc8c2327961b,openstack/puppet-nova,stable/ussuri,Ifba4f0738113341db54d1abd9919bc8c2327961b,Add snapshorts directory config option,ABANDONED,2020-11-03 12:51:46.000000000,2022-05-04 17:43:12.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-11-03 12:51:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/a01e332a4fa2f0d3dadb8150d80ebfaa7a969972', 'message': 'Add snapshorts directory config option\n\nChange-Id: Ifba4f0738113341db54d1abd9919bc8c2327961b\n(cherry picked from commit ea62370b1eebb34ba27e204973c5e07d7b1ab0f8)\n'}, {'number': 2, 'created': '2020-11-11 11:26:58.000000000', 'files': ['releasenotes/notes/add_snapshots_directory_option-f67c0b93bb6b6d38.yaml', 'spec/classes/nova_compute_libvirt_spec.rb', 'manifests/compute/libvirt.pp'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/2d22a69d60a3c98ec0f206acdaa7546149c58b64', 'message': 'Add snapshorts directory config option\n\nChange-Id: Ifba4f0738113341db54d1abd9919bc8c2327961b\n(cherry picked from commit ea62370b1eebb34ba27e204973c5e07d7b1ab0f8)\n(cherry picked from commit c20b00585725a8add0d61ff7b3ba2d5def58ffb4)\n'}]",0,761135,2d22a69d60a3c98ec0f206acdaa7546149c58b64,7,1,2,26721,,,0,"Add snapshorts directory config option

Change-Id: Ifba4f0738113341db54d1abd9919bc8c2327961b
(cherry picked from commit ea62370b1eebb34ba27e204973c5e07d7b1ab0f8)
(cherry picked from commit c20b00585725a8add0d61ff7b3ba2d5def58ffb4)
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/35/761135/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/add_snapshots_directory_option-f67c0b93bb6b6d38.yaml', 'spec/classes/nova_compute_libvirt_spec.rb', 'manifests/compute/libvirt.pp']",3,a01e332a4fa2f0d3dadb8150d80ebfaa7a969972,backport,"# [*snapshots_directory*] # (optional) Location where libvirt driver will store snapshots before # uploading them to image service # Defaults to $::os_service_default # $snapshots_directory = $::os_service_default, 'libvirt/snapshots_directory': value => $snapshots_directory;",,15,0
openstack%2Fpuppet-nova~stable%2Fussuri~I61d81667e4c58b62c453e37072d9aef461923b46,openstack/puppet-nova,stable/ussuri,I61d81667e4c58b62c453e37072d9aef461923b46,Add support for image_cache options,ABANDONED,2020-10-19 03:20:15.000000000,2022-05-04 17:43:06.000000000,,"[{'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 26721}]","[{'number': 1, 'created': '2020-10-19 03:20:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/004de46aea732e3423cfdf9faa2836a2048ba680', 'message': 'Add support for image_cache options\n\nThis patch introduces a new class named nova::compute::image_cache,\nto support parameters in image_cache sections, which were recently\nadded into nova[1].\n\n[1] 828e8047e5c8651ea757bda7922670889d5e8818\n\nChange-Id: I61d81667e4c58b62c453e37072d9aef461923b46\n'}, {'number': 2, 'created': '2020-11-03 03:59:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/6ab348edc288009a0ef0563f959df30c82efd7e3', 'message': 'Add support for image_cache options\n\nThis patch introduces a new class named nova::compute::image_cache,\nto support parameters in image_cache sections, which were recently\nadded into nova[1].\n\n[1] 828e8047e5c8651ea757bda7922670889d5e8818\n\nChange-Id: I61d81667e4c58b62c453e37072d9aef461923b46\n'}, {'number': 3, 'created': '2020-11-03 11:06:30.000000000', 'files': ['spec/classes/nova_compute_libvirt_spec.rb', 'spec/classes/nova_compute_image_cache_spec.rb', 'releasenotes/notes/compute-image_cache-11d66c225ce11596.yaml', 'manifests/compute/image_cache.pp', 'manifests/compute/libvirt.pp'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/8b6a69d502e011feb5465974c1bdf37e0ff06420', 'message': 'Add support for image_cache options\n\nThis patch introduces a new class named nova::compute::image_cache,\nto support parameters in image_cache sections, which were recently\nadded into nova[1].\n\n[1] 828e8047e5c8651ea757bda7922670889d5e8818\n\nChange-Id: I61d81667e4c58b62c453e37072d9aef461923b46\n'}]",0,758696,8b6a69d502e011feb5465974c1bdf37e0ff06420,9,3,3,26721,,,0,"Add support for image_cache options

This patch introduces a new class named nova::compute::image_cache,
to support parameters in image_cache sections, which were recently
added into nova[1].

[1] 828e8047e5c8651ea757bda7922670889d5e8818

Change-Id: I61d81667e4c58b62c453e37072d9aef461923b46
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/96/758696/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/nova_compute_libvirt_spec.rb', 'spec/classes/nova_compute_image_cache_spec.rb', 'releasenotes/notes/compute-image_cache-11d66c225ce11596.yaml', 'manifests/compute/image_cache.pp', 'manifests/compute/libvirt.pp']",5,004de46aea732e3423cfdf9faa2836a2048ba680,backport,"# # DEPRECATED PARAMETERS # # [*remove_unused_base_images*] # (optional) Should unused base images be removed? # If undef is specified, remove the line in nova.conf # otherwise, use a boolean to remove or not the base images. # Defaults to undef # # [*remove_unused_resized_minimum_age_seconds*] # (optional) Unused resized base images younger # than this will not be removed # If undef is specified, remove the line in nova.conf # otherwise, use a integer or a string to define after # how many seconds it will be removed. # Defaults to undef # # [*remove_unused_original_minimum_age_seconds*] # (optional) Unused unresized base images younger # than this will not be removed # If undef is specified, remove the line in nova.conf # otherwise, use a integer or a string to define after # how many seconds it will be removed. # Defaults to undef # # DEPRECATED PARAMETERS $remove_unused_base_images = undef, $remove_unused_resized_minimum_age_seconds = undef, $remove_unused_original_minimum_age_seconds = undef, if $remove_unused_base_images != undef { warning('The remove_unused_base_images parameter was deprecated and \ will be removed in a future release. Use the nova::compute::image_cache class') } if $remove_unused_resized_minimum_age_seconds != undef { warning('The remove_unused_resized_minimum_age_seconds parameter was deprecated and \ will be removed in a future release. Use the nova::compute::image_cache class') } if $remove_unused_original_minimum_age_seconds != undef { warning('The remove_unused_original_minimum_age_seconds parameter was deprecated and \ will be removed in a future release. Use the nova::compute::image_cache class') } # TODO(tkajinam): Remove this when removing deprecated image cache parameters include nova::compute::image_cache # Cleanup deprecated image cache parameters nova_config { 'DEFAULT/remove_unused_base_images': ensure => 'absent'; 'DEFAULT/remove_unused_original_minimum_age_seconds': ensure => 'absent'; 'libvirt/remove_unused_resize_minimum_age_seconds': ensure => 'absent'; } ","# [*remove_unused_base_images*] # (optional) Should unused base images be removed? # If undef is specified, remove the line in nova.conf # otherwise, use a boolean to remove or not the base images. # Defaults to undef # # [*remove_unused_resized_minimum_age_seconds*] # (optional) Unused resized base images younger # than this will not be removed # If undef is specified, remove the line in nova.conf # otherwise, use a integer or a string to define after # how many seconds it will be removed. # Defaults to undef # # [*remove_unused_original_minimum_age_seconds*] # (optional) Unused unresized base images younger # than this will not be removed # If undef is specified, remove the line in nova.conf # otherwise, use a integer or a string to define after # how many seconds it will be removed. # Defaults to undef # $remove_unused_base_images = undef, $remove_unused_resized_minimum_age_seconds = undef, $remove_unused_original_minimum_age_seconds = undef, if $remove_unused_resized_minimum_age_seconds != undef { nova_config { 'libvirt/remove_unused_resized_minimum_age_seconds': value => $remove_unused_resized_minimum_age_seconds; } } else { nova_config { 'libvirt/remove_unused_resized_minimum_age_seconds': ensure => absent; } } if $remove_unused_base_images != undef { nova_config { 'DEFAULT/remove_unused_base_images': value => $remove_unused_base_images; } } else { nova_config { 'DEFAULT/remove_unused_base_images': ensure => absent; } } if $remove_unused_original_minimum_age_seconds != undef { nova_config { 'DEFAULT/remove_unused_original_minimum_age_seconds': value => $remove_unused_original_minimum_age_seconds; } } else { nova_config { 'DEFAULT/remove_unused_original_minimum_age_seconds': ensure => absent; } }",183,65
openstack%2Fpuppet-openstack-integration~master~I9d666f0f0338bfc2ac1baba430b6d994815e321c,openstack/puppet-openstack-integration,master,I9d666f0f0338bfc2ac1baba430b6d994815e321c,WIP: add debian-buster non-voting job,ABANDONED,2020-05-26 15:23:57.000000000,2022-05-04 17:41:45.000000000,,"[{'_account_id': 6476}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-05-26 15:23:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/6a7280733cbfec60d0186220f54ae7074d6994a9', 'message': 'WIP: add debian-buster non-voting job\n\nChange-Id: I9d666f0f0338bfc2ac1baba430b6d994815e321c\n'}, {'number': 2, 'created': '2020-05-26 16:53:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/c35ab7547d783b2de680be9dfd9f1e29e9890f24', 'message': ""WIP: add debian-buster non-voting job\n\nThis patch\n- adds Debian as a non-voting job for scenario001\n- fixes debian-buster as the distro to use\n- makes it so puppet from puppetlabs isn't used in Debian\n(we use Debian's own packages instead)\n\nChange-Id: I9d666f0f0338bfc2ac1baba430b6d994815e321c\n""}, {'number': 3, 'created': '2020-05-26 17:20:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/3ba3a811f152ad176aaf9cbdd328fb77465f6e94', 'message': ""WIP: add debian-buster non-voting job\n\nThis patch\n- adds Debian as a non-voting job for scenario001\n- fixes debian-buster as the distro to use\n- makes it so puppet from puppetlabs isn't used in Debian\n(we use Debian's own packages instead)\n\nChange-Id: I9d666f0f0338bfc2ac1baba430b6d994815e321c\n""}, {'number': 4, 'created': '2020-05-27 09:43:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/f49acf9203560fd04aac89ce5b6feb6ec9773bc3', 'message': ""WIP: add debian-buster non-voting job\n\nThis patch\n- adds Debian as a non-voting job for scenario001.\n- fixes debian-buster as the distro to use.\n- makes it so puppet from puppetlabs isn't used in Debian\n(we use Debian's own packages instead).\n\nChange-Id: I9d666f0f0338bfc2ac1baba430b6d994815e321c\n""}, {'number': 5, 'created': '2020-05-27 09:55:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/ec55a68e36c27574f9d7dffb43f1d7d7dc420187', 'message': ""WIP: add debian-buster non-voting job\n\nThis patch\n- adds Debian as a non-voting job for scenario001.\n- fixes debian-buster as the distro to use.\n- makes it so puppet from puppetlabs isn't used in Debian\n(we use Debian's own packages instead).\n\nChange-Id: I9d666f0f0338bfc2ac1baba430b6d994815e321c\n""}, {'number': 6, 'created': '2020-05-27 19:32:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/cb8548f3dd6eb6972918b06e4347a2ef84d9f235', 'message': ""WIP: add debian-buster non-voting job\n\nThis patch\n- adds Debian as a non-voting job for scenario001.\n- fixes debian-buster as the distro to use.\n- makes it so puppet from puppetlabs isn't used in Debian\n(we use Debian's own packages instead).\n\nChange-Id: I9d666f0f0338bfc2ac1baba430b6d994815e321c\n""}, {'number': 7, 'created': '2020-05-27 20:35:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/e03b9d2699abd68ced94a0e0a73bb983e341724c', 'message': ""WIP: add debian-buster non-voting job\n\nThis patch\n- adds Debian as a non-voting job for scenario001.\n- fixes debian-buster as the distro to use.\n- makes it so puppet from puppetlabs isn't used in Debian\n(we use Debian's own packages instead).\n\nChange-Id: I9d666f0f0338bfc2ac1baba430b6d994815e321c\n""}, {'number': 8, 'created': '2020-05-27 21:40:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/37141602e901ef06b16548f2b6025547cdbeb835', 'message': ""WIP: add debian-buster non-voting job\n\nThis patch\n- adds Debian as a non-voting job for scenario001.\n- fixes debian-buster as the distro to use.\n- makes it so puppet from puppetlabs isn't used in Debian\n(we use Debian's own packages instead).\n\nChange-Id: I9d666f0f0338bfc2ac1baba430b6d994815e321c\nDepends-On: If1f43c3e5d64de3b0e520189e4342a47ff5a343d\n""}, {'number': 9, 'created': '2020-05-27 22:18:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/3ef0e5b5e3540e39548682563e801686b172ec16', 'message': ""WIP: add debian-buster non-voting job\n\nThis patch\n- adds Debian as a non-voting job for scenario001.\n- fixes debian-buster as the distro to use.\n- makes it so puppet from puppetlabs isn't used in Debian\n(we use Debian's own packages instead).\n\nChange-Id: I9d666f0f0338bfc2ac1baba430b6d994815e321c\nDepends-On: If1f43c3e5d64de3b0e520189e4342a47ff5a343d\n""}, {'number': 10, 'created': '2020-06-02 22:58:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/2413ccb6a18e0b44234e928740d506ef1a48a5c9', 'message': ""WIP: add debian-buster non-voting job\n\nThis patch\n- adds Debian as a non-voting job for scenario001.\n- fixes debian-buster as the distro to use.\n- makes it so puppet from puppetlabs isn't used in Debian\n(we use Debian's own packages instead).\n\nChange-Id: I9d666f0f0338bfc2ac1baba430b6d994815e321c\nDepends-On: If1f43c3e5d64de3b0e520189e4342a47ff5a343d\nDepends-On: Id86944b9733527c2cd29b2311eab93e2d1b2a09a\n""}, {'number': 11, 'created': '2020-06-05 10:50:50.000000000', 'files': ['run_tests.sh', 'functions', 'all-in-one.sh', 'zuul.d/integration.yaml', 'copy_logs.sh', 'zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/59c7502ee6171d0438f80342a39fe070e3a81349', 'message': ""WIP: add debian-buster non-voting job\n\nThis patch\n- adds Debian as a non-voting job for scenario001.\n- fixes debian-buster as the distro to use.\n- makes it so puppet from puppetlabs isn't used in Debian\n(we use Debian's own packages instead).\n\nChange-Id: I9d666f0f0338bfc2ac1baba430b6d994815e321c\nDepends-On: If1f43c3e5d64de3b0e520189e4342a47ff5a343d\nDepends-On: Id86944b9733527c2cd29b2311eab93e2d1b2a09a\n""}]",0,730851,59c7502ee6171d0438f80342a39fe070e3a81349,39,2,11,6476,,,0,"WIP: add debian-buster non-voting job

This patch
- adds Debian as a non-voting job for scenario001.
- fixes debian-buster as the distro to use.
- makes it so puppet from puppetlabs isn't used in Debian
(we use Debian's own packages instead).

Change-Id: I9d666f0f0338bfc2ac1baba430b6d994815e321c
Depends-On: If1f43c3e5d64de3b0e520189e4342a47ff5a343d
Depends-On: Id86944b9733527c2cd29b2311eab93e2d1b2a09a
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/51/730851/7 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/integration.yaml', 'zuul.d/layout.yaml']",2,6a7280733cbfec60d0186220f54ae7074d6994a9,add-debian-job, - puppet-openstack-integration-5-scenario001-tempest-debian-stable-luminous, - puppet-openstack-integration-5-scenario001-tempest-debian-stable-luminous,31,10
openstack%2Fpuppet-openstack-integration~master~If1f43c3e5d64de3b0e520189e4342a47ff5a343d,openstack/puppet-openstack-integration,master,If1f43c3e5d64de3b0e520189e4342a47ff5a343d,WIP: Switch to native uwsgi services in Debian,ABANDONED,2020-05-26 16:43:41.000000000,2022-05-04 17:41:39.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-05-26 16:43:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/3bcd2d6a78fb65b396d00c96871f205e05ae3201', 'message': ""Switch to native uwsgi services in Debian\n\nIn Debian, it's nicer to test under uwsgi than with Apache, as that's\nprobably how our final users will be running the services. Let's do\nthat in puppet-openstack-integration.\n\nChange-Id: If1f43c3e5d64de3b0e520189e4342a47ff5a343d\n""}, {'number': 2, 'created': '2020-05-26 20:32:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/0ca0df543b2815bd57e4b65b56dde47e8aa64fc8', 'message': ""Switch to native uwsgi services in Debian\n\nIn Debian, it's nicer to test under uwsgi than with Apache, as that's\nprobably how our final users will be running the services. Let's do\nthat in puppet-openstack-integration.\n\nChange-Id: If1f43c3e5d64de3b0e520189e4342a47ff5a343d\n""}, {'number': 3, 'created': '2020-05-27 10:12:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/823e2b366522ad853da416d6cd0793389bb722f2', 'message': ""Switch to native uwsgi services in Debian\n\nIn Debian, it's nicer to test under uwsgi than with Apache, as that's\nprobably how our final users will be running the services. Let's do\nthat in puppet-openstack-integration.\n\nChange-Id: If1f43c3e5d64de3b0e520189e4342a47ff5a343d\n""}, {'number': 4, 'created': '2020-05-27 11:01:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/c10ba2f94ec906336f1d4939925d8a44688e4928', 'message': ""Switch to native uwsgi services in Debian\n\nIn Debian, it's nicer to test under uwsgi than with Apache, as that's\nprobably how our final users will be running the services. Let's do\nthat in puppet-openstack-integration.\n\nChange-Id: If1f43c3e5d64de3b0e520189e4342a47ff5a343d\n""}, {'number': 5, 'created': '2020-05-27 11:48:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/d372b7088263c66d374ee9be92bb2bb476c9414b', 'message': ""Switch to native uwsgi services in Debian\n\nIn Debian, it's nicer to test under uwsgi than with Apache, as that's\nprobably how our final users will be running the services. Let's do\nthat in puppet-openstack-integration.\n\nChange-Id: If1f43c3e5d64de3b0e520189e4342a47ff5a343d\n""}, {'number': 6, 'created': '2020-05-27 13:25:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/a7b37cc4397cc26e95d7b85448ed992f2721294c', 'message': ""Switch to native uwsgi services in Debian\n\nIn Debian, it's nicer to test under uwsgi than with Apache, as that's\nprobably how our final users will be running the services. Let's do\nthat in puppet-openstack-integration.\n\nChange-Id: If1f43c3e5d64de3b0e520189e4342a47ff5a343d\n""}, {'number': 7, 'created': '2020-05-27 15:26:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/5a554ea7b4f4f5a999468499fae6fa5eb9a87778', 'message': ""Switch to native uwsgi services in Debian\n\nIn Debian, it's nicer to test under uwsgi than with Apache, as that's\nprobably how our final users will be running the services. Let's do\nthat in puppet-openstack-integration.\n\nChange-Id: If1f43c3e5d64de3b0e520189e4342a47ff5a343d\n""}, {'number': 8, 'created': '2020-05-27 15:27:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/a900c40dc51433b92102e48aec32463cc6f5b3a0', 'message': ""Switch to native uwsgi services in Debian\n\nIn Debian, it's nicer to test under uwsgi than with Apache, as that's\nprobably how our final users will be running the services. Let's do\nthat in puppet-openstack-integration.\n\nChange-Id: If1f43c3e5d64de3b0e520189e4342a47ff5a343d\n""}, {'number': 9, 'created': '2020-05-27 15:45:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/b2ae08a5f60b07a766f35959704260d0032b67e5', 'message': ""Switch to native uwsgi services in Debian\n\nIn Debian, it's nicer to test under uwsgi than with Apache, as that's\nprobably how our final users will be running the services. Since APIs\nare starting automatically, it also causes some scheduling problems to\nnot use uwsgi (as APIs already bind when Apache starts), for example,\nthere's such issue with nova-api-metadata.\n\nSo, let's switch to uwsgi for the Debian case in puppet-openstack-integration.\n\nThis patch also fixes a few API service scheduling issues, and the\ncreation of SSL certificates in Debian + UWSGI.\n\nChange-Id: If1f43c3e5d64de3b0e520189e4342a47ff5a343d\n""}, {'number': 10, 'created': '2020-05-27 17:20:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/a43a97748453e71842c0ca76c36bebef3f94adc2', 'message': ""Switch to native uwsgi services in Debian\n\nIn Debian, it's nicer to test under uwsgi than with Apache, as that's\nprobably how our final users will be running the services. Since APIs\nare starting automatically, it also causes some scheduling problems to\nnot use uwsgi (as APIs already bind when Apache starts), for example,\nthere's such issue with nova-api-metadata.\n\nSo, let's switch to uwsgi for the Debian case in puppet-openstack-integration.\n\nThis patch also fixes a few API service scheduling issues, and the\ncreation of SSL certificates in Debian + UWSGI.\n\nChange-Id: If1f43c3e5d64de3b0e520189e4342a47ff5a343d\n""}, {'number': 11, 'created': '2020-05-27 19:09:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/fd8458d7aede6369a9ef0a2a2c3abf170cfd56e1', 'message': ""Switch to native uwsgi services in Debian\n\nIn Debian, it's nicer to test under uwsgi than with Apache, as that's\nprobably how our final users will be running the services. Since APIs\nare starting automatically, it also causes some scheduling problems to\nnot use uwsgi (as APIs already bind when Apache starts), for example,\nthere's such issue with nova-api-metadata.\n\nSo, let's switch to uwsgi for the Debian case in puppet-openstack-integration.\n\nThis patch also fixes a few API service scheduling issues, and the\ncreation of SSL certificates in Debian + UWSGI.\n\nChange-Id: If1f43c3e5d64de3b0e520189e4342a47ff5a343d\n""}, {'number': 12, 'created': '2020-05-28 08:37:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/7122b5692462c7e1ca8776cd9ddc8be5769ead1c', 'message': ""Switch to native uwsgi services in Debian\n\nIn Debian, it's nicer to test under uwsgi than with Apache, as that's\nprobably how our final users will be running the services. Since APIs\nare starting automatically, it also causes some scheduling problems to\nnot use uwsgi (as APIs already bind when Apache starts), for example,\nthere's such issue with nova-api-metadata.\n\nSo, let's switch to uwsgi for the Debian case in puppet-openstack-integration.\n\nThis patch also fixes a few API service scheduling issues, and the\ncreation of SSL certificates in Debian + UWSGI.\n\nChange-Id: If1f43c3e5d64de3b0e520189e4342a47ff5a343d\n""}, {'number': 13, 'created': '2020-05-28 09:02:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/914f27c27da5a4720145f225d0f70776d3028ccf', 'message': ""Switch to native uwsgi services in Debian\n\nIn Debian, it's nicer to test under uwsgi than with Apache, as that's\nprobably how our final users will be running the services. Since APIs\nare starting automatically, it also causes some scheduling problems to\nnot use uwsgi (as APIs already bind when Apache starts), for example,\nthere's such issue with nova-api-metadata.\n\nSo, let's switch to uwsgi for the Debian case in puppet-openstack-integration.\n\nThis patch also fixes a few API service scheduling issues, and the\ncreation of SSL certificates in Debian + UWSGI.\n\nChange-Id: If1f43c3e5d64de3b0e520189e4342a47ff5a343d\n""}, {'number': 14, 'created': '2020-05-28 09:13:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/22323177d586bc70746d8f7d02e7c1c3b1b93670', 'message': ""Switch to native uwsgi services in Debian\n\nIn Debian, it's nicer to test under uwsgi than with Apache, as that's\nprobably how our final users will be running the services. Since APIs\nare starting automatically, it also causes some scheduling problems to\nnot use uwsgi (as APIs already bind when Apache starts), for example,\nthere's such issue with nova-api-metadata.\n\nSo, let's switch to uwsgi for the Debian case in puppet-openstack-integration.\n\nThis patch also fixes a few API service scheduling issues, and the\ncreation of SSL certificates in Debian + UWSGI.\n\nChange-Id: If1f43c3e5d64de3b0e520189e4342a47ff5a343d\n""}, {'number': 15, 'created': '2020-05-28 09:23:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/773f91c1edf635e2816c28b4f2f3511a8e372397', 'message': ""Switch to native uwsgi services in Debian\n\nIn Debian, it's nicer to test under uwsgi than with Apache, as that's\nprobably how our final users will be running the services. Since APIs\nare starting automatically, it also causes some scheduling problems to\nnot use uwsgi (as APIs already bind when Apache starts), for example,\nthere's such issue with nova-api-metadata.\n\nSo, let's switch to uwsgi for the Debian case in puppet-openstack-integration.\n\nThis patch also fixes a few API service scheduling issues, and the\ncreation of SSL certificates in Debian + UWSGI.\n\nChange-Id: If1f43c3e5d64de3b0e520189e4342a47ff5a343d\n""}, {'number': 16, 'created': '2020-05-28 12:37:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/3a4588b7236c199ad5e9bed7555bfd239a65d6fd', 'message': ""Switch to native uwsgi services in Debian\n\nIn Debian, it's nicer to test under uwsgi than with Apache, as that's\nprobably how our final users will be running the services. Since APIs\nare starting automatically, it also causes some scheduling problems to\nnot use uwsgi (as APIs already bind when Apache starts), for example,\nthere's such issue with nova-api-metadata.\n\nSo, let's switch to uwsgi for the Debian case in puppet-openstack-integration.\n\nThis patch also fixes a few API service scheduling issues, and the\ncreation of SSL certificates in Debian + UWSGI.\n\nChange-Id: If1f43c3e5d64de3b0e520189e4342a47ff5a343d\n""}, {'number': 17, 'created': '2020-05-28 12:48:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/a68a666dae34ca1092fe252ffd9d248019080914', 'message': ""Switch to native uwsgi services in Debian\n\nIn Debian, it's nicer to test under uwsgi than with Apache, as that's\nprobably how our final users will be running the services. Since APIs\nare starting automatically, it also causes some scheduling problems to\nnot use uwsgi (as APIs already bind when Apache starts), for example,\nthere's such issue with nova-api-metadata.\n\nSo, let's switch to uwsgi for the Debian case in puppet-openstack-integration.\n\nThis patch also fixes a few API service scheduling issues, and the\ncreation of SSL certificates in Debian + UWSGI.\n\nChange-Id: If1f43c3e5d64de3b0e520189e4342a47ff5a343d\n""}, {'number': 18, 'created': '2020-05-28 12:58:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/1f0d41766687639086acb7c60db15f9f21324708', 'message': ""Switch to native uwsgi services in Debian\n\nIn Debian, it's nicer to test under uwsgi than with Apache, as that's\nprobably how our final users will be running the services. Since APIs\nare starting automatically, it also causes some scheduling problems to\nnot use uwsgi (as APIs already bind when Apache starts), for example,\nthere's such issue with nova-api-metadata.\n\nSo, let's switch to uwsgi for the Debian case in puppet-openstack-integration.\n\nThis patch also fixes a few API service scheduling issues, and the\ncreation of SSL certificates in Debian + UWSGI.\n\nChange-Id: If1f43c3e5d64de3b0e520189e4342a47ff5a343d\n""}, {'number': 19, 'created': '2020-05-28 13:21:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/5969ec26b887bbd24b81e50fe1af2232d855d378', 'message': ""WIP: Switch to native uwsgi services in Debian\n\nDo not merge (yet).\n\nIn Debian, it's nicer to test under uwsgi than with Apache, as that's\nprobably how our final users will be running the services. Since APIs\nare starting automatically, it also causes some scheduling problems to\nnot use uwsgi (as APIs already bind when Apache starts), for example,\nthere's such issue with nova-api-metadata.\n\nSo, let's switch to uwsgi for the Debian case in puppet-openstack-integration.\n\nThis patch also fixes a few API service scheduling issues, and the\ncreation of SSL certificates in Debian + UWSGI.\n\nChange-Id: If1f43c3e5d64de3b0e520189e4342a47ff5a343d\n""}, {'number': 20, 'created': '2020-05-28 15:00:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/15a03a4cece6fc0090221624b0bd0fc139d4caf5', 'message': ""WIP: Switch to native uwsgi services in Debian\n\nDo not merge (yet).\n\nIn Debian, it's nicer to test under uwsgi than with Apache, as that's\nprobably how our final users will be running the services. Since APIs\nare starting automatically, it also causes some scheduling problems to\nnot use uwsgi (as APIs already bind when Apache starts), for example,\nthere's such issue with nova-api-metadata.\n\nSo, let's switch to uwsgi for the Debian case in puppet-openstack-integration.\n\nThis patch also fixes a few API service scheduling issues, and the\ncreation of SSL certificates in Debian + UWSGI.\n\nChange-Id: If1f43c3e5d64de3b0e520189e4342a47ff5a343d\n""}, {'number': 21, 'created': '2020-06-02 22:57:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/31099f745a6f887c6fdc6cd6f8d6e745e53a7e70', 'message': ""WIP: Switch to native uwsgi services in Debian\n\nDo not merge (yet).\n\nIn Debian, it's nicer to test under uwsgi than with Apache, as that's\nprobably how our final users will be running the services. Since APIs\nare starting automatically, it also causes some scheduling problems to\nnot use uwsgi (as APIs already bind when Apache starts), for example,\nthere's such issue with nova-api-metadata.\n\nSo, let's switch to uwsgi for the Debian case in puppet-openstack-integration.\n\nThis patch also fixes a few API service scheduling issues, and the\ncreation of SSL certificates in Debian + UWSGI.\n\nChange-Id: If1f43c3e5d64de3b0e520189e4342a47ff5a343d\n""}, {'number': 22, 'created': '2020-06-04 21:49:43.000000000', 'files': ['manifests/aodh.pp', 'manifests/ceilometer.pp', 'fixtures/scenario001.pp', 'fixtures/scenario003.pp', 'manifests/cinder.pp', 'manifests/keystone.pp', 'manifests/gnocchi.pp', 'manifests/ironic.pp', 'manifests/ssl_key.pp', 'manifests/swift.pp', 'manifests/params.pp', 'manifests/qdr.pp', 'manifests/zaqar.pp', 'manifests/panko.pp', 'manifests/placement.pp', 'manifests/repos.pp', 'fixtures/scenario002.pp', 'manifests/init.pp', 'manifests/nova.pp', 'manifests/ec2api.pp', 'manifests/neutron.pp', 'manifests/redis.pp', 'fixtures/scenario004.pp', 'manifests/barbican.pp'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/e1a587d43de202cbff7e3c0f62eb2aa67ebb893e', 'message': ""WIP: Switch to native uwsgi services in Debian\n\nDo not merge (yet).\n\nIn Debian, it's nicer to test under uwsgi than with Apache, as that's\nprobably how our final users will be running the services. Since APIs\nare starting automatically, it also causes some scheduling problems to\nnot use uwsgi (as APIs already bind when Apache starts), for example,\nthere's such issue with nova-api-metadata.\n\nSo, let's switch to uwsgi for the Debian case in puppet-openstack-integration.\n\nThis patch also fixes a few API service scheduling issues, and the\ncreation of SSL certificates in Debian + UWSGI.\n\nChange-Id: If1f43c3e5d64de3b0e520189e4342a47ff5a343d\n""}]",0,730881,e1a587d43de202cbff7e3c0f62eb2aa67ebb893e,33,1,22,6476,,,0,"WIP: Switch to native uwsgi services in Debian

Do not merge (yet).

In Debian, it's nicer to test under uwsgi than with Apache, as that's
probably how our final users will be running the services. Since APIs
are starting automatically, it also causes some scheduling problems to
not use uwsgi (as APIs already bind when Apache starts), for example,
there's such issue with nova-api-metadata.

So, let's switch to uwsgi for the Debian case in puppet-openstack-integration.

This patch also fixes a few API service scheduling issues, and the
creation of SSL certificates in Debian + UWSGI.

Change-Id: If1f43c3e5d64de3b0e520189e4342a47ff5a343d
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/81/730881/11 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/cinder.pp', 'manifests/keystone.pp', 'manifests/aodh.pp', 'manifests/gnocchi.pp', 'manifests/panko.pp', 'manifests/placement.pp', 'manifests/nova.pp', 'manifests/ssl_key.pp', 'manifests/barbican.pp']",9,3bcd2d6a78fb65b396d00c96871f205e05ae3201,use-uwsgi-for-debian," if ($::os_package_type == 'debian') { $service = 'barbican-api' } else { $service = 'httpd' } notify => Service[$service], Exec['update-ca-certificates'] ~> Service[$service] service_name => $service, if ($service == 'httpd'){ include apache class { 'barbican::wsgi::apache': bind_host => $::openstack_integration::config::ip_for_url, ssl => $::openstack_integration::config::ssl, ssl_key => ""/etc/barbican/ssl/private/${::fqdn}.pem"", ssl_cert => $::openstack_integration::params::cert_path, workers => 2, }"," notify => Service['httpd'], Exec['update-ca-certificates'] ~> Service['httpd'] service_name => 'httpd', include apache class { 'barbican::wsgi::apache': bind_host => $::openstack_integration::config::ip_for_url, ssl => $::openstack_integration::config::ssl, ssl_key => ""/etc/barbican/ssl/private/${::fqdn}.pem"", ssl_cert => $::openstack_integration::params::cert_path, workers => 2,",164,80
openstack%2Fpuppet-openstack-integration~master~I0ed0f59d43e532e4ee3068c838498398a2501d11,openstack/puppet-openstack-integration,master,I0ed0f59d43e532e4ee3068c838498398a2501d11,Simplify copy_logs.sh,ABANDONED,2020-06-05 11:00:35.000000000,2022-05-04 17:41:03.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-06-05 11:00:35.000000000', 'files': ['copy_logs.sh'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/58c4dc0929fa057dbec4dda4227c6ffbfa243666', 'message': 'Simplify copy_logs.sh\n\nInstead of looking-up the directory where puppet modules are installed\nand iterate through it, we can simply, with a one-liner command, parse\nthe Puppetfile and extract what we need from there. This has also the\nadvantage of being cross-platform and work with any version of Puppet\n(ie: it also works in Debian with puppet from the distro).\n\nChange-Id: I0ed0f59d43e532e4ee3068c838498398a2501d11\n'}]",0,733806,58c4dc0929fa057dbec4dda4227c6ffbfa243666,3,1,1,6476,,,0,"Simplify copy_logs.sh

Instead of looking-up the directory where puppet modules are installed
and iterate through it, we can simply, with a one-liner command, parse
the Puppetfile and extract what we need from there. This has also the
advantage of being cross-platform and work with any version of Puppet
(ie: it also works in Debian with puppet from the distro).

Change-Id: I0ed0f59d43e532e4ee3068c838498398a2501d11
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/06/733806/1 && git format-patch -1 --stdout FETCH_HEAD,['copy_logs.sh'],1,58c4dc0929fa057dbec4dda4227c6ffbfa243666,simplify-copy-logs,"PROJECTS=$(cat Puppetfile | grep opendev.org/openstack | cut -d\' -f2 | sed 's#https://opendev.org/openstack/puppet-##' | tr '\n' ' ')""ironic-inspector""","# PROJECTS # - for each entry, we will probe /etc/${project} and /var/log/${project} # and copy out files # # For right now, we populate our projects with a guess from those that # have puppet modules installed. revisit this if needs change if [ -d /etc/puppetlabs/code ]; then # puppet4 PUPPET_MODULES_PATH='/etc/puppetlabs/code/modules' else # puppet3 PUPPET_MODULES_PATH='/etc/puppet/modules' fi for project in $PUPPET_MODULES_PATH/*; do # find Puppet OpenStack modules if [ -f $project/metadata.json ]; then if egrep -q ""github.com/(stackforge|openstack)/puppet"" $project/metadata.json; then PROJECTS+=""$(basename $project) "" # if we've added ironic we want to try for ironic-inspector also if [ ""$(basename $project)"" == 'ironic' ] ; then PROJECTS+=""ironic-inspector "" fi fi fi done",1,26
openstack%2Fpuppet-swift~master~I3cd3c76210da75271459b8079c23604e828f10d9,openstack/puppet-swift,master,I3cd3c76210da75271459b8079c23604e828f10d9,Guess devices UUIDs,ABANDONED,2020-04-21 09:15:50.000000000,2022-05-04 17:40:42.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-04-21 09:15:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/c340a8bcfae9c0be0dc00e29885c882e3b9805c5', 'message': 'Guess devices UUIDs\n\nThis patch adds a custom Ruby fact to guess device UUIDs\nusing blkid on the storage machine.\n\nChange-Id: I3cd3c76210da75271459b8079c23604e828f10d9\n'}, {'number': 2, 'created': '2020-04-21 09:37:59.000000000', 'files': ['manifests/storage/xfs.pp', 'lib/facter/puppet_swift_block_uuids.rb'], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/ef39586e13bd51f70b9d43a4c9bb9af0b5c13454', 'message': 'Guess devices UUIDs\n\nThis patch adds a custom Ruby fact to guess device UUIDs\nusing blkid on the storage machine.\n\nChange-Id: I3cd3c76210da75271459b8079c23604e828f10d9\n'}]",0,721557,ef39586e13bd51f70b9d43a4c9bb9af0b5c13454,4,1,2,6476,,,0,"Guess devices UUIDs

This patch adds a custom Ruby fact to guess device UUIDs
using blkid on the storage machine.

Change-Id: I3cd3c76210da75271459b8079c23604e828f10d9
",git fetch https://review.opendev.org/openstack/puppet-swift refs/changes/57/721557/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/storage/xfs.pp', 'lib/facter/puppet_swift_block_uuids.rb']",2,c340a8bcfae9c0be0dc00e29885c882e3b9805c5,custom-uuid-fact,"# module_name/lib/facter/puppet_swift_block_uuids.rb require 'facter' device_list = `blkid -o device` blk_device_list={} device_list.each_line do |blockdevpath| if blockdevpath =~ /^\/dev\/[sv]d[a-z]$/ uuid_string = `blkid #{blockdevpath}` uuidnum = uuid_string.split(' ')[1].split('""')[1] # .chomp is needed to avoid added \n at end of dev name blockdevname = blockdevpath.split('/')[2].chomp blk_device_list[blockdevname] = uuidnum end end Facter.add(""puppet_swift_block_uuids"") do setcode do blk_device_list end end ",,29,3
openstack%2Fcinder~master~I4a65b530253715f2cc6f27a27d7a02cf4f21f01a,openstack/cinder,master,I4a65b530253715f2cc6f27a27d7a02cf4f21f01a,mypy: policy.py,MERGED,2021-02-10 20:08:41.000000000,2022-05-04 17:13:33.000000000,2022-05-04 17:11:49.000000000,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 27615}]","[{'number': 1, 'created': '2021-02-10 20:08:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/4b1a4763efc8254ec991316e174640cb13dc296f', 'message': 'mypy: policy.py\n\nChange-Id: I4a65b530253715f2cc6f27a27d7a02cf4f21f01a\n'}, {'number': 2, 'created': '2021-03-09 22:14:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/3fe726900ca280510beccfd302f6980d0bd2dc88', 'message': 'mypy: policy.py\n\nChange-Id: I4a65b530253715f2cc6f27a27d7a02cf4f21f01a\n'}, {'number': 3, 'created': '2021-04-30 15:23:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/6abaa1cabc47bf72c74dababe32e50b514d9d9a7', 'message': 'mypy: policy.py\n\nChange-Id: I4a65b530253715f2cc6f27a27d7a02cf4f21f01a\n'}, {'number': 4, 'created': '2021-07-13 14:04:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c68b77f84a32a3428015b13f65d2325692da41ab', 'message': 'mypy: policy.py\n\nChange-Id: I4a65b530253715f2cc6f27a27d7a02cf4f21f01a\n'}, {'number': 5, 'created': '2021-09-07 17:18:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/9642fe3c6e1419a0d100d11fdebbdb7537213e44', 'message': 'mypy: policy.py\n\nChange-Id: I4a65b530253715f2cc6f27a27d7a02cf4f21f01a\n'}, {'number': 6, 'created': '2021-12-06 13:52:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/84c1fb018ac5f39b6cc8c643c15af7c9bb5d5895', 'message': 'mypy: policy.py\n\nChange-Id: I4a65b530253715f2cc6f27a27d7a02cf4f21f01a\n'}, {'number': 7, 'created': '2022-01-18 15:10:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c9b009395f5f9ae21fa879ff0d2d8ccd58d79c5b', 'message': 'mypy: policy.py\n\nChange-Id: I4a65b530253715f2cc6f27a27d7a02cf4f21f01a\n'}, {'number': 8, 'created': '2022-02-02 14:21:47.000000000', 'files': ['cinder/policy.py', 'mypy-files.txt'], 'web_link': 'https://opendev.org/openstack/cinder/commit/42810d1a3c6627306faccc2280fa5fc3b2bed49e', 'message': 'mypy: policy.py\n\nChange-Id: I4a65b530253715f2cc6f27a27d7a02cf4f21f01a\n'}]",8,775008,42810d1a3c6627306faccc2280fa5fc3b2bed49e,225,6,8,4523,,,0,"mypy: policy.py

Change-Id: I4a65b530253715f2cc6f27a27d7a02cf4f21f01a
",git fetch https://review.opendev.org/openstack/cinder refs/changes/08/775008/7 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/policy.py', 'mypy-files.txt']",2,4b1a4763efc8254ec991316e174640cb13dc296f,mypy,cinder/policy.py,,28,8
openstack%2Fneutron~master~I67d516c4583aa0c20416114b92a6d69ece5b970c,openstack/neutron,master,I67d516c4583aa0c20416114b92a6d69ece5b970c,Handle properly ObjectNotFound while deleting network from DHCP agent,MERGED,2022-04-28 14:54:02.000000000,2022-05-04 17:13:22.000000000,2022-05-04 17:11:44.000000000,"[{'_account_id': 5948}, {'_account_id': 9845}, {'_account_id': 13861}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-28 14:54:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/51df858b159d7631c54ca35b4063898f4191438f', 'message': 'Handle properly ObjectNotFound while deleting network from DHCP agent\n\nIn case when 2 neutron servers are trying to remove network from the\nsame DHCP agent it may happend that one of them will not be able\nto find binding object anymore thus deletion of that binding object\nwill raise ObjectNotFound exception.\nThis patch adds proper handling of such case to not raise ugly\nstacktrace in neutron logs.\n\nCloses-Bug: #1970759\nChange-Id: I67d516c4583aa0c20416114b92a6d69ece5b970c\n'}, {'number': 2, 'created': '2022-05-02 10:27:36.000000000', 'files': ['neutron/db/agentschedulers_db.py', 'neutron/tests/unit/db/test_agentschedulers_db.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/8df2f69b6f93fd964cc96efb42d085063b90a8e6', 'message': 'Handle properly ObjectNotFound while deleting network from DHCP agent\n\nIn case when 2 neutron servers are trying to remove network from the\nsame DHCP agent it may happend that one of them will not be able\nto find binding object anymore thus deletion of that binding object\nwill raise ObjectNotFound exception.\nThis patch adds proper handling of such case to not raise ugly\nstacktrace in neutron logs.\n\nCloses-Bug: #1970759\nChange-Id: I67d516c4583aa0c20416114b92a6d69ece5b970c\n'}]",6,839779,8df2f69b6f93fd964cc96efb42d085063b90a8e6,25,5,2,11975,,,0,"Handle properly ObjectNotFound while deleting network from DHCP agent

In case when 2 neutron servers are trying to remove network from the
same DHCP agent it may happend that one of them will not be able
to find binding object anymore thus deletion of that binding object
will raise ObjectNotFound exception.
This patch adds proper handling of such case to not raise ugly
stacktrace in neutron logs.

Closes-Bug: #1970759
Change-Id: I67d516c4583aa0c20416114b92a6d69ece5b970c
",git fetch https://review.opendev.org/openstack/neutron refs/changes/79/839779/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/db/agentschedulers_db.py'],1,51df858b159d7631c54ca35b4063898f4191438f,bug/1970759," try: binding_obj.delete() except n_exc.ObjectNotFound: LOG.debug(""Network %s binding to the agent %s not found. "" ""Probably it was removed concurrently by other server."", network_id, id) return", binding_obj.delete(),7,1
openstack%2Fcinder~stable%2Fyoga~I216a82a29c7fb6b1b2fac95b2a1af667c4e2b22d,openstack/cinder,stable/yoga,I216a82a29c7fb6b1b2fac95b2a1af667c4e2b22d,Handle the case when tempest fails,MERGED,2022-05-03 20:12:31.000000000,2022-05-04 17:13:16.000000000,2022-05-04 17:11:39.000000000,"[{'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-03 20:12:31.000000000', 'files': ['playbooks/tempest-and-cinderlib-run.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/391f7c7f9bd395b1dafdd4fcc4c118fbe4dd0f77', 'message': 'Handle the case when tempest fails\n\nBefore this change, the errors from tempest run are suppressed\nin order to always execute cinderlib tests.\n\nUse the variable exported by run-tempest instead,\nand fail properly if needed.\n\nThis is a port of Ic1fd6fcc9b9183f195c66f0022e913ae9734c97b\nfrom cinder-tempest-plugin.git to this repository.\n\nChange-Id: I216a82a29c7fb6b1b2fac95b2a1af667c4e2b22d\n(cherry picked from commit 7e04b5b0d4c91df7601e8e7f36d49fb6d651ea2b)\n'}]",2,840374,391f7c7f9bd395b1dafdd4fcc4c118fbe4dd0f77,18,3,1,10459,,,0,"Handle the case when tempest fails

Before this change, the errors from tempest run are suppressed
in order to always execute cinderlib tests.

Use the variable exported by run-tempest instead,
and fail properly if needed.

This is a port of Ic1fd6fcc9b9183f195c66f0022e913ae9734c97b
from cinder-tempest-plugin.git to this repository.

Change-Id: I216a82a29c7fb6b1b2fac95b2a1af667c4e2b22d
(cherry picked from commit 7e04b5b0d4c91df7601e8e7f36d49fb6d651ea2b)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/74/840374/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/tempest-and-cinderlib-run.yaml'],1,391f7c7f9bd395b1dafdd4fcc4c118fbe4dd0f77,fix-reporting," # ignore the errors here (but consider them later), so that run-cinderlib-tests is always executed post_tasks: - name: Fail if the first tempest run did not work fail: msg: ""tempest run returned with an error"" when: tempest_run_result is defined and tempest_run_result.rc != 0"," # ignore the errors, so that run-cinderlib-tests is always executed",6,1
openstack%2Freleases~master~I1efcbea548065c01bee89cd7ca1c534e1dafdf29,openstack/releases,master,I1efcbea548065c01bee89cd7ca1c534e1dafdf29,Release OpenStack-Ansible Victoria for EM,MERGED,2022-05-04 10:41:54.000000000,2022-05-04 17:12:38.000000000,2022-05-04 17:12:38.000000000,"[{'_account_id': 308}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-04 10:41:54.000000000', 'files': ['deliverables/victoria/openstack-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/202658384443c32c654cc820a96f3bb69d177d18', 'message': 'Release OpenStack-Ansible Victoria for EM\n\nChange-Id: I1efcbea548065c01bee89cd7ca1c534e1dafdf29\n'}]",1,840439,202658384443c32c654cc820a96f3bb69d177d18,10,3,1,28619,,,0,"Release OpenStack-Ansible Victoria for EM

Change-Id: I1efcbea548065c01bee89cd7ca1c534e1dafdf29
",git fetch https://review.opendev.org/openstack/releases refs/changes/39/840439/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/victoria/openstack-ansible.yaml'],1,202658384443c32c654cc820a96f3bb69d177d18,release_osa, - version: 22.4.4 projects: - repo: openstack/openstack-ansible hash: 08d90900f01ec25f624ea7bfb31b2a7a58fdb8db,,4,0
openstack%2Fwhitebox-tempest-plugin~master~I2a8c59ac4120bc618995bee51e8f43dbd073ee70,openstack/whitebox-tempest-plugin,master,I2a8c59ac4120bc618995bee51e8f43dbd073ee70,Update to zed testing runtime,MERGED,2022-04-23 14:04:07.000000000,2022-05-04 17:10:12.000000000,2022-05-04 17:10:12.000000000,"[{'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2022-04-23 14:04:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/f40571d717636b92e5fd30a6ede44e84218094fb', 'message': 'Update to zed testing runtime\n\nChange-Id: I2a8c59ac4120bc618995bee51e8f43dbd073ee70\n'}, {'number': 2, 'created': '2022-05-04 14:44:55.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/8706a017f2b42d3b3534ef886afde8607a616f12', 'message': 'Update to zed testing runtime\n\nBecause whitebox also runs in other envs that still have Python 3.6,\nwhich the zed runtime removes, explicitly add it with\nopenstack-python36-jobs.\n\nChange-Id: I2a8c59ac4120bc618995bee51e8f43dbd073ee70\n'}]",4,839117,8706a017f2b42d3b3534ef886afde8607a616f12,11,2,2,8864,,,0,"Update to zed testing runtime

Because whitebox also runs in other envs that still have Python 3.6,
which the zed runtime removes, explicitly add it with
openstack-python36-jobs.

Change-Id: I2a8c59ac4120bc618995bee51e8f43dbd073ee70
",git fetch https://review.opendev.org/openstack/whitebox-tempest-plugin refs/changes/17/839117/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,f40571d717636b92e5fd30a6ede44e84218094fb,switch-to-zed-testing-runtime, - openstack-python3-zed-jobs, - openstack-python3-yoga-jobs,1,1
openstack%2Fcinder~master~I1e0d0a43cd166e6cfd4be7ca0f426e9fc3625a28,openstack/cinder,master,I1e0d0a43cd166e6cfd4be7ca0f426e9fc3625a28,Drop python3.6 support in testing runtime,MERGED,2022-04-27 06:14:46.000000000,2022-05-04 16:53:12.000000000,2022-04-29 19:50:34.000000000,"[{'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 10459}, {'_account_id': 20813}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-27 06:14:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c6b89c4272b02e0ebec39371253dab4c4bbd5b6d', 'message': 'Move centos stream testing to centos-9-stream\n\nIn Zed cycle testing runtime, we are targetting the centos 9 stream\n- https://governance.openstack.org/tc/reference/runtimes/zed.html\n\nWith dropping the python 3.6 support, project started adding python 3.8\nas minimum, example nova:\n- https://github.com/openstack/nova/blob/56b5aed08c6a3ed81b78dc216f0165ebfe3c3350/setup.cfg#L13\n\nChange-Id: I1e0d0a43cd166e6cfd4be7ca0f426e9fc3625a28\n'}, {'number': 2, 'created': '2022-04-27 06:53:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/e6a786303f3309ba50c30f903e0566db833aa96b', 'message': 'Move centos stream testing to centos-9-stream\n\nIn Zed cycle testing runtime, we are targetting the centos 9 stream\n- https://governance.openstack.org/tc/reference/runtimes/zed.html\n\nWith dropping the python 3.6 support, project started adding python 3.8\nas minimum, example nova:\n- https://github.com/openstack/nova/blob/56b5aed08c6a3ed81b78dc216f0165ebfe3c3350/setup.cfg#L13\n\nChange-Id: I1e0d0a43cd166e6cfd4be7ca0f426e9fc3625a28\n'}, {'number': 3, 'created': '2022-04-28 01:10:57.000000000', 'files': ['.zuul.yaml', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/cinder/commit/42c6450527b2476d325e3d18382efada2c8184c6', 'message': 'Drop python3.6 support in testing runtime\n\nIn Zed cycle testing runtime, we are targetting to drop the\npython 3.6 support, project started adding python 3.8 as minimum,\nexample nova:\n- https://github.com/openstack/nova/blob/56b5aed08c6a3ed81b78dc216f0165ebfe3c3350/setup.cfg#L13\n\nChange-Id: I1e0d0a43cd166e6cfd4be7ca0f426e9fc3625a28\n'}]",7,839469,42c6450527b2476d325e3d18382efada2c8184c6,69,5,3,8846,,,0,"Drop python3.6 support in testing runtime

In Zed cycle testing runtime, we are targetting to drop the
python 3.6 support, project started adding python 3.8 as minimum,
example nova:
- https://github.com/openstack/nova/blob/56b5aed08c6a3ed81b78dc216f0165ebfe3c3350/setup.cfg#L13

Change-Id: I1e0d0a43cd166e6cfd4be7ca0f426e9fc3625a28
",git fetch https://review.opendev.org/openstack/cinder refs/changes/69/839469/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,c6b89c4272b02e0ebec39371253dab4c4bbd5b6d,drop-c8s-testing,python_requires = >=3.8,python_requires = >=3.6 Programming Language :: Python :: 3.6 Programming Language :: Python :: 3.7,1,3
openstack%2Fproject-config~master~Ifb446e44a788583c6ab7b93747927b921932aba6,openstack/project-config,master,Ifb446e44a788583c6ab7b93747927b921932aba6,Fix apt-phased-updates,MERGED,2022-05-04 15:57:05.000000000,2022-05-04 16:45:23.000000000,2022-05-04 16:14:55.000000000,"[{'_account_id': 4146}, {'_account_id': 5263}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-04 15:57:05.000000000', 'files': ['nodepool/elements/nodepool-base/root.d/60-apt-phased-updates'], 'web_link': 'https://opendev.org/openstack/project-config/commit/a694b41c745a1a9d4036b714079c157708fd1601', 'message': 'Fix apt-phased-updates\n\nMissing then\n\nChange-Id: Ifb446e44a788583c6ab7b93747927b921932aba6\n'}]",0,840507,a694b41c745a1a9d4036b714079c157708fd1601,8,3,1,13252,,,0,"Fix apt-phased-updates

Missing then

Change-Id: Ifb446e44a788583c6ab7b93747927b921932aba6
",git fetch https://review.opendev.org/openstack/project-config refs/changes/07/840507/1 && git format-patch -1 --stdout FETCH_HEAD,['nodepool/elements/nodepool-base/root.d/60-apt-phased-updates'],1,a694b41c745a1a9d4036b714079c157708fd1601,apt-phased-updates,if [ ${DIB_RELEASE} = jammy ]; then,if [ ${DIB_RELEASE} = jammy ];,1,1
openstack%2Fnova-specs~master~I5ea76c60ab1e5572f7fb340c868c07fbc5ab000a,openstack/nova-specs,master,I5ea76c60ab1e5572f7fb340c868c07fbc5ab000a,Re-propose remove tenant_id,MERGED,2022-04-14 01:06:29.000000000,2022-05-04 16:35:57.000000000,2022-05-04 16:34:34.000000000,"[{'_account_id': 7166}, {'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 31412}]","[{'number': 1, 'created': '2022-04-14 01:06:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/8e8b3ff121f3e60d4b9c6bf4305cba1c2aca931f', 'message': 'Re-propose remove tenant_id\n\nChange-Id: I5ea76c60ab1e5572f7fb340c868c07fbc5ab000a\n'}, {'number': 2, 'created': '2022-04-14 01:07:52.000000000', 'files': ['specs/zed/approved/remove-tenant-id.rst'], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/0f54cfb94547bcc9220af66ff0e23ce0c217b026', 'message': 'Re-propose remove tenant_id\n\nChange-Id: I5ea76c60ab1e5572f7fb340c868c07fbc5ab000a\n'}]",2,837789,0f54cfb94547bcc9220af66ff0e23ce0c217b026,10,4,2,26458,,,0,"Re-propose remove tenant_id

Change-Id: I5ea76c60ab1e5572f7fb340c868c07fbc5ab000a
",git fetch https://review.opendev.org/openstack/nova-specs refs/changes/89/837789/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/zed/approved/remove-tenant-id.rst'],1,8e8b3ff121f3e60d4b9c6bf4305cba1c2aca931f,bp/remove-tenant-id,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ================ Remove tenant_id ================ https://blueprints.launchpad.net/nova/+spec/remove-tenant-id The blueprint proposes to remove the API interface that uses ``tenant_id`` and replace it with ``project_id``. Problem description =================== Currently, Nova API supports both ``tenant_id`` and ``project_id``, which is unfriendly to users. The following is a confusing question. By default, we support filtering instances by ``all_tenants (Optional)``, but through this parameter, we get a list of all instances that they cannot get instances by ``tenant_id``. We can see from `bug 1185290`_ that when using the ``nova list`` command, if ``tenant_id`` is required, ``all_tenants`` must appear, as description in [1]_, which is somewhat unintuitive. .. note:: [1]_ mainly said: ""As explained in lp:#1185290, if `all_tenants` is not passed we must ignore the `tenant_id` search option."". We can know from `bug 1468992`_ that many users want to use ``tenant_id`` filtering instances, and using the concept of tenants in many of our large-scale customer scenarios, they hope we can filter the expected instances through ``tenant_id``. Use Cases --------- As an (admin) user, I would like to use ``project_id`` uniformly in nova api, instead of supporting both ``tenant_id`` and ``project_id``, this will imporve uniformity within nova and between nova and other service which have already made this change. Proposed change =============== Add a new microversion to the request or response parameter changes API. Remove the ``tenant_id`` field, using ``all_projects`` replace ``all_tenants`` parameter, and then remove``all_tenants`` parameter in the following APIs: * GET /servers (List Servers) * GET /servers/detail (List Server Detailed) Replace ``tenant_id`` with ``project_id`` in request body in follow APIs: * GET /limits (Show Rate And Absolute Limits) * GET /os-quota-sets/{tenant_id} (Show A Quota) * PUT /os-quota-sets/{tenant_id} (Update Quotas) * GET /os-quota-sets/{tenant_id}/defaults (List Default Quotas For Tenant) * GET /os-quota-sets/{tenant_id}/detail (Show The Detail of Quota) * GET /os-simple-tenant-usage/{tenant_id} (Show Usage Statistics For Tenant) Replace ``tenant_id`` with ``project_id`` in response body in follow APIs: * GET /servers/detail (List Server Detailed) * GET /servers/{server_id} (List Server Detailed) * PUT /servers/{server_id} (Update Server) * POST /servers/{server_id}/action (Rebuild Server (rebuild Action)) * GET /servers/{server_id}/os-security-groups (List Security Groups By Server) * GET /flavors/{flavor_id}/os-flavor-access (List Flavor Access Information For Given Flavor) * POST /flavors/{flavor_id}/action (Add Flavor Access To Tenant (addTenantAccess Action)) * POST /flavors/{flavor_id}/action (Remove Flavor Access From Tenant (removeTenantAccess Action)) * GET /os-simple-tenant-usage (List Tenant Usage Statistics For All Tenants) * GET /os-simple-tenant-usage/{tenant_id} (Show Usage Statistics For Tenant) The keyword ``tenant`` in the path will be replaced with ``project`` as below APIs: * `GET /os-simple-tenant-usage` APIs will be renamed to `GET /os-simple-project-usage` * `GET /os-simple-tenant-usage/{tenant_id}` APIs will be renamed to `GET /os-simple-project-usage/{project_id}` We should block change the ``tenant_id`` below the deprecated APIs: * GET /os-security-groups (List Security Groups) * GET /os-security-groups/{security_group_id} (Show Security Group Details) * PUT /os-security-groups/{security_group_id} (Update Security Group) * POST /os-security-group-rules (Create Security Group Rule) * GET /os-cells (List Cells) * GET /os-fping?all_tenants=1 (Ping Instances) By the way, tenant* reference will be replaced with project* in all policies, code and docs too. Alternatives ------------ None Data model impact ----------------- None REST API impact --------------- Add a new microversion. Replace ``all_tenants`` with ``all_projects`` parameter, and remove ``all_tenants`` in request body in follow APIs: * GET /servers (List Servers) * GET /servers/detail (List Server Detailed) Replace ``tenant_id`` with ``project_id`` in request body in follow APIs: * GET /limits (Show Rate And Absolute Limits) * GET /os-quota-sets/{tenant_id} (Show A Quota) * PUT /os-quota-sets/{tenant_id} (Update Quotas) * GET /os-quota-sets/{tenant_id}/defaults (List Default Quotas For Tenant) * GET /os-quota-sets/{tenant_id}/detail (Show The Detail of Quota) * GET /os-simple-tenant-usage/{tenant_id} (Show Usage Statistics For Tenant) * GET /os-cells (List Cells) Replace ``tenant_id`` with ``project_id`` in response body in follow APIs: * GET /servers/detail (List Server Detailed) * GET /servers/{server_id} (List Server Detailed) * PUT /servers/{server_id} (Update Server) * POST /servers/{server_id}/action (Rebuild Server (rebuild Action)) * GET /servers/{server_id}/os-security-groups (List Security Groups By Server) * GET /flavors/{flavor_id}/os-flavor-access (List Flavor Access Information For Given Flavor) * POST /flavors/{flavor_id}/action (Add Flavor Access To Tenant (addTenantAccess Action)) * POST /flavors/{flavor_id}/action (Remove Flavor Access From Tenant (removeTenantAccess Action)) * GET /os-simple-tenant-usage (List Tenant Usage Statistics For All Tenants) * GET /os-simple-tenant-usage/{tenant_id} (Show Usage Statistics For Tenant) Security impact --------------- None Notifications impact -------------------- None Other end user impact --------------------- Update openstacksdk, python-novaclient and python-openstackclient for the new microversion. Performance Impact ------------------ None Other deployer impact --------------------- None Developer impact ---------------- None Upgrade impact -------------- None Implementation ============== Assignee(s) ----------- Primary assignee: brinzhang Feature Liaison --------------- Feature liaison: brinzhang Work Items ---------- * Replace ``tenant_id`` with ``project_id`` in relate APIs, policies and code. * Replace ``all_tenants`` with ``all_projects`` in relate APIs, policies and code. * Add related tests. * Docs for the new microversion. * Check the python-novaclient , python-openstackclient and openstacksdk, just support requesting ``project_id`` in related APIs. Dependencies ============ None Testing ======= * Add related unit test for negative scenarios. * Add related functional test (API samples). Tempest testing should not be necessary for this change. Documentation Impact ==================== Update the API reference for the new microversion, and update all uses of ``tenant`` to ``project`` in all docs and code. References ========== .. _`bug 1185290`: https://bugs.launchpad.net/nova/+bug/1185290 .. _`bug 1468992`: https://bugs.launchpad.net/nova/+bug/1468992 .. [1] Mainly info: https://opendev.org/openstack/nova/src/branch/stable/ussuri/nova/api/openstack/compute/servers.py#L294-L295 History ======= .. list-table:: Revisions :header-rows: 1 * - Release Name - Description * - Wallaby - Introduced * - Xena - Re-proposed * - Yoga - Re-proposed * - Zed - Re-proposed ",,254,0
openstack%2Fskyline-apiserver~master~Ib63c12c613c4f6cb24879324b6445cedc268724b,openstack/skyline-apiserver,master,Ib63c12c613c4f6cb24879324b6445cedc268724b,doc: add skyline community icons,MERGED,2022-05-04 07:23:05.000000000,2022-05-04 16:27:55.000000000,2022-05-04 16:27:55.000000000,"[{'_account_id': 6282}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-04 07:23:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-apiserver/commit/322bae37eb3b0f10787b14a3f917c14fb3160f50', 'message': 'doc: add skyline community icons\n\nChange-Id: Ib63c12c613c4f6cb24879324b6445cedc268724b\n'}, {'number': 2, 'created': '2022-05-04 14:16:23.000000000', 'files': ['README-zh_CN.md', 'etc/skyline.yaml.sample', 'docs/images/OpenStack_Project_Skyline_horizontal.eps', 'docs/images/OpenStack_Project_Skyline_horizontal_1color.jpg', 'docs/images/OpenStack_Project_Skyline_horizontal.png', 'docs/images/OpenStack_Project_Skyline_vertical_1color.svg', 'docs/images/OpenStack_Project_Skyline_horizontal_1color.svg', 'docs/images/OpenStack_Project_Skyline-Icon-RGB.jpg', 'docs/images/OpenStack_Project_Skyline_vertical_1color.jpg', 'docs/images/OpenStack_Project_Skyline_horizontal_1color.png', 'docs/images/OpenStack_Project_Skyline_horizontal.jpg', 'docs/images/OpenStack_Project_Skyline-Icon-RGB.svg', 'docs/images/OpenStack_Project_Skyline_vertical.svg', 'docs/images/OpenStack_Project_Skyline_horizontal.svg', 'docs/images/OpenStack_Project_Skyline-Icon-RGB.png', 'docs/images/OpenStack_Project_Skyline-Icon-RGB.eps', 'docs/images/OpenStack_Project_Skyline_vertical.png', 'docs/images/OpenStack_Project_Skyline_horizontal_1color.eps', 'docs/images/OpenStack_Project_Skyline_vertical.eps', 'pyproject.toml', 'docs/images/OpenStack_Project_Skyline_vertical.jpg', 'poetry.lock', 'README.md', 'docs/images/OpenStack_Project_Skyline_vertical_1color.eps', '.vscode/launch.json', 'docs/images/OpenStack_Project_Skyline_vertical_1color.png'], 'web_link': 'https://opendev.org/openstack/skyline-apiserver/commit/1fc924798f4da3714f23eda0cb4d706142ba4cb8', 'message': 'doc: add skyline community icons\n\n1. add skyline community icons\n2. add vscode debugging tips\n3. add quotas in skyline.yaml.sample\n4. add flake8/bandit/pycodestyle plugins\n\nChange-Id: Ib63c12c613c4f6cb24879324b6445cedc268724b\n'}]",0,840422,1fc924798f4da3714f23eda0cb4d706142ba4cb8,8,2,2,6282,,,0,"doc: add skyline community icons

1. add skyline community icons
2. add vscode debugging tips
3. add quotas in skyline.yaml.sample
4. add flake8/bandit/pycodestyle plugins

Change-Id: Ib63c12c613c4f6cb24879324b6445cedc268724b
",git fetch https://review.opendev.org/openstack/skyline-apiserver refs/changes/22/840422/2 && git format-patch -1 --stdout FETCH_HEAD,"['README-zh_CN.md', 'docs/images/OpenStack_Project_Skyline_horizontal.eps', 'docs/images/OpenStack_Project_Skyline_horizontal_1color.jpg', 'docs/images/OpenStack_Project_Skyline_horizontal.png', 'docs/images/OpenStack_Project_Skyline_vertical_1color.svg', 'docs/images/OpenStack_Project_Skyline_horizontal_1color.svg', 'docs/images/OpenStack_Project_Skyline-Icon-RGB.jpg', 'docs/images/OpenStack_Project_Skyline_vertical.jpg', 'docs/images/OpenStack_Project_Skyline_vertical_1color.jpg', 'README.md', 'docs/images/OpenStack_Project_Skyline_horizontal_1color.png', 'docs/images/OpenStack_Project_Skyline_horizontal.jpg', 'docs/images/OpenStack_Project_Skyline-Icon-RGB.svg', 'docs/images/OpenStack_Project_Skyline_vertical_1color.eps', 'docs/images/OpenStack_Project_Skyline_vertical.svg', 'docs/images/OpenStack_Project_Skyline_horizontal.svg', 'docs/images/OpenStack_Project_Skyline-Icon-RGB.png', 'docs/images/OpenStack_Project_Skyline-Icon-RGB.eps', 'docs/images/OpenStack_Project_Skyline_vertical.png', 'docs/images/OpenStack_Project_Skyline_vertical_1color.png', 'docs/images/OpenStack_Project_Skyline_horizontal_1color.eps', 'docs/images/OpenStack_Project_Skyline_vertical.eps']",22,322bae37eb3b0f10787b14a3f917c14fb3160f50,,,,17,8
openstack%2Ftempest~master~Ib2d7e00fd8f33aedbdb86d6d8fab2be8b3a8b403,openstack/tempest,master,Ib2d7e00fd8f33aedbdb86d6d8fab2be8b3a8b403,Validate network downtime during live migration - part II,ABANDONED,2022-04-19 15:23:36.000000000,2022-05-04 15:58:14.000000000,,"[{'_account_id': 22348}, {'_account_id': 31291}]","[{'number': 1, 'created': '2022-04-19 15:23:36.000000000', 'files': ['tempest/scenario/test_network_advanced_server_ops.py', 'tempest/common/utils/pingers.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/253db01173e8bac57e7512ca8be6af5363fa4179', 'message': ""Validate network downtime during live migration - part II\n\nSimilar to previous patch that validated network downtime during live\nmigration using north-south traffic, sending pings from the test\nmachine to the migrated server\nIn this case, the new test sends traffic from a proxy server connected\nto the same tenant network to the migrated server's fixed IP address\n\nChange-Id: Ib2d7e00fd8f33aedbdb86d6d8fab2be8b3a8b403\nRelated-patch: https://review.opendev.org/c/828686\n""}]",3,838518,253db01173e8bac57e7512ca8be6af5363fa4179,6,2,1,31291,,,0,"Validate network downtime during live migration - part II

Similar to previous patch that validated network downtime during live
migration using north-south traffic, sending pings from the test
machine to the migrated server
In this case, the new test sends traffic from a proxy server connected
to the same tenant network to the migrated server's fixed IP address

Change-Id: Ib2d7e00fd8f33aedbdb86d6d8fab2be8b3a8b403
Related-patch: https://review.opendev.org/c/828686
",git fetch https://review.opendev.org/openstack/tempest refs/changes/18/838518/1 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/scenario/test_network_advanced_server_ops.py', 'tempest/common/utils/pingers.py']",2,253db01173e8bac57e7512ca8be6af5363fa4179,measure_live_migration_downtime," def get_ping_cmd(self): return cmd def start_background_pinger(self): cmd = self.get_ping_cmd() output = self.ping_process.stderr.readline().strip() return self.calculate_downtime(output) def calculate_downtime(self, output): if output: if type(output) != str: output = output.decode('utf-8') res = output.split()[0].split('/') class RemotePinger(Pinger): def __init__(self, ssh_client, dest_ip, interval='0.2'): super(RemotePinger, self).__init__(dest_ip, interval) self.ssh_client = ssh_client self.remote_tmpfile = ssh_client.exec_command('mktemp').rstrip() def start_background_pinger(self): cmd = self.get_ping_cmd() self.ping_process = self.ssh_client._get_ssh_connection( ).get_transport().open_session() # stderr redirected to the remote tmpfile self.ping_process.exec_command( "" "".join(cmd) + "" 2> %s"" % self.remote_tmpfile) self.addCleanup(self.cleanup) def cleanup(self): if self.ping_process: LOG.debug('Terminating background pinger') self.ping_process.close() self.ping_process = None def stop_pinger_and_get_downtime(self): pid_of_ping = self.ssh_client.exec_command(""pidof ping"").rstrip() self.ssh_client.exec_command(""kill -s SIGQUIT %s"" % pid_of_ping) # Example of the expected output: # 264/274 packets, 3% loss output = self.ssh_client.exec_command( ""cat %s"" % self.remote_tmpfile).strip() return self.calculate_downtime(output)", def start_background_pinger(self): output = self.ping_process.stderr.readline() if output: res = output.strip().decode('utf-8').split()[0].split('/'),115,13
openstack%2Fproject-config~master~I7e14968f2aa7beed88e806ac1eef9370a5388bbb,openstack/project-config,master,I7e14968f2aa7beed88e806ac1eef9370a5388bbb,Always include phased updates for Jammy,MERGED,2022-05-04 14:58:02.000000000,2022-05-04 15:45:00.000000000,2022-05-04 15:32:20.000000000,"[{'_account_id': 4146}, {'_account_id': 5263}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-04 14:58:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/5b33aa602a3da4617f4e5bd352489cce707937ea', 'message': 'Always include phased updates for Jammy\n\nOur images builds always install the newest updates,\nso we need this in order to avoid conflicts.\n\nChange-Id: I7e14968f2aa7beed88e806ac1eef9370a5388bbb\n'}, {'number': 2, 'created': '2022-05-04 15:16:23.000000000', 'files': ['nodepool/elements/nodepool-base/root.d/60-apt-phased-updates'], 'web_link': 'https://opendev.org/openstack/project-config/commit/37a934aacb3b9194a49dbe8f60ae8f95f4953863', 'message': 'Always include phased updates for Jammy\n\nOur images builds always install the newest updates,\nso we need this in order to avoid conflicts.\n\nChange-Id: I7e14968f2aa7beed88e806ac1eef9370a5388bbb\n'}]",1,840502,37a934aacb3b9194a49dbe8f60ae8f95f4953863,12,3,2,13252,,,0,"Always include phased updates for Jammy

Our images builds always install the newest updates,
so we need this in order to avoid conflicts.

Change-Id: I7e14968f2aa7beed88e806ac1eef9370a5388bbb
",git fetch https://review.opendev.org/openstack/project-config refs/changes/02/840502/2 && git format-patch -1 --stdout FETCH_HEAD,['nodepool/elements/nodepool-base/root.d/60-apt-phased-updates'],1,5b33aa602a3da4617f4e5bd352489cce707937ea,apt-phased-updates,"#!/bin/bash # Copyright 2017 Red Hat, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or # implied. # # See the License for the specific language governing permissions and # limitations under the License. if [ ${DIB_DEBUG_TRACE:-0} -gt 0 ]; then set -x fi set -eu set -o pipefail # NOTE(frickler): Our images builds always install the newest updates, # so we need this in order to avoid conflicts if [ ${DIB_RELEASE} = jammy ]; if [ -d ""$TARGET_ROOT/etc/apt/apt.conf.d"" ]; then echo ""APT::Get::Always-Include-Phased-Updates \""true\"";"" | sudo tee $TARGET_ROOT/etc/apt/apt.conf.d/95phased-updates fi fi ",,31,0
openstack%2Fansible-collections-openstack~stable%2F1.0.0~Idb12d9eef9116a19b1323b2ce45ef672ae4a4f5e,openstack/ansible-collections-openstack,stable/1.0.0,Idb12d9eef9116a19b1323b2ce45ef672ae4a4f5e,Removed job definitions for master branch,MERGED,2022-05-04 13:20:56.000000000,2022-05-04 15:27:47.000000000,2022-05-04 15:27:47.000000000,"[{'_account_id': 22348}, {'_account_id': 32962}]","[{'number': 1, 'created': '2022-05-04 13:20:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/d59db87d262350b7b1c6e9e4115382c2a1ff188e', 'message': 'Removed job definitions for stable/1.0.0 branch\n\nPreviously, all job definitions where shared across each .zuul.yaml in\nboth branches. When a job definition was changed in one branch, Zuul CI\ncould pick the job definition from the other branch, which was not\nintended.\n\nThe problem arises when mixing explicit job.branches matchers with\nimplicit branch matching, when defining same jobs on multiple branches.\nZuul CI expects that jobs to be defined in one or the other branch, not\nboth at the same time. One should only use job.branches matchers from\nsingle-branched projects, e.g. trusted config repos. When defining jobs\nin branched repositories one selects which job definition to use by the\nbranch associated with the triggering event instead.\nEach trigger has a branch associated with it, whether it is the branch\ntargeted by the change being proposed, the branch to which a commit\nmerged, a branch attached to a timer trigger etc. This branch name is\nsearched across involved projects in order to determine what job\ndefinition should be used.\n\nThe job.branches directive is rarely applied to a job which will be\ncopied to multiple branches. When you have multiple copies of a job\nwith the job.branches attribute, Zuul CI could pick any of the job\ndefinitions which might not be the one you expected.\nThe job.branches attribute is useful in single branch config\nrepositories where a specific job definition has to be applied to a\nspecific branch of the repository. Another definition of the job\nwill exist in another branch of the config repository.\n\nThis patch removes job definitions which are specific to other\nbranches, except for parent jobs which are shared across branches.\n\nSigned-off-by: Jakob Meng <code@jakobmeng.de>\nChange-Id: Idb12d9eef9116a19b1323b2ce45ef672ae4a4f5e\n'}, {'number': 2, 'created': '2022-05-04 13:21:50.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/5626a8d4c9c3a0024d5cec43d3c756f61c4219a1', 'message': 'Removed job definitions for master branch\n\nPreviously, all job definitions where shared across each .zuul.yaml in\nboth branches. When a job definition was changed in one branch, Zuul CI\ncould pick the job definition from the other branch, which was not\nintended.\n\nThe problem arises when mixing explicit job.branches matchers with\nimplicit branch matching, when defining same jobs on multiple branches.\nZuul CI expects that jobs to be defined in one or the other branch, not\nboth at the same time. One should only use job.branches matchers from\nsingle-branched projects, e.g. trusted config repos. When defining jobs\nin branched repositories one selects which job definition to use by the\nbranch associated with the triggering event instead.\nEach trigger has a branch associated with it, whether it is the branch\ntargeted by the change being proposed, the branch to which a commit\nmerged, a branch attached to a timer trigger etc. This branch name is\nsearched across involved projects in order to determine what job\ndefinition should be used.\n\nThe job.branches directive is rarely applied to a job which will be\ncopied to multiple branches. When you have multiple copies of a job\nwith the job.branches attribute, Zuul CI could pick any of the job\ndefinitions which might not be the one you expected.\nThe job.branches attribute is useful in single branch config\nrepositories where a specific job definition has to be applied to a\nspecific branch of the repository. Another definition of the job\nwill exist in another branch of the config repository.\n\nThis patch removes job definitions which are specific to other\nbranches, except for parent jobs which are shared across branches.\n\nSigned-off-by: Jakob Meng <code@jakobmeng.de>\nChange-Id: Idb12d9eef9116a19b1323b2ce45ef672ae4a4f5e\n'}]",0,840456,5626a8d4c9c3a0024d5cec43d3c756f61c4219a1,7,2,2,32962,,,0,"Removed job definitions for master branch

Previously, all job definitions where shared across each .zuul.yaml in
both branches. When a job definition was changed in one branch, Zuul CI
could pick the job definition from the other branch, which was not
intended.

The problem arises when mixing explicit job.branches matchers with
implicit branch matching, when defining same jobs on multiple branches.
Zuul CI expects that jobs to be defined in one or the other branch, not
both at the same time. One should only use job.branches matchers from
single-branched projects, e.g. trusted config repos. When defining jobs
in branched repositories one selects which job definition to use by the
branch associated with the triggering event instead.
Each trigger has a branch associated with it, whether it is the branch
targeted by the change being proposed, the branch to which a commit
merged, a branch attached to a timer trigger etc. This branch name is
searched across involved projects in order to determine what job
definition should be used.

The job.branches directive is rarely applied to a job which will be
copied to multiple branches. When you have multiple copies of a job
with the job.branches attribute, Zuul CI could pick any of the job
definitions which might not be the one you expected.
The job.branches attribute is useful in single branch config
repositories where a specific job definition has to be applied to a
specific branch of the repository. Another definition of the job
will exist in another branch of the config repository.

This patch removes job definitions which are specific to other
branches, except for parent jobs which are shared across branches.

Signed-off-by: Jakob Meng <code@jakobmeng.de>
Change-Id: Idb12d9eef9116a19b1323b2ce45ef672ae4a4f5e
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/56/840456/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,d59db87d262350b7b1c6e9e4115382c2a1ff188e,remove_jobs_from_master_branch,"# Keep parent jobs in sync between branches to avoid issues e.g. with job scheduling. Zuul CI will search in master # branch first when collecting job variants during job freeze which can have unwanted side effects. For example, when # parent job *-base has been changed in stable/1.0.0 branch, Zuul could still use *-base variants from master branch # during job freeze on child jobs such as *-ussuri-ansible-2.11 etc. # # Do not share job definitions with the job.branches attribute across multiple branches. Do not define jobs which are # specific to other branches, except for parent jobs which are shared across branches. For example, to not add a job # which is specific for the stable/1.0.0 branch to the .zuul.yaml in master branch. In particular do not use the # job.branches directive on a job which will be copied to multiple branches. When you have multiple copies of a job with # the job.branches attribute, Zuul CI could pick any of the job definitions which might not be the one you expected. - ansible-collections-openstack-functional-devstack-releases:","# Keep this file in sync between branches to avoid issues e.g. with job scheduling. Zuul CI will search in master branch # first when collecting job variants during job freeze which can have unwanted side effects. For example, when parent # job *-base has been changed in stable/1.0.0 branch, Zuul could still use *-base variants from master branch during job # freeze on child jobs such as *-ussuri-ansible-2.11 etc. name: ansible-collections-openstack-functional-devstack parent: ansible-collections-openstack-functional-devstack-base branches: master description: | Run openstack collections functional tests against a master devstack using master of openstacksdk with latest ansible release vars: # TODO: Remove tox_extra_args once all ci roles pass tox_extra_args: &skip_broken_ci_roles >- address_scope auth client_config dns dns_zone_info floating_ip_info group identity_role image keypair keystone_domain keystone_federation_protocol keystone_idp keystone_mapping loadbalancer nova_flavor nova_services object object_container port project security_group subnet_pool user user_group user_role volume # failing tags # floating_ip # orchestrate # network # neutron_rbac # router # server # subnet - job: branches: master description: | Run openstack collections functional tests against a master devstack with Octavia plugin enabled, using latest releases of openstacksdk and latest ansible release. Run it only on Load Balancer changes. voting: false vars: # TODO: Remove tox_extra_args once all ci roles pass tox_extra_args: *skip_broken_ci_roles - job: name: ansible-collections-openstack-functional-devstack-octavia parent: ansible-collections-openstack-functional-devstack-octavia-base branches: master description: | Run openstack collections functional tests against a master devstack using latest releases of openstacksdk and latest ansible release # OpenStack SDK 1.*.* has not been released to PyPI yet voting: false vars: # Uncomment once OpenStack SDK 1.*.* has been released to PyPI # tox_constraints_file: '{{ ansible_user_dir }}/{{ zuul.project.src_dir }}/tests/constraints-openstacksdk-1.x.x.txt' # TODO: Remove tox_extra_args once all ci roles pass tox_extra_args: *skip_broken_ci_roles tox_install_siblings: false - job: name: ansible-collections-openstack-functional-devstack-releases parent: ansible-collections-openstack-functional-devstack-base branches: master description: | Run openstack collections functional tests against a master devstack using master of openstacksdk and stable 2.9 branch of ansible voting: false required-projects: - name: github.com/ansible/ansible override-checkout: stable-2.9 vars: tox_envlist: ansible-2.9 # TODO: Remove tox_extra_args once all ci roles pass tox_extra_args: *skip_broken_ci_roles - job: name: ansible-collections-openstack-functional-devstack-ansible-2.9 parent: ansible-collections-openstack-functional-devstack-base branches: master description: | Run openstack collections functional tests against a master devstack using master of openstacksdk and stable 2.12 branch of ansible voting: false required-projects: - name: github.com/ansible/ansible override-checkout: stable-2.11 vars: tox_envlist: ansible-2.11 # TODO: Remove tox_extra_args once all ci roles pass tox_extra_args: *skip_broken_ci_roles - job: name: ansible-collections-openstack-functional-devstack-ansible-2.11 parent: ansible-collections-openstack-functional-devstack-base branches: master description: | Run openstack collections functional tests against a master devstack using master of openstacksdk and stable 2.12 branch of ansible voting: false required-projects: - name: github.com/ansible/ansible override-checkout: stable-2.12 vars: tox_envlist: ansible-2.12 # TODO: Remove tox_extra_args once all ci roles pass tox_extra_args: *skip_broken_ci_roles - job: name: ansible-collections-openstack-functional-devstack-ansible-2.12 parent: ansible-collections-openstack-functional-devstack-base- job: name: ansible-collections-openstack-functional-devstack-ansible-devel parent: ansible-collections-openstack-functional-devstack-base branches: master description: | Run openstack collections functional tests against a master devstack using master of openstacksdk and devel branch of ansible voting: false required-projects: - name: github.com/ansible/ansible override-checkout: devel vars: # TODO: Remove tox_extra_args once all ci roles pass tox_extra_args: *skip_broken_ci_roles - ansible-collections-openstack-functional-devstack: - ansible-collections-openstack-functional-devstack-releases: dependencies: *deps_unit_lint # - ansible-collections-openstack-functional-devstack - ansible-collections-openstack-functional-devstack",12,148
openstack%2Fcinder~master~I945dcb12d0f651754e7c7808b4dd4f043bb8b50a,openstack/cinder,master,I945dcb12d0f651754e7c7808b4dd4f043bb8b50a,WIP Add pools support to LVM driver,NEW,2022-04-27 19:49:06.000000000,2022-05-04 15:24:07.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-04-27 19:49:06.000000000', 'files': ['cinder/volume/drivers/lvm.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/220c0766aac94de2f811d33b4713d15bd10c44b6', 'message': 'WIP Add pools support to LVM driver\n\nI put this patch together for working on some other changes where I\nneeded to do some migrations in a devstack environment where I needed\npools.\n\nChange-Id: I945dcb12d0f651754e7c7808b4dd4f043bb8b50a\n'}]",0,839634,220c0766aac94de2f811d33b4713d15bd10c44b6,17,1,1,5997,,,0,"WIP Add pools support to LVM driver

I put this patch together for working on some other changes where I
needed to do some migrations in a devstack environment where I needed
pools.

Change-Id: I945dcb12d0f651754e7c7808b4dd4f043bb8b50a
",git fetch https://review.opendev.org/openstack/cinder refs/changes/34/839634/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/drivers/lvm.py'],1,220c0766aac94de2f811d33b4713d15bd10c44b6,lvm_pools," cfg.ListOpt('volume_group', default=['cinder-volumes'], help='Name for the VG that will contain exported volumes'), # To support pools self.vgs = {} db=self.db, ret = None for vg_name in self.vgs: ret = self.vgs[vg_name].get_volume(volume_name) if ret: return False return True pool_name = volume_utils.extract_host(volume['host'], level='pool') vg = self.vgs[pool_name] vg.delete(name) @utils.trace if self.vgs is None: for vg_name in self.vgs: self.vgs[vg_name].update_volume_group_info() for vg_name in self.vgs: vg = self.vgs[vg_name] if self.configuration.lvm_mirrors > 0: total_capacity = \ vg.vg_mirror_size(self.configuration.lvm_mirrors) free_capacity = \ vg.vg_mirror_free_space(self.configuration.lvm_mirrors) provisioned_capacity = round( float(total_capacity) - float(free_capacity), 2) elif self.configuration.lvm_type == 'thin': total_capacity = vg.vg_thin_pool_size free_capacity = vg.vg_thin_pool_free_space provisioned_capacity = vg.vg_provisioned_capacity else: total_capacity = vg.vg_size free_capacity = vg.vg_free_space provisioned_capacity = round( float(total_capacity) - float(free_capacity), 2) location_info = \ ('LVMVolumeDriver:%(hostname)s:%(vg)s' ':%(lvm_type)s:%(lvm_mirrors)s' % {'hostname': self.hostname, 'vg': vg_name, 'lvm_type': self.configuration.lvm_type, 'lvm_mirrors': self.configuration.lvm_mirrors}) total_volumes = len(vg.get_volumes()) pool = dict( pool_name=vg_name, total_capacity_gb=total_capacity, free_capacity_gb=free_capacity, reserved_percentage=self.configuration.reserved_percentage, location_info=location_info, QoS_support=False, provisioned_capacity_gb=provisioned_capacity, max_over_subscription_ratio=( self.configuration.max_over_subscription_ratio), thin_provisioning_support=thin_enabled, thick_provisioning_support=not thin_enabled, total_volumes=total_volumes, filter_function=self.get_filter_function(), goodness_function=self.get_goodness_function(), multiattach=True, backend_state='up' ) data[""pools""].append(pool) if not self.vgs: for vg_name in self.configuration.volume_group: vg = lvm.LVM( vg_name, root_helper, lvm_type=lvm_type, executor=self._execute, lvm_conf=lvm_conf_file, suppress_fd_warn=( self.configuration.lvm_suppress_fd_warnings)) self.vgs[vg_name] = vg for vg_name in self.vgs: vg_list = volume_utils.get_all_volume_groups(vg_name) vg_dict = next(vg for vg in vg_list if vg['name'] == self.vgs[vg_name].vg_name) if vg_dict is None: message = (_(""Volume Group %s does not exist"") % self.configuration.volume_group) pool_name = ""%s-pool"" % vg_name if self.configuration.lvm_type == 'auto': # Default to thin provisioning if it is supported and # the volume group is empty, or contains a thin pool # for us to use. self.vgs[vg_name].update_volume_group_info() self.configuration.lvm_type = 'default' if volume_utils.supports_thin_provisioning(): if self.vgs[vg_name].get_volume(pool_name) is not None: LOG.info('Enabling LVM thin provisioning by default ' 'because a thin pool exists.') self.configuration.lvm_type = 'thin' elif len(self.vgs[vg_name].get_volumes()) == 0: LOG.info('Enabling LVM thin provisioning by default ' 'because no LVs exist.') self.configuration.lvm_type = 'thin' if self.configuration.lvm_type == 'thin': # Specific checks for using Thin provisioned LV's if not volume_utils.supports_thin_provisioning(): message = _(""Thin provisioning not supported "" ""on this version of LVM."") raise exception.VolumeBackendAPIException(data=message) if self.vgs[vg_name].get_volume(pool_name) is None: try: self.vgs[vg_name].create_thin_pool(pool_name) except processutils.ProcessExecutionError as exc: exception_message = (_(""Failed to create thin pool, "" ""error message was: %s"") % six.text_type(exc.stderr)) raise exception.VolumeBackendAPIException( data=exception_message) pool_name = volume_utils.extract_host(volume['host'], level='pool') vg = self.vgs[pool_name] mirror_count, vg=vg) pool_name = volume_utils.extract_host(volume['host'], level='pool') vg = self.vgs[pool_name] if self.configuration.lvm_type == 'thin': vg.create_lv_snapshot(volume['name'], self._escape_snapshot(snapshot['name']), self.configuration.lvm_type) vg.activate_lv(snapshot['name'], is_snapshot=True) vg.activate_lv(volume['name'], is_snapshot=True, permanent=True) vg.activate_lv(snapshot['name'], is_snapshot=True) pool_name = volume_utils.extract_host(volume['host'], level='pool') vg = self.vgs[pool_name] if vg.lv_has_snapshot(volume['name']): pool_name = volume_utils.extract_host(snapshot['host'], level='pool') vg = self.vgs[pool_name] vg.create_lv_snapshot(self._escape_snapshot(snapshot['name']), snapshot['volume_name'], self.configuration.lvm_type) pool_name = volume_utils.extract_host(snapshot['host'], level='pool') vg = self.vgs[pool_name] vg.revert(self._escape_snapshot(snapshot.name)) vg.deactivate_lv(volume.name) vg.activate_lv(volume.name) pool_name = volume_utils.extract_host(volume['host'], level='pool') vg = self.vgs[pool_name] pool_name = volume_utils.extract_host(volume['host'], level='pool') vg = self.vgs[pool_name] if self.configuration.lvm_type == 'thin': vg.create_lv_snapshot(volume['name'], src_vref['name'], self.configuration.lvm_type) vg.activate_lv(volume['name'], is_snapshot=True, permanent=True) vg.activate_lv(temp_snapshot['name'], is_snapshot=True) pool_name = volume_utils.extract_host(volume['host'], level='pool') vg = self.vgs[pool_name] vg.extend_volume(volume['name'], self._sizestr(new_size)) pool_name = volume_utils.extract_host(volume['host'], level='pool') vg = self.vgs[pool_name] vg.get_volume(lv_name) vg.rename_volume(lv_name, volume['name']) pool_name = volume_utils.extract_host(existing_object['host'], level='pool') vg = self.vgs[pool_name] lv = vg.get_volume(lv_name) # TODO - pools is broken pool_name = volume_utils.extract_host(volume['host'], level='pool') vg = self.vgs[pool_name] if dest_vg == vg.vg_name: {'id': volume['id'], 'name': vg.vg_name}) pool_name = volume_utils.extract_host(volume['host'], level='pool') vg = self.vgs[pool_name] vg.activate_lv(volume['name']) pool_name = volume_utils.extract_host(volume['host'], level='pool') vg = self.vgs[pool_name] vg.activate_lv(volume['name'])"," cfg.StrOpt('volume_group', default='cinder-volumes', help='Name for the VG that will contain exported volumes'), return self.vg.get_volume(volume_name) is None self.vg.delete(name) if self.vg is None: self.vg.update_volume_group_info() if self.configuration.lvm_mirrors > 0: total_capacity =\ self.vg.vg_mirror_size(self.configuration.lvm_mirrors) free_capacity =\ self.vg.vg_mirror_free_space(self.configuration.lvm_mirrors) provisioned_capacity = round( float(total_capacity) - float(free_capacity), 2) elif self.configuration.lvm_type == 'thin': total_capacity = self.vg.vg_thin_pool_size free_capacity = self.vg.vg_thin_pool_free_space provisioned_capacity = self.vg.vg_provisioned_capacity else: total_capacity = self.vg.vg_size free_capacity = self.vg.vg_free_space provisioned_capacity = round( float(total_capacity) - float(free_capacity), 2) location_info = \ ('LVMVolumeDriver:%(hostname)s:%(vg)s' ':%(lvm_type)s:%(lvm_mirrors)s' % {'hostname': self.hostname, 'vg': self.configuration.volume_group, 'lvm_type': self.configuration.lvm_type, 'lvm_mirrors': self.configuration.lvm_mirrors}) # Calculate the total volumes used by the VG group. # This includes volumes and snapshots. total_volumes = len(self.vg.get_volumes()) # Skip enabled_pools setting, treat the whole backend as one pool # XXX FIXME if multipool support is added to LVM driver. single_pool = {} single_pool.update(dict( pool_name=data[""volume_backend_name""], total_capacity_gb=total_capacity, free_capacity_gb=free_capacity, reserved_percentage=self.configuration.reserved_percentage, location_info=location_info, QoS_support=False, provisioned_capacity_gb=provisioned_capacity, max_over_subscription_ratio=( self.configuration.max_over_subscription_ratio), thin_provisioning_support=thin_enabled, thick_provisioning_support=not thin_enabled, total_volumes=total_volumes, filter_function=self.get_filter_function(), goodness_function=self.get_goodness_function(), multiattach=True, backend_state='up' )) data[""pools""].append(single_pool) if self.vg is None: self.vg = lvm.LVM( self.configuration.volume_group, root_helper, lvm_type=lvm_type, executor=self._execute, lvm_conf=lvm_conf_file, suppress_fd_warn=( self.configuration.lvm_suppress_fd_warnings)) vg_list = volume_utils.get_all_volume_groups( self.configuration.volume_group) vg_dict = next(vg for vg in vg_list if vg['name'] == self.vg.vg_name) if vg_dict is None: message = (_(""Volume Group %s does not exist"") % self.configuration.volume_group) raise exception.VolumeBackendAPIException(data=message) pool_name = ""%s-pool"" % self.configuration.volume_group if self.configuration.lvm_type == 'auto': # Default to thin provisioning if it is supported and # the volume group is empty, or contains a thin pool # for us to use. self.vg.update_volume_group_info() self.configuration.lvm_type = 'default' if volume_utils.supports_thin_provisioning(): if self.vg.get_volume(pool_name) is not None: LOG.info('Enabling LVM thin provisioning by default ' 'because a thin pool exists.') self.configuration.lvm_type = 'thin' elif len(self.vg.get_volumes()) == 0: LOG.info('Enabling LVM thin provisioning by default ' 'because no LVs exist.') self.configuration.lvm_type = 'thin' if self.configuration.lvm_type == 'thin': # Specific checks for using Thin provisioned LV's if not volume_utils.supports_thin_provisioning(): message = _(""Thin provisioning not supported "" ""on this version of LVM."") if self.vg.get_volume(pool_name) is None: try: self.vg.create_thin_pool(pool_name) except processutils.ProcessExecutionError as exc: exception_message = (_(""Failed to create thin pool, "" ""error message was: %s"") % six.text_type(exc.stderr)) raise exception.VolumeBackendAPIException( data=exception_message) mirror_count) if self.configuration.lvm_type == 'thin': self.vg.create_lv_snapshot(volume['name'], self._escape_snapshot(snapshot['name']), self.configuration.lvm_type) self.vg.activate_lv(snapshot['name'], is_snapshot=True) self.vg.activate_lv(volume['name'], is_snapshot=True, permanent=True) self.vg.activate_lv(snapshot['name'], is_snapshot=True) if self.vg.lv_has_snapshot(volume['name']): self.vg.create_lv_snapshot(self._escape_snapshot(snapshot['name']), snapshot['volume_name'], self.configuration.lvm_type) self.vg.revert(self._escape_snapshot(snapshot.name)) self.vg.deactivate_lv(volume.name) self.vg.activate_lv(volume.name) if self.configuration.lvm_type == 'thin': self.vg.create_lv_snapshot(volume['name'], src_vref['name'], self.configuration.lvm_type) self.vg.activate_lv(volume['name'], is_snapshot=True, permanent=True) self.vg.activate_lv(temp_snapshot['name'], is_snapshot=True) self.vg.extend_volume(volume['name'], self._sizestr(new_size)) self.vg.get_volume(lv_name) self.vg.rename_volume(lv_name, volume['name']) lv = self.vg.get_volume(lv_name) if dest_vg == self.vg.vg_name: {'id': volume['id'], 'name': self.vg.vg_name}) self.vg.activate_lv(volume['name']) self.vg.activate_lv(volume['name'])",183,139
openstack%2Fironic~stable%2Fyoga~I936f6c1506c585826501ff3ac0bad0c755b4d360,openstack/ironic,stable/yoga,I936f6c1506c585826501ff3ac0bad0c755b4d360,Fix ironic-lib from source and branch detection in IPA builds,MERGED,2022-04-29 17:36:41.000000000,2022-05-04 15:16:53.000000000,2022-05-04 15:15:31.000000000,"[{'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2022-04-29 17:36:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/bb94f04f3de75faf895a55cf5adb95ae3212a656', 'message': 'Trivial: fix a typo in the devstack plugin\n\nPrevents the ironic-lib CI from testing ironic-lib changes in IPA.\n\nChange-Id: I936f6c1506c585826501ff3ac0bad0c755b4d360\n(cherry picked from commit b6d901e70c30c935376fbba136782ef9a774c398)\n'}, {'number': 2, 'created': '2022-04-29 19:39:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/761221371ef734a6d97a5695c1bb3ee94aef6587', 'message': 'Fix ironic-lib from source and branch detection in DIB builds\n\nPrevents the ironic-lib CI from testing ironic-lib changes in IPA.\n\nChange-Id: I936f6c1506c585826501ff3ac0bad0c755b4d360\n(cherry picked from commit bac897b01d864e8781394e5ececb119015dc6442)\n'}, {'number': 3, 'created': '2022-05-02 10:20:41.000000000', 'files': ['devstack/lib/ironic'], 'web_link': 'https://opendev.org/openstack/ironic/commit/5a2d2df4725e696242945996996c949a8c2e5f76', 'message': 'Fix ironic-lib from source and branch detection in IPA builds\n\nPrevents the ironic-lib CI from testing ironic-lib changes in IPA.\n\nChange-Id: I936f6c1506c585826501ff3ac0bad0c755b4d360\n(cherry picked from commit b94e52f55a0c4f9d6f3a771179da4ec5ccbddbd7)\n'}]",0,839983,5a2d2df4725e696242945996996c949a8c2e5f76,19,2,3,10239,,,0,"Fix ironic-lib from source and branch detection in IPA builds

Prevents the ironic-lib CI from testing ironic-lib changes in IPA.

Change-Id: I936f6c1506c585826501ff3ac0bad0c755b4d360
(cherry picked from commit b94e52f55a0c4f9d6f3a771179da4ec5ccbddbd7)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/83/839983/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/lib/ironic'],1,bb94f04f3de75faf895a55cf5adb95ae3212a656,, if [ -e $DEST/ironic-lib ]; then, if -e $DEST/ironic-lib; then,1,1
openstack%2Fopenstack-ansible-os_horizon~master~I04b7b8bc2c8e666f155cccf58bd920ee7d699d72,openstack/openstack-ansible-os_horizon,master,I04b7b8bc2c8e666f155cccf58bd920ee7d699d72,Override pyScss version for python3.10,MERGED,2022-05-03 08:13:34.000000000,2022-05-04 15:16:20.000000000,2022-05-04 15:15:09.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-05-03 08:13:34.000000000', 'files': ['tasks/horizon_install_source.yml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_horizon/commit/39c6022bf62de7be116613137fdf7a05ed07c298', 'message': 'Override pyScss version for python3.10\n\nOpenstack upper-constraints for the Yoga release does not specify\na version of pyScss which is compatible with python3.10, this only\nstarts to happen with the Zed release.\n\nTo obtain experimental support for Ubuntu Jammy with the Yoga\nrelease we adjust the upper-constraints to describe a python3.10\ncompatible version of pyScss.\n\nChange-Id: I04b7b8bc2c8e666f155cccf58bd920ee7d699d72\n'}]",0,840278,39c6022bf62de7be116613137fdf7a05ed07c298,8,3,1,25023,,,0,"Override pyScss version for python3.10

Openstack upper-constraints for the Yoga release does not specify
a version of pyScss which is compatible with python3.10, this only
starts to happen with the Zed release.

To obtain experimental support for Ubuntu Jammy with the Yoga
release we adjust the upper-constraints to describe a python3.10
compatible version of pyScss.

Change-Id: I04b7b8bc2c8e666f155cccf58bd920ee7d699d72
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_horizon refs/changes/78/840278/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/horizon_install_source.yml', 'defaults/main.yml']",2,39c6022bf62de7be116613137fdf7a05ed07c298,osa-jammy,"horizon_venv_extra_constraints: - ""pyScss===1.3.7;python_version=='3.8'"" - ""pyScss===1.3.7;python_version=='3.9'"" - ""pyScss===1.4.0;python_version=='3.10'"" ",,6,1
openstack%2Fos-ken~master~I2a42a907170a6fcd8cae245f864121fd12422ef0,openstack/os-ken,master,I2a42a907170a6fcd8cae245f864121fd12422ef0,Drop lower-constraints.txt and its testing,MERGED,2022-05-01 01:27:37.000000000,2022-05-04 15:12:31.000000000,2022-05-04 15:10:01.000000000,"[{'_account_id': 8313}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-01 01:27:37.000000000', 'files': ['requirements.txt', '.zuul.yaml', 'lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/os-ken/commit/712535f6bec5cf40714c58fbb8924db3322b132c', 'message': 'Drop lower-constraints.txt and its testing\n\nAs discussed in TC PTG[1] and TC resolution[2], we are\ndropping the lower-constraints.txt file and its testing.\nWe will keep lower bounds in the requirements.txt file but\nwith a note that these are not tested lower bounds and we\ntry our best to keep them updated.\n\n[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326\n[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal\n\nChange-Id: I2a42a907170a6fcd8cae245f864121fd12422ef0\n'}]",1,840090,712535f6bec5cf40714c58fbb8924db3322b132c,8,3,1,8556,,,0,"Drop lower-constraints.txt and its testing

As discussed in TC PTG[1] and TC resolution[2], we are
dropping the lower-constraints.txt file and its testing.
We will keep lower bounds in the requirements.txt file but
with a note that these are not tested lower bounds and we
try our best to keep them updated.

[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326
[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal

Change-Id: I2a42a907170a6fcd8cae245f864121fd12422ef0
",git fetch https://review.opendev.org/openstack/os-ken refs/changes/90/840090/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', '.zuul.yaml', 'lower-constraints.txt', 'tox.ini']",4,712535f6bec5cf40714c58fbb8924db3322b132c,drop-l-c,, [testenv:lower-constraints] deps = -c{toxinidir}/lower-constraints.txt -r{toxinidir}/test-requirements.txt -r{toxinidir}/requirements.txt,4,143
openstack%2Fovsdbapp~master~Ie57cd00b241d810528d51c5afbef604db841b0ce,openstack/ovsdbapp,master,Ie57cd00b241d810528d51c5afbef604db841b0ce,Drop lower-constraints.txt and its testing,MERGED,2022-05-01 01:27:34.000000000,2022-05-04 15:09:07.000000000,2022-05-04 15:06:32.000000000,"[{'_account_id': 8313}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-01 01:27:34.000000000', 'files': ['requirements.txt', 'lower-constraints.txt', 'zuul.d/project.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/8dc5192650d9ab897c4647fbc8d0e92e6ec81858', 'message': 'Drop lower-constraints.txt and its testing\n\nAs discussed in TC PTG[1] and TC resolution[2], we are\ndropping the lower-constraints.txt file and its testing.\nWe will keep lower bounds in the requirements.txt file but\nwith a note that these are not tested lower bounds and we\ntry our best to keep them updated.\n\n[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326\n[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal\n\nChange-Id: Ie57cd00b241d810528d51c5afbef604db841b0ce\n'}]",0,840089,8dc5192650d9ab897c4647fbc8d0e92e6ec81858,8,3,1,8556,,,0,"Drop lower-constraints.txt and its testing

As discussed in TC PTG[1] and TC resolution[2], we are
dropping the lower-constraints.txt file and its testing.
We will keep lower bounds in the requirements.txt file but
with a note that these are not tested lower bounds and we
try our best to keep them updated.

[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326
[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal

Change-Id: Ie57cd00b241d810528d51c5afbef604db841b0ce
",git fetch https://review.opendev.org/openstack/ovsdbapp refs/changes/89/840089/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'lower-constraints.txt', 'zuul.d/project.yaml', 'tox.ini']",4,8dc5192650d9ab897c4647fbc8d0e92e6ec81858,drop-l-c,, [testenv:lower-constraints] deps = -c{toxinidir}/lower-constraints.txt -r{toxinidir}/test-requirements.txt -r{toxinidir}/requirements.txt,4,55
openstack%2Fopenstack-ansible-repo_server~stable%2Fwallaby~I19321a61cce978e781c3581fcc136609b5be8092,openstack/openstack-ansible-repo_server,stable/wallaby,I19321a61cce978e781c3581fcc136609b5be8092,Use /run/nginx.pid,MERGED,2022-04-05 10:04:27.000000000,2022-05-04 14:58:33.000000000,2022-05-04 14:57:12.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-04-05 10:04:27.000000000', 'files': ['vars/debian.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-repo_server/commit/185ac4e2ae5bd15b1ee429ddbc46a72ba28fb725', 'message': 'Use /run/nginx.pid\n\nIn modern systems /var/run folder is just a symlink to\n/run with potential to be removed in the future.\n\nCurrently, nginx might fail on Debian jobs because of that [1]\n\n[1] https://zuul.opendev.org/t/openstack/build/54263ee3816c484d94505a629558218c/log/logs/openstack/aio1_repo_container-da3488c9/nginx.service.journal-12-02-06.log.txt\n\nChange-Id: I19321a61cce978e781c3581fcc136609b5be8092\n(cherry picked from commit 4f3bec16800c03352c89824561cf4daedd0ce0af)\n'}]",3,836594,185ac4e2ae5bd15b1ee429ddbc46a72ba28fb725,13,3,1,25023,,,0,"Use /run/nginx.pid

In modern systems /var/run folder is just a symlink to
/run with potential to be removed in the future.

Currently, nginx might fail on Debian jobs because of that [1]

[1] https://zuul.opendev.org/t/openstack/build/54263ee3816c484d94505a629558218c/log/logs/openstack/aio1_repo_container-da3488c9/nginx.service.journal-12-02-06.log.txt

Change-Id: I19321a61cce978e781c3581fcc136609b5be8092
(cherry picked from commit 4f3bec16800c03352c89824561cf4daedd0ce0af)
",git fetch https://review.opendev.org/openstack/openstack-ansible-repo_server refs/changes/94/836594/1 && git format-patch -1 --stdout FETCH_HEAD,['vars/debian.yml'],1,185ac4e2ae5bd15b1ee429ddbc46a72ba28fb725,,repo_nginx_pid: /run/nginx.pid,repo_nginx_pid: /var/run/nginx.pid,1,1
openstack%2Fvirtualbmc~master~I0fd77abd47d23d5d3dfec5551efff097cb744708,openstack/virtualbmc,master,I0fd77abd47d23d5d3dfec5551efff097cb744708,Reintroduce lower-constraints job,ABANDONED,2022-04-07 07:05:55.000000000,2022-05-04 14:49:51.000000000,,"[{'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-04-07 07:05:55.000000000', 'files': ['requirements.txt', 'lower-constraints.txt', 'zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/virtualbmc/commit/d4a1e19cea0c57b17d71e673c8a6ea2382d58916', 'message': 'Reintroduce lower-constraints job\n\nFix libvirt-python dependency\n\nChange-Id: I0fd77abd47d23d5d3dfec5551efff097cb744708\n'}]",2,836906,d4a1e19cea0c57b17d71e673c8a6ea2382d58916,5,2,1,23851,,,0,"Reintroduce lower-constraints job

Fix libvirt-python dependency

Change-Id: I0fd77abd47d23d5d3dfec5551efff097cb744708
",git fetch https://review.opendev.org/openstack/virtualbmc refs/changes/06/836906/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'lower-constraints.txt', 'zuul.d/project.yaml']",3,d4a1e19cea0c57b17d71e673c8a6ea2382d58916,fix-lc-reqs, - openstack-lower-constraints-master-branch-jobs,,7,1
openstack%2Fopenstack-ansible-os_rally~master~I4fbbed088b9b67ca17467020e3044ffc9d78317b,openstack/openstack-ansible-os_rally,master,I4fbbed088b9b67ca17467020e3044ffc9d78317b,Remove PyYAML from rally installation constraints,MERGED,2022-05-03 14:04:17.000000000,2022-05-04 14:36:05.000000000,2022-05-04 14:34:22.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-05-03 14:04:17.000000000', 'files': ['tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_rally/commit/1fc98a9dfb2b4d0fa0fa957932ecc14bffb056f4', 'message': 'Remove PyYAML from rally installation constraints\n\nRally does not install on python3.10 becasue of the following\nfailure https://paste.opendev.org/show/bKyapGIcLIwCkUSGwF3k/\n\nChange-Id: I4fbbed088b9b67ca17467020e3044ffc9d78317b\n'}]",0,840313,1fc98a9dfb2b4d0fa0fa957932ecc14bffb056f4,9,3,1,25023,,,0,"Remove PyYAML from rally installation constraints

Rally does not install on python3.10 becasue of the following
failure https://paste.opendev.org/show/bKyapGIcLIwCkUSGwF3k/

Change-Id: I4fbbed088b9b67ca17467020e3044ffc9d78317b
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_rally refs/changes/13/840313/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/main.yml'],1,1fc98a9dfb2b4d0fa0fa957932ecc14bffb056f4,osa-jammy,"- name: Retrieve the constraints URL uri: url: ""{{ rally_upper_constraints_url }}"" return_content: yes register: _u_c_contents check_mode: false venv_build_constraints: ""{{ _u_c_contents.content.split('\n') | reject('match', '^PyYAML=') | list }}"""," venv_build_constraints: ""{{ rally_git_constraints }}""",8,1
openstack%2Feslint-config-openstack~master~I366cb99a353425f7126e002f3ea25c3b305a9270,openstack/eslint-config-openstack,master,I366cb99a353425f7126e002f3ea25c3b305a9270,remove unicode from code,MERGED,2021-01-07 03:26:37.000000000,2022-05-04 14:18:15.000000000,2022-05-04 14:16:59.000000000,"[{'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 29313}]","[{'number': 1, 'created': '2021-01-07 03:26:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/eslint-config-openstack/commit/f71bf99c14746944f9a09a4a59bf4ea570a53d1d', 'message': 'remove unicode from code\n\nChange-Id: I366cb99a353425f7126e002f3ea25c3b305a9270\n'}, {'number': 2, 'created': '2022-03-25 09:35:19.000000000', 'files': ['doc/source/conf.py'], 'web_link': 'https://opendev.org/openstack/eslint-config-openstack/commit/94a3386b61b0e1876880d737f892d2920382fe38', 'message': 'remove unicode from code\n\nChange-Id: I366cb99a353425f7126e002f3ea25c3b305a9270\n'}]",0,769654,94a3386b61b0e1876880d737f892d2920382fe38,10,3,2,32921,,,0,"remove unicode from code

Change-Id: I366cb99a353425f7126e002f3ea25c3b305a9270
",git fetch https://review.opendev.org/openstack/eslint-config-openstack refs/changes/54/769654/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/conf.py'],1,f71bf99c14746944f9a09a4a59bf4ea570a53d1d,,"project = 'eslint-config-openstack' copyright = '2016, OpenStack Foundation' '%s Documentation' % project, 'OpenStack Foundation', 'manual'),","project = u'eslint-config-openstack' copyright = u'2016, OpenStack Foundation' u'%s Documentation' % project, u'OpenStack Foundation', 'manual'),",4,4
openstack%2Ftempest~master~I80b908d2b6483d1fa1ab7a505d4f4c062d3944ae,openstack/tempest,master,I80b908d2b6483d1fa1ab7a505d4f4c062d3944ae,Test glance reserved properties,MERGED,2021-01-15 19:48:41.000000000,2022-05-04 14:15:18.000000000,2021-02-16 21:37:27.000000000,"[{'_account_id': 5314}, {'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-15 19:48:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/e44ff3ceab7e4574738db8902b3028a59b11cdbe', 'message': 'Test glance reserved properties\n\nThis verifies that glance enforces its reserved property namespace(s).\n\nChange-Id: I80b908d2b6483d1fa1ab7a505d4f4c062d3944ae\nRelated-Bug: #1912001\nDepends-On: https://review.opendev.org/c/openstack/glance/+/771070\n'}, {'number': 2, 'created': '2021-01-18 15:41:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/2815b2b0f79cad93814022f20181745c0723aad1', 'message': 'Test glance reserved properties\n\nThis verifies that glance enforces its reserved property namespace(s).\n\nChange-Id: I80b908d2b6483d1fa1ab7a505d4f4c062d3944ae\nRelated-Bug: #1912001\nDepends-On: https://review.opendev.org/c/openstack/glance/+/771070\n'}, {'number': 3, 'created': '2021-01-18 17:02:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/b9f87d178a5c102f93c19e0246bff54727ea73d7', 'message': 'Test glance reserved properties\n\nThis verifies that glance enforces its reserved property namespace(s).\n\nChange-Id: I80b908d2b6483d1fa1ab7a505d4f4c062d3944ae\nRelated-Bug: #1912001\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/771252\nDepends-On: https://review.opendev.org/c/openstack/glance/+/771070\n'}, {'number': 4, 'created': '2021-01-18 19:36:47.000000000', 'files': ['tempest/api/image/v2/test_images_negative.py', 'tempest/config.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/e044dada336a8cd081598172d042fc5453792dd1', 'message': 'Test glance reserved properties\n\nThis verifies that glance enforces its reserved property namespace(s).\n\nChange-Id: I80b908d2b6483d1fa1ab7a505d4f4c062d3944ae\nRelated-Bug: #1912001\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/771252\nDepends-On: https://review.opendev.org/c/openstack/glance/+/771070\n'}]",3,771071,e044dada336a8cd081598172d042fc5453792dd1,19,3,4,4393,,,0,"Test glance reserved properties

This verifies that glance enforces its reserved property namespace(s).

Change-Id: I80b908d2b6483d1fa1ab7a505d4f4c062d3944ae
Related-Bug: #1912001
Depends-On: https://review.opendev.org/c/openstack/devstack/+/771252
Depends-On: https://review.opendev.org/c/openstack/glance/+/771070
",git fetch https://review.opendev.org/openstack/tempest refs/changes/71/771071/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/image/v2/test_images_negative.py'],1,e44ff3ceab7e4574738db8902b3028a59b11cdbe,glance-reserved-props," @decorators.attr(type=['negative']) @decorators.idempotent_id('a0ae75d4-ce9c-4576-b823-aba04c8acabd') def test_update_image_reserved_property(self): image = self.create_image(name='test', container_format='bare', disk_format='raw') self.assertRaises(lib_exc.Forbidden, self.client.update_image, image['id'], [{'add': '/os_glance_foo', 'value': 'bar'}]) @decorators.attr(type=['negative']) @decorators.idempotent_id('e3fb7df8-2742-4143-8976-f1b26870f0a0') def test_create_image_reserved_property(self): self.assertRaises(lib_exc.Forbidden, self.create_image, name='test', container_format='bare', disk_format='raw', os_glance_foo='bar')",,21,0
openstack%2Fneutron-vpnaas~master~I61d035267ad0b968d4277aafa64d40c413685462,openstack/neutron-vpnaas,master,I61d035267ad0b968d4277aafa64d40c413685462,cleanup: drop lower-constraints.txt,ABANDONED,2022-04-21 03:49:49.000000000,2022-05-04 13:58:58.000000000,,"[{'_account_id': 8313}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-21 03:49:49.000000000', 'files': ['lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/bc3229b1d6f97534bb74ef4e33322568237d073d', 'message': 'cleanup: drop lower-constraints.txt\n\nThe TC is dropping the need for this, so we can just drop the job\nthat we never really ran and also is not properly tested.\n\nDepends-On: https://review.opendev.org/c/openstack/governance/+/838004\nChange-Id: I61d035267ad0b968d4277aafa64d40c413685462\n'}]",1,838807,bc3229b1d6f97534bb74ef4e33322568237d073d,4,2,1,1004,,,0,"cleanup: drop lower-constraints.txt

The TC is dropping the need for this, so we can just drop the job
that we never really ran and also is not properly tested.

Depends-On: https://review.opendev.org/c/openstack/governance/+/838004
Change-Id: I61d035267ad0b968d4277aafa64d40c413685462
",git fetch https://review.opendev.org/openstack/neutron-vpnaas refs/changes/07/838807/1 && git format-patch -1 --stdout FETCH_HEAD,"['lower-constraints.txt', 'tox.ini']",2,bc3229b1d6f97534bb74ef4e33322568237d073d,,commands = oslopolicy-sample-generator --config-file=etc/oslo-policy-generator/policy.conf,commands = oslopolicy-sample-generator --config-file=etc/oslo-policy-generator/policy.conf [testenv:lower-constraints] deps = -c{toxinidir}/lower-constraints.txt -r{toxinidir}/test-requirements.txt -r{toxinidir}/requirements.txt ,1,142
openstack%2Fansible-collections-openstack~master~Idb8720bd96843b7807dd5cb62b30c1edf3a7a37c,openstack/ansible-collections-openstack,master,Idb8720bd96843b7807dd5cb62b30c1edf3a7a37c,Removed job definitions for stable/1.0.0 branch,MERGED,2022-05-04 10:22:16.000000000,2022-05-04 13:28:16.000000000,2022-05-04 13:28:16.000000000,"[{'_account_id': 22348}, {'_account_id': 32962}]","[{'number': 1, 'created': '2022-05-04 10:22:16.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/c83e0e39b1f442a9849e88895872a01c51438a71', 'message': 'Removed job definitions for stable/1.0.0 branch\n\nPreviously, all job definitions where shared across each .zuul.yaml in\nboth branches. When a job definition was changed in one branch, Zuul CI\ncould pick the job definition from the other branch, which was not\nintended.\n\nThe problem arises when mixing explicit job.branches matchers with\nimplicit branch matching, when defining same jobs on multiple branches.\nZuul CI expects that jobs to be defined in one or the other branch, not\nboth at the same time. One should only use job.branches matchers from\nsingle-branched projects, e.g. trusted config repos. When defining jobs\nin branched repositories one selects which job definition to use by the\nbranch associated with the triggering event instead.\nEach trigger has a branch associated with it, whether it is the branch\ntargeted by the change being proposed, the branch to which a commit\nmerged, a branch attached to a timer trigger etc. This branch name is\nsearched across involved projects in order to determine what job\ndefinition should be used.\n\nThe job.branches directive is rarely applied to a job which will be\ncopied to multiple branches. When you have multiple copies of a job\nwith the job.branches attribute, Zuul CI could pick any of the job\ndefinitions which might not be the one you expected.\nThe job.branches attribute is useful in single branch config\nrepositories where a specific job definition has to be applied to a\nspecific branch of the repository. Another definition of the job\nwill exist in another branch of the config repository.\n\nThis patch removes job definitions which are specific to other\nbranches, except for parent jobs which are shared across branches.\n\nSigned-off-by: Jakob Meng <code@jakobmeng.de>\nChange-Id: Idb8720bd96843b7807dd5cb62b30c1edf3a7a37c\n'}]",0,840437,c83e0e39b1f442a9849e88895872a01c51438a71,6,2,1,32962,,,0,"Removed job definitions for stable/1.0.0 branch

Previously, all job definitions where shared across each .zuul.yaml in
both branches. When a job definition was changed in one branch, Zuul CI
could pick the job definition from the other branch, which was not
intended.

The problem arises when mixing explicit job.branches matchers with
implicit branch matching, when defining same jobs on multiple branches.
Zuul CI expects that jobs to be defined in one or the other branch, not
both at the same time. One should only use job.branches matchers from
single-branched projects, e.g. trusted config repos. When defining jobs
in branched repositories one selects which job definition to use by the
branch associated with the triggering event instead.
Each trigger has a branch associated with it, whether it is the branch
targeted by the change being proposed, the branch to which a commit
merged, a branch attached to a timer trigger etc. This branch name is
searched across involved projects in order to determine what job
definition should be used.

The job.branches directive is rarely applied to a job which will be
copied to multiple branches. When you have multiple copies of a job
with the job.branches attribute, Zuul CI could pick any of the job
definitions which might not be the one you expected.
The job.branches attribute is useful in single branch config
repositories where a specific job definition has to be applied to a
specific branch of the repository. Another definition of the job
will exist in another branch of the config repository.

This patch removes job definitions which are specific to other
branches, except for parent jobs which are shared across branches.

Signed-off-by: Jakob Meng <code@jakobmeng.de>
Change-Id: Idb8720bd96843b7807dd5cb62b30c1edf3a7a37c
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/37/840437/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,c83e0e39b1f442a9849e88895872a01c51438a71,remove_jobs_from_stable_branch,"# Keep parent jobs in sync between branches to avoid issues e.g. with job scheduling. Zuul CI will search in master # branch first when collecting job variants during job freeze which can have unwanted side effects. For example, when # parent job *-base has been changed in stable/1.0.0 branch, Zuul could still use *-base variants from master branch # during job freeze on child jobs such as *-ussuri-ansible-2.11 etc. # # Do not share job definitions with the job.branches attribute across multiple branches. Do not define jobs which are # specific to other branches, except for parent jobs which are shared across branches. For example, to not add a job # which is specific for the stable/1.0.0 branch to the .zuul.yaml in master branch. In particular do not use the # job.branches directive on a job which will be copied to multiple branches. When you have multiple copies of a job with # the job.branches attribute, Zuul CI could pick any of the job definitions which might not be the one you expected. ","# Keep this file in sync between branches to avoid issues e.g. with job scheduling. Zuul CI will search in master branch # first when collecting job variants during job freeze which can have unwanted side effects. For example, when parent # job *-base has been changed in stable/1.0.0 branch, Zuul could still use *-base variants from master branch during job # freeze on child jobs such as *-ussuri-ansible-2.11 etc. name: ansible-collections-openstack-functional-devstack-octavia parent: ansible-collections-openstack-functional-devstack-octavia-base branches: stable/1.0.0 description: | Run openstack collections functional tests against a master devstack with Octavia plugin enabled, using 0.*.* releases of openstacksdk and latest ansible release. Run it only on Load Balancer changes. required-projects: - # Choose parent devstack job from master branch instead of non-existing stable/1.0.0 branch name: openstack/devstack override-checkout: master - # Choose parent devstack job from master branch instead of non-existing stable/1.0.0 branch name: openstack/openstacksdk override-checkout: master vars: tox_constraints_file: '{{ ansible_user_dir }}/{{ zuul.project.src_dir }}/tests/constraints-openstacksdk-0.x.x.txt' - job:- job: name: ansible-collections-openstack-functional-devstack-releases parent: ansible-collections-openstack-functional-devstack-base branches: stable/1.0.0 description: | Run openstack collections functional tests against a master devstack using 0.*.* releases of openstacksdk and latest ansible release required-projects: - name: github.com/ansible/ansible override-checkout: stable-2.9 - # Choose parent devstack job from master branch instead of non-existing stable/1.0.0 branch name: openstack/devstack override-checkout: master - # Choose parent devstack job from master branch instead of non-existing stable/1.0.0 branch name: openstack/openstacksdk override-checkout: master vars: tox_constraints_file: '{{ ansible_user_dir }}/{{ zuul.project.src_dir }}/tests/constraints-openstacksdk-0.x.x.txt' tox_install_siblings: false name: ansible-collections-openstack-functional-devstack-ansible-2.9 parent: ansible-collections-openstack-functional-devstack-base branches: stable/1.0.0 description: | Run openstack collections functional tests against a master devstack using 0.*.* releases of openstacksdk and stable 2.9 branch of ansible required-projects: - name: github.com/ansible/ansible override-checkout: stable-2.9 - # Choose parent devstack job from master branch instead of non-existing stable/1.0.0 branch name: openstack/devstack override-checkout: master - name: openstack/openstacksdk # Yoga has the latest SDK release of the 0.*.* series atm override-checkout: stable/yoga vars: tox_envlist: ansible-2.9 - job: name: ansible-collections-openstack-functional-devstack-ansible-2.11 parent: ansible-collections-openstack-functional-devstack-base branches: stable/1.0.0 description: | Run openstack collections functional tests against a master devstack using 0.*.* releases of openstacksdk and stable 2.12 branch of ansible required-projects: - name: github.com/ansible/ansible override-checkout: stable-2.11 - # Choose parent devstack job from master branch instead of non-existing stable/1.0.0 branch name: openstack/devstack override-checkout: master - name: openstack/openstacksdk # Yoga has the latest SDK release of the 0.*.* series atm override-checkout: stable/yoga vars: tox_envlist: ansible-2.11 - job: name: ansible-collections-openstack-functional-devstack-ansible-2.12 parent: ansible-collections-openstack-functional-devstack-base branches: stable/1.0.0 description: | Run openstack collections functional tests against a master devstack using 0.*.* releases of openstacksdk and stable 2.12 branch of ansible required-projects: - name: github.com/ansible/ansible override-checkout: stable-2.12 - # Choose parent devstack job from master branch instead of non-existing stable/1.0.0 branch name: openstack/devstack override-checkout: master - name: openstack/openstacksdk # Yoga has the latest SDK release of the 0.*.* series atm override-checkout: stable/yoga vars: tox_envlist: ansible-2.12 - job:# Stable branches tests - job: name: ansible-collections-openstack-functional-devstack-xena-ansible-2.12 # Do not inherit from any parent job which does not run for branch stable/1.0.0 because Zuul would dismiss this job # when collecting parent job variants. For example, when job.branches is set to master in a parent job, then Zuul # will not match that job when it collects job variants. # # Do not inherit from any parent job which sets job.required-projects.override-checkout on openstack/devstack # because Zuul would use that git ref instead of stable branch defined below to checkout projects of parent devstack # jobs when collecting variants for parent jobs. parent: ansible-collections-openstack-functional-devstack-base description: | Run openstack collections functional tests against a xena devstack using xena branch of openstacksdk and stable 2.12 branch of ansible branches: stable/1.0.0 override-checkout: stable/xena # job.override-checkout will not override job.required-projects.override-checkout in parent jobs required-projects: - name: github.com/ansible/ansible override-checkout: stable-2.12 - # Choose parent devstack job from stable/1.0.0 branch instead of non-existing stable/xena branch name: openstack/ansible-collections-openstack override-checkout: stable/1.0.0 - # Choose parent devstack job from stable/xena branch name: openstack/devstack override-checkout: stable/xena - name: openstack/openstacksdk override-checkout: stable/xena vars: tox_envlist: ansible-2.12 - job: name: ansible-collections-openstack-functional-devstack-wallaby-ansible-2.12 # Do not inherit from any parent job which does not run for branch stable/1.0.0 because Zuul would dismiss this job # when collecting parent job variants. For example, when job.branches is set to master in a parent job, then Zuul # will not match that job when it collects job variants. # # Do not inherit from any parent job which sets job.required-projects.override-checkout on openstack/devstack # because Zuul would use that git ref instead of stable branch defined below to checkout projects of parent devstack # jobs when collecting variants for parent jobs. parent: ansible-collections-openstack-functional-devstack-base description: | Run openstack collections functional tests against a wallaby devstack using wallaby branch of openstacksdk and stable 2.12 branch of ansible branches: stable/1.0.0 override-checkout: stable/wallaby # job.override-checkout will not override job.required-projects.override-checkout in parent jobs required-projects: - name: github.com/ansible/ansible override-checkout: stable-2.12 - # Choose parent devstack job from stable/1.0.0 branch instead of non-existing stable/wallaby branch name: openstack/ansible-collections-openstack override-checkout: stable/1.0.0 - # Choose parent devstack job from stable/wallaby branch name: openstack/devstack override-checkout: stable/wallaby - name: openstack/openstacksdk override-checkout: stable/wallaby vars: tox_envlist: ansible-2.12 - job: name: ansible-collections-openstack-functional-devstack-victoria-ansible-2.12 # Do not inherit from any parent job which does not run for branch stable/1.0.0 because Zuul would dismiss this job # when collecting parent job variants. For example, when job.branches is set to master in a parent job, then Zuul # will not match that job when it collects job variants. # # Do not inherit from any parent job which sets job.required-projects.override-checkout on openstack/devstack # because Zuul would use that git ref instead of stable branch defined below to checkout projects of parent devstack # jobs when collecting variants for parent jobs. parent: ansible-collections-openstack-functional-devstack-base description: | Run openstack collections functional tests against a victoria devstack using victoria branch of openstacksdk and stable 2.12 branch of ansible branches: stable/1.0.0 override-checkout: stable/victoria # job.override-checkout will not override job.required-projects.override-checkout in parent jobs required-projects: - name: github.com/ansible/ansible override-checkout: stable-2.12 - # Choose parent devstack job from stable/1.0.0 branch instead of non-existing stable/victoria branch name: openstack/ansible-collections-openstack override-checkout: stable/1.0.0 - # Choose parent devstack job from stable/victoria branch name: openstack/devstack override-checkout: stable/victoria - name: openstack/openstacksdk override-checkout: stable/victoria vars: tox_envlist: ansible-2.12 - job: name: ansible-collections-openstack-functional-devstack-ussuri-ansible-2.11 # Do not inherit from any parent job which does not run for branch stable/1.0.0 because Zuul would dismiss this job # when collecting parent job variants. For example, when job.branches is set to master in a parent job, then Zuul # will not match that job when it collects job variants. # # Do not inherit from any parent job which sets job.required-projects.override-checkout on openstack/devstack # because Zuul would use that git ref instead of stable branch defined below to checkout projects of parent devstack # jobs when collecting variants for parent jobs. parent: ansible-collections-openstack-functional-devstack-base description: | Run openstack collections functional tests against a ussuri devstack using ussuri branch of openstacksdk and stable 2.11 branch of ansible branches: stable/1.0.0 override-checkout: stable/ussuri # job.override-checkout will not override job.required-projects.override-checkout in parent jobs required-projects: - name: github.com/ansible/ansible override-checkout: stable-2.11 - # Choose parent devstack job from stable/1.0.0 branch instead of non-existing stable/ussuri branch name: openstack/ansible-collections-openstack override-checkout: stable/1.0.0 - # Choose parent devstack job from stable/ussuri branch name: openstack/devstack override-checkout: stable/ussuri - name: openstack/openstacksdk override-checkout: stable/ussuri vars: tox_envlist: ansible-2.11 - job: name: ansible-collections-openstack-functional-devstack-train-ansible-2.11 # Do not inherit from any parent job which does not run for branch stable/1.0.0 because Zuul would dismiss this job # when collecting parent job variants. For example, when job.branches is set to master in a parent job, then Zuul # will not match that job when it collects job variants. # # Do not inherit from any parent job which sets job.required-projects.override-checkout on openstack/devstack # because Zuul would use that git ref instead of stable branch defined below to checkout projects of parent devstack # jobs when collecting variants for parent jobs. parent: ansible-collections-openstack-functional-devstack-base description: | Run openstack collections functional tests against a train devstack using train branch of openstacksdk and stable 2.11 branch of ansible branches: stable/1.0.0 override-checkout: stable/train # job.override-checkout will not override job.required-projects.override-checkout in parent jobs required-projects: - name: github.com/ansible/ansible override-checkout: stable-2.11 - # Choose parent devstack job from stable/1.0.0 branch instead of non-existing stable/train branch name: openstack/ansible-collections-openstack override-checkout: stable/1.0.0 - # Choose parent devstack job from stable/train branch name: openstack/devstack override-checkout: stable/train - name: openstack/openstacksdk override-checkout: stable/train vars: tox_envlist: ansible-2.11 - job: name: ansible-collections-openstack-functional-devstack-queens-ansible-2.11 # Do not inherit from any parent job which does not run for branch stable/1.0.0 because Zuul would dismiss this job # when collecting parent job variants. For example, when job.branches is set to master in a parent job, then Zuul # will not match that job when it collects job variants. # # Do not inherit from any parent job which sets job.required-projects.override-checkout on openstack/devstack # because Zuul would use that git ref instead of stable branch defined below to checkout projects of parent devstack # jobs when collecting variants for parent jobs. parent: ansible-collections-openstack-functional-devstack-base description: | Run openstack collections functional tests against a queens devstack using train branch of openstacksdk and stable 2.11 branch of ansible branches: stable/1.0.0 override-checkout: stable/queens # job.override-checkout will not override job.required-projects.override-checkout in parent jobs required-projects: - name: github.com/ansible/ansible override-checkout: stable-2.11 - # Choose parent devstack job from stable/1.0.0 branch instead of non-existing stable/queens branch name: openstack/ansible-collections-openstack override-checkout: stable/1.0.0 - # Choose parent devstack job from stable/queens branch name: openstack/devstack override-checkout: stable/queens - name: openstack/heat # Earliest branch in Heat repository is stable/rocky override-checkout: stable/rocky - name: openstack/openstacksdk # Run queens with highest possible py2 version of SDK override-checkout: stable/train vars: tox_envlist: ansible-2.11 name: tripleo-ci-centos-8-standalone-train-osa parent: tripleo-ci-centos-8-standalone-osa branches: stable/1.0.0 override-checkout: stable/train vars: branch_override: stable/train - job: name: tripleo-ci-centos-8-standalone-wallaby-osa parent: tripleo-ci-centos-8-standalone-osa branches: stable/1.0.0 override-checkout: stable/wallaby vars: branch_override: stable/wallaby - job: name: tripleo-ci-centos-9-standalone-wallaby-osa parent: tripleo-ci-centos-9-standalone-osa branches: stable/1.0.0 override-checkout: stable/wallaby vars: branch_override: stable/wallaby - job: - ansible-collections-openstack-functional-devstack-xena-ansible-2.12: dependencies: *deps_unit_lint - ansible-collections-openstack-functional-devstack-wallaby-ansible-2.12: dependencies: *deps_unit_lint - ansible-collections-openstack-functional-devstack-train-ansible-2.11: dependencies: *deps_unit_lint - tripleo-ci-centos-8-standalone-wallaby-osa: dependencies: *deps_unit_lint - tripleo-ci-centos-8-standalone-train-osa: voting: false dependencies: *deps_unit_lint - tripleo-ci-centos-9-standalone-wallaby-osa: voting: false dependencies: *deps_unit_lint - ansible-collections-openstack-functional-devstack-wallaby-ansible-2.12 - ansible-collections-openstack-functional-devstack-xena-ansible-2.12 - ansible-collections-openstack-functional-devstack-train-ansible-2.11 - tripleo-ci-centos-8-standalone-wallaby-osa - ansible-collections-openstack-functional-devstack-xena-ansible-2.12 - ansible-collections-openstack-functional-devstack-wallaby-ansible-2.12 - ansible-collections-openstack-functional-devstack-victoria-ansible-2.12 - ansible-collections-openstack-functional-devstack-train-ansible-2.11 - ansible-collections-openstack-functional-devstack-queens-ansible-2.11 - tripleo-ci-centos-9-standalone-wallaby-osa - tripleo-ci-centos-8-standalone-train-osa - tripleo-ci-centos-8-standalone-wallaby-osa - ansible-collections-openstack-functional-devstack-victoria-ansible-2.12 - ansible-collections-openstack-functional-devstack-ussuri-ansible-2.11 - ansible-collections-openstack-functional-devstack-queens-ansible-2.11",11,341
openstack%2Fopenstack-ansible-os_tempest~master~If41e332ea46f7a80bf86de37caf70a7ee7453e13,openstack/openstack-ansible-os_tempest,master,If41e332ea46f7a80bf86de37caf70a7ee7453e13,Set default value for tempest_neutron_public_network_id,ABANDONED,2022-04-28 16:19:52.000000000,2022-05-04 13:18:40.000000000,,"[{'_account_id': 9976}, {'_account_id': 13095}, {'_account_id': 14611}, {'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 29881}, {'_account_id': 30002}]","[{'number': 1, 'created': '2022-04-28 16:19:52.000000000', 'files': ['defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/e19179859ccd75fc478a190a35d36af95c7c35d5', 'message': 'Set default value for tempest_neutron_public_network_id\n\nhttps://review.opendev.org/c/openstack/openstack-ansible-os_tempest/+/803477\nmodifies the os_tempest role to create only specific tempest\nresources.\n\ntempest_service_available_neutron and tempest_public_net_create needs\nto be true to set the value of tempest_neutron_public_network_id [0].\n\ntempest_neutron_public_network_id is also used in tempestconf\nprofile [1]. Due to [0], tempest_neutron_public_network_id is coming\nundefined if any of the above conditions does not match.\n\nIt broke the os_tempest on TripleO undercloud deployment\nwhere we donot have neutron services fully enabled.\n\nBy Setting the default value fixes the issue.\n\n[0]. https://opendev.org/openstack/openstack-ansible-os_tempest/src/commit/1baf863bf6dc2630e826fee66541c8203a12609c/tasks/tempest_resources.yml#L220\n[1]. https://opendev.org/openstack/openstack-ansible-os_tempest/src/commit/1baf863bf6dc2630e826fee66541c8203a12609c/defaults/main.yml#L316\n\nCloses-Bug: #1970710\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: If41e332ea46f7a80bf86de37caf70a7ee7453e13\n'}]",4,839790,e19179859ccd75fc478a190a35d36af95c7c35d5,8,7,1,12393,,,0,"Set default value for tempest_neutron_public_network_id

https://review.opendev.org/c/openstack/openstack-ansible-os_tempest/+/803477
modifies the os_tempest role to create only specific tempest
resources.

tempest_service_available_neutron and tempest_public_net_create needs
to be true to set the value of tempest_neutron_public_network_id [0].

tempest_neutron_public_network_id is also used in tempestconf
profile [1]. Due to [0], tempest_neutron_public_network_id is coming
undefined if any of the above conditions does not match.

It broke the os_tempest on TripleO undercloud deployment
where we donot have neutron services fully enabled.

By Setting the default value fixes the issue.

[0]. https://opendev.org/openstack/openstack-ansible-os_tempest/src/commit/1baf863bf6dc2630e826fee66541c8203a12609c/tasks/tempest_resources.yml#L220
[1]. https://opendev.org/openstack/openstack-ansible-os_tempest/src/commit/1baf863bf6dc2630e826fee66541c8203a12609c/defaults/main.yml#L316

Closes-Bug: #1970710

Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
Change-Id: If41e332ea46f7a80bf86de37caf70a7ee7453e13
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_tempest refs/changes/90/839790/1 && git format-patch -1 --stdout FETCH_HEAD,['defaults/main.yml'],1,e19179859ccd75fc478a190a35d36af95c7c35d5,lp/1970710," network-id: ""{{ tempest_neutron_public_network_id | default('') }}"""," network-id: ""{{ tempest_neutron_public_network_id }}""",1,1
openstack%2Fpython-tripleoclient~stable%2Ftrain~I65fdbd0ffd42411196b0b3a25690670b76dda2c8,openstack/python-tripleoclient,stable/train,I65fdbd0ffd42411196b0b3a25690670b76dda2c8,[Train-Only] Use Validations libs Client for main validation entry point,MERGED,2022-01-06 09:01:20.000000000,2022-05-04 13:13:46.000000000,2022-05-04 13:12:32.000000000,"[{'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 15895}, {'_account_id': 22348}, {'_account_id': 22954}, {'_account_id': 27427}, {'_account_id': 32926}]","[{'number': 1, 'created': '2022-01-06 09:01:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/1ad5768f16fcb936de87da09e6ce35721d0c1605', 'message': 'Use Validations libs Client for main validation entry point\n\nThis patch implement validations-libs CLI in tripleo-validator\nin order to converge and get only one entry point for the validations\nin tripleo and Openstack.\n\nDepends-On: https://review.opendev.org/c/openstack/validations-libs/+/782574\nDepends-On: https://review.opendev.org/c/openstack/requirements/+/793797\n\nChange-Id: I65fdbd0ffd42411196b0b3a25690670b76dda2c8\n(cherry picked from commit 10a08737703f9d4f152433ff95d5b21c3dfe4ec9)\n'}, {'number': 2, 'created': '2022-01-19 07:55:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/59f42aa4c3d7a234172050447364e7a56b92ae18', 'message': 'Use Validations libs Client for main validation entry point\n\nThis patch implement validations-libs CLI in tripleo-validator\nin order to converge and get only one entry point for the validations\nin tripleo and Openstack.\n\nDepends-On: https://review.opendev.org/c/openstack/validations-libs/+/782574\nDepends-On: https://review.opendev.org/c/openstack/requirements/+/793797\n\nChange-Id: I65fdbd0ffd42411196b0b3a25690670b76dda2c8\n(cherry picked from commit 10a08737703f9d4f152433ff95d5b21c3dfe4ec9)\n'}, {'number': 3, 'created': '2022-01-21 10:14:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/42aa57079451b80fe390616179f9c029636b4d0f', 'message': 'Use Validations libs Client for main validation entry point\n\nThis patch implement validations-libs CLI in tripleo-validator\nin order to converge and get only one entry point for the validations\nin tripleo and Openstack.\n\nDepends-On: https://review.opendev.org/c/openstack/validations-libs/+/782574\nDepends-On: https://review.opendev.org/c/openstack/requirements/+/823683\n\nChange-Id: I65fdbd0ffd42411196b0b3a25690670b76dda2c8\n(cherry picked from commit 10a08737703f9d4f152433ff95d5b21c3dfe4ec9)\n'}, {'number': 4, 'created': '2022-01-31 14:52:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/b1eb8f25ae585472f74043b13c221c7db9a24b60', 'message': 'Use Validations libs Client for main validation entry point\n\nThis patch implement validations-libs CLI in tripleo-validator\nin order to converge and get only one entry point for the validations\nin tripleo and Openstack.\n\nDepends-On: https://review.opendev.org/c/openstack/validations-libs/+/782574\nDepends-On: https://review.opendev.org/c/openstack/requirements/+/823683\n\nChange-Id: I65fdbd0ffd42411196b0b3a25690670b76dda2c8\n(cherry picked from commit 10a08737703f9d4f152433ff95d5b21c3dfe4ec9)\n'}, {'number': 5, 'created': '2022-01-31 15:03:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/0c40b182af3cb822b0607744956bdd92a1ee5356', 'message': 'Use Validations libs Client for main validation entry point\n\nThis patch implement validations-libs CLI in tripleo-validator\nin order to converge and get only one entry point for the validations\nin tripleo and Openstack.\n\nDepends-On: https://review.opendev.org/c/openstack/validations-libs/+/782574\nDepends-On: https://review.opendev.org/c/openstack/requirements/+/823683\n\nChange-Id: I65fdbd0ffd42411196b0b3a25690670b76dda2c8\n(cherry picked from commit 10a08737703f9d4f152433ff95d5b21c3dfe4ec9)\n'}, {'number': 6, 'created': '2022-02-08 09:09:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/4f4d7e5b5e574a0e0a2c6b695a3a174bb17b3355', 'message': 'Use Validations libs Client for main validation entry point\n\nThis patch implement validations-libs CLI in tripleo-validator\nin order to converge and get only one entry point for the validations\nin tripleo and Openstack.\n\nDepends-On: https://review.opendev.org/c/openstack/validations-libs/+/782574\nDepends-On: https://review.opendev.org/c/openstack/requirements/+/824960\n\nChange-Id: I65fdbd0ffd42411196b0b3a25690670b76dda2c8\n(cherry picked from commit 10a08737703f9d4f152433ff95d5b21c3dfe4ec9)\n'}, {'number': 7, 'created': '2022-03-14 12:52:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/23077f69206f3113f32e0d3acf4b1bc24b42b9f6', 'message': 'Use Validations libs Client for main validation entry point\n\nThis patch implement validations-libs CLI in tripleo-validator\nin order to converge and get only one entry point for the validations\nin tripleo and Openstack.\n\nDepends-On: https://review.opendev.org/c/openstack/validations-libs/+/782574\nDepends-On: https://review.opendev.org/c/openstack/requirements/+/824960\n\nChange-Id: I65fdbd0ffd42411196b0b3a25690670b76dda2c8\n(cherry picked from commit 10a08737703f9d4f152433ff95d5b21c3dfe4ec9)\n'}, {'number': 8, 'created': '2022-04-05 09:37:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/af5c4433c70c4e28eea72cea156b925ef5fec037', 'message': 'Use Validations libs Client for main validation entry point\n\nThis patch implement validations-libs CLI in tripleo-validator\nin order to converge and get only one entry point for the validations\nin tripleo and Openstack.\n\nDepends-On: https://review.opendev.org/c/openstack/validations-libs/+/782574\nDepends-On: https://review.opendev.org/c/openstack/requirements/+/824960\n\nChange-Id: I65fdbd0ffd42411196b0b3a25690670b76dda2c8\n(cherry picked from commit 10a08737703f9d4f152433ff95d5b21c3dfe4ec9)\n'}, {'number': 9, 'created': '2022-04-07 08:12:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/7aa028cc03b15b02ccea8a42d4b5dc138a3e5686', 'message': 'Use Validations libs Client for main validation entry point\n\nThis patch implement validations-libs CLI in tripleo-validator\nin order to converge and get only one entry point for the validations\nin tripleo and Openstack.\n\nDepends-On: https://review.opendev.org/c/openstack/validations-libs/+/782574\nDepends-On: https://review.opendev.org/c/openstack/requirements/+/824960\n\nChange-Id: I65fdbd0ffd42411196b0b3a25690670b76dda2c8\n(cherry picked from commit 10a08737703f9d4f152433ff95d5b21c3dfe4ec9)\n'}, {'number': 10, 'created': '2022-04-07 08:18:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/264095ed07d57086a8da0904cadcb97556d5198b', 'message': 'Use Validations libs Client for main validation entry point\n\nThis patch implement validations-libs CLI in tripleo-validator\nin order to converge and get only one entry point for the validations\nin tripleo and Openstack.\n\nDepends-On: https://review.opendev.org/c/openstack/validations-libs/+/782574\nDepends-On: https://review.opendev.org/c/openstack/requirements/+/824960\n\nChange-Id: I65fdbd0ffd42411196b0b3a25690670b76dda2c8\n(cherry picked from commit 10a08737703f9d4f152433ff95d5b21c3dfe4ec9)\n'}, {'number': 11, 'created': '2022-04-07 08:28:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/f7f318d8e745e486e3143ac24ce6560e99da8d81', 'message': 'Use Validations libs Client for main validation entry point\n\nThis patch implement validations-libs CLI in tripleo-validator\nin order to converge and get only one entry point for the validations\nin tripleo and Openstack.\n\nDepends-On: https://review.opendev.org/c/openstack/validations-libs/+/782574\nDepends-On: https://review.opendev.org/c/openstack/requirements/+/824960\n\nChange-Id: I65fdbd0ffd42411196b0b3a25690670b76dda2c8\n(cherry picked from commit 10a08737703f9d4f152433ff95d5b21c3dfe4ec9)\n'}, {'number': 12, 'created': '2022-04-25 07:51:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/6dee44004021ebcac97efd4311c70a7c92ea3a6e', 'message': 'Use Validations libs Client for main validation entry point\n\nThis patch implement validations-libs CLI in tripleo-validator\nin order to converge and get only one entry point for the validations\nin tripleo and Openstack.\n\nDepends-On: https://review.opendev.org/c/openstack/validations-libs/+/782574\nDepends-On: https://review.opendev.org/c/openstack/requirements/+/824960\n\nChange-Id: I65fdbd0ffd42411196b0b3a25690670b76dda2c8\n(cherry picked from commit 10a08737703f9d4f152433ff95d5b21c3dfe4ec9)\n'}, {'number': 13, 'created': '2022-04-26 06:29:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/bbd90ec6f2658c144805f728804570302a23f4fd', 'message': 'Use Validations libs Client for main validation entry point\n\nThis patch implement validations-libs CLI in tripleo-validator\nin order to converge and get only one entry point for the validations\nin tripleo and Openstack.\n\nDepends-On: https://review.opendev.org/c/openstack/validations-libs/+/782574\nDepends-On: https://review.opendev.org/c/openstack/requirements/+/824960\n\nDepends-On: https://review.opendev.org/c/openstack/requirements/+/837263\n\nChange-Id: I65fdbd0ffd42411196b0b3a25690670b76dda2c8\n(cherry picked from commit 10a08737703f9d4f152433ff95d5b21c3dfe4ec9)\n'}, {'number': 14, 'created': '2022-04-26 07:01:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/bded5d8686c6e4fe1521f759238eee4241fa78ed', 'message': '[Train-Only] Use Validations libs Client for main validation entry point\n\nThis patch implement validations-libs CLI in tripleo-validator\nin order to converge and get only one entry point for the validations\nin tripleo and Openstack.\n\nDepends-On: https://review.opendev.org/c/openstack/validations-libs/+/782574\nDepends-On: https://review.opendev.org/c/openstack/requirements/+/824960\n\nDepends-On: https://review.opendev.org/c/openstack/requirements/+/837263\n\nChange-Id: I65fdbd0ffd42411196b0b3a25690670b76dda2c8\n(cherry picked from commit 10a08737703f9d4f152433ff95d5b21c3dfe4ec9)\n'}, {'number': 15, 'created': '2022-05-03 06:55:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/eb68b773ad0d9a32efcef6a67d7593c47689dc75', 'message': '[Train-Only] Use Validations libs Client for main validation entry point\n\nThis patch implement validations-libs CLI in tripleo-validator\nin order to converge and get only one entry point for the validations\nin tripleo and Openstack.\n\nDepends-On: https://review.opendev.org/c/openstack/validations-libs/+/782574\nDepends-On: https://review.opendev.org/c/openstack/requirements/+/824960\n\nDepends-On: https://review.opendev.org/c/openstack/requirements/+/837263\n\nChange-Id: I65fdbd0ffd42411196b0b3a25690670b76dda2c8\n(cherry picked from commit 10a08737703f9d4f152433ff95d5b21c3dfe4ec9)\n'}, {'number': 16, 'created': '2022-05-03 12:16:25.000000000', 'files': ['tripleoclient/tests/v1/tripleo/test_tripleo_validator.py', 'requirements.txt', 'test-requirements.txt', 'tripleoclient/v1/tripleo_validator.py', 'tripleoclient/tests/fakes.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/ea95c17a5b73361be10b08bf3d0336ce87a7fb93', 'message': '[Train-Only] Use Validations libs Client for main validation entry point\n\nThis patch implement validations-libs CLI in tripleo-validator\nin order to converge and get only one entry point for the validations\nin tripleo and Openstack.\n\nDepends-On: https://review.opendev.org/c/openstack/validations-libs/+/782574\nDepends-On: https://review.opendev.org/c/openstack/requirements/+/824960\n\nDepends-On: https://review.opendev.org/c/openstack/requirements/+/837263\n\nChange-Id: I65fdbd0ffd42411196b0b3a25690670b76dda2c8\n(cherry picked from commit 10a08737703f9d4f152433ff95d5b21c3dfe4ec9)\n'}]",10,823644,ea95c17a5b73361be10b08bf3d0336ce87a7fb93,59,7,16,16515,,,0,"[Train-Only] Use Validations libs Client for main validation entry point

This patch implement validations-libs CLI in tripleo-validator
in order to converge and get only one entry point for the validations
in tripleo and Openstack.

Depends-On: https://review.opendev.org/c/openstack/validations-libs/+/782574
Depends-On: https://review.opendev.org/c/openstack/requirements/+/824960

Depends-On: https://review.opendev.org/c/openstack/requirements/+/837263

Change-Id: I65fdbd0ffd42411196b0b3a25690670b76dda2c8
(cherry picked from commit 10a08737703f9d4f152433ff95d5b21c3dfe4ec9)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/44/823644/16 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/tests/v1/tripleo/test_tripleo_validator.py', 'requirements.txt', 'test-requirements.txt', 'tripleoclient/v1/tripleo_validator.py', 'tripleoclient/tests/fakes.py']",5,1ad5768f16fcb936de87da09e6ce35721d0c1605,,import logging self.LOG = logging.getLogger('FakeApp'),,95,532
openstack%2Fopenstack-ansible-os_keystone~master~Ic9f43cc3f6b62b5098e85afcf55f008c022517f6,openstack/openstack-ansible-os_keystone,master,Ic9f43cc3f6b62b5098e85afcf55f008c022517f6,Handle host with unset ansible_host,MERGED,2021-08-11 06:42:55.000000000,2022-05-04 13:13:26.000000000,2022-05-04 13:12:10.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2021-08-11 06:42:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/fc9142af0ced5b7116ad4f1c2216fe23a65ff737', 'message': 'Handle host with unset ansible_host\n\nChange-Id: Ic9f43cc3f6b62b5098e85afcf55f008c022517f6\n'}, {'number': 2, 'created': '2021-08-11 12:43:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/16e5373d07025edb067e2c9c26d9fa611f0266ee', 'message': 'Handle host with unset ansible_host\n\nWe are having all machines in DNS and want to be able to change IP addresses in DNS. So we do not \nuse ansible_host in our host_vars/machine.yml\n\nAs os_keystone is the first Ansible role we use. We will make similar changes to other roles later \non.\n\nChange-Id: Ic9f43cc3f6b62b5098e85afcf55f008c022517f6\n'}, {'number': 3, 'created': '2021-11-26 13:30:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/e10b6328c40ae85d653c48516ebc887311618f60', 'message': 'Handle host with unset ansible_host\n\nWe are having all machines in DNS and want to be able to change IP addresses in DNS. So we do not \nuse ansible_host in our host_vars/machine.yml\n\nAs os_keystone is the first Ansible role we use. We will make similar changes to other roles later \non.\n\nChange-Id: Ic9f43cc3f6b62b5098e85afcf55f008c022517f6\n'}, {'number': 4, 'created': '2022-04-26 13:39:33.000000000', 'files': ['templates/keystone-credential-rotate.sh.j2', 'tasks/keystone_credential_distribute.yml', 'tasks/keystone_fernet_keys_distribute.yml', 'templates/keystone-fernet-rotate.sh.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/54a4e496b916c9a86af5429074e37bc09178482f', 'message': 'Handle host with unset ansible_host\n\nWe are having all machines in DNS and want to be able to change IP addresses in DNS. So we do not \nuse ansible_host in our host_vars/machine.yml\n\nAs os_keystone is the first Ansible role we use. We will make similar changes to other roles later \non.\n\nChange-Id: Ic9f43cc3f6b62b5098e85afcf55f008c022517f6\n'}]",3,804206,54a4e496b916c9a86af5429074e37bc09178482f,20,3,4,33872,,,0,"Handle host with unset ansible_host

We are having all machines in DNS and want to be able to change IP addresses in DNS. So we do not 
use ansible_host in our host_vars/machine.yml

As os_keystone is the first Ansible role we use. We will make similar changes to other roles later 
on.

Change-Id: Ic9f43cc3f6b62b5098e85afcf55f008c022517f6
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_keystone refs/changes/06/804206/4 && git format-patch -1 --stdout FETCH_HEAD,"['templates/keystone-credential-rotate.sh.j2', 'tasks/keystone_credential_distribute.yml', 'tasks/keystone_fernet_keys_distribute.yml', 'templates/keystone-fernet-rotate.sh.j2']",4,fc9142af0ced5b7116ad4f1c2216fe23a65ff737,if_ansible_host_unset, {% if 'ansible_host' in hostvars[host] %} {% set destination_host = hostvars[host]['ansible_host'] %} {% else %} {% set destination_host = inventory_hostname %} {% endif %} {{ keystone_system_user_name }}@{{ destination_host }}:{{ keystone_fernet_tokens_key_repository }}/ {{ keystone_system_user_name }}@{{ destination_host }}:{{ keystone_fernet_tokens_key_repository }}/, {{ keystone_system_user_name }}@{{ hostvars[host]['ansible_host'] }}:{{ keystone_fernet_tokens_key_repository }}/ {{ keystone_system_user_name }}@{{ hostvars[host]['ansible_host'] }}:{{ keystone_fernet_tokens_key_repository }}/,15,6
openstack%2Fvalidations-libs~master~If57653f20b23cecdb7514514191264ad3f37391b,openstack/validations-libs,master,If57653f20b23cecdb7514514191264ad3f37391b,Removing references to Babel,MERGED,2022-05-02 12:35:02.000000000,2022-05-04 13:12:34.000000000,2022-05-04 13:12:34.000000000,"[{'_account_id': 15895}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}]","[{'number': 1, 'created': '2022-05-02 12:35:02.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/9a9b011b86a8facbce3a46d21f2d4ccd9ce2f099', 'message': 'Removing references to Babel\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: If57653f20b23cecdb7514514191264ad3f37391b\n'}]",0,840179,9a9b011b86a8facbce3a46d21f2d4ccd9ce2f099,8,4,1,32926,,,0,"Removing references to Babel

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: If57653f20b23cecdb7514514191264ad3f37391b
",git fetch https://review.opendev.org/openstack/validations-libs refs/changes/79/840179/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,9a9b011b86a8facbce3a46d21f2d4ccd9ce2f099,removing-babel,,[compile_catalog] directory = validations-libs/locale domain = validations-lib [update_catalog] domain = validations-libs output_dir = validations-libs/locale input_file = validations-libs/locale/validations-libs.pot [extract_messages] keywords = _ gettext ngettext l_ lazy_gettext mapping_file = babel.cfg output_file = validations-libs/locale/validations-libs.pot ,0,14
openstack%2Fansible-collections-openstack~stable%2F1.0.0~Ie59da441d39fe2d0e49430662d853bc9628181e0,openstack/ansible-collections-openstack,stable/1.0.0,Ie59da441d39fe2d0e49430662d853bc9628181e0,Sychronize updates to identity_role from master branch,MERGED,2022-05-03 13:45:41.000000000,2022-05-04 13:10:09.000000000,2022-05-04 13:10:09.000000000,"[{'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 32962}]","[{'number': 1, 'created': '2022-05-03 13:45:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/dae44598093085bd739a08e117efe4c2eef89f04', 'message': 'Update identity_role to work with latest sdk\n\nAlso renames the test role to match the module name\n\nChange-Id: Ie59da441d39fe2d0e49430662d853bc9628181e0\n(cherry picked from commit cc1b5ecae8563b28960cbd1fb706ca09ca701162)\n'}, {'number': 2, 'created': '2022-05-04 07:23:19.000000000', 'files': ['ci/roles/identity_role/tasks/main.yml', 'ci/roles/keystone_role/tasks/main.yml', '.zuul.yaml', 'ci/roles/identity_role/defaults/main.yml', 'ci/roles/keystone_role/defaults/main.yml', 'ci/run-collection.yml', 'plugins/modules/identity_role.py'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/a3bb143f34ca9bf9c17d0c114cddcd4efcbd31a4', 'message': 'Sychronize updates to identity_role from master branch\n\nRename ci role to match the module name. Reverted function calls\nwhich would break backward compatibility with previous collection\nreleases.\n\nChange-Id: Ie59da441d39fe2d0e49430662d853bc9628181e0\n(cherry picked from commit cc1b5ecae8563b28960cbd1fb706ca09ca701162)\n'}]",0,840296,a3bb143f34ca9bf9c17d0c114cddcd4efcbd31a4,11,3,2,32962,,,0,"Sychronize updates to identity_role from master branch

Rename ci role to match the module name. Reverted function calls
which would break backward compatibility with previous collection
releases.

Change-Id: Ie59da441d39fe2d0e49430662d853bc9628181e0
(cherry picked from commit cc1b5ecae8563b28960cbd1fb706ca09ca701162)
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/96/840296/1 && git format-patch -1 --stdout FETCH_HEAD,"['ci/roles/identity_role/tasks/main.yml', 'ci/roles/keystone_role/tasks/main.yml', '.zuul.yaml', 'ci/roles/identity_role/defaults/main.yml', 'ci/roles/keystone_role/defaults/main.yml', 'ci/run-collection.yml', 'plugins/modules/identity_role.py']",7,dae44598093085bd739a08e117efe4c2eef89f04,, type: list elements: dict contains: description: description: Description of the role resource type: str sample: role description domain_id: description: Domain to which the role belongs type: str sample: default links: description: Links for the role resource type: list role = self.conn.identity.find_role(name) changed = False role = self.conn.identity.create_role(name=name) role = role.to_dict(computed=False) elif state == 'absent' and role is not None: self.conn.identity.delete_role(role['id']) changed = True self.exit_json(changed=changed), type: complex contains: role = self.conn.get_role(name) role = self.conn.create_role(name) else: changed = False elif state == 'absent': if role is None: changed = False else: self.conn.delete_role(name) changed = True self.exit_json(changed=changed),113,50
openstack%2Fpuppet-tripleo~stable%2Fwallaby~I81751840b1dd3bfcdfb0a69403a71d415ce6eebd,openstack/puppet-tripleo,stable/wallaby,I81751840b1dd3bfcdfb0a69403a71d415ce6eebd,[Wallaby-only] Remove unused dependencies,ABANDONED,2022-04-28 07:44:39.000000000,2022-05-04 13:05:07.000000000,,"[{'_account_id': 7144}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-28 07:44:39.000000000', 'files': ['Puppetfile_extras'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/d00ee2c191bc61a6fc610833d7abeb246d1bd108', 'message': '[Wallaby-only] Remove unused dependencies\n\nThis change is effectively a backport of multiple commits to remove\nunused test dependencies.\n\nChange-Id: I81751840b1dd3bfcdfb0a69403a71d415ce6eebd\n'}]",0,839697,d00ee2c191bc61a6fc610833d7abeb246d1bd108,6,2,1,9816,,,0,"[Wallaby-only] Remove unused dependencies

This change is effectively a backport of multiple commits to remove
unused test dependencies.

Change-Id: I81751840b1dd3bfcdfb0a69403a71d415ce6eebd
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/97/839697/1 && git format-patch -1 --stdout FETCH_HEAD,['Puppetfile_extras'],1,d00ee2c191bc61a6fc610833d7abeb246d1bd108,modules-cleanup-wallaby,,"mod 'tomcat', :git => 'https://github.com/puppetlabs/puppetlabs-tomcat', :ref => '1.3.2' mod 'java', :git => 'https://github.com/puppetlabs/puppetlabs-java', :ref => '1.4.2' mod 'cassandra', :git => 'https://github.com/voxpupuli/puppet-cassandra', :ref => '1.9.2' mod 'zookeeper', :git => 'https://github.com/deric/puppet-zookeeper', :ref => 'v0.3.9' mod 'datacat', :git => 'https://github.com/richardc/puppet-datacat', :ref => '0.6.2' mod 'ptp', :git => 'https://github.com/redhat-nfvpe/ptp', :ref => 'master' # see https://github.com/rdo-packages/puppet-keepalived-distgit/blob/rpm-master/puppet-keepalived.spec mod 'keepalived', :git => 'https://github.com/Unyonsys/puppet-module-keepalived', :ref => 'bbca37ade629a9178f09366fd0368187fb645f4e' ",0,29
openstack%2Fpython-manilaclient~stable%2Fxena~I7a234666c3edff6486257a370ec361045aa7947d,openstack/python-manilaclient,stable/xena,I7a234666c3edff6486257a370ec361045aa7947d,Drop lower-constraints.txt and its testing,MERGED,2022-05-03 14:59:31.000000000,2022-05-04 12:54:50.000000000,2022-05-04 12:53:32.000000000,"[{'_account_id': 22348}, {'_account_id': 29632}]","[{'number': 1, 'created': '2022-05-03 14:59:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/c0ba4c6145ab873fbfdd0cce655827302ef6a487', 'message': 'Drop lower-constraints.txt and its testing\n\nAs discussed in TC PTG[1] and TC resolution[2], we are\ndropping the lower-constraints.txt file and its testing.\nWe will keep lower bounds in the requirements.txt file but\nwith a note that these are not tested lower bounds and we\ntry our best to keep them updated.\n\n[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326\n[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal\n\nChange-Id: I7a234666c3edff6486257a370ec361045aa7947d\n(cherry picked from commit bf2c7a26d62e240468ee062fddd49ff97a956e43)\n(cherry picked from commit 9f33f3ab1dc2eb5dd953ee7655c0db093d561d2b)\n'}, {'number': 2, 'created': '2022-05-03 15:01:07.000000000', 'files': ['requirements.txt', 'lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/0c9c6a1eb64c0de387fa85bd08943c8f04e03fc2', 'message': 'Drop lower-constraints.txt and its testing\n\nAs discussed in TC PTG[1] and TC resolution[2], we are\ndropping the lower-constraints.txt file and its testing.\nWe will keep lower bounds in the requirements.txt file but\nwith a note that these are not tested lower bounds and we\ntry our best to keep them updated.\n\n[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326\n[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal\n\nChange-Id: I7a234666c3edff6486257a370ec361045aa7947d\n(cherry picked from commit bf2c7a26d62e240468ee062fddd49ff97a956e43)\n(cherry picked from commit 9f33f3ab1dc2eb5dd953ee7655c0db093d561d2b)\n'}]",1,840300,0c9c6a1eb64c0de387fa85bd08943c8f04e03fc2,12,2,2,16643,,,0,"Drop lower-constraints.txt and its testing

As discussed in TC PTG[1] and TC resolution[2], we are
dropping the lower-constraints.txt file and its testing.
We will keep lower bounds in the requirements.txt file but
with a note that these are not tested lower bounds and we
try our best to keep them updated.

[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326
[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal

Change-Id: I7a234666c3edff6486257a370ec361045aa7947d
(cherry picked from commit bf2c7a26d62e240468ee062fddd49ff97a956e43)
(cherry picked from commit 9f33f3ab1dc2eb5dd953ee7655c0db093d561d2b)
",git fetch https://review.opendev.org/openstack/python-manilaclient refs/changes/00/840300/2 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'lower-constraints.txt', 'zuul.d/project.yaml', 'tox.ini']",4,c0ba4c6145ab873fbfdd0cce655827302ef6a487,drop-l-c,, [testenv:lower-constraints] deps = -c{toxinidir}/lower-constraints.txt -r{toxinidir}/test-requirements.txt -r{toxinidir}/requirements.txt,11,6
openstack%2Freleases~master~Ic50da39ac36f6217e3e24499ab9348e15120c9cc,openstack/releases,master,Ic50da39ac36f6217e3e24499ab9348e15120c9cc,Release OpenStack-Ansible Victoria,MERGED,2022-04-26 15:39:05.000000000,2022-05-04 12:47:32.000000000,2022-05-04 12:47:32.000000000,"[{'_account_id': 308}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-26 15:39:05.000000000', 'files': ['deliverables/victoria/openstack-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/2f97350bab78bcd679460447292b00d221fad5eb', 'message': 'Release OpenStack-Ansible Victoria\n\nChange-Id: Ic50da39ac36f6217e3e24499ab9348e15120c9cc\n'}]",4,839404,2f97350bab78bcd679460447292b00d221fad5eb,12,3,1,28619,,,0,"Release OpenStack-Ansible Victoria

Change-Id: Ic50da39ac36f6217e3e24499ab9348e15120c9cc
",git fetch https://review.opendev.org/openstack/releases refs/changes/04/839404/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/victoria/openstack-ansible.yaml'],1,2f97350bab78bcd679460447292b00d221fad5eb,release_osa, - version: 22.4.3 projects: - repo: openstack/openstack-ansible hash: 70da49bb19a92caf772be7ea2c6c87af81f6fe52,,4,0
openstack%2Fironic-python-agent~master~I41ffe4f8e4c6e43182090b5aa2a2b4b34f32efd5,openstack/ironic-python-agent,master,I41ffe4f8e4c6e43182090b5aa2a2b4b34f32efd5,Use a pre-defined partition UUID to detect configdrive on GPT,MERGED,2022-04-29 13:02:36.000000000,2022-05-04 12:47:22.000000000,2022-05-04 12:43:28.000000000,"[{'_account_id': 11292}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2022-04-29 13:02:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/0840fd53dfdea27a8c670223767d04f9da4a5a18', 'message': '[PoC] Use a pre-defined partition UUID to detect configdrive on GPT\n\nUsing partition numbers is currently broken for devicemapper devices.\nFortunately, GPT has partition UUIDs, so we can just generate one and\nuse it for lookup.\n\nChange-Id: I41ffe4f8e4c6e43182090b5aa2a2b4b34f32efd5\n'}, {'number': 2, 'created': '2022-04-29 14:57:23.000000000', 'files': ['ironic_python_agent/tests/unit/test_partition_utils.py', 'releasenotes/notes/configdrive-partuuid-3259cfb7428c1483.yaml', 'ironic_python_agent/partition_utils.py'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/65c4de903a2d8059b1520b0102235b6700287f87', 'message': 'Use a pre-defined partition UUID to detect configdrive on GPT\n\nUsing partition numbers is currently broken for devicemapper devices.\nFortunately, GPT has partition UUIDs, so we can just generate one and\nuse it for lookup.\n\nChange-Id: I41ffe4f8e4c6e43182090b5aa2a2b4b34f32efd5\n'}]",1,839946,65c4de903a2d8059b1520b0102235b6700287f87,10,3,2,10239,,,0,"Use a pre-defined partition UUID to detect configdrive on GPT

Using partition numbers is currently broken for devicemapper devices.
Fortunately, GPT has partition UUIDs, so we can just generate one and
use it for lookup.

Change-Id: I41ffe4f8e4c6e43182090b5aa2a2b4b34f32efd5
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/46/839946/2 && git format-patch -1 --stdout FETCH_HEAD,['ironic_python_agent/partition_utils.py'],1,0840fd53dfdea27a8c670223767d04f9da4a5a18,configdrive-partuuid,"from oslo_utils import uuidutils part_uuid = None if disk_utils.get_partition_table_type(device) == 'gpt': part_uuid = uuidutils.generate_uuid() uuid_option = '0:%s' % part_uuid utils.execute('sgdisk', '-n', create_option, '-u', uuid_option, device, cur_parts = set(part['number'] for part in disk_utils.list_partitions(device)) if part_uuid is None: new_parts = {part['number']: part for part in disk_utils.list_partitions(device)} new_part = set(new_parts) - set(cur_parts) if len(new_part) != 1: raise exception.InstanceDeployFailure( 'Disk partitioning failed on device %(device)s. ' 'Unable to retrieve config drive partition ' 'information.' % {'device': device}) config_drive_part = disk_utils.partition_index_to_path( device, new_part.pop()) else: config_drive_part = get_partition(device, part_uuid)"," cur_parts = set(part['number'] for part in disk_utils.list_partitions(device)) if disk_utils.get_partition_table_type(device) == 'gpt': utils.execute('sgdisk', '-n', create_option, device, upd_parts = set(part['number'] for part in disk_utils.list_partitions(device)) new_part = set(upd_parts) - set(cur_parts) if len(new_part) != 1: raise exception.InstanceDeployFailure( 'Disk partitioning failed on device %(device)s. ' 'Unable to retrieve config drive partition information.' % {'device': device}) config_drive_part = disk_utils.partition_index_to_path( device, new_part.pop())",22,14
openstack%2Foctavia~master~I7d92b011455d95a2df7782984b8f4648d4b00941,openstack/octavia,master,I7d92b011455d95a2df7782984b8f4648d4b00941,Fix disabled UDP pools,MERGED,2022-04-26 07:29:28.000000000,2022-05-04 12:42:49.000000000,2022-05-04 12:41:09.000000000,"[{'_account_id': 7249}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-26 07:29:28.000000000', 'files': ['octavia/common/jinja/lvs/templates/macros.j2', 'releasenotes/notes/fix-disabled-udp-pool-3e84558f996017d5.yaml', 'octavia/tests/unit/common/jinja/lvs/test_jinja_cfg.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/f4b32ac313d751f81b90438cbedb7fd941322c61', 'message': ""Fix disabled UDP pools\n\nDisabling a UDP pool didn't disable it correctly, requests were still\nforwarded to the members.\nNow, when disabling a UDP pool, the members are removed from the\nconfiguration file.\n\nStory 2010011\nTask 45164\n\nChange-Id: I7d92b011455d95a2df7782984b8f4648d4b00941\n""}]",1,839308,f4b32ac313d751f81b90438cbedb7fd941322c61,8,3,1,29244,,,0,"Fix disabled UDP pools

Disabling a UDP pool didn't disable it correctly, requests were still
forwarded to the members.
Now, when disabling a UDP pool, the members are removed from the
configuration file.

Story 2010011
Task 45164

Change-Id: I7d92b011455d95a2df7782984b8f4648d4b00941
",git fetch https://review.opendev.org/openstack/octavia refs/changes/08/839308/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/common/jinja/lvs/templates/macros.j2', 'releasenotes/notes/fix-disabled-udp-pool-3e84558f996017d5.yaml', 'octavia/tests/unit/common/jinja/lvs/test_jinja_cfg.py']",3,f4b32ac313d751f81b90438cbedb7fd941322c61,,," "" # Configuration for Member sample_member_id_1\n"" "" real_server 10.0.0.99 82 {\n"" "" weight 13\n\n"" "" }\n\n"" "" # Configuration for Member sample_member_id_2\n"" "" real_server 10.0.0.98 82 {\n"" "" weight 13\n\n"" "" }\n\n""",9,10
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I46eb9a24dd66821b27524fe4d1fdab617b6fa948,openstack/tripleo-heat-templates,stable/train,I46eb9a24dd66821b27524fe4d1fdab617b6fa948,Set dns_name propery on ports and networks,MERGED,2022-04-29 12:06:39.000000000,2022-05-04 12:11:13.000000000,2022-05-04 12:11:13.000000000,"[{'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 22954}, {'_account_id': 23181}, {'_account_id': 31245}]","[{'number': 1, 'created': '2022-04-29 12:06:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3d5f602e2fa5e2b531febeeeb62c27d3d48ffbff', 'message': 'Set dns_name propery on ports and networks\n\nNeutron\'s dns_assignments field includes a nice pice of\nstructured data. This is a prerequirement for Designate\nusage. (No plan\'s to use that, but being a bit ready\ndoes\'nt hurt.)\n\n  {""hostname"": ""my-vm"",\n   ""ip_address"": ""192.0.2.16"",\n   ""fqdn"": ""my-vm.example.org.""}\n\nEnable for the undercloud:\n - dns_domain_ports ml2 extension driver\n\nChange-Id: I46eb9a24dd66821b27524fe4d1fdab617b6fa948\n(cherry picked from commit 679ecaada05768e96a1fcddb7aeb78fc6735809f)\n'}, {'number': 2, 'created': '2022-04-29 12:26:46.000000000', 'files': ['extraconfig/post_deploy/undercloud_post.yaml', 'network/network.j2', 'environments/undercloud.yaml', 'network/ports/noop.yaml', 'network/ports/vip_v6.yaml', 'overcloud.j2.yaml', 'puppet/role.role.j2.yaml', 'network/ports/ctlplane_vip.yaml', 'deployed-server/deployed-neutron-port.yaml', 'network/ports/from_service.yaml', 'network/ports/vip.yaml', 'network/ports/from_service_v6.yaml', 'network/ports/port.j2', 'network/ports/port_from_pool.j2', 'deployed-server/ctlplane-port.yaml', 'extraconfig/post_deploy/undercloud_ctlplane_network.py'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b72fa565994c599dce10f61df46e1939d705e06f', 'message': 'Set dns_name propery on ports and networks\n\nNeutron\'s dns_assignments field includes a nice pice of\nstructured data. This is a prerequirement for Designate\nusage. (No plan\'s to use that, but being a bit ready\ndoes\'nt hurt.)\n\n  {""hostname"": ""my-vm"",\n   ""ip_address"": ""192.0.2.16"",\n   ""fqdn"": ""my-vm.example.org.""}\n\nEnable for the undercloud:\n - dns_domain_ports ml2 extension driver\n\nNeed to backport this to train because network-v2 idempotency\nrely on the dns_doman. In  Ie326f30fcc3d93533f4269cdfec40d3634684e22\nidempotency was change to use dns_domain instead of a neutron tag\nwith the hostname because of neutron\'s limit on 60 chars per tag.\n\nWithout this change the provisioning workflow will create duplicate\nports when FFU upgrade is performed.\n\nConflicts:\n  overcloud.j2.yaml\n\nCloses-Bug: #1970936\nChange-Id: I46eb9a24dd66821b27524fe4d1fdab617b6fa948\n(cherry picked from commit 679ecaada05768e96a1fcddb7aeb78fc6735809f)\n'}]",6,839911,b72fa565994c599dce10f61df46e1939d705e06f,17,5,2,24245,,,0,"Set dns_name propery on ports and networks

Neutron's dns_assignments field includes a nice pice of
structured data. This is a prerequirement for Designate
usage. (No plan's to use that, but being a bit ready
does'nt hurt.)

  {""hostname"": ""my-vm"",
   ""ip_address"": ""192.0.2.16"",
   ""fqdn"": ""my-vm.example.org.""}

Enable for the undercloud:
 - dns_domain_ports ml2 extension driver

Need to backport this to train because network-v2 idempotency
rely on the dns_doman. In  Ie326f30fcc3d93533f4269cdfec40d3634684e22
idempotency was change to use dns_domain instead of a neutron tag
with the hostname because of neutron's limit on 60 chars per tag.

Without this change the provisioning workflow will create duplicate
ports when FFU upgrade is performed.

Conflicts:
  overcloud.j2.yaml

Closes-Bug: #1970936
Change-Id: I46eb9a24dd66821b27524fe4d1fdab617b6fa948
(cherry picked from commit 679ecaada05768e96a1fcddb7aeb78fc6735809f)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/11/839911/2 && git format-patch -1 --stdout FETCH_HEAD,"['extraconfig/post_deploy/undercloud_post.yaml', 'network/network.j2', 'environments/undercloud.yaml', 'network/ports/noop.yaml', 'network/ports/vip_v6.yaml', 'overcloud.j2.yaml', 'puppet/role.role.j2.yaml', 'network/ports/ctlplane_vip.yaml', 'deployed-server/deployed-neutron-port.yaml', 'network/ports/from_service.yaml', 'network/ports/vip.yaml', 'network/ports/from_service_v6.yaml', 'network/ports/port.j2', 'network/ports/port_from_pool.j2', 'deployed-server/ctlplane-port.yaml', 'extraconfig/post_deploy/undercloud_ctlplane_network.py']",16,3d5f602e2fa5e2b531febeeeb62c27d3d48ffbff,port-dns-name-stable/train,"CLOUD_DOMAIN = 'ctlplane.' + (CONF['cloud_domain'] + '.' if not CONF['cloud_domain'].endswith('.') else CONF['cloud_domain']) mtu=CONF['mtu'], dns_domain=CLOUD_DOMAIN) mtu=CONF['mtu'], dns_domain=CLOUD_DOMAIN)", mtu=CONF['mtu']) mtu=CONF['mtu']),86,19
openstack%2Fmanila-tempest-plugin~master~I519fd4de0b9f3ff20c355894c3e797d6c19e1835,openstack/manila-tempest-plugin,master,I519fd4de0b9f3ff20c355894c3e797d6c19e1835,Remove ping_ip_address & _log_console_output,MERGED,2022-03-21 08:14:05.000000000,2022-05-04 12:05:32.000000000,2022-05-04 12:05:32.000000000,"[{'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 30025}]","[{'number': 1, 'created': '2022-03-21 08:14:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/a88b0efc76c16b85e299bd7957d14bc4e417ca5f', 'message': 'Remove ping_ip_address & _log_console_output\n\nAs tempest.scenario.manager was announced stable interface in Tempest 27.0.0[1] it can be now reused in plugins.\n\nReplaced methods:\n\t* ping_ip_address\n\t* _log_console_output\n\nEtherpad concerning this effort:\nhttps://etherpad.opendev.org/p/tempest-scenario-manager-cleanup\n\n[1] https://docs.openstack.org/releasenotes/tempest/v27.0.0.html#release-notes-27-0-0\n\nChange-Id: I519fd4de0b9f3ff20c355894c3e797d6c19e1835\n'}, {'number': 2, 'created': '2022-03-22 15:52:55.000000000', 'files': ['manila_tempest_tests/tests/scenario/manager_share.py', 'manila_tempest_tests/tests/scenario/manager.py'], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/164898cd76d84a776198952e18255d010f256285', 'message': 'Remove ping_ip_address & _log_console_output\n\nAs tempest.scenario.manager was announced stable interface in Tempest 27.0.0[1] it can be now reused in plugins.\n\nReplaced methods:\n\t* ping_ip_address\n\t* _log_console_output\n\nEtherpad concerning this effort:\nhttps://etherpad.opendev.org/p/tempest-scenario-manager-cleanup\n\n[1] https://docs.openstack.org/releasenotes/tempest/v27.0.0.html#release-notes-27-0-0\n\nChange-Id: I519fd4de0b9f3ff20c355894c3e797d6c19e1835\n'}]",9,834426,164898cd76d84a776198952e18255d010f256285,19,4,2,33732,,,0,"Remove ping_ip_address & _log_console_output

As tempest.scenario.manager was announced stable interface in Tempest 27.0.0[1] it can be now reused in plugins.

Replaced methods:
	* ping_ip_address
	* _log_console_output

Etherpad concerning this effort:
https://etherpad.opendev.org/p/tempest-scenario-manager-cleanup

[1] https://docs.openstack.org/releasenotes/tempest/v27.0.0.html#release-notes-27-0-0

Change-Id: I519fd4de0b9f3ff20c355894c3e797d6c19e1835
",git fetch https://review.opendev.org/openstack/manila-tempest-plugin refs/changes/26/834426/2 && git format-patch -1 --stdout FETCH_HEAD,"['manila_tempest_tests/tests/scenario/manager_share.py', 'manila_tempest_tests/tests/scenario/manager.py']",2,a88b0efc76c16b85e299bd7957d14bc4e417ca5f,tempest-scenario-manager-cleanup, self.log_console_output() self.log_console_output(servers) self.log_console_output(servers_for_debug),"import subprocess from tempest.common.utils import net_utils self._log_console_output() def _log_console_output(self, servers=None): if not CONF.compute_feature_enabled.console_output: LOG.debug('Console output not supported, cannot log') return if not servers: servers = self.servers_client.list_servers() servers = servers['servers'] for server in servers: try: console_output = self.servers_client.get_console_output( server['id'])['output'] LOG.debug('Console output for %s\nbody=\n%s', server['id'], console_output) except lib_exc.NotFound: LOG.debug(""Server %s disappeared(deleted) while looking "" ""for the console log"", server['id']) def ping_ip_address(self, ip_address, should_succeed=True, ping_timeout=None, mtu=None): timeout = ping_timeout or CONF.validation.ping_timeout cmd = ['ping', '-c1', '-w1'] if mtu: cmd += [ # don't fragment '-M', 'do', # ping receives just the size of ICMP payload '-s', str(net_utils.get_ping_payload_size(mtu, 4)) ] cmd.append(ip_address) def ping(): proc = subprocess.Popen(cmd, stdout=subprocess.PIPE, stderr=subprocess.PIPE) proc.communicate() return (proc.returncode == 0) == should_succeed caller = test_utils.find_test_caller() LOG.debug('%(caller)s begins to ping %(ip)s in %(timeout)s sec and the' ' expected result is %(should_succeed)s', { 'caller': caller, 'ip': ip_address, 'timeout': timeout, 'should_succeed': 'reachable' if should_succeed else 'unreachable' }) result = test_utils.call_until_true(ping, timeout, 1) LOG.debug('%(caller)s finishes ping %(ip)s in %(timeout)s sec and the ' 'ping result is %(result)s', { 'caller': caller, 'ip': ip_address, 'timeout': timeout, 'result': 'expected' if result else 'unexpected' }) return result self._log_console_output(servers) self._log_console_output(servers_for_debug)",4,61
openstack%2Fopenstack-ansible~stable%2Fstein~Ia072069b9acf88c0642a0e3674324733626c050e,openstack/openstack-ansible,stable/stein,Ia072069b9acf88c0642a0e3674324733626c050e,Mark OSA repository as safe in git.config in CI,MERGED,2022-04-15 14:20:37.000000000,2022-05-04 11:55:50.000000000,2022-05-04 11:52:08.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-04-15 14:20:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/bf72c74bcbb35a35b888f22fdd0eb7c2bf2e98bd', 'message': 'Mark OSA repository as safe in git.config in CI\n\nChange-Id: Ia072069b9acf88c0642a0e3674324733626c050e\n(cherry picked from commit efa153ea159af13ce5539e423371f2642c9592ef)\n'}, {'number': 2, 'created': '2022-04-29 21:31:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/176f7126bd95e9ad77313ac019cb7686ab5f08bf', 'message': 'Mark OSA repository as safe in git.config in CI\n\nChange-Id: Ia072069b9acf88c0642a0e3674324733626c050e\n(cherry picked from commit efa153ea159af13ce5539e423371f2642c9592ef)\n'}, {'number': 3, 'created': '2022-05-03 15:59:08.000000000', 'files': ['ansible-role-requirements.yml', 'zuul.d/playbooks/pre-osa-aio.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/d12bd110ceb1d07be7541a9865cfa23589e8d22a', 'message': 'Mark OSA repository as safe in git.config in CI\n\nChange-Id: Ia072069b9acf88c0642a0e3674324733626c050e\n(cherry picked from commit efa153ea159af13ce5539e423371f2642c9592ef)\n'}]",1,838023,d12bd110ceb1d07be7541a9865cfa23589e8d22a,13,3,3,28619,,,0,"Mark OSA repository as safe in git.config in CI

Change-Id: Ia072069b9acf88c0642a0e3674324733626c050e
(cherry picked from commit efa153ea159af13ce5539e423371f2642c9592ef)
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/23/838023/3 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/playbooks/pre-osa-aio.yml'],1,bf72c74bcbb35a35b888f22fdd0eb7c2bf2e98bd,," - name: Mark OSA repository as safe become: yes become_user: root git_config: name: safe.directory scope: global value: ""{{ _zuul_src_path }}/opendev.org/openstack/openstack-ansible""",,7,0
openstack%2Fopenstack-ansible~stable%2Ftrain~Ia072069b9acf88c0642a0e3674324733626c050e,openstack/openstack-ansible,stable/train,Ia072069b9acf88c0642a0e3674324733626c050e,Mark OSA repository as safe in git.config in CI,MERGED,2022-04-15 14:20:25.000000000,2022-05-04 11:55:28.000000000,2022-05-04 11:52:05.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-04-15 14:20:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/04ad56223f3756c6daf6bd530a9c4211bd22c8dd', 'message': 'Mark OSA repository as safe in git.config in CI\n\nChange-Id: Ia072069b9acf88c0642a0e3674324733626c050e\n(cherry picked from commit efa153ea159af13ce5539e423371f2642c9592ef)\n'}, {'number': 2, 'created': '2022-05-03 15:57:43.000000000', 'files': ['ansible-role-requirements.yml', 'zuul.d/playbooks/pre-osa-aio.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/65f0aa5ee16daf67d756a06b1d1428c6a0ea45ac', 'message': 'Mark OSA repository as safe in git.config in CI\n\nChange-Id: Ia072069b9acf88c0642a0e3674324733626c050e\n(cherry picked from commit efa153ea159af13ce5539e423371f2642c9592ef)\n'}]",1,838022,65f0aa5ee16daf67d756a06b1d1428c6a0ea45ac,11,3,2,28619,,,0,"Mark OSA repository as safe in git.config in CI

Change-Id: Ia072069b9acf88c0642a0e3674324733626c050e
(cherry picked from commit efa153ea159af13ce5539e423371f2642c9592ef)
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/22/838022/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/playbooks/pre-osa-aio.yml'],1,04ad56223f3756c6daf6bd530a9c4211bd22c8dd,," - name: Mark OSA repository as safe become: yes become_user: root git_config: name: safe.directory scope: global value: ""{{ _zuul_src_path }}/opendev.org/openstack/openstack-ansible""",,7,0
openstack%2Fopenstack-ansible-os_placement~master~I39748e90de528e9c292433ae1fb76044bfc5814f,openstack/openstack-ansible-os_placement,master,I39748e90de528e9c292433ae1fb76044bfc5814f,Update index.rst for stable/victoria,ABANDONED,2021-06-03 08:17:30.000000000,2022-05-04 11:31:58.000000000,,"[{'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2021-06-03 08:17:30.000000000', 'files': ['releasenotes/source/victoria.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_placement/commit/5d3ca12460488c4d8f3c401f16c3cc316eb5b096', 'message': 'Update index.rst for stable/victoria\n\nChange-Id: I39748e90de528e9c292433ae1fb76044bfc5814f\n'}]",0,794462,5d3ca12460488c4d8f3c401f16c3cc316eb5b096,6,2,1,32029,,,0,"Update index.rst for stable/victoria

Change-Id: I39748e90de528e9c292433ae1fb76044bfc5814f
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_placement refs/changes/62/794462/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/victoria.rst', 'releasenotes/source/index.rst']",2,5d3ca12460488c4d8f3c401f16c3cc316eb5b096,victoria, victoria,,7,0
openstack%2Fironic~master~Ica506864ad443ad035a68ae8ffbe63cf68e5ccec,openstack/ironic,master,Ica506864ad443ad035a68ae8ffbe63cf68e5ccec,Trivial: Remove prints in db api layer code,MERGED,2022-04-29 23:49:03.000000000,2022-05-04 11:14:22.000000000,2022-05-04 11:12:51.000000000,"[{'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2022-04-29 23:49:03.000000000', 'files': ['ironic/db/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/246be299591e3abcd6b36febdfd7a42e8273c674', 'message': 'Trivial: Remove prints in db api layer code\n\nI guess some prints slipped past cleanup and review for the node\nhistory work. Removes the two print statements as they are not\nneeded.\n\nChange-Id: Ica506864ad443ad035a68ae8ffbe63cf68e5ccec\n'}]",0,840005,246be299591e3abcd6b36febdfd7a42e8273c674,10,2,1,11655,,,0,"Trivial: Remove prints in db api layer code

I guess some prints slipped past cleanup and review for the node
history work. Removes the two print statements as they are not
needed.

Change-Id: Ica506864ad443ad035a68ae8ffbe63cf68e5ccec
",git fetch https://review.opendev.org/openstack/ironic refs/changes/05/840005/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic/db/sqlalchemy/api.py'],1,246be299591e3abcd6b36febdfd7a42e8273c674,,, print('returning final set') print(final_set),0,2
openstack%2Fcinder~master~I00d56980e0e8b8dfebd4e7495f625173f0421b75,openstack/cinder,master,I00d56980e0e8b8dfebd4e7495f625173f0421b75,[SVf] Delete/Extend issue in reverse replication,MERGED,2022-03-03 13:40:46.000000000,2022-05-04 11:00:55.000000000,2022-04-28 19:11:09.000000000,"[{'_account_id': 1736}, {'_account_id': 4523}, {'_account_id': 7198}, {'_account_id': 22348}, {'_account_id': 29122}, {'_account_id': 32074}, {'_account_id': 34541}]","[{'number': 1, 'created': '2022-03-03 13:40:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/5e89e8539afde301071550c96f1262346ce6cc0e', 'message': '[SVf] Delete volume issue in reverse replication\n\n[Spectrum Virtualize family] Deletion of the aux volume in\nreverse replication failed. Added necessary code changes to\nstorwize cinder driver to delete the volume successfully in\nreverse replication.\n\nCloses-Bug: #1960315\nChange-Id: I00d56980e0e8b8dfebd4e7495f625173f0421b75\n'}, {'number': 2, 'created': '2022-03-14 09:59:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/137ace807152596d45f2601edd880b2c2fd7f412', 'message': '[SVf] Delete volume issue in reverse replication\n\n[Spectrum Virtualize family] Deletion of the aux volume in\nreverse replication failed. Added necessary code changes to\nstorwize cinder driver to delete the volume successfully in\nreverse replication.\n\nCloses-Bug: #1960315\nChange-Id: I00d56980e0e8b8dfebd4e7495f625173f0421b75\n'}, {'number': 3, 'created': '2022-03-14 11:58:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/1c177af05f9883a98628b61e92940c97ee7e8c75', 'message': '[SVf] Delete volume issue in reverse replication\n\n[Spectrum Virtualize family] Deletion of the aux volume in\nreverse replication failed. Added necessary code changes to\nstorwize cinder driver to delete the volume successfully in\nreverse replication.\n\nCloses-Bug: #1960315\nChange-Id: I00d56980e0e8b8dfebd4e7495f625173f0421b75\n'}, {'number': 4, 'created': '2022-03-16 08:18:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/cc258ea0ef2162e0ce62c2ab574fdcb31a6e00fe', 'message': '[SVf] Delete/Resize issue in reverse replication\n\n[Spectrum Virtualize family] Deletion/Extend of the volume in\nreverse replication failed. Added necessary code changes to\nstorwize cinder driver to delete/extend the volume successfully\nin reverse replication.\n\nCloses-Bug: #1960315\nChange-Id: I00d56980e0e8b8dfebd4e7495f625173f0421b75\n'}, {'number': 5, 'created': '2022-03-25 15:16:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/6dfdf1a3bf6d704d745733ed8d339b24e767e032', 'message': '[SVf] Delete/Resize issue in reverse replication\n\n[Spectrum Virtualize family] Deletion/Extend of the volume in\nreverse replication failed. Added necessary code changes to\nstorwize cinder driver to delete/extend the volume successfully\nin reverse replication.\n\nCloses-Bug: #1960315\nChange-Id: I00d56980e0e8b8dfebd4e7495f625173f0421b75\n'}, {'number': 6, 'created': '2022-04-07 05:30:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/dfc6c683b56e50f3d9447e3266a21f3d982b0d80', 'message': '[SVf] Delete/Resize issue in reverse replication\n\n[Spectrum Virtualize family] Deletion/Extend of the volume in\nreverse replication failed. Added necessary code changes to\nstorwize cinder driver to delete/extend the volume successfully\nin reverse replication. Also, added support to extend the volume\nfor failover scenarios.\n\nCloses-Bug: #1960315\nChange-Id: I00d56980e0e8b8dfebd4e7495f625173f0421b75\n'}, {'number': 7, 'created': '2022-04-21 10:38:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/70cd3b5e1f9a4412a98213ea805acac69f9600db', 'message': '[SVf] Delete/Extend issue in reverse replication\n\n[Spectrum Virtualize family] Deletion and extend of the volume\nwhich is a part of group/not a part of group in reverse replication\nfailed.\n\nAdded necessary code changes to storwize cinder driver to\ndelete and extend the volume successfully in reverse replication.\nAlso, added support to extend the volume for failover scenarios.\n\nBugs are inter-dependent on reverse-replication, hence addressed\nthe bugs in a single commit.\n\nCloses-Bug: #1960315\nCloses-Bug: #1966639\nChange-Id: I00d56980e0e8b8dfebd4e7495f625173f0421b75\n'}, {'number': 8, 'created': '2022-04-27 13:15:05.000000000', 'files': ['cinder/tests/unit/volume/drivers/ibm/test_storwize_svc.py', 'cinder/volume/drivers/ibm/storwize_svc/storwize_svc_common.py', 'releasenotes/notes/bug-1966639-ibm-svf-resize_issue_in_reverse_replication_for_volume_part_of_group-59e3f5d652a4707c.yaml', 'releasenotes/notes/bug-1960315-ibm-svf-delete_and_resize_volume_issue_in_reverse_replication-952164a73b336a6d.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/685c5fb958cd1c34388720228e7e03dfd880a36c', 'message': '[SVf] Delete/Extend issue in reverse replication\n\n[Spectrum Virtualize family] Deletion and extend of the volume\nin reverse replication failed.\n\nAdded necessary code changes to storwize cinder driver to\ndelete and extend the volume successfully in reverse replication.\nAlso, added support to extend the volume for failover scenarios.\n\nBugs are inter-dependent on reverse-replication, hence addressed\nthe bugs in a single commit.\n\nCloses-Bug: #1960315\nCloses-Bug: #1966639\n\nChange-Id: I00d56980e0e8b8dfebd4e7495f625173f0421b75\n'}]",29,831776,685c5fb958cd1c34388720228e7e03dfd880a36c,219,7,8,34201,,,0,"[SVf] Delete/Extend issue in reverse replication

[Spectrum Virtualize family] Deletion and extend of the volume
in reverse replication failed.

Added necessary code changes to storwize cinder driver to
delete and extend the volume successfully in reverse replication.
Also, added support to extend the volume for failover scenarios.

Bugs are inter-dependent on reverse-replication, hence addressed
the bugs in a single commit.

Closes-Bug: #1960315
Closes-Bug: #1966639

Change-Id: I00d56980e0e8b8dfebd4e7495f625173f0421b75
",git fetch https://review.opendev.org/openstack/cinder refs/changes/76/831776/8 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/drivers/ibm/storwize_svc/storwize_svc_common.py'],1,5e89e8539afde301071550c96f1262346ce6cc0e,bug/1960315," def get_target_volume_name(self, source_volume_name): rel_info = self.get_relationship_info(source_volume_name) if source_volume_name == rel_info[""aux_vdisk_name""]: target_volume = rel_info[""master_vdisk_name""] else: target_volume = rel_info[""aux_vdisk_name""] return target_volume try: self.delete_relationship(volume_name) storwize_const.REPLICA_CHG_VOL_PREFIX + volume_name, self.delete_vdisk(volume_name, {'vol': volume_name, 'err': e}) if rep_type or \ volume.replication_status not in [""not-capable"", ""disabled""]: target_volume = self._helpers.get_target_volume_name( volume['name']) target_volume, target_volume = self._helpers.get_target_volume_name( volume['name']) target_volume, target_volume = self._helpers.get_target_volume_name( volume.name) target_volume, target_vol=True, force_unmap=force_unmap)"," vol_name = volume_name if target_vol: vol_name = storwize_const.REPLICA_AUX_VOL_PREFIX + volume_name try: rel_info = self.get_relationship_info(vol_name) if rel_info: self.delete_relationship(vol_name) storwize_const.REPLICA_CHG_VOL_PREFIX + vol_name, self.delete_vdisk(vol_name, {'vol': vol_name, 'err': e}) if rep_type: volume['name'], volume['name'], volume.name, target_vol=True, force_unmap=force_unmap)",23,14
openstack%2Fnova-specs~master~I41e7b8552763850a94374a6f31f1be72e7bf1626,openstack/nova-specs,master,I41e7b8552763850a94374a6f31f1be72e7bf1626,"Amend unified limits spec to explain ""API limit"" enforcement",MERGED,2022-02-15 21:59:20.000000000,2022-05-04 10:57:57.000000000,2022-05-04 10:56:32.000000000,"[{'_account_id': 7166}, {'_account_id': 11604}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-15 21:59:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/4e444f54834bc68545fba4f710bf29d559dcd474', 'message': 'Amend unified limits spec to explain ""API limit"" enforcement\n\nDuring code review of the unified limits implementation, reviewers\nrequested detail around the enforcement of ""API limits"" (limits that\nare enforced only from the content of an API request). This adds a\nparagraph to explain how they are enforced using the oslo.limit APIs.\n\nRelated to bp unified-limits-nova\n\nChange-Id: I41e7b8552763850a94374a6f31f1be72e7bf1626\n'}, {'number': 2, 'created': '2022-02-15 22:27:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/67ed8a3cdf9e0605ad9222284055b1b556d40d88', 'message': 'Amend unified limits spec to explain ""API limit"" enforcement\n\nDuring code review of the unified limits implementation, reviewers\nrequested detail around the enforcement of ""API limits"" (limits that\nare enforced only from the content of an API request). This adds a\nparagraph to explain how they are enforced using the oslo.limit APIs.\n\nRelated to bp unified-limits-nova\n\nChange-Id: I41e7b8552763850a94374a6f31f1be72e7bf1626\n'}, {'number': 3, 'created': '2022-02-25 00:27:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/f8695e74802f8d3444444cb4e42eadd9b9a18048', 'message': 'Amend unified limits spec to explain ""API limit"" enforcement\n\nDuring code review of the unified limits implementation, reviewers\nrequested detail around the enforcement of ""API limits"" (limits that\nare enforced only from the content of an API request). This adds a\nparagraph to explain how they are enforced using the oslo.limit APIs.\n\nA note about the [workaround]unified_limits_count_pcpu_as_vcpu config\noption is also added to explain how operators can opt in to legacy\nVCPU + PCPU quota usage counting behavior.\n\nRelated to bp unified-limits-nova\n\nChange-Id: I41e7b8552763850a94374a6f31f1be72e7bf1626\n'}, {'number': 4, 'created': '2022-05-03 21:05:21.000000000', 'files': ['specs/yoga/implemented/unified-limits-nova.rst'], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/385d6d25a2a629fb1c58097619e7bd94f39702ea', 'message': 'Amend unified limits spec to explain ""API limit"" enforcement\n\nDuring code review of the unified limits implementation, reviewers\nrequested detail around the enforcement of ""API limits"" (limits that\nare enforced only from the content of an API request). This adds a\nparagraph to explain how they are enforced using the oslo.limit APIs.\n\nA note about the [workaround]unified_limits_count_pcpu_as_vcpu config\noption is also added to explain how operators can opt in to legacy\nVCPU + PCPU quota usage counting behavior.\n\nRelated to bp unified-limits-nova\n\nChange-Id: I41e7b8552763850a94374a6f31f1be72e7bf1626\n'}]",1,829413,385d6d25a2a629fb1c58097619e7bd94f39702ea,15,3,4,4690,,,0,"Amend unified limits spec to explain ""API limit"" enforcement

During code review of the unified limits implementation, reviewers
requested detail around the enforcement of ""API limits"" (limits that
are enforced only from the content of an API request). This adds a
paragraph to explain how they are enforced using the oslo.limit APIs.

A note about the [workaround]unified_limits_count_pcpu_as_vcpu config
option is also added to explain how operators can opt in to legacy
VCPU + PCPU quota usage counting behavior.

Related to bp unified-limits-nova

Change-Id: I41e7b8552763850a94374a6f31f1be72e7bf1626
",git fetch https://review.opendev.org/openstack/nova-specs refs/changes/13/829413/4 && git format-patch -1 --stdout FETCH_HEAD,['specs/yoga/approved/unified-limits-nova.rst'],1,4e444f54834bc68545fba4f710bf29d559dcd474,bp/unified-limits-nova,"resource class allocations in placement.Enforcement of Limits --------------------- For consistency, all quota limits will be enforced using the `oslo.limit \`\`Enforcer.enforce\`\` API`_. In this pattern, an ``Enforcer`` object is initialized with a callback that will count the existing usage of the resource being enforced. Some resources, however, are counted only from the Nova API request payload in which they were specified. We call these resource limits ""API limits"": * ``server metadata_items`` * ``server_injected_files`` * ``server_injected_file_content_bytes`` * ``server_injected_file_path_bytes`` For example, when a server create request is received in the Nova API and metadata items are included in the request, we will compare the number of metadata items requested with the quota limit for ``server metadata_items`` and we will not count anything in the database or placement as usage. An oslo.limit quota limit enforcement involves a limit, a delta, and the current usage. For API limits, we have only a limit and a delta. The current usage in these cases will always be zero. As such, we initialize the ``Enforcer`` object for API limits with a callback that always returns zero usage. This way, oslo.limit can do the enforcement properly using only the quota limit and the supplied delta. .. _oslo.limit ``Enforcer.enforce`` API: https://docs.openstack.org/oslo.limit/latest/user/usage.html#enforce-a-limit ","resource class allocations in placement. No other limits will be moved to unified limits, as agreed with operators in the Train Forum session.",28,2
openstack%2Fopenstack-ansible-os_nova~master~I5a387566d5bdb9ee4c34976c55f86f31fc65f87e,openstack/openstack-ansible-os_nova,master,I5a387566d5bdb9ee4c34976c55f86f31fc65f87e,Ensure that openstack_ssh_keyspairs_dir has a default value,MERGED,2022-05-04 06:57:43.000000000,2022-05-04 10:55:23.000000000,2022-05-04 10:54:07.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-05-04 06:57:43.000000000', 'files': ['defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/7a4a35fa7d9968b91aaec3929270c7ed8ff2143d', 'message': 'Ensure that openstack_ssh_keyspairs_dir has a default value\n\nThis is otherwise undefined in functional tests\n\nChange-Id: I5a387566d5bdb9ee4c34976c55f86f31fc65f87e\n'}]",0,840412,7a4a35fa7d9968b91aaec3929270c7ed8ff2143d,8,3,1,25023,,,0,"Ensure that openstack_ssh_keyspairs_dir has a default value

This is otherwise undefined in functional tests

Change-Id: I5a387566d5bdb9ee4c34976c55f86f31fc65f87e
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_nova refs/changes/12/840412/1 && git format-patch -1 --stdout FETCH_HEAD,['defaults/main.yml'],1,7a4a35fa7d9968b91aaec3929270c7ed8ff2143d,,"nova_ssh_keypairs_dir: ""{{ openstack_ssh_keypairs_dir | default('/etc/openstack_deploy/ssh_keypairs') }}""","nova_ssh_keypairs_dir: ""{{ openstack_ssh_keypairs_dir }}""",1,1
openstack%2Fopenstack-ansible-os_keystone~master~Ia57b67e5636690327264b1213c0eb491afd8750d,openstack/openstack-ansible-os_keystone,master,Ia57b67e5636690327264b1213c0eb491afd8750d,Ensure that openstack_ssh_keyspairs_dir has a default value,MERGED,2022-05-04 07:00:26.000000000,2022-05-04 10:53:43.000000000,2022-05-04 10:52:33.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-05-04 07:00:26.000000000', 'files': ['defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/fcbf8ede8fd4bf428085488cf171a4d908b3c26f', 'message': 'Ensure that openstack_ssh_keyspairs_dir has a default value\n\nThis is otherwise undefined in functional tests\n\nChange-Id: Ia57b67e5636690327264b1213c0eb491afd8750d\n'}]",0,840413,fcbf8ede8fd4bf428085488cf171a4d908b3c26f,8,3,1,25023,,,0,"Ensure that openstack_ssh_keyspairs_dir has a default value

This is otherwise undefined in functional tests

Change-Id: Ia57b67e5636690327264b1213c0eb491afd8750d
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_keystone refs/changes/13/840413/1 && git format-patch -1 --stdout FETCH_HEAD,['defaults/main.yml'],1,fcbf8ede8fd4bf428085488cf171a4d908b3c26f,,"keystone_ssh_keypairs_dir: ""{{ openstack_ssh_keypairs_dir | default('/etc/openstack_deploy/ssh_keypairs') }}""","keystone_ssh_keypairs_dir: ""{{ openstack_ssh_keypairs_dir }}""",1,1
openstack%2Fmanila-tempest-plugin~master~Ic07ef12f3f80001e688356bd70738c2b3b68667b,openstack/manila-tempest-plugin,master,Ic07ef12f3f80001e688356bd70738c2b3b68667b,Add waiters in access metadata tests,MERGED,2022-04-26 20:40:34.000000000,2022-05-04 10:46:55.000000000,2022-05-04 08:45:02.000000000,"[{'_account_id': 6413}, {'_account_id': 16643}, {'_account_id': 19262}, {'_account_id': 22348}, {'_account_id': 30025}]","[{'number': 1, 'created': '2022-04-26 20:40:34.000000000', 'files': ['manila_tempest_tests/tests/api/test_access_rules_metadata.py'], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/9010dcbde02149ac5339a112385f4f4e13b21543', 'message': 'Add waiters in access metadata tests\n\nChange-Id: Ic07ef12f3f80001e688356bd70738c2b3b68667b\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}]",4,839441,9010dcbde02149ac5339a112385f4f4e13b21543,12,5,1,16643,,,0,"Add waiters in access metadata tests

Change-Id: Ic07ef12f3f80001e688356bd70738c2b3b68667b
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
",git fetch https://review.opendev.org/openstack/manila-tempest-plugin refs/changes/41/839441/1 && git format-patch -1 --stdout FETCH_HEAD,['manila_tempest_tests/tests/api/test_access_rules_metadata.py'],1,9010dcbde02149ac5339a112385f4f4e13b21543,bug/1968738,"from manila_tempest_tests.common import waiters waiters.wait_for_resource_status( cls.shares_v2_client, cls.share[""id""], ""active"", resource_name='access_rule', rule_id=cls.access[""id""]) waiters.wait_for_resource_status( self.shares_v2_client, self.share[""id""], ""active"", resource_name='access_rule', rule_id=access[""id""]) waiters.wait_for_resource_status( self.shares_v2_client, self.share[""id""], ""active"", resource_name='access_rule', rule_id=access[""id""])",,10,0
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~I64a4d80d0e678536170089be6e50020ff1d688a9,openstack/tripleo-heat-templates,stable/wallaby,I64a4d80d0e678536170089be6e50020ff1d688a9,Don't use hardcoded subnets in VipSubnetMap,MERGED,2022-05-04 03:39:07.000000000,2022-05-04 10:44:29.000000000,2022-05-04 10:44:29.000000000,"[{'_account_id': 8449}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-05-04 03:39:07.000000000', 'files': ['network/service_net_map.j2.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/60d9d5278208967084d1a642ba6cdd6a438df04c', 'message': ""Don't use hardcoded subnets in VipSubnetMap\n\nThis does not work when using custom network/subnet names in\nnetwork_data.yaml\n\nNote: Fixed in service_net_map.j2.yaml for wallaby and before.\n\nChange-Id: I64a4d80d0e678536170089be6e50020ff1d688a9\n(cherry picked from commit ce0686a559238a90b287cc1c76aed9dc18babf29)\n""}]",2,840405,60d9d5278208967084d1a642ba6cdd6a438df04c,7,3,1,8833,,,0,"Don't use hardcoded subnets in VipSubnetMap

This does not work when using custom network/subnet names in
network_data.yaml

Note: Fixed in service_net_map.j2.yaml for wallaby and before.

Change-Id: I64a4d80d0e678536170089be6e50020ff1d688a9
(cherry picked from commit ce0686a559238a90b287cc1c76aed9dc18babf29)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/05/840405/1 && git format-patch -1 --stdout FETCH_HEAD,['network/service_net_map.j2.yaml'],1,60d9d5278208967084d1a642ba6cdd6a438df04c,," redis: {{ _service_nets.get('internal_api', 'ctlplane') }}_subnet ovn_dbs: {{ _service_nets.get('internal_api', 'ctlplane') }}_subnet", redis: internal_api_subnet ovn_dbs: internal_api_subnet,2,2
openstack%2Fopenstack-ansible~stable%2Fvictoria~I01e360aab6eb33271042dc84a07669458a5b7080,openstack/openstack-ansible,stable/victoria,I01e360aab6eb33271042dc84a07669458a5b7080,Bump OpenStack-Ansible Victoria for EM,MERGED,2022-04-27 11:59:05.000000000,2022-05-04 10:21:33.000000000,2022-05-04 10:19:42.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-04-27 11:59:05.000000000', 'files': ['playbooks/defaults/repo_packages/openstack_services.yml', 'ansible-role-requirements.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/08d90900f01ec25f624ea7bfb31b2a7a58fdb8db', 'message': 'Bump OpenStack-Ansible Victoria for EM\n\nChange-Id: I01e360aab6eb33271042dc84a07669458a5b7080\n'}]",2,839516,08d90900f01ec25f624ea7bfb31b2a7a58fdb8db,11,3,1,28619,,,0,"Bump OpenStack-Ansible Victoria for EM

Change-Id: I01e360aab6eb33271042dc84a07669458a5b7080
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/16/839516/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/defaults/repo_packages/openstack_services.yml', 'ansible-role-requirements.yml']",2,08d90900f01ec25f624ea7bfb31b2a7a58fdb8db,bump_osa,### HEAD as of 27.04.2022 ### version: 78e7f22caa79a19ecfed9d4e378bd0d261a93a11 version: 4d2855414e6bcdf49414b88319fdaab854b8a7f5,### HEAD as of 20.04.2022 ### version: 5070371eddc644384f57b472b49a79d3adbe573f version: f224782326834a4450173056658c6e08c30903f6,52,52
openstack%2Fansible-collections-openstack~master~Ifcf55749919fd59c990611e8c4537de787ba4005,openstack/ansible-collections-openstack,master,Ifcf55749919fd59c990611e8c4537de787ba4005,Fixed return type of identity_role module,MERGED,2022-05-04 07:26:22.000000000,2022-05-04 10:18:17.000000000,2022-05-04 10:18:17.000000000,"[{'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 32962}, {'_account_id': 34208}]","[{'number': 1, 'created': '2022-05-04 07:26:22.000000000', 'files': ['plugins/modules/identity_role.py'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/92566dedae68ed017fe87d9ce3b3231560b9f5d7', 'message': 'Fixed return type of identity_role module\n\nChange-Id: Ifcf55749919fd59c990611e8c4537de787ba4005\n'}]",0,840423,92566dedae68ed017fe87d9ce3b3231560b9f5d7,7,4,1,32962,,,0,"Fixed return type of identity_role module

Change-Id: Ifcf55749919fd59c990611e8c4537de787ba4005
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/23/840423/1 && git format-patch -1 --stdout FETCH_HEAD,['plugins/modules/identity_role.py'],1,92566dedae68ed017fe87d9ce3b3231560b9f5d7,fix_identity_role, type: dict, type: list elements: dict,1,2
openstack%2Fironic-ui~master~I4d64f8ecd2fd665dd4133603dce078e043d00177,openstack/ironic-ui,master,I4d64f8ecd2fd665dd4133603dce078e043d00177,Address RemovedInDjango40Warning,MERGED,2022-04-29 16:31:02.000000000,2022-05-04 09:49:55.000000000,2022-05-04 09:48:36.000000000,"[{'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2022-04-29 16:31:02.000000000', 'files': ['ironic_ui/content/ironic/urls.py', 'ironic_ui/test/urls.py'], 'web_link': 'https://opendev.org/openstack/ironic-ui/commit/16c4d0a63c22c5f7189967cfb55341811bcdc44e', 'message': 'Address RemovedInDjango40Warning\n\nIn Django 3.1, django.conf.urls.url() is deprecated\nin favor of django.urls.re_path(). For more info see [1]\nThese were already replaced in Horizon repo by [2].\n\n[1] https://docs.djangoproject.com/en/4.0/releases/3.1/#id2\n[2] https://review.opendev.org/c/openstack/horizon/+/827093\n\nChange-Id: I4d64f8ecd2fd665dd4133603dce078e043d00177\n'}]",0,839971,16c4d0a63c22c5f7189967cfb55341811bcdc44e,7,3,1,29313,,,0,"Address RemovedInDjango40Warning

In Django 3.1, django.conf.urls.url() is deprecated
in favor of django.urls.re_path(). For more info see [1]
These were already replaced in Horizon repo by [2].

[1] https://docs.djangoproject.com/en/4.0/releases/3.1/#id2
[2] https://review.opendev.org/c/openstack/horizon/+/827093

Change-Id: I4d64f8ecd2fd665dd4133603dce078e043d00177
",git fetch https://review.opendev.org/openstack/ironic-ui refs/changes/71/839971/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_ui/content/ironic/urls.py', 'ironic_ui/test/urls.py']",2,16c4d0a63c22c5f7189967cfb55341811bcdc44e,,"from django.urls import re_path re_path(r'', include(openstack_dashboard.urls))","from django.conf.urls import url url(r'', include(openstack_dashboard.urls))",5,5
openstack%2Fopenstack-virtual-baremetal~master~I43206770283cf9a8a6cc7ac2e71f7800238e1690,openstack/openstack-virtual-baremetal,master,I43206770283cf9a8a6cc7ac2e71f7800238e1690,Simplify bmc repo setup and installation,MERGED,2022-03-22 01:38:25.000000000,2022-05-04 09:21:48.000000000,2022-05-04 09:21:48.000000000,"[{'_account_id': 6928}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2022-03-22 01:38:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-virtual-baremetal/commit/d8553a4fd1daeac490e9745c612d6c80ff7125a2', 'message': 'Simplify bmc repo setup and installation\n\nThis makes the following changes to simplify the install of pyghmi and\nits dependencies:\n- Bootstrap installing tripleo-repo by curling delorean.repo instead\n  of a wget tree search to find the tripleo-repo rpm\n- Install pyghmi from rpm, it has been packaged for years and\n  installing by pip was intended to be temporary\n- Do not install unused jq, git, pip\n\nChange-Id: I43206770283cf9a8a6cc7ac2e71f7800238e1690\n'}, {'number': 2, 'created': '2022-03-22 03:58:25.000000000', 'files': ['bin/install_openstackbmc.sh'], 'web_link': 'https://opendev.org/openstack/openstack-virtual-baremetal/commit/f36b5cc6eb7057f6bac65ce17a9d295889bd8749', 'message': 'Simplify bmc repo setup and installation\n\nThis makes the following changes to simplify the install of pyghmi and\nits dependencies:\n- Bootstrap installing tripleo-repo by curling delorean.repo instead\n  of a wget tree search to find the tripleo-repo rpm\n- Install pyghmi from rpm, it has been packaged for years and\n  installing by pip was intended to be temporary\n- Do not install unused jq, git, pip\n\nChange-Id: I43206770283cf9a8a6cc7ac2e71f7800238e1690\n'}]",6,834581,f36b5cc6eb7057f6bac65ce17a9d295889bd8749,17,4,2,4571,,,0,"Simplify bmc repo setup and installation

This makes the following changes to simplify the install of pyghmi and
its dependencies:
- Bootstrap installing tripleo-repo by curling delorean.repo instead
  of a wget tree search to find the tripleo-repo rpm
- Install pyghmi from rpm, it has been packaged for years and
  installing by pip was intended to be temporary
- Do not install unused jq, git, pip

Change-Id: I43206770283cf9a8a6cc7ac2e71f7800238e1690
",git fetch https://review.opendev.org/openstack/openstack-virtual-baremetal refs/changes/81/834581/2 && git format-patch -1 --stdout FETCH_HEAD,['bin/install_openstackbmc.sh'],1,d8553a4fd1daeac490e9745c612d6c80ff7125a2,bmc-upgrade, curl -o /etc/yum.repos.d/delorean.repo https://trunk.rdoproject.org/centos7/current/delorean.repo yum install -y python2-tripleo-repos yum install -y python-crypto python2-novaclient python2-neutronclient python2-pyghmi os-net-config python2-os-client-config python2-openstackclient, yum install -y wget wget -r --no-parent -nd -e robots=off -l 1 -A 'python2-tripleo-repos-*' https://trunk.rdoproject.org/centos7/current/ yum install -y python2-tripleo-repos-* yum install -y python-crypto python2-novaclient python2-neutronclient python-pip os-net-config git jq python2-os-client-config python2-openstackclient pip install pyghmi,3,5
openstack%2Fopenstack-virtual-baremetal~master~I136b16528b722a6d38235ffcd571f3591d29e679,openstack/openstack-virtual-baremetal,master,I136b16528b722a6d38235ffcd571f3591d29e679,Explicitly support only centos-7 on the bmc host,MERGED,2022-03-22 01:20:27.000000000,2022-05-04 09:07:59.000000000,2022-05-04 09:07:59.000000000,"[{'_account_id': 6928}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2022-03-22 01:20:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-virtual-baremetal/commit/9772265a48a09c24f95130187eedeb016fdf5fac', 'message': 'Explicitly support only centos-7 on the bmc host\n\nThis change removes the pre-built image support and explicitly\ninstalls for centos-7 base images. There are likely no pre-built image\ndeployments in the wild, they all appear to use a base centos-7 image\n(this includes the bmc-template image used in RDO CI).\n\nThis change is the first in a series to upgrade the BMC host to CentOS\nversions 8 and 9-stream.\n\nChange-Id: I136b16528b722a6d38235ffcd571f3591d29e679\n'}, {'number': 2, 'created': '2022-03-22 03:58:25.000000000', 'files': ['bin/install_openstackbmc.sh'], 'web_link': 'https://opendev.org/openstack/openstack-virtual-baremetal/commit/01d82d7544fe690ee698302c19fabf20385c5929', 'message': 'Explicitly support only centos-7 on the bmc host\n\nThis change removes the pre-built image support and explicitly\ninstalls for centos-7 base images. There are likely no pre-built image\ndeployments in the wild, they all appear to use a base centos-7 image\n(this includes the bmc-template image used in RDO CI).\n\nThis change is the first in a series to upgrade the BMC host to CentOS\nversions 8 and 9-stream.\n\nChange-Id: I136b16528b722a6d38235ffcd571f3591d29e679\n'}]",7,834579,01d82d7544fe690ee698302c19fabf20385c5929,21,4,2,4571,,,0,"Explicitly support only centos-7 on the bmc host

This change removes the pre-built image support and explicitly
installs for centos-7 base images. There are likely no pre-built image
deployments in the wild, they all appear to use a base centos-7 image
(this includes the bmc-template image used in RDO CI).

This change is the first in a series to upgrade the BMC host to CentOS
versions 8 and 9-stream.

Change-Id: I136b16528b722a6d38235ffcd571f3591d29e679
",git fetch https://review.opendev.org/openstack/openstack-virtual-baremetal refs/changes/79/834579/2 && git format-patch -1 --stdout FETCH_HEAD,['bin/install_openstackbmc.sh'],1,9772265a48a09c24f95130187eedeb016fdf5fac,bmc-upgrade,"centos_ver=$(rpm --eval %{centos_ver}) if [ ""$centos_ver"" == ""7"" ] ; then yum install -y python-crypto python2-novaclient python2-neutronclient python-pip os-net-config git jq python2-os-client-config python2-openstackclientelse echo ""Unsupported CentOS version $centos_ver"" exit 1","# Also python-crypto, but that requires special handling because we used to # install python2-crypto from EPEL # python-[nova|neutron]client are in a similar situation. They were renamed # in RDO to python2-* required_packages=""python-pip os-net-config git jq python2-os-client-config python2-openstackclient"" function have_packages() { for i in $required_packages; do if ! rpm -qa | grep -q $i; then return 1 fi done if ! (rpm -qa | egrep -q ""python-crypto|python2-crypto""); then return 1 fi if ! (rpm -qa | egrep -q ""python-novaclient|python2-novaclient""); then return 1 fi if ! (rpm -qa | egrep -q ""python-neutronclient|python2-neutronclient""); then return 1 fi if ! pip freeze | grep -q pyghmi; then return 1 fi return 0 } if ! have_packages; then yum install -y $required_packages python-crypto python2-novaclient python2-neutronclient",6,28
openstack%2Fansible-collections-openstack~master~Ie59da441d39fe2d0e49430662d853bc9628181e0,openstack/ansible-collections-openstack,master,Ie59da441d39fe2d0e49430662d853bc9628181e0,Update identity_role to work with latest sdk,MERGED,2022-04-13 22:38:17.000000000,2022-05-04 08:43:19.000000000,2022-05-03 13:25:49.000000000,"[{'_account_id': 8367}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 32962}]","[{'number': 1, 'created': '2022-04-13 22:38:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/b275334dfc5438a0b499b88486d0bee35ad80b38', 'message': 'Update identity_role to work with latest sdk\n\nChange-Id: Ie59da441d39fe2d0e49430662d853bc9628181e0\n'}, {'number': 2, 'created': '2022-04-13 23:05:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/f744145147f1bec077c24ef265d33bdf552b2078', 'message': 'Update identity_role to work with latest sdk\n\nChange-Id: Ie59da441d39fe2d0e49430662d853bc9628181e0\n'}, {'number': 3, 'created': '2022-04-27 15:30:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/7014332165ef41ac1592a82d26a37266ffb66947', 'message': 'Update identity_role to work with latest sdk\n\nChange-Id: Ie59da441d39fe2d0e49430662d853bc9628181e0\n'}, {'number': 4, 'created': '2022-04-27 16:14:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/d1da77c7e526034ef3c32d22cf69ce049c070886', 'message': 'Update identity_role to work with latest sdk\n\nChange-Id: Ie59da441d39fe2d0e49430662d853bc9628181e0\n'}, {'number': 5, 'created': '2022-04-28 19:15:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/fd23ae8343425b7988a29e10caa494bfb25de1a6', 'message': 'Update identity_role to work with latest sdk\n\nAlso renames the test role to match the module name\n\nChange-Id: Ie59da441d39fe2d0e49430662d853bc9628181e0\n'}, {'number': 6, 'created': '2022-05-03 10:54:13.000000000', 'files': ['ci/roles/identity_role/tasks/main.yml', 'ci/roles/keystone_role/tasks/main.yml', '.zuul.yaml', 'ci/roles/identity_role/defaults/main.yml', 'ci/roles/keystone_role/defaults/main.yml', 'ci/run-collection.yml', 'plugins/modules/identity_role.py'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/cc1b5ecae8563b28960cbd1fb706ca09ca701162', 'message': 'Update identity_role to work with latest sdk\n\nAlso renames the test role to match the module name\n\nChange-Id: Ie59da441d39fe2d0e49430662d853bc9628181e0\n'}]",12,837772,cc1b5ecae8563b28960cbd1fb706ca09ca701162,27,4,6,34208,,,0,"Update identity_role to work with latest sdk

Also renames the test role to match the module name

Change-Id: Ie59da441d39fe2d0e49430662d853bc9628181e0
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/72/837772/4 && git format-patch -1 --stdout FETCH_HEAD,['plugins/modules/identity_role.py'],1,b275334dfc5438a0b499b88486d0bee35ad80b38,, role = self.conn.identity.find_role(name) changed = False role = self.conn.identity.create_role(name=name) role = role.to_dict(computed=False) elif state == 'absent' and role is not None: self.conn.delete_role(name) changed = True self.exit_json(changed=changed), role = self.conn.get_role(name) role = self.conn.create_role(name) else: changed = False elif state == 'absent': if role is None: changed = False else: self.conn.delete_role(name) changed = True self.exit_json(changed=changed),8,11
openstack%2Fopenstack-ansible-os_mistral~master~I4f92f6d55bcda6f5fa57c5af9f560bac1f3a9c72,openstack/openstack-ansible-os_mistral,master,I4f92f6d55bcda6f5fa57c5af9f560bac1f3a9c72,Updated from OpenStack Ansible Tests,MERGED,2022-03-29 17:18:45.000000000,2022-05-04 08:28:08.000000000,2022-05-04 08:26:57.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-03-29 17:18:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_mistral/commit/c71ce3d207a852f5d7e7c1be6404a56c0ba4e127', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: I4f92f6d55bcda6f5fa57c5af9f560bac1f3a9c72\n'}, {'number': 2, 'created': '2022-04-04 09:44:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_mistral/commit/1ece5518cc8b57755c207eeec64ce40e4b53987d', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: I4f92f6d55bcda6f5fa57c5af9f560bac1f3a9c72\n'}, {'number': 3, 'created': '2022-04-29 18:45:39.000000000', 'files': ['run_tests.sh'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_mistral/commit/a74ff7600700813317560e779128ae4eaf5dee46', 'message': 'Updated from OpenStack Ansible Tests\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/839988\nChange-Id: I4f92f6d55bcda6f5fa57c5af9f560bac1f3a9c72\n'}]",0,835714,a74ff7600700813317560e779128ae4eaf5dee46,12,3,3,11131,,,0,"Updated from OpenStack Ansible Tests

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/839988
Change-Id: I4f92f6d55bcda6f5fa57c5af9f560bac1f3a9c72
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_mistral refs/changes/14/835714/3 && git format-patch -1 --stdout FETCH_HEAD,['run_tests.sh'],1,c71ce3d207a852f5d7e7c1be6404a56c0ba4e127,openstack/openstack-ansible-tests/sync-tests," centos|rhel|fedora|rocky) pkg_mgr_cmd=""dnf install -y"" ;;"," centos|rhel|fedora) pkg_mgr_cmd=""dnf install -y"" ;;",1,1
openstack%2Fneutron~master~Ib62c049cc521a548ab7e7e9584b19bdaa67b1c9d,openstack/neutron,master,Ib62c049cc521a548ab7e7e9584b19bdaa67b1c9d,Use monkey_patch for neutron API server.,MERGED,2022-04-25 13:43:13.000000000,2022-05-04 08:04:52.000000000,2022-05-04 08:03:17.000000000,"[{'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-25 13:43:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e528cdfa3f715ea2a3fdabc340002295aea2d3a2', 'message': ""Use monkey_patch for neutron API server.\n\nNeutron API server was not using eventlet monkey patch\nthus eventlet threads couldn't be properly yielded.\n\nThis patch set API neutron server like other monkey patched\nneutron services: neutron-server and neutron-rpc-server.\n\nCloses-Bug: 1970216\nChange-Id: Ib62c049cc521a548ab7e7e9584b19bdaa67b1c9d\n""}, {'number': 2, 'created': '2022-04-25 14:29:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6a4a179ba6813d2cd2dbc2ac39d56a4b7c8649e6', 'message': ""Use monkey_patch for neutron API server.\n\nNeutron API server was not using eventlet monkey patch\nthus eventlet threads couldn't be properly yielded.\n\nThis patch set API neutron server like other monkey patched\nneutron services: neutron-server and neutron-rpc-server.\n\nCo-Authored-By: Szymon Wroblewski <szymon.wroblewski@ovhcloud.com>\nCloses-Bug: 1970216\nChange-Id: Ib62c049cc521a548ab7e7e9584b19bdaa67b1c9d\n""}, {'number': 3, 'created': '2022-04-28 13:34:36.000000000', 'files': ['neutron/server/api_eventlet.py', 'neutron/cmd/eventlet/server/__init__.py', 'neutron/server/__init__.py', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/neutron/commit/dcbc4beb9e8e9b2695fa76015a33f651f904f280', 'message': ""Use monkey_patch for neutron API server.\n\nNeutron API server was not using eventlet monkey patch\nthus eventlet threads couldn't be properly yielded.\n\nThis patch set API neutron server like other monkey patched\nneutron services: neutron-server and neutron-rpc-server.\n\nNOTE: this change needs apache service restart. Apache\nmod_wsgi auto reload can lead to SSL RecursionError.\n\nCo-Authored-By: Szymon Wroblewski <szymon.wroblewski@ovhcloud.com>\nCloses-Bug: 1970216\nChange-Id: Ib62c049cc521a548ab7e7e9584b19bdaa67b1c9d\n""}]",6,839218,dcbc4beb9e8e9b2695fa76015a33f651f904f280,40,7,3,30463,,,0,"Use monkey_patch for neutron API server.

Neutron API server was not using eventlet monkey patch
thus eventlet threads couldn't be properly yielded.

This patch set API neutron server like other monkey patched
neutron services: neutron-server and neutron-rpc-server.

NOTE: this change needs apache service restart. Apache
mod_wsgi auto reload can lead to SSL RecursionError.

Co-Authored-By: Szymon Wroblewski <szymon.wroblewski@ovhcloud.com>
Closes-Bug: 1970216
Change-Id: Ib62c049cc521a548ab7e7e9584b19bdaa67b1c9d
",git fetch https://review.opendev.org/openstack/neutron refs/changes/18/839218/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/server/api_eventlet.py', 'neutron/cmd/eventlet/server/__init__.py', 'neutron/server/__init__.py', 'setup.cfg']",4,e528cdfa3f715ea2a3fdabc340002295aea2d3a2,, neutron-api = neutron.cmd.eventlet.server:main_api_eventlet, neutron-api = neutron.server:get_application,35,9
openstack%2Fci-log-processing~master~Ib249444256fa7027955bf1dbd3e9e64f21338653,openstack/ci-log-processing,master,Ib249444256fa7027955bf1dbd3e9e64f21338653,Send json message for performance.json file instead of string,MERGED,2022-04-27 12:58:33.000000000,2022-05-04 08:03:44.000000000,2022-05-04 08:02:17.000000000,"[{'_account_id': 6889}, {'_account_id': 8367}, {'_account_id': 8449}, {'_account_id': 9311}, {'_account_id': 20676}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-27 12:58:33.000000000', 'files': ['logscraper/tests/test_logsender.py', 'logscraper/logsender.py'], 'web_link': 'https://opendev.org/openstack/ci-log-processing/commit/c77be63167a5b74302a80590ce74caf453b0dade', 'message': 'Send json message for performance.json file instead of string\n\nIt is not necessary to convert the message to the string.\n\nChange-Id: Ib249444256fa7027955bf1dbd3e9e64f21338653\n'}]",1,839522,c77be63167a5b74302a80590ce74caf453b0dade,9,6,1,20676,,,0,"Send json message for performance.json file instead of string

It is not necessary to convert the message to the string.

Change-Id: Ib249444256fa7027955bf1dbd3e9e64f21338653
",git fetch https://review.opendev.org/openstack/ci-log-processing refs/changes/22/839522/1 && git format-patch -1 --stdout FETCH_HEAD,"['logscraper/tests/test_logsender.py', 'logscraper/logsender.py']",2,c77be63167a5b74302a80590ce74caf453b0dade,," yield (ts, json.dumps(parse_file))"," yield (ts, str(parse_file))",8,10
openstack%2Fopenstack-ansible-tests~stable%2Fwallaby~I3a3e9ee62fde37c65fa182bf59f12031c390d968,openstack/openstack-ansible-tests,stable/wallaby,I3a3e9ee62fde37c65fa182bf59f12031c390d968,Initialise ssh certificate signing keypair,ABANDONED,2022-05-04 07:57:43.000000000,2022-05-04 07:59:26.000000000,,[],"[{'number': 1, 'created': '2022-05-04 07:57:43.000000000', 'files': ['test-vars.yml', 'test-prepare-keys.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/19c8802e725373460bd809850eead6a00e0a3714', 'message': 'Initialise ssh certificate signing keypair\n\nThis is needed later by the keystone, nova and repo_server roles\n\nChange-Id: I3a3e9ee62fde37c65fa182bf59f12031c390d968\n'}]",0,840427,19c8802e725373460bd809850eead6a00e0a3714,2,0,1,25023,,,0,"Initialise ssh certificate signing keypair

This is needed later by the keystone, nova and repo_server roles

Change-Id: I3a3e9ee62fde37c65fa182bf59f12031c390d968
",git fetch https://review.opendev.org/openstack/openstack-ansible-tests refs/changes/27/840427/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-vars.yml', 'test-prepare-keys.yml']",2,19c8802e725373460bd809850eead6a00e0a3714,," - name: Create SSHD CA hosts: ""{{ openstack_ssh_keypairs_setup_host | default('localhost') }}"" gather_facts: false tasks: - name: ""Create SSHD certificate authority"" include_role: name: openstack.osa.ssh_keypairs vars: ssh_keypairs_setup_host: ""{{ openstack_ssh_keypairs_setup_host | default('localhost') }}"" ssh_keypairs_dir: ""{{ openstack_ssh_keypairs_dir }}"" ssh_keypairs: ""{{ openstack_ssh_keypairs_authorities }}"" ssh_keypairs_install_authorities: false ssh_keypairs_install_keypairs: false ssh_keypairs_install_authorized_keys: false",,20,0
openstack%2Fglance-specs~master~I138570ec47d714687810ad65fce70f3a14367484,openstack/glance-specs,master,I138570ec47d714687810ad65fce70f3a14367484,Spec Lite: Add ability to purge all rows by glance-manage,MERGED,2021-11-29 11:16:36.000000000,2022-05-04 07:32:07.000000000,2022-05-04 07:30:56.000000000,"[{'_account_id': 5314}, {'_account_id': 8122}, {'_account_id': 9303}, {'_account_id': 22348}, {'_account_id': 32761}]","[{'number': 1, 'created': '2021-11-29 11:16:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/7db8fdf5e2e420a01f71c3e6d1b477d96eacb48f', 'message': 'Spec Lite: Add ability to purge all rows by glance-manage\n\nblueprint: purge-all-rows\nChange-Id: I138570ec47d714687810ad65fce70f3a14367484\n'}, {'number': 2, 'created': '2021-11-29 11:35:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/3e2ed49abc79d83968990745d03e8ac1ff8ee6d0', 'message': 'Spec Lite: Add ability to purge all rows by glance-manage\n\nblueprint: purge-all-rows\nChange-Id: I138570ec47d714687810ad65fce70f3a14367484\n'}, {'number': 3, 'created': '2021-12-16 06:40:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/197c990af1bf2333ae9daaf8dead717e954b8e9e', 'message': 'Spec Lite: Add ability to purge all rows by glance-manage\n\nblueprint: purge-all-rows\nChange-Id: I138570ec47d714687810ad65fce70f3a14367484\n'}, {'number': 4, 'created': '2021-12-23 14:39:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/bc61e4201ca485b505d6574c652f4e1f499887f6', 'message': 'Spec Lite: Add ability to purge all rows by glance-manage\n\nblueprint: purge-all-rows\nChange-Id: I138570ec47d714687810ad65fce70f3a14367484\n'}, {'number': 5, 'created': '2022-02-24 10:35:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/18a18b29cb9ebed12a81715a88db10d41702a675', 'message': 'Spec Lite: Add ability to purge all rows by glance-manage\n\nblueprint: purge-all-rows\nChange-Id: I138570ec47d714687810ad65fce70f3a14367484\n'}, {'number': 6, 'created': '2022-02-24 11:06:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/d13008a27f007fe51413f3e6a467bc838735efc3', 'message': 'Spec Lite: Add ability to purge all rows by glance-manage\n\nblueprint: purge-all-rows\nChange-Id: I138570ec47d714687810ad65fce70f3a14367484\n'}, {'number': 7, 'created': '2022-02-24 11:21:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/54d0655c522b94b5dbfd00b85b6e5aa3a2d4f2a2', 'message': 'Spec Lite: Add ability to purge all rows by glance-manage\n\nblueprint: purge-all-rows\nChange-Id: I138570ec47d714687810ad65fce70f3a14367484\n'}, {'number': 8, 'created': '2022-02-24 11:23:38.000000000', 'files': ['specs/zed/approved/index.rst', 'specs/zed/approved/glance/purge_all_rows.rst'], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/46a2eb1ea256c945f266843dcac714cf5afba8b5', 'message': 'Spec Lite: Add ability to purge all rows by glance-manage\n\nblueprint: purge-all-rows\nChange-Id: I138570ec47d714687810ad65fce70f3a14367484\n'}]",17,819622,46a2eb1ea256c945f266843dcac714cf5afba8b5,33,5,8,32927,,,0,"Spec Lite: Add ability to purge all rows by glance-manage

blueprint: purge-all-rows
Change-Id: I138570ec47d714687810ad65fce70f3a14367484
",git fetch https://review.opendev.org/openstack/glance-specs refs/changes/22/819622/8 && git format-patch -1 --stdout FETCH_HEAD,['specs/yoga/approved/glance/purge_all_rows.rst'],1,7db8fdf5e2e420a01f71c3e6d1b477d96eacb48f,Add_ability_to_purge_all_rows_by_glance_manage,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ======================================================================== Spec Lite: Add ability to purge all needed rows by glance-manage script. ======================================================================== :project: glance :problem: When user wants to purge all deleted rows he/she uses ""glance-manage db purge"" and ""glance-manage purge_images_table"". An user never knows how many deleted rows are still in a table. So he needs to launch the script many times until the script reports that 0 rows were deleted in every table. It's inconvenient. :solution: use the same notation as with our other limits on ""--max-rows"" when set to -1 it would purge them all rather than the default 100 lines or what ever specified on the command line. :impacts: None :how: if ""--max-rows"" equals -1 the script purges deleted rows without number limit. :alternatives: None :timeline: Yoga :link: https://review.opendev.org/c/openstack/glance/+/813691 :reviewers: Abhishek Kekane, Cyril Roelandt :assignee: mitya-eremeev-2 ",,24,0
openstack%2Fopenstack-ansible~master~Ic8c55f2936d5aae605c12a1ee50150cfd519893a,openstack/openstack-ansible,master,Ic8c55f2936d5aae605c12a1ee50150cfd519893a,DNM Test advancedvirt-common repo,ABANDONED,2022-02-02 11:58:05.000000000,2022-05-04 07:29:50.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-02-02 11:58:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/466c3226072f7d69afa0d0483eda5333098f3acd', 'message': 'DNM Test advancedvirt-common repo\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-openstack_hosts/+/827468\nChange-Id: Ic8c55f2936d5aae605c12a1ee50150cfd519893a\n'}, {'number': 2, 'created': '2022-02-02 13:58:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/ecc5d62d9f12f66c7d8049017290d4126c62cdab', 'message': 'DNM Test advancedvirt-common repo\n\nDisable the old repo in openstack_hosts, enable the new repo in os_nova\n\nhttps://review.opendev.org/c/openstack/openstack-ansible-openstack_hosts/+/827495\nhttps://review.opendev.org/c/openstack/openstack-ansible-os_nova/+/827501\nChange-Id: Ic8c55f2936d5aae605c12a1ee50150cfd519893a\n'}, {'number': 3, 'created': '2022-02-02 15:50:05.000000000', 'files': ['foo'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/b8790ee0dbb66e8336d0ffe6d7c88d34cadb7cf7', 'message': 'DNM Test advancedvirt-common repo\n\nDisable the old repo in openstack_hosts, enable the new repo in os_nova\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-openstack_hosts/+/827495\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_nova/+/827501\nChange-Id: Ic8c55f2936d5aae605c12a1ee50150cfd519893a\n'}]",1,827485,b8790ee0dbb66e8336d0ffe6d7c88d34cadb7cf7,7,1,3,25023,,,0,"DNM Test advancedvirt-common repo

Disable the old repo in openstack_hosts, enable the new repo in os_nova

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-openstack_hosts/+/827495
Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_nova/+/827501
Change-Id: Ic8c55f2936d5aae605c12a1ee50150cfd519893a
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/85/827485/3 && git format-patch -1 --stdout FETCH_HEAD,['foo'],1,466c3226072f7d69afa0d0483eda5333098f3acd,,,,0,0
openstack%2Fopenstack-ansible-os_cinder~master~Iea21464f619ffa0899bb516850c5a14e10da6ee6,openstack/openstack-ansible-os_cinder,master,Iea21464f619ffa0899bb516850c5a14e10da6ee6,Added an option to specify open files limits,ABANDONED,2017-01-26 19:07:53.000000000,2022-05-04 07:29:24.000000000,,"[{'_account_id': 3}, {'_account_id': 6816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-01-26 19:07:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_cinder/commit/f8316aaef1f1628e4e3fd91d4e99f532c75c5f11', 'message': 'Added an option to specify open files limits\n\nFor cinder-volume service it is necessary to set up\nlimits of open files in case Ceph is used as the backend.\nIn production environment each cinder-volume service\nestablishes many connections to OSDs which requires higher\nopen files limit.\n\nChange-Id: Iea21464f619ffa0899bb516850c5a14e10da6ee6\n'}, {'number': 2, 'created': '2017-01-26 23:17:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_cinder/commit/b57917f5d374bbc783fafb97a26865251020e9b1', 'message': 'Added an option to specify open files limits\n\nFor cinder-volume service it is necessary to set up\nlimits of open files in case Ceph is used as the backend.\nIn production environment each cinder-volume service\nestablishes many connections to OSDs which requires higher\nopen files limit.\n\nChange-Id: Iea21464f619ffa0899bb516850c5a14e10da6ee6\n'}, {'number': 3, 'created': '2017-12-01 03:28:13.000000000', 'files': ['templates/limits.conf.j2', 'releasenotes/notes/systemd_limits-64486ba333dc6b17.yaml', 'defaults/main.yml', 'tasks/cinder_init_systemd.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_cinder/commit/b98790179323a9a83d7fc88e6d31ea071ecf412a', 'message': 'Added an option to specify open files limits\n\nFor cinder-volume service it is necessary to set up\nlimits of open files in case Ceph is used as the backend.\nIn production environment each cinder-volume service\nestablishes many connections to OSDs which requires higher\nopen files limit.\n\nChange-Id: Iea21464f619ffa0899bb516850c5a14e10da6ee6\n'}]",0,425845,b98790179323a9a83d7fc88e6d31ea071ecf412a,9,3,3,11782,,,0,"Added an option to specify open files limits

For cinder-volume service it is necessary to set up
limits of open files in case Ceph is used as the backend.
In production environment each cinder-volume service
establishes many connections to OSDs which requires higher
open files limit.

Change-Id: Iea21464f619ffa0899bb516850c5a14e10da6ee6
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_cinder refs/changes/45/425845/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/limits.conf.j2', 'releasenotes/notes/systemd_limits-64486ba333dc6b17.yaml', 'defaults/main.yml', 'tasks/cinder_init_systemd.yml']",4,f8316aaef1f1628e4e3fd91d4e99f532c75c5f11,config_dir_perm," - name: Apply resource limits (systemd) register: cinder_resource_limit_changed template: src: ""limits.conf.j2"" dest: ""/etc/systemd/system/cinder_service.service.d/limits.conf"" when: - ansible_service_mgr == 'systemd' - inventory_hostname in groups['cinder_volume'] - name: Reload the systemd daemon command: ""systemctl daemon-reload"" when: - ansible_service_mgr == 'systemd' - cinder_resource_limit_changed|changed",,29,0
openstack%2Fglance-specs~master~I29b1dc0d93033c89eeb39d3038dbada400976faf,openstack/glance-specs,master,I29b1dc0d93033c89eeb39d3038dbada400976faf,Spec Lite: Remove authorization layer,ABANDONED,2021-07-05 06:09:18.000000000,2022-05-04 07:23:29.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-07-05 06:09:18.000000000', 'files': ['specs/xena/approved/glance/remove-authorization-layer.rst'], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/d37d7970b7efa95c597e8328393da58e2cbea1a7', 'message': 'Spec Lite: Remove authorization layer\n\nChange-Id: I29b1dc0d93033c89eeb39d3038dbada400976faf\n'}]",1,799436,d37d7970b7efa95c597e8328393da58e2cbea1a7,4,1,1,9303,,,0,"Spec Lite: Remove authorization layer

Change-Id: I29b1dc0d93033c89eeb39d3038dbada400976faf
",git fetch https://review.opendev.org/openstack/glance-specs refs/changes/36/799436/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/xena/approved/glance/remove-authorization-layer.rst'],1,d37d7970b7efa95c597e8328393da58e2cbea1a7,bp/policy-refactoring,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ===================================== Spec Lite: Remove Authorization layer ===================================== :project: Glance :problem: A Glance Domain model (onion structure) manages the internal server operations that is divided into several layers. Specific tasks are implemented by each layer. Authentication is one of the layer which is responsible to ensure that either `owner` or `admin` will be able to update/delete specific resource(s). Since we already implemented RBAC project persona and in Xena we are working on moving existing policies closer to the API these checks in authentication layer are of no use. The new RBAC project scope policies are ensuring similar enforcement. :solution: We do have similar kind of checks at database layers as well. So we can discard the authentication layer from the onion and ensure that these checks will be performed at database layer until entire Secure RBAC related work is completed. :impacts: Possibly existing APIs which were returning 404 NotFound will return 403 Forbidden response to the user. :alternatives: None, keep having these kind of redundant checks at authentication, databse layer as well as same will be enforced with new RBAC policies. :timeline: Xena milestone 3 :link: https://review.opendev.org/c/openstack/glance/+/789913/ :reviewers: croelandt, rosmaita, pdeore :assignee: dansmith, abhishek-kekane ",,41,0
openstack%2Fswift~master~I87a392a6fd11a68d19444aaffbf8f4e55838c51c,openstack/swift,master,I87a392a6fd11a68d19444aaffbf8f4e55838c51c,Rework signal handling in background daemons,NEW,2022-05-02 06:18:45.000000000,2022-05-04 06:48:00.000000000,,"[{'_account_id': 7233}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-02 06:18:45.000000000', 'files': ['swift/common/daemon.py', 'test/unit/common/test_daemon.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/299ab0ce63c362954bea5c21d34b7c20b22d9b65', 'message': 'Rework signal handling in background daemons\n\n* Stop logging in the signal handler. Logging may cause us to block on\n  the shared handler lock; if whoever was holding it was blocked waiting\n  on another lock held by the main thread, we deadlock.\n* In cleanup, signal all children at approximately the same time with\n  `os.kill(p, signal.SIGTERM)` instead of looping through children\n  individually. This has also ensures that grand-child processes (such\n  as rsync) get killed.\n* During cleanup, wait up to 10s for the SIGTERM to have an effect. If\n  there are any remaining children, hit them harder using SIGKILL.\n\nChange-Id: I87a392a6fd11a68d19444aaffbf8f4e55838c51c\n'}]",13,840154,299ab0ce63c362954bea5c21d34b7c20b22d9b65,6,2,1,15343,,,0,"Rework signal handling in background daemons

* Stop logging in the signal handler. Logging may cause us to block on
  the shared handler lock; if whoever was holding it was blocked waiting
  on another lock held by the main thread, we deadlock.
* In cleanup, signal all children at approximately the same time with
  `os.kill(p, signal.SIGTERM)` instead of looping through children
  individually. This has also ensures that grand-child processes (such
  as rsync) get killed.
* During cleanup, wait up to 10s for the SIGTERM to have an effect. If
  there are any remaining children, hit them harder using SIGKILL.

Change-Id: I87a392a6fd11a68d19444aaffbf8f4e55838c51c
",git fetch https://review.opendev.org/openstack/swift refs/changes/54/840154/1 && git format-patch -1 --stdout FETCH_HEAD,"['swift/common/daemon.py', 'test/unit/common/test_daemon.py']",2,299ab0ce63c362954bea5c21d34b7c20b22d9b65,," CLEANUP_TIMEOUT = 0.1 self.assertEqual(mock_signal.mock_calls, [ mock.call.signal(signal.SIGTERM, mock.ANY), d.logger.clear() term_callback = mock_signal.mock_calls[0][1][1] with mock.patch('swift.common.daemon.os') as mock_os, \ self.assertRaises(daemon.DaemonExit): term_callback(signal.SIGTERM, None) # The exception gets trapped up in _run(), which then proceeds to # call cleanup() to kill children, etc. We'll at least get a little # info about ourselves, though. self.assertEqual(mock_os.method_calls, [mock.call.getpid()]) # We can hit deadlocks if we call logging during signal handling self.assertFalse(d.logger.all_log_lines()) self.forked_children = [] next_child = [0] def mock_fork(): self.forked_children.append('mock-pid-%d' % next_child[0]) next_child[0] += 1 return self.forked_children[-1] def mock_wait(): if not self.forked_children: raise OSError(errno.ECHILD, 'no more children') return self.forked_children.pop(), 0 with mock.patch('swift.common.daemon.os.fork', mock_fork) as mock_fork, \ mock.patch('swift.common.daemon.os.wait', mock_wait), \ mock.patch('swift.common.daemon.os.kill') as mock_kill, \ mock.patch('swift.common.daemon.os.killpg') as mock_killpg: self.mock_killpg = mock_killpg self.assertEqual('mock-pid-3', self.mock_fork()) self.assertEqual([], self.mock_killpg.call_args_list) self.assertEqual(d.logger.get_lines_for_level('notice'), [ 'Finished %s' % os.getpid()]) self.mock_killpg.side_effect = lambda *args, **kwargs: setattr( self.assertEqual('mock-pid-6', self.mock_fork()) self.assertEqual(self.mock_killpg.mock_calls, [ # second pass is not healthy, original pid's killed mock.call(0, signal.SIGTERM), # our mock_killpg side effect breaks out of running, # and cleanup kills remaining pids mock.call(0, signal.SIGTERM), ]) with mock.patch('swift.common.daemon.os.wait') as mock_wait, \ mock.patch('swift.common.daemon.os.kill') as mock_kill, \ mock.patch('swift.common.daemon.os.killpg') as mock_killpg: mock_wait.side_effect = [ ('mock-pid-1', 0), ('mock-pid-2', 0), OSError(errno.ECHILD, os.strerror(errno.ECHILD))] self.assertEqual(mock_killpg.mock_calls, [ mock.call(0, signal.SIGTERM), ]) self.assertEqual(mock_kill.mock_calls, []) # Note that workers are expected to log their own start at notice self.assertEqual(d.logger.get_lines_for_level('debug'), [ ""Spawned worker mock-pid-1 with {'mock_options': True}"", ""Spawned worker mock-pid-2 with {'mock_options': True}""]) self.assertEqual(d.logger.get_lines_for_level('notice'), ['Cleaned up worker mock-pid-1', 'Cleaned up worker mock-pid-2']) strategy.register_worker_start('mock-pid-2', {'mock_options': False}) 'mock-pid-2': {'mock_options': False}, with mock.patch('swift.common.daemon.os.wait') as mock_wait, \ mock.patch('swift.common.daemon.os.kill') as mock_kill, \ mock.patch('swift.common.daemon.os.killpg') as mock_killpg: mock_wait.side_effect = [ ('mock-pid-2', 0), OSError(errno.ECHILD, os.strerror(errno.ECHILD))] self.assertEqual(mock_killpg.mock_calls, [ mock.call(0, signal.SIGTERM), ]) self.assertEqual(mock_kill.mock_calls, []) {'mock_options': False}]) self.assertEqual(strategy.options_by_pid, { 'mock-pid-1': {'mock_options': True}, }) # Note that workers are expected to log their own start at notice self.assertEqual(d.logger.get_lines_for_level('debug'), [ ""Spawned worker mock-pid-1 with {'mock_options': True}"", ""Spawned worker mock-pid-2 with {'mock_options': False}""]) self.assertEqual(d.logger.get_lines_for_level('notice'), ['Cleaned up worker mock-pid-2', 'Did not see worker mock-pid-1 during cleanup']) def test_workers_refuse_to_term_in_cleanup(self): d = MyWorkerDaemon({'workers': 2}) strategy = daemon.DaemonStrategy(d, d.logger) strategy.register_worker_start('mock-pid-1', {'mock_options': True}) strategy.register_worker_start('mock-pid-2', {'mock_options': False}) self.assertEqual(strategy.unspawned_worker_options, []) self.assertEqual(strategy.options_by_pid, { 'mock-pid-1': {'mock_options': True}, 'mock-pid-2': {'mock_options': False}, }) with mock.patch('swift.common.daemon.os.wait') as mock_wait, \ mock.patch('swift.common.daemon.os.kill') as mock_kill, \ mock.patch('swift.common.daemon.os.killpg') as mock_killpg: mock_wait.side_effect = lambda: time.sleep(1) strategy.cleanup() self.assertEqual(mock_killpg.mock_calls, [ mock.call(0, signal.SIGTERM), ]) self.assertEqual(set(x[1] for x in mock_kill.mock_calls), set([ ('mock-pid-1', signal.SIGKILL), ('mock-pid-2', signal.SIGKILL), ])) self.assertEqual(strategy.unspawned_worker_options, [ {'mock_options': True}, {'mock_options': False}]) # Note that workers are expected to log their own start at notice self.assertEqual(d.logger.get_lines_for_level('debug'), [ ""Spawned worker mock-pid-1 with {'mock_options': True}"", ""Spawned worker mock-pid-2 with {'mock_options': False}""]) notice_lines = d.logger.get_lines_for_level('notice') self.assertEqual(notice_lines[0], 'Timed out cleaning up workers') self.assertEqual(set(notice_lines[-2:]), set(['Killed worker mock-pid-1', 'Killed worker mock-pid-2'])) self.assertFalse(notice_lines[1:-2])"," signal_args, kwargs = mock_signal.signal.call_args sig, func = signal_args self.assertEqual(sig, signal.SIGTERM) with mock.patch('swift.common.daemon.os') as mock_os: func() self.assertEqual(mock_os.method_calls, [ mock.call.getpid(), mock.call.killpg(0, signal.SIGTERM), # hard exit because bare except handlers can trap SystemExit mock.call._exit(0) with mock.patch('swift.common.daemon.os.fork') as mock_fork, \ mock.patch('swift.common.daemon.os.kill') as mock_kill: mock_fork.side_effect = ( 'mock-pid-%s' % i for i in itertools.count()) self.assertEqual([mock.call()] * 3, self.mock_fork.call_args_list) self.assertEqual(self.waitpid_calls, { 'mock-pid-0': 3, 'mock-pid-1': 3, 'mock-pid-2': 3, }) self.mock_kill.side_effect = lambda *args, **kwargs: setattr( self.assertEqual([mock.call()] * 6, self.mock_fork.call_args_list) # second pass is not healthy, original pid's killed self.assertEqual(set([ ('mock-pid-0', signal.SIGTERM), ('mock-pid-1', signal.SIGTERM), ('mock-pid-2', signal.SIGTERM), ]), set(c[0] for c in self.mock_kill.call_args_list[:3])) # our mock_kill side effect breaks out of running, and cleanup kills # remaining pids self.assertEqual(set([ ('mock-pid-3', signal.SIGTERM), ('mock-pid-4', signal.SIGTERM), ('mock-pid-5', signal.SIGTERM), ]), set(c[0] for c in self.mock_kill.call_args_list[3:])) with mock.patch('swift.common.daemon.os.kill') as mock_kill: self.assertEqual(set([ ('mock-pid-1', signal.SIGTERM), ('mock-pid-2', signal.SIGTERM), ]), set(c[0] for c in mock_kill.call_args_list)) self.assertEqual(set(d.logger.get_lines_for_level('debug')[-2:]), set(['Cleaned up worker mock-pid-1', 'Cleaned up worker mock-pid-2'])) strategy.register_worker_start('mock-pid-2', {'mock_options': True}) 'mock-pid-2': {'mock_options': True}, with mock.patch('swift.common.daemon.os.kill') as mock_kill: mock_kill.side_effect = [None, OSError(errno.ECHILD, os.strerror(errno.ECHILD))] {'mock_options': True}] * 2) self.assertEqual(set([ ('mock-pid-1', signal.SIGTERM), ('mock-pid-2', signal.SIGTERM), ]), set(c[0] for c in mock_kill.call_args_list)) self.assertEqual(set(d.logger.get_lines_for_level('debug')[-2:]), set(['Cleaned up worker mock-pid-1', 'Cleaned up worker mock-pid-2']))",170,68
openstack%2Fansible-role-container-registry~master~I94d290321213ae0e097a9ac7d472878940edbafa,openstack/ansible-role-container-registry,master,I94d290321213ae0e097a9ac7d472878940edbafa,Remove CentOS 7 based job,MERGED,2022-04-27 09:36:13.000000000,2022-05-04 06:39:55.000000000,2022-05-04 06:39:55.000000000,"[{'_account_id': 7144}, {'_account_id': 8449}, {'_account_id': 8833}, {'_account_id': 9976}, {'_account_id': 22348}, {'_account_id': 29775}, {'_account_id': 30002}]","[{'number': 1, 'created': '2022-04-27 09:36:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-container-registry/commit/d70b04ec566bed0b43053832f8741ec0949216a0', 'message': 'Remove tripleo-ci-centos-7-undercloud-containers job\n\nhttps://review.opendev.org/c/openstack/tripleo-ci/+/839149 is dropping\nthe c7 undercloud jobs as it no longer runs anywhere.\n\nThe last run https://zuul.openstack.org/builds?job_name=tripleo-ci-centos-7-undercloud-containers\nwas from 1 year ago. It is blocking the above patch.\n\nIt removes the same.\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I94d290321213ae0e097a9ac7d472878940edbafa\n'}, {'number': 2, 'created': '2022-04-29 08:02:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-container-registry/commit/7d794e059f0c201a343fbe3d38b58ca167c788d3', 'message': 'Remove tripleo-ci-centos-7-undercloud-containers job\n\nhttps://review.opendev.org/c/openstack/tripleo-ci/+/839149 is dropping\nthe c7 undercloud jobs as it no longer runs anywhere.\n\nThe last run https://zuul.openstack.org/builds?job_name=tripleo-ci-centos-7-undercloud-containers\nwas from 1 year ago.\n\nWe are removing these jobs as a part of ooo_c7_teardown[1].\n\n[1]. https://review.opendev.org/q/topic:ooo_c7_teardown\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I94d290321213ae0e097a9ac7d472878940edbafa\n'}, {'number': 3, 'created': '2022-04-29 10:13:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-container-registry/commit/9aad3b76aae12fd991f08cabe99234f5463b9095', 'message': 'Remove CentOS 7 based job\n\nhttps://review.opendev.org/q/topic:ooo_c7_teardown is dropping\nthe c7 based jobs.\n\nIt also removes job definitions.\n\nThe last run https://zuul.openstack.org/builds?job_name=tripleo-ci-centos-7-undercloud-containers\nwas from 1 year ago.\n\nWe are removing these jobs as a part of ooo_c7_teardown[1].\n\n[1]. https://review.opendev.org/q/topic:ooo_c7_teardown\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I94d290321213ae0e097a9ac7d472878940edbafa\n'}, {'number': 4, 'created': '2022-04-29 10:31:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-container-registry/commit/5356db10e62c8a4c1831d04a44f0e06b115e5df6', 'message': 'Remove CentOS 7 based job\n\nhttps://review.opendev.org/q/topic:ooo_c7_teardown is dropping\nthe c7 based jobs.\n\nIt also removes job definitions.\n\nThe last run https://zuul.openstack.org/builds?job_name=tripleo-ci-centos-7-undercloud-containers\nwas from 1 year ago.\n\nWe are removing these jobs as a part of ooo_c7_teardown[1].\n\nAdded py_modules=[] in setup.py to disable auto discovery\nand fix linters job.\n\n[1]. https://review.opendev.org/q/topic:ooo_c7_teardown\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I94d290321213ae0e097a9ac7d472878940edbafa\n'}, {'number': 5, 'created': '2022-05-02 05:44:59.000000000', 'files': ['tasks/docker.yml', 'setup.py', 'zuul.d/base.yaml', 'zuul.d/layout.yaml', 'tasks/registry-login.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-container-registry/commit/57da8455f1710ecd68214bcc2a86d1b4b9338e41', 'message': 'Remove CentOS 7 based job\n\nhttps://review.opendev.org/q/topic:ooo_c7_teardown is dropping\nthe c7 based jobs.\n\nIt also removes job definitions.\n\nThe last run https://zuul.openstack.org/builds?job_name=tripleo-ci-centos-7-undercloud-containers\nwas from 1 year ago.\n\nWe are removing these jobs as a part of ooo_c7_teardown[1].\n\nAdded py_modules=[] in setup.py to disable auto discovery\nand fix linters job.\n\nIt also fixes tox molecule issues with no-changed-when\nwarning errors.\n\n[1]. https://review.opendev.org/q/topic:ooo_c7_teardown\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I94d290321213ae0e097a9ac7d472878940edbafa\n'}]",4,839503,57da8455f1710ecd68214bcc2a86d1b4b9338e41,19,7,5,12393,,,0,"Remove CentOS 7 based job

https://review.opendev.org/q/topic:ooo_c7_teardown is dropping
the c7 based jobs.

It also removes job definitions.

The last run https://zuul.openstack.org/builds?job_name=tripleo-ci-centos-7-undercloud-containers
was from 1 year ago.

We are removing these jobs as a part of ooo_c7_teardown[1].

Added py_modules=[] in setup.py to disable auto discovery
and fix linters job.

It also fixes tox molecule issues with no-changed-when
warning errors.

[1]. https://review.opendev.org/q/topic:ooo_c7_teardown

Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
Change-Id: I94d290321213ae0e097a9ac7d472878940edbafa
",git fetch https://review.opendev.org/openstack/ansible-role-container-registry refs/changes/03/839503/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,d70b04ec566bed0b43053832f8741ec0949216a0,cs-parenting-undercloud-upgrade,, - tripleo-ci-centos-7-undercloud-containers - tripleo-ci-centos-7-undercloud-containers,0,2
openstack%2Fironic~master~I936f6c1506c585826501ff3ac0bad0c755b4d360,openstack/ironic,master,I936f6c1506c585826501ff3ac0bad0c755b4d360,Fix ironic-lib from source and branch detection in IPA builds,MERGED,2022-04-29 17:36:09.000000000,2022-05-04 06:13:22.000000000,2022-05-04 06:11:44.000000000,"[{'_account_id': 11076}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2022-04-29 17:36:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/b6d901e70c30c935376fbba136782ef9a774c398', 'message': 'Trivial: fix a typo in the devstack plugin\n\nPrevents the ironic-lib CI from testing ironic-lib changes in IPA.\n\nChange-Id: I936f6c1506c585826501ff3ac0bad0c755b4d360\n'}, {'number': 2, 'created': '2022-04-29 19:39:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/bac897b01d864e8781394e5ececb119015dc6442', 'message': 'Fix ironic-lib from source and branch detection in DIB builds\n\nPrevents the ironic-lib CI from testing ironic-lib changes in IPA.\n\nChange-Id: I936f6c1506c585826501ff3ac0bad0c755b4d360\n'}, {'number': 3, 'created': '2022-05-02 10:20:17.000000000', 'files': ['devstack/lib/ironic'], 'web_link': 'https://opendev.org/openstack/ironic/commit/b94e52f55a0c4f9d6f3a771179da4ec5ccbddbd7', 'message': 'Fix ironic-lib from source and branch detection in IPA builds\n\nPrevents the ironic-lib CI from testing ironic-lib changes in IPA.\n\nChange-Id: I936f6c1506c585826501ff3ac0bad0c755b4d360\n'}]",1,839982,b94e52f55a0c4f9d6f3a771179da4ec5ccbddbd7,21,3,3,10239,,,0,"Fix ironic-lib from source and branch detection in IPA builds

Prevents the ironic-lib CI from testing ironic-lib changes in IPA.

Change-Id: I936f6c1506c585826501ff3ac0bad0c755b4d360
",git fetch https://review.opendev.org/openstack/ironic refs/changes/82/839982/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/lib/ironic'],1,b6d901e70c30c935376fbba136782ef9a774c398,gate, if [ -e $DEST/ironic-lib ]; then, if -e $DEST/ironic-lib; then,1,1
openstack%2Fpython-tripleoclient~stable%2Fwallaby~I176bc05bf588f12c543273fa1d5e357ea819fcd3,openstack/python-tripleoclient,stable/wallaby,I176bc05bf588f12c543273fa1d5e357ea819fcd3,Update overcloud credentials to use ephemeral Heat,MERGED,2022-04-21 14:53:18.000000000,2022-05-04 05:39:22.000000000,2022-04-26 23:22:43.000000000,"[{'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-04-21 14:53:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/6169e7be51da767cd6ef5c19cf406cf82d9bf6d4', 'message': 'Update overcloud credentials to use ephemeral Heat\n\nThis command was still attempting to query Heat for the stack, which\nwould not work with ephemeral Heat.\n\nDepends-On: I28c21f923baf75fbc3be501552c10a5bb5384a09\nChange-Id: I176bc05bf588f12c543273fa1d5e357ea819fcd3\nSigned-off-by: James Slagle <jslagle@redhat.com>\n(cherry picked from commit 035827f3dbce5d841693e714434dff7a4c6178af)\n'}, {'number': 2, 'created': '2022-04-22 11:44:53.000000000', 'files': ['tripleoclient/constants.py', 'tripleoclient/workflows/deployment.py', 'tripleoclient/v1/overcloud_credentials.py', 'tripleoclient/utils.py', 'tripleoclient/tests/test_overcloud_credentials.py', 'tripleoclient/v1/overcloud_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/750d68e9927bc21e966877bfe78d118c7ebf3f17', 'message': 'Update overcloud credentials to use ephemeral Heat\n\nThis command was still attempting to query Heat for the stack, which\nwould not work with ephemeral Heat.\n\nDepends-On: I5a1900d4e50395065b6b56876ab9ee10f01fae05\nChange-Id: I176bc05bf588f12c543273fa1d5e357ea819fcd3\nSigned-off-by: James Slagle <jslagle@redhat.com>\n(cherry picked from commit 035827f3dbce5d841693e714434dff7a4c6178af)\n'}]",7,838910,750d68e9927bc21e966877bfe78d118c7ebf3f17,21,3,2,7144,,,0,"Update overcloud credentials to use ephemeral Heat

This command was still attempting to query Heat for the stack, which
would not work with ephemeral Heat.

Depends-On: I5a1900d4e50395065b6b56876ab9ee10f01fae05
Change-Id: I176bc05bf588f12c543273fa1d5e357ea819fcd3
Signed-off-by: James Slagle <jslagle@redhat.com>
(cherry picked from commit 035827f3dbce5d841693e714434dff7a4c6178af)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/10/838910/2 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/constants.py', 'tripleoclient/v1/overcloud_credentials.py', 'tripleoclient/workflows/deployment.py', 'tripleoclient/utils.py', 'tripleoclient/tests/test_overcloud_credentials.py', 'tripleoclient/v1/overcloud_deploy.py']",6,6169e7be51da767cd6ef5c19cf406cf82d9bf6d4,," overcloud_endpoint = utils.get_overcloud_endpoint(self.working_dir) keystone_admin_ip = utils.get_stack_saved_output_item( 'KeystoneAdminVip', self.working_dir) overcloud_endpoint = utils.get_overcloud_endpoint( self.working_dir) overcloud_admin_vip = utils.get_stack_saved_output_item( 'KeystoneAdminVip', self.working_dir) rc_params = utils.get_rc_params(self.working_dir) parsed_args.stack, overcloud_endpoint, overcloud_admin_vip, rc_params, parsed_args.no_proxy) parsed_args.stack, overcloud_endpoint, overcloud_admin_vip, rc_params, parsed_args.no_proxy, self.working_dir)"," overcloud_endpoint = utils.get_overcloud_endpoint(stack) keystone_admin_ip = utils.get_endpoint('KeystoneAdmin', stack) # Force fetching of attributes stack.get() overcloud_endpoint = utils.get_overcloud_endpoint(stack) horizon_url = deployment.get_horizon_url( stack=stack.stack_name, heat_type=parsed_args.heat_type, working_dir=self.working_dir) rc_params = utils.get_rc_params( self.orchestration_client, parsed_args.stack) stack, rc_params, parsed_args.no_proxy) stack, rc_params, parsed_args.no_proxy, self.working_dir)",53,48
openstack%2Fglance~master~If95fcb6beb17fd4ca337da58bc8fb03bbde25b03,openstack/glance,master,If95fcb6beb17fd4ca337da58bc8fb03bbde25b03,[api-ref] update cache manage API info,MERGED,2022-05-02 16:25:48.000000000,2022-05-04 05:26:55.000000000,2022-05-04 05:25:36.000000000,"[{'_account_id': 8122}, {'_account_id': 9303}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-02 16:25:48.000000000', 'files': ['api-ref/source/v2/samples/cache-list-response.json', 'api-ref/source/v2/cache-manage.inc', 'api-ref/source/v2/cache-manage-parameters.yaml'], 'web_link': 'https://opendev.org/openstack/glance/commit/8271cde1e2850ff1870b310801e3fa8c7fbbf998', 'message': '[api-ref] update cache manage API info\n\nChange-Id: If95fcb6beb17fd4ca337da58bc8fb03bbde25b03\nCloses-bug: #1971176\n'}]",0,840215,8271cde1e2850ff1870b310801e3fa8c7fbbf998,8,3,1,5314,,,0,"[api-ref] update cache manage API info

Change-Id: If95fcb6beb17fd4ca337da58bc8fb03bbde25b03
Closes-bug: #1971176
",git fetch https://review.opendev.org/openstack/glance refs/changes/15/840215/1 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/source/v2/samples/cache-list-response.json', 'api-ref/source/v2/cache-manage-parameters.yaml', 'api-ref/source/v2/cache-manage.inc']",3,8271cde1e2850ff1870b310801e3fa8c7fbbf998,bug/1971176,.. rest_method:: GET /v2/cacheResponse Parameters ------------------- .. rest_parameters:: cache-manage-parameters.yaml - cached_images: cached_images - queued_images: queued_images Response Example ---------------- .. literalinclude:: samples/cache-list-response.json :language: json .. rest_method:: PUT /v2/cache/{image_id}.. rest_parameters:: images-parameters.yaml .. rest_method:: DELETE /v2/cache/{image_id}.. rest_parameters:: images-parameters.yaml .. rest_method:: DELETE /v2/cache,.. rest_method:: GET /v2/cache/.. rest_method:: PUT /v2/cache/{image_id}/.. rest_method:: DELETE /v2/cache/{image_id}/.. rest_method:: DELETE /v2/cache/,62,4
openstack%2Fcinder~master~I98fd7f76e5d3d096970d6c5f1652e9ee2abeebd6,openstack/cinder,master,I98fd7f76e5d3d096970d6c5f1652e9ee2abeebd6,Run pylint tox env on all files by default,MERGED,2022-04-27 16:46:32.000000000,2022-05-04 05:12:47.000000000,2022-04-29 16:51:33.000000000,"[{'_account_id': 5314}, {'_account_id': 20813}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-27 16:46:32.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/cinder/commit/91085df702455e9a9629a4fc7c70c3ad8e6722d8', 'message': 'Run pylint tox env on all files by default\n\nThe pylint tox env and job currently only run\non the files changed in HEAD.  This is confusing,\nbecause changes regularly merge which introduce new\npylint errors, which will not show up in a pylint\nrun until another patch touches that file.\n\nInstead, just run pylint on all of Cinder to get\nconsistent output.\n\nDepends-On: Icb4c0b5cbba02c42e9e2ee381dc9152f1c1de22c\nDepends-On: I3e17c6a2a7f252a9d324a1fea616e22869e55702\nChange-Id: I98fd7f76e5d3d096970d6c5f1652e9ee2abeebd6\n'}]",2,839600,91085df702455e9a9629a4fc7c70c3ad8e6722d8,29,3,1,4523,,,0,"Run pylint tox env on all files by default

The pylint tox env and job currently only run
on the files changed in HEAD.  This is confusing,
because changes regularly merge which introduce new
pylint errors, which will not show up in a pylint
run until another patch touches that file.

Instead, just run pylint on all of Cinder to get
consistent output.

Depends-On: Icb4c0b5cbba02c42e9e2ee381dc9152f1c1de22c
Depends-On: I3e17c6a2a7f252a9d324a1fea616e22869e55702
Change-Id: I98fd7f76e5d3d096970d6c5f1652e9ee2abeebd6
",git fetch https://review.opendev.org/openstack/cinder refs/changes/00/839600/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,91085df702455e9a9629a4fc7c70c3ad8e6722d8,, {toxinidir}/tools/coding-checks.sh --pylint {posargs:all}, {toxinidir}/tools/coding-checks.sh --pylint {posargs},1,1
openstack%2Fpython-tripleoclient~master~Idbb2d9270c83ac0e97e0bdb1ea6e2992671f94aa,openstack/python-tripleoclient,master,Idbb2d9270c83ac0e97e0bdb1ea6e2992671f94aa,cephadm support for 'openstack overcloud export ceph',MERGED,2022-03-28 19:56:50.000000000,2022-05-04 04:50:26.000000000,2022-05-04 04:49:18.000000000,"[{'_account_id': 6796}, {'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 25402}]","[{'number': 1, 'created': '2022-03-28 19:56:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/19246961a5bde33f7bf8d69b95097683b9eafb7d', 'message': ""cephadm support for 'openstack overcloud export ceph'\n\nWithout this patch 'openstack overcloud export ceph' can\nonly export information from a ceph-ansible deployment as\nfound in the config-download directory.\n\nThis patch results in the export ceph command looking in\nthe config-download directory for a ceph-ansible or\ncephadm directory and based on what it finds it generates\nthe a Heat environment with the CephExternalMultiConfig\nparameter populated.\n\nCloses-Bug: #1966772\nChange-Id: Idbb2d9270c83ac0e97e0bdb1ea6e2992671f94aa\n""}, {'number': 2, 'created': '2022-03-28 20:59:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/bd9bd62d326122f37f4585ff3981e980e5028eec', 'message': ""cephadm support for 'openstack overcloud export ceph'\n\nWithout this patch 'openstack overcloud export ceph' can\nonly export information from a ceph-ansible deployment as\nfound in the config-download directory.\n\nThis patch results in the export ceph command looking in\nthe config-download directory for a ceph-ansible or\ncephadm directory and based on what it finds it generates\nthe a Heat environment with the CephExternalMultiConfig\nparameter populated.\n\nCloses-Bug: #1966772\nChange-Id: Idbb2d9270c83ac0e97e0bdb1ea6e2992671f94aa\n""}, {'number': 3, 'created': '2022-03-29 18:29:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/ca7b465565c2e04e885fd864bcc2dcfe5e32d3a2', 'message': ""cephadm support for 'openstack overcloud export ceph'\n\nWithout this patch 'openstack overcloud export ceph' can\nonly export information from a ceph-ansible deployment as\nfound in the config-download directory.\n\nThis patch results in the export ceph command looking in\nthe config-download directory for a ceph-ansible or\ncephadm directory and based on what it finds it generates\nthe a Heat environment with the CephExternalMultiConfig\nparameter populated.\n\nCloses-Bug: #1966772\nChange-Id: Idbb2d9270c83ac0e97e0bdb1ea6e2992671f94aa\n""}, {'number': 4, 'created': '2022-03-31 20:59:21.000000000', 'files': ['tripleoclient/tests/test_export.py', 'tripleoclient/export.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/1952f5a6ee2001b93ecf26c765c4ffaac4e5ca4d', 'message': ""cephadm support for 'openstack overcloud export ceph'\n\nWithout this patch 'openstack overcloud export ceph' can\nonly export information from a ceph-ansible deployment as\nfound in the config-download directory.\n\nThis patch results in the export ceph command looking in\nthe config-download directory for a ceph-ansible or\ncephadm directory and based on what it finds it generates\nthe a Heat environment with the CephExternalMultiConfig\nparameter populated.\n\nCloses-Bug: #1966772\nDepends-On: I9f854377fcd0dfa570d0dc30e34d40826de8656d\nChange-Id: Idbb2d9270c83ac0e97e0bdb1ea6e2992671f94aa\n""}]",6,835511,1952f5a6ee2001b93ecf26c765c4ffaac4e5ca4d,26,4,4,18002,,,0,"cephadm support for 'openstack overcloud export ceph'

Without this patch 'openstack overcloud export ceph' can
only export information from a ceph-ansible deployment as
found in the config-download directory.

This patch results in the export ceph command looking in
the config-download directory for a ceph-ansible or
cephadm directory and based on what it finds it generates
the a Heat environment with the CephExternalMultiConfig
parameter populated.

Closes-Bug: #1966772
Depends-On: I9f854377fcd0dfa570d0dc30e34d40826de8656d
Change-Id: Idbb2d9270c83ac0e97e0bdb1ea6e2992671f94aa
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/11/835511/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/export.py'],1,19246961a5bde33f7bf8d69b95097683b9eafb7d,bug/1966772," config_download_files = os.listdir(os.path.join(config_download_dir, stack)) if 'ceph-ansilbe' in config_download_files: if len(mon_ips) == 0: mon_ips = export_storage_ips(stack, config_download_dir) external_cluster_mon_ips = str(','.join(mon_ips)) # Use ceph-ansible group_vars/all.yml to get remaining values ceph_ansible_all = ""ceph-ansible/group_vars/all.yml"" file = os.path.join(config_download_dir, stack, ceph_ansible_all) with open(file, 'r') as ff: try: ceph_data = yaml.safe_load(ff) except yaml.MarkedYAMLError as e: LOG.error( _('Could not read file %s') % file) LOG.error(e) cluster = ceph_data['cluster'] fsid = ceph_data['fsid'] if 'cephadm' in config_download_files: ceph_client = ""cephadm/ceph_client.yml"" file = os.path.join(config_download_dir, stack, ceph_client) with open(file, 'r') as ff: try: ceph_data = yaml.safe_load(ff) except yaml.MarkedYAMLError as e: LOG.error( _('Could not read file %s') % file) LOG.error(e) external_cluster_mon_ips = ceph_data['external_cluster_mon_ips'] cluster = ceph_data['tripleo_ceph_client_cluster'] fsid = ceph_data['tripleo_ceph_client_fsid'] # set cephx_keys # set ceph_conf_overrides + cluster \ data['external_cluster_mon_ips'] = external_cluster_mon_ips data['cluster'] = cluster data['fsid'] = fsid"," if len(mon_ips) == 0: mon_ips = export_storage_ips(stack, config_download_dir) # Use ceph-ansible group_vars/all.yml to get remaining values ceph_ansible_all = ""ceph-ansible/group_vars/all.yml"" file = os.path.join(config_download_dir, stack, ceph_ansible_all) with open(file, 'r') as ff: try: ceph_data = yaml.safe_load(ff) except yaml.MarkedYAMLError as e: LOG.error( _('Could not read file %s') % file) LOG.error(e) + ceph_data['cluster'] \ data['external_cluster_mon_ips'] = str(','.join(mon_ips)) data['cluster'] = ceph_data['cluster'] data['fsid'] = ceph_data['fsid']",37,17
openstack%2Ftripleo-ansible~stable%2Fwallaby~Ifaad8b5d6d243be1d2fa04ee028435e19b29098f,openstack/tripleo-ansible,stable/wallaby,Ifaad8b5d6d243be1d2fa04ee028435e19b29098f,Define role specific defaults for growvols_args,MERGED,2022-04-25 12:24:37.000000000,2022-05-04 04:49:16.000000000,2022-05-04 04:49:16.000000000,"[{'_account_id': 7144}, {'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2022-04-25 12:24:37.000000000', 'files': ['tripleo_ansible/playbooks/cli-overcloud-node-growvols.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/d4b92abb3a78ac6fd812ca24a343c696ea1c04a6', 'message': 'Define role specific defaults for growvols_args\n\nThe Controller role will sometimes include swift object storage, and\nthe ObjectStorage role always will. This means unless the /srv volume\nis grown it will be too small for swift to store any useful amount of\ndata.\n\nThe node provision tool has no knowledge of the specific services\ndeployed in a role, so it can only set growvols_args default based on\nthe role name. This change makes the default growvols_args role-aware\nso that Controller and ObjectStorage roles grow /srv by enough to be\nuseful.\n\nThe documentation will encourage the deployer to consider actual /var\nand /srv storage requirements (especially for the Controller role) and\nsetting custom growvols_args to reflect that.\n\nIt is impossible to choose defaults which meet all scenarios because\nthere are 3 unknowns (workload requirements for /var and /srv, and the\nsize of the node primary disk) so some discusson of Controller\nrequirements especially is encouraged.\n\nIf /srv or /var are deployed with insufficient space the deployer can\nalways add a second disk and expand the LVM volume into that, so there\nis a mitigation option.\n\nChange-Id: Ifaad8b5d6d243be1d2fa04ee028435e19b29098f\nCloses: rhbz#2066367\n(cherry picked from commit 7d840f551062f63f1241a1da992137aaeb5f842a)\n'}]",1,839181,d4b92abb3a78ac6fd812ca24a343c696ea1c04a6,11,5,1,6968,,,0,"Define role specific defaults for growvols_args

The Controller role will sometimes include swift object storage, and
the ObjectStorage role always will. This means unless the /srv volume
is grown it will be too small for swift to store any useful amount of
data.

The node provision tool has no knowledge of the specific services
deployed in a role, so it can only set growvols_args default based on
the role name. This change makes the default growvols_args role-aware
so that Controller and ObjectStorage roles grow /srv by enough to be
useful.

The documentation will encourage the deployer to consider actual /var
and /srv storage requirements (especially for the Controller role) and
setting custom growvols_args to reflect that.

It is impossible to choose defaults which meet all scenarios because
there are 3 unknowns (workload requirements for /var and /srv, and the
size of the node primary disk) so some discusson of Controller
requirements especially is encouraged.

If /srv or /var are deployed with insufficient space the deployer can
always add a second disk and expand the LVM volume into that, so there
is a mitigation option.

Change-Id: Ifaad8b5d6d243be1d2fa04ee028435e19b29098f
Closes: rhbz#2066367
(cherry picked from commit 7d840f551062f63f1241a1da992137aaeb5f842a)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/81/839181/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/playbooks/cli-overcloud-node-growvols.yaml'],1,d4b92abb3a78ac6fd812ca24a343c696ea1c04a6,role_growvols-stable/wallaby," role_growvols_args: default: /=8GB /tmp=1GB /var/log=10GB /var/log/audit=2GB /home=1GB /var=100% Controller: /=8GB /tmp=1GB /var/log=10GB /var/log/audit=2GB /home=1GB /var=90% /srv=10% ObjectStorage: /=8GB /tmp=1GB /var/log=10GB /var/log/audit=2GB /home=1GB /var=10% /srv=90% - name: Set growvols_args set_fact: growvols_args: ""{{ role_growvols_args[tripleo_role_name] | default(role_growvols_args['default']) }}"" when: growvols_args is not defined - name: Output growvols_args debug: var: growvols_args ", growvols_args: > /=8GB /tmp=1GB /var/log=10GB /var/log/audit=2GB /home=1GB /var=100%,34,7
openstack%2Fheat~master~I96cfe20b9ac9784740665cba9fb7e7ede89d9281,openstack/heat,master,I96cfe20b9ac9784740665cba9fb7e7ede89d9281,Fix FloatingIP dependencies,ABANDONED,2017-01-23 09:53:03.000000000,2022-05-04 03:31:08.000000000,,"[{'_account_id': 4257}, {'_account_id': 8833}]","[{'number': 1, 'created': '2017-01-23 09:53:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/5f65038e889fb5c78b06af16e98ccdface7da411', 'message': 'Fix FloatingIP dependencies\n\nOnly use subnets in stack for adding RouterInterface\ndependencies.\n\nChange-Id: I96cfe20b9ac9784740665cba9fb7e7ede89d9281\nCloses-Bug: #1626634\n'}, {'number': 2, 'created': '2017-01-24 02:53:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/6321d7a022a9e77172eedc8ab2575ca3970f2469', 'message': 'Fix FloatingIP dependencies\n\nOnly use subnets in template for adding RouterInterface\ndependencies.\n\nChange-Id: I96cfe20b9ac9784740665cba9fb7e7ede89d9281\nCloses-Bug: #1626634\n'}, {'number': 3, 'created': '2017-01-31 02:41:12.000000000', 'files': ['heat/engine/resources/openstack/neutron/floatingip.py', 'heat/tests/openstack/neutron/test_neutron_floating_ip.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/b6be3d6d5aa601d75ef56d7959ac9c0ab85aa2b3', 'message': ""Fix FloatingIP dependencies\n\nWhile calculating dependencies, at present we compare\nan empty values of specific type with another for\nunresolved referencesare for properties like 'subnet'.\nAt the moment, this may result in redundant dependencies.\nHowrever, this would be completely fixed when we return\nplace holder values for resource references that are not\ncreated yet and the comparisons are more meaningful.\n\nChange-Id: I96cfe20b9ac9784740665cba9fb7e7ede89d9281\nCloses-Bug: #1442121\n""}]",12,424033,b6be3d6d5aa601d75ef56d7959ac9c0ab85aa2b3,20,2,3,8833,,,0,"Fix FloatingIP dependencies

While calculating dependencies, at present we compare
an empty values of specific type with another for
unresolved referencesare for properties like 'subnet'.
At the moment, this may result in redundant dependencies.
Howrever, this would be completely fixed when we return
place holder values for resource references that are not
created yet and the comparisons are more meaningful.

Change-Id: I96cfe20b9ac9784740665cba9fb7e7ede89d9281
Closes-Bug: #1442121
",git fetch https://review.opendev.org/openstack/heat refs/changes/33/424033/2 && git format-patch -1 --stdout FETCH_HEAD,"['heat/engine/resources/openstack/neutron/floatingip.py', 'heat/tests/openstack/neutron/test_neutron_floating_ip.py']",2,5f65038e889fb5c78b06af16e98ccdface7da411,bug/1442121,," p_show = self.patchobject(neutronclient.Client, 'show_network') p_show.return_value = {'network': {'subnets': ['subnet_uuid']}} p_show.assert_called_once_with('net_uuid')",48,49
openstack%2Fheat~master~I4c39e966b610ca46b0a1b0069959033f0d20048b,openstack/heat,master,I4c39e966b610ca46b0a1b0069959033f0d20048b,Translate IMAGE property of OS::Cinder::Volume,ABANDONED,2019-06-06 10:24:33.000000000,2022-05-04 03:30:52.000000000,,"[{'_account_id': 4257}, {'_account_id': 8833}, {'_account_id': 12404}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-06 10:24:33.000000000', 'files': ['heat/engine/resources/openstack/cinder/volume.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/8d7f71d0ef4b09d7d63b29622dfa8ad993a7bbf9', 'message': 'Translate IMAGE property of OS::Cinder::Volume\n\nVolume should be replaced, when image is replaced to have\na different id, but uses the same name.\n\nChange-Id: I4c39e966b610ca46b0a1b0069959033f0d20048b\nTask: 33593\n'}]",0,663588,8d7f71d0ef4b09d7d63b29622dfa8ad993a7bbf9,8,4,1,8833,,,0,"Translate IMAGE property of OS::Cinder::Volume

Volume should be replaced, when image is replaced to have
a different id, but uses the same name.

Change-Id: I4c39e966b610ca46b0a1b0069959033f0d20048b
Task: 33593
",git fetch https://review.opendev.org/openstack/heat refs/changes/88/663588/1 && git format-patch -1 --stdout FETCH_HEAD,['heat/engine/resources/openstack/cinder/volume.py'],1,8d7f71d0ef4b09d7d63b29622dfa8ad993a7bbf9,," value_path=[self.IMAGE_REF]), translation.TranslationRule( props, translation.TranslationRule.RESOLVE, translation_path=[self.IMAGE], client_plugin=self.client_plugin('glance'), finder='find_image_by_name_or_id'), arguments['imageRef'] = self.properties[self.IMAGE]", value_path=[self.IMAGE_REF] ) arguments['imageRef'] = self.client_plugin( 'glance').find_image_by_name_or_id( self.properties[self.IMAGE]) elif self.properties[self.IMAGE_REF]: arguments['imageRef'] = self.properties[self.IMAGE_REF],8,7
openstack%2Fheat-tempest-plugin~master~I5d544ee1d56732d4669e80fddace1b02d3ab7e0e,openstack/heat-tempest-plugin,master,I5d544ee1d56732d4669e80fddace1b02d3ab7e0e,WIP Add tests for server replacement when using internal port,ABANDONED,2018-04-27 06:05:15.000000000,2022-05-04 03:30:33.000000000,,"[{'_account_id': 4257}, {'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-27 06:05:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-tempest-plugin/commit/f30d23d8d483c4433fb0ed4e09b5bde9f8aa342e', 'message': 'WIP Add tests for server replacement when using internal port\n\nChange-Id: I5d544ee1d56732d4669e80fddace1b02d3ab7e0e\n'}, {'number': 2, 'created': '2018-04-27 08:29:11.000000000', 'files': ['heat_tempest_plugin/tests/functional/test_nova_server_networks.py'], 'web_link': 'https://opendev.org/openstack/heat-tempest-plugin/commit/bdd58b52ea28b4514cd9104aec395e1740776622', 'message': 'WIP Add tests for server replacement when using internal port\n\nChange-Id: I5d544ee1d56732d4669e80fddace1b02d3ab7e0e\nDepends-On: https://review.openstack.org/564104\n'}]",2,564681,bdd58b52ea28b4514cd9104aec395e1740776622,9,3,2,8833,,,0,"WIP Add tests for server replacement when using internal port

Change-Id: I5d544ee1d56732d4669e80fddace1b02d3ab7e0e
Depends-On: https://review.openstack.org/564104
",git fetch https://review.opendev.org/openstack/heat-tempest-plugin refs/changes/81/564681/1 && git format-patch -1 --stdout FETCH_HEAD,['heat_tempest_plugin/tests/functional/test_nova_server_networks.py'],1,f30d23d8d483c4433fb0ed4e09b5bde9f8aa342e,server_replace," flavor_update_policy: REPLACE def test_create_update_server_replace_internal_port(self): parms = {'flavor': self.conf.minimal_instance_type, 'image': self.conf.minimal_image_ref} stack_identifier = self.stack_create( template=server_with_sub_fixed_ip_template, stack_name='server_with_internal_port', parameters=parms) update_params = {'flavor': self.conf.instance_type} self.update_stack(stack_identifier, parameters=update_params, existing=True) networks = self.get_outputs(stack_identifier, 'networks') self.assertEqual(['11.11.11.11'], networks['my_net']) def test_create_update_server_replace_cancel_with_internal_port(self): parms = {'flavor': self.conf.minimal_instance_type, 'image': self.conf.minimal_image_ref} stack_identifier = self.stack_create( template=server_with_sub_fixed_ip_template, stack_name='server_with_internal_port1', parameters=parms) update_params = {'flavor': self.conf.instance_type} self.update_stack(stack_identifier, parameters=update_params, expected_status='UPDATE_IN_PROGRESS', existing=True) self._wait_for_resource_status(stack_identifier, 'server', 'CREATE_IN_PROGRESS') self.cancel_update_stack(stack_identifier) networks = self.get_outputs(stack_identifier, 'networks') self.assertEqual(['11.11.11.11'], networks['my_net'])",,34,0
openstack%2Fskyline-apiserver~master~I117f8c51eee9d007399b1e2342952654dbe92db6,openstack/skyline-apiserver,master,I117f8c51eee9d007399b1e2342952654dbe92db6,doc: add sqlite connection string example,MERGED,2022-05-03 15:48:34.000000000,2022-05-04 03:30:22.000000000,2022-05-04 03:30:22.000000000,"[{'_account_id': 6282}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-03 15:48:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-apiserver/commit/9f4663e5d145ab3f5d6d1cce0ba82f5100f860aa', 'message': 'add sqlite connection string in skyline.yaml.sample\n\nChange-Id: I117f8c51eee9d007399b1e2342952654dbe92db6\n'}, {'number': 2, 'created': '2022-05-03 15:52:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-apiserver/commit/d814875e6af8e5cca12b328076adc49db3edf5f8', 'message': 'doc: add sqlite connection string in sample\n\nadd sqlite connection string in skyline.yaml.sample\n\nChange-Id: I117f8c51eee9d007399b1e2342952654dbe92db6\n'}, {'number': 3, 'created': '2022-05-04 00:30:07.000000000', 'files': ['etc/skyline.yaml.sample'], 'web_link': 'https://opendev.org/openstack/skyline-apiserver/commit/a7272af0c8d820f8c5dd141198ecaa57686bffe3', 'message': 'doc: add sqlite connection string example\n\nadd sqlite connection string in skyline.yaml.sample\n\nChange-Id: I117f8c51eee9d007399b1e2342952654dbe92db6\n'}]",0,840327,a7272af0c8d820f8c5dd141198ecaa57686bffe3,9,2,3,6282,,,0,"doc: add sqlite connection string example

add sqlite connection string in skyline.yaml.sample

Change-Id: I117f8c51eee9d007399b1e2342952654dbe92db6
",git fetch https://review.opendev.org/openstack/skyline-apiserver refs/changes/27/840327/3 && git format-patch -1 --stdout FETCH_HEAD,['etc/skyline.yaml.sample'],1,9f4663e5d145ab3f5d6d1cce0ba82f5100f860aa,, # database_url: sqlite:////tmp/skyline.db,,1,0
openstack%2Fmanila~master~Ia472874f0ec5a736ce118712fed0564b7125b20c,openstack/manila,master,Ia472874f0ec5a736ce118712fed0564b7125b20c,Implement share backup,ABANDONED,2022-04-30 17:55:00.000000000,2022-05-04 03:27:28.000000000,,"[{'_account_id': 16643}, {'_account_id': 18816}, {'_account_id': 20104}, {'_account_id': 22348}, {'_account_id': 30407}, {'_account_id': 32919}, {'_account_id': 33038}]","[{'number': 1, 'created': '2022-04-30 17:55:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/0a0a4725c95be7a6af368daacf7d70c225d8625e', 'message': 'Implement share backup\n\nAdd share backup feature in Data Copy Service and\nShare Service. It will allow the user to create, restore\nand delete backups as well as listing backups and showing\nthe details of a specific backup.\n\nAPIImpact\nDOCImpact\n\nImplement: blueprint share-backup\nChange-Id: Ia472874f0ec5a736ce118712fed0564b7125b20c\n'}, {'number': 2, 'created': '2022-05-01 08:11:25.000000000', 'files': ['manila/api/v2/share_backups.py', 'manila/data/manager.py', 'manila/api/views/share_backups.py', 'manila/tests/api/v2/test_quota_sets.py', 'manila/tests/test_quota.py', 'manila/data/helper.py', 'manila/api/openstack/api_version_request.py', 'manila/api/views/quota_class_sets.py', 'manila/api/openstack/rest_api_version_history.rst', 'manila/data/drivers/__init__.py', 'manila/tests/api/v2/test_quota_class_sets.py', 'manila/tests/api/v2/test_share_backups.py', 'manila/share/rpcapi.py', 'manila/tests/api/views/test_quota_sets.py', 'manila/data/rpcapi.py', 'manila/tests/data/test_rpcapi.py', 'manila/tests/db/sqlalchemy/test_api.py', 'manila/db/sqlalchemy/api.py', 'manila/share/manager.py', 'manila/tests/api/views/test_quota_class_sets.py', 'manila/common/constants.py', 'manila/tests/data/test_helper.py', 'manila/api/views/limits.py', 'manila/api/v2/quota_sets.py', 'manila/api/v2/router.py', 'manila/db/sqlalchemy/models.py', 'releasenotes/notes/share-backup-d5f68ba6f9aef776.yaml', 'manila/policies/share_backup.py', 'manila/share/driver.py', 'manila/data/drivers/nfs.py', 'manila/tests/fake_share.py', 'manila/tests/data/test_manager.py', 'manila/db/api.py', 'manila/tests/db_utils.py', 'manila/api/views/quota_sets.py', 'manila/share/api.py', 'manila/data/backup_driver.py', 'manila/db/migrations/alembic/versions/9afbe2df4945_add_backup.py', 'manila/quota.py', 'manila/exception.py', 'manila/policies/__init__.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/f14ea0c5aa1c8835df81d1b114336273ec61287e', 'message': 'Implement share backup\n\nAdd share backup feature in Data Copy Service and\nShare Service. It will allow the user to create, restore\nand delete backups as well as listing backups and showing\nthe details of a specific backup.\n\nAPIImpact\nDOCImpact\n\nImplement: blueprint share-backup\nChange-Id: Ia472874f0ec5a736ce118712fed0564b7125b20c\n'}]",2,840031,f14ea0c5aa1c8835df81d1b114336273ec61287e,13,7,2,34181,,,0,"Implement share backup

Add share backup feature in Data Copy Service and
Share Service. It will allow the user to create, restore
and delete backups as well as listing backups and showing
the details of a specific backup.

APIImpact
DOCImpact

Implement: blueprint share-backup
Change-Id: Ia472874f0ec5a736ce118712fed0564b7125b20c
",git fetch https://review.opendev.org/openstack/manila refs/changes/31/840031/2 && git format-patch -1 --stdout FETCH_HEAD,"['manila/api/v2/share_backups.py', 'manila/data/manager.py', 'manila/api/views/share_backups.py', 'manila/tests/api/v2/test_quota_sets.py', 'manila/tests/test_quota.py', 'manila/data/helper.py', 'manila/api/openstack/api_version_request.py', 'manila/api/views/quota_class_sets.py', 'manila/api/openstack/rest_api_version_history.rst', 'manila/tests/api/v2/test_quota_class_sets.py', 'manila/tests/api/v2/test_share_backups.py', 'manila/share/rpcapi.py', 'manila/tests/api/views/test_quota_sets.py', 'manila/data/rpcapi.py', 'manila/tests/data/test_rpcapi.py', 'manila/tests/db/sqlalchemy/test_api.py', 'manila/db/sqlalchemy/api.py', 'manila/share/manager.py', 'manila/tests/api/views/test_quota_class_sets.py', 'manila/common/constants.py', 'manila/tests/data/test_helper.py', 'manila/api/views/limits.py', 'manila/api/v2/quota_sets.py', 'manila/api/v2/router.py', 'manila/db/sqlalchemy/models.py', 'releasenotes/notes/share-backup-d5f68ba6f9aef776.yaml', 'manila/share/driver.py', 'manila/data/drivers/nfs.py', 'manila/tests/fake_share.py', 'manila/tests/data/test_manager.py', 'manila/db/api.py', 'manila/tests/db_utils.py', 'manila/api/views/quota_sets.py', 'manila/share/api.py', 'manila/data/backup_driver.py', 'manila/db/migrations/alembic/versions/9afbe2df4945_add_backup.py', 'manila/quota.py', 'manila/exception.py']",38,0a0a4725c95be7a6af368daacf7d70c225d8625e,bp/share-backup," # Backup class BackupException(ManilaException): message = _(""Unable to perform a backup action: %(reason)s."") class InvalidBackup(Invalid): message = _(""Invalid backup: %(reason)s."") class BackupLimitExceeded(QuotaError): message = _(""Maximum number of backups allowed (%(allowed)d) exceeded."") class ShareBackupNotFound(NotFound): message = _(""Backup %(backup_id)s could not be found."") class ShareBackupSizeExceedsAvailableQuota(QuotaError): message = _(""Requested backup exceeds allowed Backup gigabytes "" ""quota. Requested %(requested)sG, quota is %(quota)sG and "" ""%(consumed)sG has been consumed."")",,2352,174
openstack%2Fcinder~master~I27da8b3b2e64988ee6206a028ceccaad12913ab7,openstack/cinder,master,I27da8b3b2e64988ee6206a028ceccaad12913ab7,WIP: Store affinity/anti-affinity for migration,NEW,2022-04-26 14:16:33.000000000,2022-05-04 03:25:28.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-04-26 14:16:33.000000000', 'files': ['cinder/volume/api.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/9da453dbffd40c96f1621d562ad67015a1a3a956', 'message': 'WIP: Store affinity/anti-affinity for migration\n\nThis patch saves the scheduler hint for same_host and different_host\nat volume creation time to the volume metadata, so it can be used later.\nThe volume migrate call looks for these stored scheduler hints in the\nvolume metadata and adds them to the filter_properties for the scheduler\nto see during volume migration.\n\nThis effectively allows the scheduler to honor the original affinity\nand anti-affinity settings that were placed on the volume at create\ntime.\n\nChange-Id: I27da8b3b2e64988ee6206a028ceccaad12913ab7\n'}]",0,839391,9da453dbffd40c96f1621d562ad67015a1a3a956,19,1,1,5997,,,0,"WIP: Store affinity/anti-affinity for migration

This patch saves the scheduler hint for same_host and different_host
at volume creation time to the volume metadata, so it can be used later.
The volume migrate call looks for these stored scheduler hints in the
volume metadata and adds them to the filter_properties for the scheduler
to see during volume migration.

This effectively allows the scheduler to honor the original affinity
and anti-affinity settings that were placed on the volume at create
time.

Change-Id: I27da8b3b2e64988ee6206a028ceccaad12913ab7
",git fetch https://review.opendev.org/openstack/cinder refs/changes/91/839391/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/api.py'],1,9da453dbffd40c96f1621d562ad67015a1a3a956,store_affinity," # store the scheduler hints into the volume metadata if not metadata: metadata = {} if scheduler_hints: if 'same_host' in scheduler_hints: hint = ','.join(scheduler_hints[""same_host""]) metadata[""scheduler_hint_same_host""] = hint if ""different_host"" in scheduler_hints: hint = ','.join(scheduler_hints[""different_host""]) metadata[""scheduler_hint_different_host""] = hint # Check if there is an affinity/anti-affinity against the volume filter_props = {} if ""scheduler_hint_same_host"" in volume.metadata: LOG.debug(""Found a scheduler_hint_same_host in volume %s"", volume.metadata[""scheduler_hint_same_host""]) hint = volume.metadata[""scheduler_hint_same_host""] filter_props[""same_host""] = hint.split(',') if ""scheduler_hint_different_host"" in volume.metadata: LOG.debug(""Found a scheduler_hint_different_host in volume %s"", volume.metadata[""scheduler_hint_different_host""]) hint = volume.metadata[""scheduler_hint_different_host""] filter_props[""different_host""] = hint.split(',') request_spec, filter_properties=filter_props)", request_spec),27,1
openstack%2Ftripleo-ansible~master~I17ea13116a2ed1761e118eba39a6d77ed58e7c67,openstack/tripleo-ansible,master,I17ea13116a2ed1761e118eba39a6d77ed58e7c67,Remove redundant usage of tripleo::packages,MERGED,2022-04-22 01:09:10.000000000,2022-05-04 02:39:51.000000000,2022-05-04 02:36:50.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 12398}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-04-22 01:09:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/e6f77148bca83078a5b40bfdcc19a4618c0024c5', 'message': 'Remove redundant usage of tripleo::packages\n\nThe tripleo::packages class provides the following two functionalities.\n 1. Enable package installation\n 2. Enable package update\n\nHowever packages inside containers should NOT be managed and these are\njust invalid functionality. Also package resource are always disabled\nby the noop_resource function in container_puppet_apply.sh[1] so these\nhave had no effect actually.\n\n[1] https://review.opendev.org/632574\nChange-Id: Iabc459bfb4a84e9f9137347e63776a0e982f5783\n\nChange-Id: I17ea13116a2ed1761e118eba39a6d77ed58e7c67\n'}, {'number': 2, 'created': '2022-04-22 02:26:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/0d395b0856cdfb09abccb570617c26a64e336500', 'message': 'Remove redundant usage of tripleo::packages\n\nThe tripleo::packages class provides the following two functionalities.\n 1. Enable package installation\n 2. Enable package update\n\nHowever packages inside containers should NOT be managed and these are\njust invalid functionality. Also package resource are always disabled\nby the noop_resource function in container_puppet_apply.sh[1] so these\nhave had no effect actually.\n\n[1] https://review.opendev.org/632574\nChange-Id: Iabc459bfb4a84e9f9137347e63776a0e982f5783\n\nChange-Id: I17ea13116a2ed1761e118eba39a6d77ed58e7c67\n'}, {'number': 3, 'created': '2022-04-22 14:23:45.000000000', 'files': ['tripleo_ansible/ansible_plugins/modules/container_puppet_config.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/be133cd4b2a5d8ca379abbb8fd0525fadb27fc29', 'message': 'Remove redundant usage of tripleo::packages\n\nThis has been used to disable package management in container-puppet\nscript but now we globally use noop_resource for the same.\n\nDepends-on: https://review.opendev.org/838964\nChange-Id: I17ea13116a2ed1761e118eba39a6d77ed58e7c67\n'}]",2,838966,be133cd4b2a5d8ca379abbb8fd0525fadb27fc29,16,5,3,9816,,,0,"Remove redundant usage of tripleo::packages

This has been used to disable package management in container-puppet
script but now we globally use noop_resource for the same.

Depends-on: https://review.opendev.org/838964
Change-Id: I17ea13116a2ed1761e118eba39a6d77ed58e7c67
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/66/838966/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/ansible_plugins/modules/container_puppet_config.py'],1,e6f77148bca83078a5b40bfdcc19a4618c0024c5,puppet-tripleo-packages,, step_config = 'include ::tripleo::packages\n' + v,0,1
openstack%2Fpython-tripleoclient~stable%2Fwallaby~Id5b5e257679ce7fca26e1ebf272988eaab2d4d53,openstack/python-tripleoclient,stable/wallaby,Id5b5e257679ce7fca26e1ebf272988eaab2d4d53,Fix node delete for unprovision confirmation,MERGED,2022-04-27 09:09:30.000000000,2022-05-04 01:55:29.000000000,2022-05-04 01:54:18.000000000,"[{'_account_id': 7144}, {'_account_id': 11090}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-04-27 09:09:30.000000000', 'files': ['tripleoclient/tests/v1/overcloud_node/test_overcloud_node.py', 'tripleoclient/v1/overcloud_node.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/d52e95cfbeee6b9aa89126a63924f3fcc89b3106', 'message': 'Fix node delete for unprovision confirmation\n\nWe changed the unprovision confirmation file structure to\ninclude pre-provisioned nodes[1].  This fixes node delete\nfor that.\n\n[1] Id377b2c7ed973a7e2365b33dba2c1d59a59e26b9\n\nChange-Id: Id5b5e257679ce7fca26e1ebf272988eaab2d4d53\n(cherry picked from commit de26c288d2b5e42fb127bcc4a9a1d6f3bcfa9b0c)\n'}]",0,839347,d52e95cfbeee6b9aa89126a63924f3fcc89b3106,9,4,1,8833,,,0,"Fix node delete for unprovision confirmation

We changed the unprovision confirmation file structure to
include pre-provisioned nodes[1].  This fixes node delete
for that.

[1] Id377b2c7ed973a7e2365b33dba2c1d59a59e26b9

Change-Id: Id5b5e257679ce7fca26e1ebf272988eaab2d4d53
(cherry picked from commit de26c288d2b5e42fb127bcc4a9a1d6f3bcfa9b0c)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/47/839347/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/tests/v1/overcloud_node/test_overcloud_node.py', 'tripleoclient/v1/overcloud_node.py']",2,d52e95cfbeee6b9aa89126a63924f3fcc89b3106,," to_unprovision = json.load(f) if isinstance(to_unprovision, dict): nodes = to_unprovision.get( 'instances') + to_unprovision.get('pre_provisioned') else: nodes = to_unprovision ""manage_network_ports"": True,", nodes = json.load(f),9,2
openstack%2Ftripleo-puppet-elements~master~I2fc56065b541f7120b99f00a3fb9ee2d2efd3e35,openstack/tripleo-puppet-elements,master,I2fc56065b541f7120b99f00a3fb9ee2d2efd3e35,Remove unused puppet-datacat,MERGED,2022-04-25 13:22:13.000000000,2022-05-04 01:55:14.000000000,2022-05-04 01:55:14.000000000,"[{'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2022-04-25 13:22:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-puppet-elements/commit/d10270f28ec5ce5ff1170eb6aefaa929a66b28d3', 'message': 'Remove unused puppet-datacat\n\nThis module was required by puppet-midonet but puppet-midonet was\nremoved from requirements when support for Midonet was removed[1].\n\n[1] 32c946e9225071a2aa64459ed6b2e418d1ecb168\n\nChange-Id: I2fc56065b541f7120b99f00a3fb9ee2d2efd3e35\n'}, {'number': 2, 'created': '2022-04-25 23:58:06.000000000', 'files': ['elements/puppet-modules/environment.d/02-puppet-modules-install-types.sh', 'elements/puppet-modules/source-repository-puppet-modules'], 'web_link': 'https://opendev.org/openstack/tripleo-puppet-elements/commit/4629a09bec6957ea5e9c4869071e1e2ed0228d22', 'message': 'Remove unused puppet-datacat\n\nThis module was required by puppet-midonet but puppet-midonet was\nremoved from requirements when support for Midonet was removed[1].\n\n[1] 32c946e9225071a2aa64459ed6b2e418d1ecb168\n\nChange-Id: I2fc56065b541f7120b99f00a3fb9ee2d2efd3e35\n'}]",1,839209,4629a09bec6957ea5e9c4869071e1e2ed0228d22,14,4,2,9816,,,0,"Remove unused puppet-datacat

This module was required by puppet-midonet but puppet-midonet was
removed from requirements when support for Midonet was removed[1].

[1] 32c946e9225071a2aa64459ed6b2e418d1ecb168

Change-Id: I2fc56065b541f7120b99f00a3fb9ee2d2efd3e35
",git fetch https://review.opendev.org/openstack/tripleo-puppet-elements refs/changes/09/839209/1 && git format-patch -1 --stdout FETCH_HEAD,"['elements/puppet-modules/environment.d/02-puppet-modules-install-types.sh', 'elements/puppet-modules/source-repository-puppet-modules']",2,d10270f28ec5ce5ff1170eb6aefaa929a66b28d3,module-cleanup,,puppet-datacat git /opt/stack/puppet-modules/datacat https://github.com/richardc/puppet-datacat.git,0,2
openstack%2Ftripleo-puppet-elements~master~Ibf1c99f2e28cb8e29e0dc10286b336513e323c3b,openstack/tripleo-puppet-elements,master,Ibf1c99f2e28cb8e29e0dc10286b336513e323c3b,Remove unused puppet modules,MERGED,2022-04-25 23:58:06.000000000,2022-05-04 01:55:11.000000000,2022-05-04 01:55:11.000000000,"[{'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2022-04-25 23:58:06.000000000', 'files': ['elements/puppet-modules/environment.d/02-puppet-modules-install-types.sh', 'elements/puppet-modules/source-repository-puppet-modules'], 'web_link': 'https://opendev.org/openstack/tripleo-puppet-elements/commit/0ce4f5518cc8fccc7a5c294fe93b77645d7e1d92', 'message': 'Remove unused puppet modules\n\nThis change removes the unused puppet modules from elements. Detail\nfollows below.\n\n- puppet-openstack_extras is not currently used by puppet-tripleo.\n  puppet-corosync is required by puppet-openstack_extras so can be\n  removed as well.\n\n- puppet-healthcheck was added[1] so that service availability can be\n  checked by the tcp_conn_validator resource, but the resource is not\n  used.\n\n- puppet-staging was required by puppetlabs-mysql but is no longer\n  required since 7.0.0 [2].\n\n[1] 7252c0335f3d686ceda6601d0b3e9e3d1edb2f29\n[2] https://github.com/puppetlabs/puppetlabs-mysql/commit/c9ed37096ca7d743ddefe6372f173cfe018b3d85\n\nChange-Id: Ibf1c99f2e28cb8e29e0dc10286b336513e323c3b\n'}]",0,839279,0ce4f5518cc8fccc7a5c294fe93b77645d7e1d92,9,4,1,9816,,,0,"Remove unused puppet modules

This change removes the unused puppet modules from elements. Detail
follows below.

- puppet-openstack_extras is not currently used by puppet-tripleo.
  puppet-corosync is required by puppet-openstack_extras so can be
  removed as well.

- puppet-healthcheck was added[1] so that service availability can be
  checked by the tcp_conn_validator resource, but the resource is not
  used.

- puppet-staging was required by puppetlabs-mysql but is no longer
  required since 7.0.0 [2].

[1] 7252c0335f3d686ceda6601d0b3e9e3d1edb2f29
[2] https://github.com/puppetlabs/puppetlabs-mysql/commit/c9ed37096ca7d743ddefe6372f173cfe018b3d85

Change-Id: Ibf1c99f2e28cb8e29e0dc10286b336513e323c3b
",git fetch https://review.opendev.org/openstack/tripleo-puppet-elements refs/changes/79/839279/1 && git format-patch -1 --stdout FETCH_HEAD,"['elements/puppet-modules/environment.d/02-puppet-modules-install-types.sh', 'elements/puppet-modules/source-repository-puppet-modules']",2,0ce4f5518cc8fccc7a5c294fe93b77645d7e1d92,module-cleanup,,puppet-healthcheck git /opt/stack/puppet-modules/healthcheck https://github.com/puppet-community/puppet-healthcheck.gitpuppet-staging git /opt/stack/puppet-modules/staging https://github.com/nanliu/puppet-staging.gitpuppetlabs-corosync git /opt/stack/puppet-modules/corosync https://github.com/puppetlabs/puppetlabs-corosync.gitpuppet-openstack_extras git /opt/stack/puppet-modules/openstack_extras https://opendev.org/openstack/puppet-openstack_extras.git,0,8
openstack%2Ftripleo-puppet-elements~master~I90a4d0da99099feaaa53fffa556c440da52924b1,openstack/tripleo-puppet-elements,master,I90a4d0da99099feaaa53fffa556c440da52924b1,Remove unused reference to source repos,MERGED,2022-04-25 13:16:54.000000000,2022-05-04 01:55:09.000000000,2022-05-04 01:55:09.000000000,"[{'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2022-04-25 13:16:54.000000000', 'files': ['elements/puppet-modules/source-repository-puppet-modules'], 'web_link': 'https://opendev.org/openstack/tripleo-puppet-elements/commit/64a787033e1353aba05cc79a909aae94bb554c88', 'message': 'Remove unused reference to source repos\n\nThis is follow-up of b3df2daabbf2d2a58dcafa6b2eabc01e95829200 and\nremoves reference to source repos about the modules which were removed\nby that commit.\n\nChange-Id: I90a4d0da99099feaaa53fffa556c440da52924b1\n'}]",1,839206,64a787033e1353aba05cc79a909aae94bb554c88,11,4,1,9816,,,0,"Remove unused reference to source repos

This is follow-up of b3df2daabbf2d2a58dcafa6b2eabc01e95829200 and
removes reference to source repos about the modules which were removed
by that commit.

Change-Id: I90a4d0da99099feaaa53fffa556c440da52924b1
",git fetch https://review.opendev.org/openstack/tripleo-puppet-elements refs/changes/06/839206/1 && git format-patch -1 --stdout FETCH_HEAD,['elements/puppet-modules/source-repository-puppet-modules'],1,64a787033e1353aba05cc79a909aae94bb554c88,module-cleanup,,puppet-gluster git /opt/stack/puppet-modules/gluster https://github.com/purpleidea/puppet-gluster.gitpuppet-vlan git /opt/stack/puppet-modules/vlan https://github.com/derekhiggins/puppet-vlan.gitpuppet_aviator git /opt/stack/puppet-modules/aviator https://github.com/aimonb/puppet_aviator.git,0,3
openstack%2Fpuppet-tripleo~master~I757956303f65f9753d2e5220bbcefce5e2f3c07f,openstack/puppet-tripleo,master,I757956303f65f9753d2e5220bbcefce5e2f3c07f,Heat: Sync default value in parameter description,MERGED,2022-04-21 23:53:28.000000000,2022-05-04 01:55:06.000000000,2022-05-04 01:55:06.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-04-21 23:53:28.000000000', 'files': ['manifests/profile/base/heat.pp', 'manifests/profile/base/heat/api.pp', 'manifests/profile/base/heat/api_cfn.pp', 'manifests/profile/base/heat/authtoken.pp', 'manifests/profile/base/heat/engine.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/798ea9afab0e05508d6dd907e705cfa36d62c356', 'message': 'Heat: Sync default value in parameter description\n\nThis fixes default values in parameter description which do not match\nthe actual values or are missing.\n\nAlso, the base heat manifest uses downcase() when defining default for\nbootstrap node name but this is not used in the other manifests. So\nit is also removed by this change.\n\nChange-Id: I757956303f65f9753d2e5220bbcefce5e2f3c07f\n'}]",0,838957,798ea9afab0e05508d6dd907e705cfa36d62c356,8,4,1,9816,,,0,"Heat: Sync default value in parameter description

This fixes default values in parameter description which do not match
the actual values or are missing.

Also, the base heat manifest uses downcase() when defining default for
bootstrap node name but this is not used in the other manifests. So
it is also removed by this change.

Change-Id: I757956303f65f9753d2e5220bbcefce5e2f3c07f
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/57/838957/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/profile/base/heat.pp', 'manifests/profile/base/heat/api.pp', 'manifests/profile/base/heat/api_cfn.pp', 'manifests/profile/base/heat/authtoken.pp', 'manifests/profile/base/heat/engine.pp']",5,798ea9afab0e05508d6dd907e705cfa36d62c356,tripleo-hiera-v5,"# Defaults to lookup('heat_engine_short_bootstrap_node_name', undef, undef, undef)# Defaults to Integer(lookup('step'))",# Defaults to lookup('heat_engine_short_bootstrap_node_name')# Defaults to lookup('step'),18,18
openstack%2Fpuppet-tripleo~master~I341902c7f17b6a21dd789aaccae31b02bf4b0a8b,openstack/puppet-tripleo,master,I341902c7f17b6a21dd789aaccae31b02bf4b0a8b,Nova: Remove manifest for nova-serialproxy,MERGED,2022-04-25 08:15:38.000000000,2022-05-04 01:55:03.000000000,2022-05-04 01:55:03.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-04-25 08:15:38.000000000', 'files': ['manifests/profile/base/nova/serialproxy.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/2123ff49779b24edb30da4b0729f782382b0a29e', 'message': 'Nova: Remove manifest for nova-serialproxy\n\nThis manifest was added several cycles ago[1], but it has never been\nactually used since then.\n\n[1] b0515a8984a015518316d1389d86839cc8747c8c\n\nChange-Id: I341902c7f17b6a21dd789aaccae31b02bf4b0a8b\n'}]",0,839158,2123ff49779b24edb30da4b0729f782382b0a29e,8,4,1,9816,,,0,"Nova: Remove manifest for nova-serialproxy

This manifest was added several cycles ago[1], but it has never been
actually used since then.

[1] b0515a8984a015518316d1389d86839cc8747c8c

Change-Id: I341902c7f17b6a21dd789aaccae31b02bf4b0a8b
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/58/839158/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/profile/base/nova/serialproxy.pp'],1,2123ff49779b24edb30da4b0729f782382b0a29e,,,"# Copyright 2019 Red Hat, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # # == Class: tripleo::profile::base::nova::serialproxy # # Nova serial-proxy profile for tripleo # # === Parameters # # [*step*] # (Optional) The current step in deployment. See tripleo-heat-templates # for more details. # Defaults to hiera('step') # class tripleo::profile::base::nova::serialproxy ( $step = Integer(hiera('step')), ) { if $step >= 4 { include tripleo::profile::base::nova include nova::serialproxy } } ",0,33
openstack%2Ftripleo-heat-templates~master~I36499dccef6ff74a288942bd0a8f0257187387e7,openstack/tripleo-heat-templates,master,I36499dccef6ff74a288942bd0a8f0257187387e7,Remove ineffective ovn_remote_probe_interval,MERGED,2022-04-25 07:50:20.000000000,2022-05-04 01:54:59.000000000,2022-05-04 01:54:59.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-04-25 07:50:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e0b0205e2d5be45d3c933b240ee752dcea082b9e', 'message': 'Remove ovn_remote_probe_interval\n\nThis parameter was introduced to puppet-neutron but it was completely\nwrong and the actual parameter has never been implemented in neutron.\n\nAlso, the hieradata definition in tht has never taken effect because\nthis parameter has been currently defined in puppet-tripleo.\n\nThe interval should be set in ovn controller, which is already\nconfigured.\n\nDepends-on: https://review.opendev.org/839156\nChange-Id: I36499dccef6ff74a288942bd0a8f0257187387e7\n'}, {'number': 2, 'created': '2022-04-25 07:54:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/456805eb5d2262281aff2f12730ec444d5851d23', 'message': 'Remove ovn_remote_probe_interval\n\nThis parameter was introduced to puppet-neutron but it was completely\nwrong and the actual parameter has never been implemented in neutron.\n\nAlso, the hieradata definition in tht has never taken effect because\nthis parameter has been currently defined in puppet-tripleo.\n\nThe interval should be configured in ovn controller, and this is\nalready implemented using puppet-ovn.\n\nChange-Id: I36499dccef6ff74a288942bd0a8f0257187387e7\n'}, {'number': 3, 'created': '2022-04-25 07:55:38.000000000', 'files': ['deployment/ovn/ovn-metadata-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c11604c1406b2c11b862bdfc3bb5d5a40831d381', 'message': 'Remove ineffective ovn_remote_probe_interval\n\nThis parameter was introduced to puppet-neutron but it was completely\nwrong and the actual parameter has never been implemented in neutron.\n\nAlso, the parameter definition in tht has never taken effect because\npuppet-tripleo overrides the definition.\n\nThe interval should be configured in ovn controller, and this is\nalready implemented using puppet-ovn.\n\nChange-Id: I36499dccef6ff74a288942bd0a8f0257187387e7\n'}]",3,839157,c11604c1406b2c11b862bdfc3bb5d5a40831d381,16,4,3,9816,,,0,"Remove ineffective ovn_remote_probe_interval

This parameter was introduced to puppet-neutron but it was completely
wrong and the actual parameter has never been implemented in neutron.

Also, the parameter definition in tht has never taken effect because
puppet-tripleo overrides the definition.

The interval should be configured in ovn controller, and this is
already implemented using puppet-ovn.

Change-Id: I36499dccef6ff74a288942bd0a8f0257187387e7
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/57/839157/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/ovn/ovn-metadata-container-puppet.yaml'],1,e0b0205e2d5be45d3c933b240ee752dcea082b9e,rm-ovn-remote-probe-intvl,, OVNRemoteProbeInterval: description: Probe interval in ms type: number default: 60000 neutron::agents::ovn_metadata::ovn_remote_probe_interval: {get_param: OVNRemoteProbeInterval},0,5
openstack%2Fpuppet-tripleo~master~Ib19fe1afe58cf571cd2d346e84d602ef469630ae,openstack/puppet-tripleo,master,Ib19fe1afe58cf571cd2d346e84d602ef469630ae,Remove unused sysctl::value resource,MERGED,2022-04-25 13:31:24.000000000,2022-05-04 01:54:55.000000000,2022-05-04 01:54:55.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-04-25 13:31:24.000000000', 'files': ['manifests/profile/pacemaker/ovn_northd.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/315aa58fe7eb6471f2916c62df20051a10b4726a', 'message': 'Remove unused sysctl::value resource\n\nThis removes the sysctl::value resource left by [1]. Kernel parameters\nare now managed by ansible and the puppet implementation is no longer\nused.\n\n[1] cac7047169979c34f4967bd5901ff27659a6c680\n\nChange-Id: Ib19fe1afe58cf571cd2d346e84d602ef469630ae\n'}]",0,839214,315aa58fe7eb6471f2916c62df20051a10b4726a,8,4,1,9816,,,0,"Remove unused sysctl::value resource

This removes the sysctl::value resource left by [1]. Kernel parameters
are now managed by ansible and the puppet implementation is no longer
used.

[1] cac7047169979c34f4967bd5901ff27659a6c680

Change-Id: Ib19fe1afe58cf571cd2d346e84d602ef469630ae
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/14/839214/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/profile/pacemaker/ovn_northd.pp'],1,315aa58fe7eb6471f2916c62df20051a10b4726a,,," # Allow non local bind, because all the ovsdb-server's running in the # cluster try to open a TCP socket on the VIP. ensure_resource('sysctl::value', 'net.ipv4.ip_nonlocal_bind', { 'value'=> 1, })",0,6
openstack%2Fpuppet-tripleo~master~I1c40a3315f4cc6a1864c82d9e715834cc32a61c2,openstack/puppet-tripleo,master,I1c40a3315f4cc6a1864c82d9e715834cc32a61c2,Remove workaround for old puppetlabs-apache,MERGED,2022-04-25 14:05:47.000000000,2022-05-04 01:54:52.000000000,2022-05-04 01:54:52.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-04-25 14:05:47.000000000', 'files': ['manifests/profile/base/apache.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/77a4833ae390fe95ae713cbca3f6926923f3ae88', 'message': 'Remove workaround for old puppetlabs-apache\n\nThe workaround for module packages[1] and shared lib path[2] are no\nlonger required since puppetlabs-apache v5.6.0.\n\n[1] https://github.com/puppetlabs/puppetlabs-apache/commit/d346b76d1aab954b642c55942d3ff8cf6cb578ac\n[2] https://github.com/puppetlabs/puppetlabs-apache/commit/f31e392a6732c92c24545ec846a9b7d78d452a06\n\nChange-Id: I1c40a3315f4cc6a1864c82d9e715834cc32a61c2\n'}]",0,839224,77a4833ae390fe95ae713cbca3f6926923f3ae88,8,4,1,9816,,,0,"Remove workaround for old puppetlabs-apache

The workaround for module packages[1] and shared lib path[2] are no
longer required since puppetlabs-apache v5.6.0.

[1] https://github.com/puppetlabs/puppetlabs-apache/commit/d346b76d1aab954b642c55942d3ff8cf6cb578ac
[2] https://github.com/puppetlabs/puppetlabs-apache/commit/f31e392a6732c92c24545ec846a9b7d78d452a06

Change-Id: I1c40a3315f4cc6a1864c82d9e715834cc32a61c2
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/24/839224/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/profile/base/apache.pp'],1,77a4833ae390fe95ae713cbca3f6926923f3ae88,," class { 'apache': mpm_module => $mpm_module,"," # rhel8/fedora will be python3. See LP#1813053 if ($::os['name'] == 'Fedora') or ($::os['family'] == 'RedHat' and Integer.new($::os['release']['major']) > 7) { class { 'apache': mod_packages => merge($::apache::params::mod_packages, { 'wsgi' => 'python3-mod_wsgi' }), mod_libs => merge($::apache::params::mod_libs, { 'wsgi' => 'mod_wsgi_python3.so' }), mpm_module => $mpm_module, } } else { class { 'apache': mpm_module => $mpm_module, }",2,11
openstack%2Fpuppet-tripleo~master~I1886d96d558af4d7cf46ef59f7c0c7871a697581,openstack/puppet-tripleo,master,I1886d96d558af4d7cf46ef59f7c0c7871a697581,Remove unused implementation to trigger ceilometer-upgrade,MERGED,2022-04-26 02:36:51.000000000,2022-05-04 01:54:49.000000000,2022-05-04 01:54:49.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-26 02:36:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/3f6619d8a91755acae1e9c6336a412cb670e9cf4', 'message': 'Remove unused implementation to trigger ceilometer-upgrade\n\nCurrently the ceilomete-upgrade is not executed by puppet but by\nthe indepdndent ceilometer_gnocchi_upgrade container.\n\nChange-Id: I1886d96d558af4d7cf46ef59f7c0c7871a697581\n'}, {'number': 2, 'created': '2022-04-26 02:38:18.000000000', 'files': ['manifests/profile/base/ceilometer/agent/polling.pp', 'spec/classes/tripleo_profile_base_ceilometer_agent_notification_spec.rb', 'manifests/profile/base/ceilometer/agent/notification.pp', 'manifests/profile/base/ceilometer/upgrade.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/8abf437ed277cc55c52a1daf9d01953dffb8b94c', 'message': 'Remove unused implementation to trigger ceilometer-upgrade\n\nCurrently the ceilometer-upgrade command is executed not by puppet, but\nby the the indepdndent ceilometer_gnocchi_upgrade container.\n\nChange-Id: I1886d96d558af4d7cf46ef59f7c0c7871a697581\n'}]",0,839290,8abf437ed277cc55c52a1daf9d01953dffb8b94c,11,3,2,9816,,,0,"Remove unused implementation to trigger ceilometer-upgrade

Currently the ceilometer-upgrade command is executed not by puppet, but
by the the indepdndent ceilometer_gnocchi_upgrade container.

Change-Id: I1886d96d558af4d7cf46ef59f7c0c7871a697581
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/90/839290/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/profile/base/ceilometer/agent/polling.pp', 'spec/classes/tripleo_profile_base_ceilometer_agent_notification_spec.rb', 'manifests/profile/base/ceilometer/agent/notification.pp', 'manifests/profile/base/ceilometer/upgrade.pp']",4,3f6619d8a91755acae1e9c6336a412cb670e9cf4,ceilo-upgrade,,"# Copyright 2016 Red Hat, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # # == Class: tripleo::profile::base::ceilometer::upgrade # # Ceilometer upgrade profile for tripleo # # === Parameters # # [*bootstrap_node*] # (Optional) The hostname of the node responsible for bootstrapping tasks # Defaults to hiera('gnocchi_api_short_bootstrap_node_name') # # [*step*] # (Optional) The current step in deployment. See tripleo-heat-templates # for more details. # Defaults to hiera('step') # class tripleo::profile::base::ceilometer::upgrade ( $bootstrap_node = hiera('gnocchi_api_short_bootstrap_node_name', undef), $step = Integer(hiera('step')), ) { if $bootstrap_node and $::hostname == downcase($bootstrap_node) { $sync_db = true } else { $sync_db = false } if $step >= 5 and $sync_db { exec {'ceilometer-db-upgrade': command => 'ceilometer-upgrade', path => ['/usr/bin', '/usr/sbin'], # LP#1703444 - When this runs, it talks to gnocchi on all controllers # which then reaches out to keystone via haproxy. Since the deployment # may restart httpd on these other nodes it can result in an intermittent # 503 which fails this command. We should retry the upgrade in case of # error since we cannot ensure that there might not be some other deploy # process running on the other nodes. try_sleep => 5, tries => 10 } # NOTE(sileht): Ensure we run before ceilometer-agent-notification is # started and after gnocchi-api is running include gnocchi::deps Anchor['gnocchi::service::end'] ~> Exec['ceilometer-db-upgrade'] ~> Anchor['ceilometer::service::begin'] } } ",0,69
openstack%2Fpuppet-tripleo~master~I1c8402cc7a5edad14d8f8fc159f0b2aa1a350a77,openstack/puppet-tripleo,master,I1c8402cc7a5edad14d8f8fc159f0b2aa1a350a77,Ssh: Replace hiera by lookup,MERGED,2022-04-26 02:23:27.000000000,2022-05-04 01:54:46.000000000,2022-05-04 01:54:46.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-04-26 02:23:27.000000000', 'files': ['manifests/profile/base/sshd.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/466f5703e6ceb8af929559bd1899bc65219c3222', 'message': 'Ssh: Replace hiera by lookup\n\nThe hiera function is deprecated and does not work with the latest\nhieradata version 5. It should be replaced by the new lookup\nfunction[1].\n\n[1] https://puppet.com/docs/puppet/7/hiera_automatic.html\n\nWith the lookup function, we can define value type and merge behavior,\nbut these are kept default at this moment to limit scope of this change\nto just simple replacement. Adding value type might be useful to make\nsure the value is in expected type (especially when a boolean value is\nexpected), but we will revisit that later.\n\nexample:\nlookup(<NAME>, [<VALUE TYPE>], [<MERGE BEHAVIOR>], [<DEFAULT VALUE>])\n\nChange-Id: I1c8402cc7a5edad14d8f8fc159f0b2aa1a350a77\n'}]",0,839287,466f5703e6ceb8af929559bd1899bc65219c3222,8,4,1,9816,,,0,"Ssh: Replace hiera by lookup

The hiera function is deprecated and does not work with the latest
hieradata version 5. It should be replaced by the new lookup
function[1].

[1] https://puppet.com/docs/puppet/7/hiera_automatic.html

With the lookup function, we can define value type and merge behavior,
but these are kept default at this moment to limit scope of this change
to just simple replacement. Adding value type might be useful to make
sure the value is in expected type (especially when a boolean value is
expected), but we will revisit that later.

example:
lookup(<NAME>, [<VALUE TYPE>], [<MERGE BEHAVIOR>], [<DEFAULT VALUE>])

Change-Id: I1c8402cc7a5edad14d8f8fc159f0b2aa1a350a77
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/87/839287/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/profile/base/sshd.pp'],1,466f5703e6ceb8af929559bd1899bc65219c3222,tripleo-hiera-v5,"# Defaults to lookup('BannerText', undef, undef, undef)# Defaults to lookup('MOTD', undef, undef, undef) $bannertext = lookup('BannerText', undef, undef, undef), $motd = lookup('MOTD', undef, undef, undef), $options = {}, $port = [22], if lookup('ssh:server::options', undef, undef, undef) {","# Defaults to hiera('BannerText')# Defaults to hiera('MOTD') $bannertext = hiera('BannerText', undef), $motd = hiera('MOTD', undef), $options = {}, $port = [22], if hiera('ssh:server::options', undef) {",7,7
openstack%2Fpuppet-tripleo~master~I8cbb2c271f0237707b4eb725d26ebddc4bc4ea48,openstack/puppet-tripleo,master,I8cbb2c271f0237707b4eb725d26ebddc4bc4ea48,Use stdlib function to remove undef values from array,MERGED,2022-04-26 00:16:25.000000000,2022-05-04 01:54:43.000000000,2022-05-04 01:54:43.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-26 00:16:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/8c348b215727cb182cc731c22fb81c8206f412b4', 'message': 'Use built-in function to remove undef values from array\n\n... instead implementing own logic.\n\nChange-Id: I8cbb2c271f0237707b4eb725d26ebddc4bc4ea48\n'}, {'number': 2, 'created': '2022-04-26 00:17:29.000000000', 'files': ['manifests/profile/base/barbican/backends.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/a90e26d44272f2ab552d70c91915a3107d3113ed', 'message': 'Use stdlib function to remove undef values from array\n\n... instead implementing own logic.\n\nChange-Id: I8cbb2c271f0237707b4eb725d26ebddc4bc4ea48\n'}]",0,839282,a90e26d44272f2ab552d70c91915a3107d3113ed,8,3,2,9816,,,0,"Use stdlib function to remove undef values from array

... instead implementing own logic.

Change-Id: I8cbb2c271f0237707b4eb725d26ebddc4bc4ea48
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/82/839282/2 && git format-patch -1 --stdout FETCH_HEAD,['manifests/profile/base/barbican/backends.pp'],1,8c348b215727cb182cc731c22fb81c8206f412b4,," $enabled_backends_list = delete_undef_values([$backend1, $backend2, $backend3, $backend4])"," $enabled_backends_list = [$backend1, $backend2, $backend3, $backend4].filter |$items| { $items != undef }",1,1
openstack%2Fpuppet-tripleo~master~I802064545e9ebab2aaa32002df3e380d3e12e958,openstack/puppet-tripleo,master,I802064545e9ebab2aaa32002df3e380d3e12e958,Remove unused implementation to manage stunnel by systemd,MERGED,2022-04-26 02:52:07.000000000,2022-05-04 01:54:40.000000000,2022-05-04 01:54:40.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-04-26 02:52:07.000000000', 'files': ['manifests/stunnel.pp', 'manifests/stunnel/systemd_unit.pp', 'manifests/stunnel/service_proxy.pp', 'files/stunnel.service'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/243d35a3ef0c7a0c7a884a17d18c313720f4958a', 'message': 'Remove unused implementation to manage stunnel by systemd\n\nThe stunnel service now runs inside a container, and the implementation\nto launch the service by systemd is no longer used.\n\nChange-Id: I802064545e9ebab2aaa32002df3e380d3e12e958\n'}]",0,839291,243d35a3ef0c7a0c7a884a17d18c313720f4958a,8,4,1,9816,,,0,"Remove unused implementation to manage stunnel by systemd

The stunnel service now runs inside a container, and the implementation
to launch the service by systemd is no longer used.

Change-Id: I802064545e9ebab2aaa32002df3e380d3e12e958
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/91/839291/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/stunnel.pp', 'manifests/stunnel/systemd_unit.pp', 'manifests/stunnel/service_proxy.pp', 'files/stunnel.service']",4,243d35a3ef0c7a0c7a884a17d18c313720f4958a,,,[Unit] Description=SSL tunnel for network daemons After=network.target After=syslog.target [Install] WantedBy=multi-user.target Alias=stunnel.target [Service] Type=forking ExecStart=/usr/bin/stunnel /etc/stunnel/stunnel.conf ExecStop=/usr/bin/killall -9 stunnel # Give up if ping don't get an answer TimeoutSec=600 Restart=always PrivateTmp=false ,2,66
openstack%2Fpuppet-tripleo~master~I9ddceedcf1b7d5335beea542e671de8f9f143e5f,openstack/puppet-tripleo,master,I9ddceedcf1b7d5335beea542e671de8f9f143e5f,Logging: Replace hiera by lookup,MERGED,2022-04-26 07:22:39.000000000,2022-05-04 01:54:38.000000000,2022-05-04 01:54:38.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-26 07:22:39.000000000', 'files': ['manifests/profile/base/logging/logrotate.pp', 'manifests/profile/base/logging/rsyslog.pp', 'manifests/profile/base/logging/rsyslog/file_input.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/4c2449055cbd4fae18f1136be9cdd61274b50894', 'message': 'Logging: Replace hiera by lookup\n\nThe hiera function is deprecated and does not work with the latest\nhieradata version 5. It should be replaced by the new lookup\nfunction[1].\n\n[1] https://puppet.com/docs/puppet/7/hiera_automatic.html\n\nWith the lookup function, we can define value type and merge behavior,\nbut these are kept default at this moment to limit scope of this change\nto just simple replacement. Adding value type might be useful to make\nsure the value is in expected type (especially when a boolean value is\nexpected), but we will revisit that later.\n\nexample:\nlookup(<NAME>, [<VALUE TYPE>], [<MERGE BEHAVIOR>], [<DEFAULT VALUE>])\n\nChange-Id: I9ddceedcf1b7d5335beea542e671de8f9f143e5f\n'}]",3,839306,4c2449055cbd4fae18f1136be9cdd61274b50894,9,3,1,9816,,,0,"Logging: Replace hiera by lookup

The hiera function is deprecated and does not work with the latest
hieradata version 5. It should be replaced by the new lookup
function[1].

[1] https://puppet.com/docs/puppet/7/hiera_automatic.html

With the lookup function, we can define value type and merge behavior,
but these are kept default at this moment to limit scope of this change
to just simple replacement. Adding value type might be useful to make
sure the value is in expected type (especially when a boolean value is
expected), but we will revisit that later.

example:
lookup(<NAME>, [<VALUE TYPE>], [<MERGE BEHAVIOR>], [<DEFAULT VALUE>])

Change-Id: I9ddceedcf1b7d5335beea542e671de8f9f143e5f
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/06/839306/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/profile/base/logging/logrotate.pp', 'manifests/profile/base/logging/rsyslog.pp', 'manifests/profile/base/logging/rsyslog/file_input.pp']",3,4c2449055cbd4fae18f1136be9cdd61274b50894,tripleo-hiera-v5,"# Defaults to lookup(""tripleo_logging_sources_${title}"", undef, undef, undef) $sources = lookup(""tripleo_logging_sources_${title}"", undef, undef, undef),","# Defaults to hiera(""tripleo_logging_sources_${title}"", undef) $sources = hiera(""tripleo_logging_sources_${title}"", undef),",33,33
openstack%2Fpuppet-tripleo~master~I5591754dc828cdc7fab2a88b2cfd3c9faba3eef7,openstack/puppet-tripleo,master,I5591754dc828cdc7fab2a88b2cfd3c9faba3eef7,tls_proxy: Replace hiera by lookup,MERGED,2022-04-26 07:16:18.000000000,2022-05-04 01:54:34.000000000,2022-05-04 01:54:34.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-04-26 07:16:18.000000000', 'files': ['manifests/tls_proxy.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/0432ed4323984becd405a755ba77164b891f4b16', 'message': 'tls_proxy: Replace hiera by lookup\n\nThe hiera function is deprecated and does not work with the latest\nhieradata version 5. It should be replaced by the new lookup\nfunction[1].\n\n[1] https://puppet.com/docs/puppet/7/hiera_automatic.html\n\nWith the lookup function, we can define value type and merge behavior,\nbut these are kept default at this moment to limit scope of this change\nto just simple replacement. Adding value type might be useful to make\nsure the value is in expected type (especially when a boolean value is\nexpected), but we will revisit that later.\n\nexample:\nlookup(<NAME>, [<VALUE TYPE>], [<MERGE BEHAVIOR>], [<DEFAULT VALUE>])\n\nChange-Id: I5591754dc828cdc7fab2a88b2cfd3c9faba3eef7\n'}]",4,839303,0432ed4323984becd405a755ba77164b891f4b16,10,4,1,9816,,,0,"tls_proxy: Replace hiera by lookup

The hiera function is deprecated and does not work with the latest
hieradata version 5. It should be replaced by the new lookup
function[1].

[1] https://puppet.com/docs/puppet/7/hiera_automatic.html

With the lookup function, we can define value type and merge behavior,
but these are kept default at this moment to limit scope of this change
to just simple replacement. Adding value type might be useful to make
sure the value is in expected type (especially when a boolean value is
expected), but we will revisit that later.

example:
lookup(<NAME>, [<VALUE TYPE>], [<MERGE BEHAVIOR>], [<DEFAULT VALUE>])

Change-Id: I5591754dc828cdc7fab2a88b2cfd3c9faba3eef7
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/03/839303/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/tls_proxy.pp'],1,0432ed4323984becd405a755ba77164b891f4b16,tripleo-hiera-v5,"# (Required) The IP address that the proxy will be listening on.# (Required) The port that the proxy will be listening on.# (Required) The vhost servername that contains the FQDN to identify # the virtual host.# (Required) The path to the TLS certificate that the proxy will be serving.# (Required) The path to the key used for the specified certificate.# (Optional) The host to connect to. # Defaults to lookup('localhost_address', undef, undef, 'localhost') # $preserve_host = false, $proxy_pass_host = lookup('localhost_address', undef, undef, 'localhost')","# The IP address that the proxy will be listening on.# The port that the proxy will be listening on.# The vhost servername that contains the FQDN to identify the virtual host.# The path to the TLS certificate that the proxy will be serving.# The path to the key used for the specified certificate.# The host to connect to. # Defaults to hiera('localhost_address', 'localhost') $preserve_host = false, $proxy_pass_host = hiera('localhost_address', 'localhost')",11,10
openstack%2Fpuppet-tripleo~master~I8f784be9a77729c83b55da634796e1565656e9e1,openstack/puppet-tripleo,master,I8f784be9a77729c83b55da634796e1565656e9e1,Snmpd: Replace hiera by lookup,MERGED,2022-04-27 01:41:50.000000000,2022-05-04 01:54:31.000000000,2022-05-04 01:54:31.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-04-27 01:41:50.000000000', 'files': ['manifests/profile/base/snmp.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/369134ecd8b3302ba23dd13af339c8884991d379', 'message': 'Snmpd: Replace hiera by lookup\n\nThe hiera function is deprecated and does not work with the latest\nhieradata version 5. It should be replaced by the new lookup\nfunction[1].\n\n[1] https://puppet.com/docs/puppet/7/hiera_automatic.html\n\nWith the lookup function, we can define value type and merge behavior,\nbut these are kept default at this moment to limit scope of this change\nto just simple replacement. Adding value type might be useful to make\nsure the value is in expected type (especially when a boolean value is\nexpected), but we will revisit that later.\n\nexample:\nlookup(<NAME>, [<VALUE TYPE>], [<MERGE BEHAVIOR>], [<DEFAULT VALUE>])\n\nChange-Id: I8f784be9a77729c83b55da634796e1565656e9e1\n'}]",0,839456,369134ecd8b3302ba23dd13af339c8884991d379,8,4,1,9816,,,0,"Snmpd: Replace hiera by lookup

The hiera function is deprecated and does not work with the latest
hieradata version 5. It should be replaced by the new lookup
function[1].

[1] https://puppet.com/docs/puppet/7/hiera_automatic.html

With the lookup function, we can define value type and merge behavior,
but these are kept default at this moment to limit scope of this change
to just simple replacement. Adding value type might be useful to make
sure the value is in expected type (especially when a boolean value is
expected), but we will revisit that later.

example:
lookup(<NAME>, [<VALUE TYPE>], [<MERGE BEHAVIOR>], [<DEFAULT VALUE>])

Change-Id: I8f784be9a77729c83b55da634796e1565656e9e1
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/56/839456/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/profile/base/snmp.pp'],1,369134ecd8b3302ba23dd13af339c8884991d379,tripleo-hiera-v5,"# Defaults to lookup('snmpd_readonly_user_authtype', undef, undef, 'MD5')# Defaults to lookup('snmpd_readonly_user_password')# Defaults to lookup('snmpd_readonly_user_name')# Defaults to Integer(lookup('step')) $snmpd_auth_type = lookup('snmpd_readonly_user_authtype', undef, undef, 'MD5'), $snmpd_password = lookup('snmpd_readonly_user_password'), $snmpd_user = lookup('snmpd_readonly_user_name'), $step = Integer(lookup('step')),","# Defaults to hiera('snmpd_readonly_user_authtype') if set else 'MD5'# Defaults to hiera('snmpd_readonly_user_password')# Defaults to hiera('snmpd_readonly_user_name')# Defaults to hiera('step') $snmpd_auth_type = hiera('snmpd_readonly_user_authtype', 'MD5'), $snmpd_password = hiera('snmpd_readonly_user_password'), $snmpd_user = hiera('snmpd_readonly_user_name'), $step = Integer(hiera('step')),",8,8
openstack%2Fpuppet-tripleo~master~Iaf86bb11e43432399d67b64c7a439cc85519c678,openstack/puppet-tripleo,master,Iaf86bb11e43432399d67b64c7a439cc85519c678,Memcached: Replace hiera by lookup,MERGED,2022-04-27 01:38:50.000000000,2022-05-04 01:54:29.000000000,2022-05-04 01:54:29.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-04-27 01:38:50.000000000', 'files': ['manifests/profile/base/memcached.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/5a25ae9a093543af061938a172099521ecef05aa', 'message': 'Memcached: Replace hiera by lookup\n\nThe hiera function is deprecated and does not work with the latest\nhieradata version 5. It should be replaced by the new lookup\nfunction[1].\n\n[1] https://puppet.com/docs/puppet/7/hiera_automatic.html\n\nWith the lookup function, we can define value type and merge behavior,\nbut these are kept default at this moment to limit scope of this change\nto just simple replacement. Adding value type might be useful to make\nsure the value is in expected type (especially when a boolean value is\nexpected), but we will revisit that later.\n\nexample:\nlookup(<NAME>, [<VALUE TYPE>], [<MERGE BEHAVIOR>], [<DEFAULT VALUE>])\n\nChange-Id: Iaf86bb11e43432399d67b64c7a439cc85519c678\n'}]",0,839455,5a25ae9a093543af061938a172099521ecef05aa,8,4,1,9816,,,0,"Memcached: Replace hiera by lookup

The hiera function is deprecated and does not work with the latest
hieradata version 5. It should be replaced by the new lookup
function[1].

[1] https://puppet.com/docs/puppet/7/hiera_automatic.html

With the lookup function, we can define value type and merge behavior,
but these are kept default at this moment to limit scope of this change
to just simple replacement. Adding value type might be useful to make
sure the value is in expected type (especially when a boolean value is
expected), but we will revisit that later.

example:
lookup(<NAME>, [<VALUE TYPE>], [<MERGE BEHAVIOR>], [<DEFAULT VALUE>])

Change-Id: Iaf86bb11e43432399d67b64c7a439cc85519c678
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/55/839455/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/profile/base/memcached.pp'],1,5a25ae9a093543af061938a172099521ecef05aa,tripleo-hiera-v5,"# Defaults to Integer(lookup('step')) $step = Integer(lookup('step')),","# Defaults to hiera('step') $step = Integer(hiera('step')),",2,2
openstack%2Fpuppet-tripleo~master~I48b647bf5c908c93bf1e297cf4a108050cbc2c81,openstack/puppet-tripleo,master,I48b647bf5c908c93bf1e297cf4a108050cbc2c81,Keystone: Replace hiera by lookup,MERGED,2022-04-27 01:27:59.000000000,2022-05-04 01:54:26.000000000,2022-05-04 01:54:26.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-04-27 01:27:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/0f261f32fa93d484d1cfb49ce8c3ad3125f938ad', 'message': 'Keystone:: Replace hiera by lookup\n\nThe hiera function is deprecated and does not work with the latest\nhieradata version 5. It should be replaced by the new lookup\nfunction[1].\n\n[1] https://puppet.com/docs/puppet/7/hiera_automatic.html\n\nWith the lookup function, we can define value type and merge behavior,\nbut these are kept default at this moment to limit scope of this change\nto just simple replacement. Adding value type might be useful to make\nsure the value is in expected type (especially when a boolean value is\nexpected), but we will revisit that later.\n\nexample:\nlookup(<NAME>, [<VALUE TYPE>], [<MERGE BEHAVIOR>], [<DEFAULT VALUE>])\n\nChange-Id: I48b647bf5c908c93bf1e297cf4a108050cbc2c81\n'}, {'number': 2, 'created': '2022-04-27 01:32:30.000000000', 'files': ['manifests/profile/base/keystone.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/7e6dd3050ddee98377430898b2c97e5aadf3b996', 'message': 'Keystone: Replace hiera by lookup\n\nThe hiera function is deprecated and does not work with the latest\nhieradata version 5. It should be replaced by the new lookup\nfunction[1].\n\n[1] https://puppet.com/docs/puppet/7/hiera_automatic.html\n\nWith the lookup function, we can define value type and merge behavior,\nbut these are kept default at this moment to limit scope of this change\nto just simple replacement. Adding value type might be useful to make\nsure the value is in expected type (especially when a boolean value is\nexpected), but we will revisit that later.\n\nexample:\nlookup(<NAME>, [<VALUE TYPE>], [<MERGE BEHAVIOR>], [<DEFAULT VALUE>])\n\nChange-Id: I48b647bf5c908c93bf1e297cf4a108050cbc2c81\n'}]",0,839453,7e6dd3050ddee98377430898b2c97e5aadf3b996,9,4,2,9816,,,0,"Keystone: Replace hiera by lookup

The hiera function is deprecated and does not work with the latest
hieradata version 5. It should be replaced by the new lookup
function[1].

[1] https://puppet.com/docs/puppet/7/hiera_automatic.html

With the lookup function, we can define value type and merge behavior,
but these are kept default at this moment to limit scope of this change
to just simple replacement. Adding value type might be useful to make
sure the value is in expected type (especially when a boolean value is
expected), but we will revisit that later.

example:
lookup(<NAME>, [<VALUE TYPE>], [<MERGE BEHAVIOR>], [<DEFAULT VALUE>])

Change-Id: I48b647bf5c908c93bf1e297cf4a108050cbc2c81
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/53/839453/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/profile/base/keystone.pp'],1,0f261f32fa93d484d1cfb49ce8c3ad3125f938ad,tripleo-hiera-v5,"# Defaults to lookup('keystone_admin_api_network', undef, undef, undef)# Defaults to lookup('keystone_short_bootstrap_node_name')# Defaults to lookup('apache_certificates_specs', undef, undef, {}).# Defaults to lookup('enable_internal_tls', undef, undef, false)# Defaults to lookup('keystone_enable_db_purge', undef, undef, false)# Defaults to lookup('keystone_public_api_network', undef, undef, undef)# Defaults to lookup('oslo_messaging_rpc_scheme', undef, undef, 'rabbit')# Defaults to any2array(lookup('oslo_messaging_rpc_node_names', undef, undef, undef))# Defaults to lookup('oslo_messaging_rpc_port', undef, undef, '5672')# Defaults to lookup('oslo_messaging_rpc_user_name', undef, undef, 'guest')# Defaults to lookup('oslo_messaging_rpc_password')# Defaults to lookup('oslo_messaging_rpc_use_ssl', undef, undef, '0')# Defaults to lookup('oslo_messaging_notify_scheme', undef, undef, 'rabbit')# Defaults to any2array(lookup('oslo_messaging_notify_node_names', undef, undef, undef))# Defaults to lookup('oslo_messaging_notify_port', undef, undef, '5672')# Defaults to lookup('oslo_messaging_notify_user_name', undef, undef, 'guest')# Defaults to lookup('oslo_messaging_notify_password')# Defaults to lookup('oslo_messaging_notify_use_ssl', undef, undef, '0')# Defaults to Integer(lookup('step'))# Defaults to lookup('keystone_federation_enabled', undef, undef, false)# Defaults to lookup('keystone_openidc_enabled', undef, undef, false)# Defaults to lookup('memcached_node_names', undef, undef, [])# Defaults to lookup('memcached_port', undef, undef, 11211)# Defauls to lookup('memcached_ipv6', undef, undef, false)# Defaults to lookup('keystone::cache::backend', undef, undef, false) $admin_endpoint_network = lookup('keystone_admin_api_network', undef, undef, undef), $bootstrap_node = lookup('keystone_short_bootstrap_node_name', undef, undef, undef), $certificates_specs = lookup('apache_certificates_specs', undef, undef, {}), $enable_internal_tls = lookup('enable_internal_tls', undef, undef, false), $manage_db_purge = lookup('keystone_enable_db_purge', undef, undef, false), $public_endpoint_network = lookup('keystone_public_api_network', undef, undef, undef), $oslomsg_rpc_proto = lookup('oslo_messaging_rpc_scheme', undef, undef, 'rabbit'), $oslomsg_rpc_hosts = any2array(lookup('oslo_messaging_rpc_node_names', undef, undef, undef)), $oslomsg_rpc_password = lookup('oslo_messaging_rpc_password'), $oslomsg_rpc_port = lookup('oslo_messaging_rpc_port', undef, undef, '5672'), $oslomsg_rpc_username = lookup('oslo_messaging_rpc_user_name', undef, undef, 'guest'), $oslomsg_rpc_use_ssl = lookup('oslo_messaging_rpc_use_ssl', undef, undef, '0'), $oslomsg_notify_proto = lookup('oslo_messaging_notify_scheme', undef, undef, 'rabbit'), $oslomsg_notify_hosts = any2array(lookup('oslo_messaging_notify_node_names', undef, undef, undef)), $oslomsg_notify_password = lookup('oslo_messaging_notify_password'), $oslomsg_notify_port = lookup('oslo_messaging_notify_port', undef, undef, '5672'), $oslomsg_notify_username = lookup('oslo_messaging_notify_user_name', undef, undef, 'guest'), $oslomsg_notify_use_ssl = lookup('oslo_messaging_notify_use_ssl', undef, undef, '0'), $step = Integer(lookup('step')), $keystone_federation_enabled = lookup('keystone_federation_enabled', undef, undef, false), $keystone_openidc_enabled = lookup('keystone_openidc_enabled', undef, undef, false), $memcached_hosts = lookup('memcached_node_names', undef, undef, []), $memcached_port = lookup('memcached_port', undef, undef, 11211), $memcached_ipv6 = lookup('memcached_ipv6', undef, undef, false), $cache_backend = lookup('keystone::cache::backend', undef, undef, false),","# Defaults to hiera('keystone_admin_api_network', undef)# Defaults to hiera('keystone_short_bootstrap_node_name')# Defaults to hiera('apache_certificate_specs', {}).# Defaults to hiera('enable_internal_tls', false)# Defaults to hiera('keystone_enable_db_purge', false)# Defaults to hiera('keystone_public_api_network', undef)# Defaults to hiera('oslo_messaging_rpc_scheme', rabbit)# Defaults to hiera('oslo_messaging_rpc_node_names')# Defaults to hiera('oslo_messaging_rpc_port', 5672)# Defaults to hiera('oslo_messaging_rpc_user_name', 'guest')# Defaults to hiera('oslo_messaging_rpc_password')# Defaults to hiera('oslo_messaging_rpc_use_ssl', '0')# Defaults to hiera('oslo_messaging_notify_scheme', rabbit)# Defaults to hiera('oslo_messaging_notify_node_names')# Defaults to hiera('oslo_messaging_notify_port', 5672)# Defaults to hiera('oslo_messaging_notify_user_name', 'guest')# Defaults to hiera('oslo_messaging_notify_password')# Defaults to hiera('oslo_messaging_notify_use_ssl', '0')# Defaults to hiera('step')# Defaults to hiera('keystone_federation_enabled', false)# Defaults to hiera('keystone_openidc_enabled', false)# Defaults to hiera('memcached_node_names', [])# Defaults to hiera('memcached_port', 11211)# Defauls to hiera('memcached_ipv6', false)# Defaults to hiera('keystone::cache::backend', false) $admin_endpoint_network = hiera('keystone_admin_api_network', undef), $bootstrap_node = hiera('keystone_short_bootstrap_node_name', undef), $certificates_specs = hiera('apache_certificates_specs', {}), $enable_internal_tls = hiera('enable_internal_tls', false), $manage_db_purge = hiera('keystone_enable_db_purge', false), $public_endpoint_network = hiera('keystone_public_api_network', undef), $oslomsg_rpc_proto = hiera('oslo_messaging_rpc_scheme', 'rabbit'), $oslomsg_rpc_hosts = any2array(hiera('oslo_messaging_rpc_node_names', undef)), $oslomsg_rpc_password = hiera('oslo_messaging_rpc_password'), $oslomsg_rpc_port = hiera('oslo_messaging_rpc_port', '5672'), $oslomsg_rpc_username = hiera('oslo_messaging_rpc_user_name', 'guest'), $oslomsg_rpc_use_ssl = hiera('oslo_messaging_rpc_use_ssl', '0'), $oslomsg_notify_proto = hiera('oslo_messaging_notify_scheme', 'rabbit'), $oslomsg_notify_hosts = any2array(hiera('oslo_messaging_notify_node_names', undef)), $oslomsg_notify_password = hiera('oslo_messaging_notify_password'), $oslomsg_notify_port = hiera('oslo_messaging_notify_port', '5672'), $oslomsg_notify_username = hiera('oslo_messaging_notify_user_name', 'guest'), $oslomsg_notify_use_ssl = hiera('oslo_messaging_notify_use_ssl', '0'), $step = Integer(hiera('step')), $keystone_federation_enabled = hiera('keystone_federation_enabled', false), $keystone_openidc_enabled = hiera('keystone_openidc_enabled', false), $memcached_hosts = hiera('memcached_node_names', []), $memcached_port = hiera('memcached_port', 11211), $memcached_ipv6 = hiera('memcached_ipv6', false), $cache_backend = hiera('keystone::cache::backend', false),",50,50
openstack%2Fpuppet-tripleo~master~I22a8e6e4699e5ec8182307a3053eac666b57f8f9,openstack/puppet-tripleo,master,I22a8e6e4699e5ec8182307a3053eac666b57f8f9,Placement: Replace hiera by lookup,MERGED,2022-05-02 08:36:01.000000000,2022-05-04 01:54:24.000000000,2022-05-04 01:54:24.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-05-02 08:36:01.000000000', 'files': ['manifests/profile/base/placement/authtoken.pp', 'manifests/profile/base/placement.pp', 'manifests/profile/base/placement/api.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/29ce3e35e0b30496a439e1da073255911faaf77b', 'message': 'Placement: Replace hiera by lookup\n\nThe hiera function is deprecated and does not work with the latest\nhieradata version 5. It should be replaced by the new lookup\nfunction[1].\n\n[1] https://puppet.com/docs/puppet/7/hiera_automatic.html\n\nWith the lookup function, we can define value type and merge behavior,\nbut these are kept default at this moment to limit scope of this change\nto just simple replacement. Adding value type might be useful to make\nsure the value is in expected type (especially when a boolean value is\nexpected), but we will revisit that later.\n\nexample:\nlookup(<NAME>, [<VALUE TYPE>], [<MERGE BEHAVIOR>], [<DEFAULT VALUE>])\n\nChange-Id: I22a8e6e4699e5ec8182307a3053eac666b57f8f9\n'}]",0,840160,29ce3e35e0b30496a439e1da073255911faaf77b,8,4,1,9816,,,0,"Placement: Replace hiera by lookup

The hiera function is deprecated and does not work with the latest
hieradata version 5. It should be replaced by the new lookup
function[1].

[1] https://puppet.com/docs/puppet/7/hiera_automatic.html

With the lookup function, we can define value type and merge behavior,
but these are kept default at this moment to limit scope of this change
to just simple replacement. Adding value type might be useful to make
sure the value is in expected type (especially when a boolean value is
expected), but we will revisit that later.

example:
lookup(<NAME>, [<VALUE TYPE>], [<MERGE BEHAVIOR>], [<DEFAULT VALUE>])

Change-Id: I22a8e6e4699e5ec8182307a3053eac666b57f8f9
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/60/840160/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/profile/base/placement/authtoken.pp', 'manifests/profile/base/placement.pp', 'manifests/profile/base/placement/api.pp']",3,29ce3e35e0b30496a439e1da073255911faaf77b,tripleo-hiera-v5,"# Defaults to lookup('placement_short_bootstrap_node_name', undef, undef, undef)# Defaults to lookup('apache_certificates_specs', undef, undef, {}).# Defaults to lookup('enable_internal_tls', undef, undef, false)# Defaults to lookup('placement_network', undef, undef, undef)# Defaults to Integer(lookup('step')) $bootstrap_node = lookup('placement_short_bootstrap_node_name', undef, undef, undef), $certificates_specs = lookup('apache_certificates_specs', undef, undef, {}), $enable_internal_tls = lookup('enable_internal_tls', undef, undef, false), $placement_network = lookup('placement_network', undef, undef, undef), $step = Integer(lookup('step')),","# Defaults to hiera('placement_short_bootstrap_node_name')# Defaults to hiera('apache_certificate_specs', {}).# Defaults to hiera('enable_internal_tls', false)# Defaults to hiera('placement_network', undef)# Defaults to hiera('step') $bootstrap_node = hiera('placement_short_bootstrap_node_name', undef), $certificates_specs = hiera('apache_certificates_specs', {}), $enable_internal_tls = hiera('enable_internal_tls', false), $placement_network = hiera('placement_network', undef), $step = Integer(hiera('step')),",26,26
openstack%2Fpuppet-tripleo~master~If97a39d7ffe3cc85646fb49216daeb01e22da7f0,openstack/puppet-tripleo,master,If97a39d7ffe3cc85646fb49216daeb01e22da7f0,Horizon: Replace hiera by lookup,MERGED,2022-05-02 08:32:28.000000000,2022-05-04 01:54:21.000000000,2022-05-04 01:54:21.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-05-02 08:32:28.000000000', 'files': ['manifests/profile/base/horizon.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/bbdc4281c4a9cd6f2c3c1a1c9d41c53855db4465', 'message': 'Horizon: Replace hiera by lookup\n\nThe hiera function is deprecated and does not work with the latest\nhieradata version 5. It should be replaced by the new lookup\nfunction[1].\n\n[1] https://puppet.com/docs/puppet/7/hiera_automatic.html\n\nWith the lookup function, we can define value type and merge behavior,\nbut these are kept default at this moment to limit scope of this change\nto just simple replacement. Adding value type might be useful to make\nsure the value is in expected type (especially when a boolean value is\nexpected), but we will revisit that later.\n\nexample:\nlookup(<NAME>, [<VALUE TYPE>], [<MERGE BEHAVIOR>], [<DEFAULT VALUE>])\n\nChange-Id: If97a39d7ffe3cc85646fb49216daeb01e22da7f0\n'}]",0,840159,bbdc4281c4a9cd6f2c3c1a1c9d41c53855db4465,8,4,1,9816,,,0,"Horizon: Replace hiera by lookup

The hiera function is deprecated and does not work with the latest
hieradata version 5. It should be replaced by the new lookup
function[1].

[1] https://puppet.com/docs/puppet/7/hiera_automatic.html

With the lookup function, we can define value type and merge behavior,
but these are kept default at this moment to limit scope of this change
to just simple replacement. Adding value type might be useful to make
sure the value is in expected type (especially when a boolean value is
expected), but we will revisit that later.

example:
lookup(<NAME>, [<VALUE TYPE>], [<MERGE BEHAVIOR>], [<DEFAULT VALUE>])

Change-Id: If97a39d7ffe3cc85646fb49216daeb01e22da7f0
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/59/840159/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/profile/base/horizon.pp'],1,bbdc4281c4a9cd6f2c3c1a1c9d41c53855db4465,tripleo-hiera-v5,"# Defaults to Integer(lookup('step'))# Defaults to lookup('horizon_short_bootstrap_node_name', undef, undef, undef)# Defaults to lookup('apache_certificates_specs', undef, undef, {}).# Defaults to lookup('enable_internal_tls', undef, undef, false)# Defaults to lookup('horizon_network', undef, undef, undef)# Defaults to lookup('horizon::neutron_options', undef, undef, {})# Defaults to lookup('memcached_node_ips', undef, undef, [])# Defaults to lookup('heat_api_enabled', undef, undef, false)# Defaults to lookup('octavia_api_enabled', undef, undef, false)# Defaults to lookup('manila_api_enabled', undef, undef, false) $step = Integer(lookup('step')), $bootstrap_node = lookup('horizon_short_bootstrap_node_name', undef, undef, undef), $certificates_specs = lookup('apache_certificates_specs', undef, undef, {}), $enable_internal_tls = lookup('enable_internal_tls', undef, undef, false), $horizon_network = lookup('horizon_network', undef, undef, undef), $neutron_options = lookup('horizon::neutron_options', undef, undef, {}), $memcached_ips = lookup('memcached_node_ips', undef, undef, []), $heat_api_enabled = lookup('heat_api_enabled', undef, undef, false), $octavia_api_enabled = lookup('octavia_api_enabled', undef, undef, false), $manila_api_enabled = lookup('manila_api_enabled', undef, undef, false),","# Defaults to hiera('step')# Defaults to hiera('horizon_short_bootstrap_node_name')# Defaults to hiera('apache_certificate_specs', {}).# Defaults to hiera('enable_internal_tls', false)# Defaults to hiera('horizon_network', undef)# Defaults to hiera('horizon::neutron_options', {})# Defaults to hiera('memcached_node_ips', [])# Defaults to hiera('heat_api_enabled') or false# Defaults to hiera('octavia_api_enabled') or false# Defaults to hiera('manila_api_enabled') or false $step = Integer(hiera('step')), $bootstrap_node = hiera('horizon_short_bootstrap_node_name', undef), $certificates_specs = hiera('apache_certificates_specs', {}), $enable_internal_tls = hiera('enable_internal_tls', false), $horizon_network = hiera('horizon_network', undef), $neutron_options = hiera('horizon::neutron_options', {}), $memcached_ips = hiera('memcached_node_ips', []), $heat_api_enabled = hiera('heat_api_enabled', false), $octavia_api_enabled = hiera('octavia_api_enabled', false), $manila_api_enabled = hiera('manila_api_enabled', false),",20,20
openstack%2Ftripleo-quickstart~master~If1ccb9cfe50cec339f3fa10b7dbabdb0f3a83a74,openstack/tripleo-quickstart,master,If1ccb9cfe50cec339f3fa10b7dbabdb0f3a83a74,WIP: Add swap to fs001 and fs035,NEW,2022-05-03 22:28:53.000000000,2022-05-04 01:48:26.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-05-03 22:28:53.000000000', 'files': ['config/general_config/featureset035.yml', 'config/general_config/featureset001.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/be669920d46583fd357efb9f589fe5ea1242b856', 'message': 'WIP: Add swap to fs001 and fs035\n\nChange-Id: If1ccb9cfe50cec339f3fa10b7dbabdb0f3a83a74\n'}]",0,840389,be669920d46583fd357efb9f589fe5ea1242b856,5,2,1,9976,,,0,"WIP: Add swap to fs001 and fs035

Change-Id: If1ccb9cfe50cec339f3fa10b7dbabdb0f3a83a74
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/89/840389/1 && git format-patch -1 --stdout FETCH_HEAD,"['config/general_config/featureset035.yml', 'config/general_config/featureset001.yml']",2,be669920d46583fd357efb9f589fe5ea1242b856,add-swap,"enable_swap: true swap_type: ""file"" ",,6,0
openstack%2Fnova~stable%2Fwallaby~Ia53ff43e6964963cdf295604ba0fb7171389606e,openstack/nova,stable/wallaby,Ia53ff43e6964963cdf295604ba0fb7171389606e,Invalidate provider tree when compute node disappears,MERGED,2021-09-29 23:51:11.000000000,2022-05-04 01:17:20.000000000,2022-05-04 00:45:00.000000000,"[{'_account_id': 2033}, {'_account_id': 7634}, {'_account_id': 10135}, {'_account_id': 14826}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 32029}]","[{'number': 1, 'created': '2021-09-29 23:51:11.000000000', 'files': ['nova/tests/unit/compute/test_resource_tracker.py', 'nova/scheduler/client/report.py', 'nova/compute/resource_tracker.py', 'nova/tests/functional/regressions/test_bug_1853009.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/0fc104eeea065579f7fa9b52794d5151baefc84c', 'message': 'Invalidate provider tree when compute node disappears\n\nThere is a race condition in nova-compute with the ironic virt driver\nas nodes get rebalanced. It can lead to compute nodes being removed in\nthe DB and not repopulated. Ultimately this prevents these nodes from\nbeing scheduled to.\n\nThe issue being addressed here is that if a compute node is deleted by a\nhost which thinks it is an orphan, then the resource provider for that\nnode might also be deleted. The compute host that owns the node might\nnot recreate the resource provider if it exists in the provider tree\ncache.\n\nThis change fixes the issue by clearing resource providers from the\nprovider tree cache for which a compute node entry does not exist. Then,\nwhen the available resource for the node is updated, the resource\nproviders are not found in the cache and get recreated in placement.\n\nChange-Id: Ia53ff43e6964963cdf295604ba0fb7171389606e\nRelated-Bug: #1853009\nRelated-Bug: #1841481\n(cherry picked from commit 2bb4527228c8e6fa4a1fa6cfbe80e8790e4e0789)\n'}]",12,811807,0fc104eeea065579f7fa9b52794d5151baefc84c,60,7,1,4690,,,0,"Invalidate provider tree when compute node disappears

There is a race condition in nova-compute with the ironic virt driver
as nodes get rebalanced. It can lead to compute nodes being removed in
the DB and not repopulated. Ultimately this prevents these nodes from
being scheduled to.

The issue being addressed here is that if a compute node is deleted by a
host which thinks it is an orphan, then the resource provider for that
node might also be deleted. The compute host that owns the node might
not recreate the resource provider if it exists in the provider tree
cache.

This change fixes the issue by clearing resource providers from the
provider tree cache for which a compute node entry does not exist. Then,
when the available resource for the node is updated, the resource
providers are not found in the cache and get recreated in placement.

Change-Id: Ia53ff43e6964963cdf295604ba0fb7171389606e
Related-Bug: #1853009
Related-Bug: #1841481
(cherry picked from commit 2bb4527228c8e6fa4a1fa6cfbe80e8790e4e0789)
",git fetch https://review.opendev.org/openstack/nova refs/changes/07/811807/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_resource_tracker.py', 'nova/scheduler/client/report.py', 'nova/compute/resource_tracker.py', 'nova/tests/functional/regressions/test_bug_1853009.py']",4,0fc104eeea065579f7fa9b52794d5151baefc84c,bug/1853009," # FIXME(mgoddard): Resource provider not recreated here, due to # https://bugs.launchpad.net/nova/+bug/1853159. self.assertFalse(host_b.manager.rt.reportclient._provider_tree.exists( # The resource provider has now been created. self.assertEqual(1, len(rps), rps) self.assertEqual(self.nodename, rps[0]['name'])"," # FIXME(mgoddard): Resource provider not recreated here, because it # exists in the provider tree. See # https://bugs.launchpad.net/nova/+bug/1841481. self.assertTrue(host_b.manager.rt.reportclient._provider_tree.exists( # FIXME(mgoddard): Resource provider not recreated here, because it # exists in the provider tree. See # https://bugs.launchpad.net/nova/+bug/1841481. # There is still no RP. self.assertEqual(0, len(rps), rps) # But the RP it exists in the provider tree. self.assertTrue(host_b.manager.rt.reportclient._provider_tree.exists( self.nodename))",25,20
openstack%2Fpython-tripleoclient~master~Ic37d7123c30b559b1ff41e1d93ce7c7673b85a92,openstack/python-tripleoclient,master,Ic37d7123c30b559b1ff41e1d93ce7c7673b85a92,Create Ceph pools/cephx keys before overcloud deploy,MERGED,2022-04-14 18:40:58.000000000,2022-05-04 01:10:37.000000000,2022-05-04 01:09:12.000000000,"[{'_account_id': 7144}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2022-04-14 18:40:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/005a0a532c2c5c9b56e71bbf41b746f9c832648c', 'message': ""Create Ceph pools/cephx keys before overcloud deploy\n\nAdd new parameters --ceph-client-username, --ceph-client-key,\n--skip-cephx-keys, and --ansible-extra-vars to 'openstack\novercloud ceph deploy' so that the user may create pools\nand cephx keys for OpenStack to access them on the deployed\nCeph cluster. This is optional as 'openstack overcloud deploy'\nwill create the pools/cephx keys later, however the same\nAnsible can now be called to do it earlier.\n\nThe --ansible-extra-vars option can override any variable\nin tripleo-ansible when 'openstack overcloud ceph deploy'\nis called. If the tripleo_cephadm_pools variable is set,\nthen cephx keys will be generated and exported to the\n--output deployed_ceph.yaml. The user may also pass their\nown cephx key and client username.\n\nDepends-On: Ib87a8a5a550676b32302c0cc9c447f8b9fe3a149\nChange-Id: Ic37d7123c30b559b1ff41e1d93ce7c7673b85a92\n""}, {'number': 2, 'created': '2022-04-14 20:33:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/ce0544f1b7c9d91094eaa7f7c6f76c8dcae27daa', 'message': ""Create Ceph pools/cephx keys before overcloud deploy\n\nAdd new parameters --ceph-client-username, --ceph-client-key,\n--skip-cephx-keys, and --ansible-extra-vars to 'openstack\novercloud ceph deploy' so that the user may create pools\nand cephx keys for OpenStack to access them on the deployed\nCeph cluster. This is optional as 'openstack overcloud deploy'\nwill create the pools/cephx keys later, however the same\nAnsible can now be called to do it earlier.\n\nThe --ansible-extra-vars option can override any variable\nin tripleo-ansible when 'openstack overcloud ceph deploy'\nis called. If the tripleo_cephadm_pools variable is set,\nthen cephx keys will be generated and exported to the\n--output deployed_ceph.yaml. The user may also pass their\nown cephx key and client username.\n\nDepends-On: Ib87a8a5a550676b32302c0cc9c447f8b9fe3a149\nChange-Id: Ic37d7123c30b559b1ff41e1d93ce7c7673b85a92\n""}, {'number': 3, 'created': '2022-04-18 16:01:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/640e1ffeb671cdd34f0f2a1f73142eb9a79edcae', 'message': ""Create Ceph pools/cephx keys before overcloud deploy\n\nAdd new parameters --ceph-client-username, --ceph-client-key,\n--skip-cephx-keys, and --ansible-extra-vars to 'openstack\novercloud ceph deploy' so that the user may create pools\nand cephx keys for OpenStack to access them on the deployed\nCeph cluster. This is optional as 'openstack overcloud deploy'\nwill create the pools/cephx keys later, however the same\nAnsible can now be called to do it earlier.\n\nThe --ansible-extra-vars option can override any variable\nin tripleo-ansible when 'openstack overcloud ceph deploy'\nis called. If the tripleo_cephadm_pools variable is set,\nthen cephx keys will be generated and exported to the\n--output deployed_ceph.yaml. The user may also pass their\nown cephx key and client username.\n\nDepends-On: Ib87a8a5a550676b32302c0cc9c447f8b9fe3a149\nChange-Id: Ic37d7123c30b559b1ff41e1d93ce7c7673b85a92\n""}, {'number': 4, 'created': '2022-04-18 19:57:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/02a75ff7c5a0eb019ebd9aa58988fb186fa665b5', 'message': ""Create Ceph pools/cephx keys before overcloud deploy\n\nAdd new parameters --ceph-client-username, --ceph-client-key,\n--skip-cephx-keys, and --ansible-extra-vars to 'openstack\novercloud ceph deploy' so that the user may create pools\nand cephx keys for OpenStack to access them on the deployed\nCeph cluster. This is optional as 'openstack overcloud deploy'\nwill create the pools/cephx keys later, however the same\nAnsible can now be called to do it earlier.\n\nThe --ansible-extra-vars option can override any variable\nin tripleo-ansible when 'openstack overcloud ceph deploy'\nis called. If the tripleo_cephadm_pools variable is set,\nthen cephx keys will be generated and exported to the\n--output deployed_ceph.yaml. The user may also pass their\nown cephx key and client username.\n\nDepends-On: Ib87a8a5a550676b32302c0cc9c447f8b9fe3a149\nChange-Id: Ic37d7123c30b559b1ff41e1d93ce7c7673b85a92\n""}, {'number': 5, 'created': '2022-04-22 20:46:04.000000000', 'files': ['tripleoclient/tests/test_utils.py', 'tripleoclient/utils.py', 'tripleoclient/v2/overcloud_ceph.py', 'tripleoclient/tests/v2/overcloud_ceph/test_overcloud_ceph.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/d58fa71bafb87adbc7f00ab5dc87f9d2999b2432', 'message': ""Create Ceph pools/cephx keys before overcloud deploy\n\nAdd new parameters --ceph-client-username, --ceph-client-key,\n--skip-cephx-keys, and --ansible-extra-vars to 'openstack\novercloud ceph deploy' so that the user may create pools\nand cephx keys for OpenStack to access them on the deployed\nCeph cluster. This is optional as 'openstack overcloud deploy'\nwill create the pools/cephx keys later, however the same\nAnsible can now be called to do it earlier.\n\nThe --ansible-extra-vars option can override any variable\nin tripleo-ansible when 'openstack overcloud ceph deploy'\nis called. If the tripleo_cephadm_pools variable is set,\nthen cephx keys will be generated and exported to the\n--output deployed_ceph.yaml. The user may also pass their\nown cephx key and client username.\n\nDepends-On: Ib87a8a5a550676b32302c0cc9c447f8b9fe3a149\nChange-Id: Ic37d7123c30b559b1ff41e1d93ce7c7673b85a92\n""}]",28,837999,d58fa71bafb87adbc7f00ab5dc87f9d2999b2432,27,5,5,18002,,,0,"Create Ceph pools/cephx keys before overcloud deploy

Add new parameters --ceph-client-username, --ceph-client-key,
--skip-cephx-keys, and --ansible-extra-vars to 'openstack
overcloud ceph deploy' so that the user may create pools
and cephx keys for OpenStack to access them on the deployed
Ceph cluster. This is optional as 'openstack overcloud deploy'
will create the pools/cephx keys later, however the same
Ansible can now be called to do it earlier.

The --ansible-extra-vars option can override any variable
in tripleo-ansible when 'openstack overcloud ceph deploy'
is called. If the tripleo_cephadm_pools variable is set,
then cephx keys will be generated and exported to the
--output deployed_ceph.yaml. The user may also pass their
own cephx key and client username.

Depends-On: Ib87a8a5a550676b32302c0cc9c447f8b9fe3a149
Change-Id: Ic37d7123c30b559b1ff41e1d93ce7c7673b85a92
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/99/837999/5 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/utils.py', 'tripleoclient/v2/overcloud_ceph.py']",2,005a0a532c2c5c9b56e71bbf41b746f9c832648c,deployed_pools,"import yamlfrom tripleo_common.utils import passwords parser.add_argument('--ansible-extra-vars', help=_( ""Path to an existing Ansible vars file which "" ""can override any variable in tripleo-ansible. "" ""If '--ansible-extra-vars vars.yaml' is passed, "" ""then 'ansible-playbook -e @vars.yaml ...' is "" ""used to call tripleo-ansible Ceph roles. "" ""Warning: requires --force as not all possible "" ""options ensure a functional deployment."")) parser.add_argument('--ceph-client-username', help=_( ""Name of the cephx user. E.g. if "" ""'openstack' is used, then "" ""'ceph auth get client.openstack' will "" ""return a working user with key and "" ""capabilities on the deployed Ceph cluster. "" ""Ignored unless tripleo_cephadm_pools is set "" ""via --ansible-extra-vars. "" ""If this parameter is not set and "" ""tripleo_cephadm_keys is set via "" ""--ansible-extra-vars, then "" ""'openstack' will be used. "" ""Used to set CephClientUserName in --output.""), default='openstack'), parser.add_argument('--ceph-client-key', help=_( ""Value of the cephx key. E.g. "" ""'AQC+vYNXgDAgAhAAc8UoYt+OTz5uhV7ItLdwUw=='. "" ""Ignored unless tripleo_cephadm_pools is set "" ""via --ansible-extra-vars. "" ""If this parameter is not set and "" ""tripleo_cephadm_keys is set via "" ""--ansible-extra-vars, then a random "" ""key will be generated. "" ""Used to set CephClientKey in --output.""), default='') parser.add_argument('--skip-cephx-keys', default=False, action='store_true', help=_(""Do not create cephx keys even if "" ""tripleo_cephadm_pools is set via "" ""--ansible-extra-vars. If this option "" ""is used, then even the defaults of "" ""--ceph-client-key and "" ""--ceph-client-username are ignored, but "" ""the pools defined via --ansible-extra-vars "" ""are still be created."")) extra_vars_file = None if parsed_args.ansible_extra_vars and not parsed_args.force: raise oscexc.CommandError( ""--ansible-extra-vars requires --force."") if parsed_args.ansible_extra_vars and parsed_args.force: if not os.path.exists(parsed_args.ansible_extra_vars): raise oscexc.CommandError( ""Ansible vars file not found --ansible-extra-vars %s."" % os.path.abspath(parsed_args.ansible_extra_vars)) else: # utils.run_ansible_playbook() assums extra_vars_file is a dict with open(os.path.abspath(parsed_args.ansible_extra_vars)) as f: extra_vars_file = yaml.safe_load(f) if (not parsed_args.skip_cephx_keys and 'tripleo_cephadm_pools' in extra_vars_file and 'tripleo_cephadm_keys' not in extra_vars_file): # create tripleo_cephadm_keys and add it to extra_vars self.log.debug(""Generating tripleo_cephadm_keys"") if len(parsed_args.ceph_client_key) == 0: parsed_args.ceph_client_key = passwords.create_cephx_key() extra_vars['tripleo_cephadm_keys'] = \ oooutils.get_tripleo_cephadm_keys( parsed_args.ceph_client_username, parsed_args.ceph_client_key, list(map(lambda x: x.get('name', ''), extra_vars_file['tripleo_cephadm_pools']))) # pass CLI args to THT via --output deployed_ceph.yaml extra_vars['ceph_client_key'] = parsed_args.ceph_client_key extra_vars['ceph_client_username'] =\ parsed_args.ceph_client_username else: self.log.debug(""Not generating tripleo_cephadm_keys. "" ""Either --skip-cephx-keys was used, "" ""or tripleo_cephadm_pools was not "" ""in %s, or tripleo_cephadm_keys was "" ""in %s."" % ( (parsed_args.ansible_extra_vars,)*2)) extra_vars_file=extra_vars_file, extra_vars_file=extra_vars_file, extra_vars_file=extra_vars_file,",,110,0
openstack%2Fpuppet-tripleo~master~I19a031ee4f4b2a49b68515f17e5ed13179406dd8,openstack/puppet-tripleo,master,I19a031ee4f4b2a49b68515f17e5ed13179406dd8,HAProxy: deprecate activate_httplog,MERGED,2022-04-27 01:30:38.000000000,2022-05-04 01:10:22.000000000,2022-05-04 01:09:15.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-04-27 01:30:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/a1655e5781db8436c83eb52051b8ac4eb78673c0', 'message': ""Deprecate activate_httplog from haproxy.pp\n\nhttplog is always enabled for all http endpoints by default\nregardless of activate_httplog parameter from a bug/1930266.\nThis parameter has no effects now and shouldn't be used.\n\nChange-Id: I19a031ee4f4b2a49b68515f17e5ed13179406dd8\n""}, {'number': 2, 'created': '2022-04-27 01:33:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/32f3378549ff9eb84017d69536a9529165abaf3c', 'message': ""HAProxy: deprecate activate_httplog\n\nhttplog is always enabled for all http endpoints by default\nregardless of activate_httplog parameter from a bug/1930266.\nThis parameter has no effects now and shouldn't be used.\n\nChange-Id: I19a031ee4f4b2a49b68515f17e5ed13179406dd8\n""}, {'number': 3, 'created': '2022-04-27 05:46:22.000000000', 'files': ['releasenotes/notes/haproxy-remove-activate_httplog-87325732ab9ca721.yaml', 'manifests/haproxy.pp', 'spec/classes/tripleo_haproxy_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/8794022fcb72f0ca4c4a33675bbfba960c84e8f9', 'message': ""HAProxy: deprecate activate_httplog\n\nhttplog is always enabled for all http endpoints by default\nregardless of activate_httplog parameter from a bug/1930266.\nThis parameter has no effects now and shouldn't be used.\n\nChange-Id: I19a031ee4f4b2a49b68515f17e5ed13179406dd8\n""}]",0,839454,8794022fcb72f0ca4c4a33675bbfba960c84e8f9,13,5,3,34564,,,0,"HAProxy: deprecate activate_httplog

httplog is always enabled for all http endpoints by default
regardless of activate_httplog parameter from a bug/1930266.
This parameter has no effects now and shouldn't be used.

Change-Id: I19a031ee4f4b2a49b68515f17e5ed13179406dd8
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/54/839454/3 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/haproxy-remove-activate_httplog-87325732ab9ca721.yaml', 'manifests/haproxy.pp', 'spec/classes/tripleo_haproxy_spec.rb']",3,a1655e5781db8436c83eb52051b8ac4eb78673c0,deprecate-activate_httplog,," describe ""activate httplog"" do before :each do params.merge!({ :activate_httplog => true, }) end it 'should activate httplog' do is_expected.to contain_class('haproxy').with( :defaults_options => { ""mode""=>""tcp"", ""log""=>""global"", ""retries""=>""3"", ""timeout""=> [ ""http-request 10s"", ""queue 2m"", ""connect 10s"", ""client 2m"", ""server 2m"", ""check 30s"", ], ""maxconn""=>4096, ""option""=>""httplog"", } ) end end ",20,39
openstack%2Ftripleo-ansible~master~Ib87a8a5a550676b32302c0cc9c447f8b9fe3a149,openstack/tripleo-ansible,master,Ib87a8a5a550676b32302c0cc9c447f8b9fe3a149,Create Ceph pools/cephx keys with cli-deployed-ceph.yaml,MERGED,2022-04-14 18:39:31.000000000,2022-05-04 01:09:09.000000000,2022-05-04 01:09:09.000000000,"[{'_account_id': 6796}, {'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2022-04-14 18:39:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/610d4e7eeb568d5494aa237378384a1ac2049a32', 'message': ""Create Ceph pools/cephx keys with cli-deployed-ceph.yaml\n\nIf the tripleo_cephadm_pools and tripleo_cephadm_keys\nparameters are defined, then call the tripleo_cephadm\nrole's pools, keys, and export tasks.\n\nIf the tripleo_cephadm_pools were created, then ensure\nit's values are exported under CephPools in the deployed\nCeph file. Do the same for tripleo_ceph_client_vars,\nceph_client_key, and ceph_client_username. These last\ntwo values are only used by TripleO Heat Templates so\nthey have no defaults in the the tripleo_cephadm role.\nThey're only optionally passed through as --extra-vars\nby python-tripleoclient.\n\nAlso, handle when tripleo_enabled_services is undefined\nand ensure tripleo_ceph_client_vars path exists before\ncreating the file.\n\nChange-Id: Ib87a8a5a550676b32302c0cc9c447f8b9fe3a149\n""}, {'number': 2, 'created': '2022-04-22 18:42:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/78e2b6e386ad46fbbdb2d839d3d08bfed2c3530e', 'message': ""Create Ceph pools/cephx keys with cli-deployed-ceph.yaml\n\nIf the tripleo_cephadm_pools and tripleo_cephadm_keys\nparameters are defined, then call the tripleo_cephadm\nrole's pools, keys, and export tasks.\n\nIf the tripleo_cephadm_pools were created, then ensure\nit's values are exported under CephPools in the deployed\nCeph file. Do the same for tripleo_ceph_client_vars,\nceph_client_key, and ceph_client_username. These last\ntwo values are only used by TripleO Heat Templates so\nthey have no defaults in the the tripleo_cephadm role.\nThey're only optionally passed through as --extra-vars\nby python-tripleoclient.\n\nAlso, handle when tripleo_enabled_services is undefined\nand ensure tripleo_ceph_client_vars path exists before\ncreating the file.\n\nChange-Id: Ib87a8a5a550676b32302c0cc9c447f8b9fe3a149\n""}, {'number': 3, 'created': '2022-04-29 12:07:57.000000000', 'files': ['tripleo_ansible/roles/tripleo_cephadm/templates/deployed_ceph.yaml.j2', 'tripleo_ansible/roles/tripleo_cephadm/tasks/pools.yaml', 'tripleo_ansible/roles/tripleo_cephadm/tasks/export.yaml', 'tripleo_ansible/playbooks/cli-deployed-ceph.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/210447990474940923e1be58e726ccf5bb0b27b3', 'message': ""Create Ceph pools/cephx keys with cli-deployed-ceph.yaml\n\nIf the tripleo_cephadm_pools and tripleo_cephadm_keys\nparameters are defined, then call the tripleo_cephadm\nrole's pools, keys, and export tasks.\n\nIf the tripleo_cephadm_pools were created, then ensure\nit's values are exported under CephPools in the deployed\nCeph file. Do the same for tripleo_ceph_client_vars,\nceph_client_key, and ceph_client_username. These last\ntwo values are only used by TripleO Heat Templates so\nthey have no defaults in the the tripleo_cephadm role.\nThey're only optionally passed through as --extra-vars\nby python-tripleoclient.\n\nAlso, handle when tripleo_enabled_services is undefined\nand ensure tripleo_ceph_client_vars path exists before\ncreating the file.\n\nChange-Id: Ib87a8a5a550676b32302c0cc9c447f8b9fe3a149\n""}]",8,837998,210447990474940923e1be58e726ccf5bb0b27b3,26,5,3,18002,,,0,"Create Ceph pools/cephx keys with cli-deployed-ceph.yaml

If the tripleo_cephadm_pools and tripleo_cephadm_keys
parameters are defined, then call the tripleo_cephadm
role's pools, keys, and export tasks.

If the tripleo_cephadm_pools were created, then ensure
it's values are exported under CephPools in the deployed
Ceph file. Do the same for tripleo_ceph_client_vars,
ceph_client_key, and ceph_client_username. These last
two values are only used by TripleO Heat Templates so
they have no defaults in the the tripleo_cephadm role.
They're only optionally passed through as --extra-vars
by python-tripleoclient.

Also, handle when tripleo_enabled_services is undefined
and ensure tripleo_ceph_client_vars path exists before
creating the file.

Change-Id: Ib87a8a5a550676b32302c0cc9c447f8b9fe3a149
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/98/837998/3 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_cephadm/templates/deployed_ceph.yaml.j2', 'tripleo_ansible/roles/tripleo_cephadm/tasks/pools.yaml', 'tripleo_ansible/roles/tripleo_cephadm/tasks/export.yaml', 'tripleo_ansible/playbooks/cli-deployed-ceph.yaml']",4,610d4e7eeb568d5494aa237378384a1ac2049a32,deployed_pools, - name: Create ceph pools if tripleo_cephadm_pools was set import_role: name: tripleo_cephadm tasks_from: pools when: - tripleo_cephadm_pools is defined - tripleo_cephadm_pools | length > 0 - name: Create Keys if tripleo_cephadm_keys was set import_role: name: tripleo_cephadm tasks_from: keys when: - tripleo_cephadm_keys is defined - tripleo_cephadm_keys | length > 0 - name: Export configuration for tripleo_ceph_client import_role: name: tripleo_cephadm tasks_from: export when: - tripleo_cephadm_pools is defined - tripleo_cephadm_pools | length > 0 - tripleo_cephadm_keys is defined - tripleo_cephadm_keys | length > 0 ,,46,1
openstack%2Ftripleo-ansible~stable%2Fwallaby~Iea8b7cc6fe4bede2f17f01bafa9e931ecafed951,openstack/tripleo-ansible,stable/wallaby,Iea8b7cc6fe4bede2f17f01bafa9e931ecafed951,Mysql has been replaced by mariadb,MERGED,2022-04-26 09:47:36.000000000,2022-05-04 01:09:07.000000000,2022-05-04 01:09:07.000000000,"[{'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 8449}, {'_account_id': 22348}, {'_account_id': 22954}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-04-26 09:47:36.000000000', 'files': ['tripleo_ansible/roles/backup_and_restore/tasks/db_backup.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/pacemaker_start.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/e6bfedfa7d16f62841961922e797a53fbfcb52bd', 'message': 'Mysql has been replaced by mariadb\n\nMariadb is replacing mysql from Wallaby onwards. There was still a\ncouple of places that was searching specifically for the mysqld\nprocess, and now it has to be moved to mariadbd.\n\nChange-Id: Iea8b7cc6fe4bede2f17f01bafa9e931ecafed951\n(cherry picked from commit 3f16b3b212225a49d45b1419981c90bccf235d21)\n'}]",1,839332,e6bfedfa7d16f62841961922e797a53fbfcb52bd,9,6,1,32968,,,0,"Mysql has been replaced by mariadb

Mariadb is replacing mysql from Wallaby onwards. There was still a
couple of places that was searching specifically for the mysqld
process, and now it has to be moved to mariadbd.

Change-Id: Iea8b7cc6fe4bede2f17f01bafa9e931ecafed951
(cherry picked from commit 3f16b3b212225a49d45b1419981c90bccf235d21)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/32/839332/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/backup_and_restore/tasks/db_backup.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/pacemaker_start.yml']",2,e6bfedfa7d16f62841961922e797a53fbfcb52bd,17.0-stable/wallaby, until: mysql_result is search('mariadbd'), until: mysql_result is search('mysqld'),2,2
openstack%2Ftempest~master~Idbde6af7b574a045941edc92e7224bdd45f9df64,openstack/tempest,master,Idbde6af7b574a045941edc92e7224bdd45f9df64,Fix remote_client param description,MERGED,2022-04-21 04:38:54.000000000,2022-05-04 00:46:14.000000000,2022-05-04 00:44:52.000000000,"[{'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2022-04-21 04:38:54.000000000', 'files': ['tempest/lib/common/utils/linux/remote_client.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/4db4e51cc90ad255822b9f39c1fc28902585bdc3', 'message': 'Fix remote_client param description\n\npkey param should accept private key and not public\n\nChange-Id: Idbde6af7b574a045941edc92e7224bdd45f9df64\n'}]",5,838812,4db4e51cc90ad255822b9f39c1fc28902585bdc3,15,2,1,11075,,,0,"Fix remote_client param description

pkey param should accept private key and not public

Change-Id: Idbde6af7b574a045941edc92e7224bdd45f9df64
",git fetch https://review.opendev.org/openstack/tempest refs/changes/12/838812/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/lib/common/utils/linux/remote_client.py'],1,4db4e51cc90ad255822b9f39c1fc28902585bdc3,fix_pkey_doc, :param pkey: Ssh private key, :param pkey: Ssh public key,1,1
openstack%2Fproject-config~master~I455568f1e261060aefe555e9f5b4ef0830b60157,openstack/project-config,master,I455568f1e261060aefe555e9f5b4ef0830b60157,Use https with apt in our ubuntu image builds,MERGED,2022-05-03 23:32:10.000000000,2022-05-04 00:45:54.000000000,2022-05-04 00:19:03.000000000,"[{'_account_id': 5263}, {'_account_id': 7118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-03 23:32:10.000000000', 'files': ['nodepool/nodepool.yaml', 'nodepool/nb03.opendev.org.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/322b261b203be5bf0a0b41c96b6c07bd54390142', 'message': ""Use https with apt in our ubuntu image builds\n\nDebian is already doing this and according to ubuntu package search\napt-transport-https is a transitional package at least as far back as\nbionic. We leave xenial with http as it isn't clear if apt there\nsupports https.\n\nChange-Id: I455568f1e261060aefe555e9f5b4ef0830b60157\n""}]",0,840392,322b261b203be5bf0a0b41c96b6c07bd54390142,9,3,1,4146,,,0,"Use https with apt in our ubuntu image builds

Debian is already doing this and according to ubuntu package search
apt-transport-https is a transitional package at least as far back as
bionic. We leave xenial with http as it isn't clear if apt there
supports https.

Change-Id: I455568f1e261060aefe555e9f5b4ef0830b60157
",git fetch https://review.opendev.org/openstack/project-config refs/changes/92/840392/1 && git format-patch -1 --stdout FETCH_HEAD,"['nodepool/nodepool.yaml', 'nodepool/nb03.opendev.org.yaml']",2,322b261b203be5bf0a0b41c96b6c07bd54390142,arm64-jammy, DIB_DISTRIBUTION_MIRROR: 'https://mirror.regionone.linaro-us.opendev.org/ubuntu-ports' DIB_DISTRIBUTION_MIRROR: 'https://mirror.regionone.linaro-us.opendev.org/ubuntu-ports', DIB_DISTRIBUTION_MIRROR: 'http://mirror.regionone.linaro-us.opendev.org/ubuntu-ports' DIB_DISTRIBUTION_MIRROR: 'http://mirror.regionone.linaro-us.opendev.org/ubuntu-ports',5,5
openstack%2Ftripleo-ansible~master~Ie355206045f430d1353b1557f43bd99c85edd86e,openstack/tripleo-ansible,master,Ie355206045f430d1353b1557f43bd99c85edd86e,[RFE] Add a new Snapshot And Revert feature to Backup and Restore,MERGED,2022-03-31 11:23:05.000000000,2022-05-04 00:39:04.000000000,2022-05-04 00:39:04.000000000,"[{'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 8449}, {'_account_id': 16046}, {'_account_id': 22348}, {'_account_id': 22954}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-03-31 11:23:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/0f0750855379d1603be64b75a72248692d892da8', 'message': '[RFE] Add a new Snapshot And Revert feature to Backup and Restore\n\nThis RFE improves the B&R capabilities to better support the\nupgrades context. Before an upgrade, it gives a lot of security to the\nuser to have a backup that can be recovered whenever something goes\nwrong or the upgrade window closes. The main requirement for upgrades is\nto be quick, both in the backup and in the restore phases, but most of\nthe B&R provided features (such as storing long-lived backups on a\ndifferent machine) are taking a lot of time and they are not useful for\nupgrades use-case.\n\nIn this context, we developed the Snapshot and Revert feature that\nconfigures an LVM-enabled system to use LVM snapshots.\n\nChange-Id: Ie355206045f430d1353b1557f43bd99c85edd86e\n'}, {'number': 2, 'created': '2022-03-31 11:57:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/e9bbae268144bc5b49dd24bb0552f51093fd6881', 'message': '[RFE] Add a new Snapshot And Revert feature to Backup and Restore\n\nThis RFE improves the B&R capabilities to better support the\nupgrades context. Before an upgrade, it gives a lot of security to the\nuser to have a backup that can be recovered whenever something goes\nwrong or the upgrade window closes. The main requirement for upgrades is\nto be quick, both in the backup and in the restore phases, but most of\nthe B&R provided features (such as storing long-lived backups on a\ndifferent machine) are taking a lot of time and they are not useful for\nupgrades use-case.\n\nIn this context, we developed the Snapshot and Revert feature that\nconfigures an LVM-enabled system to use LVM snapshots.\n\nChange-Id: Ie355206045f430d1353b1557f43bd99c85edd86e\n'}, {'number': 3, 'created': '2022-03-31 12:07:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/b8704dcd7486f98a025d6b00d288710b6a1583bd', 'message': '[RFE] Add a new Snapshot And Revert feature to Backup and Restore\n\nThis RFE improves the B&R capabilities to better support the\nupgrades context. Before an upgrade, it gives a lot of security to the\nuser to have a backup that can be recovered whenever something goes\nwrong or the upgrade window closes. The main requirement for upgrades is\nto be quick, both in the backup and in the restore phases, but most of\nthe B&R provided features (such as storing long-lived backups on a\ndifferent machine) are taking a lot of time and they are not useful for\nupgrades use-case.\n\nIn this context, we developed the Snapshot and Revert feature that\nconfigures an LVM-enabled system to use LVM snapshots.\n\nChange-Id: Ie355206045f430d1353b1557f43bd99c85edd86e\n'}, {'number': 4, 'created': '2022-03-31 12:12:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/25aee338a3e4cc97f9e8d9dc1992ecac50208569', 'message': '[RFE] Add a new Snapshot And Revert feature to Backup and Restore\n\nThis RFE improves the B&R capabilities to better support the\nupgrades context. Before an upgrade, it gives a lot of security to the\nuser to have a backup that can be recovered whenever something goes\nwrong or the upgrade window closes. The main requirement for upgrades is\nto be quick, both in the backup and in the restore phases, but most of\nthe B&R provided features (such as storing long-lived backups on a\ndifferent machine) are taking a lot of time and they are not useful for\nupgrades use-case.\n\nIn this context, we developed the Snapshot and Revert feature that\nconfigures an LVM-enabled system to use LVM snapshots.\n\nChange-Id: Ie355206045f430d1353b1557f43bd99c85edd86e\n'}, {'number': 5, 'created': '2022-04-01 07:25:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/adbfcd913d86853f683b7ca6045d6409ee20f6a5', 'message': '[RFE] Add a new Snapshot And Revert feature to Backup and Restore\n\nThis RFE improves the B&R capabilities to better support the\nupgrades context. Before an upgrade, it gives a lot of security to the\nuser to have a backup that can be recovered whenever something goes\nwrong or the upgrade window closes. The main requirement for upgrades is\nto be quick, both in the backup and in the restore phases, but most of\nthe B&R provided features (such as storing long-lived backups on a\ndifferent machine) are taking a lot of time and they are not useful for\nupgrades use-case.\n\nIn this context, we developed the Snapshot and Revert feature that\nconfigures an LVM-enabled system to use LVM snapshots.\n\nChange-Id: Ie355206045f430d1353b1557f43bd99c85edd86e\n'}, {'number': 6, 'created': '2022-04-04 08:15:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/cd34a8fe98ca54ac98fe44de650eed3811872dca', 'message': '[RFE] Add a new Snapshot And Revert feature to Backup and Restore\n\nThis RFE improves the B&R capabilities to better support the\nupgrades context. Before an upgrade, it gives a lot of security to the\nuser to have a backup that can be recovered whenever something goes\nwrong or the upgrade window closes. The main requirement for upgrades is\nto be quick, both in the backup and in the restore phases, but most of\nthe B&R provided features (such as storing long-lived backups on a\ndifferent machine) are taking a lot of time and they are not useful for\nupgrades use-case.\n\nIn this context, we developed the Snapshot and Revert feature that\nconfigures an LVM-enabled system to use LVM snapshots.\n\nChange-Id: Ie355206045f430d1353b1557f43bd99c85edd86e\n'}, {'number': 7, 'created': '2022-04-04 11:29:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/8a91d7532035b86d17496fc4bc4a07cb738eb18f', 'message': '[RFE] Add a new Snapshot And Revert feature to Backup and Restore\n\nThis RFE improves the B&R capabilities to better support the\nupgrades context. Before an upgrade, it gives a lot of security to the\nuser to have a backup that can be recovered whenever something goes\nwrong or the upgrade window closes. The main requirement for upgrades is\nto be quick, both in the backup and in the restore phases, but most of\nthe B&R provided features (such as storing long-lived backups on a\ndifferent machine) are taking a lot of time and they are not useful for\nupgrades use-case.\n\nIn this context, we developed the Snapshot and Revert feature that\nconfigures an LVM-enabled system to use LVM snapshots.\n\nChange-Id: Ie355206045f430d1353b1557f43bd99c85edd86e\n'}, {'number': 8, 'created': '2022-04-04 11:30:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/07362348412fc05b7a48836c9d3a99a947c458d2', 'message': '[RFE] Add a new Snapshot And Revert feature to Backup and Restore\n\nThis RFE improves the B&R capabilities to better support the\nupgrades context. Before an upgrade, it gives a lot of security to the\nuser to have a backup that can be recovered whenever something goes\nwrong or the upgrade window closes. The main requirement for upgrades is\nto be quick, both in the backup and in the restore phases, but most of\nthe B&R provided features (such as storing long-lived backups on a\ndifferent machine) are taking a lot of time and they are not useful for\nupgrades use-case.\n\nIn this context, we developed the Snapshot and Revert feature that\nconfigures an LVM-enabled system to use LVM snapshots.\n\nChange-Id: Ie355206045f430d1353b1557f43bd99c85edd86e\n'}, {'number': 9, 'created': '2022-04-04 13:09:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/926ad921e24c66b5b55d4c60557201f6899c7bc4', 'message': '[RFE] Add a new Snapshot And Revert feature to Backup and Restore\n\nThis RFE improves the B&R capabilities to better support the\nupgrades context. Before an upgrade, it gives a lot of security to the\nuser to have a backup that can be recovered whenever something goes\nwrong or the upgrade window closes. The main requirement for upgrades is\nto be quick, both in the backup and in the restore phases, but most of\nthe B&R provided features (such as storing long-lived backups on a\ndifferent machine) are taking a lot of time and they are not useful for\nupgrades use-case.\n\nIn this context, we developed the Snapshot and Revert feature that\nconfigures an LVM-enabled system to use LVM snapshots.\n\nChange-Id: Ie355206045f430d1353b1557f43bd99c85edd86e\n'}, {'number': 10, 'created': '2022-04-19 10:15:09.000000000', 'files': ['tripleo_ansible/roles/snapshot_and_revert/molecule/default/molecule.yml', 'tripleo_ansible/roles/snapshot_and_revert/tasks/main.yml', 'zuul.d/molecule.yaml', 'tripleo_ansible/roles/snapshot_and_revert/defaults/main.yml', 'tripleo_ansible/roles/snapshot_and_revert/meta/main.yml', 'tripleo_ansible/playbooks/cli-overcloud-snapshot.yaml', 'tripleo_ansible/roles/snapshot_and_revert/molecule/default/converge.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/92b9309e376861110622a6a2fc7bd6e1b5fc4d77', 'message': '[RFE] Add a new Snapshot And Revert feature to Backup and Restore\n\nThis RFE improves the B&R capabilities to better support the\nupgrades context. Before an upgrade, it gives a lot of security to the\nuser to have a backup that can be recovered whenever something goes\nwrong or the upgrade window closes. The main requirement for upgrades is\nto be quick, both in the backup and in the restore phases, but most of\nthe B&R provided features (such as storing long-lived backups on a\ndifferent machine) are taking a lot of time and they are not useful for\nupgrades use-case.\n\nIn this context, we developed the Snapshot and Revert feature that\nconfigures an LVM-enabled system to use LVM snapshots.\n\nChange-Id: Ie355206045f430d1353b1557f43bd99c85edd86e\n'}]",15,835961,92b9309e376861110622a6a2fc7bd6e1b5fc4d77,35,7,10,32968,,,0,"[RFE] Add a new Snapshot And Revert feature to Backup and Restore

This RFE improves the B&R capabilities to better support the
upgrades context. Before an upgrade, it gives a lot of security to the
user to have a backup that can be recovered whenever something goes
wrong or the upgrade window closes. The main requirement for upgrades is
to be quick, both in the backup and in the restore phases, but most of
the B&R provided features (such as storing long-lived backups on a
different machine) are taking a lot of time and they are not useful for
upgrades use-case.

In this context, we developed the Snapshot and Revert feature that
configures an LVM-enabled system to use LVM snapshots.

Change-Id: Ie355206045f430d1353b1557f43bd99c85edd86e
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/61/835961/5 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/snapshot_and_revert/tasks/main.yml', 'tripleo_ansible/roles/snapshot_and_revert/defaults/main.yml', 'tripleo_ansible/roles/snapshot_and_revert/meta/main.yml', 'tripleo_ansible/roles/snapshot_and_revert/molecule/prepare.yml', 'tripleo_ansible/playbooks/cli-overcloud-snapshot.yaml', 'tripleo_ansible/roles/snapshot_and_revert/molecule/molecule.yml', 'tripleo_ansible/roles/snapshot_and_revert/molecule/converge.yml']",7,0f0750855379d1603be64b75a72248692d892da8,snapshot_and_revert,"--- # Copyright 2019 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. - name: Converge become: true hosts: all roles: - role: snapshot_and_revert ",,364,0
openstack%2Fcinder~master~I1333b0471974e94eb2b3b79ea70a06e0afe28cd9,openstack/cinder,master,I1333b0471974e94eb2b3b79ea70a06e0afe28cd9,Fix cacheable capability,MERGED,2022-04-22 13:56:52.000000000,2022-05-04 00:07:01.000000000,2022-04-29 19:50:24.000000000,"[{'_account_id': 597}, {'_account_id': 5314}, {'_account_id': 20813}, {'_account_id': 22348}, {'_account_id': 32761}]","[{'number': 1, 'created': '2022-04-22 13:56:52.000000000', 'files': ['cinder/volume/drivers/dell_emc/powermax/iscsi.py', 'cinder/volume/drivers/rsd.py', 'cinder/volume/manager.py', 'cinder/volume/drivers/zadara/zadara.py', 'cinder/volume/drivers/stx/iscsi.py', 'cinder/volume/drivers/huawei/huawei_driver.py', 'cinder/volume/drivers/fujitsu/eternus_dx/eternus_dx_iscsi.py', 'cinder/volume/drivers/ibm/storwize_svc/storwize_svc_iscsi.py', 'cinder/volume/drivers/dell_emc/sc/storagecenter_common.py', 'cinder/volume/drivers/prophetstor/dplcommon.py', 'cinder/volume/drivers/hpe/hpe_3par_iscsi.py', 'cinder/volume/drivers/fujitsu/eternus_dx/eternus_dx_fc.py', 'cinder/volume/drivers/hpe/hpe_3par_fc.py', 'cinder/volume/drivers/infinidat.py', 'cinder/volume/drivers/rbd.py', 'cinder/volume/drivers/vmware/fcd.py', 'cinder/volume/drivers/pure.py', 'cinder/volume/drivers/solidfire.py', 'cinder/volume/drivers/nexenta/nfs.py', 'cinder/volume/drivers/storpool.py', 'cinder/volume/drivers/nexenta/iscsi.py', 'cinder/volume/drivers/windows/iscsi.py', 'cinder/volume/drivers/prophetstor/dpl_iscsi.py', 'cinder/volume/drivers/stx/fc.py', 'cinder/volume/drivers/inspur/instorage/instorage_common.py', 'cinder/volume/drivers/dell_emc/powerstore/adapter.py', 'cinder/common/constants.py', 'cinder/volume/drivers/fusionstorage/dsware.py', 'cinder/volume/targets/iscsi.py', 'cinder/volume/drivers/hpe/nimble.py', 'cinder/volume/drivers/datera/datera_api21.py', 'releasenotes/notes/fix-cacheable-capability-f893520d79c3db60.yaml', 'cinder/volume/drivers/qnap.py', 'cinder/volume/drivers/dell_emc/sc/storagecenter_api.py', 'cinder/volume/drivers/netapp/dataontap/nfs_cmode.py', 'cinder/volume/drivers/hedvig/hedvig_cinder.py', 'cinder/volume/drivers/sandstone/sds_driver.py', 'cinder/volume/drivers/veritas_access/veritas_iscsi.py', 'cinder/volume/drivers/inspur/as13000/as13000_driver.py', 'cinder/volume/drivers/macrosan/driver.py', 'cinder/volume/drivers/nexenta/ns5/iscsi.py', 'cinder/volume/drivers/prophetstor/dpl_fc.py', 'cinder/volume/drivers/veritas_cnfs.py', 'cinder/volume/drivers/linstordrv.py', 'cinder/volume/drivers/kioxia/kumoscale.py', 'cinder/volume/drivers/datera/datera_api22.py', 'cinder/volume/drivers/kaminario/kaminario_iscsi.py', 'cinder/volume/drivers/dell_emc/powermax/fc.py', 'cinder/volume/drivers/ibm/gpfs.py', 'cinder/volume/drivers/toyou/acs5000/acs5000_common.py', 'cinder/volume/drivers/dell_emc/powerflex/driver.py', 'cinder/volume/drivers/nexenta/ns5/nfs.py', 'cinder/volume/drivers/vmware/vmdk.py', 'cinder/volume/drivers/dell_emc/unity/adapter.py', 'cinder/volume/drivers/toyou/acs5000/acs5000_iscsi.py', 'cinder/volume/drivers/dell_emc/sc/storagecenter_fc.py', 'cinder/volume/drivers/ceph/rbd_iscsi.py', 'cinder/volume/driver.py', 'cinder/volume/drivers/spdk.py', 'cinder/volume/drivers/open_e/iscsi.py', 'cinder/volume/drivers/toyou/acs5000/acs5000_fc.py', 'cinder/volume/drivers/dell_emc/xtremio.py', 'cinder/volume/drivers/nec/volume_helper.py', 'cinder/volume/targets/nvmeof.py', 'cinder/volume/drivers/lightos.py', 'cinder/volume/drivers/kaminario/kaminario_fc.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/68311a0794435f98d2b86b2faa9970208f50b746', 'message': 'Fix cacheable capability\n\nWhen using the LVM cinder driver the cacheable capability is not being\nreported by the backend to the scheduler when the transport protocol is\nNVMe-oF (nvmet target driver), but it is properly reported if it\'s the\nLIO target driver.\n\nThis also happens with other drivers that should be reporting that they\nare cacheable.\n\nThis happens because even if the volume manager correctly uses the\n""storage_protocol"" reported by the drivers on their stats to add the\n""cacheable"" capability for iSCSI, FC, and NVMe-oF protocols, it isn\'t\ntaking into account all the variants these have:\n\n- FC, fc, fibre_channel\n- iSCSI, iscsi\n- NVMe-oF, nvmeof, NVMeOF\n\nSame thing happens for the shared_targets of the volumes, which are not\nmissing an iSCSI variant.\n\nThis patch creates constants for the different storge protocols to try\nto avoid these variants (as agreed on the PTG) and also makes the\ncacheable and shared_targets check against all the existing variants.\n\nThis change facilitates identifying NVMe-oF drivers (for bug 1961102)\nfor the shared_targets part.\n\nCloses-Bug: #1969366\nRelated-Bug: #1961102\nChange-Id: I1333b0471974e94eb2b3b79ea70a06e0afe28cd9\n'}]",3,839063,68311a0794435f98d2b86b2faa9970208f50b746,35,5,1,9535,,,0,"Fix cacheable capability

When using the LVM cinder driver the cacheable capability is not being
reported by the backend to the scheduler when the transport protocol is
NVMe-oF (nvmet target driver), but it is properly reported if it's the
LIO target driver.

This also happens with other drivers that should be reporting that they
are cacheable.

This happens because even if the volume manager correctly uses the
""storage_protocol"" reported by the drivers on their stats to add the
""cacheable"" capability for iSCSI, FC, and NVMe-oF protocols, it isn't
taking into account all the variants these have:

- FC, fc, fibre_channel
- iSCSI, iscsi
- NVMe-oF, nvmeof, NVMeOF

Same thing happens for the shared_targets of the volumes, which are not
missing an iSCSI variant.

This patch creates constants for the different storge protocols to try
to avoid these variants (as agreed on the PTG) and also makes the
cacheable and shared_targets check against all the existing variants.

This change facilitates identifying NVMe-oF drivers (for bug 1961102)
for the shared_targets part.

Closes-Bug: #1969366
Related-Bug: #1961102
Change-Id: I1333b0471974e94eb2b3b79ea70a06e0afe28cd9
",git fetch https://review.opendev.org/openstack/cinder refs/changes/63/839063/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/dell_emc/powermax/iscsi.py', 'cinder/volume/drivers/rsd.py', 'cinder/volume/manager.py', 'cinder/volume/drivers/zadara/zadara.py', 'cinder/volume/drivers/stx/iscsi.py', 'cinder/volume/drivers/huawei/huawei_driver.py', 'cinder/volume/drivers/fujitsu/eternus_dx/eternus_dx_iscsi.py', 'cinder/volume/drivers/ibm/storwize_svc/storwize_svc_iscsi.py', 'cinder/volume/drivers/dell_emc/sc/storagecenter_common.py', 'cinder/volume/drivers/prophetstor/dplcommon.py', 'cinder/volume/drivers/hpe/hpe_3par_iscsi.py', 'cinder/volume/drivers/fujitsu/eternus_dx/eternus_dx_fc.py', 'cinder/volume/drivers/hpe/hpe_3par_fc.py', 'cinder/volume/drivers/infinidat.py', 'cinder/volume/drivers/rbd.py', 'cinder/volume/drivers/vmware/fcd.py', 'cinder/volume/drivers/pure.py', 'cinder/volume/drivers/solidfire.py', 'cinder/volume/drivers/nexenta/nfs.py', 'cinder/volume/drivers/storpool.py', 'cinder/volume/drivers/nexenta/iscsi.py', 'cinder/volume/drivers/windows/iscsi.py', 'cinder/volume/drivers/prophetstor/dpl_iscsi.py', 'cinder/volume/drivers/stx/fc.py', 'cinder/volume/drivers/inspur/instorage/instorage_common.py', 'cinder/volume/drivers/dell_emc/powerstore/adapter.py', 'cinder/common/constants.py', 'cinder/volume/drivers/fusionstorage/dsware.py', 'cinder/volume/targets/iscsi.py', 'cinder/volume/drivers/hpe/nimble.py', 'cinder/volume/drivers/datera/datera_api21.py', 'releasenotes/notes/fix-cacheable-capability-f893520d79c3db60.yaml', 'cinder/volume/drivers/qnap.py', 'cinder/volume/drivers/dell_emc/sc/storagecenter_api.py', 'cinder/volume/drivers/netapp/dataontap/nfs_cmode.py', 'cinder/volume/drivers/hedvig/hedvig_cinder.py', 'cinder/volume/drivers/sandstone/sds_driver.py', 'cinder/volume/drivers/veritas_access/veritas_iscsi.py', 'cinder/volume/drivers/inspur/as13000/as13000_driver.py', 'cinder/volume/drivers/macrosan/driver.py', 'cinder/volume/drivers/nexenta/ns5/iscsi.py', 'cinder/volume/drivers/prophetstor/dpl_fc.py', 'cinder/volume/drivers/veritas_cnfs.py', 'cinder/volume/drivers/linstordrv.py', 'cinder/volume/drivers/kioxia/kumoscale.py', 'cinder/volume/drivers/datera/datera_api22.py', 'cinder/volume/drivers/kaminario/kaminario_iscsi.py', 'cinder/volume/drivers/dell_emc/powermax/fc.py', 'cinder/volume/drivers/ibm/gpfs.py', 'cinder/volume/drivers/toyou/acs5000/acs5000_common.py', 'cinder/volume/drivers/dell_emc/powerflex/driver.py', 'cinder/volume/drivers/nexenta/ns5/nfs.py', 'cinder/volume/drivers/vmware/vmdk.py', 'cinder/volume/drivers/dell_emc/unity/adapter.py', 'cinder/volume/drivers/toyou/acs5000/acs5000_iscsi.py', 'cinder/volume/drivers/dell_emc/sc/storagecenter_fc.py', 'cinder/volume/drivers/ceph/rbd_iscsi.py', 'cinder/volume/driver.py', 'cinder/volume/drivers/spdk.py', 'cinder/volume/drivers/open_e/iscsi.py', 'cinder/volume/drivers/toyou/acs5000/acs5000_fc.py', 'cinder/volume/drivers/dell_emc/xtremio.py', 'cinder/volume/drivers/nec/volume_helper.py', 'cinder/volume/targets/nvmeof.py', 'cinder/volume/drivers/lightos.py', 'cinder/volume/drivers/kaminario/kaminario_fc.py']",66,68311a0794435f98d2b86b2faa9970208f50b746,lvm-nvmet-shared,from cinder.common import constants self._protocol = constants.FC, self._protocol = 'FC',200,103
openstack%2Fswift~master~Ided263d0740fdaf66849b2a8d43f3d83b6136b69,openstack/swift,master,Ided263d0740fdaf66849b2a8d43f3d83b6136b69,fixups for review 839448,ABANDONED,2022-04-27 13:24:33.000000000,2022-05-03 23:54:50.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-04-27 13:24:33.000000000', 'files': ['test/unit/proxy/test_server.py', 'swift/common/memcached.py', 'test/unit/__init__.py', 'test/unit/proxy/controllers/test_container.py', 'test/unit/common/test_memcached.py', 'swift/proxy/controllers/container.py', 'swift/proxy/controllers/base.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/175eac19f6b444321409121cbd86098d2a89d07a', 'message': 'fixups for review 839448\n\nChange-Id: Ided263d0740fdaf66849b2a8d43f3d83b6136b69\n'}]",1,839528,175eac19f6b444321409121cbd86098d2a89d07a,5,1,1,7847,,,0,"fixups for review 839448

Change-Id: Ided263d0740fdaf66849b2a8d43f3d83b6136b69
",git fetch https://review.opendev.org/openstack/swift refs/changes/28/839528/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/proxy/test_server.py', 'swift/common/memcached.py', 'test/unit/__init__.py', 'test/unit/proxy/controllers/test_container.py', 'test/unit/common/test_memcached.py', 'swift/proxy/controllers/container.py', 'swift/proxy/controllers/base.py']",7,175eac19f6b444321409121cbd86098d2a89d07a,,from swift.common.memcached import MemcacheConnectionError except MemcacheConnectionError:, except:,146,28
openstack%2Fglance~master~I4793eb4d7cfe861f9d5acdaa23df38227153b26b,openstack/glance,master,I4793eb4d7cfe861f9d5acdaa23df38227153b26b,Remove osprofiler parameters from api-paste.ini,ABANDONED,2021-05-02 15:15:16.000000000,2022-05-03 23:24:41.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-05-02 15:15:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/2f9e18c1744b1d0944fda5b675b6acf1ae646009', 'message': 'Remove deprecated osprofiler parameters from api-paste.ini\n\nThe osprofiler parameters can be configured by glance-api.conf and\nAdding the parameters in api-paste.ini was deprecated[1]. Thus this\nchange cleans up the remaining description in the api-paste.ini file.\n\n[1]3bdb51e947e0595d4a0514f3cf29b321cd6f9483\n\nChange-Id: I4793eb4d7cfe861f9d5acdaa23df38227153b26b\n'}, {'number': 2, 'created': '2021-05-02 15:16:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/3e5490b175f7e11c6eae860362a715995a7f5129', 'message': 'Remove deprecated osprofiler parameters from api-paste.ini\n\nThe osprofiler parameters can be configured by glance-api.conf and\nadding the parameters in api-paste.ini is now discouraged[1]. Thus this\nchange cleans up the remaining description in the api-paste.ini file.\n\n[1]3bdb51e947e0595d4a0514f3cf29b321cd6f9483\n\nChange-Id: I4793eb4d7cfe861f9d5acdaa23df38227153b26b\n'}, {'number': 3, 'created': '2021-05-02 15:17:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/21db7f20e42b38bd399a4d0cbe9c6a016e5367a1', 'message': ""Remove deprecated osprofiler parameters from api-paste.ini\n\nThe osprofiler parameters can be configured by glance-api.conf and\nadding the parameters in api-paste.ini is now discouraged[1]. Thus this\nchange cleans up the remaining description in the api-paste.ini file.\n\nCurrent usage just redefines the default values thus removing these\nlines doesn't affect any functionality.\n\n[1]3bdb51e947e0595d4a0514f3cf29b321cd6f9483\n\nChange-Id: I4793eb4d7cfe861f9d5acdaa23df38227153b26b\n""}, {'number': 4, 'created': '2021-05-03 01:30:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/ba7812843a256224b0a3c4faddeac3fb6ad1106c', 'message': ""Remove osprofiler parameters from api-paste.ini\n\nThe osprofiler parameters can be configured by glance-api.conf and\nadding the parameters in api-paste.ini is now discouraged[1]. Thus this\nchange cleans up the remaining osprofiler parameters accordingly.\nCurrent usage just redefines the default values and are always\noverridden by setting parameters in glance-api.conf, thus removing\nthese lines doesn't change any behavior.\n\n[1] 3bdb51e947e0595d4a0514f3cf29b321cd6f9483\n\nChange-Id: I4793eb4d7cfe861f9d5acdaa23df38227153b26b\n""}, {'number': 5, 'created': '2022-02-02 13:18:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/9e2e85b1725ed3d68bcd8bfe8ebdf03ce94811e3', 'message': ""Remove osprofiler parameters from api-paste.ini\n\nThe osprofiler parameters can be configured by glance-api.conf and\nadding the parameters in api-paste.ini is now discouraged[1]. Thus this\nchange cleans up the remaining osprofiler parameters accordingly.\nCurrent usage just redefines the default values and are always\noverridden by setting parameters in glance-api.conf, thus removing\nthese lines doesn't change any behavior.\n\n[1] 3bdb51e947e0595d4a0514f3cf29b321cd6f9483\n\nChange-Id: I4793eb4d7cfe861f9d5acdaa23df38227153b26b\n""}]",1,789095,9e2e85b1725ed3d68bcd8bfe8ebdf03ce94811e3,12,1,5,9816,,,0,"Remove osprofiler parameters from api-paste.ini

The osprofiler parameters can be configured by glance-api.conf and
adding the parameters in api-paste.ini is now discouraged[1]. Thus this
change cleans up the remaining osprofiler parameters accordingly.
Current usage just redefines the default values and are always
overridden by setting parameters in glance-api.conf, thus removing
these lines doesn't change any behavior.

[1] 3bdb51e947e0595d4a0514f3cf29b321cd6f9483

Change-Id: I4793eb4d7cfe861f9d5acdaa23df38227153b26b
",git fetch https://review.opendev.org/openstack/glance refs/changes/95/789095/3 && git format-patch -1 --stdout FETCH_HEAD,['etc/glance-api-paste.ini'],1,2f9e18c1744b1d0944fda5b675b6acf1ae646009,osprofiler,,hmac_keys = SECRET_KEY #DEPRECATED enabled = yes #DEPRECATED,0,2
openstack%2Fopenstack-helm-infra~master~I6b39321b849f5fbf1b6f2097c6c57ffaebe68121,openstack/openstack-helm-infra,master,I6b39321b849f5fbf1b6f2097c6c57ffaebe68121,[ceph-osd] Remove udev interactions from osd-init,MERGED,2022-04-29 19:53:21.000000000,2022-05-03 23:03:20.000000000,2022-05-03 23:01:52.000000000,"[{'_account_id': 8898}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-29 19:53:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/de1c61c5e93a9758ce24aa074f8a0cafa9e65ee7', 'message': '[ceph-osd] Remove udev interactions from osd-init\n\nThere are bugs with containerizing certain udev operations in some\nudev versions. The osd-init container can hang in these\ncircumstances, so the osd-init scripts are modified not to use\nthese problematic operations.\n\nChange-Id: I6b39321b849f5fbf1b6f2097c6c57ffaebe68121\n'}, {'number': 2, 'created': '2022-04-29 19:55:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/bd8e45c4c53c04ca0d558c5dac9e4dbc501536ea', 'message': '[ceph-osd] Remove udev interactions from osd-init\n\nThere are bugs with containerizing certain udev operations in some\nudev versions. The osd-init container can hang in these\ncircumstances, so the osd-init scripts are modified not to use\nthese problematic operations.\n\nChange-Id: I6b39321b849f5fbf1b6f2097c6c57ffaebe68121\n'}, {'number': 3, 'created': '2022-04-29 20:44:41.000000000', 'files': ['ceph-osd/templates/bin/osd/ceph-volume/_common.sh.tpl', 'ceph-osd/Chart.yaml', 'releasenotes/notes/ceph-osd.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/e02dc3da4465c301ddc48141aabe8c0ee5ee06ef', 'message': '[ceph-osd] Remove udev interactions from osd-init\n\nThere are bugs with containerizing certain udev operations in some\nudev versions. The osd-init container can hang in these\ncircumstances, so the osd-init scripts are modified not to use\nthese problematic operations.\n\nChange-Id: I6b39321b849f5fbf1b6f2097c6c57ffaebe68121\n'}]",4,839996,e02dc3da4465c301ddc48141aabe8c0ee5ee06ef,27,3,3,29974,,,0,"[ceph-osd] Remove udev interactions from osd-init

There are bugs with containerizing certain udev operations in some
udev versions. The osd-init container can hang in these
circumstances, so the osd-init scripts are modified not to use
these problematic operations.

Change-Id: I6b39321b849f5fbf1b6f2097c6c57ffaebe68121
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/96/839996/1 && git format-patch -1 --stdout FETCH_HEAD,['ceph-osd/templates/bin/osd/ceph-volume/_common.sh.tpl'],1,de1c61c5e93a9758ce24aa074f8a0cafa9e65ee7,," #/sbin/udevadm settle --timeout=600 #/sbin/udevadm settle --timeout=600 #/sbin/udevadm settle --timeout=600 #/sbin/udevadm settle --timeout=600 #/sbin/udevadm settle --timeout=600 #/sbin/udevadm settle --timeout=600function wait_for_device { local device=""$1"" echo ""Waiting for block device ${device} to appear"" for countdown in {1..600}; do test -b ""${device}"" && break sleep 1 done test -b ""${device}"" || exit 1 } #udevadm settle --timeout=600 wait_for_device ""${JDEV}"" #udevadm settle --timeout=600 #udevadm settle --timeout=600", /sbin/udevadm settle --timeout=600 /sbin/udevadm settle --timeout=600 /sbin/udevadm settle --timeout=600 /sbin/udevadm settle --timeout=600 /sbin/udevadm settle --timeout=600 /sbin/udevadm settle --timeout=600 udevadm settle --timeout=600 udevadm settle --timeout=600 udevadm settle --timeout=600,21,9
openstack%2Fdiskimage-builder~master~I22ebe2bbccaec34180e58996b21e47bfc4f36055,openstack/diskimage-builder,master,I22ebe2bbccaec34180e58996b21e47bfc4f36055,containerfile: update test to jammy,MERGED,2022-04-22 04:50:03.000000000,2022-05-03 22:59:25.000000000,2022-05-03 22:56:35.000000000,"[{'_account_id': 7118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-22 04:50:03.000000000', 'files': ['diskimage_builder/elements/containerfile/test-elements/jammy-build-succeeds/files/Dockerfile', 'diskimage_builder/elements/containerfile/test-elements/jammy-build-succeeds/environment.d/10-set-file.bash', 'bindep.txt', 'diskimage_builder/elements/containerfile/test-elements/jammy-build-succeeds/environment.d/10-set-distro.bash', 'diskimage_builder/elements/containerfile/test-elements/jammy-build-succeeds/test-output-formats', '.zuul.d/jobs.yaml', 'diskimage_builder/elements/containerfile/test-elements/focal-build-succeeds/files/Dockerfile', 'diskimage_builder/elements/containerfile/test-elements/jammy-build-succeeds/README.rst', 'diskimage_builder/elements/containerfile/test-elements/jammy-build-succeeds/element-deps'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/28821fd283dc53f573996e59ead95ff4a2e8321a', 'message': ""containerfile: update test to jammy\n\nWe've not really been using the Focal containerfile, as we move\nforward jammy is a better choice for keeping stable as we might find\nsome new users for it.\n\nAlso add binutils to bindep for native bullseye builds (see\nIcb0e40827c9f8ac583fa143545e6bed9641bf613)\n\nChange-Id: I22ebe2bbccaec34180e58996b21e47bfc4f36055\n""}]",3,838981,28821fd283dc53f573996e59ead95ff4a2e8321a,19,2,1,7118,,,0,"containerfile: update test to jammy

We've not really been using the Focal containerfile, as we move
forward jammy is a better choice for keeping stable as we might find
some new users for it.

Also add binutils to bindep for native bullseye builds (see
Icb0e40827c9f8ac583fa143545e6bed9641bf613)

Change-Id: I22ebe2bbccaec34180e58996b21e47bfc4f36055
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/81/838981/1 && git format-patch -1 --stdout FETCH_HEAD,"['diskimage_builder/elements/containerfile/test-elements/jammy-build-succeeds/files/Dockerfile', 'bindep.txt', 'diskimage_builder/elements/containerfile/test-elements/jammy-build-succeeds/environment.d/10-set-file.bash', 'diskimage_builder/elements/containerfile/test-elements/jammy-build-succeeds/environment.d/10-set-distro.bash', 'diskimage_builder/elements/containerfile/test-elements/jammy-build-succeeds/test-output-formats', '.zuul.d/jobs.yaml', 'diskimage_builder/elements/containerfile/test-elements/focal-build-succeeds/files/Dockerfile', 'diskimage_builder/elements/containerfile/test-elements/jammy-build-succeeds/README.rst', 'diskimage_builder/elements/containerfile/test-elements/jammy-build-succeeds/element-deps']",9,28821fd283dc53f573996e59ead95ff4a2e8321a,containerfile-jammy,,,4,3
openstack%2Fopenstack-ansible~master~I08df39cb4600d1cfc94b223dcf2ef28bae4c47d6,openstack/openstack-ansible,master,I08df39cb4600d1cfc94b223dcf2ef28bae4c47d6,Limit mistral worker,MERGED,2022-04-29 18:14:11.000000000,2022-05-03 22:47:05.000000000,2022-05-03 22:45:19.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}, {'_account_id': 32029}]","[{'number': 1, 'created': '2022-04-29 18:14:11.000000000', 'files': ['tests/roles/bootstrap-host/templates/user_variables.aio.yml.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/d6649f5b1a3ccfdec47a93a9c125d09a5c8ab78e', 'message': 'Limit mistral worker\n\nChange-Id: I08df39cb4600d1cfc94b223dcf2ef28bae4c47d6\n'}]",2,839988,d6649f5b1a3ccfdec47a93a9c125d09a5c8ab78e,17,4,1,13095,,,0,"Limit mistral worker

Change-Id: I08df39cb4600d1cfc94b223dcf2ef28bae4c47d6
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/88/839988/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/roles/bootstrap-host/templates/user_variables.aio.yml.j2'],1,d6649f5b1a3ccfdec47a93a9c125d09a5c8ab78e,mistral-fix,## mistral mistral_wsgi_processes_max: 2 mistral_wsgi_threads: 1 ,,4,0
openstack%2Fopenstack-helm-infra~master~Ic241310a66af92ee423f5c762c413af7d6d53f0b,openstack/openstack-helm-infra,master,Ic241310a66af92ee423f5c762c413af7d6d53f0b,[Database] Remote backup should keep given number of backup days,MERGED,2022-05-03 17:51:50.000000000,2022-05-03 22:17:48.000000000,2022-05-03 22:16:35.000000000,"[{'_account_id': 8898}, {'_account_id': 18250}, {'_account_id': 18256}, {'_account_id': 20248}, {'_account_id': 21040}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 24780}, {'_account_id': 28372}, {'_account_id': 28719}, {'_account_id': 29974}, {'_account_id': 32190}, {'_account_id': 33519}]","[{'number': 1, 'created': '2022-05-03 17:51:50.000000000', 'files': ['helm-toolkit/templates/scripts/db-backup-restore/_backup_main.sh.tpl', 'helm-toolkit/Chart.yaml', 'releasenotes/notes/helm-toolkit.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/89d290d3da0a5e66794c3848d15829764fa48819', 'message': '[Database] Remote backup should keep given number of backup days\n\nFixes minor issue with naming of variables which prevents the script to\nbe compliant the backup retention policy.\n\nChange-Id: Ic241310a66af92ee423f5c762c413af7d6d53f0b\n'}]",0,840362,89d290d3da0a5e66794c3848d15829764fa48819,12,13,1,32433,,,0,"[Database] Remote backup should keep given number of backup days

Fixes minor issue with naming of variables which prevents the script to
be compliant the backup retention policy.

Change-Id: Ic241310a66af92ee423f5c762c413af7d6d53f0b
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/62/840362/1 && git format-patch -1 --stdout FETCH_HEAD,"['helm-toolkit/templates/scripts/db-backup-restore/_backup_main.sh.tpl', 'helm-toolkit/Chart.yaml', 'releasenotes/notes/helm-toolkit.yaml']",3,89d290d3da0a5e66794c3848d15829764fa48819,, - 0.2.42 Database B/R - fix to make script compliant with a retention policy,,4,3
openstack%2Ftripleo-docs~master~Ib2712e1d7754f9f034da3f0f59b2f284c624f1a5,openstack/tripleo-docs,master,Ib2712e1d7754f9f034da3f0f59b2f284c624f1a5,Corrected spelling of `cephadm` command,MERGED,2022-04-27 22:01:46.000000000,2022-05-03 21:55:39.000000000,2022-05-03 21:54:27.000000000,"[{'_account_id': 7144}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-27 22:01:46.000000000', 'files': ['deploy-guide/source/features/deployed_ceph.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/728e2fefedb2a09b5b38839c8cce6824e86a69d7', 'message': 'Corrected spelling of `cephadm` command\n\nChange-Id: Ib2712e1d7754f9f034da3f0f59b2f284c624f1a5\n'}]",0,839642,728e2fefedb2a09b5b38839c8cce6824e86a69d7,7,2,1,31906,,,0,"Corrected spelling of `cephadm` command

Change-Id: Ib2712e1d7754f9f034da3f0f59b2f284c624f1a5
",git fetch https://review.opendev.org/openstack/tripleo-docs refs/changes/42/839642/1 && git format-patch -1 --stdout FETCH_HEAD,['deploy-guide/source/features/deployed_ceph.rst'],1,728e2fefedb2a09b5b38839c8cce6824e86a69d7,master-correct-cepham, `sudo cephadm shell`, `sudo cepham shell`,1,1
openstack%2Ftripleo-common~stable%2Fwallaby~I9a0936c415485166962194104c7c54ee520e9516,openstack/tripleo-common,stable/wallaby,I9a0936c415485166962194104c7c54ee520e9516,Switch from grub2 to bootloader element for overcloud-full,MERGED,2022-04-21 02:36:40.000000000,2022-05-03 21:51:07.000000000,2022-05-03 21:48:53.000000000,"[{'_account_id': 7144}, {'_account_id': 8449}, {'_account_id': 9976}, {'_account_id': 12393}, {'_account_id': 14611}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29775}, {'_account_id': 30002}]","[{'number': 1, 'created': '2022-04-21 02:36:40.000000000', 'files': ['image-yaml/overcloud-images-python3.yaml', 'image-yaml/overcloud-images-ceph.yaml', 'image-yaml/overcloud-realtime-compute-python3.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/2bd026b72f46887282840d98d740a04ffb52c1b3', 'message': 'Switch from grub2 to bootloader element for overcloud-full\n\nA lot of effort has gone into the bootloader element doing the right\nthing in all cases, managing the transition to BLS, and handling\nlegacy boot with UEFI boot.\n\novercloud-full and other partition images have not received the\nbenefit of this work because they use the much simpler grub2 element.\nNow that overcloud-hardened-uefi-full is the default, overcloud-full\nmay become harder to support over time. Switching to the bootloader\nelement will reduce the support matrix for the boot handling of this\nimage.\n\nThis changes fixes an issue where the kernel args root option is\nincorrect, because the bootloader element does a full kernel options\nregeneration.\n\nDepends-On: https://review.opendev.org/c/openstack/diskimage-builder/+/826976\nCloses-Bug: #1958230\nChange-Id: I9a0936c415485166962194104c7c54ee520e9516\n(cherry picked from commit 29324699829354575e58ea2bac37165943acd6f1)\n'}]",8,838804,2bd026b72f46887282840d98d740a04ffb52c1b3,21,9,1,4571,,,0,"Switch from grub2 to bootloader element for overcloud-full

A lot of effort has gone into the bootloader element doing the right
thing in all cases, managing the transition to BLS, and handling
legacy boot with UEFI boot.

overcloud-full and other partition images have not received the
benefit of this work because they use the much simpler grub2 element.
Now that overcloud-hardened-uefi-full is the default, overcloud-full
may become harder to support over time. Switching to the bootloader
element will reduce the support matrix for the boot handling of this
image.

This changes fixes an issue where the kernel args root option is
incorrect, because the bootloader element does a full kernel options
regeneration.

Depends-On: https://review.opendev.org/c/openstack/diskimage-builder/+/826976
Closes-Bug: #1958230
Change-Id: I9a0936c415485166962194104c7c54ee520e9516
(cherry picked from commit 29324699829354575e58ea2bac37165943acd6f1)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/04/838804/1 && git format-patch -1 --stdout FETCH_HEAD,"['image-yaml/overcloud-images-python3.yaml', 'image-yaml/overcloud-images-ceph.yaml', 'image-yaml/overcloud-realtime-compute-python3.yaml']",3,2bd026b72f46887282840d98d740a04ffb52c1b3,wallaby/bootloader, - bootloader, - grub2,3,3
openstack%2Fpython-tripleoclient~master~I497e5caa4ccb9a649f89ebe2cfb98c43505a4445,openstack/python-tripleoclient,master,I497e5caa4ccb9a649f89ebe2cfb98c43505a4445,Exclude empty string from no_proxy,MERGED,2022-04-14 04:52:38.000000000,2022-05-03 21:50:21.000000000,2022-05-03 21:48:56.000000000,"[{'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-04-14 04:52:38.000000000', 'files': ['tripleoclient/v1/overcloud_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/2231afdb4d59e1a8b9a626c4bd4e4a9df879fea4', 'message': 'Exclude empty string from no_proxy\n\nThe no_proxy environment can exist with an empty value, and it should\nbe ignored when generating no_proxy setting.\n\nChange-Id: I497e5caa4ccb9a649f89ebe2cfb98c43505a4445\nCloses-Bug: #1968958\n'}]",6,837819,2231afdb4d59e1a8b9a626c4bd4e4a9df879fea4,18,5,1,9816,,,0,"Exclude empty string from no_proxy

The no_proxy environment can exist with an empty value, and it should
be ignored when generating no_proxy setting.

Change-Id: I497e5caa4ccb9a649f89ebe2cfb98c43505a4445
Closes-Bug: #1968958
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/19/837819/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/v1/overcloud_deploy.py'],1,2231afdb4d59e1a8b9a626c4bd4e4a9df879fea4,bug/1968958," os.environ['no_proxy'] = ','.join([x for x in no_proxy_list if x])"," os.environ['no_proxy'] = ','.join( [x for x in no_proxy_list if x is not None])",1,2
openstack%2Fos-net-config~stable%2Ftrain~I3b3712eedf6d909f5d65ecbb1763f9dc11b04c31,openstack/os-net-config,stable/train,I3b3712eedf6d909f5d65ecbb1763f9dc11b04c31,Fix failure in dpdk driver binding with VF during reboot,MERGED,2022-04-02 09:28:28.000000000,2022-05-03 21:50:03.000000000,2022-05-03 21:48:50.000000000,"[{'_account_id': 7144}, {'_account_id': 12398}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 32029}]","[{'number': 1, 'created': '2022-04-02 09:28:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/53ce1541afa3d391beab88f6e5ff9312bc764b40', 'message': ""Fix failure in dpdk driver binding with VF during reboot\n\nOn a start/reboot, os-net sriov_config.service is run to\ncreate VFs for nic-partitioned devices. If vfio-pci driver\nis bound to any of the VFs, the VF initialisation doesn't occur properly.\nThe VF creation has to be completed before driverctl vfio-pci\nbinding AND all network interface configs. Since the order of\nsriov_config service or driverctl could not be set due to cyclic\ndependencies, the driverctl --nosave is used for every reboots\nfor VFs that needs driver override. This is required in case of\nDPDK - NIC Partitioning.\n\nConflicts:\n       os_net_config/common.py\n       os_net_config/utils.py\n       os_net_config/sriov_config.py\n       os_net_config/tests/test_utils.py\n\nChange-Id: I3b3712eedf6d909f5d65ecbb1763f9dc11b04c31\n(cherry picked from commit 9ef27075ebebd27288cb8dd1859ff9e6aacca4f9)\n(cherry picked from commit 37992f774ea63517810da9de18f6bc5d1a90e1ff)\n""}, {'number': 2, 'created': '2022-04-02 09:40:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/854cd890f00dfafb0777b8d9f5ea69d429dd4814', 'message': ""Fix failure in dpdk driver binding with VF during reboot\n\nOn a start/reboot, os-net sriov_config.service is run to\ncreate VFs for nic-partitioned devices. If vfio-pci driver\nis bound to any of the VFs, the VF initialisation doesn't occur properly.\nThe VF creation has to be completed before driverctl vfio-pci\nbinding AND all network interface configs. Since the order of\nsriov_config service or driverctl could not be set due to cyclic\ndependencies, the driverctl --nosave is used for every reboots\nfor VFs that needs driver override. This is required in case of\nDPDK - NIC Partitioning.\n\nConflicts:\n       os_net_config/common.py\n       os_net_config/utils.py\n       os_net_config/sriov_config.py\n       os_net_config/tests/test_utils.py\n\nChange-Id: I3b3712eedf6d909f5d65ecbb1763f9dc11b04c31\n(cherry picked from commit 9ef27075ebebd27288cb8dd1859ff9e6aacca4f9)\n(cherry picked from commit 37992f774ea63517810da9de18f6bc5d1a90e1ff)\n""}, {'number': 3, 'created': '2022-04-04 10:35:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/a19daed1e3acb3f1f58e4d6944b3c991c7f882fd', 'message': ""Fix failure in dpdk driver binding with VF during reboot\n\nOn a start/reboot, os-net sriov_config.service is run to\ncreate VFs for nic-partitioned devices. If vfio-pci driver\nis bound to any of the VFs, the VF initialisation doesn't occur properly.\nThe VF creation has to be completed before driverctl vfio-pci\nbinding AND all network interface configs. Since the order of\nsriov_config service or driverctl could not be set due to cyclic\ndependencies, the driverctl --nosave is used for every reboots\nfor VFs that needs driver override. This is required in case of\nDPDK - NIC Partitioning.\n\nConflicts:\n       os_net_config/common.py\n       os_net_config/utils.py\n       os_net_config/sriov_config.py\n       os_net_config/tests/test_utils.py\n\nChanges are done to exclude refactoring backport done specifically\nfor vDPA. Also backporting only the required changes with required\nfactoring.\n\nChange-Id: I3b3712eedf6d909f5d65ecbb1763f9dc11b04c31\n(cherry picked from commit 9ef27075ebebd27288cb8dd1859ff9e6aacca4f9)\n(cherry picked from commit 37992f774ea63517810da9de18f6bc5d1a90e1ff)\n""}, {'number': 4, 'created': '2022-04-18 06:44:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/49f97c496762f419edb888f38f1f96e54e94f592', 'message': ""Fix failure in dpdk driver binding with VF during reboot\n\nOn a start/reboot, os-net sriov_config.service is run to\ncreate VFs for nic-partitioned devices. If vfio-pci driver\nis bound to any of the VFs, the VF initialisation doesn't occur properly.\nThe VF creation has to be completed before driverctl vfio-pci\nbinding AND all network interface configs. Since the order of\nsriov_config service or driverctl could not be set due to cyclic\ndependencies, the driverctl --nosave is used for every reboots\nfor VFs that needs driver override. This is required in case of\nDPDK - NIC Partitioning.\n\nConflicts:\n       os_net_config/common.py\n       os_net_config/utils.py\n       os_net_config/sriov_config.py\n       os_net_config/tests/test_utils.py\n\nChanges are done to exclude refactoring backport done specifically\nfor vDPA. Also backporting only the required changes with required\nfactoring.\n\nChange-Id: I3b3712eedf6d909f5d65ecbb1763f9dc11b04c31\n(cherry picked from commit 9ef27075ebebd27288cb8dd1859ff9e6aacca4f9)\n(cherry picked from commit 37992f774ea63517810da9de18f6bc5d1a90e1ff)\n""}, {'number': 5, 'created': '2022-04-18 12:38:28.000000000', 'files': ['os_net_config/utils.py', 'os_net_config/tests/test_objects.py', 'os_net_config/tests/test_impl_ifcfg.py', 'os_net_config/tests/test_utils.py', 'os_net_config/common.py', 'os_net_config/objects.py', 'os_net_config/sriov_config.py'], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/7ce200a053a902aa099ded1050efec8a3a5f318b', 'message': ""Fix failure in dpdk driver binding with VF during reboot\n\nOn a start/reboot, os-net sriov_config.service is run to\ncreate VFs for nic-partitioned devices. If vfio-pci driver\nis bound to any of the VFs, the VF initialisation doesn't occur properly.\nThe VF creation has to be completed before driverctl vfio-pci\nbinding AND all network interface configs. Since the order of\nsriov_config service or driverctl could not be set due to cyclic\ndependencies, the driverctl --nosave is used for every reboots\nfor VFs that needs driver override. This is required in case of\nDPDK - NIC Partitioning.\n\nConflicts:\n       os_net_config/common.py\n       os_net_config/utils.py\n       os_net_config/sriov_config.py\n       os_net_config/tests/test_utils.py\n\nChanges are done to exclude refactoring backport done specifically\nfor vDPA. Also backporting only the required changes with required\nfactoring.\n\nChange-Id: I3b3712eedf6d909f5d65ecbb1763f9dc11b04c31\n(cherry picked from commit 9ef27075ebebd27288cb8dd1859ff9e6aacca4f9)\n(cherry picked from commit 37992f774ea63517810da9de18f6bc5d1a90e1ff)\n""}]",3,836227,7ce200a053a902aa099ded1050efec8a3a5f318b,23,5,5,18904,,,0,"Fix failure in dpdk driver binding with VF during reboot

On a start/reboot, os-net sriov_config.service is run to
create VFs for nic-partitioned devices. If vfio-pci driver
is bound to any of the VFs, the VF initialisation doesn't occur properly.
The VF creation has to be completed before driverctl vfio-pci
binding AND all network interface configs. Since the order of
sriov_config service or driverctl could not be set due to cyclic
dependencies, the driverctl --nosave is used for every reboots
for VFs that needs driver override. This is required in case of
DPDK - NIC Partitioning.

Conflicts:
       os_net_config/common.py
       os_net_config/utils.py
       os_net_config/sriov_config.py
       os_net_config/tests/test_utils.py

Changes are done to exclude refactoring backport done specifically
for vDPA. Also backporting only the required changes with required
factoring.

Change-Id: I3b3712eedf6d909f5d65ecbb1763f9dc11b04c31
(cherry picked from commit 9ef27075ebebd27288cb8dd1859ff9e6aacca4f9)
(cherry picked from commit 37992f774ea63517810da9de18f6bc5d1a90e1ff)
",git fetch https://review.opendev.org/openstack/os-net-config refs/changes/27/836227/1 && git format-patch -1 --stdout FETCH_HEAD,"['os_net_config/utils.py', 'os_net_config/tests/test_impl_ifcfg.py', 'os_net_config/tests/test_objects.py', 'os_net_config/tests/test_utils.py', 'os_net_config/common.py', 'os_net_config/objects.py', 'os_net_config/sriov_config.py']",7,53ce1541afa3d391beab88f6e5ff9312bc764b40,,"from os_net_config import common_MLNX_DRIVER = ""mlx5_core"" vendor_id == common.MLNX_VENDOR_ID): if 'driver' in item: common.set_driverctl_override(item['pci_address'], item['driver'])"," MLNX_VENDOR_ID = ""0x15b3"" vendor_id == MLNX_VENDOR_ID):",163,74
openstack%2Ftripleo-ansible~stable%2Fwallaby~I9f854377fcd0dfa570d0dc30e34d40826de8656d,openstack/tripleo-ansible,stable/wallaby,I9f854377fcd0dfa570d0dc30e34d40826de8656d,Support ceph_conf_overrides for multiple_external_ceph_clusters,MERGED,2022-04-21 12:36:25.000000000,2022-05-03 21:48:58.000000000,2022-05-03 21:48:58.000000000,"[{'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2022-04-21 12:36:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/19a16451a6c26f2f37880766271c8556a155979d', 'message': ""Support ceph_conf_overrides for multiple_external_ceph_clusters\n\nThe tripleo_ceph_client role's task file to create a Ceph config\nfile for multiple external Ceph clusters does not support overrides\nwhich are passed via ceph_conf_overrides. The 'openstack overcloud\nexport ceph' command however generates files with ceph_conf_overrides\nas they are necessary for multibackend Glance deployments which use\nCeph. This patch adds a line to multiple_external_ceph_clusters.yml\nso that input files with ceph_conf_overrides are passed to the\ntripleo_ceph_client_config_overrides for each external Ceph cluster.\n\nRelated-Bug: #1966772\nChange-Id: I9f854377fcd0dfa570d0dc30e34d40826de8656d\n(cherry picked from commit fab0d9b58794e4b0ce16125137680ad8144d335f)\n""}, {'number': 2, 'created': '2022-04-25 19:26:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/6ac56ac37e67d2b3eb78c07659ac611e3a36f790', 'message': ""Support ceph_conf_overrides for multiple_external_ceph_clusters\n\nThe tripleo_ceph_client role's task file to create a Ceph config\nfile for multiple external Ceph clusters does not support overrides\nwhich are passed via ceph_conf_overrides. The 'openstack overcloud\nexport ceph' command however generates files with ceph_conf_overrides\nas they are necessary for multibackend Glance deployments which use\nCeph. This patch adds a line to multiple_external_ceph_clusters.yml\nso that input files with ceph_conf_overrides are passed to the\ntripleo_ceph_client_config_overrides for each external Ceph cluster.\n\nRelated-Bug: #1966772\nChange-Id: I9f854377fcd0dfa570d0dc30e34d40826de8656d\n(cherry picked from commit fab0d9b58794e4b0ce16125137680ad8144d335f)\n""}, {'number': 3, 'created': '2022-05-02 21:52:51.000000000', 'files': ['tripleo_ansible/roles/tripleo_ceph_client/tasks/multiple_external_ceph_clusters.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/f34972de07b74fe39d432157e9fb8c013403644d', 'message': ""Support ceph_conf_overrides for multiple_external_ceph_clusters\n\nThe tripleo_ceph_client role's task file to create a Ceph config\nfile for multiple external Ceph clusters does not support overrides\nwhich are passed via ceph_conf_overrides. The 'openstack overcloud\nexport ceph' command however generates files with ceph_conf_overrides\nas they are necessary for multibackend Glance deployments which use\nCeph. This patch adds a line to multiple_external_ceph_clusters.yml\nso that input files with ceph_conf_overrides are passed to the\ntripleo_ceph_client_config_overrides for each external Ceph cluster.\n\nRelated-Bug: #1966772\nChange-Id: I9f854377fcd0dfa570d0dc30e34d40826de8656d\n(cherry picked from commit fab0d9b58794e4b0ce16125137680ad8144d335f)\n""}]",5,838870,f34972de07b74fe39d432157e9fb8c013403644d,30,4,3,18002,,,0,"Support ceph_conf_overrides for multiple_external_ceph_clusters

The tripleo_ceph_client role's task file to create a Ceph config
file for multiple external Ceph clusters does not support overrides
which are passed via ceph_conf_overrides. The 'openstack overcloud
export ceph' command however generates files with ceph_conf_overrides
as they are necessary for multibackend Glance deployments which use
Ceph. This patch adds a line to multiple_external_ceph_clusters.yml
so that input files with ceph_conf_overrides are passed to the
tripleo_ceph_client_config_overrides for each external Ceph cluster.

Related-Bug: #1966772
Change-Id: I9f854377fcd0dfa570d0dc30e34d40826de8656d
(cherry picked from commit fab0d9b58794e4b0ce16125137680ad8144d335f)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/70/838870/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo_ceph_client/tasks/multiple_external_ceph_clusters.yml'],1,19a16451a6c26f2f37880766271c8556a155979d,bug/1966772-stable/wallaby," tripleo_ceph_client_config_overrides: ""{{ multiple.get('ceph_conf_overrides',{}) }}""",,1,0
openstack%2Fopenstack-helm~master~Id33c8c9f10e60fcdb4b6c49e69f3b5d8f11850c6,openstack/openstack-helm,master,Id33c8c9f10e60fcdb4b6c49e69f3b5d8f11850c6,[Cinder] Add visibilty settings to volume types,MERGED,2022-04-20 22:22:13.000000000,2022-05-03 21:37:39.000000000,2022-05-03 21:36:22.000000000,"[{'_account_id': 8898}, {'_account_id': 21040}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 28372}, {'_account_id': 28719}, {'_account_id': 29974}, {'_account_id': 32190}, {'_account_id': 33519}]","[{'number': 1, 'created': '2022-04-20 22:22:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/63fb6b6006ff8cae90e769f02dc4007a3087912f', 'message': '[Cinder] Add visibilty settings to volume types\n\nThis is to add public/private  visibility option\nand project level access list to a volume type while creating.\n\nChange-Id: Id33c8c9f10e60fcdb4b6c49e69f3b5d8f11850c6\n'}, {'number': 2, 'created': '2022-04-21 13:58:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/2fd925bc99724b4a876ac726767fdc3b78ddbf44', 'message': '[Cinder] Add visibilty settings to volume types\n\nThis is to add public/private  visibility option\nand project level access list to a volume type while creating.\n\nChange-Id: Id33c8c9f10e60fcdb4b6c49e69f3b5d8f11850c6\n'}, {'number': 3, 'created': '2022-04-21 15:14:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/48ce6a9e783827fd9f444a1237f101c1c75ca0a7', 'message': '[Cinder] Add visibilty settings to volume types\n\nThis is to add public/private  visibility option\nand project level access list to a volume type while creating.\n\nChange-Id: Id33c8c9f10e60fcdb4b6c49e69f3b5d8f11850c6\n'}, {'number': 4, 'created': '2022-04-22 19:06:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/d094272bccf18a4a0ef98c65efde1f6cb28cbc79', 'message': '[Cinder] Add visibilty settings to volume types\n\nThis is to add public/private  visibility option\nand project level access list to a volume type while creating.\n\nChange-Id: Id33c8c9f10e60fcdb4b6c49e69f3b5d8f11850c6\n'}, {'number': 5, 'created': '2022-04-27 21:42:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/2866387232bd5e0cda90d4daf360d12f1b308777', 'message': '[Cinder] Add visibilty settings to volume types\n\nThis is to add public/private  visibility option\nand project level access list to a volume type while creating.\n\nChange-Id: Id33c8c9f10e60fcdb4b6c49e69f3b5d8f11850c6\n'}, {'number': 6, 'created': '2022-04-28 13:53:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/ebcfbd4488bb24b5df43236578357bc805827b50', 'message': '[Cinder] Add visibilty settings to volume types\n\nThis is to add public/private  visibility option\nand project level access list to a volume type while creating.\n\nChange-Id: Id33c8c9f10e60fcdb4b6c49e69f3b5d8f11850c6\n'}, {'number': 7, 'created': '2022-04-28 15:15:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/adda1e2260cf40bf00964baa7ee37d4480706d49', 'message': '[Cinder] Add visibilty settings to volume types\n\nThis is to add public/private  visibility option\nand project level access list to a volume type while creating.\n\nChange-Id: Id33c8c9f10e60fcdb4b6c49e69f3b5d8f11850c6\n'}, {'number': 8, 'created': '2022-04-28 16:22:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/73cb5e0ef426930b0c0b0cbde7a5b88d77aff72a', 'message': '[Cinder] Add visibilty settings to volume types\n\nThis is to add public/private  visibility option\nand project level access list to a volume type while creating.\n\nChange-Id: Id33c8c9f10e60fcdb4b6c49e69f3b5d8f11850c6\n'}, {'number': 9, 'created': '2022-04-29 13:26:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/aa9073e044b8fb725fe784548af0af1c292cd72b', 'message': '[Cinder] Add visibilty settings to volume types\n\nThis is to add public/private  visibility option\nand project level access list to a volume type while creating.\n\nChange-Id: Id33c8c9f10e60fcdb4b6c49e69f3b5d8f11850c6\n'}, {'number': 10, 'created': '2022-04-29 19:39:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/dd9f53289a015f212a59a7db821b4543b4c8f836', 'message': '[Cinder] Add visibilty settings to volume types\n\nThis is to add public/private  visibility option\nand project level access list to a volume type while creating.\n\nChange-Id: Id33c8c9f10e60fcdb4b6c49e69f3b5d8f11850c6\n'}, {'number': 11, 'created': '2022-04-29 21:44:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/88790dce65057820ca3f10a6db5177d9f6caa89d', 'message': '[Cinder] Add visibilty settings to volume types\n\nThis is to add public/private  visibility option\nand project level access list to a volume type while creating.\n\nChange-Id: Id33c8c9f10e60fcdb4b6c49e69f3b5d8f11850c6\n'}, {'number': 12, 'created': '2022-05-02 11:16:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/2e9238b1317e61a873135db887f7690fd6dcd485', 'message': '[Cinder] Add visibilty settings to volume types\n\nThis is to add public/private  visibility option\nand project level access list to a volume type while creating.\n\nChange-Id: Id33c8c9f10e60fcdb4b6c49e69f3b5d8f11850c6\n'}, {'number': 13, 'created': '2022-05-02 13:28:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/45d595fb54b32e3ec95562b9230fe7939d14826a', 'message': '[Cinder] Add visibilty settings to volume types\n\nThis is to add public/private  visibility option\nand project level access list to a volume type while creating.\n\nChange-Id: Id33c8c9f10e60fcdb4b6c49e69f3b5d8f11850c6\n'}, {'number': 14, 'created': '2022-05-02 14:53:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/e1711687e15e05f9e7794222ab2c46bd8fbc08c1', 'message': '[Cinder] Add visibilty settings to volume types\n\nThis is to add public/private  visibility option\nand project level access list to a volume type while creating.\n\nChange-Id: Id33c8c9f10e60fcdb4b6c49e69f3b5d8f11850c6\n'}, {'number': 15, 'created': '2022-05-02 17:42:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/656e00bde68b2fa7f901cccfac4c40003e643a64', 'message': '[Cinder] Add visibilty settings to volume types\n\nThis is to add public/private  visibility option\nand project level access list to a volume type while creating.\n\nChange-Id: Id33c8c9f10e60fcdb4b6c49e69f3b5d8f11850c6\n'}, {'number': 16, 'created': '2022-05-03 14:36:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/b3cb7c9b292284e7e3699d22e9f65aed575fa242', 'message': '[Cinder] Add visibilty settings to volume types\n\nThis is to add public/private  visibility option\nand project level access list to a volume type while creating.\n\nChange-Id: Id33c8c9f10e60fcdb4b6c49e69f3b5d8f11850c6\n'}, {'number': 17, 'created': '2022-05-03 16:34:15.000000000', 'files': ['cinder/templates/bin/_bootstrap.sh.tpl', 'cinder/values_overrides/backend_pure.yaml', 'cinder/values.yaml', 'cinder/Chart.yaml', 'releasenotes/notes/cinder.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/48625ad984034cf104eaa6fa68db9a841b1998dd', 'message': '[Cinder] Add visibilty settings to volume types\n\nThis is to add public/private  visibility option\nand project level access list to a volume type while creating.\n\nChange-Id: Id33c8c9f10e60fcdb4b6c49e69f3b5d8f11850c6\n'}]",7,838791,48625ad984034cf104eaa6fa68db9a841b1998dd,61,9,17,32433,,,0,"[Cinder] Add visibilty settings to volume types

This is to add public/private  visibility option
and project level access list to a volume type while creating.

Change-Id: Id33c8c9f10e60fcdb4b6c49e69f3b5d8f11850c6
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/91/838791/8 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/templates/bin/_bootstrap.sh.tpl', 'cinder/Chart.yaml', 'cinder/values.yaml', 'releasenotes/notes/cinder.yaml']",4,63fb6b6006ff8cae90e769f02dc4007a3087912f,, - 0.2.18 Add volume types visibility (public/private),,33,14
openstack%2Fcharm-mysql-router~master~Iad44744ad01c0b6429fbafb041e6fc11887dbfb9,openstack/charm-mysql-router,master,Iad44744ad01c0b6429fbafb041e6fc11887dbfb9,Configure mysqlrouter.conf sections based on wildcards,MERGED,2022-03-18 22:21:49.000000000,2022-05-03 21:33:34.000000000,2022-05-03 21:33:34.000000000,"[{'_account_id': 2424}, {'_account_id': 14567}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-03-18 22:21:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-mysql-router/commit/83c7f70740c5cb8490ca8c0c3d036ee50586aa35', 'message': 'Configure mysqlrouter.conf sections based on wildcards\n\nUpon bootstrap, the mysqlrouter will create a mysqlrouter.conf file for\nthe cluster it is connecting to. This creates sections such as\nmetadata_cache:<cluster_name>, routing:<cluster_name>_rw,\nrouting:<cluster_name>_ro, etc. The cluster name is not provided on the\nmysql-router interface so this information is not available in\ndetermining the correct section name. Since the mysql-router is designed\nto work with a single cluster, the need to update the interface which in\nturn requires the user to update a number of deployed charms in the\nenvironment, an approach is taken to allow regular expressions to be\nused when matching the section name.\n\nThere is some risk to this in that it requires that future edits\ncarefully consider the possible section names when future sections are\nadded. However, this developer cost is traded off in order to ease the\nburden of operators.\n\nCloses-Bug: #1927981\nChange-Id: Iad44744ad01c0b6429fbafb041e6fc11887dbfb9\n'}, {'number': 2, 'created': '2022-03-18 22:59:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-mysql-router/commit/7389389af2fa5926786793d5403b0e6d410a5766', 'message': ""Configure mysqlrouter.conf sections based on wildcards\n\nUpon bootstrap, the mysqlrouter will create a mysqlrouter.conf file for\nthe cluster it is connecting to. This creates sections such as\nmetadata_cache:<cluster_name>, routing:<cluster_name>_rw,\nrouting:<cluster_name>_ro, etc. The cluster name is not provided on the\nmysql-router interface so this information is not available in\ndetermining the correct section name. Since the mysql-router is designed\nto work with a single cluster, the need to update the interface which in\nturn requires the user to update a number of deployed charms in the\nenvironment, an approach is taken to allow regular expressions to be\nused when matching the section name.\n\nThere is some risk to this in that it requires that future edits\ncarefully consider the possible section names when future sections are\nadded. However, this developer cost is traded off in order to ease the\nburden of operators.\n\nFor the upgrade scenario, this patch also checks to see if the file\nrendered on disk contains multiple 'metadata_cache' sections, and if so\nrewrites the mysqlrouter.conf file with the hardcoded\nmetadata_cache:jujuCluster section removed.\n\nCloses-Bug: #1927981\nChange-Id: Iad44744ad01c0b6429fbafb041e6fc11887dbfb9\n""}, {'number': 3, 'created': '2022-03-18 23:37:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-mysql-router/commit/acc235292642a79f81f62eeedc1dbfdd23f17c50', 'message': ""Configure mysqlrouter.conf sections based on wildcards\n\nUpon bootstrap, the mysqlrouter will create a mysqlrouter.conf file for\nthe cluster it is connecting to. This creates sections such as\nmetadata_cache:<cluster_name>, routing:<cluster_name>_rw,\nrouting:<cluster_name>_ro, etc. The cluster name is not provided on the\nmysql-router interface so this information is not available in\ndetermining the correct section name. Since the mysql-router is designed\nto work with a single cluster, the need to update the interface which in\nturn requires the user to update a number of deployed charms in the\nenvironment, an approach is taken to allow regular expressions to be\nused when matching the section name.\n\nThere is some risk to this in that it requires that future edits\ncarefully consider the possible section names when future sections are\nadded. However, this developer cost is traded off in order to ease the\nburden of operators.\n\nFor the upgrade scenario, this patch also checks to see if the file\nrendered on disk contains multiple 'metadata_cache' sections, and if so\nrewrites the mysqlrouter.conf file with the hardcoded\nmetadata_cache:jujuCluster section removed.\n\nCloses-Bug: #1927981\nChange-Id: Iad44744ad01c0b6429fbafb041e6fc11887dbfb9\n""}, {'number': 4, 'created': '2022-03-18 23:43:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-mysql-router/commit/2897e3404fab2d05d52feae6d92ce1dde7255fe5', 'message': ""Configure mysqlrouter.conf sections based on wildcards\n\nUpon bootstrap, the mysqlrouter will create a mysqlrouter.conf file for\nthe cluster it is connecting to. This creates sections such as\nmetadata_cache:<cluster_name>, routing:<cluster_name>_rw,\nrouting:<cluster_name>_ro, etc. The cluster name is not provided on the\nmysql-router interface so this information is not available in\ndetermining the correct section name. Since the mysql-router is designed\nto work with a single cluster, the need to update the interface which in\nturn requires the user to update a number of deployed charms in the\nenvironment, an approach is taken to allow regular expressions to be\nused when matching the section name.\n\nThere is some risk to this in that it requires that future edits\ncarefully consider the possible section names when future sections are\nadded. However, this developer cost is traded off in order to ease the\nburden of operators.\n\nFor the upgrade scenario, this patch also checks to see if the file\nrendered on disk contains multiple 'metadata_cache' sections, and if so\nrewrites the mysqlrouter.conf file with the hardcoded\nmetadata_cache:jujuCluster section removed.\n\nCloses-Bug: #1927981\nChange-Id: Iad44744ad01c0b6429fbafb041e6fc11887dbfb9\n""}, {'number': 5, 'created': '2022-04-19 22:05:27.000000000', 'files': ['src/lib/charm/openstack/mysql_router.py', 'unit_tests/test_lib_charm_openstack_mysql_router.py', 'src/tests/bundles/focal-full.yaml'], 'web_link': 'https://opendev.org/openstack/charm-mysql-router/commit/5a2da1800272af2875064a295b8ba7044cf7bcea', 'message': ""Configure mysqlrouter.conf sections based on wildcards\n\nUpon bootstrap, the mysqlrouter will create a mysqlrouter.conf file for\nthe cluster it is connecting to. This creates sections such as\nmetadata_cache:<cluster_name>, routing:<cluster_name>_rw,\nrouting:<cluster_name>_ro, etc. The cluster name is not provided on the\nmysql-router interface so this information is not available in\ndetermining the correct section name. Since the mysql-router is designed\nto work with a single cluster, the need to update the interface which in\nturn requires the user to update a number of deployed charms in the\nenvironment, an approach is taken to allow regular expressions to be\nused when matching the section name.\n\nThere is some risk to this in that it requires that future edits\ncarefully consider the possible section names when future sections are\nadded. However, this developer cost is traded off in order to ease the\nburden of operators.\n\nFor the upgrade scenario, this patch also checks to see if the file\nrendered on disk contains multiple 'metadata_cache' sections, and if so\nrewrites the mysqlrouter.conf file with the hardcoded\nmetadata_cache:jujuCluster section removed.\n\nCloses-Bug: #1927981\nChange-Id: Iad44744ad01c0b6429fbafb041e6fc11887dbfb9\n""}]",5,834359,5a2da1800272af2875064a295b8ba7044cf7bcea,20,4,5,8992,,,0,"Configure mysqlrouter.conf sections based on wildcards

Upon bootstrap, the mysqlrouter will create a mysqlrouter.conf file for
the cluster it is connecting to. This creates sections such as
metadata_cache:<cluster_name>, routing:<cluster_name>_rw,
routing:<cluster_name>_ro, etc. The cluster name is not provided on the
mysql-router interface so this information is not available in
determining the correct section name. Since the mysql-router is designed
to work with a single cluster, the need to update the interface which in
turn requires the user to update a number of deployed charms in the
environment, an approach is taken to allow regular expressions to be
used when matching the section name.

There is some risk to this in that it requires that future edits
carefully consider the possible section names when future sections are
added. However, this developer cost is traded off in order to ease the
burden of operators.

For the upgrade scenario, this patch also checks to see if the file
rendered on disk contains multiple 'metadata_cache' sections, and if so
rewrites the mysqlrouter.conf file with the hardcoded
metadata_cache:jujuCluster section removed.

Closes-Bug: #1927981
Change-Id: Iad44744ad01c0b6429fbafb041e6fc11887dbfb9
",git fetch https://review.opendev.org/openstack/charm-mysql-router refs/changes/59/834359/5 && git format-patch -1 --stdout FETCH_HEAD,"['src/lib/charm/openstack/mysql_router.py', 'unit_tests/test_lib_charm_openstack_mysql_router.py', 'src/tests/bundles/focal-full.yaml']",3,83c7f70740c5cb8490ca8c0c3d036ee50586aa35,bug/1927981, cluster-name: foo,,69,6
openstack%2Fopenstack-ansible-specs~master~Ie91f21db4ea9b12a70ee351e4ef8be35f75890ab,openstack/openstack-ansible-specs,master,Ie91f21db4ea9b12a70ee351e4ef8be35f75890ab,Blueprint specs for openstack fds/fdio/vpp integration,ABANDONED,2018-03-12 16:26:34.000000000,2022-05-03 21:13:29.000000000,,"[{'_account_id': 10068}, {'_account_id': 15362}, {'_account_id': 17068}, {'_account_id': 21883}, {'_account_id': 22348}, {'_account_id': 23163}, {'_account_id': 25505}, {'_account_id': 26445}]","[{'number': 1, 'created': '2018-03-12 16:26:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-specs/commit/876b74f9c16e021b717de0eec48102bb2090f3ea', 'message': 'Blueprint specs for openstack fds/fdio/vpp integration\n\nChange-Id: Ie91f21db4ea9b12a70ee351e4ef8be35f75890ab\n'}, {'number': 2, 'created': '2018-04-10 09:17:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-specs/commit/72d9f177962ba3f6b587efc0f98b815de36f63bf', 'message': 'Blueprint specs for openstack fds/fdio/vpp integration\n\nChange-Id: Ie91f21db4ea9b12a70ee351e4ef8be35f75890ab\n'}, {'number': 3, 'created': '2018-04-10 09:21:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-specs/commit/b105b86f5709551964b18b9782af3e8daf78c4ae', 'message': 'Blueprint specs for openstack fds/fdio/vpp integration\n\nChange-Id: Ie91f21db4ea9b12a70ee351e4ef8be35f75890ab\n'}, {'number': 4, 'created': '2018-04-10 11:58:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-specs/commit/ebaaa4344e3134a143a42fa99fe80f711ce100cd', 'message': 'Blueprint specs for openstack fds/fdio/vpp integration\n\nChange-Id: Ie91f21db4ea9b12a70ee351e4ef8be35f75890ab\n'}, {'number': 5, 'created': '2018-04-16 10:20:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-specs/commit/6fa57418ab560f162b3cda92dc84ec9b5c4fdce9', 'message': 'Blueprint specs for openstack fds/fdio/vpp integration\n\nChange-Id: Ie91f21db4ea9b12a70ee351e4ef8be35f75890ab\n'}, {'number': 6, 'created': '2018-04-16 10:29:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-specs/commit/41fdbad38e224a3dfde555ff99577babecb6a056', 'message': 'Blueprint specs for openstack fds/fdio/vpp integration\n\nChange-Id: Ie91f21db4ea9b12a70ee351e4ef8be35f75890ab\n'}, {'number': 7, 'created': '2018-04-16 10:56:15.000000000', 'files': ['specs/rocky/os-nosdn-fds.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-specs/commit/d830b45b89250a7c733199849395c811d470f808', 'message': 'Blueprint specs for openstack fds/fdio/vpp integration\n\nChange-Id: Ie91f21db4ea9b12a70ee351e4ef8be35f75890ab\n'}]",19,552079,d830b45b89250a7c733199849395c811d470f808,24,8,7,27938,,,0,"Blueprint specs for openstack fds/fdio/vpp integration

Change-Id: Ie91f21db4ea9b12a70ee351e4ef8be35f75890ab
",git fetch https://review.opendev.org/openstack/openstack-ansible-specs refs/changes/79/552079/7 && git format-patch -1 --stdout FETCH_HEAD,['specs/queens/os-nosdn-fds.rst'],1,876b74f9c16e021b717de0eec48102bb2090f3ea,bp/specs,"fd.io VPP support in neutron ################################# :date: 2018-02-12 :tags: neutron, vpp, fd.io Include the URL of your launchpad blueprint: * https://blueprints.launchpad.net/openstack-ansible/+spec/example This spec introduces the work required for VPP configured through Openstack-Ansible to enable Openstack deployments with VPP L2 plugin. Problem description =================== VPP can be used as a vSwitch in an OpenStack environment using the networking_vpp agent : https://git.openstack.org/cgit/openstack/networking-vpp/ VPP + networking_vpp deployment and configuration automation are already suported in tripleo or devstack environments. The purpose of this blueprint is to develop the necessary means to automate VPP deployment in openstack-ansible. Proposed change =============== To deploy and configure VPP as the ml2 mechanism for neutron, a playbook will be developed as part of the FDS project, implementing the required tasks. The configuration of VPP as the ml2 mechanism shall be done in the neutron role which configures ml2 mechanisms. The initial supported distros would be CentOS and Ubuntu. Alternatives ------------ Alternatives to the VPP vSwitch include openvswitch. Playbook/Role impact -------------------- openstack-ansible-os_nova: libvirt will require dmidecode packages since vpp makes use of hugepages openstack-ansible-os_neutron ml2.vpp will be supported as a neutron_plugin_type openstack-ansible neutron_vpp_agent Upgrade impact -------------- This is the first implementation of vpp as ml2, so no upgrade concerns. Security impact --------------- No security impact has been identified. Performance impact ------------------ A few extra packages needs to be installed, distro packages (vpp) as well as pip packages (networking_vpp). Installation would last a bit longer. End user impact --------------- Deployer impact --------------- Since VPP makes use of SSE4.2 instruction set, the targeted hosts processors must support it. Developer impact ---------------- How does this change impact future developers working on the ansible playbooks? Discuss things that will affect other developers working on OS-Ansible-Deployment, such as: * If this spec proposes a new role, how will that role be deployed? Is this a new default role? Does this role have a host impact? Dependencies ------------ Does this blueprint/spec depend one another blueprint or spec? * Include specific references to specs and/or blueprints in os-ansible-deployment, or in other projects, that this one either depends on or is related to. * Is the new requirement due to an upstream change? If so document it and provide references to the change. Implementation ============== Assignee(s) ----------- Primary assignee: Fabien Andrieux (fandrieu) Work items ---------- 1. Add a new playbook for vpp and vpp-agent Installation 2. Make the neutron tole to be configures with VPP as the ml2 plugin 3. Implement a new and pass a new test 4. Document the configuration Testing ======= The new scenario must pass the same tests as the ovs based scenario (os-nosdn-nofeature) Documentation impact ==================== The new scenario will be documented. References ========== fd.io/VPP project * https://fd.io * https://git.fd.io/vpp Fast Data Stack project * https://wiki.opnfv.org/display/fds/FastDataStacks+Home * https://git.opnfv.org/fds/ networking_vpp project * https://wiki.openstack.org/wiki/Networking-vpp * https://git.openstack.org/cgit/openstack/networking-vpp/",,137,0
openstack%2Fopenstack-ansible~master~Ic400746ee198f731be5c844f5fe5560257f4c0a3,openstack/openstack-ansible,master,Ic400746ee198f731be5c844f5fe5560257f4c0a3,[TEST] Remove SSH server from containers,ABANDONED,2017-09-12 15:01:40.000000000,2022-05-03 21:12:58.000000000,,"[{'_account_id': 17799}, {'_account_id': 22348}, {'_account_id': 24468}]","[{'number': 1, 'created': '2017-09-12 15:01:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/103fc6c2cfc06cd38a73d9df678cf29717b7cde5', 'message': '[TEST] Remove SSH server from containers\n\nChange-Id: Ic400746ee198f731be5c844f5fe5560257f4c0a3\nDepends-On: I57d2ba2a1ae16875c8204590137c0394a251c67b\n'}, {'number': 2, 'created': '2017-09-14 15:57:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/3908f213674f3aaad7cbb52867260a46feb52b90', 'message': '[TEST] Remove SSH server from containers\n\nDepends-On: I57d2ba2a1ae16875c8204590137c0394a251c67b\nDepends-On: Idb9a178ca2165920804eee12a54419722aa64f51\nChange-Id: Ic400746ee198f731be5c844f5fe5560257f4c0a3\n'}, {'number': 3, 'created': '2018-03-11 01:57:00.000000000', 'files': ['scripts/gate-check-commit.sh'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/c6fbad98fbe5637148000f0ce2de14ef4de52b4b', 'message': '[TEST] Remove SSH server from containers\n\nDepends-On: I57d2ba2a1ae16875c8204590137c0394a251c67b\nDepends-On: Idb9a178ca2165920804eee12a54419722aa64f51\nChange-Id: Ic400746ee198f731be5c844f5fe5560257f4c0a3\n'}]",0,503028,c6fbad98fbe5637148000f0ce2de14ef4de52b4b,20,3,3,17799,,,0,"[TEST] Remove SSH server from containers

Depends-On: I57d2ba2a1ae16875c8204590137c0394a251c67b
Depends-On: Idb9a178ca2165920804eee12a54419722aa64f51
Change-Id: Ic400746ee198f731be5c844f5fe5560257f4c0a3
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/28/503028/1 && git format-patch -1 --stdout FETCH_HEAD,['scripts/gate-check-commit.sh'],1,103fc6c2cfc06cd38a73d9df678cf29717b7cde5,remove-container-ssh,,,1,0
openstack%2Ftripleo-quickstart~master~I0da4b57ac25af6af8f21e1ce7412ef6071082df9,openstack/tripleo-quickstart,master,I0da4b57ac25af6af8f21e1ce7412ef6071082df9,WIP test reducing tempest_run_concurrency to 2,NEW,2022-05-03 11:17:47.000000000,2022-05-03 21:11:05.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-05-03 11:17:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/2bafa1c3cd3694f95adae468d9372c2730511bf9', 'message': 'WIP test reducing tempest_run_concurrency to 2\n\nTesting for OVB/Tempest issues TBD\n\nChange-Id: I0da4b57ac25af6af8f21e1ce7412ef6071082df9\n'}, {'number': 2, 'created': '2022-05-03 17:52:38.000000000', 'files': ['config/general_config/featureset035.yml', 'config/general_config/featureset001.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/62c9e630499d687f3b2b51b3611440fa5df2da84', 'message': 'WIP test reducing tempest_run_concurrency to 2\n\nAlso adding swap to overcloud.\n\nTesting for OVB/Tempest issues TBD\n\nChange-Id: I0da4b57ac25af6af8f21e1ce7412ef6071082df9\n'}]",0,840283,62c9e630499d687f3b2b51b3611440fa5df2da84,10,2,2,8449,,,0,"WIP test reducing tempest_run_concurrency to 2

Also adding swap to overcloud.

Testing for OVB/Tempest issues TBD

Change-Id: I0da4b57ac25af6af8f21e1ce7412ef6071082df9
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/83/840283/2 && git format-patch -1 --stdout FETCH_HEAD,"['config/general_config/featureset035.yml', 'config/general_config/featureset001.yml']",2,2bafa1c3cd3694f95adae468d9372c2730511bf9,I0da4b57ac25af6af8f21e1ce7412ef6071082df9,tempest_run_concurrency: 2,tempest_run_concurrency: 4,2,2
openstack%2Fopenstack-ansible-os_neutron~master~Ic5834ce9a5aabfcdcc07e59ca619fc64f3180a59,openstack/openstack-ansible-os_neutron,master,Ic5834ce9a5aabfcdcc07e59ca619fc64f3180a59,Add external-dns integration to neutron,ABANDONED,2017-07-04 15:17:16.000000000,2022-05-03 21:10:55.000000000,,"[{'_account_id': 6816}, {'_account_id': 8099}]","[{'number': 1, 'created': '2017-07-04 15:17:16.000000000', 'files': ['templates/neutron.conf.j2', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/ff0f1d18abeba8d2ffb244b5c6a4baa001c1835b', 'message': 'Add external-dns integration to neutron\n\nChange-Id: Ic5834ce9a5aabfcdcc07e59ca619fc64f3180a59\n'}]",0,480227,ff0f1d18abeba8d2ffb244b5c6a4baa001c1835b,6,2,1,8099,,,0,"Add external-dns integration to neutron

Change-Id: Ic5834ce9a5aabfcdcc07e59ca619fc64f3180a59
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_neutron refs/changes/27/480227/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/neutron.conf.j2', 'defaults/main.yml']",2,ff0f1d18abeba8d2ffb244b5c6a4baa001c1835b,external-dns,"### Legacy Designate integration### ML2 Designate integration ### neutron_ml2_designate_enabled: False designate_service_port: 9001 designate_service_proto: http designate_service_publicuri_proto: ""{{ openstack_service_publicuri_proto | default(designate_service_proto) }}"" designate_service_publicuri: ""{{ designate_service_publicuri_proto }}://{{ external_lb_vip_address }}:{{ designate_service_port }}"" designate_service_publicurl: ""{{ designate_service_publicuri }}"" designate_allow_reverse_dns_lookup: True designate_ipv4_ptr_zone_prefix_size: 24 designate_ipv6_ptr_zone_prefix_size: 116 ###",### Designate integration,34,1
openstack%2Fdiskimage-builder~master~I44d97e5bb31702aacf396e0229329a2ef9c64f2f,openstack/diskimage-builder,master,I44d97e5bb31702aacf396e0229329a2ef9c64f2f,centos: avoid head pipe failure,MERGED,2022-04-26 07:28:55.000000000,2022-05-03 21:06:13.000000000,2022-05-03 21:04:39.000000000,"[{'_account_id': 4146}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-26 07:28:55.000000000', 'files': ['diskimage_builder/elements/centos/root.d/10-centos-cloud-image', 'diskimage_builder/elements/fedora/root.d/10-fedora-cloud-image'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/5bc9e87da1165692562eecb3b4ffd698bf7f1ce7', 'message': 'centos: avoid head pipe failure\n\nI just saw in the trace output of a failure\n\n  > grep -o \'CentOS-.[^>]*GenericCloud-.[^>]*.qcow2\'\n  > sort -r\n  > head -1\n  sort: fflush failed: \'standard output\': Broken pipe\n  sort: write error\n\ni.e. the ""head -1"" has exited after reading one line, but ""sort -r""\nstill wants to write and thus has hit a pipe failure, and because we\nrun with ""-o pipefail"" this has halted the script.\n\nThis seems like it has been there more or less forever, maybe we just\ngot lucky hitting it now?  Anyway, we can work around this by using a\nprocess substitution and passing the output of this into head, this\nway we won\'t hit a pipe failure.\n\nI also updated the fedora path as it does the same thing.\n\nChange-Id: I44d97e5bb31702aacf396e0229329a2ef9c64f2f\n'}]",1,839307,5bc9e87da1165692562eecb3b4ffd698bf7f1ce7,14,2,1,7118,,,0,"centos: avoid head pipe failure

I just saw in the trace output of a failure

  > grep -o 'CentOS-.[^>]*GenericCloud-.[^>]*.qcow2'
  > sort -r
  > head -1
  sort: fflush failed: 'standard output': Broken pipe
  sort: write error

i.e. the ""head -1"" has exited after reading one line, but ""sort -r""
still wants to write and thus has hit a pipe failure, and because we
run with ""-o pipefail"" this has halted the script.

This seems like it has been there more or less forever, maybe we just
got lucky hitting it now?  Anyway, we can work around this by using a
process substitution and passing the output of this into head, this
way we won't hit a pipe failure.

I also updated the fedora path as it does the same thing.

Change-Id: I44d97e5bb31702aacf396e0229329a2ef9c64f2f
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/07/839307/1 && git format-patch -1 --stdout FETCH_HEAD,"['diskimage_builder/elements/centos/root.d/10-centos-cloud-image', 'diskimage_builder/elements/fedora/root.d/10-fedora-cloud-image']",2,5bc9e87da1165692562eecb3b4ffd698bf7f1ce7,centos-head-failure," SUBRELEASE=$(head -1 < <(curl -Ls $DIB_CLOUD_IMAGES/ | grep -o -P '(?<=Fedora-Cloud-Base-'${DIB_RELEASE}'-).*?(?=.'${ARCH}'.qcow2"")' | sort -r))"," SUBRELEASE=$(curl -Ls $DIB_CLOUD_IMAGES/ | grep -o -P '(?<=Fedora-Cloud-Base-'${DIB_RELEASE}'-).*?(?=.'${ARCH}'.qcow2"")' | sort -r | head -1)",2,2
openstack%2Fdiskimage-builder~master~Ia114f41d7a2fa86957235996f10a74adeecf767c,openstack/diskimage-builder,master,Ia114f41d7a2fa86957235996f10a74adeecf767c,yum-minimal: workaround missing $releasedir variable,MERGED,2022-04-29 04:42:37.000000000,2022-05-03 19:53:45.000000000,2022-05-03 19:52:22.000000000,"[{'_account_id': 4146}, {'_account_id': 5263}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-29 04:42:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/a7b74c6e773d9c6d19992aeb22cd86407ea61f34', 'message': 'yum-minimal: workaround missing $releasedir variable\n\nAs described inline, work around missing $releasedir variables seen in\nproduction builds.\n\nChange-Id: Ia114f41d7a2fa86957235996f10a74adeecf767c\n'}, {'number': 2, 'created': '2022-05-03 15:48:37.000000000', 'files': ['diskimage_builder/elements/yum-minimal/root.d/08-yum-chroot'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/999da8724373540cdf1254d053932c2f6418800c', 'message': 'yum-minimal: workaround missing $releasedir variable\n\nAs described inline, work around missing $releasedir variables seen in\nproduction builds.\n\nChange-Id: Ia114f41d7a2fa86957235996f10a74adeecf767c\n'}]",0,839840,999da8724373540cdf1254d053932c2f6418800c,17,3,2,7118,,,0,"yum-minimal: workaround missing $releasedir variable

As described inline, work around missing $releasedir variables seen in
production builds.

Change-Id: Ia114f41d7a2fa86957235996f10a74adeecf767c
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/40/839840/2 && git format-patch -1 --stdout FETCH_HEAD,['diskimage_builder/elements/yum-minimal/root.d/08-yum-chroot'],1,a7b74c6e773d9c6d19992aeb22cd86407ea61f34,centos-7-minimal-rpmdb,"# The rpmdb has been created by the host RPM. CentOS 7 only # understands bdb-based db's, while the host is (likey as not) a more # modern rpm that has created a sqlite db. These don't share files in # common, so to the in-chroot rpm the db just looks empty. This is a # super-weird state that the system is in, because everything is # installed and working, but packages don't look like they are. One # consequence of this is that yum's querying to setup the $releasever # variable fails and it remains unset. Because the default .repo # files use this we get invalid repo paths for any yum commands. The # easiest way around this seems to be to manually set --releasever=7; # this way yum can rebuild itself and recreate the rpmdb as it likes. # This is a mess that can hopefully go away when we don't care about # CentOS 7. For this reason, we only do this for CentOS 7, to avoid # hiding any problems on other distros. We only need to do this # for these initial steps, after that the db is correct. if [[ ${DISTRO_NAME} = centos && ${DIB_RELEASE%-stream} -le 7 ]]; then YUM=""${YUM} --releasever=${DIB_RELEASE}"" fi ",,19,0
openstack%2Ftripleo-common~master~I1726ab71fe1ff84bc35237a3a92d48090de7b0ad,openstack/tripleo-common,master,I1726ab71fe1ff84bc35237a3a92d48090de7b0ad,Add element reset-bls-entries to overcloud images,MERGED,2022-04-11 22:15:21.000000000,2022-05-03 19:23:02.000000000,2022-05-03 19:21:39.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-04-11 22:15:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/f528ce362f8b7e67543d574573dd43c980401c04', 'message': 'Add element reset-bls-entries\n\nThis is an element which will run a script on first boot to rename\n`/boot/loader/entries` filenames to match the new value of\n`/etc/machine-id`. This is required for `grub2-mkconfig` calls to\nincorporate existing values in the boot loader entry files.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-image-elements/+/837430\nCloses: rhbz#2073855\nChange-Id: I1726ab71fe1ff84bc35237a3a92d48090de7b0ad\n'}, {'number': 2, 'created': '2022-04-11 22:24:31.000000000', 'files': ['image-yaml/overcloud-images-python3.yaml', 'image-yaml/overcloud-hardened-images-uefi-python3-rt-kernel.yaml', 'image-yaml/overcloud-images-ceph.yaml', 'image-yaml/overcloud-hardened-images-uefi-python3.yaml', 'image-yaml/overcloud-realtime-compute-python3.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/7b786c0c37aba7076ee35f2ef04e8d0e13e6d6f0', 'message': 'Add element reset-bls-entries to overcloud images\n\nThis is an element which will run a script on first boot to rename\n`/boot/loader/entries` filenames to match the new value of\n`/etc/machine-id`. This is required for `grub2-mkconfig` calls to\nincorporate existing values in the boot loader entry files.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-image-elements/+/837430\nCloses: rhbz#2073855\nChange-Id: I1726ab71fe1ff84bc35237a3a92d48090de7b0ad\n'}]",1,837431,7b786c0c37aba7076ee35f2ef04e8d0e13e6d6f0,14,4,2,4571,,,0,"Add element reset-bls-entries to overcloud images

This is an element which will run a script on first boot to rename
`/boot/loader/entries` filenames to match the new value of
`/etc/machine-id`. This is required for `grub2-mkconfig` calls to
incorporate existing values in the boot loader entry files.

Depends-On: https://review.opendev.org/c/openstack/tripleo-image-elements/+/837430
Closes: rhbz#2073855
Change-Id: I1726ab71fe1ff84bc35237a3a92d48090de7b0ad
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/31/837431/1 && git format-patch -1 --stdout FETCH_HEAD,"['image-yaml/overcloud-images-python3.yaml', 'image-yaml/overcloud-hardened-images-uefi-python3-rt-kernel.yaml', 'image-yaml/overcloud-images-ceph.yaml', 'image-yaml/overcloud-hardened-images-uefi-python3.yaml', 'image-yaml/overcloud-realtime-compute-python3.yaml']",5,f528ce362f8b7e67543d574573dd43c980401c04,first-boot, - reset-bls-entries,,5,0
openstack%2Ftripleo-image-elements~master~I354aeabed6d2993ae600b86381a7b625ca7f89dc,openstack/tripleo-image-elements,master,I354aeabed6d2993ae600b86381a7b625ca7f89dc,Add element reset-bls-entries,MERGED,2022-04-11 22:11:36.000000000,2022-05-03 19:21:36.000000000,2022-05-03 19:21:36.000000000,"[{'_account_id': 4571}, {'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}, {'_account_id': 28223}]","[{'number': 1, 'created': '2022-04-11 22:11:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/a8db49eb9c846642a05ead78ab46afa862a2b88e', 'message': 'Add element reset-bls-entries\n\nThis is an element which will run a script on first boot to rename\n`/boot/loader/entries` filenames to match the new value of\n`/etc/machine-id`. This is required for `grub2-mkconfig` calls to\nincorporate existing values in the boot loader entry files.\n\nIt only runs when first-boot criteria is met, such as when\n`uninitialized` is written to `/etc/machine-id`\n\nrhbz#2073855\n\nChange-Id: I354aeabed6d2993ae600b86381a7b625ca7f89dc\nDepends-On: https://review.opendev.org/c/openstack/diskimage-builder/+/837251\n'}, {'number': 2, 'created': '2022-04-25 22:28:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/bb9c114e617897511555725a48cc861f24f8545b', 'message': 'Add element reset-bls-entries\n\nThis is an element which will run a script on first boot to rename\n`/boot/loader/entries` filenames to match the new value of\n`/etc/machine-id`. This is required for `grub2-mkconfig` calls to\nincorporate existing values in the boot loader entry files.\n\nIt only runs when first-boot criteria is met, such as when\n`uninitialized` is written to `/etc/machine-id`\n\nrhbz#2073855\n\nChange-Id: I354aeabed6d2993ae600b86381a7b625ca7f89dc\nDepends-On: https://review.opendev.org/c/openstack/diskimage-builder/+/837251\n'}, {'number': 3, 'created': '2022-04-26 02:58:23.000000000', 'files': ['elements/reset-bls-entries/post-install.d/80-reset-bls-entries', 'elements/reset-bls-entries/README.rst', 'elements/reset-bls-entries/init-scripts/systemd/reset-bls-entries.service', 'elements/reset-bls-entries/static/usr/lib/systemd/reset-bls-entries'], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/7fd9cbef64548e2f982d69f3a9ab277da63cb4f9', 'message': 'Add element reset-bls-entries\n\nThis is an element which will run a script on first boot to rename\n`/boot/loader/entries` filenames to match the new value of\n`/etc/machine-id`. This is required for `grub2-mkconfig` calls to\nincorporate existing values in the boot loader entry files.\n\nIt only runs when first-boot criteria is met, such as when\n`uninitialized` is written to `/etc/machine-id`\n\nrhbz#2073855\n\nChange-Id: I354aeabed6d2993ae600b86381a7b625ca7f89dc\nDepends-On: https://review.opendev.org/c/openstack/diskimage-builder/+/837251\n'}]",3,837430,7fd9cbef64548e2f982d69f3a9ab277da63cb4f9,23,7,3,4571,,,0,"Add element reset-bls-entries

This is an element which will run a script on first boot to rename
`/boot/loader/entries` filenames to match the new value of
`/etc/machine-id`. This is required for `grub2-mkconfig` calls to
incorporate existing values in the boot loader entry files.

It only runs when first-boot criteria is met, such as when
`uninitialized` is written to `/etc/machine-id`

rhbz#2073855

Change-Id: I354aeabed6d2993ae600b86381a7b625ca7f89dc
Depends-On: https://review.opendev.org/c/openstack/diskimage-builder/+/837251
",git fetch https://review.opendev.org/openstack/tripleo-image-elements refs/changes/30/837430/1 && git format-patch -1 --stdout FETCH_HEAD,"['elements/reset-bls-entries/post-install.d/80-reset-bls-entries', 'elements/reset-bls-entries/README.rst', 'elements/reset-bls-entries/init-scripts/systemd/reset-bls-entries.service', 'elements/reset-bls-entries/static/usr/lib/systemd/reset-bls-entries']",4,a8db49eb9c846642a05ead78ab46afa862a2b88e,first-boot,"#!/usr/bin/bash set -eux pushd /boot/loader/entries machine_id=$(</etc/machine-id) for entry in *.conf; do new_entry=$(echo $entry | sed ""s/^[a-f0-9]*/$machine_id/"") if [[ $entry != $new_entry ]]; then echo ""renaming $entry to $new_entry for new machine-id"" mv $entry $new_entry fi done popd ",,48,0
openstack%2Ftripleo-ansible~master~Ia02eda0e41f7d8e45df09047546e2c818388e817,openstack/tripleo-ansible,master,Ia02eda0e41f7d8e45df09047546e2c818388e817,Fix insertafter for managing cell host entries,MERGED,2022-04-22 11:15:14.000000000,2022-05-03 19:21:33.000000000,2022-05-03 19:21:33.000000000,"[{'_account_id': 7130}, {'_account_id': 7144}, {'_account_id': 8833}, {'_account_id': 17216}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-04-22 11:15:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/1126a920513106e32840d34806ccd643494c7f81', 'message': 'Fix insertafter for managing cell host entries\n\nAs of Ib9e3d0fa2c421ee477db4d0a476bed46c5c71074,\nthere is no longer # HEAT_HOSTS_END/START tags specificed\nfor ansible-controler /etc/hosts sections.\n\nInstead we specify it like:\n\nAdjust the tasks that automate creation of new cells v2,\nto properly fit that changed patterns.\n\nChange-Id: Ia02eda0e41f7d8e45df09047546e2c818388e817\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 2, 'created': '2022-04-22 11:16:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/5824b91ac1a76b91826df8629448d96639998697', 'message': 'Fix insertafter for managing cell host entries\n\nAs of Ib9e3d0fa2c421ee477db4d0a476bed46c5c71074,\nthere is no longer # HEAT_HOSTS_END/START tags specificed\nfor ansible-controler /etc/hosts sections.\n\nInstead we specify it like:\n\n # START/END_HOST_ENTRIES_FOR_STACK: <stack(cell)_name>\n\nAdjust the tasks that automate creation of new cells v2,\nto properly fit that changed patterns.\n\nChange-Id: Ia02eda0e41f7d8e45df09047546e2c818388e817\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 3, 'created': '2022-04-22 11:27:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/8bff2f51e4bb48c793bf6f8bdbc0d80dcef63859', 'message': 'Fix insertafter for managing cell host entries\n\nAs of Ib9e3d0fa2c421ee477db4d0a476bed46c5c71074,\nthere is no longer # HEAT_HOSTS_END/START tags specificed\nfor ansible-controler /etc/hosts sections.\n\nInstead we specify it like:\n\n # START/END_HOST_ENTRIES_FOR_STACK: <stack(cell)_name>\n\nAdjust the tasks that automate creation of new cells v2,\nto properly fit that changed patterns.\n\nChange-Id: Ia02eda0e41f7d8e45df09047546e2c818388e817\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 4, 'created': '2022-04-25 07:44:31.000000000', 'files': ['tripleo_ansible/roles/tripleo_cellv2/tasks/add_internalapi_hosts_entries.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/1d9498d9af5c66fb239b5c507103b2c617464720', 'message': 'Fix insertafter for managing cell host entries\n\nAs of Ib9e3d0fa2c421ee477db4d0a476bed46c5c71074,\nthere is no longer # HEAT_HOSTS_END/START tags specificed\nfor ansible-controler /etc/hosts sections.\n\nInstead we specify it like:\n\n # START/END_HOST_ENTRIES_FOR_STACK: <stack(cell)_name>\n\nAdjust the tasks that automate creation of new cells v2,\nto properly fit that changed patterns.\n\nChange-Id: Ia02eda0e41f7d8e45df09047546e2c818388e817\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}]",2,839049,1d9498d9af5c66fb239b5c507103b2c617464720,16,6,4,6926,,,0,"Fix insertafter for managing cell host entries

As of Ib9e3d0fa2c421ee477db4d0a476bed46c5c71074,
there is no longer # HEAT_HOSTS_END/START tags specificed
for ansible-controler /etc/hosts sections.

Instead we specify it like:

 # START/END_HOST_ENTRIES_FOR_STACK: <stack(cell)_name>

Adjust the tasks that automate creation of new cells v2,
to properly fit that changed patterns.

Change-Id: Ia02eda0e41f7d8e45df09047546e2c818388e817
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/49/839049/4 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo_cellv2/tasks/add_internalapi_hosts_entries.yml'],1,1126a920513106e32840d34806ccd643494c7f81,," insertafter: ""# END_HOST_ENTRIES_FOR_STACK: {{ tripleo_cellv2_cell_name }}"" insertafter: ""# END_HOST_ENTRIES_FOR_STACK: {{ tripleo_cellv2_cell_name }}"""," insertafter: ""# HEAT_HOSTS_END"" insertafter: ""# HEAT_HOSTS_END""",2,2
openstack%2Ftripleo-ansible~master~Id98266da33b7d7d20db7d517eeeb8f903b8f0d24,openstack/tripleo-ansible,master,Id98266da33b7d7d20db7d517eeeb8f903b8f0d24,"kernelargs play, gather facts after waiting for pre_tasks",MERGED,2022-04-22 01:02:47.000000000,2022-05-03 19:21:30.000000000,2022-05-03 19:21:30.000000000,"[{'_account_id': 7144}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}, {'_account_id': 28223}, {'_account_id': 33688}]","[{'number': 1, 'created': '2022-04-22 01:02:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/23612edab20b83a112d4b4b47520012ce31e2cc6', 'message': 'kernelargs play, gather facts after waiting pre_tasks wait\n\nThis playbook currently fails on the first attempt because the node is\nnot yet available for gather_facts: true.\n\nThis change defers gathering facts until after the node is available.\n\nChange-Id: Id98266da33b7d7d20db7d517eeeb8f903b8f0d24\nContributed-By: eshulman@redhat.com\n'}, {'number': 2, 'created': '2022-04-22 01:03:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/00835c50825f046478a2d6e4044e064a4bd5a4db', 'message': 'kernelargs play, gather facts after waiting for pre_tasks\n\nThis playbook currently fails on the first attempt because the node is\nnot yet available for gather_facts: true.\n\nThis change defers gathering facts until after the node is available.\n\nChange-Id: Id98266da33b7d7d20db7d517eeeb8f903b8f0d24\nContributed-By: eshulman@redhat.com\n'}, {'number': 3, 'created': '2022-04-25 21:15:43.000000000', 'files': ['tripleo_ansible/playbooks/cli-overcloud-node-kernelargs.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/833de9c5d00dbe707f89398b6a13b6af0d74e12c', 'message': 'kernelargs play, gather facts after waiting for pre_tasks\n\nThis playbook currently fails on the first attempt because the node is\nnot yet available for gather_facts: true.\n\nThis change defers gathering facts until after the node is available.\n\nChange-Id: Id98266da33b7d7d20db7d517eeeb8f903b8f0d24\nContributed-By: eshulman@redhat.com\n'}]",4,838963,833de9c5d00dbe707f89398b6a13b6af0d74e12c,20,7,3,4571,,,0,"kernelargs play, gather facts after waiting for pre_tasks

This playbook currently fails on the first attempt because the node is
not yet available for gather_facts: true.

This change defers gathering facts until after the node is available.

Change-Id: Id98266da33b7d7d20db7d517eeeb8f903b8f0d24
Contributed-By: eshulman@redhat.com
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/63/838963/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/playbooks/cli-overcloud-node-kernelargs.yaml'],1,23612edab20b83a112d4b4b47520012ce31e2cc6,kernelargs-play, gather_facts: false - name: gather facts setup:, gather_facts: true,3,1
openstack%2Fmanila-ui~stable%2Fwallaby~I81024f02006206ea1d58e47d81a6f473ef148c32,openstack/manila-ui,stable/wallaby,I81024f02006206ea1d58e47d81a6f473ef148c32,Drop lower-constraints.txt and its testing,MERGED,2022-05-02 19:48:44.000000000,2022-05-03 19:00:44.000000000,2022-05-03 18:57:59.000000000,"[{'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 29632}]","[{'number': 1, 'created': '2022-05-02 19:48:44.000000000', 'files': ['requirements.txt', '.zuul.yaml', 'lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/manila-ui/commit/db23e837398c7196b6d1eb9b4f2f8fd5f3865b3d', 'message': 'Drop lower-constraints.txt and its testing\n\nAs discussed in TC PTG[1] and TC resolution[2], we are\ndropping the lower-constraints.txt file and its testing.\nWe will keep lower bounds in the requirements.txt file but\nwith a note that these are not tested lower bounds and we\ntry our best to keep them updated.\n\n[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326\n[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal\n\nChange-Id: I81024f02006206ea1d58e47d81a6f473ef148c32\n(cherry picked from commit 68294505b14820eaf049ef79d41b8d3c16c30544)\n(cherry picked from commit 48e3c2b05102fc1033f7cc63e6e323ee97d9a3f3)\n(cherry picked from commit df769444226347e41c6cb7304c72aa892dfe0e0e)\n'}]",1,840236,db23e837398c7196b6d1eb9b4f2f8fd5f3865b3d,8,3,1,16643,,,0,"Drop lower-constraints.txt and its testing

As discussed in TC PTG[1] and TC resolution[2], we are
dropping the lower-constraints.txt file and its testing.
We will keep lower bounds in the requirements.txt file but
with a note that these are not tested lower bounds and we
try our best to keep them updated.

[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326
[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal

Change-Id: I81024f02006206ea1d58e47d81a6f473ef148c32
(cherry picked from commit 68294505b14820eaf049ef79d41b8d3c16c30544)
(cherry picked from commit 48e3c2b05102fc1033f7cc63e6e323ee97d9a3f3)
(cherry picked from commit df769444226347e41c6cb7304c72aa892dfe0e0e)
",git fetch https://review.opendev.org/openstack/manila-ui refs/changes/36/840236/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', '.zuul.yaml', 'lower-constraints.txt', 'tox.ini']",4,db23e837398c7196b6d1eb9b4f2f8fd5f3865b3d,drop-l-c,, [testenv:lower-constraints] deps = -c{toxinidir}/lower-constraints.txt -r{toxinidir}/test-requirements.txt -r{toxinidir}/requirements.txt,4,141
openstack%2Fdiskimage-builder~master~Id4cb15456db779a22ffc9b6fd6916bcb9e5d8270,openstack/diskimage-builder,master,Id4cb15456db779a22ffc9b6fd6916bcb9e5d8270,Temporarily stop running OpenSUSE functtests,MERGED,2022-05-03 15:48:37.000000000,2022-05-03 18:59:20.000000000,2022-05-03 18:57:03.000000000,"[{'_account_id': 4146}, {'_account_id': 5263}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-03 15:48:37.000000000', 'files': ['.zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/a25c2e84b612561e62298f6c868ac13ca37ce1ef', 'message': ""Temporarily stop running OpenSUSE functtests\n\nIn the last few hours, OpenSUSE has published an updated cloud image\nwith a mismatched SHA2-256 checksum file, so the functest jobs has\nstarted failing. We'll revert this as soon as it's working again.\n\nChange-Id: Id4cb15456db779a22ffc9b6fd6916bcb9e5d8270\n""}]",0,840328,a25c2e84b612561e62298f6c868ac13ca37ce1ef,10,3,1,5263,,,0,"Temporarily stop running OpenSUSE functtests

In the last few hours, OpenSUSE has published an updated cloud image
with a mismatched SHA2-256 checksum file, so the functest jobs has
started failing. We'll revert this as soon as it's working again.

Change-Id: Id4cb15456db779a22ffc9b6fd6916bcb9e5d8270
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/28/840328/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.d/jobs.yaml'],1,a25c2e84b612561e62298f6c868ac13ca37ce1ef,centos-7-minimal-rpmdb,, - opensuse/build-succeeds,0,1
openstack%2Fcharm-deployment-guide~master~Ic564bfd649bd8d3ba435577b7e7d2f472992a1c6,openstack/charm-deployment-guide,master,Ic564bfd649bd8d3ba435577b7e7d2f472992a1c6,Improve Placement special operation,MERGED,2022-05-03 16:47:37.000000000,2022-05-03 18:49:05.000000000,2022-05-03 18:47:58.000000000,"[{'_account_id': 2424}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-03 16:47:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/29974bd733b3d53f860a3a489e548e16caccbdb7', 'message': 'Improve Placement special operation\n\nImprove the instructions that cover the introduction of the\nplacement charm by mentioning that nova-compute payload\nupgrade should follow nova-cloud-controller payload upgrade.\n\nCorrect the payload upgrade order on the openstack-upgrade\npage by putting nova-compute after nova-cloud-controller.\nThe former was recently moved up due to minimise OVN control\nplane downtime but the current fix is essential.\n\nCloses-Bug: #1970266\nChange-Id: Ic564bfd649bd8d3ba435577b7e7d2f472992a1c6\n'}, {'number': 2, 'created': '2022-05-03 16:50:45.000000000', 'files': ['deploy-guide/source/upgrade-openstack.rst', 'deploy-guide/source/upgrade-charms.rst', 'deploy-guide/source/placement-charm-upgrade-to-train.rst'], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/b4d4a36160ca5da04726224247927e0e78e1b9fc', 'message': 'Improve Placement special operation\n\nImprove the instructions that cover the introduction of the\nplacement charm by mentioning that nova-compute payload\nupgrade should follow nova-cloud-controller payload upgrade.\n\nCorrect the payload upgrade order on the openstack-upgrade\npage by putting nova-compute after nova-cloud-controller.\nThe former was recently moved up due to minimise OVN control\nplane downtime but the current fix is essential.\n\nThe upgrdae-charms page was likewise updated.\n\nCloses-Bug: #1970266\nChange-Id: Ic564bfd649bd8d3ba435577b7e7d2f472992a1c6\n'}]",1,840358,b4d4a36160ca5da04726224247927e0e78e1b9fc,8,2,2,30561,,,0,"Improve Placement special operation

Improve the instructions that cover the introduction of the
placement charm by mentioning that nova-compute payload
upgrade should follow nova-cloud-controller payload upgrade.

Correct the payload upgrade order on the openstack-upgrade
page by putting nova-compute after nova-cloud-controller.
The former was recently moved up due to minimise OVN control
plane downtime but the current fix is essential.

The upgrdae-charms page was likewise updated.

Closes-Bug: #1970266
Change-Id: Ic564bfd649bd8d3ba435577b7e7d2f472992a1c6
",git fetch https://review.opendev.org/openstack/charm-deployment-guide refs/changes/58/840358/1 && git format-patch -1 --stdout FETCH_HEAD,"['deploy-guide/source/upgrade-openstack.rst', 'deploy-guide/source/placement-charm-upgrade-to-train.rst']",2,29974bd733b3d53f860a3a489e548e16caccbdb7,lp1970266-openstack-upgrade-order, juju deploy --series bionic --config openstack-origin=cloud:bionic-train cs:placementThe Compute service (nova-compute) should then be upgraded. .. _placement: https://charmhub.io/placement, juju deploy --series bionic --config openstack-origin=cloud:bionic-train placement.. _placement: https://jaas.ai/placement,10,9
openstack%2Fopenstack-ansible-os_tempest~master~I1d5aa1f32bae42e2eeeed37588f6ca564563e57a,openstack/openstack-ansible-os_tempest,master,I1d5aa1f32bae42e2eeeed37588f6ca564563e57a,Improve domain support,MERGED,2022-04-06 13:45:02.000000000,2022-05-03 18:34:02.000000000,2022-05-03 18:32:56.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2022-04-06 13:45:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/85a995badc2105c7aefbb37d3cd2e4d5261e6cd9', 'message': 'Improve domain support\n\nAllow to set domain for admin authentication and dynamically provisioned\naccounts.\n\nCurrently tempest admin user has to reside in the same domain as\ndynamically provisioned accounts.\n\nChange-Id: I1d5aa1f32bae42e2eeeed37588f6ca564563e57a\n'}, {'number': 2, 'created': '2022-04-26 16:41:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/59ffebda4a58c5620a1d884b3bb3066e41ff34e2', 'message': 'Improve domain support\n\nAllow to set domain for admin authentication and dynamically provisioned\naccounts.\n\nCurrently tempest admin user has to reside in the same domain as\ndynamically provisioned accounts.\n\nChange-Id: I1d5aa1f32bae42e2eeeed37588f6ca564563e57a\n'}, {'number': 3, 'created': '2022-04-26 16:45:44.000000000', 'files': ['templates/tempest.conf.j2', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/6a7a209c9ba3c8dc688c51672325a5a30ca4e6e8', 'message': 'Improve domain support\n\nAllow to set domain for admin authentication and dynamically provisioned\naccounts.\n\nCurrently tempest admin user has to reside in the same domain as\ndynamically provisioned accounts.\n\nChange-Id: I1d5aa1f32bae42e2eeeed37588f6ca564563e57a\n'}]",0,836833,6a7a209c9ba3c8dc688c51672325a5a30ca4e6e8,12,3,3,32666,,,0,"Improve domain support

Allow to set domain for admin authentication and dynamically provisioned
accounts.

Currently tempest admin user has to reside in the same domain as
dynamically provisioned accounts.

Change-Id: I1d5aa1f32bae42e2eeeed37588f6ca564563e57a
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_tempest refs/changes/33/836833/3 && git format-patch -1 --stdout FETCH_HEAD,"['templates/tempest.conf.j2', 'defaults/main.yml']",2,85a995badc2105c7aefbb37d3cd2e4d5261e6cd9,tempest-damian-2021-12,"tempest_domain_name: ""Default""","tempest_domain_name: ""default""",3,2
openstack%2Fpython-manilaclient~stable%2Fyoga~I7a234666c3edff6486257a370ec361045aa7947d,openstack/python-manilaclient,stable/yoga,I7a234666c3edff6486257a370ec361045aa7947d,Drop lower-constraints.txt and its testing,MERGED,2022-05-03 14:58:54.000000000,2022-05-03 18:24:51.000000000,2022-05-03 18:22:16.000000000,"[{'_account_id': 22348}, {'_account_id': 29632}]","[{'number': 1, 'created': '2022-05-03 14:58:54.000000000', 'files': ['requirements.txt', 'lower-constraints.txt', 'zuul.d/project.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/9f33f3ab1dc2eb5dd953ee7655c0db093d561d2b', 'message': 'Drop lower-constraints.txt and its testing\n\nAs discussed in TC PTG[1] and TC resolution[2], we are\ndropping the lower-constraints.txt file and its testing.\nWe will keep lower bounds in the requirements.txt file but\nwith a note that these are not tested lower bounds and we\ntry our best to keep them updated.\n\n[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326\n[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal\n\nChange-Id: I7a234666c3edff6486257a370ec361045aa7947d\n(cherry picked from commit bf2c7a26d62e240468ee062fddd49ff97a956e43)\n'}]",1,840299,9f33f3ab1dc2eb5dd953ee7655c0db093d561d2b,9,2,1,16643,,,0,"Drop lower-constraints.txt and its testing

As discussed in TC PTG[1] and TC resolution[2], we are
dropping the lower-constraints.txt file and its testing.
We will keep lower bounds in the requirements.txt file but
with a note that these are not tested lower bounds and we
try our best to keep them updated.

[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326
[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal

Change-Id: I7a234666c3edff6486257a370ec361045aa7947d
(cherry picked from commit bf2c7a26d62e240468ee062fddd49ff97a956e43)
",git fetch https://review.opendev.org/openstack/python-manilaclient refs/changes/99/840299/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'lower-constraints.txt', 'zuul.d/project.yaml', 'tox.ini']",4,9f33f3ab1dc2eb5dd953ee7655c0db093d561d2b,drop-l-c,, [testenv:lower-constraints] deps = -c{toxinidir}/lower-constraints.txt -r{toxinidir}/test-requirements.txt -r{toxinidir}/requirements.txt,4,99
openstack%2Fmanila-ui~stable%2Fxena~I81024f02006206ea1d58e47d81a6f473ef148c32,openstack/manila-ui,stable/xena,I81024f02006206ea1d58e47d81a6f473ef148c32,Drop lower-constraints.txt and its testing,MERGED,2022-05-02 19:47:31.000000000,2022-05-03 18:21:00.000000000,2022-05-03 18:17:54.000000000,"[{'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 29632}]","[{'number': 1, 'created': '2022-05-02 19:47:31.000000000', 'files': ['requirements.txt', '.zuul.yaml', 'lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/manila-ui/commit/df769444226347e41c6cb7304c72aa892dfe0e0e', 'message': 'Drop lower-constraints.txt and its testing\n\nAs discussed in TC PTG[1] and TC resolution[2], we are\ndropping the lower-constraints.txt file and its testing.\nWe will keep lower bounds in the requirements.txt file but\nwith a note that these are not tested lower bounds and we\ntry our best to keep them updated.\n\n[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326\n[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal\n\nChange-Id: I81024f02006206ea1d58e47d81a6f473ef148c32\n(cherry picked from commit 68294505b14820eaf049ef79d41b8d3c16c30544)\n(cherry picked from commit 48e3c2b05102fc1033f7cc63e6e323ee97d9a3f3)\n'}]",1,840235,df769444226347e41c6cb7304c72aa892dfe0e0e,8,3,1,16643,,,0,"Drop lower-constraints.txt and its testing

As discussed in TC PTG[1] and TC resolution[2], we are
dropping the lower-constraints.txt file and its testing.
We will keep lower bounds in the requirements.txt file but
with a note that these are not tested lower bounds and we
try our best to keep them updated.

[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326
[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal

Change-Id: I81024f02006206ea1d58e47d81a6f473ef148c32
(cherry picked from commit 68294505b14820eaf049ef79d41b8d3c16c30544)
(cherry picked from commit 48e3c2b05102fc1033f7cc63e6e323ee97d9a3f3)
",git fetch https://review.opendev.org/openstack/manila-ui refs/changes/35/840235/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', '.zuul.yaml', 'lower-constraints.txt', 'tox.ini']",4,df769444226347e41c6cb7304c72aa892dfe0e0e,drop-l-c,, [testenv:lower-constraints] deps = -c{toxinidir}/lower-constraints.txt -r{toxinidir}/test-requirements.txt -r{toxinidir}/requirements.txt,4,141
openstack%2Freleases~master~I355e3252e42816b25c26c8e5a2656515e9dc277b,openstack/releases,master,I355e3252e42816b25c26c8e5a2656515e9dc277b,[Puppet OpenStack] Transition rocky to EOL,MERGED,2021-11-29 11:45:51.000000000,2022-05-03 17:57:28.000000000,2022-05-03 17:57:28.000000000,"[{'_account_id': 9816}, {'_account_id': 16137}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-11-29 11:45:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/36ed6ec24998083112fb37240033b61be7746adf', 'message': '[Puppet OpenStack] Transition rocky to EOL\n\nChange-Id: I355e3252e42816b25c26c8e5a2656515e9dc277b\n'}, {'number': 2, 'created': '2021-11-29 12:00:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/72dbce32b48aefc6e762ab5541ebf2a3e6c612e7', 'message': ""[Puppet OpenStack] Transition rocky to EOL\n\nThis is the second step to retire old stable branches in Puppet\nOpenStack repos and makes stable/rocky EOL. The proposal was sent to\nthe mailing list[1] and we haven't heard any objections.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-October/025589.html\n\nChange-Id: I355e3252e42816b25c26c8e5a2656515e9dc277b\n""}, {'number': 3, 'created': '2021-11-30 23:40:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/fd18980ab8698392ae333ff405d3d8b060c0d01b', 'message': ""[Puppet OpenStack] Transition rocky to EOL\n\nThis is the second step to retire old stable branches in Puppet\nOpenStack repos and makes stable/rocky EOL. The proposal was sent to\nthe mailing list[1] and we haven't heard any objections.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-October/025589.html\n\nChange-Id: I355e3252e42816b25c26c8e5a2656515e9dc277b\n""}, {'number': 4, 'created': '2021-12-01 02:57:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/e9318c3aad4c802280adde2f5f4d9901f4f0f827', 'message': ""[Puppet OpenStack] Transition rocky to EOL\n\nThis is the second step to retire old stable branches in Puppet\nOpenStack repos and makes stable/rocky EOL. The proposal was sent to\nthe mailing list[1] and we haven't heard any objections.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-October/025589.html\n\nChange-Id: I355e3252e42816b25c26c8e5a2656515e9dc277b\n""}, {'number': 5, 'created': '2021-12-01 13:59:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/18d5c0913f8be6694a47a9e933e34120bc07e3cf', 'message': ""[Puppet OpenStack] Transition rocky to EOL\n\nThis is the second step to retire old stable branches in Puppet\nOpenStack repos and makes stable/rocky EOL. The proposal was sent to\nthe mailing list[1] and we haven't heard any objections.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-October/025589.html\n\nChange-Id: I355e3252e42816b25c26c8e5a2656515e9dc277b\n""}, {'number': 6, 'created': '2021-12-01 14:05:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/68492936cd23a90e651bf76a569409ca5d09c1cf', 'message': ""[Puppet OpenStack] Transition rocky to EOL\n\nThis is the second step to retire old stable branches in Puppet\nOpenStack repos and makes stable/rocky EOL. The proposal was sent to\nthe mailing list[1] and we haven't heard any objections.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-October/025589.html\n\nChange-Id: I355e3252e42816b25c26c8e5a2656515e9dc277b\n""}, {'number': 7, 'created': '2022-03-05 14:24:13.000000000', 'files': ['deliverables/rocky/puppet-oslo.yaml', 'deliverables/rocky/puppet-vitrage.yaml', 'deliverables/rocky/puppet-aodh.yaml', 'deliverables/rocky/puppet-panko.yaml', 'deliverables/rocky/puppet-congress.yaml', 'deliverables/rocky/puppet-glance.yaml', 'deliverables/rocky/puppet-zaqar.yaml', 'deliverables/rocky/puppet-freezer.yaml', 'deliverables/rocky/puppet-monasca.yaml', 'deliverables/rocky/puppet-octavia.yaml', 'deliverables/rocky/puppet-rally.yaml', 'deliverables/rocky/puppet-ceilometer.yaml', 'deliverables/rocky/puppet-keystone.yaml', 'deliverables/rocky/puppet-qdr.yaml', 'deliverables/rocky/puppet-ovn.yaml', 'deliverables/rocky/puppet-sahara.yaml', 'deliverables/rocky/puppet-heat.yaml', 'deliverables/rocky/puppet-openstacklib.yaml', 'deliverables/rocky/puppet-trove.yaml', 'deliverables/rocky/puppet-ironic.yaml', 'deliverables/rocky/puppet-murano.yaml', 'deliverables/rocky/puppet-neutron.yaml', 'deliverables/rocky/puppet-magnum.yaml', 'deliverables/rocky/puppet-watcher.yaml', 'deliverables/rocky/puppet-vswitch.yaml', 'deliverables/rocky/puppet-gnocchi.yaml', 'deliverables/rocky/puppet-cloudkitty.yaml', 'deliverables/rocky/puppet-manila.yaml', 'deliverables/rocky/puppet-ec2api.yaml', 'deliverables/rocky/puppet-swift.yaml', 'deliverables/rocky/puppet-glare.yaml', 'deliverables/rocky/puppet-mistral.yaml', 'deliverables/rocky/puppet-openstack_extras.yaml', 'deliverables/rocky/puppet-tempest.yaml', 'deliverables/rocky/puppet-cinder.yaml', 'deliverables/rocky/puppet-nova.yaml', 'deliverables/rocky/puppet-designate.yaml', 'deliverables/rocky/puppet-tacker.yaml', 'deliverables/rocky/puppet-horizon.yaml', 'deliverables/rocky/puppet-barbican.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/3468b43a2f3b59fba90c2471bf88e00415419ba6', 'message': ""[Puppet OpenStack] Transition rocky to EOL\n\nThis is the second step to retire old stable branches in Puppet\nOpenStack repos and makes stable/rocky EOL. The proposal was sent to\nthe mailing list[1] and we haven't heard any objections.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-October/025589.html\n\nChange-Id: I355e3252e42816b25c26c8e5a2656515e9dc277b\n""}]",7,819628,3468b43a2f3b59fba90c2471bf88e00415419ba6,26,5,7,9816,,,0,"[Puppet OpenStack] Transition rocky to EOL

This is the second step to retire old stable branches in Puppet
OpenStack repos and makes stable/rocky EOL. The proposal was sent to
the mailing list[1] and we haven't heard any objections.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-October/025589.html

Change-Id: I355e3252e42816b25c26c8e5a2656515e9dc277b
",git fetch https://review.opendev.org/openstack/releases refs/changes/28/819628/4 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/rocky/puppet-oslo.yaml', 'deliverables/rocky/puppet-vitrage.yaml', 'deliverables/rocky/puppet-aodh.yaml', 'deliverables/rocky/puppet-panko.yaml', 'deliverables/rocky/puppet-glance.yaml', 'deliverables/rocky/puppet-zaqar.yaml', 'deliverables/rocky/puppet-octavia.yaml', 'deliverables/rocky/puppet-rally.yaml', 'deliverables/rocky/puppet-ceilometer.yaml', 'deliverables/rocky/puppet-keystone.yaml', 'deliverables/rocky/puppet-qdr.yaml', 'deliverables/rocky/puppet-ovn.yaml', 'deliverables/rocky/puppet-sahara.yaml', 'deliverables/rocky/puppet-heat.yaml', 'deliverables/rocky/puppet-openstacklib.yaml', 'deliverables/rocky/puppet-trove.yaml', 'deliverables/rocky/puppet-ironic.yaml', 'deliverables/rocky/puppet-murano.yaml', 'deliverables/rocky/puppet-neutron.yaml', 'deliverables/rocky/puppet-magnum.yaml', 'deliverables/rocky/puppet-watcher.yaml', 'deliverables/rocky/puppet-vswitch.yaml', 'deliverables/rocky/puppet-gnocchi.yaml', 'deliverables/rocky/puppet-cloudkitty.yaml', 'deliverables/rocky/puppet-manila.yaml', 'deliverables/rocky/puppet-ec2api.yaml', 'deliverables/rocky/puppet-swift.yaml', 'deliverables/rocky/puppet-mistral.yaml', 'deliverables/rocky/puppet-openstack_extras.yaml', 'deliverables/rocky/puppet-tempest.yaml', 'deliverables/rocky/puppet-cinder.yaml', 'deliverables/rocky/puppet-nova.yaml', 'deliverables/rocky/puppet-designate.yaml', 'deliverables/rocky/puppet-tacker.yaml', 'deliverables/rocky/puppet-horizon.yaml', 'deliverables/rocky/puppet-barbican.yaml']",36,36ed6ec24998083112fb37240033b61be7746adf,puppet-eol, - version: rocky-eol projects: - repo: openstack/puppet-barbican hash: c08c87b97f6af64da301bb5917fd64e8e1bca48d,,144,0
openstack%2Fkayobe~master~I6d9e3acc477c9c4b3bb9db9c01a2db83b9568f59,openstack/kayobe,master,I6d9e3acc477c9c4b3bb9db9c01a2db83b9568f59,Multiple DHCP ranges for Ironic Inspector,MERGED,2022-02-03 12:31:00.000000000,2022-05-03 17:41:37.000000000,2022-05-03 17:40:27.000000000,"[{'_account_id': 14200}, {'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-02-03 12:31:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/8cce3f23e4079bc3fb0123bdeaced016d03b4154', 'message': 'Multiple DHCP Subnets for Ironic Inspector\n\nSynchronize with new kolla-ansible parameters introduced in the\nIb69fc0017b3bfbc8da4dfd4301710fbf88be661a for Ironic Inspector.\n\nDepends-On: Ib69fc0017b3bfbc8da4dfd4301710fbf88be661a\nChange-Id: I6d9e3acc477c9c4b3bb9db9c01a2db83b9568f59\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n'}, {'number': 2, 'created': '2022-02-03 15:15:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/b8f3776248f021a3d7d29088806c28f5846f1b3b', 'message': 'Multiple DHCP Subnets for Ironic Inspector\n\nSynchronize with new kolla-ansible parameters introduced in the\nIb69fc0017b3bfbc8da4dfd4301710fbf88be661a for Ironic Inspector.\n\nDepends-On: Ib69fc0017b3bfbc8da4dfd4301710fbf88be661a\nChange-Id: I6d9e3acc477c9c4b3bb9db9c01a2db83b9568f59\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n'}, {'number': 3, 'created': '2022-02-04 17:47:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/05cae74caf6888e9909e194e390ba364904182f2', 'message': 'Multiple DHCP Subnets for Ironic Inspector\n\nSynchronize with new kolla-ansible parameters introduced in the\nIb69fc0017b3bfbc8da4dfd4301710fbf88be661a for Ironic Inspector.\n\nDepends-On: Ib69fc0017b3bfbc8da4dfd4301710fbf88be661a\nChange-Id: I6d9e3acc477c9c4b3bb9db9c01a2db83b9568f59\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n'}, {'number': 4, 'created': '2022-03-18 12:55:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/9cce4672e89b5fa9b76f115d7d423579ad7e5790', 'message': 'Multiple DHCP Subnets for Ironic Inspector\n\nSynchronize with new kolla-ansible parameters introduced in the\nIb69fc0017b3bfbc8da4dfd4301710fbf88be661a for Ironic Inspector.\n\nDepends-On: Ib69fc0017b3bfbc8da4dfd4301710fbf88be661a\nChange-Id: I6d9e3acc477c9c4b3bb9db9c01a2db83b9568f59\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n'}, {'number': 5, 'created': '2022-04-14 12:42:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/d179dd84a275dead9e94bf15f7ea115a10ac5389', 'message': 'Multiple DHCP ranges for Ironic Inspector\n\nSynchronize with new kolla-ansible parameters introduced in the\nIb69fc0017b3bfbc8da4dfd4301710fbf88be661a for Ironic Inspector.\n\nDepends-On: Ib69fc0017b3bfbc8da4dfd4301710fbf88be661a\nChange-Id: I6d9e3acc477c9c4b3bb9db9c01a2db83b9568f59\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n'}, {'number': 6, 'created': '2022-04-14 12:47:47.000000000', 'files': ['ansible/roles/kolla-ansible/templates/kolla/globals.yml', 'ansible/roles/kolla-ansible/tests/test-defaults.yml', 'ansible/roles/kolla-ansible/tests/test-extras.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/43829dadc1f782d0abbf267925df3a4b0e4acdb3', 'message': 'Multiple DHCP ranges for Ironic Inspector\n\nSynchronize with new kolla-ansible parameters introduced in the\nIb69fc0017b3bfbc8da4dfd4301710fbf88be661a for Ironic Inspector.\n\nDepends-On: Ib69fc0017b3bfbc8da4dfd4301710fbf88be661a\nChange-Id: I6d9e3acc477c9c4b3bb9db9c01a2db83b9568f59\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n'}]",19,827653,43829dadc1f782d0abbf267925df3a4b0e4acdb3,44,5,6,14200,,,0,"Multiple DHCP ranges for Ironic Inspector

Synchronize with new kolla-ansible parameters introduced in the
Ib69fc0017b3bfbc8da4dfd4301710fbf88be661a for Ironic Inspector.

Depends-On: Ib69fc0017b3bfbc8da4dfd4301710fbf88be661a
Change-Id: I6d9e3acc477c9c4b3bb9db9c01a2db83b9568f59
Signed-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/53/827653/3 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/kolla-ansible/templates/kolla/globals.yml', 'ansible/roles/kolla-ansible/tests/test-defaults.yml', 'ansible/roles/kolla-ansible/tests/test-extras.yml']",3,8cce3f23e4079bc3fb0123bdeaced016d03b4154,ironic-inspector-routed-networks," ironic_dnsmasq_dhcp_subnets: - tag: ""subnet1"" ip_range: ""1.2.3.4,1.2.3.5"" netmask: ""255.255.255.0"" gateway: ""1.2.3.6"""," ironic_dnsmasq_dhcp_range: ""1.2.3.4,1.2.3.5,255.255.255.0"" ironic_dnsmasq_default_gateway: ""1.2.3.6""",13,6
openstack%2Foctavia~stable%2Fwallaby~I0f1cac05ebea12a300feffb22fdfe546cf802b87,openstack/octavia,stable/wallaby,I0f1cac05ebea12a300feffb22fdfe546cf802b87,Deny the creation of L7Policies for HTTPS/TCP/UDP listeners,MERGED,2022-04-27 08:13:42.000000000,2022-05-03 17:08:59.000000000,2022-05-03 17:06:52.000000000,"[{'_account_id': 7249}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 32761}, {'_account_id': 34429}]","[{'number': 1, 'created': '2022-04-27 08:13:42.000000000', 'files': ['octavia/tests/unit/api/drivers/amphora_driver/v2/test_driver.py', 'octavia/api/drivers/amphora_driver/v2/driver.py', 'releasenotes/notes/validate-protocols-for-l7policies-83d678171f13136a.yaml', 'octavia/api/drivers/amphora_driver/v1/driver.py', 'octavia/tests/unit/api/drivers/amphora_driver/v1/test_driver.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/5d332357d3c4aac693a4be9b0c0b5a4518148d3e', 'message': 'Deny the creation of L7Policies for HTTPS/TCP/UDP listeners\n\nL7Policies are not compatible with non-TERMINATED_HTTPS/HTTP listeners\n(i.e HTTPS/TCP/UDP listeners).\nThe Amphora driver should deny those invalid combinations.\n\nStory: 2007911\nTask: 40314\n\nChange-Id: I0f1cac05ebea12a300feffb22fdfe546cf802b87\n(cherry picked from commit 45b0a507a150721389833e33789b4cfdbc1a9590)\n(cherry picked from commit 4248e98acbfa76ef1ab6d35ffbf0abf5b61e0a33)\n(cherry picked from commit df1ecbda2cc2a32ec34f16d26f23d07453156641)\n'}]",1,839488,5d332357d3c4aac693a4be9b0c0b5a4518148d3e,10,5,1,29244,,,0,"Deny the creation of L7Policies for HTTPS/TCP/UDP listeners

L7Policies are not compatible with non-TERMINATED_HTTPS/HTTP listeners
(i.e HTTPS/TCP/UDP listeners).
The Amphora driver should deny those invalid combinations.

Story: 2007911
Task: 40314

Change-Id: I0f1cac05ebea12a300feffb22fdfe546cf802b87
(cherry picked from commit 45b0a507a150721389833e33789b4cfdbc1a9590)
(cherry picked from commit 4248e98acbfa76ef1ab6d35ffbf0abf5b61e0a33)
(cherry picked from commit df1ecbda2cc2a32ec34f16d26f23d07453156641)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/88/839488/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/tests/unit/api/drivers/amphora_driver/v2/test_driver.py', 'octavia/api/drivers/amphora_driver/v2/driver.py', 'releasenotes/notes/validate-protocols-for-l7policies-83d678171f13136a.yaml', 'octavia/api/drivers/amphora_driver/v1/driver.py', 'octavia/tests/unit/api/drivers/amphora_driver/v1/test_driver.py']",5,5d332357d3c4aac693a4be9b0c0b5a4518148d3e,," @mock.patch('octavia.db.api.get_session') @mock.patch('octavia.db.repositories.ListenerRepository.get') def test_l7policy_create(self, mock_cast, mock_listener_get, mock_session): mock_listener = mock.MagicMock() mock_listener.protocol = consts.PROTOCOL_HTTP mock_listener_get.return_value = mock_listener @mock.patch('octavia.db.api.get_session') @mock.patch('octavia.db.repositories.ListenerRepository.get') def test_l7policy_create_invalid_listener_protocol(self, mock_listener_get, mock_session): mock_listener = mock.MagicMock() mock_listener.protocol = consts.PROTOCOL_UDP mock_listener_get.return_value = mock_listener provider_l7policy = driver_dm.L7Policy( l7policy_id=self.sample_data.l7policy1_id) self.assertRaises(exceptions.UnsupportedOptionError, self.amp_driver.l7policy_create, provider_l7policy) "," def test_l7policy_create(self, mock_cast):",71,2
openstack%2Foctavia~stable%2Fussuri~I0f1cac05ebea12a300feffb22fdfe546cf802b87,openstack/octavia,stable/ussuri,I0f1cac05ebea12a300feffb22fdfe546cf802b87,Deny the creation of L7Policies for HTTPS/TCP/UDP listeners,MERGED,2022-04-27 08:18:09.000000000,2022-05-03 17:08:48.000000000,2022-05-03 17:06:59.000000000,"[{'_account_id': 7249}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 32761}, {'_account_id': 34429}]","[{'number': 1, 'created': '2022-04-27 08:18:09.000000000', 'files': ['octavia/tests/unit/api/drivers/amphora_driver/v1/test_amphora_driver.py', 'octavia/tests/unit/api/drivers/amphora_driver/v2/test_amphora_driver.py', 'octavia/api/drivers/amphora_driver/v2/driver.py', 'releasenotes/notes/validate-protocols-for-l7policies-83d678171f13136a.yaml', 'octavia/api/drivers/amphora_driver/v1/driver.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/22e679a4243cf1fdfd7d50166110299cc8e83fa2', 'message': 'Deny the creation of L7Policies for HTTPS/TCP/UDP listeners\n\nL7Policies are not compatible with non-TERMINATED_HTTPS/HTTP listeners\n(i.e HTTPS/TCP/UDP listeners).\nThe Amphora driver should deny those invalid combinations.\n\nStory: 2007911\nTask: 40314\n\nConflicts:\n\toctavia/api/drivers/amphora_driver/v1/driver.py\n\toctavia/api/drivers/amphora_driver/v2/driver.py\n\nChange-Id: I0f1cac05ebea12a300feffb22fdfe546cf802b87\n(cherry picked from commit 45b0a507a150721389833e33789b4cfdbc1a9590)\n(cherry picked from commit 4248e98acbfa76ef1ab6d35ffbf0abf5b61e0a33)\n(cherry picked from commit df1ecbda2cc2a32ec34f16d26f23d07453156641)\n(cherry picked from commit 5d332357d3c4aac693a4be9b0c0b5a4518148d3e)\n(cherry picked from commit 12133d16150917892ebea307701c51f64b638aca)\n'}]",1,839490,22e679a4243cf1fdfd7d50166110299cc8e83fa2,10,5,1,29244,,,0,"Deny the creation of L7Policies for HTTPS/TCP/UDP listeners

L7Policies are not compatible with non-TERMINATED_HTTPS/HTTP listeners
(i.e HTTPS/TCP/UDP listeners).
The Amphora driver should deny those invalid combinations.

Story: 2007911
Task: 40314

Conflicts:
	octavia/api/drivers/amphora_driver/v1/driver.py
	octavia/api/drivers/amphora_driver/v2/driver.py

Change-Id: I0f1cac05ebea12a300feffb22fdfe546cf802b87
(cherry picked from commit 45b0a507a150721389833e33789b4cfdbc1a9590)
(cherry picked from commit 4248e98acbfa76ef1ab6d35ffbf0abf5b61e0a33)
(cherry picked from commit df1ecbda2cc2a32ec34f16d26f23d07453156641)
(cherry picked from commit 5d332357d3c4aac693a4be9b0c0b5a4518148d3e)
(cherry picked from commit 12133d16150917892ebea307701c51f64b638aca)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/90/839490/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/tests/unit/api/drivers/amphora_driver/v1/test_amphora_driver.py', 'octavia/tests/unit/api/drivers/amphora_driver/v2/test_amphora_driver.py', 'octavia/api/drivers/amphora_driver/v2/driver.py', 'releasenotes/notes/validate-protocols-for-l7policies-83d678171f13136a.yaml', 'octavia/api/drivers/amphora_driver/v1/driver.py']",5,22e679a4243cf1fdfd7d50166110299cc8e83fa2,,"VALID_L7POLICY_LISTENER_PROTOCOLS = [ lib_consts.PROTOCOL_HTTP, lib_consts.PROTOCOL_TERMINATED_HTTPS ] db_listener = self.repositories.listener.get(db_apis.get_session(), id=l7policy.listener_id) if db_listener.protocol not in VALID_L7POLICY_LISTENER_PROTOCOLS: msg = ('%s protocol listeners do not support L7 policies' % ( db_listener.protocol)) raise exceptions.UnsupportedOptionError( user_fault_string=msg, operator_fault_string=msg)",,71,2
openstack%2Foctavia~stable%2Fvictoria~I0f1cac05ebea12a300feffb22fdfe546cf802b87,openstack/octavia,stable/victoria,I0f1cac05ebea12a300feffb22fdfe546cf802b87,Deny the creation of L7Policies for HTTPS/TCP/UDP listeners,MERGED,2022-04-27 08:14:16.000000000,2022-05-03 17:08:43.000000000,2022-05-03 17:06:44.000000000,"[{'_account_id': 7249}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 32761}, {'_account_id': 34429}]","[{'number': 1, 'created': '2022-04-27 08:14:16.000000000', 'files': ['octavia/tests/unit/api/drivers/amphora_driver/v1/test_amphora_driver.py', 'octavia/tests/unit/api/drivers/amphora_driver/v2/test_amphora_driver.py', 'octavia/api/drivers/amphora_driver/v2/driver.py', 'releasenotes/notes/validate-protocols-for-l7policies-83d678171f13136a.yaml', 'octavia/api/drivers/amphora_driver/v1/driver.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/12133d16150917892ebea307701c51f64b638aca', 'message': 'Deny the creation of L7Policies for HTTPS/TCP/UDP listeners\n\nL7Policies are not compatible with non-TERMINATED_HTTPS/HTTP listeners\n(i.e HTTPS/TCP/UDP listeners).\nThe Amphora driver should deny those invalid combinations.\n\nStory: 2007911\nTask: 40314\n\nChange-Id: I0f1cac05ebea12a300feffb22fdfe546cf802b87\n(cherry picked from commit 45b0a507a150721389833e33789b4cfdbc1a9590)\n(cherry picked from commit 4248e98acbfa76ef1ab6d35ffbf0abf5b61e0a33)\n(cherry picked from commit df1ecbda2cc2a32ec34f16d26f23d07453156641)\n(cherry picked from commit 5d332357d3c4aac693a4be9b0c0b5a4518148d3e)\n'}]",1,839489,12133d16150917892ebea307701c51f64b638aca,10,5,1,29244,,,0,"Deny the creation of L7Policies for HTTPS/TCP/UDP listeners

L7Policies are not compatible with non-TERMINATED_HTTPS/HTTP listeners
(i.e HTTPS/TCP/UDP listeners).
The Amphora driver should deny those invalid combinations.

Story: 2007911
Task: 40314

Change-Id: I0f1cac05ebea12a300feffb22fdfe546cf802b87
(cherry picked from commit 45b0a507a150721389833e33789b4cfdbc1a9590)
(cherry picked from commit 4248e98acbfa76ef1ab6d35ffbf0abf5b61e0a33)
(cherry picked from commit df1ecbda2cc2a32ec34f16d26f23d07453156641)
(cherry picked from commit 5d332357d3c4aac693a4be9b0c0b5a4518148d3e)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/89/839489/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/tests/unit/api/drivers/amphora_driver/v1/test_amphora_driver.py', 'octavia/tests/unit/api/drivers/amphora_driver/v2/test_amphora_driver.py', 'octavia/api/drivers/amphora_driver/v2/driver.py', 'releasenotes/notes/validate-protocols-for-l7policies-83d678171f13136a.yaml', 'octavia/api/drivers/amphora_driver/v1/driver.py']",5,12133d16150917892ebea307701c51f64b638aca,,"VALID_L7POLICY_LISTENER_PROTOCOLS = [ lib_consts.PROTOCOL_HTTP, lib_consts.PROTOCOL_TERMINATED_HTTPS ] db_listener = self.repositories.listener.get(db_apis.get_session(), id=l7policy.listener_id) if db_listener.protocol not in VALID_L7POLICY_LISTENER_PROTOCOLS: msg = ('%s protocol listeners do not support L7 policies' % ( db_listener.protocol)) raise exceptions.UnsupportedOptionError( user_fault_string=msg, operator_fault_string=msg)",,71,2
openstack%2Foctavia~stable%2Fyoga~I0f1cac05ebea12a300feffb22fdfe546cf802b87,openstack/octavia,stable/yoga,I0f1cac05ebea12a300feffb22fdfe546cf802b87,Deny the creation of L7Policies for HTTPS/TCP/UDP listeners,MERGED,2022-04-27 08:10:49.000000000,2022-05-03 17:08:42.000000000,2022-05-03 17:06:37.000000000,"[{'_account_id': 7249}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 32761}, {'_account_id': 34429}]","[{'number': 1, 'created': '2022-04-27 08:10:49.000000000', 'files': ['octavia/tests/unit/api/drivers/amphora_driver/v2/test_driver.py', 'octavia/api/drivers/amphora_driver/v2/driver.py', 'releasenotes/notes/validate-protocols-for-l7policies-83d678171f13136a.yaml', 'octavia/api/drivers/amphora_driver/v1/driver.py', 'octavia/tests/unit/api/drivers/amphora_driver/v1/test_driver.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/4248e98acbfa76ef1ab6d35ffbf0abf5b61e0a33', 'message': 'Deny the creation of L7Policies for HTTPS/TCP/UDP listeners\n\nL7Policies are not compatible with non-TERMINATED_HTTPS/HTTP listeners\n(i.e HTTPS/TCP/UDP listeners).\nThe Amphora driver should deny those invalid combinations.\n\nStory: 2007911\nTask: 40314\n\nChange-Id: I0f1cac05ebea12a300feffb22fdfe546cf802b87\n(cherry picked from commit 45b0a507a150721389833e33789b4cfdbc1a9590)\n'}]",2,839486,4248e98acbfa76ef1ab6d35ffbf0abf5b61e0a33,12,5,1,29244,,,0,"Deny the creation of L7Policies for HTTPS/TCP/UDP listeners

L7Policies are not compatible with non-TERMINATED_HTTPS/HTTP listeners
(i.e HTTPS/TCP/UDP listeners).
The Amphora driver should deny those invalid combinations.

Story: 2007911
Task: 40314

Change-Id: I0f1cac05ebea12a300feffb22fdfe546cf802b87
(cherry picked from commit 45b0a507a150721389833e33789b4cfdbc1a9590)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/86/839486/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/tests/unit/api/drivers/amphora_driver/v2/test_driver.py', 'octavia/api/drivers/amphora_driver/v2/driver.py', 'releasenotes/notes/validate-protocols-for-l7policies-83d678171f13136a.yaml', 'octavia/api/drivers/amphora_driver/v1/driver.py', 'octavia/tests/unit/api/drivers/amphora_driver/v1/test_driver.py']",5,4248e98acbfa76ef1ab6d35ffbf0abf5b61e0a33,," @mock.patch('octavia.db.api.get_session') @mock.patch('octavia.db.repositories.ListenerRepository.get') def test_l7policy_create(self, mock_cast, mock_listener_get, mock_session): mock_listener = mock.MagicMock() mock_listener.protocol = consts.PROTOCOL_HTTP mock_listener_get.return_value = mock_listener @mock.patch('octavia.db.api.get_session') @mock.patch('octavia.db.repositories.ListenerRepository.get') def test_l7policy_create_invalid_listener_protocol(self, mock_listener_get, mock_session): mock_listener = mock.MagicMock() mock_listener.protocol = consts.PROTOCOL_UDP mock_listener_get.return_value = mock_listener provider_l7policy = driver_dm.L7Policy( l7policy_id=self.sample_data.l7policy1_id) self.assertRaises(exceptions.UnsupportedOptionError, self.amp_driver.l7policy_create, provider_l7policy) "," def test_l7policy_create(self, mock_cast):",71,2
openstack%2Foctavia~stable%2Fxena~I0f1cac05ebea12a300feffb22fdfe546cf802b87,openstack/octavia,stable/xena,I0f1cac05ebea12a300feffb22fdfe546cf802b87,Deny the creation of L7Policies for HTTPS/TCP/UDP listeners,MERGED,2022-04-27 08:13:12.000000000,2022-05-03 17:08:41.000000000,2022-05-03 17:06:29.000000000,"[{'_account_id': 7249}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 32761}, {'_account_id': 34429}]","[{'number': 1, 'created': '2022-04-27 08:13:12.000000000', 'files': ['octavia/tests/unit/api/drivers/amphora_driver/v2/test_driver.py', 'octavia/api/drivers/amphora_driver/v2/driver.py', 'releasenotes/notes/validate-protocols-for-l7policies-83d678171f13136a.yaml', 'octavia/api/drivers/amphora_driver/v1/driver.py', 'octavia/tests/unit/api/drivers/amphora_driver/v1/test_driver.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/df1ecbda2cc2a32ec34f16d26f23d07453156641', 'message': 'Deny the creation of L7Policies for HTTPS/TCP/UDP listeners\n\nL7Policies are not compatible with non-TERMINATED_HTTPS/HTTP listeners\n(i.e HTTPS/TCP/UDP listeners).\nThe Amphora driver should deny those invalid combinations.\n\nStory: 2007911\nTask: 40314\n\nChange-Id: I0f1cac05ebea12a300feffb22fdfe546cf802b87\n(cherry picked from commit 45b0a507a150721389833e33789b4cfdbc1a9590)\n(cherry picked from commit 4248e98acbfa76ef1ab6d35ffbf0abf5b61e0a33)\n'}]",1,839487,df1ecbda2cc2a32ec34f16d26f23d07453156641,10,5,1,29244,,,0,"Deny the creation of L7Policies for HTTPS/TCP/UDP listeners

L7Policies are not compatible with non-TERMINATED_HTTPS/HTTP listeners
(i.e HTTPS/TCP/UDP listeners).
The Amphora driver should deny those invalid combinations.

Story: 2007911
Task: 40314

Change-Id: I0f1cac05ebea12a300feffb22fdfe546cf802b87
(cherry picked from commit 45b0a507a150721389833e33789b4cfdbc1a9590)
(cherry picked from commit 4248e98acbfa76ef1ab6d35ffbf0abf5b61e0a33)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/87/839487/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/tests/unit/api/drivers/amphora_driver/v2/test_driver.py', 'octavia/api/drivers/amphora_driver/v2/driver.py', 'releasenotes/notes/validate-protocols-for-l7policies-83d678171f13136a.yaml', 'octavia/api/drivers/amphora_driver/v1/driver.py', 'octavia/tests/unit/api/drivers/amphora_driver/v1/test_driver.py']",5,df1ecbda2cc2a32ec34f16d26f23d07453156641,," @mock.patch('octavia.db.api.get_session') @mock.patch('octavia.db.repositories.ListenerRepository.get') def test_l7policy_create(self, mock_cast, mock_listener_get, mock_session): mock_listener = mock.MagicMock() mock_listener.protocol = consts.PROTOCOL_HTTP mock_listener_get.return_value = mock_listener @mock.patch('octavia.db.api.get_session') @mock.patch('octavia.db.repositories.ListenerRepository.get') def test_l7policy_create_invalid_listener_protocol(self, mock_listener_get, mock_session): mock_listener = mock.MagicMock() mock_listener.protocol = consts.PROTOCOL_UDP mock_listener_get.return_value = mock_listener provider_l7policy = driver_dm.L7Policy( l7policy_id=self.sample_data.l7policy1_id) self.assertRaises(exceptions.UnsupportedOptionError, self.amp_driver.l7policy_create, provider_l7policy) "," def test_l7policy_create(self, mock_cast):",71,2
openstack%2Fswift~master~Ifce78b1a196745d1d771e7a85591e4d9effcf81c,openstack/swift,master,Ifce78b1a196745d1d771e7a85591e4d9effcf81c,More tests for rebalance_missing_suppression_count,MERGED,2022-05-03 15:00:23.000000000,2022-05-03 17:03:09.000000000,2022-05-03 17:01:45.000000000,"[{'_account_id': 1179}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-03 15:00:23.000000000', 'files': ['test/unit/proxy/controllers/test_obj.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/0b1cc8b0c4c7480549770596aacb439158ba8060', 'message': ""More tests for rebalance_missing_suppression_count\n\nThis option already has everything ops needs to control client/server\nerror responses during rebalance; we should document it's expected use\nmore effectively.\n\nChange-Id: Ifce78b1a196745d1d771e7a85591e4d9effcf81c\n""}]",3,840320,0b1cc8b0c4c7480549770596aacb439158ba8060,9,3,1,1179,,,0,"More tests for rebalance_missing_suppression_count

This option already has everything ops needs to control client/server
error responses during rebalance; we should document it's expected use
more effectively.

Change-Id: Ifce78b1a196745d1d771e7a85591e4d9effcf81c
",git fetch https://review.opendev.org/openstack/swift refs/changes/20/840320/1 && git format-patch -1 --stdout FETCH_HEAD,['test/unit/proxy/controllers/test_obj.py'],1,0b1cc8b0c4c7480549770596aacb439158ba8060,," # overloaded primary after double rebalance # ... opts should increase rebalance_missing_suppression_count policy_opts.rebalance_missing_suppression_count = 2 do_test([Timeout(), 404, 404], 503) # two primaries out, but no rebalance # ... default is fine for tombstones policy_opts.rebalance_missing_suppression_count = 1 do_test([Timeout(), Exception('kaboom!'), 404], 404, include_timestamp=True) # ... but maybe not ideal for missing names # (N.B. 503 isn't really a BAD response here) do_test([Timeout(), Exception('kaboom!'), 404], 503) # still ... ops might think they should tune it down policy_opts.rebalance_missing_suppression_count = 0 do_test([Timeout(), Exception('kaboom!'), 404], 404) # and we could maybe leave it like this for the next rebalance do_test([Timeout(), 404, 404], 404) # ... but it gets bad when faced with timeouts, b/c we can't trust a # single primary 404 response during rebalance do_test([Timeout(), Timeout(), 404], 404) # ops needs to fix configs to get the 503 policy_opts.rebalance_missing_suppression_count = 1 do_test([Timeout(), Timeout(), 404], 503) ",,25,0
openstack%2Fneutron-tempest-plugin~master~If6af3155645be06351cb78506d3ad2dfaac4d059,openstack/neutron-tempest-plugin,master,If6af3155645be06351cb78506d3ad2dfaac4d059,[sfc] Remove setup_clients method,MERGED,2022-04-07 09:14:23.000000000,2022-05-03 17:01:42.000000000,2022-05-03 17:01:42.000000000,"[{'_account_id': 8313}, {'_account_id': 13861}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-07 09:14:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/2d88f5fe27376b68ed9c11bd469aafa2587fa33d', 'message': '[sfc] Remove setup_clients method\n\nAs tempest.scenario.manager was announced stable interface in Tempest\n27.0.0[1] it can be now reused in plugins.\n\nRemoved methods:\n    * setup_clients\n\nEtherpad concerning this effort:\nhttps://etherpad.opendev.org/p/tempest-scenario-manager-cleanup\n\n[1] https://docs.openstack.org/releasenotes/tempest/v27.0.0.html#release-notes-27-0-0\n\nChange-Id: If6af3155645be06351cb78506d3ad2dfaac4d059\n'}, {'number': 2, 'created': '2022-04-07 10:01:37.000000000', 'files': ['neutron_tempest_plugin/sfc/tests/scenario/manager.py'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/edea483d95814204abde5cab1fee701537699ed6', 'message': '[sfc] Remove setup_clients method\n\nAs tempest.scenario.manager was announced stable interface in Tempest\n27.0.0[1] it can be now reused in plugins.\n\nRemoved methods:\n    * setup_clients\n\nEtherpad concerning this effort:\nhttps://etherpad.opendev.org/p/tempest-scenario-manager-cleanup\n\n[1] https://docs.openstack.org/releasenotes/tempest/v27.0.0.html#release-notes-27-0-0\n\nChange-Id: If6af3155645be06351cb78506d3ad2dfaac4d059\n'}]",2,836915,edea483d95814204abde5cab1fee701537699ed6,12,4,2,33732,,,0,"[sfc] Remove setup_clients method

As tempest.scenario.manager was announced stable interface in Tempest
27.0.0[1] it can be now reused in plugins.

Removed methods:
    * setup_clients

Etherpad concerning this effort:
https://etherpad.opendev.org/p/tempest-scenario-manager-cleanup

[1] https://docs.openstack.org/releasenotes/tempest/v27.0.0.html#release-notes-27-0-0

Change-Id: If6af3155645be06351cb78506d3ad2dfaac4d059
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/15/836915/2 && git format-patch -1 --stdout FETCH_HEAD,['neutron_tempest_plugin/sfc/tests/scenario/manager.py'],1,2d88f5fe27376b68ed9c11bd469aafa2587fa33d,tempest-scenario-manager-cleanup,," @classmethod def setup_clients(cls): super(ScenarioTest, cls).setup_clients() # Clients (in alphabetical order) cls.keypairs_client = cls.os_primary.keypairs_client cls.servers_client = cls.os_primary.servers_client # Neutron network client cls.networks_client = cls.os_primary.networks_client cls.ports_client = cls.os_primary.ports_client cls.routers_client = cls.os_primary.routers_client cls.subnets_client = cls.os_primary.subnets_client cls.floating_ips_client = cls.os_primary.floating_ips_client cls.security_groups_client = cls.os_primary.security_groups_client cls.security_group_rules_client = ( cls.os_primary.security_group_rules_client) ",0,16
openstack%2Fneutron-tempest-plugin~master~I6a7268784b8a915aab665db1bc00e764f40986ef,openstack/neutron-tempest-plugin,master,I6a7268784b8a915aab665db1bc00e764f40986ef,[sfc] Remove _get_server_port_id_and_ip4 & check_vm_connectivity,MERGED,2022-04-07 09:11:13.000000000,2022-05-03 17:01:39.000000000,2022-05-03 17:01:39.000000000,"[{'_account_id': 8313}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-07 09:11:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/86bd5ab6618ccefa87ffacb29b2f7fff66c9510d', 'message': ""[sfc] Remove _get_server_port_id_and_ip4 & check_vm_connectivity\n\nAs tempest.scenario.manager was announced stable interface in Tempest\n27.0.0[1] it can be now reused in plugins.\n\nRemoved methods:\n    * _get_server_port_id_and_ip4\n    * check_vm_connectivity\n\nThere is a slight difference between tempest's\n_get_server_port_id_and_ip4 and this one.\nMost changes are just fixes, without bigger logical interference.\nSee some of the related patches below.[2][3]\n\nEtherpad concerning this effort:\nhttps://etherpad.opendev.org/p/tempest-scenario-manager-cleanup\n\n[1] https://docs.openstack.org/releasenotes/tempest/v27.0.0.html#release-notes-27-0-0\n[2] https://opendev.org/openstack/tempest/commit/5c191faae78f52f876edba72484ea644d3df04fd\n[3] https://opendev.org/openstack/tempest/commit/95a3169e1782f31c794e56cb836c1d9476a0adf8\n\nChange-Id: I6a7268784b8a915aab665db1bc00e764f40986ef\n""}, {'number': 2, 'created': '2022-04-07 10:01:32.000000000', 'files': ['neutron_tempest_plugin/sfc/tests/scenario/manager.py', 'neutron_tempest_plugin/sfc/tests/scenario/test_sfc.py'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/12cd47abccc2d31c2c41600bdc4ad865e3e4f5e3', 'message': ""[sfc] Remove _get_server_port_id_and_ip4 & check_vm_connectivity\n\nAs tempest.scenario.manager was announced stable interface in Tempest\n27.0.0[1] it can be now reused in plugins.\n\nRemoved methods:\n    * _get_server_port_id_and_ip4\n    * check_vm_connectivity\n\nThere is a slight difference between tempest's\n_get_server_port_id_and_ip4 and this one.\nMost changes are just fixes, without bigger logical interference.\nSee some of the related patches below.[2][3]\n\nEtherpad concerning this effort:\nhttps://etherpad.opendev.org/p/tempest-scenario-manager-cleanup\n\n[1] https://docs.openstack.org/releasenotes/tempest/v27.0.0.html#release-notes-27-0-0\n[2] https://opendev.org/openstack/tempest/commit/5c191faae78f52f876edba72484ea644d3df04fd\n[3] https://opendev.org/openstack/tempest/commit/95a3169e1782f31c794e56cb836c1d9476a0adf8\n\nChange-Id: I6a7268784b8a915aab665db1bc00e764f40986ef\n""}]",0,836914,12cd47abccc2d31c2c41600bdc4ad865e3e4f5e3,9,3,2,33732,,,0,"[sfc] Remove _get_server_port_id_and_ip4 & check_vm_connectivity

As tempest.scenario.manager was announced stable interface in Tempest
27.0.0[1] it can be now reused in plugins.

Removed methods:
    * _get_server_port_id_and_ip4
    * check_vm_connectivity

There is a slight difference between tempest's
_get_server_port_id_and_ip4 and this one.
Most changes are just fixes, without bigger logical interference.
See some of the related patches below.[2][3]

Etherpad concerning this effort:
https://etherpad.opendev.org/p/tempest-scenario-manager-cleanup

[1] https://docs.openstack.org/releasenotes/tempest/v27.0.0.html#release-notes-27-0-0
[2] https://opendev.org/openstack/tempest/commit/5c191faae78f52f876edba72484ea644d3df04fd
[3] https://opendev.org/openstack/tempest/commit/95a3169e1782f31c794e56cb836c1d9476a0adf8

Change-Id: I6a7268784b8a915aab665db1bc00e764f40986ef
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/14/836914/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_tempest_plugin/sfc/tests/scenario/manager.py', 'neutron_tempest_plugin/sfc/tests/scenario/test_sfc.py']",2,86bd5ab6618ccefa87ffacb29b2f7fff66c9510d,tempest-scenario-manager-cleanup, self.get_server_port_id_and_ip4(server)), self._get_server_port_id_and_ip4(server)),1,62
openstack%2Fneutron-tempest-plugin~master~Ib185214a904333e597ac14e0501d942a93ab53f3,openstack/neutron-tempest-plugin,master,Ib185214a904333e597ac14e0501d942a93ab53f3,[sfc] Remove _get_router & _create_network,MERGED,2022-04-06 07:39:39.000000000,2022-05-03 17:01:36.000000000,2022-05-03 17:01:36.000000000,"[{'_account_id': 8313}, {'_account_id': 13861}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-06 07:39:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/ab7b8861be7954dc163694b59cdcfc2921391087', 'message': ""[sfc] Remove _get_router & _create_network\n\nAs tempest.scenario.manager was announced stable interface in Tempest\n27.0.0[1] it can be now reused in plugins.\n\nRemoved methods:\n    * _get_router\n    * _create_network\n\nThere is a slight difference between tempest's get_router and this one.\nMostly is just fixes, without bigger logical interference.\nSee related patches below.[2][3]\n\nEtherpad concerning this effort:\nhttps://etherpad.opendev.org/p/tempest-scenario-manager-cleanup\n\n[1] https://docs.openstack.org/releasenotes/tempest/v27.0.0.html#release-notes-27-0-0\n[2] https://opendev.org/openstack/tempest/commit/3484f9901ca9c5c6607932d8dc4a7a451e817a59\n[3] https://opendev.org/openstack/tempest/commit/0090a1048c0ad412e6c2f0bf0a0a91a393e09960\n\nChange-Id: Ib185214a904333e597ac14e0501d942a93ab53f3\n""}, {'number': 2, 'created': '2022-04-06 07:40:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/d6c7551eb738db200fd508349b5cdb276a05468a', 'message': ""[sfc] Remove _get_router & _create_network\n\nAs tempest.scenario.manager was announced stable interface in Tempest\n27.0.0[1] it can be now reused in plugins.\n\nRemoved methods:\n    * _get_router\n    * _create_network\n\nThere is a slight difference between tempest's get_router and this one.\nMost changes are just fixes, without bigger logical interference.\nSee related patches below.[2][3]\n\nEtherpad concerning this effort:\nhttps://etherpad.opendev.org/p/tempest-scenario-manager-cleanup\n\n[1] https://docs.openstack.org/releasenotes/tempest/v27.0.0.html#release-notes-27-0-0\n[2] https://opendev.org/openstack/tempest/commit/3484f9901ca9c5c6607932d8dc4a7a451e817a59\n[3] https://opendev.org/openstack/tempest/commit/0090a1048c0ad412e6c2f0bf0a0a91a393e09960\n\nChange-Id: Ib185214a904333e597ac14e0501d942a93ab53f3\n""}, {'number': 3, 'created': '2022-04-06 07:42:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/0f000e6ba72687bb1a6b06429a0e15c89b0dc850', 'message': ""[sfc] Remove _get_router & _create_network\n\nAs tempest.scenario.manager was announced stable interface in Tempest\n27.0.0[1] it can be now reused in plugins.\n\nRemoved methods:\n    * _get_router\n    * _create_network\n\nThere is a slight difference between tempest's get_router and this one.\nMost changes are just fixes, without bigger logical interference.\nSee related patches below.[2][3]\n\nEtherpad concerning this effort:\nhttps://etherpad.opendev.org/p/tempest-scenario-manager-cleanup\n\n[1] https://docs.openstack.org/releasenotes/tempest/v27.0.0.html#release-notes-27-0-0\n[2] https://opendev.org/openstack/tempest/commit/3484f9901ca9c5c6607932d8dc4a7a451e817a59\n[3] https://opendev.org/openstack/tempest/commit/0090a1048c0ad412e6c2f0bf0a0a91a393e09960\n\nChange-Id: Ib185214a904333e597ac14e0501d942a93ab53f3\n""}, {'number': 4, 'created': '2022-04-06 07:44:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/9f25034771a9e027dab3e9725e2abd290f8e1970', 'message': ""[sfc] Remove _get_router & _create_network\n\nAs tempest.scenario.manager was announced stable interface in Tempest\n27.0.0[1] it can be now reused in plugins.\n\nRemoved methods:\n    * _get_router\n    * _create_network\n\nThere is a slight difference between tempest's get_router and this one.\nMost changes are just fixes, without bigger logical interference.\nSee related patches below.[2][3]\n\nEtherpad concerning this effort:\nhttps://etherpad.opendev.org/p/tempest-scenario-manager-cleanup\n\n[1] https://docs.openstack.org/releasenotes/tempest/v27.0.0.html#release-notes-27-0-0\n[2] https://opendev.org/openstack/tempest/commit/3484f9901ca9c5c6607932d8dc4a7a451e817a59\n[3] https://opendev.org/openstack/tempest/commit/0090a1048c0ad412e6c2f0bf0a0a91a393e09960\n\nChange-Id: Ib185214a904333e597ac14e0501d942a93ab53f3\n""}, {'number': 5, 'created': '2022-04-07 08:24:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/2a89470666e83f04e3dc5b717955a306a983d8d6', 'message': ""[sfc] Remove _get_router & _create_network\n\nAs tempest.scenario.manager was announced stable interface in Tempest\n27.0.0[1] it can be now reused in plugins.\n\nRemoved methods:\n    * _get_router\n    * _create_network\n\nThere is a slight difference between tempest's get_router and this one.\nMost changes are just fixes, without bigger logical interference.\nSee related patches below.[2][3]\n\nEtherpad concerning this effort:\nhttps://etherpad.opendev.org/p/tempest-scenario-manager-cleanup\n\n[1] https://docs.openstack.org/releasenotes/tempest/v27.0.0.html#release-notes-27-0-0\n[2] https://opendev.org/openstack/tempest/commit/3484f9901ca9c5c6607932d8dc4a7a451e817a59\n[3] https://opendev.org/openstack/tempest/commit/0090a1048c0ad412e6c2f0bf0a0a91a393e09960\n\nChange-Id: Ib185214a904333e597ac14e0501d942a93ab53f3\n""}, {'number': 6, 'created': '2022-04-07 10:01:28.000000000', 'files': ['neutron_tempest_plugin/sfc/tests/scenario/manager.py'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/97ceb4e5bf65ab4e89f3dfaf1a792b1d077f796b', 'message': ""[sfc] Remove _get_router & _create_network\n\nAs tempest.scenario.manager was announced stable interface in Tempest\n27.0.0[1] it can be now reused in plugins.\n\nRemoved methods:\n    * _get_router\n    * _create_network\n\nThere is a slight difference between tempest's get_router and this one.\nMost changes are just fixes, without bigger logical interference.\nSee related patches below.[2][3]\n\nEtherpad concerning this effort:\nhttps://etherpad.opendev.org/p/tempest-scenario-manager-cleanup\n\n[1] https://docs.openstack.org/releasenotes/tempest/v27.0.0.html#release-notes-27-0-0\n[2] https://opendev.org/openstack/tempest/commit/3484f9901ca9c5c6607932d8dc4a7a451e817a59\n[3] https://opendev.org/openstack/tempest/commit/0090a1048c0ad412e6c2f0bf0a0a91a393e09960\n\nChange-Id: Ib185214a904333e597ac14e0501d942a93ab53f3\n""}]",1,836737,97ceb4e5bf65ab4e89f3dfaf1a792b1d077f796b,16,4,6,33732,,,0,"[sfc] Remove _get_router & _create_network

As tempest.scenario.manager was announced stable interface in Tempest
27.0.0[1] it can be now reused in plugins.

Removed methods:
    * _get_router
    * _create_network

There is a slight difference between tempest's get_router and this one.
Most changes are just fixes, without bigger logical interference.
See related patches below.[2][3]

Etherpad concerning this effort:
https://etherpad.opendev.org/p/tempest-scenario-manager-cleanup

[1] https://docs.openstack.org/releasenotes/tempest/v27.0.0.html#release-notes-27-0-0
[2] https://opendev.org/openstack/tempest/commit/3484f9901ca9c5c6607932d8dc4a7a451e817a59
[3] https://opendev.org/openstack/tempest/commit/0090a1048c0ad412e6c2f0bf0a0a91a393e09960

Change-Id: Ib185214a904333e597ac14e0501d942a93ab53f3
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/37/836737/4 && git format-patch -1 --stdout FETCH_HEAD,['neutron_tempest_plugin/sfc/tests/scenario/manager.py'],1,ab7b8861be7954dc163694b59cdcfc2921391087,tempest-scenario-manager-cleanup,," def _create_network(self, networks_client=None, tenant_id=None, namestart='network-smoke-', port_security_enabled=True): if not networks_client: networks_client = self.networks_client if not tenant_id: tenant_id = networks_client.tenant_id name = data_utils.rand_name(namestart) network_kwargs = dict(name=name, tenant_id=tenant_id) network_kwargs['port_security_enabled'] = port_security_enabled result = networks_client.create_network(**network_kwargs) network = result['network'] self.assertEqual(network['name'], name) self.addCleanup(test_utils.call_and_ignore_notfound_exc, networks_client.delete_network, network['id']) return network def _get_router(self, client=None, tenant_id=None): """"""Retrieve a router for the given tenant id. If a public router has been configured, it will be returned. If a public router has not been configured, but a public network has, a tenant router will be created and returned that routes traffic to the public network. """""" if not client: client = self.routers_client if not tenant_id: tenant_id = client.tenant_id router_id = CONF.network.public_router_id network_id = CONF.network.public_network_id if router_id: body = client.show_router(router_id) return body['router'] elif network_id: router = self._create_router(client, tenant_id) kwargs = {'external_gateway_info': dict(network_id=network_id)} router = client.update_router(router['id'], **kwargs)['router'] return router else: raise Exception(""Neither of 'public_router_id' or "" ""'public_network_id' has been defined."") ",0,48
openstack%2Fpython-barbicanclient~master~I796f954c1be71af7110666ca55795c49fea1b63b,openstack/python-barbicanclient,master,I796f954c1be71af7110666ca55795c49fea1b63b,Drop lower-constraints,ABANDONED,2022-04-25 19:13:19.000000000,2022-05-03 16:53:46.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-04-25 19:13:19.000000000', 'files': ['.zuul.yaml', 'lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/python-barbicanclient/commit/81a2f5744b199752506cfedeb35d85e834825158', 'message': 'Drop lower-constraints\n\nAs discussed in the mailing list [1], this patch drops the\nlower-constraints testing for python-barbicanclient.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2022-April/028199.html\n\nChange-Id: I796f954c1be71af7110666ca55795c49fea1b63b\n'}]",0,839255,81a2f5744b199752506cfedeb35d85e834825158,3,1,1,7973,,,0,"Drop lower-constraints

As discussed in the mailing list [1], this patch drops the
lower-constraints testing for python-barbicanclient.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2022-April/028199.html

Change-Id: I796f954c1be71af7110666ca55795c49fea1b63b
",git fetch https://review.opendev.org/openstack/python-barbicanclient refs/changes/55/839255/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'lower-constraints.txt', 'tox.ini']",3,81a2f5744b199752506cfedeb35d85e834825158,,, [testenv:lower-constraints] deps = -c{toxinidir}/lower-constraints.txt -r{toxinidir}/test-requirements.txt -r{toxinidir}/requirements.txt,0,81
openstack%2Fkolla~master~I53e2cf4fba9762867cf16faa12380eef18907d24,openstack/kolla,master,I53e2cf4fba9762867cf16faa12380eef18907d24,Fix Ironic direct deploy & iPXE on Ubuntu,ABANDONED,2022-02-02 17:20:47.000000000,2022-05-03 16:51:33.000000000,,"[{'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-02-02 17:20:47.000000000', 'files': ['releasenotes/notes/bug-1959835-7261b06b856886b5.yaml', 'docker/ironic/ironic-pxe/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/502b50c83bf82664552f432b07a14d5d572577f7', 'message': 'Fix Ironic direct deploy & iPXE on Ubuntu\n\nIronic fails when deploying nodes using the direct deploy interface or\nthe iPXE boot interface when using the Ubuntu container images.\n\nThis happens because the www-data user running apache cannot read the\nimage files created by the ironic user.\n\nThis change fixes the issue by adding the www-data user to the ironic\ngroup in the ironic-pxe image.\n\nCloses-Bug: #1959835\n\nChange-Id: I53e2cf4fba9762867cf16faa12380eef18907d24\n'}]",5,827532,502b50c83bf82664552f432b07a14d5d572577f7,9,2,1,14826,,,0,"Fix Ironic direct deploy & iPXE on Ubuntu

Ironic fails when deploying nodes using the direct deploy interface or
the iPXE boot interface when using the Ubuntu container images.

This happens because the www-data user running apache cannot read the
image files created by the ironic user.

This change fixes the issue by adding the www-data user to the ironic
group in the ironic-pxe image.

Closes-Bug: #1959835

Change-Id: I53e2cf4fba9762867cf16faa12380eef18907d24
",git fetch https://review.opendev.org/openstack/kolla refs/changes/32/827532/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-1959835-7261b06b856886b5.yaml', 'docker/ironic/ironic-pxe/Dockerfile.j2']",2,502b50c83bf82664552f432b07a14d5d572577f7,," {# NOTE(mgoddard): For the direct deploy/iPXE web server, the www-data user needs to be a member of the ironic group in order to access images. #} RUN usermod -G ironic -a www-data",,10,0
openstack%2Fkolla-ansible~master~I7eca1edd5d5898b27c49a6f8314c6e9ac18cd8ef,openstack/kolla-ansible,master,I7eca1edd5d5898b27c49a6f8314c6e9ac18cd8ef,DNM: test compute service registration failure,ABANDONED,2022-03-28 16:34:04.000000000,2022-05-03 16:50:16.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-03-28 16:34:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/5477306999746dd36ac02a876f5eaf2155de9f1f', 'message': 'DNM: test compute service registration failure\n\nChange-Id: I7eca1edd5d5898b27c49a6f8314c6e9ac18cd8ef\n'}, {'number': 2, 'created': '2022-03-29 08:38:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c30f4238b33cac194d24773b99f7ae7fc91668ab', 'message': 'DNM: test compute service registration failure\n\nChange-Id: I7eca1edd5d5898b27c49a6f8314c6e9ac18cd8ef\n'}, {'number': 3, 'created': '2022-03-29 10:27:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/6a82a3f111ab44be9e6bcd926034d66e99b13302', 'message': 'DNM: test compute service registration failure\n\nDepends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/805599\nChange-Id: I7eca1edd5d5898b27c49a6f8314c6e9ac18cd8ef\n'}, {'number': 4, 'created': '2022-03-29 12:26:10.000000000', 'files': ['ansible/roles/nova-cell/templates/nova.conf.j2', 'ansible/roles/nova-cell/templates/nova.conf.d/libvirt.conf.j2', 'tests/templates/globals-default.j2', 'zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ab41f7694f1533618d595916cef75d9a615febaa', 'message': 'DNM: test compute service registration failure\n\nDepends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/805599\nChange-Id: I7eca1edd5d5898b27c49a6f8314c6e9ac18cd8ef\n'}]",3,835477,ab41f7694f1533618d595916cef75d9a615febaa,12,1,4,14826,,,0,"DNM: test compute service registration failure

Depends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/805599
Change-Id: I7eca1edd5d5898b27c49a6f8314c6e9ac18cd8ef
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/77/835477/2 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/nova-cell/templates/nova.conf.j2', 'zuul.d/project.yaml']",2,5477306999746dd36ac02a876f5eaf2155de9f1f,,, templates: - check-requirements - openstack-cover-jobs - openstack-python3-yoga-jobs - ansible-role-jobs - publish-openstack-docs-pti - release-notes-jobs-python3 - periodic-stable-jobs - kolla-ansible-centos8s-source - kolla-ansible-debian-source - kolla-ansible-rocky8-source - kolla-ansible-ubuntu-source - kolla-ansible-centos8s-source-kvm - kolla-ansible-ubuntu-source-kvm - kolla-ansible-centos8s-source-multinode-ipv6 - kolla-ansible-ubuntu-source-multinode-ipv6 - kolla-ansible-centos8s-source-bifrost - kolla-ansible-ubuntu-source-bifrost - kolla-ansible-centos8s-source-zun - kolla-ansible-debian-source-zun - kolla-ansible-ubuntu-source-zun - kolla-ansible-centos8s-source-swift - kolla-ansible-ubuntu-source-swift - kolla-ansible-centos8s-source-scenario-nfv - kolla-ansible-centos8s-source-magnum - kolla-ansible-ubuntu-source-magnum - kolla-ansible-centos8s-source-octavia - kolla-ansible-ubuntu-source-octavia - kolla-ansible-centos8s-source-masakari - kolla-ansible-ubuntu-source-masakari - kolla-ansible-centos8s-source-ironic - kolla-ansible-centos8s-binary-ironic - kolla-ansible-debian-source-ironic - kolla-ansible-ubuntu-source-ironic - kolla-ansible-centos8s-source-upgrade - kolla-ansible-debian-source-upgrade - kolla-ansible-ubuntu-source-upgrade - kolla-ansible-centos8s-binary - kolla-ansible-ubuntu-binary - kolla-ansible-centos8s-source-cells - kolla-ansible-centos8s-source-mariadb - kolla-ansible-ubuntu-source-mariadb - kolla-ansible-centos8s-source-linuxbridge - kolla-ansible-ubuntu-source-linuxbridge - kolla-ansible-centos8s-source-ovn - kolla-ansible-ubuntu-source-ovn - kolla-ansible-centos8s-source-prometheus-efk - kolla-ansible-ubuntu-source-prometheus-efk - kolla-ansible-centos8s-source-venus - kolla-ansible-ubuntu-source-venus - kolla-ansible-centos8s-source-monasca - kolla-ansible-ubuntu-source-cephadm - kolla-ansible-centos8s-source-upgrade-cephadm - kolla-ansible-ubuntu-source-upgrade-cephadm - kolla-ansible-centos8s-hashi-vault check-arm64: jobs: - kolla-ansible-debian-source-aarch64 - kolla-ansible-debian-source-upgrade-aarch64,3,59
openstack%2Fkolla~master~Idf2c504fe1f7035d7de77feb042480f6a1e16ee8,openstack/kolla,master,Idf2c504fe1f7035d7de77feb042480f6a1e16ee8,Fix version-check.py idempotency,ABANDONED,2020-10-01 10:01:41.000000000,2022-05-03 16:49:11.000000000,,"[{'_account_id': 14826}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-10-01 10:01:41.000000000', 'files': ['tools/version-check.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/46f808cfe96d6c2e08d76322fc1356b39cbe2710', 'message': 'Fix version-check.py idempotency\n\nPreviously, version-check.py would keep adding stable- to the tag each\ntime it is run. This was caused by the regex greedily matching stable-\nas part of the project name rather than the tag.\n\nThis change fixes the issue by updating the regex.\n\nChange-Id: Idf2c504fe1f7035d7de77feb042480f6a1e16ee8\n'}]",2,755470,46f808cfe96d6c2e08d76322fc1356b39cbe2710,6,2,1,14826,,,0,"Fix version-check.py idempotency

Previously, version-check.py would keep adding stable- to the tag each
time it is run. This was caused by the regex greedily matching stable-
as part of the project name rather than the tag.

This change fixes the issue by updating the regex.

Change-Id: Idf2c504fe1f7035d7de77feb042480f6a1e16ee8
",git fetch https://review.opendev.org/openstack/kolla refs/changes/70/755470/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/version-check.py'],1,46f808cfe96d6c2e08d76322fc1356b39cbe2710,,"RE_FILENAME = re.compile('(?P<project_name>.*?)-(?P<stable>stable-)?(?P<tag>[^-]*).tar.gz') project_name, _, old_tag = match.groups() if project_name in projects or project_name == ""requirements"": if project_name in projects: tarball_base = projects[project_name]['tarball_base'] if (project_name == ""requirements"" or (not conf.versioned_releases and project_name not in ALWAYS_USE_VERSION_PROJECTS)): # Use the stable branch for requirements. latest_tag = ""stable-{}"".format(conf.openstack_release) if project_name in RENAME_PROJECTS: tarball_base = RENAME_PROJECTS[project_name] else: latest_tag = projects[project_name]['latest_version']","RE_FILENAME = re.compile('(?P<project_name>.*)-(?P<tag>[^-]*).tar.gz') project_name, old_tag = match.groups() if (project_name == ""requirements"" or (not conf.versioned_releases and project_name not in ALWAYS_USE_VERSION_PROJECTS)): # Use the stable branch for requirements. latest_tag = ""stable-{}"".format(conf.openstack_release) tarball_base = project_name if project_name in RENAME_PROJECTS: tarball_base = RENAME_PROJECTS[project_name] elif project_name in projects: latest_tag = projects[project_name]['latest_version'] tarball_base = projects[project_name]['tarball_base']",14,13
openstack%2Fneutron-tempest-plugin~master~I672733833c9925b96244a2083d3972bf8424dca1,openstack/neutron-tempest-plugin,master,I672733833c9925b96244a2083d3972bf8424dca1,[sfc] Remove _create_subnet & _check_tenant_network_connectivity,MERGED,2022-04-06 07:01:44.000000000,2022-05-03 16:48:09.000000000,2022-05-03 16:48:09.000000000,"[{'_account_id': 8313}, {'_account_id': 13861}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-06 07:01:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/06b88aa49929014938dc458b0255a9a1db7ffbab', 'message': ""[sfc] Remove _create_subnet & _check_tenant_network_connectivity\n\nAs tempest.scenario.manager was announced stable interface in Tempest\n27.0.0[1] it can be now reused in plugins.\n\nRemoved methods:\n    * _create_subnet\n    * _check_tenant_network_connectivity\n\nImplementation of tempest's create_subnet differs a little from\nthis one. The changes mostly consist of bug fixes.\nSee related patches.[2][3][4]\n\n[1] https://docs.openstack.org/releasenotes/tempest/v27.0.0.html#release-notes-27-0-0\n[2] https://opendev.org/openstack/tempest/commit/5b0a52fa5d626f67c1ace1e3a3993b9046767fba\n[3] https://opendev.org/openstack/tempest/commit/4ad346e6497d4fbad9e379e8ed50730a0b6b55a3\n[4] https://opendev.org/openstack/tempest/commit/795ef25b728964e37acb5e12761dfc0873fd2959\n\nChange-Id: I672733833c9925b96244a2083d3972bf8424dca1\n""}, {'number': 2, 'created': '2022-04-06 07:18:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/418941b20294f2ea22d4674d7ee6def88cb8e1b3', 'message': ""[sfc] Remove _create_subnet & _check_tenant_network_connectivity\n\nAs tempest.scenario.manager was announced stable interface in Tempest\n27.0.0[1] it can be now reused in plugins.\n\nRemoved methods:\n    * _create_subnet\n    * _check_tenant_network_connectivity\n\nImplementation of tempest's create_subnet differs a little from\nthis one. The changes mostly consist of bug fixes.\nSee related patches.[2][3][4]\n\n[1] https://docs.openstack.org/releasenotes/tempest/v27.0.0.html#release-notes-27-0-0\n[2] https://opendev.org/openstack/tempest/commit/5b0a52fa5d626f67c1ace1e3a3993b9046767fba\n[3] https://opendev.org/openstack/tempest/commit/4ad346e6497d4fbad9e379e8ed50730a0b6b55a3\n[4] https://opendev.org/openstack/tempest/commit/795ef25b728964e37acb5e12761dfc0873fd2959\n\nChange-Id: I672733833c9925b96244a2083d3972bf8424dca1\n""}, {'number': 3, 'created': '2022-04-06 07:21:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/c05ec9e267b571e2e20f0b4cc04d0fee13e82bd4', 'message': ""[sfc] Remove _create_subnet & _check_tenant_network_connectivity\n\nAs tempest.scenario.manager was announced stable interface in Tempest\n27.0.0[1] it can be now reused in plugins.\n\nRemoved methods:\n    * _create_subnet\n    * _check_tenant_network_connectivity\n\nImplementation of tempest's create_subnet differs a little from\nthis one. The changes mostly consist of bug fixes.\nSee related patches.[2][3][4]\n\n[1] https://docs.openstack.org/releasenotes/tempest/v27.0.0.html#release-notes-27-0-0\n[2] https://opendev.org/openstack/tempest/commit/5b0a52fa5d626f67c1ace1e3a3993b9046767fba\n[3] https://opendev.org/openstack/tempest/commit/4ad346e6497d4fbad9e379e8ed50730a0b6b55a3\n[4] https://opendev.org/openstack/tempest/commit/795ef25b728964e37acb5e12761dfc0873fd2959\n\nChange-Id: I672733833c9925b96244a2083d3972bf8424dca1\n""}, {'number': 4, 'created': '2022-04-06 07:44:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/044e6c31450bc46f4a67f14c5436d5f08d088509', 'message': ""[sfc] Remove _create_subnet & _check_tenant_network_connectivity\n\nAs tempest.scenario.manager was announced stable interface in Tempest\n27.0.0[1] it can be now reused in plugins.\n\nRemoved methods:\n    * _create_subnet\n    * _check_tenant_network_connectivity\n\nImplementation of tempest's create_subnet differs a little from\nthis one. The changes mostly consist of bug fixes.\nSee related patches.[2][3][4]\n\nEtherpad concerning this effort:\nhttps://etherpad.opendev.org/p/tempest-scenario-manager-cleanup\n\n[1] https://docs.openstack.org/releasenotes/tempest/v27.0.0.html#release-notes-27-0-0\n[2] https://opendev.org/openstack/tempest/commit/5b0a52fa5d626f67c1ace1e3a3993b9046767fba\n[3] https://opendev.org/openstack/tempest/commit/4ad346e6497d4fbad9e379e8ed50730a0b6b55a3\n[4] https://opendev.org/openstack/tempest/commit/795ef25b728964e37acb5e12761dfc0873fd2959\n\nChange-Id: I672733833c9925b96244a2083d3972bf8424dca1\n""}, {'number': 5, 'created': '2022-04-07 08:22:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/71c0e69f5f2ee61d34457395a714acc8b7506a82', 'message': ""[sfc] Remove _create_subnet & _check_tenant_network_connectivity\n\nAs tempest.scenario.manager was announced stable interface in Tempest\n27.0.0[1] it can be now reused in plugins.\n\nRemoved methods:\n    * _create_subnet\n    * _check_tenant_network_connectivity\n\nImplementation of tempest's create_subnet differs a little from\nthis one. The changes mostly consist of bug fixes.\nSee related patches.[2][3][4]\n\nEtherpad concerning this effort:\nhttps://etherpad.opendev.org/p/tempest-scenario-manager-cleanup\n\n[1] https://docs.openstack.org/releasenotes/tempest/v27.0.0.html#release-notes-27-0-0\n[2] https://opendev.org/openstack/tempest/commit/5b0a52fa5d626f67c1ace1e3a3993b9046767fba\n[3] https://opendev.org/openstack/tempest/commit/4ad346e6497d4fbad9e379e8ed50730a0b6b55a3\n[4] https://opendev.org/openstack/tempest/commit/795ef25b728964e37acb5e12761dfc0873fd2959\n\nChange-Id: I672733833c9925b96244a2083d3972bf8424dca1\n""}, {'number': 6, 'created': '2022-04-07 10:01:21.000000000', 'files': ['neutron_tempest_plugin/sfc/tests/scenario/manager.py', 'neutron_tempest_plugin/sfc/tests/scenario/test_sfc.py'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/1bf4f9380fee609d005e950b43b4964dabc4613e', 'message': ""[sfc] Remove _create_subnet & _check_tenant_network_connectivity\n\nAs tempest.scenario.manager was announced stable interface in Tempest\n27.0.0[1] it can be now reused in plugins.\n\nRemoved methods:\n    * _create_subnet\n    * _check_tenant_network_connectivity\n\nImplementation of tempest's create_subnet differs a little from\nthis one. The changes mostly consist of bug fixes.\nSee related patches.[2][3][4]\n\nEtherpad concerning this effort:\nhttps://etherpad.opendev.org/p/tempest-scenario-manager-cleanup\n\n[1] https://docs.openstack.org/releasenotes/tempest/v27.0.0.html#release-notes-27-0-0\n[2] https://opendev.org/openstack/tempest/commit/5b0a52fa5d626f67c1ace1e3a3993b9046767fba\n[3] https://opendev.org/openstack/tempest/commit/4ad346e6497d4fbad9e379e8ed50730a0b6b55a3\n[4] https://opendev.org/openstack/tempest/commit/795ef25b728964e37acb5e12761dfc0873fd2959\n\nChange-Id: I672733833c9925b96244a2083d3972bf8424dca1\n""}]",2,836730,1bf4f9380fee609d005e950b43b4964dabc4613e,16,4,6,33732,,,0,"[sfc] Remove _create_subnet & _check_tenant_network_connectivity

As tempest.scenario.manager was announced stable interface in Tempest
27.0.0[1] it can be now reused in plugins.

Removed methods:
    * _create_subnet
    * _check_tenant_network_connectivity

Implementation of tempest's create_subnet differs a little from
this one. The changes mostly consist of bug fixes.
See related patches.[2][3][4]

Etherpad concerning this effort:
https://etherpad.opendev.org/p/tempest-scenario-manager-cleanup

[1] https://docs.openstack.org/releasenotes/tempest/v27.0.0.html#release-notes-27-0-0
[2] https://opendev.org/openstack/tempest/commit/5b0a52fa5d626f67c1ace1e3a3993b9046767fba
[3] https://opendev.org/openstack/tempest/commit/4ad346e6497d4fbad9e379e8ed50730a0b6b55a3
[4] https://opendev.org/openstack/tempest/commit/795ef25b728964e37acb5e12761dfc0873fd2959

Change-Id: I672733833c9925b96244a2083d3972bf8424dca1
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/30/836730/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_tempest_plugin/sfc/tests/scenario/manager.py', 'neutron_tempest_plugin/sfc/tests/scenario/test_sfc.py']",2,06b88aa49929014938dc458b0255a9a1db7ffbab,tempest-scenario-manager-cleanup, self.check_tenant_network_connectivity(, self._check_tenant_network_connectivity(,2,93
openstack%2Fneutron-tempest-plugin~master~I7e0128e7ee080c44f4d6ccec74083c17864c3d7b,openstack/neutron-tempest-plugin,master,I7e0128e7ee080c44f4d6ccec74083c17864c3d7b,[sfc] Remove create_networks & create_floating_ip,MERGED,2022-04-06 07:18:56.000000000,2022-05-03 16:48:07.000000000,2022-05-03 16:48:07.000000000,"[{'_account_id': 8313}, {'_account_id': 13861}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-06 07:18:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/d343c198273e06085fc83b80bba274edc9fb7837', 'message': '[sfc] Remove create_networks & create_floating_ip\n\nAs tempest.scenario.manager was announced stable interface in Tempest\n27.0.0[1] it can be now reused in plugins.\n\nRemoved methods:\n    * create_networks\n    * create_floating_ip\n\n[1] https://docs.openstack.org/releasenotes/tempest/v27.0.0.html#release-notes-27-0-0\n\nChange-Id: I7e0128e7ee080c44f4d6ccec74083c17864c3d7b\n'}, {'number': 2, 'created': '2022-04-06 07:22:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/b2c49ae1f3422ea8900f28ec08682a1f0c25bd79', 'message': '[sfc] Remove create_networks & create_floating_ip\n\nAs tempest.scenario.manager was announced stable interface in Tempest\n27.0.0[1] it can be now reused in plugins.\n\nRemoved methods:\n    * create_networks\n    * create_floating_ip\n\n[1] https://docs.openstack.org/releasenotes/tempest/v27.0.0.html#release-notes-27-0-0\n\nChange-Id: I7e0128e7ee080c44f4d6ccec74083c17864c3d7b\n'}, {'number': 3, 'created': '2022-04-06 07:41:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/7badb491431d8be105ed54ea30319c9919c81505', 'message': '[sfc] Remove create_networks & create_floating_ip\n\nAs tempest.scenario.manager was announced stable interface in Tempest\n27.0.0[1] it can be now reused in plugins.\n\nRemoved methods:\n    * create_networks\n    * create_floating_ip\n\nEtherpad concerning this effort:\nhttps://etherpad.opendev.org/p/tempest-scenario-manager-cleanup\n\n[1] https://docs.openstack.org/releasenotes/tempest/v27.0.0.html#release-notes-27-0-0\n\nChange-Id: I7e0128e7ee080c44f4d6ccec74083c17864c3d7b\n'}, {'number': 4, 'created': '2022-04-06 07:44:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/c05e76e3069e7975a3f8a7e79a73c09178c80d0d', 'message': '[sfc] Remove create_networks & create_floating_ip\n\nAs tempest.scenario.manager was announced stable interface in Tempest\n27.0.0[1] it can be now reused in plugins.\n\nRemoved methods:\n    * create_networks\n    * create_floating_ip\n\nEtherpad concerning this effort:\nhttps://etherpad.opendev.org/p/tempest-scenario-manager-cleanup\n\n[1] https://docs.openstack.org/releasenotes/tempest/v27.0.0.html#release-notes-27-0-0\n\nChange-Id: I7e0128e7ee080c44f4d6ccec74083c17864c3d7b\n'}, {'number': 5, 'created': '2022-04-07 08:19:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/f5b675f2d991bc85e8b25268a4e4f7f677bfaaa8', 'message': '[sfc] Remove create_networks & create_floating_ip\n\nAs tempest.scenario.manager was announced stable interface in Tempest\n27.0.0[1] it can be now reused in plugins.\n\nRemoved methods:\n    * create_networks\n    * create_floating_ip\n\nEtherpad concerning this effort:\nhttps://etherpad.opendev.org/p/tempest-scenario-manager-cleanup\n\n[1] https://docs.openstack.org/releasenotes/tempest/v27.0.0.html#release-notes-27-0-0\n\nChange-Id: I7e0128e7ee080c44f4d6ccec74083c17864c3d7b\n'}, {'number': 6, 'created': '2022-04-07 10:00:26.000000000', 'files': ['neutron_tempest_plugin/sfc/tests/scenario/manager.py', 'neutron_tempest_plugin/sfc/tests/scenario/test_sfc.py'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/17587c3e1dea7dac15347e1ab31b4c41617aad00', 'message': '[sfc] Remove create_networks & create_floating_ip\n\nAs tempest.scenario.manager was announced stable interface in Tempest\n27.0.0[1] it can be now reused in plugins.\n\nRemoved methods:\n    * create_networks\n        - Renamed to setup_network_subnet_with_router in Tempest\n    * create_floating_ip\n\nEtherpad concerning this effort:\nhttps://etherpad.opendev.org/p/tempest-scenario-manager-cleanup\n\n[1] https://docs.openstack.org/releasenotes/tempest/v27.0.0.html#release-notes-27-0-0\n\nChange-Id: I7e0128e7ee080c44f4d6ccec74083c17864c3d7b\n'}]",0,836735,17587c3e1dea7dac15347e1ab31b4c41617aad00,16,4,6,33732,,,0,"[sfc] Remove create_networks & create_floating_ip

As tempest.scenario.manager was announced stable interface in Tempest
27.0.0[1] it can be now reused in plugins.

Removed methods:
    * create_networks
        - Renamed to setup_network_subnet_with_router in Tempest
    * create_floating_ip

Etherpad concerning this effort:
https://etherpad.opendev.org/p/tempest-scenario-manager-cleanup

[1] https://docs.openstack.org/releasenotes/tempest/v27.0.0.html#release-notes-27-0-0

Change-Id: I7e0128e7ee080c44f4d6ccec74083c17864c3d7b
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/35/836735/4 && git format-patch -1 --stdout FETCH_HEAD,['neutron_tempest_plugin/sfc/tests/scenario/manager.py'],1,d343c198273e06085fc83b80bba274edc9fb7837,tempest-scenario-manager-cleanup,," def create_floating_ip(self, thing, external_network_id=None, port_id=None, client=None): """"""Create a floating IP and associates to a resource/port on Neutron"""""" if not external_network_id: external_network_id = CONF.network.public_network_id if not client: client = self.floating_ips_client if not port_id: port_id, ip4 = self._get_server_port_id_and_ip4(thing) else: ip4 = None result = client.create_floatingip( floating_network_id=external_network_id, port_id=port_id, tenant_id=thing['tenant_id'], fixed_ip_address=ip4 ) floating_ip = result['floatingip'] self.addCleanup(test_utils.call_and_ignore_notfound_exc, client.delete_floatingip, floating_ip['id']) return floating_ip def create_networks(self, networks_client=None, routers_client=None, subnets_client=None, tenant_id=None, dns_nameservers=None, port_security_enabled=True): """"""Create a network with a subnet connected to a router. The baremetal driver is a special case since all nodes are on the same shared network. :param tenant_id: id of tenant to create resources in. :param dns_nameservers: list of dns servers to send to subnet. :returns: network, subnet, router """""" if CONF.network.shared_physical_network: # NOTE(Shrews): This exception is for environments where tenant # credential isolation is available, but network separation is # not (the current baremetal case). Likely can be removed when # test account mgmt is reworked: # https://blueprints.launchpad.net/tempest/+spec/test-accounts if not CONF.compute.fixed_network_name: m = 'fixed_network_name must be specified in config' raise lib_exc.InvalidConfiguration(m) network = self.get_network_by_name( CONF.compute.fixed_network_name) router = None subnet = None else: network = self._create_network( networks_client=networks_client, tenant_id=tenant_id, port_security_enabled=port_security_enabled) router = self._get_router(client=routers_client, tenant_id=tenant_id) subnet_kwargs = dict(network=network, subnets_client=subnets_client, routers_client=routers_client) # use explicit check because empty list is a valid option if dns_nameservers is not None: subnet_kwargs['dns_nameservers'] = dns_nameservers subnet = self.create_subnet(**subnet_kwargs) if not routers_client: routers_client = self.routers_client router_id = router['id'] routers_client.add_router_interface(router_id, subnet_id=subnet['id']) # save a cleanup job to remove this association between # router and subnet self.addCleanup(test_utils.call_and_ignore_notfound_exc, routers_client.remove_router_interface, router_id, subnet_id=subnet['id']) return network, subnet, router",0,76
openstack%2Ftripleo-common~master~I44f38a8a3e80fa6a65e36f10db78c9c3493fbc9a,openstack/tripleo-common,master,I44f38a8a3e80fa6a65e36f10db78c9c3493fbc9a,Update the default namespace,MERGED,2022-03-30 16:28:48.000000000,2022-05-03 16:46:41.000000000,2022-05-03 16:45:23.000000000,"[{'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2022-03-30 16:28:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/d77bcb6ea2214d9e49b8456fd883b1fad359a5eb', 'message': 'Update the default namespace\n\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\nChange-Id: I44f38a8a3e80fa6a65e36f10db78c9c3493fbc9a\n'}, {'number': 2, 'created': '2022-04-12 14:28:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/a6678d02077ac433f4dbb07832162d1666fad564', 'message': 'Update the default namespace\n\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\nChange-Id: I44f38a8a3e80fa6a65e36f10db78c9c3493fbc9a\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 3, 'created': '2022-04-13 14:35:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/5e0d5b1e64f602d85701cd67c7a4a35bb5466518', 'message': 'Update the default namespace\n\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\nChange-Id: I44f38a8a3e80fa6a65e36f10db78c9c3493fbc9a\nDepends-On: I839298c177ef27852d0dcfc58cb7b62c161299c0\n'}, {'number': 4, 'created': '2022-05-02 15:16:13.000000000', 'files': ['tripleo_common/tests/image/test_image_uploader.py', 'container-images/container_image_prepare_defaults.yaml', 'tripleo_common/tests/image/fakes.py', 'tripleo_common/tests/image/test_kolla_builder.py', 'container-images/tripleo_containers.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/675db94fa22becdb327e4b10701b02fa88ef2428', 'message': 'Update the default namespace\n\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\nChange-Id: I44f38a8a3e80fa6a65e36f10db78c9c3493fbc9a\nDepends-On: I839298c177ef27852d0dcfc58cb7b62c161299c0\n'}]",44,835873,675db94fa22becdb327e4b10701b02fa88ef2428,28,4,4,7353,,,0,"Update the default namespace

Signed-off-by: Kevin Carter <kecarter@redhat.com>
Change-Id: I44f38a8a3e80fa6a65e36f10db78c9c3493fbc9a
Depends-On: I839298c177ef27852d0dcfc58cb7b62c161299c0
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/73/835873/3 && git format-patch -1 --stdout FETCH_HEAD,"['container-images/container_image_prepare_defaults.yaml', 'tripleo_common/tests/image/test_image_uploader.py', 'tripleo_common/tests/image/fakes.py', 'tripleo_common/tests/image/test_kolla_builder.py', 'container-images/tripleo_containers.yaml', 'releasenotes/notes/split_off_ceph_containers-e1a66fa39076c2cf.yaml', 'releasenotes/notes/switch_to_tripleomaster_registry-bd795a51f4e572c9.yaml']",7,d77bcb6ea2214d9e49b8456fd883b1fad359a5eb,default|namespace," Switch to tripleomastercentos9 registry be default for container images, where"," Switch to tripleomaster registry be default for container images, where",135,135
openstack%2Fneutron-tempest-plugin~master~Ib01030cf424f96fbcaaa173f0f755e80057c2cdf,openstack/neutron-tempest-plugin,master,Ib01030cf424f96fbcaaa173f0f755e80057c2cdf,[sfc] Remove _get_network_by_name & check_floating_ip_status,MERGED,2022-04-05 09:30:45.000000000,2022-05-03 16:35:21.000000000,2022-05-03 16:35:21.000000000,"[{'_account_id': 8313}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-05 09:30:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/2ebc4fe777b73663bb49ab7d62c6c2b990b0a0db', 'message': '[sfc] Remove _get_network_by_name & check_floating_ip_status\n\nAs tempest.scenario.manager was announced stable interface in Tempest\n27.0.0[1] it can be now reused in plugins.\n\nRemoved methods:\n    * _get_network_by_name\n    * check_floating_ip_status\n\nEtherpad concerning this effort:\nhttps://etherpad.opendev.org/p/tempest-scenario-manager-cleanup\n\n[1] https://docs.openstack.org/releasenotes/tempest/v27.0.0.html#release-notes-27-0-0\n\nChange-Id: Ib01030cf424f96fbcaaa173f0f755e80057c2cdf\n'}, {'number': 2, 'created': '2022-04-05 10:32:48.000000000', 'files': ['neutron_tempest_plugin/sfc/tests/scenario/manager.py'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/9aa4811fb1e16b4f3c7e18d974dfd028d90be940', 'message': '[sfc] Remove _get_network_by_name & check_floating_ip_status\n\nAs tempest.scenario.manager was announced stable interface in Tempest\n27.0.0[1] it can be now reused in plugins.\n\nRemoved methods:\n    * _get_network_by_name\n    * check_floating_ip_status\n\nEtherpad concerning this effort:\nhttps://etherpad.opendev.org/p/tempest-scenario-manager-cleanup\n\n[1] https://docs.openstack.org/releasenotes/tempest/v27.0.0.html#release-notes-27-0-0\n\nChange-Id: Ib01030cf424f96fbcaaa173f0f755e80057c2cdf\n'}]",4,836582,9aa4811fb1e16b4f3c7e18d974dfd028d90be940,11,3,2,33732,,,0,"[sfc] Remove _get_network_by_name & check_floating_ip_status

As tempest.scenario.manager was announced stable interface in Tempest
27.0.0[1] it can be now reused in plugins.

Removed methods:
    * _get_network_by_name
    * check_floating_ip_status

Etherpad concerning this effort:
https://etherpad.opendev.org/p/tempest-scenario-manager-cleanup

[1] https://docs.openstack.org/releasenotes/tempest/v27.0.0.html#release-notes-27-0-0

Change-Id: Ib01030cf424f96fbcaaa173f0f755e80057c2cdf
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/82/836582/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron_tempest_plugin/sfc/tests/scenario/manager.py'],1,2ebc4fe777b73663bb49ab7d62c6c2b990b0a0db,tempest-scenario-manager-cleanup, network = self.get_network_by_name(," def _get_network_by_name(self, network_name): net = self.os_admin.networks_client.list_networks( name=network_name)['networks'] self.assertNotEmpty(net, ""Unable to get network by name: %s"" % network_name) return net[0] def check_floating_ip_status(self, floating_ip, status): """"""Verifies floatingip reaches the given status :param dict floating_ip: floating IP dict to check status :param status: target status :raises: AssertionError if status doesn't match """""" floatingip_id = floating_ip['id'] def refresh(): result = (self.floating_ips_client. show_floatingip(floatingip_id)['floatingip']) return status == result['status'] if not test_utils.call_until_true(refresh, CONF.network.build_timeout, CONF.network.build_interval): floating_ip = self.floating_ips_client.show_floatingip( floatingip_id)['floatingip'] self.assertEqual(status, floating_ip['status'], message=""FloatingIP: {fp} is at status: {cst}. "" ""failed to reach status: {st}"" .format(fp=floating_ip, cst=floating_ip['status'], st=status)) LOG.info(""FloatingIP: {fp} is at status: {st}"" .format(fp=floating_ip, st=status)) network = self._get_network_by_name(",1,35
openstack%2Fmanila~master~I8457c0793d303aa7e95e0402260a788513feba77,openstack/manila,master,I8457c0793d303aa7e95e0402260a788513feba77,Drop lower-constraints.txt and its testing,MERGED,2022-05-01 01:23:51.000000000,2022-05-03 16:32:50.000000000,2022-05-03 13:18:15.000000000,"[{'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 29632}]","[{'number': 1, 'created': '2022-05-01 01:23:51.000000000', 'files': ['requirements.txt', 'lower-constraints.txt', 'zuul.d/project.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/manila/commit/392894afeea44c22954346e495eccbbdde8c4622', 'message': 'Drop lower-constraints.txt and its testing\n\nAs discussed in TC PTG[1] and TC resolution[2], we are\ndropping the lower-constraints.txt file and its testing.\nWe will keep lower bounds in the requirements.txt file but\nwith a note that these are not tested lower bounds and we\ntry our best to keep them updated.\n\n[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326\n[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal\n\nChange-Id: I8457c0793d303aa7e95e0402260a788513feba77\n'}]",5,840076,392894afeea44c22954346e495eccbbdde8c4622,23,3,1,8556,,,0,"Drop lower-constraints.txt and its testing

As discussed in TC PTG[1] and TC resolution[2], we are
dropping the lower-constraints.txt file and its testing.
We will keep lower bounds in the requirements.txt file but
with a note that these are not tested lower bounds and we
try our best to keep them updated.

[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326
[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal

Change-Id: I8457c0793d303aa7e95e0402260a788513feba77
",git fetch https://review.opendev.org/openstack/manila refs/changes/76/840076/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'lower-constraints.txt', 'zuul.d/project.yaml', 'tox.ini']",4,392894afeea44c22954346e495eccbbdde8c4622,drop-l-c,, [testenv:lower-constraints] deps = -c{toxinidir}/lower-constraints.txt -r{toxinidir}/test-requirements.txt -r{toxinidir}/requirements.txt,4,142
openstack%2Fopenstack-ansible-os_cloudkitty~master~Ie0e94e91fb0547b3d5d90e405956cb0ef59312e3,openstack/openstack-ansible-os_cloudkitty,master,Ie0e94e91fb0547b3d5d90e405956cb0ef59312e3,Updated from OpenStack Ansible Tests,MERGED,2022-03-29 17:18:06.000000000,2022-05-03 16:30:14.000000000,2022-05-03 16:28:59.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}, {'_account_id': 32029}]","[{'number': 1, 'created': '2022-03-29 17:18:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_cloudkitty/commit/d8d954bbfeed67a77e40b43afb77be66f77b2621', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: Ie0e94e91fb0547b3d5d90e405956cb0ef59312e3\n'}, {'number': 2, 'created': '2022-04-04 09:35:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_cloudkitty/commit/7382f77280e28e50351c1efc86b560897c254d9d', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: Ie0e94e91fb0547b3d5d90e405956cb0ef59312e3\n'}, {'number': 3, 'created': '2022-04-29 18:35:16.000000000', 'files': ['run_tests.sh'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_cloudkitty/commit/4df7fd65ffcff213ef6ca348b8265c1a069150ec', 'message': 'Updated from OpenStack Ansible Tests\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/839989\n\nChange-Id: Ie0e94e91fb0547b3d5d90e405956cb0ef59312e3\n'}]",2,835703,4df7fd65ffcff213ef6ca348b8265c1a069150ec,22,4,3,11131,,,0,"Updated from OpenStack Ansible Tests

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/839989

Change-Id: Ie0e94e91fb0547b3d5d90e405956cb0ef59312e3
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_cloudkitty refs/changes/03/835703/3 && git format-patch -1 --stdout FETCH_HEAD,['run_tests.sh'],1,d8d954bbfeed67a77e40b43afb77be66f77b2621,openstack/openstack-ansible-tests/sync-tests," centos|rhel|fedora|rocky) pkg_mgr_cmd=""dnf install -y"" ;;"," centos|rhel|fedora) pkg_mgr_cmd=""dnf install -y"" ;;",1,1
openstack%2Fopenstack-helm-infra~master~Icf638a0d896fc77aaf43f4d82ed2bd82aef13328,openstack/openstack-helm-infra,master,Icf638a0d896fc77aaf43f4d82ed2bd82aef13328,Update default image value in shaker,MERGED,2022-04-27 17:36:32.000000000,2022-05-03 15:28:33.000000000,2022-05-03 15:26:28.000000000,"[{'_account_id': 8898}, {'_account_id': 22348}, {'_account_id': 30449}]","[{'number': 1, 'created': '2022-04-27 17:36:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/cd39fac4e780a65c6b53c3c6fa607d4e376762c7', 'message': 'Update default image value in shaker\n\nThis change updates the default image value in the shaker chart\nfrom newton to wallaby.\n\nChange-Id: Icf638a0d896fc77aaf43f4d82ed2bd82aef13328\n'}, {'number': 2, 'created': '2022-04-28 17:23:26.000000000', 'files': ['releasenotes/notes/shaker.yaml', 'shaker/values.yaml', 'shaker/Chart.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/d99955ccff8434c7e5ce3cc7bd9877c1938ed32a', 'message': 'Update default image value in shaker\n\nThis change updates the default image value in the shaker chart\nfrom newton to wallaby.\n\nChange-Id: Icf638a0d896fc77aaf43f4d82ed2bd82aef13328\n'}]",1,839610,d99955ccff8434c7e5ce3cc7bd9877c1938ed32a,13,3,2,21420,,,0,"Update default image value in shaker

This change updates the default image value in the shaker chart
from newton to wallaby.

Change-Id: Icf638a0d896fc77aaf43f4d82ed2bd82aef13328
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/10/839610/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/shaker.yaml', 'shaker/values.yaml', 'shaker/Chart.yaml']",3,cd39fac4e780a65c6b53c3c6fa607d4e376762c7,update-shaker,version: 0.1.5,version: 0.1.4,3,2
openstack%2Fopenstack-helm-infra~master~Id28da22932362c0400766a564b382ddbcada8c61,openstack/openstack-helm-infra,master,Id28da22932362c0400766a564b382ddbcada8c61,Update default image values for mariadb,MERGED,2022-04-27 17:44:27.000000000,2022-05-03 15:27:33.000000000,2022-05-03 15:26:01.000000000,"[{'_account_id': 8898}, {'_account_id': 22348}, {'_account_id': 30449}]","[{'number': 1, 'created': '2022-04-27 17:44:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/bdd9a58c2926e6b5c51d95821ca9ca2afcd35ec3', 'message': 'Update default image values for mariadb\n\nThis change updates the default image values in the mariadb chart\nup to using Wallaby for the ones that use openstack images.\n\nChange-Id: Id28da22932362c0400766a564b382ddbcada8c61\n'}, {'number': 2, 'created': '2022-04-28 17:22:09.000000000', 'files': ['mariadb/Chart.yaml', 'releasenotes/notes/mariadb.yaml', 'mariadb/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/20d7d55f3310a4e3d29392337a0669420a8a7221', 'message': 'Update default image values for mariadb\n\nThis change updates the default image values in the mariadb chart\nup to using Wallaby for the ones that use openstack images.\n\nChange-Id: Id28da22932362c0400766a564b382ddbcada8c61\n'}]",0,839616,20d7d55f3310a4e3d29392337a0669420a8a7221,13,3,2,21420,,,0,"Update default image values for mariadb

This change updates the default image values in the mariadb chart
up to using Wallaby for the ones that use openstack images.

Change-Id: Id28da22932362c0400766a564b382ddbcada8c61
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/16/839616/1 && git format-patch -1 --stdout FETCH_HEAD,"['mariadb/Chart.yaml', 'releasenotes/notes/mariadb.yaml', 'mariadb/values.yaml']",3,bdd9a58c2926e6b5c51d95821ca9ca2afcd35ec3,update-mariadb, prometheus_mysql_exporter_helm_tests: docker.io/openstackhelm/heat:wallaby-ubuntu_focal ks_user: docker.io/openstackhelm/heat:wallaby-ubuntu_focal, prometheus_mysql_exporter_helm_tests: docker.io/openstackhelm/heat:newton-ubuntu_xenial ks_user: docker.io/openstackhelm/heat:stein-ubuntu_bionic,4,3
openstack%2Fopenstack-helm-infra~master~I0f70734a8455661f7705baeed3cafbaf529c56a8,openstack/openstack-helm-infra,master,I0f70734a8455661f7705baeed3cafbaf529c56a8,Update default image value for prometheus,MERGED,2022-04-27 17:42:11.000000000,2022-05-03 15:26:34.000000000,2022-05-03 15:23:32.000000000,"[{'_account_id': 8898}, {'_account_id': 22348}, {'_account_id': 30449}, {'_account_id': 30777}]","[{'number': 1, 'created': '2022-04-27 17:42:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/abbf806b51596da0b3a27eda4a47197a47ff35a1', 'message': 'Update default image value for prometheus\n\nThis change updates the default image value in the prometheus\nchart from newton to wallaby for the helm_test image.\n\nChange-Id: I0f70734a8455661f7705baeed3cafbaf529c56a8\n'}, {'number': 2, 'created': '2022-04-28 17:23:04.000000000', 'files': ['prometheus/Chart.yaml', 'releasenotes/notes/prometheus.yaml', 'prometheus/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/711d5706ddf46f9413bff957e1ee3b2973127768', 'message': 'Update default image value for prometheus\n\nThis change updates the default image value in the prometheus\nchart from newton to wallaby for the helm_test image.\n\nChange-Id: I0f70734a8455661f7705baeed3cafbaf529c56a8\n'}]",0,839615,711d5706ddf46f9413bff957e1ee3b2973127768,14,4,2,21420,,,0,"Update default image value for prometheus

This change updates the default image value in the prometheus
chart from newton to wallaby for the helm_test image.

Change-Id: I0f70734a8455661f7705baeed3cafbaf529c56a8
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/15/839615/2 && git format-patch -1 --stdout FETCH_HEAD,"['prometheus/Chart.yaml', 'releasenotes/notes/prometheus.yaml', 'prometheus/values.yaml']",3,abbf806b51596da0b3a27eda4a47197a47ff35a1,update-prometheus, helm_tests: docker.io/openstackhelm/heat:wallaby-ubuntu_focal, helm_tests: docker.io/openstackhelm/heat:newton-ubuntu_xenial,3,2
openstack%2Fopenstack-helm-infra~master~I794062bee9e5d316e1c754544c0970da93e46dbf,openstack/openstack-helm-infra,master,I794062bee9e5d316e1c754544c0970da93e46dbf,Update image default value for fluentd chart,MERGED,2022-04-27 17:34:50.000000000,2022-05-03 15:25:06.000000000,2022-05-03 15:23:29.000000000,"[{'_account_id': 8898}, {'_account_id': 22348}, {'_account_id': 30449}, {'_account_id': 30777}]","[{'number': 1, 'created': '2022-04-27 17:34:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/59d3aad78928c7cbd7dbc5df9309ca599c38f252', 'message': 'Update image default value for fluentd chart\n\nThis change updates the default image value where openstack is\nused to Wallaby from newton in the fluentd chart.\n\nChange-Id: I794062bee9e5d316e1c754544c0970da93e46dbf\n'}, {'number': 2, 'created': '2022-04-27 19:16:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/a512ed8f35032fa140261ca7504af815b4c905f7', 'message': 'Update image default value for fluentd chart\n\nThis change updates the default image value where openstack is\nused to Wallaby from newton in the fluentd chart.\n\nChange-Id: I794062bee9e5d316e1c754544c0970da93e46dbf\n'}, {'number': 3, 'created': '2022-04-28 17:23:10.000000000', 'files': ['releasenotes/notes/fluentd.yaml', 'fluentd/values.yaml', 'fluentd/Chart.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/78c3c80c2548b8f10b710d6dedc7774b38c5936d', 'message': 'Update image default value for fluentd chart\n\nThis change updates the default image value where openstack is\nused to Wallaby from newton in the fluentd chart.\n\nChange-Id: I794062bee9e5d316e1c754544c0970da93e46dbf\n'}]",0,839609,78c3c80c2548b8f10b710d6dedc7774b38c5936d,16,4,3,21420,,,0,"Update image default value for fluentd chart

This change updates the default image value where openstack is
used to Wallaby from newton in the fluentd chart.

Change-Id: I794062bee9e5d316e1c754544c0970da93e46dbf
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/09/839609/1 && git format-patch -1 --stdout FETCH_HEAD,['fluentd/values.yaml'],1,59d3aad78928c7cbd7dbc5df9309ca599c38f252,update-fluentd, helm_tests: docker.io/openstackhelm/heat:wallaby-ubuntu_focal, helm_tests: docker.io/openstackhelm/heat:newton-ubuntu_xenial,1,1
openstack%2Fmanila-ui~stable%2Fyoga~I81024f02006206ea1d58e47d81a6f473ef148c32,openstack/manila-ui,stable/yoga,I81024f02006206ea1d58e47d81a6f473ef148c32,Drop lower-constraints.txt and its testing,MERGED,2022-05-02 19:45:52.000000000,2022-05-03 15:04:35.000000000,2022-05-03 15:01:33.000000000,"[{'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 29632}]","[{'number': 1, 'created': '2022-05-02 19:45:52.000000000', 'files': ['requirements.txt', '.zuul.yaml', 'lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/manila-ui/commit/48e3c2b05102fc1033f7cc63e6e323ee97d9a3f3', 'message': 'Drop lower-constraints.txt and its testing\n\nAs discussed in TC PTG[1] and TC resolution[2], we are\ndropping the lower-constraints.txt file and its testing.\nWe will keep lower bounds in the requirements.txt file but\nwith a note that these are not tested lower bounds and we\ntry our best to keep them updated.\n\n[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326\n[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal\n\nChange-Id: I81024f02006206ea1d58e47d81a6f473ef148c32\n(cherry picked from commit 68294505b14820eaf049ef79d41b8d3c16c30544)\n'}]",1,840234,48e3c2b05102fc1033f7cc63e6e323ee97d9a3f3,9,3,1,16643,,,0,"Drop lower-constraints.txt and its testing

As discussed in TC PTG[1] and TC resolution[2], we are
dropping the lower-constraints.txt file and its testing.
We will keep lower bounds in the requirements.txt file but
with a note that these are not tested lower bounds and we
try our best to keep them updated.

[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326
[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal

Change-Id: I81024f02006206ea1d58e47d81a6f473ef148c32
(cherry picked from commit 68294505b14820eaf049ef79d41b8d3c16c30544)
",git fetch https://review.opendev.org/openstack/manila-ui refs/changes/34/840234/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', '.zuul.yaml', 'lower-constraints.txt', 'tox.ini']",4,48e3c2b05102fc1033f7cc63e6e323ee97d9a3f3,drop-l-c,, [testenv:lower-constraints] deps = -c{toxinidir}/lower-constraints.txt -r{toxinidir}/test-requirements.txt -r{toxinidir}/requirements.txt,4,141
openstack%2Fneutron-vpnaas~master~I9ff278801a400c52cc52d23b62b0b8447f91ebd8,openstack/neutron-vpnaas,master,I9ff278801a400c52cc52d23b62b0b8447f91ebd8,Fix failover with L3 HA,MERGED,2022-01-09 06:27:42.000000000,2022-05-03 15:04:00.000000000,2022-04-26 15:02:05.000000000,"[{'_account_id': 5948}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-09 06:27:42.000000000', 'files': ['neutron_vpnaas/services/vpn/agent.py', 'neutron_vpnaas/tests/functional/common/test_scenario.py'], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/76b606b8dbb2010538b223823bcf66e9864354c3', 'message': 'Fix failover with L3 HA\n\nSince there was a few changes inside Neutron which now use primary\ninstead of master, failover did not properly function.  This patch\nhandles both master/primary until Neutron moves those keywords into\nconstants inside neutron-lib.\n\nChange-Id: I9ff278801a400c52cc52d23b62b0b8447f91ebd8\n'}]",2,823904,76b606b8dbb2010538b223823bcf66e9864354c3,9,3,1,1004,,,0,"Fix failover with L3 HA

Since there was a few changes inside Neutron which now use primary
instead of master, failover did not properly function.  This patch
handles both master/primary until Neutron moves those keywords into
constants inside neutron-lib.

Change-Id: I9ff278801a400c52cc52d23b62b0b8447f91ebd8
",git fetch https://review.opendev.org/openstack/neutron-vpnaas refs/changes/04/823904/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_vpnaas/services/vpn/agent.py', 'neutron_vpnaas/tests/functional/common/test_scenario.py']",2,76b606b8dbb2010538b223823bcf66e9864354c3,," lambda: site.router.ha_state in ('master', 'primary')) linux_utils.wait_until_true( lambda: router2.ha_state in ('master', 'primary'))", lambda: site.router.ha_state == 'master') linux_utils.wait_until_true(lambda: router2.ha_state == 'master'),4,3
openstack%2Fpython-manilaclient~master~I7a234666c3edff6486257a370ec361045aa7947d,openstack/python-manilaclient,master,I7a234666c3edff6486257a370ec361045aa7947d,Drop lower-constraints.txt and its testing,MERGED,2022-05-01 01:19:19.000000000,2022-05-03 15:01:05.000000000,2022-05-03 14:58:33.000000000,"[{'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 29632}]","[{'number': 1, 'created': '2022-05-01 01:19:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/9ee7e5bfa54debbfd52ccbb5f3303d09320ae56b', 'message': 'Drop lower-constraints.txt and its testing\n\nAs discussed in TC PTG[1] and TC resolution[2], we are\ndropping the lower-constraints.txt file and its testing.\nWe will keep lower bounds in the requirements.txt file but\nwith a note that these are not tested lower bounds and we\ntry our best to keep them updated.\n\n[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326\n[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal\n\nChange-Id: I7a234666c3edff6486257a370ec361045aa7947d\n'}, {'number': 2, 'created': '2022-05-02 18:26:28.000000000', 'files': ['requirements.txt', 'lower-constraints.txt', 'zuul.d/project.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/bf2c7a26d62e240468ee062fddd49ff97a956e43', 'message': 'Drop lower-constraints.txt and its testing\n\nAs discussed in TC PTG[1] and TC resolution[2], we are\ndropping the lower-constraints.txt file and its testing.\nWe will keep lower bounds in the requirements.txt file but\nwith a note that these are not tested lower bounds and we\ntry our best to keep them updated.\n\n[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326\n[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal\n\nChange-Id: I7a234666c3edff6486257a370ec361045aa7947d\n'}]",3,840059,bf2c7a26d62e240468ee062fddd49ff97a956e43,12,3,2,8556,,,0,"Drop lower-constraints.txt and its testing

As discussed in TC PTG[1] and TC resolution[2], we are
dropping the lower-constraints.txt file and its testing.
We will keep lower bounds in the requirements.txt file but
with a note that these are not tested lower bounds and we
try our best to keep them updated.

[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326
[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal

Change-Id: I7a234666c3edff6486257a370ec361045aa7947d
",git fetch https://review.opendev.org/openstack/python-manilaclient refs/changes/59/840059/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'lower-constraints.txt', 'zuul.d/project.yaml', 'tox.ini']",4,9ee7e5bfa54debbfd52ccbb5f3303d09320ae56b,drop-l-c,, [testenv:lower-constraints] deps = -c{toxinidir}/lower-constraints.txt -r{toxinidir}/test-requirements.txt -r{toxinidir}/requirements.txt,4,97
openstack%2Fmanila-tempest-plugin~master~I8fce553d927da6d94471ecdf4040bbbb4377d9cf,openstack/manila-tempest-plugin,master,I8fce553d927da6d94471ecdf4040bbbb4377d9cf,Remove unneeded randomness when calling ddt.data(),MERGED,2022-05-03 11:17:23.000000000,2022-05-03 14:57:28.000000000,2022-05-03 14:53:13.000000000,"[{'_account_id': 16643}, {'_account_id': 19262}, {'_account_id': 22348}, {'_account_id': 29632}, {'_account_id': 30025}]","[{'number': 1, 'created': '2022-05-03 11:17:23.000000000', 'files': ['manila_tempest_tests/tests/api/test_rules.py'], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/6efb2692e6398a7f1bc919d90e9618f716351787', 'message': 'Remove unneeded randomness when calling ddt.data()\n\nThe usage of sets introduces unneeded randomness, and the\nutils.deduplicate function can be used instead.\n\nThis is a follow-up to similar past changes, see:\nI9cbd26016238c25487ac8104c1188cd2cf4f467e\nI15bfbf6e1ca604f2bf2fcf12dcd4e67bc728fe5e\n\nChange-Id: I8fce553d927da6d94471ecdf4040bbbb4377d9cf\n'}]",2,840282,6efb2692e6398a7f1bc919d90e9618f716351787,9,5,1,10459,,,0,"Remove unneeded randomness when calling ddt.data()

The usage of sets introduces unneeded randomness, and the
utils.deduplicate function can be used instead.

This is a follow-up to similar past changes, see:
I9cbd26016238c25487ac8104c1188cd2cf4f467e
I15bfbf6e1ca604f2bf2fcf12dcd4e67bc728fe5e

Change-Id: I8fce553d927da6d94471ecdf4040bbbb4377d9cf
",git fetch https://review.opendev.org/openstack/manila-tempest-plugin refs/changes/82/840282/1 && git format-patch -1 --stdout FETCH_HEAD,['manila_tempest_tests/tests/api/test_rules.py'],1,6efb2692e6398a7f1bc919d90e9618f716351787,ordered-ddt-data," itertools.product( utils.deduplicate(['1.0', '2.9', '2.37', LATEST_MICROVERSION]), [4]), itertools.product( utils.deduplicate(['2.38', LATEST_MICROVERSION]), [6]) itertools.product( utils.deduplicate(['1.0', '2.9', '2.37', LATEST_MICROVERSION]), [4]), itertools.product( utils.deduplicate(['2.38', LATEST_MICROVERSION]), [6])"," itertools.product({'1.0', '2.9', '2.37', LATEST_MICROVERSION}, {4}), itertools.product({'2.38', LATEST_MICROVERSION}, {6}) itertools.product({'1.0', '2.9', '2.37', LATEST_MICROVERSION}, {4}), itertools.product({'2.38', LATEST_MICROVERSION}, {6})",10,4
openstack%2Fnetworking-odl~master~I11d46673187f1b19f963a9f62f1ce81d525c6003,openstack/networking-odl,master,I11d46673187f1b19f963a9f62f1ce81d525c6003,CI: Adopt networking-odl to latest changes,MERGED,2022-04-19 08:22:46.000000000,2022-05-03 14:49:50.000000000,2022-05-03 14:47:01.000000000,"[{'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-19 08:22:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/bf55fabd34ed1c5bb8326432ce43983bfc8fdaa0', 'message': 'WIP: check master status\n\nIt seems that networking-odl hit again some setuptools issue.\n\nChange-Id: I11d46673187f1b19f963a9f62f1ce81d525c6003\n'}, {'number': 2, 'created': '2022-04-19 09:00:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/60a1f6e6b24c49f0da97c3b0a1c7f5709959d1cf', 'message': ""WIP: check master status\n\nIt seems that networking-odl hit again some setuptools issue.\nAs we run into a nasty setuptools issue/feature which broke even\ntox -edocs, add py_modules=[] to setup.py's setup call, see [1].\n\n[1]: https://review.opendev.org/q/topic:setuptools-issue-3197\n\nChange-Id: I11d46673187f1b19f963a9f62f1ce81d525c6003\n""}, {'number': 3, 'created': '2022-04-20 07:47:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/dee226a55c8c09ea6ca583b8471ae417eae91f39', 'message': ""WIP: check master status\n\nIt seems that networking-odl hit again some setuptools issue.\nAs we run into a nasty setuptools issue/feature which broke even\ntox -edocs, add py_modules=[] to setup.py's setup call, see [1].\n\n[1]: https://review.opendev.org/q/topic:setuptools-issue-3197\n\nChange-Id: I11d46673187f1b19f963a9f62f1ce81d525c6003\n""}, {'number': 4, 'created': '2022-04-20 09:10:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/87efed6902e9a891db96626c2860f065ecf7c3d8', 'message': ""WIP: check master status\n\nIt seems that networking-odl hit again some setuptools issue.\nAs we run into a nasty setuptools issue/feature which broke even\ntox -edocs, add py_modules=[] to setup.py's setup call, see [1].\n\n[1]: https://review.opendev.org/q/topic:setuptools-issue-3197\n\nChange-Id: I11d46673187f1b19f963a9f62f1ce81d525c6003\n""}, {'number': 5, 'created': '2022-04-20 14:41:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/5123098a383f537111b8320ea8e03aee28dbfebd', 'message': ""WIP: check master status\n\nIt seems that networking-odl hit again some setuptools issue.\nAs we run into a nasty setuptools issue/feature which broke even\ntox -edocs, add py_modules=[] to setup.py's setup call, see [1].\n\n[1]: https://review.opendev.org/q/topic:setuptools-issue-3197\n\nChange-Id: I11d46673187f1b19f963a9f62f1ce81d525c6003\n""}, {'number': 6, 'created': '2022-04-20 17:33:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/4c5b44a198ca1f896dd0a751d92c74b28a0053fb', 'message': ""WIP: check master status\n\nIt seems that networking-odl hit again some setuptools issue.\nAs we run into a nasty setuptools issue/feature which broke even\ntox -edocs, add py_modules=[] to setup.py's setup call, see [1].\n\n[1]: https://review.opendev.org/q/topic:setuptools-issue-3197\n\nChange-Id: I11d46673187f1b19f963a9f62f1ce81d525c6003\n""}, {'number': 7, 'created': '2022-04-21 08:11:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/c1c2cc8049337e4498ea2829da8f1a026adc1f8d', 'message': 'Fix dependencies for master on Zed\n\nWe can run with lower pylint version which is used in Neutron for\nexample.\n\nDepends-On: https://review.opendev.org/c/openstack/networking-sfc/+/838839\nDepends-On: https://review.opendev.org/c/openstack/networking-bgpvpn/+/838840\n\nRelated-Bug: #1968606\nChange-Id: I11d46673187f1b19f963a9f62f1ce81d525c6003\n'}, {'number': 8, 'created': '2022-04-25 09:33:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/669d86958360d2c982507480a8ebae8fc313d78f', 'message': 'Fix dependencies for master on Zed\n\nWe can run with lower pylint version which is used in Neutron for\nexample.\n\nDepends-On: https://review.opendev.org/c/openstack/networking-sfc/+/838839\nDepends-On: https://review.opendev.org/c/openstack/networking-bgpvpn/+/838840\n\nRelated-Bug: #1968606\nChange-Id: I11d46673187f1b19f963a9f62f1ce81d525c6003\n'}, {'number': 9, 'created': '2022-04-25 09:54:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/b8592a79b3decaa8661c484cce77507bc1c6c482', 'message': 'Fix dependencies for master on Zed\n\nWe can run with lower pylint version which is used in Neutron for\nexample.\n\nDepends-On: https://review.opendev.org/c/openstack/networking-sfc/+/838839\nDepends-On: https://review.opendev.org/c/openstack/networking-bgpvpn/+/838840\n\nRelated-Bug: #1968606\nChange-Id: I11d46673187f1b19f963a9f62f1ce81d525c6003\n'}, {'number': 10, 'created': '2022-04-25 16:15:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/83dd08646b881b332c5b2b00eae68642d464eafe', 'message': 'Fix dependencies for master on Zed\n\nWe can run with lower pylint version which is used in Neutron for\nexample.\n\nDepends-On: https://review.opendev.org/c/openstack/networking-sfc/+/838839\nDepends-On: https://review.opendev.org/c/openstack/networking-bgpvpn/+/838840\n\nRelated-Bug: #1968606\nChange-Id: I11d46673187f1b19f963a9f62f1ce81d525c6003\n'}, {'number': 11, 'created': '2022-04-25 16:19:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/c11d8ffbdf1ab6d69f75ad170467aa46ca3fc48c', 'message': 'Fix dependencies for master on Zed\n\nWe can run with lower pylint version which is used in Neutron for\nexample.\n\nDepends-On: https://review.opendev.org/c/openstack/networking-sfc/+/838839\nDepends-On: https://review.opendev.org/c/openstack/networking-bgpvpn/+/838840\n\nRelated-Bug: #1968606\nChange-Id: I11d46673187f1b19f963a9f62f1ce81d525c6003\n'}, {'number': 12, 'created': '2022-04-25 17:57:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/3a411b940f882f1aa2dcd9e01e081ed763d42fba', 'message': 'Fix dependencies for master on Zed\n\nWe can run with lower pylint version which is used in Neutron for\nexample.\n\nDepends-On: https://review.opendev.org/c/openstack/networking-sfc/+/838839\nDepends-On: https://review.opendev.org/c/openstack/networking-bgpvpn/+/838840\n\nRelated-Bug: #1968606\nChange-Id: I11d46673187f1b19f963a9f62f1ce81d525c6003\n'}, {'number': 13, 'created': '2022-04-28 11:49:48.000000000', 'files': ['bindep.txt', 'test-requirements.txt', 'devstack/entry_points', '.zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/886649ab5902dafb63aa0b51fd6e8ec6bfadd0a7', 'message': 'CI: Adopt networking-odl to latest changes\n\n- Added necessary projects to reuired-projects list for py3x jobs\n- Changed arping to iputils for fedora in bindep.txt\n- Added networking-odl directory to git safe.dir\n- changed pylint from 2.12.0 to 2.5.3\n\nDepends-On: https://review.opendev.org/c/openstack/networking-sfc/+/838839\nDepends-On: https://review.opendev.org/c/openstack/networking-bgpvpn/+/838840\n\nRelated-Bug: #1968606\nChange-Id: I11d46673187f1b19f963a9f62f1ce81d525c6003\n'}]",6,838451,886649ab5902dafb63aa0b51fd6e8ec6bfadd0a7,37,3,13,8313,,,0,"CI: Adopt networking-odl to latest changes

- Added necessary projects to reuired-projects list for py3x jobs
- Changed arping to iputils for fedora in bindep.txt
- Added networking-odl directory to git safe.dir
- changed pylint from 2.12.0 to 2.5.3

Depends-On: https://review.opendev.org/c/openstack/networking-sfc/+/838839
Depends-On: https://review.opendev.org/c/openstack/networking-bgpvpn/+/838840

Related-Bug: #1968606
Change-Id: I11d46673187f1b19f963a9f62f1ce81d525c6003
",git fetch https://review.opendev.org/openstack/networking-odl refs/changes/51/838451/1 && git format-patch -1 --stdout FETCH_HEAD,['networking_odl/l2gateway/driver_v2.py'],1,bf55fabd34ed1c5bb8326432ce43983bfc8fdaa0,zed-dependencies," odl_const.ODL_L2GATEWAY_CONNECTION: odl_const.ODL_L2GATEWAY_CONNECTIONS, odl_const.ODL_L2GATEWAY: odl_const.ODL_L2GATEWAYS"," odl_const.ODL_L2GATEWAY: odl_const.ODL_L2GATEWAYS, odl_const.ODL_L2GATEWAY_CONNECTION: odl_const.ODL_L2GATEWAY_CONNECTIONS",2,2
openstack%2Fneutron-fwaas~master~Icfceba7407e7c775b29e281bdf940653f84f5340,openstack/neutron-fwaas,master,Icfceba7407e7c775b29e281bdf940653f84f5340,Drop lower-constraints.txt and its testing,MERGED,2022-05-01 01:29:51.000000000,2022-05-03 13:49:31.000000000,2022-05-03 13:47:12.000000000,"[{'_account_id': 8313}, {'_account_id': 22348}, {'_account_id': 30380}]","[{'number': 1, 'created': '2022-05-01 01:29:51.000000000', 'files': ['requirements.txt', '.zuul.yaml', 'lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/216df5cf82f4b88da6590c1ea3b6cf8f29819bf6', 'message': 'Drop lower-constraints.txt and its testing\n\nAs discussed in TC PTG[1] and TC resolution[2], we are\ndropping the lower-constraints.txt file and its testing.\nWe will keep lower bounds in the requirements.txt file but\nwith a note that these are not tested lower bounds and we\ntry our best to keep them updated.\n\n[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326\n[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal\n\nChange-Id: Icfceba7407e7c775b29e281bdf940653f84f5340\n'}]",0,840100,216df5cf82f4b88da6590c1ea3b6cf8f29819bf6,8,3,1,8556,,,0,"Drop lower-constraints.txt and its testing

As discussed in TC PTG[1] and TC resolution[2], we are
dropping the lower-constraints.txt file and its testing.
We will keep lower bounds in the requirements.txt file but
with a note that these are not tested lower bounds and we
try our best to keep them updated.

[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326
[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal

Change-Id: Icfceba7407e7c775b29e281bdf940653f84f5340
",git fetch https://review.opendev.org/openstack/neutron-fwaas refs/changes/00/840100/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', '.zuul.yaml', 'lower-constraints.txt', 'tox.ini']",4,216df5cf82f4b88da6590c1ea3b6cf8f29819bf6,drop-l-c,,[testenv:lower-constraints] deps = -c{toxinidir}/lower-constraints.txt -r{toxinidir}/test-requirements.txt -r{toxinidir}/requirements.txt ,4,155
openstack%2Fglance-specs~master~Ia53a0394ab7fd55424d1eba2deccbc570665fc73,openstack/glance-specs,master,Ia53a0394ab7fd55424d1eba2deccbc570665fc73,Draft: Add image export,NEW,2022-04-08 13:30:58.000000000,2022-05-03 13:45:07.000000000,,"[{'_account_id': 4393}, {'_account_id': 5314}, {'_account_id': 9303}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-08 13:30:58.000000000', 'files': ['specs/zed/approved/glance/image-export.rst'], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/0e2dace23f4085329d612f377f3ef04f9fc19605', 'message': 'Draft: Add image export\n\nApiImpact\n\nChange-Id: Ia53a0394ab7fd55424d1eba2deccbc570665fc73\n'}]",10,837127,0e2dace23f4085329d612f377f3ef04f9fc19605,8,4,1,5202,,,0,"Draft: Add image export

ApiImpact

Change-Id: Ia53a0394ab7fd55424d1eba2deccbc570665fc73
",git fetch https://review.opendev.org/openstack/glance-specs refs/changes/27/837127/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/zed/approved/glance/image-export.rst'],1,0e2dace23f4085329d612f377f3ef04f9fc19605,image-export,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode =================== Glance Image Export =================== Include the URL of your launchpad blueprint: https://blueprints.launchpad.net/glance/+spec/image-export Export image with associated metadata for importing into another Glance deployment. Problem description =================== Current Glance users needs to manually copy the image payload and it's associated metadata when copying images across different deployments. * Multiple regions with independent Glance services. * Between different clouds, possibly hosted by different providers. * Forklift upgrades where workloads needs to be moved into new cloud deployments that are replacing the old ones. Proposed change =============== Glance API should provide Export option either when calling the '/file' endpoint with specific parameters (say header) or dedicated '/export' endpoint for export purposes. This request would return single file containing compressed image data followed by associated metadata, the size of that metadata section and ""magic number"" footer indicating that the metadata is included in the file. * Image data is gzip compressed when sent to the client. * after the whole image has been transferred we will take the metadata that is to be included (no read-only fields apart from multihash keys to validate the data after uncompressing nor any protected properties that the user would not have visibility in the first place, we get this view already when the image object is formed with the user credentials) expressed in json and encoded in base64. (Note, this is not for obfuscating or ""encrypting"" the data, but to ensure safe transfer over different mediums.) * Followed by fixed length size of the previous metadata and footer indicator so that the exported files can be recognized for importing. This model will also allow Glance that does not have the code present for recognizing said exports to utilize the image payload as long as the decompression is enabled as gzip will just ignore the rest of the file. As there is no any secrecy, encryption for example, involved the metadata can be extracted at any stage of the process. Like client could present the included metadata to the user for comparison of properties in the original image vs the end results of the newly created image. The model would enable easy transfer of images between clouds, being it direct glance-to-glance interaction, air gapped systems where the data needs to be transferred manually (for example USB media), or any client/3rd party tooling that would take advantage of having the image and it's metadata in a single file. Compression ensures efficient usage of network and storage capacity between the deployments as well as backwards compatibility for systems not expecting the metadata being included. Alternatives ------------ * Manual feeding of the required metadata during the image creation (current) * Importing g-api could do GET request to the originating Glance (proposed). Negative side effect of this is that it requires access between the two deployments in form of both networking and credentials excluding air gapped cases and any situation where existing security policies would prevent providing source cloud credentials to the destination cloud for processing. * Client side export/import where client would do the heavy lifting of saving the medata into a file and parsing that file for image creation. Downside being that the client would always need to be in the center of the data transfer and in cases of for example RAW images would need to be wastefull at least on the upstream networking side. Proposed changed would still allow client side handling of the metadata creation if needed and provide compressed image download. Data model impact ----------------- None REST API impact --------------- Either new endpoint or new behaviour of the existing '/file' endpoint by request. Security impact --------------- As the metadata provided is based on the view that authenticated user already has through the API, the export does not iself has security impact. Bringing the metadata into the destination cloud would need to be handled in similar way as we do handle current json inputs to avoid unwanted injections. Notifications impact -------------------- N/A Other end user impact --------------------- Possible client enchancements of improved visibility to the process. Performance Impact ------------------ Compression and decompression during export and inport will cause computational overhead which is more than well compensated by the gains on the transfer bandwidth and intermediary storage needs. Other deployer impact --------------------- There should be no other impact for deployers/operators. Developer impact ---------------- Import flows would need to support extracting the metadata from the file and utilizin it for creating corresponding extra proprties for the image. Implementation ============== Assignee(s) ----------- Who is leading the writing of the code? Or is this a blueprint where you're throwing it out there to see who picks it up? If more than one person is working on the implementation, please designate the primary author and contact. Primary assignee: <launchpad-id or None> Other contributors: <launchpad-id or None> Work Items ---------- * Export logic for extracting and serializing the metadata * API change, image stream compression and embedding the metadata * Interoperable Image Import flow change to introduce the extraction of the metadata and creation of properties * Documentation * Testing 8 Any possible client side improvements utilizing the newly available data Dependencies ============ Related to the newly proposed 'glance-download' import method Testing ======= the new flow should be tested, downloading the exported image bundle and importing it to the destination. Documentation Impact ==================== None References ========== ",,197,0
openstack%2Fneutron~master~I2bc98f1f3a6495eb5056c000ef1c40d1e092b021,openstack/neutron,master,I2bc98f1f3a6495eb5056c000ef1c40d1e092b021,[OVN] Add baremetal support,ABANDONED,2022-03-08 13:22:19.000000000,2022-05-03 13:39:22.000000000,,"[{'_account_id': 6773}, {'_account_id': 9845}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 30380}]","[{'number': 1, 'created': '2022-03-08 13:22:19.000000000', 'files': ['neutron/common/ovn/utils.py', 'neutron/common/ovn/constants.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/dd0a9631ee67c39b2a651a561eaaa3a8d8e54545', 'message': '[OVN] Add baremetal support\n\nThis is WIP and lacks tests\n\n* Creates an external port for VNIC_BAREMETAL ports\n* Add supports for the ""tag:ipxe"" and ""tag:!ipxe"" DHCP options used by\n  Ironic for VNIC_BAREMETAL ports\n\nNote, core OVN does not yet support iPXE chainbooting for IPv6 at the\nmoment of this writing but, this patch already includes it since core\nOVN and ML2/OVN parts can be done in parallel.\n\nChange-Id: I2bc98f1f3a6495eb5056c000ef1c40d1e092b021\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}]",0,832635,dd0a9631ee67c39b2a651a561eaaa3a8d8e54545,8,6,1,6773,,,0,"[OVN] Add baremetal support

This is WIP and lacks tests

* Creates an external port for VNIC_BAREMETAL ports
* Add supports for the ""tag:ipxe"" and ""tag:!ipxe"" DHCP options used by
  Ironic for VNIC_BAREMETAL ports

Note, core OVN does not yet support iPXE chainbooting for IPv6 at the
moment of this writing but, this patch already includes it since core
OVN and ML2/OVN parts can be done in parallel.

Change-Id: I2bc98f1f3a6495eb5056c000ef1c40d1e092b021
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
",git fetch https://review.opendev.org/openstack/neutron refs/changes/35/832635/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/common/ovn/utils.py', 'neutron/common/ovn/constants.py']",2,dd0a9631ee67c39b2a651a561eaaa3a8d8e54545,ovn-baremetal,"import copy# Baremetal specific DHCP options for VNIC_BAREMETAL ports SUPPORTED_BM_DHCP_OPTS_MAPPING = copy.deepcopy( SUPPORTED_DHCP_OPTS_MAPPING) SUPPORTED_BM_DHCP_OPTS_MAPPING[4].update({ 'tag:ipxe,bootfile-name': 'bootfile_name', 'tag:ipxe,67': 'bootfile_name', 'tag:!ipxe,bootfile-name': 'bootfile_name_alt', 'tag:!ipxe,67': 'bootfile_name_alt'}) SUPPORTED_BM_DHCP_OPTS_MAPPING[6].update({ 'tag:ipxe6,bootfile-name': 'bootfile_name', 'tag:ipxe6,59': 'bootfile_name', 'tag:!ipxe6,bootfile-name': 'bootfile_name_alt', 'tag:!ipxe6,59': 'bootfile_name_alt'}) portbindings.VNIC_MACVTAP, portbindings.VNIC_BAREMETAL) portbindings.VNIC_BAREMETAL]", portbindings.VNIC_MACVTAP) ],30,3
openstack%2Fnetworking-ovn~stable%2Ftrain~Ic4d59c1c2d89c64c3fbd89fa548668d54f936d92,openstack/networking-ovn,stable/train,Ic4d59c1c2d89c64c3fbd89fa548668d54f936d92,DO NOT REVIEW/MERGE: Test external ports for VNIC_BAREMETAL,ABANDONED,2022-05-03 08:13:21.000000000,2022-05-03 13:34:40.000000000,,"[{'_account_id': 6773}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-03 08:13:21.000000000', 'files': ['networking_ovn/common/utils.py', 'networking_ovn/common/constants.py', 'networking_ovn/ml2/mech_driver.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/6bb5a15c1bb8d3069a22ed58a5412c931ac99f7f', 'message': 'DO NOT REVIEW/MERGE: Test external ports for VNIC_BAREMETAL\n\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\nChange-Id: Ic4d59c1c2d89c64c3fbd89fa548668d54f936d92\n'}]",0,840277,6bb5a15c1bb8d3069a22ed58a5412c931ac99f7f,4,2,1,6773,,,0,"DO NOT REVIEW/MERGE: Test external ports for VNIC_BAREMETAL

Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
Change-Id: Ic4d59c1c2d89c64c3fbd89fa548668d54f936d92
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/77/840277/1 && git format-patch -1 --stdout FETCH_HEAD,"['networking_ovn/common/utils.py', 'networking_ovn/common/constants.py', 'networking_ovn/ml2/mech_driver.py']",3,6bb5a15c1bb8d3069a22ed58a5412c931ac99f7f,," portbindings.VNIC_MACVTAP, portbindings.VNIC_BAREMETAL]", portbindings.VNIC_MACVTAP],8,2
openstack%2Fmonasca-common~master~I011e9d6e0787dae20607040bc08e7335ff306862,openstack/monasca-common,master,I011e9d6e0787dae20607040bc08e7335ff306862,Drop lower-constraints.txt and its testing,MERGED,2022-05-01 01:24:59.000000000,2022-05-03 13:20:23.000000000,2022-05-03 13:20:23.000000000,"[{'_account_id': 22348}, {'_account_id': 28062}]","[{'number': 1, 'created': '2022-05-01 01:24:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-common/commit/304066e71f688cc1376bad8306bf2473a0431775', 'message': 'Drop lower-constraints.txt and its testing\n\nAs discussed in TC PTG[1] and TC resolution[2], we are\ndropping the lower-constraints.txt file and its testing.\nWe will keep lower bounds in the requirements.txt file but\nwith a note that these are not tested lower bounds and we\ntry our best to keep them updated.\n\n[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326\n[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal\n\nChange-Id: I011e9d6e0787dae20607040bc08e7335ff306862\n'}, {'number': 2, 'created': '2022-05-03 11:26:13.000000000', 'files': ['requirements.txt', '.zuul.yaml', 'lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/monasca-common/commit/f290882658db757a4dfbde23c327b70cbe58f964', 'message': 'Drop lower-constraints.txt and its testing\n\nAs discussed in TC PTG[1] and TC resolution[2], we are\ndropping the lower-constraints.txt file and its testing.\nWe will keep lower bounds in the requirements.txt file but\nwith a note that these are not tested lower bounds and we\ntry our best to keep them updated.\n\n[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326\n[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal\n\nChange-Id: I011e9d6e0787dae20607040bc08e7335ff306862\n'}]",2,840081,f290882658db757a4dfbde23c327b70cbe58f964,12,2,2,8556,,,0,"Drop lower-constraints.txt and its testing

As discussed in TC PTG[1] and TC resolution[2], we are
dropping the lower-constraints.txt file and its testing.
We will keep lower bounds in the requirements.txt file but
with a note that these are not tested lower bounds and we
try our best to keep them updated.

[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326
[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal

Change-Id: I011e9d6e0787dae20607040bc08e7335ff306862
",git fetch https://review.opendev.org/openstack/monasca-common refs/changes/81/840081/2 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', '.zuul.yaml', 'lower-constraints.txt', 'tox.ini']",4,304066e71f688cc1376bad8306bf2473a0431775,drop-l-c,, [testenv:lower-constraints] setenv = {[testenv:py36]setenv} deps = -c{toxinidir}/lower-constraints.txt -r{toxinidir}/test-requirements.txt -r{toxinidir}/requirements.txt commands = {[testenv:py36]commands},4,64
openstack%2Fcinder~master~Id00cda88132184e66fbf6c03965f1de30cf02dcf,openstack/cinder,master,Id00cda88132184e66fbf6c03965f1de30cf02dcf,[SVf]:Fix multiple lsvdisk calls for GMCV create volume operation,MERGED,2022-02-14 16:51:39.000000000,2022-05-03 13:02:34.000000000,2022-05-02 16:59:25.000000000,"[{'_account_id': 1736}, {'_account_id': 4523}, {'_account_id': 7198}, {'_account_id': 14806}, {'_account_id': 20813}, {'_account_id': 22348}, {'_account_id': 29122}, {'_account_id': 34201}, {'_account_id': 34541}]","[{'number': 1, 'created': '2022-02-14 16:51:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/defb9150c7543b322858eaabb933e0199b66b9ab', 'message': '[SVf]:Fix multiple lsvdisk calls for GMCV create volume operation.\n\n[Spectrum Virtualize family] During creation of GMCV type volume\nthere are multiple lsvdisk calls made for checking the existence\nof source change volume, aux volume and change aux volume.\nAlong with these calls there is a lssystem call which can be\noptimized.\n\nThis patch optimizes these lsvdisk and lssystem calls which in\nturn reduces the computational time for creating GMCV volumes.\n\nChange-Id: Id00cda88132184e66fbf6c03965f1de30cf02dcf\n'}, {'number': 2, 'created': '2022-02-17 06:30:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/513f288ee35af99a5482e61ec3a60279dcd2a7be', 'message': '[SVf]:Fix multiple lsvdisk calls for GMCV create volume operation.\n\n[Spectrum Virtualize family] During creation of GMCV type volume\nthere are multiple lsvdisk calls made for checking the existence\nof source change volume, aux volume and change aux volume.\nAlong with these calls there is a lssystem call which can be\noptimized.\n\nThis patch optimizes these lsvdisk and lssystem calls which in\nturn reduces the computational time for creating GMCV volumes.\n\nChange-Id: Id00cda88132184e66fbf6c03965f1de30cf02dcf\n'}, {'number': 3, 'created': '2022-02-22 10:04:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/72bebe6a481495341907582adef9559bb1a91c6b', 'message': '[SVf]:Fix multiple lsvdisk calls for GMCV create volume operation.\n\n[Spectrum Virtualize family] During creation of GMCV type volume\nthere are multiple lsvdisk calls made for checking the existence\nof source change volume, aux volume and change aux volume.\nAlong with these calls there is a lssystem call which can be\noptimized.\n\nThis patch optimizes these lsvdisk and lssystem calls which in\nturn reduces the computational time for creating GMCV volumes.\n\nCloses-Bug: #1961548\n\nChange-Id: Id00cda88132184e66fbf6c03965f1de30cf02dcf\n'}, {'number': 4, 'created': '2022-02-22 11:28:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ac43d2c11b051682565064ba2c04adc80275807a', 'message': '[SVf]:Fix multiple lsvdisk calls for GMCV create volume operation.\n\n[Spectrum Virtualize family] During creation of GMCV type volume\nthere are multiple lsvdisk calls made for checking the existence\nof source change volume, aux volume and change aux volume.\nAlong with these calls there is a lssystem call which can be\noptimized.\n\nThis patch optimizes these lsvdisk and lssystem calls which in\nturn reduces the computational time for creating GMCV volumes.\n\nCloses-Bug: #1961548\n\nChange-Id: Id00cda88132184e66fbf6c03965f1de30cf02dcf\n'}, {'number': 5, 'created': '2022-02-23 16:02:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/d1e11bac1faea7aecafff2d868450e5a75946d71', 'message': '[SVf]:Fix multiple lsvdisk calls for GMCV create volume operation.\n\n[Spectrum Virtualize family] During creation of GMCV type volume\nthere are multiple lsvdisk calls made for checking the existence\nof source change volume, aux volume and change aux volume.\nAlong with these calls there is a lssystem call which can be\noptimized.\n\nThis patch optimizes these lsvdisk and lssystem calls which in\nturn reduces the computational time for creating GMCV volumes.\n\nCloses-Bug: #1961548\n\nChange-Id: Id00cda88132184e66fbf6c03965f1de30cf02dcf\n'}, {'number': 6, 'created': '2022-04-19 05:24:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/785e35537bf80cc4826ecbbfa9386e98adac0a62', 'message': '[SVf]:Fix multiple lsvdisk calls for GMCV create volume operation.\n\n[Spectrum Virtualize family] During creation of GMCV type volume\nthere are multiple lsvdisk calls made for checking the existence\nof source change volume, aux volume and change aux volume.\nAlong with these calls there is a lssystem call which can be\noptimized.\n\nThis patch optimizes these lsvdisk and lssystem calls which in\nturn reduces the computational time for creating GMCV volumes.\n\nCloses-Bug: #1961548\n\nChange-Id: Id00cda88132184e66fbf6c03965f1de30cf02dcf\n'}, {'number': 7, 'created': '2022-04-21 10:54:41.000000000', 'files': ['cinder/volume/drivers/ibm/storwize_svc/replication.py', 'cinder/tests/unit/volume/drivers/ibm/test_storwize_svc.py', 'cinder/volume/drivers/ibm/storwize_svc/storwize_svc_common.py', 'releasenotes/notes/bug-1961548-ibm-svf-Fix_multiple_SVC_CLI_calls_for_create_volume_operation-338b009bca72ee60.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/76de76646d6ed24f9bb3f2fed00e81746e9804a5', 'message': '[SVf]:Fix multiple lsvdisk calls for GMCV create volume operation\n\n[Spectrum Virtualize family] During creation of GMCV type volume\nthere are multiple lsvdisk calls made for checking the existence\nof source change volume, aux volume and change aux volume.\nAlong with these calls there is a lssystem call which can be\noptimized.\n\nThis patch optimizes these lsvdisk and lssystem calls which in\nturn reduces the computational time for creating GMCV volumes.\n\nCloses-Bug: #1961548\n\nChange-Id: Id00cda88132184e66fbf6c03965f1de30cf02dcf\n'}]",31,829110,76de76646d6ed24f9bb3f2fed00e81746e9804a5,182,9,7,32074,,,0,"[SVf]:Fix multiple lsvdisk calls for GMCV create volume operation

[Spectrum Virtualize family] During creation of GMCV type volume
there are multiple lsvdisk calls made for checking the existence
of source change volume, aux volume and change aux volume.
Along with these calls there is a lssystem call which can be
optimized.

This patch optimizes these lsvdisk and lssystem calls which in
turn reduces the computational time for creating GMCV volumes.

Closes-Bug: #1961548

Change-Id: Id00cda88132184e66fbf6c03965f1de30cf02dcf
",git fetch https://review.opendev.org/openstack/cinder refs/changes/10/829110/6 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/drivers/ibm/storwize_svc/replication.py'],1,defb9150c7543b322858eaabb933e0199b66b9ab,change-829110," # Source change volume creation src_change_opts = self.driver._get_vdisk_params( vref['volume_type_id']) src_change_opts['iogrp'] = src_attr['IO_group_id'] # Change volumes would usually be thin-provisioned src_change_opts['autoexpand'] = True src_change_pool = src_attr['mdisk_grp_name'] if new_type: src_child_pool = ( new_type_opts['storwize_svc_src_child_pool']) else: src_child_pool = ( src_change_opts['storwize_svc_src_child_pool']) if src_child_pool: src_change_pool = src_child_pool try: except exception.VolumeBackendAPIException as excp: if ""CMMVC6035E"" in excp.msg: msg = ('Source change volume: %s already exists' % source_change_vol_name) LOG.info(msg) # Target volume creation target_opts = self.driver._get_vdisk_params( vref['volume_type_id']) target_pool = self.target.get('pool_name') target_opts['iogrp'] = src_attr['IO_group_id'] try: except exception.VolumeBackendAPIException as excp: if ""CMMVC6035E"" in excp.msg: msg = ('Target Volume: %s already exists' % target_vol_name) LOG.info(msg) # Target change volume creation target_change_opts = self.driver._get_vdisk_params( vref['volume_type_id']) target_change_pool = self.target.get('pool_name') if new_type: target_child_pool = ( new_type_opts['storwize_svc_target_child_pool']) else: target_child_pool = ( target_change_opts['storwize_svc_target_child_pool']) if target_child_pool: target_change_pool = target_child_pool target_change_opts['iogrp'] = src_attr['IO_group_id'] # Change Volumes would usually be thin-provisioned target_change_opts['autoexpand'] = True try: except exception.VolumeBackendAPIException as excp: if ""CMMVC6035E"" in excp.msg: msg = ('Target Change Volume: %s already exists' % target_change_vol_name) LOG.info(msg) target_system_id = self.driver._aux_state['system_id'] vref['name'], target_vol_name, target_system_id,"," # Create source change volume if it doesn't exist src_change_attr = self.driver._helpers.get_vdisk_attributes( source_change_vol_name) if not src_change_attr: src_change_opts = self.driver._get_vdisk_params( vref['volume_type_id']) src_change_opts['iogrp'] = src_attr['IO_group_id'] # Change volumes would usually be thin-provisioned src_change_opts['autoexpand'] = True src_change_pool = src_attr['mdisk_grp_name'] if new_type: src_child_pool = ( new_type_opts['storwize_svc_src_child_pool']) else: src_child_pool = ( src_change_opts['storwize_svc_src_child_pool']) if src_child_pool: src_change_pool = src_child_pool # Create target volume if it doesn't exist target_attr = self.target_helpers.get_vdisk_attributes( target_vol_name) if not target_attr: target_opts = self.driver._get_vdisk_params( vref['volume_type_id']) target_pool = self.target.get('pool_name') target_opts['iogrp'] = src_attr['IO_group_id'] # Create target change volume if it doesn't exist target_change_attr = self.target_helpers.get_vdisk_attributes( target_change_vol_name) if not target_change_attr: target_change_opts = self.driver._get_vdisk_params( vref['volume_type_id']) target_change_pool = self.target.get('pool_name') if new_type: target_child_pool = ( new_type_opts['storwize_svc_target_child_pool']) else: target_child_pool = ( target_change_opts['storwize_svc_target_child_pool']) if target_child_pool: target_change_pool = target_child_pool target_change_opts['iogrp'] = src_attr['IO_group_id'] # Change Volumes would usually be thin-provisioned target_change_opts['autoexpand'] = True system_info = self.target_helpers.get_system_info() vref['name'], target_vol_name, system_info.get('system_id'),",56,46
openstack%2Fsushy~stable%2Fxena~I021d1116613e2b35352ca9749f8bc8a84bf655a1,openstack/sushy,stable/xena,I021d1116613e2b35352ca9749f8bc8a84bf655a1,Use Etag in precondition header when setting boot options,MERGED,2022-04-29 05:16:13.000000000,2022-05-03 12:45:44.000000000,2022-05-03 12:44:38.000000000,"[{'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-29 05:16:13.000000000', 'files': ['sushy/resources/system/system.py', 'sushy/tests/unit/resources/system/test_system.py', 'releasenotes/notes/fix-use-headers-for-options-736940b87c06c189.yaml'], 'web_link': 'https://opendev.org/openstack/sushy/commit/5b7b94b0785ef009342ce39f6abf777b47613087', 'message': 'Use Etag in precondition header when setting boot options\n\nIf provided by the end point, use the Etag in the If-* precondition\nwhen setting the boot option.\n\nChange-Id: I021d1116613e2b35352ca9749f8bc8a84bf655a1\n(cherry picked from commit 7e2db9853baa1a73323e34899fcf5e8ac7b86290)\n'}]",0,839842,5b7b94b0785ef009342ce39f6abf777b47613087,9,2,1,32177,,,0,"Use Etag in precondition header when setting boot options

If provided by the end point, use the Etag in the If-* precondition
when setting the boot option.

Change-Id: I021d1116613e2b35352ca9749f8bc8a84bf655a1
(cherry picked from commit 7e2db9853baa1a73323e34899fcf5e8ac7b86290)
",git fetch https://review.opendev.org/openstack/sushy refs/changes/42/839842/1 && git format-patch -1 --stdout FETCH_HEAD,"['sushy/resources/system/system.py', 'sushy/tests/unit/resources/system/test_system.py', 'releasenotes/notes/fix-use-headers-for-options-736940b87c06c189.yaml']",3,5b7b94b0785ef009342ce39f6abf777b47613087,,"--- fixes: - | If available, uses headers with an Etag to set the boot options. ",,42,10
openstack%2Ftripleo-upgrade~stable%2Fussuri~Id588a969ee50293f6fc4a5b66877ebf693701e24,openstack/tripleo-upgrade,stable/ussuri,Id588a969ee50293f6fc4a5b66877ebf693701e24,Ussuri tear down as EOL,MERGED,2022-04-06 10:30:04.000000000,2022-05-03 12:27:36.000000000,2022-05-03 12:27:36.000000000,"[{'_account_id': 6816}, {'_account_id': 8297}, {'_account_id': 8449}, {'_account_id': 9976}, {'_account_id': 11090}, {'_account_id': 11166}, {'_account_id': 14611}, {'_account_id': 22348}, {'_account_id': 31075}, {'_account_id': 32458}]","[{'number': 1, 'created': '2022-04-06 10:30:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/0ec13ec16e8a9c72a391e834dc78c7085ad0ac9b', 'message': 'Ussuri tear down as EOL\n\nRef: https://review.opendev.org/c/openstack/releases/+/834049\nChange-Id: Id588a969ee50293f6fc4a5b66877ebf693701e24\n'}, {'number': 2, 'created': '2022-04-29 11:12:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/b3e912004ccdf1be074eb1209e628e42c919f583', 'message': 'Ussuri tear down as EOL\n\nRef: https://review.opendev.org/c/openstack/releases/+/834049\nChange-Id: Id588a969ee50293f6fc4a5b66877ebf693701e24\n'}, {'number': 3, 'created': '2022-05-02 11:27:35.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/d652204efa31d6e121b10b9b120bf8dc1f1ac5fb', 'message': 'Ussuri tear down as EOL\n\nRef: https://review.opendev.org/c/openstack/releases/+/834049\nChange-Id: Id588a969ee50293f6fc4a5b66877ebf693701e24\n'}]",9,836794,d652204efa31d6e121b10b9b120bf8dc1f1ac5fb,26,10,3,31075,,,0,"Ussuri tear down as EOL

Ref: https://review.opendev.org/c/openstack/releases/+/834049
Change-Id: Id588a969ee50293f6fc4a5b66877ebf693701e24
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/94/836794/3 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,0ec13ec16e8a9c72a391e834dc78c7085ad0ac9b,tripleo_ussuri_teardown,, - tripleo-ci-centos-8-content-provider-ussuri: dependencies: - tripleo-upgrade-centos-8-molecule - tripleo-ci-centos-8-scenario000-multinode-oooq-container-updates-ussuri: irrelevant-files: &multinode_ignored - ^.*\.md$ - ^.*\.rst$ - ^doc/.*$ - ^docs/.*$ - ^etc/.*$ - ^metadata.json$ - ^releasenotes/.*$ - ^test-requirements.txt$ - ^setup.*$ - ^spec/.*$ - ^Puppetfile.*$ - tox.ini - ^roles/build-containers/.*$ - ^roles/oooci-build-images/.*$ - ^playbooks/deprecated/.*$ - ^playbooks/tripleo-buildcontainers/.*$ - ^playbooks/tripleo-buildimages/.*$ - ^vars/sova-patterns.yml$ - zuul.d/layout.yaml - zuul.d/build-containers.yaml - zuul.d/build-image.yaml - zuul.d/standalone-jobs.yaml - zuul.d/undercloud-jobs.yaml # tripleo-quickstart-extras - playbooks/quickstart-extras-standalone.yml - roles/standalone/.* - roles/standalone-upgrade/.* vars: &multi_consumer_vars consumer_job: true build_container_images: false remove_tags: - build dependencies: - tripleo-ci-centos-8-content-provider-ussuri - tripleo-ci-centos-8-scenario000-multinode-oooq-container-upgrades-ussuri: irrelevant-files: *multinode_ignored vars: *multi_consumer_vars dependencies: - tripleo-ci-centos-8-content-provider-ussuri - tripleo-ci-centos-8-undercloud-upgrade-ussuri: vars: &undercloud_consumer_vars consumer_job: true remove_tags: - build irrelevant-files: &undercloud_ignored - ^.*\.md$ - ^.*\.rst$ - ^doc/.*$ - ^docs/.*$ - ^etc/.*$ - ^metadata.json$ - ^releasenotes/.*$ - ^test-requirements.txt$ - ^spec/.*$ - ^Puppetfile.*$ - tox.ini - ^roles/build-containers/.*$ - ^roles/oooci-build-images/.*$ - ^playbooks/deprecated/.*$ - ^playbooks/tripleo-buildcontainers/.*$ - ^playbooks/tripleo-buildimages/.*$ - ^vars/sova-patterns.yml$ - zuul.d/layout.yaml - zuul.d/build-containers.yaml - zuul.d/build-image.yaml - zuul.d/standalone-jobs.yaml - zuul.d/multinode-jobs.yaml dependencies: - tripleo-ci-centos-8-content-provider-ussuri - tripleo-ci-centos-8-content-provider-train - tripleo-ci-centos-8-content-provider-ussuri: dependencies: - tripleo-upgrade-centos-8-molecule - tripleo-ci-centos-8-scenario000-multinode-oooq-container-updates-ussuri: irrelevant-files: *multinode_ignored vars: *multi_consumer_vars dependencies: - tripleo-ci-centos-8-content-provider-ussuri - tripleo-ci-centos-8-scenario000-multinode-oooq-container-upgrades-ussuri: irrelevant-files: *multinode_ignored vars: *multi_consumer_vars dependencies: - tripleo-ci-centos-8-content-provider-ussuri - tripleo-ci-centos-8-undercloud-upgrade-ussuri: vars: *undercloud_consumer_vars irrelevant-files: *undercloud_ignored dependencies: - tripleo-ci-centos-8-content-provider-ussuri - tripleo-ci-centos-8-content-provider-train,0,94
openstack%2Ftripleo-heat-templates~master~I64a4d80d0e678536170089be6e50020ff1d688a9,openstack/tripleo-heat-templates,master,I64a4d80d0e678536170089be6e50020ff1d688a9,Don't use hardcoded subnets in VipSubnetMap,MERGED,2022-05-02 11:31:34.000000000,2022-05-03 12:00:47.000000000,2022-05-03 12:00:47.000000000,"[{'_account_id': 6926}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}, {'_account_id': 28223}]","[{'number': 1, 'created': '2022-05-02 11:31:34.000000000', 'files': ['overcloud-resource-registry-puppet.j2.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ce0686a559238a90b287cc1c76aed9dc18babf29', 'message': ""Don't use hardcoded subnets in VipSubnetMap\n\nThis does not work when using custom network/subnet names in\nnetwork_data.yaml\n\nChange-Id: I64a4d80d0e678536170089be6e50020ff1d688a9\n""}]",4,840172,ce0686a559238a90b287cc1c76aed9dc18babf29,12,5,1,8833,,,0,"Don't use hardcoded subnets in VipSubnetMap

This does not work when using custom network/subnet names in
network_data.yaml

Change-Id: I64a4d80d0e678536170089be6e50020ff1d688a9
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/72/840172/1 && git format-patch -1 --stdout FETCH_HEAD,['overcloud-resource-registry-puppet.j2.yaml'],1,ce0686a559238a90b287cc1c76aed9dc18babf29,," redis: {{ _service_nets.get('internal_api', 'ctlplane') }}_subnet ovn_dbs: {{ _service_nets.get('internal_api', 'ctlplane') }}_subnet", redis: internal_api_subnet ovn_dbs: internal_api_subnet,2,2
openstack%2Fansible-collections-openstack~master~I88b8b6a2ca29cbd2d326d97e6d071c14d83fbed7,openstack/ansible-collections-openstack,master,I88b8b6a2ca29cbd2d326d97e6d071c14d83fbed7,Set owner in image module,ABANDONED,2022-05-03 11:51:31.000000000,2022-05-03 11:54:16.000000000,,[],"[{'number': 1, 'created': '2022-05-03 11:51:31.000000000', 'files': ['ci/roles/image/tasks/main.yml', 'plugins/modules/image.py'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/7c9a46c91c799481f874444d34c97fbecebb115f', 'message': 'Set owner in image module\n\nPreviously the owner field was not set by module\n`cloud.openstack.image`, although it is specified as a module parameter.\nThe usual approach in `ansible-collections-openstack` is to accept both\nnames and IDs when referencing openstack resources.\nTherefore this commit follows the approach taken by\n`python-openstackclient` in [1] and introduces a `project` and a\n`project_domain` parameter to identify projects by name or ID and\nassign the ID to the `owner` attribute of the image.\nThe `owner` parameter is left as an alias to `project` in the module.\n\nStory: 2009983\nTask: 45012\nChange-Id: I3654587df8e40d554aac5126df307961f335332c\n\n[1]\nhttps://opendev.org/openstack/python-openstackclient/commit/cf2de9af79cedd51ca080f5a6521997c05647418\n\nChange-Id: I88b8b6a2ca29cbd2d326d97e6d071c14d83fbed7\n'}]",0,840285,7c9a46c91c799481f874444d34c97fbecebb115f,2,0,1,30911,,,0,"Set owner in image module

Previously the owner field was not set by module
`cloud.openstack.image`, although it is specified as a module parameter.
The usual approach in `ansible-collections-openstack` is to accept both
names and IDs when referencing openstack resources.
Therefore this commit follows the approach taken by
`python-openstackclient` in [1] and introduces a `project` and a
`project_domain` parameter to identify projects by name or ID and
assign the ID to the `owner` attribute of the image.
The `owner` parameter is left as an alias to `project` in the module.

Story: 2009983
Task: 45012
Change-Id: I3654587df8e40d554aac5126df307961f335332c

[1]
https://opendev.org/openstack/python-openstackclient/commit/cf2de9af79cedd51ca080f5a6521997c05647418

Change-Id: I88b8b6a2ca29cbd2d326d97e6d071c14d83fbed7
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/85/840285/1 && git format-patch -1 --stdout FETCH_HEAD,"['ci/roles/image/tasks/main.yml', 'plugins/modules/image.py']",2,7c9a46c91c799481f874444d34c97fbecebb115f,story/2009983," project: description: - The name or ID of the project owning the image project_domain: description: - The domain the project owning the image belongs to - May be used to identify a unique project when providing a name to the project argument and multiple projects with such name exist type: str aliases: ['owner'] project=dict(type='str', aliases=['owner']), project_domain=dict(type='str'), if self.params['project']: project_domain = {'id': None} if self.params['project_domain']: project_domain = self.conn.get_domain(name_or_id=self.params['project_domain']) if not project_domain or project_domain['id'] is None: self.fail(msg='Project domain %s could not be found' % self.params['project_domain']) project = self.conn.get_project(name_or_id=self.params['project'], domain_id=project_domain['id']) if not project: self.fail(msg='Project %s could not be found' % self.params['project']) kwargs['owner'] = project['id']", owner: description: - The owner of the image,99,8
openstack%2Fneutron~stable%2Fvictoria~I17aa53cea6aba8ea83187c99102a6f25fd33cfff,openstack/neutron,stable/victoria,I17aa53cea6aba8ea83187c99102a6f25fd33cfff,"[OVN] Handle OVN agents when ""Chassis"" register is deleted",MERGED,2022-04-22 09:07:03.000000000,2022-05-03 11:29:22.000000000,2022-05-03 11:28:02.000000000,"[{'_account_id': 4694}, {'_account_id': 6773}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-22 09:07:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/fc38a0b28cd45430ffd672e5ca56f42a4935da6c', 'message': '[OVN] Handle OVN agents when ""Chassis"" register is deleted\n\nIf an ""ovn-controller"" ends not gracefully, the node ""Chassis"" and\n""Chassis_Private"" registers will remain in the OVN SB database.\nBecause there is no a mandatory procedure to delete the ""Chassis""\nand ""Chassis_Private"" registers, the administrator can manually\ndelete, from the OVN SB database, any register in any order.\n\nIf the ""Chassis"" register is deleted and the Neutron server restarted,\nthe updated ""Chassis_Private"" register will be read from the database.\nThat won\'t contain the ""Chassis"" information as this register has been\ndeleted. In this case, the ``NeutronAgent`` returns ``DeletedChassis``,\nan empty chassis register with no information.\n\nNOTE: the sequence of actions (""Chassis"" register deletion, Neutron\nserver restart) must be follow to reproduce this issue. If the\n""Chassis"" register is deleted, the Neutron server OVN agent local cache\nwon\'t update the stored information and will keep the previous value.\nIt is when the Neutron server is restarted when the OVN agent local\ncache is retrieved again; at this time the ""Chassis_Private"" register\nwon\'t have any related ""Chassis"" register.\n\nCloses-Bug: #1951149\n\nConflicts:\n    neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py\n\nChange-Id: I17aa53cea6aba8ea83187c99102a6f25fd33cfff\n(cherry picked from commit f1a5511e9094d6aae7a61cd858c59c706033ca95)\n'}, {'number': 2, 'created': '2022-04-28 08:38:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/739342f75fcb015e9c7f5d9d646520cf2d7191c8', 'message': '[OVN] Handle OVN agents when ""Chassis"" register is deleted\n\nIf an ""ovn-controller"" ends not gracefully, the node ""Chassis"" and\n""Chassis_Private"" registers will remain in the OVN SB database.\nBecause there is no a mandatory procedure to delete the ""Chassis""\nand ""Chassis_Private"" registers, the administrator can manually\ndelete, from the OVN SB database, any register in any order.\n\nIf the ""Chassis"" register is deleted and the Neutron server restarted,\nthe updated ""Chassis_Private"" register will be read from the database.\nThat won\'t contain the ""Chassis"" information as this register has been\ndeleted. In this case, the ``NeutronAgent`` returns ``DeletedChassis``,\nan empty chassis register with no information.\n\nNOTE: the sequence of actions (""Chassis"" register deletion, Neutron\nserver restart) must be follow to reproduce this issue. If the\n""Chassis"" register is deleted, the Neutron server OVN agent local cache\nwon\'t update the stored information and will keep the previous value.\nIt is when the Neutron server is restarted when the OVN agent local\ncache is retrieved again; at this time the ""Chassis_Private"" register\nwon\'t have any related ""Chassis"" register.\n\nCloses-Bug: #1951149\n\nConflicts:\n  neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py\n\nChange-Id: I17aa53cea6aba8ea83187c99102a6f25fd33cfff\n(cherry picked from commit f1a5511e9094d6aae7a61cd858c59c706033ca95)\n(cherry picked from commit 29998538cec9a696b01d84bd9573f2ebbbb15f90)\n'}, {'number': 3, 'created': '2022-04-29 08:03:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8ee63f5b4535948be9fc50edf8fd26cc6a4c0c90', 'message': '[OVN] Handle OVN agents when ""Chassis"" register is deleted\n\nIf an ""ovn-controller"" ends not gracefully, the node ""Chassis"" and\n""Chassis_Private"" registers will remain in the OVN SB database.\nBecause there is no a mandatory procedure to delete the ""Chassis""\nand ""Chassis_Private"" registers, the administrator can manually\ndelete, from the OVN SB database, any register in any order.\n\nIf the ""Chassis"" register is deleted and the Neutron server restarted,\nthe updated ""Chassis_Private"" register will be read from the database.\nThat won\'t contain the ""Chassis"" information as this register has been\ndeleted. In this case, the ``NeutronAgent`` returns ``DeletedChassis``,\nan empty chassis register with no information.\n\nNOTE: the sequence of actions (""Chassis"" register deletion, Neutron\nserver restart) must be follow to reproduce this issue. If the\n""Chassis"" register is deleted, the Neutron server OVN agent local cache\nwon\'t update the stored information and will keep the previous value.\nIt is when the Neutron server is restarted when the OVN agent local\ncache is retrieved again; at this time the ""Chassis_Private"" register\nwon\'t have any related ""Chassis"" register.\n\nCloses-Bug: #1951149\n\nConflicts:\n  neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py\n\nChange-Id: I17aa53cea6aba8ea83187c99102a6f25fd33cfff\n(cherry picked from commit f1a5511e9094d6aae7a61cd858c59c706033ca95)\n(cherry picked from commit 29998538cec9a696b01d84bd9573f2ebbbb15f90)\n'}, {'number': 4, 'created': '2022-04-29 12:35:50.000000000', 'files': ['neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/plugins/ml2/drivers/ovn/agent/neutron_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/494cd8ca5dc924dbaa3b3a185110371dfe2e59c1', 'message': '[OVN] Handle OVN agents when ""Chassis"" register is deleted\n\nIf an ""ovn-controller"" ends not gracefully, the node ""Chassis"" and\n""Chassis_Private"" registers will remain in the OVN SB database.\nBecause there is no a mandatory procedure to delete the ""Chassis""\nand ""Chassis_Private"" registers, the administrator can manually\ndelete, from the OVN SB database, any register in any order.\n\nIf the ""Chassis"" register is deleted and the Neutron server restarted,\nthe updated ""Chassis_Private"" register will be read from the database.\nThat won\'t contain the ""Chassis"" information as this register has been\ndeleted. In this case, the ``NeutronAgent`` returns ``DeletedChassis``,\nan empty chassis register with no information.\n\nNOTE: the sequence of actions (""Chassis"" register deletion, Neutron\nserver restart) must be follow to reproduce this issue. If the\n""Chassis"" register is deleted, the Neutron server OVN agent local cache\nwon\'t update the stored information and will keep the previous value.\nIt is when the Neutron server is restarted when the OVN agent local\ncache is retrieved again; at this time the ""Chassis_Private"" register\nwon\'t have any related ""Chassis"" register.\n\nCloses-Bug: #1951149\n\nConflicts:\n  neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py\n\nChange-Id: I17aa53cea6aba8ea83187c99102a6f25fd33cfff\n(cherry picked from commit f1a5511e9094d6aae7a61cd858c59c706033ca95)\n(cherry picked from commit 29998538cec9a696b01d84bd9573f2ebbbb15f90)\n'}]",3,839027,494cd8ca5dc924dbaa3b3a185110371dfe2e59c1,21,6,4,16688,,,0,"[OVN] Handle OVN agents when ""Chassis"" register is deleted

If an ""ovn-controller"" ends not gracefully, the node ""Chassis"" and
""Chassis_Private"" registers will remain in the OVN SB database.
Because there is no a mandatory procedure to delete the ""Chassis""
and ""Chassis_Private"" registers, the administrator can manually
delete, from the OVN SB database, any register in any order.

If the ""Chassis"" register is deleted and the Neutron server restarted,
the updated ""Chassis_Private"" register will be read from the database.
That won't contain the ""Chassis"" information as this register has been
deleted. In this case, the ``NeutronAgent`` returns ``DeletedChassis``,
an empty chassis register with no information.

NOTE: the sequence of actions (""Chassis"" register deletion, Neutron
server restart) must be follow to reproduce this issue. If the
""Chassis"" register is deleted, the Neutron server OVN agent local cache
won't update the stored information and will keep the previous value.
It is when the Neutron server is restarted when the OVN agent local
cache is retrieved again; at this time the ""Chassis_Private"" register
won't have any related ""Chassis"" register.

Closes-Bug: #1951149

Conflicts:
  neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py

Change-Id: I17aa53cea6aba8ea83187c99102a6f25fd33cfff
(cherry picked from commit f1a5511e9094d6aae7a61cd858c59c706033ca95)
(cherry picked from commit 29998538cec9a696b01d84bd9573f2ebbbb15f90)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/27/839027/4 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/plugins/ml2/drivers/ovn/agent/neutron_agent.py']",2,fc38a0b28cd45430ffd672e5ca56f42a4935da6c,bug/1951149,"class DeletedChassis(object): external_ids = {} hostname = '(""Chassis"" register deleted)' name = '(""Chassis"" register deleted)' except AttributeError: except IndexError: # Chassis register has been deleted but not Chassis_Private. return DeletedChassis"," except (AttributeError, IndexError):",49,3
openstack%2Fansible-collections-openstack~stable%2F1.0.0~I4b055266555cb91681d0ab6edcaa850e061f3afb,openstack/ansible-collections-openstack,stable/1.0.0,I4b055266555cb91681d0ab6edcaa850e061f3afb,Fixed return values in compute_service_info module again,MERGED,2022-05-03 07:41:08.000000000,2022-05-03 11:27:43.000000000,2022-05-03 11:27:43.000000000,"[{'_account_id': 22348}, {'_account_id': 32962}]","[{'number': 1, 'created': '2022-05-03 07:41:08.000000000', 'files': ['ci/roles/nova_services/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/9c16ee4df33c901a3951c946fa1896a58aad229a', 'message': 'Fixed return values in compute_service_info module again\n\nOpenStack SDK 0.53 added parameters is_forced_down and updated_at\nin openstack/compute/v2/service.py, hence our compute_service_info\nmodule will return different values depending on which release of\nthe OpenStack SDK is used.\n\nRef.: https://github.com/openstack/openstacksdk/commit/5450c4525313581b2ebc0e1ab6ac6252964c595f\n\nChange-Id: I4b055266555cb91681d0ab6edcaa850e061f3afb\n(cherry picked from commit 4a7330364ec0a4eb8cfa5da9ad161f66d1794add)\n'}]",1,840290,9c16ee4df33c901a3951c946fa1896a58aad229a,8,2,1,32962,,,0,"Fixed return values in compute_service_info module again

OpenStack SDK 0.53 added parameters is_forced_down and updated_at
in openstack/compute/v2/service.py, hence our compute_service_info
module will return different values depending on which release of
the OpenStack SDK is used.

Ref.: https://github.com/openstack/openstacksdk/commit/5450c4525313581b2ebc0e1ab6ac6252964c595f

Change-Id: I4b055266555cb91681d0ab6edcaa850e061f3afb
(cherry picked from commit 4a7330364ec0a4eb8cfa5da9ad161f66d1794add)
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/90/840290/1 && git format-patch -1 --stdout FETCH_HEAD,['ci/roles/nova_services/tasks/main.yml'],1,9c16ee4df33c901a3951c946fa1896a58aad229a,," - '[""availability_zone"", ""binary"", ""disables_reason"", ""host"", ""name"", ""state"", ""status"", ""id""] |"," - '[""availability_zone"", ""binary"", ""disables_reason"", ""is_forced_down"", ""host"", ""name"", ""state"", ""status"", ""updated_at"", ""id""] |",2,2
openstack%2Fopenstack-ansible~master~Ie2e797de51a826b774e796a8e3fdc234e712f71b,openstack/openstack-ansible,master,Ie2e797de51a826b774e796a8e3fdc234e712f71b,Cleanup distro vars,MERGED,2022-04-14 09:24:49.000000000,2022-05-03 10:48:18.000000000,2022-05-03 10:46:38.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-04-14 09:24:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/9b6dc996f3c1e0bf4bf530757bcf75dc4620a15c', 'message': 'Cleanup distro vars\n\nSince we have introduced service_install_method variable across all\nrepos we can leverage it instead of defining dozen of other variables\nfor same purpose.\n\nChange-Id: Ie2e797de51a826b774e796a8e3fdc234e712f71b\n'}, {'number': 2, 'created': '2022-04-19 10:56:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/ca4d2b1d2e48731d879583df196415e5e98754e8', 'message': 'Cleanup distro vars\n\nSince we have introduced service_install_method variable across all\nrepos we can leverage it instead of defining dozen of other variables\nfor same purpose.\n\nChange-Id: Ie2e797de51a826b774e796a8e3fdc234e712f71b\n'}, {'number': 3, 'created': '2022-04-20 14:34:45.000000000', 'files': ['playbooks/defaults/distro_install.yml', 'inventory/group_vars/all/all.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/b515d895e1fc8abd910f01c65c9902154cbfaa88', 'message': 'Cleanup distro vars\n\nSince we have introduced service_install_method variable across all\nrepos we can leverage it instead of defining dozen of other variables\nfor same purpose.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_neutron/+/838729\nChange-Id: Ie2e797de51a826b774e796a8e3fdc234e712f71b\n'}]",3,837845,b515d895e1fc8abd910f01c65c9902154cbfaa88,18,3,3,28619,,,0,"Cleanup distro vars

Since we have introduced service_install_method variable across all
repos we can leverage it instead of defining dozen of other variables
for same purpose.

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_neutron/+/838729
Change-Id: Ie2e797de51a826b774e796a8e3fdc234e712f71b
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/45/837845/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/defaults/distro_install.yml', 'inventory/group_vars/all/all.yml']",2,9b6dc996f3c1e0bf4bf530757bcf75dc4620a15c,osa/centos_distro,"service_install_method: ""{{ install_method }}""",,1,44
openstack%2Fcinder~master~I9e9dd4f81582ec0d60b64c281f47bd48e907d0ea,openstack/cinder,master,I9e9dd4f81582ec0d60b64c281f47bd48e907d0ea,[SVf] Resize of GMCV volumes in group,MERGED,2022-02-24 08:47:31.000000000,2022-05-03 10:42:59.000000000,2022-04-20 13:13:45.000000000,"[{'_account_id': 1736}, {'_account_id': 4523}, {'_account_id': 5997}, {'_account_id': 9535}, {'_account_id': 14806}, {'_account_id': 22348}, {'_account_id': 32074}, {'_account_id': 34541}]","[{'number': 1, 'created': '2022-02-24 08:47:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f003e00d47c5d086e5fb69bc9395c735ee302f76', 'message': '[SVf] Resize of GMCV volumes in group\n\n[Spectrum Virtualize family] Currently, SVf does not support\nextend operation for GMCV volumes which are a part of group.\nAdded necessary code changes to storwize cinder driver to\nsupport this operation.\n\nCloses-Bug: #1960314\nChange-Id: I9e9dd4f81582ec0d60b64c281f47bd48e907d0ea\n'}, {'number': 2, 'created': '2022-04-11 13:08:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/e86611c1b371cadd12fddaf9fde0c516a8a071d0', 'message': '[SVf] Resize of GMCV volumes in group\n\n[Spectrum Virtualize family] Currently, SVf does not support\nextend operation for GMCV volumes which are a part of group.\nAdded necessary code changes to storwize cinder driver to\nsupport this operation.\n\nCloses-Bug: #1960314\nChange-Id: I9e9dd4f81582ec0d60b64c281f47bd48e907d0ea\n'}, {'number': 3, 'created': '2022-04-11 16:16:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/8b78e7626b1ac50d2bff5af00561fe01b57a22f4', 'message': '[SVf] Resize of GMCV volumes in group\n\n[Spectrum Virtualize family] Currently, SVf does not support\nextend operation for GMCV volumes which are a part of group.\nAdded necessary code changes to storwize cinder driver to\nsupport this operation.\n\nCloses-Bug: #1960314\nChange-Id: I9e9dd4f81582ec0d60b64c281f47bd48e907d0ea\n'}, {'number': 4, 'created': '2022-04-13 13:31:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/0d1a50d7288e015cf0b4c25d6c899484504fb04d', 'message': '[SVf] Resize of GMCV volumes in group\n\n[Spectrum Virtualize family] Currently, SVf does not support\nextend operation for GMCV volumes which are a part of a\nconsistency group(CG). Added necessary code changes to\nstorwize cinder driver to support this operation.\n\nCloses-Bug: #1960314\nChange-Id: I9e9dd4f81582ec0d60b64c281f47bd48e907d0ea\n'}, {'number': 5, 'created': '2022-04-19 10:31:13.000000000', 'files': ['releasenotes/notes/bug-1960314-ibm-svf-Resize_of_GMCV_volumes_in_group-f9a176153518204c.yaml', 'cinder/tests/unit/volume/drivers/ibm/test_storwize_svc.py', 'cinder/volume/drivers/ibm/storwize_svc/storwize_svc_common.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/f8f9bfabf9824cd5f9cb12c5368116fcfe0dec83', 'message': '[SVf] Resize of GMCV volumes in group\n\n[Spectrum Virtualize family] Currently, SVf does not support\nextend operation for GMCV volumes which are a part of a\nconsistency group(CG). Added necessary code changes to\nstorwize cinder driver to support this operation.\n\nCloses-Bug: #1960314\nChange-Id: I9e9dd4f81582ec0d60b64c281f47bd48e907d0ea\n'}]",24,830787,f8f9bfabf9824cd5f9cb12c5368116fcfe0dec83,158,8,5,34201,,,0,"[SVf] Resize of GMCV volumes in group

[Spectrum Virtualize family] Currently, SVf does not support
extend operation for GMCV volumes which are a part of a
consistency group(CG). Added necessary code changes to
storwize cinder driver to support this operation.

Closes-Bug: #1960314
Change-Id: I9e9dd4f81582ec0d60b64c281f47bd48e907d0ea
",git fetch https://review.opendev.org/openstack/cinder refs/changes/87/830787/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-1960314-ibm-svf-Resize_of_GMCV_volumes_in_group-f9a176153518204c.yaml', 'cinder/tests/unit/volume/drivers/ibm/test_storwize_svc.py', 'cinder/volume/drivers/ibm/storwize_svc/storwize_svc_common.py']",3,f003e00d47c5d086e5fb69bc9395c735ee302f76,bug/1960314," def ch_rcconsistgrp_cyclingmode(self, consistgrp, cyclingmode): if cyclingmode: ssh_cmd = ['svctask', 'chrcconsistgrp'] ssh_cmd.extend(['-cyclingmode', str(cyclingmode)]) ssh_cmd.append(consistgrp) self.run_ssh_assert_no_output(ssh_cmd) def change_consistgrp_cyclingmode(self, rccg_name, cyclingmode): self.ssh.ch_rcconsistgrp_cyclingmode(rccg_name, cyclingmode) rccg_name = ( self._helpers.get_rccg_name_by_volume_name( volume.name)) if rccg_name: master_helper.stop_rccg(rccg_name) master_helper.change_consistgrp_cyclingmode( rccg_name, 'none') master_helper.start_rccg(rccg_name) else: master_helper.stop_relationship(volume.name) master_helper.change_relationship_cyclingmode( volume.name, 'none') master_helper.start_relationship(volume.name) volume, tgt_vol, new_size, rccg_name=rccg_name) volume, tgt_vol, volume['size'], rccg_name=rccg_name) def _convert_global_mirror_volume_to_gmcv(self, volume, target_vol, size, rccg_name=None): if rccg_name: # Update consistency group cyclingmode to 'multi' master_helper.stop_rccg(rccg_name) master_helper.change_consistgrp_cyclingmode(rccg_name, 'multi') # Set source_change_volume and target_change_volume master_helper.change_relationship_changevolume(volume.name, src_change_vol, True) target_helper.change_relationship_changevolume(target_vol, tgt_change_vol, False) # Start gmcv consistency group relationship master_helper.start_rccg(rccg_name) else: # Update volume cyclingmode to 'multi' master_helper.stop_relationship(volume.name) master_helper.change_relationship_cyclingmode(volume.name, 'multi') # Set source_change_volume and target_change_volume master_helper.change_relationship_changevolume(volume.name, src_change_vol, True) target_helper.change_relationship_changevolume(target_vol, tgt_change_vol, False) # Start gmcv volume relationship master_helper.start_relationship(volume.name)"," master_helper.stop_relationship(volume.name) master_helper.change_relationship_cyclingmode( volume.name, 'none') master_helper.start_relationship(volume.name) volume, tgt_vol, new_size) volume, tgt_vol, volume['size']) def _convert_global_mirror_volume_to_gmcv(self, volume, target_vol, size): # Update volume cyclingmode to 'multi' master_helper.stop_relationship(volume.name) master_helper.change_relationship_cyclingmode(volume.name, 'multi') # Set source_change_volume and target_change_volume master_helper.change_relationship_changevolume(volume.name, src_change_vol, True) target_helper.change_relationship_changevolume(target_vol, tgt_change_vol, False) # Start gmcv volume relationship master_helper.start_relationship(volume.name)",214,51
openstack%2Fneutron~stable%2Fwallaby~I17aa53cea6aba8ea83187c99102a6f25fd33cfff,openstack/neutron,stable/wallaby,I17aa53cea6aba8ea83187c99102a6f25fd33cfff,"[OVN] Handle OVN agents when ""Chassis"" register is deleted",MERGED,2022-04-22 09:02:37.000000000,2022-05-03 10:34:06.000000000,2022-05-03 10:32:38.000000000,"[{'_account_id': 6773}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-22 09:02:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/13389649ddea38f5410bb40ca8ab260a1f6d6cf8', 'message': '[OVN] Handle OVN agents when ""Chassis"" register is deleted\n\nIf an ""ovn-controller"" ends not gracefully, the node ""Chassis"" and\n""Chassis_Private"" registers will remain in the OVN SB database.\nBecause there is no a mandatory procedure to delete the ""Chassis""\nand ""Chassis_Private"" registers, the administrator can manually\ndelete, from the OVN SB database, any register in any order.\n\nIf the ""Chassis"" register is deleted and the Neutron server restarted,\nthe updated ""Chassis_Private"" register will be read from the database.\nThat won\'t contain the ""Chassis"" information as this register has been\ndeleted. In this case, the ``NeutronAgent`` returns ``DeletedChassis``,\nan empty chassis register with no information.\n\nNOTE: the sequence of actions (""Chassis"" register deletion, Neutron\nserver restart) must be follow to reproduce this issue. If the\n""Chassis"" register is deleted, the Neutron server OVN agent local cache\nwon\'t update the stored information and will keep the previous value.\nIt is when the Neutron server is restarted when the OVN agent local\ncache is retrieved again; at this time the ""Chassis_Private"" register\nwon\'t have any related ""Chassis"" register.\n\nCloses-Bug: #1951149\n\nChange-Id: I17aa53cea6aba8ea83187c99102a6f25fd33cfff\n(cherry picked from commit f1a5511e9094d6aae7a61cd858c59c706033ca95)\n'}, {'number': 2, 'created': '2022-04-28 08:33:13.000000000', 'files': ['neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/plugins/ml2/drivers/ovn/agent/neutron_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/29998538cec9a696b01d84bd9573f2ebbbb15f90', 'message': '[OVN] Handle OVN agents when ""Chassis"" register is deleted\n\nIf an ""ovn-controller"" ends not gracefully, the node ""Chassis"" and\n""Chassis_Private"" registers will remain in the OVN SB database.\nBecause there is no a mandatory procedure to delete the ""Chassis""\nand ""Chassis_Private"" registers, the administrator can manually\ndelete, from the OVN SB database, any register in any order.\n\nIf the ""Chassis"" register is deleted and the Neutron server restarted,\nthe updated ""Chassis_Private"" register will be read from the database.\nThat won\'t contain the ""Chassis"" information as this register has been\ndeleted. In this case, the ``NeutronAgent`` returns ``DeletedChassis``,\nan empty chassis register with no information.\n\nNOTE: the sequence of actions (""Chassis"" register deletion, Neutron\nserver restart) must be follow to reproduce this issue. If the\n""Chassis"" register is deleted, the Neutron server OVN agent local cache\nwon\'t update the stored information and will keep the previous value.\nIt is when the Neutron server is restarted when the OVN agent local\ncache is retrieved again; at this time the ""Chassis_Private"" register\nwon\'t have any related ""Chassis"" register.\n\nCloses-Bug: #1951149\n\nConflicts:\n  neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py\n\nChange-Id: I17aa53cea6aba8ea83187c99102a6f25fd33cfff\n(cherry picked from commit f1a5511e9094d6aae7a61cd858c59c706033ca95)\n'}]",4,839024,29998538cec9a696b01d84bd9573f2ebbbb15f90,26,4,2,16688,,,0,"[OVN] Handle OVN agents when ""Chassis"" register is deleted

If an ""ovn-controller"" ends not gracefully, the node ""Chassis"" and
""Chassis_Private"" registers will remain in the OVN SB database.
Because there is no a mandatory procedure to delete the ""Chassis""
and ""Chassis_Private"" registers, the administrator can manually
delete, from the OVN SB database, any register in any order.

If the ""Chassis"" register is deleted and the Neutron server restarted,
the updated ""Chassis_Private"" register will be read from the database.
That won't contain the ""Chassis"" information as this register has been
deleted. In this case, the ``NeutronAgent`` returns ``DeletedChassis``,
an empty chassis register with no information.

NOTE: the sequence of actions (""Chassis"" register deletion, Neutron
server restart) must be follow to reproduce this issue. If the
""Chassis"" register is deleted, the Neutron server OVN agent local cache
won't update the stored information and will keep the previous value.
It is when the Neutron server is restarted when the OVN agent local
cache is retrieved again; at this time the ""Chassis_Private"" register
won't have any related ""Chassis"" register.

Closes-Bug: #1951149

Conflicts:
  neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py

Change-Id: I17aa53cea6aba8ea83187c99102a6f25fd33cfff
(cherry picked from commit f1a5511e9094d6aae7a61cd858c59c706033ca95)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/24/839024/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/plugins/ml2/drivers/ovn/agent/neutron_agent.py']",2,13389649ddea38f5410bb40ca8ab260a1f6d6cf8,bug/1951149,"class DeletedChassis(object): external_ids = {} hostname = '(""Chassis"" register deleted)' name = '(""Chassis"" register deleted)' except AttributeError: except IndexError: # Chassis register has been deleted but not Chassis_Private. return DeletedChassis"," except (AttributeError, IndexError):",46,7
openstack%2Fkayobe~stable%2Fwallaby~Idecda342f3ab86733e8d59061458d44af834dbb0,openstack/kayobe,stable/wallaby,Idecda342f3ab86733e8d59061458d44af834dbb0,CI: separate image builds into a non-voting job,MERGED,2022-04-12 14:49:45.000000000,2022-05-03 10:33:48.000000000,2022-05-03 10:31:40.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-12 14:49:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/4da13ca78169fe6fb60c787e8b97ba2e4316bea2', 'message': ""CI: separate image builds into a non-voting job\n\nDisk and container image builds tend to be fairly unreliable.\nWith 3 voting seed jobs all building images, this can introduce\ninstability into the CI jobs.\n\nThis change adds a non-voting kayobe-seed-images-centos8s job, which\ndoes the following:\n\n* Builds IPA images\n* Builds an overcloud host image\n* Builds a base container image\n\nSimilar Rocky and Ubuntu jobs are added to the experimental pipeline,\nand may be run by commenting 'check experimental' in gerrit.\n\nThe existing kayobe-seed-* jobs no longer build images.\n\nChange-Id: Idecda342f3ab86733e8d59061458d44af834dbb0\n(cherry picked from commit a7ee3ac5c8739d7547ae430574a5ac8abc79c41d)\n""}, {'number': 2, 'created': '2022-04-12 14:51:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/55dc15ea70cfd2e8b98fdf7b01d8e5e7a7d086ed', 'message': ""CI: separate image builds into a non-voting job\n\nDisk and container image builds tend to be fairly unreliable.\nWith 3 voting seed jobs all building images, this can introduce\ninstability into the CI jobs.\n\nThis change adds a non-voting kayobe-seed-images-centos8s job, which\ndoes the following:\n\n* Builds IPA images\n* Builds an overcloud host image\n* Builds a base container image\n\nSimilar Rocky and Ubuntu jobs are added to the experimental pipeline,\nand may be run by commenting 'check experimental' in gerrit.\n\nThe existing kayobe-seed-* jobs no longer build images.\n\nChange-Id: Idecda342f3ab86733e8d59061458d44af834dbb0\n(cherry picked from commit a7ee3ac5c8739d7547ae430574a5ac8abc79c41d)\n""}, {'number': 3, 'created': '2022-04-13 09:59:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/70cec7c998e4886a00196c8ba27440920da29237', 'message': ""CI: separate image builds into a non-voting job\n\nDisk and container image builds tend to be fairly unreliable.\nWith 3 voting seed jobs all building images, this can introduce\ninstability into the CI jobs.\n\nThis change adds a non-voting kayobe-seed-images-centos8s job, which\ndoes the following:\n\n* Builds IPA images\n* Builds an overcloud host image\n* Builds a base container image\n\nSimilar Rocky and Ubuntu jobs are added to the experimental pipeline,\nand may be run by commenting 'check experimental' in gerrit.\n\nThe existing kayobe-seed-* jobs no longer build images.\n\nChange-Id: Idecda342f3ab86733e8d59061458d44af834dbb0\n(cherry picked from commit a7ee3ac5c8739d7547ae430574a5ac8abc79c41d)\n""}, {'number': 4, 'created': '2022-05-02 07:40:56.000000000', 'files': ['playbooks/kayobe-seed-base/run.yml', 'zuul.d/project.yaml', 'playbooks/kayobe-seed-base/bifrost-overrides.yml.j2', 'playbooks/kayobe-seed-base/overrides.yml.j2', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/c231848e3887e35ef897e81f8fb9370f9ecd42a7', 'message': ""CI: separate image builds into a non-voting job\n\nDisk and container image builds tend to be fairly unreliable.\nWith 3 voting seed jobs all building images, this can introduce\ninstability into the CI jobs.\n\nThis change adds a non-voting kayobe-seed-images-centos8s job, which\ndoes the following:\n\n* Builds IPA images\n* Builds an overcloud host image\n* Builds a base container image\n\nSimilar Rocky and Ubuntu jobs are added to the experimental pipeline,\nand may be run by commenting 'check experimental' in gerrit.\n\nThe existing kayobe-seed-* jobs no longer build images.\n\nChange-Id: Idecda342f3ab86733e8d59061458d44af834dbb0\n(cherry picked from commit a7ee3ac5c8739d7547ae430574a5ac8abc79c41d)\n""}]",6,837477,c231848e3887e35ef897e81f8fb9370f9ecd42a7,25,3,4,14826,,,0,"CI: separate image builds into a non-voting job

Disk and container image builds tend to be fairly unreliable.
With 3 voting seed jobs all building images, this can introduce
instability into the CI jobs.

This change adds a non-voting kayobe-seed-images-centos8s job, which
does the following:

* Builds IPA images
* Builds an overcloud host image
* Builds a base container image

Similar Rocky and Ubuntu jobs are added to the experimental pipeline,
and may be run by commenting 'check experimental' in gerrit.

The existing kayobe-seed-* jobs no longer build images.

Change-Id: Idecda342f3ab86733e8d59061458d44af834dbb0
(cherry picked from commit a7ee3ac5c8739d7547ae430574a5ac8abc79c41d)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/77/837477/4 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/kayobe-seed-base/run.yml', 'zuul.d/project.yaml', 'playbooks/kayobe-seed-base/bifrost-overrides.yml.j2', 'playbooks/kayobe-seed-base/overrides.yml.j2', 'zuul.d/jobs.yaml']",5,4da13ca78169fe6fb60c787e8b97ba2e4316bea2,, vars: build_images: false name: kayobe-seed-images-base parent: kayobe-seed-base description: | Base job for testing seed image builds. Configures the primary VM as a seed. voting: false vars: build_images: true - job: name: kayobe-seed-images-centos8s parent: kayobe-seed-images-base nodeset: kayobe-centos8s - job: name: kayobe-seed-images-rocky8 parent: kayobe-seed-images-base nodeset: kayobe-rocky8 - job: name: kayobe-seed-images-ubuntu-focal parent: kayobe-seed-images-base nodeset: kayobe-ubuntu-focal - job:,,67,17
openstack%2Fmetalsmith~stable%2Fxena~I9f939d115e0c6d167ab437c4420e06b4b211c66b,openstack/metalsmith,stable/xena,I9f939d115e0c6d167ab437c4420e06b4b211c66b,Add a workaround to fix the CI,MERGED,2022-05-02 11:40:15.000000000,2022-05-03 10:25:42.000000000,2022-05-03 10:24:32.000000000,"[{'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-02 11:40:15.000000000', 'files': ['playbooks/integration/initial-setup.yaml'], 'web_link': 'https://opendev.org/openstack/metalsmith/commit/b452158728c8ac6aa290b1a2303d76e113530ce6', 'message': 'Add a workaround to fix the CI\n\nChange-Id: I9f939d115e0c6d167ab437c4420e06b4b211c66b\n(cherry picked from commit 018a19c1e89d91d0468ca9a59ca4cf011a90a2ab)\n(cherry picked from commit 6b8005a4e1eb0647a11960cd3acdaa69ff56519d)\n'}]",2,839925,b452158728c8ac6aa290b1a2303d76e113530ce6,13,2,1,24245,,,0,"Add a workaround to fix the CI

Change-Id: I9f939d115e0c6d167ab437c4420e06b4b211c66b
(cherry picked from commit 018a19c1e89d91d0468ca9a59ca4cf011a90a2ab)
(cherry picked from commit 6b8005a4e1eb0647a11960cd3acdaa69ff56519d)
",git fetch https://review.opendev.org/openstack/metalsmith refs/changes/25/839925/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/integration/initial-setup.yaml'],1,b452158728c8ac6aa290b1a2303d76e113530ce6,gate-stable/yoga-stable/xena," # https://github.com/git/git/commit/8959555cee7ec045958f9b6dd62e541affb7e7d9 - name: Mark the metalsmith as safe for git command: git config --global --add safe.directory ""{{ metalsmith_src_dir }}/metalsmith"" become: true ",,5,0
openstack%2Fopenstack-ansible-lxc_container_create~master~I31f39aac094e38e4e40f5f6fa665615534f19150,openstack/openstack-ansible-lxc_container_create,master,I31f39aac094e38e4e40f5f6fa665615534f19150,Restore focal lxc tests,MERGED,2022-04-29 15:56:34.000000000,2022-05-03 10:16:35.000000000,2022-05-03 10:14:23.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}, {'_account_id': 32029}]","[{'number': 1, 'created': '2022-04-29 15:56:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_container_create/commit/436640288cb1d460e6d0d312cb1639af18c12a7e', 'message': 'Restore focal lxc tests\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-lxc_hosts/+/838836\nChange-Id: I31f39aac094e38e4e40f5f6fa665615534f19150\n'}, {'number': 2, 'created': '2022-04-29 15:58:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_container_create/commit/1e5d3c347ce74bb2b94da6d2abb1c0f4bfe9b67f', 'message': 'Restore focal lxc tests\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-lxc_hosts/+/838836\nChange-Id: I31f39aac094e38e4e40f5f6fa665615534f19150\n'}, {'number': 3, 'created': '2022-04-29 17:05:38.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_container_create/commit/b095b9a20c0ae7b8214895e50775c640495728b7', 'message': 'Restore focal lxc tests\n\nChange-Id: I31f39aac094e38e4e40f5f6fa665615534f19150\n'}]",5,839964,b095b9a20c0ae7b8214895e50775c640495728b7,16,4,3,13095,,,0,"Restore focal lxc tests

Change-Id: I31f39aac094e38e4e40f5f6fa665615534f19150
",git fetch https://review.opendev.org/openstack/openstack-ansible-lxc_container_create refs/changes/64/839964/3 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,436640288cb1d460e6d0d312cb1639af18c12a7e,restore-focal-tests,, voting: false voting: false,0,2
openstack%2Ftripleo-ansible~stable%2Fwallaby~I15f9cc771c754c257b795263b8d6c3e0d19fd46c,openstack/tripleo-ansible,stable/wallaby,I15f9cc771c754c257b795263b8d6c3e0d19fd46c,Change access permission of files in /etc/os-net-config,MERGED,2022-05-03 03:09:37.000000000,2022-05-03 10:09:08.000000000,2022-05-03 10:09:08.000000000,"[{'_account_id': 8449}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-05-03 03:09:37.000000000', 'files': ['tripleo_ansible/roles/tripleo_network_config/tasks/main.yml', 'tripleo_ansible/roles/tripleo_network_config/tasks/os_net_config.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/41aeb2371ba1945774ee97c25245285a70beb280', 'message': 'Change access permission of files in /etc/os-net-config\n\nSome of these files are used for validations on the undercloud,\nthat are run as non-root user without sudo.\n\nChange-Id: I15f9cc771c754c257b795263b8d6c3e0d19fd46c\nCloses-Bug: #1970437\n(cherry picked from commit f06bc84cc08984ddc7029e6e91fd8fb6ebf21dfe)\n'}]",0,840195,41aeb2371ba1945774ee97c25245285a70beb280,7,3,1,8833,,,0,"Change access permission of files in /etc/os-net-config

Some of these files are used for validations on the undercloud,
that are run as non-root user without sudo.

Change-Id: I15f9cc771c754c257b795263b8d6c3e0d19fd46c
Closes-Bug: #1970437
(cherry picked from commit f06bc84cc08984ddc7029e6e91fd8fb6ebf21dfe)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/95/840195/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_network_config/tasks/main.yml', 'tripleo_ansible/roles/tripleo_network_config/tasks/os_net_config.yml']",2,41aeb2371ba1945774ee97c25245285a70beb280,, mode: 0644 mode: 0644 mode: 0644, mode: 0600 mode: 0600 mode: 0600,4,3
openstack%2Fkolla-ansible~stable%2Fxena~Ib69fc0017b3bfbc8da4dfd4301710fbf88be661a,openstack/kolla-ansible,stable/xena,Ib69fc0017b3bfbc8da4dfd4301710fbf88be661a,Multiple DHCP ranges for Ironic Inspector,ABANDONED,2022-05-02 12:00:30.000000000,2022-05-03 09:58:58.000000000,,"[{'_account_id': 13252}, {'_account_id': 14200}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-05-02 12:00:30.000000000', 'files': ['ansible/roles/ironic/templates/ironic-dnsmasq.conf.j2', 'releasenotes/notes/ironic-inspector-multiple-ranges-b7c734d38b90c331.yaml', 'tests/templates/globals-default.j2', 'ansible/roles/ironic/defaults/main.yml', 'ansible/roles/ironic/tasks/precheck.yml', 'etc/kolla/globals.yml', 'doc/source/reference/bare-metal/ironic-guide.rst'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/84f7e4be801170859739273a7b0014aac63e0ef0', 'message': ""Multiple DHCP ranges for Ironic Inspector\n\nAdd a new parameter 'ironic_dnsmasq_dhcp_ranges' and enable the\nconfiguration of the corresponding 'dhcp-range' and 'dhcp-option'\nblocks in Ironic Inspector dnsmasq for multiple ranges.\n\nThe old parameters 'ironic_dnsmasq_dhcp_range' and\n'ironic_dnsmasq_default_gateway' used for the only range are now\nremoved.\n\nThis change implements the same solution used in the TripleO several\nyears ago in the: Ie49b07ffe948576f5d9330cf11ee014aef4b282d\n\nAlso, this change contains: Iae15e9db0acc2ecd5b087a9ca430be948bc3e649\nfix for lease time.\nThe value can be changed globally or per range.\n\nChange-Id: Ib69fc0017b3bfbc8da4dfd4301710fbf88be661a\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\nCo-Authored-By: Radosław Piliszek <radoslaw.piliszek@gmail.com>\n(cherry picked from commit 762aecbfae0719a7d2fa15fd23ddd40c471be113)\n""}]",2,840175,84f7e4be801170859739273a7b0014aac63e0ef0,10,5,1,14200,,,0,"Multiple DHCP ranges for Ironic Inspector

Add a new parameter 'ironic_dnsmasq_dhcp_ranges' and enable the
configuration of the corresponding 'dhcp-range' and 'dhcp-option'
blocks in Ironic Inspector dnsmasq for multiple ranges.

The old parameters 'ironic_dnsmasq_dhcp_range' and
'ironic_dnsmasq_default_gateway' used for the only range are now
removed.

This change implements the same solution used in the TripleO several
years ago in the: Ie49b07ffe948576f5d9330cf11ee014aef4b282d

Also, this change contains: Iae15e9db0acc2ecd5b087a9ca430be948bc3e649
fix for lease time.
The value can be changed globally or per range.

Change-Id: Ib69fc0017b3bfbc8da4dfd4301710fbf88be661a
Signed-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>
Co-Authored-By: Radosław Piliszek <radoslaw.piliszek@gmail.com>
(cherry picked from commit 762aecbfae0719a7d2fa15fd23ddd40c471be113)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/75/840175/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/ironic/templates/ironic-dnsmasq.conf.j2', 'releasenotes/notes/ironic-inspector-multiple-ranges-b7c734d38b90c331.yaml', 'ansible/roles/ironic/defaults/main.yml', 'tests/templates/globals-default.j2', 'ansible/roles/ironic/tasks/precheck.yml', 'etc/kolla/globals.yml', 'doc/source/reference/bare-metal/ironic-guide.rst']",7,84f7e4be801170859739273a7b0014aac63e0ef0,ironic-inspector-routed-networks,"define a network to be used for the Ironic cleaning network:Finally, define at least one DHCP range for Ironic inspector: ironic_dnsmasq_dhcp_ranges: - range: ""192.168.5.100,192.168.5.110"" Another example of a single range with a router (multiple routers are possible by separating addresses with commas): .. code-block:: yaml ironic_dnsmasq_dhcp_ranges: - range: ""192.168.5.100,192.168.5.110"" routers: ""192.168.5.1"" To support DHCP relay, it is also possible to define a netmask in the range. It is advisable to also provide a router to allow the traffic to reach the Ironic server. .. code-block:: yaml ironic_dnsmasq_dhcp_ranges: - range: ""192.168.5.100,192.168.5.110,255.255.255.0"" routers: ""192.168.5.1"" Multiple ranges are possible, they can be either for directly-connected interfaces or relays (if with netmask): .. code-block:: yaml ironic_dnsmasq_dhcp_ranges: - range: ""192.168.5.100,192.168.5.110"" - range: ""192.168.6.100,192.168.6.110,255.255.255.0"" routers: ""192.168.6.1"" The default lease time for each range can be configured globally via ``ironic_dnsmasq_dhcp_default_lease_time`` variable or per range via ``lease_time`` parameter.","a range of IP addresses that will be available for use by Ironic inspector. The optional netmask of the network should be provided in case when DHCP-relay is used. Finally, define a network to be used for the Ironic cleaning network: ironic_dnsmasq_dhcp_range: ""192.168.5.100,192.168.5.110,255.255.255.0""In the same file, optionally a default gateway to be used for the Ironic Inspector inspection network: ironic_dnsmasq_default_gateway: 192.168.5.1",83,21
openstack%2Fkolla-ansible~stable%2Fyoga~Ib69fc0017b3bfbc8da4dfd4301710fbf88be661a,openstack/kolla-ansible,stable/yoga,Ib69fc0017b3bfbc8da4dfd4301710fbf88be661a,Multiple DHCP ranges for Ironic Inspector,ABANDONED,2022-05-02 11:54:33.000000000,2022-05-03 09:58:41.000000000,,"[{'_account_id': 13252}, {'_account_id': 14200}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-05-02 11:54:33.000000000', 'files': ['ansible/roles/ironic/templates/ironic-dnsmasq.conf.j2', 'releasenotes/notes/ironic-inspector-multiple-ranges-b7c734d38b90c331.yaml', 'tests/templates/globals-default.j2', 'ansible/roles/ironic/defaults/main.yml', 'ansible/roles/ironic/tasks/precheck.yml', 'etc/kolla/globals.yml', 'doc/source/reference/bare-metal/ironic-guide.rst'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/47cf6eb230c456eb25112bdf2bce50e5fe88778e', 'message': ""Multiple DHCP ranges for Ironic Inspector\n\nAdd a new parameter 'ironic_dnsmasq_dhcp_ranges' and enable the\nconfiguration of the corresponding 'dhcp-range' and 'dhcp-option'\nblocks in Ironic Inspector dnsmasq for multiple ranges.\n\nThe old parameters 'ironic_dnsmasq_dhcp_range' and\n'ironic_dnsmasq_default_gateway' used for the only range are now\nremoved.\n\nThis change implements the same solution used in the TripleO several\nyears ago in the: Ie49b07ffe948576f5d9330cf11ee014aef4b282d\n\nAlso, this change contains: Iae15e9db0acc2ecd5b087a9ca430be948bc3e649\nfix for lease time.\nThe value can be changed globally or per range.\n\nChange-Id: Ib69fc0017b3bfbc8da4dfd4301710fbf88be661a\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\nCo-Authored-By: Radosław Piliszek <radoslaw.piliszek@gmail.com>\n(cherry picked from commit 762aecbfae0719a7d2fa15fd23ddd40c471be113)\n""}]",12,840174,47cf6eb230c456eb25112bdf2bce50e5fe88778e,15,5,1,14200,,,0,"Multiple DHCP ranges for Ironic Inspector

Add a new parameter 'ironic_dnsmasq_dhcp_ranges' and enable the
configuration of the corresponding 'dhcp-range' and 'dhcp-option'
blocks in Ironic Inspector dnsmasq for multiple ranges.

The old parameters 'ironic_dnsmasq_dhcp_range' and
'ironic_dnsmasq_default_gateway' used for the only range are now
removed.

This change implements the same solution used in the TripleO several
years ago in the: Ie49b07ffe948576f5d9330cf11ee014aef4b282d

Also, this change contains: Iae15e9db0acc2ecd5b087a9ca430be948bc3e649
fix for lease time.
The value can be changed globally or per range.

Change-Id: Ib69fc0017b3bfbc8da4dfd4301710fbf88be661a
Signed-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>
Co-Authored-By: Radosław Piliszek <radoslaw.piliszek@gmail.com>
(cherry picked from commit 762aecbfae0719a7d2fa15fd23ddd40c471be113)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/74/840174/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/ironic/templates/ironic-dnsmasq.conf.j2', 'releasenotes/notes/ironic-inspector-multiple-ranges-b7c734d38b90c331.yaml', 'ansible/roles/ironic/defaults/main.yml', 'tests/templates/globals-default.j2', 'ansible/roles/ironic/tasks/precheck.yml', 'etc/kolla/globals.yml', 'doc/source/reference/bare-metal/ironic-guide.rst']",7,47cf6eb230c456eb25112bdf2bce50e5fe88778e,ironic-inspector-routed-networks,"define a network to be used for the Ironic cleaning network:Finally, define at least one DHCP range for Ironic inspector: ironic_dnsmasq_dhcp_ranges: - range: ""192.168.5.100,192.168.5.110"" Another example of a single range with a router (multiple routers are possible by separating addresses with commas): .. code-block:: yaml ironic_dnsmasq_dhcp_ranges: - range: ""192.168.5.100,192.168.5.110"" routers: ""192.168.5.1"" To support DHCP relay, it is also possible to define a netmask in the range. It is advisable to also provide a router to allow the traffic to reach the Ironic server. .. code-block:: yaml ironic_dnsmasq_dhcp_ranges: - range: ""192.168.5.100,192.168.5.110,255.255.255.0"" routers: ""192.168.5.1"" Multiple ranges are possible, they can be either for directly-connected interfaces or relays (if with netmask): .. code-block:: yaml ironic_dnsmasq_dhcp_ranges: - range: ""192.168.5.100,192.168.5.110"" - range: ""192.168.6.100,192.168.6.110,255.255.255.0"" routers: ""192.168.6.1"" The default lease time for each range can be configured globally via ``ironic_dnsmasq_dhcp_default_lease_time`` variable or per range via ``lease_time`` parameter.","a range of IP addresses that will be available for use by Ironic inspector. The optional netmask of the network should be provided in case when DHCP-relay is used. Finally, define a network to be used for the Ironic cleaning network: ironic_dnsmasq_dhcp_range: ""192.168.5.100,192.168.5.110,255.255.255.0""In the same file, optionally a default gateway to be used for the Ironic Inspector inspection network: ironic_dnsmasq_default_gateway: 192.168.5.1",83,21
openstack%2Fopenstack-ansible~master~I8bb0c352d08af1b3a11402506f6afbef8427f484,openstack/openstack-ansible,master,I8bb0c352d08af1b3a11402506f6afbef8427f484,Limit cloudkitty workers,MERGED,2022-04-29 18:24:30.000000000,2022-05-03 09:57:03.000000000,2022-05-03 09:55:34.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}, {'_account_id': 32029}]","[{'number': 1, 'created': '2022-04-29 18:24:30.000000000', 'files': ['tests/roles/bootstrap-host/templates/user_variables.aio.yml.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/7a28d9a26afeeae5a079707d34613610ad040674', 'message': 'Limit cloudkitty workers\n\nChange-Id: I8bb0c352d08af1b3a11402506f6afbef8427f484\n'}]",0,839989,7a28d9a26afeeae5a079707d34613610ad040674,9,4,1,13095,,,0,"Limit cloudkitty workers

Change-Id: I8bb0c352d08af1b3a11402506f6afbef8427f484
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/89/839989/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/roles/bootstrap-host/templates/user_variables.aio.yml.j2'],1,7a28d9a26afeeae5a079707d34613610ad040674,cloudkitty-fix,## cloudkitty cloudkitty_wsgi_processes_max: 2 cloudkitty_wsgi_threads: 1 ,,4,0
openstack%2Fkolla-ansible~stable%2Fussuri~Iec4d2bea37321efe655f8f499673cb593e85d5a6,openstack/kolla-ansible,stable/ussuri,Iec4d2bea37321efe655f8f499673cb593e85d5a6,fix missing lang env in curator crontab,MERGED,2022-04-29 12:50:06.000000000,2022-05-03 09:53:13.000000000,2022-05-03 09:51:57.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-04-29 12:50:06.000000000', 'files': ['releasenotes/notes/bug-1919328-9a9550e73392436e.yaml', 'ansible/roles/elasticsearch/templates/elasticsearch-curator.crontab.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c283aa2b54520966b7825fae1941dc66eb087dce', 'message': 'fix missing lang env in curator crontab\n\nCloses-Bug: 1919328\nChange-Id: Iec4d2bea37321efe655f8f499673cb593e85d5a6\n'}]",0,839912,c283aa2b54520966b7825fae1941dc66eb087dce,9,3,1,32553,,,0,"fix missing lang env in curator crontab

Closes-Bug: 1919328
Change-Id: Iec4d2bea37321efe655f8f499673cb593e85d5a6
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/12/839912/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-1919328-9a9550e73392436e.yaml', 'ansible/roles/elasticsearch/templates/elasticsearch-curator.crontab.j2']",2,c283aa2b54520966b7825fae1941dc66eb087dce,fix_curator_crontab_lang-stable/ussuri,LANG=en_US.UTF-8,,8,1
openstack%2Fdiskimage-builder~master~I125f1a0c78a103b51bda961528c3e66c345bf604,openstack/diskimage-builder,master,I125f1a0c78a103b51bda961528c3e66c345bf604,"Revert ""Fallback to persistent netifs names with systemd""",MERGED,2022-04-21 12:53:05.000000000,2022-05-03 09:24:40.000000000,2022-05-03 00:26:20.000000000,"[{'_account_id': 4146}, {'_account_id': 5263}, {'_account_id': 7118}, {'_account_id': 14200}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 30568}, {'_account_id': 33984}]","[{'number': 1, 'created': '2022-04-21 12:53:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/537706ec448d802a48e02c14858f560f715cd653', 'message': 'Revert ""Fallback to persistent netifs names with systemd""\n\nThis reverts commit 840129097631611fe110bbe01b1707f9db000865.\n\nReason of the revert: the issue with Debian Bullseye described in the\nnot linked bug [1] should be fixed the standard way via net.ifnames=0\npassed to the kernel via DIB_BOOTLOADER_DEFAULT_CMDLINE for example.\nThis change broke all the working deployments of other Debian-style\ndistributions where it possible for example Ubuntu and all previous\nreleases of the Debian and there is no other way to enable Predictable\ninterface names without this revert.\n\n1. https://bugs.launchpad.net/diskimage-builder/+bug/1960301\n\nChange-Id: I125f1a0c78a103b51bda961528c3e66c345bf604\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n'}, {'number': 2, 'created': '2022-04-22 06:27:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/93bdd9c93a9e59862136d4c0011d8c1d645dd3b6', 'message': 'Revert ""Fallback to persistent netifs names with systemd""\n\nThis reverts commit 840129097631611fe110bbe01b1707f9db000865.\n\nReason of the revert: the issue with Debian Bullseye described in the\nnot linked bug [1] should be fixed the standard way via net.ifnames=0\npassed to the kernel via DIB_BOOTLOADER_DEFAULT_CMDLINE for example.\nThis change broke all the working deployments of other Debian-style\ndistributions where it possible for example Ubuntu and all previous\nreleases of the Debian and there is no other way to enable Predictable\ninterface names without this revert.\n\n1. https://bugs.launchpad.net/diskimage-builder/+bug/1960301\n\nChange-Id: I125f1a0c78a103b51bda961528c3e66c345bf604\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n'}, {'number': 3, 'created': '2022-04-22 07:34:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/60fdd38fd19941c3c289e2784317c79edf78ddb6', 'message': 'Revert ""Fallback to persistent netifs names with systemd""\n\nThis reverts commit 840129097631611fe110bbe01b1707f9db000865.\n\nReason of the revert: the issue with Debian Bullseye described in the\nnot linked bug [1] should be fixed the standard way via net.ifnames=0\npassed to the kernel via DIB_BOOTLOADER_DEFAULT_CMDLINE for example.\nThis change broke all the working deployments of other Debian-style\ndistributions where it possible for example Ubuntu and all previous\nreleases of the Debian and there is no other way to enable Predictable\ninterface names without this revert.\n\n1. https://bugs.launchpad.net/diskimage-builder/+bug/1960301\n\nChange-Id: I125f1a0c78a103b51bda961528c3e66c345bf604\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n'}, {'number': 4, 'created': '2022-04-22 08:34:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/c7927b9aec9a057b65d0a8ee555ca8169f2a06d3', 'message': 'Revert ""Fallback to persistent netifs names with systemd""\n\nThis reverts commit 840129097631611fe110bbe01b1707f9db000865.\n\nReason of the revert: the issue with Debian Bullseye described in the\nnot linked bug [1] should be fixed the standard way via net.ifnames=0\npassed to the kernel via DIB_BOOTLOADER_DEFAULT_CMDLINE for example.\nThis change broke all the working deployments of other Debian-style\ndistributions where it possible for example Ubuntu and all previous\nreleases of the Debian and there is no other way to enable Predictable\ninterface names without this revert.\n\n1. https://bugs.launchpad.net/diskimage-builder/+bug/1960301\n\nChange-Id: I125f1a0c78a103b51bda961528c3e66c345bf604\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n'}, {'number': 5, 'created': '2022-04-26 20:45:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/1a59ae40ffba75f8c9359bfc4bebb1b2dbfb5c94', 'message': 'Revert ""Fallback to persistent netifs names with systemd""\n\nThis reverts commit 840129097631611fe110bbe01b1707f9db000865.\n\nWe are reverting this because some users may want to use predictable\ndevice names and may not even use Debian. However, after some\ninvestigation the parent change appears to fix Debian as well. This\nrevert should continue to produce functional images for Debian users\nusing predictable device names. If predictable device names are not\ndesired turning them off is straightforward and release notes are\nupdated to give users the info they need to do that outside of this\nelement.\n\nChange-Id: I125f1a0c78a103b51bda961528c3e66c345bf604\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n'}, {'number': 6, 'created': '2022-04-27 15:41:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/64a5476bc2191c814d471aab081b2a17f13531ba', 'message': 'Revert ""Fallback to persistent netifs names with systemd""\n\nThis reverts commit 840129097631611fe110bbe01b1707f9db000865.\n\nWe are reverting this because some users may want to use predictable\ndevice names and may not even use Debian. However, after some\ninvestigation we have found a couple of bugs in dhcp-all-interfaces on\nDebuntu distros. The parent change corrects those bugs. Additionally new\nLinux kernels emit ""move"" events to udev when interfaces are renamed to\ntheir predictable name. Support this ""move"" in the dhcp-all-interfaces\nudev rules. Making these changes appaers to produce functional images\nfor Debian users using predictable device names. If predictable device\nnames are not desired turning them off is straightforward and release\nnotes are updated to give users the info they need to do that outside of\nthis element.\n\nChange-Id: I125f1a0c78a103b51bda961528c3e66c345bf604\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n'}, {'number': 7, 'created': '2022-04-27 16:29:58.000000000', 'files': ['diskimage_builder/elements/dhcp-all-interfaces/install.d/dhcp-all-interfaces-udev.rules', 'releasenotes/notes/dhcp-all-interfaces-debian-issue-2ec7f1a5186f0b16.yaml', 'diskimage_builder/elements/dhcp-all-interfaces/install.d/udev-net-setup-link.rules', 'diskimage_builder/elements/dhcp-all-interfaces/install.d/50-dhcp-all-interfaces'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/b97dfb8fbd4df0dcb67b69d23926ccc090e95176', 'message': 'Revert ""Fallback to persistent netifs names with systemd""\n\nThis reverts commit 840129097631611fe110bbe01b1707f9db000865.\n\nWe are reverting this because some users may want to use predictable\ndevice names and may not even use Debian. However, after some\ninvestigation we have found a couple of bugs in dhcp-all-interfaces on\nDebuntu distros. The parent change corrects those bugs. Additionally new\nLinux kernels emit ""move"" events to udev when interfaces are renamed to\ntheir predictable name. Support this ""move"" in the dhcp-all-interfaces\nudev rules. Making these changes appaers to produce functional images\nfor Debian users using predictable device names. If predictable device\nnames are not desired turning them off is straightforward and release\nnotes are updated to give users the info they need to do that outside of\nthis element.\n\nChange-Id: I125f1a0c78a103b51bda961528c3e66c345bf604\nCo-Authored-By: Clark Boylan <clark.boylan@gmail.com>\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n'}]",40,838863,b97dfb8fbd4df0dcb67b69d23926ccc090e95176,88,8,7,14200,,,0,"Revert ""Fallback to persistent netifs names with systemd""

This reverts commit 840129097631611fe110bbe01b1707f9db000865.

We are reverting this because some users may want to use predictable
device names and may not even use Debian. However, after some
investigation we have found a couple of bugs in dhcp-all-interfaces on
Debuntu distros. The parent change corrects those bugs. Additionally new
Linux kernels emit ""move"" events to udev when interfaces are renamed to
their predictable name. Support this ""move"" in the dhcp-all-interfaces
udev rules. Making these changes appaers to produce functional images
for Debian users using predictable device names. If predictable device
names are not desired turning them off is straightforward and release
notes are updated to give users the info they need to do that outside of
this element.

Change-Id: I125f1a0c78a103b51bda961528c3e66c345bf604
Co-Authored-By: Clark Boylan <clark.boylan@gmail.com>
Signed-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/63/838863/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/persistent-netifs-fallback-1b861e037dd8a27c.yaml', 'diskimage_builder/elements/dhcp-all-interfaces/install.d/udev-net-setup-link.rules', 'diskimage_builder/elements/dhcp-all-interfaces/install.d/50-dhcp-all-interfaces']",3,537706ec448d802a48e02c14858f560f715cd653,revert-persistent-netifs,, install -D -g root -o root -m 0644 ${SCRIPTDIR}/udev-net-setup-link.rules /etc/udev/rules.d/80-net-setup-link.rules,0,13
openstack%2Fkolla-ansible~stable%2Fwallaby~Ib69fc0017b3bfbc8da4dfd4301710fbf88be661a,openstack/kolla-ansible,stable/wallaby,Ib69fc0017b3bfbc8da4dfd4301710fbf88be661a,Multiple DHCP ranges for Ironic Inspector,ABANDONED,2022-05-02 12:02:40.000000000,2022-05-03 09:17:28.000000000,,"[{'_account_id': 13252}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-05-02 12:02:40.000000000', 'files': ['ansible/roles/ironic/templates/ironic-dnsmasq.conf.j2', 'releasenotes/notes/ironic-inspector-multiple-ranges-b7c734d38b90c331.yaml', 'tests/templates/globals-default.j2', 'ansible/roles/ironic/defaults/main.yml', 'ansible/roles/ironic/tasks/precheck.yml', 'etc/kolla/globals.yml', 'doc/source/reference/bare-metal/ironic-guide.rst'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/1ee67ae47786e1a29408fc5f27f42680ba2e4b2a', 'message': ""Multiple DHCP ranges for Ironic Inspector\n\nAdd a new parameter 'ironic_dnsmasq_dhcp_ranges' and enable the\nconfiguration of the corresponding 'dhcp-range' and 'dhcp-option'\nblocks in Ironic Inspector dnsmasq for multiple ranges.\n\nThe old parameters 'ironic_dnsmasq_dhcp_range' and\n'ironic_dnsmasq_default_gateway' used for the only range are now\nremoved.\n\nThis change implements the same solution used in the TripleO several\nyears ago in the: Ie49b07ffe948576f5d9330cf11ee014aef4b282d\n\nAlso, this change contains: Iae15e9db0acc2ecd5b087a9ca430be948bc3e649\nfix for lease time.\nThe value can be changed globally or per range.\n\nChange-Id: Ib69fc0017b3bfbc8da4dfd4301710fbf88be661a\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\nCo-Authored-By: Radosław Piliszek <radoslaw.piliszek@gmail.com>\n(cherry picked from commit 762aecbfae0719a7d2fa15fd23ddd40c471be113)\n""}]",1,840176,1ee67ae47786e1a29408fc5f27f42680ba2e4b2a,7,4,1,14200,,,0,"Multiple DHCP ranges for Ironic Inspector

Add a new parameter 'ironic_dnsmasq_dhcp_ranges' and enable the
configuration of the corresponding 'dhcp-range' and 'dhcp-option'
blocks in Ironic Inspector dnsmasq for multiple ranges.

The old parameters 'ironic_dnsmasq_dhcp_range' and
'ironic_dnsmasq_default_gateway' used for the only range are now
removed.

This change implements the same solution used in the TripleO several
years ago in the: Ie49b07ffe948576f5d9330cf11ee014aef4b282d

Also, this change contains: Iae15e9db0acc2ecd5b087a9ca430be948bc3e649
fix for lease time.
The value can be changed globally or per range.

Change-Id: Ib69fc0017b3bfbc8da4dfd4301710fbf88be661a
Signed-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>
Co-Authored-By: Radosław Piliszek <radoslaw.piliszek@gmail.com>
(cherry picked from commit 762aecbfae0719a7d2fa15fd23ddd40c471be113)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/76/840176/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/ironic/templates/ironic-dnsmasq.conf.j2', 'releasenotes/notes/ironic-inspector-multiple-ranges-b7c734d38b90c331.yaml', 'ansible/roles/ironic/defaults/main.yml', 'tests/templates/globals-default.j2', 'ansible/roles/ironic/tasks/precheck.yml', 'etc/kolla/globals.yml', 'doc/source/reference/bare-metal/ironic-guide.rst']",7,1ee67ae47786e1a29408fc5f27f42680ba2e4b2a,ironic-inspector-routed-networks,"define a network to be used for the Ironic cleaning network:Finally, define at least one DHCP range for Ironic inspector: ironic_dnsmasq_dhcp_ranges: - range: ""192.168.5.100,192.168.5.110"" Another example of a single range with a router (multiple routers are possible by separating addresses with commas): .. code-block:: yaml ironic_dnsmasq_dhcp_ranges: - range: ""192.168.5.100,192.168.5.110"" routers: ""192.168.5.1"" To support DHCP relay, it is also possible to define a netmask in the range. It is advisable to also provide a router to allow the traffic to reach the Ironic server. .. code-block:: yaml ironic_dnsmasq_dhcp_ranges: - range: ""192.168.5.100,192.168.5.110,255.255.255.0"" routers: ""192.168.5.1"" Multiple ranges are possible, they can be either for directly-connected interfaces or relays (if with netmask): .. code-block:: yaml ironic_dnsmasq_dhcp_ranges: - range: ""192.168.5.100,192.168.5.110"" - range: ""192.168.6.100,192.168.6.110,255.255.255.0"" routers: ""192.168.6.1"" The default lease time for each range can be configured globally via ``ironic_dnsmasq_dhcp_default_lease_time`` variable or per range via ``lease_time`` parameter.","a range of IP addresses that will be available for use by Ironic inspector. The optional netmask of the network should be provided in case when DHCP-relay is used. Finally, define a network to be used for the Ironic cleaning network: ironic_dnsmasq_dhcp_range: ""192.168.5.100,192.168.5.110,255.255.255.0""In the same file, optionally a default gateway to be used for the Ironic Inspector inspection network: ironic_dnsmasq_default_gateway: 192.168.5.1",83,21
openstack%2Fpython-magnumclient~master~I764c00faf901dc4f2a47ee3600a12f4a02be23df,openstack/python-magnumclient,master,I764c00faf901dc4f2a47ee3600a12f4a02be23df,Python 3.10: Subcomand help test fix,ABANDONED,2021-12-23 11:27:33.000000000,2022-05-03 09:16:36.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-12-23 11:27:33.000000000', 'files': ['magnumclient/tests/test_shell.py'], 'web_link': 'https://opendev.org/openstack/python-magnumclient/commit/29226ec8fe89bb5c18a9bb6e354f714d4b2e8a3b', 'message': 'Python 3.10: Subcomand help test fix\n\nIn Python 3.10, ""Optional arguments"" becomes ""Options"". This\npatch fixes that. FYI, this was reported against my Debian package:\n\nhttps://bugs.debian.org/cgi-bin/bugreport.cgi?bug=1002421\n\nand currently, the package build against Python 3.9 and 3.10, so\nI\'m sure this patch works in both cases.\n\nChange-Id: I764c00faf901dc4f2a47ee3600a12f4a02be23df\n'}]",0,822823,29226ec8fe89bb5c18a9bb6e354f714d4b2e8a3b,3,1,1,6476,,,0,"Python 3.10: Subcomand help test fix

In Python 3.10, ""Optional arguments"" becomes ""Options"". This
patch fixes that. FYI, this was reported against my Debian package:

https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=1002421

and currently, the package build against Python 3.9 and 3.10, so
I'm sure this patch works in both cases.

Change-Id: I764c00faf901dc4f2a47ee3600a12f4a02be23df
",git fetch https://review.opendev.org/openstack/python-magnumclient refs/changes/23/822823/1 && git format-patch -1 --stdout FETCH_HEAD,['magnumclient/tests/test_shell.py'],1,29226ec8fe89bb5c18a9bb6e354f714d4b2e8a3b,python-3.10-help-fix," if sys.version_info >= (3, 10): options_name = 'Options' else: options_name = 'Optional arguments' '.*?^' + options_name + ':',"," '.*?^Optional arguments:',",6,1
openstack%2Fcinder~master~Ic97a2501b4c895b2b655284bcc320036c2d4e217,openstack/cinder,master,Ic97a2501b4c895b2b655284bcc320036c2d4e217,[SVf]:Fix retype failure for replication volume-type,MERGED,2022-04-07 11:38:22.000000000,2022-05-03 09:09:00.000000000,2022-04-20 17:18:46.000000000,"[{'_account_id': 7198}, {'_account_id': 9535}, {'_account_id': 22348}, {'_account_id': 34201}, {'_account_id': 34541}]","[{'number': 1, 'created': '2022-04-07 11:38:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/619490a577038f0ffda78eb7e2d59a4ec7720d3f', 'message': '[SVf]:Fix retype failure for replication volume-type\n\n[Spectrum Virtualize family] While retyping GM to GM or MM to MM or\nGMCV to GMCV, chfcmap() call is being made which is resulting in retype\noperation failure.\nError: CMMVC7154E The task cannot be completed because the specified\nFlashCopy mapping is controlled by a Metro Mirror or Global Mirror\nrelationship.\n\nchfcmap() should not be called for any FC map which is rc_controlled.\nHence while retyping global mirror to global mirror or\nmetro mirror to metro mirror or GMCV to GMCV volume, this error comes\nup as the FC map of the volume is rc_controlled for these replication\nvolume-types.\n\nCloses-Bug: #1968159\nChange-Id: Ic97a2501b4c895b2b655284bcc320036c2d4e217\n'}, {'number': 2, 'created': '2022-04-07 12:11:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/aced4607478d2aa3a63ee4f0dc37f3bb4501c867', 'message': '[SVf]:Fix retype failure for replication volume-type\n\n[Spectrum Virtualize family] While retyping GM to GM or MM to MM or\nGMCV to GMCV, chfcmap() call is being made which is resulting in retype\noperation failure.\nError: CMMVC7154E The task cannot be completed because the specified\nFlashCopy mapping is controlled by a Metro Mirror or Global Mirror\nrelationship.\n\nchfcmap() should not be called for any FC map which is rc_controlled.\nHence while retyping global mirror to global mirror or\nmetro mirror to metro mirror or GMCV to GMCV volume, this error comes\nup as the FC map of the volume is rc_controlled for these replication\nvolume-types.\n\nCloses-Bug: #1968159\nChange-Id: Ic97a2501b4c895b2b655284bcc320036c2d4e217\n'}, {'number': 3, 'created': '2022-04-11 11:21:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/cd80eedad36ff76e5b975cb717a3d3013ad94fd8', 'message': '[SVf]:Fix retype failure for replication volume-type\n\n[Spectrum Virtualize family] While retyping GM to GM or MM to MM or\nGMCV to GMCV, chfcmap() call is being made which is resulting in retype\noperation failure.\nError: CMMVC7154E The task cannot be completed because the specified\nFlashCopy mapping is controlled by a Metro Mirror or Global Mirror\nrelationship.\n\nchfcmap() should not be called for any FC map which is rc_controlled.\nHence while retyping global mirror to global mirror or\nmetro mirror to metro mirror or GMCV to GMCV volume, this error comes\nup as the FC map of the volume is rc_controlled for these replication\nvolume-types.\n\nCloses-Bug: #1968159\nChange-Id: Ic97a2501b4c895b2b655284bcc320036c2d4e217\n'}, {'number': 4, 'created': '2022-04-19 05:20:51.000000000', 'files': ['releasenotes/notes/bug-1968159-ibm-svf-Retype_failure_for_replication_volume-type-4e0671b299315f4b.yaml', 'cinder/tests/unit/volume/drivers/ibm/test_storwize_svc.py', 'cinder/volume/drivers/ibm/storwize_svc/storwize_svc_common.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/b99e73e96cb6448f81a2f4b2e8e624bf36bbff0e', 'message': '[SVf]:Fix retype failure for replication volume-type\n\n[Spectrum Virtualize family] While retyping GM to GM or MM to MM or\nGMCV to GMCV, chfcmap() call is being made which is resulting in retype\noperation failure.\nError: CMMVC7154E The task cannot be completed because the specified\nFlashCopy mapping is controlled by a Metro Mirror or Global Mirror\nrelationship.\n\nchfcmap() should not be called for any FC map which is rc_controlled.\nHence while retyping global mirror to global mirror or\nmetro mirror to metro mirror or GMCV to GMCV volume, this error comes\nup as the FC map of the volume is rc_controlled for these replication\nvolume-types.\n\nCloses-Bug: #1968159\nChange-Id: Ic97a2501b4c895b2b655284bcc320036c2d4e217\n'}]",19,836944,b99e73e96cb6448f81a2f4b2e8e624bf36bbff0e,104,5,4,32074,,,0,"[SVf]:Fix retype failure for replication volume-type

[Spectrum Virtualize family] While retyping GM to GM or MM to MM or
GMCV to GMCV, chfcmap() call is being made which is resulting in retype
operation failure.
Error: CMMVC7154E The task cannot be completed because the specified
FlashCopy mapping is controlled by a Metro Mirror or Global Mirror
relationship.

chfcmap() should not be called for any FC map which is rc_controlled.
Hence while retyping global mirror to global mirror or
metro mirror to metro mirror or GMCV to GMCV volume, this error comes
up as the FC map of the volume is rc_controlled for these replication
volume-types.

Closes-Bug: #1968159
Change-Id: Ic97a2501b4c895b2b655284bcc320036c2d4e217
",git fetch https://review.opendev.org/openstack/cinder refs/changes/44/836944/4 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/drivers/ibm/storwize_svc/storwize_svc_common.py'],1,619490a577038f0ffda78eb7e2d59a4ec7720d3f,bug/1968159," attrs = self._get_flashcopy_mapping_attributes(map_id) if attrs['rc_controlled'] != 'yes': self.ssh.chfcmap(map_id, clean_rate=six.text_type(new_clean_rate))"," self.ssh.chfcmap(map_id, clean_rate=six.text_type(new_clean_rate))",4,2
openstack%2Freleases~master~I69f7a31ad25ce54a2baab33b54174405cf6ca48a,openstack/releases,master,I69f7a31ad25ce54a2baab33b54174405cf6ca48a,[Puppet OpenStack] Transition Victoria to EM,MERGED,2022-04-14 17:09:42.000000000,2022-05-03 09:03:26.000000000,2022-05-03 09:03:26.000000000,"[{'_account_id': 9816}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-04-14 17:09:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/377e35e73303020beb3a9711da9199a48e40200f', 'message': '[Puppet OpenStack] Transition Victoria to EM\n\nThis transition the victoria branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch.\n\nPlease +1 if the team is ready for us to proceed with this\ntransition, or -1 if there are any final backports currently in\nflight that we should wait for. For the latter case, please\nupdate the patch with the new commit hash after doing a final\nrelease to get those changes out so we know to proceed with the\ntransition.\n\nThe transition deadline is April 27th, 2022.\n\nChange-Id: I69f7a31ad25ce54a2baab33b54174405cf6ca48a\n'}, {'number': 2, 'created': '2022-05-02 11:45:06.000000000', 'files': ['deliverables/victoria/puppet-magnum.yaml', 'deliverables/victoria/puppet-nova.yaml', 'deliverables/victoria/puppet-horizon.yaml', 'deliverables/victoria/puppet-tacker.yaml', 'deliverables/victoria/puppet-vitrage.yaml', 'deliverables/victoria/puppet-murano.yaml', 'deliverables/victoria/puppet-keystone.yaml', 'deliverables/victoria/puppet-placement.yaml', 'deliverables/victoria/puppet-manila.yaml', 'deliverables/victoria/puppet-designate.yaml', 'deliverables/victoria/puppet-rally.yaml', 'deliverables/victoria/puppet-barbican.yaml', 'deliverables/victoria/puppet-freezer.yaml', 'deliverables/victoria/puppet-monasca.yaml', 'deliverables/victoria/puppet-ceilometer.yaml', 'deliverables/victoria/puppet-ec2api.yaml', 'deliverables/victoria/puppet-octavia.yaml', 'deliverables/victoria/puppet-oslo.yaml', 'deliverables/victoria/puppet-swift.yaml', 'deliverables/victoria/puppet-cinder.yaml', 'deliverables/victoria/puppet-ironic.yaml', 'deliverables/victoria/puppet-senlin.yaml', 'deliverables/victoria/puppet-zaqar.yaml', 'deliverables/victoria/puppet-neutron.yaml', 'deliverables/victoria/puppet-watcher.yaml', 'deliverables/victoria/puppet-glance.yaml', 'deliverables/victoria/puppet-panko.yaml', 'deliverables/victoria/puppet-vswitch.yaml', 'deliverables/victoria/puppet-cloudkitty.yaml', 'deliverables/victoria/puppet-heat.yaml', 'deliverables/victoria/puppet-qdr.yaml', 'deliverables/victoria/puppet-glare.yaml', 'deliverables/victoria/puppet-aodh.yaml', 'deliverables/victoria/puppet-mistral.yaml', 'deliverables/victoria/puppet-openstacklib.yaml', 'deliverables/victoria/puppet-gnocchi.yaml', 'deliverables/victoria/puppet-tempest.yaml', 'deliverables/victoria/puppet-ovn.yaml', 'deliverables/victoria/puppet-sahara.yaml', 'deliverables/victoria/puppet-trove.yaml', 'deliverables/victoria/puppet-openstack_extras.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/1a8b283d3e0a5ae5df4a7b19232721405d65738a', 'message': '[Puppet OpenStack] Transition Victoria to EM\n\nThis transition the victoria branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch.\n\nPlease +1 if the team is ready for us to proceed with this\ntransition, or -1 if there are any final backports currently in\nflight that we should wait for. For the latter case, please\nupdate the patch with the new commit hash after doing a final\nrelease to get those changes out so we know to proceed with the\ntransition.\n\nThe transition deadline is April 27th, 2022.\n\nChange-Id: I69f7a31ad25ce54a2baab33b54174405cf6ca48a\n'}]",8,837979,1a8b283d3e0a5ae5df4a7b19232721405d65738a,17,4,2,17685,,,0,"[Puppet OpenStack] Transition Victoria to EM

This transition the victoria branch to extended maintenance.
Changes for bugfixes and things the team deems important are
still encouraged, but there will no longer be official releases
off of the branch.

Please +1 if the team is ready for us to proceed with this
transition, or -1 if there are any final backports currently in
flight that we should wait for. For the latter case, please
update the patch with the new commit hash after doing a final
release to get those changes out so we know to proceed with the
transition.

The transition deadline is April 27th, 2022.

Change-Id: I69f7a31ad25ce54a2baab33b54174405cf6ca48a
",git fetch https://review.opendev.org/openstack/releases refs/changes/79/837979/2 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/victoria/puppet-magnum.yaml', 'deliverables/victoria/puppet-nova.yaml', 'deliverables/victoria/puppet-horizon.yaml', 'deliverables/victoria/puppet-tacker.yaml', 'deliverables/victoria/puppet-vitrage.yaml', 'deliverables/victoria/puppet-murano.yaml', 'deliverables/victoria/puppet-keystone.yaml', 'deliverables/victoria/puppet-placement.yaml', 'deliverables/victoria/puppet-manila.yaml', 'deliverables/victoria/puppet-designate.yaml', 'deliverables/victoria/puppet-rally.yaml', 'deliverables/victoria/puppet-barbican.yaml', 'deliverables/victoria/puppet-freezer.yaml', 'deliverables/victoria/puppet-monasca.yaml', 'deliverables/victoria/puppet-ceilometer.yaml', 'deliverables/victoria/puppet-ec2api.yaml', 'deliverables/victoria/puppet-octavia.yaml', 'deliverables/victoria/puppet-oslo.yaml', 'deliverables/victoria/puppet-swift.yaml', 'deliverables/victoria/puppet-cinder.yaml', 'deliverables/victoria/puppet-ironic.yaml', 'deliverables/victoria/puppet-senlin.yaml', 'deliverables/victoria/puppet-zaqar.yaml', 'deliverables/victoria/puppet-neutron.yaml', 'deliverables/victoria/puppet-watcher.yaml', 'deliverables/victoria/puppet-glance.yaml', 'deliverables/victoria/puppet-panko.yaml', 'deliverables/victoria/puppet-vswitch.yaml', 'deliverables/victoria/puppet-cloudkitty.yaml', 'deliverables/victoria/puppet-heat.yaml', 'deliverables/victoria/puppet-qdr.yaml', 'deliverables/victoria/puppet-glare.yaml', 'deliverables/victoria/puppet-aodh.yaml', 'deliverables/victoria/puppet-mistral.yaml', 'deliverables/victoria/puppet-openstacklib.yaml', 'deliverables/victoria/puppet-gnocchi.yaml', 'deliverables/victoria/puppet-tempest.yaml', 'deliverables/victoria/puppet-ovn.yaml', 'deliverables/victoria/puppet-sahara.yaml', 'deliverables/victoria/puppet-trove.yaml', 'deliverables/victoria/puppet-openstack_extras.yaml']",41,377e35e73303020beb3a9711da9199a48e40200f,victoria-em, - version: victoria-em projects: - repo: openstack/puppet-openstack_extras hash: 3f0b8f52ac8212a3540b5e869c96cba448ac7672,,164,0
openstack%2Fmonasca-common~master~I6aa0a059dde848dea5010c68af43bbfe1b8c338b,openstack/monasca-common,master,I6aa0a059dde848dea5010c68af43bbfe1b8c338b,Remove temporarily docker Zuul-jobs,MERGED,2022-05-02 15:30:28.000000000,2022-05-03 08:06:44.000000000,2022-05-03 08:06:44.000000000,"[{'_account_id': 22348}, {'_account_id': 28062}]","[{'number': 1, 'created': '2022-05-02 15:30:28.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/monasca-common/commit/43c5cdeab9f5533cddee3fcd3812168e23121c0e', 'message': 'Remove temporarily docker Zuul-jobs\n\n- build-monasca-common-docker-base-image\n- publish-monasca-common-docker-base-image\n\nChange-Id: I6aa0a059dde848dea5010c68af43bbfe1b8c338b\n'}]",0,840212,43c5cdeab9f5533cddee3fcd3812168e23121c0e,6,2,1,28062,,,0,"Remove temporarily docker Zuul-jobs

- build-monasca-common-docker-base-image
- publish-monasca-common-docker-base-image

Change-Id: I6aa0a059dde848dea5010c68af43bbfe1b8c338b
",git fetch https://review.opendev.org/openstack/monasca-common refs/changes/12/840212/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,43c5cdeab9f5533cddee3fcd3812168e23121c0e,,, - build-monasca-common-docker-base-image - publish-monasca-common-docker-base-image periodic: jobs: - publish-monasca-common-docker-base-image release: jobs: - publish-monasca-common-docker-base-image,0,8
openstack%2Freleases~master~Ifcfa490aaff96f58c2a4be2a53435e7fdb45db2d,openstack/releases,master,Ifcfa490aaff96f58c2a4be2a53435e7fdb45db2d,[Puppet OpenStack] Create final stable/victoria release,MERGED,2022-04-18 01:38:11.000000000,2022-05-03 07:57:12.000000000,2022-05-03 07:57:12.000000000,"[{'_account_id': 9816}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-04-18 01:38:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/f084aa5638a6d61edfafd4dd3831166826f7ef64', 'message': '[Puppet OpenStack] Create final stable/victoria release\n\n... before transitioning stable/victoria to EM.\n\nChange-Id: Ifcfa490aaff96f58c2a4be2a53435e7fdb45db2d\n'}, {'number': 2, 'created': '2022-05-02 08:41:29.000000000', 'files': ['deliverables/victoria/puppet-magnum.yaml', 'deliverables/victoria/puppet-nova.yaml', 'deliverables/victoria/puppet-horizon.yaml', 'deliverables/victoria/puppet-tacker.yaml', 'deliverables/victoria/puppet-vitrage.yaml', 'deliverables/victoria/puppet-keystone.yaml', 'deliverables/victoria/puppet-placement.yaml', 'deliverables/victoria/puppet-manila.yaml', 'deliverables/victoria/puppet-designate.yaml', 'deliverables/victoria/puppet-barbican.yaml', 'deliverables/victoria/puppet-ceilometer.yaml', 'deliverables/victoria/puppet-ec2api.yaml', 'deliverables/victoria/puppet-octavia.yaml', 'deliverables/victoria/puppet-oslo.yaml', 'deliverables/victoria/puppet-swift.yaml', 'deliverables/victoria/puppet-cinder.yaml', 'deliverables/victoria/puppet-ironic.yaml', 'deliverables/victoria/puppet-zaqar.yaml', 'deliverables/victoria/puppet-neutron.yaml', 'deliverables/victoria/puppet-watcher.yaml', 'deliverables/victoria/puppet-glance.yaml', 'deliverables/victoria/puppet-vswitch.yaml', 'deliverables/victoria/puppet-cloudkitty.yaml', 'deliverables/victoria/puppet-heat.yaml', 'deliverables/victoria/puppet-aodh.yaml', 'deliverables/victoria/puppet-mistral.yaml', 'deliverables/victoria/puppet-openstacklib.yaml', 'deliverables/victoria/puppet-gnocchi.yaml', 'deliverables/victoria/puppet-ovn.yaml', 'deliverables/victoria/puppet-sahara.yaml', 'deliverables/victoria/puppet-openstack_extras.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/ec0950cf3983ff307f514ff6b963f122e6c201df', 'message': '[Puppet OpenStack] Create final stable/victoria release\n\n... before transitioning stable/victoria to EM.\n\nChange-Id: Ifcfa490aaff96f58c2a4be2a53435e7fdb45db2d\n'}]",5,838267,ec0950cf3983ff307f514ff6b963f122e6c201df,15,4,2,9816,,,0,"[Puppet OpenStack] Create final stable/victoria release

... before transitioning stable/victoria to EM.

Change-Id: Ifcfa490aaff96f58c2a4be2a53435e7fdb45db2d
",git fetch https://review.opendev.org/openstack/releases refs/changes/67/838267/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/victoria/puppet-magnum.yaml', 'deliverables/victoria/puppet-nova.yaml', 'deliverables/victoria/puppet-horizon.yaml', 'deliverables/victoria/puppet-tacker.yaml', 'deliverables/victoria/puppet-vitrage.yaml', 'deliverables/victoria/puppet-keystone.yaml', 'deliverables/victoria/puppet-placement.yaml', 'deliverables/victoria/puppet-manila.yaml', 'deliverables/victoria/puppet-designate.yaml', 'deliverables/victoria/puppet-barbican.yaml', 'deliverables/victoria/puppet-ceilometer.yaml', 'deliverables/victoria/puppet-ec2api.yaml', 'deliverables/victoria/puppet-octavia.yaml', 'deliverables/victoria/puppet-oslo.yaml', 'deliverables/victoria/puppet-swift.yaml', 'deliverables/victoria/puppet-cinder.yaml', 'deliverables/victoria/puppet-ironic.yaml', 'deliverables/victoria/puppet-zaqar.yaml', 'deliverables/victoria/puppet-neutron.yaml', 'deliverables/victoria/puppet-watcher.yaml', 'deliverables/victoria/puppet-glance.yaml', 'deliverables/victoria/puppet-vswitch.yaml', 'deliverables/victoria/puppet-cloudkitty.yaml', 'deliverables/victoria/puppet-heat.yaml', 'deliverables/victoria/puppet-aodh.yaml', 'deliverables/victoria/puppet-mistral.yaml', 'deliverables/victoria/puppet-openstacklib.yaml', 'deliverables/victoria/puppet-gnocchi.yaml', 'deliverables/victoria/puppet-ovn.yaml', 'deliverables/victoria/puppet-sahara.yaml', 'deliverables/victoria/puppet-openstack_extras.yaml']",31,f084aa5638a6d61edfafd4dd3831166826f7ef64,puppet-victoria-em, - projects: - hash: 7fd4b2751ca2089c40a0439efad337fb9dab9704 repo: openstack/puppet-openstack_extras version: 17.5.0,,124,0
openstack%2Fmonasca-notification~stable%2Fyoga~Idc88314ead611a6bea4dba9115b0aed9e551bb87,openstack/monasca-notification,stable/yoga,Idc88314ead611a6bea4dba9115b0aed9e551bb87,Drop lower-constraints.txt and its testing,MERGED,2022-05-02 14:26:17.000000000,2022-05-03 07:42:05.000000000,2022-05-03 07:40:07.000000000,"[{'_account_id': 22348}, {'_account_id': 28062}]","[{'number': 1, 'created': '2022-05-02 14:26:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-notification/commit/ccf7b92eb50a177a3803d3f80c3932773723a522', 'message': 'Drop lower-constraints.txt and its testing\n\nAs discussed in TC PTG[1] and TC resolution[2], we are\ndropping the lower-constraints.txt file and its testing.\nWe will keep lower bounds in the requirements.txt file but\nwith a note that these are not tested lower bounds and we\ntry our best to keep them updated.\n\n[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326\n[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal\n\nChange-Id: Idc88314ead611a6bea4dba9115b0aed9e551bb87\n(cherry picked from commit 5225304a268fbd7e5edc30ab6d2b0cbf3b92b565)\n'}, {'number': 2, 'created': '2022-05-02 14:26:49.000000000', 'files': ['requirements.txt', '.zuul.yaml', 'lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/monasca-notification/commit/50dac47ff801b784b9ad3cb701f6c9b04d0fa350', 'message': 'Drop lower-constraints.txt and its testing\n\nAs discussed in TC PTG[1] and TC resolution[2], we are\ndropping the lower-constraints.txt file and its testing.\nWe will keep lower bounds in the requirements.txt file but\nwith a note that these are not tested lower bounds and we\ntry our best to keep them updated.\n\n[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326\n[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal\n\nChange-Id: Idc88314ead611a6bea4dba9115b0aed9e551bb87\n(cherry picked from commit 5225304a268fbd7e5edc30ab6d2b0cbf3b92b565)\n'}]",0,840193,50dac47ff801b784b9ad3cb701f6c9b04d0fa350,12,2,2,28062,,,0,"Drop lower-constraints.txt and its testing

As discussed in TC PTG[1] and TC resolution[2], we are
dropping the lower-constraints.txt file and its testing.
We will keep lower bounds in the requirements.txt file but
with a note that these are not tested lower bounds and we
try our best to keep them updated.

[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326
[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal

Change-Id: Idc88314ead611a6bea4dba9115b0aed9e551bb87
(cherry picked from commit 5225304a268fbd7e5edc30ab6d2b0cbf3b92b565)
",git fetch https://review.opendev.org/openstack/monasca-notification refs/changes/93/840193/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', '.zuul.yaml', 'lower-constraints.txt', 'tox.ini']",4,ccf7b92eb50a177a3803d3f80c3932773723a522,drop-l-c,,[testenv:lower-constraints] deps = -c{toxinidir}/lower-constraints.txt -r{toxinidir}/test-requirements.txt -r{toxinidir}/requirements.txt .[jira_plugin] ,8,76
openstack%2Fansible-collections-openstack~master~I4b055266555cb91681d0ab6edcaa850e061f3afb,openstack/ansible-collections-openstack,master,I4b055266555cb91681d0ab6edcaa850e061f3afb,Fixed return values in compute_service_info module again,MERGED,2022-05-02 18:49:48.000000000,2022-05-03 07:32:05.000000000,2022-05-03 07:32:05.000000000,"[{'_account_id': 22348}, {'_account_id': 32962}]","[{'number': 1, 'created': '2022-05-02 18:49:48.000000000', 'files': ['ci/roles/nova_services/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/4a7330364ec0a4eb8cfa5da9ad161f66d1794add', 'message': 'Fixed return values in compute_service_info module again\n\nOpenStack SDK 0.53 added parameters is_forced_down and updated_at\nin openstack/compute/v2/service.py, hence our compute_service_info\nmodule will return different values depending on which release of\nthe OpenStack SDK is used.\n\nRef.: https://github.com/openstack/openstacksdk/commit/5450c4525313581b2ebc0e1ab6ac6252964c595f\n\nChange-Id: I4b055266555cb91681d0ab6edcaa850e061f3afb\n'}]",0,840230,4a7330364ec0a4eb8cfa5da9ad161f66d1794add,6,2,1,32962,,,0,"Fixed return values in compute_service_info module again

OpenStack SDK 0.53 added parameters is_forced_down and updated_at
in openstack/compute/v2/service.py, hence our compute_service_info
module will return different values depending on which release of
the OpenStack SDK is used.

Ref.: https://github.com/openstack/openstacksdk/commit/5450c4525313581b2ebc0e1ab6ac6252964c595f

Change-Id: I4b055266555cb91681d0ab6edcaa850e061f3afb
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/30/840230/1 && git format-patch -1 --stdout FETCH_HEAD,['ci/roles/nova_services/tasks/main.yml'],1,4a7330364ec0a4eb8cfa5da9ad161f66d1794add,," - '[""availability_zone"", ""binary"", ""disables_reason"", ""host"", ""name"", ""state"", ""status"", ""id""] |"," - '[""availability_zone"", ""binary"", ""disables_reason"", ""is_forced_down"", ""host"", ""name"", ""state"", ""status"", ""updated_at"", ""id""] |",2,2
openstack%2Fcinder~master~I13315eb7acf24f56c89503b4a8df436638dce91f,openstack/cinder,master,I13315eb7acf24f56c89503b4a8df436638dce91f,Remove reference to non-existing nfs_disk_util parameter,MERGED,2022-04-18 13:12:15.000000000,2022-05-03 06:03:01.000000000,2022-04-29 16:47:28.000000000,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 21129}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-18 13:12:15.000000000', 'files': ['cinder/tests/unit/volume/drivers/test_veritas_cnfs.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/e6c535bf27b1aaa2d97ad9d5ea68834ba58268b6', 'message': 'Remove reference to non-existing nfs_disk_util parameter\n\nThe nfs_disk_util parameter was already removed from cinder during\nHavana cycle by [1]. This change removes the remaining reference to\nthat removed parameter.\n\nTrivial-Fix\n\n[1] 5bf7b9be798296b08de42f4cb6295071dc299ef8\n\nChange-Id: I13315eb7acf24f56c89503b4a8df436638dce91f\n'}]",1,838302,e6c535bf27b1aaa2d97ad9d5ea68834ba58268b6,32,4,1,9816,,,0,"Remove reference to non-existing nfs_disk_util parameter

The nfs_disk_util parameter was already removed from cinder during
Havana cycle by [1]. This change removes the remaining reference to
that removed parameter.

Trivial-Fix

[1] 5bf7b9be798296b08de42f4cb6295071dc299ef8

Change-Id: I13315eb7acf24f56c89503b4a8df436638dce91f
",git fetch https://review.opendev.org/openstack/cinder refs/changes/02/838302/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/tests/unit/volume/drivers/test_veritas_cnfs.py'],1,e6c535bf27b1aaa2d97ad9d5ea68834ba58268b6,,, self.configuration.nfs_disk_util = 'df',0,1
openstack%2Ftripleo-ansible~stable%2Fwallaby~Ida4b9e08c6cff6d140451df75b1807b89e6de073,openstack/tripleo-ansible,stable/wallaby,Ida4b9e08c6cff6d140451df75b1807b89e6de073,Don't specify inventory in base molecule config file,MERGED,2022-04-25 19:23:36.000000000,2022-05-03 04:13:55.000000000,2022-05-03 04:13:55.000000000,"[{'_account_id': 7353}, {'_account_id': 9976}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-04-25 19:23:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/8c643dbd2a84067da8f1e7842f4707180831e0bc', 'message': 'Don\'t specify inventory in base molecule config file\n\nThe host list gets merged by molecule, causing an unwanted ""instance""\nhost in the inventory. Let\'s keep the inventory definition inside role\nconfigs.\n\nCloses-Bug: 1964595\nChange-Id: Ida4b9e08c6cff6d140451df75b1807b89e6de073\n(cherry picked from commit 77b56d10f127826589bd6c08e63a6d072b060078)\n'}, {'number': 2, 'created': '2022-05-02 21:49:33.000000000', 'files': ['tripleo_ansible/roles/tripleo_kernel/molecule/kernelargs-hugepages-modify-idempotency-nochange/molecule.yml', 'tripleo_ansible/roles/tripleo_kernel/molecule/kernelargs-hugepages-modify/molecule.yml', 'tripleo_ansible/roles/tripleo_kernel/molecule/kernelargs-hugepages-nochange-remove/molecule.yml', 'tripleo_ansible/roles/tripleo_kernel/molecule/kernelargs-hugepages-nochange/molecule.yml', 'tripleo_ansible/roles/tripleo_kernel/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_kernel/molecule/extra/molecule.yml', 'tripleo_ansible/roles/tripleo_kernel/molecule/kernelargs-hugepages-adding/molecule.yml', 'tripleo_ansible/roles/tripleo_kernel/molecule/kernelargs-hugepages-modify-remove/molecule.yml', 'tripleo_ansible/roles/tripleo_kernel/molecule/kernelargs-hugepages-modify-idempotency-change/molecule.yml', 'tripleo_ansible/roles/tripleo_kernel/molecule/kernelargs-update/molecule.yml', 'tripleo_ansible/roles/tripleo_kernel/molecule/kernelargs-hugepages-modify-existing-kernelargs/molecule.yml', 'tripleo_ansible/roles/tripleo_kernel/molecule/kernelargs/molecule.yml', 'zuul.d/layout.yaml', 'tripleo_ansible/roles/tripleo_kernel/molecule/kernelargs-hugepages-modify-integer/molecule.yml', '.config/molecule/config.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/e1f2542c64849a0c821d9ffce31c78eec78d1ead', 'message': 'Don\'t specify inventory in base molecule config file\n\nThe host list gets merged by molecule, causing an unwanted ""instance""\nhost in the inventory. Let\'s keep the inventory definition inside role\nconfigs.\n\nCloses-Bug: 1964595\nChange-Id: Ida4b9e08c6cff6d140451df75b1807b89e6de073\n(cherry picked from commit 77b56d10f127826589bd6c08e63a6d072b060078)\n'}]",3,839187,e1f2542c64849a0c821d9ffce31c78eec78d1ead,24,5,2,34208,,,0,"Don't specify inventory in base molecule config file

The host list gets merged by molecule, causing an unwanted ""instance""
host in the inventory. Let's keep the inventory definition inside role
configs.

Closes-Bug: 1964595
Change-Id: Ida4b9e08c6cff6d140451df75b1807b89e6de073
(cherry picked from commit 77b56d10f127826589bd6c08e63a6d072b060078)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/87/839187/2 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_kernel/molecule/kernelargs-hugepages-modify-idempotency-nochange/molecule.yml', 'tripleo_ansible/roles/tripleo_kernel/molecule/kernelargs-hugepages-modify/molecule.yml', 'tripleo_ansible/roles/tripleo_kernel/molecule/kernelargs-hugepages-nochange-remove/molecule.yml', 'tripleo_ansible/roles/tripleo_kernel/molecule/kernelargs-hugepages-nochange/molecule.yml', 'tripleo_ansible/roles/tripleo_kernel/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_kernel/molecule/extra/molecule.yml', 'tripleo_ansible/roles/tripleo_kernel/molecule/kernelargs-hugepages-adding/molecule.yml', 'tripleo_ansible/roles/tripleo_kernel/molecule/kernelargs-hugepages-modify-remove/molecule.yml', 'tripleo_ansible/roles/tripleo_kernel/molecule/kernelargs-hugepages-modify-idempotency-change/molecule.yml', 'tripleo_ansible/roles/tripleo_kernel/molecule/kernelargs-update/molecule.yml', 'tripleo_ansible/roles/tripleo_kernel/molecule/kernelargs-hugepages-modify-existing-kernelargs/molecule.yml', 'tripleo_ansible/roles/tripleo_kernel/molecule/kernelargs/molecule.yml', 'tripleo_ansible/roles/tripleo_kernel/molecule/kernelargs-hugepages-modify-integer/molecule.yml', '.config/molecule/config.yml']",14,8c643dbd2a84067da8f1e7842f4707180831e0bc,Ida4b9e08c6cff6d140451df75b1807b89e6de073,, inventory: hosts: all: hosts: instance: ansible_host: localhost,91,6
openstack%2Frequirements~master~Iffcee6efbcb87ae41b5cce75d9e8ac9c350f3d97,openstack/requirements,master,Iffcee6efbcb87ae41b5cce75d9e8ac9c350f3d97,Updated from generate-constraints,ABANDONED,2022-05-03 02:36:19.000000000,2022-05-03 03:57:31.000000000,,[],"[{'number': 1, 'created': '2022-05-03 02:36:19.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/cfc844ac51067602f42df0eb7c4f938a0de24aef', 'message': 'Updated from generate-constraints\n\nChange-Id: Iffcee6efbcb87ae41b5cce75d9e8ac9c350f3d97\n'}]",0,840261,cfc844ac51067602f42df0eb7c4f938a0de24aef,3,0,1,11131,,,0,"Updated from generate-constraints

Change-Id: Iffcee6efbcb87ae41b5cce75d9e8ac9c350f3d97
",git fetch https://review.opendev.org/openstack/requirements refs/changes/61/840261/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,cfc844ac51067602f42df0eb7c4f938a0de24aef,openstack/requirements/constraints,rcssmin===1.1.0fixtures===4.0.0pyScss===1.4.0XStatic-Angular===1.8.2.1google-api-core===2.7.3types-paramiko===2.10.0paramiko===2.10.4ovs===2.17.1 cryptography===37.0.1pkg_resources===0.0.0django-compressor===4.0 libvirt-python===8.3.0funcparserlib===1.0.0;python_version=='3.8'suds-community===1.1.1boto3===1.22.5botocore===1.25.5zstd===1.5.2.5wrapt===1.14.1rjsmin===1.2.0,rcssmin===1.0.6fixtures===3.0.0pyScss===1.3.7XStatic-Angular===1.5.8.0google-api-core===2.7.2types-paramiko===2.8.21paramiko===2.8.1ovs===2.16.0 cryptography===36.0.2django-compressor===2.4.1 libvirt-python===8.2.0funcparserlib===1.0.0a2;python_version=='3.8'suds-community===1.1.0boto3===1.22.4botocore===1.25.4zstd===1.5.2.4wrapt===1.14.0rjsmin===1.1.0setuptools===59.6.0;python_version=='3.6' setuptools===62.1.0;python_version=='3.8',19,20
openstack%2Fneutron~master~I48e4e9021aa883beab975e7dea9f41d2a1d910c1,openstack/neutron,master,I48e4e9021aa883beab975e7dea9f41d2a1d910c1,WIP: CI job for OVS to OVN migration,ABANDONED,2022-04-01 21:03:55.000000000,2022-05-03 03:18:15.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-04-01 21:03:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c13c93c1ef6044f092a3e8e5c45b7cf3257a99cc', 'message': 'WIP: CI job for OVS to OVN migration\n\nA CI job for OVS to OVN migration during Gate stage\n\nChange-Id: I48e4e9021aa883beab975e7dea9f41d2a1d910c1\n'}, {'number': 2, 'created': '2022-04-01 21:14:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e7253e00e7b2a7a7ccbc2f4dbb748ad9cdc7d214', 'message': 'WIP: CI job for OVS to OVN migration\n\nA CI job for OVS to OVN migration during Gate stage\n\nChange-Id: I48e4e9021aa883beab975e7dea9f41d2a1d910c1\n'}, {'number': 3, 'created': '2022-04-05 19:00:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1ee6ca3eb8ad0399b3399c305b6bbeca54c189fd', 'message': 'WIP: CI job for OVS to OVN migration\n\nA CI job for OVS to OVN migration during Gate stage\n\nChange-Id: I48e4e9021aa883beab975e7dea9f41d2a1d910c1\n'}, {'number': 4, 'created': '2022-04-05 19:07:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d55aa0a64a0dfd593efc9ef42b5767ebbc203626', 'message': 'WIP: CI job for OVS to OVN migration\n\nA CI job for OVS to OVN migration during Gate stage\n\nChange-Id: I48e4e9021aa883beab975e7dea9f41d2a1d910c1\n'}, {'number': 5, 'created': '2022-04-05 21:26:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f86f7717da045623195855f35e405659d4112174', 'message': 'WIP: CI job for OVS to OVN migration\n\nA CI job for OVS to OVN migration during Gate stage\n\nChange-Id: I48e4e9021aa883beab975e7dea9f41d2a1d910c1\n'}, {'number': 6, 'created': '2022-04-06 15:34:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b02ceb2bfb294cc2e9c51b4afddfa670db1a3b64', 'message': 'WIP: CI job for OVS to OVN migration\n\nA CI job for OVS to OVN migration during Gate stage\n\nChange-Id: I48e4e9021aa883beab975e7dea9f41d2a1d910c1\n'}, {'number': 7, 'created': '2022-04-06 18:01:36.000000000', 'files': ['zuul.d/tripleo.yaml', 'zuul.d/project.yaml', 'zuul.d/job-templates.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/155196b082d8d8ecf9dfe4e59109cba3f1d21e92', 'message': 'WIP: CI job for OVS to OVN migration\n\nA CI job for OVS to OVN migration during Gate stage\n\nChange-Id: I48e4e9021aa883beab975e7dea9f41d2a1d910c1\n'}]",4,836214,155196b082d8d8ecf9dfe4e59109cba3f1d21e92,25,1,7,34271,,,0,"WIP: CI job for OVS to OVN migration

A CI job for OVS to OVN migration during Gate stage

Change-Id: I48e4e9021aa883beab975e7dea9f41d2a1d910c1
",git fetch https://review.opendev.org/openstack/neutron refs/changes/14/836214/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/tripleo.yaml', 'zuul.d/project.yaml', 'zuul.d/job-templates.yaml']",3,c13c93c1ef6044f092a3e8e5c45b7cf3257a99cc,ci_ovn_migration, # - neutron-functional # - neutron-functional-with-uwsgi-fips # - neutron-functional-with-uwsgi-with-neutron-lib-master # - neutron-fullstack # - neutron-fullstack-with-uwsgi-fips # - neutron-fullstack-with-uwsgi-with-neutron-lib-master # - neutron-ovn-grenade-multinode # - neutron-ovn-grenade-multinode-tick-tick: # voting: false # - neutron-ovn-tempest-with-uwsgi-loki # - neutron-ovn-tempest-full-multinode-ovs-master # - neutron-ovn-tempest-ovs-master # - neutron-ovn-tempest-with-neutron-lib-master # - neutron-ovs-tempest-with-neutron-lib-master # - neutron-ovs-tempest-slow # - neutron-ovn-tempest-slow # - neutron-ovs-tempest-with-os-ken-master # - neutron-ovn-tempest-postgres-full # - neutron-ovn-tempest-mariadb-full # - neutron-ovn-tempest-ovs-release # - neutron-ovn-tempest-ovs-release-ipv6-only # - neutron-ovn-tempest-ovs-master-fedora # - neutron-ovn-tempest-with-neutron-lib-master # - neutron-ovs-tempest-fips # - neutron-ovn-tempest-ovs-release-fips # - devstack-tobiko-neutron: # voting: true # - ironic-tempest-ipa-wholedisk-bios-agent_ipmitool-tinyipa # - openstacksdk-functional-devstack-networking # - tripleo-ci-centos-9-content-provider # - neutron-centos-9-tripleo-standalone: # voting: true # vars: &consumer_vars # consumer_job: true # build_container_images: false # remove_tags: # - build # dependencies: &consumer_deps # - tripleo-ci-centos-9-content-provider # - neutron-ovn-tripleo-ci-centos-9-containers-multinode: # vars: *consumer_vars # dependencies: *consumer_deps # - neutron-linuxbridge-tempest-plugin-scenario-nftables # - neutron-ovs-tempest-plugin-scenario-iptables_hybrid-nftables # - devstack-enforce-scope # FIXME: Move to gate when done with dev - tripleo-ci-ovs-to-ovn-migration, - neutron-functional - neutron-functional-with-uwsgi-fips - neutron-functional-with-uwsgi-with-neutron-lib-master - neutron-fullstack - neutron-fullstack-with-uwsgi-fips - neutron-fullstack-with-uwsgi-with-neutron-lib-master - neutron-ovn-grenade-multinode - neutron-ovn-grenade-multinode-tick-tick: voting: false - neutron-ovn-tempest-with-uwsgi-loki - neutron-ovn-tempest-full-multinode-ovs-master - neutron-ovn-tempest-ovs-master - neutron-ovn-tempest-with-neutron-lib-master - neutron-ovs-tempest-with-neutron-lib-master - neutron-ovs-tempest-slow - neutron-ovn-tempest-slow - neutron-ovs-tempest-with-os-ken-master - neutron-ovn-tempest-postgres-full - neutron-ovn-tempest-mariadb-full - neutron-ovn-tempest-ovs-release - neutron-ovn-tempest-ovs-release-ipv6-only - neutron-ovn-tempest-ovs-master-fedora - neutron-ovn-tempest-with-neutron-lib-master - neutron-ovs-tempest-fips - neutron-ovn-tempest-ovs-release-fips - devstack-tobiko-neutron: voting: true - ironic-tempest-ipa-wholedisk-bios-agent_ipmitool-tinyipa - openstacksdk-functional-devstack-networking - tripleo-ci-centos-9-content-provider - neutron-centos-9-tripleo-standalone: voting: true vars: &consumer_vars consumer_job: true build_container_images: false remove_tags: - build dependencies: &consumer_deps - tripleo-ci-centos-9-content-provider - neutron-ovn-tripleo-ci-centos-9-containers-multinode: vars: *consumer_vars dependencies: *consumer_deps - neutron-linuxbridge-tempest-plugin-scenario-nftables - neutron-ovs-tempest-plugin-scenario-iptables_hybrid-nftables - devstack-enforce-scope,78,65
openstack%2Fcinder~master~I58ff10d212283b032cabf623021d3955111ff8f0,openstack/cinder,master,I58ff10d212283b032cabf623021d3955111ff8f0,Added documentation about backup_file_size about memory usage,MERGED,2021-12-07 17:37:04.000000000,2022-05-03 02:59:37.000000000,2022-05-02 07:21:35.000000000,"[{'_account_id': 5314}, {'_account_id': 20813}, {'_account_id': 22348}, {'_account_id': 27615}, {'_account_id': 32029}]","[{'number': 1, 'created': '2021-12-07 17:37:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/e219c5a9bbc982765e0b62c2fda40f109bac96b9', 'message': ""Added documentation about backup_file_size about memory usage\n\nI just spent a while chasing phantom OOM crashes in the backup\nagent; I'm hoping this comment will help future users avoid\nmy problem.\n\nChange-Id: I58ff10d212283b032cabf623021d3955111ff8f0\n""}, {'number': 2, 'created': '2022-04-14 19:21:13.000000000', 'files': ['doc/source/admin/volume-backups.rst', 'cinder/backup/drivers/posix.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/b661d115f5011cf51095e698c68acc4ab5440011', 'message': ""Added documentation about backup_file_size about memory usage\n\nI just spent a while chasing phantom OOM crashes in the backup\nagent; I'm hoping this comment will help future users avoid\nmy problem.\n\nChange-Id: I58ff10d212283b032cabf623021d3955111ff8f0\n""}]",3,820918,b661d115f5011cf51095e698c68acc4ab5440011,55,5,2,12932,,,0,"Added documentation about backup_file_size about memory usage

I just spent a while chasing phantom OOM crashes in the backup
agent; I'm hoping this comment will help future users avoid
my problem.

Change-Id: I58ff10d212283b032cabf623021d3955111ff8f0
",git fetch https://review.opendev.org/openstack/cinder refs/changes/18/820918/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/admin/blockstorage-volume-backups.rst', 'cinder/backup/drivers/posix.py']",2,e219c5a9bbc982765e0b62c2fda40f109bac96b9,docs," 'size, then it will be backed up into multiple files. ' 'backup_file_size also determines the buffer size ' 'used to build backup files, so should be scaled ' 'according to available RAM and number of workers. '"," 'size, then it will be backed up into multiple files.'",7,2
openstack%2Fopenstack-zuul-jobs~master~Ic21488249b004329bee149c03bae550118b97188,openstack/openstack-zuul-jobs,master,Ic21488249b004329bee149c03bae550118b97188,openafs: don't create non -stream directory for arm64,MERGED,2022-05-03 01:27:55.000000000,2022-05-03 02:18:51.000000000,2022-05-03 02:09:24.000000000,"[{'_account_id': 5263}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-03 01:27:55.000000000', 'files': ['playbooks/openafs-rpm-package-build/publish.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/164b4e29a41b458d95aeefe88ff861ea0792c05e', 'message': 'openafs: don\'t create non -stream directory for arm64\n\nI copied this wrong, we are just having a ""9-stream"" directory to be\nclear about what it is.\n\nChange-Id: Ic21488249b004329bee149c03bae550118b97188\n'}]",0,840259,164b4e29a41b458d95aeefe88ff861ea0792c05e,7,2,1,7118,,,0,"openafs: don't create non -stream directory for arm64

I copied this wrong, we are just having a ""9-stream"" directory to be
clear about what it is.

Change-Id: Ic21488249b004329bee149c03bae550118b97188
",git fetch https://review.opendev.org/openstack/openstack-zuul-jobs refs/changes/59/840259/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/openafs-rpm-package-build/publish.yaml'],1,164b4e29a41b458d95aeefe88ff861ea0792c05e,openafs-centos9,, - name: Extract centos 9 arm64 unarchive: src: '{{ zuul.executor.work_root }}/openafs-rpms.tar.gz' # Keep this old path for backward compat dest: '{{ zuul.executor.work_root }}/artifacts/openafs/centos9' ,0,6
openstack%2Ftripleo-ansible~master~Ic4ddbaba8aa8ca9501a00f5e4741fef73ba35b9d,openstack/tripleo-ansible,master,Ic4ddbaba8aa8ca9501a00f5e4741fef73ba35b9d,Ensure the dependent service is started in advance,MERGED,2022-04-26 04:01:01.000000000,2022-05-03 01:24:07.000000000,2022-05-03 01:24:07.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-04-26 04:01:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/e10597e3bcb7a568fc406c07cf24262e2bc04083', 'message': ""Ensure the dependent service is started in advance\n\nCurrently when dependent service is defined using the depends_on key,\ntripleo-ansible adds 'Wants' so that the dependent service is also\nstarted. However this attribute does not guarantee that the dependent\nservice is started BEFORE the target service is started.\n\nBecause current usage of depends_on expect the dependent service is\nstarted before the target service, this change adds 'After' so that\nthe ordering is properly enforced.\n\nCloses-Bug: #1970354\nChange-Id: Ic4ddbaba8aa8ca9501a00f5e4741fef73ba35b9d\n""}, {'number': 2, 'created': '2022-04-26 06:51:04.000000000', 'files': ['tripleo_ansible/roles/tripleo_container_manage/templates/systemd-service.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/2f09033fcb5f1d6623d17ad402d06cea4838f35d', 'message': ""Ensure the dependent service is started in advance\n\nCurrently when dependent service is defined using the depends_on key,\ntripleo-ansible adds 'Wants' so that the dependent service is also\nstarted. However this attribute does not guarantee that the dependent\nservice is started BEFORE the target service is started.\n\nBecause current usage of depends_on expect the dependent service is\nstarted before the target service, this change adds 'After' so that\nthe ordering is properly enforced.\n\nCloses-Bug: #1970354\nChange-Id: Ic4ddbaba8aa8ca9501a00f5e4741fef73ba35b9d\n""}]",0,839295,2f09033fcb5f1d6623d17ad402d06cea4838f35d,12,5,2,9816,,,0,"Ensure the dependent service is started in advance

Currently when dependent service is defined using the depends_on key,
tripleo-ansible adds 'Wants' so that the dependent service is also
started. However this attribute does not guarantee that the dependent
service is started BEFORE the target service is started.

Because current usage of depends_on expect the dependent service is
started before the target service, this change adds 'After' so that
the ordering is properly enforced.

Closes-Bug: #1970354
Change-Id: Ic4ddbaba8aa8ca9501a00f5e4741fef73ba35b9d
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/95/839295/2 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo_container_manage/templates/systemd-service.j2'],1,e10597e3bcb7a568fc406c07cf24262e2bc04083,bug/1970354,"{% if lookup('dict', container_data_unit).value.depends_on | default([]) | length > 0 %} After={{ lookup('dict', container_data_unit).value.depends_on | default([]) | join(',') }}{% end %}",,3,0
openstack%2Fopenstack-zuul-jobs~master~Id81490d34bcef18792c4b938893bf5168900d98f,openstack/openstack-zuul-jobs,master,Id81490d34bcef18792c4b938893bf5168900d98f,openafs: add 9-stream ARM64 builds,MERGED,2022-05-02 23:55:21.000000000,2022-05-03 01:23:10.000000000,2022-05-03 01:20:37.000000000,"[{'_account_id': 7118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-02 23:55:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/b615a8912b7a0c95a43f581f4ce6444063808338', 'message': 'openafs: add 9-stream ARM64 builds\n\nChange-Id: Id81490d34bcef18792c4b938893bf5168900d98f\n'}, {'number': 2, 'created': '2022-05-03 00:13:37.000000000', 'files': ['zuul.d/project.yaml', 'zuul.d/jobs.yaml', 'playbooks/openafs-rpm-package-build/publish.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/a27a266f314478b442ecfa027ac15abf2cf3c303', 'message': 'openafs: add 9-stream ARM64 builds\n\nDepends-On: https://review.opendev.org/c/opendev/base-jobs/+/840255\nChange-Id: Id81490d34bcef18792c4b938893bf5168900d98f\n'}]",6,840253,a27a266f314478b442ecfa027ac15abf2cf3c303,13,2,2,7118,,,0,"openafs: add 9-stream ARM64 builds

Depends-On: https://review.opendev.org/c/opendev/base-jobs/+/840255
Change-Id: Id81490d34bcef18792c4b938893bf5168900d98f
",git fetch https://review.opendev.org/openstack/openstack-zuul-jobs refs/changes/53/840253/2 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/project.yaml', 'zuul.d/jobs.yaml', 'playbooks/openafs-rpm-package-build/publish.yaml']",3,b615a8912b7a0c95a43f581f4ce6444063808338,openafs-centos9," - name: Download centos 9 arm64 artifact include_role: name: download-artifact vars: download_artifact_api: ""https://zuul.opendev.org/api/tenant/{{ zuul.tenant }}"" download_artifact_type: rpm.tar.gz download_artifact_pipeline: gate download_artifact_job: openafs-rpm-package-build-centos-9-stream-arm64 download_artifact_directory: '{{ zuul.executor.work_root }}' - name: Extract centos 9 arm64 unarchive: src: '{{ zuul.executor.work_root }}/openafs-rpms.tar.gz' # Keep this old path for backward compat dest: '{{ zuul.executor.work_root }}/artifacts/openafs/centos9' - name: Extract centos 9 arm64 stream unarchive: src: '{{ zuul.executor.work_root }}/openafs-rpms.tar.gz' dest: '{{ zuul.executor.work_root }}/artifacts/openafs/centos9-stream' - name: Remove artifact file: state: absent path: '{{ zuul.executor.work_root }}/openafs-rpms.tar.gz'",,32,0
openstack%2Fneutron-tempest-plugin~master~If2df2a0a3c6f8209a2e2d8d59a152bf3d685b0f1,openstack/neutron-tempest-plugin,master,If2df2a0a3c6f8209a2e2d8d59a152bf3d685b0f1,[bgpvpn] Remove get_remote_client,MERGED,2022-04-13 06:39:37.000000000,2022-05-03 00:11:57.000000000,2022-05-03 00:11:57.000000000,"[{'_account_id': 4694}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-13 06:39:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/b96ade373f6e021a66a9c17517a1cc1b9d765058', 'message': ""[bgpvpn] Remove get_remote_client\n\nAs tempest.scenario.manager was announced stable interface in Tempest\n27.0.0[1] it can be now reused in plugins.\n\nReplaced methods:\n    * get_remote_client\n\nThere is a slight difference between tempest's\nget_remote_client and the deleted one. See related\npatch[2].\n\nEtherpad concerning this effort:\nhttps://etherpad.opendev.org/p/tempest-scenario-manager-cleanup\n\n[1] https://docs.openstack.org/releasenotes/tempest/v27.0.0.html#release-notes-27-0-0\n[2] https://opendev.org/openstack/tempest/commit/f52c759e5cc6da962ad63831c55dc140d05a2373\n\nChange-Id: If2df2a0a3c6f8209a2e2d8d59a152bf3d685b0f1\n""}, {'number': 2, 'created': '2022-04-13 07:04:23.000000000', 'files': ['neutron_tempest_plugin/bgpvpn/scenario/manager.py', 'neutron_tempest_plugin/bgpvpn/scenario/test_bgpvpn_basic.py'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/2ef30675e524ac2a0b0b9505ac479fea89b1db4d', 'message': ""[bgpvpn] Remove get_remote_client\n\nAs tempest.scenario.manager was announced stable interface in Tempest\n27.0.0[1] it can be now reused in plugins.\n\nReplaced methods:\n    * get_remote_client\n\nThere is a slight difference between tempest's\nget_remote_client and the deleted one. See related\npatch[2].\n\nEtherpad concerning this effort:\nhttps://etherpad.opendev.org/p/tempest-scenario-manager-cleanup\n\n[1] https://docs.openstack.org/releasenotes/tempest/v27.0.0.html#release-notes-27-0-0\n[2] https://opendev.org/openstack/tempest/commit/f52c759e5cc6da962ad63831c55dc140d05a2373\n\nChange-Id: If2df2a0a3c6f8209a2e2d8d59a152bf3d685b0f1\n""}]",1,837663,2ef30675e524ac2a0b0b9505ac479fea89b1db4d,12,3,2,33732,,,0,"[bgpvpn] Remove get_remote_client

As tempest.scenario.manager was announced stable interface in Tempest
27.0.0[1] it can be now reused in plugins.

Replaced methods:
    * get_remote_client

There is a slight difference between tempest's
get_remote_client and the deleted one. See related
patch[2].

Etherpad concerning this effort:
https://etherpad.opendev.org/p/tempest-scenario-manager-cleanup

[1] https://docs.openstack.org/releasenotes/tempest/v27.0.0.html#release-notes-27-0-0
[2] https://opendev.org/openstack/tempest/commit/f52c759e5cc6da962ad63831c55dc140d05a2373

Change-Id: If2df2a0a3c6f8209a2e2d8d59a152bf3d685b0f1
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/63/837663/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_tempest_plugin/bgpvpn/scenario/manager.py', 'neutron_tempest_plugin/bgpvpn/scenario/test_bgpvpn_basic.py']",2,b96ade373f6e021a66a9c17517a1cc1b9d765058,tempest-scenario-manager-cleanup," private_key=private_key, server=server)", private_key=private_key),2,46
openstack%2Fneutron-tempest-plugin~master~I190f637db14555d5a4d2d579a53b625e446470db,openstack/neutron-tempest-plugin,master,I190f637db14555d5a4d2d579a53b625e446470db,[bgpvpn] Remove setup_clients method,MERGED,2022-04-12 09:47:08.000000000,2022-05-03 00:11:55.000000000,2022-05-03 00:11:55.000000000,"[{'_account_id': 4694}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-12 09:47:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/1730a55225f5196a14121a7303701bb572128da3', 'message': '[bgpvpn] Remove setup_clients method\n\nAs tempest.scenario.manager was announced stable interface in Tempest\n27.0.0[1] it can be now reused in plugins.\n\nReplaced methods:\n    * setup_clients\n\nEtherpad concerning this effort:\nhttps://etherpad.opendev.org/p/tempest-scenario-manager-cleanup\n\n[1] https://docs.openstack.org/releasenotes/tempest/v27.0.0.html#release-notes-27-0-0\n\nChange-Id: I190f637db14555d5a4d2d579a53b625e446470db\n'}, {'number': 2, 'created': '2022-04-12 10:17:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/07f9af38fdb008a71e3e1470e9642ec3462d0bbe', 'message': '[bgpvpn] Remove setup_clients method\n\nAs tempest.scenario.manager was announced stable interface in Tempest\n27.0.0[1] it can be now reused in plugins.\n\nReplaced methods:\n    * setup_clients\n\nEtherpad concerning this effort:\nhttps://etherpad.opendev.org/p/tempest-scenario-manager-cleanup\n\n[1] https://docs.openstack.org/releasenotes/tempest/v27.0.0.html#release-notes-27-0-0\n\nChange-Id: I190f637db14555d5a4d2d579a53b625e446470db\n'}, {'number': 3, 'created': '2022-04-12 11:33:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/b0591bd9a1562cfb835f2a47a08fc340ad35640c', 'message': '[bgpvpn] Remove setup_clients method\n\nAs tempest.scenario.manager was announced stable interface in Tempest\n27.0.0[1] it can be now reused in plugins.\n\nReplaced methods:\n    * setup_clients\n\nEtherpad concerning this effort:\nhttps://etherpad.opendev.org/p/tempest-scenario-manager-cleanup\n\n[1] https://docs.openstack.org/releasenotes/tempest/v27.0.0.html#release-notes-27-0-0\n\nChange-Id: I190f637db14555d5a4d2d579a53b625e446470db\n'}, {'number': 4, 'created': '2022-04-13 06:39:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/1d7963f83a80249d02fbaf5394697c1f7e291475', 'message': '[bgpvpn] Remove setup_clients method\n\nAs tempest.scenario.manager was announced stable interface in Tempest\n27.0.0[1] it can be now reused in plugins.\n\nReplaced methods:\n    * setup_clients\n\nEtherpad concerning this effort:\nhttps://etherpad.opendev.org/p/tempest-scenario-manager-cleanup\n\n[1] https://docs.openstack.org/releasenotes/tempest/v27.0.0.html#release-notes-27-0-0\n\nChange-Id: I190f637db14555d5a4d2d579a53b625e446470db\n'}, {'number': 5, 'created': '2022-04-13 07:03:54.000000000', 'files': ['neutron_tempest_plugin/bgpvpn/scenario/manager.py'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/c96f065ff1f60fef212ccf334b68ebd2e9de7c50', 'message': '[bgpvpn] Remove setup_clients method\n\nAs tempest.scenario.manager was announced stable interface in Tempest\n27.0.0[1] it can be now reused in plugins.\n\nReplaced methods:\n    * setup_clients\n\nEtherpad concerning this effort:\nhttps://etherpad.opendev.org/p/tempest-scenario-manager-cleanup\n\n[1] https://docs.openstack.org/releasenotes/tempest/v27.0.0.html#release-notes-27-0-0\n\nChange-Id: I190f637db14555d5a4d2d579a53b625e446470db\n'}]",1,837517,c96f065ff1f60fef212ccf334b68ebd2e9de7c50,15,3,5,33732,,,0,"[bgpvpn] Remove setup_clients method

As tempest.scenario.manager was announced stable interface in Tempest
27.0.0[1] it can be now reused in plugins.

Replaced methods:
    * setup_clients

Etherpad concerning this effort:
https://etherpad.opendev.org/p/tempest-scenario-manager-cleanup

[1] https://docs.openstack.org/releasenotes/tempest/v27.0.0.html#release-notes-27-0-0

Change-Id: I190f637db14555d5a4d2d579a53b625e446470db
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/17/837517/2 && git format-patch -1 --stdout FETCH_HEAD,['neutron_tempest_plugin/bgpvpn/scenario/manager.py'],1,1730a55225f5196a14121a7303701bb572128da3,tempest-scenario-manager-cleanup,," @classmethod def setup_clients(cls): super(ScenarioTest, cls).setup_clients() # Clients (in alphabetical order) cls.keypairs_client = cls.os_primary.keypairs_client cls.servers_client = cls.os_primary.servers_client # Neutron network client cls.networks_client = cls.os_primary.networks_client cls.ports_client = cls.os_primary.ports_client cls.routers_client = cls.os_primary.routers_client cls.subnets_client = cls.os_primary.subnets_client cls.floating_ips_client = cls.os_primary.floating_ips_client cls.security_groups_client = cls.os_primary.security_groups_client cls.security_group_rules_client = ( cls.os_primary.security_group_rules_client) ",0,16
openstack%2Fneutron-tempest-plugin~master~I6015457971858737e861f5fccc56dfe6ec2b9c77,openstack/neutron-tempest-plugin,master,I6015457971858737e861f5fccc56dfe6ec2b9c77,[bgpvpn] Replace security groups related methods,MERGED,2022-04-12 09:41:05.000000000,2022-05-03 00:11:53.000000000,2022-05-03 00:11:53.000000000,"[{'_account_id': 4694}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-12 09:41:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/2630fca6d5302ddd37a0fd5515cd956198356f9f', 'message': ""[bgpvpn] Replace security groups related methods\n\nAs tempest.scenario.manager was announced stable interface in Tempest\n27.0.0[1] it can be now reused in plugins.\n\nReplaced methods:\n    * _create_empty_security_group\n    * _default_security_group (doesn't exist in tempest anymore)\n    * _create_security_group_rule\n\ncreate_loginable_secgroup_rule can't be replaced just yet[2].\n\nEtherpad concerning this effort:\nhttps://etherpad.opendev.org/p/tempest-scenario-manager-cleanup\n\n[1] https://docs.openstack.org/releasenotes/tempest/v27.0.0.html#release-notes-27-0-0\n[2] https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/837511\n\nChange-Id: I6015457971858737e861f5fccc56dfe6ec2b9c77\n""}, {'number': 2, 'created': '2022-04-12 10:17:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/67bbeb6465d7996aa750d01a1068ba086a56c1fc', 'message': ""[bgpvpn] Replace security groups related methods\n\nAs tempest.scenario.manager was announced stable interface in Tempest\n27.0.0[1] it can be now reused in plugins.\n\nReplaced methods:\n    * _create_empty_security_group\n    * _default_security_group (doesn't exist in tempest anymore)\n    * _create_security_group_rule\n\ncreate_loginable_secgroup_rule can't be replaced just yet[2].\n\nEtherpad concerning this effort:\nhttps://etherpad.opendev.org/p/tempest-scenario-manager-cleanup\n\n[1] https://docs.openstack.org/releasenotes/tempest/v27.0.0.html#release-notes-27-0-0\n[2] https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/837511\n\nChange-Id: I6015457971858737e861f5fccc56dfe6ec2b9c77\n""}, {'number': 3, 'created': '2022-04-12 11:31:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/92fdf8c49364701469dceb9ca024ba33ec331db1', 'message': ""[bgpvpn] Replace security groups related methods\n\nAs tempest.scenario.manager was announced stable interface in Tempest\n27.0.0[1] it can be now reused in plugins.\n\nReplaced methods:\n    * _create_empty_security_group\n    * _default_security_group (doesn't exist in tempest anymore)\n    * _create_security_group_rule\n\ncreate_loginable_secgroup_rule can't be replaced just yet[2].\n\nEtherpad concerning this effort:\nhttps://etherpad.opendev.org/p/tempest-scenario-manager-cleanup\n\n[1] https://docs.openstack.org/releasenotes/tempest/v27.0.0.html#release-notes-27-0-0\n[2] https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/837511\n\nChange-Id: I6015457971858737e861f5fccc56dfe6ec2b9c77\n""}, {'number': 4, 'created': '2022-04-12 11:33:31.000000000', 'files': ['neutron_tempest_plugin/bgpvpn/scenario/manager.py', 'neutron_tempest_plugin/bgpvpn/scenario/test_bgpvpn_basic.py'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/46d4dda4a0c8964a6690918b14fcf17d7f70c6bd', 'message': ""[bgpvpn] Replace security groups related methods\n\nAs tempest.scenario.manager was announced stable interface in Tempest\n27.0.0[1] it can be now reused in plugins.\n\nReplaced methods:\n    * _create_empty_security_group\n    * _default_security_group (doesn't exist in tempest anymore)\n    * _create_security_group_rule\n\ncreate_loginable_secgroup_rule can't be replaced just yet[2].\n\nEtherpad concerning this effort:\nhttps://etherpad.opendev.org/p/tempest-scenario-manager-cleanup\n\n[1] https://docs.openstack.org/releasenotes/tempest/v27.0.0.html#release-notes-27-0-0\n[2] https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/837511\n\nChange-Id: I6015457971858737e861f5fccc56dfe6ec2b9c77\n""}]",2,837513,46d4dda4a0c8964a6690918b14fcf17d7f70c6bd,16,3,4,33732,,,0,"[bgpvpn] Replace security groups related methods

As tempest.scenario.manager was announced stable interface in Tempest
27.0.0[1] it can be now reused in plugins.

Replaced methods:
    * _create_empty_security_group
    * _default_security_group (doesn't exist in tempest anymore)
    * _create_security_group_rule

create_loginable_secgroup_rule can't be replaced just yet[2].

Etherpad concerning this effort:
https://etherpad.opendev.org/p/tempest-scenario-manager-cleanup

[1] https://docs.openstack.org/releasenotes/tempest/v27.0.0.html#release-notes-27-0-0
[2] https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/837511

Change-Id: I6015457971858737e861f5fccc56dfe6ec2b9c77
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/13/837513/3 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_tempest_plugin/bgpvpn/scenario/manager.py', 'neutron_tempest_plugin/bgpvpn/scenario/test_bgpvpn_basic.py']",2,2630fca6d5302ddd37a0fd5515cd956198356f9f,tempest-scenario-manager-cleanup, self.security_group = self.create_security_group(, self.security_group = self._create_security_group(,2,117
openstack%2Fneutron-tempest-plugin~master~Ia2f8eed6da612bc88c9b9eb48873dcc11b309f42,openstack/neutron-tempest-plugin,master,Ia2f8eed6da612bc88c9b9eb48873dcc11b309f42,[bgpvpn] Make _create_loginable_secgroup_rule public,MERGED,2022-04-12 09:33:45.000000000,2022-05-03 00:11:50.000000000,2022-05-03 00:11:50.000000000,"[{'_account_id': 4694}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-12 09:33:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/d79c7ac15f2201e4bc3fb4bc0db6b75a3aee1551', 'message': ""Make _create_loginable_secgroup_rule public\n\nAs tempest.scenario.manager was announced stable interface in Tempest\n27.0.0[1] it can be now reused in plugins.\n\n_create_loginable_secgroup method isn't ready to be deleted yet, because its rulesets differs from tempest's.\nThis method will be public now, so replaced methods will use this method over the tempest's one.\nTempest didn't allow to modify rulesets, but patch that allows this is already merged[2].\nIn some time, this plugin's implementation will be replaced\n\nEtherpad concerning this effort:\nhttps://etherpad.opendev.org/p/tempest-scenario-manager-cleanup\n\n[1] https://docs.openstack.org/releasenotes/tempest/v27.0.0.html#release-notes-27-0-0\n[2] https://review.opendev.org/c/openstack/tempest/+/835018\n\nChange-Id: Ia2f8eed6da612bc88c9b9eb48873dcc11b309f42\n""}, {'number': 2, 'created': '2022-04-12 09:36:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/5388796030f0983f5be29bf1d9f4cb71c7958e80', 'message': ""[bgpvpn] Make _create_loginable_secgroup_rule public\n\nAs tempest.scenario.manager was announced stable interface in Tempest\n27.0.0[1] it can be now reused in plugins.\n\n_create_loginable_secgroup method isn't ready to be deleted yet, because its rulesets differs from tempest's.\nThis method will be public now, so replaced methods will use this method over the tempest's one.\nTempest didn't allow to modify rulesets, but patch that allows this is already merged[2].\nIn some time, this plugin's implementation will be replaced\n\nEtherpad concerning this effort:\nhttps://etherpad.opendev.org/p/tempest-scenario-manager-cleanup\n\n[1] https://docs.openstack.org/releasenotes/tempest/v27.0.0.html#release-notes-27-0-0\n[2] https://review.opendev.org/c/openstack/tempest/+/835018\n\nChange-Id: Ia2f8eed6da612bc88c9b9eb48873dcc11b309f42\n""}, {'number': 3, 'created': '2022-04-12 10:17:41.000000000', 'files': ['neutron_tempest_plugin/bgpvpn/scenario/manager.py'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/8235e3b5198c3af40cf2c7c797c8beb028814e80', 'message': ""[bgpvpn] Make _create_loginable_secgroup_rule public\n\nAs tempest.scenario.manager was announced stable interface in Tempest\n27.0.0[1] it can be now reused in plugins.\n\n_create_loginable_secgroup method isn't ready to be deleted yet, because its rulesets differs from tempest's.\nThis method will be public now, so replaced methods will use this method over the tempest's one.\nTempest didn't allow to modify rulesets, but patch that allows this is already merged[2].\nIn some time, this plugin's implementation will be replaced\n\nEtherpad concerning this effort:\nhttps://etherpad.opendev.org/p/tempest-scenario-manager-cleanup\n\n[1] https://docs.openstack.org/releasenotes/tempest/v27.0.0.html#release-notes-27-0-0\n[2] https://review.opendev.org/c/openstack/tempest/+/835018\n\nChange-Id: Ia2f8eed6da612bc88c9b9eb48873dcc11b309f42\n""}]",0,837511,8235e3b5198c3af40cf2c7c797c8beb028814e80,10,3,3,33732,,,0,"[bgpvpn] Make _create_loginable_secgroup_rule public

As tempest.scenario.manager was announced stable interface in Tempest
27.0.0[1] it can be now reused in plugins.

_create_loginable_secgroup method isn't ready to be deleted yet, because its rulesets differs from tempest's.
This method will be public now, so replaced methods will use this method over the tempest's one.
Tempest didn't allow to modify rulesets, but patch that allows this is already merged[2].
In some time, this plugin's implementation will be replaced

Etherpad concerning this effort:
https://etherpad.opendev.org/p/tempest-scenario-manager-cleanup

[1] https://docs.openstack.org/releasenotes/tempest/v27.0.0.html#release-notes-27-0-0
[2] https://review.opendev.org/c/openstack/tempest/+/835018

Change-Id: Ia2f8eed6da612bc88c9b9eb48873dcc11b309f42
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/11/837511/3 && git format-patch -1 --stdout FETCH_HEAD,['neutron_tempest_plugin/bgpvpn/scenario/manager.py'],1,d79c7ac15f2201e4bc3fb4bc0db6b75a3aee1551,tempest-scenario-manager-cleanup," rules = self.create_loginable_secgroup_rule( def create_loginable_secgroup_rule(self, security_group_rules_client=None, secgroup=None, security_groups_client=None):"," rules = self._create_loginable_secgroup_rule( def _create_loginable_secgroup_rule(self, security_group_rules_client=None, secgroup=None, security_groups_client=None):",4,4
openstack%2Fswift~master~I59488f3ecdc348027f35968e4a4e2d53d3f15e56,openstack/swift,master,I59488f3ecdc348027f35968e4a4e2d53d3f15e56,patch pyeclib logger lock too,NEW,2022-05-02 21:51:51.000000000,2022-05-03 00:08:41.000000000,,"[{'_account_id': 1179}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-02 21:51:51.000000000', 'files': ['swift/common/utils.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/4eb2316e6cd41dde9a84a2da0e5c2c72202d03b4', 'message': 'patch pyeclib logger lock too\n\nChange-Id: I59488f3ecdc348027f35968e4a4e2d53d3f15e56\n'}]",4,840249,4eb2316e6cd41dde9a84a2da0e5c2c72202d03b4,5,2,1,1179,,,0,"patch pyeclib logger lock too

Change-Id: I59488f3ecdc348027f35968e4a4e2d53d3f15e56
",git fetch https://review.opendev.org/openstack/swift refs/changes/49/840249/1 && git format-patch -1 --stdout FETCH_HEAD,['swift/common/utils.py'],1,4eb2316e6cd41dde9a84a2da0e5c2c72202d03b4,fix-logging, # explicitly patch some logging locks pyeclib.ec_iface.syslog_handler.lock = logging.threading.RLock(), # explicitly patch the logging lock,2,1
openstack%2Fneutron~master~If17736114adedf44b502fd7c91423a7822d7170b,openstack/neutron,master,If17736114adedf44b502fd7c91423a7822d7170b,Drop lower-constraints.txt and its testing,MERGED,2022-05-01 01:25:45.000000000,2022-05-03 00:01:05.000000000,2022-05-02 23:58:47.000000000,"[{'_account_id': 4694}, {'_account_id': 8313}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-01 01:25:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7df31cb36b2371a33ab3960103deefaa932d3263', 'message': 'Drop lower-constraints.txt and its testing\n\nAs discussed in TC PTG[1] and TC resolution[2], we are\ndropping the lower-constraints.txt file and its testing.\nWe will keep lower bounds in the requirements.txt file but\nwith a note that these are not tested lower bounds and we\ntry our best to keep them updated.\n\n[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326\n[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal\n\nChange-Id: If17736114adedf44b502fd7c91423a7822d7170b\n'}, {'number': 2, 'created': '2022-05-02 18:02:06.000000000', 'files': ['requirements.txt', 'lower-constraints.txt', 'zuul.d/project.yaml', 'TESTING.rst', 'tox.ini', 'zuul.d/job-templates.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/bc8e512b4a7b68f2e5c31efd320d8b347d06bba0', 'message': 'Drop lower-constraints.txt and its testing\n\nAs discussed in TC PTG[1] and TC resolution[2], we are\ndropping the lower-constraints.txt file and its testing.\nWe will keep lower bounds in the requirements.txt file but\nwith a note that these are not tested lower bounds and we\ntry our best to keep them updated.\n\n[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326\n[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal\n\nChange-Id: If17736114adedf44b502fd7c91423a7822d7170b\n'}]",9,840087,bc8e512b4a7b68f2e5c31efd320d8b347d06bba0,18,3,2,8556,,,0,"Drop lower-constraints.txt and its testing

As discussed in TC PTG[1] and TC resolution[2], we are
dropping the lower-constraints.txt file and its testing.
We will keep lower bounds in the requirements.txt file but
with a note that these are not tested lower bounds and we
try our best to keep them updated.

[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326
[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal

Change-Id: If17736114adedf44b502fd7c91423a7822d7170b
",git fetch https://review.opendev.org/openstack/neutron refs/changes/87/840087/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'lower-constraints.txt', 'zuul.d/project.yaml', 'tox.ini']",4,7df31cb36b2371a33ab3960103deefaa932d3263,drop-l-c,,"[testenv:lower-constraints] setenv = OS_TEST_TIMEOUT={env:OS_TEST_TIMEOUT:60} deps = -c{toxinidir}/lower-constraints.txt -r{toxinidir}/test-requirements.txt -r{toxinidir}/requirements.txt hacking>=3.0.1,<3.1.0 # Apache-2.0 ",4,148
openstack%2Fneutron-tempest-plugin~master~I1490b2f9ab4972a6fcedc87868d5c444677d9096,openstack/neutron-tempest-plugin,master,I1490b2f9ab4972a6fcedc87868d5c444677d9096,[bgpvpn] Remove _get_server_port_id_and_ip4 & create_floating_ip,MERGED,2022-04-12 09:16:05.000000000,2022-05-02 23:59:03.000000000,2022-05-02 23:59:03.000000000,"[{'_account_id': 4694}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-12 09:16:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/40b7c5ec74c7bb63eeeae0b2fb4bc5f2776ff021', 'message': '[bgpvpn] Remove _get_server_port_id_and_ip4 & check_floating_ip\n\nAs tempest.scenario.manager was announced stable interface in Tempest\n27.0.0[1] it can be now reused in plugins.\n\nReplaced methods:\n    * _get_server_port_id_and_ip4\n    * check_floating_ip\n\nEtherpad concerning this effort:\nhttps://etherpad.opendev.org/p/tempest-scenario-manager-cleanup\n\n[1] https://docs.openstack.org/releasenotes/tempest/v27.0.0.html#release-notes-27-0-0\n\nChange-Id: I1490b2f9ab4972a6fcedc87868d5c444677d9096\n'}, {'number': 2, 'created': '2022-04-12 10:17:32.000000000', 'files': ['neutron_tempest_plugin/bgpvpn/scenario/manager.py'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/1d9e28bd2aaac8abb89708d7a3b1760daed3432b', 'message': '[bgpvpn] Remove _get_server_port_id_and_ip4 & create_floating_ip\n\nAs tempest.scenario.manager was announced stable interface in Tempest\n27.0.0[1] it can be now reused in plugins.\n\nReplaced methods:\n    * _get_server_port_id_and_ip4\n    * create_floating_ip\n\nEtherpad concerning this effort:\nhttps://etherpad.opendev.org/p/tempest-scenario-manager-cleanup\n\n[1] https://docs.openstack.org/releasenotes/tempest/v27.0.0.html#release-notes-27-0-0\n\nChange-Id: I1490b2f9ab4972a6fcedc87868d5c444677d9096\n'}]",0,837508,1d9e28bd2aaac8abb89708d7a3b1760daed3432b,9,3,2,33732,,,0,"[bgpvpn] Remove _get_server_port_id_and_ip4 & create_floating_ip

As tempest.scenario.manager was announced stable interface in Tempest
27.0.0[1] it can be now reused in plugins.

Replaced methods:
    * _get_server_port_id_and_ip4
    * create_floating_ip

Etherpad concerning this effort:
https://etherpad.opendev.org/p/tempest-scenario-manager-cleanup

[1] https://docs.openstack.org/releasenotes/tempest/v27.0.0.html#release-notes-27-0-0

Change-Id: I1490b2f9ab4972a6fcedc87868d5c444677d9096
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/08/837508/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron_tempest_plugin/bgpvpn/scenario/manager.py'],1,40b7c5ec74c7bb63eeeae0b2fb4bc5f2776ff021,tempest-scenario-manager-cleanup,,"from oslo_utils import netutils def _get_server_port_id_and_ip4(self, server, ip_addr=None): ports = self.os_admin.ports_client.list_ports( device_id=server['id'], fixed_ip=ip_addr)['ports'] # A port can have more than one IP address in some cases. # If the network is dual-stack (IPv4 + IPv6), this port is associated # with 2 subnets p_status = ['ACTIVE'] # NOTE(vsaienko) With Ironic, instances live on separate hardware # servers. Neutron does not bind ports for Ironic instances, as a # result the port remains in the DOWN state. # TODO(vsaienko) remove once bug: #1599836 is resolved. if getattr(CONF.service_available, 'ironic', False): p_status.append('DOWN') port_map = [(p[""id""], fxip[""ip_address""]) for p in ports for fxip in p[""fixed_ips""] if netutils.is_valid_ipv4(fxip[""ip_address""]) and p['status'] in p_status] inactive = [p for p in ports if p['status'] != 'ACTIVE'] if inactive: LOG.warning(""Instance has ports that are not ACTIVE: %s"", inactive) self.assertNotEqual(0, len(port_map), ""No IPv4 addresses found in: %s"" % ports) self.assertEqual(len(port_map), 1, ""Found multiple IPv4 addresses: %s. "" ""Unable to determine which port to target."" % port_map) return port_map[0] def create_floating_ip(self, thing, external_network_id=None, port_id=None, client=None): """"""Create a floating IP and associates to a resource/port on Neutron"""""" if not external_network_id: external_network_id = CONF.network.public_network_id if not client: client = self.floating_ips_client if not port_id: port_id, ip4 = self._get_server_port_id_and_ip4(thing) else: ip4 = None result = client.create_floatingip( floating_network_id=external_network_id, port_id=port_id, tenant_id=thing['tenant_id'], fixed_ip_address=ip4 ) floating_ip = result['floatingip'] self.addCleanup(test_utils.call_and_ignore_notfound_exc, client.delete_floatingip, floating_ip['id']) return floating_ip ",0,54
openstack%2Fneutron-tempest-plugin~master~Iea2655a4dae2c8e260fb1dff9fdd9f426fe3c1b3,openstack/neutron-tempest-plugin,master,Iea2655a4dae2c8e260fb1dff9fdd9f426fe3c1b3,Make test test_remove_associated_ports to be compatible with L3HA,MERGED,2022-04-19 09:33:49.000000000,2022-05-02 23:59:00.000000000,2022-05-02 23:59:00.000000000,"[{'_account_id': 4694}, {'_account_id': 8313}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-19 09:33:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/210af9fdf71661ca4027801bbb0a75235e23f51d', 'message': ""Make test test_remove_associated_ports to be compatible with L3HA\n\nNegative API test\nneutron_tempest_plugin.api.test_routers_negative.RoutersNegativePolicyTest.\\\ntest_remove_associated_ports\n\nwas trying to remove all ports which belongs to the specic device\n(router) and expected Conflict response for each of them.\nIn L3HA environment that's not true and router ha interfaces can be\nremoved without any problems. That caused failure of the test when L3_ha\nwas enabled.\nThis patch fixes it by trying to delete different types of port than ha\ninterfaces.\n\nChange-Id: Iea2655a4dae2c8e260fb1dff9fdd9f426fe3c1b3\n""}, {'number': 2, 'created': '2022-05-02 13:19:41.000000000', 'files': ['neutron_tempest_plugin/api/test_routers_negative.py'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/7c09d72b7e0113e5cd8392f7c7d0c1eee672657f', 'message': ""Make test test_remove_associated_ports to be compatible with L3HA\n\nNegative API test\nneutron_tempest_plugin.api.test_routers_negative.RoutersNegativePolicyTest.\\\ntest_remove_associated_ports\n\nwas trying to remove all ports which belongs to the specic device\n(router) and expected Conflict response for each of them.\nIn L3HA environment that's not true and router ha interfaces can be\nremoved without any problems. That caused failure of the test when L3_ha\nwas enabled.\nThis patch fixes it by trying to delete different types of port than ha\ninterfaces.\n\nChange-Id: Iea2655a4dae2c8e260fb1dff9fdd9f426fe3c1b3\n""}]",6,838460,7c09d72b7e0113e5cd8392f7c7d0c1eee672657f,16,3,2,11975,,,0,"Make test test_remove_associated_ports to be compatible with L3HA

Negative API test
neutron_tempest_plugin.api.test_routers_negative.RoutersNegativePolicyTest.\
test_remove_associated_ports

was trying to remove all ports which belongs to the specic device
(router) and expected Conflict response for each of them.
In L3HA environment that's not true and router ha interfaces can be
removed without any problems. That caused failure of the test when L3_ha
was enabled.
This patch fixes it by trying to delete different types of port than ha
interfaces.

Change-Id: Iea2655a4dae2c8e260fb1dff9fdd9f426fe3c1b3
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/60/838460/2 && git format-patch -1 --stdout FETCH_HEAD,['neutron_tempest_plugin/api/test_routers_negative.py'],1,210af9fdf71661ca4027801bbb0a75235e23f51d,improve-neutron-ci,"from neutron_lib import constants device_id=self.router['id'])['ports'] if item['device_owner'] not in [ constants.DEVICE_OWNER_ROUTER_HA_INTF, constants.DEVICE_OWNER_HA_REPLICATED_INT]] if not port_ids: self.fail(""No ports other than HA ports found for the router %s"" % self.router['id'])", device_id=self.router['id'])['ports']],8,1
openstack%2Fneutron-tempest-plugin~master~I7ee881e8031a2198f3b307667bfd3e676459758d,openstack/neutron-tempest-plugin,master,I7ee881e8031a2198f3b307667bfd3e676459758d,[fwaas] Remove _create_subnet & setup_clients,MERGED,2022-04-13 08:14:30.000000000,2022-05-02 23:58:57.000000000,2022-05-02 23:58:57.000000000,"[{'_account_id': 4694}, {'_account_id': 11975}, {'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 30380}]","[{'number': 1, 'created': '2022-04-13 08:14:30.000000000', 'files': ['neutron_tempest_plugin/fwaas/scenario/fwaas_v2_manager.py', 'neutron_tempest_plugin/fwaas/scenario/test_fwaas_v2.py'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/712d07cabab5f8a54741da784ac2a09eee04bf84', 'message': '[fwaas] Remove _create_subnet & setup_clients\n\nAs tempest.scenario.manager was announced stable interface in Tempest\n27.0.0[1] it can be now reused in plugins.\n\nReplaced methods:\n    * _create_subnet\n    * setup_clients\n\nEtherpad concerning this effort:\nhttps://etherpad.opendev.org/p/tempest-scenario-manager-cleanup\n\n[1] https://docs.openstack.org/releasenotes/tempest/v27.0.0.html#release-notes-27-0-0\n\nChange-Id: I7ee881e8031a2198f3b307667bfd3e676459758d\n'}]",1,837700,712d07cabab5f8a54741da784ac2a09eee04bf84,12,5,1,33732,,,0,"[fwaas] Remove _create_subnet & setup_clients

As tempest.scenario.manager was announced stable interface in Tempest
27.0.0[1] it can be now reused in plugins.

Replaced methods:
    * _create_subnet
    * setup_clients

Etherpad concerning this effort:
https://etherpad.opendev.org/p/tempest-scenario-manager-cleanup

[1] https://docs.openstack.org/releasenotes/tempest/v27.0.0.html#release-notes-27-0-0

Change-Id: I7ee881e8031a2198f3b307667bfd3e676459758d
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/00/837700/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_tempest_plugin/fwaas/scenario/fwaas_v2_manager.py', 'neutron_tempest_plugin/fwaas/scenario/test_fwaas_v2.py']",2,712d07cabab5f8a54741da784ac2a09eee04bf84,tempest-scenario-manager-cleanup, subnet = self.create_subnet(**subnet_kwargs), subnet = self._create_subnet(**subnet_kwargs),1,85
openstack%2Fneutron-tempest-plugin~master~Iaf7f0ae7e2bd26ac98667fae3e86b86602c19f6f,openstack/neutron-tempest-plugin,master,Iaf7f0ae7e2bd26ac98667fae3e86b86602c19f6f,[fwaas] Remove get_remote_client & check_vm_connectivity,MERGED,2022-04-13 07:39:35.000000000,2022-05-02 23:58:55.000000000,2022-05-02 23:58:55.000000000,"[{'_account_id': 4694}, {'_account_id': 11975}, {'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 30380}]","[{'number': 1, 'created': '2022-04-13 07:39:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/437007f8d51cd183177a0612fd2853308716887d', 'message': ""[fwaas] Remove get_remote_client & check_vm_connectivity\n\nAs tempest.scenario.manager was announced stable interface in Tempest\n27.0.0[1] it can be now reused in plugins.\n\nReplaced methods:\n    * get_remote_client\n    * check_vm_connectivity\n\nImplementantion of get_remote_client and\ncheck_vm_connectivity changed a bit in tempest over time.\nHowever, these changes almost didn't change main logic\nof these methods.\nSee the related patches for get_remote_client[2]\nand check_vm_connectivity[3]\n\nEtherpad concerning this effort:\nhttps://etherpad.opendev.org/p/tempest-scenario-manager-cleanup\n\n[1] https://docs.openstack.org/releasenotes/tempest/v27.0.0.html#release-notes-27-0-0\n[2] https://opendev.org/openstack/tempest/commit/f52c759e5cc6da962ad63831c55dc140d05a2373\n[3] https://opendev.org/openstack/tempest/commit/0ec74c40172586dc2167e8fdf8f1436edc4ed7f0\n\nChange-Id: Iaf7f0ae7e2bd26ac98667fae3e86b86602c19f6f\n""}, {'number': 2, 'created': '2022-04-13 08:07:14.000000000', 'files': ['neutron_tempest_plugin/fwaas/scenario/fwaas_v2_manager.py'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/d83cfcf0cd042cdce67a1785085735ea68c97613', 'message': '[fwaas] Remove get_remote_client & check_vm_connectivity\n\nAs tempest.scenario.manager was announced stable interface in Tempest\n27.0.0[1] it can be now reused in plugins.\n\nReplaced methods:\n    * get_remote_client\n    * check_vm_connectivity\n\nEtherpad concerning this effort:\nhttps://etherpad.opendev.org/p/tempest-scenario-manager-cleanup\n\n[1] https://docs.openstack.org/releasenotes/tempest/v27.0.0.html#release-notes-27-0-0\n\nChange-Id: Iaf7f0ae7e2bd26ac98667fae3e86b86602c19f6f\n'}]",1,837692,d83cfcf0cd042cdce67a1785085735ea68c97613,14,5,2,33732,,,0,"[fwaas] Remove get_remote_client & check_vm_connectivity

As tempest.scenario.manager was announced stable interface in Tempest
27.0.0[1] it can be now reused in plugins.

Replaced methods:
    * get_remote_client
    * check_vm_connectivity

Etherpad concerning this effort:
https://etherpad.opendev.org/p/tempest-scenario-manager-cleanup

[1] https://docs.openstack.org/releasenotes/tempest/v27.0.0.html#release-notes-27-0-0

Change-Id: Iaf7f0ae7e2bd26ac98667fae3e86b86602c19f6f
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/92/837692/2 && git format-patch -1 --stdout FETCH_HEAD,['neutron_tempest_plugin/fwaas/scenario/fwaas_v2_manager.py'],1,437007f8d51cd183177a0612fd2853308716887d,tempest-scenario-manager-cleanup,,"from tempest.common.utils.linux import remote_client # Test functions library # # The create_[resource] functions only return body and discard the # resp part which is not used in scenario tests def get_remote_client(self, ip_address, username=None, private_key=None): """"""Get a SSH client to a remote server @param ip_address the server floating or fixed IP address to use for ssh validation @param username name of the Linux account on the remote server @param private_key the SSH private key to use @return a RemoteClient object """""" if username is None: username = CONF.validation.image_ssh_user # Set this with 'keypair' or others to log in with keypair or # username/password. if CONF.validation.auth_method == 'keypair': password = None if private_key is None: private_key = self.keypair['private_key'] else: password = CONF.validation.image_ssh_password private_key = None linux_client = remote_client.RemoteClient(ip_address, username, pkey=private_key, password=password) try: linux_client.validate_authentication() except Exception as e: message = ('Initializing SSH connection to %(ip)s failed. ' 'Error: %(error)s' % {'ip': ip_address, 'error': e}) caller = test_utils.find_test_caller() if caller: message = '(%s) %s' % (caller, message) LOG.exception(message) self.log_console_output() raise return linux_client def check_vm_connectivity(self, ip_address, username=None, private_key=None, should_connect=True, mtu=None): """"""Check server connectivity :param ip_address: server to test against :param username: server's ssh username :param private_key: server's ssh private key to be used :param should_connect: True/False indicates positive/negative test positive - attempt ping and ssh negative - attempt ping and fail if succeed :param mtu: network MTU to use for connectivity validation :raises: AssertError if the result of the connectivity check does not match the value of the should_connect param """""" if should_connect: msg = ""Timed out waiting for %s to become reachable"" % ip_address else: msg = ""ip address %s is reachable"" % ip_address self.assertTrue(self.ping_ip_address(ip_address, should_succeed=should_connect, mtu=mtu), msg=msg) if should_connect: # no need to check ssh for negative connectivity self.get_remote_client(ip_address, username, private_key) ",0,75
openstack%2Fneutron-tempest-plugin~master~Idd1977253c42f0605a0eb88b693197793c2c07d9,openstack/neutron-tempest-plugin,master,Idd1977253c42f0605a0eb88b693197793c2c07d9,[fwaas] Remove _get_server_port_id_and_ip4 & create_floating_ip,MERGED,2022-04-12 10:19:38.000000000,2022-05-02 23:58:52.000000000,2022-05-02 23:58:52.000000000,"[{'_account_id': 4694}, {'_account_id': 11975}, {'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 30380}]","[{'number': 1, 'created': '2022-04-12 10:19:38.000000000', 'files': ['neutron_tempest_plugin/fwaas/scenario/fwaas_v2_manager.py'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/b7fd90e997d43e03aaf46e124ab3b777f3cf65c7', 'message': ""[fwaas] Remove _get_server_port_id_and_ip4 & create_floating_ip\n\nAs tempest.scenario.manager was announced stable interface in Tempest\n27.0.0[1] it can be now reused in plugins.\n\nRemoved methods:\n    * _get_server_port_id_and_ip4\n    * create_floating_ip\n\nThere is a slight difference between tempest's\n_get_server_port_id_and_ip4 and this one.\nMost changes are just fixes, without bigger logical interference.\nSee some of the related patches below.[2][3]\n\nEtherpad concerning this effort:\nhttps://etherpad.opendev.org/p/tempest-scenario-manager-cleanup\n\n[1] https://docs.openstack.org/releasenotes/tempest/v27.0.0.html#release-notes-27-0-0\n[2] https://opendev.org/openstack/tempest/commit/5c191faae78f52f876edba72484ea644d3df04fd\n[3] https://opendev.org/openstack/tempest/commit/95a3169e1782f31c794e56cb836c1d9476a0adf8\n\nChange-Id: Idd1977253c42f0605a0eb88b693197793c2c07d9\n""}]",0,837545,b7fd90e997d43e03aaf46e124ab3b777f3cf65c7,10,5,1,33732,,,0,"[fwaas] Remove _get_server_port_id_and_ip4 & create_floating_ip

As tempest.scenario.manager was announced stable interface in Tempest
27.0.0[1] it can be now reused in plugins.

Removed methods:
    * _get_server_port_id_and_ip4
    * create_floating_ip

There is a slight difference between tempest's
_get_server_port_id_and_ip4 and this one.
Most changes are just fixes, without bigger logical interference.
See some of the related patches below.[2][3]

Etherpad concerning this effort:
https://etherpad.opendev.org/p/tempest-scenario-manager-cleanup

[1] https://docs.openstack.org/releasenotes/tempest/v27.0.0.html#release-notes-27-0-0
[2] https://opendev.org/openstack/tempest/commit/5c191faae78f52f876edba72484ea644d3df04fd
[3] https://opendev.org/openstack/tempest/commit/95a3169e1782f31c794e56cb836c1d9476a0adf8

Change-Id: Idd1977253c42f0605a0eb88b693197793c2c07d9
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/45/837545/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron_tempest_plugin/fwaas/scenario/fwaas_v2_manager.py'],1,b7fd90e997d43e03aaf46e124ab3b777f3cf65c7,tempest-scenario-manager-cleanup,,"from oslo_utils import netutils def _get_server_port_id_and_ip4(self, server, ip_addr=None): ports = self.os_admin.ports_client.list_ports( device_id=server['id'], fixed_ip=ip_addr)['ports'] # A port can have more than one IP address in some cases. # If the network is dual-stack (IPv4 + IPv6), this port is associated # with 2 subnets p_status = ['ACTIVE'] # NOTE(vsaienko) With Ironic, instances live on separate hardware # servers. Neutron does not bind ports for Ironic instances, as a # result the port remains in the DOWN state. # TODO(vsaienko) remove once bug: #1599836 is resolved. if getattr(CONF.service_available, 'ironic', False): p_status.append('DOWN') port_map = [(p[""id""], fxip[""ip_address""]) for p in ports for fxip in p[""fixed_ips""] if (netutils.is_valid_ipv4(fxip[""ip_address""]) and p['status'] in p_status)] inactive = [p for p in ports if p['status'] != 'ACTIVE'] if inactive: LOG.warning(""Instance has ports that are not ACTIVE: %s"", inactive) self.assertNotEqual(0, len(port_map), ""No IPv4 addresses found in: %s"" % ports) self.assertEqual(len(port_map), 1, ""Found multiple IPv4 addresses: %s. "" ""Unable to determine which port to target."" % port_map) return port_map[0] def create_floating_ip(self, thing, external_network_id=None, port_id=None, client=None): """"""Create a floating IP and associates to a resource/port on Neutron"""""" if not external_network_id: external_network_id = CONF.network.public_network_id if not client: client = self.floating_ips_client if not port_id: port_id, ip4 = self._get_server_port_id_and_ip4(thing) else: ip4 = None result = client.create_floatingip( floating_network_id=external_network_id, port_id=port_id, tenant_id=thing['tenant_id'], fixed_ip_address=ip4 ) floating_ip = result['floatingip'] self.addCleanup(test_utils.call_and_ignore_notfound_exc, client.delete_floatingip, floating_ip['id']) return floating_ip ",0,54
openstack%2Foctavia-tempest-plugin~master~Ie873a59fffda425c60e912abbb0d3aec68e134ed,openstack/octavia-tempest-plugin,master,Ie873a59fffda425c60e912abbb0d3aec68e134ed,Add waiting OPERATION_STATUS for the third listener in tests.,MERGED,2022-04-27 09:35:03.000000000,2022-05-02 23:37:46.000000000,2022-05-02 23:36:35.000000000,"[{'_account_id': 11628}, {'_account_id': 20104}, {'_account_id': 22348}, {'_account_id': 29244}]","[{'number': 1, 'created': '2022-04-27 09:35:03.000000000', 'files': ['octavia_tempest_plugin/tests/api/v2/test_listener.py'], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/f46e53f8e28759a4a23c8b100ad535a8c9d01bff', 'message': 'Add waiting OPERATION_STATUS for the third listener in tests.\n\nThis commit fixes the situation when test _test_listener_list fails\nbecause of a mismatch OPERATION_STATUS. This error can be reproduced\nonly in really slow environments.\n\nChange-Id: Ie873a59fffda425c60e912abbb0d3aec68e134ed\n'}]",2,839502,f46e53f8e28759a4a23c8b100ad535a8c9d01bff,9,4,1,27256,,,0,"Add waiting OPERATION_STATUS for the third listener in tests.

This commit fixes the situation when test _test_listener_list fails
because of a mismatch OPERATION_STATUS. This error can be reproduced
only in really slow environments.

Change-Id: Ie873a59fffda425c60e912abbb0d3aec68e134ed
",git fetch https://review.opendev.org/openstack/octavia-tempest-plugin refs/changes/02/839502/1 && git format-patch -1 --stdout FETCH_HEAD,['octavia_tempest_plugin/tests/api/v2/test_listener.py'],1,f46e53f8e28759a4a23c8b100ad535a8c9d01bff,," listener3 = waiters.wait_for_status( self.mem_listener_client.show_listener, listener3[const.ID], const.OPERATING_STATUS, const.ONLINE, CONF.load_balancer.build_interval, CONF.load_balancer.build_timeout)",,5,0
openstack%2Fpython-swiftclient~master~Iafa42fc2f8b56feefa2bc8ea6a1b8845717d3bab,openstack/python-swiftclient,master,Iafa42fc2f8b56feefa2bc8ea6a1b8845717d3bab,Add timeout for Swift service,MERGED,2022-04-21 14:08:51.000000000,2022-05-02 23:21:49.000000000,2022-05-02 23:20:42.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-21 14:08:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-swiftclient/commit/43295ff47d355d6048491a9c9971f7eeaa6174de', 'message': ""Add timeout for Swift service\n\nConnection class has timeout parameter but SwiftService and shell don't use it.\nThat can lead to an endless wait when network is unreachable.\n\nChange-Id: Iafa42fc2f8b56feefa2bc8ea6a1b8845717d3bab\n""}, {'number': 2, 'created': '2022-04-21 14:55:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-swiftclient/commit/8ad493f7962f9fd9f3f0b4c1639fa21e1fecc5f5', 'message': ""Add timeout for Swift service\n\nConnection class has timeout parameter but SwiftService and shell don't use it.\nThat can lead to an endless wait when network is unreachable.\n\nChange-Id: Iafa42fc2f8b56feefa2bc8ea6a1b8845717d3bab\n""}, {'number': 3, 'created': '2022-04-21 14:58:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-swiftclient/commit/89c897a9212e03072d2cbf0416d10d9a1a37ffef', 'message': ""Add timeout for Swift service\n\nConnection class has timeout parameter but SwiftService and shell don't use it.\nThat can lead to an endless wait when network is unreachable.\n\nChange-Id: Iafa42fc2f8b56feefa2bc8ea6a1b8845717d3bab\n""}, {'number': 4, 'created': '2022-04-21 15:00:38.000000000', 'files': ['swiftclient/shell.py', 'swiftclient/service.py'], 'web_link': 'https://opendev.org/openstack/python-swiftclient/commit/95f68cd673afe07aef9d14904de1c974fc684ef2', 'message': ""Add timeout for Swift service\n\nConnection class has timeout parameter but SwiftService and shell don't use it.\nThat can lead to an endless wait when network is unreachable.\n\nChange-Id: Iafa42fc2f8b56feefa2bc8ea6a1b8845717d3bab\n""}]",3,838902,95f68cd673afe07aef9d14904de1c974fc684ef2,10,2,4,20408,,,0,"Add timeout for Swift service

Connection class has timeout parameter but SwiftService and shell don't use it.
That can lead to an endless wait when network is unreachable.

Change-Id: Iafa42fc2f8b56feefa2bc8ea6a1b8845717d3bab
",git fetch https://review.opendev.org/openstack/python-swiftclient refs/changes/02/838902/1 && git format-patch -1 --stdout FETCH_HEAD,"['swiftclient/shell.py', 'swiftclient/service.py']",2,43295ff47d355d6048491a9c9971f7eeaa6174de,add-service-timeout," ""timeout"": 5, timeout=options['timeout'],",,4,0
openstack%2Fneutron-tempest-plugin~master~I35a0682ce5d92660c55aca86249684e492112dc5,openstack/neutron-tempest-plugin,master,I35a0682ce5d92660c55aca86249684e492112dc5,[fwaas] Remove _log_console_output & ping_ip_address,MERGED,2022-04-12 10:10:11.000000000,2022-05-02 23:20:47.000000000,2022-05-02 23:20:47.000000000,"[{'_account_id': 4694}, {'_account_id': 11975}, {'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 30380}]","[{'number': 1, 'created': '2022-04-12 10:10:11.000000000', 'files': ['neutron_tempest_plugin/fwaas/scenario/fwaas_v2_manager.py'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/c699091e4b90e6db99815ab254a94e2045e854c1', 'message': '[fwaas] Remove _log_console_output & ping_ip_address\n\nAs tempest.scenario.manager was announced stable interface in Tempest\n27.0.0[1] it can be now reused in plugins.\n\nRemoved methods:\n    * _log_console_output\n    * ping_ip_address\n\nEtherpad concerning this effort:\nhttps://etherpad.opendev.org/p/tempest-scenario-manager-cleanup\n\n[1] https://docs.openstack.org/releasenotes/tempest/v27.0.0.html#release-notes-27-0-0\n\nChange-Id: I35a0682ce5d92660c55aca86249684e492112dc5\n'}]",0,837521,c699091e4b90e6db99815ab254a94e2045e854c1,10,5,1,33732,,,0,"[fwaas] Remove _log_console_output & ping_ip_address

As tempest.scenario.manager was announced stable interface in Tempest
27.0.0[1] it can be now reused in plugins.

Removed methods:
    * _log_console_output
    * ping_ip_address

Etherpad concerning this effort:
https://etherpad.opendev.org/p/tempest-scenario-manager-cleanup

[1] https://docs.openstack.org/releasenotes/tempest/v27.0.0.html#release-notes-27-0-0

Change-Id: I35a0682ce5d92660c55aca86249684e492112dc5
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/21/837521/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron_tempest_plugin/fwaas/scenario/fwaas_v2_manager.py'],1,c699091e4b90e6db99815ab254a94e2045e854c1,tempest-scenario-manager-cleanup, self.log_console_output(),"import subprocess from tempest.common.utils import net_utils self._log_console_output() def _log_console_output(self, servers=None): if not CONF.compute_feature_enabled.console_output: LOG.debug('Console output not supported, cannot log') return if not servers: servers = self.servers_client.list_servers() servers = servers['servers'] for server in servers: try: console_output = self.servers_client.get_console_output( server['id'])['output'] LOG.debug('Console output for %s\nbody=\n%s', server['id'], console_output) except lib_exc.NotFound: LOG.debug(""Server %s disappeared(deleted) while looking "" ""for the console log"", server['id']) def ping_ip_address(self, ip_address, should_succeed=True, ping_timeout=None, mtu=None): timeout = ping_timeout or CONF.validation.ping_timeout cmd = ['ping', '-c1', '-w1'] if mtu: cmd += [ # don't fragment '-M', 'do', # ping receives just the size of ICMP payload '-s', str(net_utils.get_ping_payload_size(mtu, 4)) ] cmd.append(ip_address) def ping(): proc = subprocess.Popen(cmd, stdout=subprocess.PIPE, stderr=subprocess.PIPE) proc.communicate() return (proc.returncode == 0) == should_succeed caller = test_utils.find_test_caller() LOG.debug('%(caller)s begins to ping %(ip)s in %(timeout)s sec and the' ' expected result is %(should_succeed)s', { 'caller': caller, 'ip': ip_address, 'timeout': timeout, 'should_succeed': 'reachable' if should_succeed else 'unreachable' }) result = test_utils.call_until_true(ping, timeout, 1) LOG.debug('%(caller)s finishes ping %(ip)s in %(timeout)s sec and the ' 'ping result is %(result)s', { 'caller': caller, 'ip': ip_address, 'timeout': timeout, 'result': 'expected' if result else 'unexpected' }) return result ",1,58
openstack%2Fneutron-tempest-plugin~master~Id7aa2c0fb592676e436c86f3aa18ed8e5c53efaa,openstack/neutron-tempest-plugin,master,Id7aa2c0fb592676e436c86f3aa18ed8e5c53efaa,[fwaas] Remove create_server & _create_network,MERGED,2022-04-12 10:07:43.000000000,2022-05-02 23:20:45.000000000,2022-05-02 23:20:45.000000000,"[{'_account_id': 4694}, {'_account_id': 11975}, {'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 30380}]","[{'number': 1, 'created': '2022-04-12 10:07:43.000000000', 'files': ['neutron_tempest_plugin/fwaas/scenario/fwaas_v2_manager.py', 'neutron_tempest_plugin/fwaas/scenario/test_fwaas_v2.py'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/7d4300c82563df5d11218dae6b02ba6df7b4c6d2', 'message': '[fwaas] Remove create_server & _create_network\n\nAs tempest.scenario.manager was announced stable interface in Tempest\n27.0.0[1] it can be now reused in plugins.\n\nReplaced methods:\n    * create_server\n    * _create_network\n\nEtherpad concerning this effort:\nhttps://etherpad.opendev.org/p/tempest-scenario-manager-cleanup\n\n[1] https://docs.openstack.org/releasenotes/tempest/v27.0.0.html#release-notes-27-0-0\n\nChange-Id: Id7aa2c0fb592676e436c86f3aa18ed8e5c53efaa\n'}]",1,837520,7d4300c82563df5d11218dae6b02ba6df7b4c6d2,11,5,1,33732,,,0,"[fwaas] Remove create_server & _create_network

As tempest.scenario.manager was announced stable interface in Tempest
27.0.0[1] it can be now reused in plugins.

Replaced methods:
    * create_server
    * _create_network

Etherpad concerning this effort:
https://etherpad.opendev.org/p/tempest-scenario-manager-cleanup

[1] https://docs.openstack.org/releasenotes/tempest/v27.0.0.html#release-notes-27-0-0

Change-Id: Id7aa2c0fb592676e436c86f3aa18ed8e5c53efaa
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/20/837520/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_tempest_plugin/fwaas/scenario/fwaas_v2_manager.py', 'neutron_tempest_plugin/fwaas/scenario/test_fwaas_v2.py']",2,7d4300c82563df5d11218dae6b02ba6df7b4c6d2,tempest-scenario-manager-cleanup, network = self.create_network(), network = self._create_network(),1,124
openstack%2Ftripleo-heat-templates~master~Id4fbde599acd4637a7422428190385d83fa44e23,openstack/tripleo-heat-templates,master,Id4fbde599acd4637a7422428190385d83fa44e23,Add DNS resolver forwarding support to Unbound,MERGED,2021-02-04 23:52:43.000000000,2022-05-02 22:36:10.000000000,2022-05-02 22:34:49.000000000,"[{'_account_id': 6681}, {'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-02-04 23:52:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/15ae24d904269cdcb492bdbb3bbe1c66f4346c29', 'message': 'Add DNS resolver forwarding support to Unbound\n\nThis patch adds support for DNS resolver forwarding to the Unbound.\nThis allows the configuration of ""upstream"" DNS resolvers that TripleO\nUnbound will query if it doesn\'t have a local answer to a query.\nIf forwarders are not defined, Unbound will perform a standard recursive\nDNS resolution.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/774173\nChange-Id: Id4fbde599acd4637a7422428190385d83fa44e23\n'}, {'number': 2, 'created': '2022-04-27 16:03:49.000000000', 'files': ['deployment/unbound/unbound-container-ansible.yaml', 'releasenotes/notes/Add-Unbound-forwarder-support-8f29e47d4275a798.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6d65b784a81124f4decc7cd79e19b71049cac377', 'message': 'Add DNS resolver forwarding support to Unbound\n\nThis patch adds support for DNS resolver forwarding to the Unbound.\nThis allows the configuration of ""upstream"" DNS resolvers that TripleO\nUnbound will query if it doesn\'t have a local answer to a query.\nIf forwarders are not defined, Unbound will perform a standard recursive\nDNS resolution.\n\nChange-Id: Id4fbde599acd4637a7422428190385d83fa44e23\n'}]",1,774175,6d65b784a81124f4decc7cd79e19b71049cac377,34,7,2,11628,,,0,"Add DNS resolver forwarding support to Unbound

This patch adds support for DNS resolver forwarding to the Unbound.
This allows the configuration of ""upstream"" DNS resolvers that TripleO
Unbound will query if it doesn't have a local answer to a query.
If forwarders are not defined, Unbound will perform a standard recursive
DNS resolution.

Change-Id: Id4fbde599acd4637a7422428190385d83fa44e23
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/75/774175/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/unbound/unbound-container-ansible.yaml', 'releasenotes/notes/Add-Unbound-forwarder-support-8f29e47d4275a798.yaml']",2,15ae24d904269cdcb492bdbb3bbe1c66f4346c29,tht-unbound,--- features: - | Added support for Unbound to forward DNS resolution requests to other DNS resolvers (DNS resolver forwarding). ,,27,0
openstack%2Ftripleo-ansible~master~Ib23d06ea702545a0c2f4f47da63ce588957488fe,openstack/tripleo-ansible,master,Ib23d06ea702545a0c2f4f47da63ce588957488fe,Add cell internalapi VIP in controllers /etc/hosts,MERGED,2022-04-22 11:10:10.000000000,2022-05-02 22:34:52.000000000,2022-05-02 22:34:52.000000000,"[{'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 8833}, {'_account_id': 17216}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-04-22 11:10:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/bafec47982511bcc73cdad7832415750ca0b95d4', 'message': ""Add cell internalapi VIP in controllers /etc/hosts\n\nWhen adding a cell into a tls-everywhere environment, also the\ncellcontroller(s) internal api vip(s) is/are required to be added to\nthe central overcloud controllers, because when using a tls-everywhere\nenvironment nova uses the cell controller internal api hostname instead\nof the vip to connect to the cell DB.\n\nWhen user executes the create-nova-cell-v2 playbook, as documented in\n[0], add such extra entry/entries into the central controllers\n/etc/hosts. Only do that if internal_api_vip and internal_api_hostname\nare defined in the cell controller(s)' group hostvars (that would match\nboth non/TLS-E cases automagically).\n\n[0] https://docs.openstack.org/project-deploy-guide/tripleo-docs/latest/features/deploy_cellv2_basic.html#cell-create-cell\n\nRelated: rhbz#1926716\n\nChange-Id: Ib23d06ea702545a0c2f4f47da63ce588957488fe\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}, {'number': 2, 'created': '2022-04-25 07:44:31.000000000', 'files': ['tripleo_ansible/roles/tripleo_cellv2/tasks/add_internalapi_hosts_entries.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/c52f115d51174c450bb7503d3285ec4c6a67411c', 'message': ""Add cell internalapi VIP in controllers /etc/hosts\n\nWhen adding a cell into a tls-everywhere environment, also the\ncellcontroller(s) internal api vip(s) is/are required to be added to\nthe central overcloud controllers, because when using a tls-everywhere\nenvironment nova uses the cell controller internal api hostname instead\nof the vip to connect to the cell DB.\n\nWhen user executes the create-nova-cell-v2 playbook, as documented in\n[0], add such extra entry/entries into the central controllers\n/etc/hosts. Only do that if internal_api_vip and internal_api_hostname\nare defined in the cell controller(s)' group hostvars (that would match\nboth non/TLS-E cases automagically).\n\n[0] https://docs.openstack.org/project-deploy-guide/tripleo-docs/latest/features/deploy_cellv2_basic.html#cell-create-cell\n\nRelated: rhbz#1926716\n\nChange-Id: Ib23d06ea702545a0c2f4f47da63ce588957488fe\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}]",6,839048,c52f115d51174c450bb7503d3285ec4c6a67411c,17,6,2,6926,,,0,"Add cell internalapi VIP in controllers /etc/hosts

When adding a cell into a tls-everywhere environment, also the
cellcontroller(s) internal api vip(s) is/are required to be added to
the central overcloud controllers, because when using a tls-everywhere
environment nova uses the cell controller internal api hostname instead
of the vip to connect to the cell DB.

When user executes the create-nova-cell-v2 playbook, as documented in
[0], add such extra entry/entries into the central controllers
/etc/hosts. Only do that if internal_api_vip and internal_api_hostname
are defined in the cell controller(s)' group hostvars (that would match
both non/TLS-E cases automagically).

[0] https://docs.openstack.org/project-deploy-guide/tripleo-docs/latest/features/deploy_cellv2_basic.html#cell-create-cell

Related: rhbz#1926716

Change-Id: Ib23d06ea702545a0c2f4f47da63ce588957488fe
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/48/839048/2 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo_cellv2/tasks/add_internalapi_hosts_entries.yml'],1,bafec47982511bcc73cdad7832415750ca0b95d4,,"- name: Add Cell internalapi VIP to control plan controller become: true vars: cell_domain_name: ""{{ hostvars[item]['internal_api_hostname'] | regex_replace(item ~ '\.?', '') }}"" lineinfile: dest: ""/etc/hosts"" regexp: "".*\s{{ tripleo_cellv2_cell_name }}$?\..*$"" line: >- {{ hostvars[item]['internal_api_vip'] }} {{ cell_domain_name | ternary(tripleo_cellv2_cell_name ~ '.' ~ cell_domain_name, tripleo_cellv2_cell_name) }} insertafter: ""# HEAT_HOSTS_END"" state: present when: - hostvars[item]['internal_api_vip'] is defined - hostvars[item]['internal_api_hostname'] is defined with_items: ""{{ tripleo_cellv2_cellcontroller_group }}"" register: hosts_result2 tags: - hosts - create - hosts_result.changed or hosts_result2.changed", - hosts_result.changed,22,1
openstack%2Fpyeclib~master~I366738154cf6d81874bd3da1b6aa23d1915adcd0,openstack/pyeclib,master,I366738154cf6d81874bd3da1b6aa23d1915adcd0,CI: Compile liberasurecode from source for py35 tests,MERGED,2022-05-02 17:36:54.000000000,2022-05-02 22:09:59.000000000,2022-05-02 22:09:59.000000000,"[{'_account_id': 1179}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-02 17:36:54.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/pyeclib/commit/ce4c9f6b82d614967bc88fbba0a84bae57906293', 'message': 'CI: Compile liberasurecode from source for py35 tests\n\nThose jobs run on xenial, and the distro package is ancient.\n\nChange-Id: I366738154cf6d81874bd3da1b6aa23d1915adcd0\n'}]",1,840223,ce4c9f6b82d614967bc88fbba0a84bae57906293,7,2,1,15343,,,0,"CI: Compile liberasurecode from source for py35 tests

Those jobs run on xenial, and the distro package is ancient.

Change-Id: I366738154cf6d81874bd3da1b6aa23d1915adcd0
",git fetch https://review.opendev.org/openstack/pyeclib refs/changes/23/840223/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,ce4c9f6b82d614967bc88fbba0a84bae57906293,, - openstack-tox-py35: vars: tox_envlist: py35-compilelibs - openstack-tox-py35: vars: tox_envlist: py35-compilelibs, - openstack-tox-py35 - openstack-tox-py35,6,2
openstack%2Ftripleo-ansible~master~I15f9cc771c754c257b795263b8d6c3e0d19fd46c,openstack/tripleo-ansible,master,I15f9cc771c754c257b795263b8d6c3e0d19fd46c,Change access permission of files in /etc/os-net-config,MERGED,2022-04-28 06:06:20.000000000,2022-05-02 21:54:34.000000000,2022-05-02 21:54:34.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2022-04-28 06:06:20.000000000', 'files': ['tripleo_ansible/roles/tripleo_network_config/tasks/main.yml', 'tripleo_ansible/roles/tripleo_network_config/tasks/os_net_config.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/f06bc84cc08984ddc7029e6e91fd8fb6ebf21dfe', 'message': 'Change access permission of files in /etc/os-net-config\n\nSome of these files are used for validations on the undercloud,\nthat are run as non-root user without sudo.\n\nChange-Id: I15f9cc771c754c257b795263b8d6c3e0d19fd46c\nCloses-Bug: #1970437\n'}]",3,839684,f06bc84cc08984ddc7029e6e91fd8fb6ebf21dfe,14,5,1,8833,,,0,"Change access permission of files in /etc/os-net-config

Some of these files are used for validations on the undercloud,
that are run as non-root user without sudo.

Change-Id: I15f9cc771c754c257b795263b8d6c3e0d19fd46c
Closes-Bug: #1970437
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/84/839684/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_network_config/tasks/main.yml', 'tripleo_ansible/roles/tripleo_network_config/tasks/os_net_config.yml']",2,f06bc84cc08984ddc7029e6e91fd8fb6ebf21dfe,, mode: 0644 mode: 0644 mode: 0644, mode: 0600 mode: 0600 mode: 0600,4,3
openstack%2Frequirements~master~Ie18bfc8e6fd4c4eb43252c4aa50ec23d6f2994d4,openstack/requirements,master,Ie18bfc8e6fd4c4eb43252c4aa50ec23d6f2994d4,Updated from generate-constraints,MERGED,2022-05-02 02:40:35.000000000,2022-05-02 21:40:28.000000000,2022-05-02 21:39:21.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-02 02:40:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/3e13330b267f2c150e356f88b0b12238b9a76a74', 'message': 'Updated from generate-constraints\n\nChange-Id: Ie18bfc8e6fd4c4eb43252c4aa50ec23d6f2994d4\n'}, {'number': 2, 'created': '2022-05-02 15:15:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/bf429ba45597148ec2a3d0f4e1a43eec91a8f2c6', 'message': 'Updated from generate-constraints\n\nChange-Id: Ie18bfc8e6fd4c4eb43252c4aa50ec23d6f2994d4\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n'}, {'number': 3, 'created': '2022-05-02 18:23:13.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/4549a2d68413ca53fbc7eed0d1cebb6df2547836', 'message': 'Updated from generate-constraints\n\nholding back cryptography for barbican\n\nChange-Id: Ie18bfc8e6fd4c4eb43252c4aa50ec23d6f2994d4\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n'}]",0,840148,4549a2d68413ca53fbc7eed0d1cebb6df2547836,19,2,3,11131,,,0,"Updated from generate-constraints

holding back cryptography for barbican

Change-Id: Ie18bfc8e6fd4c4eb43252c4aa50ec23d6f2994d4
Signed-off-by: Matthew Thode <mthode@mthode.org>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/48/840148/3 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,3e13330b267f2c150e356f88b0b12238b9a76a74,openstack/requirements/constraints/noclob,rcssmin===1.1.0fixtures===4.0.0pyScss===1.4.0moto===3.1.7XStatic-Angular===1.8.2.1types-paramiko===2.8.21zeroconf===0.38.5;python_version=='3.8'paramiko===2.10.4ovs===2.17.1 cryptography===37.0.1pkg_resources===0.0.0django-compressor===4.0bcrypt===3.2.2funcparserlib===1.0.0a2;python_version=='3.8'boto3===1.22.4asgiref===3.5.1;python_version=='3.8'botocore===1.25.4rjsmin===1.2.0,rcssmin===1.0.6fixtures===3.0.0pyScss===1.3.7moto===3.1.6XStatic-Angular===1.5.8.0types-paramiko===2.8.19zeroconf===0.38.4;python_version=='3.8'paramiko===2.8.1ovs===2.16.0 cryptography===36.0.2django-compressor===2.4.1bcrypt===3.2.0funcparserlib===1.0.0a1;python_version=='3.8'boto3===1.22.3asgiref===3.5.0;python_version=='3.8'botocore===1.25.3rjsmin===1.1.0setuptools===59.6.0;python_version=='3.6' setuptools===62.1.0;python_version=='3.8',18,19
openstack%2Fmanila~stable%2Fvictoria~I241ab2788b870060e1956a8fc029705378a2a8f4,openstack/manila,stable/victoria,I241ab2788b870060e1956a8fc029705378a2a8f4,[CI] Install dependencies for docs target,MERGED,2022-04-29 09:45:05.000000000,2022-05-02 20:52:36.000000000,2022-05-02 20:51:13.000000000,"[{'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 29632}]","[{'number': 1, 'created': '2022-04-29 09:45:05.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/manila/commit/cec24d132dc7b0a08ccc9caf2fc99b60086a68e0', 'message': ""[CI] Install dependencies for docs target\n\nWhen tox 'docs' target is called, first it installs the dependencies\n(listed in 'deps') in 'installdeps' phase, then it installs manila\n(with its requirements) in 'develop-inst' phase. In the latter case\n'deps' is not used so that the constraints defined in 'deps' are not\nused. This could lead to failures on stable branches when new packages\nare released that break the build. To avoid this, the simplest solution\nis to pre-install requirements, i.e. add requirements.txt to 'docs' tox\ntarget.\n\nConflicts:\n  tox.ini\n\nNOTE(elod.illes): conflict is due to branch specific upper constraints\nfile link.\n\nChange-Id: I241ab2788b870060e1956a8fc029705378a2a8f4\n(cherry picked from commit 9b4c8c92518c25e985c9649b0a7cb430169db712)\n(cherry picked from commit 6b644fa8ca3cf8cc8ad394cf4169ee38c2971f9b)\n(cherry picked from commit 49f50c9f3521a54caf0094116b4b47b994253c16)\n(cherry picked from commit 7102626e14a6c24f6011b198493635eb68adfab2)\n""}]",2,839889,cec24d132dc7b0a08ccc9caf2fc99b60086a68e0,10,3,1,17685,,,0,"[CI] Install dependencies for docs target

When tox 'docs' target is called, first it installs the dependencies
(listed in 'deps') in 'installdeps' phase, then it installs manila
(with its requirements) in 'develop-inst' phase. In the latter case
'deps' is not used so that the constraints defined in 'deps' are not
used. This could lead to failures on stable branches when new packages
are released that break the build. To avoid this, the simplest solution
is to pre-install requirements, i.e. add requirements.txt to 'docs' tox
target.

Conflicts:
  tox.ini

NOTE(elod.illes): conflict is due to branch specific upper constraints
file link.

Change-Id: I241ab2788b870060e1956a8fc029705378a2a8f4
(cherry picked from commit 9b4c8c92518c25e985c9649b0a7cb430169db712)
(cherry picked from commit 6b644fa8ca3cf8cc8ad394cf4169ee38c2971f9b)
(cherry picked from commit 49f50c9f3521a54caf0094116b4b47b994253c16)
(cherry picked from commit 7102626e14a6c24f6011b198493635eb68adfab2)
",git fetch https://review.opendev.org/openstack/manila refs/changes/89/839889/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,cec24d132dc7b0a08ccc9caf2fc99b60086a68e0,fix-docs-use-uc,# NOTE(elod.illes): requirements.txt is needed because otherwise # dependencies are installed during 'develop-inst' tox phase without # constraints which could cause failures in stable branches. -r{toxinidir}/requirements.txt,,4,0
openstack%2Fmanila~stable%2Fwallaby~I241ab2788b870060e1956a8fc029705378a2a8f4,openstack/manila,stable/wallaby,I241ab2788b870060e1956a8fc029705378a2a8f4,[CI] Install dependencies for docs target,MERGED,2022-04-29 09:44:13.000000000,2022-05-02 20:30:43.000000000,2022-05-02 20:28:57.000000000,"[{'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 29632}]","[{'number': 1, 'created': '2022-04-29 09:44:13.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/manila/commit/7102626e14a6c24f6011b198493635eb68adfab2', 'message': ""[CI] Install dependencies for docs target\n\nWhen tox 'docs' target is called, first it installs the dependencies\n(listed in 'deps') in 'installdeps' phase, then it installs manila\n(with its requirements) in 'develop-inst' phase. In the latter case\n'deps' is not used so that the constraints defined in 'deps' are not\nused. This could lead to failures on stable branches when new packages\nare released that break the build. To avoid this, the simplest solution\nis to pre-install requirements, i.e. add requirements.txt to 'docs' tox\ntarget.\n\nConflicts:\n  tox.ini\n\nNOTE(elod.illes): conflict is due to branch specific upper constraints\nfile link.\n\nChange-Id: I241ab2788b870060e1956a8fc029705378a2a8f4\n(cherry picked from commit 9b4c8c92518c25e985c9649b0a7cb430169db712)\n(cherry picked from commit 6b644fa8ca3cf8cc8ad394cf4169ee38c2971f9b)\n(cherry picked from commit 49f50c9f3521a54caf0094116b4b47b994253c16)\n""}]",2,839888,7102626e14a6c24f6011b198493635eb68adfab2,10,3,1,17685,,,0,"[CI] Install dependencies for docs target

When tox 'docs' target is called, first it installs the dependencies
(listed in 'deps') in 'installdeps' phase, then it installs manila
(with its requirements) in 'develop-inst' phase. In the latter case
'deps' is not used so that the constraints defined in 'deps' are not
used. This could lead to failures on stable branches when new packages
are released that break the build. To avoid this, the simplest solution
is to pre-install requirements, i.e. add requirements.txt to 'docs' tox
target.

Conflicts:
  tox.ini

NOTE(elod.illes): conflict is due to branch specific upper constraints
file link.

Change-Id: I241ab2788b870060e1956a8fc029705378a2a8f4
(cherry picked from commit 9b4c8c92518c25e985c9649b0a7cb430169db712)
(cherry picked from commit 6b644fa8ca3cf8cc8ad394cf4169ee38c2971f9b)
(cherry picked from commit 49f50c9f3521a54caf0094116b4b47b994253c16)
",git fetch https://review.opendev.org/openstack/manila refs/changes/88/839888/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,7102626e14a6c24f6011b198493635eb68adfab2,fix-docs-use-uc,# NOTE(elod.illes): requirements.txt is needed because otherwise # dependencies are installed during 'develop-inst' tox phase without # constraints which could cause failures in stable branches. -r{toxinidir}/requirements.txt,,4,0
openstack%2Fopenstack-helm-infra~master~I4cd33bbedf91ec81c426c565a08adf162298bc60,openstack/openstack-helm-infra,master,I4cd33bbedf91ec81c426c565a08adf162298bc60,Update bandit playbook,ABANDONED,2022-04-27 20:31:55.000000000,2022-05-02 20:16:06.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-04-27 20:31:55.000000000', 'files': ['playbooks/osh-infra-bandit.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/98dec43f300277f986682b45fc93236513995d7e', 'message': 'Update bandit playbook\n\nChange-Id: I4cd33bbedf91ec81c426c565a08adf162298bc60\n'}]",0,839638,98dec43f300277f986682b45fc93236513995d7e,3,1,1,21420,,,0,"Update bandit playbook

Change-Id: I4cd33bbedf91ec81c426c565a08adf162298bc60
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/38/839638/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/osh-infra-bandit.yaml'],1,98dec43f300277f986682b45fc93236513995d7e,update-bandit, sudo -H pip3 install yq bandit setuptools, sudo -H pip3 install yq bandit==1.7.1 setuptools,1,1
openstack%2Fmanila~stable%2Fxena~I241ab2788b870060e1956a8fc029705378a2a8f4,openstack/manila,stable/xena,I241ab2788b870060e1956a8fc029705378a2a8f4,[CI] Install dependencies for docs target,MERGED,2022-04-29 09:43:04.000000000,2022-05-02 20:11:35.000000000,2022-05-02 20:10:16.000000000,"[{'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 29632}]","[{'number': 1, 'created': '2022-04-29 09:43:04.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/manila/commit/49f50c9f3521a54caf0094116b4b47b994253c16', 'message': ""[CI] Install dependencies for docs target\n\nWhen tox 'docs' target is called, first it installs the dependencies\n(listed in 'deps') in 'installdeps' phase, then it installs manila\n(with its requirements) in 'develop-inst' phase. In the latter case\n'deps' is not used so that the constraints defined in 'deps' are not\nused. This could lead to failures on stable branches when new packages\nare released that break the build. To avoid this, the simplest solution\nis to pre-install requirements, i.e. add requirements.txt to 'docs' tox\ntarget.\n\nConflicts:\n  tox.ini\n\nNOTE(elod.illes): conflict is due to branch specific upper constraints\nfile link.\n\nChange-Id: I241ab2788b870060e1956a8fc029705378a2a8f4\n(cherry picked from commit 9b4c8c92518c25e985c9649b0a7cb430169db712)\n(cherry picked from commit 6b644fa8ca3cf8cc8ad394cf4169ee38c2971f9b)\n""}]",2,839887,49f50c9f3521a54caf0094116b4b47b994253c16,9,3,1,17685,,,0,"[CI] Install dependencies for docs target

When tox 'docs' target is called, first it installs the dependencies
(listed in 'deps') in 'installdeps' phase, then it installs manila
(with its requirements) in 'develop-inst' phase. In the latter case
'deps' is not used so that the constraints defined in 'deps' are not
used. This could lead to failures on stable branches when new packages
are released that break the build. To avoid this, the simplest solution
is to pre-install requirements, i.e. add requirements.txt to 'docs' tox
target.

Conflicts:
  tox.ini

NOTE(elod.illes): conflict is due to branch specific upper constraints
file link.

Change-Id: I241ab2788b870060e1956a8fc029705378a2a8f4
(cherry picked from commit 9b4c8c92518c25e985c9649b0a7cb430169db712)
(cherry picked from commit 6b644fa8ca3cf8cc8ad394cf4169ee38c2971f9b)
",git fetch https://review.opendev.org/openstack/manila refs/changes/87/839887/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,49f50c9f3521a54caf0094116b4b47b994253c16,fix-docs-use-uc,# NOTE(elod.illes): requirements.txt is needed because otherwise # dependencies are installed during 'develop-inst' tox phase without # constraints which could cause failures in stable branches. -r{toxinidir}/requirements.txt,,4,0
openstack%2Fmanila~stable%2Fyoga~I241ab2788b870060e1956a8fc029705378a2a8f4,openstack/manila,stable/yoga,I241ab2788b870060e1956a8fc029705378a2a8f4,[CI] Install dependencies for docs target,MERGED,2022-04-29 09:41:43.000000000,2022-05-02 19:59:06.000000000,2022-05-02 19:57:34.000000000,"[{'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 29632}]","[{'number': 1, 'created': '2022-04-29 09:41:43.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/manila/commit/6b644fa8ca3cf8cc8ad394cf4169ee38c2971f9b', 'message': ""[CI] Install dependencies for docs target\n\nWhen tox 'docs' target is called, first it installs the dependencies\n(listed in 'deps') in 'installdeps' phase, then it installs manila\n(with its requirements) in 'develop-inst' phase. In the latter case\n'deps' is not used so that the constraints defined in 'deps' are not\nused. This could lead to failures on stable branches when new packages\nare released that break the build. To avoid this, the simplest solution\nis to pre-install requirements, i.e. add requirements.txt to 'docs' tox\ntarget.\n\nConflicts:\n  tox.ini\n\nNOTE(elod.illes): conflict is due to branch specific upper constraints\nfile link.\n\nChange-Id: I241ab2788b870060e1956a8fc029705378a2a8f4\n(cherry picked from commit 9b4c8c92518c25e985c9649b0a7cb430169db712)\n""}]",2,839886,6b644fa8ca3cf8cc8ad394cf4169ee38c2971f9b,8,3,1,17685,,,0,"[CI] Install dependencies for docs target

When tox 'docs' target is called, first it installs the dependencies
(listed in 'deps') in 'installdeps' phase, then it installs manila
(with its requirements) in 'develop-inst' phase. In the latter case
'deps' is not used so that the constraints defined in 'deps' are not
used. This could lead to failures on stable branches when new packages
are released that break the build. To avoid this, the simplest solution
is to pre-install requirements, i.e. add requirements.txt to 'docs' tox
target.

Conflicts:
  tox.ini

NOTE(elod.illes): conflict is due to branch specific upper constraints
file link.

Change-Id: I241ab2788b870060e1956a8fc029705378a2a8f4
(cherry picked from commit 9b4c8c92518c25e985c9649b0a7cb430169db712)
",git fetch https://review.opendev.org/openstack/manila refs/changes/86/839886/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,6b644fa8ca3cf8cc8ad394cf4169ee38c2971f9b,fix-docs-use-uc,# NOTE(elod.illes): requirements.txt is needed because otherwise # dependencies are installed during 'develop-inst' tox phase without # constraints which could cause failures in stable branches. -r{toxinidir}/requirements.txt,,4,0
openstack%2Fhorizon~master~Idfec71d209430c7d069133a40ca1a7d340163783,openstack/horizon,master,Idfec71d209430c7d069133a40ca1a7d340163783,Make existing empty metadata properties optional,MERGED,2021-09-30 21:27:12.000000000,2022-05-02 19:48:20.000000000,2022-05-02 19:46:38.000000000,"[{'_account_id': 841}, {'_account_id': 8122}, {'_account_id': 8648}, {'_account_id': 22348}, {'_account_id': 23871}, {'_account_id': 29313}, {'_account_id': 32398}]","[{'number': 1, 'created': '2021-09-30 21:27:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/8c8738f6215a4290a7788e3bb00ff47777ffe376', 'message': 'Make existing empty metadata properties optional\n\nEditing of snapshot image or updating its metadata from Horizon is\nnot allowed until existing properties with empty values are set or\nremoved from metadata tree.\n\nThey are allowed to be None, therefore Horizon should consider them\noptional too.\n\nCloses-Bug: #1945706\nChange-Id: Idfec71d209430c7d069133a40ca1a7d340163783\n'}, {'number': 2, 'created': '2021-10-19 13:25:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/1a72c715e921901900149a3b47dd259d71423317', 'message': 'Make existing empty metadata properties optional\n\nEditing of snapshot image or updating its metadata from Horizon is\nnot allowed until existing properties with empty values are set or\nremoved from metadata tree.\n\nThey are allowed to be None, therefore Horizon should consider them\noptional too.\n\nCloses-Bug: #1945706\nChange-Id: Idfec71d209430c7d069133a40ca1a7d340163783\n'}, {'number': 3, 'created': '2021-10-26 19:44:25.000000000', 'files': ['horizon/static/framework/widgets/metadata/tree/tree.service.js', 'horizon/static/framework/widgets/metadata/tree/metadata-tree-item.html'], 'web_link': 'https://opendev.org/openstack/horizon/commit/4e0f5a5a85467ca83743e6e8126cd570f329afb9', 'message': 'Make existing empty metadata properties optional\n\nEditing of snapshot image or updating its metadata from Horizon is\nnot allowed until existing properties with empty values are set or\nremoved from metadata tree.\n\nThey are allowed to be None, therefore Horizon should consider them\noptional too.\n\nCloses-Bug: #1945706\nChange-Id: Idfec71d209430c7d069133a40ca1a7d340163783\n'}]",5,812009,4e0f5a5a85467ca83743e6e8126cd570f329afb9,23,7,3,6914,,,0,"Make existing empty metadata properties optional

Editing of snapshot image or updating its metadata from Horizon is
not allowed until existing properties with empty values are set or
removed from metadata tree.

They are allowed to be None, therefore Horizon should consider them
optional too.

Closes-Bug: #1945706
Change-Id: Idfec71d209430c7d069133a40ca1a7d340163783
",git fetch https://review.opendev.org/openstack/horizon refs/changes/09/812009/1 && git format-patch -1 --stdout FETCH_HEAD,"['horizon/static/framework/widgets/metadata/tree/tree.service.js', 'horizon/static/framework/widgets/metadata/tree/metadata-tree-item.html']",2,8c8738f6215a4290a7788e3bb00ff47777ffe376,metadata," ng-required=""ctrl.item.leaf.required""", required,7,1
openstack%2Fpython-tripleoclient~stable%2Fwallaby~Ia424b2eb251b2d31a97256b5e8882c70058d6a0b,openstack/python-tripleoclient,stable/wallaby,Ia424b2eb251b2d31a97256b5e8882c70058d6a0b,Consolidate ephemeral Heat interaction to single try/finally,MERGED,2022-04-21 14:53:18.000000000,2022-05-02 19:43:20.000000000,2022-05-02 19:42:11.000000000,"[{'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2022-04-21 14:53:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/36f62dad0a99b35aaac0c69c1158c67eb25aedff', 'message': 'Consolidate ephemeral Heat interaction to single try/finally\n\nEphemeral Heat interaction was spread across several areas of the\novercloud deploy, including the entire config-download execution. To\nreduce the amount of time that ephemeral Heat needs\nto stay running, consolidate all the Heat interaction to a single\ntry/finally block. The overcloud export is moved earlier in the\nexecution since it no longer requires Heat API access. This also makes\nthe shutdown of ephemeral Heat and database backup in just a single\nlocation.\n\nChange-Id: Ia424b2eb251b2d31a97256b5e8882c70058d6a0b\nSigned-off-by: James Slagle <jslagle@redhat.com>\n(cherry picked from commit 2843b447dc7f5860015e8b24b7dffa25758f9bfb)\n'}, {'number': 2, 'created': '2022-04-22 11:44:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/ea2c4479e7cc8790143907f8c4760b9a4a0b7203', 'message': 'Consolidate ephemeral Heat interaction to single try/finally\n\nEphemeral Heat interaction was spread across several areas of the\novercloud deploy, including the entire config-download execution. To\nreduce the amount of time that ephemeral Heat needs\nto stay running, consolidate all the Heat interaction to a single\ntry/finally block. The overcloud export is moved earlier in the\nexecution since it no longer requires Heat API access. This also makes\nthe shutdown of ephemeral Heat and database backup in just a single\nlocation.\n\nChange-Id: Ia424b2eb251b2d31a97256b5e8882c70058d6a0b\nSigned-off-by: James Slagle <jslagle@redhat.com>\n(cherry picked from commit 2843b447dc7f5860015e8b24b7dffa25758f9bfb)\n'}, {'number': 3, 'created': '2022-04-22 13:07:58.000000000', 'files': ['tripleoclient/tests/test_utils.py', 'tripleoclient/tests/v1/overcloud_deploy/test_overcloud_deploy.py', 'tripleoclient/v1/tripleo_deploy.py', 'tripleoclient/constants.py', 'tripleoclient/utils.py', 'tripleoclient/v1/overcloud_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/03ba5a6e64412f7a9802a546a70f3f7e23abc830', 'message': 'Consolidate ephemeral Heat interaction to single try/finally\n\nEphemeral Heat interaction was spread across several areas of the\novercloud deploy, including the entire config-download execution. To\nreduce the amount of time that ephemeral Heat needs\nto stay running, consolidate all the Heat interaction to a single\ntry/finally block. The overcloud export is moved earlier in the\nexecution since it no longer requires Heat API access. This also makes\nthe shutdown of ephemeral Heat and database backup in just a single\nlocation.\n\nChange-Id: Ia424b2eb251b2d31a97256b5e8882c70058d6a0b\nSigned-off-by: James Slagle <jslagle@redhat.com>\n(cherry picked from commit 2843b447dc7f5860015e8b24b7dffa25758f9bfb)\n'}]",6,838913,03ba5a6e64412f7a9802a546a70f3f7e23abc830,25,4,3,7144,,,0,"Consolidate ephemeral Heat interaction to single try/finally

Ephemeral Heat interaction was spread across several areas of the
overcloud deploy, including the entire config-download execution. To
reduce the amount of time that ephemeral Heat needs
to stay running, consolidate all the Heat interaction to a single
try/finally block. The overcloud export is moved earlier in the
execution since it no longer requires Heat API access. This also makes
the shutdown of ephemeral Heat and database backup in just a single
location.

Change-Id: Ia424b2eb251b2d31a97256b5e8882c70058d6a0b
Signed-off-by: James Slagle <jslagle@redhat.com>
(cherry picked from commit 2843b447dc7f5860015e8b24b7dffa25758f9bfb)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/13/838913/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/tests/test_utils.py', 'tripleoclient/tests/v1/overcloud_deploy/test_overcloud_deploy.py', 'tripleoclient/v1/tripleo_deploy.py', 'tripleoclient/constants.py', 'tripleoclient/utils.py', 'tripleoclient/v1/overcloud_deploy.py']",6,36f62dad0a99b35aaac0c69c1158c67eb25aedff,," def _deploy_postconfig(self, parsed_args): horizon_url = None overcloud_endpoint = None old_rcpath = None rcpath = None # All code within this ""try"" block requires Heat, and no other code # outside the block should require Heat. With ephemeral Heat, the Heat # pods will be cleaned up in the ""finally"" clause, such that it's not # running during later parts of overcloud deploy. if ephemeral_heat: self.setup_ephemeral_heat(parsed_args) horizon_url = deployment.get_horizon_url( stack=stack.stack_name, heat_type=parsed_args.heat_type, working_dir=self.working_dir) overcloud_endpoint = utils.get_overcloud_endpoint( self.working_dir) overcloud_admin_vip = utils.get_stack_saved_output_item( 'KeystoneAdminVip', self.working_dir) rc_params = utils.get_rc_params(self.working_dir) # For backwards compatibility, we will also write overcloudrc # to $HOME and then self.working_dir. old_rcpath = deployment.create_overcloudrc( parsed_args.stack, overcloud_endpoint, overcloud_admin_vip, rc_params, parsed_args.no_proxy) rcpath = deployment.create_overcloudrc( parsed_args.stack, overcloud_endpoint, overcloud_admin_vip, rc_params, parsed_args.no_proxy, self.working_dir) finally: self._deploy_postconfig(parsed_args)"," def _format_endpoint_name(self, service, interface): return re.sub('v[0-9]+', '', service.capitalize() + interface.capitalize()) def _deploy_postconfig(self, stack, parsed_args): if ephemeral_heat and do_stack: self.setup_ephemeral_heat(parsed_args) except (KeyboardInterrupt, Exception): raise overcloud_endpoint = None old_rcpath = None rcpath = None horizon_url = None if stack: overcloud_endpoint = utils.get_overcloud_endpoint( self.working_dir) overcloud_admin_vip = utils.get_stack_saved_output_item( 'KeystoneAdminVip', self.working_dir) rc_params = utils.get_rc_params(self.working_dir) # For backwards compatibility, we will also write overcloudrc # to $HOME and then self.working_dir. old_rcpath = deployment.create_overcloudrc( parsed_args.stack, overcloud_endpoint, overcloud_admin_vip, rc_params, parsed_args.no_proxy) rcpath = deployment.create_overcloudrc( parsed_args.stack, overcloud_endpoint, overcloud_admin_vip, rc_params, parsed_args.no_proxy, self.working_dir) self._deploy_postconfig(stack, parsed_args)",44,52
openstack%2Fmanila-ui~master~I81024f02006206ea1d58e47d81a6f473ef148c32,openstack/manila-ui,master,I81024f02006206ea1d58e47d81a6f473ef148c32,Drop lower-constraints.txt and its testing,MERGED,2022-05-01 01:19:13.000000000,2022-05-02 19:04:11.000000000,2022-05-02 19:01:54.000000000,"[{'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2022-05-01 01:19:13.000000000', 'files': ['requirements.txt', '.zuul.yaml', 'lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/manila-ui/commit/68294505b14820eaf049ef79d41b8d3c16c30544', 'message': 'Drop lower-constraints.txt and its testing\n\nAs discussed in TC PTG[1] and TC resolution[2], we are\ndropping the lower-constraints.txt file and its testing.\nWe will keep lower bounds in the requirements.txt file but\nwith a note that these are not tested lower bounds and we\ntry our best to keep them updated.\n\n[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326\n[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal\n\nChange-Id: I81024f02006206ea1d58e47d81a6f473ef148c32\n'}]",4,840057,68294505b14820eaf049ef79d41b8d3c16c30544,11,3,1,8556,,,0,"Drop lower-constraints.txt and its testing

As discussed in TC PTG[1] and TC resolution[2], we are
dropping the lower-constraints.txt file and its testing.
We will keep lower bounds in the requirements.txt file but
with a note that these are not tested lower bounds and we
try our best to keep them updated.

[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326
[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal

Change-Id: I81024f02006206ea1d58e47d81a6f473ef148c32
",git fetch https://review.opendev.org/openstack/manila-ui refs/changes/57/840057/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', '.zuul.yaml', 'lower-constraints.txt', 'tox.ini']",4,68294505b14820eaf049ef79d41b8d3c16c30544,drop-l-c,, [testenv:lower-constraints] deps = -c{toxinidir}/lower-constraints.txt -r{toxinidir}/test-requirements.txt -r{toxinidir}/requirements.txt,4,141
openstack%2Fcinder~master~I1cff87ae455d18a551917dfeae8dccdfe4c665b0,openstack/cinder,master,I1cff87ae455d18a551917dfeae8dccdfe4c665b0,Lock quota reservation per-project to prevent races,ABANDONED,2019-11-19 22:14:01.000000000,2022-05-02 18:36:56.000000000,,"[{'_account_id': 1736}, {'_account_id': 4523}, {'_account_id': 9008}, {'_account_id': 9373}, {'_account_id': 9535}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11611}, {'_account_id': 12016}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15831}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19004}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29705}, {'_account_id': 30590}, {'_account_id': 32071}, {'_account_id': 32155}]","[{'number': 1, 'created': '2019-11-19 22:14:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/1f527bf446302bb7bfa6c8716f3e86919f3130f3', 'message': 'Lock quota reservation per-project to prevent races\n\nA race condition exists where if the quota_usages\ntable is empty, multiple simultaneous volume create\noperations may introduce duplicate rows with the same\nresource (volume) and project_id.\n\nThis causes the quota code to generally not function\ncorrectly.\n\nThe database should likely have a contraint to prevent\nthat from happening.  But, this fix will help mitigate\nthe problem and can be backported to earlier releases,\nunlike a database schema change.  It also can be applied\nto a deployment that already has a database in this invalid\nstate.\n\nWhen quota reservation is done, lock on the project id\nfor that reservation.  This will introduce a performance\npenalty for a single tenant performing many simultaneous\nvolume creates, but will prevent the quota system from\nbreaking due to this race condition.\n\nChange-Id: I1cff87ae455d18a551917dfeae8dccdfe4c665b0\n'}, {'number': 2, 'created': '2020-06-15 17:37:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a51a1c12192fb99f283349d99e58109a9748b498', 'message': 'Lock quota reservation per-project to prevent races\n\nA race condition exists where if the quota_usages\ntable is empty, multiple simultaneous volume create\noperations may introduce duplicate rows with the same\nresource (volume) and project_id.\n\nThis causes the quota code to generally not function\ncorrectly.\n\nThe database should likely have a contraint to prevent\nthat from happening.  But, this fix will help mitigate\nthe problem and can be backported to earlier releases,\nunlike a database schema change.  It also can be applied\nto a deployment that already has a database in this invalid\nstate.\n\nWhen quota reservation is done, lock on the project id\nfor that reservation.  This will introduce a performance\npenalty for a single tenant performing many simultaneous\nvolume creates, but will prevent the quota system from\nbreaking due to this race condition.\n\nChange-Id: I1cff87ae455d18a551917dfeae8dccdfe4c665b0\n'}, {'number': 3, 'created': '2020-06-30 14:21:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/708eef1614f28ca856e139ef2126560e6847e3e8', 'message': 'Lock quota reservation per-project to prevent races\n\nA race condition exists where if the quota_usages\ntable is empty, multiple simultaneous volume create\noperations may introduce duplicate rows with the same\nresource (volume) and project_id.\n\nThis causes the quota code to generally not function\ncorrectly.\n\nThe database should likely have a contraint to prevent\nthat from happening.  But, this fix will help mitigate\nthe problem and can be backported to earlier releases,\nunlike a database schema change.  It also can be applied\nto a deployment that already has a database in this invalid\nstate.\n\nWhen quota reservation is done, lock on the project id\nfor that reservation.  This will introduce a performance\npenalty for a single tenant performing many simultaneous\nvolume creates, but will prevent the quota system from\nbreaking due to this race condition.\n\nChange-Id: I1cff87ae455d18a551917dfeae8dccdfe4c665b0\n'}, {'number': 4, 'created': '2020-07-02 10:29:13.000000000', 'files': ['cinder/tests/unit/volume/test_volume.py', 'cinder/quota.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/eec61abc1997fd5a4e414b13f5b584aeaa73259c', 'message': 'Lock quota reservation per-project to prevent races\n\nA race condition exists where if the quota_usages\ntable is empty, multiple simultaneous volume create\noperations may introduce duplicate rows with the same\nresource (volume) and project_id.\n\nThis causes the quota code to generally not function\ncorrectly.\n\nThe database should likely have a contraint to prevent\nthat from happening.  But, this fix will help mitigate\nthe problem and can be backported to earlier releases,\nunlike a database schema change.  It also can be applied\nto a deployment that already has a database in this invalid\nstate.\n\nWhen quota reservation is done, lock on the project id\nfor that reservation.  This will introduce a performance\npenalty for a single tenant performing many simultaneous\nvolume creates, but will prevent the quota system from\nbreaking due to this race condition.\n\nChange-Id: I1cff87ae455d18a551917dfeae8dccdfe4c665b0\n'}]",2,695096,eec61abc1997fd5a4e414b13f5b584aeaa73259c,124,36,4,4523,,,0,"Lock quota reservation per-project to prevent races

A race condition exists where if the quota_usages
table is empty, multiple simultaneous volume create
operations may introduce duplicate rows with the same
resource (volume) and project_id.

This causes the quota code to generally not function
correctly.

The database should likely have a contraint to prevent
that from happening.  But, this fix will help mitigate
the problem and can be backported to earlier releases,
unlike a database schema change.  It also can be applied
to a deployment that already has a database in this invalid
state.

When quota reservation is done, lock on the project id
for that reservation.  This will introduce a performance
penalty for a single tenant performing many simultaneous
volume creates, but will prevent the quota system from
breaking due to this race condition.

Change-Id: I1cff87ae455d18a551917dfeae8dccdfe4c665b0
",git fetch https://review.opendev.org/openstack/cinder refs/changes/96/695096/3 && git format-patch -1 --stdout FETCH_HEAD,['cinder/quota.py'],1,1f527bf446302bb7bfa6c8716f3e86919f3130f3,I1cff87ae455d18a551917dfeae8dccdfe4c665b0,"from cinder import coordination @coordination.synchronized('quota-reserve-{lock_id}') def _do_reserve(self, context, resources, quotas, deltas, expire, project_id, lock_id): def _reserve(self, context, resources, quotas, deltas, expire, project_id): """"""Apply a lock to quota reservation. We want to lock on the project id being used in the database -- this is project_id if one is passed in, or context.project_id if not. This is done because the db quota code is inherently racy around checking for an existing entry vs. creating a new entry. """""" lock_id = project_id if project_id else context.project_id return self._do_reserve(context, resources, quotas, deltas, expire, project_id, lock_id) "," # NOTE(Vek): We're not worried about races at this point. # Yes, the admin may be in the process of reducing # quotas, but that's a pretty rare thing. def _reserve(self, context, resources, quotas, deltas, expire, project_id):",17,4
openstack%2Fmanila~master~I241ab2788b870060e1956a8fc029705378a2a8f4,openstack/manila,master,I241ab2788b870060e1956a8fc029705378a2a8f4,[CI] Install dependencies for docs target,MERGED,2022-04-28 16:23:47.000000000,2022-05-02 18:33:57.000000000,2022-05-02 18:32:31.000000000,"[{'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 28706}, {'_account_id': 29632}, {'_account_id': 32029}]","[{'number': 1, 'created': '2022-04-28 16:23:47.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/manila/commit/9b4c8c92518c25e985c9649b0a7cb430169db712', 'message': ""[CI] Install dependencies for docs target\n\nWhen tox 'docs' target is called, first it installs the dependencies\n(listed in 'deps') in 'installdeps' phase, then it installs manila\n(with its requirements) in 'develop-inst' phase. In the latter case\n'deps' is not used so that the constraints defined in 'deps' are not\nused. This could lead to failures on stable branches when new packages\nare released that break the build. To avoid this, the simplest solution\nis to pre-install requirements, i.e. add requirements.txt to 'docs' tox\ntarget.\n\nChange-Id: I241ab2788b870060e1956a8fc029705378a2a8f4\n""}]",2,839791,9b4c8c92518c25e985c9649b0a7cb430169db712,14,5,1,17685,,,0,"[CI] Install dependencies for docs target

When tox 'docs' target is called, first it installs the dependencies
(listed in 'deps') in 'installdeps' phase, then it installs manila
(with its requirements) in 'develop-inst' phase. In the latter case
'deps' is not used so that the constraints defined in 'deps' are not
used. This could lead to failures on stable branches when new packages
are released that break the build. To avoid this, the simplest solution
is to pre-install requirements, i.e. add requirements.txt to 'docs' tox
target.

Change-Id: I241ab2788b870060e1956a8fc029705378a2a8f4
",git fetch https://review.opendev.org/openstack/manila refs/changes/91/839791/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,9b4c8c92518c25e985c9649b0a7cb430169db712,fix-docs-use-uc,# NOTE(elod.illes): requirements.txt is needed because otherwise # dependencies are installed during 'develop-inst' tox phase without # constraints which could cause failures in stable branches. -r{toxinidir}/requirements.txt,,4,0
openstack%2Fkolla-ansible~master~I11a86f59c1fb9cddde3370b544ee7bf4e8ae4fb4,openstack/kolla-ansible,master,I11a86f59c1fb9cddde3370b544ee7bf4e8ae4fb4,Fix typos in docs,MERGED,2022-05-02 13:45:20.000000000,2022-05-02 18:08:32.000000000,2022-05-02 18:07:20.000000000,"[{'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-05-02 13:45:20.000000000', 'files': ['doc/source/reference/logging-and-monitoring/prometheus-guide.rst', 'ansible/roles/grafana/templates/prometheus.yaml.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/555cd39f1a25c2db64de34d68f91dc1cd44d52fc', 'message': 'Fix typos in docs\n\nThis is a follow up to I7e5c1e20c7b66b64cbd333f669ef8d8da60daaa8.\n\nChange-Id: I11a86f59c1fb9cddde3370b544ee7bf4e8ae4fb4\n'}]",1,840184,555cd39f1a25c2db64de34d68f91dc1cd44d52fc,8,2,1,15197,,,0,"Fix typos in docs

This is a follow up to I7e5c1e20c7b66b64cbd333f669ef8d8da60daaa8.

Change-Id: I11a86f59c1fb9cddde3370b544ee7bf4e8ae4fb4
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/84/840184/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/reference/logging-and-monitoring/prometheus-guide.rst', 'ansible/roles/grafana/templates/prometheus.yaml.j2']",2,555cd39f1a25c2db64de34d68f91dc1cd44d52fc,,,,2,3
openstack%2Fmurano-dashboard~master~I87c2bf169a994e51423c374a00cb785181b2d7fc,openstack/murano-dashboard,master,I87c2bf169a994e51423c374a00cb785181b2d7fc,Drop lower-constraints.txt and its testing,ABANDONED,2022-05-01 01:25:33.000000000,2022-05-02 18:05:17.000000000,,"[{'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2022-05-01 01:25:33.000000000', 'files': ['requirements.txt', 'lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/murano-dashboard/commit/fb8ce3522ed55044b8f796be8443896daffd40e1', 'message': 'Drop lower-constraints.txt and its testing\n\nAs discussed in TC PTG[1] and TC resolution[2], we are\ndropping the lower-constraints.txt file and its testing.\nWe will keep lower bounds in the requirements.txt file but\nwith a note that these are not tested lower bounds and we\ntry our best to keep them updated.\n\n[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326\n[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal\n\nChange-Id: I87c2bf169a994e51423c374a00cb785181b2d7fc\n'}]",2,840084,fb8ce3522ed55044b8f796be8443896daffd40e1,5,2,1,8556,,,0,"Drop lower-constraints.txt and its testing

As discussed in TC PTG[1] and TC resolution[2], we are
dropping the lower-constraints.txt file and its testing.
We will keep lower bounds in the requirements.txt file but
with a note that these are not tested lower bounds and we
try our best to keep them updated.

[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326
[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal

Change-Id: I87c2bf169a994e51423c374a00cb785181b2d7fc
",git fetch https://review.opendev.org/openstack/murano-dashboard refs/changes/84/840084/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'lower-constraints.txt', 'tox.ini']",3,fb8ce3522ed55044b8f796be8443896daffd40e1,drop-l-c,, [testenv:lower-constraints] deps = -c{toxinidir}/lower-constraints.txt -r{toxinidir}/test-requirements.txt -r{toxinidir}/requirements.txt http://tarballs.openstack.org/heat-dashboard/heat-dashboard-master.tar.gz,4,151
openstack%2Fansible-collections-openstack~stable%2F1.0.0~I1c0f787f7f67c92f92dd106fc8d55580461e4aa3,openstack/ansible-collections-openstack,stable/1.0.0,I1c0f787f7f67c92f92dd106fc8d55580461e4aa3,"Fixed return value disable{d,s}_reason in compute_service_info module",MERGED,2022-05-02 12:30:33.000000000,2022-05-02 17:18:44.000000000,2022-05-02 17:18:44.000000000,"[{'_account_id': 22348}, {'_account_id': 32962}]","[{'number': 1, 'created': '2022-05-02 12:30:33.000000000', 'files': ['ci/roles/nova_services/tasks/main.yml', 'plugins/modules/compute_service_info.py'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/a70a4c3424a0b7c44d71a4d8e843852c556bab5f', 'message': 'Fixed return value disable{d,s}_reason in compute_service_info module\n\nOpenStack SDK 0.53 renamed parameter disables_reason to disabled_reason\nin openstack/compute/v2/service.py, hence our compute_service_info\nmodule will return different values depending on which release of\nthe OpenStack SDK is used.\n\nRef.: https://github.com/openstack/openstacksdk/commit/5450c4525313581b2ebc0e1ab6ac6252964c595f\n\nChange-Id: I1c0f787f7f67c92f92dd106fc8d55580461e4aa3\n(cherry picked from commit cf5007d478d0d90b487654373572ceb30d8178a8)\n'}]",2,840192,a70a4c3424a0b7c44d71a4d8e843852c556bab5f,9,2,1,32962,,,0,"Fixed return value disable{d,s}_reason in compute_service_info module

OpenStack SDK 0.53 renamed parameter disables_reason to disabled_reason
in openstack/compute/v2/service.py, hence our compute_service_info
module will return different values depending on which release of
the OpenStack SDK is used.

Ref.: https://github.com/openstack/openstacksdk/commit/5450c4525313581b2ebc0e1ab6ac6252964c595f

Change-Id: I1c0f787f7f67c92f92dd106fc8d55580461e4aa3
(cherry picked from commit cf5007d478d0d90b487654373572ceb30d8178a8)
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/92/840192/1 && git format-patch -1 --stdout FETCH_HEAD,"['ci/roles/nova_services/tasks/main.yml', 'plugins/modules/compute_service_info.py']",2,a70a4c3424a0b7c44d71a4d8e843852c556bab5f,fix_fields_on_victoria-stable/1.0.0, returned: success and OpenStack SDK >= 0.53 type: str disables_reason: description: The reason why the service is disabled returned: success and OpenStack SDK < 0.53, returned: success,15,2
openstack%2Fdesignate~master~I452a1149f417089a4b87f05b78c94c7a31fcbd66,openstack/designate,master,I452a1149f417089a4b87f05b78c94c7a31fcbd66,Drop lower-constraints.txt and its testing,MERGED,2022-04-30 20:58:20.000000000,2022-05-02 17:07:31.000000000,2022-05-02 17:05:22.000000000,"[{'_account_id': 5572}, {'_account_id': 11628}, {'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-30 20:58:20.000000000', 'files': ['requirements.txt', '.zuul.yaml', 'lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/designate/commit/081a76a926aaf85ffaedf9442861cb3456e8e896', 'message': 'Drop lower-constraints.txt and its testing\n\nAs discussed in TC PTG[1] and TC resolution[2], we are\ndropping the lower-constraints.txt file and its testing.\nWe will keep lower bounds in the requirements.txt file but\nwith a note that these are not tested lower bounds and we\ntry our best to keep them updated.\n\n[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326\n[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal\n\nChange-Id: I452a1149f417089a4b87f05b78c94c7a31fcbd66\n'}]",3,840039,081a76a926aaf85ffaedf9442861cb3456e8e896,11,4,1,8556,,,0,"Drop lower-constraints.txt and its testing

As discussed in TC PTG[1] and TC resolution[2], we are
dropping the lower-constraints.txt file and its testing.
We will keep lower bounds in the requirements.txt file but
with a note that these are not tested lower bounds and we
try our best to keep them updated.

[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326
[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal

Change-Id: I452a1149f417089a4b87f05b78c94c7a31fcbd66
",git fetch https://review.opendev.org/openstack/designate refs/changes/39/840039/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', '.zuul.yaml', 'lower-constraints.txt', 'tox.ini']",4,081a76a926aaf85ffaedf9442861cb3456e8e896,drop-l-c,,[testenv:lower-constraints] skip_install = True commands = python -m pip install --no-deps -U . stestr run {posargs} deps = -c{toxinidir}/lower-constraints.txt -r{toxinidir}/test-requirements.txt -r{toxinidir}/requirements.txt ,4,166
openstack%2Fbifrost~master~I1c8b768a3daf0af0d8e30d935558b6fdd912adfd,openstack/bifrost,master,I1c8b768a3daf0af0d8e30d935558b6fdd912adfd,Allow for almalinux and rocky installations,MERGED,2022-04-10 21:29:33.000000000,2022-05-02 16:54:39.000000000,2022-05-02 16:52:37.000000000,"[{'_account_id': 10239}, {'_account_id': 13671}, {'_account_id': 14826}, {'_account_id': 14885}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 25600}]","[{'number': 1, 'created': '2022-04-10 21:29:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/12e21e0ab37453e94c452c19f8a4b814db092b48', 'message': 'Add support for almalinux and rocky\n\nWith the changes to bifrost-ironic-install required_defaults for\nthe RedHat_family, we can now add support for almalinux and rocky.\n\nFedora 32 has been EOL for close to a year, and fedora support\nbeing deprecated. We can modify the use_firewalld to check for\nEL8 and apply firewalld tasks to EL8 copycats like alma/rocky.\n\n(Coincidentally Fedora also reporting as RedHat_family, and its\nmajor version larger than 8, the case should continue apply\nfirewalld, and probably still work.)\n\nDepends-On: I037e1b0306315f7d12af0a4b6cba4226c24e6748\nDepends-On: Ieb35391fae5bd24ab420dc4239117e045f8b35ed\nChange-Id: I1c8b768a3daf0af0d8e30d935558b6fdd912adfd\n'}, {'number': 2, 'created': '2022-04-11 15:55:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/5d6f9805deeb5f9d34c0a6bfe0aedcfd35652d1b', 'message': 'Add support for almalinux and rocky\n\nWith the changes to bifrost-ironic-install required_defaults for\nthe RedHat_family, we can now add support for almalinux and rocky.\n\nFedora 32 has been EOL for close to a year, and fedora support\nbeing deprecated. We can modify the use_firewalld to check for\nEL8 and apply firewalld tasks to EL8 copycats like alma/rocky.\n\n(Coincidentally Fedora also reporting as RedHat_family, and its\nmajor version larger than 8, the case should continue apply\nfirewalld, and probably still work.)\n\nThis patch requires a change to opendev/bindep which only has a\nmaster branch, so we put it in skip_upgrade to avoid trying to\ncheckout a nonexistent branch.\n\nDepends-On: I037e1b0306315f7d12af0a4b6cba4226c24e6748\nDepends-On: Ieb35391fae5bd24ab420dc4239117e045f8b35ed\nChange-Id: I1c8b768a3daf0af0d8e30d935558b6fdd912adfd\n'}, {'number': 3, 'created': '2022-04-13 10:39:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/ecd62b0e100676cfe76c8e54d17e5cc14e634234', 'message': 'Allow for almalinux and rocky installations\n\nWith the changes to bifrost-ironic-install required_defaults for\nthe RedHat_family, we can now try to not get in the way of\ndeploying on distros like almalinux and rocky.\n\nFedora 32 has been EOL for close to a year, and fedora support\nbeing deprecated. We can modify the use_firewalld to check for\nEL8 and apply firewalld tasks to EL8 copycats like alma/rocky.\n\n(Coincidentally Fedora also reporting as RedHat_family, and its\nmajor version larger than 8, the case should continue apply\nfirewalld, and probably still work.)\n\nChange-Id: I1c8b768a3daf0af0d8e30d935558b6fdd912adfd\n'}, {'number': 4, 'created': '2022-04-13 11:42:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/905df10e80bd7ad53090dbfe26fea2b68b23d10f', 'message': ""Allow for almalinux and rocky installations\n\nWith the changes to bifrost-ironic-install required_defaults for\nthe RedHat_family, we can now try to not get in the way of\ndeploying on distros like almalinux and rocky.\n\nFedora 32 has been EOL for close to a year, so we'll just assume\nfirewalld and repurpose the use_firewalld case from Fedora to check\nfor os_family 'RedHat' and major versions 8 or higher to catch all\nthe new EL8 distributions. Coincidentally Fedora will also report\nos_family RedHat and fall into this clause.\n\n[1] https://review.opendev.org/c/openstack/bifrost/+/818780\n\nChange-Id: I1c8b768a3daf0af0d8e30d935558b6fdd912adfd\n""}, {'number': 5, 'created': '2022-04-13 11:44:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/157b7140ed35b1ee591e9a8eba03b4a00157ce33', 'message': ""Allow for almalinux and rocky installations\n\nWith the changes to bifrost-ironic-install required_defaults for\nthe RedHat_family, we can now try to not get in the way of\ndeploying on distros like almalinux and rocky.\n\nFedora 32 has been EOL for close to a year, so we'll just assume\nfirewalld and repurpose the use_firewalld case from Fedora to check\nfor os_family 'RedHat' and major versions 8 or higher to catch all\nthe new EL8 distributions. Coincidentally Fedora will also report\nos_family RedHat and fall into this clause.\n\nChange-Id: I1c8b768a3daf0af0d8e30d935558b6fdd912adfd\n""}, {'number': 6, 'created': '2022-04-19 12:31:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/24b6a39a9cb980589e1b7f206c3a74b5772ae417', 'message': ""Allow for almalinux and rocky installations\n\nWith the changes to bifrost-ironic-install required_defaults for\nthe RedHat_family, we can now try to not get in the way of\ndeploying on distros like almalinux and rocky.\n\nFedora 32 has been EOL for close to a year, so we'll just assume\nfirewalld for that case. Distributions RedHat, CentOS and Fedora\nare in the RedHat_family, so assume firewalld all distributions\nin the family.\n\nChange-Id: I1c8b768a3daf0af0d8e30d935558b6fdd912adfd\n""}, {'number': 7, 'created': '2022-04-19 13:29:37.000000000', 'files': ['playbooks/roles/bifrost-ironic-install/defaults/main.yml', 'scripts/install-deps.sh'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/7640a231a84f87939d3242b062f4ca1e89bcfa4a', 'message': ""Allow for almalinux and rocky installations\n\nWith the changes to bifrost-ironic-install required_defaults for\nthe RedHat_family, we can now try to not get in the way of\ndeploying on distros like almalinux and rocky.\n\nFedora 32 has been EOL for close to a year, so we'll just assume\nfirewalld for that case. Distributions RedHat, CentOS and Fedora\nare in the RedHat_family, so assume firewalld all distributions\nin the family.\n\nChange-Id: I1c8b768a3daf0af0d8e30d935558b6fdd912adfd\n""}]",20,837235,7640a231a84f87939d3242b062f4ca1e89bcfa4a,33,7,7,25600,,,0,"Allow for almalinux and rocky installations

With the changes to bifrost-ironic-install required_defaults for
the RedHat_family, we can now try to not get in the way of
deploying on distros like almalinux and rocky.

Fedora 32 has been EOL for close to a year, so we'll just assume
firewalld for that case. Distributions RedHat, CentOS and Fedora
are in the RedHat_family, so assume firewalld all distributions
in the family.

Change-Id: I1c8b768a3daf0af0d8e30d935558b6fdd912adfd
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/35/837235/7 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/roles/bifrost-ironic-install/defaults/main.yml', 'scripts/install-deps.sh']",2,12e21e0ab37453e94c452c19f8a4b814db092b48,os_family, rhel|fedora|centos|almalinux|rocky), rhel|fedora|centos),3,3
openstack%2Fbifrost~master~Ieb35391fae5bd24ab420dc4239117e045f8b35ed,openstack/bifrost,master,Ieb35391fae5bd24ab420dc4239117e045f8b35ed,Simplify bifrost-ironic-install required_defaults,MERGED,2022-04-10 21:29:33.000000000,2022-05-02 16:53:42.000000000,2022-05-02 16:52:34.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 25600}]","[{'number': 1, 'created': '2022-04-10 21:29:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/c81c2e237c3498a58e8a9cf2a5897a704400274b', 'message': ""Simplify bifrost-ironic-install required_defaults\n\nremoving required_defaults_RedHat.yml;\nefi_distro seems to only get used for grub_config_path, and 'rhel'\nis not the correct path on my UEFI rhel8 system. It's 'redhat', and\naccording to the only documentation [1] I found on a quick search,\nit's probably been this since EL6. Which means we can use\n'redhat' all over the board.\n\nThe unique values in efi_distro, grub_efi_binary and shim_efi_binary\ncorrespond to ansible_facts['distribution'], which holds true for\ncentos and fedora aswell, so we can put all these in RedHat_family\n\nremoving required_defaults_CentOS.yml;\nThe common values from required_defaults_RedHat_family.yml should\nsuffice.\n\nremoving required_defaults_Fedora.yml;\nSupport for fedora has been deprecated [2], but since it's in the\nos_family of redhat, we're only missing 'qemu-kvm' and\n'policycoreutils-python-utils' from 'required_packages', so\ndeployment will probably still work.\n\n[1] https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/6/html/installation_guide/s2-grub-whatis-booting-uefi\n[2] https://review.opendev.org/c/openstack/bifrost/+/818780\n\nChange-Id: Ieb35391fae5bd24ab420dc4239117e045f8b35ed\n""}, {'number': 2, 'created': '2022-04-13 10:39:30.000000000', 'files': ['playbooks/roles/bifrost-ironic-install/defaults/required_defaults_CentOS.yml', 'playbooks/roles/bifrost-ironic-install/defaults/required_defaults_RedHat_family.yml', 'playbooks/roles/bifrost-ironic-install/defaults/required_defaults_Fedora.yml', 'playbooks/roles/bifrost-ironic-install/defaults/required_defaults_RedHat.yml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/3ed6ba0264035055457fbbfe3e667c230fb86502', 'message': ""Simplify bifrost-ironic-install required_defaults\n\nremoving required_defaults_RedHat.yml;\nefi_distro seems to only get used for grub_config_path, and 'rhel'\nis not the correct path on my UEFI rhel8 system. It's 'redhat', and\naccording to the only documentation [1] I found on a quick search,\nit's probably been this since EL6. Which means we can use\n'redhat' all over the board.\n\nThe unique values in efi_distro, grub_efi_binary and shim_efi_binary\ncorrespond to ansible_facts['distribution'], which holds true for\ncentos and fedora aswell, so we can put all these in RedHat_family\n\nremoving required_defaults_CentOS.yml;\nThe common values from required_defaults_RedHat_family.yml should\nsuffice.\n\nremoving required_defaults_Fedora.yml;\nSupport for fedora has been deprecated [2], but since it's in the\nos_family of redhat, we're only missing 'qemu-kvm' and\n'policycoreutils-python-utils' from 'required_packages', so\ndeployment will probably still work.\n\n[1] https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/6/html/installation_guide/s2-grub-whatis-booting-uefi\n[2] https://review.opendev.org/c/openstack/bifrost/+/818780\n\nChange-Id: Ieb35391fae5bd24ab420dc4239117e045f8b35ed\n""}]",3,837234,3ed6ba0264035055457fbbfe3e667c230fb86502,14,4,2,25600,,,0,"Simplify bifrost-ironic-install required_defaults

removing required_defaults_RedHat.yml;
efi_distro seems to only get used for grub_config_path, and 'rhel'
is not the correct path on my UEFI rhel8 system. It's 'redhat', and
according to the only documentation [1] I found on a quick search,
it's probably been this since EL6. Which means we can use
'redhat' all over the board.

The unique values in efi_distro, grub_efi_binary and shim_efi_binary
correspond to ansible_facts['distribution'], which holds true for
centos and fedora aswell, so we can put all these in RedHat_family

removing required_defaults_CentOS.yml;
The common values from required_defaults_RedHat_family.yml should
suffice.

removing required_defaults_Fedora.yml;
Support for fedora has been deprecated [2], but since it's in the
os_family of redhat, we're only missing 'qemu-kvm' and
'policycoreutils-python-utils' from 'required_packages', so
deployment will probably still work.

[1] https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/6/html/installation_guide/s2-grub-whatis-booting-uefi
[2] https://review.opendev.org/c/openstack/bifrost/+/818780

Change-Id: Ieb35391fae5bd24ab420dc4239117e045f8b35ed
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/34/837234/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/roles/bifrost-ironic-install/defaults/required_defaults_CentOS.yml', 'playbooks/roles/bifrost-ironic-install/defaults/required_defaults_RedHat_family.yml', 'playbooks/roles/bifrost-ironic-install/defaults/required_defaults_Fedora.yml', 'playbooks/roles/bifrost-ironic-install/defaults/required_defaults_RedHat.yml']",4,c81c2e237c3498a58e8a9cf2a5897a704400274b,os_family,,--- efi_distro: rhel grub_efi_binary: /boot/efi/EFI/redhat/grubx64.efi shim_efi_binary: /boot/efi/EFI/redhat/shimx64.efi ,3,48
openstack%2Fironic~master~Ide6b3e9d6c1171f1ae568c256a3e9affa45de17b,openstack/ironic,master,Ide6b3e9d6c1171f1ae568c256a3e9affa45de17b,Drop lower-constraints.txt and its testing,MERGED,2022-05-01 01:21:19.000000000,2022-05-02 16:43:39.000000000,2022-05-02 16:41:06.000000000,"[{'_account_id': 6618}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2022-05-01 01:21:19.000000000', 'files': ['requirements.txt', 'lower-constraints.txt', 'zuul.d/project.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/ironic/commit/2e94aa424198b2f0f8231ef7d2086262b6ee9c9f', 'message': 'Drop lower-constraints.txt and its testing\n\nAs discussed in TC PTG[1] and TC resolution[2], we are\ndropping the lower-constraints.txt file and its testing.\nWe will keep lower bounds in the requirements.txt file but\nwith a note that these are not tested lower bounds and we\ntry our best to keep them updated.\n\n[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326\n[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal\n\nChange-Id: Ide6b3e9d6c1171f1ae568c256a3e9affa45de17b\n'}]",0,840072,2e94aa424198b2f0f8231ef7d2086262b6ee9c9f,12,3,1,8556,,,0,"Drop lower-constraints.txt and its testing

As discussed in TC PTG[1] and TC resolution[2], we are
dropping the lower-constraints.txt file and its testing.
We will keep lower bounds in the requirements.txt file but
with a note that these are not tested lower bounds and we
try our best to keep them updated.

[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326
[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal

Change-Id: Ide6b3e9d6c1171f1ae568c256a3e9affa45de17b
",git fetch https://review.opendev.org/openstack/ironic refs/changes/72/840072/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'lower-constraints.txt', 'zuul.d/project.yaml', 'tox.ini']",4,2e94aa424198b2f0f8231ef7d2086262b6ee9c9f,drop-l-c,, [testenv:lower-constraints] deps = -c{toxinidir}/lower-constraints.txt -r{toxinidir}/test-requirements.txt -r{toxinidir}/requirements.txt,4,68
openstack%2Ftripleo-quickstart~master~Ia9043757b4e49f476fe56fd9d269b9b7fce482c2,openstack/tripleo-quickstart,master,Ia9043757b4e49f476fe56fd9d269b9b7fce482c2,Removing master c8 release files,MERGED,2022-04-29 14:19:57.000000000,2022-05-02 16:28:20.000000000,2022-05-02 16:27:15.000000000,"[{'_account_id': 8449}, {'_account_id': 9976}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30002}]","[{'number': 1, 'created': '2022-04-29 14:19:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/d78504529d35b072b29165c1a4c3962bac3c5dbd', 'message': 'Removing master c8 release files\n\nChange-Id: Ia9043757b4e49f476fe56fd9d269b9b7fce482c2\n'}, {'number': 2, 'created': '2022-05-02 10:51:20.000000000', 'files': ['config/release/master-tripleo-ci.yml', 'config/release/centosci/CentOS-8/master-current-tripleo.yml', 'config/release/tripleo-ci/CentOS-8/master.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/f56b5cc30aff0ec63fcbf041eb27bad1cd981400', 'message': 'Removing master c8 release files\n\n[1] was symlinked to [2]. Updating symlink to [3].\n\n[1] https://github.com/openstack/tripleo-quickstart/blob/master/config/release/master-tripleo-ci.yml\n[2] https://github.com/openstack/tripleo-quickstart/blob/master/config/release/tripleo-ci/CentOS-8/master.yml\n[3] https://github.com/openstack/tripleo-quickstart/blob/master/config/release/tripleo-ci/CentOS-9/master.yml\n\nChange-Id: Ia9043757b4e49f476fe56fd9d269b9b7fce482c2\n'}]",1,839953,f56b5cc30aff0ec63fcbf041eb27bad1cd981400,18,6,2,32458,,,0,"Removing master c8 release files

[1] was symlinked to [2]. Updating symlink to [3].

[1] https://github.com/openstack/tripleo-quickstart/blob/master/config/release/master-tripleo-ci.yml
[2] https://github.com/openstack/tripleo-quickstart/blob/master/config/release/tripleo-ci/CentOS-8/master.yml
[3] https://github.com/openstack/tripleo-quickstart/blob/master/config/release/tripleo-ci/CentOS-9/master.yml

Change-Id: Ia9043757b4e49f476fe56fd9d269b9b7fce482c2
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/53/839953/2 && git format-patch -1 --stdout FETCH_HEAD,"['config/release/centosci/CentOS-8/master-current-tripleo.yml', 'config/release/tripleo-ci/CentOS-8/master.yml']",2,d78504529d35b072b29165c1a4c3962bac3c5dbd,,,"# name and tags devmode: true overcloud_as_undercloud: true release: master distro_ver: centos8 distro_deps_repo_name: deps dlrn_hash_tag: ""{{ job.provider_dlrn_hash_tag_branch[release]|default('current-tripleo') }}"" dlrn_hash_tag_newest: current # job.build_container_images is defined in zuul as a # direct var. adding build_container_images as tqe # var so that we can turn this on/off per release w/o # changing zuul and breaking jobs via inheritance. docker_registry_host: >- {% if job is defined and job.build_container_images is defined and job.build_container_images|default(false)|bool or build_container_images|default(false)|bool -%} 127.0.0.1:5001 {%- elif job.consumer_job | default(false) | bool -%} {{ job.registry_ip_address_branch[release] }}:5001 {%- else -%} {{ job.alt_container_registry|default('quay.io') }} {%- endif -%} docker_registry_namespace: ""tripleo{{ release }}"" docker_image_tag: ""{{ dlrn_hash|default(dlrn_hash_tag) }}"" docker_openshift_tag: v3.11.0 promote_source: current-tripleo # images overcloud_image: >- {% if whole_disk_images|bool -%} overcloud-hardened-uefi-full {%- else -%} overcloud-full {%- endif -%} overcloud_image_type: >- {% if whole_disk_images|bool -%} qcow2 {%- else -%} tar {%- endif -%} images: - name: ""{{ overcloud_image }}"" url: ""{{ overcloud_image_url }}"" type: ""{{ overcloud_image_type }}"" - name: ipa_images url: ""{{ ipa_image_url }}"" type: tar dlrn_baseurl: ""https://trunk.rdoproject.org/{{ distro_ver }}-{{ release }}"" overcloud_image_url: ""https://images.rdoproject.org/{{ distro_ver }}/{{ release }}/rdo_trunk/{{ promote_source }}/{{ overcloud_image }}.{{ overcloud_image_type }}"" ipa_image_url: ""https://images.rdoproject.org/{{ distro_ver }}/{{ release }}/rdo_trunk/{{ promote_source }}/ironic-python-agent.tar"" # NOTE(dviroel): centos-opstools repo is needed for building # collectd containers, otherwise keep the current value. enable_dlrn_deps_opstools: >- {% if job is defined and job.build_container_images is defined and job.build_container_images|default(false)|bool or build_container_images|default(false)|bool -%} {{ true|bool }} {%- else -%} {{ enable_opstools_repo|default(false)|bool }} {%- endif -%} # repo setup repo_cmd_before: | sudo rm -rf /etc/yum.repos.d/delorean*; sudo rm -rf /etc/yum.repos.d/*.rpmsave; sudo rm -rf /etc/yum.repos.d/epel*; sudo dnf clean all; sudo dnf config-manager --disable ""*"" || true; # In https://review.opendev.org/c/765834 a release specific gating-repo is created. # The release specifc gating repo is copied to gating.repo for consistency across ci # The original file is backed up for logging purposes. Upgrade jobs will run with # two releases. sudo cp -f /etc/yum.repos.d/gating-repo-{{ release }}.repo /etc/yum.repos.d/gating.repo || true; sudo sed -i -e ""s/gating-repo-{{ release }}/gating-repo/"" /etc/yum.repos.d/gating.repo || true; sudo mv /etc/yum.repos.d/gating-repo-{{ release }}.repo /etc/yum.repos.d/gating-repo-{{ release }}.repo_previous || true; sudo dnf config-manager --enable gating-repo || true; if [ -e /etc/ci/mirror_info.sh ]; then source /etc/ci/mirror_info.sh else # Otherwise, fallback to official mirrors provided by CentOS. export NODEPOOL_CENTOS_MIRROR={{ ansible_env['NODEPOOL_CENTOS_MIRROR']|default('http://mirror.centos.org/centos', true) }} export NODEPOOL_RDO_PROXY=https://trunk.rdoproject.org fi {% if dlrn_hash_path_newest is defined and dlrn_hash_path_newest %} export DLRN_PATH_TAG_NEWEST=""current/{{ dlrn_hash_path_newest }}"" {% elif dlrn_hash_tag_newest is match(""^[a-zA-Z0-9]{32}$"") %} export DLRN_PATH_TAG_NEWEST=""current/{{ dlrn_hash_tag_newest[:2] }}/{{ dlrn_hash_tag_newest[2:4] }}/{{ dlrn_hash_tag_newest }}"" {% else %} export DLRN_PATH_TAG_NEWEST=""{{ dlrn_hash_tag_newest }}"" {% endif %} {% if dlrn_hash_path is defined and dlrn_hash_path %} export DLRN_PATH_TAG=""{{ promote_source }}/{{ dlrn_hash_path }}"" {% elif dlrn_hash_tag is match(""^[a-zA-Z0-9]{32}$"") %} export DLRN_PATH_TAG=""{{ promote_source }}/{{ dlrn_hash_tag[:2] }}/{{ dlrn_hash_tag[2:4] }}/{{ dlrn_hash_tag }}"" {% else %} export DLRN_PATH_TAG=""{{ dlrn_hash_tag }}"" {% endif %} rdo_dlrn=`curl --silent https://trunk.rdoproject.org/{{ distro_ver }}-{{ release }}/${DLRN_PATH_TAG_NEWEST}/delorean.repo -S 2>>~/dlrn_repo_curl_errors.log | grep baseurl | grep ""component/tripleo"" | cut -d= -f2` if [[ -z ""$rdo_dlrn"" ]]; then echo ""Failed to parse dlrn hash"" exit 1 fi export RDO_DLRN_REPO=${rdo_dlrn/https:\/\/trunk.rdoproject.org/$NODEPOOL_RDO_PROXY} # Save environment variables, to be used afterwards echo ""export NODEPOOL_CENTOS_MIRROR=${NODEPOOL_CENTOS_MIRROR}"" >> {{ repo_setup_env_filepath }} echo ""export NODEPOOL_RDO_PROXY=${NODEPOOL_RDO_PROXY}"" >> {{ repo_setup_env_filepath }} echo ""export RDO_DLRN_REPO=${RDO_DLRN_REPO}"" >> {{ repo_setup_env_filepath }} echo ""export DLRN_PATH_TAG=${DLRN_PATH_TAG}"" >> {{ repo_setup_env_filepath }} repos: # RDO repos - type: file filename: delorean.repo down_url: ""https://trunk.rdoproject.org/{{ distro_ver }}-{{ release }}/${DLRN_PATH_TAG}/delorean.repo"" # name of delorean-tripleo-component-current? naming is hard - type: generic reponame: delorean-current filename: delorean-current.repo baseurl: $RDO_DLRN_REPO priority: 10 includepkgs: - ansible-role-container-registry - ansible-role-tripleo* - ansible-tripleo-ipsec - instack - instack-undercloud - openstack-tripleo-* - os-apply-config - os-collect-config - os-net-config - os-refresh-config - puppet-oslo - puppet-cinder - puppet-heat - puppet-neutron - puppet-nova - puppet-glance - puppet-horizon - puppet-ironic - puppet-keystone - puppet-openstacklib - puppet-placement - puppet-swift - puppet-tripleo - python*-tripleo* - python*-paunch* - paunch-services - tripleo-ansible - ansible-config_template - tripleo-operator-ansible - type: file filename: delorean-master-deps.repo down_url: ""https://trunk.rdoproject.org/{{ distro_ver }}-{{ release }}/delorean-deps.repo"" # CentOS related repos - type: generic reponame: quickstart-centos-base filename: quickstart-centos-base.repo baseurl: ${NODEPOOL_CENTOS_MIRROR}/8-stream/BaseOS/x86_64/os/ - type: generic reponame: quickstart-centos-appstreams filename: quickstart-centos-appstreams.repo baseurl: ${NODEPOOL_CENTOS_MIRROR}/8-stream/AppStream/x86_64/os/ exclude: - libvirt* - python*libvirt* - qemu* - type: generic reponame: quickstart-centos-powertools filename: quickstart-centos-powertools.repo baseurl: ${NODEPOOL_CENTOS_MIRROR}/8-stream/PowerTools/x86_64/os/ - type: generic reponame: quickstart-centos-highavailability filename: quickstart-centos-highavailability.repo baseurl: ${NODEPOOL_CENTOS_MIRROR}/8-stream/HighAvailability/x86_64/os/ - type: generic reponame: quickstart-centos-extras filename: quickstart-centos-extras.repo baseurl: ${NODEPOOL_CENTOS_MIRROR}/8-stream/extras/x86_64/os/ - type: generic reponame: quickstart-centos-ceph-pacific filename: quickstart-centos-ceph-pacific.repo baseurl: ${NODEPOOL_CENTOS_MIRROR}/8-stream/storage/x86_64/ceph-pacific/ exclude: - ansible* repo_cmd_after: | # Replace trunk.rdoproject.org to nodepool proxy sudo sed -i -e ""s|https://trunk.rdoproject.org|$NODEPOOL_RDO_PROXY|g"" /etc/yum.repos.d/delorean.repo sudo sed -i -e ""s|https://trunk.rdoproject.org|$NODEPOOL_RDO_PROXY|g"" /etc/yum.repos.d/delorean-master-deps.repo sudo sed -i -e ""s|http://mirror.centos.org/centos|$NODEPOOL_CENTOS_MIRROR|g"" /etc/yum.repos.d/delorean-master-deps.repo # note potential name change - FIX ME sudo sed -i -e ""s|https://trunk.rdoproject.org|$NODEPOOL_RDO_PROXY|g"" /etc/yum.repos.d/delorean-current.repo sudo sed -i -e ""s|priority=1|priority=20|g"" /etc/yum.repos.d/delorean.repo {% if not enable_dlrn_deps_opstools|default(false)|bool %}sudo dnf config-manager --save --setopt centos-opstools.enabled=0; {%endif %} # sudo dnf config-manager --disable rdo-qemu-ev; sudo rpm -e epel-release || true; sudo dnf remove -y rdo-release centos-release-ceph-* centos-release-openstack-* || true; sudo rm -rf /etc/yum.repos.d/CentOS-OpenStack-*.repo /etc/yum.repos.d/CentOS-Ceph-*.repo; # Disable delorean repo if a similar component repo exists {% if job is defined and job.component is defined %} if [ -f ""/etc/yum.repos.d/{{ job.component }}-component.repo"" ] && sudo cat /etc/yum.repos.d/{{ job.component }}-component.repo | grep 'enabled=1'; then dnf config-manager --disable delorean-component-{{ job.component }}; fi {% endif %} sudo rm -rf /etc/yum.repos.d/*.rpmsave; sudo dnf repolist; sudo dnf module list; sudo dnf module disable container-tools:rhel8 -y; sudo dnf module enable container-tools:3.0 -y; sudo dnf clean metadata {% if repo_setup_run_update|default(true)|bool %} sudo dnf update -y {% endif %} undercloud_rpm_dependencies: >- python3-tripleoclient tripleo-operator-ansible # baseos settings baseos_undercloud_image_url: https://cloud.centos.org/centos/8-stream/x86_64/images/CentOS-Stream-GenericCloud-8-20201217.0.x86_64.qcow2 baseos_image: centos baseos_image_type: qcow2 baseos_md5sum: ""70d5c374156f2ab92c058b6a6150f55e CentOS-Stream-GenericCloud-8-20201217.0.x86_64.qcow2"" ",0,323
openstack%2Fsushy-tools~master~I6c0a5d5aa56f1341cba6d971a312fee57bb2cf8f,openstack/sushy-tools,master,I6c0a5d5aa56f1341cba6d971a312fee57bb2cf8f,Drop lower-constraints.txt and its testing,MERGED,2022-05-01 01:20:51.000000000,2022-05-02 16:24:05.000000000,2022-05-02 16:21:58.000000000,"[{'_account_id': 6618}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2022-05-01 01:20:51.000000000', 'files': ['requirements.txt', 'lower-constraints.txt', 'zuul.d/project.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/49b890a36d2ea21b5d7cc1e9bb8945b7674f4af5', 'message': 'Drop lower-constraints.txt and its testing\n\nAs discussed in TC PTG[1] and TC resolution[2], we are\ndropping the lower-constraints.txt file and its testing.\nWe will keep lower bounds in the requirements.txt file but\nwith a note that these are not tested lower bounds and we\ntry our best to keep them updated.\n\n[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326\n[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal\n\nChange-Id: I6c0a5d5aa56f1341cba6d971a312fee57bb2cf8f\n'}]",0,840068,49b890a36d2ea21b5d7cc1e9bb8945b7674f4af5,9,3,1,8556,,,0,"Drop lower-constraints.txt and its testing

As discussed in TC PTG[1] and TC resolution[2], we are
dropping the lower-constraints.txt file and its testing.
We will keep lower bounds in the requirements.txt file but
with a note that these are not tested lower bounds and we
try our best to keep them updated.

[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326
[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal

Change-Id: I6c0a5d5aa56f1341cba6d971a312fee57bb2cf8f
",git fetch https://review.opendev.org/openstack/sushy-tools refs/changes/68/840068/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'lower-constraints.txt', 'zuul.d/project.yaml', 'tox.ini']",4,49b890a36d2ea21b5d7cc1e9bb8945b7674f4af5,drop-l-c,, [testenv:lower-constraints] deps = -c{toxinidir}/lower-constraints.txt -r{toxinidir}/test-requirements.txt -r{toxinidir}/requirements.txt,4,23
openstack%2Fneutron~master~I8778df02330196a8999afd3bbf9a3b87f0e14f7b,openstack/neutron,master,I8778df02330196a8999afd3bbf9a3b87f0e14f7b,doc: update peering network BGP guide,MERGED,2022-04-28 16:26:45.000000000,2022-05-02 16:21:52.000000000,2022-05-02 16:18:43.000000000,"[{'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 13252}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-28 16:26:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/27f268920b1437f710fcc399c89d66f737b26378', 'message': 'doc: refernece to peering network missing in BGP dynamic routing guide\n\nChange-Id: I8778df02330196a8999afd3bbf9a3b87f0e14f7b\n'}, {'number': 2, 'created': '2022-04-29 09:41:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a3c39802724534ddfd4745a0a2afa90211edfc7e', 'message': 'doc: update peering network BGP guide\n\nThe existing example had an implicit overlap between the host network\nand some tenant network, use a different network for the host.\n\nChange-Id: I8778df02330196a8999afd3bbf9a3b87f0e14f7b\n'}, {'number': 3, 'created': '2022-04-29 14:34:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/facc1ccc13d9d7d439415fe6931a28ee22f29912', 'message': 'doc: update peering network BGP guide\n\nThe existing example had an implicit overlap between the host network\nand some tenant network, use a different network for the host.\n\nPeering network resized to /24 because usually we would have several\nnetwork nodes on it instead of creating each their own transfer/peering\nnetwork.\n\nDiagrams adjusted accordingly with omnigraffle.\n\nChange-Id: I8778df02330196a8999afd3bbf9a3b87f0e14f7b\n'}, {'number': 4, 'created': '2022-04-29 14:47:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8ca9253496321493d08e8bc2cf85a5569905d319', 'message': 'doc: update peering network BGP guide\n\nThe existing example had an implicit overlap between the host network\nand some tenant network, use a different network for the host.\n\nPeering network resized to /24 because usually we would have several\nnetwork nodes on it instead of creating each their own transfer/peering\nnetwork.\n\nDiagrams adjusted accordingly with omnigraffle.\nPNGs reexported with 160% size to approximate the previous ones.\n\nChange-Id: I8778df02330196a8999afd3bbf9a3b87f0e14f7b\n'}, {'number': 5, 'created': '2022-04-29 15:59:05.000000000', 'files': ['doc/source/admin/config-bgp-dynamic-routing.rst', 'doc/source/admin/figures/bgp-dynamic-routing-example1.png', 'doc/source/admin/figures/bgp-dynamic-routing-example2.graffle', 'doc/source/admin/figures/bgp-dynamic-routing-example2.png', 'doc/source/admin/figures/bgp-dynamic-routing-example1.graffle', 'doc/source/admin/figures/bgp-dynamic-routing-example2.svg', 'doc/source/admin/figures/bgp-dynamic-routing-example1.svg'], 'web_link': 'https://opendev.org/openstack/neutron/commit/c13fbf1d239a79c68377c3cbfd0e37215b7a313a', 'message': 'doc: update peering network BGP guide\n\nThe existing example had an implicit overlap between the host network\nand some tenant network, use a different network for the host.\n\nPeering network resized to /24 because usually we would have several\nnetwork nodes on it instead of creating each their own transfer/peering\nnetwork.\n\nDiagrams adjusted accordingly with omnigraffle.\nPNGs reexported with 160% size to approximate the previous ones.\nRouter IPs in Diagrams adjusted to reflect documentation.\nPeering Network IPs added to Peering Session Box.\n\nChange-Id: I8778df02330196a8999afd3bbf9a3b87f0e14f7b\n'}]",5,839792,c13fbf1d239a79c68377c3cbfd0e37215b7a313a,24,5,5,34801,,,0,"doc: update peering network BGP guide

The existing example had an implicit overlap between the host network
and some tenant network, use a different network for the host.

Peering network resized to /24 because usually we would have several
network nodes on it instead of creating each their own transfer/peering
network.

Diagrams adjusted accordingly with omnigraffle.
PNGs reexported with 160% size to approximate the previous ones.
Router IPs in Diagrams adjusted to reflect documentation.
Peering Network IPs added to Peering Session Box.

Change-Id: I8778df02330196a8999afd3bbf9a3b87f0e14f7b
",git fetch https://review.opendev.org/openstack/neutron refs/changes/92/839792/5 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/config-bgp-dynamic-routing.rst'],1,27f268920b1437f710fcc399c89d66f737b26378,,* One preexisting peering network 192.0.2.0/30 on the Host running the neutron BGP dynamic routing agent to facilitate BGP communication with its peer. ,,4,0
openstack%2Fneutron~master~I6b42306479c134ad8b07b8bf87d5c650fef9faae,openstack/neutron,master,I6b42306479c134ad8b07b8bf87d5c650fef9faae,Bump oslo.policy to 3.12.0,MERGED,2022-05-02 10:48:43.000000000,2022-05-02 16:20:37.000000000,2022-05-02 16:18:37.000000000,"[{'_account_id': 4694}, {'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 13861}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-02 10:48:43.000000000', 'files': ['requirements.txt', 'lower-constraints.txt', 'neutron/policy.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/3939ec35af1769b9f04e19b8b499ad4d37d51f1d', 'message': 'Bump oslo.policy to 3.12.0\n\nIt allows us to revert temporary fix part from [1] as now InvalidScope\nexception is properly handled by oslo.policy.\n\n[1] https://review.opendev.org/c/openstack/neutron/+/826872\n\nRelated-bug: #1959333\nChange-Id: I6b42306479c134ad8b07b8bf87d5c650fef9faae\n'}]",2,840171,3939ec35af1769b9f04e19b8b499ad4d37d51f1d,14,5,1,11975,,,0,"Bump oslo.policy to 3.12.0

It allows us to revert temporary fix part from [1] as now InvalidScope
exception is properly handled by oslo.policy.

[1] https://review.opendev.org/c/openstack/neutron/+/826872

Related-bug: #1959333
Change-Id: I6b42306479c134ad8b07b8bf87d5c650fef9faae
",git fetch https://review.opendev.org/openstack/neutron refs/changes/71/840171/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'lower-constraints.txt', 'neutron/policy.py']",3,3939ec35af1769b9f04e19b8b499ad4d37d51f1d,bug/1959333," return _ENFORCER.enforce(match_rule, target, credentials, pluralized=pluralized)"," # TODO(slaweq): this try..except.. block can be removed when bug # https://bugs.launchpad.net/oslo.policy/+bug/1965315 will be fixed in # oslo.policy try: result = _ENFORCER.enforce(match_rule, target, credentials, pluralized=pluralized) except policy.InvalidScope: log_rule_list(match_rule) LOG.debug(""Failed policy check for '%s'"", action) result = False return result",6,15
openstack%2Ftripleo-heat-templates~master~Idaef781163c6c8f5928d93d9bbc1aa7b0dee6fd6,openstack/tripleo-heat-templates,master,Idaef781163c6c8f5928d93d9bbc1aa7b0dee6fd6,Add AdminPassword and KeystoneRegion stack outputs,MERGED,2022-04-28 12:47:51.000000000,2022-05-02 16:19:53.000000000,2022-05-02 16:19:53.000000000,"[{'_account_id': 5803}, {'_account_id': 6926}, {'_account_id': 7353}, {'_account_id': 8449}, {'_account_id': 8833}, {'_account_id': 9976}, {'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2022-04-28 12:47:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7d7d92a1e857e38cdac5e8df62ca8ecb61c8550e', 'message': 'Add AdminPassword stack output\n\nAdminPassword needs to be added as a stack output so that it is saved in\nthe working directory for stack outputs after using ephemeral Heat to\ncreate the stack.\n\nThe code to create the rc params to create the overcloudrc file(s)\n(tripleoclient.utils.get_rc_params) can then create the overcloudrc\nusing only the working directory. No reference to the stack object or a\nrunning instance of Heat to query the stack would be required.\n\nChange-Id: Idaef781163c6c8f5928d93d9bbc1aa7b0dee6fd6\nSigned-off-by: James Slagle <jslagle@redhat.com>\n'}, {'number': 2, 'created': '2022-04-28 13:15:31.000000000', 'files': ['overcloud.j2.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4d91ad67fc17a0bc351a48dd1187109c3ae96ca7', 'message': 'Add AdminPassword and KeystoneRegion stack outputs\n\nAdminPassword and KeystoneRegion need to be added as a stack outputs so\nthat they are saved in the working directory for stack outputs after\nusing ephemeral Heat to create the stack.\n\nThe code to create the rc params to create the overcloudrc file(s)\n(tripleoclient.utils.get_rc_params) can then create the overcloudrc\nusing only the working directory. No reference to the stack object or a\nrunning instance of Heat to query the stack would be required.\n\nChange-Id: Idaef781163c6c8f5928d93d9bbc1aa7b0dee6fd6\nSigned-off-by: James Slagle <jslagle@redhat.com>\n'}]",3,839751,4d91ad67fc17a0bc351a48dd1187109c3ae96ca7,13,10,2,7144,,,0,"Add AdminPassword and KeystoneRegion stack outputs

AdminPassword and KeystoneRegion need to be added as a stack outputs so
that they are saved in the working directory for stack outputs after
using ephemeral Heat to create the stack.

The code to create the rc params to create the overcloudrc file(s)
(tripleoclient.utils.get_rc_params) can then create the overcloudrc
using only the working directory. No reference to the stack object or a
running instance of Heat to query the stack would be required.

Change-Id: Idaef781163c6c8f5928d93d9bbc1aa7b0dee6fd6
Signed-off-by: James Slagle <jslagle@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/51/839751/1 && git format-patch -1 --stdout FETCH_HEAD,['overcloud.j2.yaml'],1,7d7d92a1e857e38cdac5e8df62ca8ecb61c8550e,," AdminPassword: description: The password for the keystone admin account, used for monitoring, querying neutron etc. type: string hidden: true AdminPassword: description: The password for the keystone admin account, used for monitoring, querying neutron etc. value: {get_param: AdminPassword}",,8,0
openstack%2Fironic-prometheus-exporter~master~Iddc2ee3d59b3fac20f6df80b2baf3be439b24128,openstack/ironic-prometheus-exporter,master,Iddc2ee3d59b3fac20f6df80b2baf3be439b24128,Drop lower-constraints.txt and its testing,MERGED,2022-05-01 01:21:20.000000000,2022-05-02 16:19:05.000000000,2022-05-02 16:16:54.000000000,"[{'_account_id': 6618}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2022-05-01 01:21:20.000000000', 'files': ['requirements.txt', '.zuul.yaml', 'lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/ironic-prometheus-exporter/commit/690808bb2e49aec34d14859c8d4ce7a3fe6817f1', 'message': 'Drop lower-constraints.txt and its testing\n\nAs discussed in TC PTG[1] and TC resolution[2], we are\ndropping the lower-constraints.txt file and its testing.\nWe will keep lower bounds in the requirements.txt file but\nwith a note that these are not tested lower bounds and we\ntry our best to keep them updated.\n\n[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326\n[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal\n\nChange-Id: Iddc2ee3d59b3fac20f6df80b2baf3be439b24128\n'}]",1,840073,690808bb2e49aec34d14859c8d4ce7a3fe6817f1,9,3,1,8556,,,0,"Drop lower-constraints.txt and its testing

As discussed in TC PTG[1] and TC resolution[2], we are
dropping the lower-constraints.txt file and its testing.
We will keep lower bounds in the requirements.txt file but
with a note that these are not tested lower bounds and we
try our best to keep them updated.

[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326
[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal

Change-Id: Iddc2ee3d59b3fac20f6df80b2baf3be439b24128
",git fetch https://review.opendev.org/openstack/ironic-prometheus-exporter refs/changes/73/840073/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', '.zuul.yaml', 'lower-constraints.txt', 'tox.ini']",4,690808bb2e49aec34d14859c8d4ce7a3fe6817f1,drop-l-c,, [testenv:lower-constraints] deps = -c{toxinidir}/lower-constraints.txt -r{toxinidir}/test-requirements.txt -r{toxinidir}/requirements.txt,4,17
openstack%2Fsushy~master~Ic3be2ae9dd65991606f42c77acaf7470cd6a436e,openstack/sushy,master,Ic3be2ae9dd65991606f42c77acaf7470cd6a436e,Drop lower-constraints.txt and its testing,MERGED,2022-05-01 01:20:54.000000000,2022-05-02 16:17:55.000000000,2022-05-02 16:15:12.000000000,"[{'_account_id': 6618}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2022-05-01 01:20:54.000000000', 'files': ['requirements.txt', 'lower-constraints.txt', 'zuul.d/project.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/sushy/commit/cdeeb8b495bd539dd3aaf2b1d6d08c4636908f54', 'message': 'Drop lower-constraints.txt and its testing\n\nAs discussed in TC PTG[1] and TC resolution[2], we are\ndropping the lower-constraints.txt file and its testing.\nWe will keep lower bounds in the requirements.txt file but\nwith a note that these are not tested lower bounds and we\ntry our best to keep them updated.\n\n[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326\n[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal\n\nChange-Id: Ic3be2ae9dd65991606f42c77acaf7470cd6a436e\n'}]",0,840069,cdeeb8b495bd539dd3aaf2b1d6d08c4636908f54,11,3,1,8556,,,0,"Drop lower-constraints.txt and its testing

As discussed in TC PTG[1] and TC resolution[2], we are
dropping the lower-constraints.txt file and its testing.
We will keep lower bounds in the requirements.txt file but
with a note that these are not tested lower bounds and we
try our best to keep them updated.

[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326
[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal

Change-Id: Ic3be2ae9dd65991606f42c77acaf7470cd6a436e
",git fetch https://review.opendev.org/openstack/sushy refs/changes/69/840069/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'lower-constraints.txt', 'zuul.d/project.yaml', 'tox.ini']",4,cdeeb8b495bd539dd3aaf2b1d6d08c4636908f54,drop-l-c,, [testenv:lower-constraints] deps = -c{toxinidir}/lower-constraints.txt -r{toxinidir}/test-requirements.txt -r{toxinidir}/requirements.txt,4,16
openstack%2Fswift~master~I61bb58b71a6da9460d56ed3489457b2fdf199929,openstack/swift,master,I61bb58b71a6da9460d56ed3489457b2fdf199929,tests: Save ourselves 20s of sleep,MERGED,2022-05-02 06:18:45.000000000,2022-05-02 16:13:01.000000000,2022-05-02 16:10:31.000000000,"[{'_account_id': 1179}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-02 06:18:45.000000000', 'files': ['test/unit/common/test_daemon.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/ab612dd26d2c0e63fb99c9842aaf2ebaf19d8068', 'message': 'tests: Save ourselves 20s of sleep\n\nChange-Id: I61bb58b71a6da9460d56ed3489457b2fdf199929\n'}]",0,840153,ab612dd26d2c0e63fb99c9842aaf2ebaf19d8068,8,2,1,15343,,,0,"tests: Save ourselves 20s of sleep

Change-Id: I61bb58b71a6da9460d56ed3489457b2fdf199929
",git fetch https://review.opendev.org/openstack/swift refs/changes/53/840153/1 && git format-patch -1 --stdout FETCH_HEAD,['test/unit/common/test_daemon.py'],1,ab612dd26d2c0e63fb99c9842aaf2ebaf19d8068,, WORKERS_HEALTHCHECK_INTERVAL = 0,,1,0
openstack%2Fswift~master~I787b9d5a35ce760450bc7389b53f0540f70c8d76,openstack/swift,master,I787b9d5a35ce760450bc7389b53f0540f70c8d76,Log signal handling at notice,MERGED,2021-04-30 22:43:27.000000000,2022-05-02 16:11:55.000000000,2022-05-02 16:10:27.000000000,"[{'_account_id': 1179}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-30 22:43:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/73e1e8c8761b6761aa01d48484a368f37598084e', 'message': 'Log signal handling at notice\n\nSignals feel like they belong with the other process-management info\nwe already log at notice -- more important than a simple info(), but\ndefinitely not an error().\n\nChange-Id: I787b9d5a35ce760450bc7389b53f0540f70c8d76\n'}, {'number': 2, 'created': '2022-04-29 15:49:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/ce32cf3024dd33557d24def44d00331dd2ca2b20', 'message': ""Log signal handling at notice\n\nSignals feel like they belong with the other process-management info\nwe already log at notice -- more important than a simple info(), but\ndefinitely not an error().\n\nWhile we're at it, have Daemon include the receiving pid when logging\nabout SIGTERM.\n\nChange-Id: I787b9d5a35ce760450bc7389b53f0540f70c8d76\n""}, {'number': 3, 'created': '2022-04-29 16:27:44.000000000', 'files': ['swift/common/daemon.py', 'swift/common/wsgi.py', 'test/unit/common/test_daemon.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/05b2e894a92423a0e34ce2ea4b92f48ce1924c17', 'message': ""Log signal handling at notice\n\nSignals feel like they belong with the other process-management info\nwe already log at notice -- more important than a simple info(), but\ndefinitely not an error().\n\nWhile we're at it, have Daemon include the receiving pid when logging\nabout SIGTERM.\n\nChange-Id: I787b9d5a35ce760450bc7389b53f0540f70c8d76\n""}]",7,789036,05b2e894a92423a0e34ce2ea4b92f48ce1924c17,17,2,3,15343,,,0,"Log signal handling at notice

Signals feel like they belong with the other process-management info
we already log at notice -- more important than a simple info(), but
definitely not an error().

While we're at it, have Daemon include the receiving pid when logging
about SIGTERM.

Change-Id: I787b9d5a35ce760450bc7389b53f0540f70c8d76
",git fetch https://review.opendev.org/openstack/swift refs/changes/36/789036/2 && git format-patch -1 --stdout FETCH_HEAD,"['swift/common/daemon.py', 'swift/common/wsgi.py']",2,73e1e8c8761b6761aa01d48484a368f37598084e,," logger.notice('%s received (%s)', signame, os.getpid())"," logger.error('%s received (%s)', signame, os.getpid())",2,2
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I15e341769b5c4cf1d3c98d985c39a52bce3a0f12,openstack/tripleo-heat-templates,stable/train,I15e341769b5c4cf1d3c98d985c39a52bce3a0f12,Don't add conntrack entries for vxlan,MERGED,2022-03-03 12:04:51.000000000,2022-05-02 15:22:58.000000000,2022-05-02 15:22:58.000000000,"[{'_account_id': 7144}, {'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2022-03-03 12:04:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/bbd241d4dfbe33ca97b9502b9bb6765ce797de75', 'message': ""Don't add conntrack entries for vxlan\n\nAs vxlan UDP traffic is allowed, there's no reason to create\nconntrack entries as it may result in a performance hit.\n\nThis patch is preventing vxlan traffic to be sent to conntrack.\n\nSimilar change was done some time ago for Geneve tunnels in\nthe ML2/OVN case with [1].\n\n[1] https://review.opendev.org/c/openstack/tripleo-heat-templates/+/738419\n\nConflicts:\n    deployment/neutron/neutron-ovs-agent-container-puppet.yaml\n\nCloses-Bug: #1962616\nChange-Id: I15e341769b5c4cf1d3c98d985c39a52bce3a0f12\n(cherry picked from commit 1d77d9af27cf7b45738ab7af0fe3fa5cdf9d3c37)\n(cherry picked from commit 8c9c70d8001b3d1b6b8b239ce871cb3fde41e352)\n""}, {'number': 2, 'created': '2022-03-31 08:33:32.000000000', 'files': ['deployment/neutron/neutron-ovs-agent-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0f6101dffbddc940bff3020a30b9f2556dfe9ba1', 'message': ""Don't add conntrack entries for vxlan\n\nAs vxlan UDP traffic is allowed, there's no reason to create\nconntrack entries as it may result in a performance hit.\n\nThis patch is preventing vxlan traffic to be sent to conntrack.\n\nSimilar change was done some time ago for Geneve tunnels in\nthe ML2/OVN case with [1].\n\n[1] https://review.opendev.org/c/openstack/tripleo-heat-templates/+/738419\n\nConflicts:\n    deployment/neutron/neutron-ovs-agent-container-puppet.yaml\n\nCloses-Bug: #1962616\nChange-Id: I15e341769b5c4cf1d3c98d985c39a52bce3a0f12\n(cherry picked from commit 1d77d9af27cf7b45738ab7af0fe3fa5cdf9d3c37)\n(cherry picked from commit 8c9c70d8001b3d1b6b8b239ce871cb3fde41e352)\n""}]",2,831734,0f6101dffbddc940bff3020a30b9f2556dfe9ba1,14,5,2,11975,,,0,"Don't add conntrack entries for vxlan

As vxlan UDP traffic is allowed, there's no reason to create
conntrack entries as it may result in a performance hit.

This patch is preventing vxlan traffic to be sent to conntrack.

Similar change was done some time ago for Geneve tunnels in
the ML2/OVN case with [1].

[1] https://review.opendev.org/c/openstack/tripleo-heat-templates/+/738419

Conflicts:
    deployment/neutron/neutron-ovs-agent-container-puppet.yaml

Closes-Bug: #1962616
Change-Id: I15e341769b5c4cf1d3c98d985c39a52bce3a0f12
(cherry picked from commit 1d77d9af27cf7b45738ab7af0fe3fa5cdf9d3c37)
(cherry picked from commit 8c9c70d8001b3d1b6b8b239ce871cb3fde41e352)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/34/831734/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/neutron/neutron-ovs-agent-container-puppet.yaml'],1,bbd241d4dfbe33ca97b9502b9bb6765ce797de75,bug/1962616-stable/train, firewall_rules: '120 neutron vxlan networks no conntrack': proto: 'udp' dport: 4789 table: 'raw' chain: 'OUTPUT' jump: 'NOTRACK' action: 'append' state: [] '121 neutron vxlan networks no conntrack': proto: 'udp' dport: 4789 table: 'raw' chain: 'PREROUTING' jump: 'NOTRACK' action: 'append' state: [] '136 neutron gre networks': proto: 'gre',,19,0
openstack%2Ftripleo-heat-templates~stable%2Fvictoria~I5062550306bc131cae3a6b54cf61a6c00f03fbc5,openstack/tripleo-heat-templates,stable/victoria,I5062550306bc131cae3a6b54cf61a6c00f03fbc5,Correct hieradata for neutron log rate limiting for ovn,MERGED,2022-04-07 09:45:28.000000000,2022-05-02 15:22:54.000000000,2022-05-02 15:22:54.000000000,"[{'_account_id': 7144}, {'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 24245}]","[{'number': 1, 'created': '2022-04-07 09:45:28.000000000', 'files': ['deployment/neutron/neutron-plugin-ml2-ovn.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/36d27e74434782cdb3cbbbf4162e460ea4a4b657', 'message': ""Correct hieradata for neutron log rate limiting for ovn\n\nThe hieradata doesn't map to the proper puppet parameters for the OVN\ncase.\n\nConflicts:\n    deployment/neutron/neutron-plugin-ml2-ovn.yaml\n\nChange-Id: I5062550306bc131cae3a6b54cf61a6c00f03fbc5\n(cherry picked from commit f41324444c481d58c6a4e42ed628c50fbf34b3af)\n(cherry picked from commit 2553c59f613f06fe9b61848ef49042dc490a732e)\n""}]",7,836923,36d27e74434782cdb3cbbbf4162e460ea4a4b657,20,4,1,11975,,,0,"Correct hieradata for neutron log rate limiting for ovn

The hieradata doesn't map to the proper puppet parameters for the OVN
case.

Conflicts:
    deployment/neutron/neutron-plugin-ml2-ovn.yaml

Change-Id: I5062550306bc131cae3a6b54cf61a6c00f03fbc5
(cherry picked from commit f41324444c481d58c6a4e42ed628c50fbf34b3af)
(cherry picked from commit 2553c59f613f06fe9b61848ef49042dc490a732e)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/23/836923/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/neutron/neutron-plugin-ml2-ovn.yaml'],1,36d27e74434782cdb3cbbbf4162e460ea4a4b657,, - neutron::plugins::ml2::ovn::network_log_rate_limit: {get_param: NeutronOVNLoggingRateLimit} - neutron::plugins::ml2::ovn::network_log_burst_limit: {get_param: NeutronOVNLoggingBurstLimit} - neutron::plugins::ml2::ovn::network_log_local_output_log_base: {get_param: NeutronOVNLoggingLocalOutputLogBase}, - neutron::agents::ml2::ovn::network_log_rate_limit: {get_param: NeutronOVNLoggingRateLimit} - neutron::agents::ml2::ovn::network_log_burst_limit: {get_param: NeutronOVNLoggingBurstLimit} - neutron::agents::ml2::ovn::network_log_local_output_log_base: {get_param: NeutronOVNLoggingLocalOutputLogBase},3,3
openstack%2Fironic-inspector~master~I9bc7b624abca25336f262252480098682347ea1b,openstack/ironic-inspector,master,I9bc7b624abca25336f262252480098682347ea1b,Fix lower-constraints job,ABANDONED,2022-04-28 09:04:33.000000000,2022-05-02 15:21:36.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-04-28 09:04:33.000000000', 'files': ['requirements.txt', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/755fa1e4c16504b824996547639ee6af27882dc6', 'message': 'Fix lower-constraints job\n\nAlso add Werkzeug to requirements as we directly import it\n\nChange-Id: I9bc7b624abca25336f262252480098682347ea1b\n'}]",1,839708,755fa1e4c16504b824996547639ee6af27882dc6,5,1,1,23851,,,0,"Fix lower-constraints job

Also add Werkzeug to requirements as we directly import it

Change-Id: I9bc7b624abca25336f262252480098682347ea1b
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/08/839708/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'lower-constraints.txt']",2,755fa1e4c16504b824996547639ee6af27882dc6,fix-l-c,Flask==2.0.0Werkzeug==2.0.0tooz==2.5.1 ,Flask==1.1.0tooz==2.5.1,5,3
openstack%2Fcloudkitty-dashboard~master~I5086fe5fecd46e9e2ffb223b163fbaa8ed9c1970,openstack/cloudkitty-dashboard,master,I5086fe5fecd46e9e2ffb223b163fbaa8ed9c1970,Address RemovedInDjango40Warning,MERGED,2022-04-29 11:14:54.000000000,2022-05-02 15:12:36.000000000,2022-05-02 15:11:28.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 28356}]","[{'number': 1, 'created': '2022-04-29 11:14:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty-dashboard/commit/f073a18d57de9f77ba76bef606c719a375337253', 'message': 'Address RemovedInDjango40Warning\n\nIn Django 3.1, django.conf.urls.url() is deprecated\nin favor of django.urls.re_path(). For more info see [1]\nThese were already replaced in Horizon repo by [2].\n\n[1] https://docs.djangoproject.com/en/4.0/releases/3.1/#id2\n[2] https://review.opendev.org/c/openstack/horizon/+/827093\n\nChange-Id: I5086fe5fecd46e9e2ffb223b163fbaa8ed9c1970\n'}, {'number': 2, 'created': '2022-04-29 11:15:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty-dashboard/commit/6fe3247551fccdbb5bcf82fe652f751cc47464ec', 'message': 'Address RemovedInDjango40Warning\n\nIn Django 3.1, django.conf.urls.url() is deprecated\nin favor of django.urls.re_path(). For more info see [1]\nThese were already replaced in Horizon repo by [2].\n\n[1] https://docs.djangoproject.com/en/4.0/releases/3.1/#id2\n[2] https://review.opendev.org/c/openstack/horizon/+/827093\n\nChange-Id: I5086fe5fecd46e9e2ffb223b163fbaa8ed9c1970\n'}, {'number': 3, 'created': '2022-04-29 11:18:14.000000000', 'files': ['cloudkittydashboard/dashboards/admin/hashmap/urls.py', 'cloudkittydashboard/dashboards/admin/summary/urls.py', 'cloudkittydashboard/dashboards/project/rating/urls.py', 'cloudkittydashboard/dashboards/project/reporting/urls.py', 'cloudkittydashboard/dashboards/admin/pyscripts/urls.py', 'cloudkittydashboard/overrides.py', 'cloudkittydashboard/dashboards/admin/modules/urls.py'], 'web_link': 'https://opendev.org/openstack/cloudkitty-dashboard/commit/7ac2922dd506ffade7057b6fb794948e7027c5a2', 'message': 'Address RemovedInDjango40Warning\n\nIn Django 3.1, django.conf.urls.url() is deprecated\nin favor of django.urls.re_path(). For more info see [1]\nThese were already replaced in Horizon repo by [2].\n\n[1] https://docs.djangoproject.com/en/4.0/releases/3.1/#id2\n[2] https://review.opendev.org/c/openstack/horizon/+/827093\n\nChange-Id: I5086fe5fecd46e9e2ffb223b163fbaa8ed9c1970\n'}]",0,839903,7ac2922dd506ffade7057b6fb794948e7027c5a2,10,3,3,29313,,,0,"Address RemovedInDjango40Warning

In Django 3.1, django.conf.urls.url() is deprecated
in favor of django.urls.re_path(). For more info see [1]
These were already replaced in Horizon repo by [2].

[1] https://docs.djangoproject.com/en/4.0/releases/3.1/#id2
[2] https://review.opendev.org/c/openstack/horizon/+/827093

Change-Id: I5086fe5fecd46e9e2ffb223b163fbaa8ed9c1970
",git fetch https://review.opendev.org/openstack/cloudkitty-dashboard refs/changes/03/839903/1 && git format-patch -1 --stdout FETCH_HEAD,"['cloudkittydashboard/dashboards/admin/hashmap/urls.py', 'cloudkittydashboard/dashboards/admin/summary/urls.py', 'cloudkittydashboard/dashboards/project/rating/urls.py', 'cloudkittydashboard/dashboards/project/reporting/urls.py', 'cloudkittydashboard/dashboards/admin/pyscripts/urls.py', 'cloudkittydashboard/overrides.py', 'cloudkittydashboard/dashboards/admin/modules/urls.py']",7,f073a18d57de9f77ba76bef606c719a375337253,,"from django.urls import re_path re_path(r'^$', views.IndexView.as_view(), name='index'), re_path(r'^(?P<module_id>[^/]+)/?$', views.ModuleDetailsView.as_view(), name=""module_details""), re_path(r'^edit_priority/(?P<module_id>[^/]+)/?$', views.PriorityModuleEditView.as_view(), name=""edit_priority""),","from django.conf.urls import url url(r'^$', views.IndexView.as_view(), name='index'), url(r'^(?P<module_id>[^/]+)/?$', views.ModuleDetailsView.as_view(), name=""module_details""), url(r'^edit_priority/(?P<module_id>[^/]+)/?$', views.PriorityModuleEditView.as_view(), name=""edit_priority""),",71,70
openstack%2Fmetalsmith~stable%2Fwallaby~I9f939d115e0c6d167ab437c4420e06b4b211c66b,openstack/metalsmith,stable/wallaby,I9f939d115e0c6d167ab437c4420e06b4b211c66b,Add a workaround to fix the CI,MERGED,2022-05-02 11:40:30.000000000,2022-05-02 14:59:13.000000000,2022-05-02 14:58:02.000000000,"[{'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-02 11:40:30.000000000', 'files': ['playbooks/integration/initial-setup.yaml'], 'web_link': 'https://opendev.org/openstack/metalsmith/commit/e207b29d933483a4b0ffb4165cdd4aad3a7dcb73', 'message': 'Add a workaround to fix the CI\n\nChange-Id: I9f939d115e0c6d167ab437c4420e06b4b211c66b\n(cherry picked from commit 018a19c1e89d91d0468ca9a59ca4cf011a90a2ab)\n(cherry picked from commit 6b8005a4e1eb0647a11960cd3acdaa69ff56519d)\n'}]",0,839926,e207b29d933483a4b0ffb4165cdd4aad3a7dcb73,7,2,1,24245,,,0,"Add a workaround to fix the CI

Change-Id: I9f939d115e0c6d167ab437c4420e06b4b211c66b
(cherry picked from commit 018a19c1e89d91d0468ca9a59ca4cf011a90a2ab)
(cherry picked from commit 6b8005a4e1eb0647a11960cd3acdaa69ff56519d)
",git fetch https://review.opendev.org/openstack/metalsmith refs/changes/26/839926/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/integration/initial-setup.yaml'],1,e207b29d933483a4b0ffb4165cdd4aad3a7dcb73,gate-stable/yoga-stable/xena-stable/wallaby," # https://github.com/git/git/commit/8959555cee7ec045958f9b6dd62e541affb7e7d9 - name: Mark the metalsmith as safe for git command: git config --global --add safe.directory ""{{ metalsmith_src_dir }}/metalsmith"" become: true ",,5,0
openstack%2Fmolteniron~master~I7d734cb7ea9bea06a7065645e6d7028f6cbdff00,openstack/molteniron,master,I7d734cb7ea9bea06a7065645e6d7028f6cbdff00,Drop lower-constraints.txt and its testing,MERGED,2022-05-01 01:21:21.000000000,2022-05-02 14:52:33.000000000,2022-05-02 14:50:16.000000000,"[{'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2022-05-01 01:21:21.000000000', 'files': ['requirements.txt', '.zuul.yaml', 'lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/molteniron/commit/348138603465cd4bfecfa8664435851225af29ef', 'message': 'Drop lower-constraints.txt and its testing\n\nAs discussed in TC PTG[1] and TC resolution[2], we are\ndropping the lower-constraints.txt file and its testing.\nWe will keep lower bounds in the requirements.txt file but\nwith a note that these are not tested lower bounds and we\ntry our best to keep them updated.\n\n[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326\n[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal\n\nChange-Id: I7d734cb7ea9bea06a7065645e6d7028f6cbdff00\n'}]",0,840074,348138603465cd4bfecfa8664435851225af29ef,8,3,1,8556,,,0,"Drop lower-constraints.txt and its testing

As discussed in TC PTG[1] and TC resolution[2], we are
dropping the lower-constraints.txt file and its testing.
We will keep lower bounds in the requirements.txt file but
with a note that these are not tested lower bounds and we
try our best to keep them updated.

[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326
[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal

Change-Id: I7d734cb7ea9bea06a7065645e6d7028f6cbdff00
",git fetch https://review.opendev.org/openstack/molteniron refs/changes/74/840074/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', '.zuul.yaml', 'lower-constraints.txt', 'tox.ini']",4,348138603465cd4bfecfa8664435851225af29ef,drop-l-c,, [testenv:lower-constraints] deps = -c{toxinidir}/lower-constraints.txt -r{toxinidir}/test-requirements.txt -r{toxinidir}/requirements.txt,4,16
openstack%2Fvalidations-common~master~I48d45ed3a128f23db82760325346d41c976d9d5b,openstack/validations-common,master,I48d45ed3a128f23db82760325346d41c976d9d5b,DNM debugging CI,ABANDONED,2022-04-29 12:28:58.000000000,2022-05-02 14:47:10.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-04-29 12:28:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/c21f37d6a75ce333cbc6d9e48c039dcf8a93d201', 'message': 'DNM debugging CI\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I48d45ed3a128f23db82760325346d41c976d9d5b\n'}, {'number': 2, 'created': '2022-05-02 06:19:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/0b9b86d6e3e28dec2b76599ace625209cdbc3a7f', 'message': 'DNM debugging CI\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I48d45ed3a128f23db82760325346d41c976d9d5b\n'}, {'number': 3, 'created': '2022-05-02 12:43:02.000000000', 'files': ['roles/validations/tasks/main.yaml'], 'web_link': 'https://opendev.org/openstack/validations-common/commit/2b075ef03e92f0c32b7ba2fb50e4d3a8bdce14c1', 'message': 'DNM debugging CI\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I48d45ed3a128f23db82760325346d41c976d9d5b\n'}]",0,839942,2b075ef03e92f0c32b7ba2fb50e4d3a8bdce14c1,9,1,3,32926,,,0,"DNM debugging CI

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I48d45ed3a128f23db82760325346d41c976d9d5b
",git fetch https://review.opendev.org/openstack/validations-common refs/changes/42/839942/2 && git format-patch -1 --stdout FETCH_HEAD,['roles/validations/tasks/main.yaml'],1,c21f37d6a75ce333cbc6d9e48c039dcf8a93d201,ci/inventory," - name: Stat all possible inventory locations - name: DNM debug paths debug: msg: ""{{ stat_results }}""", - name: Stat all possible inventory location,4,1
openstack%2Fcharm-guide~master~I98d631bb197f84bef144e7a2f098883e4b1c466c,openstack/charm-guide,master,I98d631bb197f84bef144e7a2f098883e4b1c466c,Add link to charm migration page,MERGED,2022-04-30 00:13:39.000000000,2022-05-02 14:44:26.000000000,2022-05-02 14:43:10.000000000,"[{'_account_id': 2424}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-30 00:13:39.000000000', 'files': ['doc/source/project/charm-delivery.rst'], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/37a00b35a1865bb28527e2a7d0f61b6543188d75', 'message': 'Add link to charm migration page\n\nAdd a functional link to the charm migration page.\n\nMinor rewording.\n\nChange-Id: I98d631bb197f84bef144e7a2f098883e4b1c466c\n'}]",1,840009,37a00b35a1865bb28527e2a7d0f61b6543188d75,7,2,1,30561,,,0,"Add link to charm migration page

Add a functional link to the charm migration page.

Minor rewording.

Change-Id: I98d631bb197f84bef144e7a2f098883e4b1c466c
",git fetch https://review.opendev.org/openstack/charm-guide refs/changes/09/840009/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/project/charm-delivery.rst'],1,37a00b35a1865bb28527e2a7d0f61b6543188d75,add-link-to-charmhub-migration," For deployments that are running non-channel (legacy) charms, please see special charm operation `All charms - migration to channels`_... _All charms - migration to channels: https://docs.openstack.org/project-deploy-guide/charm-deployment-guide/latest/charmhub-migration.html"," For deployments that are still running legacy non-channel charms, please consult special charm operation ""All charms: migrating to channels"".",3,2
openstack%2Fcinder~master~Ifeb9f66d8d0d5fe7e93b82f35c9f38331ff36437,openstack/cinder,master,Ifeb9f66d8d0d5fe7e93b82f35c9f38331ff36437,Tegile Driver,NEW,2020-02-12 00:04:34.000000000,2022-05-02 14:36:57.000000000,,"[{'_account_id': 5805}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 11611}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 12988}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 20284}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24496}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29705}, {'_account_id': 29716}, {'_account_id': 30112}, {'_account_id': 30590}, {'_account_id': 30688}, {'_account_id': 31416}]","[{'number': 1, 'created': '2020-02-12 00:04:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/d54cf2a38209972ec0226090e3bfc148ade10393', 'message': ""Tegile Driver\n\nDo Not Merge / Work In Procress\n\nInitial work on reviving the Tegile volume driver. Work is being done on\nsetting up a Ci environment. Posting this patch to solicit reviews and\ncomments until it's ready to merge.\n\nChange-Id: Ifeb9f66d8d0d5fe7e93b82f35c9f38331ff36437\nImplements: blueprint cinder-tegile-volume-driver\n""}, {'number': 2, 'created': '2020-02-12 00:34:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f8423f19634735600f4dd68508f3fa8c5985e026', 'message': ""Tegile Driver\n\nDo Not Merge / Work In Procress\n\nInitial work on reviving the Tegile volume driver. Work is being done on\nsetting up a Ci environment. Posting this patch to solicit reviews and\ncomments until it's ready to merge.\n\nChange-Id: Ifeb9f66d8d0d5fe7e93b82f35c9f38331ff36437\nImplements: blueprint cinder-tegile-volume-driver\n""}, {'number': 3, 'created': '2020-02-12 16:04:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/74a98a066356d3e1f16a7f3dc2ca0c1123c48d82', 'message': ""Tegile Driver\n\nDo Not Merge / Work In Procress\n\nInitial work on reviving the Tegile volume driver. Work is being done on\nsetting up a Ci environment. Posting this patch to solicit reviews and\ncomments until it's ready to merge.\n\nChange-Id: Ifeb9f66d8d0d5fe7e93b82f35c9f38331ff36437\nImplements: blueprint cinder-tegile-volume-driver\n""}, {'number': 4, 'created': '2020-02-12 17:57:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a89e95f1370e270be8d1aacff4927589b7e241a0', 'message': ""Tegile Driver\n\nDo Not Merge / Work In Procress\n\nInitial work on reviving the Tegile volume driver. Work is being done on\nsetting up a Ci environment. Posting this patch to solicit reviews and\ncomments until it's ready to merge.\n\nChange-Id: Ifeb9f66d8d0d5fe7e93b82f35c9f38331ff36437\nImplements: blueprint cinder-tegile-volume-driver\n""}, {'number': 5, 'created': '2020-02-12 21:31:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/da261e6be124d9468a8e5ebc90b0009a0c5b875b', 'message': ""Tegile Driver\n\nDo Not Merge / Work In Procress\n\nInitial work on reviving the Tegile volume driver. Work is being done on\nsetting up a Ci environment. Posting this patch to solicit reviews and\ncomments until it's ready to merge.\n\nChange-Id: Ifeb9f66d8d0d5fe7e93b82f35c9f38331ff36437\nImplements: blueprint cinder-tegile-volume-driver\n""}, {'number': 6, 'created': '2020-02-12 22:19:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/0d02cc262f9e886a4dda6d6d6a16d12448762b85', 'message': ""Tegile Driver\n\nDo Not Merge / Work In Procress\n\nInitial work on reviving the Tegile volume driver. Work is being done on\nsetting up a Ci environment. Posting this patch to solicit reviews and\ncomments until it's ready to merge.\n\nChange-Id: Ifeb9f66d8d0d5fe7e93b82f35c9f38331ff36437\nImplements: blueprint cinder-tegile-volume-driver\n""}, {'number': 7, 'created': '2020-02-13 21:51:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/0edcc3cfff3e37bfb9653da16c46e4efa2702448', 'message': ""Tegile Driver\n\nDo Not Merge / Work In Procress\n\nInitial work on reviving the Tegile volume driver. Work is being done on\nsetting up a Ci environment. Posting this patch to solicit reviews and\ncomments until it's ready to merge.\n\nChange-Id: Ifeb9f66d8d0d5fe7e93b82f35c9f38331ff36437\nImplements: blueprint cinder-tegile-volume-driver\n""}, {'number': 8, 'created': '2020-02-13 22:08:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/857984cc5af9789d593e600d537fbfbda85e2874', 'message': ""Tegile Driver\n\nDo Not Merge / Work In Procress\n\nInitial work on reviving the Tegile volume driver. Work is being done on\nsetting up a Ci environment. Posting this patch to solicit reviews and\ncomments until it's ready to merge.\n\nChange-Id: Ifeb9f66d8d0d5fe7e93b82f35c9f38331ff36437\nImplements: blueprint cinder-tegile-volume-driver\n""}, {'number': 9, 'created': '2020-02-13 22:23:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/7ac37771f54edb138adb51a7d4656cb92e12e6fc', 'message': ""Tegile Driver\n\nDo Not Merge / Work In Procress\n\nInitial work on reviving the Tegile volume driver. Work is being done on\nsetting up a Ci environment. Posting this patch to solicit reviews and\ncomments until it's ready to merge.\n\nChange-Id: Ifeb9f66d8d0d5fe7e93b82f35c9f38331ff36437\nImplements: blueprint cinder-tegile-volume-driver\n""}, {'number': 10, 'created': '2020-02-14 21:31:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/504ca5903b6c0485a608e90dc112c8eb58032a53', 'message': ""Tegile Driver\n\nDo Not Merge / Work In Procress\n\nInitial work on reviving the Tegile volume driver. Work is being done on\nsetting up a Ci environment. Posting this patch to solicit reviews and\ncomments until it's ready to merge.\n\nChange-Id: Ifeb9f66d8d0d5fe7e93b82f35c9f38331ff36437\nImplements: blueprint cinder-tegile-volume-driver\n""}, {'number': 11, 'created': '2020-02-18 01:06:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/2869bf226b2716e0f4c1fed4de8089a732016c56', 'message': ""Tegile Driver\n\nDo Not Merge / Work In Procress\n\nInitial work on reviving the Tegile volume driver. Work is being done on\nsetting up a Ci environment. Posting this patch to solicit reviews and\ncomments until it's ready to merge.\n\nChange-Id: Ifeb9f66d8d0d5fe7e93b82f35c9f38331ff36437\nImplements: blueprint cinder-tegile-volume-driver\n""}, {'number': 12, 'created': '2020-02-19 18:23:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/9a3b020a8cf3e1488d4bd787b1cef3f0ba678811', 'message': ""Tegile Driver\n\nDo Not Merge / Work In Procress\n\nInitial work on reviving the Tegile volume driver. Work is being done on\nsetting up a Ci environment. Posting this patch to solicit reviews and\ncomments until it's ready to merge.\n\nChange-Id: Ifeb9f66d8d0d5fe7e93b82f35c9f38331ff36437\nImplements: blueprint cinder-tegile-volume-driver\n""}, {'number': 13, 'created': '2020-02-19 18:36:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/07e41e1b5ffe728f21e281c18f348d193b681275', 'message': ""Tegile Driver\n\nDo Not Merge / Work In Procress\n\nInitial work on reviving the Tegile volume driver. Work is being done on\nsetting up a Ci environment. Posting this patch to solicit reviews and\ncomments until it's ready to merge.\n\nChange-Id: Ifeb9f66d8d0d5fe7e93b82f35c9f38331ff36437\nImplements: blueprint cinder-tegile-volume-driver\n""}, {'number': 14, 'created': '2020-02-19 21:27:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/6126cbec481ced225159847b3f8d3dbb55c880ed', 'message': ""Tegile Driver\n\nDo Not Merge / Work In Procress\n\nInitial work on reviving the Tegile volume driver. Work is being done on\nsetting up a Ci environment. Posting this patch to solicit reviews and\ncomments until it's ready to merge.\n\nChange-Id: Ifeb9f66d8d0d5fe7e93b82f35c9f38331ff36437\nImplements: blueprint cinder-tegile-volume-driver\n""}, {'number': 15, 'created': '2020-02-19 23:08:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c015daa28c1ec293b32c5fa0c177e69f28204384', 'message': ""Tegile Driver\n\nDo Not Merge / Work In Procress\n\nInitial work on reviving the Tegile volume driver. Work is being done on\nsetting up a Ci environment. Posting this patch to solicit reviews and\ncomments until it's ready to merge.\n\nChange-Id: Ifeb9f66d8d0d5fe7e93b82f35c9f38331ff36437\nImplements: blueprint cinder-tegile-volume-driver\n""}, {'number': 16, 'created': '2020-02-20 17:26:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/763109fb08b8df2a0e8a3e322f4e74ee94e53c76', 'message': ""Tegile Driver\n\nDo Not Merge / Work In Procress\n\nInitial work on reviving the Tegile volume driver. Work is being done on\nsetting up a Ci environment. Posting this patch to solicit reviews and\ncomments until it's ready to merge.\n\nChange-Id: Ifeb9f66d8d0d5fe7e93b82f35c9f38331ff36437\nImplements: blueprint cinder-tegile-volume-driver\n""}, {'number': 17, 'created': '2020-02-20 17:40:44.000000000', 'files': ['cinder/opts.py', 'cinder/volume/drivers/tegile.py', 'doc/source/configuration/block-storage/drivers/tegile-storage-driver.rst', 'cinder/tests/unit/volume/drivers/test_tegile.py', 'releasenotes/notes/bp-cinder-tegile-volume-driver-f120c1121e1e2e15.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/98bf3aff11159df126e5e594344c539f936d9a1c', 'message': ""Tegile Driver\n\nDo Not Merge / Work In Procress\n\nInitial work on reviving the Tegile volume driver. Work is being done on\nsetting up a Ci environment. Posting this patch to solicit reviews and\ncomments until it's ready to merge.\n\nChange-Id: Ifeb9f66d8d0d5fe7e93b82f35c9f38331ff36437\nImplements: blueprint cinder-tegile-volume-driver\n""}]",16,707275,98bf3aff11159df126e5e594344c539f936d9a1c,325,42,17,5805,,,0,"Tegile Driver

Do Not Merge / Work In Procress

Initial work on reviving the Tegile volume driver. Work is being done on
setting up a Ci environment. Posting this patch to solicit reviews and
comments until it's ready to merge.

Change-Id: Ifeb9f66d8d0d5fe7e93b82f35c9f38331ff36437
Implements: blueprint cinder-tegile-volume-driver
",git fetch https://review.opendev.org/openstack/cinder refs/changes/75/707275/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/opts.py', 'cinder/volume/drivers/tegile.py', 'doc/source/configuration/block-storage/drivers/tegile-storage-driver.rst', 'cinder/tests/unit/volume/drivers/test_tegile.py']",4,d54cf2a38209972ec0226090e3bfc148ade10393,tegile,"# Copyright 2020. IntelliFLash by DDN, Inc. # All rights reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. """""" Volume driver Test for Tegile storage. """""" import mock from cinder import context from cinder import exception from cinder import test from cinder.volume.drivers import tegile BASE_DRIVER = tegile.TegileIntelliFlashVolumeDriver ISCSI_DRIVER = tegile.TegileISCSIDriver FC_DRIVER = tegile.TegileFCDriver test_config = mock.Mock() test_config.san_ip = 'some-ip' test_config.san_login = 'some-user' test_config.san_password = 'some-password' test_config.san_is_local = True test_config.tegile_default_pool = 'random-pool' test_config.tegile_default_project = 'random-project' test_config.volume_backend_name = ""unittest"" test_volume = {'host': 'node#testPool', 'name': 'testvol', 'id': 'a24c2ee8-525a-4406-8ccd-8d38688f8e9e', '_name_id': 'testvol', 'metadata': {'project': 'testProj'}, 'provider_location': None, 'size': 10} test_snapshot = {'name': 'testSnap', 'id': '07ae9978-5445-405e-8881-28f2adfee732', 'volume': {'host': 'node#testPool', 'size': 1, '_name_id': 'testvol' } } array_stats = {'total_capacity_gb': 4569.199686084874, 'free_capacity_gb': 4565.381390112452, 'pools': [{'total_capacity_gb': 913.5, 'QoS_support': False, 'free_capacity_gb': 911.812650680542, 'reserved_percentage': 0, 'pool_name': 'pyramid' }, {'total_capacity_gb': 2742.1996604874, 'QoS_support': False, 'free_capacity_gb': 2740.148867149747, 'reserved_percentage': 0, 'pool_name': 'cobalt' }, {'total_capacity_gb': 913.5, 'QoS_support': False, 'free_capacity_gb': 913.4198722839355, 'reserved_percentage': 0, 'pool_name': 'test' }] } class FakeTegileService(object): @staticmethod def send_api_request(method, params=None, request_type='post', api_service='v2', fine_logging=False): if method is 'createVolume': return '' elif method is 'deleteVolume': return '' elif method is 'createVolumeSnapshot': return '' elif method is 'deleteVolumeSnapshot': return '' elif method is 'cloneVolumeSnapshot': return '' elif method is 'listPools': return '' elif method is 'resizeVolume': return '' elif method is 'getVolumeSizeinGB': return 25 elif method is 'getISCSIMappingForVolume': return {'target_lun': 27, 'target_iqn': 'iqn.2012-02.com.tegile:openstack-cobalt', 'target_portal': '10.68.103.106:3260' } elif method is 'getFCPortsForVolume': return {'target_lun': 12, 'initiator_target_map': '{""21000024ff59bb6e"":[""21000024ff578701"",],' '""21000024ff59bb6f"":[""21000024ff578700"",],}', 'target_wwn': '[""21000024ff578700"",""21000024ff578701"",]'} elif method is 'getArrayStats': return array_stats fake_tegile_backend = FakeTegileService() class FakeTegileServiceFail(object): @staticmethod def send_api_request(method, params=None, request_type='post', api_service='v2', fine_logging=False): raise exception.VolumeBackendAPIException(reason=""because_its_a_test"",data=""data123"") fake_tegile_backend_fail = FakeTegileServiceFail() class TegileIntelliFlashVolumeDriverTestCase(test.TestCase): def setUp(self): self.ctxt = context.get_admin_context() self.configuration = test_config super(TegileIntelliFlashVolumeDriverTestCase, self).setUp() def test_create_volume(self): tegile_driver = self.get_object(self.configuration) with mock.patch.object(tegile_driver, '_api_executor', fake_tegile_backend): self.assertEqual({ 'metadata': {'pool': 'testPool', 'project': test_config.tegile_default_project } }, tegile_driver.create_volume(test_volume)) def test_create_volume_fail(self): tegile_driver = self.get_object(self.configuration) with mock.patch.object(tegile_driver, '_api_executor', fake_tegile_backend_fail): self.assertRaises(exception.VolumeBackendAPIException, tegile_driver.create_volume, test_volume) def test_delete_volume(self): tegile_driver = self.get_object(self.configuration) with mock.patch.object(tegile_driver, '_api_executor', fake_tegile_backend): tegile_driver.delete_volume(test_volume) def test_delete_volume_fail(self): tegile_driver = self.get_object(self.configuration) with mock.patch.object(tegile_driver, '_api_executor', fake_tegile_backend_fail): self.assertRaises(exception.VolumeBackendAPIException, tegile_driver.delete_volume, test_volume) def test_create_snapshot(self): tegile_driver = self.get_object(self.configuration) with mock.patch.object(tegile_driver, '_api_executor', fake_tegile_backend): tegile_driver.create_snapshot(test_snapshot) def test_create_snapshot_fail(self): tegile_driver = self.get_object(self.configuration) with mock.patch.object(tegile_driver, '_api_executor', fake_tegile_backend_fail): self.assertRaises(exception.VolumeBackendAPIException, tegile_driver.create_snapshot, test_snapshot) def test_delete_snapshot(self): tegile_driver = self.get_object(self.configuration) with mock.patch.object(tegile_driver, '_api_executor', fake_tegile_backend): tegile_driver.delete_snapshot(test_snapshot) def test_delete_snapshot_fail(self): tegile_driver = self.get_object(self.configuration) with mock.patch.object(tegile_driver, '_api_executor', fake_tegile_backend_fail): self.assertRaises(exception.VolumeBackendAPIException, tegile_driver.delete_snapshot, test_snapshot) def test_create_volume_from_snapshot(self): tegile_driver = self.get_object(self.configuration) with mock.patch.object(tegile_driver, '_api_executor', fake_tegile_backend): self.assertEqual({ 'metadata': {'pool': 'testPool', 'project': test_config.tegile_default_project } }, tegile_driver.create_volume_from_snapshot(test_volume, test_snapshot)) def test_create_volume_from_snapshot_fail(self): tegile_driver = self.get_object(self.configuration) with mock.patch.object(tegile_driver, '_api_executor', fake_tegile_backend_fail): self.assertRaises(exception.VolumeBackendAPIException, tegile_driver.create_volume_from_snapshot, test_volume, test_snapshot) def test_create_cloned_volume(self): tegile_driver = self.get_object(self.configuration) with mock.patch.object(tegile_driver, '_api_executor', fake_tegile_backend): self.assertEqual({'metadata': {'project': 'testProj', 'pool': 'testPool'}}, tegile_driver.create_cloned_volume(test_volume, test_volume)) def test_create_cloned_volume_fail(self): tegile_driver = self.get_object(self.configuration) with mock.patch.object(tegile_driver, '_api_executor', fake_tegile_backend_fail): self.assertRaises(exception.VolumeBackendAPIException, tegile_driver.create_cloned_volume, test_volume, test_volume) def test_get_volume_stats(self): tegile_driver = self.get_object(self.configuration) with mock.patch.object(tegile_driver, '_api_executor', fake_tegile_backend): self.assertEqual({'driver_version': '1.0.0', 'free_capacity_gb': 4565.381390112452, 'pools': [{'QoS_support': False, 'allocated_capacity_gb': 0.0, 'free_capacity_gb': 911.812650680542, 'pool_name': 'pyramid', 'reserved_percentage': 0, 'total_capacity_gb': 913.5}, {'QoS_support': False, 'allocated_capacity_gb': 0.0, 'free_capacity_gb': 2740.148867149747, 'pool_name': 'cobalt', 'reserved_percentage': 0, 'total_capacity_gb': 2742.1996604874}, {'QoS_support': False, 'allocated_capacity_gb': 0.0, 'free_capacity_gb': 913.4198722839355, 'pool_name': 'test', 'reserved_percentage': 0, 'total_capacity_gb': 913.5}], 'storage_protocol': 'iSCSI', 'total_capacity_gb': 4569.199686084874, 'vendor_name': 'Tegile Systems Inc.', 'volume_backend_name': 'unittest'}, tegile_driver.get_volume_stats(True)) def test_get_pool(self): tegile_driver = self.get_object(self.configuration) with mock.patch.object(tegile_driver, '_api_executor', fake_tegile_backend): self.assertEqual('testPool', tegile_driver.get_pool(test_volume)) def test_extend_volume(self): tegile_driver = self.get_object(self.configuration) with mock.patch.object(tegile_driver, '_api_executor', fake_tegile_backend): tegile_driver.extend_volume(test_volume, 12) def test_extend_volume_fail(self): tegile_driver = self.get_object(self.configuration) with mock.patch.object(tegile_driver, '_api_executor', fake_tegile_backend_fail): self.assertRaises(exception.VolumeBackendAPIException, tegile_driver.extend_volume, test_volume, 30) def test_manage_existing(self): tegile_driver = self.get_object(self.configuration) existing_ref = {'name': 'existingvol'} with mock.patch.object(tegile_driver, '_api_executor', fake_tegile_backend): self.assertEqual({'metadata': {'pool': 'testPool', 'project': 'testProj' }, '_name_id': ('existingvol',) }, tegile_driver.manage_existing(test_volume, existing_ref)) def test_manage_existing_get_size(self): tegile_driver = self.get_object(self.configuration) existing_ref = {'name': 'existingvol'} with mock.patch.object(tegile_driver, '_api_executor', fake_tegile_backend): self.assertEqual(25, tegile_driver.manage_existing_get_size( test_volume, existing_ref)) def test_manage_existing_get_size_fail(self): tegile_driver = self.get_object(self.configuration) existing_ref = {'name': 'existingvol'} with mock.patch.object(tegile_driver, '_api_executor', fake_tegile_backend_fail): self.assertRaises(exception.VolumeBackendAPIException, tegile_driver.manage_existing_get_size, test_volume, existing_ref) def get_object(self, configuration): class TegileBaseDriver(BASE_DRIVER): def initialize_connection(self, volume, connector, **kwargs): pass def terminate_connection(self, volume, connector, force=False, **kwargs): pass return TegileBaseDriver(configuration=self.configuration) class TegileISCSIDriverTestCase(test.TestCase): def setUp(self): super(TegileISCSIDriverTestCase, self).setUp() self.ctxt = context.get_admin_context() self.configuration = test_config self.configuration.chap_username = 'fake' self.configuration.chap_password = ""test"" def test_initialize_connection(self): tegile_driver = self.get_object(self.configuration) connector = {'initiator': 'iqn.1993-08.org.debian:01:d0bb9a834f8'} with mock.patch.object(tegile_driver, '_api_executor', fake_tegile_backend): self.assertEqual( {'data': {'auth_method': 'CHAP', 'discard': False, 'target_discovered': (False,), 'auth_password': 'test', 'auth_username': 'fake', 'target_iqn': 'iqn.2012-02.' 'com.tegile:openstack-cobalt', 'target_lun': 27, 'target_portal': '10.68.103.106:3260', 'volume_id': ( 'a24c2ee8-525a-4406-8ccd-8d38688f8e9e',)}, 'driver_volume_type': 'iscsi'}, tegile_driver.initialize_connection(test_volume, connector)) def get_object(self, configuration): return ISCSI_DRIVER(configuration=configuration) class TegileFCDriverTestCase(test.TestCase): def setUp(self): super(TegileFCDriverTestCase, self).setUp() self.ctxt = context.get_admin_context() self.configuration = test_config def test_initialize_connection(self): tegile_driver = self.get_object(self.configuration) connector = {'wwpns': ['500110a0001a3990']} with mock.patch.object(tegile_driver, '_api_executor', fake_tegile_backend): self.assertEqual({'data': {'encrypted': False, 'initiator_target_map': { '21000024ff59bb6e': ['21000024ff578701'], '21000024ff59bb6f': ['21000024ff578700'] }, 'target_discovered': False, 'target_lun': 12, 'target_wwn': ['21000024ff578700', '21000024ff578701']}, 'driver_volume_type': 'fibre_channel'}, tegile_driver.initialize_connection( test_volume, connector)) def get_object(self, configuration): return FC_DRIVER(configuration=configuration) ",,1076,0
openstack%2Fcinder~master~I1a48fe0dd41165d08e60f0de8db8330dfa900a48,openstack/cinder,master,I1a48fe0dd41165d08e60f0de8db8330dfa900a48,Add new OSNEXUS Quantastor Cinder driver,ABANDONED,2018-11-13 07:07:04.000000000,2022-05-02 14:34:25.000000000,,"[{'_account_id': 4523}, {'_account_id': 5997}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10068}, {'_account_id': 10118}, {'_account_id': 11611}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 12822}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15296}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 18058}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 20284}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 27615}, {'_account_id': 28801}, {'_account_id': 29484}, {'_account_id': 29499}, {'_account_id': 29637}, {'_account_id': 29705}, {'_account_id': 29716}]","[{'number': 1, 'created': '2018-11-13 07:07:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/717a452158b60c0eef7765b66209cd3491cabb9a', 'message': 'Driver QuantaStor added\n\nChange-Id: I1a48fe0dd41165d08e60f0de8db8330dfa900a48\n'}, {'number': 2, 'created': '2018-11-23 06:18:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ad64a02f769c8ec4740d246460ec3673e931eb0b', 'message': 'Driver QuantaStor added\n\nChange-Id: I1a48fe0dd41165d08e60f0de8db8330dfa900a48\n'}, {'number': 3, 'created': '2018-11-28 06:35:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/6e8f360d4594073e6f550fb0085f11a277bfaf85', 'message': 'Driver QuantaStor added\n\nReview comments fixed\nFixed pep8 errors\nAdded Quantastor Driver Docs\nAdded Release Notes\n\nChange-Id: I1a48fe0dd41165d08e60f0de8db8330dfa900a48\n'}, {'number': 4, 'created': '2018-11-28 07:18:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/2629d8c03b3fc9fcb94228d543a231b59d1dc184', 'message': 'Driver QuantaStor added\n\nReview comments fixed\nFixed pep8 errors\nAdded Quantastor Driver Docs\nAdded Release Notes\n\nChange-Id: I1a48fe0dd41165d08e60f0de8db8330dfa900a48\n'}, {'number': 5, 'created': '2018-11-29 13:42:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/069edf340bfb4ac98b15ca30e50f7aa23e54b49c', 'message': 'Driver QuantaStor added\nAdded Quantastor Driver Docs\nAdded Release Notes\n\nChange-Id: I1a48fe0dd41165d08e60f0de8db8330dfa900a48\n'}, {'number': 6, 'created': '2019-01-21 13:22:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/5d377c1a0bd27863c748f232b726950e72c000af', 'message': 'Driver QuantaStor added\nAdded Quantastor Driver Docs\nAdded Release Notes\n\nChange-Id: I1a48fe0dd41165d08e60f0de8db8330dfa900a48\n'}, {'number': 7, 'created': '2019-01-29 06:48:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/d41960ee8879b50d00a2ec963fc248d1bbcb87ed', 'message': 'Using existing san_ip config option in quantastor.py\n\nImporting SanISCSIDriver class to use existing san config options.\nRemoved unnecessary return and debugging statements. Raising execptions,\nas perviously, it was strings.\n\nHandled the case where the new volume (volume from snapshot) being\nrequested is larger than the snapshot.\n\nWhile terminating connection, connector may be None in the case of\nforce detach. Handled this and remove all connections if that is the case.\n\nChange-Id: I1a48fe0dd41165d08e60f0de8db8330dfa900a48\n'}, {'number': 8, 'created': '2019-01-31 09:28:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/1f6d536171b217689b2140a2e3b61fb2fba18956', 'message': 'Added new OSNEXUS Quantastor Cinder driver\n\nAdded Quantastor driver class with API client,\nalong with unit test cases.\nAdded docs of the driver and realease notes too.\n\nChange-Id: I1a48fe0dd41165d08e60f0de8db8330dfa900a48\n'}, {'number': 9, 'created': '2019-03-07 12:06:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f984eb6698be34018885c306afe0f40a87f674dc', 'message': 'Add new OSNEXUS Quantastor Cinder driver\n\nAdded qstor driver with API client\nAdded Unit tests, docs and release notes\nImplements: blueprint quantastor-os-cinder-driver\n\nChange-Id: I1a48fe0dd41165d08e60f0de8db8330dfa900a48\n'}, {'number': 10, 'created': '2019-03-19 11:59:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/9c06accf8f2cec8ef3b53b5f34d282e4c1aa872d', 'message': 'Add new OSNEXUS Quantastor Cinder driver\n\nAdded qstor driver with API client\nAdded Unit tests, docs and release notes\nImplements: blueprint quantastor-os-cinder-driver\n\nChange-Id: I1a48fe0dd41165d08e60f0de8db8330dfa900a48\n'}, {'number': 11, 'created': '2019-04-01 14:37:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/5c6cccb2ad1a609fd73ebbf18fca648063871294', 'message': 'Add new OSNEXUS Quantastor Cinder driver\n\nAdded qstor driver with API client\nAdded Unit tests, docs and release notes\nImplements: blueprint quantastor-os-cinder-driver\n\nChange-Id: I1a48fe0dd41165d08e60f0de8db8330dfa900a48\n'}, {'number': 12, 'created': '2019-04-14 03:17:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/127e2f0b6137fb783738e971e90c5b7ff0e16b08', 'message': 'Add new OSNEXUS Quantastor Cinder driver\n\nAdded qstor driver with API client\nAdded Unit tests, docs and release notes\nImplements: blueprint quantastor-os-cinder-driver\n\nChange-Id: I1a48fe0dd41165d08e60f0de8db8330dfa900a48\n'}, {'number': 13, 'created': '2019-04-14 09:05:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/d176e21312b229a65f834a2f35d2e851316d5058', 'message': 'Add new OSNEXUS Quantastor Cinder driver\n\nAdded qstor driver with API client\nAdded Unit tests, docs and release notes\nImplements: blueprint quantastor-os-cinder-driver\n\nChange-Id: I1a48fe0dd41165d08e60f0de8db8330dfa900a48\n'}, {'number': 14, 'created': '2019-04-16 04:52:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b304d91b66973eb0297a9eceff00fe6d10d59565', 'message': 'Add new OSNEXUS Quantastor Cinder driver\n\nAdded qstor driver with API client\nAdded Unit tests, docs and release notes\nImplements: blueprint quantastor-os-cinder-driver\n\nChange-Id: I1a48fe0dd41165d08e60f0de8db8330dfa900a48\n'}, {'number': 15, 'created': '2019-04-16 13:21:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/e22aa17e2554722822efad94597938abcdf0ee06', 'message': 'Add new OSNEXUS Quantastor Cinder driver\n\nAdded qstor driver with API client\nAdded Unit tests, docs and release notes\nImplements: blueprint quantastor-os-cinder-driver\n\nChange-Id: I1a48fe0dd41165d08e60f0de8db8330dfa900a48\n'}, {'number': 16, 'created': '2019-04-26 02:52:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/832545fe95ab65bf43d31e60d30c469f1c3c56b6', 'message': 'Add new OSNEXUS Quantastor Cinder driver\n\nAdded qstor driver with API client\nAdded Unit tests, docs and release notes\nImplements: blueprint quantastor-os-cinder-driver\n\nChange-Id: I1a48fe0dd41165d08e60f0de8db8330dfa900a48\n'}, {'number': 17, 'created': '2019-04-27 07:47:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/9ed11aa9a8e94a52c6f386c0d2d0259440f49d8c', 'message': 'Add new OSNEXUS Quantastor Cinder driver\n\nAdded qstor driver with API client\nAdded Unit tests, docs and release notes\nImplements: blueprint quantastor-os-cinder-driver\n\nChange-Id: I1a48fe0dd41165d08e60f0de8db8330dfa900a48\n'}, {'number': 18, 'created': '2019-05-01 14:21:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/672ba1148fbcb1fc8cd012dbbcbee76d2449f49b', 'message': 'Add new OSNEXUS Quantastor Cinder driver\n\nAdded qstor driver with API client\nAdded Unit tests, docs and release notes\nImplements: blueprint osnexus-quantastor-driver\n\nChange-Id: I1a48fe0dd41165d08e60f0de8db8330dfa900a48\n'}, {'number': 19, 'created': '2019-05-02 05:29:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/5680f68c416deb6aa1cf8ae1b4b72d4d37451add', 'message': 'Add new OSNEXUS Quantastor Cinder driver\n\nAdded qstor driver with API client\nAdded Unit tests, docs and release notes\nImplements: blueprint osnexus-quantastor-driver\n\nChange-Id: I1a48fe0dd41165d08e60f0de8db8330dfa900a48\n'}, {'number': 20, 'created': '2019-05-02 12:49:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f1e75cfeee6f46d3a18191919a273151bf60e2e9', 'message': 'Add new OSNEXUS Quantastor Cinder driver\n\nAdded qstor driver with API client\nAdded Unit tests, docs and release notes\nImplements: blueprint osnexus-quantastor-driver\n\nChange-Id: I1a48fe0dd41165d08e60f0de8db8330dfa900a48\n'}, {'number': 21, 'created': '2019-05-03 12:19:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/66f3156ecbde44881be673dc53418e63cdd95e7d', 'message': 'Add new OSNEXUS Quantastor Cinder driver\n\nAdded qstor driver with API client\nAdded Unit tests, docs and release notes\nImplements: blueprint osnexus-quantastor-driver\n\nChange-Id: I1a48fe0dd41165d08e60f0de8db8330dfa900a48\n'}, {'number': 22, 'created': '2019-05-03 12:27:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/dc1d14065f305949950384e14f98a342df473c61', 'message': 'Add new OSNEXUS Quantastor Cinder driver\n\nAdded qstor driver with API client\nAdded Unit tests, docs and release notes\nImplements: blueprint osnexus-quantastor-driver\n\nChange-Id: I1a48fe0dd41165d08e60f0de8db8330dfa900a48\n'}, {'number': 23, 'created': '2019-05-06 06:43:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/4e61f8d9bafe3f5026fdc0f1924ff15b14c5c241', 'message': 'Add new OSNEXUS Quantastor Cinder driver\n\nAdded qstor driver with API client\nAdded Unit tests, docs and release notes\nImplements: blueprint osnexus-quantastor-driver\n\nChange-Id: I1a48fe0dd41165d08e60f0de8db8330dfa900a48\n'}, {'number': 24, 'created': '2019-05-06 08:56:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/906435b09b5aa7ea4dfc4b02fd1626a5342bbc50', 'message': 'Add new OSNEXUS Quantastor Cinder driver\n\nAdded qstor driver with API client\nAdded Unit tests, docs and release notes\nImplements: blueprint osnexus-quantastor-driver\n\nChange-Id: I1a48fe0dd41165d08e60f0de8db8330dfa900a48\n'}, {'number': 25, 'created': '2019-05-29 08:25:25.000000000', 'files': ['cinder/tests/unit/volume/drivers/test_quantastor.py', 'cinder/volume/drivers/osnexus/quantastor.py', 'cinder/opts.py', 'doc/source/reference/support-matrix.ini', 'cinder/volume/drivers/osnexus/quantastor_api.py', 'doc/source/configuration/block-storage/drivers/quantastor-volume-driver.rst', 'doc/source/configuration/block-storage/volume-drivers.rst', 'cinder/volume/drivers/osnexus/__init__.py', 'releasenotes/notes/Quantastor-driver-a358dfed506f83b1.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/9f022a77a366e9d724d7b408fdcd2278bb64bc24', 'message': 'Add new OSNEXUS Quantastor Cinder driver\n\nAdded qstor driver with API client\nAdded Unit tests, docs and release notes\nImplements: blueprint osnexus-quantastor-driver\n\nChange-Id: I1a48fe0dd41165d08e60f0de8db8330dfa900a48\n'}]",126,617503,9f022a77a366e9d724d7b408fdcd2278bb64bc24,771,54,25,29499,,,0,"Add new OSNEXUS Quantastor Cinder driver

Added qstor driver with API client
Added Unit tests, docs and release notes
Implements: blueprint osnexus-quantastor-driver

Change-Id: I1a48fe0dd41165d08e60f0de8db8330dfa900a48
",git fetch https://review.opendev.org/openstack/cinder refs/changes/03/617503/21 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/opts.py', 'cinder/tests/unit/volume/drivers/test_quantastor.py', 'cinder/volume/drivers/quantastor_api.py', 'cinder/volume/drivers/quantastor.py']",4,717a452158b60c0eef7765b66209cd3491cabb9a,bp/osnexus-quantastor-driver,""""""" QuantaStor Volume Driver for Cinder. Paths to remember: /opt/stack/cinder/cinder/volume/drivers /usr/local/lib/python2.7/dist-packages/cinder/volume/drivers/ tail -f /var/log/upstart/cinder-volume.log Useful commands: cinder reset-state ef47f4b1-28f8-405f-91b7-bf9ed71e1922 cinder delete ef47f4b1-28f8-405f-91b7-bf9ed71e1922 test variables (add to /devstack/local.conf): (replace with your own quantastor settings) [[post-config|$CINDER_CONF]] [DEFAULT] volume_driver=cinder.volume.drivers.QuantaStor.QuantaStorDriver qs_ip=192.168.0.101 qs_pool_id=fdb0f5c5-834a-1220-96a1-9a5d3f6664a9 qs_user = admin qs_password = password """""" import os import time import requests from cinder import exception from cinder.i18n import _ from cinder.volume import driver from oslo_concurrency import processutils from oslo_config import cfg from oslo_log import log as logging #from quantastor_api import QuantastorClient from cinder.volume.drivers.quantastor_api import QuantastorClient LOG = logging.getLogger(__name__) QS_OPTS = [ cfg.StrOpt('qs_ip', default="""", help='The IP address of the QuantaStor system ' 'being used for storage'), cfg.StrOpt('qs_pool_id', default="""", help='The ID of the QuantaStor pool or tier to use.'), cfg.StrOpt('qs_user', default=""admin"", help='The account on the QuantaStor system ' 'to be used by cinder'), cfg.StrOpt('qs_password', default=""password"", help='The password for the QuantaStor account being used'), ] CONF = cfg.CONF CONF.register_opts(QS_OPTS) class DotDict(dict): """"""dot.notation access to dictionary attributes"""""" __getattr__ = dict.__getitem__ __setattr__ = dict.__setitem__ __delattr__ = dict.__delitem__ class QuantaStorDriver(driver.ISCSIDriver): """"""Executes commands relating to QuantaStor Volumes"""""" VERSION = ""0.9.0"" def __init__(self, *args, **kwargs): self.logMessage(""Initializing.."") driver.ISCSIDriver.__init__(self, *args, **kwargs) self.configuration.append_config_values(QS_OPTS) self.logMessage(self.configuration.qs_ip) self.logMessage(self.configuration.qs_user) self.logMessage(self.configuration.qs_password) def do_setup(self, context): """"""Create client for QUANTASTOR request manager."""""" LOG.debug(""Enter in QuantastorDriver do_setup."") module = { 'params' : { 'quantastor_hostname' : self.configuration.qs_ip, 'quantastor_username' : self.configuration.qs_user, 'quantastor_password' : self.configuration.qs_password }} module = DotDict(module) self.client = QuantastorClient(module) def check_for_setup_error(self): """"""Returns an error if prerequisites aren't met"""""" try: self.logMessage(""Checking for setup errors..."") if self.configuration.qs_ip == """": errorMessage = ('Error: The IP address of a QuantaStor ' 'system must be specified.') self.logMessage(errorMessage) raise errorMessage if self.configuration.qs_pool_id == """": errorMessage = ('Error: The pool ID of a QuantaStor ' 'system must be specified.') self.logMessage(errorMessage) raise errorMessage if self.configuration.qs_user == """": errorMessage = ('Error: The user account of a QuantaStor ' 'system must be specified.') self.logMessage(errorMessage) raise errorMessage if self.configuration.qs_password == """": errorMessage = ('Error: The password to the user account ' 'must be specified.') self.logMessage(errorMessage) raise errorMessage sys_info = self.qs_sys_get() self.logMessage( ""connected to QuantaStor system "" + sys_info._name) pool_info = self.qs_pool_get() self.logMessage(""Found pool with ID "" + pool_info._id + "" named "" + pool_info._name) self.logMessage( ""No setup errors found. QuantaStor driver is ready for use."") except processutils.ProcessExecutionError: exception_message = _(""QuantaStor driver is not working."") raise exception.VolumeBackendAPIException(data=exception_message) def create_cloned_volume(self, volume, src_vref): self.logMessage(""Creating cloned volume"") out = self.client.storage_create_cloned_volume(src_vref['name'], volume['name'], \ self.configuration.qs_pool_id) qs_clone = out._id if qs_clone is None: exception_message = _( ""Error: Failed to load clone information"") raise exception.VolumeBackendAPIException(data=exception_message) self.logMessage(""Cloned volume was successfully created"") return def create_volume(self, volume): """"""Creates a volume"""""" self.logMessage(""creating a volume"") name = volume['name'] size = self.gb_to_b_size(volume['size']) description = 'volume creation' provisionable_id = self.configuration.qs_pool_id out = self.client.storage_volume_create(name, size, description, provisionable_id) qs_vol = out._id if qs_vol is None: exception_message = _( ""Error: Failed to load volume information"") raise exception.VolumeBackendAPIException(data=exception_message) self.logMessage(""Volume was successfully created"") return def create_volume_from_snapshot(self, volume, snapshot): """"""Creates a volume from a snapshot."""""" self.logMessage(""Create volume from snapshot"") self.logMessage(""storageVolumeClone?&storageVolume="" + snapshot['name'] + ""&cloneName="" + volume['name'] + ""&accessMode=0&flags=0&provisionableId="" + self.configuration.qs_pool_id) out = self.client.storage_create_cloned_volume(snapshot['name'], volume['name'], \ self.configuration.qs_pool_id) qs_clone = out._id if qs_clone is None: exception_message = _( ""Error: Failed to load clone information"") raise exception.VolumeBackendAPIException(data=exception_message) self.logMessage(""Cloned volume was successfully created"") return def delete_volume(self, volume): """"""Deletes a logical volume"""""" name = volume['name'] self.logMessage(""deleting a volume"") self.client.storage_volume_delete(name) self.logMessage(""verifying that volume no longer exists"") vol = self.client.storage_volume_get(name) if vol is not None: exception_message = _(""Error: Failed to delete snapshot"") raise exception.VolumeBackendAPIException(data=exception_message) self.logMessage(""Volume was successfully deleted"") return def create_snapshot(self, snapshot): self.logMessage(""Creating snapshot"") storage_volume = snapshot['volume_name'] snapshot_name = snapshot['name'] out = self.client.storage_create_snapshot(storage_volume, snapshot_name, \ self.configuration.qs_pool_id) qs_snap = out._id if qs_snap is None: exception_message = _( ""Error: Failed to load snapshot information"") raise exception.VolumeBackendAPIException(data=exception_message) self.logMessage(""Snapshot was successfully created"") return def delete_snapshot(self, snapshot): """"""Deletes a snapshot"""""" self.logMessage(""deleting a snapshot"") name = snapshot['name'] out = self.client.storage_volume_delete(name) self.logMessage(""verifying that snapshot no longer exists"") out = self.client.storage_volume_get(name) vol = out._id if vol is not None: exception_message = _(""Error: Failed to delete snapshot"") raise exception.VolumeBackendAPIException(data=exception_message) self.logMessage(""Snapshot was successfully deleted"") return def local_path(self, volume): # We dont use local paths self.logMessage(""Local path"") raise NotImplementedError() def ensure_export(self, context, volume): """"""Safely and synchronously recreates an export for a logical volume"""""" self.logMessage(""Ensure export"") # TODO(need to implement) self.logMessage(volume[""provider_location""]) self.logMessage(volume[""host""]) self.logMessage(volume[""attached_host""]) def create_export(self, context, volume, connector): """"""Exports the volume"""""" self.logMessage(""Create export"") self.logMessage(""context"") self.logMessage(str(context)) self.logMessage(""volume"") self.logMessage(str(volume)) self.logMessage(""connector"") self.logMessage(str(connector)) self.logMessage(""Calling initialize connection"") self.initialize_connection(volume, connector) # return {'provider_location': self._get_provider_location(volume)} def remove_export(self, context, volume): """"""Removes an export for a logical volume"""""" self.logMessage(""Remove export"") self.logMessage(""Work done in terminate connection"") def initialize_connection(self, volume, connector): # TODO(dont add if it already is assigned to host) self.logMessage(""Initialize connection"") initiator = connector[""initiator""] host_name = ""ostack-"" + initiator[initiator.rfind("":"") + 1:] ip_addr = connector[""ip""] volume_name = volume[""name""] self.logMessage(ip_addr) self.logMessage(initiator) self.logMessage(volume_name) self.logMessage(host_name) # Get the volume from the system to verify that it still exists name = volume_name qs_vol = self.client.storage_volume_get(name) if qs_vol is None or qs_vol._id is None: exception_message = _( ""Error: Failed to load volume information"") raise exception.VolumeBackendAPIException(data=exception_message) #verify that there is a host entry for the specified iqn out = self.client.host_get(initiator) try: host_obj = out._id except: self.logMessage(""Host with specified iqn not found. Creating new host"") out = self.client.host_add(host_name, initiator) host_obj = out._id if host_obj is None: exception_message = _(""Error: Failed to create host entry in QuantaStor"") raise exception.VolumeBackendAPIException(data=exception_message) self.logMessage(""Attaching volume to host"") response = self.client.storage_volume_attach(volume_name, host_obj) # verify that it was added successfully acl = response._hostId if acl is None: exception_message = _( ""Error: Failed to assign volume to host"") raise exception.VolumeBackendAPIException(data=exception_message) portal = self.configuration.qs_ip + "":3260"" result = { 'driver_volume_type': 'iscsi', 'data': { 'target_discovered': True, 'target_iqn': str(qs_vol._iqn), 'target_portal': portal, 'volume_id': volume['id'], 'access_mode': 'rw' } } self.logMessage(result) self.logMessage(""Successfully attached volume to host"") return result def terminate_connection(self, volume, connector, **kwargs): self.logMessage(""Terminating connection"") # get the storage volume information vol_info = self.qs_vol_get(volume[""name""]) if vol_info._id is None: self.logMessage(""Warning: Unable to find volume"") return vol_id = vol_info._id initiator = connector[""initiator""] # remove the acl assignment for the volume/host self.client.storage_volume_dettach(vol_id, initiator) # TODO(verify that it is removed) return # get the list of sessions and loop until you find specified session # then close the session # sessionList = self.make_request(""sessionEnum?"") # for session in sessionList: # self.logMessage(session.get(targetIqn)) # if session.get(""initiatorIqn"") == connector.get(""initiator""): # if session.get(""storageVolumeId"") == volId: # self.logMessage(""Closing session with id'"" + # session.get(""id"") + ""'"") # self.make_request(""sessionClose?sessionId="" + # session.get(""id"")) # return #add a check to see if it was returned successful? # # self.logMessage(""Unable to find a matching session. Skipping"") # return def _update_volume_stats(self): stats = {} stats[""volume_backend_name""] = 'qstor' stats['vendor_name'] = 'OSNEXUS' stats['dirver_version'] = self.VERSION stats['storage_protocol'] = 'iSCSI' stats['total_capacity_gb'] = 'unknown' stats['free_capacity_gb'] = 'unknown' stats['reserved_percentage'] = 0 stats['QoS_support'] = False # this gives the stats for the pool being used in QuantaStor pool = {} # TODO(need to figure out a way to call this less often) pool = self.qs_pool_get() if pool._size is not None: stats['total_capacity_gb'] = int(self.b_to_gb_size(pool._size)) if pool._freeSpace is not None: stats['free_capacity_gb'] = int(self.b_to_gb_size(pool._freeSpace)) self._stats = stats def get_volume_stats(self, refresh=False): if refresh: self._update_volume_stats() return self._stats def extend_volume(self, volume, new_size): """"""Extend an Existing Volume."""""" self.logMessage(""Extending volume"") out = self.client.storage_extend_volume(volume['name'], self.configuration.qs_pool_id, \ self.gb_to_b_size(new_size)) qs_vol = out._id if qs_vol is None: exception_message = _( ""Error: Failed to get volume information"") raise exception.VolumeBackendAPIException(data=exception_message) if str(out._size) != str(self.gb_to_b_size(new_size)): exception_message = _(""Error: Failed to extend volume"") raise exception.VolumeBackendAPIException(data=exception_message) self.logMessage(""Volume was successfully extended"") return @classmethod def logMessage(cls, message): try: if os.path.exists(""/var/log/qs_cinder.log""): f = open('/var/log/qs_cinder.log', 'a') f.write('{%s, adt_quantastor} %s\n' % (time.ctime(), message)) except Exception: pass LOG.debug(""adt_quantastor: "" + str(message)) return message @classmethod def gb_to_b_size(cls, size_gb): return str(int(size_gb) * 1024 * 1024 * 1024) @classmethod def b_to_gb_size(cls, size_b): return str(int(size_b) / 1024 / 1024 / 1024) def qs_vol_get(self, vol_name): self.logMessage(""volume get"") vol = self.client.storage_volume_get(vol_name) if vol._id is None: exception_message = _(""Error: Failed to load volume information"") raise exception.VolumeBackendAPIException(data=exception_message) return vol def qs_pool_get(self): self.logMessage(""pool get"") pool = self.client.storage_pool_get(self.configuration.qs_pool_id) if pool is None or pool._id is None: exception_message = _( ""Error: Failed to load QuantaStor pool information"") raise exception.VolumeBackendAPIException(data=exception_message) return pool def qs_sys_get(self): self.logMessage(""system get"") sys = self.client.storage_system_noflag_get() if sys is None or sys._id is None: exception_message = _( ""Error: Failed to load QuantaStor system information"") raise exception.VolumeBackendAPIException(data=exception_message) return sys ",,1232,0
openstack%2Fcinder~master~I0a54b7f386ccdb8c319a401ad0471cd286230338,openstack/cinder,master,I0a54b7f386ccdb8c319a401ad0471cd286230338,Use trusts for cinder backup per_user mode.,NEW,2021-04-08 09:58:38.000000000,2022-05-02 14:31:24.000000000,,"[{'_account_id': 5314}, {'_account_id': 16137}, {'_account_id': 16186}, {'_account_id': 20104}, {'_account_id': 22348}, {'_account_id': 30615}]","[{'number': 1, 'created': '2021-04-08 09:58:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/76ecc616a1874291f291bc709cf2672a77f71b9e', 'message': 'Use trusts for cinder backup per_user mode.\n\nCinder backup per_user mode, provides auth_token for swift connection.\nThis token used by swift for keystonemiddleware authentication during\nupload. Large size volume takes more time for backup than the token\nexpiration and hence backup fails. Instead of using auth_token,\nuse trusts (if auth_version is 3) which will allow to continue\nthe upload after token expiration since new token is provided before\nthe expiry of earlier token. Delete trusts during close connection\n(by default it expires after 24 hours).\n\nCloses-Bug: #1298135\nChange-Id: I0a54b7f386ccdb8c319a401ad0471cd286230338\n'}, {'number': 2, 'created': '2021-05-25 04:20:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/21a52d153cab5c65f4ca0784909b281bc38c621a', 'message': 'Use trusts for cinder backup per_user mode.\n\nCinder backup per_user mode, provides auth_token for swift connection.\nThis token used by swift for keystonemiddleware authentication during\nupload. Large size volume takes more time for backup than the token\nexpiration and hence backup fails. Instead of using auth_token,\nuse trusts (if auth_version is 3) which will allow to continue\nthe upload after token expiration since new token is provided before\nthe expiry of earlier token. Delete trusts during close connection\n(by default it expires after 24 hours).\n\nCloses-Bug: #1298135\nChange-Id: I0a54b7f386ccdb8c319a401ad0471cd286230338\n'}, {'number': 3, 'created': '2022-01-07 18:27:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/7071e639d6ee09a408c3477c0ac7a14cb9ac9b4c', 'message': 'Use trusts for cinder backup per_user mode.\n\nCinder backup per_user mode, provides auth_token for swift connection.\nThis token used by swift for keystonemiddleware authentication during\nupload. Large size volume takes more time for backup than the token\nexpiration and hence backup fails. Instead of using auth_token,\nuse trusts (if auth_version is 3) which will allow to continue\nthe upload after token expiration since new token is provided before\nthe expiry of earlier token. Delete trusts during close connection\n(by default it expires after 24 hours).\n\nCloses-Bug: #1298135\nChange-Id: I0a54b7f386ccdb8c319a401ad0471cd286230338\n'}, {'number': 4, 'created': '2022-04-13 13:48:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/24be3073da5b478d2a6d4436f7552ee4a04a7faf', 'message': 'Use trusts for cinder backup per_user mode.\n\nCinder backup per_user mode, provides auth_token for swift connection.\nThis token used by swift for keystonemiddleware authentication during\nupload. Large size volume takes more time for backup than the token\nexpiration and hence backup fails. Instead of using auth_token,\nuse trusts (if auth_version is 3) which will allow to continue\nthe upload after token expiration since new token is provided before\nthe expiry of earlier token. Delete trusts during close connection\n(by default it expires after 24 hours).\n\nCloses-Bug: #1298135\nChange-Id: I0a54b7f386ccdb8c319a401ad0471cd286230338\n'}, {'number': 5, 'created': '2022-04-13 17:40:34.000000000', 'files': ['cinder/backup/drivers/s3.py', 'cinder/backup/drivers/swift.py', 'cinder/backup/drivers/gcs.py', 'cinder/tests/unit/backup/test_chunkeddriver.py', 'cinder/interface/backup_chunked_driver.py', 'cinder/backup/drivers/posix.py', 'cinder/tests/unit/backup/drivers/test_backup_swift.py', 'cinder/backup/chunkeddriver.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/946679dd4926b7d2535a2ec4dd89d6f2c6802c4c', 'message': 'Use trusts for cinder backup per_user mode.\n\nCinder backup per_user mode, provides auth_token for swift connection.\nThis token used by swift for keystonemiddleware authentication during\nupload. Large size volume takes more time for backup than the token\nexpiration and hence backup fails. Instead of using auth_token,\nuse trusts (if auth_version is 3) which will allow to continue\nthe upload after token expiration since new token is provided before\nthe expiry of earlier token. Delete trusts during close connection\n(by default it expires after 24 hours).\n\nCloses-Bug: #1298135\nChange-Id: I0a54b7f386ccdb8c319a401ad0471cd286230338\n'}]",2,785362,946679dd4926b7d2535a2ec4dd89d6f2c6802c4c,121,6,5,32919,,,0,"Use trusts for cinder backup per_user mode.

Cinder backup per_user mode, provides auth_token for swift connection.
This token used by swift for keystonemiddleware authentication during
upload. Large size volume takes more time for backup than the token
expiration and hence backup fails. Instead of using auth_token,
use trusts (if auth_version is 3) which will allow to continue
the upload after token expiration since new token is provided before
the expiry of earlier token. Delete trusts during close connection
(by default it expires after 24 hours).

Closes-Bug: #1298135
Change-Id: I0a54b7f386ccdb8c319a401ad0471cd286230338
",git fetch https://review.opendev.org/openstack/cinder refs/changes/62/785362/3 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/backup/drivers/s3.py', 'cinder/backup/drivers/swift.py', 'cinder/backup/drivers/gcs.py', 'cinder/tests/unit/backup/test_chunkeddriver.py', 'cinder/interface/backup_chunked_driver.py', 'cinder/backup/drivers/posix.py', 'cinder/tests/unit/backup/drivers/test_backup_swift.py', 'cinder/backup/chunkeddriver.py']",8,76ecc616a1874291f291bc709cf2672a77f71b9e,bug/1298135," self.close_connection() self.close_connection() self.close_connection() self.close_connection() self.close_connection() @abc.abstractmethod def close_connection(self): """"""Close the connection."""""" return",,341,90
openstack%2Fmonasca-notification~master~Idc88314ead611a6bea4dba9115b0aed9e551bb87,openstack/monasca-notification,master,Idc88314ead611a6bea4dba9115b0aed9e551bb87,Drop lower-constraints.txt and its testing,MERGED,2022-05-02 13:35:32.000000000,2022-05-02 14:23:41.000000000,2022-05-02 14:21:24.000000000,"[{'_account_id': 22348}, {'_account_id': 28062}]","[{'number': 1, 'created': '2022-05-02 13:35:32.000000000', 'files': ['requirements.txt', '.zuul.yaml', 'lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/monasca-notification/commit/5225304a268fbd7e5edc30ab6d2b0cbf3b92b565', 'message': 'Drop lower-constraints.txt and its testing\n\nAs discussed in TC PTG[1] and TC resolution[2], we are\ndropping the lower-constraints.txt file and its testing.\nWe will keep lower bounds in the requirements.txt file but\nwith a note that these are not tested lower bounds and we\ntry our best to keep them updated.\n\n[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326\n[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal\n\nChange-Id: Idc88314ead611a6bea4dba9115b0aed9e551bb87\n'}]",0,840183,5225304a268fbd7e5edc30ab6d2b0cbf3b92b565,7,2,1,28062,,,0,"Drop lower-constraints.txt and its testing

As discussed in TC PTG[1] and TC resolution[2], we are
dropping the lower-constraints.txt file and its testing.
We will keep lower bounds in the requirements.txt file but
with a note that these are not tested lower bounds and we
try our best to keep them updated.

[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326
[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal

Change-Id: Idc88314ead611a6bea4dba9115b0aed9e551bb87
",git fetch https://review.opendev.org/openstack/monasca-notification refs/changes/83/840183/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', '.zuul.yaml', 'lower-constraints.txt', 'tox.ini']",4,5225304a268fbd7e5edc30ab6d2b0cbf3b92b565,drop-l-c,,[testenv:lower-constraints] deps = -c{toxinidir}/lower-constraints.txt -r{toxinidir}/test-requirements.txt -r{toxinidir}/requirements.txt .[jira_plugin] ,4,77
openstack%2Fmonasca-api~stable%2Fyoga~Ibd8664001aa3960f3994340cfd31683d8514a280,openstack/monasca-api,stable/yoga,Ibd8664001aa3960f3994340cfd31683d8514a280,Drop lower-constraints.txt and its testing,MERGED,2022-05-02 12:11:47.000000000,2022-05-02 14:03:50.000000000,2022-05-02 14:01:05.000000000,"[{'_account_id': 22348}, {'_account_id': 28062}]","[{'number': 1, 'created': '2022-05-02 12:11:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/0e7f5636c37265c88c59dad4b16a3b63ce51e603', 'message': 'Drop lower-constraints.txt and its testing\n\nAs discussed in TC PTG[1] and TC resolution[2], we are\ndropping the lower-constraints.txt file and its testing.\nWe will keep lower bounds in the requirements.txt file but\nwith a note that these are not tested lower bounds and we\ntry our best to keep them updated.\n\n[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326\n[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal\n\nChange-Id: Ibd8664001aa3960f3994340cfd31683d8514a280\n(cherry picked from commit 658c68b593a4d83f59143dc6c7df81860d3f57cb)\n'}, {'number': 2, 'created': '2022-05-02 12:12:33.000000000', 'files': ['requirements.txt', '.zuul.yaml', 'lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/0b7851cab47c8e7484e3ce669c5d485bd180c504', 'message': 'Drop lower-constraints.txt and its testing\n\nAs discussed in TC PTG[1] and TC resolution[2], we are\ndropping the lower-constraints.txt file and its testing.\nWe will keep lower bounds in the requirements.txt file but\nwith a note that these are not tested lower bounds and we\ntry our best to keep them updated.\n\n[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326\n[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal\n\nChange-Id: Ibd8664001aa3960f3994340cfd31683d8514a280\n(cherry picked from commit 658c68b593a4d83f59143dc6c7df81860d3f57cb)\n'}]",0,840191,0b7851cab47c8e7484e3ce669c5d485bd180c504,12,2,2,28062,,,0,"Drop lower-constraints.txt and its testing

As discussed in TC PTG[1] and TC resolution[2], we are
dropping the lower-constraints.txt file and its testing.
We will keep lower bounds in the requirements.txt file but
with a note that these are not tested lower bounds and we
try our best to keep them updated.

[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326
[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal

Change-Id: Ibd8664001aa3960f3994340cfd31683d8514a280
(cherry picked from commit 658c68b593a4d83f59143dc6c7df81860d3f57cb)
",git fetch https://review.opendev.org/openstack/monasca-api refs/changes/91/840191/2 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', '.zuul.yaml', 'lower-constraints.txt', 'tox.ini']",4,0e7f5636c37265c88c59dad4b16a3b63ce51e603,drop-l-c,," [testenv:lower-constraints] deps = -c{toxinidir}/lower-constraints.txt -r{toxinidir}/test-requirements.txt -r{toxinidir}/requirements.txt .[influxdb,cassandra]",8,125
openstack%2Fmonasca-persister~stable%2Fyoga~I710eec1feec922c6b5532dc754ab0fe3e90d3ff8,openstack/monasca-persister,stable/yoga,I710eec1feec922c6b5532dc754ab0fe3e90d3ff8,Drop lower-constraints.txt and its testing,MERGED,2022-05-02 12:00:27.000000000,2022-05-02 14:00:02.000000000,2022-05-02 13:56:44.000000000,"[{'_account_id': 22348}, {'_account_id': 28062}]","[{'number': 1, 'created': '2022-05-02 12:00:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-persister/commit/de19ceb53e3443bf8e139809580dd3a040ce5979', 'message': 'Drop lower-constraints.txt and its testing\n\nAs discussed in TC PTG[1] and TC resolution[2], we are\ndropping the lower-constraints.txt file and its testing.\nWe will keep lower bounds in the requirements.txt file but\nwith a note that these are not tested lower bounds and we\ntry our best to keep them updated.\n\n[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326\n[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal\n\nChange-Id: I710eec1feec922c6b5532dc754ab0fe3e90d3ff8\n(cherry picked from commit 1ea4e21eb231e4fe193e62f1b03b957c9d4281c8)\n'}, {'number': 2, 'created': '2022-05-02 12:03:22.000000000', 'files': ['requirements.txt', '.zuul.yaml', 'lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/monasca-persister/commit/21e6581b44f70bd2464921c389fd44dad10d460f', 'message': 'Drop lower-constraints.txt and its testing\n\nAs discussed in TC PTG[1] and TC resolution[2], we are\ndropping the lower-constraints.txt file and its testing.\nWe will keep lower bounds in the requirements.txt file but\nwith a note that these are not tested lower bounds and we\ntry our best to keep them updated.\n\n[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326\n[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal\n\nChange-Id: I710eec1feec922c6b5532dc754ab0fe3e90d3ff8\n(cherry picked from commit 1ea4e21eb231e4fe193e62f1b03b957c9d4281c8)\n'}]",0,839927,21e6581b44f70bd2464921c389fd44dad10d460f,12,2,2,28062,,,0,"Drop lower-constraints.txt and its testing

As discussed in TC PTG[1] and TC resolution[2], we are
dropping the lower-constraints.txt file and its testing.
We will keep lower bounds in the requirements.txt file but
with a note that these are not tested lower bounds and we
try our best to keep them updated.

[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326
[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal

Change-Id: I710eec1feec922c6b5532dc754ab0fe3e90d3ff8
(cherry picked from commit 1ea4e21eb231e4fe193e62f1b03b957c9d4281c8)
",git fetch https://review.opendev.org/openstack/monasca-persister refs/changes/27/839927/2 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', '.zuul.yaml', 'lower-constraints.txt', 'tox.ini']",4,de19ceb53e3443bf8e139809580dd3a040ce5979,drop-l-c,,"[testenv:lower-constraints] basepython = python3 deps = -c{toxinidir}/lower-constraints.txt .[influxdb,cassandra,elasticsearch] -r{toxinidir}/test-requirements.txt -r{toxinidir}/requirements.txt ",8,70
openstack%2Fneutron~stable%2Fyoga~I80b0616c335134a564361137b2a00ff86dcbdf1c,openstack/neutron,stable/yoga,I80b0616c335134a564361137b2a00ff86dcbdf1c,[API] Return 403 for POST requests when user is not authorized,MERGED,2022-04-13 06:00:47.000000000,2022-05-02 13:53:52.000000000,2022-05-02 13:52:26.000000000,"[{'_account_id': 8313}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-13 06:00:47.000000000', 'files': ['neutron/tests/functional/pecan_wsgi/test_hooks.py', 'neutron/pecan_wsgi/hooks/policy_enforcement.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/a36300a68b0af208bc5feb88613aa3fba4d76254', 'message': '[API] Return 403 for POST requests when user is not authorized\n\nIn the policy_enforcement module if policy.enforce() will raise\nPolicyNotAuthorized exception, there is additional check if user is\ntrying to modify own or someone else resource. In case when user is not\nallowed to show resource even, error 404 is raised to ""hide"" any\ninformation about requested resource.\nBut that was also the case for POST (create resource) requests and 404\nerror when user is trying e.g. create network is confusing.\nSo this patch modifies that logic and in case of ""create_"" actions it\nwill return 403 if user was not authorized to do such operation.\n\nCloses-Bug: #1965294\nChange-Id: I80b0616c335134a564361137b2a00ff86dcbdf1c\n(cherry picked from commit 60bc6c7a992383cecaf7dcf425668a6ea92b151b)\n'}]",10,837487,a36300a68b0af208bc5feb88613aa3fba4d76254,54,3,1,11975,,,0,"[API] Return 403 for POST requests when user is not authorized

In the policy_enforcement module if policy.enforce() will raise
PolicyNotAuthorized exception, there is additional check if user is
trying to modify own or someone else resource. In case when user is not
allowed to show resource even, error 404 is raised to ""hide"" any
information about requested resource.
But that was also the case for POST (create resource) requests and 404
error when user is trying e.g. create network is confusing.
So this patch modifies that logic and in case of ""create_"" actions it
will return 403 if user was not authorized to do such operation.

Closes-Bug: #1965294
Change-Id: I80b0616c335134a564361137b2a00ff86dcbdf1c
(cherry picked from commit 60bc6c7a992383cecaf7dcf425668a6ea92b151b)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/87/837487/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/functional/pecan_wsgi/test_hooks.py', 'neutron/pecan_wsgi/hooks/policy_enforcement.py']",2,a36300a68b0af208bc5feb88613aa3fba4d76254,bug/1965294-stable/yoga," controller = utils.get_controller(state) # It is also safe to return 403 if it's POST (CREATE) # request. c_action = controller.plugin_handlers[controller.CREATE] if (action != c_action and not policy.check(neutron_context, s_action, item, pluralized=collection)):"," controller = utils.get_controller(state) if not policy.check(neutron_context, s_action, item, pluralized=collection):",36,4
openstack%2Fneutron-tempest-plugin~master~I94ef549f49284e00775c4c26a7b01e529d8fb449,openstack/neutron-tempest-plugin,master,I94ef549f49284e00775c4c26a7b01e529d8fb449,[bgpvpn] Remove _create_network & _log_console_output,MERGED,2022-04-12 07:28:55.000000000,2022-05-02 13:52:30.000000000,2022-05-02 13:52:30.000000000,"[{'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-12 07:28:55.000000000', 'files': ['neutron_tempest_plugin/bgpvpn/scenario/manager.py', 'neutron_tempest_plugin/bgpvpn/scenario/test_bgpvpn_basic.py'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/763567e3b4ca4ce29f7c42eace1e6815b4c59b83', 'message': '[bgpvpn] Remove _create_network & _log_console_output\n\nAs tempest.scenario.manager was announced stable interface in Tempest\n27.0.0[1] it can be now reused in plugins.\n\nRemoved methods:\n    * _create_network\n    * _log_console_output\n\nEtherpad concerning this effort:\nhttps://etherpad.opendev.org/p/tempest-scenario-manager-cleanup\n\n[1] https://docs.openstack.org/releasenotes/tempest/v27.0.0.html#release-notes-27-0-0\n\nChange-Id: I94ef549f49284e00775c4c26a7b01e529d8fb449\n'}]",1,837495,763567e3b4ca4ce29f7c42eace1e6815b4c59b83,12,3,1,33732,,,0,"[bgpvpn] Remove _create_network & _log_console_output

As tempest.scenario.manager was announced stable interface in Tempest
27.0.0[1] it can be now reused in plugins.

Removed methods:
    * _create_network
    * _log_console_output

Etherpad concerning this effort:
https://etherpad.opendev.org/p/tempest-scenario-manager-cleanup

[1] https://docs.openstack.org/releasenotes/tempest/v27.0.0.html#release-notes-27-0-0

Change-Id: I94ef549f49284e00775c4c26a7b01e529d8fb449
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/95/837495/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_tempest_plugin/bgpvpn/scenario/manager.py', 'neutron_tempest_plugin/bgpvpn/scenario/test_bgpvpn_basic.py']",2,763567e3b4ca4ce29f7c42eace1e6815b4c59b83,tempest-scenario-manager-cleanup," network = super(manager.NetworkScenarioTest, self).create_network(namestart=name, port_security_enabled=port_security)"," network = self._create_network( namestart=name, port_security_enabled=port_security)",4,43
openstack%2Fkolla-ansible~master~I7e5c1e20c7b66b64cbd333f669ef8d8da60daaa8,openstack/kolla-ansible,master,I7e5c1e20c7b66b64cbd333f669ef8d8da60daaa8,Adds prometheus_scrape_interval,MERGED,2022-02-11 18:39:57.000000000,2022-05-02 13:49:26.000000000,2022-04-21 16:55:35.000000000,"[{'_account_id': 782}, {'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 17669}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-02-11 18:39:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/59594e0b6ab88c15036f36c694ce183b69c784d4', 'message': 'Adds prometheus_scrape_interval\n\nGrafana requires the scrape interval to be set to be able to compute\n$__rate_interval. The default is 15s which does not match the kolla\ndefault of 60s. The symptom of not setting this is that you will see\n""no data"" when zooming graphs that use rate queries. This occurs as the\ninterval will be set to a period shorter than the scrape interval.\nThe recommendation is that you use a common scrape interval for all\njobs. See:\n\n- https://grafana.com/blog/2020/09/28/new-in-grafana-7.2-__rate_interval-for-prometheus-rate-queries-that-just-work/\n- https://stackoverflow.com/questions/66369969/set-scrape-interval-in-provisioned-prometheus-data-source-in-grafana\n\nChange-Id: I7e5c1e20c7b66b64cbd333f669ef8d8da60daaa8\n'}, {'number': 2, 'created': '2022-02-14 11:11:04.000000000', 'files': ['doc/source/reference/logging-and-monitoring/prometheus-guide.rst', 'ansible/group_vars/all.yml', 'ansible/roles/grafana/templates/prometheus.yaml.j2', 'ansible/roles/prometheus/templates/prometheus.yml.j2', 'releasenotes/notes/adds-prometheus-scrape-interval-89b791f93413d070.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/033db44f1c4e1a009625811f64d03a2b1ceec28c', 'message': 'Adds prometheus_scrape_interval\n\nGrafana requires the scrape interval to be set to be able to compute\n$__rate_interval. The default is 15s which does not match the kolla\ndefault of 60s. The symptom of not setting this is that you will see\n""no data"" when zooming graphs that use rate queries. This occurs as the\ninterval will be set to a period shorter than the scrape interval.\nThe recommendation is that you use a common scrape interval for all\njobs. See:\n\n- https://grafana.com/blog/2020/09/28/new-in-grafana-7.2-__rate_interval-for-prometheus-rate-queries-that-just-work/\n- https://stackoverflow.com/questions/66369969/set-scrape-interval-in-provisioned-prometheus-data-source-in-grafana\n\nChange-Id: I7e5c1e20c7b66b64cbd333f669ef8d8da60daaa8\n'}]",11,828916,033db44f1c4e1a009625811f64d03a2b1ceec28c,20,6,2,28048,,,0,"Adds prometheus_scrape_interval

Grafana requires the scrape interval to be set to be able to compute
$__rate_interval. The default is 15s which does not match the kolla
default of 60s. The symptom of not setting this is that you will see
""no data"" when zooming graphs that use rate queries. This occurs as the
interval will be set to a period shorter than the scrape interval.
The recommendation is that you use a common scrape interval for all
jobs. See:

- https://grafana.com/blog/2020/09/28/new-in-grafana-7.2-__rate_interval-for-prometheus-rate-queries-that-just-work/
- https://stackoverflow.com/questions/66369969/set-scrape-interval-in-provisioned-prometheus-data-source-in-grafana

Change-Id: I7e5c1e20c7b66b64cbd333f669ef8d8da60daaa8
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/16/828916/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/reference/logging-and-monitoring/prometheus-guide.rst', 'ansible/group_vars/all.yml', 'ansible/roles/grafana/templates/prometheus.yaml.j2', 'releasenotes/notes/adds-prometheus-scrape-interval-89b791f93413d070.yaml']",4,59594e0b6ab88c15036f36c694ce183b69c784d4,,--- features: - | Adds the ``prometheus_scrape_interval`` configuration option. The default is set to ``60s``. This configures the default scrape interval for all jobs. fixes: - | The scrape interval for the prometheus data source in grafana is now to set to ``prometheus_scrape_interval``. This fixes issues with dashboards that use the ``$__rate_interval`` grafana variable as the default scrape interval of 60s does not match the grafana default of 15s. ,,31,2
openstack%2Ftripleo-ci~master~I68fcf53c095ca667834a605c393a00c9d9cb8ca7,openstack/tripleo-ci,master,I68fcf53c095ca667834a605c393a00c9d9cb8ca7,Added standalone-upgrade distro jobs.,MERGED,2022-04-14 05:09:03.000000000,2022-05-02 13:30:21.000000000,2022-05-02 13:30:21.000000000,"[{'_account_id': 8449}, {'_account_id': 9976}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30002}]","[{'number': 1, 'created': '2022-04-14 05:09:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/fceefad432e58b5ae9a0495bc8db0972eb923140', 'message': 'Added standalone-upgrade distro jobs.\n\nThis patch adds standalone upgrade distro jobs\n- tripleo-ci-standalone-upgrade-centos-8\n- tripleo-ci-standalone-upgrade-centos-9\n\nThis jobs will be consumed by:\n- tripleo-ci-centos-8-standalone-upgrade-victoria\n- tripleo-ci-centos-8-standalone-upgrade-ussuri\n\nParenting dependency changed from\ntripleo-ci-base-standalone-upgrade-centos-8 to\ntripleo-ci-standalone-upgrade-centos-8\n\nSigned-off-by: Amol Kahat <amolkahat@gmail.com>\nChange-Id: I68fcf53c095ca667834a605c393a00c9d9cb8ca7\n'}, {'number': 2, 'created': '2022-04-20 08:54:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/6f6d6b0d2366e3107cd351d0264f9cf9b348e07a', 'message': 'Added standalone-upgrade distro jobs.\n\nThis patch adds standalone upgrade distro jobs\n- tripleo-ci-standalone-upgrade-centos-8\n- tripleo-ci-standalone-upgrade-centos-9\n\nThis jobs will be consumed by:\n- tripleo-ci-centos-8-standalone-upgrade-victoria\n\nParenting dependency changed from\ntripleo-ci-base-standalone-upgrade-centos-8 to\ntripleo-ci-standalone-upgrade-centos-8\n\nSigned-off-by: Amol Kahat <amolkahat@gmail.com>\nChange-Id: I68fcf53c095ca667834a605c393a00c9d9cb8ca7\n'}, {'number': 3, 'created': '2022-04-25 04:42:26.000000000', 'files': ['zuul.d/standalone-jobs.yaml', 'zuul.d/upgrades-jobs-templates.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/9ff8b7d56f612f7eca83a1117fac07600989c221', 'message': 'Added standalone-upgrade distro jobs.\n\nThis patch adds standalone upgrade distro jobs\n- tripleo-ci-standalone-upgrade-centos-8\n- tripleo-ci-standalone-upgrade-centos-9\n\nThis jobs will be consumed by:\n- tripleo-ci-centos-8-standalone-upgrade-victoria\n\nParenting dependency changed from\ntripleo-ci-base-standalone-upgrade-centos-8 to\ntripleo-ci-standalone-upgrade-centos-8\n\nSigned-off-by: Amol Kahat <amolkahat@gmail.com>\nChange-Id: I68fcf53c095ca667834a605c393a00c9d9cb8ca7\n'}]",9,837820,9ff8b7d56f612f7eca83a1117fac07600989c221,22,6,3,30750,,,0,"Added standalone-upgrade distro jobs.

This patch adds standalone upgrade distro jobs
- tripleo-ci-standalone-upgrade-centos-8
- tripleo-ci-standalone-upgrade-centos-9

This jobs will be consumed by:
- tripleo-ci-centos-8-standalone-upgrade-victoria

Parenting dependency changed from
tripleo-ci-base-standalone-upgrade-centos-8 to
tripleo-ci-standalone-upgrade-centos-8

Signed-off-by: Amol Kahat <amolkahat@gmail.com>
Change-Id: I68fcf53c095ca667834a605c393a00c9d9cb8ca7
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/20/837820/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/standalone-jobs.yaml', 'zuul.d/upgrades-jobs-templates.yaml']",2,fceefad432e58b5ae9a0495bc8db0972eb923140,cs-parenting-standalone-upgrade, parent: tripleo-ci-standalone-upgrade-centos-8 parent: tripleo-ci-standalone-upgrade-centos-8, parent: tripleo-ci-base-standalone-upgrade-centos-8 parent: tripleo-ci-base-standalone-upgrade-centos-8,18,2
openstack%2Fneutron-lib~master~I67453b5a0e6d41d5cb4ef0cbb47f955a448005eb,openstack/neutron-lib,master,I67453b5a0e6d41d5cb4ef0cbb47f955a448005eb,Drop lower-constraints.txt and its testing,MERGED,2022-05-01 01:29:48.000000000,2022-05-02 13:29:48.000000000,2022-05-02 13:27:30.000000000,"[{'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-01 01:29:48.000000000', 'files': ['requirements.txt', '.zuul.yaml', 'lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/daaa1e79b53af6ef601c056cb2030091f7bb9c88', 'message': 'Drop lower-constraints.txt and its testing\n\nAs discussed in TC PTG[1] and TC resolution[2], we are\ndropping the lower-constraints.txt file and its testing.\nWe will keep lower bounds in the requirements.txt file but\nwith a note that these are not tested lower bounds and we\ntry our best to keep them updated.\n\n[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326\n[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal\n\nChange-Id: I67453b5a0e6d41d5cb4ef0cbb47f955a448005eb\n'}]",0,840099,daaa1e79b53af6ef601c056cb2030091f7bb9c88,8,3,1,8556,,,0,"Drop lower-constraints.txt and its testing

As discussed in TC PTG[1] and TC resolution[2], we are
dropping the lower-constraints.txt file and its testing.
We will keep lower bounds in the requirements.txt file but
with a note that these are not tested lower bounds and we
try our best to keep them updated.

[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326
[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal

Change-Id: I67453b5a0e6d41d5cb4ef0cbb47f955a448005eb
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/99/840099/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', '.zuul.yaml', 'lower-constraints.txt', 'tox.ini']",4,daaa1e79b53af6ef601c056cb2030091f7bb9c88,drop-l-c,, [testenv:lower-constraints] deps = -c{toxinidir}/lower-constraints.txt -r{toxinidir}/test-requirements.txt -r{toxinidir}/requirements.txt,4,108
openstack%2Fneutron~stable%2Ftrain~Ic8f6472fe708d12f8fc129729465367083e1095a,openstack/neutron,stable/train,Ic8f6472fe708d12f8fc129729465367083e1095a,Docs build: Add requirements.txt to deps,MERGED,2022-04-29 14:24:25.000000000,2022-05-02 13:21:51.000000000,2022-05-02 13:20:31.000000000,"[{'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-29 14:24:25.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/neutron/commit/5eb6c6fef28fc9f4f6cb20098ff24a228298f805', 'message': ""Docs build: Add requirements.txt to deps\n\nSince we use usedevelop=True, as a result neutron\ninstallation happens at 'develop-inst' phase and it installs\nrequirements from requirements.txt without considering\ntox constraints, This can lead to issue where broken\nrequirements are installed in docs job and as a result\nit will fail.\n\nIn order to get constraints be considered for this case, add\nrequirements.txt to deps for docs env.\n\nAlso squashed below commit:-\n\nDocs build: Add NOTE to not remove requirements.txt\n\nTo avoid unintentionally remove requirements.txt\nfrom deps list from docs env, add a NOTE.\n\nChange-Id: I6ec150a8f31bf841f1c8829719a0f08df531e53a\n(cherry picked from commit 2a8187124b104c32eea5d7730b187897b504f5b9)\n\nChange-Id: Ic8f6472fe708d12f8fc129729465367083e1095a\n(cherry picked from commit f15baf16dd18969efb94719798f5d4a731b0c4fd)\n(cherry picked from commit 83a3c19eb71de0f3137d52932a7940d4547f44dd)\n""}]",1,839915,5eb6c6fef28fc9f4f6cb20098ff24a228298f805,10,4,1,13861,,,0,"Docs build: Add requirements.txt to deps

Since we use usedevelop=True, as a result neutron
installation happens at 'develop-inst' phase and it installs
requirements from requirements.txt without considering
tox constraints, This can lead to issue where broken
requirements are installed in docs job and as a result
it will fail.

In order to get constraints be considered for this case, add
requirements.txt to deps for docs env.

Also squashed below commit:-

Docs build: Add NOTE to not remove requirements.txt

To avoid unintentionally remove requirements.txt
from deps list from docs env, add a NOTE.

Change-Id: I6ec150a8f31bf841f1c8829719a0f08df531e53a
(cherry picked from commit 2a8187124b104c32eea5d7730b187897b504f5b9)

Change-Id: Ic8f6472fe708d12f8fc129729465367083e1095a
(cherry picked from commit f15baf16dd18969efb94719798f5d4a731b0c4fd)
(cherry picked from commit 83a3c19eb71de0f3137d52932a7940d4547f44dd)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/15/839915/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,5eb6c6fef28fc9f4f6cb20098ff24a228298f805,fix-docs-use-uc-stable/xena-stable/wallaby-stable/victoria-stable/ussuri-stable/train,# Do not remove requirements.txt from deps list as without it # upper constraints will not be used for deps listed in requirements.txt # and may cause issues,,3,0
openstack%2Fpython-monascaclient~stable%2Fyoga~I4c4ec3ef3f6016206cab1ae697985eaef8e95293,openstack/python-monascaclient,stable/yoga,I4c4ec3ef3f6016206cab1ae697985eaef8e95293,Drop lower-constraints.txt and its testing,MERGED,2022-05-02 12:06:50.000000000,2022-05-02 13:17:43.000000000,2022-05-02 13:15:04.000000000,"[{'_account_id': 22348}, {'_account_id': 28062}]","[{'number': 1, 'created': '2022-05-02 12:06:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-monascaclient/commit/4bf0e6484b54a5b80aeabf9be7e45e6ac3f38f66', 'message': 'Drop lower-constraints.txt and its testing\n\nAs discussed in TC PTG[1] and TC resolution[2], we are\ndropping the lower-constraints.txt file and its testing.\nWe will keep lower bounds in the requirements.txt file but\nwith a note that these are not tested lower bounds and we\ntry our best to keep them updated.\n\n[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326\n[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal\n\nChange-Id: I4c4ec3ef3f6016206cab1ae697985eaef8e95293\n(cherry picked from commit bb7d4b67cb1435eb2ac9c4161ad27b072c920d57)\n'}, {'number': 2, 'created': '2022-05-02 12:07:40.000000000', 'files': ['requirements.txt', '.zuul.yaml', 'lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/python-monascaclient/commit/40e2692569187fcfe04e30e451ba4886c1636261', 'message': 'Drop lower-constraints.txt and its testing\n\nAs discussed in TC PTG[1] and TC resolution[2], we are\ndropping the lower-constraints.txt file and its testing.\nWe will keep lower bounds in the requirements.txt file but\nwith a note that these are not tested lower bounds and we\ntry our best to keep them updated.\n\n[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326\n[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal\n\nChange-Id: I4c4ec3ef3f6016206cab1ae697985eaef8e95293\n(cherry picked from commit bb7d4b67cb1435eb2ac9c4161ad27b072c920d57)\n'}]",0,839928,40e2692569187fcfe04e30e451ba4886c1636261,12,2,2,28062,,,0,"Drop lower-constraints.txt and its testing

As discussed in TC PTG[1] and TC resolution[2], we are
dropping the lower-constraints.txt file and its testing.
We will keep lower bounds in the requirements.txt file but
with a note that these are not tested lower bounds and we
try our best to keep them updated.

[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326
[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal

Change-Id: I4c4ec3ef3f6016206cab1ae697985eaef8e95293
(cherry picked from commit bb7d4b67cb1435eb2ac9c4161ad27b072c920d57)
",git fetch https://review.opendev.org/openstack/python-monascaclient refs/changes/28/839928/2 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', '.zuul.yaml', 'lower-constraints.txt', 'tox.ini']",4,4bf0e6484b54a5b80aeabf9be7e45e6ac3f38f66,drop-l-c,, [testenv:lower-constraints] deps = -c{toxinidir}/lower-constraints.txt -r{toxinidir}/test-requirements.txt -r{toxinidir}/requirements.txt,8,78
openstack%2Fpython-tripleoclient~stable%2Ftrain~Idcab9a34ae7b5f20702d9a616173dd25d3894751,openstack/python-tripleoclient,stable/train,Idcab9a34ae7b5f20702d9a616173dd25d3894751,Remove tripleo-build-containers-jobs template from zuul layout,MERGED,2022-04-28 09:18:27.000000000,2022-05-02 13:14:00.000000000,2022-05-02 13:10:06.000000000,"[{'_account_id': 9976}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 28223}]","[{'number': 1, 'created': '2022-04-28 09:18:27.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/a87f0597cbd7b799193fc09b338fe5230b4303b9', 'message': 'Remove tripleo-build-containers-jobs template from zuul layout\n\nThis removes tripleo-build-containers-jobs as this only contains\ncentos-7 jobs [1] and they are being removed with [2].\n\n[1] https://opendev.org/openstack/tripleo-ci/src/commit/15761b77d91ab3e398f6fa1d10d2f5da267b7931/zuul.d/build-containers.yaml#L119-L127\n[2] I70d2e5dbe995bc8dfe06817d6460f3f2f3732e7e\n\nChange-Id: Idcab9a34ae7b5f20702d9a616173dd25d3894751\n'}]",0,839669,a87f0597cbd7b799193fc09b338fe5230b4303b9,10,4,1,8449,,,0,"Remove tripleo-build-containers-jobs template from zuul layout

This removes tripleo-build-containers-jobs as this only contains
centos-7 jobs [1] and they are being removed with [2].

[1] https://opendev.org/openstack/tripleo-ci/src/commit/15761b77d91ab3e398f6fa1d10d2f5da267b7931/zuul.d/build-containers.yaml#L119-L127
[2] I70d2e5dbe995bc8dfe06817d6460f3f2f3732e7e

Change-Id: Idcab9a34ae7b5f20702d9a616173dd25d3894751
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/69/839669/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,a87f0597cbd7b799193fc09b338fe5230b4303b9,ooo_c7_teardown,, - tripleo-build-containers-jobs,0,1
openstack%2Fmonasca-ui~stable%2Fyoga~Id1033264dea1d8b72ee49e33cc776d5dac6193b9,openstack/monasca-ui,stable/yoga,Id1033264dea1d8b72ee49e33cc776d5dac6193b9,Drop lower-constraints.txt and its testing,MERGED,2022-05-02 12:10:33.000000000,2022-05-02 13:13:48.000000000,2022-05-02 13:13:48.000000000,"[{'_account_id': 22348}, {'_account_id': 28062}]","[{'number': 1, 'created': '2022-05-02 12:10:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-ui/commit/039936f09718e75ca5a996e0bcf2d2f09a4605d9', 'message': 'Drop lower-constraints.txt and its testing\n\nAs discussed in TC PTG[1] and TC resolution[2], we are\ndropping the lower-constraints.txt file and its testing.\nWe will keep lower bounds in the requirements.txt file but\nwith a note that these are not tested lower bounds and we\ntry our best to keep them updated.\n\n[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326\n[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal\n\nChange-Id: Id1033264dea1d8b72ee49e33cc776d5dac6193b9\n(cherry picked from commit d791f72d3fe5abea7c318fceee6453d842165552)\n'}, {'number': 2, 'created': '2022-05-02 12:10:58.000000000', 'files': ['requirements.txt', '.zuul.yaml', 'lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/monasca-ui/commit/999262be05b5b1230b39778b63d192cee7508502', 'message': 'Drop lower-constraints.txt and its testing\n\nAs discussed in TC PTG[1] and TC resolution[2], we are\ndropping the lower-constraints.txt file and its testing.\nWe will keep lower bounds in the requirements.txt file but\nwith a note that these are not tested lower bounds and we\ntry our best to keep them updated.\n\n[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326\n[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal\n\nChange-Id: Id1033264dea1d8b72ee49e33cc776d5dac6193b9\n(cherry picked from commit d791f72d3fe5abea7c318fceee6453d842165552)\n'}]",0,840190,999262be05b5b1230b39778b63d192cee7508502,10,2,2,28062,,,0,"Drop lower-constraints.txt and its testing

As discussed in TC PTG[1] and TC resolution[2], we are
dropping the lower-constraints.txt file and its testing.
We will keep lower bounds in the requirements.txt file but
with a note that these are not tested lower bounds and we
try our best to keep them updated.

[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326
[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal

Change-Id: Id1033264dea1d8b72ee49e33cc776d5dac6193b9
(cherry picked from commit d791f72d3fe5abea7c318fceee6453d842165552)
",git fetch https://review.opendev.org/openstack/monasca-ui refs/changes/90/840190/2 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', '.zuul.yaml', 'lower-constraints.txt', 'tox.ini']",4,039936f09718e75ca5a996e0bcf2d2f09a4605d9,drop-l-c,, [testenv:lower-constraints] deps = -c{toxinidir}/lower-constraints.txt -r{toxinidir}/test-requirements.txt -r{toxinidir}/requirements.txt,8,151
openstack%2Fpython-tripleoclient~stable%2Fvictoria~Idcab9a34ae7b5f20702d9a616173dd25d3894751,openstack/python-tripleoclient,stable/victoria,Idcab9a34ae7b5f20702d9a616173dd25d3894751,Remove tripleo-build-containers-jobs template from zuul layout,MERGED,2022-04-28 09:18:13.000000000,2022-05-02 13:13:36.000000000,2022-05-02 13:10:05.000000000,"[{'_account_id': 9976}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 28223}]","[{'number': 1, 'created': '2022-04-28 09:18:13.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/b5a2fd95a9d66d7058aad398a658d141e1c0e9c4', 'message': 'Remove tripleo-build-containers-jobs template from zuul layout\n\nThis removes tripleo-build-containers-jobs as this only contains\ncentos-7 jobs [1] and they are being removed with [2].\n\n[1] https://opendev.org/openstack/tripleo-ci/src/commit/15761b77d91ab3e398f6fa1d10d2f5da267b7931/zuul.d/build-containers.yaml#L119-L127\n[2] I70d2e5dbe995bc8dfe06817d6460f3f2f3732e7e\n\nChange-Id: Idcab9a34ae7b5f20702d9a616173dd25d3894751\n'}]",0,839668,b5a2fd95a9d66d7058aad398a658d141e1c0e9c4,10,4,1,8449,,,0,"Remove tripleo-build-containers-jobs template from zuul layout

This removes tripleo-build-containers-jobs as this only contains
centos-7 jobs [1] and they are being removed with [2].

[1] https://opendev.org/openstack/tripleo-ci/src/commit/15761b77d91ab3e398f6fa1d10d2f5da267b7931/zuul.d/build-containers.yaml#L119-L127
[2] I70d2e5dbe995bc8dfe06817d6460f3f2f3732e7e

Change-Id: Idcab9a34ae7b5f20702d9a616173dd25d3894751
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/68/839668/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,b5a2fd95a9d66d7058aad398a658d141e1c0e9c4,ooo_c7_teardown,, - tripleo-build-containers-jobs,0,1
openstack%2Fpython-neutronclient~master~I9a985c439675dc3aa6120a0d9734b8cdeaedccf8,openstack/python-neutronclient,master,I9a985c439675dc3aa6120a0d9734b8cdeaedccf8,Drop lower-constraints.txt and its testing,MERGED,2022-05-01 01:28:29.000000000,2022-05-02 13:13:29.000000000,2022-05-02 13:10:00.000000000,"[{'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-01 01:28:29.000000000', 'files': ['requirements.txt', '.zuul.yaml', 'lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/143db0177acbd5606c34980b865e81f05413a47e', 'message': 'Drop lower-constraints.txt and its testing\n\nAs discussed in TC PTG[1] and TC resolution[2], we are\ndropping the lower-constraints.txt file and its testing.\nWe will keep lower bounds in the requirements.txt file but\nwith a note that these are not tested lower bounds and we\ntry our best to keep them updated.\n\n[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326\n[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal\n\nChange-Id: I9a985c439675dc3aa6120a0d9734b8cdeaedccf8\n'}]",1,840092,143db0177acbd5606c34980b865e81f05413a47e,8,3,1,8556,,,0,"Drop lower-constraints.txt and its testing

As discussed in TC PTG[1] and TC resolution[2], we are
dropping the lower-constraints.txt file and its testing.
We will keep lower bounds in the requirements.txt file but
with a note that these are not tested lower bounds and we
try our best to keep them updated.

[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326
[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal

Change-Id: I9a985c439675dc3aa6120a0d9734b8cdeaedccf8
",git fetch https://review.opendev.org/openstack/python-neutronclient refs/changes/92/840092/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', '.zuul.yaml', 'lower-constraints.txt', 'tox.ini']",4,143db0177acbd5606c34980b865e81f05413a47e,drop-l-c,, [testenv:lower-constraints] deps = -c{toxinidir}/lower-constraints.txt -r{toxinidir}/test-requirements.txt -r{toxinidir}/requirements.txt,4,118
openstack%2Fmonasca-statsd~stable%2Fyoga~Ic3dfafb8fc15caf650f9ffcb5307b8d124b9c405,openstack/monasca-statsd,stable/yoga,Ic3dfafb8fc15caf650f9ffcb5307b8d124b9c405,Drop lower-constraints.txt and its testing,MERGED,2022-05-02 12:08:47.000000000,2022-05-02 13:07:09.000000000,2022-05-02 13:07:09.000000000,"[{'_account_id': 22348}, {'_account_id': 28062}]","[{'number': 1, 'created': '2022-05-02 12:08:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-statsd/commit/c8340f42b9ddd79b459f8e051263a094ab76f90b', 'message': 'Drop lower-constraints.txt and its testing\n\nAs discussed in TC PTG[1] and TC resolution[2], we are\ndropping the lower-constraints.txt file and its testing.\nWe will keep lower bounds in the requirements.txt file but\nwith a note that these are not tested lower bounds and we\ntry our best to keep them updated.\n\n[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326\n[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal\n\nChange-Id: Ic3dfafb8fc15caf650f9ffcb5307b8d124b9c405\n(cherry picked from commit ca8dfbd871a8f8004a3a91e55cbb5f68920c2306)\n'}, {'number': 2, 'created': '2022-05-02 12:09:54.000000000', 'files': ['requirements.txt', '.zuul.yaml', 'lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/monasca-statsd/commit/df8f364730bb5b42e317b8454eaeabe291715b94', 'message': 'Drop lower-constraints.txt and its testing\n\nAs discussed in TC PTG[1] and TC resolution[2], we are\ndropping the lower-constraints.txt file and its testing.\nWe will keep lower bounds in the requirements.txt file but\nwith a note that these are not tested lower bounds and we\ntry our best to keep them updated.\n\n[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326\n[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal\n\nChange-Id: Ic3dfafb8fc15caf650f9ffcb5307b8d124b9c405\n(cherry picked from commit ca8dfbd871a8f8004a3a91e55cbb5f68920c2306)\n'}]",0,839929,df8f364730bb5b42e317b8454eaeabe291715b94,11,2,2,28062,,,0,"Drop lower-constraints.txt and its testing

As discussed in TC PTG[1] and TC resolution[2], we are
dropping the lower-constraints.txt file and its testing.
We will keep lower bounds in the requirements.txt file but
with a note that these are not tested lower bounds and we
try our best to keep them updated.

[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326
[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal

Change-Id: Ic3dfafb8fc15caf650f9ffcb5307b8d124b9c405
(cherry picked from commit ca8dfbd871a8f8004a3a91e55cbb5f68920c2306)
",git fetch https://review.opendev.org/openstack/monasca-statsd refs/changes/29/839929/2 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', '.zuul.yaml', 'lower-constraints.txt', 'tox.ini']",4,c8340f42b9ddd79b459f8e051263a094ab76f90b,drop-l-c,, [testenv:lower-constraints] deps = -c{toxinidir}/lower-constraints.txt -r{toxinidir}/test-requirements.txt -r{toxinidir}/requirements.txt,8,50
openstack%2Fpython-tripleoclient~stable%2Fwallaby~Idcab9a34ae7b5f20702d9a616173dd25d3894751,openstack/python-tripleoclient,stable/wallaby,Idcab9a34ae7b5f20702d9a616173dd25d3894751,Remove tripleo-build-containers-jobs template from zuul layout,MERGED,2022-04-28 09:18:02.000000000,2022-05-02 12:49:45.000000000,2022-05-02 12:46:02.000000000,"[{'_account_id': 9976}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 28223}]","[{'number': 1, 'created': '2022-04-28 09:18:02.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/c55016c739311ccaacb9370fe7010c63fe0d9aa4', 'message': 'Remove tripleo-build-containers-jobs template from zuul layout\n\nThis removes tripleo-build-containers-jobs as this only contains\ncentos-7 jobs [1] and they are being removed with [2].\n\n[1] https://opendev.org/openstack/tripleo-ci/src/commit/15761b77d91ab3e398f6fa1d10d2f5da267b7931/zuul.d/build-containers.yaml#L119-L127\n[2] I70d2e5dbe995bc8dfe06817d6460f3f2f3732e7e\n\nChange-Id: Idcab9a34ae7b5f20702d9a616173dd25d3894751\n'}]",0,839667,c55016c739311ccaacb9370fe7010c63fe0d9aa4,10,4,1,8449,,,0,"Remove tripleo-build-containers-jobs template from zuul layout

This removes tripleo-build-containers-jobs as this only contains
centos-7 jobs [1] and they are being removed with [2].

[1] https://opendev.org/openstack/tripleo-ci/src/commit/15761b77d91ab3e398f6fa1d10d2f5da267b7931/zuul.d/build-containers.yaml#L119-L127
[2] I70d2e5dbe995bc8dfe06817d6460f3f2f3732e7e

Change-Id: Idcab9a34ae7b5f20702d9a616173dd25d3894751
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/67/839667/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,c55016c739311ccaacb9370fe7010c63fe0d9aa4,ooo_c7_teardown,, - tripleo-build-containers-jobs,0,1
openstack%2Ftripleo-common~stable%2Fvictoria~I19d8f1c0b9f6d4cfe8cbf98e86cea51c76ff369b,openstack/tripleo-common,stable/victoria,I19d8f1c0b9f6d4cfe8cbf98e86cea51c76ff369b,Remove tripleo-build-containers-jobs template from zuul layout,MERGED,2022-04-27 11:55:50.000000000,2022-05-02 12:49:23.000000000,2022-05-02 12:45:57.000000000,"[{'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 29775}]","[{'number': 1, 'created': '2022-04-27 11:55:50.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/fdd948671523d0207bd5c7f3fff6b749b08b15c8', 'message': 'Remove tripleo-build-containers-jobs template from zuul layout\n\nThis removes tripleo-build-containers-jobs as this only contains\ncentos-7 jobs [1] and they are being removed with [2].\n\n[1] https://opendev.org/openstack/tripleo-ci/src/commit/15761b77d91ab3e398f6fa1d10d2f5da267b7931/zuul.d/build-containers.yaml#L119-L127\n[2] I70d2e5dbe995bc8dfe06817d6460f3f2f3732e7e\n\nChange-Id: I19d8f1c0b9f6d4cfe8cbf98e86cea51c76ff369b\n'}]",1,839532,fdd948671523d0207bd5c7f3fff6b749b08b15c8,9,3,1,8449,,,0,"Remove tripleo-build-containers-jobs template from zuul layout

This removes tripleo-build-containers-jobs as this only contains
centos-7 jobs [1] and they are being removed with [2].

[1] https://opendev.org/openstack/tripleo-ci/src/commit/15761b77d91ab3e398f6fa1d10d2f5da267b7931/zuul.d/build-containers.yaml#L119-L127
[2] I70d2e5dbe995bc8dfe06817d6460f3f2f3732e7e

Change-Id: I19d8f1c0b9f6d4cfe8cbf98e86cea51c76ff369b
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/32/839532/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,fdd948671523d0207bd5c7f3fff6b749b08b15c8,ooo_c7_teardown,, - tripleo-build-containers-jobs,0,1
openstack%2Fpython-tripleoclient~master~Idcab9a34ae7b5f20702d9a616173dd25d3894751,openstack/python-tripleoclient,master,Idcab9a34ae7b5f20702d9a616173dd25d3894751,Remove tripleo-build-containers-jobs template from zuul layout,MERGED,2022-04-28 09:17:03.000000000,2022-05-02 12:49:17.000000000,2022-05-02 12:45:59.000000000,"[{'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 24245}, {'_account_id': 28223}, {'_account_id': 34208}]","[{'number': 1, 'created': '2022-04-28 09:17:03.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/a59dde9a71b6a2938b1a424dedcd1d3f8c1cb650', 'message': 'Remove tripleo-build-containers-jobs template from zuul layout\n\nThis removes tripleo-build-containers-jobs as this only contains\ncentos-7 jobs [1] and they are being removed with [2].\n\n[1] https://opendev.org/openstack/tripleo-ci/src/commit/15761b77d91ab3e398f6fa1d10d2f5da267b7931/zuul.d/build-containers.yaml#L119-L127\n[2] I70d2e5dbe995bc8dfe06817d6460f3f2f3732e7e\n\nChange-Id: Idcab9a34ae7b5f20702d9a616173dd25d3894751\n'}]",0,839710,a59dde9a71b6a2938b1a424dedcd1d3f8c1cb650,11,5,1,8449,,,0,"Remove tripleo-build-containers-jobs template from zuul layout

This removes tripleo-build-containers-jobs as this only contains
centos-7 jobs [1] and they are being removed with [2].

[1] https://opendev.org/openstack/tripleo-ci/src/commit/15761b77d91ab3e398f6fa1d10d2f5da267b7931/zuul.d/build-containers.yaml#L119-L127
[2] I70d2e5dbe995bc8dfe06817d6460f3f2f3732e7e

Change-Id: Idcab9a34ae7b5f20702d9a616173dd25d3894751
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/10/839710/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,a59dde9a71b6a2938b1a424dedcd1d3f8c1cb650,ooo_c7_teardown,, - tripleo-build-containers-jobs,0,1
openstack%2Fansible-collections-openstack~master~I1c0f787f7f67c92f92dd106fc8d55580461e4aa3,openstack/ansible-collections-openstack,master,I1c0f787f7f67c92f92dd106fc8d55580461e4aa3,"Fixed return value disable{d,s}_reason in compute_service_info module",MERGED,2022-05-02 09:49:57.000000000,2022-05-02 12:29:50.000000000,2022-05-02 12:29:50.000000000,"[{'_account_id': 22348}, {'_account_id': 32962}]","[{'number': 1, 'created': '2022-05-02 09:49:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/273cf7d0701c51a9e6d2355a0126642d036c141c', 'message': 'Fixed return value disable{d,s}_reason in compute_service_info module\n\nOpenStack SDK 0.53 renamed parameter disables_reason to disabled_reason in\nopenstack/compute/v2/service.py, hence our module compute_service_info\nwill return different values depending on which release of the OpenStack\nSDK is used.\n\nRef.: https://github.com/openstack/openstacksdk/commit/5450c4525313581b2ebc0e1ab6ac6252964c595f\n\nChange-Id: I1c0f787f7f67c92f92dd106fc8d55580461e4aa3\n'}, {'number': 2, 'created': '2022-05-02 09:51:17.000000000', 'files': ['ci/roles/nova_services/tasks/main.yml', 'plugins/modules/compute_service_info.py'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/cf5007d478d0d90b487654373572ceb30d8178a8', 'message': 'Fixed return value disable{d,s}_reason in compute_service_info module\n\nOpenStack SDK 0.53 renamed parameter disables_reason to disabled_reason\nin openstack/compute/v2/service.py, hence our compute_service_info\nmodule will return different values depending on which release of\nthe OpenStack SDK is used.\n\nRef.: https://github.com/openstack/openstacksdk/commit/5450c4525313581b2ebc0e1ab6ac6252964c595f\n\nChange-Id: I1c0f787f7f67c92f92dd106fc8d55580461e4aa3\n'}]",0,840168,cf5007d478d0d90b487654373572ceb30d8178a8,7,2,2,32962,,,0,"Fixed return value disable{d,s}_reason in compute_service_info module

OpenStack SDK 0.53 renamed parameter disables_reason to disabled_reason
in openstack/compute/v2/service.py, hence our compute_service_info
module will return different values depending on which release of
the OpenStack SDK is used.

Ref.: https://github.com/openstack/openstacksdk/commit/5450c4525313581b2ebc0e1ab6ac6252964c595f

Change-Id: I1c0f787f7f67c92f92dd106fc8d55580461e4aa3
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/68/840168/1 && git format-patch -1 --stdout FETCH_HEAD,"['ci/roles/nova_services/tasks/main.yml', 'plugins/modules/compute_service_info.py']",2,273cf7d0701c51a9e6d2355a0126642d036c141c,fix_fields_on_victoria, returned: success and OpenStack SDK >= 0.53 type: str disables_reason: description: The reason why the service is disabled returned: success and OpenStack SDK < 0.53, returned: success,15,2
openstack%2Fironic~stable%2Fyoga~Ifb12822e40afd2f68eb5a2091c9258013f3dccae,openstack/ironic,stable/yoga,Ifb12822e40afd2f68eb5a2091c9258013f3dccae,[iRMC] Change the way to get irmc-info in raid,MERGED,2022-04-28 01:31:22.000000000,2022-05-02 12:01:16.000000000,2022-05-02 11:59:27.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 32029}]","[{'number': 1, 'created': '2022-04-28 01:31:22.000000000', 'files': ['releasenotes/notes/irmc-change-the-way-to-get-irmc-info-in-raid-8ef5f5f60d1f534a.yaml', 'ironic/tests/unit/drivers/modules/irmc/test_raid.py', 'ironic/drivers/modules/irmc/raid.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/93a993d0265457c14c91bd7f058fcb5a86c6fd07', 'message': '[iRMC] Change the way to get irmc-info in raid\n\nWhen using the node managed by the `irmc` hardware type,\nif the port number of the bmc address is manually specified,\nthe following error will occur when configuring raid:\n\n```\n%d format: a number is required, not str\n```\n\nChange raid to call parse_driver_info to get irmc_info,\nso that irmc-port can be converted to int type to avoid this error.\n\nStory: #2010009\nTask: #45151\n\nSigned-off-by: Zhou Hao <zhouhao@fujitsu.com>\nChange-Id: Ifb12822e40afd2f68eb5a2091c9258013f3dccae\n'}]",5,839675,93a993d0265457c14c91bd7f058fcb5a86c6fd07,25,4,1,33828,,,0,"[iRMC] Change the way to get irmc-info in raid

When using the node managed by the `irmc` hardware type,
if the port number of the bmc address is manually specified,
the following error will occur when configuring raid:

```
%d format: a number is required, not str
```

Change raid to call parse_driver_info to get irmc_info,
so that irmc-port can be converted to int type to avoid this error.

Story: #2010009
Task: #45151

Signed-off-by: Zhou Hao <zhouhao@fujitsu.com>
Change-Id: Ifb12822e40afd2f68eb5a2091c9258013f3dccae
",git fetch https://review.opendev.org/openstack/ironic refs/changes/75/839675/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/irmc-change-the-way-to-get-irmc-info-in-raid-8ef5f5f60d1f534a.yaml', 'ironic/tests/unit/drivers/modules/irmc/test_raid.py', 'ironic/drivers/modules/irmc/raid.py']",3,93a993d0265457c14c91bd7f058fcb5a86c6fd07,, irmc_info = irmc_common.parse_driver_info(node) irmc_info = irmc_common.parse_driver_info(node) irmc_info = irmc_common.parse_driver_info(node), irmc_info = node.driver_info irmc_info = node.driver_info irmc_info = node.driver_info,10,4
openstack%2Fblazar~master~I24fd4700d59b30e4e5b3fed6c892a4f8ade7bb47,openstack/blazar,master,I24fd4700d59b30e4e5b3fed6c892a4f8ade7bb47,Drop lower-constraints.txt and its testing,MERGED,2022-04-30 20:58:06.000000000,2022-05-02 11:58:00.000000000,2022-05-02 11:55:12.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-30 20:58:06.000000000', 'files': ['requirements.txt', '.zuul.yaml', 'lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/blazar/commit/7d47b5347b60f6419aeacdeffe10642ffc1d9362', 'message': 'Drop lower-constraints.txt and its testing\n\nAs discussed in TC PTG[1] and TC resolution[2], we are\ndropping the lower-constraints.txt file and its testing.\nWe will keep lower bounds in the requirements.txt file but\nwith a note that these are not tested lower bounds and we\ntry our best to keep them updated.\n\n[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326\n[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal\n\nChange-Id: I24fd4700d59b30e4e5b3fed6c892a4f8ade7bb47\n'}]",2,840035,7d47b5347b60f6419aeacdeffe10642ffc1d9362,11,2,1,8556,,,0,"Drop lower-constraints.txt and its testing

As discussed in TC PTG[1] and TC resolution[2], we are
dropping the lower-constraints.txt file and its testing.
We will keep lower bounds in the requirements.txt file but
with a note that these are not tested lower bounds and we
try our best to keep them updated.

[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326
[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal

Change-Id: I24fd4700d59b30e4e5b3fed6c892a4f8ade7bb47
",git fetch https://review.opendev.org/openstack/blazar refs/changes/35/840035/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', '.zuul.yaml', 'lower-constraints.txt', 'tox.ini']",4,7d47b5347b60f6419aeacdeffe10642ffc1d9362,drop-l-c,,[testenv:lower-constraints] deps = -c{toxinidir}/lower-constraints.txt -r{toxinidir}/requirements.txt -r{toxinidir}/test-requirements.txt ,4,123
openstack%2Fneutron~master~I6bdf4798864bf82a93cf8e21b153a03210dae256,openstack/neutron,master,I6bdf4798864bf82a93cf8e21b153a03210dae256,Imported Translations from Zanata,MERGED,2022-04-15 03:34:52.000000000,2022-05-02 11:53:27.000000000,2022-05-02 11:51:40.000000000,"[{'_account_id': 841}, {'_account_id': 1131}, {'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-15 03:34:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9f79f5db59bf53e33a68c4992d176ab3651acc5d', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I6bdf4798864bf82a93cf8e21b153a03210dae256\n'}, {'number': 2, 'created': '2022-04-16 03:25:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c305c7ea371c49a547127bc0bea459541b04239e', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I6bdf4798864bf82a93cf8e21b153a03210dae256\n'}, {'number': 3, 'created': '2022-04-20 03:39:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/63ac78aa72cc6018b723555d537591536813acd3', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I6bdf4798864bf82a93cf8e21b153a03210dae256\n'}, {'number': 4, 'created': '2022-04-21 03:26:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/14ca840cbb0909a39fe5cc11fa6a749e3e64a3a0', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I6bdf4798864bf82a93cf8e21b153a03210dae256\n'}, {'number': 5, 'created': '2022-04-22 03:36:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2dad8190dc5276807fb7e407fdae5653a459866c', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I6bdf4798864bf82a93cf8e21b153a03210dae256\n'}, {'number': 6, 'created': '2022-04-23 03:30:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8c28b1638a4b803487cee8838d4683b95c39e615', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I6bdf4798864bf82a93cf8e21b153a03210dae256\n'}, {'number': 7, 'created': '2022-04-26 04:05:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f468467fa3e6809e70ccedce6424724440289125', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I6bdf4798864bf82a93cf8e21b153a03210dae256\n'}, {'number': 8, 'created': '2022-04-28 03:35:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b10ac42051fe535bcf4477ac9fe5c9e9adb3562f', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I6bdf4798864bf82a93cf8e21b153a03210dae256\n'}, {'number': 9, 'created': '2022-04-30 03:45:21.000000000', 'files': ['neutron/locale/ja/LC_MESSAGES/neutron.po', 'neutron/locale/pt_BR/LC_MESSAGES/neutron.po', 'neutron/locale/it/LC_MESSAGES/neutron.po', 'neutron/locale/ko_KR/LC_MESSAGES/neutron.po', 'neutron/locale/es/LC_MESSAGES/neutron.po', 'releasenotes/source/locale/ko_KR/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po', 'neutron/locale/de/LC_MESSAGES/neutron.po', 'neutron/locale/fr/LC_MESSAGES/neutron.po', 'neutron/locale/zh_TW/LC_MESSAGES/neutron.po', 'releasenotes/source/locale/fr/LC_MESSAGES/releasenotes.po', 'neutron/locale/zh_CN/LC_MESSAGES/neutron.po', 'neutron/locale/ru/LC_MESSAGES/neutron.po'], 'web_link': 'https://opendev.org/openstack/neutron/commit/c4677e1b3c06553699dbc0e299bbc1d4b7b846e2', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I6bdf4798864bf82a93cf8e21b153a03210dae256\n'}]",0,838078,c4677e1b3c06553699dbc0e299bbc1d4b7b846e2,42,6,9,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I6bdf4798864bf82a93cf8e21b153a03210dae256
",git fetch https://review.opendev.org/openstack/neutron refs/changes/78/838078/7 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/locale/ja/LC_MESSAGES/neutron.po', 'neutron/locale/pt_BR/LC_MESSAGES/neutron.po', 'neutron/locale/it/LC_MESSAGES/neutron.po', 'neutron/locale/ko_KR/LC_MESSAGES/neutron.po', 'neutron/locale/es/LC_MESSAGES/neutron.po', 'releasenotes/source/locale/ko_KR/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po', 'neutron/locale/de/LC_MESSAGES/neutron.po', 'neutron/locale/fr/LC_MESSAGES/neutron.po', 'neutron/locale/zh_TW/LC_MESSAGES/neutron.po', 'releasenotes/source/locale/fr/LC_MESSAGES/releasenotes.po', 'neutron/locale/zh_CN/LC_MESSAGES/neutron.po', 'neutron/locale/ru/LC_MESSAGES/neutron.po']",13,9f79f5db59bf53e33a68c4992d176ab3651acc5d,zanata/translations,"""POT-Creation-Date: 2022-04-14 09:52+0000\n""#, python-format msgid """" ""Requested subnet with cidr: %(cidr)s for network: %(network_id)s overlaps "" ""with another subnet"" msgstr """" ""Запрошенная подсеть с cidr %(cidr)s для сети %(network_id)s перекрывается с "" ""другой сетью"" ","""POT-Creation-Date: 2020-10-10 20:44+0000\n""""\n"" ""Command: %(cmd)s\n"" ""Exit code: %(code)s\n"" ""Stdin: %(stdin)s\n"" ""Stdout: %(stdout)s\n"" ""Stderr: %(stderr)s"" msgstr """" ""\n"" ""Команда: %(cmd)s\n"" ""Код выхода: %(code)s\n"" ""Stdin: %(stdin)s\n"" ""Stdout: %(stdout)s\n"" ""Stderr: %(stderr)s"" #, python-format msgid """"msgid ""Access to this resource was denied."" msgstr ""Доступ к этому ресурсу запрещен."" ""Geneve VNI IDs that are available for tenant network allocation"" msgstr """" ""Разделенный запятой список кортежей <vni_min>:<vni_max>, в котором "" ""перечислены ИД VNI Geneve, доступные для выделения сети арендатора"" msgid """" ""Comma-separated list of <vni_min>:<vni_max> tuples enumerating ranges of ""msgid ""Deleting port %s"" msgstr ""Удаление порта %s"" #, python-formatmsgid ""Error while reading %s"" msgstr ""Ошибка при чтении %s"" #, python-format""List of <physical_network>:<vlan_min>:<vlan_max> or <physical_network> "" ""specifying physical_network names usable for VLAN provider and tenant "" ""networks, as well as ranges of VLAN tags on each available for allocation to "" ""tenant networks."" msgstr """" ""Список <physical_network>:<vlan_min>:<vlan_max> или <physical_network>, "" ""содержащий имена физических сетей, которые могут использоваться для сетей "" ""VLAN провайдера и арендатора, а также диапазоны тегов VLAN для каждой сети, "" ""доступной для выделения арендаторам."" msgid """"msgid ""Only admin is authorized to access quotas for another tenant"" msgstr ""Только администратор имеет доступ к квотам других арендаторов"" msgid ""Only remote_ip_prefix or remote_group_id may be provided."" msgstr ""Можно задать только remote_ip_prefix или remote_group_id."" msgid ""Unable to access %s"" msgstr ""Ошибка доступа к %s"" #, python-format#, python-format msgid ""Unable to convert value in %s"" msgstr ""Невозможно преобразовать значение в %s"" msgid ""Unable to find IP address %(ip_address)s on subnet %(subnet_id)s"" msgstr ""Не удалось найти IP-адрес %(ip_address)s в подсети %(subnet_id)s"" #, python-format""Use veths instead of patch ports to interconnect the integration bridge to "" ""physical networks. Support kernel without Open vSwitch patch port support so "" ""long as it is set to True."" msgstr """" ""Использовать интерфейсы veth вместо коммутационных портов для связи моста "" ""интеграции с физическими мостами. Если параметр равен True, то может "" ""использоваться ядро без поддержки коммутационных портов Open vSwitch."" msgid """"",98,950
openstack%2Fopenstack-tempest-skiplist~master~Ief0ac2188543f013fca4b9861311559924626247,openstack/openstack-tempest-skiplist,master,Ief0ac2188543f013fca4b9861311559924626247,Adds failing victoria test,NEW,2022-04-28 11:23:19.000000000,2022-05-02 11:40:31.000000000,,"[{'_account_id': 8449}, {'_account_id': 9976}, {'_account_id': 22348}, {'_account_id': 30002}]","[{'number': 1, 'created': '2022-04-28 11:23:19.000000000', 'files': ['roles/validate-tempest/vars/tempest_skip.yml'], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/30caae02bc59ef3d509a8783e16fe861d7c2b7ee', 'message': 'Adds failing victoria test\n\nAdds  tempest.scenario.test_network_basic_ops.TestNetworkBasicOps.test_hotplug_nic\nto victoria skiplist.\n\nChange-Id: Ief0ac2188543f013fca4b9861311559924626247\nRelated-Bug: #1970736\n'}]",3,839721,30caae02bc59ef3d509a8783e16fe861d7c2b7ee,6,4,1,20182,,,0,"Adds failing victoria test

Adds  tempest.scenario.test_network_basic_ops.TestNetworkBasicOps.test_hotplug_nic
to victoria skiplist.

Change-Id: Ief0ac2188543f013fca4b9861311559924626247
Related-Bug: #1970736
",git fetch https://review.opendev.org/openstack/openstack-tempest-skiplist refs/changes/21/839721/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/validate-tempest/vars/tempest_skip.yml'],1,30caae02bc59ef3d509a8783e16fe861d7c2b7ee,bug/1970736, - test: 'tempest.scenario.test_network_basic_ops.TestNetworkBasicOps.test_hotplug_nic' deployment: - 'overcloud' releases: - name: victoria reason: Request timed out installers: - 'tripleo' lp: https://bugs.launchpad.net/tripleo/+bug/1970736 jobs: - periodic-tripleo-ci-centos-8-ovb-3ctlr_1comp-featureset035-victoria - periodic-tripleo-ci-centos-8-ovb-3ctlr_1comp-featureset001-victoria,,12,0
openstack%2Fdesignate-dashboard~master~Iaa548fbd1774659217cc75dc90ad008407ed3b7e,openstack/designate-dashboard,master,Iaa548fbd1774659217cc75dc90ad008407ed3b7e,Address RemovedInDjango40Warning,MERGED,2022-04-29 16:31:00.000000000,2022-05-02 11:30:53.000000000,2022-05-02 11:28:39.000000000,"[{'_account_id': 11628}, {'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-29 16:31:00.000000000', 'files': ['designatedashboard/dashboards/project/ngdns/zones/urls.py', 'designatedashboard/dashboards/project/ngdns/reverse_dns/urls.py'], 'web_link': 'https://opendev.org/openstack/designate-dashboard/commit/ca1d0f5cb2b2fcadea952ec25a6e1429d3e5777e', 'message': 'Address RemovedInDjango40Warning\n\nIn Django 3.1, django.conf.urls.url() is deprecated\nin favor of django.urls.re_path(). For more info see [1]\nThese were already replaced in Horizon repo by [2].\n\n[1] https://docs.djangoproject.com/en/4.0/releases/3.1/#id2\n[2] https://review.opendev.org/c/openstack/horizon/+/827093\n\nChange-Id: Iaa548fbd1774659217cc75dc90ad008407ed3b7e\n'}]",1,839969,ca1d0f5cb2b2fcadea952ec25a6e1429d3e5777e,8,3,1,29313,,,0,"Address RemovedInDjango40Warning

In Django 3.1, django.conf.urls.url() is deprecated
in favor of django.urls.re_path(). For more info see [1]
These were already replaced in Horizon repo by [2].

[1] https://docs.djangoproject.com/en/4.0/releases/3.1/#id2
[2] https://review.opendev.org/c/openstack/horizon/+/827093

Change-Id: Iaa548fbd1774659217cc75dc90ad008407ed3b7e
",git fetch https://review.opendev.org/openstack/designate-dashboard refs/changes/69/839969/1 && git format-patch -1 --stdout FETCH_HEAD,"['designatedashboard/dashboards/project/ngdns/zones/urls.py', 'designatedashboard/dashboards/project/ngdns/reverse_dns/urls.py']",2,ca1d0f5cb2b2fcadea952ec25a6e1429d3e5777e,,"from django.urls import re_path re_path('', views.AngularIndexView.as_view(title=title), name='index'),","from django.conf.urls import url url('', views.AngularIndexView.as_view(title=title), name='index'),",4,4
